globals
constant integer D=1
constant integer E=StringHash("AIDummyState")
integer G=0
boolean array J
integer array K
integer array M
integer array N
boolean O=false
boolean P=false
string array Q
boolean array I
timer array A
integer array T
timer array U
integer array V
timer W=null
integer array F
integer B=0
integer C=0
integer array H
integer array L
boolean D4=false
boolean E4=false
boolean O4=false
boolean P4=false
boolean R4=false
multiboard T4=null
unit V4=null
boolean array W4
integer X4=0
boolean Y4=false
boolean A4=false
boolean C4=false
location Z=null
location vv=null
location ev=null
location ov=null
location rv=null
boolean av=false
boolean Ev=false
boolean Ov=false
boolean Rv=false
boolean Av=false
boolean Nv=false
boolean bv=false
boolean Bv=false
boolean cv=false
boolean Cv=false
boolean Dv=false
boolean fv=false
integer D7=0
integer E7=0
location Jv=null
location lv=null
location Lv=null
location mv=null
location pv=null
location qv=null
location Qv=null
location sv=null
location tv=null
location Tv=null
location Uv=null
location Wv=null
location F7=null
location G7=null
unit array M7
integer ae=0
integer ne=0
player array O7
player array P7
integer array S7
integer array T7
integer array U7
unit array W7
integer array Be
force X7=null
force Y7=null
player array Z7
player array A7
player B7=null
player C7=null
boolean ge=false
integer Ge=0
integer he=0
integer array je
hashtable L7=null
player Le=null
unit D8=null
integer E8=0
real F8=0
item array se
item array Se
item array We
item array ze
item array Ze
item array vx
boolean G8=false
integer N8=0
location array O8
unit ox=null
group R8=null
boolean V8=false
boolean AJ=false
boolean W8=false
boolean X8=false
boolean Ox=false
boolean Rx=false
boolean Nx=false
boolean bx=false
string cx=""
boolean Y8=false
integer Z8=0
item jx=null
player lx=null
boolean A8=false
boolean array mx
integer array B8
integer C8=0
force L8=null
boolean D9=false
real E9=0
boolean F9=false
boolean G9=false
boolean O9=false
boolean array P9
string vo=""
boolean array eo
boolean array oo
boolean S9=false
boolean T9=false
trigger U9
integer array V9
integer array W9
integer array X9
weathereffect bo=null
weathereffect Bo=null
boolean Y9=false
location Z9=null
real A9=0
string B9=""
string array C9
rect go=null
rect jo=null
rect lo=null
rect L9=null
rect Qo=null
rect to=null
rect Uo=null
rect wo=null
rect zo=null
rect er=null
rect ED=null
rect ar=null
rect Er=null
rect Xr=null
rect FD=null
rect GD=null
rect HD=null
rect MD=null
rect Br=null
rect cr=null
rect Cr=null
rect fr=null
rect Fr=null
rect Hr=null
rect jr=null
rect Jr=null
rect lr=null
rect mr=null
rect pr=null
rect qr=null
rect ND=null
rect Sr=null
rect Ur=null
rect Wr=null
rect zr=null
rect Zr=null
rect vi=null
rect ei=null
rect xi=null
rect oi=null
rect ai=null
rect OD=null
rect PD=null
rect Ai=null
rect Ni=null
rect bi=null
rect Bi=null
rect QD=null
rect TD=null
rect di=null
rect fi=null
rect Fi=null
rect Gi=null
rect Ji=null
rect li=null
rect Li=null
rect pi=null
rect WD=null
rect XD=null
rect YD=null
rect ZD=null
rect AD=null
rect BD=null
rect LD=null
rect KE=null
rect RE=null
rect SE=null
rect TE=null
rect WE=null
rect YE=null
rect ZE=null
rect EF=null
rect FF=null
rect GF=null
rect HF=null
rect JF=null
rect KF=null
rect MF=null
rect NF=null
rect OF=null
rect PF=null
rect QF=null
rect RF=null
rect SF=null
rect TF=null
rect UF=null
rect WF=null
rect XF=null
rect YF=null
rect ZF=null
rect BF=null
rect CF=null
rect LF=null
rect DG=null
rect EG=null
rect FG=null
rect GG=null
rect JG=null
rect MG=null
rect OG=null
rect PG=null
rect QG=null
rect RG=null
rect SG=null
rect TG=null
rect UG=null
rect VG=null
rect WG=null
rect XG=null
rect ZG=null
rect AG=null
rect BG=null
rect CG=null
rect LG=null
rect DH=null
rect EH=null
rect HH=null
rect OH=null
rect PH=null
rect QH=null
rect RH=null
rect TH=null
rect UH=null
rect WH=null
rect XH=null
rect YH=null
rect ZH=null
rect AH=null
rect CH=null
rect DI=null
rect EI=null
rect GI=null
rect HI=null
rect II=null
rect JI=null
rect NI=null
rect PI=null
rect SI=null
rect TI=null
rect UI=null
rect WI=null
rect XI=null
rect YI=null
rect BI=null
rect CI=null
rect LI=null
rect TJ=null
rect MK=null
rect UK=null
rect YK=null
rect SM=null
rect TM=null
rect UM=null
rect WM=null
rect YM=null
rect ZM=null
rect JN=null
rect MN=null
rect eE=null
rect oE=null
rect aE=null
rect nE=null
rect VE=null
rect EE=null
rect XE=null
rect OE=null
rect IE=null
rect AE=null
rect bE=null
rect BE=null
rect cE=null
rect CE=null
rect dE=null
rect fE=null
rect FE=null
rect gE=null
rect GE=null
rect JE=null
rect lE=null
rect LE=null
rect ME=null
rect pE=null
rect PE=null
rect qE=null
rect QE=null
rect TN=null
rect UN=null
sound yE=null
sound zE=null
sound vX=null
sound WN=null
sound YN=null
sound ZN=null
sound nX=null
sound EX=null
sound OX=null
sound AN=null
sound BN=null
sound bX=null
sound BX=null
sound cX=null
sound CX=null
sound fX=null
sound kX=null
sound LX=null
sound mX=null
sound MX=null
sound PX=null
sound qX=null
sound QX=null
sound tX=null
sound TX=null
sound CN=null
sound UX=null
sound JO=null
sound TO=null
sound oO=null
sound VO=null
sound aO=null
sound YO=null
sound EO=null
sound XO=null
sound OO=null
sound AO=null
sound NO=null
sound bO=null
sound BO=null
sound cO=null
sound CO=null
sound fO=null
sound FO=null
sound gO=null
sound hO=null
sound HO=null
sound kO=null
sound lO=null
sound mO=null
sound pO=null
sound qO=null
sound QO=null
sound tO=null
sound UO=null
sound wO=null
sound WO=null
sound zO=null
sound vR=null
sound eR=null
sound oR=null
sound rR=null
sound aR=null
sound RR=null
sound bR=null
sound BR=null
sound ZO=null
sound CR=null
sound LO=null
sound DP=null
sound hR=null
sound EP=null
sound JR=null
sound lR=null
sound LR=null
sound mR=null
sound pR=null
sound PR=null
sound qR=null
sound QR=null
sound sR=null
sound SR=null
sound UR=null
sound WR=null
sound zR=null
sound GP=null
sound IP=null
sound eI=null
sound oI=null
sound JP=null
sound KP=null
sound RI=null
sound OP=null
string RP="Sound\\Music\\mp3Music\\Undead1.mp3"
string TP="Sound\\Music\\mp3Music\\Undead2.mp3"
string VP="Sound\\Music\\mp3Music\\Undead3.mp3"
string XP="Sound\\Music\\mp3Music\\Orc1.mp3"
string YP="Sound\\Music\\mp3Music\\Orc2.mp3"
string ZP="Sound\\Music\\mp3Music\\Orc3.mp3"
string BP="Sound\\Music\\mp3Music\\NightElf1.mp3"
string CP="Sound\\Music\\mp3Music\\NightElf2.mp3"
string GQ="Sound\\Music\\mp3Music\\NightElf3.mp3"
string IQ="Sound\\Music\\mp3Music\\Human1.mp3"
string JQ="Sound\\Music\\mp3Music\\Human2.mp3"
string YQ="Sound\\Music\\mp3Music\\Human3.mp3"
string GR="Sound\\Music\\mp3Music\\BloodElfTheme.mp3"
string HR="Sound\\Music\\mp3Music\\DarkAgents.mp3"
string IR="Sound\\Music\\mp3Music\\TragicConfrontation.mp3"
string OR="Sound\\Music\\mp3Music\\SadMystery.mp3"
string XR="Sound\\Music\\mp3Music\\IllidansTheme.mp3"
string YR="Sound\\Music\\mp3Music\\PH1.mp3"
trigger ZR=null
trigger DS=null
trigger ES=null
trigger ZI=null
trigger vA=null
trigger eA=null
trigger xA=null
trigger FS=null
trigger VA=null
trigger EA=null
trigger OA=null
trigger RA=null
trigger GS=null
trigger HS=null
trigger JS=null
trigger cA=null
trigger CA=null
trigger dA=null
trigger DA=null
trigger fA=null
trigger FA=null
trigger gA=null
trigger GA=null
trigger LA=null
trigger mA=null
trigger MA=null
trigger PA=null
trigger SA=null
trigger TA=null
trigger KS=null
trigger wA=null
trigger MS=null
trigger OS=null
boolean zA=false
unit vN=null
real YS=0
integer array BS
constant real VN=1
constant real EN=4
constant real XN=4
constant real ON=150
real CS=1.0
boolean bN=false
boolean LS=false
boolean DT=false
integer array ET
real dN
unit DN
unit fN
integer FN
group gN
unit FT
integer IT
integer pN=0
real SN
real tN
unit JT
unit KT
real MT
boolean array OT
integer array vb
boolean array eb
boolean array ob
boolean array ib
boolean array ab
real array nb
integer array PT
boolean array QT
boolean array Ob
boolean array Ab
boolean array Nb
integer bb
integer Bb
integer cb
string array Cb
boolean array db
boolean array RT
boolean array fb
integer Fb=0
boolean gb=true
string array TT
integer UT=0
string Lb
real mb
real array Mb
integer array pb
integer array Qb
integer Tb=1
constant real wb=15
boolean VT=false
boolean WT=false
boolean XT=false
boolean ZT=false
boolean AT=false
boolean BT=false
boolean CT=false
boolean LT=false
boolean EU=false
boolean FU=false
integer array IU
player array JU
integer array MU
integer array NU
constant real OU=55
integer EB=1747990090
real OB
real AB
unit BB
unit cB
group CB=null
string dB=null
real DB
integer fB
unit FB
unit gB
real lB
unit PU
real QU
unit MB
real pB
unit PB
destructable SB=null
unit TB=null
real wB=0
constant real RU=26
constant real yB=550
constant real zB=500
group ZB
unit vc
real ec
integer xc
integer ac
unit nc=null
unit Vc=null
integer array SU
integer array ZU
integer array AU
integer array BU
string array CU
integer array LU
integer array DV
integer EV=0
integer FV
integer JV
integer MV
integer NV
integer OV
integer QV
integer SV
integer TV
integer UV
integer XV
integer AV
integer BV
integer CV
integer LV
integer EW
integer HW
integer NW
integer OW
integer QW
integer RW
integer TW
integer UW
integer VW
integer YW
integer ZW
integer GX
integer NX
integer RX
integer SX
integer WX
integer YX
integer ZX
integer AX
integer GY
integer HY
integer SY
integer UY
integer ZY
integer DZ
integer EZ
integer HZ
integer NZ
integer OZ
integer RZ
integer UZ
integer XZ
integer AZ
integer BZ
integer CZ
integer IA
integer JA
integer NA
integer QA
integer WA
integer YA
integer ZA
integer BA
integer GB
integer JB
integer QB
integer RB
integer VB
integer WB
integer YB
integer LB
integer EC
integer FC
integer GC
integer JC
integer NC
integer OC
integer PC
integer QC
integer TC
integer VC
integer WC
integer XC
integer YC
integer ZC
integer AC
integer BC
integer CC
integer LC
integer H3
integer M3
integer N3
integer R3
integer U3
integer W3
integer Y3
integer Z3
integer B3
integer C3
integer E6
integer F6
integer G6
integer H6
integer N6
integer S6
integer V6
integer W6
integer A6
integer DL
integer HL
integer OL
integer RL
integer WL
integer ZL
integer AL
integer LL
integer D1
integer E1
integer F1
integer H1
integer J1
integer O1
integer P1
integer Q1
integer R1
integer T1
integer U1
integer V1
integer X1
integer A1
integer D0
integer E0
integer J0
integer N0
integer O0
integer R0
integer T0
integer X0
integer Y0
integer B0
integer C0
integer F5
integer G5
integer J5
integer M5
integer N5
integer R5
integer S5
integer T5
integer W5
integer A5
integer B5
integer C5
integer L5
integer E2
integer F2
integer H2
integer P2
integer R2
integer S2
integer T2
integer W2
integer X2
integer Z2
integer D44
integer D74
integer D84
integer D94
integer DD4
integer DE4
integer DF4
integer DG4
integer DH4
integer DI4
integer DJ4
integer DK4
integer DM4
integer DN4
integer DO4
integer DP4
integer DQ4
integer DR4
integer DS4
integer DT4
integer DU4
integer DV4
integer DW4
integer DX4
integer DY4
integer DZ4
integer DA4
integer DB4
integer DC4
integer D34
integer D64
integer DL4
integer D04
integer D54
integer D24
integer D_4
integer E44
integer E74
integer E84
integer E94
integer ED4
integer EE4
integer EF4
integer EG4
integer EH4
integer EI4
integer EJ4
integer EK4
integer EM4
integer EN4
integer EO4
integer EP4
integer EQ4
integer ER4
integer ES4
integer ET4
integer EU4
integer EV4
integer EW4
integer EX4
integer EY4
integer EZ4
integer EA4
integer EB4
integer EC4
integer E34
integer E64
integer EL4
integer E14
integer E04
integer E54
integer E24
integer E_4
integer F44
integer F74
integer F84
integer F94
integer FD4
integer FE4
integer FF4
integer FG4
integer FH4
integer FI4=-1
integer array FJ4
integer array FK4
integer array FM4
integer array FN4
integer array FO4
integer array FP4
integer FQ4=0
integer FR4
integer FS4
integer FT4
integer FU4
integer FV4
integer FW4
integer FX4
integer FY4
integer FZ4
integer FA4
integer FB4
integer FC4
integer F34
integer F64
integer FL4
integer F14
integer F04
integer F54
integer F24
integer F_4
integer G44
integer G74
integer G84
integer G94
integer GD4
integer GE4
integer GG4
integer GH4
integer GI4
integer GJ4
integer GK4
integer GM4
integer GN4
integer GO4
integer GP4
integer GQ4
integer GR4
integer GS4
integer GT4
integer GU4
integer GV4
integer GW4
integer GX4
integer GY4
integer GZ4
integer GA4
integer GB4
integer G34
integer G64
integer GL4
integer G14
integer G04
integer G54
integer G24
player Sh
boolean Th=false
boolean Uh=false
player G_4
unit H44
unit zh
integer array Zh
integer array H74
unit eH
boolean H84=true
boolean oH=false
trigger H94
integer HD4=0
integer HE4=0
integer HF4=0
integer HG4=0
integer HH4=0
integer HI4=0
boolean NH=false
boolexpr bH=null
trigger BH
trigger cH
constant real HJ4=40
integer array dH
integer array HK4
integer FH
integer GH
integer hH
integer jH
integer JH
integer kH
integer lH
integer LH
integer MH
rect pH=null
integer array HM4
integer array HN4
integer array HO4
integer array HP4
integer array HQ4
integer array HR4
integer array HS4
integer array HT4
integer array HU4
integer array HV4
string array HW4
string array HX4
string array HY4
string array HZ4
trigger array rj
trigger array aj
trigger array nj
trigger array Vj
trigger array Ej
trigger array Rj
trigger array Aj
trigger array Nj
boolean array bj
constant boolean Bj=false
item HA4=null
integer HB4=0
integer HC4=0
string Dj="|c00ff0303"
string fj="|c00ff0303"
string gj="|c000042ff"
string Gj="|c00646464"
string Hj="|c00ffffff"
boolean jj=false
boolean Jj=false
boolean lj=false
boolean H34=false
integer array H64
integer array HL4
integer array H14
trigger H04=null
trigger Tj=null
trigger Uj=null
trigger wj=null
trigger zj=null
trigger Zj=null
trigger vJ=null
trigger eJ=null
trigger xJ=null
trigger oJ=null
trigger iJ=null
trigger H54=null
trigger nJ=null
trigger do=null
trigger VJ=null
trigger dq=null
trigger H24=null
trigger dr=null
trigger dR=null
trigger dT=null
trigger du=null
trigger dU=null
trigger dX=null
trigger dY=null
trigger dZ=null
trigger d0=null
trigger H_4=null
trigger I44=null
trigger d3=null
trigger d4=null
trigger d5=null
trigger I74=null
trigger d8=null
trigger d9=null
trigger XJ=null
trigger Dc=null
trigger DC=null
trigger OJ=null
trigger DF=null
trigger RJ=null
trigger IE4=null
trigger Dk=null
trigger DK=null
trigger Dm=null
trigger NJ=null
trigger Do=null
trigger DO=null
trigger Dp=null
trigger DQ=null
unit BJ=null
unit cJ=null
unit CJ=null
unit dJ=null
unit DJ=null
unit fJ=null
unit FJ=null
unit gJ=null
unit GJ=null
unit HJ=null
unit JJ=null
unit lJ=null
unit LJ=null
unit MJ=null
unit PJ=null
unit qJ=null
unit QJ=null
unit SJ=null
unit tJ=null
unit IF4=null
unit UJ=null
unit wJ=null
unit WJ=null
unit yJ=null
unit zJ=null
unit ZJ=null
unit vk=null
unit ek=null
unit xk=null
unit ok=null
unit ik=null
unit ak=null
unit nk=null
unit Vk=null
unit Ek=null
unit Ok=null
unit Rk=null
unit Ak=null
unit Nk=null
unit bk=null
unit Bk=null
unit ck=null
unit Ck=null
unit dk=null
unit fk=null
unit Fk=null
unit gk=null
unit Gk=null
unit jk=null
unit Jk=null
unit lk=null
unit Lk=null
unit pk=null
unit Pk=null
unit qk=null
unit Qk=null
unit Sk=null
unit tk=null
unit Uk=null
unit wk=null
unit Wk=null
unit yk=null
unit zk=null
unit vK=null
unit eK=null
unit xK=null
unit aK=null
unit VK=null
unit EK=null
unit XK=null
unit OK=null
unit AK=null
unit NK=null
unit bK=null
unit BK=null
unit cK=null
unit CK=null
unit dK=null
unit fK=null
unit FK=null
unit gK=null
unit GK=null
unit JK=null
unit lK=null
unit LK=null
unit PK=null
unit qK=null
unit QK=null
unit SK=null
unit TK=null
unit wK=null
unit WK=null
unit zK=null
unit ZK=null
unit vl=null
unit el=null
unit xl=null
unit ol=null
unit rl=null
unit al=null
unit Vl=null
unit El=null
unit Xl=null
unit Ol=null
unit Rl=null
unit Al=null
unit Nl=null
unit bl=null
unit Bl=null
unit cl=null
unit Cl=null
unit dl=null
unit array fl
unit array Fl
unit array gl
integer Hl=0
trigger array Dx
real array DX
integer Dy=0
boolean array IG4
real array Jl
integer array ll
integer array Ll
integer Ml=0
string array Pl
integer array ql
integer Ql=0
integer sl=0
integer IH4
integer tl
integer Tl
real IJ4
real IK4
real IM4
real Zl
real vL
real eL
unit IN4
unit IP4
trigger eC
group IQ4
group aL
player IR4
boolean EL
string IS4
unit IT4=null
region IU4
integer array NL
integer array bL
integer array BL
integer array cL
integer CL=0
gamecache IV4
weathereffect fL
weathereffect FL
rect IW4
constant playercolor gL=ConvertPlayerColor(0)
constant playercolor hL=ConvertPlayerColor(6)
constant playercolor JL=ConvertPlayerColor(12)
real IX4=-7168
real IY4=-7264
real ML=-6816
real PL=-7264
real QL=-7200
real SL=-6752
real tL=-7200
real TL=-6944
real UL=-6560
real wL=-7264
real zL=-6560
real vm=-6560
real em=-6688
real xm=-6496
real om=-6816
real rm=-6496
real im=-6944
real am=-6496
real Vm=-7072
real Em=-6560
real Xm=-7328
real Om=-5984
real Am=-5632
real Nm=-6144
real bm=-6112
real Bm=1568
real cm=-1504
real Cm=-1824
real dm=4960
real fm=-6752
real Fm=-6112
real hm=-1248
real Jm=-3488
real lm=-3296
real Mm=-544
real pm=-6688
real Pm=-6368
real Qm=-4256
real Tm=-4448
real Um=-4960
real wm=-3744
real Wm=-6816
real zm=-5600
real vM=-5728
real eM=-5280
real oM=-6112
real rM=-6080
real iM=-4480
real aM=-4416
real nM=-5312
real VM=-4032
real XM=-7040
real AM=-6656
real bM=-4480
real BM=-4864
real cM=-4992
real dM=-4032
real fM=-6528
real gM=-5792
real hM=-5408
real HM=-6624
real JM=-5088
real kM=-5344
real lM=-3936
real pM=-4832
real sM=-4384
real tM=-3936
real wM=-5216
real zM=-5088
real vp=-5536
real ep=-4896
real op=-6240
real rp=-3616
real ap=-5728
real Vp=-4512
real Ep=-7072
real Xp=-5472
real Rp=-4704
real Ap=-4512
real bp=-5856
real Bp=-6080
real cp=-5120
real Cp=-4544
real dp=-6528
real fp=-6400
real Fp=-5696
real gp=-5248
real Hp=-6848
unit IZ4
unit I34
unit IL4
unit I04
unit I_4
unit J44
unit J74
unit J84
unit J94
unit JD4
unit JE4
unit JF4
unit JG4
unit JH4
unit JI4
unit JJ4
unit JK4
unit JM4
unit JN4
unit JO4
unit JP4
unit JQ4
unit JR4
unit JS4
unit JT4
unit JU4
unit JV4
unit JW4
unit JX4
unit fP
unit FP
unit lP
unit LP
unit MP
unit pP
unit PP
unit qP
unit QP
unit sP
unit tP
unit WP
unit zP
unit vq
unit eq
real JY4=6272
real JZ4=5504
real rq=6464
real iq=5120
real aq=5952
real Eq=5568
real Rq=6080
real Aq=5568
real Nq=6464
real bq=4736
real Bq=5696
real cq=5120
real Cq=5568
real Dq=5248
real fq=5568
real Fq=5376
real Hq=5696
real jq=5504
real Jq=5568
real Mq=5696
real qq=5568
real Qq=5696
real Sq=4992
real tq=4544
real Uq=-4704
real zq=5920
real Zq=1056
real vQ=-160
real eQ=6048
real xQ=-2080
real oQ=32
real iQ=5856
real aQ=2400
real EQ=1696
real OQ=6112
real RQ=-96
real AQ=3168
real NQ=5920
real bQ=3616
real BQ=3296
real cQ=6048
real CQ=2784
real fQ=4640
real FQ=4576
real hQ=5088
real HQ=4192
real lQ=3776
real LQ=5888
real mQ=4096
real MQ=3392
real PQ=6208
real QQ=3264
real SQ=3520
real UQ=5376
real WQ=3776
real zQ=3840
real ZQ=5696
real vs=3264
real es=3168
real os=4000
real rs=4192
real as=5536
real ns=4128
real Vs=4512
real Es=4640
real Xs=3680
real Rs=4832
real As=3104
real Ns=5408
real bs=2592
real Bs=5408
real cs=3296
real Cs=6112
real Ds=4000
real fs=3040
real Fs=5088
real Hs=6304
real js=3744
real Js=6304
real Ks=3744
real ls=3520
real Ls=4608
real ms=4096
real Ms=2624
real ps=4096
real Ps=2624
real Qs=4096
real Ss=2624
unit JA4
unit JB4
unit zs
unit Zs
unit JC4
unit eS
unit oS
unit rS
unit aS
unit nS
unit VS
unit J34
unit J64
unit JL4
unit J14
unit J04
unit J54
unit J24
unit J_4
unit K44
unit K74
unit K84
unit K94
unit KD4
unit KE4
unit KF4
unit KG4
unit KH4
unit KI4
unit PS
unit QS
unit SS
unit tS
unit TS
unit US
unit WS
unit ZS
unit vt
unit et
unit xt
unit ot
unit rt
unit at
unit Vt
unit KJ4
unit KK4
unit KM4
unit KN4
unit KO4
unit KP4
unit KQ4
unit KR4
unit KS4
unit KT4
unit array KU4
real array KV4
real array KW4
player KX4
player KY4
string array KZ4
integer array KA4
integer array KB4
integer array KC4
integer array K34
integer array K64
integer KL4
integer K14
integer K04
integer K54
integer array K24
integer K_4
integer array M44
integer M74
integer array M84
integer M94
integer array MD4
integer ME4
integer array MF4
integer MG4
string array MH4
integer array MI4
string array MJ4
string array MK4
string array MM4
string array MN4
string array MO4
unit MP4
unit MQ4
unit MR4
unit MS4
unit MT4
unit MU4
unit MV4
unit MW4
unit MX4
unit MY4
unit MZ4
unit MA4
integer array MB4
integer MC4=0
boolean M34=false
integer M64=0
trigger ML4
boolean M14=false
trigger M04
trigger M54
trigger M24
real M_4=0
real N44=0
hashtable N74
timer array N84
integer array N94
integer array ND4
multiboard NE4
integer array NF4
integer array NG4
player array NH4
integer NI4=0
string Fx="|c00FF6600"
multiboard NJ4
trigger NK4
unit array NM4
real array NN4
boolean array NO4
integer NP4=0
unit array qu
real array Qu
boolean array Su
integer array NQ4
integer array NR4
integer array NS4
integer array NT4
integer array NU4
integer array NV4
unit NW4=null
boolean NX4=true
integer NY4=1
trigger NZ4
integer NA4=0
integer NB4
integer NC4
integer array N34
integer array N64
integer NL4
integer N14
integer array N04
boolean N54=false
unit N24=null
unit N_4=null
group KU
boolean O44=true
boolean O74=false
boolean O84=false
integer O94
player OD4
trigger OE4=null
trigger OF4=null
integer OG4
integer TU=1093683285
integer vw=1093683288
trigger OH4
region ow
integer array gD
unit array rw
unit OI4=null
unit OJ4
region Ew
integer array Rw
integer OK4=1093742918
integer OM4=1093742917
integer ON4=1093686067
integer OO4=1093742916
integer OP4=1093742919
integer OQ4=1093742920
integer OR4=1093815369
integer OS4=1093742914
integer OT4=1093742913
integer OU4=1093686066
integer OV4=1093742905
integer OW4=1093742915
integer OX4=1093742904
integer OY4=1093815368
integer OZ4=1093682777
unit Mw
group pw
unit qw
unit Qw
boolean tw=false
boolean Uw=false
boolean zw=false
boolean vW=false
boolean eW=false
boolean oW=false
boolean rW=false
boolean iW=false
unit array OA4
timer array gg
integer array FI
boolean OB4=false
real array Fj
integer gi=0
real array OC4
item array O34
integer O64=0
boolean array AW
boolean array OL4
leaderboard array gm
boolean bW=true
weathereffect BW
boolean array cW
boolean array CW
integer dW=0
integer array DW
integer array fW
integer array FW
integer array hW
integer array LW
integer array mW
integer array MW
integer array pW
integer array PW
string O14="No Mode"
unit gr
boolean O04=false
boolean O54=false
boolean Fz=false
integer array O24
constant real O_4=-6950
constant real P44=6750
boolean P74=false
boolean F0=false
boolean P84=false
boolean gH=false
boolean P94=false
integer PD4
boolean PE4=false
boolean oy=true
boolean PF4=false
boolean PG4=false
boolean PH4=false
boolean PI4=false
boolean PJ4=false
boolean Ny=false
boolean PK4=false
boolean PM4=false
unit array PN4
integer Ly=1093742670
integer my=1093686064
integer My=1093742671
integer py=1093742672
real PO4
real PP4
unit PQ4
trigger PR4
integer PS4=1093678422
boolean PT4=false
boolean uy=false
boolean vY=true
boolean Gs=false
boolean PU4=false
boolean PV4=false
boolean GT=false
boolean GU=false
boolean Gv=true
boolean Gw=true
boolean PW4=true
boolean PX4=true
boolean PY4=false
boolean array GZ
boolean array G0
integer G1=0
integer G2=0
integer G3=-1
integer G4=-1
boolean PZ4=true
boolean PA4=true
integer PB4=0
integer PC4=0
integer P34=0
integer P64=0
integer PL4=0
integer P14=0
integer P04=0
integer P54=0
integer P24=4
integer P_4=5
integer Q44=5
integer hD=0
integer hE=0
integer hF=0
integer array hG
integer array eY
integer array hj
integer xY=0
integer oY
integer rY
real aY=0
real VY=0
real EY=0
real XY=0
real OY=0
real IY=0
real AY=0
real bY=0
real BY=0
real cY=0
real CY=0
real DY=0
real fY=0
real FY=0
real JY=0
real kY=0
real lY=0
real mY=0
real MY=0
real PY=0
real QY=0
real sY=0
real tY=0
real TY=0
real uY=0
real wY=0
real YY=0
real vz=0
constant real Q74=90
boolean xz=false
boolean oz=false
boolean rz=false
boolean az=false
boolean nz=false
boolean Vz=false
boolean Ez=false
boolean Xz=false
timer Q84
boolean Q94=false
integer QD4=90
boolean QE4=false
real Bz=0.
real array hq
unit hr=null
unit hS=null
unit hx=null
unit hy=null
unit hz=null
unit hZ=null
unit h0=null
unit array h4
unit array h7
unit array h8
unit array h9
location Ha
location HA
location Hb
location HB
location Hc
location array HC
rect cz=null
real QF4
real QG4
real QH4
real QI4
real QJ4
real QK4
player QM4
rect QN4=null
rect QO4=null
rect QP4=null
rect Cz=null
rect QQ4=null
rect QR4=null
rect QS4=null
rect He=null
player QT4=null
player QU4=null
player QV4=null
player QW4=null
force QX4=CreateForce()
boolean array QY4
trigger HK=CreateTrigger()
trigger QZ4=CreateTrigger()
trigger QA4=CreateTrigger()
trigger Hn=CreateTrigger()
trigger HN=CreateTrigger()
trigger Ho=CreateTrigger()
trigger QB4=CreateTrigger()
trigger QC4=CreateTrigger()
trigger Q34
trigger Q64
trigger QL4
trigger Q14
trigger array Q04
item Hu
destructable H0
group H8=CreateGroup()
group H9=CreateGroup()
group iA=CreateGroup()
group Q54=CreateGroup()
group iC=CreateGroup()
group iE=CreateGroup()
group iF=CreateGroup()
group ig=CreateGroup()
group iG=CreateGroup()
group iH=CreateGroup()
group ii=CreateGroup()
group ij=null
boolexpr Q24=null
boolexpr iL
boolexpr Q_4
boolexpr ip
boolexpr iP
integer R44=StringHash("PBMN|AI")
integer array R74
integer array R84
real Wz=0.
real Yz=0.
group Zz=null
unit vZ
integer R94
unit oZ
unit RD4
unit RE4
unit RF4
group RG4
real VZ
unit RH4
unit RI4
group RJ4
integer array RK4
integer array RM4
integer array RN4
integer array RO4
integer array RP4
integer array RQ4
integer array RR4
integer array RS4
unit RT4
real RU4
unit FZ
real gZ
integer jZ
integer JZ
unit LZ
real mZ
integer MZ
player QZ
unit sZ
integer tZ
player TZ
integer RV4
unit array wZ
integer WZ
unit array YZ
unit array zZ
integer ZZ
unit array v0
unit e0
unit o0
unit array RW4
integer n0
boolean V0=false
unit RX4
integer RY4
boolean RZ4=false
boolean array A0
boolean RA4=false
integer RB4
unit RC4
real R34
integer R64
unit RL4
real R14
real j0
real K0
integer l0
unit m0
integer M0
group p0
unit Q0
real R04
group t0
integer R54
unit U0
real R24
integer array W0
integer array z0
real Z0
unit v1
unit R_4
real o1
integer a1
integer array n1
boolean S44=false
unit S74
unit N1
integer S84
real B1
real C1
unit S94
integer SD4
integer SE4
integer m1
group M1
unit SF4
real SG4
integer SH4
integer SI4
integer SJ4
unit array SK4
boolean w1=false
boolean W1=false
unit Y1
unit z1
real Z1
real v2
real SM4
real o2
boolean a2=false
boolean SN4=false
force V2=null
integer array SO4
integer array SP4
real A2
real N2
unit b2
unit B2=null
unit C2=null
unit D2=null
unit SQ4
integer array SR4
unit array SS4
integer l2=0
integer ST4
constant real M2=6
constant real p2=600
unit SU4
trigger SV4
boolean array U2
real array SW4
real array SX4
real array SY4
unit array SZ4
integer array SA4
integer array SB4
integer a3
unit n3
integer V3
unit E3
integer X3
unit A3
region SC4
unit S34
unit S64
real SL4
real S14
unit array D3
boolean f3=false
integer F3=0
string array j3
constant real L3=8
unit S04
integer S54
boolean p3=false
player array S24
real array S_4
real array T44
real array T74
integer T84=-1
constant real e4=25
constant real o4=525
region T94
integer array TD4
integer TE4=0
integer array TF4
integer array TG4
integer array TH4
integer array N4
integer array TI4
boolean B4=false
integer TJ4
integer array TK4
boolean array TM4
group array TN4
integer TO4=0
integer TP4=0
boolean TQ4=false
unit TR4
unit TS4
real TT4
real TU4
real TV4
real array TW4
real array TX4
unit TY4
boolean TZ4=false
boolean TA4=false
boolean TB4=false
real array TC4
string array T34
boolean T64=false
boolean TL4=false
integer array T14
real array T04
real array T54
boolean array T24
item array T_4
item array U44
item array U74
item array U84
boolean array U94
boolean array UD4
boolean array UE4
integer UF4
integer UG4=10
boolean array UH4
boolean array UI4
unit UJ4
unit UK4
unit UM4
unit UN4
unit UO4
unit UP4
real UQ4
real UR4
real US4
real UT4
constant real UU4=300
constant real UV4=20
unit UW4
unit UX4
integer UY4
group UZ4
real UA4
real UB4
integer UC4
integer U34
integer U64
region UL4
region U14
real U54
unit U24
boolean U_4=false
sound V44=null
sound V74=null
sound V84=null
sound V94=null
sound VD4=null
unit VE4
group VF4
integer array VG4
boolean VH4=false
unit VI4
sound VJ4
sound VK4=null
string VM4
string VN4
string VO4
string VP4
sound VQ4=null
sound VR4=null
constant integer VS4=1697657160
constant integer VT4=1848651849
constant integer VU4=1848652338
constant integer VV4=1848652337
constant integer VW4=1848658777
constant integer VX4=1848658778
constant integer VY4=1848659013
constant integer VZ4=1697657178
constant integer VA4=1848652339
constant integer VB4=1848652340
constant integer VC4=1848652341
constant integer V34=1848658992
constant integer V64=1848658993
constant integer VL4=1848659252
constant integer V14=1697657428
constant integer V04=1697657427
constant integer V54=1697657648
constant integer V24=1848651853
constant integer V_4=1848658006
constant integer W44=1697657426
constant integer W74=1848659027
constant integer W84=1395667014
constant integer W94=1395667270
constant integer WD4=1395667253
constant real WE4=0.025
constant integer WF4=1848657233
unit WG4
unit WH4
unit WI4
real WJ4
real WK4
real WM4
unit WN4
real WO4
real WP4
unit WQ4
real WR4
real WS4
real WT4
boolean WU4=false
boolean array WV4
destructable WW4
real WX4
real WY4
real WZ4
real WA4
real WB4
real WC4
real W34
real W64
unit WL4
integer W14
unit W04
constant real W54=5.0
integer array W24
integer array W_4
integer array X44
integer array X74
constant integer X84=1848652369
integer X94
player XD4
region XE4=null
region XF4=null
region XG4=null
region XH4=null
trigger XI4=null
trigger XJ4=null
real XK4
real XM4
trigger XN4=null
constant integer XO4=1848652360
boolean XP4=false
sound XQ4=null
sound XR4=null
sound XS4=null
unit XT4=null
unit XU4=null
unit XV4=null
constant integer XW4=1093816119
constant integer XX4=1110460227
group XY4
integer XZ4
unit XA4
constant integer XB4=500
constant integer XC4=1400
constant real X34=1300
constant real X64=20
constant real XL4=20
constant real X14=20
constant real X04=6.0
integer X54
unit X24
group X_4
real Y44
real Y74
constant integer Y84=1093753176
unit Y94
integer YD4
unit YE4
constant integer YF4=1093815352
constant integer YG4=1093808469
constant integer YH4=1093815345
constant string YI4="Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl"
constant integer YJ4=1093815352
unit YK4
unit YM4
integer YN4
group YO4
group YP4
unit YQ4
unit YR4
unit YS4
integer YT4
real YU4
real YV4
real YW4
integer YX4
destructable array YY4
destructable array YZ4
destructable array YA4
integer YB4=0
integer YC4=0
unit Y34
integer Y64
constant real YL4=6
player Y14
boolean Y04=false
boolean Y54=false
unit Y24
boolean Y_4=false
player Z44=null
player Z74=null
integer array Z84
constant integer Z94=0
constant integer ZD4=1
constant integer ZE4=3
constant integer ZF4=5
constant integer ZG4=1
constant integer ZH4=2
constant integer ZI4=3
constant integer ZJ4=4
constant integer ZK4=5
unit ZM4
real ZN4
integer array ZO4
group ZP4
group ZQ4
unit ZR4
integer ZS4
trigger ZT4=null
string ZU4=""
boolean ZX4=false
unit ZY4
unit ZZ4
unit ZA4
group ZB4
group ZC4
group Z34
integer Z64=0
unit ZL4
constant real Z14=3
unit Z04
unit Z54
unit Z24
real Z_4
group A44
integer A74
sound A84=null
sound A94=null
sound AD4=null
sound AE4=null
sound AF4=null
sound AG4=null
sound AH4=null
sound AI4=null
unit AJ4
integer AK4
group AM4
integer AN4
unit AO4
unit AP4
unit AQ4
group AR4
integer AS4
unit AT4
unit AU4
unit AV4
group AW4
real AX4
integer array AY4
integer AZ4=0
integer AA4
constant real AB4=20
constant real AC4=7
constant real A34=300
unit A64
real AL4
unit A14
unit A04
real A54
unit A24
real A_4
real B44
real B74
unit B84
real B94
real BD4
group BE4
unit BF4
unit BG4
real BH4
real BI4
real BJ4
trigger BK4
integer BM4=0
boolean BN4=false
integer array BO4
boolean BV4
boolean BW4=false
boolean BZ4=false
integer array BA4
integer array BB4
integer BC4
integer B34
integer array B64
integer array BL4
integer B14=0
integer B04=0
integer array B54
integer array B24
integer B_4=0
integer CK4=0
integer CM4=0
constant integer CN4=40
constant integer CP4=50
constant integer CQ4=50
constant integer CR4=50
constant integer CS4=90
constant integer CU4=2
constant integer CL4=3
constant string C_4="|c006699CC"
constant string L44="|c00ff0303"
constant string L74="|c00555555"
multiboard L84
image L94
image LD4
image LE4
image LF4
boolean LG4=false
image LH4=null
real LI4=-7030
real LJ4=6966
unit LK4
integer LM4
player LN4
boolean LO4=false
constant integer LP4=852164
constant integer LQ4=852526
constant integer LR4=852599
unit LS4=null
unit LT4=null
unit LU4=null
unit LV4=null
integer LW4=0
integer LX4=0
constant string LY4="Abilities\\Spells\\Human\\MagicSentry\\MagicSentryCaster.mdl"
constant real LZ4=15
constant real LA4=4
constant real LB4=15
constant real LC4=4
integer L34
integer L64
real LL4
real L14
unit L04
integer array L54
constant real L24=7
constant string L_4="war3mapImported\\EpiPulse_1_4.mdx"
constant string D47="war3mapImported\\EpiPulse_5_8.mdx"
constant string D77="war3mapImported\\EpiPulse_9_12.mdx"
unit array D87
integer array D97
integer array DD7
integer DE7=0
integer DF7=0
integer array DG7
integer array DH7
constant integer DI7=20
constant integer DJ7=34
constant integer DK7=2
constant integer DM7=30
unit array DN7
integer DO7=0
boolean DP7=true
boolean array DQ7
boolean DR7=false
boolean DS7=false
boolean DT7=true
unit DU7=null
trigger DV7=null
trigger DW7=null
trigger DX7=null
timer DY7=null
real array DZ7
constant string DA7="|c0020c060"
constant string DB7="|c00ffcc60"
real DC7=0.35
real D37=0.66
real D67=0.25
real DL7=2.
real D17=0.05
integer D07=5
real D57=0.66
real D27=0.25
integer D_7=72
real E47=DC7/2
integer E77=3
integer E87=300
integer E97=180
boolean ED7=false
hashtable EE7
boolean EF7=false
real EG7=1
real EH7=1
string EI7=""
real EJ7=0
real EK7=0
widget EM7=null
boolean EN7=false
player EO7=null
force EP7=null
item EQ7=null
item ER7=null
integer ES7=0
unit ET7=null
real EU7=0
constant real EV7=200
trigger EW7=null
constant integer EX7=67
constant integer EY7=75
string EZ7=""
boolean EA7=true
boolean EB7=false
constant string EC7="Doodads\\Icecrown\\Water\\BubbleGeyserSteam\\BubbleGeyserSteam.mdx"
integer array E37
unit array E67
real array EL7
boolexpr E17=null
integer array E07
integer E57=0
integer E27=1
constant integer E_7=1
constant integer F47=2
constant integer F77=3
constant integer F87=4
constant integer F97=5
constant integer FD7=6
constant integer FE7=7
constant integer FF7=8
constant integer FG7=FF7-1
constant integer FH7=2
constant integer FI7=4
constant integer FJ7=6
constant real FK7=60.
constant integer FM7=8
boolean FN7=true
boolean FO7=true
real FP7=0.
constant integer FQ7=425
constant integer FR7=FQ7+200
constant real FS7=700.
constant real FT7=10.
constant real FU7=15.
constant real FV7=180.
constant integer FW7=20
unit FX7=null
constant real FY7=120.
constant real FZ7=0.05
constant real FA7=60.
constant real FB7=10.
constant real FC7=20.
constant integer F37=30
constant real F67=10.
constant real FL7=15.
constant real F17=20.
constant real F07=0.4
constant real F57=0.1
constant string F27="|c00dd8dff"
constant string F_7="|c00a0a0a0"
constant string G47="   "
string G77=null
string G87=null
string G97=null
string GD7=null
constant real GE7=8
real GF7=FY7
integer GG7
boolean GH7=false
unit GI7
integer GJ7
boolean GK7=false
unit GM7
unit GN7
location GO7=Location(0,0)
unit GP7
boolean GQ7=false
boolean GR7=false
boolean GS7=false
constant integer GT7=4
unit GU7=null
unit GV7=null
real GW7=99999999.
trigger GX7=null
unit GY7
integer GZ7
integer GA7
unit GB7
real GC7
real G37
real G67
unit GL7
integer array G17
boolean G07=true
unit G57
integer G27
unit G_7
group H47
real H77
integer array H87
integer array H97
integer HD7
integer HE7
integer HF7
unit HG7
integer HH7
integer HI7
boolean HJ7=false
unit HK7
real HM7
group HN7
unit HO7
integer HP7
constant real HQ7=300
integer HR7
integer HS7
integer array HT7
constant real HU7=200
constant real HV7=200
group HW7
unit HX7
integer HY7
unit HZ7
integer HA7
unit HB7
integer HC7
leaderboard array H37
integer H67
integer HL7=0
integer H17=0
integer array H07
integer array H57
integer H27=-1
integer array H_7
sound I47=null
unit I77
group I87
boolean array I97
integer ID7=600
integer IE7=360
integer IF7
constant real IG7=5
constant real IH7=2.6
unit II7
real IJ7
unit IK7
unit IM7
integer IN7
constant real IO7=3.75
group IP7
unit IQ7
real IR7
integer IS7
unit IT7
real IU7
real IV7
real IW7
unit IX7
integer IY7
integer IZ7
boolean IA7=false
real IB7
unit IC7
constant real I37=0.05
constant real I67=1.0
constant real IL7=4
constant integer I17=1093812788
group I07
constant real I57=20
integer I27
unit I_7
integer J47
constant integer J77=1093815353
constant integer J87=1093815365
constant integer J97=1110460209
constant integer JD7=1093815361
constant integer JE7=1093815627
constant integer JF7=1110460212
unit JG7
unit JH7
real JI7=1.35
real JJ7=500
constant integer JK7=1093815362
constant integer JM7=1093815364
constant string JN7="war3mapImported\\Cryofreeze5.mdx"
constant integer JO7=1093687856
group JP7
trigger JQ7
unit JR7
unit JS7=null
constant string JT7="war3mapImported\\WintersCurse.mdx"
constant string JU7="war3mapImported\\WintersCurseAoE.mdx"
constant integer JV7=1093815859
constant integer JW7=1110460215
constant string JX7="effects\\BasicWaterFlash.mdx"
constant real JY7=6
constant integer JZ7=1093815877
constant integer JA7=1093815874
constant integer JB7=1093815873
constant integer JC7=1093815862
constant integer J37=1093815864
constant integer J67=1093815875
constant integer JL7=1093815863
constant integer J17=1093815876
constant integer J07=1093815865
constant integer J57=1110460225
constant real J27=6
constant integer J_7=1093815372
constant integer K47=1747993927
constant real K77=50
constant integer K87=1093815373
constant integer K97=1093815609
constant integer KD7=1093815617
constant integer KE7=1093815374
constant integer KF7=1093815608
constant integer KG7=1093815888
constant integer KH7=1093815891
constant integer KI7=1093815890
constant integer KJ7=1093815889
constant string KK7="war3mapImported\\MagneticField04.mdl"
integer KM7
integer KN7
constant integer KO7=1093815601
constant integer KP7=1093815383
constant integer KQ7=1093815385
constant integer KR7=1110460210
constant integer KS7=1110460211
constant string KT7="war3mapImported\\Flux3.mdx"
constant integer KU7=1093815600
constant integer KV7=1311788365
constant string KW7="Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl"
constant integer KX7=1093686851
constant integer KY7=1093815896
constant integer KZ7=1093677625
constant integer KA7=1093815897
constant integer KB7=1093816115
constant integer KC7=1
constant integer K37=2
constant integer K67=2
constant integer KL7=3
constant integer K17=1
item array K07
integer array K57
integer array K27
boolean array K_7
player M47=null
integer M77=0
constant integer M87=2000
constant integer M97=0
constant integer MD7=1
constant integer ME7=2
constant real MF7=30.
constant integer MG7=30
constant boolean MH7=true
constant boolean MI7=false
unit MJ7=null
integer MK7=0
integer MM7=0
unit MN7=null
integer MO7=0
unit MP7=null
integer array MQ7
unit MR7=null
unit MS7=null
boolean MT7=false
boolean MU7=true
constant boolean MV7=false
constant boolean MW7=true
unit MX7=null
unit MY7=null
constant integer MZ7=2
integer MA7=0
integer MB7=0
integer MC7=0
integer M37=0
constant real M67=200.
integer ML7=0
group M17=CreateGroup()
unit M07=null
unit M57=null
unit array M27
real M_7=0.
real N47=0.
boolexpr N77=null
trigger N87=CreateTrigger()
constant integer N97=StringHash("listtop1")
constant integer ND7=StringHash("listtop2")
constant integer NE7=StringHash("attack")
hashtable NF7=InitHashtable()
unit array NG7
integer array NH7
constant integer NI7=1
constant integer NJ7=2
integer NK7=0
integer NM7=0
integer NN7=0
real NO7
integer NP7=0
integer NQ7=0
location array NR7
constant integer NS7=16
constant integer NT7=32
trigger array NU7
integer NV7=0
group NW7=null
integer NX7=0
hashtable NY7=InitHashtable()
group NZ7=CreateGroup()
constant integer NA7=1
constant integer NB7=2
real NC7=1000.
constant integer N37=8
constant real N67=0.5
constant real NL7=2.
real N17=.0
real N07=.0
real N57=.0
real N27=.0
location N_7=null
group O47
integer O77=0
real O87=.0
real O97=.0
real array OD7
real array OE7
integer OF7=0
boolean OG7=false
real OH7=0.
real OI7=0.
real OJ7=0
endglobals
function OK7 takes nothing returns boolean
return GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_USER and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true
endfunction
function OM7 takes integer ON7,integer a1,integer a2,integer a3,integer a4,integer a5 returns nothing
call SaveInteger(NY7,ON7,1,a1)
call SaveInteger(NY7,ON7,2,a2)
call SaveInteger(NY7,ON7,3,a3)
call SaveInteger(NY7,ON7,4,a4)
call SaveInteger(NY7,ON7,5,a5)
endfunction
function OO7 takes unit u returns nothing
local integer ON7=GetUnitTypeId(u)
local player p=GetOwningPlayer(u)
local integer i=1
loop
exitwhen i>5
call SetPlayerAbilityAvailable(p,LoadInteger(NY7,ON7,i),true)
set i=i+1
endloop
endfunction
function OP7 takes nothing returns nothing
call OO7(GetEnumUnit())
endfunction
function AvailableHumanTimer takes nothing returns nothing
call GroupClear(NZ7)
call GroupEnumUnitsInRect(NZ7,GetWorldBounds(),Condition(function OK7))
call ForGroup(NZ7,function OP7)
endfunction
function bug_SkillEnableInit takes nothing returns boolean
call CommentString("call TimerStart(i_HumanHeroAbilityEnableLoop,0.1,true,(function AvailableHumanTimer))")
call DestroyTrigger(GetTriggeringTrigger())
return false
endfunction
function OQ7 takes nothing returns nothing
call OM7(1214344551,1093678938,1093677402,1093809742,1096904043,1093815628)
call OM7(1214409837,0,1093742680,1093742932,1093742898,1093684818)
call OM7(1215130471,1093677361,1093678167,1093679155,1093679160,1096904043)
call OM7(1215324524,1095264354,1095263347,1095266917,1095262564,0)
call OM7(1331850337,1095726955,1095721842,1095724393,1095726967,0)
call OM7(1332109682,1093810505,1093808694,1096904043,1093678134,1093678149)
call OM7(1332963428,1093677649,1093683019,1093816137,0,1096904043)
call OM7(1333027688,1093682248,1093682252,1093686091,1093682250,1096904043)
call OM7(1164207469,1096904043,1093684057,1093677618,1095066220,1093682483)
call OM7(1164209517,1095069026,1095068013,1095066998,1095069029,0)
call OM7(1164666213,1096904043,1093677877,1093678679,1093678678,0)
call OM7(1164799855,1093682264,1093677378,1093682263,1093682265,1096904043)
call OM7(1165451634,1093687629,1093685324,1093677904,1093677905,1096904043)
call OM7(1432580716,1093744977,1093682009,1096904043,1093684300,1093681754)
call OM7(1432642913,1093684819,1093684551,1093683507,1093684550,1096904043)
call OM7(1432646245,0,1093679173,1093677899,1096904043,1093677640)
call OM7(1433168227,1096904043,1093678387,1093678918,1093679186,1093678420)
call OM7(1315074670,1093685570,1096904043,1093677625,1093677622,1093686851)
call OM7(1315988077,1093678669,1097032808,1093684568,1093684561,1096904043)
call OM7(1316252014,1093678645,1093678137,1093678405,1096904043,1093681745)
call OM7(1316122466,1095660409,1095656307,1095656807,1095660135,0)
call OM7(1315334514,1093682773,1093681746,1093810506,1093682521,1093684818)
call OM7(1164277353,1096904043,1093678929,1093751369,1093815130,1093683252)
call OM7(1164277357,1096904043,1093678929,1093751369,1093815130,1093683252)
call OM7(1164799603,1096904043,1093808453,1093677391,1095067246,1093752632)
call OM7(1214345830,1093679182,1093679190,1093682514,1093678657,1096904043)
call OM7(1214802796,1095264354,1095263347,1095266917,1095262564,0)
call OM7(1214931305,1096904043,1093748025,1093678147,1095262562,1093677906)
call OM7(1215063922,1093677895,1093677894,1096904043,1093812553,1093681996)
call OM7(1215128178,1096904043,1093677616,1093684789,1093683779,1093810503)
call OM7(1215324721,1095264354,1095263347,1095266917,1095262564,0)
call OM7(1215657064,1093750841,1093684291,1093677913,1096904043,1095657827)
call OM7(1215722344,1093684296,1093683512,1093682499,1096904043,1093684293)
call OM7(1215723364,1096904043,1093677633,1094934883,1093744463,1093683534)
call OM7(1315070563,1096904043,1093678135,1093678407,1093677131,1093684529)
call OM7(1331982964,1095722611,1095725926,1095721836,1095722353,0)
call OM7(1332179560,1093682242,1093742660,1093682231,1093687627,1096904043)
call OM7(1332766568,1096904043,1093683510,1093686065,1093681974,1093682482)
call OM7(1332898670,1096904043,1093677136,1093685848,1093677360,1093677128)
call OM7(1432510828,1093751127,1093681985,1093681991,1093682004,1096904043)
call OM7(1433105516,1096904043,1093683511,1093744688,1093681713,1093747288)
call OM7(1433631084,1093678160,1096904043,1093677909,1093677907,1093678644)
call OM7(1315007329,1096904043,1093749073,1093678913,1093677108,1093681716)
call OM7(1162032439,1096904043,1093744435,1093684569,1093684563,1093677363)
call OM7(1162032951,1096904043,1093746995,1093679152,1093679446,1093684557)
call OM7(1311781175,1096904043,1093681733,1093808460,1093685040,1093748042)
call OM7(1429221451,1093678674,1093683248,1093678671,1093682753,1096904043)
call OM7(1313026096,1096904043,1095267426,1095721842,1096114550,1093677401)
call OM7(1430466872,1096904043,1093687349,1093684558,1093677646,1093679413)
call OM7(1162032181,1093679153,1096904043,1093682010,1093684299,1093683761)
call OM7(1311781174,1096904043,1093681733,1093808460,1093685040,1093748042)
call OM7(1430467634,1093684818,1093679412,1093742674,1093750608,1093684565)
call OM7(1211117637,1093677895,1093677894,1096904043,1093812553,1093681996)
call OM7(1429221430,1093687121,1093681739,1093681736,1096904043,1093681735)
call OM7(1160785970,1093748023,1093747792,1093748022,1093747023,1096904043)
call OM7(1211117639,1093677895,1093677894,1096904043,1093812553,1093681996)
call OM7(1211117643,1093684818,1093678664,1093678410,1093678658,1093681483)
call OM7(1429221431,1093683793,1096904043,1093678681,1093677381,1093677624)
call OM7(1212363833,1096904043,1093815125,1093809220,1093678643,1093678933)
call OM7(1430466609,1096904043,1093685559,1093684549,1093678145,1093810258)
call OM7(1212365106,1096904043,1093682266,1093684025,1093677130,1093685831)
call OM7(1429221432,1096904043,1093677893,1093687878,1093679411,1093677892)
call OM7(1311781199,1093684818,1093681461,1093681464,1093748038,1093681479)
call OM7(1429221424,1096904043,1093687351,1093679445,1093748789,1093815119)
call OM7(1311781171,1093684818,1093681461,1093681464,1093748038,1093681479)
call OM7(1211117616,1096904043,1093816142,1093677142,1093677139,1093816118)
call OM7(1328558160,1093682998,0,1093684818,1093684056,1093682766)
call OM7(1430466865,1096904043,1093677651,1093677879,1093751364,1093810508)
call OM7(1211117638,1093677895,1093677894,1096904043,1093812553,1093681996)
call OM7(1430468144,1093684818,1093679192,1093750341,1093686872,1093750337)
call OM7(1429221441,1093677903,1093677902,1093685847,1093678389,1096904043)
call OM7(1160785972,1093678161,1093677621,1093677872,1096904043,1095263841)
call OM7(1328558154,1096904043,1093750840,1093682996,1093682997,1093682515)
call OM7(1211117640,1096904043,1093679428,1093684564,1093681989,1093681987)
call OM7(1429221445,1093678647,1093678422,1093678640,1093677390,1096904043)
call OM7(1430468406,1093677635,1096904043,1093677645,1093685302,1093678899)
call OM7(1430468913,1096904043,1093678403,1093810507,1093683786,1093677876)
call OM7(1160785973,1093678642,1093678130,1093678388,1096904043,1093678129)
call OM7(1211117617,1096904043,1093744944,1093677387,1093814611,1093752648)
call OM7(1311781172,1093684818,1093681461,1093681464,1093748038,1093681479)
call OM7(1211117624,1093682774,1093684531,1093683024,1093682775,1096904043)
call OM7(1211117654,1093747028,1093682994,1093684560,1093747504,1096904043)
call OM7(1311781185,1093684314,1093815892,1093743692,1093684275,1096904043)
call OM7(1211117620,1096904043,1093677382,1093677623,1093744728,1093677392)
call OM7(1429221446,1093678665,1093678660,1093682764,1093678667,1096904043)
call OM7(1311781173,1093684818,1093681461,1093681464,1093748038,1093681479)
call OM7(1211117633,1093684310,1093810260,1093684308,1096904043,1093684045)
call OM7(1160786241,1093684815,1093684813,1093684820,1093684805,1096904043)
call OM7(1160786242,1093682776,1093684801,1093683287,1093683257,1096904043)
call OM7(1211117636,1093685071,1093685041,1096904043,1093681732,1093685042)
call OM7(1160786000,1093685047,1093685046,1093685048,1093685045,1096904043)
call OM7(1429221456,1096904043,1093685067,1093685066,1093685065,1093683526)
call OM7(1160786243,1093683765,1093681491,1093678672,1395667000,1096904043)
call OM7(1311781192,1096904043,0,1093683532,1093685043,1095656306)
call OM7(1311781193,1096904043,0,1093683532,1093685043,1095656306)
call OM7(1311781194,1096904043,0,1093683532,1093685043,1095656306)
call OM7(1311781204,1096904043,0,1093683532,1093685043,1095656306)
call OM7(1311781206,1093684280,1093684302,1093684054,1096904043,1093684053)
call OM7(1211117641,1096904043,1093684792,1093684802,1093684791,1093684567)
call OM7(1211117642,1096904043,1093684792,1093684802,1093684791,1093684567)
call OM7(1311781207,1093742668,1093685074,1093742673,1096904043,1093684817)
call OM7(1311781442,1096904043,1093681733,1093808460,1093685040,1093748042)
call OM7(1211117646,1093685579,1093685815,1093685575,1096904043,1093685573)
call OM7(1211117649,1093685586,1093685585,1093685582,1093685584,1096904043)
call OM7(1311780946,1096904043,1093685825,1093677385,0,1095328612)
call OM7(1211117650,1093743955,1093685813,1093743958,1093743946,1093684818)
call OM7(1211117651,1093743698,1093743696,1093743695,1096904043,1093685591)
call OM7(1160786265,1093685840,1093685839,1093748033,1096904043,1093685846)
call OM7(1311780930,1093686072,1093686083,1093686082,1093686073,1096904043)
call OM7(1429221443,1093686103,1096904043,1093686099,1093686322,1093744948)
call OM7(1211117653,1093808473,1093808472,1093808471,1093808470,0)
call OM7(1160786256,1096904043,1093684057,1093677618,1095066220,1093682483)
call OM7(1160786481,1096904043,1093684057,1093677618,1095066220,1093682483)
call OM7(1160786483,1096904043,1093684057,1093677618,1095066220,1093682483)
call OM7(1160786484,1096904043,1093684057,1093677618,1095066220,1093682483)
call OM7(1211117652,1093687864,1093687862,1093687861,1096904043,1093687860)
call OM7(1211119187,1093743414,1093743444,0,1093742923,1096904043)
call OM7(1211119191,0,1093742680,1093742932,1093742898,1093684818)
call OM7(1211119192,0,1093742680,1093742932,1093742898,1093684818)
call OM7(1211119193,0,1093742680,1093742932,1093742898,1093684818)
call OM7(1211119409,1093749069,1093748818,1096904043,1093749070,1093749303)
call OM7(1311786311,1093743184,1093743179,1093743689,1096904043,1093743178)
call OM7(1311786313,1093743184,1093743179,1093743408,1096904043,1093743178)
call OM7(1311786314,1093743184,1093743179,1093743408,1096904043,1093743178)
call OM7(1311786315,1093743184,1093743179,1093743408,1096904043,1093743178)
call OM7(1311786317,1093743184,1093743179,1093743408,1096904043,1093743178)
call OM7(1211119433,1093743955,1093743958,1093685813,1093743946,1093684818)
call OM7(1328558389,1093747524,1093747009,0,1093746993,1096904043)
call OM7(1328558390,1093748044,1093744982,1093744986,1093744975,1093684818)
call OM7(1328558391,1093748044,1093744982,1093744986,1093744975,1093684818)
call OM7(1211119668,1093747028,1093682994,1093684560,1093747504,1096904043)
call OM7(1211119682,1093747028,1093682994,1093684560,1093747504,1096904043)
call OM7(1211119683,1093747028,1093682994,1093684560,1093747504,1096904043)
call OM7(1211119684,1093747028,1093682994,1093684560,1093747504,1096904043)
call OM7(1311787088,1096904043,1093748819,1093750087,0,1093748817)
call OM7(1311787092,1096904043,0,1093683532,1093685043,1095656306)
call OM7(1211122243,0,1093742680,1093742932,1093742898,1093684818)
call OM7(1160786502,1093684818,0,1093751371,0,0)
call OM7(1160786503,1097885816,0,0,0,0)
call OM7(1160786504,1096904043,1093751604,1093751608,1093751617,1093751618)
call OM7(1160786505,1096904043,1093753167,1093753169,1093751607,1093753170)
call OM7(1160786506,1096904043,1093751637,1093751894,1093751639,1093752118)
call OM7(1160786507,1096904043,1093813065,1093813593,1093814834,1093814850)
call OM7(1160786508,1096904043,1093684057,1093677618,1095066220,1093682483)
call OM7(1160786509,1096904043,1093684057,1093677618,1095066220,1093682483)
call OM7(1160786510,1096904043,1093751631,1093751633,1093808697,1093751861)
call OM7(1328558406,1093684818,1093751864,0,1093751874,1093810257)
call OM7(1160786511,1096904043,1093751631,1093751633,1093808697,1093751861)
call OM7(1160786517,1096904043,1093678929,1093751369,1093815130,1093683252)
call OM7(1160786518,1096904043,1093678929,1093751369,1093815130,1093683252)
call OM7(1160786519,1096904043,1093678929,1093751369,1093815130,1093683252)
call OM7(1211122513,1096904043,1093744944,1093677387,1093814611,1093752648)
call OM7(1160786520,1093684818,0,1093809991,1093809992,1093810006)
call OM7(1311788336,1096904043,1093814320,1093814323,1093814355,0)
call OM7(1311788338,1096904043,1093812534,1093812536,1093812537,1093812545)
call OM7(1211122764,1096904043,1093812803,1093812788,1093812789,1093812790)
call OM7(1211122767,1096904043,1093812805,1093814350,1093812807,1093814612)
call OM7(1160786737,1096904043,1093813335,1093813336,1093813338,1093813552)
call OM7(1160786738,1096904043,1093813835,1093813555,1093813556,0)
call OM7(1311788343,1096904043,1093815361,1093815362,1093687856,1093815877)
call OM7(1311788345,1096904043,1093813573,1093813808,1093813812,1093813813)
call OM7(1311788353,1096904043,1093815361,1093815362,1093687856,1093815877)
call OM7(1311788356,1096904043,1093813844,1093813583,1093813841,1093813836)
call OM7(1311788360,1096904043,1093814320,1093814323,1093814355,0)
call OM7(1211122993,1096904043,1093814337,1093814338,1093814340,1093814343)
call OM7(1211122995,1096904043,1093814337,1093814338,1093814340,1093814343)
call OM7(1211122996,1096904043,1093814337,1093814338,1093814340,1093814343)
call OM7(1211122997,1096904043,1093814337,1093814338,1093814340,1093814343)
call OM7(1429221720,1093744977,1093682009,1096904043,1093684300,1093681754)
call OM7(1311788363,1096904043,1093815372,1093815373,1093815600,1093815601)
call OM7(1311788365,1096904043,1093815372,1093815373,1093815600,1093815601)
call OM7(1311788354,1096904043,1093815361,1093815362,1093687856,1093815877)
call OM7(1311788355,1096904043,1093815361,1093815362,1093687856,1093815877)
call OM7(1311788367,1096904043,1093815361,1093815362,1093687856,1093815877)
endfunction
function OR7 takes boolean OS7,unit OT7,unit OU7 returns unit
if OS7 then
return OT7
else
return OU7
endif
return null
endfunction
function OV7 takes boolean OS7,integer OW7,integer OX7 returns integer
if OS7 then
return OW7
else
return OX7
endif
return 0
endfunction
function OY7 takes boolean OS7,string OZ7,string OA7 returns string
if OS7 then
return OZ7
else
return OA7
endif
return""
endfunction
function OB7 takes boolean OS7,real OW7,real OX7 returns real
if OS7 then
return OW7
else
return OX7
endif
return 0.
endfunction
function GetLastEnumedGroup takes nothing returns group
return NW7
endfunction
function OC7 takes real O37,location O67,boolexpr OL7 returns group
set NW7=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(NW7,O67,O37,OL7)
if OL7!=null then
call DestroyBoolExpr(OL7)
endif
return NW7
endfunction
function O17 takes rect r,boolexpr OL7 returns group
set NW7=CreateGroup()
call GroupEnumUnitsInRect(NW7,r,OL7)
if OL7!=null then
call DestroyBoolExpr(OL7)
endif
return NW7
endfunction
function O07 takes rect r,player O57 returns group
set NW7=CreateGroup()
set bj_groupEnumOwningPlayer=O57
call GroupEnumUnitsInRect(NW7,r,filterGetUnitsInRectOfPlayer)
return NW7
endfunction
function O27 takes player O57,boolexpr OL7 returns group
set NW7=CreateGroup()
call GroupEnumUnitsOfPlayer(NW7,O57,OL7)
if OL7!=null then
call DestroyBoolExpr(OL7)
endif
return NW7
endfunction
function O_7 takes player O57,integer P47 returns group
set NW7=CreateGroup()
set bj_groupEnumTypeId=P47
call GroupEnumUnitsOfPlayer(NW7,O57,filterGetUnitsOfPlayerAndTypeId)
return NW7
endfunction
function P77 takes nothing returns boolean
local integer P87=LoadInteger(NF7,NP7,ND7)-1
local unit P97
local real PD7
local integer PE7=0
set NQ7=0
loop
exitwhen NQ7>P87
if NO7-LoadReal(NF7,NP7,NQ7)>2.5 or IsUnit(LoadUnitHandle(NF7,NP7,NQ7),null)then
set P97=LoadUnitHandle(NF7,NP7,P87)
set PD7=LoadReal(NF7,NP7,P87)
set PE7=LoadInteger(NF7,NP7,P87)
call RemoveSavedBoolean(NF7,NP7,GetHandleId(LoadUnitHandle(NF7,NP7,NQ7)))
call RemoveSavedInteger(NF7,NP7,GetHandleId(LoadUnitHandle(NF7,NP7,NQ7)))
call SaveUnitHandle(NF7,NP7,NQ7,P97)
call SaveReal(NF7,NP7,NQ7,PD7)
call SaveInteger(NF7,NP7,NQ7,PE7)
call RemoveSavedHandle(NF7,NP7,P87)
call RemoveSavedReal(NF7,NP7,P87)
call RemoveSavedInteger(NF7,NP7,P87)
call SaveInteger(NF7,NP7,GetHandleId(P97),NQ7)
call SaveInteger(NF7,NP7,ND7,P87)
set P87=P87-1
endif
set NQ7=NQ7+1
endloop
set P97=null
return P87==-1
endfunction
function PF7 takes nothing returns boolean
local integer P87=LoadInteger(NF7,NP7,N97)-1
local integer PG7=P87+NE7
local unit P97
local real PD7
local integer PE7
set NQ7=NE7
loop
exitwhen NQ7>PG7
if NO7-LoadReal(NF7,NP7,NQ7)>=2+OB7(IsUnitType(LoadUnitHandle(NF7,NP7,NQ7),UNIT_TYPE_HERO)==true,2,0.8)or IsUnit(LoadUnitHandle(NF7,NP7,NQ7),null)then
set P97=LoadUnitHandle(NF7,NP7,P87)
set PD7=LoadReal(NF7,NP7,P87)
set PE7=LoadInteger(NF7,NP7,P87)
call RemoveSavedBoolean(NF7,NP7,NE7+GetHandleId(LoadUnitHandle(NF7,NP7,NQ7)))
call RemoveSavedInteger(NF7,NP7,NE7+GetHandleId(LoadUnitHandle(NF7,NP7,NQ7)))
call SaveUnitHandle(NF7,NP7,NQ7,P97)
call SaveReal(NF7,NP7,NQ7,PD7)
call SaveInteger(NF7,NP7,NQ7,PE7)
call RemoveSavedHandle(NF7,NP7,P87)
call RemoveSavedReal(NF7,NP7,P87)
call RemoveSavedInteger(NF7,NP7,P87)
call SaveInteger(NF7,NP7,GetHandleId(P97),NQ7)
call SaveInteger(NF7,NP7,N97,P87)
set P87=P87-1
endif
set NQ7=NQ7+1
endloop
set P97=null
return P87==-1
endfunction
function PH7 takes boolean do returns nothing
if do then
call FlushChildHashtable(NF7,NP7)
set NG7[NM7]=NG7[NK7-1]
set NH7[NM7]=NH7[NK7-1]
set NG7[NK7-1]=null
set NH7[NK7-1]=0
endif
endfunction
function PI7 takes nothing returns nothing
call PH7(P77())
endfunction
function PJ7 takes nothing returns nothing
call PH7(PF7())
endfunction
function PK7 takes nothing returns boolean
set NN7=NN7+1
set NM7=0
set NO7=TimerGetElapsed(W)
loop
exitwhen NM7>NK7
set NP7=GetHandleId(NG7[NM7])
if IsUnit(NG7[NM7],null)or GetWidgetLife(NG7[NM7])<=0.405 then
call PH7(true)
else
if NH7[NM7]==NJ7 then
call CommentString("call PopListCurrentIndex(AatkPool_RefreshTargets())")
call ExecuteFunc("PI7")
elseif NH7[NM7]==NI7 and NN7-NN7/2*2==0 then
call CommentString("call PopListCurrentIndex(AatkPool_RefreshAttackers())")
call ExecuteFunc("PJ7")
endif
endif
set NM7=NM7+1
endloop
return false
endfunction
function PM7 takes unit PN7,unit PO7 returns nothing
local integer PP7=GetHandleId(PN7)
local integer P87
local integer PQ7=GetHandleId(PO7)
if not LoadBoolean(NF7,PP7,PQ7+NE7)then
set P87=LoadInteger(NF7,PP7,N97)
if P87==0 then
set NG7[NK7]=(PN7)
set NH7[NK7]=NI7
set NK7=NK7+1
endif
call SaveUnitHandle(NF7,PP7,NE7+P87,PO7)
call SaveInteger(NF7,PP7,N97,P87+1)
call SaveBoolean(NF7,PP7,PQ7+NE7,true)
call SaveInteger(NF7,PP7,PQ7+NE7,P87)
else
set P87=LoadInteger(NF7,PP7,PQ7+NE7)
endif
call SaveReal(NF7,PP7,NE7+P87,TimerGetElapsed(W))
call SaveInteger(NF7,PP7,NE7+P87,LoadInteger(NF7,PP7,NE7+P87)+1)
endfunction
function PR7 takes unit PO7,unit PN7 returns nothing
local integer PP7=GetHandleId(PO7)
local integer P87
local integer PQ7=GetHandleId(PN7)
if not LoadBoolean(NF7,PP7,PQ7)then
set P87=LoadInteger(NF7,PP7,ND7)
if P87==0 then
set NG7[NK7]=(PO7)
set NK7=NK7+1
endif
call SaveUnitHandle(NF7,PP7,P87,PN7)
call SaveInteger(NF7,PP7,ND7,P87+1)
call SaveBoolean(NF7,PP7,PQ7,true)
call SaveInteger(NF7,PP7,PQ7,P87)
else
set P87=LoadInteger(NF7,PP7,PQ7)
endif
call SaveReal(NF7,PP7,P87,TimerGetElapsed(W))
call SaveInteger(NF7,PP7,P87,LoadInteger(NF7,PP7,P87)+1)
endfunction
function PS7 takes nothing returns boolean
local unit PT7
local unit PU7
local integer pointerid
set PT7=GetAttacker()
set PU7=GetTriggerUnit()
call PM7(PU7,PT7)
call PR7(PT7,PU7)
set PT7=null
set PU7=null
return false
endfunction
function PV7 takes unit PW7 returns nothing
local trigger t=null
set EZ7="Aatk_RegisterTower"
if IsUnit(PW7,null)==false then
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,PW7,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function PS7))
set t=null
endif
endfunction
function PX7 takes unit PY7 returns integer
return LoadInteger(NF7,GetHandleId(PY7),N97)
endfunction
function PZ7 takes unit PY7 returns boolean
local integer i
local integer PG7
local integer PQ7
if LoadInteger(NF7,GetHandleId(PY7),N97)==0 then
return false
endif
set i=NE7
set PG7=NE7+LoadInteger(NF7,GetHandleId(PY7),N97)
set PQ7=GetHandleId(PY7)
loop
exitwhen i>=PG7
if IsUnitType(LoadUnitHandle(NF7,PQ7,i),UNIT_TYPE_HERO)==true or IsUnitType(LoadUnitHandle(NF7,PQ7,i),UNIT_TYPE_STRUCTURE)==true then
return true
endif
set i=i+1
endloop
return false
endfunction
function PA7 takes unit PY7 returns boolean
local integer i
local integer PG7
local integer PQ7
if LoadInteger(NF7,GetHandleId(PY7),ND7)==0 then
return false
endif
set i=0
set PG7=LoadInteger(NF7,GetHandleId(PY7),ND7)
set PQ7=GetHandleId(PY7)
loop
exitwhen i>=PG7
if IsUnitType(LoadUnitHandle(NF7,PQ7,i),UNIT_TYPE_HERO)==true or IsUnitType(LoadUnitHandle(NF7,PQ7,i),UNIT_TYPE_STRUCTURE)==true then
return true
endif
set i=i+1
endloop
return false
endfunction
function PB7 takes nothing returns nothing
local integer i=0
call TriggerRegisterTimerEvent(N87,2.5,true)
call TriggerAddCondition(N87,Condition(function PK7))
loop
exitwhen i>1024
set NG7[i]=null
set NH7[i]=0
set i=i+1
endloop
endfunction
function PC7 takes nothing returns nothing
call PV7(JG4)
call PV7(JH4)
call PV7(JI4)
call PV7(JJ4)
call PV7(JK4)
call PV7(JM4)
call PV7(JN4)
call PV7(JO4)
call PV7(JP4)
call PV7(JQ4)
call PV7(JR4)
call PV7(J64)
call PV7(JL4)
call PV7(J14)
call PV7(J04)
call PV7(J54)
call PV7(J24)
call PV7(J_4)
call PV7(K44)
call PV7(K74)
call PV7(K84)
call PV7(K94)
endfunction
function P37 takes unit P67 returns real
return GetWidgetLife(P67)*hq[752+GetPlayerId(GetOwningPlayer(P67))]
endfunction
function PL7 takes unit P67,real P17,real P07,integer P57 returns boolean
if P57==NB7 then
return GetUnitManaPercent(P67)>=P17 or GetUnitState(P67,UNIT_STATE_MANA)>=P07
endif
return GetUnitManaPercent(P67)<=P17 or GetUnitState(P67,UNIT_STATE_MANA)<=P07
endfunction
function P27 takes unit P67,real P_7,real Q47,integer P57 returns boolean
if P57==NB7 then
return GetUnitManaPercent(P67)>=P_7 or GetUnitState(P67,UNIT_STATE_MANA)>=Q47
endif
return GetUnitManaPercent(P67)<=P_7 or GetUnitState(P67,UNIT_STATE_MANA)<=Q47
endfunction
function Q77 takes unit a,unit b returns real
return bj_RADTODEG*Atan2(GetUnitY(b)-GetUnitY(a),GetUnitX(b)-GetUnitX(a))
endfunction
function Q87 takes real x1,real y1,real x2,real y2 returns real
return bj_RADTODEG*Atan2(y2-y1,x2-x1)
endfunction
function Q97 takes player pl returns string
if(Z84[GetPlayerId(pl)]==ZD4)then
return"E "
elseif(Z84[GetPlayerId(pl)]==ZE4)then
return"N "
else
return"I "
endif
endfunction
function QD7 takes player p returns nothing
if GetAIDifficulty(p)==AI_DIFFICULTY_NEWBIE then
set Z84[GetPlayerId(p)]=ZD4
elseif GetAIDifficulty(p)==AI_DIFFICULTY_NORMAL then
set Z84[GetPlayerId(p)]=ZE4
elseif GetAIDifficulty(p)==AI_DIFFICULTY_INSANE then
set Z84[GetPlayerId(p)]=ZF4
else
set Z84[GetPlayerId(p)]=Z94
endif
endfunction
function QE7 takes integer QF7 returns integer
if(QF7==1212363833 or QF7==1212365106 or QF7==1311781199 or QF7==1315070563 or QF7==1215657064 or QF7==1332179560 or QF7==1160785973 or QF7==1311781174 or QF7==1315074670 or QF7==1164277353 or QF7==1429221430 or QF7==1165451634 or QF7==1160785972 or QF7==1162032181 or QF7==1162032951 or QF7==1315334514 or QF7==1215722344 or QF7==1160786242 or QF7==1211117641 or QF7==1211119409)then
return E_7
endif
if(QF7==1215723364 or QF7==1328558160 or QF7==1211117617 or QF7==1212363833 or QF7==1212365106 or QF7==1311781199 or QF7==1315070563 or QF7==1215657064 or QF7==1332179560 or QF7==1160785973 or QF7==1433631084 or QF7==1211117624 or QF7==1315007329 or QF7==1215063922 or QF7==1164207469 or QF7==1315074670 or QF7==1211117636 or QF7==1311781206 or QF7==1211117649 or QF7==1160786265 or QF7==1211117652 or QF7==1211119187 or QF7==1164277353 or QF7==1162032439 or QF7==1430466865 or QF7==1429221441 or QF7==1429221432 or QF7==1429221430 or QF7==1211117654 or QF7==1432646245 or QF7==1430467634 or QF7==1429221424 or QF7==1430468913 or QF7==1162032181 or QF7==1162032951 or QF7==1160785970 or QF7==1429221443 or QF7==1328558154 or QF7==1432510828 or QF7==1315334514 or QF7==1429221451 or QF7==1215722344 or QF7==1160786242 or QF7==1211117641 or QF7==1211119409 or QF7==1160786505 or QF7==1160786510 or QF7==1311788336 or QF7==1160786507)then
return F47
endif
if(QF7==1211117617 or QF7==1214344551 or QF7==1211117624 or QF7==1315988077 or QF7==1211117616 or QF7==1215063922 or QF7==1311781193 or QF7==1211119187 or QF7==1430466865 or QF7==1429221441 or QF7==1429221432 or QF7==1313026096 or QF7==1429221443 or QF7==1332109682 or QF7==1429221446 or QF7==1332766568 or QF7==1432642913 or QF7==1211117650 or QF7==1328558389 or QF7==1328558406 or QF7==1160786502 or QF7==1160786507 or QF7==1160786738)then
return F77
endif
if(QF7==1164799855 or QF7==1333027688 or QF7==1311781185 or QF7==1433105516 or QF7==1214409837 or QF7==1215130471 or QF7==1164799603 or QF7==1432580716 or QF7==1211117633 or QF7==1332898670 or QF7==1214345830 or QF7==1160786000 or QF7==1311780930 or QF7==1311786311 or QF7==1430466872 or QF7==1430468144 or QF7==1430466609 or QF7==1211117640 or QF7==1332963428 or QF7==1429221445 or QF7==1160786241 or QF7==1429221456 or QF7==1160786243 or QF7==1311781207 or QF7==1311780946 or QF7==1211117646 or QF7==1211117653 or QF7==1311787088 or QF7==1328558390 or QF7==1160786506 or QF7==1160786504)then
return F87
endif
if(QF7==1215128178 or QF7==1164799855 or QF7==1214931305 or QF7==1211117620 or QF7==1215130471 or QF7==1316252014 or QF7==1211117643 or QF7==1160786000 or QF7==1211117651 or QF7==1164666213 or QF7==1433168227 or QF7==1430468406 or QF7==1430466872 or QF7==1211117640 or QF7==1332963428 or QF7==1160786241 or QF7==1429221456 or QF7==1211117653 or QF7==1160786520 or QF7==1432580716 or(QF7==1429221720)or QF7==1211122767)then
return F97
endif
if((QF7==1215128178)or(QF7==1211117620)or(QF7==1215130471)or(QF7==1316252014)or(QF7==1332898670)or(QF7==1160786000)or(QF7==1433168227)or(QF7==1430466872)or(QF7==1430466609)or(QF7==1211117640)or(QF7==1211117653)or(QF7==1311787088)or(QF7==1211122767))then
return FD7
endif
if(QF7==1164799855)or(QF7==1433105516)or(QF7==1214409837)or(QF7==1164799603)or(QF7==1432580716)or(QF7==1429221720)or(QF7==1211117643)or(QF7==1211117633)or(QF7==1332898670)or(QF7==1211117616)or(QF7==1315074670)or(QF7==1160786000)or(QF7==1164666213)or(QF7==1430468406)or(QF7==1162032439)or(QF7==1429221432)or(QF7==1429221430)or(QF7==1211117640)or(QF7==1160786243)or(QF7==1429221445)or(QF7==1311780946)or(QF7==1211117620)or(QF7==1211117636)or(QF7==1332179560)or(QF7==1429221441)then
return FE7
endif
return 0
endfunction
function QG7 takes integer QF7,integer QH7 returns boolean
if QH7==0 then
return true
elseif QH7==E_7 and(QF7==1212363833 or QF7==1212365106 or QF7==1311781199 or QF7==1315070563 or QF7==1215657064 or QF7==1332179560 or QF7==1160785973 or QF7==1311781174 or QF7==1315074670 or QF7==1164277353 or QF7==1429221430 or QF7==1165451634 or QF7==1160785972 or QF7==1162032181 or QF7==1162032951 or QF7==1315334514 or QF7==1215722344 or QF7==1160786242 or QF7==1211117641 or QF7==1211119409)then
return true
elseif QH7==F47 and(QF7==1215723364 or QF7==1328558160 or(QF7==1429221720)or QF7==1211117617 or QF7==1212363833 or QF7==1212365106 or QF7==1311781199 or QF7==1315070563 or QF7==1215657064 or QF7==1332179560 or QF7==1160785973 or QF7==1433631084 or QF7==1211117624 or QF7==1315007329 or QF7==1215063922 or QF7==1164207469 or QF7==1315074670 or QF7==1211117636 or QF7==1311781206 or QF7==1211117649 or QF7==1160786265 or QF7==1211117652 or QF7==1211119187 or QF7==1164277353 or QF7==1162032439 or QF7==1430466865 or QF7==1429221441 or QF7==1429221432 or QF7==1429221430 or QF7==1211117654 or QF7==1432646245 or QF7==1430467634 or QF7==1429221424 or QF7==1430468913 or QF7==1162032181 or QF7==1162032951 or QF7==1160785970 or QF7==1429221443 or QF7==1328558154 or QF7==1432510828 or QF7==1315334514 or QF7==1429221451 or QF7==1215722344 or QF7==1160786242 or QF7==1211117641 or QF7==1211119409 or QF7==1160786505 or QF7==1160786510 or QF7==1311788336 or QF7==1160786507)then
return true
elseif QH7==F77 and(QF7==1211117617 or QF7==1214344551 or QF7==1432580716 or(QF7==1429221720)or QF7==1211117624 or QF7==1315988077 or QF7==1211117616 or QF7==1215063922 or QF7==1311781193 or QF7==1211119187 or QF7==1430466865 or QF7==1429221441 or QF7==1429221432 or QF7==1313026096 or QF7==1429221443 or QF7==1332109682 or QF7==1429221446 or QF7==1332766568 or QF7==1432642913 or QF7==1211117650 or QF7==1328558389 or QF7==1328558406 or QF7==1160786502 or QF7==1160786738)then
return true
elseif QH7==F87 and(QF7==1164799855 or QF7==1333027688 or QF7==1311781185 or QF7==1433105516 or QF7==1214409837 or QF7==1215130471 or QF7==1164799603 or QF7==1432580716 or(QF7==1429221720)or QF7==1211117633 or QF7==1332898670 or QF7==1214345830 or QF7==1160786000 or QF7==1311780930 or QF7==1311786311 or QF7==1430466872 or QF7==1430468144 or QF7==1430466609 or QF7==1211117640 or QF7==1332963428 or QF7==1429221445 or QF7==1160786241 or QF7==1429221456 or QF7==1160786243 or QF7==1311781207 or QF7==1311780946 or QF7==1211117646 or QF7==1211117653 or QF7==1311787088 or QF7==1328558390 or QF7==1160786506 or QF7==1160786504)then
return true
elseif QH7==F97 and(QF7==1215128178 or QF7==1164799855 or QF7==1214931305 or QF7==1211117620 or QF7==1215130471 or QF7==1316252014 or QF7==1211117643 or QF7==1160786000 or QF7==1211117651 or QF7==1164666213 or QF7==1433168227 or QF7==1430468406 or QF7==1430466872 or QF7==1211117640 or QF7==1332963428 or QF7==1160786241 or QF7==1429221456 or QF7==1211117653 or QF7==1160786520 or QF7==1432580716 or(QF7==1429221720)or QF7==1211122767)then
return true
elseif QH7==FD7 and(((QF7==1215128178)or(QF7==1211117620)or(QF7==1215130471)or(QF7==1316252014)or(QF7==1332898670)or(QF7==1160786000)or(QF7==1433168227)or(QF7==1430466872)or(QF7==1430466609)or(QF7==1211117640)or(QF7==1211117653)or(QF7==1311787088)or(QF7==1211122767)))then
return true
elseif QH7==FE7 and((QF7==1164799855)or(QF7==1433105516)or(QF7==1214409837)or(QF7==1164799603)or(QF7==1432580716)or(QF7==1429221720)or(QF7==1211117643)or(QF7==1211117633)or(QF7==1332898670)or(QF7==1211117616)or(QF7==1315074670)or(QF7==1160786000)or(QF7==1164666213)or(QF7==1430468406)or(QF7==1162032439)or(QF7==1429221432)or(QF7==1429221430)or(QF7==1211117640)or(QF7==1160786243)or(QF7==1429221445)or(QF7==1311780946)or(QF7==1211117620)or(QF7==1211117636)or(QF7==1332179560)or(QF7==1429221441))then
return true
endif
return false
endfunction
function QI7 takes integer QF7 returns integer
if(QF7==1211117620 or QF7==1214409837 or QF7==1432580716 or QF7==1429221720 or QF7==1211117643 or QF7==1160786000 or QF7==1164666213 or QF7==1430468406 or QF7==1211117640 or QF7==1332766568 or QF7==1311780946 or QF7==1211122767)then
return 1
endif
if(QF7==1214931305 or QF7==1333027688 or QF7==1215130471 or QF7==1316252014 or QF7==1164799603 or QF7==1332898670 or QF7==1433168227 or QF7==1430466872 or QF7==1429221445 or QF7==1160786241 or QF7==1211117650 or QF7==1211117646 or QF7==1211117653 or QF7==1160786506 or QF7==1160786507)then
return 2
endif
if(QF7==1215723364 or QF7==1164799855 or QF7==1212365106 or QF7==1311781185 or QF7==1214344551 or QF7==1215657064 or QF7==1211117633 or QF7==1315007329 or QF7==1215063922 or QF7==1164207469 or QF7==1315074670 or QF7==1211117649 or QF7==1160786265 or QF7==1211117652 or QF7==1429221441 or QF7==1165451634 or QF7==1432646245 or QF7==1430467634 or QF7==1332963428 or QF7==1429221446 or QF7==1160786243)then
return 4
endif
return 3
endfunction
function QJ7 takes integer QK7,boolean QM7 returns string
if QK7==0 then
return GetObjectName(1498169649)
elseif QK7==1 then
return GetObjectName(1498169650)
elseif QK7==2 then
return GetObjectName(1498169651)
elseif QK7==3 and QM7 then
return GetObjectName(1498169652)
elseif QK7==4 and QM7 then
return GetObjectName(1498169653)
endif
return""
endfunction
function QN7 takes boolean QO7 returns integer
local integer QP7=OV7(QO7,0,24)
local integer QQ7=0
local integer k=0
local integer j
local integer i=-1
loop
exitwhen QQ7>3
if QQ7==0 then
set j=3
else
set j=QQ7-1
endif
if E37[QP7+8+j]>0 then
if E37[QP7+12+j]==0 then
set i=j
exitwhen true
elseif E37[QP7+8+j]>k or(E37[QP7+8+j]==k and GetRandomInt(1,5-QQ7)==1)then
set i=j
set k=E37[QP7+8+j]
endif
endif
set QQ7=QQ7+1
endloop
return i
endfunction
function QR7 takes unit it returns real
local integer i1=GetUnitTypeId(it)
if(i1==1433631084)then
return 550.+I2R(75*GetUnitAbilityLevel(it,1093677909))
elseif((i1==1211117616)or(i1==1214345830)or(i1==1315988077)or(i1==1214344551)or(i1==1211117624)or(i1==1328558154)or(i1==1429221443)or(i1==1429221432)or(i1==1432646245)or(i1==1311780946)or(i1==1430468913)or(i1==1211117650)or(i1==1164207469)or(i1==1315070563)or(i1==1212363833)or(i1==1332179560)or(i1==1211117641)or(i1==1215657064)or(i1==1215722344)or(i1==1165451634)or(i1==1164277353)or(i1==1160786242)or(i1==1215130471))then
return 100.
elseif((i1==1211117652)or(i1==1212365106))then
return 125.
elseif((i1==1211119187)or(i1==1333027688)or(i1==1311781193)or(i1==1429221451)or(i1==1429221446)or(i1==1315007329)or(i1==1162032181)or(i1==1429221424)or(i1==1328558389)or(i1==1211119409)or(i1==1160786505)or(i1==1311788336)or(i1==1160786507)or(i1==1160786738))then
return 128.
elseif((i1==1430467634)or(i1==1432642913)or(i1==1215063922))then
return 150.
elseif((i1==1211117636)or(i1==1211117617)or(i1==1432580716)or(i1==1429221720)or(i1==1430466865)or(i1==1332109682)or(i1==1332766568)or(i1==1429221441)or(i1==1313026096)or(i1==1211117646))then
return 200.
elseif(i1==1429221430)then
return 250.
elseif((i1==1328558160)or(i1==1215128178))then
return 350.
elseif((i1==1211117649)or(i1==1160786000))then
return 400.
elseif(i1==1432510828)or(i1==1311788343)then
return 425.
elseif((i1==1162032439)or(i1==1429221456))then
return 450.
elseif(i1==1160785970)then
return 475.
elseif(i1==1211117651)then
return 480.
elseif((i1==1315334514)or(i1==1316252014)or(i1==1332898670)or(i1==1311781207))then
return 500.
elseif(i1==1311781199)or(i1==1164799855)or(i1==1430466609)or(i1==1311780930)then
return 550.
elseif(i1==1162032951)then
return 575.
elseif((i1==1311781206)or(i1==1315074670)or((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))or(i1==1160785972)or(i1==1211117633)or(i1==1311781185)or(i1==1211117620)or(i1==1164666213)or(i1==1160786241)or(i1==1430468406)or(i1==1430466872)or(i1==1211117653)or(i1==1429221445)or(i1==1211117640)or(i1==1160786243)or(i1==1311787088)or(i1==1160786520)or(i1==1211122767))then
return 600.
elseif(i1==1311788363)then
return 625.
else
return 0.
endif
endfunction
function QS7 takes unit P67,integer O5 returns nothing
if(IsUnitAlly(P67,Z7[0]))then
if E37[64+O5]==0 then
set h8[64+O5]=h7[2]
elseif E37[64+O5]==1 then
set h8[64+O5]=h7[4]
elseif E37[64+O5]==2 then
set h8[64+O5]=h7[3]
elseif E37[64+O5]==3 then
set h8[64+O5]=h7[1]
endif
else
if E37[64+O5]==0 then
set h8[64+O5]=h7[102]
elseif E37[64+O5]==1 then
set h8[64+O5]=h7[103]
elseif E37[64+O5]==2 then
set h8[64+O5]=h7[104]
elseif E37[64+O5]==3 then
set h8[64+O5]=h7[101]
endif
endif
endfunction
function QT7 takes group g returns boolean
return FirstOfGroup(g)==null
endfunction
function QU7 takes integer QV7,unit QW7,integer QX7,integer QY7 returns boolean
set UD4[QV7]=true
call SetPlayerAbilityAvailable(GetOwningPlayer(QW7),QX7,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(QW7),QY7,true)
return true
endfunction
function QZ7 takes integer QV7 returns boolean
set GZ[QV7]=true
return true
endfunction
function QA7 takes real QB7 returns nothing
local real QC7
local real st=TimerGetElapsed(W)
if st<=0 then
set W=CreateTimer()
call TimerStart(W,9000,false,null)
endif
if(QB7>0)then
loop
set QC7=QB7-TimerGetElapsed(W)+st
exitwhen QC7<=0
if(QC7>bj_POLLED_WAIT_SKIP_THRESHOLD)then
call TriggerSleepAction(0.1*QC7)
else
call TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)
endif
endloop
endif
endfunction
function Q37 takes unit a,widget b,real Q67 returns boolean
local real QL7=(GetUnitFacing(a)-bj_RADTODEG*Atan2(GetWidgetY(b)-GetUnitY(a),GetWidgetX(b)-GetUnitX(a)))
if QL7>180 then
set QL7=360-QL7
endif
if QL7<0 then
set QL7=-QL7
endif
return QL7<=Q67
endfunction
function Q17 takes widget p5,widget m5 returns real
local real t5
local real w5
local real Y5
local real Z5
if p5!=null and m5!=null then
set t5=GetWidgetX(p5)
set w5=GetWidgetY(p5)
set Y5=GetWidgetX(m5)
set Z5=GetWidgetY(m5)
return SquareRoot((t5-Y5)*(t5-Y5)+(w5-Z5)*(w5-Z5))
endif
return 999999.
endfunction
function Q07 takes real x1,real y1,real x2,real y2 returns real
return SquareRoot(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2)))
endfunction
function Q57 takes integer O5 returns integer
local integer kc=3
set EZ7="tmv"
if((hj[256+O5]==18)or(hj[O5]==10)or(hj[256+O5]==118)or(hj[O5]==110))then
set kc=0
elseif((hj[256+O5]==40)or(hj[O5]==30)or(hj[256+O5]==140)or(hj[O5]==130))then
set kc=1
elseif((hj[256+O5]==60)or(hj[O5]==50)or(hj[256+O5]==160)or(hj[O5]==150))then
set kc=2
endif
return kc
endfunction
function Q27 takes unit it returns integer
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP=GetUnitUserData(h8[O5])
set EZ7="aiGetHeroLane_tMv"
if((UP==0)or(UP==100)or(UP==1)or(UP==101))then
set UP=GetUnitUserData(h9[O5])
endif
return Q57(UP)
endfunction
function Q_7 takes integer O5 returns integer
set eY[80+O5]=5
if IG4[O5]then
elseif(Q17(M7[O5],h7[0])<4000.)then
set eY[80+O5]=3
elseif(Q17(M7[O5],h7[100])<4000.)then
set eY[80+O5]=4
elseif IsUnitInRange(M7[O5],h8[O5],2000.)then
set eY[80+O5]=Q57(GetUnitUserData(h8[O5]))
if eY[80+O5]==3 then
set eY[80+O5]=5
endif
elseif IsUnitInRange(M7[O5],h8[80+O5],2000.)then
set eY[80+O5]=Q57(GetUnitUserData(h8[80+O5]))
if eY[80+O5]==3 then
set eY[80+O5]=5
endif
else
set eY[80+O5]=5
set GZ[400+O5]=true
endif
return eY[80+O5]
endfunction
function R47 takes integer R77 returns integer
local integer R87=0
set EZ7="DummyToHero"
loop
exitwhen R87>K54
if MI4[R87]==R77 then
return K34[R87]
endif
set R87=R87+1
endloop
return-1
endfunction
function R97 takes unit RD7 returns integer
local integer RE7=GetHeroLevel(RD7)
set EZ7="ConvertUnitToXP"
if RE7==1 then
return 100
elseif RE7==2 then
return 120
elseif RE7==3 then
return 160
elseif RE7==4 then
return 220
else
return-200+100*RE7
endif
return 0
endfunction
function RF7 takes nothing returns real
return TimerGetElapsed(W)
endfunction
function RG7 takes unit RH7 returns nothing
call PauseUnit(RH7,true)
call IssueImmediateOrder(RH7,"stop")
call PauseUnit(RH7,false)
endfunction
function RI7 takes location f4,real F4,real l4 returns location
return Location(GetLocationX(f4)+F4*Cos(l4*bj_DEGTORAD),GetLocationY(f4)+F4*Sin(l4*bj_DEGTORAD))
endfunction
function L4 takes nothing returns boolean
local real dx=GetDestructableX(GetFilterDestructable())-Wz
local real dy=GetDestructableY(GetFilterDestructable())-Yz
set EZ7="L4"
return(dx*dx+dy*dy<=bj_enumDestructableRadius)
endfunction
function M4 takes player p4 returns force
set V2=CreateForce()
call ForceEnumEnemies(V2,p4,bH)
return V2
endfunction
function RJ7 takes unit P67 returns boolean
local integer id=GetUnitTypeId(P67)
return id==VT4 or id==VU4 or id==VV4 or id==VW4 or id==VX4 or id==VY4 or id==VA4 or id==VB4 or id==VC4 or id==V34 or id==V64 or id==VL4 or id==V24 or id==V_4 or id==W74
endfunction
function RK7 takes unit P67 returns boolean
local integer id=GetUnitTypeId(P67)
return id==VS4 or id==VZ4 or id==W44 or id==V14 or id==V04 or id==V54
endfunction
function RM7 takes unit P67 returns boolean
return RJ7(P67)or RK7(P67)
endfunction
function RN7 takes item Z4 returns nothing
call DisableTrigger(H94)
call RemoveItem(Z4)
call EnableTrigger(H94)
endfunction
function RO7 takes item x5 returns integer
local integer o5
local integer i=1
if x5==null then
return-2
endif
set o5=GetItemTypeId(x5)
loop
exitwhen i>EV
if SU[i]==o5 or ZU[i]==o5 or BU[i]==o5 then
return i
endif
set i=i+1
endloop
return-1
endfunction
function RP7 takes item RQ7 returns integer
local integer RR7
local integer i=1
if RQ7==null then
return-2
endif
set RR7=GetItemTypeId(RQ7)
loop
exitwhen i>EV
if SU[i]==RR7 or ZU[i]==RR7 then
return i
endif
set i=i+1
endloop
return-1
endfunction
function RS7 takes item RQ7 returns integer
local integer RR7
local integer i=1
if RQ7==null then
return-2
endif
set RR7=GetItemTypeId(RQ7)
loop
exitwhen i>EV
if BU[i]==RR7 then
return i
endif
set i=i+1
endloop
return-1
endfunction
function V5 takes nothing returns nothing
set HM4[1]=1093677633
set HN4[1]=1093744463
set HO4[1]=1094934883
set HP4[1]=1093683534
set HM4[2]=1093677616
set HN4[2]=1093683779
set HO4[2]=1093684789
set HP4[2]=1093810503
set HM4[3]=1093682263
set HN4[3]=1093682264
set HO4[3]=1093677378
set HP4[3]=1093682265
set HM4[4]=1093682766
set HN4[4]=1093682998
set HO4[4]=1093684056
set HP4[4]=1093683000
set HM4[5]=1093748025
set HN4[5]=1093678147
set HO4[5]=1095262562
set HP4[5]=1093677906
set HM4[6]=1093744944
set HN4[6]=1093677387
set HO4[6]=1093814611
set HP4[6]=1093752648
set HM4[7]=1093678643
set HN4[7]=1093681729
set HO4[7]=1093677125
set HP4[7]=1093678933
set HM4[8]=1093686091
set HN4[8]=1093682252
set HO4[8]=1093682250
set HP4[8]=1093682248
set HM4[9]=1093685831
set HN4[9]=1093684025
set HO4[9]=1093682266
set HP4[9]=1093677130
set HM4[10]=1093681461
set HN4[10]=1093748039
set HO4[10]=1093681464
set HP4[10]=1093681479
set HM4[11]=1093677382
set HN4[11]=1093677623
set HO4[11]=1093744728
set HP4[11]=1093677392
set HM4[12]=1093678407
set HN4[12]=1093678135
set HO4[12]=1093677131
set HP4[12]=1093684529
set HM4[13]=1093743692
set HN4[13]=1093684314
set HO4[13]=1093815892
set HP4[13]=1093684275
set HM4[14]=1093677402
set HN4[14]=1093748535
set HO4[14]=1093677397
set HP4[14]=1093678938
set HM4[15]=1093747009
set HN4[15]=1093747000
set HO4[15]=1093747524
set HP4[15]=1093746993
set HM4[16]=1093679157
set HN4[16]=1093742680
set HO4[16]=1093742898
set HP4[16]=1093742932
set HM4[17]=1093677913
set HN4[17]=1093750841
set HO4[17]=1095657827
set HP4[17]=1093684291
set HM4[18]=1093679172
set HN4[18]=1093677126
set HO4[18]=1093679177
set HP4[18]=1093679160
set HM4[19]=1093678137
set HN4[19]=1093678405
set HO4[19]=1093681745
set HP4[19]=1093678645
set HM4[20]=1093808453
set HN4[20]=1093677391
set HO4[20]=1095067246
set HP4[20]=1093752632
set HM4[21]=1093742660
set HN4[21]=1093682231
set HO4[21]=1093682242
set HP4[21]=1093687627
set HM4[22]=1093684300
set HN4[22]=1093681754
set HO4[22]=1093744977
set HP4[22]=1093682009
set HM4[23]=1093678410
set HN4[23]=1093678664
set HO4[23]=1093678658
set HP4[23]=1093681483
set HM4[24]=1093684045
set HN4[24]=1093684310
set HO4[24]=1093810260
set HP4[24]=1093684308
set HM4[25]=1093678130
set HN4[25]=1093678129
set HO4[25]=1093678642
set HP4[25]=1093678388
set HM4[26]=1093678644
set HN4[26]=1093677907
set HO4[26]=1093677909
set HP4[26]=1093678160
set HM4[27]=1093681733
set HN4[27]=1093681731
set HO4[27]=1093685040
set HP4[27]=1093748042
set HM4[28]=1093677360
set HN4[28]=1093685848
set HO4[28]=1093677136
set HP4[28]=1093677128
set HM4[29]=1093682775
set HN4[29]=1093683024
set HO4[29]=1093684531
set HP4[29]=1093682774
set HM4[30]=1093678669
set HN4[30]=1097032808
set HO4[30]=1093684568
set HP4[30]=1093684561
set HM4[31]=1093677139
set HN4[31]=1093816142
set HO4[31]=1093677142
set HP4[31]=1093816118
set HM4[32]=1093677108
set HN4[32]=1093749073
set HO4[32]=1093678913
set HP4[32]=1093681716
set HM4[33]=1093677894
set HN4[33]=1093681490
set HO4[33]=1093681996
set HP4[33]=1093677895
set HM4[34]=1093677618
set HN4[34]=1095066220
set HO4[34]=1093684057
set HP4[34]=1093682483
set HM4[35]=1093677622
set HN4[35]=1093685570
set HO4[35]=1093677625
set HP4[35]=1093686851
set HM4[36]=1093679182
set HN4[36]=1093679190
set HO4[36]=1093678657
set HP4[36]=1093682514
set HM4[37]=1093685041
set HN4[37]=1093685071
set HO4[37]=1093681732
set HP4[37]=1093685042
set HM4[38]=1093685047
set HN4[38]=1093685046
set HO4[38]=1093685048
set HP4[38]=1093685045
set HM4[39]=1093683532
set HN4[39]=1093750345
set HO4[39]=1093685043
set HP4[39]=1095656306
set HM4[40]=1093684054
set HN4[40]=1093684280
set HO4[40]=1093684302
set HP4[40]=1093684053
set HM4[41]=1093743696
set HN4[41]=1093743698
set HO4[41]=1093685591
set HP4[41]=1093743695
set HM4[42]=1093685584
set HN4[42]=1093685582
set HO4[42]=1093685585
set HP4[42]=1093685586
set HM4[43]=1093748033
set HN4[43]=1093685846
set HO4[43]=1093685839
set HP4[43]=1093685840
set HM4[44]=1093686073
set HN4[44]=1093686083
set HO4[44]=1093686082
set HP4[44]=1093686072
set HM4[45]=1093687860
set HN4[45]=1093687861
set HO4[45]=1093687862
set HP4[45]=1093687864
set HM4[46]=1093743414
set HN4[46]=1093743444
set HO4[46]=1093742926
set HP4[46]=1093742923
set HM4[47]=1093743178
set HN4[47]=1093743179
set HO4[47]=1093743689
set HP4[47]=1093743184
set HM4[48]=1093751631
set HN4[48]=1093751633
set HO4[48]=1093751895
set HP4[48]=1093751861
set HM4[49]=1093751894
set HN4[49]=1093751639
set HO4[49]=1093751637
set HP4[49]=1093752118
set HM4[50]=1093751873
set HN4[50]=1093751864
set HO4[50]=1093810257
set HP4[50]=1093751874
set HM4[51]=1093678918
set HN4[51]=1093679186
set HO4[51]=1093678387
set HP4[51]=1093678420
set HM4[52]=1093678904
set HN4[52]=1093678925
set HO4[52]=1093677635
set HP4[52]=1093678158
set HM4[53]=1093687349
set HN4[53]=1093684558
set HO4[53]=1093677646
set HP4[53]=1093679413
set HM4[54]=1093744435
set HN4[54]=1093684569
set HO4[54]=1093684563
set HP4[54]=1093677363
set HM4[55]=1093677651
set HN4[55]=1093677879
set HO4[55]=1093751364
set HP4[55]=1093810508
set HM4[56]=1093679192
set HN4[56]=1093750337
set HO4[56]=1093686872
set HP4[56]=1093678923
set HM4[57]=1093678389
set HN4[57]=1093685847
set HO4[57]=1093677902
set HP4[57]=1093677903
set HM4[58]=1093677892
set HN4[58]=1093687878
set HO4[58]=1093677893
set HP4[58]=1093679411
set HM4[59]=1093681736
set HN4[59]=1093681735
set HO4[59]=1093681739
set HP4[59]=1093687121
set HM4[60]=1093687629
set HN4[60]=1093685324
set HO4[60]=1093677904
set HP4[60]=1093677905
set HM4[61]=1093747504
set HN4[61]=1093682994
set HO4[61]=1093684560
set HP4[61]=1093747028
set HM4[62]=1093677640
set HN4[62]=1093679173
set HO4[62]=1093679158
set HP4[62]=1093677899
set HM4[63]=1095267426
set HN4[63]=1096114550
set HO4[63]=1095721842
set HP4[63]=1093677401
set HM4[64]=1093742674
set HN4[64]=1093750608
set HO4[64]=1093679412
set HP4[64]=1093684565
set HM4[65]=1093687351
set HN4[65]=1093748789
set HO4[65]=1093815119
set HP4[65]=1093679445
set HM4[66]=1093678403
set HN4[66]=1093810507
set HO4[66]=1093683786
set HP4[66]=1093677876
set HM4[67]=1093685559
set HN4[67]=1093684549
set HO4[67]=1093678145
set HP4[67]=1093810258
set HM4[68]=1093677872
set HN4[68]=1095263841
set HO4[68]=1093677621
set HP4[68]=1093678161
set HM4[69]=1093684299
set HN4[69]=1093682010
set HO4[69]=1093679153
set HP4[69]=1093683761
set HM4[70]=1093679446
set HN4[70]=1093746995
set HO4[70]=1093684557
set HP4[70]=1093679152
set HM4[71]=1093748023
set HN4[71]=1093747792
set HO4[71]=1093748022
set HP4[71]=1093747023
set HM4[72]=1093686322
set HN4[72]=1093686099
set HO4[72]=1093744948
set HP4[72]=1093686103
set HM4[73]=1093684564
set HN4[73]=1093681989
set HO4[73]=1093679428
set HP4[73]=1093681987
set HM4[74]=1093678134
set HN4[74]=1093678149
set HO4[74]=1093678132
set HP4[74]=1093810505
set HM4[75]=1093816137
set HN4[75]=1093683019
set HO4[75]=1093678169
set HP4[75]=1093677649
set HM4[76]=1093678422
set HN4[76]=1093677390
set HO4[76]=1093678640
set HP4[76]=1093678647
set HM4[77]=1093678665
set HN4[77]=1093678667
set HO4[77]=1093678660
set HP4[77]=1093682764
set HM4[78]=1093750840
set HN4[78]=1093682515
set HO4[78]=1093682997
set HP4[78]=1093682996
set HM4[79]=1093751127
set HN4[79]=1093681985
set HO4[79]=1093681991
set HP4[79]=1093682004
set HM4[80]=1093682521
set HN4[80]=1093681746
set HO4[80]=1093682773
set HP4[80]=1093810506
set HM4[81]=1093678671
set HN4[81]=1093683248
set HO4[81]=1093682753
set HP4[81]=1093678674
set HM4[82]=1093683510
set HN4[82]=1093686065
set HO4[82]=1093681974
set HP4[82]=1093682482
set HM4[83]=1093682499
set HN4[83]=1093684293
set HO4[83]=1093683512
set HP4[83]=1093684296
set HM4[84]=1093683507
set HN4[84]=1093684550
set HO4[84]=1093684551
set HP4[84]=1093684819
set HM4[85]=1093683287
set HN4[85]=1093682776
set HO4[85]=1093684801
set HP4[85]=1093683257
set HM4[86]=1093684813
set HN4[86]=1093684805
set HO4[86]=1093684815
set HP4[86]=1093684820
set HM4[87]=1093685065
set HN4[87]=1093685066
set HO4[87]=1093683526
set HP4[87]=1093685067
set HM4[88]=1093683765
set HN4[88]=1093681491
set HO4[88]=1093678672
set HP4[88]=1395667000
set HM4[89]=1093684802
set HN4[89]=1093684792
set HO4[89]=1093684791
set HP4[89]=1093684567
set HM4[90]=1093684817
set HN4[90]=1093742668
set HO4[90]=1093685074
set HP4[90]=1093742673
set HM4[91]=1093677385
set HN4[91]=1093685825
set HO4[91]=1093810232
set HP4[91]=1093685808
set HM4[92]=1093743955
set HN4[92]=1093685813
set HO4[92]=1093743958
set HP4[92]=1093743946
set HM4[93]=1093685573
set HN4[93]=1093685575
set HO4[93]=1093685815
set HP4[93]=1093685579
set HM4[94]=1093808471
set HN4[94]=1093808472
set HO4[94]=1093808470
set HP4[94]=1093808473
set HM4[95]=1093683511
set HN4[95]=1093744688
set HO4[95]=1093681713
set HP4[95]=1093747288
set HM4[96]=1093748044
set HN4[96]=1093744982
set HO4[96]=1093744986
set HP4[96]=1093744975
set HM4[97]=1093750087
set HN4[97]=1093748819
set HO4[97]=1093748817
set HP4[97]=1093750089
set HM4[98]=1093749069
set HN4[98]=1093749303
set HO4[98]=1093748818
set HP4[98]=1093749070
set HM4[99]=1093678156
set HN4[99]=1093683252
set HO4[99]=1093684566
set HP4[99]=1093678929
set HM4[100]=1093678679
set HN4[100]=1093677877
set HO4[100]=1093678678
set HP4[100]=1093808454
set HM4[101]=1093751608
set HN4[101]=1093751618
set HO4[101]=1093751604
set HP4[101]=1093751617
set HQ4[1]=1093747031
set HQ4[2]=1093810504
set HQ4[5]=1093681494
set HQ4[8]=1093750594
set HQ4[11]=1093679450
set HQ4[12]=1093747032
set HQ4[20]=1093752633
set HQ4[22]=1093752392
set HQ4[23]=1093748313
set HQ4[24]=1093747539
set HQ4[25]=1093677141
set HQ4[28]=1093681457
set HQ4[30]=1093747254
set HQ4[38]=1093747249
set HQ4[42]=1093747251
set HQ4[44]=1093751120
set HQ4[45]=1093747542
set HQ4[47]=1093747766
set HQ4[50]=1093808455
set HQ4[51]=1093679176
set HQ4[53]=1093679447
set HQ4[54]=1093681462
set HQ4[62]=1093747248
set HQ4[64]=1093681458
set HQ4[67]=1093810259
set HQ4[69]=1093747767
set HQ4[70]=1093752154
set HQ4[71]=1093752150
set HQ4[73]=1093677658
set HQ4[75]=1093747769
set HQ4[76]=1093679184
set HQ4[77]=1093747544
set HQ4[78]=1093747768
set HQ4[81]=1093747252
set HQ4[82]=1093750098
set HQ4[84]=1093747777
set HQ4[86]=1093684824
set HQ4[87]=1093752407
set HQ4[88]=1395667029
set HQ4[90]=1093747778
set HQ4[94]=1093748565
set HW4[1]="thunderbolt"
set HX4[1]="volcano"
set HY4[1]="passive"
set HZ4[1]="forkedlightning"
set HW4[2]="chainlightning"
set HX4[2]="thunderbolt"
set HY4[2]="passive"
set HZ4[2]="thunderclap"
set HW4[3]="passive"
set HX4[3]="slow"
set HY4[3]="locustswarm"
set HZ4[3]="poisonarrows"
set HW4[4]="carrionswarm"
set HX4[4]="acidbomb"
set HY4[4]="replenishmana"
set HZ4[4]="itemillusion"
set HW4[5]="blizzard"
set HX4[5]="entanglingroots"
set HY4[5]="passive"
set HZ4[5]="channel"
set HW4[6]="acidbomb"
set HX4[6]="passive"
set HY4[6]="volcano"
set HZ4[6]="chemicalrage"
set HW4[7]="mirrorimage"
set HX4[7]="ensnare"
set HY4[7]="passive"
set HZ4[7]="channel"
set HW4[8]="channel"
set HX4[8]="roar"
set HY4[8]="passive"
set HZ4[8]="fanofknives"
set HW4[9]="blizzard"
set HX4[9]="channel"
set HY4[9]="passive"
set HZ4[9]="passive"
set HW4[10]="summongrizzly"
set HX4[10]="fanofknives"
set HY4[10]="passive"
set HZ4[10]="bearform"
set HW4[11]="shockwave"
set HX4[11]="inferno"
set HY4[11]="passive"
set HZ4[11]="chainlightning"
set HW4[12]="whirlwind"
set HX4[12]="healingward"
set HY4[12]="passive"
set HZ4[12]="thunderbolt"
set HW4[13]="blizzard"
set HX4[13]="poisonarrows"
set HY4[13]="passive"
set HZ4[13]="channel"
set HW4[14]="invisibility"
set HX4[14]="thunderbolt"
set HY4[14]="innerfire"
set HZ4[14]="channel"
set HW4[15]="charm"
set HX4[15]="volcano"
set HY4[15]="passive"
set HZ4[15]="channel"
set HW4[16]="channel"
set HX4[16]="acidbomb"
set HY4[16]="acolyteharvest"
set HZ4[16]="metamorphosis"
set HW4[17]="thunderclap"
set HX4[17]="channel"
set HY4[17]="passive"
set HZ4[17]="berserk"
set HW4[18]="thunderbolt"
set HX4[18]="acidbomb"
set HY4[18]="bloodlust"
set HZ4[18]="passive"
set HW4[19]="drunkenhaze"
set HX4[19]="fanofknives"
set HY4[19]="curse"
set HZ4[19]="channel"
set HW4[20]="thunderbolt"
set HX4[20]="blink"
set HY4[20]="forceofnature"
set HZ4[20]="chainlightning"
set HW4[21]="acidbomb"
set HX4[21]="windwalk"
set HY4[21]="passive"
set HZ4[21]="passive"
set HW4[22]="blizzard"
set HX4[22]="channel"
set HY4[22]="passive"
set HZ4[22]="passive"
set HW4[23]="landmine"
set HX4[23]="stasistrap"
set HY4[23]="selfdestruct"
set HZ4[23]="summonward"
set HW4[24]="drunkenhaze"
set HX4[24]="thunderbolt"
set HY4[24]="charm"
set HZ4[24]="channel"
set HW4[25]="firebolt"
set HX4[25]="moonglaive"
set HY4[25]="passive"
set HZ4[25]="channel"
set HW4[26]="blizzard"
set HX4[26]="passive"
set HY4[26]="moonglaive"
set HZ4[26]="thunderbolt"
set HW4[27]="bearform"
set HX4[27]="curse"
set HY4[27]="passive"
set HZ4[27]="fanofknives"
set HW4[28]="forkedlightning"
set HX4[28]="hex"
set HY4[28]="magicleash"
set HZ4[28]="summonward"
set HW4[29]="channel"
set HX4[29]="fanofknives"
set HY4[29]="passive"
set HZ4[29]="passive"
set HW4[30]="thunderclap"
set HX4[30]="drunkenhaze"
set HY4[30]="passive"
set HZ4[30]="elementalfury"
set HW4[31]="stomp"
set HX4[31]="firebolt"
set HY4[31]="passive"
set HZ4[31]="passive"
set HW4[32]="thunderbolt"
set HX4[32]="passive"
set HY4[32]="windwalk"
set HZ4[32]="faeriefire"
set HW4[33]="breathoffire"
set HX4[33]="thunderbolt"
set HY4[33]="passive"
set HZ4[33]="metamorphosis"
set HW4[34]="passive"
set HX4[34]="blink"
set HY4[34]="passive"
set HZ4[34]="thunderbolt"
set HW4[35]="coldarrows"
set HX4[35]="silence"
set HY4[35]="passive"
set HZ4[35]="passive"
set HW4[36]="frostarmor"
set HX4[36]="antimagicshell"
set HY4[36]="passive"
set HZ4[36]="battleroar"
set HW4[37]="carrionswarm"
set HX4[37]="summonquillbeast"
set HY4[37]="passive"
set HZ4[37]="thunderbolt"
set HW4[38]="carrionswarm"
set HX4[38]="breathoffire"
set HY4[38]="passive"
set HZ4[38]="shockwave"
set HW4[39]="blizzard"
set HX4[39]="fanofknives"
set HY4[39]="passive"
set HZ4[39]="chemicalrage"
set HW4[40]="channel"
set HX4[40]="acidbomb"
set HY4[40]="windwalk"
set HZ4[40]="corporealform"
set HW4[41]="fanofknives"
set HX4[41]="chainlightning"
set HY4[41]="passive"
set HZ4[41]="carrionswarm"
set HW4[42]="thunderbolt"
set HX4[42]="poisonarrows"
set HY4[42]="passive"
set HZ4[42]="firebolt"
set HW4[43]="fanofknives"
set HX4[43]="windwalk"
set HY4[43]="passive"
set HZ4[43]="curse"
set HW4[44]="acidbomb"
set HX4[44]="channel"
set HY4[44]="phaseshift"
set HZ4[44]="blizzard"
set HW4[45]="channel"
set HX4[45]="charm"
set HY4[45]="blizzard"
set HZ4[45]="clusterrockets"
set HW4[46]="blizzard"
set HX4[46]="passive"
set HY4[46]="charm"
set HZ4[46]="acidbomb"
set HW4[47]="chainlightning"
set HX4[47]="acidbomb"
set HY4[47]="fanofknives"
set HZ4[47]="charm"
set HW4[48]=""
set HX4[48]=""
set HY4[48]=""
set HZ4[48]=""
set HW4[49]=""
set HX4[49]=""
set HY4[49]=""
set HZ4[49]=""
set HW4[50]=""
set HX4[50]=""
set HY4[50]=""
set HZ4[50]=""
set HW4[51]="frostnova"
set HX4[51]="frostarmor"
set HY4[51]="innerfire"
set HZ4[51]="sleep"
set HW4[52]="carrionswarm"
set HX4[52]="silence"
set HY4[52]="passive"
set HZ4[52]="locustswarm"
set HW4[53]="impale"
set HX4[53]="hex"
set HY4[53]="drain"
set HZ4[53]="chainlightning"
set HW4[54]="volcano"
set HX4[54]="passive"
set HY4[54]="summonward"
set HZ4[54]="summongrizzly"
set HW4[55]="shockwave"
set HX4[55]="innerfire"
set HY4[55]="carrionswarm"
set HZ4[55]="stomp"
set HW4[56]="cripple"
set HX4[56]="creepheal"
set HY4[56]="passive"
set HZ4[56]="fanofknives"
set HW4[57]="firebolt"
set HX4[57]="channel"
set HY4[57]="passive"
set HZ4[57]="mirrorimage"
set HW4[58]="spiritwolf"
set HX4[58]="channel"
set HY4[58]="passive"
set HZ4[58]="metamorphosis"
set HW4[59]="parasite"
set HX4[59]="inferno"
set HY4[59]="passive"
set HZ4[59]="roar"
set HW4[60]="acidbomb"
set HX4[60]="channel"
set HY4[60]="passive"
set HZ4[60]="passive"
set HW4[61]="bearform"
set HX4[61]="chainlightning"
set HY4[61]="manashield"
set HZ4[61]="charm"
set HW4[62]="thunderbolt"
set HX4[62]="drunkenhaze"
set HY4[62]="passive"
set HZ4[62]="itemchangetime"
set HW4[63]="thunderbolt"
set HX4[63]="passive"
set HY4[63]="passive"
set HZ4[63]="reincarnation"
set HW4[64]="channel"
set HX4[64]="fanofknives"
set HY4[64]="firebolt"
set HZ4[64]="doom"
set HW4[65]="impale"
set HX4[65]="creepheal"
set HY4[65]="carrionscarabsoff"
set HZ4[65]="windwalk"
set HW4[66]="berserk"
set HX4[66]="stomp"
set HY4[66]="passive"
set HZ4[66]="faeriefire"
set HW4[67]="shadowstrike"
set HX4[67]="blink"
set HY4[67]="fanofknives"
set HZ4[67]="carrionswarm"
set HW4[68]="berserk"
set HX4[68]="flamingarrows"
set HY4[68]="windwalk"
set HZ4[68]="innerfire"
set HW4[69]="carrionswarm"
set HX4[69]="passive"
set HY4[69]="passive"
set HZ4[69]="clusterrockets"
set HW4[70]="poisonarrows"
set HX4[70]="passive"
set HY4[70]="passive"
set HZ4[70]="shadowstrike"
set HW4[71]="fanofknives"
set HX4[71]="acidbomb"
set HY4[71]="passive"
set HZ4[71]="darkportal"
set HW4[72]="itemareaheal"
set HX4[72]="passive"
set HY4[72]="chainlightning"
set HZ4[72]="channel"
set HW4[73]="blizzard"
set HX4[73]="banish"
set HY4[73]="summongrizzly"
set HZ4[73]="drain"
set HW4[74]="acidbomb"
set HX4[74]="passive"
set HY4[74]="passive"
set HZ4[74]="stomp"
set HW4[75]="innerfire"
set HX4[75]="chainlightning"
set HY4[75]="sleep"
set HZ4[75]="magicleash"
set HW4[76]="fanofknives"
set HX4[76]="passive"
set HY4[76]="passive"
set HZ4[76]="thunderbolt"
set HW4[77]="channel"
set HX4[77]="immolation"
set HY4[77]="passive"
set HZ4[77]="magicleash"
set HW4[78]="channel"
set HX4[78]="passive"
set HY4[78]="passive"
set HZ4[78]="channel"
set HW4[79]="acidbomb"
set HX4[79]="windwalk"
set HY4[79]="passive"
set HZ4[79]="channel"
set HW4[80]="roar"
set HX4[80]="passive"
set HY4[80]="passive"
set HZ4[80]="stomp"
set HW4[81]="channel"
set HX4[81]="voodoo"
set HY4[81]="incinerate"
set HZ4[81]="charm"
set HW4[82]="channel"
set HX4[82]="creepheal"
set HY4[82]="passive"
set HZ4[82]="chainlightning"
set HW4[83]="soulburn"
set HX4[83]="passive"
set HY4[83]="passive"
set HZ4[83]="firebolt"
set HW4[84]="acidbomb"
set HX4[84]="chainlightning"
set HY4[84]="passive"
set HZ4[84]="windwalk"
set HW4[85]="acidbomb"
set HX4[85]="passive"
set HY4[85]="passive"
set HZ4[85]="ancestralspirit"
set HW4[86]="chainlightning"
set HX4[86]="immolation"
set HY4[86]="blizzard"
set HZ4[86]="tornado"
set HW4[87]="poisonarrows"
set HX4[87]="chainlightning"
set HY4[87]="passive"
set HZ4[87]="blizzard"
set HW4[88]="thunderbolt"
set HX4[88]="creepheal"
set HY4[88]="blizzard"
set HZ4[88]="inferno"
set HW4[89]="blizzard"
set HX4[89]="carrionscarabsoff"
set HY4[89]="passive"
set HZ4[89]="passive"
set HW4[90]="thunderbolt"
set HX4[90]="devourmagic"
set HY4[90]="darkportal"
set HZ4[90]="blizzard"
set HW4[91]="rainoffire"
set HX4[91]="flamestrike"
set HY4[91]="fanofknives"
set HZ4[91]="channel"
set HW4[92]="blizzard"
set HX4[92]="volcano"
set HY4[92]="acidbomb"
set HZ4[92]="metamorphosis"
set HW4[93]="blizzard"
set HX4[93]="thunderbolt"
set HY4[93]="bloodlust"
set HZ4[93]="curse"
set HW4[94]="roar"
set HX4[94]="fanofknives"
set HY4[94]="battleroar"
set HZ4[94]="howlofterror"
set HW4[95]="acidbomb"
set HX4[95]="thunderbolt"
set HY4[95]="channel"
set HZ4[95]="cannibalize"
set HW4[96]="blizzard"
set HX4[96]="thunderbolt"
set HY4[96]="metamorphosis"
set HZ4[96]="chainlightning"
set HW4[97]="channel"
set HX4[97]="blizzard"
set HY4[97]="berserk"
set HZ4[97]="acidbomb"
set HW4[98]="fanofknives"
set HX4[98]="channel"
set HY4[98]="passive"
set HZ4[98]="windwalk"
set HW4[99]="drain"
set HX4[99]="channel"
set HY4[99]="metamorphosis"
set HZ4[99]="cripple"
set HW4[100]="inferno"
set HX4[100]="summongrizzly"
set HY4[100]="chainlightning"
set HZ4[100]="immolation"
set HW4[101]=""
set HX4[101]=""
set HY4[101]=""
set HZ4[101]=""
set HM4[500]=1094004784
set HN4[500]=1094004785
set HO4[500]=1094004786
set HP4[500]=1094004787
set HW4[500]="humanbuild"
set HX4[500]="nightelfbuild"
set HY4[500]="orcbuild"
set HZ4[500]="undeadbuild"
set HR4[1]=1094070320
set HS4[1]=1094070321
set HT4[1]=1094070322
set HU4[1]=1094070323
set HR4[2]=1094070324
set HS4[2]=1094070325
set HT4[2]=1094070326
set HU4[2]=1094070327
set HR4[3]=1094070328
set HS4[3]=1094070329
set HT4[3]=1094070337
set HU4[3]=1094070338
set HR4[4]=1094070339
set HS4[4]=1094070340
set HU4[4]=1094070342
set HR4[5]=1094070343
set HS4[5]=1094070344
set HT4[5]=1094070345
set HU4[5]=1094070346
set HR4[6]=1094070347
set HT4[6]=1094070349
set HU4[6]=1094070350
set HR4[7]=1094070351
set HS4[7]=1094070352
set HT4[7]=1094070353
set HU4[7]=1094070354
set HR4[8]=1094070355
set HS4[8]=1094070356
set HT4[8]=1094070357
set HU4[8]=1094070358
set HR4[9]=1094070359
set HS4[9]=1094070360
set HT4[9]=1094070361
set HU4[9]=1094070362
set HR4[10]=1094070576
set HS4[10]=1094070577
set HR4[11]=1094070580
set HS4[11]=1094070581
set HT4[11]=1094070582
set HU4[11]=1094070583
set HR4[12]=1094070584
set HS4[12]=1094070585
set HT4[12]=1094070593
set HU4[12]=1094070594
set HR4[13]=1094070595
set HS4[13]=1094070596
set HT4[13]=1094070597
set HU4[13]=1094070598
set HR4[14]=1094070599
set HS4[14]=1094070600
set HT4[14]=1094070601
set HU4[14]=1094070602
set HR4[15]=1094070603
set HT4[15]=1094070605
set HU4[15]=1094070606
set HR4[16]=1094070607
set HS4[16]=1094070608
set HT4[16]=1094070609
set HR4[17]=1094070611
set HS4[17]=1094070612
set HT4[17]=1094070613
set HU4[17]=1094070614
set HR4[18]=1094070615
set HS4[18]=1094070616
set HT4[18]=1094070617
set HR4[19]=1094070832
set HS4[19]=1094070833
set HT4[19]=1094070834
set HU4[19]=1094070835
set HR4[20]=1094070836
set HS4[20]=1094070837
set HT4[20]=1094070838
set HU4[20]=1094070839
set HR4[21]=1094070840
set HS4[21]=1094070841
set HT4[21]=1094070849
set HU4[21]=1094070850
set HR4[22]=1094070851
set HS4[22]=1094070852
set HT4[22]=1094070853
set HR4[23]=1094070855
set HS4[23]=1094070856
set HT4[23]=1094070857
set HU4[23]=1094070858
set HR4[24]=1094070859
set HS4[24]=1094070860
set HT4[24]=1094070861
set HU4[24]=1094070862
set HR4[25]=1094070863
set HT4[25]=1094070865
set HU4[25]=1094070866
set HR4[26]=1094070867
set HS4[26]=1094070868
set HU4[26]=1094070870
set HS4[27]=1094070872
set HT4[27]=1094070873
set HU4[27]=1094070874
set HR4[28]=1094071088
set HS4[28]=1094071089
set HT4[28]=1094071090
set HU4[28]=1094071091
set HR4[29]=1094071092
set HS4[29]=1094071093
set HT4[29]=1094071094
set HU4[29]=1094071095
set HR4[30]=1094071096
set HS4[30]=1094071097
set HT4[30]=1094071105
set HU4[30]=1094071106
set HR4[31]=1094071107
set HS4[31]=1094071108
set HT4[31]=1094071109
set HU4[31]=1094071110
set HR4[32]=1094071111
set HS4[32]=1094071112
set HT4[32]=1094071113
set HU4[32]=1094071114
set HR4[33]=1094071115
set HS4[33]=1094071116
set HT4[33]=1094071117
set HR4[34]=1094071119
set HS4[34]=1094071120
set HT4[34]=1094071121
set HU4[34]=1094071122
set HR4[35]=1094071123
set HS4[35]=1094071124
set HT4[35]=1094071125
set HU4[35]=1094071126
set HR4[36]=1094071127
set HS4[36]=1094071128
set HT4[36]=1094071129
set HU4[36]=1094071130
set HR4[37]=1094071344
set HS4[37]=1094071345
set HT4[37]=1094071346
set HU4[37]=1094071347
set HR4[38]=1094071348
set HS4[38]=1094071349
set HT4[38]=1094071350
set HU4[38]=1094071351
set HR4[39]=1094071352
set HT4[39]=1094071361
set HR4[40]=1094071363
set HS4[40]=1094071364
set HT4[40]=1094071365
set HU4[40]=1094071366
set HR4[41]=1094071367
set HS4[41]=1094071368
set HT4[41]=1094071369
set HU4[41]=1094071370
set HR4[42]=1094071371
set HS4[42]=1094071372
set HT4[42]=1094071373
set HU4[42]=1094071374
set HR4[43]=1094071375
set HS4[43]=1094071376
set HU4[43]=1094071378
set HR4[44]=1094071379
set HS4[44]=1094071380
set HT4[44]=1094071381
set HU4[44]=1094071382
set HR4[45]=1094071383
set HS4[45]=1094071384
set HT4[45]=1094071385
set HU4[45]=1094071386
set HR4[46]=1094071600
set HT4[46]=1094071602
set HU4[46]=1094071603
set HR4[47]=1094071604
set HS4[47]=1094071605
set HT4[47]=1094071606
set HU4[47]=1094071607
set HR4[48]=1094071608
set HS4[48]=1094071609
set HT4[48]=1094071617
set HU4[48]=1094071618
set HR4[49]=1094071619
set HS4[49]=1094071620
set HU4[49]=1094071622
set HR4[50]=1094071623
set HS4[50]=1094071624
set HT4[50]=1094071625
set HU4[50]=1094071626
set HR4[51]=1094071627
set HS4[51]=1094071628
set HT4[51]=1094071629
set HU4[51]=1094071630
set HR4[52]=1094071631
set HS4[52]=1094071632
set HU4[52]=1094071634
set HR4[53]=1094071635
set HS4[53]=1094071636
set HT4[53]=1094071637
set HU4[53]=1094071638
set HR4[54]=1094071639
set HS4[54]=1094071640
set HT4[54]=1094071641
set HU4[54]=1094071642
set HR4[55]=1094071856
set HS4[55]=1094071857
set HU4[55]=1094071859
set HR4[56]=1094071860
set HU4[56]=1094071863
set HR4[57]=1094071864
set HS4[57]=1094071865
set HT4[57]=1094071873
set HU4[57]=1094071874
set HR4[58]=1094071875
set HS4[58]=1094071876
set HT4[58]=1094071877
set HR4[59]=1094071879
set HS4[59]=1094071880
set HT4[59]=1094071881
set HR4[60]=1094071883
set HS4[60]=1094071884
set HT4[60]=1094071885
set HU4[60]=1094071886
set HS4[61]=1094071888
set HT4[61]=1094071889
set HU4[61]=1094071890
set HR4[62]=1094071891
set HS4[62]=1094071892
set HT4[62]=1094071893
set HU4[62]=1094071894
set HR4[63]=1094071895
set HS4[63]=1094071896
set HT4[63]=1094071897
set HU4[63]=1094071898
set HS4[64]=1094072113
set HT4[64]=1094072114
set HU4[64]=1094072115
set HR4[65]=1094072116
set HS4[65]=1094072117
set HT4[65]=1094072118
set HU4[65]=1094072119
set HR4[66]=1094072120
set HS4[66]=1094072121
set HT4[66]=1094072129
set HU4[66]=1094072130
set HR4[67]=1094072131
set HS4[67]=1094072132
set HT4[67]=1094072133
set HU4[67]=1094072134
set HR4[68]=1094072135
set HS4[68]=1094072136
set HT4[68]=1094072137
set HU4[68]=1094072138
set HR4[69]=1094072139
set HS4[69]=1094072140
set HT4[69]=1094072141
set HU4[69]=1094072142
set HR4[70]=1094072143
set HS4[70]=1094072144
set HT4[70]=1094072145
set HU4[70]=1094072146
set HR4[71]=1094072147
set HS4[71]=1094072148
set HT4[71]=1094072149
set HU4[71]=1094072150
set HS4[72]=1094072152
set HT4[72]=1094072153
set HR4[73]=1094072368
set HS4[73]=1094072369
set HT4[73]=1094072370
set HU4[73]=1094072371
set HR4[74]=1094072372
set HS4[74]=1094072373
set HU4[74]=1094072375
set HR4[75]=1094072376
set HS4[75]=1094072377
set HT4[75]=1094072385
set HU4[75]=1094072386
set HR4[76]=1094072387
set HS4[76]=1094072388
set HT4[76]=1094072389
set HU4[76]=1094072390
set HR4[77]=1094072391
set HS4[77]=1094072392
set HT4[77]=1094072393
set HU4[77]=1094072394
set HS4[78]=1094072396
set HT4[78]=1094072397
set HU4[78]=1094072398
set HR4[79]=1094072399
set HS4[79]=1094072400
set HT4[79]=1094072401
set HU4[79]=1094072402
set HR4[81]=1094072407
set HS4[81]=1094072408
set HT4[81]=1094072409
set HU4[81]=1094072410
set HR4[82]=1094072624
set HS4[82]=1094072625
set HT4[82]=1094072626
set HU4[82]=1094072627
set HR4[83]=1094072628
set HS4[83]=1094072629
set HT4[83]=1094072630
set HU4[83]=1094072631
set HR4[84]=1094072632
set HS4[84]=1094072633
set HT4[84]=1094072641
set HU4[84]=1094072642
set HR4[85]=1094072643
set HS4[85]=1094072644
set HT4[85]=1094072645
set HU4[85]=1094072646
set HR4[86]=1094072647
set HS4[86]=1094072648
set HT4[86]=1094072649
set HU4[86]=1094072650
set HR4[87]=1094072651
set HS4[87]=1094072652
set HT4[87]=1094072653
set HU4[87]=1094072654
set HR4[88]=1094072655
set HS4[88]=1094072656
set HT4[88]=1094072657
set HU4[88]=1094072658
set HR4[89]=1094072659
set HT4[89]=1094072661
set HR4[90]=1094072663
set HS4[90]=1094072664
set HT4[90]=1094072665
set HU4[90]=1094072666
set HR4[91]=1094074672
set HS4[91]=1094074673
set HT4[91]=1094074674
set HU4[91]=1094074675
set HR4[92]=1094074676
set HS4[92]=1094074677
set HT4[92]=1094074678
set HR4[93]=1094074680
set HS4[93]=1094074681
set HT4[93]=1094074689
set HU4[93]=1094074690
set HR4[95]=1094074695
set HS4[95]=1094074696
set HT4[95]=1094074697
set HU4[95]=1094074698
set HR4[96]=1094074699
set HS4[96]=1094074700
set HU4[96]=1094074702
set HR4[97]=1094074703
set HS4[97]=1094074704
set HT4[97]=1094074705
set HU4[97]=1094074706
set HR4[98]=1094074707
set HS4[98]=1094074708
set HT4[98]=1094074709
set HU4[98]=1094074710
set HV4[1]=1094135856
set HV4[2]=1094135857
set HV4[5]=1094135858
set HV4[8]=1094135897
set HV4[11]=1094135859
set HV4[12]=1094135860
set HV4[20]=1094135861
set HV4[23]=1094135862
set HV4[24]=1094135863
set HV4[25]=1094135864
set HV4[28]=1094135865
set HV4[30]=1094135873
set HV4[38]=1094135874
set HV4[42]=1094135875
set HV4[45]=1094135876
set HV4[47]=1094135877
set HV4[50]=1094135878
set HV4[51]=1094135879
set HV4[53]=1094135880
set HV4[54]=1094135881
set HV4[62]=1094135882
set HV4[64]=1094135883
set HV4[67]=1094135884
set HV4[69]=1094135885
set HV4[73]=1094135886
set HV4[75]=1094135887
set HV4[76]=1094135888
set HV4[77]=1094135889
set HV4[78]=1094135890
set HV4[81]=1094135891
set HV4[82]=1094135896
set HV4[84]=1094135892
set HV4[86]=1094135893
set HV4[90]=1094135894
endfunction
function E5 takes nothing returns nothing
set HK4[FV]=450
set HK4[JV]=500
set HK4[MV]=450
set HK4[NV]=185
set HK4[OV]=450
set HK4[QV]=1000
set HK4[SV]=450
set HK4[TV]=1200
set HK4[UV]=550
set HK4[XV]=1400
set HK4[AV]=2400
set HK4[BV]=3300
set HK4[CV]=1000
set HK4[LV]=150
set HK4[EW]=700
set HK4[HW]=700
set HK4[NW]=950
set HK4[OW]=2100
set HK4[QW]=53
set HK4[RW]=2150
set HK4[TW]=2150
set HK4[UW]=150
set HK4[VW]=900
set HK4[YW]=3200
set HK4[ZW]=1600
set HK4[GX]=2700
set HK4[NX]=1000
set HK4[RX]=550
set HK4[SX]=1400
set HK4[WX]=1200
set HK4[YX]=900
set HK4[ZX]=875
set HK4[AX]=175
set HK4[GY]=350
set HK4[HY]=450
set HK4[SY]=3800
set HK4[UY]=150
set HK4[ZY]=325
set HK4[DZ]=1000
set HK4[EZ]=250
set HK4[HZ]=250
set HK4[NZ]=2100
set HK4[OZ]=1100
set HK4[RZ]=875
set HK4[UZ]=1500
set HK4[XZ]=600
set HK4[AZ]=600
set HK4[BZ]=600
set HK4[CZ]=600
set HK4[IA]=600
set HK4[JA]=600
set HK4[NA]=600
set HK4[QA]=600
set HK4[WA]=600
set HK4[YA]=600
set HK4[ZA]=200
set HK4[BA]=225
set HK4[GB]=225
set HK4[JB]=1800
set HK4[OC]=50
set HK4[PC]=0
set HK4[QC]=100
set HK4[TC]=90
set HK4[VC]=150
set HK4[WC]=200
set HK4[XC]=135
set HK4[YC]=135
set HK4[ZC]=150
set HK4[AC]=1000
set HK4[BC]=0
set HK4[CC]=180
set HK4[Y3]=1750
set HK4[Z3]=603
set HK4[B3]=803
set HK4[C3]=500
set HK4[E6]=500
set HK4[F6]=2500
set HK4[G6]=1450
set HK4[H6]=1450
set HK4[N6]=1450
set HK4[S6]=1900
set HK4[W6]=1675
set HK4[A6]=525
set HK4[DL]=485
set HK4[HL]=480
set HK4[OL]=2050
set HK4[RL]=2050
set HK4[WL]=2950
set HK4[ZL]=2950
set HK4[AL]=2200
set HK4[LL]=2700
set HK4[D1]=3300
set HK4[E1]=4150
set HK4[F1]=3300
set HK4[H1]=4150
set HK4[J1]=1850
set HK4[O1]=1850
set HK4[P1]=1900
set HK4[Q1]=2800
set HK4[R1]=3300
set HK4[T1]=2306
set HK4[U1]=4100
set HK4[V1]=4100
set HK4[X1]=4350
set HK4[A1]=2150
set HK4[D0]=3900
set HK4[E0]=3900
set HK4[J0]=3900
set HK4[N0]=3900
set HK4[O0]=3900
set HK4[R0]=3900
set HK4[X0]=0
set HK4[Y0]=5050
set HK4[B0]=5050
set HK4[C0]=3000
set HK4[F5]=2805
set HK4[G5]=4105
set HK4[J5]=5405
set HK4[M5]=6705
set HK4[N5]=8005
set HK4[R5]=2700
set HK4[S5]=3950
set HK4[T5]=5200
set HK4[W5]=5175
set HK4[A5]=5175
set HK4[B5]=6200
set HK4[L5]=5550
set HK4[E2]=5400
set HK4[F2]=5400
set HK4[H2]=5150
set HK4[P2]=5150
set HK4[R2]=5500
set HK4[T2]=6150
set HK4[W2]=5750
set HK4[X2]=5750
set HK4[Z2]=6000
set HK4[D44]=5300
set HK4[D74]=5675
set HK4[D84]=2225
set HK4[D94]=2225
set HK4[DE4]=5400
set HK4[DF4]=370
set HK4[DG4]=2050
set HK4[DH4]=5350
set HK4[DI4]=5050
set HK4[DJ4]=2125
set HK4[DK4]=2600
set HK4[DM4]=2600
set HK4[DN4]=2600
set HK4[DO4]=2600
set HK4[DP4]=4700
set HK4[DQ4]=4700
set HK4[DR4]=4125
set HK4[DS4]=1400
set HK4[DT4]=509
set HK4[DU4]=2350
set HK4[DV4]=3628
set HK4[DW4]=550
set HK4[DX4]=550
set HK4[DY4]=875
set HK4[DA4]=1600
set HK4[DB4]=200
set HK4[DC4]=200
set HK4[D34]=2000
set HK4[D64]=0
set HK4[DL4]=1400
set HK4[D04]=190
set HK4[D54]=150
set HK4[D24]=155
set HK4[D_4]=600
set HK4[E44]=600
set HK4[E74]=1000
set HK4[E84]=800
set HK4[E94]=850
set HK4[ED4]=1000
set HK4[EE4]=500
set HK4[EF4]=900
set HK4[EG4]=0
set HK4[EH4]=900
set HK4[EI4]=500
set HK4[EJ4]=1300
set HK4[EK4]=900
set HK4[EM4]=1000
set HK4[EN4]=1300
set HK4[EO4]=1250
set HK4[EP4]=1325
set HK4[EQ4]=1000
set HK4[ER4]=1350
set HK4[ES4]=1200
set HK4[ET4]=1100
set HK4[EU4]=0
set HK4[EV4]=1875
set HK4[EX4]=220
set HK4[EY4]=300
set HK4[EZ4]=1300
set HK4[EA4]=700
set HK4[EB4]=600
set HK4[EC4]=150
set HK4[E34]=300
set HK4[E64]=900
set HK4[EL4]=600
set HK4[E14]=250
set HK4[FD4]=1250
set HK4[FE4]=775
set HK4[E_4]=275
set HK4[F44]=275
set HK4[F74]=1500
set HK4[QB]=1500
set HK4[RB]=1500
set HK4[VB]=1725
set HK4[WB]=1725
set HK4[H3]=100
set HK4[M3]=1075
set HK4[F94]=200
set HK4[F84]=750
set HK4[N3]=2650
set HK4[R3]=3950
set HK4[FC]=3100
set HK4[LB]=1025
set HK4[EC]=1025
set HK4[U3]=6750
set HK4[JC]=985
set HK4[NC]=985
set HK4[W3]=1600
set HK4[FS4]=4200
set HK4[FT4]=4200
set HK4[FU4]=4200
set HK4[FV4]=4200
set HK4[FW4]=4200
set HK4[FX4]=4200
set HK4[FY4]=4200
set HK4[FZ4]=4200
set HK4[FA4]=4200
set HK4[FB4]=4200
set HK4[F34]=4200
set HK4[F64]=4200
set HK4[FL4]=4200
set HK4[F14]=4200
set HK4[F04]=4200
set HK4[F54]=4200
set HK4[F24]=4200
set HK4[F_4]=4200
set HK4[G44]=4200
set HK4[G74]=4200
set HK4[G84]=4200
set HK4[G94]=4200
set HK4[GD4]=4200
set HK4[GE4]=4200
set HK4[GG4]=4200
set HK4[GH4]=4200
set HK4[GI4]=4200
set HK4[GJ4]=4200
set HK4[GK4]=4200
set HK4[GM4]=4200
set HK4[GN4]=4200
set HK4[GO4]=4200
set HK4[GP4]=4200
set HK4[GQ4]=4200
set HK4[GR4]=4200
set HK4[GS4]=4200
set HK4[GT4]=4200
set HK4[GU4]=4200
set HK4[FC4]=4200
set HK4[GV4]=4200
set HK4[GW4]=4200
set HK4[GY4]=4200
set HK4[GZ4]=4200
set HK4[GA4]=4200
set HK4[GB4]=4200
set HK4[G34]=4200
set HK4[G64]=4200
set HK4[GL4]=4200
set HK4[G14]=4200
set HK4[G04]=4200
set HK4[G54]=4200
set HK4[G24]=4200
set HK4[GX4]=4200
endfunction
function is takes unit it returns boolean
return((GetUnitCurrentOrder(it)<852000)and(Bz>hq[832+GetPlayerId(GetOwningPlayer(it))]))
endfunction
function RT7 takes unit RU7 returns boolean
local integer RV7=GetUnitCurrentOrder(RU7)
return(RV7==0)or(RV7==851973)or(RV7==851975)or(RV7==851987)or(RV7==851993)
endfunction
function iU takes unit it returns boolean
local integer X5=GetUnitCurrentOrder(it)
return((X5<852000)and(not LoadBoolean(L7,GetHandleId(it),1145131595))and((X5!=851983)or(not GZ[48+GetPlayerId(GetOwningPlayer(it))]))and(Bz>hq[832+GetPlayerId(GetOwningPlayer(it))])and(GetUnitAbilityLevel(it,1110459975)==0))
endfunction
function iy takes unit it returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
return((h4[O5]==null)and((h4[160+O5]==null)or(GetWidgetLife(h4[160+O5])<=.405)or(not IsUnitInRange(h4[160+O5],it,1000.)))and(not G0[144+O5]))
endfunction
function RW7 takes unit it returns boolean
local integer X5=GetUnitCurrentOrder(it)
local integer i1=GetUnitTypeId(it)
local integer RX7=GetHandleId(it)
if hq[832+GetPlayerId(GetOwningPlayer(it))]>Bz then
return false
elseif((X5==851973)or(GetWidgetLife(it)<=.405)or(IsUnitPaused(it)))then
return false
elseif(X5>852007)and(X5<852014)and((GetItemTypeId(UnitItemInSlot(it,X5-852007))==ZU[YC])or(GetItemTypeId(UnitItemInSlot(it,X5-852007))==ZU[F6]))then
return false
elseif((X5<852008)and((i1!=1328558154)or((LoadBoolean(L7,RX7,1145131595)==false))))then
return true
elseif(GetUnitAbilityLevel(it,1110459975)!=0)then
return false
endif
return((X5>852013)and(X5!=852480)and(X5!=852525)and(X5!=852487)and(X5!=852597)and((i1!=1160786243)or(X5!=852089))and((i1!=1429221451)or(X5!=852581))and((X5!=852600)or((i1!=1214931305)and(i1!=1316252014)and(i1!=1214409837)))and(((i1!=1164277353)and(i1!=1164277357)and(i1!=1160786518)and(i1!=1160786519)and(i1!=1160786517))or(X5!=852189))and((i1!=1311780946)or(X5!=852238))and((i1!=1311786311)or(X5!=852662))and((i1!=1328558389)or(X5!=852581)))
endfunction
function RY7 takes unit it returns boolean
local integer X5=GetUnitCurrentOrder(it)
local integer i1=GetUnitTypeId(it)
local integer RX7=GetHandleId(it)
if hq[832+GetPlayerId(GetOwningPlayer(it))]>Bz then
return false
elseif((X5==851973)or(GetWidgetLife(it)<=.405)or(IsUnitPaused(it)))then
return false
elseif(X5>852007)and(X5<852014)and((GetItemTypeId(UnitItemInSlot(it,X5-852007))==ZU[YC])or(GetItemTypeId(UnitItemInSlot(it,X5-852007))==ZU[F6]))then
return false
elseif((X5<852008)and((i1!=1328558154)or((LoadBoolean(L7,RX7,1145131595)==false))))then
return true
elseif(X5==852600)and((i1==1212363833))then
return false
elseif(GetUnitAbilityLevel(it,1110459975)!=0)then
return false
endif
return((X5>852013)and(X5!=852480)and(X5!=852525)and(X5!=852487)and(X5!=852597)and((i1!=1160786243)or(X5!=852089))and((i1!=1315334514)or(X5!=852127))and((i1!=1429221451)or(X5!=852581))and((X5!=852553)or((i1!=1211117641)and(i1!=1211117642)))and((X5!=852600)or((i1!=1214931305)and(i1!=1316252014)and(i1!=1214409837)))and(((i1!=1164277353)and(i1!=1164277357)and(i1!=1160786518)and(i1!=1160786519)and(i1!=1160786517))or(X5!=852189))and((i1!=1311780946)or(X5!=852238))and((i1!=1311786311)or(X5!=852662))and((i1!=1328558389)or(X5!=852581))and((i1!=1429221451)or(X5!=852503))and((i1!=1311780930)or(X5!=852514))and(((i1==1211119192)or(i1==1211119193)or(i1==1211119191))or(X5!=852248)))
endfunction
function i2 takes unit it returns boolean
local integer X5=GetUnitCurrentOrder(it)
local integer i1=GetUnitTypeId(it)
if(X5<852008)then
return false
endif
return((X5<=852013)or(X5==852480)or(X5==852487)or(X5==852597)or((i1==1328558154)and LoadBoolean(L7,GetHandleId(it),1145131595))or((i1==1160786243)and(X5==852089))or((i1==1315334514)and(X5==852127))or((i1==1429221451)and(X5==852581))or(((i1==1214931305)or(i1==1316252014)or(i1==1214409837))and(X5==852600)))
endfunction
function RZ7 takes integer O5 returns player
if((O5>0)and(O5<6))then
return Z7[O5]
elseif((O5>5)and(O5<11))then
return A7[O5-5]
endif
return null
endfunction
function RA7 takes string O5 returns player
if O5=="0" then
set bj_forLoopAIndex=10
else
set bj_forLoopAIndex=S2I(O5)
endif
if((bj_forLoopAIndex>0)and(bj_forLoopAIndex<6))then
return Z7[bj_forLoopAIndex]
elseif((bj_forLoopAIndex>5)and(bj_forLoopAIndex<11))then
return A7[bj_forLoopAIndex-5]
endif
return null
endfunction
function i5 takes player pl returns integer
local integer O5=1
loop
exitwhen O5>5
if(pl==Z7[O5])then
return O5
elseif(pl==A7[O5])then
return O5+5
endif
set O5=O5+1
endloop
return 0
endfunction
function RB7 takes unit P67 returns boolean
if IsUnitAlly(P67,Z7[0])then
return IsUnitVisible(P67,Z74)
else
return IsUnitVisible(P67,Z44)
endif
return false
endfunction
function RC7 takes unit P67 returns boolean
if IsUnitAlly(P67,Z7[0])then
return IsVisibleToPlayer(GetUnitX(P67),GetUnitY(P67),Z74)
else
return IsVisibleToPlayer(GetUnitX(P67),GetUnitY(P67),Z44)
endif
return false
endfunction
function R37 takes unit it returns boolean
return(GetWidgetLife(it)>.405 and((not IsUnitType(it,UNIT_TYPE_HERO))or(not IG4[GetPlayerId(GetOwningPlayer(it))])))
endfunction
function R67 takes unit RL7,unit P67 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(P67))
return((IsUnitType(RL7,UNIT_TYPE_HERO))and(((R2I(GetWidgetLife(RL7))<(300+(GetHeroLevel(RL7)*30)))and(GetUnitLifePercent(RL7)<40.))or((hq[624+O5]>Bz and h4[O5]==RL7)))and(R37(RL7)))
endfunction
function R17 takes unit it returns boolean
return((IsUnitType(it,UNIT_TYPE_HERO))and(R2I(GetWidgetLife(it))<(300+(GetHeroLevel(it)*30)))and(GetUnitLifePercent(it)<40.)and(R37(it)))
endfunction
function R07 takes integer O5 returns boolean
return(hq[624+O5]>Bz and h4[O5]!=null)and(not R17(M7[O5]))
endfunction
function R57 takes unit it returns boolean
return((GetUnitAbilityLevel(it,1110459472)>0)or(GetUnitAbilityLevel(it,1093687122)>0)or(GetUnitAbilityLevel(it,1110454856)>0))
endfunction
function R27 takes unit it returns boolean
return((IsUnitType(it,UNIT_TYPE_HERO))and(R2I(GetWidgetLife(it))<(600+(GetHeroLevel(it)*30)))and(GetWidgetLife(it)>.405))
endfunction
function R_7 takes unit it,unit IB returns boolean
return((IsUnitType(it,UNIT_TYPE_HERO))and(R2I(GetWidgetLife(it))<(300+(GetHeroLevel(it)*30)))and(GetUnitLifePercent(it)<40.)and(GetWidgetLife(it)>.405)and(GetUnitState(IB,UNIT_STATE_LIFE)>(GetUnitState(it,UNIT_STATE_LIFE)-(10.*GetHeroLevel(IB)))))
endfunction
function IC takes integer O5 returns boolean
return((V[O5]-3)>=T[O5])
endfunction
function Id takes integer O5 returns boolean
return((h4[O5]!=null)and(R_7(h4[O5],M7[O5])))
endfunction
function Ie takes rect r,boolexpr Ig returns unit
call GroupClear(ig)
call GroupEnumUnitsInRect(ig,r,Ig)
set bj_groupRandomConsidered=0
set bj_groupRandomCurrentPick=null
call ForGroup(ig,function GroupPickRandomUnitEnum)
call DestroyBoolExpr(Ig)
return bj_groupRandomCurrentPick
endfunction
function S47 takes nothing returns nothing
set bj_groupCountUnits=bj_groupCountUnits+1
set M_7=M_7+GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)
endfunction
function IH takes player pl,boolexpr Ig returns integer
call GroupClear(ig)
call GroupEnumUnitsOfPlayer(ig,pl,Ig)
set bj_groupCountUnits=0
call ForGroup(ig,function CountUnitsInGroupEnum)
call DestroyBoolExpr(Ig)
return bj_groupCountUnits
endfunction
function S77 takes real Im,location b5,boolexpr Ig returns unit
set bj_groupRandomConsidered=0
set bj_groupRandomCurrentPick=null
call GroupClear(H9)
call GroupEnumUnitsInRangeOfLoc(H9,b5,Im,Ig)
call ForGroup(H9,function GroupPickRandomUnitEnum)
call DestroyBoolExpr(Ig)
return bj_groupRandomCurrentPick
endfunction
function S87 takes real Im,unit P67,boolexpr Ig returns unit
set bj_groupRandomConsidered=0
set bj_groupRandomCurrentPick=null
call GroupClear(H9)
call GroupEnumUnitsInRange(H9,GetUnitX(P67),GetUnitY(P67),Im,Ig)
call ForGroup(H9,function GroupPickRandomUnitEnum)
call DestroyBoolExpr(Ig)
return bj_groupRandomCurrentPick
endfunction
function S97 takes real Im,location b5,boolexpr Ig returns unit
call GroupClear(H9)
call GroupEnumUnitsInRangeOfLoc(H9,b5,Im,Ig)
call DestroyBoolExpr(Ig)
return FirstOfGroup(H9)
endfunction
function SD7 takes real Im,location b5,boolexpr Ig returns integer
call GroupClear(H8)
call GroupEnumUnitsInRangeOfLoc(H8,b5,Im,Ig)
set bj_groupCountUnits=0
call ForGroup(H8,function CountUnitsInGroupEnum)
call DestroyBoolExpr(Ig)
return bj_groupCountUnits
endfunction
function SE7 takes real Im,unit it,boolexpr Ig returns integer
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(it),GetUnitY(it),Im,Ig)
set bj_groupCountUnits=0
set M_7=0.
call ForGroup(H8,function S47)
call DestroyBoolExpr(Ig)
return bj_groupCountUnits
endfunction
function IV takes real x,real y,real IW,boolexpr Ig,code IX returns nothing
call GroupClear(iF)
call GroupEnumUnitsInRange(iF,x,y,IW,Ig)
call ForGroup(iF,IX)
call DestroyBoolExpr(Ig)
endfunction
function SF7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function SG7 takes unit it,integer Iz returns boolean
local integer I8=0
local item ja
set bj_lastCreatedItem=null
loop
set ja=UnitItemInSlot(it,I8)
if((ja!=null)and(GetItemTypeId(ja)==Iz))then
set bj_lastCreatedItem=ja
set ja=null
return true
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set ja=null
return false
endfunction
function SH7 takes unit it returns boolean
local integer I8=0
loop
if(UnitItemInSlot(it,I8)==null)then
return false
endif
set I8=I8+1
exitwhen(I8>=bj_MAX_INVENTORY)
endloop
return true
endfunction
function SI7 takes unit it returns boolean
local integer I8=0
loop
if(UnitItemInSlot(it,I8)!=null)then
return false
endif
set I8=I8+1
exitwhen(I8>=bj_MAX_INVENTORY)
endloop
return true
endfunction
function SJ7 takes unit S4,integer n5,item Z4 returns item
local integer D5
local item f5
set D5=0
loop
exitwhen D5>5
set f5=UnitItemInSlot(S4,D5)
if f5!=null and f5!=Z4 and GetItemTypeId(f5)==n5 then
set f5=null
return UnitItemInSlot(S4,D5)
endif
set D5=D5+1
endloop
set f5=null
return null
endfunction
function SK7 takes unit S4,integer n5 returns item
local integer D5
local item f5
set D5=0
loop
exitwhen D5>5
set f5=UnitItemInSlot(S4,D5)
if(f5!=null)and(GetItemTypeId(f5)==n5)then
set f5=null
return UnitItemInSlot(S4,D5)
endif
set D5=D5+1
endloop
set f5=null
return null
endfunction
function SM7 takes integer i1 returns boolean
return(i1==ZU[D0]or i1==ZU[E0]or i1==ZU[J0]or i1==ZU[N0]or i1==ZU[O0]or i1==ZU[R0])
endfunction
function SN7 takes integer i1,integer Iz,boolean SO7 returns boolean
if i1==Iz then
return true
elseif(i1==DW4 or i1==DX4)and(Iz==DW4 or Iz==DX4)then
return true
elseif(i1==EZ or i1==HZ)and(Iz==EZ or Iz==HZ)then
return true
elseif(i1==BA or i1==GB)and(Iz==BA or Iz==GB)then
return true
elseif(i1==WL or i1==ZL)and(Iz==WL or Iz==ZL)then
return true
elseif(i1==QB or i1==RB)and(Iz==QB or Iz==RB)then
return true
elseif(i1==Y0 or i1==B0)and(Iz==Y0 or Iz==B0)then
return true
elseif(i1==W2 or i1==X2)and(Iz==W2 or Iz==X2)then
return true
elseif(i1==D84 or i1==D94)and(Iz==D84 or Iz==D94)then
return true
elseif(i1==XZ or i1==AZ or i1==BZ or i1==CZ or i1==IA or i1==JA or i1==NA or i1==QA or i1==WA or i1==YA)and(Iz==XZ or Iz==AZ or Iz==BZ or Iz==CZ or Iz==IA or Iz==JA or Iz==NA or Iz==QA or Iz==WA or Iz==YA)then
return true
elseif(i1==VB or i1==WB)and(Iz==VB or Iz==WB)then
return true
elseif(i1==G6 or i1==H6 or i1==N6)and(Iz==G6 or Iz==H6 or Iz==N6)then
return true
elseif(i1==DY4 or i1==DZ4)and(Iz==DY4 or Iz==DZ4)then
return true
elseif SO7 and((i1==D1 or i1==F1 or i1==E1 or i1==H1)and(Iz==D1 or Iz==F1 or Iz==E1 or Iz==H1))then
return true
elseif(i1==D1 or i1==F1)and(Iz==D1 or Iz==F1)then
return true
elseif(i1==E1 or i1==H1)and(Iz==E1 or Iz==H1)then
return true
elseif SO7 and((i1==F5 or i1==G5 or i1==J5 or i1==M5 or i1==N5)and(Iz==F5 or Iz==G5 or Iz==J5 or Iz==M5 or Iz==N5))then
return true
elseif SO7 and((i1==R5 or i1==S5 or i1==T5)and(Iz==R5 or Iz==S5 or Iz==T5))then
return true
elseif(i1==D0 or i1==E0 or i1==J0 or i1==N0 or i1==O0 or i1==R0)and(Iz==D0 or Iz==E0 or Iz==J0 or Iz==N0 or Iz==O0 or Iz==R0)then
return true
elseif(i1==C3 or i1==E6)and(Iz==C3 or Iz==E6)then
return true
elseif(i1==JC or i1==NC)and(Iz==JC or Iz==NC)then
return true
elseif(i1==H2 or i1==P2)and(Iz==H2 or Iz==P2)then
return true
elseif(i1==E2 or i1==F2)and(Iz==E2 or Iz==F2)then
return true
elseif(i1==R2 or i1==S2)and(Iz==R2 or Iz==S2)then
return true
elseif(i1==DK4 or i1==DM4 or i1==DN4 or i1==DO4)and(Iz==DK4 or Iz==DM4 or Iz==DN4 or Iz==DO4)then
return true
elseif(i1==XC or i1==YC)and(Iz==XC or Iz==YC)then
return true
elseif(i1==W5 or i1==A5)and(Iz==W5 or Iz==A5)then
return true
elseif(i1==B5 or i1==C5)and(Iz==B5 or Iz==C5)then
return true
elseif(i1==J1 or i1==O1)and(Iz==J1 or Iz==O1)then
return true
elseif(i1==EW or i1==HW)and(Iz==EW or Iz==HW)then
return true
elseif(i1==S6 or i1==V6)and(Iz==S6 or Iz==V6)then
return true
elseif(i1==DP4 or i1==DQ4)and(Iz==DP4 or Iz==DQ4)then
return true
endif
return false
endfunction
function SP7 takes unit it,integer Iz returns boolean
local integer i=0
local item ja
local integer i1
local boolean SQ7=false
set i=0
loop
exitwhen i>EV
if SU[i]==Iz or ZU[i]==Iz or BU[i]==Iz then
set Iz=i
exitwhen true
endif
set i=i+1
endloop
if i>EV then
return false
endif
set i=0
set bj_lastCreatedItem=null
loop
set ja=UnitItemInSlot(it,i)
if ja!=null then
set i1=RO7(ja)
if SN7(i1,Iz,true)then
set bj_lastCreatedItem=ja
set ja=null
return true
endif
endif
set i=i+1
exitwhen i>=bj_MAX_INVENTORY
endloop
set ja=null
return false
endfunction
function SR7 takes unit it returns boolean
local integer I8=0
local item ja
set bj_lastCreatedItem=null
loop
set ja=UnitItemInSlot(it,I8)
if((ja!=null)and(GetItemTypeId(ja)==ZU[DT4]or GetItemTypeId(ja)==ZU[ZA]))then
set bj_lastCreatedItem=ja
set ja=null
return true
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set ja=null
return false
endfunction
function SS7 takes unit j5,integer Iz returns boolean
local boolean jR=false
local integer O5
set EZ7="aiUseItemOfBasicType"
if(SP7(j5,Iz))then
set O5=GetPlayerId(GetOwningPlayer(j5))
set GZ[224+O5]=true
set jR=UnitUseItem(j5,bj_lastCreatedItem)
set GZ[224+O5]=false
endif
return jR
endfunction
function ST7 takes unit SU7,unit SV7 returns boolean
local boolean SW7=false
local integer O5=GetPlayerId(GetOwningPlayer(SU7))
set EZ7="AIDagonFinish"
if((TL4)and(not T24[O5])and(GetUnitTypeId(SU7)!=1211117642)and(not IsUnitIllusion(SU7))and(Bz>T54[O5])and(SV7!=null)and(GetUnitLevel(SU7)>5)and(GetUnitState(SU7,UNIT_STATE_MANA)>300)and(not SG7(SU7,ZU[F5]))and(not SG7(SU7,ZU[G5]))and(not SG7(SU7,ZU[J5]))and(not SG7(SU7,ZU[M5]))and(not SG7(SU7,ZU[N5]))and(GetRandomInt(1,4)!=4))then
if(GetUnitLevel(SU7)>12 and GetUnitLevel(SU7)<20)then
set UF4=GetRandomInt(3,5)
elseif(GetUnitLevel(SU7)>19 and GetUnitLevel(SU7)<25)then
set UF4=GetRandomInt(4,5)
elseif(GetUnitLevel(SU7)>24)then
set UF4=5
else
set UF4=GetRandomInt(1,5)
endif
set U44[O5]=CreateItem(T14[UF4],9999,-9999)
set T24[O5]=false
if(U44[O5]!=null)then
set T_4[O5]=UnitItemInSlot(SU7,5)
if(T_4[O5]!=null)then
call DisableTrigger(H94)
call UnitRemoveItem(SU7,T_4[O5])
call SetItemPosition(T_4[O5],9999,-9999)
call EnableTrigger(H94)
endif
call QA7(0.2)
set T24[O5]=(UnitAddItem(SU7,U44[O5]))
call SetItemPlayer(U44[O5],GetOwningPlayer(SU7),true)
endif
if(T24[O5])then
else
if(T_4[O5]!=null)then
call QA7(0.2)
call UnitAddItem(SU7,T_4[O5])
call RN7(U44[O5])
endif
set T24[O5]=false
set U44[O5]=null
set T_4[O5]=null
endif
else
if((SG7(SU7,ZU[N5]))and(not IsUnitIllusion(SV7))and(IsUnitInRange(SU7,SV7,800.))and((GetUnitState(SV7,UNIT_STATE_LIFE)>10.)and(GetUnitState(SV7,UNIT_STATE_LIFE)<650.)))then
set SW7=(SV7!=null)and(UnitUseItemTarget(SU7,bj_lastCreatedItem,SV7))
elseif((SG7(SU7,ZU[M5]))and(not IsUnitIllusion(SV7))and(IsUnitInRange(SU7,SV7,750.))and((GetUnitState(SV7,UNIT_STATE_LIFE)>10.)and(GetUnitState(SV7,UNIT_STATE_LIFE)<550.)))then
set SW7=(SV7!=null)and(UnitUseItemTarget(SU7,bj_lastCreatedItem,SV7))
elseif((SG7(SU7,ZU[J5]))and(not IsUnitIllusion(SV7))and(IsUnitInRange(SU7,SV7,700.))and((GetUnitState(SV7,UNIT_STATE_LIFE)>10.)and(GetUnitState(SV7,UNIT_STATE_LIFE)<450.)))then
set SW7=(SV7!=null)and(UnitUseItemTarget(SU7,bj_lastCreatedItem,SV7))
elseif((SG7(SU7,ZU[G5]))and(not IsUnitIllusion(SV7))and(IsUnitInRange(SU7,SV7,650.))and((GetUnitState(SV7,UNIT_STATE_LIFE)>10.)and(GetUnitState(SV7,UNIT_STATE_LIFE)<350.)))then
set SW7=(SV7!=null)and(UnitUseItemTarget(SU7,bj_lastCreatedItem,SV7))
elseif((SG7(SU7,ZU[F5]))and(not IsUnitIllusion(SV7))and(IsUnitInRange(SU7,SV7,600.))and((GetUnitState(SV7,UNIT_STATE_LIFE)>10.)and(GetUnitState(SV7,UNIT_STATE_LIFE)<250.)))then
set SW7=(SV7!=null)and(UnitUseItemTarget(SU7,bj_lastCreatedItem,SV7))
endif
endif
return SW7
endfunction
function ju takes group jU,code IX returns nothing
call ForGroup(jU,IX)
call DestroyGroup(jU)
endfunction
function SX7 takes widget it returns location
call MoveLocation(HA,GetWidgetX(it),GetWidgetY(it))
return HA
endfunction
function SY7 takes unit u,integer X5,unit m5 returns boolean
local integer j=0
local integer O5=0
if(h7[GetUnitUserData(m5)]!=m5)or(X5!=851983 and X5!=851986 and X5!=851971)then
return IssuePointOrderById(u,X5,GetUnitX(m5),GetUnitY(m5))
endif
set j=GetUnitUserData(m5)
if j<=0 or j>=100 then
return IssuePointOrderById(u,X5,GetUnitX(m5),GetUnitY(m5))
else
set EU7=Q77(u,m5)-90
set O5=GetPlayerId(GetOwningPlayer(u))
return IssuePointOrderById(u,X5,GetUnitX(m5)+hq[864+O5]*Cos(EU7*bj_DEGTORAD),GetUnitY(m5)+hq[864+O5]*Sin(EU7*bj_DEGTORAD))
endif
endfunction
function j1 takes unit j4,rect Ja returns real
local real JD=GetRectCenterX(Ja)-GetUnitX(j4)
local real Je=GetRectCenterY(Ja)-GetUnitY(j4)
return SquareRoot(JD*JD+Je*Je)
endfunction
function SZ7 takes unit x6,integer X5,integer o6,unit m5 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(x6))
if(GetPlayerController(GetOwningPlayer(x6))!=MAP_CONTROL_COMPUTER)then
return false
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)
call DisableTrigger(Q04[O5])
if(IssueTargetOrderById(x6,X5,m5))then
call EnableTrigger(Q04[O5])
return true
endif
call EnableTrigger(Q04[O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,(false))
return false
endfunction
function SA7 takes unit x6,integer X5,integer o6,location b5 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(x6))
if b5==null or(GetPlayerController(GetOwningPlayer(x6))!=MAP_CONTROL_COMPUTER)then
return false
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,(true))
call DisableTrigger(Q04[O5])
if(IssuePointOrderById(x6,X5,GetLocationX(b5),GetLocationY(b5)))then
call EnableTrigger(Q04[O5])
return true
endif
call EnableTrigger(Q04[O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)
return false
endfunction
function SB7 takes unit x6,integer X5,integer o6,integer n6,unit m5 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(x6))
if(not QY4[O5]or o6==0)or(GetPlayerController(GetOwningPlayer(x6))!=MAP_CONTROL_COMPUTER)then
return false
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,(true))
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,(true))
call DisableTrigger(Q04[O5])
if(IssueTargetOrderById(x6,X5,m5))then
call EnableTrigger(Q04[O5])
return true
endif
call EnableTrigger(Q04[O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,false)
return false
endfunction
function SC7 takes unit x6,integer X5,integer o6,integer n6,real x,real y returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(x6))
if(not QY4[O5]or o6==0)or(GetPlayerController(GetOwningPlayer(x6))!=MAP_CONTROL_COMPUTER)then
return false
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,true)
call DisableTrigger(Q04[O5])
if(IssuePointOrderById(x6,X5,x,y))then
call EnableTrigger(Q04[O5])
return true
endif
call EnableTrigger(Q04[O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,false)
return false
endfunction
function S37 takes unit u returns boolean
call SaveInteger(EE7,E,GetHandleId(u),1)
return true
endfunction
function S67 takes unit u,string RV7,widget PN7 returns boolean
return IssueTargetOrder(u,RV7,PN7)and S37(u)
endfunction
function SL7 takes unit x6,integer X5,integer o6 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(x6))
if(not QY4[O5]or o6==0)or(GetPlayerController(GetOwningPlayer(x6))!=MAP_CONTROL_COMPUTER)then
return false
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)
call DisableTrigger(Q04[16+O5])
if(IssueImmediateOrderById(x6,X5))then
call EnableTrigger(Q04[16+O5])
return true
endif
call EnableTrigger(Q04[16+O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)
return false
endfunction
function S17 takes unit S07 returns nothing
call SaveBoolean(EE7,E,GetHandleId(S07),true)
endfunction
function Jw takes unit it returns boolean
return((Z84[GetPlayerId(GetOwningPlayer(it))]!=ZD4)or(GetRandomInt(1,5)<=2))
endfunction
function JW takes unit it returns unit
if(IsUnitAlly(it,Z7[0]))then
return h7[1]
else
return h7[101]
endif
endfunction
function S57 takes unit it returns unit
if(IsUnitAlly(it,Z7[0]))then
return h7[0]
else
return h7[100]
endif
endfunction
function JX takes unit it returns unit
if(IsUnitAlly(it,A7[0]))then
return h7[0]
else
return h7[100]
endif
endfunction
function S27 takes boolean S_7 returns integer
if(S_7)then
return HC4
else
return HB4
endif
endfunction
function T47 takes integer O5,boolean S_7 returns player
if(S_7)then
return Z7[O5]
else
return A7[O5]
endif
endfunction
function T77 takes boolean S_7 returns player
if(S_7)then
return QT4
else
return QU4
endif
endfunction
function T87 takes boolean S_7 returns player
if(S_7)then
return QV4
else
return QW4
endif
endfunction
function T97 takes integer Gu returns nothing
call FlushChildHashtable(L7,Gu)
endfunction
function TD7 takes integer TE7,string GW returns nothing
call RemoveSavedHandle(L7,TE7,StringHash(GW))
endfunction
function TF7 takes integer Gu,string GW,integer Gy returns nothing
call SaveInteger(L7,Gu,StringHash(GW),Gy)
endfunction
function TG7 takes integer Gu,string GW,real Gy returns nothing
call SaveReal(L7,Gu,StringHash(GW),Gy)
endfunction
function TH7 takes integer Gu,string GW,string Gy returns nothing
call SaveStr(L7,Gu,StringHash(GW),Gy)
endfunction
function TI7 takes integer Gu,string GW,boolean Gy returns nothing
call SaveBoolean(L7,Gu,StringHash(GW),Gy)
endfunction
function TJ7 takes integer Gu,string GW,unit Gy returns nothing
call SaveUnitHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TK7 takes integer Gu,string GW,effect Gy returns nothing
call SaveEffectHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TM7 takes integer Gu,string GW,trigger Gy returns nothing
call SaveTriggerHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TN7 takes integer Gu,string GW,lightning Gy returns nothing
call SaveLightningHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TO7 takes integer Gu,string GW,fogmodifier Gy returns nothing
call SaveFogModifierHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TP7 takes integer Gu,string GW,destructable Gy returns nothing
call SaveDestructableHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TQ7 takes integer Gu,string GW,player Gy returns nothing
call SavePlayerHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TR7 takes integer Gu,string GW,item Gy returns nothing
call SaveItemHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TS7 takes integer Gu,string GW,group Gy returns nothing
call SaveGroupHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TT7 takes integer Gu,string GW,timer Gy returns nothing
call SaveTimerHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TU7 takes integer Gu,string GW,widget Gy returns nothing
call SaveWidgetHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TV7 takes integer Gu,string GW,texttag Gy returns nothing
call SaveTextTagHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TW7 takes integer Gu,string GW,location Gy returns nothing
call SaveLocationHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TX7 takes integer Gu,string GW,boolexpr Gy returns nothing
call SaveBooleanExprHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TY7 takes integer Gu,string GW,button Gy returns nothing
call SaveButtonHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TZ7 takes integer Gu,string GW,image Gy returns nothing
call SaveImageHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TA7 takes integer Gu,string GW,force Gy returns nothing
call SaveForceHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TB7 takes integer Gu,string GW returns fogmodifier
return LoadFogModifierHandle(L7,Gu,StringHash(GW))
endfunction
function TC7 takes integer Gu,string GW returns destructable
return LoadDestructableHandle(L7,Gu,StringHash(GW))
endfunction
function T37 takes integer Gu,string GW returns unit
return LoadUnitHandle(L7,Gu,StringHash(GW))
endfunction
function T67 takes integer Gu,string GW returns texttag
return LoadTextTagHandle(L7,Gu,StringHash(GW))
endfunction
function TL7 takes integer Gu,string GW returns player
return LoadPlayerHandle(L7,Gu,StringHash(GW))
endfunction
function T17 takes integer Gu,string GW returns timer
return LoadTimerHandle(L7,Gu,StringHash(GW))
endfunction
function T07 takes integer Gu,string GW returns trigger
return LoadTriggerHandle(L7,Gu,StringHash(GW))
endfunction
function T57 takes integer Gu,string GW returns group
return LoadGroupHandle(L7,Gu,StringHash(GW))
endfunction
function T27 takes integer Gu,string GW returns effect
return LoadEffectHandle(L7,Gu,StringHash(GW))
endfunction
function T_7 takes integer Gu,string GW returns lightning
return LoadLightningHandle(L7,Gu,StringHash(GW))
endfunction
function U47 takes integer Gu,string GW returns location
return LoadLocationHandle(L7,Gu,StringHash(GW))
endfunction
function U77 takes integer Gu,string GW returns item
return LoadItemHandle(L7,Gu,StringHash(GW))
endfunction
function U87 takes integer Gu,string GW returns image
return LoadImageHandle(L7,Gu,StringHash(GW))
endfunction
function U97 takes integer Gu,string GW returns integer
return LoadInteger(L7,Gu,StringHash(GW))
endfunction
function UD7 takes integer Gu,string GW returns real
return LoadReal(L7,Gu,StringHash(GW))
endfunction
function UE7 takes integer Gu,string GW returns boolean
return LoadBoolean(L7,Gu,StringHash(GW))
endfunction
function UF7 takes integer Gu,string GW returns string
return LoadStr(L7,Gu,StringHash(GW))
endfunction
function UG7 takes integer ki,string kI returns button
return LoadButtonHandle(L7,ki,StringHash(kI))
endfunction
function UH7 takes integer ki,string kI returns boolexpr
return LoadBooleanExprHandle(L7,ki,StringHash(kI))
endfunction
function UI7 takes integer ki,string kI returns force
return LoadForceHandle(L7,ki,StringHash(kI))
endfunction
function UJ7 takes unit hI,string Hh returns boolean
return LoadInteger(L7,GetHandleId(hI),StringHash("state"+Hh))==1
endfunction
function UK7 takes trigger hI,string Hh returns boolean
return LoadInteger(L7,GetHandleId(hI),StringHash("state"+Hh))==1
endfunction
function UM7 takes unit hI,string Hh returns nothing
call SaveInteger(L7,GetHandleId(hI),StringHash("state"+Hh),1)
endfunction
function UN7 takes trigger hI,string Hh returns nothing
call SaveInteger(L7,GetHandleId(hI),StringHash("state"+Hh),1)
endfunction
function UO7 takes unit hI,string Hh returns nothing
call SaveInteger(L7,GetHandleId(hI),StringHash("state"+Hh),2)
endfunction
function UP7 takes trigger hI,string Hh returns nothing
call SaveInteger(L7,GetHandleId(hI),StringHash("state"+Hh),2)
endfunction
function l5 takes nothing returns nothing
local integer i=0
set EZ7="l5"
if D9==false and PT4==false then
loop
call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303An internal checksum has failed|r")
call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303This might not be a serious glitch, but it is important for me to get it|r")
call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303Please send me the replay for this game to IceFrog@gmail.com|r")
set i=i+1
exitwhen i==12
endloop
endif
endfunction
function UQ7 takes trigger t returns nothing
call DisableTrigger(t)
set Dy=Dy+1
set Dx[Dy]=t
set DX[Dy]=RF7()+60
if Dy>8000 then
call l5()
endif
endfunction
function UR7 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
set EZ7="UR7"
call UO7(T37(US7,"hero"),UF7(US7,"state"))
call T97(US7)
call UQ7(t)
set t=null
return false
endfunction
function UT7 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
set EZ7="UT7"
call UP7(T07(US7,"hero"),UF7(US7,"state"))
call T97(US7)
call UQ7(t)
set t=null
return false
endfunction
function UU7 takes unit hI,string Hh,real Hk returns nothing
local trigger t=CreateTrigger()
set EZ7="AddHeroState"
call TriggerAddCondition(t,Condition(function UR7))
call TriggerRegisterTimerEvent(t,Hk,false)
call UM7(hI,Hh)
call TJ7(GetHandleId(t),"hero",hI)
call TH7(GetHandleId(t),"state",Hh)
set t=null
endfunction
function UV7 takes trigger hI,string Hh,real Hk returns nothing
local trigger t=CreateTrigger()
set EZ7="LcTriggerVersion"
call TriggerAddCondition(t,Condition(function UT7))
call TriggerRegisterTimerEvent(t,Hk,false)
call UN7(hI,Hh)
call TM7(GetHandleId(t),"hero",hI)
call TH7(GetHandleId(t),"state",Hh)
set t=null
endfunction
function UW7 takes group g returns integer
set bj_groupCountUnits=0
call ForGroup(g,function CountUnitsInGroupEnum)
return bj_groupCountUnits
endfunction
function UX7 takes force UY7,force UZ7 returns force
local integer UA7=0
set EZ7="ForceAddForce"
loop
exitwhen UA7>11
if IsPlayerInForce(Player(UA7),UY7)then
call ForceAddPlayer(UZ7,Player(UA7))
endif
set UA7=UA7+1
endloop
return UZ7
endfunction
function UB7 takes unit P67,string UC7,player U37 returns nothing
local integer UA7=0
local integer U67=0
local unit UL7=null
local real U17=0
local string U07=""
local string U57=""
set EZ7="aiSendMsgToPlayers_Sub"
set UA7=GetPlayerId(U37)
set UL7=M7[UA7]
if P67!=null then
set U67=GetPlayerId(GetOwningPlayer(P67))
else
set U67=15
endif
if not(U67==0 or U67==6 or U67==15)then
if UL7!=null and GetWidgetLife(UL7)>.405 and P67!=null then
set U17=Q17(P67,UL7)
if U17<=1500 then
set U07=""
elseif U17<=3000. then
set U07="|c00c0c0c0"
else
set U07="|c00a0a0a0"
endif
endif
set U57="|r"+Q[U67]+KZ4[U67]+"|r: "+U07+UC7+"|r"
elseif U67==GetPlayerId(Z7[0])then
set U57="[AI] "+Q[U67]+"The Sentinel|r: "+UC7
elseif U67==GetPlayerId(A7[0])then
set U57="[AI] "+Q[U67]+"The Scourge|r: "+UC7
elseif U67==12 then
set U57="[AI]: "+UC7+"|r"
endif
if DQ7[UA7]and U37==GetLocalPlayer()then
call DisplayTimedTextToPlayer(U37,0,0,10,U57)
endif
set UL7=null
set U07=""
endfunction
function U27 takes group U_7,string U57,force V47 returns nothing
local integer UA7=0
local unit P67=null
local string V77="|r"
local integer i=1
set EZ7="aiSendMsgToPlayers_Multi"
loop
exitwhen i>10
set P67=M7[GetPlayerId(RZ7(i))]
if IsUnitInGroup(P67,U_7)then
call GroupRemoveUnit(U_7,P67)
set UA7=GetPlayerId(GetOwningPlayer(P67))
if V77!="|r" then
set V77=V77+", "
endif
set V77=V77+Q[UA7]+KZ4[UA7]+"|r"
endif
set i=i+1
endloop
loop
set P67=FirstOfGroup(U_7)
exitwhen P67==null
call GroupRemoveUnit(U_7,P67)
set UA7=GetPlayerId(GetOwningPlayer(P67))
if V77!="|r" then
set V77=V77+", "
endif
set V77=V77+Q[UA7]+KZ4[UA7]+"|r"
endloop
set V77=V77+": "
if(IsPlayerInForce(GetLocalPlayer(),V47))then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,V77)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,"      - "+U57)
endif
endfunction
function V87 takes nothing returns nothing
local timer V97=GetExpiredTimer()
local force VD7=null
local integer UA7=1
local unit P67=null
local group U_7=null
local integer VE7=GetHandleId(V97)
local string U57=""
set EZ7="V87"
if UE7(VE7,"Personal")then
set VD7=UI7(VE7,"Target")
set U57=UF7(VE7,"SubTag")
set P67=T37(VE7,"Owner")
loop
exitwhen UA7>11
if IsPlayerInForce(Player(UA7),VD7)then
if U57==" " then
call DisplayTimedTextToPlayer(Player(UA7),0,0,10,U57)
else
call UB7(P67,U57,Player(UA7))
endif
endif
set UA7=UA7+1
endloop
call T97(VE7)
call DestroyTimer(V97)
else
set U57=UF7(VE7,"SubTag")
set VE7=StringHash("cAI|Re"+U57)
set VD7=UI7(VE7,"Target")
set U_7=T57(VE7,"Owner")
if U97(VE7,"CountDn")==0 then
call PauseTimer(V97)
if UW7(U_7)==1 then
set P67=FirstOfGroup(U_7)
loop
exitwhen UA7>11
if IsPlayerInForce(Player(UA7),VD7)then
call UB7(P67,U57,Player(UA7))
endif
set UA7=UA7+1
endloop
else
call U27(U_7,U57,VD7)
endif
call DestroyGroup(U_7)
call T97(VE7)
call DestroyTimer(V97)
else
call TF7(VE7,"CountDn",U97(VE7,"CountDn")-1)
endif
endif
set U_7=null
set VD7=null
endfunction
function VF7 takes unit P67,force VD7,string U57 returns nothing
local force VG7=null
local group VH7=null
local timer V97=null
local integer UA7=1
local boolean SQ7=true
local boolean VI7=false
local integer VE7=0
set EZ7="aiSendMsgToPlayers"
if P67==null then
set P67=KU4[bj_forLoopAIndex]
endif
set VE7=StringHash("cAI|Re"+U57)
set VG7=UI7(VE7,"Target")
if VG7==null and U57!=" " then
set VI7=true
set VG7=UX7(VD7,CreateForce())
call TA7(VE7,"Target",VG7)
set V97=CreateTimer()
call TH7(GetHandleId(V97),"SubTag",U57)
set VH7=CreateGroup()
call GroupAddUnit(VH7,P67)
call TS7(VE7,"Owner",VH7)
else
if U57==" " then
set SQ7=false
else
set SQ7=true
set UA7=1
loop
exitwhen UA7>11
if IsPlayerInForce(Player(UA7),VD7)then
if not IsPlayerInForce(Player(UA7),VG7)then
set SQ7=false
set UA7=11
endif
endif
set UA7=UA7+1
endloop
endif
if SQ7 then
set VH7=T57(VE7,"Owner")
call GroupAddUnit(VH7,P67)
else
set VI7=true
set V97=CreateTimer()
set VE7=GetHandleId(V97)
call TH7(VE7,"SubTag",U57)
set VG7=UX7(VD7,CreateForce())
call TA7(VE7,"Target",VG7)
call TJ7(VE7,"Owner",P67)
call TI7(VE7,"Personal",true)
endif
endif
if VI7 then
if U57==" " then
call TimerStart(V97,0.1,false,function V87)
else
call TimerStart(V97,0.01,true,function V87)
endif
endif
set VG7=null
set VH7=null
endfunction
function VJ7 takes force VD7,real x,real y,integer O5 returns nothing
if(IsPlayerInForce(GetLocalPlayer(),VD7))then
if GetAllyColorFilterState()==2 then
call PingMinimapEx(x,y,5.,48,230,185,true)
else
call PingMinimapEx(x,y,5.,KA4[O5],KB4[O5],KC4[O5],true)
endif
endif
endfunction
function VK7 takes unit P67,force VD7 returns nothing
if P67!=null then
if GetUnitState(P67,UNIT_STATE_LIFE)>0 then
if(IsPlayerInForce(GetLocalPlayer(),VD7))then
call PingMinimap(GetUnitX(P67),GetUnitY(P67),5.)
endif
else
if IsUnitAlly(P67,Z7[0])then
set P67=IZ4
else
set P67=JA4
endif
if(IsPlayerInForce(GetLocalPlayer(),VD7))then
call PingMinimap(GetUnitX(P67),GetUnitY(P67),5.)
endif
endif
endif
endfunction
function VM7 takes unit P67,string U57 returns nothing
local integer O5=1
local real QL7
set EP7=CreateForce()
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if IsUnitAlly(P67,Player(O5))then
if M7[O5]==null or GetWidgetLife(M7[O5])<.405 then
call ForceAddPlayer(EP7,Player(O5))
else
set QL7=Q17(P67,M7[O5])
if QL7<=3000. then
call ForceAddPlayer(EP7,Player(O5))
endif
endif
endif
set O5=O5+1
endloop
call VF7(P67,EP7,U57)
call VK7(P67,EP7)
call DestroyForce(EP7)
set EP7=null
endfunction
function VN7 takes unit it,boolean J2 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
set EZ7="(aiRetreat_J1)"+EZ7
if((not Id(O5))or(J2))then
if(GetUnitTypeId(it)!=1211117642)then
set G0[32+O5]=true
if(not GZ[160+O5])and(GetUnitLifePercent(it)<30)then
call VM7(it,"Retreating")
endif
set h4[O5]=null
set hq[512+O5]=0.
set GZ[128+O5]=false
set GZ[160+O5]=true
endif
if(is(it))then
call SY7(it,851986,h9[O5])
if(SG7(it,ZU[C0]))then
call UnitUseItem(it,bj_lastCreatedItem)
endif
endif
endif
endfunction
function kD takes unit u returns boolean
return((GetUnitAbilityLevel(u,1110456148)>0)or(GetUnitAbilityLevel(u,1110456118)>0)or(GetUnitAbilityLevel(u,1110455864)>0)or(GetUnitAbilityLevel(u,1112041075)>0)or(GetUnitAbilityLevel(u,1110454347)>0)or(GetUnitAbilityLevel(u,1110454833)>0)or(GetUnitAbilityLevel(u,1110454609)>0)or(GetUnitAbilityLevel(u,1110455097)>0)or(GetUnitAbilityLevel(u,1093677130)>0)or(GetUnitAbilityLevel(u,1093684052)>0)or(GetUnitAbilityLevel(u,1093677617)>0)or(GetUnitAbilityLevel(u,1112504171)>0))
endfunction
function VO7 takes unit it returns string
if(IsUnitAlly(it,Z7[0]))then
return"Sent"
else
return"Scrg"
endif
endfunction
function VP7 takes nothing returns boolean
local integer O5=U97(GetHandleId(GetTriggeringTrigger()),"pID")
local integer VQ7=GetPlayerId(GetOwningPlayer(h4[O5]))
if(GetWidgetLife(M7[O5])<.405)or(Bz>hq[608+O5])or(h4[O5]==null)or(GetWidgetLife(h4[O5])<.405)or(eY[32+VQ7]<=0)then
call DisableTrigger(GetTriggeringTrigger())
return false
elseif(IsUnitVisible(h4[O5],Player(O5)))then
if RY7(M7[O5])then
call IssueTargetOrderById(M7[O5],851983,h4[O5])
endif
call DisableTrigger(GetTriggeringTrigger())
return false
endif
if is(M7[O5])then
if(((IsVisibleToPlayer(GetUnitX(h4[O5]),GetUnitY(h4[O5]),Player(O5)))and(not IsUnitHidden(h4[O5])))or((eY[32+VQ7]<2)and(kD(h4[O5]))))then
if(SG7(M7[O5],ZU[T5]))then
call UnitUseItem(M7[O5],bj_lastCreatedItem)
elseif(SG7(M7[O5],ZU[CC]))and(Q17(M7[O5],h4[O5])<=600)then
call UnitUseItem(M7[O5],bj_lastCreatedItem)
elseif(SG7(M7[O5],ZU[WC]))and((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))then
call UnitUseItemPoint(M7[O5],bj_lastCreatedItem,GetUnitX(h4[O5]),GetUnitY(h4[O5]))
else
if(not UE7(R44,VO7(M7[O5])+"|W"))then
call TI7(R44,VO7(M7[O5])+"|W",true)
endif
call DisableTrigger(GetTriggeringTrigger())
return false
endif
endif
if eY[464+VQ7]==851986 or eY[464+VQ7]==851971 or eY[464+VQ7]==851990 then
call IssuePointOrderById(M7[O5],851986,I2R(eY[480+VQ7]),I2R(eY[496+VQ7]))
else
call SY7(M7[O5],851986,h4[O5])
endif
endif
return false
endfunction
function J3 takes unit it,boolean J2 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local boolean J4=false
set EZ7="(J3)"+EZ7
if(R17(it))then
if(J2)then
if(not Id(O5))then
call VN7(it,true)
elseif((R37(h4[O5]))and(GetUnitAbilityLevel(h4[O5],1110454854)==0))then
set EZ7="(J3a)"+EZ7
call IssueTargetOrderById(it,851983,h4[O5])
endif
else
call VN7(it,false)
endif
elseif(G0[272+O5]or is(it))and((J2)or(((not GZ[128+O5])or((GetUnitCurrentOrder(it)!=851983)and(GetUnitCurrentOrder(it)!=851993)))and(iU(it))))then
if((G0[O5])or(G0[48+O5])or(not G0[128+O5]))then
set EZ7="(J3b)"+EZ7
set J4=SY7(it,851986,h9[O5])
endif
if(h4[96+O5]!=null)and(GetUnitTypeId(h4[96+O5])==1966092371)then
set EZ7="(J3c)"+EZ7
set J4=IssueTargetOrderById(it,851983,h4[96+O5])
endif
if((not J4)and(h4[O5]!=null)and(R37(h4[O5]))and(GetUnitAbilityLevel(h4[O5],1110454854)==0))then
if IsUnitVisible(h4[O5],GetOwningPlayer(it))then
set bj_lastLoadedUnit=it
if UE7(GetHandleId(h4[O5]),"XMarked")then
call MoveLocation(HA,UD7(GetHandleId(h4[O5]),"AI|XMark|X"),UD7(GetHandleId(h4[O5]),"AI|XMark|Y"))
if(not IsUnitInRangeLoc(h4[O5],HA,600.))then
set EZ7="(J3d)"+EZ7
set J4=IssuePointOrderByIdLoc(it,851986,HA)
else
set EZ7="(J3e)"+EZ7
set J4=IssueTargetOrderById(it,851983,h4[O5])
endif
elseif UJ7(it,"AI|Lasso")then
set EZ7="(J3f)"+EZ7
set J4=IssueTargetOrderById(it,851986,h9[O5])
elseif(GetUnitTypeId(it)==1164666213 and GetHeroLevel(it)>=6)and(eY[320+O5]>=0)and(not IsUnitInRange(it,h4[O5],300))and((GetUnitLifePercent(it)>80)or(GetUnitLifePercent(it)>(GetUnitLifePercent(h4[O5])+30)))and(GetUnitManaPercent(it)>20)and(h4[304+O5]==null)and(SE7(900,h4[O5],Condition(function SF7))==0)then
set EZ7="(J3g)"+EZ7
set J4=IssueTargetOrderById(it,851986,h4[O5])
else
set EZ7="(J3h)"+EZ7
set J4=IssueTargetOrderById(it,851983,h4[O5])
endif
set hq[608+O5]=Bz+F67
elseif hq[608+O5]>Bz and eY[32+GetPlayerId(GetOwningPlayer(h4[O5]))]>0 then
if not IsVisibleToPlayer(GetUnitX(h4[O5]),GetUnitY(h4[O5]),GetOwningPlayer(it))then
call EnableTrigger(Q04[96+O5])
set EZ7="(J3i)"+EZ7
set J4=SY7(it,851986,h4[O5])
endif
else
call DisableTrigger(Q04[96+O5])
endif
endif
set GU7=LoadUnitHandle(L7,(GetHandleId(it)),(652))
set GV7=T37((GetHandleId(it)),"AI|TetherSource")
if(J4)then
elseif(GU7!=null)and(not IsUnitInRange(it,GU7,700)and(IsUnitType(GU7,UNIT_TYPE_HERO)))then
set EZ7="(J3j)"+EZ7
call SY7(it,851986,GU7)
elseif(GV7!=null)and(not IsUnitInRange(it,GV7,700))then
set EZ7="(J3k)"+EZ7
call SY7(it,851986,GV7)
elseif((eY[O5]>=9))then
if eY[272+O5]<=2 then
if((G0[176+O5])or(h8[48+O5]!=h8[32+O5]))then
set EZ7="(J3m)"+EZ7
call SY7(it,851983,h8[48+O5])
else
set EZ7="(J3n)"+EZ7
call SY7(it,851986,h9[O5])
endif
endif
elseif((eY[O5]==3)or(eY[O5]==4))then
elseif GZ[160+O5]or(not G0[128+O5])then
set EZ7="(J3o)"+EZ7
call SY7(it,851986,h9[O5])
else
set EZ7="(J3p)"+EZ7
call SY7(it,851983,h8[O5])
endif
endif
endfunction
function VR7 takes unit it returns nothing
if((SG7(it,ZU[B3]))and(UnitUseItem(it,bj_lastCreatedItem)))then
call QA7(0.3)
endif
if((SG7(it,ZU[T1]))and(UnitUseItem(it,bj_lastCreatedItem)))then
call QA7(0.3)
endif
call IssueImmediateOrderById(it,851972)
endfunction
function VS7 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(GetFilterUnit(),1098085732)==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))==true and GetUnitTypeId(GetFilterUnit())!=1966092371 and GetUnitTypeId(GetFilterUnit())!=1852010352 and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)
endfunction
function VT7 takes unit it,unit RL7 returns boolean
local item VU7=null
local boolean VV7=false
local item VW7=null
local integer O5=GetPlayerId(GetOwningPlayer(it))
local boolean VX7=(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)
local boolean VY7=false
local boolean VZ7=false
local real VA7=0
local real VB7=0
local real VC7=0
set EZ7="aiUseTele_uZv"
if T37((GetHandleId(it)),"AI|TetherSource")!=null then
return false
elseif(GetUnitTypeId(it)==1211117642)then
return false
endif
if(RL7==IZ4 or RL7==JA4)then
if G0[352+O5]or(Q17(it,RL7)<3000)then
return false
endif
elseif(Q17(it,RL7)<2000)then
return false
endif
if RL7==IZ4 or RL7==JA4 then
set VB7=GetUnitX(RL7)
set VC7=GetUnitY(RL7)
else
set bj_lastLoadedUnit=S57(it)
set VA7=Atan2(GetUnitY(bj_lastLoadedUnit)-GetUnitY(RL7),GetUnitX(bj_lastLoadedUnit)-GetUnitX(RL7))+GetRandomReal(-F07,F07)
set VB7=GetUnitX(RL7)+500.*Cos(VA7)
set VC7=GetUnitY(RL7)+500.*Sin(VA7)
endif
if((GetUnitAbilityLevel(it,1093677391)>0)and(Bz>TC4[32+O5]))then
if IssuePointOrderById(it,852525,VB7,VC7)then
return true
endif
endif
if((GetUnitAbilityLevel(it,1093685808)>0)and(Bz>TC4[O5]))then
if IssuePointOrderById(it,852600,VB7,VC7)then
return true
endif
endif
if not(eY[224+O5]<R2I(Bz)and GetUnitState(it,UNIT_STATE_MANA)>EY7)then
return false
endif
if not IsUnitType(RL7,UNIT_TYPE_STRUCTURE)then
set bj_lastLoadedUnit=it
set bj_lastLoadedUnit=S97(2000.,SX7(RL7),Condition(function VS7))
set VZ7=((bj_lastLoadedUnit!=null)and(Q17(it,RL7)>Q17(bj_lastLoadedUnit,RL7)))
else
set VZ7=true
endif
if(VX7 and T24[O5]==true)then
if(SG7(it,GetItemTypeId(U44[O5])))then
call DisableTrigger(H94)
call UnitRemoveItem(it,SK7(it,GetItemTypeId(U44[O5])))
call RemoveItem(U44[O5])
call EnableTrigger(H94)
endif
if(T_4[O5]!=null)then
call QA7(0.2)
call UnitAddItem(it,T_4[O5])
endif
set T24[O5]=false
set U44[O5]=null
set T_4[O5]=null
endif
if(SG7(it,ZU[YC]))and VZ7 then
if((GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitAbilityLevel(it,1110455864)==0)and(GetUnitAbilityLevel(it,1110454347)==0)and(GetUnitAbilityLevel(it,1110455097)==0))then
call VR7(it)
set VY7=UnitUseItemPoint(it,SK7(it,ZU[YC]),VB7,VC7)
endif
elseif(SG7(it,ZU[F6]))then
call VR7(it)
set VY7=UnitUseItemPoint(it,SK7(it,ZU[F6]),GetUnitX(RL7),GetUnitY(RL7))
elseif(not K_7[O5])then
if(GetUnitTypeId(it)==1211117642 or IsUnitIllusion(it))or(not VZ7)then
return false
endif
set VV7=false
if((not SH7(it)))then
set VV7=true
elseif(SG7(it,ZU[QC]))then
set VW7=bj_lastCreatedItem
set VV7=true
elseif(SG7(it,ZU[TC]))then
set VW7=bj_lastCreatedItem
set VV7=true
elseif(SG7(it,ZU[WC]))then
set VW7=bj_lastCreatedItem
set VV7=true
endif
if VV7 then
if VW7!=null then
call RN7(VW7)
endif
set VU7=CreateItem(ZU[YC],GetUnitX(it),GetUnitY(it))
set VV7=UnitAddItem(it,VU7)
call QA7(0.3)
else
if(SG7(it,ZU[FV]))then
set U74[O5]=bj_lastCreatedItem
set VV7=true
endif
if VV7 then
call DisableTrigger(H94)
call UnitRemoveItem(it,U74[O5])
call SetItemPosition(U74[O5],9999,-9999)
call EnableTrigger(H94)
set VU7=CreateItem(ZU[YC],GetUnitX(it),GetUnitY(it))
set VV7=UnitAddItem(it,VU7)
set U94[O5]=true
call QA7(0.3)
endif
endif
set VW7=null
if(not VV7)then
call RN7(VU7)
call QA7(0.2)
if((not SH7(it)))then
call UnitAddItem(it,U74[O5])
set U94[O5]=false
set U74[O5]=null
endif
endif
if(SG7(it,ZU[YC]))then
call VR7(it)
set VV7=UnitUseItemPoint(it,SK7(it,ZU[YC]),VB7,VC7)
call QA7(0.5)
set VU7=null
set VY7=VV7
if not VY7 then
call QA7(0.01)
set VY7=(eY[224+O5]>R2I(Bz)+1)
endif
endif
endif
if VY7 then
set eY[224+O5]=R2I(Bz)+EX7
set eY[208+O5]=0
set h8[144+O5]=null
else
if not VV7 then
set eY[208+O5]=0
set h8[144+O5]=null
endif
if U74[O5]!=null then
call DisableTrigger(H94)
call RemoveItem(SK7(it,ZU[YC]))
call UnitAddItem(it,U74[O5])
call EnableTrigger(H94)
set U74[O5]=null
set U94[O5]=false
endif
endif
return VY7
endfunction
function V37 takes integer O5,unit j5,integer o6 returns nothing
call DisableTrigger(Q04[O5])
if((not R17(j5))and(not G0[O5])and(not G0[64+O5])and(G0[128+O5])and(h4[O5]!=null)and(R37(h4[O5]))and(IsUnitVisible(h4[O5],GetOwningPlayer(j5))))then
call IssueTargetOrderById(j5,851983,h4[O5])
set GZ[48+O5]=true
else
call J3(j5,true)
endif
call EnableTrigger(Q04[O5])
if(o6!=0)then
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),o6,not(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER))
endif
endfunction
function J6 takes integer O5,unit j5,integer o6,integer n6 returns nothing
call V37(O5,j5,o6)
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),n6,not((GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTER)))
endfunction
function J7 takes integer O5,unit j5,integer o6 returns nothing
call DisableTrigger(Q04[O5])
if((not R17(j5))and(not G0[O5])and(not G0[64+O5])and(G0[128+O5])and(h4[O5]!=null)and(R37(h4[O5]))and(IsUnitVisible(h4[O5],GetOwningPlayer(j5))))then
call IssueTargetOrderById(j5,851983,h4[O5])
set GZ[48+O5]=true
else
call J3(j5,true)
endif
call EnableTrigger(Q04[O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),o6,not(GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTER))
endfunction
function J8 takes integer O5,boolean J9 returns boolean
set GZ[O5]=false
return J9
endfunction
function V67 takes unit u returns boolean
if(IsUnitAlly(u,Z7[0]))then
return(IsUnitInRange(u,IZ4,1100.))
else
return(IsUnitInRange(u,JA4,1100.))
endif
endfunction
function kA takes unit IB,unit m5,real kb returns boolean
if(IsUnitAlly(m5,Z7[0]))then
return(Q17(IB,h7[0])-Q17(m5,h7[0]))>kb
else
return(Q17(IB,h7[100])-Q17(m5,h7[100]))>kb
endif
endfunction
function kB takes boolean J4,group jU returns integer
local unit it
local integer kc=0
local boolean kC=false
local boolean kd=false
set EZ7="kB"
loop
set it=FirstOfGroup(jU)
exitwhen(it==null)
if(GetUnitTypeId(it)==1211117641)then
set kc=kc+1
set kd=true
elseif(GetUnitTypeId(it)!=1211117642)then
set kc=kc+1
elseif(not kC)then
set kC=true
endif
call GroupRemoveUnit(jU,it)
endloop
if((kC)and((not kd)or(J4)))then
set kc=kc+1
endif
return kc
endfunction
function ke takes unit u returns boolean
return((GetUnitAbilityLevel(u,1093685838)>0)or(GZ[256+GetPlayerId(GetOwningPlayer(u))]))
endfunction
function kE takes string kf,string kF returns integer
local integer kg=StringLength(kf)
local integer kG=0
set EZ7="kE"
loop
exitwhen kg<=kG
if(SubString(kf,kg,kg+1)==kF)then
return kg
endif
set kg=kg-1
endloop
return-1
endfunction
function kh takes string kf returns integer
local integer kg=0
local integer kG=StringLength(kf)
set EZ7="kh"
loop
exitwhen kg>=kG
if(SubString(kf,kg,kg+1)==",")then
return kg
endif
set kg=kg+1
endloop
return-1
endfunction
function kj takes nothing returns nothing
set GT=false
endfunction
function kJ takes real x,real y returns boolean
set GT=true
call SetRect(He,x-160.,y-160.,x+160.,y+160.)
call EnumDestructablesInRect(He,Q24,function kj)
return GT
endfunction
function kk takes unit it,real IW,unit r returns location
local integer kK=0
local real kl=Atan2(GetUnitY(r)-GetUnitY(it),GetUnitX(r)-GetUnitX(it))
set EZ7="kk"
loop
if(kJ(GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl))
return HB
endif
set kK=kK+1
set IW=IW-50.
exitwhen(kK>5)
endloop
return null
endfunction
function kL takes unit it,unit m5,real km returns location
local real IW=Q07(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5))+km
local real kl=0
local integer kK=0
set EZ7="kL"
set kK=GetPlayerId(GetOwningPlayer(m5))
set kl=Atan2(GetUnitY(h9[kK])-GetUnitY(m5),GetUnitX(h9[kK])-GetUnitX(m5))
set kK=0
loop
if(kJ(GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl))
return HB
endif
set kK=kK+1
set IW=IW-50.
exitwhen(kK>5)
endloop
return null
endfunction
function VL7 takes unit it returns boolean
return((GetUnitAbilityLevel(it,1093678162)==0)and(GetUnitAbilityLevel(it,1097625443)==0))
endfunction
function V17 takes unit it returns boolean
return((GetUnitAbilityLevel(it,1093678162)==0)and(GetUnitAbilityLevel(it,1097625443)==0)and(GetUnitTypeId(it)!=1970497636)and(GetUnitTypeId(it)!=1848652113)and(GetUnitTypeId(it)!=1848652114))
endfunction
function V07 takes unit u returns boolean
return(IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER))
endfunction
function V57 takes unit x6 returns integer
return(GetItemTypeId(UnitItemInSlot(x6,GetIssuedOrderId()-852008)))
endfunction
function V27 takes integer Iz returns boolean
return((Iz==1093679446)or(Iz==1095263841)or(Iz==1093681972)or(Iz==1093685065)or(Iz==1093677622)or(Iz==1093682265)or(Iz==1093684314)or(Iz==1093685582))
endfunction
function kP takes integer i1 returns boolean
return((i1==1429221424)or(i1==1160785972)or(i1==1430468144)or(i1==1430467634)or(i1==1432642913)or(i1==1432510828)or(i1==1315334514)or(i1==1332109682)or(i1==1429221456)or(i1==1311780946)or(i1==1211117624)or(i1==1160785973)or(i1==1214345830)or(i1==1315007329)or(i1==1215723364)or(i1==1164799855)or(i1==1212365106)or(i1==1432580716)or(i1==1429221720)or(i1==1333027688)or(i1==1311781185)or(i1==1332179560)or(i1==1214344551)or(i1==1311781206)or(QG7(i1,F97)))
endfunction
function kq takes integer i1 returns boolean
return(not QG7(i1,F97))
endfunction
function kQ takes unit u returns boolean
return((GetUnitAbilityLevel(u,1110455620)>0)or(GetUnitAbilityLevel(u,1110455629)>0)or(GetUnitAbilityLevel(u,1110455630)>0)or(GetUnitAbilityLevel(u,1110455631)>0))
endfunction
function kr takes unit u returns boolean
return((GetUnitAbilityLevel(u,1110456120)>0)or(GetUnitAbilityLevel(u,1113943649)>0)or(GetUnitAbilityLevel(u,1113943655)>0)or(GetUnitAbilityLevel(u,1110459185)>0))
endfunction
function V_7 takes integer Iz returns boolean
return((Iz==ZU[F5])or(Iz==ZU[G5])or(Iz==ZU[J5])or(Iz==ZU[M5])or(Iz==ZU[N5]))
endfunction
function ks takes integer Iz returns boolean
return((Iz==ZU[R5])or(Iz==ZU[S5])or(Iz==ZU[T5]))
endfunction
function kS takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093677635)
set EZ7="kS"
if(kt==4)then
return 1093678925
elseif(kt==3)then
return 1093678922
elseif(kt==2)then
return 1093678921
elseif(kt==1)then
return 1093678920
else
return 1093685302
endif
endfunction
function kT takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093677635)
set EZ7="kT"
if(kt==4)then
return 1093678904
elseif(kt==3)then
return 1093678900
elseif(kt==2)then
return 1093678898
elseif(kt==1)then
return 1093678670
else
return 1093677645
endif
endfunction
function W47 takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093677635)
if(kt==4)then
return 1093678158
elseif(kt==3)then
return 1093678157
elseif(kt==2)then
return 1093678154
elseif(kt==1)then
return 1093677898
else
return 1093678899
endif
endfunction
function W77 takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093679160)
set EZ7="aiOgre_Fireblast"
if(kt==3)then
return 1093679172
elseif(kt==2)then
return 1093679169
elseif(kt==1)then
return 1093679161
else
return 1093678167
endif
endfunction
function W87 takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093679160)
set EZ7="aiOgre_Ignite"
if(kt==3)then
return 1093677126
elseif(kt==2)then
return 1093677396
elseif(kt==1)then
return 1093677111
else
return 1093677361
endif
endfunction
function W97 takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093679160)
set EZ7="aiOgre_Bloodlust"
if(kt==3)then
return 1093679177
elseif(kt==2)then
return 1093679175
elseif(kt==1)then
return 1093679174
else
return 1093679155
endif
endfunction
function WD7 takes integer Iz returns integer
if((Iz==ZU[QW])or(Iz==ZU[QC])or(Iz==ZU[TC])or(Iz==ZU[XC])or(Iz==ZU[YC]))then
return 100
elseif((Iz==ZU[LV])or(Iz==ZU[UY])or(Iz==ZU[UW])or(Iz==ZU[NV])or(Iz==ZU[AX]))then
return 150
elseif((Iz==ZU[BA])or(Iz==ZU[GB]))then
return 225
elseif((Iz==ZU[ZY])or(Iz==ZU[GY])or(Iz==ZU[WC])or(Iz==ZU[EZ]))then
return 350
elseif((Iz==ZU[FV])or(Iz==ZU[OV])or(Iz==ZU[MV])or(Iz==ZU[HY])or(Iz==ZU[A6])or(Iz==ZU[DL])or(Iz==ZU[HL])or(Iz==ZU[C3]))then
return 450
elseif((Iz==ZU[SV])or(Iz==ZU[UV])or(Iz==ZU[RX])or(Iz==ZU[JV])or(Iz==ZU[EW])or(Iz==ZU[Z3]))then
return 650
elseif((Iz==ZU[NW])or(Iz==ZU[VW])or(Iz==ZU[NX])or(Iz==ZU[QV])or(Iz==ZU[DZ])or(Iz==ZU[ZX])or(Iz==ZU[RZ])or(Iz==ZU[CV])or(Iz==ZU[B3]))then
return 950
elseif((Iz==ZU[TV])or(Iz==ZU[YX])or(Iz==ZU[WX])or(Iz==ZU[OZ]))then
return 1200
elseif((Iz==ZU[XV])or(Iz==ZU[ZW])or(Iz==ZU[SX])or(Iz==ZU[G6])or(Iz==ZU[Y3])or(Iz==ZU[AL])or(Iz==ZU[DD4])or(Iz==ZU[F74]))then
return 1500
elseif((Iz==ZU[RW])or(Iz==ZU[S6])or(Iz==ZU[W6])or(Iz==ZU[P1])or(Iz==ZU[AL])or(Iz==ZU[J1])or(Iz==ZU[RL])or(Iz==ZU[OL])or(Iz==ZU[DG4])or(Iz==ZU[DJ4]))then
return 2000
elseif((Iz==ZU[NZ])or(Iz==ZU[AV])or(Iz==ZU[OW])or(Iz==ZU[F6])or(Iz==ZU[A1])or(Iz==ZU[DG4])or(Iz==ZU[T1]))then
return 2500
elseif((Iz==ZU[YW])or(Iz==ZU[GX])or(Iz==ZU[ZL])or(Iz==ZU[WL])or(Iz==ZU[Q1])or(Iz==ZU[D1])or(Iz==ZU[F5])or(Iz==ZU[R5]))then
return 3000
elseif((Iz==ZU[BV])or(Iz==ZU[LL])or(Iz==ZU[R1]))then
return 3500
elseif((Iz==ZU[SY])or(Iz==ZU[C0])or(SM7(Iz))or(Iz==ZU[S5])or(Iz==1869375847))then
return 4000
elseif((Iz==ZU[V1])or(Iz==ZU[G5]))then
return 4500
elseif((Iz==ZU[U1])or(Iz==ZU[T5])or(Iz==ZU[X1])or(Iz==ZU[D74])or(Iz==ZU[DR4]))then
return 5000
elseif((Iz==ZU[Y0])or(Iz==ZU[B0])or(Iz==ZU[J5])or(Iz==ZU[W5])or(Iz==ZU[R2])or(Iz==ZU[E2])or(Iz==ZU[H2])or(Iz==ZU[D44])or(Iz==ZU[DI4]))then
return 5500
elseif((Iz==ZU[DH4])or(Iz==ZU[M5])or(Iz==ZU[L5])or(Iz==ZU[Z2])or(Iz==ZU[T2])or(Iz==1936683571)or(Iz==1936683572)or(Iz==1936683573)or(Iz==1936683574)or(Iz==1227895094)or(Iz==1227894838))then
return 6000
elseif((Iz==ZU[N5])or(Iz==ZU[X2])or(Iz==ZU[W2])or(Iz==ZU[DE4]))then
return 7000
elseif(Iz==ZU[B5])then
return 8000
endif
return 500
endfunction
function B6 takes trigger kW,playerunitevent kx returns nothing
call TriggerRegisterPlayerUnitEvent(kW,Z7[1],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,Z7[2],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,Z7[3],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,Z7[4],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,Z7[5],kx,Q24)
endfunction
function c6 takes trigger kW,playerunitevent kx returns nothing
call TriggerRegisterPlayerUnitEvent(kW,A7[1],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,A7[2],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,A7[3],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,A7[4],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,A7[5],kx,Q24)
endfunction
function ky takes trigger kW,playerunitevent kx returns nothing
call B6(kW,kx)
call c6(kW,kx)
endfunction
function WE7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(R37(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))))
endfunction
function WF7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(R37(GetFilterUnit()))and(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)and(Q27(GetFilterUnit())==bj_forLoopBIndex))
endfunction
function WG7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(R37(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))))
endfunction
function WH7 takes unit ON7 returns boolean
local real x=GetUnitX(ON7)
local real y=GetUnitY(ON7)
if IsUnitAlly(ON7,Z7[0])then
return x<GetRectMaxX(HD)and x>GetRectMinX(HD)and y<GetRectMaxY(HD)and y>GetRectMinY(HD)
endif
return x<GetRectMaxX(GD)and x>GetRectMinX(GD)and y<GetRectMaxY(GD)and y>GetRectMinY(GD)
endfunction
function WI7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(R37(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false and GetUnitAbilityLevel(GetFilterUnit(),1098282348)==0)and WH7(GetFilterUnit())==false)
endfunction
function WJ7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(R37(GetFilterUnit())))
endfunction
function WK7 takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(R37(GetFilterUnit())))then
if(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))then
return true
elseif(not kD(GetFilterUnit()))then
return((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or(IsUnitInRange(GetFilterUnit(),GetTriggerUnit(),600.)))
else
return(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>2)
endif
endif
return false
endfunction
function WM7 takes nothing returns boolean
return((GetFilterUnit()!=bj_lastLoadedUnit)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(R37(GetFilterUnit()))and(not R17(GetFilterUnit())))
endfunction
function WN7 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(V17(GetFilterUnit())))
endfunction
function k0 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(V17(GetFilterUnit())))
endfunction
function WO7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function IsEnemyTowerInRangeAttacker takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function TorrentedKillableFilter takes nothing returns boolean
return R17(GetFilterUnit())and GetUnitAbilityLevel(GetFilterUnit(),1110456657)>0
endfunction
function k2 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(V17(GetFilterUnit())))
endfunction
function k3 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(V17(GetFilterUnit())))
endfunction
function WP7 takes nothing returns boolean
return(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))
endfunction
function WQ7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitIllusion(GetFilterUnit()))and(GetFilterUnit()!=GetTriggerUnit())and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function k5 takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetFilterUnit()!=GetTriggerUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(V17(GetFilterUnit())))
endfunction
function WR7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
set EZ7="WR7"
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function WS7 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))and R37(GetFilterUnit())and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0
endfunction
function WT7 takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))and R37(GetFilterUnit())and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0
endfunction
function WU7 takes nothing returns boolean
return not IsUnitInRange(GetFilterUnit(),GetEnumUnit(),NC7)
endfunction
function WV7 takes nothing returns boolean
local integer i=GetUnitTypeId(GetFilterUnit())
return i==1848651848 or i==1848651847 or i==1848651851 or i==1848651850 or i==1848651841 or i==1848651830
endfunction
function k6 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(R37(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))
endfunction
function WW7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(R37(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0)and SE7(300,GetFilterUnit(),Condition(function WP7))==0)
endfunction
function WX7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(GetUnitLifePercent(GetFilterUnit())<=40.)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(R37(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))
endfunction
function WY7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function WZ7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function WA7 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))
endfunction
function WB7 takes nothing returns boolean
return(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))
endfunction
function k642 takes nothing returns boolean
return((not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function k65 takes nothing returns boolean
return(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))))
endfunction
function WC7 takes nothing returns boolean
return(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))
endfunction
function W37 takes nothing returns boolean
return(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastCreatedUnit))))
endfunction
function W67 takes nothing returns boolean
return(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))
endfunction
function k7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitLifePercent(GetFilterUnit())<50.))
endfunction
function WL7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitLifePercent(GetFilterUnit())<30.))
endfunction
function k8 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(V17(GetFilterUnit())))
endfunction
function W17 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(V17(GetFilterUnit()))
endfunction
function k9 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(V17(GetFilterUnit()))and(GetUnitState(GetFilterUnit(),UNIT_STATE_MANA)>200.))
endfunction
function Ka takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(V17(GetFilterUnit())))
endfunction
function KA takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(V17(GetFilterUnit())))
endfunction
function W07 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(V17(GetFilterUnit())))
endfunction
function KA_Ally takes nothing returns boolean
return((not IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(V17(GetFilterUnit())))
endfunction
function W57 takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))))then
if Q17(GetFilterUnit(),bj_lastLoadedUnit)<=250 then
if GetUnitLifePercent(GetFilterUnit())>EJ7 then
set IN4=GetFilterUnit()
set EJ7=GetUnitLifePercent(IN4)
endif
else
if GetUnitLifePercent(GetFilterUnit())>EK7 then
set IP4=GetFilterUnit()
set EK7=GetUnitLifePercent(IP4)
endif
endif
endif
return false
endfunction
function W27 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))and(PX7(GetFilterUnit())>=1)
endfunction
function W_7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(R37(GetFilterUnit())))and(PX7(GetFilterUnit())>=1)
endfunction
function IsUnitAllyHeroAttacking takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405))and PA7(GetFilterUnit())
endfunction
function X47 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function X77 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(R37(GetFilterUnit())))
endfunction
function X87 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))))
endfunction
function X97 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))))
endfunction
function XD7 takes nothing returns nothing
local integer XE7=SE7(N47,GetEnumUnit(),N77)
local integer XF7=SE7(N47,M07,N77)
if(M07==null)or(XE7>XF7)then
set M07=GetEnumUnit()
endif
endfunction
function XG7 takes real XH7,real XI7,unit PY7,integer XJ7,boolexpr Ig,boolexpr XK7 returns unit
set EZ7="GetEnemyMaxiumCountUnitInRangeOfUnit_Generic"
set ML7=XJ7
set N47=XI7
set N77=XK7
set M07=null
call GroupClear(M17)
call GroupEnumUnitsInRange(M17,GetUnitX(PY7),GetUnitY(PY7),XH7,Ig)
call GroupRemoveUnit(M17,PY7)
call ForGroup(M17,function XD7)
call DestroyBoolExpr(Ig)
if XK7!=null then
call DestroyBoolExpr(N77)
endif
set N77=null
set Ig=null
return M07
endfunction
function XM7 takes unit XN7,unit XO7 returns boolean
local integer XP7=GetHeroLevel(XN7)
local integer XQ7=GetHeroLevel(XO7)
local integer QH7=QE7(GetUnitTypeId(XO7))
set EZ7="EvaluateSplitTargetLESSTHAN"
if QH7==E_7 or QH7==F47 then
return GetUnitLifePercent(XO7)>=GetUnitLifePercent(XN7)and(XQ7>13)and(XP7>XQ7 or IAbsBJ(XP7-XQ7)<5)
endif
return GetUnitState(XO7,UNIT_STATE_LIFE)<=400 or GetUnitLifePercent(XO7)>=GetUnitLifePercent(XN7)
endfunction
function XR7 takes nothing returns nothing
local integer XE7=SE7(OH7+OI7,GetEnumUnit(),Condition(function X87))
local integer XF7=SE7(OH7+OI7,M07,Condition(function X87))
local integer XS7=SE7(OH7+OI7,M07,Condition(function X77))
local real XT7=M_7
local integer XU7=SE7(OH7+OI7,GetEnumUnit(),Condition(function X77))
local real XV7=M_7
if(M07==null)or(XU7>XS7)then
set M07=GetEnumUnit()
elseif XU7==XS7 then
set M07=OR7(XV7>=XT7 or XE7>=XF7,GetEnumUnit(),M07)
endif
endfunction
function XW7 takes real XH7,unit PY7,integer XJ7,boolexpr Ig returns unit
set EZ7="GetEnemyMaxiumCountUnitInRangeOfUnitCon"
set ML7=XJ7
set M07=null
call GroupClear(M17)
call GroupEnumUnitsInRange(M17,GetUnitX(PY7),GetUnitY(PY7),XH7,Ig)
call GroupRemoveUnit(M17,PY7)
call ForGroup(M17,function XR7)
call DestroyBoolExpr(Ig)
set Ig=null
return M07
endfunction
function XX7 takes nothing returns nothing
local unit PU7=GetEnumUnit()
local unit XY7
local integer XZ7=0
if(hy==null)or(XM7(hy,PU7)and SE7(OH7+OI7,PU7,Condition(function X87))>0)then
set XY7=XW7(OH7+OI7,PU7,XZ7,Condition(function W67))
set XY7=OR7(XY7!=null,XY7,XW7(OH7+OI7,PU7,XZ7,Condition(function X47)))
if IsUnitType(XY7,UNIT_TYPE_HERO)then
set XY7=OR7(GetUnitLifePercent(XY7)>GetUnitLifePercent(PU7),XY7,PU7)
endif
set M57=OR7((XY7!=null),XY7,M57)
endif
set PU7=null
set XY7=null
endfunction
function XA7 takes real XB7,unit XC7,real X37 returns unit
local boolexpr Ig=Condition(function k6)
set EZ7="SplitFindTargetHero"
set hy=null
set M57=null
set OH7=X37
set bj_lastLoadedUnit=XC7
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(XC7),GetUnitY(XC7),XB7,Ig)
call GroupRemoveUnit(iA,XC7)
call ForGroup(iA,function XX7)
call DestroyBoolExpr(Ig)
set Ig=null
set M27[GetPlayerId(GetOwningPlayer(XC7))]=hy
return M57
endfunction
function X67 takes unit PN7,real X37 returns unit
local boolexpr Ig=Condition(function X97)
set EZ7="SplitLoadTargetHero"
set M07=null
set OH7=X37
set bj_lastLoadedUnit=GetEnumUnit()
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(PN7),GetUnitY(PN7),OH7+OI7,Ig)
call GroupRemoveUnit(iA,PN7)
call ForGroup(iA,function XR7)
call DestroyBoolExpr(Ig)
set Ig=null
return M07
endfunction
function XL7 takes location b returns boolean
return(GetLocationX(b)!=0 or GetLocationY(b)!=0)
endfunction
function X17 takes location b,real x,real y returns location
if x==0 then
set x=0.01
endif
if y==0 then
set y=0.01
endif
call MoveLocation(b,x,y)
return b
endfunction
function X07 takes location b,unit PN7 returns location
local real x=GetWidgetX(PN7)
local real y=GetWidgetY(PN7)
if IsUnitType(PN7,UNIT_TYPE_DEAD)==true or IsUnit(PN7,null)then
call MoveLocation(b,0,0)
return b
endif
if x==0 then
set x=0.01
endif
if y==0 then
set y=0.01
endif
call MoveLocation(b,x,y)
return b
endfunction
function X57 takes nothing returns nothing
set N17=GetRectMinX(GetWorldBounds())
set N07=GetRectMinY(GetWorldBounds())
endfunction
function X27 takes nothing returns nothing
set N57=GetRectMaxX(GetWorldBounds())
set N27=GetRectMaxY(GetWorldBounds())
endfunction
function X_7 takes nothing returns nothing
call X57()
call X27()
endfunction
function aiGetGroupMaxXCallBack_Loop takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
if x>=N17 then
set N17=x
endif
endfunction
function aiGetGroupMaxYCallBack_Loop takes nothing returns nothing
local real y=GetUnitY(GetEnumUnit())
if y>=N07 then
set N07=y
endif
endfunction
function aiGetGroupMinXCallBack_Loop takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
if x<=N57 then
set N57=x
endif
endfunction
function aiGetGroupMinYCallBack_Loop takes nothing returns nothing
local real y=GetUnitY(GetEnumUnit())
if y<=N27 then
set N27=y
endif
endfunction
function Y47 takes nothing returns nothing
local real y=GetUnitY(GetEnumUnit())
local real x=GetUnitX(GetEnumUnit())
if x>=N17 then
set N17=x
endif
if y>=N07 then
set N07=y
endif
endfunction
function Y77 takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
if x<=N57 then
set N57=x
endif
if y<=N27 then
set N27=y
endif
endfunction
function Y87 takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
set O77=O77+1
set O87=O87+x
set O97=O97+y
if OG7 then
set OD7[OF7]=x
set OD7[OF7]=y
set OF7=OF7+1
endif
endfunction
function aiGetGroupExtremumXY_Loop takes nothing returns nothing
call CommentString("tired")
endfunction
function YM7 takes unit YN7,real O37,boolexpr Ig,boolean YO7 returns location
local real x=GetUnitX(YN7)
local real y=GetUnitY(YN7)
if IsUnit(YN7,null)then
return null
endif
call GroupClear(O47)
call GroupEnumUnitsInRange(O47,x,y,O37,Ig)
call X_7()
call ForGroup(O47,function Y47)
call ForGroup(O47,function Y77)
if YO7 then
call DestroyBoolExpr(Ig)
endif
call X17(N_7,(N17+N57)*.5,(N07+N27)*.5)
return N_7
endfunction
function YP7 takes nothing returns nothing
local integer i=0
loop
exitwhen i>120
set OD7[i]=0.
set OE7[i]=0.
set i=i+1
endloop
endfunction
function YQ7 takes nothing returns nothing
call ExecuteFunc("YP7")
set N_7=Location(0,0)
set OF7=0
set O47=CreateGroup()
call X_7()
endfunction
function YR7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function YS7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and((i1==1747993430)or(i1==1747993432)or(i1==1747993431)))
endfunction
function YT7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1970169187)or(i1==1966092338)or(i1==1701081721)or(i1==1697656919)))
endfunction
function YU7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function KB takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
set EZ7="KB"
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1970496880)or(i1==1970564964)or(i1==1700884333)or(i1==1700884325)))
endfunction
function Kc takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and(V17(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<150.))
endfunction
function YV7 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(V17(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<250.))
endfunction
function FindEnemyCreepTrig takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(V17(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<250.))
endfunction
function YW7 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(V17(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<160.))
endfunction
function YX7 takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(V17(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>200.))
endfunction
function YY7 takes nothing returns boolean
return((not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(V17(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>200.))
endfunction
function KC takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(V17(GetFilterUnit())))
endfunction
function Kd takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and(V17(GetFilterUnit())))
endfunction
function KD takes nothing returns boolean
if((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))or GetUnitTypeId(GetEnumUnit())==1433105516)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and(V17(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0])or(GetOwningPlayer(GetFilterUnit())==Player(12))))then
if((GetUnitTypeId(GetEnumUnit())==1433105516)or(not IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)))then
return((GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<150.)or(GetUnitLifePercent(GetFilterUnit())<35.))
elseif((GetUnitTypeId(GetEnumUnit())==1433168227)or(GetUnitTypeId(GetEnumUnit())==1160785972))then
return(GetUnitLifePercent(GetFilterUnit())>70.)
endif
endif
return false
endfunction
function YZ7 takes nothing returns boolean
if((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>30.)and(V17(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0])or(GetOwningPlayer(GetFilterUnit())==Player(12))))then
return(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<EJ7)
endif
return false
endfunction
function YA7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())!=1211117642))
endfunction
function YB7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())>40.)and(GetUnitTypeId(GetFilterUnit())!=1211117642))
endfunction
function YC7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MELEE_ATTACKER)==true)and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetUnitLifePercent(GetFilterUnit())>65.)and(not IsUnitIllusion(GetFilterUnit())))
endfunction
function Y37 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_RANGED_ATTACKER)==true)and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetUnitLifePercent(GetFilterUnit())>65.)and(not IsUnitIllusion(GetFilterUnit())))
endfunction
function Kf takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(RY7(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit())!=1211117642))
endfunction
function Y67 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<50.))
endfunction
function YL7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<30.)and(RY7(GetFilterUnit())))
endfunction
function IsUnitHeroAllyUnder70HPEnum takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<70.))
endfunction
function Y17 takes nothing returns boolean
return QG7(GetUnitTypeId(GetFilterUnit()),G)
endfunction
function Y07 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<99.)and(GetUnitTypeId(GetFilterUnit())!=1211117642))
endfunction
function Y57 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function KG takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
set EZ7="KG"
if(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1865429304)or(i1==1865429042)or(i1==1865429058)or(i1==1865429314))then
if(GZ[272+GetPlayerId(GetOwningPlayer(GetFilterUnit()))])then
return(GetUnitUserData(GetFilterUnit())==1)
else
return(GetUnitUserData(GetFilterUnit())==0)
endif
endif
return false
endfunction
function Y27 takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(bj_lastLoadedUnit))and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())==1869901684))
endfunction
function aiIsTechiesMines takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1865429304)or(i1==1865429042)or(i1==1865429058)or(i1==1865429314)or(i1==1869901684)or(i1==1311780943)or(i1==1311780944)or(i1==1311780945)or(i1==1311780942)))
endfunction
function Y_7 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1868921189 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))
endfunction
function Z47 takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetFilterUnit()!=bj_lastLoadedUnit)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetWidgetLife(GetFilterUnit())>.405)and((not EN7)or(GetUnitLifePercent(GetFilterUnit())>50)))then
set bj_forLoopAIndexEnd=T[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]-V[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]
if(hy==null)or(bj_forLoopAIndex<bj_forLoopAIndexEnd)then
set hy=GetFilterUnit()
set bj_forLoopAIndex=bj_forLoopAIndexEnd
endif
endif
return false
endfunction
function Z77 takes real K1,unit it,boolean Z87 returns unit
local boolexpr Ig=Condition(function Z47)
set hy=null
set bj_lastLoadedUnit=it
set bj_forLoopAIndex=0
set EN7=Z87
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(it),GetUnitY(it),K1,Ig)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function Kh takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())==1697657392))
endfunction
function KH takes nothing returns boolean
return((GetFilterUnit()!=GetAttacker())and(V17(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitInRange(GetAttacker(),GetFilterUnit(),800.)))
endfunction
function Ki takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(V17(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetAttacker()))))
endfunction
function KI takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetAttacker()))))
endfunction
function Kj takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetFilterUnit()!=GetAttacker())and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(V17(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function KJ takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function Kk takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetFilterUnit()!=GetAttacker())and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function KK takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((R17(GetFilterUnit()))or((GetUnitLifePercent(GetEnumUnit())-GetUnitLifePercent(GetFilterUnit()))>20.)))
endfunction
function Kl takes nothing returns boolean
return((IsHeroUnitId(GetUnitTypeId(GetFilterUnit())))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((GetUnitLifePercent(GetFilterUnit())<50.)or((GetUnitLifePercent(GetEnumUnit())-GetUnitLifePercent(GetFilterUnit()))>20.)))
endfunction
function KL takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())==1211117642))
endfunction
function Km takes nothing returns boolean
return(((GetUnitTypeId(GetFilterUnit())==1865429304)or(GetUnitTypeId(GetFilterUnit())==1865429042)or(GetUnitTypeId(GetFilterUnit())==1865429058))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function KM takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((GetUnitAbilityLevel(GetFilterUnit(),1113815395)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1113815346)>0)or(GetUnitCurrentOrder(GetFilterUnit())==851973)))
endfunction
function Kn takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,GetFilterUnit(),false,false)==0))
endfunction
function KN takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(kP(GetUnitTypeId(GetFilterUnit()))))
endfunction
function Ko takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(V17(GetFilterUnit())))
endfunction
function KO takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(SG7(GetFilterUnit(),ZU[WC]))and(Z84[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]!=ZD4))
endfunction
function KP_OLD takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(Z84[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]!=ZD4))
endfunction
function Z97 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function Kq takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(GetFilterUnit()!=GetTriggerUnit()))
endfunction
function KQ takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetSpellTargetUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(not R17(GetFilterUnit())))
endfunction
function Kr takes nothing returns boolean
if(WE7())then
return GetUnitAbilityLevel(GetFilterUnit(),1112560453)>0
endif
return false
endfunction
function KR takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1865429043)
endfunction
function C6 takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(IsUnitInForce(GetTriggerUnit(),QX4)))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),Z7[0])))
endfunction
function D6 takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),A7[0])))
endfunction
function ZD7 takes nothing returns boolean
return(((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),Z7[0])))
endfunction
function ZE7 takes nothing returns boolean
return(((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),A7[0])))
endfunction
function ZF7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),Z7[0])))
endfunction
function Kt2 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),Z7[0]))and(eY[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]==3))
endfunction
function ZG7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),A7[0])))
endfunction
function KT2 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),A7[0]))and(eY[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]==3))
endfunction
function ZH7 takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit())))
endfunction
function ZI7 takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit())))
endfunction
function Kv takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(V17(GetFilterUnit()))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))
endfunction
function KV takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(V17(GetFilterUnit()))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_RANGED_ATTACKER)))
endfunction
function Kw takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(V17(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_RANGED_ATTACKER))and(not IsUnitInRange(GetEnumUnit(),GetFilterUnit(),200.)))
endfunction
function KW takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or((not kD(GetFilterUnit()))and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.))))and(GetUnitLifePercent(GetFilterUnit())>40.))
endfunction
function ZJ7 takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))then
if(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))then
return true
elseif(not kD(GetFilterUnit()))then
return((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.)))
else
return(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>2)
endif
endif
return false
endfunction
function KX takes nothing returns boolean
if((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(V17(GetFilterUnit())))then
if((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))then
return true
elseif(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))then
return((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or((not kD(GetFilterUnit()))and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.))))
endif
endif
return false
endfunction
function Ky takes nothing returns boolean
if((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(V17(GetFilterUnit())))then
if((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))then
return true
elseif(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))then
return((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or((not kD(GetFilterUnit()))and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.))))
endif
endif
return false
endfunction
function KY takes real IW,location b5 returns integer
local boolexpr Ig=Condition(function KW)
set EZ7="KY"
call GroupClear(H8)
call GroupEnumUnitsInRangeOfLoc(H8,b5,IW,Ig)
call DestroyBoolExpr(Ig)
set Ig=null
return kB(true,H8)
endfunction
function Kz takes real IW,location b5 returns integer
local boolexpr Ig=Condition(function k6)
set EZ7="Kz"
call GroupClear(H8)
call GroupEnumUnitsInRangeOfLoc(H8,b5,IW,Ig)
call DestroyBoolExpr(Ig)
set Ig=null
return kB(false,H8)
endfunction
function KZ takes nothing returns nothing
if((hy==null)or(GetUnitState(hy,UNIT_STATE_LIFE)>GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)))and(GetEnumUnit()!=DU7 or DU7==null)then
set hy=GetEnumUnit()
endif
endfunction
function ZK7 takes nothing returns nothing
if((hy==null)or(GetUnitState(hy,UNIT_STATE_LIFE)<GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)))and(GetEnumUnit()!=DU7 or DU7==null)then
set hy=GetEnumUnit()
endif
endfunction
function ZN7 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WE7)
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZO7 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WG7)
set EZ7="GetWeakestHeroInRangeOfUnit"
set hy=null
set bj_lastLoadedUnit=IB
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZP7 takes real K1,unit IB,real x,real y returns unit
local boolexpr Ig=Condition(function WG7)
set EZ7="GetWeakestHeroInRangeOfUnit"
set hy=null
set bj_lastLoadedUnit=IB
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,x,y,K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZQ7 takes real K1,unit IB,boolexpr Ig returns unit
set EZ7="GetWeakestHeroInRangeOfUnit"
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
return hy
endfunction
function ZR7 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WI7)
set EZ7="GetWeakestAllyInRangeOfUnitNotFountain"
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZS7 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WJ7)
set EZ7="GetWeakestAllyInRangeOfUnit"
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZT7 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WJ7)
set EZ7="GetWeakestAllyInRangeOfUnit"
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function ZK7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZU7 takes nothing returns nothing
if((hy==null)or(GetUnitState(hy,UNIT_STATE_MANA)<GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)))and(GetEnumUnit()!=DU7 or DU7==null)then
set hy=GetEnumUnit()
endif
endfunction
function ZV7 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WE7)
set EZ7="GetWeakestHeroInRangeOfUnit"
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function ZU7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZW7 takes nothing returns nothing
if((hy==null)or(GetHeroLevel(hy)<GetHeroLevel(GetEnumUnit())))and(GetEnumUnit()!=DU7 or DU7==null)and(U97(GetHandleId(GetOwningPlayer(GetEnumUnit())),"AI|Class")<=2)then
set hy=GetEnumUnit()
endif
endfunction
function ZX7 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WE7)
set EZ7="GetWeakestHeroInRangeOfUnit"
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function ZW7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZY7 takes nothing returns nothing
if((hy==null)or(GetUnitState(hy,UNIT_STATE_LIFE)>GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)))and(Q17(GetEnumUnit(),bj_lastLoadedUnit)>800.)and(GetEnumUnit()!=DU7 or DU7==null)then
set hy=GetEnumUnit()
endif
endfunction
function ZZ7 takes unit IB returns unit
local boolexpr Ig=Condition(function WG7)
set EZ7="GetWeakestHeroInRangeOfUnit"
set hy=null
set bj_lastLoadedUnit=IB
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),1200.,Ig)
call ForGroup(iA,function ZY7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZA7 takes nothing returns nothing
if(GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)>IJ4)and((hy==null)or(GetUnitState(hy,UNIT_STATE_MANA)<GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)))and(not IsUnitType(GetEnumUnit(),UNIT_TYPE_MAGIC_IMMUNE))then
set hy=GetEnumUnit()
endif
endfunction
function ZB7 takes unit IB returns unit
local boolexpr Ig=Condition(function WN7)
set EZ7="GetWeakestHeroInRangeOfUnit"
set hy=null
set bj_lastLoadedUnit=IB
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),750.,Ig)
call ForGroup(iA,function ZA7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZC7 takes nothing returns nothing
local real Z37=RMinBJ(5.*GetHeroInt(GetEnumUnit(),true),GetUnitState(GetEnumUnit(),UNIT_STATE_MANA))
if EN7 or IsUnitType(GetEnumUnit(),UNIT_TYPE_MAGIC_IMMUNE)then
elseif(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<Z37*0.75)then
set EN7=true
set hy=GetEnumUnit()
elseif((hy==null)or(IJ4<Z37))then
set hy=GetEnumUnit()
set IJ4=Z37
endif
endfunction
function Z67 takes unit IB returns unit
local boolexpr Ig=Condition(function WG7)
set EZ7="GetWeakestHeroInRangeOfUnit"
set hy=null
set bj_lastLoadedUnit=IB
set EN7=false
set IJ4=0
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),600.,Ig)
call ForGroup(iA,function ZC7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function K2 takes real K1,location b5 returns unit
local boolexpr Ig=Condition(function WE7)
set EZ7="K2"
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRangeOfLoc(iA,b5,K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function K3 takes real K1,unit IB,boolexpr Ig returns unit
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
return hy
endfunction
function K4 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(((GetHeroLevel(GetEnumUnit())>5)and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),300.)))or(Q17(GetEnumUnit(),S57(GetEnumUnit()))>Q17(GetFilterUnit(),S57(GetEnumUnit())))))
endfunction
function ZL7 takes nothing returns nothing
set GU=true
endfunction
function Z17 takes nothing returns boolean
local integer d=GetDestructableTypeId(GetFilterDestructable())
set EZ7="Z17"
return d==1096053874 or d==1112831095 or d==1263826039 or d==1498703476 or d==1247044468 or d==1498706804 or d==1498702708 or d==1498707828 or d==1247049588 or d==1247049588 or d==1179939959 or d==1129608306 or d==1230271607 or d==1314157687 or d==1330934903 or d==1515484279 or d==1465152372 or d==1280601204 or d==1196716904 or d==1484024948 or d==1465152631 or d==1098151011 or d==1112831075 or d==1129608291 or d==1230271587 or d==1314157667 or d==1515484259
endfunction
function K5 takes nothing returns nothing
if((GetDestructableTypeId(GetEnumDestructable())==1465152372)or(GetDestructableTypeId(GetEnumDestructable())==1230271587)or(GetDestructableTypeId(GetEnumDestructable())==1230271607)or(GetDestructableTypeId(GetEnumDestructable())==1314157687)or(GetDestructableTypeId(GetEnumDestructable())==1096053874))then
set GU=true
endif
endfunction
function K6 takes unit u returns boolean
local boolexpr b
set EZ7="K6"
set GU=false
call MoveLocation(Ha,GetUnitX(u),GetUnitY(u))
set bj_enumDestructableCenter=Ha
set bj_enumDestructableRadius=375.
call SetRect(He,GetUnitX(u)-375.,GetUnitY(u)-375.,GetUnitX(u)+375.,GetUnitY(u)+375.)
set b=Filter(function Z17)
call EnumDestructablesInRect(He,b,function ZL7)
call DestroyBoolExpr(b)
return GU
endfunction
function Z07 takes nothing returns nothing
local real dx=GetLocationX(bj_enumDestructableCenter)-GetDestructableX(GetEnumDestructable())
local real dy=GetLocationY(bj_enumDestructableCenter)-GetDestructableY(GetEnumDestructable())
local real r=dx*dx+dy*dy
set EZ7="Z07"
if GetDestructableLife(GetEnumDestructable())>0.405 and r<bj_enumDestructableRadius then
set WW4=GetEnumDestructable()
set bj_enumDestructableRadius=r
endif
endfunction
function Z57 takes location l,real r returns boolean
local boolexpr b
set EZ7="AI_NearbyTreeFound"
set WW4=null
if bj_enumDestructableCenter==null then
set bj_enumDestructableCenter=Location(GetLocationX(l),GetLocationY(l))
else
call MoveLocation(bj_enumDestructableCenter,GetLocationX(l),GetLocationY(l))
endif
set bj_enumDestructableRadius=r*r
call SetRect(He,GetLocationX(l)-r,GetLocationY(l)-r,GetLocationX(l)+r,GetLocationY(l)+r)
set b=Filter(function Z17)
call EnumDestructablesInRect(He,b,function Z07)
call DestroyBoolExpr(b)
set b=null
return WW4!=null
endfunction
function Z27 takes nothing returns nothing
local real x=GetDestructableX(GetEnumDestructable())
local real y=GetDestructableY(GetEnumDestructable())
local real dx=x-GetLocationX(bj_enumDestructableCenter)
local real dy=y-GetLocationY(bj_enumDestructableCenter)
local real r=dx*dx+dy*dy
local real r2
if r<bj_enumDestructableRadius and GetDestructableLife(GetEnumDestructable())>0.405 then
set dx=x-WX4
set dy=y-WY4
set r=dx*WZ4+dy*WA4
set r2=dx*dx+dy*dy-r*r
if r<WB4 then
elseif r<WC4 and r2<W64*r*r then
set bj_enumDestructableRadius=0
elseif r2<W34*r*r then
set W34=r2/r/r
set WW4=GetEnumDestructable()
endif
endif
endfunction
function Z_7 takes unit u,real XH7 returns boolean
local real x=GetLocationX(GO7)
local real y=GetLocationY(GO7)
local real dx=x-GetUnitX(u)
local real dy=y-GetUnitY(u)
local real r=SquareRoot(dx*dx+dy*dy)
local boolexpr b
set WW4=null
if bj_enumDestructableCenter==null then
set bj_enumDestructableCenter=GetUnitLoc(u)
else
call MoveLocation(bj_enumDestructableCenter,GetUnitX(u),GetUnitY(u))
endif
set bj_enumDestructableRadius=XH7*XH7
set WB4=r*90./225.
set WC4=WB4+r
set WZ4=dx/r
set WA4=dy/r
set WX4=x-WC4*WZ4
set WY4=y-WC4*WA4
set W34=1/(WC4*WC4/((90.+225.)*315.)-1)
set W64=W34
call SetRect(He,GetUnitX(u)-XH7,GetUnitY(u)-XH7,GetUnitX(u)+XH7,GetUnitY(u)+XH7)
set b=Filter(function Z17)
call EnumDestructablesInRect(He,b,function Z27)
call DestroyBoolExpr(b)
set b=null
if WW4==null or bj_enumDestructableRadius==0 then
return false
endif
call MoveLocation(GO7,x+(GetDestructableX(WW4)-x)*225./315.,y+(GetDestructableY(WW4)-y)*225./315.)
return true
endfunction
function K7 takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and((GetUnitAbilityLevel(GetFilterUnit(),1097102451)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1097102385)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1093684533)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1098150517)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1093683785)>0)))
endfunction
function K8 takes nothing returns boolean
return((GetDestructableTypeId(GetFilterDestructable())==1096053874)or(GetDestructableTypeId(GetFilterDestructable())==1314157687))
endfunction
function K9 takes nothing returns nothing
if(GetDestructableMaxLife(GetEnumDestructable())==49.)then
set H0=GetEnumDestructable()
endif
endfunction
function la takes nothing returns nothing
if(GetDestructableMaxLife(GetEnumDestructable())==48.)then
set H0=GetEnumDestructable()
endif
endfunction
function lA takes unit it,boolean O6 returns boolean
call SetRect(He,GetUnitX(it)-600.,GetUnitY(it)-600.,GetUnitX(it)+600.,GetUnitY(it)+600.)
set H0=null
if(O6)then
call EnumDestructablesInRect(He,Condition(function K8),function K9)
else
call EnumDestructablesInRect(He,Condition(function K8),function la)
endif
return H0!=null
endfunction
function A47 takes nothing returns boolean
return true
endfunction
function l6 takes multiboard L6,integer c,integer r,string M6 returns nothing
local multiboarditem p6=null
set p6=MultiboardGetItem(L6,r-1,c-1)
call MultiboardSetItemValue(p6,M6)
call MultiboardReleaseItem(p6)
set p6=null
endfunction
function P6 takes multiboard L6,integer c,integer r,string q6 returns nothing
local multiboarditem p6=null
set p6=MultiboardGetItem(L6,r-1,c-1)
call MultiboardSetItemIcon(p6,q6)
call MultiboardReleaseItem(p6)
set p6=null
endfunction
function s6 takes multiboard L6,integer c,integer r,boolean t6,boolean T6 returns nothing
local multiboarditem p6=null
set p6=MultiboardGetItem(L6,r-1,c-1)
call MultiboardSetItemStyle(p6,t6,T6)
call MultiboardReleaseItem(p6)
set p6=null
endfunction
function U6 takes multiboard L6,integer c,integer r,real w6,real Y6,real Z6,real e7 returns nothing
local multiboarditem p6=null
set p6=MultiboardGetItem(L6,r-1,c-1)
call MultiboardSetItemValueColor(p6,PercentTo255(w6),PercentTo255(Y6),PercentTo255(Z6),PercentTo255(100.0-e7))
call MultiboardReleaseItem(p6)
set p6=null
endfunction
function x7 takes multiboard L6,integer c,integer r,real r7 returns nothing
local multiboarditem p6=null
set p6=MultiboardGetItem(L6,r-1,c-1)
call MultiboardSetItemWidth(p6,r7/ 100)
call MultiboardReleaseItem(p6)
set p6=null
endfunction
function A77 takes integer i returns nothing
if i>16000 then
set gl[i-16000]=null
elseif i>8000 then
set Fl[i-8000]=null
else
set fl[i]=null
endif
endfunction
function A87 takes integer i returns unit
if i>16000 then
return gl[i-16000]
elseif i>8000 then
return Fl[i-8000]
else
return fl[i]
endif
return fl[i]
endfunction
function A97 takes integer i returns destructable
if i>16000 then
return YY4[i-16000]
elseif i>8000 then
return YZ4[i-8000]
else
return YA4[i]
endif
return YA4[i]
endfunction
function AD7 takes unit u returns integer
set Hl=Hl+1
if Hl>16000 then
set gl[Hl-16000]=u
elseif Hl>8000 then
set Fl[Hl-8000]=u
else
set fl[Hl]=u
endif
return Hl
endfunction
function AE7 takes integer i returns nothing
if i>16000 then
set YY4[i-16000]=null
elseif i>8000 then
set YZ4[i-8000]=null
else
set YA4[i]=null
endif
endfunction
function AF7 takes destructable d returns integer
set YB4=YB4+1
if YB4>16000 then
set YY4[YB4-16000]=d
elseif YB4>8000 then
set YZ4[YB4-8000]=d
else
set YA4[YB4]=d
endif
return YB4
endfunction
function AG7 takes player hd returns boolean
return((hd==Z7[0])or(hd==Z7[1])or(hd==Z7[2])or(hd==Z7[3])or(hd==Z7[4])or(hd==Z7[5]))
endfunction
function AH7 takes player hd returns boolean
return((hd==A7[0])or(hd==A7[1])or(hd==A7[2])or(hd==A7[3])or(hd==A7[4])or(hd==A7[5]))
endfunction
function AI7 takes player p returns boolean
return p==Z7[1]or p==Z7[2]or p==Z7[3]or p==Z7[4]or p==Z7[5]or p==A7[1]or p==A7[2]or p==A7[3]or p==A7[4]or p==A7[5]
endfunction
function AJ7 takes player j8 returns boolean
return((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(j8)==MAP_CONTROL_USER))
endfunction
function AK7 takes player j8 returns boolean
return((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(j8)==MAP_CONTROL_COMPUTER))
endfunction
function AM7 takes player j8 returns boolean
return((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and((GetPlayerController(j8)==MAP_CONTROL_USER)or(GetPlayerController(j8)==MAP_CONTROL_COMPUTER)))
endfunction
function AN7 takes player j8 returns boolean
return((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and((GetPlayerController(j8)==MAP_CONTROL_USER)or(QY4[GetPlayerId(j8)])))
endfunction
function AO7 takes integer P47,unit AP7 returns integer
local integer x=1
local integer QV7=0
set EZ7="findPlayerEnemyByUnitTypeIdReturnPID"
loop
exitwhen x>5
if AM7(Z7[x])then
if(GetUnitTypeId(M7[x])==P47 and IsUnitEnemy(M7[x],GetOwningPlayer(AP7)))then
return GetPlayerId(Z7[x])
endif
endif
if AM7(A7[x])then
if(GetUnitTypeId(M7[6+x])==P47 and IsUnitEnemy(M7[6+x],GetOwningPlayer(AP7)))then
return GetPlayerId(A7[x])
endif
endif
set x=x+1
endloop
return QV7
endfunction
function AQ7 takes unit AR7 returns integer
return U97(GetHandleId(AR7),"Invoker|Wex")
endfunction
function AS7 takes unit AR7 returns integer
return U97(GetHandleId(AR7),"Invoker|Quas")
endfunction
function AT7 takes unit AR7 returns integer
return U97(GetHandleId(AR7),"Invoker|Exort")
endfunction
function AU7 takes unit AR7,integer AV7 returns boolean
local integer AW7=GetHandleId(AR7)
local integer AX7=U97(AW7,"Invoker|Current1")
local integer AY7=U97(AW7,"Invoker|Current2")
set EZ7="AI_IsSkillInvoked"
if AV7==AX7 or AV7==AY7 then
return true
endif
return false
endfunction
function AZ7 takes unit AR7,integer AA7,integer AB7,integer AC7,boolean A37 returns boolean
local boolean J4=false
local integer O5=GetPlayerId(GetOwningPlayer(AR7))
if(A37)then
set J4=(Bz>TC4[O5])and IssueImmediateOrderById(AR7,AA7)and IssueImmediateOrderById(AR7,AB7)and IssueImmediateOrderById(AR7,AC7)
else
set J4=IssueImmediateOrderById(AR7,AA7)and IssueImmediateOrderById(AR7,AB7)and IssueImmediateOrderById(AR7,AC7)
endif
if(A37 and J4)then
set J4=IssueImmediateOrderById(AR7,852588)
endif
return J4
endfunction
function A67 takes unit AR7,integer AA7,integer AB7,integer AC7,integer AV7 returns boolean
if(AU7(AR7,AV7))then
return true
elseif GetUnitTypeId(AR7)==1160786520 and eY[416+GetPlayerId(GetOwningPlayer(AR7))]==AV7 then
return true
else
return AZ7(AR7,AA7,AB7,AC7,true)
endif
endfunction
function AL7 takes unit it returns unit
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local real A17=99999.
local unit A07
local unit m5=null
local integer j
set EZ7="tPv"
call GroupClear(H8)
set bj_wantDestroyGroup=false
call GroupAddGroup(ii,H8)
loop
set A07=FirstOfGroup(H8)
exitwhen(A07==null)
if((m5==null)or(Q17(it,A07)<A17))then
set j=Q57(GetUnitUserData(A07))
if((j!=0 or(not PG4))and(j!=1 or(not PH4))and(j!=2 or(not PF4)))then
set m5=A07
set A17=Q17(it,A07)
endif
endif
call GroupRemoveUnit(H8,A07)
endloop
set hr=m5
set m5=null
return hr
endfunction
function A57 takes integer O5,integer UP,integer A27,integer A_7 returns nothing
set h7[O5]=h7[UP]
set hj[O5]=A27
set hj[256+O5]=A_7
set hj[512+UP]=O5
set hj[512+O5]=UP
endfunction
function B47 takes unit it,integer UP returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
set EZ7=EZ7+"(tDv)"
if(UP==0)then
return
endif
set h8[O5]=h7[UP+1]
set h8[80+O5]=h7[UP]
set h9[O5]=h7[UP-1]
set h9[16+O5]=h7[hj[UP]]
set h8[16+O5]=h7[hj[256+UP]]
if(iU(it)and(h4[O5]==null)and(AK7(Player(O5))))then
if(h4[O5]!=null and R37(h4[O5])and Q17(it,h4[O5])<1200)then
elseif(eY[O5]==1)then
if((G0[O5])or(G0[32+O5])or(G0[48+O5])or(not G0[128+O5])or(G0[64+O5])or((R17(it))and(not Id(O5)))or(GetUnitCurrentOrder(it)==851986))then
call SY7(it,851986,h9[O5])
else
call SY7(it,851983,h8[O5])
endif
elseif((eY[O5]==3)or(eY[O5]==4))then
if(GetUnitCurrentOrder(it)==851986)then
call SY7(it,851986,h9[O5])
endif
endif
endif
if R17(it)or h4[O5]!=null then
set hq[864+O5]=0
else
set hq[864+O5]=GetRandomReal(-EV7,EV7)
endif
endfunction
function B77 takes unit it,unit RL7 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local unit m5=AL7(RL7)
set EZ7="aiRegisterHeroToLane_tQv"
if(m5!=null)then
set UP=GetUnitUserData(m5)
if(IsUnitAlly(it,Z7[0]))then
call B47(it,UP)
else
call B47(it,hj[512+UP])
endif
endif
set m5=null
endfunction
function B87 takes unit it returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local unit m5=AL7(it)
set EZ7="aiRegisterHeroToLane_tQv"
if(m5!=null)then
set UP=GetUnitUserData(m5)
if(IsUnitAlly(it,Z7[0]))then
call B47(it,UP)
else
call B47(it,hj[512+UP])
endif
endif
set h4[96+O5]=null
set m5=null
endfunction
function M8 takes player j8 returns boolean
if(GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING or GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_LEFT)then
if(GetPlayerController(j8)==MAP_CONTROL_USER or GetPlayerController(j8)==MAP_CONTROL_COMPUTER)then
return true
endif
endif
return false
endfunction
function p8 takes nothing returns nothing
if(AM7(GetEnumPlayer())==true)then
set bj_forceCountPlayers=bj_forceCountPlayers+1
endif
endfunction
function P8 takes force f returns integer
set bj_forceCountPlayers=0
call ForForce(f,function p8)
return bj_forceCountPlayers
endfunction
function hh takes nothing returns nothing
if GetPlayerSlotState(GetEnumPlayer())==PLAYER_SLOT_STATE_PLAYING then
if GetEnumPlayer()!=Player(13)and GetEnumPlayer()!=Player(14)then
set bj_forceCountPlayers=bj_forceCountPlayers+1
endif
endif
endfunction
function q8 takes force f returns integer
set bj_forceCountPlayers=0
call ForForce(f,function hh)
return bj_forceCountPlayers
endfunction
function hi takes integer hI,player j8 returns nothing
if H84 then
call SetPlayerTechMaxAllowed(j8,hI,0)
set J[GetUnitPointValueByType(hI)]=true
endif
endfunction
function B97 takes integer hI returns nothing
call hi(hI,Z7[1])
call hi(hI,Z7[2])
call hi(hI,Z7[3])
call hi(hI,Z7[4])
call hi(hI,Z7[5])
call hi(hI,A7[1])
call hi(hI,A7[2])
call hi(hI,A7[3])
call hi(hI,A7[4])
call hi(hI,A7[5])
endfunction
function S8 takes integer hI returns nothing
if H84 then
call SetPlayerTechMaxAllowed(Z7[1],hI,0)
call SetPlayerTechMaxAllowed(Z7[2],hI,0)
call SetPlayerTechMaxAllowed(Z7[3],hI,0)
call SetPlayerTechMaxAllowed(Z7[4],hI,0)
call SetPlayerTechMaxAllowed(Z7[5],hI,0)
call SetPlayerTechMaxAllowed(A7[1],hI,0)
call SetPlayerTechMaxAllowed(A7[2],hI,0)
call SetPlayerTechMaxAllowed(A7[3],hI,0)
call SetPlayerTechMaxAllowed(A7[4],hI,0)
call SetPlayerTechMaxAllowed(A7[5],hI,0)
endif
endfunction
function BD7 takes player j8 returns nothing
local integer T8=KL4
local integer U8=K14
set EZ7="TechAllForPlayer"
if H84 then
loop
exitwhen T8>U8
call SetPlayerTechMaxAllowed(j8,K34[T8],0)
set T8=T8+1
endloop
set T8=K04
set U8=K54
loop
exitwhen T8>U8
call SetPlayerTechMaxAllowed(j8,K34[T8],0)
set T8=T8+1
endloop
endif
endfunction
function BE7 takes nothing returns nothing
call BD7(Z7[1])
call BD7(Z7[2])
call BD7(Z7[3])
call BD7(Z7[4])
call BD7(Z7[5])
call BD7(A7[1])
call BD7(A7[2])
call BD7(A7[3])
call BD7(A7[4])
call BD7(A7[5])
endfunction
function BF7 takes player p returns nothing
local integer i
set EZ7="vvv"
if H84 then
set i=KL4
loop
exitwhen i>K54
if J[i]==false then
call SetPlayerTechMaxAllowed(p,K34[i],1)
endif
set i=i+1
endloop
if AG7(p)then
set i=KL4
loop
exitwhen i>K14
call SetPlayerTechMaxAllowed(p,K34[i],0)
set i=i+1
endloop
else
set i=K04
loop
exitwhen i>K54
call SetPlayerTechMaxAllowed(p,K34[i],0)
set i=i+1
endloop
endif
endif
endfunction
function BG7 takes player p returns nothing
local integer i
set EZ7="DisableManualAIPickHeroes"
if H84 then
set i=KL4
loop
exitwhen i>K54
if J[i]==false then
call SetPlayerTechMaxAllowed(p,K34[i],1)
endif
set i=i+1
endloop
if AG7(p)then
set i=K04
loop
exitwhen i>K54
call SetPlayerTechMaxAllowed(p,K34[i],0)
set i=i+1
endloop
else
set i=KL4
loop
exitwhen i>K14
call SetPlayerTechMaxAllowed(p,K34[i],0)
set i=i+1
endloop
endif
endif
endfunction
function BH7 takes nothing returns nothing
local integer i
set EZ7="BH7"
if H84 then
set i=K04
loop
exitwhen i>K54
call SetPlayerTechMaxAllowed(Z7[1],K34[i],0)
call SetPlayerTechMaxAllowed(Z7[2],K34[i],0)
call SetPlayerTechMaxAllowed(Z7[3],K34[i],0)
call SetPlayerTechMaxAllowed(Z7[4],K34[i],0)
call SetPlayerTechMaxAllowed(Z7[5],K34[i],0)
set i=i+1
endloop
set i=KL4
loop
exitwhen i>K14
call SetPlayerTechMaxAllowed(A7[1],K34[i],0)
call SetPlayerTechMaxAllowed(A7[2],K34[i],0)
call SetPlayerTechMaxAllowed(A7[3],K34[i],0)
call SetPlayerTechMaxAllowed(A7[4],K34[i],0)
call SetPlayerTechMaxAllowed(A7[5],K34[i],0)
set i=i+1
endloop
endif
endfunction
function BI7 takes nothing returns nothing
local integer T8
local integer U8
local integer BJ7=0
set EZ7="BI7"
set Ge=KL4
set T8=KL4
set U8=K14
loop
exitwhen T8>U8
set BJ7=BJ7+1
set je[BJ7]=T8
set T8=T8+1
endloop
set T8=K04
set U8=K54
loop
exitwhen T8>U8
set BJ7=BJ7+1
set je[BJ7]=T8
set T8=T8+1
endloop
set he=BJ7
endfunction
function BK7 takes nothing returns integer
return je[GetRandomInt(Ge,he)]
endfunction
function BM7 takes nothing returns integer
local integer BN7=GetRandomInt(Ge,he)
local integer hs=je[BN7]
set EZ7="BM7"
set hs=je[BN7]
if(Ge==he)then
set je[BN7]=0
return hs
endif
if(BN7==he)then
set he=he-1
return hs
endif
set je[BN7]=je[he]
set he=he-1
return hs
endfunction
function BO7 takes unit P67 returns boolean
return GetUnitAbilityLevel(P67,1110454612)>0 or GetUnitAbilityLevel(P67,1112437609)>0 or GetUnitAbilityLevel(P67,1110454616)>0 or GetUnitAbilityLevel(P67,1112433775)>0 or GetUnitAbilityLevel(P67,1110454861)>0 or GetUnitAbilityLevel(P67,1114137953)>0 or GetUnitAbilityLevel(P67,1110456150)>0 or GetUnitAbilityLevel(P67,1110458969)>0 or GetUnitAbilityLevel(P67,1110456399)>0 or GetUnitAbilityLevel(P67,1110456149)>0 or GetUnitAbilityLevel(P67,1110459468)>0 or GetUnitAbilityLevel(P67,1110456406)>0 or GetUnitAbilityLevel(P67,1110455089)>0 or GetUnitAbilityLevel(P67,1110459988)>0 or GetUnitAbilityLevel(P67,1110459975)>0
endfunction
function BP7 takes string hT returns integer
if hT=="a"then
return 10
elseif hT=="b"then
return 11
elseif hT=="c"then
return 12
elseif hT=="d"then
return 13
elseif hT=="e"then
return 14
elseif hT=="f"then
return 15
else
return S2I(hT)
endif
endfunction
function BQ7 takes string hU returns integer
return BP7(SubString(hU,0,1))*16+BP7(SubString(hU,1,2))
endfunction
function BR7 takes integer hX returns boolean
local integer i=1
set EZ7="IsRealSpellWithItems"
loop
exitwhen i>C8
if hX==B8[i]then
return false
endif
set i=i+1
endloop
return true
endfunction
function BS7 takes unit BT7 returns integer
local integer BU7=GetUnitTypeId(BT7)
if BU7==1697656914 or BU7==1966092365 then
return 1
elseif BU7==1697657137 or BU7==1966092356 then
return 2
elseif BU7==1697656915 or BU7==1966092366 then
return 3
elseif BU7==1697657145 or BU7==1966092372 then
return 4
endif
return 0
endfunction
function BV7 takes player hV,integer hY returns nothing
local texttag t
set EZ7="ShareTowerGold_GiveGold"
if hY>0 then
set t=CreateTextTag()
call SetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD)+hY)
call SetTextTagText(t,"+"+I2S(hY),.025)
call SetTextTagPosUnit(t,M7[GetPlayerId(hV)],0)
call SetTextTagColor(t,255,220,0,255)
call SetTextTagVelocity(t,0,.03)
if GetLocalPlayer()==hV then
call SetTextTagVisibility(t,true)
else
call SetTextTagVisibility(t,false)
endif
call SetTextTagFadepoint(t,2)
call SetTextTagLifespan(t,3)
call SetTextTagPermanent(t,false)
endif
endfunction
function lW takes player hV,integer BW7 returns nothing
local integer x=1
set EZ7="lW"
if IsPlayerAlly(hV,Z7[0])then
loop
exitwhen x>5
if Z7[x]!=hV then
call BV7(Z7[x],BW7)
endif
set x=x+1
endloop
endif
set x=1
if IsPlayerAlly(hV,A7[0])then
loop
exitwhen x>5
if A7[x]!=hV then
call BV7(A7[x],BW7)
endif
set x=x+1
endloop
endif
endfunction
function BX7 takes unit hn,integer BY7 returns nothing
local integer BW7
local player p=GetOwningPlayer(hn)
local integer BZ7=0
local integer BA7
set EZ7="vRv"
set BW7=160+40*BY7
if AG7(GetOwningPlayer(hn))then
set BA7=P8(X7)
else
set BA7=P8(Y7)
endif
if p==Z7[0]or p==A7[0]then
set BZ7=R2I(((400+50*BY7)+GetRandomInt(2,20))*0.70)
endif
if IsUnitAlly(GetDyingUnit(),p)then
if IsUnitAlly(hn,Z7[0])then
set p=A7[0]
else
set p=Z7[0]
endif
set BW7=BW7/ 2+BZ7/ BA7
else
set BW7=BW7+BZ7/ BA7
endif
if p==Z7[0]then
call BV7(Z7[1],BW7)
call BV7(Z7[2],BW7)
call BV7(Z7[3],BW7)
call BV7(Z7[4],BW7)
call BV7(Z7[5],BW7)
elseif p==A7[0]then
call BV7(A7[1],BW7)
call BV7(A7[2],BW7)
call BV7(A7[3],BW7)
call BV7(A7[4],BW7)
call BV7(A7[5],BW7)
else
call lW(GetOwningPlayer(hn),BW7)
endif
endfunction
function BB7 takes integer z8 returns boolean
local integer i=1
set EZ7="vbv"
loop
exitwhen i>M94
if M84[i]==z8 then
return true
endif
set i=i+1
endloop
return false
endfunction
function BC7 takes integer z8 returns boolean
local integer i=1
set EZ7="vBv"
loop
exitwhen i>K_4
if K24[i]==z8 then
return true
endif
set i=i+1
endloop
return false
endfunction
function B37 takes integer z8 returns boolean
local integer i=1
set EZ7="vcv"
loop
exitwhen i>M74
if M44[i]==z8 then
return true
endif
set i=i+1
endloop
return false
endfunction
function B67 takes player j8 returns nothing
local integer BL7
local integer B17
local location B07
local integer BN7
local boolean GotHero=false
set EZ7="vCv"
set W4[GetPlayerId(j8)]=true
if AG7(j8)==true then
set BL7=KL4
set B17=K14
set B07=GetRectCenter(ED)
else
set BL7=K04
set B17=K54
set B07=GetRectCenter(L9)
endif
if P4 then
if(GetRandomInt(1,2)==1)then
set BL7=KL4
set B17=K14
else
set BL7=K04
set B17=K54
endif
endif
loop
set BN7=GetRandomInt(BL7,B17)
exitwhen J[BN7]==false and BB7(K34[BN7])and K34[BN7]!=1211117643
endloop
if X8==false then
call S8(K34[BN7])
set J[BN7]=true
endif
call CreateUnitAtLoc(j8,K34[BN7],B07,0)
call RemoveLocation(B07)
set B07=null
endfunction
function B57 takes player j8 returns nothing
local integer BL7
local integer B17
local location B07
local integer BN7
local boolean GotHero=false
set EZ7="vFv"
set W4[GetPlayerId(j8)]=true
if AG7(j8)==true then
set BL7=KL4
set B17=K14
set B07=GetRectCenter(ED)
else
set BL7=K04
set B17=K54
set B07=GetRectCenter(L9)
endif
if P4 then
if(GetRandomInt(1,2)==1)then
set BL7=KL4
set B17=K14
else
set BL7=K04
set B17=K54
endif
endif
loop
set BN7=GetRandomInt(BL7,B17)
exitwhen J[BN7]==false and B37(K34[BN7])
endloop
if X8==false then
call S8(K34[BN7])
set J[BN7]=true
endif
call CreateUnitAtLoc(j8,K34[BN7],B07,0)
call RemoveLocation(B07)
set B07=null
endfunction
function B27 takes player j8 returns nothing
local integer BL7
local integer B17
local location B07
local integer BN7
local boolean GotHero=false
set EZ7="vgv"
set W4[GetPlayerId(j8)]=true
if AG7(j8)==true then
set BL7=KL4
set B17=K14
set B07=GetRectCenter(ED)
else
set BL7=K04
set B17=K54
set B07=GetRectCenter(L9)
endif
if P4 then
if(GetRandomInt(1,2)==1)then
set BL7=KL4
set B17=K14
else
set BL7=K04
set B17=K54
endif
endif
loop
set BN7=GetRandomInt(BL7,B17)
exitwhen J[BN7]==false and BC7(K34[BN7])
endloop
if X8==false then
call S8(K34[BN7])
set J[BN7]=true
endif
call CreateUnitAtLoc(j8,K34[BN7],B07,0)
call RemoveLocation(B07)
set B07=null
endfunction
function B_7 takes player j8 returns nothing
local integer BL7
local integer B17
local location B07
local integer BN7
local boolean GotHero=false
set EZ7="vGv"
set W4[GetPlayerId(j8)]=true
if AG7(j8)==true then
set BL7=KL4
set B17=K14
set B07=GetRectCenter(ED)
else
set BL7=K04
set B17=K54
set B07=GetRectCenter(L9)
endif
if P4 then
if(GetRandomInt(1,2)==1)then
set BL7=KL4
set B17=K14
else
set BL7=K04
set B17=K54
endif
endif
loop
set BN7=GetRandomInt(BL7,B17)
exitwhen J[BN7]==false
endloop
if X8==false then
call S8(K34[BN7])
set J[BN7]=true
endif
call CreateUnitAtLoc(j8,K34[BN7],B07,0)
call RemoveLocation(B07)
set B07=null
endfunction
function ly takes boolean h5,boolean h6 returns integer
local integer h1
local integer h2
set EZ7="ly"
if h5 and h6 then
if(GetRandomInt(1,2)==1)then
set h1=KL4
set h2=K14
else
set h1=K04
set h2=K54
endif
elseif h5 then
set h1=KL4
set h2=K14
else
set h1=K04
set h2=K54
endif
return GetRandomInt(h1,h2)
endfunction
function C47 takes destructable d returns boolean
return GetDestructableTypeId(d)==1314157667 or GetDestructableTypeId(d)==1314157687 or GetDestructableTypeId(d)==1096053874 or GetDestructableTypeId(d)==1110454322 or GetDestructableTypeId(d)==1110454323 or GetDestructableTypeId(d)==1110454325
endfunction
function C77 takes unit u returns boolean
return GetUnitAbilityLevel(u,1113815395)>0 or GetUnitAbilityLevel(u,1113815346)>0
endfunction
function C87 takes integer id returns boolean
return id==1966092596 or id==1966092597 or id==1966092598 or id==1966092612 or id==1966092613 or id==1966092614 or id==1966092626 or id==1966092627 or id==1966092628
endfunction
function C97 takes unit u returns boolean
return GetUnitAbilityLevel(u,1112500344)>0 or GetUnitAbilityLevel(u,1110454344)>0
endfunction
function CD7 takes integer BU7 returns boolean
if BU7==1852862003 or BU7==1852862006 or BU7==1848652080 or BU7==1848657754 then
return true
endif
if BU7==1852862002 or BU7==1852862006 or BU7==1848652082 or BU7==1848657969 then
return true
endif
if BU7==1852862001 or BU7==1852862004 or BU7==1848652081 or BU7==1848657968 then
return true
endif
return false
endfunction
function CE7 takes player p returns string
return KZ4[GetPlayerId(p)]
endfunction
function CF7 takes integer i returns string
return GetObjectName(i)
endfunction
function CG7 takes force ir,real Hk,string iR returns nothing
if(IsPlayerInForce(GetLocalPlayer(),ir))then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,E9,Hk,iR)
endif
endfunction
function vlv takes nothing returns group
return CreateGroup()
endfunction
function l7 takes integer i returns nothing
if i!=Dy then
set Dx[i]=Dx[Dy]
set DX[i]=DX[Dy]
endif
set Dx[Dy]=null
set DX[Dy]=0
set Dy=Dy-1
endfunction
function l8 takes nothing returns boolean
local real CH7=RF7()
local integer i
set EZ7="l8"
set i=1
loop
exitwhen i>Dy
if DX[i]<CH7 then
if Dx[i]==null or IsTriggerEnabled(Dx[i])then
call l5()
else
call DestroyTrigger(Dx[i])
endif
call l7(i)
else
set i=i+1
endif
endloop
return false
endfunction
function CI7 takes trigger t returns nothing
call T97(GetHandleId(t))
call DisableTrigger(t)
call DestroyTrigger(t)
endfunction
function FilterTreeSentinels takes nothing returns boolean
return((GetUnitTypeId(GetFilterUnit())==1747993172)or(GetUnitTypeId(GetFilterUnit())==1747993173))
endfunction
function CJ7 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CK7=GetHandleId(t)
local unit CM7=T37(CK7,"TreantUnit")
local unit CN7=T37(CK7,"SentinelUnit")
local unit PN7=null
local unit u=null
local group g=CreateGroup()
local integer O5=GetPlayerId(GetOwningPlayer(CM7))
set EZ7="CJ7"
if((GetTriggerEventId()==EVENT_UNIT_DEATH)and((GetUnitTypeId(CN7)==1747993172)or(GetUnitTypeId(CN7)==1747993173)))then
call FlushChildHashtable(L7,CK7)
call UQ7(t)
call DestroyTrigger(t)
elseif((GetUnitTypeId(CN7)==1747993172)and(Bz>TC4[64+O5]))then
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(CN7),500,Condition(function WA7))
if(not QT7(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen IsUnitEnemy(u,GetOwningPlayer(CM7))
endloop
set PN7=u
endif
if((GetUnitState(CM7,UNIT_STATE_LIFE)>5.)and(PN7!=null)and(AK7(GetOwningPlayer(CM7)))and(GetUnitTypeId(CN7)==1747993172)and(BO7(CM7)==false))then
call IssuePointOrderById(CM7,852185,GetUnitX(CN7),GetUnitY(CN7))
set TC4[64+O5]=Bz+10.
endif
else
endif
call DestroyGroup(g)
set t=null
set CM7=null
set CN7=null
set PN7=null
set u=null
set g=null
return false
endfunction
function CO7 takes unit CP7,unit CQ7 returns nothing
local unit CN7=CQ7
local unit CM7=CP7
local trigger t=null
local integer CR7=0
local boolexpr b=Condition(function WA7)
set EZ7="TreeForestSentinels"
if(AK7(GetOwningPlayer(CM7)))then
set t=CreateTrigger()
set CR7=GetHandleId(t)
call TJ7(CR7,"TreantUnit",CM7)
call TJ7(CR7,"SentinelUnit",CN7)
if(GetUnitTypeId(CN7)==1747993172)then
call TriggerRegisterUnitInRange(t,CN7,500,b)
endif
call TriggerRegisterUnitEvent(t,CN7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function CJ7))
endif
call DestroyBoolExpr(b)
set CN7=null
set CM7=null
set t=null
endfunction
function CS7 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CT7=GetHandleId(t)
local fogmodifier CU7=(LoadFogModifierHandle(L7,(CT7),(42)))
set EZ7="CS7"
call FogModifierStop(CU7)
call DestroyFogModifier(CU7)
call FlushChildHashtable(L7,(CT7))
call UQ7(t)
set t=null
return false
endfunction
function CX7 takes integer id returns boolean
return id==YA or id==QA or id==NA or id==WA or id==JA
endfunction
function CY7 takes unit u returns string
if u==null then
return(GetObjectName((1848654164)))
endif
if GetUnitPointValue(u)==500 then
return"Formless"
elseif GetUnitPointValue(u)==600 then
return"Bastion"
endif
return(GetObjectName((K64[GetUnitPointValue(u)])))
endfunction
function CZ7 takes unit P67 returns string
local integer i=GetUnitPointValue(P67)
set EZ7="aiGetPlayerName"
if H34 then
set i=GetPlayerId(GetOwningPlayer(P67))
if Player(i)==Z7[1]then
return"Blue"
elseif Player(i)==Z7[2]then
return"Teal"
elseif Player(i)==Z7[3]then
return"Purple"
elseif Player(i)==Z7[4]then
return"Yellow"
elseif Player(i)==Z7[5]then
return"Orange"
elseif Player(i)==A7[1]then
return"Pink"
elseif Player(i)==A7[2]then
return"Gray"
elseif Player(i)==A7[3]then
return"Light"
elseif Player(i)==A7[4]then
return"Dark"
elseif Player(i)==A7[5]then
return"Brown"
endif
return"Unknown"
endif
if(i==1)then
return"Shendelzare"
elseif(i==15)then
return"Cairne"
elseif(i==18)then
return"Magi"
elseif(i==21)then
return"Azwraith"
elseif(i==29)then
return"Wisp"
elseif(i==33)then
return"Davion"
elseif(i==65)then
return"Anub'arak"
elseif(i==86)then
return"Vol'Jin"
elseif(i==91)then
return"Azgalor"
elseif(i==93)then
return"Ish'kafel"
elseif(i==97)then
return"Kaldr"
elseif(i==101)then
return"Eredar"
endif
return CY7(P67)
endfunction
function CA7 takes integer i returns string
if i==0 then
return(GetObjectName((1848654164)))
endif
return(GetObjectName((K64[i])))
endfunction
function CB7 takes unit S4 returns integer
local integer z8
local integer i=0
set EZ7="UnitToIndex"
if S4==null then
return-2
endif
set z8=GetUnitTypeId(S4)
loop
exitwhen i>EV
if AU[i]==z8 then
return i
endif
set i=i+1
endloop
return-1
endfunction
function CC7 takes unit u returns string
if u==null then
return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
endif
return MH4[GetUnitPointValue(u)]
endfunction
function C37 takes unit u returns boolean
return GetUnitAbilityLevel(u,1093686070)>0 or GetUnitAbilityLevel(u,1093744441)>0 or GetUnitAbilityLevel(u,1094937961)>0 or GetUnitAbilityLevel(u,1093686101)>0 or GetUnitAbilityLevel(u,1110454580)>0 or GetUnitAbilityLevel(u,1093683251)>0 or UJ7(u,"BladeFury|Active")
endfunction
function C67 takes player p returns boolean
return V8 and(KX4==p or KY4==p)
endfunction
function CL7 takes unit C17 returns integer
local integer x
local integer id=GetUnitTypeId(C17)
set EZ7="GetHeroType"
set x=1
loop
exitwhen x>K_4
if id==K24[x]then
return K67
endif
set x=x+1
endloop
set x=1
loop
exitwhen x>M74
if id==M44[x]then
return KL7
endif
set x=x+1
endloop
set x=1
loop
exitwhen x>M94
if id==M84[x]then
return K17
endif
set x=x+1
endloop
if id==1164277357 or id==1160786518 or id==1160786519 or id==1160786517 or id==1311781442 or id==1311781175 or id==1211119684 or id==1211119683 or id==1211119668 or id==1211119682 or id==1311781171 or id==1311781172 or id==1311781173 or id==1160786511 or id==1311788365 then
return K67
endif
if id==1311781192 or id==1311781204 or id==1311781194 or id==1211117637 or id==1211117639 or id==1211117638 or id==1211119433 or id==1160786229 or id==1211122513 or id==1211122995 or id==1211122996 or id==1211122997 or id==1429221720 then
return KL7
endif
if id==1211119192 or id==1211119193 or id==1211119191 or id==1211122243 or id==1328558391 or id==1311788354 or id==1311788355 or id==1311788367 or id==1311788353 then
return K17
endif
return 0
endfunction
function C07 takes unit C17 returns integer
local integer Hm=CL7(C17)
if Hm==1 then
return GetHeroInt(C17,true)
endif
if Hm==2 then
return GetHeroAgi(C17,true)
endif
if Hm==3 then
return GetHeroStr(C17,true)
endif
return 0
endfunction
function C57 takes unit u returns boolean
return GetUnitState(u,UNIT_STATE_LIFE)<1 or IG4[GetPlayerId(GetOwningPlayer(u))]==true
endfunction
function C27 takes integer z8,integer r,integer g,integer b returns nothing
set CL=CL+1
set NL[CL]=r
set bL[CL]=g
set BL[CL]=b
set cL[CL]=z8
endfunction
function C_7 takes nothing returns nothing
call PauseUnit(GetEnumUnit(),true)
endfunction
function emv takes nothing returns nothing
call DisplayTimedTextToPlayer(GetEnumPlayer(),0,E9,DB,dB)
endfunction
function L47 takes nothing returns nothing
if eb[GetPlayerId(GetEnumPlayer())]then
call DisplayTimedTextToPlayer(GetEnumPlayer(),0,E9,mb,Lb)
endif
endfunction
function L77 takes force ir,real Hk,string iR returns nothing
set Lb=iR
set mb=Hk
call ForForce(ir,function L47)
endfunction
function L87 takes unit u returns boolean
return GetUnitAbilityLevel(u,1110458953)>0 or GetUnitAbilityLevel(u,1112437619)>0 or GetUnitAbilityLevel(u,1110459734)>0
endfunction
function L97 takes group g returns nothing
local integer i=GetHandleId(g)-TO4
if i<0 or i>120 then
set TQ4=true
call DestroyGroup(g)
else
call GroupClear(g)
set TM4[i]=false
set TP4=i
endif
endfunction
function LD7 takes nothing returns group
local integer i=TP4
loop
exitwhen i==TP4-1
if TM4[i]==false then
set TP4=i+1
if TP4==120 then
set TP4=0
endif
set TM4[i]=true
return TN4[i]
endif
set i=i+1
if i==120 then
set i=0
endif
endloop
call L77(L8,5.00,"|c00ff0303CRITICAL ERROR: FOUND NO AVAILABLE GROUPS|r")
call L77(L8,5.00,"|c00ff0303Send this replay to IceFrog@gmail.com|r")
return CreateGroup()
endfunction
function LE7 takes real LF7,real dx,real dy,real Vx,real Vy returns real
local real a
local real b
local real d
set a=LF7*LF7-Vx*Vx-Vy*Vy
set b=Vx*dx+Vy*dy
if a==0 then
if b>0 then
return 0.
endif
return(dx*dx+dy*dy)/2/b
endif
set d=b*b+a*(dx*dx+dy*dy)
if d<0 then
return 0.
endif
set d=SquareRoot(d)
if b<d then
return(b+d)/a
endif
return(b-d)/a
endfunction
function LG7 takes real x,real y returns boolean
if(x<GetRectMinX(bj_mapInitialPlayableArea)+75)then
return false
endif
if(x>GetRectMaxX(bj_mapInitialPlayableArea)-75)then
return false
endif
if(y<GetRectMinY(bj_mapInitialPlayableArea)+75)then
return false
endif
if(y>GetRectMaxY(bj_mapInitialPlayableArea)-75)then
return false
endif
return true
endfunction
function LH7 takes unit LI7,unit PU7,real X,real Y,real r,boolexpr OL7 returns boolean
local group g=LD7()
local real Hx=GetUnitX(LI7)
local real Hy=GetUnitY(LI7)
local player p=GetOwningPlayer(LI7)
local real dx=(X-Hx)*.5
local real dy=(Y-Hy)*.5
local real R=SquareRoot(dx*dx+dy*dy)
local unit u
local real d
local real LJ7=99999.
local real LK7=0.
local real QL7
call GroupEnumUnitsInRange(g,Hx+dx,Hy+dy,R,OL7)
set bj_lastReplacedUnit=null
set bj_lastLoadedUnit=null
set bj_forLoopAIndex=0
loop
set u=FirstOfGroup(g)
exitwhen u==null
call GroupRemoveUnit(g,u)
set d=((GetUnitX(u)-Hx)*dy-(GetUnitY(u)-Hy)*dx)/R
if u!=LI7 and u!=PU7 and IsUnitVisible(u,p)and d*d<=r*r then
set QL7=Q17(LI7,u)
if QL7<LJ7 then
set LJ7=QL7
set bj_lastReplacedUnit=u
endif
if QL7>LK7 then
set LK7=QL7
set bj_lastLoadedUnit=u
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endif
endloop
call L97(g)
set g=null
return bj_forLoopAIndex==0
endfunction
function LM7 takes unit LI7,unit PU7,real LF7,real LN7,real XB7 returns location
local real dt=TimerGetElapsed(W)
local real X
local real Y
local real dx=GetUnitX(PU7)
local real dy=GetUnitY(PU7)
call QA7(0.1)
set dt=TimerGetElapsed(W)-dt
set X=GetUnitX(PU7)
set Y=GetUnitY(PU7)
if X==dx and Y==dy then
call MoveLocation(GO7,X,Y)
return GO7
endif
set dx=(X-dx)/dt
set dy=(Y-dy)/dt
set dt=LE7(LF7,X+dx*LN7-GetUnitX(LI7),Y+dy*LN7-GetUnitY(LI7),dx,dy)
if dt==0 then
return null
endif
call MoveLocation(GO7,X+dx*(dt+LN7),Y+dy*(dt+LN7))
if LG7(GetLocationX(GO7),GetLocationY(GO7))then
return GO7
endif
return null
endfunction
function LO7 takes unit P67,unit RL7,real LP7,real XB7 returns location
local real VB7=GetUnitX(RL7)
local real VC7=GetUnitY(RL7)
local real LQ7=TimerGetElapsed(W)
local real LR7=0
local real LS7=0
call QA7(0.1)
set LQ7=1./(TimerGetElapsed(W)-LQ7)
set LR7=(GetUnitX(RL7)-VB7)*LQ7
set LS7=(GetUnitY(RL7)-VC7)*LQ7
if not(LR7==0 and LS7==0)then
set VB7=VB7+LR7*LP7
set VC7=VC7+LS7*LP7
endif
if Q07(GetUnitX(P67),GetUnitY(P67),VB7,VC7)<=XB7 then
call MoveLocation(GO7,VB7,VC7)
if LG7(GetLocationX(GO7),GetLocationY(GO7))then
return GO7
endif
endif
return null
endfunction
function LT7 takes location UY7,real LU7,real LV7 returns location
local real x=GetLocationX(UY7)+LU7*Cos(LV7*bj_DEGTORAD)
local real y=GetLocationY(UY7)+LU7*Sin(LV7*bj_DEGTORAD)
call MoveLocation(HA,x,y)
return HA
endfunction
function LW7 takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(bj_lastLoadedUnit))and(GetUnitTypeId(GetFilterUnit())==1212363833)and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>.405))
endfunction
function aiSiren_CheckRipTide_Enum takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetUnitTypeId(GetFilterUnit())==1212363833)and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>.405))
endfunction
function LX7 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false and GetUnitAbilityLevel(GetFilterUnit(),1098282348)==0)and SE7(450,GetFilterUnit(),Condition(function LW7))>=1
endfunction
function LY7 takes unit it,unit m5 returns boolean
set bj_lastLoadedUnit=it
set bj_lastLoadedUnit=S97(350,SX7(m5),Condition(function LW7))
return(bj_lastLoadedUnit!=null)
endfunction
function LZ7 takes nothing returns boolean
local integer LA7=0
local integer i=0
set EZ7="LZ7"
loop
exitwhen i==120
if TM4[i]==true then
set LA7=LA7+1
endif
set i=i+1
endloop
if LA7>100 or TQ4 then
call L77(L8,5.00,"|c00ff0303Please send me this replay ("+I2S(LA7)+")")
endif
return false
endfunction
function LB7 takes nothing returns nothing
local integer i=0
set EZ7="LB7"
set TP4=0
set TN4[i]=CreateGroup()
set TM4[i]=false
set i=i+1
set TO4=GetHandleId(TN4[0])
loop
exitwhen i==120
set TN4[i]=CreateGroup()
set TM4[i]=false
set i=i+1
endloop
endfunction
function LC7 takes nothing returns boolean
local group g=LD7()
set EZ7="LC7"
call GroupEnumUnitsInRange(g,0,0,16000,Condition(function A47))
call ForGroup(g,function C_7)
call L97(g)
set g=null
return false
endfunction
function L37 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="L37"
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function LC7))
call TriggerEvaluate(t)
set t=null
endfunction
function L67 takes unit LI7,integer LL7 returns nothing
call UnitAddAbility(LI7,LL7)
call UnitMakeAbilityPermanent(LI7,true,LL7)
endfunction
function L17 takes unit u returns boolean
return GetUnitTypeId(u)<1 or IsUnitType(u,UNIT_TYPE_DEAD)==true
endfunction
function L07 takes unit L57,unit L27 returns nothing
if Q17(L57,L27)>1200 or(L17(L57)and GetUnitTypeId(L57)==1211117643)then
call AddHeroXP(L57,R97(L27),true)
endif
endfunction
function L_7 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
set EZ7="L_7"
call T97(GetHandleId(T37(US7,"Unit")))
call ShowUnit(T37(US7,"Unit"),false)
call RemoveUnit(T37(US7,"Unit"))
call T97(US7)
call UQ7(t)
set t=null
return false
endfunction
function D48 takes unit u,real d returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="v9v"
call TriggerRegisterTimerEvent(t,d,false)
call TriggerAddCondition(t,Condition(function L_7))
call TJ7(US7,"Unit",u)
set t=null
endfunction
function D78 takes integer D88 returns nothing
local unit u=CreateUnit(Player(15),D88,0,0,0)
set EZ7="PreloadUnit"
call RemoveUnit(u)
set u=null
endfunction
function D98 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit u=T37(US7,"u")
local real DD8=UD7(US7,"duration")
local integer DE8=U97(US7,"fade")
set EZ7="D98"
if GetTriggerEvalCount(t)/ 10>R2I(DD8)then
call SetUnitVertexColor(u,255,100,255,255)
call T97(US7)
call UQ7(t)
elseif L17(u)==false then
call SetUnitVertexColor(u,255,100,255,DE8)
endif
set t=null
set u=null
return false
endfunction
function DF8 takes unit u,real DD8,integer DE8 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="eiv"
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function D98))
call TJ7(US7,"u",u)
call TG7(US7,"duration",DD8)
call TF7(US7,"fade",DE8)
set t=null
endfunction
function DG8 takes integer z8,real DH8,integer DI8 returns nothing
set Ml=Ml+1
set Jl[Ml]=DH8
set ll[Ml]=z8
set Ll[Ml]=DI8
endfunction
function DJ8 takes unit u returns real
local integer z8=GetUnitTypeId(u)
local integer i=1
set EZ7="GetUnitScale"
loop
exitwhen i>Ml
if ll[i]==z8 then
return Jl[i]
endif
set i=i+1
endloop
return 1.
endfunction
function DK8 takes integer z8,string DM8 returns nothing
set Ql=Ql+1
set Pl[Ql]=DM8
set ql[Ql]=z8
endfunction
function DN8 takes unit u returns string
local integer z8=GetUnitTypeId(u)
local integer i=1
set EZ7="eRv"
loop
exitwhen i>Ql
if ql[i]==z8 then
return Pl[i]
endif
set i=i+1
endloop
return"stand"
endfunction
function DO8 takes unit u returns nothing
if GetUnitTypeId(u)==1311781193 then
call SetUnitAnimationByIndex(u,6)
else
call SetUnitAnimation(u,DN8(u))
endif
endfunction
function DP8 takes player hV,string Ht returns nothing
local sound HT=CreateSound(Ht,false,false,false,10,10,"DefaultEAXON")
set EZ7="SoundForPlayer"
if(GetLocalPlayer()==hV)then
call StartSound(HT)
endif
call KillSoundWhenDone(HT)
endfunction
function DQ8 takes player HU,string Hv returns nothing
local sound HV=CreateSoundFromLabel("InterfaceError",false,false,false,10,10)
set EZ7="Error"
if(GetLocalPlayer()==HU)then
if(Hv!="")and(Hv!=null)then
call ClearTextMessages()
call DisplayTimedTextToPlayer(HU,.5,-1.,2.,"|cffffcc00"+Hv+"|r")
endif
call StartSound(HV)
endif
call KillSoundWhenDone(HV)
endfunction
function DR8 takes nothing returns boolean
if(GetTimeOfDay()>6.00 and GetTimeOfDay()<18.00)then
return true
else
return false
endif
endfunction
function DS8 takes string H4,boolean H5 returns nothing
if H5 then
call ExecuteFunc(H4)
endif
endfunction
function DT8 takes real x returns real
local real H7=GetRectMinX(bj_mapInitialPlayableArea)+50
set EZ7="SafeX"
if(x<H7)then
return H7
endif
set H7=GetRectMaxX(bj_mapInitialPlayableArea)-50
if(x>H7)then
return H7
endif
return x
endfunction
function DU8 takes real y returns real
local real H7=GetRectMinY(bj_mapInitialPlayableArea)+50
set EZ7="SafeY"
if(y<H7)then
return H7
endif
set H7=GetRectMaxY(bj_mapInitialPlayableArea)-50
if(y>H7)then
return H7
endif
return y
endfunction
function DV8 takes real x returns real
local real XJ7=GetRectMinX(bj_mapInitialPlayableArea)+75
set EZ7="SafeX2"
if(x<XJ7)then
return XJ7
endif
set XJ7=GetRectMaxX(bj_mapInitialPlayableArea)-75
if(x>XJ7)then
return XJ7
endif
return x
endfunction
function DW8 takes real y returns real
local real XJ7=GetRectMinY(bj_mapInitialPlayableArea)+75
set EZ7="SafeY2"
if(y<XJ7)then
return XJ7
endif
set XJ7=GetRectMaxY(bj_mapInitialPlayableArea)-75
if(y>XJ7)then
return XJ7
endif
return y
endfunction
function DX8 takes integer DY8 returns nothing
local unit u=CreateUnit(Player(15),1211117657,0,0,270)
set EZ7="PreloadAbility"
call UnitAddAbility(u,DY8)
call UnitRemoveAbility(u,DY8)
call RemoveUnit(u)
set u=null
endfunction
function DZ8 takes unit u,integer DY8 returns nothing
call UnitAddAbility(u,DY8)
call UnitRemoveAbility(u,DY8)
endfunction
function DA8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer ia=U97(US7,"abilcode")
set EZ7="DA8"
call DX8(ia)
call T97(US7)
call UQ7(t)
set t=null
return false
endfunction
function DB8 takes integer ia,real DC8 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="PreloadDotaAbilityDelayed"
call TF7(US7,"abilcode",ia)
call TriggerRegisterTimerEvent(t,DC8,false)
call TriggerAddCondition(t,Condition(function DA8))
set t=null
endfunction
function Tree_Killer takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function D38 takes unit C17 returns nothing
call TI7(GetHandleId(C17),"DamageRegisterAlready",false)
call T97(GetHandleId(C17))
call RemoveUnit(C17)
endfunction
function D68 takes unit hn,integer iB,integer ic returns nothing
if GetUnitAbilityLevel(hn,iB)==0 then
call UnitAddAbility(hn,iB)
endif
call SetUnitAbilityLevel(hn,iB,ic)
endfunction
function DL8 takes integer a,integer b returns integer
if(a<b)then
return a
else
return b
endif
endfunction
function D18 takes integer a,integer b returns integer
if(a<b)then
return b
else
return a
endif
endfunction
function D08 takes integer ih,integer a,integer b returns integer
return D18(DL8(ih,b),a)
endfunction
function D58 takes real a,real b returns real
if(a<b)then
return a
else
return b
endif
endfunction
function D28 takes real a,real b returns real
if(a<b)then
return b
else
return a
endif
endfunction
function iI takes nothing returns nothing
local integer US7=GetHandleId(GetExpiredTimer())
local unit hn=T37(US7,"Unit")
set EZ7="iI"
call SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+UD7(US7,"Damage"))
set hn=null
endfunction
function m6 takes unit hn,real D_8 returns nothing
local timer t=CreateTimer()
local integer US7=GetHandleId(t)
set EZ7="m6"
call TG7(US7,"Damage",D_8)
call TJ7(US7,"Unit",hn)
call TimerStart(t,0,false,function iI)
set t=null
endfunction
function E48 takes unit hn,real D_8 returns nothing
local real iK=GetUnitState(hn,UNIT_STATE_MAX_LIFE)
local real il=GetUnitState(hn,UNIT_STATE_LIFE)
set EZ7="PreventDamage"
if(GetUnitState(hn,UNIT_STATE_LIFE)>1)then
if D_8>(iK-il)then
if D_8>=il then
call SetUnitState(hn,UNIT_STATE_LIFE,iK)
call m6(hn,D_8-(iK-il))
else
call m6(hn,D_8)
endif
else
call SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+D_8)
endif
endif
endfunction
function m9 takes unit p5,unit m5,real in returns boolean
local real iN=GetUnitX(p5)
local real io=GetUnitY(p5)
local real hN=GetUnitX(m5)
local real ho=GetUnitY(m5)
set EZ7="m9"
return((iN-hN)*(iN-hN)+(io-ho)*(io-ho))<in*in
endfunction
function Ma takes unit p5,unit m5 returns real
local real iN=GetUnitX(p5)
local real io=GetUnitY(p5)
local real hN=GetUnitX(m5)
local real ho=GetUnitY(m5)
set EZ7="Ma"
if p5==null or m5==null then
return I2R(9999999999)
else
return SquareRoot((iN-hN)*(iN-hN)+(io-ho)*(io-ho))
endif
endfunction
function E78 takes unit p5,location m5 returns real
local real iN=GetUnitX(p5)
local real io=GetUnitY(p5)
local real hN=GetLocationX(m5)
local real ho=GetLocationY(m5)
set EZ7="DistanceBetweenUnitAndPoint"
if p5==null then
return I2R(9999999999)
else
return SquareRoot((iN-hN)*(iN-hN)+(io-ho)*(io-ho))
endif
endfunction
function E88 takes unit hn returns nothing
call SetUnitState(hn,UNIT_STATE_MANA,GetUnitState(hn,UNIT_STATE_MAX_MANA))
endfunction
function E98 takes unit hn,real iS returns nothing
call SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+iS)
endfunction
function ED8 takes nothing returns nothing
call PauseAllUnitsBJ(true)
endfunction
function RepeatedPauseAll takes nothing returns nothing
call TimerStart(CreateTimer(),1,true,function ED8)
endfunction
function iu takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
set EZ7="iu"
call DestroyEffect(T27(US7,"fx"))
call T97(US7)
call UQ7(t)
set t=null
return false
endfunction
function EE8 takes string iv,unit hn,string iV,real Hk returns nothing
local effect fx=AddSpecialEffectTarget(iv,hn,iV)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="TimedLifeUnitEffect"
call TK7(US7,"fx",fx)
call TriggerRegisterUnitEvent(t,hn,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function iu))
set fx=null
set t=null
endfunction
function iw takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
set EZ7="iw"
call DestroyEffect(T27(US7,"fx"))
call T97(US7)
call UQ7(t)
set t=null
return false
endfunction
function EF8 takes string iv,real x,real y,real Hk returns nothing
local effect fx=AddSpecialEffect(iv,x,y)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="TimedLifeEffect"
call TK7(PP7,"fx",fx)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function iw))
set fx=null
set t=null
endfunction
function ix takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local string iv=UF7(US7,"Effect")
local string iV=UF7(US7,"Attach")
local integer iX=U97(US7,"Count")
set EZ7="ix"
call EE8(iv,m5,iV,2)
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>iX then
call T97(US7)
call UQ7(t)
endif
set t=null
set m5=null
return false
endfunction
function Mv takes timer t returns nothing
call PauseTimer(t)
call T97(GetHandleId(t))
call DestroyTimer(t)
endfunction
function EG8 takes unit it,unit m5 returns boolean
local real x=RAbsBJ(GetUnitFacing(it)-GetUnitFacing(m5))
if(x<20 or x>340)then
set x=RAbsBJ(GetUnitFacing(it)-Q77(it,m5))
return(x<20 or x>340)
endif
return false
endfunction
function i4 takes nothing returns nothing
call DestroyLightning(T_7(GetHandleId(GetExpiredTimer()),"Lightning"))
endfunction
function EH8 takes string i6,real x1,real y1,real x2,real y2,real r,real g,real b,real a,real Hk returns nothing
local timer t=CreateTimer()
local lightning i7=AddLightning(i6,true,x1,y1,x2,y2)
set EZ7="AddTimedLightning"
call SetLightningColor(i7,r,g,b,a)
call TN7(GetHandleId(t),"Lightning",i7)
call TimerStart(t,Hk,false,function i4)
set t=null
endfunction
function EI8 takes string Hx,real Hk,unit HX,real Ia,integer r,integer g,integer b,integer a returns nothing
local texttag tt=CreateTextTag()
set EZ7="TextTagOnUnitEx"
call SetTextTagText(tt,Hx,Ia)
call SetTextTagPosUnit(tt,HX,64)
call SetTextTagColor(tt,r,g,b,a)
call SetTextTagVelocity(tt,0,.0355)
call SetTextTagFadepoint(tt,2)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,Hk)
if IsUnitVisible(HX,GetLocalPlayer())or C67(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
set tt=null
endfunction
function EJ8 takes player p,string EK8,real QB7,unit PN7,real EM8,integer r,integer g,integer b,integer a returns nothing
local texttag tt=CreateTextTag()
set EZ7="TextTagOnUnitExForAllied"
call SetTextTagText(tt,EK8,EM8)
call SetTextTagPosUnit(tt,PN7,64)
call SetTextTagColor(tt,r,g,b,a)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,2)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,QB7)
if IsPlayerAlly(GetLocalPlayer(),p)==true or C67(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
set tt=null
endfunction
function EO8 takes trigger t,playerunitevent Ib returns nothing
local integer EP8=0
set EZ7="TriggerRegisterAnyUnitEvent"
loop
call TriggerRegisterPlayerUnitEvent(t,Player(EP8),Ib,Condition(function A47))
set EP8=EP8+1
exitwhen EP8==16
endloop
endfunction
function EQ8 takes nothing returns nothing
if C47(GetEnumDestructable())and IsDestructableAliveBJ(GetEnumDestructable())then
set sl=sl+1
call KillDestructable(GetEnumDestructable())
endif
endfunction
function ER8 takes real x,real y,real d returns integer
local rect r=Rect(x-d,y-d,x+d,y+d)
set EZ7="KillTrees"
set sl=0
call EnumDestructablesInRect(r,Condition(function A47),function EQ8)
call RemoveRect(r)
set r=null
return sl
endfunction
function ES8 takes real x,real y returns boolean
if IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)then
return false
endif
return true
endfunction
function ET8 takes sound EU8,real x,real y returns nothing
call SetSoundPosition(EU8,x,y,0)
call SetSoundVolume(EU8,127)
set bj_lastPlayedSound=EU8
if(EU8!=null)then
call StartSound(EU8)
endif
endfunction
function If takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local fogmodifier IF=TB7(US7,"fog")
set EZ7="If"
call FogModifierStop(IF)
call DestroyFogModifier(IF)
call T97(US7)
call UQ7(t)
set t=null
set IF=null
return false
endfunction
function EV8 takes player p,real Hk,real x,real y,real r returns nothing
local trigger t=CreateTrigger()
local fogmodifier IF=CreateFogModifierRadius(p,FOG_OF_WAR_VISIBLE,x,y,r,true,true)
set EZ7="TimedReveal"
call FogModifierStart(IF)
call TO7(GetHandleId(t),"fog",IF)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function If))
set IF=null
set t=null
endfunction
function IG takes nothing returns nothing
set bj_groupCountUnits=bj_groupCountUnits+1
endfunction
function Ih takes nothing returns nothing
if C47(GetEnumDestructable())and GetDestructableLife(GetEnumDestructable())>0 then
set EL=true
endif
endfunction
function nA takes real x,real y,real d returns boolean
local rect r=Rect(x-d,y-d,x+d,y+d)
set EZ7="nA"
set EL=false
call EnumDestructablesInRect(r,null,function Ih)
call RemoveRect(r)
set r=null
return EL
endfunction
function Ii takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=T37(PP7,"Target")
local real Ij=UD7(PP7,"Speed")
local unit EW8=T37(PP7,"Projectile")
local real x=GetUnitX(EW8)
local real y=GetUnitY(EW8)
local real EX8=GetUnitX(PU7)
local real EY8=GetUnitY(PU7)
local real EZ8=Ij*.03
local real EA8=Q87(x,y,EX8,EY8)
local real EB8=x+EZ8*Cos(EA8*bj_DEGTORAD)
local real EC8=y+EZ8*Sin(EA8*bj_DEGTORAD)
local boolean E38=(LoadBoolean(L7,(PP7),(698)))
set EZ7="Ii"
call SetUnitX(EW8,EB8)
call SetUnitY(EW8,EC8)
call SetUnitFacing(EW8,EA8)
if L17(PU7)and E38==false then
call KillUnit(EW8)
call T97(PP7)
call UQ7(t)
elseif Q07(EX8,EY8,EB8,EC8)<=EZ8 then
call KillUnit(EW8)
set IN4=T37(PP7,"Source")
set IP4=PU7
call ExecuteFunc(UF7(PP7,"Callback"))
call T97(PP7)
call UQ7(t)
endif
set t=null
set PU7=null
set EW8=null
return false
endfunction
function E68 takes unit p5,unit m5,integer IM,string In,real Ij returns trigger
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local real iN=GetUnitX(p5)
local real io=GetUnitY(p5)
local real IN=GetUnitFacing(p5)
set EZ7="CreateProjectileToUnit"
call TriggerRegisterTimerEvent(t,.03,true)
call TriggerAddCondition(t,Condition(function Ii))
call TG7(US7,"Speed",Ij)
call TJ7(US7,"Target",m5)
call TH7(US7,"Callback",In)
call TJ7(US7,"Source",p5)
call TJ7(US7,"Projectile",CreateUnit(GetOwningPlayer(p5),IM,iN,io,IN))
call SaveBoolean(L7,(US7),(698),(false))
set eC=t
set t=null
return eC
endfunction
function Io takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
set EZ7="Io"
call UnitAddAbility(T37(US7,"Unit"),1097625443)
call T97(US7)
call UQ7(t)
set t=null
return false
endfunction
function IO takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer iX=GetTriggerEvalCount(t)
local unit C17=T37(US7,"Hero")
local real Ip=UD7(US7,"curscale")
local real DH8=Ip-(Ip-DJ8(C17))*iX/40
set EZ7="IO"
if iX>40 or L17(C17)then
call T97(US7)
call UQ7(t)
else
call SetUnitScale(C17,DH8,DH8,DH8)
endif
set t=null
set C17=null
return false
endfunction
function ng takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local real Iq=UD7(US7,"EndScale")
set EZ7="ng"
call T97(US7)
call UQ7(t)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.025,true)
call TriggerAddCondition(t,Condition(function IO))
set US7=GetHandleId(t)
call TG7(US7,"curscale",Iq)
call TJ7(US7,"Hero",C17)
set t=null
set C17=null
return false
endfunction
function nI takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer iX=GetTriggerEvalCount(t)
local unit C17=T37(US7,"Hero")
local real Ir=(UD7(US7,"scale")-DJ8(C17))*iX/40
local real DH8=DJ8(C17)+Ir
set EZ7="nI"
if iX>40 or L17(C17)then
call T97(US7)
call UQ7(t)
else
call SetUnitScale(C17,DH8,DH8,DH8)
endif
set t=null
set C17=null
return false
endfunction
function EL8 takes unit C17,real Hk,real DH8 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local real Is=DH8*DJ8(C17)
local real Iq=Is
set EZ7="SetUnitScaleTimed"
call TJ7(US7,"Hero",C17)
call TG7(US7,"EndScale",Iq)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function ng))
if Hk>3 then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.025,true)
call TriggerAddCondition(t,Condition(function nI))
set US7=GetHandleId(t)
call TG7(US7,"scale",Is)
call TJ7(US7,"Hero",C17)
else
call SetUnitScale(C17,Iq,Iq,Iq)
endif
set t=null
endfunction
function IS takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local integer It=U97(US7,"Ability")
set EZ7="IS"
if C17!=null and GetUnitAbilityLevel(C17,It)>0 then
call UnitRemoveAbility(C17,It)
endif
call T97(US7)
call UQ7(t)
set t=null
set C17=null
return false
endfunction
function E18 takes unit u,integer It,real Hk returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="GiveUnitAbilityForDuration"
call L67(u,It)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function IS))
call TJ7(US7,"Hero",u)
call TF7(US7,"Ability",It)
set t=null
endfunction
function Iu takes nothing returns nothing
set bj_groupCountUnits=bj_groupCountUnits+1
endfunction
function E08 takes group g returns integer
set bj_groupCountUnits=0
call ForGroup(g,function Iu)
return bj_groupCountUnits
endfunction
function Iv takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local fogmodifier IF=TB7(US7,"fog")
set EZ7="Iv"
call FogModifierStop(IF)
call DestroyFogModifier(IF)
call T97(US7)
call UQ7(t)
set t=null
return false
endfunction
function E58 takes fogmodifier IF,real Hk returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="TimedFog"
call FogModifierStart(IF)
call TO7(US7,"fog",IF)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function Iv))
set t=null
endfunction
function Iw takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer E28=GetHandleId(t)
local integer E_8=(LoadInteger(L7,(E28),(55)))
local destructable d=A97(E_8)
set EZ7="Iw"
if d!=null then
call RemoveDestructable(d)
endif
call AE7(E_8)
call T97(E28)
call UQ7(t)
set d=null
set t=null
return false
endfunction
function F48 takes destructable d,real F78 returns nothing
local trigger t=CreateTrigger()
local integer E28=GetHandleId(t)
set EZ7="DestructableTimedLife"
call TriggerRegisterTimerEvent(t,F78,false)
call TriggerAddCondition(t,Condition(function Iw))
call SaveInteger(L7,(E28),(55),(AF7(d)))
set t=null
endfunction
function Ix takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local integer It=U97(US7,"Ability")
set EZ7="Ix"
if C17!=null and GetUnitAbilityLevel(C17,It)>0 then
call UnitRemoveAbility(C17,It)
endif
call T97(US7)
call UQ7(t)
set t=null
set C17=null
return false
endfunction
function nl takes unit u,integer It,real Hk returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="nl"
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function Ix))
call TJ7(US7,"Hero",u)
call TF7(US7,"Ability",It)
set t=null
endfunction
function Iy takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
set EZ7="Iy"
call SetUnitAnimation(T37(US7,"Unit"),"stand")
call T97(US7)
call UQ7(t)
set t=null
return false
endfunction
function F88 takes unit u,real Hk returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="ResetUnitAnimationTimed"
call TJ7(US7,"Unit",u)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function Iy))
set t=null
endfunction
function nm takes real Hk,boolean IZ,real x,real y,real I0,real I1,real I2,real I3,real I4 returns nothing
local real I5
local real I6
local real I7
set EZ7="nm"
if(I1<=0 or I4<=0 or I3<=0)then
return
endif
set I6=2.*Hk/I3
set I5=2.*I1/I4
set I7=I0/I1
call TerrainDeformRipple(x,y,I1,I2,R2I(Hk*1000),1,I5,I6,I7,IZ)
endfunction
function F98 takes player hV,unit hn,integer hY returns nothing
local texttag t=CreateTextTag()
set EZ7="GiveGoldWithEffect"
call SetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD)+hY)
call SetTextTagText(t,"+"+I2S(hY),.025)
call SetTextTagPosUnit(t,hn,0)
call SetTextTagColor(t,255,220,0,255)
call SetTextTagVelocity(t,0,.03)
if GetLocalPlayer()==hV then
call SetTextTagVisibility(t,true)
else
call SetTextTagVisibility(t,false)
endif
call SetTextTagFadepoint(t,2)
call SetTextTagLifespan(t,3)
call SetTextTagPermanent(t,false)
endfunction
function I9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
set EZ7="I9"
call RemoveUnit(T37(US7,"Unit"))
call T97(US7)
call UQ7(t)
set t=null
return false
endfunction
function nn takes unit u,real d returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="nn"
call TriggerRegisterTimerEvent(t,d,false)
call TriggerAddCondition(t,Condition(function I9))
call TJ7(US7,"Unit",u)
set t=null
endfunction
function jA takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
set EZ7="jA"
call RemoveUnit(T37(US7,"Unit"))
call T97(US7)
call UQ7(t)
set t=null
return false
endfunction
function jb takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
set EZ7="jb"
call KillUnit(T37(US7,"Unit"))
call T97(US7)
call UQ7(t)
set t=null
return false
endfunction
function FD8 takes unit u,real d returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="RemoveUnitTimedAndKill"
call TriggerRegisterTimerEvent(t,d,false)
call TriggerAddCondition(t,Condition(function jb))
call TJ7(US7,"Unit",u)
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,d+.01,false)
call TriggerAddCondition(t,Condition(function jA))
call TJ7(US7,"Unit",u)
set t=null
endfunction
function FE8 takes sound EU8 returns nothing
if EU8!=null and CW[GetPlayerId(GetLocalPlayer())]==false then
call StartSound(EU8)
endif
endfunction
function FF8 takes sound EU8,player HU returns nothing
if GetLocalPlayer()==HU and CW[GetPlayerId(HU)]==false then
call StartSound(EU8)
endif
endfunction
function FG8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false
endfunction
function FH8 takes nothing returns nothing
call FF8(VJ4,GetOwningPlayer(GetEnumUnit()))
endfunction
function FI8 takes unit FJ8,sound FK8,real x,real y,real r returns nothing
local group g=LD7()
set EZ7="PlaySoundForNearbyPlayers"
set IN4=FJ8
set VJ4=FK8
call GroupEnumUnitsInRange(g,x,y,r,Condition(function FG8))
call GroupRemoveUnit(g,FJ8)
call ForGroup(g,function FH8)
call L97(g)
set g=null
endfunction
function FM8 takes player p returns nothing
if GetLocalPlayer()==p then
call ClearTextMessages()
endif
endfunction
function FN8 takes unit u,real d returns nothing
call SetUnitState(u,UNIT_STATE_LIFE,D28(GetUnitState(u,UNIT_STATE_LIFE)-d,1))
endfunction
function FO8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local integer FP8=U97(US7,"AbilityID")
set EZ7="FO8"
if UnitRemoveAbility(m5,FP8)==true or GetUnitAbilityLevel(m5,FP8)==0 then
call T97(US7)
call UQ7(t)
endif
set t=null
set m5=null
return false
endfunction
function FQ8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local integer FP8=U97(US7,"AbilityID")
set EZ7="FQ8"
call T97(US7)
call UQ7(t)
if UnitRemoveAbility(m5,FP8)==false then
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function FO8))
call TJ7(US7,"Target",m5)
call TF7(US7,"AbilityID",FP8)
endif
set t=null
set m5=null
return false
endfunction
function FR8 takes unit m5,integer FP8,integer BY7,real Hk returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="AddTimedAbility"
call L67(m5,FP8)
call SetUnitAbilityLevel(m5,FP8,BY7)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function FQ8))
call TJ7(US7,"Target",m5)
call TF7(US7,"AbilityID",FP8)
set t=null
endfunction
function FS8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local integer o6=U97(US7,"AbilityID")
local integer FT8=U97(US7,"AbilityID")
set EZ7="FS8"
call UnitRemoveAbility(m5,FT8)
if UnitRemoveAbility(m5,o6)==true or GetUnitAbilityLevel(m5,o6)==0 then
call T97(US7)
call UQ7(t)
endif
set t=null
set m5=null
return false
endfunction
function FU8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local integer o6=U97(US7,"AbilityID")
local integer FT8=U97(US7,"BuffID")
set EZ7="FU8"
call T97(US7)
call UQ7(t)
call UnitRemoveAbility(m5,FT8)
if UnitRemoveAbility(m5,o6)==false then
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function FS8))
call TJ7(US7,"Target",m5)
call TF7(US7,"AbilityID",o6)
call TF7(US7,"BuffID",FT8)
endif
set t=null
set m5=null
return false
endfunction
function FV8 takes unit m5,integer o6,integer BY7,real FW8,integer FT8 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="AddTimedAbilityAndRemove"
call L67(m5,o6)
call SetUnitAbilityLevel(m5,o6,BY7)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,FW8,false)
call TriggerAddCondition(t,Condition(function FU8))
call TJ7(US7,"Target",m5)
call TF7(US7,"AbilityID",o6)
call TF7(US7,"BuffID",FT8)
set t=null
endfunction
function FX8 takes unit S4 returns boolean
local integer z8=GetUnitTypeId(S4)
return z8==1848651828 or z8==1848652103 or z8==1848652099 or z8==1848652088 or z8==1697656907 or z8==1697656905 or z8==1697656908 or z8==1697657162
endfunction
function FY8 takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false
endfunction
function GenericCondition_Structure takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and L17(GetFilterUnit())==false
endfunction
function FZ8 takes nothing returns boolean
return C37(GetFilterUnit())==false and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function GenericCondition_EnemyUnitsExNoImmuneNoInvisAndStructureWithAncient takes nothing returns boolean
return C37(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and L17(GetFilterUnit())==false)
endfunction
function GenericCondition_EnemyUnitsExNoInvisAndStructureWithAncient takes nothing returns boolean
return IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and L17(GetFilterUnit())==false)
endfunction
function GenericCondition_EnemyUnitsExNoImmuneNoInvisWithAncient takes nothing returns boolean
return C37(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)
endfunction
function FA8 takes nothing returns boolean
return IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)
endfunction
function FB8 takes nothing returns boolean
return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function FC8 takes nothing returns boolean
return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and AI7(GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)
endfunction
function F38 takes unit u returns boolean
return GetUnitAbilityLevel(u,1097167980)>0 or GetUnitAbilityLevel(u,1113815395)>0 or GetUnitAbilityLevel(u,1113815346)>0 or GetUnitAbilityLevel(u,1110454606)>0
endfunction
function F68 takes unit u returns boolean
return(GetUnitAbilityLevel((u),(1110459185))>0)or(GetUnitAbilityLevel((u),(1111844210))>0)or(GetUnitAbilityLevel((u),(1113943655))>0)or(GetUnitAbilityLevel((u),(1113943649))>0)or(GetUnitAbilityLevel((u),(1110454583))>0)or(GetUnitAbilityLevel((u),(1110456120))>0)or(GetUnitAbilityLevel((u),(1110456390))>0)or(GetUnitAbilityLevel((u),(1110456389))>0)or(GetUnitAbilityLevel((u),(1110459730))>0)or(GetUnitAbilityLevel((u),(1110459982))>0)
endfunction
function FL8 takes unit u returns nothing
call UnitRemoveAbility(u,1110459185)
call UnitRemoveAbility(u,1111844210)
call UnitRemoveAbility(u,1113943655)
call UnitRemoveAbility(u,1113943649)
call UnitRemoveAbility(u,1110454583)
call UnitRemoveAbility(u,1110456120)
call UnitRemoveAbility(u,1110456390)
call UnitRemoveAbility(u,1110456389)
call UnitRemoveAbility(u,1110459730)
call UnitRemoveAbility(u,1110459982)
endfunction
function F18 takes unit u returns nothing
call UnitRemoveAbility(u,1096971630)
call SaveInteger(L7,(GetHandleId(u)),(790),(0))
endfunction
function F08 takes unit u returns nothing
local integer PQ7=GetHandleId(u)
local integer F58=(LoadInteger(L7,(PQ7),(790)))
call L67(u,1096971630)
set F58=F58+1
call SaveInteger(L7,(PQ7),(790),(F58))
endfunction
function F28 takes unit u returns nothing
local integer PQ7=GetHandleId(u)
local integer F58=(LoadInteger(L7,(PQ7),(790)))
set F58=IMaxBJ(F58-1,0)
call SaveInteger(L7,(PQ7),(790),(F58))
if F58==0 then
call F18(u)
endif
endfunction
function F_8 takes unit u returns boolean
if u==J64 then
return true
endif
if u==JL4 then
return true
endif
if u==J14 then
return true
endif
if u==J04 then
return true
endif
if u==J54 then
return true
endif
if u==J24 then
return true
endif
if u==J_4 then
return true
endif
if u==K44 then
return true
endif
if u==K74 then
return true
endif
if u==K84 then
return true
endif
if u==K94 then
return true
endif
if u==KD4 then
return true
endif
if u==KE4 then
return true
endif
if u==KF4 then
return true
endif
if u==KG4 then
return true
endif
if u==KH4 then
return true
endif
if u==KI4 then
return true
endif
if u==JG4 then
return true
endif
if u==JH4 then
return true
endif
if u==JI4 then
return true
endif
if u==JJ4 then
return true
endif
if u==JK4 then
return true
endif
if u==JM4 then
return true
endif
if u==JN4 then
return true
endif
if u==JO4 then
return true
endif
if u==JP4 then
return true
endif
if u==JQ4 then
return true
endif
if u==JR4 then
return true
endif
if u==JS4 then
return true
endif
if u==JT4 then
return true
endif
if u==JU4 then
return true
endif
if u==JV4 then
return true
endif
if u==JW4 then
return true
endif
if u==JX4 then
return true
endif
return false
endfunction
function G48 takes nothing returns boolean
return F_8(GetFilterUnit())and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))and GetUnitLifePercent(GetFilterUnit())<=90.
endfunction
function G78 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function GenericCondition_EnemyUnitsExHeroesVision takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))
endfunction
function GenericCondition_EnemyUnitsExHeroes takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true
endfunction
function G88 takes unit u returns boolean
return GetUnitAbilityLevel(u,1110455864)>0 or GetUnitAbilityLevel(u,1110456148)>0 or GetUnitAbilityLevel(u,1110456118)>0 or GetUnitAbilityLevel(u,1112504171)>0 or GetUnitAbilityLevel(u,1110455378)>0 or GetUnitAbilityLevel(u,1110458677)>0 or GetUnitAbilityLevel(u,1110454609)>0 or GetUnitAbilityLevel(u,1110454326)>0 or GetUnitAbilityLevel(u,1114205814)>0 or GetUnitAbilityLevel(u,1097886070)>0 or GetUnitAbilityLevel(u,1093677617)>0 or GetUnitAbilityLevel(u,1093684020)>0 or GetUnitAbilityLevel(u,1093687362)>0 or GetUnitAbilityLevel(u,1093687858)>0 or GetUnitAbilityLevel(u,1093748545)>0 or GetUnitAbilityLevel(u,1093748823)>0 or GetUnitAbilityLevel(u,1093748824)>0 or GetUnitAbilityLevel(u,1093677130)>0 or GetUnitAbilityLevel(u,1110456395)>0 or GetUnitAbilityLevel(u,1110456408)>0 or GetUnitAbilityLevel(u,1110455097)>0 or GetUnitAbilityLevel(u,1110454347)>0 or GetUnitAbilityLevel(u,1112041075)>0 or GetUnitAbilityLevel(u,1093743664)>0 or GetUnitAbilityLevel(u,1110454833)>0 or GetUnitAbilityLevel(u,1093687876)>0 or GetUnitAbilityLevel(u,1093684052)>0 or GetUnitAbilityLevel(u,1110460216)>0
endfunction
function G98 takes unit PY7 returns boolean
return GetUnitAbilityLevel(PY7,1093748823)>0 or GetUnitAbilityLevel(PY7,1093748824)>0 or GetUnitAbilityLevel(PY7,1110454347)>0 or GetUnitAbilityLevel(PY7,1110456118)>0 or GetUnitAbilityLevel(PY7,1110456148)>0 or GetUnitAbilityLevel(PY7,1093677617)>0 or GetUnitAbilityLevel(PY7,1093810499)>0 or GetUnitAbilityLevel(PY7,1112041075)>0 or GetUnitAbilityLevel(PY7,1110456395)>0 or GetUnitAbilityLevel(PY7,1110455864)>0 or GetUnitAbilityLevel(PY7,1110455097)>0 or GetUnitAbilityLevel(PY7,1093677130)>0 or GetUnitAbilityLevel(PY7,1093684052)>0
endfunction
function GD8 takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1868921189 or SG7(GetFilterUnit(),ZU[WC])or GetUnitAbilityLevel(GetFilterUnit(),1093743691)>0 or GetUnitAbilityLevel(GetFilterUnit(),1095332962)>0
endfunction
function GE8 takes unit u returns boolean
return GetUnitAbilityLevel(u,1110454356)==0 and GetUnitAbilityLevel(u,1110454348)==0
endfunction
function GF8 takes unit u,player p returns boolean
return G88(u)==false or IsUnitVisible(GetFilterUnit(),p)==true
endfunction
function GenericCondition_EnemyUnitsExHeroesNoDotaInvis takes nothing returns boolean
return((IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and G88(GetFilterUnit())==false
endfunction
function GG8 takes nothing returns boolean
return((IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(G88(GetFilterUnit())==false or IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))==true)
endfunction
function GH8 takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),1093751362)==0
endfunction
function GI8 takes nothing returns boolean
return((IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4)))and F38(GetFilterUnit())==false
endfunction
function XMI2 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function GJ8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)
endfunction
function GK8 takes nothing returns boolean
return C37(GetFilterUnit())==false and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function GM8 takes unit RU7 returns boolean
return GetUnitTypeId(RU7)==1848651828 or GetUnitTypeId(RU7)==1848652088 or GetUnitTypeId(RU7)==1848652099 or GetUnitTypeId(RU7)==1848652103
endfunction
function GN8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit())==1700946284 or GetUnitTypeId(GetFilterUnit())==1970107511)
endfunction
function GO8 takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false and C77(GetFilterUnit())==false
endfunction
function GP8 takes nothing returns boolean
return GO8()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function jE takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and L17(GetFilterUnit())==false and C77(GetFilterUnit())==false
endfunction
function GQ8 takes nothing returns boolean
return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and GO8()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function GenericCondition_EnemyUnitsVisible takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function GenericCondition_EnemyUnitsAndVisibleOrWW takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))or G88(GetFilterUnit()))
endfunction
function jF takes nothing returns boolean
return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and GO8()
endfunction
function GR8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and GO8()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))
endfunction
function GS8 takes nothing returns boolean
return C37(GetFilterUnit())==false and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function GT8 takes nothing returns boolean
return(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4)))and C37(GetFilterUnit())==false and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function GU8 takes nothing returns boolean
return C37(GetFilterUnit())==false and(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))
endfunction
function GV8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function GW8 takes nothing returns boolean
return(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function GX8 takes nothing returns boolean
return C37(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))
endfunction
function GY8 takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false
endfunction
function GZ8 takes nothing returns boolean
return C37(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and GO8()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function GA8 takes nothing returns boolean
return C37(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function jh takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and GO8()
endfunction
function GB8 takes nothing returns boolean
return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)
endfunction
function ji takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and GO8()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function jI takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and GO8()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function GC8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and GO8()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function G38 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and GO8()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function GenericCondition_EnemyHeroesEx_OLD takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and GO8()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function G68 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function GenericCondition_EnemyHeroesExNoDotAInvis takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)or G88(GetEnumUnit())
endfunction
function GL8 takes nothing returns boolean
return GO8()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function G18 takes nothing returns boolean
return GO8()
endfunction
function G08 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function G58 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function GenericCondition_MyUnits takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function G28 takes nothing returns boolean
return GO8()and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function jL takes nothing returns boolean
return GO8()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)or IsUnitIllusion(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function jm takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)!=null)
endfunction
function GenericCondition_EnemyUnitsExVisible takes nothing returns boolean
return G78()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))
endfunction
function GenericCondition_EnemyUnitsExNoWW takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))or(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))==false and G88(GetFilterUnit()))==false)
endfunction
function jn takes nothing returns boolean
return GO8()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function ny takes nothing returns boolean
return jn()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))
endfunction
function G_8 takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and L17(GetFilterUnit())==true and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false and GetUnitTypeId(GetFilterUnit())!=1848657461
endfunction
function H48 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(IN4))==true and BS7(GetFilterUnit())>0
endfunction
function H78 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)
endfunction
function H88 takes nothing returns boolean
return C37(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))
endfunction
function H98 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function HD8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function HE8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function GenericCondition_AlliedHeroesAndCreeps takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true or GetOwningPlayer(GetFilterUnit())==Z7[0]or GetOwningPlayer(GetFilterUnit())==A7[0])and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function HF8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and AI7(GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)
endfunction
function HG8 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true or GetOwningPlayer(GetFilterUnit())==Z7[0]or GetOwningPlayer(GetFilterUnit())==A7[0])and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function HH8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function HI8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))
endfunction
function HJ8 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(IN4))==true and V17(GetFilterUnit())and GetWidgetLife(GetFilterUnit())>.405 and GetOwningPlayer(GetFilterUnit())!=Player(PLAYER_NEUTRAL_AGGRESSIVE)
endfunction
function HK8 takes nothing returns nothing
local destructable m5=GetEnumDestructable()
local real a=Atan2(GetDestructableY(m5)-GetUnitY(IN4),GetDestructableX(m5)-GetUnitX(IN4))
local real HM8=RAbsBJ((IJ4-a)*bj_RADTODEG)
set EZ7="HK8"
if(C47(m5)or GetDestructableTypeId(m5)==1110454325)and GetDestructableLife(m5)>1 and HM8<wB and HM8<(RU-5)then
set wB=HM8
set SB=m5
endif
set m5=null
endfunction
function HN8 takes unit HO8,unit p5,real l4 returns destructable
local real x=GetUnitX(HO8)
local real y=GetUnitY(HO8)
local rect r=Rect(x-zB,y-zB,x+zB,y+zB)
set EZ7="aEe"
set wB=9999
set IN4=HO8
set SB=null
call EnumDestructablesInRect(r,Condition(function A47),function HK8)
call RemoveRect(r)
set r=null
return SB
endfunction
function HP8 takes nothing returns nothing
local unit m5=GetEnumUnit()
local real a=Atan2(GetUnitY(m5)-GetUnitY(IN4),GetUnitX(m5)-GetUnitX(IN4))
local real HM8=RAbsBJ((IJ4-a)*bj_RADTODEG)
set EZ7="HP8"
if HM8<wB and HM8<RU and m5!=IP4 then
set wB=HM8
set TB=m5
endif
set m5=null
endfunction
function HQ8 takes unit HO8,unit p5,real l4 returns unit
local group g=LD7()
set EZ7="aOe"
set TB=null
set wB=9999
set IN4=HO8
set IJ4=Atan2(GetUnitY(p5)-XM4,GetUnitX(p5)-XK4)
set IP4=p5
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),yB,Condition(function GS8))
call ForGroup(g,function HP8)
call L97(g)
set g=null
return TB
endfunction
function HR8 takes unit HO8,unit p5,real l4 returns unit
local group g=LD7()
set EZ7="aOe"
set TB=null
set wB=9999
set IN4=HO8
set IJ4=l4
set IP4=p5
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),yB,Condition(function GT8))
call ForGroup(g,function HP8)
call L97(g)
set g=null
return TB
endfunction
function HS8 takes real HT8 returns integer
if HT8>=4.00 then
return 24
elseif HT8>=3.75 then
return 23
elseif HT8>=3.5 then
return 22
elseif HT8>=3.25 then
return 21
elseif HT8>=3 then
return 20
elseif HT8>=2.8 then
return 19
elseif HT8>=2.75 then
return 18
elseif HT8>=2.6 then
return 17
elseif HT8>=2.5 then
return 16
elseif HT8>=2.4 then
return 15
elseif HT8>=2.25 then
return 14
elseif HT8>=2.2 then
return 13
elseif HT8>=2 then
return 12
elseif HT8>=1.8 then
return 11
elseif HT8>=1.75 then
return 10
elseif HT8>=1.65 then
return 9
elseif HT8>=1.5 then
return 8
elseif HT8>=1.4 then
return 7
elseif HT8>=1.25 then
return 6
elseif HT8>=1.2 then
return 5
elseif HT8>=1 then
return 4
elseif HT8>=0.75 then
return 3
elseif HT8>=0.5 then
return 2
elseif HT8>=0.25 then
return 1
endif
return 1
endfunction
function HU8 takes unit p5,unit m5,real FW8 returns nothing
local unit HV8=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
local integer HW8=HS8(FW8)
call UnitAddAbility(HV8,1093687350)
call SetUnitAbilityLevel(HV8,1093687350,HW8)
call IssueTargetOrder(HV8,"thunderbolt",m5)
set HV8=null
endfunction
function HY8 takes unit FJ8,unit PU7,integer HZ8,real D_8 returns nothing
if HZ8==0 then
return
endif
if HZ8==ZG4 then
call UnitDamageTarget(FJ8,PU7,D_8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE,WEAPON_TYPE_WHOKNOWS)
elseif HZ8==ZH4 then
call UnitDamageTarget(FJ8,PU7,D_8,true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
elseif HZ8==ZI4 then
call UnitDamageTarget(FJ8,PU7,D_8,true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
elseif HZ8==ZJ4 then
call UnitDamageTarget(FJ8,PU7,D_8,true,true,ATTACK_TYPE_PIERCE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
elseif HZ8==ZK4 then
call UnitDamageTarget(FJ8,PU7,D_8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
endif
endfunction
function HA8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local integer HB8=U97(US7,"TargetIndex")
local unit m5=A87(HB8)
local integer HZ8=U97(US7,"DamageType")
local real D_8=UD7(US7,"Damage")
set EZ7="HA8"
call HY8(p5,m5,HZ8,D_8)
call A77(HB8)
call T97(US7)
call UQ7(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function HC8 takes unit p5,unit m5,integer HZ8,real D_8,real FW8 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="xTv"
call TJ7(US7,"Source",p5)
call TF7(US7,"TargetIndex",AD7(m5))
call TF7(US7,"DamageType",HZ8)
call TG7(US7,"Damage",D_8*1.0)
call TriggerRegisterTimerEvent(t,FW8,false)
call TriggerAddCondition(t,Condition(function HA8))
set t=null
endfunction
function jQ takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local integer HZ8=U97(US7,"DamageType")
local real D_8=UD7(US7,"Damage")
set EZ7="jQ"
call HY8(p5,m5,HZ8,D_8)
call T97(US7)
call UQ7(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function H38 takes unit p5,unit m5,integer HZ8,real D_8,real Hk returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="DamageTargetDelayed"
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TF7(US7,"DamageType",HZ8)
call TG7(US7,"Damage",D_8)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function jQ))
set t=null
endfunction
function H68 takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer HL8
set EZ7="AddDamageBonus"
if d<1 then
call UnitRemoveAbility(u,H64[0])
call UnitRemoveAbility(u,H64[1])
call UnitRemoveAbility(u,H64[2])
call UnitRemoveAbility(u,H64[3])
call UnitRemoveAbility(u,H64[4])
call UnitRemoveAbility(u,H64[5])
call UnitRemoveAbility(u,H64[6])
call UnitRemoveAbility(u,H64[7])
call UnitRemoveAbility(u,H64[8])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set HL8=8
set i=0
loop
exitwhen i>HL8
if b[i]==1 then
call UnitAddAbility(u,H64[i])
else
call UnitRemoveAbility(u,H64[i])
endif
set i=i+1
endloop
endfunction
function H18 takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer H08
set EZ7="AddHPBonus"
if d<1 then
call UnitRemoveAbility(u,TK4[0])
call UnitRemoveAbility(u,TK4[1])
call UnitRemoveAbility(u,TK4[2])
call UnitRemoveAbility(u,TK4[3])
call UnitRemoveAbility(u,TK4[4])
call UnitRemoveAbility(u,TK4[5])
call UnitRemoveAbility(u,TK4[6])
call UnitRemoveAbility(u,TK4[7])
call UnitRemoveAbility(u,TK4[8])
call UnitRemoveAbility(u,TK4[9])
call UnitRemoveAbility(u,TK4[10])
return
endif
loop
exitwhen c==0
set c=a/2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set H08=10
set i=0
loop
exitwhen i>H08
if b[i]==1 then
call UnitAddAbility(u,TK4[i])
else
call UnitRemoveAbility(u,TK4[i])
endif
set i=i+1
endloop
endfunction
function H58 takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer HL8
set EZ7="xwv"
if d<1 then
call UnitRemoveAbility(u,HL4[0])
call UnitRemoveAbility(u,HL4[1])
call UnitRemoveAbility(u,HL4[2])
call UnitRemoveAbility(u,HL4[3])
call UnitRemoveAbility(u,HL4[4])
call UnitRemoveAbility(u,HL4[5])
call UnitRemoveAbility(u,HL4[6])
call UnitRemoveAbility(u,HL4[7])
call UnitRemoveAbility(u,HL4[8])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set HL8=8
set i=0
loop
exitwhen i>HL8
if b[i]==1 then
call UnitAddAbility(u,HL4[i])
else
call UnitRemoveAbility(u,HL4[i])
endif
set i=i+1
endloop
endfunction
function H28 takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer H_8
set EZ7="AddNegativeArmorBonus"
if d<1 then
call UnitRemoveAbility(u,H14[0])
call UnitRemoveAbility(u,H14[1])
call UnitRemoveAbility(u,H14[2])
call UnitRemoveAbility(u,H14[3])
call UnitRemoveAbility(u,H14[4])
call UnitRemoveAbility(u,H14[5])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set H_8=i
set i=0
loop
exitwhen i>H_8
if b[i]==1 then
call UnitAddAbility(u,H14[i])
else
call UnitRemoveAbility(u,H14[i])
endif
set i=i+1
endloop
endfunction
function I48 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local player p=TL7(US7,"p")
local integer i=U97(US7,"i")
local string c="|c006699CC"
set EZ7="I48"
if(GetObjectName((1848657992)))=="Language: English" and(MJ4[(i)]!="")then
if GetTriggerEvalCount(t)==1 then
call DisplayTimedTextToPlayer(p,0,0,15,"Tip 1: "+c+MJ4[i]+"|r")
call FF8(zR,p)
elseif GetTriggerEvalCount(t)==2 then
call DisplayTimedTextToPlayer(p,0,0,15,"Tip 2: "+c+MK4[i]+"|r")
call FF8(zR,p)
elseif GetTriggerEvalCount(t)==3 then
call DisplayTimedTextToPlayer(p,0,0,15,"Tip 3: "+c+MM4[i]+"|r")
call FF8(zR,p)
elseif GetTriggerEvalCount(t)==4 then
call DisplayTimedTextToPlayer(p,0,0,15,"Tip 4: "+c+MN4[i]+"|r")
call FF8(zR,p)
elseif GetTriggerEvalCount(t)==5 then
call DisplayTimedTextToPlayer(p,0,0,15,"Tip 5: "+c+MO4[i]+"|r")
call FF8(zR,p)
endif
endif
if GetTriggerEvalCount(t)==5 then
call UQ7(t)
call T97(US7)
endif
set t=null
return false
endfunction
function I78 takes player p,integer i returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="xzv"
call TriggerRegisterTimerEvent(t,15.,false)
call TriggerRegisterTimerEvent(t,300.,true)
call TriggerAddCondition(t,Condition(function I48))
call TQ7(US7,"p",p)
call TF7(US7,"i",i)
set t=null
endfunction
function I88 takes unit FJ8 returns integer
local integer BU7=GetUnitTypeId(FJ8)
local integer I98=1865429328
set EZ7="GetVisionUnit"
if BU7==1432646245 then
set I98=1865429326
elseif BU7==1164799855 or BU7==1211117641 or BU7==1211119409 or BU7==1160785973 then
set I98=1865429327
endif
return I98
endfunction
function ID8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
set EZ7="ID8"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call KillUnit(HV8)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
call SetUnitX(HV8,GetUnitX(FJ8))
call SetUnitY(HV8,GetUnitY(FJ8))
endif
set t=null
set FJ8=null
set HV8=null
return false
endfunction
function IE8 takes unit FJ8 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),I88(FJ8),GetUnitX(FJ8),GetUnitY(FJ8),0)
set EZ7="Buyback_VisionFollower"
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ID8))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
set t=null
endfunction
function IF8 takes integer IG8 returns boolean
local integer i=0
set EZ7="IsBuybackUnit"
loop
exitwhen i>59
if IG8==V9[i]then
return true
endif
set i=i+1
endloop
return false
endfunction
function IH8 takes integer BY7 returns integer
local real II8=RF7()-M_4
local real IJ8=(R2I(II8)/ 60)-(1/ 2)
local real IK8=100+BY7*BY7*1.5+IJ8*15
local integer IM8
set EZ7="Buyback_GetUnitId"
set IM8=R2I(IK8/ 50)
set IM8=IMinBJ(IM8,59)
set IM8=IMaxBJ(IM8,0)
return IM8
endfunction
function IN8 takes player p returns nothing
local integer id=GetPlayerId(p)
local unit IO8=KU4[id]
local unit IP8=M7[id]
local integer IQ8=GetHeroLevel(IP8)
local integer i=0
set EZ7="BuybackUpdatePlayer"
if D4==true then
return
endif
if Y04==false then
return
endif
if W9[id]==1747993652 then
return
endif
if W9[id]!=0 then
call RemoveUnitFromStock(IO8,W9[id])
endif
call AddUnitToStock(IO8,V9[IH8(IQ8)],1,1)
set W9[id]=V9[IH8(IQ8)]
set IP8=null
set IO8=null
endfunction
function IR8 takes nothing returns boolean
if D4==true then
return false
endif
call IN8(Z7[1])
call IN8(Z7[2])
call IN8(Z7[3])
call IN8(Z7[4])
call IN8(Z7[5])
call IN8(A7[1])
call IN8(A7[2])
call IN8(A7[3])
call IN8(A7[4])
call IN8(A7[5])
return false
endfunction
function IS8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local integer id=(LoadInteger(L7,(PP7),(34)))
local unit IT8=KU4[id]
local unit LI7=M7[id]
local integer HW8=GetHeroLevel(LI7)
local integer i=0
set EZ7="IS8"
call UnitRemoveAbility(IT8,1093808213)
call AddUnitToStock(IT8,V9[IH8(HW8)],1,1)
set W9[id]=V9[IH8(HW8)]
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set LI7=null
return false
endfunction
function IU8 takes player p returns nothing
local integer id=GetPlayerId(p)
local unit IT8=KU4[id]
local unit LI7=M7[id]
local integer HW8=GetHeroLevel(LI7)
local integer i=0
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="Buyback_StartCooldown"
call IE8(LI7)
loop
exitwhen i>59
call RemoveUnitFromStock(IT8,V9[i])
set i=i+1
endloop
call TriggerAddCondition(t,Condition(function IS8))
call TriggerRegisterTimerEvent(t,300,false)
call SaveInteger(L7,(PP7),(34),(id))
set W9[id]=1747993652
call UnitAddAbility(IT8,1093808213)
call IssueImmediateOrder(IT8,"fanofknives")
set LI7=null
set IT8=null
set t=null
endfunction
function IV8 takes nothing returns nothing
set KA4[GetPlayerId(Z7[1])]=0
set KB4[GetPlayerId(Z7[1])]=66
set KC4[GetPlayerId(Z7[1])]=255
set KA4[GetPlayerId(Z7[2])]=48
set KB4[GetPlayerId(Z7[2])]=230
set KC4[GetPlayerId(Z7[2])]=185
set KA4[GetPlayerId(Z7[3])]=50
set KB4[GetPlayerId(Z7[3])]=0
set KC4[GetPlayerId(Z7[3])]=129
set KA4[GetPlayerId(Z7[4])]=255
set KB4[GetPlayerId(Z7[4])]=252
set KC4[GetPlayerId(Z7[4])]=1
set KA4[GetPlayerId(Z7[5])]=255
set KB4[GetPlayerId(Z7[5])]=50
set KC4[GetPlayerId(Z7[5])]=0
set KA4[GetPlayerId(A7[1])]=220
set KB4[GetPlayerId(A7[1])]=50
set KC4[GetPlayerId(A7[1])]=50
set KA4[GetPlayerId(A7[2])]=50
set KB4[GetPlayerId(A7[2])]=50
set KC4[GetPlayerId(A7[2])]=50
set KA4[GetPlayerId(A7[3])]=75
set KB4[GetPlayerId(A7[3])]=150
set KC4[GetPlayerId(A7[3])]=190
set KA4[GetPlayerId(A7[4])]=16
set KB4[GetPlayerId(A7[4])]=60
set KC4[GetPlayerId(A7[4])]=18
set KA4[GetPlayerId(A7[5])]=68
set KB4[GetPlayerId(A7[5])]=42
set KC4[GetPlayerId(A7[5])]=4
endfunction
function IW8 takes nothing returns nothing
local integer T8
local integer U8
set EZ7="IW8"
set Q[GetPlayerId(Z7[0])]="|c00ff0303"
set Q[GetPlayerId(Z7[1])]="|c000042ff"
set Q[GetPlayerId(Z7[2])]="|c001ce6b9"
set Q[GetPlayerId(Z7[3])]="|c00540081"
set Q[GetPlayerId(Z7[4])]="|c00fffc01"
set Q[GetPlayerId(Z7[5])]="|c00ff8000"
set Q[GetPlayerId(A7[0])]="|c0020c000"
set Q[GetPlayerId(A7[1])]="|c00e55bb0"
set Q[GetPlayerId(A7[2])]="|c00959697"
set Q[GetPlayerId(A7[3])]="|c007ebff1"
set Q[GetPlayerId(A7[4])]="|c00106246"
set Q[GetPlayerId(A7[5])]="|c004e2a04"
call SetPlayerColor(Z7[0],PLAYER_COLOR_RED)
call SetPlayerColor(Z7[1],PLAYER_COLOR_BLUE)
call SetPlayerColor(Z7[2],PLAYER_COLOR_CYAN)
call SetPlayerColor(Z7[3],PLAYER_COLOR_PURPLE)
call SetPlayerColor(Z7[4],PLAYER_COLOR_YELLOW)
call SetPlayerColor(Z7[5],PLAYER_COLOR_ORANGE)
call SetPlayerColor(A7[0],PLAYER_COLOR_GREEN)
call SetPlayerColor(A7[1],PLAYER_COLOR_PINK)
call SetPlayerColor(A7[2],PLAYER_COLOR_LIGHT_GRAY)
call SetPlayerColor(A7[3],PLAYER_COLOR_LIGHT_BLUE)
call SetPlayerColor(A7[4],PLAYER_COLOR_AQUA)
call SetPlayerColor(A7[5],PLAYER_COLOR_BROWN)
set T8=1
set U8=5
loop
call QD7(Z7[T8])
if(AK7(Z7[T8]))then
call SetPlayerName(Z7[T8],I2S(T8)+Q97(Z7[T8])+"Computer")
endif
call QD7(A7[T8])
if(AK7(A7[T8]))then
call SetPlayerName(A7[T8],I2S(5+T8)+Q97(A7[T8])+"Computer")
endif
set T8=T8+1
exitwhen T8>U8
endloop
endfunction
function IX8 takes unit SU7 returns boolean
return GetUnitAbilityLevel(SU7,1093678162)>0 and AI7(GetOwningPlayer(SU7))
endfunction
function IY8 takes real d returns boolean
return 2<d and d<3000
endfunction
function IZ8 takes nothing returns nothing
local integer T8=1
set EZ7="IZ8"
set Le=Z7[1]
loop
exitwhen AJ7(Le)or T8>5
set T8=T8+1
set Le=Z7[T8]
endloop
if not AJ7(Le)then
set Le=A7[1]
set T8=1
loop
exitwhen AJ7(Le)or T8>5
set T8=T8+1
set Le=A7[T8]
endloop
endif
endfunction
function IA8 takes player p,string IB8,integer IC8 returns nothing
local string id=I2S(GetPlayerId(p))
set EZ7="Traffic_GenericData"
call StoreInteger(IV4,id,IB8,IC8)
if AM7(Le)==false then
call IZ8()
endif
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,id,IB8)
endif
endfunction
function I38 takes string IB8,integer IC8 returns nothing
call StoreInteger(IV4,"Data",IB8,IC8)
if AM7(Le)==false then
call IZ8()
endif
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,"Data",IB8)
endif
endfunction
function I68 takes nothing returns boolean
local string s
if IsUnitIllusion(GetTriggerUnit())==false and GetUnitTypeId(GetTriggerUnit())!=1211117642 then
call I38("Learn"+I2S(GetPlayerId(GetTriggerPlayer())),GetLearnedSkill())
endif
return false
endfunction
function IL8 takes nothing returns boolean
local string s
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and IsUnitIllusion(GetTriggerUnit())==false and GetUnitTypeId(GetTriggerUnit())!=1211117642 then
call I38("Cast"+I2S(GetPlayerId(GetTriggerPlayer())),GetSpellAbilityId())
endif
return false
endfunction
function I18 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function I68))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function IL8))
set t=null
endfunction
function I08 takes string s,string I58,string I28 returns string
local string I_8=""
local integer i=0
local integer J48=StringLength(s)
local string J78
local integer J88=StringLength(I58)
local boolean J98=false
set EZ7="StringReplace"
loop
exitwhen i+1>J48
set J78=SubString(s,i,i+J88)
if J78!=I58 or J98 then
set I_8=I_8+SubString(s,i,i+1)
set i=i+1
else
set I_8=I_8+I28
set i=i+J88
set J98=true
endif
endloop
return I_8
endfunction
function JD8 takes player JE8,player JF8 returns string
local string s=(GetObjectName((1848656696)))
set EZ7="GetString_HeroDenied"
set s=I08(s,"$dead",Q[GetPlayerId(JE8)]+(KZ4[GetPlayerId((JE8))])+"|r")
set s=I08(s,"$killer",Q[GetPlayerId(JF8)]+(KZ4[GetPlayerId((JF8))])+"|r")
return s
endfunction
function JG8 takes nothing returns nothing
local integer i
local integer JH8=125
set EZ7="JG8"
call SetUnitOwner(KJ4,Z7[1],false)
set h4[512+GetPlayerId(Z7[1])]=KJ4
call SetUnitOwner(KK4,Z7[2],false)
set h4[512+GetPlayerId(Z7[2])]=KK4
call SetUnitOwner(KM4,Z7[3],false)
set h4[512+GetPlayerId(Z7[3])]=KM4
call SetUnitOwner(KN4,Z7[4],false)
set h4[512+GetPlayerId(Z7[4])]=KN4
call SetUnitOwner(KO4,Z7[5],false)
set h4[512+GetPlayerId(Z7[5])]=KO4
call SetUnitOwner(KP4,A7[1],false)
set h4[512+GetPlayerId(A7[1])]=KP4
call SetUnitOwner(KQ4,A7[2],false)
set h4[512+GetPlayerId(A7[2])]=KQ4
call SetUnitOwner(KR4,A7[3],false)
set h4[512+GetPlayerId(A7[3])]=KR4
call SetUnitOwner(KS4,A7[4],false)
set h4[512+GetPlayerId(A7[4])]=KS4
call SetUnitOwner(KT4,A7[5],false)
set h4[512+GetPlayerId(A7[5])]=KT4
set KU4[GetPlayerId(Z7[1])]=KJ4
set KU4[GetPlayerId(Z7[2])]=KK4
set KU4[GetPlayerId(Z7[3])]=KM4
set KU4[GetPlayerId(Z7[4])]=KN4
set KU4[GetPlayerId(Z7[5])]=KO4
set KU4[GetPlayerId(A7[1])]=KP4
set KU4[GetPlayerId(A7[2])]=KQ4
set KU4[GetPlayerId(A7[3])]=KR4
set KU4[GetPlayerId(A7[4])]=KS4
set KU4[GetPlayerId(A7[5])]=KT4
set i=1
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,JH8)
endif
set i=2
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,JH8)
endif
set i=3
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,JH8)
endif
set i=4
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,JH8)
endif
set i=5
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,JH8)
endif
set i=7
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,JH8)
endif
set i=8
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,JH8)
endif
set i=9
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,JH8)
endif
set i=10
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,JH8)
endif
set i=11
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,JH8)
endif
set KV4[GetPlayerId(Z7[1])]=GetUnitX(KU4[GetPlayerId(Z7[1])])
set KV4[GetPlayerId(Z7[2])]=GetUnitX(KU4[GetPlayerId(Z7[2])])
set KV4[GetPlayerId(Z7[3])]=GetUnitX(KU4[GetPlayerId(Z7[3])])
set KV4[GetPlayerId(Z7[4])]=GetUnitX(KU4[GetPlayerId(Z7[4])])
set KV4[GetPlayerId(Z7[5])]=GetUnitX(KU4[GetPlayerId(Z7[5])])
set KV4[GetPlayerId(A7[1])]=GetUnitX(KU4[GetPlayerId(A7[1])])
set KV4[GetPlayerId(A7[2])]=GetUnitX(KU4[GetPlayerId(A7[2])])
set KV4[GetPlayerId(A7[3])]=GetUnitX(KU4[GetPlayerId(A7[3])])
set KV4[GetPlayerId(A7[4])]=GetUnitX(KU4[GetPlayerId(A7[4])])
set KV4[GetPlayerId(A7[5])]=GetUnitX(KU4[GetPlayerId(A7[5])])
set KW4[GetPlayerId(Z7[1])]=GetUnitY(KU4[GetPlayerId(Z7[1])])
set KW4[GetPlayerId(Z7[2])]=GetUnitY(KU4[GetPlayerId(Z7[2])])
set KW4[GetPlayerId(Z7[3])]=GetUnitY(KU4[GetPlayerId(Z7[3])])
set KW4[GetPlayerId(Z7[4])]=GetUnitY(KU4[GetPlayerId(Z7[4])])
set KW4[GetPlayerId(Z7[5])]=GetUnitY(KU4[GetPlayerId(Z7[5])])
set KW4[GetPlayerId(A7[1])]=GetUnitY(KU4[GetPlayerId(A7[1])])
set KW4[GetPlayerId(A7[2])]=GetUnitY(KU4[GetPlayerId(A7[2])])
set KW4[GetPlayerId(A7[3])]=GetUnitY(KU4[GetPlayerId(A7[3])])
set KW4[GetPlayerId(A7[4])]=GetUnitY(KU4[GetPlayerId(A7[4])])
set KW4[GetPlayerId(A7[5])]=GetUnitY(KU4[GetPlayerId(A7[5])])
endfunction
function JI8 takes unit C17 returns boolean
local integer ID=GetUnitTypeId(C17)
set EZ7="oCv"
return ID==1848651862 or ID==1848651863 or ID==1848651826 or ID==1848651825 or ID==1848651864 or ID==1849897784 or ID==1848652107 or ID==1848651833
endfunction
function jw takes nothing returns nothing
if(GetOwningPlayer(GetEnumUnit())==Player(0))then
call SetUnitOwner(GetEnumUnit(),Z7[0],false)
if JI8(GetEnumUnit())==false then
call SetUnitColor(GetEnumUnit(),ConvertPlayerColor(0))
endif
else
call SetUnitOwner(GetEnumUnit(),A7[0],false)
if JI8(GetEnumUnit())==false then
call SetUnitColor(GetEnumUnit(),ConvertPlayerColor(6))
endif
endif
endfunction
function Np takes nothing returns nothing
local group JJ8=LD7()
set EZ7="Np"
call GroupEnumUnitsOfPlayer(JJ8,Player(0),Condition(function A47))
call ForGroup(JJ8,function jw)
call GroupClear(JJ8)
call GroupEnumUnitsOfPlayer(JJ8,Player(6),Condition(function A47))
call ForGroup(JJ8,function jw)
call L97(JJ8)
set JJ8=null
endfunction
function JK8 takes player p returns nothing
local integer i=0
local string jX=GetPlayerName(p)
local integer J48=StringLength(jX)
local integer jY=J48
set EZ7="oDv"
loop
exitwhen i==J48
if SubString(jX,i,i+1)=="("and SubString(jX,i-1,i)==" "then
set jY=i-1
call SetPlayerName(p,SubString(jX,0,jY))
set i=J48
else
set i=i+1
endif
endloop
endfunction
function JM8 takes nothing returns nothing
local integer JN8
local integer JO8
local integer T8
local integer U8
local integer x=0
local integer y=0
local integer i
local location JP8=GetRectCenter(pr)
local location JQ8=GetRectCenter(qr)
set EZ7="JM8"
if GetPlayerState(Z7[0],PLAYER_STATE_OBSERVER)!=0 or GetPlayerState(A7[0],PLAYER_STATE_OBSERVER)!=0 then
set V8=true
set Z7[0]=Player(13)
set A7[0]=Player(14)
set KX4=Player(0)
set KY4=Player(6)
call SetAllyColorFilterState(0)
loop
exitwhen x>5
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(0),true)
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(4),true)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(0),false)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(4),false)
set x=x+1
endloop
endif
call ForceAddPlayer(X7,Z7[0])
call ForceAddPlayer(X7,Z7[1])
call ForceAddPlayer(X7,Z7[2])
call ForceAddPlayer(X7,Z7[3])
call ForceAddPlayer(X7,Z7[4])
call ForceAddPlayer(X7,Z7[5])
call ForceAddPlayer(Y7,A7[0])
call ForceAddPlayer(Y7,A7[1])
call ForceAddPlayer(Y7,A7[2])
call ForceAddPlayer(Y7,A7[3])
call ForceAddPlayer(Y7,A7[4])
call ForceAddPlayer(Y7,A7[5])
call ForceAddPlayer(L8,Z7[1])
call ForceAddPlayer(L8,Z7[2])
call ForceAddPlayer(L8,Z7[3])
call ForceAddPlayer(L8,Z7[4])
call ForceAddPlayer(L8,Z7[5])
call ForceAddPlayer(L8,A7[1])
call ForceAddPlayer(L8,A7[2])
call ForceAddPlayer(L8,A7[3])
call ForceAddPlayer(L8,A7[4])
call ForceAddPlayer(L8,A7[5])
if V8 then
call ForceAddPlayer(L8,Player(0))
call ForceAddPlayer(L8,Player(6))
endif
set x=0
set y=0
loop
exitwhen x>5
loop
exitwhen y>5
if(x!=y)then
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(0),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(1),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(2),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(3),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(4),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(5),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(6),false)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(7),false)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(0),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(1),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(2),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(3),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(4),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(5),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(6),false)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(7),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(0),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(1),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(2),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(3),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(4),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(5),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(6),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(7),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(0),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(1),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(2),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(3),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(4),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(5),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(6),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(7),false)
endif
set y=y+1
endloop
set y=0
set x=x+1
endloop
call SetPlayerTeam(Z7[0],0)
call SetPlayerTeam(Z7[1],0)
call SetPlayerTeam(Z7[2],0)
call SetPlayerTeam(Z7[3],0)
call SetPlayerTeam(Z7[4],0)
call SetPlayerTeam(Z7[5],0)
call SetPlayerTeam(A7[0],1)
call SetPlayerTeam(A7[1],1)
call SetPlayerTeam(A7[2],1)
call SetPlayerTeam(A7[3],1)
call SetPlayerTeam(A7[4],1)
call SetPlayerTeam(A7[5],1)
call SetPlayerName(Z7[0],(GetObjectName((1848652622))))
call SetPlayerName(A7[0],(GetObjectName((1848652623))))
call SetPlayerName(B7,(GetObjectName((1848657208))))
call JG8()
if(Z7[0]!=Player(0)or A7[0]!=Player(6))then
call Np()
endif
call IW8()
set JO8=q8(X7)
set JN8=q8(Y7)
set T8=1
set U8=5
loop
exitwhen T8>U8
if(AM7(Z7[T8]))then
call SetPlayerState(Z7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ JO8))
call SetPlayerState(Z7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
if(AM7(A7[T8]))then
call SetPlayerState(A7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ JN8))
call SetPlayerState(A7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
set T8=T8+1
endloop
call SetPlayerHandicapXP(Z7[1],1)
call SetPlayerHandicapXP(Z7[2],1)
call SetPlayerHandicapXP(Z7[3],1)
call SetPlayerHandicapXP(Z7[4],1)
call SetPlayerHandicapXP(Z7[5],1)
call SetPlayerHandicapXP(A7[1],1)
call SetPlayerHandicapXP(A7[2],1)
call SetPlayerHandicapXP(A7[3],1)
call SetPlayerHandicapXP(A7[4],1)
call SetPlayerHandicapXP(A7[5],1)
call SetPlayerState(Z7[0],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Z7[1],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Z7[2],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Z7[3],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Z7[4],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Z7[5],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[0],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[1],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[2],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[3],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[4],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[5],PLAYER_STATE_GIVES_BOUNTY,1)
call IZ8()
call IV8()
call JK8(Z7[1])
call JK8(Z7[2])
call JK8(Z7[3])
call JK8(Z7[4])
call JK8(Z7[5])
call JK8(A7[1])
call JK8(A7[2])
call JK8(A7[3])
call JK8(A7[4])
call JK8(A7[5])
set x=1
loop
exitwhen x>5
if AM7(Z7[x])then
call CreateUnitAtLoc(Z7[x],1848651843,JP8,bj_UNIT_FACING)
endif
if AM7(A7[x])then
call CreateUnitAtLoc(A7[x],1848651843,JQ8,bj_UNIT_FACING)
endif
set x=x+1
endloop
call RemoveLocation(JP8)
call RemoveLocation(JQ8)
set i=0
loop
set KZ4[i]=GetPlayerName(Player(i))
set i=i+1
exitwhen i==16
endloop
set JP8=null
set JQ8=null
endfunction
function JR8 takes nothing returns nothing
local integer i=1
set EZ7="JR8"
set KL4=1
set K34[1]=1215723364
set MI4[1]=1747989338
set K64[1]=1848654165
set MH4[1]="ReplaceableTextures\\CommandButtons\\BTNAvengingWatcher.blp"
call DK8(K34[1],"stand 4")
call DG8(K34[1],1.35,MI4[1])
set MJ4[i]="Cheap items such as Bracers, Bottle and Magic Stick help give Vengeful Spirit what she needs to use Magic Missile and Swap safely and frequently."
set MK4[i]="By getting Magic Missile first, Vengeful Spirit should take advantage of this powerful stun by moving around the map instead of simply farming in a lane."
set MM4[i]="It sometimes a good idea to save the Command Aura for later in the game when it will give your team more damage."
set MN4[i]="Wave of Terror is used to provide sight, giving you vision over an area or providing an opportunity to use Swap."
set MO4[i]="Swap will allow you to isolate a key hero on their team, sometimes your sacrifice is needed to win the battle and maybe even the game."
set i=i+1
set K34[2]=1215128178
set MI4[2]=1747989552
set K64[2]=1848654145
set MH4[2]="ReplaceableTextures\\CommandButtons\\BTNAvatar.blp"
call DK8(K34[2],"attack slam alternate")
call DG8(K34[2],1.3,MI4[2])
set MJ4[i]="When using Arc lightning, try to kill creeps and harass your opponent at the same time"
set MK4[i]="When ganking, you can use Lightning Bolt to ensure you will not lose sight of the target quickly."
set MM4[i]="Lightning Bolt has a mini-stun that can be used against channeling spells and teleporting heroes."
set MN4[i]="Static Field is extremely powerful throughout the game: Use your spells as frequently as possible during fights."
set MO4[i]="Both Lightning Bolt and Wrath of the Thundergod reveal invisible units. Wrath will not damage invisible units."
set i=i+1
set K34[3]=1164799855
set MI4[3]=1747989553
set K64[3]=1848654137
set MH4[3]="ReplaceableTextures\\CommandButtons\\BTNDryad.blp"
call DK8(K34[3],"stand 4")
call DG8(K34[3],1,MI4[3])
set MJ4[i]="Enchant can be used on neutral creeps, meaning Enchantress can fight and use neutral creeps to engage enemy heroes effectively."
set MK4[i]="Nature's Attendants heals in an area AOE, so make sure you're far from creeps if you only want to heal yourself."
set MM4[i]="Untouchable is great against physical attacks, but it does not help you survive huge burst damage nukes."
set MN4[i]="Impetus deals negligible damage at short range; switch to normal attacks if your target gets close to save mana."
set MO4[i]="Impetus deals pure damage, making it a great tool against heroes with a lot of resistance because it is not reduced."
set i=i+1
set K34[4]=1328558160
set MI4[4]=1747989554
set K64[4]=1848654136
set MH4[4]="ReplaceableTextures\\CommandButtons\\BTNSeaElemental.blp"
call DK8(K34[4],"stand 2")
call DG8(K34[4],1,MI4[4])
set MJ4[i]="Waveform is extremely powerful: Used for damage, chasing, escaping, it even allows you to dodge some spells by casting it at the right time."
set MK4[i]="Morph allows you to manipulate your Agility and Strength. Using the Strength Morph ('F') can act as a heal to help you survive between spells."
set MM4[i]="Use Morph Replicate to take the location of your Replicated unit, making it great for a quick escape or simply as a free teleport."
set MN4[i]="Replicate is usually cast on the strongest ally or enemy to a fight. Certain hero passives or items will retain their effects, so Replicate those heroes."
set MO4[i]="Eye of Skadi and Linken's Sphere are two examples of Statistic-increasing items which give Morphling a lot of versatility and the ability to cast spells often."
set i=i+1
set K34[5]=1214931305
set MI4[5]=1747989555
set K64[5]=1848654167
set MH4[5]="ReplaceableTextures\\CommandButtons\\BTNJaina.blp"
call DK8(K34[5],"stand victory")
call DG8(K34[5],1,MI4[5])
set MJ4[i]="CM is a fragile support hero: Items like Bracers and Phase Boots will help her survive and deal with her low movement speed and armor."
set MK4[i]="A few points of Brilliance Aura early on provides your team with massive amounts of extra mana."
set MM4[i]="Enemies hit by Frostbite can still cast spells, so don't take them lightly. "
set MN4[i]="Frostbite on non-hero units will last 10 seconds. This can be useful for killing neutral creeps that are level 5 or lower as well."
set MO4[i]="There are two items that can help you with the perfect Freezing Field: Placement with Kelen's Dagger and the spell immunity of Black King Bar."
set i=i+1
set K34[6]=1211117617
set MI4[6]=1747989556
set K64[6]=1848654134
set MH4[6]="ReplaceableTextures\\CommandButtons\\BTNFelGuardBlue.tga"
call DK8(K34[6],"spell")
call DG8(K34[6],1,MI4[6])
set MJ4[i]="Storm Bolt is a skill Sven should usually get early because of its damage and stun. "
set MK4[i]="Take advantage of Storm Bolt's area of effect by hitting additional enemy creeps and heroes whenever possible. "
set MM4[i]="Try to be near your allies when you cast Warcry."
set MN4[i]="Only items that increase Strength will give you additional damage from effect of God's Strength."
set MO4[i]="Casting God's Strength before engaging in fights or casting Storm Bolt will allow you to get additional attacks on your opponent."
set i=i+1
set K34[7]=1212363833
set MI4[7]=1747989557
set K64[7]=1848654160
set MH4[7]="ReplaceableTextures\\CommandButtons\\BTNSeaWitch.blp"
call DK8(K34[7],"spell")
call DG8(K34[7],1,MI4[7])
set MJ4[i]="Opponents can attack and cast spells while Ensnared. However, it will work on magic immune units and reveal invisible heroes until the duration expires."
set MK4[i]="Mirror Image can be used defensively to avoid certain spells and dispel debuffs or channeling spells."
set MM4[i]="Items that provide attribute bonuses improve your Image's power."
set MN4[i]="Enemies caught by Song of the Siren are invulnerable while asleep. Save your attacks and spells for after the spell expires."
set MO4[i]="Use Song of the Siren to isolate a magic immune or Cycloned hero (since they will not be affected), or to demolish buildings while enemies are asleep."
set i=i+1
set K34[8]=1333027688
set MI4[8]=1747989558
set K64[8]=1848654148
set MH4[8]="ReplaceableTextures\\CommandButtons\\BTNTauren.blp"
call DK8(K34[8],"attack slam")
call DG8(K34[8],1.1,MI4[8])
set MJ4[i]="Although he's a strength hero, Earthshaker (ES) actually plays more like a caster. Damage items are not very useful, but mana items can be nice."
set MK4[i]="A good cast of Fissure can isolate an opponent and cut off their escape. Practice often to achieve devastating results."
set MM4[i]="Kelen's Dagger is an incredible item on ES, it allows you to quickly position yourself for the perfect Fissure or Echoslam."
set MN4[i]="The timing of your spells is important, by spacing them out properly you can keep a group of heroes disabled for several seconds."
set MO4[i]="Due to Raigor's ability to split up an enemy team and keep them stunned, he is great for initiating fights."
set i=i+1
set K34[9]=1212365106
set MI4[9]=1747989559
set K64[9]=1848654168
set MH4[9]="ReplaceableTextures\\CommandButtons\\BTNSatyrTrickster.blp"
call DK8(K34[9],"stand 4")
call DG8(K34[9],1,MI4[9])
set MJ4[i]="Getting at least one level of Blink Strike and Smoke Screen help you survive to level 6 when you can learn Permanent Invisibility."
set MK4[i]="Attacking or using your spells makes you visible: Consider the fade time of Permanent Invisibility before placing yourself at risk."
set MM4[i]="Try to position Smoke Screen slightly behind enemies so that they spend more time in the cloud if they retreat."
set MN4[i]="Wraith Bands and later a Yasha or a Diffusal Blade will provide Rikimaru with cheap damage and chasing power for dispatching fragile heroes quickly."
set MO4[i]="Be careful of items that render you visible, such as Dust of Appearance, Sentry Wards or a Gem of True Sight."
set i=i+1
set K34[10]=1311781199
set MI4[10]=1747989560
set K64[10]=1848654169
set MH4[10]="ReplaceableTextures\\CommandButtons\\BTNDruidOfTheClaw.blp"
call DK8(K34[10],"spell slam")
call DG8(K34[10],1,MI4[10])
call DG8(1848652083,1.1,MI4[10])
call DG8(1848652084,1.2,MI4[10])
call DG8(1848652085,1.3,MI4[10])
call DG8(1848651828,1,MI4[10])
call DG8(1848652088,1.1,MI4[10])
call DG8(1848652099,1.2,MI4[10])
call DG8(1848652103,1.3,MI4[10])
set MJ4[i]="Spirit Bear is great to have in the lane and allowing Syllabear to fight neutral creeps because of its high HP and damage. "
set MK4[i]="Leveling Spirit Bear also gets various bonuses that make it very powerful for fighting heroes and towers so it is usually the first thing to max out."
set MM4[i]="Your Spirit Bear might be able to handle a lot of damage, but if it dies you will also take damage (100 X its level). If you die, it dies as well."
set MN4[i]="Give items to your bear instead of Syllabear since it is usually engaging the enemy for you. Remember that stat-increasing items do not benefit the bear."
set MO4[i]="True Form gives Syllabear massive HP in his melee form, and Rabid and Battle Cry give both him and his Bear huge damage temporarily."
set i=i+1
set K34[11]=1211117620
set MI4[11]=1747989561
set K64[11]=1848654170
set MH4[11]="ReplaceableTextures\\CommandButtons\\BTNSorceress.blp"
call DK8(K34[11],"stand victory")
call DG8(K34[11],1.2,MI4[11])
set MJ4[i]="Light Strike Array is usually a good skill to get at level 1 because it provides you with a stun."
set MK4[i]="Target the ground in their direction instead of clicking on enemies to maximize Dragon Slave's long range."
set MM4[i]="Cheap items will help Lina do her job: Bracers, Bottle, Phase Boots. A Point booster provides a nice HP/mana bonus for its cost."
set MN4[i]="Fiery Soul can help you maneuver better during a fight."
set MO4[i]="Try to stun as many heroes as possible during team fights"
set i=i+1
set K34[12]=1315070563
set MI4[12]=1747989569
set K64[12]=1848656181
set MH4[12]="ReplaceableTextures\\CommandButtons\\BTNChaosBlademaster.blp"
call DK8(K34[12],"stand victory")
call DG8(K34[12],1,MI4[12])
set MJ4[i]="Blade Fury is your most important skill early game for getting hero kills and avoiding magic damage."
set MK4[i]="Avoid follow-command (right-clicking) heroes with Blade Fury and instead click the ground near the opponent."
set MM4[i]="Isolate enemy heroes before using Omnislash to prevent Juggernaut from attacking multiple targets and doing less damage."
set MN4[i]="Increasing your attack speed will give you 'extra attacks' during Omnislash, which are treated like a normal attack (in terms of damage and orb effects)."
set MO4[i]="Protect the 1-HP Healing Ward in battles and it can prolong and save the lives of your entire team."
set i=i+1
set K34[13]=1311781185
set MI4[13]=1747989570
set K64[13]=1848654135
set MH4[13]="ReplaceableTextures\\CommandButtons\\BTNSpellBreaker.blp"
call DK8(K34[13],"stand ready")
call DG8(K34[13],1,MI4[13])
set MJ4[i]="Glaives of Wisdom is useful to get early because it is useful for killing creeps and harassing your opponent manually ('W' and then the target)."
set MK4[i]="Curse of the Silent will cause an enemy to lose HP/mana if they do not choose to use their spells, or cannot use their spells (disabled, silenced, cooldown)."
set MM4[i]="Last Word will prevent enemies from using multiple spells on you and your team at the same time provided you get close enough."
set MN4[i]="Global Silence can be used for initiating on enemies or saving allies early on. Try to pay attention to your teammates and enemies, even those not nearby."
set MO4[i]="Global Silence will also give your allies the opportunity in team battles to use their spells without repercussions - making it a powerful control spell."
set i=i+1
set K34[14]=1214344551
set MI4[14]=1747989571
set K64[14]=1848654150
set MH4[14]="ReplaceableTextures\\CommandButtons\\BTNTreant.blp"
call DK8(K34[14],"stand 3")
call DG8(K34[14],0.72,MI4[14])
set MJ4[i]="Thanks to his high base damage and survivability, Rooftrellen can usually obtain high-tier damage or caster items depending on the needs of the team."
set MK4[i]="Living armor adds significant defensive bonuses to an allied unit. It can even be cast on buildings to make them more resilient and provide regeneration."
set MM4[i]="Nature's Guise is more than an escape tool, it can be used offensively as well. Use it to position allies and yourself near trees before surprising the enemy."
set MN4[i]="Use Eyes in the Forest whenever you can to gain vision of key locations such as the rune spots, neutral creep camps and Roshan."
set MO4[i]="Enemies under the effect of Overgrowth can still use spells and items, so make sure your team acts quickly while enemies remain immobilized."
set i=i+1
set K34[15]=1328558389
set MI4[15]=1747990352
set K64[15]=1848657731
set MH4[15]="ReplaceableTextures\\CommandButtons\\BTNHeroTaurenChieftain.blp"
call DK8(K34[15],"stand victory")
call DG8(K34[15],1.1,MI4[15])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[16]=1214409837
set MI4[16]=1747989573
set K64[16]=1848654151
set MH4[16]="ReplaceableTextures\\CommandButtons\\BTNHeroArchMage.blp"
call DK8(K34[16],"stand victory")
call DG8(K34[16],1.2,MI4[16])
call DG8(1211119192,1.5,MI4[16])
call DG8(1211119193,1.5,MI4[16])
call DG8(1211119191,1.5,MI4[16])
set MJ4[i]="Chakra Magic is an amazing support skill that you should cast on allies as often as possible if they have powerful spells."
set MK4[i]="Illuminate can be useful for earning gold or clearing creeps quickly, but channeling the blast can leave you vulnerable. "
set MM4[i]="Mana Leak gives you the offensive: an enemy that moves loses his resources to cast spells, but if he does not, you can punish him with spells and attacks."
set MN4[i]="When in your Spirit Form, use Blinding Light to push enemies aside, and Recall for saving or calling on the assistance of an ally."
set MO4[i]="Keeper of the Light usually needs to stay back in fights and make use of the long range of his spells as a support hero when pushing and defending."
set i=i+1
set K34[17]=1215657064
set MI4[17]=1747989574
set K64[17]=1848654166
set MH4[17]="ReplaceableTextures\\CommandButtons\\BTNFurbolgTracker.blp"
call DK8(K34[17],"attack spell")
call DG8(K34[17],1.2,MI4[17])
set MJ4[i]="Get Fury Swipes and Overpower early. Fury Swipes is a very powerful orb effect on Ursa, replacing it with another is not advised."
set MK4[i]="Ursa is a very effective hero to fight neutral creeps with: Vladimir's Offering is a recommended item choice."
set MM4[i]="Thanks to Enrage, Ursa usually purchases items that increase HP or Strength over Agility and Damage items."
set MN4[i]="It is a good idea to fight the two ancient camps when you need a quick boost in experience and gold. They are marked red in your minimap."
set MO4[i]="Certain items like Kelen's Dagger and Lothar's Edge will help both close the distance on enemies and take them by surprise."
set i=i+1
set K34[18]=1215130471
set MI4[18]=1747989575
set K64[18]=1848656177
set MH4[18]="ReplaceableTextures\\CommandButtons\\BTNOgreMagi.blp"
call DK8(K34[18],"sleep")
call DG8(K34[18],1.4,MI4[18])
set MJ4[i]="Buying a few Clarity Potions, Ring of Basilius or Bottle in the beginning of the game will help you cast a few more spells."
set MK4[i]="Fireblast provides a disable, Ignite provides a slow. Both deal damage, usually making them good skills early."
set MM4[i]="Ogre Magi has a lot of survivability but he does need the ability to use his spells: an Arcane Ring might be the only item you will need all game."
set MN4[i]="Use Bloodlust to help teammates chase and escape enemies and on the hero capable of dealing the most damage before major battles."
set MO4[i]="Focus heroes that need to be shut down quickly with Fireblast: Hopefully they are repeatedly damaged and disabled by the effect of Multicast."
set i=i+1
set K34[19]=1316252014
set MI4[19]=1747989576
set K64[19]=1848656193
set MH4[19]="ReplaceableTextures\\CommandButtons\\BTNHeroTinker.blp"
call DK8(K34[19],"stand 2")
call DG8(K34[19],1,MI4[19])
set MJ4[i]="Laser and Missile give Tinker massive burst damage, so it is usually a good idea to get these two skills before Rearm, your ultimate."
set MK4[i]="Laser is not reduced by magic resistance or armor; you deal the number in the description exactly."
set MM4[i]="You can use the active effects of items indefinitely with Rearm, which makes Boots of Travel a very powerful item for Tinker."
set MN4[i]="March of the Machines can be very useful for killing creeps quickly, its large area of effect makes it useful for pushing and team fights."
set MO4[i]="Level 1 of Rearm is generally enough until much later when you have the mana pool to support levels 2 and 3."
set i=i+1
set K34[20]=1164799603
set MI4[20]=1747989577
set K64[20]=1848656180
set MH4[20]="ReplaceableTextures\\CommandButtons\\BTNFurion.blp"
call DK8(K34[20],"spell")
call DG8(K34[20],1.2,MI4[20])
set MJ4[i]="Get Force of Nature early if you plan on leaving the lane to kill neutral creeps. Start with a Ring of Basilius to provide you with mana and armor."
set MK4[i]="Invest points in Teleportation, it gives you the mobility to be anywhere in the map: Cancel the spell if you change your mind by clicking 'S'."
set MM4[i]="Sprout can be extremely useful offensively and defensively so get at least one point in it. Higher levels increase the duration but also the mana cost."
set MN4[i]="Teleportation shows allies and enemies where you intend to go, so if you want to surprise enemies, teleport where they cannot see."
set MO4[i]="Wrath of Nature is a great farming tool but also a powerful nuke on enemy heroes: Hit other units nearby to deal more damage to the intended target."
set i=i+1
set K34[21]=1332179560
set MI4[21]=1747989578
set K64[21]=1848656179
set MH4[21]="ReplaceableTextures\\CommandButtons\\BTNHellScream.blp"
call DK8(K34[21],"stand victory")
call DG8(K34[21],1,MI4[21])
set MJ4[i]="Get Spirit Lance and Doppelwalk first because Juxtapose is better when your illusions have more health and damage."
set MK4[i]="Beware of the high mana costs of your spells early game, especially for Doppelwalk, which can be an escape mechanism."
set MM4[i]="Keep your opponents guessing by controlling your illusions created by Doppelwalk and Juxtapose."
set MN4[i]="Your illusions are amazing for pushing later on. Focus creeps and heroes first because illusions will not create new ones when attacking buildings."
set MO4[i]="Diffusal Blade and Manta Style are good choices of because they make his images much stronger by adding Agility directly."
set i=i+1
set K34[22]=1432580716
set MI4[22]=1747989579
set K64[22]=1848656183
set MH4[22]="ReplaceableTextures\\CommandButtons\\BTNMountainGiant.blp"
call DK8(K34[22],"spell")
call DG8(K34[22],0.5,MI4[22])
set MJ4[i]="Buy items that give you at least 3 Intelligence or 39 mana in the beginning of the game so that you can use both of your spells at level 2."
set MK4[i]="Avalanche and Toss should be the two spells you level first because they make you a force to be reckoned with early game."
set MM4[i]="You can sometimes kill a hero outright by casting Avalanche on him, and then Tossing him on the Avalanche area of effect before the animation ends."
set MN4[i]="To ensure that you Toss your desired target, isolate him by making him the only one in the area of effect. Kelen's Dagger can help you with placement."
set MO4[i]="Tiny deals most of his damage through Avalanche and Toss, so the reduced attack speed from Grow is less important than the bonuses given."
set i=i+1
set K34[23]=1211117643
set MI4[23]=1747989580
set K64[23]=1848656185
set MH4[23]="ReplaceableTextures\\CommandButtons\\BTNGoblinSapper.blp"
call DK8(K34[23],"stand 2")
call DG8(K34[23],1,MI4[23])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[24]=1211117633
set MI4[24]=1747989581
set K64[24]=1848656194
set MH4[24]="ReplaceableTextures\\CommandButtons\\BTNHeroFarseer.blp"
call DK8(K34[24],"spell chain lightning")
call DG8(K34[24],1,MI4[24])
set MJ4[i]="Chen can take control of high level neutral creeps with Holy Persuasion, making him extremely powerful at low levels even without items."
set MK4[i]="Neutrals with special abilities usually are more useful, try to find out what has a disable or slow as this will be much better for attacking heroes with."
set MM4[i]="When preparing to attack from the forest, start with Penitence to slow enemies. Engage enemies from the side or from behind to catch them off guard."
set MN4[i]="Chen excels as a support hero, items that contribute to teammates such as Mekansm usually benefit the team more than damage items."
set MO4[i]="Hand of God is really useful early on for helping allies across the map. Later, it can be used to assist with pushing or defending."
set i=i+1
set K34[25]=1160785973
set MI4[25]=1747989582
set K64[25]=1848656453
set MH4[25]="ReplaceableTextures\\CommandButtons\\BTNHuntress.blp"
call DK8(K34[25],"spell")
call DG8(K34[25],1,MI4[25])
set MJ4[i]="The level of Lucent Beam determines the damage of Eclipse, making it the most important spell to get first. "
set MK4[i]="Moon Glaives can be useful early if you plan to kill neutral creeps. Lifesteal items like Helm of the Dominator can help you survive against neutral creeps."
set MM4[i]="Try to cast Eclipse on enemy heroes when other units are not present to maximize the damage dealt to a single target. "
set MN4[i]="Later on with some attack speed, Lunar Blessing and Moon Glaives provide you with both massive damage and pushing power."
set MO4[i]="You should also consider items that allow you to land Eclipse successfully and increase your carry potential in battles, such as a Black King Bar."
set i=i+1
set K34[26]=1433631084
set MI4[26]=1747989583
set K64[26]=1848656452
set MH4[26]="ReplaceableTextures\\CommandButtons\\BTNRifleman.blp"
call DK8(K34[26],"spell")
call DG8(K34[26],1.1,MI4[26])
set MJ4[i]="Headshot will provide you with bonus damage and a short stun, making it useful for killing creeps and harassing with his incredible attack animation."
set MK4[i]="Sniper usually needs to find a combination of damage, attack speed and survivability that allow him to deal significant damage but survive to do so."
set MM4[i]="Sniper is very fragile so he needs to maintain his range. Getting Take Aim and/or Shrapnel can help provide means of staying out of harm's way."
set MN4[i]="Shrapenl can also be used for slowing opponents, pushing or defending against large waves of creeps."
set MO4[i]="Try to use Assassinate to heavily damage an enemy before the fight even begins to give your team an advantage."
set i=i+1
set K34[27]=1311781174
set MI4[27]=1747989584
set K64[27]=1848656184
set MH4[27]="ReplaceableTextures\\CommandButtons\\BTNForestTroll.blp"
call DK8(K34[27],"stand 3")
call DG8(K34[27],1.25,MI4[27])
call DG8(1311781442,1.25,MI4[27])
call DG8(1311781175,1.25,MI4[27])
set MJ4[i]="Berserker's Rage gives Troll the option of melee combat, which gives him many powerful offensive bonuses at the cost of losing his ranged ability."
set MK4[i]="roll Warlord generally does not have to worry about attack speed thanks to his set of skills, go for damage or survivability items instead."
set MM4[i]="Blind will prevent your opponents from landing all their attacks, making it harder from them to harass you or kill your creeps for gold."
set MN4[i]="Play defensively and fight neutral creeps too. Switch to melee form and it will allow you to have an easier time."
set MO4[i]="In team battles, it is vital that you cast Blind on the enemy hero that deals the most damage as this will greatly reduce their damage output."
set i=i+1
set K34[28]=1332898670
set MI4[28]=1747989815
set K64[28]=1848654132
set MH4[28]="ReplaceableTextures\\CommandButtons\\BTNShadowHunter.blp"
call DK8(K34[28],"stand victory")
call DG8(K34[28],1,MI4[28])
set MJ4[i]="At least one level of Shackles is advised early on for immobilizing opponents. Remember that it is channeling so it can be interrupted or broken by yourself."
set MK4[i]="Rhasta needs survivability and the mana to use his spells: Bracers, Null Talismans, Point Booster are examples of items that will help out a lot."
set MM4[i]="Forked Lightning is your primary nuke and finisher due to its range and ability to hit multiple targets, so it more effective to get it earlier than later."
set MN4[i]="Use Shackles and Voodoo on enemy heroes when casting Mass Serpent Ward. You can even surround an enemy completely with the right timing."
set MO4[i]="Mass Serpent Wards can clear creeps quickly and deal a lot of damage over time to buildings, making them really useful for pushing and defending."
set i=i+1
set K34[29]=1328558406
set MI4[29]=1747993417
set K64[29]=1848658771
set MH4[29]="ReplaceableTextures\\CommandButtons\\BTNWispHero.blp"
call DK8(K34[29],"stand 3")
call DG8(K34[29],1.30,MI4[29])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[30]=1315988077
set MI4[30]=1747989811
set K64[30]=1848656207
set MH4[30]="ReplaceableTextures\\CommandButtons\\BTNPandarenBrewmaster.blp"
call DK8(K34[30],"stand ready")
call DG8(K34[30],1,MI4[30])
set MJ4[i]="Thunder Clap is a great skill early game but you may need to invest in regeneration items such as a Bottle, Magic Stick, Ring of Basilius or Void Stone."
set MK4[i]="Drunken Haze works not only as a slow, but the miss chance reduces the damage severely for enemy heroes."
set MM4[i]="Primal Split is not only for escaping: Once you master your three Pandas, Earth, Storm and Fire, you can use them offensively as well."
set MN4[i]="In Primal Split form, Mangix has two useful disables that can be used against enemies: Storm's Cyclone and Earth's Hurl Boulder."
set MO4[i]="Mangix usually initiates for the team, so survivability items are helpful, investing in a Kelen's Dagger to help land Thunder Clap is often a good idea."
set i=i+1
set K34[31]=1211117616
set MI4[31]=1747989592
set K64[31]=1848656206
set MH4[31]="ReplaceableTextures\\CommandButtons\\BTNCentaurKhan.blp"
call DK8(K34[31],"stand 3")
call DG8(K34[31],1.75,MI4[31])
set MJ4[i]="Return should be leveled if Centaur plans to fight neutral creeps, otherwise Double Edge is more useful in the lane."
set MK4[i]="Thanks to a high strength gain and the bonus strength from your ultimate, Centaur is a great at heading into battle first and receiving damage."
set MM4[i]="A Hood of Defiance can prove to be just as useful as a Vanguard depending on whether the other team has a lot of magical spells."
set MN4[i]="Avoid putting yourself at risk after using Double Edge. You can use it to commit suicide if you are about to die to deny opponents experience and gold."
set MO4[i]="Kelen's Dagger is a great way of initiating on opponents and dealing with his slow casting animation of Stomp."
set i=i+1
set K34[32]=1315007329
set MI4[32]=1747989810
set K64[32]=1848656205
set MH4[32]="ReplaceableTextures\\CommandButtons\\BTNakama.blp"
call DK8(K34[32],"stand var4")
call DG8(K34[32],1.2,MI4[32])
set MJ4[i]="Shuriken Toss, Wind Walk and Track are much more useful than Jinada early on."
set MK4[i]="You're going to need mana regen: Bottle, Ring Of Basillius and Void Stone are examples of good options. "
set MM4[i]="Use Wind Walk cautiously: If you wait until the cooldown is complete before breaking out of invisibility, you can cast it again immediately afterward."
set MN4[i]="Shuriken Toss and Wind Walk deal a lot of damage quickly: Search the map often for low HP heroes to hunt. "
set MO4[i]="Use Track on a nearby enemy hero to allow you and your allies to outrun them. Also cast it on nearly dead heroes for bonus gold."
set i=i+1
set K34[33]=1215063922
set MI4[33]=1747989590
set K64[33]=1848656209
set MH4[33]="ReplaceableTextures\\CommandButtons\\BTNTheCaptain.blp"
call DK8(K34[33],"stand victory")
call DG8(K34[33],1.35,MI4[33])
call DG8(1211117638,1,MI4[33])
call DG8(1211117639,1,MI4[33])
call DG8(1211117637,1,MI4[33])
call C27(1211117639,255,255,200)
call C27(1211117638,255,255,200)
call C27(1211117639,255,200,200)
set MJ4[i]="Breath Fire is a strong nuke and farming ability. However, against difficult opponents, Dragon's Blood is very useful."
set MK4[i]="Dragon Tail is the longest duration level 1 stun in the game. One point is usually sufficient until later on."
set MM4[i]="Thanks to the defensive bonuses on Dragon's Blood, he can often focus on other damage items instead of increasing armor and regeneration."
set MN4[i]="Level 1 of Elder Dragon Form has a special passive called Corrosive Attack, which deals significant damage over time against towers."
set MO4[i]="The ranged splash damage and slow of his Level 3 ultimate makes him extremely powerful; getting to level 16 is very important for DK."
set i=i+1
set K34[34]=1164207469
set MI4[34]=1747989588
set K64[34]=1848656210
set MH4[34]="ReplaceableTextures\\CommandButtons\\BTNHeroDemonHunter.blp"
call DK8(K34[34],"stand channel")
call DG8(K34[34],1,MI4[34])
set MJ4[i]="Blink is very versatile, allowing you to chase, escape and even avoid certain spells. It is definitely worth at least one point in the beginning."
set MK4[i]="You can also use Mana Break to prevent enemy heroes from casting spells on you, but be careful since it forces you to get in melee range to attack."
set MM4[i]="Spell Shield might be useful for reducing magic damage, but it does not prevent you from being disabled or status effects (slow, poison, etc.)."
set MN4[i]="Offensive items without orb effects such as a Battlefury, Monkey King Bar or Butterfly are usually desired over items that would override your Mana Break."
set MO4[i]="Sometimes survivability is just as important as damage, items such as Linken's Sphere or Manta Style offer a good mix of both offense and defense."
set i=i+1
set K34[35]=1315074670
set MI4[35]=1747989813
set K64[35]=1848656204
set MH4[35]="ReplaceableTextures\\CommandButtons\\BTNBansheeRanger.tga"
call DK8(K34[35],"spell")
call DG8(K34[35],1,MI4[35])
set MJ4[i]="Frost Arrows make Drow an excellent chaser early game and allow her to harass opponents safely by manually casting them (clicking 'R' and the target)."
set MK4[i]="An early level of Silence is great for preventing opponents from using multiple spells on you or your allies."
set MM4[i]="Trueshot Aura and Marksmanship provide Traxex with plenty of damage even with just a few Wraith Bands and Power Treads."
set MN4[i]="Lothar's Edge provides damage and an escape mechanism, the latter of which can help Traxex survive."
set MO4[i]="Stay out of danger in major battles, only close in on your enemies when you are chasing and finishing off heroes near the end."
set i=i+1
set K34[36]=1214345830
set MI4[36]=1747989594
set K64[36]=1848656211
set MH4[36]="ReplaceableTextures\\CommandButtons\\BTNArthas.blp"
call DK8(K34[36],"stand victory")
call DG8(K34[36],1.1,MI4[36])
set MJ4[i]="Omniknight is a powerful support hero, items that provide mana such as Arcane Ring help make sure that you can use all your spells."
set MK4[i]="Purification can be used offensively and defensively: The unit you cast it on will deal damage around it, making it a powerful heal and nuke."
set MM4[i]="Degen Aura is a very strong passive slow that is useful both to chase down enemy heroes and help you and your allies escape as well."
set MN4[i]="Repel is used to remove buffs from allies and enemies, and to prevent heroes with spells from being interrupted or damage dealers from being disabled."
set MO4[i]="Guardian Angel makes a team nearly impervious to physical damage and provides 25/sec HP regeneration, use this time wisely to survive or attack."
set i=i+1
set K34[37]=1211117636
set MI4[37]=1747989587
set K64[37]=1848656203
set MH4[37]="ReplaceableTextures\\CommandButtons\\BTNBeastMaster.blp"
call DK8(K34[37],"spell slam")
call DG8(K34[37],1,MI4[37])
set MJ4[i]="Endurance Aura is usually more useful later in the game when your team is fighting together, so get your other skills first."
set MK4[i]="Call of the Wild is very powerful: The boar gives damage and slow, while the hawk can provide vision over runes, neutral creeps and other key locations."
set MM4[i]="Wild Axes are more useful early game and against heroes with less armor. Destroy trees with Wild Axes to surprise your opponents and for escaping."
set MN4[i]="Try casting Wild Axes behind the target to compensate for their movement. You can also manipulate their return path by moving Rexxar."
set MO4[i]="Find opportunities to use Roar whenever it is available. It is useful on heroes who have an escape mechanism or are immune to magic."
set i=i+1
set K34[38]=1160786000
set MI4[38]=1747989586
set K64[38]=1848656202
set MH4[38]="ReplaceableTextures\\CommandButtons\\BTNChimaera.blp"
call DK8(K34[38],"stand 3")
call DG8(K34[38],1,MI4[38])
set MJ4[i]="Dual Breath and Ice Path help to make Jakiro a strong offensive and defensive support hero. "
set MK4[i]="Jakiro can cast his spells immediately by clicking the nearby ground in the desired direction, sometimes this is more effective than clicking on the target."
set MM4[i]="A level of Liquid Fire early on can be useful for deterring physical attacks "
set MN4[i]="Macropyre is a slow but powerful spell, combine it with other spells (yours or a teammate) to make sure the opponent is standing in the area of effect."
set MO4[i]="It is often a good idea to purchase useful support items like Mekansm or Shiva's Guard, two items that also increase his low armor significantly."
set i=i+1
set K34[39]=1311781193
set MI4[39]=1747989812
set K64[39]=1848656201
set MH4[39]="ReplaceableTextures\\CommandButtons\\BTNHeroAlchemist.blp"
call DK8(K34[39],"stand 2")
call DG8(K34[39],1,MI4[39])
call DG8(1311781194,1,MI4[39])
call DG8(1311781192,1,MI4[39])
call DG8(1311781204,1,MI4[39])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[40]=1311781206
set MI4[40]=1747989591
set K64[40]=1848656200
set MH4[40]="ReplaceableTextures\\CommandButtons\\BTNPriestessOfTheMoon.blp"
call DK8(K34[40],"stand ready")
call DG8(K34[40],1,MI4[40])
set MJ4[i]="PotM can be extremely efficient and gank with just a few Wraith Bands, Boots of Speed and a Bottle."
set MK4[i]="Getting one level of Leap is usually sufficient early on until Starfall and Elune's Arrow are fully leveled."
set MM4[i]="Land your Elune's Arrow by coordinating with allies and predicting enemy movements. You can even hit invisible or faraway targets with practice."
set MN4[i]="Starfall hits a second time for half damage to one random enemy within 200 range, get close if you can to deal bonus damage"
set MO4[i]="Moonlight Shadow can be used to initiate or escape but sometimes it can be learned later when PotM can use it without compromising her mana pool."
set i=i+1
set K34[41]=1211117651
set MI4[41]=1747989585
set K64[41]=1848656212
set MH4[41]="ReplaceableTextures\\CommandButtons\\BTNStorm.blp"
call DK8(K34[41],"spell")
call DG8(K34[41],1,MI4[41])
set MJ4[i]="Do not get Overload at level 1 since you do not have any spells to activate its effect with."
set MK4[i]="Choosing which ability to max first can be difficult, but generally at least one point in all three skills is a good idea."
set MM4[i]="You have to wait 1 second after casting Static Remnant before it begins detecting nearby units for its explosion effect."
set MN4[i]="In addition to chasing and escaping, Lightning Ball can be used to dodge many spells with the right timing."
set MO4[i]="An item like Bloodstone is useful on Storm Spirit because the percentage-based mana cost of Lightning Ball makes regeneration an important asset."
set i=i+1
set K34[42]=1211117649
set MI4[42]=1747989593
set K64[42]=1848656199
set MH4[42]="ReplaceableTextures\\CommandButtons\\BTNHeadHunterBerserker.blp"
call DK8(K34[42],"stand alternate 3")
call DG8(K34[42],1.15,MI4[42])
set MJ4[i]="A level of Burning Spears early on is great for harassing enemy heroes. Use it manually by clicking 'R' then the desired target to avoid drawing focus fire."
set MK4[i]="Berserker's Blood makes you stronger as you take damage. The bonuses stop when you have 51% HP, so there is little point in taking additional damage."
set MM4[i]="Life Break deals damage based on the remaining health of the target, making it strongest at the beginning of a fight. "
set MN4[i]="Inner Vitality heals more when you have less than 40% of your life, but avoid making the mistake of casting it too late in battles."
set MO4[i]="Survivability while in low health is important for Huskar: Consider items such as Armlet of Mordiggan, Black King Bar, or Heart of Tarrasque."
set i=i+1
set K34[43]=1160786265
set MI4[43]=1747989816
set K64[43]=1848656198
set MH4[43]="ReplaceableTextures\\CommandButtons\\BTNAssassin.blp"
call DK8(K34[43],"stand victory")
call DG8(K34[43],1.2,MI4[43])
set MJ4[i]="Refraction is a great way of surviving in a lane, just be careful not to get hit by creeps too much."
set MK4[i]="Meld starts cooling down when you click the spell, so you can hit him twice with it if you can predict your enemy's movements."
set MM4[i]="Traps can be used for vision, most effectively in cramped areas like the end of ramps or at the rune powerup spots."
set MN4[i]="You can farm extremely fast by positioning yourself so that the Psi Blades splash on multiple creeps at once."
set MO4[i]="Placing a trap or two before engaging a fight can be a good idea, to cut off possible escape and/or chase routes."
set i=i+1
set K34[44]=1311780930
set MI4[44]=1747989808
set K64[44]=1848656197
set MH4[44]="ReplaceableTextures\\CommandButtons\\BTNFaerieDragon.blp"
call DK8(K34[44],"attack spell")
call DG8(K34[44],1.1,MI4[44])
set MJ4[i]="Illusory Orb and Jaunt are used to travel short distances quickly, but if you wait too long to Jaunt, you will lose the opportunity."
set MK4[i]="Puck is very fragile early game, some Bracers or Null Talismans and a level of Phase Shift can help you survive."
set MM4[i]="Using Phase Shift manually instead of Autocast will prevent stray attacks from triggering it on Autocast. In general you will have better control of its use."
set MN4[i]="Waning Rift deals damage and silences, but forces you to be close enough. Use Illusory Orb or Dream Coil to help you land the spell on enemies."
set MO4[i]="Puck is a great initiator in fights who offers control of the battle with his spells, allowing allies to join the battle and use their spells or attacks safely."
set i=i+1
set K34[45]=1211117652
set MI4[45]=1747989809
set K64[45]=1848656213
set MH4[45]="ReplaceableTextures\\CommandButtons\\BTNClockWerkGoblin.blp"
call DK8(K34[45],"Birth")
call DG8(K34[45],1.5,MI4[45])
set MJ4[i]="You can use Rocket Flare for harassing and killing creeps early on. With the right timing, you can even fire at enemies across the map."
set MK4[i]="Power Cogs can be used to trap an enemy, push them away while draining mana, or as an escape mechanism since Rattletrap destroys Cogs in only 1 hit."
set MM4[i]="Battery Assault adds a lot of damage and the stuns help you with chasing, use it when no other units are nearby for best results."
set MN4[i]="Hookshot's long range and high speed lets you reach enemies from out of sight. Follow up with your other spells quickly so your target cannot escape."
set MO4[i]="Rocket Flare also gives vision where it lands, making it very useful for scouting areas such as rune spots, neutral creeps, the enemy base."
set i=i+1
set K34[46]=1211119187
set MI4[46]=1747990100
set K64[46]=1848657221
set MH4[46]="ReplaceableTextures\\CommandButtons\\BTNProudmoore.blp"
call DK8(K34[46],"stand victory")
call DG8(K34[46],1.1,MI4[46])
set MJ4[i]="Tidebringer is extremely useful early game: Use the bonus damage for killing creeps and the cleave effect to harass opponents at the same time."
set MK4[i]="The bubble animation from Torrent can only be seen by your team so try to use this to your advantage."
set MM4[i]="An ally's assistance or X Marks the Spot is a great way of making sure Torrent and Ghost Ship hit your opponent."
set MN4[i]="Escaping enemy heroes is easy by casting X Marks the Spot on them. It also prevents them from getting away."
set MO4[i]="The Ghost Ship will crash 1000 range from where you stand when you cast it. Keep your distance when you use it."
set i=i+1
set K34[47]=1311786311
set MI4[47]=1747990337
set K64[47]=1848657224
set MH4[47]="ReplaceableTextures\\CommandButtons\\BTNSylvanusWindrunner.blp"
call DK8(K34[47],"stand victory")
call DG8(K34[47],1.2,MI4[47])
set MJ4[i]="Powershot deals significant damage, making it ideal to max first. Be sure not to fire through creeps if you want to deal maximum damage to your target."
set MK4[i]="An early level of Windrunner can provide you with a quick getaway and chasing tool."
set MM4[i]="Shackleshot can either be used on your intended target to bind him to a nearby unit, or to bind the designated target located BEHIND the unit that you fired it at."
set MN4[i]="Focus Fire is also a powerful spell to use on buildings and Roshan."
set MO4[i]="As long as you do not attack another target, the effect of Focus Fire will stay on. Use your spells and active items to help you fire at your target."
set i=i+1
set K34[48]=1160786510
set MI4[48]=1747993411
set K64[48]=1848658766
set MH4[48]="ReplaceableTextures\\CommandButtons\\BTNFlyingMachine.blp"
call DK8(K34[48],"stand 3")
call DG8(K34[48],1.10,MI4[48])
call DG8(1160786511,1.10,MI4[48])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[49]=1160786506
set MI4[49]=1747993412
set K64[49]=1848658770
set MH4[49]="ReplaceableTextures\\CommandButtons\\BTNThrall.blp"
call DK8(K34[49],"stand 3")
call DG8(K34[49],1.10,MI4[49])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[50]=1160786505
set MI4[50]=1747993401
set K64[50]=1848658763
set MH4[50]="ReplaceableTextures\\CommandButtons\\BTNTuskaarBrown.blp"
call DK8(K34[50],"stand 3")
call DG8(K34[50],1.00,MI4[50])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[51]=1160786502
set MI4[51]=1747993400
set K64[51]=1848658765
set MH4[51]="ReplaceableTextures\\CommandButtons\\BTNPhoenix.blp"
call DK8(K34[51],"stand 3")
call DG8(K34[51],1.05,MI4[51])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[52]=1211117624
set MI4[52]=1747989589
set K64[52]=1848656195
set MH4[52]="ReplaceableTextures\\CommandButtons\\BTNRazorback.blp"
call DK8(K34[52],"stand")
call DG8(K34[52],1.65,MI4[52])
set MJ4[i]="Rigwarl is a known for punishing heroes that attack him and surviving for long times but he still needs armor, regeneration and hit points."
set MK4[i]="Quill spray doesn't initially deal much damage, but the stacking effect makes it very powerful over time in battles."
set MM4[i]="Sometimes one level of Goo can be enough to slow down an enemy hero early game."
set MN4[i]="Rigwarl needs a fair amount of mana early-game, Ring of Basilius, Magic Stick or Bottle can boost his early offensive power immensely."
set MO4[i]="You can mitigate a lot of damage if you turn your hero at the right times thanks to your passive Bristleback. Play mind games on your opponent."
set i=i+1
set K34[53]=1160786520
set MI4[53]=1747993428
set K64[53]=1848659019
set MH4[53]="ReplaceableTextures\\CommandButtons\\BTNMedivh.blp"
call DK8(K34[53],"stand 3")
call DG8(K34[53],1.15,MI4[53])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[54]=1311788336
set MI4[54]=1747993671
set K64[54]=1848659249
set MH4[54]="ReplaceableTextures\\CommandButtons\\BTNFireBrewmaster.blp"
call DK8(K34[54],"stand 3")
call DG8(K34[54],1,MI4[54])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[55]=1160786507
set MI4[55]=1747993409
set K64[55]=1848658762
set MH4[55]="ReplaceableTextures\\CommandButtons\\BTNGarithos.blp"
call DK8(K34[55],"stand 3")
call DG8(K34[55],1.3,MI4[55])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[56]=1211122767
set MI4[56]=1747993672
set K64[56]=1848659254
set MH4[56]="ReplaceableTextures\\CommandButtons\\BTNDragonHawk.blp"
call DK8(K34[56],"stand 3")
call DG8(K34[56],1.1,MI4[56])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[57]=1160786738
set MI4[57]=1747993922
set K64[57]=1848659269
set MH4[57]="ReplaceableTextures\\CommandButtons\\BTNJunkGolem.blp"
call DK8(K34[57],"stand 3")
call DG8(K34[57],1,MI4[57])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K14=57
set i=58
set K04=58
set K34[58]=1429221432
set MI4[58]=1747989832
set K64[58]=1848656435
set MH4[58]="ReplaceableTextures\\CommandButtons\\BTNKiljaedin.blp"
call DK8(K34[58],"spell")
call DG8(K34[58],1.2,MI4[58])
call DG8(1160786229,1,MI4[58])
call C27(K34[58],255,75,255)
set MJ4[i]="If you want to neutral creeps, start with Summon Wolves and a Ring of Basilius, which can be used to make Vladmir's Offering later."
set MK4[i]="Spirit Wolves gain invisibility at level 4, making them difficult to kill and easy to harass heroes with in the lane."
set MM4[i]="Feral Heart make you and your wolves stronger overall, while Howl is an offensive spell used before engaging the enemy."
set MN4[i]="Shapeshift makes you incredibly powerful and gives you max movement speed. Avoid being blocked by your wolves when chasing."
set MO4[i]="A Black King Bar will prevent enemies from disabling you, making you very fearsome and almost unstoppable when attacking heroes."
set i=i+1
set K34[59]=1429221430
set MI4[59]=1747989833
set K64[59]=1848656436
set MH4[59]="ReplaceableTextures\\CommandButtons\\BTNSpiderBlack.blp"
call DK8(K34[59],"walk")
call DG8(K34[59],1.36,MI4[59])
set MJ4[i]="At least one level in Spin Web early game will increase your survivability greatly. Remember that attacking/using spells will cause you to break invisibility."
set MK4[i]="Spawn Spiderlings is both a nuke and pushing spell, so getting items like a Ring of Basilius will provide you with both mana and armor for pushing."
set MM4[i]="Incapacitating Bite makes it very difficult for enemies to get away from you, great for chasing and slowing opponents temporarily for your allies."
set MN4[i]="Try to space out your webs with least 2 seconds of walking distance so that you can benefit from its bonuses on as much ground as possible."
set MO4[i]="With the damage and lifesteal from Insatiable Hunger, sometimes it is best to get items that will prevent you from being disabled, such as a Black King Bar."
set i=i+1
set K34[60]=1165451634
set MI4[60]=1747989834
set K64[60]=1848656437
set MH4[60]="ReplaceableTextures\\CommandButtons\\BTNHeroWarden.blp"
call DK8(K34[60],"spell slam")
call DG8(K34[60],1,MI4[60])
set MJ4[i]="Stifling Dagger is used for creep-killing and slowing opponents; prevent enemies from escaping by using it with Blink Strike."
set MK4[i]="Try to Blink Strike to a nearby allied or enemy unit to make a quick escape when caught in a defensive situation. "
set MM4[i]="Be cautious when entering battles with Blink Strike, you could be caught outnumbered or disabled without your escape mechanism."
set MN4[i]="Blur can sometimes allow you to surprise opponents if they aren't paying attention."
set MO4[i]="Items like Battlefury are useful, but getting a Black King Bar or a Satanic afterward will help you survive long enough to deal damage."
set i=i+1
set K34[61]=1211117654
set MI4[61]=1747989835
set K64[61]=1848656438
set MH4[61]="ReplaceableTextures\\CommandButtons\\BTNNagaSeaWitch.blp"
call DK8(K34[61],"stand ready")
call DG8(K34[61],1,MI4[61])
call DG8(1211119684,1,MI4[61])
call DG8(1211119683,1,MI4[61])
call DG8(1211119668,1,MI4[61])
call DG8(1211119682,1,MI4[61])
set MJ4[i]="Mystic Snake is a smart choice to have early game: Its damage and mana drain makes it great for harassing and offsetting its own mana cost."
set MK4[i]="Mana Shield will increase your survivability drastically. Use it wisely or it can also leave you with no mana for your other spells."
set MM4[i]="Using Split Shot allows you to attack multiple units, but the extra arrows from Split Shot do not gain the properties of orb effects."
set MN4[i]="Stone Gaze is an ultimate that is used to slow opponents and remove their buffs, making it easy to escape or attack the purged enemies."
set MO4[i]="Items that increase statistics and regeneration like Linkens Sphere will always be a good choice because of Mana Shield."
set i=i+1
set K34[62]=1432646245
set MI4[62]=1747989836
set K64[62]=1848656439
set MH4[62]="ReplaceableTextures\\CommandButtons\\BTNTichondrius.blp"
call DK8(K34[62],"spell slam")
call DG8(K34[62],1,MI4[62])
set MJ4[i]="Night Stalker may be passive during the day, but at night his spells make him much more powerful and great for hunting heroes down."
set MK4[i]="Void is your primary source of damage early game and can be used to interrupt spells and teleports with its mini-stun."
set MM4[i]="While Hunter in the Night does nothing during the day, get it so that during nighttime it will give you massive movement and attack speed."
set MN4[i]="Use Crippling Fear when you are hunting heroes so that they cannot disable or slow you while you are chasing them."
set MO4[i]="Since Darkness will pause time when activated, casting it at night whenever it is on cooldown will extend the total nighttime."
set i=i+1
set K34[63]=1313026096
set MI4[63]=1747989837
set K64[63]=1848656688
set MH4[63]="ReplaceableTextures\\CommandButtons\\BTNSkeletonArcher.tga"
call DK8(K34[63],"stand victory")
call DG8(K34[63],1.8,MI4[63])
call C27(K34[63],100,125,100)
set MJ4[i]="Skeleton King is a hero who is known for his ability to reincarnate if focused upon and dealing a lot of damage if he is ignored by opponents. "
set MK4[i]="Hellfire Blast is a great spell for the early laning phase and a few levels of Attribute Bonus can give you stat points for additional stuns."
set MM4[i]="Critical Strike is generally preferred over Vampiric Aura because its lifesteal is not very effective earlier when Leoric needs more damage."
set MN4[i]="Make sure you have enough mana for Hellfire Blasts and especially Reincarnation. Buying a Magic Stick and/or a Bottle can pay off nicely."
set MO4[i]="Get cheaper damage items like Armlet of Mordiggan and Desolator. A Black King Bar will allow you to dish out damage without being disabled."
set i=i+1
set K34[64]=1430467634
set MI4[64]=1747989838
set K64[64]=1848656470
set MH4[64]="ReplaceableTextures\\CommandButtons\\BTNDoomGuard.blp"
call DK8(K34[64],"stand victory")
call DG8(K34[64],1.1,MI4[64])
set MJ4[i]="Lucifer can obtain gold very quickly thanks to Devour, so getting regeneration items like Perseverance will help him to cast spells and survive in the lane."
set MK4[i]="Devour deals 20 damage per second, so consume creeps with low HP remaining so you can finish digesting the enemy quickly."
set MM4[i]="Use the command -iObsScoreInt1 to find your opponents' level for potential LVL? Death targets. Its mini-stun will also interrupt channeling spells and teleports."
set MN4[i]="Doom is usually used in conjunction with LVL? Death for killing enemy heroes; you can also use it on heroes to silence their spells."
set MO4[i]="When chasing or escaping with Scorched Earth, cast it in front of you so that you will experience the movement speed bonuses for a longer period of time."
set i=i+1
set K34[65]=1429221424
set MI4[65]=1747989839
set K64[65]=1848656469
set MH4[65]="ReplaceableTextures\\CommandButtons\\BTNHeroCryptLord.tga"
call DK8(K34[65],"spell throw")
call DG8(K34[65],0.8,MI4[65])
set MJ4[i]="Effective use of Impale and Mana Burn early game requires you to purchase some Null Talismans or Bracers and Bottle."
set MK4[i]="Mana Burn is a devastating spell to have in the lane, force opponents to play defensively by preventing them from casting spells."
set MM4[i]="Unlike other Agility heroes, Anub'arak is a caster. Getting items like Dagon can be more useful than purchasing damage items."
set MN4[i]="Vendetta is a good initiating spell for surprising opponents. Cast it far away so that they cannot hear its sound effect upon activation."
set MO4[i]="Be careful when using Vendetta against multiple opponents and going near towers where they can see you while you are invisible."
set i=i+1
set K34[66]=1430468913
set MI4[66]=1747989840
set K64[66]=1848656689
set MH4[66]="ReplaceableTextures\\CommandButtons\\BTNNagaMyrmidon.tga"
call DK8(K34[66],"spell")
call DG8(K34[66],1,MI4[66])
call C27(K34[66],175,75,200)
set MJ4[i]="Slithereen Crush requires good positioning, so do your best to stand next to the hero you are trying to stun."
set MK4[i]="Sprint is a great spell for both chasing and escaping but be careful when using it because you will take bonus damage."
set MM4[i]="In addition to lowering armor, Amplify Damage provides vision of enemies, even heroes that have the ability to become invisible."
set MN4[i]="Bash is usually more effective later in the game when you have more items like Armlet of Mordiggan."
set MO4[i]="Slardar's role in battles is to initiate with Slithereen Crush and focus an enemy with Bash and Amplify Damage. Pick off escapees with Sprint."
set i=i+1
set K34[67]=1430466609
set MI4[67]=1747989841
set K64[67]=1848656690
set MH4[67]="ReplaceableTextures\\CommandButtons\\BTNBlueDemoness.tga"
call DK8(K34[67],"spell slam")
call DG8(K34[67],1.3,MI4[67])
set MJ4[i]="Blink provides you with an escape mechanism and spell dodge but on higher levels it becomes a powerful chasing tool as well."
set MK4[i]="Scream of Pain is used for killing creeps and harassing opponents, making it more useful than Shadow Strike early game."
set MM4[i]="Try to hit as many targets as possible with Sonic Wave by targeting the ground instead of on an enemy hero directly."
set MN4[i]="Shadow Strike does decent damage but its primary use is for the slow it provides for chasing and outrunning opponents."
set MO4[i]="Her spell reliance, mobility and survivability allows her to buy expensive Intelligence items such as a Guinsoo's Scythe of Vyse."
set i=i+1
set K34[68]=1160785972
set MI4[68]=1747989842
set K64[68]=1848656471
set MH4[68]="ReplaceableTextures\\CommandButtons\\BTNSkeletonMage.blp"
call DK8(K34[68],"stand victory")
call DG8(K34[68],1,MI4[68])
set MJ4[i]="Searing Arrows provide damage for last hitting creeps and harassing enemy heroes by using it manually by clicking 'R' followed by the designated target."
set MK4[i]="Wind Walk is commonly used for chasing and escaping but the invisibility and movement speed can help you avoid specific spells with the right timing."
set MM4[i]="Cast Death Pact on enemy or neutral creeps instead of allied units whenever possible because it will give you the gold for killing the unit."
set MN4[i]="Regeneration items like Orchid Malevolence or a Linkens Sphere will allow liberal use of his abilities in battle and help him against spellcasters and nukers."
set MO4[i]="Strafe is usually gotten later, but combined with Searing Arrows, Clinkz can deal a lot of damage quickly, powerful against enemy heroes and buildings."
set i=i+1
set K34[69]=1162032181
set MI4[69]=1747989843
set K64[69]=1848656467
set MH4[69]="ReplaceableTextures\\CommandButtons\\BTNFacelessOne.blp"
call DK8(K34[69],"spell slam")
call DG8(K34[69],1.3,MI4[69])
call C27(K34[69],0,255,150)
set MJ4[i]="Time Walk is your escaping and chasing skill, but it will allow you to avoid spells and damage since you are invulnerable during the animation."
set MK4[i]="Get Backtrack early game if you need to play defensively, while Time Lock will allow you to be a little more aggressive."
set MM4[i]="Since Darkterror is so fragile, enter battles by using Time Walk and then cast Chronosphere to prevent yourself from being disabled or killed otherwise."
set MN4[i]="Chronosphere affects all units that are not controlled by you, including both allies and enemies. Avoid hitting teammates or it could cost them their lives."
set MO4[i]="Items such as Power Treads and Butterfly will give both damage and attack speed, which is useful if Void wants to repetitively stun with Time Lock."
set i=i+1
set K34[70]=1162032951
set MI4[70]=1747989844
set K64[70]=1848656466
set MH4[70]="ReplaceableTextures\\CommandButtons\\BTNNetherDragon.blp"
call DK8(K34[70],"spell slam")
call DG8(K34[70],1.2,MI4[70])
call C27(K34[70],75,255,25)
set MJ4[i]="Poison Attack allows you to harass an opponent and permanently chase them thanks to a 0 cooldown starting at level 3."
set MK4[i]="Prevent creeps and towers from attacking you by casting Poison Attack manually by clicking 'C' and then the designated target."
set MM4[i]="Neurotoxin will add bonus damage, useful early for getting the last hit on creeps and also for dealing damage to heroes as well."
set MN4[i]="Early HP and movement speed items like Phase Boots or a Point/Vitality Booster can really make a difference."
set MO4[i]="Sometimes it is wise to invest in a Lothar's Edge or Kelen's Dagger to provide you with the ability to get in and out of combat safely."
set i=i+1
set K34[71]=1160785970
set MI4[71]=1747989845
set K64[71]=1848656473
set MH4[71]="ReplaceableTextures\\CommandButtons\\BTNRevenant.blp"
call DK8(K34[71],"spell")
call DG8(K34[71],1,MI4[71])
set MJ4[i]="Use your attack range to help gauge how far opponents need to be for Plasma Field to deal the most damage."
set MK4[i]="Unstable Current will slow opponents who cast spells on you and could be useful to help prevent yourself from being killed."
set MM4[i]="Static Link is powerful if you can stay within the range of opponents - getting Unstable Current can sometimes help with that."
set MN4[i]="Storm Seeker strikes the target with the lowest health, so use it after creeps have died or when chasing a solitary target."
set MO4[i]="Consider increasing your HP along with damage when purchasing items."
set i=i+1
set K34[72]=1429221443
set MI4[72]=1747989846
set K64[72]=1848656465
set MH4[72]="ReplaceableTextures\\CommandButtons\\BTNGhoul.blp"
call DK8(K34[72],"victory")
call DG8(K34[72],1.5,MI4[72])
call C27(K34[72],100,100,100)
set MJ4[i]="Open Wounds is a powerful slow that nearly stops enemies in their tracks; it also lets you and your allies heal for attacking that unit.Open Wounds is a powerful slow that nearly stops enemies in their tracks; it also lets you and your allies heal for attacking that unit."
set MK4[i]="Feast deals percentage-based damage, which is useful against heroes with high HP and lets Naix fight neutral creeps with ease."
set MM4[i]="Rage can be used to avoid spells and to prevent opponents from disabling you while you are attacking them or trying to escape from them."
set MN4[i]="Infest can be used for escaping, surprising your opponents, to neutral, or to just gain significant health quickly when necessary."
set MO4[i]="Thanks to your physical damage and ability to steal life, Armlet of Mordiggan or Desolator are both solid choices for high-tier items."
set i=i+1
set K34[73]=1211117640
set MI4[73]=1747989847
set K64[73]=1848656468
set MH4[73]="ReplaceableTextures\\CommandButtons\\BTNPugna.BLP"
call DK8(K34[73],"stand ready")
call DG8(K34[73],1,MI4[73])
set MJ4[i]="Nether Blast gives you an incredible skill for killing creeps, harassing heroes and pushing. Use it to score the killing blow to a tower."
set MK4[i]="Decrepify can be used on opponents either to increase spell damage from you and your allies or to prevent them from attacking."
set MM4[i]="Nether Ward will drain mana and punish opponents for using spells. Just remember to cast it where opponents cannot destroy it easily."
set MN4[i]="Aghanim's Scepter, Linkens Sphere and Bloodstone are examples of items that offer survivability while improving his spellcasting abilities."
set MO4[i]="Life Drain deals a lot of damage unless opponents disable you or run away. With an Aghanim's Scepter, its cooldown becomes 0."
set i=i+1
set K34[74]=1332109682
set MI4[74]=1747989848
set K64[74]=1848656464
set MH4[74]="ReplaceableTextures\\CommandButtons\\BTNSeaGiantGreen.blp"
call DK8(K34[74],"attack slam")
call DG8(K34[74],1,MI4[74])
set MJ4[i]="Be sure to attack enemies slowed by Gush, the armor reduction means that your hits will deal more damage than normal."
set MK4[i]="Anchor Smash is an offensive damage spell that lets you hurt multiple units, good for killing neutral creeps and useful in team battles."
set MM4[i]="Kraken Shell gives you some protection against physical damage as well as a debuff removal against certain spells."
set MN4[i]="In fights, Tidehunter should be in the middle of the action drawing focus fire and dealing damage because of his skill set and high survivability."
set MO4[i]="Ravage has a large area of effect but Kelen's Dagger will allow you to initiate without being disabled and use it in an optimal spot."
set i=i+1
set K34[75]=1332963428
set MI4[75]=1747989849
set K64[75]=1848656463
set MH4[75]="ReplaceableTextures\\CommandButtons\\BTNVoidWalker.blp"
call DK8(K34[75],"spell")
call DG8(K34[75],1.5,MI4[75])
call C27(K34[75],150,0,150)
set MJ4[i]="High costs and cooldowns give Atropos limited ability use: Cast spells intelligently and get items like Null Talismans and/or Magic Stick for your mana pool."
set MK4[i]="Brain Sap is a powerful nuke and heal and deals exact unreduced damage so get it early and always try to use it on enemy heroes when using the spell."
set MM4[i]="Use Nightmare to help teammates to aim their spells and remove an opponent from battles temporarily while you fight their allies."
set MN4[i]="Enfeeble is usually a skill to get after Brain Sap and Nightmare to use on enemy heroes with high damage to reduce their damage capabilities severely."
set MO4[i]="Fiend's Grip will work on Magic Immune units such as those under the active effect of Black King Bar, holding them in place but dealing no damage."
set i=i+1
set K34[76]=1429221445
set MI4[76]=1747989850
set K64[76]=1848656440
set MH4[76]="ReplaceableTextures\\CommandButtons\\BTNGhostOfKelThuzad.blp"
call DK8(K34[76],"stand victory")
call DG8(K34[76],1.3,MI4[76])
set MJ4[i]="Death Pulse lets you kill creeps and harass heroes simultaneously, great for pushing and healing allied units because of its low cooldown."
set MK4[i]="Sadist will provide you with some early regeneration for killing creeps, while Heartstopper Aura becomes effective as the game goes on."
set MM4[i]="Reaper's Scythe is known for its ability to kill heroes outright, allowing you to bring down even high-HP Strength heroes with ease."
set MN4[i]="Your ultimate can also be used to stun opponents in certain situations, such as interrupting channeling spells and teleports."
set MO4[i]="Items like Bloodstone or Heart of Tarrasque allow you to survive long enough in team battles to make your spells more effective."
set i=i+1
set K34[77]=1429221446
set MI4[77]=1747990064
set K64[77]=1848656693
set MH4[77]="ReplaceableTextures\\CommandButtons\\BTNAbomination.blp"
call DK8(K34[77],"stand 3")
call DG8(K34[77],1.0,MI4[77])
set MJ4[i]="Pudge can known for his ability to isolate enemies with Meat Hook and using Rot and Dismember afterward, killing them outright. "
set MK4[i]="Early regeneration and movement speed items such as Bottle and Phase Boots help provide Pudge with the means to cast spells and chase his opponents."
set MM4[i]="Use Meat Hook from a location where you are not obstructed by any allied or enemy units other than your target to ensure a better chance of landing it."
set MN4[i]="A Hood of Defiance will improve your magic resistance to reduce damage from using Rot and getting hit by spells; The massive regeneration is also good."
set MO4[i]="Use your spells defensively: Rot can be used to commit suicide if necessary and Meat Hook can be used to rescue an ally from one or more enemies."
set i=i+1
set K34[78]=1328558154
set MI4[78]=1747990065
set K64[78]=1848656691
set MH4[78]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalker.blp"
call DK8(K34[78],"stand ready")
call DG8(K34[78],1.2,MI4[78])
set MJ4[i]="Empowering Haste is a smart skill to level first, it gives Barathrum movement speed and significant damage for killing creeps and heroes."
set MK4[i]="A level of Greater Bash early game can be useful as an extra disable, since the 17% chance is the same for all levels.A level of Greater Bash early game can be useful as an extra disable, since the 17% chance is the same for all levels."
set MM4[i]="Get Strength Power Treads because the attack and movement speed benefits your other skills and the boost in HP helps you survive."
set MN4[i]="Charge of Darkness gives Barathrum spell immunity after 12 seconds and provides vision of the target for you and your allies."
set MO4[i]="Nether Strike puts you from the opposite side of where you were facing, push opponents backwards and into your allies."
set i=i+1
set K34[79]=1432510828
set MI4[79]=1747990066
set K64[79]=1848656472
set MH4[79]="ReplaceableTextures\\CommandButtons\\BTNNerubianQueen.blp"
call DK8(K34[79],"attack")
call DG8(K34[79],1.0,MI4[79])
call C27(K34[79],255,200,200)
set MJ4[i]="Take care of Weaver's HP/damage problems with Bracers or Wraith Bands and get regeneration so he can use his spells freely."
set MK4[i]="An early level of Watchers can be used to provide vision over the rune powerups. Patrol them to increase their area of detection."
set MM4[i]="Shukuchi is used for harassing and chasing opponents offensively, and escaping and avoiding certain projectile spells defensively."
set MN4[i]="If your Geminate Attack is not working, make sure that you input an attack command ('A' or right-click) and are not simply auto-attacking."
set MO4[i]="Use Time Lapse after taking a lot of recent damage to heal yourself, allowing you to pull off some dangerous moves like diving into towers."
set i=i+1
set K34[80]=1315334514
set MI4[80]=1747990067
set K64[80]=1848656462
set MH4[80]="ReplaceableTextures\\CommandButtons\\BTNShade.blp"
call DK8(K34[80],"stand channel")
call DG8(K34[80],1.15,MI4[80])
call C27(K34[80],0,0,0)
set MJ4[i]="Necromastery is important because of its massive damage gain and because your ultimate deals damage based on the number of souls."
set MK4[i]="Shadow Raze gives you three powerful nuke spells that should be maxed out first. Gauge the distance correctly and hit multiple times."
set MM4[i]="Requiem of Souls deals more damage the closer you are: Placement items like Lothar's Edge and Kelen's Dagger can help you land it."
set MN4[i]="After maxing your other two spells, Presence of the Dark Lord will be useful by then, good for pushing and dealing more physical damage."
set MO4[i]="If you die, remember to fill up on souls again before major fights when you respawn or you will be much less effective in battles."
set i=i+1
set K34[81]=1429221451
set MI4[81]=1747990068
set K64[81]=1848656692
set MH4[81]="ReplaceableTextures\\CommandButtons\\BTNArachnathidGreen.blp"
call DK8(K34[81],"attack 3")
call DG8(K34[81],1,MI4[81])
set MJ4[i]="Burrowstrike is both versatile and powerful: It deals damage, stuns and provides you with a useful escape or chasing mechanism."
set MK4[i]="Using Sandstorm at the right time will dodge certain projectile spells and can protect you temporarily if it is necessary."
set MM4[i]="Getting Kelen's Dagger will give him increased mobility and reach, and also the ability to Blink into battle right after channeling Epicenter."
set MN4[i]="While you cannot move while Epicenter is channeling, once the pulses begin you can freely move around (mostly to chase your opponent)."
set MO4[i]="Caustic Finale might be an orb effect but it is extremely useful for killing multiple units quickly for fighting neutrals, pushing and defending."
set i=i+1
set K34[82]=1332766568
set MI4[82]=1747990069
set K64[82]=1848656461
set MH4[82]="ReplaceableTextures\\CommandButtons\\BTNChaosGrom.blp"
call DK8(K34[82],"stand victory")
call DG8(K34[82],1,MI4[82])
set MJ4[i]="Counter Helix gives Axe the flexibility to both lane and jungle. A Stout Shield will help reduce the damage from taking attacks in order to activate Helix."
set MK4[i]="A Vanguard or a Hood of Defiance offers survivability and regeneration, which are usually more useful to Axe than increasing his attack speed or damage."
set MM4[i]="Berserker's Call is used to initiate fights and draw focus fire. Using it when there are more enemy units increases the chance of activating Counter Helix."
set MN4[i]="Monitor your opponent's HP for the perfect Culling Blade opportunity to finish them off. However, if your enemy has too much HP, it will hardly do anything."
set MO4[i]="Kelen's Dagger and/or Phase Boots can help you enter the fight first and get close enough for a Berserker's Call."
set i=i+1
set K34[83]=1215722344
set MI4[83]=1747990070
set K64[83]=1848656474
set MH4[83]="ReplaceableTextures\\CommandButtons\\BTNShaman.blp"
call DK8(K34[83],"stand victory")
call DG8(K34[83],1.25,MI4[83])
call C27(K34[83],250,150,150)
set MJ4[i]="Getting Blood Bath will allow you to take a few hits as you are killing creeps because you will recover your health immediately afterwards."
set MK4[i]="An early level of Bloodrage can be useful for silencing enemies temporarily and for dealing a little bit of damage."
set MM4[i]="Phase Boots and HP can be just as useful as damage items because they increase his survivability for chasing enemies and other longer battles."
set MN4[i]="Use Rupture when your enemy has to either run away or to prevent them from moving, such as when an ally is about to use a powerful spell."
set MO4[i]="Both allies and enemies gain the massive damage increase and are silenced from Bloodrage, which can be disastrous if used incorrectly."
set i=i+1
set K34[84]=1432642913
set MI4[84]=1747990071
set K64[84]=1848656460
set MH4[84]="ReplaceableTextures\\CommandButtons\\BTNHeroDeathKnight.blp"
call DK8(K34[84],"stand ready")
call DG8(K34[84],1,MI4[84])
set MJ4[i]="Abbadon's spells can save allies while dealing damage, so support and regeneration items like Vladmir's Offering can be more useful than damage items."
set MK4[i]="Death Coil can be used both as a nuke and a heal, just remember that it deals damage to you unless you are using Aphotic Shield or Borrowed Time."
set MM4[i]="Aphotic Shield prevents damage but can also be used to remove certain debuffs, such as removing the stun duration effect on an ally."
set MN4[i]="Frostmourne is usually gotten later but it is very useful for chasing and helping your allies outrun your opponents."
set MO4[i]="Borrowed Time can be cast manually as well. If you know you are going to receive a lot of damage sometimes it can be wiser to use it then."
set i=i+1
set K34[85]=1160786242
set MI4[85]=1747990072
set K64[85]=1848656441
set MH4[85]="ReplaceableTextures\\CommandButtons\\BTNvengeanceincarnate.blp"
call DK8(K34[85],"stand ready")
call DG8(K34[85],0.8,MI4[85])
set MJ4[i]="Spectral Dagger is your utility spell. You can use it for chasing people down, scouting dangerous areas and escaping. "
set MK4[i]="You also walk through units, trees, even cliffs while you are walking on Spectral Dagger's black path, making it very handy when used properly."
set MM4[i]="Desolate is great for dealing target to isolated targets but Dispersion helps you to survive in the lane: Chose whatever combination suits you best."
set MN4[i]="Haunt lets you jump into a fight directly from anywhere in the map; just make sure that you pay attention to the actions of your team."
set MO4[i]="Getting HP will allow you to withstand and dish out more Dispersion damage, which is extremely powerful in team fights."
set i=i+1
set K34[86]=1160786241
set MI4[86]=1747990073
set K64[86]=1848656459
set MH4[86]="ReplaceableTextures\\CommandButtons\\BTNWitchDoctor.blp"
call DK8(K34[86],"stand victory")
call DG8(K34[86],1.25,MI4[86])
set MJ4[i]="Paralyzing Cask is your initiating spell for your other skills and can effectively keep two nearby units stun-locked at higher levels."
set MK4[i]="Maledict drastically reduces the damage needed to kill opponents and is an important spell to land in every fight."
set MM4[i]="An early level of Voodoo Restoration can provide a relatively cheap heal if you are forced to play defensively."
set MN4[i]="Damaging your opponent immediately after using Maledict is wise because it will deal more bonus damage overall at the 3 ticks."
set MO4[i]="Death Ward is a powerful channeling spell if not interrupted. A Black King Bar will help to prevent enemies from disabling you."
set i=i+1
set K34[87]=1429221456
set MI4[87]=1747990081
set K64[87]=1848656449
set MH4[87]="ReplaceableTextures\\CommandButtons\\BTNDestroyer.blp"
call DK8(K34[87],"stand alternate 2")
call DG8(K34[87],0.85,MI4[87])
set MJ4[i]="Getting Intelligence and mana items is extremely important for Harbringer as the power of Arcane Orb and Sanity's Eclipse rely on this."
set MK4[i]="Use Astral Imprisonment to control your opponents' mana, for escaping/chasing, or on yourself and allies to avoid spells."
set MM4[i]="Cast Arcane Orb manually early on because you will have a greater chance of activating Essence Aura to use it endlessly."
set MN4[i]="Guinsoo's Scythe of Vyse is a great choice because it offers Intelligence, balanced stats and provides Harbringer with a powerful disable."
set MO4[i]="Use Sanity's Eclipse early in fights so that you drain casters with high Intelligence of their mana and cripple their ability to cast spells."
set i=i+1
set K34[88]=1160786243
set MI4[88]=1747990083
set K64[88]=1848656450
set MH4[88]="ReplaceableTextures\\CommandButtons\\BTNGuldan.blp"
call DK8(K34[88],"spell")
call DG8(K34[88],1.5,MI4[88])
set MJ4[i]="Shadow Word is either a heal or damage over time, definitely the most powerful early game spell to have."
set MK4[i]="The affordable Mekansm is a good support item for Warlock, who is not a hero who is reliant on gold and items to be effective."
set MM4[i]="Rain of Chaos creates a powerful Infernal that can take on heroes and is also great for killing creeps and pushing buildings."
set MN4[i]="Fatal Bonds can deal huge damage if you and your teammates have other area of effect (AoE) spells that would hurt multiple linked units."
set MO4[i]="The stun when using Rain of Chaos along with its huge casting range (1200) is great for interrupting spells and initiating battles."
set i=i+1
set K34[89]=1211117641
set MI4[89]=1747990084
set K64[89]=1848656458
set MH4[89]="ReplaceableTextures\\CommandButtons\\BTNKoboldGeomancer.blp"
call DK8(K34[89],"spell")
call DG8(K34[89],1.4,MI4[89])
call DG8(1211117642,1.4,MI4[89])
set MJ4[i]="Vladmir's Offering and/or Mekansm provides valuable auras and useful heals that can help support your team and keep your Meepos alive."
set MK4[i]="Poof is both a teleport and damage spell and is great against neutrals. Poof to yourself to deal double the damage (from departure and arrival).Poof is both a teleport and damage spell and is great against neutrals. Poof to yourself to deal double the damage (from departure and arrival)."
set MM4[i]="Geomancer is an advanced hero: Be sure to monitor their individual health because if one dies, they all will."
set MN4[i]="Strength Power Treads are suggested since clones will receive all of the Strength from footwear along with a 2.5 bonus (12.5 total)."
set MO4[i]="Time Earthbind with each of your clones. With 4 Meepos and Level 4 Earthbind, you can almost permanently immobilize them."
set i=i+1
set K34[90]=1311781207
set MI4[90]=1747990085
set K64[90]=1848656457
set MH4[90]="ReplaceableTextures\\CommandButtons\\BTNDarkTrollShadowPriest.blp"
call DK8(K34[90],"spell")
call DG8(K34[90],1.2,MI4[90])
set MJ4[i]="An early level of both Shadow Wave and Shallow Grave provides a lot of support before getting Poison Touch to level 3 for its added stun."
set MK4[i]="Try to use Shadow Wave to heal and damage opponents at the same time. Surround an enemy with multiple allied units for more damage."
set MM4[i]="In addition to slowing and damaging opponents, Poison Touch will allow you to interrupt channeling spells and teleports"
set MN4[i]="Dazzle generally does not need many items and can sometimes focus on increasing his spell use with regeneration and support items like Mekansm."
set MO4[i]="Weave is a powerful spell, try to hit both allies and enemies with it, and it can also be used to provide vision before major battles occur."
set i=i+1
set K34[91]=1311780946
set MI4[91]=1747990086
set K64[91]=1848656451
set MH4[91]="ReplaceableTextures\\CommandButtons\\BTNPitLord.blp"
call DK8(K34[91],"stand channel")
call DG8(K34[91],0.95,MI4[91])
set MJ4[i]="Firestorm will be your main ability for killing creeps but it can deal a lot of damage to heroes if you combine it with disables or slows."
set MK4[i]="The Pit of Malice is a useful disable that lasts for 10 seconds so it will both ensnare opponents and deter opponents from entering the circle."
set MM4[i]="Expulsion is usually used after some creeps have died so the spell lasts longer and will deal damage and mini-stun enemies."
set MN4[i]="Pit Lord is played more as a caster, increase his team presence and spell use by obtaining expensive Intelligence items like Shiva's Guard."
set MO4[i]="Dark Rift is a great spell for transporting multiple allies to surprise opponents, and more importantly to defend and attack the base."
set i=i+1
set K34[92]=1211117650
set MI4[92]=1747990087
set K64[92]=1848656456
set MH4[92]="ReplaceableTextures\\CommandButtons\\BTNZombie.blp"
call DK8(K34[92],"stand")
call DG8(K34[92],2,MI4[92])
call DG8(1211119433,1.3,MI4[92])
set MJ4[i]="Decay is used to deal damage and make opponents more vulnerable, while increasing the survivability of Dirge temporarily."
set MK4[i]="Make sure Dirge is a presence who can cast his spells in fights by buying regeneration items like Vladmir's Offering and Void Stone."
set MM4[i]="Soul Rip is a powerful heal or nuke but remember that it will have almost no effect without nearby units. Cast it in crowds."
set MN4[i]="Use Tombstone when engaging the enemy because the zombies have a slowing capability and may also help block your opponents."
set MO4[i]="Tombstone Zombies become extremely powerful when your opponents have low health and attack and move much faster."
set i=i+1
set K34[93]=1211117646
set MI4[93]=1747990088
set K64[93]=1848656455
set MH4[93]="ReplaceableTextures\\CommandButtons\\BTNDranaiMage.blp"
call DK8(K34[93],"spell")
call DG8(K34[93],1.15,MI4[93])
set MJ4[i]="Ion shell is great for killing creeps and dealing damage to heroes, but it will not damage an enemy target if you cast it on them directly."
set MK4[i]="A level of Surge early game can help you and allies escape and chase enemies, and works nicely to help you close in on opponents with Ion Shell."
set MM4[i]="Vacuum is an extremely powerful skill that can be used for initiating and combining with other spells. It can also interrupt channeling and teleport spells."
set MN4[i]="Make sure they are standing closer to the edge of your targeting circle when casting Vacuum to pull your opponents further."
set MO4[i]="Use Wall of Replica where multiple heroes will touch it; try using it with Vacuum. Get your allies to run through the wall too."
set i=i+1
set K34[94]=1211117653
set MI4[94]=1747990082
set K64[94]=1848656454
set MH4[94]="ReplaceableTextures\\CommandButtons\\BTNHeroBloodElfPrince.blp"
call DK8(K34[94],"spell")
call DG8(K34[94],1.25,MI4[94])
set MJ4[i]="Having at least one level in Quas, Wex and Exort will give you a larger repertoire of spells. Type -invokelist to obtain a full list of combinations."
set MK4[i]="Ghost Walk (QQW) can be used to get yourself out of a tight situation, and also for slowing opponents so that your allies can chase/escape."
set MM4[i]="Sunstrike (EEE) is a global-ranged nuke that deals damage based on the level of Exort. When using it, you have to factor in the 1.7 casting time."
set MN4[i]="Forge Spirit (EEQ) and Cold Snap (QQQ) can be effective for pushing towers and against heroes with low armor. "
set MO4[i]="EMP (WWW) and Tornado (WWQ) can completely drain off heroes with low mana pools and have a impressive casting range."
set i=i+1
set K34[95]=1433105516
set MI4[95]=1747989572
set K64[95]=1848656182
set MH4[95]="ReplaceableTextures\\CommandButtons\\BTNSpell_Shadow_SummonVoidWalker.blp"
call DK8(K34[95],"stand")
call DG8(K34[95],1.5,MI4[95])
set MJ4[i]="Conversion allows Enigma to neutral creep effectively. Target the highest level creep possible and move your low HP Eidolons out of the way to save them."
set MK4[i]="In the lane, Conversion can be used on allied creeps to deny your opponents of experience and gold, and for making sure you last hit enemy creeps."
set MM4[i]="The multiple stuns on higher levels of Malefice make it useful for preventing an opponent from channeling spells or help you chase/escape them."
set MN4[i]="Use Midnight Pulse in conjunction with Black Hole to deal massive damage to enemies. Just make sure that you cast it before Black Hole."
set MO4[i]="Kelen's Dagger is great for Black Hole placement, and a Black King Bar will prevent most spells from stopping the channeling effect of the spell."
set i=i+1
set K34[96]=1328558390
set MI4[96]=1747990354
set K64[96]=1848657721
set MH4[96]="ReplaceableTextures\\CommandButtons\\BTNTrollBatRider.blp"
call DK8(K34[96],"stand")
call DG8(K34[96],1.2,MI4[96])
call DG8(1328558391,1.2,MI4[96])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[97]=1311787088
set MI4[97]=1747993136
set K64[97]=1848658002
set MH4[97]="ReplaceableTextures\\CommandButtons\\BTNIcyGhost.blp"
call DK8(K34[97],"stand")
call DG8(K34[97],1.17,MI4[97])
call DG8(1311787088,1.2,MI4[97])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[98]=1211119409
set MI4[98]=1747990322
set K64[98]=1848657222
set MH4[98]="ReplaceableTextures\\CommandButtons\\BTNMurgulShadowCaster.blp"
call DK8(K34[98],"stand 3")
call DG8(K34[98],1.25,MI4[98])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[99]=1164277353
set MI4[99]=1747989814
set K64[99]=1848656214
set MH4[99]="ReplaceableTextures\\CommandButtons\\BTNEvilIllidan.blp"
call DK8(K34[99],"spell channel")
call DG8(K34[99],1,MI4[99])
call DG8(1164277357,1,MI4[99])
call DG8(1160786518,1,MI4[99])
call DG8(1160786519,1,MI4[99])
call DG8(1160786517,1,MI4[99])
set MJ4[i]="Get Soul Steal if you need healing in the lane."
set MK4[i]="Purchase statistic-increasing items like Wraith Bands and later items like Sange and Yasha to benefit both Terrorblade and his images."
set MM4[i]="It might be difficult to escape due to the trail you leave behind when walking, you may have to use an image to act as a block or decoy."
set MN4[i]="Sunder can turn fights around when you have low health but be careful of disables and high damage spells when trying to swap."
set MO4[i]="Creating ranged images in Metamorphosis will allow you to deal damage safely in fights as well as push down buildings very quickly."
set i=i+1
set K34[100]=1164666213
set MI4[100]=1747989817
set K64[100]=1848656215
set MH4[100]="ReplaceableTextures\\CommandButtons\\BTNKeeperGhostBlue.blp"
call DK8(K34[100],"stand victory")
call DG8(K34[100],1,MI4[100])
set MJ4[i]="Split Earth is a very useful disable while Lightning Storm is taken because of its low cooldown. Both are powerful spells that hit multiple targets."
set MK4[i]="By using Lightning Storm to finish low-health creeps with nearby opponents, you can get gold and harass enemy heroes at the same time."
set MM4[i]="Diabolic Edict is one of the most powerful spells for destroying buildings. Eliminate the creeps first so that you only have one target."
set MN4[i]="Turn off Pulse Nova when you have finished using it because the spell will continue until you have exhausted your entire mana pool."
set MO4[i]="Items like Bloodstone or Aghanim's Scepter will allow Leshrac to use his spells more liberally and survive in the midst of battle."
set i=i+1
set K34[101]=1160786504
set MI4[101]=1747993410
set K64[101]=1848658764
set MH4[101]="ReplaceableTextures\\CommandButtons\\BTNArchimonde.blp"
call DK8(K34[101],"stand 3")
call DG8(K34[101],1.25,MI4[101])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[102]=1433168227
set MI4[102]=1747989825
set K64[102]=1848656216
set MH4[102]="ReplaceableTextures\\CommandButtons\\BTNLichVersion2.blp"
call DK8(K34[102],"stand channel")
call DG8(K34[102],1.3,MI4[51])
set MJ4[i]="Dark Ritual is useful for denying allied creeps and provides you with mana to use spells without buying regeneration items."
set MK4[i]="Frost Nova is a very powerful spell that allows you to be aggressive. Attack the enemy a few extra times while they are slowed."
set MM4[i]="Chain Frost is most effective when used against 2-3 nearby targets (ideally heroes), but will not bounce when used on a lone unit."
set MN4[i]="Frost Armor should be cast on multiple teammates when you have the mana for it later on; it works nicely against melee units."
set MO4[i]="The first target of your Chain Frost can interrupt channeling and teleport spells if absolutely necessary."
set i=i+1
set K34[103]=1430468406
set MI4[103]=1747989826
set K64[103]=1848656217
set MH4[103]="ReplaceableTextures\\CommandButtons\\BTNBanshee.blp"
call DK8(K34[103],"spell wail")
call DG8(K34[103],1.35,MI4[103])
set MJ4[i]="Carrion Swarm is your primary nuke and first skill to max. Make use of its range by casting it on the ground instead of on a unit directly."
set MK4[i]="An early level of Silence can help prevent you and your allies from being attacked by multiple spells."
set MM4[i]="The ghosts of Exorcism will attack whatever you attack, so if you want to direct all attention to a single unit simply focus them and stay nearby."
set MN4[i]="Exorcism also makes Krobelus extremely effective for quickly destroying enemy buildings, so be sure to push the enemy base when you can"
set MO4[i]="The effect of Exorcism stops if you die in combat: Invest in items that improve your survivability, such as a Bloodstone or a Heart of Tarrasque."
set i=i+1
set K34[104]=1430466872
set MI4[104]=1747989827
set K64[104]=1848656218
set MH4[104]="ReplaceableTextures\\CommandButtons\\BTNLion.BLP"
call DK8(K34[104],"spell callstorm")
call DG8(K34[104],1.3,MI4[104])
call C27(K34[104],50,100,255)
set MJ4[i]="With plenty of damage and disables, Lion is quite a force to be reckoned with cheap utility items such as Bottle and Phase Boots."
set MK4[i]="Impale gives Lion the ability to disable multiple targets and deals decent damage, so it is definitely the most versatile of his three skills for the early game."
set MM4[i]="Mana Drain only works on units with mana: Using Mana Drain on enemy heroes will reduce their spell use while replenishing mana."
set MN4[i]="Avoid wasting Finger of Death on low-health enemy heroes when a few extra attacks or using another spell like Impale will deal enough damage."
set MO4[i]="Wait until the duration of your first disable wears off before using another one for maximum disable time when using Impale and Voodoo."
set i=i+1
set K34[105]=1162032439
set MI4[105]=1747989828
set K64[105]=1848656432
set MH4[105]="ReplaceableTextures\\CommandButtons\\BTNHydralisk.blp"
call DK8(K34[105],"attack")
call DG8(K34[105],1.0,MI4[105])
call C27(K34[105],150,200,255)
set MJ4[i]="Venomous Gale is a spell that hits multiple opponents and slows them, making it very useful for getting early kills."
set MK4[i]="At least one level of Poison Sting is recommended early game for its slow effect."
set MM4[i]="Bottle and Magic Stick will help deal with his low HP/mana, while Phase Boots are a cheap way to improve his chasing capabilities."
set MN4[i]="Wards are very useful for pushing a lane and killing neutral and enemy creeps, but you can also use it to provide vision."
set MO4[i]="Poison Nova deals a lot of damage but you have to combine it with other spells and attacks because it does not deal fatal damage (stops at 1 HP)."
set i=i+1
set K34[106]=1430466865
set MI4[106]=1747989829
set K64[106]=1848656178
set MH4[106]="ReplaceableTextures\\CommandButtons\\BTNBlueMagnataur.tga"
call DK8(K34[106],"stand channel")
call DG8(K34[106],1,MI4[106])
call C27(K34[106],150,150,100)
set MJ4[i]="Bottle and Perseverance help with early regeneration,. while purchasing Kelen's Dagger later will help you to land Reverse Polarity."
set MK4[i]="A few Attribute Bonus points can help you cast more spells. Save Mighty Swing for later levels when you have more damage."
set MM4[i]="By targeting the ground where you want to fire Shockwave, you can hit both creeps and opponents and make use of its long range."
set MN4[i]="Magnus should cast Empower on himself and other allies with high damage before initiating team battles with his ultimate."
set MO4[i]="The cleave of Battlefury stacks directly with Mighty Swing, making it a good damage item especially if you already have a Perseverance."
set i=i+1
set K34[107]=1430468144
set MI4[107]=1747989830
set K64[107]=1848656433
set MH4[107]="ReplaceableTextures\\CommandButtons\\BTNSpiritWyvern.blp"
call DK8(K34[107],"stand victory")
call DG8(K34[107],1,MI4[107])
call C27(K34[107],150,150,150)
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[108]=1429221441
set MI4[108]=1747989831
set K64[108]=1848656434
set MH4[108]="ReplaceableTextures\\CommandButtons\\BTNChaosWarlord.blp"
call DK8(K34[108],"stand victory")
call DG8(K34[108],1.05,MI4[108])
set MJ4[i]="Chaos Bolt and Blink Strike are active abilities that are more useful in the lane and for killing opponents than Critical Strike."
set MK4[i]="Chaos Bolt is a disable that switches between average and extremely powerful, the sooner you have max out this spell, the better."
set MM4[i]="His high natural movement speed (325 - the highest in the game) and Blink Strike make him very difficult for opponents to outrun or chase him."
set MN4[i]="If you Blink Strike and then use Chaos Bolt, you can spend more time hitting opponents and less time waiting for his slow casting animation. "
set MO4[i]="Make Nessaj and Phantasm stronger by buying Strength items like Armlet of Mordiggan (when activated) and Heart of Tarrasque."
set i=i+1
set K34[109]=1311788343
set MI4[109]=1747993687
set K64[109]=1848659256
set MH4[109]="ReplaceableTextures\\CommandButtons\\BTNFrostWyrm.blp"
call DK8(K34[109],"stand victory")
call DG8(K34[109],0.9,MI4[109])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[110]=1311788363
set MI4[110]=1747993926
set K64[110]=1848659276
set MH4[110]="ReplaceableTextures\\CommandButtons\\BTNGnollWarden.blp"
call DK8(K34[110],"stand victory")
call DG8(K34[110],1.1,MI4[110])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K54=110
set K34[500]=1211445296
set MH4[500]="ReplaceableTextures\\CommandButtons\\BTNWispHero.blp"
call DK8(K34[500],"stand")
call DG8(K34[500],1.5,0)
set MJ4[500]=""
set MK4[500]=""
set MM4[500]=""
set MN4[500]=""
set MO4[500]=""
set K34[600]=1211510832
set MH4[600]="ReplaceableTextures\\CommandButtons\\BTNSeaTurtleRed.blp"
call DK8(K34[600],"stand")
call DG8(K34[600],0.8,0)
set MJ4[600]=""
set MK4[600]=""
set MM4[600]=""
set MN4[600]=""
set MO4[600]=""
set K24[1]=1315074670
set K24[2]=1164207469
set K24[3]=1311781174
set K24[4]=1315070563
set K24[5]=1315007329
set K24[6]=1328558160
set K24[7]=1433631084
set K24[8]=1160785973
set K24[9]=1311781199
set K24[10]=1212365106
set K24[11]=1215723364
set K24[12]=1212363833
set K24[13]=1215657064
set K24[14]=1332179560
set K24[15]=1429221430
set K24[16]=1162032439
set K24[17]=1164277353
set K24[18]=1432510828
set K24[19]=1160785972
set K24[20]=1162032951
set K24[21]=1215722344
set K24[22]=1315334514
set K24[23]=1160785970
set K24[24]=1162032181
set K24[25]=1165451634
set K24[26]=1429221424
set K24[27]=1211117654
set K24[28]=1160786242
set K24[29]=1311781206
set K24[30]=1211117641
set K24[31]=1160786265
set K24[32]=1211119409
set K24[33]=1160786510
set K24[34]=1311788336
set K24[35]=1311788363
set K_4=35
set M44[1]=1315988077
set M44[2]=1215063922
set M44[3]=1214345830
set M44[4]=1211117616
set M44[5]=1211117617
set M44[6]=1214344551
set M44[7]=1211117624
set M44[8]=1432580716
set M44[9]=1333027688
set M44[10]=1313026096
set M44[11]=1432646245
set M44[12]=1430466865
set M44[13]=1332109682
set M44[14]=1429221446
set M44[15]=1429221451
set M44[16]=1328558154
set M44[17]=1432642913
set M44[18]=1332766568
set M44[19]=1429221441
set M44[20]=1429221443
set M44[21]=1430468913
set M44[22]=1430467634
set M44[23]=1429221432
set M44[24]=1211117636
set M44[25]=1311781193
set M44[26]=1211117649
set M44[27]=1311780946
set M44[28]=1211117652
set M44[29]=1211119187
set M44[30]=1211117650
set M44[31]=1328558389
set M44[32]=1160786505
set M44[33]=1160786502
set M44[34]=1328558406
set M44[35]=1160786738
set M44[36]=1160786507
set M74=36
set M84[1]=1332898670
set M84[2]=1164799855
set M84[3]=1164799603
set M84[4]=1211117620
set M84[5]=1214931305
set M84[6]=1433105516
set M84[7]=1215128178
set M84[8]=1211117643
set M84[9]=1316252014
set M84[10]=1215130471
set M84[11]=1214409837
set M84[12]=1311781185
set M84[13]=1211117633
set M84[14]=1433168227
set M84[15]=1164666213
set M84[16]=1430468406
set M84[17]=1430466872
set M84[18]=1430466609
set M84[19]=1430468144
set M84[20]=1211117640
set M84[21]=1332963428
set M84[22]=1429221445
set M84[23]=1160786241
set M84[24]=1429221456
set M84[25]=1160786000
set M84[26]=1160786243
set M84[27]=1311781207
set M84[28]=1211117646
set M84[29]=1311786311
set M84[30]=1211117651
set M84[31]=1311780930
set M84[32]=1211117653
set M84[33]=1328558390
set M84[34]=1311787088
set M84[35]=1160786504
set M84[36]=1160786506
set M84[37]=1160786520
set M84[38]=1211122767
set M84[39]=1311788343
set M94=39
set MD4[1]=1332898670
set MD4[2]=1164799855
set MD4[3]=1164799603
set MD4[4]=1211117620
set MD4[5]=1214931305
set MD4[6]=1433105516
set MD4[7]=1215128178
set MD4[8]=1211117643
set MD4[9]=1316252014
set MD4[10]=1315074670
set MD4[11]=1214409837
set MD4[12]=1311781185
set MD4[13]=1211117633
set MD4[14]=1433168227
set MD4[15]=1164666213
set MD4[16]=1430468406
set MD4[17]=1430466872
set MD4[18]=1430466609
set MD4[19]=1430468144
set MD4[20]=1211117640
set MD4[21]=1332963428
set MD4[22]=1429221445
set MD4[23]=1160786241
set MD4[24]=1429221456
set MD4[25]=1160786000
set MD4[26]=1160786243
set MD4[27]=1311781207
set MD4[28]=1311786311
set MD4[29]=1211117651
set MD4[30]=1311780930
set MD4[31]=1211117653
set MD4[32]=1311781174
set MD4[33]=1328558160
set MD4[34]=1433631084
set MD4[35]=1160785973
set MD4[36]=1311781199
set MD4[37]=1160786265
set MD4[38]=1215723364
set MD4[39]=1162032439
set MD4[40]=1432510828
set MD4[41]=1160785972
set MD4[42]=1162032951
set MD4[43]=1315334514
set MD4[44]=1160785970
set MD4[45]=1211117654
set MD4[46]=1311781206
set MD4[47]=1211117649
set MD4[48]=1328558390
set MD4[49]=1311787088
set MD4[50]=1328558406
set MD4[51]=1160786504
set MD4[52]=1160786510
set MD4[53]=1160786506
set MD4[54]=1160786502
set MD4[55]=1160786520
set MD4[56]=1211122767
set MD4[57]=1311788363
set MD4[58]=1311788343
set ME4=58
set MF4[1]=1215130471
set MF4[2]=1211117646
set MF4[3]=1164207469
set MF4[4]=1315070563
set MF4[5]=1315007329
set MF4[6]=1212363833
set MF4[7]=1215657064
set MF4[8]=1332179560
set MF4[9]=1429221430
set MF4[10]=1164277353
set MF4[11]=1215722344
set MF4[12]=1162032181
set MF4[13]=1165451634
set MF4[14]=1429221424
set MF4[15]=1160786242
set MF4[16]=1211117641
set MF4[17]=1212365106
set MF4[18]=1315988077
set MF4[19]=1215063922
set MF4[20]=1214345830
set MF4[21]=1211117616
set MF4[22]=1211117617
set MF4[23]=1214344551
set MF4[24]=1211117624
set MF4[25]=1432580716
set MF4[26]=1333027688
set MF4[27]=1313026096
set MF4[28]=1432646245
set MF4[29]=1430466865
set MF4[30]=1332109682
set MF4[31]=1429221446
set MF4[32]=1429221451
set MF4[33]=1328558154
set MF4[34]=1432642913
set MF4[35]=1332766568
set MF4[36]=1429221441
set MF4[37]=1429221443
set MF4[38]=1430468913
set MF4[39]=1430467634
set MF4[40]=1429221432
set MF4[41]=1211117636
set MF4[42]=1311781193
set MF4[43]=1311780946
set MF4[44]=1211117652
set MF4[45]=1211119187
set MF4[46]=1211117650
set MF4[47]=1328558389
set MF4[48]=1211119409
set MF4[49]=1160786505
set MF4[50]=1311788336
set MF4[51]=1160786738
set MF4[52]=1160786507
set MG4=52
call BI7()
endfunction
function JS8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
set EZ7="JS8"
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_MASKED,GetUnitX(MR4),GetUnitY(MR4),900,false,false))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_MASKED,GetUnitX(MP4),GetUnitY(MP4),900,false,false))
call UQ7(t)
set t=null
return false
endfunction
function JT8 takes item Z4 returns string
if Z4==null then
return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
endif
return CU[RO7(Z4)]
endfunction
function JU8 takes nothing returns nothing
local unit a=CreateUnit(Player(0),1747990348,-6100,-5800,0)
local unit b=CreateUnit(Player(0),1747990348,-6100,-5800,0)
local item i=CreateItem(1227900749,0,0)
set EZ7="JU8"
call UnitAddItem(a,i)
if UnitUseItem(a,i)then
else
endif
call UnitRemoveItem(a,i)
call UnitAddItem(b,i)
if UnitUseItem(b,i)then
set M34=true
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10,(GetObjectName((1848657993))))
else
set M34=false
endif
call ShowUnit(a,false)
call KillUnit(a)
call ShowUnit(b,false)
call KillUnit(b)
call RemoveItem(i)
set i=null
set b=null
set a=null
endfunction
function JV8 takes integer id returns boolean
return id==1211117642 or id==1311788365
endfunction
function JW8 takes integer id returns boolean
local integer i=0
loop
exitwhen i>H27
if H57[i]==id then
return true
endif
set i=i+1
endloop
return false
endfunction
function JX8 takes nothing returns nothing
set H27=H27+1
set H57[H27]=1093753431
set H27=H27+1
set H57[H27]=1093681718
set H27=H27+1
set H57[H27]=1093684023
set H27=H27+1
set H57[H27]=1093686327
set H27=H27+1
set H57[H27]=1093686328
set H27=H27+1
set H57[H27]=1093742918
set H27=H27+1
set H57[H27]=1093742920
set H27=H27+1
set H57[H27]=1093742919
set H27=H27+1
set H57[H27]=1093742916
set H27=H27+1
set H57[H27]=1093686067
set H27=H27+1
set H57[H27]=1093742917
set H27=H27+1
set H57[H27]=1093743959
set H27=H27+1
set H57[H27]=1093814353
set H27=H27+1
set H57[H27]=1093808945
set H27=H27+1
set H57[H27]=1093814351
set H27=H27+1
set H57[H27]=1093677647
set H27=H27+1
set H57[H27]=1093679193
set H27=H27+1
set H57[H27]=1093679194
set H27=H27+1
set H57[H27]=1093679408
set H27=H27+1
set H57[H27]=1093679410
set H27=H27+1
set H57[H27]=1095331943
set H27=H27+1
set H57[H27]=1095332962
set H27=H27+1
set H57[H27]=1093683254
set H27=H27+1
set H57[H27]=1093751108
set H27=H27+1
set H57[H27]=1093751863
set H27=H27+1
set H57[H27]=1093744973
set H27=H27+1
set H57[H27]=1093747011
set H27=H27+1
set H57[H27]=1094936696
set H27=H27+1
set H57[H27]=1093810265
set H27=H27+1
set H57[H27]=1095328363
set H27=H27+1
set H57[H27]=1093748055
set H27=H27+1
set H57[H27]=1093677367
set H27=H27+1
set H57[H27]=1093683801
set H27=H27+1
set H57[H27]=1093682767
set H27=H27+1
set H57[H27]=1093683255
set H27=H27+1
set H57[H27]=1093681720
set H27=H27+1
set H57[H27]=1093752645
set H27=H27+1
set H57[H27]=1095333995
set H27=H27+1
set H57[H27]=1093753417
set H27=H27+1
set H57[H27]=1093681995
set H27=H27+1
set H57[H27]=1093683788
set H27=H27+1
set H57[H27]=1093748303
set H27=H27+1
set H57[H27]=1095328865
set H27=H27+1
set H57[H27]=1093683266
set H27=H27+1
set H57[H27]=1093682227
set H27=H27+1
set H57[H27]=1093682246
set H27=H27+1
set H57[H27]=1093682756
set H27=H27+1
set H57[H27]=1093743191
set H27=H27+1
set H57[H27]=1093743681
set H27=H27+1
set H57[H27]=1093748292
set H27=H27+1
set H57[H27]=1093749071
set H27=H27+1
set H57[H27]=1093677655
set H27=H27+1
set H57[H27]=1093809721
set H27=H27+1
set H57[H27]=1093815111
set H27=H27+1
set H57[H27]=1093748304
set H27=H27+1
set H57[H27]=1093686329
set H27=H27+1
set H57[H27]=1093751096
set H27=H27+1
set H57[H27]=1093750095
set H27=H27+1
set H57[H27]=1093810244
set H27=H27+1
set H57[H27]=1097163124
set H27=H27+1
set H57[H27]=1093684016
set H27=H27+1
set H57[H27]=1095331948
set H27=H27+1
set H57[H27]=1093683796
set H27=H27+1
set H57[H27]=1095331954
set H27=H27+1
set H57[H27]=1093677656
set H27=H27+1
set H57[H27]=1093751349
set H27=H27+1
set H57[H27]=1095332727
set H27=H27+1
set H57[H27]=1093808182
set H27=H27+1
set H57[H27]=1093753416
set H27=H27+1
set H57[H27]=1093813569
set H27=H27+1
set H57[H27]=1093815092
set H27=H27+1
set H57[H27]=1093815095
set H27=H27+1
set H57[H27]=1093815089
endfunction
function JY8 takes integer id returns boolean
return id==1093808454 or id==1093808455 or id==1093808456 or id==1093751609 or id==1093809217 or id==1093809218 or id==1093678667 or id==1093752391 or id==1093810257 or id==1093752646 or id==1093686328 or id==1093686327 or id==1093808206 or id==1093753394 or id==1093753395 or id==1093808181 or id==1093743681 or id==1093809721 or id==1093815111 or id==1093815881 or id==1093810008 or id==1093810265 or id==1093809221 or id==1093753416 or id==1093752655 or id==1093748305 or id==1093686341 or id==1093814863 or id==1093813848 or id==1093684560 or id==1093815109 or id==1093815112 or id==1093815097 or id==1093814860 or id==1093815857 or id==1093815618 or id==1093677625 or id==1093816121
endfunction
function JZ8 takes nothing returns nothing
set MC4=MC4+1
set MB4[MC4]=1093683254
set MC4=MC4+1
set MB4[MC4]=1093677362
set MC4=MC4+1
set MB4[MC4]=1093678667
set MC4=MC4+1
set MB4[MC4]=1093683513
set MC4=MC4+1
set MB4[MC4]=1093683265
set MC4=MC4+1
set MB4[MC4]=1093684021
set MC4=MC4+1
set MB4[MC4]=1093685337
set MC4=MC4+1
set MB4[MC4]=1093748303
set MC4=MC4+1
set MB4[MC4]=1093685844
set MC4=MC4+1
set MB4[MC4]=1093686081
set MC4=MC4+1
set MB4[MC4]=1093686327
set MC4=MC4+1
set MB4[MC4]=1093686328
set MC4=MC4+1
set MB4[MC4]=1093743681
set MC4=MC4+1
set MB4[MC4]=1093681733
set MC4=MC4+1
set MB4[MC4]=1093808472
set MC4=MC4+1
set MB4[MC4]=1093808471
set MC4=MC4+1
set MB4[MC4]=1093808470
set MC4=MC4+1
set MB4[MC4]=1097754673
set MC4=MC4+1
set MB4[MC4]=1093750618
set MC4=MC4+1
set MB4[MC4]=1093743428
set MC4=MC4+1
set MB4[MC4]=1093677622
set MC4=MC4+1
set MB4[MC4]=1093751096
endfunction
function JA8 takes nothing returns nothing
set B8[1]=1095331188
set B8[2]=1095328865
set B8[3]=1095660653
set B8[4]=1094935400
set B8[5]=1095333995
set B8[6]=1093681995
set B8[7]=1093677367
set B8[8]=1093681720
set B8[9]=1093683266
set B8[10]=1093682227
set B8[11]=1093682246
set B8[12]=1093677655
set B8[13]=1095331954
set B8[14]=1095331948
set B8[15]=1093682767
set B8[16]=1093683255
set B8[17]=1093683254
set B8[18]=1093677656
set B8[19]=1095332727
set B8[20]=1093682008
set B8[21]=1093681718
set B8[22]=1097163124
set B8[23]=1093679180
set B8[24]=1095328633
set B8[25]=1093678426
set B8[26]=1095328363
set B8[27]=1093682265
set B8[28]=1093684314
set B8[29]=1093685065
set B8[30]=1093684056
set B8[31]=1093684055
set B8[32]=1093677622
set B8[33]=1093681972
set B8[34]=1093677362
set B8[35]=1093678667
set B8[36]=1093677652
set B8[37]=1095263841
set B8[38]=1093679446
set B8[39]=1093678425
set B8[40]=1093683513
set B8[41]=1093683265
set B8[42]=1093684021
set B8[43]=1093685337
set B8[44]=1093685582
set B8[45]=1093685844
set B8[46]=1093685840
set B8[47]=1093743191
set B8[48]=1093686081
set B8[49]=1093686327
set B8[50]=1093686328
set B8[51]=1093743681
set B8[52]=1093681733
set B8[53]=1093808472
set B8[54]=1093808471
set B8[55]=1093808470
set B8[56]=1093684560
set B8[57]=1093743428
set B8[58]=1093683801
set B8[59]=1093743959
set B8[60]=1093748303
set B8[61]=1093748292
set B8[62]=1093750618
set B8[63]=1093750095
set B8[64]=1093749071
set B8[65]=1093751096
set B8[66]=1093751361
set B8[67]=1093751126
set B8[68]=1093752645
set B8[69]=1093752642
set B8[70]=1093815111
set B8[71]=1093815859
set C8=71
endfunction
function JB8 takes nothing returns boolean
call JA8()
call JZ8()
call JX8()
return false
endfunction
function JC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function JB8))
endfunction
function J38 takes nothing returns nothing
call CreateQuestBJ(0,GetObjectName(1496395827),"TRIGSTR_49999","ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp")
call CreateQuestBJ(0,GetObjectName(1496395828),"TRIGSTR_49998","ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp")
call CreateQuestBJ(0,"TRIGSTR_50004","TRIGSTR_50005","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
call CreateQuestBJ(0,"TRIGSTR_50006","TRIGSTR_50007","ReplaceableTextures\\CommandButtons\\BTNTome.blp")
call CreateQuestBJ(0,"TRIGSTR_50008","TRIGSTR_50009","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(2,"TRIGSTR_50010","TRIGSTR_50011","ReplaceableTextures\\CommandButtons\\BTNScrollOfHaste.blp")
call CreateQuestBJ(2,"TRIGSTR_50012","TRIGSTR_50013","ReplaceableTextures\\CommandButtons\\BTNBansheeMaster.blp")
call CreateQuestBJ(2,"TRIGSTR_50014","TRIGSTR_50015","ReplaceableTextures\\CommandButtons\\BTNCarrionScarabs.blp")
endfunction
function J68 takes nothing returns boolean
local string s
if IsUnitIllusion(GetTriggerUnit())==false and JV8(GetUnitTypeId(GetTriggerUnit()))==false then
set s=GetUnitName(GetTriggerUnit())+" "+(GetObjectName((1848657986)))+" "+GetObjectName(GetLearnedSkill())+" ("+(GetObjectName((1848657987)))+" "+I2S(GetUnitAbilityLevel(GetTriggerUnit(),GetLearnedSkill()))+")"
call DisplayTimedTextToPlayer(KX4,0,0,3,s)
call DisplayTimedTextToPlayer(KY4,0,0,3,s)
endif
return false
endfunction
function JL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function J68))
set t=null
endfunction
function J18 takes player p returns nothing
local unit LI7=M7[GetPlayerId(p)]
local integer i=0
local item J08
set EZ7="LockAllItems"
loop
exitwhen i>5
set J08=UnitItemInSlot(LI7,i)
call SetItemDroppable(J08,false)
set i=i+1
endloop
set LI7=null
set J08=null
endfunction
function J28 takes nothing returns nothing
call CG7(bj_FORCE_ALL_PLAYERS,25.00,(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|c00ff0303 "+(GetObjectName((1848652356)))+"|r")
endfunction
function Jf takes nothing returns nothing
local player J_8=TL7(GetHandleId(GetExpiredTimer()),"Leaver")
local integer T8=1
local integer Jg
local integer hY=GetPlayerState(J_8,PLAYER_STATE_RESOURCE_GOLD)
set EZ7="Jf"
if hY>20 then
call SetPlayerState(J_8,PLAYER_STATE_RESOURCE_GOLD,0)
set VG4[GetPlayerId(J_8)]=0
if AG7(J_8)then
set Jg=P8(X7)
else
set Jg=P8(Y7)
endif
if AG7(J_8)then
loop
exitwhen T8>5
if AM7(Z7[T8])then
call SetPlayerState(Z7[T8],PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Z7[T8],PLAYER_STATE_RESOURCE_GOLD)+hY/Jg)
endif
set T8=T8+1
endloop
else
loop
exitwhen T8>5
if AM7(A7[T8])then
call SetPlayerState(A7[T8],PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(A7[T8],PLAYER_STATE_RESOURCE_GOLD)+hY/Jg)
endif
set T8=T8+1
endloop
endif
endif
endfunction
function K48 takes player J_8 returns nothing
local timer t=CreateTimer()
local integer US7=GetHandleId(t)
set EZ7="omv"
call TQ7(US7,"Leaver",J_8)
call TimerStart(t,2,true,function Jf)
set t=null
endfunction
function K78 takes player p returns nothing
local multiboarditem K88=MultiboardGetItem(T4,ND4[GetPlayerId(p)],N94[GetPlayerId(p)])
set EZ7="oMv"
call MultiboardSetItemValue(K88,"|c00333333"+CE7(p)+"|r")
call MultiboardReleaseItem(K88)
endfunction
function K98 takes nothing returns nothing
local player p=OD4
local string id=I2S(GetPlayerId(p))
set EZ7="K98"
call StoreInteger(IV4,id,"8_0",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(0)))))
call StoreInteger(IV4,id,"8_1",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(1)))))
call StoreInteger(IV4,id,"8_2",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(2)))))
call StoreInteger(IV4,id,"8_3",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(3)))))
call StoreInteger(IV4,id,"8_4",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(4)))))
call StoreInteger(IV4,id,"8_5",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(5)))))
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_0")
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_1")
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_2")
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_3")
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_4")
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_5")
endif
endfunction
function KD8 takes nothing returns nothing
local integer JO8=P8(X7)
local integer JN8=P8(Y7)
local integer T8
local integer U8
local string KE8
local string KF8
local unit C17=M7[GetPlayerId(GetTriggerPlayer())]
set EZ7="KD8"
if C17==null then
set KF8=(GetObjectName((1848657239)))
else
set KF8=GetUnitName(C17)
endif
if(C<10)then
set KE8=I2S(B)+":0"+I2S(C)
else
set KE8=I2S(B)+":"+I2S(C)
endif
if D9==false then
set C9[GetPlayerId(GetTriggerPlayer())]="|c00555555"+KE8+"|r"
call CG7(bj_FORCE_ALL_PLAYERS,25.00,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+" ("+KF8+")|r|c00ff0303 "+(GetObjectName((1848652356)))+"|r")
if(AG7(GetTriggerPlayer())==true)then
set T8=1
set U8=5
loop
exitwhen T8>U8
if(Z7[T8]!=GetTriggerPlayer())then
if(AM7(Z7[T8])==true)then
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Z7[T8],4)
endif
endif
set T8=T8+1
endloop
else
set T8=1
set U8=5
loop
exitwhen T8>U8
if(A7[T8]!=GetTriggerPlayer())then
if(AM7(A7[T8])==true)then
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),A7[T8],4)
endif
endif
set T8=T8+1
endloop
endif
if AG7(GetTriggerPlayer())or AH7(GetTriggerPlayer())then
set M64=M64+1
endif
call I38("C"+"K"+I2S(T7[GetPlayerId(GetTriggerPlayer())])+"D"+I2S(U7[GetPlayerId(GetTriggerPlayer())])+"N"+I2S((LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId(GetTriggerPlayer()))),StringHash("NumOfNeutrals")))),GetPlayerId(GetTriggerPlayer()))
set OD4=GetTriggerPlayer()
call ExecuteFunc("K98")
call J18(GetTriggerPlayer())
set U2[GetPlayerId(GetTriggerPlayer())]=true
call K78(GetTriggerPlayer())
call K48(GetTriggerPlayer())
if M64==2 and V8==false and Ny==true then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"|c006699CC"+(GetObjectName((1848657495)))+"|r")
endif
if M64==3 then
set O84=true
call ExecuteFunc("KG8")
set O84=false
endif
else
set C9[GetPlayerId(GetTriggerPlayer())]="|c00555555End|r"
call ExecuteFunc("KH8")
endif
set C17=null
endfunction
function KI8 takes unit LI7 returns nothing
if GetUnitTypeId(LI7)!=1211117642 and GetUnitTypeId(LI7)!=1211117641 then
if GetOwningPlayer(LI7)==GetLocalPlayer()then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1," ")
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1,"|c006699CC"+(GetObjectName((1848657746))))
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1," ")
endif
call FF8(WR,GetOwningPlayer(LI7))
endif
call SetUnitInvulnerable(LI7,false)
call UnitRemoveAbility(LI7,1093681498)
call UnitRemoveAbility(LI7,1093679434)
call UnitRemoveAbility(LI7,1093684052)
call UnitRemoveAbility(LI7,1093684823)
call UnitRemoveAbility(LI7,1093684821)
call UnitRemoveAbility(LI7,1093685079)
call UnitRemoveAbility(LI7,1093685078)
call UnitRemoveAbility(LI7,1093685080)
call UnitRemoveAbility(LI7,1093685081)
call UnitRemoveAbility(LI7,1093685296)
call UnitRemoveAbility(LI7,1093744459)
call UnitRemoveAbility(LI7,1093685334)
call UnitRemoveAbility(LI7,1093685583)
call UnitRemoveAbility(LI7,1093685827)
call UnitRemoveAbility(LI7,1093685830)
call UnitRemoveAbility(LI7,Ly)
call UnitRemoveAbility(LI7,my)
call UnitRemoveAbility(LI7,My)
call UnitRemoveAbility(LI7,py)
call UnitRemoveAbility(LI7,1093684821)
call UnitRemoveAbility(LI7,1093684823)
call UnitRemoveAbility(LI7,1093682777)
call UnitRemoveAbility(LI7,1093683509)
call UnitRemoveAbility(LI7,1093681977)
call UnitRemoveAbility(LI7,1093683528)
call UnitRemoveAbility(LI7,1110455863)
call UnitRemoveAbility(LI7,1110456396)
call UnitRemoveAbility(LI7,1093686098)
call UnitRemoveAbility(LI7,1093687119)
call UnitRemoveAbility(LI7,1093687122)
call UnitRemoveAbility(LI7,1093747534)
call UnitRemoveAbility(LI7,1093686856)
call UnitRemoveAbility(LI7,1093686858)
call UnitRemoveAbility(LI7,1093742649)
call UnitRemoveAbility(LI7,1093686871)
call UnitRemoveAbility(LI7,1093687373)
call UnitRemoveAbility(LI7,1093742927)
call UnitRemoveAbility(LI7,1093742930)
call UnitRemoveAbility(LI7,1093743671)
call UnitRemoveAbility(LI7,1093743672)
call UnitRemoveAbility(LI7,1093742933)
call UnitRemoveAbility(LI7,1093743673)
call UnitRemoveAbility(LI7,1093743153)
call UnitRemoveAbility(LI7,1093743158)
call UnitRemoveAbility(LI7,1093744441)
call UnitRemoveAbility(LI7,1097167980)
call UnitRemoveAbility(LI7,n1[0])
call UnitRemoveAbility(LI7,n1[1])
call UnitRemoveAbility(LI7,n1[2])
call UnitRemoveAbility(LI7,n1[3])
call UnitRemoveAbility(LI7,n1[4])
call UnitRemoveAbility(LI7,n1[5])
call UnitRemoveAbility(LI7,1093748533)
call UnitRemoveAbility(LI7,1093748531)
call UnitRemoveAbility(LI7,1093748534)
call UnitRemoveAbility(LI7,1093748532)
call TI7(GetHandleId(LI7),"Grapple",false)
call SetUnitPathing(LI7,true)
call PauseUnit(LI7,false)
call SetUnitFlyHeight(LI7,GetUnitDefaultFlyHeight(LI7),0)
call SetUnitScale(LI7,DJ8(LI7)*CS,DJ8(LI7)*CS,DJ8(LI7)*CS)
call UnitRemoveAbility(LI7,1093747521)
call UnitRemoveAbility(LI7,1093747513)
call UnitRemoveAbility(LI7,1093747522)
call UnitRemoveAbility(LI7,1093747523)
call UnitRemoveAbility(LI7,1093748545)
call UnitRemoveAbility(LI7,1093752627)
call UnitRemoveAbility(LI7,1110459471)
call UnitRemoveAbility(LI7,1093752136)
call UnitRemoveAbility(LI7,1093752137)
call UnitRemoveAbility(LI7,1093753396)
call UnitRemoveAbility(LI7,1093753409)
call UnitRemoveAbility(LI7,1093753410)
call UnitRemoveAbility(LI7,1093753401)
call UnitRemoveAbility(LI7,1110459478)
call UnitRemoveAbility(LI7,1093809718)
call UnitRemoveAbility(LI7,1093809717)
call UnitRemoveAbility(LI7,1093809228)
call UnitRemoveAbility(LI7,1110459716)
call UnitRemoveAbility(LI7,1093808975)
call UnitRemoveAbility(LI7,1110459705)
call H28(LI7,0)
if GetUnitTypeId(LI7)==1160786510 or GetUnitTypeId(LI7)==1160786511 then
call UnitRemoveAbility(LI7,1093808951)
call UnitAddAbility(LI7,1093808706)
call UnitRemoveAbility(LI7,1093808706)
if SK7(LI7,ZU[G14])!=null then
call UnitAddAbility(LI7,1093808951)
endif
endif
call UnitRemoveAbility(LI7,1093808966)
call F18(LI7)
set IN4=LI7
call ExecuteFunc("KJ8")
endfunction
function KK8 takes nothing returns boolean
if GetPlayerAlliance(GetOwningPlayer(GetFilterUnit()),QZ,ALLIANCE_SHARED_CONTROL)==true and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false then
set MZ=MZ+1
endif
return false
endfunction
function KM8 takes unit u,player p,real x,real y,boolean KN8 returns nothing
local group g=LD7()
set EZ7="ReviveCamera"
set MZ=0
set QZ=p
call GroupEnumUnitsSelected(g,p,Condition(function KK8))
if MZ==0 and GetLocalPlayer()==p then
if KN8==false then
call ClearSelection()
call SelectUnit(u,true)
endif
call PanCameraToTimed(x,y,0)
endif
set MZ=0
call L97(g)
set g=null
endfunction
function KO8 takes unit S4 returns boolean
return GetUnitTypeId(S4)==1211117641 or GetUnitTypeId(S4)==1211117642
endfunction
function KP8 takes unit KQ8 returns nothing
local integer KR8
set EZ7="GiveBloodruneExp"
if SK7(KQ8,ZU[DI4])!=null and GetUnitTypeId(KQ8)!=1211117642 then
set KR8=R2I(GetItemCharges(SK7(KQ8,ZU[DI4]))*0.67)
if GetItemCharges(SK7(KQ8,ZU[DI4]))==1 then
set KR8=0
endif
call SetItemCharges(SK7(KQ8,ZU[DI4]),KR8)
call AddHeroXP(KQ8,GetHeroXP(OA4[GetPlayerId(GetOwningPlayer(KQ8))]),true)
call RemoveUnit(OA4[GetPlayerId(GetOwningPlayer(KQ8))])
endif
endfunction
function KS8 takes unit u returns nothing
local integer US7=GetHandleId(GetOwningPlayer(u))
local unit KT8=T37(US7,"Kobold0")
local unit KU8=T37(US7,"Kobold1")
local unit KV8=T37(US7,"Kobold2")
local unit KW8=T37(US7,"Kobold3")
local unit KX8=T37(US7,"Kobold4")
local unit KY8
set EZ7="RemoveKoboldHero"
set KY8=KT8
if KY8!=null then
call RemoveUnit(KY8)
endif
set KY8=KU8
if KY8!=null then
call RemoveUnit(KY8)
endif
set KY8=KV8
if KY8!=null then
call RemoveUnit(KY8)
endif
set KY8=KW8
if KY8!=null then
call RemoveUnit(KY8)
endif
set KY8=KX8
if KY8!=null then
call RemoveUnit(KY8)
endif
set KY8=null
set KX8=null
set KW8=null
set KV8=null
set KU8=null
set KT8=null
endfunction
function KZ8 takes nothing returns boolean
call UQ7(GetTriggeringTrigger())
set OB4=false
return false
endfunction
function KA8 takes unit KB8 returns nothing
local integer US7=GetHandleId(GetOwningPlayer(KB8))
local unit KT8=T37(US7,"Kobold0")
local unit KU8=T37(US7,"Kobold1")
local unit KV8=T37(US7,"Kobold2")
local unit KW8=T37(US7,"Kobold3")
local unit KX8=T37(US7,"Kobold4")
local unit KY8
local real x=GetUnitX(KT8)
local real y=GetUnitY(KT8)
local trigger t
set EZ7="HeroRevive_Kobold"
if OB4==false then
if AG7(GetOwningPlayer(KT8))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
else
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,2.,false)
call TriggerAddCondition(t,Condition(function KZ8))
endif
set KY8=KT8
if KY8!=null and KB8!=KY8 then
call ReviveHero(KY8,x,y,false)
call SetUnitX(KY8,x)
call SetUnitY(KY8,y)
call KI8(KY8)
call SetUnitPathing(KY8,true)
call SetUnitState(KY8,UNIT_STATE_MANA,10000)
endif
set KY8=KU8
if KY8!=null and KB8!=KY8 then
call ReviveHero(KY8,x,y,false)
call SetUnitX(KY8,x)
call SetUnitY(KY8,y)
call KI8(KY8)
call SetUnitPathing(KY8,true)
call SetUnitState(KY8,UNIT_STATE_MANA,10000)
endif
set KY8=KV8
if KY8!=null and KB8!=KY8 then
call ReviveHero(KY8,x,y,false)
call SetUnitX(KY8,x)
call SetUnitY(KY8,y)
call KI8(KY8)
call SetUnitPathing(KY8,true)
call SetUnitState(KY8,UNIT_STATE_MANA,10000)
endif
set KY8=KW8
if KY8!=null and KB8!=KY8 then
call ReviveHero(KY8,x,y,false)
call SetUnitX(KY8,x)
call SetUnitY(KY8,y)
call KI8(KY8)
call SetUnitPathing(KY8,true)
call SetUnitState(KY8,UNIT_STATE_MANA,10000)
endif
set KY8=KX8
if KY8!=null and KB8!=KY8 then
call ReviveHero(KY8,x,y,false)
call SetUnitX(KY8,x)
call SetUnitY(KY8,y)
call KI8(KY8)
call SetUnitPathing(KY8,true)
call SetUnitState(KY8,UNIT_STATE_MANA,10000)
endif
set t=null
set KY8=null
set KW8=null
set KV8=null
set KU8=null
set KT8=null
endfunction
function KC8 takes unit C17 returns nothing
local integer K38=GetUnitPointValue(C17)
local unit K68
set EZ7="InitializeHero"
if(K38==34)then
call ExecuteFunc("KL8")
call ExecuteFunc("K18")
call ExecuteFunc("K08")
elseif(K38==37)then
call ExecuteFunc("K58")
call ExecuteFunc("K28")
call ExecuteFunc("K_8")
call ExecuteFunc("M48")
elseif(K38==38)then
call ExecuteFunc("M78")
call ExecuteFunc("M88")
call ExecuteFunc("M98")
call ExecuteFunc("MD8")
elseif(K38==32)then
call ExecuteFunc("ME8")
call ExecuteFunc("MF8")
call ExecuteFunc("MG8")
elseif(K38==52)then
call ExecuteFunc("MH8")
call ExecuteFunc("MI8")
call ExecuteFunc("MJ8")
call ExecuteFunc("MK8")
elseif(K38==31)then
call ExecuteFunc("MM8")
call ExecuteFunc("MN8")
call ExecuteFunc("MO8")
elseif(K38==24)then
call ExecuteFunc("MP8")
call ExecuteFunc("MQ8")
call ExecuteFunc("MR8")
call ExecuteFunc("MS8")
elseif(K38==5)then
call ExecuteFunc("MT8")
call ExecuteFunc("MU8")
call ExecuteFunc("MV8")
elseif(K38==8)then
call ExecuteFunc("MW8")
call ExecuteFunc("MX8")
call ExecuteFunc("MY8")
call ExecuteFunc("MZ8")
call ExecuteFunc("MA8")
elseif(K38==3)then
call ExecuteFunc("MB8")
call ExecuteFunc("MC8")
call ExecuteFunc("M38")
call ExecuteFunc("M68")
elseif(K38==95)then
call ExecuteFunc("ML8")
call ExecuteFunc("M18")
call ExecuteFunc("M08")
call ExecuteFunc("M58")
call ExecuteFunc("M28")
elseif(K38==20)then
call ExecuteFunc("M_8")
call ExecuteFunc("N48")
call ExecuteFunc("po")
call ExecuteFunc("N78")
elseif(K38==12)then
call ExecuteFunc("N88")
call ExecuteFunc("N98")
call ExecuteFunc("ND8")
elseif(K38==16)then
call ExecuteFunc("NE8")
call ExecuteFunc("NF8")
call ExecuteFunc("NG8")
call ExecuteFunc("NH8")
call ExecuteFunc("NI8")
elseif(K38==25)then
call ExecuteFunc("NJ8")
call ExecuteFunc("NK8")
elseif(K38==4)then
call ExecuteFunc("NM8")
call ExecuteFunc("NN8")
call ExecuteFunc("pZ")
call ExecuteFunc("NO8")
call ExecuteFunc("NP8")
call ExecuteFunc("NQ8")
call SetUnitPathing(C17,false)
set O74=true
set K68=CreateUnit(GetOwningPlayer(C17),GetUnitTypeId(C17),GetUnitX(C17),GetUnitY(C17),GetUnitFacing(C17))
call TI7(GetHandleId(K68),"EnteredAlready",true)
set M7[GetPlayerId(GetOwningPlayer(C17))]=K68
call SetUnitPathing(K68,false)
call SetUnitPosition(K68,GetUnitX(C17),GetUnitY(C17))
if D4 then
call SetHeroXP(K68,GetHeroXP(C17),false)
call UnitAddItem(K68,UnitItemInSlot(C17,0))
call UnitAddItem(K68,UnitItemInSlot(C17,1))
call UnitAddItem(K68,UnitItemInSlot(C17,2))
call UnitAddItem(K68,UnitItemInSlot(C17,3))
call UnitAddItem(K68,UnitItemInSlot(C17,4))
call UnitAddItem(K68,UnitItemInSlot(C17,5))
endif
call D38(C17)
call SetUnitPathing(K68,true)
call ClearSelectionForPlayer(GetOwningPlayer(K68))
call SelectUnitAddForPlayer(K68,GetOwningPlayer(K68))
elseif(K38==7)then
call ExecuteFunc("NR8")
call ExecuteFunc("NS8")
call ExecuteFunc("NT8")
elseif(K38==18)then
call ExecuteFunc("NU8")
call ExecuteFunc("NV8")
elseif(K38==36)then
call ExecuteFunc("PN")
elseif(K38==21)then
call ExecuteFunc("Po")
call ExecuteFunc("PO")
call ExecuteFunc("NW8")
call ExecuteFunc("NX8")
elseif(K38==14)then
call ExecuteFunc("NY8")
call ExecuteFunc("NZ8")
call ExecuteFunc("NA8")
call ExecuteFunc("NB8")
call ExecuteFunc("Pr")
call ExecuteFunc("NC8")
elseif(K38==13)then
call ExecuteFunc("N38")
call ExecuteFunc("N68")
call ExecuteFunc("NL8")
call ExecuteFunc("N18")
elseif(K38==26)then
call ExecuteFunc("N08")
call ExecuteFunc("Pv")
call ExecuteFunc("PV")
call ExecuteFunc("N58")
elseif(K38==9)then
call ExecuteFunc("Pw")
call ExecuteFunc("N28")
call ExecuteFunc("N_8")
call ExecuteFunc("O48")
elseif(K38==10)then
call ExecuteFunc("O78")
call ExecuteFunc("O88")
call ExecuteFunc("O98")
call ExecuteFunc("OD8")
call ExecuteFunc("OE8")
call ExecuteFunc("qb")
call ExecuteFunc("qB")
call ExecuteFunc("qc")
elseif(K38==23)then
call ExecuteFunc("qC")
call ExecuteFunc("qD")
call ExecuteFunc("qe")
call ExecuteFunc("qg")
elseif(K38==19)then
call ExecuteFunc("OF8")
call ExecuteFunc("OG8")
call ExecuteFunc("OH8")
elseif(K38==22)then
call ExecuteFunc("OI8")
call ExecuteFunc("OJ8")
call ExecuteFunc("OK8")
call ExecuteFunc("OM8")
elseif(K38==17)then
call ExecuteFunc("ON8")
call ExecuteFunc("OO8")
elseif(K38==1)then
call ExecuteFunc("OP8")
call ExecuteFunc("OQ8")
call ExecuteFunc("OR8")
elseif(K38==2)then
call ExecuteFunc("OS8")
call ExecuteFunc("OT8")
call ExecuteFunc("OU8")
call ExecuteFunc("OV8")
elseif(K38==27)then
call ExecuteFunc("OW8")
call ExecuteFunc("OX8")
call ExecuteFunc("OY8")
call ExecuteFunc("OZ8")
call ExecuteFunc("OA8")
elseif(K38==82)then
call ExecuteFunc("OB8")
call ExecuteFunc("OC8")
call ExecuteFunc("O38")
call ExecuteFunc("O68")
elseif(K38==75)then
call ExecuteFunc("OL8")
call ExecuteFunc("O18")
call ExecuteFunc("O08")
call ExecuteFunc("O58")
elseif(K38==83)then
call ExecuteFunc("O28")
call ExecuteFunc("O_8")
call ExecuteFunc("P48")
call ExecuteFunc("P78")
elseif(K38==59)then
call ExecuteFunc("P88")
call ExecuteFunc("P98")
call ExecuteFunc("PD8")
call ExecuteFunc("PE8")
elseif(K38==108)then
call ExecuteFunc("PF8")
call ExecuteFunc("PG8")
elseif(K38==69)then
call ExecuteFunc("PH8")
call ExecuteFunc("PI8")
call ExecuteFunc("PJ8")
call ExecuteFunc("PK8")
call ExecuteFunc("PM8")
elseif(K38==100)then
call ExecuteFunc("PN8")
call ExecuteFunc("PO8")
call ExecuteFunc("PP8")
elseif(K38==102)then
call ExecuteFunc("PQ8")
elseif(K38==64)then
call ExecuteFunc("PR8")
call ExecuteFunc("PS8")
call ExecuteFunc("PT8")
elseif(K38==106)then
call ExecuteFunc("PU8")
call ExecuteFunc("PV8")
call ExecuteFunc("PW8")
elseif(K38==61)then
call ExecuteFunc("PX8")
call ExecuteFunc("PY8")
call ExecuteFunc("PZ8")
elseif(K38==76)then
call ExecuteFunc("PA8")
call ExecuteFunc("PB8")
call ExecuteFunc("PC8")
call ExecuteFunc("P38")
elseif(K38==80)then
call ExecuteFunc("P68")
call ExecuteFunc("PL8")
call ExecuteFunc("P18")
call ExecuteFunc("P08")
call ExecuteFunc("RM")
elseif(K38==62)then
call ExecuteFunc("P58")
call ExecuteFunc("P28")
call ExecuteFunc("P_8")
elseif(K38==60)then
call ExecuteFunc("Q48")
call ExecuteFunc("Q78")
call ExecuteFunc("Q88")
elseif(K38==77)then
call ExecuteFunc("Q98")
call ExecuteFunc("QD8")
call ExecuteFunc("QF8")
call ExecuteFunc("QG8")
call ExecuteFunc("QH8")
elseif(K38==73)then
call ExecuteFunc("QI8")
elseif(K38==81)then
call ExecuteFunc("QJ8")
call ExecuteFunc("QK8")
call ExecuteFunc("sa")
call ExecuteFunc("sB")
elseif(K38==66)then
call ExecuteFunc("QM8")
elseif(K38==78)then
call ExecuteFunc("QN8")
call ExecuteFunc("QO8")
call ExecuteFunc("QP8")
call ExecuteFunc("QQ8")
elseif(K38==99)then
call ExecuteFunc("QR8")
call ExecuteFunc("QS8")
call ExecuteFunc("QT8")
call ExecuteFunc("QU8")
call ExecuteFunc("QV8")
call ExecuteFunc("QW8")
elseif(K38==74)then
call ExecuteFunc("QX8")
call ExecuteFunc("QY8")
call ExecuteFunc("QZ8")
call ExecuteFunc("QA8")
elseif(K38==105)then
call ExecuteFunc("QB8")
call ExecuteFunc("QC8")
elseif(K38==70)then
call ExecuteFunc("Q38")
call ExecuteFunc("Q68")
call ExecuteFunc("QL8")
elseif(K38==107)then
call ExecuteFunc("Q18")
call ExecuteFunc("Q08")
call ExecuteFunc("Q58")
call ExecuteFunc("Q28")
elseif(K38==79)then
call ExecuteFunc("Q_8")
call ExecuteFunc("R48")
call ExecuteFunc("R78")
call ExecuteFunc("R88")
elseif(K38==68)then
call ExecuteFunc("R98")
call ExecuteFunc("RD8")
elseif(K38==84)then
call ExecuteFunc("RE8")
call ExecuteFunc("RF8")
call ExecuteFunc("s7")
call ExecuteFunc("RG8")
elseif(K38==85)then
call ExecuteFunc("RH8")
call ExecuteFunc("RI8")
call ExecuteFunc("RJ8")
call ExecuteFunc("RK8")
call ExecuteFunc("RM8")
elseif(K38==86)then
call ExecuteFunc("RN8")
call ExecuteFunc("RO8")
call ExecuteFunc("RP8")
call ExecuteFunc("RQ8")
elseif(K38==87)then
call ExecuteFunc("RR8")
call ExecuteFunc("RS8")
call ExecuteFunc("RT8")
call ExecuteFunc("RU8")
elseif(K38==33)then
call ExecuteFunc("RV8")
call ExecuteFunc("RW8")
call ExecuteFunc("RX8")
elseif(K38==39)then
call ExecuteFunc("RY8")
call ExecuteFunc("RZ8")
call ExecuteFunc("RA8")
elseif(K38==88)then
call ExecuteFunc("RB8")
call ExecuteFunc("RC8")
call ExecuteFunc("R38")
call ExecuteFunc("R68")
elseif(K38==40)then
call ExecuteFunc("RL8")
call ExecuteFunc("R18")
call ExecuteFunc("R08")
call ExecuteFunc("R58")
elseif K38==89 then
call ExecuteFunc("R28")
call ExecuteFunc("R_8")
elseif K38==90 then
call ExecuteFunc("S48")
call ExecuteFunc("S78")
call ExecuteFunc("S88")
call ExecuteFunc("S98")
elseif K38==71 then
call ExecuteFunc("SD8")
call ExecuteFunc("SE8")
call ExecuteFunc("SF8")
call ExecuteFunc("SG8")
elseif K38==93 then
call ExecuteFunc("SH8")
call ExecuteFunc("SI8")
call ExecuteFunc("SJ8")
call ExecuteFunc("SK8")
elseif K38==42 then
call ExecuteFunc("SM8")
call ExecuteFunc("SN8")
call ExecuteFunc("SO8")
call ExecuteFunc("SP8")
elseif K38==91 then
call ExecuteFunc("SQ8")
call ExecuteFunc("SR8")
call ExecuteFunc("SS8")
call ExecuteFunc("ST8")
call ExecuteFunc("SU8")
call ExecuteFunc("SV8")
call ExecuteFunc("SW8")
call ExecuteFunc("SX8")
elseif K38==92 then
call ExecuteFunc("SY8")
call ExecuteFunc("SZ8")
call ExecuteFunc("SA8")
call ExecuteFunc("SB8")
elseif K38==41 then
call ExecuteFunc("SC8")
call ExecuteFunc("S38")
call ExecuteFunc("S68")
call ExecuteFunc("SL8")
call ExecuteFunc("S18")
elseif K38==43 then
call ExecuteFunc("S08")
call ExecuteFunc("S58")
call ExecuteFunc("S28")
call ExecuteFunc("S_8")
call ExecuteFunc("T48")
call ExecuteFunc("T78")
elseif K38==44 then
call ExecuteFunc("T88")
call ExecuteFunc("T98")
call ExecuteFunc("TD8")
call ExecuteFunc("TE8")
elseif K38==72 then
call ExecuteFunc("TF8")
call ExecuteFunc("TG8")
call ExecuteFunc("TH8")
call ExecuteFunc("TI8")
elseif K38==94 then
call ExecuteFunc("TJ8")
elseif K38==6 then
call ExecuteFunc("TK8")
call ExecuteFunc("TM8")
call ExecuteFunc("TN8")
elseif K38==104 then
call ExecuteFunc("TO8")
call ExecuteFunc("TP8")
elseif K38==65 then
call ExecuteFunc("TQ8")
call ExecuteFunc("TR8")
call ExecuteFunc("TS8")
call ExecuteFunc("TT8")
elseif K38==45 then
call ExecuteFunc("TU8")
call ExecuteFunc("TV8")
call ExecuteFunc("TW8")
call ExecuteFunc("TX8")
elseif K38==58 then
call ExecuteFunc("TY8")
call ExecuteFunc("TZ8")
call ExecuteFunc("TA8")
elseif K38==63 then
call ExecuteFunc("TB8")
call ExecuteFunc("TC8")
elseif K38==46 then
call ExecuteFunc("T38")
call ExecuteFunc("T68")
call ExecuteFunc("TL8")
call ExecuteFunc("T18")
elseif K38==47 then
call ExecuteFunc("T08")
call ExecuteFunc("T58")
call ExecuteFunc("T28")
call ExecuteFunc("T_8")
elseif K38==11 then
call ExecuteFunc("U48")
call ExecuteFunc("U78")
elseif K38==96 then
call ExecuteFunc("U88")
call ExecuteFunc("U98")
call ExecuteFunc("UD8")
call ExecuteFunc("UE8")
elseif K38==15 then
call ExecuteFunc("UF8")
call ExecuteFunc("UG8")
call ExecuteFunc("UH8")
call ExecuteFunc("UI8")
elseif K38==97 then
call ExecuteFunc("UJ8")
call ExecuteFunc("UK8")
call ExecuteFunc("UM8")
call ExecuteFunc("UN8")
call ExecuteFunc("UO8")
elseif K38==98 then
call ExecuteFunc("UP8")
call ExecuteFunc("UQ8")
call ExecuteFunc("UR8")
call ExecuteFunc("US8")
call ExecuteFunc("UT8")
elseif K38==67 then
call ExecuteFunc("UU8")
elseif K38==28 then
call ExecuteFunc("UV8")
elseif K38==51 then
call ExecuteFunc("UW8")
call ExecuteFunc("UX8")
call ExecuteFunc("UY8")
call ExecuteFunc("UZ8")
call ExecuteFunc("UA8")
call ExecuteFunc("UB8")
call ExecuteFunc("UC8")
elseif K38==100 then
elseif K38==101 then
call ExecuteFunc("U38")
call ExecuteFunc("U68")
call ExecuteFunc("UL8")
call ExecuteFunc("U18")
elseif K38==48 then
call ExecuteFunc("U08")
call ExecuteFunc("U58")
call ExecuteFunc("U28")
call ExecuteFunc("U_8")
elseif K38==49 then
call ExecuteFunc("V48")
call ExecuteFunc("V78")
call ExecuteFunc("V88")
call ExecuteFunc("V98")
elseif K38==29 then
call ExecuteFunc("VD8")
call ExecuteFunc("VE8")
call ExecuteFunc("VF8")
call ExecuteFunc("VG8")
elseif K38==50 then
call ExecuteFunc("VH8")
call ExecuteFunc("VI8")
call ExecuteFunc("VJ8")
call ExecuteFunc("VK8")
elseif K38==30 then
call ExecuteFunc("VM8")
call ExecuteFunc("VN8")
elseif K38==53 then
call ExecuteFunc("VO8")
call ExecuteFunc("VP8")
call ExecuteFunc("VQ8")
call ExecuteFunc("VR8")
elseif K38==103 then
call ExecuteFunc("VS8")
elseif K38==54 then
call ExecuteFunc("VT8")
call ExecuteFunc("VU8")
call ExecuteFunc("VV8")
call ExecuteFunc("VW8")
call ExecuteFunc("VX8")
elseif K38==55 then
call ExecuteFunc("VY8")
call ExecuteFunc("VZ8")
call ExecuteFunc("VA8")
call ExecuteFunc("VB8")
elseif K38==56 then
call ExecuteFunc("VC8")
call ExecuteFunc("V38")
call ExecuteFunc("V68")
call ExecuteFunc("VL8")
elseif K38==57 then
call ExecuteFunc("V18")
call ExecuteFunc("V08")
call ExecuteFunc("V58")
call ExecuteFunc("V28")
elseif K38==109 then
call ExecuteFunc("V_8")
call ExecuteFunc("W48")
call ExecuteFunc("W78")
call ExecuteFunc("W88")
call ExecuteFunc("W98")
call ExecuteFunc("WD8")
elseif K38==110 then
call ExecuteFunc("WE8")
call ExecuteFunc("WF8")
call ExecuteFunc("WG8")
call ExecuteFunc("WH8")
call ExecuteFunc("WI8")
elseif K38==35 then
call ExecuteFunc("WJ8")
call ExecuteFunc("WK8")
endif
call DS8("WM8",false)
set K68=null
endfunction
function WN8 takes unit C17 returns nothing
local integer K38=GetUnitPointValue(C17)
set EZ7="Fun_RegisterHeroSkills"
if K38==500 then
call ExecuteFunc("WO8")
call ExecuteFunc("WP8")
call ExecuteFunc("WQ8")
elseif K38==600 then
call ExecuteFunc("WR8")
call ExecuteFunc("WS8")
call ExecuteFunc("WT8")
call ExecuteFunc("WU8")
call ExecuteFunc("WV8")
endif
endfunction
function WW8 takes player O57,string WX8 returns nothing
if IsPlayerInForce(GetLocalPlayer(),GetPlayersEnemies(O57))then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,E9,40,Q[GetPlayerId(O57)]+(KZ4[GetPlayerId((O57))])+"|r "+WX8)
endif
endfunction
function WY8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
set M14=true
call UQ7(t)
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_MASKED,O_4,P44,700,false,false))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_MASKED,O_4,P44,700,false,false))
set t=null
return false
endfunction
function WZ8 takes unit u returns boolean
return GetUnitTypeId(u)!=1211117645 and GetUnitTypeId(u)!=1311788365 and GetUnitTypeId(u)!=1211119431 and GetUnitTypeId(u)!=1211117657 and GetUnitTypeId(u)!=1211117642 and GetUnitTypeId(u)!=1211122232
endfunction
function WA8 takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetTriggerUnit())==false and UE7(GetHandleId(GetTriggerUnit()),"EnteredAlready")==false and WZ8(GetTriggerUnit())
endfunction
function WB8 takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1848651843
endfunction
function WC8 takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function W38 takes player j8 returns nothing
local group JJ8=LD7()
local boolexpr hP=Condition(function WB8)
call GroupEnumUnitsOfPlayer(JJ8,j8,hP)
call ForGroup(JJ8,function WC8)
call DestroyBoolExpr(hP)
call L97(JJ8)
set hP=null
set JJ8=null
endfunction
function W68 takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1852010352
endfunction
function WL8 takes nothing returns nothing
if VT then
call UnitRemoveAbility(KU4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],1093743686)
call UnitRemoveAbility(KU4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],1093743685)
call UnitRemoveAbility(KU4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],1093743688)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093683508)==0 then
call UnitAddAbility(GetEnumUnit(),1093683508)
endif
endfunction
function W18 takes player p returns nothing
local group g=LD7()
set EZ7="InitialiseBaseCoP"
call GroupEnumUnitsOfPlayer(g,p,Condition(function W68))
call ForGroup(g,function WL8)
call L97(g)
set g=null
endfunction
function u6 takes player Ua returns player
local integer O5=1
local integer Uc=0
local boolean O6=false
set EZ7="u6"
loop
if((Uc>0)and(T47(O5,O6)!=null)and(IsPlayerInForce(T47(O5,O6),QX4)))then
return T47(O5,O6)
endif
if(Z7[O5]==Ua)then
set O6=true
set Uc=O5
elseif(A7[O5]==Ua)then
set Uc=O5
endif
set O5=O5+1
exitwhen O5>5
endloop
return null
endfunction
function W08 takes unit C17,player p returns string
local string s=(GetObjectName((1848656962)))
set EZ7="DisplayPlayerRandomed"
set s=I08(s,"$hero",GetUnitName(C17))
set s=I08(s,"$p",(KZ4[GetPlayerId((p))]))
return s
endfunction
function W58 takes unit W28 returns nothing
local item W_8=UnitItemInSlot(W28,0)
local item X48=UnitItemInSlot(W28,1)
local item X78=UnitItemInSlot(W28,2)
local item X88=UnitItemInSlot(W28,3)
local item X98=UnitItemInSlot(W28,4)
local item XD8=UnitItemInSlot(W28,5)
local integer XE8=RP7(W_8)
local integer XF8=RP7(X48)
local integer XG8=RP7(X78)
local integer XH8=RP7(X88)
local integer XI8=RP7(X98)
local integer XJ8=RP7(XD8)
local integer XK8=0
set EZ7="AIDeathmatchItemReset"
call DisableTrigger(H94)
call UnitRemoveItem(W28,W_8)
call UnitRemoveItem(W28,X48)
call UnitRemoveItem(W28,X78)
call UnitRemoveItem(W28,X88)
call UnitRemoveItem(W28,X98)
call UnitRemoveItem(W28,XD8)
call RemoveItem(W_8)
call RemoveItem(X48)
call RemoveItem(X78)
call RemoveItem(X88)
call RemoveItem(X98)
call RemoveItem(XD8)
call EnableTrigger(H94)
if XE8>-1 then
set XK8=XK8+HK4[XE8]
endif
if XF8>-1 then
set XK8=XK8+HK4[XF8]
endif
if XG8>-1 then
set XK8=XK8+HK4[XG8]
endif
if XH8>-1 then
set XK8=XK8+HK4[XH8]
endif
if XI8>-1 then
set XK8=XK8+HK4[XI8]
endif
if XJ8>-1 then
set XK8=XK8+HK4[XJ8]
endif
call SetPlayerState(GetOwningPlayer(W28),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetOwningPlayer(W28),PLAYER_STATE_RESOURCE_GOLD)+XK8)
set dH[GetPlayerId(GetOwningPlayer(W28))]=0
set XD8=null
set X98=null
set X88=null
set X78=null
set X48=null
set W_8=null
endfunction
function XM8 takes nothing returns nothing
local unit C17=GetTriggerUnit()
local player j8=GetOwningPlayer(C17)
local real x
local real y
local region r=CreateRegion()
local player XN8=j8
local item XO8
local trigger t
local player p
local string s
set EZ7="XM8"
if((QA4!=null)and(IsTriggerEnabled(QA4)))then
if((GetOwningPlayer(GetTriggerUnit())==QT4)and(QV4!=null))then
call SetUnitOwner(GetTriggerUnit(),QV4,true)
call SetUnitOwner(h4[512+GetPlayerId(QT4)],QT4,false)
call SetUnitOwner(h4[512+GetPlayerId(QV4)],QV4,false)
if(not oo[GetPlayerId(QV4)])then
call AdjustPlayerStateBJ(250,QT4,PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-250,QV4,PLAYER_STATE_RESOURCE_GOLD)
endif
call ExecuteFunc("UD")
set QV4=u6(QV4)
if(QV4!=null)then
if(not P4)then
call SetUnitOwner(h4[512+GetPlayerId(QT4)],QV4,false)
call SetUnitOwner(h4[512+GetPlayerId(QV4)],QT4,false)
endif
set s="Pick a hero for "+Q[GetPlayerId(QV4)]+GetPlayerName(QV4)+"|r. Type "+F27+"-px|r to cancel."
set p=QT4
else
call RemoveUnit(nc)
call RemoveUnit(Vc)
set nc=null
set Vc=null
set s="End of Picking"
set p=QT4
if not P4 then
call BG7(QT4)
endif
endif
elseif((GetOwningPlayer(GetTriggerUnit())==QU4)and(QW4!=null))then
call SetUnitOwner(GetTriggerUnit(),QW4,true)
call SetUnitOwner(h4[512+GetPlayerId(QU4)],QU4,false)
call SetUnitOwner(h4[512+GetPlayerId(QW4)],QW4,false)
if(not oo[GetPlayerId(QW4)])then
call AdjustPlayerStateBJ(250,QU4,PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-250,QW4,PLAYER_STATE_RESOURCE_GOLD)
endif
call ExecuteFunc("UD")
set QW4=u6(QW4)
if(QW4!=null)then
if(not P4)then
call SetUnitOwner(h4[512+GetPlayerId(QU4)],QW4,false)
call SetUnitOwner(h4[512+GetPlayerId(QW4)],QU4,false)
endif
set s="Pick a hero for "+Q[GetPlayerId(QW4)]+GetPlayerName(QW4)+"|r. Type "+F27+"-px|r to cancel."
set p=QU4
else
call RemoveUnit(nc)
call RemoveUnit(Vc)
set nc=null
set Vc=null
set s="End of Picking"
set p=QU4
if not P4 then
call BG7(QU4)
endif
endif
endif
endif
set j8=GetOwningPlayer(C17)
set XN8=j8
if D4==false then
call IN8(GetOwningPlayer(C17))
endif
if(GetObjectName((1848657992)))=="Language: English" and(MJ4[(GetUnitPointValue(C17))]!="")then
call DisplayTimedTextToPlayer(j8,0,0,4,"A |c006699CC-tips|r command is available if you would like some pointers for this hero")
endif
if RT[GetPlayerId(j8)]==true then
call I78(j8,GetUnitPointValue(C17))
endif
if M14==false and(M7[GetPlayerId(Z7[1])]!=null and M7[GetPlayerId(Z7[2])]!=null and M7[GetPlayerId(Z7[3])]!=null and M7[GetPlayerId(Z7[4])]!=null and M7[GetPlayerId(Z7[5])]!=null and M7[GetPlayerId(A7[1])]!=null and M7[GetPlayerId(A7[2])]!=null and M7[GetPlayerId(A7[3])]!=null and M7[GetPlayerId(A7[4])]!=null and M7[GetPlayerId(A7[5])]!=null)then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,7.,false)
call TriggerAddCondition(t,Condition(function WY8))
set t=null
endif
set IG4[GetPlayerId(GetOwningPlayer((C17)))]=false
call RegionAddRect(r,cE)
if O9 and S9==false then
set eo[GetPlayerId(j8)]=true
set j8=TL7(StringHash("Global|ReverseMode"),(KZ4[GetPlayerId((j8))]))
call SetUnitOwner(C17,j8,true)
if(GetPlayerController(j8)==MAP_CONTROL_COMPUTER)and not D4 and not RZ4 then
call TJ7(R44,"AIHSwap|U",C17)
call ExecuteFunc("Uf")
endif
endif
if AG7(GetOwningPlayer(C17))then
if IsUnitInRegion(r,C17)then
set x=GetRandomReal(GetRectMinX(ED),GetRectMaxX(ED))
set y=GetRandomReal(GetRectMinY(ED),GetRectMaxY(ED))
else
set x=GetUnitX(C17)
set y=GetUnitY(C17)
endif
else
if IsUnitInRegion(r,C17)then
set x=GetRandomReal(GetRectMinX(L9),GetRectMaxX(L9))
set y=GetRandomReal(GetRectMinY(L9),GetRectMaxY(L9))
else
set x=GetUnitX(C17)
set y=GetUnitY(C17)
endif
endif
set P9[GetPlayerId(j8)]=true
if(not O9 or S9)then
if O04==false and O54==false then
call PanCameraToTimedForPlayer(j8,x,y,0)
endif
if GetUnitTypeId(C17)!=1311788365 then
call ClearSelectionForPlayer(j8)
endif
call SelectUnitAddForPlayer(C17,j8)
endif
call SetUnitX(C17,x)
call SetUnitY(C17,y)
if GetUnitTypeId(C17)!=1311788365 then
set M7[GetPlayerId(j8)]=C17
endif
call IA8(j8,"9",GetUnitTypeId(C17))
if O9 and S9==false then
call BD7(XN8)
else
call BD7(j8)
endif
call TI7(GetHandleId(C17),"EnteredAlready",true)
if not X8 and not RZ4 then
set J[GetUnitPointValue(C17)]=true
call B97(GetUnitTypeId(C17))
endif
if D4 then
if AG7(j8)then
set S7[0]=S7[0]+1
else
set S7[1]=S7[1]+1
endif
endif
if D4 or RZ4 then
set Be[GetPlayerId(j8)]=Be[GetPlayerId(j8)]+1
if Be[GetPlayerId(GetOwningPlayer(C17))]>1 and C17!=W7[GetPlayerId(GetOwningPlayer(C17))]then
call KP8(W7[GetPlayerId(GetOwningPlayer(C17))])
call SetHeroXP(C17,GetHeroXP(W7[GetPlayerId(GetOwningPlayer(C17))]),false)
if GetPlayerController(GetOwningPlayer(C17))==MAP_CONTROL_USER then
call DisableTrigger(H94)
call UnitAddItem(C17,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(C17))],0))
call UnitAddItem(C17,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(C17))],1))
call UnitAddItem(C17,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(C17))],2))
call UnitAddItem(C17,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(C17))],3))
call UnitAddItem(C17,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(C17))],4))
call UnitAddItem(C17,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(C17))],5))
call EnableTrigger(H94)
else
call W58(W7[GetPlayerId(GetOwningPlayer(C17))])
endif
if KO8(W7[GetPlayerId(GetOwningPlayer(C17))])then
call KS8(W7[GetPlayerId(GetOwningPlayer(C17))])
else
call D38(W7[GetPlayerId(GetOwningPlayer(C17))])
endif
endif
endif
if j8!=Z7[0]and j8!=A7[0]then
if O9 then
if TimerGetElapsed(W)>60 then
call WW8(j8,(GetObjectName((1848652357)))+" "+GetUnitName(C17))
elseif W4[GetPlayerId(XN8)]==true then
call WW8(j8,W08(C17,XN8))
else
call SetPlayerState(XN8,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(XN8,PLAYER_STATE_RESOURCE_GOLD)+250)
call WW8(j8,(GetObjectName((1848656945)))+" "+GetUnitName(C17)+" "+(GetObjectName((1848656944)))+" "+(KZ4[GetPlayerId((XN8))]))
endif
elseif H34==false or j8==Le then
if(I[GetPlayerId(GetOwningPlayer(C17))]==true and H34==false)then
call WW8(j8,(GetObjectName((1848656949)))+" "+GetUnitName(C17)+".")
elseif((W4[GetPlayerId(j8)]==true and D4==false)or E4 or O4 or A8 or RZ4)then
call WW8(j8,(GetObjectName((1848656947)))+" "+GetUnitName(C17)+".")
else
call WW8(j8,(GetObjectName((1848656946)))+" "+GetUnitName(C17)+".")
endif
endif
endif
if H84 then
if O9 then
call W38(XN8)
else
call W38(j8)
endif
endif
if(O04 or O54)and H84 then
call W38(j8)
endif
call W18(j8)
if(GetUnitTypeId(C17)==1160785973)then
call DisplayTimedTextToPlayer(j8,0,E9,60.00," ")
call DisplayTimedTextToPlayer(j8,0,E9,60.00,"|c00ff0303"+(GetObjectName((1848653384)))+(GetObjectName((1848656706)))+" "+(GetObjectName((1848653381)))+"|r")
elseif GetUnitTypeId(C17)==1328558154 or GetUnitTypeId(C17)==1311781174 or GetUnitTypeId(C17)==1430468913 or GetUnitTypeId(C17)==1162032181 then
call DisplayTimedTextToPlayer(j8,0,E9,10.00," ")
call DisplayTimedTextToPlayer(j8,0,E9,10.00,"|c00ff0303"+(GetObjectName((1848657715)))+"|r")
endif
if(GetUnitTypeId(C17)==1160786242)then
call DisplayTimedTextToPlayer(j8,0,E9,30.00," ")
call DisplayTimedTextToPlayer(j8,0,E9,30.00,"|c00ff0303"+(GetObjectName((1848653392)))+" "+(GetObjectName((1848653397)))+"|r")
endif
if(W4[GetPlayerId(j8)]==false)then
if(Y8)then
call SetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD,175+GetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD))
endif
endif
if UE7(StringHash("HeroInit:"+I2S(GetUnitPointValue(C17))),"Initialized")==false then
call TI7(StringHash("HeroInit:"+I2S(GetUnitPointValue(C17))),"Initialized",true)
call KC8(C17)
call WN8(C17)
endif
set IN4=C17
call ExecuteFunc("XP8")
if ib[GetPlayerId(GetLocalPlayer())]==false then
if AK7(j8)then
call SetPlayerName(j8,KZ4[GetPlayerId((j8))])
else
call SetPlayerName(j8,(KZ4[GetPlayerId((j8))])+" ("+CY7(M7[GetPlayerId(j8)])+")")
endif
endif
call DisplayTimedTextToPlayer(p,0,0,10.,s)
set p=null
call RemoveRegion(r)
set C17=null
set XO8=null
endfunction
function XQ8 takes nothing returns boolean
return IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==true
endfunction
function XR8 takes nothing returns nothing
if((QA4!=null)and(IsTriggerEnabled(QA4)))then
if((GetOwningPlayer(GetSoldUnit())==QT4)and(QV4!=null))then
return
elseif((GetOwningPlayer(GetSoldUnit())==QU4)and(QW4!=null))then
return
endif
endif
call BD7(GetOwningPlayer(GetSoldUnit()))
endfunction
function XS8 takes nothing returns boolean
local integer XT8
local integer O5=1
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
set XT8=0
if(IsPlayerInForce(Player(O5),QX4))then
set DZ7[O5]=DZ7[O5]+(I2R(Z84[48+O5])/8)
set XT8=R2I(DZ7[O5])
if XT8<0 then
set XT8=0
endif
set DZ7[O5]=DZ7[O5]-I2R(XT8)
endif
if(Y4)then
set XT8=XT8+2
else
set XT8=XT8+1
endif
call SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+XT8)
set O5=O5+1
endloop
return false
endfunction
function XU8 takes nothing returns boolean
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and(LoadInteger(N74,(GetSpellAbilityId()),(GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId()))))>0 then
call TimerStart(N84[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))],(LoadInteger(N74,(GetSpellAbilityId()),(GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId())))),false,null)
endif
if GetSpellAbilityId()==1093677655 then
call TimerStart(N84[GetPlayerId((GetOwningPlayer(GetTriggerUnit())))],0,false,null)
endif
return false
endfunction
function XV8 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer i
set EZ7="XV8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XU8))
set i=0
loop
exitwhen(i>13)
set N84[i]=CreateTimer()
set i=i+1
endloop
set N74=InitHashtable()
call SaveInteger(N74,1093742923,1,60)
call SaveInteger(N74,1093742923,2,50)
call SaveInteger(N74,1093742923,3,40)
call SaveInteger(N74,1093685042,1,80)
call SaveInteger(N74,1093685042,2,75)
call SaveInteger(N74,1093685042,3,70)
call SaveInteger(N74,1093810233,1,45)
call SaveInteger(N74,1093810233,2,45)
call SaveInteger(N74,1093810233,3,45)
call SaveInteger(N74,1093682248,1,150)
call SaveInteger(N74,1093682248,2,130)
call SaveInteger(N74,1093682248,3,110)
call SaveInteger(N74,1093750594,1,150)
call SaveInteger(N74,1093750594,2,130)
call SaveInteger(N74,1093750594,3,110)
call SaveInteger(N74,1093682514,1,150)
call SaveInteger(N74,1093682514,2,150)
call SaveInteger(N74,1093682514,3,150)
call SaveInteger(N74,1093684561,1,180)
call SaveInteger(N74,1093684561,2,160)
call SaveInteger(N74,1093684561,3,140)
call SaveInteger(N74,1093747254,1,160)
call SaveInteger(N74,1093747254,2,140)
call SaveInteger(N74,1093747254,3,120)
call SaveInteger(N74,1093752648,1,80)
call SaveInteger(N74,1093752648,2,80)
call SaveInteger(N74,1093752648,3,80)
call SaveInteger(N74,1093746993,1,100)
call SaveInteger(N74,1093746993,2,100)
call SaveInteger(N74,1093746993,3,100)
call SaveInteger(N74,1093678938,1,70)
call SaveInteger(N74,1093678938,2,70)
call SaveInteger(N74,1093678938,3,70)
call SaveInteger(N74,1095656306,1,45)
call SaveInteger(N74,1095656306,2,45)
call SaveInteger(N74,1095656306,3,45)
call SaveInteger(N74,1093687864,1,70)
call SaveInteger(N74,1093687864,2,55)
call SaveInteger(N74,1093687864,3,40)
call SaveInteger(N74,1093747542,1,12)
call SaveInteger(N74,1093747542,2,12)
call SaveInteger(N74,1093747542,3,12)
call SaveInteger(N74,1093677895,1,115)
call SaveInteger(N74,1093677895,2,115)
call SaveInteger(N74,1093677895,3,115)
call SaveInteger(N74,1093810508,1,120)
call SaveInteger(N74,1093810508,2,110)
call SaveInteger(N74,1093810508,3,100)
call SaveInteger(N74,1093685586,1,45)
call SaveInteger(N74,1093685586,2,30)
call SaveInteger(N74,1093685586,3,15)
call SaveInteger(N74,1093747251,1,4)
call SaveInteger(N74,1093747251,2,4)
call SaveInteger(N74,1093747251,3,4)
call SaveInteger(N74,1093678674,1,140)
call SaveInteger(N74,1093678674,2,120)
call SaveInteger(N74,1093678674,3,100)
call SaveInteger(N74,1093747252,1,120)
call SaveInteger(N74,1093747252,2,100)
call SaveInteger(N74,1093747252,3,80)
call SaveInteger(N74,1093682996,1,75)
call SaveInteger(N74,1093682996,2,75)
call SaveInteger(N74,1093682996,3,75)
call SaveInteger(N74,1093747768,1,20)
call SaveInteger(N74,1093747768,2,20)
call SaveInteger(N74,1093747768,3,20)
call SaveInteger(N74,1093810505,1,150)
call SaveInteger(N74,1093810505,2,150)
call SaveInteger(N74,1093810505,3,150)
call SaveInteger(N74,1093682482,1,75)
call SaveInteger(N74,1093682482,2,65)
call SaveInteger(N74,1093682482,3,55)
call SaveInteger(N74,1093750098,1,6)
call SaveInteger(N74,1093750098,2,6)
call SaveInteger(N74,1093750098,3,6)
call SaveInteger(N74,1093677903,1,140)
call SaveInteger(N74,1093677903,2,140)
call SaveInteger(N74,1093677903,3,140)
call SaveInteger(N74,1093684565,1,110)
call SaveInteger(N74,1093684565,2,110)
call SaveInteger(N74,1093684565,3,110)
call SaveInteger(N74,1093681458,1,110)
call SaveInteger(N74,1093681458,2,110)
call SaveInteger(N74,1093681458,3,110)
call SaveInteger(N74,1093686103,1,100)
call SaveInteger(N74,1093686103,2,100)
call SaveInteger(N74,1093686103,3,100)
call SaveInteger(N74,1093679411,1,100)
call SaveInteger(N74,1093679411,2,70)
call SaveInteger(N74,1093679411,3,40)
call SaveInteger(N74,1093677899,1,180)
call SaveInteger(N74,1093677899,2,150)
call SaveInteger(N74,1093677899,3,120)
call SaveInteger(N74,1093747248,1,180)
call SaveInteger(N74,1093747248,2,150)
call SaveInteger(N74,1093747248,3,120)
call SaveInteger(N74,1093685808,1,130)
call SaveInteger(N74,1093685808,2,130)
call SaveInteger(N74,1093685808,3,130)
call SaveInteger(N74,1093682764,1,30)
call SaveInteger(N74,1093682764,2,30)
call SaveInteger(N74,1093682764,3,30)
call SaveInteger(N74,1093747544,1,30)
call SaveInteger(N74,1093747544,2,30)
call SaveInteger(N74,1093747544,3,30)
call SaveInteger(N74,1093677876,1,10)
call SaveInteger(N74,1093677876,2,10)
call SaveInteger(N74,1093677876,3,10)
call SaveInteger(N74,1093743946,1,75)
call SaveInteger(N74,1093743946,2,75)
call SaveInteger(N74,1093743946,3,75)
call SaveInteger(N74,1093682483,1,70)
call SaveInteger(N74,1093682483,2,70)
call SaveInteger(N74,1093682483,3,70)
call SaveInteger(N74,1093678160,1,20)
call SaveInteger(N74,1093678160,2,15)
call SaveInteger(N74,1093678160,3,10)
call SaveInteger(N74,1093684529,1,130)
call SaveInteger(N74,1093684529,2,120)
call SaveInteger(N74,1093684529,3,110)
call SaveInteger(N74,1093747032,1,110)
call SaveInteger(N74,1093747032,2,100)
call SaveInteger(N74,1093747032,3,90)
call SaveInteger(N74,1093678388,1,160)
call SaveInteger(N74,1093678388,2,150)
call SaveInteger(N74,1093678388,3,140)
call SaveInteger(N74,1093677141,1,160)
call SaveInteger(N74,1093677141,2,150)
call SaveInteger(N74,1093677141,3,140)
call SaveInteger(N74,1093683000,1,80)
call SaveInteger(N74,1093683000,2,80)
call SaveInteger(N74,1093683000,3,80)
call SaveInteger(N74,1093678933,1,180)
call SaveInteger(N74,1093678933,2,120)
call SaveInteger(N74,1093678933,3,60)
call SaveInteger(N74,1093684053,1,160)
call SaveInteger(N74,1093684053,2,140)
call SaveInteger(N74,1093684053,3,120)
call SaveInteger(N74,1093748042,1,20)
call SaveInteger(N74,1093748042,2,20)
call SaveInteger(N74,1093748042,3,20)
call SaveInteger(N74,1093681716,1,10)
call SaveInteger(N74,1093681716,2,7)
call SaveInteger(N74,1093681716,3,5)
call SaveInteger(N74,1093683534,1,25)
call SaveInteger(N74,1093683534,2,25)
call SaveInteger(N74,1093683534,3,25)
call SaveInteger(N74,1093683761,1,120)
call SaveInteger(N74,1093683761,2,110)
call SaveInteger(N74,1093683761,3,100)
call SaveInteger(N74,1093747767,1,60)
call SaveInteger(N74,1093747767,2,60)
call SaveInteger(N74,1093747767,3,60)
call SaveInteger(N74,1093750089,1,45)
call SaveInteger(N74,1093750089,2,45)
call SaveInteger(N74,1093750089,3,45)
call SaveInteger(N74,1093747023,1,80)
call SaveInteger(N74,1093747023,2,70)
call SaveInteger(N74,1093747023,3,60)
call SaveInteger(N74,1093752150,1,80)
call SaveInteger(N74,1093752150,2,70)
call SaveInteger(N74,1093752150,3,60)
call SaveInteger(N74,1093750341,1,180)
call SaveInteger(N74,1093750341,2,160)
call SaveInteger(N74,1093750341,3,140)
call SaveInteger(N74,(1093814599),(1),(180))
call SaveInteger(N74,(1093814599),(2),(160))
call SaveInteger(N74,(1093814599),(3),(140))
call SaveInteger(N74,(1093747028),(1),(140))
call SaveInteger(N74,(1093747028),(2),(100))
call SaveInteger(N74,(1093747028),(3),(60))
call SaveInteger(N74,1093685840,1,11)
call SaveInteger(N74,1093685840,2,9)
call SaveInteger(N74,1093685840,3,7)
call SaveInteger(N74,1093684291,1,25)
call SaveInteger(N74,1093684291,2,25)
call SaveInteger(N74,1093684291,3,25)
call SaveInteger(N74,1093683534,1,45)
call SaveInteger(N74,1093683534,2,45)
call SaveInteger(N74,1093683534,3,45)
call SaveInteger(N74,1093747031,1,10)
call SaveInteger(N74,1093747031,2,10)
call SaveInteger(N74,1093747031,3,10)
call SaveInteger(N74,1093684296,1,70)
call SaveInteger(N74,1093684296,2,60)
call SaveInteger(N74,1093684296,3,50)
call SaveInteger(N74,1093678161,1,45)
call SaveInteger(N74,1093678161,2,45)
call SaveInteger(N74,1093678161,3,45)
call SaveInteger(N74,1093687121,1,45)
call SaveInteger(N74,1093687121,2,45)
call SaveInteger(N74,1093687121,3,45)
call SaveInteger(N74,1093679445,1,70)
call SaveInteger(N74,1093679445,2,60)
call SaveInteger(N74,1093679445,3,50)
call SaveInteger(N74,1093682004,1,60)
call SaveInteger(N74,1093682004,2,50)
call SaveInteger(N74,1093682004,3,40)
call SaveInteger(N74,1093810506,1,120)
call SaveInteger(N74,1093810506,2,110)
call SaveInteger(N74,1093810506,3,100)
call SaveInteger(N74,1093678929,1,160)
call SaveInteger(N74,1093678929,2,110)
call SaveInteger(N74,1093678929,3,60)
call SaveInteger(N74,1093683257,1,120)
call SaveInteger(N74,1093683257,2,120)
call SaveInteger(N74,1093683257,3,120)
call SaveInteger(N74,1093677363,1,140)
call SaveInteger(N74,1093677363,2,120)
call SaveInteger(N74,1093677363,3,100)
call SaveInteger(N74,1093681462,1,140)
call SaveInteger(N74,1093681462,2,120)
call SaveInteger(N74,1093681462,3,60)
call SaveInteger(N74,1093679152,1,80)
call SaveInteger(N74,1093679152,2,50)
call SaveInteger(N74,1093679152,3,30)
call SaveInteger(N74,1093752154,1,12)
call SaveInteger(N74,1093752154,2,12)
call SaveInteger(N74,1093752154,3,12)
call SaveInteger(N74,1093677906,1,150)
call SaveInteger(N74,1093677906,2,120)
call SaveInteger(N74,1093677906,3,90)
call SaveInteger(N74,1093681494,1,150)
call SaveInteger(N74,1093681494,2,120)
call SaveInteger(N74,1093681494,3,90)
call SaveInteger(N74,1093686072,1,85)
call SaveInteger(N74,1093686072,2,85)
call SaveInteger(N74,1093686072,3,85)
call SaveInteger(N74,1093751120,1,85)
call SaveInteger(N74,1093751120,2,85)
call SaveInteger(N74,1093751120,3,85)
call SaveInteger(N74,1093684308,1,140)
call SaveInteger(N74,1093684308,2,130)
call SaveInteger(N74,1093684308,3,120)
call SaveInteger(N74,1093747539,1,30)
call SaveInteger(N74,1093747539,2,30)
call SaveInteger(N74,1093747539,3,30)
call SaveInteger(N74,1093742932,1,80)
call SaveInteger(N74,1093742932,2,70)
call SaveInteger(N74,1093742932,3,60)
call SaveInteger(N74,1093752632,1,90)
call SaveInteger(N74,1093752632,2,75)
call SaveInteger(N74,1093752632,3,60)
call SaveInteger(N74,1093752633,1,90)
call SaveInteger(N74,1093752633,2,75)
call SaveInteger(N74,1093752633,3,60)
call SaveInteger(N74,1093810503,1,90)
call SaveInteger(N74,1093810503,2,90)
call SaveInteger(N74,1093810503,3,90)
call SaveInteger(N74,1093810504,1,90)
call SaveInteger(N74,1093810504,2,90)
call SaveInteger(N74,1093810504,3,90)
call SaveInteger(N74,1093684275,1,140)
call SaveInteger(N74,1093684275,2,140)
call SaveInteger(N74,1093684275,3,140)
call SaveInteger(N74,1093677392,1,70)
call SaveInteger(N74,1093677392,2,60)
call SaveInteger(N74,1093677392,3,50)
call SaveInteger(N74,1093679450,1,70)
call SaveInteger(N74,1093679450,2,60)
call SaveInteger(N74,1093679450,3,50)
call SaveInteger(N74,1093743184,1,60)
call SaveInteger(N74,1093743184,2,60)
call SaveInteger(N74,1093743184,3,60)
call SaveInteger(N74,1093747766,1,15)
call SaveInteger(N74,1093747766,2,15)
call SaveInteger(N74,1093747766,3,15)
call SaveInteger(N74,1093744975,1,90)
call SaveInteger(N74,1093744975,2,70)
call SaveInteger(N74,1093744975,3,50)
call SaveInteger(N74,1093681483,1,10)
call SaveInteger(N74,1093681483,2,10)
call SaveInteger(N74,1093681483,3,10)
call SaveInteger(N74,1093748313,1,10)
call SaveInteger(N74,1093748313,2,10)
call SaveInteger(N74,1093748313,3,10)
call SaveInteger(N74,1093808473,1,22)
call SaveInteger(N74,1093808473,2,17)
call SaveInteger(N74,1093808473,3,12)
call SaveInteger(N74,1093808473,4,5)
call SaveInteger(N74,1093748565,1,16)
call SaveInteger(N74,1093748565,2,8)
call SaveInteger(N74,1093748565,3,4)
call SaveInteger(N74,1093748565,4,2)
call SaveInteger(N74,1093678923,1,6)
call SaveInteger(N74,1093678923,2,6)
call SaveInteger(N74,1093678923,3,6)
call SaveInteger(N74,1093742673,1,40)
call SaveInteger(N74,1093742673,2,40)
call SaveInteger(N74,1093742673,3,40)
call SaveInteger(N74,1093747778,1,40)
call SaveInteger(N74,1093747778,2,40)
call SaveInteger(N74,1093747778,3,40)
call SaveInteger(N74,1093677128,1,110)
call SaveInteger(N74,1093677128,2,110)
call SaveInteger(N74,1093677128,3,110)
call SaveInteger(N74,1093681457,1,110)
call SaveInteger(N74,1093681457,2,110)
call SaveInteger(N74,1093681457,3,110)
call SaveInteger(N74,1093685045,1,60)
call SaveInteger(N74,1093685045,2,60)
call SaveInteger(N74,1093685045,3,60)
call SaveInteger(N74,1093747249,1,60)
call SaveInteger(N74,1093747249,2,60)
call SaveInteger(N74,1093747249,3,60)
call SaveInteger(N74,1093684820,1,80)
call SaveInteger(N74,1093684820,2,80)
call SaveInteger(N74,1093684820,3,80)
call SaveInteger(N74,1093684824,1,80)
call SaveInteger(N74,1093684824,2,80)
call SaveInteger(N74,1093684824,3,80)
call SaveInteger(N74,1093677649,1,100)
call SaveInteger(N74,1093677649,2,100)
call SaveInteger(N74,1093677649,3,100)
call SaveInteger(N74,1093747769,1,100)
call SaveInteger(N74,1093747769,2,100)
call SaveInteger(N74,1093747769,3,100)
call SaveInteger(N74,1093685579,1,100)
call SaveInteger(N74,1093685579,2,100)
call SaveInteger(N74,1093685579,3,100)
call SaveInteger(N74,1093678899,1,100)
call SaveInteger(N74,1093678899,2,100)
call SaveInteger(N74,1093678899,3,100)
call SaveInteger(N74,1093677898,1,100)
call SaveInteger(N74,1093677898,2,100)
call SaveInteger(N74,1093677898,3,100)
call SaveInteger(N74,1093678154,1,100)
call SaveInteger(N74,1093678154,2,100)
call SaveInteger(N74,1093678154,3,100)
call SaveInteger(N74,1093678157,1,100)
call SaveInteger(N74,1093678157,2,100)
call SaveInteger(N74,1093678157,3,100)
call SaveInteger(N74,1093678158,1,100)
call SaveInteger(N74,1093678158,2,100)
call SaveInteger(N74,1093678158,3,100)
call SaveInteger(N74,1093679413,1,160)
call SaveInteger(N74,1093679413,2,100)
call SaveInteger(N74,1093679413,3,40)
call SaveInteger(N74,1093679447,1,160)
call SaveInteger(N74,1093679447,2,100)
call SaveInteger(N74,1093679447,3,40)
call SaveInteger(N74,1093747288,1,200)
call SaveInteger(N74,1093747288,2,190)
call SaveInteger(N74,1093747288,3,180)
call SaveInteger(N74,1093678420,1,145)
call SaveInteger(N74,1093678420,2,115)
call SaveInteger(N74,1093678420,3,60)
call SaveInteger(N74,1093679176,1,145)
call SaveInteger(N74,1093679176,2,115)
call SaveInteger(N74,1093679176,3,60)
call SaveInteger(N74,1093678647,1,100)
call SaveInteger(N74,1093678647,2,85)
call SaveInteger(N74,1093678647,3,70)
call SaveInteger(N74,1093679184,1,70)
call SaveInteger(N74,1093679184,2,70)
call SaveInteger(N74,1093679184,3,70)
call SaveInteger(N74,1093681987,1,22)
call SaveInteger(N74,1093681987,2,22)
call SaveInteger(N74,1093681987,3,22)
call SaveInteger(N74,1093685067,1,160)
call SaveInteger(N74,1093685067,2,160)
call SaveInteger(N74,1093685067,3,160)
call SaveInteger(N74,1093752407,1,160)
call SaveInteger(N74,1093752407,2,160)
call SaveInteger(N74,1093752407,3,160)
call SaveInteger(N74,1093810258,1,135)
call SaveInteger(N74,1093810258,2,135)
call SaveInteger(N74,1093810258,3,135)
call SaveInteger(N74,1093810259,1,100)
call SaveInteger(N74,1093810259,2,70)
call SaveInteger(N74,1093810259,3,40)
call SaveInteger(N74,1395667000,1,165)
call SaveInteger(N74,1395667000,2,165)
call SaveInteger(N74,1395667000,3,165)
call SaveInteger(N74,(1395667029),(1),(165))
call SaveInteger(N74,(1395667029),(2),(165))
call SaveInteger(N74,(1395667029),(3),(165))
call SaveInteger(N74,(1093751874),(1),(90))
call SaveInteger(N74,(1093751874),(2),(75))
call SaveInteger(N74,(1093751874),(3),(60))
call SaveInteger(N74,(1093752118),(1),(85))
call SaveInteger(N74,(1093752118),(2),(85))
call SaveInteger(N74,(1093752118),(3),(85))
call SaveInteger(N74,(1093751861),(1),(55))
call SaveInteger(N74,(1093751861),(2),(50))
call SaveInteger(N74,(1093751861),(3),(45))
call SaveInteger(N74,(1093808949),(1),(55))
call SaveInteger(N74,(1093808949),(2),(50))
call SaveInteger(N74,(1093808949),(3),(45))
call SaveInteger(N74,(1093751617),(1),(50))
call SaveInteger(N74,(1093751617),(2),(50))
call SaveInteger(N74,(1093751617),(3),(50))
call SaveInteger(N74,(1093751371),(1),(110))
call SaveInteger(N74,(1093751371),(2),(110))
call SaveInteger(N74,(1093751371),(3),(110))
call SaveInteger(N74,(1093753169),(1),(30))
call SaveInteger(N74,(1093753169),(2),(24))
call SaveInteger(N74,(1093753169),(3),(18))
call SaveInteger(N74,(1093809992),(1),(20))
call SaveInteger(N74,(1093809992),(2),(18))
call SaveInteger(N74,(1093809992),(3),(16))
call SaveInteger(N74,(1093812807),(1),(60))
call SaveInteger(N74,(1093812807),(2),(40))
call SaveInteger(N74,(1093812807),(3),(20))
call SaveInteger(N74,(1093813065),(1),(50))
call SaveInteger(N74,(1093813065),(2),(50))
call SaveInteger(N74,(1093813065),(3),(50))
call SaveInteger(N74,(1093813557),(1),(8))
call SaveInteger(N74,(1093813557),(2),(8))
call SaveInteger(N74,(1093813557),(3),(8))
call SaveInteger(N74,(1093815600),(1),(65))
call SaveInteger(N74,(1093815600),(2),(60))
call SaveInteger(N74,(1093815600),(3),(55))
call SaveInteger(N74,(1093687856),(1),(90))
call SaveInteger(N74,(1093687856),(2),(80))
call SaveInteger(N74,(1093687856),(3),(70))
call SaveInteger(N74,(1093816118),(1),(120))
call SaveInteger(N74,(1093816118),(2),(90))
call SaveInteger(N74,(1093816118),(3),(60))
set t=null
endfunction
function XW8 takes nothing returns boolean
local player p
local integer i
local integer id
local integer XX8
set EZ7="XW8"
set i=1
loop
exitwhen i>5
set p=Z7[i]
set id=GetPlayerId(p)
set XX8=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)
if XX8<VG4[id]then
set VG4[id]=XX8
endif
set p=A7[i]
set id=GetPlayerId(p)
set XX8=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)
if XX8<VG4[id]then
set VG4[id]=XX8
endif
set i=i+1
endloop
return false
endfunction
function XY8 takes nothing returns nothing
endfunction
function XZ8 takes nothing returns nothing
local integer id=GetUnitTypeId(GetTriggerUnit())
set EZ7="XZ8"
if GetOwningPlayer(GetTriggerUnit())==B7 then
set MU[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=MU[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
elseif(id==1969711215)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1970169187)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1702061422)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1701081721)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1966092337)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1966092338)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1697656918)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1697656919)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1700946284)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1697657398)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1970107511)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1966092370)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
endif
call XY8()
endfunction
function XA8 takes integer i returns nothing
local integer x=1
local integer y=1
set EZ7="Vxv"
set NM4[i]=null
set NN4[i]=0
set NO4[i]=false
loop
exitwhen y>NP4
if NN4[y]!=0 then
set qu[x]=NM4[y]
set Qu[x]=NN4[y]
set Su[x]=NO4[y]
set NM4[y]=null
set NN4[y]=0
set NO4[y]=false
set x=x+1
endif
set y=y+1
endloop
set NP4=x-1
set x=1
loop
exitwhen x>NP4
set NM4[x]=qu[x]
set NN4[x]=Qu[x]
set NO4[x]=Su[x]
set x=x+1
endloop
endfunction
function XB8 takes nothing returns nothing
local integer T8
local integer U8
local integer XC8
local integer X38
local integer i
local player p
set EZ7="XB8"
set xY=xY+1
set HB4=0
set HC4=0
set i=0
loop
exitwhen i>5
set p=Z7[i]
if M8(p)then
set HB4=HB4+1
endif
set p=A7[i]
if M8(p)then
set HC4=HC4+1
endif
set i=i+1
endloop
if a2==false then
set ae=HB4
set ne=HC4
endif
set T8=1
set U8=5
set XC8=1
loop
exitwhen T8>U8
set p=Z7[T8]
if M8(p)then
set O7[XC8]=p
set XC8=XC8+1
endif
set T8=T8+1
endloop
set T8=1
set U8=5
set XC8=1
loop
exitwhen T8>U8
set p=A7[T8]
if M8(p)then
set P7[XC8]=p
set XC8=XC8+1
endif
set T8=T8+1
endloop
if xY==1 then
set T4=CreateMultiboardBJ(7+6+2,3+HC4+HB4," ")
call MultiboardMinimize(T4,true)
endif
call l6(T4,2,1,"CD")
call l6(T4,3,1,"|c00838B8BL|r")
call l6(T4,4,1,Dj+"K|r")
call l6(T4,5,1,gj+"D|r")
call l6(T4,6,1,Gj+"A|r")
call l6(T4,1,2,GetObjectName(1848656971))
call l6(T4,4,2,Dj+"0|r")
call l6(T4,5,2,gj+"0|r")
call l6(T4,1,3+HB4,GetObjectName(1848656975))
call l6(T4,4,3+HB4,Dj+"0|r")
call l6(T4,5,3+HB4,gj+"0|r")
call U6(T4,1,2,(BQ7(SubString(Q[GetPlayerId((Z7[0]))],4,6)))/ 255.0*100,(BQ7(SubString(Q[GetPlayerId((Z7[0]))],6,8)))/ 255.0*100,(BQ7(SubString(Q[GetPlayerId((Z7[0]))],8,10)))/ 255.0*100,0)
call U6(T4,1,3+HB4,(BQ7(SubString(Q[GetPlayerId((A7[0]))],4,6)))/ 255.0*100,(BQ7(SubString(Q[GetPlayerId((A7[0]))],6,8)))/ 255.0*100,(BQ7(SubString(Q[GetPlayerId((A7[0]))],8,10)))/ 255.0*100,0)
set T8=1
set U8=3+HC4+HB4
loop
exitwhen T8>U8
call x7(T4,1,T8,10.8)
call x7(T4,2,T8,2)
call x7(T4,3,T8,2)
call x7(T4,4,T8,1.3)
call x7(T4,5,T8,1.3)
call x7(T4,6,T8,1.3)
call x7(T4,7,T8,2.5)
call x7(T4,8,T8,0.01)
call x7(T4,9,T8,0.01)
call x7(T4,10,T8,0.01)
call x7(T4,11,T8,0.01)
call x7(T4,12,T8,0.01)
call x7(T4,13,T8,0.01)
call x7(T4,14,T8,0.01)
call x7(T4,15,T8,0.01)
set T8=T8+1
endloop
set T8=1
set U8=7+6+2
loop
exitwhen T8>U8
set XC8=1
set X38=3+HC4+HB4
loop
exitwhen XC8>X38
call s6(T4,T8,XC8,true,false)
set XC8=XC8+1
endloop
set T8=T8+1
endloop
set T8=1
set U8=HB4
loop
exitwhen T8>U8
call s6(T4,1,T8+2,true,true)
call U6(T4,7,T8+2,255,204,0,0)
set N94[GetPlayerId(O7[T8])]=1-1
set ND4[GetPlayerId(O7[T8])]=T8+2-1
call l6(T4,1,T8+2,(KZ4[GetPlayerId((O7[T8]))]))
if AM7(O7[T8])then
call U6(T4,1,T8+2,(BQ7(SubString(Q[GetPlayerId((O7[T8]))],4,6)))/ 255.0*100,(BQ7(SubString(Q[GetPlayerId((O7[T8]))],6,8)))/ 255.0*100,(BQ7(SubString(Q[GetPlayerId((O7[T8]))],8,10)))/ 255.0*100,0)
call U6(T4,2,T8+2,(BQ7(SubString(Q[GetPlayerId((O7[T8]))],4,6)))/ 255.0*100,(BQ7(SubString(Q[GetPlayerId((O7[T8]))],6,8)))/ 255.0*100,(BQ7(SubString(Q[GetPlayerId((O7[T8]))],8,10)))/ 255.0*100,0)
else
call l6(T4,1,T8+2,"|c00333333"+(KZ4[GetPlayerId((O7[T8]))])+"|r")
endif
call l6(T4,4,(T8+2),Dj+"0|r")
call l6(T4,5,(T8+2),gj+"0|r")
call l6(T4,6,(T8+2),Gj+"0|r")
set T8=T8+1
endloop
set T8=1
set U8=HC4
loop
exitwhen T8>U8
call s6(T4,1,T8+3+HB4,true,true)
call U6(T4,7,T8+3+HB4,255,204,0,0)
set N94[GetPlayerId(P7[T8])]=1-1
set ND4[GetPlayerId(P7[T8])]=T8+3+HB4-1
call l6(T4,1,T8+3+HB4,(KZ4[GetPlayerId((P7[T8]))]))
if AM7(P7[T8])then
call U6(T4,1,T8+3+HB4,(BQ7(SubString(Q[GetPlayerId((P7[T8]))],4,6)))/ 255.0*100,(BQ7(SubString(Q[GetPlayerId((P7[T8]))],6,8)))/ 255.0*100,(BQ7(SubString(Q[GetPlayerId((P7[T8]))],8,10)))/ 255.0*100,0)
call U6(T4,2,T8+3+HB4,(BQ7(SubString(Q[GetPlayerId((P7[T8]))],4,6)))/ 255.0*100,(BQ7(SubString(Q[GetPlayerId((P7[T8]))],6,8)))/ 255.0*100,(BQ7(SubString(Q[GetPlayerId((P7[T8]))],8,10)))/ 255.0*100,0)
else
call l6(T4,1,T8+3+HB4,"|c00333333"+(KZ4[GetPlayerId((P7[T8]))])+"|r")
endif
call l6(T4,4,(T8+3+HB4),Dj+"0|r")
call l6(T4,5,(T8+3+HB4),gj+"0|r")
call l6(T4,6,(T8+3+HB4),Gj+"0|r")
set T8=T8+1
endloop
set oY=1
set rY=3+HC4+HB4-2
if V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4)and xY==1 then
call MultiboardDisplay(T4,false)
endif
call s6(T4,7,1,false,true)
call P6(T4,7,1,"UI\\Feedback\\Resources\\ResourceGold.blp")
call XY8()
if xY>1 then
call TriggerExecute(vA)
endif
endfunction
function X68 takes integer O5,boolean XL8 returns string
if not IsPlayerInForce(Player(O5),QX4)then
return" "
elseif M7[O5]==null then
return F_7+GetObjectName(1496395829)
elseif not R37(M7[O5])then
return F_7+GetObjectName(1496395830)
elseif Bz<QD4-25. then
return F_7+GetObjectName(1496395831)
elseif Bz<QD4 then
return GetObjectName(1496395832)
elseif eY[O5]==1 then
if R17(M7[O5])then
return GetObjectName(1496395833)
elseif G0[48+O5]then
return GetObjectName(1496396080)
elseif h4[O5]!=null then
if XL8 then
return GetObjectName(1496396338)+Q[GetPlayerId(GetOwningPlayer(h4[O5]))]+CZ7(h4[O5])+"|r"
else
return GetObjectName(1496396337)+Q[GetPlayerId(GetOwningPlayer(h4[O5]))]+CZ7(h4[O5])+"|r"
endif
elseif h9[64+O5]!=null then
return GetObjectName(1496396081)+QJ7(eY[80+O5],false)
elseif eY[80+O5]<=2 then
return GetObjectName(1496396082)+QJ7(eY[80+O5],false)
else
return GetObjectName(1496396082)
endif
elseif eY[O5]==2 then
return GetObjectName(1496396083)
elseif eY[O5]==3 then
return GetObjectName(1496396084)+QJ7(E37[64+O5],true)
elseif eY[O5]==4 then
return GetObjectName(1496396085)+QJ7(E37[64+O5],true)
elseif eY[O5]==9 then
if eY[272+O5]==0 then
return GetObjectName(1496396086)
elseif h8[96+O5]!=null then
set bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(h8[96+O5]))
return GetObjectName(1496396087)+Q[bj_forLoopAIndex]+I2S(bj_forLoopAIndex)+"|r"
else
return GetObjectName(1496330545)+QJ7(eY[288+O5],false)
endif
elseif eY[O5]==10 then
return GetObjectName(1496396088)
elseif eY[O5]==11 then
if XL8 then
return GetObjectName(1496396089)
else
return GetObjectName(1496396336)
endif
endif
return" "
endfunction
function X18 takes nothing returns nothing
local integer T8
local integer U8
local string X08
set EZ7="X18"
call l6(T4,4,2,Dj+I2S(T[GetPlayerId(Z7[0])])+"|r")
call l6(T4,5,2,gj+I2S(V[GetPlayerId(Z7[0])])+"|r")
call l6(T4,4,3+HB4,Dj+I2S(T[GetPlayerId(A7[0])])+"|r")
call l6(T4,5,3+HB4,gj+I2S(V[GetPlayerId(A7[0])])+"|r")
set T8=1
set U8=HB4
loop
exitwhen T8>U8
call l6(T4,4,(T8+2),Dj+I2S(T[GetPlayerId(O7[T8])])+"|r")
call l6(T4,5,(T8+2),gj+I2S(V[GetPlayerId(O7[T8])])+"|r")
call l6(T4,6,(T8+2),Gj+I2S(IU[GetPlayerId(O7[T8])])+"|r")
set X08=X68(GetPlayerId(O7[T8]),false)
if O7[T8]==QT4 then
set X08=G77
endif
if(not DQ7[32+GetPlayerId(GetLocalPlayer())])then
set X08=" "
elseif(not(IsPlayerAlly(GetLocalPlayer(),Z7[0])))then
set X08=" "
endif
call l6(T4,15,T8+2,X08)
set X08=" "
if DQ7[80+GetPlayerId(GetLocalPlayer())]and AK7(O7[T8])then
if EU then
set X08=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(O7[T8])-100.))+"%|r"
endif
if EU and FU then
set X08=X08+" - "
endif
if FU then
set X08=X08+DB7+"+"+I2S(Z84[48+GetPlayerId(O7[T8])])+"|r"
endif
endif
call l6(T4,14,(T8+2),X08)
set T8=T8+1
endloop
set T8=1
set U8=HC4
loop
exitwhen T8>U8
call l6(T4,4,(T8+3+HB4),Dj+I2S(T[GetPlayerId(P7[T8])])+"|r")
call l6(T4,5,(T8+3+HB4),gj+I2S(V[GetPlayerId(P7[T8])])+"|r")
call l6(T4,6,(T8+3+HB4),Gj+I2S(IU[GetPlayerId(P7[T8])])+"|r")
set X08=X68(GetPlayerId(P7[T8]),false)
if P7[T8]==QU4 then
set X08=G77
endif
if(not DQ7[32+GetPlayerId(GetLocalPlayer())])then
set X08=" "
elseif(not(IsPlayerAlly(GetLocalPlayer(),A7[0])))then
set X08=" "
endif
call l6(T4,15,(T8+3+HB4),X08)
set X08=" "
if DQ7[80+GetPlayerId(GetLocalPlayer())]and AK7(P7[T8])then
if EU then
set X08=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(P7[T8])-100.))+"%|r"
endif
if EU and FU then
set X08=X08+" - "
endif
if FU then
set X08=X08+DB7+"+"+I2S(Z84[48+GetPlayerId(P7[T8])])+"|r"
endif
endif
call l6(T4,14,(T8+3+HB4),X08)
set T8=T8+1
endloop
endfunction
function X58 takes nothing returns boolean
if(GetUnitTypeId(GetTriggerUnit())==1697656914)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1697657137)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1697656915)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1697657145)then
return true
endif
return false
endfunction
function X28 takes nothing returns nothing
set F[1]=(F[1]+1)
endfunction
function X_8 takes nothing returns boolean
if(GetUnitTypeId(GetTriggerUnit())==1966092365)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1966092356)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1966092366)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1966092372)then
return true
endif
return false
endfunction
function Y48 takes nothing returns nothing
set F[2]=(F[2]+1)
endfunction
function Y78 takes integer a returns integer
local integer i=0
local integer x=0
local string s=I2S(a)
set EZ7="VOv"
loop
exitwhen i>StringLength(s)
if SubString(s,i,i+1)=="1" then
set x=x+1
endif
set i=i+1
endloop
return x
endfunction
function Y88 takes player Y98,integer YD8 returns string
if IsPlayerAlly(GetLocalPlayer(),Y98)==true then
return JT8(UnitItemInSlot(M7[GetPlayerId(Y98)],YD8-1))
else
return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
endif
endfunction
function YE8 takes nothing returns nothing
local integer T8
local integer U8
local string II8
local real YF8
local integer r
local integer i
local integer array time_1a
local string array color_1a
local integer index_1a=0
local integer array time_1b
local string array color_1b
local integer index_1b=0
local integer x=0
local integer id
local string YG8
local string YH8
local string YI8
local string YJ8
local string YK8
local string s2=" "
local string s
local real YM8
local string spacer
local integer YN8=0
local string YO8=""
local string YP8=""
local integer YQ8=0
local integer YR8=0
local string YS8=""
local string X08
set EZ7="YE8"
if T4==null then
return
endif
set i=1
loop
exitwhen i>5
set r=R2I(TimerGetRemaining(U[GetPlayerId(Z7[i])]))
if r>0 then
set YN8=YN8+Y78(r)
if YQ8==0 then
if r<10 then
set YO8=Q[GetPlayerId(Z7[i])]+"0"+I2S(r)+" |r"
else
set YO8=Q[GetPlayerId(Z7[i])]+I2S(r)+" |r"
endif
else
if r<10 then
set YO8=YO8+Hj+"| |r"+Q[GetPlayerId(Z7[i])]+"0"+I2S(r)+" |r"
else
set YO8=YO8+Hj+"| |r"+Q[GetPlayerId(Z7[i])]+I2S(r)+" |r"
endif
endif
set YQ8=YQ8+1
endif
set i=i+1
endloop
if YQ8>0 then
if IsPlayerAlly(GetLocalPlayer(),Z7[0])==true then
set YO8=Hj+"["+GetObjectName(1848658515)+" |r"+YO8+Hj+"]|r"
else
set YO8=fj+"["+GetObjectName(1848658514)+" |r"+YO8+fj+"]|r"
endif
endif
set i=1
loop
exitwhen i>5
set r=R2I(TimerGetRemaining(U[GetPlayerId(A7[i])]))
if r>0 then
set YN8=YN8+Y78(r)
if YR8==0 then
if r<10 then
set YP8=Q[GetPlayerId(A7[i])]+"0"+I2S(r)+" |r"
else
set YP8=Q[GetPlayerId(A7[i])]+I2S(r)+" |r"
endif
else
if r<10 then
set YP8=YP8+Hj+"| |r"+Q[GetPlayerId(A7[i])]+"0"+I2S(r)+" |r"
else
set YP8=YP8+Hj+"| |r"+Q[GetPlayerId(A7[i])]+I2S(r)+" |r"
endif
endif
set YR8=YR8+1
endif
set i=i+1
endloop
if YR8>0 then
if IsPlayerAlly(GetLocalPlayer(),A7[0])==true then
set YP8=Hj+"["+GetObjectName(1848658515)+" |r"+YP8+Hj+"]|r"
else
set YP8=fj+"["+GetObjectName(1848658514)+" |r"+YP8+fj+"]|r"
endif
endif
if T4!=null then
set id=GetPlayerId(GetLocalPlayer())
if id>=0 and id<16 then
if AW[x]then
set YG8=I2S(T[id])
set YH8=I2S(V[id])
set YI8=I2S(IU[id])
set YJ8=I2S(T7[id])
set YK8=I2S(U7[id])
set s2=" |c00838B8B("+YG8+"/"+YH8+"/"+YI8+" - "+YJ8+"/"+YK8+" - |r|c00FFDC00"+I2S(VG4[id])+"|r |c00838B8B)|r"
endif
endif
endif
if YR8==0 and YQ8==0 then
call MultiboardSetTitleText(T4,s2)
else
if IsPlayerAlly(GetLocalPlayer(),Z7[0])==true then
call MultiboardSetTitleText(T4,YP8+" "+YO8+" "+s2)
else
call MultiboardSetTitleText(T4,YO8+" "+YP8+" "+s2)
endif
endif
if(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))==false then
call MultiboardDisplay(T4,true)
endif
if Nb[GetPlayerId(GetLocalPlayer())]==false then
call SetWaterBaseColor(0,0,255,255)
endif
set X08=" "
if DQ7[32+GetPlayerId(GetLocalPlayer())]then
set X08=GD7
endif
call l6(T4,15,1,X08)
set X08=" "
if DQ7[80+GetPlayerId(GetLocalPlayer())]then
set X08=G47
if EU then
set X08=X08+G87
endif
if EU and FU then
set X08=X08+" - "
endif
if FU then
set X08=X08+G97
endif
endif
call l6(T4,14,1,X08)
set T8=1
set U8=HB4
loop
exitwhen T8>U8
call P6(T4,1,T8+2,CC7(M7[GetPlayerId(O7[T8])]))
call l6(T4,3,T8+2,"|c00838B8B"+I2S(GetHeroLevel(M7[GetPlayerId(O7[T8])]))+"|r")
if ab[GetPlayerId(GetLocalPlayer())]then
call x7(T4,7,1,3)
call x7(T4,8,1,2.8)
call x7(T4,9,1,0.8)
call x7(T4,10,1,0.8)
call x7(T4,11,1,0.8)
call x7(T4,12,1,0.8)
call x7(T4,13,1,OB7(DQ7[32+GetPlayerId(GetLocalPlayer())],1.5,0.1))
call x7(T4,7,T8+2,3)
call x7(T4,8,T8+2,1.1)
call x7(T4,9,T8+2,1.1)
call x7(T4,10,T8+2,1.1)
call x7(T4,11,T8+2,1.1)
call x7(T4,12,T8+2,1.1)
call x7(T4,13,T8+2,OB7(DQ7[32+GetPlayerId(GetLocalPlayer())],1.5,0.1))
call s6(T4,8,T8+2,false,true)
call s6(T4,9,T8+2,false,true)
call s6(T4,10,T8+2,false,true)
call s6(T4,11,T8+2,false,true)
call s6(T4,12,T8+2,false,true)
call s6(T4,13,T8+2,false,true)
call l6(T4,8,1,"Items")
else
call x7(T4,7,1,2)
call x7(T4,8,1,0.1)
call x7(T4,9,1,0.1)
call x7(T4,10,1,0.1)
call x7(T4,11,1,0.1)
call x7(T4,12,1,0.1)
call x7(T4,13,1,0.1)
call x7(T4,7,T8+2,2.5)
call x7(T4,8,T8+2,0.1)
call x7(T4,9,T8+2,0.1)
call x7(T4,10,T8+2,0.1)
call x7(T4,11,T8+2,0.1)
call x7(T4,12,T8+2,0.1)
call x7(T4,13,T8+2,0.1)
call s6(T4,8,T8+2,false,false)
call s6(T4,9,T8+2,false,false)
call s6(T4,10,T8+2,false,false)
call s6(T4,11,T8+2,false,false)
call s6(T4,12,T8+2,false,false)
call s6(T4,13,T8+2,false,false)
call l6(T4,8,1," ")
endif
call P6(T4,8,T8+2,Y88(O7[T8],1))
call P6(T4,9,T8+2,Y88(O7[T8],2))
call P6(T4,10,T8+2,Y88(O7[T8],3))
call P6(T4,11,T8+2,Y88(O7[T8],4))
call P6(T4,12,T8+2,Y88(O7[T8],5))
call P6(T4,13,T8+2,Y88(O7[T8],6))
if(C57(M7[GetPlayerId(O7[T8])])and M7[GetPlayerId(O7[T8])]!=null and TimerGetRemaining(U[GetPlayerId(O7[T8])])>0)then
if IsPlayerAlly(GetLocalPlayer(),O7[T8])then
set YS8=Hj+" ("+(I2S(R2I(TimerGetRemaining(U[GetPlayerId(O7[T8])]))))+")|r"
else
set YS8=fj+" ("+(I2S(R2I(TimerGetRemaining(U[GetPlayerId(O7[T8])]))))+")|r"
endif
else
set YS8="  "
endif
if U2[GetPlayerId(O7[T8])]then
call l6(T4,1,T8+2,"|c00333333"+(KZ4[GetPlayerId((O7[T8]))])+"|r"+YS8)
else
call l6(T4,1,T8+2,(KZ4[GetPlayerId((O7[T8]))])+YS8)
endif
set YM8=(TimerGetRemaining(N84[GetPlayerId((O7[T8]))]))
if YM8>0 then
set s=I2S(R2I(YM8))
else
set s=" "
endif
if IsPlayerAlly(GetLocalPlayer(),O7[T8])==false then
call l6(T4,7,T8+2," ")
set s=" "
else
call l6(T4,7,T8+2,"|cffffcc00"+I2S(R2I(GetPlayerState(O7[T8],PLAYER_STATE_RESOURCE_GOLD)))+"|r")
endif
call l6(T4,2,T8+2,s)
set X08=X68(GetPlayerId(O7[T8]),false)
if O7[T8]==QT4 then
set X08=G77
endif
if(not DQ7[32+GetPlayerId(GetLocalPlayer())])then
set X08=" "
elseif(not(IsPlayerAlly(GetLocalPlayer(),Z7[0])))then
set X08=" "
endif
call l6(T4,15,T8+2,X08)
set X08=" "
if DQ7[80+GetPlayerId(GetLocalPlayer())]and AK7(O7[T8])then
if EU then
set X08=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(O7[T8])-100.))+"%|r"
endif
if EU and FU then
set X08=X08+" - "
endif
if FU then
set X08=X08+DB7+"+"+I2S(Z84[48+GetPlayerId(O7[T8])])+"|r"
endif
endif
call l6(T4,14,T8+2,X08)
set T8=T8+1
endloop
set T8=1
set U8=HC4
loop
exitwhen T8>U8
call P6(T4,1,T8+3+HB4,CC7(M7[GetPlayerId(P7[T8])]))
call l6(T4,3,T8+3+HB4,"|c00838B8B"+I2S(GetHeroLevel(M7[GetPlayerId(P7[T8])]))+"|r")
if ab[GetPlayerId(GetLocalPlayer())]then
call x7(T4,7,1,3)
call x7(T4,8,1,2.8)
call x7(T4,9,1,0.8)
call x7(T4,10,1,0.8)
call x7(T4,11,1,0.8)
call x7(T4,12,1,0.8)
call x7(T4,13,1,OB7(DQ7[32+GetPlayerId(GetLocalPlayer())],1.5,0.1))
call x7(T4,7,T8+3+HB4,3)
call x7(T4,8,T8+3+HB4,1.1)
call x7(T4,9,T8+3+HB4,1.1)
call x7(T4,10,T8+3+HB4,1.1)
call x7(T4,11,T8+3+HB4,1.1)
call x7(T4,12,T8+3+HB4,1.1)
call x7(T4,13,T8+3+HB4,OB7(DQ7[32+GetPlayerId(GetLocalPlayer())],1.5,0.1))
call s6(T4,8,T8+3+HB4,false,true)
call s6(T4,9,T8+3+HB4,false,true)
call s6(T4,10,T8+3+HB4,false,true)
call s6(T4,11,T8+3+HB4,false,true)
call s6(T4,12,T8+3+HB4,false,true)
call s6(T4,13,T8+3+HB4,false,true)
call l6(T4,8,1,"Items")
else
call x7(T4,7,1,2)
call x7(T4,8,1,0.1)
call x7(T4,9,1,0.1)
call x7(T4,10,1,0.1)
call x7(T4,11,1,0.1)
call x7(T4,12,1,0.1)
call x7(T4,13,1,0.1)
call x7(T4,7,T8+3+HB4,2.5)
call x7(T4,8,T8+3+HB4,0.1)
call x7(T4,9,T8+3+HB4,0.1)
call x7(T4,10,T8+3+HB4,0.1)
call x7(T4,11,T8+3+HB4,0.1)
call x7(T4,12,T8+3+HB4,0.1)
call x7(T4,13,T8+3+HB4,0.1)
call s6(T4,8,T8+3+HB4,false,false)
call s6(T4,9,T8+3+HB4,false,false)
call s6(T4,10,T8+3+HB4,false,false)
call s6(T4,11,T8+3+HB4,false,false)
call s6(T4,12,T8+3+HB4,false,false)
call s6(T4,13,T8+3+HB4,false,false)
call l6(T4,8,1," ")
endif
call P6(T4,8,T8+3+HB4,Y88(P7[T8],1))
call P6(T4,9,T8+3+HB4,Y88(P7[T8],2))
call P6(T4,10,T8+3+HB4,Y88(P7[T8],3))
call P6(T4,11,T8+3+HB4,Y88(P7[T8],4))
call P6(T4,12,T8+3+HB4,Y88(P7[T8],5))
call P6(T4,13,T8+3+HB4,Y88(P7[T8],6))
if(C57(M7[GetPlayerId(P7[T8])])and M7[GetPlayerId(P7[T8])]!=null and TimerGetRemaining(U[GetPlayerId(P7[T8])])>0)then
if IsPlayerAlly(GetLocalPlayer(),P7[T8])then
set YS8=Hj+" ("+(I2S(R2I(TimerGetRemaining(U[GetPlayerId(P7[T8])]))))+")|r"
else
set YS8=fj+" ("+(I2S(R2I(TimerGetRemaining(U[GetPlayerId(P7[T8])]))))+")|r"
endif
else
set YS8="  "
endif
if U2[GetPlayerId(P7[T8])]then
call l6(T4,1,T8+3+HB4,"|c00333333"+(KZ4[GetPlayerId((P7[T8]))])+"|r"+YS8)
else
call l6(T4,1,T8+3+HB4,(KZ4[GetPlayerId((P7[T8]))])+YS8)
endif
set YM8=(TimerGetRemaining(N84[GetPlayerId((P7[T8]))]))
if YM8>0 then
set s=I2S(R2I(YM8))
else
set s=" "
endif
if IsPlayerAlly(GetLocalPlayer(),P7[T8])==false then
call l6(T4,7,T8+3+HB4," ")
set s=" "
else
call l6(T4,7,T8+3+HB4,"|cffffcc00"+I2S(R2I(GetPlayerState(P7[T8],PLAYER_STATE_RESOURCE_GOLD)))+"|r")
endif
call l6(T4,2,T8+3+HB4,s)
set X08=X68(GetPlayerId(P7[T8]),false)
if P7[T8]==QU4 then
set X08=G77
endif
if(not DQ7[32+GetPlayerId(GetLocalPlayer())])then
set X08=" "
elseif(not(IsPlayerAlly(GetLocalPlayer(),A7[0])))then
set X08=" "
endif
call l6(T4,15,T8+3+HB4,X08)
set X08=" "
if DQ7[80+GetPlayerId(GetLocalPlayer())]and AK7(P7[T8])then
if EU then
set X08=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(P7[T8])-100.))+"%|r"
endif
if EU and FU then
set X08=X08+" - "
endif
if FU then
set X08=X08+DB7+"+"+I2S(Z84[48+GetPlayerId(P7[T8])])+"|r"
endif
endif
call l6(T4,14,T8+3+HB4,X08)
set T8=T8+1
endloop
endfunction
function YT8 takes nothing returns boolean
local real YU8
local real YV8
local unit u
set EZ7="YT8"
if Vz==false then
set u=JJ4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-aY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
endif
if Ez==false then
set u=JK4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-VY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
endif
if Xz==false then
set u=JM4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-EY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
endif
if nz==false then
set u=JN4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-XY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=JO4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-OY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=JP4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-IY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=JQ4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-AY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=JR4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-bY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=JS4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-BY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=JT4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-cY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=JU4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-CY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=JV4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-DY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=JW4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-fY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=JX4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-FY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
endif
if oz==false then
set u=J04
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-JY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
endif
if rz==false then
set u=J54
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-kY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
endif
if az==false then
set u=J24
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-lY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
endif
if xz==false then
set u=J_4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-mY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=K44
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-MY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=K74
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-PY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=K84
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-QY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=K94
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-sY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=KD4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-tY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=KE4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-TY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=KF4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-uY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=KG4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-wY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=KH4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-YY)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
set u=KI4
if u!=null then
set YU8=GetUnitState(u,UNIT_STATE_LIFE)
set YV8=YU8+Q74
if YV8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-vz)then
call SetUnitState(u,UNIT_STATE_LIFE,YV8)
endif
endif
endif
set u=null
return false
endfunction
function YW8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if oz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set JY=JY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function YX8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if rz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set kY=kY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function YY8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if az or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set lY=lY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function YZ8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set mY=mY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function YA8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set MY=MY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function YB8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set PY=PY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function YC8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set QY=QY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function Y38 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set sY=sY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function Y68 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set tY=tY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function YL8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set TY=TY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function Y18 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set uY=uY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function Y08 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set wY=wY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function Y58 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set YY=YY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function Y28 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set vz=vz+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function Y_8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if Vz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set aY=aY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function Z48 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if Ez or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set VY=VY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function Z78 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if Xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set EY=EY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function Z88 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set XY=XY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function Z98 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set OY=OY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function ZD8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set IY=IY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function ZE8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set AY=AY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function ZF8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set bY=bY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function ZG8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set BY=BY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function ZH8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set cY=cY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function ZI8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set CY=CY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function ZJ8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set DY=DY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function ZK8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set fY=fY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function ZM8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set FY=FY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function ZN8 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==A7[0]then
set nz=true
endif
return false
endfunction
function ZO8 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==A7[0]then
set Vz=true
endif
return false
endfunction
function ZP8 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==A7[0]then
set Ez=true
endif
return false
endfunction
function ZQ8 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==A7[0]then
set Xz=true
endif
return false
endfunction
function ZR8 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==Z7[0]then
set xz=true
endif
return false
endfunction
function ZS8 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==Z7[0]then
set oz=true
endif
return false
endfunction
function ZT8 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==Z7[0]then
set rz=true
endif
return false
endfunction
function ZU8 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==Z7[0]then
set az=true
endif
return false
endfunction
function ZV8 takes nothing returns boolean
local group g=LD7()
set EZ7="ZV8"
set xz=false
set oz=false
set rz=false
set az=false
set nz=false
set Vz=false
set Ez=false
set Xz=false
call GroupEnumUnitsInRect(g,WD,Condition(function ZN8))
call GroupEnumUnitsInRect(g,XD,Condition(function ZN8))
call GroupEnumUnitsInRect(g,YD,Condition(function ZN8))
call GroupEnumUnitsInRect(g,lE,Condition(function ZN8))
call GroupEnumUnitsInRect(g,LE,Condition(function ZN8))
call GroupEnumUnitsInRect(g,ME,Condition(function ZN8))
call GroupEnumUnitsInRect(g,GE,Condition(function ZO8))
call GroupEnumUnitsInRect(g,QE,Condition(function ZP8))
call GroupEnumUnitsInRect(g,JE,Condition(function ZQ8))
call GroupEnumUnitsInRect(g,ZD,Condition(function ZR8))
call GroupEnumUnitsInRect(g,AD,Condition(function ZR8))
call GroupEnumUnitsInRect(g,BD,Condition(function ZR8))
call GroupEnumUnitsInRect(g,qE,Condition(function ZR8))
call GroupEnumUnitsInRect(g,pE,Condition(function ZR8))
call GroupEnumUnitsInRect(g,PE,Condition(function ZR8))
call GroupEnumUnitsInRect(g,fE,Condition(function ZS8))
call GroupEnumUnitsInRect(g,FE,Condition(function ZT8))
call GroupEnumUnitsInRect(g,gE,Condition(function ZU8))
call L97(g)
set g=null
return false
endfunction
function ZW8 takes nothing returns boolean
if IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and GetOwningPlayer(GetFilterUnit())!=B7 then
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true then
set N24=GetFilterUnit()
else
set N_4=GetFilterUnit()
endif
endif
return false
endfunction
function ZX8 takes nothing returns nothing
local unit ZY8=GetAttacker()
local unit m5=GetTriggerUnit()
local group g=LD7()
set EZ7="ZX8"
call GroupEnumUnitsInRange(g,GetUnitX(ZY8),GetUnitY(ZY8),900,Condition(function ZW8))
call L97(g)
call DisableTrigger(GetTriggeringTrigger())
if N24!=null then
call IssueTargetOrder(ZY8,"attack",N24)
call GroupAddUnit(KU,ZY8)
elseif IsUnitType(m5,UNIT_TYPE_HERO)==true and N_4!=null then
call IssueTargetOrder(ZY8,"attack",N_4)
call GroupAddUnit(KU,ZY8)
endif
call EnableTrigger(GetTriggeringTrigger())
set N24=null
set N_4=null
set ZY8=null
set m5=null
set g=null
endfunction
function ZZ8 takes nothing returns nothing
if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<1 then
call GroupRemoveUnit(KU,GetEnumUnit())
endif
if GetUnitCurrentOrder(GetEnumUnit())!=OrderId("attack")then
call GroupRemoveUnit(KU,GetEnumUnit())
call IssuePointOrderLoc(GetEnumUnit(),"attack",O8[GetUnitAbilityLevel(GetEnumUnit(),N8)])
endif
endfunction
function ZA8 takes nothing returns boolean
call ForGroup(KU,function ZZ8)
return false
endfunction
function ZB8 takes string s returns nothing
set F3=F3+1
set j3[F3]=s
endfunction
function ZC8 takes nothing returns boolean
local integer i=1
set EZ7="ZC8"
loop
exitwhen i>F3
call ExecuteFunc(j3[i])
set i=i+1
endloop
call ExecuteFunc("Z38")
call ExecuteFunc("Z68")
return false
endfunction
function ZL8 takes unit C17 returns nothing
local trigger t=CreateTrigger()
set EZ7="ENv"
call TI7(GetHandleId(GetTriggerUnit()),"DamageRegisterAlready",true)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function ZC8))
set t=null
endfunction
function Z18 takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())!=1211117645 and GetUnitTypeId(GetTriggerUnit())!=1211119431 and GetUnitTypeId(GetTriggerUnit())!=1211117657 and GetUnitTypeId(GetTriggerUnit())!=1211122232 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetTriggerUnit())==false and UE7(GetHandleId(GetTriggerUnit()),"DamageRegisterAlready")==false then
if O44 and(GetUnitTypeId(GetTriggerUnit())!=1328558160 or(GetUnitTypeId(GetTriggerUnit())==1328558160 and O74))then
call ZL8(GetTriggerUnit())
endif
endif
return false
endfunction
function Z08 takes nothing returns boolean
local unit u
local real Z58
local boolean Z28=DR8()
set EZ7="Z08"
set u=fP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set Z58=GetUnitState(u,UNIT_STATE_MANA)
if Z28 then
set Z58=D28(Z58-25,0)
else
set Z58=D58(Z58+5,300)
endif
endif
set u=FP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set Z58=GetUnitState(u,UNIT_STATE_MANA)
if Z28 then
set Z58=D28(Z58-25,0)
else
set Z58=D58(Z58+5,300)
endif
endif
set u=lP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set Z58=GetUnitState(u,UNIT_STATE_MANA)
if Z28 then
set Z58=D28(Z58-25,0)
else
set Z58=D58(Z58+5,300)
endif
endif
set u=LP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set Z58=GetUnitState(u,UNIT_STATE_MANA)
if Z28 then
set Z58=D28(Z58-25,0)
else
set Z58=D58(Z58+5,300)
endif
endif
set u=MP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set Z58=GetUnitState(u,UNIT_STATE_MANA)
if Z28 then
set Z58=D28(Z58-25,0)
else
set Z58=D58(Z58+5,300)
endif
endif
set u=pP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set Z58=GetUnitState(u,UNIT_STATE_MANA)
if Z28 then
set Z58=D28(Z58-25,0)
else
set Z58=D58(Z58+5,300)
endif
endif
set u=PP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set Z58=GetUnitState(u,UNIT_STATE_MANA)
if Z28 then
set Z58=D28(Z58-25,0)
else
set Z58=D58(Z58+5,300)
endif
endif
set u=qP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set Z58=GetUnitState(u,UNIT_STATE_MANA)
if Z28 then
set Z58=D28(Z58-25,0)
else
set Z58=D58(Z58+5,300)
endif
endif
set u=QP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set Z58=GetUnitState(u,UNIT_STATE_MANA)
if Z28 then
set Z58=D28(Z58-25,0)
else
set Z58=D58(Z58+5,300)
endif
endif
set u=sP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set Z58=GetUnitState(u,UNIT_STATE_MANA)
if Z28 then
set Z58=D28(Z58-25,0)
else
set Z58=D58(Z58+5,300)
endif
endif
set u=tP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set Z58=GetUnitState(u,UNIT_STATE_MANA)
if Z28 then
set Z58=D28(Z58-25,0)
else
set Z58=D58(Z58+5,300)
endif
endif
set u=null
return false
endfunction
function Ln takes nothing returns string
return O14
endfunction
function LN takes nothing returns string
return B9
endfunction
function Z_8 takes player j8 returns string
return Q[GetPlayerId(j8)]+CE7(j8)+"|r"
endfunction
function A48 takes player A78 returns string
local string A88=I2S(N64[GetPlayerId(A78)])
local string A98=A88
set EZ7="GetPlayerBonusGold"
if A78==GetLocalPlayer()then
set A98=Fx+A88+"|r"
endif
return A98
endfunction
function AD8 takes player A78 returns string
local string A88=I2S(N34[GetPlayerId(A78)])
local string A98=A88
set EZ7="GetPlayerBonusXP"
if A78==GetLocalPlayer()then
set A98=Fx+A88+"|r"
endif
return A98
endfunction
function Lq takes player j8 returns string
return C9[GetPlayerId(j8)]
endfunction
function KH8 takes nothing returns nothing
local integer i=1
local multiboarditem K88
set EZ7="KH8"
loop
exitwhen i>NI4
if Lq(NH4[i])!="Here"then
set K88=MultiboardGetItem(NE4,NF4[i],NG4[i])
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,"|c00555555"+Lq(NH4[i])+"|r")
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
endif
set i=i+1
endloop
endfunction
function AE8 takes player j8 returns string
local string GV=I2S(GetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD))
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function AF8 takes player j8 returns string
local string GV=I2S(Zh[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function AG8 takes player j8 returns string
local string GV=I2S(GetUnitLevel(M7[GetPlayerId(j8)]))
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function AH8 takes player j8 returns string
local string GV=I2S(H74[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function AI8 takes player j8 returns string
local string GV=I2S(NV4[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function AJ8 takes player j8 returns string
local string GV=I2S(NQ4[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function AK8 takes player j8 returns string
local string GV=I2S(IU[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function AM8 takes player j8 returns string
local string GV=I2S(T[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function AN8 takes player j8 returns string
local string GV=I2S(V[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function AO8 takes player j8 returns string
local string GV=I2S(T7[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function AP8 takes player j8 returns string
local string GV=I2S(U7[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function AQ8 takes player j8 returns string
local string GV=I2S(U97(StringHash("Stats"+I2S(GetPlayerId(j8))),"NumOfNeutrals"))
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function AR8 takes player j8 returns string
local string GV=I2S(NS4[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function AS8 takes player j8 returns string
local string GV=I2S(NT4[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function AT8 takes player j8 returns string
local string GV=I2S(NR4[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function AU8 takes player j8 returns string
local string LY
local string Lz
local string Lr
local integer k=gD[GetPlayerId(j8)]
local integer d=N04[GetPlayerId(j8)]
if k<1 then
set k=0
endif
if d<1 then
set d=0
endif
set LY=I2S(k)
set Lz=I2S(d)
set Lr=LY+"/"+Lz
if j8==GetLocalPlayer()then
set Lr=Fx+LY+"|r/"+Fx+Lz+"|r"
endif
return Lr
endfunction
function AV8 takes player j8 returns string
local integer L0=NU4[GetPlayerId(j8)]
local string KE8
local integer L1
local integer L2
set L1=(L0/60)-(1/2)
set L2=ModuloInteger(L0,60)
if(L2<10)then
set KE8=I2S(L1)+":0"+I2S(L2)
else
set KE8=I2S(L1)+":"+I2S(L2)
endif
if j8==GetLocalPlayer()then
set KE8=Fx+KE8+"|r"
endif
return KE8
endfunction
function AW8 takes player p5,player m5 returns string
local string LY
local string Lz
local string Lr
local integer k=U97(StringHash("Stats"+I2S(GetPlayerId(p5))),"Killed "+I2S(GetPlayerId(m5)))
local integer d=U97(StringHash("Stats"+I2S(GetPlayerId(p5))),"Died To "+I2S(GetPlayerId(m5)))
if k<1 then
set k=0
endif
if d<1 then
set d=0
endif
set LY=I2S(k)
set Lz=I2S(d)
set Lr=LY+"/"+Lz
if p5==GetLocalPlayer()then
set Lr=Fx+LY+"|r/"+Fx+Lz+"|r"
endif
return Lr
endfunction
function AX8 takes boolean QO7 returns nothing
local integer O5=1
local integer i=0
local integer j=1
local item RQ7=null
loop
exitwhen j>5
if QO7 then
set O5=GetPlayerId(Z7[j])
else
set O5=GetPlayerId(A7[j])
endif
if M7[O5]!=null then
set i=0
loop
exitwhen i>5
set RQ7=UnitItemInSlot(M7[O5],i)
if RQ7!=null then
set MQ7[O5*6+i]=RO7(RQ7)
else
set MQ7[O5*6+i]=-1
endif
set i=i+1
endloop
else
set i=0
loop
exitwhen i>5
set MQ7[O5*6+i]=-1
set i=i+1
endloop
endif
set j=j+1
endloop
set RQ7=null
endfunction
function AY8 takes nothing returns nothing
call AX8(true)
endfunction
function AZ8 takes nothing returns nothing
call AX8(false)
endfunction
function AA8 takes integer O5,integer i returns string
if MQ7[O5*6+i]<0 then
return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
endif
return CU[MQ7[O5*6+i]]
endfunction
function AB8 takes nothing returns nothing
local integer AC8=HB4
local integer A38=HC4
local player array A68
local player array AL8
local integer A18
local integer A08
local integer A58=21+D18(AC8,A38)+1
local integer A28=1+(AC8+A38)*2
local multiboarditem A_8
local integer i
local integer x
local integer curRow1
local integer curRow2
local string e="|r"
local string c0="|cff99ccff"
local integer B48
local integer B78
set EZ7=EZ7+"(FinalScoreboardFunc)"
call ExecuteFunc("AY8")
call ExecuteFunc("AZ8")
call DisableTrigger(FS)
call DestroyMultiboard(T4)
call TriggerSleepAction(0.)
if AC8>0 and A38>0 then
set A58=A58+2
endif
set NE4=CreateMultiboard()
call MultiboardSetItemsWidth(NE4,0)
call MultiboardSetRowCount(NE4,A58)
call MultiboardSetColumnCount(NE4,A28)
call MultiboardSetTitleText(NE4,(GetObjectName((1848657203)))+" "+" - "+(O14))
call MultiboardMinimize(NE4,true)
call MultiboardSetItemsStyle(NE4,false,false)
call MultiboardDisplay(NE4,true)
call MultiboardMinimize(NE4,false)
call MultiboardSetTitleText(NE4,(GetObjectName((1848657203)))+" "+" - "+(O14)+" - "+("|c00ff0303"+I2S(T[GetPlayerId(Z7[0])])+"|r/|c0020c000"+I2S(V[GetPlayerId(Z7[0])])+"|r"))
set x=1
set i=1
loop
exitwhen i>5
if AN7(Z7[i])or GetPlayerSlotState(Z7[i])==PLAYER_SLOT_STATE_LEFT then
set A68[x]=Z7[i]
set x=x+1
endif
set i=i+1
endloop
set x=1
set i=1
loop
exitwhen i>5
if AN7(A7[i])or GetPlayerSlotState(A7[i])==PLAYER_SLOT_STATE_LEFT then
set AL8[x]=A7[i]
set x=x+1
endif
set i=i+1
endloop
set i=0
set A08=0
loop
exitwhen i>A58
set A_8=MultiboardGetItem(NE4,i,A08)
call MultiboardSetItemWidth(A_8,0.075)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A18=0
set A08=0
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8," ")
call MultiboardReleaseItem(A_8)
set A08=0
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,false,false)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,Z_8(A68[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,Z_8(AL8[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A18=A18+1
set A08=0
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,false,false)
call MultiboardReleaseItem(A_8)
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,true)
call MultiboardSetItemValue(A_8,AG8(A68[i]))
call MultiboardSetItemIcon(A_8,(CC7(M7[GetPlayerId((A68[i]))])))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,true)
call MultiboardSetItemValue(A_8,AG8(AL8[i]))
call MultiboardSetItemIcon(A_8,(CC7(M7[GetPlayerId((AL8[i]))])))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A18=A18+1
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848657218)))+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,false,true)
call MultiboardSetItemIcon(A_8,(AA8(GetPlayerId((A68[i])),(1)-1)))
call MultiboardSetItemWidth(A_8,0.015)
call MultiboardReleaseItem(A_8)
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,false,true)
call MultiboardSetItemIcon(A_8,(AA8(GetPlayerId((A68[i])),(2)-1)))
call MultiboardSetItemWidth(A_8,0.054)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,false,true)
call MultiboardSetItemIcon(A_8,(AA8(GetPlayerId((AL8[i])),(1)-1)))
call MultiboardSetItemWidth(A_8,0.015)
call MultiboardReleaseItem(A_8)
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,false,true)
call MultiboardSetItemIcon(A_8,(AA8(GetPlayerId((AL8[i])),(2)-1)))
call MultiboardSetItemWidth(A_8,0.054)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A18=A18+1
set A08=0
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+" "+e)
call MultiboardReleaseItem(A_8)
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,false,true)
call MultiboardSetItemIcon(A_8,(AA8(GetPlayerId((A68[i])),(3)-1)))
call MultiboardSetItemWidth(A_8,0.015)
call MultiboardReleaseItem(A_8)
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,false,true)
call MultiboardSetItemIcon(A_8,(AA8(GetPlayerId((A68[i])),(4)-1)))
call MultiboardSetItemWidth(A_8,0.054)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,false,true)
call MultiboardSetItemIcon(A_8,(AA8(GetPlayerId((AL8[i])),(3)-1)))
call MultiboardSetItemWidth(A_8,0.015)
call MultiboardReleaseItem(A_8)
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,false,true)
call MultiboardSetItemIcon(A_8,(AA8(GetPlayerId((AL8[i])),(4)-1)))
call MultiboardSetItemWidth(A_8,0.054)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A18=A18+1
set A08=0
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+" "+e)
call MultiboardReleaseItem(A_8)
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,false,true)
call MultiboardSetItemIcon(A_8,(AA8(GetPlayerId((A68[i])),(5)-1)))
call MultiboardSetItemWidth(A_8,0.015)
call MultiboardReleaseItem(A_8)
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,false,true)
call MultiboardSetItemIcon(A_8,(AA8(GetPlayerId((A68[i])),(6)-1)))
call MultiboardSetItemWidth(A_8,0.054)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,false,true)
call MultiboardSetItemIcon(A_8,(AA8(GetPlayerId((AL8[i])),(5)-1)))
call MultiboardSetItemWidth(A_8,0.015)
call MultiboardReleaseItem(A_8)
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,false,true)
call MultiboardSetItemIcon(A_8,(AA8(GetPlayerId((AL8[i])),(6)-1)))
call MultiboardSetItemWidth(A_8,0.054)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848657202)))+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AE8(A68[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AE8(AL8[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848657201)))+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AM8(A68[i])+"/"+AN8(A68[i])+"/"+AK8(A68[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AM8(AL8[i])+"/"+AN8(AL8[i])+"/"+AK8(AL8[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+GetObjectName(1848658517)+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,A48(A68[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,A48(AL8[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+GetObjectName(1848658758)+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AD8(A68[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AD8(AL8[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848657200)))+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AH8(A68[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AH8(AL8[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848656980)))+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AU8(A68[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AU8(AL8[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848656986)))+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AO8(A68[i])+"/"+AP8(A68[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AO8(AL8[i])+"/"+AP8(AL8[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848656985)))+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AQ8(A68[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AQ8(AL8[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848656981)))+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AI8(A68[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AI8(AL8[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848656982)))+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AV8(A68[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AV8(AL8[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848656983)))+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AJ8(A68[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AJ8(AL8[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848656974)))+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AF8(A68[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AF8(AL8[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848656952)))+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AR8(A68[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AR8(AL8[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848656969)))+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AS8(A68[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AS8(AL8[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848656973)))+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AT8(A68[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,AT8(AL8[i]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
if AC8>0 and A38>0 then
set A08=0
set B48=A18
set B78=A08
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848656972)))+e)
call MultiboardReleaseItem(A_8)
set A18=B48
set x=1
loop
exitwhen x>AC8
set A08=0
set A18=B48
set i=1
loop
exitwhen i>A38
set A08=x+(x-1)
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,false,true)
call MultiboardSetItemIcon(A_8,(CC7(M7[GetPlayerId((A68[x]))])))
call MultiboardSetItemWidth(A_8,0.01)
call MultiboardReleaseItem(A_8)
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,true)
call MultiboardSetItemIcon(A_8,(CC7(M7[GetPlayerId((AL8[i]))])))
call MultiboardSetItemValue(A_8," "+AW8(A68[x],AL8[i]))
call MultiboardSetItemWidth(A_8,0.059)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set x=x+1
endloop
set x=AC8+1
loop
exitwhen x>(A38+AC8)
set A08=0
set A18=B48
set i=1
loop
exitwhen i>AC8
set A08=x+(x-1)
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,false,true)
call MultiboardSetItemIcon(A_8,(CC7(M7[GetPlayerId((AL8[x-AC8]))])))
call MultiboardSetItemWidth(A_8,0.01)
call MultiboardReleaseItem(A_8)
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,true)
call MultiboardSetItemIcon(A_8,(CC7(M7[GetPlayerId((A68[i]))])))
call MultiboardSetItemValue(A_8," "+AW8(AL8[x-AC8],A68[i]))
call MultiboardSetItemWidth(A_8,0.059)
call MultiboardReleaseItem(A_8)
set i=i+1
endloop
set x=x+1
endloop
endif
set A18=A18+1
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848656730)))+e)
call MultiboardReleaseItem(A_8)
set A08=0
set i=1
loop
exitwhen i>AC8
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,(C9[GetPlayerId((A68[i]))]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set NI4=NI4+1
set NF4[NI4]=A18
set NG4[NI4]=A08
set NH4[NI4]=A68[i]
set i=i+1
endloop
set i=1
loop
exitwhen i>A38
set A08=A08+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,(C9[GetPlayerId((AL8[i]))]))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
set NI4=NI4+1
set NF4[NI4]=A18
set NG4[NI4]=A08
set NH4[NI4]=AL8[i]
set i=i+1
endloop
set A08=0
set A18=A18+1
set A_8=MultiboardGetItem(NE4,A18,A08)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,c0+(GetObjectName((1848656953)))+e)
call MultiboardReleaseItem(A_8)
set A_8=MultiboardGetItem(NE4,A18,A08+1)
call MultiboardSetItemStyle(A_8,true,false)
call MultiboardSetItemValue(A_8,(B9))
call MultiboardSetItemWidth(A_8,0.07)
call MultiboardReleaseItem(A_8)
call MultiboardMinimize(NE4,true)
call MultiboardMinimize(NE4,false)
endfunction
function B88 takes nothing returns string
return O14
endfunction
function mD takes player j8 returns string
return CC7(M7[GetPlayerId(j8)])
endfunction
function me takes player j8,integer Lp returns string
return JT8(UnitItemInSlot(M7[GetPlayerId(j8)],Lp-1))
endfunction
function mE takes player j8 returns string
return Q[GetPlayerId(j8)]+CE7(j8)+"|r"
endfunction
function mf takes player j8 returns string
return I2S(GetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD))
endfunction
function mF takes player p returns string
return I2S(Zh[GetPlayerId(p)])
endfunction
function mg takes player p returns string
return I2S(GetUnitLevel(M7[GetPlayerId(p)]))
endfunction
function mG takes player p returns string
return I2S(U97(StringHash("Stats"+I2S(GetPlayerId(p))),"NumOfWards"))
endfunction
function mh takes player j8 returns string
return I2S(NV4[GetPlayerId(j8)])
endfunction
function mH takes player j8 returns string
return I2S(NQ4[GetPlayerId(j8)])
endfunction
function mi takes player j8 returns string
return I2S(T[GetPlayerId(j8)])
endfunction
function mI takes player j8 returns string
return I2S(V[GetPlayerId(j8)])
endfunction
function mj takes player j8 returns string
return I2S(T7[GetPlayerId(j8)])
endfunction
function mJ takes player j8 returns string
return I2S(U7[GetPlayerId(j8)])
endfunction
function mk takes player p returns string
return I2S(U97(StringHash("Stats"+I2S(GetPlayerId(p))),"NumOfNeutrals"))
endfunction
function mK takes player j8 returns string
return I2S(NS4[GetPlayerId(j8)])
endfunction
function ml takes player j8 returns string
return I2S(NT4[GetPlayerId(j8)])
endfunction
function mL takes player j8 returns string
return I2S(NR4[GetPlayerId(j8)])
endfunction
function mm takes player j8 returns string
local integer k=gD[GetPlayerId(j8)]
local integer d=N04[GetPlayerId(j8)]
set EZ7="mm"
if k<1 then
set k=0
endif
if d<1 then
set d=0
endif
return I2S(k)+"/"+I2S(d)
endfunction
function mM takes player j8 returns string
local integer L0=NU4[GetPlayerId(j8)]
local string KE8
local integer L1
local integer L2
set EZ7="mM"
set L1=(L0/60)-(1/2)
set L2=ModuloInteger(L0,60)
if(L2<10)then
set KE8=I2S(L1)+":0"+I2S(L2)
else
set KE8=I2S(L1)+":"+I2S(L2)
endif
return KE8
endfunction
function mn takes player p5,player m5 returns string
local integer k=U97(StringHash("Stats"+I2S(GetPlayerId(p5))),"Killed "+I2S(GetPlayerId(m5)))
local integer d=U97(StringHash("Stats"+I2S(GetPlayerId(p5))),"Died To "+I2S(GetPlayerId(m5)))
set EZ7="mn"
if k<1 then
set k=0
endif
if d<1 then
set d=0
endif
return I2S(k)+"/"+I2S(d)
endfunction
function mN takes player p5 returns string
local string mo
set EZ7="mN"
if L17(M7[GetPlayerId(p5)])then
set mo=I2S(R2I(TimerGetRemaining(U[GetPlayerId(p5)])))
else
set mo=" "
endif
return mo
endfunction
function B98 takes player p5 returns string
local real r=(TimerGetRemaining(N84[GetPlayerId((p5))]))
local string BD8
set EZ7="Eyv"
if r>0 then
set BD8=I2S(R2I(r))
else
set BD8=" "
endif
return BD8
endfunction
function BE8 takes integer mp,integer mP returns nothing
set NJ4=CreateMultiboard()
call MultiboardSetItemsWidth(NJ4,0)
call MultiboardSetRowCount(NJ4,mp)
call MultiboardSetColumnCount(NJ4,mP)
call MultiboardSetTitleText(NJ4,(GetObjectName((1848657203)))+" "+" - "+B88())
call MultiboardMinimize(NJ4,true)
call MultiboardSetItemsStyle(NJ4,false,false)
if GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4 then
call MultiboardDisplay(NJ4,true)
endif
endfunction
function mq takes nothing returns string
return"|c00ff0303"+I2S(T[GetPlayerId(Z7[0])])+"|r/|c0020c000"+I2S(V[GetPlayerId(Z7[0])])+"|r"
endfunction
function BF8 takes player BG8 returns string
return I2S(IU[GetPlayerId(BG8)])
endfunction
function BH8 takes nothing returns nothing
local integer JO8=HB4
local integer JN8=HC4
local player array BI8
local player array BJ8
local integer BK8
local integer BM8
local integer BN8=1+19+D18(JO8,JN8)+2
local integer BO8=1+(JO8+JN8)*2
local multiboarditem K88
local integer i
local integer x
local integer curRow1
local integer curRow2
local string e="|r"
local string c0="|cff99ccff"
local integer BP8
local integer BQ8
local integer BR8=131
local integer BS8=139
local integer BT8=139
local integer BU8=255
local integer YN8=0
local string YO8=""
local string YP8=""
local integer YQ8=0
local integer YR8=0
local integer r
local string X08
set EZ7="BH8"
if JO8>0 and JN8>0 then
set BN8=BN8+2
endif
if GetTriggerExecCount(GetTriggeringTrigger())==1 then
call BE8(BN8,BO8)
endif
if GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4 then
call MultiboardDisplay(NJ4,true)
endif
set i=1
loop
exitwhen i>5
set r=R2I(TimerGetRemaining(U[GetPlayerId(Z7[i])]))
if r>0 then
set YN8=YN8+Y78(r)
if YQ8==0 then
if r<10 then
set YO8=Q[GetPlayerId(Z7[i])]+"0"+I2S(r)+" |r"
else
set YO8=Q[GetPlayerId(Z7[i])]+I2S(r)+" |r"
endif
else
if r<10 then
set YO8=YO8+Hj+"| |r"+Q[GetPlayerId(Z7[i])]+"0"+I2S(r)+" |r"
else
set YO8=YO8+Hj+"| |r"+Q[GetPlayerId(Z7[i])]+I2S(r)+" |r"
endif
endif
set YQ8=YQ8+1
endif
set i=i+1
endloop
if YQ8>0 then
set YO8=Hj+"[Sentinel: |r"+YO8+Hj+"]|r"
endif
set i=1
loop
exitwhen i>5
set r=R2I(TimerGetRemaining(U[GetPlayerId(A7[i])]))
if r>0 then
set YN8=YN8+Y78(r)
if YR8==0 then
if r<10 then
set YP8=Q[GetPlayerId(A7[i])]+"0"+I2S(r)+" |r"
else
set YP8=Q[GetPlayerId(A7[i])]+I2S(r)+" |r"
endif
else
if r<10 then
set YP8=YP8+Hj+"| |r"+Q[GetPlayerId(A7[i])]+"0"+I2S(r)+" |r"
else
set YP8=YP8+Hj+"| |r"+Q[GetPlayerId(A7[i])]+I2S(r)+" |r"
endif
endif
set YR8=YR8+1
endif
set i=i+1
endloop
if YR8>0 then
set YP8=Hj+"[Scourge: |r"+YP8+Hj+"]|r"
endif
call MultiboardSetTitleText(NJ4,YO8+" "+YP8+" "+GetObjectName(1848657203)+" "+" - "+(O14)+" - "+("|c00ff0303"+I2S(T[GetPlayerId(Z7[0])])+"|r/|c0020c000"+I2S(V[GetPlayerId(Z7[0])])+"|r"))
set x=1
set i=1
loop
exitwhen i>5
if AN7(Z7[i])or GetPlayerSlotState(Z7[i])==PLAYER_SLOT_STATE_LEFT then
set BI8[x]=Z7[i]
set x=x+1
endif
set i=i+1
endloop
set x=1
set i=1
loop
exitwhen i>5
if AN7(A7[i])or GetPlayerSlotState(A7[i])==PLAYER_SLOT_STATE_LEFT then
set BJ8[x]=A7[i]
set x=x+1
endif
set i=i+1
endloop
set i=0
set BM8=0
loop
exitwhen i>BN8
set K88=MultiboardGetItem(NJ4,i,BM8)
call MultiboardSetItemWidth(K88,.075)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BK8=0
set BM8=0
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88," ")
call MultiboardReleaseItem(K88)
set BM8=0
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,false,false)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mE(BI8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mE(BJ8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BK8=BK8+1
set BM8=0
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,false,false)
call MultiboardReleaseItem(K88)
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,true)
call MultiboardSetItemValue(K88,"("+mg(BI8[i])+")")
call MultiboardSetItemIcon(K88,mD(BI8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,true)
call MultiboardSetItemValue(K88,"("+mg(BJ8[i])+")")
call MultiboardSetItemIcon(K88,mD(BJ8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BK8=BK8+1
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+"Items"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,false,true)
call MultiboardSetItemIcon(K88,me(BI8[i],1))
call MultiboardSetItemWidth(K88,.015)
call MultiboardReleaseItem(K88)
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,false,true)
call MultiboardSetItemIcon(K88,me(BI8[i],2))
call MultiboardSetItemWidth(K88,.054)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,false,true)
call MultiboardSetItemIcon(K88,me(BJ8[i],1))
call MultiboardSetItemWidth(K88,.015)
call MultiboardReleaseItem(K88)
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,false,true)
call MultiboardSetItemIcon(K88,me(BJ8[i],2))
call MultiboardSetItemWidth(K88,.054)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BK8=BK8+1
set BM8=0
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+" "+e)
call MultiboardReleaseItem(K88)
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,false,true)
call MultiboardSetItemIcon(K88,me(BI8[i],3))
call MultiboardSetItemWidth(K88,.015)
call MultiboardReleaseItem(K88)
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,false,true)
call MultiboardSetItemIcon(K88,me(BI8[i],4))
call MultiboardSetItemWidth(K88,.054)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,false,true)
call MultiboardSetItemIcon(K88,me(BJ8[i],3))
call MultiboardSetItemWidth(K88,.015)
call MultiboardReleaseItem(K88)
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,false,true)
call MultiboardSetItemIcon(K88,me(BJ8[i],4))
call MultiboardSetItemWidth(K88,.054)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BK8=BK8+1
set BM8=0
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+" "+e)
call MultiboardReleaseItem(K88)
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,false,true)
call MultiboardSetItemIcon(K88,me(BI8[i],5))
call MultiboardSetItemWidth(K88,.015)
call MultiboardReleaseItem(K88)
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,false,true)
call MultiboardSetItemIcon(K88,me(BI8[i],6))
call MultiboardSetItemWidth(K88,.054)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,false,true)
call MultiboardSetItemIcon(K88,me(BJ8[i],5))
call MultiboardSetItemWidth(K88,.015)
call MultiboardReleaseItem(K88)
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,false,true)
call MultiboardSetItemIcon(K88,me(BJ8[i],6))
call MultiboardSetItemWidth(K88,.054)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+"Current Gold"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mf(BI8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mf(BJ8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+"Hero K/D/A"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mi(BI8[i])+"/"+mI(BI8[i])+"/"+BF8(BI8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mi(BJ8[i])+"/"+mI(BJ8[i])+"/"+BF8(BJ8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+"Wards"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mG(BI8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mG(BJ8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+"Towers Kills"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mm(BI8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mm(BJ8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+"Creep Stats"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mj(BI8[i])+"/"+mJ(BI8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mj(BJ8[i])+"/"+mJ(BJ8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+"Neutral Kills"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mk(BI8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mk(BJ8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+"Hero Kill Gold"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mh(BI8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mh(BJ8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+"Time Dead"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mM(BI8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mM(BJ8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+"Gold Lost"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mH(BI8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mH(BJ8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+"Consumables"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mF(BI8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mF(BJ8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+"Double Kills"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mK(BI8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mK(BJ8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+"Triple Kills"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,ml(BI8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,ml(BJ8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+"Best Spree"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mL(BI8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,mL(BJ8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
if JO8>0 and JN8>0 then
set BM8=0
set BP8=BK8
set BQ8=BM8
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+"Kill Details"+e)
call MultiboardReleaseItem(K88)
set BK8=BP8
set x=1
loop
exitwhen x>JO8
set BM8=0
set BK8=BP8
set i=1
loop
exitwhen i>JN8
set BM8=x+(x-1)
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,false,true)
call MultiboardSetItemIcon(K88,mD(BI8[x]))
call MultiboardSetItemWidth(K88,.01)
call MultiboardReleaseItem(K88)
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,true)
call MultiboardSetItemIcon(K88,mD(BJ8[i]))
call MultiboardSetItemValue(K88," "+mn(BI8[x],BJ8[i]))
call MultiboardSetItemWidth(K88,.059)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set x=x+1
endloop
set x=JO8+1
loop
exitwhen x>(JN8+JO8)
set BM8=0
set BK8=BP8
set i=1
loop
exitwhen i>JO8
set BM8=x+(x-1)
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,false,true)
call MultiboardSetItemIcon(K88,mD(BJ8[x-JO8]))
call MultiboardSetItemWidth(K88,.01)
call MultiboardReleaseItem(K88)
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,true)
call MultiboardSetItemIcon(K88,mD(BI8[i]))
call MultiboardSetItemValue(K88," "+mn(BJ8[x-JO8],BI8[i]))
call MultiboardSetItemWidth(K88,.059)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set x=x+1
endloop
endif
set BK8=BK8+1
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+GetObjectName(1848658003)+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemValueColor(K88,BR8,BS8,BT8,BU8)
if mN(BI8[i])==" " then
call MultiboardSetItemStyle(K88,true,false)
else
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemIcon(K88,(CC7(M7[GetPlayerId((BI8[i]))])))
endif
call MultiboardSetItemValue(K88,B98(BI8[i]))
call MultiboardSetItemWidth(K88,0.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemValueColor(K88,BR8,BS8,BT8,BU8)
if mN(BJ8[i])==" " then
call MultiboardSetItemStyle(K88,true,false)
else
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemIcon(K88,(CC7(M7[GetPlayerId((BJ8[i]))])))
endif
call MultiboardSetItemValue(K88,B98(BJ8[i]))
call MultiboardSetItemWidth(K88,0.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,c0+"Respawn"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
if mN(BI8[i])==" "then
call MultiboardSetItemStyle(K88,true,false)
else
call MultiboardSetItemStyle(K88,true,true)
call MultiboardSetItemIcon(K88,mD(BI8[i]))
endif
call MultiboardSetItemValue(K88,mN(BI8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
if mN(BJ8[i])==" "then
call MultiboardSetItemStyle(K88,true,false)
else
call MultiboardSetItemStyle(K88,true,true)
call MultiboardSetItemIcon(K88,mD(BJ8[i]))
endif
call MultiboardSetItemValue(K88,mN(BJ8[i]))
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,F27+"AI Actions"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
set X08=X68(GetPlayerId(BI8[i]),true)
if BI8[i]==QT4 then
set X08=G77
endif
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,X08)
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
set X08=X68(GetPlayerId(BJ8[i]),true)
if BJ8[i]==QU4 then
set X08=G77
endif
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,X08)
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set BM8=0
set BK8=BK8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,DA7+"Exp.|r - "+DB7+"Gold|r"+e)
call MultiboardReleaseItem(K88)
set BM8=0
set i=1
loop
exitwhen i>JO8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
set X08=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(BI8[i])-100.))+"%|r - "+DB7+"+"+I2S(Z84[48+GetPlayerId(BI8[i])])+"|r"
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,X08)
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
set i=1
loop
exitwhen i>JN8
set BM8=BM8+1
set K88=MultiboardGetItem(NJ4,BK8,BM8)
set X08=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(BJ8[i])-100.))+"%|r - "+DB7+"+"+I2S(Z84[48+GetPlayerId(BJ8[i])])+"|r"
call MultiboardSetItemStyle(K88,true,false)
call MultiboardSetItemValue(K88,X08)
call MultiboardSetItemWidth(K88,.07)
call MultiboardReleaseItem(K88)
set i=i+1
endloop
endfunction
function BV8 takes integer p5,integer m5 returns boolean
local integer i=Tb-1
local real BW8=0
local real CH7=(TimerGetElapsed(W))
local integer BX8=0
set EZ7="Xev"
loop
exitwhen i==Tb or BW8>wb or BX8>200
if i==0 then
set i=8000-1
endif
set BX8=BX8+1
set BW8=CH7-Mb[i]
if pb[i]==p5 and Qb[i]==m5 and BW8<wb then
set pb[i]=0
set Qb[i]=0
return true
endif
set i=i-1
endloop
return false
endfunction
function Z38 takes nothing returns nothing
local integer p5=GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
local integer m5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
local real D_8=GetEventDamage()
set Mb[Tb]=(TimerGetElapsed(W))
set pb[Tb]=p5
set Qb[Tb]=m5
set Tb=Tb+1
if Tb==8000 then
set Tb=1
endif
endfunction
function BY8 takes unit S4,unit BZ8 returns string
local integer i=1
local integer BA8=GetPlayerId(GetOwningPlayer(S4))
local integer BB8=GetPlayerId(GetOwningPlayer(BZ8))
local integer BC8
local string B38=" "+GetObjectName(1848658521)+" "
local boolean B68=false
set EZ7="Xrv"
loop
exitwhen i>5
if AG7(GetOwningPlayer(BZ8))then
set BC8=GetPlayerId(Z7[i])
else
set BC8=GetPlayerId(A7[i])
endif
if BB8!=BC8 and BV8(BC8,BA8)then
set IU[BC8]=IU[BC8]+1
call I38("Assist"+I2S(BC8),BA8)
if B68 then
set B38=B38+"/"+Q[BC8]+(KZ4[GetPlayerId((Player(BC8)))])+"|r"
else
set B38=B38+Q[BC8]+(KZ4[GetPlayerId((Player(BC8)))])+"|r"
endif
set B68=true
endif
set i=i+1
endloop
if B68 then
return B38
endif
return" "
endfunction
function BL8 takes integer p5,integer m5 returns boolean
local integer i=Tb-1
local real BW8=0
local real CH7=(TimerGetElapsed(W))
local integer BX8=0
set EZ7="XOv"
loop
exitwhen i==Tb or BW8>wb or BX8>200
if i==0 then
set i=8000-1
endif
set BX8=BX8+1
set BW8=CH7-Mb[i]
if pb[i]==p5 and Qb[i]==m5 and BW8<wb then
return true
endif
set i=i-1
endloop
return false
endfunction
function B18 takes unit S4,unit BZ8 returns boolean
local integer i=1
local integer BA8=GetPlayerId(GetOwningPlayer(S4))
local integer BB8=GetPlayerId(GetOwningPlayer(BZ8))
local integer BC8
local string B38=" Assists: "
local boolean B68=false
local integer x=1
set EZ7="Assist_GetPlayers"
set JU[1]=null
set JU[2]=null
set JU[3]=null
set JU[4]=null
set JU[5]=null
loop
exitwhen i>5
if AG7(GetOwningPlayer(BZ8))then
set BC8=GetPlayerId(Z7[i])
else
set BC8=GetPlayerId(A7[i])
endif
if BB8!=BC8 and BL8(BC8,BA8)then
set JU[x]=Player(BC8)
set x=x+1
set B68=true
endif
set i=i+1
endloop
return B68
endfunction
function B08 takes unit S4,unit BZ8 returns string
local integer i=1
local integer BA8=GetPlayerId(GetOwningPlayer(S4))
local integer BB8=GetPlayerId(GetOwningPlayer(BZ8))
local integer BC8
local string B38=""
local boolean B68=false
set EZ7="Assist_GetString"
loop
exitwhen i>5
if AG7(GetOwningPlayer(BZ8))then
set BC8=GetPlayerId(Z7[i])
else
set BC8=GetPlayerId(A7[i])
endif
if BB8!=BC8 and BL8(BC8,BA8)then
if B68 then
set B38=B38+"/"+Q[BC8]+(KZ4[GetPlayerId((Player(BC8)))])+"|r"
else
set B38=B38+Q[BC8]+(KZ4[GetPlayerId((Player(BC8)))])+"|r"
endif
set B68=true
endif
set i=i+1
endloop
if B68 then
return B38
endif
return" "
endfunction
function B58 takes unit S4,unit BZ8 returns integer
local integer i=1
local integer BA8=GetPlayerId(GetOwningPlayer(S4))
local integer BB8=GetPlayerId(GetOwningPlayer(BZ8))
local integer BC8
local integer BX8=0
set EZ7="Assist_GetCount"
loop
exitwhen i>5
if AG7(GetOwningPlayer(BZ8))then
set BC8=GetPlayerId(Z7[i])
else
set BC8=GetPlayerId(A7[i])
endif
if BB8!=BC8 and BL8(BC8,BA8)then
set BX8=BX8+1
endif
set i=i+1
endloop
return BX8
endfunction
function B28 takes unit B_8 returns boolean
return GetUnitTypeId(B_8)==1211117641 or GetUnitTypeId(B_8)==1211117642
endfunction
function C48 takes unit B_8 returns boolean
local integer US7=GetHandleId(GetOwningPlayer(B_8))
local unit KT8=T37(US7,"Kobold0")
local unit KU8=T37(US7,"Kobold1")
local unit KV8=T37(US7,"Kobold2")
local unit KW8=T37(US7,"Kobold3")
local unit KX8=T37(US7,"Kobold4")
set EZ7="AnyKoboldQuickRevive"
if GetUnitAbilityLevel(KT8,1093685078)!=0 or GetUnitAbilityLevel(KU8,1093685078)!=0 or GetUnitAbilityLevel(KV8,1093685078)!=0 or GetUnitAbilityLevel(KW8,1093685078)!=0 or GetUnitAbilityLevel(KX8,1093685078)!=0 then
return true
endif
set KT8=null
set KU8=null
set KV8=null
set KW8=null
set KX8=null
return false
endfunction
function C78 takes unit B_8 returns boolean
local integer i=0
local integer US7=GetHandleId(GetOwningPlayer(B_8))
local unit C88=T37(US7,"Kobold0")
set EZ7="Deathtrigger_KoboldHasAegis"
loop
exitwhen i>5
if GetItemTypeId(UnitItemInSlot(C88,i))==ZU[X0]and GetItemCharges(UnitItemInSlot(C88,i))>0 then
set C88=null
return true
endif
set i=i+1
endloop
set C88=null
return false
endfunction
function C98 takes unit B_8,location CD8 returns nothing
local integer US7=GetHandleId(GetOwningPlayer(B_8))
local unit KT8=T37(US7,"Kobold0")
local unit KU8=T37(US7,"Kobold1")
local unit KV8=T37(US7,"Kobold2")
local unit KW8=T37(US7,"Kobold3")
local unit KX8=T37(US7,"Kobold4")
set EZ7="Deathtrigger_ReviveKobold"
if KT8!=null then
call ReviveHeroLoc(KT8,CD8,true)
call KI8(KT8)
endif
if KU8!=null then
call ReviveHeroLoc(KU8,CD8,true)
call KI8(KU8)
endif
if KV8!=null then
call ReviveHeroLoc(KV8,CD8,true)
call KI8(KV8)
endif
if KW8!=null then
call ReviveHeroLoc(KW8,CD8,true)
call KI8(KW8)
endif
if KX8!=null then
call ReviveHeroLoc(KX8,CD8,true)
call KI8(KX8)
endif
set KX8=null
set KW8=null
set KV8=null
set KU8=null
set KT8=null
endfunction
function CE8 takes unit LI7,real CF8,boolean CG8 returns nothing
set NP4=NP4+1
set NM4[NP4]=LI7
set NN4[NP4]=RF7()+CF8
set NO4[NP4]=CG8
endfunction
function CH8 takes integer i returns nothing
local unit B_8=NM4[i]
local player p4=GetOwningPlayer(B_8)
local location CD8
set EZ7="Xgv"
if AH7(p4)then
set CD8=GetRectCenter(L9)
else
set CD8=GetRectCenter(ED)
endif
if D9==false and L17(B_8)then
call KM8(B_8,p4,GetLocationX(CD8),GetLocationY(CD8),true)
if KO8(B_8)==false or GetUnitAbilityLevel(B_8,1093684567)==0 then
call ReviveHeroLoc(B_8,CD8,true)
else
call C98(B_8,CD8)
endif
call SetUnitState(B_8,UNIT_STATE_MANA,GetUnitState(B_8,UNIT_STATE_MAX_MANA))
endif
call RemoveLocation(CD8)
call XA8(i)
set B_8=null
set p4=null
set CD8=null
endfunction
function CI8 takes nothing returns boolean
local real CH7=RF7()
local integer i
set EZ7="CI8"
set i=1
loop
exitwhen i>NP4
if NN4[i]<CH7 and NN4[i]!=0 then
call CH8(i)
endif
if NN4[i]!=0 and L17(NM4[i])==false then
set NM4[i]=null
set NN4[i]=0
set NO4[i]=false
endif
set i=i+1
endloop
return false
endfunction
function CJ8 takes unit u returns string
local string s=GetObjectName(1848657487)
set EZ7="GetString_BuyBack"
set s=I08(s,"$hero",Q[GetPlayerId(GetOwningPlayer(u))]+GetUnitName(u)+"|r")
return s
endfunction
function CK8 takes unit FJ8 returns boolean
if GetOwningPlayer(FJ8)!=GetLocalPlayer()then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,15,CJ8(M7[GetPlayerId(GetOwningPlayer(FJ8))]))
endif
return false
endfunction
function CM8 takes nothing returns nothing
if SK7(GetEnumUnit(),ZU[DI4])!=null then
call SetItemCharges(SK7(GetEnumUnit(),ZU[DI4]),GetItemCharges(SK7(GetEnumUnit(),ZU[DI4]))+1)
endif
endfunction
function CN8 takes nothing returns boolean
if(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetFilterUnit())==false then
if IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(SQ4))and SK7(GetFilterUnit(),ZU[DI4])!=null then
return true
endif
endif
return false
endfunction
function CO8 takes nothing returns boolean
local item i
local integer CP8
if S54==0 and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(S04))then
if SK7(GetFilterUnit(),ZU[DY4])!=null then
set S54=S54+1
set CP8=GetItemCharges(SK7(GetFilterUnit(),ZU[DY4]))
if CP8==0 then
set CP8=2
else
set CP8=CP8+1
endif
call SetItemCharges(SK7(GetFilterUnit(),ZU[DY4]),CP8)
endif
endif
set i=null
return false
endfunction
function CQ8 takes unit u,unit CR8 returns nothing
local group g=LD7()
set SQ4=u
call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1625,Condition(function CN8))
if IsUnitAlly(u,GetOwningPlayer(CR8))==false then
call GroupAddUnit(g,CR8)
endif
call ForGroup(g,function CM8)
call L97(g)
set g=null
endfunction
function CS8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit CT8=(LoadUnitHandle(L7,(PP7),(335)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local real x
local real y
local real a
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if GetTriggerUnit()!=CT8 then
call KillUnit(CT8)
endif
else
set a=GetUnitFacing(PU7)*bj_RADTODEG
set x=GetUnitX(PU7)+75
set y=GetUnitY(PU7)+75
call SetUnitX(CT8,x)
call SetUnitY(CT8,y)
call IssueTargetOrder(CT8,"attack",PU7)
endif
set t=null
set CT8=null
set PU7=null
return false
endfunction
function CU8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local unit CT8
if GetSummoningUnit()==HV8 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set CT8=GetSummonedUnit()
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterDeathEvent(t,CT8)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function CS8))
call SaveUnitHandle(L7,(PP7),(335),(CT8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call UnitAddAbility(CT8,1097625443)
call SetUnitPosition(CT8,GetUnitX(PU7)+100,GetUnitY(PU7)+100)
call IssueTargetOrder(CT8,"attack",PU7)
call SetUnitMoveSpeed(CT8,522)
endif
set t=null
set PU7=null
set FJ8=null
set HV8=null
return false
endfunction
function CV8 takes unit FJ8,unit CR8 returns nothing
local unit PU7=CR8
local unit HV8
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
if IX8(PU7)then
set PU7=(M7[GetPlayerId(GetOwningPlayer((PU7)))])
endif
set HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
call EO8(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function CU8))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call L67(HV8,1093813559)
call IssueTargetOrderById(HV8,852274,PU7)
set t=null
set PU7=null
set HV8=null
endfunction
function CW8 takes nothing returns boolean
if(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetFilterUnit())==false then
if IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(SQ4))==false and SK7(GetFilterUnit(),ZU[YB])!=null then
endif
endif
return false
endfunction
function CX8 takes unit u returns nothing
local group g=LD7()
set SQ4=u
call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1625,Condition(function CW8))
call L97(g)
set g=null
endfunction
function CY8 takes unit u returns nothing
local group g=LD7()
set EZ7="StaffOfHealing_HeroDied"
set S54=0
set S04=u
call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1425,Condition(function CO8))
call L97(g)
set S54=0
set g=null
endfunction
function CZ8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer CA8=U97(US7,"side")
local integer i=1
local player p
local string M6
set EZ7="CZ8"
loop
exitwhen i>5
if CA8==0 then
set p=Z7[i]
set M6=Q[GetPlayerId(Z7[0])]+(GetObjectName((1848652622)))+"|r "+(GetObjectName((1848652624)))+" "+Q[GetPlayerId(Z7[0])]+(GetObjectName((1848652625)))+"|r"
else
set p=A7[i]
set M6=Q[GetPlayerId(A7[0])]+(GetObjectName((1848652623)))+"|r "+(GetObjectName((1848652624)))+" "+Q[GetPlayerId(A7[0])]+(GetObjectName((1848652625)))+"|r"
endif
call DisplayTimedTextToPlayer(p,0,0,10,M6)
call FF8(XO,p)
set i=i+1
endloop
call T97(US7)
call UQ7(t)
set t=null
return false
endfunction
function CB8 takes integer CA8 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="XMv"
call TriggerRegisterTimerEvent(t,1.5,false)
call TriggerAddCondition(t,Condition(function CZ8))
call TF7(US7,"side",CA8)
set t=null
endfunction
function CC8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer C38=U97(US7,"soundIndex")
local string M6=UF7(US7,"msg")
set EZ7="CC8"
if C38==1 then
call FE8(nX)
elseif C38==2 then
call FE8(CR)
elseif C38==3 then
call FE8(GP)
elseif C38==4 then
call FE8(IP)
endif
call CG7(L8,10.00,M6)
call T97(US7)
call UQ7(t)
set t=null
return false
endfunction
function C68 takes string M6,integer C38 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="Deathtrigger_ExtraKillMsg"
call TriggerRegisterTimerEvent(t,1.5,false)
call TriggerAddCondition(t,Condition(function CC8))
call TH7(US7,"msg",M6)
call TF7(US7,"soundIndex",C38)
set t=null
endfunction
function CL8 takes player C18,integer C08,unit B_8 returns nothing
local texttag t=CreateTextTag()
local string s
set EZ7="GiveGoldWithAnimation"
call SetPlayerState(C18,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(C18,PLAYER_STATE_RESOURCE_GOLD)+C08)
call SetTextTagText(t,"+"+I2S(C08),0.025)
call SetTextTagPosUnit(t,B_8,0)
call SetTextTagColor(t,255,220,0,255)
call SetTextTagVelocity(t,0,0.03)
if GetLocalPlayer()==C18 then
call SetTextTagVisibility(t,true)
set s="UI\\Feedback\\GoldCredit\\GoldCredit.mdl"
else
call SetTextTagVisibility(t,false)
set s=""
endif
if GetUnitState(B_8,UNIT_STATE_LIFE)>0.5 then
call DestroyEffect(AddSpecialEffectTarget(s,B_8,"overhead"))
endif
call SetTextTagFadepoint(t,2)
call SetTextTagLifespan(t,3)
call SetTextTagPermanent(t,false)
endfunction
function C58 takes unit B_8,unit C28,real C_8 returns nothing
local integer i=1
local integer L48=0
set EZ7="Assist_SplitGold"
call B18(B_8,C28)
loop
exitwhen i>5
if JU[i]!=null then
set L48=L48+1
endif
set i=i+1
endloop
set i=1
loop
exitwhen i>5
if JU[i]!=null then
set VG4[GetPlayerId(JU[i])]=VG4[GetPlayerId(JU[i])]+R2I(C_8/L48)
call CL8(JU[i],R2I(C_8/L48),M7[GetPlayerId(JU[i])])
endif
set i=i+1
endloop
endfunction
function L78 takes player L88,integer C08 returns nothing
local integer T8=1
local integer Jg
set EZ7="Xuv"
if AG7(L88)then
set Jg=P8(X7)
else
set Jg=P8(Y7)
endif
if AG7(L88)then
loop
exitwhen T8>5
if AM7(Z7[T8])then
set VG4[GetPlayerId(Z7[T8])]=VG4[GetPlayerId(Z7[T8])]+C08/Jg
call CL8(Z7[T8],C08/Jg,M7[GetPlayerId(Z7[T8])])
endif
set T8=T8+1
endloop
else
loop
exitwhen T8>5
if AM7(A7[T8])then
set VG4[GetPlayerId(A7[T8])]=VG4[GetPlayerId(A7[T8])]+C08/Jg
call CL8(A7[T8],C08/Jg,M7[GetPlayerId(A7[T8])])
endif
set T8=T8+1
endloop
endif
endfunction
function L98 takes unit B_8,integer LD8 returns nothing
local player p4=GetOwningPlayer(B_8)
set EZ7="TakeGoldWithAnimation"
call SetPlayerState(p4,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p4,PLAYER_STATE_RESOURCE_GOLD)-LD8)
endfunction
function m4 takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==1865429043 then
call KillUnit(GetFilterUnit())
return true
endif
return false
endfunction
function LE8 takes nothing returns nothing
local boolexpr hP=Condition(function m4)
local group JJ8=LD7()
set EZ7="LE8"
call GroupEnumUnitsInRect(JJ8,bj_mapInitialPlayableArea,hP)
call L97(JJ8)
set JJ8=null
endfunction
function LF8 takes nothing returns boolean
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetUnitTypeId(GetTriggerUnit())!=1311788365 then
if GetUnitTypeId(GetTriggerUnit())==1211117642 and C78(GetTriggerUnit())then
return false
endif
return true
endif
return false
endfunction
function LG8 takes player LH8,player C18,unit C28 returns boolean
return C28==null or GetKillingUnit()==null or(AG7(LH8)and AG7(C18))or(AH7(LH8)and AH7(C18))
endfunction
function LI8 takes nothing returns nothing
if JV8(GetUnitTypeId(GetEnumUnit()))==false then
set NL4=NL4+1
if GetOwningPlayer(GetKillingUnit())!=GetOwningPlayer(GetEnumUnit())then
set N14=N14+1
endif
endif
endfunction
function LJ8 takes nothing returns nothing
if(GetUnitTypeId((GetEnumUnit()))==1211117642)==false and JV8(GetUnitTypeId(GetFilterUnit()))==false then
call AddHeroXP(GetEnumUnit(),NC4,true)
set N34[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=N34[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+NC4
if GetOwningPlayer(GetKillingUnit())!=GetOwningPlayer(GetEnumUnit())then
set N64[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=N64[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+NB4
set VG4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=VG4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+NB4
call CL8(GetOwningPlayer(GetEnumUnit()),NB4,GetEnumUnit())
endif
endif
endfunction
function LK8 takes nothing returns boolean
local integer HW8
local integer LM8=0
local integer LN8=0
local group g
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetTriggerUnit())==false and(GetUnitTypeId((GetTriggerUnit()))==1211117642)==false and JV8(GetUnitTypeId(GetTriggerUnit()))==false then
set HW8=GetHeroLevel(GetTriggerUnit())
set NC4=0
set NB4=0
set g=LD7()
set NL4=0
set N14=0
call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1025,Condition(function GC8))
call ForGroup(g,function LI8)
if NL4==1 then
set LM8=20*HW8+120
elseif NL4==2 then
set LM8=15*HW8+90
elseif NL4==3 then
set LM8=7*HW8+30
elseif NL4==4 then
set LM8=6*HW8+15
elseif NL4==5 then
set LM8=5*HW8+10
endif
if N14==1 then
set LN8=12*HW8+125
elseif N14==2 then
set LN8=10*HW8+40
elseif N14==3 then
set LN8=6*HW8
elseif N14==4 then
set LN8=6*HW8
elseif N14==5 then
set LN8=6*HW8
endif
if Y4 then
endif
set NC4=LM8
set NB4=LN8
call ForGroup(g,function LJ8)
call L97(g)
set g=null
endif
return false
endfunction
function LO8 takes nothing returns nothing
local boolean LP8=false
local unit B_8=GetDyingUnit()
local unit C28=GetKillingUnit()
local player C18=GetOwningPlayer(C28)
local player LH8=GetOwningPlayer(B_8)
local integer C08=0
local integer LQ8=0
local boolean LR8=false
local string LS8=""
local string LT8=""
local string LU8=""
local string MidText
local integer x
local string LV8
local string LW8
local string LX8
local string LY8
local boolean CG8=false
local real LZ8=1
local real LA8=1
local real LB8=1
local real LC8=1
local real L38=0
local trigger t
local integer L68
local integer LL8
local item L18
local integer id
local integer L08=GetPlayerState(LH8,PLAYER_STATE_RESOURCE_GOLD)
local integer L58=L08-VG4[GetPlayerId(LH8)]
local unit L28
local unit L_8
local boolean PreventBuyback=IA7
call LK8()
if C28==null and GetUnitTypeId(B_8)==1315988077 then
set C28=ZY4
set C18=GetOwningPlayer(C28)
endif
if IsPlayerAlly(C18,LH8)==true and UJ7(C28,"4328")==true and JS7!=null then
set C28=JS7
set C18=GetOwningPlayer(C28)
endif
set LL8=B58(B_8,C28)
if C28!=null then
set id=GetUnitTypeId(C28)
call L07(M7[GetPlayerId(GetOwningPlayer(C28))],B_8)
endif
if LG8(LH8,C18,C28)==false and LL8==1 and AI7(C18)==false and C18!=B7 then
call B18(B_8,C28)
set C18=JU[1]
set C28=M7[GetPlayerId(C18)]
endif
set IG4[GetPlayerId(GetOwningPlayer((B_8)))]=true
if GetUnitAbilityLevel(B_8,1093685078)!=0 or(B28(B_8)and C48(B_8))then
set CG8=true
call UnitRemoveAbility(B_8,1093685078)
set D8=B_8
set ox=C28
if IsUnitType(C28,UNIT_TYPE_STRUCTURE)==false then
endif
endif
if C18==null then
set C18=LH8
endif
if R4 and GetUnitTypeId(B_8)!=1211117642 then
if(GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_USER)then
set jx=UnitRemoveItemFromSlot(B_8,GetRandomInt(0,5))
if GetItemTypeId(jx)==1227894859 then
call CreateItem(1227894855,GetItemX(jx),GetItemY(jx))
call RemoveItem(jx)
endif
elseif(IsUnitInForce(GetDyingUnit(),QX4))then
set jx=UnitItemInSlot(GetDyingUnit(),GetRandomInt(0,5))
if(jx==null)then
elseif(GetItemType(jx)==ITEM_TYPE_PURCHASABLE)then
call UnitRemoveItem(GetDyingUnit(),jx)
else
set L18=CreateItem(GetItemTypeId(jx),GetUnitX(GetDyingUnit()),GetUnitY(GetDyingUnit()))
call SetItemPlayer(L18,GetOwningPlayer(GetDyingUnit()),false)
set hG[128+GetPlayerId(GetOwningPlayer(GetDyingUnit()))]=hG[128+GetPlayerId(GetOwningPlayer(GetDyingUnit()))]+WD7(GetItemTypeId(jx))
if((GetItemTypeId(jx)==ZU[Q1])or(GetItemTypeId(jx)==ZU[D1]))then
call SetItemCharges(L18,GetItemCharges(jx))
endif
endif
endif
endif
if AG7(LH8)then
if AG7(C18)then
set LP8=true
if(C18==LH8)then
call CG7(L8,10.00,(Q[GetPlayerId(LH8)]+(KZ4[GetPlayerId((LH8))])+"|r "+(GetObjectName((1848652626)))))
else
call CG7(L8,10.00,JD8(LH8,C18))
endif
elseif AH7(C18)then
set LR8=true
set V[GetPlayerId(Z7[0])]=V[GetPlayerId(Z7[0])]+1
set T[GetPlayerId(A7[0])]=T[GetPlayerId(A7[0])]+1
set N[2]=N[2]+1
set N[1]=0
if C18!=A7[0]then
set T[GetPlayerId(C18)]=T[GetPlayerId(C18)]+1
set K[GetPlayerId(C18)]=K[GetPlayerId(C18)]+1
endif
endif
endif
if AH7(LH8)then
if AH7(C18)then
set LP8=true
if(C18==LH8)then
call CG7(L8,10.00,(Q[GetPlayerId(LH8)]+(KZ4[GetPlayerId((LH8))])+"|r "+(GetObjectName((1848652626)))))
else
call CG7(L8,10.00,JD8(LH8,C18))
endif
elseif AG7(C18)then
set LR8=true
set V[GetPlayerId(A7[0])]=V[GetPlayerId(A7[0])]+1
set T[GetPlayerId(Z7[0])]=T[GetPlayerId(Z7[0])]+1
set N[1]=N[1]+1
set N[2]=0
if C18!=Z7[0]then
set T[GetPlayerId(C18)]=T[GetPlayerId(C18)]+1
set K[GetPlayerId(C18)]=K[GetPlayerId(C18)]+1
endif
endif
endif
if C18==B7 then
set LR8=false
if GetUnitTypeId(C28)==1848651852 then
call CG7(L8,10.00,(Q[GetPlayerId(LH8)]+(KZ4[GetPlayerId((LH8))])+"|r "+(GetObjectName((1848652628)))))
else
call CG7(L8,10.00,(Q[GetPlayerId(LH8)]+(KZ4[GetPlayerId((LH8))])+"|r "+(GetObjectName((1848652629)))))
endif
set LP8=true
endif
if RA4 then
call ET8(AN,GetUnitX(B_8),GetUnitY(B_8))
endif
call I38("Hero"+I2S(GetPlayerId(LH8)),GetPlayerId(C18))
set x=K[GetPlayerId(LH8)]
if x>2 and LP8==false then
if x==3 then
set C08=50
set LS8="|c0000ff40"+(GetObjectName((1848652876)))+"|r"
elseif x==4 then
set C08=100
set LS8="|c00400080"+(GetObjectName((1848652878)))+"|r"
elseif x==5 then
set C08=150
set LS8="|c00ff0080"+(GetObjectName((1848652877)))+"|r"
elseif x==6 then
set C08=200
set LS8="|c00ff8000"+(GetObjectName((1848652874)))+"|r"
elseif x==7 then
set C08=250
set LS8="|c00808000"+(GetObjectName((1848652873)))+"|r"
elseif x==8 then
set C08=300
set LS8="|c00ff80ff"+(GetObjectName((1848652630)))+"|r"
elseif x==9 then
set C08=350
set LS8="|c00ff0000"+(GetObjectName((1848652631)))+"|r"
else
set C08=400
set LS8="|c00ff8000"+(GetObjectName((1848652632)))+"|r"
endif
endif
set x=K[GetPlayerId(C18)]
if x>NR4[GetPlayerId(C18)]then
set NR4[GetPlayerId(C18)]=x
endif
set L28=C28
if IsUnitType(L28,UNIT_TYPE_HERO)==false then
set L28=M7[GetPlayerId(GetOwningPlayer(L28))]
endif
if x>2 and GetUnitTypeId(L28)!=1429221446 and O24[GetPlayerId(GetOwningPlayer(L28))]==0 then
endif
set L_8=B_8
if IsUnitType(L_8,UNIT_TYPE_HERO)==false then
set L_8=M7[GetPlayerId(GetOwningPlayer(L_8))]
endif
if LP8==false and LR8==true then
endif
if x>2 and LP8==false then
if x==3 then
call FE8(TO)
set LT8=" "+(GetObjectName((1848652875)))+" |c0000ff40"+(GetObjectName((1848652876)))+"|r"+(GetObjectName((1848652857)))
elseif x==4 then
call FE8(ZN)
set LT8=" "+(GetObjectName((1848652872)))+" |c00400080"+(GetObjectName((1848652878)))+"|r"+(GetObjectName((1848652857)))
elseif x==5 then
call FE8(VO)
set LT8=" "+(GetObjectName((1848652871)))+" |c00ff0080"+(GetObjectName((1848652877)))+"|r"+(GetObjectName((1848652857)))
elseif x==6 then
call FE8(LO)
set LT8=" "+(GetObjectName((1848652872)))+" |c00ff8000"+(GetObjectName((1848652874)))+"|r"+(GetObjectName((1848652865)))
elseif x==7 then
call FE8(EP)
set LT8=" "+(GetObjectName((1848652872)))+" |c00808000"+(GetObjectName((1848652873)))+"|r"+(GetObjectName((1848652865)))
elseif x==8 then
call FE8(YO)
set LT8=" "+(GetObjectName((1848652871)))+" |c00ff80ff"+(GetObjectName((1848652630)))+"|r"+(GetObjectName((1848652865)))
elseif x==9 then
call FE8(BN)
set LT8=" "+(GetObjectName((1848652872)))+" |c00ff0000"+(GetObjectName((1848652631)))+"|r"+(GetObjectName((1848652866)))
else
call FE8(CN)
set LT8=" "+(GetObjectName((1848652872)))+" |c00ff8000"+(GetObjectName((1848652632)))+"|r. "+(GetObjectName((1848652870)))+(GetObjectName((1848652866)))
endif
endif
if LP8==false then
set C08=C08+100+GetHeroLevel(B_8)*9+100
set LV8=Q[GetPlayerId(LH8)]+(KZ4[GetPlayerId((LH8))])+"|r"
set LW8=Q[GetPlayerId(C18)]+(KZ4[GetPlayerId((C18))])+"|r"
set LY8="|c00FFDC00"+I2S(C08)+"|r"
if C18==Z7[0]or C18==A7[0]then
if LL8==0 then
if C18==Z7[0]then
set LX8=LW8+" "+(GetObjectName((1848652850)))+" "+LV8+(GetObjectName((1848652851)))+(GetObjectName((1848652857)))+" "+LY8+" "+(GetObjectName((1848652852)))+"."
call L78(C18,C08)
elseif C18==A7[0]then
set LX8=LW8+" "+(GetObjectName((1848652850)))+" "+LV8+(GetObjectName((1848652851)))+(GetObjectName((1848652857)))+" "+LY8+" "+(GetObjectName((1848652852)))+"."
call L78(C18,C08)
endif
elseif LL8>1 then
set LX8=LW8+" "+(GetObjectName((1848652850)))+" "+LV8+(GetObjectName((1848652851)))+(GetObjectName((1848652857)))+" "+LY8+" "+(GetObjectName((1848652852)))+"."
call C58(B_8,C28,C08)
endif
elseif LS8=="" and LT8=="" then
set LX8=LW8+" "+(GetObjectName((1848652850)))+" "+LV8+(GetObjectName((1848652851)))+" "+(GetObjectName((1848652867)))+" "+LY8+" "+(GetObjectName((1848652853)))+(GetObjectName((1848652857)))
elseif LS8=="" and LT8!="" then
set LX8=LW8+" "+(GetObjectName((1848652850)))+" "+LV8+(GetObjectName((1848652851)))+" "+(GetObjectName((1848652867)))+" "+LY8+" "+(GetObjectName((1848652853)))+(GetObjectName((1848652857)))
elseif LS8!="" and LT8=="" then
set LX8=LW8+" "+(GetObjectName((1848652856)))+" "+LV8+(GetObjectName((1848652855)))+" "+LS8+" "+(GetObjectName((1848652854)))+" "+LY8+" "+(GetObjectName((1848652853)))+(GetObjectName((1848652857)))
elseif LS8!="" and LT8!="" then
set LX8=LW8+" "+(GetObjectName((1848652856)))+" "+LV8+(GetObjectName((1848652855)))+" "+LS8+" "+(GetObjectName((1848652854)))+" "+LY8+" "+(GetObjectName((1848652853)))+(GetObjectName((1848652857)))
endif
if LR8 then
set LU8=BY8(B_8,C28)
endif
call CG7(L8,10,LX8+LU8)
if LT8!="" then
call CG7(L8,10,LW8+LT8)
endif
set VG4[GetPlayerId(C18)]=VG4[GetPlayerId(C18)]+C08
call CL8(C18,C08,B_8)
set NV4[GetPlayerId(C18)]=NV4[GetPlayerId(C18)]+C08
if N[1]>4 then
call CB8(0)
endif
if N[2]>4 then
call CB8(1)
endif
endif
set LQ8=GetHeroLevel(B_8)*30
if SK7(B_8,ZU[DI4])!=null then
if GetItemCharges(SK7(B_8,ZU[DI4]))>0 then
set L38=-1*(4*GetItemCharges(SK7(B_8,ZU[DI4])))
set LQ8=IMaxBJ(R2I(LQ8-25*GetItemCharges(SK7(B_8,ZU[DI4]))),0)
endif
endif
if LQ8>L58 then
set LQ8=L58
endif
call CQ8(B_8,L28)
call CY8(B_8)
call CX8(B_8)
if CG8==false then
set NQ4[GetPlayerId(LH8)]=NQ4[GetPlayerId(LH8)]+LQ8
call L98(B_8,LQ8)
endif
call SaveInteger(L7,StringHash("Stats"+I2S(GetPlayerId(C18))),StringHash("Killed "+I2S(GetPlayerId(LH8))),((LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId(C18))),StringHash("Killed "+I2S(GetPlayerId(LH8)))))+1))
call SaveInteger(L7,StringHash("Stats"+I2S(GetPlayerId(LH8))),StringHash("Died To "+I2S(GetPlayerId(C18))),((LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId(LH8))),StringHash("Died To "+I2S(GetPlayerId(C18)))))+1))
call StartTimerBJ(A[GetPlayerId(C18)],false,18)
if LP8==false and C18!=Z7[0]and C18!=A7[0]and C18!=B7 then
set M[GetPlayerId(C18)]=M[GetPlayerId(C18)]+1
if M[GetPlayerId(C18)]==2 then
set NS4[GetPlayerId(C18)]=NS4[GetPlayerId(C18)]+1
call C68(Q[GetPlayerId(C18)]+(KZ4[GetPlayerId((C18))])+"|r "+(GetObjectName((1848652868)))+" |c000000ff"+(GetObjectName((1848652883)))+"|r"+(GetObjectName((1848652857))),1)
endif
if M[GetPlayerId(C18)]==3 then
set NT4[GetPlayerId(C18)]=NT4[GetPlayerId(C18)]+1
call C68(Q[GetPlayerId(C18)]+(KZ4[GetPlayerId((C18))])+"|r "+(GetObjectName((1848652868)))+" |c0000ff40"+(GetObjectName((1848652869)))+"|r"+(GetObjectName((1848652866))),2)
endif
if M[GetPlayerId(C18)]==4 then
set NT4[GetPlayerId(C18)]=NT4[GetPlayerId(C18)]+1
call C68(Q[GetPlayerId(C18)]+(KZ4[GetPlayerId((C18))])+"|r "+(GetObjectName((1848652868)))+" |c0000FFFF"+(GetObjectName((1848657994)))+"|r"+(GetObjectName((1848652866))),3)
endif
if M[GetPlayerId(C18)]>4 then
set NT4[GetPlayerId(C18)]=NT4[GetPlayerId(C18)]+1
call C68(Q[GetPlayerId(C18)]+(KZ4[GetPlayerId((C18))])+"|r "+(GetObjectName((1848652875)))+" |c0000AAFF"+(GetObjectName((1848657995)))+"|r"+(GetObjectName((1848652866))),4)
endif
endif
if(LP8==false)then
set K[GetPlayerId(LH8)]=0
endif
set K[0]=0
set K[6]=0
set V[GetPlayerId(LH8)]=V[GetPlayerId(LH8)]+1
if CG8 then
set LZ8=0.4
endif
if LP8==true and GetUnitTypeId(B_8)==1211117643 then
set LC8=0.5
endif
set L68=R2I(GetHeroLevel(B_8)*4*LZ8*LA8*LB8*LC8)+R2I(L38)
if LS==true then
set L68=R2I(L68*0.5)
endif
if P94 then
set NU4[GetPlayerId(LH8)]=0
if GetPlayerController(LH8)==MAP_CONTROL_COMPUTER then
call TimerStart(U[GetPlayerId(LH8)],2.00,false,null)
else
call TimerStart(U[GetPlayerId(LH8)],1.00,false,null)
endif
else
set NU4[GetPlayerId(LH8)]=NU4[GetPlayerId(LH8)]+L68
call TimerStart(U[GetPlayerId(LH8)],L68,false,null)
endif
call TriggerExecute(vA)
if D4==false and RZ4==false then
call CE8(B_8,L68,CG8)
elseif RZ4 and GetPlayerController(LH8)==MAP_CONTROL_USER then
call CE8(B_8,1,false)
else
if(AG7(LH8))then
set L[0]=L[0]+1
endif
if AH7(LH8)then
set L[1]=L[1]+1
endif
set W7[GetPlayerId(LH8)]=B_8
if GetUnitTypeId(B_8)==1211117642 then
set W7[GetPlayerId(LH8)]=T37(GetHandleId(GetOwningPlayer(B_8)),"Kobold0")
endif
if L[0]==PD4 then
call TriggerExecute(OF4)
endif
if L[1]==PD4 then
call TriggerExecute(OE4)
endif
if(GetUnitTypeId(B_8)==1429221430)then
call ExecuteFunc("LE8")
elseif GetUnitTypeId(B_8)==1429221432 or GetUnitTypeId(B_8)==1160786229 then
set IT4=B_8
call ExecuteFunc("D49")
elseif GetUnitTypeId(B_8)==1432580716 then
set IT4=B_8
call ExecuteFunc("D79")
endif
endif
set L18=null
set t=null
set C28=null
set B_8=null
endfunction
function D89 takes nothing returns boolean
local unit CT8=GetSummonedUnit()
local integer x
if IsUnitIllusion(CT8)==true then
set x=K[GetPlayerId(GetOwningPlayer(CT8))]
if x>2 and O24[GetPlayerId(GetOwningPlayer(CT8))]==0 then
call L67(CT8,1093815114)
else
call UnitRemoveAbility(CT8,1093815114)
endif
endif
set CT8=null
return false
endfunction
function InitTrig_Image_Enters takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function D89))
set t=null
endfunction
function D99 takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local player C18=GetOwningPlayer(GetKillingUnit())
local player LH8=GetOwningPlayer(GetTriggerUnit())
local string DD9
local integer LL8=B58(GetTriggerUnit(),GetKillingUnit())
set EZ7="D99"
if C18==Z7[0]or C18==A7[0]then
call C58(GetTriggerUnit(),GetKillingUnit(),200)
set DD9=B08(GetTriggerUnit(),GetKillingUnit())+" "+(GetObjectName((1848652887)))+" |c00ff0303"+(GetObjectName((1848652889)))+(GetObjectName((1848652857)))+"|r "
if LL8>1 then
set DD9=DD9+"(+200 "+(GetObjectName((1848652852)))+")"
else
set DD9=DD9+"(+200 "+(GetObjectName((1848652853)))+")"
endif
else
set DD9=Q[GetPlayerId(C18)]+(KZ4[GetPlayerId((C18))])+"|r "+(GetObjectName((1848652887)))+" |c00ff0303"+(GetObjectName((1848652889)))+(GetObjectName((1848652857)))+"|r "
set DD9=DD9+"(+200 "+(GetObjectName((1848652853)))+")"
call CL8(C18,200,M7[GetPlayerId(C18)])
set VG4[GetPlayerId(C18)]=VG4[GetPlayerId(C18)]+200
endif
call CG7(L8,10,DD9)
call FE8(EX)
call UQ7(t)
set t=null
endfunction
function DE9 takes nothing returns boolean
if GetOwningPlayer(GetKillingUnit())!=B7 and GetKillingUnit()!=null and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit()))==true then
if GetOwningPlayer(GetKillingUnit())==Z7[0]or GetOwningPlayer(GetKillingUnit())==A7[0]then
if B58(GetTriggerUnit(),GetKillingUnit())>0 then
call D99()
endif
else
call D99()
endif
endif
return false
endfunction
function DF9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit u
local region r
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call T97(US7)
call UQ7(t)
else
set u=T37(US7,"u")
set r=CreateRegion()
call RegionAddRect(r,CE)
call RegionAddRect(r,dE)
if IsUnitInRegion(r,u)==false then
if UE7(US7,"safe")==true then
call TI7(US7,"safe",false)
else
call SetUnitX(u,GetRectCenterX(ND))
call SetUnitY(u,GetRectCenterY(ND))
call TI7(US7,"safe",true)
endif
endif
call RemoveRegion(r)
set u=null
set r=null
endif
set t=null
return false
endfunction
function DG9 takes unit u returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,10.,true)
call TriggerAddCondition(t,Condition(function DF9))
call TJ7(US7,"u",u)
call TI7(US7,"safe",true)
set t=null
endfunction
function DH9 takes nothing returns boolean
local item XO8
local integer L48=GetTriggerEvalCount(GetTriggeringTrigger())
if L48==IE7 then
call UQ7(GetTriggeringTrigger())
endif
if L48==IE7-180 or L48==IE7-60 then
if NW4!=null then
set XO8=SK7(NW4,ZU[X0])
if XO8!=null then
if L48==IE7-180 then
if AG7(GetOwningPlayer(NW4))then
call CG7(X7,15,(GetObjectName((1848657209)))+" |c00ff0303"+(GetObjectName((1848657207)))+"|r")
else
call CG7(Y7,15,(GetObjectName((1848657209)))+" |c00ff0303"+(GetObjectName((1848657207)))+"|r")
endif
else
if AG7(GetOwningPlayer(NW4))then
call CG7(X7,15,(GetObjectName((1848657209)))+" |c00ff0303"+(GetObjectName((1848656984)))+"|r")
else
call CG7(Y7,15,(GetObjectName((1848657209)))+" |c00ff0303"+(GetObjectName((1848656984)))+"|r")
endif
endif
endif
endif
endif
set XO8=null
return false
endfunction
function DI9 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="DI9"
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function DH9))
call TriggerEvaluate(t)
set t=null
endfunction
function DJ9 takes nothing returns boolean
set NY4=GetTriggerEvalCount(GetTriggeringTrigger())
if V4!=null and GetUnitState(V4,UNIT_STATE_LIFE)>1 then
call SetPlayerTechResearched(GetOwningPlayer(V4),1378889798,NY4)
if GetUnitAbilityLevel(V4,1093743666)==0 then
call UnitAddAbility(V4,1093743666)
endif
call SetUnitAbilityLevel(V4,1093743666,NY4+1)
endif
return false
endfunction
function DK9 takes nothing returns nothing
local integer i=1
local unit C17
set NW4=null
loop
exitwhen i>5
set C17=M7[GetPlayerId(Z7[i])]
if C17!=null and SK7(C17,ZU[X0])!=null then
call DisableTrigger(H94)
call I38("AegisOff",GetPlayerId(GetOwningPlayer(C17)))
call RemoveItem(SK7(C17,ZU[X0]))
call EnableTrigger(H94)
endif
set C17=M7[GetPlayerId(A7[i])]
if C17!=null and SK7(C17,ZU[X0])!=null then
call DisableTrigger(H94)
call I38("AegisOff",GetPlayerId(GetOwningPlayer(C17)))
call RemoveItem(SK7(C17,ZU[X0]))
call EnableTrigger(H94)
endif
set i=i+1
endloop
set C17=null
endfunction
function DM9 takes string DN9,string DO9 returns string
local string s=(GetObjectName((1848656705)))
set EZ7="GetString_RoshanKilled"
set s=I08(s,"$team",DN9)
set s=I08(s,"$team",DO9)
return s
endfunction
function DP9 takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==1848651852
endfunction
function IsHero takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true
endfunction
function DQ9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local location DR9
local real DH8
if GetTriggerEvalCount(t)==ID7 or Y_4 then
set Y_4=false
set DR9=GetRectCenter(ND)
call DK9()
set NA4=NA4+1
set V4=CreateUnitAtLoc(Player(12),1848651852,DR9,bj_UNIT_FACING)
call SetUnitAcquireRange(V4,150)
call DG9(V4)
call UnitAddAbility(V4,1093743666)
call SetPlayerTechResearched(GetOwningPlayer(V4),1378889798,NY4)
call SetUnitAbilityLevel(V4,1093743666,NY4+1)
call RemoveLocation(DR9)
if NA4>1 then
call UnitRemoveAbility(V4,1093684018)
call UnitAddAbility(V4,1093685558)
call UnitAddItem(V4,CreateItem(ZU[AC],0,0))
endif
call UnitAddItem(V4,CreateItem(ZU[X0],0,0))
call UQ7(t)
set GW7=99999999.
elseif GetTriggerEvalCount(t)==IE7 then
call DK9()
set GW7=99999999.
endif
set t=null
set DR9=null
return false
endfunction
function DS9 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function DQ9))
set Y_4=false
call DI9()
set NX4=false
if(AG7(GetOwningPlayer(GetKillingUnit())))then
call I38("Roshan",0)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,DM9("|c00ff0000"+(GetObjectName((1848653365)))+"|r",(GetObjectName((1848653365)))))
call AdjustPlayerStateBJ(200,Z7[1],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Z7[2],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Z7[3],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Z7[4],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Z7[5],PLAYER_STATE_RESOURCE_GOLD)
endif
if(AH7(GetOwningPlayer(GetKillingUnit())))then
call I38("Roshan",1)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,DM9("|c00004000"+(GetObjectName((1848653379)))+"|r",(GetObjectName((1848653379)))))
call AdjustPlayerStateBJ(200,A7[1],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,A7[2],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,A7[3],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,A7[4],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,A7[5],PLAYER_STATE_RESOURCE_GOLD)
endif
set t=null
endfunction
function DT9 takes nothing returns nothing
local texttag t=CreateTextTag()
local unit u=GetTriggerUnit()
local player p=GetOwningPlayer(GetKillingUnit())
set EZ7="DT9"
call SetTextTagText(t,"$",0.027)
call SetTextTagPosUnit(t,u,0)
call SetTextTagColorBJ(t,KA4[GetPlayerId(p)],KB4[GetPlayerId(p)],KC4[GetPlayerId(p)],15)
call SetTextTagVelocity(t,0,0.035)
call SetTextTagFadepoint(t,3)
call SetTextTagLifespan(t,1.5)
call SetTextTagPermanent(t,false)
call SetTextTagVisibility(t,false)
if GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4 then
call SetTextTagVisibility(t,true)
endif
set t=null
set u=null
set p=null
endfunction
function DU9 takes unit u,player p returns nothing
local texttag t=CreateTextTag()
set EZ7="Ojv"
call SetTextTagText(t,"!",0.03)
call SetTextTagPosUnit(t,u,0)
call SetTextTagColorBJ(t,KA4[GetPlayerId(p)],KB4[GetPlayerId(p)],KC4[GetPlayerId(p)],15)
call SetTextTagVelocity(t,0,0.035)
call SetTextTagFadepoint(t,3)
call SetTextTagLifespan(t,1.5)
call SetTextTagPermanent(t,false)
call SetTextTagVisibility(t,false)
if ob[GetPlayerId(GetLocalPlayer())]==true or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
call SetTextTagVisibility(t,true)
endif
set t=null
endfunction
function DV9 takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_MELEE_ATTACKER)==true then
call AddHeroXP(GetEnumUnit(),Tl/ IH4,true)
else
call AddHeroXP(GetEnumUnit(),tl/ IH4,true)
endif
endfunction
function DW9 takes nothing returns nothing
local group g=LD7()
local integer BJ7
local integer DX9=18
local integer DY9=DX9*2
set EZ7="DW9"
call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1000,Condition(function GC8))
set BJ7=E08(g)
set IH4=BJ7
set tl=DX9
set Tl=DY9
call ForGroup(g,function DV9)
call L97(g)
call DU9(GetDyingUnit(),GetOwningPlayer(GetKillingUnit()))
set g=null
endfunction
function DZ9 takes nothing returns boolean
if IsUnitAlly(GetKillingUnit(),GetOwningPlayer(GetTriggerUnit()))==true then
call DW9()
else
if V8 and AI7(GetOwningPlayer(GetKillingUnit()))then
call DT9()
endif
endif
return false
endfunction
function DA9 takes player JE8,player JF8 returns string
local string s=(GetObjectName((1848656208)))
set EZ7="GetString_ChickenKilled"
set s=I08(s,"$dead",(KZ4[GetPlayerId((JE8))]))
return s
endfunction
function DB9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,false)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
return false
endfunction
function DC9 takes unit FJ8 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function DB9))
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
set FJ8=null
set t=null
endfunction
function D39 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit D69=(LoadUnitHandle(L7,(PP7),(2)))
local integer L48=GetTriggerEvalCount(t)
local integer DL9=180-L48
local integer i=1
local integer id
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
loop
exitwhen i>5
if IsPlayerAlly(GetOwningPlayer(D69),Z7[0])then
set id=GetPlayerId(Z7[i])
else
set id=GetPlayerId(A7[i])
endif
set i=i+1
if DL9==0 then
call LeaderboardDisplay(H37[id],false)
if IsPlayerAlly(Z7[0],Player(id))then
set I97[GetPlayerId(Z7[0])]=false
endif
if IsPlayerAlly(A7[0],Player(id))then
set I97[GetPlayerId(A7[0])]=false
endif
else
if L17(M7[id])==false then
call PlayerSetLeaderboard(Player(id),H37[id])
call LeaderboardDisplay(H37[id],true)
call LeaderboardSetLabel(H37[id],"    "+GetObjectName(1848659034)+" "+I2S(DL9))
endif
endif
endloop
if DL9==2 then
call SetUnitPosition(D69,x,y)
endif
if DL9==0 then
call TI7(GetHandleId(D69),"aiCrow|Alive",true)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set D69=null
return false
endfunction
function D19 takes player O57,integer C_8 returns nothing
local texttag t
if C_8>0 then
set t=CreateTextTag()
call SetPlayerState(O57,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(O57,PLAYER_STATE_RESOURCE_GOLD)+C_8)
call SetTextTagText(t,"+"+I2S(C_8),0.025)
call SetTextTagPosUnit(t,M7[GetPlayerId(O57)],0)
call SetTextTagColor(t,255,220,0,255)
call SetTextTagVelocity(t,0,0.03)
if GetLocalPlayer()==O57 then
call SetTextTagVisibility(t,true)
else
call SetTextTagVisibility(t,false)
endif
call SetTextTagFadepoint(t,2)
call SetTextTagLifespan(t,3)
call SetTextTagPermanent(t,false)
endif
endfunction
function D09 takes nothing returns boolean
local real x
local real y
local unit D69=GetTriggerUnit()
local integer i=1
local integer D59=175
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TI7(GetHandleId(D69),"aiCrow|Alive",false)
call I38("Courier"+I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call CG7(L8,10.00,DA9(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit())))
call PingMinimapEx(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),6,255,0,0,false)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function D39))
call SaveUnitHandle(L7,(PP7),(2),(D69))
if IsPlayerAlly(GetOwningPlayer(D69),Z7[0])and I97[GetPlayerId(Z7[0])]==false then
set I97[GetPlayerId(Z7[0])]=true
loop
exitwhen i>5
call D19(A7[i],D59)
set i=i+1
endloop
endif
set i=1
if IsPlayerAlly(GetOwningPlayer(D69),A7[0])and I97[GetPlayerId(A7[0])]==false then
set I97[GetPlayerId(A7[0])]=true
loop
exitwhen i>5
call D19(Z7[i],D59)
set i=i+1
endloop
endif
if AG7(GetOwningPlayer(D69))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
if IsTerrainPathable(GetUnitX(D69),GetUnitY(D69),PATHING_TYPE_WALKABILITY)then
call DC9(D69)
endif
set t=null
return false
endfunction
function D29 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real x=IX4
local real y=IY4
if AH7(GetOwningPlayer(FJ8))then
set x=JY4
set y=JZ4
endif
if L17(FJ8)==false then
if Q07(GetUnitX(FJ8),GetUnitY(FJ8),x,y)<800 then
call L67(FJ8,1098282348)
else
call UnitRemoveAbility(FJ8,1098282348)
endif
endif
set t=null
set FJ8=null
return false
endfunction
function D_9 takes unit D69 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call SetPlayerAbilityAvailable(GetOwningPlayer(D69),1093810510,false)
call UnitMakeAbilityPermanent(D69,true,1093810509)
call TriggerRegisterDeathEvent(t,D69)
call TriggerAddCondition(t,Condition(function D09))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function D29))
call SaveUnitHandle(L7,(PP7),(2),(D69))
set t=null
endfunction
function E49 takes nothing returns nothing
if RM7(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false then
call I38("Courier"+I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call CG7(L8,10.00,DA9(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit())))
call PingMinimapEx(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),6,255,0,0,false)
endif
endfunction
function E79 takes nothing returns boolean
call UQ7(GetTriggeringTrigger())
set I97[GetPlayerId(Z7[0])]=false
set I97[GetPlayerId(A7[0])]=false
set H37[GetPlayerId(Z7[1])]=CreateLeaderboard()
set H37[GetPlayerId(Z7[2])]=CreateLeaderboard()
set H37[GetPlayerId(Z7[3])]=CreateLeaderboard()
set H37[GetPlayerId(Z7[4])]=CreateLeaderboard()
set H37[GetPlayerId(Z7[5])]=CreateLeaderboard()
set H37[GetPlayerId(A7[1])]=CreateLeaderboard()
set H37[GetPlayerId(A7[2])]=CreateLeaderboard()
set H37[GetPlayerId(A7[3])]=CreateLeaderboard()
set H37[GetPlayerId(A7[4])]=CreateLeaderboard()
set H37[GetPlayerId(A7[5])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[1],H37[GetPlayerId(Z7[1])])
call PlayerSetLeaderboard(Z7[2],H37[GetPlayerId(Z7[2])])
call PlayerSetLeaderboard(Z7[3],H37[GetPlayerId(Z7[3])])
call PlayerSetLeaderboard(Z7[4],H37[GetPlayerId(Z7[4])])
call PlayerSetLeaderboard(Z7[5],H37[GetPlayerId(Z7[5])])
call PlayerSetLeaderboard(A7[1],H37[GetPlayerId(A7[1])])
call PlayerSetLeaderboard(A7[2],H37[GetPlayerId(A7[2])])
call PlayerSetLeaderboard(A7[3],H37[GetPlayerId(A7[3])])
call PlayerSetLeaderboard(A7[4],H37[GetPlayerId(A7[4])])
call PlayerSetLeaderboard(A7[5],H37[GetPlayerId(A7[5])])
call LeaderboardDisplay(H37[GetPlayerId(Z7[1])],false)
call LeaderboardDisplay(H37[GetPlayerId(Z7[2])],false)
call LeaderboardDisplay(H37[GetPlayerId(Z7[3])],false)
call LeaderboardDisplay(H37[GetPlayerId(Z7[4])],false)
call LeaderboardDisplay(H37[GetPlayerId(Z7[5])],false)
call LeaderboardDisplay(H37[GetPlayerId(A7[1])],false)
call LeaderboardDisplay(H37[GetPlayerId(A7[2])],false)
call LeaderboardDisplay(H37[GetPlayerId(A7[3])],false)
call LeaderboardDisplay(H37[GetPlayerId(A7[4])],false)
call LeaderboardDisplay(H37[GetPlayerId(A7[5])],false)
call LeaderboardSetLabelBJ(H37[GetPlayerId(Z7[1])]," ")
call LeaderboardSetLabelBJ(H37[GetPlayerId(Z7[2])]," ")
call LeaderboardSetLabelBJ(H37[GetPlayerId(Z7[3])]," ")
call LeaderboardSetLabelBJ(H37[GetPlayerId(Z7[4])]," ")
call LeaderboardSetLabelBJ(H37[GetPlayerId(Z7[5])]," ")
call LeaderboardSetLabelBJ(H37[GetPlayerId(A7[1])]," ")
call LeaderboardSetLabelBJ(H37[GetPlayerId(A7[2])]," ")
call LeaderboardSetLabelBJ(H37[GetPlayerId(A7[3])]," ")
call LeaderboardSetLabelBJ(H37[GetPlayerId(A7[4])]," ")
call LeaderboardSetLabelBJ(H37[GetPlayerId(A7[5])]," ")
return false
endfunction
function E89 takes nothing returns nothing
local integer id=GetUnitTypeId(GetTriggerUnit())
set EZ7="E89"
if id==1697656914 or id==1697657137 or id==1697656915 or id==1697657145 or id==1966092365 or id==1966092356 or id==1966092366 or id==1966092372 then
if IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))then
set N04[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=N04[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
call CG7(L8,10,Q[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetKillingUnit())))])+"|r "+(GetObjectName((1848652880)))+".")
else
call CG7(L8,10,Q[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetKillingUnit())))])+"|r "+(GetObjectName((1848657230)))+".")
endif
endif
endfunction
function E99 takes nothing returns nothing
if RM7(GetEnumUnit())and IsUnitAlly(GetEnumUnit(),Z7[0])==false and GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>0.5 then
call UnitRemoveAbility(GetEnumUnit(),1110456392)
call HY8(IZ4,GetEnumUnit(),ZH4,500)
endif
endfunction
function ED9 takes nothing returns nothing
if RM7(GetEnumUnit())and IsUnitAlly(GetEnumUnit(),A7[0])==false and GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>0.5 then
call UnitRemoveAbility(GetEnumUnit(),1110456392)
call HY8(JA4,GetEnumUnit(),ZH4,500)
endif
endfunction
function EE9 takes nothing returns boolean
local group g=LD7()
set EZ7="EE9"
call GroupEnumUnitsInRect(g,OD,Condition(function A47))
call ForGroup(g,function E99)
call L97(g)
set g=LD7()
call GroupEnumUnitsInRect(g,PD,Condition(function A47))
call ForGroup(g,function ED9)
call L97(g)
set g=null
return false
endfunction
function EF9 takes unit u returns boolean
return(GetUnitAbilityLevel((u),(1110454344))>0)or(GetUnitAbilityLevel((u),(1112500344))>0)or(GetUnitAbilityLevel((u),(1112560453))>0)or(GetUnitAbilityLevel((u),(1110456633))>0)or(GetUnitAbilityLevel((u),(1112757326))>0)or(GetUnitAbilityLevel((u),(1110459206))>0)or(GetUnitAbilityLevel((u),(1110458957))>0)or(GetUnitAbilityLevel((u),(1110455885))>0)or(GetUnitAbilityLevel((u),(1110456142))>0)or(GetUnitAbilityLevel((u),(1110456403))>0)or(GetUnitAbilityLevel((u),(1110454353))>0)or(GetUnitAbilityLevel((u),(1110455382))>0)or(GetUnitAbilityLevel((u),(1110456114))>0)or(GetUnitAbilityLevel((u),(1112891758))>0)or(GetUnitAbilityLevel((u),(1110456629))>0)or(GetUnitAbilityLevel((u),(1110455113))>0)or(GetUnitAbilityLevel((u),(1110458692))>0)or(GetUnitAbilityLevel((u),(1110458693))>0)or(GetUnitAbilityLevel((u),(1110458949))>0)or(GetUnitAbilityLevel((u),(1110458950))>0)or(GetUnitAbilityLevel((u),(1110454328))>0)or(GetUnitAbilityLevel((u),(1110455362))>0)or(GetUnitAbilityLevel((u),(1110454854))>0)or(GetUnitAbilityLevel((u),(1112896368))>0)or(GetUnitAbilityLevel((u),(1112896372))>0)or(GetUnitAbilityLevel((u),(1110459460))>0)or(UJ7(u,"DisruptionState")==true)or(UJ7(u,"AstralImprisonmentState")==true)or(GetUnitAbilityLevel((u),(1110459186))>0)or(GetUnitAbilityLevel((u),(1110455891))>0)or(GetUnitAbilityLevel((u),(1110454867))>0)or(GetUnitAbilityLevel((u),(1110456133))>0)
endfunction
function EG9 takes unit u returns boolean
return EF9(u)or F68(u)or IsUnitPaused(u)or C77(u)
endfunction
function EH9 takes unit P67 returns boolean
return(IsUnitType(P67,UNIT_TYPE_STUNNED)or IsUnitType(P67,UNIT_TYPE_SNARED)or IsUnitType(P67,UNIT_TYPE_POLYMORPHED)or GetUnitMoveSpeed(P67)<290 or IsUnitPaused(P67))or EF9(P67)or F68(P67)
endfunction
function EI9 takes integer EJ9,integer EK9,boolean extraColor returns nothing
local integer x=0
loop
exitwhen x>15
call SetPlayerState(Player(x),PLAYER_STATE_RESOURCE_LUMBER,EJ9)
call SetPlayerState(Player(x),PLAYER_STATE_RESOURCE_FOOD_USED,EK9)
set x=x+1
endloop
endfunction
function EM9 takes unit u returns boolean
local integer id=GetUnitTypeId(u)
set EZ7="IsRealSummoned"
return id==1848652343 or id==1966092596 or id==1966092597 or id==1966092598 or id==1966092612 or id==1966092613 or id==1966092614 or id==1966092599 or id==1966092601 or id==1966092600 or id==1966092609 or id==1966092610 or id==1966092611
endfunction
function EN9 takes unit u,boolean b returns nothing
call SetUnitInvulnerable(u,b)
call SaveBoolean(L7,(GetHandleId(u)),(509),(b))
endfunction
function EO9 takes unit u returns boolean
return(LoadBoolean(L7,(GetHandleId(u)),(509)))or GetUnitAbilityLevel(u,1098282348)>0
endfunction
function EP9 takes real x,real y returns location
local real EB8
local real EC8
local integer i=0
set EZ7="FindClearLocation"
loop
exitwhen i>40
set EB8=x+i*20
set EC8=y+i*20
if IsPointInRegion(IU4,EB8,EC8)==false then
return Location(EB8,EC8)
endif
set EB8=x+i*20
set EC8=y-i*20
if IsPointInRegion(IU4,EB8,EC8)==false then
return Location(EB8,EC8)
endif
set EB8=x-i*20
set EC8=y+i*20
if IsPointInRegion(IU4,EB8,EC8)==false then
return Location(EB8,EC8)
endif
set EB8=x-i*20
set EC8=y-i*20
if IsPointInRegion(IU4,EB8,EC8)==false then
return Location(EB8,EC8)
endif
set i=i+1
endloop
return Location(x,y)
endfunction
function EQ9 takes unit FJ8,integer HW8,integer ER9 returns nothing
local integer i
set EZ7="StickyNapalm_SetSlow"
if W24[1]==0 then
return
endif
set i=1
loop
exitwhen i>10
call UnitRemoveAbility(FJ8,W24[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call UnitRemoveAbility(FJ8,W_4[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call UnitRemoveAbility(FJ8,X44[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call UnitRemoveAbility(FJ8,X74[i])
set i=i+1
endloop
call UnitRemoveAbility(FJ8,1110458963)
if HW8==1 then
call UnitAddAbility(FJ8,W24[ER9])
elseif HW8==2 then
call UnitAddAbility(FJ8,W_4[ER9])
elseif HW8==3 then
call UnitAddAbility(FJ8,X44[ER9])
elseif HW8==4 then
call UnitAddAbility(FJ8,X74[ER9])
endif
endfunction
function ES9 takes integer FT8 returns nothing
set TE4=TE4+1
set TD4[TE4]=FT8
endfunction
function ET9 takes unit u returns nothing
local integer i=1
set EZ7="RemoveNegativeBuffs"
loop
exitwhen i>TE4
call UnitRemoveAbility(u,TD4[i])
set i=i+1
endloop
endfunction
function EU9 takes integer o6 returns boolean
return o6==1095331943 or o6==1093677654 or o6==1094938741 or o6==1093744708 or o6==1093750613 or o6==1095328633 or o6==1093751617
endfunction
function EV9 takes unit m5 returns nothing
call UnitRemoveAbility(m5,1093749313)
call UnitRemoveAbility(m5,1110459204)
call UnitRemoveAbility(m5,1093749828)
call UnitRemoveAbility(m5,1097167980)
call EQ9(m5,0,0)
endfunction
function EW9 takes nothing returns boolean
if EU9(GetSpellAbilityId())then
call EV9(GetSpellTargetUnit())
endif
return false
endfunction
function EX9 takes integer EY9 returns integer
if DV[EY9]==0 then
return EY9
else
return DV[EY9]
endif
endfunction
function EZ9 takes nothing returns nothing
local integer EA9=R2I(TimerGetElapsed(W)-M_4)
local integer EJ9=EA9/60-1/2
local integer EK9=ModuloInteger(EA9,60)
set EZ7="EZ9"
if Y04 then
call EI9(EJ9,EK9,false)
elseif Q94==false then
set EA9=R2I(16-TimerGetElapsed(W))
set EJ9=EA9/ 60-1/ 2
set EK9=ModuloInteger(EA9,60)
call EI9(EJ9,EK9,true)
endif
set Bz=R2I(TimerGetElapsed(W)-N44)
set B=EJ9
set C=EK9
endfunction
function EB9 takes unit EC9,integer E39 returns integer
local integer i
set EZ7="WhichHeroSkill"
if E39==1 then
if GetUnitAbilityLevel(EC9,1094004784)>0 then
return 500
endif
set i=KL4
loop
exitwhen i>K54
if GetUnitAbilityLevel(EC9,HM4[i])>0 then
return i
endif
set i=i+1
endloop
return 0
elseif E39==2 then
if GetUnitAbilityLevel(EC9,1094004785)>0 then
return 500
endif
set i=KL4
loop
exitwhen i>K54
if GetUnitAbilityLevel(EC9,HN4[i])>0 then
return i
endif
set i=i+1
endloop
return 0
elseif E39==3 then
if GetUnitAbilityLevel(EC9,1094004786)>0 then
return 500
endif
set i=KL4
loop
exitwhen i>K54
if GetUnitAbilityLevel(EC9,HO4[i])>0 then
return i
endif
set i=i+1
endloop
return 0
elseif E39==4 then
if GetUnitAbilityLevel(EC9,1094004787)>0 then
return 500
endif
set i=KL4
loop
exitwhen i>K54
if GetUnitAbilityLevel(EC9,HP4[i])>0 or GetUnitAbilityLevel(EC9,HQ4[i])>0 then
return i
endif
set i=i+1
endloop
return 0
endif
return 0
endfunction
function E69 takes item RQ7 returns boolean
local integer EL9=RO7(RQ7)
set EZ7="IsItemScepter"
return EL9==FR4 or EL9==FS4 or EL9==FT4 or EL9==FU4 or EL9==FV4 or EL9==FW4 or EL9==FX4 or EL9==FY4 or EL9==FZ4 or EL9==FA4 or EL9==FB4 or EL9==F34 or EL9==F64 or EL9==FL4 or EL9==F14 or EL9==F04 or EL9==F54 or EL9==F24 or EL9==G44 or EL9==G74 or EL9==G84 or EL9==GD4 or EL9==GE4 or EL9==GG4 or EL9==GH4 or EL9==GI4 or EL9==GJ4 or EL9==GM4 or EL9==GN4 or EL9==GO4 or EL9==GP4 or EL9==GQ4 or EL9==GR4 or EL9==GS4 or EL9==GT4 or EL9==GK4 or EL9==GU4 or EL9==FC4 or EL9==GV4 or EL9==GW4 or EL9==GY4 or EL9==GZ4 or EL9==GA4 or EL9==G34 or EL9==GB4 or EL9==G64 or EL9==GX4 or EL9==GL4 or EL9==G14 or EL9==G04 or EL9==G54 or EL9==G24
endfunction
function E19 takes integer EL9 returns boolean
return EL9==DF4 or EL9==AC or EL9==OC or EL9==QC or EL9==TC or EL9==VC or EL9==WC or EL9==XC or EL9==YC or EL9==PC or EL9==LC or EL9==H3
endfunction
function E09 takes integer EL9 returns boolean
return EL9==DY4 or EL9==VB or EL9==D1 or EL9==E1 or EL9==DI4 or EL9==X0 or EL9==CC or EL9==ZA or EL9==DT4 or EL9==YB
endfunction
function E59 takes integer EY9 returns integer
if TC==EY9 then
return 3
endif
if VC==EY9 or WC==EY9 or BC==EY9 or PC==EY9 or LC==EY9 then
return 2
endif
return 1
endfunction
function E29 takes string winner returns nothing
local integer i
local player p
local string id
local integer D5=R2I(TimerGetElapsed(W)-M_4)
local integer E_9=D5/ 60-1/ 2
local integer EK9=ModuloInteger(D5,60)
set EZ7="UpdateReplayCache"
call IZ8()
set i=1
loop
exitwhen i>5
set p=Z7[i]
set id=I2S(GetPlayerId(p))
call StoreInteger(IV4,id,"1",(T[GetPlayerId((p))]))
call StoreInteger(IV4,id,"2",(V[GetPlayerId((p))]))
call StoreInteger(IV4,id,"3",(T7[GetPlayerId((p))]))
call StoreInteger(IV4,id,"4",(U7[GetPlayerId((p))]))
call StoreInteger(IV4,id,"5",(IU[GetPlayerId((p))]))
call StoreInteger(IV4,id,"6",(GetPlayerState((p),PLAYER_STATE_RESOURCE_GOLD)))
call StoreInteger(IV4,id,"7",(LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId((p)))),StringHash("NumOfNeutrals"))))
call StoreInteger(IV4,id,"8_0",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(0)))))
call StoreInteger(IV4,id,"8_1",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(1)))))
call StoreInteger(IV4,id,"8_2",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(2)))))
call StoreInteger(IV4,id,"8_3",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(3)))))
call StoreInteger(IV4,id,"8_4",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(4)))))
call StoreInteger(IV4,id,"8_5",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(5)))))
call StoreInteger(IV4,id,"9",(GetUnitTypeId(M7[GetPlayerId((p))])))
call StoreInteger(IV4,id,"id",i)
set p=A7[i]
set id=I2S(GetPlayerId(p))
call StoreInteger(IV4,id,"1",(T[GetPlayerId((p))]))
call StoreInteger(IV4,id,"2",(V[GetPlayerId((p))]))
call StoreInteger(IV4,id,"3",(T7[GetPlayerId((p))]))
call StoreInteger(IV4,id,"4",(U7[GetPlayerId((p))]))
call StoreInteger(IV4,id,"5",(IU[GetPlayerId((p))]))
call StoreInteger(IV4,id,"6",(GetPlayerState((p),PLAYER_STATE_RESOURCE_GOLD)))
call StoreInteger(IV4,id,"7",(LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId((p)))),StringHash("NumOfNeutrals"))))
call StoreInteger(IV4,id,"8_0",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(0)))))
call StoreInteger(IV4,id,"8_1",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(1)))))
call StoreInteger(IV4,id,"8_2",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(2)))))
call StoreInteger(IV4,id,"8_3",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(3)))))
call StoreInteger(IV4,id,"8_4",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(4)))))
call StoreInteger(IV4,id,"8_5",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(5)))))
call StoreInteger(IV4,id,"9",(GetUnitTypeId(M7[GetPlayerId((p))])))
call StoreInteger(IV4,id,"id",i+5)
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"1")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"2")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"3")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"4")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"5")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"6")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"7")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_0")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_1")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_2")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_3")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_4")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_5")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"9")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"id")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"1")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"2")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"3")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"4")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"5")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"6")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"7")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_0")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_1")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_2")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_3")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_4")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_5")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"9")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"id")
endif
set i=i+1
endloop
if O84==false then
call StoreInteger(IV4,"Global","Winner",O94)
call StoreInteger(IV4,"Global","m",E_9)
call StoreInteger(IV4,"Global","s",EK9)
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,"Global","Winner")
call SyncStoredInteger(IV4,"Global","m")
call SyncStoredInteger(IV4,"Global","s")
endif
endif
endfunction
function KG8 takes nothing returns nothing
call E29("1")
endfunction
function F49 takes nothing returns boolean
call ExecuteFunc("AB8")
return false
endfunction
function F79 takes nothing returns nothing
call DO8(GetEnumUnit())
endfunction
function F89 takes nothing returns nothing
local group g=LD7()
set EZ7="F89"
call GroupEnumUnitsInRange(g,0,0,12000,Condition(function GQ8))
call ForGroup(g,function F79)
call L97(g)
set g=null
endfunction
function F99 takes nothing returns nothing
call DisableTrigger(Q34)
call DisableTrigger(Q64)
call DisableTrigger(QL4)
call DisableTrigger(Q14)
call DisableTrigger(QZ4)
call DisableTrigger(GX7)
call DisableTrigger(QB4)
call DisableTrigger(EW7)
call DisableTrigger(Hn)
endfunction
function FD9 takes nothing returns nothing
set bj_changeLevelShowScores=true
call DisableTrigger(OE4)
call DisableTrigger(OF4)
call ExecuteFunc("FE9")
if V8 then
call DisableTrigger(NK4)
endif
call DisableTrigger(M24)
call ClearTextMessages()
call CG7(bj_FORCE_ALL_PLAYERS,60,B9+" "+(GetObjectName((1848653108)))+" www.getdota.com.")
set D9=true
call L37()
call DisableTrigger(JS)
call DisableTrigger(FS)
call DisableTrigger(M54)
call LZ7()
call F99()
endfunction
function FF9 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="FF9"
call PanCameraToTimed(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call TriggerRegisterTimerEvent(t,6.5,false)
call TriggerAddCondition(t,Condition(function F49))
set O94=2
set B9="|c0020c000"+(GetObjectName((1848652623)))+"|r"
call FD9()
call F89()
call E29("2")
set t=null
endfunction
function FG9 takes nothing returns boolean
call SetUnitVertexColorBJ(J34,100,100,100,GetTriggerEvalCount(GetTriggeringTrigger()))
if GetTriggerEvalCount(GetTriggeringTrigger())==100 then
call ShowUnit(J34,false)
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function FH9 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="FH9"
call PanCameraToTimed(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call TriggerRegisterTimerEvent(t,3.5,false)
call TriggerAddCondition(t,Condition(function F49))
set O94=1
set B9="|c00ff0303"+(GetObjectName((1848652622)))+"|r"
call FD9()
call F89()
call E29("1")
call AddSpecialEffect("war3mapImported\\FrozenThronesDeath2.mdx",GetUnitX(J34)+150,GetUnitY(J34)+100)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function FG9))
set t=null
endfunction
function FI9 takes unit FJ9 returns boolean
local unit FK9=M7[GetPlayerId(GetOwningPlayer(FJ9))]
set EZ7="IsMyBearTooFar"
if((GetUnitX(FK9)-GetUnitX(FJ9))*(GetUnitX(FK9)-GetUnitX(FJ9))+(GetUnitY(FK9)-GetUnitY(FJ9))*(GetUnitY(FK9)-GetUnitY(FJ9))>=855625)then
set FK9=null
return true
endif
set FK9=null
return false
endfunction
function FM9 takes nothing returns nothing
local unit ZY8=GetAttacker()
local integer FN9=UnitInventorySize(ZY8)
local integer x=0
local item i
set EZ7="FM9"
loop
exitwhen x>FN9
set i=UnitItemInSlot(ZY8,x)
if RP7(i)==UZ and GetRandomReal(0,1)<=0.2 and G88(ZY8)==false then
if GM8(ZY8)then
if FI9(ZY8)==false then
if GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 then
call HY8(ZY8,GetTriggerUnit(),ZH4,40)
endif
endif
else
if GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 then
call HY8(ZY8,GetTriggerUnit(),ZH4,40)
endif
endif
endif
set x=x+1
endloop
set i=null
set ZY8=null
endfunction
function FO9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real FP9=(LoadReal(L7,(GetHandleId(FJ8)),(692)))
set EZ7="FO9"
if GetTriggerEventId()==EVENT_WIDGET_DEATH or FP9<(TimerGetElapsed(W))then
call UnitRemoveAbility(FJ8,1093809717)
call UnitRemoveAbility(FJ8,1110456398)
call UnitRemoveAbility(FJ8,1093809731)
call SaveReal(L7,(GetHandleId(FJ8)),(692),((0)*1.0))
endif
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set FJ8=null
return false
endfunction
function FQ9 takes unit FJ8 returns nothing
local trigger t
local integer PP7
local real FP9=(LoadReal(L7,(GetHandleId(FJ8)),(692)))
set EZ7="SangeAndYasha_SuccessfulHit"
call SaveReal(L7,(GetHandleId(FJ8)),(692),(((TimerGetElapsed(W))+LA4)*1.0))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,LA4+0.01,false)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerAddCondition(t,Condition(function FO9))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call L67(FJ8,1093809717)
call L67(FJ8,1093809731)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809717,false)
set t=null
endfunction
function FR9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
set EZ7="FR9"
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
if GetEventDamageSource()==FJ8 and GetEventDamage()>0 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if EM9(PU7)==false then
call FQ9(PU7)
endif
endif
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function FS9 takes nothing returns nothing
local unit FJ8=GetAttacker()
local unit PU7=GetTriggerUnit()
local trigger t
local integer PP7
set EZ7="FS9"
if UJ7(FJ8,"4309")==false then
call UU7(FJ8,"4309",0.2)
if GetRandomReal(0,100)<LZ4 then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function FR9))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
endif
endif
set FJ8=null
set PU7=null
endfunction
function FT9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real FP9=(LoadReal(L7,(GetHandleId(FJ8)),(693)))
set EZ7="FT9"
if GetTriggerEventId()==EVENT_WIDGET_DEATH or FP9<(TimerGetElapsed(W))then
call UnitRemoveAbility(FJ8,1093809718)
call UnitRemoveAbility(FJ8,1110454857)
call UnitRemoveAbility(FJ8,1093809731)
call SaveReal(L7,(GetHandleId(FJ8)),(693),((0)*1.0))
endif
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set FJ8=null
return false
endfunction
function FU9 takes unit FJ8 returns nothing
local trigger t
local integer PP7
local real FP9=(LoadReal(L7,(GetHandleId(FJ8)),(693)))
set EZ7="Sange_SuccessfulHit"
call SaveReal(L7,(GetHandleId(FJ8)),(693),(((TimerGetElapsed(W))+LC4)*1.0))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,LC4+0.01,false)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerAddCondition(t,Condition(function FT9))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call L67(FJ8,1093809718)
call L67(FJ8,1093809731)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809718,false)
set t=null
endfunction
function FV9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
set EZ7="FV9"
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
if GetEventDamageSource()==FJ8 and GetEventDamage()>0 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if EM9(PU7)==false then
call FU9(PU7)
endif
endif
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function FW9 takes nothing returns nothing
local unit FJ8=GetAttacker()
local unit PU7=GetTriggerUnit()
local trigger t
local integer PP7
set EZ7="FW9"
if UJ7(FJ8,"4309")==false then
call UU7(FJ8,"4309",0.2)
if GetRandomReal(0,100)<LB4 then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function FV9))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
endif
endif
set FJ8=null
set PU7=null
endfunction
function FX9 takes nothing returns nothing
local unit ZY8=GetAttacker()
local integer FY9=25
local integer id=GetPlayerId(GetOwningPlayer(GetAttacker()))
local integer US7=GetHandleId(ZY8)
local real CH7=TimerGetElapsed(W)
local real FZ9=UD7(US7,"bashertime")
local boolean FA9=UE7(US7,"basheractive")
local boolean FB9=UE7(US7,"basherremove")
local boolean FC9=CH7<FZ9
local boolean F39=false
set EZ7="FX9"
if IsUnitType(ZY8,UNIT_TYPE_MELEE_ATTACKER)==false then
set FY9=10
endif
if GetRandomInt(0,100)<FY9 then
set F39=true
endif
if GetUnitAbilityLevel(ZY8,1093683786)>0 or GetUnitAbilityLevel(ZY8,1093679153)>0 or GetUnitAbilityLevel(ZY8,1093682997)>0 or GetUnitAbilityLevel(ZY8,1093679429)>0 then
call UnitRemoveAbility(ZY8,1093744436)
set ZY8=null
return
endif
if FA9 and FC9==false and FB9==false then
call TG7(US7,"bashertime",(CH7+2)*1.0)
if F39==false then
call TI7(US7,"basherremove",true)
endif
elseif FC9 or FB9 then
call UnitRemoveAbility(ZY8,1093744436)
call TI7(US7,"basheractive",false)
call TI7(US7,"basherremove",false)
endif
if F39 then
call L67(ZY8,1093744436)
call UnitMakeAbilityPermanent(ZY8,true,1093744437)
call TI7(US7,"basheractive",true)
endif
set ZY8=null
endfunction
function F69 takes real IC8 returns boolean
return(100*GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/ GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE))<IC8
endfunction
function AntiTK_Building takes nothing returns boolean
return F69(10)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==true and GetUnitTypeId(GetTriggerUnit())!=1702129516 and GetUnitTypeId(GetTriggerUnit())!=1970172012
endfunction
function AntiTK_Hero takes nothing returns boolean
return F69(25)and(GetUnitAbilityLevel(GetTriggerUnit(),1112433775)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1111847784)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110454321)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110458705)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110458704)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455620)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455629)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455630)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455631)>0)
endfunction
function AntiTK_Creep takes nothing returns boolean
return F69(50)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false or GetUnitTypeId(GetTriggerUnit())==1700946284 or GetUnitTypeId(GetTriggerUnit())==1697657398 or GetUnitTypeId(GetTriggerUnit())==1970107511 or GetUnitTypeId(GetTriggerUnit())==1966092370)
endfunction
function AntiTK_Exception takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())==1966092371 or GetUnitTypeId(GetTriggerUnit())==1865429334 or UJ7(GetAttacker(),"4328")==true
endfunction
function FL9 takes nothing returns nothing
if not((F69(10)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==true and GetUnitTypeId(GetTriggerUnit())!=1702129516 and GetUnitTypeId(GetTriggerUnit())!=1970172012)or(F69(25)and(GetUnitAbilityLevel(GetTriggerUnit(),1112433775)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1111847784)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110454321)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110458705)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110458704)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455620)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455629)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455630)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455631)>0))or(F69(50)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false or GetUnitTypeId(GetTriggerUnit())==1700946284 or GetUnitTypeId(GetTriggerUnit())==1697657398 or GetUnitTypeId(GetTriggerUnit())==1970107511 or GetUnitTypeId(GetTriggerUnit())==1966092370))or(GetUnitTypeId(GetTriggerUnit())==1966092371 or GetUnitTypeId(GetTriggerUnit())==1865429334 or UJ7(GetAttacker(),"4328")==true))then
call IssueImmediateOrder(GetAttacker(),"stop")
endif
endfunction
function F19 takes nothing returns boolean
if IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
call FL9()
elseif IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true or GM8(GetAttacker())then
set OG4=GetPlayerId(GetOwningPlayer(GetAttacker()))
if RK4[OG4]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitIllusion(GetAttacker())==false and SG7(GetAttacker(),ZU[UZ])==true then
call FM9()
endif
if RO4[OG4]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and(SG7(GetAttacker(),ZU[WL])==true or SG7(GetAttacker(),ZU[U3])==true)then
call FX9()
endif
if RR4[OG4]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and SG7(GetAttacker(),ZU[U1])==true then
call FS9()
elseif(RS4[OG4]>0 or H07[OG4]>0)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and(SG7(GetAttacker(),ZU[RL])==true or SG7(GetAttacker(),ZU[R3])==true)then
call FW9()
endif
elseif GetUnitAbilityLevel(GetAttacker(),1093744467)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false then
call ZX8()
endif
return false
endfunction
function F09 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
set EZ7="F09"
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT or UE7(GetHandleId(C17),"PendingUnfreeze")==true then
if UE7(GetHandleId(C17),"PendingUnfreeze")==true then
call TI7(GetHandleId(C17),"PendingUnfreeze",false)
call UO7(C17,"Frozen")
call UnitRemoveAbility(C17,1093678162)
call EN9(C17,false)
call PauseUnit(C17,false)
call T97(US7)
call UQ7(t)
elseif GetSpellTargetUnit()==C17 and GetSpellAbilityId()==vw and(GetPlayerSlotState(GetOwningPlayer((C17)))==PLAYER_SLOT_STATE_LEFT)and UJ7(C17,"Frozen")==true then
call UO7(C17,"Frozen")
call UnitRemoveAbility(C17,1093678162)
call EN9(C17,false)
call PauseUnit(C17,false)
call T97(US7)
call UQ7(t)
endif
elseif L17(C17)==false then
call SetUnitX(C17,x)
call SetUnitY(C17,y)
call UM7(C17,"Frozen")
call UnitAddAbility(C17,1093678162)
call EN9(C17,true)
call PauseUnit(C17,true)
endif
set C17=null
set t=null
return false
endfunction
function F59 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit C17=GetSpellTargetUnit()
call TI7(GetHandleId(C17),"PendingUnfreeze",false)
call UM7(C17,"Frozen")
call UnitAddAbility(C17,1093678162)
call EN9(C17,true)
call PauseUnit(C17,true)
call TJ7(US7,"Hero",C17)
call TG7(US7,"x",GetUnitX(C17)*1.0)
call TG7(US7,"y",GetUnitY(C17)*1.0)
call TriggerRegisterTimerEvent(t,1.,true)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function F09))
set t=null
set C17=null
endfunction
function F29 takes nothing returns boolean
if GetSpellAbilityId()==TU and(GetPlayerSlotState(GetOwningPlayer((GetSpellTargetUnit())))==PLAYER_SLOT_STATE_LEFT)and UJ7(GetSpellTargetUnit(),"Frozen")==false then
call F59()
elseif(GetSpellAbilityId()==vw or GetSpellAbilityId()==TU)and(GetPlayerSlotState(GetOwningPlayer((GetSpellTargetUnit())))==PLAYER_SLOT_STATE_LEFT)==false then
call DQ8(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848652366))))
endif
return false
endfunction
function F_9 takes destructable d returns boolean
local real x=GetDestructableX(d)
local real y=GetDestructableY(d)
local group g=LD7()
local boolean G49
call GroupEnumUnitsInRange(g,x,y,250,Condition(function G28))
set G49=FirstOfGroup(g)!=null
call L97(g)
set g=null
return G49
endfunction
function G79 takes nothing returns nothing
if C47(GetEnumDestructable())and GetDestructableLife(GetEnumDestructable())<1 and GetDestructableTypeId(GetEnumDestructable())!=1110454322 and GetDestructableTypeId(GetEnumDestructable())!=1110454323 then
if F_9(GetEnumDestructable())==false then
call DestructableRestoreLife(GetEnumDestructable(),GetDestructableMaxLife(GetEnumDestructable()),false)
if PW[GetPlayerId(GetLocalPlayer())]==1 and GetDestructableTypeId(GetEnumDestructable())==1096053874 then
call SetDestructableAnimation(GetEnumDestructable(),"stand alternate")
endif
endif
endif
endfunction
function G89 takes nothing returns nothing
call EnumDestructablesInRectAll(bj_mapInitialPlayableArea,function G79)
endfunction
function G99 takes unit it,unit m5 returns boolean
local integer i=GetUnitAbilityLevel(it,1093742674)
local integer j=GetUnitLevel(m5)
return(i>0)and((j<=2)or(i>1 and j<=i+2))
endfunction
function GD9 takes nothing returns boolean
local unit GE9=GetAttacker()
local unit GF9=GetTriggerUnit()
local integer i1=GetUnitTypeId(GE9)
local integer O5=GetPlayerId(GetOwningPlayer(GE9))
set EZ7="GD9"
if GetUnitTypeId(GF9)==1848651852 then
if IsUnitIllusion(GE9)==true then
call KillUnit(GE9)
elseif IsUnitInRegion(ow,GE9)==false then
call DQ8(GetOwningPlayer(GE9),(GetObjectName((1848652597))))
call IssueImmediateOrder(GE9,"stop")
endif
elseif((i1==1430467634)and(Bz>TC4[16+O5])and((GetUnitTypeId(GF9)==1852010091)or(GetUnitTypeId(GF9)==1852534636))and AK7(GetOwningPlayer(GE9)))then
if G99(GE9,GF9)then
call SZ7(GE9,852600,1093742674,GF9)
endif
elseif((i1==1430467634)and(Bz>TC4[16+O5])and AK7(GetOwningPlayer(GE9))and(GetRandomInt(1,4)==1)and(not IsUnitType(GF9,UNIT_TYPE_MECHANICAL))and(not IsUnitType(GF9,UNIT_TYPE_ANCIENT))and GetUnitTypeId(GF9)!=1848658008 and GetUnitTypeId(GF9)!=1852796263 and GetUnitTypeId(GF9)!=1852207221 and GetUnitTypeId(GF9)!=1853060204 and GetUnitTypeId(GF9)!=1853055348 and GetUnitTypeId(GF9)!=1853060200 and GetUnitTypeId(GF9)!=1848651859 and GetUnitTypeId(GF9)!=1852207976 and GetUnitTypeId(GF9)!=1852272243 and GetUnitTypeId(GF9)!=1852270641 and GetUnitTypeId(GF9)!=1852798821 and GetUnitTypeId(GF9)!=1852077175 and GetUnitTypeId(GF9)!=1853320295)then
if G99(GE9,GF9)then
call SZ7(GE9,852600,1093742674,GF9)
endif
elseif((i1==1429221443)and AK7(GetOwningPlayer(GE9))and(not IsUnitType(GF9,UNIT_TYPE_MECHANICAL))and(not IsUnitType(GF9,UNIT_TYPE_ANCIENT))and(GetUnitTypeId(GF9)==1852010091)or(GetUnitTypeId(GF9)==1852534636)or GetUnitTypeId(GF9)==1848658008 or GetUnitTypeId(GF9)==1852796263 or GetUnitTypeId(GF9)==1852207221 or GetUnitTypeId(GF9)==1853060204 or GetUnitTypeId(GF9)==1853055348 or GetUnitTypeId(GF9)==1853060200 or GetUnitTypeId(GF9)==1848651859 or GetUnitTypeId(GF9)==1852207976 or GetUnitTypeId(GF9)==1852272243 or GetUnitTypeId(GF9)==1852270641 or GetUnitTypeId(GF9)==1852798821 or GetUnitTypeId(GF9)==1852077175 or GetUnitTypeId(GF9)==1853320295)then
if(GetUnitAbilityLevel(GE9,1093686103)>1)then
call SZ7(GE9,852600,1093686103,GF9)
endif
elseif((i1==1211117653)and AK7(GetOwningPlayer(GE9)))then
if((Bz>TC4[128+O5])and(A67(GE9,LQ4,LQ4,LR4,1093686865)))then
call SZ7(GE9,852490,1093686865,GE9)
elseif(Bz>TC4[64+O5])and(A67(GE9,LR4,LR4,LP4,1093686863))then
call IssueImmediateOrderById(GE9,852132)
endif
endif
set GE9=null
set GF9=null
return false
endfunction
function GG9 takes nothing returns nothing
local unit GH9=GetSummonedUnit()
local unit FJ8=GetSummoningUnit()
local string fx=""
set EZ7="GG9"
if IsPlayerEnemy(GetLocalPlayer(),GetOwningPlayer(FJ8))and C67(GetLocalPlayer())==false then
set fx="war3mapImported\\WardMark_T2.mdx"
endif
call AddSpecialEffectTarget(fx,GH9,"origin")
set GH9=null
set FJ8=null
endfunction
function GI9 takes nothing returns boolean
return true
endfunction
function GJ9 takes unit C17,unit GK9 returns nothing
local integer GM9
local item GN9
set EZ7="Rfv"
if GetUnitTypeId(GetSummonedUnit())==1865429044 then
set GM9=ZU[VC]
else
set GM9=ZU[WC]
endif
call DisableTrigger(H94)
set GN9=SK7(C17,GM9)
if GN9==null then
set IR4=GetOwningPlayer(C17)
set HA4=CreateItem(GM9,0,0)
call UnitAddItem(C17,HA4)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
else
call SetItemCharges(GN9,GetItemCharges(GN9)+1)
endif
call EnableTrigger(H94)
set GN9=null
endfunction
function GO9 takes nothing returns nothing
local unit GK9=GetSummonedUnit()
local unit C17=GetSummoningUnit()
set EZ7="GO9"
if GetUnitTypeId(GetSummonedUnit())==1865429044 or GetUnitTypeId(GetSummonedUnit())==1868921189 then
if IsUnitInRegion(ow,GK9)then
call GJ9(C17,GK9)
call RemoveUnit(GK9)
elseif RM7(C17)then
call GJ9(C17,GK9)
call DQ8(GetOwningPlayer(GK9),"Couriers cannot place wards")
call RemoveUnit(GK9)
else
call GG9()
endif
elseif GetUnitTypeId(GK9)==1869836340 or GetUnitTypeId(GK9)==1865429048 or GetUnitTypeId(GK9)==1865429049 or GetUnitTypeId(GK9)==1865429315 or GetUnitTypeId(GK9)==1865429316 or GetUnitTypeId(GK9)==1865429317 then
call SelectUnitAddForPlayer(GK9,GetOwningPlayer(GK9))
elseif GetUnitTypeId(GK9)==1865429040 or GetUnitTypeId(GK9)==1865429041 or GetUnitTypeId(GK9)==1865429057 or GetUnitTypeId(GK9)==1865429080 then
call SelectUnitAddForPlayer(GK9,GetOwningPlayer(GK9))
endif
set C17=null
set GK9=null
endfunction
function GP9 takes unit C17 returns real
local real GQ9
set EZ7="RHv"
if AG7(GetOwningPlayer(C17))then
set GQ9=GetRectCenterX(ED)
else
set GQ9=GetRectCenterX(L9)
endif
return GQ9
endfunction
function GR9 takes unit C17 returns real
local real GQ9
set EZ7="RJv"
if AG7(GetOwningPlayer(C17))then
set GQ9=GetRectCenterY(ED)
else
set GQ9=GetRectCenterY(L9)
endif
return GQ9
endfunction
function GS9 takes unit C17,integer n5,integer GT9 returns item
local real x=GP9(C17)
local real y=GR9(C17)
local item XO8=CreateItem(n5,x,y)
local integer i=0
local boolean array GU9
local item Z4
set EZ7="SafeUnitAddItemToSlotById"
set M47=IR4
call DisableTrigger(H94)
if n5>0 then
loop
exitwhen i>(UnitInventorySize(C17)-1)
if UnitItemInSlot(C17,i)==null and i!=GT9 then
set Z4=CreateItem(1227895373,x,y)
call UnitAddItem(C17,Z4)
set GU9[i]=true
else
set GU9[i]=false
endif
if i==GT9 then
call EnableTrigger(H94)
call UnitAddItem(C17,XO8)
call DisableTrigger(H94)
endif
set i=i+1
endloop
set i=0
loop
exitwhen i>5
if GU9[i]==true then
call RemoveItem(UnitItemInSlot(C17,i))
endif
set i=i+1
endloop
endif
call EnableTrigger(H94)
set HA4=XO8
set XO8=null
set Z4=null
return HA4
endfunction
function GV9 takes unit FJ8 returns boolean
local integer PP7=GetHandleId(FJ8)
local integer i=0
local real CF8=(TimerGetElapsed(W))
local real GW9=10
loop
exitwhen i>2
if(LoadReal(L7,(PP7),(730+i)))<CF8-GW9 then
return false
endif
set i=i+1
endloop
return true
endfunction
function GX9 takes unit FJ8 returns nothing
local integer PP7=GetHandleId(FJ8)
local integer GY9=(LoadInteger(L7,(PP7),(729)))
call SaveReal(L7,(PP7),(730+GY9),(((TimerGetElapsed(W)))*1.0))
set GY9=GY9+1
if GY9==3 then
set GY9=0
endif
call SaveInteger(L7,(PP7),(729),(GY9))
endfunction
function GZ9 takes unit LI7 returns nothing
local integer i=0
local item GA9
local integer EL9
local boolean GB9=false
if GV9(LI7)then
set GB9=true
endif
loop
exitwhen i>5
set GA9=UnitItemInSlot(LI7,i)
set EL9=RP7(GA9)
if EL9==LB and GB9==true then
call DisableTrigger(H94)
set IR4=GetItemPlayer(GA9)
call RemoveItem(GA9)
set HA4=GS9(LI7,ZU[EC],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
if EL9==EC and GB9==false then
call DisableTrigger(H94)
set IR4=GetItemPlayer(GA9)
call RemoveItem(GA9)
set HA4=GS9(LI7,ZU[LB],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
set i=i+1
endloop
set LI7=null
set GA9=null
endfunction
function Z68 takes nothing returns nothing
if GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and(AI7(GetOwningPlayer(GetEventDamageSource()))or GetUnitTypeId(GetEventDamageSource())==1848651852)then
if WV4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false then
call SaveReal(L7,(GetHandleId(GetTriggerUnit())),(785),(((TimerGetElapsed(W)))*1.0))
if GetEventDamage()>20 then
call GX9(GetTriggerUnit())
endif
endif
endif
endfunction
function GC9 takes unit C17 returns nothing
local integer i=0
local item G39
local integer EY9
local boolean G69=false
if(LoadReal(L7,(GetHandleId(C17)),(785)))+3>(TimerGetElapsed(W))then
set G69=true
endif
loop
exitwhen i>5
set G39=UnitItemInSlot(C17,i)
set EY9=RP7(G39)
if EY9==RW and G69==true then
call DisableTrigger(H94)
set IR4=GetItemPlayer(G39)
call RemoveItem(G39)
set HA4=GS9(C17,ZU[TW],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
if EY9==TW and G69==false then
call DisableTrigger(H94)
set IR4=GetItemPlayer(G39)
call RemoveItem(G39)
set HA4=GS9(C17,ZU[RW],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
set i=i+1
endloop
set C17=null
set G39=null
endfunction
function GL9 takes unit C17 returns nothing
local integer i=0
local item G19
local integer EY9
local boolean G09=false
local real G59=4
if IsUnitType(C17,UNIT_TYPE_MELEE_ATTACKER)==false then
set G59=6
endif
if(LoadReal(L7,(GetHandleId(C17)),(785)))+G59>(TimerGetElapsed(W))then
set G09=true
endif
loop
exitwhen i>5
set G19=UnitItemInSlot(C17,i)
set EY9=RP7(G19)
if EY9==R2 and G09==true then
call DisableTrigger(H94)
set IR4=GetItemPlayer(G19)
call RemoveItem(G19)
set HA4=GS9(C17,ZU[S2],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
if EY9==S2 and G09==false then
call DisableTrigger(H94)
set IR4=GetItemPlayer(G19)
call RemoveItem(G19)
set HA4=GS9(C17,ZU[R2],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
set i=i+1
endloop
set C17=null
set G19=null
endfunction
function G29 takes nothing returns nothing
local unit LI7=GetEnumUnit()
local integer id=GetPlayerId(GetOwningPlayer(LI7))
if RM4[id]>0 and LI7!=null and GetUnitTypeId(LI7)>1 and IsUnitType(LI7,UNIT_TYPE_DEAD)==false then
call GC9(LI7)
endif
if RQ4[id]>0 and LI7!=null and GetUnitTypeId(LI7)>1 and IsUnitType(LI7,UNIT_TYPE_DEAD)==false then
call GL9(LI7)
endif
if H_7[id]>0 and LI7!=null and GetUnitTypeId(LI7)>1 and IsUnitType(LI7,UNIT_TYPE_DEAD)==false then
call GZ9(LI7)
endif
set LI7=null
endfunction
function G_9 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and GetUnitTypeId(GetFilterUnit())!=1211117642 and GetUnitTypeId(GetFilterUnit())!=1211122232
endfunction
function H49 takes nothing returns boolean
local integer i=1
local unit LI7
local integer id
local group g
if HF4>0 or HI4>0 or H17>0 then
set g=LD7()
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function G_9))
loop
exitwhen i>5
set id=GetPlayerId(Z7[i])
set LI7=M7[id]
call GroupAddUnit(g,LI7)
set id=GetPlayerId(A7[i])
set LI7=M7[id]
call GroupAddUnit(g,LI7)
set i=i+1
endloop
call ForGroup(g,function G29)
call L97(g)
set g=null
endif
set LI7=null
return false
endfunction
function H79 takes nothing returns nothing
local unit C17=GetFilterUnit()
local integer i=0
local item XO8
local integer EY9
loop
exitwhen i>5
set XO8=UnitItemInSlot(C17,i)
set EY9=RO7(XO8)
if(EY9==AZ or EY9==BZ or EY9==CZ)and GetItemUserData(XO8)>0 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",C17,"overhead"))
call DP8(GetOwningPlayer(C17),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
set IR4=GetItemPlayer(XO8)
call RN7(XO8)
set HA4=GS9(C17,ZU[IA],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
set i=i+1
endloop
set C17=null
set XO8=null
endfunction
function H89 takes nothing returns boolean
if UnitInventorySize(GetFilterUnit())>0 and AG7(GetOwningPlayer(GetFilterUnit()))and IsUnitIllusion(GetFilterUnit())==false and L17(GetFilterUnit())==false then
call H79()
endif
return false
endfunction
function H99 takes nothing returns boolean
if UnitInventorySize(GetFilterUnit())>0 and AH7(GetOwningPlayer(GetFilterUnit()))and IsUnitIllusion(GetFilterUnit())==false and L17(GetFilterUnit())==false then
call H79()
endif
return false
endfunction
function HD9 takes nothing returns boolean
local group g=LD7()
set EZ7="HD9"
call GroupEnumUnitsInRange(g,IX4,IY4,750,Condition(function H89))
call L97(g)
set g=LD7()
call GroupEnumUnitsInRange(g,JY4,JZ4,750,Condition(function H99))
call L97(g)
set g=null
return false
endfunction
function HE9 takes unit u returns unit
if IsUnitType(u,UNIT_TYPE_HERO)or GetUnitAbilityLevel(u,1093678162)==0 then
return u
else
return M7[GetPlayerId(GetOwningPlayer(u))]
endif
endfunction
function HF9 takes nothing returns boolean
if IsUnitType(GetKillingUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetDyingUnit(),GetOwningPlayer(GetKillingUnit()))==false then
if GetUnitTypeId(GetTriggerUnit())==1848651850 then
call HY8(GetDyingUnit(),HE9(GetKillingUnit()),ZI4,400)
elseif GetUnitTypeId(GetTriggerUnit())==1848651841 then
call HY8(GetDyingUnit(),HE9(GetKillingUnit()),ZI4,500)
elseif GetUnitTypeId(GetTriggerUnit())==1848651830 then
call HY8(GetDyingUnit(),HE9(GetKillingUnit()),ZI4,600)
endif
endif
return false
endfunction
function HG9 takes nothing returns boolean
return GetUnitTypeId(GetEnteringUnit())==1697656901 or GetUnitTypeId(GetEnteringUnit())==1697657394
endfunction
function HH9 takes nothing returns nothing
call ShowUnitHide(GetEnteringUnit())
call SetUnitPathing(GetEnteringUnit(),false)
call SetUnitInvulnerable(GetEnteringUnit(),true)
if(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)then
call UnitApplyTimedLifeBJ(20.,1112820806,GetEnteringUnit())
else
call TriggerSleepAction(10.)
if((GetUnitTypeId(GetEnteringUnit())==1697656901)or(GetUnitTypeId(GetEnteringUnit())==1697657394))then
call UnitApplyTimedLifeBJ(10.,1112820806,GetEnteringUnit())
endif
endif
endfunction
function HI9 takes nothing returns boolean
return((GetUnitTypeId(GetDyingUnit())==1697656914)or(GetUnitTypeId(GetDyingUnit())==1697657137)or(GetUnitTypeId(GetDyingUnit())==1697656915)or(GetUnitTypeId(GetDyingUnit())==1697657145))
endfunction
function HJ9 takes nothing returns nothing
if IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))then
set gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
if(GetDyingUnit()==JG4)then
call I38("Tower"+I2S(0)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call EN9(JJ4,false)
call BX7(GetKillingUnit(),1)
set P64=1
elseif(GetDyingUnit()==JH4)then
call I38("Tower"+I2S(0)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call EN9(JK4,false)
call BX7(GetKillingUnit(),1)
set P34=1
elseif(GetDyingUnit()==JI4)then
call I38("Tower"+I2S(0)+I2S(1)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call EN9(JM4,false)
call BX7(GetKillingUnit(),1)
set PL4=1
elseif(GetDyingUnit()==JJ4)then
call I38("Tower"+I2S(0)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call EN9(JN4,false)
call BX7(GetKillingUnit(),2)
set P64=2
elseif(GetDyingUnit()==JK4)then
call I38("Tower"+I2S(0)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call EN9(JO4,false)
call BX7(GetKillingUnit(),2)
set P34=2
elseif(GetDyingUnit()==JM4)then
call I38("Tower"+I2S(0)+I2S(2)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call EN9(JP4,false)
call BX7(GetKillingUnit(),2)
set PL4=2
elseif(GetDyingUnit()==JN4)then
call I38("Tower"+I2S(0)+I2S(3)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BX7(GetKillingUnit(),3)
call EN9(JS4,false)
call EN9(JV4,false)
call EN9(JQ4,false)
call EN9(JR4,false)
call EN9(WP,false)
call EN9(zP,false)
call EN9(vq,false)
call EN9(eq,false)
call EN9(fP,false)
call EN9(FP,false)
call EN9(lP,false)
call EN9(LP,false)
call EN9(MP,false)
call EN9(pP,false)
call EN9(PP,false)
call EN9(qP,false)
call EN9(QP,false)
call EN9(sP,false)
call EN9(tP,false)
set P64=3
elseif(GetDyingUnit()==JO4)then
call I38("Tower"+I2S(0)+I2S(3)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BX7(GetKillingUnit(),3)
call EN9(JT4,false)
call EN9(JW4,false)
call EN9(JQ4,false)
call EN9(JR4,false)
call EN9(WP,false)
call EN9(zP,false)
call EN9(vq,false)
call EN9(eq,false)
call EN9(fP,false)
call EN9(FP,false)
call EN9(lP,false)
call EN9(LP,false)
call EN9(MP,false)
call EN9(pP,false)
call EN9(PP,false)
call EN9(qP,false)
call EN9(QP,false)
call EN9(sP,false)
call EN9(tP,false)
set P34=3
elseif(GetDyingUnit()==JP4)then
call I38("Tower"+I2S(0)+I2S(3)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BX7(GetKillingUnit(),3)
call EN9(JU4,false)
call EN9(JX4,false)
call EN9(JQ4,false)
call EN9(JR4,false)
call EN9(WP,false)
call EN9(zP,false)
call EN9(vq,false)
call EN9(eq,false)
call EN9(fP,false)
call EN9(FP,false)
call EN9(lP,false)
call EN9(LP,false)
call EN9(MP,false)
call EN9(pP,false)
call EN9(PP,false)
call EN9(qP,false)
call EN9(QP,false)
call EN9(sP,false)
call EN9(tP,false)
set PL4=3
endif
if GetDyingUnit()==JQ4 or GetDyingUnit()==JR4 then
call I38("Tower"+I2S(0)+I2S(4)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BX7(GetKillingUnit(),4)
endif
if(((GetDyingUnit()==JQ4)and(IsUnitDeadBJ(JR4)))or((GetDyingUnit()==JR4)and(IsUnitDeadBJ(JQ4))))then
call EN9(JF4,false)
set PW4=false
endif
endfunction
function HK9 takes nothing returns boolean
return((GetUnitTypeId(GetDyingUnit())==1966092365)or(GetUnitTypeId(GetDyingUnit())==1966092356)or(GetUnitTypeId(GetDyingUnit())==1966092366)or(GetUnitTypeId(GetDyingUnit())==1966092372))
endfunction
function HM9 takes nothing returns nothing
if IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))then
set gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
if(GetDyingUnit()==J64)then
call I38("Tower"+I2S(1)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call EN9(J04,false)
call BX7(GetKillingUnit(),1)
set P04=1
elseif(GetDyingUnit()==JL4)then
call I38("Tower"+I2S(1)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call EN9(J54,false)
call BX7(GetKillingUnit(),1)
set P14=1
elseif(GetDyingUnit()==J14)then
call I38("Tower"+I2S(1)+I2S(1)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call EN9(J24,false)
call BX7(GetKillingUnit(),1)
set P54=1
elseif(GetDyingUnit()==J04)then
call I38("Tower"+I2S(1)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call EN9(J_4,false)
call BX7(GetKillingUnit(),2)
set P04=2
elseif(GetDyingUnit()==J54)then
call I38("Tower"+I2S(1)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call EN9(K44,false)
call BX7(GetKillingUnit(),2)
set P14=2
elseif(GetDyingUnit()==J24)then
call I38("Tower"+I2S(1)+I2S(2)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call EN9(K74,false)
call BX7(GetKillingUnit(),2)
set P54=2
elseif(GetDyingUnit()==J_4)then
call I38("Tower"+I2S(1)+I2S(3)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BX7(GetKillingUnit(),3)
call EN9(KD4,false)
call EN9(KG4,false)
call EN9(K84,false)
call EN9(K94,false)
call EN9(ot,false)
call EN9(rt,false)
call EN9(at,false)
call EN9(Vt,false)
call EN9(PS,false)
call EN9(QS,false)
call EN9(SS,false)
call EN9(tS,false)
call EN9(TS,false)
call EN9(US,false)
call EN9(WS,false)
call EN9(ZS,false)
call EN9(vt,false)
call EN9(et,false)
call EN9(xt,false)
set P04=3
elseif(GetDyingUnit()==K44)then
call I38("Tower"+I2S(1)+I2S(3)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BX7(GetKillingUnit(),3)
call EN9(KE4,false)
call EN9(KH4,false)
call EN9(K84,false)
call EN9(K94,false)
call EN9(ot,false)
call EN9(rt,false)
call EN9(at,false)
call EN9(Vt,false)
call EN9(PS,false)
call EN9(QS,false)
call EN9(SS,false)
call EN9(tS,false)
call EN9(TS,false)
call EN9(US,false)
call EN9(WS,false)
call EN9(ZS,false)
call EN9(vt,false)
call EN9(et,false)
call EN9(xt,false)
set P14=3
elseif(GetDyingUnit()==K74)then
call I38("Tower"+I2S(1)+I2S(3)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BX7(GetKillingUnit(),3)
call EN9(KF4,false)
call EN9(KI4,false)
call EN9(K84,false)
call EN9(K94,false)
call EN9(ot,false)
call EN9(rt,false)
call EN9(at,false)
call EN9(Vt,false)
call EN9(PS,false)
call EN9(QS,false)
call EN9(SS,false)
call EN9(tS,false)
call EN9(TS,false)
call EN9(US,false)
call EN9(WS,false)
call EN9(ZS,false)
call EN9(vt,false)
call EN9(et,false)
call EN9(xt,false)
set P54=3
endif
if GetDyingUnit()==K84 or GetDyingUnit()==K94 then
call I38("Tower"+I2S(1)+I2S(4)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BX7(GetKillingUnit(),4)
endif
if(((GetDyingUnit()==K94)and(IsUnitDeadBJ(K84)))or((GetDyingUnit()==K84)and(IsUnitDeadBJ(K94))))then
call EN9(J34,false)
set PX4=false
endif
endfunction
function HN9 takes nothing returns boolean
local integer x=0
set EZ7="HN9"
if GetPlayerSlotState(Z7[1])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(Z7[2])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(Z7[3])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(Z7[4])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(Z7[5])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(A7[1])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(A7[2])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(A7[3])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(A7[4])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(A7[5])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
return x==9
endfunction
function Ve takes nothing returns boolean
return bj_isSinglePlayer and HN9()
endfunction
function HO9 takes nothing returns nothing
set Y_4=true
endfunction
function HP9 takes nothing returns nothing
set H84=false
endfunction
function HQ9 takes nothing returns boolean
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false then
call KillUnit(GetFilterUnit())
endif
return false
endfunction
function HR9 takes nothing returns nothing
local group g=LD7()
set EZ7="HR9"
call GroupEnumUnitsOfPlayer(g,A7[0],Condition(function HQ9))
call L97(g)
set g=null
set Y9=true
endfunction
function HS9 takes nothing returns nothing
local group g=LD7()
set EZ7="HS9"
call GroupEnumUnitsOfPlayer(g,Z7[0],Condition(function HQ9))
call L97(g)
set g=null
set Y9=true
endfunction
function HT9 takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==1865429044 or GetUnitTypeId(GetFilterUnit())==1868921189 then
call KillUnit(GetFilterUnit())
endif
return false
endfunction
function HU9 takes nothing returns nothing
local group g=LD7()
set EZ7="HU9"
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function HT9))
call L97(g)
set g=null
set Y9=true
endfunction
function HV9 takes nothing returns nothing
set B4=false
endfunction
function HW9 takes nothing returns nothing
set B4=true
endfunction
function HX9 takes nothing returns nothing
call HS9()
call HR9()
set Y9=true
endfunction
function HY9 takes nothing returns nothing
local string HZ9=SubString(GetEventPlayerChatString(),5,StringLength(GetEventPlayerChatString()))
local integer HA9=S2I(HZ9)
set EZ7="HY9"
if HA9<0 or HA9>24 then
set HA9=0
endif
call SetFloatGameState(GAME_STATE_TIME_OF_DAY,HA9)
set Y9=true
endfunction
function HB9 takes nothing returns boolean
if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true then
call SetHeroLevel(GetFilterUnit(),GetHeroLevel(GetFilterUnit())+D18(IH4,1),true)
endif
return false
endfunction
function HC9 takes nothing returns nothing
local string H39=SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString()))
local integer H69=S2I(H39)
local group g=LD7()
set EZ7="HC9"
if SubString(GetEventPlayerChatString(),0,9)!="-lvlupall" and SubString(GetEventPlayerChatString(),0,9)!="-lvlupfor" then
if H69<1 then
set H69=1
endif
set IH4=H69
call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function HB9))
endif
call L97(g)
set g=null
set Y9=true
endfunction
function HL9 takes nothing returns nothing
call TriggerExecute(JS)
set Y9=true
endfunction
function H19 takes nothing returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(GetFilterUnit()))
set EZ7="H19"
if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true then
set hq[O5]=0.
set hq[16+O5]=0.
set hq[32+O5]=0.
set TC4[O5]=0.
set TC4[16+O5]=0.
set TC4[32+O5]=0.
set TC4[48+O5]=0.
call UnitResetCooldown(GetFilterUnit())
call TimerStart(N84[GetPlayerId((GetOwningPlayer(GetFilterUnit())))],0,false,null)
call SetUnitState(GetFilterUnit(),UNIT_STATE_LIFE,GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_LIFE))
call SetUnitState(GetFilterUnit(),UNIT_STATE_MANA,GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_MANA))
endif
return false
endfunction
function H09 takes nothing returns nothing
local group g=LD7()
set EZ7="H09"
call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function H19))
call L97(g)
set g=null
set Y9=true
endfunction
function H59 takes nothing returns nothing
if Y54 then
return
endif
call KillUnit(M7[GetPlayerId(GetTriggerPlayer())])
set Y9=true
endfunction
function H29 takes nothing returns nothing
local string nQ=SubString(GetEventPlayerChatString(),5,StringLength(GetEventPlayerChatString()))
local integer hY=S2I(nQ)
set EZ7="H29"
call SetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)+hY)
set Y9=true
endfunction
function H_9 takes nothing returns nothing
local unit B_8=M7[GetPlayerId(GetTriggerPlayer())]
local player LH8=GetTriggerPlayer()
local location CD8
set EZ7="H_9"
if AH7(LH8)then
set CD8=GetRectCenter(L9)
else
set CD8=GetRectCenter(ED)
endif
if D9==false and L17(B_8)then
call KM8(B_8,LH8,GetLocationX(CD8),GetLocationY(CD8),true)
if B28(B_8)==false or GetUnitAbilityLevel(B_8,1093684567)==0 then
call ReviveHeroLoc(B_8,CD8,true)
else
call C98(B_8,CD8)
endif
endif
call RemoveLocation(CD8)
set B_8=null
set LH8=null
set CD8=null
endfunction
function I49 takes nothing returns nothing
local unit FJ8=M7[GetPlayerId(GetTriggerPlayer())]
local player I79
local unit I89
local real x=GetRectCenterX(QD)
local real y=GetRectCenterX(QD)
if AH7(GetOwningPlayer(FJ8))then
set I79=Z7[1]
else
set I79=A7[1]
endif
set I89=CreateUnit(I79,1211117616,x,y,0)
call SetHeroLevel(I89,10,false)
set FJ8=null
set I89=null
set I79=null
endfunction
function I99 takes nothing returns nothing
call TriggerEvaluate(H04)
endfunction
function ID9 takes nothing returns nothing
call TriggerEvaluate(MS)
endfunction
function IE9 takes nothing returns nothing
call G89()
endfunction
function IF9 takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local integer UP
local integer O5
local player pl
local group g
set EZ7="IF9"
if(VH=="-testhelp")then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Commands (XX = 2-digit Player Number, ##### = Amount): -gold #####, -goldall #####, -goldforXX #####, -lvlup ##, -lvlupall ##, -lvlupforXX, -spawncreeps, -powerup, -neutrals, -refresh, -refreshall, -kill, -kill XX, -killsent, -killscourge, -killall, -rechoose, -fog, -time ##, -noherolimit, -trees, -killwards, -spawnoff, -spawnon")
elseif(VH=="-rechoose")then
if((not A8)and(not D4)and(not RZ4)and(not O04)and(not W8)and(not O9)and(not H34))then
set G9=true
set I[GetPlayerId(GetTriggerPlayer())]=false
set T9=false
set F9=true
set W4[GetPlayerId(GetTriggerPlayer())]=false
set oo[GetPlayerId(GetTriggerPlayer())]=false
set P9[GetPlayerId(GetTriggerPlayer())]=false
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Some restrictions in repicking/randoming are removed. You may now use -repick/-random")
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Cannot enable repicking/randoming.")
endif
elseif(SubString(VH,0,9)=="-goldall ")then
set UP=S2I(SubString(VH,9,StringLength(VH)))
set O5=1
loop
call SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+UP)
set O5=O5+1
exitwhen O5>11
endloop
elseif(SubString(VH,0,8)=="-goldfor")then
set pl=RZ7(S2I(SubString(VH,8,StringLength(VH))))
if((pl!=null)and(AM7(pl)))then
set UP=S2I(SubString(VH,10,StringLength(VH)))
call SetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+UP)
endif
elseif(SubString(VH,0,9)=="-lvlupall")then
set O5=S2I(SubString(GetEventPlayerChatString(),9,StringLength(GetEventPlayerChatString())))
if O5<1 then
set O5=1
endif
set IH4=O5
set g=LD7()
call GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,Condition(function HB9))
call L97(g)
elseif(SubString(VH,0,9)=="-lvlupfor")then
set pl=RZ7(S2I(SubString(VH,9,StringLength(VH))))
if((pl!=null)and(AM7(pl)))then
call SetHeroLevel(M7[GetPlayerId(pl)],GetHeroLevel(M7[GetPlayerId(pl)])+1,true)
endif
elseif(VH=="-refreshall")then
set g=LD7()
call GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,Condition(function H19))
call L97(g)
elseif(SubString(VH,0,6)=="-kill ")then
set pl=RZ7(S2I(SubString(VH,6,StringLength(VH))))
if((pl!=null)and(AM7(pl)))then
call KillUnit(M7[GetPlayerId(pl)])
endif
elseif(VH=="-fog")then
call FogEnable(not IsFogEnabled())
call FogMaskEnable(not IsFogMaskEnabled())
endif
set g=null
set pl=null
endfunction
function IG9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer O5=1
set EZ7="IG9"
loop
if(AJ7(Player(O5)))then
call TriggerRegisterPlayerChatEvent(t,Player(O5),"-",false)
endif
set O5=O5+1
exitwhen O5>11
endloop
call TriggerAddAction(t,function IF9)
set t=null
endfunction
function IH9 takes nothing returns boolean
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"**** REMINDER ****")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"Single player commands enabled. You may use commands like -lvlup xx, -refresh, -spawncreeps, -powerup, -neutrals, -kill, -gold xxxx, -time xx, -killsent, -killscourge, -killall, -noherolimit, -trees, -killwards, -spawnoff, -spawnon, -roshan, -respawn, -dummy")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"**** REMINDER ****")
return false
endfunction
function II9 takes nothing returns nothing
local player OnlyPlayer=Le
local trigger t
set EZ7="II9"
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"Single player commands enabled. You may use commands like -lvlup xx, -refresh, -spawncreeps, -powerup, -neutrals, -kill, -gold xxxx, -time xx, -killsent, -killscourge, -killall, -noherolimit, -trees, -killwards, -spawnoff, -spawnon, -roshan, -respawn, -dummy")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.,"For more info about the commands, type -testhelp.
    
    ")
set t=CreateTrigger()
call TriggerAddCondition(t,Condition(function IH9))
call TriggerRegisterTimerEvent(t,GetRandomReal(60,100),false)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-lvlup",false)
call TriggerAddAction(t,function HC9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-spawncreeps",true)
call TriggerAddAction(t,function HL9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-refresh",true)
call TriggerAddAction(t,function H09)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-kill",true)
call TriggerAddAction(t,function H59)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-gold",false)
call TriggerAddAction(t,function H29)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-time",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-time",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-time",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-time",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-time",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-time",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-time",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-time",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-time",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-time",false)
call TriggerAddAction(t,function HY9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-powerup",false)
call TriggerAddAction(t,function I99)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-killall",true)
call TriggerAddAction(t,function HX9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-killsent",true)
call TriggerAddAction(t,function HS9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-killscourge",true)
call TriggerAddAction(t,function HR9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-neutrals",false)
call TriggerAddAction(t,function ID9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-noherolimit",true)
call TriggerAddAction(t,function HP9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-trees",true)
call TriggerAddAction(t,function IE9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-killwards",true)
call TriggerAddAction(t,function HU9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-spawnoff",true)
call TriggerAddAction(t,function HW9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-spawnon",true)
call TriggerAddAction(t,function HV9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-roshan",true)
call TriggerAddAction(t,function HO9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-respawn",true)
call TriggerAddAction(t,function H_9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-dummy",true)
call TriggerAddAction(t,function I49)
call IG9()
set uy=true
set t=null
endfunction
function WM8 takes nothing returns nothing
call TimerStart(CreateTimer(),5,not uy,function WM8)
endfunction
function IJ9 takes nothing returns boolean
return not P
endfunction
function nt takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit nT=T37(US7,"Unit")
local integer O5=GetPlayerId(GetOwningPlayer(nT))
set EZ7="nt"
set hq[O5]=0.
set hq[16+O5]=0.
set hq[32+O5]=0.
set TC4[O5]=0.
set TC4[16+O5]=0.
set TC4[32+O5]=0.
set TC4[48+O5]=0.
if GetUnitTypeId(nT)!=1852010352 then
call UnitResetCooldown(nT)
call SetUnitManaPercentBJ(nT,100)
endif
call T97(US7)
call UQ7(t)
set t=null
set nT=null
return false
endfunction
function nu takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="nu"
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function nt))
call TJ7(US7,"Unit",GetTriggerUnit())
set t=null
endfunction
function IK9 takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer nv=P8(X7)+P8(Y7)
local integer NumRequired=DL8(nv,nv/2+1)
local integer US7=GetHandleId(t)
local integer nV=U97(US7,"ExecCount")
set EZ7="IK9"
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.," ")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90.,"WTF mode activated. In this mode spells have no cooldown or manacost.")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90.,"This is a FOR FUN ONLY mode.")
set PT4=true
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(t,function nu)
set t=null
endfunction
function IM9 takes nothing returns boolean
if WZ8(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false then
call IN8(GetOwningPlayer(GetTriggerUnit()))
call I38("Level"+I2S(GetHeroLevel(GetTriggerUnit())),GetPlayerId(GetOwningPlayer(GetTriggerUnit())))
endif
return false
endfunction
function nw takes nothing returns nothing
call II9()
call UQ7(GetTriggeringTrigger())
endfunction
function IN9 takes nothing returns boolean
if P==false and Ve()==false then
call nw()
endif
return false
endfunction
function IO9 takes nothing returns boolean
return GetOwningPlayer(GetTriggerUnit())==B7
endfunction
function IP9 takes nothing returns nothing
call SaveInteger(L7,StringHash("Stats"+I2S(GetPlayerId(GetOwningPlayer(GetKillingUnit())))),StringHash("NumOfNeutrals"),((LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId(GetOwningPlayer(GetKillingUnit())))),StringHash("NumOfNeutrals")))+1))
endfunction
function IQ9 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",Z)
elseif GetOwningPlayer(GetTriggerUnit())==A7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",vv)
endif
return false
endfunction
function IR9 takes nothing returns nothing
set E7=E7+1
endfunction
function IS9 takes nothing returns nothing
set D7=D7+1
endfunction
function IT9 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",ev)
endif
return false
endfunction
function IU9 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==A7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",ev)
endif
return false
endfunction
function IV9 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",ov)
endif
return false
endfunction
function IW9 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==A7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",ov)
endif
return false
endfunction
function IX9 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",rv)
endif
return false
endfunction
function IY9 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==A7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",rv)
endif
return false
endfunction
function IZ9 takes nothing returns nothing
local integer i=1
local integer id
set EZ7="IZ9"
loop
exitwhen i>5
set id=GetPlayerId(Z7[i])
call I38("CSK"+I2S(id),T7[id])
call I38("CSD"+I2S(id),U7[id])
set id=GetPlayerId(A7[i])
call I38("CSK"+I2S(id),T7[id])
call I38("CSD"+I2S(id),U7[id])
set i=i+1
endloop
endfunction
function IA9 takes boolean FA9 returns nothing
local unit u
local string IB9="stand work alternate"
local string IC9="stand work"
local string I39="stand alternate"
local string I69="stand"
set EZ7="Igv"
set u=JS4
if L17(u)==false then
if FA9 then
call SetUnitAnimation(u,IB9)
else
call SetUnitAnimation(u,I39)
endif
endif
set u=JT4
if L17(u)==false then
if FA9 then
call SetUnitAnimation(u,IB9)
else
call SetUnitAnimation(u,I39)
endif
endif
set u=JU4
if L17(u)==false then
if FA9 then
call SetUnitAnimation(u,IB9)
else
call SetUnitAnimation(u,I39)
endif
endif
set u=JV4
if L17(u)==false then
if FA9 then
call SetUnitAnimation(u,IB9)
else
call SetUnitAnimation(u,I39)
endif
endif
set u=JW4
if L17(u)==false then
if FA9 then
call SetUnitAnimation(u,IB9)
else
call SetUnitAnimation(u,I39)
endif
endif
set u=JX4
if L17(u)==false then
if FA9 then
call SetUnitAnimation(u,IB9)
else
call SetUnitAnimation(u,I39)
endif
endif
set u=KD4
if L17(u)==false then
if FA9 then
call SetUnitAnimation(u,IC9)
else
call SetUnitAnimation(u,I69)
endif
endif
set u=KE4
if L17(u)==false then
if FA9 then
call SetUnitAnimation(u,IC9)
else
call SetUnitAnimation(u,I69)
endif
endif
set u=KF4
if L17(u)==false then
if FA9 then
call SetUnitAnimation(u,IC9)
else
call SetUnitAnimation(u,I69)
endif
endif
set u=KG4
if L17(u)==false then
if FA9 then
call SetUnitAnimation(u,IC9)
else
call SetUnitAnimation(u,I69)
endif
endif
set u=KH4
if L17(u)==false then
if FA9 then
call SetUnitAnimation(u,IC9)
else
call SetUnitAnimation(u,I69)
endif
endif
set u=KI4
if L17(u)==false then
if FA9 then
call SetUnitAnimation(u,IC9)
else
call SetUnitAnimation(u,I69)
endif
endif
set u=null
endfunction
function IL9 takes nothing returns boolean
call IA9(true)
return false
endfunction
function Trig_Spawn_Conditions takes nothing returns boolean
if(P74)then
return F0
elseif(P84)then
return gH
elseif O04 then
return Fz
elseif(P4 or VT)then
return oH
endif
return O
endfunction
function I19 takes group I09,integer I59 returns nothing
local unit u
set EZ7="Ikv"
loop
set u=FirstOfGroup(I09)
exitwhen(u==null)
call GroupRemoveUnit(I09,u)
call SetUnitAbilityLevel(u,N8,I59)
endloop
endfunction
function I29 takes nothing returns nothing
local boolean I_9=ModuloInteger(GetTriggerExecCount(JS),7)==0
set EZ7="I29"
if B4 then
return
endif
call IA9(false)
if I_9 then
call IZ9()
endif
if GetTriggerExecCount(JS)==1 and PE4==false then
call UnitResetCooldown(KU4[1])
call UnitResetCooldown(KU4[2])
call UnitResetCooldown(KU4[3])
call UnitResetCooldown(KU4[4])
call UnitResetCooldown(KU4[5])
call UnitResetCooldown(KU4[7])
call UnitResetCooldown(KU4[8])
call UnitResetCooldown(KU4[9])
call UnitResetCooldown(KU4[10])
call UnitResetCooldown(KU4[11])
call EN9(JG4,false)
call EN9(JH4,false)
call EN9(JI4,false)
call EN9(J64,false)
call EN9(JL4,false)
call EN9(J14,false)
elseif GetTriggerExecCount(JS)==1 and PE4 then
call EN9(JH4,false)
call EN9(JL4,false)
endif
if GetTriggerExecCount(JS)==1 then
call EnableTrigger(M54)
endif
if PE4==false and PH4==false then
if(Rv)then
call CreateNUnitsAtLoc(D7,1969711215,A7[0],lv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1966092337,A7[0],lv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Av)then
call CreateNUnitsAtLoc(D7,1969711215,A7[0],Jv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1966092337,A7[0],Jv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(Nv)then
call CreateNUnitsAtLoc(D7,1969711215,A7[0],Lv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1966092337,A7[0],Lv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,4)
endif
if PE4==false and PH4==false then
if(av)then
call CreateNUnitsAtLoc(E7,1970169187,A7[0],qv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092338,A7[0],qv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Ev)then
call CreateNUnitsAtLoc(E7,1970169187,A7[0],mv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092338,A7[0],mv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(Ov)then
call CreateNUnitsAtLoc(E7,1970169187,A7[0],pv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092338,A7[0],pv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,4)
endif
if I_9 then
if PE4==false and PH4==false then
if(av)then
call CreateNUnitsAtLoc(E7,1970107511,A7[0],qv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092370,A7[0],qv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Ev)then
call CreateNUnitsAtLoc(E7,1970107511,A7[0],mv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092370,A7[0],mv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(Ov)then
call CreateNUnitsAtLoc(E7,1970107511,A7[0],pv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092370,A7[0],pv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,4)
endif
endif
if PE4==false and PH4==false then
if(Cv)then
call CreateNUnitsAtLoc(D7,1702061422,Z7[0],tv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1697656918,Z7[0],tv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Dv)then
call CreateNUnitsAtLoc(D7,1702061422,Z7[0],Qv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1697656918,Z7[0],Qv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(fv)then
call CreateNUnitsAtLoc(D7,1702061422,Z7[0],sv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1697656918,Z7[0],sv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,4)
endif
if PE4==false and PH4==false then
if(bv)then
call CreateNUnitsAtLoc(E7,1701081721,Z7[0],Wv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697656919,Z7[0],Wv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Bv)then
call CreateNUnitsAtLoc(E7,1701081721,Z7[0],Tv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697656919,Z7[0],Tv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(cv)then
call CreateNUnitsAtLoc(E7,1701081721,Z7[0],Uv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697656919,Z7[0],Uv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,4)
endif
if I_9 then
if PE4==false and PH4==false then
if(cv)then
call CreateNUnitsAtLoc(E7,1700946284,Z7[0],Wv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697657398,Z7[0],Wv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Bv)then
call CreateNUnitsAtLoc(E7,1700946284,Z7[0],Tv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697657398,Z7[0],Tv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(cv)then
call CreateNUnitsAtLoc(E7,1700946284,Z7[0],Uv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697657398,Z7[0],Uv,bj_UNIT_FACING)
endif
call I19(bj_lastCreatedGroup,4)
endif
endif
endfunction
function J49 takes nothing returns nothing
set av=false
call DisableTrigger(cA)
call I38("Rax"+I2S(0)+I2S(0)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function J79 takes nothing returns nothing
set Ev=false
call DisableTrigger(CA)
call I38("Rax"+I2S(0)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function J89 takes nothing returns nothing
set Ov=false
call DisableTrigger(dA)
call I38("Rax"+I2S(0)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function J99 takes nothing returns nothing
set Rv=false
call DisableTrigger(DA)
call I38("Rax"+I2S(0)+I2S(0)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function JD9 takes nothing returns nothing
set Av=false
call DisableTrigger(fA)
call I38("Rax"+I2S(0)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function JE9 takes nothing returns nothing
set Nv=false
call DisableTrigger(FA)
call I38("Rax"+I2S(0)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function JF9 takes nothing returns nothing
set bv=false
call DisableTrigger(gA)
call I38("Rax"+I2S(1)+I2S(0)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function JG9 takes nothing returns nothing
set Bv=false
call DisableTrigger(GA)
call I38("Rax"+I2S(1)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function JH9 takes nothing returns nothing
set cv=false
call DisableTrigger(LA)
call I38("Rax"+I2S(1)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function JI9 takes nothing returns nothing
set Cv=false
call DisableTrigger(mA)
call I38("Rax"+I2S(1)+I2S(0)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function JJ9 takes nothing returns nothing
set Dv=false
call DisableTrigger(MA)
call I38("Rax"+I2S(1)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function JK9 takes nothing returns nothing
set fv=false
call DisableTrigger(PA)
call I38("Rax"+I2S(1)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function JM9 takes nothing returns boolean
local real JN9=GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/ GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)
set EZ7="JM9"
if JN9<0.75 and iW==false then
set iW=true
call I38("Tree",75)
endif
if JN9<0.50 and rW==false then
set rW=true
call I38("Tree",50)
endif
if JN9<0.25 and oW==false then
set oW=true
call I38("Tree",25)
endif
if JN9<0.10 and eW==false then
set eW=true
call I38("Tree",10)
endif
return false
endfunction
function JO9 takes nothing returns boolean
local real JN9=GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/ GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)
set EZ7="JO9"
if JN9<0.75 and vW==false then
set vW=true
call I38("Throne",75)
endif
if JN9<0.50 and zw==false then
set zw=true
call I38("Throne",50)
endif
if JN9<0.25 and Uw==false then
set Uw=true
call I38("Throne",25)
endif
if JN9<0.10 and tw==false then
set tw=true
call I38("Throne",10)
endif
return false
endfunction
function JP9 takes nothing returns boolean
if(Cv or Dv or fv or bv or Bv or cv)then
return false
endif
return true
endfunction
function JQ9 takes nothing returns nothing
call CG7(bj_FORCE_ALL_PLAYERS,20.00,(GetObjectName((1848652879)))+" "+(GetObjectName((1848656695))))
call SetPlayerTechResearchedSwap(1378889796,(GetPlayerTechCountSimple(1378889796,Z7[0])+30),Z7[0])
call SetPlayerTechResearchedSwap(1378889795,(GetPlayerTechCountSimple(1378889795,Z7[0])+30),Z7[0])
call DisableTrigger(SA)
endfunction
function JR9 takes nothing returns boolean
if(Rv or Av or Nv or av or Ev or Ov)then
return false
endif
return true
endfunction
function JS9 takes nothing returns nothing
call CG7(bj_FORCE_ALL_PLAYERS,20.00,(GetObjectName((1848652888)))+" "+(GetObjectName((1848656697))))
call SetPlayerTechResearchedSwap(1378889785,(GetPlayerTechCountSimple(1378889785,A7[0])+30),A7[0])
call SetPlayerTechResearchedSwap(1378889794,(GetPlayerTechCountSimple(1378889794,A7[0])+30),A7[0])
call DisableTrigger(TA)
endfunction
function JT9 takes nothing returns nothing
call SetPlayerTechResearchedSwap(1378889783,(GetPlayerTechCountSimple(1378889783,Z7[0])+1),Z7[0])
call SetPlayerTechResearchedSwap(1378889795,(GetPlayerTechCountSimple(1378889795,Z7[0])+1),Z7[0])
call SetPlayerTechResearchedSwap(1378889784,(GetPlayerTechCountSimple(1378889784,Z7[0])+1),Z7[0])
call SetPlayerTechResearchedSwap(1378889796,(GetPlayerTechCountSimple(1378889796,Z7[0])+1),Z7[0])
call SetPlayerTechResearchedSwap(1378889785,(GetPlayerTechCountSimple(1378889785,A7[0])+1),A7[0])
call SetPlayerTechResearchedSwap(1378889779,(GetPlayerTechCountSimple(1378889779,A7[0])+1),A7[0])
call SetPlayerTechResearchedSwap(1378889793,(GetPlayerTechCountSimple(1378889793,A7[0])+1),A7[0])
call SetPlayerTechResearchedSwap(1378889794,(GetPlayerTechCountSimple(1378889794,A7[0])+1),A7[0])
endfunction
function JU9 takes nothing returns nothing
local location JV9=GetRectCenter(QD)
set EZ7="JU9"
call RemoveUnit(CreateUnitAtLoc(B7,1851941999,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1851942003,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852273524,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1848652342,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852270450,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1851941995,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1851946861,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852794733,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852796263,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852207203,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852207221,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1853060200,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1853060204,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1853055348,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1853320295,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852534636,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852534626,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852534644,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852010091,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852007790,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852272243,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852208226,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852207976,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852270641,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852860012,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852798821,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852798818,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852666477,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852666482,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852666476,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852077170,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852077175,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1848659011,JV9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1848659012,JV9,bj_UNIT_FACING))
call RemoveLocation(JV9)
set JV9=null
endfunction
function JW9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1848658007,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848658008,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848658007,x,y,0),x,y)
endfunction
function JX9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852466993,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852466993,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852467041,x,y,0),x,y)
endfunction
function JY9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1851941999,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1851941999,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1851942003,x,y,0),x,y)
endfunction
function JZ9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1851941995,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1851941995,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1851946861,x,y,0),x,y)
endfunction
function JA9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852273524,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852273524,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852270450,x,y,0),x,y)
endfunction
function AncientLizards_AI takes nothing returns boolean
call UQ7(GetTriggeringTrigger())
call IssueTargetOrder(GetTriggerUnit(),"unholyfrenzy",GetTriggerUnit())
return false
endfunction
function JB9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1848659011,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848659012,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848659012,x,y,0),x,y)
endfunction
function JC9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852794733,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852794733,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852796263,x,y,0),x,y)
endfunction
function J39 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852207203,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852207221,x,y,0),x,y)
endfunction
function J69 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1853060200,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853060204,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853055348,x,y,0),x,y)
endfunction
function JL9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1853060204,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853060204,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853055348,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853055348,x,y,0),x,y)
endfunction
function J19 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1853320295,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853320295,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848651859,x,y,0),x,y)
endfunction
function J09 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1848652342,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848652342,x,y,0),x,y)
endfunction
function J59 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852534636,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852534626,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852534626,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852534626,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852534644,x,y,0),x,y)
endfunction
function J29 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852208226,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852208226,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852207976,x,y,0),x,y)
endfunction
function J_9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852007790,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852010091,x,y,0),x,y)
endfunction
function K49 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852272243,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852272243,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852272243,x,y,0),x,y)
endfunction
function K79 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852208226,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852208226,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852534636,x,y,0),x,y)
endfunction
function K89 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852270641,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852860012,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852860012,x,y,0),x,y)
endfunction
function K99 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852798821,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852798818,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852798818,x,y,0),x,y)
endfunction
function KD9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852077170,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852077170,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852077175,x,y,0),x,y)
endfunction
function KE9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
set EZ7="ARv"
if D5==1 then
call J39(x,y)
elseif D5==2 then
call J69(x,y)
elseif D5==3 then
call K99(x,y)
elseif D5==4 then
call KD9(x,y)
elseif D5==5 then
call J_9(x,y)
endif
endfunction
function KF9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
set EZ7="AIv"
if D5==1 then
call J39(x,y)
elseif D5==2 then
call J69(x,y)
elseif D5==3 then
call K99(x,y)
elseif D5==4 then
call KD9(x,y)
elseif D5==5 then
call J_9(x,y)
endif
endfunction
function KG9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
set EZ7="AAv"
if D5==1 then
call J39(x,y)
elseif D5==2 then
call J69(x,y)
elseif D5==3 then
call K99(x,y)
elseif D5==4 then
call KD9(x,y)
elseif D5==5 then
call J_9(x,y)
endif
endfunction
function KH9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
set EZ7="ANv"
if D5==1 then
call J39(x,y)
elseif D5==2 then
call J69(x,y)
elseif D5==3 then
call K99(x,y)
elseif D5==4 then
call KD9(x,y)
elseif D5==5 then
call J_9(x,y)
endif
endfunction
function KI9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
set EZ7="Abv"
if D5==1 then
call J09(x,y)
elseif D5==2 then
call JC9(x,y)
elseif D5==3 then
call JL9(x,y)
elseif D5==4 then
call J19(x,y)
elseif D5==5 then
call J_9(x,y)
endif
endfunction
function KJ9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
set EZ7="ABv"
if D5==1 then
call J09(x,y)
elseif D5==2 then
call JC9(x,y)
elseif D5==3 then
call JL9(x,y)
elseif D5==4 then
call J19(x,y)
elseif D5==5 then
call J_9(x,y)
endif
endfunction
function KK9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
set EZ7="Acv"
if D5==1 then
call J09(x,y)
elseif D5==2 then
call JC9(x,y)
elseif D5==3 then
call JL9(x,y)
elseif D5==4 then
call J19(x,y)
elseif D5==5 then
call J_9(x,y)
endif
endfunction
function KM9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
set EZ7="ACv"
if D5==1 then
call J09(x,y)
elseif D5==2 then
call JC9(x,y)
elseif D5==3 then
call JL9(x,y)
elseif D5==4 then
call J19(x,y)
elseif D5==5 then
call J_9(x,y)
endif
endfunction
function KN9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,6)
set EZ7="Adv"
if D5==1 then
call K89(x,y)
elseif D5==2 then
call K79(x,y)
elseif D5==3 then
call K49(x,y)
elseif D5==4 then
call J59(x,y)
elseif D5==5 then
call J29(x,y)
elseif D5==6 then
call JW9(x,y)
endif
endfunction
function KO9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,6)
set EZ7="ADv"
if D5==1 then
call K89(x,y)
elseif D5==2 then
call K79(x,y)
elseif D5==3 then
call K49(x,y)
elseif D5==4 then
call J59(x,y)
elseif D5==5 then
call J29(x,y)
elseif D5==6 then
call JW9(x,y)
endif
endfunction
function KP9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
set EZ7="Afv"
if D5==1 then
call JX9(x,y)
elseif D5==2 then
call JY9(x,y)
elseif D5==3 then
call JZ9(x,y)
elseif D5==4 then
call JA9(x,y)
elseif D5==5 then
call JB9(x,y)
endif
endfunction
function KQ9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
set EZ7="AFv"
if D5==1 then
call JX9(x,y)
elseif D5==2 then
call JY9(x,y)
elseif D5==3 then
call JZ9(x,y)
elseif D5==4 then
call JA9(x,y)
elseif D5==5 then
call JB9(x,y)
endif
endfunction
function KR9 takes nothing returns nothing
if GetUnitAbilityLevel(GetEnumUnit(),1093685300)!=0 then
call GroupRemoveUnit(R8,GetEnumUnit())
endif
if GetUnitTypeId(GetEnumUnit())==1865429043 then
call GroupRemoveUnit(R8,GetEnumUnit())
endif
if L17(GetEnumUnit())==true then
call GroupRemoveUnit(R8,GetEnumUnit())
endif
endfunction
function KS9 takes group g returns boolean
set R8=g
call ForGroup(g,function KR9)
return FirstOfGroup(g)==null
endfunction
function KT9 takes nothing returns boolean
local group g
local rect r1
local rect r2
set EZ7="KT9"
if oy==false then
return false
endif
set r1=Sr
set r2=Br
set g=LD7()
call GroupEnumUnitsInRect(g,r1,Condition(function A47))
if KS9(g)then
call KP9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call L97(g)
set r1=Ur
set r2=cr
set g=LD7()
call GroupEnumUnitsInRect(g,r1,Condition(function A47))
if KS9(g)then
call KQ9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call L97(g)
set r1=Wr
set r2=Cr
set g=LD7()
call GroupEnumUnitsInRect(g,r1,Condition(function A47))
if KS9(g)then
call KE9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call L97(g)
set r1=zr
set r2=fr
set g=LD7()
call GroupEnumUnitsInRect(g,r1,Condition(function A47))
if KS9(g)then
call KG9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call L97(g)
set r1=Zr
set r2=Fr
set g=LD7()
call GroupEnumUnitsInRect(g,r1,Condition(function A47))
if KS9(g)then
call KJ9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call L97(g)
set r1=vi
set r2=Hr
set g=LD7()
call GroupEnumUnitsInRect(g,r1,Condition(function A47))
if KS9(g)then
call KI9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call L97(g)
set r1=ei
set r2=jr
set g=LD7()
call GroupEnumUnitsInRect(g,r1,Condition(function A47))
if KS9(g)then
call KK9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call L97(g)
set r1=oi
set r2=Jr
set g=LD7()
call GroupEnumUnitsInRect(g,r1,Condition(function A47))
if KS9(g)then
call KM9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call L97(g)
set r1=xi
set r2=lr
set g=LD7()
call GroupEnumUnitsInRect(g,r1,Condition(function A47))
if KS9(g)then
call KH9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call L97(g)
set r1=ai
set r2=mr
set g=LD7()
call GroupEnumUnitsInRect(g,r1,Condition(function A47))
if KS9(g)then
call KN9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call L97(g)
set r1=Ai
set r2=Ni
set g=LD7()
call GroupEnumUnitsInRect(g,r1,Condition(function A47))
if KS9(g)then
call KO9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call L97(g)
set r1=bi
set r2=Bi
set g=LD7()
call GroupEnumUnitsInRect(g,r1,Condition(function A47))
if KS9(g)then
call KF9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call L97(g)
set r1=null
set r2=null
set g=null
return false
endfunction
function KU9 takes nothing returns nothing
local integer BN7=GetRandomInt(1,9)
local location l
set EZ7="KU9"
if PE4 then
set BN7=GetRandomInt(1,3)
if BN7==1 then
set BN7=2
endif
if BN7==2 then
set BN7=5
endif
if BN7==3 then
set BN7=8
endif
endif
if(BN7==1)then
set l=GetRectCenter(BE)
call CreateNUnitsAtLoc(1,1848651827,Z7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653105))))
call I19(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(BN7==2)then
set l=GetRectCenter(bE)
call CreateNUnitsAtLoc(1,1848651827,Z7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653106))))
call I19(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(BN7==3)then
set l=GetRectCenter(AE)
call CreateNUnitsAtLoc(1,1848651827,Z7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653107))))
call I19(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
if(BN7==4)then
set l=GetRectCenter(BE)
call CreateNUnitsAtLoc(1,1848651845,Z7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653112))))
call I19(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(BN7==5)then
set l=GetRectCenter(bE)
call CreateNUnitsAtLoc(1,1848651845,Z7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848652890))))
call I19(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(BN7==6)then
set l=GetRectCenter(AE)
call CreateNUnitsAtLoc(1,1848651845,Z7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653111))))
call I19(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
if(BN7==7)and PE4==false then
set l=GetRectCenter(BE)
call CreateNUnitsAtLoc(1,1848651844,Z7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653110))))
call I19(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(BN7==8)and PE4==false then
set l=GetRectCenter(bE)
call CreateNUnitsAtLoc(1,1848651844,Z7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848652884))))
call I19(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(BN7==9)then
set l=GetRectCenter(AE)
call CreateNUnitsAtLoc(1,1848651844,Z7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653123))))
call I19(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
if(BN7==1)then
set l=GetRectCenter(OE)
call CreateNUnitsAtLoc(1,1848651827,A7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656708))))
call I19(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(BN7==2)then
set l=GetRectCenter(XE)
call CreateNUnitsAtLoc(1,1848651827,A7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656709))))
call I19(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(BN7==3)then
set l=GetRectCenter(IE)
call CreateNUnitsAtLoc(1,1848651827,A7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656707))))
call I19(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
if(BN7==4)then
set l=GetRectCenter(OE)
call CreateNUnitsAtLoc(1,1848651845,A7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656711))))
call I19(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(BN7==5)then
set l=GetRectCenter(XE)
call CreateNUnitsAtLoc(1,1848651845,A7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656712))))
call I19(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(BN7==6)then
set l=GetRectCenter(IE)
call CreateNUnitsAtLoc(1,1848651845,A7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656710))))
call I19(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
if(BN7==7)then
set l=GetRectCenter(OE)
call CreateNUnitsAtLoc(1,1848651844,A7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656714))))
call I19(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(BN7==8)then
set l=GetRectCenter(XE)
call CreateNUnitsAtLoc(1,1848651844,A7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656715))))
call I19(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(BN7==9)then
set l=GetRectCenter(IE)
call CreateNUnitsAtLoc(1,1848651844,A7[0],l,bj_UNIT_FACING)
call CG7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656713))))
call I19(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
set l=null
endfunction
function N9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
set EZ7="N9"
if L17(C17)==false and C17!=null then
call SetUnitScale(C17,DJ8(C17)*CS,DJ8(C17)*CS,DJ8(C17)*CS)
endif
call T97(US7)
call UQ7(t)
set t=null
set C17=null
return false
endfunction
function FE9 takes nothing returns nothing
local integer x=1
local player p
set EZ7="FE9"
loop
exitwhen x>16
if SK7(M7[x],ZU[DI4])!=null then
call RemoveUnit(OA4[GetPlayerId(GetOwningPlayer(M7[x]))])
endif
set x=x+1
endloop
endfunction
function KV9 takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and JV8(GetUnitTypeId(GetFilterUnit()))==false and SK7(GetTriggerUnit(),ZU[DI4])!=null
endfunction
function KW9 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)!=1 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1
endfunction
function KX9 takes nothing returns nothing
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+F8)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BloodstoneHealTarget.mdx",GetEnumUnit(),"origin"))
endfunction
function KY9 takes nothing returns nothing
local group g=LD7()
set EZ7="KY9"
call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1700,Condition(function KW9))
set F8=400+30*GetItemCharges(SK7(GetTriggerUnit(),ZU[DI4]))
call ForGroup(g,function KX9)
call L97(g)
set g=null
endfunction
function KZ9 takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit HV8=CreateUnit(GetOwningPlayer(C17),1211117645,GetUnitX(C17),GetUnitY(C17),GetUnitFacing(C17))
set EZ7="KZ9"
set OA4[GetPlayerId(GetOwningPlayer(C17))]=HV8
call KY9()
set HV8=null
set C17=null
endfunction
function KA9 takes unit u returns nothing
local integer KB9=GetItemCharges(SK7(u,ZU[DI4]))
set EZ7="Bloodstone_Act"
if KB9>0 then
call SetUnitState(u,UNIT_STATE_MANA,GetUnitState(u,UNIT_STATE_MANA)+KB9)
endif
endfunction
function KC9 takes nothing returns boolean
local integer i=1
local unit C17
local integer id
set EZ7="KC9"
if HG4>0 then
loop
exitwhen i>5
set id=GetPlayerId(Z7[i])
set C17=M7[id]
if RN4[id]>0 and C17!=null and GetUnitTypeId(C17)>1 and IsUnitType(C17,UNIT_TYPE_DEAD)==false then
call KA9(C17)
endif
set id=GetPlayerId(A7[i])
set C17=M7[id]
if RN4[id]>0 and C17!=null and GetUnitTypeId(C17)>1 and IsUnitType(C17,UNIT_TYPE_DEAD)==false then
call KA9(C17)
endif
set i=i+1
endloop
endif
set C17=null
return false
endfunction
function oK takes nothing returns nothing
set gg[0]=CreateTimer()
set gg[1]=CreateTimer()
set gg[2]=CreateTimer()
set gg[3]=CreateTimer()
set gg[4]=CreateTimer()
set gg[5]=CreateTimer()
set gg[6]=CreateTimer()
set gg[7]=CreateTimer()
set gg[8]=CreateTimer()
set gg[9]=CreateTimer()
set gg[10]=CreateTimer()
set gg[11]=CreateTimer()
set gg[12]=CreateTimer()
set gg[13]=CreateTimer()
set gg[14]=CreateTimer()
set gg[15]=CreateTimer()
endfunction
function K39 takes unit u,real d returns boolean
if IsUnitType(u,UNIT_TYPE_HERO)or GetUnitAbilityLevel(u,1093678162)>0 then
return d>5
endif
return true
endfunction
function K69 takes unit u returns unit
local group g
set EZ7="FindViableDamageSource"
if GetUnitAbilityLevel(u,1093678162)==0 then
return u
endif
set IN4=WH4
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),900,Condition(function G78))
set WG4=FirstOfGroup(g)
call L97(g)
return WG4
endfunction
function KL9 takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit HV8
local unit p5
set EZ7="KL9"
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call DestroyEffect(T27(US7,"FX"))
call T97(US7)
call UQ7(t)
else
set p5=T37(US7,"Source")
set HV8=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call UnitAddAbility(HV8,1093684022)
set WH4=p5
if IssueTargetOrder(HV8,"forkedlightning",K69(GetEventDamageSource()))then
call UU7(GetTriggerUnit(),"K19",1)
endif
endif
set t=null
set HV8=null
set p5=null
endfunction
function K09 takes nothing returns boolean
if(GetTriggerEventId()==EVENT_UNIT_DAMAGED and K39(GetEventDamageSource(),GetEventDamage())and GetRandomInt(1,100)<21 and UJ7(GetTriggerUnit(),"K19")==false)or GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call KL9()
endif
return false
endfunction
function K19 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="K19"
if m5==null then
set m5=p5
endif
call UU7(m5,"StaticChargeActive",20)
call TriggerRegisterTimerEvent(t,20.,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function K09))
call TK7(US7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl",m5,"origin"))
call TJ7(US7,"Source",p5)
set t=null
set p5=null
set m5=null
endfunction
function K59 takes nothing returns nothing
if GetSpellAbilityId()==1093683788 and(U97(GetHandleId(GetSpellTargetUnit()),"StaticChargeActive")==1)==false then
call K19()
endif
endfunction
function K29 takes integer i returns boolean
return i==1227894838 or i==1227894840 or i==1227894858 or i==1227894859 or i==1227894839
endfunction
function K_9 takes nothing returns boolean
if GetIssuedOrderId()==851971 then
if GetOrderTargetItem()!=null and K29(GetItemTypeId(GetOrderTargetItem()))then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659029))
endif
endif
return false
endfunction
function M49 takes unit M79 returns nothing
local trigger t=CreateTrigger()
set EZ7="RegisterFlyingCourier"
call TriggerRegisterUnitEvent(t,M79,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddCondition(t,Condition(function K_9))
set t=null
endfunction
function M89 takes player p returns integer
local integer r=GetRandomInt(1,6)
set EZ7="SummonCourier_GetCourier"
if AG7(p)then
if r==1 then
return VT4
elseif r==2 then
return VU4
elseif r==3 then
return VV4
elseif r==4 then
return VW4
elseif r==5 then
return VX4
else
return VY4
endif
else
if r==1 then
return VA4
elseif r==2 then
return VB4
elseif r==3 then
return VC4
elseif r==4 then
return V34
elseif r==5 then
return V64
else
return VL4
endif
endif
return 0
endfunction
function M99 takes player p returns integer
if GetRandomInt(1,3)==1 then
return W44
elseif AG7(p)then
return VS4
else
return VZ4
endif
return 0
endfunction
function MD9 takes nothing returns nothing
local unit ME9=CreateUnit(GetOwningPlayer(GetTriggerUnit()),M89(GetOwningPlayer(GetTriggerUnit())),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))
local real x=GetUnitX(GetTriggerUnit())
local real y=GetUnitY(GetTriggerUnit())
local real a=GetUnitFacing(GetTriggerUnit())
set EZ7="MD9"
call D_9(ME9)
call SetUnitPosition(ME9,x+25*Cos(a*bj_DEGTORAD),y+25*Sin(a*bj_DEGTORAD))
if OT[GetPlayerId(GetOwningPlayer(ME9))]==false then
call UnitRemoveType(ME9,UNIT_TYPE_PEON)
else
call UnitAddType(ME9,UNIT_TYPE_PEON)
endif
set ME9=null
endfunction
function MF9 takes unit D69 returns nothing
local integer i=0
local integer PP7=GetHandleId(D69)
local integer O5=U97(PP7,"aiCrow|CurrentOwner")
set EQ7=null
call DisableTrigger(H94)
loop
exitwhen i>5
set EQ7=UnitItemInSlot(D69,i)
if EQ7!=null then
call UnitAddItem(KU4[O5],EQ7)
endif
set i=i+1
endloop
call EnableTrigger(H94)
set K_7[224+O5]=false
call TF7(PP7,"aiCrow|CurrentOwner",U97(PP7,"aiCrow|TrueOwner"))
call TI7(PP7,"aiCrow|Active",false)
call TM7(PP7,"aiCrow|DeliverTrigger",null)
call TF7(PP7,"aiCrow|GoHomeWpt",0)
set hq[896+O5]=Bz+15
if(MW7)then
call SetUnitOwner(KU4[16+O5],Player(U97(PP7,"aiCrow|TrueOwner")),false)
endif
endfunction
function MG9 takes unit p5 returns nothing
local real x
local real y
set EZ7="DeliverItems_GoHome"
if AG7(GetOwningPlayer(p5))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
call IssuePointOrder(p5,"move",x,y)
call TI7(GetHandleId(p5),"aiCrow|Away",false)
endfunction
function MH9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local unit FJ8=(LoadUnitHandle(L7,GetHandleId(t),(2)))
local integer PP7=GetHandleId(FJ8)
local real x=0
local real y=0
local effect MI9=null
local integer i=0
local integer j=0
local integer O5=U97(PP7,"aiCrow|CurrentOwner")
if L17(FJ8)==false then
if(not UE7(PP7,"aiCrow|Alive"))then
call TI7(PP7,"aiCrow|Alive",true)
endif
if AH7(GetOwningPlayer(FJ8))then
set x=JY4
set y=JZ4
else
set x=IX4
set y=IY4
endif
if Q07(GetUnitX(FJ8),GetUnitY(FJ8),x,y)<825 then
if not MV7 then
call L67(FJ8,1098282348)
endif
set MI9=T27(PP7,"aiCrow|EffHealHP")
if GetUnitLifePercent(FJ8)<100 then
call SetWidgetLife(FJ8,GetWidgetLife(FJ8)+0.035*GetUnitState(FJ8,UNIT_STATE_MAX_LIFE))
if MI9==null then
set MI9=AddSpecialEffectTarget("Abilities\\Spells\\Other\\ANrm\\ANrmTarget.mdl",FJ8,"origin")
call TK7(PP7,"aiCrow|EffHealHP",MI9)
endif
elseif MI9!=null then
call DestroyEffect(MI9)
endif
if GetUnitState(FJ8,UNIT_STATE_MAX_MANA)>0 then
set MI9=T27(PP7,"aiCrow|EffHealMP")
if GetUnitManaPercent(FJ8)<100 then
call SetUnitState(FJ8,UNIT_STATE_MANA,GetUnitState(FJ8,UNIT_STATE_MANA)+0.035*GetUnitState(FJ8,UNIT_STATE_MAX_MANA))
if MI9==null then
set MI9=AddSpecialEffectTarget("Abilities\\Spells\\Other\\ANrl\\ANrlTarget.mdl",FJ8,"origin")
call TK7(PP7,"aiCrow|EffHealMP",MI9)
endif
elseif MI9!=null then
call DestroyEffect(MI9)
endif
endif
if UE7(PP7,"aiCrow|Active")then
if IG4[O5]or UE7(PP7,"aiCrow|Away")==false then
call MF9(FJ8)
if AH7(GetOwningPlayer(FJ8))then
call IssuePointOrderById(FJ8,851986,x+M67,y+M67)
else
call IssuePointOrderById(FJ8,851986,x-M67,y-M67)
endif
else
if GetUnitCurrentOrder(FJ8)!=851986 then
call IssueNeutralImmediateOrderById(Player(O5),FJ8,1747990581)
endif
endif
endif
else
if not MV7 then
call UnitRemoveAbility(FJ8,1098282348)
endif
set MI9=T27(PP7,"aiCrow|EffHealHP")
if MI9!=null then
call DestroyEffect(MI9)
call TK7(PP7,"aiCrow|EffHealHP",null)
endif
if GetUnitState(FJ8,UNIT_STATE_MAX_MANA)>0 then
set MI9=T27(PP7,"aiCrow|EffHealMP")
if MI9!=null then
call DestroyEffect(MI9)
call TK7(PP7,"aiCrow|EffHealMP",null)
endif
endif
if UE7(PP7,"aiCrow|Active")then
if UE7(PP7,"aiCrow|Away")then
if IG4[O5]then
call MG9(FJ8)
elseif GetUnitCurrentOrder(FJ8)!=851986 then
call IssueNeutralImmediateOrderById(Player(O5),FJ8,1747990581)
endif
else
set i=U97(PP7,"aiCrow|GoHomeWpt")
if i==0 then
set j=328
set EJ7=99999
set EK7=0
loop
exitwhen j>342
if AH7(GetOwningPlayer(FJ8))then
set EK7=Q17(h7[i],h7[100])+Q17(FJ8,h7[i])
else
set EK7=Q17(h7[i],h7[0])+Q17(FJ8,h7[i])
endif
if i==0 or EK7<EJ7 then
set i=j
set EJ7=EK7
endif
set j=j+1
endloop
call TF7(PP7,"aiCrow|GoHomeWpt",i)
call IssuePointOrderByIdLoc(FJ8,851986,SX7(h7[i]))
elseif i==999 then
if GetUnitCurrentOrder(FJ8)!=851986 then
call IssueImmediateOrderById(FJ8,852247)
endif
else
set IN4=FJ8
if Q17(FJ8,h7[i])<400 or(SE7(1000.,IN4,Condition(function HJ8))>0)then
call TF7(PP7,"aiCrow|GoHomeWpt",999)
call IssueImmediateOrderById(FJ8,852247)
elseif GetUnitCurrentOrder(FJ8)!=851986 then
call IssuePointOrderByIdLoc(FJ8,851986,SX7(h7[i]))
endif
endif
endif
endif
endif
else
if(UE7(PP7,"aiCrow|Alive"))then
call TI7(PP7,"aiCrow|Alive",false)
endif
endif
set t=null
set FJ8=null
set MI9=null
return false
endfunction
function MJ9 takes nothing returns nothing
local integer O5=0
local integer MK9=0
local integer MM9=0
set O5=1
loop
exitwhen O5>5
if AK7(Z7[O5])then
set MK9=MK9+1
endif
if AK7(A7[O5])then
set MM9=MM9+1
endif
set O5=O5+1
endloop
set MB7=R2I(I2R(MK9+1)/I2R(MZ7))
set M37=R2I(I2R(MM9+1)/I2R(MZ7))
endfunction
function MN9 takes integer O5,unit ME9 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local integer i=GetHandleId(ME9)
call TF7(i,"aiCrow|TrueOwner",O5)
call TF7(i,"aiCrow|CurrentOwner",O5)
call TI7(i,"aiCrow|Alive",true)
call TI7(i,"aiCrow|Active",false)
set EZ7="aiSummonCourier_MainCrow"
call SetPlayerAbilityAvailable(Player(O5),1093810510,false)
call UnitMakeAbilityPermanent(ME9,true,1093810509)
call TriggerRegisterDeathEvent(t,ME9)
call TriggerAddCondition(t,Condition(function D09))
if MV7 then
call L67(ME9,1098282348)
endif
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function MH9))
call SaveUnitHandle(L7,(PP7),(2),(ME9))
set t=null
endfunction
function MO9 takes nothing returns nothing
local unit ME9=CreateUnit(GetOwningPlayer(GetTriggerUnit()),M99(GetOwningPlayer(GetTriggerUnit())),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))
set EZ7="MO9"
call D_9(ME9)
if OT[GetPlayerId(GetOwningPlayer(ME9))]==false then
call UnitRemoveType(ME9,UNIT_TYPE_PEON)
else
call UnitAddType(ME9,UNIT_TYPE_PEON)
endif
call M49(ME9)
set ME9=null
endfunction
function MP9 takes nothing returns boolean
if GetSpellAbilityId()==1093681718 then
call MD9()
endif
if GetSpellAbilityId()==1093683796 then
call MO9()
endif
return false
endfunction
function MQ9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit ME9=T37(US7,"chicken")
local integer MR9=U97(US7,"newability")
local integer MS9=U97(US7,"itemId0")
local integer MT9=U97(US7,"itemId1")
local integer MU9=U97(US7,"itemId2")
local integer MV9=U97(US7,"itemId3")
local integer MW9=U97(US7,"itemId4")
local integer MX9=U97(US7,"itemId5")
local player MY9=TL7(US7,"pPlayer0")
local player MZ9=TL7(US7,"pPlayer1")
local player MA9=TL7(US7,"pPlayer2")
local player MB9=TL7(US7,"pPlayer3")
local player MC9=TL7(US7,"pPlayer4")
local player M39=TL7(US7,"pPlayer5")
local integer M69=U97(US7,"charges0")
local integer ML9=U97(US7,"charges1")
local integer M19=U97(US7,"charges2")
local integer M09=U97(US7,"charges3")
local integer M59=U97(US7,"charges4")
local integer M29=U97(US7,"charges5")
set EZ7="MQ9"
call DisableTrigger(H94)
if GetTriggerEvalCount(t)==1 then
call UnitAddAbility(ME9,MR9)
if OT[GetPlayerId(GetOwningPlayer(ME9))]==false then
call UnitRemoveType(ME9,UNIT_TYPE_PEON)
else
call UnitAddType(ME9,UNIT_TYPE_PEON)
endif
else
if MS9>0 then
set HA4=CreateItem(MS9,GetUnitX(ME9),GetUnitY(ME9))
call UnitAddItem(ME9,HA4)
call SetItemPlayer(HA4,MY9,false)
call SetItemUserData(HA4,1)
endif
if M69>0 then
call SetItemCharges(HA4,M69)
endif
if MT9>0 then
set HA4=CreateItem(MT9,GetUnitX(ME9),GetUnitY(ME9))
call UnitAddItem(ME9,HA4)
call SetItemPlayer(HA4,MZ9,false)
call SetItemUserData(HA4,1)
endif
if ML9>0 then
call SetItemCharges(HA4,ML9)
endif
if MU9>0 then
set HA4=CreateItem(MU9,GetUnitX(ME9),GetUnitY(ME9))
call UnitAddItem(ME9,HA4)
call SetItemPlayer(HA4,MA9,false)
call SetItemUserData(HA4,1)
endif
if M19>0 then
call SetItemCharges(HA4,M19)
endif
if MV9>0 then
set HA4=CreateItem(MV9,GetUnitX(ME9),GetUnitY(ME9))
call UnitAddItem(ME9,HA4)
call SetItemPlayer(HA4,MB9,false)
call SetItemUserData(HA4,1)
endif
if M09>0 then
call SetItemCharges(HA4,M09)
endif
if MW9>0 then
set HA4=CreateItem(MW9,GetUnitX(ME9),GetUnitY(ME9))
call UnitAddItem(ME9,HA4)
call SetItemPlayer(HA4,MC9,false)
call SetItemUserData(HA4,1)
endif
if M59>0 then
call SetItemCharges(HA4,M59)
endif
if MX9>0 then
set HA4=CreateItem(MX9,GetUnitX(ME9),GetUnitY(ME9))
call UnitAddItem(ME9,HA4)
call SetItemPlayer(HA4,M39,false)
call SetItemUserData(HA4,1)
endif
if M29>0 then
call SetItemCharges(HA4,M29)
endif
if OT[GetPlayerId(GetOwningPlayer(ME9))]==false then
call UnitRemoveType(ME9,UNIT_TYPE_PEON)
else
call UnitAddType(ME9,UNIT_TYPE_PEON)
endif
call T97(US7)
call UQ7(t)
endif
call EnableTrigger(H94)
set t=null
set ME9=null
set MY9=null
set MZ9=null
set MA9=null
set MB9=null
set MC9=null
set M39=null
return false
endfunction
function M_9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit ME9=(LoadUnitHandle(L7,(US7),(2)))
local integer N49=GetUnitTypeId(ME9)
local real x=GetUnitX(ME9)
local real y=GetUnitY(ME9)
local item N79
local item N89
local item N99
local item ND9
local item NE9
local item NF9
local player MY9
local player MZ9
local player MA9
local player MB9
local player MC9
local player M39
local integer MS9
local integer MT9
local integer MU9
local integer MV9
local integer MW9
local integer MX9
local integer M69=-1
local integer ML9=-1
local integer M19=-1
local integer M09=-1
local integer M59=-1
local integer M29=-1
local integer MR9
local item XO8
set EZ7="M_9"
call FlushChildHashtable(L7,(US7))
call UQ7(t)
if ME9==null or L17(ME9)then
return false
endif
set t=CreateTrigger()
set US7=GetHandleId(t)
set N79=UnitItemInSlot(ME9,0)
set N89=UnitItemInSlot(ME9,1)
set N99=UnitItemInSlot(ME9,2)
set ND9=UnitItemInSlot(ME9,3)
set NE9=UnitItemInSlot(ME9,4)
set NF9=UnitItemInSlot(ME9,5)
set MS9=GetItemTypeId(N79)
set MT9=GetItemTypeId(N89)
set MU9=GetItemTypeId(N99)
set MV9=GetItemTypeId(ND9)
set MW9=GetItemTypeId(NE9)
set MX9=GetItemTypeId(NF9)
set MY9=GetItemPlayer(N79)
set MZ9=GetItemPlayer(N89)
set MA9=GetItemPlayer(N99)
set MB9=GetItemPlayer(ND9)
set MC9=GetItemPlayer(NE9)
set M39=GetItemPlayer(NF9)
set XO8=N79
if GetItemType(XO8)==ITEM_TYPE_ARTIFACT or E09(RO7(XO8))then
set M69=GetItemCharges(XO8)
endif
set XO8=N89
if GetItemType(XO8)==ITEM_TYPE_ARTIFACT or E09(RO7(XO8))then
set ML9=GetItemCharges(XO8)
endif
set XO8=N99
if GetItemType(XO8)==ITEM_TYPE_ARTIFACT or E09(RO7(XO8))then
set M19=GetItemCharges(XO8)
endif
set XO8=ND9
if GetItemType(XO8)==ITEM_TYPE_ARTIFACT or E09(RO7(XO8))then
set M09=GetItemCharges(XO8)
endif
set XO8=NE9
if GetItemType(XO8)==ITEM_TYPE_ARTIFACT or E09(RO7(XO8))then
set M59=GetItemCharges(XO8)
endif
set XO8=NF9
if GetItemType(XO8)==ITEM_TYPE_ARTIFACT or E09(RO7(XO8))then
set M29=GetItemCharges(XO8)
endif
call RN7(N79)
call RN7(N89)
call RN7(N99)
call RN7(ND9)
call RN7(NE9)
call RN7(NF9)
if N49==VT4 then
set MR9=1395667001
elseif N49==VU4 then
set MR9=1395667012
elseif N49==VV4 then
set MR9=1395667011
elseif N49==VA4 then
set MR9=1395667013
elseif N49==VB4 then
set MR9=1395667010
elseif N49==VC4 then
set MR9=W84
elseif N49==VW4 then
set MR9=1395667031
elseif N49==VX4 then
set MR9=1395667033
elseif N49==V34 then
set MR9=1395667032
elseif N49==V64 then
set MR9=1395667012
elseif N49==VY4 then
set MR9=W94
elseif N49==VL4 then
set MR9=WD4
endif
if GetRandomInt(1,10)==1 then
set MR9=1395667015
endif
if GetRandomInt(1,10)<3 then
set MR9=1395667254
endif
if N49==V24 then
set MR9=1395667020
elseif N49==W74 then
set MR9=1395667020
elseif N49==V_4 then
set MR9=W84
endif
if N49==VS4 then
set MR9=1395667250
elseif N49==VZ4 then
set MR9=1395667248
elseif N49==W44 then
set MR9=1395667252
elseif N49==V14 then
set MR9=1395667249
elseif N49==V04 then
set MR9=1395667255
elseif N49==V54 then
set MR9=1395667251
endif
call TQ7(US7,"pPlayer0",MY9)
call TQ7(US7,"pPlayer1",MZ9)
call TQ7(US7,"pPlayer2",MA9)
call TQ7(US7,"pPlayer3",MB9)
call TQ7(US7,"pPlayer4",MC9)
call TQ7(US7,"pPlayer5",M39)
call TF7(US7,"itemId0",MS9)
call TF7(US7,"itemId1",MT9)
call TF7(US7,"itemId2",MU9)
call TF7(US7,"itemId3",MV9)
call TF7(US7,"itemId4",MW9)
call TF7(US7,"itemId5",MX9)
call TF7(US7,"charges0",M69)
call TF7(US7,"charges1",ML9)
call TF7(US7,"charges2",M19)
call TF7(US7,"charges3",M09)
call TF7(US7,"charges4",M59)
call TF7(US7,"charges5",M29)
call TJ7(US7,"chicken",ME9)
call TF7(US7,"newability",MR9)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function MQ9))
set XO8=null
set t=null
set ME9=null
set N79=null
set N89=null
set N99=null
set ND9=null
set NE9=null
set NF9=null
set MY9=null
set MZ9=null
set MA9=null
set MB9=null
set MC9=null
set M39=null
return false
endfunction
function NG9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="NG9"
call TriggerRegisterTimerEvent(t,0.05,false)
call TriggerAddCondition(t,Condition(function M_9))
call SaveUnitHandle(L7,(PP7),(2),(GetTriggerUnit()))
set t=null
endfunction
function NH9 takes nothing returns boolean
if GetSpellAbilityId()==1093685076 then
call NG9()
endif
return false
endfunction
function V7 takes nothing returns boolean
local integer x=0
set EZ7="V7"
loop
exitwhen x>5
if UnitItemInSlot(GetTriggerUnit(),x)==null then
return true
endif
set x=x+1
endloop
return false
endfunction
function wD takes nothing returns nothing
if GetItemTypeId(GetManipulatedItem())==ZU[C3]then
call RemoveItem(GetManipulatedItem())
call UnitAddItem(GetTriggerUnit(),CreateItem(ZU[E6],0,0))
endif
if GetItemTypeId(GetManipulatedItem())==ZU[E6]then
call RemoveItem(GetManipulatedItem())
call UnitAddItem(GetTriggerUnit(),CreateItem(ZU[C3],0,0))
endif
endfunction
function NI9 takes nothing returns nothing
if UJ7(GetEnumUnit(),"NJ9")==true then
call DQ8(GetOwningPlayer(GetEnumUnit()),(GetObjectName((1848652365)))+" "+GetUnitName(GetEnumUnit())+" "+(GetObjectName((1848652371))))
else
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call UU7(GetEnumUnit(),"NJ9",25)
endif
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+250)
endif
endfunction
function NJ9 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local group g=LD7()
set EZ7="NJ9"
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),775,Condition(function GB8))
call ForGroup(g,function NI9)
call L97(g)
set p5=null
set g=null
endfunction
function NK9 takes nothing returns nothing
if GetSpellAbilityId()==1093681995 then
call NJ9()
endif
endfunction
function NM9 takes unit C17,integer NN9,boolean NO9 returns nothing
local string NP9
local string s
local player p=GetOwningPlayer(C17)
local real d=2
local string NQ9="Use"
set EZ7="Runes_Report"
if NO9 then
set NQ9="Store"
endif
if NN9==1227894838 then
set NP9="|c00ff0000"+GetObjectName(1848658513)+"|r"
call I38("Rune"+NQ9+"1",GetPlayerId(p))
elseif NN9==1227894840 then
set NP9="|c0000ff00"+GetObjectName(1848658510)+"|r"
call I38("Rune"+NQ9+"2",GetPlayerId(p))
elseif NN9==1227894859 then
set NP9="|c000000ff"+GetObjectName(1848658739)+"|r"
call I38("Rune"+NQ9+"3",GetPlayerId(p))
elseif NN9==1227894839 then
set NP9="|c00afaf00"+GetObjectName(1848658738)+"|r"
call I38("Rune"+NQ9+"4",GetPlayerId(p))
elseif NN9==1227894858 then
set NP9="|c00652DC1"+GetObjectName(1848658740)+"|r"
call I38("Rune"+NQ9+"5",GetPlayerId(p))
endif
if NO9 then
set s=Q[GetPlayerId(p)]+GetUnitName(C17)+"|r "+GetObjectName(1848657749)+"|r "+NP9+" "+GetObjectName(1848657751)
set d=1
else
if NH then
set s=Q[GetPlayerId(p)]+GetUnitName(C17)+"|r "+GetObjectName(1848657750)+"|r "+NP9+" "+GetObjectName(1848657751)
else
set s=Q[GetPlayerId(p)]+GetUnitName(C17)+"|r "+GetObjectName(1848657748)+"|r "+NP9+" "+GetObjectName(1848657751)
endif
endif
if(IsPlayerAlly(GetLocalPlayer(),p)and GetLocalPlayer()!=p)or C67(GetLocalPlayer())then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,d,s)
endif
endfunction
function NR9 takes nothing returns boolean
if GetSpellAbilityId()==1093683254 then
call TJ7(GetHandleId(GetTriggerUnit()),"BottleTargetUnit",null)
call TF7(GetHandleId(GetTriggerUnit()),"BottleTargetItemId",0)
if(SK7(GetTriggerUnit(),ZU[AZ])!=null or SK7(GetTriggerUnit(),BU[AZ])!=null)and(GetUnitTypeId(GetSpellTargetUnit())==1852206952 or GetUnitTypeId(GetSpellTargetUnit())==1852073580)then
call TJ7(GetHandleId(GetTriggerUnit()),"BottleTargetUnit",GetSpellTargetUnit())
elseif K29(GetItemTypeId(GetSpellTargetItem()))then
call NM9(GetTriggerUnit(),GetItemTypeId(GetSpellTargetItem()),true)
call TF7(GetHandleId(GetTriggerUnit()),"BottleTargetItemId",GetItemTypeId(GetSpellTargetItem()))
call RN7(GetSpellTargetItem())
endif
endif
return false
endfunction
function NS9 takes unit LI7 returns nothing
call SetUnitState(LI7,UNIT_STATE_LIFE,GetUnitState(LI7,UNIT_STATE_MAX_LIFE))
call SetUnitState(LI7,UNIT_STATE_MANA,GetUnitState(LI7,UNIT_STATE_MAX_MANA))
endfunction
function NT9 takes unit LI7,real x,real y returns nothing
local integer PP7=GetHandleId(GetOwningPlayer(LI7))
local unit KU8=T37(PP7,"Kobold1")
local unit KV8=T37(PP7,"Kobold2")
local unit KW8=T37(PP7,"Kobold3")
local unit KX8=T37(PP7,"Kobold4")
set EZ7="Aegis_Revive_Kobold"
set OB4=true
if KU8!=null then
call ReviveHero(KU8,x,y,true)
call NS9(KU8)
call KI8(KU8)
call SetUnitX(KU8,x)
call SetUnitY(KU8,y)
endif
if KV8!=null then
call ReviveHero(KV8,x,y,true)
call NS9(KV8)
call KI8(KV8)
call SetUnitX(KV8,x)
call SetUnitY(KV8,y)
endif
if KW8!=null then
call ReviveHero(KW8,x,y,true)
call NS9(KW8)
call KI8(KW8)
call SetUnitX(KW8,x)
call SetUnitY(KW8,y)
endif
if KX8!=null then
call ReviveHero(KX8,x,y,true)
call NS9(KX8)
call KI8(KX8)
call SetUnitX(KX8,x)
call SetUnitY(KX8,y)
endif
set KU8=null
set KV8=null
set KW8=null
set KX8=null
endfunction
function NU9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit LI7=T37(PP7,"Hero")
set EZ7="NU9"
call NS9(LI7)
call KI8(LI7)
call ClearSelectionForPlayer(GetOwningPlayer(LI7))
call SelectUnitAddForPlayer(LI7,GetOwningPlayer(LI7))
if GetUnitTypeId(LI7)==1211117641 then
call NT9(LI7,GetUnitX(LI7),GetUnitY(LI7))
endif
call T97(PP7)
call UQ7(t)
set t=null
set LI7=null
return false
endfunction
function NV9 takes unit LI7,real x,real y returns nothing
local integer PP7=GetHandleId(GetOwningPlayer(LI7))
local unit KU8=T37(PP7,"Kobold1")
local unit KV8=T37(PP7,"Kobold2")
local unit KW8=T37(PP7,"Kobold3")
local unit KX8=T37(PP7,"Kobold4")
set EZ7="Aegis_Kobold_Move"
call DisableTrigger(ES)
if KU8!=null then
call SetUnitX(KU8,x)
call SetUnitY(KU8,y)
call KillUnit(KU8)
endif
if KV8!=null then
call SetUnitX(KV8,x)
call SetUnitY(KV8,y)
call KillUnit(KV8)
endif
if KW8!=null then
call SetUnitX(KW8,x)
call SetUnitY(KW8,y)
call KillUnit(KW8)
endif
if KX8!=null then
call SetUnitX(KX8,x)
call SetUnitY(KX8,y)
call KillUnit(KX8)
endif
call EnableTrigger(ES)
set KU8=null
set KV8=null
set KW8=null
set KX8=null
endfunction
function NW9 takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local real x
local real y
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="NW9"
call I38("AegisOff",GetPlayerId(GetOwningPlayer(LI7)))
if GetUnitTypeId(LI7)==1211117641 then
call NV9(LI7,GetUnitX(LI7),GetUnitY(LI7))
endif
set NW4=null
call TriggerRegisterTimerEvent(t,5.,false)
call TriggerAddCondition(t,Condition(function NU9))
call TJ7(PP7,"Hero",LI7)
call UU7(LI7,"JustUseAegis",5)
set t=null
set LI7=null
endfunction
function NX9 takes nothing returns nothing
if RP7(GetManipulatedItem())==X0 then
call NW9()
endif
endfunction
function Trig_MultipleNecro_Func001002001 takes nothing returns boolean
return(GetUnitTypeId(GetEnumUnit())==1848651848)
endfunction
function NY9 takes nothing returns nothing
if GetWidgetLife(GetEnumItem())>0 and K29(GetItemTypeId(GetEnumItem()))then
set HA4=GetEnumItem()
endif
endfunction
function NZ9 takes nothing returns integer
local integer i=GetRandomInt(1,5)
loop
exitwhen i!=FI4
set i=GetRandomInt(1,5)
endloop
set FI4=i
return i
endfunction
function NA9 takes nothing returns boolean
local boolean NB9=false
local boolean NC9=false
local real x
local real y
local real x1
local real y1
local real x2
local real y2
local integer N39
set EZ7="NA9"
if GetRandomInt(1,2)==1 then
set x=GetLocationX(F7)
set y=GetLocationY(F7)
else
set x=GetLocationX(G7)
set y=GetLocationY(G7)
endif
set x1=GetLocationX(F7)
set y1=GetLocationY(F7)
set x2=GetLocationX(G7)
set y2=GetLocationY(G7)
set HA4=null
call EnumItemsInRect(MD,Condition(function A47),function NY9)
if HA4==null then
set NB9=true
endif
set HA4=null
call EnumItemsInRect(FD,Condition(function A47),function NY9)
if HA4==null then
set NC9=true
endif
if DT==false or GetTriggerEvalCount(GetTriggeringTrigger())<20 then
if NB9 and NC9 then
set N39=NZ9()
if N39==1 then
call CreateItem(1227894839,x,y)
elseif N39==2 then
call CreateItem(1227894838,x,y)
elseif N39==3 then
call CreateItem(1227894859,x,y)
elseif N39==4 then
call CreateItem(1227894840,x,y)
elseif N39==5 then
call CreateItem(1227894858,x,y)
endif
endif
else
if NB9 then
set N39=NZ9()
if N39==1 then
call CreateItem(1227894839,x1,y1)
elseif N39==2 then
call CreateItem(1227894838,x1,y1)
elseif N39==3 then
call CreateItem(1227894859,x1,y1)
elseif N39==4 then
call CreateItem(1227894840,x1,y1)
elseif N39==5 then
call CreateItem(1227894858,x1,y1)
endif
endif
if NC9 then
set N39=NZ9()
if N39==1 then
call CreateItem(1227894839,x2,y2)
elseif N39==2 then
call CreateItem(1227894838,x2,y2)
elseif N39==3 then
call CreateItem(1227894859,x2,y2)
elseif N39==4 then
call CreateItem(1227894840,x2,y2)
elseif N39==5 then
call CreateItem(1227894858,x2,y2)
endif
endif
endif
return false
endfunction
function O2 takes integer Ou,real O3 returns nothing
set FI[gi]=Ou
set Fj[gi]=O3
set gi=gi+1
endfunction
function Wq takes nothing returns nothing
call O2(1752134252,30)
call O2(1870030190,210)
call O2(1835955060,45)
call O2(1227894834,60)
call O2(1667786099,60)
call O2(1885628790,100)
call O2(1227894833,60)
call O2(1650878578,50)
call O2(2004055908,12)
call O2(1919248946,30)
call O2(1819177582,36)
call O2(1936749157,20)
call O2(1919906931,300)
call O2(1953265005,60)
call O2(1936093031,15)
call O2(1835955046,28)
call O2(1937012592,65)
call O2(1935894636,70)
call O2(1919248945,28)
call O2(1803117164,20)
call O2(1919248949,40)
call O2(1667460452,26)
call O2(1835823988,32)
call O2(1684370275,30)
call O2(1227894851,25)
call O2(1227894865,45)
call O2(1227894868,30)
call O2(1868984943,85)
call O2(1227895120,10)
call O2(1227895125,30)
call O2(1227960368,45)
call O2(1227960369,90)
endfunction
function N69 takes nothing returns boolean
local integer i
set EZ7="N69"
if O64>0 and OC4[1]<1 then
set i=2
loop
exitwhen i>O64
set OC4[i-1]=OC4[i]
set O34[i-1]=O34[i]
set i=i+1
endloop
set O64=O64-1
endif
set i=1
loop
exitwhen i>O64
if OC4[i]>=1 then
set OC4[i]=OC4[i]-1
if OC4[i]<1 then
call SetItemDroppable(O34[i],true)
endif
endif
set i=i+1
endloop
return false
endfunction
function NL9 takes item XO8 returns nothing
set O64=O64+1
set O34[O64]=XO8
set OC4[O64]=(LU[(RP7(XO8))])
call SetItemDroppable(XO8,false)
endfunction
function N19 takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())!=1697656901 and(LU[(RP7(GetManipulatedItem()))])>0 then
call NL9(GetManipulatedItem())
endif
return false
endfunction
function N09 takes unit P67 returns integer
local integer IG8
set EZ7="GetScepterIndexId"
if P67==null then
return-2
endif
set IG8=GetUnitTypeId(P67)
if IG8==1211117620 then
return FW4
elseif IG8==1430466872 then
return FX4
elseif IG8==1215130471 then
return FB4
elseif IG8==1432580716 or IG8==1429221720 then
return GB4
elseif IG8==1211117640 then
return F34
elseif IG8==1430466609 then
return F64
elseif IG8==1332898670 then
return FL4
elseif IG8==1215128178 then
return F24
elseif IG8==1214931305 then
return F14
elseif IG8==1433168227 then
return FV4
elseif IG8==1164666213 then
return FU4
elseif IG8==1164799603 then
return FS4
elseif IG8==1162032439 then
return F04
elseif IG8==1429221445 then
return FA4
elseif IG8==1160785973 then
return FZ4
elseif IG8==1160786241 then
return F54
elseif IG8==1430467634 then
return FY4
elseif IG8==1315988077 then
return GK4
elseif IG8==1211117652 then
return G44
elseif IG8==1215723364 then
return G74
elseif IG8==1315070563 then
return G84
elseif IG8==1211117633 then
return GD4
elseif IG8==1432646245 then
return GE4
elseif IG8==1160786000 then
return GG4
elseif IG8==1429221451 then
return GH4
elseif IG8==1211117649 then
return GI4
elseif IG8==1211117653 then
return GJ4
elseif IG8==1429221446 then
return GM4
elseif IG8==1311786311 then
return GN4
elseif IG8==1162032181 then
return GO4
elseif IG8==1328558154 then
return GP4
elseif IG8==1332963428 then
return GQ4
elseif IG8==1432642913 then
return GR4
elseif IG8==1311781207 then
return GS4
elseif IG8==1211117643 then
return GT4
elseif IG8==1332766568 then
return GU4
elseif IG8==1333027688 then
return GV4
elseif IG8==1211117650 then
return FC4
elseif IG8==1211119433 then
return FC4
elseif IG8==1311780930 then
return GW4
elseif IG8==1160786243 then
return GY4
elseif IG8==1160785970 then
return GZ4
elseif IG8==1162032951 then
return GA4
elseif IG8==1429221456 then
return G34
elseif IG8==1164799855 then
return G64
elseif IG8==1211117646 then
return GL4
elseif IG8==1160786510 or IG8==1160786511 then
return G14
elseif IG8==1211117641 then
return G04
elseif IG8==1211117636 then
return G54
elseif IG8==1430468144 then
return G24
elseif GetUnitPointValue(P67)==500 then
return GX4
endif
return FR4
endfunction
function N59 takes unit P67 returns integer
local integer IG8
set EZ7="GetScepterAbilityId"
if P67==null then
return-2
endif
set IG8=GetUnitTypeId(P67)
if IG8==1211117620 then
return 1093686352
elseif IG8==1430466872 then
return 1093686354
elseif IG8==1215130471 then
return 1093815124
elseif IG8==1432580716 or IG8==1429221720 then
return 0
elseif IG8==1211117640 then
return 1093686358
elseif IG8==1430466609 then
return 1093686360
elseif IG8==1332898670 then
return 1093686362
elseif IG8==1215128178 then
return 1093686577
elseif IG8==1214931305 then
return 1093686579
elseif IG8==1433168227 then
return 1093686581
elseif IG8==1164666213 then
return 1093686583
elseif IG8==1164799603 then
return 1093686585
elseif IG8==1162032439 then
return 1093686594
elseif IG8==1429221445 then
return 1093686596
elseif IG8==1160785973 then
return 1093686598
elseif IG8==1160786241 then
return 1093686600
elseif IG8==1430467634 then
return 1093686602
elseif IG8==1315988077 then
return 1093747269
elseif IG8==1211117652 then
return 1093747257
elseif IG8==1215723364 then
return 1093747265
elseif IG8==1315070563 then
return 1093747266
elseif IG8==1211117633 then
return 1093747541
elseif IG8==1432646245 then
return 1093747271
elseif IG8==1160786000 then
return 1093747274
elseif IG8==1429221451 then
return 1093747267
elseif IG8==1211117649 then
return 1093747273
elseif IG8==1211117653 then
return 1093747268
elseif IG8==1429221446 then
return 1093747545
elseif IG8==1311786311 then
return 1093747762
elseif IG8==1162032181 then
return 1093747761
elseif IG8==1328558154 then
return 1093747546
elseif IG8==1332963428 then
return 1093747760
elseif IG8==1432642913 then
return 1093747763
elseif IG8==1311781207 then
return 1093747764
elseif IG8==1211117643 then
return 1093748529
elseif IG8==1332766568 then
return 1093750100
elseif IG8==1333027688 then
return 1093750320
elseif IG8==1311780930 then
return 1093751123
elseif IG8==1160786243 then
return 1093752148
elseif IG8==1160785970 then
return 1093752149
elseif IG8==1162032951 then
return 1093752369
elseif IG8==1429221456 then
return 1093752409
elseif IG8==1164799855 then
return 1093752644
elseif IG8==1211117646 then
return 1093808467
elseif IG8==1160786510 or IG8==1160786511 then
return 1093808951
elseif IG8==1211117641 then
return 1093809989
elseif IG8==1211117636 then
return 1093810241
elseif IG8==1430468144 then
return 1093814600
endif
return 0
endfunction
function N29 takes item J08 returns boolean
local integer i=1
set EZ7="IsItemInCooldown"
loop
exitwhen i>O64
if J08==O34[i]then
return true
endif
set i=i+1
endloop
return false
endfunction
function N_9 takes unit P67 returns location
return O8[GetUnitAbilityLevel(P67,N8)]
endfunction
function O49 takes unit P67 returns boolean
return(GetOwningPlayer(P67)==Z7[0])or(GetOwningPlayer(P67)==A7[0])
endfunction
function O79 takes nothing returns nothing
call SetUnitUserData(GetEnumUnit(),0)
call IssuePointOrderLoc(GetEnumUnit(),"attack",N_9(GetEnumUnit()))
endfunction
function O89 takes nothing returns nothing
call IssueTargetOrder(GetEnumUnit(),"attack",D8)
call GroupAddUnit(R8,GetEnumUnit())
call SetUnitUserData(GetEnumUnit(),ST4)
endfunction
function O99 takes nothing returns boolean
local integer id=GetUnitTypeId(GetFilterUnit())
set EZ7="O99"
if id==1700946284 or id==1697657398 or id==1970107511 or id==1966092370 then
return false
endif
if IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and(GetOwningPlayer(GetFilterUnit())==Z7[0]or GetOwningPlayer(GetFilterUnit())==A7[0])and GetUnitUserData(GetFilterUnit())==0 then
return true
endif
return false
endfunction
function OD9 takes nothing returns nothing
if GetUnitCurrentOrder(GetEnumUnit())==0 and IsUnitInRange(GetEnumUnit(),D8,GetUnitAcquireRange(GetEnumUnit()))==false then
call GroupRemoveUnit(R8,GetEnumUnit())
call SetUnitUserData(GetEnumUnit(),0)
call IssuePointOrderByIdLoc(GetEnumUnit(),851983,N_9(GetEnumUnit()))
endif
endfunction
function OE9 takes nothing returns nothing
local integer US7=GetHandleId(T37(GetHandleId(GetExpiredTimer()),"Source"))
local integer OF9=U97(US7,"Attacker")
local group OG9=T57(US7,"Defenders")
set EZ7="OE9"
set SS4[OF9]=null
call ForGroup(OG9,function O79)
call GroupClear(OG9)
set OG9=null
endfunction
function OH9 takes unit C17,unit ZY8 returns nothing
local integer US7=GetHandleId(C17)
local group OG9=T57(US7,"Defenders")
local integer OF9=U97(US7,"Attacker")
local unit OI9=SS4[OF9]
local group g
set EZ7="HeroAI_Defend"
if OI9!=null and OI9!=ZY8 then
call ForGroup(OG9,function O79)
call GroupClear(OG9)
endif
set SS4[OF9]=ZY8
set R8=OG9
set D8=ZY8
set ST4=OF9
call ForGroup(OG9,function OD9)
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(ZY8),GetUnitY(ZY8),500,Condition(function O99))
call ForGroup(g,function O89)
call L97(g)
call TimerStart(T17(US7,"DefendTimer"),2,false,function OE9)
set g=null
set OI9=null
set OG9=null
endfunction
function OJ9 takes integer BU7 returns boolean
return BU7==1162032951 or BU7==1160785972 or BU7==1315074670 or BU7==1429221456 or BU7==1164799855 or BU7==1311781185 or BU7==1211117649
endfunction
function OK9 takes nothing returns boolean
local unit C17=GetAttacker()
local unit m5=GetTriggerUnit()
local integer X5=GetIssuedOrderId()
local integer OM9
local integer i1
set EZ7="OK9"
call PM7(m5,C17)
call PR7(C17,m5)
if O49(C17)==false then
set OM9=U97(GetHandleId(m5),"Attacker")
if SS4[OM9]==null or SS4[OM9]==m5 or L17(SS4[OM9])then
if OM9!=0 then
if((GetPlayerController(GetOwningPlayer(GetAttacker()))!=MAP_CONTROL_COMPUTER)or(not IsUnitType(GetAttacker(),UNIT_TYPE_HERO)))then
call OH9(GetTriggerUnit(),GetAttacker())
else
set i1=GetUnitTypeId(GetAttacker())
if((i1!=1162032951)and(i1!=1160785972)and(i1!=1430468144)and(i1!=1315074670)and(i1!=1429221456)and(i1!=1164799855)and(i1!=1311781185)and(i1!=1211117649))then
call OH9(GetTriggerUnit(),GetAttacker())
else
call TriggerSleepAction(0.01)
if(not GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))])then
call OH9(GetTriggerUnit(),GetAttacker())
endif
endif
endif
if(not IsUnitType(C17,UNIT_TYPE_HERO))or(GetPlayerController(GetOwningPlayer(C17))!=MAP_CONTROL_COMPUTER)or(not OJ9(GetUnitTypeId(C17)))or(not GZ[304+GetPlayerId(GetOwningPlayer(C17))])then
call OH9(GetTriggerUnit(),GetAttacker())
endif
endif
endif
endif
set C17=null
set m5=null
return false
endfunction
function ON9 takes nothing returns boolean
local unit C17=GetTriggerUnit()
local unit m5=GetOrderTargetUnit()
local integer X5=GetIssuedOrderId()
local integer OO9
if IsUnitType(m5,UNIT_TYPE_HERO)==true and IsUnitIllusion(m5)==false and(X5==851983 or X5==851971)and IsUnitEnemy(m5,GetOwningPlayer(C17))and IsUnitVisible(C17,GetOwningPlayer(m5))then
set OO9=U97(GetHandleId(m5),"Attacker")
if SS4[OO9]==null or SS4[OO9]==m5 or L17(SS4[OO9])then
if OO9!=0 then
call OH9(m5,C17)
endif
endif
endif
set C17=null
set m5=null
return false
endfunction
function Wy takes unit C17 returns boolean
return UE7(GetHandleId(C17),"HeroAIManager")
endfunction
function OP9 takes unit C17 returns nothing
local group g
local trigger t
local timer tm
local integer US7=GetHandleId(C17)
set EZ7="EnableBasicAI"
set l2=l2+1
call TI7(US7,"HeroAIManager",true)
call TF7(US7,"Attacker",l2)
set g=LD7()
call TS7(US7,"Defenders",g)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddCondition(t,Condition(function ON9))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function OK9))
set tm=CreateTimer()
call TT7(GetHandleId(C17),"DefendTimer",tm)
call TJ7(GetHandleId(tm),"Source",C17)
set g=null
set t=null
set tm=null
endfunction
function OQ9 takes nothing returns nothing
local unit S4=GetTriggerUnit()
local unit m5=rw[GetUnitUserData(S4)]
set EZ7="OQ9"
call SetUnitPosition(S4,GetUnitX(S4),GetUnitY(S4))
if m5!=null and L17(m5)==false and IsUnitVisible(m5,GetOwningPlayer(m5))then
call IssueTargetOrder(S4,"attack",m5)
else
call DisableTrigger(GetTriggeringTrigger())
call IssuePointOrderLoc(S4,"attack",(O8[GetUnitAbilityLevel((S4),N8)]))
call EnableTrigger(GetTriggeringTrigger())
endif
set S4=null
set m5=null
endfunction
function OR9 takes nothing returns boolean
if O49(GetTriggerUnit())then
call OQ9()
endif
return false
endfunction
function OS9 takes nothing returns nothing
local unit S4=GetTriggerUnit()
local unit m5=rw[GetUnitUserData(S4)]
set EZ7="OS9"
call SetUnitPosition(S4,GetUnitX(S4),GetUnitY(S4))
if m5!=null and L17(m5)==false and IsUnitVisible(m5,GetOwningPlayer(m5))then
call IssueTargetOrder(S4,"attack",m5)
else
call DisableTrigger(GetTriggeringTrigger())
call IssuePointOrderLoc(S4,"attack",(O8[GetUnitAbilityLevel((S4),N8)]))
call EnableTrigger(GetTriggeringTrigger())
endif
set S4=null
set m5=null
endfunction
function OT9 takes nothing returns boolean
if GetIssuedOrderId()==851986 then
call OS9()
endif
return false
endfunction
function OU9 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
if IsUnitFogged(GetAttacker(),Z7[1])or IsUnitFogged(GetAttacker(),A7[1])then
call E58(CreateFogModifierRadius(Z7[1],FOG_OF_WAR_VISIBLE,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),128,true,false),1)
endif
elseif GetOwningPlayer(GetTriggerUnit())==A7[0]then
if IsUnitFogged(GetAttacker(),Z7[1])or IsUnitFogged(GetAttacker(),A7[1])then
call E58(CreateFogModifierRadius(A7[1],FOG_OF_WAR_VISIBLE,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),128,true,false),1)
endif
endif
return false
endfunction
function OV9 takes nothing returns boolean
local trigger t
local group g
local unit u
set EZ7="OV9"
set Ew=CreateRegion()
call RegionAddRect(Ew,HD)
call RegionAddRect(Ew,GD)
if V8 then
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Condition(function A47))
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Condition(function A47))
call TriggerAddCondition(t,Condition(function OT9))
set t=CreateTrigger()
set g=LD7()
call GroupEnumUnitsOfPlayer(g,Z7[0],Condition(function A47))
loop
set u=FirstOfGroup(g)
exitwhen u==null
call GroupRemoveUnit(g,u)
if GetUnitAcquireRange(u)!=0 then
call TriggerRegisterUnitInRange(t,u,600,Condition(function A47))
endif
endloop
call L97(g)
set g=LD7()
call GroupEnumUnitsOfPlayer(g,A7[0],Condition(function A47))
loop
set u=FirstOfGroup(g)
exitwhen u==null
call GroupRemoveUnit(g,u)
if GetUnitAcquireRange(u)!=0 and IsUnitType(u,UNIT_TYPE_STRUCTURE)then
call TriggerRegisterUnitInRange(t,u,600,Condition(function A47))
endif
endloop
call L97(g)
call TriggerAddCondition(t,Condition(function OR9))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function OU9))
endif
call UQ7(GetTriggeringTrigger())
set u=null
set g=null
set t=null
return false
endfunction
function OW9 takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit()))and(not Wy(GetTriggerUnit()))and GetUnitTypeId(GetTriggerUnit())!=1211117645 and GetUnitTypeId(GetTriggerUnit())!=1311788365 and GetUnitTypeId(GetTriggerUnit())!=1211117657 and GetUnitTypeId(GetTriggerUnit())!=1211119431 and GetUnitTypeId(GetTriggerUnit())!=1211122232 and(not LO4)
endfunction
function OX9 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
call SetUnitAbilityLevel(GetTriggerUnit(),N8,5)
if rw[GetUnitUserData(GetTriggerUnit())]==null then
call SetUnitUserData(GetTriggerUnit(),0)
call IssuePointOrderLoc(GetTriggerUnit(),"attack",(O8[GetUnitAbilityLevel((GetTriggerUnit()),N8)]))
endif
elseif GetOwningPlayer(GetTriggerUnit())==A7[0]then
call SetUnitAbilityLevel(GetTriggerUnit(),N8,1)
if rw[GetUnitUserData(GetTriggerUnit())]==null then
call SetUnitUserData(GetTriggerUnit(),0)
call IssuePointOrderLoc(GetTriggerUnit(),"attack",(O8[GetUnitAbilityLevel((GetTriggerUnit()),N8)]))
endif
endif
return false
endfunction
function OY9 takes unit S4 returns nothing
local integer i=0
set EZ7="N8v"
loop
exitwhen(i==16)
if IsUnitAlly(S4,Player(i))then
call UnitShareVision(S4,Player(i),true)
endif
set i=i+1
endloop
endfunction
function OZ9 takes nothing returns nothing
call OY9(GetEnumUnit())
endfunction
function OA9 takes nothing returns nothing
local integer x
local group g
set EZ7="OA9"
set x=1
loop
exitwhen x>5
call SetPlayerAlliance(Z7[0],Z7[x],ConvertAllianceType(5),false)
call SetPlayerAlliance(A7[0],A7[x],ConvertAllianceType(5),false)
set x=x+1
endloop
set g=LD7()
call GroupEnumUnitsOfPlayer(g,Z7[0],Condition(function A47))
call ForGroup(g,function OZ9)
call L97(g)
set g=LD7()
call GroupEnumUnitsOfPlayer(g,A7[0],Condition(function A47))
call ForGroup(g,function OZ9)
call L97(g)
set g=null
endfunction
function OB9 takes nothing returns nothing
local integer x
set EZ7="OB9"
set x=0
loop
exitwhen x>5
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(0),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(1),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(2),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(3),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(4),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(5),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(6),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(7),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(0),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(1),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(2),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(3),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(4),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(5),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(6),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(7),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(0),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(1),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(2),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(3),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(4),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(5),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(6),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(7),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(0),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(1),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(2),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(3),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(4),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(5),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(6),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(7),false)
set x=x+1
endloop
endfunction
function OC9 takes nothing returns boolean
return O49(GetTriggerUnit())
endfunction
function O39 takes nothing returns nothing
call OY9(GetTriggerUnit())
endfunction
function O69 takes nothing returns nothing
local trigger t
set EZ7="O69"
if not V8 then
return
endif
call OA9()
call OB9()
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,GetWorldBounds())
call TriggerAddCondition(t,Condition(function OC9))
call TriggerAddAction(t,function O39)
set t=null
endfunction
function OL9 takes nothing returns nothing
call RemoveUnit(T37(GetHandleId(GetTriggerUnit()),"Locust"))
endfunction
function O19 takes nothing returns nothing
local group g
local unit S4
local unit O09
local trigger t
local integer i
set EZ7="O19"
set t=CreateTrigger()
call TriggerAddAction(t,function OL9)
set g=LD7()
call GroupEnumUnitsOfPlayer(g,Z7[0],Condition(function A47))
loop
set S4=FirstOfGroup(g)
exitwhen S4==null
call GroupRemoveUnit(g,S4)
if GetUnitAbilityLevel(S4,1097102451)>0 or GetUnitAbilityLevel(S4,1098150517)>0 then
call TriggerRegisterUnitEvent(t,S4,EVENT_UNIT_DEATH)
set O09=CreateUnit(Z7[1],(1966092354),-5000,-5100,0)
call SetUnitScale(O09,0,0,0)
call SetUnitPathing(O09,false)
call SetUnitInvulnerable(O09,true)
call SetUnitX(O09,GetUnitX(S4))
call SetUnitY(O09,GetUnitY(S4))
call TJ7(GetHandleId(S4),"Locust",O09)
endif
endloop
call L97(g)
set g=LD7()
call GroupEnumUnitsOfPlayer(g,A7[0],Condition(function A47))
loop
set S4=FirstOfGroup(g)
exitwhen S4==null
call GroupRemoveUnit(g,S4)
if GetUnitAbilityLevel(S4,1097102451)>0 or GetUnitAbilityLevel(S4,1098150517)>0 then
call TriggerRegisterUnitEvent(t,S4,EVENT_UNIT_DEATH)
set O09=CreateUnit(A7[1],(1966092354),3400,4400,0)
call SetUnitScale(O09,0,0,0)
call SetUnitPathing(O09,false)
call SetUnitInvulnerable(O09,true)
call SetUnitX(O09,GetUnitX(S4))
call SetUnitY(O09,GetUnitY(S4))
call TJ7(GetHandleId(S4),"Locust",O09)
endif
endloop
call L97(g)
set t=null
set O09=null
set S4=null
set g=null
endfunction
function O59 takes nothing returns nothing
if V8 then
set NK4=CreateTrigger()
call TriggerRegisterTimerEvent(NK4,1.,true)
call TriggerAddAction(NK4,function BH8)
endif
endfunction
function O29 takes nothing returns boolean
call UQ7(GetTriggeringTrigger())
call TriggerEvaluate(MS)
return false
endfunction
function O_9 takes nothing returns boolean
local real r=TimerGetRemaining(Q84)
local real DL9=r
local integer D5=R2I(DL9)
local integer EJ9=D5/ 60-1/ 2
local integer EK9=ModuloInteger(D5,60)
local trigger t
if r==0 then
set Y04=true
call I38("GameStart",1)
call EI9(EJ9,EK9,true)
set N54=true
set M_4=TimerGetElapsed(W)
call UQ7(GetTriggeringTrigger())
set IW4=Rect(-7040,-7680,7040,7168)
call SetFloatGameState(GAME_STATE_TIME_OF_DAY,6.00)
call SuspendTimeOfDay(false)
call SetTimeOfDayScale(0.625)
if A4==false then
if DT then
call TriggerRegisterTimerEvent(H04,120.,true)
else
call TriggerRegisterTimerEvent(H04,120.,true)
endif
call TriggerEvaluate(H04)
endif
call TriggerRegisterTimerEvent(MS,60.,true)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,30.,false)
call TriggerAddCondition(t,Condition(function O29))
set t=null
call TriggerRegisterTimerEventPeriodic(JS,30.00)
call TriggerExecute(JS)
call TriggerRegisterTimerEventPeriodic(KS,450.00)
call TriggerRegisterTimerEventSingle(GS,2699.00)
call TriggerRegisterTimerEventSingle(HS,999.00)
call TriggerRegisterTimerEventSingle(HS,1999.00)
call TriggerRegisterTimerEventSingle(HS,2999.00)
call TriggerRegisterTimerEvent(NZ4,300.,true)
call TriggerRegisterTimerEvent(OH4,300.,true)
call TriggerRegisterTimerEvent(U9,30.,true)
call TriggerEvaluate(U9)
if C4 then
call TriggerRegisterTimerEvent(OS,600.,true)
endif
elseif r==7 then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,30.,true)
call TriggerAddCondition(t,Condition(function IL9))
elseif DL9<12 and QE4==false then
set QE4=true
call PlaySoundBJ(ZO)
call EI9(EJ9,EK9,true)
elseif DL9==20 then
if GetRandomInt(0,10)<6 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,6,"|c006699CC"+GetObjectName(1848659015)+"|r")
endif
elseif DL9==30 then
else
call EI9(EJ9,EK9,true)
endif
return false
endfunction
function P49 takes nothing returns nothing
local trigger t
set EZ7="P49"
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function O_9))
set Q84=CreateTimer()
call TimerStart(Q84,QD4+1,false,null)
set t=null
set N44=TimerGetElapsed(W)+1
endfunction
function P79 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())!=Z7[0]and GetOwningPlayer(GetTriggerUnit())!=A7[0]then
set PT[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=PT[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
if GetIssuedOrderId()!=OrderId("attack")then
set nb[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(TimerGetElapsed(W))
set QT[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
endif
if(GetIssuedOrderId()==OrderId("attack")or GetIssuedOrderId()==851971)and GetOrderTargetItem()!=null then
if GetIssuedOrderId()==OrderId("attack")or(GetIssuedOrderId()==851971 and UE7(GetHandleId(GetItemPlayer(GetOrderTargetItem())),"DisableHelp")==true)then
if GetItemPlayer(GetOrderTargetItem())!=GetOwningPlayer(GetTriggerUnit())and IsPointInRegion(Ew,GetItemX(GetOrderTargetItem()),GetItemY(GetOrderTargetItem()))==true then
call DisableTrigger(GetTriggeringTrigger())
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848657719))))
call EnableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
return false
endfunction
function P89 takes nothing returns nothing
local string P99=StringCase(GetEventPlayerChatString(),false)
local boolean PD9=P99=="-random" or P99=="-random int" or P99=="-random agi" or P99=="-random str"
local boolean PE9=P99=="-repick"
local boolean PF9=P99=="-gameinfo"
local boolean PG9=SubString(P99,0,5)=="-swap"
local boolean PH9=P99=="-recreate"
local boolean PI9=P99=="-unstuck"
local boolean PJ9=P99=="-matchup" or P99=="-ma"
local boolean PK9=P99=="-movespeed" or P99=="-ms"
local boolean PM9=P99=="-msa"
local boolean PN9=P99=="-disablehelp"
local boolean PO9=P99=="-enablehelp"
local boolean PP9=P99=="-creepstats" or P99=="-cs"
local boolean PQ9=P99=="-cson" or P99=="-csoff"
local boolean PR9=P99=="-hidemsg"
local boolean PS9=P99=="-showmsg"
local boolean PT9=P99=="-weather snow" or P99=="-weather rain" or P99=="-weather off" or P99=="-weather random" or P99=="-weather wind" or P99=="-weather moonlight"
local boolean PU9=P99=="-showdeny" or P99=="-hidedeny"
local boolean PV9=P99=="-denyinfo" or P99=="-di"
local boolean PW9=P99=="-don" or P99=="-deathon" or P99=="-doff" or P99=="-deathoff"
local boolean PX9=SubString(P99,0,5)=="-roll" and P99!="-rollhero"
local boolean PY9=P99=="-hhn" or P99=="-hideheronames"
local boolean PZ9=P99=="-mute"
local boolean PA9=P99=="-apm"
local boolean PB9=P99=="-clear"
local boolean PC9=P99=="-courier"
local boolean P39=P99=="-invokelist" or P99=="-il"
local boolean bListCommand=P99=="-list"
local boolean P69=P99=="-rolloff"
local boolean PL9=P99=="-rollon"
local boolean P19=SubString(P99,0,6)=="-music"
local boolean P09=SubString(P99,0,6)=="-water"
local boolean P59=SubString(P99,0,6)=="-quote"
local boolean P29=SubString(P99,0,3)=="-cm"
local boolean P_9=SubString(P99,0,9)=="-itemswap"
local boolean Q49=P99=="-bonus"
local boolean Q79=P99=="-rollhero" or P99=="-rh"
local boolean Q89=SubString(P99,0,9)=="-rickroll"
local boolean NoSwitch=P99=="-noswitch"
local boolean Switch=SubString(P99,0,7)=="-switch"or P99=="-ok"or P99=="-no"
local boolean Terrain=P99=="-terrain" or P99=="-terrain default" or P99=="-terrain snow"
local boolean Q99=P99=="-tips"
local boolean QD9=P99=="-ii" or P99=="-iteminfo"
local boolean YN7=P99=="-center" or P99=="-centeroff" or P99=="-c" or P99=="-co"
local boolean Unlock=P99=="-unlock"
local boolean QE9=P99=="-disableselection"or P99=="-ds"
local boolean QF9=P99=="-enableselection"or P99=="-es"
local boolean QG9=P99=="-sleep"
local boolean QH9=P99=="-calm"
local boolean D59=P99=="-st"
local boolean NoHat=P99=="-nosanta"
local boolean QI9=SubString(P99,0,10)=="-aiunstuck"
local boolean QJ9=StringLength(P99)>3 and SubString(P99,0,3)=="-cs"
local boolean QK9=StringLength(P99)>3 and SubString(P99,0,3)=="-ms"
local boolean QM9=(P99=="-aid" or P99=="1")
local boolean QN9=P99=="-override"
local boolean QO9=P99=="-formless"
local boolean QP9=P99=="-bastion"
local boolean QQ9=P99=="-aimsg"
local boolean QR9=P99=="-aimsgmiss"
local boolean QS9=(P99=="-aiboard")
local boolean QT9=P99=="-aiglyph"
local boolean QU9=((P99=="-aishowde")or(P99=="-aishowdg")or(P99=="-aishowdedg")or(P99=="-aishowdynamic"))
set EZ7="P89"
call DS8("QV9",PD9)
call DS8("QW9",PE9)
call DS8("QX9",PF9)
call DS8("QY9",PG9)
call DS8("QZ9",PH9)
call DS8("QA9",PI9)
call DS8("QB9",PJ9)
call DS8("QC9",PK9)
call DS8("Q39",PM9)
call DS8("Q69",PN9)
call DS8("QL9",PO9)
call DS8("Q19",PP9)
call DS8("Q09",PQ9)
call DS8("Q59",PR9)
call DS8("Q29",PS9)
call DS8("Q_9",PT9)
call DS8("R49",PU9)
call DS8("R79",PV9)
call DS8("R89",PW9)
call DS8("R99",PX9)
call DS8("RD9",PY9)
call DS8("RE9",PZ9)
call DS8("RF9",PA9)
call DS8("RG9",PB9)
call DS8("RH9",PC9)
call DS8("RI9",P39)
call DS8("RJ9",P69)
call DS8("RK9",PL9)
call DS8("RM9",P19)
call DS8("RN9",P09)
call DS8("RO9",P59)
call DS8("RP9",P29)
call DS8("RQ9",P_9)
call DS8("RR9",Q49)
call DS8("RS9",Q79)
call DS8("RT9",Q89)
call DS8("RU9",QD9)
call DS8("RV9",Q99)
call DS8("RW9",YN7)
call DS8("RX9",QE9)
call DS8("RY9",QF9)
call DS8("RZ9",QG9)
call DS8("RA9",D59)
call DS8("RB9",QH9)
call DS8("RC9",QJ9)
call DS8("R39",QK9)
call DS8("R69",QM9)
call DS8("RL9",QI9)
call DS8("R19",QN9)
call DS8("R09",QO9)
call DS8("R59",QP9)
call DS8("R29",QQ9)
call DS8("R_9",QR9)
call DS8("S49",QS9)
call DS8("S79",QT9)
call DS8("S89",QU9)
endfunction
function R29 takes nothing returns nothing
local integer O5=GetPlayerId(GetTriggerPlayer())
set DQ7[O5]=(not DQ7[O5])
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496332599)+OY7(DQ7[O5],GetObjectName(1496403790),GetObjectName(1498369862)))
endfunction
function R_9 takes nothing returns nothing
local integer O5=GetPlayerId(GetTriggerPlayer())
set DQ7[16+O5]=(not DQ7[16+O5])
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496332598)+OY7(DQ7[16+O5],GetObjectName(1496403790),GetObjectName(1498369862)))
if(DQ7[16+O5])and(not DQ7[O5])then
call R29()
endif
endfunction
function S99 takes player p returns nothing
local integer O5=GetPlayerId(p)
if p==QT4 then
set FN7=not FN7
call DisplayTimedTextToForce(X7,10.,GetObjectName(1496332597)+OY7(FN7,GetObjectName(1496403790),GetObjectName(1498369862)))
if not FN7 then
call DisplayTimedTextToForce(X7,10.,GetObjectName(1496332080))
endif
call DisplayTimedTextToForce(X7,10.," ")
elseif p==QU4 then
set FO7=not FO7
call DisplayTimedTextToForce(Y7,10.,GetObjectName(1496332597)+OY7(FO7,GetObjectName(1496403790),GetObjectName(1498369862)))
if not FO7 then
call DisplayTimedTextToForce(Y7,10.,GetObjectName(1496332080))
endif
call DisplayTimedTextToForce(Y7,10.," ")
endif
set p=null
endfunction
function S79 takes nothing returns nothing
call S99(GetTriggerPlayer())
endfunction
function RT9 takes nothing returns nothing
local integer a=S2I(SubString(GetEventPlayerChatString(),10,StringLength(GetEventPlayerChatString())))
local integer D5=GetPlayerId(GetTriggerPlayer())
set EZ7="RT9"
set Rw[D5]=Rw[D5]+1
if Rw[D5]>10 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName((1848656977))))
return
endif
if a<1 or a>8 then
set a=GetRandomInt(1,8)
endif
if a==1 then
call CG7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna give you up")
elseif a==2 then
call CG7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna let you down")
elseif a==3 then
call CG7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna run around")
elseif a==4 then
call CG7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna desert you")
elseif a==5 then
call CG7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna make you cry")
elseif a==6 then
call CG7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna say goodbye")
elseif a==7 then
call CG7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna tell a lie")
elseif a==8 then
call CG7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna hurt you")
endif
endfunction
function SD9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
set t=null
return false
endfunction
function RZ9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=M7[GetPlayerId(GetTriggerPlayer())]
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Sleep\\SleepTarget.mdl",FJ8,"overhead")))
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(t,Condition(function SD9))
call SetUnitAnimation(FJ8,"sleep")
set t=null
set FJ8=null
endfunction
function RB9 takes nothing returns nothing
call SetUnitAnimationByIndex(M7[GetPlayerId(GetTriggerPlayer())],23)
endfunction
function Command_NoHat takes nothing returns nothing
endfunction
function RV9 takes nothing returns nothing
if RT[GetPlayerId(GetTriggerPlayer())]==false then
set RT[GetPlayerId(GetTriggerPlayer())]=true
if(GetObjectName((1848657992)))=="Language: English" then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,"You have activated the -tips system.")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,"Please remember that these are just introductory recommendations and are not the only way to play heroes.")
endif
if M7[GetPlayerId(GetTriggerPlayer())]!=null then
call I78(GetTriggerPlayer(),GetUnitPointValue(M7[GetPlayerId(GetTriggerPlayer())]))
endif
endif
endfunction
function SE9 takes nothing returns boolean
if F9==false then
return false
endif
if W4[GetPlayerId(lx)]==true then
return false
endif
if P==false then
return false
endif
if M7[GetPlayerId(lx)]!=null and O9==false then
return false
endif
if I[GetPlayerId(lx)]==true then
return false
endif
if P9[GetPlayerId(lx)]and O9==false then
return false
endif
if O9 and eo[GetPlayerId(lx)]then
return false
endif
if(lx==QT4 and QV4!=null)or(lx==QU4 and QW4!=null)then
call DisplayTimedTextToPlayer(lx,0,E9,10,"Cannot random when manual picking.")
return false
endif
return true
endfunction
function SF9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local player p=TL7(US7,"p")
local string SG9=UF7(US7,"string")
set EZ7="SF9"
set lx=p
if SE9()then
set W4[GetPlayerId(p)]=true
if SG9=="-random int" then
call B67(p)
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)
elseif SG9=="-random str" then
call B57(p)
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)
elseif SG9=="-random agi" then
call B27(p)
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)
else
call B_7(p)
endif
else
call DisplayTimedTextToPlayer(p,0,E9,10,(GetObjectName((1848653625))))
endif
set t=null
set p=null
return false
endfunction
function QV9 takes nothing returns nothing
local player j8=GetTriggerPlayer()
local trigger t
set EZ7="QV9"
set lx=j8
if SE9()and oo[GetPlayerId(j8)]==false then
set oo[GetPlayerId(j8)]=true
call BD7(j8)
call DisplayTimedTextToPlayer(j8,0,E9,10,(GetObjectName((1848653633))))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,6.,false)
call TriggerAddCondition(t,Condition(function SF9))
call TQ7(GetHandleId(t),"p",j8)
call TH7(GetHandleId(t),"string",StringCase(GetEventPlayerChatString(),false))
endif
set t=null
endfunction
function SH9 takes nothing returns boolean
local unit C17=M7[GetPlayerId(GetTriggerPlayer())]
set EZ7="SH9"
if PJ4 then
call DQ8(GetTriggerPlayer(),(GetObjectName((1848652592))))
return false
endif
if G9==false then
if VT==false and A8==false and O04==false and O54==false and P74==false and P84==false and O9==false and W8==false then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,"-repick "+(GetObjectName((1848653122))))
endif
return false
endif
if(I[GetPlayerId(GetTriggerPlayer())]==true)then
return false
endif
if(M7[GetPlayerId(GetTriggerPlayer())]==null)then
return false
endif
if D4 or A8 or O9 or RZ4 then
return false
endif
if(T9==true)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653104))))
return false
endif
if(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)<X4)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653113))))
return false
endif
if GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)<350 and P4 or Y8 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653141))))
return false
endif
if GetUnitState(C17,UNIT_STATE_MANA)!=GetUnitState(C17,UNIT_STATE_MAX_MANA)or GetUnitState(C17,UNIT_STATE_LIFE)!=GetUnitState(C17,UNIT_STATE_MAX_LIFE)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653130))))
return false
endif
return true
endfunction
function SI9 takes nothing returns nothing
if(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true)then
if(GetUnitTypeId(GetEnumUnit())==1429221430)then
call ExecuteFunc("LE8")
elseif GetUnitTypeId(GetEnumUnit())==1429221432 or GetUnitTypeId(GetEnumUnit())==1160786229 then
set IT4=GetEnumUnit()
call ExecuteFunc("D49")
endif
call CG7(M4(GetTriggerPlayer()),10.00,(GetObjectName((1848653132)))+" "+CY7(GetEnumUnit())+".")
endif
if(GetUnitTypeId(GetEnumUnit())==1848651828)then
call RemoveUnit(GetEnumUnit())
endif
if(GetUnitTypeId(GetEnumUnit())==1848652088)then
call RemoveUnit(GetEnumUnit())
endif
if(GetUnitTypeId(GetEnumUnit())==1848652099)then
call RemoveUnit(GetEnumUnit())
endif
if(GetUnitTypeId(GetEnumUnit())==1848652103)then
call RemoveUnit(GetEnumUnit())
endif
endfunction
function SJ9 takes nothing returns nothing
local player j8=GetTriggerPlayer()
local group JJ8=LD7()
local integer BL7
local integer B17
local location B07
local integer BN7
local integer T8
local integer U8
local unit SK9
local location JP8=GetRectCenter(pr)
local location JQ8=GetRectCenter(qr)
set EZ7="SJ9"
set bj_groupEnumOwningPlayer=j8
call GroupEnumUnitsInRect(JJ8,GetWorldBounds(),filterGetUnitsInRectOfPlayer)
if(AG7(j8)==true)then
set BL7=KL4
set B17=K14
set B07=GetRectCenter(HD)
else
set BL7=K04
set B17=K54
set B07=GetRectCenter(GD)
endif
if E4 then
if(GetRandomInt(1,2)==1)then
set BL7=KL4
set B17=K14
else
set BL7=K04
set B17=K54
endif
endif
if P4 or Y8 then
set X4=100
endif
set SK9=T37(GetHandleId(GetTriggerPlayer()),"ChargeUnit")
if SK9!=null and GetUnitTypeId(SK9)==1697656899 then
call RemoveUnit(SK9)
set SK9=null
endif
call AdjustPlayerStateBJ(-1*X4,j8,PLAYER_STATE_RESOURCE_GOLD)
set I[GetPlayerId(j8)]=true
call ForGroup(JJ8,function SI9)
call D38(M7[GetPlayerId(j8)])
set M7[GetPlayerId(GetTriggerPlayer())]=null
if P4 or Y8 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,(GetObjectName((1311782233))))
if P4 then
set T8=KL4
set U8=K54
endif
if AG7(j8)then
if Y8 then
set T8=KL4
set U8=K14
call CreateUnitAtLoc(j8,1848651843,JP8,bj_UNIT_FACING)
else
call CreateUnitAtLoc(j8,1848651843,JP8,bj_UNIT_FACING)
call CreateUnitAtLoc(j8,1848651843,JQ8,bj_UNIT_FACING)
endif
call PanCameraToTimedLocForPlayer(j8,JP8,0)
else
if Y8 then
set T8=K04
set U8=K54
call CreateUnitAtLoc(j8,1848651843,JQ8,bj_UNIT_FACING)
else
call CreateUnitAtLoc(j8,1848651843,JP8,bj_UNIT_FACING)
call CreateUnitAtLoc(j8,1848651843,JQ8,bj_UNIT_FACING)
endif
call PanCameraToTimedLocForPlayer(j8,JQ8,0)
endif
loop
exitwhen T8>U8
if J[T8]==false then
call SetPlayerTechMaxAllowed(j8,K34[T8],1)
endif
set T8=T8+1
endloop
call L97(JJ8)
set JJ8=null
call RemoveLocation(B07)
set B07=null
call RemoveLocation(JP8)
set JP8=null
call RemoveLocation(JQ8)
set JQ8=null
return
endif
loop
set BN7=GetRandomInt(BL7,B17)
if(J[BN7]==false)then
set J[BN7]=true
set M7[GetPlayerId(j8)]=CreateUnitAtLoc(j8,K34[BN7],B07,bj_UNIT_FACING)
call B97(K34[BN7])
endif
exitwhen M7[GetPlayerId(GetTriggerPlayer())]!=null
endloop
call L97(JJ8)
set JJ8=null
call RemoveLocation(B07)
set B07=null
call RemoveLocation(JP8)
set JP8=null
call RemoveLocation(JQ8)
set JQ8=null
endfunction
function QW9 takes nothing returns nothing
if SH9()then
call SJ9()
endif
endfunction
function QX9 takes nothing returns nothing
local player j8=GetTriggerPlayer()
local string SM9="|c006699CC"
set EZ7="QX9"
if P74 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"League Mode"+"|r:      "+(GetObjectName((1848653621))))
endif
if P84 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Extended League"+"|r:      "+(GetObjectName((1848653634))))
call DisplayTimedTextToPlayer(j8,0,E9,20,"                                 "+(GetObjectName((1848653616))))
endif
if D4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Death Match"+"|r:        "+(GetObjectName((1848653402))))
call DisplayTimedTextToPlayer(j8,0,E9,20,"                              "+(GetObjectName((1848653401)))+" "+I2S(DL8(K14,K54-K04+1))+" "+(GetObjectName((1848653635))))
endif
if W8 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Mirror Match"+"|r:       "+(GetObjectName((1848653399))))
endif
if P4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"All Pick"+"|r:                 "+(GetObjectName((1848653398))))
endif
if O04 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Random Draft"+"|r:                 "+(GetObjectName((1848653618))))
endif
if VT then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Single Draft"+"|r:                 "+(GetObjectName((1848653639))))
endif
if E4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"All Random"+"|r:          "+(GetObjectName((1848653617))))
endif
if A8 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Vote Random"+"|r:         "+(GetObjectName((1848653620))))
endif
if O4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Team Random"+"|r:     "+(GetObjectName((1848653389))))
endif
if O9 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Reverse"+"|r:                 "+(GetObjectName((1848653619))))
endif
if ge then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Shuffle Players"+"|r:     "+(GetObjectName((1848653640))))
endif
if Rx then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"All Agility"+"|r:             "+(GetObjectName((1848653644))))
endif
if bx then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"All Strength"+"|r:         "+(GetObjectName((1848653643))))
endif
if Nx then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"All Intelligence"+"|r:    "+(GetObjectName((1848653642))))
endif
if Jj then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Range Only"+"|r:    "+(GetObjectName((1848657716))))
endif
if lj then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Melee Only"+"|r:    "+(GetObjectName((1848657717))))
endif
if X8 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Duplicate Mode"+"|r:   "+(GetObjectName((1848653641))))
endif
if R4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Item Drop"+"|r:             "+(GetObjectName((1848653638))))
endif
if A4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"No Powerups"+"|r:        "+(GetObjectName((1848653645))))
endif
if C4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Super Creeps"+"|r:        "+(GetObjectName((1848653646))))
call DisplayTimedTextToPlayer(j8,0,E9,20,"                             "+(GetObjectName((1848653647))))
endif
if Y4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Easy Mode"+"|r:           "+(GetObjectName((1848653652))))
endif
if H34 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Same Hero"+"|r:           "+(GetObjectName((1848653653)))+" "+(KZ4[GetPlayerId((Le))])+"|r"+" "+(GetObjectName((1848653655))))
endif
if PE4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Only Mid"+"|r:           "+(GetObjectName((1848653872))))
endif
if PF4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"No Bot"+"|r:           "+(GetObjectName((1848653654))))
endif
if PG4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"No Mid"+"|r:           "+(GetObjectName((1848653651))))
endif
if PH4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"No Top"+"|r:           "+(GetObjectName((1848653650))))
endif
if PI4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"No Swap"+"|r:           "+(GetObjectName((1848653656))))
endif
if PJ4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"No Repick"+"|r:           "+(GetObjectName((1848653649))))
endif
if PK4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Pool Mode"+"|r:           "+(GetObjectName((1848653657))))
endif
if PM4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Observer Info"+"|r:           "+(GetObjectName((1848653658))))
endif
if bN then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Mini Heroes"+"|r:           "+(GetObjectName((1848657219))))
endif
if LS then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Fast Respawn"+"|r:           "+(GetObjectName((1848656976))))
endif
if SN4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Captains Mode"+"|r:           "+(GetObjectName((1848657220))))
endif
if DT then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Experimental Runes"+"|r:           "+(GetObjectName((1848657718))))
endif
if O54 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Captains Draft"+"|r:           "+(GetObjectName((1848657734))))
endif
if Y8 then
call DisplayTimedTextToPlayer(j8,0,E9,20,SM9+"Normal Mode"+"|r:        "+(GetObjectName((1848653648))))
endif
if ZT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F27+"Super Tower|r:         Towers regenerates HP")
endif
if AT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F27+"Modified Super Creeps|r:  An improved version of Super Creeps")
endif
if BT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F27+"High Exp AI|r:            The AI has increased experience gain.")
endif
if LT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F27+"Normal Exp AI|r:       The AI receives the default amount of experience.")
endif
if EU then
call DisplayTimedTextToPlayer(j8,0,E9,20,F27+"Dynamic Exp AI|r:       AI gets bonus exp rate on death or on a period without death/kill/assist. Bonus exp is reduced on kill/assist.")
endif
if CT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F27+"High Gold AI|r:           The AI has increased gold gain.")
endif
if WT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F27+"Normal Gold AI|r:      The AI receives the default amount of gold.")
endif
if FU then
call DisplayTimedTextToPlayer(j8,0,E9,20,F27+"Dynamic Gold AI|r:       AI gets bonus gold rate on death or on a period without death/kill/assist. Bonus gold rate reduced on kill/assist.")
endif
if ED7 then
call DisplayTimedTextToPlayer(j8,0,E9,20,F27+"Xtreme AI|r:          Increases bonuses from Dynamic Exp and Gold.")
endif
if T64 then
call DisplayTimedTextToPlayer(j8,0,E9,20,F27+"Cool Names|r:          The AI receives a random cool name.")
endif
if TL4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,F27+"All Dagon|r:          The AI receives random level Dagon at random times.")
endif
if XT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F27+"No Necronomicon|r:    The AI will not build Necronomicon.")
endif
endfunction
function P5 takes nothing returns nothing
if((GetUnitTypeId(GetEnumUnit())==1848651828)or(GetUnitTypeId(GetEnumUnit())==1865429043))then
call RemoveUnit(GetEnumUnit())
endif
endfunction
function SN9 takes unit u1,unit u2 returns nothing
local player SO9=GetOwningPlayer(u1)
local player SP9=GetOwningPlayer(u2)
local unit SQ9=CreateUnit(SO9,1697657158,0,0,0)
local group g
local item SR9
local integer SS9
set EZ7="B0v"
set SS9=VG4[GetPlayerId(SO9)]
set VG4[GetPlayerId(SO9)]=VG4[GetPlayerId(SP9)]
set VG4[GetPlayerId(SP9)]=SS9
call DisableTrigger(H94)
if GetUnitAbilityLevel(u1,1093677893)>0 then
set B2=u1
set C2=u2
call ExecuteFunc("ST9")
elseif GetUnitAbilityLevel(u2,1093677893)>0 then
set B2=u2
set C2=u1
call ExecuteFunc("ST9")
endif
if GetUnitAbilityLevel(u1,1093682009)>0 then
set B2=u1
set C2=u2
call ExecuteFunc("SU9")
elseif GetUnitAbilityLevel(u2,1093682009)>0 then
set B2=u2
set C2=u1
call ExecuteFunc("SU9")
endif
if GetUnitAbilityLevel(u1,1093743444)>0 then
set B2=u1
set C2=u2
call ExecuteFunc("SV9")
elseif GetUnitAbilityLevel(u2,1093743444)>0 then
set B2=u2
set C2=u1
call ExecuteFunc("SV9")
endif
call T97(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u1)))))
call T97(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u2)))))
set g=LD7()
set bj_groupEnumOwningPlayer=SO9
call GroupEnumUnitsInRect(g,GetWorldBounds(),filterGetUnitsInRectOfPlayer)
call ForGroup(g,function P5)
call L97(g)
set g=LD7()
set bj_groupEnumOwningPlayer=SP9
call GroupEnumUnitsInRect(g,GetWorldBounds(),filterGetUnitsInRectOfPlayer)
call ForGroup(g,function P5)
call L97(g)
call SetUnitOwner(u2,SO9,true)
call SetUnitOwner(u1,SP9,true)
set M7[GetPlayerId(SO9)]=u2
set M7[GetPlayerId(SP9)]=u1
if AK7(SO9)then
call SetPlayerName(SO9,CE7(SO9))
else
call SetPlayerName(SO9,CE7(SO9)+" ("+CY7(M7[GetPlayerId(SO9)])+")")
endif
if AK7(SP9)then
call SetPlayerName(SP9,CE7(SP9))
else
call SetPlayerName(SP9,CE7(SP9)+" ("+CY7(M7[GetPlayerId(SP9)])+")")
endif
call UnitAddItem(SQ9,UnitItemInSlot(u2,0))
call UnitAddItem(SQ9,UnitItemInSlot(u2,1))
call UnitAddItem(SQ9,UnitItemInSlot(u2,2))
call UnitAddItem(SQ9,UnitItemInSlot(u2,3))
call UnitAddItem(SQ9,UnitItemInSlot(u2,4))
call UnitAddItem(SQ9,UnitItemInSlot(u2,5))
set SR9=UnitItemInSlot(u1,0)
if SR9!=null then
call SetItemPlayer(SR9,SO9,false)
call SetItemUserData(SR9,1)
call UnitAddItem(u2,SR9)
endif
set SR9=UnitItemInSlot(u1,1)
if SR9!=null then
call SetItemPlayer(SR9,SO9,false)
call SetItemUserData(SR9,1)
call UnitAddItem(u2,SR9)
endif
set SR9=UnitItemInSlot(u1,2)
if SR9!=null then
call SetItemPlayer(SR9,SO9,false)
call SetItemUserData(SR9,1)
call UnitAddItem(u2,SR9)
endif
set SR9=UnitItemInSlot(u1,3)
if SR9!=null then
call SetItemPlayer(SR9,SO9,false)
call SetItemUserData(SR9,1)
call UnitAddItem(u2,SR9)
endif
set SR9=UnitItemInSlot(u1,4)
if SR9!=null then
call SetItemPlayer(SR9,SO9,false)
call SetItemUserData(SR9,1)
call UnitAddItem(u2,SR9)
endif
set SR9=UnitItemInSlot(u1,5)
if SR9!=null then
call SetItemPlayer(SR9,SO9,false)
call SetItemUserData(SR9,1)
call UnitAddItem(u2,SR9)
endif
set SR9=UnitItemInSlot(SQ9,0)
if SR9!=null then
call SetItemPlayer(SR9,SP9,false)
call SetItemUserData(SR9,1)
call UnitAddItem(u1,SR9)
endif
set SR9=UnitItemInSlot(SQ9,1)
if SR9!=null then
call SetItemPlayer(SR9,SP9,false)
call SetItemUserData(SR9,1)
call UnitAddItem(u1,SR9)
endif
set SR9=UnitItemInSlot(SQ9,2)
if SR9!=null then
call SetItemPlayer(SR9,SP9,false)
call SetItemUserData(SR9,1)
call UnitAddItem(u1,SR9)
endif
set SR9=UnitItemInSlot(SQ9,3)
if SR9!=null then
call SetItemPlayer(SR9,SP9,false)
call SetItemUserData(SR9,1)
call UnitAddItem(u1,SR9)
endif
set SR9=UnitItemInSlot(SQ9,4)
if SR9!=null then
call SetItemPlayer(SR9,SP9,false)
call SetItemUserData(SR9,1)
call UnitAddItem(u1,SR9)
endif
set SR9=UnitItemInSlot(SQ9,5)
if SR9!=null then
call SetItemPlayer(SR9,SP9,false)
call SetItemUserData(SR9,1)
call UnitAddItem(u1,SR9)
endif
call RemoveUnit(SQ9)
call EnableTrigger(H94)
if(IsUnitType(u1,UNIT_TYPE_MELEE_ATTACKER)==true or GetUnitTypeId(u1)==1211119187)and SK7(u1,ZU[GB])!=null then
call UnitRemoveItem(u1,SK7(u1,ZU[GB]))
elseif(IsUnitType(u1,UNIT_TYPE_RANGED_ATTACKER)==true or GetUnitTypeId(u1)==1211119187)and SK7(u1,ZU[BA])!=null then
call UnitRemoveItem(u1,SK7(u1,ZU[BA]))
endif
if(IsUnitType(u2,UNIT_TYPE_MELEE_ATTACKER)==true or GetUnitTypeId(u1)==1211119187)and SK7(u2,ZU[GB])!=null then
call UnitRemoveItem(u1,SK7(u2,ZU[GB]))
elseif(IsUnitType(u2,UNIT_TYPE_RANGED_ATTACKER)==true or GetUnitTypeId(u1)==1211119187)and SK7(u2,ZU[BA])!=null then
call UnitRemoveItem(u1,SK7(u2,ZU[BA]))
endif
if GetUnitTypeId(u1)==1211119187 and SK7(u1,ZU[BA])!=null then
call UnitRemoveItem(u1,SK7(u1,ZU[BA]))
elseif GetUnitTypeId(u1)==1211119187 and SK7(u1,ZU[GB])!=null then
call UnitRemoveItem(u1,SK7(u1,ZU[GB]))
endif
if GetUnitTypeId(u2)==1211119187 and SK7(u2,ZU[BA])!=null then
call UnitRemoveItem(u2,SK7(u2,ZU[BA]))
elseif GetUnitTypeId(u2)==1211119187 and SK7(u2,ZU[GB])!=null then
call UnitRemoveItem(u2,SK7(u2,ZU[GB]))
endif
if(IsUnitType(u1,UNIT_TYPE_MELEE_ATTACKER)==true)and SK7(u1,ZU[DX4])!=null then
call UnitRemoveItem(u1,SK7(u1,ZU[DX4]))
elseif(IsUnitType(u1,UNIT_TYPE_RANGED_ATTACKER)==true)and SK7(u1,ZU[DW4])!=null then
call UnitRemoveItem(u1,SK7(u1,ZU[DW4]))
endif
if(IsUnitType(u2,UNIT_TYPE_MELEE_ATTACKER)==true)and SK7(u2,ZU[DX4])!=null then
call UnitRemoveItem(u1,SK7(u2,ZU[DX4]))
elseif(IsUnitType(u2,UNIT_TYPE_RANGED_ATTACKER)==true)and SK7(u2,ZU[DW4])!=null then
call UnitRemoveItem(u1,SK7(u2,ZU[DW4]))
endif
call ClearSelectionForPlayer(SO9)
call SelectUnitAddForPlayer(u2,SO9)
call ClearSelectionForPlayer(SP9)
call SelectUnitAddForPlayer(u1,SP9)
call T97(StringHash("SwapHero|"+I2S(GetPlayerId(SO9))))
call T97(StringHash("SwapHero|"+I2S(GetPlayerId(SP9))))
set IN4=u1
call ExecuteFunc("XP8")
set IN4=u2
call ExecuteFunc("XP8")
call IN8(SO9)
call IN8(SP9)
if(GetPlayerController(SP9)==MAP_CONTROL_COMPUTER)then
call TJ7(R44,"AIHSwap|U",u1)
call ExecuteFunc("Uf")
endif
set SO9=null
set SP9=null
set g=null
set SQ9=null
set SR9=null
endfunction
function yM takes unit u1,unit u2 returns boolean
return UE7(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u2)))),I2S(GetUnitTypeId(u2))+"|"+I2S(GetUnitTypeId(u1)))
endfunction
function YL takes nothing returns nothing
call T97(StringHash("SwapHero|"+I2S(GetPlayerId(GetTriggerPlayer()))))
endfunction
function qA takes player p returns integer
local integer i=1
set EZ7="qA"
loop
exitwhen i>5
if Z7[i]==p or A7[i]==p then
return i
endif
set i=i+1
endloop
return-1
endfunction
function YT takes unit u1,unit u2 returns boolean
call TI7(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u1)))),I2S(GetUnitTypeId(u1))+"|"+I2S(GetUnitTypeId(u2)),true)
if yM(u1,u2)then
call SN9(u1,u2)
else
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,30,"  ")
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,30,"|cff99ccffYou have requested to swap with |r"+Q[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r")
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,30,"  ")
if(GetPlayerController(GetOwningPlayer(u2))==MAP_CONTROL_USER)then
call DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,E9,30,"  ")
call DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,E9,30,"                         "+Q[GetPlayerId(GetOwningPlayer(u1))]+GetUnitName(u1)+"|r |cff99ccffwants to swap with you. Type|r |c00ff0303-swap "+I2S(qA(GetOwningPlayer(u1)))+"|r |cff99ccffto accept|r")
call DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,E9,30,"  ")
else
if(GetHeroSkillPoints(u1)!=GetHeroLevel(u1))then
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,10,"
                |cff99ccffRequest to swap with |r"+Q[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because you used a skill point")
elseif(Bz>QD4)then
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,10,"
                |cff99ccffRequest to swap with |r"+Q[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because it is too late")
elseif((hG[GetPlayerId(GetOwningPlayer(u2))]>0)or(not SI7(u2)))then
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,10,"
                |cff99ccffRequest to swap with |r"+Q[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because it already started its item build")
elseif(not SI7(u1))then
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,10,"
                |cff99ccffRequest to swap with |r"+Q[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because you have an item")
else
call SN9(u1,u2)
endif
endif
endif
return false
endfunction
function YV takes nothing returns nothing
local integer i=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))
set EZ7="YV"
if GetEventPlayerChatString()=="-swapall" then
set i=1
set IP4=M7[GetPlayerId(GetTriggerPlayer())]
loop
exitwhen i>5
if AG7(GetTriggerPlayer())then
set IR4=Z7[i]
else
set IR4=A7[i]
endif
set IN4=M7[GetPlayerId(IR4)]
if not(IP4==null or GetOwningPlayer(IP4)!=GetTriggerPlayer()or IN4==null or GetOwningPlayer(IN4)!=IR4 or IR4==GetTriggerPlayer())then
if YT(IP4,IN4)then
return
endif
endif
set i=i+1
endloop
return
elseif i<1 or i>5 then
call DQ8(GetTriggerPlayer(),"Invalid swap selection")
return
endif
set IP4=M7[GetPlayerId(GetTriggerPlayer())]
if AG7(GetTriggerPlayer())then
set IR4=Z7[i]
else
set IR4=A7[i]
endif
set IN4=M7[GetPlayerId(IR4)]
if IP4==null or GetOwningPlayer(IP4)!=GetTriggerPlayer()or IN4==null or GetOwningPlayer(IN4)!=IR4 or IR4==GetTriggerPlayer()then
call DQ8(GetTriggerPlayer(),"Invalid swap selection")
return
endif
call YT(IP4,IN4)
endfunction
function Y2 takes nothing returns nothing
local integer i
local player p
local unit u
local string s
set EZ7="Y2"
if GetLocalPlayer()==GetTriggerPlayer()then
call ClearTextMessages()
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45,"|cff99ccffSwap Hero Options:|r")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45," ")
set i=1
loop
exitwhen i>5
set p=Z7[i]
set u=M7[GetPlayerId(p)]
if IsPlayerAlly(GetTriggerPlayer(),p)and GetTriggerPlayer()!=p and u!=null and GetOwningPlayer(u)==p then
set s=" "
if yM(M7[GetPlayerId(GetTriggerPlayer())],u)then
set s=" |c00ff0303(Requested Swap With You)|r"
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45,Q[GetPlayerId(p)]+I2S(i)+"|r"+" - "+"|cff99ccff"+GetUnitName(u)+"|r"+s)
endif
set p=A7[i]
set u=M7[GetPlayerId(p)]
if IsPlayerAlly(GetTriggerPlayer(),p)and GetTriggerPlayer()!=p and u!=null and GetOwningPlayer(u)==p then
set s=" "
if yM(M7[GetPlayerId(GetTriggerPlayer())],u)then
set s=" |c00ff0303(Requested Swap With You)|r"
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45,Q[GetPlayerId(p)]+I2S(i)+"|r"+" - "+"|cff99ccff"+GetUnitName(u)+"|r"+s)
endif
set i=i+1
endloop
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45," ")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45,"|cff99ccffType|r |c00ff0303-swap #|r |cff99ccffto make a choice or -swapcancel to cancel swap requests|r")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45," ")
endfunction
function SW9 takes player O57 returns boolean
local integer SX9=1
local integer SY9=0
set EZ7="B7v"
loop
exitwhen SX9>5
if AG7(O57)then
if M7[GetPlayerId(Z7[SX9])]!=null and Z7[SX9]!=O57 and GetHeroLevel(M7[GetPlayerId(Z7[SX9])])==1 then
set SY9=SY9+1
endif
else
if M7[GetPlayerId(A7[SX9])]!=null and A7[SX9]!=O57 and GetHeroLevel(M7[GetPlayerId(A7[SX9])])==1 then
set SY9=SY9+1
endif
endif
set SX9=SX9+1
endloop
if SY9>0 then
return true
else
return false
endif
endfunction
function SZ9 takes nothing returns boolean
if PI4 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,"-swaphero "+(GetObjectName((1848653880))))
return false
endif
if GetUnitState(M7[GetPlayerId(GetTriggerPlayer())],UNIT_STATE_LIFE)<1 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653894))))
return false
endif
if N54==true then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653895)))+" -swaphero.")
return false
endif
if SW9(GetTriggerPlayer())==false then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653896))))
return false
endif
return true
endfunction
function QY9 takes nothing returns nothing
if SZ9()then
if GetEventPlayerChatString()=="-swap"or GetEventPlayerChatString()=="-swaphero"then
call Y2()
elseif GetEventPlayerChatString()=="-swapcancel"then
call YL()
else
call YV()
endif
endif
endfunction
function SA9 takes nothing returns boolean
return GetSpellAbilityId()==1093682761
endfunction
function SB9 takes integer o6,unit SC9,unit S39 returns nothing
local integer T8=1
local integer U8=GetUnitAbilityLevel(SC9,o6)
set EZ7="cev"
loop
exitwhen T8>U8
call SelectHeroSkill(S39,o6)
set T8=T8+1
endloop
endfunction
function S69 takes nothing returns nothing
local integer T8
local integer U8
local unit S4
local location JV9=GetUnitLoc(GetTriggerUnit())
set EZ7="S69"
set S4=CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),GetUnitTypeId(GetTriggerUnit()),JV9,bj_UNIT_FACING)
call SetHeroXP(S4,GetHeroXP(GetTriggerUnit()),false)
set T8=1
set U8=GetUnitAbilityLevel(GetTriggerUnit(),1096904043)
loop
exitwhen T8>U8
call SelectHeroSkill(bj_lastCreatedUnit,1096904043)
set T8=T8+1
endloop
set T8=0
set U8=5
loop
exitwhen T8>U8
call UnitAddItem(S4,UnitItemInSlot(GetTriggerUnit(),T8))
set T8=T8+1
endloop
if(GetUnitTypeId(GetTriggerUnit())==1164277353)then
call SB9(1093815130,GetTriggerUnit(),S4)
call SB9(1093683252,GetTriggerUnit(),S4)
call SB9(1093751369,GetTriggerUnit(),S4)
call SB9(1093678929,GetTriggerUnit(),S4)
endif
if(GetUnitTypeId(GetTriggerUnit())==1429221432)then
call SB9(1093677892,GetTriggerUnit(),S4)
call SB9(1093677639,GetTriggerUnit(),S4)
call SB9(1093677893,GetTriggerUnit(),S4)
call SB9(1093679411,GetTriggerUnit(),S4)
endif
if(GetUnitTypeId(GetTriggerUnit())==1429221431)then
call SB9(1093682745,GetTriggerUnit(),S4)
call SB9(1093678681,GetTriggerUnit(),S4)
call SB9(1093677381,GetTriggerUnit(),S4)
call SB9(1093677624,GetTriggerUnit(),S4)
endif
if(GetUnitTypeId(GetTriggerUnit())==1215063922)then
call SB9(1093677895,GetTriggerUnit(),S4)
call SB9(1093677894,GetTriggerUnit(),S4)
call SB9(1093685043,GetTriggerUnit(),S4)
call SB9(1095068013,GetTriggerUnit(),S4)
endif
if(GetUnitTypeId(GetTriggerUnit())==1164666213)then
call SB9(1093677877,GetTriggerUnit(),S4)
call SB9(1093678679,GetTriggerUnit(),S4)
call SB9(1093678678,GetTriggerUnit(),S4)
call SB9(1093808454,GetTriggerUnit(),S4)
endif
call D38(GetTriggerUnit())
call RemoveLocation(JV9)
set JV9=null
set M7[GetPlayerId(GetOwningPlayer(S4))]=S4
endfunction
function SL9 takes nothing returns boolean
local integer S19=GetUnitTypeId(M7[GetPlayerId(GetTriggerPlayer())])
set EZ7="SL9"
return(S19==1429221432 or S19==1429221431 or S19==1215063922 or S19==1164277353 or S19==1164666213)and(RectContainsUnit(OD,M7[GetPlayerId(GetTriggerPlayer())])or RectContainsUnit(PD,M7[GetPlayerId(GetTriggerPlayer())]))
endfunction
function S09 takes nothing returns nothing
local unit C17=M7[GetPlayerId(GetTriggerPlayer())]
set EZ7="S09"
call UnitAddAbility(C17,1093682761)
call IssueImmediateOrder(C17,"chemicalrage")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,120.00,"|c00ff0303"+(GetObjectName((1848653897)))+" "+CY7(GetEnumUnit())+". "+(GetObjectName((1848653898)))+"|r")
endfunction
function QZ9 takes nothing returns nothing
if SL9()then
call S09()
endif
endfunction
function S59 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local integer BX8=GetTriggerEvalCount(t)
local real x
local real y
set EZ7="S59"
if GetTriggerEventId()==EVENT_UNIT_DEATH or BX8>60 then
if UJ7(C17,"Frozen")==false then
if AG7(GetOwningPlayer(C17))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
call SetUnitPosition(C17,x,y)
call PauseUnit(C17,false)
endif
call T97(US7)
call UQ7(t)
else
call PauseUnit(C17,true)
endif
set t=null
set C17=null
return false
endfunction
function S29 takes player p returns nothing
local unit C17=M7[GetPlayerId(p)]
local trigger t
set EZ7="cEv"
if L17(C17)==false then
set t=CreateTrigger()
call DisplayTimedTextToPlayer(p,0,E9,30.0,(GetObjectName((1848653899))))
call UnitRemoveBuffs(C17,true,false)
call UnitRemoveAbility(C17,1113815395)
call UnitRemoveAbility(C17,1113815346)
call UnitRemoveAbility(C17,1110454858)
call UnitRemoveAbility(C17,1112896368)
call UnitRemoveAbility(C17,1114993524)
call UnitRemoveAbility(C17,1110454854)
call PauseUnit(C17,true)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function S59))
call TJ7(GetHandleId(t),"Hero",C17)
endif
set p=null
set C17=null
set t=null
endfunction
function S_9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local player p=TL7(US7,"p")
set EZ7="S_9"
call T97(US7)
call UQ7(t)
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call S29(p)
endif
set t=null
return false
endfunction
function QA9 takes nothing returns nothing
local player p=GetTriggerPlayer()
local unit C17=M7[GetPlayerId(p)]
local trigger t
set EZ7="QA9"
if L17(C17)==false then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,3.5,false)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function S_9))
call TQ7(GetHandleId(t),"p",p)
endif
set p=null
set C17=null
set t=null
endfunction
function T49 takes player p returns nothing
local unit C17=M7[GetPlayerId(p)]
local trigger t
set EZ7="cOv"
if L17(C17)==false then
set t=CreateTrigger()
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.0,Q[GetPlayerId(p)]+GetPlayerName(p)+"|r is being unstuck. It will be sent to its base in 60 seconds.")
call UnitRemoveBuffs(C17,true,false)
call UnitRemoveAbility(C17,1113815395)
call UnitRemoveAbility(C17,1113815346)
call UnitRemoveAbility(C17,1110454858)
call UnitRemoveAbility(C17,1112896368)
call UnitRemoveAbility(C17,1114993524)
call UnitRemoveAbility(C17,1110454854)
call PauseUnit(C17,true)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function S59))
call TJ7(GetHandleId(t),"Hero",C17)
endif
set p=null
set C17=null
set t=null
endfunction
function RL9 takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local player pl=RZ7(S2I(SubString(VH,10,StringLength(VH))))
set EZ7="RL9"
if((pl!=null)and(AM7(pl))and(IsPlayerInForce(pl,QX4)))then
if(M7[GetPlayerId(pl)]==null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r has no Hero")
else
call T49(pl)
endif
endif
set pl=null
endfunction
function T79 takes player p returns string
local string s=C9[GetPlayerId(p)]
set EZ7="cRv"
if C9[GetPlayerId(p)]!="Here" then
return" |c00ff0303("+(GetObjectName((1848653881)))+" at "+SubString(s,10,StringLength(s))+"|c00ff0303)|r"
endif
return" "
endfunction
function QB9 takes nothing returns nothing
local integer T8=1
local integer U8=5
local integer D5
set EZ7="QB9"
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,20," ")
if(AH7(GetTriggerPlayer())==true)then
loop
exitwhen T8>U8
set D5=GetPlayerId(Z7[T8])
if(M7[D5]!=null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,20,Q[D5]+(KZ4[GetPlayerId((Z7[T8]))])+"|r "+(GetObjectName((1848653901)))+" "+GetUnitName(M7[D5])+" ("+(GetObjectName((1848653900)))+" "+I2S(GetUnitLevel(M7[D5]))+")"+T79(Z7[T8]))
endif
set T8=T8+1
endloop
else
loop
exitwhen T8>U8
set D5=GetPlayerId(A7[T8])
if(M7[D5]!=null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,20,Q[D5]+(KZ4[GetPlayerId((A7[T8]))])+"|r "+(GetObjectName((1848653901)))+" "+GetUnitName(M7[D5])+" ("+(GetObjectName((1848653900)))+" "+I2S(GetUnitLevel(M7[D5]))+")"+T79(A7[T8]))
endif
set T8=T8+1
endloop
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,20," ")
endfunction
function T89 takes unit u returns boolean
return GetUnitTypeId(u)==1311781199 or GetUnitTypeId(u)==1311781171 or GetUnitTypeId(u)==1311781172 or GetUnitTypeId(u)==1311781173
endfunction
function T99 takes unit u returns unit
local integer PP7=GetHandleId(GetOwningPlayer(u))
set EZ7="Command_Movespeed_GetBear"
return(T37(PP7,"MyBear"))
endfunction
function QC9 takes nothing returns nothing
local unit u
local integer i=0
set EZ7="QC9"
if Y54 then
return
endif
if(M7[GetPlayerId(GetTriggerPlayer())]==null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848653889))))
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetUnitName(M7[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName((1848653902)))+" "+I2S(R2I(0.5+GetUnitMoveSpeed(M7[GetPlayerId(GetTriggerPlayer())]))))
if T89(M7[GetPlayerId(GetTriggerPlayer())])then
set u=T99(M7[GetPlayerId(GetTriggerPlayer())])
if u!=null then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetUnitName(u)+" "+(GetObjectName((1848653902)))+" "+I2S(R2I(0.5+GetUnitMoveSpeed(u))))
endif
endif
endif
endfunction
function Q39 takes nothing returns nothing
local unit u
local integer i=0
set EZ7="Q39"
if Y54 then
return
endif
if(M7[GetPlayerId(GetTriggerPlayer())]==null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848653889))))
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetUnitName(M7[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName((1848653902)))+" "+I2S(R2I(0.5+GetUnitMoveSpeed(M7[GetPlayerId(GetTriggerPlayer())]))))
if T89(M7[GetPlayerId(GetTriggerPlayer())])then
set u=T99(M7[GetPlayerId(GetTriggerPlayer())])
if u!=null then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetUnitName(u)+" "+GetObjectName(1848653902)+" "+I2S(R2I(0.5+GetUnitMoveSpeed(u))))
endif
endif
endif
loop
exitwhen i>16
set u=M7[i]
if u!=null and u!=M7[GetPlayerId(GetTriggerPlayer())]and IsUnitAlly(u,GetTriggerPlayer())==true then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetUnitName(u)+" "+GetObjectName(1848653902)+" "+I2S(R2I(0.5+GetUnitMoveSpeed(u))))
endif
set i=i+1
endloop
endfunction
function Q69 takes nothing returns nothing
call TI7(GetHandleId(GetTriggerPlayer()),"DisableHelp",true)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653906))))
endfunction
function QL9 takes nothing returns nothing
call TI7(GetHandleId(GetTriggerPlayer()),"DisableHelp",false)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653903))))
endfunction
function Q19 takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,"   "+(GetObjectName((1848653904)))+" "+I2S(T7[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName((1848653905)))+" "+I2S(U7[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName((1848653907)))+" "+I2S(MU[GetPlayerId(GetTriggerPlayer())]))
endfunction
function Q09 takes nothing returns nothing
local integer x=GetPlayerId(GetTriggerPlayer())
set EZ7="Q09"
if(GetEventPlayerChatString()=="-cson")then
set AW[x]=true
set ob[x]=true
else
set AW[x]=false
set ob[x]=false
endif
call XY8()
endfunction
function TD9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer i=(LoadInteger(L7,(US7),(34)))
local real x
local real y
set EZ7="TD9"
if Ob[i]==false then
call FlushChildHashtable(L7,(US7))
call UQ7(t)
elseif M7[i]!=null and L17(M7[i])==false then
set x=GetUnitX(M7[i])
set y=GetUnitY(M7[i])
call PanCameraToTimedForPlayer(Player(i),x,y,0)
endif
set t=null
return false
endfunction
function RW9 takes nothing returns nothing
local integer x=GetPlayerId(GetTriggerPlayer())
local trigger t
local integer US7
local integer i
set EZ7="RW9"
if Ob[x]==false and(GetEventPlayerChatString()=="-center" or GetEventPlayerChatString()=="-c")then
set Ob[x]=true
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function TD9))
call SaveInteger(L7,(US7),(34),(x))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName(1848658519))
elseif GetEventPlayerChatString()=="-centeroff" or GetEventPlayerChatString()=="-co" then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName(1848658520))
set Ob[x]=false
endif
endfunction
function RX9 takes nothing returns nothing
set Ab[GetPlayerId(GetTriggerPlayer())]=false
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5,GetObjectName(1848658522))
endfunction
function RY9 takes nothing returns nothing
set Ab[GetPlayerId(GetTriggerPlayer())]=true
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5,GetObjectName(1848658736))
endfunction
function qL takes nothing returns nothing
local integer i=1
local integer G59
local integer QV7
set EZ7="qL"
loop
exitwhen i>5
set QV7=GetPlayerId(Z7[i])
set G59=R2I(TimerGetRemaining(U[QV7]))
if G59>0 and OL4[QV7]and P94==false and D9==false then
call PlayerSetLeaderboard(Z7[i],gm[QV7])
call LeaderboardDisplay(gm[QV7],true)
call LeaderboardSetLabel(gm[QV7],"   Respawn in "+I2S(G59)+" seconds")
else
call LeaderboardDisplay(gm[QV7],false)
endif
set QV7=GetPlayerId(A7[i])
set G59=R2I(TimerGetRemaining(U[QV7]))
if G59>0 and OL4[QV7]and P94==false and D9==false then
call PlayerSetLeaderboard(A7[i],gm[QV7])
call LeaderboardDisplay(gm[QV7],true)
call LeaderboardSetLabel(gm[QV7],"   Respawn in "+I2S(G59)+" seconds")
else
call LeaderboardDisplay(gm[QV7],false)
endif
set i=i+1
endloop
endfunction
function qM takes nothing returns nothing
local integer x=0
set EZ7="qM"
set x=x+1
set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])
call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")
set gm[GetPlayerId(A7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(A7[x],gm[GetPlayerId(A7[x])])
call LeaderboardDisplay(gm[GetPlayerId(A7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(A7[x])],"Respawn: ")
set x=x+1
set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])
call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")
set gm[GetPlayerId(A7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(A7[x],gm[GetPlayerId(A7[x])])
call LeaderboardDisplay(gm[GetPlayerId(A7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(A7[x])],"Respawn: ")
set x=x+1
set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])
call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")
set gm[GetPlayerId(A7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(A7[x],gm[GetPlayerId(A7[x])])
call LeaderboardDisplay(gm[GetPlayerId(A7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(A7[x])],"Respawn: ")
set x=x+1
set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])
call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")
set gm[GetPlayerId(A7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(A7[x],gm[GetPlayerId(A7[x])])
call LeaderboardDisplay(gm[GetPlayerId(A7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(A7[x])],"Respawn: ")
set x=x+1
set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])
call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")
set gm[GetPlayerId(A7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(A7[x],gm[GetPlayerId(A7[x])])
call LeaderboardDisplay(gm[GetPlayerId(A7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(A7[x])],"Respawn: ")
endfunction
function R89 takes nothing returns nothing
local integer x=GetPlayerId(GetTriggerPlayer())
set EZ7="R89"
if GetEventPlayerChatString()=="-don" or GetEventPlayerChatString()=="-deathon" then
set OL4[x]=true
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653911))))
else
set OL4[x]=false
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653912))))
endif
endfunction
function TE9 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TE9"
call TriggerAddAction(t,function qM)
call TriggerRegisterTimerEvent(t,.5,false)
set t=CreateTrigger()
call TriggerAddAction(t,function qL)
call TriggerRegisterTimerEvent(t,1.,true)
endfunction
function R49 takes nothing returns nothing
if(GetEventPlayerChatString()=="-showdeny")then
set ob[GetPlayerId(GetTriggerPlayer())]=true
else
set ob[GetPlayerId(GetTriggerPlayer())]=false
endif
endfunction
function R79 takes nothing returns nothing
call DQ8(GetTriggerPlayer(),(GetObjectName((1848657991))))
endfunction
function TF9 takes nothing returns nothing
local integer i=0
set EZ7="TF9"
loop
exitwhen i>16
set ob[i]=true
set AW[i]=true
set i=i+1
endloop
endfunction
function Q59 takes nothing returns nothing
call ForceRemovePlayer(L8,GetTriggerPlayer())
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653909))))
endfunction
function Q29 takes nothing returns nothing
call ForceAddPlayer(L8,GetTriggerPlayer())
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653914))))
endfunction
function qN takes nothing returns boolean
local integer x=GetRandomInt(1,4)
set EZ7="qN"
if x==1 then
set BW=bo
elseif x==2 then
set BW=Bo
elseif x==3 then
set BW=fL
elseif x==4 then
set BW=FL
endif
if cW[GetPlayerId(GetLocalPlayer())]then
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,false)
call EnableWeatherEffect(BW,true)
endif
return false
endfunction
function qo takes nothing returns nothing
local integer x=GetRandomInt(1,4)
local trigger t=CreateTrigger()
set EZ7="qo"
call TriggerRegisterTimerEvent(t,300.,true)
call TriggerAddCondition(t,Condition(function qN))
set cW[GetPlayerId(Z7[1])]=false
set cW[GetPlayerId(Z7[2])]=false
set cW[GetPlayerId(Z7[3])]=false
set cW[GetPlayerId(Z7[4])]=false
set cW[GetPlayerId(Z7[5])]=false
set cW[GetPlayerId(A7[1])]=false
set cW[GetPlayerId(A7[2])]=false
set cW[GetPlayerId(A7[3])]=false
set cW[GetPlayerId(A7[4])]=false
set cW[GetPlayerId(A7[5])]=false
if V8 then
set cW[GetPlayerId(KX4)]=false
set cW[GetPlayerId(KY4)]=false
endif
if x==1 then
set BW=bo
elseif x==2 then
set BW=Bo
elseif x==3 then
set BW=fL
elseif x==4 then
set BW=FL
endif
set t=null
endfunction
function Q_9 takes nothing returns nothing
local string TG9=StringCase(GetEventPlayerChatString(),false)
set EZ7="Q_9"
if bW==true then
set bW=false
call qo()
endif
if TG9=="-weather snow" and GetLocalPlayer()==GetTriggerPlayer()then
set cW[GetPlayerId(GetTriggerPlayer())]=false
call EnableWeatherEffect(bo,true)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,false)
endif
if TG9=="-weather rain" and GetLocalPlayer()==GetTriggerPlayer()then
set cW[GetPlayerId(GetTriggerPlayer())]=false
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,true)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,false)
endif
if TG9=="-weather moonlight" and GetLocalPlayer()==GetTriggerPlayer()then
set cW[GetPlayerId(GetTriggerPlayer())]=false
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,true)
call EnableWeatherEffect(FL,false)
endif
if TG9=="-weather wind" and GetLocalPlayer()==GetTriggerPlayer()then
set cW[GetPlayerId(GetTriggerPlayer())]=false
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,true)
endif
if TG9=="-weather off" and GetLocalPlayer()==GetTriggerPlayer()then
set cW[GetPlayerId(GetTriggerPlayer())]=false
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,false)
endif
if TG9=="-weather random" then
set cW[GetPlayerId(GetTriggerPlayer())]=true
if GetLocalPlayer()==GetTriggerPlayer()then
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,false)
call EnableWeatherEffect(BW,true)
endif
endif
endfunction
function R99 takes nothing returns nothing
local integer a=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))
local integer D5=GetPlayerId(GetTriggerPlayer())
set EZ7="R99"
set vb[D5]=vb[D5]+1
if vb[D5]>20 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName((1848656977))))
return
endif
if GetEventPlayerChatString()=="-rollon" or GetEventPlayerChatString()=="-rolloff" then
return
endif
if a==0 then
set a=100
endif
if a>0 and a<2001 then
call L77(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r "+(GetObjectName((1848653129)))+" "+I2S(GetRandomInt(1,a))+" "+(GetObjectName((1848653133)))+" "+I2S(a))
else
call DQ8(GetTriggerPlayer(),(GetObjectName((1848652377))))
endif
endfunction
function RS9 takes nothing returns nothing
local integer a
set EZ7="RS9"
if GetRandomInt(1,2)==1 then
set a=GetRandomInt(K04,K54)
else
set a=GetRandomInt(KL4,K14)
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName((1848657747)))+" "+CA7(a))
endfunction
function RP9 takes nothing returns nothing
local integer a=S2I(SubString(GetEventPlayerChatString(),4,StringLength(GetEventPlayerChatString())))
set EZ7="RP9"
if GetTriggerPlayer()!=Z7[1]or a>2 or a<1 or SN4==false or TimerGetElapsed(W)>14 or BW4==true then
return
endif
set BC4=a
set B34=a
set BV4=true
if a==1 then
call CG7(bj_FORCE_ALL_PLAYERS,15.00,Q[GetPlayerId(Z7[1])]+(KZ4[GetPlayerId((Z7[1]))])+"|r "+GetObjectName(1848656979))
else
call CG7(bj_FORCE_ALL_PLAYERS,15.00,Q[GetPlayerId(A7[1])]+(KZ4[GetPlayerId((A7[1]))])+"|r "+GetObjectName(1848656979))
endif
endfunction
function RJ9 takes nothing returns nothing
set eb[GetPlayerId(GetTriggerPlayer())]=false
endfunction
function RK9 takes nothing returns nothing
set eb[GetPlayerId(GetTriggerPlayer())]=true
endfunction
function RD9 takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848654128))))
set ib[GetPlayerId(GetTriggerPlayer())]=true
if GetLocalPlayer()==GetTriggerPlayer()then
call SetPlayerName(Z7[1],(KZ4[GetPlayerId((Z7[1]))]))
call SetPlayerName(Z7[2],(KZ4[GetPlayerId((Z7[2]))]))
call SetPlayerName(Z7[3],(KZ4[GetPlayerId((Z7[3]))]))
call SetPlayerName(Z7[4],(KZ4[GetPlayerId((Z7[4]))]))
call SetPlayerName(Z7[5],(KZ4[GetPlayerId((Z7[5]))]))
call SetPlayerName(A7[1],(KZ4[GetPlayerId((A7[1]))]))
call SetPlayerName(A7[2],(KZ4[GetPlayerId((A7[2]))]))
call SetPlayerName(A7[3],(KZ4[GetPlayerId((A7[3]))]))
call SetPlayerName(A7[4],(KZ4[GetPlayerId((A7[4]))]))
call SetPlayerName(A7[5],(KZ4[GetPlayerId((A7[5]))]))
endif
endfunction
function RE9 takes nothing returns nothing
local integer id=GetPlayerId(GetTriggerPlayer())
set EZ7="RE9"
if CW[id]==true then
set CW[id]=false
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName((1848653908))))
else
set CW[id]=true
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName((1848654129))))
endif
endfunction
function RU9 takes nothing returns nothing
local integer id=GetPlayerId(GetTriggerPlayer())
set EZ7="RU9"
set ab[id]=true
endfunction
function RF9 takes nothing returns nothing
local integer i=1
local player p
local real TH9
set EZ7="RF9"
loop
exitwhen i>5
set p=Z7[i]
if AM7(p)then
set TH9=PT[GetPlayerId(p)]/(TimerGetElapsed(W))*60
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00,Q[GetPlayerId(p)]+(KZ4[GetPlayerId((p))])+"|r"+" "+(GetObjectName((1848653876)))+" "+R2S(TH9))
endif
set p=A7[i]
if AM7(p)then
set TH9=PT[GetPlayerId(p)]/(TimerGetElapsed(W))*60
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00,Q[GetPlayerId(p)]+(KZ4[GetPlayerId((p))])+"|r"+" "+(GetObjectName((1848653876)))+" "+R2S(TH9))
endif
set i=i+1
endloop
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00," ")
set p=null
endfunction
function RG9 takes nothing returns nothing
call FM8(GetTriggerPlayer())
endfunction
function TI9 takes nothing returns boolean
return RM7(GetFilterUnit())and GetOwningPlayer(GetFilterUnit())==GetTriggerPlayer()
endfunction
function Courier_Add takes nothing returns nothing
call UnitAddType(GetEnumUnit(),UNIT_TYPE_PEON)
endfunction
function Courier_Remove takes nothing returns nothing
call UnitRemoveType(GetEnumUnit(),UNIT_TYPE_PEON)
endfunction
function RH9 takes nothing returns nothing
local group g=LD7()
set EZ7="RH9"
call GroupEnumUnitsInRange(g,0,0,12000,Condition(function TI9))
call L97(g)
set g=null
endfunction
function RI9 takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656726)))+" [|cffff0000E|r|cffff0000E|r|cffff0000E|r] - [|cffffcc00T|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656725)))+" [|cffff0000E|r|cffff0000E|r|cff00ffffW|r] - [|cffffcc00D|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656724)))+" [|cffff0000E|r|cffff0000E|r|cff0000ffQ|r] - [|cffffcc00F|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656694)))+" [|cff0000ffQ|r|cff0000ffQ|r|cff0000ffQ|r] - [|cffffcc00Y|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656716)))+" [|cff0000ffQ|r|cff0000ffQ|r|cff00ffffW|r] - [|cffffcc00V|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656718)))+" [|cff0000ffQ|r|cff0000ffQ|r|cffff0000E|r] - [|cffffcc00G|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656723)))+" [|cff00ffffW|r|cff00ffffW|r|cffff0000E|r] - [|cffffcc00Z|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656719)))+" [|cff00ffffW|r|cff00ffffW|r|cff0000ffQ|r] - [|cffffcc00X|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656720)))+" [|cff00ffffW|r|cff00ffffW|r|cff00ffffW|r] - [|cffffcc00C|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656721)))+" [|cff0000ffQ|r|cff00ffffW|r|cffff0000E|r] - [|cffffcc00B|r]")
endfunction
function TJ9 takes string s returns nothing
call StopMusic(true)
call PlayMusic(s)
endfunction
function RM9 takes nothing returns nothing
local string s=GetEventPlayerChatString()
local integer BN7=GetRandomInt(1,UT)
set EZ7="RM9"
if GetLocalPlayer()==GetTriggerPlayer()then
if s=="-music off" then
call StopMusic(false)
elseif s=="-music random" then
call TJ9(TT[BN7])
elseif s=="-music nightelf1" then
call TJ9(BP)
elseif s=="-music nightelf2" then
call TJ9(CP)
elseif s=="-music nightelf3" then
call TJ9(GQ)
elseif s=="-music human1" then
call TJ9(IQ)
elseif s=="-music human2" then
call TJ9(JQ)
elseif s=="-music human3" then
call TJ9(YQ)
elseif s=="-music orc1" then
call TJ9(XP)
elseif s=="-music orc2" then
call TJ9(YP)
elseif s=="-music orc3" then
call TJ9(ZP)
elseif s=="-music undead1" then
call TJ9(RP)
elseif s=="-music undead2" then
call TJ9(TP)
elseif s=="-music undead3" then
call TJ9(VP)
elseif s=="-music other1" then
call TJ9(GR)
elseif s=="-music other2" then
call TJ9(HR)
elseif s=="-music other3" then
call TJ9(IR)
elseif s=="-music other4" then
call TJ9(OR)
elseif s=="-music other5" then
call TJ9(XR)
elseif s=="-music other6"then
call TJ9(VM4)
elseif s=="-music other7"then
call TJ9(VN4)
elseif s=="-music other8"then
call TJ9(VO4)
elseif s=="-music other9"then
call TJ9(VP4)
elseif s=="-music special" then
call TJ9(YR)
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656727)))+" ")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,"off, random, nightelf1, nightelf2, nightelf3, human1, human2, human3, orc1, orc2, orc3, undead1, undead2, undead3, other1, other2, other3, other4, other5, other6, other7, other8, other9, special")
endif
endif
endfunction
function TK9 takes nothing returns boolean
set UT=UT+1
set TT[UT]=BP
set UT=UT+1
set TT[UT]=CP
set UT=UT+1
set TT[UT]=GQ
set UT=UT+1
set TT[UT]=IQ
set UT=UT+1
set TT[UT]=JQ
set UT=UT+1
set TT[UT]=YQ
set UT=UT+1
set TT[UT]=XP
set UT=UT+1
set TT[UT]=YP
set UT=UT+1
set TT[UT]=ZP
set UT=UT+1
set TT[UT]=RP
set UT=UT+1
set TT[UT]=TP
set UT=UT+1
set TT[UT]=VP
set UT=UT+1
set TT[UT]=GR
set UT=UT+1
set TT[UT]=HR
set UT=UT+1
set TT[UT]=IR
set UT=UT+1
set TT[UT]=OR
set UT=UT+1
set TT[UT]=XR
set UT=UT+1
set TT[UT]=VM4
set UT=UT+1
set TT[UT]=VN4
set UT=UT+1
set TT[UT]=VO4
set UT=UT+1
set TT[UT]=VP4
set UT=UT+1
set TT[UT]=YR
return false
endfunction
function TM9 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function TK9))
endfunction
function TN9 takes player p,integer r,integer g,integer b,integer a returns nothing
if GetLocalPlayer()==p then
call SetWaterBaseColor(r,g,b,a)
endif
endfunction
function TO9 takes string s returns nothing
local string TP9=""
local string TQ9=""
local string TR9=""
local integer i=0
local integer H_8=StringLength(s)
local integer TS9=1
set EZ7="cdv"
loop
exitwhen i>H_8
if SubString(s,i,i+1)==" " then
set TS9=TS9+1
else
if TS9==1 then
set TP9=TP9+SubString(s,i,i+1)
elseif TS9==2 then
set TQ9=TQ9+SubString(s,i,i+1)
else
set TR9=TR9+SubString(s,i,i+1)
endif
endif
set i=i+1
endloop
set bb=S2I(TP9)
set Bb=S2I(TQ9)
set cb=S2I(TR9)
endfunction
function RN9 takes nothing returns nothing
local string TT9=SubString(GetEventPlayerChatString(),7,StringLength(GetEventPlayerChatString()))
local player p=GetTriggerPlayer()
local integer r
local integer g
local integer b
set EZ7="RN9"
set Nb[GetPlayerId(p)]=true
if TT9=="red" then
call TN9(p,255,0,0,255)
elseif TT9=="blue" then
call TN9(p,0,0,255,255)
elseif TT9=="green" then
call TN9(p,0,255,0,255)
elseif TT9=="default" then
call TN9(p,0,0,255,255)
elseif TT9=="random" then
set r=GetRandomInt(0,255)
set g=GetRandomInt(0,255)
set b=GetRandomInt(0,255)
call TN9(p,r,g,b,255)
call DisplayTimedTextToPlayer(p,0,0,5,(GetObjectName((1848657988)))+" r="+I2S(r)+" g="+I2S(g)+" b="+I2S(b))
else
call TO9(TT9)
set r=bb
set g=Bb
set b=cb
if r>=0 and r<=255 and g>=0 and g<=255 and b>=0 and b<=255 then
call TN9(p,r,g,b,255)
endif
endif
endfunction
function RQ9 takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00,"This command has been temporarily disabled")
endfunction
function RR9 takes nothing returns boolean
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,"Total Bonus XP/Gold: "+I2S(N34[GetPlayerId(GetTriggerPlayer())])+"/"+I2S(N64[GetPlayerId(GetTriggerPlayer())]))
return false
endfunction
function RA9 takes nothing returns boolean
if YC4>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetObjectName(1848659023)+": "+I2S(YC4))
endif
return false
endfunction
function TU9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer TV9=U97(US7,"u1Index")
local integer TW9=U97(US7,"u2Index")
local unit u1=A87(TV9)
local unit u2=A87(TW9)
local real FW8=UD7(US7,"Duration")
local lightning TX9=T_7(US7,"Lightning")
set EZ7="TU9"
if I2R(GetTriggerEvalCount(t))*0.025>FW8 then
call DestroyLightning(TX9)
call A77(TV9)
call A77(TW9)
call T97(US7)
call UQ7(t)
else
call MoveLightning(TX9,true,GetUnitX(u1),GetUnitY(u1),GetUnitX(u2),GetUnitY(u2))
endif
set t=null
set u1=null
set u2=null
set TX9=null
return false
endfunction
function TY9 takes string TZ9,unit u1,unit u2,real r,real g,real b,real a,real FW8 returns nothing
local real x1=GetUnitX(u1)
local real y1=GetUnitY(u1)
local real x2=GetUnitX(u2)
local real y2=GetUnitY(u2)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local lightning TX9=AddLightning(TZ9,true,x1,y1,x2,y2)
set EZ7="TimedLightningToUnit"
call SetLightningColor(TX9,r,g,b,a)
call TN7(US7,"Lightning",TX9)
call TF7(US7,"u1Index",AD7(u1))
call TF7(US7,"u2Index",AD7(u2))
call TG7(US7,"Duration",FW8)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function TU9))
set t=null
set TX9=null
endfunction
function TA9 takes string TB9 returns nothing
local sound EU8=CreateSound(TB9,false,false,false,10,10,"")
set EZ7="clv"
call SetSoundVolume(EU8,0)
call StartSound(EU8)
call KillSoundWhenDone(EU8)
set EU8=null
endfunction
function TC9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local ubersplat T39=(LoadUbersplatHandle(L7,(PP7),(131)))
set EZ7="TC9"
call DestroyUbersplat(T39)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set T39=null
return false
endfunction
function T69 takes ubersplat T39,real d returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="DelayedUbersplayDestroy"
call SaveUbersplatHandle(L7,(PP7),(131),(T39))
call TriggerRegisterTimerEvent(t,d,false)
call TriggerAddCondition(t,Condition(function TC9))
set t=null
endfunction
function TL9 takes nothing returns nothing
local real d=Q07(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),B44,B74)
set EZ7="TL9"
if d<A_4 then
set A_4=d
set A24=GetEnumUnit()
endif
endfunction
function T19 takes group g,real x,real y returns unit
set A_4=999999
set A24=null
set B44=x
set B74=y
call ForGroup(g,function TL9)
return A24
endfunction
function T09 takes integer LL7 returns nothing
local integer i=0
set EZ7="SetAbilityUnavailableToAll"
loop
exitwhen i>5
call SetPlayerAbilityAvailable(Z7[i],LL7,false)
call SetPlayerAbilityAvailable(A7[i],LL7,false)
set i=i+1
endloop
endfunction
function T59 takes integer id returns nothing
local integer i=0
loop
exitwhen i>12
call SetPlayerAbilityAvailable(Player(i),id,false)
set i=i+1
endloop
endfunction
function RO9 takes nothing returns nothing
local string s=GetEventPlayerChatString()
local trigger t
local integer x=S2I(SubString(GetEventPlayerChatString(),7,StringLength(GetEventPlayerChatString())))
local integer i=1
set EZ7="RO9"
if x<1 or x>Fb then
set x=GetRandomInt(1,Fb)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848657205)))+" "+I2S(x))
endif
if gb then
loop
exitwhen i>Fb
call TA9(Cb[i])
set i=i+1
endloop
set gb=false
endif
if db[x]==false then
endif
call DP8(GetTriggerPlayer(),Cb[x])
endfunction
function R19 takes nothing returns nothing
if bj[GetPlayerId(GetTriggerPlayer())]==false then
set bj[GetPlayerId(GetTriggerPlayer())]=true
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00,"Override is now on for Formless")
else
set bj[GetPlayerId(GetTriggerPlayer())]=false
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00,"Override is now off for Formless")
endif
endfunction
function T29 takes nothing returns nothing
local timer t=GetExpiredTimer()
local player p=TL7(GetHandleId(t),"FormlessPlayer")
set EZ7="T29"
if M7[GetPlayerId(p)]!=null and H84==true then
call DQ8(p,"Already have a hero.")
else
if AG7(p)then
call CreateUnitAtLoc(p,1211445296,GetRectCenter(ED),0)
else
call CreateUnitAtLoc(p,1211445296,GetRectCenter(L9),0)
endif
endif
call T97(GetHandleId(t))
call DestroyTimer(t)
set p=null
set t=null
endfunction
function R09 takes nothing returns nothing
local player p=GetTriggerPlayer()
local timer t
set EZ7="R09"
if(M7[GetPlayerId(p)]==null or H84==false)and P==true and E4==false and O4==false and A8==false and D4==false and RZ4==false then
call BD7(p)
call DisplayTimedTextToPlayer(p,0,E9,10,"Formless will be created for you shortly.")
set t=CreateTimer()
call TQ7(GetHandleId(t),"FormlessPlayer",p)
call TimerStart(t,6,false,function T29)
endif
set p=null
set t=null
endfunction
function T_9 takes nothing returns nothing
local timer t=GetExpiredTimer()
local player p=TL7(GetHandleId(t),"BastionPlayer")
set EZ7="T_9"
if M7[GetPlayerId(p)]!=null and H84==true then
call DQ8(p,"Already have a hero.")
else
if AG7(p)then
call CreateUnitAtLoc(p,1211510832,GetRectCenter(ED),0)
else
call CreateUnitAtLoc(p,1211510832,GetRectCenter(L9),0)
endif
endif
call T97(GetHandleId(t))
call DestroyTimer(t)
set p=null
set t=null
endfunction
function R59 takes nothing returns nothing
local player p=GetTriggerPlayer()
local timer t
set EZ7="R59"
if(M7[GetPlayerId(p)]==null or H84==false)and P==true and E4==false and O4==false and A8==false and D4==false and RZ4==false then
call BD7(p)
call DisplayTimedTextToPlayer(p,0,E9,10,"Bastion will be created for you shortly.")
set t=CreateTimer()
call TQ7(GetHandleId(t),"BastionPlayer",p)
call TimerStart(t,6,false,function T_9)
endif
set p=null
set t=null
endfunction
function U49 takes nothing returns nothing
local integer i=1
set EZ7="U49"
if zA==false then
set zA=true
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90,"You can now pick heroes from the Fun Taverns.")
if Bj==true then
loop
exitwhen i==6
call FogModifierStart(CreateFogModifierRadiusLoc(Z7[i],FOG_OF_WAR_VISIBLE,GetUnitLoc(vN),200,true,true))
call FogModifierStart(CreateFogModifierRadiusLoc(A7[i],FOG_OF_WAR_VISIBLE,GetUnitLoc(vN),200,true,true))
set i=i+1
endloop
set i=1
endif
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90,"This is a FOR FUN ONLY mode.")
loop
exitwhen i==6
call CreateUnit(Z7[i],1848651843,7225,-7475,270)
call CreateUnit(A7[i],1848651843,7225,-7475,270)
set i=i+1
endloop
endif
if Bj==true then
set EV=EV+1
set SU[EV]=1227960882
set ZU[EV]=1227960368
set AU[EV]=0
set BU[EV]=1227961139
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNArcaniteMelee.blp"
set LU[EV]=45
set HK4[EV]=15900
set FH=EV
set EV=EV+1
set SU[EV]=1227960883
set ZU[EV]=1227960369
set AU[EV]=0
set BU[EV]=1227961140
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHumanArmorUpThree.blp"
set LU[EV]=90
set HK4[EV]=15175
set GH=EV
set EV=EV+1
set SU[EV]=1227960884
set ZU[EV]=1227960632
set AU[EV]=0
set BU[EV]=1227961141
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNImprovedBows.blp"
set LU[EV]=40
set HK4[EV]=14000
set hH=EV
set EV=EV+1
set SU[EV]=1227960885
set ZU[EV]=1227960880
set AU[EV]=0
set BU[EV]=1227961142
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
set LU[EV]=40
set HK4[EV]=11520
set jH=EV
set EV=EV+1
set SU[EV]=1227960886
set ZU[EV]=1227960372
set AU[EV]=0
set BU[EV]=1227961143
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStaffOfSanctuary.blp"
set LU[EV]=30
set HK4[EV]=7500
set JH=EV
set EV=EV+1
set SU[EV]=1227960888
set ZU[EV]=1227960376
set AU[EV]=0
set BU[EV]=1227961145
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNThoriumRanged.blp"
set LU[EV]=0
set HK4[EV]=10300
set LH=EV
set EV=EV+1
set SU[EV]=1227961136
set ZU[EV]=1227960626
set AU[EV]=0
set BU[EV]=1227961393
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyStrength.blp"
set LU[EV]=0
set HK4[EV]=10900
set kH=EV
set EV=EV+1
set SU[EV]=1227961137
set ZU[EV]=1227960628
set AU[EV]=0
set BU[EV]=1227961394
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStarWand.blp"
set LU[EV]=0
set HK4[EV]=9975
set lH=EV
set EV=EV+1
set SU[EV]=1227960887
set ZU[EV]=1227960374
set AU[EV]=0
set BU[EV]=1227961144
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrb.blp"
set LU[EV]=45
set HK4[EV]=11300
set MH=EV
set FQ4=FQ4+1
set FJ4[FQ4]=T2
set FK4[FQ4]=L5
set FM4[FQ4]=SY
set FP4[FQ4]=FH
set FQ4=FQ4+1
set FJ4[FQ4]=D84
set FK4[FQ4]=DJ4
set FM4[FQ4]=R2
set FN4[FQ4]=DI4
set FP4[FQ4]=GH
set FQ4=FQ4+1
set FJ4[FQ4]=Z2
set FK4[FQ4]=BV
set FM4[FQ4]=AV
set FN4[FQ4]=OW
set FP4[FQ4]=hH
set FQ4=FQ4+1
set FJ4[FQ4]=GX
set FK4[FQ4]=D1
set FM4[FQ4]=V1
set FN4[FQ4]=XV
set FP4[FQ4]=jH
set FQ4=FQ4+1
set FJ4[FQ4]=GX
set FK4[FQ4]=F1
set FM4[FQ4]=V1
set FN4[FQ4]=XV
set FP4[FQ4]=jH
set FQ4=FQ4+1
set FJ4[FQ4]=F6
set FK4[FQ4]=FV
set FM4[FQ4]=RW
set FN4[FQ4]=RW
set FP4[FQ4]=JH
set FQ4=FQ4+1
set FJ4[FQ4]=LV
set FK4[FQ4]=OV
set FM4[FQ4]=NX
set FN4[FQ4]=YW
set FO4[FQ4]=R2
set FP4[FQ4]=LH
set FQ4=FQ4+1
set FJ4[FQ4]=UY
set FK4[FQ4]=MV
set FM4[FQ4]=QV
set FN4[FQ4]=BV
set FO4[FQ4]=Z2
set FP4[FQ4]=kH
set FQ4=FQ4+1
set FJ4[FQ4]=UW
set FK4[FQ4]=HY
set FM4[FQ4]=DZ
set FN4[FQ4]=GX
set FO4[FQ4]=D74
set FP4[FQ4]=lH
set FQ4=FQ4+1
set FJ4[FQ4]=YW
set FK4[FQ4]=BV
set FM4[FQ4]=GX
set FN4[FQ4]=NZ
set FP4[FQ4]=MH
endif
endfunction
function U79 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local real U89=UD7(US7,"T_CurrentX")
local real U99=UD7(US7,"T_CurrentY")
local real UD9=UD7(US7,"T_MaxX")
local real UE9=128
local real x
local real y
set EZ7="U79"
loop
exitwhen U89>UD9
loop
exitwhen U99>8192
set dW=dW+1
set x=U89
set y=U99
if IsPointBlighted(x,y)==false then
set DW[dW]=GetTerrainType(x,y)
set LW[dW]=GetTerrainVariance(x,y)
endif
set x=-U89
set y=U99
if IsPointBlighted(x,y)==false then
set fW[dW]=GetTerrainType(x,y)
set mW[dW]=GetTerrainVariance(x,y)
endif
set x=-U89
set y=-U99
if IsPointBlighted(x,y)==false then
set FW[dW]=GetTerrainType(x,y)
set MW[dW]=GetTerrainVariance(x,y)
endif
set x=U89
set y=-U99
if IsPointBlighted(x,y)==false then
set hW[dW]=GetTerrainType(x,y)
set pW[dW]=GetTerrainVariance(x,y)
endif
set U99=U99+UE9
endloop
set U99=0
set U89=U89+UE9
endloop
set UD9=UD9+256
call TG7(US7,"T_CurrentX",U89*1.0)
call TG7(US7,"T_CurrentY",U99*1.0)
call TG7(US7,"T_MaxX",UD9*1.0)
if UD9>8192 then
call T97(US7)
call UQ7(t)
endif
set t=null
return false
endfunction
function UF9 takes string SG9 returns boolean
if SG9=="-ma" or SG9=="-ms" or SG9=="-cs" or SG9=="-cson" or SG9=="-disablehelp" or SG9=="-enablehelp" or SG9=="-unstuck" or SG9=="-recreate" then
return true
elseif SG9=="-swaphero" or SG9=="-showmsg" or SG9=="-hidemsg" or SG9=="-showdeny" or SG9=="-hidedeny" or SG9=="-weather rain" or SG9=="-weather snow" or SG9=="-weather moonlight" or SG9=="-weather wind" or SG9=="-weather random" or SG9=="-weather off" or SG9=="-denyinfo" or SG9=="-di" or SG9=="-deathon" or SG9=="-don" or SG9=="-deathoff" or SG9=="-doff" or SG9=="-roll" or SG9=="-hideheronames" or SG9=="-hhn" or SG9=="-test" or SG9=="-mute" or SG9=="-wtf" or SG9=="-fun" or SG9=="-fleshstr" or SG9=="-fs" or SG9=="-switchon" then
return true
elseif SG9=="-override" or SG9=="-formless" then
return true
endif
return false
endfunction
function UG9 takes nothing returns boolean
return not P
endfunction
function UH9 takes string qQ returns nothing
if cx==""then
set cx="|c006699CC"+qQ+"|r"
else
set cx=cx+"/|c006699CC"+qQ+"|r"
endif
endfunction
function UI9 takes string qQ returns nothing
if cx==""then
set cx=F27+qQ+"|r"
else
set cx=cx+"/"+F27+qQ+"|r"
endif
endfunction
function UJ9 takes string TG9,integer qs,integer qS returns string
return SubString(TG9,0,qs)+SubString(TG9,qS,StringLength(TG9))
endfunction
function UK9 takes string TG9 returns string
local integer J48=StringLength(TG9)
local string qT
local string M9=""
local integer i=0
set EZ7="cUv"
loop
exitwhen(i==J48)
set qT=StringCase(SubString(TG9,i,i+1),false)
if not(qT==StringCase(qT,true))then
set M9=M9+qT
endif
set i=i+1
endloop
return M9
endfunction
function UM9 takes nothing returns boolean
local integer i=1
local boolean b1=false
local boolean b2=false
local integer QV7=0
loop
exitwhen i>5
if(not b1)and GetPlayerController(Z7[i])==MAP_CONTROL_USER and GetPlayerSlotState(Z7[i])==PLAYER_SLOT_STATE_PLAYING then
set b1=true
set QV7=i
elseif GetPlayerController(Z7[i])!=MAP_CONTROL_USER and GetPlayerSlotState(Z7[i])==PLAYER_SLOT_STATE_PLAYING then
set b2=true
endif
set i=i+1
endloop
if b1 and b2 then
set QV7=GetPlayerId(Z7[QV7])
call SetItemPawnable(CreateItem(1227896130,GetUnitX(KU4[QV7]),GetUnitY(KU4[QV7])),false)
set QV7=1
loop
exitwhen QV7>5
call UB7(IZ4,GetObjectName(1496332594),Z7[QV7])
set QV7=QV7+1
endloop
endif
set i=1
set b1=false
set b2=false
set QV7=0
loop
exitwhen i>5
if(not b1)and GetPlayerController(A7[i])==MAP_CONTROL_USER and GetPlayerSlotState(A7[i])==PLAYER_SLOT_STATE_PLAYING then
set b1=true
set QV7=i
elseif GetPlayerController(A7[i])!=MAP_CONTROL_USER and GetPlayerSlotState(A7[i])==PLAYER_SLOT_STATE_PLAYING then
set b2=true
endif
set i=i+1
endloop
if b1 and b2 then
set QV7=GetPlayerId(A7[QV7])
call SetItemPawnable(CreateItem(1227896130,GetUnitX(KU4[QV7]),GetUnitY(KU4[QV7])),false)
set QV7=1
loop
exitwhen QV7>5
call UB7(JA4,GetObjectName(1496332594),A7[QV7])
set QV7=QV7+1
endloop
endif
call DestroyTrigger(GetTriggeringTrigger())
return false
endfunction
function UN9 takes string UO9,integer UP9 returns nothing
local string TG9=UK9(UO9)
local string array UQ9
local string array UR9
local boolean array US9
local integer UT9
local integer UU9
local integer J48=StringLength(TG9)
local integer x=0
local integer y=0
local integer z=0
local boolean AP
local boolean AR
local boolean LM
local boolean MM
local boolean TR
local boolean DM
local boolean MR
local boolean SP
local boolean AA
local boolean AI
local boolean AS
local boolean ID
local boolean NP
local boolean SC
local boolean EM
local boolean DU
local boolean SH
local boolean VR
local boolean RV
local boolean RD
local boolean OM
local boolean NT
local boolean NB
local boolean NM
local boolean NS
local boolean SO
local boolean NR
local boolean XL
local boolean SD
local boolean PM
local boolean OI
local boolean MI
local boolean CM
local boolean FR
local boolean MO
local boolean RO
local boolean ER
local boolean CD
local boolean RS
local boolean ST
local boolean MC
local boolean HE
local boolean NE
local boolean HG
local boolean NG
local boolean DE
local boolean UV9
local boolean NN
local boolean FM
local boolean UW9
local boolean UX9
local boolean UY9
local boolean UZ9
local boolean UA9
local trigger t
set EZ7="GameMode_Entered"
set UQ9[1]="allpick"
set UR9[1]="ap"
set UQ9[2]="allrandom"
set UR9[2]="ar"
set UQ9[3]="leaguemode"
set UR9[3]="lm"
set UQ9[4]="mirrormatch"
set UR9[4]="mm"
set UQ9[5]="teamrandom"
set UR9[5]="tr"
set UQ9[6]="deathmatch"
set UR9[6]="dm"
set UQ9[7]="moderandom"
set UR9[7]="mr"
set UQ9[8]="shuffleplayers"
set UR9[8]="sp"
set UQ9[9]="allagility"
set UR9[9]="aa"
set UQ9[10]="allintelligence"
set UR9[10]="ai"
set UQ9[11]="allstrength"
set UR9[11]="as"
set UQ9[12]="itemdrop"
set UR9[12]="id"
set UQ9[13]="nopowerups"
set UR9[13]="np"
set UQ9[14]="supercreeps"
set UR9[14]="sc"
set UQ9[15]="easymode"
set UR9[15]="em"
set UQ9[16]="duplicatemode"
set UR9[16]="du"
set UQ9[17]="samehero"
set UR9[17]="sh"
set UQ9[18]="voterandom"
set UR9[18]="vr"
set UQ9[19]="reverse"
set UR9[19]="rv"
set UQ9[20]="randomdraft"
set UR9[20]="rd"
set UQ9[21]="onlymid"
set UR9[21]="om"
set UQ9[22]="extendedleague"
set UR9[22]="xl"
set UQ9[23]="nomid"
set UR9[23]="nm"
set UQ9[24]="notop"
set UR9[24]="nt"
set UQ9[25]="nobot"
set UR9[25]="nb"
set UQ9[26]="noswap"
set UR9[26]="ns"
set UQ9[27]="norepick"
set UR9[27]="nr"
set UQ9[28]="captainsdraft"
set UR9[28]="cd"
set UQ9[29]="singledraft"
set UR9[29]="sd"
set UQ9[30]="poolingmode"
set UR9[30]="pm"
set UQ9[31]="observerinfo"
set UR9[31]="oi"
set UQ9[32]="miniheroes"
set UR9[32]="mi"
set UQ9[33]="captainsmode"
set UR9[33]="cm"
set UQ9[34]="fastrespawn"
set UR9[34]="fr"
set UQ9[35]="meleeonly"
set UR9[35]="mo"
set UQ9[36]="rangeonly"
set UR9[36]="ro"
set UQ9[37]="experimentalrunes"
set UR9[37]="er"
set UQ9[38]="randomside"
set UR9[38]="rs"
set UQ9[39]="switchon"
set UR9[39]="so"
set UQ9[40]="zoommode"
set UR9[40]="zm"
set UQ9[41]="capturepoint"
set UR9[41]="cp"
set UT9=41
set UU9=41
set UT9=UT9+1
set UQ9[UT9]="supertower"
set UR9[UT9]="st"
set UT9=UT9+1
set UQ9[UT9]="msupercreeps"
set UR9[UT9]="mc"
set UT9=UT9+1
set UQ9[UT9]="highexp"
set UR9[UT9]="he"
set UT9=UT9+1
set UQ9[UT9]="normexp"
set UR9[UT9]="ne"
set UT9=UT9+1
set UQ9[UT9]="dynaexp"
set UR9[UT9]="de"
set UT9=UT9+1
set UQ9[UT9]="highgold"
set UR9[UT9]="hg"
set UT9=UT9+1
set UQ9[UT9]="normgold"
set UR9[UT9]="ng"
set UT9=UT9+1
set UQ9[UT9]="dynagold"
set UR9[UT9]="dg"
set UT9=UT9+1
set UQ9[UT9]="nonecronomicon"
set UR9[UT9]="nn"
set UT9=UT9+1
set UQ9[UT9]="formlessmode"
set UR9[UT9]="fm"
set UT9=UT9+1
set UQ9[UT9]="coolnames"
set UR9[UT9]="cn"
set UT9=UT9+1
set UQ9[UT9]="alldagons"
set UR9[UT9]="ad"
set UT9=UT9+1
set UQ9[UT9]="beginnermode"
set UR9[UT9]="bm"
set UT9=UT9+1
set UQ9[UT9]="advancedmode"
set UR9[UT9]="am"
set UT9=UT9+1
set UQ9[UT9]="xtrememode"
set UR9[UT9]="xm"
set x=-1
loop
exitwhen x==J48-1
set x=x+1
set y=x
loop
exitwhen y==J48
set y=y+1
set z=1
loop
exitwhen z>UT9
if UQ9[z]==SubString(TG9,x,y)then
set US9[z]=true
set z=UT9+1
set TG9=UJ9(TG9,x,y)
set x=-1
set J48=StringLength(TG9)
set y=J48
else
set z=z+1
endif
endloop
endloop
endloop
set x=-1
loop
exitwhen x==J48-1
set x=x+1
set y=x
loop
exitwhen y==J48
set y=y+1
set z=1
loop
exitwhen z>UT9
if UR9[z]==SubString(TG9,x,y)then
set US9[z]=true
if(z<=UU9)then
set vY=false
endif
set z=UT9+1
set TG9=UJ9(TG9,x,y)
set x=-1
set J48=StringLength(TG9)
set y=J48
else
set z=z+1
endif
endloop
endloop
endloop
set AP=US9[1]
set AR=US9[2]
set LM=US9[3]
set MM=US9[4]
set TR=US9[5]
set DM=US9[6]
set MR=US9[7]
set SP=US9[8]
set AA=US9[9]
set AI=US9[10]
set AS=US9[11]
set ID=US9[12]
set NP=US9[13]
set SC=US9[14]
set EM=US9[15]
set DU=US9[16]
set SH=US9[17]
set VR=US9[18]
set RV=US9[19]
set RD=US9[20]
set OM=US9[21]
set XL=US9[22]
set NM=US9[23]
set NT=US9[24]
set NB=US9[25]
set NS=US9[26]
set NR=US9[27]
set CD=US9[28]
set SD=US9[29]
set PM=US9[30]
set OI=US9[31]
set MI=US9[32]
set CM=US9[33]
set FR=US9[34]
set MO=US9[35]
set RO=US9[36]
set ER=US9[37]
set RS=US9[38]
set SO=US9[39]
set ST=US9[UU9+1]
set MC=US9[UU9+2]
set HE=US9[UU9+3]
set NE=US9[UU9+4]
set DE=US9[UU9+5]
set HG=US9[UU9+6]
set NG=US9[UU9+7]
set UV9=US9[UU9+8]
set NN=US9[UU9+9]
set FM=US9[UU9+10]
set UW9=US9[UU9+11]
set UX9=US9[UU9+12]
set UZ9=US9[UU9+13]
set UY9=US9[UU9+14]
set UA9=US9[UU9+15]
if TG9!=""or UF9(GetEventPlayerChatString())then
return
elseif(LM or VR or RV or RD or XL or CD or SO)then
call DQ8(Le,"The following modes are currently disabled for this AI release: -lm, -vr, -rv, -rd, -xl, -cd, -so")
return
elseif FM and(AP or AR or LM or MM or TR or DM or MR or SP or AA or AI or AS or DU or SH or VR or RV or RD or XL or SD or MO or RO)then
call DQ8(Le,(GetObjectName((1848652373))))
return
elseif(AR and(CM or AP or TR or LM or MR or RV or RD or CD or SD))or(AP and(TR or MR))or(TR and(LM or MR))or(LM and MR)or(MM and SH)then
call DQ8(Le,(GetObjectName((1848652373))))
return
elseif(AA and(AI or AS or DM))or(AS and(AI or DM))or(AI and DM)then
call DQ8(Le,(GetObjectName((1848652373))))
return
elseif(RO and(MO or DM))or(MO and DM)then
call DQ8(Le,(GetObjectName((1848652373))))
return
elseif RV and(CM or AR or TR or MR or LM or DM or SH)then
call DQ8(Le,(GetObjectName((1848652373))))
return
elseif(DM and(CM or TR or LM or MR or SH or RV or RD or CD or SD))or(MM and DM)or(SH and DM)then
call DQ8(Le,(GetObjectName((1848652372))))
return
elseif LM and(CM or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or XL or MO or RO)then
call DQ8(Le,(GetObjectName((1848652593))))
return
elseif XL and(CM or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or LM or RO or MO)then
call DQ8(Le,(GetObjectName((1848652594))))
return
elseif CM and(SP or XL or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or LM or MO or RO)then
call DQ8(Le,(GetObjectName((1848652594))))
return
elseif RD and(CD or CM or AP or LM or AR or SD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
call DQ8(Le,(GetObjectName((1848652373))))
return
elseif CD and(RD or CM or AP or LM or AR or SD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
call DQ8(Le,(GetObjectName((1848652373))))
return
elseif MR and(CM or AP or LM or AR or SD or MM or TR or DM or AA or AI or AS or SH or RV or RO or MO)then
call DQ8(Le,(GetObjectName((1848652373))))
return
elseif SD and(CM or AP or LM or AR or RD or CD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
call DQ8(Le,(GetObjectName((1848652373))))
return
elseif VR and(CM or LM or RD or CD or SD or AR or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
call DQ8(Le,(GetObjectName((1848652373))))
return
elseif MM and P8(X7)!=P8(Y7)then
call DQ8(Le,(GetObjectName((1848652596))))
return
elseif VR and P8(X7)!=P8(Y7)then
call DQ8(Le,(GetObjectName((1848652596))))
return
elseif RV and P8(X7)!=P8(Y7)then
call DQ8(Le,(GetObjectName((1848652596))))
return
elseif(LM or XL)and(AK7(Z7[1])or AK7(Z7[2])or AK7(Z7[3])or AK7(Z7[4])or AK7(Z7[5])or AK7(A7[1])or AK7(A7[2])or AK7(A7[3])or AK7(A7[4])or AK7(A7[5]))then
call DQ8(Le,"AI players not allowed in League Modes")
return
elseif(UZ9 and UY9)or(UZ9 and UA9)or(UY9 and UA9)or(NE and HE)or(HG and NG)or((UY9 or UZ9 or UA9)and(NE or HE or DE or HG or NG or UV9))then
call DQ8(Le,"Invalid AI Game Mode Combination!")
return
endif
if FR or CM or AP or AR or LM or MM or TR or DM or MR or SP or AA or AI or AS or ID or NP or SC or DU or EM or SH or VR or RV or RD or CD or OM or NB or NM or NT or NS or NR or XL or SD or PM or OI or MI or MO or RO or ER or RS or SO or ST or MC or(HE or NE or HG or DE or NG or UV9)or NN or FM or(UY9 or UZ9 or UA9)then
call DisableTrigger(GetTriggeringTrigger())
else
return
endif
if CM==false then
call XB8()
call O59()
endif
if LM==false and XL==false then
call TE9()
endif
set O14=UK9(GetEventPlayerChatString())
if(ZX4)then
call I38("Mode"+O14,0)
else
call I38("Mode"+O14,GetPlayerId(Le))
endif
set Y8=false
if LM then
set vo="Leaguemode"
elseif XL then
set vo="Extended League"
elseif RD then
set vo="Randomdraft"
elseif CD then
set vo="Captainsdraft"
elseif MM then
set vo="Mirrormatch"
elseif DM then
set vo="Deathmatch"
elseif RV then
set vo="Reverse"
elseif AP then
set vo="Allpick"
elseif AR then
set vo="Allrandom"
elseif TR then
set vo="Teamrandom"
elseif MR then
set vo="Moderandom"
elseif VR then
set vo="Voterandom"
elseif SD then
set vo="Singledraft"
elseif CM then
set vo="Captainsmode"
endif
if CM then
call UH9("Captains Mode")
endif
if LM then
call UH9("League Mode")
endif
if XL then
call UH9("Extended League")
endif
if RD then
call UH9("Random Draft")
endif
if CD then
call UH9("Captains Draft")
endif
if DM then
call UH9("Death Match")
endif
if MM then
call UH9("Mirror Match")
endif
if AP then
call UH9("All Pick")
endif
if AR then
call UH9("All Random")
endif
if VR then
call UH9("Vote Random")
endif
if MR then
call UH9("Mode Random")
endif
if TR then
call UH9("Team Random")
endif
if SP then
call UH9("Shuffle Players")
endif
if AA then
call UH9("All Agility")
endif
if AS then
call UH9("All Strength")
endif
if AI then
call UH9("All Intelligence")
endif
if RO then
call UH9("Range Only")
endif
if MO then
call UH9("Melee Only")
endif
if DU then
call UH9("Duplicate Mode")
endif
if ID then
call UH9("Item Drop")
endif
if NP then
call UH9("No Powerups")
endif
if SC then
call UH9("Super Creeps")
endif
if EM then
call UH9("Easy Mode")
endif
if SH then
call UH9("Same Hero")
endif
if RV then
call UH9("Reverse")
endif
if OM then
call UH9("Only Mid")
endif
if NM then
call UH9("No Mid")
endif
if NB then
call UH9("No Bot")
endif
if NT then
call UH9("No Top")
endif
if NS then
call UH9("No Swap")
endif
if NR then
call UH9("No Repick")
endif
if SD then
call UH9("Single Draft")
endif
if PM then
call UH9("Pooling Mode")
endif
if OI then
call UH9("Observer Info")
endif
if MI then
call UH9("Mini Heroes")
endif
if FR then
call UH9("Fast Respawn")
endif
if ER then
call UH9("Experimental Runes")
endif
if RS then
call UH9("Random Side")
endif
if SO then
call UH9("Switch On")
endif
if ST then
call UI9("Super Tower")
endif
if MC then
call UI9("Modified Super Creeps")
endif
if UZ9 then
call UI9("Beginner's Mode")
endif
if UY9 then
call UI9("Advanced Mode")
endif
if UA9 then
call UI9("Xtreme Mode")
endif
if HE then
call UI9("High Exp AI")
endif
if NE then
call UI9("Normal Exp AI")
endif
if DE then
call UI9("Dynamic Exp AI")
endif
if HG then
call UI9("High Gold AI")
endif
if NG then
call UI9("Normal Gold AI")
endif
if UV9 then
call UI9("Dynamic Gold AI")
endif
if NN then
call UI9("No Necronomicon")
endif
if FM then
call UI9("Formless Mode")
endif
if UW9 then
call UI9("Cool Names")
endif
if UX9 then
call UI9("All Dagons")
endif
call CG7(bj_FORCE_ALL_PLAYERS,20.00," ")
if UP9==1 then
call CG7(bj_FORCE_ALL_PLAYERS,20.00,Q[GetPlayerId(Le)]+(KZ4[GetPlayerId(Le)])+"|r"+" "+GetObjectName(1848653361)+" "+cx)
else
call CG7(bj_FORCE_ALL_PLAYERS,20.00,GetObjectName(1848657998)+" "+cx)
endif
call CG7(bj_FORCE_ALL_PLAYERS,20.00,(GetObjectName((1848653363)))+" -gameinfo.")
call CG7(bj_FORCE_ALL_PLAYERS,20.00," ")
call DS8("UB9",SP)
call DS8("UC9",RS)
call DS8("U39",DM)
call DS8("U69",MM)
call DS8("UL9",SH)
call DS8("U19",AA)
call DS8("U09",AI)
call DS8("U59",AS)
call DS8("U29",RO)
call DS8("U_9",MO)
call DS8("V49",DU)
call DS8("V79",AR)
call DS8("V89",AP)
call DS8("V99",TR)
call DS8("VD9",SD)
call DS8("VE9",MR)
call DS8("VF9",ID)
call DS8("VG9",NP)
call DS8("VH9",SC)
call DS8("VI9",EM)
call DS8("VJ9",OM)
call DS8("VK9",NB)
call DS8("VM9",NT)
call DS8("VN9",NM)
call DS8("VO9",NS)
call DS8("StartSwitchOn",SO)
call DS8("VP9",NR)
call DS8("VQ9",PM)
call DS8("VR9",OI)
call DS8("VS9",MI)
call DS8("VT9",FR)
call DS8("VU9",ER)
call DS8("VV9",ST)
call DS8("VW9",MC)
if UZ9 then
set NE=true
set NG=true
set DE=false
set UV9=false
endif
if UY9 then
set HE=true
set HG=true
set DE=true
set UV9=true
endif
if UA9 then
set NE=true
set NG=true
set DE=true
set UV9=true
call ExecuteFunc("VX9")
call UI9("Xtreme AI")
endif
call DS8("VY9",DE)
call DS8("VZ9",UV9)
call DS8("VA9",FM)
call DS8("VB9",UW9)
call DS8("VC9",UX9)
call DS8("V39",CM)
set BT=HE
set LT=NE
set CT=HG
set WT=NG
set XT=NN
set Q94=true
call EI9(0,0,false)
if SN4==false and O54==false then
call P49()
endif
call XY8()
endfunction
function V69 takes nothing returns nothing
call UN9(GetEventPlayerChatString(),1)
endfunction
function VL9 takes nothing returns boolean
if ZU4!="" and Q94==false then
set ZX4=true
call UN9("-"+(ZU4),2)
else
call TriggerRegisterPlayerChatEvent(ZT4,Le,"-",false)
endif
return false
endfunction
function V89 takes nothing returns nothing
local location JP8=GetRectCenter(pr)
local location JQ8=GetRectCenter(qr)
local integer x=1
set EZ7="V89"
set P4=true
set QD4=120
loop
exitwhen x>5
if AM7(Z7[x])then
call CreateUnitAtLoc(Z7[x],1848651843,JQ8,bj_UNIT_FACING)
endif
if AM7(A7[x])then
call CreateUnitAtLoc(A7[x],1848651843,JP8,bj_UNIT_FACING)
endif
set x=x+1
endloop
call RemoveLocation(JP8)
call RemoveLocation(JQ8)
set JP8=null
set JQ8=null
endfunction
function V19 takes integer CR7,boolean V09 returns boolean
local boolean V59=false
local integer i
local integer j=1
set EZ7="AICheckIfHeroAlreadyBannedPicked"
if(V09)then
if(DE7==1)then
return false
endif
set i=DE7-1
loop
if(CR7==DG7[j])then
return true
endif
set j=j+1
exitwhen(j>i)
endloop
else
if(DF7==1)then
return false
endif
set i=DF7-1
loop
if(CR7==DH7[j])then
return true
endif
set j=j+1
exitwhen(j>i)
endloop
endif
return V59
endfunction
function V29 takes integer CR7,boolean V09 returns nothing
if(V09)then
set DG7[DE7]=CR7
set DE7=DE7+1
else
set DH7[DF7]=CR7
set DF7=DF7+1
endif
endfunction
function V_9 takes integer CR7 returns nothing
local integer i=1
local boolean W49=false
set EZ7="AIRemoveUnitFromCMPickPool"
loop
if(CR7==DD7[i])then
set DD7[i]=0
call V29(CR7,false)
set W49=true
endif
set i=i+1
exitwhen(i>DJ7 or W49)
endloop
endfunction
function W79 takes nothing returns integer
local integer PQ7=0
local integer CR7=0
set EZ7="W79"
loop
set PQ7=GetRandomInt(1,DJ7)
exitwhen(DD7[PQ7]>0 and V19(DD7[PQ7],false)==false)
endloop
set CR7=DD7[PQ7]
call V29(CR7,false)
set DD7[PQ7]=0
return CR7
endfunction
function W89 takes integer CR7 returns nothing
local integer i=1
local boolean W49=false
set EZ7="AIRemoveUnitFromCMBanPool"
loop
if(CR7==D97[i])then
set D97[i]=0
call V29(CR7,true)
set W49=true
endif
set i=i+1
exitwhen(i>DI7 or W49)
endloop
endfunction
function W99 takes nothing returns integer
local integer PQ7=0
local integer CR7=0
set EZ7="W99"
loop
set PQ7=GetRandomInt(1,DI7)
exitwhen(D97[PQ7]>0 and V19(DD7[PQ7],true)==false)
endloop
set CR7=D97[PQ7]
call V29(CR7,true)
set D97[PQ7]=0
return CR7
endfunction
function WD9 takes nothing returns boolean
local integer i=1
local integer WE9=0
local integer CR7=0
set EZ7="WD9"
if not LO4 then
call UQ7(GetTriggeringTrigger())
return false
endif
if AK7(LN4)then
if GetPlayerState(LN4,PLAYER_STATE_RESOURCE_GOLD)>0 then
set DO7=DO7+1
if DO7>DK7 then
if DP7 then
set CR7=W99()
else
set CR7=W79()
endif
loop
exitwhen(IssueNeutralImmediateOrderById(LN4,D87[i],CR7)or GetPlayerState(LN4,PLAYER_STATE_RESOURCE_GOLD)==0)
set i=i+1
if(i>12)then
if DP7 then
set CR7=W99()
else
set CR7=W79()
endif
set i=1
set WE9=WE9+1
if(WE9>5)then
exitwhen true
endif
endif
endloop
set DO7=0
endif
endif
endif
return true
endfunction
function WF9 takes nothing returns nothing
call B97(1160786502)
call B97(1311780946)
call B97(1311788336)
call B97(1160786507)
call B97(1311788343)
call B97(1311788363)
call B97(1211117616)
endfunction
function WG9 takes nothing returns nothing
set DD7[1]=1211117653
set DD7[2]=1162032951
set DD7[3]=1211117617
set DD7[4]=1212363833
set DD7[5]=1215657064
set DD7[6]=1432580716
set DD7[7]=1433631084
set DD7[8]=1315988077
set DD7[9]=1215063922
set DD7[10]=1315074670
set DD7[11]=1211117636
set DD7[12]=1430466872
set DD7[13]=1430468144
set DD7[14]=1429221441
set DD7[15]=1429221430
set DD7[16]=1313026096
set DD7[17]=1430467634
set DD7[18]=1429221424
set DD7[19]=1430468913
set DD7[20]=1160785972
set DD7[21]=1162032181
set DD7[22]=1162032951
set DD7[23]=1160785970
set DD7[24]=1429221443
set DD7[25]=1211117640
set DD7[26]=1429221445
set DD7[27]=1328558154
set DD7[28]=1432510828
set DD7[29]=1332766568
set DD7[30]=1429221456
set DD7[31]=1315007329
set DD7[32]=1211117653
set DD7[33]=1311787088
set DD7[34]=1164207469
endfunction
function WH9 takes nothing returns nothing
set D97[1]=1211117653
set D97[2]=1214931305
set D97[3]=1215657064
set D97[4]=1311781174
set D97[5]=1315074670
set D97[6]=1430466872
set D97[7]=1162032951
set D97[8]=1311787088
set D97[9]=1211119409
set D97[10]=1328558390
set D97[11]=1332766568
set D97[12]=1433168227
set D97[13]=1433631084
set D97[14]=1333027688
set D97[15]=1328558160
set D97[16]=1215723364
set D97[17]=1211117654
set D97[18]=1432510828
set D97[19]=1315334514
set D97[20]=1162032181
endfunction
function WI9 takes nothing returns boolean
local integer i=1
local integer WJ9=0
set EZ7="WI9"
loop
exitwhen i>5
if AK7(Z7[i])then
if(IssueNeutralImmediateOrderById(Z7[i],DN7[i],1747990094)==false)then
set WJ9=1
loop
exitwhen(WJ9>5)or IssueNeutralImmediateOrderById(Z7[i],DN7[WJ9],1747990094)
set WJ9=WJ9+1
endloop
endif
endif
if AK7(A7[i])then
if(IssueNeutralImmediateOrderById(A7[i],DN7[6+i],1747990094)==false)then
set WJ9=1
loop
exitwhen(WJ9>5)or IssueNeutralImmediateOrderById(A7[i],DN7[6+WJ9],1747990094)
set WJ9=WJ9+1
endloop
endif
endif
set i=i+1
endloop
call UQ7(GetTriggeringTrigger())
return false
endfunction
function WK9 takes string S,real WM9,real WN9,real WO9,real WP9,real WQ9,boolean WR9,integer r,integer g,integer b returns image
set LH4=CreateImage(S,WM9,WN9,0,WO9-(WM9/2),WP9-(WN9/2),WQ9,0,0,0,2)
call SetImageRenderAlways(LH4,true)
call ShowImage(LH4,WR9)
call SetImageColor(LH4,r,g,b,255)
return LH4
endfunction
function WS9 takes image i returns nothing
call ShowImage(i,false)
call DestroyImage(i)
endfunction
function WT9 takes integer WU9 returns nothing
local real x=LI4+40
local real y=LJ4-50
local integer WV9=255
local integer WW9=0
local integer WX9=0
local integer WY9=0
local integer WZ9=0
local integer WA9=255
local integer r
local integer g
local integer b
set EZ7="ModeCM_DisplayPhase"
if WU9==1 then
set r=WV9
set g=WW9
set b=WX9
set L94=WK9("Fonts\\B.blp",90,90,x-40,y,0,true,r,g,b)
set LD4=WK9("Fonts\\A.blp",90,90,x,y,0,true,r,g,b)
set LE4=WK9("Fonts\\N.blp",90,90,x+50,y,0,true,r,g,b)
elseif WU9==2 then
set r=WY9
set g=WZ9
set b=WA9
call WS9(L94)
call WS9(LD4)
call WS9(LE4)
set L94=WK9("Fonts\\P.blp",90,90,x-60,y,0,true,r,g,b)
set LD4=WK9("Fonts\\I.blp",90,90,x-20,y,0,true,r,g,b)
set LE4=WK9("Fonts\\C.blp",90,90,x,y,0,true,r,g,b)
set LF4=WK9("Fonts\\K.blp",90,90,x+45,y,0,true,r,g,b)
elseif WU9==3 then
set r=WV9
set g=WW9
set b=WX9
call WS9(L94)
call WS9(LD4)
call WS9(LE4)
call WS9(LF4)
set L94=WK9("Fonts\\B.blp",90,90,x-40,y,0,true,r,g,b)
set LD4=WK9("Fonts\\A.blp",90,90,x,y,0,true,r,g,b)
set LE4=WK9("Fonts\\N.blp",90,90,x+50,y,0,true,r,g,b)
elseif WU9==4 then
set r=WY9
set g=WZ9
set b=WA9
call WS9(L94)
call WS9(LD4)
call WS9(LE4)
set L94=WK9("Fonts\\P.blp",90,90,x-60,y,0,true,r,g,b)
set LD4=WK9("Fonts\\I.blp",90,90,x-20,y,0,true,r,g,b)
set LE4=WK9("Fonts\\C.blp",90,90,x,y,0,true,r,g,b)
set LF4=WK9("Fonts\\K.blp",90,90,x+45,y,0,true,r,g,b)
elseif WU9==5 then
call WS9(L94)
call WS9(LD4)
call WS9(LE4)
call WS9(LF4)
endif
endfunction
function WB9 takes integer i,integer WC9 returns string
if i<0 then
set i=0
endif
if TimerGetElapsed(W)<15 then
return L74+I2S(i)
endif
if B34==3 then
return L74+I2S(i)
endif
if B34==1 and WC9!=1 then
return L74+I2S(i)
elseif B34==2 and WC9!=2 then
return L74+I2S(i)
elseif i==0 then
return L74+I2S(i)
elseif i<6 then
return L44+I2S(i)
else
return I2S(i)
endif
endfunction
function W39 takes nothing returns boolean
local multiboarditem W69
local integer i
local integer WL9
local integer W19
local integer W09=7
local integer W59=0
set EZ7="W39"
set WL9=1
set W19=W59
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
call MultiboardSetItemWidth(W69,0.5)
call MultiboardSetItemValue(W69,Q[GetPlayerId(Z7[1])]+(KZ4[GetPlayerId((Z7[1]))])+"|r")
call MultiboardReleaseItem(W69)
set WL9=WL9+2
set W19=W59
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
call MultiboardSetItemValue(W69,C_4+GetObjectName(1848657238))
call MultiboardSetItemWidth(W69,0.035)
call MultiboardReleaseItem(W69)
set i=0
set WL9=WL9
set W19=W59+i+1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if B64[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[B64[i]])
endif
call MultiboardReleaseItem(W69)
set i=1
set W19=W59+i+1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if B64[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[B64[i]])
endif
call MultiboardReleaseItem(W69)
set i=2
set W19=W59+i+1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if B64[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[B64[i]])
endif
call MultiboardReleaseItem(W69)
set i=3
set W19=W59+i+1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if B64[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[B64[i]])
endif
call MultiboardReleaseItem(W69)
set i=4
set W19=W59+i+1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if B64[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[B64[i]])
endif
call MultiboardReleaseItem(W69)
set WL9=WL9+2
set W19=W59
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
call MultiboardSetItemValue(W69,C_4+GetObjectName(1848657240))
call MultiboardSetItemWidth(W69,0.035)
call MultiboardReleaseItem(W69)
set i=0
set WL9=WL9
set W19=W59+i+1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if B54[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[B54[i]])
endif
call MultiboardReleaseItem(W69)
set i=1
set W19=W59+i+1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if B54[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[B54[i]])
endif
call MultiboardReleaseItem(W69)
set i=2
set W19=W59+i+1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if B54[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[B54[i]])
endif
call MultiboardReleaseItem(W69)
set i=3
set W19=W59+i+1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if B54[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[B54[i]])
endif
call MultiboardReleaseItem(W69)
set i=4
set W19=W59+i+1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if B54[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[B54[i]])
endif
call MultiboardReleaseItem(W69)
set WL9=WL9+2
set W19=W59
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
call MultiboardSetItemValue(W69,C_4+GetObjectName(1848657237))
call MultiboardSetItemWidth(W69,0.035)
call MultiboardReleaseItem(W69)
set W19=W59+1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
call MultiboardSetItemValue(W69,WB9(BB4[1],1))
call MultiboardSetItemWidth(W69,0.035)
call MultiboardReleaseItem(W69)
set WL9=WL9+1
set W19=W59
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
call MultiboardSetItemValue(W69,C_4+GetObjectName(1848657236))
call MultiboardSetItemWidth(W69,0.035)
call MultiboardReleaseItem(W69)
set W19=W59+1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
call MultiboardSetItemValue(W69,WB9(BA4[1],1))
call MultiboardSetItemWidth(W69,0.035)
call MultiboardReleaseItem(W69)
set WL9=WL9+2
set W19=W59
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
call MultiboardSetItemValue(W69,C_4+GetObjectName(1848657241))
call MultiboardSetItemWidth(W69,0.035)
call MultiboardReleaseItem(W69)
set W19=W59+1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
if TimerGetElapsed(W)<15 then
call MultiboardSetItemValue(W69,L74+GetObjectName(1848657457))
elseif B34==1 then
call MultiboardSetItemValue(W69,GetObjectName(1848657460))
elseif B34==2 then
call MultiboardSetItemValue(W69,L74+GetObjectName(1848657457))
else
call MultiboardSetItemValue(W69,L74+GetObjectName(1848657458))
endif
call MultiboardSetItemWidth(W69,0.035)
call MultiboardReleaseItem(W69)
set WL9=1
set W19=W09
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
call MultiboardSetItemWidth(W69,1.5)
call MultiboardSetItemValue(W69,"   "+Q[GetPlayerId(A7[1])]+(KZ4[GetPlayerId((A7[1]))])+"|r")
call MultiboardReleaseItem(W69)
set WL9=WL9+2
set W19=W09-1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
call MultiboardSetItemValue(W69,C_4+" "+GetObjectName(1848657238))
call MultiboardSetItemWidth(W69,0.035)
call MultiboardReleaseItem(W69)
set i=0
set W19=W09+i+1-1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if BL4[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[BL4[i]])
endif
call MultiboardReleaseItem(W69)
set i=1
set W19=W09+i+1-1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if BL4[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[BL4[i]])
endif
call MultiboardReleaseItem(W69)
set i=2
set W19=W09+i+1-1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if BL4[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[BL4[i]])
endif
call MultiboardReleaseItem(W69)
set i=3
set W19=W09+i+1-1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if BL4[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[BL4[i]])
endif
call MultiboardReleaseItem(W69)
set i=4
set W19=W09+i+1-1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if BL4[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[BL4[i]])
endif
call MultiboardReleaseItem(W69)
set WL9=WL9+2
set W19=W09-1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
call MultiboardSetItemValue(W69,C_4+" "+GetObjectName(1848657240))
call MultiboardSetItemWidth(W69,0.035)
call MultiboardReleaseItem(W69)
set i=0
set W19=W09+i+1-1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if B24[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[B24[i]])
endif
call MultiboardReleaseItem(W69)
set i=1
set W19=W09+i+1-1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if B24[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[B24[i]])
endif
call MultiboardReleaseItem(W69)
set i=2
set W19=W09+i+1-1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if B24[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[B24[i]])
endif
call MultiboardReleaseItem(W69)
set i=3
set W19=W09+i+1-1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if B24[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[B24[i]])
endif
call MultiboardReleaseItem(W69)
set i=4
set W19=W09+i+1-1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemWidth(W69,0.015)
if B24[i]>0 then
call MultiboardSetItemStyle(W69,false,true)
call MultiboardSetItemIcon(W69,MH4[B24[i]])
endif
call MultiboardReleaseItem(W69)
set WL9=WL9+2
set W19=W09-2
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
call MultiboardSetItemValue(W69,C_4+GetObjectName(1848657237))
call MultiboardSetItemWidth(W69,0.035)
call MultiboardReleaseItem(W69)
set W19=W09-1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
call MultiboardSetItemValue(W69,WB9(BB4[2],2))
call MultiboardSetItemWidth(W69,0.035)
call MultiboardReleaseItem(W69)
set WL9=WL9+1
set W19=W09-2
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
call MultiboardSetItemValue(W69,C_4+GetObjectName(1848657236))
call MultiboardSetItemWidth(W69,0.035)
call MultiboardReleaseItem(W69)
set W19=W09-1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
call MultiboardSetItemValue(W69,WB9(BA4[2],2))
call MultiboardSetItemWidth(W69,0.035)
call MultiboardReleaseItem(W69)
set WL9=WL9+2
set W19=W09-2
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
call MultiboardSetItemValue(W69,C_4+GetObjectName(1848657241))
call MultiboardSetItemWidth(W69,0.035)
call MultiboardReleaseItem(W69)
set W19=W09-1
set W69=MultiboardGetItem(L84,WL9,W19)
call MultiboardSetItemStyle(W69,true,false)
if TimerGetElapsed(W)<15 then
call MultiboardSetItemValue(W69,L74+GetObjectName(1848657457))
elseif B34==2 then
call MultiboardSetItemValue(W69,GetObjectName(1848657460))
elseif B34==1 then
call MultiboardSetItemValue(W69,L74+GetObjectName(1848657457))
else
call MultiboardSetItemValue(W69,L74+GetObjectName(1848657458))
endif
call MultiboardSetItemWidth(W69,0.035)
call MultiboardReleaseItem(W69)
return false
endfunction
function W29 takes nothing returns nothing
local integer W_9=12
local integer X49=14
local trigger t=CreateTrigger()
local integer i
local multiboarditem W69
set EZ7="W29"
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function W39))
set L84=CreateMultiboard()
call MultiboardSetItemsWidth(L84,0.015)
call MultiboardSetRowCount(L84,W_9)
call MultiboardSetColumnCount(L84,X49)
call MultiboardSetTitleText(L84,GetObjectName(1848658742))
call MultiboardSetItemsStyle(L84,false,false)
call MultiboardMinimize(L84,false)
call MultiboardDisplay(L84,true)
set i=0
loop
exitwhen i>X49
set W69=MultiboardGetItem(L84,0,i)
call MultiboardSetItemWidth(W69,0.015)
call MultiboardReleaseItem(W69)
set i=i+1
endloop
set t=null
set W69=null
endfunction
function X79 takes nothing returns boolean
local unit X89=GetSoldUnit()
local player p=GetOwningPlayer(X89)
local integer i
local real x
local real y
local real a
set EZ7="X79"
if GetUnitTypeId(X89)==1747990094 and IsPlayerAlly(GetOwningPlayer(X89),GetOwningPlayer(GetSellingUnit()))then
if M7[GetPlayerId(p)]!=null then
call DQ8(p,GetObjectName(1848657459))
call KillUnit(X89)
set X89=null
set p=null
return false
endif
set x=GetUnitX(GetSellingUnit())
set y=GetUnitY(GetSellingUnit())
set i=R47(GetUnitTypeId(GetSellingUnit()))
set a=GetUnitFacing(GetSellingUnit())
call RemoveUnit(GetSellingUnit())
call CreateUnit(p,i,x,y,a)
endif
if GetUnitTypeId(X89)==1747990094 then
call KillUnit(X89)
endif
if M7[GetPlayerId(Z7[1])]!=null and M7[GetPlayerId(Z7[2])]!=null and M7[GetPlayerId(Z7[3])]!=null and M7[GetPlayerId(Z7[4])]!=null and M7[GetPlayerId(Z7[5])]!=null and M7[GetPlayerId(A7[1])]!=null and M7[GetPlayerId(A7[2])]!=null and M7[GetPlayerId(A7[3])]!=null and M7[GetPlayerId(A7[4])]!=null and M7[GetPlayerId(A7[5])]!=null then
call UQ7(GetTriggeringTrigger())
endif
set X89=null
set p=null
return false
endfunction
function X99 takes player pl,boolean J4 returns nothing
local integer O5=GetPlayerId(pl)
local integer T8
local integer U8
if not J4 then
set DQ7[64+O5]=(not DQ7[64+O5])
call DisplayTimedTextToPlayer(pl,0,0,10.,GetObjectName(1496332596)+OY7(DQ7[64+O5],GetObjectName(1496403790),GetObjectName(1498369862)))
if not DQ7[48+O5]then
return
endif
else
set DQ7[48+O5]=true
endif
set DQ7[32+O5]=(DQ7[64+O5]and DQ7[48+O5])
set O5=GetPlayerId(GetLocalPlayer())
set T8=1
set U8=3+HC4+HB4
loop
exitwhen T8>U8
call x7(T4,15,T8,OB7(DQ7[32+O5],GE7,0.01))
set T8=T8+1
endloop
if(pl==GetLocalPlayer())then
set EN7=IsMultiboardMinimized(T4)
call MultiboardMinimize(T4,true)
endif
call YE8()
if(pl==GetLocalPlayer())then
call MultiboardMinimize(T4,EN7)
endif
endfunction
function S49 takes nothing returns nothing
call X99(GetTriggerPlayer(),false)
endfunction
function XD9 takes player pl,boolean J4 returns nothing
local integer O5=GetPlayerId(pl)
local integer T8
local integer U8
local real QL7
if not(EU or FU)then
return
endif
if not J4 then
set DQ7[112+O5]=(not DQ7[112+O5])
call DisplayTimedTextToPlayer(pl,0,0,10.,GetObjectName(1496332595)+OY7(DQ7[112+O5],GetObjectName(1496403790),GetObjectName(1498369862)))
if not DQ7[96+O5]then
return
endif
else
set DQ7[96+O5]=true
endif
set DQ7[80+O5]=(DQ7[112+O5]and DQ7[96+O5])
set O5=GetPlayerId(GetLocalPlayer())
set QL7=0
if(EU)then
set QL7=QL7+GE7/2
endif
if(FU)then
set QL7=QL7+GE7/2
endif
set T8=1
set U8=3+HC4+HB4
loop
exitwhen T8>U8
call x7(T4,14,T8,OB7(DQ7[80+O5],QL7,0.01))
set T8=T8+1
endloop
if(pl==GetLocalPlayer())then
set EN7=IsMultiboardMinimized(T4)
call MultiboardMinimize(T4,true)
endif
call YE8()
if(pl==GetLocalPlayer())then
call MultiboardMinimize(T4,EN7)
endif
endfunction
function S89 takes nothing returns nothing
call XD9(GetTriggerPlayer(),false)
endfunction
function XE9 takes nothing returns boolean
local integer O5=1
set BZ4=true
call UQ7(GetTriggeringTrigger())
call DestroyMultiboard(L84)
call XB8()
call O59()
call XY8()
loop
exitwhen O5>11
if GetPlayerController(Player(O5))==MAP_CONTROL_USER then
call X99(Player(O5),true)
call XD9(Player(O5),true)
endif
set O5=O5+1
endloop
return false
endfunction
function ModeCM_SpawnSound takes nothing returns boolean
call UQ7(GetTriggeringTrigger())
call PlaySoundBJ(ZO)
return false
endfunction
function XF9 takes nothing returns boolean
local trigger t=CreateTrigger()
local integer EK9
local integer EJ9
local string CF8
local unit u
local real x
local real y
local integer i
local real d
local real XG9=GetRectCenterX(ED)
local real XH9=GetRectCenterY(ED)
local real XI9=GetRectCenterX(L9)
local real XJ9=GetRectCenterY(L9)
set EZ7="XF9"
set B34=3
set O44=true
call UQ7(GetTriggeringTrigger())
set i=0
loop
exitwhen i==5
set x=XG9-300+i*150
set y=XH9
set u=CreateUnit(Z7[0],MI4[B54[i]],x,y,270)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_SELL)
call PanCameraToTimedForPlayer(Z7[i+1],XG9,XH9,0)
call CreateUnit(Z7[i+1],1848651843,XG9,XH9,bj_UNIT_FACING)
call SetPlayerState(Z7[i+1],PLAYER_STATE_RESOURCE_GOLD,BO4[GetPlayerId(Z7[i+1])]-250)
set DN7[1+i]=u
set i=i+1
endloop
set i=0
loop
exitwhen i==5
set x=XI9-300+i*150
set y=XJ9
set u=CreateUnit(A7[0],MI4[B24[i]],x,y,270)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_SELL)
call PanCameraToTimedForPlayer(A7[i+1],XI9,XJ9,0)
call CreateUnit(A7[i+1],1848651843,XI9,XJ9,bj_UNIT_FACING)
call SetPlayerState(A7[i+1],PLAYER_STATE_RESOURCE_GOLD,BO4[GetPlayerId(A7[i+1])]-250)
set DN7[7+i]=u
set i=i+1
endloop
call TriggerAddCondition(t,Condition(function X79))
call SuspendTimeOfDay(false)
call EnableTrigger(M04)
call EnableTrigger(ML4)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,10,false)
call TriggerAddCondition(t,Condition(function XE9))
set QD4=90
call BE7()
set LO4=false
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,DM7,false)
call TriggerAddCondition(t,Condition(function WI9))
call ExecuteFunc("XK9")
call P49()
set t=null
set u=null
return false
endfunction
function XM9 takes integer i returns nothing
call B97(K34[i])
if B34==1 then
set B54[B_4]=i
set B_4=B_4+1
else
set B24[CK4]=i
set CK4=CK4+1
endif
endfunction
function XN9 takes nothing returns nothing
local integer i=BM7()
set EZ7="XN9"
loop
if J[i]==false then
set J[i]=true
call XM9(i)
return
endif
endloop
endfunction
function XO9 takes integer i returns nothing
call I38("Ban"+I2S(GetPlayerId(GetOwningPlayer(GetSoldUnit()))),K34[i])
call B97(K34[i])
if B34==1 then
set B64[B14]=i
set B14=B14+1
else
set BL4[B04]=i
set B04=B04+1
endif
endfunction
function XP9 takes nothing returns nothing
call XO9(-1)
endfunction
function XQ9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local player p=null
set EZ7="XQ9"
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
set t=null
return false
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call XM9(GetUnitPointValue(GetSoldUnit()))
call RemoveUnit(GetSoldUnit())
call V_9(GetUnitTypeId(GetSoldUnit()))
if CM4==0 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XQ9))
if B34==1 then
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
elseif CM4==1 then
if B34==1 and B_4==4 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XQ9))
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==4 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XQ9))
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==2 then
if B34==1 and B_4==5 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XQ9))
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==5 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XQ9))
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==3 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function XF9))
call WT9(5)
call MultiboardSetTitleText(L84,GetObjectName(1848658742))
endif
else
if GetTriggerEvalCount(t)>CR4 then
if BA4[B34]>0 then
set BA4[B34]=BA4[B34]-1
else
if B34==1 then
call XN9()
else
call XN9()
endif
if CM4==0 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XQ9))
if B34==1 then
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call DP8(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
elseif CM4==1 then
if B34==1 and B_4==4 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XQ9))
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call DP8(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==4 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XQ9))
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==2 then
if B34==1 and B_4==5 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XQ9))
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call DP8(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==5 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XQ9))
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==3 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function XF9))
call WT9(5)
call MultiboardSetTitleText(L84,GetObjectName(1848658742))
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
endif
endif
else
if B34==1 then
set BB4[1]=BB4[1]-1
else
set BB4[2]=BB4[2]-1
endif
endif
endif
set t=null
set p=null
return false
endfunction
function XR9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local player p
set EZ7="XR9"
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
set t=null
return false
endif
if B14==(CU4+CL4)and B04==(CU4+CL4)then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call RemoveUnit(GetSoldUnit())
endif
call UQ7(t)
set CM4=0
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XQ9))
call WT9(4)
call CG7(GetPlayersAll(),15.00,"|c006699CC"+GetObjectName(1848658995)+"|r")
call MultiboardSetTitleText(L84,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848659000))
if B34==1 then
set BB4[B34]=CQ4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
else
set BB4[B34]=CQ4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
set DP7=false
set LN4=p
set t=null
set p=null
return false
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call XO9(GetUnitPointValue(GetSoldUnit()))
call RemoveUnit(GetSoldUnit())
call W89(GetUnitTypeId(GetSoldUnit()))
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XR9))
if B34==1 then
set B34=2
set BB4[B34]=CQ4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CQ4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
else
if GetTriggerEvalCount(t)>CQ4 then
if BA4[B34]>0 then
set BA4[B34]=BA4[B34]-1
else
call XP9()
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XR9))
if B34==1 then
set B34=2
set BB4[B34]=CQ4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call DP8(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CQ4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
endif
else
if B34==1 then
set BB4[1]=BB4[1]-1
else
set BB4[2]=BB4[2]-1
endif
endif
endif
set t=null
set p=null
return false
endfunction
function XS9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local player p=null
set EZ7="XS9"
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
set t=null
return false
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call XM9(GetUnitPointValue(GetSoldUnit()))
call RemoveUnit(GetSoldUnit())
call V_9(GetUnitTypeId(GetSoldUnit()))
if CM4==0 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XS9))
if B34==1 then
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call DP8(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
elseif CM4==1 then
if B34==1 and B_4==2 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XS9))
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call DP8(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==2 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XS9))
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==2 then
if B34==1 and B_4==3 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XS9))
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==3 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XS9))
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==3 then
set CM4=CM4+1
call UQ7(t)
if BC4==1 then
set B34=1
set BB4[B34]=CQ4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
else
set B34=2
set p=A7[1]
set BB4[B34]=CQ4
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XR9))
call WT9(3)
call CG7(GetPlayersAll(),15.00,"|c006699CC"+GetObjectName(1848658996)+"|r")
call MultiboardSetTitleText(L84,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848658999))
set LN4=p
set DP7=true
endif
else
if GetTriggerEvalCount(t)>CP4 then
if BA4[B34]>0 then
set BA4[B34]=BA4[B34]-1
else
if B34==1 then
call XN9()
else
call XN9()
endif
if CM4==0 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XS9))
if B34==1 then
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call DP8(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
elseif CM4==1 then
if B34==1 and B_4==2 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XS9))
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call DP8(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==2 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XS9))
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==2 then
if B34==1 and B_4==3 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XS9))
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call DP8(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==3 then
set CM4=CM4+1
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XS9))
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==3 then
set CM4=CM4+1
call UQ7(t)
if BC4==1 then
set B34=1
set BB4[B34]=CQ4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
else
set B34=2
set p=A7[1]
set BB4[B34]=CQ4
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XR9))
call WT9(3)
call CG7(GetPlayersAll(),15.00,"|c006699CC"+GetObjectName(1848658996)+"|r")
call MultiboardSetTitleText(L84,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848658999))
set LN4=p
set DP7=true
endif
endif
else
if B34==1 then
set BB4[1]=BB4[1]-1
else
set BB4[2]=BB4[2]-1
endif
endif
endif
set t=null
set p=null
return false
endfunction
function XT9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local trigger t2
local player p
set EZ7="XT9"
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
set t=null
return false
endif
if B14==CU4 and B04==CU4 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call RemoveUnit(GetSoldUnit())
endif
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XS9))
call WT9(2)
call CG7(bj_FORCE_ALL_PLAYERS,15.00,"|c006699CC"+GetObjectName(1848658997)+"|r")
call MultiboardSetTitleText(L84,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848659001))
if B34==1 then
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
else
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
set DP7=false
set t=null
set p=null
return false
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call XO9(GetUnitPointValue(GetSoldUnit()))
call RemoveUnit(GetSoldUnit())
call W89(GetUnitTypeId(GetSoldUnit()))
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XT9))
if B34==1 then
set B34=2
set BB4[B34]=CN4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CN4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
else
if GetTriggerEvalCount(t)>CN4 then
if BA4[B34]>0 then
set BA4[B34]=BA4[B34]-1
else
call XP9()
call UQ7(t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XT9))
if B34==1 then
set B34=2
set BB4[B34]=CN4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call DP8(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CN4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
endif
else
if B34==1 then
set BB4[1]=BB4[1]-1
else
set BB4[2]=BB4[2]-1
endif
endif
endif
set t=null
set p=null
return false
endfunction
function XU9 takes nothing returns boolean
local trigger t=CreateTrigger()
local trigger t2
local player p
set EZ7="XU9"
set BW4=true
call UQ7(GetTriggeringTrigger())
if BV4==false then
if BC4==1 then
call CG7(bj_FORCE_ALL_PLAYERS,15.00,Q[GetPlayerId(Z7[1])]+(KZ4[GetPlayerId((Z7[1]))])+"|r "+GetObjectName(1848657217))
else
call CG7(bj_FORCE_ALL_PLAYERS,15.00,Q[GetPlayerId(A7[1])]+(KZ4[GetPlayerId((A7[1]))])+"|r "+GetObjectName(1848657217))
endif
endif
if BC4==1 then
set B34=1
set BB4[B34]=CN4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
else
set B34=2
set p=A7[1]
set BB4[B34]=CN4
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call DP8(p,"Sound\\Interface\\Rescue.wav")
endif
call WT9(1)
call CG7(GetPlayersAll(),15.00,"|c006699CC"+GetObjectName(1848658998)+"|r")
call MultiboardSetTitleText(L84,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848659009))
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XT9))
set LO4=true
set DP7=true
set LN4=p
set t2=CreateTrigger()
call TriggerRegisterTimerEvent(t2,1,true)
call TriggerAddCondition(t2,Condition(function WD9))
set t2=null
set t=null
set p=null
return false
endfunction
function V39 takes nothing returns nothing
local trigger t
local location XV9=GetRectCenter(pr)
local location XW9=GetRectCenter(qr)
local integer x=1
local player p
set EZ7="V39"
call DisableTrigger(QA4)
loop
exitwhen x>5
if AJ7(Z7[x])then
call CreateUnitAtLoc(Z7[x],1848651843,XW9,bj_UNIT_FACING)
endif
if AJ7(A7[x])then
call CreateUnitAtLoc(A7[x],1848651843,XV9,bj_UNIT_FACING)
endif
set x=x+1
endloop
call RemoveLocation(XV9)
call RemoveLocation(XW9)
set SN4=true
set G9=false
set F9=false
set O44=false
call SuspendTimeOfDay(true)
call DisableTrigger(M04)
call DisableTrigger(ML4)
if LG4==false then
call WF9()
endif
set BO4[GetPlayerId(Z7[1])]=GetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(Z7[2])]=GetPlayerState(Z7[2],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(Z7[3])]=GetPlayerState(Z7[3],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(Z7[4])]=GetPlayerState(Z7[4],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(Z7[5])]=GetPlayerState(Z7[5],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(A7[1])]=GetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(A7[2])]=GetPlayerState(A7[2],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(A7[3])]=GetPlayerState(A7[3],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(A7[4])]=GetPlayerState(A7[4],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(A7[5])]=GetPlayerState(A7[5],PLAYER_STATE_RESOURCE_GOLD)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(Z7[2],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(Z7[3],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(Z7[4],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(Z7[5],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[2],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[3],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[4],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[5],PLAYER_STATE_RESOURCE_GOLD,0)
set BA4[1]=CS4
set BA4[2]=CS4
set BC4=GetRandomInt(1,2)
set BV4=false
set B34=BC4
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,15-TimerGetElapsed(W),false)
call TriggerAddCondition(t,Condition(function XU9))
call W29()
call CG7(GetPlayersAll(),4.00,GetObjectName(1848657235))
call CG7(GetPlayersAll(),4.00,GetObjectName(1848657234))
set t=null
set XV9=null
set XW9=null
set p=null
endfunction
function XX9 takes player p,integer z8 returns nothing
local integer i=1
set EZ7="Cgv"
loop
exitwhen i>5
if p!=Z7[i]then
call SetPlayerTechMaxAllowed(Z7[i],z8,0)
endif
if p!=A7[i]then
call SetPlayerTechMaxAllowed(A7[i],z8,0)
endif
set i=i+1
endloop
endfunction
function XY9 takes integer XZ9 returns integer
local integer XA9
set EZ7="CGv"
if XZ9==1 then
set XA9=GetUnitPointValueByType(K24[GetRandomInt(1,K_4)])
elseif XZ9==2 then
set XA9=GetUnitPointValueByType(M44[GetRandomInt(1,M74)])
elseif XZ9==3 then
set XA9=GetUnitPointValueByType(M84[GetRandomInt(1,M94)])
endif
return XA9
endfunction
function XB9 takes integer XC9,integer X39,integer XZ9 returns integer
local integer XA9
set EZ7="Cjv"
set XA9=XY9(XZ9)
if X8 and XC9!=XA9 and X39!=XA9 then
return XA9
endif
loop
exitwhen J[XA9]==false and XC9!=XA9 and X39!=XA9
set XA9=XY9(XZ9)
endloop
set J[XA9]=true
return XA9
endfunction
function VD9 takes nothing returns nothing
local player p
local integer i=1
local integer XC9
local integer X39
local integer X69
local trigger t
local integer US7
set EZ7="VD9"
set VT=true
set QD4=120
set F9=false
set G9=false
call PauseUnit(MP4,true)
call PauseUnit(MQ4,true)
call PauseUnit(MR4,true)
call PauseUnit(MS4,true)
call PauseUnit(MT4,true)
call PauseUnit(MU4,true)
call PauseUnit(MV4,true)
call PauseUnit(MW4,true)
call PauseUnit(MX4,true)
call PauseUnit(MY4,true)
call PauseUnit(MZ4,true)
call PauseUnit(MA4,true)
call DisableTrigger(QA4)
loop
exitwhen i>5
set p=Z7[i]
set XC9=0
set X39=0
set X69=0
if AM7(p)then
call UnitAddAbility(KU4[GetPlayerId(p)],1093743686)
call UnitAddAbility(KU4[GetPlayerId(p)],1093743685)
call UnitAddAbility(KU4[GetPlayerId(p)],1093743688)
set XC9=XB9(XC9,X39,1)
set X39=XB9(XC9,X39,2)
set X69=XB9(XC9,X39,3)
call AddUnitToStock(KU4[GetPlayerId(p)],K34[XC9],1,1)
call XX9(p,K34[XC9])
call AddUnitToStock(KU4[GetPlayerId(p)],K34[X39],1,1)
call XX9(p,K34[X39])
call AddUnitToStock(KU4[GetPlayerId(p)],K34[X69],1,1)
call XX9(p,K34[X69])
call ClearSelectionForPlayer(p)
call SelectUnitAddForPlayer(KU4[GetPlayerId(p)],p)
call PanCameraToTimedForPlayer(p,GetRectCenterX(ED),GetRectCenterY(ED),0)
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15,"|cff99ccff"+(GetObjectName((1848657206)))+"|r")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
endif
set p=A7[i]
set XC9=0
set X39=0
set X69=0
if AM7(p)then
call UnitAddAbility(KU4[GetPlayerId(p)],1093743686)
call UnitAddAbility(KU4[GetPlayerId(p)],1093743685)
call UnitAddAbility(KU4[GetPlayerId(p)],1093743688)
set XC9=XB9(XC9,X39,1)
set X39=XB9(XC9,X39,2)
set X69=XB9(XC9,X39,3)
call AddUnitToStock(KU4[GetPlayerId(p)],K34[XC9],1,1)
call XX9(p,K34[XC9])
call AddUnitToStock(KU4[GetPlayerId(p)],K34[X39],1,1)
call XX9(p,K34[X39])
call AddUnitToStock(KU4[GetPlayerId(p)],K34[X69],1,1)
call XX9(p,K34[X69])
call ClearSelectionForPlayer(p)
call SelectUnitAddForPlayer(KU4[GetPlayerId(p)],p)
call PanCameraToTimedForPlayer(p,GetRectCenterX(L9),GetRectCenterY(L9),0)
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15,"|cff99ccff"+(GetObjectName((1848657206)))+"|r")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
endif
set i=i+1
endloop
set p=null
set t=null
endfunction
function XL9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer BC8=U97(US7,"Index")
local player p
local integer BN7
local location JP8=GetRectCenter(ED)
local location JQ8=GetRectCenter(L9)
set EZ7="XL9"
if BC8<6 then
set p=Z7[BC8]
elseif BC8<11 then
set p=A7[BC8-5]
endif
if BC8>10 then
call T97(US7)
call UQ7(t)
if D4==false and RZ4==false then
set G9=true
endif
elseif BC8<6 then
call TF7(US7,"Index",BC8+1)
set M7[GetPlayerId(p)]=null
if AM7(p)then
loop
exitwhen M7[GetPlayerId(p)]!=null
if GetPlayerController(p)==MAP_CONTROL_USER and RZ4 then
set BN7=500
elseif RZ4 then
set BN7=BK7()
else
set BN7=BM7()
endif
if J[BN7]==false then
if not X8 and not RZ4 then
set J[BN7]=true
endif
set M7[GetPlayerId(p)]=CreateUnitAtLoc(p,K34[BN7],JP8,bj_UNIT_FACING)
endif
endloop
endif
elseif BC8<11 then
call TF7(US7,"Index",BC8+1)
set M7[GetPlayerId(p)]=null
if AM7(p)then
loop
exitwhen M7[GetPlayerId(p)]!=null
if p==Le and RZ4 then
set BN7=500
elseif RZ4 then
set BN7=BK7()
else
set BN7=BM7()
endif
if J[BN7]==false then
if not X8 then
set J[BN7]=true
endif
set M7[GetPlayerId(p)]=CreateUnitAtLoc(p,K34[BN7],JQ8,bj_UNIT_FACING)
endif
endloop
endif
endif
call RemoveLocation(JP8)
call RemoveLocation(JQ8)
set JP8=null
set JQ8=null
set p=null
set t=null
return false
endfunction
function V79 takes nothing returns nothing
local location JP8=GetRectCenter(ED)
local location JQ8=GetRectCenter(L9)
local location X19=GetRectCenter(ED)
local location X09=GetRectCenter(L9)
local integer T8=1
local integer U8=5
local integer BN7
local trigger t
set EZ7="V79"
set E4=true
set F9=false
if not X8 then
call BE7()
endif
call DisableTrigger(QA4)
set X4=400
call PanCameraToTimedLocForPlayer(Z7[1],X19,0)
call PanCameraToTimedLocForPlayer(Z7[2],X19,0)
call PanCameraToTimedLocForPlayer(Z7[3],X19,0)
call PanCameraToTimedLocForPlayer(Z7[4],X19,0)
call PanCameraToTimedLocForPlayer(Z7[5],X19,0)
call PanCameraToTimedLocForPlayer(A7[1],X09,0)
call PanCameraToTimedLocForPlayer(A7[2],X09,0)
call PanCameraToTimedLocForPlayer(A7[3],X09,0)
call PanCameraToTimedLocForPlayer(A7[4],X09,0)
call PanCameraToTimedLocForPlayer(A7[5],X09,0)
if H34 then
loop
set BN7=BM7()
exitwhen J[BN7]==false
endloop
if AG7(Le)then
set M7[GetPlayerId(Le)]=CreateUnit(Le,K34[BN7],GetLocationX(JP8),GetLocationY(JP8),270)
else
set M7[GetPlayerId(Le)]=CreateUnit(Le,K34[BN7],GetLocationX(JQ8),GetLocationY(JQ8),270)
endif
call RemoveLocation(JP8)
call RemoveLocation(JQ8)
call RemoveLocation(X19)
call RemoveLocation(X09)
set JP8=null
set JQ8=null
set X19=null
set X09=null
set t=null
return
endif
set G9=false
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddCondition(t,Condition(function XL9))
call TF7(GetHandleId(t),"Index",1)
call RemoveLocation(JP8)
call RemoveLocation(JQ8)
call RemoveLocation(X19)
call RemoveLocation(X09)
set JP8=null
set JQ8=null
set X19=null
set X09=null
set t=null
endfunction
function Q2 takes nothing returns nothing
call D38(GetEnumUnit())
endfunction
function Q3 takes unit C17 returns nothing
local integer Q4=GetPlayerId(GetOwningPlayer(C17))
set EZ7="Q3"
set se[Q4]=UnitItemInSlot(C17,0)
set Se[Q4]=UnitItemInSlot(C17,1)
set We[Q4]=UnitItemInSlot(C17,2)
set ze[Q4]=UnitItemInSlot(C17,3)
set Ze[Q4]=UnitItemInSlot(C17,4)
set vx[Q4]=UnitItemInSlot(C17,5)
endfunction
function Q5 takes player h5,player h6 returns integer
local unit Q6=M7[GetPlayerId(h5)]
local unit Q7=M7[GetPlayerId(h6)]
set EZ7="Q5"
call UnitRemoveBuffs(Q6,true,true)
call UnitRemoveBuffs(Q7,true,true)
if Q6==null and Q7==null then
call CG7(bj_FORCE_ALL_PLAYERS,15,Q[GetPlayerId(Z7[0])]+CE7(h5)+" and "+CE7(h6)+" did not pick a hero so they have no hero to be assigned.|r")
elseif GetRandomInt(1,2)==1 then
if(Q6!=null)then
return GetUnitTypeId(Q6)
else
return GetUnitTypeId(Q7)
endif
else
if(Q7!=null)then
return GetUnitTypeId(Q7)
else
return GetUnitTypeId(Q6)
endif
endif
call CG7(bj_FORCE_ALL_PLAYERS,15,Q[GetPlayerId(Z7[0])]+CE7(h5)+" and "+CE7(h6)+" have not picked a hero. They will be given a random hero!")
return BM7()
endfunction
function Q8 takes nothing returns nothing
if(GetUnitTypeId(GetEnumUnit())==1848651828)then
call RemoveUnit(GetEnumUnit())
endif
if(GetUnitTypeId(GetEnumUnit())==1865429043)then
call RemoveUnit(GetEnumUnit())
endif
endfunction
function Q9 takes nothing returns boolean
local integer T8
local group ra=LD7()
local unit rA
local location X19=GetRectCenter(ED)
local location X09=GetRectCenter(L9)
local integer rb=P8(X7)
local player array rB
local player array rc
local integer x
local integer y
local real rC
local real rd
local real rD
local integer re
local group JJ8=O17(GetWorldBounds(),null)
set EZ7="Q9"
call ForGroup(JJ8,function Q8)
call L97(JJ8)
set T8=1
set x=1
set y=1
loop
exitwhen T8>5
if(AM7(Z7[T8]))then
call Q3(M7[GetPlayerId(Z7[T8])])
call GroupAddUnit(ra,M7[GetPlayerId(Z7[T8])])
set rB[x]=Z7[T8]
set x=x+1
endif
if(AM7(A7[T8]))then
call Q3(M7[GetPlayerId(A7[T8])])
call GroupAddUnit(ra,M7[GetPlayerId(A7[T8])])
set rc[y]=A7[T8]
set y=y+1
endif
set T8=T8+1
endloop
set x=1
loop
exitwhen x>rb
set re=Q5(rB[x],rc[x])
if(M7[GetPlayerId(rB[x])]==null)then
set rC=GetLocationX(X19)+GetRandomReal(1,40)
set rd=GetLocationY(X19)+GetRandomReal(1,40)
set rD=270
else
set rC=GetUnitX(M7[GetPlayerId(rB[x])])
set rd=GetUnitY(M7[GetPlayerId(rB[x])])
set rD=GetUnitFacing(M7[GetPlayerId(rB[x])])
call SetUnitPathing(M7[GetPlayerId(rB[x])],false)
endif
set M7[GetPlayerId(rB[x])]=CreateUnit(rB[x],re,rC,rd,rD)
call SetUnitPathing(M7[GetPlayerId(rB[x])],false)
call SetUnitPosition(M7[GetPlayerId(rB[x])],rC,rd)
call UnitAddItem(M7[GetPlayerId(rB[x])],se[GetPlayerId(rB[x])])
call UnitAddItem(M7[GetPlayerId(rB[x])],Se[GetPlayerId(rB[x])])
call UnitAddItem(M7[GetPlayerId(rB[x])],We[GetPlayerId(rB[x])])
call UnitAddItem(M7[GetPlayerId(rB[x])],ze[GetPlayerId(rB[x])])
call UnitAddItem(M7[GetPlayerId(rB[x])],Ze[GetPlayerId(rB[x])])
call UnitAddItem(M7[GetPlayerId(rB[x])],vx[GetPlayerId(rB[x])])
call ClearSelectionForPlayer(rB[x])
call SelectUnitAddForPlayer(M7[GetPlayerId(rB[x])],rB[x])
call PanCameraToTimedForPlayer(rB[x],rC,rd,0)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Awaken\\Awaken.mdl",rC,rd))
if(M7[GetPlayerId(rc[x])]==null)then
set rC=GetLocationX(X09)
set rd=GetLocationY(X09)
set rD=270
else
set rC=GetUnitX(M7[GetPlayerId(rc[x])])
set rd=GetUnitY(M7[GetPlayerId(rc[x])])
set rD=GetUnitFacing(M7[GetPlayerId(rc[x])])
call SetUnitPathing(M7[GetPlayerId(rc[x])],false)
endif
set M7[GetPlayerId(rc[x])]=CreateUnit(rc[x],re,rC,rd,rD)
call SetUnitPathing(M7[GetPlayerId(rc[x])],false)
call SetUnitPosition(M7[GetPlayerId(rc[x])],rC,rd)
call UnitAddItem(M7[GetPlayerId(rc[x])],se[GetPlayerId(rc[x])])
call UnitAddItem(M7[GetPlayerId(rc[x])],Se[GetPlayerId(rc[x])])
call UnitAddItem(M7[GetPlayerId(rc[x])],We[GetPlayerId(rc[x])])
call UnitAddItem(M7[GetPlayerId(rc[x])],ze[GetPlayerId(rc[x])])
call UnitAddItem(M7[GetPlayerId(rc[x])],Ze[GetPlayerId(rc[x])])
call UnitAddItem(M7[GetPlayerId(rc[x])],vx[GetPlayerId(rc[x])])
call ClearSelectionForPlayer(rc[x])
call SelectUnitAddForPlayer(M7[GetPlayerId(rc[x])],rc[x])
call PanCameraToTimedForPlayer(rc[x],rC,rd,0)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Awaken\\Awaken.mdl",rC,rd))
set x=x+1
endloop
call ForGroup(ra,function Q2)
call L97(ra)
set x=1
loop
exitwhen x>rb
call SetUnitPathing(M7[GetPlayerId(rB[x])],true)
call SetUnitPathing(M7[GetPlayerId(rc[x])],true)
set x=x+1
endloop
call RemoveLocation(X19)
call RemoveLocation(X09)
set ra=null
set rA=null
set X19=null
set X09=null
set JJ8=null
return false
endfunction
function rE takes nothing returns boolean
set AJ=true
return false
endfunction
function rf takes nothing returns boolean
set G9=false
set F9=false
call BE7()
return false
endfunction
function U69 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="U69"
call CG7(L8,10,"Your hero might change at the 60 second mark.")
call CG7(L8,10,"It is recommended to not purchase items until then.")
set W8=true
call B97(1211117641)
call TriggerRegisterTimerEvent(t,60-TimerGetElapsed(W),false)
call TriggerAddCondition(t,Condition(function Q9))
set t=CreateTrigger()
call TriggerAddCondition(t,Condition(function rf))
call TriggerRegisterTimerEvent(t,57-TimerGetElapsed(W),false)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,55+60-TimerGetElapsed(W),false)
call TriggerAddCondition(t,Condition(function rE))
set t=null
endfunction
function V99 takes nothing returns nothing
local location JP8=GetRectCenter(HD)
local location JQ8=GetRectCenter(GD)
local location X19=GetRectCenter(ED)
local location X09=GetRectCenter(L9)
local integer T8
local integer U8
local integer BN7
set EZ7="V99"
if not X8 then
call BE7()
endif
call DisableTrigger(QA4)
set O4=true
set X4=400
set F9=false
call PanCameraToTimedLocForPlayer(Z7[1],X19,0)
call PanCameraToTimedLocForPlayer(Z7[2],X19,0)
call PanCameraToTimedLocForPlayer(Z7[3],X19,0)
call PanCameraToTimedLocForPlayer(Z7[4],X19,0)
call PanCameraToTimedLocForPlayer(Z7[5],X19,0)
call PanCameraToTimedLocForPlayer(A7[1],X09,0)
call PanCameraToTimedLocForPlayer(A7[2],X09,0)
call PanCameraToTimedLocForPlayer(A7[3],X09,0)
call PanCameraToTimedLocForPlayer(A7[4],X09,0)
call PanCameraToTimedLocForPlayer(A7[5],X09,0)
if H34 then
if AG7(Le)then
loop
set BN7=GetRandomInt(KL4,K14)
exitwhen J[BN7]==false
endloop
set M7[GetPlayerId(Le)]=CreateUnit(Le,K34[BN7],GetLocationX(JP8),GetLocationY(JP8),270)
else
loop
set BN7=GetRandomInt(K04,K54)
exitwhen J[BN7]==false
endloop
set M7[GetPlayerId(Le)]=CreateUnit(Le,K34[BN7],GetLocationX(JQ8),GetLocationY(JQ8),270)
endif
call RemoveLocation(JP8)
call RemoveLocation(JQ8)
call RemoveLocation(X19)
call RemoveLocation(X09)
return
endif
set G9=false
set T8=1
set U8=5
loop
exitwhen T8>U8
set M7[GetPlayerId(Z7[T8])]=null
if(AM7(Z7[T8]))then
loop
set BN7=GetRandomInt(KL4,K14)
if(J[BN7]==false)then
if not X8 then
set J[BN7]=true
endif
set M7[GetPlayerId(Z7[T8])]=CreateUnitAtLoc(Z7[T8],K34[BN7],JP8,bj_UNIT_FACING)
endif
exitwhen(M7[GetPlayerId(Z7[T8])]!=null)
endloop
endif
set T8=T8+1
endloop
set T8=1
set U8=5
loop
exitwhen T8>U8
set M7[GetPlayerId(A7[T8])]=null
if(AM7(A7[T8]))then
loop
set BN7=GetRandomInt(K04,K54)
if(J[BN7]==false)then
if not X8 then
set J[BN7]=true
endif
set M7[GetPlayerId(A7[T8])]=CreateUnitAtLoc(A7[T8],K34[BN7],JQ8,bj_UNIT_FACING)
endif
exitwhen(M7[GetPlayerId(A7[T8])]!=null)
endloop
endif
set T8=T8+1
endloop
set G9=true
call RemoveLocation(JP8)
call RemoveLocation(JQ8)
call RemoveLocation(X19)
call RemoveLocation(X09)
set JP8=null
set JQ8=null
set X19=null
set X09=null
endfunction
function rF takes nothing returns nothing
set P94=true
call CG7(bj_FORCE_ALL_PLAYERS,10,"No Deaths has been enabled. You will have no respawn time.")
call DisableTrigger(GetTriggeringTrigger())
endfunction
function rg takes nothing returns nothing
local integer rG=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))
set EZ7="rg"
if rG>PD4 then
call DQ8(Le,"Too many lives")
elseif rG<10 then
call DQ8(Le,"Too few lives")
else
set PD4=rG
call CG7(bj_FORCE_ALL_PLAYERS,10,"Each team has "+I2S(PD4)+" lives before they lose the game.")
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function rh takes nothing returns nothing
call DisableTrigger(T07(GetHandleId(GetTriggeringTrigger()),"nd"))
call DisableTrigger(T07(GetHandleId(GetTriggeringTrigger()),"lives"))
call DisableTrigger(GetTriggeringTrigger())
endfunction
function X59 takes nothing returns nothing
local trigger ri=CreateTrigger()
local trigger rI=CreateTrigger()
local trigger nd=CreateTrigger()
set EZ7="X59"
set PD4=DL8(K14,K54-K04+1)
call CG7(bj_FORCE_ALL_PLAYERS,10.," ")
call CG7(bj_FORCE_ALL_PLAYERS,10.,"Extra commands: -nd and -lives xx can be entered in the following 15 seconds. ")
call CG7(bj_FORCE_ALL_PLAYERS,10.,"Current DM lives are "+I2S(PD4))
call TriggerRegisterTimerEvent(ri,15.,false)
call TriggerAddAction(ri,function rh)
call TM7(GetHandleId(ri),"nd",nd)
call TM7(GetHandleId(ri),"lives",rI)
call TriggerRegisterPlayerChatEvent(nd,Le,"-nd",true)
call TriggerAddAction(nd,function rF)
call TriggerRegisterPlayerChatEvent(rI,Le,"-lives",false)
call TriggerAddAction(rI,function rg)
endfunction
function X29 takes nothing returns nothing
local integer rJ=U97(GetHandleId(GetTriggeringTrigger()),"PlayerId")
local integer T8
local integer U8
local integer BN7
local integer QM
local location JP8=GetRectCenter(pr)
local location JQ8=GetRectCenter(qr)
set EZ7="X29"
if D9 then
return
endif
if AG7(Player(rJ))then
set T8=KL4
set U8=K14
set QM=0
else
set T8=K04
set U8=K54
set QM=1
endif
if P4 then
set T8=KL4
set U8=K54
if AG7(Player(rJ))then
call CreateUnitAtLoc(Player(rJ),1848651843,JP8,bj_UNIT_FACING)
call CreateUnitAtLoc(Player(rJ),1848651843,JQ8,bj_UNIT_FACING)
else
call CreateUnitAtLoc(Player(rJ),1848651843,JP8,bj_UNIT_FACING)
call CreateUnitAtLoc(Player(rJ),1848651843,JQ8,bj_UNIT_FACING)
endif
endif
if((not E4)and(GetPlayerController(Player(rJ))==MAP_CONTROL_USER))then
loop
exitwhen T8>U8
if J[T8]==false then
call SetPlayerTechMaxAllowed(Player(rJ),K34[T8],1)
endif
set T8=T8+1
endloop
if(GetPlayerState(Player(rJ),PLAYER_STATE_RESOURCE_GOLD)<250)then
call SetPlayerState(Player(rJ),PLAYER_STATE_RESOURCE_GOLD,250)
endif
elseif(S7[QM]<PD4)then
set M7[rJ]=null
if AM7(Player(rJ))then
loop
if(E4)then
set BN7=BM7()
elseif RZ4 then
set BN7=BK7()
elseif(((not P4)and(AG7(Player(rJ))))or((P4)and(GetRandomInt(1,2)==1)))then
set BN7=GetRandomInt(KL4,K14)
else
set BN7=GetRandomInt(K04,K54)
endif
if J[BN7]==false then
if RZ4==false then
set J[BN7]=true
endif
if AG7(Player(rJ))then
set M7[rJ]=CreateUnitAtLoc(Player(rJ),K34[BN7],JP8,bj_UNIT_FACING)
else
set M7[rJ]=CreateUnitAtLoc(Player(rJ),K34[BN7],JQ8,bj_UNIT_FACING)
endif
endif
exitwhen M7[rJ]!=null
endloop
endif
endif
call RemoveLocation(JP8)
call RemoveLocation(JQ8)
set JP8=null
set JQ8=null
if not E4 then
endif
endfunction
function U39 takes nothing returns nothing
local location Mk
local real CPv
local trigger t
local integer rk
local integer x
set EZ7="U39"
set D4=true
call B97(1211117641)
call B97(1311781207)
set x=1
loop
exitwhen x>5
set rk=GetPlayerId(Z7[x])
set t=CreateTrigger()
call TriggerRegisterTimerExpireEvent(t,U[rk])
call TriggerAddAction(t,function X29)
call TF7(GetHandleId(t),"PlayerId",rk)
set rk=GetPlayerId(A7[x])
set t=CreateTrigger()
call TriggerRegisterTimerExpireEvent(t,U[rk])
call TriggerAddAction(t,function X29)
call TF7(GetHandleId(t),"PlayerId",rk)
set x=x+1
endloop
call UnitRemoveAbility(KJ4,1096906593)
call UnitRemoveAbility(KK4,1096906593)
call UnitRemoveAbility(KM4,1096906593)
call UnitRemoveAbility(KN4,1096906593)
call UnitRemoveAbility(KO4,1096906593)
call UnitRemoveAbility(KP4,1096906593)
call UnitRemoveAbility(KQ4,1096906593)
call UnitRemoveAbility(KR4,1096906593)
call UnitRemoveAbility(KS4,1096906593)
call UnitRemoveAbility(KT4,1096906593)
call ExecuteFunc("X59")
endfunction
function VA9 takes nothing returns nothing
local location P0=GetRectCenter(HD)
local location P3=GetRectCenter(GD)
local location Qn=GetRectCenter(ED)
local location QN=GetRectCenter(L9)
local integer hK=1
local integer hl=5
local trigger t
local integer rk
local integer x
set EZ7="VA9"
set RZ4=true
set PD4=9999999
call B97(1211117641)
call B97(1311781207)
call B97(1211117653)
call B97(1315334514)
set x=KL4
loop
exitwhen x>K54
set A0[x]=false
set x=x+1
endloop
set x=1
loop
exitwhen x>5
if GetPlayerController(Z7[x])==MAP_CONTROL_COMPUTER then
set rk=GetPlayerId(Z7[x])
set t=CreateTrigger()
call TriggerRegisterTimerExpireEvent(t,U[rk])
call TriggerAddAction(t,function X29)
call TF7(GetHandleId(t),"PlayerId",rk)
endif
if GetPlayerController(A7[x])==MAP_CONTROL_COMPUTER then
set rk=GetPlayerId(A7[x])
set t=CreateTrigger()
call TriggerRegisterTimerExpireEvent(t,U[rk])
call TriggerAddAction(t,function X29)
call TF7(GetHandleId(t),"PlayerId",rk)
endif
set x=x+1
endloop
call DisableTrigger(QA4)
set F9=false
call BE7()
set X4=400
set G9=false
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddCondition(t,Condition(function XL9))
call TF7(GetHandleId(t),"Index",1)
call RemoveLocation(P0)
call RemoveLocation(P3)
call RemoveLocation(Qn)
call RemoveLocation(QN)
set P0=null
set P3=null
set Qn=null
set QN=null
set t=null
endfunction
function VE9 takes nothing returns nothing
local integer rK=GetRandomInt(1,4)
set EZ7="VE9"
set Ox=true
if(rK==1)then
call CG7(bj_FORCE_ALL_PLAYERS,20.,"AP has been randomly selected as your mode!")
call CG7(bj_FORCE_ALL_PLAYERS,20.," ")
call ExecuteFunc("V89")
elseif(rK==2)then
call CG7(bj_FORCE_ALL_PLAYERS,20.,"AR has been randomly selected as your mode!")
call CG7(bj_FORCE_ALL_PLAYERS,20.," ")
call ExecuteFunc("V79")
elseif(rK==3)then
call CG7(bj_FORCE_ALL_PLAYERS,20.,"TR has been randomly selected as your mode!")
call CG7(bj_FORCE_ALL_PLAYERS,20.," ")
call ExecuteFunc("V99")
elseif(rK==4)then
call CG7(bj_FORCE_ALL_PLAYERS,20.,"Normal has been randomly selected as your mode!")
call CG7(bj_FORCE_ALL_PLAYERS,20.," ")
endif
endfunction
function V49 takes nothing returns nothing
set X8=true
call B97(1211117641)
endfunction
function UB9 takes nothing returns nothing
local integer JO8=P8(X7)
local integer JN8=P8(Y7)
local integer D5=JO8+JN8
local integer T8
local integer X_9
local integer x
local integer y
local integer z
local player array Y49
local player array Y79
local integer w
local integer Y89
local integer Y99
local location X19=GetRectCenter(ED)
local location X09=GetRectCenter(L9)
local location JP8=GetRectCenter(pr)
local location JQ8=GetRectCenter(qr)
set EZ7="UB9"
set ge=true
call W38(Z7[1])
call W38(Z7[2])
call W38(Z7[3])
call W38(Z7[4])
call W38(Z7[5])
call W38(A7[1])
call W38(A7[2])
call W38(A7[3])
call W38(A7[4])
call W38(A7[5])
set x=1
loop
exitwhen x>5
if AM7(Z7[x])then
call CreateUnitAtLoc(Z7[x],1848651843,JP8,bj_UNIT_FACING)
call CreateUnitAtLoc(Z7[x],1848651843,JQ8,bj_UNIT_FACING)
endif
if AM7(A7[x])then
call CreateUnitAtLoc(A7[x],1848651843,JP8,bj_UNIT_FACING)
call CreateUnitAtLoc(A7[x],1848651843,JQ8,bj_UNIT_FACING)
endif
set x=x+1
endloop
call RemoveLocation(JP8)
call RemoveLocation(JQ8)
set Y89=GetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[5],PLAYER_STATE_RESOURCE_GOLD)
set Y99=GetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[5],PLAYER_STATE_RESOURCE_GOLD)
set Y49[1]=null
set Y49[2]=null
set Y49[3]=null
set Y49[4]=null
set Y49[5]=null
set Y49[6]=null
set Y49[7]=null
set Y49[8]=null
set Y49[9]=null
set Y49[10]=null
set z=1
set w=1
set T8=1
loop
exitwhen T8>5
if(AM7(Z7[T8]))then
set Y49[w]=Z7[T8]
set w=w+1
else
set Y79[z]=Z7[T8]
set z=z+1
endif
set T8=T8+1
endloop
set T8=1
loop
exitwhen T8>5
if(AM7(A7[T8]))then
set Y49[w]=A7[T8]
set w=w+1
else
set Y79[z]=A7[T8]
set z=z+1
endif
set T8=T8+1
endloop
set Z7[1]=null
set Z7[2]=null
set Z7[3]=null
set Z7[4]=null
set Z7[5]=null
set A7[1]=null
set A7[2]=null
set A7[3]=null
set A7[4]=null
set A7[5]=null
set T8=1
loop
exitwhen T8>(D5/ 2)
set X_9=GetRandomInt(1,D5)
if(Y49[X_9]!=null)then
set Z7[T8]=Y49[X_9]
set Y49[X_9]=null
set T8=T8+1
endif
endloop
set x=T8
set T8=1
loop
exitwhen T8>D5-x+1
set X_9=GetRandomInt(1,D5)
if(Y49[X_9]!=null)then
set A7[T8]=Y49[X_9]
set Y49[X_9]=null
set T8=T8+1
endif
endloop
set z=T8
set T8=x
set y=1
loop
exitwhen T8>5
set Z7[T8]=Y79[y]
set y=y+1
set T8=T8+1
endloop
set T8=z
loop
exitwhen T8>5
set A7[T8]=Y79[y]
set y=y+1
set T8=T8+1
endloop
set T8=0
loop
exitwhen T8>5
set T8=T8+1
endloop
call SetPlayerTeam(Z7[0],0)
call SetPlayerTeam(Z7[1],0)
call SetPlayerTeam(Z7[2],0)
call SetPlayerTeam(Z7[3],0)
call SetPlayerTeam(Z7[4],0)
call SetPlayerTeam(Z7[5],0)
call SetPlayerTeam(A7[0],1)
call SetPlayerTeam(A7[1],1)
call SetPlayerTeam(A7[2],1)
call SetPlayerTeam(A7[3],1)
call SetPlayerTeam(A7[4],1)
call SetPlayerTeam(A7[5],1)
call IW8()
set x=0
set y=0
loop
exitwhen x>5
loop
exitwhen y>5
call SetPlayerAllianceStateBJ(Z7[x],Z7[y],3)
call SetPlayerAllianceStateBJ(A7[x],A7[y],3)
call SetPlayerAllianceStateBJ(Z7[x],A7[y],0)
call SetPlayerAllianceStateBJ(A7[x],Z7[y],0)
set y=y+1
endloop
set y=0
set x=x+1
endloop
call ForceClear(X7)
call ForceClear(Y7)
call ForceAddPlayer(X7,Z7[0])
call ForceAddPlayer(X7,Z7[1])
call ForceAddPlayer(X7,Z7[2])
call ForceAddPlayer(X7,Z7[3])
call ForceAddPlayer(X7,Z7[4])
call ForceAddPlayer(X7,Z7[5])
call ForceAddPlayer(Y7,A7[0])
call ForceAddPlayer(Y7,A7[1])
call ForceAddPlayer(Y7,A7[2])
call ForceAddPlayer(Y7,A7[3])
call ForceAddPlayer(Y7,A7[4])
call ForceAddPlayer(Y7,A7[5])
call ExecuteFunc("JG8")
call XB8()
set JO8=P8(X7)
set JN8=P8(Y7)
set T8=1
loop
exitwhen T8>5
if(AM7(Z7[T8]))then
call SetPlayerStateBJ(Z7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ JO8))
call SetPlayerStateBJ(Z7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
if(AM7(A7[T8]))then
call SetPlayerStateBJ(A7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ JN8))
call SetPlayerStateBJ(A7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
set T8=T8+1
endloop
if V8 then
set x=0
loop
exitwhen x>5
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(0),true)
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(4),true)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(0),false)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(4),false)
set x=x+1
endloop
endif
call IV8()
set X19=null
set X09=null
set JP8=null
set JQ8=null
endfunction
function UC9 takes nothing returns nothing
local integer JO8=P8(X7)
local integer JN8=P8(Y7)
local integer D5=JO8+JN8
local integer T8
local integer X_9
local integer x
local integer y
local integer z
local player array Y49
local player array Y79
local integer w
local integer Y89
local integer Y99
local location X19
local location X09
local location JP8
local location JQ8
local integer YD9
set EZ7="UC9"
set YD9=GetRandomInt(1,2)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10,(GetObjectName((1848657753))))
if YD9==1 then
return
endif
set jj=true
set X19=GetRectCenter(ED)
set X09=GetRectCenter(L9)
set JP8=GetRectCenter(pr)
set JQ8=GetRectCenter(qr)
call W38(Z7[1])
call W38(Z7[2])
call W38(Z7[3])
call W38(Z7[4])
call W38(Z7[5])
call W38(A7[1])
call W38(A7[2])
call W38(A7[3])
call W38(A7[4])
call W38(A7[5])
set x=1
loop
exitwhen x>5
if AM7(Z7[x])then
call CreateUnitAtLoc(Z7[x],1848651843,JP8,bj_UNIT_FACING)
call CreateUnitAtLoc(Z7[x],1848651843,JQ8,bj_UNIT_FACING)
endif
if AM7(A7[x])then
call CreateUnitAtLoc(A7[x],1848651843,JP8,bj_UNIT_FACING)
call CreateUnitAtLoc(A7[x],1848651843,JQ8,bj_UNIT_FACING)
endif
set x=x+1
endloop
call RemoveLocation(JP8)
call RemoveLocation(JQ8)
set Y89=GetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[5],PLAYER_STATE_RESOURCE_GOLD)
set Y99=GetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[5],PLAYER_STATE_RESOURCE_GOLD)
set Y49[1]=Z7[1]
set Y49[2]=Z7[2]
set Y49[3]=Z7[3]
set Y49[4]=Z7[4]
set Y49[5]=Z7[5]
set Y49[6]=A7[1]
set Y49[7]=A7[2]
set Y49[8]=A7[3]
set Y49[9]=A7[4]
set Y49[10]=A7[5]
set Z7[1]=Y49[6]
set Z7[2]=Y49[7]
set Z7[3]=Y49[8]
set Z7[4]=Y49[9]
set Z7[5]=Y49[10]
set A7[1]=Y49[1]
set A7[2]=Y49[2]
set A7[3]=Y49[3]
set A7[4]=Y49[4]
set A7[5]=Y49[5]
call SetPlayerTeam(Z7[0],0)
call SetPlayerTeam(Z7[1],0)
call SetPlayerTeam(Z7[2],0)
call SetPlayerTeam(Z7[3],0)
call SetPlayerTeam(Z7[4],0)
call SetPlayerTeam(Z7[5],0)
call SetPlayerTeam(A7[0],1)
call SetPlayerTeam(A7[1],1)
call SetPlayerTeam(A7[2],1)
call SetPlayerTeam(A7[3],1)
call SetPlayerTeam(A7[4],1)
call SetPlayerTeam(A7[5],1)
call IW8()
set x=0
set y=0
loop
exitwhen x>5
loop
exitwhen y>5
call SetPlayerAllianceStateBJ(Z7[x],Z7[y],3)
call SetPlayerAllianceStateBJ(A7[x],A7[y],3)
call SetPlayerAllianceStateBJ(Z7[x],A7[y],0)
call SetPlayerAllianceStateBJ(A7[x],Z7[y],0)
set y=y+1
endloop
set y=0
set x=x+1
endloop
call ForceClear(X7)
call ForceClear(Y7)
call ForceAddPlayer(X7,Z7[0])
call ForceAddPlayer(X7,Z7[1])
call ForceAddPlayer(X7,Z7[2])
call ForceAddPlayer(X7,Z7[3])
call ForceAddPlayer(X7,Z7[4])
call ForceAddPlayer(X7,Z7[5])
call ForceAddPlayer(Y7,A7[0])
call ForceAddPlayer(Y7,A7[1])
call ForceAddPlayer(Y7,A7[2])
call ForceAddPlayer(Y7,A7[3])
call ForceAddPlayer(Y7,A7[4])
call ForceAddPlayer(Y7,A7[5])
call ExecuteFunc("JG8")
set JO8=P8(X7)
set JN8=P8(Y7)
set T8=1
loop
exitwhen T8>5
if(AM7(Z7[T8]))then
call SetPlayerStateBJ(Z7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ JO8))
call SetPlayerStateBJ(Z7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
if(AM7(A7[T8]))then
call SetPlayerStateBJ(A7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ JN8))
call SetPlayerStateBJ(A7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
set T8=T8+1
endloop
call PanCameraToTimedLocForPlayer(Z7[1],X19,0)
call PanCameraToTimedLocForPlayer(Z7[2],X19,0)
call PanCameraToTimedLocForPlayer(Z7[3],X19,0)
call PanCameraToTimedLocForPlayer(Z7[4],X19,0)
call PanCameraToTimedLocForPlayer(Z7[5],X19,0)
call PanCameraToTimedLocForPlayer(A7[1],X09,0)
call PanCameraToTimedLocForPlayer(A7[2],X09,0)
call PanCameraToTimedLocForPlayer(A7[3],X09,0)
call PanCameraToTimedLocForPlayer(A7[4],X09,0)
call PanCameraToTimedLocForPlayer(A7[5],X09,0)
call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[1],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[2],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[3],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[4],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[5],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,A7[1],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,A7[2],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,A7[3],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,A7[4],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,A7[5],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
if V8 then
set x=0
loop
exitwhen x>5
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(0),true)
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(4),true)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(0),false)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(4),false)
set x=x+1
endloop
endif
call IV8()
call XB8()
set X19=null
set X09=null
set JP8=null
set JQ8=null
endfunction
function rN takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer Hm=U97(US7,"HeroType")
local player j8
local integer x=1
set EZ7="rN"
loop
exitwhen x>5
set j8=Z7[x]
if AM7(j8)and j8!=Le then
set M7[GetPlayerId(j8)]=CreateUnit(j8,Hm,GetRectCenterX(ED),GetRectCenterY(ED),270)
endif
set j8=A7[x]
if AM7(j8)and j8!=Le then
set M7[GetPlayerId(j8)]=CreateUnit(j8,Hm,GetRectCenterX(L9),GetRectCenterY(L9),270)
endif
set x=x+1
endloop
call T97(US7)
call UQ7(t)
set t=null
set j8=null
return false
endfunction
function ro takes nothing returns nothing
local integer x=1
local player j8
local unit C17=GetTriggerUnit()
local integer Hm=GetUnitTypeId(C17)
local trigger t
local integer US7
set EZ7="ro"
if(GetOwningPlayer(C17)==Le and IsUnitType(C17,UNIT_TYPE_HERO))then
call DisableTrigger(GetTriggeringTrigger())
if W4[GetPlayerId(Le)]==false and E4==false and O4==false then
call SetPlayerState(Le,PLAYER_STATE_RESOURCE_GOLD,250+GetPlayerState(Le,PLAYER_STATE_RESOURCE_GOLD))
endif
set I[GetPlayerId(Le)]=true
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,.01,false)
call TriggerAddCondition(t,Condition(function rN))
call TF7(US7,"HeroType",Hm)
endif
set j8=null
set C17=null
set t=null
endfunction
function UL9 takes nothing returns nothing
local integer x=1
local trigger t=CreateTrigger()
local region r=CreateRegion()
set EZ7="UL9"
set H34=true
call DisableTrigger(QA4)
call B97(1211117641)
loop
exitwhen x>5
if(Z7[x]!=Le)then
call BD7(Z7[x])
set W4[GetPlayerId(Z7[x])]=true
set I[GetPlayerId(Z7[x])]=true
endif
if(A7[x]!=Le)then
call BD7(A7[x])
set W4[GetPlayerId(A7[x])]=true
set I[GetPlayerId(A7[x])]=true
endif
set x=x+1
endloop
call RegionAddRect(r,bj_mapInitialPlayableArea)
call TriggerRegisterEnterRegion(t,r,null)
call TriggerAddAction(t,function ro)
endfunction
function U19 takes nothing returns nothing
local integer T8
local integer U8
set EZ7="U19"
set Rx=true
set T8=1
set U8=M94
loop
exitwhen T8>U8
call B97(M84[T8])
set T8=T8+1
endloop
set T8=1
set U8=M74
loop
exitwhen T8>U8
call B97(M44[T8])
set T8=T8+1
endloop
endfunction
function U59 takes nothing returns nothing
local integer T8
local integer U8
set EZ7="U59"
set bx=true
set T8=1
set U8=M94
loop
exitwhen T8>U8
call B97(M84[T8])
set T8=T8+1
endloop
set T8=1
set U8=K_4
loop
exitwhen T8>U8
call B97(K24[T8])
set T8=T8+1
endloop
endfunction
function U09 takes nothing returns nothing
local integer T8
local integer U8
set EZ7="U09"
set Nx=true
set T8=1
set U8=K_4
loop
exitwhen T8>U8
call B97(K24[T8])
set T8=T8+1
endloop
set T8=1
set U8=M74
loop
exitwhen T8>U8
call B97(M44[T8])
set T8=T8+1
endloop
endfunction
function U_9 takes nothing returns nothing
local integer T8
local integer U8
set EZ7="U_9"
set lj=true
set T8=1
set U8=ME4
loop
exitwhen T8>U8
call B97(MD4[T8])
set T8=T8+1
endloop
endfunction
function U29 takes nothing returns nothing
local integer T8
local integer U8
set EZ7="U29"
set Jj=true
set T8=1
set U8=MG4
loop
exitwhen T8>U8
call B97(MF4[T8])
set T8=T8+1
endloop
endfunction
function VF9 takes nothing returns nothing
set R4=true
endfunction
function VI9 takes nothing returns nothing
set Y4=true
call SetPlayerTechResearched(Z7[0],1378889780,1)
call SetPlayerTechResearched(A7[0],1378889780,1)
call SetPlayerHandicapXP(Z7[1],1.5)
call SetPlayerHandicapXP(Z7[2],1.5)
call SetPlayerHandicapXP(Z7[3],1.5)
call SetPlayerHandicapXP(Z7[4],1.5)
call SetPlayerHandicapXP(Z7[5],1.5)
call SetPlayerHandicapXP(A7[1],1.5)
call SetPlayerHandicapXP(A7[2],1.5)
call SetPlayerHandicapXP(A7[3],1.5)
call SetPlayerHandicapXP(A7[4],1.5)
call SetPlayerHandicapXP(A7[5],1.5)
endfunction
function VG9 takes nothing returns nothing
set A4=true
call DisableTrigger(H04)
endfunction
function VH9 takes nothing returns nothing
set C4=true
endfunction
function YE9 takes nothing returns nothing
set oy=false
call CG7(bj_FORCE_ALL_PLAYERS,10,(GetObjectName((1848657985))))
call DisableTrigger(GetTriggeringTrigger())
endfunction
function YF9 takes nothing returns nothing
call DisableTrigger(T07(GetHandleId(GetTriggeringTrigger()),"nn"))
call DisableTrigger(GetTriggeringTrigger())
endfunction
function YG9 takes nothing returns nothing
local trigger YH9=CreateTrigger()
local trigger YI9=CreateTrigger()
set EZ7="YG9"
call CG7(bj_FORCE_ALL_PLAYERS,10.00," ")
call CG7(bj_FORCE_ALL_PLAYERS,10.00,"Extra commands: -noneutrals can be entered in the following 15 seconds. ")
call TriggerRegisterTimerEvent(YH9,15.,false)
call TriggerAddAction(YH9,function YF9)
call TM7(GetHandleId(YH9),"nn",YI9)
call TriggerRegisterPlayerChatEvent(YI9,Le,"-noneutrals",true)
call TriggerAddAction(YI9,function YE9)
endfunction
function VJ9 takes nothing returns nothing
set PE4=true
call ExecuteFunc("YG9")
endfunction
function VK9 takes nothing returns nothing
set PF4=true
endfunction
function VN9 takes nothing returns nothing
set PG4=true
endfunction
function VM9 takes nothing returns nothing
set PH4=true
endfunction
function VO9 takes nothing returns nothing
set PI4=true
endfunction
function VP9 takes nothing returns nothing
set PJ4=true
endfunction
function VQ9 takes nothing returns nothing
set PK4=true
endfunction
function VB9 takes nothing returns nothing
set T64=true
endfunction
function VC9 takes nothing returns nothing
set TL4=true
endfunction
function YJ9 takes nothing returns nothing
local integer i=0
set EZ7="YJ9"
loop
exitwhen i>5
call SetPlayerName(Z7[i],(KZ4[GetPlayerId((Z7[i]))])+" ("+I2S(T[GetPlayerId(Z7[i])])+"/"+I2S(V[GetPlayerId(Z7[i])])+" | "+I2S(T7[GetPlayerId(Z7[i])])+"-"+I2S(U7[GetPlayerId(Z7[i])])+")")
call SetPlayerName(A7[i],(KZ4[GetPlayerId((A7[i]))])+" ("+I2S(T[GetPlayerId(A7[i])])+"/"+I2S(V[GetPlayerId(A7[i])])+" | "+I2S(T7[GetPlayerId(A7[i])])+"-"+I2S(U7[GetPlayerId(A7[i])])+")")
set i=i+1
endloop
endfunction
function YK9 takes nothing returns boolean
if PM4==false then
if GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4 then
call YJ9()
endif
endif
return false
endfunction
function YM9 takes nothing returns boolean
local integer id=GetUnitTypeId(GetTriggerUnit())
local string YN9
set EZ7="YM9"
if GetLocalPlayer()==GetTriggerPlayer()then
if id==1749236021 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848652107 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1849897784 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1701078382 then
elseif id==1848651862 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848651863 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848651826 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848651864 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848651833 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848657989 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1849897781 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1966092369 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1967339316 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1966092592 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1966092378 then
call ResetUnitAnimation(GetTriggerUnit())
endif
endif
return false
endfunction
function YO9 takes nothing returns boolean
local integer id=GetUnitTypeId(GetTriggerUnit())
local string YN9
set EZ7="YO9"
if GetLocalPlayer()==GetTriggerPlayer()then
if id==1749236021 then
set YN9="stand work"
elseif id==1848652107 then
set YN9="stand third"
elseif id==1849897784 then
call SetUnitAnimationByIndex(GetTriggerUnit(),3)
elseif id==1701078382 then
elseif id==1848651862 then
set YN9="spell attack"
elseif id==1848651863 then
set YN9="spell"
elseif id==1848651826 then
call SetUnitAnimationByIndex(GetTriggerUnit(),3)
elseif id==1848651864 then
set YN9="stand work"
elseif id==1848651833 then
set YN9="stand work"
elseif id==1848657989 then
set YN9="stand victory"
elseif id==1849897781 then
set YN9="stand work"
elseif id==1966092369 then
set YN9="stand work"
elseif id==1967339316 then
set YN9="stand work gold"
elseif id==1966092592 then
set YN9="stand work"
elseif id==1966092378 then
set YN9="stand work"
endif
if YN9!="" then
call SetUnitAnimation(GetTriggerUnit(),YN9)
call QueueUnitAnimationBJ(GetTriggerUnit(),YN9)
endif
endif
return false
endfunction
function VR9 takes nothing returns nothing
set PM4=true
endfunction
function YP9 takes nothing returns nothing
local unit C17=GetTriggerUnit()
set EZ7="YP9"
call SetUnitScale(C17,DJ8(C17)*CS,DJ8(C17)*CS,DJ8(C17)*CS)
set C17=null
endfunction
function YQ9 takes nothing returns boolean
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
call YP9()
endif
return false
endfunction
function VS9 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="VS9"
call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)
call TriggerAddCondition(t,Condition(function YQ9))
set bN=true
set CS=0.5
endfunction
function VT9 takes nothing returns nothing
set LS=true
endfunction
function VU9 takes nothing returns nothing
set DT=true
endfunction
function YR9 takes nothing returns nothing
set M[1]=0
endfunction
function YS9 takes nothing returns nothing
set M[2]=0
endfunction
function YT9 takes nothing returns nothing
set M[3]=0
endfunction
function YU9 takes nothing returns nothing
set M[4]=0
endfunction
function YV9 takes nothing returns nothing
set M[5]=0
endfunction
function YW9 takes nothing returns nothing
set M[7]=0
endfunction
function YX9 takes nothing returns nothing
set M[8]=0
endfunction
function YY9 takes nothing returns nothing
set M[9]=0
endfunction
function YZ9 takes nothing returns nothing
set M[10]=0
endfunction
function YA9 takes nothing returns nothing
set M[11]=0
endfunction
function YB9 takes nothing returns nothing
local integer i=1
local string id
local player p
set EZ7="YB9"
loop
exitwhen i>5
set p=Z7[i]
set id=I2S(GetPlayerId(p))
call StoreInteger(IV4,id,"id",i)
set p=A7[i]
set id=I2S(GetPlayerId(p))
call StoreInteger(IV4,id,"id",i+5)
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"id")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"id")
endif
set i=i+1
endloop
endfunction
function YC9 takes nothing returns boolean
local boolean Y39=Y8
set EZ7="YC9"
if(vY and(not Y39))then
set Y8=true
endif
if Y39 then
call BH7()
call CG7(bj_FORCE_ALL_PLAYERS,20.00,Q[GetPlayerId(Le)]+(KZ4[GetPlayerId((Le))])+"|r"+" "+(GetObjectName((1848656717))))
call CG7(bj_FORCE_ALL_PLAYERS,20.00," ")
set Q94=true
call P49()
call TE9()
call XB8()
call O59()
call XY8()
elseif vY then
call CG7(bj_FORCE_ALL_PLAYERS,20.,"The selected mode/s are insignificant and is considered |c006699CCNormal Mode|r. You will get 175 gold refunded when you pick a hero.")
call CG7(bj_FORCE_ALL_PLAYERS,20.," ")
endif
call YB9()
call UQ7(GetTriggeringTrigger())
return false
endfunction
function Y69 takes nothing returns boolean
set P=true
call UQ7(GetTriggeringTrigger())
return false
endfunction
function YL9 takes nothing returns nothing
set O=true
endfunction
function Y19 takes nothing returns nothing
set G8=true
endfunction
function Y09 takes nothing returns nothing
set T9=true
endfunction
function Y59 takes nothing returns boolean
return GetUnitAbilityLevel(GetKillingUnit(),1093685043)>0 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function Y29 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit u=T37(US7,"Unit")
set EZ7="Y29"
call TF7(GetHandleId(u),"PreviousKills",U97(GetHandleId(u),"PreviousKills")-1)
call T97(US7)
call UQ7(t)
set u=null
set t=null
return false
endfunction
function Y_9 takes nothing returns nothing
local unit Z49=GetKillingUnit()
local unit Z79=GetTriggerUnit()
local integer PP7=GetHandleId(Z49)
local integer Z89=U97(PP7,"PreviousKills")
local integer HW8=GetUnitAbilityLevel(Z49,1093685043)
local integer Z99=Z89*HW8
local integer ZD9=DL8(Z99+HW8*2+2,30)
local texttag tt=CreateTextTag()
local player p=GetOwningPlayer(Z49)
local trigger t=CreateTrigger()
set ET[GetPlayerId(p)]=ET[GetPlayerId(p)]+ZD9
call TriggerRegisterTimerEvent(t,25.,false)
call TriggerAddCondition(t,Condition(function Y29))
call TJ7(GetHandleId(t),"Unit",Z49)
call TF7(PP7,"PreviousKills",Z89+1)
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,ZD9+GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD))
call SetTextTagText(tt,"+"+I2S(ZD9),0.025)
call SetTextTagPosUnit(tt,Z79,0)
call SetTextTagColor(tt,255,220,0,255)
call SetTextTagVelocity(tt,0,0.03)
if GetLocalPlayer()==p then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
call SetTextTagFadepoint(tt,2)
call SetTextTagLifespan(tt,3)
call SetTextTagPermanent(tt,false)
set t=null
set Z49=null
set Z79=null
set p=null
endfunction
function ZE9 takes nothing returns boolean
local integer ZF9=ET[GetPlayerId(GetTriggerPlayer())]
set EZ7="ZE9"
if ZF9>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848657745)))+" "+I2S(ZF9))
endif
return false
endfunction
function RY8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RY8"
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y59))
call TriggerAddAction(t,function Y_9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function ZE9))
set t=null
endfunction
function ZG9 takes nothing returns nothing
call HY8(S34,GetEnumUnit(),ZH4,S14)
call HU8(S34,GetEnumUnit(),SL4)
endfunction
function ZH9 takes unit FJ8,unit PU7,real ZI9 returns nothing
local group g
local integer BY7=GetUnitAbilityLevel(FJ8,1093750345)
local real x
local real y
set S34=FJ8
set S14=(80+70*BY7)*ZI9/W54
set SL4=(1+0.75*BY7)*ZI9/W54
set S64=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
call L67(S64,1093687350)
call SetUnitAbilityLevel(S64,1093687350,HS8(SL4))
set IN4=FJ8
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(PU7),GetUnitY(PU7),175+25,Condition(function G78))
if GetUnitTypeId(PU7)!=1747993156 then
call GroupAddUnit(g,PU7)
endif
call ForGroup(g,function ZG9)
call L97(g)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",GetUnitX(PU7),GetUnitY(PU7)))
set g=null
endfunction
function ZJ9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local unit HO8=T37(US7,"Projectile")
local real ZI9=UD7(US7,"Elapsed")
local real ZK9=UD7(US7,"OriginalTime")
local real l4=Q87(GetUnitX(HO8),GetUnitY(HO8),GetUnitX(m5),GetUnitY(m5))
local real x=GetUnitX(HO8)+18*Cos(l4*bj_DEGTORAD)
local real y=GetUnitY(HO8)+18*Sin(l4*bj_DEGTORAD)
call SetUnitX(HO8,x)
call SetUnitY(HO8,y)
if Q07(x,y,GetUnitX(m5),GetUnitY(m5))<=18 then
call KillUnit(HO8)
call ZH9(p5,m5,ZI9)
call T97(US7)
call UQ7(t)
elseif(TimerGetElapsed(W))-ZK9>(W54+2.0)then
call KillUnit(HO8)
call ZH9(p5,HO8,ZI9)
call T97(US7)
call UQ7(t)
endif
set t=null
set p5=null
set m5=null
set HO8=null
return false
endfunction
function ZM9 takes unit p5,unit m5,real ZI9,real ZK9 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit HO8=CreateUnit(GetOwningPlayer(p5),1747993156,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
set EZ7="ddv"
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TJ7(US7,"Projectile",HO8)
call TG7(US7,"Elapsed",ZI9*1.0)
call TG7(US7,"OriginalTime",ZK9*1.0)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function ZJ9))
set t=null
set HO8=null
endfunction
function ZN9 takes string ZO9,unit m5,unit ZP9 returns nothing
local texttag tt=CreateTextTag()
call SetTextTagText(tt,ZO9,0.033)
call SetTextTagPosUnit(tt,m5,64)
call SetTextTagColor(tt,255,0,0,255)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,0.15)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,0.65)
if IsUnitAlly(ZP9,GetLocalPlayer())or C67(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
set tt=null
endfunction
function ZQ9 takes real ZR9 returns string
if ZR9>4.5 then
return"5.0"
elseif ZR9>4.0 then
return"4.5"
elseif ZR9>3.5 then
return"4.0"
elseif ZR9>3.0 then
return"3.5"
elseif ZR9>2.5 then
return"3.0"
elseif ZR9>2.0 then
return"2.5"
elseif ZR9>1.5 then
return"2.0"
elseif ZR9>1.0 then
return"1.5"
elseif ZR9>0.5 then
return"1.0"
elseif ZR9>0.0 then
return"0.5"
else
return"0.0"
endif
return" "
endfunction
function ZS9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local real ZK9=UD7(US7,"OriginalTime")
local real II8=(TimerGetElapsed(W))
local real ZT9=5.0-(II8-ZK9)
local real YF8=D58(II8-ZK9,5.0)
local integer ZU9=U97(US7,"Count")+1
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call ZH9(p5,p5,W54)
if(LoadInteger(L7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(L7,(GetHandleId(p5)),(704)))==1093750345 then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750345,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750344,false)
call SetUnitVertexColor(p5,255,255,255,255)
call DestroyEffect((LoadEffectHandle(L7,(US7),(32))))
call T97(US7)
call UQ7(t)
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093750344 then
if L87(GetSpellTargetUnit())==false then
call ZM9(p5,GetSpellTargetUnit(),YF8,ZK9)
endif
if(LoadInteger(L7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(L7,(GetHandleId(p5)),(704)))==1093750345 then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750345,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750344,false)
call SetUnitVertexColor(p5,255,255,255,255)
call DestroyEffect((LoadEffectHandle(L7,(US7),(32))))
call T97(US7)
call UQ7(t)
endif
else
call SaveInteger(L7,(US7),StringHash("Count"),(ZU9))
if ZT9>=0 then
call ZN9(ZQ9(ZT9),p5,p5)
if ModuloInteger(ZU9,2)==0 then
call SetUnitVertexColor(p5,255,125,125,255)
else
call SetUnitVertexColor(p5,255,175,175,255)
endif
else
call SetUnitVertexColor(p5,255,0,0,255)
endif
if II8-ZK9>(W54+2.0)then
call ZH9(p5,p5,W54)
if(LoadInteger(L7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(L7,(GetHandleId(p5)),(704)))==1093750345 then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750345,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750344,false)
call SetUnitVertexColor(p5,255,255,255,255)
call DestroyEffect((LoadEffectHandle(L7,(US7),(32))))
call T97(US7)
call UQ7(t)
endif
endif
set t=null
set p5=null
return false
endfunction
function ZV9 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local string st="war3mapImported\\UnstableConcoctionRangeDisplay3.mdx"
set EZ7="ZV9"
if GetLocalPlayer()!=GetOwningPlayer(p5)then
set st=""
endif
call TJ7(US7,"Source",p5)
call TG7(US7,"OriginalTime",TimerGetElapsed(W)*1.0)
call SaveEffectHandle(L7,(US7),(32),(AddSpecialEffectTarget(st,p5,"origin")))
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZS9))
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750345,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750344,true)
call L67(p5,1093750344)
call UnitMakeAbilityPermanent(p5,true,1093750344)
call TriggerEvaluate(t)
set p5=null
set t=null
endfunction
function ZW9 takes nothing returns boolean
if GetSpellAbilityId()==1093750345 then
call ZV9()
endif
return false
endfunction
function RZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZW9))
call DX8(1093687350)
set t=null
endfunction
function ZV takes nothing returns boolean
return GetSpellAbilityId()==1093683532
endfunction
function ZX9 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitTypeId(GetFilterUnit())!=1848657461
endfunction
function ZY9 takes nothing returns nothing
call UnitDamageTarget(D8,GetEnumUnit(),F8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
endfunction
function RC takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local unit oA=T37(US7,"Caster")
local integer Rd=U97(US7,"Counter")
local real x=GetUnitX(oA)
local real y=GetUnitY(oA)
local boolexpr hP
local group JJ8
set EZ7="RC"
if Rd>12 then
call KillUnit(oA)
call PauseTimer(t)
call T97(US7)
call DestroyTimer(t)
else
set D8=C17
set F8=8+GetUnitAbilityLevel(C17,1093683532)*6
set hP=Condition(function ZX9)
set JJ8=LD7()
call GroupEnumUnitsInRange(JJ8,x,y,650,hP)
call ForGroup(JJ8,function ZY9)
call L97(JJ8)
call DestroyBoolExpr(hP)
set Rd=Rd+1
call TF7(US7,"Counter",Rd)
set JJ8=null
set hP=null
endif
set t=null
set C17=null
set oA=null
endfunction
function ZZ9 takes nothing returns nothing
local unit C17=GetTriggerUnit()
local location Mk=GetSpellTargetLoc()
local real x=GetLocationX(Mk)
local real y=GetLocationY(Mk)
local unit oA=CreateUnit(GetOwningPlayer(C17),1697657157,x,y,0)
local timer t=CreateTimer()
local integer US7=GetHandleId(t)
call RemoveLocation(Mk)
call L67(oA,1093683764)
call SetUnitAbilityLevel(oA,1093683764,GetUnitAbilityLevel(C17,1093683532))
call L67(oA,1097625443)
call TJ7(US7,"Hero",C17)
call TJ7(US7,"Caster",oA)
call TF7(US7,"Counter",0)
call TimerStart(t,1,true,function RC)
set C17=null
set Mk=null
set oA=null
set t=null
endfunction
function RA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(t,function ZZ9)
call TriggerAddCondition(t,Condition(function ZV))
call DX8(1093683764)
set t=null
endfunction
function ZA9 takes nothing returns nothing
call HY8(DN,GetEnumUnit(),ZG4,dN)
endfunction
function ZB9 takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BY7=GetUnitAbilityLevel(C17,1093682483)
local real D_8=(0.35+0.25*BY7)*(GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))
local group g=LD7()
set EZ7="ZB9"
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",m5,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl",m5,"chest"))
call DestroyEffect(AddSpecialEffect("war3mapImported\\Enchantment.mdx",GetUnitX(m5),GetUnitY(m5)))
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),325,Condition(function GQ8))
set dN=D_8
set DN=C17
call ForGroup(g,function ZA9)
call PlaySoundOnUnitBJ(oO,100,m5)
call L97(g)
set C17=null
set m5=null
set g=null
endfunction
function ZC9 takes nothing returns boolean
if GetSpellAbilityId()==1093682483 and L87(GetSpellTargetUnit())==false then
call ZB9()
endif
return false
endfunction
function KL8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="KL8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZC9))
set t=null
endfunction
function Z39 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit HV8=T37(US7,"Caster")
local integer BX8=GetTriggerEvalCount(t)
local integer Z69=R2I(((0.9-0.3)/ 0.5)/ 0.03)
local integer ZL9=R2I((175/ Z69))
local integer Z19=R2I((255/ Z69)*1.75)
local unit C17=T37(US7,"Hero")
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
set EZ7="Z39"
if BX8>Z69 then
call SetUnitVertexColor(HV8,255,255,255,0)
call SetUnitVertexColor(C17,255,255,255,255)
call ShowUnit(HV8,false)
call T97(US7)
call UQ7(t)
else
call SetUnitVertexColor(HV8,255,255,255,175-ZL9*BX8)
call SetUnitX(HV8,x)
call SetUnitY(HV8,y)
call SetUnitVertexColor(C17,255,255,255,Z19*BX8)
endif
set t=null
set HV8=null
set C17=null
return false
endfunction
function Z09 takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit HV8=T37(GetHandleId(C17),"BlinkAM_Caster")
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local real x=GetUnitX(C17)
local real y=GetUnitY(C17)
set EZ7="Z09"
call SetUnitX(HV8,x)
call SetUnitY(HV8,y)
call SetUnitX(C17,x)
call SetUnitY(C17,y)
call SetUnitVertexColor(C17,255,255,255,0)
call SetUnitVertexColor(HV8,255,255,255,175)
call SetUnitTimeScale(HV8,0.5)
call TJ7(US7,"Caster",HV8)
call TJ7(US7,"Hero",C17)
call TG7(US7,"x",x*1.0)
call TG7(US7,"y",y*1.0)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function Z39))
set C17=null
set HV8=null
set t=null
endfunction
function Z59 takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit HV8
local integer US7=GetHandleId(C17)
local real a=Q87(GetUnitX(C17),GetUnitY(C17),GetSpellTargetX(),GetSpellTargetY())
local real x=GetUnitX(C17)
local real y=GetUnitY(C17)
set EZ7="Z59"
call SetUnitPathing(C17,false)
call L67(C17,1097167976)
set HV8=CreateUnit(GetOwningPlayer(C17),1747990091,GetUnitX(C17),GetUnitY(C17),a)
call D48(HV8,5)
call SetUnitPathing(HV8,false)
call L67(HV8,1097167976)
call L67(HV8,1097625443)
call L67(HV8,1093678162)
call SetUnitVertexColor(HV8,255,255,255,0)
call SetUnitX(HV8,x)
call SetUnitY(HV8,y)
call SetUnitX(C17,x)
call SetUnitY(C17,y)
call SetUnitAnimation(HV8,"Spell Throw")
call SetUnitPathing(C17,true)
call UnitRemoveAbility(C17,1097167976)
call TJ7(US7,"BlinkAM_Caster",HV8)
set C17=null
set HV8=null
endfunction
function Z29 takes nothing returns boolean
if GetSpellAbilityId()==1095066220 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call Z09()
else
call Z59()
endif
endif
return false
endfunction
function K18 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="K18"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z29))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function Z29))
set t=null
call D78(1747990091)
endfunction
function Z_9 takes unit FJ8,unit PU7 returns nothing
local integer HW8=GetUnitAbilityLevel(FJ8,1093752374)
local real A49=16+12*HW8
local real A79=GetUnitState(PU7,UNIT_STATE_MANA)
local real A89=RMinBJ(A49,A79)
set EZ7="ManaBreak_SuccessfulAttack"
if A89>0 then
call SetUnitState(PU7,UNIT_STATE_MANA,A79-A89)
call HY8(FJ8,PU7,ZH4,A89*0.6)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl",PU7,"origin"))
endif
endfunction
function A99 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local integer AD9=(LoadInteger(L7,(PP7),(30)))
local unit PU7=A87(AD9)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="A99"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==FJ8 then
call DisableTrigger(t)
call Z_9(FJ8,PU7)
call A77(AD9)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
else
call A77(AD9)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function AE9 takes nothing returns nothing
local trigger t=CreateTrigger()
local unit PU7=GetTriggerUnit()
local unit FJ8=GetAttacker()
local integer PP7=GetHandleId(t)
set EZ7="AE9"
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,0.4,false)
call TriggerAddCondition(t,Condition(function A99))
call SaveInteger(L7,(PP7),(30),(AD7(PU7)))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set PU7=null
set FJ8=null
set t=null
endfunction
function AF9 takes nothing returns nothing
local unit FJ8=GetAttacker()
set EZ7="AF9"
if UJ7(FJ8,"CooldownState")==false then
call UU7(FJ8,"CooldownState",0.4)
call AE9()
endif
set FJ8=null
endfunction
function AG9 takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093752374)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(14)))and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))and C37(GetTriggerUnit())==false then
call AF9()
endif
return false
endfunction
function AH9 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="AH9"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function AG9))
call SaveUnitHandle(L7,(GetHandleId(t)),(14),(GetTriggerUnit()))
set t=null
endfunction
function AI9 takes nothing returns boolean
if GetLearnedSkill()==1093752374 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093752374)==1 then
call AH9()
endif
return false
endfunction
function K08 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="K08"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function AI9))
set t=null
endfunction
function AJ9 takes nothing returns boolean
return GetSpellAbilityId()==1093685071
endfunction
function AK9 takes nothing returns nothing
if(GetUnitTypeId(GetEnumUnit())==1848652113 or GetUnitTypeId(GetEnumUnit())==1848652109 or GetUnitTypeId(GetEnumUnit())==1848652114 or GetUnitTypeId(GetEnumUnit())==1848652115)then
call KillUnit(GetEnumUnit())
endif
endfunction
function AM9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit AN9=(LoadUnitHandle(L7,(PP7),(2)))
local real AO9=(LoadReal(L7,(PP7),(6)))
local real AP9=(LoadReal(L7,(PP7),(7)))
local real AQ9=GetUnitX(AN9)
local real AR9=GetUnitY(AN9)
set EZ7="AM9"
call SaveReal(L7,(PP7),(6),((AQ9)*1.0))
call SaveReal(L7,(PP7),(7),((AR9)*1.0))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
if AO9==AQ9 and AP9==AR9 then
if GetUnitAbilityLevel(AN9,1093752647)==0 then
call L67(AN9,1093752647)
endif
else
if GetUnitAbilityLevel(AN9,1093752647)>0 then
call UnitRemoveAbility(AN9,1093752647)
endif
endif
endif
set t=null
set AN9=null
return false
endfunction
function AS9 takes nothing returns nothing
local unit C17=GetTriggerUnit()
local player j8=GetOwningPlayer(C17)
local integer BY7=GetUnitAbilityLevel(C17,1093685071)
local real x=GetUnitX(C17)
local real y=GetUnitY(C17)
local group JJ8=LD7()
local unit AN9
local trigger t
local integer PP7
set EZ7="AS9"
call GroupEnumUnitsOfPlayer(JJ8,j8,Condition(function A47))
call ForGroup(JJ8,function AK9)
call L97(JJ8)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",x,y))
if(BY7==1)then
set AN9=CreateUnit(j8,1848652113,x,y,270)
call UnitApplyTimedLife(AN9,1112820806,60)
elseif(BY7==2)then
set AN9=CreateUnit(j8,1848652113,x,y,270)
call UnitApplyTimedLife(AN9,1112820806,70)
call UnitApplyTimedLife(CreateUnit(j8,1848652109,x,y,270),1112820806,70)
elseif(BY7==3)then
set AN9=CreateUnit(j8,1848652114,x,y,270)
call UnitApplyTimedLife(AN9,1112820806,80)
call UnitApplyTimedLife(CreateUnit(j8,1848652109,x,y,270),1112820806,80)
elseif(BY7==4)then
set AN9=CreateUnit(j8,1848652114,x,y,270)
call UnitApplyTimedLife(AN9,1112820806,80)
call UnitApplyTimedLife(CreateUnit(j8,1848652115,x,y,270),1112820806,90)
endif
if BY7==3 or BY7==4 then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,AN9,EVENT_UNIT_DEATH)
call SaveReal(L7,(PP7),(6),((GetUnitX(AN9))*1.0))
call SaveReal(L7,(PP7),(7),((GetUnitY(AN9))*1.0))
call SaveUnitHandle(L7,(PP7),(2),(AN9))
call TriggerAddCondition(t,Condition(function AM9))
endif
set C17=null
set j8=null
set JJ8=null
set AN9=null
set t=null
endfunction
function K_8 takes nothing returns nothing
set nJ=CreateTrigger()
call EO8(nJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(nJ,Condition(function AJ9))
call TriggerAddAction(nJ,function AS9)
endfunction
function AT9 takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
local real a=bj_RADTODEG*Atan2(y-IK4,x-IJ4)
local real AU9
local real AV9
set EZ7="AT9"
if Sin((a-IM4)*bj_DEGTORAD)<0 then
set AU9=GetUnitX(GetEnumUnit())+15*Cos((IM4-90)*bj_DEGTORAD)
set AV9=GetUnitY(GetEnumUnit())+15*Sin((IM4-90)*bj_DEGTORAD)
call SetUnitPosition(GetEnumUnit(),AU9,AV9)
call SetUnitFacingTimed(GetEnumUnit(),IM4+90,0.3)
else
set AU9=GetUnitX(GetEnumUnit())+15*Cos((IM4+90)*bj_DEGTORAD)
set AV9=GetUnitY(GetEnumUnit())+15*Sin((IM4+90)*bj_DEGTORAD)
call SetUnitPosition(GetEnumUnit(),AU9,AV9)
call SetUnitFacingTimed(GetEnumUnit(),IM4-90,0.3)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",GetEnumUnit(),"origin"))
endfunction
function AW9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local real l4=UD7(US7,"Angle")
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
local group g=T57(US7,"g")
set EZ7="AW9"
if GetTriggerEvalCount(t)>16 then
call L97(g)
call T97(US7)
call UQ7(t)
else
set IJ4=x
set IK4=y
set IM4=l4
call ForGroup(g,function AT9)
endif
set t=null
set g=null
return false
endfunction
function AX9 takes nothing returns nothing
call HY8(IN4,GetEnumUnit(),ZG4,IJ4)
endfunction
function AY9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit LI7=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer HW8=GetUnitAbilityLevel(LI7,1093685042)
local unit HV8
local real AZ9=bj_RADTODEG*Atan2(GetUnitY(PU7)-GetUnitY(LI7),GetUnitX(PU7)-GetUnitX(LI7))
local real x
local real y
local group g=LD7()
local group g2=LD7()
set EZ7="AY9"
if HW8==0 then
set HW8=GetUnitAbilityLevel(LI7,1093810233)
endif
call TS7(US7,"g",g)
call TG7(US7,"Angle",AZ9*1.0)
call TG7(US7,"x",GetUnitX(LI7)*1.0)
call TG7(US7,"y",GetUnitY(LI7)*1.0)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function AW9))
set x=GetUnitX(LI7)+50*Cos(AZ9*bj_DEGTORAD)
set y=GetUnitY(LI7)+50*Sin(AZ9*bj_DEGTORAD)
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function GQ8))
call GroupAddGroup(g2,g)
call GroupClear(g2)
set HV8=CreateUnit(GetOwningPlayer(LI7),1865429081,x,y,AZ9)
call UnitApplyTimedLife(HV8,1112820806,1)
call L67(HV8,1093684825)
call SetUnitAbilityLevel(HV8,1093684825,HW8)
call IssueImmediateOrder(HV8,"thunderclap")
set x=GetUnitX(LI7)+250*Cos(AZ9*bj_DEGTORAD)
set y=GetUnitY(LI7)+250*Sin(AZ9*bj_DEGTORAD)
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function GQ8))
call GroupAddGroup(g2,g)
call GroupClear(g2)
set HV8=CreateUnit(GetOwningPlayer(LI7),1865429081,x,y,AZ9)
call UnitApplyTimedLife(HV8,1112820806,1)
call L67(HV8,1093684825)
call SetUnitAbilityLevel(HV8,1093684825,HW8)
call IssueImmediateOrder(HV8,"thunderclap")
set x=GetUnitX(LI7)+450*Cos(AZ9*bj_DEGTORAD)
set y=GetUnitY(LI7)+450*Sin(AZ9*bj_DEGTORAD)
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function GQ8))
call GroupAddGroup(g2,g)
call GroupClear(g2)
set HV8=CreateUnit(GetOwningPlayer(LI7),1865429081,x,y,AZ9)
call UnitApplyTimedLife(HV8,1112820806,1)
call L67(HV8,1093684825)
call SetUnitAbilityLevel(HV8,1093684825,HW8)
call IssueImmediateOrder(HV8,"thunderclap")
if GetUnitAbilityLevel(LI7,1093685042)==0 then
set x=GetUnitX(LI7)+650*Cos(AZ9*bj_DEGTORAD)
set y=GetUnitY(LI7)+650*Sin(AZ9*bj_DEGTORAD)
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function GQ8))
call GroupAddGroup(g2,g)
call GroupClear(g2)
set HV8=CreateUnit(GetOwningPlayer(LI7),1865429081,x,y,AZ9)
call UnitApplyTimedLife(HV8,1112820806,1)
call L67(HV8,1093684825)
call SetUnitAbilityLevel(HV8,1093684825,HW8)
call IssueImmediateOrder(HV8,"thunderclap")
endif
call L97(g2)
call GroupRemoveUnit(g,PU7)
set IJ4=100*HW8
set IN4=LI7
call ForGroup(g,function AX9)
set t=null
set LI7=null
set PU7=null
set HV8=null
set g=null
set g2=null
endfunction
function AA9 takes nothing returns boolean
if(GetSpellAbilityId()==1093685042 or GetSpellAbilityId()==1093810233)and L87(GetSpellTargetUnit())==false then
call AY9()
endif
return false
endfunction
function K58 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="K58"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AA9))
set t=null
endfunction
function AB9 takes nothing returns boolean
return GetSpellAbilityId()==1093685041
endfunction
function AC9 takes unit C17,real x,real y,group A39 returns nothing
local group JJ8=LD7()
local unit K68
set EZ7="WildAxes_DamageUnits"
call ER8(x,y,150)
call GroupEnumUnitsInRange(JJ8,x,y,150,Condition(function A47))
loop
set K68=FirstOfGroup(JJ8)
exitwhen K68==null
if IsUnitInGroup(K68,A39)==false and IsUnitEnemy(K68,GetOwningPlayer(C17))then
if(GetUnitAbilityLevel(K68,1093678162)!=1 and GetUnitState(K68,UNIT_STATE_LIFE)>0 and IsUnitType(K68,UNIT_TYPE_STRUCTURE)==false)then
call GroupAddUnit(A39,K68)
call UnitDamageTarget(C17,K68,60+GetUnitAbilityLevel(C17,1093685041)*30,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_METAL_HEAVY_SLICE)
call AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",K68,"overhead")
endif
endif
call GroupRemoveUnit(JJ8,K68)
endloop
call L97(JJ8)
set JJ8=null
set K68=null
endfunction
function A69 takes nothing returns nothing
local integer PP7=GetHandleId(GetExpiredTimer())
local unit AL9=T37(PP7,"Axe")
local unit LI7=T37(PP7,"Hero")
local real Ax=UD7(PP7,"Ax")
local real Ay=UD7(PP7,"Ay")
local real Cx=UD7(PP7,"Cx")
local real Cy=UD7(PP7,"Cy")
local real Bx=UD7(PP7,"Bx")
local real By=UD7(PP7,"By")
local real a=UD7(PP7,"a")
local real b=1-a
local boolean A19=UE7(PP7,"FirstPass")
local group A09=T57(PP7,"AlreadyDamaged")
local real A59=RMaxBJ(Q07(Ax,Ay,Cx,Cy)/1300,0.4)
set EZ7="A69"
call SetUnitX(AL9,DT8(Ax*a*a+Bx*2*a*b+Cx*b*b))
call SetUnitY(AL9,DU8(Ay*a*a+By*2*a*b+Cy*b*b))
call AC9(LI7,GetUnitX(AL9),GetUnitY(AL9),A09)
if(A19)then
call TG7(PP7,"a",(a-.02/A59)*1.0)
else
call TG7(PP7,"a",(a+.02/A59)*1.0)
call TG7(PP7,"Ax",GetUnitX(LI7)*1.0)
call TG7(PP7,"Ay",GetUnitY(LI7)*1.0)
endif
if(a<0 and A19)then
call TI7(PP7,"FirstPass",false)
call TG7(PP7,"Bx",(Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)+(UD7(PP7,"AngleOffset"))))*1.0)
call TG7(PP7,"By",(Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)+(UD7(PP7,"AngleOffset"))))*1.0)
endif
if(a>1 and A19==false)then
call PauseTimer(GetExpiredTimer())
call L97(A09)
call T97(PP7)
call RemoveUnit(AL9)
call DestroyTimer(GetExpiredTimer())
endif
set AL9=null
set LI7=null
set A09=null
endfunction
function A29 takes nothing returns nothing
local unit C17=GetTriggerUnit()
local real Ax=GetUnitX(C17)
local real Ay=GetUnitY(C17)
local real Cx=GetLocationX(GetSpellTargetLoc())
local real Cy=GetLocationY(GetSpellTargetLoc())
local unit A_9=CreateUnit(GetOwningPlayer(C17),1697657172,Ax,Ay,270.0)
local unit B49=CreateUnit(GetOwningPlayer(C17),1697657172,Ax,Ay,270.0)
local integer B79
local integer B89
local timer B99=CreateTimer()
local timer BD9=CreateTimer()
set EZ7="A29"
if GetSpellTargetUnit()!=null then
set Cx=GetUnitX(GetSpellTargetUnit())
set Cy=GetUnitY(GetSpellTargetUnit())
endif
call L67(A_9,1097691750)
call UnitRemoveAbility(A_9,1097691750)
call SetUnitFlyHeight(A_9,150,0)
call L67(B49,1097691750)
call UnitRemoveAbility(B49,1097691750)
call SetUnitFlyHeight(B49,150,0)
set B79=GetHandleId(B99)
call TJ7(B79,"Hero",C17)
call TJ7(B79,"Axe",A_9)
call TS7(B79,"AlreadyDamaged",LD7())
call TG7(B79,"Ax",(Ax)*1.0)
call TG7(B79,"Ay",(Ay)*1.0)
call TG7(B79,"Cx",(Cx)*1.0)
call TG7(B79,"Cy",(Cy)*1.0)
call TG7(B79,"Bx",(Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)+45))*1.0)
call TG7(B79,"By",(Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)+45))*1.0)
call TG7(B79,"a",(1)*1.0)
call TG7(B79,"AngleOffset",(-45)*1.0)
call TI7(B79,"FirstPass",true)
set B89=GetHandleId(BD9)
call TJ7(B89,"Hero",C17)
call TJ7(B89,"Axe",B49)
call TS7(B89,"AlreadyDamaged",LD7())
call TG7(B89,"Ax",(Ax)*1.0)
call TG7(B89,"Ay",(Ay)*1.0)
call TG7(B89,"Cx",(Cx)*1.0)
call TG7(B89,"Cy",(Cy)*1.0)
call TG7(B89,"Bx",(Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)-45))*1.0)
call TG7(B89,"By",(Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)-45))*1.0)
call TG7(B89,"a",(1)*1.0)
call TG7(B89,"AngleOffset",(45)*1.0)
call TI7(B89,"FirstPass",true)
call TimerStart(B99,.025,true,function A69)
call TimerStart(BD9,.025,true,function A69)
set C17=null
set A_9=null
set B49=null
set B99=null
set BD9=null
endfunction
function K28 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="K28"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AB9))
call TriggerAddAction(t,function A29)
set t=null
endfunction
function BE9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
set EZ7="BE9"
call UnitRemoveAbility(p5,1093743664)
call T97(US7)
call UQ7(t)
set t=null
set p5=null
return false
endfunction
function BF9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
set EZ7="BF9"
call L67(p5,1093743664)
call TriggerRegisterTimerEvent(t,6.,false)
call TriggerAddCondition(t,Condition(function BE9))
call TJ7(US7,"Source",p5)
set t=null
set p5=null
endfunction
function BG9 takes nothing returns boolean
if GetSpellAbilityId()==1093743450 then
call BF9()
endif
return false
endfunction
function M48 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="M48"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BG9))
set t=null
endfunction
function BH9 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer US7=GetHandleId(p5)
local player p=TL7(US7,"Track|SourcePlayer")
local integer HW8=U97(US7,"Track|Level")
local texttag tt=CreateTextTag()
local integer C_8
local integer i=1
local unit BI9
local player BJ9
set EZ7="BH9"
if HW8==1 then
set C_8=150
elseif HW8==2 then
set C_8=200
else
set C_8=250
endif
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)+C_8)
call SetTextTagText(tt,"+"+I2S(C_8),0.025)
call SetTextTagPosUnit(tt,M7[GetPlayerId(p)],100)
call SetTextTagColor(tt,255,220,0,255)
call SetTextTagVelocity(tt,0,0.03)
call SetTextTagVisibility(tt,false)
if GetLocalPlayer()==p then
call SetTextTagVisibility(tt,true)
endif
call SetTextTagFadepoint(tt,2)
call SetTextTagLifespan(tt,3)
call SetTextTagPermanent(tt,false)
set VG4[GetPlayerId(p)]=VG4[GetPlayerId(p)]+C_8
set YC4=YC4+C_8
if HW8==1 then
set C_8=50
elseif HW8==2 then
set C_8=100
else
set C_8=150
endif
loop
exitwhen i>5
if AG7(p)then
set BJ9=Z7[i]
else
set BJ9=A7[i]
endif
if BJ9!=p then
set BI9=M7[GetPlayerId(BJ9)]
if Q17(BI9,p5)<950 then
set tt=CreateTextTag()
call SetPlayerState(BJ9,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(BJ9,PLAYER_STATE_RESOURCE_GOLD)+C_8)
call SetTextTagText(tt,"+"+I2S(C_8),0.025)
call SetTextTagPosUnit(tt,BI9,100)
call SetTextTagColor(tt,255,220,0,255)
call SetTextTagVelocity(tt,0,0.03)
call SetTextTagVisibility(tt,false)
if GetLocalPlayer()==BJ9 then
call SetTextTagVisibility(tt,true)
endif
call SetTextTagFadepoint(tt,2)
call SetTextTagLifespan(tt,3)
call SetTextTagPermanent(tt,false)
set VG4[GetPlayerId(BJ9)]=VG4[GetPlayerId(BJ9)]+C_8
set YC4=YC4+C_8
endif
endif
set i=i+1
endloop
set p5=null
set p=null
set tt=null
set BI9=null
set BJ9=null
endfunction
function BK9 takes nothing returns boolean
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and UD7(GetHandleId(GetTriggerUnit()),"Track|Time")>RF7()then
call BH9()
endif
return false
endfunction
function BM9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local unit oA=T37(US7,"Caster")
set EZ7="BM9"
call SetUnitX(oA,GetUnitX(m5))
call SetUnitY(oA,GetUnitY(m5))
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEvalCount(t)>10 and GetUnitAbilityLevel(m5,1110454348)==0)then
call DestroyEffect(T27(US7,"FX"))
call KillUnit(oA)
call T97(US7)
call UQ7(t)
endif
set t=null
set m5=null
set oA=null
return false
endfunction
function BN9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit m5=GetSpellTargetUnit()
local unit p5=GetTriggerUnit()
local unit oA=CreateUnit(GetOwningPlayer(m5),1697657174,GetUnitX(m5),GetUnitY(m5),0)
local string BO9="war3mapImported\\TrackBuff.mdx"
set EZ7="BN9"
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(m5))and C67(GetLocalPlayer())==false then
set BO9=""
endif
call L67(oA,1093742901)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,GetSpellTargetUnit(),EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function BM9))
call TJ7(US7,"Target",m5)
call TJ7(US7,"Caster",oA)
call TK7(US7,"FX",AddSpecialEffectTarget(BO9,m5,"overhead"))
call TG7(GetHandleId(GetSpellTargetUnit()),"Track|Time",(((RF7())+30)*1.0))
call TQ7(GetHandleId(GetSpellTargetUnit()),"Track|SourcePlayer",GetOwningPlayer(GetTriggerUnit()))
call TF7(GetHandleId(GetSpellTargetUnit()),"Track|Level",GetUnitAbilityLevel(GetTriggerUnit(),1093681716))
set t=null
set m5=null
set p5=null
set oA=null
endfunction
function BP9 takes nothing returns boolean
if GetSpellAbilityId()==1093681716 then
call BN9()
endif
return false
endfunction
function ME8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="ME8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BP9))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function BK9))
set t=null
endfunction
function BQ9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
set EZ7="BQ9"
call UnitRemoveAbility(m5,1093749079)
call UnitRemoveAbility(m5,1110459201)
call T97(US7)
call UQ7(t)
set t=null
set m5=null
return false
endfunction
function BR9 takes unit p5,unit m5 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="DXv"
call TriggerRegisterTimerEvent(t,3.,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function BQ9))
call TJ7(US7,"Target",m5)
call L67(m5,1093749079)
call UnitMakeAbilityPermanent(m5,true,1093749079)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093749079,false)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl",m5,"chest"))
set t=null
endfunction
function BS9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer HB8=U97(US7,"TargetIndex")
local unit m5=A87(HB8)
local unit p5=T37(US7,"Source")
set EZ7="BS9"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and(GetEventDamage()>40 or IsUnitType(m5,UNIT_TYPE_STRUCTURE)==true or GetUnitTypeId(m5)==1970107511 or GetUnitTypeId(m5)==1700946284)and UE7(GetHandleId(p5),"JinadaActive")==true then
call BR9(p5,m5)
call TI7(GetHandleId(p5),"JinadaActive",false)
call TG7(GetHandleId(p5),"LastUsed",TimerGetElapsed(W)*1.0)
call UnitRemoveAbility(p5,1093749075)
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
call A77(HB8)
call T97(US7)
call UQ7(t)
endif
else
call A77(HB8)
call T97(US7)
call UQ7(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function BT9 takes nothing returns boolean
local trigger t
local integer US7
local unit m5
local unit p5
local integer BY7
set EZ7="BT9"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call TI7(GetHandleId(GetTriggerUnit()),"JinadaActive",false)
call TG7(GetHandleId(GetTriggerUnit()),"LastUsed",TimerGetElapsed(W)*1.0)
call UnitRemoveAbility(GetTriggerUnit(),1093749075)
call UnitRemoveAbility(GetTriggerUnit(),1093749300)
call UnitRemoveAbility(GetTriggerUnit(),1093749299)
call UnitRemoveAbility(GetTriggerUnit(),1093749301)
call UnitRemoveAbility(GetTriggerUnit(),1093749077)
elseif GetAttacker()==T37(GetHandleId(GetTriggeringTrigger()),"JinadaHero")then
if IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and UE7(GetHandleId(GetAttacker()),"JinadaActive")==true then
set t=CreateTrigger()
set US7=GetHandleId(t)
set m5=GetTriggerUnit()
set p5=GetAttacker()
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function BS9))
call TF7(US7,"TargetIndex",AD7(m5))
call TJ7(US7,"Source",p5)
set BY7=GetUnitAbilityLevel(p5,1093749073)
if BY7==0 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BY7==1 then
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BY7==2 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BY7==3 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749077)
elseif BY7==4 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
endif
set m5=null
set p5=null
set t=null
endif
endif
return false
endfunction
function BU9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local real BV9=TimerGetElapsed(W)
local integer BY7=GetUnitAbilityLevel(C17,1093749073)
local real BW9=UD7(GetHandleId(C17),"LastUsed")
local boolean BX9=UE7(GetHandleId(C17),"JinadaActive")
set EZ7="BU9"
if BV9-BW9>14-BY7*2 and BX9==false and L17(C17)==false then
call TI7(GetHandleId(C17),"JinadaActive",true)
call L67(C17,1093749075)
if GetUnitAbilityLevel(C17,1110455864)==0 then
if BY7==1 then
call L67(C17,1093749300)
elseif BY7==2 then
call L67(C17,1093749299)
elseif BY7==3 then
call L67(C17,1093749301)
elseif BY7==4 then
call L67(C17,1093749077)
endif
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),1093749300,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),1093749299,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),1093749301,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),1093749077,false)
elseif BX9==false and GetUnitAbilityLevel(C17,1110455864)==0 then
call UnitRemoveAbility(C17,1093749075)
call UnitRemoveAbility(C17,1093749300)
call UnitRemoveAbility(C17,1093749299)
call UnitRemoveAbility(C17,1093749301)
call UnitRemoveAbility(C17,1093749077)
endif
set t=null
set C17=null
return false
endfunction
function BY9 takes unit C17,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
local trigger t2=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BA9=GetHandleId(t2)
set EZ7="DBv"
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function BU9))
call EO8(t2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t2,C17,EVENT_UNIT_DEATH)
call TriggerAddCondition(t2,Condition(function BT9))
call TJ7(US7,"Hero",C17)
call TJ7(BA9,"JinadaHero",C17)
if BZ9 then
set aj[GetPlayerId(GetOwningPlayer(C17))]=t
set Rj[GetPlayerId(GetOwningPlayer(C17))]=t2
endif
set C17=null
set t=null
set t2=null
endfunction
function BB9 takes nothing returns boolean
if GetLearnedSkill()==1093749073 and GetUnitAbilityLevel(GetTriggerUnit(),1093749073)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call BY9(GetTriggerUnit(),false)
endif
return false
endfunction
function MF8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="MF8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function BB9))
set t=null
endfunction
function BC9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local unit p5=T37(US7,"Source")
local integer BY7=GetUnitAbilityLevel(p5,1093678913)
set EZ7="BC9"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 then
call T97(US7)
call UQ7(t)
if UJ7(p5,"WindWalk|CD")==false then
call UU7(p5,"WindWalk|CD",0.5)
if IsUnitType(m5,UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(m5,GetOwningPlayer(p5))then
call HY8(p5,m5,ZH4,30*BY7)
call EI8(I2S(R2I(30*BY7)),1,p5,0.027,216,0,0,216)
call UO7(p5,"WindWalkBH|Active")
set t=T07(GetHandleId(p5),"ai|WWTrigger")
call T97(GetHandleId(t))
call UQ7(t)
endif
endif
endif
else
call T97(US7)
call UQ7(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function B39 takes nothing returns boolean
local trigger t=null
local unit m5=null
local unit p5=null
local integer US7
local integer BY7
set EZ7="B39"
if UJ7(GetAttacker(),"WindWalkBH|Active")then
set t=CreateTrigger()
set m5=GetTriggerUnit()
set p5=GetAttacker()
set US7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.,false)
call TriggerAddCondition(t,Condition(function BC9))
call TJ7(US7,"Target",m5)
call TJ7(US7,"Source",p5)
if UE7(GetHandleId(p5),"JinadaActive")then
set BY7=GetUnitAbilityLevel(p5,1093749073)
if BY7==0 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BY7==1 then
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BY7==2 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BY7==3 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749077)
elseif BY7==4 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
endif
else
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
endif
set m5=null
set p5=null
set t=null
endif
return false
endfunction
function B69 takes nothing returns boolean
local integer US7=GetHandleId(GetTriggeringTrigger())
local unit p5=T37(US7,"Hero")
local integer BY7
set EZ7="B69"
call UO7(p5,"WindWalkBH|Active")
if GetTriggerEventId()==EVENT_UNIT_SPELL_CAST or GetTriggerEventId()==EVENT_UNIT_DEATH then
if UE7(GetHandleId(p5),"JinadaActive")then
set BY7=GetUnitAbilityLevel(p5,1093749073)
if BY7==0 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BY7==1 then
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BY7==2 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BY7==3 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749077)
elseif BY7==4 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
endif
else
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
endif
else
if not UE7(GetHandleId(p5),"JinadaActive")then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
endif
endif
call T97(US7)
call UQ7(GetTriggeringTrigger())
set p5=null
return false
endfunction
function BL9 takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Hero")
set EZ7="BL9"
if IsTriggerEnabled(T07(US7,"CancelTr"))then
call UM7(p5,"WindWalkBH|Active")
endif
call T97(US7)
call UQ7(t)
set p5=null
set t=null
endfunction
function B19 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local integer BY7=GetUnitAbilityLevel(p5,1093678913)
set EZ7="B19"
call TriggerRegisterTimerEvent(t,1.25-0.25*BY7-0.01,false)
call TriggerAddAction(t,function BL9)
call TJ7(US7,"Hero",p5)
set t=CreateTrigger()
call TM7(US7,"CancelTr",t)
set US7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,10+5*BY7,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_CAST)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function B69))
call TJ7(US7,"Hero",p5)
call TM7(GetHandleId(p5),"ai|WWTrigger",t)
call L67(p5,1093749300)
call L67(p5,1093749299)
call L67(p5,1093749301)
call L67(p5,1093749077)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093749300,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093749299,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093749301,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093749077,false)
set t=null
set p5=null
endfunction
function B09 takes nothing returns boolean
if GetSpellAbilityId()==1093678913 then
call B19()
endif
return false
endfunction
function MG8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="MG8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function B09))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function B39))
set t=null
endfunction
function B59 takes nothing returns boolean
return GetSpellAbilityId()==1093683024 or GetSpellAbilityId()==1093682775
endfunction
function B29 takes integer BY7,integer a returns integer
if a==0 then
return 1
else
return(BY7-1)*5+1+a
endif
endfunction
function Ry takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1697656920
endfunction
function RY takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function B_9 takes player p returns nothing
local group g=LD7()
set EZ7="Warpath_FindAndRemove"
call GroupEnumUnitsOfPlayer(g,p,Condition(function Ry))
call ForGroup(g,function RY)
call L97(g)
set g=null
endfunction
function C49 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local unit LI7=T37(GetHandleId(t),"Hero")
local integer PP7=GetHandleId(LI7)
local integer HW8=GetUnitAbilityLevel(LI7,1093682774)
local integer C79=(U97(PP7,"Warpath|Level")-1)
local integer C89=D08(C79,0,5)
local unit HV8=T37(PP7,"Warpath|Caster")
local integer C99
if HW8==1 then
set C99=C89*20
elseif HW8==2 then
set C99=C89*25
elseif HW8==3 then
set C99=C89*30
endif
if C79==0 then
set C99=0
endif
call H68(LI7,C99)
if GetUnitTypeId(HV8)==1697656920 then
call SetUnitAbilityLevel(HV8,1093682502,B29(HW8,C89))
call TF7(PP7,"Warpath|Level",C79)
else
call B_9(TL7(GetHandleId(t),"p"))
endif
call T97(GetHandleId(t))
call UQ7(t)
set t=null
set LI7=null
set HV8=null
return false
endfunction
function CD9 takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local integer PP7=GetHandleId(LI7)
local unit HV8=T37(PP7,"Warpath|Caster")
local integer HW8=GetUnitAbilityLevel(LI7,1093682774)
local integer C79=(U97(PP7,"Warpath|Level")+1)
local integer C89=D08(C79,0,5)
local integer CE9=B29(HW8,C89)
local trigger t=CreateTrigger()
local integer C99
set EZ7="CD9"
if HW8==1 then
set C99=C89*20
elseif HW8==2 then
set C99=C89*25
elseif HW8==3 then
set C99=C89*30
endif
call H68(LI7,C99)
call SetUnitAbilityLevel(HV8,1093682502,CE9)
call TF7(PP7,"Warpath|Level",C79)
call TJ7(GetHandleId(t),"Hero",LI7)
call TQ7(GetHandleId(t),"p",GetOwningPlayer(LI7))
call TriggerRegisterTimerEvent(t,10.,false)
call TriggerAddCondition(t,Condition(function C49))
set t=null
set LI7=null
set HV8=null
endfunction
function CF9 takes unit C17,boolean BZ9 returns nothing
local integer HW8=GetUnitAbilityLevel(C17,1093682774)
local unit oA=CreateUnit(GetOwningPlayer(C17),1697656920,0,0,0)
local trigger t=CreateTrigger()
set EZ7="Warpath_LearnAction"
call L67(oA,1093682502)
call TJ7(GetHandleId(C17),"Warpath|Caster",oA)
call SetUnitInvulnerable(oA,true)
call L67(oA,1097625443)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function B59))
call TriggerAddAction(t,function CD9)
if BZ9 then
set Vj[GetPlayerId(GetOwningPlayer(C17))]=t
endif
set oA=null
set t=null
endfunction
function CG9 takes nothing returns boolean
if GetLearnedSkill()==1093682774 and GetUnitAbilityLevel(GetTriggerUnit(),1093682774)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call CF9(GetTriggerUnit(),false)
endif
return false
endfunction
function MH8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="MH8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function CG9))
call DX8(1093682502)
set t=null
endfunction
function CH9 takes nothing returns boolean
return(GetSpellAbilityId()==1093682775)and L87(GetSpellTargetUnit())==false
endfunction
function R6 takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function R7 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1697656901)
endfunction
function R9 takes nothing returns nothing
local location Mk=GetUnitLoc(GetTriggerUnit())
set EZ7="R9"
call SetUnitPositionLoc(GetEnumUnit(),Mk)
if GetUnitUserData(GetEnumUnit())==4 then
call IssueTargetOrderById(GetEnumUnit(),852662,GetSpellTargetUnit())
else
call IncUnitAbilityLevel(GetEnumUnit(),1093682778)
call IssueTargetOrderById(GetEnumUnit(),852662,GetSpellTargetUnit())
call SetUnitUserData(GetEnumUnit(),(GetUnitUserData(GetEnumUnit())+1))
endif
call RemoveLocation(Mk)
set Mk=null
endfunction
function CI9 takes nothing returns nothing
local location Mk=GetUnitLoc(GetTriggerUnit())
local location sA=GetUnitLoc(GetSpellTargetUnit())
local group sb=LD7()
set EZ7="CI9"
if(UnitHasBuffBJ(GetSpellTargetUnit(),1110454869)==true)then
call GroupEnumUnitsOfPlayer(sb,GetOwningPlayer(GetSpellTargetUnit()),Condition(function R7))
call ForGroupBJ(sb,function R9)
else
call GroupEnumUnitsOfPlayer(sb,GetOwningPlayer(GetSpellTargetUnit()),Condition(function R7))
call ForGroupBJ(sb,function R6)
call DisableTrigger(EA)
call CreateNUnitsAtLocFacingLocBJ(1,1697656901,GetOwningPlayer(GetSpellTargetUnit()),Mk,sA)
call EnableTrigger(EA)
call UnitAddAbility(bj_lastCreatedUnit,1093682778)
call SetUnitAbilityLevelSwapped(1093682778,bj_lastCreatedUnit,((GetUnitAbilityLevelSwapped(1093682775,GetTriggerUnit())*4)-3))
call IssueTargetOrderById(bj_lastCreatedUnit,852662,GetSpellTargetUnit())
call SetUnitUserData(bj_lastCreatedUnit,1)
endif
call L97(sb)
call RemoveLocation(Mk)
call RemoveLocation(sA)
set Mk=null
set sA=null
set sb=null
endfunction
function MI8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="MI8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CH9))
call TriggerAddAction(t,function CI9)
set t=null
endfunction
function CJ9 takes nothing returns boolean
return IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false
endfunction
function CK9 takes unit C17 returns nothing
local unit HV8=CreateUnit(GetOwningPlayer(C17),1697656901,GetUnitX(C17),GetUnitY(C17),0)
call L67(HV8,1093683024)
call SetUnitAbilityLevel(HV8,1093683024,GetUnitAbilityLevel(C17,1093683024))
call IssueImmediateOrder(HV8,"fanofknives")
set HV8=null
endfunction
function CM9 takes unit C17,real D_8 returns nothing
local integer US7=GetHandleId(C17)
local real sD=UD7(US7,"Bristleback_DamageStack")
if sD+D_8>250 then
call TG7(US7,"Bristleback_DamageStack",((0)*1.0))
call CK9(C17)
else
call TG7(US7,"Bristleback_DamageStack",((sD+D_8)*1.0))
endif
endfunction
function CN9 takes nothing returns nothing
local unit sE=GetTriggerUnit()
local unit ZY8=GetEventDamageSource()
local real sf=Q77(ZY8,sE)
local real sF=GetUnitFacing(sE)
local real sg
local real D_8=GetEventDamage()
local real sG
local real RK
set EZ7="CN9"
if(D_8>5)and GetUnitState(sE,UNIT_STATE_LIFE)>1 then
if((sF-sf)<(-180.00))then
set sg=(sF-sf+360)
else
if((sF-sf)>180.)then
set sg=(sF-sf-360)
else
set sg=(sF-sf)
endif
endif
set RK=RAbsBJ(sg)
if RK<=70 then
set sG=(GetUnitAbilityLevel(sE,1093684531)*0.08+0.08)*D_8
call CM9(sE,D_8-sG)
call SetUnitState(sE,UNIT_STATE_LIFE,GetUnitState(sE,UNIT_STATE_LIFE)+sG)
elseif RK<=110 then
set sG=(GetUnitAbilityLevel(sE,1093684531)*0.04+0.04)*D_8
call SetUnitState(sE,UNIT_STATE_LIFE,GetUnitState(sE,UNIT_STATE_LIFE)+sG)
endif
endif
set sE=null
set ZY8=null
endfunction
function CO9 takes unit C17,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
set EZ7="Dpv"
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function CJ9))
call TriggerAddAction(t,function CN9)
if BZ9 then
set nj[GetPlayerId(GetOwningPlayer(C17))]=t
endif
set t=null
endfunction
function CP9 takes nothing returns boolean
if GetLearnedSkill()==1093684531 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093684531)==1 then
call CO9(GetTriggerUnit(),false)
endif
return false
endfunction
function MJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="MJ8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function CP9))
set t=null
endfunction
function CQ9 takes nothing returns boolean
return GetSpellAbilityId()==1093683024
endfunction
function CR9 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)!=1
endfunction
function CS9 takes nothing returns nothing
local integer CT9=GetHandleId(GetEnumUnit())
local integer CU9=LoadInteger(L7,Z8,CT9)
local real CV9=D58(F8+CU9*30,400)
call UnitDamageTarget(D8,GetEnumUnit(),CV9,false,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call SaveInteger(L7,Z8,CT9,CU9+1)
endfunction
function CW9 takes nothing returns nothing
local integer CT9=GetHandleId(GetEnumUnit())
local integer CU9=LoadInteger(L7,Z8,CT9)
call SaveInteger(L7,Z8,CT9,CU9-1)
endfunction
function CX9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"UnitVar")
local group JJ8=T57(US7,"GroupVar")
set Z8=GetHandleId(C17)
call ForGroup(JJ8,function CW9)
call L97(JJ8)
call T97(US7)
call UQ7(t)
set t=null
set C17=null
set JJ8=null
return false
endfunction
function CY9 takes nothing returns nothing
local unit Z49=GetTriggerUnit()
local group CZ9=LD7()
local trigger t=CreateTrigger()
set EZ7="CY9"
if IsUnitType(Z49,UNIT_TYPE_HERO)==false then
set Z49=M7[GetPlayerId(GetOwningPlayer(Z49))]
endif
call GroupEnumUnitsInRange(CZ9,GetUnitX(Z49),GetUnitY(Z49),650,Condition(function CR9))
set D8=CreateUnit(GetOwningPlayer(Z49),1697656901,GetUnitX(Z49),GetUnitY(Z49),0)
set F8=GetUnitAbilityLevel(Z49,1093683024)*20
set Z8=GetHandleId(Z49)
call ForGroup(CZ9,function CS9)
call TJ7(GetHandleId(t),"UnitVar",Z49)
call TS7(GetHandleId(t),"GroupVar",CZ9)
call TriggerRegisterTimerEvent(t,10.,false)
call TriggerAddCondition(t,Condition(function CX9))
set t=null
set Z49=null
set CZ9=null
endfunction
function MK8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="MK8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CQ9))
call TriggerAddAction(t,function CY9)
set t=null
endfunction
function CA9 takes nothing returns nothing
call HY8(II7,GetEnumUnit(),ZG4,IJ7)
endfunction
function CB9 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer HW8=GetUnitAbilityLevel(p5,1093816142)
local real CC9
local group g=LD7()
set IJ7=100+HW8*75
set II7=p5
set IN4=p5
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),190+25,Condition(function GK8))
call ForGroup(g,function CA9)
set CC9=IJ7
if GetUnitState(p5,UNIT_STATE_LIFE)<=CC9*0.75 then
set CC9=GetUnitState(p5,UNIT_STATE_LIFE)/ 0.75-10
endif
call HY8(p5,p5,ZG4,CC9)
call DestroyEffect(AddSpecialEffect("war3mapImported\\DoubleEdgeTarget.mdx",GetUnitX(m5),GetUnitY(m5)))
set p5=null
set m5=null
endfunction
function C39 takes nothing returns boolean
if GetSpellAbilityId()==1093816142 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call CB9()
else
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\DoubleEdgeCaster.mdx",GetTriggerUnit(),"hand, right"))
endif
endif
return false
endfunction
function MM8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="MM8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function C39))
set t=null
endfunction
function C69 takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),1093677142)>0 and GetUnitAbilityLevel(GetAttacker(),1093678162)!=1 and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false and GetUnitTypeId(GetAttacker())!=1848657461
endfunction
function CL9 takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetAttacker()
local integer HW8=GetUnitAbilityLevel(FJ8,1093677142)
local integer C19=GetHeroStr(FJ8,true)
local real CV9=(14+2*HW8)+(0.18+0.08*HW8)*C19
set EZ7="CL9"
call HY8(FJ8,PU7,ZH4,CV9)
set FJ8=null
set PU7=null
endfunction
function MN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function C69))
call TriggerAddAction(t,function CL9)
set t=null
endfunction
function C09 takes nothing returns nothing
local integer C59
local unit C29=GetEnumUnit()
if C37(C29)==false and UJ7(C29,"Stampede|4332")==false then
call UU7(C29,"Stampede|4332",IO7)
set C59=IN7
call HY8(IM7,C29,ZG4,(C59)*GetHeroStr(IK7,true))
call SetPlayerAbilityAvailable(GetOwningPlayer(C29),1093816139,false)
call L67(C29,1093816139)
call FV8(C29,1093816139,1,1.25,1110460230)
endif
set C29=null
endfunction
function C_9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local group g
if GetTriggerEvalCount(t)>=R2I(20*IO7)or GetTriggerEventId()==EVENT_WIDGET_DEATH then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call SetUnitPathing(FJ8,true)
call UnitRemoveAbility(FJ8,1093816116)
call UnitRemoveAbility(FJ8,1110460226)
else
set g=LD7()
set IN4=FJ8
set IK7=HV8
set IM7=FJ8
set IN7=HW8
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),105+25,Condition(function G78))
call ForGroup(g,function C09)
call L97(g)
endif
set t=null
set FJ8=null
set g=null
return false
endfunction
function L49 takes nothing returns nothing
local unit FJ8=GetEnumUnit()
local integer HW8=GetUnitAbilityLevel(IK7,1093816118)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call SetUnitPathing(FJ8,false)
call L67(FJ8,1093816116)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerAddCondition(t,Condition(function C_9))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(19),(IK7))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveEffectHandle(L7,(PP7),(175),(AddSpecialEffectTarget("war3mapImported\\SandBreathDamageSmall.mdx",FJ8,"foot, left")))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffectTarget("war3mapImported\\SandBreathDamageSmall.mdx",FJ8,"foot, right")))
set FJ8=null
set t=null
endfunction
function L79 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local group g=LD7()
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set IK7=FJ8
set IN4=FJ8
call GroupEnumUnitsInRange(g,0,0,99999,Condition(function HF8))
call ForGroup(g,function L49)
call L97(g)
set t=null
set FJ8=null
set g=null
return false
endfunction
function L89 takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local sound L99=CreateSound("abilities\\Spells\\Other\\Stampede\\StampedeCaster1.wav",false,false,false,10,10,"DefaultEAXON")
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call StartSound(L99)
call KillSoundWhenDone(L99)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function L79))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set FJ8=null
set L99=null
endfunction
function LD9 takes nothing returns boolean
if GetSpellAbilityId()==1093816118 then
call L89()
endif
return false
endfunction
function MO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call DX8(1093816116)
call DX8(1093687350)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LD9))
call CreateSound("abilities\\Spells\\Other\\Stampede\\StampedeCaster1.wav",false,false,false,10,10,"DefaultEAXON")
set t=null
endfunction
function LE9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer BY7=U97(US7,"Level")
local real so
set EZ7="LE9"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>10 then
set so=GetEventDamage()*.08*BY7
call DisableTrigger(t)
call HY8(GetEventDamageSource(),GetTriggerUnit(),ZH4,so)
call EnableTrigger(t)
endif
else
call T97(US7)
call UQ7(t)
endif
set t=null
return false
endfunction
function LF9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit m5=GetSpellTargetUnit()
local unit p5=GetTriggerUnit()
local integer BY7=GetUnitAbilityLevel(p5,1093684045)
set EZ7="LF9"
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",p5,"chest"))
call TF7(US7,"Level",BY7)
call TriggerRegisterTimerEvent(t,7.,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function LE9))
set t=null
set m5=null
set p5=null
endfunction
function LG9 takes nothing returns boolean
if GetSpellAbilityId()==1093684045 then
call LF9()
endif
return false
endfunction
function MP8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="MP8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LG9))
set t=null
endfunction
function LH9 takes nothing returns boolean
return GetSpellAbilityId()==1093684308 or GetSpellAbilityId()==1093747539
endfunction
function sq takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1
endfunction
function LI9 takes nothing returns nothing
local unit C17=GetTriggerUnit()
local integer sr=GetUnitAbilityLevel(C17,1093684308)
local group JJ8=O17(bj_mapInitialPlayableArea,Condition(function sq))
local unit PZ
set EZ7="LI9"
if sr==0 then
set sr=GetUnitAbilityLevel(C17,1093747539)
endif
loop
set PZ=FirstOfGroup(JJ8)
exitwhen PZ==null
if(IsUnitAlly(PZ,GetOwningPlayer(C17)))then
call SetWidgetLife(PZ,(GetUnitStateSwap(UNIT_STATE_LIFE,PZ)+100+(100*sr)))
call DestroyEffect(AddSpecialEffectTargetUnitBJ("chest",PZ,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"))
endif
call GroupRemoveUnit(JJ8,PZ)
endloop
call DestroyGroup(JJ8)
set JJ8=O07(bj_mapInitialPlayableArea,GetOwningPlayer(C17))
loop
set PZ=FirstOfGroup(JJ8)
exitwhen PZ==null
if(IsUnitType(PZ,UNIT_TYPE_HERO)==false and GetUnitTypeId(PZ)!=1848651843)then
call SetUnitLifePercentBJ(PZ,100)
call DestroyEffect(AddSpecialEffectTargetUnitBJ("chest",PZ,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"))
endif
call GroupRemoveUnit(JJ8,PZ)
endloop
call DestroyGroup(JJ8)
set C17=null
set JJ8=null
set PZ=null
endfunction
function MQ8 takes nothing returns nothing
set do=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(do,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(do,Condition(function LH9))
call TriggerAddAction(do,function LI9)
endfunction
function LJ9 takes nothing returns boolean
return GetSpellAbilityId()==1093684310 or GetSpellAbilityId()==1093815619
endfunction
function LK9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit st=T37(US7,"Chen")
local unit u=T37(US7,"Unit")
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
set EZ7="LK9"
call DestroyEffect(T27(US7,"FX"))
if UE7(GetHandleId(u),"Grapple")==false and GetUnitAbilityLevel(u,1093678162)==0 then
call UU7(u,"4409",1)
call SetUnitPosition(u,x,y)
endif
if UE7(GetHandleId(u),"Grapple")then
call DQ8(GetOwningPlayer(st),GetObjectName(1848652598))
endif
call T97(US7)
call UQ7(t)
set t=null
set st=null
set u=null
return false
endfunction
function LM9 takes unit u,unit LN9,integer LO9,real x,real y returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="Preservation_PortUnit"
if IsUnitOwnedByPlayer(u,GetOwningPlayer(LN9))then
call TriggerRegisterTimerEvent(t,0.1,false)
else
call TriggerRegisterTimerEvent(t,7-LO9,false)
endif
call TriggerAddCondition(t,Condition(function LK9))
call TK7(PP7,"FX",AddSpecialEffectTarget("effects\\Test_of_Faith_FX.mdx",u,"overhead"))
call TJ7(PP7,"Unit",u)
call TJ7(PP7,"Chen",LN9)
call TG7(PP7,"x",x)
call TG7(PP7,"y",y)
set t=null
endfunction
function LP9 takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local unit st=GetTriggerUnit()
local location Mk=GetUnitLoc(st)
local unit oA
local integer sr=GetUnitAbilityLevel(st,1093684310)
local real sX
local location sy
local effect fx
set EZ7="LP9"
if(AG7(GetOwningPlayer(st)))then
set sy=GetRectCenter(ED)
else
set sy=GetRectCenter(L9)
endif
if(IsUnitAlly(m5,GetOwningPlayer(st))==false)then
if L87(GetSpellTargetUnit())==false then
set sX=GetRandomInt(50*sr,100*sr)
call EI8(I2S(R2I(sX)),1,m5,.023,255,255,0,216)
call UnitDamageTargetBJ(st,m5,sX,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC)
set fx=AddSpecialEffectTargetUnitBJ("chest",m5,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffect(fx)
endif
else
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(UE7(GetHandleId(GetOwningPlayer(m5)),"DisableHelp")==false)then
call LM9(m5,st,sr,GetLocationX(sy),GetLocationY(sy))
endif
elseif(IsUnitOwnedByPlayer(m5,GetOwningPlayer(st)))then
call SetUnitPositionLoc(m5,sy)
endif
endif
call RemoveLocation(Mk)
call RemoveLocation(sy)
set m5=null
set st=null
set Mk=null
set oA=null
set sy=null
set fx=null
endfunction
function LQ9 takes nothing returns boolean
if GetLearnedSkill()==1093684310 and IsUnitIllusion(GetTriggerUnit())==false then
call L67(GetTriggerUnit(),1093815619)
call SetUnitAbilityLevel(GetTriggerUnit(),1093815619,GetUnitAbilityLevel(GetTriggerUnit(),1093684310))
endif
return false
endfunction
function MS8 takes nothing returns nothing
local trigger t
set VJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(VJ,Condition(function LJ9))
call TriggerAddAction(VJ,function LP9)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function LQ9))
endfunction
function LR9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer HW8=GetUnitAbilityLevel(FJ8,1095262562)
if L17(FJ8)==false then
call SetUnitState(FJ8,UNIT_STATE_MANA,GetUnitState(FJ8,UNIT_STATE_MANA)+0.5*HW8*0.25)
endif
set FJ8=null
set t=null
return false
endfunction
function LS9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function LR9))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=null
set FJ8=null
endfunction
function LT9 takes nothing returns boolean
if GetLearnedSkill()==1095262562 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1095262562)==1 then
call LS9()
endif
return false
endfunction
function MT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function LT9))
set t=null
endfunction
function LU9 takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697657656,x,y,0)
local integer HW8=GetUnitAbilityLevel(FJ8,1093748025)
set EZ7="LU9"
call L67(HV8,1093677380)
call SetUnitAbilityLevel(HV8,1093677380,HW8)
call IssueTargetOrder(HV8,"frostnova",HV8)
call RemoveLocation(l)
call L67(HV8,1097625443)
call UnitApplyTimedLife(HV8,1112820806,2)
set FJ8=null
set HV8=null
set l=null
endfunction
function LV9 takes nothing returns boolean
if GetSpellAbilityId()==1093748025 then
call LU9()
endif
return false
endfunction
function MU8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="MU8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LV9))
set t=null
endfunction
function LW9 takes nothing returns boolean
return(GetSpellAbilityId()==1093678649)
endfunction
function LX9 takes nothing returns boolean
return((not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAliveBJ(GetFilterUnit()))and(not RM7(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit())!=1852010352)and(GetUnitAbilityLevel(GetFilterUnit(),1097167976)==1)and((GetUnitAbilityLevel(GetFilterUnit(),1093684047)==1)or(GetUnitAbilityLevel(GetFilterUnit(),1093684049)==1)or(GetUnitAbilityLevel(GetFilterUnit(),1093684050)==1)or(GetUnitAbilityLevel(GetFilterUnit(),1093684048)==1)))
endfunction
function sS takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit st=T37(US7,"Chen")
local integer sT=U97(US7,"MaxUnits")
local group JJ8=O27(GetOwningPlayer(st),Condition(function LX9))
local unit PZ
set EZ7="sS"
loop
exitwhen(CountUnitsInGroup(JJ8)<=sT)
set PZ=GroupPickRandomUnit(JJ8)
call GroupRemoveUnit(JJ8,PZ)
call RemoveUnit(PZ)
endloop
call DestroyGroup(JJ8)
call T97(US7)
call UQ7(t)
set st=null
set t=null
set JJ8=null
set PZ=null
return false
endfunction
function LY9 takes nothing returns nothing
local unit sU=GetSpellTargetUnit()
local unit st=GetTriggerUnit()
local integer sr=GetUnitAbilityLevel(st,1093678649)
local integer sT=1
local integer playerid=GetPlayerId(GetOwningPlayer(st))
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="LY9"
call E88(sU)
if(sr==1)then
call L67(sU,1093684047)
elseif(sr==2)then
call L67(sU,1093684049)
elseif(sr==3)then
set sT=2
call L67(sU,1093684050)
elseif(sr==4)then
set sT=3
call L67(sU,1093684048)
endif
call L67(sU,1097167976)
call L67(sU,1093743175)
call TJ7(US7,"Chen",st)
call TF7(US7,"MaxUnits",sT)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function sS))
set t=null
set sU=null
set st=null
endfunction
function LZ9 takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local unit HV8
local real x
local real y
set EZ7="LZ9"
if IsUnitEnemy(PU7,GetOwningPlayer(FJ8))then
set HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
call UnitAddAbility(HV8,1093678649)
call SetUnitAbilityLevel(HV8,1093678649,GetUnitAbilityLevel(FJ8,1093810260))
call IssueTargetOrder(HV8,"charm",PU7)
else
if AG7(GetOwningPlayer(FJ8))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
if(UE7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))==false then
call LM9(PU7,FJ8,GetUnitAbilityLevel(FJ8,1093810260),x,y)
endif
endif
set FJ8=null
set PU7=null
set HV8=null
endfunction
function LA9 takes nothing returns boolean
if GetSpellAbilityId()==1093810260 and L87(GetSpellTargetUnit())==false then
call LZ9()
endif
return false
endfunction
function LB9 takes nothing returns boolean
if GetSpellAbilityId()==1093810260 then
if IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true then
if IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true or IsUnitIllusion(GetSpellTargetUnit())then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848658745))
endif
endif
endif
return false
endfunction
function MR8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="MR8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LW9))
call TriggerAddAction(t,function LY9)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function LB9))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LA9))
set t=null
endfunction
function LC9 takes nothing returns nothing
call HY8(FB,GetEnumUnit(),ZG4,fB)
endfunction
function L39 takes unit p5,real x,real y,integer BY7 returns nothing
local group g=LD7()
set EZ7="D2v"
if BY7==1 then
set fB=105
elseif BY7==2 then
set fB=170
elseif BY7==3 then
set fB=250
elseif BY7==4 then
set fB=310
endif
set FB=p5
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,240,Condition(function G78))
call ForGroup(g,function LC9)
call L97(g)
set g=null
endfunction
function L69 takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(IN4),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
set EZ7="L69"
call L67(oA,1093742676)
call IssueTargetOrder(oA,"slow",GetEnumUnit())
set oA=null
endfunction
function LL9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local integer BY7=U97(US7,"Level")
local integer L19=ModuloInteger(GetTriggerEvalCount(t),4)+1
local real a
local real d
local real x
local real y
local group g=LD7()
set EZ7="LL9"
set IN4=C17
call GroupEnumUnitsInRange(g,GetUnitX(C17),GetUnitY(C17),710,Condition(function G78))
call ForGroup(g,function L69)
if L19==1 then
set a=GetRandomReal(0,90)
elseif L19==2 then
set a=GetRandomReal(90,180)
elseif L19==3 then
set a=GetRandomReal(180,270)
else
set a=GetRandomReal(270,360)
endif
set d=GetRandomReal(140,710)
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and(GetSpellAbilityId()==1093677906 or GetSpellAbilityId()==1093681494)then
call T97(US7)
call UQ7(t)
call StopSound(vX,false,true)
else
set x=GetUnitX(C17)+d*Cos(a*bj_DEGTORAD)
set y=GetUnitY(C17)+d*Sin(a*bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("effects\\SnowyBlizzardTarget.mdx",x,y))
call L39(C17,x,y,BY7)
endif
call L97(g)
set t=null
set g=null
set C17=null
return false
endfunction
function L09 takes nothing returns nothing
local unit C17=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7
set EZ7="L09"
call ET8(vX,GetUnitX(C17),GetUnitY(C17))
if GetSpellAbilityId()==1093677906 then
set BY7=GetUnitAbilityLevel(C17,1093677906)
else
set BY7=GetUnitAbilityLevel(C17,1093681494)+1
endif
call TriggerRegisterTimerEvent(t,0.10,true)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function LL9))
call TJ7(US7,"Hero",C17)
call TF7(US7,"Level",BY7)
set t=null
set C17=null
endfunction
function L59 takes nothing returns boolean
if GetSpellAbilityId()==1093677906 or GetSpellAbilityId()==1093681494 then
call L09()
endif
return false
endfunction
function MV8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="MV8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function L59))
call DX8(1093677912)
set t=null
endfunction
function L29 takes unit FJ8 returns nothing
local integer HW8=GetUnitAbilityLevel(FJ8,1093812553)
if GetUnitTypeId(FJ8)==1215063922 then
call SetUnitAbilityLevel(FJ8,1093681490,HW8)
else
call SetUnitAbilityLevel(FJ8,1093681490,HW8+4)
endif
endfunction
function L_9 takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093812553)
if HW8==1 then
call L67(FJ8,1093681490)
endif
call L29(FJ8)
set FJ8=null
endfunction
function D4D takes nothing returns boolean
if GetLearnedSkill()==1093812553 and IsUnitIllusion(GetTriggerUnit())==false then
call L_9()
endif
return false
endfunction
function D7D takes nothing returns nothing
local unit u=GetTriggerUnit()
if GetUnitTypeId(u)==1211117639 or GetUnitTypeId(u)==1211117638 or GetUnitTypeId(u)==1211117637 then
call SetUnitAnimation(u,"stand")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl",u,"head"))
elseif GetUnitTypeId(u)==1215063922 then
call SetUnitAnimation(u,"stand defend")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl",u,"origin"))
endif
set u=null
endfunction
function D8D takes nothing returns boolean
if GetSpellAbilityId()==1093681490 then
call D7D()
endif
return false
endfunction
function RW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D8D))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function D4D))
call DX8(1093681490)
set t=null
endfunction
function D9D takes nothing returns boolean
return GetLearnedSkill()==1093681996 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function DDD takes nothing returns nothing
local unit C17=GetTriggerUnit()
set EZ7="DDD"
call SetPlayerTechResearched(GetOwningPlayer(C17),1378889782,GetPlayerTechCount(GetOwningPlayer(C17),1378889782,true)+1)
set C17=null
endfunction
function RV8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RV8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function D9D))
call TriggerAddAction(t,function DDD)
set t=null
endfunction
function DED takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
call L29(FJ8)
call UQ7(t)
call FlushChildHashtable(L7,(PP7))
set t=null
set FJ8=null
return false
endfunction
function DFD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
call L29(FJ8)
call UQ7(t)
call FlushChildHashtable(L7,(PP7))
set t=null
set FJ8=null
return false
endfunction
function KJ8 takes nothing returns nothing
if GetUnitAbilityLevel(IN4,1093681490)>0 then
call L29(IN4)
endif
endfunction
function DGD takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function DED))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerAddCondition(t,Condition(function DFD))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set FJ8=null
set t=null
endfunction
function DHD takes nothing returns boolean
if GetSpellAbilityId()==1093677895 then
call DGD()
endif
return false
endfunction
function RX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DHD))
set t=null
endfunction
function DID takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
local integer id=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
set EZ7="DID"
call SetUnitX(YZ[id],x)
call SetUnitY(YZ[id],y)
if GetPlayerController(GetOwningPlayer(YZ[id]))==MAP_CONTROL_COMPUTER then
call UnitAddAbility(YZ[id],1093682253)
call SetUnitAbilityLevel(YZ[id],1093682253,ZZ)
endif
call IssueImmediateOrder(YZ[id],"fanofknives")
endfunction
function DJD takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
local integer id=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
set EZ7="DJD"
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call SetUnitX(YZ[id],x)
call SetUnitY(YZ[id],y)
if GetPlayerController(GetOwningPlayer(YZ[id]))==MAP_CONTROL_COMPUTER then
call UnitAddAbility(YZ[id],1093682253)
call SetUnitAbilityLevel(YZ[id],1093682253,ZZ)
endif
call IssueImmediateOrder(YZ[id],"fanofknives")
endif
endfunction
function DKD takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and L17(GetFilterUnit())==false
endfunction
function DMD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local group g=LD7()
local integer id=GetPlayerId(GetOwningPlayer(p5))
local integer BY7=GetUnitAbilityLevel(p5,1093682248)
set EZ7="DMD"
if BY7==0 then
set BY7=GetUnitAbilityLevel(p5,1093750594)
endif
set YZ[id]=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
set zZ[id]=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
set ZZ=BY7
call SetUnitScale(YZ[id],0.25,0.25,0.25)
call L67(YZ[id],1093682253)
call L67(zZ[id],1093748784)
call SetUnitAbilityLevel(YZ[id],1093682253,BY7)
call SetUnitAbilityLevel(zZ[id],1093748784,BY7)
call GroupEnumUnitsInRange(g,x,y,575,Condition(function DKD))
call ForGroup(g,function DID)
if GetUnitAbilityLevel(p5,1093750594)>0 then
call ForGroup(g,function DJD)
endif
call L97(g)
set p5=null
set g=null
endfunction
function DND takes nothing returns boolean
if GetSpellAbilityId()==1093682248 or GetSpellAbilityId()==1093750594 then
call DMD()
endif
return false
endfunction
function MW8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="MW8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DND))
set t=null
call DX8(1093682253)
endfunction
function DOD takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(GetEnumUnit()),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
set EZ7="DOD"
call L67(oA,1093686090)
call SetUnitAbilityLevel(oA,1093686090,IH4)
call IssueTargetOrder(oA,"thunderbolt",GetEnumUnit())
call HY8(GetTriggerUnit(),GetEnumUnit(),ZG4,IJ4)
set oA=null
endfunction
function DPD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local location l=GetSpellTargetLoc()
local integer i=1
local real iN=GetUnitX(C17)
local real io=GetUnitY(C17)
local real hN
local real ho
local real x
local real y
local real a
local group g=LD7()
local group g2=LD7()
set EZ7="DPD"
if m5==null then
set hN=GetLocationX(l)
set ho=GetLocationY(l)
else
set hN=GetUnitX(m5)
set ho=GetUnitY(m5)
endif
set a=bj_DEGTORAD*Q87(iN,io,hN,ho)
call RemoveLocation(l)
loop
exitwhen i>20
set x=DT8(iN+i*60*Cos(a))
set y=DU8(io+i*60*Sin(a))
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function GQ8))
call GroupAddGroup(g2,g)
call GroupClear(g2)
call F48(CreateDestructable(1110454320,x,y,GetRandomReal(0,360),0.5,GetRandomInt(0,2)),8)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl",x,y))
set i=i+1
endloop
set IH4=GetUnitAbilityLevel(C17,1093686091)
set IJ4=IH4*50+75
call ForGroup(g,function DOD)
call L97(g)
call L97(g2)
set C17=null
set l=null
set m5=null
set g=null
set g2=null
endfunction
function DQD takes nothing returns boolean
if GetSpellAbilityId()==1093686091 then
call DPD()
endif
return false
endfunction
function MX8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="MX8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DQD))
call DX8(1093686090)
set t=null
endfunction
function DRD takes nothing returns boolean
return((GetUnitAbilityLevel(GetSpellAbilityUnit(),1093682250)>0)and(((GetSpellAbilityId()==1093686091)or(GetSpellAbilityId()==1093682252)or(GetSpellAbilityId()==1093682248)or(GetSpellAbilityId()==1093750594)))or(GetUnitPointValue(GetTriggerUnit())==500)and BR7(GetSpellAbilityId()))
endfunction
function DSD takes nothing returns nothing
local location sb=GetUnitLoc(GetTriggerUnit())
set EZ7="DSD"
call CreateNUnitsAtLoc(1,1697656901,GetOwningPlayer(GetTriggerUnit()),sb,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,1093682249)
call SetUnitAbilityLevelSwapped(1093682249,bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(1093682250,GetSpellAbilityUnit()))
call IssueImmediateOrderById(bj_lastCreatedUnit,852127)
call RemoveLocation(sb)
set sb=null
endfunction
function MY8 takes nothing returns nothing
set dq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dq,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(dq,Condition(function DRD))
call TriggerAddAction(dq,function DSD)
endfunction
function DTD takes nothing returns boolean
if(GetItemTypeId(GetManipulatedItem())==1227894859)and(GetUnitTypeId(GetTriggerUnit())==1333027688)then
return true
endif
return false
endfunction
function DUD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local unit oA=CreateUnit(GetOwningPlayer(C17),1697656901,GetUnitX(C17),GetUnitY(C17),0)
set EZ7="DUD"
call L67(oA,1095332466)
call IssueImmediateOrder(oA,"roar")
call T97(US7)
call UQ7(t)
set t=null
set C17=null
set oA=null
return false
endfunction
function DVD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="DVD"
call UnitRemoveAbility(C17,1110454608)
call TJ7(US7,"Hero",C17)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function DUD))
set t=null
set C17=null
endfunction
function MZ8 takes nothing returns nothing
set H24=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(H24,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(H24,Condition(function DTD))
call TriggerAddAction(H24,function DVD)
endfunction
function DWD takes nothing returns boolean
return(UnitHasBuffBJ(GetAttacker(),1114795873))
endfunction
function DXD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
set EZ7="DXD"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==FJ8 then
call UnitRemoveAbility(FJ8,1114795873)
endif
else
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function DYD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=GetTriggerUnit()
local unit FJ8=GetAttacker()
set EZ7="DYD"
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1.5,false)
call TriggerAddCondition(t,Condition(function DXD))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
set t=null
set FJ8=null
set PU7=null
endfunction
function MA8 takes nothing returns nothing
set dr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dr,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(dr,Condition(function DWD))
call TriggerAddAction(dr,function DYD)
endfunction
function DZD takes unit u returns boolean
return IsUnitType(u,UNIT_TYPE_HERO)==false and IsUnitType(u,UNIT_TYPE_ANCIENT)==false and GetUnitTypeId(u)!=1848652101 and GetUnitTypeId(u)!=1848652089
endfunction
function DAD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
set EZ7="DAD"
call UnitRemoveAbility(PU7,1114860655)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set PU7=null
return false
endfunction
function DBD takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="DBD"
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function DAD))
call SaveUnitHandle(L7,(PP7),(17),(m5))
call SetUnitOwner(m5,GetOwningPlayer(p5),true)
call UnitApplyTimedLife(m5,1112820806,80)
call L67(m5,1097167976)
call L67(m5,1093743175)
call E88(m5)
set m5=null
set p5=null
set t=null
endfunction
function DCD takes nothing returns boolean
if GetSpellAbilityId()==1093682264 and DZD(GetSpellTargetUnit())then
call DBD()
endif
return false
endfunction
function MB8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="MB8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DCD))
set t=null
endfunction
function D3D takes nothing returns boolean
return ji()and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)!=GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_LIFE)
endfunction
function D6D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local integer Rd=U97(US7,"Counter")
local group g
local unit K68
set EZ7="D6D"
if Rd>10 then
call T97(US7)
call UQ7(t)
else
call TF7(US7,"Counter",Rd+1)
set IN4=p5
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),300,Condition(function D3D))
set K68=GroupPickRandomUnit(g)
call L97(g)
call SetUnitState(K68,UNIT_STATE_LIFE,GetUnitState(K68,UNIT_STATE_LIFE)+10)
endif
set t=null
set p5=null
set g=null
set K68=null
return false
endfunction
function DLD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="DLD"
call AddUnitAnimationProperties(FJ8,"alternate",false)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set FJ8=null
return false
endfunction
function D1D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer i=1
local trigger t
local integer PP7
set EZ7="D1D"
loop
exitwhen i>(1+2*GetUnitAbilityLevel(p5,1093677378))
set t=CreateTrigger()
call TJ7(GetHandleId(t),"Source",p5)
call TF7(GetHandleId(t),"Counter",0)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function D6D))
set i=i+1
endloop
if GetUnitTypeId(p5)==1160786520 then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function DLD))
call SaveUnitHandle(L7,(PP7),(2),(p5))
set t=null
endif
set t=null
set p5=null
endfunction
function D0D takes nothing returns boolean
if GetSpellAbilityId()==1093677378 then
call D1D()
endif
return false
endfunction
function MC8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="MC8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D0D))
set t=null
endfunction
function D5D takes real x1,real y1,real x2,real y2 returns real
return SquareRoot(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2)))
endfunction
function D2D takes unit u returns integer
local integer HW8=GetUnitAbilityLevel(u,1093682265)
if HW8>0 then
return HW8
endif
set HW8=GetUnitAbilityLevel(u,1093752642)
return HW8
endfunction
function D_D takes nothing returns boolean
local real d
local real E4D
set EZ7="D_D"
if GetUnitAbilityLevel(GetTriggerUnit(),1110455125)>0 and D2D(GetEventDamageSource())>0 and T37(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call UnitRemoveAbility(GetTriggerUnit(),1110455125)
set E4D=RMinBJ(D5D(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitX(GetEventDamageSource()),GetUnitY(GetEventDamageSource())),2500)
set d=(0.10+0.05*I2R(D2D(GetEventDamageSource())))*E4D
call EI8("+"+I2S(R2I(d)),1,GetTriggerUnit(),.023,3,216,216,216)
call DisableTrigger(GetTriggeringTrigger())
call HY8(GetEventDamageSource(),GetTriggerUnit(),ZI4,d)
call T97(GetHandleId(GetTriggeringTrigger()))
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function E7D takes nothing returns nothing
local trigger t
local unit m5
local unit p5
set EZ7="E7D"
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set m5=GetSpellTargetUnit()
set p5=GetTriggerUnit()
else
set m5=GetTriggerUnit()
set p5=GetAttacker()
endif
if IsUnitIllusion(p5)==false then
set t=CreateTrigger()
call TJ7(GetHandleId(t),"Source",p5)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function D_D))
endif
set t=null
set m5=null
set p5=null
endfunction
function Sn takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if D2D(GetAttacker())>0 and(UE7(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==T37(GetHandleId(GetTriggeringTrigger()),"Hero")then
call E7D()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==852255)then
call TI7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)
elseif(GetIssuedOrderId()==852256)then
call TI7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()==1093682265 or GetSpellAbilityId()==1093752642)then
call E7D()
endif
return false
endfunction
function E8D takes unit C17,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
set EZ7="fDv"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function Sn))
call TJ7(GetHandleId(t),"Hero",C17)
if BZ9 then
set Vj[GetPlayerId(GetOwningPlayer(C17))]=t
endif
set t=null
endfunction
function E9D takes nothing returns boolean
if(GetLearnedSkill()==1093682265 or GetLearnedSkill()==1093752642)and IsUnitIllusion(GetTriggerUnit())==false and D2D(GetTriggerUnit())==1 then
call E8D(GetTriggerUnit(),false)
endif
return false
endfunction
function M38 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="M38"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function E9D))
set t=null
endfunction
function EDD takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
return GetUnitAbilityLevel(GetSpellTargetUnit(),1093682263)>0
else
return GetUnitAbilityLevel(GetTriggerUnit(),1093682263)>0
endif
endfunction
function EED takes nothing returns nothing
local unit p5
local unit m5
local unit oA
set EZ7="EED"
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
set p5=GetSpellTargetUnit()
set m5=GetTriggerUnit()
else
set p5=GetTriggerUnit()
set m5=GetAttacker()
endif
set oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call L67(oA,1093681712)
call SetUnitAbilityLevel(oA,1093681712,GetUnitAbilityLevel(p5,1093682263))
call IssueTargetOrder(oA,"acidbomb",m5)
set p5=null
set m5=null
set oA=null
endfunction
function M68 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="M68"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EDD))
call TriggerAddAction(t,function EED)
set t=null
endfunction
function EFD takes real x returns real
local real H7=GetRectMinX(bj_mapInitialPlayableArea)+150
set EZ7="fGv"
if(x<H7)then
return H7
endif
set H7=GetRectMaxX(bj_mapInitialPlayableArea)-150
if(x>H7)then
return H7
endif
return x
endfunction
function EGD takes real y returns real
local real H7=GetRectMinY(bj_mapInitialPlayableArea)+150
set EZ7="fhv"
if(y<H7)then
return H7
endif
set H7=GetRectMaxY(bj_mapInitialPlayableArea)-150
if(y>H7)then
return H7
endif
return y
endfunction
function EHD takes unit u returns boolean
local integer id=GetUnitTypeId(u)
return id==1852862003 or id==1852862006 or id==1848652080 or id==1848657754 or id==1852862001 or id==1852862004 or id==1848652081 or id==1848657968 or id==1852862002 or id==1852862005 or id==1848652082 or id==1848657969
endfunction
function EID takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or EHD(GetFilterUnit())or FX8(GetFilterUnit())or GetUnitTypeId(GetFilterUnit())==1848651861 or GetUnitTypeId(GetFilterUnit())==1848651865 or GetUnitTypeId(GetFilterUnit())==1848651866 or GetUnitTypeId(GetFilterUnit())==1848658773 or GetUnitTypeId(GetFilterUnit())==1848658774 or GetUnitTypeId(GetFilterUnit())==1848658775 or C87(GetUnitTypeId(GetFilterUnit())))and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(T37(GetHandleId(GetTriggeringTrigger()),"BlackHole")))==true
endfunction
function EJD takes nothing returns nothing
local location EKD=GetUnitLoc(GetEnumUnit())
local location EMD=GetUnitLoc(T37(GetHandleId(GetTriggeringTrigger()),"BlackHole"))
local location END=RI7(EMD,DistanceBetweenPoints(EMD,EKD)-2,AngleBetweenPoints(EMD,EKD))
set EZ7="EJD"
call SetUnitPositionLoc(GetEnumUnit(),END)
call RemoveLocation(EKD)
call RemoveLocation(EMD)
call RemoveLocation(END)
set EKD=null
set EMD=null
set END=null
endfunction
function EOD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local group JJ8
local integer US7=GetHandleId(t)
local unit EPD=T37(US7,"BlackHole")
local unit HV8
local real x
local real y
set EZ7="EOD"
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()==1093747288 then
call KillUnit(EPD)
set HV8=T37(US7,"Caster")
call UnitApplyTimedLife(T37(US7,"Shadow1"),1112820806,1)
call UnitApplyTimedLife(T37(US7,"Shadow2"),1112820806,1)
call UnitApplyTimedLife(T37(US7,"Shadow3"),1112820806,1)
call UnitApplyTimedLife(T37(US7,"Shadow4"),1112820806,1)
call T97(US7)
call UQ7(t)
call KillUnit(HV8)
elseif GetTriggerEvalCount(t)>90 then
set HV8=T37(US7,"Caster")
call UnitApplyTimedLife(T37(US7,"Shadow1"),1112820806,1)
call UnitApplyTimedLife(T37(US7,"Shadow2"),1112820806,1)
call UnitApplyTimedLife(T37(US7,"Shadow3"),1112820806,1)
call UnitApplyTimedLife(T37(US7,"Shadow4"),1112820806,1)
call T97(US7)
call UQ7(t)
call KillUnit(EPD)
call KillUnit(HV8)
call RG7(T37(US7,"Source"))
else
set x=GetUnitX(EPD)
set y=GetUnitY(EPD)
set JJ8=LD7()
call GroupEnumUnitsInRange(JJ8,x,y,400,Condition(function EID))
call ForGroup(JJ8,function EJD)
call L97(JJ8)
endif
set HV8=null
set EPD=null
set t=null
set JJ8=null
return false
endfunction
function EQD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit HV8=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
local unit EPD=CreateUnit(GetOwningPlayer(p5),1966092340,x,y,0)
set EZ7="EQD"
call RemoveLocation(l)
call SetUnitAbilityLevel(EPD,1093681968,GetUnitAbilityLevel(p5,1093747288))
if AH7(GetOwningPlayer(p5))then
call L67(HV8,1093687348)
else
call L67(HV8,1093687347)
endif
call IssuePointOrder(HV8,"cloudoffog",x,y)
call TJ7(US7,"Caster",HV8)
call TJ7(US7,"Shadow1",CreateUnit(GetOwningPlayer(p5),1747990098,x,y,0))
call TJ7(US7,"Shadow2",CreateUnit(GetOwningPlayer(p5),1747990098,x,y,0))
call TJ7(US7,"Shadow3",CreateUnit(GetOwningPlayer(p5),1747990098,x,y,0))
call TJ7(US7,"Shadow4",CreateUnit(GetOwningPlayer(p5),1747990098,x,y,0))
call TJ7(US7,"BlackHole",EPD)
call TJ7(US7,"Source",p5)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function EOD))
set p5=null
set EPD=null
set t=null
set l=null
set HV8=null
endfunction
function ERD takes nothing returns boolean
if GetSpellAbilityId()==1093747288 then
call EQD()
endif
return false
endfunction
function ESD takes nothing returns boolean
local location l
local real x
local real y
set EZ7="ESD"
if GetSpellAbilityId()==1093747288 then
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
call RemoveLocation(l)
set l=null
if(x!=EFD(x)and y!=EGD(y))or RectContainsCoords(eE,x,y)or RectContainsCoords(oE,x,y)or RectContainsCoords(aE,x,y)or RectContainsCoords(nE,x,y)or RectContainsCoords(VE,x,y)or RectContainsCoords(EE,x,y)then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),"Cannot cast Blackhole here")
endif
endif
return false
endfunction
function ML8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="ML8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ERD))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function ESD))
call DX8(1093681968)
set t=null
endfunction
function ETD takes unit p5,unit m5,integer BY7 returns nothing
local real D_8
set EZ7="Malefice_Stun"
if BY7==1 then
set D_8=40
elseif BY7==2 then
set D_8=40
elseif BY7==3 then
set D_8=65
else
set D_8=65
endif
call HU8(m5,m5,1)
call HY8(p5,m5,ZG4,D_8)
endfunction
function EUD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local integer BY7=U97(US7,"Level")
set EZ7="EUD"
call ETD(p5,m5,BY7)
call T97(US7)
call UQ7(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function SW takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t
local integer US7
local integer BY7=GetUnitAbilityLevel(p5,1093683511)
set EZ7="SW"
call ETD(p5,m5,BY7)
if BY7>1 then
set t=CreateTrigger()
set US7=GetHandleId(t)
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TF7(US7,"Level",BY7)
call TriggerRegisterTimerEvent(t,2,false)
call TriggerAddCondition(t,Condition(function EUD))
endif
if BY7==4 then
set t=CreateTrigger()
set US7=GetHandleId(t)
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TF7(US7,"Level",BY7)
call TriggerRegisterTimerEvent(t,4,false)
call TriggerAddCondition(t,Condition(function EUD))
endif
set t=null
set p5=null
set m5=null
endfunction
function EVD takes nothing returns boolean
if GetSpellAbilityId()==1093683511 and L87(GetSpellTargetUnit())==false then
call SW()
endif
return false
endfunction
function M18 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="M18"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EVD))
set t=null
endfunction
function EWD takes nothing returns boolean
return(GetSpellAbilityId()==1093681713)
endfunction
function EXD takes nothing returns nothing
local location sb=GetUnitLoc(GetTriggerUnit())
local location Sa=GetSpellTargetLoc()
local integer kt=GetUnitAbilityLevel(GetTriggerUnit(),1093681713)
local unit EYD
set EZ7="EXD"
call CreateNUnitsAtLocFacingLocBJ(1,1697656901,GetOwningPlayer(GetTriggerUnit()),Sa,Sa)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitApplyTimedLifeBJ(8.,1112820806,bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,1093681714)
call SetUnitAbilityLevelSwapped(1093681714,bj_lastCreatedUnit,kt)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,852221,Sa)
if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))!=MAP_CONTROL_USER)then
set EYD=bj_lastCreatedUnit
loop
call QA7(0.9)
exitwhen(IsUnitDeadBJ(EYD))
if(GetUnitCurrentOrder(EYD)!=852221)then
call UnitRemoveAbility(EYD,1093681714)
call UnitAddAbility(EYD,1093681714)
call SetUnitAbilityLevelSwapped(1093681714,EYD,kt)
call IssuePointOrderByIdLoc(EYD,852221,Sa)
endif
endloop
endif
call RemoveLocation(sb)
call RemoveLocation(Sa)
set EYD=null
set sb=null
set Sa=null
endfunction
function M08 takes nothing returns nothing
set dR=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dR,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(dR,Condition(function EWD))
call TriggerAddAction(dR,function EXD)
endfunction
function EZD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local integer BY7=GetUnitAbilityLevel(p5,1093744688)
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
set EZ7="EZD"
call SetUnitState(m5,UNIT_STATE_LIFE,1)
call HY8(p5,m5,ZH4,20)
call HY8(p5,m5,ZG4,20)
call HY8(p5,m5,ZI4,20)
call L67(oA,1093744474)
call SetUnitAbilityLevel(oA,1093744474,BY7)
call IssueImmediateOrder(oA,"lavamonster")
set p5=null
set m5=null
set oA=null
endfunction
function EAD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer EBD=GetUnitLevel(m5)
set EZ7="EAD"
if GetOwningPlayer(m5)!=Z7[0]and GetOwningPlayer(m5)!=A7[0]and EBD>4 then
call RG7(C17)
call DQ8(GetOwningPlayer(C17),(GetObjectName((1848656728))))
endif
set C17=null
set m5=null
endfunction
function ECD takes nothing returns boolean
if GetSpellAbilityId()==1093744688 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call EZD()
else
call EAD()
endif
endif
return false
endfunction
function M58 takes nothing returns nothing
local trigger t=CreateTrigger()
local region regDemonicConversion=CreateRegion()
set EZ7="M58"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function ECD))
set t=null
endfunction
function SZ takes nothing returns nothing
local integer O5=0
set EZ7="SZ"
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call HY8(IN4,GetEnumUnit(),ZG4,IJ4)
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))and(IsUnitInForce(IN4,QX4)))then
set O5=GetPlayerId(GetOwningPlayer(IN4))
if((hq[240+O5]>Bz)and(h4[16+O5]==GetEnumUnit())and(R37(M7[O5]))and(RY7(M7[O5]))and(GetUnitLifePercent(M7[O5])>65.)and(G0[128+O5])and(not IsUnitInRange(M7[O5],GetEnumUnit(),450.))and(kJ(GetUnitX(IN4),GetUnitY(IN4))))then
set PN4[16+O5]=GetEnumUnit()
endif
endif
endif
endfunction
function S0 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local group g=T57(US7,"g")
local unit oA=T37(US7,"Caster")
local integer BY7=U97(US7,"Level")
local real RK=UD7(US7,"Angle")
local group S1
local real x
local real y
set EZ7="S0"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
set IN4=CreateUnit(GetOwningPlayer(oA),1747990095,GetUnitX(T37(US7,"Hero")),GetUnitY(T37(US7,"Hero")),0)
call SetUnitScale(IN4,2.5,2.5,2.5)
call KillUnit(IN4)
call SetUnitPosition(T37(US7,"Hero"),GetUnitX(oA),GetUnitY(oA))
call ShowUnit((T37(US7,"Hero")),false)
call ShowUnit((T37(US7,"Hero")),true)
call SelectUnitAddForPlayer((T37(US7,"Hero")),GetOwningPlayer((T37(US7,"Hero"))))
set PN4[GetPlayerId(GetOwningPlayer(oA))]=null
call L97(g)
call T97(US7)
call UQ7(t)
elseif GetTriggerEvalCount(t)>120 then
set PN4[GetPlayerId(GetOwningPlayer(oA))]=null
call L97(g)
call T97(US7)
call UQ7(t)
call SetUnitScale(oA,2.5,2.5,2.5)
call KillUnit(oA)
else
set x=GetUnitX(oA)
set y=GetUnitY(oA)
set S1=LD7()
set IQ4=g
set PN4[16+GetPlayerId(GetOwningPlayer(oA))]=null
set IN4=oA
set IJ4=BY7*70
call GroupEnumUnitsInRange(S1,x,y,225+25,Condition(function jh))
call ForGroup(S1,function SZ)
call L97(S1)
call SetUnitX(oA,DT8(x+15*Cos(RK*bj_DEGTORAD)))
call SetUnitY(oA,DU8(y+15*Sin(RK*bj_DEGTORAD)))
if(IsUnitInForce(oA,QX4))then
if(PN4[16+GetPlayerId(GetOwningPlayer(oA))]!=null)then
call IssueImmediateOrderById(M7[GetPlayerId(GetOwningPlayer(oA))],852185)
set hq[512+GetPlayerId(GetOwningPlayer(oA))]=Bz+1.
elseif((h4[16+GetPlayerId(GetOwningPlayer(oA))]==M7[GetPlayerId(GetOwningPlayer(oA))])and(R37(M7[GetPlayerId(GetOwningPlayer(oA))]))and(not IsUnitInRange(M7[GetPlayerId(GetOwningPlayer(oA))],oA,550.))and(kJ(GetUnitX(oA),GetUnitY(oA)))and(RY7(M7[GetPlayerId(GetOwningPlayer(oA))])))then
call IssueImmediateOrderById(M7[GetPlayerId(GetOwningPlayer(oA))],852185)
endif
endif
endif
set t=null
set g=null
set S1=null
set oA=null
return false
endfunction
function E3D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local group g=LD7()
local unit C17=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x1=GetUnitX(C17)
local real y1=GetUnitY(C17)
local real x2=GetLocationX(l)
local real y2=GetLocationY(l)
local real RK=Q87(x1,y1,x2,y2)
local integer BY7=GetUnitAbilityLevel(C17,1093686073)
local unit oA=CreateUnit(GetOwningPlayer(C17),1747990095,x1,y1,RK)
set EZ7="E3D"
call ET8(UX,x1,y1)
call L67(GetTriggerUnit(),1093686081)
set PN4[GetPlayerId(GetOwningPlayer(C17))]=oA
call SetUnitScale(oA,3.5,3.5,3.5)
call TJ7(US7,"Caster",oA)
call TF7(US7,"Level",BY7)
call TS7(US7,"g",g)
call TG7(US7,"Angle",RK)
call TJ7(US7,"Hero",C17)
call TriggerRegisterTimerEvent(t,.025,true)
call TriggerRegisterUnitEvent(t,oA,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function S0))
call RemoveLocation(l)
set t=null
set oA=null
set g=null
set C17=null
set l=null
endfunction
function S3 takes nothing returns nothing
local integer i=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
set EZ7="S3"
if PN4[i]==null then
call DQ8(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652599))
else
call SetUnitScale(PN4[i],2.5,2.5,2.5)
call KillUnit(PN4[i])
endif
endfunction
function E6D takes nothing returns boolean
if GetSpellAbilityId()==1093686073 then
call E3D()
endif
if GetSpellAbilityId()==1093686081 then
call S3()
endif
return false
endfunction
function fwv takes nothing returns boolean
if GetLearnedSkill()==1093686073 and GetUnitAbilityLevel(GetTriggerUnit(),1093686073)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call L67(GetTriggerUnit(),1093686081)
endif
return false
endfunction
function T88 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="T88"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function E6D))
set t=null
endfunction
function ELD takes nothing returns nothing
call HY8(GetTriggerUnit(),GetEnumUnit(),ZG4,IJ4)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationTarget.mdx",GetEnumUnit(),"chest"))
endfunction
function E1D takes nothing returns nothing
local group g=LD7()
local unit C17=GetTriggerUnit()
local real x=GetUnitX(C17)
local real y=GetUnitY(C17)
local integer BY7=GetUnitAbilityLevel(C17,1093686083)
local unit oA=CreateUnit(GetOwningPlayer(C17),1697656901,x,y,0)
set EZ7="E1D"
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationCaster.mdx",x,y))
call L67(oA,1093686084)
call SetUnitAbilityLevel(oA,1093686084,BY7)
call IssuePointOrderById(oA,852592,x,y)
set IJ4=BY7*70
call GroupEnumUnitsInRange(g,x,y,425,Condition(function jF))
call ForGroup(g,function ELD)
call L97(g)
set oA=null
set g=null
set C17=null
endfunction
function E0D takes nothing returns boolean
if GetSpellAbilityId()==1093686083 then
call E1D()
endif
return false
endfunction
function T98 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="T98"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function E0D))
set t=null
endfunction
function E5D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local integer HW8
local integer E2D
local integer E_D
set EZ7="E5D"
if(GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER and GetIssuedOrderId()!=OrderId("phaseshift"))or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or GetTriggerEventId()==EVENT_UNIT_DEATH then
call SetUnitInvulnerable(C17,false)
call UnitRemoveAbility(C17,1093678162)
call T97(US7)
call UQ7(t)
else
set HW8=(U97(US7,"Level"))
set E2D=(U97(US7,"Counter"))+1
call TF7(US7,"Counter",(E2D))
set E_D=3*HW8
if HW8==4 then
set E_D=E_D+1
endif
if E2D>E_D or Q07(GetUnitX(C17),GetUnitY(C17),(UD7(US7,"x")),(UD7(US7,"y")))>125 then
call SetUnitInvulnerable(C17,false)
call UnitRemoveAbility(C17,1093678162)
call T97(US7)
call UQ7(t)
endif
endif
set t=null
set C17=null
return false
endfunction
function F4D takes nothing returns nothing
local unit C17=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="F4D"
call SetUnitInvulnerable(C17,true)
call L67(C17,1093678162)
call TJ7(US7,"Hero",C17)
call TF7(US7,"Level",GetUnitAbilityLevel(C17,1093686082))
call TF7(US7,"Counter",0)
call TG7(US7,"x",((GetUnitX(C17))*1.0))
call TG7(US7,"y",((GetUnitY(C17))*1.0))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function E5D))
call UU7(C17,"4266",5.9)
set t=null
set C17=null
endfunction
function F7D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit LI7=(LoadUnitHandle(L7,(PP7),(14)))
call IssueImmediateOrder(LI7,"phaseshiftoff")
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set LI7=null
return false
endfunction
function F8D takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call SaveUnitHandle(L7,(PP7),(14),(LI7))
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function F7D))
set t=null
set LI7=null
endfunction
function F9D takes nothing returns boolean
if GetIssuedOrderId()==OrderId("phaseshift")and IsUnitIllusion(GetTriggerUnit())==false and UJ7(GetTriggerUnit(),"4266")==false then
call F4D()
elseif GetIssuedOrderId()==OrderId("phaseshifton")then
call F8D()
endif
return false
endfunction
function TD8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TD8"
call EO8(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function F9D))
set t=null
endfunction
function FDD takes unit p5,unit m5,integer BY7,integer FED returns nothing
call HU8(p5,m5,0.75+0.75*BY7)
if FED==1 then
call HY8(p5,m5,ZG4,BY7*50+50)
else
call HY8(p5,m5,ZG4,BY7*50+50+100)
endif
endfunction
function FFD takes unit p5,unit m5 returns nothing
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
set EZ7="PrismaticPrison_MiniStun"
call UnitAddAbility(oA,1093686086)
call IssueTargetOrder(oA,"thunderbolt",m5)
set oA=null
endfunction
function FGD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer BY7=(LoadInteger(L7,(US7),(5)))
local integer FED=(LoadInteger(L7,(US7),(152)))
local unit p5=(LoadUnitHandle(L7,(US7),(2)))
local integer FHD=(LoadInteger(L7,(US7),(30)))
local unit m5=A87(FHD)
local lightning i7=(LoadLightningHandle(L7,(US7),(196)))
set EZ7="FGD"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyLightning(i7)
call A77(FHD)
call T97(US7)
call UQ7(t)
else
call MoveLightning(i7,false,GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5))
if Q07(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5))>600 then
call DestroyLightning(i7)
call A77(FHD)
call T97(US7)
call UQ7(t)
call FDD(p5,m5,BY7,FED)
endif
endif
set t=null
set p5=null
set m5=null
set i7=null
return false
endfunction
function FID takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local lightning i7=AddLightning("HWPB",false,GetUnitX(L04),GetUnitY(L04),GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()))
set EZ7="FID"
call SetLightningColor(i7,0,.7,1,1)
call SaveLightningHandle(L7,(US7),(196),(i7))
call SaveUnitHandle(L7,(US7),(2),(L04))
call SaveInteger(L7,(US7),(30),(AD7(GetEnumUnit())))
call SaveInteger(L7,(US7),(5),(L34))
call SaveInteger(L7,(US7),(152),(L64))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,L04,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function FGD))
call HY8(GetTriggerUnit(),GetEnumUnit(),ZG4,LL4)
call FFD(GetTriggerUnit(),GetEnumUnit())
set t=null
set i7=null
endfunction
function FJD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit oA=CreateUnit(GetOwningPlayer(C17),1697656917,x,y,0)
local group g=LD7()
local integer BY7=GetUnitAbilityLevel(C17,1093686072)
local real FKD=6
local integer FMD=1
set EZ7="FJD"
if BY7==0 then
set BY7=GetUnitAbilityLevel(C17,1093751120)
set FKD=8
set FMD=2
endif
call RemoveLocation(l)
call SetUnitAnimation(oA,"channel")
call FD8(oA,FKD)
set L04=oA
set L14=FKD
set LL4=BY7*50+50
set L34=BY7
set L64=FMD
set IN4=C17
call GroupEnumUnitsInRange(g,x,y,400,Condition(function GG8))
call ForGroup(g,function FID)
call L97(g)
set g=null
set oA=null
set C17=null
set l=null
endfunction
function FND takes nothing returns boolean
if GetSpellAbilityId()==1093686072 or GetSpellAbilityId()==1093751120 then
call FJD()
endif
return false
endfunction
function TE8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TE8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FND))
set t=null
endfunction
function FOD takes nothing returns boolean
return GetSpellAbilityId()==1093808453
endfunction
function FPD takes nothing returns nothing
call SetUnitX(GetEnumUnit(),WO4)
call SetUnitY(GetEnumUnit(),WP4)
endfunction
function FQD takes nothing returns nothing
local destructable array dx
local integer SX9
local integer FRD
local fogmodifier FSD
local unit HV8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local location FTD
local real x
local real y
local group g=LD7()
set EZ7="FQD"
if PU7==null then
set FTD=GetSpellTargetLoc()
else
set FTD=GetUnitLoc(PU7)
endif
set x=GetLocationX(FTD)
set y=GetLocationY(FTD)
set WO4=x
set WP4=y
if IsUnitAlly(HV8,GetOwningPlayer(PU7))==true or L87(GetSpellTargetUnit())==false then
set IN4=HV8
call GroupEnumUnitsInRange(g,x,y,150,Condition(function G78))
call E58(CreateFogModifierRadiusLocBJ(true,GetOwningPlayer(HV8),FOG_OF_WAR_VISIBLE,FTD,1000.00),2.25+0.75*GetUnitAbilityLevel(HV8,1093808453))
set SX9=1
set FRD=8
loop
exitwhen SX9>FRD
call F48(CreateDestructableLoc(1110454325,RI7(FTD,150.00,(I2R(SX9)*45.00)),GetRandomReal(0,360),1,0),2.25+0.75*GetUnitAbilityLevel(HV8,1093808453))
call TP7(GetHandleId(HV8),"AI|SproutTree"+I2S(SX9),bj_lastCreatedDestructable)
set SX9=SX9+1
endloop
endif
call RemoveLocation(FTD)
call ForGroup(g,function FPD)
call L97(g)
set FSD=null
set HV8=null
set PU7=null
set FTD=null
set g=null
endfunction
function FUD takes nothing returns nothing
if GetSpellAbilityId()==1093808453 and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(UE7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652600))
endif
endfunction
function M_8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="M_8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FOD))
call TriggerAddAction(t,function FQD)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddAction(t,function FUD)
set t=null
endfunction
function FVD takes nothing returns boolean
return GetSpellAbilityId()==1093677391
endfunction
function FWD takes nothing returns nothing
local location Mk=GetSpellTargetLoc()
local real x=GetLocationX(Mk)
local real y=GetLocationY(Mk)
set EZ7="FWD"
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(GetTriggerUnit()))then
call PingMinimapEx(x,y,3,255,255,255,false)
endif
call DestroyEffect(AddSpecialEffect("war3mapImported\\FurionTeleportTarget.mdx",x,y))
call DestroyEffect(AddSpecialEffect("war3mapImported\\FurionTeleportTarget.mdx",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call RemoveLocation(Mk)
set Mk=null
endfunction
function N48 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="N48"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(t,Condition(function FVD))
call TriggerAddAction(t,function FWD)
set t=null
endfunction
function FXD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CT7=GetHandleId(t)
local integer RE7=(LoadInteger(L7,(CT7),(5)))
local unit FYD=(LoadUnitHandle(L7,(CT7),(17)))
local integer FZD=C07(FYD)
local real FJ8=GetUnitState(FYD,UNIT_STATE_LIFE)
local real FAD=GetUnitState(FYD,UNIT_STATE_MAX_LIFE)
local real FBD
set EZ7="FXD"
if FJ8/FAD>0.4 then
set FBD=I2R(RE7)/4*0.2*FZD+2*RE7
else
set FBD=I2R(RE7)/4*0.6*FZD+2*RE7
endif
set FBD=FBD/8.0
if GetTriggerEvalCount(t)>16*8.0 then
call DestroyEffect((LoadEffectHandle(L7,(CT7),(31))))
call UnitRemoveAbility(FYD,1093685583)
call FlushChildHashtable(L7,(CT7))
call UQ7(t)
else
call SetUnitState(FYD,UNIT_STATE_LIFE,FJ8+FBD)
endif
set FYD=null
set t=null
return false
endfunction
function FCD takes nothing returns nothing
local unit FYD=GetSpellTargetUnit()
local unit F3D=GetTriggerUnit()
local integer RE7=GetUnitAbilityLevel(F3D,1093685584)
local trigger t=CreateTrigger()
local integer CT7=GetHandleId(t)
set EZ7="FCD"
call TriggerRegisterTimerEvent(t,1/8.0,true)
call TriggerAddCondition(t,Condition(function FXD))
call SaveInteger(L7,(CT7),(5),(RE7))
call SaveUnitHandle(L7,(CT7),(17),(FYD))
call SaveEffectHandle(L7,(CT7),(31),(AddSpecialEffectTarget("InnerVitality.mdx",FYD,"chest")))
call L67(FYD,1093685583)
call SetUnitAbilityLevel(FYD,1093685583,RE7)
set FYD=null
set F3D=null
set t=null
endfunction
function F6D takes nothing returns boolean
if GetSpellAbilityId()==1093685584 then
call FCD()
endif
return false
endfunction
function SM8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SM8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function F6D))
set t=null
endfunction
function FLD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer BA9
local string F1D
local integer F0D
local integer HB8=U97(US7,"TargetIndex")
local unit m5=A87(HB8)
local unit p5=T37(US7,"Source")
set EZ7="FLD"
if GetTriggerEvalCount(t)>7 or L17(m5)then
call DestroyEffect(T27(US7,"Effect"))
call T97(US7)
set BA9=GetHandleId(p5)
set F1D=I2S(GetHandleId(m5))+"NumOfSpears"
set F0D=U97(BA9,F1D)
set F0D=F0D-1
if F0D==0 then
call TF7(BA9,F1D,0)
else
call TF7(BA9,F1D,F0D)
endif
call A77(HB8)
call UQ7(t)
else
call HY8(p5,m5,ZG4,4*GetUnitAbilityLevel(p5,1093685582))
endif
set t=null
set m5=null
set p5=null
return false
endfunction
function F5D takes unit p5,unit m5 returns nothing
local integer US7=GetHandleId(p5)
local integer BA9
local trigger t
local integer F1D=U97(US7,I2S(GetHandleId(m5))+"NumOfSpears")
set EZ7="f6v"
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function FLD))
set BA9=GetHandleId(t)
call TJ7(BA9,"Source",p5)
call TF7(BA9,"TargetIndex",AD7(m5))
call TF7(US7,I2S(GetHandleId(m5))+"NumOfSpears",F1D+1)
call TK7(BA9,"Effect",AddSpecialEffectTarget("Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl",m5,"chest"))
set t=null
endfunction
function F2D takes nothing returns boolean
local real d
set EZ7="F2D"
if GetUnitAbilityLevel(GetTriggerUnit(),1110456369)>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093685582)>0 and T37(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call SetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE,D28(GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)-15,1))
call UnitRemoveAbility(GetTriggerUnit(),1110456369)
call F5D(GetEventDamageSource(),GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call T97(GetHandleId(GetTriggeringTrigger()))
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function F_D takes nothing returns nothing
local trigger t
local unit m5
local unit p5
set EZ7="F_D"
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set m5=GetSpellTargetUnit()
set p5=GetTriggerUnit()
else
set m5=GetTriggerUnit()
set p5=GetAttacker()
endif
if IsUnitIllusion(p5)==false then
set t=CreateTrigger()
call TJ7(GetHandleId(t),"Source",p5)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function F2D))
endif
set t=null
set m5=null
set p5=null
endfunction
function G4D takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetUnitAbilityLevel(GetAttacker(),1093685582)>0 and(UE7(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==T37(GetHandleId(GetTriggeringTrigger()),"Hero")then
call F_D()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==OrderId("poisonarrows"))then
call TI7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)
elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))then
call TI7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093685582 then
call F_D()
endif
return false
endfunction
function G7D takes unit C17,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
set EZ7="BurningSpear_Learned"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function G4D))
call TJ7(GetHandleId(t),"Hero",C17)
if BZ9 then
set aj[GetPlayerId(GetOwningPlayer(C17))]=t
endif
set t=null
endfunction
function G8D takes nothing returns boolean
if GetLearnedSkill()==1093685582 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093685582)==1 then
call G7D(GetTriggerUnit(),false)
endif
return false
endfunction
function SN8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SN8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function G8D))
set t=null
endfunction
function tQ takes nothing returns boolean
local integer US7=GetHandleId(GetTriggeringTrigger())
local unit C17=T37(US7,"Hero")
local real G9D=GetUnitState(C17,UNIT_STATE_LIFE)
local real MaxHealth=GetUnitState(C17,UNIT_STATE_MAX_LIFE)
local integer GDD
local integer GED
local integer BY7=GetUnitAbilityLevel(C17,1093685585)
local boolean GFD=UE7(US7,"HasFX")
set EZ7="tQ"
if IsUnitType(C17,UNIT_TYPE_HERO)and BY7>0 then
set GDD=R2I(100*GetUnitState(C17,UNIT_STATE_LIFE)/GetUnitState(C17,UNIT_STATE_MAX_LIFE))
set GED=D18(DL8(R2I(100-GDD)/7,14),1)
if L17(C17)==false then
call H68(C17,BY7*GED*2)
call H58(C17,BY7*GED*3)
if GDD<40 then
if GFD==false then
call TI7(US7,"HasFX",true)
call TK7(US7,"FX1",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\TrollBerserk\\HeadhunterWEAPONSLeft.mdl",C17,"left weapon"))
call TK7(US7,"FX2",AddSpecialEffectTarget("effects\\HeadhunterWEAPONSRight_NoSound.mdx",C17,"right weapon"))
endif
else
if GFD==true then
call TI7(US7,"HasFX",false)
call DestroyEffect(T27(US7,"FX1"))
call DestroyEffect(T27(US7,"FX2"))
endif
endif
endif
endif
set C17=null
return false
endfunction
function GGD takes unit C17,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
set EZ7="Frv"
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddCondition(t,Condition(function tQ))
call TJ7(GetHandleId(t),"Hero",C17)
call TI7(GetHandleId(t),"HasFX",false)
if BZ9 then
set nj[GetPlayerId(GetOwningPlayer(C17))]=t
endif
set t=null
endfunction
function GHD takes nothing returns boolean
if GetLearnedSkill()==1093685585 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093685585)==1 then
call GGD(GetTriggerUnit(),false)
endif
return false
endfunction
function SO8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SO8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function GHD))
set t=null
endfunction
function GID takes nothing returns nothing
local unit p5=GetEnumUnit()
local real l4=Q07(GetUnitX(p5),GetUnitY(p5),WK4,WM4)
set EZ7="GID"
if l4<WJ4 and IsUnitVisible(p5,GetOwningPlayer(WN4))==true then
set WI4=GetEnumUnit()
set WJ4=l4
endif
set p5=null
endfunction
function GJD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer US7=GetUnitAbilityLevel(GetTriggerUnit(),1093752632)
local integer ZU9=1093678936
local group g
local unit q5
set EZ7="GJD"
if US7==0 then
set US7=GetUnitAbilityLevel(GetTriggerUnit(),1093752633)
set ZU9=1093681484
endif
if m5==null then
set WI4=null
set WN4=p5
set WJ4=999999
set WK4=GetSpellTargetX()
set WM4=GetSpellTargetY()
set IN4=p5
set g=LD7()
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function G78))
call ForGroup(g,function GID)
call L97(g)
set m5=WI4
set g=null
endif
if m5!=null then
set q5=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)
call L67(q5,ZU9)
call SetUnitAbilityLevel(q5,ZU9,US7)
call IssueTargetOrder(q5,"chainlightning",m5)
set q5=null
endif
set p5=null
set m5=null
endfunction
function GKD takes nothing returns boolean
if GetSpellAbilityId()==1093752632 or GetSpellAbilityId()==1093752633 then
call GJD()
endif
return false
endfunction
function N78 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="N78"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GKD))
set t=null
endfunction
function GMD takes unit FJ8,unit PU7 returns nothing
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
local integer HW8=GetUnitAbilityLevel(FJ8,1093685586)
local real C59
local real GND=0.5
set EZ7="SoulEater_Hit"
if HW8==0 then
set HW8=GetUnitAbilityLevel(FJ8,1093747251)
set GND=0.65
endif
call L67(HV8,1093685589)
call SetUnitAbilityLevel(HV8,1093685589,HW8)
call IssueTargetOrder(HV8,"slow",PU7)
if HW8==1 then
set C59=0.35
elseif HW8==2 then
set C59=0.30
else
set C59=0.25
endif
call HY8(FJ8,FJ8,ZG4,GetUnitState(FJ8,UNIT_STATE_LIFE)*C59)
call HY8(FJ8,PU7,ZG4,GetUnitState(PU7,UNIT_STATE_LIFE)*GND)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",FJ8,"chest"))
call DestroyEffect(AddSpecialEffectTarget("effects\\LifeBreak.mdx",PU7,"chest"))
set FJ8=null
set PU7=null
set HV8=null
endfunction
function GOD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local real AO9=(LoadReal(L7,(PP7),(23)))
local real AP9=(LoadReal(L7,(PP7),(24)))
local real x
local real y
local real GPD=GetUnitX(FJ8)
local real GQD=GetUnitY(FJ8)
local real EX8=GetUnitX(PU7)
local real EY8=GetUnitY(PU7)
local real AZ9=Atan2(EY8-GQD,EX8-GPD)
set EZ7="GOD"
if GetUnitTypeId(FJ8)==1160786520 then
call SetUnitAnimationByIndex(FJ8,1)
else
call SetUnitAnimationByIndex(FJ8,17)
endif
if GetTriggerEventId()==EVENT_WIDGET_DEATH or Q07(AO9,AP9,EX8,EY8)>1400 or EF9(FJ8)then
call SetUnitPathing(FJ8,true)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call UnitRemoveAbility(FJ8,1093686100)
call SetUnitTimeScale(FJ8,1.0)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif Q07(GPD,GQD,EX8,EY8)<125 then
call SetUnitPathing(FJ8,true)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call UnitRemoveAbility(FJ8,1093686100)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call SetUnitTimeScale(FJ8,1.0)
if PU7!=null and L17(PU7)==false then
call IssueTargetOrder(FJ8,"attack",PU7)
call GMD(FJ8,PU7)
endif
else
call SetUnitPathing(FJ8,false)
set AO9=EX8
set AP9=EY8
call SaveReal(L7,(PP7),(23),((AO9)*1.0))
call SaveReal(L7,(PP7),(24),((AP9)*1.0))
set x=GPD+15*Cos(AZ9)
set y=GQD+15*Sin(AZ9)
call SetUnitPosition(FJ8,x,y)
call SetUnitFacing(FJ8,AZ9*bj_RADTODEG)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function GRD takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="GRD"
call TriggerRegisterTimerEvent(t,0.015,true)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerAddCondition(t,Condition(function GOD))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveReal(L7,(PP7),(23),((GetUnitX(PU7))*1.0))
call SaveReal(L7,(PP7),(24),((GetUnitY(PU7))*1.0))
call SaveEffectHandle(L7,(PP7),(175),(AddSpecialEffectTarget("war3mapImported\\LifeBreakCharge.mdx",FJ8,"hand right alternate")))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffectTarget("war3mapImported\\LifeBreakCharge.mdx",FJ8,"hand left alternate")))
call SetUnitPathing(FJ8,false)
call L67(FJ8,1093686100)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093686100,false)
call SetUnitAnimationByIndex(FJ8,17)
call SetUnitTimeScale(FJ8,3.0)
set FJ8=null
set PU7=null
set t=null
endfunction
function GSD takes nothing returns boolean
if(GetSpellAbilityId()==1093685586 or GetSpellAbilityId()==1093747251)and L87(GetSpellTargetUnit())==false then
call GRD()
endif
return false
endfunction
function SP8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SP8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GSD))
set t=null
call DX8(1093685589)
endfunction
function GTD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer BY7=U97(US7,"Level")
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
set EZ7="GTD"
if GetTriggerEvalCount(t)>10 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect(T27(US7,"FX"))
call UnitRemoveAbility(m5,1093748533)
call UnitRemoveAbility(m5,1093748531)
call UnitRemoveAbility(m5,1093748534)
call UnitRemoveAbility(m5,1093748532)
call T97(US7)
call UQ7(t)
else
call HY8(p5,m5,ZG4,(BY7*5+5)/ 2)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function GUD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=FN
local unit p5=fN
local unit m5=GetEnumUnit()
set EZ7="GUD"
if BY7==1 then
call L67(m5,1093748533)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093748533,false)
elseif BY7==2 then
call L67(m5,1093748531)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093748531,false)
elseif BY7==3 then
call L67(m5,1093748534)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093748534,false)
elseif BY7==4 then
call L67(m5,1093748532)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093748532,false)
endif
call TK7(US7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl",m5,"chest"))
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TF7(US7,"Level",BY7)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function GTD))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",GetUnitX(m5),GetUnitY(m5)))
set t=null
set p5=null
set m5=null
endfunction
function GVD takes unit p5,unit m5 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(p5,1093685048)
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local group g=LD7()
local group g2=LD7()
set EZ7="LiquidFire_Hit"
set FN=BY7
set fN=p5
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,300+25,Condition(function H98))
call GroupEnumUnitsInRange(g2,x,y,300+25,Condition(function GN8))
call GroupAddGroup(g2,g)
call ForGroup(g,function GUD)
call L97(g)
call L97(g2)
set t=null
set g=null
set g2=null
endfunction
function GWD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local unit p5=T37(US7,"Source")
set EZ7="GWD"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and(GetEventDamage()>40 or IsUnitType(m5,UNIT_TYPE_STRUCTURE)==true or GetUnitTypeId(m5)==1970107511 or GetUnitTypeId(m5)==1700946284)and UE7(GetHandleId(p5),"LiquidFire|Active")==true then
call GVD(p5,m5)
call TI7(GetHandleId(p5),"LiquidFire|Active",false)
call TG7(GetHandleId(p5),"LiquidFire|LastUsed",TimerGetElapsed(W)*1.0)
endif
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function GXD takes nothing returns boolean
local trigger t
local integer US7
local unit m5
local unit p5
set EZ7="GXD"
if GetAttacker()==T37(GetHandleId(GetTriggeringTrigger()),"LiquidAttacker")and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false then
set t=CreateTrigger()
set US7=GetHandleId(t)
set m5=GetTriggerUnit()
set p5=GetAttacker()
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function GWD))
call TJ7(US7,"Target",m5)
call TJ7(US7,"Source",p5)
set m5=null
set p5=null
set t=null
endif
set t=null
set m5=null
set p5=null
return false
endfunction
function GYD takes nothing returns boolean
call TI7(GetHandleId(GetTriggerUnit()),"LiquidFire|Active",false)
call TG7(GetHandleId(GetTriggerUnit()),"LiquidFire|LastUsed",TimerGetElapsed(W)*1.0)
call UnitRemoveAbility(GetTriggerUnit(),1093748291)
call T97(GetHandleId(GetTriggeringTrigger()))
call UQ7(GetTriggeringTrigger())
return false
endfunction
function GZD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local real CH7=(TimerGetElapsed(W))
local integer BY7=GetUnitAbilityLevel(C17,1093685048)
local real BW9=UD7(GetHandleId(C17),"LiquidFire|LastUsed")
local boolean FA9=UE7(GetHandleId(C17),"LiquidFire|Active")
set EZ7="GZD"
if CH7-BW9>25-BY7*5 and FA9==false and L17(C17)==false then
call TI7(GetHandleId(C17),"LiquidFire|Active",true)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function GYD))
call L67(C17,1093748291)
elseif FA9==false then
call UnitRemoveAbility(C17,1093748291)
endif
set t=null
set C17=null
return false
endfunction
function GAD takes unit C17,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
local trigger t2=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BA9=GetHandleId(t2)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function GZD))
call TJ7(US7,"Hero",C17)
call TG7(US7,"LiquidFire|LastUsed",0)
call EO8(t2,EVENT_PLAYER_UNIT_ATTACKED)
call TJ7(BA9,"LiquidAttacker",C17)
call TriggerAddCondition(t2,Condition(function GXD))
if BZ9 then
set nj[GetPlayerId(GetOwningPlayer(C17))]=t
set Aj[GetPlayerId(GetOwningPlayer(C17))]=t2
endif
set C17=null
set t=null
set t2=null
endfunction
function GBD takes nothing returns boolean
if GetLearnedSkill()==1093685048 and GetUnitAbilityLevel(GetTriggerUnit(),1093685048)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call GAD(GetTriggerUnit(),false)
endif
return false
endfunction
function M88 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function GBD))
set t=null
endfunction
function GCD takes real x1,real y1,real x2,real y2,real x3,real y3,real x,real y returns boolean
local real G3D=(y-y1)*(x2-x1)-(x-x1)*(y2-y1)
local real G6D=(y-y3)*(x1-x3)-(x-x3)*(y1-y3)
local real GLD=(y-y2)*(x3-x2)-(x-x2)*(y3-y2)
set EZ7="DualBreath_IsPointInTriangle"
return(G3D*G6D>0)and(GLD*G6D>0)
endfunction
function G1D takes nothing returns boolean
local real G0D=IJ4
local real G5D=IK4
local real G2D=IM4
local real G_D=Zl
local real H4D=vL
local real H7D=eL
set EZ7="G1D"
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GCD(G0D,G5D,G2D,G_D,H4D,H7D,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
endfunction
function H8D takes real H9D,real G3D,real G6D returns nothing
local real GLD=550
local real HDD=200
local real HED=250
local real HFD=Asin((HED-HDD)/ GLD)
local real x=HDD/ Sin(HFD)
local real y=(GLD+HED+x)*Tan(HFD)
local real G0D=G3D+x*Cos((H9D-180)*bj_DEGTORAD)
local real G5D=G6D+x*Sin((H9D-180)*bj_DEGTORAD)
local real G2D=(G3D+(GLD+HED)*Cos(H9D*bj_DEGTORAD))+y*Cos((H9D-90)*bj_DEGTORAD)
local real G_D=(G6D+(GLD+HED)*Sin(H9D*bj_DEGTORAD))+y*Sin((H9D-90)*bj_DEGTORAD)
local real H4D=(G3D+(GLD+HED)*Cos(H9D*bj_DEGTORAD))+y*Cos((H9D+90)*bj_DEGTORAD)
local real H7D=(G6D+(GLD+HED)*Sin(H9D*bj_DEGTORAD))+y*Sin((H9D+90)*bj_DEGTORAD)
set EZ7="Fkv"
set IJ4=G0D
set IK4=G5D
set IM4=G2D
set Zl=G_D
set vL=H4D
set eL=H7D
endfunction
function HGD takes nothing returns nothing
local unit HV8=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
set EZ7="HGD"
call L67(HV8,1093685057)
call IssueTargetOrder(HV8,"frostnova",GetEnumUnit())
set HV8=null
endfunction
function HHD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local player p=TL7(US7,"p")
local unit C17=T37(US7,"Hero")
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
local real Y5=UD7(US7,"TargetX")
local real Z5=UD7(US7,"TargetY")
local integer BY7=U97(US7,"Level")
local unit HV8
set EZ7="HHD"
if GetTriggerEvalCount(t)>1 then
call SetUnitAnimation(C17,"stand")
call T97(US7)
call UQ7(t)
else
call SetUnitAnimation(C17,"spell")
set HV8=CreateUnit(p,1697656901,x,y,0)
call L67(HV8,1093685059)
call SetUnitAbilityLevel(HV8,1093685059,BY7)
call IssuePointOrder(HV8,"breathoffrost",Y5,Z5)
endif
set t=null
set p=null
set C17=null
set HV8=null
return false
endfunction
function HID takes unit u,player p,integer BY7,location l,real x,real y returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="FPv"
call TQ7(US7,"p",p)
call TG7(US7,"x",(x)*1.0)
call TG7(US7,"y",(y)*1.0)
call TG7(US7,"TargetX",GetLocationX(l)*1.0)
call TG7(US7,"TargetY",GetLocationY(l)*1.0)
call TF7(US7,"Level",BY7)
call TJ7(US7,"Hero",u)
call TriggerRegisterTimerEvent(t,0.3,true)
call TriggerAddCondition(t,Condition(function HHD))
set t=null
endfunction
function HJD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local integer BY7=GetUnitAbilityLevel(C17,1093685047)
local real x=GetUnitX(C17)
local real y=GetUnitY(C17)
local location l
local unit HV8
local group g=LD7()
set EZ7="HJD"
if GetSpellTargetUnit()==null then
set l=GetSpellTargetLoc()
else
set l=GetUnitLoc(GetSpellTargetUnit())
endif
call H8D(bj_RADTODEG*Atan2(GetLocationY(l)-y,GetLocationX(l)-x),x,y)
call GroupEnumUnitsInRange(g,x,y,2000,Condition(function G1D))
call ForGroup(g,function HGD)
call L97(g)
set HV8=CreateUnit(GetOwningPlayer(C17),1697656901,x,y,0)
call L67(HV8,1093685058)
call SetUnitAbilityLevel(HV8,1093685058,BY7)
call IssuePointOrder(HV8,"breathoffire",GetLocationX(l),GetLocationY(l))
call HID(C17,GetOwningPlayer(C17),BY7,l,x+50*Cos(Atan2(GetLocationY(l)-y,GetLocationX(l)-x)),y+50*Sin(Atan2(GetLocationY(l)-y,GetLocationX(l)-x)))
call RemoveLocation(l)
set C17=null
set l=null
set g=null
set HV8=null
endfunction
function HKD takes nothing returns boolean
if GetSpellAbilityId()==1093685047 then
call HJD()
endif
return false
endfunction
function M78 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="M78"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HKD))
call DX8(1093685058)
call DX8(1093685059)
call DX8(1093685057)
set t=null
endfunction
function HMD takes nothing returns nothing
local unit FJ8=IQ7
local unit PU7=GetEnumUnit()
local unit HND
if IsUnitInGroup(PU7,IP7)==false then
call GroupAddUnit(IP7,PU7)
call HU8(FJ8,PU7,IR7)
call HY8(FJ8,PU7,ZG4,25*IS7)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",GetUnitX(PU7),GetUnitY(PU7)))
endif
endfunction
function HOD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local real x0=(LoadReal(L7,(PP7),(6)))
local real y0=(LoadReal(L7,(PP7),(7)))
local real a=(LoadReal(L7,(PP7),(137)))
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer L48=GetTriggerEvalCount(t)
local real x
local real y
local group g
local integer i
local group HPD=(LoadGroupHandle(L7,(PP7),(187)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093685046)
set i=0
loop
exitwhen i>10
set x=x0+100*i*Cos(a*bj_DEGTORAD)
set y=y0+100*i*Sin(a*bj_DEGTORAD)
if ModuloInteger(L48,10)==0 then
endif
set IN4=FJ8
set IQ7=FJ8
set IP7=HPD
set IR7=(0.6+0.4*HW8)-(L48*0.05)
set IS7=HW8
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,150+25,Condition(function G78))
call ForGroup(g,function HMD)
call L97(g)
set i=i+1
endloop
if L48==20*(0.6+0.4*HW8)then
call L97(HPD)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set g=null
set HPD=null
return false
endfunction
function HQD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local real x0=(LoadReal(L7,(PP7),(6)))
local real y0=(LoadReal(L7,(PP7),(7)))
local real a=(LoadReal(L7,(PP7),(137)))
local integer L48=GetTriggerEvalCount(t)
local real x=x0+100*L48*Cos(a*bj_DEGTORAD)
local real y=y0+100*L48*Sin(a*bj_DEGTORAD)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093685046)
local ubersplat T39
local integer i
if L48<10 then
call SaveEffectHandle(L7,(PP7),(609+L48),(AddSpecialEffect("effects\\IcePath.mdx",x,y)))
set T39=CreateUbersplat(x,y,"IPTH",255,255,255,255,false,false)
call SetUbersplatRenderAlways(T39,true)
call SaveUbersplatHandle(L7,(PP7),(760+L48),(T39))
endif
if L48==10 then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function HOD))
call SaveReal(L7,(PP7),(6),((x0)*1.0))
call SaveReal(L7,(PP7),(7),((y0)*1.0))
call SaveReal(L7,(PP7),(137),((a)*1.0))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveGroupHandle(L7,(PP7),(187),(LD7()))
call TriggerEvaluate(t)
elseif L48>=(0.4+0.6+0.4*HW8)/.05 then
set i=0
loop
exitwhen i==10
call DestroyEffect((LoadEffectHandle(L7,(PP7),(609+i))))
call DestroyUbersplat((LoadUbersplatHandle(L7,(PP7),(760+i))))
set i=i+1
endloop
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
return false
endfunction
function HRD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local real a=Q87(x,y,GetSpellTargetX(),GetSpellTargetY())
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function HQD))
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
call SaveReal(L7,(PP7),(137),((a)*1.0))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call TriggerEvaluate(t)
set t=null
set FJ8=null
endfunction
function HSD takes nothing returns boolean
if GetSpellAbilityId()==1093685046 then
call HRD()
endif
return false
endfunction
function M98 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HSD))
set t=null
endfunction
function HTD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local integer BY7=U97(US7,"Level")
local real a=UD7(US7,"a")
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
local integer id=GetPlayerId(GetOwningPlayer(p5))
local integer BX8=GetTriggerEvalCount(t)
local real HUD=x+150*BX8*Cos(a)
local real HVD=y+150*BX8*Sin(a)
local integer HWD=6
set EZ7="HTD"
if GetUnitAbilityLevel(p5,1093685045)==0 then
set HWD=9
endif
if GetPlayerController(GetOwningPlayer(RW4[id]))==MAP_CONTROL_COMPUTER then
call UnitAddAbility(RW4[GetPlayerId(GetOwningPlayer(p5))],1093685061)
call SetUnitAbilityLevel(RW4[GetPlayerId(GetOwningPlayer(p5))],1093685061,BY7)
endif
call IssuePointOrder(RW4[id],"flamestrike",HUD,HVD)
if BX8==(HWD)then
call T97(US7)
call UQ7(t)
call SetUnitAnimation(p5,"stand")
endif
set t=null
set p5=null
return false
endfunction
function HXD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local integer BY7=GetUnitAbilityLevel(p5,1093685045)
local integer o6=1093685061
set EZ7="HXD"
if BY7==0 then
set BY7=GetUnitAbilityLevel(p5,1093747249)
set o6=1093747250
endif
call RemoveLocation(l)
call SetUnitAnimation(p5,"spell")
set RW4[GetPlayerId(GetOwningPlayer(p5))]=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
call L67(RW4[GetPlayerId(GetOwningPlayer(p5))],o6)
call SetUnitAbilityLevel(RW4[GetPlayerId(GetOwningPlayer(p5))],o6,BY7)
call TF7(US7,"Level",BY7)
call TG7(US7,"x",(GetUnitX(p5))*1.0)
call TG7(US7,"y",(GetUnitY(p5))*1.0)
call TG7(US7,"a",(a)*1.0)
call TJ7(US7,"Source",p5)
if o6==1093685061 then
call TriggerRegisterTimerEvent(t,0.1,true)
else
call TriggerRegisterTimerEvent(t,0.05,true)
endif
call TriggerAddCondition(t,Condition(function HTD))
set t=null
set p5=null
set l=null
endfunction
function HYD takes nothing returns boolean
if GetSpellAbilityId()==1093685045 or GetSpellAbilityId()==1093747249 then
call HXD()
endif
return false
endfunction
function MD8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="MD8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HYD))
call DX8(1093685061)
set t=null
endfunction
function HZD takes nothing returns boolean
return GetUnitTypeId(GetSummonedUnit())==1865429059 or GetUnitTypeId(GetSummonedUnit())==1865429319 or GetUnitTypeId(GetSummonedUnit())==1865429320 or GetUnitTypeId(GetSummonedUnit())==1865429321
endfunction
function HAD takes nothing returns nothing
call SetUnitAbilityLevelSwapped(1093678392,GetSummonedUnit(),GetUnitAbilityLevelSwapped(1093678135,GetSummoningUnit()))
endfunction
function N88 takes nothing returns nothing
set dT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dT,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(dT,Condition(function HZD))
call TriggerAddAction(dT,function HAD)
endfunction
function HBD takes unit C17,unit m5 returns nothing
local real a=GetRandomReal(0,360)
local real x=GetUnitX(m5)+50*Cos(a*bj_DEGTORAD)
local real y=GetUnitY(m5)+50*Sin(a*bj_DEGTORAD)
local real HCD=GetRandomReal(175,250)
call SetUnitPosition(C17,x,y)
call SetUnitFacing(C17,bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(C17),GetUnitX(m5)-GetUnitX(C17)))
call SetUnitAnimation(C17,"Attack")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",C17,"chest"))
if AI7(GetOwningPlayer(m5))==false and IsUnitType(m5,UNIT_TYPE_ANCIENT)==false then
set HCD=99999
endif
call HY8(C17,m5,ZH4,HCD)
call IssueTargetOrder(C17,"attack",m5)
endfunction
function H3D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local unit m5=T37(US7,"Target")
set EZ7="H3D"
call HBD(C17,m5)
call T97(US7)
call UQ7(t)
set t=null
set C17=null
set m5=null
return false
endfunction
function H6D takes unit C17 returns nothing
local group g=LD7()
set EZ7="Omnislash_FindTarget"
set IN4=C17
call GroupEnumUnitsInRange(g,GetUnitX(C17),GetUnitY(C17),450,Condition(function GI8))
set IN4=GroupPickRandomUnit(g)
if IN4!=null then
call HBD(C17,IN4)
endif
call L97(g)
set g=null
endfunction
function HLD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local unit HV8=T37(US7,"Caster")
local integer Tq=U97(US7,"Limit")
local integer TQ=U97(US7,"BFLevel")
local integer Rd=U97(US7,"Counter")
local unit Tr
set EZ7="HLD"
call SetUnitPosition(HV8,GetUnitX(C17),GetUnitY(C17))
if Rd>Tq then
call KillUnit(HV8)
call DestroyEffect(T27(US7,"FX"))
call T97(US7)
call UQ7(t)
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),1093678407,true)
call SetUnitPathing(C17,true)
call SetUnitInvulnerable(C17,false)
call UO7(C17,"Omnislashing")
call SetUnitVertexColor(C17,255,255,255,255)
else
call TF7(US7,"Counter",Rd+1)
call H6D(C17)
if IN4==null then
call KillUnit(HV8)
call DestroyEffect(T27(US7,"FX"))
call T97(US7)
call UQ7(t)
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),1093678407,true)
call SetUnitPathing(C17,true)
call SetUnitInvulnerable(C17,false)
call UO7(C17,"Omnislashing")
call SetUnitVertexColor(C17,255,255,255,255)
endif
endif
set t=null
set C17=null
set Tr=null
set HV8=null
return false
endfunction
function H1D takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BY7=GetUnitAbilityLevel(C17,1093684529)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer TQ=GetUnitAbilityLevel(C17,1093678407)
local player p=GetOwningPlayer(C17)
local integer XZ7=3
local unit HV8=CreateUnit(GetOwningPlayer(C17),1865429060,GetUnitX(C17),GetUnitY(C17),0)
set EZ7="H1D"
if BY7==0 then
set BY7=GetUnitAbilityLevel(C17,1093747032)
if BY7==1 then
set XZ7=6
elseif BY7==2 then
set XZ7=9
elseif BY7==3 then
set XZ7=12
endif
elseif BY7==2 then
set XZ7=6
elseif BY7==3 then
set XZ7=9
endif
call SetPlayerAbilityAvailable(p,1093678407,false)
call SetUnitVertexColor(C17,255,255,255,125)
call SetUnitPathing(C17,false)
call SetUnitInvulnerable(C17,true)
call UM7(C17,"Omnislashing")
call TJ7(US7,"Hero",C17)
call TJ7(US7,"Target",m5)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function H3D))
set t=CreateTrigger()
set US7=GetHandleId(t)
call TJ7(US7,"Hero",C17)
call TJ7(US7,"Caster",HV8)
call TF7(US7,"Limit",XZ7)
call TF7(US7,"BFLevel",TQ)
call TF7(US7,"Counter",2)
call TK7(US7,"FX",AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl",C17,"weapon"))
call TriggerRegisterTimerEvent(t,0.4,true)
call TriggerAddCondition(t,Condition(function HLD))
set C17=null
set m5=null
set t=null
set p=null
endfunction
function H0D takes nothing returns boolean
if GetSpellAbilityId()==1093684529 or GetSpellAbilityId()==1093747032 then
call H1D()
endif
return false
endfunction
function H5D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="H5D"
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call SetUnitAnimationByIndex(FJ8,4)
set t=null
set FJ8=null
return false
endfunction
function H2D takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="H2D"
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function H5D))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=null
set FJ8=null
endfunction
function H_D takes nothing returns boolean
if GetSpellAbilityId()==1093684529 or GetSpellAbilityId()==1093747032 then
call H2D()
endif
return false
endfunction
function N98 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="N98"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function H0D))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function H_D))
set t=null
endfunction
function I7D takes integer BY7 returns integer
if BY7==1 then
return 1093742682
elseif BY7==2 then
return 1093742897
elseif BY7==3 then
return 1093742681
elseif BY7==4 then
return 1093742896
endif
return 0
endfunction
function I8D takes integer BY7 returns integer
if BY7==1 then
return 1110456653
elseif BY7==2 then
return 1110456654
elseif BY7==3 then
return 1110456655
elseif BY7==4 then
return 1110456652
endif
return 0
endfunction
function I9D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local integer BY7=U97(US7,"Level")
local real xN=UD7(US7,"LastX")
local real xo=UD7(US7,"LastY")
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local real d=SquareRoot((xN-x)*(xN-x)+(xo-y)*(xo-y))
local real vB=(0.00030+BY7*0.00005)*d*GetUnitState(m5,UNIT_STATE_MAX_MANA)
local integer QI=GetTriggerEvalCount(t)
local unit HV8
set EZ7="I9D"
if C37(m5)==true then
set vB=0
endif
if d>300 then
set vB=0
endif
if vB>1 and ModuloInteger(GetTriggerEvalCount(t),3)==0 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl",m5,"chest"))
endif
if vB>0 then
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-vB)
endif
call TG7(US7,"LastX",x)
call TG7(US7,"LastY",y)
if GetTriggerEventId()==EVENT_UNIT_DEATH or QI==(BY7+3)*10 then
call UnitRemoveAbility(m5,I7D(BY7))
call UnitRemoveAbility(m5,I8D(BY7))
call DestroyEffect(T27(US7,"FX"))
call T97(US7)
call UQ7(t)
elseif GetUnitState(m5,UNIT_STATE_MANA)<1 then
call HU8(T37(US7,"Source"),m5,1+0.3*BY7)
set HV8=null
call UnitRemoveAbility(m5,I7D(BY7))
call UnitRemoveAbility(m5,I8D(BY7))
call DestroyEffect(T27(US7,"FX"))
call T97(US7)
call UQ7(t)
endif
set t=null
set m5=null
return false
endfunction
function IDD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(p5,1093742680)
set EZ7="IDD"
call L67(m5,I7D(BY7))
call TJ7(US7,"Target",m5)
call TJ7(US7,"Source",p5)
call TF7(US7,"Level",BY7)
call TG7(US7,"LastX",GetUnitX(m5))
call TG7(US7,"LastY",GetUnitY(m5))
call TK7(US7,"FX",AddSpecialEffectTarget("effects\\BasicWaterFlash.mdx",m5,"chest"))
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function I9D))
set p5=null
set m5=null
set t=null
endfunction
function IED takes nothing returns boolean
if GetSpellAbilityId()==1093742680 and L87(GetSpellTargetUnit())==false then
call IDD()
endif
return false
endfunction
function NE8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NE8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IED))
set t=null
endfunction
function IFD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local real Tw=UD7(US7,"Mana")
set EZ7="IFD"
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)+Tw)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl",m5,"origin"))
call T97(US7)
call UQ7(t)
set m5=null
set t=null
return false
endfunction
function IGD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="IGD"
call TJ7(US7,"Target",m5)
call TG7(US7,"Mana",75*GetUnitAbilityLevel(C17,1093742898))
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function IFD))
set t=null
set C17=null
set m5=null
endfunction
function IHD takes nothing returns boolean
if GetSpellAbilityId()==1093742898 then
call IGD()
endif
return false
endfunction
function NF8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NF8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IHD))
set t=null
endfunction
function IID takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit IJD=(LoadUnitHandle(L7,(PP7),(19)))
local real AZ9=(LoadReal(L7,(PP7),(13)))
local integer IKD=(LoadInteger(L7,(PP7),(34)))
local real IMD=GetUnitX(IJD)-50*Cos(AZ9)
local real IND=GetUnitY(IJD)-50*Sin(AZ9)
local unit HV8=CreateUnit(GetOwningPlayer(IJD),1697656901,IMD,IND,0)
local real x=GetUnitX(HV8)+50*Cos(AZ9)
local real y=GetUnitY(HV8)+50*Sin(AZ9)
local real x2=x+(300+50*IKD)*Cos(AZ9)
local real y2=y+(300+50*IKD)*Sin(AZ9)
set EZ7="IID"
call L67(HV8,1093679159)
call SetUnitAbilityLevel(HV8,1093679159,IKD)
call IssuePointOrder(HV8,"breathoffire",x,y)
call KillUnit(IJD)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set HV8=null
set t=null
return false
endfunction
function IOD takes unit IJD,integer IKD,real AZ9 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="Illuminate_Release"
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function IID))
call SaveUnitHandle(L7,(PP7),(19),(IJD))
call SaveReal(L7,(PP7),(13),((AZ9)*1.0))
call SaveInteger(L7,(PP7),(34),(IKD))
set t=null
endfunction
function IPD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer iX=U97(US7,"Count")
local integer IQD=iX-1
local real RK=UD7(US7,"Angle")
local unit oA=T37(US7,"Caster")
local unit C17=T37(US7,"Hero")
local integer BY7=U97(US7,"Level")
local integer IRD=2+BY7*2
local boolean ISD=UE7(US7,"SpiritCast")
local unit ITD
set EZ7="IPD"
if GetTriggerEventId()!=EVENT_UNIT_SPELL_ENDCAST then
call TF7(US7,"Count",iX+1)
endif
call SetUnitScale(oA,I2R(100+20*IQD)/ 100,I2R(100+20*IQD)/ 100,I2R(100+20*IQD)/ 100)
if(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and ISD==false)or(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()==1093743153)or IQD==IRD then
if ISD then
set ITD=T37(US7,"Dummy")
call ShowUnit(ITD,false)
call UnitApplyTimedLife(ITD,1112820806,1)
endif
call T97(US7)
call UQ7(t)
if(LoadInteger(L7,(GetHandleId(C17)),(704)))==0 or(LoadInteger(L7,(GetHandleId(C17)),(704)))==1093679157 then
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),1093679157,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),1093743153,false)
call UnitRemoveAbility(C17,1093743153)
call IOD(oA,IQD,RK)
endif
set oA=CreateUnit(GetOwningPlayer(oA),1747990093,GetUnitX(oA)+150*(IQD)*Cos(RK),GetUnitY(oA)+150*(IQD)*Sin(RK),0)
call UnitApplyTimedLife(oA,1112820806,7)
set t=null
set oA=null
set C17=null
set ITD=null
return false
endfunction
function IUD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
set EZ7="IUD"
call IssueImmediateOrder(C17,"stop")
call T97(US7)
call UQ7(t)
set t=null
set C17=null
return false
endfunction
function IVD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit C17=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real RK=Atan2(GetLocationY(l)-GetUnitY(C17),GetLocationX(l)-GetUnitX(C17))
local real x
local real y
local unit oA
local unit ITD
local boolean ISD=false
set EZ7="IVD"
if GetLocationY(l)==GetUnitY(C17)and GetLocationX(l)==GetUnitX(C17)then
set RK=GetUnitFacing(C17)*bj_DEGTORAD
endif
set x=GetUnitX(C17)+150*Cos(RK)
set y=GetUnitY(C17)+150*Sin(RK)
set oA=CreateUnit(GetOwningPlayer(C17),1966092362,x,y,RK*bj_RADTODEG)
call RemoveLocation(l)
if GetUnitTypeId(C17)==1211119192 or GetUnitTypeId(C17)==1211119193 or GetUnitTypeId(C17)==1211119191 then
set ISD=true
endif
call TI7(US7,"SpiritCast",ISD)
call TJ7(US7,"Hero",C17)
call TJ7(US7,"Caster",oA)
call TF7(US7,"Count",1)
call TF7(US7,"Level",GetUnitAbilityLevel(C17,1093679157))
call TG7(US7,"Angle",RK)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function IPD))
if ISD then
set ITD=CreateUnit(GetOwningPlayer(C17),1747990106,GetUnitX(C17),GetUnitY(C17),RK*bj_RADTODEG)
call SetUnitX(ITD,GetUnitX(C17))
call SetUnitY(ITD,GetUnitY(C17))
call SetUnitAnimation(ITD,"spell")
call QueueUnitAnimation(ITD,"spell")
call QueueUnitAnimation(ITD,"spell")
call SetUnitVertexColor(ITD,255,255,255,75)
call TJ7(US7,"Dummy",ITD)
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function IUD))
call TJ7(US7,"Hero",C17)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),1093679157,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),1093743153,true)
call FR8(C17,1093743153,1,6)
set t=null
set C17=null
set oA=null
set ITD=null
set l=null
endfunction
function IWD takes nothing returns boolean
if GetSpellAbilityId()==1093679157 then
call IVD()
endif
return false
endfunction
function NG8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NG8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IWD))
set t=null
endfunction
function IXD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local real x1
local real y1
local real x2
local real y2
set EZ7="IXD"
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetEventDamage()>2 and AI7(GetOwningPlayer(GetEventDamageSource())))then
call DestroyEffect(T27(US7,"FX1"))
call DestroyEffect(T27(US7,"FX2"))
call T97(US7)
call UQ7(t)
elseif GetTriggerEventId()!=EVENT_UNIT_DAMAGED and GetTriggerEventId()!=EVENT_UNIT_DEATH then
set x1=GetUnitX(p5)
set y1=GetUnitY(p5)
set x2=GetUnitX(m5)
set y2=GetUnitY(m5)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",x1,y1))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",x2,y2))
call UU7(m5,"4410",1)
call SetUnitPosition(m5,GetUnitX(p5),GetUnitY(p5))
call DestroyEffect(T27(US7,"FX1"))
call DestroyEffect(T27(US7,"FX2"))
call T97(US7)
call UQ7(t)
call B87(m5)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function IYD takes nothing returns nothing
local unit p5=GetEnumUnit()
local real l4=Q07(GetUnitX(p5),GetUnitY(p5),WS4,WT4)
set EZ7="IYD"
if l4<WR4 then
set WQ4=GetEnumUnit()
set WR4=l4
endif
set p5=null
endfunction
function IZD takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local unit p5=GetTriggerUnit()
local trigger t
local integer US7
local real Hk
local group g
set EZ7="IZD"
if m5==null then
set WQ4=null
set WR4=999999
set WS4=GetSpellTargetX()
set WT4=GetSpellTargetY()
set IN4=p5
set g=LD7()
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function G08))
call GroupRemoveUnit(g,p5)
call ForGroup(g,function IYD)
call L97(g)
set m5=WQ4
set g=null
endif
if GetSpellAbilityId()==1093742677 then
set Hk=5
elseif GetSpellAbilityId()==1093742937 then
set Hk=4
elseif GetSpellAbilityId()==1093742938 then
set Hk=3
elseif GetSpellAbilityId()==1093750321 then
set Hk=3
endif
if m5!=null then
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function IXD))
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TK7(US7,"FX1",AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",p5,"origin"))
call TK7(US7,"FX2",AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",m5,"origin"))
endif
set m5=null
set p5=null
set t=null
endfunction
function IAD takes nothing returns boolean
if GetSpellAbilityId()==1093742677 or GetSpellAbilityId()==1093742937 or GetSpellAbilityId()==1093742938 then
call IZD()
endif
return false
endfunction
function IBD takes nothing returns boolean
if GetSpellAbilityId()==1093742677 or GetSpellAbilityId()==1093742937 or GetSpellAbilityId()==1093742938 then
if GetSpellTargetUnit()!=null and UE7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),CF7(1848652600))
endif
endif
return false
endfunction
function NH8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NH8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IAD))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function IBD))
set t=null
endfunction
function ICD takes nothing returns nothing
local unit m5=GetEnumUnit()
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local real a=Atan2(y-tN,x-SN)
set EZ7="ICD"
set x=DT8(x+25*Cos(a))
set y=DU8(y+25*Sin(a))
call ER8(x,y,150)
call SetUnitX(m5,x)
call SetUnitY(m5,y)
set m5=null
endfunction
function I3D takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit HV8=CreateUnit(IR4,1697656901,GetUnitX(m5),GetUnitY(m5),0)
set EZ7="I3D"
call L67(HV8,1093742679)
call SetUnitAbilityLevel(HV8,1093742679,pN)
call IssueTargetOrder(HV8,"drunkenhaze",m5)
set m5=null
set HV8=null
endfunction
function I6D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local player p=TL7(US7,"p")
local real t5=UD7(US7,"SourceX")
local real w5=UD7(US7,"SourceY")
local integer o6=U97(US7,"AbilityID")
local group g=T57(US7,"g")
local integer BX8=GetTriggerEvalCount(t)
set EZ7="I6D"
set SN=t5
set tN=w5
call ForGroup(g,function ICD)
if BX8==10 then
if o6==1093742936 then
set pN=1
elseif o6==1093742934 then
set pN=2
else
set pN=3
endif
set IR4=p
call ForGroup(g,function I3D)
call L97(g)
call T97(US7)
call UQ7(t)
endif
set t=null
set p=null
set g=null
return false
endfunction
function ILD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local player p=TL7(US7,"p")
local real t5=UD7(US7,"SourceX")
local real w5=UD7(US7,"SourceY")
local integer o6=U97(US7,"AbilityID")
local group g=T57(US7,"g")
set EZ7="ILD"
call UQ7(t)
call T97(US7)
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.04,true)
call TriggerAddCondition(t,Condition(function I6D))
call TQ7(US7,"p",p)
call TG7(US7,"SourceX",t5*1.0)
call TG7(US7,"SourceY",w5*1.0)
call TS7(US7,"g",g)
call TF7(US7,"AbilityID",o6)
set t=null
set p=null
set g=null
return false
endfunction
function I1D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local group g=LD7()
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
set EZ7="I1D"
call KillUnit(CreateUnit(GetOwningPlayer(p5),1747990096,x,y,0))
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,700,Condition(function GS8))
call TriggerRegisterTimerEvent(t,0.4,false)
call TriggerAddCondition(t,Condition(function ILD))
call TQ7(US7,"p",GetOwningPlayer(GetTriggerUnit()))
call TG7(US7,"SourceX",(x)*1.0)
call TG7(US7,"SourceY",(y)*1.0)
call TS7(US7,"g",g)
call TF7(US7,"AbilityID",GetSpellAbilityId())
call RemoveLocation(l)
set l=null
set t=null
set g=null
set p5=null
endfunction
function I0D takes nothing returns boolean
if GetSpellAbilityId()==1093742936 or GetSpellAbilityId()==1093742934 or GetSpellAbilityId()==1093742935 then
call I1D()
endif
return false
endfunction
function NI8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NI8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function I0D))
set t=null
endfunction
function I5D takes unit u returns boolean
return GetUnitTypeId(u)==1966092345
endfunction
function I2D takes nothing returns boolean
if I5D(GetFilterUnit())or GZ8()then
if LoadInteger(L7,tl,GetHandleId(GetFilterUnit()))<IH4 then
return true
endif
endif
return false
endfunction
function I_D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local integer J4D=U97(US7,"LucentLevel")
local integer Tq=U97(US7,"Limit")
local integer J7D=U97(US7,"TargetLimit")
local group g=LD7()
local real x=GetUnitX(C17)
local real y=GetUnitY(C17)
local unit PU7
local real r1=GetRandomInt(200,350)
local real r2=GetRandomInt(200,350)
set EZ7="I_D"
if GetRandomInt(1,2)==1 then
set r1=-1*r1
set r2=-1*r2
endif
set IN4=C17
set IH4=J7D
set tl=GetHandleId(t)
call GroupEnumUnitsInRange(g,x,y,700,Condition(function I2D))
set PU7=GroupPickRandomUnit(g)
call L97(g)
if L17(C17)==false and PU7!=null and I5D(PU7)==false then
call SaveInteger(L7,tl,GetHandleId(PU7),LoadInteger(L7,tl,GetHandleId(PU7))+1)
call EE8("effects\\Eclipse.mdx",PU7,"origin",3)
call HY8(C17,PU7,ZG4,J4D*75)
elseif L17(C17)==false then
set x=x+GetRandomInt(-350,350)
set y=y+GetRandomInt(-350,350)
call EF8("effects\\Eclipse.mdx",x,y,1.5)
endif
if(GetTriggerEvalCount(t)+1)==Tq then
call T97(US7)
call UQ7(t)
endif
set t=null
set C17=null
set g=null
set PU7=null
return false
endfunction
function J8D takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer Tq
local integer J4D=GetUnitAbilityLevel(LI7,1093678130)
local integer J7D
local unit HV8=CreateUnit(GetOwningPlayer(LI7),1697656901,GetUnitX(LI7),GetUnitY(LI7),0)
set EZ7="J8D"
if J4D==0 and GetUnitTypeId(LI7)!=1160785973 then
set J4D=4
endif
call L67(HV8,1093751862)
if GetSpellAbilityId()==1093678388 then
set Tq=1+3*GetUnitAbilityLevel(LI7,1093678388)
set J7D=4
else
set Tq=4*GetUnitAbilityLevel(LI7,1093677141)
set J7D=6
endif
call TF7(US7,"LucentLevel",J4D)
call TF7(US7,"Limit",Tq)
call TF7(US7,"TargetLimit",J7D)
call TJ7(US7,"Hero",LI7)
call TriggerRegisterTimerEvent(t,0.6,true)
call TriggerAddCondition(t,Condition(function I_D))
call TriggerEvaluate(t)
call IssueImmediateOrderById(HV8,852621)
set t=null
set LI7=null
set HV8=null
endfunction
function J9D takes nothing returns boolean
if GetSpellAbilityId()==1093678388 or GetSpellAbilityId()==1093677141 then
call J8D()
endif
return false
endfunction
function NJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NJ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function J9D))
set t=null
endfunction
function JDD takes nothing returns boolean
if GetLearnedSkill()==1093678129 then
if GetUnitAbilityLevel(GetTriggerUnit(),1093678129)==4 then
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1382378855,5)
else
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1382378855,GetUnitAbilityLevel(GetTriggerUnit(),1093678129))
endif
elseif GetLearnedSkill()==1093678642 then
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1378889801,1)
endif
return false
endfunction
function NK8 takes nothing returns nothing
set du=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(du,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(du,Condition(function JDD))
endfunction
function JED takes nothing returns boolean
return GetSpellAbilityId()==1093684053
endfunction
function JFD takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function JGD takes nothing returns nothing
call L67(GetEnumUnit(),1093684052)
call SetUnitAbilityLevel(GetEnumUnit(),1093684052,E8)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.mdl",GetEnumUnit(),"chest"))
endfunction
function JHD takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),1093684052)
endfunction
function JID takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer US7=GetHandleId(t)
local group JJ8=T57(US7,"Group")
set EZ7="JID"
call ForGroup(JJ8,function JHD)
call L97(JJ8)
call Mv(t)
set t=null
set JJ8=null
endfunction
function JJD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local boolexpr hP=Condition(function JFD)
local group JJ8=LD7()
local timer t=CreateTimer()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(C17,1093684053)
local real FKD=15
set EZ7="JJD"
set E8=BY7
call GroupEnumUnitsInRange(JJ8,0,0,9999,hP)
call ForGroup(JJ8,function JGD)
call DestroyBoolExpr(hP)
call TS7(US7,"Group",JJ8)
call TimerStart(t,FKD,false,function JID)
set C17=null
set hP=null
set JJ8=null
set t=null
endfunction
function RL8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RL8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JED))
call TriggerAddAction(t,function JJD)
set t=null
endfunction
function JKD takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl",GetEnumUnit(),"origin"))
endfunction
function JMD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local unit m5=T37(US7,"Target")
set EZ7="JMD"
call HY8(C17,m5,ZG4,0.75*GetUnitAbilityLevel(C17,1093684054)*75)
call T97(US7)
call UQ7(t)
set t=null
set C17=null
set m5=null
return false
endfunction
function JND takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local group g=LD7()
local unit m5=T37(US7,"Target")
set EZ7="JND"
call DestroyEffect(T27(US7,"FX"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl",m5,"origin"))
call T97(US7)
call UQ7(t)
call L97(g)
set t=CreateTrigger()
set US7=GetHandleId(t)
call TJ7(US7,"Hero",C17)
call TJ7(US7,"Target",m5)
call TriggerRegisterTimerEvent(t,.5,false)
call TriggerAddCondition(t,Condition(function JMD))
set t=null
set C17=null
set g=null
set m5=null
return false
endfunction
function ug takes nothing returns nothing
call HY8(IN4,GetEnumUnit(),ZG4,IJ4)
endfunction
function uG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local group g=T57(US7,"g")
set EZ7="uG"
set IJ4=GetUnitAbilityLevel(C17,1093684054)*75
set IN4=C17
call ForGroup(g,function ug)
call L97(g)
call T97(US7)
call UQ7(t)
set t=null
set C17=null
set g=null
return false
endfunction
function uh takes nothing returns nothing
local real in=Ma(GetTriggerUnit(),GetEnumUnit())
set EZ7="uh"
if in>650 then
else
call GroupAddUnit(IQ4,GetEnumUnit())
endif
endfunction
function JOD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit C17=GetTriggerUnit()
local group g=LD7()
local unit m5
set EZ7="JOD"
set IN4=C17
set IQ4=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(C17),GetUnitY(C17),900,Condition(function GR8))
call ForGroup(g,function uh)
call L97(g)
set g=IQ4
call ForGroup(g,function JKD)
call TS7(US7,"g",g)
call TJ7(US7,"Hero",C17)
call TriggerRegisterTimerEvent(t,.5,false)
call TriggerAddCondition(t,Condition(function uG))
set IN4=C17
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(C17),GetUnitY(C17),200,Condition(function GR8))
set m5=GroupPickRandomUnit(g)
call L97(g)
set t=CreateTrigger()
set US7=GetHandleId(t)
call TJ7(US7,"Hero",C17)
call TJ7(US7,"Target",m5)
call TK7(US7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl",C17,"origin"))
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function JND))
set t=null
set g=null
set C17=null
set m5=null
endfunction
function JPD takes nothing returns boolean
if GetSpellAbilityId()==1093684054 then
call JOD()
endif
return false
endfunction
function R18 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="R18"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JPD))
set t=null
endfunction
function JQD takes nothing returns boolean
return GetSpellAbilityId()==1093684280
endfunction
function uj takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false
endfunction
function uJ takes real uk,real uK,real iN,real io returns integer
local real in=SquareRoot((iN-uk)*(iN-uk)+(io-uK)*(io-uK))
set EZ7="uJ"
return DL8(R2I(in/150),10)
endfunction
function ul takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local unit IJ=T37(US7,"Projectile")
local real hN=UD7(US7,"TargetX")
local real ho=UD7(US7,"TargetY")
local real RK=UD7(US7,"Angle")
local real iN=GetUnitX(IJ)
local real io=GetUnitY(IJ)
local real Il=DT8(GetUnitX(IJ)+30*Cos(RK))
local real IL=DU8(GetUnitY(IJ)+30*Sin(RK))
local boolexpr hP=Condition(function uj)
local group JJ8=LD7()
local unit oA
local unit m5
local real uk
local real uK
set EZ7="ul"
call SetUnitX(IJ,Il)
call SetUnitY(IJ,IL)
set D8=C17
call GroupEnumUnitsInRange(JJ8,Il,IL,140,hP)
set m5=FirstOfGroup(JJ8)
call L97(JJ8)
call DestroyBoolExpr(hP)
if m5!=null then
if IsUnitType(m5,UNIT_TYPE_HERO)==true then
set SO4[GetPlayerId(GetOwningPlayer(C17))]=SO4[GetPlayerId(GetOwningPlayer(C17))]+1
call I38("AA_Hits"+I2S(GetPlayerId(GetOwningPlayer(C17))),SO4[GetPlayerId(GetOwningPlayer(C17))])
endif
set uk=UD7(US7,"OriginalX")
set uK=UD7(US7,"OriginalY")
set oA=CreateUnit(GetOwningPlayer(m5),1697656901,iN,io,0)
call L67(oA,1093684279)
call SetUnitAbilityLevel(oA,1093684279,uJ(uk,uK,iN,io))
call IssueTargetOrderById(oA,852095,m5)
call UnitDamageTarget(C17,m5,90*GetUnitAbilityLevel(C17,1093684280),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call KillUnit(IJ)
call Mv(t)
set oA=null
elseif(Il-hN)*(Il-hN)+(IL-ho)*(IL-ho)<1600 then
call KillUnit(IJ)
call Mv(t)
endif
set C17=null
set IJ=null
set t=null
set hP=null
set JJ8=null
set m5=null
endfunction
function JRD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local real iN=DT8(GetUnitX(C17))
local real io=DU8(GetUnitY(C17))
local location sy=GetSpellTargetLoc()
local real hN=GetLocationX(sy)
local real ho=GetLocationY(sy)
local real RK=Atan2(ho-io,hN-iN)
local timer t=CreateTimer()
local integer US7=GetHandleId(t)
local unit IJ=CreateUnit(GetOwningPlayer(C17),1747988533,iN,io,RK*bj_RADTODEG)
set EZ7="JRD"
set SP4[GetPlayerId(GetOwningPlayer(C17))]=SP4[GetPlayerId(GetOwningPlayer(C17))]+1
call I38("AA_Total"+I2S(GetPlayerId(GetOwningPlayer(C17))),SP4[GetPlayerId(GetOwningPlayer(C17))])
call RemoveLocation(sy)
call SetUnitFacing(IJ,RK*bj_RADTODEG)
call SetUnitPathing(IJ,false)
set hN=DT8(iN+3000*Cos(RK))
set ho=DU8(io+3000*Sin(RK))
call TG7(US7,"OriginalX",iN)
call TG7(US7,"OriginalY",io)
call TG7(US7,"TargetX",hN)
call TG7(US7,"TargetY",ho)
call TG7(US7,"Angle",RK)
call TJ7(US7,"Hero",C17)
call TJ7(US7,"Projectile",IJ)
call TimerStart(t,.035,true,function ul)
set C17=null
set sy=null
set t=null
set IJ=null
endfunction
function JSD takes nothing returns boolean
local integer JTD=SO4[GetPlayerId(GetTriggerPlayer())]
local integer D5=SP4[GetPlayerId(GetTriggerPlayer())]
set EZ7="JSD"
if GetUnitTypeId(M7[GetPlayerId(GetTriggerPlayer())])==1311781206 and D5>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848657741)))+" "+R2S(I2R(JTD)/ I2R(D5)*100)+"% ("+I2S(JTD)+"/"+I2S(D5)+")")
endif
return false
endfunction
function R08 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="R08"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JQD))
call TriggerAddAction(t,function JRD)
call DX8(1093684279)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function JSD))
set t=null
endfunction
function JUD takes nothing returns boolean
return GetSpellAbilityId()==1093684302
endfunction
function uM takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(D8))
endfunction
function un takes nothing returns nothing
local unit C17=GetEnumUnit()
local unit oA=CreateUnit(GetOwningPlayer(C17),1697657170,0,0,0)
set EZ7="un"
call L67(oA,1093684303)
call SetUnitAbilityLevel(oA,1093684303,GetUnitAbilityLevel(D8,1093684302))
call UnitApplyTimedLife(oA,1112820806,10)
set C17=null
set oA=null
endfunction
function uN takes unit C17 returns nothing
local group JJ8=LD7()
local boolexpr hP=Condition(function uM)
set EZ7="uN"
set D8=C17
call GroupEnumUnitsInRange(JJ8,GetUnitX(C17),GetUnitY(C17),800,hP)
call ForGroup(JJ8,function un)
call DestroyBoolExpr(hP)
call L97(JJ8)
set JJ8=null
set hP=null
endfunction
function uo takes unit C17 returns nothing
local integer US7=GetHandleId(C17)
local string uO=UF7(US7,"OrderType")
local string up=OrderId2String(U97(US7,"OrderId"))
local real hN
local real ho
local unit m5
local trigger t=T07(US7,"Trigger_TrackOrder")
local boolean uP=not UE7(US7,"Idle")
local boolean uq=UE7(US7,"SuperOrder")
set EZ7="uo"
call DisableTrigger(t)
call IssueImmediateOrderById(C17,851972)
if uO=="Target"and(uP or uq)then
set m5=T37(US7,"OrderTarget")
call IssueTargetOrder(C17,up,m5)
elseif uO=="Point"and(uP or uq)then
set hN=UD7(US7,"OrderPointX")
set ho=UD7(US7,"OrderPointY")
call IssuePointOrder(C17,up,hN,ho)
elseif(uP or uq)then
call IssueImmediateOrder(C17,"OrderString")
endif
call TI7(US7,"SuperOrder",false)
call EnableTrigger(t)
set m5=null
set t=null
endfunction
function uQ takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local real ur=UD7(US7,"DistanceRemaining")
local real uR=UD7(US7,"OriginalDistance")
local real RK=UD7(US7,"Angle")
local real Il=GetUnitX(C17)+30*Cos(RK*bj_DEGTORAD)
local real IL=GetUnitY(C17)+30*Sin(RK*bj_DEGTORAD)
local real us=200
local real uS=(1-ur/uR)*us*2
set EZ7="uQ"
if uS>us then
set uS=us*2-uS
endif
call SetUnitFlyHeight(C17,D28(uS,0),0)
call SetUnitX(C17,DT8(Il))
call SetUnitY(C17,DU8(IL))
call SetUnitFacing(C17,RK)
call TG7(US7,"DistanceRemaining",ur-20)
if uS<1 and ur-uR!=0 then
call TI7(GetHandleId(C17),"InAir",false)
call SetUnitFacing(C17,RK)
call SetUnitAnimation(C17,"stand")
call SetUnitPathing(C17,true)
call uo(C17)
call uN(C17)
call PauseTimer(t)
call T97(US7)
call DestroyTimer(t)
endif
set t=null
set C17=null
endfunction
function JVD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local integer BY7=GetUnitAbilityLevel(C17,1093684302)
local real in=350+50*BY7
local real RK=GetUnitFacing(C17)
local real iN=GetUnitX(C17)
local real io=GetUnitY(C17)
local real hN=DT8(iN+in*Cos(RK*bj_DEGTORAD))
local real ho=DU8(io+in*Sin(RK*bj_DEGTORAD))
local timer t=CreateTimer()
local integer US7=GetHandleId(t)
local trigger uT=T07(GetHandleId(C17),"Trigger_TrackOrder")
set EZ7="JVD"
set in=SquareRoot((iN-hN)*(iN-hN)+(io-ho)*(io-ho))
if in>100 then
call L67(C17,1097691750)
call UnitRemoveAbility(C17,1097691750)
call SetUnitPathing(C17,false)
call SetUnitAnimationByIndex(C17,6)
call DisableTrigger(uT)
call IssueImmediateOrderById(C17,851972)
call EnableTrigger(uT)
call TG7(US7,"DistanceRemaining",in)
call TG7(US7,"OriginalDistance",in)
call TG7(US7,"Angle",RK)
call TJ7(US7,"Hero",C17)
call TimerStart(t,.025,true,function uQ)
call TI7(GetHandleId(C17),"Leap_InAir",true)
call TI7(GetHandleId(C17),"SuperOrder",false)
endif
set C17=null
set t=null
set uT=null
endfunction
function uu takes nothing returns boolean
return OrderId2String(GetIssuedOrderId())!="windwalk"
endfunction
function uU takes nothing returns nothing
local unit C17=GetTriggerUnit()
local integer US7=GetHandleId(C17)
local boolean uv=UE7(US7,"Leap_InAir")
set EZ7="uU"
call TF7(US7,"OrderId",GetIssuedOrderId())
call TI7(US7,"Idle",false)
if GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER then
call TH7(US7,"OrderType","Target")
call TU7(US7,"OrderTarget",GetOrderTarget())
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER then
if uv or Q07(GetUnitX(C17),GetUnitY(C17),GetOrderPointX(),GetOrderPointY())>800 then
call TH7(US7,"OrderType","Point")
call TG7(US7,"OrderPointX",GetOrderPointX())
call TG7(US7,"OrderPointY",GetOrderPointY())
else
call TI7(US7,"Idle",true)
endif
else
call TH7(US7,"OrderType","Instant")
endif
if uv then
call TI7(US7,"SuperOrder",true)
endif
set C17=null
endfunction
function uV takes nothing returns nothing
local unit C17=T37(GetHandleId(GetExpiredTimer()),"Hero")
local integer US7=GetHandleId(C17)
local real x=GetUnitX(C17)
local real y=GetUnitY(C17)
local string uO=UF7(US7,"OrderType")
set EZ7="uV"
if uO=="Point"and Q07(GetUnitX(C17),GetUnitY(C17),UD7(US7,"OrderPointX"),UD7(US7,"OrderPointY"))<100 then
call TI7(US7,"Idle",true)
endif
set C17=null
endfunction
function uw takes nothing returns nothing
local unit C17=GetTriggerUnit()
local trigger t=CreateTrigger()
local timer t2
set EZ7="uw"
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddAction(t,function uU)
call TriggerAddCondition(t,Condition(function uu))
call TM7(GetHandleId(C17),"Trigger_TrackOrder",t)
set t2=CreateTimer()
call TJ7(GetHandleId(t2),"Hero",C17)
call TimerStart(t2,.3,true,function uV)
call TT7(GetHandleId(C17),"Timer_CheckIdle",t2)
set C17=null
set t=null
set t2=null
endfunction
function uW takes nothing returns nothing
if GetUnitAbilityLevel(GetTriggerUnit(),1093684302)==1 then
call uw()
endif
endfunction
function R58 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="R58"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JUD))
call TriggerAddAction(t,function JVD)
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(t,function uW)
set t=null
endfunction
function ux takes nothing returns nothing
local unit C17=T37(GetHandleId(GetTriggeringTrigger()),"Morphling")
local real r
local real g
local real b
local integer JWD
local integer JXD
local real JYD
local real rStr2Agi
set EZ7="ux"
if GetUnitTypeId(C17)!=1328558160 then
call DisableTrigger(GetTriggeringTrigger())
elseif L17(C17)==false and UE7(GetHandleId(C17),"Waveforming")==false then
set JWD=GetHeroAgi(C17,true)
set JXD=GetHeroStr(C17,true)
set JYD=RMaxBJ(75+2*(JWD-JXD),35)
set r=JYD
set g=JYD
set b=JYD
call SetUnitVertexColorBJ(C17,r,g,b,GetRandomReal(0.00,10.00))
endif
set C17=null
endfunction
function JZD takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())==1328558160 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function JAD takes nothing returns nothing
local trigger t
set EZ7="JAD"
if(UE7(GetHandleId(GetTriggerUnit()),"HasMorphling")==false)then
set t=CreateTrigger()
call TJ7(GetHandleId(t),"Morphling",GetTriggerUnit())
call TM7(GetHandleId(GetTriggerUnit()),"ColorTrigger",t)
call TriggerAddAction(t,function ux)
call TriggerRegisterTimerEvent(t,1.0,true)
call TI7(GetHandleId(GetTriggerUnit()),"HasMorphling",true)
call UnitAddItem(GetTriggerUnit(),CreateItem(1227894853,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
endif
set t=null
endfunction
function NM8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NM8"
call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)
call TriggerAddCondition(t,Condition(function JZD))
call TriggerAddAction(t,function JAD)
set t=null
endfunction
function JBD takes nothing returns boolean
return GetSpellAbilityId()==1093682766
endfunction
function JCD takes nothing returns boolean
local unit T3=GetFilterUnit()
set EZ7="JCD"
if IsUnitInGroup(T3,R8)then
set T3=null
return false
endif
if IsUnitEnemy(T3,GetOwningPlayer(D8))and GetUnitAbilityLevel(T3,1093678162)!=1 and GetUnitState(T3,UNIT_STATE_LIFE)>0 and IsUnitType(T3,UNIT_TYPE_STRUCTURE)==false then
set T3=null
return true
endif
set T3=null
return false
endfunction
function uZ takes nothing returns nothing
call UnitDamageTarget(D8,GetEnumUnit(),F8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endfunction
function J3D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"UnitVar")
local real RK=UD7(US7,"Angle")
local integer u3=U97(US7,"Remaining")
local group Ro=T57(US7,"AlreadyDamaged")
local real u4=GetUnitX(C17)
local real u5=GetUnitY(C17)
local real AO9=(LoadReal(L7,(US7),(23)))
local real AP9=(LoadReal(L7,(US7),(24)))
local real EB8=AO9+1000*0.05*Cos(RK)
local real EC8=AP9+1000*0.05*Sin(RK)
local group JJ8=LD7()
local unit HND=T37(US7,"Dummy")
set EZ7="J3D"
call SaveReal(L7,(US7),(23),((EB8)*1.0))
call SaveReal(L7,(US7),(24),((EC8)*1.0))
set D8=C17
set F8=GetUnitAbilityLevel(C17,1093682766)*75+25
set R8=Ro
call GroupEnumUnitsInRange(JJ8,u4,u5,200+25,Condition(function JCD))
call ForGroup(JJ8,function uZ)
call GroupAddGroup(JJ8,Ro)
call L97(JJ8)
set u3=u3-1
call TF7(US7,"Remaining",u3)
call SetUnitX(C17,DT8(EB8))
call SetUnitY(C17,DU8(EC8))
call SetUnitX(HND,GetUnitX(C17))
call SetUnitY(HND,GetUnitY(C17))
call IssueTargetOrder(HND,"thunderbolt",C17)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",u4,u5))
if u3==0 then
call RemoveUnit(HND)
call SetUnitVertexColor(C17,255,255,255,255)
call TI7(GetHandleId(C17),"Waveforming",false)
call SetUnitInvulnerable(C17,false)
call SetUnitPathing(C17,true)
call ClearSelectionForPlayer(GetOwningPlayer(C17))
call SelectUnitAddForPlayer(C17,GetOwningPlayer(C17))
call T97(US7)
call UQ7(t)
endif
set C17=null
set Ro=null
set JJ8=null
set t=null
return false
endfunction
function J6D takes nothing returns nothing
local unit C17=GetTriggerUnit()
local real iN=GetUnitX(C17)
local real io=GetUnitY(C17)
local location sy=GetSpellTargetLoc()
local real hN=GetLocationX(sy)
local real ho=GetLocationY(sy)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local group Ro=LD7()
local integer QV7=GetPlayerId(GetOwningPlayer(C17))
local unit HND=CreateUnit(GetOwningPlayer(C17),1697656901,iN,io,0)
call UnitAddAbility(HND,1093815860)
call RemoveLocation(sy)
if GetSpellTargetUnit()!=null then
set hN=GetUnitX(GetSpellTargetUnit())
set ho=GetUnitY(GetSpellTargetUnit())
endif
call SetUnitVertexColor(C17,255,255,255,0)
call TI7(GetHandleId(C17),"Waveforming",true)
call SetUnitInvulnerable(C17,true)
call SetUnitPathing(C17,false)
call TJ7(US7,"UnitVar",C17)
call SaveReal(L7,(US7),(23),((iN)*1.0))
call SaveReal(L7,(US7),(24),((io)*1.0))
call TS7(US7,"AlreadyDamaged",Ro)
call TG7(US7,"Angle",Atan2(ho-io,hN-iN))
call TF7(US7,"Remaining",D18(R2I(SquareRoot((hN-iN)*(hN-iN)+(ho-io)*(ho-io))/50),1))
call TJ7(US7,"Dummy",HND)
call TriggerRegisterTimerEvent(t,.04,true)
call TriggerAddCondition(t,Condition(function J3D))
call ShowUnit(C17,false)
call ShowUnit(C17,true)
call SelectUnitAddForPlayer(C17,GetOwningPlayer(C17))
set t=null
set C17=null
set sy=null
set Ro=null
endfunction
function NN8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NN8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JBD))
call TriggerAddAction(t,function J6D)
set t=null
endfunction
function u7 takes nothing returns nothing
local unit u8=T37(GetHandleId(GetTriggeringTrigger()),"Morphling")
set EZ7="u7"
if GetHeroStatBJ(1,u8,false)>2*GetUnitAbilityLevel(u8,1093684056)and GetUnitState(u8,UNIT_STATE_MANA)>=20. and GetUnitState(u8,UNIT_STATE_LIFE)>1. then
call SetUnitManaBJ(u8,GetUnitState(u8,UNIT_STATE_MANA)-20)
call ModifyHeroStat(1,u8,1,2*GetUnitAbilityLevel(u8,1093684056))
call ModifyHeroStat(0,u8,0,2*GetUnitAbilityLevel(u8,1093684056))
endif
set u8=null
endfunction
function u9 takes nothing returns nothing
local unit u8=T37(GetHandleId(GetTriggeringTrigger()),"Morphling")
set EZ7="u9"
if GetHeroStatBJ(0,u8,false)>2*GetUnitAbilityLevel(u8,1093684056)and GetUnitState(u8,UNIT_STATE_MANA)>=20. and GetUnitState(u8,UNIT_STATE_LIFE)>1. then
call SetUnitManaBJ(u8,GetUnitState(u8,UNIT_STATE_MANA)-20)
call ModifyHeroStat(0,u8,1,2*GetUnitAbilityLevel(u8,1093684056))
call ModifyHeroStat(1,u8,0,2*GetUnitAbilityLevel(u8,1093684056))
endif
set u8=null
endfunction
function JLD takes nothing returns boolean
return(((GetIssuedOrderId()==852550)or(GetIssuedOrderId()==852547))and(GetTriggerUnit()==T37(GetHandleId(GetTriggeringTrigger()),"Morphling")))
endfunction
function UA takes nothing returns nothing
local integer US7=GetHandleId(GetTriggeringTrigger())
local trigger Ub=T07(US7,"MorphStr")
local trigger UB=T07(US7,"MorphAgi")
set EZ7="UA"
if(GetIssuedOrderId()==852547)then
call DisableTrigger(Ub)
elseif(GetIssuedOrderId()==852550)then
call DisableTrigger(UB)
endif
set Ub=null
set UB=null
endfunction
function J1D takes nothing returns boolean
return(((GetIssuedOrderId()==852549)or(GetIssuedOrderId()==852546))and(GetTriggerUnit()==T37(GetHandleId(GetTriggeringTrigger()),"Morphling")))
endfunction
function UC takes nothing returns nothing
local integer US7=GetHandleId(GetTriggeringTrigger())
local trigger Ub=T07(US7,"MorphStr")
local trigger UB=T07(US7,"MorphAgi")
set EZ7="UC"
if(GetIssuedOrderId()==852546)then
call EnableTrigger(Ub)
call DisableTrigger(UB)
elseif(GetIssuedOrderId()==852549)then
call DisableTrigger(Ub)
call EnableTrigger(UB)
endif
set Ub=null
set UB=null
endfunction
function J0D takes nothing returns boolean
return GetLearnedSkill()==1093684056 and IsUnitIllusion(GetTriggerUnit())==false and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))!=MAP_CONTROL_COMPUTER
endfunction
function J5D takes unit LI7,integer J2D,real J_D returns nothing
local integer K4D=GetHeroAgi(LI7,false)
local integer K7D=GetHeroStr(LI7,false)
local real K8D=GetUnitState(LI7,UNIT_STATE_MANA)
if J2D==0 then
if K8D>=J_D and K4D>2 and L17(LI7)==false then
call SetUnitState(LI7,UNIT_STATE_MANA,K8D-J_D)
call SetHeroAgi(LI7,K4D-2,true)
call SetHeroStr(LI7,K7D+2,true)
endif
elseif J2D==1 then
if K8D>=J_D and K7D>2 and L17(LI7)==false then
call SetUnitState(LI7,UNIT_STATE_MANA,K8D-J_D)
call SetHeroAgi(LI7,K4D+2,true)
call SetHeroStr(LI7,K7D-2,true)
endif
endif
endfunction
function K9D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local integer KDD=GetUnitAbilityLevel(C17,1093684056)
set EZ7="K9D"
call J5D(C17,1,30.0/ KDD)
set t=null
set C17=null
return false
endfunction
function KED takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local integer KDD=GetUnitAbilityLevel(C17,1093684056)
set EZ7="KED"
call J5D(C17,0,30.0/ KDD)
set t=null
set C17=null
return false
endfunction
function KFD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=GetTriggerUnit()
local trigger KGD=T07(US7,"Iterate")
local integer KDD=GetUnitAbilityLevel(C17,1093684056)
local integer KHD=U97(US7,"LastOrder")
local real KID=1.0/ KDD
set EZ7="KFD"
if GetIssuedOrderId()==852549 then
if KGD!=null then
call T97(GetHandleId(KGD))
call UQ7(KGD)
endif
set KGD=CreateTrigger()
call TriggerRegisterTimerEvent(KGD,KID,true)
call TriggerAddCondition(KGD,Condition(function K9D))
call TJ7(GetHandleId(KGD),"Hero",C17)
call TM7(US7,"Iterate",KGD)
call TF7(US7,"LastOrder",GetIssuedOrderId())
call UnitAddAbility(C17,1093808716)
call UnitRemoveAbility(C17,1093808724)
elseif GetIssuedOrderId()==852546 then
if KGD!=null then
call T97(GetHandleId(KGD))
call UQ7(KGD)
endif
set KGD=CreateTrigger()
call TriggerRegisterTimerEvent(KGD,KID,true)
call TriggerAddCondition(KGD,Condition(function KED))
call TJ7(GetHandleId(KGD),"Hero",C17)
call TM7(US7,"Iterate",KGD)
call TF7(US7,"LastOrder",GetIssuedOrderId())
call UnitAddAbility(C17,1093808724)
call UnitRemoveAbility(C17,1093808716)
elseif GetIssuedOrderId()==852550 then
if KGD!=null then
call T97(GetHandleId(KGD))
call UQ7(KGD)
endif
call TJ7(US7,"Iterate",null)
call TF7(US7,"LastOrder",GetIssuedOrderId())
call UnitRemoveAbility(C17,1093808716)
call UnitRemoveAbility(C17,1093808724)
elseif GetIssuedOrderId()==852547 then
if KGD!=null then
call T97(GetHandleId(KGD))
call UQ7(KGD)
endif
call TJ7(US7,"Iterate",null)
call TF7(US7,"LastOrder",GetIssuedOrderId())
call UnitRemoveAbility(C17,1093808716)
call UnitRemoveAbility(C17,1093808724)
elseif GetIssuedOrderId()==852548 and KHD!=852546 and KHD!=852546 then
call J5D(C17,1,30./ KDD)
elseif GetIssuedOrderId()==852545 and KHD!=852546 and KHD!=852546 then
call J5D(C17,0,30./ KDD)
endif
set t=null
set C17=null
set KGD=null
return false
endfunction
function KJD takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local trigger t
local integer PP7
local integer HW8=GetUnitAbilityLevel(GetTriggerUnit(),1093684056)
set EZ7="KJD"
if HW8==1 then
call SetHeroAgi(LI7,GetHeroAgi(LI7,false)+3,true)
call SetHeroStr(LI7,GetHeroStr(LI7,false)+3,true)
else
call SetHeroAgi(LI7,GetHeroAgi(LI7,false)+1,true)
call SetHeroStr(LI7,GetHeroStr(LI7,false)+1,true)
endif
if HW8==1 then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call L67(LI7,1093684055)
call TriggerRegisterUnitEvent(t,LI7,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function KFD))
call TJ7(PP7,"Iterate",null)
else
call SetUnitAbilityLevel(LI7,1093684055,HW8)
endif
set t=null
set LI7=null
endfunction
function KKD takes nothing returns boolean
return GetLearnedSkill()==1093684056 and IsUnitIllusion(GetTriggerUnit())==false and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER
endfunction
function KMD takes nothing returns nothing
local unit u8=GetTriggerUnit()
local trigger Ue
local trigger UE
local trigger Ub
local trigger UB
set EZ7="KMD"
if(GetUnitAbilityLevel(u8,1093684056)==1)then
call L67(u8,1093684055)
set UB=CreateTrigger()
call DisableTrigger(UB)
call TriggerRegisterTimerEventPeriodic(UB,1.)
call TriggerAddAction(UB,function u9)
call TJ7(GetHandleId(UB),"Morphling",u8)
set Ub=CreateTrigger()
call DisableTrigger(Ub)
call TriggerRegisterTimerEventPeriodic(Ub,1.)
call TriggerAddAction(Ub,function u7)
call TJ7(GetHandleId(Ub),"Morphling",u8)
set Ue=CreateTrigger()
call ky(Ue,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(Ue,Condition(function J1D))
call TriggerAddAction(Ue,function UC)
call TM7(GetHandleId(Ue),"MorphAgi",UB)
call TM7(GetHandleId(Ue),"MorphStr",Ub)
call TJ7(GetHandleId(Ue),"Morphling",u8)
set UE=CreateTrigger()
call ky(UE,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(UE,Condition(function JLD))
call TriggerAddAction(UE,function UA)
call TM7(GetHandleId(UE),"MorphAgi",UB)
call TM7(GetHandleId(UE),"MorphStr",Ub)
call TJ7(GetHandleId(UE),"Morphling",u8)
if(GetPlayerController(GetOwningPlayer(u8))!=MAP_CONTROL_USER)then
call TM7(GetHandleId(GetOwningPlayer(u8)),"MorphAgi",UB)
call TM7(GetHandleId(GetOwningPlayer(u8)),"MorphStr",Ub)
endif
else
call SetUnitAbilityLevel(u8,1093684055,GetUnitAbilityLevel(u8,1093684056))
endif
set u8=null
set Ue=null
set UE=null
set Ub=null
set UB=null
endfunction
function pZ takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="pZ"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function J0D))
call TriggerAddAction(t,function KJD)
set t=null
endfunction
function NQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NQ8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function KKD))
call TriggerAddAction(t,function KMD)
set t=null
endfunction
function KND takes nothing returns boolean
return GetSpellAbilityId()==1093682998 and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 and L87(GetSpellTargetUnit())==false
endfunction
function KOD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BY7=GetUnitAbilityLevel(C17,1093682998)
local unit HV8
local location JV9
local real l4
local integer JWD=GetHeroAgi(C17,true)
local integer JXD=GetHeroStr(C17,true)
local real KPD=I2R(JWD)/ I2R(JXD)
local real KQD=I2R(JXD)/ I2R(JWD)
local real KRD
local real KSD
local real KTD
local real KUD
local real D_8
local real KVD
local integer KWD
local integer KXD
local integer KYD
local string KZD
local string KAD
local string KBD
set EZ7="KOD"
if KPD<0.5 then
set KRD=0.25
set KSD=20*BY7
elseif KPD>1.5 then
set KRD=0.5*BY7
set KSD=20*BY7
else
set KRD=0.25+(KPD-0.5)*(0.5*BY7-0.25)
set KSD=20*BY7
endif
if KQD<0.5 then
set KTD=0.25
set KUD=100
elseif KQD>1.5 then
set KTD=0.75*BY7
set KUD=300
else
set KUD=100+(KQD-0.5)*200
set KTD=0.25+(KQD-0.5)*(0.75*BY7-0.25)
endif
set D_8=KSD+KRD*JWD
set KVD=KTD
set KWD=R2I(KVD)
set KXD=R2I(10*KVD-KWD*10)
set KYD=R2I(100*KVD-KXD*10-KWD*100)
set KZD=I2S(KWD)
set KAD=I2S(KXD)
set KBD=I2S(KYD)
set l4=Atan2(GetUnitY(m5)-GetUnitY(C17),GetUnitX(m5)-GetUnitX(C17))
set JV9=Location(GetUnitX(m5)+KUD*Cos(l4),GetUnitY(m5)+KUD*Sin(l4))
call SetUnitPositionLoc(m5,JV9)
call ER8(GetLocationX(JV9),GetLocationY(JV9),200)
call RemoveLocation(JV9)
call EI8("|c001ce6b9+"+I2S(R2I(D_8))+"|r |c00ff0303+"+KZD+"."+KAD+KBD+"|r",1,m5,0.023,255,255,255,216)
call HY8(C17,m5,ZG4,D_8)
call HU8(C17,m5,KVD)
set C17=null
set m5=null
set HV8=null
set JV9=null
endfunction
function NO8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NO8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KND))
call TriggerAddAction(t,function KOD)
set t=null
call DX8(1093687350)
endfunction
function KCD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer L48=(LoadInteger(L7,(PP7),(34)))-1
local texttag tt
set EZ7="KCD"
call SaveInteger(L7,(PP7),(34),(L48))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set tt=CreateTextTag()
call SetTextTagText(tt,I2S(L48),0.03)
call SetTextTagPosUnit(tt,FJ8,0)
call SetTextTagColorBJ(tt,0,29,255,15)
call SetTextTagVelocity(tt,0,0.035)
call SetTextTagFadepoint(tt,3)
call SetTextTagLifespan(tt,0.9)
call SetTextTagPermanent(tt,false)
call SetTextTagVisibility(tt,false)
if GetOwningPlayer(FJ8)==GetLocalPlayer()then
call SetTextTagVisibility(tt,true)
endif
set tt=CreateTextTag()
call SetTextTagText(tt,I2S(L48),0.03)
call SetTextTagPosUnit(tt,PU7,0)
call SetTextTagColorBJ(tt,0,29,255,15)
call SetTextTagVelocity(tt,0,0.035)
call SetTextTagFadepoint(tt,3)
call SetTextTagLifespan(tt,0.9)
call SetTextTagPermanent(tt,false)
call SetTextTagVisibility(tt,false)
if GetOwningPlayer(FJ8)==GetLocalPlayer()then
call SetTextTagVisibility(tt,true)
endif
endif
set t=null
set tt=null
set FJ8=null
set PU7=null
return false
endfunction
function K3D takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit LI7=(LoadUnitHandle(L7,(GetHandleId(t)),(14)))
local unit K6D=(LoadUnitHandle(L7,(GetHandleId(LI7)),(229)))
set EZ7="K3D"
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",GetUnitX(K6D),GetUnitY(K6D)))
call RemoveUnit(K6D)
call UnitRemoveAbility(LI7,(1093683011))
if(LoadInteger(L7,(GetHandleId(LI7)),(704)))==0 or(LoadInteger(L7,(GetHandleId(LI7)),(704)))==(1093683000)then
call SetPlayerAbilityAvailable(GetOwningPlayer(LI7),(1093683000),true)
endif
call FlushChildHashtable(L7,(GetHandleId(t)))
call UQ7((t))
set LI7=null
set K6D=null
set t=null
endfunction
function KLD takes nothing returns boolean
if GetSpellAbilityId()==(1093683011)then
return true
endif
return false
endfunction
function K1D takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local integer PP7=GetHandleId(LI7)
local unit K6D=(LoadUnitHandle(L7,(PP7),(229)))
local real x=GetUnitX(K6D)
local real y=GetUnitY(K6D)
set EZ7="K1D"
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",GetUnitX(LI7),GetUnitY(LI7)))
call KillUnit(K6D)
call SetUnitX(LI7,x)
call SetUnitY(LI7,y)
call PanCameraToTimedForPlayer(GetOwningPlayer(LI7),x,y,0)
call IssueImmediateOrder(LI7,"stop")
set LI7=null
set K6D=null
endfunction
function K0D takes nothing returns boolean
return GetUnitAbilityLevel(GetSummonedUnit(),(1110455088))>0 and GetUnitState(GetSummonedUnit(),UNIT_STATE_LIFE)>0
endfunction
function K5D takes nothing returns nothing
local unit LI7=GetSummoningUnit()
local integer PP7=GetHandleId(LI7)
local unit PU7=(LoadUnitHandle(L7,(PP7),(228)))
local unit K6D=GetSummonedUnit()
local trigger t
set EZ7="K5D"
call SetPlayerAbilityAvailable(GetOwningPlayer(LI7),(1093683000),false)
call L67(LI7,(1093683011))
call SetUnitColor(K6D,GetPlayerColor(GetOwningPlayer(PU7)))
call SaveUnitHandle(L7,(PP7),(229),(K6D))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,LI7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,K6D,EVENT_UNIT_DEATH)
call TriggerAddAction(t,function K3D)
call SaveUnitHandle(L7,(GetHandleId(t)),(14),(LI7))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,LI7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,K6D,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function KCD))
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(LI7))
call SaveUnitHandle(L7,(GetHandleId(t)),(17),(K6D))
call SaveInteger(L7,(GetHandleId(t)),(34),(GetUnitAbilityLevel(LI7,(1093683000))*15+15-1))
set LI7=null
set PU7=null
set K6D=null
set t=null
endfunction
function K2D takes nothing returns boolean
return GetSpellAbilityId()==(1093683000)
endfunction
function K_D takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
set EZ7="K_D"
call SaveUnitHandle(L7,(GetHandleId(LI7)),(228),(PU7))
set LI7=null
set PU7=null
endfunction
function M4D takes nothing returns boolean
if GetSpellAbilityId()==(1093683000)then
if GetOwningPlayer(GetSpellTargetUnit())==GetOwningPlayer(GetTriggerUnit())then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659014))
endif
endif
return false
endfunction
function NP8 takes nothing returns nothing
local trigger t
set EZ7="NP8"
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function K2D))
call TriggerAddAction(t,function K_D)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function K0D))
call TriggerAddAction(t,function K5D)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KLD))
call TriggerAddAction(t,function K1D)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function M4D))
set t=null
endfunction
function M7D takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),ZC4)==false then
call GroupAddUnit(Z34,GetEnumUnit())
call UnitRemoveAbility(GetEnumUnit(),1110454858)
call UnitRemoveAbility(GetEnumUnit(),1112896368)
call UnitRemoveAbility(GetEnumUnit(),1114993524)
endif
endfunction
function M8D takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),1110454858)
call UnitRemoveAbility(GetEnumUnit(),1112896368)
call UnitRemoveAbility(GetEnumUnit(),1114993524)
endfunction
function M9D takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),ZB4)==false then
call GroupAddUnit(ZB4,GetEnumUnit())
call SetUnitOwner(ZA4,GetOwningPlayer(GetEnumUnit()),false)
call IssueTargetOrder(ZA4,"sleep",GetEnumUnit())
endif
endfunction
function MDD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local group g
local group HPD=(LoadGroupHandle(L7,(PP7),(187)))
set EZ7="MDD"
if GetTriggerEvalCount(t)==10 then
call L67(FJ8,1093809221)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093678933,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809221,true)
endif
if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)>140 or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093809221)then
if(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==1093678933 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093678933,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809221,false)
call ForGroup(HPD,function M8D)
call L97(HPD)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set g=LD7()
set IN4=FJ8
set ZZ4=FJ8
set ZA4=HV8
set ZB4=HPD
call GroupEnumUnitsInRange(g,x,y,1250+25,Condition(function FZ8))
call ForGroup(g,function M9D)
set ZC4=g
set Z34=LD7()
call ForGroup(HPD,function M7D)
call GroupRemoveGroup(Z34,HPD)
call L97(g)
call L97(Z34)
endif
set t=null
set g=null
set FJ8=null
set HPD=null
set HV8=null
return false
endfunction
function MED takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,x,y,0)
set EZ7="MED"
call UnitAddAbility(HV8,1093678932)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MDD))
call SaveGroupHandle(L7,(PP7),(187),(LD7()))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("war3mapImported\\SongOfTheSiren_2.mdx",FJ8,"origin")))
set t=null
set FJ8=null
endfunction
function MFD takes nothing returns boolean
if GetSpellAbilityId()==1093678933 then
call MED()
endif
return false
endfunction
function NR8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NR8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MFD))
set t=null
endfunction
function MGD takes unit FJ8,unit PU7 returns nothing
local integer HW8=GetUnitAbilityLevel(FJ8,1093815125)
local integer id=1093809204
set EZ7="WaterSpray_Hit"
call HY8(FJ8,PU7,ZG4,100+30*HW8)
if HW8==2 then
set id=1093809205
elseif HW8==3 then
set id=1093809206
elseif HW8==4 then
set id=1093809207
endif
if EM9(PU7)==false then
call FR8(PU7,id,1,8)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),id,false)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl",PU7,"chest"))
set FJ8=null
set PU7=null
endfunction
function MHD takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),I87)==false then
call GroupAddUnit(I87,GetEnumUnit())
call MGD(I77,GetEnumUnit())
endif
endfunction
function MID takes nothing returns nothing
local unit FJ8=GetEnumUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local group g=LD7()
call DestroyEffect(AddSpecialEffect("war3mapImported\\RipTide09.mdx",x,y))
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function G78))
call ForGroup(g,function MHD)
call L97(g)
set t=null
set g=null
endfunction
function MJD takes nothing returns boolean
return IsUnitIllusion(GetFilterUnit())and L17(GetFilterUnit())==false
endfunction
function MKD takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local group g=LD7()
local integer i=0
set EZ7="MKD"
set I87=LD7()
set I77=FJ8
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(FJ8),Condition(function MJD))
call GroupAddUnit(g,FJ8)
call ForGroup(g,function MID)
call L97(g)
call L97(I87)
set FJ8=null
set g=null
endfunction
function MMD takes nothing returns boolean
if GetSpellAbilityId()==1093815125 then
call MKD()
endif
return false
endfunction
function NS8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NS8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MMD))
set t=null
endfunction
function MND takes unit FJ8,unit PU7,integer HW8 returns nothing
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(FJ8),GetUnitY(FJ8),0)
set EZ7="Ensnare"
call UnitAddAbility(HV8,1093681729)
call SetUnitAbilityLevel(HV8,1093681729,HW8)
call IssueTargetOrder(HV8,"ensnare",PU7)
set HV8=null
endfunction
function MOD takes nothing returns boolean
if IsUnitIllusion(GetFilterUnit())==true and GetUnitTypeId(GetFilterUnit())==1212363833 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
call MND(GetFilterUnit(),ZL4,GetUnitAbilityLevel(GetTriggerUnit(),1093809220))
endif
return false
endfunction
function MPD takes nothing returns boolean
if IsUnitIllusion(GetFilterUnit())==true and GetUnitTypeId(GetFilterUnit())==1212363833 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
call SetUnitFacing(GetFilterUnit(),IJ4)
call SetUnitAnimation(GetFilterUnit(),"spell")
endif
return false
endfunction
function MQD takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local group g=LD7()
set EZ7="MQD"
set IJ4=Q87(GetUnitX(LI7),GetUnitY(LI7),GetUnitX(ZL4),GetUnitY(ZL4))
call GroupEnumUnitsInRange(g,GetUnitX(LI7),GetUnitY(LI7),700,Condition(function MPD))
call L97(g)
set LI7=null
set g=null
endfunction
function MRD takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local unit PU7=ZL4
local group g=LD7()
set EZ7="MRD"
call GroupEnumUnitsInRange(g,GetUnitX(LI7),GetUnitY(LI7),700,Condition(function MOD))
call L97(g)
set LI7=null
set g=null
endfunction
function MSD takes nothing returns boolean
if GetSpellAbilityId()==1093809220 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
if L87(GetSpellTargetUnit())==false then
set Z64=0
set ZL4=GetSpellTargetUnit()
call MND(GetTriggerUnit(),ZL4,GetUnitAbilityLevel(GetTriggerUnit(),1093809220))
call MRD()
endif
else
call MQD()
endif
endif
return false
endfunction
function NT8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NT8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function MSD))
set t=null
endfunction
function MTD takes unit MUD returns integer
local real r=GetRandomReal(0,100)
local integer BY7=GetUnitAbilityLevel(MUD,1093679160)
local boolean MVD=SK7(MUD,ZU[FB4])!=null
local integer MWD=0
local integer id=GetPlayerId(GetOwningPlayer(MUD))
set EZ7="MC_RunChance"
set MVD=false
if BY7==1 then
set TI4[id]=TI4[id]+1
if MVD then
if r<30 then
set TG4[id]=TG4[id]+1
set MWD=3
elseif r<60 then
set TF4[id]=TF4[id]+1
set MWD=2
endif
else
if r<25 then
set MWD=2
set TF4[id]=TF4[id]+1
endif
endif
elseif BY7==2 then
set TI4[id]=TI4[id]+1
if MVD then
if r<17.5 then
set MWD=4
set TH4[id]=TH4[id]+1
elseif r<35 then
set MWD=3
set TG4[id]=TG4[id]+1
elseif r<70 then
set MWD=2
set TF4[id]=TF4[id]+1
endif
else
if r<20 then
set MWD=3
set TG4[id]=TG4[id]+1
elseif r<40 then
set MWD=2
set TF4[id]=TF4[id]+1
endif
endif
elseif BY7==3 then
set TI4[id]=TI4[id]+1
if MVD then
if r<10 then
set MWD=5
set N4[id]=N4[id]+1
elseif r<20 then
set MWD=4
set TH4[id]=TH4[id]+1
elseif r<40 then
set MWD=3
set TG4[id]=TG4[id]+1
elseif r<80 then
set MWD=2
set TF4[id]=TF4[id]+1
endif
else
if r<12.5 then
set MWD=4
set TH4[id]=TH4[id]+1
elseif r<25 then
set MWD=3
set TG4[id]=TG4[id]+1
elseif r<50 then
set MWD=2
set TF4[id]=TF4[id]+1
endif
endif
endif
return MWD
endfunction
function MXD takes nothing returns boolean
local unit m5=GetFilterUnit()
local unit C17=GetTriggerUnit()
set EZ7="MXD"
if IsUnitAlly(m5,GetOwningPlayer(C17))and GetUnitState(m5,UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(m5,1113746543)==0 then
if(GetOwningPlayer(m5)==Z7[0]or GetOwningPlayer(m5)==A7[0])then
if(GetUnitTypeId(m5)==1969711215 or GetUnitTypeId(m5)==1966092337 or GetUnitTypeId(m5)==1970169187 or GetUnitTypeId(m5)==1966092338)then
set m5=null
set C17=null
return true
endif
if(GetUnitTypeId(m5)==1702061422 or GetUnitTypeId(m5)==1697656918 or GetUnitTypeId(m5)==1701081721 or GetUnitTypeId(m5)==1697656919)then
set m5=null
set C17=null
return true
endif
return false
elseif IsUnitType(m5,UNIT_TYPE_HERO)==true then
set m5=null
set C17=null
return true
elseif GetOwningPlayer(m5)==GetOwningPlayer(C17)then
set m5=null
set C17=null
return true
endif
endif
set m5=null
set C17=null
return false
endfunction
function MYD takes integer r returns nothing
local unit C17=GetTriggerUnit()
local integer BY7=r
local group JJ8=LD7()
local unit HV8
local unit K68
local integer MZD=GetSpellAbilityId()
local integer T8=1
set EZ7="Bloodlust"
if r==2 then
call EI8(GetObjectName(1848658743),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==3 then
call EI8(GetObjectName(1848658516),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==4 then
call EI8(GetObjectName(1848658744),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==5 then
call EI8(GetObjectName(1848658511),5,GetTriggerUnit(),0.03,255,0,0,255)
endif
set r=r-1
call GroupEnumUnitsInRange(JJ8,GetUnitX(C17),GetUnitY(C17),600,Condition(function MXD))
if C17!=GetSpellTargetUnit()then
call GroupAddUnit(JJ8,C17)
endif
loop
exitwhen T8>BY7
set T8=T8+1
set HV8=CreateUnit(GetOwningPlayer(C17),1697656899,GetUnitX(C17),GetUnitY(C17),270)
call S17(HV8)
call L67(HV8,MZD)
call SetUnitAbilityLevel(HV8,MZD,GetUnitAbilityLevel(C17,MZD))
call UnitApplyTimedLife(HV8,1112820806,1.0)
set K68=GroupPickRandomUnit(JJ8)
call S67(HV8,"bloodlust",K68)
call SetUnitPathing(HV8,false)
call SetUnitInvulnerable(HV8,true)
call L67(HV8,1097625443)
call GroupRemoveUnit(JJ8,K68)
endloop
call L97(JJ8)
set C17=null
set JJ8=null
set HV8=null
set K68=null
endfunction
function MAD takes nothing returns boolean
local integer r
set EZ7="MAD"
if GetUnitAbilityLevel(GetTriggerUnit(),1093679160)>0 and(GetSpellAbilityId()==1093679155 or GetSpellAbilityId()==1093679177 or GetSpellAbilityId()==1093679175 or GetSpellAbilityId()==1093679174)then
set r=MTD(GetTriggerUnit())
if r>1 then
call MYD(r)
endif
endif
return false
endfunction
function NV8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NV8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MAD))
set t=null
endfunction
function MBD takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
call L67(HV8,1093815122)
call IssueTargetOrder(HV8,"thunderbolt",PU7)
set FJ8=null
set PU7=null
set HV8=null
endfunction
function MCD takes nothing returns nothing
local unit FJ8=IN4
call L67(FJ8,1093815121)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093815121,true)
call TI7(GetHandleId(FJ8),"AI|Magi2Blast",true)
set FJ8=null
endfunction
function M3D takes nothing returns nothing
local unit FJ8=IN4
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093815121,false)
set FJ8=null
endfunction
function M6D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local unit p5=T37(US7,"Source")
local integer MLD=U97(US7,"Iterations")
local integer BY7=U97(US7,"Level")
local integer M1D=U97(US7,"Spell")
local unit HV8
set EZ7="M6D"
if GetTriggerEvalCount(t)>MLD then
call T97(US7)
call UQ7(t)
else
set HV8=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
if M1D==1093815121 then
set M1D=1093815122
endif
call L67(HV8,M1D)
call SetUnitAbilityLevel(HV8,M1D,BY7)
call IssueTargetOrder(HV8,"thunderbolt",m5)
endif
set t=null
set m5=null
set p5=null
set HV8=null
return false
endfunction
function M0D takes integer r returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer M1D=GetSpellAbilityId()
local integer BY7=GetUnitAbilityLevel(p5,M1D)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="Fireblast"
if r==2 then
call EI8(GetObjectName(1848658743),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==3 then
call EI8(GetObjectName(1848658516),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==4 then
call EI8(GetObjectName(1848658744),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==5 then
call EI8(GetObjectName(1848658511),5,GetTriggerUnit(),0.03,255,0,0,255)
endif
set r=r-1
call TJ7(US7,"Target",m5)
call TJ7(US7,"Source",p5)
call TF7(US7,"Iterations",r)
call TF7(US7,"Level",BY7)
call TF7(US7,"Spell",M1D)
call TriggerRegisterTimerEvent(t,0.3,true)
call TriggerAddCondition(t,Condition(function M6D))
set t=null
set m5=null
set p5=null
endfunction
function M5D takes nothing returns boolean
local integer r
set EZ7="M5D"
if GetUnitAbilityLevel(GetTriggerUnit(),1093679160)>0 and L87(GetSpellTargetUnit())==false and(GetSpellAbilityId()==1093678167 or GetSpellAbilityId()==1093679172 or GetSpellAbilityId()==1093679169 or GetSpellAbilityId()==1093679161 or GetSpellAbilityId()==1093815121)then
set r=MTD(GetTriggerUnit())
if r>1 and((LoadInteger(L7,(GetHandleId((GetSpellTargetUnit()))),((4322))))==1)==false then
call M0D(r)
endif
endif
if L87(GetSpellTargetUnit())==false and GetSpellAbilityId()==1093815121 then
call MBD()
endif
return false
endfunction
function M2D takes nothing returns boolean
local integer id=GetPlayerId(GetTriggerPlayer())
local string KZD
local string KAD
local string KBD
local string M_D
local string N4D
local string str6
set EZ7="M2D"
if TI4[id]>0 then
set KZD=GetObjectName(1848658504)+" "+I2S(TI4[id])
set KAD=GetObjectName(1848658509)+" "+I2S(TF4[id]+TG4[id]+TH4[id]+N4[id])+" ("+I2S((TF4[id]+TG4[id]+TH4[id]+N4[id])*100/ TI4[id])+"%)"
set KBD=GetObjectName(1848658508)+" "+I2S(TF4[id])+" ("+I2S(100*TF4[id]/ TI4[id])+"%)"
set M_D=GetObjectName(1848658507)+" "+I2S(TG4[id])+" ("+I2S(100*TG4[id]/ TI4[id])+"%)"
set N4D=GetObjectName(1848658506)+" "+I2S(TH4[id])+" ("+I2S(100*TH4[id]/ TI4[id])+"%)"
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,KZD)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,KAD)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,KBD)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,M_D)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,N4D)
endif
return false
endfunction
function NU8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NU8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function M5D))
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function M2D))
set t=null
endfunction
function N7D takes nothing returns boolean
return GetSpellAbilityId()==1093679182
endfunction
function Uu takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)!=1 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function UU takes nothing returns nothing
call HY8(GetTriggerUnit(),GetEnumUnit(),ZI4,F8)
endfunction
function N8D takes nothing returns nothing
local boolexpr hP=Condition(function Uu)
local group JJ8=LD7()
local real x=GetUnitX(GetSpellTargetUnit())
local real y=GetUnitY(GetSpellTargetUnit())
set EZ7="N8D"
set F8=90*GetUnitAbilityLevel(GetTriggerUnit(),1093679182)
call GroupEnumUnitsInRange(JJ8,x,y,250,hP)
call ForGroup(JJ8,function UU)
if GetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE)>1 then
call SetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE,GetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE)+F8)
endif
call L97(JJ8)
call DestroyBoolExpr(hP)
set JJ8=null
set hP=null
endfunction
function PN takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PN"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function N7D))
call TriggerAddAction(t,function N8D)
set t=null
endfunction
function N9D takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==K34[21]and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())and IsUnitIllusion(GetFilterUnit())==false then
set IN4=GetFilterUnit()
endif
return false
endfunction
function NDD takes nothing returns nothing
local unit NED=GetTriggerUnit()
local unit p5
local group g=LD7()
local real x
local real y
set EZ7="NDD"
set IN4=null
call GroupEnumUnitsInRange(g,GetUnitX(NED),GetUnitY(NED),1000,Condition(function N9D))
call L97(g)
set p5=IN4
if p5!=null then
set x=GetUnitX(p5)
set y=GetUnitY(p5)
call SetUnitPosition(NED,x,y)
endif
set x=GetUnitX(NED)+600*Cos(GetUnitFacing(NED)*bj_DEGTORAD)
set y=GetUnitY(NED)+600*Sin(GetUnitFacing(NED)*bj_DEGTORAD)
call IssuePointOrder(NED,"move",x,y)
set NED=null
set p5=null
set g=null
endfunction
function NFD takes nothing returns boolean
if GetUnitAbilityLevel(GetTriggerUnit(),1110455105)>0 then
call NDD()
endif
return false
endfunction
function Po takes nothing returns nothing
local trigger t=CreateTrigger()
local region r=CreateRegion()
set EZ7="Po"
call RegionAddRect(r,bj_mapInitialPlayableArea)
call TriggerRegisterEnterRegion(t,r,null)
call TriggerAddCondition(t,Condition(function NFD))
set t=null
set r=null
endfunction
function NGD takes nothing returns boolean
return((IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(UnitHasBuffBJ(GetAttacker(),1110455106))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_ANCIENT)))
endfunction
function NHD takes nothing returns boolean
if GetUnitAbilityLevel(GetFilterUnit(),1110455106)>0 then
set IH4=IH4+1
endif
return false
endfunction
function NID takes nothing returns nothing
local unit NJD=GetAttacker()
local group g=LD7()
local integer NKD=GetRandomInt(1,100)
local integer NMD=GetUnitAbilityLevel(NJD,1093682242)
local integer NND=GetUnitAbilityLevel(NJD,1093687627)
local unit HV8
local integer NOD=2*NMD
local integer NPD=12
set EZ7="NID"
set IH4=0
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(NJD),Condition(function NHD))
call L97(g)
if IH4<NOD then
if IsUnitIllusion(NJD)==false and NKD<=(NPD+2*NND)then
set HV8=CreateUnit(GetOwningPlayer(NJD),1697656901,GetUnitX(NJD),GetUnitY(NJD),0)
call L67(HV8,1093682244)
call IssueTargetOrderById(HV8,852274,NJD)
endif
if IsUnitIllusion(NJD)==true and NKD<=(1+2*NND)and NND>0 then
set HV8=CreateUnit(GetOwningPlayer(NJD),1697656901,GetUnitX(NJD),GetUnitY(NJD),0)
call L67(HV8,1093682244)
call IssueTargetOrderById(HV8,852274,NJD)
endif
endif
set NJD=null
set g=null
set HV8=null
endfunction
function PO takes nothing returns nothing
set dU=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dU,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(dU,Condition(function NGD))
call TriggerAddAction(dU,function NID)
endfunction
function NQD takes nothing returns boolean
local unit NRD=GetSummonedUnit()
local unit oA
local unit m5
set EZ7="NQD"
if GetUnitAbilityLevel(NRD,1110456632)>0 then
set oA=GetSummoningUnit()
set m5=T37(GetHandleId(oA),"SpiritTarget")
call SetUnitX(NRD,GetUnitX(m5))
call SetUnitY(NRD,GetUnitY(m5))
call IssueTargetOrder(NRD,"attack",m5)
endif
set NRD=null
set oA=null
set m5=null
return false
endfunction
function NSD takes player p,unit m5,integer BY7 returns nothing
local unit oA=CreateUnit(p,1697656901,GetUnitX(m5),GetUnitX(m5),0)
local integer NTD
set EZ7="SpiritLance_CreateImage"
call TJ7(GetHandleId(oA),"SpiritTarget",m5)
if BY7==1 then
set NTD=1093742664
elseif BY7==2 then
set NTD=1093742663
elseif BY7==3 then
set NTD=1093742665
else
set NTD=1093742662
endif
call L67(oA,NTD)
call IssueTargetOrderById(oA,852274,M7[GetPlayerId(p)])
set oA=null
endfunction
function NUD takes player p,unit PU7,integer BY7,boolean NVD,boolean NWD returns nothing
local real CV9=50+50*BY7
local unit HV8
if NWD then
set HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
call L67(HV8,1093742659)
call SetUnitAbilityLevel(HV8,1093742659,BY7)
call IssueTargetOrder(HV8,"cripple",PU7)
call HY8(M7[GetPlayerId(p)],PU7,ZG4,CV9)
if NVD then
call NSD(p,PU7,BY7)
endif
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl",PU7,"origin"))
set HV8=null
endfunction
function NXD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local player p=TL7(US7,"SourcePlayer")
local unit m5=T37(US7,"Target")
local integer BY7=U97(US7,"Level")
local boolean NWD=UE7(US7,"damage")
local unit IJ=T37(US7,"Projectile")
local real x=GetUnitX(IJ)
local real y=GetUnitY(IJ)
local real hN=GetUnitX(m5)
local real ho=GetUnitY(m5)
local real Ik=1000*0.035
local real IK=Q87(x,y,hN,ho)
local real Il=x+Ik*Cos(IK*bj_DEGTORAD)
local real IL=y+Ik*Sin(IK*bj_DEGTORAD)
set EZ7="NXD"
call SetUnitX(IJ,Il)
call SetUnitY(IJ,IL)
call SetUnitFacing(IJ,IK)
if Q07(hN,ho,Il,IL)<=Ik then
call NUD(p,m5,BY7,true,NWD)
call KillUnit(IJ)
call T97(US7)
call UQ7(t)
endif
set t=null
set m5=null
set IJ=null
return false
endfunction
function NYD takes unit p5,integer BY7,unit m5,boolean NWD returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit IJ=CreateUnit(GetOwningPlayer(p5),1747990092,GetUnitX(p5),GetUnitY(p5),Q87(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5)))
set EZ7="G6v"
call TQ7(US7,"SourcePlayer",GetOwningPlayer(p5))
call TJ7(US7,"Target",m5)
call TI7(US7,"damage",NWD)
call TJ7(US7,"Projectile",IJ)
call TF7(US7,"Level",BY7)
call TriggerRegisterTimerEvent(t,0.035,true)
call TriggerAddCondition(t,Condition(function NXD))
set t=null
set IJ=null
endfunction
function NZD takes nothing returns boolean
if IsUnitIllusion(GetFilterUnit())==true and GetUnitTypeId(GetFilterUnit())==1332179560 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
call NYD(GetFilterUnit(),GetUnitAbilityLevel(GetTriggerUnit(),1093742660),GetSpellTargetUnit(),false)
endif
return false
endfunction
function NAD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local integer BY7=GetUnitAbilityLevel(C17,1093742660)
local unit m5=GetSpellTargetUnit()
local group g=LD7()
local boolean NBD=L87(GetSpellTargetUnit())
set EZ7="NAD"
call GroupEnumUnitsInRange(g,GetUnitX(C17),GetUnitY(C17),700,Condition(function NZD))
if NBD then
call NYD(C17,BY7,m5,false)
else
call NYD(C17,BY7,m5,true)
endif
call L97(g)
set C17=null
set m5=null
set g=null
endfunction
function NCD takes nothing returns boolean
if IsUnitIllusion(GetFilterUnit())==true and GetUnitTypeId(GetFilterUnit())==1332179560 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
call SetUnitFacing(GetFilterUnit(),IJ4)
call SetUnitAnimation(GetFilterUnit(),"spell")
endif
return false
endfunction
function N3D takes nothing returns nothing
local unit C17=GetTriggerUnit()
local group g=LD7()
set EZ7="N3D"
set IJ4=Q87(GetUnitX(C17),GetUnitY(C17),GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))
call GroupEnumUnitsInRange(g,GetUnitX(C17),GetUnitY(C17),700,Condition(function NCD))
call L97(g)
set C17=null
set g=null
endfunction
function N6D takes nothing returns boolean
if GetSpellAbilityId()==1093742660 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call NAD()
else
call N3D()
endif
endif
return false
endfunction
function NW8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NW8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function N6D))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function N6D))
call DX8(1093742659)
call DX8(1093742664)
call DX8(1093742663)
call DX8(1093742665)
call DX8(1093742662)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function NQD))
set t=null
endfunction
function NLD takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit oA=CreateUnit(GetOwningPlayer(u),1697656901,GetUnitX(u),GetUnitY(u),0)
set EZ7="NLD"
call L67(oA,1093682243)
call IssueTargetOrderById(oA,852274,u)
set u=null
set oA=null
endfunction
function N1D takes nothing returns boolean
if GetSpellAbilityId()==1093682231 then
call NLD()
endif
return false
endfunction
function NX8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NX8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function N1D))
set t=null
endfunction
function N0D takes nothing returns boolean
return GetSpellAbilityId()==1093678938
endfunction
function U4 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0
endfunction
function U5 takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit oA=CreateUnit(GetOwningPlayer(C17),1697657394,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),270)
set EZ7="U5"
call L67(oA,1093678676)
call SetUnitAbilityLevel(oA,1093678676,GetUnitAbilityLevel(C17,1093678938))
call IssueTargetOrderById(oA,852171,GetEnumUnit())
set C17=null
set oA=null
endfunction
function N5D takes nothing returns nothing
local unit C17=GetTriggerUnit()
local group JJ8=LD7()
local boolexpr hP=Condition(function U4)
set EZ7="N5D"
call GroupEnumUnitsInRange(JJ8,GetUnitX(C17),GetUnitY(C17),650,hP)
call ForGroup(JJ8,function U5)
call DestroyBoolExpr(hP)
call L97(JJ8)
set C17=null
set JJ8=null
endfunction
function NY8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NY8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function N0D))
call TriggerAddAction(t,function N5D)
set t=null
endfunction
function N2D takes unit p5,integer BY7 returns nothing
local unit HV8=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)
set EZ7="NaturesGuise_Add"
call L67(HV8,1093748546)
call SetUnitAbilityLevel(HV8,1093748546,BY7)
call IssueTargetOrder(HV8,"invisibility",p5)
call L67(p5,1093808975)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093808975,false)
set HV8=null
endfunction
function N_D takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1747993172
endfunction
function O4D takes unit O7D returns boolean
local group g=LD7()
local boolean O8D=false
set EZ7="NaturesGuise_FindSentinel"
call GroupEnumUnitsInRange(g,GetUnitX(O7D),GetUnitY(O7D),375,Condition(function N_D))
if FirstOfGroup(g)!=null then
set O8D=true
endif
call L97(g)
set g=null
return O8D
endfunction
function O9D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer HB8=U97(US7,"TargetIndex")
local unit AP7=A87(HB8)
local integer ZU9=U97(US7,"Count")
local integer BY7=U97(US7,"Level")
local real FP9=(LoadReal(L7,(US7),(442)))
set EZ7="O9D"
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED and GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT then
set ZU9=ZU9+1
call TF7(US7,"Count",ZU9)
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093677402 and GetTriggerUnit()==AP7 then
call SaveReal(L7,(US7),(442),(((TimerGetElapsed(W))+1.0)*1.0))
call DisableTrigger(GetTriggeringTrigger())
call N2D(AP7,BY7)
call EnableTrigger(GetTriggeringTrigger())
call TF7(US7,"Count",0)
endif
if nA(GetUnitX(AP7),GetUnitY(AP7),375)==false and O4D(AP7)==false then
if FP9<(TimerGetElapsed(W))or GetTriggerEvalCount(t)==1 then
call UnitRemoveAbility(AP7,1110454833)
call UnitRemoveAbility(AP7,1093748545)
call UnitRemoveAbility(AP7,1093808975)
call UnitRemoveAbility(AP7,1110459705)
call T97(US7)
call UQ7(t)
endif
elseif(UE7(US7,"NaturesGuise|Special")and ZU9>(150*BY7))then
call UnitRemoveAbility(AP7,1110454833)
call UnitRemoveAbility(AP7,1093748545)
call UnitRemoveAbility(AP7,1093808975)
call UnitRemoveAbility(AP7,1110459705)
call T97(US7)
call UQ7(t)
elseif UE7(US7,"NaturesGuise|Special")and GetUnitAbilityLevel(AP7,1110454833)==0 and GetUnitAbilityLevel(AP7,1093748545)>0 then
call SaveReal(L7,(US7),(442),(((TimerGetElapsed(W))+1.0)*1.0))
call DisableTrigger(GetTriggeringTrigger())
call N2D(AP7,BY7)
call EnableTrigger(GetTriggeringTrigger())
elseif GetUnitAbilityLevel(AP7,1110454833)==0 then
call UnitRemoveAbility(AP7,1110454833)
call UnitRemoveAbility(AP7,1093748545)
call UnitRemoveAbility(AP7,1093808975)
call UnitRemoveAbility(AP7,1110459705)
call T97(US7)
call UQ7(t)
else
call SaveReal(L7,(US7),(442),(((TimerGetElapsed(W))+1.0)*1.0))
endif
set t=null
set AP7=null
return false
endfunction
function ODD takes nothing returns nothing
local unit AP7=GetAttacker()
local integer AW7=GetHandleId(AP7)
local trigger t=T07(AW7,"Nature|Trg")
local integer CK7=GetHandleId(t)
set EZ7="ODD"
if UE7(CK7,"NaturesGuise|Special")and GetAttacker()==AP7 then
call UnitRemoveAbility(AP7,1110454833)
call UnitRemoveAbility(AP7,1093748545)
call T97(CK7)
call UQ7(t)
endif
set AP7=null
set t=null
endfunction
function OED takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1110454833)>0 or GetUnitAbilityLevel(GetAttacker(),1093748545)>0 then
call ODD()
endif
return false
endfunction
function OFD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
if GetUnitAbilityLevel(FJ8,1110454833)>0 then
call L67(FJ8,1093748545)
endif
endif
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set FJ8=null
return false
endfunction
function OGD takes nothing returns nothing
local trigger t
local integer US7
set EZ7="OGD"
set t=CreateTrigger()
set US7=GetHandleId(t)
call TF7(US7,"TargetIndex",AD7(GetSpellTargetUnit()))
call TF7(US7,"Level",GetUnitAbilityLevel(GetTriggerUnit(),1093677402))
call TF7(US7,"Count",0)
call SaveReal(L7,(US7),(442),(((TimerGetElapsed(W))+1.0)*1.0))
call TriggerAddCondition(t,Condition(function O9D))
call TriggerRegisterTimerEvent(t,0.1,true)
call L67(GetSpellTargetUnit(),1093808975)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetSpellTargetUnit()),1093808975,false)
if GetTriggerUnit()==GetSpellTargetUnit()then
call TI7(US7,"NaturesGuise|Special",true)
call TM7(GetHandleId(GetSpellTargetUnit()),"Nature|Trg",t)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
set t=CreateTrigger()
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(GetTriggerUnit()))
call TriggerAddCondition(t,Condition(function OFD))
call TriggerRegisterTimerEvent(t,2,false)
call TriggerRegisterDeathEvent(t,GetTriggerUnit())
endif
set t=null
endfunction
function OHD takes nothing returns boolean
if GetSpellAbilityId()==1093677402 then
call OGD()
endif
return false
endfunction
function NZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NZ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OHD))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function OED))
set t=null
endfunction
function OID takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local real OJD=(LoadReal(L7,(GetHandleId(PU7)),(686)))
set EZ7="OID"
if GetTriggerEventId()==EVENT_WIDGET_DEATH or OJD<(TimerGetElapsed(W))or C37(PU7)then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call SaveReal(L7,(GetHandleId(PU7)),(686),((0)*1.0))
call UnitRemoveAbility(PU7,1093809232)
call UnitRemoveAbility(PU7,1093809232)
call UnitRemoveAbility(PU7,1093809232)
call UnitRemoveAbility(PU7,1093809232)
call UnitRemoveAbility(PU7,1110459719)
else
call HY8(FJ8,PU7,ZG4,15+15*HW8)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function OKD takes unit FJ8,unit PU7 returns nothing
local trigger t
local integer PP7
local real OJD=(LoadReal(L7,(GetHandleId(PU7)),(686)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093748535)
set EZ7="Sentinel_Hit"
if OJD>(TimerGetElapsed(W))then
call SaveReal(L7,(GetHandleId(PU7)),(686),(((TimerGetElapsed(W))+4)*1.0))
else
set t=CreateTrigger()
set PP7=GetHandleId(t)
call SaveReal(L7,(GetHandleId(PU7)),(686),(((TimerGetElapsed(W))+4)*1.0))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerAddCondition(t,Condition(function OID))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\AcidBomb\\BottleImpact.mdl",PU7,"overhead")))
if HW8==1 then
call L67(PU7,1093809232)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093809232,false)
elseif HW8==2 then
call L67(PU7,1093809232)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093809232,false)
elseif HW8==3 then
call L67(PU7,1093809232)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093809232,false)
elseif HW8==4 then
call L67(PU7,1093809232)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093809232,false)
endif
endif
set t=null
endfunction
function Sentinel_FindClosest takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(TS4)and(GetUnitTypeId(GetFilterUnit())==1747993172 or GetUnitTypeId(GetFilterUnit())==1747993173)then
if Q07(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),TT4,TU4)<TV4 then
set TR4=GetFilterUnit()
set TV4=Q07(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),TT4,TU4)
endif
endif
return false
endfunction
function OMD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7
local group g
local real CF8=(LoadReal(L7,(PP7),(442)))
local real x
local real y
local integer BU7
local real hp
local integer L48=(LoadInteger(L7,(PP7),(34)))
set EZ7="OMD"
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_DEATH then
set L48=L48+1
call SaveInteger(L7,(PP7),(34),(L48))
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH then
if GetTriggerUnit()==HV8 then
call UnitRemoveAbility(HV8,1097886070)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
elseif GetUnitTypeId(HV8)==1747993172 then
set IN4=HV8
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(HV8),GetUnitY(HV8),110,Condition(function G78))
set PU7=T19(g,GetUnitX(HV8),GetUnitY(HV8))
call L97(g)
if PU7!=null then
call OKD(FJ8,PU7)
set x=GetUnitX(HV8)
set y=GetUnitY(HV8)
set hp=GetUnitState(HV8,UNIT_STATE_LIFE)
call ShowUnit(HV8,false)
call DisableTrigger(t)
call KillUnit(HV8)
call EnableTrigger(t)
set HV8=CreateUnit(GetOwningPlayer(FJ8),1747993173,x,y,0)
call SetUnitState(HV8,UNIT_STATE_LIFE,hp)
call UnitApplyTimedLife(HV8,1112820806,480-((TimerGetElapsed(W))-CF8))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call SaveReal(L7,(PP7),(411),(((TimerGetElapsed(W))+4)*1.0))
endif
elseif GetUnitTypeId(HV8)==1747993173 and(LoadReal(L7,(PP7),(411)))<(TimerGetElapsed(W))then
set x=GetUnitX(HV8)
set y=GetUnitY(HV8)
set hp=GetUnitState(HV8,UNIT_STATE_LIFE)
call ShowUnit(HV8,false)
call DisableTrigger(t)
call KillUnit(HV8)
call EnableTrigger(t)
set HV8=CreateUnit(GetOwningPlayer(FJ8),1747993172,x,y,0)
call SetUnitState(HV8,UNIT_STATE_LIFE,hp)
call UnitApplyTimedLife(HV8,1112820806,480-((TimerGetElapsed(W))-CF8))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
endif
set t=null
set FJ8=null
set PU7=null
set HV8=null
set g=null
return false
endfunction
function OND takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093748535)
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1747993172,x,y,0)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="OND"
call UnitApplyTimedLife(HV8,1112820806,480)
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function OMD))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(442),(((TimerGetElapsed(W)))*1.0))
call SaveInteger(L7,(PP7),(34),(0))
set t=null
set FJ8=null
set HV8=null
endfunction
function OOD takes nothing returns boolean
if GetSpellAbilityId()==1093748535 then
call OND()
endif
return false
endfunction
function NB8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NB8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OOD))
set t=null
endfunction
function OPD takes nothing returns nothing
local unit F3D=GetTriggerUnit()
local integer RE7=GetUnitAbilityLevel(F3D,1093748535)
local real x=0.
local real y=0.
local unit OQD=null
local trigger t=null
local integer CT7=0
local unit PN7=null
local unit u=null
local group g=null
local boolexpr b=Condition(function WA7)
set EZ7="OPD"
if((AK7(GetOwningPlayer(F3D))))then
set t=CreateTrigger()
set CT7=GetHandleId(t)
set g=CreateGroup()
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(F3D),800,Condition(function WA7))
if(not QT7(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen IsUnitEnemy(u,GetOwningPlayer(F3D))
endloop
set PN7=u
endif
call DestroyGroup(g)
if(PN7!=null)then
set x=GetUnitX(PN7)+GetRandomReal(-10.,10.)
set y=GetUnitY(PN7)+GetRandomReal(-10.,10.)
else
set x=GetUnitX(F3D)+GetRandomReal(-10.,10.)
set y=GetUnitY(F3D)+GetRandomReal(-10.,10.)
endif
set OQD=CreateUnit(GetOwningPlayer(F3D),1747993172,x,y,0)
call UnitApplyTimedLife(OQD,1112820806,480)
call TriggerRegisterUnitEvent(t,OQD,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,F3D,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function OMD))
call SaveUnitHandle(L7,(CT7),(19),(OQD))
call SaveUnitHandle(L7,(CT7),(2),(F3D))
call SaveReal(L7,(CT7),(442),(((TimerGetElapsed(W)))*1.0))
call UnitAddAbility(F3D,1093751126)
call CO7(F3D,OQD)
endif
set t=null
set F3D=null
set OQD=null
call DestroyBoolExpr(b)
set PN7=null
set g=null
set u=null
endfunction
function ORD takes nothing returns nothing
local unit PU7=GetEnumUnit()
local real d=Q07(GetUnitX(PU7),GetUnitY(PU7),IV7,IW7)
if d<IU7 and IsUnitVisible(PU7,GetOwningPlayer(IX7))==true and(IsUnitType(PU7,UNIT_TYPE_HERO)==true or(IsUnitType(PU7,UNIT_TYPE_STRUCTURE)==true and F_8(PU7)))then
set IT7=GetEnumUnit()
set IU7=d
endif
set PU7=null
endfunction
function OSD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer L48=(LoadInteger(L7,(PP7),(34)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>5 then
set L48=L48+1
call SaveInteger(L7,(PP7),(34),(L48))
call E48(PU7,RMinBJ(GetEventDamage(),20*GetUnitAbilityLevel(FJ8,1093815628)))
endif
endif
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or L48>6 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveAbility(PU7,1093815640)
call UnitRemoveAbility(PU7,1093815641)
call UnitRemoveAbility(PU7,1093815639)
call UnitRemoveAbility(PU7,1093815638)
call UnitRemoveAbility(PU7,1110460213)
endif
set t=null
set PU7=null
set FJ8=null
return false
endfunction
function OTD takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local integer OUD=1093815640
local integer HW8=GetUnitAbilityLevel(FJ8,1093815628)
local group g
if PU7==null then
set IT7=null
set IX7=FJ8
set IU7=999999
set IV7=GetSpellTargetX()
set IW7=GetSpellTargetY()
set IN4=FJ8
set g=LD7()
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function HD8))
call ForGroup(g,function ORD)
call L97(g)
set PU7=IT7
set g=null
endif
if HW8==2 then
set OUD=1093815641
elseif HW8==3 then
set OUD=1093815639
elseif HW8==4 then
set OUD=1093815638
endif
call L67(PU7,OUD)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),OUD,false)
call TriggerRegisterTimerEvent(t,15,false)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function OSD))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveInteger(L7,(PP7),(34),(0))
set t=null
set PU7=null
set FJ8=null
endfunction
function OVD takes nothing returns boolean
if GetSpellAbilityId()==1093815628 then
call OTD()
endif
return false
endfunction
function NA8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NA8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OVD))
set t=null
endfunction
function OWD takes nothing returns nothing
local integer PP7=GetHandleId(GetTriggeringTrigger())
local unit FJ8=IN4
local unit PU7=IP4
local real OXD=(LoadReal(L7,(PP7),(21)))
set EZ7="OWD"
call SetUnitState(PU7,UNIT_STATE_LIFE,GetUnitState(PU7,UNIT_STATE_LIFE)+OXD)
set FJ8=null
set PU7=null
endfunction
function OYD takes nothing returns nothing
local trigger t=E68(B84,GetEnumUnit(),1747993656,"OWD",400)
local integer PP7=GetHandleId(t)
set EZ7="OYD"
call SaveReal(L7,(PP7),(21),((B94)*1.0))
set t=null
endfunction
function OZD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local group g
local integer L48=(LoadInteger(L7,(PP7),(34)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveAbility(PU7,1093809971)
call UnitRemoveAbility(PU7,1110459724)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
else
set L48=L48+1
call SaveInteger(L7,(PP7),(34),(L48))
if L48>3 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveAbility(PU7,1093809971)
call UnitRemoveAbility(PU7,1110459724)
endif
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl",PU7,"origin"))
set IN4=FJ8
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(PU7),GetUnitY(PU7),525,Condition(function GV8))
set B84=PU7
set B94=15+15*HW8
call ForGroup(g,function OYD)
call L97(g)
call HY8(FJ8,PU7,ZG4,B94)
endif
set t=null
set FJ8=null
set PU7=null
set g=null
return false
endfunction
function OAD takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093809742)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="OAD"
call L67(PU7,1093809971)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093809971,false)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function OZD))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(442),(((TimerGetElapsed(W)))*1.0))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveInteger(L7,(PP7),(34),(0))
set t=null
set FJ8=null
endfunction
function OBD takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
set EZ7="OBD"
call E68(FJ8,PU7,1747993657,"OAD",600)
set FJ8=null
set PU7=null
endfunction
function OCD takes nothing returns boolean
if GetSpellAbilityId()==1093809742 and L87(GetSpellTargetUnit())==false then
call OAD()
endif
return false
endfunction
function NC8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NC8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OCD))
set t=null
endfunction
function O3D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local integer BY7=U97(US7,"Level")
local integer ZU9=U97(US7,"Count")
if GetTriggerEventId()!=EVENT_UNIT_DEATH and GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and ZU9<(6)then
set ZU9=ZU9+1
call TF7(US7,"Count",ZU9)
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-8*BY7)
call HY8(p5,m5,ZG4,5+15*BY7)
elseif ZU9>=(6)or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()!=1093743191 and GetSpellAbilityId()!=1093682767 and GetSpellAbilityId()!=1093750095 and GetSpellAbilityId()!=1093747504 and GetSpellAbilityId()!=1093753417 and GetSpellAbilityId()!=1093810265 and JY8(GetSpellAbilityId())==false and(BR7(GetSpellAbilityId())or GetSpellAbilityId()==1093678667))then
call DestroyEffect(T27(US7,"FX"))
call UnitRemoveAbility(m5,1093750867)
call UnitRemoveAbility(m5,1110459217)
call T97(US7)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function O6D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer BY7=GetUnitAbilityLevel(p5,1093743692)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="O6D"
call L67(m5,1093750867)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function O3D))
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TK7(US7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareTarget.mdl",m5,"overhead"))
call TF7(US7,"Level",BY7)
call TF7(US7,"Count",0)
set p5=null
set m5=null
set t=null
endfunction
function OLD takes nothing returns nothing
local group g=LD7()
local location l=GetSpellTargetLoc()
set EZ7="OLD"
set IN4=GetTriggerUnit()
set oZ=GetTriggerUnit()
call GroupEnumUnitsInRange(g,GetLocationX(l),GetLocationY(l),375,Condition(function H88))
call ForGroup(g,function O6D)
call EF8("war3mapImported\\CotS.mdx",GetLocationX(l),GetLocationY(l),5)
call L97(g)
call RemoveLocation(l)
set g=null
set l=null
endfunction
function O1D takes nothing returns boolean
if GetSpellAbilityId()==1093743692 then
call OLD()
endif
return false
endfunction
function N38 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="N38"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function O1D))
set t=null
endfunction
function O0D takes nothing returns boolean
local real d
set EZ7="O0D"
if GetUnitAbilityLevel(GetTriggerUnit(),1110455640)>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093684314)>0 and T37(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call UnitRemoveAbility(GetTriggerUnit(),1110455640)
set d=(0.15+0.15*I2R(GetUnitAbilityLevel(GetEventDamageSource(),1093684314)))*GetHeroInt(GetEventDamageSource(),true)
call EI8("+"+I2S(R2I(d)),1,GetTriggerUnit(),0.023,3,216,216,216)
call DisableTrigger(GetTriggeringTrigger())
call HY8(GetEventDamageSource(),GetTriggerUnit(),ZI4,d)
call T97(GetHandleId(GetTriggeringTrigger()))
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function O5D takes nothing returns nothing
local trigger t
local unit PU7
local unit FJ8
set EZ7="O5D"
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set PU7=GetSpellTargetUnit()
set FJ8=GetTriggerUnit()
else
set PU7=GetTriggerUnit()
set FJ8=GetAttacker()
endif
if IsUnitIllusion(FJ8)==false then
set t=CreateTrigger()
call TJ7(GetHandleId(t),"Source",FJ8)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function O0D))
endif
set t=null
set PU7=null
set FJ8=null
endfunction
function ve takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetUnitAbilityLevel(GetAttacker(),1093684314)>0 and(UE7(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==T37(GetHandleId(GetTriggeringTrigger()),"Hero")then
call O5D()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==852255)then
call TI7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)
elseif(GetIssuedOrderId()==852256)then
call TI7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093684314 then
call O5D()
endif
return false
endfunction
function O2D takes unit C17,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
set EZ7="hcv"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function ve))
call TJ7(GetHandleId(t),"Hero",C17)
if BZ9 then
set aj[GetPlayerId(GetOwningPlayer(C17))]=t
endif
set t=null
endfunction
function O_D takes nothing returns boolean
if GetLearnedSkill()==1093684314 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093684314)==1 then
call O2D(GetTriggerUnit(),false)
endif
return false
endfunction
function N68 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="N68"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function O_D))
set t=null
endfunction
function P4D takes nothing returns boolean
return GetSpellAbilityId()==1093684275
endfunction
function P7D takes nothing returns boolean
call UQ7(GetTriggeringTrigger())
call VolumeGroupReset()
return false
endfunction
function P8D takes nothing returns nothing
local location DR9=GetUnitLoc(GetTriggerUnit())
local trigger t=CreateTrigger()
set EZ7="P8D"
call TriggerRegisterTimerEvent(t,GetUnitAbilityLevel(GetTriggerUnit(),1093684275)+2,false)
call TriggerAddCondition(t,Condition(function P7D))
call CreateNUnitsAtLoc(1,1697656901,GetOwningPlayer(GetTriggerUnit()),DR9,bj_UNIT_FACING)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitApplyTimedLifeBJ(5.00,1112820806,bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,1093684274)
call SetUnitAbilityLevelSwapped(1093684274,bj_lastCreatedUnit,GetUnitAbilityLevel(GetTriggerUnit(),1093684275))
call IssuePointOrderLoc(bj_lastCreatedUnit,"silence",DR9)
call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_UNITSOUNDS,.0)
call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_COMBAT,.0)
call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_SPELLS,.0)
call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_MUSIC,.0)
call RemoveLocation(DR9)
set t=null
set DR9=null
endfunction
function NL8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="NL8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function P4D))
call TriggerAddAction(t,function P8D)
set t=null
endfunction
function P9D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093815892)
set EZ7="P9D"
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call HY8(FJ8,PU7,ZG4,100+50*HW8)
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function PDD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
local integer HW8=GetUnitAbilityLevel(FJ8,1093815892)
local boolean PED=(LoadBoolean(L7,(PP7),(95)))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call L67(HV8,1093684307)
call SetUnitAbilityLevel(HV8,1093684307,HW8)
call IssueTargetOrder(HV8,"soulburn",PU7)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerAddCondition(t,Condition(function P9D))
call TriggerRegisterTimerEvent(t,0.01,false)
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(FJ8))
call SaveUnitHandle(L7,(GetHandleId(t)),(17),(PU7))
call SaveInteger(L7,(GetHandleId(t)),(5),(HW8))
if PED then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LastWordDamageSpell.mdx",PU7,"overhead"))
endif
set t=null
set FJ8=null
set PU7=null
set HV8=null
return false
endfunction
function PFD takes integer id returns boolean
return id==1093682265 or id==1093752642 or id==1093677622 or id==1093679446 or id==1095263841 or id==1093684314 or id==1093685582 or id==1093685065
endfunction
function PGD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit HV8
local integer HW8=GetUnitAbilityLevel(FJ8,1093815892)
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call UnitRemoveAbility(PU7,1093815893)
call UnitRemoveAbility(PU7,1110455638)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call UnitRemoveAbility(PU7,1093815893)
call UnitRemoveAbility(PU7,1110455638)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerAddCondition(t,Condition(function PDD))
call TriggerRegisterTimerEvent(t,0.01,false)
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(FJ8))
call SaveUnitHandle(L7,(GetHandleId(t)),(17),(PU7))
call SaveInteger(L7,(GetHandleId(t)),(5),(HW8))
call SaveBoolean(L7,(PP7),(95),(false))
set HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
call L67(HV8,1093815895)
call SetUnitAbilityLevel(HV8,1093815895,HW8)
call IssueTargetOrder(HV8,"drunkenhaze",PU7)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LastWordDamageDuration.mdx",PU7,"overhead"))
set HV8=null
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and JW8(GetSpellAbilityId())==false and JY8(GetSpellAbilityId())==false and GetSpellAbilityId()!=1095328363 and GetSpellAbilityId()!=1093678426 and GetSpellAbilityId()!=1093682768 and GetSpellAbilityId()!=1093685593 and GetSpellAbilityId()!=1093678680 and GetSpellAbilityId()!=1093681489 and GetSpellAbilityId()!=1093808472 and GetSpellAbilityId()!=1093808471 and GetSpellAbilityId()!=1093808470 and GetSpellAbilityId()!=1093743191 and GetSpellAbilityId()!=1093678667 and GetSpellAbilityId()!=1097163124 and GetSpellAbilityId()!=1093683801 and GetSpellAbilityId()!=1093682767 and GetSpellAbilityId()!=1093750345 and GetSpellAbilityId()!=1093750089 and GetSpellAbilityId()!=1093751096 and GetSpellAbilityId()!=1093751361 and GetSpellAbilityId()!=1093751126 and GetSpellAbilityId()!=1093808473 and GetSpellAbilityId()!=1093748565 and GetSpellAbilityId()!=1093753177 and PFD(GetSpellAbilityId())==false then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call UnitRemoveAbility(PU7,1093815893)
call UnitRemoveAbility(PU7,1110455638)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=CreateTrigger()
set PP7=GetHandleId(t)
if GetSpellAbilityId()==1093685846 or GetSpellAbilityId()==1093684302 then
call TriggerRegisterTimerEvent(t,0.01,false)
else
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_SPELL_ENDCAST)
endif
call TriggerAddCondition(t,Condition(function PDD))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveBoolean(L7,(PP7),(95),(true))
endif
set PU7=null
set FJ8=null
set t=null
return false
endfunction
function PHD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
if GetUnitAbilityLevel(PU7,1093815893)==0 or GetTriggerEvalCount(t)>250 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call KillUnit(HV8)
else
call SetUnitX(HV8,GetUnitX(PU7))
call SetUnitY(HV8,GetUnitY(PU7))
endif
set t=null
set HV8=null
set PU7=null
return false
endfunction
function PID takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1865429305,GetUnitX(PU7),GetUnitY(PU7),0)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,5,false)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerAddCondition(t,Condition(function PGD))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call L67(PU7,1093815893)
call UnitMakeAbilityPermanent(PU7,true,1093815894)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093815893,false)
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("war3mapImported\\LastWordDebuff_6.mdx",PU7,"overhead")))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function PHD))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
set FJ8=null
set PU7=null
set t=null
endfunction
function PJD takes nothing returns boolean
if GetSpellAbilityId()==1093815892 and L87(GetSpellTargetUnit())==false then
call PID()
endif
return false
endfunction
function PKD takes nothing returns nothing
local integer PP7=GetHandleId(GetTriggeringTrigger())
local unit FJ8=IP4
local real CV9=(LoadReal(L7,(PP7),(20)))
set EZ7="PKD"
call SetHeroInt(FJ8,GetHeroInt(FJ8,false)+1,true)
call EI8("+1 "+GetObjectName(1848658512),3,FJ8,0.023,0,255,0,230)
set FJ8=null
endfunction
function PMD takes nothing returns nothing
local integer PP7=GetHandleId(GetTriggeringTrigger())
local unit FJ8=IP4
local real CV9=(LoadReal(L7,(PP7),(20)))
set EZ7="PMD"
call SetHeroInt(FJ8,GetHeroInt(FJ8,false)+2,true)
call EI8("+2 "+GetObjectName(1848658512),3,FJ8,0.023,0,255,0,230)
set FJ8=null
endfunction
function PND takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit L27=GetTriggerUnit()
set EZ7="PND"
if IsUnitType(L27,UNIT_TYPE_HERO)==true and JV8(GetUnitTypeId(L27))==false and IsUnitIllusion(L27)==false and(IsUnitInRange(FJ8,L27,900)or GetOwningPlayer(FJ8)==GetOwningPlayer(GetKillingUnit()))and L17(FJ8)==false and IsUnitAlly(FJ8,GetOwningPlayer(L27))==false then
set SR4[GetPlayerId(GetOwningPlayer(FJ8))]=SR4[GetPlayerId(GetOwningPlayer(FJ8))]+2
call EI8("-2 "+GetObjectName(1848658512),3,L27,0.023,255,0,0,230)
call SetHeroInt(L27,GetHeroInt(L27,false)-2,true)
call E68(L27,FJ8,1747993424,"PMD",450)
endif
set t=null
set FJ8=null
set L27=null
return false
endfunction
function POD takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function PND))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set FJ8=null
set t=null
endfunction
function PPD takes nothing returns boolean
if GetLearnedSkill()==1093684314 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093684314)==1 then
call POD()
endif
return false
endfunction
function PQD takes nothing returns boolean
local integer PRD=SR4[GetPlayerId(GetTriggerPlayer())]
set EZ7="PQD"
if GetUnitTypeId(M7[GetPlayerId(GetTriggerPlayer())])==1311781185 and PRD>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetObjectName(1848657997)+" "+I2S(PRD))
endif
return false
endfunction
function N18 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="N18"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PJD))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function PPD))
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function PQD))
set t=null
endfunction
function PSD takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false then
call HY8(JT,GetEnumUnit(),ZG4,MT)
call IssueTargetOrder(KT,"slow",GetEnumUnit())
else
call HY8(JT,GetEnumUnit(),ZG4,MT/ 3)
call IssueTargetOrder(KT,"slow",GetEnumUnit())
endif
endfunction
function PTD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=T37(PP7,"Source")
local unit HV8=T37(PP7,"Caster")
local integer HW8=U97(PP7,"Level")
local real x=UD7(PP7,"x")
local real y=UD7(PP7,"y")
local group g=LD7()
local real d
local real a
local real x2
local real y2
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,360+25,Condition(function H98))
set JT=FJ8
set MT=HW8*12
set KT=HV8
call ForGroup(g,function PSD)
call L97(g)
call DestroyEffect(T27(PP7,"FX0"))
call DestroyEffect(T27(PP7,"FX1"))
call DestroyEffect(T27(PP7,"FX2"))
call DestroyEffect(T27(PP7,"FX3"))
call DestroyEffect(T27(PP7,"FX4"))
call DestroyEffect(T27(PP7,"FX5"))
call DestroyEffect(T27(PP7,"FX6"))
call DestroyEffect(T27(PP7,"FX7"))
call DestroyEffect(T27(PP7,"FX8"))
if GetTriggerEvalCount(t)==9 then
call T97(PP7)
call UQ7(t)
else
set d=0
set a=0
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TK7(PP7,"FX0",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=150
set a=45
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TK7(PP7,"FX1",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=275
set a=90
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TK7(PP7,"FX2",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=150
set a=135
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TK7(PP7,"FX3",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=275
set a=180
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TK7(PP7,"FX4",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=150
set a=225
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TK7(PP7,"FX5",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=275
set a=270
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TK7(PP7,"FX6",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=150
set a=305
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TK7(PP7,"FX7",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=275
set a=360
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TK7(PP7,"FX8",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
endif
set t=null
set FJ8=null
set HV8=null
set g=null
return false
endfunction
function PUD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local integer BY7=GetUnitAbilityLevel(p5,1093678644)
local real x1=UD7(US7,"x")
local real y1=UD7(US7,"y")
local unit HV8=CreateUnit(GetOwningPlayer(p5),1697656901,x1,y1,0)
local real x2
local real y2
local real d
local real a
local integer i
set EZ7="PUD"
call L67(HV8,1093744966)
call SetUnitAbilityLevel(HV8,1093744966,BY7)
if GetTriggerEvalCount(t)==1 then
set i=1
loop
exitwhen i>10
set d=GetRandomReal(0,450)
set a=GetRandomReal(0,360)
set x2=x1+d*Cos(a*bj_DEGTORAD)
set y2=y1+d*Sin(a*bj_DEGTORAD)
set HV8=CreateUnit(GetOwningPlayer(p5),1697656906,GetUnitX(p5),GetUnitY(p5),90)
call IssuePointOrder(HV8,"attackground",x2,y2)
call UnitApplyTimedLife(HV8,1112820806,0.5)
set i=i+1
endloop
else
call T97(US7)
call UQ7(t)
set t=CreateTrigger()
set US7=GetHandleId(t)
call TJ7(US7,"Source",p5)
call TJ7(US7,"Caster",HV8)
call TG7(US7,"x",(x1)*1.0)
call TG7(US7,"y",(y1)*1.0)
call TF7(US7,"Level",BY7)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function PTD))
call TriggerEvaluate(t)
endif
set p5=null
set HV8=null
set t=null
return false
endfunction
function PVD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
call EV8(GetOwningPlayer(p5),9.4,x,y,360)
call TriggerRegisterTimerEvent(t,0.4,true)
call TriggerAddCondition(t,Condition(function PUD))
call TJ7(US7,"Source",p5)
call TG7(US7,"x",(x)*1.0)
call TG7(US7,"y",(y)*1.0)
call RemoveLocation(l)
set t=null
set p5=null
set l=null
endfunction
function PWD takes nothing returns boolean
if GetSpellAbilityId()==1093678644 then
call PVD()
endif
return false
endfunction
function N08 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="N08"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PWD))
call DX8(1093744966)
set t=null
endfunction
function PXD takes nothing returns boolean
return GetLearnedSkill()==1093677909
endfunction
function PYD takes nothing returns nothing
call SetPlayerTechResearchedSwap(1378889781,GetUnitAbilityLevelSwapped(1093677909,GetTriggerUnit()),GetOwningPlayer(GetLearningUnit()))
endfunction
function Pv takes nothing returns nothing
set dX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dX,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(dX,Condition(function PXD))
call TriggerAddAction(dX,function PYD)
endfunction
function PZD takes nothing returns boolean
return GetLearnedSkill()==1093677130 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function PAD takes nothing returns nothing
if(GetUnitAbilityLevel(GetTriggerUnit(),1093684546)==0)then
call L67(GetTriggerUnit(),1093684546)
endif
call SetUnitAbilityLevel(GetTriggerUnit(),1093684546,GetUnitAbilityLevel(GetTriggerUnit(),1093677130))
endfunction
function Pw takes nothing returns nothing
set dY=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dY,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(dY,Condition(function PZD))
call TriggerAddAction(dY,function PAD)
endfunction
function PBD takes nothing returns nothing
local unit FJ8=GetAttacker()
local unit PU7=GetTriggerUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093682266)
local boolean PCD=UE7(GetHandleId(FJ8),"Backstab|Free")
local real d=RAbsBJ(GetUnitFacing(PU7)-GetUnitFacing(FJ8))
set EZ7="PBD"
if d>180 then
set d=360-d
endif
if d<=105 or PCD then
call TI7(GetHandleId(FJ8),"Backstab|Free",false)
if GetUnitAbilityLevel(PU7,1093678162)==0 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",PU7,"chest"))
call HY8(FJ8,PU7,ZH4,GetHeroAgi(FJ8,true)*(0.25*HW8+0.25))
endif
endif
set FJ8=null
set PU7=null
endfunction
function P3D takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093682266)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false then
call PBD()
endif
return false
endfunction
function N28 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="N28"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function P3D))
set t=null
endfunction
function P6D takes nothing returns nothing
local unit C17=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit oA=CreateUnit(GetOwningPlayer(C17),1697656883,x,y,0)
local integer BY7=GetUnitAbilityLevel(C17,1093685831)
local real vr=(83+17*BY7)*0.01
set EZ7="P6D"
call SetUnitVertexColor(oA,255,255,255,150)
call UnitApplyTimedLife(oA,1112820806,6)
call SetUnitScale(oA,vr,vr,vr)
if AH7(GetOwningPlayer(C17))then
call L67(oA,1093677369)
call SetUnitAbilityLevel(oA,1093677369,BY7)
else
call L67(oA,1093682487)
call SetUnitAbilityLevel(oA,1093682487,BY7)
endif
call IssuePointOrder(oA,"cloudoffog",x,y)
call RemoveLocation(l)
set C17=null
set l=null
set oA=null
endfunction
function PLD takes nothing returns boolean
if GetSpellAbilityId()==1093685831 then
call P6D()
endif
return false
endfunction
function N_8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="N_8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PLD))
set t=null
endfunction
function P1D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PQ7=GetHandleId(t)
if R17(LoadUnitHandle(L7,PQ7,1635021931))or GetTriggerEvalCount(t)>=11 then
call FlushChildHashtable(L7,PQ7)
call DestroyTrigger(t)
else
call IssueTargetOrderById(LoadUnitHandle(L7,PQ7,1635021931),851983,LoadUnitHandle(L7,PQ7,1952543335))
endif
set t=null
return false
endfunction
function P0D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real D_8=30*GetUnitAbilityLevel(p5,1093684025)
local trigger t
local integer US7
local real x=GetUnitX(m5)-75*Cos(GetUnitFacing(m5)*bj_DEGTORAD)
local real y=GetUnitY(m5)-75*Sin(GetUnitFacing(m5)*bj_DEGTORAD)
local trigger P5D
local integer P2D
set EZ7="P0D"
call SetUnitX(p5,x)
call SetUnitY(p5,y)
call SetUnitFacing(p5,GetUnitFacing(m5))
call DestroyEffect(AddSpecialEffect("war3mapImported\\BlinkStrike.mdx",x,y))
if IsUnitEnemy(m5,GetOwningPlayer(p5))then
call HY8(p5,m5,ZG4,D_8)
call TI7(GetHandleId(p5),"Backstab|Free",true)
call IssueTargetOrder(p5,"attack",m5)
if(GetPlayerController(GetOwningPlayer(p5))!=MAP_CONTROL_USER)then
if SE7(700,p5,Condition(function k6))<1 then
set P5D=CreateTrigger()
set P2D=GetHandleId(P5D)
call SaveUnitHandle(L7,P2D,1952543335,m5)
call SaveUnitHandle(L7,P2D,1635021931,p5)
call TriggerAddCondition(P5D,Condition(function P1D))
call TriggerRegisterTimerEvent(P5D,0.4,true)
set P5D=null
endif
call QA7(0.3)
call IssueTargetOrder(p5,"attack",m5)
endif
endif
set p5=null
set m5=null
set t=null
endfunction
function P_D takes nothing returns boolean
if GetSpellAbilityId()==1093684025 then
call P0D()
endif
return false
endfunction
function Q4D takes nothing returns boolean
if GetSpellAbilityId()==1093684025 then
call DestroyEffect(AddSpecialEffect("war3mapImported\\BlinkStrike.mdx",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
endif
return false
endfunction
function O48 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="O48"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function P_D))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function Q4D))
set t=null
endfunction
function Q7D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
call SetUnitAnimationByIndex(FJ8,8)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set FJ8=null
return false
endfunction
function Q8D takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call SetUnitAnimationByIndex(FJ8,7)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function Q7D))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=null
set FJ8=null
endfunction
function Q9D takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==1311788336 then
call Q8D()
endif
return false
endfunction
function VX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Q9D))
set t=null
endfunction
function QDD takes nothing returns nothing
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call HY8(RT4,GetEnumUnit(),ZG4,RU4)
endfunction
function QED takes nothing returns boolean
local trigger t2=GetTriggeringTrigger()
local integer QFD=GetHandleId(t2)
local trigger t1=T07(QFD,"t1")
local integer QGD=GetHandleId(t1)
local unit QHD=T37(QFD,"Remnant")
local group g
local integer HW8=U97(QFD,"Level")
set EZ7="QED"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call ShowUnit(QHD,false)
call KillUnit(QHD)
call T97(QGD)
call UQ7(t1)
call T97(QFD)
call UQ7(t2)
elseif IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(QHD))==true and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 then
set g=LD7()
set IN4=QHD
set RT4=QHD
set RU4=100+40*HW8
call GroupEnumUnitsInRange(g,GetUnitX(QHD),GetUnitY(QHD),285,Condition(function G78))
call ForGroup(g,function QDD)
call L97(g)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetUnitX(QHD),GetUnitY(QHD)))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetUnitX(QHD),GetUnitY(QHD)))
call ShowUnit(QHD,false)
call KillUnit(QHD)
call T97(QGD)
call UQ7(t1)
call T97(QFD)
call UQ7(t2)
endif
set t1=null
set t2=null
set QHD=null
set g=null
return false
endfunction
function QID takes nothing returns boolean
local trigger t1=GetTriggeringTrigger()
local integer QJD=GetHandleId(t1)
local trigger t2
local integer BA9
local unit QKD
local integer BY7
local real x=UD7(QJD,"x")
local real y=UD7(QJD,"y")
local real QMD
local integer BX8=GetTriggerEvalCount(t1)
set EZ7="QID"
if BX8==1 then
call DestroyEffect(T27(QJD,"FX1"))
elseif BX8==2 then
call DestroyEffect(T27(QJD,"FX2"))
set t2=CreateTrigger()
set BA9=GetHandleId(t2)
set BY7=U97(QJD,"Level")
set QMD=UD7(QJD,"Facing")
set QKD=CreateUnit(GetOwningPlayer(T37(QJD,"Source")),1747990342,x,y,QMD)
call SetUnitVertexColor(QKD,255,255,255,100)
call UnitApplyTimedLife(QKD,1112820806,12)
call TJ7(QJD,"Remnant",QKD)
call TJ7(BA9,"Remnant",QKD)
call TM7(BA9,"t1",t1)
call TF7(BA9,"Level",BY7)
call TriggerRegisterUnitInRange(t2,QKD,235,Condition(function A47))
call TriggerRegisterUnitEvent(t2,QKD,EVENT_UNIT_DEATH)
call TriggerAddCondition(t2,Condition(function QED))
call DestroyEffect(AddSpecialEffectTarget("effects\\ManaFlareBoltImpact_NoSound.mdx",QKD,"origin"))
elseif BX8>2 then
set QKD=T37(QJD,"Remnant")
call DestroyEffect(AddSpecialEffectTarget("effects\\ManaFlareBoltImpact_NoSound.mdx",QKD,"origin"))
endif
set t1=null
set t2=null
set QKD=null
return false
endfunction
function QND takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t1=CreateTrigger()
local integer QJD=GetHandleId(t1)
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
set EZ7="QND"
call TriggerRegisterTimerEvent(t1,0.5,true)
call TriggerAddCondition(t1,Condition(function QID))
call TG7(QJD,"x",(x)*1.0)
call TG7(QJD,"y",(y)*1.0)
call TF7(QJD,"Level",GetUnitAbilityLevel(p5,1093743696))
call TJ7(QJD,"Source",p5)
call TG7(QJD,"Facing",GetUnitFacing(p5)*1.0)
call TK7(QJD,"FX1",AddSpecialEffect("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl",x,y))
call TK7(QJD,"FX2",AddSpecialEffect("effects\\Static_Remnant_FX.mdx",x,y))
set p5=null
set t1=null
endfunction
function QOD takes nothing returns boolean
if GetSpellAbilityId()==1093743696 then
call QND()
endif
return false
endfunction
function SC8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SC8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QOD))
set t=null
endfunction
function QPD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local real RK=UD7(US7,"Angle")
local real x=GetUnitX(m5)-5*Cos(RK)
local real y=GetUnitY(m5)-5*Sin(RK)
local integer BY7=U97(US7,"Level")
local real QQD=UD7(US7,"x")
local real QRD=UD7(US7,"y")
set EZ7="QPD"
if((QQD-x)*(QQD-x))+((QRD-y)*(QRD-y))<100 then
set x=QQD
set y=QRD
endif
call SetUnitX(m5,x)
call SetUnitY(m5,y)
if GetTriggerEvalCount(t)==(10+10*BY7)then
call T97(US7)
call UQ7(t)
endif
set t=null
set m5=null
return false
endfunction
function QSD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit oA=CreateUnit(GetOwningPlayer(p5),1966092376,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
local integer BY7=GetUnitAbilityLevel(p5,1093743698)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="QSD"
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function QPD))
call TJ7(US7,"Target",m5)
call TG7(US7,"Angle",Atan2(GetUnitY(m5)-GetUnitY(p5),GetUnitX(m5)-GetUnitX(p5)))
call TF7(US7,"Level",BY7)
call TG7(US7,"x",GetUnitX(p5))
call TG7(US7,"y",GetUnitY(p5))
call L67(oA,1093743697)
call SetUnitAbilityLevel(oA,1093743697,BY7)
call IssueTargetOrder(oA,"magicleash",m5)
if not AK7(GetOwningPlayer(p5))then
call UnitApplyTimedLife(oA,1112820806,0.5+0.5*BY7)
endif
set oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call L67(oA,1093743699)
call IssueTargetOrder(oA,"slow",p5)
set p5=null
set m5=null
set oA=null
set t=null
endfunction
function QTD takes nothing returns boolean
if GetSpellAbilityId()==1093743698 and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 and L87(GetSpellTargetUnit())==false then
call QSD()
endif
return false
endfunction
function S38 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="S38"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QTD))
set t=null
endfunction
function QUD takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(FZ),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
set EZ7="QUD"
call L67(oA,1093686069)
call IssueTargetOrder(oA,"slow",GetEnumUnit())
call HY8(FZ,GetEnumUnit(),ZG4,gZ)
set oA=null
endfunction
function QVD takes unit p5,unit m5 returns nothing
local integer US7=GetHandleId(p5)
local group g=LD7()
set EZ7="h7v"
call DestroyEffect(T27(US7,"OverloadFX1"))
call DestroyEffect(T27(US7,"OverloadFX2"))
call UO7(p5,"OverloadActive")
set IN4=p5
set FZ=p5
set gZ=GetUnitAbilityLevel(p5,1093685591)*20+10
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),300,Condition(function G78))
call ForGroup(g,function QUD)
call L97(g)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetUnitX(m5),GetUnitY(m5)))
set g=null
endfunction
function QWD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local unit p5=T37(US7,"Source")
set EZ7="QWD"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and UJ7(p5,"OverloadActive")then
call DisableTrigger(t)
call QVD(p5,m5)
call T97(US7)
call UQ7(t)
endif
else
call T97(US7)
call UQ7(t)
endif
set t=null
set m5=null
set p5=null
return false
endfunction
function QXD takes nothing returns nothing
local trigger t=CreateTrigger()
local unit m5=GetTriggerUnit()
local unit p5=GetAttacker()
local integer US7=GetHandleId(t)
set EZ7="QXD"
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function QWD))
call TJ7(US7,"Target",m5)
call TJ7(US7,"Source",p5)
set t=null
set m5=null
set p5=null
endfunction
function QYD takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093685591)>0 and UJ7(GetAttacker(),"OverloadActive")and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false then
call QXD()
endif
return false
endfunction
function QZD takes nothing returns nothing
local trigger t=CreateTrigger()
local unit p5=GetTriggerUnit()
local integer US7=GetHandleId(p5)
local string fx=""
set EZ7="QZD"
if IsUnitAlly(p5,GetLocalPlayer())or C67(GetLocalPlayer())then
set fx="Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl"
endif
call TK7(US7,"OverloadFX1",AddSpecialEffectTarget(fx,p5,"right hand"))
call TK7(US7,"OverloadFX2",AddSpecialEffectTarget(fx,p5,"left hand"))
set t=null
set p5=null
endfunction
function QAD takes nothing returns boolean
if((GetSpellAbilityId()==1093743695 or GetSpellAbilityId()==1093743696 or GetSpellAbilityId()==1093743698)or(GetUnitPointValue(GetTriggerUnit())==500)and BR7(GetSpellAbilityId()))and UJ7(GetTriggerUnit(),"OverloadActive")==false then
call UM7(GetTriggerUnit(),"OverloadActive")
call QZD()
endif
return false
endfunction
function QBD takes unit p5,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
set EZ7="Hov"
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QAD))
if BZ9 then
set nj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function QYD))
if BZ9 then
set Aj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set p5=null
set t=null
endfunction
function QCD takes nothing returns boolean
if GetLearnedSkill()==1093685591 and GetUnitAbilityLevel(GetTriggerUnit(),1093685591)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call QBD(GetTriggerUnit(),false)
endif
return false
endfunction
function S68 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="S68"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function QCD))
set t=null
endfunction
function Q3D takes nothing returns nothing
if(LoadBoolean(L7,jZ,GetHandleId(GetEnumUnit()))==false)then
call SaveBoolean(L7,jZ,GetHandleId(GetEnumUnit()),true)
call HY8(LZ,GetEnumUnit(),ZG4,mZ*(JZ*4+4)/ 100)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetEnumUnit(),"origin"))
endif
endfunction
function Q6D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer BY7=U97(US7,"Level")
local unit oA=T37(US7,"Caster")
local unit p5=T37(US7,"Source")
local unit QLD=T37(US7,"Fake")
local integer u3=U97(US7,"Remaining")
local real hN=UD7(US7,"x")
local real ho=UD7(US7,"y")
local real u4=GetUnitX(p5)
local real u5=GetUnitY(p5)
local real RK=Atan2(ho-u5,hN-u4)
local real Il=u4+(25+25*BY7)*Cos(RK)
local real IL=u5+(25+25*BY7)*Sin(RK)
local lightning TX9=T_7(US7,"Light")
local real Q1D=UD7(US7,"lx")
local real Q0D=UD7(US7,"ly")
local real Z58=GetUnitState(p5,UNIT_STATE_MANA)
local real Q5D=(25+25*BY7)*(10+0.01*GetUnitState(p5,UNIT_STATE_MAX_MANA))/ 100
local group g=LD7()
local real Q2D=UD7(US7,"Traveled")
set EZ7="Q6D"
set Q2D=Q2D+25+25*BY7
call TG7(US7,"Traveled",Q2D)
if GetTriggerEvalCount(t)>25 then
set Q1D=Q1D+(25+25*BY7)*Cos(RK)
set Q0D=Q0D+(25+25*BY7)*Sin(RK)
call TG7(US7,"lx",Q1D)
call TG7(US7,"ly",Q0D)
endif
call SetUnitState(p5,UNIT_STATE_MANA,RMaxBJ(Z58-Q5D,0))
call MoveLightning(TX9,true,Q1D,Q0D,Il,IL)
call SetUnitX(p5,Il)
call SetUnitY(p5,IL)
call SetUnitPosition(oA,Il,IL)
call SetUnitPosition(QLD,Il,IL)
set IN4=p5
set LZ=p5
set jZ=US7
set JZ=BY7
set mZ=Q2D
call GroupEnumUnitsInRange(g,Il,IL,75+75*BY7,Condition(function G78))
call ForGroup(g,function Q3D)
call L97(g)
set u3=u3-1
call TF7(US7,"Remaining",u3)
call SetUnitVertexColor(p5,255,255,255,0)
if u3==0 or GetUnitState(p5,UNIT_STATE_MANA)<1 then
call DestroyLightning(TX9)
call ER8(Il,IL,75)
call DestroyEffect(T27(US7,"FX"))
call RemoveUnit(oA)
call RemoveUnit(QLD)
call SetUnitVertexColor(p5,255,255,255,255)
call SetUnitPathing(p5,true)
call SetUnitInvulnerable(p5,false)
call T97(US7)
call UQ7(t)
else
call ER8(Il,IL,75)
endif
set t=null
set oA=null
set p5=null
set TX9=null
set g=null
set QLD=null
return false
endfunction
function Q_D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real iN=GetUnitX(p5)
local real io=GetUnitY(p5)
local unit oA
local unit QLD
local location l
local real x
local real y
local trigger t
local integer US7
local lightning TX9
local integer BY7=GetUnitAbilityLevel(p5,1093743695)
local real Z58=GetUnitState(p5,UNIT_STATE_MANA)
local real Q5D=15+0.07*GetUnitState(p5,UNIT_STATE_MAX_MANA)
set EZ7="Q_D"
call SetUnitState(p5,UNIT_STATE_MANA,RMaxBJ(Z58-Q5D,0))
if GetUnitState(p5,UNIT_STATE_MANA)>10 then
set t=CreateTrigger()
set US7=GetHandleId(t)
set oA=CreateUnit(GetOwningPlayer(p5),1865429296,iN,io,0)
set QLD=CreateUnit(GetOwningPlayer(p5),1211119431,iN,io,0)
set TX9=AddLightning("FORK",true,iN,io,iN,io)
if GetSpellTargetUnit()==null then
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
call RemoveLocation(l)
else
set x=GetUnitX(GetSpellTargetUnit())
set y=GetUnitY(GetSpellTargetUnit())
endif
call SetUnitVertexColor(p5,255,255,255,0)
call SetUnitVertexColor(QLD,255,255,255,0)
call SetUnitPathing(p5,false)
call SetUnitPathing(oA,false)
call SetUnitInvulnerable(p5,true)
call TJ7(US7,"Caster",oA)
call TJ7(US7,"Source",p5)
call TJ7(US7,"Fake",QLD)
call TN7(US7,"Light",TX9)
call TF7(US7,"Level",BY7)
call TG7(US7,"x",x)
call TG7(US7,"y",y)
call TG7(US7,"lx",iN)
call TG7(US7,"ly",io)
call TG7(US7,"Traveled",0)
call TF7(US7,"Remaining",D18(R2I(SquareRoot((x-iN)*(x-iN)+(y-io)*(y-io))/(25+25*BY7)),1))
call TK7(US7,"FX",AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",QLD,"origin"))
call TriggerRegisterTimerEvent(t,0.04,true)
call TriggerAddCondition(t,Condition(function Q6D))
call ShowUnit(p5,false)
call ShowUnit(p5,true)
call SelectUnitAddForPlayer(p5,GetOwningPlayer(p5))
endif
set p5=null
set oA=null
set QLD=null
set l=null
set t=null
set TX9=null
endfunction
function R4D takes nothing returns boolean
if GetSpellAbilityId()==1093743695 then
call Q_D()
endif
return false
endfunction
function R7D takes nothing returns boolean
if GetSpellAbilityId()==1093743695 then
if GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)<(15+0.07*GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_MANA))then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848657720))
endif
endif
return false
endfunction
function SL8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SL8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function R4D))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function R7D))
set t=null
endfunction
function R8D takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"origin"))
endfunction
function R9D takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==1211117651 then
call R8D()
endif
return false
endfunction
function S18 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function R9D))
set t=null
endfunction
function RDD takes nothing returns nothing
local integer US7=GetHandleId(GetOwningPlayer(GetTriggerUnit()))
local unit RED=T37(US7,"BearItemHolder")
local unit RFD=T37(US7,"MyBear")
set EZ7="RDD"
if RED!=null and D4==false and RZ4==false then
call UnitAddItem(RFD,UnitRemoveItemFromSlot(RED,0))
call UnitAddItem(RFD,UnitRemoveItemFromSlot(RED,1))
call UnitAddItem(RFD,UnitRemoveItemFromSlot(RED,2))
call UnitAddItem(RFD,UnitRemoveItemFromSlot(RED,3))
call UnitAddItem(RFD,UnitRemoveItemFromSlot(RED,4))
call UnitAddItem(RFD,UnitRemoveItemFromSlot(RED,5))
endif
set RED=null
set RFD=null
endfunction
function RGD takes nothing returns boolean
return GetSpellAbilityId()==1093681461
endfunction
function RHD takes nothing returns boolean
if L17(GetFilterUnit())then
return false
endif
if((GetUnitTypeId(GetFilterUnit())==1848652103))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848652099))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848652088))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848651828))then
return true
endif
return false
endfunction
function RID takes nothing returns nothing
local unit Z49=GetTriggerUnit()
local player RJD=GetOwningPlayer(Z49)
local location DR9=GetUnitLoc(Z49)
local boolexpr RKD=Condition(function RHD)
local group CZ9=LD7()
local integer HW8=GetUnitAbilityLevel(Z49,1093681461)
local integer PP7=GetHandleId(RJD)
local boolean RMD
local unit FJ9
set EZ7="RID"
call GroupEnumUnitsOfPlayer(CZ9,GetOwningPlayer(Z49),RKD)
if CountUnitsInGroup(CZ9)!=0 then
set FJ9=FirstOfGroup(CZ9)
if FJ9!=null and UJ7(FJ9,"4327")==true then
call RG7(Z49)
call DQ8(RJD,GetObjectName(1848659278))
endif
endif
call L97(CZ9)
call RemoveLocation(DR9)
call DestroyBoolExpr(RKD)
set Z49=null
set RJD=null
set CZ9=null
set RKD=null
set DR9=null
endfunction
function RND takes nothing returns boolean
if((GetUnitTypeId(GetFilterUnit())==1848652103))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848652099))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848652088))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848651828))then
return true
endif
return false
endfunction
function ROD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit RFD
local unit HV8=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)
local integer BY7=GetUnitAbilityLevel(p5,GetSpellAbilityId())
local group g=LD7()
set EZ7="ROD"
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(p5),Condition(function RND))
set RFD=FirstOfGroup(g)
call L97(g)
if GetSpellAbilityId()==1093748038 then
call L67(HV8,1093681473)
call SetUnitAbilityLevel(HV8,1093681473,BY7)
elseif GetSpellAbilityId()==1093748037 then
call L67(HV8,1093681474)
call SetUnitAbilityLevel(HV8,1093681474,BY7)
elseif GetSpellAbilityId()==1093748040 then
call L67(HV8,1093681475)
call SetUnitAbilityLevel(HV8,1093681475,BY7)
elseif GetSpellAbilityId()==1093748041 then
call L67(HV8,1093681476)
call SetUnitAbilityLevel(HV8,1093681476,BY7)
elseif GetSpellAbilityId()==1093748039 then
call L67(HV8,1093681477)
call SetUnitAbilityLevel(HV8,1093681477,BY7)
endif
call IssueTargetOrder(HV8,"bloodlust",p5)
if RFD!=null and L17(RFD)==false then
call IssueTargetOrder(HV8,"bloodlust",RFD)
endif
set g=null
set p5=null
set RFD=null
set HV8=null
endfunction
function RPD takes nothing returns boolean
if GetSpellAbilityId()==1093748038 or GetSpellAbilityId()==1093748037 or GetSpellAbilityId()==1093748040 or GetSpellAbilityId()==1093748041 or GetSpellAbilityId()==1093748039 then
call ROD()
endif
return false
endfunction
function O78 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="O78"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RPD))
set t=null
endfunction
function RQD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ9=(LoadUnitHandle(L7,(PP7),(2)))
local real RRD
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and AI7(GetOwningPlayer(GetEventDamageSource()))then
call SaveReal(L7,(PP7),(714),(((TimerGetElapsed(W)))*1.0))
endif
endif
set RRD=(LoadReal(L7,(PP7),(714)))
if RRD+3<(TimerGetElapsed(W))then
if(LoadInteger(L7,(PP7),(34)))==2 then
call SaveInteger(L7,(PP7),(34),(1))
call UO7(FJ9,"4327")
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ9),1093681463,true)
endif
else
if(LoadInteger(L7,(PP7),(34)))==1 then
call SaveInteger(L7,(PP7),(34),(2))
call UM7(FJ9,"4327")
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ9),1093681463,false)
endif
endif
set t=null
set FJ9=null
return false
endfunction
function RSD takes unit FJ9 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerRegisterUnitEvent(t,FJ9,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,FJ9,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function RQD))
call SaveUnitHandle(L7,(PP7),(2),(FJ9))
call SaveReal(L7,(PP7),(714),((0)*1.0))
call SaveInteger(L7,(PP7),(34),(1))
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ9),1093681463,true)
set t=null
endfunction
function RTD takes nothing returns nothing
local unit Z49=GetTriggerUnit()
local player RJD=GetOwningPlayer(Z49)
local location DR9=GetUnitLoc(Z49)
local boolexpr RKD=Condition(function RHD)
local group CZ9=LD7()
local integer HW8=GetUnitAbilityLevel(Z49,1093681461)
local integer PP7=GetHandleId(RJD)
local boolean RMD
local unit FJ9
set EZ7="RTD"
call GroupEnumUnitsOfPlayer(CZ9,GetOwningPlayer(Z49),RKD)
set RMD=CountUnitsInGroup(CZ9)==0
if(HW8==1 and RMD)then
call CreateNUnitsAtLoc(1,1848651828,GetOwningPlayer(GetTriggerUnit()),DR9,bj_UNIT_FACING)
call TJ7(PP7,"MyBear",bj_lastCreatedUnit)
call RDD()
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call RSD(bj_lastCreatedUnit)
elseif(HW8==2 and RMD)then
call CreateNUnitsAtLoc(1,1848652088,GetOwningPlayer(GetTriggerUnit()),DR9,bj_UNIT_FACING)
call TJ7(PP7,"MyBear",bj_lastCreatedUnit)
call RDD()
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call RSD(bj_lastCreatedUnit)
elseif(HW8==3 and RMD)then
call CreateNUnitsAtLoc(1,1848652099,GetOwningPlayer(GetTriggerUnit()),DR9,bj_UNIT_FACING)
call TJ7(PP7,"MyBear",bj_lastCreatedUnit)
call RDD()
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call RSD(bj_lastCreatedUnit)
elseif(HW8==4 and RMD)then
call CreateNUnitsAtLoc(1,1848652103,GetOwningPlayer(GetTriggerUnit()),DR9,bj_UNIT_FACING)
call TJ7(PP7,"MyBear",bj_lastCreatedUnit)
call RDD()
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call RSD(bj_lastCreatedUnit)
elseif RMD==false then
set FJ9=FirstOfGroup(CZ9)
call AddSpecialEffectTargetUnitBJ("chest",FJ9,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call SetUnitState(FJ9,UNIT_STATE_LIFE,GetUnitState(FJ9,UNIT_STATE_MAX_LIFE))
call SetUnitPosition(FJ9,GetUnitX(Z49),GetUnitY(Z49))
set FJ9=null
endif
call SetUnitAbilityLevel(bj_lastCreatedUnit,1093679449,HW8)
call L97(CZ9)
call RemoveLocation(DR9)
call DestroyBoolExpr(RKD)
set RKD=null
set Z49=null
set RJD=null
set DR9=null
set CZ9=null
set FJ9=null
endfunction
function O98 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="O98"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RGD))
call TriggerAddAction(t,function RTD)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function RGD))
call TriggerAddAction(t,function RID)
set t=null
endfunction
function RUD takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),1110459185)>0
endfunction
function RVD takes nothing returns nothing
call HY8(D2,GetEnumUnit(),ZH4,30)
endfunction
function RWD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit RXD=T37(US7,"Bear")
local group g=LD7()
set EZ7="RWD"
set IN4=RXD
set D2=RXD
call GroupEnumUnitsInRange(g,GetUnitX(RXD),GetUnitY(RXD),2000,Condition(function RUD))
call ForGroup(g,function RVD)
call L97(g)
set t=null
set g=null
set RXD=null
return false
endfunction
function RYD takes nothing returns nothing
local unit RXD=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="RYD"
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function RWD))
call TJ7(US7,"Bear",RXD)
set RXD=null
set t=null
endfunction
function VF takes nothing returns boolean
return GetLearnedSkill()==1093681461 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function Vg takes nothing returns boolean
if L17(GetFilterUnit())then
return false
endif
if((GetUnitTypeId(GetFilterUnit())==1848652099))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848652088))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848651828))then
return true
endif
return false
endfunction
function RZD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local player j8=GetOwningPlayer(C17)
local location DR9=GetUnitLoc(C17)
local boolexpr hP=Condition(function Vg)
local group JJ8=LD7()
local integer HW8=GetUnitAbilityLevel(C17,1093681461)
local integer PP7=GetHandleId(j8)
local integer Vh
local unit FJ9
local real GDD
set EZ7="RZD"
call GroupEnumUnitsOfPlayer(JJ8,GetOwningPlayer(C17),hP)
call DestroyBoolExpr(hP)
if(HW8==1)then
call RYD()
endif
set Vh=CountUnitsInGroup(JJ8)
if(Vh==1)then
set FJ9=FirstOfGroup(JJ8)
set GDD=GetUnitLifePercent(FJ9)
set DR9=GetUnitLoc(FJ9)
call ShowUnit(FJ9,false)
call KillUnit(FJ9)
if(HW8==2)then
call CreateNUnitsAtLoc(1,1848652088,GetOwningPlayer(GetTriggerUnit()),DR9,bj_UNIT_FACING)
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call RSD(bj_lastCreatedUnit)
elseif(HW8==3)then
call CreateNUnitsAtLoc(1,1848652099,GetOwningPlayer(GetTriggerUnit()),DR9,bj_UNIT_FACING)
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call RSD(bj_lastCreatedUnit)
elseif(HW8==4)then
call CreateNUnitsAtLoc(1,1848652103,GetOwningPlayer(GetTriggerUnit()),DR9,bj_UNIT_FACING)
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call RSD(bj_lastCreatedUnit)
endif
call SetUnitLifePercentBJ(bj_lastCreatedUnit,GDD)
call TJ7(PP7,"MyBear",bj_lastCreatedUnit)
call RDD()
endif
call L97(JJ8)
set C17=null
set j8=null
set DR9=null
set hP=null
set JJ8=null
set FJ9=null
endfunction
function OE8 takes nothing returns nothing
set dZ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dZ,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(dZ,Condition(function VF))
call TriggerAddAction(dZ,function RZD)
endfunction
function RAD takes nothing returns boolean
return GetUnitTypeId(GetAttacker())==1848652103 or GetUnitTypeId(GetAttacker())==1848652099 or GetUnitTypeId(GetAttacker())==1848652088 or GetUnitTypeId(GetAttacker())==1848651828
endfunction
function RBD takes nothing returns nothing
local unit VD=GetAttacker()
local unit VI=M7[GetPlayerId(GetOwningPlayer(VD))]
set EZ7="RBD"
if((GetUnitX(VI)-GetUnitX(VD))*(GetUnitX(VI)-GetUnitX(VD))+(GetUnitY(VI)-GetUnitY(VD))*(GetUnitY(VI)-GetUnitY(VD))>=(1210000))then
call IssueImmediateOrder(VD,"stop")
elseif(GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_COMPUTER)then
if((GetHeroLevel(VI)<12)and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>150.)and((GetOwningPlayer(GetTriggerUnit())==Z7[0])or(GetOwningPlayer(GetTriggerUnit())==A7[0]))and(eY[GetPlayerId(GetOwningPlayer(GetAttacker()))]==1)and(Bz>hq[240+GetPlayerId(GetOwningPlayer(GetAttacker()))]))then
call TriggerSleepAction(0.1)
call SY7(GetAttacker(),851986,h9[GetPlayerId(GetOwningPlayer(GetAttacker()))])
endif
endif
set VD=null
set VI=null
endfunction
function O88 takes nothing returns nothing
set d0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(d0,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(d0,Condition(function RAD))
call TriggerAddAction(d0,function RBD)
endfunction
function RCD takes nothing returns boolean
return GetSpellAbilityId()==1093681463
endfunction
function R3D takes nothing returns nothing
local unit VD=GetTriggerUnit()
local unit VI=M7[GetPlayerId(GetOwningPlayer(VD))]
set EZ7="R3D"
call SetUnitX(VD,GetUnitX(VI)+GetRandomReal(25,50)*Cos(GetRandomReal(0,360)))
call SetUnitY(VD,GetUnitY(VI)+GetRandomReal(25,50)*Sin(GetRandomReal(0,360)))
set VD=null
set VI=null
endfunction
function OD8 takes nothing returns nothing
set H_4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(H_4,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(H_4,Condition(function RCD))
call TriggerAddAction(H_4,function R3D)
endfunction
function R6D takes nothing returns boolean
return GetLearnedSkill()==1093681464 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function RLD takes nothing returns nothing
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1378889776,GetPlayerTechCount(GetOwningPlayer(GetTriggerUnit()),1378889776,true)+1)
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1378889777,GetPlayerTechCount(GetOwningPlayer(GetTriggerUnit()),1378889777,true)+1)
endfunction
function qb takes nothing returns nothing
set I44=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I44,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(I44,Condition(function R6D))
call TriggerAddAction(I44,function RLD)
endfunction
function R1D takes item RQ7 returns boolean
return RO7(RQ7)==B5 or RO7(RQ7)==C5 or RO7(RQ7)==EW or RO7(RQ7)==HW
endfunction
function R0D takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())==1848652103 or GetUnitTypeId(GetTriggerUnit())==1848652099 or GetUnitTypeId(GetTriggerUnit())==1848652088 or GetUnitTypeId(GetTriggerUnit())==1848651828)and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function R5D takes nothing returns nothing
local location R2D
set EZ7="R5D"
if AG7(GetOwningPlayer(GetTriggerUnit()))then
set R2D=GetRectCenter(ED)
else
set R2D=GetRectCenter(L9)
endif
if R1D(GetEnumItem())==false then
call SetItemPositionLoc(GetEnumItem(),R2D)
endif
call RemoveLocation(R2D)
set R2D=null
endfunction
function R_D takes nothing returns nothing
local integer US7=GetHandleId(GetOwningPlayer(GetTriggerUnit()))
local unit m7=T37(US7,"BearItemHolder")
local unit VD=T37(US7,"MyBear")
local integer x
local integer y
set EZ7="R_D"
if m7==null then
if AG7(GetOwningPlayer(VD))then
set x=-6390
set y=-5615
else
set x=5875
set y=5000
endif
set m7=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697657158,x,y,0)
call TJ7(US7,"BearItemHolder",m7)
endif
if R1D(GetEnumItem())==false then
call UnitAddItem(m7,GetEnumItem())
endif
call ShowUnit(m7,true)
set m7=null
set VD=null
endfunction
function VL takes nothing returns nothing
local integer EL9=RO7(GetEnumItem())
set EZ7="VL"
if GetWidgetLife(GetEnumItem())>0 and EL9!=X0 then
if D4==true or RZ4==true then
call R5D()
else
call R_D()
endif
else
endif
endfunction
function S4D takes nothing returns nothing
local location Mk=GetUnitLoc(GetTriggerUnit())
local rect S7D=RectFromCenterSizeBJ(Mk,400.00,400.00)
local unit VI=M7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set EZ7="S4D"
call SetHeroXP(VI,(GetHeroXP(VI)-(GetHeroXP(VI)/(125-(25*GetUnitAbilityLevel(VI,1093681461))))),false)
call UnitDamageTargetBJ(GetKillingUnit(),VI,(100.00*I2R(GetUnitAbilityLevel(VI,1093681461))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call EnumItemsInRectBJ(S7D,function VL)
call RemoveLocation(Mk)
call RemoveRect(S7D)
set Mk=null
set VI=null
set S7D=null
endfunction
function qB takes nothing returns nothing
set d3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(d3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(d3,Condition(function R0D))
call TriggerAddAction(d3,function S4D)
endfunction
function S8D takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())==1311781171 or GetUnitTypeId(GetTriggerUnit())==1311781199 or GetUnitTypeId(GetTriggerUnit())==1311781173 or GetUnitTypeId(GetTriggerUnit())==1311781172)and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function S9D takes nothing returns nothing
local unit VD=T37(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"MyBear")
set EZ7="S9D"
call KillUnit(VD)
set VD=null
endfunction
function qc takes nothing returns nothing
set d4=CreateTrigger()
call ky(d4,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(d4,Condition(function S8D))
call TriggerAddAction(d4,function S9D)
endfunction
function SDD takes nothing returns boolean
return(GetLearnedSkill()==1093681483 or GetLearnedSkill()==1093748313)and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function SED takes nothing returns nothing
if(GetUnitAbilityLevel(GetTriggerUnit(),1093681483)==1 or GetUnitAbilityLevel(GetTriggerUnit(),1093748313)==1)then
call L67(GetTriggerUnit(),1093752646)
endif
endfunction
function qC takes nothing returns nothing
set d5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(d5,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(d5,Condition(function SDD))
call TriggerAddAction(d5,function SED)
endfunction
function SFD takes nothing returns boolean
if(GetSpellAbilityId()==1093681485 or GetSpellAbilityId()==1093681459 or GetSpellAbilityId()==1093681460 or GetSpellAbilityId()==1093677652 or GetSpellAbilityId()==1093748314 or GetSpellAbilityId()==1093752646)then
return true
elseif GetSpellAbilityId()==1093681483 or GetSpellAbilityId()==1093748313 then
if GetUnitAbilityLevel(GetTriggerUnit(),1093752646)==0 then
call L67(GetTriggerUnit(),1093752646)
endif
endif
return false
endfunction
function SGD takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))
endfunction
function SHD takes nothing returns nothing
call IssueImmediateOrderById(GetEnumUnit(),852556)
endfunction
function Vq takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),300.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction
function VQ takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),450.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction
function Vr takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),600.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction
function SID takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),750.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction
function SJD takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==XD4 and GetUnitTypeId(GetFilterUnit())==X94 and L17(GetFilterUnit())==false
endfunction
function SKD takes player p,integer BU7,real x,real y returns nothing
local group g=LD7()
set EZ7="DetonateMinesInArea"
set XD4=p
set X94=BU7
call GroupEnumUnitsInRange(g,x,y,716,Condition(function SJD))
call ForGroup(g,function SHD)
call L97(g)
set g=null
endfunction
function SMD takes nothing returns nothing
local real x=GetUnitX(GetTriggerUnit())
local real y=GetUnitY(GetTriggerUnit())
local group JJ8
set EZ7="SMD"
call DisableTrigger(I74)
set V0=true
if(GetSpellAbilityId()==1093681485)then
call EF8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
call EV8(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)
set JJ8=LD7()
call GroupEnumUnitsInRange(JJ8,x,y,425,Condition(function SGD))
call ForGroup(JJ8,function Vq)
call RemoveUnit(GetTriggerUnit())
call L97(JJ8)
elseif(GetSpellAbilityId()==1093681459)then
call EF8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
call EV8(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)
set JJ8=LD7()
call GroupEnumUnitsInRange(JJ8,x,y,435,Condition(function SGD))
call ForGroup(JJ8,function VQ)
call RemoveUnit(GetTriggerUnit())
call L97(JJ8)
elseif(GetSpellAbilityId()==1093681460)then
call EF8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
call EV8(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)
set JJ8=LD7()
call GroupEnumUnitsInRange(JJ8,x,y,450,Condition(function SGD))
call ForGroup(JJ8,function Vr)
call RemoveUnit(GetTriggerUnit())
call L97(JJ8)
elseif(GetSpellAbilityId()==1093748314)then
call EF8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
call EV8(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)
set JJ8=LD7()
call GroupEnumUnitsInRange(JJ8,x,y,450,Condition(function SGD))
call ForGroup(JJ8,function SID)
call RemoveUnit(GetTriggerUnit())
call L97(JJ8)
elseif(GetSpellAbilityId()==1093677652)then
set JJ8=O_7(GetOwningPlayer(GetTriggerUnit()),1865429304)
call ForGroup(JJ8,function SHD)
call DestroyGroup(JJ8)
set JJ8=O_7(GetOwningPlayer(GetTriggerUnit()),1865429042)
call ForGroup(JJ8,function SHD)
call DestroyGroup(JJ8)
set JJ8=O_7(GetOwningPlayer(GetTriggerUnit()),1865429058)
call ForGroup(JJ8,function SHD)
call DestroyGroup(JJ8)
set JJ8=O_7(GetOwningPlayer(GetTriggerUnit()),1865429314)
call ForGroup(JJ8,function SHD)
call DestroyGroup(JJ8)
endif
if(GetSpellAbilityId()==1093752646)then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
call SKD(GetOwningPlayer(GetTriggerUnit()),1865429304,x,y)
call SKD(GetOwningPlayer(GetTriggerUnit()),1865429042,x,y)
call SKD(GetOwningPlayer(GetTriggerUnit()),1865429058,x,y)
call SKD(GetOwningPlayer(GetTriggerUnit()),1865429314,x,y)
endif
set V0=false
call EnableTrigger(I74)
set JJ8=null
endfunction
function SND takes nothing returns nothing
local integer id=GetUnitTypeId(GetTriggerUnit())
local real x=GetUnitX(GetTriggerUnit())
local real y=GetUnitY(GetTriggerUnit())
local group JJ8
set EZ7="SND"
if id==1865429304 then
call EF8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
set JJ8=LD7()
call GroupEnumUnitsInRange(JJ8,x,y,425,Condition(function SGD))
call ForGroup(JJ8,function Vq)
call L97(JJ8)
endif
if id==1865429042 then
call EF8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
set JJ8=LD7()
call GroupEnumUnitsInRange(JJ8,x,y,435,Condition(function SGD))
call ForGroup(JJ8,function VQ)
call L97(JJ8)
endif
if id==1865429058 then
call EF8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
set JJ8=LD7()
call GroupEnumUnitsInRange(JJ8,x,y,450,Condition(function SGD))
call ForGroup(JJ8,function Vr)
call L97(JJ8)
endif
if id==1865429314 then
call EF8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
set JJ8=LD7()
call GroupEnumUnitsInRange(JJ8,x,y,450,Condition(function SGD))
call ForGroup(JJ8,function SID)
call L97(JJ8)
endif
set JJ8=null
endfunction
function SOD takes nothing returns boolean
local integer id=GetUnitTypeId(GetTriggerUnit())
set EZ7="SOD"
if id==1865429304 or id==1865429042 or id==1865429058 or id==1865429314 then
call SND()
endif
return false
endfunction
function qD takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="qD"
call TA9("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav")
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddAction(t,function SMD)
call TriggerAddCondition(t,Condition(function SFD))
set I74=CreateTrigger()
call EO8(I74,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(I74,Condition(function SOD))
set t=null
endfunction
function SPD takes nothing returns boolean
if((GetUnitTypeId(GetTriggerUnit())==1848651855))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())==1848651856))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())==1848651857))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())==1848651854))then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==1865429304 or GetUnitTypeId(GetTriggerUnit())==1865429042 or GetUnitTypeId(GetTriggerUnit())==1865429058 or GetUnitTypeId(GetTriggerUnit())==1865429314 then
if Ab[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]then
endif
endif
return false
endfunction
function SQD takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit()))and((GetUnitTypeId(GetFilterUnit())==1848651855)or(GetUnitTypeId(GetFilterUnit())==1848651856)or(GetUnitTypeId(GetFilterUnit())==1848651857)or(GetUnitTypeId(GetFilterUnit())==1848651854)))
endfunction
function SRD takes rect r,boolexpr SSD returns group
set CB=LD7()
call GroupEnumUnitsInRect(CB,r,SSD)
call DestroyBoolExpr(SSD)
return CB
endfunction
function STD takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1211117637 or GetUnitTypeId(GetFilterUnit())==1211117639 or GetUnitTypeId(GetFilterUnit())==1211117638 or GetUnitTypeId(GetFilterUnit())==1160786000 or GetUnitTypeId(GetFilterUnit())==1311780930 or GetUnitTypeId(GetFilterUnit())==1430468144 or GetUnitTypeId(GetFilterUnit())==1162032951 or GetUnitTypeId(GetFilterUnit())==1429221456 or GetUnitTypeId(GetFilterUnit())==1160786510 or GetUnitTypeId(GetFilterUnit())==1160786511 or GetUnitTypeId(GetFilterUnit())==1328558390 or GetUnitTypeId(GetFilterUnit())==1328558391 or GetUnitTypeId(GetFilterUnit())==1160786502 or GetUnitTypeId(GetFilterUnit())==1211122767 or GetUnitTypeId(GetFilterUnit())==1311788343 or GetUnitTypeId(GetFilterUnit())==1311788354 or GetUnitTypeId(GetFilterUnit())==1311788355 or GetUnitTypeId(GetFilterUnit())==1311788367 or GetUnitTypeId(GetFilterUnit())==1311788353)and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(IN4))
endfunction
function SUD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit SVD=T37(PP7,"Mine")
local group g
set EZ7="SUD"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect(AddSpecialEffect("war3mapImported\\NewGroundEX.mdx",GetUnitX(SVD),GetUnitY(SVD)))
call T97(PP7)
call UQ7(t)
else
set g=LD7()
set IN4=SVD
call GroupEnumUnitsInRange(g,GetUnitX(SVD),GetUnitY(SVD),200,Condition(function STD))
if FirstOfGroup(g)!=null then
call T97(PP7)
call UQ7(t)
call SetUnitExploded(SVD,true)
call KillUnit(SVD)
endif
call L97(g)
endif
set t=null
set SVD=null
set g=null
return false
endfunction
function SWD takes nothing returns nothing
local integer PP7=GetHandleId(GetOwningPlayer(GetTriggerUnit()))
local group JJ8=SRD(bj_mapInitialPlayableArea,Condition(function SQD))
local integer Vu=U97(PP7,"GMCount")
local integer VU=0
local unit Vv
local integer VV
local unit K68
local integer Vw
local integer T8
local integer U8
local trigger t=CreateTrigger()
set EZ7="SWD"
call TriggerRegisterTimerEvent(t,0.4,true)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function SUD))
call TJ7(GetHandleId(t),"Mine",GetTriggerUnit())
set Vu=(Vu+1)
call StartTimerBJ(T17(PP7,"MineTimer"+I2S(Vu)),false,15000.00)
call TJ7(PP7,"GMUnit"+I2S(Vu),GetTriggerUnit())
set VU=CountUnitsInGroup(JJ8)
if(VU>20)then
set VV=99999
set T8=1
set U8=Vu
loop
exitwhen T8>U8
set K68=T37(PP7,"GMUnit"+I2S(T8))
set Vw=R2I(TimerGetRemaining(T17(PP7,"MineTimer"+I2S(T8))))
if(GetUnitState(K68,UNIT_STATE_LIFE)>0 and Vw<VV)then
set Vv=K68
set VV=Vw
endif
set T8=T8+1
endloop
call ExplodeUnitBJ(Vv)
else
call EI8(I2S(VU),1,GetTriggerUnit(),0.027,130,130,130,216)
endif
call TF7(PP7,"GMCount",Vu)
call L97(JJ8)
set t=null
set JJ8=null
set Vv=null
set K68=null
endfunction
function SXD takes nothing returns boolean
if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0.5 and(GetUnitTypeId(GetFilterUnit())==1848651855 or GetUnitTypeId(GetFilterUnit())==1848651856 or GetUnitTypeId(GetFilterUnit())==1848651857 or GetUnitTypeId(GetFilterUnit())==1848651854)then
set n0=n0+1
endif
return false
endfunction
function SYD takes nothing returns boolean
local group g=LD7()
set EZ7="SYD"
set n0=0
call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function SXD))
if n0>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848657475)))+": "+I2S(n0))
endif
call L97(g)
set g=null
return false
endfunction
function qe takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="qe"
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function SYD))
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,GetWorldBounds())
call TriggerAddCondition(t,Condition(function SPD))
call TriggerAddAction(t,function SWD)
set t=null
endfunction
function SZD takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local unit HV8=CreateUnit(GetOwningPlayer(LI7),1697656901,GetUnitX(LI7),GetUnitY(LI7),0)
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local integer i=0
local real a=0
local real r=0
local integer HW8=GetUnitAbilityLevel(LI7,1093681745)
call L67(HV8,1093678406)
call SetUnitAbilityLevel(HV8,1093678406,HW8)
loop
exitwhen i>40
exitwhen IssuePointOrder(HV8,"stampede",x+r*Cos(a),y+r*Sin(a))
set i=i+1
set a=a+0.4
set r=r+10
endloop
call RemoveLocation(l)
set LI7=null
set HV8=null
set l=null
endfunction
function SAD takes nothing returns boolean
if GetSpellAbilityId()==1093681745 then
call SZD()
endif
return false
endfunction
function OF8 takes nothing returns nothing
set d8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(d8,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(d8,Condition(function SAD))
endfunction
function SBD takes nothing returns boolean
return GetSpellAbilityId()==1093678137 and L87(GetSpellTargetUnit())==false
endfunction
function SCD takes nothing returns nothing
call UnitDamageTarget(GetTriggerUnit(),GetSpellTargetUnit(),GetUnitAbilityLevel(GetTriggerUnit(),1093678137)*80,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endfunction
function OG8 takes nothing returns nothing
set d9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(d9,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(d9,Condition(function SBD))
call TriggerAddAction(d9,function SCD)
endfunction
function S3D takes unit u returns boolean
return GetUnitTypeId(u)==1211117638 or GetUnitTypeId(u)==1211117637 or GetUnitTypeId(u)==1211117639 or GetUnitTypeId(u)==1328558391
endfunction
function S6D takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==true then
call HY8(PU,GetEnumUnit(),ZG4,QU/3)
else
call HY8(PU,GetEnumUnit(),ZG4,QU)
endif
endfunction
function SLD takes unit FJ8,real x,real y,real r,real d returns nothing
local group g=LD7()
set EZ7="Toss_DamageArea"
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,r,Condition(function H98))
set PU=FJ8
set QU=d
call ForGroup(g,function S6D)
call L97(g)
set g=null
endfunction
function S1D takes nothing returns boolean
if GP8()and RM7(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))then
return true
endif
return false
endfunction
function S0D takes unit C17 returns unit
local unit p5=null
local group g=LD7()
set EZ7="Toss_GetSource"
call GroupEnumUnitsInRange(g,GetUnitX(C17),GetUnitY(C17),275,Condition(function S1D))
call GroupRemoveUnit(g,C17)
set p5=GroupPickRandomUnit(g)
call L97(g)
set IN4=p5
set p5=null
set g=null
return IN4
endfunction
function S5D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer iX=GetTriggerEvalCount(t)
local unit C17=T37(US7,"Hero")
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local real S2D=UD7(US7,"Tossx0")
local real S_D=UD7(US7,"Tossy0")
local real x1=GetUnitX(p5)
local real y1=GetUnitY(p5)
local real x2=GetUnitX(m5)
local real y2=GetUnitY(m5)
local real RK
local real T4D
local real T7D
local real T8D
local real Il
local real IL
local location l
set EZ7="S5D"
if Q07(S2D,S_D,x2,y2)>1000 then
set x2=S2D
set y2=S_D
endif
set RK=Q87(x1,y1,x2,y2)
set T4D=Q07(x1,y1,x2,y2)
set T7D=T4D/(51-iX)
set T8D=(iX-25)*(iX-25)
set Il=x1+T7D*Cos(RK*bj_DEGTORAD)
set IL=y1+T7D*Sin(RK*bj_DEGTORAD)
if iX<51 then
if S3D(p5)==false then
call SetUnitFlyHeight(p5,775-T8D,0)
endif
call SetUnitPosition(p5,Il,IL)
else
if S3D(p5)==false then
call SetUnitFlyHeight(p5,GetUnitDefaultFlyHeight(p5),0)
endif
call PauseUnit(p5,false)
call SetUnitPathing(p5,true)
call SetUnitPosition(p5,x2,y2)
call UO7(p5,"Tossed")
set l=Location(x2,y2)
call TerrainDeformationRippleBJ(0.2,true,l,1.00,300.00,96.00,1,64.00)
call RemoveLocation(l)
call DestroyEffect(T27(US7,"FX"))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(p5),GetUnitY(p5)))
if IsUnitAlly(p5,GetOwningPlayer(C17))then
else
if(SK7((C17),ZU[GB4])!=null)then
call HY8(C17,p5,ZG4,(0.2+0.15*(GetUnitAbilityLevel(C17,1093682009)+1))*75*GetUnitAbilityLevel(C17,1093681754))
else
call HY8(C17,p5,ZG4,(0.2+0.15*GetUnitAbilityLevel(C17,1093682009))*75*GetUnitAbilityLevel(C17,1093681754))
endif
endif
call ER8(x2,y2,300)
call SLD(C17,x2,y2,300,75*GetUnitAbilityLevel(C17,1093681754))
call T97(US7)
call UQ7(t)
endif
set t=null
set C17=null
set p5=null
set m5=null
set l=null
return false
endfunction
function T9D takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit p5=VI4
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="T9D"
call SetUnitAnimationByIndex(C17,4)
call PauseUnit(p5,true)
call SetUnitPathing(p5,false)
if S3D(p5)==false then
call L67(p5,1097691750)
call UnitRemoveAbility(p5,1097691750)
endif
call UM7(p5,"Tossed")
call TJ7(US7,"Hero",C17)
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TK7(US7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",p5,"origin"))
call TG7(US7,"Tossx0",GetUnitX(m5))
call TG7(US7,"Tossy0",GetUnitY(m5))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function S5D))
set C17=null
set p5=null
set m5=null
set t=null
endfunction
function TDD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit p5=S0D(C17)
local unit m5=GetSpellTargetUnit()
set EZ7="TDD"
set VI4=p5
if p5==null then
call RG7(C17)
call DQ8(GetOwningPlayer(C17),CF7(1848656961))
elseif GetOwningPlayer(m5)==GetOwningPlayer(C17)then
call RG7(C17)
call DQ8(GetOwningPlayer(C17),CF7(1848656729))
endif
set C17=null
set p5=null
set m5=null
endfunction
function TED takes nothing returns boolean
if GetSpellAbilityId()==1093681754 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call TDD()
else
call T9D()
endif
endif
return false
endfunction
function OK8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="OK8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function TED))
set t=null
endfunction
function TFD takes nothing returns nothing
call T59(1093815115)
endfunction
function TGD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=T37(PP7,"Source")
local integer L48
set EZ7="TGD"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==FJ8 and GetEventDamage()>20. then
set L48=U97(GetHandleId(FJ8),"WarClub_Count")
if UJ7(FJ8,"WarClubState")==false then
call UU7(FJ8,"WarClubState",.1)
call TF7(GetHandleId(FJ8),"WarClub_Count",(L48+1))
endif
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
else
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set FJ8=null
set t=null
return false
endfunction
function THD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer AW7=GetHandleId(t)
local unit IP8=T37(AW7,"Source")
local integer TID=U97(GetHandleId(IP8),"WarClub_Count")
set EZ7="THD"
call TF7(AW7,"WarClub_Cooldown",1)
call UnitRemoveAbility(IP8,1093752391)
if(SK7(IP8,ZU[GB4])!=null)then
call L67(IP8,1093752392)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(IP8),1093752392,true)
if TID>5 then
call FlushChildHashtable(L7,AW7)
call UQ7(t)
endif
set IP8=null
set t=null
return false
endfunction
function TJD takes nothing returns nothing
local trigger t
local unit IP8=GetAttacker()
local integer AW7=GetHandleId(IP8)
local integer TID=U97(AW7,"WarClub_Count")
set EZ7="TJD"
if TID<6 then
if not UJ7(IP8,"WarClubState")then
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1.,false)
call TriggerAddCondition(t,Condition(function TGD))
call TJ7(GetHandleId(t),"Source",IP8)
endif
else
call TF7(AW7,"WarClub_Count",(0))
call UnitRemoveAbility(IP8,1093752625)
if(U97(AW7,"WarClub_Cooldown"))==1 then
set t=T07(AW7,"WarClub_EndTrig")
call FlushChildHashtable(L7,GetHandleId(t))
call UQ7(t)
endif
endif
set IP8=null
set t=null
endfunction
function WarClub_Attack takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093752625)>0 then
call TJD()
endif
return false
endfunction
function TKD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="TKD"
if GetTriggerEvalCount(t)==1 then
call SetUnitTimeScalePercent(FJ8,250)
else
call SetUnitTimeScalePercent(FJ8,100)
call SetUnitAnimationByIndex(FJ8,12)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
return false
endfunction
function TMD takes nothing returns boolean
local trigger t
set EZ7="TMD"
if GetSpellAbilityId()==1093752392 then
call UU7(GetTriggerUnit(),"WarClubCastState",29.9)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093752392,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093752391,true)
call L67(GetTriggerUnit(),1093752391)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093752625,false)
call L67(GetTriggerUnit(),1093752625)
call IssueTargetOrder(GetTriggerUnit(),"grabtree",GetSpellTargetDestructable())
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,30,false)
call TriggerAddCondition(t,Condition(function THD))
call TJ7(GetHandleId(t),"Source",GetTriggerUnit())
call TM7(GetHandleId(GetTriggerUnit()),"WarClub_EndTrig",t)
call TF7(GetHandleId(GetTriggerUnit()),"WarClub_Cooldown",(0))
call TF7(GetHandleId(GetTriggerUnit()),"WarClub_Count",(0))
set t=null
elseif GetSpellAbilityId()==1093815105 then
call RemoveDestructable(GetSpellTargetDestructable())
call ShowUnit(GetTriggerUnit(),false)
call ShowUnit(GetTriggerUnit(),true)
call UnitRemoveAbility(GetTriggerUnit(),1097625443)
call UnitAddAbility(GetTriggerUnit(),1093815106)
call UnitRemoveAbility(GetTriggerUnit(),1093815106)
call UnitAddAbility(GetTriggerUnit(),1093815107)
call UnitRemoveAbility(GetTriggerUnit(),1093815107)
call AddUnitAnimationProperties(GetTriggerUnit(),"upgrade",false)
endif
return false
endfunction
function TND takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="TND"
if(SK7((FJ8),ZU[GB4])!=null)then
if UJ7(FJ8,"WarClubCastState")==false then
if GetUnitAbilityLevel(FJ8,1093752392)==0 and GetUnitAbilityLevel(FJ8,1093752391)==0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093752392,true)
call L67(FJ8,1093752392)
endif
endif
else
call UnitRemoveAbility(FJ8,1093752392)
call UnitRemoveAbility(FJ8,1093752391)
endif
set t=null
set FJ8=null
return false
endfunction
function SU9 takes nothing returns nothing
local unit p5=B2
local unit m5=C2
local unit HV8=T37(GetHandleId(p5),"GrowCaster")
set EZ7="SU9"
call TJ7(GetHandleId(m5),"GrowCaster",HV8)
call SetUnitOwner(HV8,GetOwningPlayer(m5),true)
set p5=null
set m5=null
set HV8=null
endfunction
function D79 takes nothing returns nothing
local unit C17=IT4
local unit HV8=T37(GetHandleId(C17),"GrowCaster")
set EZ7="D79"
if HV8!=null and GetUnitTypeId(HV8)==1697657174 then
call RemoveUnit(HV8)
endif
set C17=null
set HV8=null
endfunction
function TOD takes nothing returns boolean
return GetLearnedSkill()==1093682009 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function TPD takes nothing returns nothing
local unit TQD=T37(GetHandleId(GetTriggeringTrigger()),"Tiny")
local integer BY7=GetUnitAbilityLevel(TQD,1093682009)
set EZ7="TPD"
if GetUnitState(TQD,UNIT_STATE_LIFE)>1 then
call SetUnitScale(TQD,0.5+0.25*BY7,0.5+0.25*BY7,0.5+0.25*BY7)
endif
set TQD=null
endfunction
function TRD takes nothing returns boolean
local integer BY7
if IsUnitIllusion(GetTriggerUnit())and(GetUnitTypeId(GetTriggerUnit())==1432580716 or GetUnitTypeId(GetTriggerUnit())==1429221720)then
set BY7=GetUnitAbilityLevel(T37(GetHandleId(GetTriggeringTrigger()),"Tiny"),1093682009)
call SetUnitScale(GetTriggerUnit(),0.5+0.25*BY7,0.5+0.25*BY7,0.5+0.25*BY7)
endif
return false
endfunction
function TSD takes nothing returns nothing
local trigger t
local unit TTD=GetTriggerUnit()
local integer HW8=GetUnitAbilityLevel(TTD,1093682009)
local unit HV8
local unit LI7=GetTriggerUnit()
local region TUD
set EZ7="TSD"
if HW8==1 then
set HV8=CreateUnit(GetOwningPlayer(LI7),1697657174,0,0,0)
call L67(HV8,1093742658)
call TJ7(GetHandleId(LI7),"GrowCaster",HV8)
else
set HV8=T37(GetHandleId(LI7),"GrowCaster")
endif
if HW8==2 then
call UnitRemoveAbility(HV8,1093742658)
call L67(HV8,1093742657)
elseif HW8==3 then
call UnitRemoveAbility(HV8,1093742658)
call UnitRemoveAbility(HV8,1093742657)
call L67(HV8,1093687891)
endif
call SetPlayerTechResearched(GetOwningPlayer(TTD),1378889797,HW8)
if HW8==1 then
set t=CreateTrigger()
call TriggerAddAction(t,function TPD)
call TriggerRegisterTimerEvent(t,2.00,true)
call TJ7(GetHandleId(t),"Tiny",TTD)
call SetUnitScale(TTD,0.5+0.25*HW8,0.5+0.25*HW8,0.5+0.25*HW8)
set t=CreateTrigger()
set TUD=CreateRegion()
call RegionAddRect(TUD,GetWorldBounds())
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
call TriggerAddCondition(t,Condition(function TRD))
call TJ7(GetHandleId(t),"Tiny",TTD)
set t=null
set TUD=null
endif
set TTD=null
set LI7=null
set HV8=null
endfunction
function OI8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="OI8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function TOD))
call TriggerAddAction(t,function TSD)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function TMD))
call TFD()
set t=null
endfunction
function TVD takes nothing returns boolean
if UJ7(GetFilterUnit(),"Tossed")then
call HY8(gB,GetFilterUnit(),ZG4,lB)
endif
return false
endfunction
function TWD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
local unit oA=CreateUnit(GetOwningPlayer(C17),1697656901,x,y,0)
local integer BY7=GetUnitAbilityLevel(C17,1093684300)
local group g=LD7()
set EZ7="TWD"
call L67(oA,1093742666)
call SetUnitAbilityLevel(oA,1093742666,BY7)
set gB=C17
if BY7==1 then
set lB=25
elseif BY7==2 then
set lB=45
elseif BY7==3 then
set lB=65
elseif BY7==4 then
set lB=75
endif
call GroupEnumUnitsInRange(g,x,y,275+24,Condition(function TVD))
call L97(g)
if GetTriggerEvalCount(t)>6 then
call T97(US7)
call UQ7(t)
endif
set t=null
set C17=null
set oA=null
set g=null
return false
endfunction
function TXD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local location l=GetSpellTargetLoc()
local unit oA=CreateUnit(GetOwningPlayer(C17),1697656901,GetUnitX(C17),GetUnitY(C17),0)
local integer BY7=GetUnitAbilityLevel(C17,1093684300)
set EZ7="TXD"
call L67(oA,1093742669)
call SetUnitAbilityLevel(oA,1093742669,BY7)
call IssuePointOrder(oA,"clusterrockets",GetLocationX(l),GetLocationY(l))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function TWD))
call TJ7(US7,"Hero",C17)
call TG7(US7,"x",GetLocationX(l))
call TG7(US7,"y",GetLocationY(l))
call TriggerEvaluate(t)
call RemoveLocation(l)
set C17=null
set l=null
set t=null
set oA=null
endfunction
function TYD takes nothing returns boolean
if GetSpellAbilityId()==1093684300 then
call TXD()
endif
return false
endfunction
function OJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="OJ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function TYD))
set t=null
endfunction
function TZD takes nothing returns boolean
local unit FJ8=GetTriggerUnit()
local unit PU7=GetAttacker()
local integer HW8=GetUnitAbilityLevel(FJ8,1093744977)
local unit HV8
set EZ7="TZD"
if GetRandomInt(1,100)<=HW8*6 and Q17(FJ8,PU7)<325 then
set HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
call L67(HV8,1093681750)
call SetUnitAbilityLevel(HV8,1093681750,HW8)
call IssueTargetOrder(HV8,"thunderbolt",PU7)
set HV8=null
endif
set FJ8=null
set PU7=null
return false
endfunction
function TAD takes unit p5,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
set EZ7="jKv"
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function TZD))
if BZ9 then
set nj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set t=null
set p5=null
endfunction
function TBD takes nothing returns boolean
if GetLearnedSkill()==1093744977 and GetUnitAbilityLevel(GetTriggerUnit(),1093744977)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call TAD(GetTriggerUnit(),false)
endif
return false
endfunction
function OM8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="OM8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function TBD))
set t=null
endfunction
function TCD takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),1093685040)>0 and UJ7(GetAttacker(),"BeastRageTrigger")==false
endfunction
function T3D takes nothing returns nothing
local unit PT7=GetAttacker()
local unit PU7=GetTriggerUnit()
local integer PP7=GetHandleId(PT7)
local unit T6D=T37(PP7,"BeastRage|PreviousTarget")
local integer E2D=D18(U97(PP7,"BeastRage|Counter"),0)
local integer HW8=GetUnitAbilityLevel(PT7,1093685040)
set EZ7="T3D"
if T6D!=PU7 then
set E2D=1
else
set E2D=DL8(E2D+1,2+HW8)
endif
call D68(PT7,1093684826,E2D)
call TF7(PP7,"BeastRage|Counter",E2D)
call TJ7(PP7,"BeastRage|PreviousTarget",PU7)
call UU7(PT7,"BeastRageTrigger",.4)
set PT7=null
set PU7=null
set T6D=null
endfunction
function OY8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="OY8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function TCD))
call TriggerAddAction(t,function T3D)
call DX8(1093684826)
set t=null
endfunction
function TLD takes unit FJ8,unit PU7,unit HV8,integer HW8 returns nothing
call SetUnitOwner(HV8,GetOwningPlayer(PU7),false)
call SetUnitAbilityLevel(HV8,1093808463,HW8)
call IssueTargetOrder(HV8,"curse",PU7)
call HY8(FJ8,PU7,ZG4,75+50*HW8)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",PU7,"overhead"))
endfunction
function T1D takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),AR4)==false then
call GroupAddUnit(AR4,GetEnumUnit())
call TLD(AO4,GetEnumUnit(),AP4,AS4)
endif
endfunction
function T0D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local unit T5D=(LoadUnitHandle(L7,(PP7),(675)))
local unit T2D=(LoadUnitHandle(L7,(PP7),(676)))
local real a=(LoadReal(L7,(PP7),(13)))
local real d=(LoadReal(L7,(PP7),(433)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local group HPD=(LoadGroupHandle(L7,(PP7),(187)))
local group g=LD7()
set EZ7="T0D"
if GetTriggerEvalCount(t)<=50 then
set a=a+20
set d=d+7
call SaveReal(L7,(PP7),(13),((a)*1.0))
call SaveReal(L7,(PP7),(433),((d)*1.0))
elseif GetTriggerEvalCount(t)<=100 then
set a=a+20
set d=d-7
call SaveReal(L7,(PP7),(13),((a)*1.0))
call SaveReal(L7,(PP7),(433),((d)*1.0))
endif
call SetUnitX(T5D,DT8(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(T5D,DU8(y+d*Sin(a*bj_DEGTORAD)))
set a=a+180
call SetUnitX(T2D,DT8(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(T2D,DU8(y+d*Sin(a*bj_DEGTORAD)))
set IN4=FJ8
set AO4=FJ8
set AP4=HV8
set AR4=HPD
set AS4=HW8
call GroupEnumUnitsInRange(g,GetUnitX(T5D),GetUnitY(T5D),125,Condition(function G78))
call ForGroup(g,function T1D)
set IN4=FJ8
call GroupEnumUnitsInRange(g,GetUnitX(T2D),GetUnitY(T2D),125,Condition(function G78))
call ForGroup(g,function T1D)
call L97(g)
if GetTriggerEvalCount(t)>100 then
call KillUnit(T5D)
call KillUnit(T2D)
call KillUnit(HV8)
call L97(HPD)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set T5D=null
set T2D=null
set HV8=null
return false
endfunction
function T_D takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local unit T5D=CreateUnit(GetOwningPlayer(FJ8),1697657433,x,y,0)
local unit T2D=CreateUnit(GetOwningPlayer(FJ8),1697657433,x,y,0)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,x,y,0)
set EZ7="T_D"
call UnitAddAbility(HV8,1093808463)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call SaveUnitHandle(L7,(PP7),(675),(T5D))
call SaveUnitHandle(L7,(PP7),(676),(T2D))
call SaveReal(L7,(PP7),(13),((0)*1.0))
call SaveReal(L7,(PP7),(433),((0)*1.0))
call SaveInteger(L7,(PP7),(5),(GetUnitAbilityLevel(FJ8,1093808462)))
call SaveGroupHandle(L7,(PP7),(187),(LD7()))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function T0D))
set FJ8=null
set T5D=null
set T2D=null
set t=null
set HV8=null
endfunction
function U4D takes unit FJ8,unit PU7,unit HV8,integer HW8 returns nothing
call SetUnitOwner(HV8,GetOwningPlayer(PU7),false)
call SetUnitAbilityLevel(HV8,1093808464,HW8)
call IssueTargetOrder(HV8,"slow",PU7)
call HY8(FJ8,PU7,ZG4,75)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",PU7,"overhead"))
endfunction
function U7D takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),AR4)==false and AQ4!=null and L17(AQ4)==false then
call GroupAddUnit(AR4,GetEnumUnit())
call U4D(AO4,GetEnumUnit(),AP4,AS4)
endif
endfunction
function U8D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
local unit T5D=(LoadUnitHandle(L7,(PP7),(393)))
local unit T2D=(LoadUnitHandle(L7,(PP7),(394)))
local unit U9D=(LoadUnitHandle(L7,(PP7),(395)))
local unit UDD=(LoadUnitHandle(L7,(PP7),(396)))
local unit UED=(LoadUnitHandle(L7,(PP7),(397)))
local real a=(LoadReal(L7,(PP7),(13)))-12.5
local real d=(LoadReal(L7,(PP7),(433)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local unit AL9
local group g
local group HPD=(LoadGroupHandle(L7,(PP7),(187)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
set EZ7="U8D"
set d=d+900/20.0
call SaveReal(L7,(PP7),(433),((d)*1.0))
call SetUnitX(T5D,DT8(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(T5D,DU8(y+d*Sin(a*bj_DEGTORAD)))
set a=a+6.25
call SetUnitX(T2D,DT8(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(T2D,DU8(y+d*Sin(a*bj_DEGTORAD)))
set a=a+6.25
call SetUnitX(U9D,DT8(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(U9D,DU8(y+d*Sin(a*bj_DEGTORAD)))
set a=a+6.25
call SetUnitX(UDD,DT8(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(UDD,DU8(y+d*Sin(a*bj_DEGTORAD)))
set a=a+6.25
call SetUnitX(UED,DT8(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(UED,DU8(y+d*Sin(a*bj_DEGTORAD)))
set AO4=FJ8
set AP4=HV8
set AR4=HPD
set AS4=HW8
set AL9=T5D
if AL9!=null and L17(AL9)==false then
set x=GetUnitX(AL9)
set y=GetUnitY(AL9)
set AQ4=AL9
set IN4=FJ8
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function G78))
call ForGroup(g,function U7D)
call L97(g)
endif
set AL9=T2D
if AL9!=null and L17(AL9)==false then
set x=GetUnitX(AL9)
set y=GetUnitY(AL9)
set AQ4=AL9
set IN4=FJ8
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function G78))
call ForGroup(g,function U7D)
call L97(g)
endif
set AL9=U9D
if AL9!=null and L17(AL9)==false then
set x=GetUnitX(AL9)
set y=GetUnitY(AL9)
set AQ4=AL9
set IN4=FJ8
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function G78))
call ForGroup(g,function U7D)
call L97(g)
endif
set AL9=UDD
if AL9!=null and L17(AL9)==false then
set x=GetUnitX(AL9)
set y=GetUnitY(AL9)
set AQ4=AL9
set IN4=FJ8
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function G78))
call ForGroup(g,function U7D)
call L97(g)
endif
set AL9=UED
if AL9!=null and L17(AL9)==false then
set x=GetUnitX(AL9)
set y=GetUnitY(AL9)
set AQ4=AL9
set IN4=FJ8
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function G78))
call ForGroup(g,function U7D)
call L97(g)
endif
if GetTriggerEvalCount(t)>20 then
call KillUnit(T5D)
call KillUnit(T2D)
call KillUnit(U9D)
call KillUnit(UDD)
call KillUnit(UED)
call KillUnit(HV8)
call L97(HPD)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set T5D=null
set T2D=null
set U9D=null
set UDD=null
set UED=null
set HV8=null
return false
endfunction
function UFD takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local real x0=GetUnitX(FJ8)
local real y0=GetUnitY(FJ8)
local real x1=GetSpellTargetX()
local real y1=GetSpellTargetY()
local real a=Q87(x0,y0,x1,y1)
local unit T5D=CreateUnit(GetOwningPlayer(FJ8),1697657434,x0,y0,a-12.5)
local unit T2D=CreateUnit(GetOwningPlayer(FJ8),1697657434,x0,y0,a-6.25)
local unit U9D=CreateUnit(GetOwningPlayer(FJ8),1697657434,x0,y0,a)
local unit UDD=CreateUnit(GetOwningPlayer(FJ8),1697657434,x0,y0,a+6.25)
local unit UED=CreateUnit(GetOwningPlayer(FJ8),1697657434,x0,y0,a+12.5)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,x0,y0,0)
set EZ7="UFD"
call UnitAddAbility(HV8,1093808464)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call SaveUnitHandle(L7,(PP7),(393),(T5D))
call SaveUnitHandle(L7,(PP7),(394),(T2D))
call SaveUnitHandle(L7,(PP7),(395),(U9D))
call SaveUnitHandle(L7,(PP7),(396),(UDD))
call SaveUnitHandle(L7,(PP7),(397),(UED))
call SaveReal(L7,(PP7),(6),((x0)*1.0))
call SaveReal(L7,(PP7),(7),((y0)*1.0))
call SaveReal(L7,(PP7),(433),((0)*1.0))
call SaveReal(L7,(PP7),(13),((a)*1.0))
call SaveGroupHandle(L7,(PP7),(187),(LD7()))
call SaveInteger(L7,(PP7),(5),(GetUnitAbilityLevel(FJ8,1093808461)))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function U8D))
set FJ8=null
set T5D=null
set T2D=null
set U9D=null
set UDD=null
set UED=null
set t=null
set HV8=null
endfunction
function UGD takes nothing returns boolean
if GetSpellAbilityId()==1093808461 then
call UFD()
elseif GetSpellAbilityId()==1093808462 then
call T_D()
endif
return false
endfunction
function UHD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093808460)
local player p=(LoadPlayerHandle(L7,(PP7),(54)))
set EZ7="UHD"
if GetUnitTypeId(FJ8)==1311781175 or GetUnitTypeId(FJ8)==1311781442 then
if((LoadInteger(L7,(GetHandleId((FJ8))),((4416))))==1)==false or p!=GetOwningPlayer(FJ8)then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808462,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808461,false)
call SaveInteger(L7,(GetHandleId((FJ8))),((4416)),(1))
call SaveInteger(L7,(GetHandleId((FJ8))),((4417)),(2))
if p!=GetOwningPlayer(FJ8)then
call SavePlayerHandle(L7,(PP7),(54),(GetOwningPlayer(FJ8)))
endif
endif
if GetUnitAbilityLevel(FJ8,1093808462)!=HW8 then
call SetUnitAbilityLevel(FJ8,1093808462,HW8)
endif
elseif GetUnitTypeId(FJ8)==1311781174 then
if((LoadInteger(L7,(GetHandleId((FJ8))),((4417))))==1)==false or p!=GetOwningPlayer(FJ8)then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808462,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808461,true)
call SaveInteger(L7,(GetHandleId((FJ8))),((4417)),(1))
call SaveInteger(L7,(GetHandleId((FJ8))),((4416)),(2))
if p!=GetOwningPlayer(FJ8)then
call SavePlayerHandle(L7,(PP7),(54),(GetOwningPlayer(FJ8)))
endif
endif
if GetUnitAbilityLevel(FJ8,1093808461)!=HW8 then
call SetUnitAbilityLevel(FJ8,1093808461,HW8)
endif
endif
set t=null
set FJ8=null
return false
endfunction
function UID takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
set EZ7="UID"
call L67(FJ8,1093808462)
call L67(FJ8,1093808461)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808462,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808461,false)
call SaveInteger(L7,(GetHandleId((FJ8))),((4416)),(2))
call SaveInteger(L7,(GetHandleId((FJ8))),((4417)),(2))
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function UHD))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SavePlayerHandle(L7,(PP7),(54),(GetOwningPlayer(FJ8)))
set t=null
set FJ8=null
endfunction
function UJD takes nothing returns boolean
if GetLearnedSkill()==1093808460 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093808460)==1 then
call UID()
endif
return false
endfunction
function OZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="OZ8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function UJD))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UGD))
set t=null
endfunction
function UKD takes nothing returns nothing
if GetEnumUnit()==GetTriggerUnit()then
call FV8(GetEnumUnit(),1093687365,R64,R34,1110454338)
else
call FV8(GetEnumUnit(),1093687365,R64,R34,1110454338)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093687365,false)
endfunction
function UMD takes nothing returns nothing
local group g=LD7()
set EZ7="UMD"
set R64=GetUnitAbilityLevel(GetTriggerUnit(),1093748042)
set R34=10
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function HH8))
call ForGroup(g,function UKD)
call L97(g)
set g=null
endfunction
function UND takes nothing returns boolean
if GetSpellAbilityId()==1093748042 then
call UMD()
endif
return false
endfunction
function OA8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="OA8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UND))
set t=null
endfunction
function UOD takes nothing returns boolean
return GetSpellAbilityId()==1093681733
endfunction
function UPD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="UPD"
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call SetUnitAbilityLevel(FJ8,1093679429,GetUnitAbilityLevel(FJ8,1093681733))
call UnitRemoveAbility(FJ8,1110456665)
set t=null
set FJ8=null
return false
endfunction
function UQD takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="UQD"
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function UPD))
set t=null
set FJ8=null
endfunction
function OW8 takes nothing returns nothing
set Dc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Dc,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerRegisterAnyUnitEventBJ(Dc,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Dc,Condition(function UOD))
call TriggerAddAction(Dc,function UQD)
endfunction
function URD takes nothing returns boolean
return GetLearnedSkill()==1093681733 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function USD takes nothing returns nothing
call SetUnitAbilityLevel(GetTriggerUnit(),1093679429,GetUnitAbilityLevel(GetTriggerUnit(),1093681733))
endfunction
function OX8 takes nothing returns nothing
set DC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DC,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(DC,Condition(function URD))
call TriggerAddAction(DC,function USD)
endfunction
function UTD takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit UUD=T37(GetHandleId(t),"MeldTarget")
set EZ7="UTD"
call UnitRemoveAbility(UUD,1093685827)
call T97(GetHandleId(t))
call DestroyTimer(t)
set UUD=null
set t=null
endfunction
function UVD takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local timer t2=null
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local unit UUD=GetTriggerUnit()
set EZ7="UVD"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==C17 then
call DestroyTrigger(t)
call HY8(C17,UUD,ZH4,50*GetUnitAbilityLevel(C17,1093685846))
call EI8(I2S(50*GetUnitAbilityLevel(C17,1093685846)),1.,UUD,0.03,255,0,0,255)
set t2=CreateTimer()
call L67(UUD,1093685827)
call SetUnitAbilityLevel(UUD,1093685827,GetUnitAbilityLevel(C17,1093685846))
call TJ7(GetHandleId(t2),"MeldTarget",UUD)
call TimerStart(t2,10,false,function UTD)
endif
else
call DestroyTrigger(t)
endif
set UUD=null
set C17=null
set t2=null
set t=null
endfunction
function UWD takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local trigger t2=null
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
local unit UXD=null
local real jUv=9999
local unit UUD=GetOrderTargetUnit()
set EZ7="UWD"
if GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER and IsUnitEnemy(GetOrderTargetUnit(),GetOwningPlayer(C17))and(GetIssuedOrderId()==OrderId("attack")or GetIssuedOrderId()==OrderId("smart"))then
if Q07(x,y,GetUnitX(UUD),GetUnitY(UUD))<(145+50*GetUnitAbilityLevel(C17,1093685839))then
call UnitRemoveAbility(C17,1110456395)
call CI7(t)
if IsUnitType(GetOrderTargetUnit(),UNIT_TYPE_STRUCTURE)==false then
set t2=CreateTrigger()
call TriggerRegisterUnitEvent(t2,UUD,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t2,2,false)
set US7=GetHandleId(t2)
call TJ7(US7,"Hero",C17)
call TriggerAddAction(t2,function UVD)
endif
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_CAST or GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(C17,1110456395)
call CI7(t)
else
if x!=GetUnitX(C17)or y!=GetUnitY(C17)then
call UnitRemoveAbility(C17,1110456395)
call CI7(t)
endif
endif
set UXD=null
set C17=null
set t2=null
set t=null
set UUD=null
endfunction
function UYD takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="UYD"
call DestroyEffect(AddSpecialEffectTarget("effects\\PurpleAura.mdx",LI7,"origin"))
call ET8(aO,GetUnitX(LI7),GetUnitY(LI7))
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerRegisterUnitEvent(t,LI7,EVENT_UNIT_SPELL_CAST)
call TriggerRegisterUnitEvent(t,LI7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,LI7,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddAction(t,function UWD)
call TJ7(US7,"Hero",LI7)
call TG7(US7,"x",GetUnitX(LI7))
call TG7(US7,"y",GetUnitY(LI7))
call IssueImmediateOrder(LI7,"holdposition")
set t=null
set LI7=null
endfunction
function UZD takes nothing returns boolean
if GetSpellAbilityId()==1093685846 then
call UYD()
endif
return false
endfunction
function S08 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="S08"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UZD))
set t=null
endfunction
function UAD takes nothing returns boolean
local unit C17=GetTriggerUnit()
local integer US7=GetHandleId(C17)
local integer UBD=U97(US7,"RefractionPrevent_Remaining")
set EZ7="UAD"
if UBD>0 and GetTriggerEventId()!=EVENT_UNIT_DEATH then
if GetEventDamage()>5 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PriestMissile\\PriestMissile.mdl",C17,"right hand"))
call E48(C17,GetEventDamage())
call TF7(US7,"RefractionPrevent_Remaining",UBD-1)
endif
else
call UnitRemoveAbility(C17,1093685838)
call UnitRemoveAbility(C17,1110456394)
call TF7(US7,"RefractionPrevent_Remaining",0)
endif
set C17=null
return false
endfunction
function UCD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local unit LI7=T37(GetHandleId(t),"Hero")
local integer PP7=GetHandleId(LI7)
local integer DL9=U97(PP7,"RefractionDamage_Remaining")
set EZ7="UCD"
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED and GetAttacker()==LI7 and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false)then
if GetTriggerEventId()!=EVENT_UNIT_DEATH and DL9>0 and GetEventDamage()>0 then
call TF7(PP7,"RefractionDamage_Remaining",DL9-1)
else
call UnitRemoveAbility(LI7,1093685830)
call UnitRemoveAbility(LI7,1093685837)
call UnitRemoveAbility(LI7,1110456393)
call TF7(PP7,"RefractionDamage_Remaining",0)
endif
endif
set t=null
set LI7=null
return false
endfunction
function U3D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local unit LI7=T37(GetHandleId(t),"Hero")
local integer PP7=GetHandleId(LI7)
set EZ7="U3D"
call TF7(PP7,"RefractionPrevent_Remaining",0)
call TF7(PP7,"RefractionDamage_Remaining",0)
call UnitRemoveAbility(LI7,1093685830)
call UnitRemoveAbility(LI7,1093685837)
call UnitRemoveAbility(LI7,1093685838)
call T97(GetHandleId(t))
call UQ7(t)
set t=null
set LI7=null
return false
endfunction
function U6D takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local integer PP7=GetHandleId(LI7)
local trigger t=CreateTrigger()
set EZ7="U6D"
call TriggerRegisterTimerEvent(t,17,false)
call TriggerAddCondition(t,Condition(function U3D))
call TJ7(GetHandleId(t),"Hero",LI7)
call ET8(DP,GetUnitX(LI7),GetUnitY(LI7))
call L67(LI7,1093685838)
call TF7(PP7,"RefractionPrevent_Remaining",GetUnitAbilityLevel(LI7,1093748033)+2)
call L67(LI7,1093685830)
call SetUnitAbilityLevel(LI7,1093685830,GetUnitAbilityLevel(LI7,1093748033))
call L67(LI7,1093685837)
call TF7(PP7,"RefractionDamage_Remaining",GetUnitAbilityLevel(LI7,1093748033)+2)
set LI7=null
set t=null
endfunction
function ULD takes unit LI7,boolean BZ9 returns nothing
local trigger t
set EZ7="Refraction_MainLearn"
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,LI7,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,LI7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function UAD))
call TF7(GetHandleId(LI7),"RefractionPrevent_Remaining",0)
if BZ9 then
set rj[GetPlayerId(GetOwningPlayer(LI7))]=t
endif
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,LI7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function UCD))
call TJ7(GetHandleId(t),"Hero",LI7)
call TF7(GetHandleId(LI7),"RefractionDamage_Remaining",0)
if BZ9 then
set Ej[GetPlayerId(GetOwningPlayer(LI7))]=t
endif
set t=null
set LI7=null
endfunction
function U1D takes nothing returns boolean
if GetLearnedSkill()==1093748033 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093748033)==1 then
call ULD(GetTriggerUnit(),false)
endif
return false
endfunction
function U0D takes nothing returns boolean
if GetSpellAbilityId()==1093748033 then
call U6D()
endif
return false
endfunction
function S58 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="S58"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function U0D))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function U1D))
set t=null
endfunction
function U5D takes unit u,real wP,real wq,real wQ,real wr,real wR returns boolean
local real ws=wQ-wP
local real wS=wr-wq
local real wt=GetUnitX(u)-wP
local real wT=GetUnitY(u)-wq
set EZ7="j2v"
return wR>=RAbsBJ(ws*wT-wS*wt)/ RAbsBJ(Pow(Pow(ws,2)+Pow(wS,2),0.5))
endfunction
function U2D takes unit p5,unit m5,real D_8,real wU,real wv returns nothing
local integer HW8=GetUnitAbilityLevel(p5,1093685839)
local real wV=(300+20*HW8)*2
local real ww=80+25
local unit wW
local real dx
local real dy
local real wx
local real x
local real y
local group g=LD7()
local boolean wX
local boolean wy
set EZ7="VorpalBlade_SuccessfulAttack"
set dx=GetUnitX(m5)-GetUnitX(p5)
set dy=GetUnitY(m5)-GetUnitY(p5)
set wx=Pow(Pow(dx,2)+Pow(dy,2),0.5)
set x=GetUnitX(m5)+(wV/ 2-25)*(dx/ wx)
set y=GetUnitY(m5)+(wV/ 2-25)*(dy/ wx)
set IN4=p5
set IJ4=D_8
call GroupEnumUnitsInRange(g,x,y,Pow(Pow(wV/ 2,2)+Pow(ww/ 2,2),0.5),Condition(function G78))
call GroupRemoveUnit(g,m5)
set wW=FirstOfGroup(g)
loop
exitwhen wW==null
set wX=U5D(wW,GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5),ww/ 2)
set wy=U5D(wW,x,y,x-100,y+100*x*Pow(y,-1),0.01+wV/ 2)
if wX and wy then
call HY8(p5,wW,ZI4,D_8)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PriestMissile\\PriestMissile.mdl",wW,"chest"))
endif
call GroupRemoveUnit(g,wW)
set wW=FirstOfGroup(g)
endloop
call L97(g)
set wW=null
set g=null
endfunction
function U_D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local unit p5=T37(US7,"Source")
set EZ7="U_D"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and GetEventDamage()>1 and IsUnitIllusion(m5)==false then
call DisableTrigger(t)
call U2D(p5,m5,GetEventDamage(),UD7(US7,"InitX"),UD7(US7,"InitY"))
call T97(US7)
call UQ7(t)
endif
else
call T97(US7)
call UQ7(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function V4D takes nothing returns nothing
local trigger t=CreateTrigger()
local unit m5=GetTriggerUnit()
local unit p5=GetAttacker()
local integer US7=GetHandleId(t)
set EZ7="V4D"
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.0,false)
call TriggerAddCondition(t,Condition(function U_D))
call TJ7(US7,"Target",m5)
call TJ7(US7,"Source",p5)
call TG7(US7,"InitX",GetUnitX(p5))
call TG7(US7,"InitY",GetUnitY(p5))
set m5=null
set p5=null
set t=null
endfunction
function V7D takes nothing returns nothing
local unit p5=GetAttacker()
set EZ7="V7D"
if UJ7(p5,"VorpalCooldown")==false then
call UU7(p5,"VorpalCooldown",0.4)
call V4D()
endif
set p5=null
endfunction
function V8D takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093685839)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==T37(GetHandleId(GetTriggeringTrigger()),"Hero")then
call V7D()
endif
return false
endfunction
function V9D takes nothing returns nothing
local trigger t
set EZ7="V9D"
if GetUnitAbilityLevel(GetTriggerUnit(),1093685839)==1 then
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function V8D))
call TJ7(GetHandleId(t),"Hero",GetTriggerUnit())
endif
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1382379618,GetUnitAbilityLevel(GetTriggerUnit(),1093685839))
set t=null
endfunction
function VDD takes nothing returns boolean
if GetLearnedSkill()==1093685839 and IsUnitIllusion(GetTriggerUnit())==false then
call V9D()
endif
return false
endfunction
function S28 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="S28"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function VDD))
set t=null
endfunction
function VED takes unit u returns nothing
local unit C17=M7[GetPlayerId(GetOwningPlayer(u))]
local integer US7=GetHandleId(C17)
local integer w3
local integer i
local integer x
local unit w4
set EZ7="WardenTrap_RemoveTrap"
if GetUnitTypeId(C17)!=1160786265 then
return
endif
set w3=U97(US7,"TrapMax")
set i=1
loop
exitwhen i>w3
set w4=T37(US7,"Trap"+I2S(i))
if w4==u then
set x=i
loop
exitwhen x==w3
call TJ7(US7,"Trap"+I2S(x),T37(US7,"Trap"+I2S(x+1)))
set x=x+1
endloop
set i=w3
endif
set i=i+1
endloop
call TF7(US7,"TrapMax",w3-1)
set w4=null
set C17=null
endfunction
function VFD takes unit u returns nothing
local unit C17=M7[GetPlayerId(GetOwningPlayer(u))]
local integer US7=GetHandleId(C17)
local integer w3=U97(US7,"TrapMax")
call SaveReal(L7,(GetHandleId(u)),(786),(((TimerGetElapsed(W)))*1.0))
set w3=w3+1
call TJ7(US7,"Trap"+I2S(w3),u)
call TF7(US7,"TrapMax",w3)
if Ab[GetPlayerId(GetOwningPlayer(C17))]then
call SelectUnitAddForPlayer(u,GetOwningPlayer(C17))
endif
set C17=null
endfunction
function VGD takes nothing returns nothing
call VED(GetTriggerUnit())
endfunction
function VHD takes unit u returns nothing
local integer w8=GetUnitAbilityLevel(u,1093685840)*3+2
local integer US7=GetHandleId(u)
local integer w3=U97(US7,"TrapMax")
local unit w4=T37(US7,"Trap1")
set EZ7="WardenTrap_IsTooMany"
if w3==w8 then
call VED(w4)
call RemoveUnit(w4)
endif
set w4=null
endfunction
function VID takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
set EZ7="VID"
call L67(oA,1093685845)
call SetUnitAbilityLevel(oA,1093685845,IZ7)
call IssueTargetOrder(oA,"slow",GetEnumUnit())
set oA=null
endfunction
function VJD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local group g=LD7()
local real CF8=(LoadReal(L7,(GetHandleId(p5)),(786)))
local real VKD=(TimerGetElapsed(W))-CF8
local integer HW8=1
if VKD>4 then
set HW8=5
elseif VKD>3 then
set HW8=4
elseif VKD>2 then
set HW8=3
elseif VKD>1 then
set HW8=2
endif
set IZ7=HW8
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl",x,y))
call GroupEnumUnitsInRange(g,x,y,400,Condition(function GQ8))
call ForGroup(g,function VID)
call L97(g)
call VED(p5)
call RemoveUnit(p5)
set g=null
set p5=null
endfunction
function VMD takes unit u returns nothing
call IssueImmediateOrder(u,"locustswarm")
endfunction
function VND takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==IR4 and GetUnitTypeId(GetFilterUnit())==1697657392
endfunction
function VOD takes nothing returns nothing
local real VPD=Q07(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),IJ4,IK4)
local real VQD=Q07(GetUnitX(IN4),GetUnitY(IN4),IJ4,IK4)
set EZ7="VOD"
if VPD<VQD then
set IN4=GetEnumUnit()
endif
endfunction
function VRD takes nothing returns nothing
local group g=LD7()
set EZ7="VRD"
set IR4=GetOwningPlayer(GetTriggerUnit())
call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),9000,Condition(function VND))
set IN4=FirstOfGroup(g)
set IJ4=GetUnitX(GetTriggerUnit())
set IK4=GetUnitY(GetTriggerUnit())
call ForGroup(g,function VOD)
call VMD(IN4)
call L97(g)
set g=null
endfunction
function VSD takes nothing returns nothing
call L67(GetTriggerUnit(),1093685844)
endfunction
function VTD takes nothing returns nothing
local location l=GetSpellTargetLoc()
set EZ7="VTD"
call L67(GetTriggerUnit(),1093685844)
call VHD(GetTriggerUnit())
call VFD(CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697657392,GetLocationX(l),GetLocationY(l),0))
call RemoveLocation(l)
set l=null
endfunction
function VUD takes nothing returns boolean
if GetSpellAbilityId()==1093685840 then
call VTD()
endif
if GetSpellAbilityId()==1093685844 then
call VRD()
endif
return false
endfunction
function VVD takes nothing returns boolean
if GetSpellAbilityId()==1093685841 then
call VJD()
endif
return false
endfunction
function VWD takes nothing returns boolean
if GetLearnedSkill()==1093685840 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093685840)==1 then
call VSD()
endif
return false
endfunction
function VXD takes nothing returns boolean
if GetUnitTypeId(GetDyingUnit())==1697657392 then
call VGD()
endif
return false
endfunction
function S_8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="S_8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VUD))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function VXD))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VVD))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function VWD))
set t=null
endfunction
function VYD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
set EZ7="VYD"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(p5,1093750323)
call UnitRemoveAbility(p5,1093750326)
call UnitRemoveAbility(p5,1093750327)
call UnitRemoveAbility(p5,1110459208)
call T97(US7)
call UQ7(t)
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
if GetTriggerUnit()==p5 and GetSpellAbilityId()==1093750841 and TimerGetElapsed(W)>UD7(US7,"OriginalTime")then
call T97(US7)
call UQ7(t)
elseif EU9(GetSpellAbilityId())and p5==GetSpellTargetUnit()then
call UnitRemoveAbility(p5,1093750323)
call UnitRemoveAbility(p5,1093750326)
call UnitRemoveAbility(p5,1093750327)
call UnitRemoveAbility(p5,1110459208)
call T97(US7)
call UQ7(t)
endif
else
call UnitRemoveAbility(p5,1093750323)
call UnitRemoveAbility(p5,1093750326)
call UnitRemoveAbility(p5,1093750327)
call UnitRemoveAbility(p5,1110459208)
call T97(US7)
call UQ7(t)
endif
set t=null
set p5=null
return false
endfunction
function VZD takes nothing returns nothing
local unit p5=GetAttacker()
local integer US7=GetHandleId(p5)
local integer BY7=GetUnitAbilityLevel(p5,1093750841)
local integer ZU9=U97(US7,"Count")
local integer VAD=2+BY7
local trigger t=null
set EZ7="VZD"
set ZU9=ZU9+1
call TF7(US7,"Count",ZU9)
if ZU9>=VAD then
call UnitRemoveAbility(p5,1093750323)
call UnitRemoveAbility(p5,1093750326)
call UnitRemoveAbility(p5,1093750327)
call UnitRemoveAbility(p5,1110459208)
set t=T07(US7,"OverpowerEndTrig")
call T97(GetHandleId(t))
call UQ7(t)
set t=null
endif
set p5=null
endfunction
function VBD takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1110459208)>0 then
call VZD()
endif
return false
endfunction
function VCD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local integer BY7=GetUnitAbilityLevel(p5,1093750841)
set EZ7="VCD"
call L67(p5,1093750323)
call L67(p5,1093750326)
call L67(p5,1093750327)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750326,false)
call TriggerRegisterTimerEvent(t,15,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VYD))
call TM7(GetHandleId(p5),"OverpowerEndTrig",t)
call TF7(GetHandleId(p5),"Count",0)
call TJ7(US7,"Source",p5)
call TG7(US7,"OriginalTime",(TimerGetElapsed(W)+1)*1.0)
set t=null
set p5=null
endfunction
function V3D takes nothing returns boolean
if GetSpellAbilityId()==1093750841 then
call VCD()
endif
return false
endfunction
function ON8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="ON8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function V3D))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function VBD))
call DX8(1093750323)
set t=null
endfunction
function V6D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=T37(PP7,"Source")
local integer HW8=GetUnitAbilityLevel(FJ8,1093684291)
local integer Q49
local integer VLD
set EZ7="V6D"
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetUnitAbilityLevel(FJ8,1110454856)==0 or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and FJ8==GetSpellTargetUnit()and EU9(GetSpellAbilityId()))then
call T97(PP7)
call UQ7(t)
call UnitRemoveAbility(FJ8,1110454856)
call H68(FJ8,0)
else
set Q49=R2I(GetUnitState(FJ8,UNIT_STATE_LIFE)*(0.04+0.01*HW8))
set VLD=U97(PP7,"LastBonus")
if Q49!=VLD then
call TF7(PP7,"LastBonus",Q49)
call H68(FJ8,Q49)
endif
endif
set t=null
set FJ8=null
return false
endfunction
function V1D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="V1D"
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function V6D))
call TJ7(US7,"Source",GetTriggerUnit())
call TF7(US7,"LastBonus",0)
set t=null
endfunction
function V0D takes nothing returns boolean
if GetSpellAbilityId()==1093684291 then
call V1D()
endif
return false
endfunction
function V5D takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1110454856)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 then
endif
return false
endfunction
function OO8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="OO8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function V0D))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function V5D))
set t=null
endfunction
function V2D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local real V_D=UD7(US7,"rRealX1")
local real x2=UD7(US7,"x2")
local real W4D=UD7(US7,"rRealY1")
local real y2=UD7(US7,"y2")
set EZ7="V2D"
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl",p5,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl",m5,"origin"))
call SetUnitPosition(p5,x2,y2)
call UU7(m5,"4407",1)
call SetUnitPosition(m5,V_D,W4D)
call T97(US7)
call UQ7(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function W7D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real V_D=GetUnitX(p5)
local real W4D=GetUnitY(p5)
local real x2=GetUnitX(m5)
local real y2=GetUnitY(m5)
local trigger t
local integer US7
set EZ7="W7D"
if IsUnitAlly(p5,GetOwningPlayer(m5))==true or L87(GetSpellTargetUnit())==false then
set t=CreateTrigger()
set US7=GetHandleId(t)
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TG7(US7,"rRealX1",(V_D)*1.0)
call TG7(US7,"x2",(x2)*1.0)
call TG7(US7,"rRealY1",(W4D)*1.0)
call TG7(US7,"y2",(y2)*1.0)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function V2D))
call EH8("SPLK",V_D,W4D,x2,y2,0.5,0,1,1,0.3)
call ER8(V_D,W4D,300)
call ER8(x2,y2,300)
endif
set p5=null
set m5=null
set t=null
endfunction
function W8D takes nothing returns boolean
if GetSpellAbilityId()==1093683534 or GetSpellAbilityId()==1093747031 then
call W7D()
endif
return false
endfunction
function W9D takes nothing returns nothing
if(IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY))then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848652610))))
endif
endfunction
function WDD takes nothing returns boolean
if GetSpellAbilityId()==1093683534 or GetSpellAbilityId()==1093747031 then
call W9D()
endif
return false
endfunction
function OP8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="OP8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W8D))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function WDD))
set t=null
endfunction
function WED takes unit HV8,real x,real y,integer BY7 returns nothing
call SetUnitPosition(HV8,x,y)
if GetPlayerController(GetOwningPlayer(HV8))==MAP_CONTROL_COMPUTER then
call UnitAddAbility(HV8,1093681488)
call SetUnitAbilityLevel(HV8,1093681488,BY7)
endif
call IssueImmediateOrder(HV8,"howlofterror")
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl",x,y))
set HV8=null
endfunction
function WFD takes nothing returns boolean
if(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),p0)==false then
call GroupAddUnit(p0,GetFilterUnit())
if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>R04 then
call SetUnitState(GetFilterUnit(),UNIT_STATE_LIFE,GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)-(R04))
else
call HY8(Q0,GetFilterUnit(),ZG4,R04*1.33)
endif
endif
return false
endfunction
function WGD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit HV8=T37(US7,"Caster")
local real l4=UD7(US7,"Angle")
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
local integer BY7=U97(US7,"Level")
local group A39=T57(US7,"AlreadyDamaged")
local group g
set EZ7="WGD"
if GetTriggerEvalCount(t)>10 then
call L97(A39)
call T97(US7)
call UQ7(t)
else
set p0=A39
set Q0=p5
set R04=BY7*20+10
set IN4=p5
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,325,Condition(function WFD))
call L97(g)
set g=null
call WED(HV8,x,y,BY7)
if ModuloInteger(GetTriggerEvalCount(t),2)==0 then
call KillUnit(CreateUnit(GetOwningPlayer(p5),1697657409,x,y,0))
endif
set x=DT8(x+200*Cos(l4*bj_DEGTORAD))
set y=DU8(y+200*Sin(l4*bj_DEGTORAD))
call TG7(US7,"x",x*1.0)
call TG7(US7,"y",y*1.0)
endif
set t=null
set p5=null
set HV8=null
set A39=null
return false
endfunction
function WHD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x1=GetUnitX(p5)
local real y1=GetUnitY(p5)
local real x2=GetLocationX(l)
local real y2=GetLocationY(l)
local real l4=Q87(x1,y1,x2,y2)
local integer BY7=GetUnitAbilityLevel(p5,1093744463)
local unit HV8=CreateUnit(GetOwningPlayer(p5),1697656901,x1,y1,0)
set EZ7="WHD"
call L67(HV8,1093681488)
call SetUnitAbilityLevel(HV8,1093681488,BY7)
call RemoveLocation(l)
call TJ7(US7,"Source",p5)
call TJ7(US7,"Caster",HV8)
call TF7(US7,"Level",BY7)
call TG7(US7,"x",x1*1.0)
call TG7(US7,"y",y1*1.0)
call TG7(US7,"Angle",l4*1.0)
call TS7(US7,"AlreadyDamaged",LD7())
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function WGD))
set t=null
set p5=null
set l=null
set HV8=null
endfunction
function WID takes nothing returns boolean
if GetSpellAbilityId()==1093744463 then
call WHD()
endif
return false
endfunction
function OQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="OQ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WID))
set t=null
endfunction
function WJD takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareMissile.mdl",GetTriggerUnit(),"weapon"))
endfunction
function WKD takes nothing returns boolean
if GetSpellAbilityId()==1093677633 then
call WJD()
endif
return false
endfunction
function OR8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="OR8"
call TriggerAddCondition(t,Condition(function WKD))
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
set t=null
endfunction
function WMD takes nothing returns boolean
return(GetSpellAbilityId()==(1093683779)or GetSpellAbilityId()==(1093677616)or GetSpellAbilityId()==(1093810503)or GetSpellAbilityId()==(1093810504)or(GetUnitPointValue(GetTriggerUnit())==500))and GetUnitAbilityLevel(GetTriggerUnit(),(1093684789))>0
endfunction
function WND takes nothing returns nothing
local real WOD=GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)
local real WPD=0.03+0.02*GetUnitAbilityLevel(GetTriggerUnit(),1093684789)
local real CV9=WOD*WPD
set EZ7="WND"
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),CV9,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\ForkedLightning\\ForkedLightningTarget.mdl",GetEnumUnit(),"overhead"))
endfunction
function WQD takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false
endfunction
function WRD takes nothing returns nothing
local location DR9=GetUnitLoc(GetTriggerUnit())
local group CZ9=LD7()
local real x=GetLocationX(DR9)
local real y=GetLocationY(DR9)
local boolexpr RKD=Condition(function WQD)
set EZ7="WRD"
call GroupEnumUnitsInRange(CZ9,x,y,1025,RKD)
call ForGroup(CZ9,function WND)
call RemoveLocation(DR9)
call L97(CZ9)
call DestroyBoolExpr(RKD)
set DR9=null
set CZ9=null
set RKD=null
endfunction
function OS8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="OS8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WMD))
call TriggerAddAction(t,function WRD)
set t=null
endfunction
function WSD takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and JV8(GetUnitTypeId(GetFilterUnit()))==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GI7))==true
endfunction
function WTD takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
local unit SU7=CreateUnit(GetOwningPlayer(GI7),1697656880,x,y,0)
set EZ7="WTD"
call UnitAddAbility(SU7,1093678419)
call SetUnitAbilityLevel(SU7,1093678419,GJ7)
call IssueTargetOrder(SU7,"chainlightning",GetEnumUnit())
call UnitApplyTimedLife(SU7,1112820806,3)
call UnitAddAbility(SU7,1097625443)
if(GetPlayerController(GetOwningPlayer(SU7))==MAP_CONTROL_COMPUTER)then
call IssueTargetOrderById(SU7,852119,GetEnumUnit())
endif
set SU7=null
endfunction
function WUD takes nothing returns nothing
local group g=LD7()
set EZ7="WUD"
set GI7=GetTriggerUnit()
if GetSpellAbilityId()==1093810503 then
set GJ7=GetUnitAbilityLevel(GetTriggerUnit(),1093810503)+4
else
set GJ7=GetUnitAbilityLevel(GetTriggerUnit(),1093810504)+7
endif
call GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,Condition(function WSD))
call ForGroup(g,function WTD)
call L97(g)
set g=null
endfunction
function WVD takes nothing returns boolean
set EZ7="WVD"
if GetSpellAbilityId()==1093810503 or GetSpellAbilityId()==1093810504 then
call WUD()
endif
return false
endfunction
function OT8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="OT8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WVD))
set t=null
endfunction
function WWD takes nothing returns boolean
return GetSpellAbilityId()==1093683779 and L87(GetSpellTargetUnit())==false
endfunction
function WXD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit oA=CreateUnit(GetOwningPlayer(C17),1697656880,GetUnitX(m5),GetUnitY(m5),0)
set EZ7="WXD"
call L67(oA,1093678419)
call SetUnitAbilityLevel(oA,1093678419,GetUnitAbilityLevel(C17,1093683779))
call IssueTargetOrderById(oA,852119,m5)
call UnitApplyTimedLife(oA,1112820806,3)
call SetUnitPathing(oA,false)
call L67(oA,1097625443)
if(GetPlayerController(GetOwningPlayer(oA))==MAP_CONTROL_COMPUTER)then
call QA7(0.01)
call IssueTargetOrderById(oA,852119,m5)
endif
set C17=null
set m5=null
set oA=null
endfunction
function OU8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="OU8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WWD))
call TriggerAddAction(t,function WXD)
set t=null
endfunction
function WYD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit HV8=T37(US7,"Caster")
set EZ7="WYD"
call SetUnitX(HV8,GetUnitX(p5))
call SetUnitY(HV8,GetUnitY(p5))
if GetTriggerEvalCount(t)>80 then
call T97(US7)
call UQ7(t)
endif
set t=null
set p5=null
set HV8=null
return false
endfunction
function WZD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit HV8=CreateUnit(GetOwningPlayer(p5),1697657411,GetUnitX(p5),GetUnitY(p5),0)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="WZD"
call L67(HV8,1093748301)
call SetUnitAbilityLevel(HV8,1093748301,GetUnitAbilityLevel(p5,1093677616))
call IssueTargetOrder(HV8,"chainlightning",m5)
call UnitApplyTimedLife(HV8,1112820806,10)
call TJ7(US7,"Source",p5)
call TJ7(US7,"Caster",HV8)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function WYD))
set p5=null
set m5=null
set HV8=null
set t=null
endfunction
function WAD takes nothing returns boolean
if GetSpellAbilityId()==1093677616 and L87(GetSpellTargetUnit())==false then
call WZD()
endif
return false
endfunction
function OV8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="OV8"
call TriggerAddCondition(t,Condition(function WAD))
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
set t=null
endfunction
function WBD takes nothing returns boolean
return GetSpellAbilityId()==(1093683507)and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or L87(GetSpellTargetUnit())==false)
endfunction
function WU takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local real D_8=UD7(US7,"Damage")
set EZ7="WU"
call UnitDamageTarget(C17,C17,D_8,false,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call T97(US7)
call PauseTimer(t)
call DestroyTimer(t)
set t=null
set C17=null
endfunction
function WCD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real D_8=25+25*GetUnitAbilityLevel(C17,1093683507)
local timer t=CreateTimer()
local integer US7=GetHandleId(t)
set EZ7="WCD"
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",m5,"origin"))
if IsUnitAlly(m5,GetOwningPlayer(C17))and GetUnitState(m5,UNIT_STATE_LIFE)>1. then
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+2*D_8)
else
call UnitDamageTarget(C17,m5,2*D_8,false,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
call TJ7(US7,"Hero",C17)
call TG7(US7,"Damage",D_8)
call TimerStart(t,0,false,function WU)
set C17=null
set m5=null
set t=null
endfunction
function RE8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RE8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WBD))
call TriggerAddAction(t,function WCD)
set t=null
endfunction
function WV takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(MB),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
set EZ7="WV"
call L67(oA,1093684554)
call SetUnitAbilityLevel(oA,1093684554,IH4)
call IssueTargetOrder(oA,"forkedlightning",GetEnumUnit())
set oA=null
endfunction
function W3D takes unit p5,unit m5,integer BY7 returns nothing
local group g=LD7()
set EZ7="AphoticShield_Explode"
set IN4=p5
set IH4=BY7
set MB=p5
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),700,Condition(function GR8))
call ForGroup(g,function WV)
call L97(g)
set g=null
endfunction
function WW takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local real W6D=UD7(PP7,"Life")
local unit FJ8
local unit PU7=T37(PP7,"Target")
local integer HW8
set EZ7="WW"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if UJ7(GetTriggerUnit(),"BorrowedTime|Active")==false then
if W6D<GetEventDamage()then
set FJ8=T37(PP7,"Source")
set HW8=U97(PP7,"Level")
call DestroyEffect(T27(PP7,"FX"))
call TI7(GetHandleId(PU7),"AphoticShield|Active",false)
call T97(PP7)
call UQ7(t)
call E48(GetTriggerUnit(),W6D)
call W3D(FJ8,GetTriggerUnit(),HW8)
set GZ[256+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
elseif GetEventDamage()>0 then
call E48(GetTriggerUnit(),GetEventDamage())
call TG7(PP7,"Life",W6D-GetEventDamage())
endif
endif
else
set FJ8=T37(PP7,"Source")
set HW8=U97(PP7,"Level")
call TI7(GetHandleId(PU7),"AphoticShield|Active",false)
set GZ[256+GetPlayerId(GetOwningPlayer(T37(PP7,"AphTarg")))]=false
call DestroyEffect(T27(PP7,"FX"))
call T97(PP7)
call UQ7(t)
call W3D(FJ8,PU7,HW8)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function WLD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=GetSpellTargetUnit()
local unit FJ8=GetTriggerUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093684550)
local integer QFD=GetHandleId(PU7)
local real W6D
set EZ7="WLD"
if UE7(QFD,"AphoticShield|Active")==true then
call TriggerEvaluate(T07(QFD,"AphoticShield|Trigger"))
endif
call UnitRemoveBuffs(PU7,false,true)
call EQ9(PU7,0,0)
if HW8==1 then
set W6D=110
elseif HW8==2 then
set W6D=140
elseif HW8==3 then
set W6D=170
else
set W6D=200
endif
call TG7(PP7,"Life",W6D)
call TK7(PP7,"FX",AddSpecialEffectTarget("war3mapImported\\Defensive Barrier big.mdx",PU7,"chest"))
call TJ7(PP7,"Source",FJ8)
call TF7(PP7,"Level",HW8)
call TJ7(PP7,"Target",PU7)
set GZ[256+GetPlayerId(GetOwningPlayer(GetSpellTargetUnit()))]=true
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,15,false)
call TriggerAddCondition(t,Condition(function WW))
call TM7(QFD,"AphoticShield|Trigger",t)
call TI7(QFD,"AphoticShield|Active",true)
set t=null
set PU7=null
set FJ8=null
endfunction
function W1D takes nothing returns boolean
if GetSpellAbilityId()==1093684550 then
call WLD()
endif
return false
endfunction
function WY takes nothing returns nothing
if GetUnitAbilityLevel(GetSpellTargetUnit(),1112433775)>0 then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),CF7(1848652617))
endif
endfunction
function W0D takes nothing returns boolean
if GetSpellAbilityId()==1093684550 then
call WY()
endif
return false
endfunction
function s7 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="s7"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function W0D))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W1D))
set t=null
endfunction
function W5D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
set EZ7="W5D"
if GetTriggerEventId()==EVENT_UNIT_DEATH or IssueImmediateOrder(C17,"windwalk")then
call T97(US7)
call UQ7(t)
endif
set t=null
set C17=null
return false
endfunction
function W2D takes unit C17 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function W5D))
call TJ7(US7,"Hero",C17)
set t=null
endfunction
function W_D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit LI7=GetTriggerUnit()
local integer HW8=GetUnitAbilityLevel(LI7,1093684819)
local integer HT8=2+HW8
local real Z58
set EZ7="W_D"
if HW8==0 then
set HW8=GetUnitAbilityLevel(LI7,1093747777)
set HT8=4+1*HW8
endif
if GetTriggerEventId()==EVENT_UNIT_DAMAGED and UJ7(LI7,"BorrowedTime|Active")then
call E48(LI7,GetEventDamage())
call E48(LI7,GetEventDamage())
elseif(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()==1093684819 or GetSpellAbilityId()==1093747777))or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and UJ7(LI7,"BorrowedTime|CD")==false and GetUnitState(LI7,UNIT_STATE_LIFE)<400)then
call TimerStart(N84[GetPlayerId(GetOwningPlayer(LI7))],70-10*HW8,false,null)
call UU7(LI7,"BorrowedTime|Active",HT8)
call UU7(LI7,"BorrowedTime|CD",70-10*HW8)
call UnitRemoveBuffs(LI7,false,true)
call EQ9(LI7,0,0)
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
call DisableTrigger(t)
set GK7=true
if IssueImmediateOrder(LI7,"windwalk")==false then
call W2D(LI7)
endif
set GK7=false
call EnableTrigger(t)
endif
call EE8("Abilities\\Spells\\Undead\\Unsummon\\UnsummonTarget.mdl",LI7,"origin",HT8)
endif
set t=null
set LI7=null
return false
endfunction
function X4D takes unit C17,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
set EZ7="J6v"
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W_D))
if BZ9 then
set Vj[GetPlayerId(GetOwningPlayer(C17))]=t
endif
set t=null
endfunction
function X7D takes nothing returns boolean
if(GetLearnedSkill()==1093684819 or GetLearnedSkill()==1093747777)and IsUnitIllusion(GetTriggerUnit())==false and(GetUnitAbilityLevel(GetTriggerUnit(),1093684819)==1 or GetUnitAbilityLevel(GetTriggerUnit(),1093747777)==1)then
call X4D(GetTriggerUnit(),false)
endif
return false
endfunction
function RG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function X7D))
set t=null
endfunction
function X8D takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),(1110455862))>0 or GetUnitAbilityLevel(GetAttacker(),(1093684551))>0
endfunction
function X9D takes nothing returns nothing
local unit ZY8=GetAttacker()
local unit m5=GetTriggerUnit()
local unit XDD
local integer BY7=GetUnitAbilityLevel(ZY8,(1093684551))
local unit HV8=CreateUnit(GetOwningPlayer(ZY8),1697656901,GetUnitX(ZY8),GetUnitY(ZY8),0)
set EZ7="X9D"
if BY7>0 then
call TF7(GetHandleId(m5),"MarkOfTheAbyss|Level",BY7)
else
set BY7=U97(GetHandleId(m5),"MarkOfTheAbyss|Level")
endif
if IsUnitEnemy(m5,GetOwningPlayer(ZY8))==true then
call L67(HV8,(1093684552))
call SetUnitAbilityLevel(HV8,(1093684552),BY7)
call IssueTargetOrder(HV8,"bloodlust",ZY8)
endif
set ZY8=null
set m5=null
set XDD=null
set HV8=null
endfunction
function RF8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RF8"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function X8D))
call TriggerAddAction(t,function X9D)
set t=null
endfunction
function XED takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local integer L48=(LoadInteger(L7,(PP7),(34)))
local real CV9
local integer HT8
local unit CR8
set EZ7="XED"
if HW8==1 then
set CV9=15
set HT8=10
elseif HW8==2 then
set CV9=21
set HT8=13
elseif HW8==3 then
set CV9=27
set HT8=16
elseif HW8==4 then
set CV9=33
set HT8=19
endif
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetTriggerEvalCount(t)>1 and GetSpellAbilityId()==1093686065 and L87(GetSpellTargetUnit())==false and PU7==GetSpellTargetUnit()then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH then
set CR8=GetKillingUnit()
if IX8(CR8)then
set CR8=(M7[GetPlayerId(GetOwningPlayer((CR8)))])
endif
if GetTriggerUnit()==PU7 or CR8==PU7 then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveAbility(PU7,1093752627)
call UnitRemoveAbility(PU7,1110459471)
endif
else
set L48=L48+1
call SaveInteger(L7,(PP7),(34),(L48))
if L48==HT8 then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveAbility(PU7,1093752627)
call UnitRemoveAbility(PU7,1110459471)
endif
call HY8(FJ8,PU7,ZG4,CV9)
endif
set t=null
set FJ8=null
set PU7=null
set CR8=null
return false
endfunction
function XFD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093686065)
local real XGD
local real JNI
set EZ7="XFD"
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Demon\\ReviveDemon\\ReviveDemon.mdl",PU7,"overhead"))
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093752627,false)
call L67(PU7,1093752627)
call TriggerRegisterTimerEvent(t,1,true)
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XED))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveInteger(L7,(PP7),(34),(0))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\SoulBurn\\SoulBurnbuff.mdl",PU7,"overhead")))
set FJ8=null
set PU7=null
set t=null
endfunction
function XHD takes nothing returns nothing
if GetUnitAbilityLevel(GetEnumUnit(),1110459471)>0 then
set H67=H67+1
endif
endfunction
function XID takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local group g=LD7()
set IN4=FJ8
set H67=0
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function G78))
call ForGroup(g,function XHD)
call L97(g)
if H67==0 then
if GetUnitAbilityLevel(FJ8,1110459738)>0 then
call UnitRemoveAbility(FJ8,1093812562)
call UnitRemoveAbility(FJ8,1093812563)
call UnitRemoveAbility(FJ8,1093812565)
call UnitRemoveAbility(FJ8,1093812564)
call UnitRemoveAbility(FJ8,1093812561)
call UnitRemoveAbility(FJ8,1093812560)
call UnitRemoveAbility(FJ8,1110459738)
endif
elseif H67==1 then
if GetUnitAbilityLevel(FJ8,1093812562)==0 then
call UnitRemoveAbility(FJ8,1093812562)
call UnitRemoveAbility(FJ8,1093812563)
call UnitRemoveAbility(FJ8,1093812565)
call UnitRemoveAbility(FJ8,1093812564)
call UnitRemoveAbility(FJ8,1093812561)
call UnitRemoveAbility(FJ8,1093812560)
call UnitRemoveAbility(FJ8,1110459738)
call UnitAddAbility(FJ8,1093812562)
endif
elseif H67==2 then
if GetUnitAbilityLevel(FJ8,1093812563)==0 then
call UnitRemoveAbility(FJ8,1093812562)
call UnitRemoveAbility(FJ8,1093812563)
call UnitRemoveAbility(FJ8,1093812565)
call UnitRemoveAbility(FJ8,1093812564)
call UnitRemoveAbility(FJ8,1093812561)
call UnitRemoveAbility(FJ8,1093812560)
call UnitRemoveAbility(FJ8,1110459738)
call UnitAddAbility(FJ8,1093812563)
endif
elseif H67==3 then
if GetUnitAbilityLevel(FJ8,1093812565)==0 then
call UnitRemoveAbility(FJ8,1093812562)
call UnitRemoveAbility(FJ8,1093812563)
call UnitRemoveAbility(FJ8,1093812565)
call UnitRemoveAbility(FJ8,1093812564)
call UnitRemoveAbility(FJ8,1093812561)
call UnitRemoveAbility(FJ8,1093812560)
call UnitRemoveAbility(FJ8,1110459738)
call UnitAddAbility(FJ8,1093812565)
endif
elseif H67==4 then
if GetUnitAbilityLevel(FJ8,1093812564)==0 then
call UnitRemoveAbility(FJ8,1093812562)
call UnitRemoveAbility(FJ8,1093812563)
call UnitRemoveAbility(FJ8,1093812565)
call UnitRemoveAbility(FJ8,1093812564)
call UnitRemoveAbility(FJ8,1093812561)
call UnitRemoveAbility(FJ8,1093812560)
call UnitRemoveAbility(FJ8,1110459738)
call UnitAddAbility(FJ8,1093812564)
endif
elseif H67==5 then
if GetUnitAbilityLevel(FJ8,1093812561)==0 then
call UnitRemoveAbility(FJ8,1093812562)
call UnitRemoveAbility(FJ8,1093812563)
call UnitRemoveAbility(FJ8,1093812565)
call UnitRemoveAbility(FJ8,1093812564)
call UnitRemoveAbility(FJ8,1093812561)
call UnitRemoveAbility(FJ8,1093812560)
call UnitRemoveAbility(FJ8,1110459738)
call UnitAddAbility(FJ8,1093812561)
endif
elseif H67>=6 then
if GetUnitAbilityLevel(FJ8,1093812560)==0 then
call UnitRemoveAbility(FJ8,1093812562)
call UnitRemoveAbility(FJ8,1093812563)
call UnitRemoveAbility(FJ8,1093812565)
call UnitRemoveAbility(FJ8,1093812564)
call UnitRemoveAbility(FJ8,1093812561)
call UnitRemoveAbility(FJ8,1093812560)
call UnitRemoveAbility(FJ8,1110459738)
call UnitAddAbility(FJ8,1093812560)
endif
endif
set t=null
set FJ8=null
return false
endfunction
function XJD takes nothing returns boolean
if GetSpellAbilityId()==1093686065 and L87(GetSpellTargetUnit())==false then
call XFD()
endif
return false
endfunction
function XKD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function XID))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812562,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812563,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812565,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812564,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812561,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812560,false)
set t=null
endfunction
function XMD takes nothing returns boolean
if GetLearnedSkill()==1093686065 and GetUnitAbilityLevel(GetTriggerUnit(),1093686065)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call XKD()
endif
return false
endfunction
function OB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XJD))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function XMD))
set t=null
endfunction
function XND takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
call HY8(GetTriggerUnit(),GetEnumUnit(),ZH4,GetUnitAbilityLevel(GetTriggerUnit(),1093681974)*35+65)
endfunction
function XOD takes nothing returns nothing
local group g=LD7()
local unit C17=GetTriggerUnit()
set EZ7="XOD"
call GroupEnumUnitsInRange(g,GetUnitX(C17),GetUnitY(C17),300,Condition(function jF))
call ForGroup(g,function XND)
call SetUnitAnimation(C17,"spin")
call F88(C17,.6)
call UU7(C17,"XOD",0.7-0.05*GetUnitAbilityLevel(GetTriggerUnit(),1093681974))
call L97(g)
set g=null
set C17=null
endfunction
function XPD takes nothing returns boolean
if GetUnitAbilityLevel(GetTriggerUnit(),1110455120)>0 and IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetAttacker(),UNIT_TYPE_MECHANICAL)==false and GetUnitAbilityLevel(GetAttacker(),1093678162)==0 and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false and GetRandomReal(0,100)<17 and UJ7(GetTriggerUnit(),"XOD")==false then
call XOD()
endif
return false
endfunction
function OC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function XPD))
set t=null
endfunction
function xC takes nothing returns boolean
return GQ8()and GetUnitAbilityLevel(GetFilterUnit(),1110454328)==0 and GetUnitAbilityLevel(GetFilterUnit(),1113815395)==0
endfunction
function xd takes integer PP7,integer XQD returns nothing
local integer i=1
set EZ7="xd"
loop
exitwhen i>XQD
call DestroyEffect((LoadEffectHandle(L7,(PP7),(2700+i))))
set i=i+1
endloop
endfunction
function XRD takes nothing returns nothing
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetEnumUnit()))!=MAP_CONTROL_USER))then
set hq[640+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=Bz+1+(.5*GetUnitAbilityLevel(GetTriggerUnit(),1093683510))
set hq[832+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=Bz+1+(.5*GetUnitAbilityLevel(GetTriggerUnit(),1093683510))
call IssueTargetOrderById(GetEnumUnit(),851971,GN7)
else
call IssueTargetOrderById(GetEnumUnit(),851983,GN7)
endif
endfunction
function xE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local group g=LoadGroupHandle(L7,(PP7),(220))
local unit LI7=LoadUnitHandle(L7,(PP7),(14))
local integer XQD=LoadInteger(L7,(PP7),(365))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local integer L48=(LoadInteger(L7,(PP7),(34)))
set EZ7="xE"
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_ORDER then
set L48=L48+1
call SaveInteger(L7,(PP7),(34),(L48))
if L48==(4+2*HW8)then
call UnitRemoveAbility(LI7,1093683509)
call L97(g)
call xd(PP7,XQD)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
call DisableTrigger(t)
set GN7=LI7
call ForGroup(g,function XRD)
call EnableTrigger(t)
endif
else
if IsUnitInGroup(GetTriggerUnit(),g)==true and UnitIsSleeping(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1110454328)==0 and GetIssuedOrderId()!=851973 and GK7==false then
call DisableTrigger(t)
if((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))then
call DisableTrigger(Q04[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call IssueTargetOrderById(GetTriggerUnit(),851971,LI7)
call EnableTrigger(Q04[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
else
call IssueTargetOrderById(GetTriggerUnit(),851983,LI7)
endif
call EnableTrigger(t)
endif
endif
set t=null
set g=null
set LI7=null
return false
endfunction
function xf takes nothing returns nothing
set IH4=IH4+1
call SaveEffectHandle(L7,(tl),(2700+IH4),(AddSpecialEffectTarget("Abilities\\Weapons\\LavaSpawnMissile\\LavaSpawnBirthMissile.mdl",GetEnumUnit(),"chest")))
endfunction
function xF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit LI7=GetTriggerUnit()
local integer HW8=GetUnitAbilityLevel(LI7,1093683510)
local group g=LD7()
set EZ7="xF"
call L67(LI7,1093683509)
call SetUnitAbilityLevel(LI7,1093683509,HW8)
set IN4=LI7
set GN7=LI7
set IH4=0
set tl=PP7
call GroupEnumUnitsInRange(g,GetUnitX(LI7),GetUnitY(LI7),300,Condition(function xC))
call ForGroup(g,function xf)
call ForGroup(g,function XRD)
call SaveInteger(L7,(PP7),(365),IH4)
call SaveUnitHandle(L7,(PP7),(14),LI7)
call SaveGroupHandle(L7,(PP7),(220),g)
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveInteger(L7,(PP7),(34),(0))
call TriggerRegisterTimerEvent(t,0.25,true)
call EO8(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call EO8(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call EO8(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function xE))
set t=null
set g=null
set LI7=null
endfunction
function XSD takes nothing returns boolean
if GetSpellAbilityId()==1093683510 then
call xF()
endif
return false
endfunction
function O38 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XSD))
set t=null
endfunction
function XTD takes nothing returns nothing
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093814595,false)
call FV8(GetEnumUnit(),1093814595,1,6,1110459990)
endfunction
function XUD takes nothing returns boolean
return GetSpellAbilityId()==1093682482 or GetSpellAbilityId()==1093750098
endfunction
function XVD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local real W6D=GetUnitState(PU7,UNIT_STATE_LIFE)
local integer HW8=GetUnitAbilityLevel(C17,1093682482)
local unit HV8
local boolean XWD=false
local group g
set EZ7="XVD"
if HW8==0 then
set HW8=GetUnitAbilityLevel(C17,1093750098)
set XWD=true
endif
if(W6D<=300 and HW8==1)or(W6D<=450 and HW8==2)or(W6D<=625 and HW8==3)then
if XWD then
endif
call PlaySoundOnUnitBJ(YN,100,PU7)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl",PU7,"overhead"))
set HV8=CreateUnit(GetOwningPlayer(C17),1697656901,0,0,0)
call UnitRemoveBuffs(PU7,true,true)
call UnitRemoveAbility(PU7,1097167980)
call UnitDamageTarget(HV8,PU7,100000000.,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\AxeUltiMSFX_01.mdx",C17,"origin"))
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(C17),GetUnitY(C17),625,Condition(function G58))
call ForGroup(g,function XTD)
call L97(g)
set g=null
endif
set C17=null
set PU7=null
set HV8=null
endfunction
function O68 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="O68"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XUD))
call TriggerAddAction(t,function XVD)
set t=null
endfunction
function XXD takes nothing returns boolean
return GetSpellAbilityId()==1093683019 and L87(GetSpellTargetUnit())==false
endfunction
function XYD takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),20+70*GetUnitAbilityLevel(GetTriggerUnit(),1093683019),ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC)
if GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>1 then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+20+70*GetUnitAbilityLevel(GetTriggerUnit(),1093683019))
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetSpellTargetUnit(),"origin"))
endfunction
function XZD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local unit p5=T37(US7,"Source")
local player p=TL7(US7,"p")
local integer BY7=U97(US7,"Level")
local unit oA
set EZ7="XZD"
if GetUnitAbilityLevel(m5,1110454854)==0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093678169,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093816121,false)
call T97(US7)
call UQ7(t)
elseif GetTriggerEventId()==EVENT_UNIT_ATTACKED and GetTriggerUnit()==m5 then
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093678169,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093816121,false)
if((IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_COMPUTER))then
call IssuePointOrderById(GetAttacker(),851986,GetUnitX(GetAttacker())+GetRandomReal(0,150.)-75.,GetUnitY(GetAttacker())+GetRandomReal(0,150.)-75.)
else
call UnitRemoveAbility(m5,1110454854)
set oA=CreateUnit(p,1697656901,GetUnitX(m5),GetUnitY(m5),0)
call L67(oA,1093678169)
call SetUnitAbilityLevel(oA,1093678169,BY7)
call IssueTargetOrderById(oA,852227,GetAttacker())
call T97(US7)
call UQ7(t)
endif
elseif GetTriggerEventId()!=EVENT_UNIT_ATTACKED then
if GetUnitState(m5,UNIT_STATE_LIFE)>21 then
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)-20)
else
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093678169,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093816121,false)
call UnitRemoveAbility(m5,1110454854)
call HY8(p5,m5,ZG4,50)
call T97(US7)
call UQ7(t)
endif
endif
set t=null
set p=null
set oA=null
set m5=null
set p5=null
return false
endfunction
function XAD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="XAD"
set US7=GetHandleId(t)
call TJ7(US7,"Target",m5)
call TJ7(US7,"Source",p5)
call TQ7(US7,"p",GetOwningPlayer(p5))
call TF7(US7,"Level",GetUnitAbilityLevel(p5,1093678169))
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_ATTACKED)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function XZD))
if GetUnitAbilityLevel(m5,1093678169)>0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093678169,false)
call L67(m5,1093816121)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093816121,true)
endif
set WU4=true
call HY8(p5,m5,ZH4,0)
set WU4=false
set p5=null
set m5=null
set t=null
endfunction
function XBD takes nothing returns boolean
if GetSpellAbilityId()==1093678169 and RM7(GetSpellTargetUnit())==false then
call XAD()
endif
return false
endfunction
function XCD takes nothing returns boolean
if GetSpellAbilityId()==1093678169 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
if GetOwningPlayer(GetTriggerUnit())!=GetOwningPlayer(GetSpellTargetUnit())and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(UE7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652600))
endif
endif
return false
endfunction
function X3D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveAbility(FJ8,1110454854)
call UnitRemoveAbility(FJ8,1093816121)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093678169,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093816121,false)
set t=null
set FJ8=null
return false
endfunction
function X6D takes nothing returns boolean
local trigger t
if GetIssuedOrderId()==String2OrderIdBJ("manashieldon")and GetUnitAbilityLevel(GetTriggerUnit(),1093816121)>0 then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function X3D))
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(GetTriggerUnit()))
endif
return false
endfunction
function OL8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="OL8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XBD))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function XCD))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function X6D))
set t=null
endfunction
function XLD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit p5=T37(PP7,"Source")
local unit m5=T37(PP7,"Target")
local real Z58
local integer L48=6
local fogmodifier X1D=(LoadFogModifierHandle(L7,(PP7),(42)))
set EZ7="XLD"
if GetUnitAbilityLevel(p5,1093747769)>0 then
set L48=8
endif
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
call FogModifierStop(X1D)
call DestroyFogModifier(X1D)
call T97(PP7)
call UQ7(t)
elseif GetTriggerEvalCount(t)>L48 then
call FogModifierStop(X1D)
call DestroyFogModifier(X1D)
call T97(PP7)
call UQ7(t)
call RG7(p5)
else
set Z58=RMinBJ(0.05*GetUnitState(m5,UNIT_STATE_MAX_MANA),GetUnitState(m5,UNIT_STATE_MANA))
if GetUnitAbilityLevel(p5,1093747769)>0 then
set Z58=RMinBJ(0.1*GetUnitState(m5,UNIT_STATE_MAX_MANA),GetUnitState(m5,UNIT_STATE_MANA))
endif
if Z58>0 then
call SetUnitState(p5,UNIT_STATE_MANA,GetUnitState(p5,UNIT_STATE_MANA)+Z58)
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-Z58)
endif
endif
set t=null
set p5=null
set m5=null
set X1D=null
return false
endfunction
function X0D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local fogmodifier X1D=CreateFogModifierRadius(GetOwningPlayer(p5),FOG_OF_WAR_VISIBLE,GetUnitX(m5),GetUnitY(m5),350,true,true)
set EZ7="X0D"
call FogModifierStart(X1D)
call UnitRemoveAbility(m5,1110454854)
call UnitRemoveAbility(m5,1112896368)
call UnitRemoveAbility(m5,1114993524)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function XLD))
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call SaveFogModifierHandle(L7,(US7),(42),(X1D))
set p5=null
set m5=null
set t=null
set X1D=null
endfunction
function X5D takes nothing returns boolean
if GetSpellAbilityId()==1093677649 or GetSpellAbilityId()==1093747769 then
call X0D()
endif
return false
endfunction
function O18 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="O18"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function X5D))
set t=null
endfunction
function X2D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local real OJD=(LoadReal(L7,(GetHandleId(PU7)),(789)))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if GetTriggerEventId()==EVENT_WIDGET_DEATH or OJD<(TimerGetElapsed(W))then
call UnitRemoveAbility(PU7,1093816135)
call UnitRemoveAbility(PU7,1093816129)
call UnitRemoveAbility(PU7,1093816134)
call UnitRemoveAbility(PU7,1093816136)
call UnitRemoveAbility(PU7,1110460229)
endif
set t=null
set PU7=null
return false
endfunction
function X_D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093816137)
set EZ7="X_D"
if HW8==1 then
call UnitRemoveAbility(PU7,1110460229)
call UnitRemoveAbility(PU7,1093816129)
call UnitRemoveAbility(PU7,1093816134)
call UnitRemoveAbility(PU7,1093816136)
call L67(PU7,1093816135)
call UnitMakeAbilityPermanent(PU7,true,1093816132)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093816135,false)
elseif HW8==2 then
call UnitRemoveAbility(PU7,1110460229)
call UnitRemoveAbility(PU7,1093816135)
call UnitRemoveAbility(PU7,1093816134)
call UnitRemoveAbility(PU7,1093816136)
call L67(PU7,1093816129)
call UnitMakeAbilityPermanent(PU7,true,1093816133)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093816129,false)
elseif HW8==3 then
call UnitRemoveAbility(PU7,1110460229)
call UnitRemoveAbility(PU7,1093816135)
call UnitRemoveAbility(PU7,1093816129)
call UnitRemoveAbility(PU7,1093816136)
call L67(PU7,1093816134)
call UnitMakeAbilityPermanent(PU7,true,1093816131)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093816134,false)
elseif HW8==4 then
call UnitRemoveAbility(PU7,1110460229)
call UnitRemoveAbility(PU7,1093816135)
call UnitRemoveAbility(PU7,1093816129)
call UnitRemoveAbility(PU7,1093816134)
call L67(PU7,1093816136)
call UnitMakeAbilityPermanent(PU7,true,1093816130)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093816136,false)
endif
call TriggerRegisterTimerEvent(t,20,false)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerAddCondition(t,Condition(function X2D))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveReal(L7,(GetHandleId(PU7)),(789),((19.9+(TimerGetElapsed(W)))*1.0))
set t=null
set FJ8=null
set PU7=null
endfunction
function Y4D takes nothing returns boolean
if GetSpellAbilityId()==1093816137 and L87(GetSpellTargetUnit())==false then
call X_D()
endif
return false
endfunction
function O58 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="O58"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Y4D))
set t=null
endfunction
function Y7D takes unit FJ8,unit PU7,real Y8D returns nothing
call SetUnitState(FJ8,UNIT_STATE_LIFE,GetUnitState(FJ8,UNIT_STATE_LIFE)+GetUnitState(PU7,UNIT_STATE_MAX_LIFE)*Y8D)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl",FJ8,"overhead"))
endfunction
function Y9D takes nothing returns boolean
if L17(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),1093684293)>0 and IsUnitEnemy(Y24,GetOwningPlayer(GetFilterUnit()))then
call Y7D(GetFilterUnit(),Y24,GetUnitAbilityLevel(GetFilterUnit(),1093684293)*0.1*0.5)
endif
return false
endfunction
function YDD takes unit FJ8,unit PU7,integer HW8 returns nothing
local group g=LD7()
set EZ7="Bloodbath_Search"
set Y24=PU7
call GroupEnumUnitsInRange(g,GetUnitX(PU7),GetUnitY(PU7),350,Condition(function Y9D))
call L97(g)
set Y24=null
set g=null
endfunction
function YED takes nothing returns boolean
local unit FJ8=GetKillingUnit()
local unit PU7=GetTriggerUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093684293)
set EZ7="YED"
if IsUnitIllusion(PU7)==false and IsUnitType(PU7,UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(PU7)!=1848651852 then
if IsUnitType(PU7,UNIT_TYPE_HERO)==false then
if HW8>0 then
call Y7D(FJ8,PU7,HW8*0.05+0.05)
endif
else
if HW8>0 then
call Y7D(FJ8,PU7,HW8*0.1)
else
call YDD(FJ8,PU7,HW8)
endif
endif
endif
set FJ8=null
set PU7=null
return false
endfunction
function O28 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="O28"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YED))
set t=null
endfunction
function xn takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local integer BY7=U97(US7,"Level")
local real xN=UD7(US7,"LastX")
local real xo=UD7(US7,"LastY")
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local real d=SquareRoot((xN-x)*(xN-x)+(xo-y)*(xo-y))
local real HCD=0.2*BY7*d
local integer QI=U97(US7,"Iteration")
set EZ7="xn"
if d>1300 then
set HCD=0
endif
if HCD>5 then
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",m5,"origin"))
endif
if HCD>0 and L17(m5)==false then
call HY8(p5,m5,ZI4,HCD)
endif
call TG7(US7,"LastX",x)
call TG7(US7,"LastY",y)
call TF7(US7,"Iteration",QI+1)
if L17(m5)then
call T97(US7)
call UQ7(t)
elseif QI>4*(6+BY7)then
call UnitRemoveAbility(m5,1093683528)
call UnitRemoveAbility(m5,1110456396)
call T97(US7)
call UQ7(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function xp takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(p5,1093684296)
set EZ7="xp"
call L67(m5,1093683528)
call SetUnitAbilityLevel(m5,1093683528,BY7)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",m5,"chest"))
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TF7(US7,"Level",BY7)
call TG7(US7,"LastX",GetUnitX(m5))
call TG7(US7,"LastY",GetUnitY(m5))
call TF7(US7,"Iteration",0)
call TriggerRegisterTimerEvent(t,.25,true)
call TriggerAddCondition(t,Condition(function xn))
call HY8(p5,m5,ZI4,50+100*BY7)
set p5=null
set m5=null
set t=null
endfunction
function YFD takes nothing returns boolean
if GetSpellAbilityId()==1093684296 and L87(GetSpellTargetUnit())==false then
call xp()
endif
return false
endfunction
function O_8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="O_8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YFD))
set t=null
endfunction
function YGD takes nothing returns nothing
local unit HV8
if G88(GetEnumUnit())==false then
call UnitRemoveAbility(GetEnumUnit(),1110459737)
call UnitShareVision(GetEnumUnit(),GetOwningPlayer(ZR4),true)
else
call UnitShareVision(GetEnumUnit(),GetOwningPlayer(ZR4),true)
if GetUnitAbilityLevel(GetEnumUnit(),1110459737)==0 and GetUnitAbilityLevel(GetEnumUnit(),1110454356)==0 and GetUnitAbilityLevel(GetEnumUnit(),1110454348)==0 then
set HV8=CreateUnit(GetOwningPlayer(ZR4),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call UnitAddAbility(HV8,1093812552)
call IssueTargetOrder(HV8,"faeriefire",GetEnumUnit())
set HV8=null
endif
endif
endfunction
function YHD takes nothing returns nothing
local real J_D=ZS4*0.1+0.1
if L17(ZR4)==true or IsUnitInGroup(GetEnumUnit(),ZQ4)==false or GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)>J_D or(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)>J_D/2 and G88(GetEnumUnit())==true)then
call GroupRemoveUnit(ZP4,GetEnumUnit())
call UnitShareVision(GetEnumUnit(),GetOwningPlayer(ZR4),false)
call UnitRemoveAbility(GetEnumUnit(),1110459737)
endif
endfunction
function YID takes nothing returns nothing
local real J_D
if L17(ZR4)==false and IsUnitInGroup(GetEnumUnit(),ZP4)==false and IsUnitIllusion(GetEnumUnit())==false then
set J_D=ZS4*0.1+0.1
if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)<J_D and G88(GetEnumUnit())==false then
call GroupAddUnit(ZP4,GetEnumUnit())
elseif GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)<J_D/2 then
call GroupAddUnit(ZP4,GetEnumUnit())
endif
endif
endfunction
function YJD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local group YKD=(LoadGroupHandle(L7,(PP7),(22)))
local group g=LD7()
local integer HW8=GetUnitAbilityLevel(FJ8,1093683512)
set EZ7="YJD"
set IN4=FJ8
set ZR4=FJ8
set ZP4=YKD
set ZS4=HW8
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),25+6000,Condition(function G68))
call ForGroup(g,function YID)
set ZQ4=g
call ForGroup(ZP4,function YHD)
call ForGroup(ZP4,function YGD)
if FirstOfGroup(ZP4)==null then
call UnitRemoveAbility(FJ8,ZO4[1])
call UnitRemoveAbility(FJ8,ZO4[2])
call UnitRemoveAbility(FJ8,ZO4[3])
call UnitRemoveAbility(FJ8,ZO4[4])
call UnitRemoveAbility(FJ8,1093808436)
else
if HW8==1 then
call UnitRemoveAbility(FJ8,ZO4[2])
call UnitRemoveAbility(FJ8,ZO4[3])
call UnitRemoveAbility(FJ8,ZO4[4])
call UnitRemoveAbility(FJ8,1110459701)
call UnitRemoveAbility(FJ8,1110459700)
call UnitRemoveAbility(FJ8,1110459702)
elseif HW8==2 then
call UnitRemoveAbility(FJ8,ZO4[1])
call UnitRemoveAbility(FJ8,ZO4[3])
call UnitRemoveAbility(FJ8,ZO4[4])
call UnitRemoveAbility(FJ8,1110455634)
call UnitRemoveAbility(FJ8,1110459700)
call UnitRemoveAbility(FJ8,1110459702)
elseif HW8==3 then
call UnitRemoveAbility(FJ8,ZO4[1])
call UnitRemoveAbility(FJ8,ZO4[2])
call UnitRemoveAbility(FJ8,ZO4[4])
call UnitRemoveAbility(FJ8,1110455634)
call UnitRemoveAbility(FJ8,1110459701)
call UnitRemoveAbility(FJ8,1110459702)
elseif HW8==4 then
call UnitRemoveAbility(FJ8,ZO4[1])
call UnitRemoveAbility(FJ8,ZO4[2])
call UnitRemoveAbility(FJ8,ZO4[3])
call UnitRemoveAbility(FJ8,1110455634)
call UnitRemoveAbility(FJ8,1110459701)
call UnitRemoveAbility(FJ8,1110459700)
endif
call L67(FJ8,ZO4[HW8])
call L67(FJ8,1093808436)
call UnitMakeAbilityPermanent(FJ8,true,ZO4[HW8])
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),ZO4[HW8],false)
endif
call L97(g)
set t=null
set FJ8=null
set g=null
set YKD=null
return false
endfunction
function YMD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
set EZ7="YMD"
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function YJD))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveGroupHandle(L7,(PP7),(22),(LD7()))
set t=null
set FJ8=null
endfunction
function YND takes nothing returns boolean
if GetLearnedSkill()==1093683512 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093683512)==1 then
call YMD()
endif
return false
endfunction
function P78 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="P78"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function YND))
set ZO4[1]=1093808432
set ZO4[2]=1093808433
set ZO4[3]=1093808434
set ZO4[4]=1093808435
set t=null
endfunction
function YOD takes nothing returns boolean
if GetSpellAbilityId()==1093682499 and GetSpellTargetUnit()!=GetTriggerUnit()and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(UE7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652600))
endif
return false
endfunction
function P48 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="P48"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function YOD))
set t=null
endfunction
function YPD takes nothing returns boolean
return GetUnitTypeId(GetSummonedUnit())==1865429043
endfunction
function YQD takes nothing returns nothing
local unit xU=GetSummonedUnit()
local unit xv=GetSummoningUnit()
local integer US7=GetHandleId(xv)
local integer BY7=GetUnitAbilityLevel(xv,1093681735)
local integer xV=U97(US7,"TotalWebs")
local unit xw=T37(US7,"Web1")
local integer x=1
set xV=xV+1
call SetUnitVertexColorBJ(xU,100,100,100,80)
call L67(xU,1097625443)
call TJ7(US7,"Web"+I2S(xV),xU)
if(xV>BY7*2)then
call KillUnit(xw)
loop
exitwhen x==xV
call TJ7(US7,"Web"+I2S(x),T37(US7,"Web"+I2S(x+1)))
set x=x+1
endloop
set xV=xV-1
endif
call TF7(US7,"TotalWebs",xV)
call SetUnitAbilityLevel(xU,1093681734,BY7)
set xU=null
set xv=null
set xw=null
endfunction
function P88 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function YPD))
call TriggerAddAction(t,function YQD)
set t=null
endfunction
function YRD takes unit xv returns nothing
local integer US7=GetHandleId(xv)
local integer BY7=GetUnitAbilityLevel(xv,1093681735)
local integer xV=U97(US7,"TotalWebs")
local integer x=1
local unit VX
loop
exitwhen x>xV
set VX=T37(US7,"Web"+I2S(x))
call SetUnitAbilityLevel(VX,1093681734,BY7)
set x=x+1
endloop
set VX=null
endfunction
function YSD takes nothing returns nothing
local unit YTD=T37(GetHandleId(GetTriggeringTrigger()),"Spider")
if YTD==null then
call FlushChildHashtable(L7,(GetHandleId(GetTriggeringTrigger())))
call UQ7(GetTriggeringTrigger())
else
if IsUnitType(YTD,UNIT_TYPE_HERO)==true then
if GetUnitAbilityLevel(YTD,1110454595)>0 then
call L67(YTD,1093677617)
else
call UnitRemoveAbility(YTD,1093677617)
endif
else
if GetUnitAbilityLevel(YTD,1110454595)>0 then
call L67(YTD,1093810499)
else
call UnitRemoveAbility(YTD,1093810499)
endif
endif
endif
set YTD=null
endfunction
function YUD takes unit FJ8 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(t,1.50)
call TriggerAddAction(t,function YSD)
call TJ7(GetHandleId(t),"Spider",FJ8)
set t=null
endfunction
function YVD takes nothing returns boolean
if GetUnitTypeId(GetSummonedUnit())==1848652101 or GetUnitTypeId(GetSummonedUnit())==1848652089 then
call YUD(GetSummonedUnit())
endif
return false
endfunction
function YWD takes unit C17,boolean BZ9 returns nothing
local trigger t
if(GetUnitAbilityLevel(C17,1093681735)==1 or BZ9)then
call YUD(C17)
else
call YRD(C17)
endif
if BZ9 then
set aj[GetPlayerId(GetOwningPlayer(C17))]=t
endif
set t=null
endfunction
function YXD takes nothing returns boolean
if GetLearnedSkill()==1093681735 and IsUnitIllusion(GetTriggerUnit())==false then
call YWD(GetTriggerUnit(),false)
endif
return false
endfunction
function P98 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function YXD))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function YVD))
set t=null
endfunction
function YYD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
set EZ7="YYD"
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and EU9(GetSpellAbilityId())and GetSpellTargetUnit()==C17)then
if L17(C17)==false then
call UnitRemoveAbility(C17,1093687122)
call UnitRemoveAbility(C17,1110454597)
endif
call DestroyEffect(T27(US7,"FX"))
call T97(US7)
call UQ7(t)
endif
set t=null
set C17=null
return false
endfunction
function YZD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit C17=GetTriggerUnit()
set EZ7="YZD"
call TriggerRegisterTimerEvent(t,14,false)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YYD))
call TJ7(US7,"Hero",C17)
call TK7(US7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl",C17,"origin"))
call L67(C17,1093687122)
call SetUnitAbilityLevel(C17,1093687122,GetUnitAbilityLevel(C17,1093687121))
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),1093687122,false)
set t=null
set C17=null
endfunction
function YAD takes nothing returns boolean
if GetSpellAbilityId()==1093687121 then
call YZD()
endif
return false
endfunction
function PD8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PD8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YAD))
set t=null
endfunction
function YBD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
set EZ7="YBD"
if GetTriggerEvalCount(t)>300 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetUnitAbilityLevel(PU7,1110459703)>0 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call HY8(FJ8,PU7,ZG4,GetUnitAbilityLevel(FJ8,1093681736)*75)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function YCD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
set EZ7="YCD"
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function YBD))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
set t=null
set FJ8=null
set PU7=null
endfunction
function Y3D takes nothing returns boolean
if GetSpellAbilityId()==1093681736 then
call YCD()
endif
return false
endfunction
function PE8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PE8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Y3D))
set t=null
endfunction
function Y6D takes nothing returns boolean
return GetSpellAbilityId()==1093678389
endfunction
function YLD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local real CV9=(LoadReal(L7,(PP7),(20)))
local integer HT8=(LoadInteger(L7,(PP7),(188)))
local texttag tt
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetEventDamageSource()==HV8 then
set tt=CreateTextTag()
call EI8(I2S(HT8),HT8,PU7,0.03,127,127,255,255)
call SetTextTagText(tt,"+"+I2S(R2I(CV9)),0.025)
call SetTextTagPosUnit(tt,PU7,10)
call SetTextTagColor(tt,255,0,0,255)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,2)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,2)
if IsUnitVisible(PU7,GetLocalPlayer())or C67(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
call HY8(FJ8,PU7,ZG4,CV9)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
set tt=null
return false
endfunction
function Y1D takes nothing returns nothing
local integer HW8=GetUnitAbilityLevel(GetTriggerUnit(),1093678389)
local integer Y0D=GetRandomInt(1,HW8+1)
local unit Z49=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local location DR9=GetUnitLoc(Z49)
local real CV9=GetRandomReal(1,200)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit HV8=CreateUnit(GetOwningPlayer(Z49),1697656901,GetUnitX(Z49),GetUnitY(Z49),0)
if HW8==2 then
set CV9=GetRandomReal(50,225)
elseif HW8==3 then
set CV9=GetRandomReal(75,250)
elseif HW8==4 then
set CV9=GetRandomReal(100,275)
endif
call TriggerRegisterTimerEvent(t,10,false)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function YLD))
call SaveUnitHandle(L7,(PP7),(2),(Z49))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call SaveReal(L7,(PP7),(20),((CV9)*1.0))
if(HW8==4)then
set Y0D=GetRandomInt(2,4)
endif
call SaveInteger(L7,(PP7),(188),(Y0D))
call L67(HV8,1093678165)
call SetUnitAbilityLevel(HV8,1093678165,Y0D)
call IssueTargetOrder(HV8,"thunderbolt",PU7)
set t=null
endfunction
function PG8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PG8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Y6D))
call TriggerAddAction(t,function Y1D)
endfunction
function Y5D takes nothing returns boolean
return GetLearnedSkill()==1095263841 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function Y2D takes nothing returns nothing
if(UnitHasBuffBJ(GetTriggerUnit(),1112504171))then
call UnitRemoveAbility(GetTriggerUnit(),1112504171)
endif
call DisableTrigger(DF)
endfunction
function R98 takes nothing returns nothing
set DF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DF,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(DF,Condition(function Y5D))
call TriggerAddAction(DF,function Y2D)
endfunction
function Y_D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CT7=GetHandleId(t)
local unit F3D=(LoadUnitHandle(L7,(CT7),(2)))
local real Z4D=GetUnitState(F3D,UNIT_STATE_LIFE)
set EZ7="Y_D"
call UnitRemoveAbility(F3D,1093751344)
call UnitRemoveAbility(F3D,1110459445)
call H68(F3D,0)
call H18(F3D,0)
call SetUnitState(F3D,UNIT_STATE_LIFE,Z4D)
call FlushChildHashtable(L7,(CT7))
call UQ7(t)
set t=null
set F3D=null
return false
endfunction
function Z7D takes nothing returns nothing
local unit F3D=GetTriggerUnit()
local unit FYD=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer CT7=GetHandleId(t)
local integer RE7=GetUnitAbilityLevel(F3D,1093678161)
local real Z8D=GetUnitState(FYD,UNIT_STATE_LIFE)
local real Z4D=GetUnitState(F3D,UNIT_STATE_LIFE)
local integer Z9D=R2I((0.035+0.015*RE7)*Z8D)
local integer ZDD=R2I((0.35+0.15*RE7)*Z8D)
set EZ7="Z7D"
call H68(F3D,Z9D)
call H18(F3D,ZDD)
call L67(F3D,1093751344)
call SetUnitState(FYD,UNIT_STATE_LIFE,1)
call HY8(F3D,FYD,ZH4,20)
call HY8(F3D,FYD,ZG4,20)
call HY8(F3D,FYD,ZI4,20)
call SetUnitState(F3D,UNIT_STATE_LIFE,Z4D+ZDD)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",FYD,"chest"))
call SaveUnitHandle(L7,(CT7),(2),(F3D))
call TriggerRegisterUnitEvent(t,F3D,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,35,false)
call TriggerAddCondition(t,Condition(function Y_D))
set F3D=null
set FYD=null
set t=null
endfunction
function ZED takes nothing returns boolean
if GetSpellAbilityId()==1093678161 and GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>0.5 and RM7(GetSpellTargetUnit())==false then
call Z7D()
endif
return false
endfunction
function RD8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RD8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZED))
set t=null
endfunction
function ZFD takes integer x returns boolean
return x==1093808454 or x==1093808455 or x==1093743695 or x==1093684805 or x==1093743695 or x==1093747504 or x==1093686082
endfunction
function ZGD takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),1110455896)>0 and(BR7(GetSpellAbilityId())or GetSpellAbilityId()==1093685065)and ZFD(GetSpellAbilityId())==false and JY8(GetSpellAbilityId())==false
endfunction
function ZHD takes nothing returns nothing
local integer US7=GetHandleId(GetTriggeringTrigger())
local unit C17=GetTriggerUnit()
local unit x9=T37(US7,"Destroyer")
local integer sr=GetUnitAbilityLevel(x9,1093683526)
set EZ7="ZHD"
if GetRandomInt(1,100)<=sr*10 and m9(C17,x9,1400)then
call SetUnitState(C17,UNIT_STATE_MANA,GetUnitState(C17,UNIT_STATE_MANA)+0.25*GetUnitState(C17,UNIT_STATE_MAX_MANA))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl",C17,"overhead"))
endif
set C17=null
set x9=null
endfunction
function ZID takes unit C17,boolean BZ9 returns nothing
local integer sr=GetUnitAbilityLevel(C17,1093683526)
local trigger t
set EZ7="kKv"
if(sr==1 or BZ9)then
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZGD))
call TriggerAddAction(t,function ZHD)
call TJ7(GetHandleId(t),"Destroyer",C17)
if BZ9 then
set nj[GetPlayerId(GetOwningPlayer(C17))]=t
endif
endif
if BZ9 then
call UnitAddAbility(C17,1093685068)
if sr>1 then
call UnitAddAbility(C17,1093685069)
endif
if sr>2 then
call UnitAddAbility(C17,1093685070)
endif
if sr>3 then
call UnitAddAbility(C17,1093685064)
endif
else
if(sr==1)then
call L67(C17,1093685068)
elseif(sr==2)then
call L67(C17,1093685069)
elseif(sr==3)then
call L67(C17,1093685070)
elseif(sr==4)then
call L67(C17,1093685064)
endif
endif
set t=null
endfunction
function ZJD takes nothing returns boolean
if GetLearnedSkill()==1093683526 and IsUnitIllusion(GetTriggerUnit())==false then
call ZID(GetTriggerUnit(),false)
endif
return false
endfunction
function RR8 takes nothing returns nothing
set RJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RJ,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(RJ,Condition(function ZJD))
endfunction
function XA takes nothing returns boolean
local real d
set EZ7="XA"
if GetUnitAbilityLevel(GetTriggerUnit(),1110455897)>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093685065)>0 and T37(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call UnitRemoveAbility(GetTriggerUnit(),1110455897)
set d=.01*(5+GetUnitAbilityLevel(GetEventDamageSource(),1093685065))*(GetUnitState(GetEventDamageSource(),UNIT_STATE_MANA)+100)
if(IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)or IsUnitIllusion(GetTriggerUnit()))and GetUnitTypeId(GetTriggerUnit())!=1848651828 and GetUnitTypeId(GetTriggerUnit())!=1848652088 and GetUnitTypeId(GetTriggerUnit())!=1848652099 and GetUnitTypeId(GetTriggerUnit())!=1848652103 and GetUnitTypeId(GetTriggerUnit())!=1848651861 and GetUnitTypeId(GetTriggerUnit())!=1848651865 and GetUnitTypeId(GetTriggerUnit())!=1848651866 then
set d=d+100*GetUnitAbilityLevel(GetEventDamageSource(),1093685065)
endif
call EI8("+"+I2S(R2I(d)),1,GetTriggerUnit(),.023,191,64,255,216)
if(GetRandomInt(1,100)<=GetUnitAbilityLevel(GetEventDamageSource(),1093683526)*10)and(UE7(GetHandleId(GetTriggeringTrigger()),"DoneViaSpell")==false)then
call SetUnitState(GetEventDamageSource(),UNIT_STATE_MANA,GetUnitState(GetEventDamageSource(),UNIT_STATE_MANA)+.25*GetUnitState(GetEventDamageSource(),UNIT_STATE_MAX_MANA))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl",GetEventDamageSource(),"overhead"))
endif
call DisableTrigger(GetTriggeringTrigger())
call HY8(GetEventDamageSource(),GetTriggerUnit(),ZI4,d)
call T97(GetHandleId(GetTriggeringTrigger()))
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function Xb takes nothing returns nothing
local trigger t
local unit m5
local unit p5
set EZ7="Xb"
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set m5=GetSpellTargetUnit()
set p5=GetTriggerUnit()
else
set m5=GetTriggerUnit()
set p5=GetAttacker()
endif
if IsUnitIllusion(p5)==false then
set t=CreateTrigger()
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
call TI7(GetHandleId(t),"DoneViaSpell",true)
else
call TI7(GetHandleId(t),"DoneViaSpell",false)
endif
call TJ7(GetHandleId(t),"Source",p5)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function XA))
endif
set t=null
set m5=null
set p5=null
endfunction
function XB takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetUnitAbilityLevel(GetAttacker(),1093685065)>0 and(UE7(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==T37(GetHandleId(GetTriggeringTrigger()),"Hero")then
call Xb()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==852255)then
call TI7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)
elseif(GetIssuedOrderId()==852256)then
call TI7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093685065 then
call Xb()
endif
return false
endfunction
function ZKD takes unit C17,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
set EZ7="kLv"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function XB))
call TJ7(GetHandleId(t),"Hero",C17)
if BZ9 then
set rj[GetPlayerId(GetOwningPlayer(C17))]=t
endif
set t=null
endfunction
function ZMD takes nothing returns boolean
if GetLearnedSkill()==1093685065 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093685065)==1 then
call ZKD(GetTriggerUnit(),false)
endif
return false
endfunction
function RS8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RS8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function ZMD))
set t=null
endfunction
function ZND takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local integer ZOD=U97(US7,"StolenInt")
set EZ7="ZND"
call SetHeroInt(m5,GetHeroInt(m5,false)+ZOD,true)
call SetHeroInt(p5,GetHeroInt(p5,false)-ZOD,true)
call T97(US7)
call UQ7(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function ZPD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
set EZ7="ZPD"
call UO7(m5,"AstralImprisonmentState")
call DestroyEffect(T27(US7,"FX"))
call SetUnitInvulnerable(m5,false)
call PauseUnit(m5,false)
call ShowUnit(m5,true)
call ClearSelectionForPlayer(GetOwningPlayer(m5))
call SelectUnitAddForPlayer(m5,GetOwningPlayer(m5))
call TD7(GetHandleId(p5),"748")
call T97(US7)
call UQ7(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function ZQD takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093685066)
local integer ZRD=DL8(GetHeroInt(PU7,false),2+HW8*2)
local trigger t
local integer PP7
local unit HV8=CreateUnit(GetOwningPlayer(PU7),1865429305,GetUnitX(PU7),GetUnitY(PU7),0)
set EZ7="ZQD"
call UnitApplyTimedLife(HV8,1112820806,HW8+1)
if(IsUnitEnemy(PU7,GetOwningPlayer(FJ8)))==false or L87(GetSpellTargetUnit())==false then
call UM7(PU7,"AstralImprisonmentState")
set t=CreateTrigger()
set PP7=GetHandleId(t)
call SelectUnitRemoveForPlayer(PU7,GetOwningPlayer(PU7))
call SetUnitInvulnerable(PU7,true)
call PauseUnit(PU7,true)
call ShowUnit(PU7,false)
call TK7(PP7,"FX",AddSpecialEffect("Abilities\\Spells\\Demon\\DarkConversion\\ZombifyTarget.mdl",GetUnitX(PU7),GetUnitY(PU7)))
call TJ7(PP7,"Source",FJ8)
call TJ7(PP7,"Target",PU7)
call TriggerRegisterTimerEvent(t,HW8,false)
call TriggerAddCondition(t,Condition(function ZPD))
if(IsUnitEnemy(PU7,GetOwningPlayer(FJ8)))==true then
call TJ7(GetHandleId(FJ8),"748",PU7)
call SetHeroInt(PU7,GetHeroInt(PU7,false)-ZRD,true)
call SetHeroInt(FJ8,GetHeroInt(FJ8,false)+ZRD,true)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TJ7(PP7,"Source",FJ8)
call TJ7(PP7,"Target",PU7)
call TF7(PP7,"StolenInt",ZRD)
call TriggerRegisterTimerEvent(t,60,false)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZND))
endif
endif
set HV8=null
set FJ8=null
set PU7=null
set t=null
endfunction
function ZSD takes nothing returns boolean
if GetSpellAbilityId()==1093685066 then
call ZQD()
endif
return false
endfunction
function ZTD takes nothing returns nothing
if IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and UE7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")and GetSpellTargetUnit()!=GetTriggerUnit()then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848652600))))
endif
endfunction
function ZUD takes nothing returns boolean
if GetSpellAbilityId()==1093685066 then
call ZTD()
endif
return false
endfunction
function RT8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RT8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZSD))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function ZUD))
set t=null
endfunction
function ZVD takes nothing returns boolean
return GetSpellAbilityId()==1093685067 or GetSpellAbilityId()==1093752407
endfunction
function ZWD takes nothing returns nothing
local unit PU7=GetEnumUnit()
local unit ZXD=GetTriggerUnit()
local integer ZYD=GetHeroInt(ZXD,true)-GetHeroInt(PU7,true)
local integer array ZZD
local integer HW8=GetUnitAbilityLevel(ZXD,1093685067)
local integer ZAD=7+1*HW8
set EZ7="ZWD"
if HW8==0 then
set HW8=GetUnitAbilityLevel(ZXD,1093752407)
set ZAD=7+1*HW8+1
endif
set ZZD[1]=10
set ZZD[2]=30
set ZZD[3]=50
if(ZYD>0)then
call UnitDamageTarget(ZXD,PU7,ZYD*ZAD,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call EI8(I2S(R2I(ZYD*ZAD)),3,PU7,0.023,216,30,30,216)
if(ZYD<ZZD[HW8])then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl",PU7,"overhead"))
call SetUnitState(PU7,UNIT_STATE_MANA,GetUnitState(PU7,UNIT_STATE_MANA)*.25)
endif
endif
set PU7=null
set ZXD=null
endfunction
function ZBD takes nothing returns boolean
if(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)then
if(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))then
return true
endif
endif
return false
endfunction
function ZCD takes nothing returns nothing
local unit Z49=GetTriggerUnit()
local integer LO9=GetUnitAbilityLevel(Z49,1093685067)
local real x=GetLocationX(GetSpellTargetLoc())
local real y=GetLocationY(GetSpellTargetLoc())
local group CZ9=LD7()
local integer W09=0
local unit Z3D=(T37(GetHandleId(Z49),"748"))
set EZ7="ZCD"
if LO9==0 then
set LO9=GetUnitAbilityLevel(Z49,1093752407)
endif
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl",x,y))
loop
exitwhen W09>=360
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl",x+(200+LO9*50)*Cos(W09*bj_DEGTORAD),y+(200+LO9*50)*Sin(W09*bj_DEGTORAD)))
set W09=W09+45
endloop
call GroupEnumUnitsInRange(CZ9,x,y,300+LO9*100,Condition(function ZBD))
if Z3D!=null and Q07(x,y,GetUnitX(Z3D),GetUnitY(Z3D))<(300+LO9*100)then
call SetUnitInvulnerable(Z3D,false)
call GroupAddUnit(CZ9,Z3D)
endif
call ForGroup(CZ9,function ZWD)
if Z3D!=null and L17(Z3D)==false then
call SetUnitInvulnerable(Z3D,true)
endif
call L97(CZ9)
set Z49=null
set CZ9=null
endfunction
function RU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZVD))
call TriggerAddAction(t,function ZCD)
set t=null
endfunction
function Z6D takes nothing returns nothing
call HY8(RL4,GetEnumUnit(),ZG4,R14)
endfunction
function ZLD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=T37(PP7,"Target")
local unit FJ8=T37(PP7,"Source")
local group g
local integer L48=U97(PP7,"Count")
set EZ7="ZLD"
if GetTriggerEvalCount(t)>200 or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEvalCount(t)>1 and GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093685575 and GetSpellTargetUnit()==PU7)then
call DestroyEffect(T27(PP7,"Effect"))
call T97(PP7)
call UQ7(t)
else
set L48=L48+1
call TF7(PP7,"Count",L48)
set g=LD7()
set IN4=FJ8
set RL4=FJ8
set R14=1.0+2.0*GetUnitAbilityLevel(FJ8,1093685575)
call GroupEnumUnitsInRange(g,GetUnitX(PU7),GetUnitY(PU7),275,Condition(function G78))
call GroupRemoveUnit(g,PU7)
call ForGroup(g,function Z6D)
call L97(g)
endif
set PU7=null
set t=null
set FJ8=null
set g=null
return false
endfunction
function Z1D takes nothing returns nothing
local trigger t=CreateTrigger()
local effect fx=AddSpecialEffectTarget("war3mapImported\\NewSoulArmor.mdx",GetSpellTargetUnit(),"chest")
local integer PP7=GetHandleId(t)
set EZ7="Z1D"
call ET8(JO,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))
call TJ7(PP7,"Source",GetTriggerUnit())
call TJ7(PP7,"Target",GetSpellTargetUnit())
call TK7(PP7,"Effect",fx)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,GetSpellTargetUnit(),EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZLD))
set t=null
set fx=null
endfunction
function Z0D takes nothing returns boolean
if GetSpellAbilityId()==1093685575 then
call Z1D()
endif
return false
endfunction
function SI8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SI8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z0D))
set t=null
endfunction
function Z5D takes unit u returns boolean
return GetUnitAbilityLevel(u,1110454858)>0 or GetUnitAbilityLevel(u,1112896368)>0 or GetUnitAbilityLevel(u,1114993524)>0 or C77(u)
endfunction
function Z2D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
local integer BY7
local unit p5
local unit m5
local real x1
local real y1
local real d
local real a
set EZ7="Z2D"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call T97(US7)
call UQ7(t)
else
set m5=T37(US7,"Target")
set d=UD7(US7,"d")
set x=UD7(US7,"x")
set y=UD7(US7,"y")
set a=UD7(US7,"a")
set x1=GetUnitX(m5)+d/ 15*Cos(a)
set y1=GetUnitY(m5)+d/ 15*Sin(a)
if IsUnitType(m5,UNIT_TYPE_HERO)==true then
call SetUnitPosition(m5,x1,y1)
else
call SetUnitX(m5,x1)
call SetUnitY(m5,y1)
endif
if GetTriggerEvalCount(t)>15 then
set p5=T37(US7,"Source")
set BY7=U97(US7,"Level")
call T97(US7)
call UQ7(t)
call HY8(p5,m5,ZG4,BY7*40)
set p5=null
endif
set m5=null
endif
set t=null
return false
endfunction
function Z_D takes nothing returns nothing
local trigger t
local integer US7
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
if Z5D(m5)==false then
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function Z2D))
call TG7(US7,"x",(j0)*1.0)
call TG7(US7,"y",(K0)*1.0)
call TG7(US7,"d",(Q07(j0,K0,GetUnitX(m5),GetUnitY(m5)))*1.0)
call TG7(US7,"a",(Atan2(K0-GetUnitY(m5),j0-GetUnitX(m5)))*1.0)
call TF7(US7,"Level",l0)
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
endif
set t=null
set p5=null
set m5=null
endfunction
function A4D takes nothing returns nothing
local group g=LD7()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local integer BY7=GetUnitAbilityLevel(GetTriggerUnit(),1093685573)
local real r=150+100*BY7+25
set EZ7="A4D"
set IN4=GetTriggerUnit()
call ET8(DP,x,y)
call DestroyEffect(AddSpecialEffect("war3mapImported\\Star Aura.mdx",x,y))
call GroupEnumUnitsInRange(g,x,y,r,Condition(function GS8))
set j0=x
set K0=y
set l0=BY7
call ForGroup(g,function Z_D)
call ER8(x,y,200)
call RemoveLocation(l)
call L97(g)
set l=null
set g=null
endfunction
function A7D takes nothing returns boolean
if GetSpellAbilityId()==1093685573 then
call A4D()
endif
return false
endfunction
function A8D takes nothing returns nothing
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
set EZ7="A8D"
if ES8(x,y)==false or(IsPointInRegion(IU4,((x)*1.0),((y)*1.0)))then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848652619))))
endif
call RemoveLocation(l)
set l=null
endfunction
function A9D takes nothing returns boolean
if GetSpellAbilityId()==1093685573 then
call A8D()
endif
return false
endfunction
function SH8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SH8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function A7D))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function A9D))
set t=null
endfunction
function Xq takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
set EZ7="Xq"
call UnitRemoveAbility(m5,1110456151)
call UnitRemoveAbility(m5,1113746543)
call UnitRemoveAbility(m5,1110455858)
call UnitRemoveAbility(m5,1110455861)
call UnitRemoveAbility(m5,1113813619)
call UnitRemoveAbility(m5,1110454582)
call UnitRemoveAbility(m5,1110455634)
set t=null
set m5=null
return false
endfunction
function XQ takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="XQ"
call TriggerRegisterTimerEvent(t,GetUnitAbilityLevel(GetTriggerUnit(),1093685815)*1.5+.5,false)
call TriggerAddCondition(t,Condition(function Xq))
call TJ7(GetHandleId(t),"Target",GetSpellTargetUnit())
call ET8(bR,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))
call DestroyEffect(AddSpecialEffectTarget("effects\\Surge.mdx",GetSpellTargetUnit(),"origin"))
set t=null
endfunction
function ADD takes nothing returns boolean
if GetSpellAbilityId()==1093685815 then
call XQ()
endif
return false
endfunction
function SJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SJ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ADD))
set t=null
endfunction
function AED takes boolean AFD returns boolean
local integer US7=GetHandleId(GetTriggeringTrigger())
local unit AGD=T37(US7,"Wall")
local unit m5=GetTriggerUnit()
local unit XS=CreateUnit(GetOwningPlayer(AGD),1697657171,GetUnitX(m5),GetUnitY(m5),0)
local unit LI7=M7[GetPlayerId(GetOwningPlayer(AGD))]
local integer HW8=GetUnitAbilityLevel(LI7,1093685579)
set EZ7="WallOfReplica_Detected_Main"
if HW8==0 then
set HW8=GetUnitAbilityLevel(LI7,1093808465)
endif
call SetUnitAbilityLevel(AGD,1093685580,HW8)
set PO4=GetUnitX(m5)
set PP4=GetUnitY(m5)
set PQ4=m5
if AFD then
call SetUnitAbilityLevel(AGD,1093685580,3+HW8)
call IssueTargetOrderById(AGD,852274,m5)
call HY8(AGD,m5,ZG4,150)
else
call IssueTargetOrderById(AGD,852274,m5)
call HY8(AGD,m5,ZG4,150)
endif
call UnitApplyTimedLife(XS,1112820806,.5)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(m5),GetUnitY(m5)))
set AGD=null
set m5=null
set XS=null
return false
endfunction
function AHD takes nothing returns boolean
local group g
set EZ7="AHD"
if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(T37(GetHandleId(GetTriggeringTrigger()),"Wall")))and JV8(GetUnitTypeId(GetFilterUnit()))==false then
set g=T57(GetHandleId(GetTriggeringTrigger()),"g1")
if IsUnitInGroup(GetFilterUnit(),g)==false then
call GroupAddUnit(g,GetFilterUnit())
call AED(false)
endif
endif
set g=null
return false
endfunction
function AID takes nothing returns boolean
local group g
set EZ7="AID"
if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(T37(GetHandleId(GetTriggeringTrigger()),"Wall")))and JV8(GetUnitTypeId(GetFilterUnit()))==false then
set g=T57(GetHandleId(GetTriggeringTrigger()),"g1")
if IsUnitInGroup(GetFilterUnit(),g)==false then
call GroupAddUnit(g,GetFilterUnit())
call AED(true)
endif
endif
set g=null
return false
endfunction
function WallOfReplica_FindSource takes nothing returns nothing
if GetPlayerId(GetOwningPlayer(GetEnumUnit()))==IH4 then
call GroupAddUnit(IQ4,GetEnumUnit())
endif
endfunction
function AJD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
set EZ7="XT"
call GroupRemoveUnit(T57(PP7,"g1"),T37(PP7,"imagesource"))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call T97(PP7)
call DisableTrigger(t)
set t=null
return false
endfunction
function AKD takes nothing returns boolean
local unit AGD=GetSummoningUnit()
local unit CT8=GetSummonedUnit()
local integer PP7=GetHandleId(AGD)
local integer AMD=U97(PP7,"NumOfImages")
local trigger t=CreateTrigger()
set EZ7="AKD"
call SetUnitVertexColor(CT8,255,255,255,100)
call TriggerRegisterUnitEvent(t,CT8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function AJD))
call TS7(GetHandleId(t),"g1",T57(PP7,"g1"))
call TJ7(GetHandleId(t),"imagesource",PQ4)
set AMD=AMD+1
call TF7(PP7,"NumOfImages",AMD)
call TJ7(PP7,"Illusion"+I2S(AMD),CT8)
call TM7(PP7,"IllusionTrig"+I2S(AMD),t)
call SetUnitX(CT8,PO4)
call SetUnitY(CT8,PP4)
set AGD=null
set CT8=null
set t=null
return false
endfunction
function AND takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Xw takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer v5=GetHandleId(t)
local trigger XW=T07(v5,"mastert")
local integer tK=GetHandleId(XW)
local trigger v7=T07(tK,"DetectTrig")
local group Xx=T57(tK,"g1")
local group XX=T57(tK,"g2")
local unit AOD=T37(tK,"Wall")
local integer Xy=GetHandleId(AOD)
local integer Xv=U97(Xy,"NumOfImages")
local integer i
local unit u
set EZ7="Xw"
call ForGroup(XX,function AND)
set i=1
loop
exitwhen i>Xv
set u=T37(Xy,"Illusion"+I2S(i))
call T97(GetHandleId(T07(Xy,"IllusionTrig"+I2S(i))))
call UQ7(T07(Xy,"IllusionTrig"+I2S(i)))
if IsUnitIllusion(u)then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(u),GetUnitY(u)))
call RemoveUnit(u)
endif
set i=i+1
endloop
call T97(v5)
call T97(tK)
call T97(Xy)
call RemoveUnit(AOD)
call L97(Xx)
call L97(XX)
call UQ7(XW)
call UQ7(v7)
call UQ7(t)
set t=null
set XW=null
set v7=null
set Xx=null
set XX=null
set AOD=null
set u=null
return false
endfunction
function APD takes nothing returns nothing
local unit C17=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real AQD=GetUnitFacing(C17)-45
local unit AOD=CreateUnit(GetOwningPlayer(C17),1747988559,x,y,AQD)
local unit u
local real AU9
local real AV9
local integer i
local real Xk
local trigger t=CreateTrigger()
local group g1=LD7()
local integer US7=GetHandleId(t)
local group g2=LD7()
local trigger XW=t
local integer HW8=GetUnitAbilityLevel(C17,1093685579)
local boolean AFD=false
set EZ7="APD"
if HW8==0 then
set AFD=true
set HW8=GetUnitAbilityLevel(C17,1093808465)
endif
call SetUnitAbilityLevel(AOD,1093685580,HW8)
call ET8(hR,x,y)
call TS7(US7,"g1",g1)
call TS7(GetHandleId(AOD),"g1",g1)
call TS7(US7,"g2",g2)
call TJ7(US7,"Wall",AOD)
call TF7(GetHandleId(AOD),"NumOfImages",0)
set i=0
loop
exitwhen i>39
set AU9=x+(500-25*i)*Cos((AQD-45)*bj_DEGTORAD)
set AV9=y+(500-25*i)*Sin((AQD-45)*bj_DEGTORAD)
set u=CreateUnit(GetOwningPlayer(C17),1747988560,AU9,AV9,AQD)
call SetUnitPathing(u,false)
call SetUnitX(u,AU9)
call SetUnitY(u,AV9)
call GroupAddUnit(g2,u)
call TriggerRegisterUnitInRange(t,u,17,Condition(function A47))
set i=i+1
endloop
if AFD then
call TriggerAddCondition(t,Condition(function AID))
else
call TriggerAddCondition(t,Condition(function AHD))
endif
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,AOD,EVENT_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function AKD))
call TM7(US7,"DetectTrig",t)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,15*HW8,false)
call TriggerAddCondition(t,Condition(function Xw))
call TM7(GetHandleId(t),"mastert",XW)
call RemoveLocation(l)
set C17=null
set l=null
set u=null
set t=null
set XW=null
set g1=null
set g2=null
set AOD=null
endfunction
function ARD takes nothing returns boolean
if GetSpellAbilityId()==1093685579 or GetSpellAbilityId()==1093808465 then
call APD()
endif
return false
endfunction
function SK8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SK8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ARD))
set t=null
endfunction
function ASD takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),AM4)==false and C37(GetEnumUnit())==false then
call GroupAddUnit(AM4,GetEnumUnit())
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),AN4,false)
call FV8(GetEnumUnit(),AN4,1,3,1110455633)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\SpellShieldAmulet\\SpellShieldCaster.mdl",GetEnumUnit(),"overhead"))
endif
endfunction
function ATD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit LI7=(LoadUnitHandle(L7,(PP7),(14)))
local real x2=(LoadReal(L7,(PP7),(66)))
local real y2=(LoadReal(L7,(PP7),(67)))
local real a=(LoadReal(L7,(PP7),(137)))
local integer L48=GetTriggerEvalCount(t)
local real x=GetUnitX(LI7)
local real y=GetUnitY(LI7)
local real AO9=(LoadReal(L7,(PP7),(23)))
local real AP9=(LoadReal(L7,(PP7),(24)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local group g=LD7()
local group HPD=(LoadGroupHandle(L7,(PP7),(187)))
local integer HW8=GetUnitAbilityLevel(LI7,1093684299)
set EZ7="ATD"
if Q07(x,y,x2,y2)<=OU then
set x=x2
set y=y2
else
set x=DT8(AO9+65*Cos(a*bj_DEGTORAD))
set y=DU8(AP9+65*Sin(a*bj_DEGTORAD))
endif
if HW8==1 then
set AN4=1093810497
elseif HW8==2 then
set AN4=1093810489
elseif HW8==3 then
set AN4=1093810498
elseif HW8==4 then
set AN4=1093810488
endif
set IN4=LI7
set AM4=HPD
call GroupEnumUnitsInRange(g,x,y,325,Condition(function G78))
call ForGroup(g,function ASD)
call L97(g)
call SaveReal(L7,(PP7),(23),((x)*1.0))
call SaveReal(L7,(PP7),(24),((y)*1.0))
call SetUnitPosition(LI7,x,y)
if(x==x2 and y==y2)or L48>40 then
call SetUnitX(HV8,x)
call SetUnitY(HV8,y)
call IssueImmediateOrder(HV8,"thunderclap")
call L97(HPD)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call SetUnitAnimation(LI7,"stand")
call SetUnitPathing(LI7,true)
call SetUnitInvulnerable(LI7,false)
if GetUnitTypeId(LI7)==1160786520 then
call SetUnitVertexColor(LI7,255,255,255,255)
else
call SetUnitVertexColor(LI7,0,255,150,255)
endif
call UO7(LI7,"TimeWalk|Active")
endif
set t=null
set LI7=null
set HV8=null
return false
endfunction
function AUD takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local location l
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local real x1=GetUnitX(LI7)
local real y1=GetUnitY(LI7)
local real x2
local real y2
local real a
local unit HV8=CreateUnit(GetOwningPlayer(LI7),1697656901,x1,y1,0)
set EZ7="AUD"
if GetSpellTargetUnit()==null then
set l=GetSpellTargetLoc()
else
set l=GetUnitLoc(GetSpellTargetUnit())
endif
set x2=GetLocationX(l)
set y2=GetLocationY(l)
set a=Q87(x1,y1,x2,y2)
call RemoveLocation(l)
call SetUnitAnimationByIndex(LI7,0)
call SetUnitPathing(LI7,false)
call SetUnitInvulnerable(LI7,true)
call SetUnitVertexColor(LI7,0,0,0,255)
call UM7(LI7,"TimeWalk|Active")
call SaveReal(L7,(PP7),(66),((DT8(x2))*1.0))
call SaveReal(L7,(PP7),(67),((DU8(y2))*1.0))
call SaveReal(L7,(PP7),(23),((x1)*1.0))
call SaveReal(L7,(PP7),(24),((y1)*1.0))
call SaveReal(L7,(PP7),(137),((a)*1.0))
call SaveUnitHandle(L7,(PP7),(14),(LI7))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call SaveGroupHandle(L7,(PP7),(187),(LD7()))
call L67(HV8,1093684289)
call SetUnitAbilityLevel(HV8,1093684289,GetUnitAbilityLevel(LI7,1093684299))
call TriggerRegisterTimerEvent(t,WE4,true)
call TriggerAddCondition(t,Condition(function ATD))
set LI7=null
set l=null
set t=null
set HV8=null
endfunction
function AVD takes nothing returns boolean
if GetSpellAbilityId()==1093684299 then
call AUD()
endif
return false
endfunction
function PH8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PH8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AVD))
set t=null
endfunction
function X6 takes nothing returns nothing
local unit C17=GetTriggerUnit()
local real D_8=GetEventDamage()
set EZ7="X6"
if(D_8>0)and GetUnitState(C17,UNIT_STATE_LIFE)>1 then
if(GetRandomInt(1,100)<=(5+(5*GetUnitAbilityLevel(C17,1093682010))))then
call SetUnitState(C17,UNIT_STATE_LIFE,GetUnitState(C17,UNIT_STATE_LIFE)+D_8)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl",C17,"hand,left"))
endif
endif
set C17=null
endfunction
function AWD takes unit C17,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
set EZ7="k8v"
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_DAMAGED)
call TriggerAddAction(t,function X6)
if BZ9 then
set aj[GetPlayerId(GetOwningPlayer(C17))]=t
endif
set t=null
endfunction
function AXD takes nothing returns boolean
if GetLearnedSkill()==1093682010 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093682010)==1 then
call AWD(GetTriggerUnit(),false)
endif
return false
endfunction
function PJ8 takes nothing returns nothing
set IE4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IE4,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(IE4,Condition(function AXD))
endfunction
function AYD takes nothing returns boolean
return GetSpellAbilityId()==1093683761 or GetSpellAbilityId()==1093747767
endfunction
function AZD takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer US7=GetHandleId(t)
local unit ya=T37(US7,"Caster")
set EZ7="AZD"
call SetUnitTimeScale(ya,0)
call PauseTimer(t)
call T97(US7)
call DestroyTimer(t)
set t=null
set ya=null
endfunction
function AAD takes unit S4 returns boolean
local integer ID=GetUnitTypeId(S4)
return ID==1869836340 or ID==1865429048 or ID==1865429049 or ID==1700946284 or ID==1697657398 or ID==1970107511 or ID==1966092370 or ID==1162032181
endfunction
function ABD takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())!=GetOwningPlayer(D8)and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 or AAD(GetFilterUnit()))
endfunction
function ACD takes nothing returns nothing
local unit A3D=GetEnumUnit()
if GetUnitTypeId(GetEnumUnit())!=1162032181 then
call PauseUnit(A3D,true)
call SetUnitTimeScale(A3D,0)
call UnitRemoveAbility(A3D,1112896364)
call UnitRemoveAbility(A3D,1112896368)
call UnitRemoveAbility(A3D,1112896372)
call UM7(A3D,"4306")
endif
set A3D=null
endfunction
function A6D takes nothing returns nothing
local unit ALD=GetEnumUnit()
if GetUnitTypeId(GetEnumUnit())!=1162032181 then
call UO7(ALD,"4306")
call PauseUnit(ALD,false)
call SetUnitTimeScale(ALD,1)
endif
set ALD=null
endfunction
function A1D takes nothing returns nothing
local unit A07=GetEnumUnit()
if(IsUnitType(A07,UNIT_TYPE_STRUCTURE)and(IsUnitEnemy(A07,GetOwningPlayer(hx)))and(IsUnitVisible(A07,GetOwningPlayer(hx)))and(hS==null))then
set hS=A07
elseif(IsUnitType(A07,UNIT_TYPE_HERO)and(IsUnitEnemy(A07,GetOwningPlayer(hx)))and(IsUnitVisible(A07,GetOwningPlayer(hx)))and((hS==null)or(IsUnitType(hS,UNIT_TYPE_STRUCTURE))or(GetUnitLifePercent(hS)>GetUnitLifePercent(A07))))then
set hS=A07
endif
set A07=null
endfunction
function A0D takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer US7=GetHandleId(t)
local unit A5D=T37(US7,"Caster")
local unit C17=T37(US7,"Hero")
local integer BY7=U97(US7,"Level")
local group A2D=T57(US7,"Group")
local integer T8=U97(US7,"Counter")
local real Y5=GetUnitX(A5D)
local real Z5=GetUnitY(A5D)
local boolexpr A_D=Condition(function ABD)
local group JJ8=LD7()
local integer O5=GetPlayerId(GetOwningPlayer(C17))
local integer HT8=35+BY7*5
set EZ7="A0D"
if GetUnitAbilityLevel(C17,1093747767)>0 then
set HT8=30+BY7*10
endif
call ForGroup(A2D,function A6D)
set D8=C17
call GroupEnumUnitsInRange(JJ8,Y5,Z5,425,A_D)
call GroupClear(A2D)
call GroupAddGroup(JJ8,A2D)
call ForGroup(JJ8,function ACD)
if(GetPlayerController(GetOwningPlayer(C17))==MAP_CONTROL_COMPUTER)then
if(h4[16+O5]==null)then
set hS=null
set hx=C17
call ForGroup(JJ8,function A1D)
set h4[16+O5]=hS
endif
if(h4[16+O5]!=null)then
if((IsUnitAliveBJ(h4[16+O5]))and(GetUnitAbilityLevel(h4[16+O5],1110454854)==0))then
if((not IsUnitInRange(C17,h4[16+O5],300.))and(IsUnitType(h4[16+O5],UNIT_TYPE_HERO)))then
if(not IssueTargetOrderById(C17,852218,h4[16+O5]))then
call IssueTargetOrderById(C17,851983,h4[16+O5])
endif
elseif(not SS7(C17,ZU[P1]))then
call IssueTargetOrderById(C17,851983,h4[16+O5])
endif
else
set h4[16+O5]=null
endif
endif
endif
call L97(JJ8)
set T8=T8+1
call TF7(US7,"Counter",T8)
if T8>HT8 then
set GZ[384+O5]=false
set h4[16+O5]=null
if D9==false then
call ForGroup(A2D,function A6D)
endif
call RemoveUnit(A5D)
call L97(A2D)
call PauseTimer(t)
call T97(US7)
call DestroyTimer(t)
endif
set t=null
set A5D=null
set C17=null
set A2D=null
call DestroyBoolExpr(A_D)
set A_D=null
set JJ8=null
endfunction
function B4D takes nothing returns nothing
local unit C17=GetTriggerUnit()
local integer BY7=GetUnitAbilityLevel(C17,(1093683761))
local location m5=GetSpellTargetLoc()
local real Y5=GetLocationX(m5)
local real Z5=GetLocationY(m5)
local unit A5D=CreateUnit(GetOwningPlayer(C17),(1966092364),Y5,Z5,0)
local timer t=CreateTimer()
local integer US7=GetHandleId(t)
local group A2D=LD7()
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
set EZ7="B4D"
if BY7==0 then
set BY7=GetUnitAbilityLevel(C17,1093747767)
endif
set GZ[384+O5]=true
set h4[16+O5]=null
set hq[512+O5]=Bz+2.+(BY7)
call TJ7(GetHandleId(t),"Caster",A5D)
call TimerStart(t,0.8,false,function AZD)
set t=CreateTimer()
set US7=GetHandleId(t)
call TJ7(US7,"Caster",A5D)
call TJ7(US7,"Hero",C17)
call TS7(US7,"Group",A2D)
call TF7(US7,"Counter",0)
call TF7(US7,"Level",BY7)
call TimerStart(t,0.1,true,function A0D)
call RemoveLocation(m5)
set C17=null
set m5=null
set A5D=null
set t=null
set A2D=null
endfunction
function PK8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PK8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AYD))
call TriggerAddAction(t,function B4D)
set t=null
endfunction
function B7D takes unit u,real B8D returns nothing
local integer d=R2I(B8D)
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer B9D
local real difference
set EZ7="Wither_SetArmor"
set L54[0]=1093808968
set L54[1]=1093808971
set L54[2]=1093808972
set L54[3]=1093808970
set L54[4]=1093808969
set L54[5]=1093808973
if d<1 then
call UnitRemoveAbility(u,L54[0])
call UnitRemoveAbility(u,L54[1])
call UnitRemoveAbility(u,L54[2])
call UnitRemoveAbility(u,L54[3])
call UnitRemoveAbility(u,L54[4])
call UnitRemoveAbility(u,L54[5])
return
endif
loop
exitwhen c==0
set c=a/2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set B9D=5
set i=0
loop
exitwhen i>B9D
if b[i]==1 then
call L67(u,L54[i])
call SetPlayerAbilityAvailable(GetOwningPlayer(u),L54[i],false)
else
call UnitRemoveAbility(u,L54[i])
endif
set i=i+1
endloop
endfunction
function BDD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093808967)
local real FP9=(LoadReal(L7,(GetHandleId(PU7)),(682)))
local integer L48=(LoadInteger(L7,(GetHandleId(PU7)),(683)))-1
set EZ7="BDD"
call B7D(PU7,L48*HW8)
call SaveInteger(L7,(GetHandleId(PU7)),(683),(L48))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function BED takes unit FJ8,unit PU7 returns nothing
local integer HW8=GetUnitAbilityLevel(FJ8,1093808967)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local integer L48=(LoadInteger(L7,(GetHandleId(PU7)),(683)))+1
set EZ7="Wither_SuccessfulAttack"
call B7D(PU7,L48*HW8)
call SaveInteger(L7,(GetHandleId(PU7)),(683),(L48))
call SaveReal(L7,(GetHandleId(PU7)),(682),(((TimerGetElapsed(W))+L24-0.01)*1.0))
call TriggerRegisterTimerEvent(t,L24,false)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerAddCondition(t,Condition(function BDD))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",PU7,"origin"))
set t=null
endfunction
function BFD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local integer AD9=(LoadInteger(L7,(PP7),(30)))
local unit PU7=A87(AD9)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="BFD"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==FJ8 then
call DisableTrigger(t)
if GetUnitAbilityLevel(PU7,1093678162)==0 then
call BED(FJ8,PU7)
endif
call A77(AD9)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
else
call A77(AD9)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function BGD takes nothing returns nothing
local trigger t=CreateTrigger()
local unit PU7=GetTriggerUnit()
local unit FJ8=GetAttacker()
local integer PP7=GetHandleId(t)
set EZ7="BGD"
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function BFD))
call SaveInteger(L7,(PP7),(30),(AD7(PU7)))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set PU7=null
set FJ8=null
set t=null
endfunction
function BHD takes nothing returns nothing
local unit FJ8=GetAttacker()
set EZ7="BHD"
if((LoadInteger(L7,(GetHandleId((FJ8))),((4307))))==1)==false then
call UU7(FJ8,"4307",0.3)
call BGD()
endif
endfunction
function BID takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093808967)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(14)))and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
call BHD()
endif
return false
endfunction
function BJD takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="BJD"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function BID))
call SaveUnitHandle(L7,(GetHandleId(t)),(14),(GetTriggerUnit()))
set t=null
endfunction
function BKD takes nothing returns boolean
if GetLearnedSkill()==1093808967 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093808967)==1 then
call BJD()
endif
return false
endfunction
function PM8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PM8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function BKD))
set t=null
endfunction
function BMD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
set EZ7="BMD"
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetUnitAbilityLevel(p5,1110459186)==0 then
call T97(US7)
call UQ7(t)
call SetUnitTimeScale(p5,1)
call TF7(GetHandleId(p5),"TimeLocked",2)
else
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"origin"))
endif
set t=null
set p5=null
return false
endfunction
function BND takes unit p5 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="TimeLock_RegisterUnit"
call SetUnitTimeScale(p5,0)
call TF7(GetHandleId(p5),"TimeLocked",1)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function BMD))
call TJ7(US7,"Source",p5)
if(UJ7(p5,"4306")==true)then
call HY8(SU4,p5,ZG4,30+10*GetUnitAbilityLevel(SU4,1093679153))
endif
set t=null
endfunction
function BOD takes nothing returns boolean
if GetUnitAbilityLevel(GetFilterUnit(),1110459186)>0 and(U97(GetHandleId(GetFilterUnit()),"TimeLocked")==1)==false then
call BND(GetFilterUnit())
endif
return false
endfunction
function BPD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local group g=LD7()
set EZ7="BPD"
set SU4=p5
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),450,Condition(function BOD))
call L97(g)
set t=null
set p5=null
set g=null
return false
endfunction
function BQD takes unit p5,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="TimeLock"
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function BPD))
call TJ7(US7,"Source",p5)
if BZ9 then
set nj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set t=null
set p5=null
endfunction
function BRD takes nothing returns boolean
if GetLearnedSkill()==1093679153 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093679153)==1 then
call BQD(GetTriggerUnit(),false)
endif
return false
endfunction
function PI8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PI8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function BRD))
set t=null
endfunction
function BSD takes unit P67 returns boolean
return(GetUnitTypeId(P67)==1211117641 or GetUnitTypeId(P67)==1211117642 or GetUnitTypeId(P67)==GetUnitTypeId(GetTriggerUnit()))and GetUnitState(P67,UNIT_STATE_LIFE)>.5 and GetOwningPlayer(P67)==GetOwningPlayer(GetTriggerUnit())
endfunction
function BTD takes nothing returns boolean
return GetSpellAbilityId()==1093684792
endfunction
function BUD takes nothing returns boolean
return BSD(GetFilterUnit())
endfunction
function BVD takes nothing returns nothing
local unit BWD=GetEnumUnit()
local real yg=E78(BWD,Z9)
set EZ7="BVD"
if yg<F8 then
set F8=yg
set D8=BWD
endif
set BWD=null
endfunction
function BXD takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0
endfunction
function BYD takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl",GetEnumUnit(),"origin"))
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),F8,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE,WEAPON_TYPE_WHOKNOWS)
endfunction
function BZD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local location FTD
local real x
local real y
local real GPD=GetUnitX(p5)
local real GQD=GetUnitY(p5)
local group CZ9
local boolexpr RKD
local boolean BAD=false
set EZ7="BZD"
if PU7!=null and BSD(PU7)then
set x=GetUnitX(PU7)
set y=GetUnitY(PU7)
set BAD=true
else
set RKD=Condition(function BUD)
set CZ9=LD7()
call GroupEnumUnitsInRange(CZ9,0,0,999999,RKD)
if PU7!=null then
set FTD=GetUnitLoc(PU7)
else
set FTD=GetSpellTargetLoc()
endif
set D8=FirstOfGroup(CZ9)
if D8!=null then
set BAD=true
call GroupRemoveUnit(CZ9,D8)
set F8=E78(D8,FTD)
set Z9=FTD
call ForGroup(CZ9,function BVD)
set PU7=D8
set x=GetUnitX(PU7)
set y=GetUnitY(PU7)
endif
call L97(CZ9)
call DestroyBoolExpr(RKD)
call RemoveLocation(FTD)
endif
if BAD then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl",GPD,GQD))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl",x,y))
call SetUnitX(p5,x)
call SetUnitY(p5,y)
set F8=60+GetUnitAbilityLevel(GetTriggerUnit(),(1093684792))*20
set RKD=Condition(function BXD)
set CZ9=LD7()
call GroupEnumUnitsInRange(CZ9,GPD,GQD,400,RKD)
call ForGroup(CZ9,function BYD)
call L97(CZ9)
set CZ9=LD7()
call GroupEnumUnitsInRange(CZ9,x,y,400,RKD)
call ForGroup(CZ9,function BYD)
call L97(CZ9)
call DestroyBoolExpr(RKD)
endif
call DestroyBoolExpr(RKD)
set p5=null
set PU7=null
set FTD=null
set CZ9=null
set RKD=null
endfunction
function yj takes nothing returns nothing
call SetUnitAnimationByIndex(T37(GetHandleId(GetExpiredTimer()),"UnitVar"),2)
endfunction
function BBD takes nothing returns nothing
local timer t=CreateTimer()
set EZ7="BBD"
call SetUnitAnimationByIndex(GetTriggerUnit(),2)
call TJ7(GetHandleId(t),"UnitVar",GetTriggerUnit())
call TimerStart(t,1,false,function yj)
set t=null
endfunction
function R28 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="R28"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(t,Condition(function BTD))
call TriggerAddAction(t,function BBD)
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BTD))
call TriggerAddAction(t,function BZD)
set t=null
endfunction
function BCD takes nothing returns boolean
return GetSpellAbilityId()==1093684802
endfunction
function B3D takes nothing returns boolean
return C37(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and(G88(GetFilterUnit())==false or IsUnitVisible(GetFilterUnit(),GetOwningPlayer(D8))==true)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0.5 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitTypeId(GetFilterUnit())!=1848651852
endfunction
function B6D takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(GetEnumUnit()),1697656901,F8,A9,0)
set EZ7="B6D"
call L67(oA,1093684803)
call IssueTargetOrderById(oA,852106,GetEnumUnit())
set oA=null
endfunction
function BLD takes unit IJ,real x,real y returns nothing
local boolexpr hP=Condition(function B3D)
local group JJ8=LD7()
set EZ7="Trap_Ensnare"
set D8=IJ
call GroupEnumUnitsInRange(JJ8,x,y,245,hP)
set F8=x
set A9=y
call ForGroup(JJ8,function B6D)
call L97(JJ8)
call DestroyBoolExpr(hP)
set hP=null
set JJ8=null
endfunction
function B1D takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer US7=GetHandleId(t)
local unit IJ=T37(US7,"Projectile")
local real hN=UD7(US7,"TargetX")
local real ho=UD7(US7,"TargetY")
local real RK=UD7(US7,"Angle")
local real iN=GetUnitX(IJ)
local real io=GetUnitY(IJ)
local real Il=GetUnitX(IJ)+30*Cos(RK)
local real IL=GetUnitY(IJ)+30*Sin(RK)
set EZ7="B1D"
if(Il-hN)*(Il-hN)+(IL-ho)*(IL-ho)<1200 then
call SetUnitX(IJ,hN)
call SetUnitY(IJ,ho)
call BLD(IJ,hN,ho)
call PauseTimer(t)
call T97(US7)
call KillUnit(IJ)
call DestroyTimer(t)
else
call SetUnitX(IJ,Il)
call SetUnitY(IJ,IL)
endif
set t=null
set IJ=null
endfunction
function B0D takes nothing returns nothing
local unit C17=GetTriggerUnit()
local location sy=GetSpellTargetLoc()
local real hN=DT8(GetLocationX(sy))
local real ho=DU8(GetLocationY(sy))
local real iN=DT8(GetUnitX(C17))
local real io=DU8(GetUnitY(C17))
local unit IJ=CreateUnit(GetOwningPlayer(C17),1747988547,iN,io,0)
local real RK=Atan2(ho-io,hN-iN)
local timer t=CreateTimer()
local integer US7=GetHandleId(t)
set EZ7="B0D"
call SetUnitScale(IJ,2,2,2)
call TJ7(US7,"Projectile",IJ)
call TG7(US7,"TargetX",hN)
call TG7(US7,"TargetY",ho)
call TG7(US7,"Angle",RK)
call TimerStart(t,.035,true,function B1D)
call RemoveLocation(sy)
set sy=null
set IJ=null
set C17=null
set t=null
endfunction
function R_8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="R_8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BCD))
call TriggerAddAction(t,function B0D)
set t=null
endfunction
function B5D takes unit u returns boolean
return GetUnitTypeId(u)==1211117641 or GetUnitTypeId(u)==1211117642
endfunction
function B2D takes unit P67 returns boolean
return GetUnitTypeId(P67)==1211117641 or GetUnitTypeId(P67)==1211117642
endfunction
function DoubleTrouble_IsKoboldCondition takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(D8)and GetFilterUnit()!=D8 and(GetUnitTypeId(GetFilterUnit())==1211117641 or GetUnitTypeId(GetFilterUnit())==1211117642)
endfunction
function DoubleTrouble_UnshareXPCondition takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(D8))and B2D(GetFilterUnit())==false
endfunction
function DoubleTrouble_UnshareXPGive takes nothing returns nothing
call AddHeroXP(GetEnumUnit(),E8,true)
endfunction
function B_D takes nothing returns nothing
local integer yp=GetHandleId(GetTriggeringTrigger())
local player j8=TL7(yp,"PlayerVar")
local integer yP=GetHandleId(j8)
local unit KT8=T37(yP,"Kobold0")
local unit KU8=T37(yP,"Kobold1")
local unit KV8=T37(yP,"Kobold2")
local unit KW8=T37(yP,"Kobold3")
local unit KX8=T37(yP,"Kobold4")
local integer C4D=GetUnitAbilityLevel(KT8,1096904043)*2
local integer C7D=GetHeroAgi(KT8,false)
local integer C8D=GetHeroAgi(KT8,true)-C7D-C4D
local integer C9D=GetHeroStr(KT8,false)
local integer CDD=GetHeroStr(KT8,true)-C9D-C4D
local integer CED=GetHeroInt(KT8,false)
local integer CFD=GetHeroInt(KT8,true)-CED-C4D
local real CGD=0.3
local integer CHD
local integer CID
local integer CJD
if BN4 then
set CGD=1.0
endif
set CHD=R2I(C7D+C8D*CGD)
set CID=R2I(C9D+CDD*CGD)
set CJD=R2I(CED+CFD*CGD)
if GetUnitState(KT8,UNIT_STATE_LIFE)>1 then
if KU8!=null then
call SetHeroAgi(KU8,CHD,false)
call SetHeroStr(KU8,CID,false)
call SetHeroInt(KU8,CJD,false)
endif
if KV8!=null then
call SetHeroAgi(KV8,CHD,false)
call SetHeroStr(KV8,CID,false)
call SetHeroInt(KV8,CJD,false)
endif
if KW8!=null then
call SetHeroAgi(KW8,CHD,false)
call SetHeroStr(KW8,CID,false)
call SetHeroInt(KW8,CJD,false)
endif
if KX8!=null then
call SetHeroAgi(KX8,CHD,false)
call SetHeroStr(KX8,CID,false)
call SetHeroInt(KX8,CJD,false)
endif
endif
set j8=null
set KT8=null
set KU8=null
set KV8=null
set KW8=null
endfunction
function CKD takes nothing returns nothing
local integer CMD=GetHandleId(GetTriggeringTrigger())
local player RJD=TL7(CMD,"PlayerVar")
local integer CND=GetHandleId(RJD)
local unit KT8=T37(CND,"Kobold0")
local unit KU8=T37(CND,"Kobold1")
local unit KV8=T37(CND,"Kobold2")
local unit KW8=T37(CND,"Kobold3")
local unit KX8=T37(CND,"Kobold4")
local integer COD=GetHandleId(KT8)
local integer CPD=GetHandleId(KU8)
local integer CQD=GetHandleId(KV8)
local integer CRD=GetHandleId(KW8)
local integer CSD=GetHandleId(KX8)
local integer CTD=U97(COD,"XPEarned")
local integer CUD=U97(COD,"XPGiven")
local integer CVD=U97(CPD,"XPEarned")
local integer CWD=U97(CPD,"XPGiven")
local integer CXD=U97(CQD,"XPEarned")
local integer CYD=U97(CQD,"XPGiven")
local integer CZD=U97(CRD,"XPEarned")
local integer CAD=U97(CRD,"XPGiven")
local integer CBD=U97(CSD,"XPEarned")
local integer CCD=U97(CSD,"XPGiven")
local integer C3D=GetHeroXP(KT8)
local integer C6D=GetHeroXP(KU8)
local integer CLD=GetHeroXP(KV8)
local integer C1D=GetHeroXP(KW8)
local integer C0D=GetHeroXP(KX8)
local integer C5D=C3D-CTD-CUD
local integer C2D=C6D-CVD-CWD
local integer C_D=CLD-CXD-CYD
local integer L4D=C1D-CZD-CAD
local integer L7D=C0D-CBD-CCD
set EZ7="CKD"
if GetUnitState(KT8,UNIT_STATE_LIFE)>1 then
set CTD=CTD+C5D
set CVD=CVD+C2D
set CXD=CXD+C_D
set CZD=CZD+L4D
set CBD=CBD+L7D
if KT8!=null then
call AddHeroXP(KU8,C5D,false)
if GetHeroXP(KU8)!=C6D then
set CWD=CWD+C5D
endif
call AddHeroXP(KV8,C5D,false)
if GetHeroXP(KV8)!=CLD then
set CYD=CYD+C5D
endif
call AddHeroXP(KW8,C5D,false)
if GetHeroXP(KW8)!=C1D then
set CAD=CAD+C5D
endif
call AddHeroXP(KX8,C5D,false)
if GetHeroXP(KX8)!=C0D then
set CCD=CCD+C5D
endif
endif
if KU8!=null then
call AddHeroXP(KT8,C2D,false)
if GetHeroXP(KT8)!=C3D then
set CUD=CUD+C2D
endif
call AddHeroXP(KV8,C2D,false)
if GetHeroXP(KV8)!=CLD then
set CYD=CYD+C2D
endif
call AddHeroXP(KW8,C2D,false)
if GetHeroXP(KW8)!=C1D then
set CAD=CAD+C2D
endif
call AddHeroXP(KX8,C2D,false)
if GetHeroXP(KX8)!=C0D then
set CCD=CCD+C2D
endif
endif
if KV8!=null then
call AddHeroXP(KU8,C_D,false)
if GetHeroXP(KU8)!=C6D then
set CWD=CWD+C_D
endif
call AddHeroXP(KT8,C_D,false)
if GetHeroXP(KT8)!=C3D then
set CUD=CUD+C_D
endif
call AddHeroXP(KW8,C_D,false)
if GetHeroXP(KW8)!=C1D then
set CAD=CAD+C_D
endif
call AddHeroXP(KX8,C_D,false)
if GetHeroXP(KX8)!=C0D then
set CCD=CCD+C_D
endif
endif
if KW8!=null then
call AddHeroXP(KU8,L4D,false)
if GetHeroXP(KU8)!=C6D then
set CWD=CWD+L4D
endif
call AddHeroXP(KV8,L4D,false)
if GetHeroXP(KV8)!=CLD then
set CYD=CYD+L4D
endif
call AddHeroXP(KT8,L4D,false)
if GetHeroXP(KT8)!=C3D then
set CUD=CUD+L4D
endif
call AddHeroXP(KX8,L4D,false)
if GetHeroXP(KX8)!=C0D then
set CCD=CCD+L4D
endif
endif
if KX8!=null then
call AddHeroXP(KU8,L7D,false)
if GetHeroXP(KU8)!=C6D then
set CWD=CWD+L7D
endif
call AddHeroXP(KV8,L7D,false)
if GetHeroXP(KV8)!=CLD then
set CYD=CYD+L7D
endif
call AddHeroXP(KT8,L7D,false)
if GetHeroXP(KT8)!=C3D then
set CUD=CUD+L7D
endif
call AddHeroXP(KW8,L7D,false)
if GetHeroXP(KW8)!=C1D then
set CAD=CAD+L7D
endif
endif
call TF7(COD,"XPEarned",CTD)
call TF7(COD,"XPGiven",CUD)
call TF7(CPD,"XPEarned",CVD)
call TF7(CPD,"XPGiven",CWD)
call TF7(CQD,"XPEarned",CXD)
call TF7(CQD,"XPGiven",CYD)
call TF7(CRD,"XPEarned",CZD)
call TF7(CRD,"XPGiven",CAD)
call TF7(CSD,"XPEarned",CBD)
call TF7(CSD,"XPGiven",CCD)
endif
set RJD=null
set KT8=null
set KU8=null
set KV8=null
set KW8=null
endfunction
function L8D takes nothing returns boolean
return B2D(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function L9D takes nothing returns nothing
local unit B_8=GetTriggerUnit()
local integer US7=GetHandleId(GetOwningPlayer(B_8))
local unit KT8=T37(US7,"Kobold0")
local unit KU8=T37(US7,"Kobold1")
local unit KV8=T37(US7,"Kobold2")
local unit KW8=T37(US7,"Kobold3")
local unit KX8=T37(US7,"Kobold4")
local boolean XFv=false
set EZ7="L9D"
call DisableTrigger(ES)
if KT8!=null and KT8!=B_8 then
call KillUnit(KT8)
endif
if KU8!=null and KU8!=B_8 then
call KillUnit(KU8)
endif
if KV8!=null and KV8!=B_8 then
call KillUnit(KV8)
endif
if KW8!=null and KW8!=B_8 then
call KillUnit(KW8)
endif
if KX8!=null and KX8!=B_8 then
call KillUnit(KX8)
endif
call EnableTrigger(ES)
set B_8=null
set KT8=null
set KU8=null
set KV8=null
set KW8=null
set KX8=null
endfunction
function LDD takes nothing returns boolean
return B2D(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function LED takes unit XU7,unit LI7 returns nothing
local trigger t=T07(GetHandleId(GetOwningPlayer(LI7)),"Kobold|ItemTrigger")
local integer i=0
local boolean LFD=false
local boolean LGD=false
local boolean LHD=false
local boolean LID=false
local boolean LJD=false
local boolean LKD=false
local boolean LMD=false
local boolean LND=false
local boolean LOD=false
set EZ7="DoubleTrouble_GiveItem"
call DisableTrigger(t)
call DisableTrigger(H94)
loop
exitwhen i>5
if GetItemTypeId(UnitItemInSlot(LI7,i))==ZU[FV]then
set LFD=true
endif
if GetItemTypeId(UnitItemInSlot(LI7,i))==ZU[F6]then
set LGD=true
endif
if GetItemTypeId(UnitItemInSlot(LI7,i))==ZU[N6]then
set LHD=true
endif
if GetItemTypeId(UnitItemInSlot(LI7,i))==ZU[H6]then
set LID=true
endif
if GetItemTypeId(UnitItemInSlot(LI7,i))==ZU[G6]then
set LJD=true
endif
if GetItemTypeId(UnitItemInSlot(LI7,i))==ZU[DS4]then
set LKD=true
endif
if GetItemTypeId(UnitItemInSlot(LI7,i))==ZU[F74]then
set LMD=true
endif
if GetItemTypeId(UnitItemInSlot(LI7,i))==(ZU[LB])then
set LND=true
endif
if GetItemTypeId(UnitItemInSlot(LI7,i))==(ZU[EC])then
set LOD=true
endif
set i=i+1
endloop
if LOD then
call UnitAddItem(XU7,CreateItem((ZU[EC]),0,0))
elseif LND then
call UnitAddItem(XU7,CreateItem((ZU[LB]),0,0))
elseif LMD then
call UnitAddItem(XU7,CreateItem(ZU[F74],0,0))
elseif LKD then
call UnitAddItem(XU7,CreateItem(ZU[DS4],0,0))
elseif LJD then
call UnitAddItem(XU7,CreateItem(ZU[G6],0,0))
elseif LID then
call UnitAddItem(XU7,CreateItem(ZU[H6],0,0))
elseif LHD then
call UnitAddItem(XU7,CreateItem(ZU[N6],0,0))
elseif LGD then
call UnitAddItem(XU7,CreateItem(ZU[F6],0,0))
elseif LFD then
call UnitAddItem(XU7,CreateItem(ZU[FV],0,0))
endif
call EnableTrigger(t)
call EnableTrigger(H94)
set t=null
endfunction
function LPD takes nothing returns nothing
local unit KY8=GetTriggerUnit()
local integer i=0
local boolean LFD=false
local boolean LGD=false
local boolean LHD=false
local boolean LID=false
local boolean LJD=false
local boolean LKD=false
local boolean LMD=false
local boolean LND=false
local boolean LOD=false
local integer CND=GetHandleId(GetOwningPlayer(KY8))
local unit KT8=T37(CND,"Kobold0")
local unit KU8=T37(CND,"Kobold1")
local unit KV8=T37(CND,"Kobold2")
local unit KW8=T37(CND,"Kobold3")
local unit KX8=T37(CND,"Kobold4")
local integer LQD
local boolean LRD=false
local integer LSD=0
local integer LTD=0
local integer LUD=0
local integer LVD=0
local integer LWD=0
local integer LXD=0
local integer LYD=0
local integer LZD=0
local integer LAD=0
set EZ7="LPD"
call DisableTrigger(GetTriggeringTrigger())
if GetUnitTypeId(KY8)==1211117642 then
call UnitRemoveItemFromSlot(KY8,0)
call EnableTrigger(GetTriggeringTrigger())
return
endif
if not(GetItemTypeId(GetManipulatedItem())==ZU[FV]or GetItemTypeId(GetManipulatedItem())==ZU[F6]or GetItemTypeId(GetManipulatedItem())==ZU[N6]or GetItemTypeId(GetManipulatedItem())==ZU[H6]or GetItemTypeId(GetManipulatedItem())==ZU[G6]or GetItemTypeId(GetManipulatedItem())==ZU[DS4]or GetItemTypeId(GetManipulatedItem())==ZU[F74]or GetItemTypeId(GetManipulatedItem())==(ZU[LB])or GetItemTypeId(GetManipulatedItem())==(ZU[EC]))then
call EnableTrigger(GetTriggeringTrigger())
return
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM then
set LRD=true
endif
loop
exitwhen i>5
set LQD=GetItemTypeId(UnitItemInSlot(KY8,i))
if LQD==ZU[FV]then
set LSD=LSD+1
if(not(LRD and LQD==GetItemTypeId(GetManipulatedItem())))or(LSD>1 and LQD==GetItemTypeId(GetManipulatedItem()))then
set LFD=true
endif
endif
if LQD==ZU[F6]then
set LTD=LTD+1
if(not(LRD and LQD==GetItemTypeId(GetManipulatedItem())))or(LTD>1 and LQD==GetItemTypeId(GetManipulatedItem()))then
set LGD=true
endif
endif
if LQD==ZU[N6]then
set LUD=LUD+1
if(not(LRD and LQD==GetItemTypeId(GetManipulatedItem())))or(LUD>1 and LQD==GetItemTypeId(GetManipulatedItem()))then
set LHD=true
endif
endif
if LQD==ZU[H6]then
set LVD=LVD+1
if(not(LRD and LQD==GetItemTypeId(GetManipulatedItem())))or(LVD>1 and LQD==GetItemTypeId(GetManipulatedItem()))then
set LID=true
endif
endif
if LQD==ZU[G6]then
set LWD=LWD+1
if(not(LRD and LQD==GetItemTypeId(GetManipulatedItem())))or(LWD>1 and LQD==GetItemTypeId(GetManipulatedItem()))then
set LJD=true
endif
endif
if LQD==ZU[DS4]then
set LXD=LXD+1
if(not(LRD and LQD==GetItemTypeId(GetManipulatedItem())))or(LXD>1 and LQD==GetItemTypeId(GetManipulatedItem()))then
set LKD=true
endif
endif
if LQD==(ZU[F74])then
set LYD=LYD+1
if(not(LRD and LQD==GetItemTypeId(GetManipulatedItem())))or(LYD>1 and LQD==GetItemTypeId(GetManipulatedItem()))then
set LMD=true
endif
endif
if LQD==(ZU[LB])then
set LZD=LZD+1
if(not(LRD and LQD==GetItemTypeId(GetManipulatedItem())))or(LZD>1 and LQD==GetItemTypeId(GetManipulatedItem()))then
set LND=true
endif
endif
if LQD==(ZU[EC])then
set LAD=LAD+1
if(not(LRD and LQD==GetItemTypeId(GetManipulatedItem())))or(LAD>1 and LQD==GetItemTypeId(GetManipulatedItem()))then
set LOD=true
endif
endif
set i=i+1
endloop
call RemoveItem(UnitRemoveItemFromSlot(KU8,0))
if KV8!=null then
call RemoveItem(UnitRemoveItemFromSlot(KV8,0))
endif
if KW8!=null then
call RemoveItem(UnitRemoveItemFromSlot(KW8,0))
endif
if KX8!=null then
call RemoveItem(UnitRemoveItemFromSlot(KX8,0))
endif
if LOD then
call UnitAddItem(KU8,CreateItem((ZU[EC]),0,0))
if KV8!=null then
call UnitAddItem(KV8,CreateItem((ZU[EC]),0,0))
endif
if KW8!=null then
call UnitAddItem(KW8,CreateItem((ZU[EC]),0,0))
endif
if KX8!=null then
call UnitAddItem(KX8,CreateItem((ZU[EC]),0,0))
endif
elseif LND then
call UnitAddItem(KU8,CreateItem((ZU[LB]),0,0))
if KV8!=null then
call UnitAddItem(KV8,CreateItem((ZU[LB]),0,0))
endif
if KW8!=null then
call UnitAddItem(KW8,CreateItem((ZU[LB]),0,0))
endif
if KX8!=null then
call UnitAddItem(KX8,CreateItem((ZU[LB]),0,0))
endif
elseif LMD then
call UnitAddItem(KU8,CreateItem((ZU[F74]),0,0))
if KV8!=null then
call UnitAddItem(KV8,CreateItem((ZU[F74]),0,0))
endif
if KW8!=null then
call UnitAddItem(KW8,CreateItem((ZU[F74]),0,0))
endif
if KX8!=null then
call UnitAddItem(KX8,CreateItem((ZU[F74]),0,0))
endif
elseif LKD then
call UnitAddItem(KU8,CreateItem(ZU[DS4],0,0))
if KV8!=null then
call UnitAddItem(KV8,CreateItem(ZU[DS4],0,0))
endif
if KW8!=null then
call UnitAddItem(KW8,CreateItem(ZU[DS4],0,0))
endif
if KX8!=null then
call UnitAddItem(KX8,CreateItem((ZU[DS4]),0,0))
endif
elseif LJD then
call UnitAddItem(KU8,CreateItem(ZU[G6],0,0))
if KV8!=null then
call UnitAddItem(KV8,CreateItem(ZU[G6],0,0))
endif
if KW8!=null then
call UnitAddItem(KW8,CreateItem(ZU[G6],0,0))
endif
if KX8!=null then
call UnitAddItem(KX8,CreateItem((ZU[G6]),0,0))
endif
elseif LID then
call UnitAddItem(KU8,CreateItem(ZU[H6],0,0))
if KV8!=null then
call UnitAddItem(KV8,CreateItem(ZU[H6],0,0))
endif
if KW8!=null then
call UnitAddItem(KW8,CreateItem(ZU[H6],0,0))
endif
if KX8!=null then
call UnitAddItem(KX8,CreateItem((ZU[H6]),0,0))
endif
elseif LHD then
call UnitAddItem(KU8,CreateItem(ZU[N6],0,0))
if KV8!=null then
call UnitAddItem(KV8,CreateItem(ZU[N6],0,0))
endif
if KW8!=null then
call UnitAddItem(KW8,CreateItem(ZU[N6],0,0))
endif
if KX8!=null then
call UnitAddItem(KX8,CreateItem((ZU[N6]),0,0))
endif
elseif LGD then
call UnitAddItem(KU8,CreateItem(ZU[F6],0,0))
if KV8!=null then
call UnitAddItem(KV8,CreateItem(ZU[F6],0,0))
endif
if KW8!=null then
call UnitAddItem(KW8,CreateItem(ZU[F6],0,0))
endif
if KX8!=null then
call UnitAddItem(KX8,CreateItem((ZU[F6]),0,0))
endif
elseif LFD then
call UnitAddItem(KU8,CreateItem(ZU[FV],0,0))
if KV8!=null then
call UnitAddItem(KV8,CreateItem(ZU[FV],0,0))
endif
if KW8!=null then
call UnitAddItem(KW8,CreateItem(ZU[FV],0,0))
endif
if KX8!=null then
call UnitAddItem(KX8,CreateItem((ZU[FV]),0,0))
endif
endif
call EnableTrigger(GetTriggeringTrigger())
set KY8=null
set KT8=null
set KU8=null
set KV8=null
set KW8=null
endfunction
function LBD takes unit LCD,integer L3D returns nothing
local integer yP=GetHandleId(GetOwningPlayer(LCD))
local unit KT8=T37(yP,"Kobold0")
local unit KU8=T37(yP,"Kobold1")
local unit KV8=T37(yP,"Kobold2")
local unit KW8=T37(yP,"Kobold3")
local unit KX8=T37(yP,"Kobold4")
set EZ7="DoubleTrouble_LevelAbility"
if KT8!=null and KT8!=LCD then
call SelectHeroSkill(KT8,L3D)
endif
if KU8!=null and KU8!=LCD then
call SelectHeroSkill(KU8,L3D)
endif
if KV8!=null and KV8!=LCD then
call SelectHeroSkill(KV8,L3D)
endif
if KW8!=null and KW8!=LCD then
call SelectHeroSkill(KW8,L3D)
endif
if KX8!=null and KX8!=LCD then
call SelectHeroSkill(KX8,L3D)
endif
set KT8=null
set KU8=null
set KV8=null
set KW8=null
set KX8=null
endfunction
function L6D takes integer N7,unit qf,unit qF returns nothing
local integer T8=1
local integer U8=GetUnitAbilityLevel(qf,N7)
set EZ7="DoubleTrouble_MatchLevel"
loop
exitwhen T8>U8
call SelectHeroSkill(qF,N7)
set T8=T8+1
endloop
endfunction
function LLD takes unit XU7,unit L1D returns nothing
call AddHeroXP(XU7,GetHeroXP(L1D),false)
call TF7(GetHandleId(XU7),"XPGiven",GetHeroXP(L1D))
call TF7(GetHandleId(XU7),"XPEarned",0)
call L6D(1093684792,L1D,XU7)
call L6D(1093684802,L1D,XU7)
call L6D(1093684791,L1D,XU7)
call L6D(1096904043,L1D,XU7)
call L6D(1093684567,L1D,XU7)
call L6D(1093809987,L1D,XU7)
endfunction
function L0D takes unit KU8,unit KV8,integer YJ,integer Yg,integer YG returns nothing
if Yg>YG then
call SelectHeroSkill(KV8,YJ)
elseif YG>Yg then
call SelectHeroSkill(KU8,YJ)
endif
endfunction
function L5D takes unit KU8,unit KV8 returns nothing
local integer y8=GetHeroXP(KU8)
local integer y9=GetHeroXP(KV8)
local integer yW=GetHandleId(KU8)
local integer yx=GetHandleId(KV8)
local integer yZ=U97(yW,"XPGiven")
local integer y4=U97(yx,"XPGiven")
local integer VX
set EZ7="DoubleTrouble_SyncXP"
if y8>y9 then
set VX=y8-y9
call AddHeroXP(KV8,VX,true)
if y9!=GetHeroXP(KV8)then
call TF7(yx,"XPGiven",y4+VX)
endif
elseif y8<y9 then
set VX=y9-y8
call AddHeroXP(KU8,VX,true)
if y8!=GetHeroXP(KU8)then
call TF7(yW,"XPGiven",yZ+VX)
endif
endif
endfunction
function L2D takes unit KU8,unit KV8 returns nothing
local integer L_D=GetUnitAbilityLevel(KU8,1093684792)
local integer D4E=GetUnitAbilityLevel(KU8,1093684802)
local integer D7E=GetUnitAbilityLevel(KU8,1093684791)
local integer D8E=GetUnitAbilityLevel(KU8,1093684567)
local integer D9E=GetUnitAbilityLevel(KU8,1096904043)
local integer DDE=GetUnitAbilityLevel(KU8,1093809987)
local integer DEE=GetUnitAbilityLevel(KV8,1093684792)
local integer DFE=GetUnitAbilityLevel(KV8,1093684802)
local integer DGE=GetUnitAbilityLevel(KV8,1093684791)
local integer DHE=GetUnitAbilityLevel(KV8,1093684567)
local integer DIE=GetUnitAbilityLevel(KV8,1096904043)
local integer DJE=GetUnitAbilityLevel(KV8,1093809987)
set EZ7="DoubleTrouble_SyncHeroesHelper"
call L5D(KU8,KV8)
call L0D(KU8,KV8,1093684792,L_D,DEE)
call L0D(KU8,KV8,1093684802,D4E,DFE)
call L0D(KU8,KV8,1093684791,D7E,DGE)
call L0D(KU8,KV8,1093684567,D8E,DHE)
call L0D(KU8,KV8,1093809987,DDE,DJE)
call L0D(KU8,KV8,1096904043,D9E,DIE)
endfunction
function DKE takes unit KU8,unit KV8 returns nothing
if KU8!=null and KV8!=null then
call L2D(KU8,KV8)
endif
endfunction
function DME takes nothing returns nothing
local integer CND=GetHandleId(TL7(GetHandleId(GetTriggeringTrigger()),"PlayerVar"))
local unit KT8=T37(CND,"Kobold0")
local unit KU8=T37(CND,"Kobold1")
local unit KV8=T37(CND,"Kobold2")
local unit KW8=T37(CND,"Kobold3")
local unit KX8=T37(CND,"Kobold4")
set EZ7="DME"
call DisableTrigger(PR4)
call DKE(KT8,KU8)
call DKE(KT8,KV8)
call DKE(KT8,KW8)
call DKE(KT8,KX8)
call DKE(KU8,KV8)
call DKE(KU8,KW8)
call DKE(KU8,KX8)
call DKE(KV8,KW8)
call DKE(KV8,KX8)
call DKE(KW8,KX8)
call EnableTrigger(PR4)
set KT8=null
set KU8=null
set KV8=null
set KW8=null
set KX8=null
endfunction
function DNE takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="DNE"
call TriggerRegisterTimerEvent(t,.2,true)
call TriggerAddAction(t,function DME)
call TQ7(GetHandleId(t),"PlayerVar",GetOwningPlayer(GetTriggerUnit()))
set t=null
endfunction
function DOE takes unit FJ8 returns nothing
local trigger t
set EZ7="DividedWeStand_Initialize"
call TJ7(GetHandleId(GetOwningPlayer(FJ8)),"Kobold0",FJ8)
call TF7(GetHandleId(FJ8),"XPEarned",GetHeroXP(FJ8))
call TF7(GetHandleId(FJ8),"XPGiven",0)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddAction(t,function CKD)
call TQ7(GetHandleId(t),"PlayerVar",GetOwningPlayer(FJ8))
call TM7(GetHandleId(GetOwningPlayer(FJ8)),"Kobold|XPTrigger",t)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.3,true)
call TriggerAddAction(t,function B_D)
call TQ7(GetHandleId(t),"PlayerVar",GetOwningPlayer(FJ8))
call TM7(GetHandleId(GetOwningPlayer(FJ8)),"Kobold|AttributesTrigger",t)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(t,function L9D)
call TriggerAddCondition(t,Condition(function L8D))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call EO8(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddAction(t,function LPD)
call TriggerAddCondition(t,Condition(function LDD))
call TM7(GetHandleId(GetOwningPlayer(FJ8)),"Kobold|ItemTrigger",t)
call ExecuteFunc("DNE")
set t=null
endfunction
function DPE takes unit FJ8,boolean DQE returns nothing
local player RJD=GetOwningPlayer(FJ8)
local integer PP7=GetHandleId(RJD)
local unit XU7
set EZ7="DividedWeStand_CreateNewClone"
set BM4=BM4+1
if BM4==1 then
call DOE(FJ8)
endif
call TriggerExecute(T07(GetHandleId(GetOwningPlayer(FJ8)),"Kobold|XPTrigger"))
call TriggerExecute(T07(GetHandleId(GetOwningPlayer(FJ8)),"Kobold|AttributesTrigger"))
if DQE==false then
call LBD(FJ8,1093684567)
call LBD(FJ8,1093809987)
endif
set XU7=CreateUnit(GetOwningPlayer(FJ8),1211117642,GetUnitX(FJ8),GetUnitY(FJ8),0)
call LLD(XU7,FJ8)
call LED(XU7,FJ8)
call TJ7(PP7,"Kobold"+I2S(BM4),XU7)
set XU7=null
endfunction
function DRE takes nothing returns nothing
if BN4==false then
set BN4=true
call DisableTrigger(PR4)
call DPE(IN4,true)
call EnableTrigger(PR4)
endif
endfunction
function DSE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="DSE"
if IsUnitIllusion(GetTriggerUnit())==false and GetOwningPlayer(GetTriggerUnit())==GetOwningPlayer(FJ8)and B5D(GetTriggerUnit())then
if GetLearnedSkill()==1093684567 or GetLearnedSkill()==1093809987 then
call DisableTrigger(GetTriggeringTrigger())
call DPE(GetTriggerUnit(),false)
call EnableTrigger(GetTriggeringTrigger())
elseif GetLearnedSkill()==1096904043 or GetLearnedSkill()==1093684792 or GetLearnedSkill()==1093684802 or GetLearnedSkill()==1093684791 then
call TriggerExecute(T07(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"Kobold|XPTrigger"))
call TriggerExecute(T07(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"Kobold|AttributesTrigger"))
call DisableTrigger(GetTriggeringTrigger())
call LBD(GetTriggerUnit(),GetLearnedSkill())
call EnableTrigger(GetTriggeringTrigger())
endif
endif
set FJ8=null
return false
endfunction
function DTE takes nothing returns nothing
local unit FJ8=IN4
local integer PP7
set EZ7="DTE"
set BK4=CreateTrigger()
set PR4=BK4
set PP7=GetHandleId(BK4)
call EO8(BK4,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BK4,Condition(function DSE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set FJ8=null
endfunction
function Yu takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and L17(GetFilterUnit())==false and EO9(GetFilterUnit())==false)
endfunction
function YU takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local integer BY7=U97(US7,"Level")
local group g
local unit u
local real d
local real a
local real DUE
local real DVE
local unit HV8=T37(US7,"Caster")
set EZ7="YU"
if GetTriggerEvalCount(t)>32 then
call T97(US7)
call UQ7(t)
else
set g=LD7()
set IN4=C17
call GroupEnumUnitsInRange(g,GetUnitX(C17),GetUnitY(C17),500,Condition(function Yu))
set u=GroupPickRandomUnit(g)
if u==null then
set d=GetRandomReal(175,400)
set a=GetRandomReal(0,6)
set DUE=GetUnitX(C17)+d*Cos(a)
set DVE=GetUnitY(C17)+d*Sin(a)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",DUE,DVE))
else
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",u,"origin"))
call HY8(HV8,u,ZK4,12.5*BY7)
endif
call L97(g)
endif
set u=null
set g=null
set t=null
set C17=null
return false
endfunction
function Yv takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit C17=GetTriggerUnit()
local unit HV8=CreateUnit(GetOwningPlayer(C17),1697656901,GetUnitX(C17),GetUnitY(C17),0)
set EZ7="Yv"
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\RocketMissile\\RocketMissile.mdl",C17,"hand right"))
call TJ7(US7,"Hero",C17)
call TJ7(US7,"Caster",HV8)
call TF7(US7,"Level",GetUnitAbilityLevel(C17,1093677877))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function YU))
set t=null
set C17=null
endfunction
function DWE takes nothing returns boolean
if GetSpellAbilityId()==1093677877 then
call Yv()
endif
return false
endfunction
function PN8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PN8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DWE))
set t=null
endfunction
function DXE takes nothing returns nothing
local unit FJ8=ZM4
local unit PU7=GetEnumUnit()
set EZ7="DXE"
call HY8(FJ8,PU7,ZG4,ZN4)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",PU7,"origin"))
set FJ8=null
set PU7=null
endfunction
function DYE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit FJ8=T37(US7,"Source")
local integer HW8=GetUnitAbilityLevel(FJ8,1093808454)
local group g
set EZ7="DYE"
if HW8!=0 then
if HW8==1 then
set ZN4=66
elseif HW8==2 then
set ZN4=100
else
set ZN4=144
endif
else
set HW8=GetUnitAbilityLevel(FJ8,1093808455)
if HW8==1 then
set ZN4=88
elseif HW8==2 then
set ZN4=133
else
set ZN4=177
endif
endif
if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetUnitState(FJ8,UNIT_STATE_MANA)<20*HW8 or(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==-1 or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()==1093808456 or GetSpellAbilityId()==1093809992))then
if(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==1093808454 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808454,true)
endif
if(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==1093808455 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808455,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808456,false)
call T97(US7)
call UQ7(t)
call UO7(FJ8,"AI|PulseNova")
elseif GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
call SetUnitState(FJ8,UNIT_STATE_MANA,GetUnitState(FJ8,UNIT_STATE_MANA)-20*HW8)
set IN4=FJ8
set ZM4=FJ8
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),475,Condition(function G78))
call ForGroup(g,function DXE)
call L97(g)
set g=null
endif
set t=null
return false
endfunction
function DZE takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="DZE"
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",FJ8,"origin"))
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808454,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808455,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808456,true)
call UnitAddAbility(FJ8,1093808456)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DYE))
call TJ7(US7,"Source",FJ8)
call TriggerEvaluate(t)
call UM7(FJ8,"AI|PulseNova")
set FJ8=null
set t=null
endfunction
function Yy takes nothing returns boolean
if GetSpellAbilityId()==1093808454 or GetSpellAbilityId()==1093808455 then
call DZE()
endif
return false
endfunction
function PO8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PO8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Yy))
set t=null
endfunction
function DAE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit IJD=(LoadUnitHandle(L7,(PP7),(374)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local integer DBE=(LoadInteger(L7,(PP7),(233)))
local integer E_D=(LoadInteger(L7,(PP7),(12)))
local unit HV8
local group g
local real a
local real x
local real y
local integer DCE=(LoadInteger(L7,(PP7),(720)))
set EZ7="DAE"
if DCE>0 then
set DCE=DCE-1
call SaveInteger(L7,(PP7),(720),(DCE))
return false
endif
if Q07(GetUnitX(IJD),GetUnitY(IJD),GetUnitX(PU7),GetUnitY(PU7))>20 then
set a=Q87(GetUnitX(IJD),GetUnitY(IJD),GetUnitX(PU7),GetUnitY(PU7))
call SetUnitFacing(IJD,a)
set x=GetUnitX(IJD)+13.5*Cos(a*bj_DEGTORAD)
set y=GetUnitY(IJD)+13.5*Sin(a*bj_DEGTORAD)
call SetUnitX(IJD,x)
call SetUnitY(IJD,y)
else
if L17(PU7)==false then
set HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
call L67(HV8,1093679409)
call SetUnitAbilityLevel(HV8,1093679409,HW8)
call IssueTargetOrder(HV8,"frostnova",PU7)
endif
if DBE>E_D then
call RemoveUnit(IJD)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set g=LD7()
set IN4=FJ8
call GroupEnumUnitsInRange(g,GetUnitX(PU7),GetUnitY(PU7),600,Condition(function GR8))
call GroupRemoveUnit(g,PU7)
set PU7=GroupPickRandomUnit(g)
call L97(g)
if PU7==null then
call RemoveUnit(IJD)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
call SaveInteger(L7,(PP7),(720),(10))
call SaveInteger(L7,(PP7),(233),(DBE+1))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
endif
endif
endif
set t=null
set FJ8=null
set PU7=null
set IJD=null
set HV8=null
set g=null
return false
endfunction
function D3E takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093678420)
local integer E_D=7
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit IJD
set EZ7="D3E"
if GetSpellAbilityId()==1093679176 then
set HW8=GetUnitAbilityLevel(FJ8,1093679176)+1
set E_D=7
endif
set IJD=CreateUnit(GetOwningPlayer(FJ8),1697656889,GetUnitX(FJ8),GetUnitY(FJ8),0)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(374),(IJD))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveInteger(L7,(PP7),(233),(1))
call SaveInteger(L7,(PP7),(12),(E_D))
call SaveInteger(L7,(PP7),(720),(0))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function DAE))
set FJ8=null
set PU7=null
set IJD=null
set t=null
endfunction
function D6E takes nothing returns boolean
if GetSpellAbilityId()==1093678420 or GetSpellAbilityId()==1093679176 then
call D3E()
endif
return false
endfunction
function PQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PQ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D6E))
set t=null
endfunction
function DLE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BY7=GetUnitAbilityLevel(p5,1093679412)
local integer D1E=GetHeroLevel(m5)
local real CV9=GetUnitState(m5,UNIT_STATE_MAX_LIFE)*0.2
set EZ7="DLE"
if ModuloInteger(D1E,7-BY7)==0 or D1E==25 then
call HY8(p5,m5,ZG4,CV9)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Demon\\DemonBoltImpact\\DemonBoltImpact.mdl",m5,"chest"))
endif
set p5=null
set m5=null
endfunction
function D0E takes nothing returns boolean
if GetSpellAbilityId()==1093679412 then
call DLE()
endif
return false
endfunction
function PR8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PR8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D0E))
set t=null
endfunction
function D5E takes unit FJ8 returns nothing
call UnitRemoveAbility(FJ8,1093750609)
call UnitRemoveAbility(FJ8,1093750610)
call UnitRemoveAbility(FJ8,1093750611)
call UnitRemoveAbility(FJ8,1093750612)
call UnitRemoveAbility(FJ8,1093750613)
call UnitRemoveAbility(FJ8,1093750614)
call UnitRemoveAbility(FJ8,1093750615)
call UnitRemoveAbility(FJ8,1093750616)
call UnitRemoveAbility(FJ8,1093750617)
call UnitRemoveAbility(FJ8,1395667021)
call UnitRemoveAbility(FJ8,1093750618)
call UnitRemoveAbility(FJ8,1395667022)
call UnitRemoveAbility(FJ8,1093750832)
call UnitRemoveAbility(FJ8,1093750833)
call UnitRemoveAbility(FJ8,1093750839)
call UnitRemoveAbility(FJ8,1093750849)
call UnitRemoveAbility(FJ8,1093750835)
call UnitRemoveAbility(FJ8,1093750836)
call UnitRemoveAbility(FJ8,1093750837)
call UnitRemoveAbility(FJ8,1093750838)
call UnitRemoveAbility(FJ8,1093812551)
endfunction
function D2E takes unit FJ8,unit PU7 returns nothing
local integer D_E=GetUnitTypeId(PU7)
local integer E4E=0
local integer E7E=0
set EZ7="Devour_Absorb"
if D_E==1848658008 then
set E4E=1093750609
elseif D_E==1852796263 then
set E4E=1093750610
elseif D_E==1852207221 then
set E4E=1093750611
elseif D_E==1853060204 then
set E4E=1093750612
elseif D_E==1853055348 then
set E4E=1093750613
elseif D_E==1853060200 then
set E4E=1093750614
set E7E=1093750615
elseif D_E==1848651859 then
set E4E=1093750616
set E7E=1093750617
elseif D_E==1852534636 then
set E4E=1395667021
elseif D_E==1852207976 then
set E4E=1093750618
set E7E=1093812551
elseif D_E==1852010091 then
set E4E=1395667022
set E7E=1093750832
elseif D_E==1852272243 then
set E4E=1093750833
elseif D_E==1852270641 then
set E4E=1093750839
set E7E=1093750849
elseif D_E==1852798821 then
set E4E=1093750835
set E7E=1093750836
elseif D_E==1852077175 then
set E4E=1093750837
set E7E=1093750838
elseif D_E==1853320295 then
set E4E=1093750617
endif
if E4E!=0 then
call D5E(FJ8)
call L67(FJ8,E4E)
endif
if E7E!=0 then
call L67(FJ8,E7E)
endif
endfunction
function E8E takes real E9E returns string
local string c1="|c00ff0303"
local string c="||"
local string p=" "
local string s=c1+c+"|r"
local string EDE
set EZ7="Kwv"
if E9E>85 then
set EDE=s+p+s+p+s+p+s+p+s+p+s+p+s
elseif E9E>70 then
set EDE=s+p+s+p+s+p+s+p+s+p+s+p+c
elseif E9E>55 then
set EDE=s+p+s+p+s+p+s+p+s+p+c+p+c
elseif E9E>40 then
set EDE=s+p+s+p+s+p+s+p+c+p+c+p+c
elseif E9E>25 then
set EDE=s+p+s+p+s+p+c+p+c+p+c+p+c
elseif E9E>10 then
set EDE=s+p+s+p+c+p+c+p+c+p+c+p+c
elseif E9E>0 then
set EDE=s+p+c+p+c+p+c+p+c+p+c+p+c
else
set EDE=c+p+c+p+c+p+c+p+c+p+c+p+c
endif
return EDE
endfunction
function EEE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local integer BY7=U97(US7,"Level")
local integer EFE=U97(US7,"TypeID")
local real HP=UD7(US7,"HP")
local texttag tt=T67(US7,"tt")
local integer iX=GetTriggerEvalCount(t)
local real EGE=D28(HP-iX,0)
local boolean EHE=true
set EZ7="EEE"
call SetTextTagText(tt,E8E(100*EGE/ HP),0.018)
call SetTextTagPosUnit(tt,C17,0)
if IsUnitVisible(C17,GetLocalPlayer())==false and C67(GetLocalPlayer())==false then
set EHE=false
endif
call SetTextTagVisibility(tt,EHE)
if EGE==0 then
call F98(GetOwningPlayer(C17),C17,25*BY7)
endif
if EGE==0 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),1093742674,true)
call UnitRemoveAbility(C17,1093742675)
call T97(US7)
call UQ7(t)
call DestroyTextTag(tt)
endif
set t=null
set C17=null
return false
endfunction
function EIE takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer BY7=GetUnitAbilityLevel(LI7,1093742674)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local real HP=GetUnitState(PU7,UNIT_STATE_LIFE)
local integer EJE=GetUnitLevel(PU7)
local integer EFE=GetUnitTypeId(PU7)
local texttag tt=CreateTextTag()
local boolean EHE=true
local unit HV8=CreateUnit(GetOwningPlayer(LI7),1697656901,0,0,0)
set EZ7="EIE"
call EH8("SPLK",GetUnitX(LI7),GetUnitY(LI7),GetUnitX(PU7),GetUnitY(PU7),0.1,0.1,0.2,.9,0.5)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\Devour\\DevourEffectArt.mdl",GetUnitX(PU7),GetUnitY(PU7)))
if IsUnitVisible(LI7,GetLocalPlayer())==false then
set EHE=false
endif
call D2E(LI7,PU7)
call SetTextTagText(tt,E8E(100),0.018)
call SetTextTagPosUnit(tt,LI7,0)
call SetTextTagVisibility(tt,EHE)
call SetTextTagPermanent(tt,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(LI7),1093742674,false)
call L67(LI7,1093742675)
call TJ7(US7,"Hero",LI7)
call TV7(US7,"tt",tt)
call TF7(US7,"TypeID",EFE)
call TF7(US7,"Level",BY7)
call TG7(US7,"HP",HP)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,LI7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function EEE))
call ShowUnit(PU7,false)
call UnitRemoveBuffs(PU7,true,true)
call UnitRemoveAbility(PU7,1097167980)
call UnitDamageTarget(HV8,PU7,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
set t=null
set LI7=null
set PU7=null
set HV8=null
endfunction
function EKE takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BY7=GetUnitAbilityLevel(C17,1093742674)
local integer EJE=GetUnitLevel(m5)
set EZ7="EKE"
if(GetOwningPlayer(m5)!=Z7[0]and GetOwningPlayer(m5)!=A7[0])and((BY7==1 and EJE>2)or(BY7==2 and EJE>4)or(BY7==3 and EJE>5)or(BY7==4 and EJE>6))then
endif
set C17=null
set m5=null
endfunction
function EME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local integer id=U97(US7,"Count")
set EZ7="EME"
call T97(US7)
call UQ7(t)
set t=null
set p5=null
return false
endfunction
function ENE takes nothing returns nothing
local integer id=GetSpellAbilityId()
local trigger t
local integer US7
set EZ7="ENE"
if id==1093750609 or id==1093750610 or id==1093750611 or id==1093750612 or id==1093750613 or id==1093750614 or id==1093750615 or id==1093750616 or id==1093750617 or id==1395667021 or id==1093750618 or id==1395667022 or id==1093750832 or id==1093750833 or id==1093750834 or id==1093750835 or id==1093750836 or id==1093750837 or id==1093750838 then
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function EME))
call TJ7(US7,"Source",GetTriggerUnit())
call TF7(US7,"Count",id)
set t=null
endif
endfunction
function EOE takes nothing returns boolean
if GetSpellAbilityId()==1093742674 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call EKE()
else
call EIE()
endif
elseif GetUnitTypeId(GetTriggerUnit())==1430467634 then
call ENE()
endif
return false
endfunction
function PS8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PS8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function EOE))
set t=null
endfunction
function EPE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
set EZ7="EPE"
call UnitRemoveAbility(p5,1093750604)
call UnitRemoveAbility(p5,1093750606)
call UnitRemoveAbility(p5,1093750607)
call UnitRemoveAbility(p5,1093750605)
call UnitRemoveAbility(p5,1110455370)
call T97(US7)
call UQ7(t)
set t=null
set p5=null
return false
endfunction
function EQE takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local integer HW8=GetUnitAbilityLevel(FJ8,1093750608)
set EZ7="EQE"
if HW8==1 then
call L67(FJ8,1093750604)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093750604,false)
elseif HW8==2 then
call L67(FJ8,1093750606)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093750606,false)
elseif HW8==3 then
call L67(FJ8,1093750607)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093750607,false)
elseif HW8==4 then
call L67(FJ8,1093750605)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093750605,false)
endif
call TriggerRegisterTimerEvent(t,8+2*HW8,false)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function EPE))
call TJ7(PP7,"Source",FJ8)
set FJ8=null
set t=null
endfunction
function ERE takes nothing returns boolean
if GetSpellAbilityId()==1093750608 then
call EQE()
endif
return false
endfunction
function PT8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PT8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ERE))
set t=null
endfunction
function ESE takes nothing returns boolean
local real x
local real y
set EZ7="ESE"
if(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))then
set x=A2+GetRandomReal(20,70)*Cos(GetUnitFacing(GetTriggerUnit())*bj_DEGTORAD)
set y=N2+GetRandomReal(20,70)*Sin(GetUnitFacing(GetTriggerUnit())*bj_DEGTORAD)
call SetUnitPosition(GetFilterUnit(),x,y)
endif
return false
endfunction
function ETE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local group g=LD7()
local unit HV8=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
local integer HW8=GetUnitAbilityLevel(p5,1093810508)
set EZ7="ETE"
set A2=GetUnitX(p5)+100*Cos(GetUnitFacing(p5)*bj_DEGTORAD)
set N2=GetUnitY(p5)+100*Sin(GetUnitFacing(p5)*bj_DEGTORAD)
call GroupEnumUnitsInRange(g,x,y,410+24,Condition(function ESE))
call L97(g)
call L67(HV8,1093678662)
call SetUnitAbilityLevel(HV8,1093678662,HW8)
call IssueImmediateOrder(HV8,"stomp")
set p5=null
set g=null
endfunction
function EUE takes nothing returns boolean
if GetSpellAbilityId()==1093810508 then
call ETE()
endif
return false
endfunction
function PU8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PU8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EUE))
set t=null
endfunction
function EVE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CT7=GetHandleId(t)
local unit FYD=(LoadUnitHandle(L7,(CT7),(17)))
set EZ7="EVE"
if GetUnitAbilityLevel(FYD,1110454357)==0 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(FYD,1093751088)
call UnitRemoveAbility(FYD,1093751089)
call UnitRemoveAbility(FYD,1093751090)
call UnitRemoveAbility(FYD,1093751091)
call FlushChildHashtable(L7,(CT7))
call UQ7(t)
endif
set t=null
set FYD=null
return false
endfunction
function EWE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer CT7=GetHandleId(t)
local unit F3D=GetTriggerUnit()
local unit FYD=GetSpellTargetUnit()
local integer RE7=GetUnitAbilityLevel(F3D,1093677879)
local integer EXE
set EZ7="EWE"
if RE7==1 then
set EXE=1093751088
elseif RE7==2 then
set EXE=1093751089
elseif RE7==3 then
set EXE=1093751090
elseif RE7==4 then
set EXE=1093751091
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(FYD),EXE,false)
call L67(FYD,EXE)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,FYD,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function EVE))
call SaveUnitHandle(L7,(CT7),(17),(FYD))
set t=null
set F3D=null
set FYD=null
endfunction
function EYE takes nothing returns boolean
if GetSpellAbilityId()==1093677879 then
call EWE()
endif
return false
endfunction
function PV8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PV8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EYE))
set t=null
endfunction
function EZE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CT7=GetHandleId(t)
local unit FYD=(LoadUnitHandle(L7,(CT7),(17)))
set EZ7="EZE"
call UnitRemoveAbility(FYD,1093751094)
call UnitRemoveAbility(FYD,1110459224)
call FlushChildHashtable(L7,(CT7))
call UQ7(t)
set t=null
set FYD=null
return false
endfunction
function EAE takes unit F3D,unit FYD,integer RE7 returns nothing
local trigger t=CreateTrigger()
local integer CT7=GetHandleId(t)
set EZ7="Skewer_Hit"
call SetUnitPathing(FYD,true)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerRegisterUnitEvent(t,FYD,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function EZE))
call SaveUnitHandle(L7,(CT7),(17),(FYD))
call L67(FYD,1093751094)
call UnitMakeAbilityPermanent(FYD,true,1093751094)
call SetPlayerAbilityAvailable(GetOwningPlayer(FYD),1093751094,false)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl",FYD,"chest"))
call HY8(F3D,FYD,ZG4,70*RE7)
set t=null
endfunction
function EBE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CT7=GetHandleId(t)
local unit F3D=(LoadUnitHandle(L7,(CT7),(2)))
local unit ECE=(LoadUnitHandle(L7,(CT7),(393)))
local unit E3E=(LoadUnitHandle(L7,(CT7),(394)))
local unit E6E=(LoadUnitHandle(L7,(CT7),(395)))
local unit ELE=(LoadUnitHandle(L7,(CT7),(396)))
local integer RE7=(LoadInteger(L7,(CT7),(5)))
local real E1E=(LoadReal(L7,(CT7),(47)))
local real E0E=(LoadReal(L7,(CT7),(48)))
local real E5E=(LoadReal(L7,(CT7),(13)))
local real E2E=(LoadReal(L7,(CT7),(6)))
local real E_E=(LoadReal(L7,(CT7),(7)))
local real F4E=DV8(E2E+19*Cos(E5E))
local real F7E=DW8(E_E+19*Sin(E5E))
local group g
local integer F8E=(LoadInteger(L7,(CT7),(12)))
local location l
set EZ7="EBE"
call SetUnitPosition(F3D,F4E,F7E)
call SetUnitFacing(F3D,E5E*bj_RADTODEG)
call SaveReal(L7,(CT7),(6),((F4E)*1.0))
call SaveReal(L7,(CT7),(7),((F7E)*1.0))
if ModuloInteger(GetTriggerEvalCount(t),4)==0 then
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",F4E,F7E))
endif
if GetTriggerEvalCount(t)==2 then
call SetUnitAnimationByIndex(F3D,3)
endif
if ECE==null or E3E==null or E6E==null or ELE==null then
set IN4=F3D
set g=LD7()
call GroupEnumUnitsInRange(g,F4E,F7E,125+25,Condition(function GX8))
if FirstOfGroup(g)!=null then
if ECE!=null then
call GroupRemoveUnit(g,ECE)
endif
if E3E!=null then
call GroupRemoveUnit(g,E3E)
endif
if E6E!=null then
call GroupRemoveUnit(g,E6E)
endif
if FirstOfGroup(g)!=null then
if ECE==null then
set ECE=FirstOfGroup(g)
call SetUnitPathing(ECE,false)
call UU7(ECE,"4404",5)
elseif E3E==null and RE7>1 then
set E3E=FirstOfGroup(g)
call SetUnitPathing(E3E,false)
call UU7(E3E,"4404",5)
elseif E6E==null and RE7>2 then
set E6E=FirstOfGroup(g)
call SetUnitPathing(E6E,false)
call UU7(E6E,"4404",5)
elseif ELE==null and RE7>3 then
set ELE=FirstOfGroup(g)
call SetUnitPathing(ELE,false)
call UU7(ELE,"4404",5)
endif
endif
endif
call L97(g)
set g=null
endif
call SaveUnitHandle(L7,(CT7),(393),(ECE))
call SaveUnitHandle(L7,(CT7),(394),(E3E))
call SaveUnitHandle(L7,(CT7),(395),(E6E))
call SaveUnitHandle(L7,(CT7),(396),(ELE))
if ECE!=null then
call SetUnitPosition(ECE,F4E,F7E)
endif
if E3E!=null then
call SetUnitPosition(E3E,F4E,F7E)
endif
if E6E!=null then
call SetUnitPosition(E6E,F4E,F7E)
endif
if ELE!=null then
call SetUnitPosition(ELE,F4E,F7E)
endif
if ModuloInteger(GetTriggerEvalCount(t),3)==0 then
call ER8(F4E,F7E,200)
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>F8E then
call DestroyEffect((LoadEffectHandle(L7,(CT7),(175))))
call SetUnitAnimationByIndex(F3D,0)
call SetUnitTimeScale(F3D,1.0)
call SetUnitPathing(F3D,true)
call FlushChildHashtable(L7,(CT7))
call UQ7(t)
if ECE!=null then
if IsPointInRegion(IU4,GetUnitX(ECE),GetUnitY(ECE))==true then
set l=EP9(GetUnitX(ECE),GetUnitY(ECE))
call SetUnitX(ECE,DV8(GetLocationX(l)))
call SetUnitY(ECE,DW8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
call EAE(F3D,ECE,RE7)
call ER8(GetUnitX(ECE),GetUnitY(ECE),300)
endif
if E3E!=null then
if IsPointInRegion(IU4,GetUnitX(E3E),GetUnitY(E3E))==true then
set l=EP9(GetUnitX(E3E),GetUnitY(E3E))
call SetUnitX(E3E,DV8(GetLocationX(l)))
call SetUnitY(E3E,DW8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
call EAE(F3D,E3E,RE7)
call ER8(GetUnitX(E3E),GetUnitY(E3E),300)
endif
if E6E!=null then
if IsPointInRegion(IU4,GetUnitX(E6E),GetUnitY(E6E))==true then
set l=EP9(GetUnitX(E6E),GetUnitY(E6E))
call SetUnitX(E6E,DV8(GetLocationX(l)))
call SetUnitY(E6E,DW8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
call EAE(F3D,E6E,RE7)
call ER8(GetUnitX(E6E),GetUnitY(E6E),300)
endif
if ELE!=null then
if IsPointInRegion(IU4,GetUnitX(ELE),GetUnitY(ELE))==true then
set l=EP9(GetUnitX(ELE),GetUnitY(ELE))
call SetUnitX(ELE,DV8(GetLocationX(l)))
call SetUnitY(ELE,DW8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
call EAE(F3D,ELE,RE7)
call ER8(GetUnitX(ELE),GetUnitY(ELE),300)
endif
if ECE!=null and L17(ECE)==false then
call IssueTargetOrder(F3D,"attack",ECE)
elseif E3E!=null and L17(E3E)==false then
call IssueTargetOrder(F3D,"attack",E3E)
elseif E6E!=null and L17(E6E)==false then
call IssueTargetOrder(F3D,"attack",E6E)
elseif ELE!=null and L17(ELE)==false then
call IssueTargetOrder(F3D,"attack",ELE)
endif
call ER8(F4E,F7E,375)
if IsPointInRegion(IU4,GetUnitX(F3D),GetUnitY(F3D))==true then
set l=EP9(GetUnitX(F3D),GetUnitY(F3D))
call SetUnitX(F3D,DV8(GetLocationX(l)))
call SetUnitY(F3D,DW8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
endif
set t=null
set F3D=null
set ECE=null
set E3E=null
set E6E=null
set ELE=null
return false
endfunction
function F9E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer CT7=GetHandleId(t)
local real E1E=DV8(GetSpellTargetX())
local real E0E=DW8(GetSpellTargetY())
local unit F3D=GetTriggerUnit()
local real XGD=GetUnitX(F3D)
local real FDE=GetUnitY(F3D)
local integer RE7=GetUnitAbilityLevel(F3D,1093751364)
local real a=Q87(XGD,FDE,E1E,E0E)*bj_DEGTORAD
local real FEE=400+200*RE7+25
if Q07(XGD,FDE,E1E,E0E)>FEE then
set E1E=DV8(XGD+FEE*Cos(a))
set E0E=DW8(FDE+FEE*Sin(a))
endif
call SetUnitPathing(F3D,false)
call SetUnitAnimationByIndex(F3D,3)
call SetUnitTimeScale(F3D,1.5)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,F3D,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function EBE))
call SaveUnitHandle(L7,(CT7),(2),(F3D))
call SaveInteger(L7,(CT7),(5),(RE7))
call SaveUnitHandle(L7,(CT7),(393),(null))
call SaveUnitHandle(L7,(CT7),(394),(null))
call SaveUnitHandle(L7,(CT7),(395),(null))
call SaveUnitHandle(L7,(CT7),(396),(null))
call SaveReal(L7,(CT7),(47),((E1E)*1.0))
call SaveReal(L7,(CT7),(48),((E0E)*1.0))
call SaveReal(L7,(CT7),(6),((XGD)*1.0))
call SaveReal(L7,(CT7),(7),((FDE)*1.0))
call SaveReal(L7,(CT7),(13),((Atan2(E0E-FDE,E1E-XGD))*1.0))
call SaveInteger(L7,(CT7),(12),(R2I(Q07(XGD,FDE,E1E,E0E)/19.0)))
call SaveEffectHandle(L7,(CT7),(175),(AddSpecialEffectTarget("war3mapImported\\SkewerTuskGlow_1.mdx",F3D,"head")))
set t=null
set F3D=null
endfunction
function FFE takes nothing returns boolean
if GetSpellAbilityId()==1093751364 then
call F9E()
endif
return false
endfunction
function FGE takes nothing returns boolean
if GetSpellAbilityId()==1093751364 then
call SetUnitAnimationByIndex(GetTriggerUnit(),7)
endif
return false
endfunction
function PW8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PW8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FFE))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function FGE))
set t=null
endfunction
function FHE takes nothing returns boolean
if GetSpellAbilityId()==1093747504 then
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093748052,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093748051,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093748049,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093748050,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093808966,false)
endif
return false
endfunction
function PX8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PX8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FHE))
set t=null
endfunction
function FIE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=GetUnitAbilityLevel(FJ8,JK7)
set EZ7="FIE"
call SetUnitState(PU7,UNIT_STATE_LIFE,GetUnitState(PU7,UNIT_STATE_LIFE)+0.1*(20+GetUnitState(PU7,UNIT_STATE_MAX_LIFE)*(0.02+0.01*HW8)))
if GetTriggerEvalCount(t)>39 or(GetTriggerEvalCount(t)==1 and IsUnitHidden(PU7))then
call UnitRemoveAbility(PU7,JM7)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(609))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(610))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(611))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(612))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(613))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(614))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(615))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(616))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(617))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function FJE takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t
local integer PP7
local unit HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
set EZ7="FJE"
call UnitAddAbility(HV8,1093815367)
if IssueTargetOrder(HV8,"thunderbolt",PU7)==true then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call L67(PU7,JM7)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function FIE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveEffectHandle(L7,(PP7),(609),(AddSpecialEffectTarget(JN7,PU7,"hand right")))
call SaveEffectHandle(L7,(PP7),(610),(AddSpecialEffectTarget(JN7,PU7,"hand left")))
call SaveEffectHandle(L7,(PP7),(611),(AddSpecialEffectTarget(JN7,PU7,"foot right")))
call SaveEffectHandle(L7,(PP7),(612),(AddSpecialEffectTarget(JN7,PU7,"foot left")))
call SaveEffectHandle(L7,(PP7),(613),(AddSpecialEffectTarget(JN7,PU7,"foot right mount rear")))
call SaveEffectHandle(L7,(PP7),(614),(AddSpecialEffectTarget(JN7,PU7,"foot left mount rear")))
call SaveEffectHandle(L7,(PP7),(615),(AddSpecialEffectTarget(JN7,PU7,"head")))
call SaveEffectHandle(L7,(PP7),(616),(AddSpecialEffectTarget(JN7,PU7,"chest")))
call SaveEffectHandle(L7,(PP7),(617),(AddSpecialEffectTarget(JN7,PU7,"weapon")))
endif
set FJ8=null
set PU7=null
set t=null
endfunction
function FKE takes nothing returns boolean
if GetSpellAbilityId()==JK7 then
call FJE()
endif
return false
endfunction
function V_8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="V_8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FKE))
set t=null
endfunction
function FME takes nothing returns nothing
local unit PU7=GetEnumUnit()
set EZ7="FME"
call DisableTrigger(JQ7)
call UnitWakeUp(PU7)
call IssueTargetOrder(PU7,"attack",JR7)
call EnableTrigger(JQ7)
set PU7=null
endfunction
function FNE takes nothing returns nothing
set EZ7="FNE"
call UU7(GetEnumUnit(),"4328",0.75)
endfunction
function FOE takes nothing returns nothing
local unit PU7=GetEnumUnit()
set EZ7="FOE"
if IsUnitInGroup(PU7,JP7)==false then
call GroupAddUnit(JP7,PU7)
call TriggerRegisterUnitEvent(JQ7,PU7,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(JQ7,PU7,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(JQ7,PU7,EVENT_UNIT_ISSUED_TARGET_ORDER)
call UM7(PU7,"4328")
endif
set PU7=null
endfunction
function FPE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local integer L48=(LoadInteger(L7,(PP7),(34)))
local group HPD=(LoadGroupHandle(L7,(PP7),(22)))
local group g
set EZ7="FPE"
if GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER then
set L48=L48+1
call SaveInteger(L7,(PP7),(34),(L48))
set JP7=HPD
set JQ7=t
set g=LD7()
set IN4=FJ8
call GroupEnumUnitsInRange(g,GetUnitX(PU7),GetUnitY(PU7),350+25,Condition(function GK8))
call GroupRemoveUnit(g,PU7)
call ForGroup(g,function FOE)
call L97(g)
if L48==(2.25+0.25*HW8)*20 or L17(PU7)then
call ForGroup(HPD,function FNE)
call L97(HPD)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set JQ7=t
set JR7=PU7
call ForGroup(HPD,function FME)
if ModuloInteger(L48,20)==0 or L48==0 then
endif
endif
else
if UnitIsSleeping(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1110454328)==0 and GetIssuedOrderId()!=851973 and GK7==false then
call DisableTrigger(t)
call ClearSelectionForPlayer(GetOwningPlayer(GetTriggerUnit()))
call IssueTargetOrder(GetTriggerUnit(),"attack",PU7)
call EnableTrigger(t)
endif
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function FQE takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local integer HW8=GetUnitAbilityLevel(FJ8,JO7)
local unit PU7=GetSpellTargetUnit()
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
set EZ7="FQE"
call UnitAddAbility(HV8,1093815882)
call SetUnitAbilityLevel(HV8,1093815882,HW8)
call IssueTargetOrder(HV8,"thunderbolt",PU7)
set JS7=FJ8
call TriggerRegisterTimerEvent(t,0.05,true)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveGroupHandle(L7,(PP7),(22),(LD7()))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget(JT7,PU7,"overhead")))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffect(JU7,GetUnitX(PU7),GetUnitY(PU7))))
call TriggerAddCondition(t,Condition(function FPE))
set FJ8=null
set PU7=null
set t=null
endfunction
function FRE takes nothing returns boolean
if GetSpellAbilityId()==JO7 and L87(GetSpellTargetUnit())==false then
call FQE()
endif
return false
endfunction
function W48 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="W48"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FRE))
set t=null
endfunction
function FSE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=GetUnitAbilityLevel(FJ8,JV7)
set EZ7="FSE"
call HY8(FJ8,PU7,ZI4,(0.032+0.002*HW8)*GetUnitState(PU7,UNIT_STATE_MAX_LIFE))
if(TimerGetElapsed(W))>=(LoadReal(L7,(GetHandleId(FJ8)),(782)))then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function FTE takes unit FJ8,unit PU7 returns nothing
local trigger t
local integer PP7
call SetUnitState(FJ8,UNIT_STATE_MANA,GetUnitState(FJ8,UNIT_STATE_MANA)*0.8)
set EZ7="Touch_FireBlast"
if(LoadReal(L7,(GetHandleId(FJ8)),(782)))>(TimerGetElapsed(W))then
call SaveReal(L7,(GetHandleId(FJ8)),(782),(((TimerGetElapsed(W))+JY7)*1.0))
else
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function FSE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget(JX7,PU7,"chest")))
call SaveReal(L7,(GetHandleId(FJ8)),(782),(((TimerGetElapsed(W))+JY7)*1.0))
endif
set t=null
endfunction
function FUE takes nothing returns boolean
local real d
local real FP9
local integer L48
local unit FJ8
local unit PU7
set EZ7="FUE"
if GetUnitAbilityLevel(GetTriggerUnit(),JW7)>0 and GetUnitAbilityLevel(GetEventDamageSource(),JV7)>0 and(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(2)))==GetEventDamageSource()then
set FJ8=GetEventDamageSource()
set PU7=GetTriggerUnit()
set L48=(LoadInteger(L7,(GetHandleId(FJ8)),(780)))
set FP9=(LoadReal(L7,(GetHandleId(FJ8)),(781)))
if FP9+JY7<(TimerGetElapsed(W))then
set L48=1
set FP9=(TimerGetElapsed(W))
call SaveInteger(L7,(GetHandleId(FJ8)),(780),(L48))
call SaveReal(L7,(GetHandleId(FJ8)),(781),((FP9)*1.0))
else
set L48=L48+1
set FP9=(TimerGetElapsed(W))
call SaveInteger(L7,(GetHandleId(FJ8)),(780),(L48))
call SaveReal(L7,(GetHandleId(FJ8)),(781),((FP9)*1.0))
endif
if L48==4 then
set L48=0
call SaveInteger(L7,(GetHandleId(FJ8)),(780),(L48))
call FTE(FJ8,PU7)
endif
call FlushChildHashtable(L7,(GetHandleId(GetTriggeringTrigger())))
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function FVE takes nothing returns nothing
local trigger t
local unit PU7
local unit FJ8
set EZ7="FVE"
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set PU7=GetSpellTargetUnit()
set FJ8=GetTriggerUnit()
else
set PU7=GetTriggerUnit()
set FJ8=GetAttacker()
endif
if IsUnitIllusion(FJ8)==false then
set t=CreateTrigger()
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
call SaveBoolean(L7,(GetHandleId(t)),(264),(true))
else
call SaveBoolean(L7,(GetHandleId(t)),(264),(false))
endif
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(FJ8))
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function FUE))
endif
set t=null
set PU7=null
set FJ8=null
endfunction
function FWE takes nothing returns boolean
set EZ7="FWE"
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetUnitAbilityLevel(GetAttacker(),JV7)>0 and(LoadBoolean(L7,(GetHandleId(GetTriggeringTrigger())),(263)))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(14)))then
call FVE()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==OrderId("poisonarrows"))then
call SaveBoolean(L7,(GetHandleId(GetTriggeringTrigger())),(263),(true))
elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))then
call SaveBoolean(L7,(GetHandleId(GetTriggeringTrigger())),(263),(false))
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==JV7 then
call FVE()
endif
return false
endfunction
function FXE takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="FXE"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function FWE))
call SaveUnitHandle(L7,(GetHandleId(t)),(14),(GetTriggerUnit()))
set t=null
endfunction
function FYE takes nothing returns boolean
set EZ7="FYE"
if GetLearnedSkill()==JV7 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),JV7)==1 then
call FXE()
endif
return false
endfunction
function W98 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="W98"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function FYE))
set t=null
endfunction
function FZE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
set EZ7="FZE"
if L17(PU7)==false then
call SetUnitState(PU7,UNIT_STATE_LIFE,GetUnitState(PU7,UNIT_STATE_LIFE)*0.94)
endif
if GetTriggerEvalCount(t)==5 then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function FAE takes unit FJ8,unit PU7 returns nothing
local trigger t
local integer PP7
local integer HW8
local integer FBE
local integer FCE
set EZ7="ArcticSiege_SuccessfulAttack"
if((UJ7(PU7,"4329")==false))and C37(PU7)==false and GetUnitTypeId(PU7)!=1848651852 then
call UU7(PU7,"4329",J27)
set HW8=GetUnitAbilityLevel(FJ8,JZ7)
if HW8==1 then
set FBE=JA7
set FCE=JB7
elseif HW8==2 then
set FBE=JC7
set FCE=J37
elseif HW8==3 then
set FBE=J67
set FCE=JL7
elseif HW8==4 then
set FBE=J17
set FCE=J07
endif
call FV8(PU7,FBE,1,4,J57)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),FBE,false)
call UnitMakeAbilityPermanent(PU7,true,FCE)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function FZE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostDamage\\FrostDamage.mdl",PU7,"chest")))
endif
endfunction
function F3E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
set EZ7="F3E"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==FJ8 then
call DisableTrigger(t)
call FAE(FJ8,PU7)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
else
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set PU7=null
set FJ8=null
return false
endfunction
function F6E takes nothing returns nothing
local trigger t=CreateTrigger()
local unit PU7=GetTriggerUnit()
local unit FJ8=GetAttacker()
local integer PP7=GetHandleId(t)
set EZ7="F6E"
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function F3E))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
set t=null
set PU7=null
set FJ8=null
endfunction
function FLE takes nothing returns boolean
set EZ7="FLE"
if GetAttacker()==(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(2)))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false then
if GetUnitTypeId(GetAttacker())==1311788354 or GetUnitTypeId(GetAttacker())==1311788355 or GetUnitTypeId(GetAttacker())==1311788367 or GetUnitTypeId(GetAttacker())==1311788353 then
call F6E()
endif
endif
return false
endfunction
function F1E takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
set EZ7="F1E"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function FLE))
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(FJ8))
set FJ8=null
set t=null
endfunction
function F0E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
set EZ7="F0E"
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,false)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
return false
endfunction
function F5E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
set EZ7="F5E"
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function F0E))
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
set FJ8=null
set t=null
endfunction
function F2E takes nothing returns boolean
set EZ7="F2E"
if GetTriggerEventId()==EVENT_PLAYER_HERO_SKILL then
if GetLearnedSkill()==JZ7 and GetUnitAbilityLevel(GetTriggerUnit(),JZ7)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call F1E()
endif
else
if GetSpellAbilityId()==JZ7 then
if GetUnitTypeId(GetTriggerUnit())!=1311788343 then
call ER8(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),150)
if IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY)then
call F5E()
endif
endif
endif
endif
return false
endfunction
function WD8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="WD8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function F2E))
set t=null
endfunction
function F_E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit EW8=(LoadUnitHandle(L7,(PP7),(45)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local real x
local real y
local real a
set EZ7="F_E"
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call KillUnit(EW8)
else
set a=Q87(GetUnitX(EW8),GetUnitY(EW8),GetUnitX(PU7),GetUnitY(PU7))
set x=GetUnitX(EW8)+20*Cos(a*bj_DEGTORAD)
set y=GetUnitY(EW8)+20*Sin(a*bj_DEGTORAD)
call SetUnitX(EW8,x)
call SetUnitY(EW8,y)
call SetUnitFacing(EW8,a)
if Q17(EW8,PU7)<30 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call HY8(EW8,PU7,ZG4,100+50*HW8)
call KillUnit(EW8)
call SetUnitAnimationByIndex(EW8,3)
endif
endif
set t=null
set PU7=null
set EW8=null
return false
endfunction
function G4E takes integer HW8,unit EW8,unit PU7 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="LightningSeeker_Seek"
call SetUnitAnimationByIndex(EW8,2)
call SetUnitVertexColor(EW8,255,255,255,150)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerAddCondition(t,Condition(function F_E))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(45),(EW8))
call SetUnitAnimationByIndex(EW8,2)
set t=null
endfunction
function G7E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local unit EW8=(LoadUnitHandle(L7,(PP7),(45)))
local group g
local unit PU7
set EZ7="G7E"
if GetTriggerEvalCount(t)>K77/0.05 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call KillUnit(EW8)
else
set IN4=EW8
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(EW8),GetUnitY(EW8),375+25,Condition(function GK8))
set PU7=T19(g,GetUnitX(EW8),GetUnitY(EW8))
call L97(g)
if PU7!=null then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call G4E(HW8,EW8,PU7)
endif
set g=null
set PU7=null
endif
set t=null
set EW8=null
return false
endfunction
function G8E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local unit EW8=(LoadUnitHandle(L7,(PP7),(45)))
set EZ7="G8E"
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function G7E))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveUnitHandle(L7,(PP7),(45),(EW8))
call SetUnitAnimationByIndex(EW8,1)
set t=null
set EW8=null
return false
endfunction
function G9E takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local unit EW8=CreateUnit(GetOwningPlayer(FJ8),K47,x,y,270)
local integer HW8=GetUnitAbilityLevel(FJ8,J_7)
set EZ7="G9E"
call SetUnitAnimationByIndex(EW8,0)
call TriggerRegisterTimerEvent(t,3,false)
call TriggerAddCondition(t,Condition(function G8E))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveUnitHandle(L7,(PP7),(45),(EW8))
set FJ8=null
set EW8=null
set t=null
endfunction
function GDE takes nothing returns boolean
if GetSpellAbilityId()==J_7 then
call G9E()
endif
return false
endfunction
function WE8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="WE8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GDE))
set t=null
endfunction
function GEE takes nothing returns nothing
set EZ7="GEE"
if EM9(GetEnumUnit())then
return
endif
if GetUnitAbilityLevel(GetEnumUnit(),K97)>0 then
call UnitRemoveAbility(GetEnumUnit(),K97)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KD7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KD7)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KE7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KE7)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KF7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KF7)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KG7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KG7)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KH7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KH7)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KI7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KI7)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KJ7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KJ7)
endif
endfunction
function GFE takes nothing returns nothing
set EZ7="GFE"
if EM9(GetEnumUnit())then
return
endif
if KM7==1 then
set KN7=K97
elseif KM7==2 then
set KN7=KD7
elseif KM7==3 then
set KN7=KE7
elseif KM7==4 then
set KN7=KF7
endif
if GetUnitAbilityLevel(GetEnumUnit(),KN7)==0 then
call L67(GetEnumUnit(),KN7)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),KN7,false)
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1094935923)
if KN7==K97 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815604)
elseif KN7==KD7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815605)
elseif KN7==KE7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815606)
elseif KN7==KF7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815607)
elseif KN7==KG7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815885)
elseif KN7==KH7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815884)
elseif KN7==KI7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815886)
elseif KN7==KJ7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815887)
endif
endif
endfunction
function GGE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
local real OJD=(LoadReal(L7,(PP7),(442)))
local integer HW8=GetUnitAbilityLevel(FJ8,K87)
local group GHE=(LoadGroupHandle(L7,(PP7),(340)))
local group g=LD7()
local group g1=LD7()
local group g2=LD7()
set EZ7="GGE"
set KM7=HW8
if(TimerGetElapsed(W))>OJD then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call ForGroup(GHE,function GEE)
call L97(GHE)
call L97(g)
call L97(g1)
call L97(g2)
return false
endif
set IN4=FJ8
call GroupEnumUnitsInRange(g1,x,y,325+25,Condition(function G08))
call GroupEnumUnitsInRange(g2,x,y,325+144,Condition(function HE8))
call GroupAddGroup(g1,g)
call GroupAddGroup(g2,g)
call L97(g1)
call L97(g2)
call GroupRemoveGroup(g,GHE)
call ForGroup(GHE,function GEE)
call ForGroup(g,function GFE)
call SaveGroupHandle(L7,(PP7),(340),(g))
call L97(GHE)
set t=null
set FJ8=null
set GHE=null
set g=null
return false
endfunction
function GIE takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local real EX8=GetSpellTargetX()
local real EY8=GetSpellTargetY()
local integer i
local integer HW8=GetUnitAbilityLevel(FJ8,K87)
set EZ7="GIE"
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function GGE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveGroupHandle(L7,(PP7),(340),(LD7()))
call SaveReal(L7,(PP7),(6),((EX8)*1.0))
call SaveReal(L7,(PP7),(7),((EY8)*1.0))
call SaveReal(L7,(PP7),(442),(((TimerGetElapsed(W))+3+0.5*HW8)*1.0))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffect(KK7,EX8,EY8)))
set i=0
loop
exitwhen i>5
call SetPlayerAbilityAvailable(Z7[i],K97,false)
call SetPlayerAbilityAvailable(A7[i],K97,false)
call SetPlayerAbilityAvailable(Z7[i],KD7,false)
call SetPlayerAbilityAvailable(A7[i],KD7,false)
call SetPlayerAbilityAvailable(Z7[i],KD7,false)
call SetPlayerAbilityAvailable(A7[i],KE7,false)
call SetPlayerAbilityAvailable(Z7[i],KF7,false)
call SetPlayerAbilityAvailable(A7[i],KF7,false)
set i=i+1
endloop
set FJ8=null
set t=null
endfunction
function GJE takes nothing returns boolean
if GetSpellAbilityId()==K87 then
call GIE()
endif
return false
endfunction
function WF8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="WF8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GJE))
set t=null
endfunction
function GKE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=GetUnitAbilityLevel(FJ8,KO7)
local integer OUD=(LoadInteger(L7,(PP7),(758)))
local integer L48=(LoadInteger(L7,(PP7),(34)))
local group g
set EZ7="GKE"
if GetTriggerEventId()==EVENT_WIDGET_DEATH or L48>120 or C37(PU7)then
call UnitRemoveAbility(PU7,KP7)
call UnitRemoveAbility(PU7,KQ7)
call UnitRemoveAbility(PU7,KR7)
call UnitRemoveAbility(PU7,KS7)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set L48=L48+1
call SaveInteger(L7,(PP7),(34),(L48))
set IN4=FJ8
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(PU7),GetUnitY(PU7),225+25,Condition(function G78))
call GroupRemoveUnit(g,PU7)
if FirstOfGroup(g)==null then
if OUD==KP7 then
if GetUnitAbilityLevel(PU7,KP7)==0 then
call L67(PU7,KP7)
call UnitMakeAbilityPermanent(PU7,true,1093815381)
call UnitMakeAbilityPermanent(PU7,true,1093815621)
endif
else
if GetUnitAbilityLevel(PU7,KQ7)==0 then
call L67(PU7,KQ7)
call UnitMakeAbilityPermanent(PU7,true,1093815380)
call UnitMakeAbilityPermanent(PU7,true,1093815621)
endif
endif
if ModuloInteger(L48,10)==0 then
call HY8(FJ8,PU7,ZG4,HW8*15*0.5)
endif
else
if OUD==KP7 then
if GetUnitAbilityLevel(PU7,KP7)>0 then
call UnitRemoveAbility(PU7,KP7)
call UnitRemoveAbility(PU7,KR7)
endif
else
if GetUnitAbilityLevel(PU7,KQ7)>0 then
call UnitRemoveAbility(PU7,KQ7)
call UnitRemoveAbility(PU7,KS7)
endif
endif
endif
call L97(g)
set g=null
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function GME takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local integer OUD=KP7
set EZ7="GME"
if GetUnitTypeId(FJ8)==1311788365 then
set OUD=KQ7
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),KP7,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),KQ7,false)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerAddCondition(t,Condition(function GKE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveInteger(L7,(PP7),(758),(OUD))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget(KT7,PU7,"origin")))
call TriggerEvaluate(t)
set FJ8=null
set PU7=null
set t=null
endfunction
function GNE takes nothing returns boolean
if GetSpellAbilityId()==KO7 and L87(GetSpellTargetUnit())==false then
call GME()
endif
return false
endfunction
function WG8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="WG8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GNE))
set t=null
endfunction
function GOE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit GPE=(LoadUnitHandle(L7,(PP7),(17)))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call FlushChildHashtable(L7,(GetHandleId(GPE)))
call RemoveUnit(GPE)
set t=null
set GPE=null
return false
endfunction
function GQE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit GPE=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="GQE"
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call FlushChildHashtable(L7,(GetHandleId(GPE)))
call ShowUnit(GPE,false)
set t=null
set GPE=null
return false
endfunction
function GRE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit GPE=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=GetUnitAbilityLevel(FJ8,KU7)
set EZ7="GRE"
if GetTriggerEvalCount(t)==200 or GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call KillUnit(GPE)
call DestroyEffect(AddSpecialEffect(KW7,GetUnitX(GPE),GetUnitX(GPE)))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call SaveUnitHandle(L7,(PP7),(2),(GPE))
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function GQE))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,3,false)
call TriggerAddCondition(t,Condition(function GOE))
call SaveUnitHandle(L7,(PP7),(17),(GPE))
else
call SuspendHeroXP(GPE,true)
call UnitModifySkillPoints(GPE,-25)
endif
set t=null
set FJ8=null
set GPE=null
return false
endfunction
function GSE takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit GPE=CreateUnit(GetOwningPlayer(FJ8),KV7,GetUnitX(FJ8),GetUnitY(FJ8),0)
local integer HW8=GetUnitAbilityLevel(FJ8,KU7)
local integer i=0
local item J08
local integer GTE=1227895373
set EZ7="GSE"
call DestroyEffect(AddSpecialEffectTarget(KW7,GPE,"chest"))
if AG7(GetOwningPlayer(GPE))==false then
set GTE=1227903043
endif
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(FJ8))==true or IsPlayerObserver(GetLocalPlayer())==true then
call SetUnitVertexColor(GPE,75,75,75,100)
endif
call SelectUnitAddForPlayer(GPE,GetOwningPlayer(FJ8))
call DisableTrigger(H94)
loop
exitwhen i>5
if UnitItemInSlot(FJ8,i)!=null and GetItemTypeId(UnitItemInSlot(FJ8,i))!=ZU[X0]and GetItemTypeId(UnitItemInSlot(FJ8,i))!=ZU[D44]and GetItemTypeId(UnitItemInSlot(FJ8,i))!=ZU[VC]and GetItemTypeId(UnitItemInSlot(FJ8,i))!=ZU[WC]and GetItemTypeId(UnitItemInSlot(FJ8,i))!=ZU[H3]then
set J08=CreateItem(GetItemTypeId(UnitItemInSlot(FJ8,i)),0,0)
if GetItemCharges(UnitItemInSlot(FJ8,i))>0 then
call SetItemCharges(J08,GetItemCharges(UnitItemInSlot(FJ8,i)))
endif
call UnitAddItem(GPE,J08)
call SetItemPlayer(J08,GetOwningPlayer(GPE),false)
if GetItemTypeId(J08)==ZU[B5]or GetItemTypeId(J08)==ZU[C5]or GetItemTypeId(J08)==ZU[EW]then
call SetItemDropOnDeath(J08,false)
endif
else
call UnitAddItem(GPE,CreateItem(GTE,0,0))
endif
set i=i+1
endloop
call EnableTrigger(H94)
call SetHeroLevel(GPE,GetHeroLevel(FJ8),false)
set i=1
loop
exitwhen i>GetUnitAbilityLevel(FJ8,1096904043)
call SelectHeroSkill(GPE,1096904043)
set i=i+1
endloop
set i=1
loop
exitwhen i>GetUnitAbilityLevel(FJ8,J_7)
call SelectHeroSkill(GPE,J_7)
set i=i+1
endloop
set i=1
loop
exitwhen i>GetUnitAbilityLevel(FJ8,K87)
call SelectHeroSkill(GPE,K87)
set i=i+1
endloop
set i=1
loop
exitwhen i>GetUnitAbilityLevel(FJ8,KO7)
call SelectHeroSkill(GPE,KO7)
set i=i+1
endloop
set i=1
loop
exitwhen i>GetUnitAbilityLevel(FJ8,I17)
call SelectHeroSkill(GPE,I17)
set i=i+1
endloop
set i=1
loop
exitwhen i>GetUnitAbilityLevel(FJ8,KU7)
call SelectHeroSkill(GPE,KU7)
set i=i+1
endloop
call UnitRemoveAbility(GPE,KU7)
call UnitModifySkillPoints(GPE,-25)
call SuspendHeroXP(GPE,true)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterDeathEvent(t,GPE)
call TriggerAddCondition(t,Condition(function GRE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(GPE))
call SetUnitState(FJ8,UNIT_STATE_LIFE,GetUnitState(FJ8,UNIT_STATE_LIFE)*(1-(0.45-0.15*HW8)))
call SetUnitState(FJ8,UNIT_STATE_MANA,GetUnitState(FJ8,UNIT_STATE_MANA)*(1-(0.45-0.15*HW8)))
call SetUnitState(GPE,UNIT_STATE_LIFE,GetUnitState(FJ8,UNIT_STATE_LIFE))
call SetUnitState(GPE,UNIT_STATE_MANA,GetUnitState(FJ8,UNIT_STATE_MANA))
set FJ8=null
set GPE=null
set t=null
endfunction
function GUE takes nothing returns boolean
if GetSpellAbilityId()==KU7 then
call GSE()
endif
return false
endfunction
function WH8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="WH8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GUE))
set t=null
endfunction
function GVE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local group g=LD7()
local integer HW8=GetUnitAbilityLevel(FJ8,KX7)
set EZ7="GVE"
set IN4=FJ8
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),375+25,Condition(function G68))
if FirstOfGroup(g)==null then
if GetUnitAbilityLevel(FJ8,KY7)!=HW8 then
call L67(FJ8,KY7)
call SetUnitAbilityLevel(FJ8,KY7,HW8)
endif
else
if GetUnitAbilityLevel(FJ8,KY7)>0 then
call UnitRemoveAbility(FJ8,KY7)
endif
endif
call L97(g)
set FJ8=null
set t=null
set g=null
return false
endfunction
function GWE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
set EZ7="GWE"
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function GVE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=null
set FJ8=null
endfunction
function GXE takes nothing returns boolean
if GetLearnedSkill()==KX7 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),KX7)==1 then
call GWE()
endif
return false
endfunction
function WK8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="WK8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function GXE))
set t=null
endfunction
function GYE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local integer HW8=GetUnitAbilityLevel(FJ8,KZ7)
local integer C7D=GetHeroAgi(FJ8,true)
local real GZE=C7D*(0.1+0.04*HW8)
local integer CE9=R2I(GZE/2.0+0.5)
local integer GAE=(LoadInteger(L7,(PP7),(34)))
set EZ7="GYE"
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==KZ7 then
if GAE==KC7 then
set GAE=K37
else
set GAE=KC7
endif
call SaveInteger(L7,(PP7),(34),(GAE))
call UnitRemoveAbility(HV8,KA7)
call UnitRemoveAbility(HV8,KB7)
endif
if L17(FJ8)==true then
call UnitRemoveAbility(HV8,KA7)
call UnitRemoveAbility(HV8,KB7)
else
if GetUnitAbilityLevel(HV8,KA7)==0 then
call L67(HV8,KA7)
if GAE==KC7 then
call L67(HV8,KB7)
else
endif
endif
call SetUnitAbilityLevel(HV8,KA7,CE9)
call SetUnitAbilityLevel(HV8,KB7,CE9)
call SetUnitX(HV8,GetUnitX(FJ8))
call SetUnitY(HV8,GetUnitY(FJ8))
endif
set FJ8=null
set t=null
return false
endfunction
function GBE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697657174,0,0,0)
set EZ7="GBE"
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function GYE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call SaveInteger(L7,(PP7),(34),(KC7))
call L67(HV8,KA7)
call L67(HV8,KB7)
set t=null
set FJ8=null
endfunction
function GCE takes nothing returns boolean
if GetLearnedSkill()==KZ7 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),KZ7)==1 then
call GBE()
endif
return false
endfunction
function WJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="WJ8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function GCE))
call DX8(KA7)
call DX8(KB7)
set t=null
endfunction
function G3E takes nothing returns boolean
local real d
set EZ7="G3E"
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(RE4))==true and IsUnitInGroup(GetFilterUnit(),RG4)==false and GF8(GetFilterUnit(),GetOwningPlayer(RF4))==true then
set d=Q07(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),GetUnitX(RE4),GetUnitY(RE4))
if d<VZ then
set RD4=GetFilterUnit()
set VZ=d
endif
endif
return false
endfunction
function G6E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit HV8=T37(US7,"Caster")
local integer BY7=U97(US7,"Level")
local integer HB8=U97(US7,"TargetIndex")
local unit m5=A87(HB8)
local group GLE=T57(US7,"AlreadyHit")
local real G1E=UD7(US7,"StolenMana")
local real G0E=UD7(US7,"ManaCounter")
local real G5E=UD7(US7,"DmgCounter")
local real Z58
local group g
local real a
local real x
local real y
set EZ7="G6E"
set a=Atan2(GetUnitY(m5)-GetUnitY(HV8),GetUnitX(m5)-GetUnitX(HV8))
if p5==m5 then
set x=GetUnitX(HV8)+25*Cos(a)
set y=GetUnitY(HV8)+25*Sin(a)
else
set x=GetUnitX(HV8)+15*Cos(a)
set y=GetUnitY(HV8)+15*Sin(a)
endif
call SetUnitX(HV8,x)
call SetUnitY(HV8,y)
if Q07(x,y,GetUnitX(m5),GetUnitY(m5))<60 then
call SetUnitX(HV8,GetUnitX(m5))
call SetUnitY(HV8,GetUnitY(m5))
if p5==m5 then
call SetUnitState(p5,UNIT_STATE_MANA,GetUnitState(p5,UNIT_STATE_MANA)+G1E)
call KillUnit(HV8)
call L97(GLE)
call T97(US7)
call UQ7(t)
else
if G88(m5)==false or IsUnitVisible(m5,GetOwningPlayer(HV8))==true then
call HY8(p5,m5,ZG4,(40+40*BY7)+0.25*G5E*(40+40*BY7))
set G5E=G5E+1
if GetUnitState(m5,UNIT_STATE_MANA)>0 then
set Z58=RMinBJ(GetUnitState(m5,UNIT_STATE_MANA),(10+10*BY7)+0.25*G0E*(10+10*BY7))
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-Z58)
call ET8(oI,GetUnitX(m5),GetUnitY(m5))
set G1E=G1E+Z58
set G0E=G0E+1
endif
endif
call TG7(US7,"StolenMana",(G1E)*1.0)
call TG7(US7,"DmgCounter",(G5E)*1.0)
call TG7(US7,"ManaCounter",(G0E)*1.0)
set g=LD7()
set RD4=null
set RE4=m5
set RG4=GLE
set VZ=99999
set RF4=p5
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),500,Condition(function G3E))
call L97(g)
if RD4==null or G5E==(2+BY7)then
call TF7(US7,"TargetIndex",AD7(p5))
else
call TF7(US7,"TargetIndex",AD7(RD4))
call GroupAddUnit(GLE,RD4)
endif
endif
call A77(HB8)
endif
set t=null
set p5=null
set m5=null
set g=null
set HV8=null
set GLE=null
return false
endfunction
function G2E takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BY7=GetUnitAbilityLevel(p5,1093682994)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local group g=LD7()
local real G5E=0
local real G0E=0
local real Z58=0
local real G1E=0
local unit HV8=CreateUnit(GetOwningPlayer(p5),1747990832,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
set EZ7="G2E"
call ET8(eI,GetUnitX(p5),GetUnitY(p5))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function G6E))
call TS7(US7,"AlreadyHit",g)
call TJ7(US7,"Source",p5)
call TJ7(US7,"Caster",HV8)
call TF7(US7,"Level",BY7)
call TF7(US7,"TargetIndex",AD7(m5))
call TF7(US7,"Count",0)
call TG7(US7,"StolenMana",(G1E)*1.0)
call TG7(US7,"DmgCounter",(G5E)*1.0)
call TG7(US7,"ManaCounter",(G0E)*1.0)
call GroupAddUnit(g,m5)
set p5=null
set m5=null
set t=null
set g=null
set HV8=null
endfunction
function G_E takes nothing returns boolean
if GetSpellAbilityId()==1093682994 then
call G2E()
endif
return false
endfunction
function PY8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PY8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function G_E))
set t=null
endfunction
function H4E takes nothing returns nothing
call GroupAddUnit(RJ4,GetEnumUnit())
call IssueTargetOrder(RH4,"purge",GetEnumUnit())
endfunction
function H7E takes unit FJ8,unit PU7 returns boolean
local real a=Q77(PU7,FJ8)
local real H8E=GetUnitFacing(PU7)
local real c1
local real c2
local real d1=-1.0
local real d2=-1.0
local real e1
local real e2
local real f1=-1.0
local real f2=-1.0
set EZ7="StoneGaze_IsFacing"
if IsUnitVisible(FJ8,GetOwningPlayer(PU7))==false then
return false
endif
set c1=RMaxBJ(H8E-75,0)
set c2=H8E
if H8E-75<=0 then
set d1=360-(75-(c2-c1))
set d2=360
endif
set e1=H8E
set e2=RMinBJ(H8E+75,360)
if H8E+75>=360 then
set f1=0
set f2=0+(75-(e2-e1))
endif
if a<0 then
set a=a+360
elseif a>360 then
set a=a-360
endif
if(a>c1 and a<c2)or(d1!=-1 and a>d1 and a<d2)or(a>e1 and a<e2)or(f1!=-1 and a>f1 and a<f2)then
return true
endif
return false
endfunction
function H9E takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),RJ4)==false and H7E(IN4,GetFilterUnit())and GetUnitAbilityLevel(GetFilterUnit(),1110458961)==0
endfunction
function HDE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=T37(PP7,"Source")
local integer HW8=GetUnitAbilityLevel(FJ8,1093747028)
local unit HV8=T37(PP7,"Caster")
local group g=LD7()
local group HPD=T57(PP7,"AlreadyHit")
set EZ7="HDE"
set RH4=HV8
set RI4=FJ8
set IN4=FJ8
set RJ4=HPD
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),825,Condition(function H9E))
call ForGroup(g,function H4E)
call L97(g)
call DestroyEffect(T27(PP7,"FX"))
if GetTriggerEvalCount(t)>100 then
call UQ7(t)
call T97(PP7)
call L97(HPD)
else
call TK7(PP7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl",FJ8,"chest"))
endif
set FJ8=null
set HV8=null
set g=null
set t=null
set HPD=null
return false
endfunction
function HEE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit HV8=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
set EZ7="HEE"
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function HDE))
call TJ7(PP7,"Source",GetTriggerUnit())
call TJ7(PP7,"Caster",HV8)
call L67(HV8,1093677654)
call TS7(PP7,"AlreadyHit",LD7())
call TK7(PP7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl",GetTriggerUnit(),"chest"))
call SetUnitAbilityLevel(HV8,1093677654,GetUnitAbilityLevel(GetTriggerUnit(),1093747028))
call TriggerEvaluate(t)
set t=null
set HV8=null
endfunction
function HFE takes nothing returns boolean
if GetSpellAbilityId()==1093747028 then
call HEE()
endif
return false
endfunction
function PZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PZ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HFE))
set t=null
endfunction
function zS takes nothing returns nothing
if IH4<=tl then
set IH4=IH4+1
call GroupAddUnit(IQ4,GetEnumUnit())
endif
endfunction
function zt takes unit p5,unit m5 returns nothing
call EH8("SPLK",GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5),.1,.6,.44,.9,.6)
endfunction
function zT takes nothing returns nothing
call SetUnitState(IN4,UNIT_STATE_LIFE,GetUnitState(IN4,UNIT_STATE_LIFE)+25)
if GetUnitTypeId(GetEnumUnit())!=1848657461 then
call FN8(GetEnumUnit(),25)
endif
call zt(GetEnumUnit(),IN4)
endfunction
function zu takes nothing returns nothing
call HY8(IP4,IN4,ZG4,25)
if GetUnitTypeId(GetEnumUnit())!=1848657461 then
call FN8(GetEnumUnit(),25)
endif
call zt(GetEnumUnit(),IN4)
endfunction
function zU takes nothing returns nothing
local unit C17=GetTriggerUnit()
local group g=LD7()
local integer zv=GetUnitAbilityLevel(C17,1093685813)*5
set EZ7="zU"
set IQ4=LD7()
set IH4=0
set tl=zv
set IN4=C17
call GroupEnumUnitsInRange(g,GetUnitX(C17),GetUnitY(C17),1000,Condition(function ny))
call GroupRemoveUnit(g,C17)
call GroupRemoveUnit(g,GetSpellTargetUnit())
call ForGroup(g,function zS)
call L97(g)
set g=IQ4
set IN4=GetSpellTargetUnit()
set IP4=C17
if IsUnitAlly(IN4,GetOwningPlayer(C17))then
call ForGroup(g,function zT)
else
call ForGroup(g,function zu)
endif
call L97(g)
set C17=null
set g=null
endfunction
function HGE takes nothing returns boolean
if GetSpellAbilityId()==1093685813 and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_STRUCTURE)==false or GetOwningPlayer(GetSpellTargetUnit())==GetOwningPlayer(GetTriggerUnit()))then
call zU()
endif
return false
endfunction
function SA8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SA8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HGE))
set t=null
endfunction
function HHE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer HIE=U97(US7,"Last")
set EZ7="HHE"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
if(UE7(US7,"SourceDone")==false and GetTriggerUnit()==T37(US7,"Source"))then
call TI7(US7,"SourceDone",true)
call SetHeroStr(T37(US7,"Source"),GetHeroStr(T37(US7,"Source"),false)-HIE,true)
elseif(UE7(US7,"TargetDone")==false and GetTriggerUnit()==T37(US7,"Target"))then
call TI7(US7,"TargetDone",true)
call SetHeroStr(T37(US7,"Target"),GetHeroStr(T37(US7,"Target"),false)+HIE,true)
endif
else
if(UE7(US7,"SourceDone")==false)then
call TI7(US7,"SourceDone",true)
call SetHeroStr(T37(US7,"Source"),GetHeroStr(T37(US7,"Source"),false)-HIE,true)
endif
if(UE7(US7,"TargetDone")==false)then
call TI7(US7,"TargetDone",true)
call SetHeroStr(T37(US7,"Target"),GetHeroStr(T37(US7,"Target"),false)+HIE,true)
endif
call T97(US7)
call UQ7(t)
endif
set t=null
return false
endfunction
function HJE takes nothing returns nothing
local unit p5=sZ
local unit m5=GetEnumUnit()
local integer HIE
local integer BY7=tZ
local trigger t
local integer US7
set EZ7="HJE"
if IsUnitType(m5,UNIT_TYPE_HERO)==true and JV8(GetUnitTypeId(m5))==false then
set HIE=IMinBJ(GetHeroStr(m5,false)-1,4)
set t=CreateTrigger()
set US7=GetHandleId(t)
call SetHeroStr(p5,GetHeroStr(p5,false)+HIE,true)
call SetHeroStr(m5,GetHeroStr(m5,false)-HIE,true)
call TriggerRegisterTimerEvent(t,20+5*BY7,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function HHE))
call TI7(US7,"SourceDone",false)
call TI7(US7,"TargetDone",false)
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TF7(US7,"Last",HIE)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",p5,"origin"))
endif
call HY8(p5,m5,ZG4,40*BY7-20)
set p5=null
set m5=null
set t=null
endfunction
function HKE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local group g=LD7()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(p5,1093743955)
local unit oA=CreateUnit(GetOwningPlayer(p5),1747990346,x,y,0)
set EZ7="HKE"
call DestroyEffect(AddSpecialEffect("effects\\DecayGreen_Groundonly_1.mdx",x,y))
call RemoveLocation(l)
set IN4=p5
set sZ=p5
set tZ=BY7
call GroupEnumUnitsInRange(g,x,y,325+25,Condition(function GK8))
call ForGroup(g,function HJE)
call L97(g)
call KillUnit(oA)
set p5=null
set l=null
set g=null
set t=null
set oA=null
endfunction
function HME takes nothing returns boolean
if GetSpellAbilityId()==1093743955 then
call HKE()
endif
return false
endfunction
function SY8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SY8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HME))
set t=null
endfunction
function HNE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer HB8=U97(US7,"TargetIndex")
local unit m5=A87(HB8)
local unit HOE=T37(US7,"Zombie")
local real WOD=GetUnitState(m5,UNIT_STATE_LIFE)
local real HPE=GetUnitState(m5,UNIT_STATE_MAX_LIFE)
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call A77(HB8)
call T97(US7)
call UQ7(t)
if GetTriggerUnit()==m5 then
call KillUnit(HOE)
endif
elseif D9==true then
call A77(HB8)
call T97(US7)
call UQ7(t)
call PauseUnit(HOE,true)
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER then
call DisableTrigger(t)
call IssueTargetOrder(HOE,"attack",m5)
call EnableTrigger(t)
elseif(WOD<(100*RV4)or WOD/HPE<(0.05*RV4))and GetUnitAbilityLevel(HOE,1110458702)==0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(HOE),1093744438,true)
call IssueTargetOrder(wZ[GetPlayerId(GetOwningPlayer(HOE))],"bloodlust",HOE)
call SetPlayerAbilityAvailable(GetOwningPlayer(HOE),1093744438,false)
elseif IsUnitVisible(m5,GetOwningPlayer(HOE))==false then
if(UE7(US7,"VisionBuffer1"))==true then
if(UE7(US7,"VisionBuffer2"))==true then
if(UE7(US7,"VisionBuffer3"))==true then
call T97(US7)
call UQ7(t)
call KillUnit(HOE)
else
call TI7(US7,"VisionBuffer3",true)
endif
else
call TI7(US7,"VisionBuffer2",true)
endif
else
call TI7(US7,"VisionBuffer1",true)
endif
else
call TI7(US7,"VisionBuffer1",false)
call TI7(US7,"VisionBuffer2",false)
call TI7(US7,"VisionBuffer3",false)
endif
set t=null
set m5=null
set HOE=null
return false
endfunction
function HQE takes nothing returns boolean
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit m5=GetEnumUnit()
local unit HOE=CreateUnit(TZ,1848657461,GetUnitX(m5),GetUnitY(m5),0)
set EZ7="HQE"
call IssueTargetOrder(HOE,"attack",m5)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,HOE,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,HOE,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,HOE,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,HOE,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function HNE))
call TF7(US7,"TargetIndex",AD7(m5))
call TJ7(US7,"Zombie",HOE)
call TF7(US7,"Level",RV4)
set t=null
set m5=null
set HOE=null
return false
endfunction
function HRE takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==1848657461 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 then
call KillUnit(GetFilterUnit())
endif
return false
endfunction
function HSE takes player p returns nothing
local group g=LD7()
set EZ7="lsv"
call GroupEnumUnitsOfPlayer(g,p,Condition(function HRE))
call L97(g)
set g=null
endfunction
function HTE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit HUE=T37(US7,"Acolyte1")
local unit HVE=T37(US7,"Acolyte2")
local unit HWE=T37(US7,"Acolyte3")
local integer BY7=U97(US7,"Level")
local group g
local player HXE
set EZ7="HTE"
if AG7(GetOwningPlayer(p5))then
set HXE=A7[0]
else
set HXE=Z7[0]
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH then
if(UE7(US7,"NeedsFix"))then
call EV8(HXE,.4,GetUnitX(p5),GetUnitY(p5),600)
endif
call T97(US7)
call UQ7(t)
call ShowUnit(p5,false)
call RemoveUnit(HUE)
call RemoveUnit(HVE)
call RemoveUnit(HWE)
call HSE(GetOwningPlayer(p5))
else
if IsUnitVisible(p5,HXE)then
call TI7(US7,"NeedsFix",true)
endif
set g=LD7()
set IN4=p5
set TZ=GetOwningPlayer(p5)
set RV4=BY7
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),25+200+200*BY7,Condition(function GR8))
if D9==false then
call ForGroup(g,function HQE)
endif
call L97(g)
set g=null
endif
set t=null
set p5=null
set HUE=null
set HVE=null
set HWE=null
set HXE=null
return false
endfunction
function HYE takes nothing returns nothing
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit p5
local real AU9
local real AV9
local real HZE
local unit HUE
local unit HVE
local unit HWE
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(GetTriggerUnit(),1093743958)
local integer id
set EZ7="HYE"
if BY7==1 then
set p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1848657482,x,y,0)
elseif BY7==2 then
set p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1848657481,x,y,0)
elseif BY7==3 then
set p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1848657462,x,y,0)
else
set p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1848657480,x,y,0)
endif
call ET8(AF4,x,y)
set id=GetPlayerId(GetOwningPlayer(p5))
if wZ[id]==null then
set wZ[id]=CreateUnit(GetOwningPlayer(p5),1697657174,x,y,0)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093744438,false)
call L67(wZ[id],1093744438)
endif
call SetUnitPosition(p5,DT8(x),DU8(y))
call UnitApplyTimedLife(p5,1112820806,10+5*BY7)
call RemoveLocation(l)
call ER8(x,y,300)
set AU9=x+200*Cos(0*bj_DEGTORAD)
set AV9=y+200*Sin(0*bj_DEGTORAD)
set HZE=Q87(AU9,AV9,x,y)
set HUE=CreateUnit(GetOwningPlayer(p5),1747990344,AU9,AV9,HZE)
call SetUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
call QueueUnitAnimation(HUE,"Stand Work Gold")
set AU9=x+200*Cos(120*bj_DEGTORAD)
set AV9=y+200*Sin(120*bj_DEGTORAD)
set HZE=Q87(AU9,AV9,x,y)
set HVE=CreateUnit(GetOwningPlayer(p5),1747990344,AU9,AV9,HZE)
call SetUnitAnimation(HVE,"Stand Work Gold")
call QueueUnitAnimation(HVE,"Stand Work Gold")
call QueueUnitAnimation(HVE,"Stand Work Gold")
call QueueUnitAnimation(HVE,"Stand Work Gold")
call QueueUnitAnimation(HVE,"Stand Work Gold")
call QueueUnitAnimation(HVE,"Stand Work Gold")
call QueueUnitAnimation(HVE,"Stand Work Gold")
call QueueUnitAnimation(HVE,"Stand Work Gold")
call QueueUnitAnimation(HVE,"Stand Work Gold")
call QueueUnitAnimation(HVE,"Stand Work Gold")
call QueueUnitAnimation(HVE,"Stand Work Gold")
call QueueUnitAnimation(HVE,"Stand Work Gold")
call QueueUnitAnimation(HVE,"Stand Work Gold")
call QueueUnitAnimation(HVE,"Stand Work Gold")
call QueueUnitAnimation(HVE,"Stand Work Gold")
call QueueUnitAnimation(HVE,"Stand Work Gold")
call QueueUnitAnimation(HVE,"Stand Work Gold")
set AU9=x+200*Cos(240*bj_DEGTORAD)
set AV9=y+200*Sin(240*bj_DEGTORAD)
set HZE=Q87(AU9,AV9,x,y)
set HWE=CreateUnit(GetOwningPlayer(p5),1747990344,AU9,AV9,HZE)
call SetUnitAnimation(HWE,"Stand Work Gold")
call QueueUnitAnimation(HWE,"Stand Work Gold")
call QueueUnitAnimation(HWE,"Stand Work Gold")
call QueueUnitAnimation(HWE,"Stand Work Gold")
call QueueUnitAnimation(HWE,"Stand Work Gold")
call QueueUnitAnimation(HWE,"Stand Work Gold")
call QueueUnitAnimation(HWE,"Stand Work Gold")
call QueueUnitAnimation(HWE,"Stand Work Gold")
call QueueUnitAnimation(HWE,"Stand Work Gold")
call QueueUnitAnimation(HWE,"Stand Work Gold")
call QueueUnitAnimation(HWE,"Stand Work Gold")
call QueueUnitAnimation(HWE,"Stand Work Gold")
call QueueUnitAnimation(HWE,"Stand Work Gold")
call QueueUnitAnimation(HWE,"Stand Work Gold")
call QueueUnitAnimation(HWE,"Stand Work Gold")
call QueueUnitAnimation(HWE,"Stand Work Gold")
call SetUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,3,true)
call TriggerAddCondition(t,Condition(function HTE))
call TJ7(US7,"Source",p5)
call TJ7(US7,"Acolyte1",HUE)
call TJ7(US7,"Acolyte2",HVE)
call TJ7(US7,"Acolyte3",HWE)
call TF7(US7,"Level",BY7)
call TI7(US7,"NeedsFix",false)
call TriggerEvaluate(t)
set p5=null
set HUE=null
set HVE=null
set HWE=null
set l=null
set t=null
endfunction
function HAE takes nothing returns boolean
if GetSpellAbilityId()==1093743958 then
call HYE()
endif
return false
endfunction
function SZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SZ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HAE))
set t=null
endfunction
function HBE takes unit MUD returns boolean
if SK7(MUD,ZU[FC4])!=null then
return true
endif
return false
endfunction
function HCE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local integer BY7=GetUnitAbilityLevel(p5,1093743946)
set EZ7="HCE"
call SetUnitAbilityLevel(p5,1093743947,BY7)
call T97(US7)
call UQ7(t)
set t=null
set p5=null
return false
endfunction
function H3E takes nothing returns nothing
if IsUnitType(IN4,UNIT_TYPE_HERO)==true then
if HBE(IP4)then
call SetUnitState(IP4,UNIT_STATE_LIFE,GetUnitState(IP4,UNIT_STATE_LIFE)+GetUnitState(IP4,UNIT_STATE_MAX_LIFE)*0.10)
else
call SetUnitState(IP4,UNIT_STATE_LIFE,GetUnitState(IP4,UNIT_STATE_LIFE)+GetUnitState(IP4,UNIT_STATE_MAX_LIFE)*0.06)
endif
else
if HBE(IP4)then
call SetUnitState(IP4,UNIT_STATE_LIFE,GetUnitState(IP4,UNIT_STATE_LIFE)+GetUnitState(IP4,UNIT_STATE_MAX_LIFE)*0.03)
else
call SetUnitState(IP4,UNIT_STATE_LIFE,GetUnitState(IP4,UNIT_STATE_LIFE)+GetUnitState(IP4,UNIT_STATE_MAX_LIFE)*0.02)
endif
endif
endfunction
function H6E takes nothing returns boolean
local trigger t2=GetTriggeringTrigger()
local integer BA9=GetHandleId(t2)
local trigger t1=T07(BA9,"t1")
local integer QJD=GetHandleId(t1)
local unit p5=T37(BA9,"Source")
local unit m5
local real d
local real a
local boolean HLE=UE7(BA9,"IgnorePlague")
set EZ7="H6E"
if(GetTriggerEventId()==EVENT_UNIT_DEATH and GetTriggerUnit()==p5)or(GetTriggerEventId()!=EVENT_UNIT_DAMAGED and GetTriggerEventId()!=EVENT_UNIT_DEATH)then
call T97(QJD)
call T97(BA9)
call UQ7(t1)
call UQ7(t2)
elseif GetTriggerEventId()==EVENT_UNIT_DEATH then
if IsUnitIllusion(GetDyingUnit())==false then
call E68(GetDyingUnit(),p5,1747990361,"H3E",600)
endif
elseif HLE==false then
set m5=GetTriggerUnit()
set d=Q17(p5,m5)
if d<775 and GetEventDamage()>4 then
if HBE(p5)then
set a=20+5*WZ
else
set a=15+5*WZ
endif
if d>200 then
set a=a-15*((d-150)/(775-150))
endif
call TI7(BA9,"IgnorePlague",true)
call HY8(GetEventDamageSource(),GetTriggerUnit(),ZI4,GetEventDamage()*a/ 100)
call TI7(BA9,"IgnorePlague",false)
endif
endif
set t2=null
set t1=null
set p5=null
set m5=null
return false
endfunction
function H1E takes nothing returns boolean
local trigger t1=GetTriggeringTrigger()
local integer QJD=GetHandleId(t1)
local trigger t2=T07(QJD,"t2")
local integer BA9=GetHandleId(t2)
local unit m5=GetTriggerUnit()
local unit p5=T37(QJD,"Source")
set EZ7="H1E"
if IsUnitEnemy(p5,GetOwningPlayer(m5))==true and IsUnitType(m5,UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(m5,1093678162)==0 then
if UE7(BA9,"Registered"+I2S(GetHandleId(m5)))==false then
call TriggerRegisterUnitEvent(t2,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t2,m5,EVENT_UNIT_DEATH)
call TI7(BA9,"Registered"+I2S(GetHandleId(m5)),true)
endif
endif
set t1=null
set t2=null
set m5=null
set p5=null
return false
endfunction
function H0E takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t1=CreateTrigger()
local integer QJD=GetHandleId(t1)
local trigger t2=CreateTrigger()
local integer BA9=GetHandleId(t2)
local trigger t3=CreateTrigger()
local integer H5E=GetHandleId(t3)
local integer BY7=GetUnitAbilityLevel(p5,1093743946)
set EZ7="H0E"
set WZ=BY7
call TriggerRegisterUnitInRange(t1,p5,750,Condition(function A47))
call TriggerAddCondition(t1,Condition(function H1E))
call TM7(QJD,"t2",t2)
call TJ7(QJD,"Source",p5)
call TriggerRegisterTimerEvent(t2,30,false)
call TriggerRegisterUnitEvent(t2,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t2,Condition(function H6E))
call TM7(BA9,"t1",t1)
call TJ7(BA9,"Source",p5)
call TI7(BA9,"IgnorePlague",false)
call TriggerRegisterTimerEvent(t3,0.01,false)
call TriggerAddCondition(t3,Condition(function HCE))
call TJ7(H5E,"Source",p5)
set p5=null
set t1=null
set t2=null
set t3=null
endfunction
function H2E takes nothing returns boolean
if GetSpellAbilityId()==1093743946 and GetUnitTypeId(GetTriggerUnit())==1211117650 then
call H0E()
endif
return false
endfunction
function SB8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SB8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function H2E))
call DX8(1093743947)
set t=null
endfunction
function H_E takes nothing returns nothing
local unit PU7=GetEnumUnit()
local unit FJ8=RX4
local real I4E=GetUnitState(PU7,UNIT_STATE_LIFE)
local real I7E=GetUnitState(PU7,UNIT_STATE_MAX_LIFE)
local real I8E=((0.003+0.003*RY4)*I7E)/2
set EZ7="H_E"
if I4E<I8E then
call SetUnitState(PU7,UNIT_STATE_LIFE,1)
call HY8(FJ8,PU7,ZI4,100)
call HY8(FJ8,PU7,ZG4,100)
call HY8(FJ8,PU7,ZH4,100)
else
call SetUnitState(PU7,UNIT_STATE_LIFE,D28(GetUnitState(PU7,UNIT_STATE_LIFE)-I8E,1))
endif
set PU7=null
set FJ8=null
endfunction
function I9E takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),1110456372)>0
endfunction
function IDE takes nothing returns boolean
local integer US7=GetHandleId(GetTriggeringTrigger())
local unit p5=T37(US7,"Source")
local group g
set EZ7="IDE"
if L17(p5)==false then
set g=LD7()
set IN4=p5
set RX4=p5
set RY4=GetUnitAbilityLevel(p5,1093677390)
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),1025,Condition(function I9E))
call ForGroup(g,function H_E)
call L97(g)
endif
set g=null
set p5=null
return false
endfunction
function IEE takes unit C17,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
set EZ7="ljv"
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function IDE))
call TJ7(GetHandleId(t),"Source",C17)
if BZ9 then
set aj[GetPlayerId(GetOwningPlayer(C17))]=t
endif
set t=null
endfunction
function IFE takes nothing returns boolean
if GetLearnedSkill()==1093677390 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093677390)==1 then
call IEE(GetTriggerUnit(),false)
endif
return false
endfunction
function P38 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="P38"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function IFE))
set t=null
endfunction
function IGE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093678640)
local real IHE=2*HW8
local real IIE=HW8
local integer C59=(LoadInteger(L7,(PP7),(34)))
if HW8==4 then
set IHE=10
endif
set IIE=IIE*C59
set IHE=IHE*C59
call SetUnitState(FJ8,UNIT_STATE_MANA,GetUnitState(FJ8,UNIT_STATE_MANA)+IHE)
call SetUnitState(FJ8,UNIT_STATE_LIFE,GetUnitState(FJ8,UNIT_STATE_LIFE)+IIE)
if GetTriggerEvalCount(t)>5 or GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
return false
endfunction
function IJE takes nothing returns nothing
local unit FJ8=GetKillingUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093678640)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",FJ8,"origin"))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerAddCondition(t,Condition(function IGE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
call SaveInteger(L7,(PP7),(34),(10))
else
call SaveInteger(L7,(PP7),(34),(1))
endif
set FJ8=null
set t=null
endfunction
function IKE takes nothing returns boolean
if GetUnitAbilityLevel(GetKillingUnit(),1110454866)>0 then
call IJE()
endif
return false
endfunction
function PA8 takes nothing returns nothing
set Dk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Dk,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(Dk,Condition(function IKE))
endfunction
function IME takes nothing returns nothing
local integer PP7=GetHandleId(GetTriggeringTrigger())
local unit FJ8=IN4
local unit PU7=IP4
local real CV9=UD7(PP7,"Damage")
local real OXD=UD7(PP7,"Heal")
set EZ7="IME"
if IsUnitAlly(PU7,GetOwningPlayer(FJ8))then
call SetUnitState(PU7,UNIT_STATE_LIFE,GetUnitState(PU7,UNIT_STATE_LIFE)+OXD)
else
call HY8(FJ8,PU7,ZG4,CV9)
endif
set FJ8=null
set PU7=null
endfunction
function INE takes nothing returns nothing
local trigger t=E68(IN4,GetEnumUnit(),1747988567,"IME",400)
local integer US7=GetHandleId(t)
set EZ7="INE"
call TG7(US7,"Damage",IJ4)
call TG7(US7,"Heal",IK4)
set t=null
endfunction
function IOE takes nothing returns nothing
if IsUnitVisible(GetEnumUnit(),GetOwningPlayer(IN4))then
call INE()
endif
endfunction
function IPE takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local group g=LD7()
local integer HW8=GetUnitAbilityLevel(LI7,PS4)
local real r
local real CV9
local real OXD
set EZ7="IPE"
if HW8==1 then
set CV9=75
set OXD=70
set r=500
elseif HW8==2 then
set CV9=125
set OXD=90
set r=500
elseif HW8==3 then
set CV9=200
set OXD=110
set r=500
elseif HW8==4 then
set CV9=275
set OXD=130
set r=500
endif
set IN4=LI7
set IJ4=CV9
set IK4=OXD
call GroupEnumUnitsInRange(g,GetUnitX(LI7),GetUnitY(LI7),r,Condition(function G18))
call GroupRemoveUnit(g,LI7)
call ForGroup(g,function IOE)
call L97(g)
call SetUnitState(LI7,UNIT_STATE_LIFE,GetUnitState(LI7,UNIT_STATE_LIFE)+OXD)
set LI7=null
set g=null
endfunction
function IQE takes nothing returns boolean
if GetSpellAbilityId()==PS4 then
call IPE()
endif
return false
endfunction
function PB8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PB8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IQE))
set t=null
endfunction
function IRE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local real C59=(LoadReal(L7,(PP7),(680)))
local integer ISE=GetUnitAbilityLevel(FJ8,1093679184)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",PU7,"origin"))
if ISE>0 then
set IA7=true
call HY8(FJ8,PU7,ZG4,C59*(GetUnitState(PU7,UNIT_STATE_MAX_LIFE)-GetUnitState(PU7,UNIT_STATE_LIFE)))
set IA7=false
else
call HY8(FJ8,PU7,ZG4,C59*(GetUnitState(PU7,UNIT_STATE_MAX_LIFE)-GetUnitState(PU7,UNIT_STATE_LIFE)))
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function ITE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer IUE=GetUnitAbilityLevel(FJ8,1093678647)
local integer IVE=GetUnitAbilityLevel(FJ8,1093679184)
local real C59
set EZ7="ITE"
if IUE==1 then
set C59=0.4
elseif IUE==2 or IVE==1 then
set C59=0.6
elseif IUE==3 or IVE==2 then
set C59=0.9
elseif IVE==3 then
set C59=1.2
endif
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveReal(L7,(PP7),(680),((C59)*1.0))
call TriggerRegisterTimerEvent(t,1.5,false)
call TriggerAddCondition(t,Condition(function IRE))
set t=null
set FJ8=null
set PU7=null
endfunction
function IWE takes nothing returns boolean
if(GetSpellAbilityId()==1093678647 or GetSpellAbilityId()==1093679184)and L87(GetSpellTargetUnit())==false then
call ITE()
endif
return false
endfunction
function PC8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PC8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IWE))
set t=null
endfunction
function IXE takes nothing returns boolean
return GetSpellAbilityId()==1093682521 or GetSpellAbilityId()==1093682760 or GetSpellAbilityId()==1093682736
endfunction
function IYE takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)!=1
endfunction
function IZE takes nothing returns nothing
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),75*GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId()),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEATH,WEAPON_TYPE_WHOKNOWS)
endfunction
function IAE takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local unit HV8
local group CZ9=LD7()
local boolexpr RKD=Condition(function IYE)
local real LV7=GetUnitFacing(LI7)
local real x
local real y
set EZ7="IAE"
if GetSpellAbilityId()==1093682521 then
set x=GetUnitX(LI7)+200*Cos(LV7*bj_DEGTORAD)
set y=GetUnitY(LI7)+200*Sin(LV7*bj_DEGTORAD)
set HV8=CreateUnit(GetOwningPlayer(LI7),1697656886,x,y,0)
call UnitApplyTimedLife(HV8,1112820806,2.)
call GroupEnumUnitsInRange(CZ9,x,y,275.,RKD)
call ForGroup(CZ9,function IZE)
call GroupClear(CZ9)
elseif GetSpellAbilityId()==1093682760 then
set x=GetUnitX(LI7)+450*Cos(LV7*bj_DEGTORAD)
set y=GetUnitY(LI7)+450*Sin(LV7*bj_DEGTORAD)
set HV8=CreateUnit(GetOwningPlayer(LI7),1697656886,x,y,0)
call UnitApplyTimedLife(HV8,1112820806,2.)
call GroupEnumUnitsInRange(CZ9,x,y,275.,RKD)
call ForGroup(CZ9,function IZE)
call GroupClear(CZ9)
elseif GetSpellAbilityId()==1093682736 then
set x=GetUnitX(LI7)+700*Cos(LV7*bj_DEGTORAD)
set y=GetUnitY(LI7)+700*Sin(LV7*bj_DEGTORAD)
set HV8=CreateUnit(GetOwningPlayer(LI7),1697656886,x,y,0)
call UnitApplyTimedLife(HV8,1112820806,2.)
call GroupEnumUnitsInRange(CZ9,x,y,275.,RKD)
call ForGroup(CZ9,function IZE)
call GroupClear(CZ9)
endif
call L97(CZ9)
call DestroyBoolExpr(RKD)
set LI7=null
set HV8=null
set CZ9=null
set RKD=null
endfunction
function PL8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PL8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(t,function IAE)
call TriggerAddCondition(t,Condition(function IXE))
set t=null
endfunction
function IBE takes nothing returns nothing
if(GetLearnedSkill()==1093682521)then
if(GetUnitAbilityLevelSwapped(1093682521,GetTriggerUnit())==1)then
call UnitAddAbility(GetTriggerUnit(),1093682736)
call UnitAddAbility(GetTriggerUnit(),1093682760)
else
call SetUnitAbilityLevelSwapped(1093682736,GetTriggerUnit(),GetUnitAbilityLevelSwapped(1093682521,GetTriggerUnit()))
call SetUnitAbilityLevelSwapped(1093682760,GetTriggerUnit(),GetUnitAbilityLevelSwapped(1093682521,GetTriggerUnit()))
endif
endif
if(GetLearnedSkill()==1093681746)then
if(GetUnitAbilityLevelSwapped(1093681746,GetTriggerUnit())==1)then
call UnitAddAbility(GetTriggerUnit(),1093682001)
endif
endif
endfunction
function RM takes nothing returns nothing
set DK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DK,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(DK,function IBE)
endfunction
function ICE takes nothing returns boolean
return GetSpellAbilityId()==1093810506 or GetSpellAbilityId()==1093750096
endfunction
function I3E takes unit C17,integer I6E returns nothing
local integer ILE=I6E
local integer Zd
local integer U8
local location Mk=GetUnitLoc(GetTriggerUnit())
local location sA
local integer BY7=GetUnitAbilityLevelSwapped(1093810506,GetTriggerUnit())
if BY7==0 then
return
endif
set ILE=ILE/2
set Zd=1
set U8=ILE
loop
exitwhen Zd>U8
set sA=RI7(Mk,50.,(I2R(Zd)*(360/ILE)))
call CreateNUnitsAtLoc(1,1697656899,GetOwningPlayer(C17),Mk,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,1093683271)
call SetUnitAbilityLevelSwapped(1093683271,bj_lastCreatedUnit,BY7)
call UnitApplyTimedLifeBJ(2.,1112820806,bj_lastCreatedUnit)
call IssuePointOrderLoc(bj_lastCreatedUnit,"carrionswarm",sA)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitInvulnerable(bj_lastCreatedUnit,true)
call UnitAddAbility(bj_lastCreatedUnit,1097625443)
call RemoveLocation(sA)
set Zd=Zd+1
endloop
call RemoveLocation(Mk)
set Mk=null
set C17=null
set sA=null
endfunction
function I1E takes nothing returns nothing
local integer ILE=(LoadInteger(L7,(GetHandleId(GetTriggerUnit())),(710)))
local unit Z49=GetTriggerUnit()
call I3E(Z49,ILE)
set Z49=null
endfunction
function P18 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ICE))
call TriggerAddAction(t,function I1E)
set t=null
endfunction
function I0E takes nothing returns nothing
local integer PP7=GetHandleId(GetTriggeringTrigger())
local unit FJ8=IP4
local unit PU7=IN4
local integer ILE=GetUnitAbilityLevel(FJ8,1093682001)
local integer I5E
local integer HW8=GetUnitAbilityLevel(FJ8,1093681746)
set EZ7="I0E"
if HW8==1 then
set I5E=12
elseif HW8==2 then
set I5E=20
elseif HW8==3 then
set I5E=28
else
set I5E=36
endif
set I5E=I5E+1
if IsUnitType(PU7,UNIT_TYPE_HERO)==false then
set ILE=ILE+1
else
set ILE=ILE+12
endif
set ILE=IMinBJ(I5E,ILE)
call SetUnitAbilityLevel(FJ8,1093682001,ILE)
call SaveInteger(L7,(GetHandleId(FJ8)),(710),(ILE))
set FJ8=null
endfunction
function I2E takes nothing returns nothing
local integer ILE
local integer HW8
local integer I5E
local trigger t
local integer PP7
local unit FJ8=GetKillingUnit()
set EZ7="I2E"
if GetUnitTypeId(FJ8)==1697656899 then
set FJ8=M7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]
endif
set ILE=GetUnitAbilityLevel(FJ8,1093682001)
set HW8=GetUnitAbilityLevel(FJ8,1093681746)
if HW8==1 then
set I5E=12
elseif HW8==2 then
set I5E=20
elseif HW8==3 then
set I5E=28
else
set I5E=36
endif
if ILE<=I5E then
set t=E68(GetTriggerUnit(),FJ8,1747993426,"I0E",500)
set PP7=GetHandleId(t)
set t=null
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\ZigguratMissile\\ZigguratMissile.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
endif
set FJ8=null
endfunction
function I_E takes nothing returns nothing
local integer J4E=(LoadInteger(L7,(GetHandleId(GetTriggerUnit())),(710)))
call SaveInteger(L7,(GetHandleId(GetTriggerUnit())),(710),(R2I(GetUnitAbilityLevel(GetTriggerUnit(),1093682001)*0.5)+1))
call SetUnitAbilityLevel(GetTriggerUnit(),1093682001,R2I(GetUnitAbilityLevel(GetTriggerUnit(),1093682001)*.5)+1)
call I3E(GetTriggerUnit(),J4E-(LoadInteger(L7,(GetHandleId(GetTriggerUnit())),(710))))
endfunction
function J7E takes nothing returns boolean
if GetUnitAbilityLevel(GetKillingUnit(),1093681746)>0 and IsUnitIllusion(GetTriggerUnit())==false then
call I2E()
elseif GetUnitAbilityLevel(M7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))],1093681746)>0 and GetUnitTypeId(GetKillingUnit())==1697656899 then
call I2E()
endif
if GetUnitAbilityLevel(GetTriggerUnit(),1093681746)>0 and IsUnitIllusion(GetTriggerUnit())==false then
call I_E()
endif
return false
endfunction
function J8E takes nothing returns boolean
local unit LI7=M7[GetPlayerId(GetTriggerPlayer())]
local integer J9E=GetUnitAbilityLevel(LI7,1093682001)-1
local integer JDE=0
local integer HW8=GetUnitAbilityLevel(LI7,1093681746)
set EZ7="J8E"
if HW8==1 then
set JDE=12
elseif HW8==2 then
set JDE=20
elseif HW8==3 then
set JDE=28
elseif HW8==4 then
set JDE=36
endif
set J9E=IMaxBJ(IMinBJ(J9E,JDE),0)
if GetUnitTypeId(LI7)==1315334514 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetObjectName(1848658757)+" "+I2S(J9E)+"/"+I2S(JDE))
endif
set LI7=null
return false
endfunction
function P68 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="P68"
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function J7E))
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function J8E))
set t=null
endfunction
function JEE takes nothing returns boolean
if(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true)then
return false
endif
if(GetUnitAbilityLevelSwapped(1093678162,GetFilterUnit())==1)then
return false
endif
if(IsUnitAliveBJ(GetFilterUnit())==false)then
return false
endif
if(GetUnitTypeId(GetFilterUnit())==1865429043)then
return false
endif
if(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())==false)then
return false
endif
if(GetTriggerUnit()==GetFilterUnit())then
return false
endif
if(IsUnitVisible(GetFilterUnit(),GetTriggerPlayer())==false)then
return false
endif
return true
endfunction
function JFE takes nothing returns nothing
local unit C17=GetTriggerUnit()
local location Mk=GetUnitLoc(C17)
local integer BY7=GetUnitAbilityLevelSwapped(1093810506,GetTriggerUnit())
if BY7==0 then
set BY7=GetUnitAbilityLevelSwapped(1093750096,GetTriggerUnit())
endif
call CreateNUnitsAtLoc(1,1697656899,GetOwningPlayer(GetEnumUnit()),Mk,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,1093683272)
call SetUnitAbilityLevelSwapped(1093683272,bj_lastCreatedUnit,BY7)
call UnitApplyTimedLifeBJ(2.,1112820806,bj_lastCreatedUnit)
call IssueTargetOrder(bj_lastCreatedUnit,"cripple",GetEnumUnit())
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitInvulnerable(bj_lastCreatedUnit,true)
call UnitAddAbility(bj_lastCreatedUnit,1097625443)
call RemoveLocation(Mk)
set Mk=null
set C17=null
endfunction
function JGE takes nothing returns nothing
local unit C17=GetTriggerUnit()
local location Mk=GetUnitLoc(C17)
local integer BY7=GetUnitAbilityLevelSwapped(1093810506,GetTriggerUnit())
if BY7==0 then
set BY7=GetUnitAbilityLevelSwapped(1093750096,GetTriggerUnit())
endif
call CreateNUnitsAtLoc(1,1697656899,GetOwningPlayer(GetEnumUnit()),Mk,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,1093683272)
call SetUnitAbilityLevelSwapped(1093683272,bj_lastCreatedUnit,BY7)
call UnitApplyTimedLifeBJ(2.,1112820806,bj_lastCreatedUnit)
call IssueTargetOrder(bj_lastCreatedUnit,"cripple",GetEnumUnit())
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitInvulnerable(bj_lastCreatedUnit,true)
call UnitAddAbility(bj_lastCreatedUnit,1097625443)
call RemoveLocation(Mk)
set Mk=null
set C17=null
endfunction
function JHE takes nothing returns nothing
local unit C17=GetTriggerUnit()
local location Mk=GetUnitLoc(C17)
local integer BY7=GetUnitAbilityLevelSwapped(1093810506,GetTriggerUnit())
if BY7==0 then
set BY7=GetUnitAbilityLevelSwapped(1093750096,GetTriggerUnit())
endif
call CreateNUnitsAtLoc(1,1697656899,GetOwningPlayer(GetEnumUnit()),Mk,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,1093683272)
call SetUnitAbilityLevelSwapped(1093683272,bj_lastCreatedUnit,BY7)
call UnitApplyTimedLifeBJ(2.,1112820806,bj_lastCreatedUnit)
call IssueTargetOrder(bj_lastCreatedUnit,"cripple",GetEnumUnit())
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitInvulnerable(bj_lastCreatedUnit,true)
call UnitAddAbility(bj_lastCreatedUnit,1097625443)
call RemoveLocation(Mk)
set Mk=null
set C17=null
endfunction
function JIE takes nothing returns nothing
local location Mk=GetUnitLoc(GetTriggerUnit())
local unit C17=GetTriggerUnit()
local group JJ8
set JJ8=LD7()
call GroupEnumUnitsInRangeOfLoc(JJ8,Mk,700,Condition(function JEE))
call ForGroup(JJ8,function JFE)
call L97(JJ8)
set JJ8=LD7()
call GroupEnumUnitsInRangeOfLoc(JJ8,Mk,400,Condition(function JEE))
call ForGroup(JJ8,function JGE)
call L97(JJ8)
set JJ8=LD7()
call GroupEnumUnitsInRangeOfLoc(JJ8,Mk,200,Condition(function JEE))
call ForGroup(JJ8,function JHE)
call L97(JJ8)
call RemoveLocation(Mk)
set Mk=null
set C17=null
set JJ8=null
endfunction
function P08 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ICE))
call TriggerAddAction(t,function JIE)
set t=null
endfunction
function JJE takes nothing returns boolean
return GetSpellAbilityId()==1093677640
endfunction
function JKE takes nothing returns nothing
local unit oA
set EZ7="JKE"
if(DR8()==false)then
set oA=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),bj_UNIT_FACING)
call L67(oA,1093677650)
call IssueTargetOrderById(oA,852075,GetSpellTargetUnit())
else
set oA=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),bj_UNIT_FACING)
call L67(oA,1093748785)
call IssueTargetOrderById(oA,852075,GetSpellTargetUnit())
endif
set oA=null
endfunction
function P28 takes nothing returns nothing
set Dm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Dm,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Dm,Condition(function JJE))
call TriggerAddAction(Dm,function JKE)
endfunction
function JME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CT7=GetHandleId(t)
local unit F3D=(LoadUnitHandle(L7,(CT7),(2)))
local unit JNE=(LoadUnitHandle(L7,(CT7),(19)))
set EZ7="JME"
call ResetUnitAnimation(F3D)
call RemoveUnit(JNE)
call FlushChildHashtable(L7,(CT7))
call UQ7(t)
set F3D=null
set JNE=null
set t=null
return false
endfunction
function JOE takes nothing returns nothing
local unit F3D=GetTriggerUnit()
local unit JNE=CreateUnit(GetOwningPlayer(F3D),1966092617,GetUnitX(F3D),GetUnitY(F3D),GetUnitFacing(F3D))
local trigger t=CreateTrigger()
local integer CT7=GetHandleId(t)
set EZ7="JOE"
call TriggerRegisterUnitEvent(t,F3D,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function JME))
call SaveUnitHandle(L7,(CT7),(2),(F3D))
call SaveUnitHandle(L7,(CT7),(19),(JNE))
call SetUnitVertexColorBJ(JNE,0,0,0,75)
call SetUnitAnimation(JNE,"spell third")
set F3D=null
set JNE=null
set t=null
endfunction
function JPE takes nothing returns boolean
if GetSpellAbilityId()==1093679171 and GetUnitAbilityLevel(GetTriggerUnit(),1093679171)<5 then
call JOE()
endif
return false
endfunction
function P_8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="P_8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function JPE))
set t=null
endfunction
function JQE takes nothing returns boolean
local integer PP7=GetHandleId(GetTriggeringTrigger())
local unit JRE=T37(PP7,"NightStalker")
local unit JSE=T37(PP7,"VisionUnit")
set EZ7="JQE"
if JRE==null or L17(JRE)or DR8()or(SK7(JRE,ZU[GE4])==null and SK7(JRE,ZU[GX4])==null)then
call ShowUnit(JSE,false)
else
call ShowUnit(JSE,true)
call SetUnitX(JSE,GetUnitX(JRE))
call SetUnitY(JSE,GetUnitY(JRE))
endif
if GetOwningPlayer(JSE)!=GetOwningPlayer(JRE)then
call SetUnitOwner(JSE,GetOwningPlayer(JRE),true)
endif
set JRE=null
set JSE=null
return false
endfunction
function JTE takes nothing returns nothing
local integer US7=GetHandleId(GetTriggeringTrigger())
local unit JRE=T37(US7,"NightStalker")
set EZ7="JTE"
if JRE!=null and DR8()and L17(JRE)==false then
call UnitRemoveAbility(JRE,1093742902)
call UnitRemoveAbility(JRE,1093742903)
call SetUnitAbilityLevel(JRE,1395667009,5)
call SetUnitAbilityLevel(JRE,1093679171,5)
elseif JRE!=null and DR8()==false and L17(JRE)==false then
call L67(JRE,1093742902)
call L67(JRE,1093742903)
call SetUnitAbilityLevel(JRE,1395667009,GetUnitAbilityLevel(JRE,1093679158))
call SetUnitAbilityLevel(JRE,1093679171,GetUnitAbilityLevel(JRE,1093679173))
endif
set JRE=null
endfunction
function JUE takes unit JRE,boolean BZ9,integer JVE returns nothing
local integer PP7=GetHandleId(JRE)
local trigger t
set EZ7="LNv"
if UE7(PP7,"NightStalkerAlreadyLearned")==false or BZ9 then
call TI7(PP7,"NightStalkerAlreadyLearned",true)
set t=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(t,2.00)
call TriggerRegisterGameStateEventTimeOfDay(t,LESS_THAN,6.00)
call TriggerRegisterGameStateEventTimeOfDay(t,GREATER_THAN,18.00)
call TriggerAddAction(t,function JTE)
call TJ7(GetHandleId(t),"NightStalker",JRE)
if BZ9 then
if JVE==1093679173 then
set aj[GetPlayerId(GetOwningPlayer(JRE))]=t
elseif JVE==1093679158 then
set nj[GetPlayerId(GetOwningPlayer(JRE))]=t
endif
endif
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function JQE))
call TJ7(PP7,"NightStalker",JRE)
call TJ7(PP7,"VisionUnit",CreateUnit(GetOwningPlayer(JRE),1865429313,GetUnitX(JRE),GetUnitY(JRE),0))
if BZ9 then
if JVE==1093679173 then
set Rj[GetPlayerId(GetOwningPlayer(JRE))]=t
elseif JVE==1093679158 then
set Aj[GetPlayerId(GetOwningPlayer(JRE))]=t
endif
endif
endif
if(JVE==1093679158)then
call L67(JRE,1395667009)
if(DR8())then
call SetUnitAbilityLevel(JRE,1395667009,5)
else
call SetUnitAbilityLevel(JRE,1395667009,GetUnitAbilityLevel(JRE,1093679158))
endif
endif
if(JVE==1093679173)then
call UnitAddAbility(JRE,1093679171)
if(DR8())then
call SetUnitAbilityLevel(JRE,1093679171,5)
else
call SetUnitAbilityLevel(JRE,1093679171,GetUnitAbilityLevel(JRE,1093679173))
endif
endif
set t=null
endfunction
function JWE takes nothing returns boolean
if(GetLearnedSkill()==1093679158 or GetLearnedSkill()==1093679173)and IsUnitIllusion(GetTriggerUnit())==false then
call JUE(GetTriggerUnit(),false,GetLearnedSkill())
endif
return false
endfunction
function P58 takes nothing returns nothing
set NJ=CreateTrigger()
call EO8(NJ,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(NJ,Condition(function JWE))
endfunction
function JXE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local integer HB8=U97(US7,"TargetIndex")
local unit m5=A87(HB8)
set EZ7="JXE"
call UnitRemoveAbility(p5,1093747535)
call T97(US7)
call UQ7(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function JYE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BY7=GetUnitAbilityLevel(p5,1093685324)
local trigger t
local integer US7
call DestroyEffect(AddSpecialEffect("war3mapImported\\PhantomStrike.mdx",GetUnitX(p5),GetUnitY(p5)))
set EZ7="JYE"
call SetUnitX(p5,GetUnitX(m5))
call SetUnitY(p5,GetUnitY(m5))
if IsUnitAlly(p5,GetOwningPlayer(m5))==false then
set t=CreateTrigger()
set US7=GetHandleId(t)
call L67(p5,1093747535)
call TF7(GetHandleId(p5),"Count",0)
call TJ7(GetHandleId(p5),"Target",m5)
call IssueTargetOrder(p5,"attack",m5)
if(GetPlayerController(GetOwningPlayer(p5))!=MAP_CONTROL_USER)then
call QA7(0.01)
call IssueTargetOrder(p5,"attack",m5)
endif
call TriggerRegisterTimerEvent(t,3,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function JXE))
call TJ7(US7,"Source",p5)
call TF7(US7,"TargetIndex",AD7(m5))
endif
set p5=null
set m5=null
set t=null
endfunction
function JZE takes nothing returns boolean
if GetSpellAbilityId()==1093685324 then
call JYE()
endif
return false
endfunction
function JAE takes unit p5 returns nothing
local integer US7=GetHandleId(p5)
local unit m5=T37(US7,"Target")
local integer ZU9=U97(US7,"Count")
set EZ7="LJv"
if GetTriggerUnit()!=m5 or ZU9>=4 then
call UnitRemoveAbility(p5,1093747535)
call T97(US7)
else
set ZU9=ZU9+1
call TF7(US7,"Count",ZU9)
endif
set m5=null
endfunction
function JBE takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093747535)>0 then
call JAE(GetAttacker())
endif
return false
endfunction
function Q88 takes nothing returns nothing
local trigger t=CreateTrigger()
local trigger t2=CreateTrigger()
set EZ7="Q88"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JZE))
call EO8(t2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t2,Condition(function JBE))
set t=null
set t2=null
endfunction
function JCE takes unit FJ8,boolean J3E returns nothing
local integer HW8=GetUnitAbilityLevel(FJ8,1093677904)
set EZ7="Blur_UpdateIcon"
if J3E==false then
call UnitRemoveAbility(FJ8,1093743430)
call UnitRemoveAbility(FJ8,1110458674)
else
call L67(FJ8,1093743430)
endif
endfunction
function J6E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local group g
local integer L48=(LoadInteger(L7,(PP7),(34)))
local boolean JLE=(LoadBoolean(L7,(PP7),(674)))
set EZ7="J6E"
set L48=L48+1
call SaveInteger(L7,(PP7),(34),(L48))
if FJ8!=null and L17(FJ8)==false and GetUnitAbilityLevel(FJ8,1093677904)>0 then
set IN4=FJ8
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),1625,Condition(function GG8))
if FirstOfGroup(g)==null then
if JLE==true and L48>15 then
set JLE=false
call SaveBoolean(L7,(PP7),(674),(JLE))
set L48=0
call SaveInteger(L7,(PP7),(34),(L48))
endif
if JLE==false then
set L48=0
call SaveInteger(L7,(PP7),(34),(L48))
call SaveInteger(L7,(GetHandleId((FJ8))),((4302)),(2))
call JCE(FJ8,false)
call SetUnitVertexColorBJ(FJ8,100,100,100,0)
if GetUnitAbilityLevel(FJ8,1093808211)==0 then
call UnitSetUsesAltIcon(FJ8,false)
endif
endif
else
if JLE==false and L48>15 then
set JLE=true
set L48=0
call SaveBoolean(L7,(PP7),(674),(JLE))
call SaveInteger(L7,(PP7),(34),(L48))
endif
if JLE==true then
set L48=0
call SaveInteger(L7,(PP7),(34),(L48))
call SaveInteger(L7,(GetHandleId((FJ8))),((4302)),(1))
call JCE(FJ8,true)
call SetUnitVertexColorBJ(FJ8,100,100,100,75)
if IsPlayerEnemy(GetOwningPlayer(FJ8),GetLocalPlayer())==true and C67(GetLocalPlayer())==false then
call UnitSetUsesAltIcon(FJ8,true)
else
call UnitSetUsesAltIcon(FJ8,false)
endif
endif
endif
call L97(g)
set g=null
endif
set t=null
set FJ8=null
return false
endfunction
function J1E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
set EZ7="J1E"
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function J6E))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveInteger(L7,(PP7),(34),(0))
call SaveBoolean(L7,(PP7),(674),(false))
set t=null
set FJ8=null
endfunction
function J0E takes nothing returns boolean
if GetLearnedSkill()==1093677904 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093677904)==1 then
call J1E()
endif
return false
endfunction
function Q48 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="Q48"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function J0E))
set t=null
endfunction
function J5E takes nothing returns nothing
local unit HV8
set EZ7="J5E"
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
call GroupAddUnit(IQ4,GetEnumUnit())
set HV8=CreateUnit(GetOwningPlayer(GetEnumUnit()),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call L67(HV8,1093685833)
call SetUnitAbilityLevel(HV8,1093685833,GetUnitAbilityLevel(A64,1093685825))
call IssueTargetOrder(HV8,"ensnare",GetEnumUnit())
call HY8(A64,GetEnumUnit(),ZG4,100)
endif
set HV8=null
endfunction
function J2E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer i
local group g=T57(US7,"g")
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
local group J_E=LD7()
local unit Z49=T37(US7,"UnitVar")
set EZ7="J2E"
set IN4=Z49
set A64=Z49
call GroupEnumUnitsInRange(J_E,x,y,300,Condition(function G78))
set IQ4=g
call ForGroup(J_E,function J5E)
call L97(J_E)
if GetTriggerEvalCount(t)>AC4*10 then
set i=1
loop
exitwhen i>16
call DestroyEffect(T27(US7,"Effect"+I2S(i)))
set i=i+1
endloop
call L97(g)
call T97(US7)
call UQ7(t)
endif
set t=null
set g=null
set J_E=null
set Z49=null
return false
endfunction
function K4E takes nothing returns nothing
local integer i=1
local location l=GetSpellTargetLoc()
local real K7E=GetLocationX(l)
local real K8E=GetLocationY(l)
local real x
local real y
local integer K9E=16
local string fx="Abilities\\Spells\\Undead\\Graveyard\\GraveMarker.mdl"
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local group g=LD7()
set EZ7="K4E"
call ET8(WN,K7E,K8E)
call TriggerRegisterTimerEvent(t,.1,true)
call TriggerAddCondition(t,Condition(function J2E))
call TS7(PP7,"g",g)
call TJ7(PP7,"UnitVar",GetTriggerUnit())
call TG7(PP7,"x",K7E)
call TG7(PP7,"y",K8E)
loop
exitwhen i>K9E
set x=K7E+A34*Cos(i*360/K9E*bj_DEGTORAD)
set y=K8E+A34*Sin(i*360/K9E*bj_DEGTORAD)
call TK7(PP7,"Effect"+I2S(i),AddSpecialEffect(fx,x,y))
if i==1 or i==5 or i==9 or i==13 then
set x=K7E+275*Cos(i*360/K9E*bj_DEGTORAD)
set y=K8E+275*Sin(i*360/K9E*bj_DEGTORAD)
endif
set i=i+1
endloop
call RemoveLocation(l)
set l=null
set t=null
set g=null
endfunction
function KDE takes nothing returns boolean
if GetSpellAbilityId()==1093685825 then
call K4E()
endif
return false
endfunction
function SS8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SS8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KDE))
set t=null
endfunction
function KEE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit p5=T37(PP7,"Source")
local unit HV8=T37(PP7,"DarkRiftFXUnit")
local integer BY7=U97(PP7,"Level")
local integer KFE=90
local integer L48=U97(PP7,"Count")
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093815618 then
call KillUnit(HV8)
call UQ7(t)
call FlushChildHashtable(L7,(PP7))
else
set L48=L48+1
call TF7(PP7,"Count",L48)
endif
if BY7==1 then
set KFE=160
elseif BY7==2 then
set KFE=120
endif
call SetUnitX(HV8,GetUnitX(p5))
call SetUnitY(HV8,GetUnitY(p5))
if L48>KFE then
call KillUnit(HV8)
call UQ7(t)
call T97(PP7)
elseif L48>30 then
call UnitRemoveAbility(HV8,1097625443)
call ShowUnit(HV8,true)
call L67(HV8,1097625443)
endif
set t=null
set HV8=null
set p5=null
return false
endfunction
function KGE takes nothing returns nothing
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call UU7(GetEnumUnit(),"4406",1)
call SetUnitPosition(GetEnumUnit(),IJ4,IK4)
call PanCameraToTimedForPlayer(GetOwningPlayer(GetEnumUnit()),IJ4,IK4,0)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call B87(GetEnumUnit())
endfunction
function KHE takes unit p5,unit m5 returns nothing
local group g=LD7()
set EZ7="Portal_Action"
call DestroyEffect(AddSpecialEffect("Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl",GetUnitX(p5),GetUnitY(p5)))
call DestroyEffect(AddSpecialEffect("Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl",GetUnitX(m5),GetUnitY(m5)))
set IJ4=GetUnitX(m5)
set IK4=GetUnitY(m5)
set IN4=p5
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),475,Condition(function G08))
call ForGroup(g,function KGE)
call L97(g)
set g=null
endfunction
function KIE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit p5=T37(PP7,"Source")
local unit m5=T37(PP7,"Target")
set EZ7="KIE"
call DestroyEffect(T27(PP7,"FX"))
if GetTriggerEventId()==EVENT_UNIT_DEATH or m5==null or L17(m5)then
call UQ7(t)
call FlushChildHashtable(L7,(PP7))
call UnitRemoveType(m5,UNIT_TYPE_PEON)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093685808,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815618,false)
call DQ8(GetOwningPlayer(p5),GetObjectName(1848652614))
elseif p5==null or L17(p5)then
call UQ7(t)
call FlushChildHashtable(L7,(PP7))
call UnitRemoveType(m5,UNIT_TYPE_PEON)
call DQ8(GetOwningPlayer(p5),GetObjectName(1848652615))
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093685808,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815618,false)
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093815618 then
call UQ7(t)
call FlushChildHashtable(L7,(PP7))
call UnitRemoveType(m5,UNIT_TYPE_PEON)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093685808,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815618,false)
endif
else
call UQ7(t)
call FlushChildHashtable(L7,(PP7))
call UnitRemoveType(m5,UNIT_TYPE_PEON)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093685808,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815618,false)
call KHE(p5,m5)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function KJE takes nothing returns boolean
local real d
set EZ7="KJE"
if IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==false or GetUnitAbilityLevel(GetFilterUnit(),1093678162)>0 or GetOwningPlayer(GetFilterUnit())==Player(15)then
return false
endif
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)or(IH4>0 and O49(GetFilterUnit()))then
set d=Q07(IK4,IM4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
if d<IJ4 then
set IJ4=d
set IN4=GetFilterUnit()
endif
endif
return false
endfunction
function KKE takes unit p5 returns unit
local location l
local group g
local real x
local real y
set EZ7="Portal_GetNewTarget"
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
set g=LD7()
set IH4=GetUnitAbilityLevel(p5,1093685808)
set IN4=null
set IJ4=9999
set IK4=x
set IM4=y
call GroupEnumUnitsInRange(g,x,y,4000,Condition(function KJE))
call L97(g)
call RemoveLocation(l)
set l=null
set g=null
return IN4
endfunction
function KME takes unit p5 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit m5=GetSpellTargetUnit()
local unit u
set EZ7="Portal_CreatePreEffect"
if m5==null then
set m5=KKE(p5)
endif
if m5==null then
call DQ8(GetOwningPlayer(p5),GetObjectName(1848652616))
return
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093685808,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815618,true)
call L67(p5,1093815618)
call TriggerRegisterTimerEvent(t,6-GetUnitAbilityLevel(p5,1093685808),false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KIE))
call TK7(PP7,"FX",AddSpecialEffectTarget("war3mapImported\\DarkHands.mdl",m5,"overhead"))
call TJ7(PP7,"Source",p5)
call TJ7(PP7,"Target",m5)
call UnitAddType(m5,UNIT_TYPE_PEON)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,.03,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KEE))
call TF7(PP7,"Level",GetUnitAbilityLevel(p5,1093685808))
call TJ7(PP7,"Source",p5)
set u=CreateUnit(GetOwningPlayer(p5),1747990840,GetUnitX(p5),GetUnitY(p5),0)
call TJ7(PP7,"DarkRiftFXUnit",u)
call ShowUnit(u,false)
set t=null
set m5=null
set u=null
endfunction
function KNE takes nothing returns nothing
local unit PU7=GetSpellTargetUnit()
local unit LI7=GetTriggerUnit()
set EZ7="KNE"
if PU7!=null then
if IsUnitAlly(PU7,GetOwningPlayer(LI7))==false then
call RG7(LI7)
call DQ8(GetOwningPlayer(LI7),GetObjectName(1848652849))
elseif GetUnitAbilityLevel(LI7,1093685808)>0 and O49(PU7)==false then
call RG7(LI7)
call DQ8(GetOwningPlayer(LI7),GetObjectName(1848652849))
endif
endif
if PU7==null then
set PU7=KKE(LI7)
endif
if PU7==null then
call RG7(LI7)
call DQ8(GetOwningPlayer(LI7),GetObjectName(1848652848))
endif
set PU7=null
set LI7=null
endfunction
function KOE takes nothing returns boolean
if GetSpellAbilityId()==1093685808 then
call KNE()
endif
return false
endfunction
function KPE takes nothing returns boolean
if GetSpellAbilityId()==1093685808 then
call KME(GetTriggerUnit())
endif
return false
endfunction
function SQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SQ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function KOE))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KPE))
set t=null
call D78(1747990836)
call D78(1747990837)
call D78(1747990838)
endfunction
function KQE takes nothing returns nothing
call HY8(A14,GetEnumUnit(),ZG4,AL4)
endfunction
function KRE takes nothing returns nothing
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+AL4*0.5)
endfunction
function KSE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit LI7=T37(PP7,"Hero")
local real x=UD7(PP7,"x")
local real y=UD7(PP7,"y")
local group g=LD7()
local real r1=600
local real r2=600
local unit KTE
set EZ7="KSE"
set x=GetUnitX(LI7)
set y=GetUnitY(LI7)
call GroupEnumUnitsInRange(g,x,y,r1,Condition(function G_8))
set KTE=FirstOfGroup(g)
call L97(g)
if KTE==null then
if UE7(PP7,"NoCorpse1")and UE7(PP7,"NoCorpse2")then
call UnitRemoveAbility(LI7,1093810227)
call T97(PP7)
call UQ7(t)
else
if UE7(PP7,"NoCorpse1")==false then
call TI7(PP7,"NoCorpse1",true)
else
call TI7(PP7,"NoCorpse2",true)
endif
endif
else
set x=GetUnitX(KTE)
set y=GetUnitY(KTE)
call TI7(PP7,"NoCorpse1",false)
call TI7(PP7,"NoCorpse2",false)
call T97(GetHandleId(KTE))
call DestroyEffect(AddSpecialEffect("war3mapImported\\CorpseExplosion.mdx",x,y))
call RemoveUnit(KTE)
set g=LD7()
set IN4=LI7
set A14=LI7
set AL4=20*GetUnitAbilityLevel(LI7,1093810232)
call GroupEnumUnitsInRange(g,x,y,r2,Condition(function G78))
call ForGroup(g,function KQE)
set IN4=LI7
call GroupEnumUnitsInRange(g,x,y,r2,Condition(function GV8))
call ForGroup(g,function KRE)
call L97(g)
endif
set g=null
set LI7=null
set KTE=null
set t=null
return false
endfunction
function KUE takes nothing returns nothing
local real x=GetUnitX(GetTriggerUnit())
local real y=GetUnitY(GetTriggerUnit())
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="KUE"
call ET8(AI4,x,y)
call TriggerRegisterTimerEvent(t,1.5,true)
call TriggerAddCondition(t,Condition(function KSE))
call L67(GetTriggerUnit(),1093810227)
call TJ7(PP7,"Hero",GetTriggerUnit())
call TG7(PP7,"x",x)
call TG7(PP7,"y",y)
call TI7(PP7,"NoCorpse1",false)
call TI7(PP7,"NoCorpse2",false)
set t=null
endfunction
function KVE takes nothing returns boolean
if GetSpellAbilityId()==1093810232 then
call KUE()
endif
return false
endfunction
function SR8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SR8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KVE))
set t=null
endfunction
function KWE takes nothing returns nothing
endfunction
function KXE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(T37(PP7,"Source"))
local unit HV8=(T37(PP7,"Caster"))
local group g=LD7()
set IN4=FJ8
set IB7=GetUnitAbilityLevel(FJ8,1093677385)*10+10
call GroupEnumUnitsInRange(g,GetUnitX(HV8),GetUnitY(HV8),475,Condition(function GV8))
call ForGroup(g,function KWE)
call L97(g)
if GetTriggerEvalCount(t)==5 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set HV8=null
return false
endfunction
function KYE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local integer HW8=GetUnitAbilityLevel(FJ8,1093677385)
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,x,y,0)
call TriggerAddCondition(t,Condition(function KXE))
call TriggerRegisterTimerEvent(t,1,true)
call TJ7(PP7,"Source",FJ8)
call TJ7(PP7,"Caster",HV8)
call L67(HV8,1093809714)
call SetUnitAbilityLevel(HV8,1093809714,HW8)
call IssuePointOrder(HV8,"rainoffire",x,y)
set FJ8=null
set HV8=null
endfunction
function KZE takes nothing returns boolean
if GetSpellAbilityId()==1093677385 then
call KYE()
endif
return false
endfunction
function ST8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="ST8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KZE))
set t=null
endfunction
function KAE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093809233)
local integer KBE
local real KCE
local real K3E=3+HW8
set EZ7="KAE"
if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)>4*K3E then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveAbility(PU7,1093809242)
call UnitRemoveAbility(PU7,1093809456)
call UnitRemoveAbility(PU7,1093809240)
call UnitRemoveAbility(PU7,1093809457)
call UnitRemoveAbility(PU7,1093809241)
call UnitRemoveAbility(PU7,1110459720)
else
set KCE=100*GetUnitState(PU7,UNIT_STATE_LIFE)/GetUnitState(PU7,UNIT_STATE_MAX_LIFE)
if KCE<20 then
set KBE=5
elseif KCE<40 then
set KBE=4
elseif KCE<60 then
set KBE=3
elseif KCE<80 then
set KBE=2
else
set KBE=1
endif
if KBE==1 then
if GetUnitAbilityLevel(PU7,1093809242)==0 then
call UnitRemoveAbility(PU7,1093809456)
call UnitRemoveAbility(PU7,1093809240)
call UnitRemoveAbility(PU7,1093809457)
call UnitRemoveAbility(PU7,1093809241)
call UnitRemoveAbility(PU7,1110459720)
call UnitAddAbility(PU7,1093809242)
endif
elseif KBE==2 then
if GetUnitAbilityLevel(PU7,1093809456)==0 then
call UnitRemoveAbility(PU7,1093809242)
call UnitRemoveAbility(PU7,1093809240)
call UnitRemoveAbility(PU7,1093809457)
call UnitRemoveAbility(PU7,1093809241)
call UnitRemoveAbility(PU7,1110459720)
call UnitAddAbility(PU7,1093809456)
endif
elseif KBE==3 then
if GetUnitAbilityLevel(PU7,1093809240)==0 then
call UnitRemoveAbility(PU7,1093809242)
call UnitRemoveAbility(PU7,1093809456)
call UnitRemoveAbility(PU7,1093809457)
call UnitRemoveAbility(PU7,1093809241)
call UnitRemoveAbility(PU7,1110459720)
call UnitAddAbility(PU7,1093809240)
endif
elseif KBE==4 then
if GetUnitAbilityLevel(PU7,1093809457)==0 then
call UnitRemoveAbility(PU7,1093809242)
call UnitRemoveAbility(PU7,1093809456)
call UnitRemoveAbility(PU7,1093809240)
call UnitRemoveAbility(PU7,1093809241)
call UnitRemoveAbility(PU7,1110459720)
call UnitAddAbility(PU7,1093809457)
endif
elseif KBE==5 then
if GetUnitAbilityLevel(PU7,1093809241)==0 then
call UnitRemoveAbility(PU7,1093809242)
call UnitRemoveAbility(PU7,1093809456)
call UnitRemoveAbility(PU7,1093809240)
call UnitRemoveAbility(PU7,1093809457)
call UnitRemoveAbility(PU7,1110459720)
call UnitAddAbility(PU7,1093809241)
endif
endif
call HY8(FJ8,PU7,ZG4,0.01*4*0.25*GetUnitState(PU7,UNIT_STATE_MAX_LIFE))
if ModuloInteger(GetTriggerEvalCount(t),4)==0 then
call CreateCorpse(GetOwningPlayer(FJ8),1969711215,GetUnitX(PU7),GetUnitY(PU7),0)
endif
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function K6E takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093809233)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="K6E"
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("effects\\EntanglingBonesTarget.mdx",PU7,"chest")))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerAddCondition(t,Condition(function KAE))
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093809242,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093809456,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093809240,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093809457,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093809241,false)
set FJ8=null
set PU7=null
set t=null
endfunction
function KLE takes nothing returns boolean
if GetSpellAbilityId()==1093809233 and L87(GetSpellTargetUnit())==false then
call K6E()
endif
return false
endfunction
function SU8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SU8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KLE))
set t=null
endfunction
function K1E takes unit FJ8,integer K0E returns nothing
call SaveInteger(L7,(GetHandleId(FJ8)),(687),(K0E))
call UnitRemoveAbility(FJ8,1093809496)
call UnitRemoveAbility(FJ8,1093809497)
call UnitRemoveAbility(FJ8,1093809498)
call UnitRemoveAbility(FJ8,1093809492)
call UnitRemoveAbility(FJ8,1093809494)
call UnitRemoveAbility(FJ8,1093809493)
call UnitRemoveAbility(FJ8,1093809491)
call UnitRemoveAbility(FJ8,1093809490)
call UnitRemoveAbility(FJ8,1093809495)
call UnitRemoveAbility(FJ8,1093809712)
call UnitRemoveAbility(FJ8,1093809741)
call UnitRemoveAbility(FJ8,1093809740)
call UnitRemoveAbility(FJ8,1093809735)
call UnitRemoveAbility(FJ8,1093809736)
call UnitRemoveAbility(FJ8,1093809734)
call UnitRemoveAbility(FJ8,1093809733)
call UnitRemoveAbility(FJ8,1093809462)
call UnitRemoveAbility(FJ8,1093809737)
call UnitRemoveAbility(FJ8,1093809738)
call UnitRemoveAbility(FJ8,1093809739)
call UnitRemoveAbility(FJ8,1093809732)
if K0E==0 then
call UnitAddAbility(FJ8,1093809741)
endif
if K0E==1 then
call L67(FJ8,1093809496)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809496,false)
call UnitAddAbility(FJ8,1093809740)
elseif K0E==2 then
call L67(FJ8,1093809497)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809497,false)
call UnitAddAbility(FJ8,1093809735)
elseif K0E==3 then
call L67(FJ8,1093809498)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809498,false)
call UnitAddAbility(FJ8,1093809736)
elseif K0E==4 then
call L67(FJ8,1093809492)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809492,false)
call UnitAddAbility(FJ8,1093809734)
elseif K0E==5 then
call L67(FJ8,1093809494)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809494,false)
call UnitAddAbility(FJ8,1093809733)
elseif K0E==6 then
call L67(FJ8,1093809493)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809493,false)
call UnitAddAbility(FJ8,1093809462)
elseif K0E==7 then
call L67(FJ8,1093809491)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809491,false)
call UnitAddAbility(FJ8,1093809737)
elseif K0E==8 then
call L67(FJ8,1093809490)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809490,false)
call UnitAddAbility(FJ8,1093809738)
elseif K0E==9 then
call L67(FJ8,1093809495)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809495,false)
call UnitAddAbility(FJ8,1093809739)
elseif K0E==10 then
call L67(FJ8,1093809712)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809712,false)
call UnitAddAbility(FJ8,1093809732)
endif
endfunction
function K5E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer K0E=(LoadInteger(L7,(GetHandleId(FJ8)),(687)))
local group g
local unit KTE
local integer HW8=GetUnitAbilityLevel(FJ8,1093809713)
local integer K2E=2+2*HW8
set EZ7="K5E"
if K0E<K2E and L17(FJ8)==false then
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),925,Condition(function G_8))
set KTE=FirstOfGroup(g)
call L97(g)
if KTE!=null then
set K0E=K0E+1
call K1E(FJ8,K0E)
call E68((KTE),(FJ8),1747993654,"CorpseCollector_FX_Nothing",400)
call RemoveUnit(KTE)
endif
endif
set t=null
set FJ8=null
set KTE=null
return false
endfunction
function K_E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
set EZ7="K_E"
call TriggerRegisterTimerEvent(t,4,true)
call TriggerAddCondition(t,Condition(function K5E))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=null
set FJ8=null
endfunction
function M4E takes nothing returns nothing
call HY8(A04,GetEnumUnit(),ZG4,A54)
endfunction
function M7E takes unit FJ8,integer HW8,real EX8,real EY8,integer K0E,boolean Q49 returns nothing
local group g=LD7()
set EZ7="CorpseCollector_Land"
set A04=FJ8
set A54=30*K0E
if Q49 then
set A54=A54+10*K0E
endif
set IN4=FJ8
call GroupEnumUnitsInRange(g,EX8,EY8,350,Condition(function G78))
call ForGroup(g,function M4E)
call L97(g)
endfunction
function M8E takes unit FJ8,real AQ9,real AR9 returns boolean
local real EX8=(LoadReal(L7,(GetHandleId(FJ8)),(690)))
local real EY8=(LoadReal(L7,(GetHandleId(FJ8)),(691)))
set EZ7="CorpseCollector_FindBonus"
if EX8==0 and EY8==0 then
return false
endif
if Q07(AQ9,AR9,EX8,EY8)<425 then
return true
endif
return false
endfunction
function M9E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer K0E=(LoadInteger(L7,(PP7),(34)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093809713)
local integer i=1
local unit HV8
local real EX8=(LoadReal(L7,(PP7),(47)))
local real EY8=(LoadReal(L7,(PP7),(48)))
local real x
local real y
local real a=(LoadReal(L7,(PP7),(137)))
local boolean Q49=(LoadBoolean(L7,(PP7),(688)))
local boolean MDE=(LoadBoolean(L7,(PP7),(689)))
local real MEE=(LoadReal(L7,(PP7),(549)))
local real MFE=(LoadReal(L7,(PP7),(567)))
set EZ7="M9E"
set MEE=DT8(MEE+10*Cos(a))
set MFE=DU8(MFE+10*Sin(a))
call SaveReal(L7,(PP7),(549),((MEE)*1.0))
call SaveReal(L7,(PP7),(567),((MFE)*1.0))
if Q49==false then
set Q49=M8E(FJ8,MEE,MFE)
if Q49==true then
call SaveBoolean(L7,(PP7),(688),(Q49))
endif
endif
if Q49 and MDE==false then
set MDE=true
call SaveBoolean(L7,(PP7),(689),(MDE))
loop
exitwhen i>K0E
set HV8=(LoadUnitHandle(L7,(PP7),(393+i)))
call SaveEffectHandle(L7,(PP7),(609+i),(AddSpecialEffectTarget("war3mapImported\\CorpseFire.mdx",HV8,"origin")))
set i=i+1
endloop
endif
set i=1
if Q07(MEE,MFE,EX8,EY8)<15 then
loop
exitwhen i>K0E
if Q49 then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(609+i))))
endif
call KillUnit((LoadUnitHandle(L7,(PP7),(393+i))))
set i=i+1
endloop
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call M7E(FJ8,HW8,EX8,EY8,K0E,Q49)
else
loop
exitwhen i>K0E
set HV8=(LoadUnitHandle(L7,(PP7),(393+i)))
set x=(LoadReal(L7,(PP7),(549+i)))
set y=(LoadReal(L7,(PP7),(567+i)))
set x=DT8(x+10*Cos(a))
set y=DU8(y+10*Sin(a))
call SaveReal(L7,(PP7),(549+i),((x)*1.0))
call SaveReal(L7,(PP7),(567+i),((y)*1.0))
call SetUnitX(HV8,x)
call SetUnitY(HV8,y)
set i=i+1
endloop
endif
set t=null
set HV8=null
set FJ8=null
return false
endfunction
function MGE takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local real EX8=GetSpellTargetX()
local real EY8=GetSpellTargetY()
local integer HW8=GetUnitAbilityLevel(FJ8,1093809713)
local integer K0E=(LoadInteger(L7,(GetHandleId(FJ8)),(687)))
local integer i=1
local unit HV8
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local real a=Q87(GetUnitX(FJ8),GetUnitY(FJ8),EX8,EY8)*bj_DEGTORAD
set EZ7="MGE"
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveInteger(L7,(PP7),(34),(K0E))
call SaveReal(L7,(PP7),(47),((EX8)*1.0))
call SaveReal(L7,(PP7),(48),((EY8)*1.0))
call SaveReal(L7,(PP7),(137),((a)*1.0))
call SaveReal(L7,(PP7),(549),((x)*1.0))
call SaveReal(L7,(PP7),(567),((y)*1.0))
call SaveBoolean(L7,(PP7),(688),(false))
call SaveBoolean(L7,(PP7),(689),(false))
loop
exitwhen i>K0E
set HV8=CreateUnit(GetOwningPlayer(FJ8),1747993655,x+GetRandomInt(-200,200),y+GetRandomInt(-200,200),0)
call SaveUnitHandle(L7,(PP7),(393+i),(HV8))
call SaveReal(L7,(PP7),(549+i),((GetUnitX(HV8))*1.0))
call SaveReal(L7,(PP7),(567+i),((GetUnitY(HV8))*1.0))
set i=i+1
endloop
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function M9E))
call K1E(FJ8,0)
set FJ8=null
set t=null
set HV8=null
endfunction
function MHE takes nothing returns boolean
if GetSpellAbilityId()==1093809713 then
call MGE()
endif
return false
endfunction
function MIE takes nothing returns boolean
if GetLearnedSkill()==1093809713 and GetUnitAbilityLevel(GetTriggerUnit(),1093809713)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call K_E()
endif
return false
endfunction
function SV8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SV8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MHE))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function MIE))
set t=null
endfunction
function MJE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
local unit MKE
if GetTriggerEventId()==EVENT_UNIT_SPELL_FINISH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call KillUnit(HV8)
call UnitApplyTimedLife(HV8,1112820806,0.1)
elseif L17(HV8)then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
call SaveReal(L7,(PP7),(6),((GetUnitX(HV8))*1.0))
call SaveReal(L7,(PP7),(7),((GetUnitY(HV8))*1.0))
if x!=GetUnitX(HV8)or y!=GetUnitY(HV8)then
call UnitRemoveAbility(HV8,1093815348)
else
call UnitAddAbility(HV8,1093815348)
endif
endif
return false
endfunction
function MME takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(IC7)and GetUnitTypeId(GetFilterUnit())==1966092633
endfunction
function MNE takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1966092633,GetUnitX(FJ8)+100,GetUnitY(FJ8)+100,0)
local group g
local integer HW8=GetUnitAbilityLevel(FJ8,1093815350)
local real CF8
local unit MOE
local unit MPE
call TriggerRegisterUnitEvent(t,HV8,EVENT_UNIT_SPELL_FINISH)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function MJE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call SaveReal(L7,(PP7),(6),((GetUnitX(HV8))*1.0))
call SaveReal(L7,(PP7),(7),((GetUnitY(HV8))*1.0))
call UnitAddAbility(HV8,1093815348)
call SetUnitAbilityLevel(HV8,1093815349,GetUnitAbilityLevel(FJ8,1093815350))
call SaveReal(L7,(GetHandleId(HV8)),(34),(((TimerGetElapsed(W)))*1.0))
set IC7=FJ8
set g=LD7()
call GroupEnumUnitsInRange(g,0,0,99999,Condition(function MME))
if CountUnitsInGroup(g)>HW8+1 then
set MPE=FirstOfGroup(g)
set CF8=(LoadReal(L7,(GetHandleId(MPE)),(34)))
set MOE=MPE
call GroupRemoveUnit(g,MPE)
loop
exitwhen MPE==null
if CF8>(LoadReal(L7,(GetHandleId(MPE)),(34)))then
set CF8=(LoadReal(L7,(GetHandleId(MPE)),(34)))
set MOE=MPE
endif
set MPE=FirstOfGroup(g)
call GroupRemoveUnit(g,MPE)
endloop
call KillUnit(MOE)
endif
call L97(g)
set g=null
set HV8=null
set FJ8=null
set t=null
endfunction
function MQE takes nothing returns boolean
if GetSpellAbilityId()==1093815350 then
call MNE()
endif
return false
endfunction
function SW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MQE))
endfunction
function MRE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer Q49=(LoadInteger(L7,(PP7),(34)))
call SaveInteger(L7,(GetHandleId(FJ8)),(783),((LoadInteger(L7,(GetHandleId(FJ8)),(783)))-Q49))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set FJ8=null
set t=null
return false
endfunction
function MSE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit L27=GetTriggerUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1095328612)
local integer Q49
local integer ER9
if IsUnitInRange(FJ8,L27,900+25)and L17(FJ8)==false and IsUnitAlly(FJ8,GetOwningPlayer(L27))==false and GetUnitTypeId(L27)!=1848657461 and IsUnitIllusion(L27)==false and JV8(GetUnitTypeId(L27))==false and GetUnitAbilityLevel(L27,1093678162)==0 then
set ER9=(LoadInteger(L7,(GetHandleId(FJ8)),(783)))
if IsUnitType(L27,UNIT_TYPE_HERO)==true then
set Q49=30
else
set Q49=5
endif
set ER9=ER9+Q49
call SaveInteger(L7,(GetHandleId(FJ8)),(783),(ER9))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,25+HW8*5,false)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerAddCondition(t,Condition(function MRE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveInteger(L7,(PP7),(34),(Q49))
endif
set t=null
set FJ8=null
set L27=null
return false
endfunction
function MTE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer ER9=(LoadInteger(L7,(GetHandleId(FJ8)),(783)))
local integer VLD=(LoadInteger(L7,(PP7),(238)))
if VLD!=ER9 then
call H68(FJ8,ER9)
call SaveInteger(L7,(PP7),(238),(ER9))
endif
set t=null
set FJ8=null
return false
endfunction
function MUE takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function MSE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function MTE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set FJ8=null
set t=null
endfunction
function MVE takes nothing returns boolean
if GetLearnedSkill()==1095328612 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1095328612)==1 then
call MUE()
endif
return false
endfunction
function SX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function MVE))
set t=null
endfunction
function MWE takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),1093678667)>0
endfunction
function MXE takes nothing returns nothing
if(GetIssuedOrderId()==String2OrderIdBJ("immolation"))then
if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)then
call L67(GetTriggerUnit(),1093681498)
else
call QA7(0.1)
if(GetUnitAbilityLevel(GetTriggerUnit(),1110454868)>0)then
call UnitAddAbility(GetTriggerUnit(),1093681498)
endif
endif
elseif(GetIssuedOrderId()==String2OrderIdBJ("unimmolation"))then
if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)then
call UnitRemoveAbility(GetTriggerUnit(),1093681498)
else
call QA7(0.1)
if(GetUnitAbilityLevel(GetTriggerUnit(),1110454868)==0)then
call UnitRemoveAbility(GetTriggerUnit(),1093681498)
endif
endif
endif
endfunction
function Q98 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="Q98"
call ky(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function MWE))
call TriggerAddAction(t,function MXE)
set t=null
endfunction
function MYE takes nothing returns nothing
local integer PP7=GetHandleId(GetEnumUnit())
set EZ7="MYE"
if GetTriggerUnit()!=GetEnumUnit()then
call SaveInteger(L7,(PP7),(672),((LoadInteger(L7,(PP7),(672)))+1))
endif
endfunction
function MZE takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1429221446 and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function MAE takes nothing returns boolean
local group g
set EZ7="MAE"
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and JV8(GetUnitTypeId(GetTriggerUnit()))==false and IsUnitIllusion(GetTriggerUnit())==false then
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),475,Condition(function MZE))
if GetUnitTypeId(GetKillingUnit())==1429221446 then
call GroupAddUnit(g,GetKillingUnit())
endif
call ForGroup(g,function MYE)
call L97(g)
set g=null
endif
return false
endfunction
function MBE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="MBE"
if GetTriggerEvalCount(t)==1 then
call ShowUnit(p5,false)
elseif GetTriggerEvalCount(t)>80 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set p5=null
return false
endfunction
function MCE takes nothing returns boolean
local unit HV8
local unit p5
local unit L27
local trigger t
local integer PP7
set EZ7="MCE"
if GetUnitTypeId(GetTriggerUnit())==1429221446 then
set p5=GetTriggerUnit()
set L27=GetKillingUnit()
if p5==L27 then
set HV8=CreateUnit(GetOwningPlayer(p5),1747993154,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call SetUnitTimeScale(HV8,0.75)
call UnitApplyTimedLife(HV8,1112820806,1.0)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodAbomination.mdl",HV8,"origin"))
set HV8=null
call SetSoundPosition(JP,GetUnitX(p5),GetUnitY(p5),50)
call SetSoundVolumeBJ(JP,100)
call PlaySoundBJ(JP)
call SetSoundPosition(KP,GetUnitX(p5),GetUnitY(p5),50)
call SetSoundVolumeBJ(KP,100)
call PlaySoundBJ(KP)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,.1,true)
call TriggerAddCondition(t,Condition(function MBE))
call SaveUnitHandle(L7,(PP7),(2),(p5))
set t=null
endif
set p5=null
set L27=null
endif
return false
endfunction
function M3E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local unit FJ8=(LoadUnitHandle(L7,(GetHandleId(t)),(2)))
local integer PP7=GetHandleId(FJ8)
local integer M6E=(LoadInteger(L7,(PP7),(672)))
local integer MLE=(LoadInteger(L7,(PP7),(673)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093678660)
local integer M1E=R2I(I2R(M6E)*(0.6+0.3*HW8))
set EZ7="M3E"
if M1E>MLE then
call ModifyHeroStat(0,FJ8,bj_MODIFYMETHOD_ADD,M1E-MLE)
call SaveInteger(L7,(PP7),(673),(M1E))
call EI8("+"+I2S(M1E-MLE)+" "+GetObjectName(1848659274),3,FJ8,0.023,0,255,0,230)
endif
set t=null
set FJ8=null
return false
endfunction
function M0E takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="M0E"
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function M3E))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set FJ8=null
set t=null
endfunction
function M5E takes nothing returns boolean
if GetLearnedSkill()==1093678660 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093678660)==1 then
call M0E()
endif
return false
endfunction
function M2E takes nothing returns boolean
if GetUnitTypeId(M7[GetPlayerId(GetTriggerPlayer())])==1429221446 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetObjectName(1848654162)+" "+I2S((LoadInteger(L7,(GetHandleId(M7[GetPlayerId(GetTriggerPlayer())])),(673))))+" "+GetObjectName(1848654163))
endif
return false
endfunction
function QD8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QD8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function M5E))
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function M2E))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function MCE))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function MAE))
set t=null
endfunction
function M_E takes unit FJ8,unit PU7 returns nothing
local unit HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
local unit MKE=CreateUnit(GetOwningPlayer(FJ8),1697657409,GetUnitX(PU7),GetUnitY(PU7),0)
set EZ7="Hook_Ministun"
call L67(HV8,1093685338)
call IssueTargetOrder(HV8,"thunderbolt",PU7)
call UnitApplyTimedLife(HV8,1112820806,1)
call UnitApplyTimedLife(MKE,1112820806,1)
set HV8=null
set MKE=null
endfunction
function N4E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer N7E=U97(US7,"LinkNumber")
local boolean N8E=UE7(US7,"FoundTarget")
local unit m5
local unit N9E=T37(US7,"Link"+I2S(N7E))
set EZ7="N4E"
if N8E then
set m5=T37(US7,"Target")
call SetUnitX(m5,GetUnitX(N9E))
call SetUnitY(m5,GetUnitY(N9E))
endif
call RemoveUnit(N9E)
set N7E=N7E-1
call TF7(US7,"LinkNumber",N7E)
if N7E==0 then
call T97(US7)
call UQ7(t)
endif
set t=null
set m5=null
set N9E=null
return false
endfunction
function NDE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer N7E=U97(US7,"LinkNumber")
local integer BY7=U97(US7,"Level")
local real l4=UD7(US7,"Angle")
local unit C17=T37(US7,"Hero")
local trigger NEE=T07(US7,"RetractTrigger")
local integer NFE=GetHandleId(NEE)
local group g
local unit u
local real x
local real y
set EZ7="NDE"
if N7E<10+5*BY7 then
set N7E=N7E+1
call TF7(US7,"LinkNumber",N7E)
set x=GetUnitX(C17)+N7E*40*Cos(l4*bj_DEGTORAD)
set y=GetUnitY(C17)+N7E*40*Sin(l4*bj_DEGTORAD)
call TJ7(NFE,"Link"+I2S(N7E),CreateUnit(GetOwningPlayer(C17),1966092360,x,y,l4))
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function GL8))
call GroupRemoveUnit(g,C17)
set u=GroupPickRandomUnit(g)
call L97(g)
if u!=null then
call T97(US7)
call UQ7(t)
call TriggerRegisterTimerEvent(NEE,0.03,true)
call TriggerAddCondition(NEE,Condition(function N4E))
call TF7(NFE,"LinkNumber",N7E)
call TI7(NFE,"FoundTarget",true)
call TJ7(NFE,"Target",u)
if IsUnitEnemy(u,GetOwningPlayer(C17))then
if IsUnitType(u,UNIT_TYPE_HERO)==true then
call I38("HA_Hits"+I2S(GetPlayerId(GetOwningPlayer(C17))),R74[GetPlayerId(GetOwningPlayer(C17))])
set R74[GetPlayerId(GetOwningPlayer(C17))]=R74[GetPlayerId(GetOwningPlayer(C17))]+1
call UU7(C17,"4400",1.5)
endif
set R84[GetPlayerId(GetOwningPlayer(C17))]=R84[GetPlayerId(GetOwningPlayer(C17))]+1
call I38("HA_Total"+I2S(GetPlayerId(GetOwningPlayer(C17))),R84[GetPlayerId(GetOwningPlayer(C17))])
call M_E(C17,u)
call HY8(C17,u,ZI4,90*BY7)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",u,"origin"))
endif
endif
else
call T97(US7)
call UQ7(t)
set R84[GetPlayerId(GetOwningPlayer(C17))]=R84[GetPlayerId(GetOwningPlayer(C17))]+1
call TriggerRegisterTimerEvent(NEE,0.03,true)
call TriggerAddCondition(NEE,Condition(function N4E))
call TF7(NFE,"LinkNumber",N7E)
call TI7(NFE,"FoundTarget",false)
endif
set t=null
set C17=null
set NEE=null
set g=null
set u=null
return false
endfunction
function NGE takes nothing returns nothing
local unit C17=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real l4=Q87(GetUnitX(C17),GetUnitY(C17),GetLocationX(l),GetLocationY(l))
local integer BY7=GetUnitAbilityLevel(C17,1093678665)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="NGE"
call TJ7(US7,"Hero",C17)
call TF7(US7,"Level",BY7)
call TG7(US7,"Angle",l4*1.0)
call TF7(US7,"LinkNumber",0)
call TM7(US7,"RetractTrigger",CreateTrigger())
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function NDE))
call RemoveLocation(l)
set C17=null
set l=null
set t=null
endfunction
function NHE takes nothing returns boolean
if GetSpellAbilityId()==1093678665 then
call NGE()
endif
return false
endfunction
function NIE takes nothing returns boolean
local integer JTD=R74[GetPlayerId(GetTriggerPlayer())]
local integer D5=R84[GetPlayerId(GetTriggerPlayer())]
set EZ7="NIE"
if GetUnitTypeId(M7[GetPlayerId(GetTriggerPlayer())])==1429221446 and D5>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848657228)))+" "+R2S(I2R(JTD)/ I2R(D5)*100)+"% ("+I2S(JTD)+"/"+I2S(D5)+")")
endif
return false
endfunction
function QF8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QF8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NHE))
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function NIE))
set t=null
endfunction
function NJE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local integer BY7=U97(US7,"Level")
local real D_8=(25+50*BY7)+(0.75)*GetHeroStr(p5,true)
local integer BX8=U97(US7,"Count")
set EZ7="NJE"
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()==1093747544)then
call T97(US7)
call UQ7(t)
endif
elseif GetTriggerEvalCount(t)>4 then
call T97(US7)
call UQ7(t)
call RG7(p5)
else
if BY7>0 then
set BX8=BX8+1
if(BX8<4 and IsUnitType(m5,UNIT_TYPE_HERO)==true)or(BX8<8 and IsUnitType(m5,UNIT_TYPE_HERO)==false)then
call SetUnitState(p5,UNIT_STATE_LIFE,GetUnitState(p5,UNIT_STATE_LIFE)+D_8)
call HY8(p5,m5,ZG4,D_8)
endif
call TF7(US7,"Count",BX8)
endif
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function NKE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BY7=GetUnitAbilityLevel(p5,1093747544)
set EZ7="NKE"
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function NJE))
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TF7(US7,"Level",BY7)
call TF7(US7,"Count",0)
call TriggerEvaluate(t)
set t=null
set p5=null
set m5=null
endfunction
function NME takes nothing returns boolean
if GetSpellAbilityId()==1093747544 and L87(GetSpellTargetUnit())==false then
call NKE()
endif
return false
endfunction
function QG8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QG8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NME))
set t=null
endfunction
function NNE takes nothing returns boolean
return((GetUnitTypeId(GetSummonedUnit())==1865429068)or(GetUnitTypeId(GetSummonedUnit())==1865429069)or(GetUnitTypeId(GetSummonedUnit())==1865429070)or(GetUnitTypeId(GetSummonedUnit())==1865429071))
endfunction
function NOE takes nothing returns nothing
endfunction
function NPE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local group g
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set g=LD7()
set IN4=HV8
call GroupEnumUnitsInRange(g,GetUnitX(HV8),GetUnitY(HV8),400+300*4+25,Condition(function G78))
call ForGroup(g,function NOE)
call L97(g)
set g=null
endif
set t=null
set HV8=null
return false
endfunction
function NQE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit HV8=GetSummonedUnit()
call TriggerRegisterDeathEvent(t,HV8)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function NPE))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call SaveInteger(L7,(PP7),(5),(GetUnitAbilityLevel(GetSummoningUnit(),1093679428)))
call SetUnitAbilityLevelSwapped(1093679188,GetSummonedUnit(),GetUnitAbilityLevelSwapped(1093679428,GetSummoningUnit()))
call SetUnitAbilityLevelSwapped(1093681990,GetSummonedUnit(),GetUnitAbilityLevelSwapped(1093679428,GetSummoningUnit()))
call IssueImmediateOrderById(GetSummonedUnit(),852512)
endfunction
function QI8 takes nothing returns nothing
set Do=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Do,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(Do,Condition(function NNE))
call TriggerAddAction(Do,function NQE)
endfunction
function NRE takes unit p5,unit m5 returns nothing
local real NSE=20+40*R54
local real NTE=70+30*R54
local real NUE=(NSE+NTE*R24/700)*0.5
call HY8(p5,m5,ZG4,NUE)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl",m5,"chest"))
endfunction
function NVE takes nothing returns nothing
local unit m5=GetEnumUnit()
local group A39=t0
local unit p5=U0
set EZ7="NVE"
if IsUnitInGroup(m5,A39)==false then
call GroupAddUnit(A39,m5)
call NRE(p5,m5)
endif
set m5=null
set A39=null
set p5=null
endfunction
function NWE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit HV8=T37(US7,"Caster")
local group A39=T57(US7,"AlreadyDamaged")
local effect fx
local integer ZU9=GetTriggerEvalCount(t)
local real x
local real x0=GetUnitX(p5)
local real y
local real y0=GetUnitY(p5)
local integer i
local integer d
local group g=LD7()
set EZ7="NWE"
call SetUnitX(HV8,GetUnitX(p5))
call SetUnitY(HV8,GetUnitY(p5))
set t0=A39
set U0=p5
set R54=GetUnitAbilityLevel(p5,1093748023)
if ZU9>20 then
set d=21*36+(20-ZU9)*36
set R24=d
set i=0
loop
exitwhen i>36
set x=x0+d*Cos(360*i/ 36*bj_DEGTORAD)
set y=y0+d*Sin(360*i/ 36*bj_DEGTORAD)
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,100,Condition(function GJ8))
call ForGroup(g,function NVE)
set i=i+1
endloop
else
set d=ZU9*36
set R24=d
set i=0
loop
exitwhen i>36
set x=x0+d*Cos(360*i/ 36*bj_DEGTORAD)
set y=y0+d*Sin(360*i/ 36*bj_DEGTORAD)
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,100,Condition(function GJ8))
call ForGroup(g,function NVE)
set i=i+1
endloop
endif
call L97(g)
if ZU9==40 then
call KillUnit(HV8)
call L97(A39)
call DestroyEffect(T27(US7,"FX"))
call T97(US7)
call UQ7(t)
elseif ZU9==20 then
call GroupClear(A39)
set fx=null
endif
set t=null
set HV8=null
set A39=null
set p5=null
set g=null
return false
endfunction
function NXE takes nothing returns nothing
local unit C17=GetTriggerUnit()
local real x=GetUnitX(C17)
local real y=GetUnitY(C17)
local unit HV8=CreateUnit(GetOwningPlayer(C17),1747990834,x,y,0)
local integer i=0
local group A39=LD7()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="NXE"
call TK7(US7,"FX",AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",C17,"origin"))
call TS7(US7,"AlreadyDamaged",A39)
call TJ7(US7,"Source",C17)
call TJ7(US7,"Caster",HV8)
call TriggerRegisterTimerEvent(t,0.06,true)
call TriggerAddCondition(t,Condition(function NWE))
set t=null
set HV8=null
set C17=null
set A39=null
endfunction
function NYE takes nothing returns boolean
if GetSpellAbilityId()==1093748023 then
call NXE()
endif
return false
endfunction
function SD8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SD8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NYE))
set t=null
endfunction
function NZE takes integer NAE returns boolean
return NAE!=1093679446 and NAE!=1093677622 and NAE!=1093684314 and NAE!=1093685582 and NAE!=1093685065 and NAE!=1093682265 and NAE!=1093752642 and NAE!=1095263841
endfunction
function NBE takes unit NCE,unit p5,unit m5,integer BY7 returns nothing
local unit HV8=CreateUnit(GetOwningPlayer(NCE),1697656901,GetUnitX(p5),GetUnitY(p5),0)
set EZ7="mBv"
call L67(HV8,1093747019)
call SetUnitAbilityLevel(HV8,1093747019,BY7)
call IssueTargetOrder(HV8,"chainlightning",m5)
call L67(HV8,1093744708)
call SetUnitAbilityLevel(HV8,1093744708,BY7)
call IssueTargetOrder(HV8,"purge",m5)
set HV8=null
endfunction
function N3E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local integer BY7
set EZ7="N3E"
if GetSpellTargetUnit()==p5 and NZE(GetSpellAbilityId())==true and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(p5))==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
set BY7=GetUnitAbilityLevel(p5,1093748022)
call NBE(p5,p5,GetTriggerUnit(),BY7)
endif
set t=null
set p5=null
return false
endfunction
function N6E takes unit p5,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="mdv"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function N3E))
call TJ7(US7,"Source",p5)
if BZ9 then
set nj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set p5=null
set t=null
endfunction
function NLE takes nothing returns boolean
if GetLearnedSkill()==1093748022 and GetUnitAbilityLevel(GetTriggerUnit(),1093748022)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call N6E(GetTriggerUnit(),false)
endif
return false
endfunction
function SE8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SE8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function NLE))
set t=null
endfunction
function N1E takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer H_8
set EZ7="StaticLink_AddDamage"
if d<1 then
call UnitRemoveAbility(u,W0[0])
call UnitRemoveAbility(u,W0[1])
call UnitRemoveAbility(u,W0[2])
call UnitRemoveAbility(u,W0[3])
call UnitRemoveAbility(u,W0[4])
call UnitRemoveAbility(u,W0[5])
call UnitRemoveAbility(u,W0[6])
call UnitRemoveAbility(u,W0[7])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set H_8=i
set i=0
loop
exitwhen i>H_8
if b[i]==1 then
call L67(u,W0[i])
else
call UnitRemoveAbility(u,W0[i])
endif
set i=i+1
endloop
endfunction
function N0E takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer H_8
set EZ7="StaticLink_RemoveDamage"
if d<1 then
call UnitRemoveAbility(u,z0[0])
call UnitRemoveAbility(u,z0[1])
call UnitRemoveAbility(u,z0[2])
call UnitRemoveAbility(u,z0[3])
call UnitRemoveAbility(u,z0[4])
call UnitRemoveAbility(u,z0[5])
call UnitRemoveAbility(u,z0[6])
call UnitRemoveAbility(u,z0[7])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set H_8=i
set i=0
loop
exitwhen i>H_8
if b[i]==1 then
call L67(u,z0[i])
else
call UnitRemoveAbility(u,z0[i])
endif
set i=i+1
endloop
endfunction
function N5E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
set EZ7="N5E"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
if GetTriggerUnit()==p5 then
call N1E(p5,0)
call TJ7(US7,"Source",null)
else
call N0E(m5,0)
call TJ7(US7,"Target",null)
endif
else
if p5!=null then
call N1E(p5,0)
endif
if m5!=null then
call N0E(m5,0)
endif
call T97(US7)
call UQ7(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function N2E takes unit FJ8,unit PU7,unit Z79 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="mGv"
if Z79==null then
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TJ7(PP7,"Source",FJ8)
call TJ7(PP7,"Target",PU7)
elseif Z79==PU7 then
call N0E(PU7,0)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TJ7(PP7,"Source",FJ8)
call TJ7(PP7,"Target",null)
else
call N1E(FJ8,0)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TJ7(PP7,"Source",null)
call TJ7(PP7,"Target",PU7)
endif
call TriggerRegisterTimerEvent(t,18,false)
call TriggerAddCondition(t,Condition(function N5E))
set t=null
endfunction
function N_E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=T37(PP7,"Source")
local unit PU7=T37(PP7,"Target")
local lightning O4E=T_7(PP7,"Light")
local integer HW8=U97(PP7,"Level")
local integer L48=GetTriggerEvalCount(t)
local unit HV8=T37(PP7,"Caster")
set EZ7="N_E"
call MoveLightning(O4E,true,GetUnitX(FJ8),GetUnitY(FJ8),GetUnitX(PU7),GetUnitY(PU7))
call SetUnitX(HV8,GetUnitX(PU7))
call SetUnitY(HV8,GetUnitY(PU7))
if Q07(GetUnitX(FJ8),GetUnitY(FJ8),GetUnitX(PU7),GetUnitY(PU7))>700 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyLightning(O4E)
call KillUnit(HV8)
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call N2E(FJ8,PU7,GetTriggerUnit())
else
call N2E(FJ8,PU7,null)
endif
call T97(PP7)
call UQ7(t)
elseif L48>160 then
call DestroyLightning(O4E)
call KillUnit(HV8)
call N2E(FJ8,PU7,null)
call T97(PP7)
call UQ7(t)
elseif ModuloInteger(L48,20)==0 or L48==1 then
call N1E(FJ8,(HW8*7)*R2I(L48/ 20))
call N0E(PU7,(HW8*7)*R2I(L48/ 20))
endif
set t=null
set FJ8=null
set PU7=null
set O4E=null
set HV8=null
return false
endfunction
function O7E takes unit p5,unit m5,lightning O8E,unit HV8 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(p5,1093747792)
set EZ7="mjv"
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function N_E))
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TF7(US7,"Level",BY7)
call TN7(US7,"Light",O8E)
call TJ7(US7,"Caster",HV8)
set t=null
endfunction
function O9E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local lightning O8E=T_7(US7,"Light")
local unit HV8=T37(US7,"Caster")
local real ODE=GetUnitX(p5)
local real OEE=GetUnitY(p5)
local real V_D=UD7(US7,"rRealX1")
local real W4D=UD7(US7,"rRealY1")
local real a=UD7(US7,"a")
local unit m5=null
local group g=LD7()
set EZ7="O9E"
set V_D=DT8(V_D+25*Cos(a))
set W4D=DU8(W4D+25*Sin(a))
call TG7(US7,"rRealX1",V_D*1.0)
call TG7(US7,"rRealY1",W4D*1.0)
call MoveLightning(O8E,true,ODE,OEE,V_D,W4D)
call SetUnitX(HV8,V_D)
call SetUnitY(HV8,W4D)
set IN4=p5
call GroupEnumUnitsInRange(g,V_D,W4D,225,Condition(function HI8))
set m5=FirstOfGroup(g)
call L97(g)
if m5!=null then
call O7E(p5,m5,O8E,HV8)
call T97(US7)
call UQ7(t)
elseif GetTriggerEvalCount(t)>25 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyLightning(O8E)
call KillUnit(HV8)
call T97(US7)
call UQ7(t)
endif
set t=null
set p5=null
set O8E=null
set m5=null
set g=null
set HV8=null
return false
endfunction
function OFE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t
local integer US7
local location l
local lightning O8E=AddLightning("CLSB",true,GetUnitX(p5),GetUnitY(p5),GetUnitX(p5),GetUnitY(p5))
local unit HV8=CreateUnit(GetOwningPlayer(p5),1747990584,GetUnitX(p5),GetUnitY(p5),0)
set EZ7="OFE"
call SetLightningColor(O8E,0.3,0.5,1,1)
if m5==null then
set l=GetSpellTargetLoc()
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function O9E))
call TJ7(US7,"Source",p5)
call TN7(US7,"Light",O8E)
call TJ7(US7,"Caster",HV8)
call TG7(US7,"a",(Atan2(GetLocationY(l)-GetUnitY(p5),GetLocationX(l)-GetUnitX(p5)))*1.0)
call TG7(US7,"rRealX1",(GetUnitX(p5))*1.0)
call TG7(US7,"rRealY1",(GetUnitY(p5))*1.0)
call RemoveLocation(l)
set l=null
set t=null
else
call O7E(p5,m5,O8E,HV8)
endif
set m5=null
set p5=null
set l=null
set t=null
set HV8=null
endfunction
function OGE takes nothing returns boolean
if GetSpellAbilityId()==1093747792 then
call OFE()
endif
return false
endfunction
function SF8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SF8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OGE))
set t=null
set W0[0]=1093747798
set W0[1]=1093747793
set W0[2]=1093747794
set W0[3]=1093747795
set W0[4]=1093747796
set W0[5]=1093747797
set W0[6]=1093747799
set W0[7]=1093747800
set z0[0]=1093748020
set z0[1]=1093748019
set z0[2]=1093748018
set z0[3]=1093748017
set z0[4]=1093748016
set z0[5]=1093748021
set z0[6]=1093747802
set z0[7]=1093747801
endfunction
function OHE takes integer US7 returns nothing
local integer i=1
local integer OIE=U97(US7,"MaxIndex")
local unit m5
local integer HB8
set EZ7="mmv"
if OIE==0 then
return
endif
loop
exitwhen i>OIE
set HB8=U97(US7,"Target_"+I2S(i))
set m5=A87(HB8)
call A77(HB8)
call UnitRemoveAbility(m5,n1[0])
call UnitRemoveAbility(m5,n1[1])
call UnitRemoveAbility(m5,n1[2])
call UnitRemoveAbility(m5,n1[3])
call UnitRemoveAbility(m5,n1[4])
call UnitRemoveAbility(m5,n1[5])
set i=i+1
endloop
set m5=null
endfunction
function OJE takes unit m5,integer US7 returns nothing
local integer HB8=AD7(m5)
local integer OIE=U97(US7,"MaxIndex")
set EZ7="mpv"
set OIE=OIE+1
call TF7(US7,"MaxIndex",OIE)
call TF7(US7,"Target_"+I2S(OIE),HB8)
endfunction
function OKE takes unit u returns integer
return GetUnitAbilityLevel(u,n1[0])*1+GetUnitAbilityLevel(u,n1[1])*2+GetUnitAbilityLevel(u,n1[2])*4+GetUnitAbilityLevel(u,n1[3])*8+GetUnitAbilityLevel(u,n1[4])*16
endfunction
function OME takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer H_8
set EZ7="mqv"
if d<1 then
call UnitRemoveAbility(u,n1[0])
call UnitRemoveAbility(u,n1[1])
call UnitRemoveAbility(u,n1[2])
call UnitRemoveAbility(u,n1[3])
call UnitRemoveAbility(u,n1[4])
call UnitRemoveAbility(u,n1[5])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set H_8=i
set i=0
loop
exitwhen i>H_8
if b[i]==1 then
call L67(u,n1[i])
else
call UnitRemoveAbility(u,n1[i])
endif
set i=i+1
endloop
endfunction
function ONE takes unit u,integer d returns nothing
if IsUnitType(u,UNIT_TYPE_STRUCTURE)==false then
call OME(u,d+OKE(u))
call OJE(u,a1)
endif
endfunction
function OOE takes unit p5,unit HV8,unit m5,integer BY7 returns nothing
call IssueTargetOrder(HV8,"chainlightning",m5)
call HC8(p5,m5,2,(50+25*BY7)/ 2,0.3)
call ONE(m5,1)
endfunction
function OPE takes nothing returns boolean
if(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false))and GetUnitTypeId(GetFilterUnit())!=1848651852 then
if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<o1 then
set o1=GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)
set R_4=GetFilterUnit()
endif
endif
return false
endfunction
function OQE takes nothing returns boolean
if(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and L17(GetFilterUnit())==false))and GetUnitTypeId(GetFilterUnit())!=1701670775 and GetUnitTypeId(GetFilterUnit())!=1970956647 and GetUnitTypeId(GetFilterUnit())!=1848651852 then
if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<o1 then
set o1=GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)
set R_4=GetFilterUnit()
endif
endif
return false
endfunction
function ORE takes unit p5,unit HV8,integer BY7 returns nothing
local group g=LD7()
set EZ7="EyeOfTheStorm_Hit"
set R_4=null
set o1=999999
set Z0=30+30*BY7
set v1=p5
set IN4=p5
if GetUnitAbilityLevel(p5,1093752150)>0 then
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),525,Condition(function OQE))
else
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),525,Condition(function OPE))
endif
call L97(g)
if R_4!=null then
call OOE(p5,HV8,R_4,BY7)
endif
set g=null
endfunction
function OSE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit HV8=T37(US7,"Caster")
local integer BY7=U97(US7,"Level")
local integer BX8=GetTriggerEvalCount(t)
local real OTE
set EZ7="OSE"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call OHE(US7)
call T97(US7)
call UQ7(t)
if GetTriggerUnit()==p5 then
call KillUnit(HV8)
endif
else
if GetUnitAbilityLevel(p5,1093752150)>0 then
if BY7==1 then
set OTE=0.65
elseif BY7==2 then
set OTE=0.55
else
set OTE=0.45
endif
else
if BY7==1 then
set OTE=0.75
elseif BY7==2 then
set OTE=0.65
else
set OTE=0.55
endif
endif
set OTE=OTE/I37
if ModuloInteger(BX8,R2I(OTE))==0 or BX8==1 then
set a1=US7
call ORE(p5,HV8,BY7)
endif
call SetUnitX(HV8,GetUnitX(p5))
call SetUnitY(HV8,GetUnitY(p5))
endif
set t=null
set p5=null
set HV8=null
return false
endfunction
function OUE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer BY7=GetUnitAbilityLevel(p5,1093747023)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit HV8=CreateUnit(GetOwningPlayer(p5),1747990577,GetUnitX(p5),GetUnitY(p5),0)
set EZ7="OUE"
if BY7==0 then
set BY7=GetUnitAbilityLevel(p5,1093752150)
endif
call UnitApplyTimedLife(HV8,1112820806,15+5*BY7)
call SetUnitAbilityLevel(HV8,1093747786,BY7)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,HV8,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,I37,true)
call TriggerAddCondition(t,Condition(function OSE))
call TJ7(US7,"Caster",HV8)
call TJ7(US7,"Source",p5)
call TF7(US7,"Level",BY7)
set p5=null
set t=null
set HV8=null
endfunction
function OVE takes nothing returns boolean
if GetSpellAbilityId()==1093747023 or GetSpellAbilityId()==1093752150 then
call OUE()
endif
return false
endfunction
function SG8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="SG8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OVE))
set t=null
set n1[0]=1093747787
set n1[1]=1093747788
set n1[2]=1093747790
set n1[3]=1093747789
set n1[4]=1093747791
endfunction
function OWE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local integer OXE=GetTriggerEvalCount(t)
local real y=(OXE-13)*(OXE-13)
set EZ7="OWE"
if OXE<26 then
if S3D(C17)==false then
call SetUnitFlyHeight(C17,375-y,0)
endif
else
call PauseUnit(C17,false)
if S3D(C17)==false then
call SetUnitFlyHeight(C17,GetUnitDefaultFlyHeight(C17),0)
endif
call HY8(T37(US7,"Source"),C17,ZG4,UD7(US7,"Damage"))
call HU8(T37(US7,"Source"),C17,UD7(US7,"Duration"))
call T97(US7)
call UQ7(t)
endif
set t=null
set C17=null
return false
endfunction
function OYE takes unit C17,unit p5,real Hk,real OZE,real OAE returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="m_v"
call PauseUnit(C17,true)
if S3D(C17)==false then
call UnitAddAbility(C17,1097691750)
call UnitRemoveAbility(C17,1097691750)
endif
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleHitTarget.mdl",GetUnitX(C17),GetUnitY(C17)))
call TJ7(US7,"Hero",C17)
call TJ7(US7,"Source",p5)
call TG7(US7,"Damage",OZE)
call TG7(US7,"Duration",Hk)
call TriggerRegisterTimerEvent(t,0.02/ 0.52*OAE,true)
call TriggerAddCondition(t,Condition(function OWE))
set t=null
endfunction
function OBE takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false and C37(GetEnumUnit())==false and UJ7(GetEnumUnit(),"Omnislashing")==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call OYE(GetEnumUnit(),IN4,IK4,IJ4,IM4)
endif
endfunction
function OCE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local real OZE=UD7(US7,"damage")
local real Hk=UD7(US7,"duration")
local real x1=UD7(US7,"x1")
local real y1=UD7(US7,"y1")
local real x2=UD7(US7,"x2")
local real y2=UD7(US7,"y2")
local real w=UD7(US7,"w")
local real O3E=UD7(US7,"TempReal")
local real a=Atan2(y2-y1,x2-x1)
local group g=T57(US7,"g")
local group O6E=LD7()
local real OAE=O3E*0.0625
local real OLE=UD7(US7,"LastFX_x")
local real O1E=UD7(US7,"LastFX_y")
local real O0E=UD7(US7,"FX_Interval")
local real O5E=UD7(US7,"airtime")
set EZ7="OCE"
if OAE>Q07(x1,y1,x2,y2)then
set x1=x2
set y1=y2
else
set x1=x1+OAE*Cos(a)
set y1=y1+OAE*Sin(a)
endif
set IN4=p5
set IJ4=OZE
set IK4=Hk
set IM4=O5E
set IQ4=g
call GroupEnumUnitsInRange(O6E,x1,y1,w,Condition(function G78))
call ForGroup(O6E,function OBE)
call L97(O6E)
if Q07(x1,y1,OLE,O1E)>=O0E then
call TG7(US7,"LastFX_x",x1)
call TG7(US7,"LastFX_y",y1)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleMissTarget.mdl",x1,y1))
endif
call TG7(US7,"x1",x1)
call TG7(US7,"y1",y1)
if x1==x2 and y1==y2 then
if UE7(US7,"destroyGroup")==true then
call L97(g)
endif
call T97(US7)
call UQ7(t)
endif
set g=null
set O6E=null
set p5=null
set t=null
return false
endfunction
function O2E takes real O_E,real P4E returns integer
if O_E/ P4E-R2I(O_E/ P4E)>=0.5 then
return R2I(O_E/ P4E)+1
endif
return R2I(O_E/ P4E)
endfunction
function P7E takes unit p5,unit m5,real OZE,real Hk,real O5E,real x1,real y1,real x2,real y2,real w,group P8E,boolean P9E,real O3E returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local real PDE=Q07(x1,y1,x2,y2)
local integer PEE=O2E(PDE,ON)
local real O0E=PDE/ PEE
local group g
set EZ7="Impale"
call TJ7(US7,"Source",p5)
call TG7(US7,"damage",OZE)
call TG7(US7,"duration",Hk)
call TG7(US7,"airtime",O5E)
call TG7(US7,"x1",x1)
call TG7(US7,"y1",y1)
call TG7(US7,"x2",x2)
call TG7(US7,"y2",y2)
call TG7(US7,"w",w)
call TG7(US7,"TempReal",O3E)
if P8E==null then
set g=LD7()
if m5!=null and IsUnitIllusion(m5)==false then
call GroupAddUnit(g,m5)
endif
call TS7(US7,"g",g)
call TI7(US7,"destroyGroup",P9E)
else
call TS7(US7,"g",P8E)
call TI7(US7,"destroyGroup",P9E)
endif
call TG7(US7,"FX_Interval",O0E)
call TG7(US7,"LastFX_x",x1)
call TG7(US7,"LastFX_y",y1)
call TriggerRegisterTimerEvent(t,0.0625,true)
call TriggerAddCondition(t,Condition(function OCE))
set t=null
set g=null
endfunction
function PFE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
set EZ7="PFE"
call SetUnitPosition(C17,x,y)
call SetUnitAnimation(C17,"morph ALTERNATE")
call T97(US7)
call UQ7(t)
set t=null
set C17=null
return false
endfunction
function PGE takes nothing returns nothing
local unit C17=GetTriggerUnit()
local integer BY7=GetUnitAbilityLevel(C17,1093678671)
local location l
local real PHE
local real x=GetUnitX(C17)
local real y=GetUnitY(C17)
local real PIE
local real PJE
local real PKE
local real PME
local real CasterX
local real CasterY
local integer BurrowstrikeTempInt
local unit oA
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local real D_8
local real Hk=1.65
local unit m5=null
set EZ7="PGE"
if BY7==1 then
set D_8=100
elseif BY7==2 then
set D_8=160
elseif BY7==3 then
set D_8=220
elseif BY7==4 then
set D_8=280
endif
if GetSpellTargetUnit()!=null then
set l=GetUnitLoc(GetSpellTargetUnit())
else
set l=GetSpellTargetLoc()
endif
set PIE=GetLocationX(l)
set PJE=GetLocationY(l)
call RemoveLocation(l)
set PHE=Q87(x,y,PIE,PJE)
call TJ7(US7,"Hero",C17)
call TG7(US7,"x",PIE)
call TG7(US7,"y",PJE)
call TriggerRegisterTimerEvent(t,Q07(x,y,PIE,PJE)/ 2000,false)
call TriggerAddCondition(t,Condition(function PFE))
if Q07(x,y,PIE,PJE)<150 then
set PIE=x+150*Cos(PHE*bj_DEGTORAD)
set PJE=y+150*Sin(PHE*bj_DEGTORAD)
endif
if GetSpellTargetUnit()!=null and L87(GetSpellTargetUnit())then
set m5=GetSpellTargetUnit()
endif
call P7E(C17,m5,D_8,Hk,0.52,x,y,PIE,PJE,175,null,true,1600)
set oA=null
set l=null
set C17=null
set t=null
set m5=null
endfunction
function PNE takes nothing returns boolean
if GetSpellAbilityId()==1093678671 then
call PGE()
endif
return false
endfunction
function QJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QJ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PNE))
set t=null
endfunction
function POE takes nothing returns nothing
call HY8(e0,GetEnumUnit(),ZG4,110)
if GetPlayerController(GetOwningPlayer(o0))==MAP_CONTROL_COMPUTER then
call UnitAddAbility(o0,1093744450)
endif
call IssueTargetOrder(o0,"slow",GetEnumUnit())
endfunction
function PPE takes unit p5,real x,real y,integer BY7,integer PQE returns nothing
local group g=LD7()
local real r
local string fx
set EZ7="MAv"
if PQE==8 then
set r=675
elseif PQE==9 then
set r=700
elseif PQE==10 then
set r=725
else
set r=250+50*PQE
endif
if PQE<4 then
set fx=L_4
elseif PQE<8 then
set fx=D47
else
set fx=D77
endif
call DestroyEffect(AddSpecialEffect(fx,x,y))
set IN4=p5
set e0=p5
set o0=v0[GetPlayerId(GetOwningPlayer(p5))]
call GroupEnumUnitsInRange(g,x,y,r,Condition(function G78))
call ForGroup(g,function POE)
call L97(g)
call nm(0.03,false,x,y,150+100*PQE,150+100*PQE,72,0.03,512)
set g=null
endfunction
function PRE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local player p=TL7(US7,"p")
local unit C17=T37(US7,"Hero")
local real PSE=UD7(US7,"LastX")
local real PTE=UD7(US7,"LastY")
local boolean MVD=UE7(US7,"Scepter")
local integer BY7=U97(US7,"Level")
local integer PQE=U97(US7,"Iteration")
local integer PUE=4+BY7*2
local real x=PSE
local real y=PTE
set EZ7="PRE"
if MVD then
set PUE=PUE+2
endif
if PQE>PUE then
call T97(US7)
call UQ7(t)
else
if C17!=null and L17(C17)==false then
set x=GetUnitX(C17)
set y=GetUnitY(C17)
endif
call PPE(C17,x,y,BY7,PQE)
call TF7(US7,"Iteration",PQE+1)
call TG7(US7,"LastX",(x)*1.0)
call TG7(US7,"LastY",(y)*1.0)
endif
set t=null
set p=null
set C17=null
return false
endfunction
function PVE takes nothing returns nothing
local unit C17=GetTriggerUnit()
local player p=GetOwningPlayer(C17)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(C17,1093678674)
local boolean MVD=false
set EZ7="PVE"
if BY7==0 then
set MVD=true
set BY7=GetUnitAbilityLevel(C17,1093747252)
endif
if AG7(p)then
set v0[GetPlayerId(p)]=CreateUnit(A7[0],1697656901,GetUnitX(C17),GetUnitY(C17),0)
else
set v0[GetPlayerId(p)]=CreateUnit(Z7[0],1697656901,GetUnitX(C17),GetUnitY(C17),0)
endif
call L67(v0[GetPlayerId(p)],1093744450)
call TJ7(US7,"Hero",C17)
call TQ7(US7,"p",GetOwningPlayer(C17))
call TG7(US7,"LastX",(GetUnitX(C17))*1.0)
call TG7(US7,"LastY",(GetUnitY(C17))*1.0)
call TF7(US7,"Level",BY7)
call TF7(US7,"Iteration",2)
call TI7(US7,"Scepter",MVD)
call TriggerRegisterTimerEvent(t,0.35,true)
call TriggerAddCondition(t,Condition(function PRE))
call PPE(C17,GetUnitX(C17),GetUnitY(C17),BY7,1)
set C17=null
set p=null
set t=null
endfunction
function PWE takes nothing returns boolean
if GetSpellAbilityId()==1093678674 or GetSpellAbilityId()==1093747252 then
call PVE()
endif
return false
endfunction
function QK8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QK8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(t,Condition(function PWE))
call DX8(1093744450)
set t=null
endfunction
function PXE takes nothing returns boolean
return(GetSpellAbilityId()==1093683248)
endfunction
function PYE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local unit oA=CreateUnit(GetOwningPlayer(C17),1697656901,GetUnitX(C17),GetUnitY(C17),bj_UNIT_FACING)
set EZ7="PYE"
call L67(oA,1093683279)
call SetUnitAbilityLevel(oA,1093683279,GetUnitAbilityLevel(C17,1093683248))
call IssueTargetOrderById(oA,852069,C17)
call T97(US7)
call UQ7(t)
set t=null
set C17=null
set oA=null
return false
endfunction
function PZE takes nothing returns nothing
local unit PAE
local unit PBE=GetTriggerUnit()
local unit array PCE
local integer Rd
local trigger t=CreateTrigger()
set EZ7="PZE"
call UM7(PBE,"Sandstorm")
set PAE=CreateUnit(GetOwningPlayer(PBE),1697656913,GetUnitX(PBE),GetUnitY(PBE),bj_UNIT_FACING)
call SetUnitPathing(PAE,false)
call SetUnitInvulnerable(PAE,true)
call UnitAddAbility(PAE,1097625443)
call UnitAddAbility(PAE,1093683277)
call SetUnitAbilityLevelSwapped(1093683277,PAE,GetUnitAbilityLevelSwapped(1093683248,PBE))
call IssueImmediateOrderById(PAE,852177)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function PYE))
call TJ7(GetHandleId(t),"Hero",PBE)
set Rd=1
set PCE[Rd]=CreateUnit(GetOwningPlayer(PBE),1697656913,GetUnitX(PBE)+150,GetUnitY(PBE)+150,bj_UNIT_FACING)
call SetUnitTimeScalePercent(PCE[Rd],.0)
call SetUnitPathing(PCE[Rd],false)
call SetUnitInvulnerable(PCE[Rd],true)
call UnitAddAbility(PCE[Rd],1097625443)
set Rd=2
set PCE[Rd]=CreateUnit(GetOwningPlayer(PBE),1697656913,GetUnitX(PBE)+150,GetUnitY(PBE)-150,bj_UNIT_FACING)
call SetUnitTimeScalePercent(PCE[Rd],.0)
call SetUnitPathing(PCE[Rd],false)
call SetUnitInvulnerable(PCE[Rd],true)
call UnitAddAbility(PCE[Rd],1097625443)
set Rd=3
set PCE[Rd]=CreateUnit(GetOwningPlayer(PBE),1697656913,GetUnitX(PBE)-150,GetUnitY(PBE)+150,bj_UNIT_FACING)
call SetUnitTimeScalePercent(PCE[Rd],.0)
call SetUnitPathing(PCE[Rd],false)
call SetUnitInvulnerable(PCE[Rd],true)
call UnitAddAbility(PCE[Rd],1097625443)
set Rd=4
set PCE[Rd]=CreateUnit(GetOwningPlayer(PBE),1697656913,GetUnitX(PBE)-150,GetUnitY(PBE)-150,bj_UNIT_FACING)
call SetUnitTimeScalePercent(PCE[Rd],.0)
call SetUnitPathing(PCE[Rd],false)
call SetUnitInvulnerable(PCE[Rd],true)
call UnitAddAbility(PCE[Rd],1097625443)
if AJ7(GetOwningPlayer(PBE))then
call UnitApplyTimedLife(PCE[1],1112820806,20*GetUnitAbilityLevel(PBE,1093683248))
call UnitApplyTimedLife(PCE[2],1112820806,20*GetUnitAbilityLevel(PBE,1093683248))
call UnitApplyTimedLife(PCE[3],1112820806,20*GetUnitAbilityLevel(PBE,1093683248))
call UnitApplyTimedLife(PCE[4],1112820806,20*GetUnitAbilityLevel(PBE,1093683248))
endif
set t=null
set PAE=null
set PBE=null
endfunction
function sa takes nothing returns nothing
set DO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DO,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(DO,Condition(function PXE))
call TriggerAddAction(DO,function PZE)
endfunction
function P3E takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1697656913)
endfunction
function ScarabsFilter takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1966092594)or(GetUnitTypeId(GetFilterUnit())==1966092595)
endfunction
function FilterEidolons takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1752654196)or(GetUnitTypeId(GetFilterUnit())==1752658994)or(GetUnitTypeId(GetFilterUnit())==1752658995)or(GetUnitTypeId(GetFilterUnit())==1747988534)
endfunction
function P6E takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function PLE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local group g=T57(US7,"g")
local unit LI7=T37(US7,"Hero")
set EZ7="PLE"
if UJ7(LI7,"Sandstorm")==false then
call UnitRemoveAbility(LI7,1110455378)
endif
call ForGroup(g,function P6E)
call DestroyGroup(g)
call T97(US7)
call UQ7(t)
set t=null
set g=null
set LI7=null
return false
endfunction
function Trig_Sand_Storm_Turn_Off_Func005001002 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1429221451)
endfunction
function P1E takes nothing returns nothing
local unit PBE=GetTriggerUnit()
local group JJ8
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="P1E"
call UO7(PBE,"Sandstorm")
set JJ8=O27(GetOwningPlayer(PBE),Condition(function P3E))
call TS7(US7,"g",JJ8)
call TJ7(US7,"Hero",PBE)
call TriggerRegisterTimerEvent(t,GetUnitAbilityLevel(PBE,1093683248)*.3,false)
call TriggerAddCondition(t,Condition(function PLE))
set t=null
set PBE=null
set JJ8=null
endfunction
function sB takes nothing returns nothing
set Dp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Dp,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(Dp,Condition(function PXE))
call TriggerAddAction(Dp,function P1E)
endfunction
function P0E takes nothing returns nothing
call HY8(m0,GetEnumUnit(),ZH4,50*M0)
endfunction
function P5E takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local unit HV8=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
local group g=LD7()
local integer BY7=GetUnitAbilityLevel(p5,1093810507)
set EZ7="P5E"
call L67(HV8,1093684537)
call SetUnitAbilityLevel(HV8,1093684537,BY7)
call IssueImmediateOrder(HV8,"thunderclap")
call L67(HV8,1093677399)
call SetUnitAbilityLevel(HV8,1093677399,BY7)
call IssueImmediateOrder(HV8,"stomp")
set m0=p5
set M0=BY7
call GroupEnumUnitsInRange(g,x,y,350+25,Condition(function GQ8))
call ForGroup(g,function P0E)
call L97(g)
set p5=null
set HV8=null
set g=null
endfunction
function P2E takes nothing returns boolean
if GetSpellAbilityId()==1093810507 then
call P5E()
endif
return false
endfunction
function QM8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QM8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function P2E))
set t=null
endfunction
function P_E takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"UnitVar")
local unit Q4E=T37(US7,"Owner")
local unit HV8
local real FW8=UD7(US7,"Duration")
local integer BY7=GetUnitAbilityLevel(Q4E,(1093683287))
local real Q7E=UD7(US7,"x")
local real Q8E=UD7(US7,"y")
local real HUD=GetUnitX(C17)
local real HVD=GetUnitY(C17)
set EZ7="P_E"
if(HUD-Q7E)*(HUD-Q7E)+(HVD-Q8E)*(HVD-Q8E)>900 then
set HV8=CreateUnit(GetOwningPlayer(Q4E),(1747988530),GetUnitX(C17),GetUnitY(C17),0)
call SetUnitAbilityLevel(HV8,(1093683506),BY7)
call SetUnitAbilityLevel(HV8,(1093683289),BY7)
call UnitApplyTimedLife(HV8,1112820806,7)
call TG7(US7,"x",(HUD)*1.0)
call TG7(US7,"y",(HVD)*1.0)
endif
set FW8=FW8+0.2
call TG7(US7,"Duration",(FW8)*1.0)
if FW8>7 or GetUnitState(C17,UNIT_STATE_LIFE)<1 then
call PauseTimer(t)
call T97(US7)
endif
set t=null
set C17=null
set Q4E=null
set HV8=null
endfunction
function Q9E takes nothing returns nothing
local unit m5=GetEnumUnit()
local sound EU8
local timer t
local integer US7
set EZ7="Q9E"
call UnitDamageTarget(D8,m5,F8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(R8,m5)
if IsUnitType(m5,UNIT_TYPE_HERO)==true then
set t=CreateTimer()
set US7=GetHandleId(t)
set EU8=CreateSound("Sounds\\Spectral Dagger.mp3",false,true,true,10,10,"DefaultEAXON")
call SetSoundPosition(EU8,GetUnitX(m5),GetUnitY(m5),0)
call SetSoundDistanceCutoff(EU8,700)
call StartSound(EU8)
call KillSoundWhenDone(EU8)
call TJ7(US7,"UnitVar",m5)
call TJ7(US7,"Owner",D8)
call TG7(US7,"x",(GetUnitX(m5))*1.0)
call TG7(US7,"y",(GetUnitY(m5))*1.0)
call TimerStart(t,0.2,true,function P_E)
endif
set m5=null
set t=null
set EU8=null
endfunction
function QDE takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and IsUnitInGroup(GetFilterUnit(),R8)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false
endfunction
function QEE takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer US7=GetHandleId(t)
local group A39=T57(US7,"AlreadyDamaged")
local group JJ8=LD7()
local boolexpr A_D=Condition(function QDE)
local unit C17=T37(US7,"Hero")
local unit HO8=T37(US7,"Projectile")
local integer HB8=U97(US7,"TargetIndex")
local unit m5=A87(HB8)
local real Y5=GetUnitX(m5)
local real Z5=GetUnitY(m5)
local real t5=GetUnitX(HO8)
local real w5=GetUnitY(HO8)
local real l4=Atan2(Z5-w5,Y5-t5)
local real HUD=DT8(GetUnitX(HO8)+30*Cos(l4))
local real HVD=DU8(GetUnitY(HO8)+30*Sin(l4))
local unit HV8
local integer BY7=GetUnitAbilityLevel(C17,(1093683287))
set EZ7="QEE"
if UE7(US7,"TrailNext")then
call TI7(US7,"TrailNext",false)
set HV8=CreateUnit(GetOwningPlayer(C17),(1747988530),t5,w5,0)
call SetUnitAbilityLevel(HV8,(1093683506),BY7)
call SetUnitAbilityLevel(HV8,(1093683289),BY7)
call UnitApplyTimedLife(HV8,1112820806,12)
else
call TI7(US7,"TrailNext",true)
endif
call SetUnitX(HO8,HUD)
call SetUnitY(HO8,HVD)
call SetUnitFacing(HO8,l4*bj_RADTODEG)
set R8=A39
set D8=C17
set F8=50*GetUnitAbilityLevel(C17,(1093683287))
call GroupEnumUnitsInRange(JJ8,HUD,HVD,150,A_D)
call ForGroup(JJ8,function Q9E)
call L97(JJ8)
if(HUD-Y5)*(HUD-Y5)+(HVD-Z5)*(HVD-Z5)<1600 then
call PauseTimer(t)
call A77(HB8)
call T97(US7)
call KillUnit(HO8)
call L97(A39)
endif
set t=null
set A39=null
set JJ8=null
call DestroyBoolExpr(A_D)
set A_D=null
set C17=null
set HO8=null
set m5=null
set HV8=null
endfunction
function QFE takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer US7=GetHandleId(t)
local group A39=T57(US7,"AlreadyDamaged")
local group JJ8=LD7()
local boolexpr A_D=Condition(function QDE)
local unit C17=T37(US7,"Hero")
local unit HO8=T37(US7,"Projectile")
local real Y5=UD7(US7,"TargetX")
local real Z5=UD7(US7,"TargetY")
local real t5=GetUnitX(HO8)
local real w5=GetUnitY(HO8)
local real l4=UD7(US7,"Angle")
local real HUD=DT8(GetUnitX(HO8)+30*Cos(l4))
local real HVD=DU8(GetUnitY(HO8)+30*Sin(l4))
local unit HV8
local integer BY7=GetUnitAbilityLevel(C17,(1093683287))
set EZ7="QFE"
if UE7(US7,"TrailNext")then
call TI7(US7,"TrailNext",false)
set HV8=CreateUnit(GetOwningPlayer(C17),(1747988530),t5,w5,0)
call SetUnitAbilityLevel(HV8,(1093683506),BY7)
call SetUnitAbilityLevel(HV8,(1093683289),BY7)
call UnitApplyTimedLife(HV8,1112820806,12)
else
call TI7(US7,"TrailNext",true)
endif
call SetUnitX(HO8,HUD)
call SetUnitY(HO8,HVD)
set R8=A39
set D8=C17
set F8=50*GetUnitAbilityLevel(C17,(1093683287))
call GroupEnumUnitsInRange(JJ8,HUD,HVD,150,A_D)
call ForGroup(JJ8,function Q9E)
call L97(JJ8)
if(HUD-Y5)*(HUD-Y5)+(HVD-Z5)*(HVD-Z5)<1600 then
call PauseTimer(t)
call T97(US7)
call KillUnit(HO8)
call L97(A39)
endif
set t=null
set A39=null
set JJ8=null
call DestroyBoolExpr(A_D)
set A_D=null
set C17=null
set HO8=null
set HV8=null
endfunction
function QGE takes unit C17,integer D5 returns boolean
if(GetItemTypeId(UnitItemInSlot(C17,D5))==1886613604)then
return true
endif
if(GetItemTypeId(UnitItemInSlot(C17,D5))==1868983399)then
return true
endif
return false
endfunction
function QHE takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local real FW8=UD7(US7,"Duration")
local integer T8=0
set EZ7="QHE"
loop
exitwhen T8>5
if QGE(C17,T8)then
if GetUnitAbilityLevel(C17,(1110455351))==0 then
call SetItemDropOnDeath(UnitItemInSlot(C17,T8),true)
if GetItemTypeId(UnitItemInSlot(C17,T8))==1868983399 then
call SetItemDroppable(UnitItemInSlot(C17,T8),true)
endif
else
call SetItemDropOnDeath(UnitItemInSlot(C17,T8),false)
if GetItemTypeId(UnitItemInSlot(C17,T8))==1868983399 then
call SetItemDroppable(UnitItemInSlot(C17,T8),false)
endif
endif
endif
set T8=T8+1
endloop
set FW8=FW8+0.2
call TG7(US7,"Duration",(FW8)*1.0)
if GetUnitAbilityLevel(C17,(1110455351))==0 then
call SetUnitPathing(C17,true)
else
call SetUnitPathing(C17,false)
endif
if FW8>30 then
call PauseTimer(t)
call T97(US7)
call SetUnitPathing(C17,true)
set T8=0
loop
exitwhen T8>5
if QGE(C17,T8)then
call SetItemDropOnDeath(UnitItemInSlot(C17,T8),true)
if GetItemTypeId(UnitItemInSlot(C17,T8))==1868983399 then
call SetItemDroppable(UnitItemInSlot(C17,T8),true)
endif
endif
set T8=T8+1
endloop
endif
set t=null
set C17=null
endfunction
function QIE takes nothing returns boolean
return GetSpellAbilityId()==(1093683287)
endfunction
function QJE takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real t5=DT8(GetUnitX(C17))
local real w5=DU8(GetUnitY(C17))
local unit HO8=CreateUnit(GetOwningPlayer(C17),(1747988531),t5,w5,0)
local timer t=CreateTimer()
local integer US7=GetHandleId(t)
local group A39=LD7()
local location QKE
local real l4
local real Y5
local real Z5
set EZ7="QJE"
call SetUnitPathing(HO8,false)
call TS7(US7,"AlreadyDamaged",A39)
call TJ7(US7,"Hero",C17)
call TJ7(US7,"Projectile",HO8)
if m5!=null then
call TF7(US7,"TargetIndex",AD7(m5))
call TimerStart(t,0.035,true,function QEE)
else
set QKE=GetSpellTargetLoc()
set Y5=GetLocationX(QKE)
set Z5=GetLocationY(QKE)
set l4=Atan2(Z5-w5,Y5-t5)
call SetUnitFacing(HO8,l4*bj_RADTODEG)
set Y5=DT8(t5+2100*Cos(l4))
set Z5=DU8(w5+2100*Sin(l4))
call TG7(US7,"TargetX",(Y5)*1.0)
call TG7(US7,"TargetY",(Z5)*1.0)
call TG7(US7,"Angle",l4*1.0)
call TimerStart(t,0.035,true,function QFE)
endif
set t=CreateTimer()
set US7=GetHandleId(t)
call SetUnitPathing(C17,false)
call TJ7(US7,"Hero",C17)
call TimerStart(t,0.2,true,function QHE)
set C17=null
set m5=null
set HO8=null
set t=null
set A39=null
call RemoveLocation(QKE)
set QKE=null
endfunction
function RH8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RH8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QIE))
call TriggerAddAction(t,function QJE)
call CreateSound("Sounds\\Spectral Dagger.mp3",false,false,false,10,10,"DefaultEAXON")
call DX8(1093683506)
call DX8(1093683289)
set t=null
endfunction
function QME takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and GetUnitAbilityLevel(GetAttacker(),1093682776)>0
endfunction
function QNE takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false
endfunction
function QOE takes nothing returns nothing
local unit ZY8=GetAttacker()
local unit sE=GetTriggerUnit()
local group JJ8=LD7()
local boolexpr hP=Condition(function QNE)
local integer US7
set EZ7="QOE"
call GroupEnumUnitsInRange(JJ8,GetUnitX(sE),GetUnitY(sE),325+25,hP)
call GroupRemoveUnit(JJ8,sE)
if FirstOfGroup(JJ8)==null then
set US7=GetHandleId(ZY8)
if UJ7(ZY8,"Desolate")==false then
call UnitDamageTarget(ZY8,sE,5+15*GetUnitAbilityLevel(ZY8,1093682776),true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl",sE,"overhead"))
call UU7(ZY8,"Desolate",.3)
endif
endif
call L97(JJ8)
call DestroyBoolExpr(hP)
set ZY8=null
set sE=null
set JJ8=null
set hP=null
endfunction
function RI8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RI8"
call ky(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function QME))
call TriggerAddAction(t,function QOE)
set t=null
endfunction
function aDx takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function QPE takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=GetEnumUnit()
local unit oA=CreateUnit(GetOwningPlayer(C17),1697656901,GetUnitX(C17),GetUnitY(C17),0)
local real D_8=F8
set EZ7="QPE"
call UnitAddAbility(oA,1093684814)
call IssueTargetOrderById(oA,852095,m5)
call UnitDamageTarget(C17,m5,D_8,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
set C17=null
set m5=null
set oA=null
endfunction
function QQE takes nothing returns nothing
local real d=Q17(GetTriggerUnit(),GetEnumUnit())-25
local real QRE=0
set EZ7="QQE"
if d<300 then
set QRE=1
elseif d<1000 then
set QRE=(1000-d)/700
endif
if QRE>0 then
set WV4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=true
call HY8(GetTriggerUnit(),GetEnumUnit(),ZI4,YS*QRE)
set WV4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=false
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayDamage.mdl",GetEnumUnit(),"chest"))
endif
endfunction
function QSE takes nothing returns boolean
local unit LI7=GetTriggerUnit()
local real CV9=GetEventDamage()
local integer HW8=GetUnitAbilityLevel(LI7,1093684801)
local group g
set EZ7="QSE"
if IY8(CV9)then
set g=LD7()
set YS=CV9*(0.06+0.04*HW8)
call E48(LI7,YS)
call GroupEnumUnitsInRange(g,GetUnitX(LI7),GetUnitY(LI7),1025,Condition(function GQ8))
call ForGroup(g,function QQE)
call L97(g)
endif
set LI7=null
set g=null
return false
endfunction
function QTE takes unit C17,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
set EZ7="M0v"
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function QSE))
if BZ9 then
set nj[GetPlayerId(GetOwningPlayer(C17))]=t
endif
set t=null
endfunction
function QUE takes nothing returns boolean
if GetLearnedSkill()==1093684801 and GetUnitAbilityLevel(GetTriggerUnit(),1093684801)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call QTE(GetTriggerUnit(),false)
endif
return false
endfunction
function RJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RJ8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function QUE))
set t=null
endfunction
function QVE takes nothing returns boolean
return GetSpellAbilityId()==1093683257
endfunction
function QWE takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit C17=GetTriggerUnit()
local unit oA=CreateUnit(GetOwningPlayer(C17),1697656901,GetUnitX(m5),GetUnitY(m5),0)
set EZ7="QWE"
call TJ7(GetHandleId(oA),"HauntTarget",m5)
call L67(oA,1093684793)
call SetUnitAbilityLevel(oA,1093684793,GetUnitAbilityLevel(C17,1093683257))
call IssueTargetOrderById(oA,852274,C17)
set m5=null
set C17=null
set oA=null
endfunction
function QXE takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function QYE takes nothing returns nothing
local integer US7=GetHandleId(GetTriggeringTrigger())
local unit XU=T37(US7,"HauntImage")
local unit m5=T37(US7,"HauntTarget")
local integer QZE=U97(US7,"HauntPhase")
set EZ7="QYE"
if GetTriggerEventId()!=EVENT_UNIT_DEATH and GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_POINT_ORDER then
set QZE=QZE+1
call TF7(US7,"HauntPhase",QZE)
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call DisableTrigger(GetTriggeringTrigger())
call T97(GetHandleId(GetTriggeringTrigger()))
call TF7(US7,"HauntPhase",QZE)
if m5==GetTriggerUnit()then
call KillUnit(XU)
endif
elseif IsUnitPaused(XU)==false then
if QZE==2 then
call SetUnitVertexColor(XU,255,255,255,255)
endif
if QZE>1 then
call DisableTrigger(GetTriggeringTrigger())
call IssueTargetOrder(XU,"attack",m5)
call EnableTrigger(GetTriggeringTrigger())
else
call DisableTrigger(GetTriggeringTrigger())
call IssueTargetOrderById(XU,851986,m5)
call EnableTrigger(GetTriggeringTrigger())
endif
endif
set XU=null
set m5=null
endfunction
function QAE takes nothing returns boolean
return GetUnitAbilityLevel(GetSummonedUnit(),1110455884)>0
endfunction
function QBE takes nothing returns nothing
local unit oA=GetSummoningUnit()
local unit XU=GetSummonedUnit()
local unit m5=T37(GetHandleId(oA),"HauntTarget")
local trigger t=CreateTrigger()
set EZ7="QBE"
call SaveUnitHandle(L7,GetHandleId(M7[GetPlayerId(GetOwningPlayer(oA))]),StringHash("HauntTarget")+GetHandleId(XU),m5)
call SetUnitPathing(XU,false)
call SetUnitMoveSpeed(XU,400)
call SetUnitX(XU,GetUnitX(m5))
call SetUnitY(XU,GetUnitY(m5))
call IssueTargetOrderById(XU,851986,m5)
call SetUnitVertexColor(XU,255,255,255,50)
call TriggerRegisterUnitEvent(t,XU,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,XU,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,XU,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddAction(t,function QYE)
call DestroyEffect(AddSpecialEffect("units\\nightelf\\SpiritOfVengeance\\SpiritOfVengeance.mdl",GetUnitX(XU),GetUnitY(XU)))
call TJ7(GetHandleId(t),"HauntTarget",m5)
call TJ7(GetHandleId(t),"HauntImage",XU)
call TF7(GetHandleId(t),"HauntPhase",0)
if(T57(GetHandleId(GetOwningPlayer(GetSummoningUnit())),"MGrp")!=null)then
call GroupAddUnit(T57(GetHandleId(GetOwningPlayer(GetSummoningUnit())),"MGrp"),GetSummonedUnit())
call SetUnitUserData(GetSummonedUnit(),GetPlayerId(GetOwningPlayer(T37(GetHandleId(oA),"HauntTarget"))))
endif
call T97(GetHandleId(oA))
set t=null
set m5=null
set XU=null
set oA=null
endfunction
function QCE takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local group JJ8=LD7()
local boolexpr hP=Condition(function QXE)
local sound HT
set EZ7="QCE"
call L67(GetTriggerUnit(),(1093683265))
if(T57(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"MGrp")!=null)then
call GroupClear(T57(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"MGrp"))
endif
call SetUnitPathing(LI7,false)
call GroupEnumUnitsInRect(JJ8,bj_mapInitialPlayableArea,hP)
call ForGroup(JJ8,function QWE)
call SetUnitPathing(LI7,true)
if FirstOfGroup(JJ8)!=null then
set HT=CreateSound("Abilities\\Spells\\Other\\ANsa\\SacrificeUnit.wav",false,false,false,10,10,"DefaultEAXON")
call StartSound(HT)
call KillSoundWhenDone(HT)
endif
call DestroyBoolExpr(hP)
call L97(JJ8)
set LI7=null
set JJ8=null
set hP=null
endfunction
function Q3E takes nothing returns boolean
return GetLearnedSkill()==1093683257 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093683257)==1
endfunction
function Q6E takes nothing returns nothing
call L67(GetTriggerUnit(),1093683265)
endfunction
function RK8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RK8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QVE))
call TriggerAddAction(t,function QCE)
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function QAE))
call TriggerAddAction(t,function QBE)
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function Q3E))
call TriggerAddAction(t,function Q6E)
call CreateSound("Abilities\\Spells\\Other\\ANsa\\SacrificeUnit.wav",false,false,false,10,10,"DefaultEAXON")
call DX8(1093684793)
set t=null
endfunction
function QLE takes nothing returns boolean
return GetSpellAbilityId()==1093683265
endfunction
function Q1E takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1110455884)>0
endfunction
function Q0E takes nothing returns nothing
local unit C17
local real in=E78(GetEnumUnit(),GetSpellTargetLoc())
set EZ7="Q0E"
if in<F8 then
set D8=GetEnumUnit()
set F8=in
endif
set C17=null
endfunction
function Q5E takes nothing returns unit
local group JJ8=LD7()
local boolexpr hP=Condition(function Q1E)
set EZ7="Q5E"
set D8=null
set F8=9999999
call GroupEnumUnitsOfPlayer(JJ8,GetOwningPlayer(GetTriggerUnit()),hP)
call ForGroup(JJ8,function Q0E)
set Zz=JJ8
call DestroyBoolExpr(hP)
set JJ8=null
set hP=null
return D8
endfunction
function Reality_KillOtherImages takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function Q2E takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=Q5E()
local unit Q_E=LoadUnitHandle(L7,GetHandleId(C17),StringHash("HauntTarget")+GetHandleId(m5))
local real hN
local real ho
set EZ7="Q2E"
if m5==null then
call DQ8(GetOwningPlayer(C17),"Cannot find any of your Haunting illusions")
else
set hN=GetUnitX(m5)
set ho=GetUnitY(m5)
call KillUnit(m5)
call L97(Zz)
set Zz=null
call SetUnitX(C17,hN)
call SetUnitY(C17,ho)
if Q07(GetCameraEyePositionX(),GetCameraEyePositionY(),GetUnitX(m5),GetUnitY(m5))>1400 then
call PanCameraToTimedForPlayer(GetOwningPlayer(C17),hN,ho,0)
endif
call IssueTargetOrderById(C17,851983,Q_E)
endif
set C17=null
set m5=null
set Q_E=null
endfunction
function R4E takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=Q5E()
set EZ7="R4E"
if m5==null then
call RG7(C17)
call DQ8(GetOwningPlayer(C17),"Cannot find any of your Haunting illusions")
endif
set C17=null
set m5=null
endfunction
function RM8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RM8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QLE))
call TriggerAddAction(t,function Q2E)
set t=null
endfunction
function R7E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local integer BY7=GetUnitAbilityLevel(p5,1093682515)
local integer ZF9
local integer R8E
set EZ7="R7E"
if BY7>0 and L17(p5)==false then
set ZF9=R2I(GetUnitMoveSpeed(p5)*0.04*BY7)
set R8E=U97(US7,"LastBonus")
if ZF9!=R8E then
call TF7(US7,"LastBonus",ZF9)
endif
endif
set t=null
set p5=null
return false
endfunction
function R9E takes unit C17,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="EmpoweringHaste"
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function R7E))
call TJ7(US7,"Source",C17)
call TF7(US7,"LastBonus",0)
if BZ9 then
set aj[GetPlayerId(GetOwningPlayer(C17))]=t
endif
set t=null
endfunction
function RDE takes nothing returns boolean
if GetLearnedSkill()==1093682515 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093682515)==1 then
call R9E(GetTriggerUnit(),false)
endif
return false
endfunction
function QO8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QO8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function RDE))
set t=null
endfunction
function REE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real OJD=(LoadReal(L7,(GetHandleId(FJ8)),(685)))
set EZ7="REE"
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if OJD<(TimerGetElapsed(W))or GetTriggerEventId()==EVENT_WIDGET_DEATH then
call SaveReal(L7,(GetHandleId(FJ8)),(685),((0)*1.0))
call UnitRemoveAbility(FJ8,1093809224)
call UnitRemoveAbility(FJ8,1110459715)
endif
set t=null
set FJ8=null
return false
endfunction
function RFE takes unit FJ8 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="Spiritbash_AddMS"
call L67(FJ8,1093809224)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809224,false)
call SaveReal(L7,(GetHandleId(FJ8)),(685),(((TimerGetElapsed(W))+Z14-0.01)*1.0))
call TriggerRegisterTimerEvent(t,Z14,false)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerAddCondition(t,Condition(function REE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=null
endfunction
function RGE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real AZ9=(LoadReal(L7,(PP7),(13)))
local real x=GetUnitX(PU7)
local real y=GetUnitY(PU7)
local integer L48=GetTriggerEvalCount(t)
local real Y8D=(LoadReal(L7,(PP7),(193)))
local integer E_D=(LoadInteger(L7,(PP7),(12)))
set EZ7="RGE"
if L48>35 then
call SaveReal(L7,(PP7),(193),((Y8D*0.98)*1.0))
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH or L48>E_D then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",x,y))
call ER8(x,y,150)
set x=DT8(x+Y8D*Cos(AZ9))
set y=DU8(y+Y8D*Sin(AZ9))
if(IsPointInRegion(IU4,((x)*1.0),((y)*1.0)))==false then
call SetUnitX(PU7,x)
call SetUnitY(PU7,y)
endif
if L48==1 and(LoadBoolean(L7,(PP7),(698)))==false then
call IssueTargetOrder(FJ8,"attack",PU7)
endif
endif
set t=null
set PU7=null
set FJ8=null
return false
endfunction
function RHE takes unit FJ8,unit PU7,boolean RIE,boolean RJE returns nothing
local trigger t
local integer PP7
local real AZ9=Atan2(GetUnitY(PU7)-GetUnitY(FJ8),GetUnitX(PU7)-GetUnitX(FJ8))
local integer HW8=GetUnitAbilityLevel(FJ8,1093682997)
local unit HV8
set EZ7="Greaterbash"
if RIE then
endif
if HW8>0 then
set HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
call L67(HV8,1093752657)
call SetUnitAbilityLevel(HV8,1093752657,HW8)
if IssueTargetOrder(HV8,"thunderbolt",PU7)then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl",FJ8,"weapon"))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveReal(L7,(PP7),(13),((AZ9)*1.0))
call SaveReal(L7,(PP7),(193),((2)*1.0))
call SaveBoolean(L7,(PP7),(698),(RJE))
call SaveInteger(L7,(PP7),(12),(80+20*HW8))
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function RGE))
call HY8(FJ8,PU7,ZG4,GetUnitMoveSpeed(FJ8)*0.1*HW8)
call RFE(FJ8)
endif
if RJE==false then
call UU7(FJ8,"pIv",1.5)
endif
endif
set t=null
set FJ8=null
set PU7=null
set HV8=null
endfunction
function RKE takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093682997)>0 and IsUnitIllusion(GetAttacker())==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))and GetRandomInt(1,100)<=17 and UJ7(GetAttacker(),"pIv")==false then
call RHE(GetAttacker(),GetTriggerUnit(),false,false)
endif
return false
endfunction
function QP8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QP8"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function RKE))
set t=null
endfunction
function RME takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),A44)==false then
call GroupAddUnit(A44,GetEnumUnit())
call RHE(Z54,GetEnumUnit(),false,true)
endif
endfunction
function RNE takes integer id returns boolean
if id==1093750840 or id==1093682515 or id==1093682996 or id==1093747768 or id==1093682997 or id==1096904043 then
return true
endif
if id==852002 or id==852003 or id==852004 or id==852005 or id==852006 or id==852007 then
return true
endif
if id>1000000 then
return true
endif
return false
endfunction
function ROE takes nothing returns boolean
if(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(Z54))==true then
if Q17(Z24,GetFilterUnit())<Z_4 then
set Z_4=Q17(Z24,GetFilterUnit())
set Z04=GetFilterUnit()
endif
endif
return false
endfunction
function RPE takes unit FJ8,unit PU7 returns unit
local group g=LD7()
set EZ7="ChargeOfDarkness_FindNewTarget"
set IN4=FJ8
set Z54=FJ8
set Z04=null
set Z_4=999999
set Z24=PU7
call GroupEnumUnitsInRange(g,GetUnitX(PU7),GetUnitY(PU7),4000,Condition(function ROE))
call L97(g)
set g=null
return Z04
endfunction
function RQE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local real J_D=(550+50*HW8)*0.02
local real AO9=(LoadReal(L7,(PP7),(23)))
local real AP9=(LoadReal(L7,(PP7),(24)))
local real x
local real y
local real a
local real d
local string fx
local group g
if(GetTriggerEventId()==EVENT_WIDGET_DEATH and GetTriggerUnit()==FJ8)or GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or EG9(FJ8)or(LoadReal(L7,(PP7),(442)))<(TimerGetElapsed(W))then
if(GetTriggerEventId()!=EVENT_UNIT_ISSUED_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER)or((GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER)and RNE(GetIssuedOrderId())==false)then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(177))))
call UnitRemoveAbility(PU7,1093809228)
call UnitRemoveAbility(PU7,1110459716)
call L97((LoadGroupHandle(L7,(PP7),(187))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call SetUnitTimeScale(FJ8,1)
call KillUnit(HV8)
call SetUnitPathing(FJ8,true)
call SetUnitVertexColor(FJ8,255,255,255,255)
call UnitRemoveAbility(FJ8,1093744441)
call ER8(GetUnitX(FJ8),GetUnitY(FJ8),200)
call SaveBoolean(L7,GetHandleId(FJ8),1145131595,false)
call RemoveSavedHandle(L7,GetHandleId(FJ8),1145131595)
if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
call ResetUnitAnimation(FJ8)
endif
endif
elseif GetTriggerEventId()==EVENT_WIDGET_DEATH and GetTriggerUnit()==PU7 then
set fx=""
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(FJ8))or C67(GetLocalPlayer())then
set fx="Abilities\\Spells\\Other\\HowlOfTerror\\HowlTarget.mdl"
endif
call UnitRemoveAbility(PU7,1093809228)
call UnitRemoveAbility(PU7,1110459716)
set PU7=RPE(FJ8,PU7)
if PU7!=null then
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call SaveEffectHandle(L7,(PP7),(175),(AddSpecialEffectTarget(fx,PU7,"overhead")))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffectTarget(fx,PU7,"overhead")))
call SaveReal(L7,(PP7),(442),(((TimerGetElapsed(W))+50)*1.0))
call TriggerRegisterDeathEvent(t,PU7)
call SaveUnitHandle(L7,GetHandleId(FJ8),1145131595,PU7)
else
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(177))))
call UnitRemoveAbility(PU7,1093809228)
call UnitRemoveAbility(PU7,1110459716)
call L97((LoadGroupHandle(L7,(PP7),(187))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call SetUnitTimeScale(FJ8,1)
call KillUnit(HV8)
call SetUnitPathing(FJ8,true)
call ResetUnitAnimation(FJ8)
call SetUnitVertexColor(FJ8,255,255,255,255)
call UnitRemoveAbility(FJ8,1093744441)
call SetUnitPosition(FJ8,GetUnitX(FJ8),GetUnitY(FJ8))
call ER8(GetUnitX(FJ8),GetUnitY(FJ8),500)
call SaveBoolean(L7,GetHandleId(FJ8),1145131595,false)
call RemoveSavedHandle(L7,GetHandleId(FJ8),1145131595)
endif
else
set d=Q07(GetUnitX(FJ8),GetUnitY(FJ8),GetUnitX(PU7),GetUnitY(PU7))
if d<100 then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(177))))
call UnitRemoveAbility(PU7,1093809228)
call UnitRemoveAbility(PU7,1110459716)
call L97((LoadGroupHandle(L7,(PP7),(187))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call SetUnitTimeScale(FJ8,1)
call KillUnit(HV8)
set HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
call UnitAddAbility(HV8,1093683027)
call SetUnitAbilityLevel(HV8,1093683027,HW8)
call IssueTargetOrder(HV8,"thunderbolt",PU7)
call SetUnitPathing(FJ8,true)
call SetUnitVertexColor(FJ8,255,255,255,255)
call UnitRemoveAbility(FJ8,1093744441)
call SetUnitPosition(FJ8,GetUnitX(FJ8),GetUnitY(FJ8))
call ER8(GetUnitX(FJ8),GetUnitY(FJ8),200)
call SaveBoolean(L7,GetHandleId(FJ8),1145131595,false)
call RemoveSavedHandle(L7,GetHandleId(FJ8),1145131595)
set A74=HW8
call IssueTargetOrder(FJ8,"attack",PU7)
if AK7(GetOwningPlayer(FJ8))then
set hq[832+GetPlayerId(GetOwningPlayer(FJ8))]=0
endif
else
if GetTriggerEvalCount(t)==1 then
call DisableTrigger(t)
call IssueImmediateOrder(FJ8,"holdposition")
call EnableTrigger(t)
endif
if ModuloInteger(GetTriggerEvalCount(t),65)==0 then
if GetUnitTypeId(FJ8)==1160786520 then
call SetUnitAnimationByIndex(FJ8,1)
else
call SetUnitAnimationByIndex(FJ8,2)
endif
endif
set a=Q77(FJ8,PU7)*bj_DEGTORAD
call SetUnitFacing(FJ8,a*bj_RADTODEG)
set x=AO9+J_D*Cos(a)
set y=AP9+J_D*Sin(a)
call SetUnitX(FJ8,x)
call SetUnitY(FJ8,y)
call SetUnitX(HV8,GetUnitX(PU7))
call SetUnitY(HV8,GetUnitY(PU7))
call SaveReal(L7,(PP7),(23),((x)*1.0))
call SaveReal(L7,(PP7),(24),((y)*1.0))
set A44=(LoadGroupHandle(L7,(PP7),(187)))
set g=LD7()
set IN4=FJ8
set Z54=FJ8
call GroupEnumUnitsInRange(g,x,y,325,Condition(function G78))
call GroupRemoveUnit(g,PU7)
set A74=HW8
call ForGroup(g,function RME)
call L97(g)
set g=null
if d<3000 and GetUnitAbilityLevel(PU7,1093809228)==0 then
endif
if AK7(GetOwningPlayer(FJ8))then
set hq[832+GetPlayerId(GetOwningPlayer(FJ8))]=Bz+1
endif
endif
endif
set t=null
set FJ8=null
set PU7=null
set HV8=null
return false
endfunction
function RRE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1865429073,GetUnitX(PU7),GetUnitY(PU7),0)
local integer HW8=GetUnitAbilityLevel(FJ8,1093750840)
local string fx=""
set EZ7="RRE"
call SaveBoolean(L7,GetHandleId(FJ8),1145131595,true)
call SaveUnitHandle(L7,GetHandleId(FJ8),1145131595,PU7)
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(FJ8))or C67(GetLocalPlayer())then
set fx="Abilities\\Spells\\Other\\HowlOfTerror\\HowlTarget.mdl"
call PingMinimapEx(GetUnitX(PU7),GetUnitY(PU7),2,255,255,255,false)
endif
call IssueTargetOrder(FJ8,"move",PU7)
call SetUnitPathing(FJ8,false)
if GetUnitTypeId(FJ8)==1160786520 then
call SetUnitAnimationByIndex(FJ8,1)
else
call SetUnitAnimationByIndex(FJ8,2)
endif
call SetUnitTimeScale(FJ8,2.5)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093744441,false)
call SetUnitVertexColor(FJ8,255,255,255,100)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveReal(L7,(PP7),(442),(((TimerGetElapsed(W))+50)*1.0))
call SaveReal(L7,(PP7),(23),((GetUnitX(FJ8))*1.0))
call SaveReal(L7,(PP7),(24),((GetUnitY(FJ8))*1.0))
call SaveEffectHandle(L7,(PP7),(175),(AddSpecialEffectTarget(fx,PU7,"overhead")))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffectTarget(fx,PU7,"overhead")))
call SaveEffectHandle(L7,(PP7),(177),(AddSpecialEffectTarget("war3mapImported\\ShockwaveMissilePurple.mdx",FJ8,"origin")))
call SaveGroupHandle(L7,(PP7),(187),(LD7()))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddCondition(t,Condition(function RQE))
set t=null
set FJ8=null
set PU7=null
set HV8=null
endfunction
function RSE takes nothing returns boolean
if GetSpellAbilityId()==1093750840 and L87(GetSpellTargetUnit())==false then
call RRE()
endif
return false
endfunction
function QN8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QN8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RSE))
set t=null
call DX8(1093687350)
endfunction
function RTE takes unit FJ8,unit PU7 returns nothing
local trigger t
local integer PP7
local real l4=Atan2(GetUnitY(PU7)-GetUnitY(FJ8),GetUnitX(PU7)-GetUnitX(FJ8))
local integer HW8=4
set EZ7="NetherStrike_GreaterBash"
call RHE(FJ8,PU7,true,true)
set t=null
endfunction
function RUE takes nothing returns nothing
call RTE(W04,GetEnumUnit())
endfunction
function RVE takes unit FJ8,unit PU7 returns nothing
local group g=LD7()
set EZ7="NetherStrike_AffectArea"
set IN4=FJ8
set W04=FJ8
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),275,Condition(function G78))
call ForGroup(g,function RUE)
call L97(g)
set g=null
endfunction
function RWE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer L48=GetTriggerEvalCount(t)
local integer RXE
local integer HW8
local real AZ9
local real AO9=(LoadReal(L7,(PP7),(23)))
local real AP9=(LoadReal(L7,(PP7),(24)))
local real x=GetUnitX(PU7)
local real y=GetUnitY(PU7)
local real d=Q07(x,y,AO9,AP9)
set EZ7="RWE"
call SaveReal(L7,(PP7),(23),((x)*1.0))
call SaveReal(L7,(PP7),(24),((y)*1.0))
if GetTriggerEventId()==EVENT_UNIT_DEATH or L48==200 or d>1800 then
call SetUnitVertexColor(FJ8,255,255,255,255)
call UnitShareVision(PU7,GetOwningPlayer(FJ8),false)
call UnitRemoveAbility(FJ8,1093744441)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
if L48<100 then
set RXE=L48
else
set RXE=200-L48
endif
call SetUnitVertexColor(FJ8,255,255,255,255*(100-RXE)/100)
if L48==100 then
set HW8=(LoadInteger(L7,(PP7),(5)))
set AZ9=Atan2(GetUnitY(PU7)-GetUnitY(FJ8),GetUnitX(PU7)-GetUnitX(FJ8))
call SetUnitPosition(FJ8,GetUnitX(PU7)+80*Cos(AZ9),GetUnitY(PU7)+80*Sin(AZ9))
call SetUnitAnimation(FJ8,"attack")
call IssueTargetOrder(FJ8,"attack",PU7)
if GetUnitAbilityLevel(FJ8,1093682996)>0 then
call RTE(FJ8,PU7)
else
call RVE(FJ8,PU7)
endif
call HY8(FJ8,PU7,ZG4,50+100*HW8)
endif
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function RYE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093682996)
set EZ7="RYE"
if HW8==0 then
set HW8=GetUnitAbilityLevel(FJ8,1093747768)
endif
call UnitShareVision(PU7,GetOwningPlayer(FJ8),true)
call IssueImmediateOrder(FJ8,"halt")
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveReal(L7,(PP7),(23),((GetUnitX(PU7))*1.0))
call SaveReal(L7,(PP7),(24),((GetUnitY(PU7))*1.0))
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function RWE))
call L67(FJ8,1093744441)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093744441,false)
set t=null
set FJ8=null
set PU7=null
endfunction
function RZE takes nothing returns boolean
if(GetSpellAbilityId()==1093682996 or GetSpellAbilityId()==1093747768)and L87(GetSpellTargetUnit())==false then
call RYE()
endif
return false
endfunction
function QQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QQ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RZE))
set t=null
endfunction
function RAE takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093809973)
set EZ7="RAE"
if HW8==1 then
call L67(FJ8,1093809974)
elseif HW8==2 then
call UnitRemoveAbility(FJ8,1093809974)
call L67(FJ8,1093809977)
elseif HW8==3 then
call UnitRemoveAbility(FJ8,1093809974)
call UnitRemoveAbility(FJ8,1093809977)
call L67(FJ8,1093809975)
elseif HW8==4 then
call UnitRemoveAbility(FJ8,1093809974)
call UnitRemoveAbility(FJ8,1093809977)
call UnitRemoveAbility(FJ8,1093809975)
call L67(FJ8,1093809976)
endif
set FJ8=null
endfunction
function RBE takes nothing returns boolean
if GetLearnedSkill()==1093809973 and IsUnitIllusion(GetTriggerUnit())==false then
call RAE()
endif
return false
endfunction
function QT8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QT8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function RBE))
set t=null
endfunction
function RCE takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local real R3E=UD7(US7,"SourceLifePercent")
local real R6E=UD7(US7,"TargetLifePercent")
local integer BY7=GetUnitAbilityLevel(p5,1093678929)
local real RLE=0.33
set EZ7="RCE"
if BY7==2 then
set RLE=0.28
elseif BY7==3 then
set RLE=0.23
endif
if GetSpellTargetUnit()==p5 then
call SetUnitState(p5,UNIT_STATE_LIFE,RMaxBJ(GetUnitState(p5,UNIT_STATE_MAX_LIFE)*R6E*0.01,GetUnitState(p5,UNIT_STATE_MAX_LIFE)*RLE))
endif
if GetSpellTargetUnit()==m5 then
call SetUnitLifePercentBJ(m5,R3E)
if GetUnitLifePercent(m5)<33.00 and BY7==1 and GetUnitState(m5,UNIT_STATE_LIFE)>1 then
call SetUnitLifePercentBJ(m5,33.00)
endif
if GetUnitLifePercent(m5)<28.00 and BY7==2 and GetUnitState(m5,UNIT_STATE_LIFE)>1 then
call SetUnitLifePercentBJ(m5,28.00)
endif
if GetUnitLifePercent(m5)<23.00 and BY7==3 and GetUnitState(m5,UNIT_STATE_LIFE)>1 then
call SetUnitLifePercentBJ(m5,23.00)
endif
endif
if GetTriggerEvalCount(t)==2 then
call T97(US7)
call UQ7(t)
endif
set p5=null
set m5=null
set t=null
endfunction
function R1E takes nothing returns boolean
if GetSpellAbilityId()==1093678930 then
call RCE()
endif
return false
endfunction
function R0E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit HV8
set EZ7="R0E"
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TG7(US7,"SourceLifePercent",(GetUnitLifePercent(p5))*1.0)
call TG7(US7,"TargetLifePercent",(GetUnitLifePercent(m5))*1.0)
call TriggerAddCondition(t,Condition(function R1E))
set HV8=CreateUnit(GetOwningPlayer(m5),1697656921,GetUnitX(m5),GetUnitY(m5),0)
call TriggerRegisterUnitEvent(t,HV8,EVENT_UNIT_SPELL_EFFECT)
call L67(HV8,1093678930)
call IssueTargetOrder(HV8,"thunderbolt",p5)
call ShowUnit(HV8,false)
call SetUnitPathing(HV8,false)
call SetUnitInvulnerable(HV8,true)
call UnitApplyTimedLife(HV8,1112820806,0.2)
set HV8=CreateUnit(GetOwningPlayer(p5),1697656921,GetUnitX(p5),GetUnitY(p5),0)
call TriggerRegisterUnitEvent(t,HV8,EVENT_UNIT_SPELL_EFFECT)
call L67(HV8,1093678930)
call IssueTargetOrder(HV8,"thunderbolt",m5)
call ShowUnit(HV8,false)
call SetUnitPathing(HV8,false)
call SetUnitInvulnerable(HV8,true)
call UnitApplyTimedLife(HV8,1112820806,0.2)
set t=null
set p5=null
set m5=null
set HV8=null
endfunction
function R5E takes nothing returns boolean
if GetSpellAbilityId()==1093678929 then
call R0E()
endif
return false
endfunction
function QR8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QR8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function R5E))
set t=null
endfunction
function R2E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit CT8=(LoadUnitHandle(L7,(PP7),(335)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
set EZ7="R2E"
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if GetTriggerUnit()!=CT8 then
call KillUnit(CT8)
endif
else
call IssueTargetOrder(CT8,"attack",PU7)
endif
set t=null
set CT8=null
set PU7=null
return false
endfunction
function R_E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local unit CT8
set EZ7="R_E"
if GetSummoningUnit()==HV8 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set CT8=GetSummonedUnit()
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterDeathEvent(t,CT8)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function R2E))
call SaveUnitHandle(L7,(PP7),(335),(CT8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call UnitAddAbility(CT8,1097625443)
call SetUnitPosition(CT8,GetUnitX(PU7)+100,GetUnitY(PU7)+100)
call IssueTargetOrder(CT8,"attack",PU7)
call SetUnitMoveSpeed(CT8,522)
call SetUnitVertexColorBJ(CT8,100,100,100,60)
endif
set t=null
set PU7=null
set FJ8=null
set HV8=null
return false
endfunction
function S4E takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093815130)
local integer id
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(FJ8),GetUnitY(FJ8),0)
local trigger t
local integer PP7
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093809751,false)
if EM9(PU7)==false then
call FV8(PU7,1093809751,1,5,1110459722)
endif
set t=CreateTrigger()
set PP7=GetHandleId(t)
call EO8(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function R_E))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call L67(HV8,1093809227)
call SetUnitAbilityLevel(HV8,1093809227,HW8)
call IssueTargetOrderById(HV8,852274,PU7)
call ET8(A94,GetUnitX(PU7),GetUnitY(PU7))
set FJ8=null
set PU7=null
set HV8=null
set t=null
endfunction
function S7E takes nothing returns boolean
if GetSpellAbilityId()==1093815130 then
call S4E()
endif
return false
endfunction
function QS8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QS8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function S7E))
set t=null
endfunction
function S8E takes nothing returns nothing
local unit FJ8=GetSummoningUnit()
local unit CT8=GetSummonedUnit()
set EZ7="S8E"
call SelectUnitAddForPlayer(CT8,GetOwningPlayer(FJ8))
call UnitAddAbility(CT8,1093815129)
call UnitRemoveAbility(CT8,1093815129)
call SetUnitState(CT8,UNIT_STATE_LIFE,GetUnitState(CT8,UNIT_STATE_MAX_LIFE))
call SetUnitPosition(CT8,GetUnitX(CT8),GetUnitY(CT8))
set FJ8=null
set CT8=null
endfunction
function S9E takes nothing returns boolean
if GetUnitAbilityLevel(GetSummonedUnit(),1110459721)>0 then
call S8E()
endif
return false
endfunction
function SDE takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit HV8
local integer HW8=GetUnitAbilityLevel(FJ8,1093815128)
set HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(FJ8),GetUnitY(FJ8),0)
call L67(HV8,1093679185)
call SetUnitAbilityLevel(HV8,1093679185,HW8)
call IssueTargetOrderById(HV8,852274,FJ8)
set FJ8=null
set HV8=null
endfunction
function SEE takes nothing returns boolean
if GetSpellAbilityId()==1093815128 and GetUnitTypeId(GetTriggerUnit())==1164277353 then
call SDE()
endif
return false
endfunction
function QW8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QW8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SEE))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function S9E))
set t=null
endfunction
function SFE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>(4*(4+HW8))or C37(PU7)or Q17(FJ8,PU7)>700 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call KillUnit(HV8)
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetTriggerEvalCount(t)>1 and GetSpellAbilityId()==1093751361 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveAbility(FJ8,1093751361)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093750856,true)
call KillUnit(HV8)
endif
elseif IsUnitVisible(PU7,GetOwningPlayer(FJ8))==false then
if(LoadInteger(L7,(PP7),(34)))==1 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call KillUnit(HV8)
else
call SaveInteger(L7,(PP7),(34),(1))
endif
else
call SaveInteger(L7,(PP7),(34),(0))
if IsUnitAlly(FJ8,GetOwningPlayer(PU7))==false then
call SetUnitState(FJ8,UNIT_STATE_LIFE,GetUnitState(FJ8,UNIT_STATE_LIFE)+HW8*25.0/4.0)
else
call SetUnitState(PU7,UNIT_STATE_LIFE,GetUnitState(PU7,UNIT_STATE_LIFE)+HW8*50.0/4.0)
endif
endif
set t=null
set FJ8=null
set PU7=null
set HV8=null
return false
endfunction
function SGE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(FJ8,1093751361)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093750856,true)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
if GetTriggerEvalCount(t)==1 then
call IssueImmediateOrderById(FJ8,851993)
endif
if IsUnitAlly(FJ8,GetOwningPlayer(PU7))==false then
call SetUnitX(HV8,GetUnitX(FJ8))
call SetUnitY(HV8,GetUnitY(FJ8))
else
call SetUnitX(HV8,GetUnitX(PU7))
call SetUnitY(HV8,GetUnitY(PU7))
endif
endif
set t=null
set FJ8=null
set PU7=null
set HV8=null
return false
endfunction
function SHE takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093750856)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit HV8
if IsUnitAlly(FJ8,GetOwningPlayer(PU7))==false then
set HV8=CreateUnit(GetOwningPlayer(FJ8),1966092615,0,0,0)
call L67(HV8,1093678156)
call SetUnitAbilityLevel(HV8,1093678156,HW8)
call SetUnitX(HV8,GetUnitX(FJ8))
call SetUnitY(HV8,GetUnitY(FJ8))
call IssueTargetOrderById(HV8,852487,PU7)
else
call L67(FJ8,1093751361)
call UnitMakeAbilityPermanent(FJ8,true,1093751361)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093750856,false)
set HV8=CreateUnit(B7,1966092615,0,0,0)
call L67(HV8,1093678156)
call SetUnitAbilityLevel(HV8,1093678156,HW8)
call SetUnitX(HV8,GetUnitX(PU7))
call SetUnitY(HV8,GetUnitY(PU7))
call IssueTargetOrderById(HV8,852487,FJ8)
endif
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SFE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveInteger(L7,(PP7),(34),(0))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerRegisterUnitEvent(t,HV8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function SGE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
set FJ8=null
set PU7=null
set t=null
endfunction
function SIE takes nothing returns boolean
if GetSpellAbilityId()==1093750856 and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or L87(GetSpellTargetUnit())==false)then
call SHE()
endif
return false
endfunction
function QV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SIE))
endfunction
function SJE takes nothing returns boolean
return GetSpellAbilityId()==1093683252
endfunction
function SKE takes nothing returns nothing
local unit Z49=GetTriggerUnit()
local integer HW8=GetUnitAbilityLevel(Z49,1093683252)
local unit HV8=CreateUnit(GetOwningPlayer(Z49),1697656901,GetUnitX(Z49),GetUnitY(Z49),0)
call UnitAddAbility(HV8,1093814862)
call SetUnitAbilityLevel(HV8,1093814862,HW8)
call IssueTargetOrderById(HV8,852274,Z49)
endfunction
function QU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SJE))
call TriggerAddAction(t,function SKE)
endfunction
function SME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=GetEventDamageSource()
local real d=GetEventDamage()
local real YF8=UD7(US7,"KrakenShell|Damage")
local real SNE=UD7(US7,"KrakenShell|LastTime")
set EZ7="SME"
if AI7(GetOwningPlayer(m5))then
if(SNE+M2)<(RF7())then
set YF8=0
endif
set SNE=(RF7())
set YF8=YF8+d
if YF8>p2 and GetUnitAbilityLevel(p5,1112433775)==0 then
set YF8=0
call ET9(p5)
call EQ9(p5,0,0)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",p5,"origin"))
endif
call TG7(US7,"KrakenShell|Damage",YF8)
call TG7(US7,"KrakenShell|LastTime",SNE)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function SOE takes unit p5,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="pPv"
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function SME))
call TJ7(US7,"Source",p5)
call TG7(US7,"KrakenShell|Damage",0)
call TG7(US7,"KrakenShell|LastTime",RF7())
if BZ9 then
set aj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set t=null
endfunction
function SPE takes nothing returns boolean
if GetLearnedSkill()==1093678149 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093678149)==1 then
call SOE(GetTriggerUnit(),false)
endif
return false
endfunction
function QX8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QX8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function SPE))
set t=null
endfunction
function SQE takes nothing returns boolean
return GetSpellAbilityId()==1093678134 and L87(GetSpellTargetUnit())==false
endfunction
function SRE takes nothing returns nothing
local unit t=GetSpellTargetUnit()
local real SSE=(60.+(50.*I2R(GetUnitAbilityLevelSwapped(1093678134,GetTriggerUnit()))))
set EZ7="SRE"
call UnitDamageTargetBJ(GetTriggerUnit(),t,SSE,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_COLD)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",t,"chest"))
set t=null
endfunction
function QY8 takes nothing returns nothing
set DQ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DQ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(DQ,Condition(function SQE))
call TriggerAddAction(DQ,function SRE)
endfunction
function STE takes nothing returns boolean
return GetSpellAbilityId()==1093685074
endfunction
function SUE takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0
endfunction
function SVE takes nothing returns nothing
call HY8(D8,GetEnumUnit(),ZH4,F8)
endfunction
function SWE takes unit FJ8,unit PU7,real CV9 returns nothing
local group CZ9=LD7()
local boolexpr RKD=Condition(function SUE)
set EZ7="Healing_DamageUnitsAround"
set D8=FJ8
set F8=CV9
call GroupEnumUnitsInRange(CZ9,GetUnitX(PU7),GetUnitY(PU7),185+25,RKD)
call ForGroup(CZ9,function SVE)
call DestroyBoolExpr(RKD)
call L97(CZ9)
set CZ9=null
set RKD=null
endfunction
function SXE takes nothing returns boolean
return IsUnitInGroup(GetFilterUnit(),R8)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and L17(GetFilterUnit())==false and GetFilterUnit()!=GM7
endfunction
function SYE takes group SZE,unit SAE,unit FJ8,unit pzv returns unit
local group CZ9=LD7()
local boolexpr RKD=Condition(function SXE)
local unit SBE=null
local unit SCE
set EZ7="Healing_FindBestTarget"
set R8=SZE
set D8=FJ8
call GroupEnumUnitsInRange(CZ9,GetUnitX(SAE),GetUnitY(SAE),500,RKD)
set SCE=FirstOfGroup(CZ9)
set SBE=SCE
loop
exitwhen SCE==null
if GetUnitState(SCE,UNIT_STATE_LIFE)!=GetUnitState(SCE,UNIT_STATE_MAX_LIFE)then
if SCE!=FJ8 and IsUnitType(SCE,UNIT_TYPE_HERO)==true and IsUnitType(SBE,UNIT_TYPE_HERO)==false then
set SBE=SCE
elseif SCE!=FJ8 and GetUnitState(SCE,UNIT_STATE_LIFE)<GetUnitState(SBE,UNIT_STATE_LIFE)and IsUnitType(SCE,UNIT_TYPE_HERO)==true and IsUnitType(SBE,UNIT_TYPE_HERO)==true then
set SBE=SCE
elseif SCE!=FJ8 and IsUnitType(SBE,UNIT_TYPE_HERO)==false and GetUnitState(SCE,UNIT_STATE_LIFE)<GetUnitState(SBE,UNIT_STATE_LIFE)then
set SBE=SCE
elseif SCE==FJ8 then
set SBE=SCE
endif
endif
call GroupRemoveUnit(CZ9,SCE)
set SCE=FirstOfGroup(CZ9)
endloop
call L97(CZ9)
call DestroyBoolExpr(RKD)
set CZ9=null
set RKD=null
set SCE=null
set GP7=SBE
return GP7
endfunction
function S3E takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local string S6E="Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCaster.mdl"
local string SLE="origin"
local unit array S1E
local integer x
local integer i=1
local integer HW8=GetUnitAbilityLevel(LI7,1093685074)
local real CV9=60+HW8*20
local group SZE=LD7()
local integer S0E
local boolean S5E=false
set EZ7="S3E"
set GM7=LI7
if HW8==3 then
set S0E=4
elseif HW8==4 then
set S0E=5
else
set S0E=3
endif
call SetUnitState(LI7,UNIT_STATE_LIFE,GetUnitState(LI7,UNIT_STATE_LIFE)+CV9)
call SWE(LI7,LI7,CV9)
call GroupAddUnit(SZE,LI7)
call EE8(S6E,LI7,SLE,2)
if PU7==LI7 then
set S1E[i]=SYE(SZE,LI7,LI7,PU7)
else
set S1E[i]=PU7
endif
if S1E[i]==null then
call L97(SZE)
return
endif
call SetUnitState(S1E[i],UNIT_STATE_LIFE,GetUnitState(S1E[i],UNIT_STATE_LIFE)+CV9)
call SWE(LI7,S1E[i],CV9)
call GroupAddUnit(SZE,S1E[i])
call EE8(S6E,S1E[i],SLE,2)
call EH8("SPLK",GetUnitX(LI7),GetUnitY(LI7),GetUnitX(S1E[i]),GetUnitY(S1E[i]),0.3,0.5,0.9,1.,0.7)
set i=2
loop
exitwhen i>S0E or S5E
set S1E[i]=SYE(SZE,S1E[i-1],LI7,PU7)
if S1E[i]==null then
set S5E=true
else
call GroupAddUnit(SZE,S1E[i])
call EE8(S6E,S1E[i],SLE,2)
call SetUnitState(S1E[i],UNIT_STATE_LIFE,GetUnitState(S1E[i],UNIT_STATE_LIFE)+CV9)
call SWE(LI7,S1E[i],CV9)
call EH8("SPLK",GetUnitX(S1E[i-1]),GetUnitY(S1E[i-1]),GetUnitX(S1E[i]),GetUnitY(S1E[i]),0.3,0.5,0.9,1.,0.7)
set i=i+1
endif
endloop
loop
set i=i-1
set S1E[i]=null
exitwhen i<2
endloop
call L97(SZE)
set LI7=null
set PU7=null
set SZE=null
endfunction
function S48 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="S48"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function STE))
call TriggerAddAction(t,function S3E)
set t=null
endfunction
function S2E takes nothing returns boolean
return GetSpellAbilityId()==(1093684817)and L87(GetSpellTargetUnit())==false
endfunction
function S_E takes unit p5,unit m5,integer BY7 returns nothing
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
set EZ7="BlowDart_Slow"
call L67(oA,1093684810)
call SetUnitAbilityLevel(oA,1093684810,BY7)
call IssueTargetOrderById(oA,852075,m5)
set oA=null
endfunction
function T4E takes unit p5,unit m5 returns nothing
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
set EZ7="BlowDart_Stun"
call L67(oA,1093684811)
call IssueTargetOrderById(oA,852095,m5)
set oA=null
endfunction
function T7E takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=T37(PP7,"Source")
local unit PU7=T37(PP7,"Target")
local integer HW8=GetUnitAbilityLevel(FJ8,1093684817)
local integer T8E=GetTriggerExecCount(t)
local real CV9=8*HW8
local unit HV8=T37(PP7,"Caster")
set EZ7="T7E"
if HW8==1 then
call L67(PU7,1093685079)
call HY8(HV8,PU7,ZH4,CV9)
if T8E==8 then
call UnitRemoveAbility(PU7,1093685079)
call T97(PP7)
call UQ7(t)
endif
endif
if HW8==2 then
if T8E==1 then
call S_E(FJ8,PU7,2)
endif
if T8E>1 then
call L67(PU7,1093685079)
call HY8(HV8,PU7,ZH4,CV9)
endif
if T8E==9 then
call UnitRemoveAbility(PU7,1093685079)
call T97(PP7)
call UQ7(t)
endif
endif
if HW8==3 then
if T8E==1 then
call S_E(FJ8,PU7,2)
endif
if T8E==2 then
call T4E(FJ8,PU7)
endif
if T8E>2 then
call L67(PU7,1093685079)
call HY8(HV8,PU7,ZH4,CV9)
endif
if T8E==10 then
call UnitRemoveAbility(PU7,1093685079)
call T97(PP7)
call UQ7(t)
endif
endif
if HW8==4 then
if T8E==1 then
call S_E(FJ8,PU7,2)
endif
if T8E==2 then
call T4E(FJ8,PU7)
endif
if T8E>2 then
call L67(PU7,1093685079)
call HY8(HV8,PU7,ZH4,CV9)
endif
if T8E==10 then
call UnitRemoveAbility(PU7,1093685079)
call T97(PP7)
call UQ7(t)
endif
endif
set t=null
set HV8=null
set FJ8=null
set PU7=null
endfunction
function T9E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit HV8=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),0)
set EZ7="T9E"
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddAction(t,function T7E)
call TJ7(US7,"Source",GetTriggerUnit())
call TJ7(US7,"Target",GetSpellTargetUnit())
call TJ7(US7,"Caster",(HV8))
call S_E(GetTriggerUnit(),GetSpellTargetUnit(),1)
set t=null
set HV8=null
endfunction
function S78 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="S78"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function S2E))
call TriggerAddAction(t,function T9E)
call DX8(1093684810)
call DX8(1093684811)
set t=null
endfunction
function TDE takes string EK8,unit PU7,unit LI7 returns nothing
local texttag tt=CreateTextTag()
set EZ7="ShallowGrave_TextTag"
call SetTextTagText(tt,EK8,0.033)
call SetTextTagPosUnit(tt,PU7,64)
call SetTextTagColor(tt,160,0,255,255)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,0.15)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,0.65)
if IsUnitAlly(LI7,GetLocalPlayer())or C67(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
set tt=null
endfunction
function TEE takes real HT8 returns string
if HT8>4.5 then
return"5.0"
elseif HT8>4.0 then
return"4.5"
elseif HT8>3.5 then
return"4.0"
elseif HT8>3.0 then
return"3.5"
elseif HT8>2.5 then
return"3.0"
elseif HT8>2.0 then
return"2.5"
elseif HT8>1.5 then
return"2.0"
elseif HT8>1.0 then
return"1.5"
elseif HT8>0.5 then
return"1.0"
elseif HT8>0.0 then
return"0.5"
else
return"0.0"
endif
return" "
endfunction
function TFE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=T37(PP7,"Target")
local integer L48=GetTriggerEvalCount(t)
set EZ7="TFE"
if L48>11 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
call TDE(TEE(5.5-0.5*L48),PU7,PU7)
endif
set t=null
set PU7=null
return false
endfunction
function TGE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local real THE=UD7(US7,"Damage")
local real TIE=D28(GetUnitState(m5,UNIT_STATE_LIFE)-THE,1)
local real TJE=UD7(GetHandleId(m5),"ShallowGrave|FakeLife")
set EZ7="TGE"
call SetUnitState(m5,UNIT_STATE_LIFE,TIE)
call TG7(GetHandleId(m5),"ShallowGrave|FakeLife",TJE-THE)
call T97(US7)
call UQ7(t)
set t=null
set m5=null
return false
endfunction
function TKE takes unit m5,real THE returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local real TJE=UD7(GetHandleId(m5),"ShallowGrave|FakeLife")
set EZ7="Pav"
call TJ7(US7,"Target",m5)
call TG7(US7,"Damage",THE)
call TG7(GetHandleId(m5),"ShallowGrave|FakeLife",TJE+THE)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function TGE))
set t=null
endfunction
function TME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5
local real Wx
local real THE
local integer iX=GetTriggerEvalCount(t)
local real TJE
local real TNE=UD7(US7,"LastFrame")
local real TOE=UD7(US7,"FrameDamage")
set EZ7="TME"
if TNE!=RF7()then
set TNE=RF7()
set TOE=0
call TG7(US7,"LastFrame",TNE)
call TG7(US7,"FrameDamage",TOE)
endif
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
set m5=GetTriggerUnit()
set TJE=UD7(GetHandleId(m5),"ShallowGrave|FakeLife")
set Wx=GetUnitState(m5,UNIT_STATE_LIFE)
set THE=GetEventDamage()
if((Wx-TJE-TOE)-THE)<1 then
call SetUnitState(m5,UNIT_STATE_LIFE,Wx+THE+TOE)
call TKE(m5,THE)
else
set TOE=TOE+THE
call TG7(US7,"FrameDamage",TOE)
endif
else
call UO7(T37(US7,"Target"),"ShallowGrave|Active")
call DestroyEffect(T27(US7,"FX"))
call UnitRemoveAbility((T37(US7,"Target")),1093808457)
call UnitRemoveAbility((T37(US7,"Target")),1110456132)
call T97(US7)
call UQ7(t)
endif
set m5=null
set t=null
return false
endfunction
function TPE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
set EZ7="TPE"
call L67(PU7,1093808457)
call TriggerRegisterTimerEvent(t,5,false)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function TME))
call TK7(PP7,"FX",AddSpecialEffectTarget("war3mapImported\\DarkHands.mdx",PU7,"overhead"))
call TG7(GetHandleId(PU7),"ShallowGrave|FakeLife",0)
call TG7(PP7,"LastFrame",RF7())
call TG7(PP7,"FrameDamage",0)
call TJ7(PP7,"Target",PU7)
call UM7(PU7,"ShallowGrave|Active")
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function TFE))
call TJ7(PP7,"Target",PU7)
set t=null
set p5=null
set PU7=null
endfunction
function TQE takes nothing returns boolean
if GetSpellAbilityId()==1093742668 then
call TPE()
endif
return false
endfunction
function S88 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="S88"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function TQE))
set t=null
endfunction
function TRE takes nothing returns nothing
local unit m5=GetEnumUnit()
set EZ7="TRE"
if L17(m5)==false then
call UnitRemoveAbility(m5,1093684821)
call UnitRemoveAbility(m5,1093684823)
elseif IsUnitType(m5,UNIT_TYPE_HERO)==true then
call E18(m5,1093684821,5.1)
call E18(m5,1093684823,5.1)
endif
set m5=null
endfunction
function TSE takes nothing returns nothing
local unit m5=GetEnumUnit()
set EZ7="TSE"
if L17(m5)==false then
if IsUnitAlly(m5,IR4)==false then
if IH4==0 then
call L67(m5,1093684821)
else
call SetUnitAbilityLevel(m5,1093684821,IH4+1)
endif
else
if IH4==0 then
call L67(m5,1093684823)
else
call SetUnitAbilityLevel(m5,1093684823,IH4+1)
endif
endif
endif
set m5=null
endfunction
function TTE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local group g=T57(US7,"g")
local player p=TL7(US7,"p")
local integer BX8=GetTriggerEvalCount(t)
local integer FW8=U97(US7,"Duration")
set EZ7="TTE"
set IR4=p
set IH4=BX8
if BX8==FW8/I67 then
call ForGroup(g,function TRE)
call L97(g)
call T97(US7)
call UQ7(t)
else
call ForGroup(g,function TSE)
endif
set t=null
set g=null
set p=null
return false
endfunction
function TUE takes nothing returns nothing
call EE8(IS4,GetEnumUnit(),"chest",3)
call EE8(IS4,GetEnumUnit(),"chest",3)
call EE8(IS4,GetEnumUnit(),"right hand",3)
call EE8(IS4,GetEnumUnit(),"left hand",3)
endfunction
function TVE takes nothing returns nothing
local unit C17=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local group g=LD7()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(C17,1093742673)
local integer FW8=6+6*BY7
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit HV8=CreateUnit(GetOwningPlayer(C17),1747988535,x,y,0)
local boolean MVD=false
set EZ7="TVE"
if BY7==0 then
set BY7=GetUnitAbilityLevel(C17,1093747778)
set FW8=6+6*BY7+6
set MVD=true
endif
call RemoveLocation(l)
set IS4="Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl"
call SetUnitVertexColor(HV8,255,255,255,255)
call UnitApplyTimedLife(HV8,1112820806,5)
if MVD then
call GroupEnumUnitsInRange(g,x,y,800,Condition(function G28))
else
call GroupEnumUnitsInRange(g,x,y,600,Condition(function G28))
endif
call ForGroup(g,function TUE)
call TS7(US7,"g",g)
call TQ7(US7,"p",GetOwningPlayer(C17))
call TF7(US7,"Duration",FW8)
call TriggerRegisterTimerEvent(t,I67,true)
call TriggerAddCondition(t,Condition(function TTE))
call TriggerEvaluate(t)
set C17=null
set l=null
set g=null
set t=null
set HV8=null
endfunction
function TWE takes nothing returns boolean
if GetSpellAbilityId()==1093742673 or GetSpellAbilityId()==1093747778 then
call TVE()
endif
return false
endfunction
function S98 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="S98"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function TWE))
call DX8(1093684821)
call DX8(1093684823)
set t=null
endfunction
function TXE takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
set vZ=CreateUnit(GetOwningPlayer(IN4),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call L67(vZ,1093744462)
call SetUnitAbilityLevel(vZ,1093744462,R94)
call IssueTargetOrder(vZ,"shadowstrike",GetEnumUnit())
call GroupAddUnit(IQ4,GetEnumUnit())
endif
endfunction
function TYE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local group g=T57(US7,"g")
local unit oA=T37(US7,"Caster")
local integer BY7=U97(US7,"Level")
local real RK=UD7(US7,"Angle")
local group JJ8
local real x
local real y
local real TZE
local real TAE
local real TBE=30
local unit TCE
set R94=BY7
if GetTriggerEvalCount(t)>28 then
call L97(g)
call T97(US7)
call UQ7(t)
call ShowUnit(oA,false)
call KillUnit(oA)
else
set x=GetUnitX(oA)
set y=GetUnitY(oA)
set JJ8=LD7()
set IQ4=g
set IN4=oA
set IJ4=BY7*70
call GroupEnumUnitsInRange(JJ8,x,y,150,Condition(function H78))
call ForGroup(JJ8,function TXE)
call L97(JJ8)
set TZE=DT8(x+TBE*Cos(RK*bj_DEGTORAD))
set TAE=DU8(y+TBE*Sin(RK*bj_DEGTORAD))
call SetUnitX(oA,TZE)
call SetUnitY(oA,TAE)
if ModuloInteger(GetTriggerEvalCount(t),3)==0 then
set TCE=CreateUnit(GetOwningPlayer(oA),1865429335,TZE,TAE,0)
call KillUnit(TCE)
endif
endif
set t=null
set g=null
set JJ8=null
set oA=null
return false
endfunction
function T3E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local group g=LD7()
local unit C17=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x1=GetUnitX(C17)
local real y1=GetUnitY(C17)
local real x2=GetLocationX(l)
local real y2=GetLocationY(l)
local real RK=Q87(x1,y1,x2,y2)
local integer BY7=GetUnitAbilityLevel(C17,1093744435)
local unit oA=CreateUnit(GetOwningPlayer(C17),1747990347,x1,y1,RK)
set EZ7="T3E"
call ET8(QR,x1,y1)
call TJ7(US7,"Caster",oA)
call TF7(US7,"Level",BY7)
call TS7(US7,"g",g)
call TG7(US7,"Angle",RK)
call TJ7(US7,"Hero",C17)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function TYE))
call RemoveLocation(l)
set t=null
set oA=null
set g=null
set C17=null
set l=null
endfunction
function T6E takes nothing returns boolean
if GetSpellAbilityId()==1093744435 then
call T3E()
endif
return false
endfunction
function QB8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QB8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function T6E))
set t=null
endfunction
function TLE takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(IN4),1865429065,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
set EZ7="TLE"
call UnitApplyTimedLife(oA,1112820806,2)
set oA=null
endfunction
function T1E takes nothing returns boolean
return G78()and GetUnitAbilityLevel(GetFilterUnit(),1110454840)==0
endfunction
function T0E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local integer T5E=U97(US7,"NovaLevel")
local real r=UD7(US7,"r")
local group g
set EZ7="T0E"
if GetTriggerEvalCount(t)>13 then
call T97(US7)
call UQ7(t)
else
set r=r+53
call TG7(US7,"r",r)
set g=LD7()
set IN4=C17
set IH4=T5E
call GroupEnumUnitsInRange(g,GetUnitX(C17),GetUnitY(C17),r,Condition(function T1E))
call ForGroup(g,function TLE)
call L97(g)
endif
set t=null
set C17=null
set g=null
return false
endfunction
function T2E takes nothing returns nothing
local unit C17=GetTriggerUnit()
local integer T5E
local integer i=1
local real x=GetUnitX(C17)
local real y=GetUnitY(C17)
local unit oA
set EZ7="T2E"
if GetSpellAbilityId()==1093677363 then
set T5E=GetUnitAbilityLevel(C17,1093677363)
else
set T5E=GetUnitAbilityLevel(C17,1093681462)+1
endif
loop
exitwhen i>18
set oA=CreateUnit(GetOwningPlayer(C17),1697657143,x,y,0)
if(GetPlayerController(GetOwningPlayer(C17))==MAP_CONTROL_COMPUTER)then
call RemoveGuardPosition(oA)
endif
call L67(oA,1093678391)
call SetUnitAbilityLevel(oA,1093678391,T5E)
call IssuePointOrderById(oA,851986,x+675*Cos(i*20*bj_DEGTORAD),y+675*Sin(i*20*bj_DEGTORAD))
call UnitApplyTimedLife(oA,1112820806,1.15)
set i=i+1
endloop
set C17=null
set oA=null
endfunction
function T_E takes nothing returns boolean
if GetSpellAbilityId()==1093677363 or GetSpellAbilityId()==1093681462 then
call T2E()
endif
return false
endfunction
function QC8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QC8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function T_E))
set t=null
endfunction
function U4E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
set EZ7="U4E"
call H68(p5,0)
call UO7(p5,"4277")
set t=null
set p5=null
return false
endfunction
function U7E takes unit ZY8,unit m5 returns nothing
local real U8E=100*GetUnitState(m5,UNIT_STATE_LIFE)/ GetUnitState(m5,UNIT_STATE_MAX_LIFE)
local real U9E=2.5*GetUnitAbilityLevel(ZY8,1093746995)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer FinalBonus
call UM7(ZY8,"4277")
call TriggerRegisterTimerEvent(t,0.35,false)
call TriggerAddCondition(t,Condition(function U4E))
call TJ7(US7,"Source",ZY8)
if IsUnitType(m5,UNIT_TYPE_HERO)==false then
set U9E=U9E/ 2
endif
if U8E>80 then
call H68(ZY8,R2I(U9E))
elseif U8E>60 then
call H68(ZY8,R2I(U9E*2))
elseif U8E>40 then
call H68(ZY8,R2I(U9E*2*2))
elseif U8E>20 then
call H68(ZY8,R2I(U9E*2*2*2))
else
call H68(ZY8,R2I(U9E*2*2*2*2))
endif
set t=null
endfunction
function UDE takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
if GetSpellAbilityId()==1093679446 and GetUnitAbilityLevel(GetTriggerUnit(),1093746995)>0 then
call U7E(GetTriggerUnit(),GetSpellTargetUnit())
endif
else
if GetUnitAbilityLevel(GetAttacker(),1093746995)>0 and IsUnitIllusion(GetAttacker())==false and IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==true and UJ7(GetAttacker(),"4277")==false then
call U7E(GetAttacker(),GetTriggerUnit())
endif
endif
return false
endfunction
function Q38 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="Q38"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function UDE))
set t=null
endfunction
function UEE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local real OJD=(LoadReal(L7,(GetHandleId(PU7)),(684)))
set EZ7="UEE"
if GetTriggerEventId()==EVENT_WIDGET_DEATH or OJD<(TimerGetElapsed(W))or C37(PU7)then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call SaveReal(L7,(GetHandleId(PU7)),(684),((0)*1.0))
call UnitRemoveAbility(PU7,1093808983)
call UnitRemoveAbility(PU7,1093808981)
call UnitRemoveAbility(PU7,1093808982)
call UnitRemoveAbility(PU7,1093808984)
call UnitRemoveAbility(PU7,1110459713)
else
call HY8(FJ8,PU7,ZG4,5+5*HW8)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function UFE takes nothing returns nothing
local trigger t
local integer PP7
local unit FJ8=GetTriggerUnit()
local unit PU7=GetAttacker()
local real OJD=(LoadReal(L7,(GetHandleId(PU7)),(684)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093684557)
set EZ7="UFE"
if OJD>(TimerGetElapsed(W))then
call SaveReal(L7,(GetHandleId(PU7)),(684),(((TimerGetElapsed(W))+IL7)*1.0))
else
set t=CreateTrigger()
set PP7=GetHandleId(t)
call SaveReal(L7,(GetHandleId(PU7)),(684),(((TimerGetElapsed(W))+IL7)*1.0))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerAddCondition(t,Condition(function UEE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveInteger(L7,(PP7),(5),(HW8))
if EM9(PU7)==false then
if HW8==1 then
call L67(PU7,1093808983)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093808983,false)
elseif HW8==2 then
call L67(PU7,1093808981)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093808981,false)
elseif HW8==3 then
call L67(PU7,1093808982)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093808982,false)
elseif HW8==4 then
call L67(PU7,1093808984)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093808984,false)
endif
endif
endif
set t=null
set FJ8=null
set PU7=null
endfunction
function UGE takes nothing returns boolean
if GetUnitAbilityLevel(GetTriggerUnit(),1093684557)>0 and GetUnitAbilityLevel(GetAttacker(),1093678162)==0 and IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))and C37(GetAttacker())==false then
call UFE()
endif
return false
endfunction
function Q68 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="Q68"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function UGE))
set t=null
endfunction
function UHE takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
set EZ7="UHE"
call UnitRemoveAbility(m5,1111847784)
call UnitRemoveAbility(m5,1110458705)
set m5=null
endfunction
function UIE takes nothing returns boolean
if GetSpellAbilityId()==1093679152 or GetSpellAbilityId()==1093752154 then
call UHE()
endif
return false
endfunction
function QL8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QL8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UIE))
set t=null
endfunction
function UJE takes nothing returns boolean
return GetSpellAbilityId()==1093679192
endfunction
function UKE takes nothing returns nothing
local location JV9=GetUnitLoc(GetSpellAbilityUnit())
set EZ7="UKE"
call CreateNUnitsAtLocFacingLocBJ(1,1697656901,GetOwningPlayer(GetSpellAbilityUnit()),JV9,JV9)
call RemoveLocation(JV9)
call UnitAddAbility(bj_lastCreatedUnit,1093679427)
call SetUnitAbilityLevelSwapped(1093679427,bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(1093679192,GetSpellAbilityUnit()))
call IssueTargetOrder(bj_lastCreatedUnit,"bloodlust",GetSpellAbilityUnit())
endfunction
function Q08 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="Q08"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UJE))
call TriggerAddAction(t,function UKE)
set t=null
endfunction
function UME takes unit p5,integer BY7,integer UNE returns nothing
call UnitRemoveAbility(p5,1093749586)
call UnitRemoveAbility(p5,1093749587)
call UnitRemoveAbility(p5,1093749585)
call UnitRemoveAbility(p5,1093749584)
call UnitRemoveAbility(p5,1093749553)
call UnitRemoveAbility(p5,1093749591)
call UnitRemoveAbility(p5,1093749592)
call UnitRemoveAbility(p5,1093749593)
call UnitRemoveAbility(p5,1093749812)
call UnitRemoveAbility(p5,1093749811)
call UnitRemoveAbility(p5,1093749810)
call UnitRemoveAbility(p5,1093749809)
call UnitRemoveAbility(p5,1093749816)
call UnitRemoveAbility(p5,1093749815)
call UnitRemoveAbility(p5,1093749817)
call UnitRemoveAbility(p5,1093749826)
if BY7==1 then
if UNE==1 then
call L67(p5,1093749586)
elseif UNE==2 then
call L67(p5,1093749587)
elseif UNE==3 then
call L67(p5,1093749585)
elseif UNE==4 then
call L67(p5,1093749584)
endif
elseif BY7==2 then
if UNE==1 then
call L67(p5,1093749553)
elseif UNE==2 then
call L67(p5,1093749591)
elseif UNE==3 then
call L67(p5,1093749592)
elseif UNE==4 then
call L67(p5,1093749593)
endif
elseif BY7==3 then
if UNE==1 then
call L67(p5,1093749812)
elseif UNE==2 then
call L67(p5,1093749811)
elseif UNE==3 then
call L67(p5,1093749810)
elseif UNE==4 then
call L67(p5,1093749809)
endif
elseif BY7==4 then
if UNE==1 then
call L67(p5,1093749816)
elseif UNE==2 then
call L67(p5,1093749815)
elseif UNE==3 then
call L67(p5,1093749817)
elseif UNE==4 then
call L67(p5,1093749826)
endif
endif
endfunction
function UOE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer UPE=U97(US7,"ShellCache")
local unit p5=T37(UPE,"Source")
local integer UNE=U97(UPE,"ShellCounter")
local integer BY7=GetUnitAbilityLevel(p5,1093686872)
set EZ7="UOE"
set UNE=DL8(UNE+1,4)
call TF7(UPE,"ShellCounter",UNE)
call UME(p5,BY7,UNE)
call T97(US7)
call UQ7(t)
set t=null
set p5=null
return false
endfunction
function UQE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local integer UNE=U97(US7,"ShellCounter")
local integer BY7=GetUnitAbilityLevel(GetTriggerUnit(),1093686872)
set EZ7="UQE"
if GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and AI7(GetOwningPlayer(GetEventDamageSource()))then
if UNE>0 then
endif
set UNE=D18(UNE-1,0)
call TF7(US7,"ShellCounter",UNE)
call UME(p5,BY7,UNE)
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,14-BY7,false)
call TriggerAddCondition(t,Condition(function UOE))
call TF7(US7,"ShellCache",GetHandleId(GetTriggeringTrigger()))
endif
set t=null
set p5=null
return false
endfunction
function URE takes nothing returns nothing
local trigger t
local integer US7
local unit p5=GetTriggerUnit()
local integer BY7=GetUnitAbilityLevel(GetTriggerUnit(),1093686872)
set EZ7="URE"
if BY7==1 then
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function UQE))
call TJ7(US7,"Source",p5)
call TF7(US7,"ShellCounter",4)
endif
call UME(p5,BY7,4)
set t=null
set p5=null
endfunction
function USE takes nothing returns boolean
if GetLearnedSkill()==1093686872 and IsUnitIllusion(GetTriggerUnit())==false then
call URE()
endif
return false
endfunction
function UTE takes player p returns nothing
call SetPlayerAbilityAvailable(p,1093749586,false)
call SetPlayerAbilityAvailable(p,1093749587,false)
call SetPlayerAbilityAvailable(p,1093749585,false)
call SetPlayerAbilityAvailable(p,1093749584,false)
call SetPlayerAbilityAvailable(p,1093749589,false)
call SetPlayerAbilityAvailable(p,1093749590,false)
call SetPlayerAbilityAvailable(p,1093749553,false)
call SetPlayerAbilityAvailable(p,1093749591,false)
call SetPlayerAbilityAvailable(p,1093749592,false)
call SetPlayerAbilityAvailable(p,1093749593,false)
call SetPlayerAbilityAvailable(p,1093749594,false)
call SetPlayerAbilityAvailable(p,1093749588,false)
call SetPlayerAbilityAvailable(p,1093749812,false)
call SetPlayerAbilityAvailable(p,1093749811,false)
call SetPlayerAbilityAvailable(p,1093749810,false)
call SetPlayerAbilityAvailable(p,1093749809,false)
call SetPlayerAbilityAvailable(p,1093749808,false)
call SetPlayerAbilityAvailable(p,1093749813,false)
call SetPlayerAbilityAvailable(p,1093749816,false)
call SetPlayerAbilityAvailable(p,1093749815,false)
call SetPlayerAbilityAvailable(p,1093749817,false)
call SetPlayerAbilityAvailable(p,1093749826,false)
call SetPlayerAbilityAvailable(p,1093749825,false)
call SetPlayerAbilityAvailable(p,1093749814,false)
call SetPlayerAbilityAvailable(p,1093749832,false)
call SetPlayerAbilityAvailable(p,1093750067,false)
call SetPlayerAbilityAvailable(p,1093750068,false)
call SetPlayerAbilityAvailable(p,1093750083,false)
call SetPlayerAbilityAvailable(p,1093750071,false)
call SetPlayerAbilityAvailable(p,1093750072,false)
call SetPlayerAbilityAvailable(p,1093750073,false)
call SetPlayerAbilityAvailable(p,1093750081,false)
call SetPlayerAbilityAvailable(p,1093750069,false)
call SetPlayerAbilityAvailable(p,1093750082,false)
call SetPlayerAbilityAvailable(p,1093750070,false)
endfunction
function Q28 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer i=0
set EZ7="Q28"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function USE))
loop
exitwhen i>5
call UTE(Z7[i])
call UTE(A7[i])
set i=i+1
endloop
set t=null
endfunction
function UUE takes nothing returns nothing
local integer HW8
local unit FJ8=GetTriggerUnit()
local unit HV8
set EZ7="UUE"
if GetUnitTypeId(FJ8)==1966092599 or GetUnitTypeId(FJ8)==1966092601 or GetUnitTypeId(FJ8)==1966092600 or GetUnitTypeId(FJ8)==1966092609 or GetUnitTypeId(FJ8)==1966092610 or GetUnitTypeId(FJ8)==1966092611 or GetUnitTypeId(FJ8)==1966092629 or GetUnitTypeId(FJ8)==1966092630 or GetUnitTypeId(FJ8)==1966092631 then
return
endif
set HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(FJ8),GetUnitY(FJ8),0)
if GetUnitTypeId(FJ8)==1966092596 or GetUnitTypeId(FJ8)==1966092612 or GetUnitTypeId(FJ8)==1966092626 then
set HW8=1
elseif GetUnitTypeId(FJ8)==1966092597 or GetUnitTypeId(FJ8)==1966092613 or GetUnitTypeId(FJ8)==1966092627 then
set HW8=2
else
set HW8=3
endif
call L67(HV8,1093750342)
call SetUnitAbilityLevel(HV8,1093750342,HW8)
call IssueImmediateOrder(HV8,"stomp")
set FJ8=null
set HV8=null
endfunction
function UVE takes unit UWE,integer DL9,integer HW8 returns nothing
local integer UXE
set EZ7="Gargoyle_SetDamage"
if HW8==1 then
set UXE=8
elseif HW8==2 then
set UXE=14
elseif HW8==3 then
set UXE=22
endif
call H68(UWE,DL9*UXE)
endfunction
function UYE takes nothing returns boolean
local integer DL9
local integer AW7
local integer HW8
local unit UWE=GetAttacker()
local integer id=GetUnitTypeId(UWE)
set EZ7="UYE"
if id==1966092596 or id==1966092597 or id==1966092598 or id==1966092612 or id==1966092613 or id==1966092614 or id==1966092626 or id==1966092627 or id==1966092628 then
set AW7=GetHandleId(UWE)
set HW8=U97(AW7,"Level")
set DL9=U97(AW7,"Remaining")
set DL9=IMaxBJ(DL9-1,0)
call TF7(AW7,"Remaining",DL9)
call UVE(UWE,DL9,HW8)
endif
set UWE=null
return false
endfunction
function UZE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit UWE=T37(PP7,"Source")
local unit FJ8=UWE
local integer HW8=U97(PP7,"Level")
local integer E2D=U97(PP7,"Counter")
local integer DL9=U97(GetHandleId(UWE),"Remaining")
set EZ7="UZE"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call T97(PP7)
call UQ7(t)
else
set E2D=E2D+1
call TF7(PP7,"Counter",E2D)
if ModuloInteger(E2D,15)==0 then
set DL9=IMinBJ(DL9+1,7)
call TF7(GetHandleId(UWE),"Remaining",DL9)
endif
if GetUnitTypeId(FJ8)==1966092599 or GetUnitTypeId(FJ8)==1966092601 or GetUnitTypeId(FJ8)==1966092600 or GetUnitTypeId(FJ8)==1966092609 or GetUnitTypeId(FJ8)==1966092610 or GetUnitTypeId(FJ8)==1966092611 or GetUnitTypeId(FJ8)==1966092629 or GetUnitTypeId(FJ8)==1966092630 or GetUnitTypeId(FJ8)==1966092631 then
set DL9=7
call TF7(GetHandleId(UWE),"Remaining",DL9)
endif
call UVE(UWE,DL9,HW8)
if GetUnitTypeId(UWE)==1966092599 or GetUnitTypeId(UWE)==1966092601 or GetUnitTypeId(UWE)==1966092600 or GetUnitTypeId(UWE)==1966092609 or GetUnitTypeId(UWE)==1966092610 or GetUnitTypeId(UWE)==1966092611 or GetUnitTypeId(UWE)==1966092629 or GetUnitTypeId(UWE)==1966092630 or GetUnitTypeId(UWE)==1966092631 then
call SetUnitState(UWE,UNIT_STATE_LIFE,GetUnitState(UWE,UNIT_STATE_LIFE)+31.25+18.75*HW8)
endif
endif
set t=null
set UWE=null
return false
endfunction
function UAE takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==1966092596 or GetUnitTypeId(GetFilterUnit())==1966092597 or GetUnitTypeId(GetFilterUnit())==1966092598 or GetUnitTypeId(GetFilterUnit())==1966092612 or GetUnitTypeId(GetFilterUnit())==1966092613 or GetUnitTypeId(GetFilterUnit())==1966092614 or GetUnitTypeId(GetFilterUnit())==1966092626 or GetUnitTypeId(GetFilterUnit())==1966092627 or GetUnitTypeId(GetFilterUnit())==1966092628 or GetUnitTypeId(GetFilterUnit())==1966092599 or GetUnitTypeId(GetFilterUnit())==1966092601 or GetUnitTypeId(GetFilterUnit())==1966092600 or GetUnitTypeId(GetFilterUnit())==1966092609 or GetUnitTypeId(GetFilterUnit())==1966092610 or GetUnitTypeId(GetFilterUnit())==1966092611 or GetUnitTypeId(GetFilterUnit())==1966092629 or GetUnitTypeId(GetFilterUnit())==1966092630 or GetUnitTypeId(GetFilterUnit())==1966092631 then
call KillUnit(GetFilterUnit())
endif
return false
endfunction
function UBE takes nothing returns nothing
local group g=LD7()
local unit FJ8=GetTriggerUnit()
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local integer HW8=GetUnitAbilityLevel(FJ8,1093750341)
local unit UCE
local unit U3E
local unit U6E
local trigger t
local integer PP7
local boolean XWD=false
set EZ7="UBE"
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(FJ8),Condition(function UAE))
call L97(g)
if HW8==0 then
set HW8=GetUnitAbilityLevel(FJ8,1093814599)
set XWD=true
endif
if HW8==1 then
set UCE=CreateUnit(GetOwningPlayer(FJ8),1966092596,x+75,y+75,GetUnitFacing(FJ8))
set U3E=CreateUnit(GetOwningPlayer(FJ8),1966092612,x-75,y-75,GetUnitFacing(FJ8))
elseif HW8==2 then
set UCE=CreateUnit(GetOwningPlayer(FJ8),1966092597,x+75,y+75,GetUnitFacing(FJ8))
set U3E=CreateUnit(GetOwningPlayer(FJ8),1966092613,x-75,y-75,GetUnitFacing(FJ8))
elseif HW8==3 then
set UCE=CreateUnit(GetOwningPlayer(FJ8),1966092598,x+75,y+75,GetUnitFacing(FJ8))
set U3E=CreateUnit(GetOwningPlayer(FJ8),1966092614,x-75,y-75,GetUnitFacing(FJ8))
endif
call SelectUnitAddForPlayer(UCE,GetOwningPlayer(FJ8))
call SelectUnitAddForPlayer(U3E,GetOwningPlayer(FJ8))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",UCE,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",U3E,"origin"))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,UCE,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function UZE))
call TJ7(PP7,"Source",UCE)
call TF7(PP7,"Level",HW8)
call TF7(PP7,"Counter",0)
call TF7(GetHandleId(UCE),"Remaining",7)
call TF7(GetHandleId(UCE),"Level",HW8)
call UVE(UCE,7,HW8)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,U3E,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function UZE))
call TJ7(PP7,"Source",U3E)
call TF7(PP7,"Level",HW8)
call TF7(PP7,"Counter",0)
call TF7(GetHandleId(U3E),"Remaining",7)
call TF7(GetHandleId(U3E),"Level",HW8)
call UVE(U3E,7,HW8)
if XWD then
if HW8==1 then
set U6E=CreateUnit(GetOwningPlayer(FJ8),1966092626,x+75,y,GetUnitFacing(FJ8))
elseif HW8==2 then
set U6E=CreateUnit(GetOwningPlayer(FJ8),1966092627,x+75,y,GetUnitFacing(FJ8))
elseif HW8==3 then
set U6E=CreateUnit(GetOwningPlayer(FJ8),1966092628,x+75,y,GetUnitFacing(FJ8))
endif
call SelectUnitAddForPlayer(U6E,GetOwningPlayer(FJ8))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",U6E,"origin"))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,U6E,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function UZE))
call TJ7(PP7,"Source",U6E)
call TF7(PP7,"Level",HW8)
call TF7(PP7,"Counter",0)
call TF7(GetHandleId(U6E),"Remaining",7)
call TF7(GetHandleId(U6E),"Level",HW8)
call UVE(U6E,7,HW8)
endif
set g=null
set FJ8=null
set UCE=null
set U3E=null
set U6E=null
endfunction
function ULE takes nothing returns boolean
if GetSpellAbilityId()==1093750341 or GetSpellAbilityId()==1093814599 then
call UBE()
elseif GetSpellAbilityId()==1093750338 or GetSpellAbilityId()==1093750339 or GetSpellAbilityId()==1093750340 or GetSpellAbilityId()==1093750348 or GetSpellAbilityId()==1093750349 or GetSpellAbilityId()==1093750350 or GetSpellAbilityId()==1093814618 or GetSpellAbilityId()==1093814832 or GetSpellAbilityId()==1093814833 then
call UUE()
endif
return false
endfunction
function Q18 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="Q18"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ULE))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function UYE))
set t=null
endfunction
function U1E takes unit FJ8,integer U0E,integer U5E returns nothing
local string c1="|c0000cc00"
local string c="||"
local string p=" "
local string s=c1+"|||r"
local string U2E
local boolean U_E=false
local texttag tt=T67(GetHandleId(FJ8),"SoulAssumption|Text")
set EZ7="SoulAssumption_UpdateText"
if U0E==0 then
set U2E=" "
elseif U5E==1 then
if U0E==0 then
set U2E=c+p+c+p+c
elseif U0E==1 then
set U2E=s+p+c+p+c
elseif U0E==2 then
set U2E=s+p+s+p+c
elseif U0E==3 then
set U2E=s+p+s+p+s
endif
elseif U5E==2 then
if U0E==0 then
set U2E=c+p+c+p+c+p+c
elseif U0E==1 then
set U2E=s+p+c+p+c+p+c
elseif U0E==2 then
set U2E=s+p+s+p+c+p+c
elseif U0E==3 then
set U2E=s+p+s+p+s+p+c
elseif U0E==4 then
set U2E=s+p+s+p+s+p+s
endif
elseif U5E==3 then
if U0E==0 then
set U2E=c+p+c+p+c+p+c+p+c
elseif U0E==1 then
set U2E=s+p+c+p+c+p+c+p+c
elseif U0E==2 then
set U2E=s+p+s+p+c+p+c+p+c
elseif U0E==3 then
set U2E=s+p+s+p+s+p+c+p+c
elseif U0E==4 then
set U2E=s+p+s+p+s+p+s+p+c
elseif U0E==5 then
set U2E=s+p+s+p+s+p+s+p+s
endif
elseif U5E==4 then
if U0E==0 then
set U2E=c+p+c+p+c+p+c+p+c+p+c
elseif U0E==1 then
set U2E=s+p+c+p+c+p+c+p+c+p+c
elseif U0E==2 then
set U2E=s+p+s+p+c+p+c+p+c+p+c
elseif U0E==3 then
set U2E=s+p+s+p+s+p+c+p+c+p+c
elseif U0E==4 then
set U2E=s+p+s+p+s+p+s+p+c+p+c
elseif U0E==5 then
set U2E=s+p+s+p+s+p+s+p+s+p+c
elseif U0E==6 then
set U2E=s+p+s+p+s+p+s+p+s+p+s
endif
endif
call SetTextTagText(tt,U2E,0.023)
if GetOwningPlayer(FJ8)==GetLocalPlayer()then
set U_E=true
endif
if L17(FJ8)then
set U_E=false
endif
call SetTextTagPosUnit(tt,FJ8,0)
call SetTextTagVisibility(tt,U_E)
call SetTextTagPermanent(tt,true)
endfunction
function V4E takes unit C17,integer BY7 returns nothing
local integer V7E=GetUnitAbilityLevel(C17,1093750337)
set EZ7="PZv"
call U1E(C17,BY7,V7E)
if BY7==0 or UJ7(C17,"SoulAssumptionState")==true then
call UnitRemoveAbility(C17,1093750583)
call UnitRemoveAbility(C17,1093750584)
call UnitRemoveAbility(C17,1093750585)
call L67(C17,1093750577)
call UnitRemoveAbility(C17,1093750578)
call UnitRemoveAbility(C17,1093750362)
call UnitRemoveAbility(C17,1093750329)
call UnitRemoveAbility(C17,1093750361)
call UnitRemoveAbility(C17,1093750576)
call UnitRemoveAbility(C17,1093750579)
call UnitRemoveAbility(C17,1093684306)
call UnitRemoveAbility(C17,1093687632)
call UnitRemoveAbility(C17,1093685063)
call UnitRemoveAbility(C17,1093687631)
call UnitRemoveAbility(C17,1093684806)
call UnitRemoveAbility(C17,1093684548)
elseif BY7==1 then
call UnitRemoveAbility(C17,1093750583)
call UnitRemoveAbility(C17,1093750584)
call UnitRemoveAbility(C17,1093750585)
call UnitRemoveAbility(C17,1093750577)
call L67(C17,1093750578)
call UnitRemoveAbility(C17,1093750362)
call UnitRemoveAbility(C17,1093750329)
call UnitRemoveAbility(C17,1093750361)
call UnitRemoveAbility(C17,1093750576)
call UnitRemoveAbility(C17,1093750579)
call L67(C17,1093684306)
call UnitRemoveAbility(C17,1093687632)
call UnitRemoveAbility(C17,1093685063)
call UnitRemoveAbility(C17,1093687631)
call UnitRemoveAbility(C17,1093684806)
call UnitRemoveAbility(C17,1093684548)
elseif BY7==2 then
call UnitRemoveAbility(C17,1093750583)
call UnitRemoveAbility(C17,1093750584)
call UnitRemoveAbility(C17,1093750585)
call UnitRemoveAbility(C17,1093750577)
call UnitRemoveAbility(C17,1093750578)
call L67(C17,1093750362)
call UnitRemoveAbility(C17,1093750329)
call UnitRemoveAbility(C17,1093750361)
call UnitRemoveAbility(C17,1093750576)
call UnitRemoveAbility(C17,1093750579)
call UnitRemoveAbility(C17,1093684306)
call L67(C17,1093687632)
call UnitRemoveAbility(C17,1093685063)
call UnitRemoveAbility(C17,1093687631)
call UnitRemoveAbility(C17,1093684806)
call UnitRemoveAbility(C17,1093684548)
elseif BY7==3 then
call UnitRemoveAbility(C17,1093750583)
call UnitRemoveAbility(C17,1093750584)
call UnitRemoveAbility(C17,1093750585)
call UnitRemoveAbility(C17,1093684306)
call UnitRemoveAbility(C17,1093687632)
call L67(C17,1093685063)
call UnitRemoveAbility(C17,1093687631)
call UnitRemoveAbility(C17,1093684806)
call UnitRemoveAbility(C17,1093684548)
call UnitRemoveAbility(C17,1093750577)
call UnitRemoveAbility(C17,1093750578)
call UnitRemoveAbility(C17,1093750362)
call UnitRemoveAbility(C17,1093750329)
call UnitRemoveAbility(C17,1093750361)
call UnitRemoveAbility(C17,1093750576)
call UnitRemoveAbility(C17,1093750579)
if V7E==1 then
call L67(C17,1093750583)
else
call L67(C17,1093750329)
endif
elseif BY7==4 then
call UnitRemoveAbility(C17,1093750583)
call UnitRemoveAbility(C17,1093750584)
call UnitRemoveAbility(C17,1093750585)
call UnitRemoveAbility(C17,1093684306)
call UnitRemoveAbility(C17,1093687632)
call UnitRemoveAbility(C17,1093685063)
call L67(C17,1093687631)
call UnitRemoveAbility(C17,1093684806)
call UnitRemoveAbility(C17,1093684548)
call UnitRemoveAbility(C17,1093750577)
call UnitRemoveAbility(C17,1093750578)
call UnitRemoveAbility(C17,1093750362)
call UnitRemoveAbility(C17,1093750329)
call UnitRemoveAbility(C17,1093750361)
call UnitRemoveAbility(C17,1093750576)
call UnitRemoveAbility(C17,1093750579)
if V7E==2 then
call L67(C17,1093750584)
else
call L67(C17,1093750361)
endif
elseif BY7==5 then
call UnitRemoveAbility(C17,1093750583)
call UnitRemoveAbility(C17,1093750584)
call UnitRemoveAbility(C17,1093750585)
call UnitRemoveAbility(C17,1093750577)
call UnitRemoveAbility(C17,1093750578)
call UnitRemoveAbility(C17,1093750362)
call UnitRemoveAbility(C17,1093750329)
call UnitRemoveAbility(C17,1093750361)
call L67(C17,1093750576)
call UnitRemoveAbility(C17,1093750579)
call UnitRemoveAbility(C17,1093684306)
call UnitRemoveAbility(C17,1093687632)
call UnitRemoveAbility(C17,1093685063)
call UnitRemoveAbility(C17,1093687631)
call L67(C17,1093684806)
call UnitRemoveAbility(C17,1093684548)
call UnitRemoveAbility(C17,1093750577)
call UnitRemoveAbility(C17,1093750578)
call UnitRemoveAbility(C17,1093750362)
call UnitRemoveAbility(C17,1093750329)
call UnitRemoveAbility(C17,1093750361)
call UnitRemoveAbility(C17,1093750576)
call UnitRemoveAbility(C17,1093750579)
if V7E==3 then
call L67(C17,1093750585)
else
call L67(C17,1093750576)
endif
elseif BY7==6 then
call UnitRemoveAbility(C17,1093750583)
call UnitRemoveAbility(C17,1093750584)
call UnitRemoveAbility(C17,1093750585)
call UnitRemoveAbility(C17,1093750577)
call UnitRemoveAbility(C17,1093750578)
call UnitRemoveAbility(C17,1093750362)
call UnitRemoveAbility(C17,1093750329)
call UnitRemoveAbility(C17,1093750361)
call UnitRemoveAbility(C17,1093750576)
call L67(C17,1093750579)
call UnitRemoveAbility(C17,1093684306)
call UnitRemoveAbility(C17,1093687632)
call UnitRemoveAbility(C17,1093685063)
call UnitRemoveAbility(C17,1093687631)
call UnitRemoveAbility(C17,1093684806)
call L67(C17,1093684548)
endif
if(GetUnitAbilityLevel(C17,1093750337)+2)==BY7 then
call L67(C17,1093750346)
else
call UnitRemoveAbility(C17,1093750346)
endif
endfunction
function V8E takes unit p5,real D_8 returns nothing
local integer BY7=0
local real V9E=110
set EZ7="SoulAssumption_AdjustLevel"
if D_8>V9E*6 then
set BY7=6
elseif D_8>V9E*5 then
set BY7=5
elseif D_8>V9E*4 then
set BY7=4
elseif D_8>V9E*3 then
set BY7=3
elseif D_8>V9E*2 then
set BY7=2
elseif D_8>V9E*1 then
set BY7=1
endif
set BY7=DL8(BY7,2+GetUnitAbilityLevel(p5,1093750337))
call TF7(GetHandleId(p5),"Level",BY7)
call V4E(p5,BY7)
endfunction
function VDE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local integer BY7=GetUnitAbilityLevel(p5,1093750337)
set EZ7="VDE"
call U1E(p5,U97(GetHandleId(p5),"Level"),BY7)
call V8E(p5,UD7(GetHandleId(p5),"RecentDamage"))
set t=null
set p5=null
return false
endfunction
function VEE takes nothing returns nothing
local integer US7=GetHandleId(GetTriggeringTrigger())
local unit p5=IN4
local unit m5=IP4
local real D_8=UD7(US7,"Damage")
set EZ7="VEE"
if IsUnitAlly(m5,GetOwningPlayer(p5))==false then
set f3=true
call HY8(p5,m5,ZG4,D_8)
set f3=false
else
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+D_8)
endif
set p5=null
set m5=null
endfunction
function VFE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
set EZ7="VFE"
call V8E(p5,UD7(GetHandleId(p5),"RecentDamage"))
call T97(US7)
call UQ7(t)
set t=null
set p5=null
return false
endfunction
function VGE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BY7=U97(GetHandleId(p5),"Level")
local trigger t=E68(p5,m5,1747993157,"VEE",1000)
local integer US7=GetHandleId(t)
set EZ7="VGE"
call TG7(US7,"Damage",(20+BY7*65)*1.0)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AntiMagicShell\\AntiMagicShell.mdl",p5,"chest"))
call TG7(GetHandleId(p5),"RecentDamage",0*1.0)
call V8E(p5,0)
call UU7(p5,"SoulAssumptionState",4)
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerAddCondition(t,Condition(function VFE))
call TriggerRegisterTimerEvent(t,4,false)
call TJ7(US7,"Source",p5)
set p5=null
set m5=null
set t=null
endfunction
function VHE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local real D_8=UD7(US7,"Damage")
set EZ7="VHE"
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093750337)then
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
call TG7(GetHandleId(p5),"RecentDamage",(UD7(GetHandleId(p5),"RecentDamage")-D_8)*1.0)
endif
call V8E(p5,UD7(GetHandleId(p5),"RecentDamage"))
call T97(US7)
call UQ7(t)
endif
set t=null
set p5=null
return false
endfunction
function VIE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer US7=GetHandleId(p5)
local texttag tt=CreateTextTag()
local boolean U_E=false
local trigger t=CreateTrigger()
set EZ7="VIE"
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function VDE))
call TJ7(GetHandleId(t),"Source",p5)
if GetOwningPlayer(p5)==GetLocalPlayer()then
set U_E=true
endif
call SetTextTagText(tt," ",0.023)
call SetTextTagPosUnit(tt,p5,0)
call SetTextTagVisibility(tt,U_E)
call SetTextTagPermanent(tt,true)
set D3[GetPlayerId(GetOwningPlayer(p5))]=p5
call TG7(US7,"RecentDamage",0*1.0)
call V8E(p5,0)
call TV7(US7,"SoulAssumption|Text",tt)
set p5=null
set t=null
set tt=null
endfunction
function VJE takes unit VKE,unit VME returns nothing
local real D_8=GetEventDamage()
local integer BY7=GetUnitAbilityLevel(VKE,1093750337)
local real VNE=UD7(GetHandleId(VKE),"RecentDamage")
local trigger t
local integer US7
set EZ7="P7v"
if Q17(VKE,VME)<1400 and f3==false then
if IY8(D_8)and GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and(AI7(GetOwningPlayer(GetEventDamageSource()))or GetUnitTypeId(GetEventDamageSource())==1848651852)then
set VNE=VNE+D_8
call TG7(GetHandleId(VKE),"RecentDamage",VNE*1.0)
set t=CreateTrigger()
set US7=GetHandleId(t)
call TJ7(US7,"Source",VKE)
call TG7(US7,"Damage",D_8*1.0)
call TriggerRegisterTimerEvent(t,6,false)
call TriggerRegisterUnitEvent(t,VKE,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,VKE,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VHE))
call V8E(VKE,VNE)
endif
endif
set t=null
endfunction
function VOE takes nothing returns nothing
local integer i=0
set EZ7="VOE"
loop
exitwhen i>12
if D3[i]!=null then
call VJE(D3[i],GetTriggerUnit())
endif
set i=i+1
endloop
endfunction
function VPE takes nothing returns boolean
if GetLearnedSkill()==1093750337 and GetUnitAbilityLevel(GetTriggerUnit(),1093750337)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call VIE()
endif
return false
endfunction
function VQE takes nothing returns boolean
if GetSpellAbilityId()==1093750337 then
call VGE()
endif
return false
endfunction
function Q58 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="Q58"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function VPE))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VQE))
set t=null
call ZB8("VOE")
endfunction
function VRE takes nothing returns boolean
return GetSpellAbilityId()==1093678672
endfunction
function VSE takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1
endfunction
function VTE takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit oA=CreateUnit(GetOwningPlayer(D8),1697656899,GetUnitX(m5),GetUnitY(m5),0)
set EZ7="VTE"
call L67(oA,1093683781)
call SetUnitAbilityLevel(oA,1093683781,E8)
call IssueTargetOrderById(oA,852075,m5)
call UnitApplyTimedLifeBJ(2.,1112820806,oA)
call UnitAddAbility(oA,1097625443)
set oA=null
set m5=null
endfunction
function VUE takes unit HV8,unit C17 returns nothing
local group JJ8=LD7()
local boolexpr hP=Condition(function VSE)
set EZ7="qNv"
set D8=C17
call GroupEnumUnitsInRange(JJ8,GetUnitX(HV8),GetUnitY(HV8),675,hP)
call ForGroup(JJ8,function VTE)
call L97(JJ8)
call DestroyBoolExpr(hP)
set JJ8=null
set hP=null
endfunction
function VVE takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17
local unit oA=T37(US7,"Caster")
set EZ7="VVE"
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
call KillUnit(oA)
call T97(US7)
call UQ7(t)
elseif GetTriggerEvalCount(t)>22 then
call KillUnit(oA)
call T97(US7)
call UQ7((t))
call RG7(T37(US7,"Hero"))
else
call SetUnitAnimation(oA,"birth")
set C17=T37(US7,"Hero")
set E8=GetTriggerExecCount(t)*GetUnitAbilityLevel(C17,1093678672)/2
call VUE(oA,C17)
endif
set t=null
set oA=null
set C17=null
endfunction
function VWE takes nothing returns nothing
local unit C17=GetTriggerUnit()
local location Mk=GetSpellTargetLoc()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local real x=GetLocationX(Mk)
local real y=GetLocationY(Mk)
local unit oA=CreateUnit(GetOwningPlayer(C17),1697657159,x,y,0)
set EZ7="VWE"
call RemoveLocation(Mk)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddAction(t,function VVE)
call TJ7(US7,"Hero",C17)
call TJ7(US7,"Caster",oA)
set C17=null
set Mk=null
set t=null
set oA=null
endfunction
function RB8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RB8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(t,function VWE)
call TriggerAddCondition(t,Condition(function VRE))
call DX8(1093683781)
set t=null
endfunction
function VXE takes nothing returns boolean
return GetSpellAbilityId()==1093683765
endfunction
function VYE takes nothing returns nothing
call L67(GetEnumUnit(),1093685298)
endfunction
function VZE takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),1093685298)
endfunction
function VAE takes unit VBE,unit VCE returns nothing
if VBE!=null and VCE!=null then
call EH8("CLPB",GetUnitX(VBE),GetUnitY(VBE),GetUnitX(VCE),GetUnitY(VCE),.7,.1,.9,1,.3)
endif
endfunction
function V3E takes nothing returns nothing
local unit C17=T37(GetHandleId(GetTriggeringTrigger()),"Hero")
local real D_8=0.2*GetEventDamage()
set EZ7="V3E"
set D_8=D58(D_8,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE))
if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>1 and GetEnumUnit()!=GetTriggerUnit()then
if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<D_8 then
call HY8(C17,GetEnumUnit(),ZI4,D_8)
else
call FN8(GetEnumUnit(),D_8)
endif
endif
set C17=null
endfunction
function V6E takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local group JJ8=T57(US7,"Group")
set EZ7="V6E"
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call ForGroup(JJ8,function VZE)
call T97(US7)
call L97(JJ8)
call UQ7(t)
elseif GetEventDamage()>10 and GetEventDamage()<6000 then
call DisableTrigger(t)
call ForGroup(JJ8,function V3E)
call EnableTrigger(t)
endif
set t=null
set JJ8=null
endfunction
function VLE takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1
endfunction
function V1E takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local group JJ8=LD7()
local integer BY7=GetUnitAbilityLevel(C17,1093683765)
local boolexpr hP=Condition(function VLE)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer i=2
local group V0E=LD7()
local unit array V5E
local string V2E="Abilities\\Spells\\Undead\\Curse\\CurseTarget.mdl"
set EZ7="V1E"
call TJ7(US7,"Hero",C17)
call VAE(C17,m5)
call EE8(V2E,m5,"overhead",25)
set V5E[1]=m5
call TJ7(US7,"Unit1",V5E[1])
call TriggerRegisterUnitEvent(t,V5E[1],EVENT_UNIT_DAMAGED)
call GroupEnumUnitsInRange(JJ8,GetUnitX(m5),GetUnitY(m5),600,hP)
call GroupRemoveUnit(JJ8,m5)
call GroupAddUnit(V0E,m5)
call TS7(US7,"Group",V0E)
loop
exitwhen i>(2+BY7)or FirstOfGroup(JJ8)==null
set V5E[i]=FirstOfGroup(JJ8)
call VAE(V5E[i-1],V5E[i])
call TriggerRegisterUnitEvent(t,V5E[i],EVENT_UNIT_DAMAGED)
call GroupAddUnit(V0E,V5E[i])
call GroupRemoveUnit(JJ8,V5E[i])
call EE8(V2E,V5E[i],"overhead",25)
set i=i+1
endloop
call TF7(US7,"FXCount",i-1)
set E8=GetUnitAbilityLevel(C17,1093683765)
call ForGroup(V0E,function VYE)
call TriggerRegisterTimerEvent(t,25,false)
call TriggerAddAction(t,function V6E)
call DestroyBoolExpr(hP)
set C17=null
set m5=null
call L97(JJ8)
set JJ8=null
set hP=null
set t=null
set V0E=null
endfunction
function RC8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RC8"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VXE))
call TriggerAddAction(t,function V1E)
call DX8(1093683769)
set t=null
endfunction
function V_E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local integer HW8=GetUnitAbilityLevel(p5,1093681491)
set EZ7="V_E"
if GetTriggerEvalCount(t)>9 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect(T27(US7,"FX"))
call UnitRemoveAbility(m5,1093744459)
call UnitRemoveAbility(m5,1110458704)
call T97(US7)
call UQ7(t)
else
call HY8(p5,m5,ZG4,HW8*10+5)
endif
set p5=null
set m5=null
set t=null
return false
endfunction
function W4E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local integer BY7=GetUnitAbilityLevel(p5,1093681491)
set EZ7="W4E"
if GetTriggerEvalCount(t)>9 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect(T27(US7,"FX"))
call UnitRemoveAbility(m5,1093685296)
call UnitRemoveAbility(m5,1110456115)
call T97(US7)
call UQ7(t)
else
call E98(m5,BY7*10+5)
endif
set p5=null
set m5=null
set t=null
return false
endfunction
function W7E takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="W7E"
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TJ7(US7,"Target",m5)
call TJ7(US7,"Source",p5)
if IsUnitAlly(m5,GetOwningPlayer(p5))then
call TriggerAddCondition(t,Condition(function W4E))
call TK7(US7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfSanctuary\\Staff_Sanctuary_Target.mdl",m5,"chest"))
call L67(m5,1093685296)
elseif L87(GetSpellTargetUnit())==false then
call TriggerAddCondition(t,Condition(function V_E))
call TK7(US7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Voodoo\\VoodooAuraTarget.mdl",m5,"overhead"))
call L67(m5,1093744459)
endif
set p5=null
set m5=null
set t=null
endfunction
function W8E takes nothing returns boolean
if GetSpellAbilityId()==1093681491 then
call W7E()
endif
return false
endfunction
function R38 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="R38"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W8E))
call DX8(1093685296)
call DX8(1093744459)
set t=null
endfunction
function W9E takes nothing returns nothing
call HY8(WL4,GetEnumUnit(),ZG4,20+10*W14)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Immolation\\ImmolationDamage.mdl",GetEnumUnit(),"head"))
endfunction
function WDE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer HW8
local integer BU7=GetUnitTypeId(FJ8)
local group g
set EZ7="WDE"
if BU7==1848651861 or BU7==1848658773 then
set HW8=1
elseif BU7==1848651865 or BU7==1848658774 then
set HW8=2
elseif BU7==1848651866 or BU7==1848658775 then
set HW8=3
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set IN4=FJ8
set WL4=FJ8
set W14=HW8
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),275,Condition(function G78))
call ForGroup(g,function W9E)
call L97(g)
set g=null
endif
set t=null
set FJ8=null
return false
endfunction
function WEE takes unit u returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="RainOfChaos_Add"
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function WDE))
call SaveUnitHandle(L7,(PP7),(2),(u))
set t=null
endfunction
function WFE takes nothing returns boolean
local integer BU7=GetUnitTypeId(GetTriggerUnit())
set EZ7="WFE"
if BU7==1848651861 or BU7==1848658773 or BU7==1848651865 or BU7==1848658774 or BU7==1848651866 or BU7==1848658775 then
call WEE(GetTriggerUnit())
endif
return false
endfunction
function WGE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
local real WHE=(LoadReal(L7,(PP7),(191)))
local real WIE=(LoadReal(L7,(PP7),(192)))
local integer HW8=GetUnitAbilityLevel(FJ8,1395667029)
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,WHE,WIE,0)
set EZ7="WGE"
call L67(HV8,1395667029)
call SetUnitAbilityLevel(HV8,1395667029,HW8)
call IssuePointOrderById(HV8,852224,x,y)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set FJ8=null
set HV8=null
set t=null
return false
endfunction
function WJE takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="WJE"
call TriggerRegisterTimerEvent(t,0.3,false)
call TriggerAddCondition(t,Condition(function WGE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(6),((GetSpellTargetX())*1.0))
call SaveReal(L7,(PP7),(7),((GetSpellTargetY())*1.0))
call SaveReal(L7,(PP7),(191),((GetUnitX(FJ8))*1.0))
call SaveReal(L7,(PP7),(192),((GetUnitY(FJ8))*1.0))
set FJ8=null
set t=null
endfunction
function WKE takes nothing returns boolean
if GetSpellAbilityId()==1395667029 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
call WJE()
endif
return false
endfunction
function R68 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="R68"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WKE))
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,GetEntireMapRect())
call TriggerAddCondition(t,Condition(function WFE))
set t=null
endfunction
function WME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
set EZ7="WME"
if GetUnitAbilityLevel(C17,1112041075)==0 then
call UnitRemoveAbility(C17,1093681977)
call T97(US7)
call UQ7(t)
endif
set t=null
set C17=null
return false
endfunction
function WNE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit C17=GetTriggerUnit()
set EZ7="WNE"
call L67(C17,1093681977)
call SetUnitAbilityLevel(C17,1093681977,GetUnitAbilityLevel(C17,1093681985))
call TJ7(US7,"Hero",C17)
call TriggerRegisterTimerEvent(t,.2,true)
call TriggerAddCondition(t,Condition(function WME))
set C17=null
set t=null
endfunction
function WOE takes nothing returns boolean
if GetSpellAbilityId()==1093681985 then
call WNE()
endif
return false
endfunction
function Q_8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="Q_8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WOE))
set t=null
endfunction
function WPE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
set EZ7="WPE"
call SetUnitState(T37(US7,"Unit"),UNIT_STATE_MANA,UD7(US7,"Mana"))
call T97(US7)
call UQ7(t)
set t=null
return false
endfunction
function WQE takes unit u,real WRE returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="qQv"
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function WPE))
call TJ7(US7,"Unit",u)
call TG7(US7,"Mana",WRE)
set t=null
endfunction
function WSE takes nothing returns boolean
return GetSpellAbilityId()==1093682004
endfunction
function WTE takes nothing returns nothing
local integer US7=GetHandleId(GetTriggerUnit())
local real Wx=D28(UD7(US7,"TLLife1"),1)
local real Tw=D28(UD7(US7,"TLMana1"),1)
local real x=UD7(US7,"TLX1")
local real y=UD7(US7,"TLY1")
local unit C17=GetTriggerUnit()
set EZ7="WTE"
if UD7(US7,"TLLife1")>1 and GetUnitState(C17,UNIT_STATE_LIFE)>1 then
call AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl",GetUnitX(C17),GetUnitY(C17))
call SetUnitX(C17,x)
call SetUnitY(C17,y)
call SetUnitState(C17,UNIT_STATE_LIFE,Wx)
call SetUnitState(C17,UNIT_STATE_MANA,Tw)
call UnitRemoveBuffs(C17,false,true)
call ET9(C17)
call WQE(C17,Tw)
endif
set C17=null
endfunction
function R48 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="R48"
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WSE))
call TriggerAddAction(t,function WTE)
set t=null
endfunction
function WUE takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit C17=T37(GetHandleId(t),"UnitVar")
local integer US7=GetHandleId(C17)
local integer T8=1
local integer U8=10
set EZ7="WUE"
loop
exitwhen T8>U8
call TG7(US7,"TLX"+I2S(T8-1),UD7(US7,"TLX"+I2S(T8)))
call TG7(US7,"TLY"+I2S(T8-1),UD7(US7,"TLY"+I2S(T8)))
call TG7(US7,"TLLife"+I2S(T8-1),UD7(US7,"TLLife"+I2S(T8)))
call TG7(US7,"TLMana"+I2S(T8-1),UD7(US7,"TLMana"+I2S(T8)))
set T8=T8+1
endloop
call TG7(US7,"TLX10",GetUnitX(C17))
call TG7(US7,"TLY10",GetUnitY(C17))
call TG7(US7,"TLLife10",GetUnitState(C17,UNIT_STATE_LIFE))
call TG7(US7,"TLMana10",GetUnitState(C17,UNIT_STATE_MANA))
set t=null
set C17=null
endfunction
function WVE takes nothing returns nothing
local unit Z49=IN4
local trigger t
set EZ7="WVE"
set t=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(t,.5)
call TriggerAddAction(t,function WUE)
call TJ7(GetHandleId(t),"UnitVar",Z49)
set t=null
endfunction
function R78 takes nothing returns nothing
endfunction
function WWE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CT7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(CT7),(2)))
local unit PU7=(LoadUnitHandle(L7,(CT7),(17)))
set EZ7="WWE"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(PU7,1093751130)
call SaveInteger(L7,(GetHandleId((PU7))),((4290)),(2))
call FlushChildHashtable(L7,(CT7))
call UQ7(t)
if GetTriggerUnit()==PU7 then
call KillUnit(FJ8)
endif
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==FJ8 then
call SetUnitAbilityLevel(PU7,1093751130,GetUnitAbilityLevel(PU7,1093751130)+1)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SkeletalMageMissile\\SkeletalMageMissile.mdl",PU7,"chest"))
endif
else
call SetUnitX(FJ8,GetUnitX(PU7)-40)
call SetUnitY(FJ8,GetUnitY(PU7)-40)
if G88(PU7)and IsUnitVisible(PU7,GetOwningPlayer(FJ8))==false then
call KillUnit(FJ8)
elseif ModuloInteger(GetTriggerEvalCount(t),5)==0 then
call IssueTargetOrder(FJ8,"attack",PU7)
endif
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function WXE takes unit WYE,unit PU7,integer HW8 returns nothing
local trigger t=CreateTrigger()
local integer CT7=GetHandleId(t)
set EZ7="TheSwarm_Func5"
call UnitRemoveAbility(WYE,1098282348)
call SaveUnitHandle(L7,(CT7),(2),(WYE))
call SaveUnitHandle(L7,(CT7),(17),(PU7))
call L67(PU7,1093751130)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,WYE,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function WWE))
call TriggerEvaluate(t)
call UnitApplyTimedLife(WYE,1112820806,4+4*HW8)
set t=null
endfunction
function WZE takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and((LoadInteger(L7,(GetHandleId((GetFilterUnit()))),((4290))))==1)==false and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))==true or G88(GetFilterUnit())==false)
endfunction
function WAE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local group g
local integer i=1
local unit F3D=(LoadUnitHandle(L7,(PP7),(2)))
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
local real a=(LoadReal(L7,(PP7),(137)))
local unit WBE
local unit FYD
local real E1E=(LoadReal(L7,(PP7),(47)))
local real E0E=(LoadReal(L7,(PP7),(48)))
set EZ7="WAE"
set x=DT8(x+18*Cos(a))
set y=DU8(y+18*Sin(a))
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
if GetTriggerEvalCount(t)>166 then
loop
exitwhen i>12
if(LoadBoolean(L7,(PP7),(511+i-1)))==false then
call KillUnit((LoadUnitHandle(L7,(PP7),(393+i-1))))
endif
set i=i+1
endloop
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set g=LD7()
set IN4=F3D
call GroupEnumUnitsInRange(g,x,y,400,Condition(function WZE))
loop
exitwhen i>12
if(LoadBoolean(L7,(PP7),(511+i-1)))==false then
set WBE=(LoadUnitHandle(L7,(PP7),(393+i-1)))
set x=(LoadReal(L7,(PP7),(549+i-1)))
set y=(LoadReal(L7,(PP7),(567+i-1)))
set x=DT8(x+18*Cos(a))
set y=DU8(y+18*Sin(a))
call SaveReal(L7,(PP7),(549+i-1),((x)*1.0))
call SaveReal(L7,(PP7),(567+i-1),((y)*1.0))
call SetUnitX(WBE,x)
call SetUnitY(WBE,y)
set FYD=FirstOfGroup(g)
if FYD!=null then
call GroupRemoveUnit(g,FYD)
call SaveInteger(L7,(GetHandleId((FYD))),((4290)),(1))
call SaveBoolean(L7,(PP7),(511+i-1),(true))
call WXE(WBE,FYD,GetUnitAbilityLevel(F3D,1093751127))
endif
endif
set i=i+1
endloop
call L97(g)
set g=null
set WBE=null
set FYD=null
endif
set t=null
set F3D=null
return false
endfunction
function WCE takes nothing returns nothing
local location l=GetSpellTargetLoc()
local real W3E=GetLocationX(l)
local real W6E=GetLocationY(l)
local unit F3D=GetTriggerUnit()
local real x=GetUnitX(F3D)
local real y=GetUnitY(F3D)
local real a=Q87(x,y,W3E,W6E)*bj_DEGTORAD
local unit OQD
local real F4E=DT8(x+3000*Cos(a))
local real F7E=DU8(y+3000*Sin(a))
local integer i=1
local trigger t=CreateTrigger()
local integer CT7=GetHandleId(t)
local real PRD
local integer RE7=GetUnitAbilityLevel(F3D,1093751127)
local integer WLE
set EZ7="WCE"
call RemoveLocation(l)
if RE7==1 then
set WLE=1966092619
elseif RE7==2 then
set WLE=1966092616
elseif RE7==3 then
set WLE=1966092618
elseif RE7==4 then
set WLE=1966092620
endif
loop
exitwhen i>12
set OQD=CreateUnit(GetOwningPlayer(F3D),WLE,x+GetRandomInt(-300,300),y+GetRandomInt(-300,300),a*bj_RADTODEG)
call SaveUnitHandle(L7,(CT7),(393+i-1),(OQD))
call SaveBoolean(L7,(CT7),(511+i-1),(false))
call SaveReal(L7,(CT7),(549+i-1),((GetUnitX(OQD))*1.0))
call SaveReal(L7,(CT7),(567+i-1),((GetUnitY(OQD))*1.0))
set i=i+1
endloop
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function WAE))
call SaveUnitHandle(L7,(CT7),(2),(F3D))
call SaveReal(L7,(CT7),(6),((x)*1.0))
call SaveReal(L7,(CT7),(7),((y)*1.0))
call SaveReal(L7,(CT7),(137),((a)*1.0))
call SaveReal(L7,(CT7),(47),((F4E)*1.0))
call SaveReal(L7,(CT7),(48),((F7E)*1.0))
set F3D=null
set OQD=null
set l=null
set t=null
endfunction
function W1E takes nothing returns boolean
if GetSpellAbilityId()==1093751127 then
call WCE()
endif
return false
endfunction
function R88 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="R88"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W1E))
call D78(1966092619)
call D78(1966092616)
call D78(1966092618)
call D78(1966092620)
call DX8(1093751130)
set t=null
endfunction
function W0E takes unit p5,unit NY,unit W5E,integer BY7,boolean W2E returns real
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(NY),GetUnitY(NY),0)
set EZ7="qYv"
if W2E then
call L67(oA,1093687129)
else
call L67(oA,1093684812)
endif
call IssueTargetOrderById(oA,852095,W5E)
if IsUnitType(W5E,UNIT_TYPE_HERO)==false then
call H38(p5,W5E,1,50+25*BY7,0.4)
else
call H38(p5,W5E,1,50,0.4)
endif
if W2E then
return((GetUnitX(W5E)-GetUnitX(NY))*(GetUnitX(W5E)-GetUnitX(NY))+(GetUnitY(W5E)-GetUnitY(NY))*(GetUnitY(W5E)-GetUnitY(NY)))/1000000
endif
set oA=null
return((GetUnitX(W5E)-GetUnitX(NY))*(GetUnitX(W5E)-GetUnitX(NY))+(GetUnitY(W5E)-GetUnitY(NY))*(GetUnitY(W5E)-GetUnitY(NY)))/360000
endfunction
function W_E takes unit p5,unit NY returns unit
local group g=LD7()
set EZ7="q_v"
set IN4=p5
call GroupEnumUnitsInRange(g,GetUnitX(NY),GetUnitY(NY),600,Condition(function GR8))
call GroupRemoveUnit(g,NY)
set IN4=GroupPickRandomUnit(g)
call L97(g)
set g=null
return IN4
endfunction
function X4E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local integer BY7=U97(US7,"Level")
local unit NY=T37(US7,"Old")
local integer iX=U97(US7,"Count")
local unit W5E
local real Hk
set EZ7="X4E"
call T97(US7)
call UQ7(t)
if iX<(BY7*2+1)then
set W5E=W_E(p5,NY)
if W5E!=null then
set Hk=W0E(p5,NY,W5E,BY7,false)
set t=CreateTrigger()
set US7=GetHandleId(t)
call TJ7(US7,"Source",p5)
call TF7(US7,"Level",BY7)
call TJ7(US7,"Old",W5E)
call TF7(US7,"Count",iX+1)
call TriggerRegisterTimerEvent(t,Hk+.4,false)
call TriggerAddCondition(t,Condition(function X4E))
endif
endif
set t=null
set p5=null
set NY=null
set W5E=null
return false
endfunction
function X7E takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit X8E=GetSpellTargetUnit()
local integer BY7=GetUnitAbilityLevel(C17,1093684813)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local real Hk=W0E(C17,C17,X8E,BY7,true)
set EZ7="X7E"
call TJ7(US7,"Source",C17)
call TF7(US7,"Level",BY7)
call TJ7(US7,"Old",X8E)
call TF7(US7,"Count",1)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function X4E))
set C17=null
set X8E=null
set t=null
endfunction
function X9E takes nothing returns boolean
if GetSpellAbilityId()==1093684813 and L87(GetSpellTargetUnit())==false then
call X7E()
endif
return false
endfunction
function RN8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RN8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function X9E))
set t=null
endfunction
function XDE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local integer BY7=GetUnitAbilityLevel(C17,1093684805)
set EZ7="XDE"
call UnitRemoveAbility(C17,1093684805)
call L67(C17,1093684805)
call SetUnitAbilityLevel(C17,1093684805,BY7)
call T97(US7)
call UQ7(t)
set t=null
set C17=null
return false
endfunction
function XEE takes unit m5,integer BY7 returns nothing
local real XFE=(8+BY7*8)/ 3
set EZ7="q5v"
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+XFE)
endfunction
function XGE takes nothing returns boolean
if ji()then
call XEE(GetFilterUnit(),IH4)
endif
return false
endfunction
function XHE takes unit C17 returns nothing
local integer BY7=GetUnitAbilityLevel(C17,1093684805)
local group g=LD7()
set EZ7="q8v"
set IN4=C17
set IH4=BY7
call GroupEnumUnitsInRange(g,GetUnitX(C17),GetUnitY(C17),375,Condition(function XGE))
call L97(g)
set g=null
endfunction
function XIE takes unit C17 returns nothing
local integer HW8=GetUnitAbilityLevel(C17,1093684805)
local real XJE=2+6*HW8
set EZ7="q9v"
call SetUnitState(C17,UNIT_STATE_MANA,GetUnitState(C17,UNIT_STATE_MANA)-(XJE/3))
if GetUnitState(C17,UNIT_STATE_MANA)<XJE then
if UJ7(C17,"DeathWardOn")==false then
call IssueImmediateOrder(C17,"unimmolation")
endif
endif
endfunction
function XKE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
set EZ7="XKE"
if GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if GetIssuedOrderId()==852178 then
call T97(US7)
call UQ7(t)
set t=CreateTrigger()
set US7=GetHandleId(t)
call TJ7(US7,"Hero",C17)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function XDE))
endif
else
call XHE(C17)
call XIE(C17)
endif
set t=null
set C17=null
return false
endfunction
function XME takes nothing returns nothing
local unit C17=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="XME"
call TJ7(US7,"Hero",C17)
call TriggerRegisterTimerEvent(t,0.33,true)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function XKE))
set C17=null
set t=null
endfunction
function XNE takes nothing returns boolean
if GetSpellAbilityId()==1093684805 then
call XME()
endif
return false
endfunction
function RP8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RP8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XNE))
set t=null
endfunction
function XOE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local integer BY7=GetUnitAbilityLevel(p5,1093684815)
local integer iX=GetTriggerEvalCount(t)
local real XPE=UD7(US7,"StartingHP")
local real XQE=0
set EZ7="XOE"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect(T27(US7,"FX"))
call T97(US7)
call UQ7(t)
else
if iX==4 or iX==8 or iX==12 then
call DestroyEffect(T27(US7,"FX"))
if iX==12 then
call T97(US7)
call UQ7(t)
elseif iX==4 or iX==8 then
call TK7(US7,"FX",AddSpecialEffectTarget("effects\\NetherInferno.mdx",m5,"origin"))
endif
set XQE=(0.08+BY7*0.08)*D28(XPE-GetUnitState(m5,UNIT_STATE_LIFE),0)
if XQE>0 then
call EI8("+"+I2S(R2I(XQE)),2,m5,0.023,68,0,187,216)
endif
endif
call HY8(p5,m5,ZG4,5*BY7+XQE)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function XRE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
set EZ7="XRE"
call DestroyEffect(AddSpecialEffectTarget("effects\\NetherInferno.mdx",m5,"origin"))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function XOE))
call TJ7(US7,"Target",m5)
call TJ7(US7,"Source",p5)
call TG7(US7,"StartingHP",GetUnitState(m5,UNIT_STATE_LIFE))
call TK7(US7,"FX",AddSpecialEffectTarget("effects\\NetherInferno.mdx",m5,"origin"))
set t=null
set p5=null
set m5=null
endfunction
function XSE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local group g=LD7()
local integer BY7=GetUnitAbilityLevel(p5,1093684815)
set EZ7="XSE"
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GC8))
call ForGroup(g,function XRE)
call L97(g)
call RemoveLocation(l)
set l=null
set g=null
set p5=null
endfunction
function XTE takes nothing returns boolean
if GetSpellAbilityId()==1093684815 then
call XSE()
endif
return false
endfunction
function RO8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RO8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XTE))
set t=null
endfunction
function XUE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
set EZ7="XUE"
call T97(US7)
call UQ7(t)
if GetTriggerEventId()!=EVENT_UNIT_SPELL_ENDCAST then
call RG7(p5)
endif
set p5=null
set t=null
return false
endfunction
function XVE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="XVE"
call TJ7(US7,"Source",p5)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterTimerEvent(t,10,false)
call TriggerAddCondition(t,Condition(function XUE))
set t=null
set p5=null
endfunction
function XWE takes nothing returns boolean
if GetSpellAbilityId()==1093684820 or GetSpellAbilityId()==1093684824 then
call XVE()
endif
return false
endfunction
function XXE takes nothing returns boolean
if GetUnitTypeId(GetSummonedUnit())==1865429040 or GetUnitTypeId(GetSummonedUnit())==1865429041 or GetUnitTypeId(GetSummonedUnit())==1865429057 or GetUnitTypeId(GetSummonedUnit())==1865429080 then
call UU7(GetSummoningUnit(),"DeathWardOn",8)
endif
return false
endfunction
function RQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RQ8"
call EO8(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function XXE))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XWE))
set t=null
endfunction
function XYE takes nothing returns boolean
local integer id=0
local unit m5
local real II8=(TimerGetElapsed(W))
local real mp
local real hp
loop
exitwhen id>12
set m5=M7[id]
if m5!=null and GetUnitAbilityLevel(m5,1110459204)==0 and SW4[id]>II8 then
set SW4[id]=0
endif
if m5!=null and GetUnitAbilityLevel(m5,1110459204)>0 then
if SW4[id]>II8 and L17(m5)==false then
set hp=GetUnitState(m5,UNIT_STATE_LIFE)
set mp=GetUnitState(m5,UNIT_STATE_MANA)
if hp<SX4[id]then
set SX4[id]=hp
else
endif
if mp<SY4[id]then
set SY4[id]=mp
else
endif
call SetUnitState(m5,UNIT_STATE_LIFE,SX4[id])
set SA4[id]=SA4[id]+1
if SA4[id]==10 then
set SA4[id]=0
if SB4[id]==1 then
call HY8(SZ4[id],m5,ZG4,12.5)
elseif SB4[id]==2 then
call HY8(SZ4[id],m5,ZG4,20)
elseif SB4[id]==3 then
call HY8(SZ4[id],m5,ZG4,32)
endif
endif
elseif SW4[id]>II8 and L17(m5)==true then
set SW4[id]=0
set SX4[id]=9999
set SY4[id]=9999
endif
if GetUnitAbilityLevel(m5,1110459204)>0 and SW4[id]<II8 then
call UnitRemoveAbility(m5,1093749313)
call UnitRemoveAbility(m5,1110459204)
call UnitRemoveAbility(m5,1093749828)
endif
endif
set id=id+1
endloop
set m5=null
return false
endfunction
function XZE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit PU7=T37(US7,"Target")
local integer BY7=U97(US7,"Level")
local unit HV8
set EZ7="XZE"
if GetUnitAbilityLevel(PU7,1110459204)==0 then
call T97(US7)
call UQ7(t)
elseif GetOwningPlayer(PU7)!=GetOwningPlayer(GetEventDamageSource())and GetUnitState(PU7,UNIT_STATE_MAX_LIFE)*(0.09+0.01*BY7)>GetUnitState(PU7,UNIT_STATE_LIFE)and UJ7(PU7,"ShallowGrave|Active")==false then
call T97(US7)
call UQ7(t)
call UnitRemoveAbility(PU7,1093749313)
call UnitRemoveAbility(PU7,1110459204)
call UnitRemoveAbility(PU7,1093749828)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",PU7,"overhead"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",PU7,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",PU7,"origin"))
set HV8=CreateUnit(GetOwningPlayer(GetEventDamageSource()),1697656901,0,0,0)
call UnitRemoveBuffs(PU7,true,true)
call UnitRemoveAbility(PU7,1097167980)
call UnitDamageTarget(HV8,PU7,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
set HV8=null
endif
set t=null
set PU7=null
return false
endfunction
function XAE takes unit p5,unit m5 returns nothing
local integer BY7=GetUnitAbilityLevel(p5,1093750089)
local integer id=GetPlayerId(GetOwningPlayer(m5))
local trigger t
local integer US7
set EZ7="Gust_Register"
if BY7>0 and IsUnitType(m5,UNIT_TYPE_HERO)==true and IsUnitIllusion(m5)==false and JV8(GetUnitTypeId(m5))==false then
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function XZE))
call TJ7(US7,"Target",m5)
call TF7(US7,"Level",BY7)
call L67(m5,1093749313)
call L67(m5,1093749828)
set SW4[id]=(TimerGetElapsed(W))+7+BY7
set SX4[id]=GetUnitState(m5,UNIT_STATE_LIFE)
set SY4[id]=GetUnitState(m5,UNIT_STATE_MANA)
set SZ4[id]=p5
set SB4[id]=BY7
endif
set t=null
endfunction
function UN8 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer id=0
local integer i=0
local player p
set EZ7="UN8"
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function XYE))
loop
exitwhen id>12
set SX4[id]=9999
set SY4[id]=9999
set id=id+1
endloop
loop
exitwhen i>5
set p=Z7[i]
call SetPlayerAbilityAvailable(p,1093749828,false)
set p=A7[i]
call SetPlayerAbilityAvailable(p,1093749828,false)
set i=i+1
endloop
set t=null
set p=null
endfunction
function XBE takes nothing returns nothing
if EM9(GetEnumUnit())then
return
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093748826)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093748826)
call UnitRemoveAbility(GetEnumUnit(),1110459189)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093749044)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093749044)
call UnitRemoveAbility(GetEnumUnit(),1110459189)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093749043)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093749043)
call UnitRemoveAbility(GetEnumUnit(),1110459189)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093749046)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093749046)
call UnitRemoveAbility(GetEnumUnit(),1110459189)
endif
endfunction
function XCE takes nothing returns nothing
if EM9(GetEnumUnit())then
return
endif
if C37(GetEnumUnit())==false then
if a3==1 then
if GetUnitAbilityLevel(GetEnumUnit(),1093748826)==0 then
call UnitRemoveAbility(GetEnumUnit(),1110459189)
call L67(GetEnumUnit(),1093748826)
endif
elseif a3==2 then
if GetUnitAbilityLevel(GetEnumUnit(),1093749044)==0 then
call UnitRemoveAbility(GetEnumUnit(),1110459189)
call L67(GetEnumUnit(),1093749044)
endif
elseif a3==3 then
if GetUnitAbilityLevel(GetEnumUnit(),1093749043)==0 then
call UnitRemoveAbility(GetEnumUnit(),1110459189)
call L67(GetEnumUnit(),1093749043)
endif
elseif a3==4 then
if GetUnitAbilityLevel(GetEnumUnit(),1093749046)==0 then
call UnitRemoveAbility(GetEnumUnit(),1110459189)
call L67(GetEnumUnit(),1093749046)
endif
endif
endif
endfunction
function X3E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit HV8=T37(US7,"Caster")
local group X6E=T57(US7,"ActiveGroup")
local real x=GetUnitX(HV8)
local real y=GetUnitY(HV8)
local group g=LD7()
local group g2
set EZ7="X3E"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call ForGroup(X6E,function XBE)
call L97(g)
call L97(X6E)
call T97(US7)
call UQ7(t)
call ShowUnit(HV8,false)
set t=null
set p5=null
set HV8=null
set X6E=null
return false
endif
set n3=p5
set a3=GetUnitAbilityLevel(p5,1093748819)
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,300,Condition(function G78))
call GroupRemoveGroup(g,X6E)
call ForGroup(X6E,function XBE)
call ForGroup(g,function XCE)
call TS7(US7,"ActiveGroup",g)
call L97(X6E)
set t=null
set p5=null
set HV8=null
set X6E=null
set g=null
return false
endfunction
function XLE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local integer BY7=GetUnitAbilityLevel(p5,1093748819)
local unit HV8=CreateUnit(GetOwningPlayer(p5),1848658001,x,y,0)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="XLE"
call UnitApplyTimedLife(HV8,1112820806,12)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,HV8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function X3E))
call TJ7(US7,"Source",p5)
call TJ7(US7,"Caster",HV8)
call TS7(US7,"ActiveGroup",LD7())
set p5=null
call RemoveLocation(l)
set l=null
set HV8=null
set t=null
endfunction
function X1E takes nothing returns boolean
if GetSpellAbilityId()==1093748819 then
call XLE()
endif
return false
endfunction
function UJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer i=0
local player p
set EZ7="UJ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function X1E))
set t=null
loop
exitwhen i>5
set p=Z7[i]
call SetPlayerAbilityAvailable(p,1093748826,false)
call SetPlayerAbilityAvailable(p,1093749044,false)
call SetPlayerAbilityAvailable(p,1093749043,false)
call SetPlayerAbilityAvailable(p,1093749046,false)
set p=A7[i]
call SetPlayerAbilityAvailable(p,1093748826,false)
call SetPlayerAbilityAvailable(p,1093749044,false)
call SetPlayerAbilityAvailable(p,1093749043,false)
call SetPlayerAbilityAvailable(p,1093749046,false)
set i=i+1
endloop
set p=null
endfunction
function X0E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
local integer BY7=U97(US7,"Level")
local unit HV8
local real D_8=(100+50*BY7)/ 4
set EZ7="X0E"
if GetTriggerEventId()==EVENT_UNIT_DEATH or Q07(x,y,GetUnitX(m5),GetUnitY(m5))>765 or GetUnitAbilityLevel(m5,1110459203)==0 then
call DestroyEffect(T27(US7,"FX"))
call DestroyEffect(T27(US7,"fx2"))
call UnitRemoveAbility(m5,1093749305)
call UnitRemoveAbility(m5,1110459203)
call T97(US7)
call UQ7(t)
elseif GetTriggerEvalCount(t)==(10*0.8)then
call DestroyEffect(T27(US7,"FX"))
call TK7(US7,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))
call HY8(p5,m5,ZG4,D_8)
elseif GetTriggerEvalCount(t)==(10*1.6)then
call DestroyEffect(T27(US7,"FX"))
call TK7(US7,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))
call HY8(p5,m5,ZG4,D_8)
elseif GetTriggerEvalCount(t)==(10*2.5)then
call DestroyEffect(T27(US7,"FX"))
call TK7(US7,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))
call HY8(p5,m5,ZG4,D_8)
elseif GetTriggerEvalCount(t)==(10*3.4)then
call DestroyEffect(T27(US7,"FX"))
call HY8(p5,m5,ZG4,D_8)
elseif GetTriggerEvalCount(t)>(10*3.9)then
call DestroyEffect(T27(US7,"fx2"))
call UnitRemoveAbility(m5,1093749305)
call UnitRemoveAbility(m5,1110459203)
call T97(US7)
call UQ7(t)
set HV8=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call L67(HV8,1093750090)
call SetUnitAbilityLevel(HV8,1093750090,BY7)
call IssueTargetOrder(HV8,"thunderbolt",m5)
set HV8=null
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function X5E takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(p5,1093750087)
local string s="Doodads\\Cinematic\\GlowingRunes\\GlowingRunes4.mdl"
set EZ7="X5E"
if GetLocalPlayer()==GetOwningPlayer(m5)then
endif
call L67(m5,1093749305)
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TG7(US7,"x",GetUnitX(m5)*1.0)
call TG7(US7,"y",GetUnitY(m5)*1.0)
call TF7(US7,"Level",BY7)
call TK7(US7,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))
call TK7(US7,"fx2",AddSpecialEffect(s,GetUnitX(m5),GetUnitY(m5)))
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function X0E))
set p5=null
set m5=null
set t=null
endfunction
function X2E takes nothing returns boolean
if GetSpellAbilityId()==1093750087 and L87(GetSpellTargetUnit())==false then
call X5E()
endif
return false
endfunction
function UK8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UK8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function X2E))
set t=null
endfunction
function X_E takes nothing returns nothing
local unit p5=E3
local unit m5=GetEnumUnit()
local integer BY7=V3
set EZ7="X_E"
call XAE(p5,m5)
call HY8(p5,m5,ZG4,150+100*BY7)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\PlasmaShot.mdl",m5,"chest"))
set p5=null
set m5=null
endfunction
function Y4E takes nothing returns nothing
local unit p5=E3
local unit m5=GetEnumUnit()
local integer BY7=V3
set EZ7="Y4E"
call XAE(p5,m5)
set p5=null
set m5=null
endfunction
function Y7E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit HO8=T37(US7,"Projectile")
local real Y5=UD7(US7,"TargetX")
local real Z5=UD7(US7,"TargetY")
local real l4=UD7(US7,"Angle")
local real Y8E=UD7(US7,"AOE")
local unit p5=T37(US7,"Source")
local integer BY7=U97(US7,"Level")
local real x=GetUnitX(HO8)+30*Cos(l4)
local real y=GetUnitY(HO8)+30*Sin(l4)
local group g
local fogmodifier Y9E
set EZ7="Y7E"
if Q07(x,y,Y5,Z5)<35 or x!=DT8(x)or y!=DU8(y)then
set x=Y5
set y=Z5
call SetUnitX(HO8,x)
call SetUnitY(HO8,y)
call DestroyEffect(T27(US7,"FX"))
set Y9E=TB7(US7,"Fog")
call FogModifierStop(Y9E)
call DestroyFogModifier(Y9E)
set Y9E=null
if EA7 then
set bj_forLoopAIndex=0
set bj_forLoopAIndexEnd=U97(US7,"FUN|EffNum")
loop
exitwhen bj_forLoopAIndex>=bj_forLoopAIndexEnd
call DestroyEffect(T27(US7,"FUN|Eff"+I2S(bj_forLoopAIndex)))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
call T97(US7)
call UQ7(t)
call KillUnit(HO8)
set IN4=p5
set E3=p5
set V3=BY7
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,Y8E+25,Condition(function G78))
call ForGroup(g,function X_E)
call L97(g)
set g=null
else
call SetUnitX(HO8,x)
call SetUnitY(HO8,y)
set IN4=p5
set E3=p5
set V3=BY7
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,300,Condition(function G78))
call ForGroup(g,function Y4E)
call L97(g)
set g=null
endif
set t=null
set HO8=null
set p5=null
return false
endfunction
function YDE takes unit p5,real x,real y,real YEE,effect FX,fogmodifier Y9E returns nothing
local real l4=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit HO8=CreateUnit(GetOwningPlayer(p5),1747993142,GetUnitX(p5),GetUnitY(p5),l4*bj_RADTODEG)
local integer BY7=GetUnitAbilityLevel(p5,1093750089)
local real Y8E=D58(225+25*YEE*2,1000)
local real HZE=Q07(GetUnitX(p5),GetUnitY(p5),x,y)
set EZ7="QKv"
if IsUnitEnemy(HO8,GetLocalPlayer())and C67(GetLocalPlayer())==false then
call UnitSetUsesAltIcon(HO8,true)
endif
call TriggerRegisterTimerEvent(t,D58(2.0/(HZE/ 30),0.04),true)
call TriggerAddCondition(t,Condition(function Y7E))
call TJ7(US7,"Projectile",HO8)
call TG7(US7,"TargetX",x*1.0)
call TG7(US7,"TargetY",y*1.0)
call TG7(US7,"Angle",l4*1.0)
call TG7(US7,"AOE",Y8E*1.0)
call TF7(US7,"Level",BY7)
call TJ7(US7,"Source",p5)
call TO7(US7,"Fog",Y9E)
call TK7(US7,"FX",FX)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750089,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750094,false)
if EA7 then
set EI7=""
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(p5))then
set EI7=EC7
endif
set bj_forLoopAIndex=0
set bj_forLoopAIndexEnd=R2I(Y8E/100)+10
loop
exitwhen bj_forLoopAIndex>=bj_forLoopAIndexEnd
set EJ7=I2R(bj_forLoopAIndex)*(6.2831853/I2R(bj_forLoopAIndexEnd))
call TK7(US7,"FUN|Eff"+I2S(bj_forLoopAIndex),AddSpecialEffect(EI7,x+Cos(EJ7)*Y8E,y+Sin(EJ7)*Y8E))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call TF7(US7,"FUN|EffNum",bj_forLoopAIndexEnd)
endif
set t=null
set HO8=null
endfunction
function YFE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit HO8=T37(US7,"Projectile")
local unit p5=T37(US7,"Source")
local real l4=UD7(US7,"Angle")
local real x
local real y
local real YEE=TimerGetElapsed(W)-UD7(US7,"CastTime")
local string s
local fogmodifier Y9E
local effect FX
local real YGE=GetUnitX(HO8)+30*Cos(l4)
local real YHE=GetUnitY(HO8)+30*Sin(l4)
local boolean J4
local integer i
set EZ7="YFE"
set x=DT8(YGE)
set y=DU8(YHE)
call SetUnitX(HO8,x)
call SetUnitY(HO8,y)
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093750094)or x!=YGE or y!=YHE then
call T97(US7)
call UQ7(t)
call RemoveUnit(HO8)
set s=""
if IsPlayerAlly(GetOwningPlayer(p5),GetLocalPlayer())or C67(GetLocalPlayer())then
set s="war3mapImported\\IceWindGroundFX.mdl"
endif
set Y9E=CreateFogModifierRadius(GetOwningPlayer(p5),FOG_OF_WAR_VISIBLE,x,y,500,true,true)
call FogModifierStart(Y9E)
set FX=AddSpecialEffect(s,x,y)
call YDE(p5,x,y,YEE,FX,Y9E)
set Y9E=null
set FX=null
elseif AK7(GetOwningPlayer(p5))then
set EJ7=Q07(x,y,UD7(US7,"AI|TgtX"),UD7(US7,"AI|TgtY"))
if EJ7>UD7(US7,"AI|MaxDist")or UE7(US7,"AI|Blast")then
if RY7(p5)then
call SL7(p5,852526,1093750094)
else
call TI7(US7,"AI|Blast",true)
endif
else
call TG7(US7,"AI|MaxDist",EJ7)
if Bz>UD7(US7,"AI|NextUp")then
call TG7(US7,"AI|NextUp",Bz+1)
set J4=false
set i=U97(GetHandleId(p5),"AI|IBClose")
if(i==1)then
set J4=(LM7(p5,T37(GetHandleId(p5),"AI|IBTgt"),500.,0.02,1500.)!=null)
elseif(i==0)then
set J4=(LM7(p5,T37(GetHandleId(p5),"AI|IBTgt"),1500.,2.02,99999.)!=null)
elseif(i==2)then
call SX7(T37(GetHandleId(p5),"AI|IBTgt"))
call MoveLocation(GO7,GetLocationX(HA),GetLocationY(HA))
endif
if J4 then
call TG7(US7,"AI|TgtX",GetLocationX(GO7))
call TG7(US7,"AI|TgtY",GetLocationY(GO7))
call TG7(US7,"AI|MaxDist",99999.)
endif
endif
endif
endif
set t=null
set HO8=null
set p5=null
return false
endfunction
function YIE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit HO8=CreateUnit(GetOwningPlayer(p5),1211122232,GetUnitX(p5),GetUnitY(p5),a*bj_RADTODEG)
set EZ7="YIE"
if IsUnitEnemy(HO8,GetLocalPlayer())and C67(GetLocalPlayer())==false then
call UnitSetUsesAltIcon(HO8,true)
endif
call TJ7(US7,"Projectile",HO8)
call TJ7(US7,"Source",p5)
call TG7(US7,"Angle",a*1.0)
call TG7(US7,"CastTime",TimerGetElapsed(W)*1.0)
if AK7(GetOwningPlayer(p5))then
call TG7(US7,"AI|TgtX",x)
call TG7(US7,"AI|TgtY",y)
call TG7(US7,"AI|MaxDist",99999.)
call TG7(US7,"AI|NextUp",Bz+1)
endif
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YFE))
call SetUnitColor(HO8,GetPlayerColor(Player(14)))
call RemoveLocation(l)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750089,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750094,true)
call L67(p5,1093750094)
if AK7(GetOwningPlayer(p5))then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750094,false)
endif
set p5=null
set l=null
set t=null
set HO8=null
endfunction
function YJE takes nothing returns boolean
if GetSpellAbilityId()==1093750089 then
call YIE()
endif
return false
endfunction
function UM8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UM8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YJE))
set t=null
endfunction
function YKE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local unit p5=T37(US7,"Source")
local integer BY7=U97(US7,"Level")
local integer YME=U97(GetHandleId(p5),"ChillingCounter")
set EZ7="YKE"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and GetEventDamage()>1 then
call DisableTrigger(t)
if YME>0 then
call TF7(GetHandleId(p5),"ChillingCounter",YME-1)
call EI8("+"+I2S(40+10*BY7),1,p5,0.024,100,200,255,255)
call HY8(p5,m5,ZG4,40+10*BY7)
endif
call T97(US7)
call UQ7(t)
endif
else
call T97(US7)
call UQ7(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function YNE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local integer BY7=X3
set EZ7="YNE"
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
set p5=GetAttacker()
endif
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED or(U97(GetHandleId(p5),"ChillingCounter")==0 and GetUnitAbilityLevel(p5,1093748814)>0)then
call DestroyEffect(T27(GetHandleId(p5),"fx1"))
call DestroyEffect(T27(GetHandleId(p5),"fx2"))
call TF7(GetHandleId(p5),"ChillingCounter",0)
call T97(US7)
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED then
call UQ7(t)
endif
call UnitRemoveAbility(p5,1093748814)
call UnitRemoveAbility(p5,1110459210)
call UnitRemoveAbility(p5,1093749072)
elseif GetUnitAbilityLevel(p5,1093748814)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and UJ7(p5,"ChillingTouchState")==false then
call UU7(p5,"ChillingTouchState",0.4)
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.0,false)
call TriggerAddCondition(t,Condition(function YKE))
call TJ7(US7,"Target",GetTriggerUnit())
call TJ7(US7,"Source",p5)
call TF7(US7,"Level",BY7)
endif
set t=null
set p5=null
return false
endfunction
function YOE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(p5,1093748817)
set EZ7="YOE"
set X3=BY7
call L67(m5,1093748814)
call L67(m5,1093749072)
call TF7(GetHandleId(m5),"ChillingCounter",2+BY7)
call TJ7(US7,"Source",m5)
call TK7(GetHandleId(m5),"fx1",AddSpecialEffectTarget("war3mapImported\\FrostHands.mdx",m5,"right,hand"))
call TK7(GetHandleId(m5),"fx2",AddSpecialEffectTarget("war3mapImported\\FrostHands.mdx",m5,"left,hand"))
call TriggerRegisterTimerEvent(t,30,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YNE))
set p5=null
set m5=null
set t=null
endfunction
function YPE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local group g=LD7()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
set EZ7="YPE"
call RemoveLocation(l)
call DestroyEffect(AddSpecialEffect("war3mapImported\\IcyWind.mdl",x,y))
call GroupEnumUnitsInRange(g,x,y,525+25,Condition(function G58))
call ForGroup(g,function YOE)
call L97(g)
set p5=null
set g=null
set l=null
endfunction
function YQE takes nothing returns boolean
if GetSpellAbilityId()==1093748817 then
call YPE()
endif
return false
endfunction
function UO8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UO8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YQE))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function YNE))
set t=null
endfunction
function YRE takes nothing returns nothing
call HY8(A3,GetEnumUnit(),ZG4,(GetUnitAbilityLevel(A3,1093749069)*75)/10)
endfunction
function YSE takes unit FJ8 returns nothing
local real NUE=(GetUnitAbilityLevel(FJ8,1093749069)*75)/2
set EZ7="DarkPact_SelfDamage"
set NUE=NUE/10.0
if GetUnitState(FJ8,UNIT_STATE_LIFE)<=NUE*0.75 then
set NUE=GetUnitState(FJ8,UNIT_STATE_LIFE)/0.75-10
endif
call HY8(FJ8,FJ8,ZG4,NUE)
endfunction
function YTE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit FJ8=T37(US7,"Source")
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local group g
local real D_8
local unit HV8
local integer BY7=0
local integer L48=GetTriggerEvalCount(t)
set EZ7="YTE"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call T97(US7)
call UQ7(t)
return false
else
if GetTriggerEvalCount(t)==1 then
set HV8=CreateUnit(GetOwningPlayer(FJ8),1747993138,x,y,0)
call UnitApplyTimedLife(HV8,1112820806,1)
set HV8=null
call TriggerRegisterTimerEvent(t,0.1,true)
set g=LD7()
set A3=FJ8
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,350,Condition(function G78))
call ForGroup(g,function YRE)
call YSE(FJ8)
call L97(g)
else
if L48==10 then
call T97(US7)
call UQ7(t)
endif
set g=LD7()
set A3=FJ8
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,350,Condition(function G78))
call ForGroup(g,function YRE)
call YSE(FJ8)
call L97(g)
call ET9(FJ8)
call EQ9(FJ8,0,0)
endif
endif
set t=null
set g=null
set FJ8=null
return false
endfunction
function YUE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local real D_8=(GetUnitAbilityLevel(p5,1093749069)*75)/ 2
set EZ7="YUE"
call TriggerRegisterTimerEvent(t,1.5,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YTE))
call TJ7(US7,"Source",p5)
set t=null
set p5=null
endfunction
function YVE takes nothing returns boolean
if GetSpellAbilityId()==1093749069 then
call YUE()
endif
return false
endfunction
function US8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="US8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YVE))
set t=null
endfunction
function YWE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local player YXE
local integer BY7=GetUnitAbilityLevel(p5,1093749070)
local integer MainLevel=GetUnitAbilityLevel(p5,1093749070)
local real II8=TimerGetElapsed(W)
local real YYE=UD7(US7,"Buffer1")
local real YZE=UD7(US7,"Buffer2")
set EZ7="YWE"
if L17(p5)then
set t=null
set p5=null
return false
endif
if AG7(GetOwningPlayer(p5))then
set YXE=A7[1]
else
set YXE=Z7[1]
endif
if GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetOwningPlayer(GetEventDamageSource())==B7 then
if GetUnitAbilityLevel(p5,1093749061)>0 then
call UnitRemoveAbility(p5,1093749061)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749062)>0 then
call UnitRemoveAbility(p5,1093749062)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749063)>0 then
call UnitRemoveAbility(p5,1093749063)
call UnitRemoveAbility(p5,1110459193)
endif
call TG7(US7,"NightcrawlerTime",(II8+2)*1.0)
set t=null
set p5=null
return false
endif
if UD7(US7,"NightcrawlerTime")>II8 then
set t=null
set p5=null
return false
endif
if IsUnitVisible(p5,YXE)or GetUnitAbilityLevel(p5,1112433775)>0 then
set YZE=0
if GetUnitAbilityLevel(p5,1093749061)>0 or GetUnitAbilityLevel(p5,1093749062)>0 or GetUnitAbilityLevel(p5,1093749063)>0 then
set YYE=YYE+0.1
if YYE>0.4 then
set YYE=0
if GetUnitAbilityLevel(p5,1093749061)>0 then
call UnitRemoveAbility(p5,1093749061)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749062)>0 then
call UnitRemoveAbility(p5,1093749062)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749063)>0 then
call UnitRemoveAbility(p5,1093749063)
call UnitRemoveAbility(p5,1110459193)
endif
endif
endif
call TG7(US7,"Buffer1",YYE*1.0)
call TG7(US7,"Buffer2",YZE*1.0)
elseif IsUnitVisible(p5,YXE)==false then
set YYE=0
if(BY7==1 and GetUnitAbilityLevel(p5,1093749061)==0)or(BY7==2 and GetUnitAbilityLevel(p5,1093749062)==0)or(BY7==3 and GetUnitAbilityLevel(p5,1093749063)==0)then
set YZE=YZE+0.1
if YZE>0.6 then
set YZE=0
if BY7==1 then
if GetUnitAbilityLevel(p5,1093749061)==0 then
call L67(p5,1093749061)
endif
endif
if BY7==2 then
if GetUnitAbilityLevel(p5,1093749061)>0 then
call UnitRemoveAbility(p5,1093749061)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749062)==0 then
call L67(p5,1093749062)
endif
endif
if BY7==3 then
if GetUnitAbilityLevel(p5,1093749061)>0 then
call UnitRemoveAbility(p5,1093749061)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749062)>0 then
call UnitRemoveAbility(p5,1093749062)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749063)==0 then
call L67(p5,1093749063)
endif
endif
endif
endif
call TG7(US7,"Buffer1",YYE*1.0)
call TG7(US7,"Buffer2",YZE*1.0)
endif
set t=null
set p5=null
set YXE=null
return false
endfunction
function YAE takes unit C17,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="Q_v"
call TG7(US7,"Buffer1",0*1.0)
call TG7(US7,"Buffer2",0*1.0)
call TG7(US7,"NightcrawlerTime",TimerGetElapsed(W)*1.0)
call TJ7(US7,"Source",C17)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function YWE))
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),1093749061,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),1093749062,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),1093749063,false)
set t=null
endfunction
function YBE takes nothing returns boolean
if GetLearnedSkill()==1093749070 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093749070)==1 then
call YAE(GetTriggerUnit(),false)
endif
return false
endfunction
function UR8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UR8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function YBE))
set t=null
endfunction
function YCE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=GetDyingUnit()
set EZ7="YCE"
if GetOwningPlayer(GetKillingUnit())==GetOwningPlayer(FJ8)and IsUnitType(PU7,UNIT_TYPE_HERO)==true and IsUnitIllusion(PU7)==false then
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function Y3E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer Y6E=(LoadInteger(L7,(PP7),(422)))
local integer YLE=(LoadInteger(L7,(PP7),(423)))
local integer ZRD=(LoadInteger(L7,(PP7),(424)))
set EZ7="Y3E"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
if(LoadBoolean(L7,(PP7),(276)))==false and GetTriggerUnit()==FJ8 then
call SaveBoolean(L7,(PP7),(276),(true))
call SetHeroAgi(FJ8,GetHeroAgi(FJ8,false)-Y6E-YLE-ZRD,true)
elseif(LoadBoolean(L7,(PP7),(277)))==false and GetTriggerUnit()==PU7 then
call SaveBoolean(L7,(PP7),(277),(true))
call SetHeroAgi(PU7,GetHeroAgi(PU7,false)+Y6E,true)
call SetHeroStr(PU7,GetHeroStr(PU7,false)+YLE,true)
call SetHeroInt(PU7,GetHeroInt(PU7,false)+ZRD,true)
endif
else
if(LoadBoolean(L7,(PP7),(276)))==false then
call SaveBoolean(L7,(PP7),(276),(true))
call SetHeroAgi(FJ8,GetHeroAgi(FJ8,false)-Y6E-YLE-ZRD,true)
endif
if(LoadBoolean(L7,(PP7),(277)))==false then
call SaveBoolean(L7,(PP7),(277),(true))
call SetHeroAgi(PU7,GetHeroAgi(PU7,false)+Y6E,true)
call SetHeroStr(PU7,GetHeroStr(PU7,false)+YLE,true)
call SetHeroInt(PU7,GetHeroInt(PU7,false)+ZRD,true)
endif
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function Y1E takes unit FJ8,unit PU7 returns nothing
local integer HW8=GetUnitAbilityLevel(FJ8,1093748818)
local integer FMD=CL7(PU7)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local integer Y6E
local integer YLE
local integer ZRD
local real HT8
set EZ7="EssenceShift_SuccessfulAttack"
if FMD==2 then
set Y6E=IMinBJ(GetHeroAgi(PU7,false)-1,1)
set YLE=IMinBJ(GetHeroStr(PU7,false)-1,1)
set ZRD=IMinBJ(GetHeroInt(PU7,false)-1,1)
elseif FMD==3 then
set Y6E=IMinBJ(GetHeroAgi(PU7,false)-1,1)
set YLE=IMinBJ(GetHeroStr(PU7,false)-1,1)
set ZRD=IMinBJ(GetHeroInt(PU7,false)-1,1)
elseif FMD==1 then
set Y6E=IMinBJ(GetHeroAgi(PU7,false)-1,1)
set YLE=IMinBJ(GetHeroStr(PU7,false)-1,1)
set ZRD=IMinBJ(GetHeroInt(PU7,false)-1,1)
endif
call SetHeroAgi(FJ8,GetHeroAgi(FJ8,false)+Y6E+ZRD+YLE,true)
call SetHeroAgi(PU7,GetHeroAgi(PU7,false)-Y6E,true)
call SetHeroStr(PU7,GetHeroStr(PU7,false)-YLE,true)
call SetHeroInt(PU7,GetHeroInt(PU7,false)-ZRD,true)
call SaveInteger(L7,(PP7),(422),(Y6E))
call SaveInteger(L7,(PP7),(424),(ZRD))
call SaveInteger(L7,(PP7),(423),(YLE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveBoolean(L7,(PP7),(276),(false))
call SaveBoolean(L7,(PP7),(277),(false))
if HW8==1 then
set HT8=15
elseif HW8==2 then
set HT8=30
elseif HW8==3 then
set HT8=60
elseif HW8==4 then
set HT8=120
endif
call TriggerRegisterTimerEvent(t,HT8,false)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y3E))
set t=null
endfunction
function Y0E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
set EZ7="Y0E"
if GetTriggerEventId()!=EVENT_UNIT_DEATH then
call Y1E(FJ8,PU7)
endif
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function Y5E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local integer AD9=(LoadInteger(L7,(PP7),(30)))
local unit PU7=A87(AD9)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="Y5E"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==FJ8 then
call DisableTrigger(t)
call A77(AD9)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function Y0E))
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
endif
else
call A77(AD9)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function Y2E takes nothing returns nothing
local trigger t=CreateTrigger()
local unit PU7=GetTriggerUnit()
local unit FJ8=GetAttacker()
local integer PP7=GetHandleId(t)
set EZ7="Y2E"
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function Y5E))
call SaveInteger(L7,(PP7),(30),(AD7(PU7)))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set PU7=null
set FJ8=null
set t=null
endfunction
function Y_E takes nothing returns nothing
local unit FJ8=GetAttacker()
set EZ7="Y_E"
if UJ7(FJ8,"CooldownState")==false then
call UU7(FJ8,"CooldownState",0.45-GetUnitAbilityLevel(GetAttacker(),1093748818)*0.05)
call Y2E()
endif
endfunction
function Z4E takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093748818)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(14)))and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
call Y_E()
endif
return false
endfunction
function Z7E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7
set EZ7="Z7E"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function Z4E))
call SaveUnitHandle(L7,(GetHandleId(t)),(14),(GetTriggerUnit()))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YCE))
call SaveUnitHandle(L7,(PP7),(2),(GetTriggerUnit()))
set t=null
endfunction
function Z8E takes nothing returns boolean
if GetLearnedSkill()==1093748818 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093748818)==1 then
call Z7E()
endif
return false
endfunction
function UP8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UP8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function Z8E))
set t=null
endfunction
function Z9E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit HV8=T37(US7,"Caster")
local integer BY7=U97(US7,"Level")
set EZ7="Z9E"
if GetTriggerEvalCount(t)>5.5/0.03 then
call KillUnit(HV8)
call T97(US7)
call UQ7(t)
else
call SetUnitX(HV8,GetUnitX(p5))
call SetUnitY(HV8,GetUnitY(p5))
endif
set t=null
set p5=null
set HV8=null
return false
endfunction
function ZDE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer BY7=GetUnitAbilityLevel(p5,1093749070)
local real d=5.5
local unit HV8=CreateUnit(GetOwningPlayer(p5),1747993137,GetUnitX(p5),GetUnitY(p5),0)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="ZDE"
call FR8(p5,1093748823,1,d)
call FR8(p5,1093748824,1,d)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function Z9E))
call TJ7(US7,"Caster",HV8)
call TJ7(US7,"Source",p5)
call TF7(US7,"Level",BY7)
set p5=null
set HV8=null
set t=null
endfunction
function ZEE takes nothing returns boolean
if GetSpellAbilityId()==1093749070 then
call ZDE()
endif
return false
endfunction
function UQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UQ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZEE))
set t=null
endfunction
function ZFE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer ZU9=GetTriggerEvalCount(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local lightning ZGE=T_7(US7,"Lightning")
local integer BY7=U97(US7,"Level")
local real t5=UD7(US7,"SourceX")
local real w5=UD7(US7,"SourceY")
local real Y5=GetUnitX(m5)
local real Z5=GetUnitY(m5)
local real ZHE
local real ZIE
local real PSE=UD7(US7,"LastX")
local real PTE=UD7(US7,"LastY")
local real l4
local real HZE=Q07(PSE,PTE,Y5,Z5)
set EZ7="ZFE"
call TG7(US7,"LastX",Y5)
call TG7(US7,"LastY",Z5)
if HZE>100 or ZU9>(3.5/ .03)or C37(m5)==true then
call DestroyLightning(ZGE)
call T97(US7)
call UQ7(t)
else
call MoveLightning(ZGE,true,t5,w5,Y5,Z5)
if Q07(t5,w5,Y5,Z5)>325 then
set l4=Atan2(Z5-w5,Y5-t5)
set ZHE=t5+(325)*Cos(l4)
set ZIE=w5+(325)*Sin(l4)
call SetUnitX(m5,ZHE)
call SetUnitY(m5,ZIE)
endif
endif
set t=null
set p5=null
set m5=null
set ZGE=null
return false
endfunction
function ZJE takes unit FJ8,unit PU7,integer HW8 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local lightning O4E=AddLightning("PONC",true,GetUnitX(FJ8),GetUnitY(FJ8),GetUnitX(PU7),GetUnitY(PU7))
set EZ7="Pounce_Latch"
call SetLightningColor(O4E,1,1,1,1)
call SaveLightningHandle(L7,(PP7),StringHash("Lightning"),(O4E))
call TJ7(PP7,"Source",FJ8)
call TJ7(PP7,"Target",PU7)
call TF7(PP7,"Level",HW8)
call TG7(PP7,"SourceX",GetUnitX(FJ8)*1.0)
call TG7(PP7,"SourceY",GetUnitY(FJ8)*1.0)
call TG7(PP7,"LastX",GetUnitX(PU7)*1.0)
call TG7(PP7,"LastY",GetUnitY(PU7)*1.0)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZFE))
call HY8(FJ8,PU7,ZG4,70*HW8)
call IssueTargetOrder(FJ8,"attack",PU7)
set t=null
set O4E=null
endfunction
function ZKE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local integer L48=GetTriggerEvalCount(t)
local integer HW8=U97(PP7,"Level")
local unit FJ8=T37(PP7,"Source")
local real AZ9=UD7(PP7,"Angle")
local real WHE=UD7(PP7,"SourceX")
local real WIE=UD7(PP7,"SourceY")
local real EX8=UD7(PP7,"TargetX")
local real EY8=UD7(PP7,"TargetY")
local real EB8=WHE+(30*(20+4*2)/30)*L48*Cos(AZ9*bj_DEGTORAD)
local real EC8=WIE+(30*(20+4*2)/30)*L48*Sin(AZ9*bj_DEGTORAD)
local real ZME=SquareRoot((EB8-EX8)*(EB8-EX8)+(EC8-EY8)*(EC8-EY8))
local real ZNE=700
local real ZOE=175
local real ZPE=(1-ZME/ ZNE)*ZOE*2
local group g=LD7()
local unit PU7
set EZ7="ZKE"
if L48==1 then
call SetUnitAnimationByIndex(FJ8,5)
call SetUnitTimeScale(FJ8,1.5)
endif
if ZPE>ZOE then
call SetUnitAnimationByIndex(FJ8,5)
set ZPE=ZOE*2-ZPE
endif
call SetUnitFlyHeight(FJ8,D28(ZPE,0),0)
call SetUnitX(FJ8,DT8(EB8))
call SetUnitY(FJ8,DU8(EC8))
call SetUnitFacing(FJ8,AZ9)
set IN4=FJ8
call GroupEnumUnitsInRange(g,EB8,EC8,120,Condition(function GX8))
set PU7=FirstOfGroup(g)
call L97(g)
if ZME<30 or PU7!=null or GetTriggerEvalCount(t)>75 then
call SetUnitFlyHeight(FJ8,0,0)
call SetUnitFacing(FJ8,AZ9)
call SetUnitTimeScale(FJ8,1)
call SetUnitAnimation(FJ8,"stand")
call SetUnitPathing(FJ8,true)
call UnitRemoveAbility(FJ8,1093749302)
call ER8(GetUnitX(FJ8),GetUnitY(FJ8),100)
if PU7!=null and C37(PU7)==false then
call UU7(PU7,"4408",5)
call ZJE(FJ8,PU7,HW8)
endif
call T97(PP7)
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
set g=null
return false
endfunction
function ZQE takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093749303)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local real FEE=700
local real AZ9=GetUnitFacing(FJ8)
local real GPD=GetUnitX(FJ8)
local real GQD=GetUnitY(FJ8)
local real EX8=DT8(GPD+FEE*Cos(AZ9*bj_DEGTORAD))
local real EY8=DU8(GQD+FEE*Sin(AZ9*bj_DEGTORAD))
set EZ7="ZQE"
call L67(FJ8,1097691750)
call UnitRemoveAbility(FJ8,1097691750)
call SetUnitPathing(FJ8,false)
call L67(FJ8,1093749302)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function ZKE))
call TJ7(PP7,"Source",FJ8)
call TF7(PP7,"Level",HW8)
call TG7(PP7,"Angle",AZ9*1.0)
call TG7(PP7,"SourceX",GPD*1.0)
call TG7(PP7,"SourceY",GQD*1.0)
call TG7(PP7,"TargetX",EX8*1.0)
call TG7(PP7,"TargetY",EY8*1.0)
set FJ8=null
set t=null
endfunction
function ZRE takes nothing returns boolean
if GetSpellAbilityId()==1093749303 then
call ZQE()
endif
return false
endfunction
function UT8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UT8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZRE))
set t=null
endfunction
function ZSE takes nothing returns nothing
local integer US7=GetHandleId(GetTriggeringTrigger())
local unit p5=IN4
local unit m5=IP4
local real D_8=UD7(US7,"Damage")
set EZ7="ZSE"
call HY8(p5,m5,ZG4,D_8)
set p5=null
set m5=null
endfunction
function ZTE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local trigger t=E68(p5,m5,1747993168,"ZSE",700)
local integer PP7=GetHandleId(t)
local integer HW8=GetUnitAbilityLevel(p5,1093678145)
local real CV9
set EZ7="ZTE"
if HW8==1 then
set CV9=85
elseif HW8==2 then
set CV9=165
elseif HW8==3 then
set CV9=225
elseif HW8==4 then
set CV9=300
endif
call TG7(PP7,"Damage",CV9)
set p5=null
set m5=null
set t=null
endfunction
function ZUE takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local group g=LD7()
local integer HW8=GetUnitAbilityLevel(FJ8,1093678145)
set EZ7="ZUE"
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),500,Condition(function GQ8))
call ForGroup(g,function ZTE)
call L97(g)
call PlaySoundOnUnitBJ(OP,100,FJ8)
set FJ8=null
set g=null
endfunction
function ZVE takes nothing returns boolean
if GetSpellAbilityId()==1093678145 then
call ZUE()
endif
return false
endfunction
function UU8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UU8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZVE))
set t=null
endfunction
function ZWE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
set EZ7="ZWE"
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
call T97(US7)
call UQ7(t)
else
call T97(US7)
call UQ7(t)
call RG7(p5)
endif
set t=null
set p5=null
return false
endfunction
function ZXE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(p5,1093677136)
set EZ7="ZXE"
call TriggerRegisterTimerEvent(t,1+1.75+0.75*BY7,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function ZWE))
call TJ7(US7,"Source",p5)
set p5=null
set t=null
endfunction
function ZYE takes nothing returns boolean
if GetSpellAbilityId()==1093677136 then
call ZXE()
endif
return false
endfunction
function UV8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UV8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZYE))
set t=null
endfunction
function ZZE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)==4 or C37(PU7)then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call UnitRemoveAbility(PU7,XW4)
call UnitRemoveAbility(PU7,XX4)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
call HY8(FJ8,PU7,ZG4,20*HW8-10)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function ZAE takes unit FJ8,unit PU7,integer HW8 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="Dash_Add"
call L67(PU7,XW4)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerAddCondition(t,Condition(function ZZE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget(YI4,PU7,"chest")))
set t=null
endfunction
function ZBE takes nothing returns boolean
set EZ7="ZBE"
if IsUnitInGroup(GetEnumUnit(),XY4)==false and C37(GetEnumUnit())==false then
call GroupAddUnit(XY4,GetEnumUnit())
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FireBlast.mdx",GetEnumUnit(),"chest"))
call ZAE(XA4,GetEnumUnit(),XZ4)
endif
return false
endfunction
function ZCE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local integer L48=(LoadInteger(L7,(PP7),(34)))
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real GPD=(LoadReal(L7,(PP7),(189)))
local real GQD=(LoadReal(L7,(PP7),(190)))
local real EX8=(LoadReal(L7,(PP7),(47)))
local real EY8=(LoadReal(L7,(PP7),(48)))
local real a=(LoadReal(L7,(PP7),(13)))
local real Z3E=(1-I2R(L48)/50)*bj_PI
local real Z6E=XC4/2*Cos(Z3E)
local real ZLE=XB4/2*Sin(Z3E)
local real x=DT8(EX8+Z6E*Cos(a)-ZLE*Sin(a))
local real y=DU8(EY8+Z6E*Sin(a)+ZLE*Cos(a))
local group A09=(LoadGroupHandle(L7,(PP7),(133)))
local group g
local integer HW8=GetUnitAbilityLevel(FJ8,1093751370)
set EZ7="ZCE"
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and L48>0 and(GetSpellAbilityId()==1093808206 or GetSpellAbilityId()==1093751371))or L48>100 then
call ER8(x,y,300)
call SetUnitVertexColor(FJ8,255,255,255,255)
if(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==1093751370 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093751370,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808206,false)
call SetUnitPathing(FJ8,true)
call L97(A09)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
if ModuloInteger(L48,10)==0 then
call ER8(x,y,200)
endif
call SaveInteger(L7,(PP7),(34),(L48+1))
call SetUnitX(FJ8,x)
call SetUnitY(FJ8,y)
call SetUnitFacing(FJ8,(a+Z3E-bj_PI/2)*bj_RADTODEG)
set g=LD7()
set XY4=A09
set IN4=FJ8
set XA4=FJ8
set XZ4=GetUnitAbilityLevel(FJ8,1093751370)
call GroupEnumUnitsInRange(g,x,y,200+25,Condition(function GK8))
call ForGroup(g,function ZBE)
call L97(g)
endif
set t=null
set FJ8=null
set g=null
set A09=null
return false
endfunction
function Z1E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local real GPD=GetUnitX(FJ8)
local real GQD=GetUnitY(FJ8)
local real a=Q87(GPD,GQD,GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORAD
local real EX8=GPD+1400/2*Cos(a)
local real EY8=GQD+1400/2*Sin(a)
set EZ7="Z1E"
call SetUnitState(FJ8,UNIT_STATE_LIFE,GetUnitState(FJ8,UNIT_STATE_LIFE)-GetUnitState(FJ8,UNIT_STATE_LIFE)*0.15)
call UU7(FJ8,"DashState1",2)
call UU7(FJ8,"DashState2",2)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZCE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(189),((GPD)*1.0))
call SaveReal(L7,(PP7),(190),((GQD)*1.0))
call SaveReal(L7,(PP7),(47),((EX8)*1.0))
call SaveReal(L7,(PP7),(48),((EY8)*1.0))
call SaveReal(L7,(PP7),(13),((a)*1.0))
call SaveGroupHandle(L7,(PP7),(133),(LD7()))
call SetUnitPathing(FJ8,false)
call SetUnitVertexColor(FJ8,255,255,255,50)
call L67(FJ8,1093808206)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093751370,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808206,true)
set t=null
set FJ8=null
endfunction
function Z0E takes nothing returns boolean
if GetSpellAbilityId()==1093751370 then
call Z1E()
endif
return false
endfunction
function UW8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UW8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z0E))
set t=null
endfunction
function Z5E takes nothing returns nothing
local unit FJ8=Y94
local unit PU7=GetEnumUnit()
set EZ7="Z5E"
call HY8(FJ8,PU7,ZG4,40+20*YD4)
call EE8("Doodads\\Cinematic\\FireTrapUp\\FireTrapUp.mdl",PU7,"origin",1)
set FJ8=null
set PU7=null
endfunction
function Z2E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093751371)
local group g
set EZ7="Z2E"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set IN4=FJ8
set Y94=FJ8
set YD4=HW8
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),1000+25,Condition(function G78))
call ForGroup(g,function Z5E)
call L97(g)
set g=null
endif
set t=null
set FJ8=null
return false
endfunction
function Z_E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit A4E=(LoadUnitHandle(L7,(PP7),(589)))
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
set EZ7="Z_E"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if IsUnitIllusion(GetEventDamageSource())==true then
call E48(A4E,GetEventDamage())
endif
else
if GetUnitX(A4E)!=x or GetUnitY(A4E)!=y then
call SetUnitPosition(A4E,x,y)
endif
if GetUnitY(FJ8)!=x or GetUnitY(FJ8)!=y then
call SetUnitPosition(FJ8,x,y)
endif
call SetUnitX(HV8,GetUnitX(FJ8))
call SetUnitY(HV8,GetUnitY(FJ8))
endif
if GetTriggerEvalCount(t)==1 then
call PauseUnit(FJ8,true)
endif
set t=null
set A4E=null
set FJ8=null
set HV8=null
return false
endfunction
function A7E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit A8E=(LoadUnitHandle(L7,(PP7),(588)))
local unit A4E=(LoadUnitHandle(L7,(PP7),(589)))
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
local unit HND=(LoadUnitHandle(L7,(PP7),(239)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093751371)
local group g
local unit HV8
local integer A9E
set EZ7="A7E"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call StopSound(V74,false,false)
call ShowUnit(A8E,false)
call ShowUnit(HND,false)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call ShowUnit(FJ8,true)
call UO7(FJ8,"4326")
call UnitRemoveAbility(FJ8,1093678162)
call SetUnitInvulnerable(FJ8,false)
call PauseUnit(FJ8,false)
if GetLocalPlayer()==GetOwningPlayer(FJ8)then
call ClearSelection()
call SelectUnit(FJ8,true)
endif
call SetUnitState(FJ8,UNIT_STATE_LIFE,1)
set HV8=CreateUnit(GetOwningPlayer(GetKillingUnit()),1697656901,0,0,0)
call UnitRemoveBuffs(FJ8,true,true)
call UnitRemoveAbility(FJ8,1097167980)
call UnitDamageTarget(HV8,FJ8,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
set HV8=null
else
if GetTriggerEvalCount(t)==1 then
call SetUnitFlyHeight(A4E,0,200)
elseif GetTriggerEvalCount(t)==2 then
call PauseUnit(A4E,false)
call UnitApplyTimedLife(A4E,1112820806,0.1)
call StopSound(V74,false,false)
call StartSound(V84)
call DestroyEffect(AddSpecialEffect("war3mapImported\\FireNova2.mdx",GetUnitX(A8E),GetUnitY(A8E)))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call ShowUnit(FJ8,true)
call UO7(FJ8,"4326")
call UnitRemoveAbility(FJ8,1093678162)
call SetUnitInvulnerable(FJ8,false)
call SetUnitAnimationByIndex(FJ8,8)
call QueueUnitAnimation(FJ8,"idle")
call PauseUnit(FJ8,false)
if GetLocalPlayer()==GetOwningPlayer(FJ8)then
call ClearSelection()
call SelectUnit(FJ8,true)
endif
call ShowUnit(A8E,false)
call ShowUnit(HND,false)
call SetUnitState(FJ8,UNIT_STATE_LIFE,GetUnitState(FJ8,UNIT_STATE_MAX_LIFE))
call SetUnitState(FJ8,UNIT_STATE_MANA,GetUnitState(FJ8,UNIT_STATE_MAX_MANA))
set A9E=GetUnitAbilityLevel(FJ8,1093751370)
if A9E>0 then
call UnitRemoveAbility(FJ8,1093751370)
call UnitAddAbility(FJ8,1093751370)
call SetUnitAbilityLevel(FJ8,1093751370,A9E)
endif
set A9E=GetUnitAbilityLevel(FJ8,1093753176)
if A9E>0 then
call UnitRemoveAbility(FJ8,1093753176)
call UnitAddAbility(FJ8,1093753176)
call SetUnitAbilityLevel(FJ8,1093753176,A9E)
endif
set A9E=GetUnitAbilityLevel(FJ8,1093753177)
if A9E>0 then
call UnitRemoveAbility(FJ8,1093753177)
call UnitAddAbility(FJ8,1093753177)
call SetUnitAbilityLevel(FJ8,1093753177,A9E)
endif
set HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(FJ8),GetUnitY(FJ8),0)
call L67(HV8,1093753428)
call SetUnitAbilityLevel(HV8,1093753428,HW8)
call IssueImmediateOrder(HV8,"stomp")
set HV8=null
endif
endif
set t=null
set FJ8=null
set A8E=null
set HND=null
set A4E=null
return false
endfunction
function ADE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local unit A8E
local unit A4E
local unit HND=CreateUnit(GetOwningPlayer(FJ8),1747993420,GetUnitX(FJ8),GetUnitY(FJ8),0)
local integer HW8=GetUnitAbilityLevel(FJ8,1093751371)
local unit HV8
local unit AEE=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(FJ8),GetUnitY(FJ8),0)
set EZ7="ADE"
set A8E=CreateUnit(GetOwningPlayer(FJ8),1747993176,x,y,0)
if HW8==1 then
set A4E=CreateUnit(GetOwningPlayer(FJ8),1747993430,x,y,0)
elseif HW8==2 then
set A4E=CreateUnit(GetOwningPlayer(FJ8),1747993432,x,y,0)
elseif HW8==3 then
set A4E=CreateUnit(GetOwningPlayer(FJ8),1747993431,x,y,0)
endif
call AddSpecialEffectTarget("war3mapImported\\PhoenixDown_2.mdl",A8E,"origin")
if GetLocalPlayer()==GetOwningPlayer(FJ8)then
call ClearSelection()
call SelectUnit(A4E,true)
endif
call ER8(x,y,400)
call ShowUnit(FJ8,false)
call UM7(FJ8,"4326")
call L67(FJ8,1093678162)
call EQ9(FJ8,0,0)
call SetUnitInvulnerable(FJ8,true)
call UnitRemoveBuffs(FJ8,true,true)
call StartSound(V74)
call UnitRemoveAbility(A4E,1098015094)
call UnitApplyTimedLife(A8E,1112820806,6.1)
call UnitApplyTimedLife(HND,1112820806,6.1)
call UnitApplyTimedLife(A4E,1112820806,6.1)
call TriggerRegisterTimerEvent(t,5.2,false)
call TriggerRegisterTimerEvent(t,6,false)
call TriggerAddCondition(t,Condition(function A7E))
call TriggerRegisterUnitEvent(t,A4E,EVENT_UNIT_DEATH)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(588),(A8E))
call SaveUnitHandle(L7,(PP7),(589),(A4E))
call SaveUnitHandle(L7,(PP7),(239),(HND))
call SaveReal(L7,(PP7),(6),((GetUnitX(FJ8))*1.0))
call SaveReal(L7,(PP7),(7),((GetUnitY(FJ8))*1.0))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,A4E,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Z2E))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,.02,true)
call TriggerRegisterUnitEvent(t,A4E,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,A4E,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function Z_E))
call SaveUnitHandle(L7,(PP7),(589),(A4E))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(6),((GetUnitX(FJ8))*1.0))
call SaveReal(L7,(PP7),(7),((GetUnitY(FJ8))*1.0))
call SaveUnitHandle(L7,(PP7),(19),(AEE))
if SG7(FJ8,1227899192)then
call UnitAddAbility(AEE,1093678153)
endif
set t=null
set FJ8=null
set A8E=null
set A4E=null
endfunction
function AFE takes nothing returns boolean
if GetSpellAbilityId()==1093751371 then
call ADE()
endif
return false
endfunction
function UC8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UC8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AFE))
call DX8(1093687350)
call DX8(1093753428)
set t=null
endfunction
function AGE takes nothing returns nothing
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+BD4)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BirdShitTarget_1.mdx",GetEnumUnit(),"origin"))
endfunction
function AHE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
local group g
local integer HW8=GetUnitAbilityLevel(FJ8,1093809986)
set EZ7="AHE"
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga_2.mdx",x,y))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set g=LD7()
set BD4=50+75*HW8
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,425,Condition(function GV8))
call ForGroup(g,function AGE)
call L97(g)
set t=null
set FJ8=null
set g=null
return false
endfunction
function AIE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
set EZ7="AIE"
call TriggerRegisterTimerEvent(t,3,false)
call TriggerAddCondition(t,Condition(function AHE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
if IsPlayerAlly(GetOwningPlayer(FJ8),GetLocalPlayer())or C67(GetLocalPlayer())then
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffect("war3mapImported\\BirdShit_1.mdx",x,y)))
else
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffect("",x,y)))
endif
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(FJ8))or C67(GetLocalPlayer())then
call PingMinimapEx(x,y,3,255,0,0,false)
call ET8(XS4,x,y)
endif
call EV8(GetOwningPlayer(FJ8),4,x,y,500)
call SetUnitState(FJ8,UNIT_STATE_LIFE,GetUnitState(FJ8,UNIT_STATE_LIFE)*0.9)
set t=null
set FJ8=null
endfunction
function AJE takes nothing returns boolean
if GetSpellAbilityId()==1093809986 then
call AIE()
endif
return false
endfunction
function UY8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UY8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AJE))
set t=null
endfunction
function AKE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
set EZ7="AKE"
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call UnitRemoveAbility(PU7,1093809968)
call UnitRemoveAbility(PU7,1110459723)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetTriggerEvalCount(t)>4 then
call UnitRemoveAbility(PU7,1093809968)
call UnitRemoveAbility(PU7,1110459723)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call HY8(FJ8,PU7,ZG4,16+12*HW8)
else
call HY8(FJ8,PU7,ZG4,16+12*HW8)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function AME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local real AO9=(LoadReal(L7,(PP7),(23)))
local real AP9=(LoadReal(L7,(PP7),(24)))
local real a=(LoadReal(L7,(PP7),(137)))
local real x=AO9+12*Cos(a)
local real y=AP9+12*Sin(a)
set EZ7="AME"
call SetUnitX(PU7,x)
call SetUnitY(PU7,y)
call SaveReal(L7,(PP7),(23),((x)*1.0))
call SaveReal(L7,(PP7),(24),((y)*1.0))
if GetTriggerEvalCount(t)>25 then
call ER8(x,y,100)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function ANE takes unit FJ8,unit PU7,real x,real y,real a returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local integer HW8=GetUnitAbilityLevel(FJ8,1093809969)
set EZ7="SweepingFlame_Hit"
call SetUnitPosition(PU7,GetUnitX(PU7),GetUnitY(PU7))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveReal(L7,(PP7),(137),((a*bj_DEGTORAD)*1.0))
call SaveReal(L7,(PP7),(23),((GetUnitX(PU7))*1.0))
call SaveReal(L7,(PP7),(24),((GetUnitY(PU7))*1.0))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerAddCondition(t,Condition(function AME))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",PU7,"chest")))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerAddCondition(t,Condition(function AKE))
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093809968,false)
call L67(PU7,1093809968)
set t=null
endfunction
function APE takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),BE4)==false then
if Q17(BG4,GetEnumUnit())<24 or RAbsBJ(Cos(Q77(BG4,GetEnumUnit())-BJ4))<0.26 then
call GroupAddUnit(BE4,GetEnumUnit())
if Sin((Q77(BG4,GetEnumUnit())-BJ4)*bj_DEGTORAD)<0 then
call ANE(BF4,GetEnumUnit(),BH4,BI4,BJ4-90)
else
call ANE(BF4,GetEnumUnit(),BH4,BI4,BJ4+90)
endif
endif
endif
endfunction
function AQE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit EW8=(LoadUnitHandle(L7,(PP7),(45)))
local real a=(LoadReal(L7,(PP7),(137)))
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
local group HPD=(LoadGroupHandle(L7,(PP7),(187)))
local group g
set EZ7="AQE"
if GetTriggerEvalCount(t)>125 then
call KillUnit(EW8)
call L97(HPD)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set x=x+8*Cos(a)
set y=y+8*Sin(a)
call SetUnitX(EW8,x)
call SetUnitY(EW8,y)
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
set IN4=FJ8
set BH4=x
set BI4=y
set BJ4=a*bj_RADTODEG
set BE4=HPD
set BF4=FJ8
set BG4=EW8
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,225,Condition(function G78))
call ForGroup(g,function APE)
call L97(g)
endif
set t=null
set FJ8=null
return false
endfunction
function ARE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local real EX8=GetSpellTargetX()
local real EY8=GetSpellTargetY()
local real AZ9=Atan2(EY8-GetUnitY(FJ8),EX8-GetUnitX(FJ8))
local integer HW8=GetUnitAbilityLevel(FJ8,1093809969)
local unit EW8=CreateUnit(GetOwningPlayer(FJ8),1747993665,GetUnitX(FJ8),GetUnitY(FJ8),AZ9*bj_RADTODEG)
set EZ7="ARE"
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function AQE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(45),(EW8))
call SaveReal(L7,(PP7),(137),((AZ9)*1.0))
call SaveReal(L7,(PP7),(6),((GetUnitX(FJ8))*1.0))
call SaveReal(L7,(PP7),(7),((GetUnitY(FJ8))*1.0))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveGroupHandle(L7,(PP7),(187),(LD7()))
set t=null
set FJ8=null
endfunction
function ASE takes nothing returns boolean
if GetSpellAbilityId()==1093809969 then
call ARE()
endif
return false
endfunction
function UB8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UB8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ASE))
set t=null
endfunction
function ATE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer E28=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(E28),(2)))
local real AUE=(LoadReal(L7,(GetHandleId(FJ8)),(681)))
set EZ7="ATE"
call FlushChildHashtable(L7,(E28))
call UQ7(t)
if((TimerGetElapsed(W))-AUE<0.49)==false or GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(FJ8,1093753396)
call UnitRemoveAbility(FJ8,1093753409)
call UnitRemoveAbility(FJ8,1093753410)
call UnitRemoveAbility(FJ8,1093753401)
call UnitRemoveAbility(FJ8,1110459478)
endif
set t=null
set FJ8=null
return false
endfunction
function AVE takes unit FJ8 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local integer AWE
set EZ7="Sunray_Slow"
call TriggerRegisterTimerEvent(t,0.5,false)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ATE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(GetHandleId(FJ8)),(681),(((TimerGetElapsed(W)))*1.0))
if X54==1 then
set AWE=1093753396
call UnitRemoveAbility(FJ8,1093753409)
call UnitRemoveAbility(FJ8,1093753410)
call UnitRemoveAbility(FJ8,1093753401)
elseif X54==2 then
set AWE=1093753409
call UnitRemoveAbility(FJ8,1093753396)
call UnitRemoveAbility(FJ8,1093753410)
call UnitRemoveAbility(FJ8,1093753401)
elseif X54==3 then
set AWE=1093753410
call UnitRemoveAbility(FJ8,1093753396)
call UnitRemoveAbility(FJ8,1093753409)
call UnitRemoveAbility(FJ8,1093753401)
elseif X54==4 then
set AWE=1093753401
call UnitRemoveAbility(FJ8,1093753396)
call UnitRemoveAbility(FJ8,1093753409)
call UnitRemoveAbility(FJ8,1093753410)
endif
call L67(FJ8,AWE)
call UnitMakeAbilityPermanent(FJ8,true,AWE)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),AWE,false)
set t=null
endfunction
function AXE takes nothing returns nothing
local unit PU7=GetEnumUnit()
local real AYE=Y44
local real AZE=Y74
local real CV9=AYE+AZE*GetUnitState(PU7,UNIT_STATE_MAX_LIFE)
set EZ7="AXE"
set CV9=CV9/5
if IsUnitEnemy(PU7,GetOwningPlayer(X24))==true then
call HY8(X24,PU7,ZI4,CV9)
if C37(PU7)==false then
call AVE(PU7)
endif
else
call SetUnitState(PU7,UNIT_STATE_LIFE,GetUnitState(PU7,UNIT_STATE_LIFE)+CV9*0.5)
endif
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FireRayTarget.mdx",PU7,"origin"))
call EV8(GetOwningPlayer(PU7),2,GetUnitX(X24),GetUnitY(X24),500)
set PU7=null
endfunction
function AAE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local integer L48=(LoadInteger(L7,(PP7),(34)))
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real ABE=GetUnitFacing(FJ8)
local real a=ABE*bj_DEGTORAD
local location l1=GetUnitLoc(FJ8)
local real ACE=GetLocationZ(l1)
local location l2=Location(GetUnitX(FJ8)+X34*Cos(a),GetUnitY(FJ8)+X34*Sin(a))
local real A3E=GetLocationZ(l2)
local lightning A6E=(LoadLightningHandle(L7,(PP7),(676)))
local lightning ALE=(LoadLightningHandle(L7,(PP7),(677)))
local lightning A1E=(LoadLightningHandle(L7,(PP7),(678)))
local lightning A0E=(LoadLightningHandle(L7,(PP7),(679)))
local lightning A5E=(LoadLightningHandle(L7,(PP7),(680)))
local real A2E=1
local real GPD
local real GQD
local real A_E
local real B4E
local real B7E
local real B8E
local real B9E
local real BDE
local real BEE
local real BFE
local real BGE
local real BHE
local real BIE
local real BJE
local real BKE
local real BME
local real BNE
local real BOE
local real BPE
local real BQE
local real BRE
local real BSE
local real BTE
local real BUE
local real BVE
local real BWE
local real BXE
local real BYE
local real BZE
local real BAE
local real BBE
local real BCE
local real B3E
local group g
local real x
local real y
local integer i
local real B6E
local real BLE
local real B1E
local boolean B0E=FALSE
local boolean B5E=false
local unit B2E=(LoadUnitHandle(L7,(PP7),(17)))
local unit CT4=null
local unit DriftTarget=null
local real B_E
local real C4E
local real C7E
local real C8E=(LoadReal(L7,(PP7),(688)))
local boolean C9E=(LoadBoolean(L7,(PP7),(689)))
local boolean CDE=(LoadBoolean(L7,(PP7),(672)))
local real CEE
local ubersplat CFE
local real O32=(LoadReal(L7,(PP7),(23)))
local real O42=(LoadReal(L7,(PP7),(24)))
local real AYE
local real AZE
local real CGE
local real CHE=5
set EZ7="AAE"
if GetUnitCurrentOrder(FJ8)==852001 then
call DisableTrigger(t)
call RG7(FJ8)
call EnableTrigger(t)
endif
call RemoveLocation(l1)
call RemoveLocation(l2)
if IsUnitPaused(FJ8)==false and(GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER)then
set GPD=GetUnitX(FJ8)
set GQD=GetUnitY(FJ8)
if GetIssuedOrderId()!=852490 and GetIssuedOrderId()!=852185 and GetIssuedOrderId()!=852600 then
call DisableTrigger(t)
call RG7(FJ8)
call EnableTrigger(t)
endif
if GetIssuedOrderId()==851971 then
if GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER then
set x=GetUnitX(GetOrderTargetUnit())
set y=GetUnitY(GetOrderTargetUnit())
else
set x=GetOrderPointX()
set y=GetOrderPointY()
endif
set B6E=Q87(x,y,GPD,GQD)
if B6E<0 then
set B6E=B6E+360
endif
set B1E=ABE-B6E
if B1E<0 then
set B1E=B1E+360
endif
if B1E<180 then
set B0E=true
set BLE=ABE+6
else
set B5E=true
set BLE=ABE-6
endif
set C8E=Q87(x,y,GPD,GQD)+180
call SaveReal(L7,(PP7),(688),((C8E)*1.0))
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT or GetTriggerEventId()==EVENT_WIDGET_DEATH or(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==-1 or L48>=X04/.02 or EF9(FJ8)or BO7(FJ8)then
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()==1093753395 or GetSpellAbilityId()==1093751371 or GetSpellAbilityId()==1093809992))then
call UO7(FJ8,"SunRay|Disarmed")
call F28(FJ8)
call SetUnitPathing(FJ8,true)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveAbility(FJ8,1093808181)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093753395,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808181,false)
if(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==1093753177 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093753177,true)
endif
call DestroyLightning(A6E)
call DestroyLightning(ALE)
call DestroyLightning(A1E)
call DestroyLightning(A0E)
call DestroyLightning(A5E)
call StopSound(XR4,false,true)
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if GetIssuedOrderId()==String2OrderIdBJ("immolation")then
set C9E=true
endif
if GetIssuedOrderId()==String2OrderIdBJ("unimmolation")then
set C9E=false
endif
call SaveBoolean(L7,(PP7),(689),(C9E))
else
set B6E=ABE-C8E
if B6E<-180 then
set B6E=B6E+360
elseif B6E>180 then
set B6E=B6E-360
endif
set CEE=1
if L48<35 and CDE==true then
set CEE=7
endif
if B6E<(-1*CEE)then
set ABE=ABE+CEE
elseif B6E>CEE then
set ABE=ABE-CEE
else
set CDE=false
call SaveBoolean(L7,(PP7),(672),(CDE))
set ABE=C8E
endif
if UJ7(FJ8,"DashState1")==false then
call SetUnitFacing(FJ8,ABE)
endif
set a=ABE*bj_DEGTORAD
set L48=L48+1
call SaveInteger(L7,(PP7),(34),(L48))
set A_E=X34
set GPD=GetUnitX(FJ8)+50*Cos(a)
set GQD=GetUnitY(FJ8)+50*Sin(a)
if C9E and F68(FJ8)==false and EF9(FJ8)==false then
if((LoadInteger(L7,(GetHandleId((FJ8))),((4331))))==D)==true then
set CHE=CHE*2
endif
set C7E=a
set B_E=DT8(GetUnitX(FJ8)+CHE*Cos(C7E))
set C4E=DU8(GetUnitY(FJ8)+CHE*Sin(C7E))
call ER8(B_E,C4E,200)
call SetUnitX(FJ8,B_E)
call SetUnitY(FJ8,C4E)
endif
call SetUnitState(FJ8,UNIT_STATE_LIFE,GetUnitState(FJ8,UNIT_STATE_LIFE)-GetUnitState(FJ8,UNIT_STATE_LIFE)*0.03*0.02)
call ER8(GPD,GQD,200)
if ModuloInteger(L48,10)==0 then
set X_4=LD7()
set IN4=FJ8
set i=0
loop
exitwhen i*50>X34
set x=GPD+i*50*Cos(a)
set y=GQD+i*50*Sin(a)
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,130+25,Condition(function G78))
call GroupAddGroup(g,X_4)
call GroupEnumUnitsInRange(g,x,y,100,Condition(function GV8))
call GroupAddGroup(g,X_4)
call L97(g)
if ModuloInteger(i,3)==0 then
call EV8(GetOwningPlayer(FJ8),2,x,y,225)
endif
set i=i+1
endloop
set X24=FJ8
set X54=GetUnitAbilityLevel(FJ8,1093753177)
set CGE=(I2R(L48)/50.0)/6
set Y44=(5*X54+10)+(5*X54+10)*CGE
set Y74=(X54+CGE*(X54))/100
call GroupRemoveUnit(X_4,FJ8)
call ForGroup(X_4,function AXE)
call L97(X_4)
set g=null
set X_4=null
endif
if L17(FJ8)==false then
if B2E!=null then
set A_E=Q17(FJ8,B2E)
endif
set B4E=GPD
set B7E=GQD
set B8E=ACE+200
set B9E=B4E+A_E*Cos(a)
set BDE=B7E+A_E*Sin(a)
set BEE=A3E
set BFE=GPD+X64*Cos((ABE-90)*bj_DEGTORAD)
set BGE=GQD+XL4*Cos((ABE-90)*bj_DEGTORAD)
set BHE=ACE+200
set BIE=BFE+A_E*Cos(a)
set BJE=BGE+A_E*Sin(a)
set BKE=A3E
set BME=GPD+X64*Cos((ABE+90)*bj_DEGTORAD)
set BNE=GQD+XL4*Cos((ABE+90)*bj_DEGTORAD)
set BOE=ACE+200
set BPE=BME+A_E*Cos(a)
set BQE=BNE+A_E*Sin(a)
set BRE=A3E
set BSE=GPD
set BTE=GQD
set BUE=ACE+200+X14
set BVE=BSE+A_E*Cos(a)
set BWE=BTE+A_E*Sin(a)
set BXE=A3E
set BYE=GPD
set BZE=GQD
set BAE=ACE+200-X14
set BBE=BYE+A_E*Cos(a)
set BCE=BZE+A_E*Sin(a)
set B3E=A3E
if ModuloInteger(L48,10)==0 and A_E==X34 then
set x=GetUnitX(FJ8)+(X34)*Cos(a)
set y=GetUnitY(FJ8)+(X34)*Sin(a)
call DestroyEffect(AddSpecialEffect("war3mapImported\\FireRayTarget.mdx",x,y))
endif
if ModuloInteger(L48,10)==0 then
call SetSoundPosition(XR4,GetUnitX(FJ8),GetUnitY(FJ8),100)
set x=GetUnitX(FJ8)+(A_E)*Cos(a)
set y=GetUnitY(FJ8)+(A_E)*Sin(a)
set CFE=CreateUbersplat(x,y,"SRAY",255,255,255,255,false,false)
call SetUbersplatRenderAlways(CFE,true)
call T69(CFE,10)
set CFE=null
endif
call MoveLightningEx(A6E,false,B4E,B7E,B8E,B9E,BDE,BEE)
call MoveLightningEx(ALE,false,BFE,BGE,BHE,BIE,BJE,BKE)
call MoveLightningEx(A1E,false,BME,BNE,BOE,BPE,BQE,BRE)
call MoveLightningEx(A0E,false,BSE,BTE,BUE,BVE,BWE,BXE)
call MoveLightningEx(A5E,false,BYE,BZE,BAE,BBE,BCE,B3E)
if C67(GetLocalPlayer())then
set A2E=1
endif
call SetLightningColor(A6E,1.00,1.00,1.00,A2E)
call SetLightningColor(ALE,1.00,1.00,1.00,A2E)
call SetLightningColor(A1E,1.00,1.00,1.00,A2E)
call SetLightningColor(A0E,1.00,1.00,1.00,A2E)
call SetLightningColor(A5E,1.00,1.00,1.00,A2E)
endif
endif
set t=null
set FJ8=null
set A6E=null
set ALE=null
set A1E=null
set A0E=null
set A5E=null
set l1=null
set l2=null
return false
endfunction
function CIE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local real a=Q87(GetUnitX(FJ8),GetUnitY(FJ8),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORAD
local real EX8=DT8(GetUnitX(FJ8)+X34*Cos(a))
local real EY8=DU8(GetUnitY(FJ8)+X34*Sin(a))
local lightning A6E=AddLightning("SRAY",false,GetUnitX(FJ8),GetUnitY(FJ8),EX8,EY8)
local lightning ALE=AddLightning("SRAY",false,GetUnitX(FJ8),GetUnitY(FJ8),EX8,EY8)
local lightning A1E=AddLightning("SRAY",false,GetUnitX(FJ8),GetUnitY(FJ8),EX8,EY8)
local lightning A0E=AddLightning("SRAY",false,GetUnitX(FJ8),GetUnitY(FJ8),EX8,EY8)
local lightning A5E=AddLightning("SRAY",false,GetUnitX(FJ8),GetUnitY(FJ8),EX8,EY8)
set EZ7="CIE"
call SetUnitFacing(FJ8,a*bj_RADTODEG)
call StartSound(XR4)
call SetSoundPosition(XR4,GetUnitX(FJ8),GetUnitY(FJ8),100)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AAE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(13),((a)*1.0))
call SaveReal(L7,(PP7),(688),((a*bj_RADTODEG)*1.0))
call SaveLightningHandle(L7,(PP7),(676),(A6E))
call SaveLightningHandle(L7,(PP7),(677),(ALE))
call SaveLightningHandle(L7,(PP7),(678),(A1E))
call SaveLightningHandle(L7,(PP7),(679),(A0E))
call SaveLightningHandle(L7,(PP7),(680),(A5E))
call SaveBoolean(L7,(PP7),(689),(false))
call SaveBoolean(L7,(PP7),(672),(true))
call SaveReal(L7,(PP7),(688),((a*bj_RADTODEG)*1.0))
call SaveReal(L7,(PP7),(23),((GetUnitX(FJ8))*1.0))
call SaveReal(L7,(PP7),(24),((GetUnitY(FJ8))*1.0))
call F08(FJ8)
call UM7(FJ8,"SunRay|Disarmed")
call SetUnitPathing(FJ8,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093753395,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808181,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093753177,false)
call L67(FJ8,1093753395)
call UnitMakeAbilityPermanent(FJ8,true,1093753395)
call L67(FJ8,1093808181)
call UnitMakeAbilityPermanent(FJ8,true,1093808181)
call TriggerEvaluate(t)
set t=null
set FJ8=null
set FJ8=null
set A6E=null
set ALE=null
set A1E=null
set A0E=null
set A5E=null
endfunction
function CJE takes nothing returns boolean
if GetSpellAbilityId()==1093753177 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
else
call CIE()
endif
endif
return false
endfunction
function UA8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UA8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function CJE))
call T09(1093753396)
call T09(1093753409)
call T09(1093753410)
call T09(1093753401)
set t=null
endfunction
function CKE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=GetUnitAbilityLevel(FJ8,Y84)
set EZ7="CKE"
if GetTriggerEventId()==EVENT_UNIT_DEATH or(TimerGetElapsed(W))>=(LoadReal(L7,(GetHandleId(PU7)),(757)))or C37(PU7)==true then
call UnitRemoveAbility(PU7,YF4)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
if ModuloInteger(GetTriggerEvalCount(t),4)==0 then
call HY8(FJ8,PU7,ZG4,20*HW8)
endif
set t=null
set FJ8=null
return false
endfunction
function CME takes nothing returns nothing
local unit FJ8=YE4
local unit PU7=GetEnumUnit()
local trigger t
local integer PP7
set EZ7="CME"
call SaveReal(L7,(GetHandleId(PU7)),(757),(((TimerGetElapsed(W))+4)*1.0))
if GetUnitAbilityLevel(PU7,YF4)==0 then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function CKE))
call TriggerRegisterDeathEvent(t,PU7)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffectTarget(YI4,PU7,"chest")))
if EM9(PU7)==false then
call UnitAddAbility(PU7,YF4)
call UnitMakeAbilityPermanent(PU7,true,YF4)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),YJ4,false)
endif
set FJ8=null
set PU7=null
set t=null
endfunction
function CNE takes unit FJ8,unit EW8,real KCE,unit HV8,unit PU7 returns nothing
local real x=GetUnitX(EW8)
local real y=GetUnitY(EW8)
local group g=LD7()
set EZ7="Firespirits_Detonate"
set IN4=FJ8
set YE4=FJ8
call GroupEnumUnitsInRange(g,x,y,175+25,Condition(function GK8))
call ForGroup(g,function CME)
call L97(g)
call DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga_2.mdx",x,y))
call KillUnit(EW8)
call ShowUnit(EW8,false)
set g=null
endfunction
function COE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local integer L48=(LoadInteger(L7,(PP7),(34)))
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local unit CPE=(LoadUnitHandle(L7,(PP7),(393)))
local real KCE=(LoadReal(L7,(PP7),(685)))
local real EX8
local real EY8
local real x
local real y
local real a
local real r=18
local integer HW8=GetUnitAbilityLevel(FJ8,1093753176)
set EZ7="COE"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
set EX8=GetUnitX(PU7)
set EY8=GetUnitY(PU7)
call SaveReal(L7,(PP7),(47),((EX8)*1.0))
call SaveReal(L7,(PP7),(48),((EY8)*1.0))
call RemoveSavedHandle(L7,(PP7),(17))
call SaveUnitHandle(L7,(PP7),(17),(null))
elseif PU7==null then
set EX8=(LoadReal(L7,(PP7),(47)))
set EY8=(LoadReal(L7,(PP7),(48)))
else
set EX8=GetUnitX(PU7)
set EY8=GetUnitY(PU7)
endif
set a=Q87(GetUnitX(CPE),GetUnitY(CPE),EX8,EY8)
call SetUnitFacing(CPE,a)
set x=GetUnitX(CPE)+r*Cos(a*bj_DEGTORAD)
set y=GetUnitY(CPE)+r*Sin(a*bj_DEGTORAD)
call SetUnitX(CPE,x)
call SetUnitY(CPE,y)
if Q07(x,y,EX8,EY8)<r*2 then
call CNE(FJ8,CPE,KCE,HV8,PU7)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
set CPE=null
set HV8=null
return false
endfunction
function CQE takes unit FJ8,unit CPE,unit PU7,real KCE,unit HV8 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local group g
local unit NewTarget
set EZ7="Firespirits_Launch"
if FJ8==PU7 then
call KillUnit(CPE)
call ShowUnit(CPE,false)
else
call SetUnitVertexColor(CPE,255,255,255,255)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function COE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(393),(CPE))
call SaveReal(L7,(PP7),(47),((GetSpellTargetX())*1.0))
call SaveReal(L7,(PP7),(48),((GetSpellTargetY())*1.0))
call SaveReal(L7,(PP7),(685),((KCE)*1.0))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
endif
set t=null
endfunction
function CRE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local integer L48=(LoadInteger(L7,(PP7),(34)))
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real GPD=GetUnitX(FJ8)
local real GQD=GetUnitY(FJ8)
local unit CSE=(LoadUnitHandle(L7,(PP7),(393)))
local unit CTE=(LoadUnitHandle(L7,(PP7),(394)))
local unit CUE=(LoadUnitHandle(L7,(PP7),(395)))
local unit CVE=(LoadUnitHandle(L7,(PP7),(396)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093753176)
local real a=GetUnitFacing(FJ8)
local real x
local real y
local group g
local group g2
local real J_D=-1*360*0.02/4
local real a2
local real W09
local real KCE=(LoadReal(L7,(PP7),(685)))
local real CWE
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local integer CXE=GetHandleId(FJ8)
local player pl=GetOwningPlayer(FJ8)
local integer CYE=800
set EZ7="CRE"
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093753394 then
if L17(CSE)==false then
call CQE(FJ8,CSE,GetSpellTargetUnit(),KCE,HV8)
call RemoveSavedHandle(L7,(PP7),(393))
elseif L17(CTE)==false then
call CQE(FJ8,CTE,GetSpellTargetUnit(),KCE,HV8)
call RemoveSavedHandle(L7,(PP7),(394))
elseif L17(CUE)==false then
call CQE(FJ8,CUE,GetSpellTargetUnit(),KCE,HV8)
call RemoveSavedHandle(L7,(PP7),(395))
elseif L17(CVE)==false then
call CQE(FJ8,CVE,GetSpellTargetUnit(),KCE,HV8)
call RemoveSavedHandle(L7,(PP7),(396))
if(AK7(pl))then
call TD7(CXE,"Bird4")
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093753394,false)
if(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==1093753176 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093753176,true)
endif
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
elseif GetSpellAbilityId()==1093751371 then
if CSE!=null and L17(CSE)==false then
call CQE(FJ8,CSE,FJ8,KCE,HV8)
endif
if CTE!=null and L17(CTE)==false then
call CQE(FJ8,CTE,FJ8,KCE,HV8)
endif
if CUE!=null and L17(CUE)==false then
call CQE(FJ8,CUE,FJ8,KCE,HV8)
endif
if CVE!=null and L17(CVE)==false then
call CQE(FJ8,CVE,FJ8,KCE,HV8)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093753394,false)
if(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==1093753176 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093753176,true)
endif
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if(AK7(pl))then
call TD7(CXE,"Bird4")
call TF7(CXE,"BirdsCounter",0)
endif
endif
else
set L48=L48+1
call SaveInteger(L7,(PP7),(34),(L48))
if(AK7(pl))then
call TF7(CXE,"BirdsCounter",L48)
endif
if CSE!=null and L17(CSE)==false then
set W09=360*4/4.0
set a2=W09+J_D*L48
set x=DT8(GPD+200*Cos(a2*bj_DEGTORAD))
set y=DU8(GQD+200*Sin(a2*bj_DEGTORAD))
call SetUnitFacing(CSE,a2-90)
call SetUnitX(CSE,x)
call SetUnitY(CSE,y)
endif
if CTE!=null and L17(CTE)==false then
set W09=360*3/4.0
set a2=W09+J_D*L48
set x=DT8(GPD+200*Cos(a2*bj_DEGTORAD))
set y=DU8(GQD+200*Sin(a2*bj_DEGTORAD))
call SetUnitFacing(CTE,a2-90)
call SetUnitX(CTE,x)
call SetUnitY(CTE,y)
endif
if CUE!=null and L17(CUE)==false then
set W09=360*2/4.0
set a2=W09+J_D*L48
set x=DT8(GPD+200*Cos(a2*bj_DEGTORAD))
set y=DU8(GQD+200*Sin(a2*bj_DEGTORAD))
call SetUnitFacing(CUE,a2-90)
call SetUnitX(CUE,x)
call SetUnitY(CUE,y)
endif
if CVE!=null and L17(CVE)==false then
set W09=360*1/4.0
set a2=W09+J_D*L48
set x=DT8(GPD+200*Cos(a2*bj_DEGTORAD))
set y=DU8(GQD+200*Sin(a2*bj_DEGTORAD))
call SetUnitFacing(CVE,a2-90)
call SetUnitX(CVE,x)
call SetUnitY(CVE,y)
endif
if L48>CYE or GetTriggerEventId()==EVENT_UNIT_DEATH then
if CSE!=null and L17(CSE)==false then
call CQE(FJ8,CSE,FJ8,KCE,HV8)
endif
if CTE!=null and L17(CTE)==false then
call CQE(FJ8,CTE,FJ8,KCE,HV8)
endif
if CUE!=null and L17(CUE)==false then
call CQE(FJ8,CUE,FJ8,KCE,HV8)
endif
if CVE!=null and L17(CVE)==false then
call CQE(FJ8,CVE,FJ8,KCE,HV8)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093753394,false)
if(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==1093753176 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093753176,true)
endif
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if(AK7(pl))then
call TD7(CXE,"Bird4")
call TF7(CXE,"BirdsCounter",0)
endif
else
set KCE=RMinBJ(0.25+0.75*(I2R(L48)/500.0),1)
call SaveReal(L7,(PP7),(685),((KCE)*1.0))
set CWE=0.25+(1-0.2)*2.5
call SetUnitScale(CSE,CWE,CWE,CWE)
call SetUnitScale(CTE,CWE,CWE,CWE)
call SetUnitScale(CUE,CWE,CWE,CWE)
call SetUnitScale(CVE,CWE,CWE,CWE)
if L48==(CYE-175)then
call FF8(XS4,GetOwningPlayer(FJ8))
endif
if L48>(CYE-200)then
if ModuloInteger(L48,10)==0 or ModuloInteger(L48,10)==1 or ModuloInteger(L48,10)==2 or ModuloInteger(L48,10)==3 or ModuloInteger(L48,10)==4 then
call SetUnitVertexColor(CSE,255,0,0,255)
call SetUnitVertexColor(CTE,255,0,0,255)
call SetUnitVertexColor(CUE,255,0,0,255)
call SetUnitVertexColor(CVE,255,0,0,255)
else
call SetUnitVertexColor(CSE,255,255,255,255)
call SetUnitVertexColor(CTE,255,255,255,255)
call SetUnitVertexColor(CUE,255,255,255,255)
call SetUnitVertexColor(CVE,255,255,255,255)
endif
endif
endif
endif
set t=null
set FJ8=null
set CSE=null
set CTE=null
set CUE=null
set CVE=null
set HV8=null
return false
endfunction
function CZE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local real GPD=GetUnitX(FJ8)
local real GQD=GetUnitY(FJ8)
local real x
local real y
local unit CSE
local unit CTE
local unit CUE
local unit CVE
local real a=GetUnitFacing(FJ8)
local unit HV8=null
local integer CXE=GetHandleId(FJ8)
local player pl=GetOwningPlayer(FJ8)
set EZ7="CZE"
call S17(HV8)
call UnitAddAbility(HV8,YG4)
call SetUnitState(FJ8,UNIT_STATE_LIFE,GetUnitState(FJ8,UNIT_STATE_LIFE)-GetUnitState(FJ8,UNIT_STATE_LIFE)*0.15)
call L67(FJ8,1093753394)
call UnitMakeAbilityPermanent(FJ8,true,1093753394)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093753394,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093753176,false)
set x=GetUnitX(FJ8)+200*Cos(bj_DEGTORAD*360*4/4.0*-1.0)
set y=GetUnitY(FJ8)+200*Sin(bj_DEGTORAD*360*4/4.0*-1.0)
set CSE=CreateUnit(GetOwningPlayer(FJ8),1747993429,x,y,360*4/4.0*-1.0)
set x=GetUnitX(FJ8)+200*Cos(bj_DEGTORAD*360*3/4.0*-1.0)
set y=GetUnitY(FJ8)+200*Sin(bj_DEGTORAD*360*3/4.0*-1.0)
set CTE=CreateUnit(GetOwningPlayer(FJ8),1747993429,x,y,360*3/4.0*-1.0)
set x=GetUnitX(FJ8)+200*Cos(bj_DEGTORAD*360*2/4.0*-1.0)
set y=GetUnitY(FJ8)+200*Sin(bj_DEGTORAD*360*2/4.0*-1.0)
set CUE=CreateUnit(GetOwningPlayer(FJ8),1747993429,x,y,360*2/4.0*-1.0)
set x=GetUnitX(FJ8)+200*Cos(bj_DEGTORAD*360*1/4.0*-1.0)
set y=GetUnitY(FJ8)+200*Sin(bj_DEGTORAD*360*1/4.0*-1.0)
set CVE=CreateUnit(GetOwningPlayer(FJ8),1747993429,x,y,360*1/4.0*-1.0)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function CRE))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(393),(CSE))
call SaveUnitHandle(L7,(PP7),(394),(CTE))
call SaveUnitHandle(L7,(PP7),(395),(CUE))
call SaveUnitHandle(L7,(PP7),(396),(CVE))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
if(AK7(pl))then
call TJ7(CXE,"Bird4",CVE)
endif
set FJ8=null
set CSE=null
set CTE=null
set CUE=null
set CVE=null
set HV8=null
endfunction
function CAE takes nothing returns boolean
if GetSpellAbilityId()==1093753176 then
call CZE()
endif
return false
endfunction
function UZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UZ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CAE))
set t=null
endfunction
function CBE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=GetUnitAbilityLevel(FJ8,YH4)
set EZ7="CBE"
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>4 then
call UnitRemoveAbility(PU7,YJ4)
call UO7(PU7,"IcarusDive|Disarmed")
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
call HY8(FJ8,PU7,ZG4,20*HW8)
set t=null
set FJ8=null
return false
endfunction
function CCE takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetEnumUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="CCE"
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function CBE))
call TriggerRegisterDeathEvent(t,PU7)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffectTarget(YI4,PU7,"chest")))
call UnitAddAbility(PU7,YJ4)
call UnitMakeAbilityPermanent(PU7,true,YJ4)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),YJ4,false)
call UM7(PU7,"IcarusDive|Disarmed")
set FJ8=null
set PU7=null
set t=null
endfunction
function C3E takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local group g=LD7()
set EZ7="C3E"
call DestroyEffect(AddSpecialEffect(YI4,x,y))
call GroupEnumUnitsInRange(g,x,y,275+25,Condition(function GQ8))
call ForGroup(g,function CCE)
call L97(g)
set g=null
set FJ8=null
endfunction
function C6E takes nothing returns boolean
if GetSpellAbilityId()==YH4 then
call C3E()
endif
return false
endfunction
function UX8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UX8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function C6E))
set t=null
endfunction
function CLE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit hn=T37(US7,"Hero")
local unit HV8=T37(US7,"Caster")
set EZ7="CLE"
call T97(US7)
call UQ7(t)
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call KillUnit(HV8)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl",hn,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl",hn,"origin"))
call UnitRemoveAbility(hn,1093687875)
call UnitRemoveAbility(hn,1110454358)
set t=null
set hn=null
set HV8=null
return false
endfunction
function C1E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit hn=T37(US7,"Hero")
local unit HV8=T37(US7,"Caster")
set EZ7="C1E"
call T97(US7)
call UQ7(t)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl",hn,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl",hn,"origin"))
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,18-0.1,false)
call TriggerRegisterDeathEvent(t,hn)
call TriggerAddCondition(t,Condition(function CLE))
call TJ7(US7,"Hero",hn)
call TJ7(US7,"Caster",HV8)
set t=null
set hn=null
set HV8=null
return false
endfunction
function C0E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit hn=GetTriggerUnit()
local unit C5E=CreateUnit(GetOwningPlayer(hn),1697657174,0,0,0)
local real C2E=18
set EZ7="C0E"
call L67(C5E,1093687875)
call UnitApplyTimedLife(C5E,1112820806,C2E)
call DF8(hn,C2E,175)
call TriggerRegisterTimerEvent(t,0.1,false)
call TriggerAddCondition(t,Condition(function C1E))
call TJ7(US7,"Hero",hn)
call TJ7(US7,"Caster",C5E)
set t=null
set C5E=null
set hn=null
endfunction
function C_E takes nothing returns boolean
if GetSpellAbilityId()==1093679411 and GetUnitTypeId(GetTriggerUnit())==1429221432 then
call C0E()
endif
return false
endfunction
function TY8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TY8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function C_E))
set t=null
endfunction
function ST9 takes nothing returns nothing
local unit p5=B2
local unit m5=C2
local unit HV8=T37(GetHandleId(p5),"FeralHeartCaster")
set EZ7="ST9"
call TJ7(GetHandleId(m5),"FeralHeartCaster",HV8)
call SetUnitOwner(HV8,GetOwningPlayer(m5),true)
set p5=null
set m5=null
set HV8=null
endfunction
function D49 takes nothing returns nothing
local unit LI7=IT4
local unit HV8=T37(GetHandleId(LI7),"FeralHeartCaster")
set EZ7="D49"
if HV8!=null and GetUnitTypeId(HV8)==1697657174 then
call RemoveUnit(HV8)
endif
set LI7=null
set HV8=null
endfunction
function L4E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
if HV8!=null and GetUnitTypeId(HV8)==1697657174 then
if L17(FJ8)==false then
call SetUnitX(HV8,GetUnitX(FJ8))
call SetUnitY(HV8,GetUnitY(FJ8))
endif
endif
set t=null
set HV8=null
set FJ8=null
return false
endfunction
function L7E takes unit LI7,boolean BZ9 returns nothing
local integer HW8=GetUnitAbilityLevel(LI7,1093677893)
local unit HV8
local trigger t
local integer PP7
set EZ7="FeralHeart"
if HW8==1 or BZ9 then
set HV8=CreateUnit(GetOwningPlayer(LI7),1697657174,0,0,0)
call L67(HV8,1093687882)
call TJ7(GetHandleId(LI7),"FeralHeartCaster",HV8)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerAddCondition(t,Condition(function L4E))
call TriggerRegisterTimerEvent(t,0.2,true)
call SaveUnitHandle(L7,(PP7),(2),(LI7))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
else
set HV8=T37(GetHandleId(LI7),"FeralHeartCaster")
endif
if HW8==2 then
call UnitRemoveAbility(HV8,1093687882)
call L67(HV8,1093687881)
elseif HW8==3 then
call UnitRemoveAbility(HV8,1093687882)
call UnitRemoveAbility(HV8,1093687881)
call L67(HV8,1093687880)
elseif HW8==4 then
call UnitRemoveAbility(HV8,1093687882)
call UnitRemoveAbility(HV8,1093687881)
call UnitRemoveAbility(HV8,1093687880)
call L67(HV8,1093687879)
endif
set HV8=null
endfunction
function L8E takes nothing returns boolean
if GetLearnedSkill()==1093677893 and IsUnitIllusion(GetTriggerUnit())==false then
call L7E(GetTriggerUnit(),false)
endif
return false
endfunction
function TZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TZ8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function L8E))
set t=null
endfunction
function L9E takes nothing returns nothing
local unit hn=GetTriggerUnit()
local unit C5E
local integer i=1
local boolean LDE=AG7(GetOwningPlayer(hn))
local player p
local integer LEE
local integer LFE
local integer LGE=GetUnitAbilityLevel(hn,1093687878)
set EZ7="L9E"
if LGE==1 then
set LEE=1093742644
set LFE=1093742647
elseif LGE==2 then
set LEE=1093742641
set LFE=1093742646
elseif LGE==3 then
set LEE=1093742642
set LFE=1093742645
elseif LGE==4 then
set LEE=1093742643
set LFE=1093742648
endif
loop
exitwhen i>5
if LDE then
set p=Z7[i]
else
set p=A7[i]
endif
set C5E=CreateUnit(p,1697657174,0,0,0)
call L67(C5E,LEE)
call L67(C5E,LFE)
call UnitApplyTimedLife(C5E,1112820806,12)
set i=i+1
endloop
set hn=null
set C5E=null
set p=null
endfunction
function LHE takes nothing returns boolean
if GetSpellAbilityId()==1093687878 then
call L9E()
endif
return false
endfunction
function TA8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TA8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LHE))
set t=null
endfunction
function LIE takes nothing returns nothing
call E49()
call E89()
endfunction
function RC9 takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local player pl=RZ7(S2I(SubString(VH,3,StringLength(VH))))
set EZ7="RC9"
if((pl!=null)and(AM7(pl))and(IsPlayerInForce(pl,QX4)))then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r creepstats:   K: "+I2S(T7[GetPlayerId(pl)])+"   D: "+I2S(U7[GetPlayerId(pl)]))
endif
set pl=null
endfunction
function R39 takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local player pl=RZ7(S2I(SubString(VH,3,StringLength(VH))))
set EZ7="R39"
if((pl!=null)and(AM7(pl))and(IsPlayerInForce(pl,QX4)))then
if(M7[GetPlayerId(pl)]==null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r has no Hero")
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r movespeed is "+I2S(R2I(GetUnitMoveSpeed(M7[GetPlayerId(pl)]))))
endif
endif
set pl=null
endfunction
function LJE takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetTriggerPlayer()))and(not IsUnitIllusion(GetFilterUnit()))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not R17(GetFilterUnit()))and(RY7(GetFilterUnit())))
endfunction
function LKE takes unit j5,unit m5 returns boolean
if((GetUnitAbilityLevel(j5,1093678665)!=0)and(Bz>hq[16+GetPlayerId(GetOwningPlayer(j5))]))then
set EJ7=200+(200*GetUnitAbilityLevel(j5,1093678665))
return((LM7(j5,m5,40/0.03,0,EJ7)!=null)and(LH7(j5,m5,GetLocationX(GO7),GetLocationY(GO7),125,Condition(function GL8)))and(IssuePointOrderByIdLoc(j5,852600,GO7)))
endif
return false
endfunction
function LME takes unit j5,unit m5 returns boolean
if((GetUnitAbilityLevel(j5,1093684280)!=0)and(Bz>hq[32+GetPlayerId(GetOwningPlayer(j5))]))then
return((LM7(j5,m5,30/0.035,0,3000.)!=null)and(LH7(j5,m5,GetLocationX(GO7),GetLocationY(GO7),140,Condition(function uj)))and(IssuePointOrderByIdLoc(j5,852662,GO7)))
endif
return false
endfunction
function LNE takes unit it,unit m5,boolean LOE returns boolean
local integer i1=GetUnitTypeId(it)
local boolean J4=false
local integer O5=GetPlayerId(GetOwningPlayer(it))
set EZ7="(AI_Disable)"+EZ7
if not(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)then
return false
endif
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
endif
if(i1==1211117653)then
set J4=(((GetUnitState(it,UNIT_STATE_MANA))>290)and(AU7(it,1093686861)or(Bz>TC4[O5]))and(A67(it,LP4,LQ4,LR4,1093686861)and IssuePointOrderById(it,852215,GetUnitX(m5),GetUnitY(m5))))or(((GetUnitState(it,UNIT_STATE_MANA))>350)and(AU7(it,1093686859)or(Bz>TC4[O5]))and(Bz>TC4[96+O5])and A67(it,LQ4,LQ4,LP4,1093686859)and IssuePointOrderById(it,852491,GetUnitX(m5),GetUnitY(m5)))
elseif(i1==1160786505)then
set J4=(IssueTargetOrderById(it,852185,m5))
elseif(i1==1429221424)then
set J4=SZ7(it,852555,1093687351,m5)
elseif(i1==1432646245)then
set J4=((i2(m5))or(LOE))and(SZ7(it,852095,1093677640,m5))
elseif(i1==1430468913)then
set J4=(IsUnitInRange(it,m5,200.))and(SL7(it,852127,1093810507))
elseif(i1==1430467634)then
set J4=((i2(m5))or(LOE))and(SZ7(it,852231,1093679412,m5))
elseif(i1==1313026096)then
set J4=SZ7(it,852095,1095267426,m5)
elseif(i1==1211117617)then
set J4=SZ7(it,OrderId("acidbomb"),1093744944,m5)
elseif(i1==1430466872)then
set J4=(SZ7(it,852555,1093687349,m5))or((not LOE)and(SZ7(it,852502,1093684558,m5)))
elseif(i1==1164666213)then
set J4=SZ7(it,852224,1093678679,m5)
elseif(i1==1430466865)then
set J4=(IsUnitInRange(it,m5,300.))and(SL7(it,852127,1093810508))
elseif(i1==1429221441)then
set J4=SZ7(it,852231,1093678389,m5)
elseif(i1==1332766568)then
set J4=(not LOE)and(i2(m5))and(IsUnitInRange(it,m5,500.))and(IssueImmediateOrderById(it,852600))
elseif(i1==1429221451)then
set J4=IssueTargetOrderById(it,852218,m5)
elseif(i1==1429221446)then
set J4=((IsUnitInRange(it,m5,300.))and(SB7(it,852480,1093682764,1093747544,m5)))or(((i2(m5))or(LOE))and(LKE(it,m5)))
elseif(i1==1429221445)then
set J4=(GetUnitLifePercent(m5)<60.)and(SB7(it,852095,1093678647,1093679184,m5))
elseif(i1==1160786241)then
set J4=SZ7(it,852218,1093684813,m5)
elseif(i1==1429221456)then
set J4=(i2(m5))and(SZ7(it,852119,1093685066,m5))
elseif(i1==1430468406)then
set J4=(not LOE)and(i2(m5))and(SZ7(it,852592,kS(it),m5))
elseif(i1==1311780946)then
set J4=SZ7(it,852488,1093685825,m5)
elseif(i1==1211117646)then
set J4=(i2(m5))and(SZ7(it,852238,1093685573,m5))
elseif(i1==1160785973)then
set J4=((i2(m5))or(LOE))and(SZ7(it,852231,1093678130,m5))
elseif(i1==1332963428)then
set J4=((not LOE)and(SZ7(it,852227,1093678169,m5)))or((GetUnitState(it,UNIT_STATE_MANA)>hq[272+GetPlayerId(GetOwningPlayer(it))])and(SZ7(it,852480,1093677649,m5)))
elseif(i1==1332109682)then
set J4=(IsUnitInRange(it,m5,500.))and(SL7(it,852588,1093810505))
elseif(i1==1315988077)then
set J4=(IsUnitInRange(it,m5,200.))and(SL7(it,852096,1093678669))
elseif(i1==1211117616)then
set J4=((IsUnitInRange(it,m5,200.))and(SL7(it,852127,1093677139)))or((i2(m5))and(SZ7(it,852231,1093677132,m5)))
elseif(i1==1315074670)then
set J4=(not LOE)and(i2(m5))and(SZ7(it,852592,1093685570,m5))
elseif(i1==1215063922)then
set J4=(IsUnitInRange(it,m5,300.))and(SZ7(it,852095,1093681490,m5))
elseif(i1==1315007329)then
set J4=((i2(m5))or(LOE))and(SZ7(it,852095,1093677108,m5))
elseif(i1==1332898670)then
set J4=(SZ7(it,852502,1093685848,m5))or((IsUnitInRange(it,m5,400)or EH9(m5))and(SZ7(it,852480,1093677136,m5)))
elseif(i1==1215128178)then
set J4=(i2(m5))and(SZ7(it,852095,1093683779,m5))
elseif(i1==1215723364)then
set J4=SZ7(it,852095,1093677633,m5)
elseif(i1==1433105516)then
set J4=IssueTargetOrderById(it,852662,m5)
elseif(i1==1212363833)then
set J4=(not LOE)and(((i2(m5))and(IssueImmediateOrderById(it,852600)))or(SZ7(it,852095,1093809220,m5)))
elseif(i1==1214931305)then
set J4=SZ7(it,852171,1093678147,m5)
elseif(i1==1311787088)then
set J4=SZ7(it,OrderId("channel"),1093750087,m5)
elseif(i1==1212365106)then
set J4=(i2(m5))and(SZ7(it,852089,1093685831,m5))
elseif(i1==1211117620)then
set J4=SA7(it,852232,1093677623,LO7(it,m5,.95,600.))
elseif(i1==1333027688)then
set J4=SZ7(it,OrderId("channel"),1093686091,m5)
elseif(i1==1332179560)then
set J4=((i2(m5))or(LOE))and(SZ7(it,OrderId("acidbomb"),1093742660,m5))
elseif(i1==1432580716)or(i1==1429221720)then
set J4=SZ7(it,852089,1093684300,m5)
elseif(i1==1215130471)then
set J4=SZ7(it,852095,W77(it),m5)or(UE7(GetHandleId(it),"AI|Magi2Blast")and SZ7(it,852600,1093815121,m5))
elseif(i1==1160786000)then
set J4=SA7(it,852580,1093685046,LM7(it,m5,2000.,0.65,1100.))
elseif(i1==1311781206)then
set J4=LME(it,m5)
elseif(i1==1311780930)then
set J4=(i2(m5))and((IsUnitInRange(it,m5,350.))and(IssueImmediateOrderById(it,852600)))
elseif(i1==1211119187)then
set J4=SZ7(it,OrderId("blizzard"),1093743414,m5)
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
set J4=(UJ7(it,"AlcheBrew"))and(IssueTargetOrderById(it,852600,m5))
elseif(i1==1211117651)then
set J4=(SZ7(it,852119,1093743698,m5))
elseif(i1==1311786311)then
set J4=(not RY7(m5))and(SZ7(it,852119,1093743178,m5))
elseif(i1==1328558390)then
set J4=(SZ7(it,852119,1093744975,m5))or(SZ7(it,852218,1093744982,m5))
elseif(i1==1160786504)then
set J4=SZ7(it,852119,1093751608,m5)
elseif(i1==1160786520)then
set J4=SZ7(it,852214,1093809990,m5)
elseif(i1==1160786507)then
set J4=(not LOE)and(IssueTargetOrderById(it,852095,m5))
endif
if(not J4)then
if(not J4)and(SG7(it,ZU[Q1]))then
set J4=(not LOE)and((i2(m5))or(R17(it)))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and(SG7(it,ZU[D74]))then
set J4=(not LOE)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and(SG7(it,ZU[U3]))then
set J4=(not LOE)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and(SG7(it,ZU[DR4])and(EF9(m5)==false)and(BO7(m5)==false))then
set J4=(not LOE)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and(SG7(it,ZU[DP4]))then
set J4=(not LOE)and(UnitUseItem(it,bj_lastCreatedItem))
endif
endif
if(i1==1160786520)and(not J4)and(hq[816+O5]>Bz)then
set G0[288+O5]=true
set J4=LNE(it,m5,LOE)
endif
return J4
endfunction
function LPE takes unit it,boolean LQE returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
set EZ7="(Tqv)"+EZ7
set GZ[512+O5]=LQE
if(Q04[64+O5]!=null)then
call TriggerExecute(Q04[64+O5])
endif
endfunction
function LRE takes nothing returns boolean
return((GetFilterUnit()!=bj_lastLoadedUnit)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(R37(GetFilterUnit()))and(not R17(GetFilterUnit())))or((GetWidgetLife(GetFilterUnit())>0)and(V17(GetFilterUnit())))))
endfunction
function LSE takes integer O5,unit m5,boolean LTE,boolean LUE returns nothing
local unit P67=null
local integer UA7=0
local boolean J4=false
if not(G0[128+O5]or GZ[208+O5]or LTE)then
if(h4[O5]==null)then
call LPE(M7[O5],false)
endif
return
elseif h4[O5]==m5 and(Bz<hq[928+O5])then
return
endif
set h4[O5]=m5
set hq[928+O5]=Bz+1
call GroupClear(H8)
set bj_lastLoadedUnit=M7[O5]
if LUE then
call GroupEnumUnitsInRange(H8,GetUnitX(m5),GetUnitY(m5),2400,Condition(function LRE))
else
call GroupEnumUnitsInRange(H8,GetUnitX(m5),GetUnitY(m5),1200,Condition(function LRE))
endif
set J4=(QY4[O5]and LNE(M7[O5],m5,false))
loop
set P67=FirstOfGroup(H8)
exitwhen P67==null
call GroupRemoveUnit(H8,P67)
set UA7=GetPlayerId(GetOwningPlayer(P67))
if UA7!=0 and UA7!=6 and UA7<12 and(h4[UA7]==null or R37(h4[UA7])==false)and QY4[O5]then
if(IsUnitType(P67,UNIT_TYPE_HERO))then
if(not GZ[160+O5])then
set h4[UA7]=m5
set hq[928+UA7]=Bz+1
if is(P67)then
call IssueTargetOrderById(P67,851983,m5)
set J4=(J4 or(LNE(P67,m5,false)))
endif
endif
elseif is(P67)then
call IssueTargetOrderById(P67,851983,m5)
else
endif
endif
endloop
if(is(M7[O5]))then
call IssueTargetOrderById(M7[O5],851983,m5)
endif
set P67=null
endfunction
function LVE takes integer O5,boolean LWE returns boolean
local integer i=0
local integer j=0
set h4[O5]=null
set hq[928+O5]=0
set hq[480+O5]=0
if LWE and(G0[144+O5])and(not R17(M7[O5]))then
set i=1
set j=-1
set EJ7=999999
loop
exitwhen i>11
if IsPlayerAlly(Player(i),Player(O5))and h4[i]!=null and IsUnitInRange(M7[O5],h4[i],1100.)then
set EK7=GetWidgetLife(h4[i])
if j==-1 or EK7<EJ7 then
set j=i
set EJ7=EK7
endif
endif
set i=i+1
endloop
if(j==-1)then
set bj_lastLoadedUnit=M7[O5]
set bj_lastReplacedUnit=ZO7(800.,M7[O5])
if(bj_lastReplacedUnit!=null)then
set h4[O5]=bj_lastReplacedUnit
endif
elseif(IsUnitEnemy(h4[j],Player(O5)))then
set h4[O5]=h4[j]
endif
endif
if h4[O5]!=null then
call LSE(O5,h4[O5],false,false)
endif
return false
endfunction
function LXE takes nothing returns nothing
local unit it=GetEnumUnit()
local unit m5=M7[GetPlayerId(GetTriggerPlayer())]
local integer i1=GetUnitTypeId(it)
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
local boolean J4
set EZ7="LXE"
set GZ[64+O5]=true
if(i1==1430466609)then
set J4=(IsUnitInRange(it,m5,300.))and(SL7(it,852526,1093678145))
elseif(i1==1430467634)then
set J4=(SE7(500.,m5,Condition(function k8))>0)and(SL7(it,OrderId("fanofknives"),1093750608))
elseif(i1==1211117653)then
set J4=(IsUnitInRange(it,m5,650.))and A67(it,LQ4,LQ4,LR4,1093686865)and SZ7(it,852490,1093686865,m5)
elseif(i1==1160786505)then
set J4=(IsUnitInRange(it,m5,560.))and(IssueImmediateOrderById(it,852594))
elseif(i1==1164666213)then
set J4=(IsUnitInRange(it,m5,500.))and(SE7(500.,m5,Condition(function k8))>0)and(SL7(it,852594,1093677877))
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
set J4=((GetUnitLifePercent(it)-30.)>GetUnitLifePercent(m5))and(SZ7(it,852189,1093678929,m5))
elseif(i1==1433168227)then
set J4=SZ7(it,852225,1093679186,m5)
elseif(i1==1430466865)then
set J4=SZ7(it,852066,1093677879,m5)
elseif(i1==1429221432)then
set J4=(IsUnitInRange(it,m5,500.))and(SL7(it,OrderId("channel"),1093687878))
elseif(i1==1432642913)then
set J4=(IssueTargetOrderById(it,852119,m5))or(IssueTargetOrderById(it,852662,m5))
elseif(i1==1332766568)then
set J4=(IsUnitInRange(it,m5,400.))and(SE7(400.,m5,Condition(function k8))>0)and(IssueImmediateOrderById(it,852096))
elseif(i1==1429221445)then
set J4=(IsUnitInRange(it,m5,500.))and(SL7(it,852526,1093678422))
elseif(i1==1211117617)then
set J4=(IsUnitInRange(it,m5,430.))and(SL7(it,852526,1093814611))
elseif(i1==1311787088)then
set J4=(IsUnitInRange(it,m5,760.))and(SZ7(it,OrderId("berserk"),1093748817,m5))
elseif(i1==1211117640)then
set J4=(IsUnitInRange(it,m5,400.))and(SE7(400.,m5,Condition(function k8))>0)and(IssuePointOrderById(it,852089,GetUnitX(m5),GetUnitY(m5)))
elseif(i1==1160786241)then
if((GetUnitManaPercent(it)>50.)and(IsUnitInRange(it,m5,300.)))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093684805,true)
set J4=(GetUnitAbilityLevel(it,1110455882)==0)and(IssueImmediateOrderById(it,852177))
endif
elseif(i1==1160786243)then
set J4=IssueTargetOrderById(it,852248,m5)
elseif(i1==1311781207)then
set J4=((GetUnitLifePercent(it)<40.)and(IssueTargetOrderById(it,852536,m5)))or(IssueTargetOrderById(it,852229,m5))
elseif((i1==1211117650)or(i1==1211119433))then
set IN4=it
set J4=(SE7(1000.,it,Condition(function ny))>2)and(IssueTargetOrderById(it,852699,m5))
elseif(i1==1211117646)then
set J4=(SZ7(it,852101,1093685815,m5))or((SE7(350.,m5,Condition(function k8))>0)and(IssueTargetOrderById(it,852095,m5)))
elseif(i1==1211117624)then
set J4=(IsUnitInRange(it,m5,500.))and(SE7(500.,m5,Condition(function k8))>0)and(SL7(it,852526,1093683024))
elseif(i1==1433631084)then
set J4=(SE7(500.,m5,Condition(function k8))>0)and(SZ7(it,852089,1093678644,m5))
elseif(i1==1214345830)then
set J4=SZ7(it,852225,1093679182,m5)
elseif(i1==1215723364)then
set J4=(IsUnitInRange(it,m5,500.))and(SE7(500.,m5,Condition(function k8))>0)and(SZ7(it,OrderId("volcano"),1093744463,m5))
elseif(i1==1164799855)then
set J4=(IsUnitInRange(it,m5,500.))and(SL7(it,852556,1093677378))
elseif(i1==1433105516)then
set J4=(SE7(500.,m5,Condition(function k8))>0)and(IssueTargetOrderById(it,852600,m5))
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
set J4=SZ7(it,OrderId("acolyteharvest"),1093742898,m5)
elseif(i1==1212363833)then
set J4=(IsUnitInRange(it,m5,500.))and(SE7(500.,m5,Condition(function k8))>0)and(SL7(it,852123,1093678643))
elseif(i1==1212365106)then
set J4=(SE7(500.,m5,Condition(function k8))>0)and(SZ7(it,852089,1093685831,m5))
elseif(i1==1211117633)then
set J4=(GetUnitLifePercent(m5)<50.)and(IssueImmediateOrderById(it,852600))
elseif(i1==1211117620)then
set J4=(SE7(150.,m5,Condition(function k6))>0)and(SA7(it,852232,1093677623,LO7(it,m5,.95,600.)))
elseif(i1==1432580716)or(i1==1429221720)then
set J4=(SE7(400.,m5,Condition(function k8))>0)and(SZ7(it,852089,1093684300,m5))
elseif(i1==1214344551)then
set J4=((K6(m5))and(IssueTargetOrderById(it,852069,m5)))
if not J4 then
set J4=IssueTargetOrderById(it,852248,m5)
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
set J4=(SE7(400.,m5,Condition(function k8))>0)and(SZ7(it,852089,1093683532,m5))
elseif(i1==1211117649)then
set J4=(GetUnitLifePercent(m5)<95.)and(IssueTargetOrderById(it,852095,m5))
endif
if(not J4)then
if(SG7(it,ZU[T1]))then
set J4=(IsUnitInRange(it,m5,300.))and(UnitUseItem(it,SK7(it,ZU[T1])))
elseif(SG7(it,ZU[F74]))then
set J4=(IsUnitInRange(it,m5,590.))and(UnitUseItem(it,SK7(it,ZU[F74])))
elseif(SG7(it,ZU[DD4]))then
set J4=(IsUnitInRange(it,m5,590.))and(UnitUseItem(it,SK7(it,ZU[DD4])))
elseif(SG7(it,ZU[B3]))then
set J4=(IsUnitInRange(it,m5,500.))and(UnitUseItem(it,SK7(it,ZU[B3])))
endif
endif
if((not J4)and(GetHeroLevel(it)>5))then
set m5=S97(800.,SX7(m5),Condition(function k6))
if(m5!=null)then
if(i1==1160786506)and(IsUnitInRange(it,m5,895.))then
if(EG8(it,m5))or(not IsUnitInRange(m5,it,800))then
call LO7(it,m5,1.2,900)
else
call MoveLocation(GO7,GetUnitX(m5),GetUnitY(m5))
endif
set J4=(QZ7(O5)and(J8(O5,IssuePointOrderByIdLoc(it,852089,GO7))))
endif
if(not J4)then
call IssueTargetOrderById(it,851983,m5)
endif
if(h4[O5]==null)then
call LSE(O5,m5,false,false)
endif
endif
endif
set GZ[64+GetPlayerId(GetOwningPlayer(it))]=false
set m5=null
set it=null
endfunction
function R69 takes nothing returns nothing
if((M7[GetPlayerId(GetTriggerPlayer())]!=null)and(R37(M7[GetPlayerId(GetTriggerPlayer())])))then
call ju(OC7(1100.,SX7(M7[GetPlayerId(GetTriggerPlayer())]),Condition(function LJE)),function LXE)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,8.,"AI Allies nearby will assist you")
set hq[464+GetPlayerId(GetTriggerPlayer())]=Bz+5.
endif
endfunction
function LYE takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function LZE takes nothing returns nothing
if(GetWidgetLife(GetEnumUnit())>.405)then
call SetWidgetLife(GetEnumUnit(),GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+8.)
else
call GroupRemoveUnit(ij,GetEnumUnit())
endif
endfunction
function LAE takes nothing returns nothing
call ForGroup(ij,function LZE)
call SetWidgetLife(JF4,GetUnitState(JF4,UNIT_STATE_LIFE)+12.)
call SetWidgetLife(J34,GetUnitState(J34,UNIT_STATE_LIFE)+12.)
endfunction
function VV9 takes nothing returns nothing
local trigger t=CreateTrigger()
local boolexpr Ig=Condition(function LYE)
set EZ7="VV9"
set ij=LD7()
call GroupEnumUnitsInRect(ij,bj_mapInitialPlayableArea,Ig)
call TriggerRegisterTimerEventPeriodic(t,1.)
call TriggerAddAction(t,function LAE)
set ZT=true
call DestroyBoolExpr(Ig)
set Ig=null
endfunction
function VW9 takes nothing returns nothing
set AT=true
call EnableTrigger(QC4)
endfunction
function LBE takes unit B_8,unit C28 returns integer
local integer i=1
local integer L48=0
call B18(B_8,C28)
loop
exitwhen i>5
if JU[i]!=null then
set L48=L48+1
endif
set i=i+1
endloop
return L48
endfunction
function VX9 takes nothing returns nothing
set ED7=true
set DC7=0.50
set D37=.30
set D67=0.05
set DL7=10.
set D07=5
set D57=0.3
set D27=0.1
set D_7=100
set E87=60
set E97=60
set D17=0.05
set E47=0.25
set E77=2
endfunction
function LCE takes nothing returns boolean
return GetDyingUnit()==M7[GetPlayerId(GetTriggerPlayer())]
endfunction
function L3E takes nothing returns nothing
local integer O5=1
local integer i
local integer a
loop
exitwhen O5>11
if AK7(Player(O5))then
set a=IU[O5]-Z84[64+O5]
if a>0 then
set i=1
loop
exitwhen i>a
set Z84[96+O5]=R2I(Bz+E97)
if EU then
call SetPlayerHandicapXPBJ(Player(O5),Z84[16+O5]+(GetPlayerHandicapXPBJ(Player(O5))-Z84[16+O5])*(1-D67))
endif
if FU then
set Z84[48+O5]=Z84[32+O5]+R2I((Z84[48+O5]-Z84[32+O5])*(1-D27))
endif
set i=i+1
endloop
set Z84[64+O5]=IU[O5]
endif
endif
set O5=O5+1
endloop
endfunction
function L6E takes nothing returns nothing
local unit B_8=GetDyingUnit()
local unit C28=GetKillingUnit()
local player p=GetOwningPlayer(B_8)
local player pl=GetOwningPlayer(C28)
if IsUnitInForce(GetDyingUnit(),QX4)and GetDyingUnit()!=GetKillingUnit()then
set Z84[96+GetPlayerId(p)]=R2I(Bz+E97)
if EU then
if GetPlayerHandicapXP(p)*100<Z84[16+GetPlayerId(p)]then
call SetPlayerHandicapXP(p,Z84[16+GetPlayerId(p)]*0.01)
else
call SetPlayerHandicapXP(p,GetPlayerHandicapXP(p)+DC7+LBE(B_8,C28)*D17)
if GetPlayerHandicapXP(p)*100>(Z84[16+GetPlayerId(p)]+DL7*100)then
call SetPlayerHandicapXP(p,(Z84[16+GetPlayerId(p)])*0.01+DL7)
endif
endif
endif
if FU then
if Z84[48+GetPlayerId(p)]<Z84[32+GetPlayerId(p)]then
set Z84[48+GetPlayerId(p)]=Z84[32+GetPlayerId(p)]
else
set Z84[48+GetPlayerId(p)]=Z84[48+GetPlayerId(p)]+D07
if Z84[48+GetPlayerId(p)]>D_7 then
set Z84[48+GetPlayerId(p)]=D_7
endif
endif
endif
endif
if GetKillingUnit()!=null and IsUnitInForce(GetKillingUnit(),QX4)and GetDyingUnit()!=GetKillingUnit()then
set Z84[96+GetPlayerId(pl)]=R2I(Bz+E97)
if EU then
call SetPlayerHandicapXPBJ(pl,Z84[16+GetPlayerId(pl)]+(GetPlayerHandicapXPBJ(pl)-Z84[16+GetPlayerId(pl)])*(1-D37))
endif
if FU then
set Z84[48+GetPlayerId(pl)]=Z84[32+GetPlayerId(pl)]+R2I((Z84[48+GetPlayerId(pl)]-Z84[32+GetPlayerId(pl)])*(1-D57))
endif
endif
call TimerStart(DY7,0.5,false,function L3E)
set p=null
set pl=null
set B_8=null
set C28=null
endfunction
function LLE takes nothing returns nothing
local integer O5=1
local player p
if Bz<E87+E97+QD4 then
return
endif
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if IsPlayerInForce(Player(O5),QX4)then
if(Bz>Z84[96+O5])then
set p=Player(O5)
if EU then
if GetPlayerHandicapXP(p)*100<Z84[16+GetPlayerId(p)]then
call SetPlayerHandicapXP(p,Z84[16+GetPlayerId(p)]*0.01)
else
call SetPlayerHandicapXP(p,GetPlayerHandicapXP(p)+E47)
if GetPlayerHandicapXP(p)*100>(Z84[16+GetPlayerId(p)]+DL7*100)then
call SetPlayerHandicapXP(p,(Z84[16+GetPlayerId(p)])/100+DL7)
endif
endif
endif
if FU then
if Z84[48+GetPlayerId(p)]<Z84[32+GetPlayerId(p)]then
set Z84[48+GetPlayerId(p)]=Z84[32+GetPlayerId(p)]
else
set Z84[48+GetPlayerId(p)]=Z84[48+GetPlayerId(p)]+E77
if Z84[48+GetPlayerId(p)]>D_7 then
set Z84[48+GetPlayerId(p)]=D_7
endif
endif
endif
set Z84[96+O5]=R2I(Bz+E97)
endif
endif
set O5=O5+1
endloop
endfunction
function L1E takes nothing returns nothing
local integer i
local integer m
local integer n
local trigger t=null
set DX7=CreateTrigger()
call ky(DX7,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(DX7,Condition(function LCE))
call TriggerAddAction(DX7,function L6E)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddAction(t,function LLE)
set t=null
set DY7=CreateTimer()
endfunction
function VY9 takes nothing returns nothing
if DX7==null then
call L1E()
endif
set EU=true
endfunction
function VZ9 takes nothing returns nothing
if DX7==null then
call L1E()
endif
set FU=true
endfunction
function L0E takes integer L5E,integer L2E,integer L_E,integer D4F,integer D7F,integer D8F,integer D9F,integer DDF,integer DEF,integer DFF,integer DGF,integer DHF,integer DIF,integer DJF,integer DKF,integer DMF,integer DNF returns nothing
call SaveInteger(EE7,L5E,0,L2E)
call SaveInteger(EE7,L5E,1,L_E)
call SaveInteger(EE7,L5E,2,D4F)
call SaveInteger(EE7,L5E,3,D7F)
call SaveInteger(EE7,L5E,4,D8F)
call SaveInteger(EE7,L5E,5,D9F)
call SaveInteger(EE7,L5E,6,DDF)
call SaveInteger(EE7,L5E,7,DEF)
call SaveInteger(EE7,L5E,8,DFF)
call SaveInteger(EE7,L5E,9,DGF)
call SaveInteger(EE7,L5E,10,DHF)
call SaveInteger(EE7,L5E,11,DIF)
call SaveInteger(EE7,L5E,12,DJF)
call SaveInteger(EE7,L5E,13,DKF)
call SaveInteger(EE7,L5E,14,DMF)
call SaveInteger(EE7,L5E,15,DNF)
if(bj_forLoopBIndex<=2)then
set eY[336+16*bj_forLoopBIndex+bj_forLoopAIndex]=L5E
endif
set bj_forLoopBIndex=bj_forLoopBIndex+1
endfunction
function DOF takes unit P67,integer L5E,integer DPF returns integer
set bj_forLoopBIndex=GetUnitAbilityLevel(P67,L5E)
if bj_forLoopBIndex==0 then
return 0
endif
return LoadInteger(EE7,L5E,DPF+bj_forLoopBIndex-1)
endfunction
function DQF takes integer DRF returns nothing
set bj_forLoopBIndex=0
if DRF==1215723364 then
call L0E(1093677633,10,10,10,10,110,120,130,140,500,500,500,500,0,0,0,0)
call L0E(1093744463,15,15,15,15,40,40,40,40,1700,1700,1700,1700,0,0,0,0)
call L0E(1094934883,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L0E(1093683534,45,45,45,11,100,150,200,110,600,900,1200,600,125,125,125,125)
call L0E(1093747031,10,10,10,11,100,150,200,110,600,900,1200,600,125,125,125,125)
elseif DRF==1215128178 then
call L0E(1093677616,2,2,2,2,65,70,75,80,700,700,700,700,500,500,500,500)
call L0E(1093683779,6,6,6,6,75,95,115,135,700,700,700,700,0,0,0,0)
call L0E(1093684789,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093810503,90,90,90,0,225,325,450,0,0,0,0,0,0,0,0,0)
call L0E(1093810504,90,90,90,0,225,325,450,0,0,0,0,0,0,0,0,0)
elseif DRF==1164799855 then
call L0E(1093682263,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093682264,30,25,20,15,65,65,65,65,700,700,700,700,0,0,0,0)
call L0E(1093677378,45,45,45,45,125,140,155,170,0,0,0,0,300,300,300,300)
call L0E(1093682265,0,0,0,0,55,60,65,0,550,550,550,0,0,0,0,0)
call L0E(1093752642,0,0,0,0,55,60,65,0,715,715,715,0,0,0,0,0)
elseif DRF==1328558160 then
call L0E(1093682766,11,11,11,11,140,155,160,165,1000,1000,1000,1000,0,0,0,0)
call L0E(1093682998,10,10,10,10,100,100,100,100,600,700,800,900,0,0,0,0)
call L0E(1093684056,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093683000,80,80,80,0,25,25,25,0,700,1100,1500,0,200,200,200,0)
elseif DRF==1214931305 then
call L0E(1093748025,15,15,15,15,100,120,140,160,700,700,700,700,400,400,400,400)
call L0E(1093678147,10,10,10,10,115,125,140,150,500,500,500,500,0,0,0,0)
call L0E(1095262562,0,0,0,0,0,0,0,0,0,0,0,0,99999,99999,99999,99999)
call L0E(1093677906,150,120,90,0,200,400,600,0,500,500,500,500,0,0,0,0)
call L0E(1093681494,150,120,90,0,200,400,600,0,500,500,500,500,0,0,0,0)
elseif DRF==1211117617 then
call L0E(1093744944,15,15,15,15,140,140,140,140,600,600,600,600,255,255,255,255)
call L0E(1093677387,0,0,0,0,0,0,0,0,0,0,0,0,200,200,200,200)
call L0E(1093814611,36,30,24,18,25,25,25,25,0,0,0,0,0,0,0,0)
call L0E(1093752648,80,80,80,30,100,150,200,25,0,0,0,0,0,0,0,0)
elseif DRF==1212363833 then
call L0E(1093678643,40,40,40,40,70,80,90,100,128,128,128,128,1000,1000,1000,1000)
call L0E(1093809220,14,14,14,14,75,85,95,115,650,650,650,650,0,0,0,0)
call L0E(1093815125,19,16,13,10,80,90,100,110,0,0,0,0,0,0,0,0)
call L0E(1093678933,180,120,60,0,100,100,100,0,500,500,500,500,0,0,0,0)
elseif DRF==1333027688 then
call L0E(1093686091,15,15,15,15,125,140,155,170,1200,1200,1200,1200,0,0,0,0)
call L0E(1093682252,5,5,5,5,50,50,50,50,0,0,0,0,0,0,0,0)
call L0E(1093682250,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093682248,150,130,110,9,145,205,265,100,0,0,0,0,500,500,500,475)
call L0E(1093750594,150,130,110,9,145,205,265,100,0,0,0,0,500,500,500,475)
elseif DRF==1212365106 then
call L0E(1093685831,13,13,13,13,75,80,85,90,425,425,425,425,250,275,300,325)
call L0E(1093684025,20,15,10,5,50,50,50,50,700,700,700,700,0,0,0,0)
call L0E(1093682266,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093677130,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif DRF==1311781199 then
call L0E(1093681461,180,160,140,120,75,75,75,75,0,0,0,0,200,200,200,200)
call L0E(1093748038,30,30,30,30,50,50,50,50,0,0,0,0,400,450,475,500)
call L0E(1093681464,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093681479,0,0,0,0,25,25,25,0,0,0,0,0,0,0,0,0)
elseif DRF==1211117620 then
call L0E(1093677382,9,9,9,9,90,105,125,140,800,800,800,800,275,275,275,275)
call L0E(1093677623,7,7,7,7,90,100,110,125,600,600,600,600,225,225,225,225)
call L0E(1093744728,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093677392,70,60,50,9,280,420,680,120,600,600,600,700,0,0,0,500)
call L0E(1093679450,70,60,50,9,280,420,640,120,900,900,900,700,0,0,0,500)
elseif DRF==1315070563 then
call L0E(1093678407,30,28,26,24,110,110,110,110,0,0,0,0,250,250,250,250)
call L0E(1093678135,60,60,60,60,80,100,120,140,350,350,350,350,0,0,0,0)
call L0E(1093677131,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093684529,130,120,110,9,200,275,350,75,450,450,450,600,0,0,0,0)
call L0E(1093747032,110,100,90,9,200,275,350,75,450,450,450,600,0,0,0,0)
elseif DRF==1311781185 then
call L0E(1093743692,20,18,16,14,75,95,115,135,800,800,800,800,350,350,350,350)
call L0E(1093684314,0,0,0,0,15,15,15,15,600,600,600,600,0,0,0,0)
call L0E(1093815892,36,28,20,12,115,115,115,115,900,900,900,900,0,0,0,0)
call L0E(1093684275,140,140,140,0,250,350,450,0,500,500,500,500,0,0,0,0)
elseif DRF==1214344551 then
call L0E(1093677402,10,8,6,4,90,80,70,60,300,300,300,300,0,0,0,0)
call L0E(1093809742,16,14,12,10,140,140,140,140,350,350,350,350,0,0,0,0)
call L0E(1093815628,15,15,15,15,25,25,25,25,99999,99999,99999,99999,0,0,0,0)
call L0E(1093678938,70,70,70,0,150,175,200,0,500,500,500,500,0,0,0,0)
elseif DRF==1433105516 then
call L0E(1093683511,15,15,15,15,110,130,150,160,600,600,600,600,0,0,0,0)
call L0E(1093744688,35,35,35,35,170,170,170,170,700,700,700,700,0,0,0,0)
call L0E(1093681713,25,25,25,25,95,110,125,140,700,700,700,700,400,400,400,400)
call L0E(1093747288,200,190,180,0,250,350,450,0,250,250,250,500,375,375,375,0)
elseif DRF==1214409837 then
call L0E(1093679157,10,10,10,10,150,150,150,150,2000,2000,2000,2000,0,0,0,0)
call L0E(1093742680,16,16,16,16,75,75,75,75,550,700,850,1000,0,0,0,0)
call L0E(1093742898,19,18,17,16,25,45,65,85,900,900,900,900,0,0,0,0)
call L0E(1093742932,80,70,60,120,100,100,100,150,0,0,0,0,0,0,0,0)
elseif DRF==1215657064 then
call L0E(1093677913,6,6,6,6,75,75,75,75,0,0,0,0,385,385,385,385)
call L0E(1093750841,10,10,10,10,45,55,65,75,0,0,0,0,0,0,0,0)
call L0E(1095657827,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093684291,25,25,25,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif DRF==1215130471 then
call L0E(1093678167,12,12,12,12,75,85,95,105,600,600,600,600,0,0,0,0)
call L0E(1093677361,15,15,15,15,95,105,115,125,700,700,700,700,0,0,0,0)
call L0E(1093679155,20,20,20,20,75,75,75,75,600,600,600,600,0,0,0,0)
call L0E(1093679160,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093815121,20,15,15,0,400,140,155,0,600,1200,1200,500,0,0,0,0)
call L0E(1093679172,6,6,6,6,185,195,205,215,600,600,600,600,0,0,0,0)
call L0E(1093679169,8,8,8,8,145,155,165,175,600,600,600,600,0,0,0,0)
call L0E(1093679161,10,10,10,10,105,115,125,135,600,600,600,600,0,0,0,0)
call L0E(1093677126,15,15,15,15,95,105,115,125,700,700,700,700,450,450,450,450)
call L0E(1093677396,15,15,15,15,95,105,115,125,700,700,700,700,300,300,300,300)
call L0E(1093677111,15,15,15,15,95,105,115,125,700,700,700,700,150,150,150,150)
call L0E(1093679177,5,5,5,5,75,75,75,75,600,600,600,600,0,0,0,0)
call L0E(1093679175,10,10,10,10,75,75,75,75,600,600,600,600,0,0,0,0)
call L0E(1093679174,15,15,15,15,75,75,75,75,600,600,600,600,0,0,0,0)
elseif DRF==1316252014 then
call L0E(1093678137,14,14,14,14,95,120,145,170,550,550,550,550,0,0,0,0)
call L0E(1093678405,25,25,25,25,120,140,160,180,0,0,0,0,2500,2500,2500,2500)
call L0E(1093681745,35,35,35,35,145,150,165,190,300,300,300,300,300,300,300,300)
call L0E(1093678645,0,0,0,0,150,250,350,0,500,500,500,500,0,0,0,0)
elseif DRF==1164799603 then
call L0E(1093808453,11,10,9,8,100,120,140,160,600,600,600,600,110,110,110,110)
call L0E(1093677391,50,40,30,20,50,50,50,50,99999,99999,99999,99999,0,0,0,0)
call L0E(1095067246,37,37,37,37,160,160,160,160,750,750,750,750,150,225,300,375)
call L0E(1093752632,90,75,60,0,150,200,250,0,99999,99999,99999,500,0,0,0,0)
call L0E(1093752633,90,75,60,0,150,200,250,0,99999,99999,99999,500,0,0,0,0)
elseif DRF==1332179560 then
call L0E(1093742660,7,7,7,7,125,130,135,140,750,750,750,750,0,0,0,0)
call L0E(1093682231,30,25,20,15,150,120,90,60,0,0,0,0,0,0,0,0)
call L0E(1093682242,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L0E(1093687627,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif DRF==1432580716 then
call L0E(1093684300,17,17,17,17,120,120,120,120,600,600,600,600,275,275,275,275)
call L0E(1093681754,10,10,10,10,120,120,120,120,700,900,1100,1300,300,300,300,300)
call L0E(1093744977,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093682009,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,900)
elseif DRF==1211117643 then
call L0E(1093678410,25,20,15,10,125,150,175,205,100,100,100,100,200,200,200,200)
call L0E(1093678664,20,16,13,10,80,110,140,160,150,150,150,150,0,0,0,0)
call L0E(1093678658,180,170,160,150,100,125,150,175,0,0,0,0,0,0,0,0)
call L0E(1093681483,10,10,10,7,200,240,300,30,500,500,500,500,0,0,0,0)
call L0E(1093748313,10,10,10,7,200,240,300,30,700,700,700,500,0,0,0,0)
elseif DRF==1211117633 then
call L0E(1093684045,14,14,14,14,100,100,100,100,600,600,600,600,0,0,0,0)
call L0E(1093684310,24,24,24,24,175,175,175,175,600,600,600,600,0,0,0,0)
call L0E(1093810260,30,26,22,18,100,100,100,100,900,900,900,900,0,0,0,0)
call L0E(1093684308,140,130,120,0,200,300,400,0,500,500,500,500,0,0,0,0)
call L0E(1093747539,30,30,30,0,200,300,400,0,500,500,500,500,0,0,0,0)
call L0E(1093815619,24,24,24,24,200,200,200,200,600,600,600,600,0,0,0,0)
elseif DRF==1160785973 then
call L0E(1093678130,6,6,6,6,90,100,110,120,800,800,800,800,0,0,0,0)
call L0E(1093678129,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093678642,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L0E(1093678388,160,150,140,0,150,200,250,0,500,500,500,500,0,0,0,0)
call L0E(1093677141,160,150,140,0,150,200,250,0,500,500,500,500,0,0,0,0)
elseif DRF==1433631084 then
call L0E(1093678644,15,15,15,15,120,120,120,120,1800,1800,1800,1800,350,350,350,350)
call L0E(1093677907,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093677909,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093678160,20,15,10,9,175,275,375,75,2000,2500,3000,600,0,0,0,0)
elseif DRF==1311781174 then
call L0E(1093681733,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093808461,20,20,20,20,50,50,50,50,900,900,900,900,0,0,0,0)
call L0E(1093685040,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093748042,20,20,20,9,75,75,75,100,0,0,0,0,400,450,475,475)
call L0E(1093808462,12,12,12,12,50,50,50,50,700,700,700,700,0,0,0,0)
elseif DRF==1332898670 then
call L0E(1093677360,8,8,8,8,95,105,135,160,600,600,600,600,200,200,200,200)
call L0E(1093685848,13,13,13,13,110,140,170,200,500,500,500,500,0,0,0,0)
call L0E(1093677136,16,16,16,16,110,130,155,185,400,400,400,400,0,0,0,0)
call L0E(1093677128,110,110,110,7,200,350,600,30,550,550,550,500,0,0,0,0)
call L0E(1093681457,110,110,110,7,200,350,600,30,600,600,600,500,0,0,0,0)
elseif DRF==1211117624 then
call L0E(1093682775,2,2,2,2,30,30,30,30,600,600,600,600,0,0,0,0)
call L0E(1093683024,3,3,3,3,35,35,35,35,0,0,0,0,700,700,700,700)
call L0E(1093684531,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093682774,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif DRF==1315988077 then
call L0E(1093678669,12,12,12,12,90,105,130,150,0,0,0,0,400,400,400,400)
call L0E(1097032808,8,8,8,8,50,50,50,50,850,850,850,850,10,10,10,10)
call L0E(1093684568,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093684561,180,160,140,180,125,150,175,150,0,0,0,0,128,128,128,128)
call L0E(1093747254,160,140,120,180,125,150,175,150,0,0,0,0,128,128,128,128)
elseif DRF==1211117616 then
call L0E(1093677139,13,13,13,13,85,100,115,130,0,0,0,0,315,315,315,315)
call L0E(1093816142,8,8,8,8,0,0,0,0,150,150,150,150,0,0,0,0)
call L0E(1093677142,0,0,0,0,0,0,0,0,0,0,0,0,1000,1000,1000,1000)
call L0E(1093816118,120,90,60,0,80,80,80,0,0,0,0,0,0,0,0,0)
elseif DRF==1315007329 then
call L0E(1093677108,10,10,10,10,90,115,135,155,650,650,650,650,0,0,0,0)
call L0E(1093749073,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093678913,15,15,15,15,50,50,50,50,0,0,0,0,0,0,0,0)
call L0E(1093681716,10,7,5,0,70,60,50,0,900,1050,1200,0,0,0,0,0)
elseif DRF==1215063922 then
call L0E(1093677894,12,12,12,12,100,110,120,130,500,500,500,500,150,150,150,150)
call L0E(1093681490,9,9,9,9,100,100,100,75,150,150,150,600,0,0,0,0)
call L0E(1093681996,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093677895,115,115,115,180,50,50,50,150,0,0,0,0,0,0,0,0)
elseif DRF==1164207469 then
call L0E(1093677618,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1095066220,12,9,7,5,60,60,60,60,99999,99999,99999,99999,0,0,0,0)
call L0E(1093684057,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093682483,70,70,70,9,125,200,275,75,600,600,600,600,0,0,0,0)
elseif DRF==1315074670 then
call L0E(1093677622,0,0,0,0,12,12,12,12,625,625,625,625,0,0,0,0)
call L0E(1093685570,13,13,13,13,90,90,90,90,900,900,900,900,300,300,300,300)
call L0E(1093677625,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L0E(1093686851,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif DRF==1214345830 then
call L0E(1093679182,10,10,10,10,100,120,140,160,700,700,700,700,0,0,0,0)
call L0E(1093679190,14,14,14,14,50,50,50,50,500,500,500,500,0,0,0,0)
call L0E(1093678657,0,0,0,0,0,0,0,0,0,0,0,0,300,300,300,300)
call L0E(1093682514,150,150,150,25,125,175,250,50,0,0,0,0,600,600,600,650)
elseif DRF==1211117636 then
call L0E(1093685041,13,13,13,13,120,120,120,120,1300,1300,1300,1300,100,100,100,100)
call L0E(1093685071,40,40,40,40,25,25,25,25,0,0,0,0,200,200,200,200)
call L0E(1093681732,0,0,0,0,0,0,0,0,0,0,0,0,1000,1000,1000,1000)
call L0E(1093685042,80,75,70,9,150,175,200,75,600,600,600,600,0,0,0,0)
call L0E(1093810233,45,45,45,9,150,175,200,75,950,950,950,600,0,0,0,0)
elseif DRF==1160786000 then
call L0E(1093685047,10,10,10,10,135,140,155,170,500,500,500,500,0,0,0,0)
call L0E(1093685046,12,11,10,9,90,90,90,90,1100,1100,1100,1100,0,0,0,0)
call L0E(1093685048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093685045,60,60,60,8,220,330,440,100,850,850,850,700,0,0,0,125)
call L0E(1093747249,60,60,60,8,220,330,440,100,1150,1150,1150,700,0,0,0,125)
elseif DRF==1311781193 then
call L0E(1093683532,22,22,22,22,130,140,150,160,900,900,900,900,625,625,625,625)
call L0E(1093750345,16,16,16,16,120,120,120,120,0,0,0,0,0,0,0,0)
call L0E(1093685043,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L0E(1095656306,45,45,45,30,50,100,150,25,0,0,0,0,0,0,0,0)
elseif DRF==1311781206 then
call L0E(1093684054,12,12,12,12,100,120,140,160,500,500,500,500,0,0,0,0)
call L0E(1093684280,17,17,17,17,100,100,100,100,3000,3000,3000,3000,0,0,0,0)
call L0E(1093684302,30,26,22,18,40,35,30,20,0,0,0,0,0,0,0,0)
call L0E(1093684053,160,140,120,0,75,75,75,0,500,500,500,500,0,0,0,0)
elseif DRF==1211117651 then
call L0E(1093743696,4,4,4,4,70,80,90,100,0,0,0,0,400,450,475,500)
call L0E(1093743698,20,20,20,20,100,110,120,130,300,300,300,300,500,500,500,500)
call L0E(1093685591,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093743695,0,0,0,0,0,0,0,0,99999,99999,99999,0,0,0,0,0)
elseif DRF==1211117649 then
call L0E(1093685584,25,25,25,25,170,170,170,170,400,400,400,400,0,0,0,0)
call L0E(1093685582,0,0,0,0,0,0,0,0,450,450,450,450,0,0,0,0)
call L0E(1093685585,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093685586,45,30,15,0,0,0,0,0,550,550,550,500,0,0,0,0)
call L0E(1093747251,4,4,4,0,0,0,0,0,550,550,550,500,0,0,0,0)
elseif DRF==1160786265 then
call L0E(1093748033,17,17,17,17,100,100,100,100,0,0,0,0,0,0,0,0)
call L0E(1093685846,7,7,7,7,50,50,50,50,0,0,0,0,0,0,0,0)
call L0E(1093685839,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093685840,11,9,7,0,15,15,15,0,2000,2000,2000,500,300,300,300,0)
elseif DRF==1311780930 then
call L0E(1093686073,12,12,12,12,150,150,150,150,3000,3000,3000,3000,0,0,0,0)
call L0E(1093686083,16,16,16,16,100,110,120,130,500,500,500,500,0,0,0,0)
call L0E(1093686082,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093686072,85,85,85,6,100,150,200,75,750,750,750,800,375,375,375,200)
call L0E(1093751120,85,85,85,6,100,150,200,75,750,750,750,800,375,375,375,200)
elseif DRF==1211117652 then
call L0E(1093687860,32,28,24,20,75,75,75,75,500,500,500,500,0,0,0,0)
call L0E(1093687861,15,15,15,15,50,60,70,80,500,500,500,500,0,0,0,0)
call L0E(1093687862,20,18,16,14,50,50,50,50,99999,99999,99999,99999,575,575,575,575)
call L0E(1093687864,70,55,40,0,150,150,150,0,2000,2500,3000,500,0,0,0,0)
call L0E(1093747542,12,12,12,0,150,150,150,0,2000,2500,3000,500,0,0,0,0)
elseif DRF==1211119187 then
call L0E(1093743414,12,12,12,12,120,120,120,120,1500,1500,1500,1500,215,215,215,215)
call L0E(1093743444,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093742926,16,16,16,16,80,90,100,110,500,650,800,950,0,0,0,0)
call L0E(1093742923,60,50,40,0,150,200,250,0,1000,1000,1000,0,0,0,0,0)
elseif DRF==1311786311 then
call L0E(1093743178,12,12,12,12,90,100,110,120,800,800,800,800,500,500,500,500)
call L0E(1093743179,9,9,9,9,90,100,110,120,1700,1700,1700,1700,0,0,0,0)
call L0E(1093743689,15,15,15,15,100,100,100,100,0,0,0,0,400,450,475,500)
call L0E(1093743184,60,60,60,0,200,300,400,0,600,600,600,500,0,0,0,0)
call L0E(1093747766,15,15,15,0,200,300,400,0,600,600,600,500,0,0,0,0)
elseif DRF==1164277353 then
call L0E(1093815130,22,18,14,10,50,50,50,50,250,250,250,250,0,0,0,0)
call L0E(1093683252,16,16,16,16,80,80,80,80,0,0,0,0,0,0,0,0)
call L0E(1093751369,140,140,140,140,40,40,40,40,0,0,0,0,0,0,0,0)
call L0E(1093678929,160,110,60,0,200,100,0,0,250,250,250,0,0,0,0,0)
elseif DRF==1164666213 then
call L0E(1093678679,9,9,9,9,100,125,140,160,750,750,750,750,150,175,200,225)
call L0E(1093677877,22,22,22,22,95,120,135,155,0,0,0,0,0,0,0,0)
call L0E(1093678678,6,6,6,6,100,115,130,145,700,700,700,700,650,650,650,650)
call L0E(1093808454,1,1,1,0,110,110,110,0,0,0,0,0,0,0,0,0)
call L0E(1093808455,1,1,1,0,110,110,110,0,0,0,0,0,0,0,0,0)
elseif DRF==1433168227 then
call L0E(1093678918,9,9,9,8,125,150,170,190,600,600,600,600,200,200,200,200)
call L0E(1093679186,5,5,5,5,50,50,50,50,800,800,800,800,0,0,0,0)
call L0E(1093678387,35,30,25,20,25,25,25,25,400,400,400,400,0,0,0,0)
call L0E(1093678420,145,115,60,6,200,325,500,50,750,750,750,800,0,0,0,0)
call L0E(1093679176,145,115,60,6,200,325,500,50,850,850,850,800,0,0,0,0)
elseif DRF==1430468406 then
call L0E(1093677645,8,8,8,8,105,120,140,165,600,600,600,600,110,110,110,110)
call L0E(1093685302,15,15,15,15,80,80,80,80,900,900,900,900,200,275,350,350)
call L0E(1093677635,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093678899,100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)
call L0E(1093678904,4,4,4,4,80,95,115,140,600,600,600,600,110,110,110,110)
call L0E(1093678900,5,5,5,5,85,100,120,145,600,600,600,600,110,110,110,110)
call L0E(1093678898,6,6,6,6,90,105,125,150,600,600,600,600,110,110,110,110)
call L0E(1093678670,7,7,7,7,95,110,130,155,600,600,600,600,110,110,110,110)
call L0E(1093678925,11,11,11,11,55,55,55,55,900,900,900,900,200,275,350,350)
call L0E(1093678922,12,12,12,12,60,60,60,60,900,900,900,900,200,275,350,350)
call L0E(1093678921,13,13,13,13,65,65,65,65,900,900,900,900,200,275,350,350)
call L0E(1093678920,14,14,14,14,70,70,70,70,900,900,900,900,200,275,350,350)
call L0E(1093678158,100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)
call L0E(1093678157,100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)
call L0E(1093678154,100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)
call L0E(1093677898,100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)
elseif DRF==1430466872 then
call L0E(1093687349,12,12,12,12,100,120,145,170,500,500,500,500,0,0,0,0)
call L0E(1093684558,15,15,15,15,125,150,175,200,500,500,500,500,0,0,0,0)
call L0E(1093677646,25,20,15,10,10,10,10,10,600,650,700,750,800,800,800,800)
call L0E(1093679413,160,100,40,9,200,420,650,120,900,900,900,0,500,500,500,500)
call L0E(1093679447,160,100,40,9,200,420,625,120,900,900,900,0,500,500,500,500)
elseif DRF==1162032439 then
call L0E(1093744435,22,22,22,22,125,125,125,125,800,800,800,800,0,0,0,0)
call L0E(1093684569,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093684563,5,5,5,5,20,20,20,20,850,850,850,850,0,0,0,0)
call L0E(1093677363,140,120,100,40,200,300,400,125,0,0,0,0,200,200,200,200)
call L0E(1093681462,140,120,60,40,200,300,400,125,0,0,0,0,200,200,200,200)
elseif DRF==1430466865 then
call L0E(1093677651,10,9,8,7,90,90,90,90,500,500,500,500,150,150,150,150)
call L0E(1093677879,12,12,12,10,40,40,40,40,800,800,800,800,0,0,0,0)
call L0E(1093751364,30,30,30,30,80,80,80,80,600,800,1000,1200,100,100,100,100)
call L0E(1093810508,120,110,100,0,200,250,300,0,0,0,0,0,0,0,0,0)
elseif DRF==1430468144 then
call L0E(1093679192,10,10,10,10,70,80,90,100,700,700,700,700,0,0,0,0)
call L0E(1093750337,4,4,4,4,170,160,150,140,1000,1000,1000,1000,0,0,0,0)
call L0E(1093686872,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093750341,180,160,140,9,150,150,150,100,0,0,0,0,0,0,0,475)
call L0E(1093814599,180,160,140,9,150,150,150,100,0,0,0,0,0,0,0,475)
elseif DRF==1429221441 then
call L0E(1093678389,10,10,10,10,140,140,140,140,500,500,500,500,0,0,0,0)
call L0E(1093685847,24,18,12,6,70,70,70,70,550,600,650,700,0,0,0,0)
call L0E(1093677902,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093677903,140,140,140,3,125,200,275,150,128,128,128,128,1000,1000,1000,1000)
elseif DRF==1429221432 then
call L0E(1093677892,30,30,30,30,125,125,125,125,800,800,800,800,200,200,200,200)
call L0E(1093687878,50,45,40,35,15,20,25,30,500,500,500,500,0,0,0,0)
call L0E(1093677893,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L0E(1093679411,100,70,40,180,100,100,100,150,0,0,0,0,0,0,0,0)
elseif DRF==1429221430 then
call L0E(1093681736,10,10,10,10,120,120,120,120,700,700,700,700,0,0,0,0)
call L0E(1093681735,30,30,30,30,50,50,50,50,600,600,600,600,650,650,650,650)
call L0E(1093681739,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093687121,45,45,45,0,100,100,100,0,500,500,500,500,0,0,0,0)
elseif DRF==1165451634 then
call L0E(1093687629,8,8,8,8,30,25,20,15,1200,1200,1200,1200,0,0,0,0)
call L0E(1093685324,14,11,8,5,50,50,50,50,1000,1000,1000,1000,0,0,0,0)
call L0E(1093677904,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093677905,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif DRF==1211117654 then
call L0E(1093747504,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093682994,11,11,11,11,140,150,160,170,800,800,800,800,500,500,500,500)
call L0E(1093684560,0,0,0,0,0,0,0,0,128,128,128,128,0,0,0,0)
call L0E(1093747028,140,100,60,0,200,100,0,0,500,500,500,500,0,0,0,0)
elseif DRF==1432646245 then
call L0E(1093677640,8,8,8,8,80,90,100,110,525,525,525,525,0,0,0,0)
call L0E(1093679173,0,0,0,0,0,0,0,0,500,500,500,500,0,0,0,0)
call L0E(1093679158,0,0,0,0,0,0,0,0,500,500,500,500,0,0,0,0)
call L0E(1093677899,180,150,120,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093747248,180,150,120,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif DRF==1313026096 then
call L0E(1095267426,8,8,8,8,140,140,140,140,525,525,525,525,0,0,0,0)
call L0E(1096114550,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L0E(1095721842,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093677401,260,160,60,240,140,140,140,0,0,0,0,0,0,0,0,0)
elseif DRF==1430467634 then
call L0E(1093742674,70,60,50,40,60,50,40,30,300,300,300,300,0,0,0,0)
call L0E(1093750608,60,55,50,45,60,65,70,75,0,0,0,0,0,0,0,0)
call L0E(1093679412,8,8,8,8,110,110,110,110,600,600,600,600,0,0,0,0)
call L0E(1093684565,110,110,110,120,150,200,250,125,550,550,550,400,0,0,0,0)
call L0E(1093681458,110,110,110,120,150,200,250,125,550,550,550,400,0,0,0,0)
elseif DRF==1429221424 then
call L0E(1093687351,11,11,11,11,95,115,135,155,500,500,500,500,0,0,0,0)
call L0E(1093748789,28,20,12,4,90,110,130,150,600,600,600,600,0,0,0,0)
call L0E(1093815119,10,10,10,10,50,50,50,50,0,0,0,0,0,0,0,0)
call L0E(1093679445,70,60,50,5,160,210,260,75,0,0,0,0,0,0,0,0)
elseif DRF==1430468913 then
call L0E(1093678403,40,40,40,40,50,50,50,50,0,0,0,0,0,0,0,0)
call L0E(1093810507,8,8,8,8,80,95,105,115,0,0,0,0,0,0,0,0)
call L0E(1093683786,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093677876,10,10,10,0,25,25,25,0,700,700,700,0,0,0,0,0)
elseif DRF==1430466609 then
call L0E(1093685559,20,16,12,8,80,100,120,140,400,400,400,400,0,0,0,0)
call L0E(1093684549,12,10,8,6,60,60,60,60,99999,99999,99999,99999,0,0,0,0)
call L0E(1093678145,7,7,7,7,110,120,130,140,0,0,0,0,500,500,500,500)
call L0E(1093810258,135,135,135,8,250,360,500,100,700,700,700,700,100,100,100,125)
call L0E(1093810259,100,70,40,8,250,360,500,100,700,700,700,700,100,100,100,125)
elseif DRF==1160785972 then
call L0E(1093677872,60,50,40,30,90,90,90,90,0,0,0,0,0,0,0,0)
call L0E(1095263841,0,0,0,0,8,8,8,8,600,600,600,600,0,0,0,0)
call L0E(1093677621,20,20,20,20,75,75,75,75,0,0,0,0,0,0,0,0)
call L0E(1093678161,45,45,45,0,100,100,100,0,400,400,400,0,0,0,0,0)
elseif DRF==1162032181 then
call L0E(1093684299,19,17,15,13,120,120,120,120,700,900,1100,1300,0,0,0,0)
call L0E(1093682010,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093679153,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093683761,120,110,100,6,150,175,200,70,600,600,600,800,400,400,400,200)
call L0E(1093747767,60,60,60,6,150,175,200,70,600,600,600,800,400,400,400,200)
elseif DRF==1162032951 then
call L0E(1093679446,4,3,0,0,20,20,20,20,600,600,600,600,0,0,0,0)
call L0E(1093746995,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093684557,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093679152,80,50,30,8,125,175,250,65,500,500,500,0,0,0,0,0)
call L0E(1093752154,12,12,12,0,125,125,125,0,900,900,900,0,0,0,0,0)
elseif DRF==1160785970 then
call L0E(1093748023,14,14,14,14,125,125,125,125,0,0,0,0,0,0,0,0)
call L0E(1093747792,25,25,25,25,20,30,40,50,600,600,600,600,0,0,0,0)
call L0E(1093748022,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L0E(1093747023,80,70,60,0,100,150,200,0,600,600,600,500,0,0,0,0)
call L0E(1093752150,80,70,60,0,100,150,200,0,600,600,600,500,0,0,0,0)
elseif DRF==1429221443 then
call L0E(1093686322,15,15,15,15,75,75,75,75,0,0,0,0,0,0,0,0)
call L0E(1093686099,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093744948,24,20,16,12,110,110,110,110,700,700,700,700,500,500,500,500)
call L0E(1093686103,100,100,100,0,50,50,50,0,150,150,150,500,0,0,0,0)
elseif DRF==1211117640 then
call L0E(1093684564,6,6,6,6,85,105,125,145,400,400,400,400,400,400,400,400)
call L0E(1093681989,12,10,8,6,100,100,100,100,700,700,700,700,0,0,0,0)
call L0E(1093679428,35,35,35,35,80,80,80,80,0,0,0,0,100,100,100,100)
call L0E(1093681987,22,22,22,8,125,175,225,75,850,850,850,500,850,850,850,800)
call L0E(1093677658,0,0,0,8,125,175,225,75,900,900,900,500,900,900,900,800)
elseif DRF==1332109682 then
call L0E(1093678134,12,12,12,12,120,120,120,120,700,700,700,700,0,0,0,0)
call L0E(1093678149,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093808694,7,6,5,4,30,40,50,60,0,0,0,0,0,0,0,0)
call L0E(1093810505,150,150,150,12,150,225,325,75,0,0,0,0,0,0,0,500)
elseif DRF==1332963428 then
call L0E(1093816137,12,12,12,12,95,105,115,125,1000,1000,1000,1000,0,0,0,0)
call L0E(1093683019,14,14,14,14,125,150,175,200,600,600,600,600,500,500,500,500)
call L0E(1093678169,15,15,15,15,165,165,165,165,500,550,600,650,0,0,0,0)
call L0E(1093677649,100,100,100,0,200,300,400,0,625,625,625,0,0,0,0,0)
call L0E(1093747769,100,100,100,0,200,300,400,0,625,625,625,0,0,0,0,0)
elseif DRF==1429221445 then
call L0E(1093678422,8,7,6,5,125,145,165,185,0,0,0,0,400,450,475,500)
call L0E(1093677390,0,0,0,0,0,0,0,0,0,0,0,0,1000,1000,1000,1000)
call L0E(1093678640,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L0E(1093678647,100,85,70,9,175,340,500,75,600,600,600,600,0,0,0,0)
call L0E(1093679184,70,70,70,9,150,340,500,75,600,600,600,600,0,0,0,0)
elseif DRF==1429221446 then
call L0E(1093678665,14,13,12,11,110,120,130,140,600,800,1000,1200,0,0,0,0)
call L0E(1093678667,0,0,0,0,0,0,0,0,0,0,0,0,250,250,250,250)
call L0E(1093678660,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093682764,30,30,30,0,100,130,170,0,160,160,160,0,0,0,0,0)
call L0E(1093747544,30,30,30,0,100,130,170,0,160,160,160,0,0,0,0,0)
elseif DRF==1328558154 then
call L0E(1093750840,35,35,35,35,100,100,100,100,99999,99999,99999,99999,0,0,0,0)
call L0E(1093682515,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L0E(1093682997,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093682996,75,75,75,0,125,150,175,0,400,550,700,500,0,0,0,0)
call L0E(1093747768,20,20,20,0,125,150,175,0,550,700,850,500,0,0,0,0)
elseif DRF==1432510828 then
call L0E(1093751127,36,33,30,27,100,100,100,100,3000,3000,3000,3000,0,0,0,0)
call L0E(1093681985,12,10,8,6,60,60,60,60,0,0,0,0,0,0,0,0)
call L0E(1093681991,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093682004,60,50,40,0,150,75,0,0,0,0,0,500,0,0,0,0)
elseif DRF==1315334514 then
call L0E(1093682521,10,10,10,10,75,75,75,75,0,0,0,0,0,0,0,0)
call L0E(1093681746,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093682773,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L0E(1093810506,120,110,100,0,150,175,200,0,0,0,0,0,0,0,0,0)
call L0E(1093682736,10,10,10,10,75,75,75,75,0,0,0,0,0,0,0,0)
call L0E(1093682760,10,10,10,10,75,75,75,75,0,0,0,0,0,0,0,0)
elseif DRF==1429221451 then
call L0E(1093678671,11,11,11,11,110,120,130,140,350,450,550,650,0,0,0,0)
call L0E(1093683248,40,30,20,10,60,50,40,30,500,500,500,500,0,0,0,0)
call L0E(1093682753,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093678674,140,120,100,0,175,250,325,0,500,500,500,500,0,0,0,0)
call L0E(1093747252,120,100,80,0,175,250,325,0,500,500,500,500,0,0,0,0)
elseif DRF==1332766568 then
call L0E(1093683510,10,10,10,10,80,90,100,110,500,500,500,500,0,0,0,0)
call L0E(1093686065,20,15,10,5,75,85,95,105,900,900,900,900,0,0,0,0)
call L0E(1093681974,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L0E(1093682482,75,65,55,9,120,160,200,120,150,150,150,700,150,150,150,500)
call L0E(1093750098,6,6,6,9,120,160,200,120,150,150,150,700,150,150,150,500)
elseif DRF==1215722344 then
call L0E(1093682499,12,10,8,6,80,80,80,80,800,800,800,800,0,0,0,0)
call L0E(1093684293,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093683512,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093684296,70,60,50,0,150,200,250,0,1000,1000,1000,500,0,0,0,0)
elseif DRF==1432642913 then
call L0E(1093683507,6,6,6,6,75,75,75,75,800,800,800,800,0,0,0,0)
call L0E(1093684550,14,12,10,8,100,105,110,115,500,500,500,500,1,1,1,1)
call L0E(1093684551,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093684819,60,60,60,5,0,0,0,75,0,0,0,0,0,0,0,0)
call L0E(1093747777,60,60,60,5,0,0,0,75,0,0,0,0,0,0,0,0)
elseif DRF==1160786242 then
call L0E(1093683287,16,16,16,16,130,140,150,160,2000,2000,2000,2000,0,0,0,0)
call L0E(1093682776,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093684801,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093683257,120,120,120,0,150,150,150,0,0,0,0,500,0,0,0,0)
elseif DRF==1160786241 then
call L0E(1093684813,20,18,16,14,110,120,130,140,700,700,700,700,500,500,500,500)
call L0E(1093684805,0,0,0,0,15,40,65,90,0,0,0,0,340,340,340,340)
call L0E(1093684815,35,35,35,35,120,120,120,120,400,400,400,400,150,150,150,150)
call L0E(1093684820,80,80,80,0,200,200,200,150,300,350,400,700,0,0,0,0)
call L0E(1093684824,80,80,80,0,200,200,200,150,300,350,400,700,0,0,0,0)
elseif DRF==1429221456 then
call L0E(1093685065,0,0,0,0,100,100,100,100,450,450,450,450,0,0,0,0)
call L0E(1093685066,18,16,14,12,120,140,160,180,550,550,550,550,500,500,500,500)
call L0E(1093683526,0,0,0,0,0,0,0,0,0,0,0,0,1000,1000,1000,1000)
call L0E(1093685067,160,160,160,0,175,250,325,0,600,650,700,0,375,475,575,0)
call L0E(1093752407,160,160,160,0,175,250,325,0,700,750,800,0,375,475,575,0)
elseif DRF==1160786243 then
call L0E(1093683765,25,25,25,25,120,120,120,120,800,800,800,800,0,0,0,0)
call L0E(1093681491,16,16,16,16,90,110,130,150,500,500,500,500,0,0,0,0)
call L0E(1093678672,50,50,50,50,100,110,120,130,700,700,700,700,650,650,650,650)
call L0E(1395667000,165,165,165,30,200,250,300,100,1200,1200,1200,900,600,600,600,250)
call L0E(1395667029,165,165,165,30,200,250,300,100,1200,1200,1200,900,600,600,600,250)
elseif DRF==1211117641 then
call L0E(1093684802,20,16,12,8,100,100,100,100,500,750,1000,1250,220,220,220,220)
call L0E(1093684792,12,10,8,6,80,80,80,80,99999,99999,99999,99999,0,0,0,0)
call L0E(1093684791,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093684567,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093809987,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif DRF==1311781207 then
call L0E(1093684817,15,13,11,7,100,115,130,145,600,600,600,600,0,0,0,0)
call L0E(1093742668,60,45,30,15,140,130,120,110,550,700,850,1000,0,0,0,0)
call L0E(1093685074,12,10,8,6,80,90,100,110,900,900,900,900,0,0,0,0)
call L0E(1093742673,40,40,40,0,100,100,100,0,2000,2000,2000,0,575,575,575,0)
call L0E(1093747778,40,40,40,0,100,100,100,0,2000,2000,2000,0,775,775,775,0)
elseif DRF==1311780946 then
call L0E(1093677385,16,16,16,16,100,110,120,130,775,775,775,775,450,450,450,450)
call L0E(1093685825,24,21,18,15,100,115,130,145,750,750,750,750,275,275,275,275)
call L0E(1095328612,0,0,0,0,0,0,0,0,900,900,900,900,0,0,0,0)
call L0E(1093685808,130,130,130,0,75,150,225,0,99999,99999,99999,500,0,0,0,0)
elseif DRF==1211117650 then
call L0E(1093743955,10,8,6,4,70,90,110,130,625,625,625,625,300,300,300,300)
call L0E(1093685813,25,20,15,10,50,75,100,125,650,650,650,650,0,0,0,0)
call L0E(1093743958,60,60,60,60,120,130,140,150,600,600,600,600,0,0,0,0)
call L0E(1093743946,75,75,75,180,100,100,100,150,0,0,0,0,0,0,0,0)
elseif DRF==1211117646 then
call L0E(1093685573,22,22,22,22,100,130,160,190,500,500,500,500,250,350,450,550)
call L0E(1093685575,10,10,10,10,70,90,110,130,600,600,600,600,0,0,0,0)
call L0E(1093685815,12,11,10,9,20,30,40,50,600,600,600,600,0,0,0,0)
call L0E(1093685579,100,100,100,0,200,300,400,0,500,900,1300,500,300,300,300,0)
call L0E(1093808465,100,100,100,0,200,300,400,0,500,900,1300,500,300,300,300,0)
elseif DRF==1211117653 then
call L0E(1093808471,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093808472,0,0,0,9,0,0,0,100,0,0,0,0,0,0,0,475)
call L0E(1093808470,0,0,0,25,0,0,0,50,0,0,0,0,0,0,0,650)
call L0E(1093808473,22,17,12,5,20,40,60,80,0,0,0,0,0,0,0,0)
call L0E(1093748565,16,8,4,2,0,0,0,0,0,0,0,0,0,0,0,0)
elseif DRF==1311787088 then
call L0E(1093750087,15,13,11,9,150,150,150,150,700,700,700,700,0,0,0,0)
call L0E(1093748819,6,6,6,6,80,90,100,110,1500,1500,1500,1500,250,250,250,250)
call L0E(1093748817,50,46,42,38,110,120,130,140,800,800,800,800,525,525,525,525)
call L0E(1093750089,45,45,45,0,100,125,150,0,99999,99999,99999,500,0,0,0,0)
elseif DRF==1328558389 then
call L0E(1093747009,15,15,15,15,100,115,130,145,500,500,500,500,0,0,0,0)
call L0E(1093747000,16,16,16,16,110,110,110,110,1200,1200,1200,1200,0,0,0,0)
call L0E(1093747524,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093746993,100,100,100,0,175,175,175,0,1600,1600,1600,500,0,0,0,0)
elseif DRF==1211119409 then
call L0E(1093749069,10,9,8,7,55,50,45,40,0,0,0,0,0,0,0,0)
call L0E(1093749303,20,16,12,8,75,75,75,75,500,500,500,500,0,0,0,0)
call L0E(1093748818,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093749070,25,25,25,5,120,120,120,75,0,0,0,0,0,0,0,0)
elseif DRF==1328558390 then
call L0E(1093748044,3,3,3,3,20,20,20,20,700,700,700,700,375,375,375,375)
call L0E(1093744982,11,11,11,11,80,100,120,140,1500,1500,1500,1500,375,375,375,375)
call L0E(1093744986,40,40,40,40,100,100,100,100,0,0,0,0,-1,-1,-1,-1)
call L0E(1093744975,90,70,50,9,150,150,150,120,175,175,175,700,500,500,500,500)
elseif DRF==1160786505 then
call L0E(1093753167,18,16,14,12,120,120,120,120,1500,1500,1500,1500,0,0,0,0)
call L0E(1093751607,24,24,24,24,75,75,75,75,1250,1250,1250,1250,0,0,0,0)
call L0E(1093753170,50,50,50,50,75,75,75,75,0,0,0,0,100,100,100,100)
call L0E(1093753169,30,24,18,9,50,75,100,100,0,0,0,0,0,0,0,475)
elseif DRF==1160786510 then
call L0E(1093751631,7,7,6,6,90,90,90,90,500,500,500,500,0,0,0,0)
call L0E(1093751633,20,17,14,11,120,130,140,150,1050,1050,1050,1050,500,500,500,500)
call L0E(1093808697,20,20,20,20,50,50,50,50,0,0,0,0,0,0,0,0)
call L0E(1093751861,55,50,45,6,125,125,125,75,1000,1000,1000,800,450,450,450,200)
call L0E(1093808949,55,50,45,6,125,125,125,75,99999,99999,99999,800,450,450,450,200)
elseif DRF==1160786506 then
call L0E(1093751894,16,16,16,16,130,130,130,130,800,800,800,800,0,0,0,0)
call L0E(1093751639,60,50,40,30,160,130,100,70,600,1000,1400,1800,500,500,500,500)
call L0E(1093751637,14,14,14,14,70,70,70,70,900,900,900,900,300,300,300,300)
call L0E(1093752118,85,85,85,0,125,175,225,0,800,800,800,500,375,375,375,0)
elseif DRF==1328558406 then
call L0E(1093751873,12,12,12,12,40,40,40,40,1800,1800,1800,1800,1,1,1,1)
call L0E(1093751864,20,18,16,14,120,130,140,150,0,0,0,0,0,0,0,0)
call L0E(1093810257,2,2,2,2,0,0,0,0,128,128,128,128,0,0,0,0)
call L0E(1093751874,90,75,60,0,100,100,100,0,99999,99999,99999,500,0,0,0,0)
elseif DRF==1160786504 then
call L0E(1093751608,25,22,19,16,120,120,120,120,600,600,600,600,500,500,500,500)
call L0E(1093751618,13,13,13,13,50,60,70,80,600,600,600,600,500,500,500,500)
call L0E(1093751604,3,3,3,3,50,50,50,50,1500,1500,1500,1500,0,0,0,0)
call L0E(1093751617,50,50,50,0,200,200,200,0,800,800,800,0,0,0,0,0)
elseif DRF==1160786502 then
call L0E(1093751370,36,36,36,36,0,0,0,0,99999,99999,99999,99999,0,0,0,0)
call L0E(1093753176,45,40,35,30,80,80,100,110,1400,1400,1400,1400,0,0,0,0)
call L0E(1093753177,20,20,20,20,100,100,100,100,1300,1300,1300,1300,0,0,0,0)
call L0E(1093751371,110,110,110,0,200,200,200,0,700,700,700,500,0,0,0,0)
elseif DRF==1160786520 then
call L0E(1093809990,18,18,18,18,120,120,120,120,550,575,600,625,0,0,0,0)
call L0E(1093809991,16,14,12,10,150,150,150,150,800,800,800,800,0,0,0,0)
call L0E(1093810006,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call L0E(1093809992,20,18,16,0,25,25,25,0,1000,1000,1000,500,0,0,0,0)
elseif DRF==1311788336 then
call L0E(1093814323,14,12,10,8,110,110,110,110,0,0,0,0,0,0,0,0)
call L0E(1093814320,30,22,14,6,50,50,50,50,700,700,700,700,250,350,450,550)
call L0E(1093814355,35,35,35,35,80,90,100,110,1200,1200,1200,1200,0,0,0,0)
call L0E(1093814859,0,0,0,0,0,0,0,0,1500,1500,1500,500,0,0,0,0)
elseif DRF==1160786507 then
call L0E(1093814850,18,18,18,18,100,100,100,100,1000,1000,1000,1000,315,315,315,315)
call L0E(1093814834,16,15,14,13,80,90,100,110,800,800,800,800,0,0,0,0)
call L0E(1093813593,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093813065,50,50,50,0,75,75,75,0,100,100,100,500,0,0,0,0)
elseif DRF==1211122767 then
call L0E(1093812805,5,4,3,2,70,70,70,70,800,800,800,800,500,500,500,500)
call L0E(1093814612,20,18,16,14,110,110,110,110,0,0,0,0,0,0,0,0)
call L0E(1093814350,11,11,11,11,80,90,100,110,700,700,700,700,0,0,0,0)
call L0E(1093812807,60,40,20,0,350,575,800,0,1200,1200,1200,500,170,170,170,0)
elseif DRF==1160786738 then
call L0E(1093813835,8,8,8,8,70,80,90,100,0,0,0,0,0,0,0,0)
call L0E(1093813555,4,4,4,4,60,70,80,90,800,1000,1200,1400,0,0,0,0)
call L0E(1093813556,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call L0E(1093813557,8,8,8,0,125,150,175,0,1200,1200,1200,500,200,200,200,0)
elseif DRF==1311788343 then
call L0E(1093815877,60,50,40,30,120,110,100,90,0,0,0,0,0,0,0,0)
call L0E(1093815361,8,8,8,8,120,130,140,150,1200,1200,1200,1200,0,0,0,0)
call L0E(1093815362,17,16,15,14,75,75,75,75,1000,1000,1000,1000,0,0,0,0)
call L0E(1093687856,90,80,70,0,250,250,250,0,800,800,800,0,0,0,0,0)
elseif DRF==1311788363 then
call L0E(1093815601,20,20,20,20,75,75,75,75,600,700,800,900,0,0,0,0)
call L0E(1093815372,4,4,4,4,50,50,50,50,2000,2000,2000,2000,0,0,0,0)
call L0E(1093815373,50,50,50,50,75,75,75,75,900,900,900,900,350,350,350,350)
call L0E(1093815600,65,60,55,0,0,0,0,0,0,0,0,0,0,0,0,0)
endif
endfunction
function DSF takes integer O5,integer o6,integer n6,integer DTF,integer DUF,integer DVF,integer DWF,integer DXF returns nothing
set eY[128+O5]=o6
set eY[144+O5]=n6
set eY[160+O5]=DTF
set eY[172+O5]=DUF
set eY[188+O5]=DVF
set hG[144+O5]=DWF
set hG[160+O5]=DXF
endfunction
function DYF takes unit it returns boolean
local integer i1=GetUnitTypeId(it)
return((i1==1211117636)or(i1==1333027688)or(i1==1311787088)or(i1==1211117653)or(i1==1315988077)or(i1==1211117617)or(i1==1432580716)or(i1==1214344551)or(i1==1215063922)or(i1==1429221451)or(i1==1328558154)or(i1==1332109682)or(i1==1332766568)or(i1==1429221441)or(i1==1429221443)or(i1==1432642913)or(i1==1313026096)or(i1==1430468913)or(i1==1160785970)or(i1==1215657064)or(i1==1429221430)or(i1==1429221424)or(i1==1162032439)or(i1==1162032951)or(i1==1311780930)or(i1==1211117620)or(i1==1430468144)or(i1==1215130471)or(i1==1160786000)or(i1==1211117646)or(i1==1430468406)or(i1==1430466872)or(i1==1433105516)or(i1==1433168227)or(i1==1429221445)or(i1==1160786243))
endfunction
function DZF takes integer O5,unit it,integer i1 returns nothing
if(i1==1211117654)then
call DSF(O5,1093684560,1093682994,1093747504,1093747028,0,12,13)
elseif(i1==1429221443)then
call DSF(O5,1093686322,1093686099,1093744948,1093686103,0,101,101)
elseif(i1==1162032951)then
call DSF(O5,1093684557,1093679446,1093746995,1093679152,1093752154,7,3)
elseif(i1==1162032181)then
call DSF(O5,1093682010,1093679153,1093684299,1093683761,1093747767,9,9)
elseif(i1==1429221424)then
call DSF(O5,1093687351,1093748789,1093815119,1093679445,0,21,17)
elseif(i1==1160785972)then
call DSF(O5,1095263841,1093677872,1093677621,1093678161,0,9,11)
elseif(i1==1432646245)then
call DSF(O5,1093679158,1093677640,1093679173,1093677899,1093747248,1,11)
elseif(i1==1430466609)then
call DSF(O5,1093678145,1093685559,1093684549,1093810258,1093810259,13,20)
elseif(i1==1430468913)then
call DSF(O5,1093678403,1093810507,1093683786,1093677876,0,8,1)
elseif(i1==1430467634)then
call DSF(O5,1093742674,1093679412,1093750608,1093684565,1093681458,15,16)
elseif(i1==1313026096)then
call DSF(O5,1095267426,1096114550,1095721842,1093677401,0,11,6)
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
call DSF(O5,1093815130,1093683252,1093751369,1093678929,0,10,13)
elseif(i1==1164666213)then
call DSF(O5,1093678679,1093677877,1093678678,1093808454,1093808455,102,23)
elseif(i1==1433168227)then
call DSF(O5,1093678918,1093678387,1093679186,1093678420,1093679176,25,25)
elseif(i1==1429221430)then
call DSF(O5,1093681736,1093681735,1093681739,1093687121,0,14,16)
elseif(i1==1430466872)then
call DSF(O5,1093687349,1093684558,1093677646,1093679413,1093679447,23,17)
elseif(i1==1162032439)then
call DSF(O5,1093744435,1093684569,1093684563,1093677363,1093681462,8,8)
elseif(i1==1430466865)then
call DSF(O5,1093677651,1093677879,1093751364,1093810508,0,8,11)
elseif(i1==1430468144)then
call DSF(O5,1093679192,1093750337,1093686872,1093750341,1093814599,107,107)
elseif(i1==1429221432)then
call DSF(O5,1093677893,1093677892,1093687878,1093679411,0,1,6)
elseif(i1==1429221441)then
call DSF(O5,1093678389,1093685847,1093677902,1093677903,0,10,1)
elseif(i1==1165451634)then
call DSF(O5,1093687629,1093685324,1093677904,1093677905,0,3,11)
elseif(i1==1432642913)then
call DSF(O5,1093684550,1093683507,1093684551,1093684819,1093747777,4,4)
elseif(i1==1215722344)then
call DSF(O5,1093684293,1093683512,1093682499,1093684296,0,1,11)
elseif(i1==1432510828)then
call DSF(O5,1093751127,1093681985,1093681991,1093682004,0,6,6)
elseif(i1==1332766568)then
call DSF(O5,1093681974,1093686065,1093683510,1093682482,1093750098,104,4)
elseif(i1==1429221451)then
call DSF(O5,1093678671,1093682753,1093683248,1093678674,1093747252,8,11)
elseif(i1==1315334514)then
call DSF(O5,1093681746,1093682521,1093682773,1093810506,0,7,8)
elseif(i1==1328558154)then
call DSF(O5,1093750840,1093682515,1093682997,1093682996,1093747768,1,1)
elseif(i1==1429221446)then
call DSF(O5,1093678665,1093678667,1093678660,1093682764,1093747544,103,4)
elseif(i1==1429221445)then
call DSF(O5,1093678422,1093678640,1093677390,1093678647,1093679184,21,25)
elseif(i1==1332963428)then
call DSF(O5,1093683019,1093678169,1093816137,1093677649,1093747769,18,17)
elseif(i1==1332109682)then
call DSF(O5,1093678134,1093678149,1093808694,1093810505,0,11,15)
elseif(i1==1211117640)then
call DSF(O5,1093684564,1093681989,1093679428,1093681987,1093677658,21,21)
elseif(i1==1430468406)then
call DSF(O5,0,1093677635,0,0,0,25,25)
elseif(i1==1160786242)then
call DSF(O5,1093683287,1093682776,1093684801,1093683257,0,10,6)
elseif(i1==1160786241)then
call DSF(O5,1093684813,1093684815,1093684805,1093684820,1093684824,105,23)
elseif(i1==1429221456)then
call DSF(O5,1093683526,1093685065,1093685066,1093685067,1093752407,23,22)
elseif(i1==1160786243)then
if(S27(not IsPlayerAlly(Player(O5),Z7[0]))>2)then
call DSF(O5,1093681491,1093678672,1093683765,1395667000,1395667029,17,20)
else
call DSF(O5,1093681491,1093683765,1093678672,1395667000,1395667029,17,20)
endif
elseif(i1==1211117641)then
call DSF(O5,1093684791,1093684792,1093684802,1093684567,1093809987,106,106)
elseif(i1==1311781207)then
call DSF(O5,1093685074,1093742668,1093684817,1093742673,1093747778,17,18)
elseif(i1==1311780946)then
call DSF(O5,1093677385,1093685825,1095328612,1093685808,0,15,16)
elseif(i1==1211117650)then
call DSF(O5,1093743955,1093685813,1093743958,1093743946,0,5,5)
elseif(i1==1211117646)then
call DSF(O5,1093685575,1093685573,1093685815,1093685579,1093808465,5,5)
elseif(i1==1211117624)then
call DSF(O5,1093682775,1093683024,1093684531,1093682774,0,4,4)
elseif(i1==1160785973)then
call DSF(O5,1093678642,1093678129,1093678130,1093678388,1093677141,154,154)
elseif(i1==1315988077)then
call DSF(O5,1093678669,1093684568,1097032808,1093684561,1093747254,6,10)
elseif(i1==1211117616)then
call DSF(O5,1093677139,1093816142,1093677142,1093816118,0,6,10)
elseif(i1==1315074670)then
call DSF(O5,1093677622,1093677625,1093685570,1093686851,0,9,7)
elseif(i1==1215063922)then
call DSF(O5,1093677894,1093812553,1093681996,1093677895,0,15,6)
elseif(i1==1164207469)then
call DSF(O5,1093677618,1093684057,1095066220,1093682483,0,9,3)
elseif(i1==1433631084)then
call DSF(O5,1093677907,1093677909,1093678644,1093678160,0,3,13)
elseif(i1==1214345830)then
call DSF(O5,1093679182,1093679190,1093678657,1093682514,0,18,5)
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
call DSF(O5,1093681733,1093808460,1093685040,1093748042,0,12,9)
elseif(i1==1315007329)then
call DSF(O5,1093677108,1093749073,1093678913,1093681716,0,1,3)
elseif(i1==1332898670)then
call DSF(O5,1093677136,1093677360,1093685848,1093677128,1093681457,17,23)
elseif(i1==1215723364)then
call DSF(O5,1093677633,1094934883,1093744463,1093683534,1093747031,14,4)
elseif(i1==1215128178)then
call DSF(O5,1093683779,1093677616,1093684789,1093810503,1093810504,16,20)
elseif(i1==1164799855)then
call DSF(O5,1093682263,1093682264,1093677378,1093682265,1093752642,26,22)
elseif(i1==1433105516)then
call DSF(O5,1093683511,1093744688,1093681713,1093747288,0,18,25)
elseif(i1==1214409837)then
call DSF(O5,1093679157,1093742898,1093742680,1093742932,0,19,19)
elseif(i1==1316252014)then
call DSF(O5,1093678405,1093678137,1093681745,1093678645,0,157,19)
elseif(i1==1164799603)then
call DSF(O5,1093808453,1095067246,1093677391,1093752632,1093752633,18,19)
elseif(i1==1328558160)then
call DSF(O5,1093682766,1093682998,1093684056,1093683000,0,1,12)
elseif(i1==1212363833)then
call DSF(O5,1093678643,1093809220,1093815125,1093678933,0,10,9)
elseif(i1==1315070563)then
call DSF(O5,1093678407,1093677131,1093678135,1093684529,1093747032,1,11)
elseif(i1==1214931305)then
call DSF(O5,1093748025,1093678147,1095262562,1093677906,1093681494,8,17)
elseif(i1==1212365106)then
call DSF(O5,1093682266,1093684025,1093685831,1093677130,0,1,10)
elseif(i1==1211117617)then
call DSF(O5,1093744944,1093677387,1093814611,1093752648,0,11,4)
elseif(i1==1211117633)then
call DSF(O5,1093810260,1093684045,1093684310,1093684308,1093747539,153,153)
elseif(i1==1211117620)then
call DSF(O5,1093677382,1093677623,1093744728,1093677392,1093679450,16,23)
elseif(i1==1432580716)then
call DSF(O5,1093681754,1093684300,1093744977,1093682009,0,15,16)
elseif(i1==1333027688)then
call DSF(O5,1093686091,1093682250,1093682252,1093682248,1093750594,15,16)
if IsPlayerAlly(Player(O5),Z7[0])then
set GR7=true
else
set GS7=true
endif
elseif(i1==1311781185)then
call DSF(O5,1093743692,1093684314,1093815892,1093684275,0,26,22)
elseif(i1==1311788343)then
call DSF(O5,1093815877,1093815361,1093815362,1093687856,0,25,22)
elseif(i1==1311788363)then
call DSF(O5,1093815601,1093815372,1093815373,1093815600,0,25,22)
elseif(i1==1211117643)then
call DSF(O5,1093678410,1093678658,1093678664,1093681483,1093748313,151,151)
elseif(i1==1215657064)then
call DSF(O5,1095657827,1093750841,1093677913,1093684291,0,156,156)
elseif(i1==1332179560)then
call DSF(O5,1093682242,1093742660,1093682231,1093687627,0,10,9)
elseif(i1==1214344551)then
call DSF(O5,1093677402,1093809742,1093815628,1093678938,0,152,20)
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
call DSF(O5,1093681461,1093681464,0,1093681479,0,3,11)
elseif(i1==1215130471)then
call DSF(O5,0,0,0,1093679160,0,16,23)
elseif(i1==1211117636)then
call DSF(O5,1093685041,1093685071,1093681732,1093685042,1093810233,155,16)
elseif(i1==1160786000)then
call DSF(O5,1093685046,1093685047,1093685048,1093685045,1093747249,19,25)
elseif(i1==1311781193)then
call DSF(O5,1093685043,1093750345,1093683532,1095656306,0,6,11)
elseif(i1==1311781206)then
call DSF(O5,1093684054,1093684280,1093684302,1093684053,0,14,12)
elseif(i1==1211117649)then
call DSF(O5,1093685584,1093685582,1093685585,1093685586,1093747251,11,11)
elseif(i1==1160786265)then
call DSF(O5,1093685839,1093748033,1093685846,1093685840,0,9,10)
elseif(i1==1311780930)then
call DSF(O5,1093686073,1093686083,1093686082,1093686072,1093751120,13,18)
elseif(i1==1311787088)then
call DSF(O5,1093750087,1093748819,1093748817,1093750089,48,1,1)
elseif(i1==1211119409)then
call DSF(O5,1093749069,1093749303,1093748818,1093749070,48,1,1)
elseif(i1==1160785970)then
call DSF(O5,1093748023,1093747792,1093748022,1093747023,1093752150,1,1)
elseif(i1==1160786506)then
call DSF(O5,1093751894,1093751639,1093751637,1093752118,48,1,1)
elseif(i1==1160786505)then
call DSF(O5,1093753167,1093751607,1093753170,1093753169,48,1,1)
elseif(i1==1160786502)then
call DSF(O5,1093751370,1093753176,1093753177,1093751371,48,1,1)
elseif(i1==1160786520)then
call DSF(O5,1093809990,1093809991,1093810006,1093809992,48,1,1)
if AK7(Player(O5))then
set GQ7=true
endif
elseif(i1==1211117652)then
call DSF(O5,1093687860,1093687861,1093687862,1093687864,1093747542,1,1)
elseif(i1==1211117653)then
call DSF(O5,1093808471,1093808472,1093808470,1093808473,1093748565,1,1)
elseif(i1==1311786311)then
call DSF(O5,1093743178,1093743179,1093743689,1093743184,1093747766,1,1)
elseif(i1==1160786510)then
call DSF(O5,1093751631,1093751633,1093808697,1093751861,1093808949,1,1)
elseif(i1==1328558406)then
call DSF(O5,1093751873,1093751864,1093810257,1093751874,0,1,1)
elseif(i1==1211117651)then
call DSF(O5,1093743696,1093743698,1093685591,1093743695,0,1,1)
elseif(i1==1328558390)then
call DSF(O5,1093748044,1093744982,1093744986,1093744975,0,1,1)
elseif(i1==1160786504)then
call DSF(O5,1093751608,1093751618,1093751604,1093751617,0,1,1)
elseif(i1==1311788336)then
call DSF(O5,1093814323,1093814320,1093814355,1093814859,0,1,1)
elseif(i1==1160786507)then
call DSF(O5,1093814850,1093814834,1093813593,1093813065,0,1,1)
elseif(i1==1211122767)then
call DSF(O5,1093812805,1093814612,1093814350,1093812807,0,1,1)
elseif(i1==1160786738)then
call DSF(O5,1093813835,1093813555,1093813556,1093813557,0,1,1)
else
call DSF(O5,HM4[GetUnitPointValue(it)],HN4[GetUnitPointValue(it)],HO4[GetUnitPointValue(it)],HP4[GetUnitPointValue(it)],HQ4[GetUnitPointValue(it)],1,1)
endif
set bj_forLoopAIndex=O5
call DQF(i1)
endfunction
function DAF takes nothing returns nothing
call OP9(GetTriggerUnit())
if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)then
if(GetUnitTypeId(GetTriggerUnit())!=1211117642)then
call ExecuteFunc("UD")
else
call ExecuteFunc("xh")
endif
elseif(GetUnitTypeId(GetTriggerUnit())!=1211117642)then
if not(((QA4!=null)and(IsTriggerEnabled(QA4)))and(((GetOwningPlayer(GetTriggerUnit())==QT4)and(QV4!=null))or((GetOwningPlayer(GetTriggerUnit())==QU4)and(QW4!=null))))then
set bj_lastLoadedUnit=GetTriggerUnit()
call DZF(GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit)),bj_lastLoadedUnit,GetUnitTypeId(bj_lastLoadedUnit))
call ExecuteFunc("DBF")
endif
endif
endfunction
function DCF takes integer O5,integer QH7 returns nothing
local integer D3F=0
local real x
local real y
local integer D6F=KL4
local integer DLF=K54
local integer kg=0
local player pl=Player(O5)
local integer i=0
set EZ7="AI_DraftAIPlayers"
if(AM7(pl)and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(M7[GetPlayerId(pl)]==null))then
if(((AG7(pl))and(not P4))or((P4)and(GetRandomInt(1,2)==1)))then
set D6F=KL4
set DLF=K14
else
set D6F=K04
set DLF=K54
endif
if(AG7(pl))then
set x=GetRandomReal(GetRectMinX(ED),GetRectMaxX(ED))
set y=GetRandomReal(GetRectMinY(ED),GetRectMaxY(ED))
else
set x=GetRandomReal(GetRectMinX(L9),GetRectMaxX(L9))
set y=GetRandomReal(GetRectMinY(L9),GetRectMaxY(L9))
endif
set eY[GetPlayerId(pl)]=0
loop
set D3F=GetRandomInt(D6F,DLF)
if((not J[D3F])and(QG7(K34[D3F],QH7)or i>20))then
set M7[GetPlayerId(pl)]=CreateUnit(pl,K34[D3F],x,y,bj_UNIT_FACING)
endif
set i=i+1
exitwhen(M7[GetPlayerId(pl)]!=null)
endloop
if(not(E4 or O4 or A8 or H34))then
call AdjustPlayerStateBJ(-250,pl,PLAYER_STATE_RESOURCE_GOLD)
endif
endif
set pl=null
endfunction
function SEv takes nothing returns nothing
if(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))then
if(GetUnitTypeId(GetEnumUnit())==1429221430)then
call ExecuteFunc("LE8")
endif
elseif((GetUnitTypeId(GetEnumUnit())==1848651828)or(GetUnitTypeId(GetEnumUnit())==1848652088)or(GetUnitTypeId(GetEnumUnit())==1848652099)or(GetUnitTypeId(GetEnumUnit())==1848652103))then
call RemoveUnit(GetEnumUnit())
endif
endfunction
function D1F takes player pl,boolean D0F returns nothing
local integer D6F
local integer DLF
local integer D3F
local integer O5=GetPlayerId(pl)
local integer QH7=U97(GetHandleId(pl),"AI|Class")
local integer i=0
set EZ7="SXv"
if(((AG7(pl))and(not P4))or((P4)and(GetRandomInt(1,2)==1)))then
set D6F=KL4
set DLF=K14
else
set D6F=K04
set DLF=K54
endif
if(D0F)then
if P4 or Y8 then
set X4=100
endif
call AdjustPlayerStateBJ(-1*X4,pl,PLAYER_STATE_RESOURCE_GOLD)
endif
call GroupClear(H8)
set bj_groupEnumOwningPlayer=pl
call GroupEnumUnitsInRect(H8,GetWorldBounds(),filterGetUnitsInRectOfPlayer)
call ForGroup(H8,function SI9)
call D38(M7[O5])
set M7[O5]=null
set I[O5]=true
loop
set D3F=GetRandomInt(D6F,DLF)
if(J[D3F]==false and(QG7(K34[D3F],QH7)or i>20))then
set J[D3F]=true
if(AG7(pl))then
set M7[O5]=CreateUnit(pl,K34[D3F],GetRectCenterX(HD),GetRectCenterY(HD),bj_UNIT_FACING)
else
set M7[O5]=CreateUnit(pl,K34[D3F],GetRectCenterX(GD),GetRectCenterY(GD),bj_UNIT_FACING)
endif
call B97(K34[D3F])
endif
set i=i+1
exitwhen M7[O5]!=null
endloop
endfunction
function D5F takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local player pl=RZ7(S2I(SubString(VH,9,StringLength(VH))))
set EZ7="D5F"
if((pl!=null)and(AM7(pl))and(IsPlayerInForce(pl,QX4)))then
if((IsPlayerAlly(GetTriggerPlayer(),pl))or(T77(not IsPlayerAlly(GetTriggerPlayer(),Z7[0]))==null))then
if((I[GetPlayerId(pl)])or(M7[GetPlayerId(pl)]==null))then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Cannot repick")
elseif(Bz>60.)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Too late to repick")
else
call D1F(pl,false)
endif
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Cannot force repick on enemies with human ally")
endif
endif
set pl=null
endfunction
function D2F takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local integer D_F=1
local boolean O6=IsPlayerAlly(GetTriggerPlayer(),Z7[0])
local boolean E4F
set EZ7="D2F"
if((P)and((VH=="-pa")or(VH=="-pe"))and oo[GetPlayerId(GetTriggerPlayer())]==false)then
set Gs=true
if(VH=="-pa")then
set E4F=O6
else
set E4F=not O6
endif
loop
if(AK7(T47(D_F,E4F))and M7[GetPlayerId(T47(D_F,E4F))]==null)then
exitwhen true
endif
set D_F=D_F+1
exitwhen(D_F>5)
endloop
if((D_F<=5)and(T87(O6)==null))then
if((M7[GetPlayerId(T77(O6))]==null)and(not oo[GetPlayerId(T77(O6))]))then
if(O6)then
set QV4=T47(D_F,E4F)
else
set QW4=T47(D_F,E4F)
endif
if(not P4)then
call SetUnitOwner(h4[512+GetPlayerId(T77(O6))],T87(O6),false)
call SetUnitOwner(h4[512+GetPlayerId(T87(O6))],T77(O6),false)
if VH=="-pe" then
set nc=CreateUnitAtLoc(T77(O6),1848651843,GetRectCenter(pr),0)
set Vc=CreateUnitAtLoc(T77(O6),1848651843,GetRectCenter(qr),0)
if not P4 then
call BF7(GetTriggerPlayer())
endif
endif
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Pick a hero for "+Q[GetPlayerId(T87(O6))]+GetPlayerName(T87(O6))+"|r. Type "+F27+"-px|r to cancel.")
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"You should pick heroes for the AI before choosing your own hero. Randomized instead.")
call DCF(GetPlayerId(T47(D_F,E4F)),0)
endif
elseif(T87(O6)!=null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"Already picking for "+Q[GetPlayerId(T87(O6))]+GetPlayerName(T87(O6))+"|r")
endif
elseif(VH=="-px")then
if not P4 then
call BG7(GetTriggerPlayer())
endif
if(T87(O6)!=null)then
call SetUnitOwner(h4[512+GetPlayerId(T77(O6))],T77(O6),false)
call SetUnitOwner(h4[512+GetPlayerId(T87(O6))],T87(O6),false)
call RemoveUnit(nc)
call RemoveUnit(Vc)
set nc=null
set Vc=null
if(O6)then
set QV4=null
else
set QW4=null
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"Picking cancelled")
endif
elseif((not P)and((VH=="-pa")or(VH=="-pe")))then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"|c00888888Too early to pick a hero.|r")
endif
endfunction
function E7F takes nothing returns boolean
local integer O5=1
set EZ7="E7F"
loop
exitwhen O5>5
if(AJ7(Z7[O5])and(M7[GetPlayerId(Z7[O5])]==null))then
return true
elseif(AJ7(A7[O5])and(M7[GetPlayerId(A7[O5])]==null))then
return true
endif
set O5=O5+1
endloop
return false
endfunction
function E8F takes nothing returns nothing
local integer O5=1
local boolean array E9F
local integer i
local integer j
set EZ7="E8F"
if(Bz<68.)then
if(((W8)or(not Gs))and(Bz>43.))then
elseif(E7F()or Bz<30.)then
return
else
call QA7(1.)
endif
endif
call DestroyTrigger(GetTriggeringTrigger())
call DisableTrigger(QA4)
if(QV4!=null)then
call DisplayTimedTextToPlayer(QT4,0,0,5.,"Picking for AI has ended.")
call SetUnitOwner(h4[512+GetPlayerId(QT4)],QT4,false)
call SetUnitOwner(h4[512+GetPlayerId(QV4)],QV4,false)
call RemoveUnit(nc)
call RemoveUnit(Vc)
set nc=null
set Vc=null
set QV4=null
endif
if(QW4!=null)then
call DisplayTimedTextToPlayer(QU4,0,0,5.,"Picking for AI has ended.")
call SetUnitOwner(h4[512+GetPlayerId(QU4)],QU4,false)
call SetUnitOwner(h4[512+GetPlayerId(QW4)],QW4,false)
call RemoveUnit(nc)
call RemoveUnit(Vc)
set nc=null
set Vc=null
set QW4=null
endif
if((E4)or(A8)or(O4)or(H34)or(O04)or(O9)or(RZ4)or(SN4))then
return
endif
set O5=1
loop
exitwhen O5>5
if M7[GetPlayerId(Z7[O5])]!=null then
set E9F[QE7(GetUnitTypeId(M7[GetPlayerId(Z7[O5])]))]=true
endif
if M7[GetPlayerId(A7[O5])]!=null then
set E9F[6+QE7(GetUnitTypeId(M7[GetPlayerId(A7[O5])]))]=true
endif
set O5=O5+1
endloop
if HB4<=4 then
set E9F[F77]=true
endif
if HB4<=3 then
if GetRandomInt(0,2)==0 then
set E9F[F87]=true
else
set E9F[F97]=true
endif
endif
if HB4<=2 then
if E9F[F87]then
set E9F[F97]=true
else
set E9F[F87]=true
endif
endif
if HC4<=4 then
set E9F[6+F77]=true
endif
if HC4<=3 then
if GetRandomInt(0,2)==0 then
set E9F[6+F87]=true
else
set E9F[6+F97]=true
endif
endif
if HC4<=2 then
if E9F[F87]then
set E9F[6+F97]=true
else
set E9F[6+F87]=true
endif
endif
set O5=1
loop
exitwhen O5>5
if(AK7(Z7[O5])and(M7[GetPlayerId(Z7[O5])]==null))then
set j=0
loop
exitwhen j>5
set i=GetRandomInt(1,5)
if E9F[i]then
set i=0
else
exitwhen true
endif
set j=j+1
endloop
if i==0 then
set i=5
loop
exitwhen(not E9F[i])or i==0
set i=i-1
endloop
endif
call DCF(GetPlayerId(Z7[O5]),i)
if not(i==0 or QG7(GetUnitTypeId(M7[GetPlayerId(Z7[O5])]),i))then
set i=QE7(GetUnitTypeId(M7[GetPlayerId(Z7[O5])]))
endif
set E9F[i]=true
call TF7(GetHandleId(Z7[O5]),"AI|Class",i)
call QA7(1.0)
endif
if(AK7(A7[O5])and(M7[GetPlayerId(A7[O5])]==null))then
set j=0
loop
exitwhen j>5
set i=GetRandomInt(1,5)
if E9F[6+i]then
set i=0
else
exitwhen true
endif
set j=j+1
endloop
if i==0 then
set i=5
loop
exitwhen(not E9F[6+i])or i==0
set i=i-1
endloop
endif
call DCF(GetPlayerId(A7[O5]),i)
if not(i==0 or QG7(GetUnitTypeId(M7[GetPlayerId(A7[O5])]),i))then
set i=QE7(GetUnitTypeId(M7[GetPlayerId(A7[O5])]))
endif
set E9F[6+i]=true
call TF7(GetHandleId(A7[O5]),"AI|Class",i)
call QA7(1.0)
endif
set O5=O5+1
endloop
endfunction
function EDF takes unit it,integer EEF returns nothing
call SetPlayerAbilityAvailable(GetOwningPlayer(it),EEF,true)
call SelectHeroSkill(it,EEF)
endfunction
function EFF takes integer i1 returns boolean
return(((i1==1311781174)or(i1==1311781175)or(i1==1311781442)))
endfunction
function EGF takes integer i1 returns boolean
return((i1==1430468406)or(i1==1316252014)or(i1==1429221456)or(i1==1432646245)or((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))or(i1==1215657064)or(i1==1311781207)or(i1==1311780946)or(i1==1315074670)or(i1==1164666213)or(i1==1429221441))
endfunction
function EHF takes nothing returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1=GetUnitTypeId(it)
local integer EIF=0
local integer EJF=0
local integer EKF=0
local integer EMF=0
local integer kt=0
local integer UP
local player ENF=GetOwningPlayer(it)
local integer EOF=0
set EZ7="EHF"
if(Z84[GetPlayerId(ENF)]==ZD4)then
set EOF=1
elseif(Z84[GetPlayerId(ENF)]==ZE4)then
set EOF=2
elseif(Z84[GetPlayerId(ENF)]==ZF4)then
set EOF=3
endif
loop
call TriggerSleepAction(0.1)
set EKF=GetHeroSkillPoints(it)
exitwhen((EIF>10)or(EKF==0)or(EJF>25)or(not R37(it)))
set kt=GetHeroLevel(it)+1-EKF
if((kt<=14)and(EIF<7))then
set EMF=GetRandomInt(0,2)
else
set EMF=GetRandomInt(0,4)
endif
if(EIF==0)then
set EMF=0
if((kt==6)or(kt==11)or(kt==16))then
set EMF=3
elseif(kt>=15)then
set EMF=4
endif
endif
if(EMF==3)then
if((EGF(i1))and(kt<10))then
set EMF=GetRandomInt(0,1)
elseif((i1==1311781199)and(kt<14))then
set EMF=GetRandomInt(0,2)
endif
elseif(EIF==0)then
if((EGF(i1))and(kt==10))then
set EMF=3
elseif((i1==1311781199)and((kt==14)or(kt==15)))then
set EMF=3
endif
endif
if((EMF==2)and(kt<10))then
set EMF=GetRandomInt(0,1)
endif
if(((i1==1215722344)or(i1==1311781207))and(EIF<2))then
if((kt==2)or(kt==5))then
set EMF=2
elseif(((kt==10)or(kt==12))and(EMF==2))then
set EMF=GetRandomInt(0,1)
endif
elseif(((i1==1430466609)or(i1==1164207469)or(i1==1162032181)or(i1==1429221456)or(i1==1164799603)or(i1==1212365106)or(i1==1311781206)or(i1==1311780930))and(EIF<2))then
if(kt==1)then
set EMF=2
elseif((kt==10)and(EMF==2))then
set EMF=GetRandomInt(0,1)
endif
elseif((i1==1432642913)and(kt==2)and(EIF<3))then
set EMF=2
endif
if((i1==1160786241)and(EIF<3))then
if((kt<=16)and(EMF==2))then
set EMF=4
elseif(((kt==17)or(kt==18)or(kt==19)or(kt==20))and(EMF==4))then
set EMF=2
endif
elseif((i1==1432510828)and(EIF<3))then
if((kt==1)or(kt==4)or(kt==8)or(kt==12))then
set EMF=0
elseif((kt==2)or(kt==5)or(kt==9)or(kt==13))then
set EMF=1
elseif((kt==3)or(kt==7)or(kt==10)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1332179560)and(EIF<3))then
if((kt==1)or(kt==4)or(kt==6)or(kt==17))then
set EMF=2
elseif((kt==9)or(kt==11)or(kt==16))then
set EMF=3
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set EMF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=0
else
set EMF=4
endif
elseif((i1==1429221430)and(EIF<3))then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==1)or(kt==10)or(kt==13)or(kt==14))then
set EMF=1
elseif((kt==4)or(kt==8)or(kt==9)or(kt==12))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1211117641)and(EIF<3))then
if((kt==1)or(kt==8)or(kt==10)or(kt==18))then
set EMF=0
elseif((kt==3)or(kt==15)or(kt==19)or(kt==25))then
set EMF=2
elseif((kt==7)or(kt==9)or(kt==12)or(kt==13))then
set EMF=1
elseif((kt<=14)and(EMF!=3))then
set EMF=4
endif
elseif((i1==1214344551)and(EIF<3))then
if((kt==3)or(kt==12)or(kt==13)or(kt==14))then
set EMF=0
elseif((kt==1)or(kt==5)or(kt==8)or(kt==10))then
set EMF=1
elseif((kt==2)or(kt==4)or(kt==7)or(kt==9))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1165451634)and(EIF<3))then
if((kt==1)or(kt==23)or(kt==24)or(kt==25))then
set EMF=0
elseif((kt==2)or(kt==4)or(kt==7)or(kt==8))then
set EMF=1
elseif((kt==13)or(kt==14)or(kt==15)or(kt==17))then
set EMF=2
elseif((kt<=17)and(EMF!=3))then
set EMF=4
endif
elseif((i1==1160785972)and(EIF<3))then
if((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set EMF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set EMF=1
elseif((kt==1)or(kt==8)or(kt==9)or(kt==10))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1313026096)and(EIF<3))then
if((kt==12)or(kt==13)or(kt==14)or(kt==15))then
set EMF=1
elseif((kt==17)or(kt==18)or(kt==19)or(kt==20))then
set EMF=2
elseif((kt<=12)and(EMF!=3)and(EMF!=0))then
set EMF=4
endif
elseif((i1==1430468913)and(EIF<3))then
if((kt==10)or(kt==11)or(kt==12)or(kt==13))then
set EMF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set EMF=1
elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
endif
elseif((i1==1215657064)and(EIF<3))then
if((kt==2)or(kt==8)or(kt==9)or(kt==25))then
set EMF=1
elseif((kt==4)or(kt==10)or(kt==11)or(kt==12))then
set EMF=2
elseif((kt==6)or(kt==15)or(kt==16))then
set EMF=3
elseif((kt<=20)and(EMF!=0))then
set EMF=4
endif
elseif((i1==1160785973)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=1
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1332766568)and(EIF<3))then
if(EOF==1)then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==21)or(kt==22)or(kt==23)or(kt==24))then
set EMF=1
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif(EOF==2)then
if((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set EMF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=1
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif(EOF==3)then
if((kt==2)or(kt==8)or(kt==9)or(kt==12))then
set EMF=0
elseif((kt==3)or(kt==5)or(kt==13)or(kt==14))then
set EMF=1
elseif((kt==1)or(kt==4)or(kt==7)or(kt==10))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
else
if((kt==2)or(kt==8)or(kt==9)or(kt==12))then
set EMF=0
elseif((kt==3)or(kt==5)or(kt==13)or(kt==14))then
set EMF=1
elseif((kt==1)or(kt==4)or(kt==7)or(kt==10))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
endif
elseif((i1==1328558160)and(EIF<3))then
if((kt==1)or(kt==4)or(kt==6)or(kt==8))then
set EMF=0
elseif((kt==10)or(kt==16)or(kt==17)or(kt==18))then
set EMF=1
elseif((kt==12)or(kt==23)or(kt==24)or(kt==25))then
set EMF=2
elseif((kt==11)or(kt==19)or(kt==20))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1214931305)and(EIF<3))then
if((kt==4)or(kt==18)or(kt==19)or(kt==20))then
set EMF=0
elseif((kt==1)or(kt==13)or(kt==14)or(kt==15))then
set EMF=1
elseif((kt==2)or(kt==3)or(kt==6)or(kt==9))then
set EMF=2
elseif((kt==11)or(kt==16)or(kt==17))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1162032439)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==2)or(kt==9)or(kt==12)or(kt==14))then
set EMF=1
elseif((kt==4)or(kt==8)or(kt==10)or(kt==13))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1311781185)and(EIF<3))then
if((kt==1)or(kt==8)or(kt==9)or(kt==14))then
set EMF=0
elseif((kt==4)or(kt==10)or(kt==12)or(kt==13))then
set EMF=1
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1162032181)and(EIF<3))then
if((kt==3)or(kt==5)or(kt==7)or(kt==9))then
set EMF=0
elseif((kt==12)or(kt==13)or(kt==14)or(kt==15))then
set EMF=1
elseif((kt==1)or(kt==17)or(kt==18)or(kt==19))then
set EMF=2
elseif((kt==10)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif(((i1==1311781199)or(i1==1311781171))or((i1==1311781172)or(i1==1311781173))and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==2)or(kt==4)or(kt==8)or(kt==10))then
set EMF=1
elseif((kt==17)or(kt==18)or(kt==19)or(kt==20))then
set EMF=2
elseif((kt==11)or(kt==12)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1215128178)and(EIF<3))then
if((kt==3)or(kt==4)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==2)or(kt==18)or(kt==19)or(kt==20))then
set EMF=1
elseif((kt==8)or(kt==9)or(kt==10)or(kt==17))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))and(EIF<3)then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==1)or(kt==4)or(kt==7)or(kt==11))then
set EMF=1
elseif((kt==4)or(kt==8)or(kt==12)or(kt==13))then
set EMF=2
elseif((kt==6)or(kt==15)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif(((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))and(EIF<3))then
if((kt==4)or(kt==5)or(kt==12)or(kt==13))then
set EMF=0
elseif((kt==1)or(kt==3)or(kt==7)or(kt==9))then
set EMF=1
elseif((kt==17)or(kt==18)or(kt==19)or(kt==20))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1429221446)and(EIF<3))then
if((kt==2)or(kt==4)or(kt==7)or(kt==13))then
set EMF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==12))then
set EMF=1
elseif((kt==8)or(kt==9)or(kt==10)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1211117643)and(EIF<3))then
if((kt==1)or(kt==4)or(kt==7)or(kt==9))then
set EMF=0
elseif((kt==3)or(kt==13)or(kt==15)or(kt==17))then
set EMF=1
elseif((kt==2)or(kt==18)or(kt==20)or(kt==22))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1311787088)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set EMF=1
elseif((kt==12)or(kt==17)or(kt==18)or(kt==19))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1211117653)and(EIF<3))then
if((kt==4)or(kt==14)or(kt==15)or(kt==16)or(kt==18)or(kt==20)or(kt==21))then
set EMF=0
elseif((kt==6)or(kt==10)or(kt==19)or(kt==22)or(kt==23)or(kt==24)or(kt==25))then
set EMF=1
elseif((kt==1)or(kt==3)or(kt==5)or(kt==8)or(kt==9)or(kt==11)or(kt==13))then
set EMF=2
elseif((kt==2)or(kt==7)or(kt==12)or(kt==17))then
set EMF=3
endif
elseif(((i1==1211117620)or(i1==1160786505))and(EIF<3))then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))then
set EMF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1211119409)and(EIF<3))then
if((kt==3)or(kt==4)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==1)or(kt==8)or(kt==9)or(kt==10))then
set EMF=1
elseif((kt==2)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1160786502)and(EIF<3))then
if((kt==1)or(kt==8)or(kt==9)or(kt==10))then
set EMF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set EMF=1
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif(((i1==1211119187)or(i1==1211117636))and(EIF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set EMF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1433105516)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set EMF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1211117616)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==8)or(kt==9)or(kt==12)or(kt==14))then
set EMF=1
elseif((kt==2)or(kt==4)or(kt==10)or(kt==13))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1333027688)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set EMF=1
elseif((kt==2)or(kt==8)or(kt==9)or(kt==10))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1214345830)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==4)or(kt==8)or(kt==13)or(kt==14))then
set EMF=1
elseif((kt==2)or(kt==9)or(kt==10)or(kt==12))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1315988077)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==8)or(kt==9)or(kt==10)or(kt==12))then
set EMF=1
elseif((kt==13)or(kt==14)or(kt==15)or(kt==17))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1211117617)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==8)or(kt==9)or(kt==10)or(kt==12))then
set EMF=1
elseif((kt==2)or(kt==13)or(kt==14)or(kt==15))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1432580716)and(EIF<3))then
if((kt==2)or(kt==4)or(kt==6)or(kt==7))then
set EMF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==8))then
set EMF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1328558389)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set EMF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1162032951)and(EIF<3))then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))then
set EMF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1211117649)and(EIF<3))then
if((kt==9)or(kt==11)or(kt==12)or(kt==13))then
set EMF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=1
elseif((kt==2)or(kt==4)or(kt==8)or(kt==10))then
set EMF=2
elseif((kt==6)or(kt==15)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1429221445)and(EIF<3))then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==1)or(kt==9)or(kt==10)or(kt==12))then
set EMF=1
elseif((kt==4)or(kt==8)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1315074670)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==8)or(kt==10))then
set EMF=0
elseif((kt==5)or(kt==12)or(kt==13)or(kt==14))then
set EMF=1
elseif((kt==2)or(kt==4)or(kt==7)or(kt==9))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1315007329)and(EIF<3))then
if((kt==2)or(kt==4)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==3)or(kt==8)or(kt==9)or(kt==10))then
set EMF=1
elseif((kt==1)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1433631084)and(EIF<3))then
if((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=0
elseif((kt==2)or(kt==4)or(kt==7)or(kt==9))then
set EMF=1
elseif((kt==1)or(kt==3)or(kt==5)or(kt==8))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1311780946)and(EIF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==10))then
set EMF=0
elseif((kt==1)or(kt==3)or(kt==7)or(kt==9))then
set EMF=1
elseif((kt==5)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1429221441)and(EIF<3))then
if((kt==1)or(kt==4)or(kt==6)or(kt==8))then
set EMF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set EMF=1
elseif((kt==12)or(kt==13)or(kt==14)or(kt==15))then
set EMF=2
elseif((kt==10)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1315070563)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==10)or(kt==13)or(kt==15)or(kt==17))then
set EMF=1
elseif((kt==8)or(kt==9)or(kt==12)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1429221451)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==2)or(kt==8)or(kt==9)or(kt==10))then
set EMF=1
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1332963428)and(EIF<3))then
if((kt==4)or(kt==8)or(kt==10)or(kt==13))then
set EMF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=1
elseif((kt==2)or(kt==9)or(kt==12)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1211117646)and(EIF<3))then
if((kt==2)or(kt==6)or(kt==8)or(kt==10))then
set EMF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=1
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1430468406)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=1
elseif((kt==2)or(kt==4)or(kt==6)or(kt==8))then
set EMF=2
elseif((kt==9)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1429221424)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==4)or(kt==8)or(kt==9)or(kt==10))then
set EMF=1
elseif((kt==2)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1215723364)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set EMF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1160786242)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==4)or(kt==9)or(kt==12)or(kt==14))then
set EMF=1
elseif((kt==2)or(kt==8)or(kt==10)or(kt==13))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1430466865)and(EIF<3))then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==1)or(kt==8)or(kt==9)or(kt==10))then
set EMF=1
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1430468144)and(EIF<3))then
if((kt==2)or(kt==8)or(kt==9)or(kt==10))then
set EMF=0
elseif((kt==1)or(kt==3)or(kt==4)or(kt==7))then
set EMF=1
elseif((kt==5)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif(((i1==1211117650)or(i1==1211119433))and(EIF<3))then
if((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=0
elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))then
set EMF=1
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((((i1==1311781174)or(i1==1311781175)or(i1==1311781442)))and(EIF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==12))then
set EMF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=1
elseif((kt==9)or(kt==10)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1160786506)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set EMF=1
elseif((kt==2)or(kt==8)or(kt==9)or(kt==10))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1160785970)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=1
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1429221443)and(EIF<3))then
if((kt==2)or(kt==12)or(kt==13)or(kt==14))then
set EMF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=1
elseif((kt==4)or(kt==8)or(kt==9)or(kt==10))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1328558154)and(EIF<3))then
if((kt==4)or(kt==8)or(kt==9)or(kt==10))then
set EMF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=1
elseif((kt==2)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1164799855)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=0
elseif((kt==9)or(kt==12)or(kt==13)or(kt==14))then
set EMF=1
elseif((kt==2)or(kt==4)or(kt==8)or(kt==10))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1430467634)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==8)or(kt==9))then
set EMF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=1
elseif((kt==2)or(kt==4)or(kt==5)or(kt==7))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1160786520)and(EIF<3))then
if((kt==1)or(kt==4)or(kt==8)or(kt==9))then
set EMF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set EMF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif(((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=2
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set EMF=0
elseif((kt==2)or(kt==8)or(kt==9)or(kt==10))then
set EMF=1
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1212363833)and(EIF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=1
elseif((kt==2)or(kt==11)or(kt==12)or(kt==13))then
set EMF=0
elseif((kt==4)or(kt==8)or(kt==9)or(kt==10))then
set EMF=2
elseif((kt==6)or(kt==14)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1211117652)and(EIF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set EMF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set EMF=1
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1211117651)and(EIF<3))then
if((kt==3)or(kt==12)or(kt==13)or(kt==14))then
set EMF=0
elseif((kt==1)or(kt==8)or(kt==9)or(kt==10))then
set EMF=1
elseif((kt==2)or(kt==4)or(kt==5)or(kt==7))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1328558390)and(EIF<3))then
if((kt==2)or(kt==5)or(kt==8)or(kt==10))then
set EMF=0
elseif((kt==1)or(kt==4)or(kt==7)or(kt==9))then
set EMF=1
elseif((kt==3)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1160786504)and(EIF<3))then
if((kt==2)or(kt==12)or(kt==13)or(kt==14))then
set EMF=0
elseif((kt==3)or(kt==5)or(kt==8)or(kt==10))then
set EMF=1
elseif((kt==1)or(kt==4)or(kt==7)or(kt==9))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1160786510)and(EIF<3))then
if((kt==2)or(kt==5)or(kt==8)or(kt==10))then
set EMF=0
elseif((kt==1)or(kt==12)or(kt==14)or(kt==17))then
set EMF=1
elseif((kt==3)or(kt==4)or(kt==7)or(kt==9))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1328558406)and(EIF<3))then
if((kt==1)or(kt==19)or(kt==21)or(kt==23))then
set EMF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set EMF=1
elseif((kt==9)or(kt==11)or(kt==13)or(kt==16))then
set EMF=2
elseif((kt==6)or(kt==14)or(kt==17))then
set EMF=3
else
set EMF=4
endif
elseif(((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))and(EIF<3))then
if((kt==4)or(kt==8)or(kt==9)or(kt==10))then
set EMF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set EMF=1
elseif((kt==1)or(kt==12)or(kt==13)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1311788336)and(EIF<3))then
if((kt==2)or(kt==5)or(kt==8)or(kt==12))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
elseif((kt==1)or(kt==4)or(kt==7)or(kt==10))then
set EMF=1
elseif((kt==3)or(kt==9)or(kt==13)or(kt==14))then
set EMF=0
else
set EMF=4
endif
elseif((i1==1160786507)and(EIF<3))then
if((kt==2)or(kt==5)or(kt==8)or(kt==12))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
elseif((kt==1)or(kt==4)or(kt==7)or(kt==10))then
set EMF=1
elseif((kt==3)or(kt==9)or(kt==13)or(kt==14))then
set EMF=0
else
set EMF=4
endif
elseif((i1==1211122767)and(EIF<3))then
if((kt==3)or(kt==7)or(kt==10)or(kt==14))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
elseif((kt==2)or(kt==5)or(kt==9)or(kt==13))then
set EMF=1
elseif((kt==1)or(kt==4)or(kt==8)or(kt==12))then
set EMF=0
else
set EMF=4
endif
elseif((i1==1160786738)and(EIF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==10))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
elseif((kt==3)or(kt==12)or(kt==13)or(kt==14))then
set EMF=1
elseif((kt==1)or(kt==5)or(kt==7)or(kt==9))then
set EMF=0
else
set EMF=4
endif
elseif((i1==1211117624)and(EIF<3))then
if((kt==2)or(kt==9)or(kt==10)or(kt==12))then
set EMF=0
elseif((kt==1)or(kt==4)or(kt==13)or(kt==14))then
set EMF=1
elseif((kt==3)or(kt==5)or(kt==7)or(kt==8))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
elseif((i1==1164666213)and(EIF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set EMF=0
elseif((kt==10)or(kt==11)or(kt==12)or(kt==13))then
set EMF=1
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set EMF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set EMF=3
else
set EMF=4
endif
endif
if(i1==1430468406)then
if(EMF==0)then
call EDF(it,kT(it))
elseif(EMF==1)then
call SelectHeroSkill(it,1093677635)
elseif(EMF==2)then
call EDF(it,kS(it))
elseif(EMF==3)then
call EDF(it,W47(it))
endif
elseif(i1==1215130471)then
if(EMF==0)then
call EDF(it,W77(it))
elseif(EMF==1)then
call EDF(it,W87(it))
elseif(EMF==2)then
call EDF(it,W97(it))
elseif(EMF==3)then
call SelectHeroSkill(it,1093679160)
endif
else
if(EMF==0)then
call EDF(it,eY[128+O5])
if(i1==1315007329)then
set UP=GetUnitAbilityLevel(it,1093677108)
if(UP<=2)then
set hq[272+O5]=I2R(75*UP)
else
set hq[272+O5]=I2R(15+(57*UP))
endif
endif
elseif(EMF==1)then
if(i1==1315334514)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093682760,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093682736,true)
endif
call EDF(it,eY[144+O5])
if(i1==1214344551)then
set UP=GetUnitAbilityLevel(it,1093748535)
if(UP==1)then
set hq[272+O5]=85.
elseif(UP==2)then
set hq[272+O5]=70.
elseif(UP==3)then
set hq[272+O5]=55.
else
set hq[272+O5]=40.
endif
endif
elseif(EMF==2)then
if((i1==1311781199)or(i1==1311781171))or((i1==1311781172)or(i1==1311781173))then
call SelectHeroSkill(it,1093748039)
call SelectHeroSkill(it,1093748041)
call SelectHeroSkill(it,1093748040)
call SelectHeroSkill(it,1093748037)
call SelectHeroSkill(it,1093748038)
elseif(EFF(i1))then
call SelectHeroSkill(it,1096904043)
else
call EDF(it,eY[160+O5])
endif
elseif(EMF==3)then
call EDF(it,eY[172+O5])
if(eY[188+O5]!=0)then
call EDF(it,eY[188+O5])
endif
if(i1==1214931305)then
set UP=GetUnitAbilityLevel(it,1093677906)
if(UP==0)then
set UP=GetUnitAbilityLevel(it,1093681494)
endif
if(UP<=2)then
set hq[272+O5]=I2R(200+(100*UP))
else
set hq[272+O5]=600.
endif
elseif(i1==1332963428)then
set hq[272+O5]=I2R(85+(GetUnitAbilityLevel(it,1093677649)*135))
elseif(i1==1332898670)then
set UP=GetUnitAbilityLevel(it,1093677128)
if(UP==0)then
set UP=GetUnitAbilityLevel(it,1093681457)
endif
if(UP<=2)then
set hq[272+O5]=I2R(50+(150*UP))
else
set hq[272+O5]=610.
endif
elseif(i1==1162032951)then
set UP=GetUnitAbilityLevel(it,1093679152)
if(UP==0)then
set UP=GetUnitAbilityLevel(it,1093752154)
set hq[272+O5]=125.
else
if(UP<=2)then
set hq[272+O5]=I2R(105+(30*UP))
else
set hq[272+O5]=250.
endif
endif
elseif(i1==1328558154)then
set UP=GetUnitAbilityLevel(it,1093682996)
if(UP>0)then
if(UP==1)then
set TC4[64+O5]=400.
elseif(UP==2)then
set TC4[64+O5]=550.
else
set TC4[64+O5]=700.
endif
else
set UP=GetUnitAbilityLevel(it,1093747768)
if(UP>0)then
if(UP==1)then
set TC4[64+O5]=550.
elseif(UP==2)then
set TC4[64+O5]=700.
else
set TC4[64+O5]=850.
endif
endif
endif
endif
endif
endif
if(EMF==4)then
if((i1==1315334514)or(i1==1328558160)or(i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173)or((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))or(i1==1211117643)or(i1==1160786502)or(i1==1328558406)or(i1==1160786520)or(i1==1211122243)or(i1==1211119191)or(i1==1211119192)or(i1==1211119193)or(i1==1328558390)or(i1==1328558391)or(i1==1430468144)or(i1==1430467634)or(i1==1328558160)or(i1==1211117650)or(i1==1211119433))then
call SelectHeroSkill(it,1093684818)
elseif((EFF(i1))and(kt>21))then
call EDF(it,eY[160+O5])
call SelectHeroSkill(it,1096904043)
else
call SelectHeroSkill(it,1096904043)
endif
endif
set EIF=EIF+1
set EJF=EJF+1
if(EKF!=GetHeroSkillPoints(it))then
set EIF=0
endif
endloop
if(i1==1430468406)then
set eY[336+O5]=kT(it)
set eY[368+O5]=kS(it)
set eY[172+O5]=W47(it)
elseif(i1==1215130471)then
set eY[336+O5]=W77(it)
set eY[352+O5]=W87(it)
set eY[368+O5]=W97(it)
endif
set it=null
set ENF=null
endfunction
function EPF takes unit it returns integer
local integer i1=GetUnitTypeId(it)
set EZ7="tVv"
if((i1==1214344551)or(i1==1429221430)or(SG7(it,1952936552))or(SG7(it,1227894833))or(SG7(it,1868983399)))then
return 2
elseif((i1==1215722344)or(i1==1315007329)or(i1==1430468913)or(i1==1311781185))then
return 1
endif
return 0
endfunction
function EQF takes unit it returns boolean
local integer O5=1
local integer UP
local integer ERF=0
local boolean J4=false
local boolean ESF=false
local integer Iz
set EZ7="tXv"
loop
if(IsUnitAlly(it,Z7[0]))then
set UP=GetPlayerId(Z7[O5])
else
set UP=GetPlayerId(A7[O5])
endif
if((IsPlayerInForce(Player(UP),QX4))and(M7[UP]!=null))then
set Iz=EPF(M7[UP])
if(Iz==2)then
set ERF=ERF+1
set J4=true
elseif(Iz==1)then
set ERF=ERF+1
endif
set ESF=(ESF)or((Iz==0)and(SG7(M7[UP],1953265005))and(not SH7(M7[UP])))
endif
set O5=O5+1
exitwhen O5>5
endloop
if((ESF)and(not SG7(M7[UP],1953265005)))then
return false
endif
if(S27(IsUnitAlly(it,Z7[0]))==1)then
return((ERF==0)and(UE7(R44,VO7(it)+"|G")))
else
return(((not J4)and(UE7(R44,VO7(it)+"|G")))or(ERF<R2I(S27(IsUnitAlly(it,Z7[0]))/2)))
endif
endfunction
function ETF takes unit u returns boolean
local integer id=GetUnitTypeId(u)
set EZ7="RestrictedItems_Exception"
return id==1164277353 or id==1164277357 or id==1160786518 or id==1160786519 or id==1160786517
endfunction
function EUF takes unit LI7,item J08 returns nothing
local unit u=LI7
local integer IG8=GetUnitTypeId(u)
local integer EL9=RP7(J08)
set EZ7="RestrictedItems_UpdateMeleeRange"
if IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER)==true or IsUnitType(u,UNIT_TYPE_HERO)==false then
if EL9==X2 then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[W2])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==GB then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[BA])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==HZ then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[EZ])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==DX4 then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[DW4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==D94 then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[D84])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==F44 then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[E_4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==B0 then
if ETF(u)==false then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[Y0])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
elseif EL9==Y0 then
if ETF(u)==true then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[B0])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
elseif EL9==RB then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[QB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
else
if EL9==W2 then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[X2])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==BA then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[GB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==EZ then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[HZ])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==DW4 then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[DX4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==D84 then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[D94])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==E_4 then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[F44])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==Y0 then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[B0])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==QB then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[RB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
endif
set u=null
endfunction
function EVF takes unit LI7,item J08 returns nothing
local unit u=LI7
local integer IG8=GetUnitTypeId(u)
local integer EL9=RP7(J08)
set EZ7="RestrictedItems_UpdateMeleeRange2"
if IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER)==false or IsUnitType(u,UNIT_TYPE_HERO)==false then
if EL9==X2 then
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=UnitAddItemById(u,ZU[W2])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==GB then
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=UnitAddItemById(u,ZU[BA])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==HZ then
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=UnitAddItemById(u,ZU[EZ])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==DX4 then
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=UnitAddItemById(u,ZU[DW4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==D94 then
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=UnitAddItemById(u,ZU[D84])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==F44 then
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=UnitAddItemById(u,ZU[E_4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==B0 then
if ETF(u)==false then
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=UnitAddItemById(u,ZU[Y0])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
elseif EL9==RB then
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=UnitAddItemById(u,ZU[QB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
else
if EL9==W2 then
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=UnitAddItemById(u,ZU[X2])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==BA then
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=UnitAddItemById(u,ZU[GB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==EZ then
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=UnitAddItemById(u,ZU[HZ])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==DW4 then
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=UnitAddItemById(u,ZU[DX4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==D84 then
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=UnitAddItemById(u,ZU[D94])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==E_4 then
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=UnitAddItemById(u,ZU[F44])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==Y0 then
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=UnitAddItemById(u,ZU[B0])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EL9==QB then
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=UnitAddItemById(u,ZU[RB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
endif
set u=null
endfunction
function EWF takes unit LI7 returns nothing
local integer i=0
local item J08
set EZ7="RestrictedItems_UpdateMeleeRange_All"
call DisableTrigger(H94)
loop
exitwhen i>5
set J08=UnitItemInSlot(LI7,i)
if J08!=null then
call EVF(LI7,J08)
endif
set i=i+1
endloop
call EnableTrigger(H94)
set J08=null
endfunction
function EXF takes unit S4 returns integer
local integer i=0
local integer n=0
local integer H_8=UnitInventorySize(S4)-1
loop
exitwhen i>H_8
if UnitItemInSlot(S4,i)==null then
set n=n+1
endif
set i=i+1
endloop
return n
endfunction
function EYF takes integer i1 returns boolean
return((i1==EW or i1==HW)or i1==GY or i1==ZY or i1==ZX or i1==RZ or i1==Y3 or(i1>=XZ and i1<=YA)or(i1==B5 or i1==C5))
endfunction
function EZF takes integer EL9 returns boolean
return EL9==QC or EL9==TC or EL9==WC or EL9==YC
endfunction
function EAF takes integer i1 returns boolean
return((i1==UY)or(i1==MV)or(i1==OV)or(i1==HY)or(i1==BA)or(i1==JV)or(i1==SV)or(i1==YX)or(i1==JB)or(i1==RW)or(i1==NZ)or(i1==UV))or((i1==XC or i1==YC)or(i1==ZA)or(i1==ZY)or(i1==EZ or i1==HZ)or(i1==GY)or(i1==ZX)or(i1==RX)or(i1==NW)or(i1==VW)or(i1==CV)or(i1==FV)or(i1==E_4))
endfunction
function EBF takes integer O5,unit it returns boolean
local integer i=0
local integer i1=0
loop
exitwhen i>5
set i1=GetItemTypeId(UnitItemInSlot(it,i))
if i1==0 then
elseif(i1==ZU[CC])or(i1==ZU[WC])or(i1==ZU[EW])or(i1==ZU[HW])then
return true
elseif(i1==BU[CC])or(i1==BU[WC])or(i1==BU[EW])or(i1==BU[HW])then
return true
endif
set i1=GetItemTypeId(UnitItemInSlot(KU4[32+O5],i))
if i1==0 then
elseif(i1==ZU[CC])or(i1==ZU[WC])or(i1==ZU[EW])or(i1==ZU[HW])then
return true
elseif(i1==BU[CC])or(i1==BU[WC])or(i1==BU[EW])or(i1==BU[HW])then
return true
endif
set i=i+1
endloop
return false
endfunction
function ECF takes integer O5,unit it,item RQ7,integer i1,boolean E3F returns integer
set bj_forLoopAIndex=U97(1128887405,"Prio|"+I2S(GetHandleId(M7[O5]))+I2S(i1))
if bj_forLoopAIndex!=0 then
return bj_forLoopAIndex
endif
if(i1==X0)or(i1==B5 or i1==C5)or(CU[i1]==CU[FR4])then
return 101
elseif(RQ7!=null)and(GetItemPlayer(RQ7)!=Player(O5))and(i1!=K57[O5]and i1!=K57[16+O5])and(E3F or(E19(i1)==false and EYF(i1)==false))then
return-1
elseif(not E3F)and(i1==K57[O5]or i1==K57[16+O5])and(IsUnitType(it,UNIT_TYPE_HERO))then
if(i1==OC)and(GetUnitState(it,UNIT_STATE_MAX_MANA)>500)then
return-1
elseif((i1==QC)or(i1==TC))and(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1000)then
return-1
endif
return 97
elseif(i1==N3)or(i1==WL or i1==ZL)or(i1==AL)or(i1==LL or i1==DE4)or(i1>=D1 and i1<=H1)or(i1==P1)or(i1==T2)or(i1==Q1)or(i1==R1)or(i1==U1)or(i1==V1)or(i1==X1)or(i1>=D0 and i1<=R0)or(i1==Y0 or i1==B0)or(i1==C0)or(i1>=F5 and i1<=N5)or(i1==R5 or i1==S5 or i1==T5)or(i1==W5 or i1==A5)or(i1==L5)or(i1==E2 or i1==F2)or(i1==H2 or i1==P2)or(i1==R2 or i1==S2)or(i1==W2 or i1==X2)or(i1==Z2)or(i1==D44)or(i1==D74)or(i1==DG4)or(i1==DH4)or(i1==DI4)or(i1==DJ4)or(i1==DK4 or i1==DM4 or i1==DN4 or i1==DO4)or(i1==DP4 or i1==DQ4)or(i1==DR4)or(i1==DU4)or(i1==DV4)or(i1==DA4)or(i1==E24)or(i1==FC)or(i1==R3)or(i1==U3)then
return 100
elseif(i1==RW or i1==TW)or(i1==A1)or(i1==J1 or i1==O1)then
return 99
elseif(i1==F6 or i1==G6 or i1==H6 or i1==N6 or i1==DS4 or i1==LB or i1==EC or i1==F74)then
if K07[304+O5]!=null and GetWidgetLife(K07[304+O5])>0 and K27[304+O5]!=i1 and IsUnitType(it,UNIT_TYPE_HERO)then
return-1
else
return 100
endif
elseif(i1==FV)then
if K07[304+O5]!=null and K27[304+O5]!=i1 and IsUnitType(it,UNIT_TYPE_HERO)then
return-1
else
return 99
endif
elseif(i1==XC or i1==YC)then
if E3F or K_7[64+O5]then
return 1
else
return 98
endif
elseif(i1==S6 or i1==V6)then
return 98
elseif(i1==D84 or i1==D94)then
return 23
elseif(i1==EW or i1==HW)then
if E3F then
return 2
else
return 22
endif
elseif(i1==VC)or(i1==WC)or(i1==CC)or(i1==H3)then
if E3F then
return 1
else
return 15
endif
elseif(i1==SY)then
return 21
elseif(i1==BV)or(i1==YW)or(i1==GX)then
return 20
elseif(i1==Y3)then
return 19
elseif(i1==T1)or(i1==DY4 or i1==DZ4)then
return 18
elseif(i1==OL or i1==RL)then
return 17
elseif(i1==AV)or(i1==OW)or(i1==NZ)then
return 16
elseif(i1==VB or i1==WB)then
return 15
elseif(i1==RX)then
if(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1500.)then
return 10
else
return 15
endif
elseif(i1>=XZ and i1<=JA)then
return 14
elseif(i1==M3)then
return 13
elseif(i1==ZW)or(i1==UZ)or(i1==JB)or(i1==W6)then
return 12
elseif(i1==XV)or(i1==SX)then
return 11
elseif(i1==TV)or(i1==WX)then
return 10
elseif(i1==CV)or(i1==OZ)or(i1==ZX)or(i1==RZ)then
return 9
elseif(i1==ZA)or(i1==DT4)or(i1==E54)then
if(GetUnitState(it,UNIT_STATE_MAX_MANA)>500.)then
return 8
else
return 12
endif
elseif(i1==QV)or(i1==NX)or(i1==DZ)or(i1==NW)or(i1==VW)or(i1==YX)or(i1==JC or i1==NC)then
return 9
elseif(i1==BA)or(i1==C3 or i1==E6)or(i1==DW4 or i1==DX4)then
return 8
elseif(i1==E_4 or i1==F44)then
return 7
elseif(i1==A6 or i1==DL or i1==HL)then
return 6
elseif(i1==Z3)or(i1==B3)then
return 5
elseif(i1==JV)or(i1==MV)or(i1==OV)or(i1==HY)or(i1==SV)or(i1==UV)then
return 4
elseif(i1==GB)or(i1==GY)or(i1==ZY)or(i1==EZ or i1==HZ)then
return 3
elseif(i1==NV)or(i1==LV)or(i1==UW)or(i1==UY)or(i1==AX)then
return 2
elseif(i1==OC)or(i1==QC)or(i1==TC)or(i1==ZC)or(i1==AC)or(i1==DF4)then
return 1
elseif(i1==QW)then
return 0
elseif(i1>=DB4 and i1<=FG4)then
return-1
elseif(i1==QB or i1==RB)or(i1==PC)or(i1==BC)or(i1==LC)or(i1==DD4)then
return-1
endif
return-1
endfunction
function E6F takes integer O5,unit it,boolean ELF returns integer
local integer i=0
local integer j=0
local item RQ7=null
loop
exitwhen i>5
set RQ7=UnitItemInSlot(it,i)
if RQ7==null then
set j=j+1
elseif ELF then
if(ECF(O5,it,RQ7,RO7(RQ7),false)<99)then
set j=j+1
endif
endif
set i=i+1
endloop
set RQ7=null
return j
endfunction
function E1F takes integer O5,unit it,item RQ7,integer i1 returns boolean
if(IsItemPowerup(RQ7))then
if i1==0 then
set i1=RO7(RQ7)
endif
set bj_lastCreatedItem=CreateItem(ZU[i1],GetUnitX(it),GetUnitY(it))
call SetItemVisible(bj_lastCreatedItem,MI7)
call SetItemPlayer(bj_lastCreatedItem,Player(O5),false)
call SetItemCharges(bj_lastCreatedItem,GetItemCharges(RQ7))
call RemoveItem(RQ7)
set RQ7=bj_lastCreatedItem
endif
set EN7=UnitAddItem(it,RQ7)
return EN7
endfunction
function E0F takes nothing returns nothing
local item XO8=GetEnumItem()
local unit u=OI4
local player p=GetOwningPlayer(u)
local integer id=GetPlayerId(p)
if GetWidgetLife(XO8)>0 and GetItemPlayer(XO8)==p then
call SetItemPosition(XO8,KV4[id],KW4[id])
call SetItemVisible(XO8,MI7)
call E1F(id,KU4[id],XO8,0)
endif
set XO8=null
set u=null
set p=null
endfunction
function E5F takes nothing returns boolean
return RJ7(GetFilterUnit())or RK7(GetFilterUnit())
endfunction
function E2F takes integer O5 returns nothing
local integer i=0
local unit u=null
local item RQ7=null
set EZ7="E_F"
call GroupEnumUnitsInRange(H8,GetUnitX(KU4[32+O5]),GetUnitY(KU4[32+O5]),1300,Condition(function E5F))
loop
set u=FirstOfGroup(H8)
exitwhen u==null
call GroupRemoveUnit(H8,u)
set i=0
loop
exitwhen i>5
set RQ7=UnitItemInSlot(u,i)
if RQ7!=null and GetItemPlayer(RQ7)==Player(O5)then
call UnitRemoveItem(u,RQ7)
call SetItemPosition(RQ7,KV4[O5],KW4[O5])
if not UnitAddItem(KU4[32+O5],RQ7)then
call SetItemVisible(RQ7,MI7)
endif
endif
set i=i+1
endloop
endloop
set OI4=KU4[32+O5]
if IsPlayerAlly(Player(O5),Z7[0])then
call EnumItemsInRect(OD,Condition(function A47),function E0F)
else
call EnumItemsInRect(PD,Condition(function A47),function E0F)
endif
set u=null
set RQ7=null
endfunction
function F4F takes integer O5,integer j returns nothing
local integer i
set i=0
loop
exitwhen i>23
if K07[O5*24+i]!=null then
call SetItemUserData(K07[O5*24+i],j)
endif
set i=i+1
endloop
endfunction
function F7F takes nothing returns nothing
local integer i
local integer j
local integer i1
local unit it=MN7
local integer O5=MO7
if it==null then
set it=M7[O5]
endif
set i=12
set j=E6F(O5,KU4[32+O5],false)
set eY[512+O5]=1
loop
exitwhen(i>=K57[128+O5])or(j<=0)
if(K07[O5*24+i]!=null)then
if(GetWidgetLife(K07[O5*24+i])>0)and(not IsItemOwned(K07[O5*24+i]))then
call E1F(O5,KU4[32+O5],K07[O5*24+i],K27[O5*24+i])
set j=j-1
endif
set K07[O5*24+i]=null
endif
set i=i+1
endloop
set i=0
loop
exitwhen i>5
set K07[O5*24+i]=UnitItemInSlot(it,i)
set K27[O5*24+i]=RO7(K07[O5*24+i])
if(K07[304+O5]==null or GetWidgetLife(K07[304+O5])<=0 or K27[O5*24+i]==F6)and(K27[O5*24+i]==FV or K27[O5*24+i]==G6 or K27[O5*24+i]==H6 or K27[O5*24+i]==N6 or K27[O5*24+i]==DS4 or K27[O5*24+i]==LB or K27[O5*24+i]==EC or K27[O5*24+i]==F74 or K27[O5*24+i]==F6)and(IsUnitType(it,UNIT_TYPE_HERO))then
set K07[304+O5]=K07[O5*24+i]
set K27[304+O5]=K27[O5*24+i]
endif
set K07[O5*24+6+i]=UnitItemInSlot(KU4[32+O5],i)
set K27[O5*24+6+i]=RO7(K07[O5*24+6+i])
set i=i+1
endloop
set i=12
set j=12
loop
exitwhen i>23
if K07[O5*24+i]!=null then
if i!=j then
set K07[O5*24+j]=K07[O5*24+i]
set K27[O5*24+j]=K27[O5*24+i]
set K07[O5*24+i]=null
endif
set j=j+1
endif
set i=i+1
endloop
if j<12 then
set K57[128+O5]=12
else
set K57[128+O5]=j
endif
set it=null
endfunction
function F8F takes integer O5,unit it returns nothing
set MN7=it
set MO7=O5
call ExecuteFunc("F7F")
endfunction
function F9F takes integer O5 returns integer
local integer i=0
local integer j=6
call F8F(O5,M7[O5])
loop
exitwhen(i>=K57[128+O5])
if(K07[O5*24+i]!=null)and(GetWidgetLife(K07[O5*24+i])>0)and(ECF(O5,M7[O5],K07[O5*24+i],K27[O5*24+i],false)>=99)then
set j=j-1
endif
set i=i+1
endloop
return j
endfunction
function FDF takes unit it,integer i1 returns boolean
return((i1==LL or i1==DE4)or(i1>=D1 and i1<=H1)or(i1==J1 or i1==O1)or(i1==P1)or(i1==T2)or(i1==V1)or((i1==W2 or i1==X2)and IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER))or(i1==BA or i1==GB))
endfunction
function FEF takes unit it,integer i1 returns boolean
return((i1>=D1 and i1<=H1)or(i1==V1)or(i1==W2 or i1==X2)or(i1==E_4 or i1==F44))
endfunction
function FFF takes integer O5,unit it,integer i1 returns boolean
local boolean FGF=FDF(it,i1)
local boolean FHF=FEF(it,i1)
local integer i=GetUnitTypeId(it)
if(i==1162032951)or(i==1160785972)or(i==1429221456)or(i==1315074670)or(i==1164799855)or(i==1311781185)or(i==1211117649)or(i==1429221430 or i==1429221451 or i==1215657064)then
return(not(FGF or FHF))
elseif(i==1164207469 or i==1432510828)then
return(not(FGF))
elseif(i==1432642913 or i==1211117641)then
return(not(FHF))
elseif(K_7[16+O5]and FGF)then
return false
elseif(K_7[32+O5]and FHF)then
return false
elseif(i1==RW or i1==TW)and(i==1215723364 or i==1429221446)then
return false
elseif(i1==BA or i1==GB)and(i==1211119187)then
return false
elseif FGF and UE7(1128887405,"Orb|"+I2S(GetHandleId(it)))then
return false
elseif FHF and UE7(1128887405,"Buff|"+I2S(GetHandleId(it)))then
return false
endif
return true
endfunction
function FIF takes integer i1 returns boolean
return((i1==N3)or(i1==R5 or i1==S5 or i1==T5)or(i1==H2 or i1==P2)or(i1==DG4)or(i1==DH4)or(i1==DP4 or i1==DQ4)or(i1==DV4)or(i1==T1)or(i1==DY4 or i1==DZ4))
endfunction
function FJF takes integer i1 returns boolean
return((i1==X1))
endfunction
function FKF takes integer O5,integer i1 returns boolean
if(i1==D84 or i1==D94)then
return true
elseif(i1==VC)or(i1==WC)or(i1==EW or i1==HW)or(i1==XC or i1==YC)or(i1==CC)or(i1==H3)or(i1==OC)or(i1==QC)or(i1==TC)or(i1==ZC)or(i1==AC)or(i1==DF4)then
if(i1==K57[O5]or i1==K57[16+O5])then
else
return true
endif
elseif(i1==S6 or i1==V6)or(i1==T1)or(i1==DY4 or i1==DZ4)then
return true
elseif(i1==VB or i1==WB)then
return true
elseif(i1>=XZ and i1<=JA)then
return true
elseif(i1==M3)then
return true
elseif(i1==ZA)or(i1==DT4)or(i1==E54)then
return true
elseif(i1==BA or i1==GB)or(i1==DW4 or i1==DX4)then
return true
elseif(i1==A6 or i1==DL or i1==HL)then
return true
endif
return false
endfunction
function FMF takes unit it,boolean FNF returns unit
local integer O5=GetPlayerId(GetOwningPlayer(it))
local unit u
if(not K_7[112+O5])then
return null
endif
set u=T37(GetHandleId(Player(O5)),"MyBear")
if FNF then
if(u==null or GetUnitState(u,UNIT_STATE_LIFE)<=0)then
call SelectHeroSkill(it,1093681461)
call QA7(0.1)
if IssueImmediateOrderById(it,852594)then
call QA7(1.)
set u=T37(GetHandleId(Player(O5)),"MyBear")
endif
elseif GetUnitTypeId(u)!=1848651828 then
call SetUnitX(u,GetUnitX(it))
call SetUnitY(u,GetUnitY(it))
endif
call IssueTargetOrderById(u,851986,it)
endif
if(u==null or GetUnitState(u,UNIT_STATE_LIFE)<=0)then
set u=T37(GetHandleId(Player(O5)),"BearItemHolder")
if u==null then
if AG7(GetOwningPlayer(it))then
set u=CreateUnit(Player(O5),1697657158,-6390,-5615,0)
else
set u=CreateUnit(Player(O5),1697657158,5875,5000,0)
endif
call TJ7(GetHandleId(Player(O5)),"BearItemHolder",u)
endif
endif
set bj_lastReplacedUnit=u
set u=null
return bj_lastReplacedUnit
endfunction
function FOF takes integer O5,unit it,boolean FPF returns unit
local unit P67
local unit u
if(not K_7[112+O5])then
return null
endif
set P67=T37(GetHandleId(Player(O5)),"aiBearDummy")
if(P67==null)then
if AG7(GetOwningPlayer(it))then
set P67=CreateUnit(Player(O5),1697657158,-6390,-5615,0)
else
set P67=CreateUnit(Player(O5),1697657158,5875,5000,0)
endif
call TJ7(GetHandleId(Player(O5)),"aiBearDummy",P67)
call ShowUnit(P67,true)
endif
if not(K_7[48+O5])then
set u=FMF(it,FPF)
if not(u==null or GetUnitState(u,UNIT_STATE_LIFE)<=0)then
call SetUnitPosition(P67,GetUnitX(u),GetUnitY(u))
endif
endif
set bj_lastReplacedUnit=P67
set u=null
set P67=null
return bj_lastReplacedUnit
endfunction
function FQF takes integer O5,unit it returns nothing
local unit u=FMF(it,false)
local item RQ7
local integer i=0
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>0 then
loop
exitwhen i>5
set bj_lastCreatedItem=UnitItemInSlot(it,i)
if bj_lastCreatedItem!=null then
set RQ7=UnitItemInSlot(u,i)
if RQ7==null or GetItemTypeId(bj_lastCreatedItem)!=GetItemTypeId(RQ7)then
call RemoveItem(RQ7)
set RQ7=CreateItem(GetItemTypeId(bj_lastCreatedItem),GetUnitX(u),GetUnitY(u))
call SetItemVisible(RQ7,MI7)
call SetItemPlayer(RQ7,Player(O5),false)
call SetItemCharges(RQ7,GetItemCharges(bj_lastCreatedItem))
call SetItemUserData(RQ7,0)
call UnitAddItem(u,RQ7)
endif
else
call RemoveItem(UnitItemInSlot(u,i))
endif
set i=i+1
endloop
endif
set u=null
set RQ7=null
endfunction
function FRF takes integer O5,unit it returns nothing
local unit u
local integer i=0
if(not K_7[192+O5])or(K_7[48+O5])then
return
endif
if(it!=null)then
if GetUnitTypeId(it)==1697657158 then
set u=T37(GetHandleId(Player(O5)),"MyBear")
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>0 then
call SetUnitPosition(it,GetUnitX(u),GetUnitY(u))
endif
endif
else
set u=T37(GetHandleId(Player(O5)),"aiBearDummy")
if AG7(Player(O5))then
call SetUnitPosition(u,-6390,-5615)
else
call SetUnitPosition(u,5875,5000)
endif
call FQF(O5,u)
endif
set u=null
endfunction
function FSF takes integer O5,boolean FTF,boolean FUF returns integer
local integer i=999
local integer FVF=5
local integer j=0
local integer QQ7=0
local integer FWF=0
local integer i1
if not FTF then
set FVF=23
endif
loop
exitwhen(j>FVF)
if(K07[O5*24+j]!=null)then
if(K27[O5*24+j]==DT4 and K57[144+O5]!=ME7)then
else
set FWF=ECF(O5,M7[O5],K07[O5*24+j],K27[O5*24+j],false)
if(FWF<=i)and(FWF!=-1)and(FWF<99)and(not UE7(1128887405,"NoSell|"+I2S(GetHandleId(M7[O5]))+I2S(K27[O5*24+j])))and(LoadInteger(EE7,K57[224+O5],GetHandleId(K07[O5*24+j]))==0)and(not LoadBoolean(EE7,K57[256+O5],GetHandleId(K07[O5*24+j])))then
set i=FWF
set QQ7=j
endif
endif
endif
set j=j+1
endloop
if i<99 and((not FUF)or(FKF(O5,K27[O5*24+QQ7])))then
return QQ7
endif
return-1
endfunction
function FXF takes integer O5,boolean FYF returns integer
local integer i=0
local integer j=0
local integer k=0
local item RQ7=null
loop
exitwhen i>23
set RQ7=K07[O5*24+i]
set k=K27[O5*24+i]
if RQ7==null or(GetWidgetLife(RQ7)<=0)then
set RQ7=null
set k=0
if i<=5 then
set RQ7=UnitItemInSlot(M7[O5],i)
elseif i<=11 then
set RQ7=UnitItemInSlot(KU4[32+O5],i-6)
endif
endif
if(RQ7!=null)and(FYF or(not E19(k)))and(LoadInteger(EE7,K57[224+O5],GetHandleId(K07[O5*24+i]))==0)and(not LoadBoolean(EE7,K57[256+O5],GetHandleId(K07[O5*24+i])))then
set j=j+1
endif
set i=i+1
endloop
set RQ7=null
return j
endfunction
function FZF takes integer O5,unit it returns integer
local integer i=0
local integer FVF=0
local integer j=0
local integer QQ7=999
local item RQ7
loop
exitwhen i>5
set RQ7=UnitItemInSlot(it,i)
if RQ7!=null then
set j=ECF(O5,null,null,RO7(RQ7),false)
if j<99 and j<QQ7 then
set QQ7=j
set FVF=i
endif
else
set bj_lastCreatedItem=null
set bj_forLoopBIndexEnd=-2
set RQ7=null
return i
endif
set i=i+1
endloop
set RQ7=null
if QQ7<999 then
set bj_lastCreatedItem=UnitItemInSlot(it,FVF)
set bj_forLoopBIndexEnd=QQ7
return FVF
endif
return-1
endfunction
function FAF takes integer O5,unit it returns boolean
local boolean SQ7=false
local boolean J4
set bj_lastCreatedItem=null
if(K57[O5]!=0)and(ECF(O5,it,null,K57[O5],true)>ECF(O5,it,null,K57[16+O5],true))then
return SG7(it,ZU[K57[O5]])
elseif(K57[16+O5]!=0)then
return SG7(it,ZU[K57[16+O5]])
endif
return false
endfunction
function FBF takes integer O5,unit it,integer i1,item RQ7,boolean FCF,boolean F3F,boolean F6F returns integer
local integer i
local integer FVF=ECF(O5,it,RQ7,i1,false)
local integer j=0
local integer QQ7=0
local integer k=0
local integer FWF=0
local item FLF=null
local boolean SQ7=false
set FWF=0
set i=999
set EQ7=null
loop
exitwhen(j>5)
set FLF=K07[O5*24+j+k]
if GetWidgetLife(FLF)<=0 then
set FLF=null
endif
if(FLF!=null)then
if(UnitHasItem(it,FLF))then
set FWF=ECF(O5,M7[O5],FLF,K27[O5*24+j+k],(not F3F))
if(FWF<=i)then
set i=FWF
set EQ7=FLF
set QQ7=j+k
endif
endif
else
if UnitItemInSlot(it,j+k)==null then
set QQ7=j+k
set EQ7=null
set FCF=true
exitwhen true
endif
endif
set j=j+1
endloop
set FLF=null
if(FVF>i)or FCF then
set FVF=GetItemTypeId(RQ7)
set FLF=EQ7
if FLF!=null then
set K07[O5*24+K57[128+O5]]=FLF
set K27[O5*24+K57[128+O5]]=RO7(FLF)
set K57[128+O5]=K57[128+O5]+1
set K07[O5*24+QQ7]=null
endif
call FRF(O5,it)
if FLF!=null then
call UnitRemoveItem(it,FLF)
call SetItemPosition(FLF,GetUnitX(KU4[32+O5]),GetUnitY(KU4[32+O5]))
call SetItemVisible(FLF,MI7)
if not IsUnitType(it,UNIT_TYPE_HERO)then
call SaveBoolean(EE7,K57[256+O5],GetHandleId(FLF),true)
endif
endif
call UnitAddItem(it,RQ7)
set SQ7=true
if false and(not F6F)then
if(FVF!=SU[i1])and((i1!=HW)and(i1!=V6)and(i1!=O1)and(i1!=DN4 and i1!=DO4)and(i1!=DQ4)and(not E19(i1)))then
call UnitAddItem(it,RQ7)
set SQ7=true
else
set F6F=true
endif
endif
if false and F6F then
if FVF!=SU[i1]then
set bj_lastCreatedItem=CreateItem(SU[i1],GetUnitX(it),GetUnitY(it))
call SetItemVisible(bj_lastCreatedItem,MI7)
call SetItemPlayer(bj_lastCreatedItem,Player(O5),false)
call SetItemCharges(bj_lastCreatedItem,GetItemCharges(RQ7))
call RemoveItem(RQ7)
set RQ7=bj_lastCreatedItem
endif
set eY[512+O5]=0
call UnitAddItem(it,RQ7)
loop
exitwhen eY[512+O5]!=0
call TriggerSleepAction(0.1)
endloop
if not IsUnitType(it,UNIT_TYPE_HERO)then
call SaveBoolean(EE7,K57[256+O5],GetHandleId(K07[288+O5]),true)
endif
if(eY[512+O5]==1)then
set SQ7=true
elseif(eY[512+O5]==2)or(eY[512+O5]==3)then
loop
if eY[512+O5]==3 then
set RQ7=K07[288+O5]
exitwhen true
endif
call TriggerSleepAction(0.1)
endloop
endif
endif
endif
if SQ7 then
return QQ7
else
set bj_forLoopAIndex=GetItemUserData(RQ7)
call SetItemPosition(RQ7,GetUnitX(KU4[32+O5]),GetUnitY(KU4[32+O5]))
call SetItemUserData(RQ7,bj_forLoopAIndex)
call SetItemVisible(RQ7,MI7)
set K07[O5*24+K57[128+O5]]=RQ7
set K27[O5*24+K57[128+O5]]=RO7(RQ7)
set K57[128+O5]=K57[128+O5]+1
endif
return-1
endfunction
function F1F takes integer O5,unit it,item RQ7,integer i1 returns nothing
if E19(i1)then
call SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+(GetItemCharges(RQ7)/E59(i1))*(HK4[i1]/2))
else
call SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+HK4[i1]/2)
endif
call RN7(RQ7)
call DestroyEffect(AddSpecialEffectTarget("UI\\Feedback\\GoldCredit\\GoldCredit.mdl",it,"overhead"))
endfunction
function F0F takes integer O5,integer EL9 returns integer
if IsUnitType(M7[O5],UNIT_TYPE_MELEE_ATTACKER)==true or IsUnitType(M7[O5],UNIT_TYPE_HERO)==false then
if EL9==X2 then
return W2
elseif EL9==GB then
return BA
elseif EL9==HZ then
return EZ
elseif EL9==DX4 then
return DW4
elseif EL9==D94 then
return D84
elseif EL9==F44 then
return E_4
elseif EL9==B0 then
if ETF(M7[O5])==false then
return Y0
endif
elseif EL9==Y0 then
if ETF(M7[O5])==true then
return B0
endif
elseif EL9==RB then
return QB
endif
else
if EL9==W2 then
return X2
elseif EL9==BA then
return GB
elseif EL9==EZ then
return HZ
elseif EL9==DW4 then
return DX4
elseif EL9==D84 then
return D94
elseif EL9==E_4 then
return F44
elseif EL9==Y0 then
return B0
elseif EL9==QB then
return RB
endif
endif
return EL9
endfunction
function F5F takes player p,unit it,integer F2F,integer F_F,integer KWD,integer KXD,integer KYD,integer G4F,integer G7F returns nothing
local item RQ7
set EZ7="aiCombineItems"
call DisableTrigger(SV4)
if F_F>0 then
set RQ7=UnitItemInSlot(it,0)
call RemoveItem(RQ7)
endif
if KWD>0 then
set RQ7=UnitItemInSlot(it,1)
call RemoveItem(RQ7)
endif
if KXD>0 then
set RQ7=UnitItemInSlot(it,2)
call RemoveItem(RQ7)
endif
if KYD>0 then
set RQ7=UnitItemInSlot(it,3)
call RemoveItem(RQ7)
endif
if G4F>0 then
set RQ7=UnitItemInSlot(it,4)
call RemoveItem(RQ7)
endif
if G7F>0 then
set RQ7=UnitItemInSlot(it,5)
call RemoveItem(RQ7)
endif
set F2F=F0F(GetPlayerId(p),F2F)
set M77=F2F
set M47=p
set RQ7=UnitAddItemById(it,ZU[F2F])
call SetItemPlayer(RQ7,p,true)
call SetItemUserData(RQ7,1)
if IsPlayerInForce(p,QX4)and(it==T37(GetHandleId(p),"aiBearDummy"))then
set MP7=T37(GetHandleId(p),"MyBear")
if MP7!=null and GetUnitState(MP7,UNIT_STATE_LIFE)>0 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",MP7,"origin"))
endif
else
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",it,"origin"))
endif
if RO7(RQ7)==DI4 then
call SetItemCharges(RQ7,6)
endif
call EnableTrigger(SV4)
if IsPlayerAlly(GetLocalPlayer(),p)==true then
if F2F==T1 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(p)]+(KZ4[GetPlayerId((p))])+"|r |c00ffff00"+GetObjectName(1848659032)+"|r")
elseif F2F==B5 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(p)]+(KZ4[GetPlayerId((p))])+"|r |c00ffff00"+GetObjectName(1848659033)+"|r")
endif
endif
set K07[288+GetPlayerId(p)]=RQ7
set RQ7=null
endfunction
function G8F takes player p,unit it,integer i1,integer G9F returns boolean
local integer i
local integer x
local integer y
local integer array GDF
local boolean array GEF
local integer array GFF
local boolean array GGF
local boolean array GHF
local integer array GIF
local player GJF
local integer k
local player array GKF
local integer m
local item GMF
local item GNF
local item GOF
local item GPF
local item GQF
local item GRF
local player GSF
local player GTF
local player GUF
local player GVF
local player GWF
local player GXF
local integer GYF
local integer GZF
local integer GAF
local integer GBF
local integer GCF
local integer G3F
local integer G6F
local integer GLF
local integer G1F
local integer G0F
local integer G5F
local integer G2F
local boolean G_F=true
set EZ7=EZ7+"(CheckRecipes)"
set GMF=UnitItemInSlot(it,0)
set GNF=UnitItemInSlot(it,1)
set GOF=UnitItemInSlot(it,2)
set GPF=UnitItemInSlot(it,3)
set GQF=UnitItemInSlot(it,4)
set GRF=UnitItemInSlot(it,5)
set GSF=GetItemPlayer(GMF)
set GTF=GetItemPlayer(GNF)
set GUF=GetItemPlayer(GOF)
set GVF=GetItemPlayer(GPF)
set GWF=GetItemPlayer(GQF)
set GXF=GetItemPlayer(GRF)
set GYF=GetItemUserData(GMF)
set GZF=GetItemUserData(GNF)
set GAF=GetItemUserData(GOF)
set GBF=GetItemUserData(GPF)
set GCF=GetItemUserData(GQF)
set G3F=GetItemUserData(GRF)
set G6F=RO7(GMF)
set GLF=RO7(GNF)
set G1F=RO7(GOF)
set G0F=RO7(GPF)
set G5F=RO7(GQF)
set G2F=RO7(GRF)
set GKF[1]=p
set i=0
if GMF!=null and GYF==1 and(GSF==p or PK4 or(GetPlayerSlotState((GSF))==PLAYER_SLOT_STATE_LEFT)==true)then
set GDF[i+1]=G6F
else
set GDF[i+1]=0
endif
set i=1
if GNF!=null and GZF==1 and(GTF==p or PK4 or(GetPlayerSlotState((GTF))==PLAYER_SLOT_STATE_LEFT)==true)then
set GDF[i+1]=GLF
else
set GDF[i+1]=0
endif
set i=2
if GOF!=null and GAF==1 and(GUF==p or PK4 or(GetPlayerSlotState((GUF))==PLAYER_SLOT_STATE_LEFT)==true)then
set GDF[i+1]=G1F
else
set GDF[i+1]=0
endif
set i=3
if GPF!=null and GBF==1 and(GVF==p or PK4 or(GetPlayerSlotState((GVF))==PLAYER_SLOT_STATE_LEFT)==true)then
set GDF[i+1]=G0F
else
set GDF[i+1]=0
endif
set i=4
if GQF!=null and GCF==1 and(GWF==p or PK4 or(GetPlayerSlotState((GWF))==PLAYER_SLOT_STATE_LEFT)==true)then
set GDF[i+1]=G5F
else
set GDF[i+1]=0
endif
set i=5
if GRF!=null and G3F==1 and(GXF==p or PK4 or(GetPlayerSlotState((GXF))==PLAYER_SLOT_STATE_LEFT)==true)then
set GDF[i+1]=G2F
else
set GDF[i+1]=0
endif
set GDF[0]=i1
set i=1
loop
exitwhen i>(FQ4)
if FJ4[i]==G9F or FK4[i]==G9F or FM4[i]==G9F or FN4[i]==G9F or FO4[i]==G9F then
set GFF[0]=FJ4[i]
set GFF[1]=FK4[i]
set GFF[2]=FM4[i]
set GFF[3]=FN4[i]
set GFF[4]=FO4[i]
if G_F then
set GGF[0]=true
set GGF[1]=true
set GGF[2]=true
set GGF[3]=true
set GGF[4]=true
set GGF[5]=true
set GGF[6]=true
set GEF[0]=true
set GEF[1]=true
set GEF[2]=true
set GEF[3]=true
set GEF[4]=true
set GEF[5]=true
set GEF[6]=true
set GIF[0]=0
set GIF[1]=0
set GIF[2]=0
set GIF[3]=0
set GIF[4]=0
set GIF[5]=0
set GIF[6]=0
set G_F=false
endif
set GHF[0]=false
set GHF[1]=false
set GHF[2]=false
set GHF[3]=false
set GHF[4]=false
set x=0
loop
exitwhen x==5
if GFF[x]==0 then
set GHF[x]=true
else
set y=0
loop
exitwhen y==7
if GDF[y]==GFF[x]and GEF[y]and GGF[x]then
set GEF[y]=false
set GGF[x]=false
set GHF[x]=true
set GIF[y]=1
set y=7
set G_F=true
else
set y=y+1
endif
endloop
endif
if GHF[x]==true then
set x=x+1
else
set x=5
endif
endloop
if GHF[0]and GHF[1]and GHF[2]and GHF[3]and GHF[4]then
call F5F(p,it,FP4[i],GIF[1],GIF[2],GIF[3],GIF[4],GIF[5],GIF[6])
call G8F(p,it,0,FP4[i])
set i=FQ4+2
else
set i=i+1
endif
else
set i=i+1
endif
endloop
set EL=GIF[0]==1
if i==(FQ4+2)then
set GMF=null
set GNF=null
set GOF=null
set GPF=null
set GQF=null
set GRF=null
return true
endif
set GMF=null
set GNF=null
set GOF=null
set GPF=null
set GQF=null
set GRF=null
return false
endfunction
function H4F takes unit it,item RQ7 returns nothing
local integer n5
local integer H7F
local integer EP8
set n5=N09(it)
set H7F=N59(it)
if H7F!=0 then
call UnitAddAbility(it,H7F)
call UnitMakeAbilityPermanent(it,true,H7F)
call SetPlayerAbilityAvailable(GetOwningPlayer(it),H7F,false)
if GetUnitTypeId(it)==1211117653 then
set IN4=it
call ExecuteFunc("H8F")
elseif GetUnitTypeId(it)==1215130471 then
set IN4=it
call ExecuteFunc("MCD")
endif
endif
set EP8=EB9(it,4)
if n5==GX4 and HQ4[EP8]!=0 then
call UnitRemoveAbility(it,HU4[EP8])
call UnitAddAbility(it,HV4[EP8])
call SetPlayerAbilityAvailable(GetOwningPlayer(it),HV4[EP8],false)
endif
call RN7(RQ7)
set RQ7=UnitAddItemById(it,ZU[n5])
call SetItemPlayer(RQ7,GetOwningPlayer(it),false)
call SetItemUserData(RQ7,1)
set K07[288+GetPlayerId(GetOwningPlayer(it))]=RQ7
set RQ7=null
endfunction
function H9F takes integer O5,unit it returns nothing
local integer i=0
local integer FVF=0
set K_7[64+O5]=true
set K57[384+O5]=0
if SG7(it,ZU[YC])then
call F1F(O5,it,bj_lastCreatedItem,YC)
endif
if SG7(KU4[32+O5],ZU[YC])then
call F1F(O5,it,bj_lastCreatedItem,YC)
endif
call F8F(O5,it)
set i=0
loop
exitwhen(i>23)
set FVF=K27[O5*24+i]
if(FVF==FV or FVF==G6 or FVF==H6 or FVF==N6 or FVF==DS4 or FVF==LB or FVF==EC or FVF==F74)then
call F1F(O5,it,K07[O5*24+i],FVF)
exitwhen true
endif
set i=i+1
endloop
endfunction
function HDF takes player p,unit it,integer i1,integer G9F returns boolean
local integer FVF=0
local integer F2F=0
local item RQ7=null
if i1==EN4 and SP7(it,ZU[F5])then
set RQ7=bj_lastCreatedItem
set FVF=RO7(RQ7)
if FVF==F5 then
set F2F=G5
elseif FVF==G5 then
set F2F=J5
elseif FVF==J5 then
set F2F=M5
elseif FVF==M5 then
set F2F=N5
endif
elseif i1==EO4 and SP7(it,ZU[R5])then
set RQ7=bj_lastCreatedItem
set FVF=RO7(RQ7)
if FVF==R5 then
set F2F=S5
elseif FVF==S5 then
set F2F=T5
endif
endif
if F2F!=0 then
set M77=F2F
set M47=p
call DisableTrigger(SV4)
call RemoveItem(RQ7)
set RQ7=UnitAddItemById(it,ZU[F2F])
call SetItemPlayer(RQ7,p,true)
call SetItemUserData(RQ7,1)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",it,"origin"))
call EnableTrigger(SV4)
set K07[288+GetPlayerId(p)]=RQ7
set RQ7=null
return true
endif
return false
endfunction
function HEF takes integer O5,unit it,integer i1,item RQ7,boolean FCF returns boolean
local player O57=Player(O5)
local boolean SQ7=false
local integer j=HK4[i1]
set M77=i1
set M47=O57
if(K57[432+O5]==2 and HDF(O57,it,i1,i1))or G8F(O57,it,i1,i1)then
if RQ7!=null then
call RemoveItem(RQ7)
endif
set RQ7=K07[288+O5]
set SQ7=true
else
if EXF(it)==0 then
if RQ7==null then
set RQ7=CreateItem(ZU[i1],GetUnitX(it),GetUnitY(it))
call SetItemPlayer(RQ7,O57,false)
call SetItemUserData(RQ7,1)
endif
set SQ7=(FBF(O5,it,i1,RQ7,FCF,false,false)!=-1)
else
if RQ7==null then
set RQ7=UnitAddItemById(it,ZU[i1])
call SetItemPlayer(RQ7,O57,false)
call SetItemUserData(RQ7,1)
else
call UnitAddItem(it,RQ7)
call SetItemUserData(RQ7,1)
endif
set SQ7=true
endif
if E19(i1)then
call SetItemCharges(RQ7,E59(i1))
elseif i1==CC then
call SetItemCharges(RQ7,2)
endif
endif
if RQ7!=null then
set K07[288+O5]=RQ7
if(i1==F6 or i1==D34)then
call H9F(O5,it)
endif
if IsUnitType(it,UNIT_TYPE_HERO)and GetItemTypeId(RQ7)==ZU[FR4]then
call H4F(it,RQ7)
endif
endif
if(K57[432+O5]!=2)then
call TriggerSleepAction(0)
endif
set O57=null
set RQ7=null
return SQ7
endfunction
function HFF takes integer O5,unit it,integer i1,boolean FCF returns boolean
local player O57=Player(O5)
local boolean SQ7=false
local integer j=HK4[i1]
set EZ7="UnitBuyItem"
if(i1==QC or i1==TC or i1==YC)and(Z84[O5]>=ZE4)then
set j=j/2
endif
if GetPlayerState(O57,PLAYER_STATE_RESOURCE_GOLD)>=j then
call SetPlayerState(O57,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(O57,PLAYER_STATE_RESOURCE_GOLD)-j)
if K_7[48+O5]then
set K57[192+O5]=K57[192+O5]+j
endif
call FRF(O5,it)
if E19(i1)and SG7(it,ZU[i1])then
call SetItemCharges(bj_lastCreatedItem,GetItemCharges(bj_lastCreatedItem)+E59(i1))
set SQ7=true
else
set SQ7=HEF(O5,it,i1,null,FCF)
endif
set K57[96+O5]=0
endif
set O57=null
return SQ7
endfunction
function HGF takes integer O5 returns nothing
local integer j
local integer QQ7
local integer k
local unit u
local player O57=Player(O5)
call F8F(O5,null)
if K_7[48+O5]then
return
endif
set j=6
set k=K57[128+O5]-1
loop
exitwhen j>k
if K07[O5*24+j]!=null and((not K_7[192+O5])or(not LoadBoolean(EE7,K57[256+O5],GetHandleId(K07[O5*24+j]))))then
if IsItemOwned(K07[O5*24+j])then
call UnitRemoveItem(KU4[32+O5],K07[O5*24+j])
endif
set QQ7=FBF(O5,M7[O5],K27[O5*24+j],K07[O5*24+j],false,true,false)
if QQ7!=-1 and QQ7<6 then
set K07[O5*24+QQ7]=K07[O5*24+j]
if(K07[O5*24+QQ7]==null)or(GetWidgetLife(K07[O5*24+QQ7])<=0)then
set K07[O5*24+QQ7]=K07[288+O5]
endif
set K27[O5*24+QQ7]=K27[O5*24+j]
endif
call SetItemVisible(K07[O5*24+j],MI7)
set K07[O5*24+j]=null
endif
set j=j+1
endloop
if K_7[192+O5]then
set j=GetUnitTypeId(M7[O5])
if(j==1311781199 or j==1311781171 or j==1311781172 or j==1311781173)then
set u=FOF(O5,M7[O5],false)
endif
if u!=null then
call F8F(O5,u)
set j=6
set k=K57[128+O5]-1
loop
exitwhen j>k
if K07[O5*24+j]!=null and(LoadBoolean(EE7,K57[256+O5],GetHandleId(K07[O5*24+j])))then
set QQ7=FBF(O5,u,K27[O5*24+j],K07[O5*24+j],false,true,false)
if QQ7!=-1 and QQ7<6 then
set K07[O5*24+QQ7]=K07[O5*24+j]
if(K07[O5*24+QQ7]==null)or(GetWidgetLife(K07[O5*24+QQ7])<=0)then
set K07[O5*24+QQ7]=K07[288+O5]
endif
set K27[O5*24+QQ7]=K27[O5*24+j]
endif
call SetItemVisible(K07[O5*24+j],MI7)
set K07[O5*24+j]=null
endif
set j=j+1
endloop
endif
set u=null
endif
call F8F(O5,null)
set j=12
loop
exitwhen j>K57[128+O5]-1
if K07[O5*24+j]!=null then
call F1F(O5,M7[O5],K07[O5*24+j],K27[O5*24+j])
set K07[O5*24+j]=null
endif
set j=j+1
endloop
set O57=null
set u=null
endfunction
function HHF takes integer O5,unit it,integer HIF,integer i1 returns boolean
local integer i
local integer j
local integer FVF
local integer G9F=0
local item RQ7=null
local boolean SQ7=true
local integer HJF
local boolean HKF=false
local boolean HMF=IsUnitType(it,UNIT_TYPE_HERO)
set EZ7="AIBuy_Core"
if(it==null)or((not R37(it))and(not K_7[48+O5]))then
return false
elseif(K_7[48+O5])and SH7(KU4[32+O5])then
set K_7[128+O5]=true
return false
endif
if(K57[432+O5]==1)and(SH7(it)and K57[320+O5]<=0)then
set K57[96+O5]=i1
return false
endif
if(not IsUnitType(it,UNIT_TYPE_HERO))then
set G9F=EV
if false then
set K_7[288+O5]=true
if(K57[432+O5]==1)then
return false
endif
endif
endif
if HIF>=0 or HIF==-2 then
else
endif
if(HIF==-1)then
set K57[64+O5]=K57[64+O5]+1
else
set K57[64+O5]=0
endif
set HJF=K57[64+O5]
if(K_7[112+O5])then
if(HJF==0)then
call F8F(O5,it)
call F4F(O5,0)
endif
set i=0
loop
exitwhen(i>23)
if(K07[O5*24+i]!=null)then
set SQ7=false
if(K27[O5*24+i]==i1)then
set SQ7=true
elseif SN7(i1,K27[O5*24+i],false)then
set SQ7=true
endif
if SQ7 then
set FVF=LoadInteger(EE7,K57[368+O5],i1+G9F)
if(HJF==0)and(FVF==0)then
set FVF=LoadInteger(EE7,K57[352+O5],i1+G9F)
if FVF==0 then
set FVF=1
endif
call SaveInteger(EE7,K57[368+O5],i1+G9F,FVF)
endif
set FVF=LoadInteger(EE7,K57[224+O5],GetHandleId(K07[O5*24+i]))
if FVF==0 then
set FVF=K57[48+O5]
endif
if(GetItemPlayer(K07[O5*24+i])==Player(O5))and((not K_7[48+O5])or((FVF==K57[48+O5])and(not LoadBoolean(EE7,K57[208+O5],GetHandleId(K07[O5*24+i])))))then
if(HJF==0)then
call SaveInteger(EE7,K57[368+O5],i1+G9F,LoadInteger(EE7,K57[368+O5],i1+G9F)-1)
endif
if(HJF!=0)or(LoadInteger(EE7,K57[368+O5],i1+G9F)<=0)then
set RQ7=K07[O5*24+i]
if((not K_7[192+O5])or(HMF==(not LoadBoolean(EE7,K57[256+O5],GetHandleId(K07[O5*24+i])))))then
set K07[O5*24+i]=null
exitwhen true
endif
endif
endif
endif
endif
set i=i+1
endloop
if RQ7!=null and K_7[48+O5]then
call SaveBoolean(EE7,K57[208+O5],GetHandleId(RQ7),true)
call SaveInteger(EE7,K57[224+O5],GetHandleId(RQ7),K57[48+O5])
endif
set SQ7=true
if(HJF==0)then
set K_7[272+O5]=true
if(not K_7[96+O5])and(K_7[48+O5]or(K57[32+O5]>=K57[48+O5]))then
if FIF(i1)then
if IsPlayerAlly(Player(O5),Z7[0])then
call TF7(1128887405,"Sent|"+I2S(i1),U97(1128887405,"Sent|"+I2S(i1))+1)
else
call TF7(1128887405,"Scrg|"+I2S(i1),U97(1128887405,"Scrg|"+I2S(i1))+1)
endif
endif
call TF7(1128877176,I2S(GetHandleId(it))+"|"+I2S(i1),U97(1128877176,I2S(GetHandleId(it))+"|"+I2S(i1))+1)
if FDF(it,i1)then
call TI7(1128887405,"Orb|"+I2S(GetHandleId(it)),true)
endif
if FEF(it,i1)then
call TI7(1128887405,"Buff|"+I2S(GetHandleId(it)),true)
endif
set K_7[96+O5]=true
endif
endif
endif
if K57[64+O5]<99 then
if RQ7!=null then
call SetItemUserData(RQ7,1)
if(not UnitHasItem(it,RQ7))then
set K_7[272+O5]=false
if(not K_7[48+O5])and(K57[432+O5]!=1)then
call HEF(O5,it,i1,RQ7,true)
endif
elseif not K_7[48+O5]then
call UnitRemoveItem(it,RQ7)
call HEF(O5,it,i1,RQ7,true)
endif
else
set i=1
loop
exitwhen(i>FQ4 or FP4[i]==i1)
set i=i+1
endloop
if i<=FQ4 then
if SQ7 and(FJ4[i]!=0)then
set SQ7=(HHF(O5,it,-1,FJ4[i]))
endif
if SQ7 and(FK4[i]!=0)then
set SQ7=(HHF(O5,it,-1,FK4[i]))
endif
if SQ7 and(FM4[i]!=0)then
set SQ7=(HHF(O5,it,-1,FM4[i]))
endif
if SQ7 and(FN4[i]!=0)then
set SQ7=(HHF(O5,it,-1,FN4[i]))
endif
if SQ7 and(FO4[i]!=0)then
set SQ7=(HHF(O5,it,-1,FO4[i]))
endif
if SQ7 then
if(K_7[48+O5])then
call SaveBoolean(EE7,K57[208+O5],GetHandleId(K07[288+O5]),true)
else
if(i1==E6)then
call UnitUseItem(it,K07[288+O5])
endif
endif
if HIF==-1 then
set K_7[144+O5]=true
endif
endif
set HKF=true
else
if(K_7[112+O5])then
if K57[432+O5]==2 then
set SQ7=false
elseif K_7[48+O5]then
set SQ7=HFF(O5,KU4[32+O5],i1,false)
if SQ7 then
call SaveInteger(EE7,K57[224+O5],GetHandleId(K07[288+O5]),K57[48+O5])
endif
elseif(K57[432+O5]==1)then
if(not EAF(i1))then
set SQ7=false
elseif(K57[320+O5]>0)and IsUnitType(it,UNIT_TYPE_HERO)and SH7(it)and(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HK4[i1])and SG7(it,ZU[QW])then
call F1F(O5,it,bj_lastCreatedItem,QW)
set K57[320+O5]=K57[320+O5]-1
endif
set SQ7=HFF(O5,it,i1,true)
else
set SQ7=HFF(O5,it,i1,true)
endif
if not SQ7 then
set K57[96+O5]=i1
endif
endif
endif
if SQ7 and(not HMF)then
call SaveBoolean(EE7,K57[256+O5],GetHandleId(K07[288+O5]),true)
endif
endif
if HJF==0 then
if(not SQ7)then
set K57[112+O5]=i1
elseif(not(K57[32+O5]<K57[48+O5]))or(K_7[48+O5])then
set K57[112+O5]=0
endif
endif
if(not K_7[128+O5])and(K_7[48+O5])and SH7(KU4[32+O5])then
set K_7[128+O5]=true
endif
if HJF==0 and SQ7 then
if not(K57[144+O5]==M97)then
if(not K_7[48+O5])and((K57[432+O5]!=1)or(K_7[272+O5]))then
set K57[32+O5]=K57[32+O5]+1
else
if HKF then
set K_7[128+O5]=true
call TF7(1128887405,I2S(GetHandleId(it))+"|s"+I2S(K57[48+O5]),i1)
endif
set K57[48+O5]=K57[48+O5]+1
endif
endif
set K_7[96+O5]=false
if(not K_7[48+O5])and HMF then
if(i1==F6)then
call H9F(O5,it)
elseif(i1==G6)then
set K57[384+O5]=1
set K57[400+O5]=1
elseif(i1==H6)then
set K57[384+O5]=2
set K57[400+O5]=2
elseif(i1==N6)then
set K57[384+O5]=3
set K57[400+O5]=3
endif
if K57[336+O5]!=0 then
set i=0
loop
exitwhen(i>23)
if(K27[O5*24+i]==K57[336+O5])then
call F1F(O5,it,K07[O5*24+i],K57[336+O5])
exitwhen true
endif
set i=i+1
endloop
set K57[336+O5]=0
endif
endif
if(K_7[112+O5])and(not K_7[48+O5])and(K57[432+O5]!=2)and HMF then
set FVF=FXF(O5,false)-6
loop
set i=FSF(O5,false,false)
exitwhen(i==-1)or(FVF<=0)
call F1F(O5,it,K07[O5*24+i],K27[O5*24+i])
set K07[O5*24+i]=null
set FVF=FVF-1
endloop
endif
if(not K_7[128+O5])and(K_7[48+O5])and(ECF(O5,it,null,i1,true)>=99)then
set K_7[128+O5]=true
endif
if(K_7[192+O5])and(not K_7[48+O5])and(GetUnitTypeId(it)==1697657158)then
call FQF(O5,it)
endif
endif
endif
if(not K_7[112+O5])then
return true
endif
if(HJF==0)and(not K_7[80+O5])and SQ7 and(HIF==K57[240+O5])then
if(not K_7[48+O5])then
set K57[144+O5]=ME7
else
set K_7[160+O5]=true
endif
endif
return SQ7
endfunction
function HNF takes nothing returns nothing
local integer i=GetHandleId(GetTriggeringTrigger())
local integer O5=U97(i,"p")
set K_7[208+O5]=HHF(O5,T37(i,"u"),U97(i,"i"),U97(i,"id"))
set K57[272+O5]=0
endfunction
function HOF takes integer O5 returns boolean
return(not(Bz>=K57[160+O5]))or(K_7[224+O5]and K57[432+O5]!=2)
endfunction
function HPF takes unit u,integer HQF returns integer
local player p=GetOwningPlayer(u)
local integer i=0
local integer YF7=0
local integer HRF=0
loop
exitwhen i>15
set HRF=GetUnitTypeId(M7[i])
if M7[i]!=null and IsUnitEnemy(M7[i],p)and(QG7(HRF,HQF))then
set YF7=YF7+1
endif
set i=i+1
endloop
return YF7
endfunction
function HSF takes integer O5,unit it,integer HIF,integer i1 returns boolean
local integer i
local integer G9F=0
if(K57[432+O5]==2 and(IG4[O5]or Bz<K57[272+O5]))or(K_7[224+O5]and K57[432+O5]!=2)then
return false
endif
if(not K_7[112+O5])then
if HIF>=0 and(K57[240+O5]<=HIF)then
set K57[240+O5]=HIF
endif
if(not IsUnitType(it,UNIT_TYPE_HERO))then
set G9F=EV
endif
call SaveInteger(EE7,K57[352+O5],i1+G9F,LoadInteger(EE7,K57[352+O5],i1+G9F)+1)
return true
endif
if(K_7[112+O5])and(HIF>=0)and(((not K_7[48+O5])and(K57[32+O5]!=HIF))or((K_7[48+O5])and(K57[48+O5]!=HIF)))then
return false
endif
if Bz<K57[272+O5]then
set i=R2I(Bz)+10
loop
call TriggerSleepAction(1)
exitwhen(Bz>i or Bz>K57[272+O5])
endloop
if Bz<K57[272+O5]then
return false
endif
endif
set i=GetHandleId(Q04[112+O5])
call TJ7(i,"u",it)
call TF7(i,"i",HIF)
call TF7(i,"id",i1)
if(IsUnitType(it,UNIT_TYPE_HERO))then
set G9F=GetUnitTypeId(it)
if(UE7(R44,VO7(it)+"|D"))then
if(i1==U1)then
call TF7(i,"id",R3)
endif
elseif(UE7(R44,VO7(it)+"|Xb"))then
if(i1==DT4)and HPF(it,FE7)<3 and((G9F==1164799855)or(G9F==1212365106)or(G9F==1164799603)or(G9F==1160785973)or(G9F==1315007329)or(G9F==1164207469)or(G9F==1429221443)or(G9F==1215722344)or(G9F==1429221456)or(G9F==1211117643)or(G9F==1162032181)or(G9F==1160785972)or(G9F==1211119409))then
call TF7(i,"id",S6)
elseif(i1==J1)and HPF(it,FD7)<3 and((G9F==1162032181)or(G9F==1328558160)or(G9F==1211117617))then
call TF7(i,"id",P1)
endif
endif
endif
set K57[272+O5]=R2I(Bz)+15
set K_7[208+O5]=false
call TriggerExecute(Q04[112+O5])
if(K57[432+O5]!=2)then
loop
call TriggerSleepAction(0.2)
exitwhen Bz>K57[272+O5]
endloop
endif
return K_7[208+O5]
endfunction
function HTF takes integer O5,unit it,integer i1,boolean HUF returns boolean
local boolean HVF=SG7(it,ZU[i1])or SG7(KU4[32+O5],ZU[i1])or((KU4[32+O5]!=KU4[O5])and SG7(KU4[O5],ZU[i1]))
if UE7(1129146739,I2S(GetHandleId(it))+"|"+I2S(i1))then
set HUF=false
endif
if HUF and(IsItemOwned(bj_lastCreatedItem)or(not SH7(it)))then
if not((K57[O5]==i1 or K57[16+O5]==i1)and HVF)then
if K57[O5]==0 and K57[16+O5]!=i1 then
set K57[O5]=i1
elseif K57[16+O5]==0 and K57[O5]!=i1 then
set K57[16+O5]=i1
endif
if not HVF then
return HFF(O5,it,i1,true)
endif
endif
else
if HVF then
if(K57[O5]==i1)then
set K57[O5]=0
elseif(K57[16+O5]==i1)then
set K57[16+O5]=0
endif
endif
endif
return false
endfunction
function HWF takes integer O5 returns nothing
local integer i=0
local item RQ7=null
local integer i1
loop
exitwhen i>5
set RQ7=UnitItemInSlot(KU4[32+O5],i)
if RQ7!=null then
set bj_forLoopAIndex=GetItemTypeId(RQ7)
set i1=-1
if(bj_forLoopAIndex==ZU[K57[O5]])then
set i1=K57[O5]
set K57[O5]=0
elseif(bj_forLoopAIndex==ZU[K57[16+O5]])then
set i1=K57[16+O5]
set K57[16+O5]=0
elseif(bj_forLoopAIndex==ZU[YC])then
call F1F(O5,M7[O5],RQ7,YC)
endif
if i1!=-1 then
call TI7(1129146739,I2S(GetHandleId(M7[O5]))+"|"+I2S(i1),true)
call F1F(O5,M7[O5],RQ7,i1)
endif
endif
set i=i+1
endloop
set RQ7=null
endfunction
function HXF takes integer O5 returns boolean
local integer PP7=GetHandleId(KU4[16+O5])
local integer i=0
local boolean HYF=false
if(Bz<hq[896+O5])or(not UE7(PP7,"aiCrow|Alive"))then
return false
endif
if(Q17(M7[O5],h9[16+O5])<1200)then
return false
endif
if(UE7(PP7,"aiCrow|Active"))and(Q17(KU4[16+O5],h9[16+O5])<800)and(Bz>UD7(PP7,"aiCrow|Move"))then
call MF9(KU4[16+O5])
set HYF=true
endif
set i=U97(PP7,"aiCrow|CurrentOwner")
if(UE7(PP7,"aiCrow|Active"))then
if(i==O5)then
if UE7(PP7,"aiCrow|Away")then
call IssueNeutralImmediateOrderById(Player(O5),KU4[16+O5],1747990581)
else
call IssueImmediateOrderById(KU4[16+O5],852247)
endif
endif
return false
endif
if(i!=O5)and((not MW7)or((AG7(Player(O5))and(i!=GetPlayerId(Z7[0])))or(AH7(Player(O5))and(i!=GetPlayerId(A7[0])))))then
return false
endif
if(not HYF)then
call MF9(KU4[16+O5])
set HYF=true
endif
if(MW7)and(GetOwningPlayer(KU4[16+O5])!=Player(O5))then
call SetUnitOwner(KU4[16+O5],Player(O5),false)
endif
if IssueNeutralImmediateOrderById(Player(O5),KU4[16+O5],1747990581)then
call TF7(PP7,"aiCrow|CurrentOwner",O5)
call TI7(PP7,"aiCrow|Active",true)
call TG7(PP7,"aiCrow|Move",Bz+15)
call TI7(PP7,"aiCrow|Away",true)
set K_7[224+O5]=true
set i=0
set EQ7=null
call DisableTrigger(H94)
loop
exitwhen i>5
set EQ7=UnitItemInSlot(KU4[O5],i)
if EQ7!=null then
call UnitAddItem(KU4[16+O5],EQ7)
endif
set i=i+1
endloop
call EnableTrigger(H94)
return true
endif
return false
endfunction
function HZF takes integer O5,boolean HAF returns boolean
return(MU7 and(KU4[16+O5]!=null)and K57[432+O5]==0 and HAF and(K_7[128+O5]or K_7[144+O5]))
endfunction
function HBF takes integer O5,unit it,boolean HAF returns nothing
local integer i1=GetUnitTypeId(it)
local integer array HCF
local boolean SQ7=false
local boolean H3F=false
local boolean H6F=false
local boolean J4=false
local string HLF
local integer i
local integer FVF
local integer j
local integer QQ7
local integer H1F
local integer k
local integer FWF
local unit u
if HOF(O5)then
return
endif
if(K57[432+O5]==2)then
if U97(GetHandleId(KU4[16+O5]),"aiCrow|CurrentOwner")!=O5 then
return
endif
set KU4[32+O5]=KU4[16+O5]
else
set KU4[32+O5]=KU4[O5]
endif
if(not K_7[112+O5])then
set K57[144+O5]=MD7
else
set K57[160+O5]=R2I(Bz)+MG7
call F8F(O5,it)
endif
set K_7[48+O5]=HAF
set K_7[160+O5]=(HAF and K_7[176+O5])
set i=K57[144+O5]
if(K57[144+O5]==M97)and(not HAF)then
if(PY4)then
else
call HTF(O5,it,QC,true)
endif
call HFF(O5,it,TC,true)
endif
set FVF=U97(GetHandleId(Player(O5)),"AI|Class")
if(K57[144+O5]==M97)and(not HAF)then
set QQ7=CL7(it)
if FVF==F87 then
call HSF(O5,it,-2,TC)
else
if IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER)then
call HFF(O5,it,EZ,false)
if i1!=1211119187 then
call HFF(O5,it,BA,false)
endif
else
call HFF(O5,it,AX,false)
if QQ7==1 then
call HSF(O5,it,-2,HL)
elseif QQ7==2 then
call HSF(O5,it,-2,DL)
else
call HSF(O5,it,-2,A6)
endif
endif
endif
set K57[144+O5]=MD7
set K57[112+O5]=0
endif
if(i1==1211117636)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,VB)
call HSF(O5,it,3,D84)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,T5)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T2
endif
elseif(i1==1211122767)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DY4)
call HSF(O5,it,3,FC)
call HSF(O5,it,4,F5)
call HSF(O5,it,5,DU4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DP4
set HCF[1]=D74
set HCF[2]=N5
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,VB)
call HSF(O5,it,2,J1)
call HSF(O5,it,3,C0)
call HSF(O5,it,4,A1)
call HSF(O5,it,5,U1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=L5
set HCF[1]=T2
endif
elseif(i1==1214345830)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,T1)
call HSF(O5,it,3,DY4)
call HSF(O5,it,4,VB)
call HSF(O5,it,5,Q1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DP4
set HCF[1]=D74
set HCF[2]=U1
endif
elseif(i1==1315007329)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,NC)
call HSF(O5,it,3,U1)
call HSF(O5,it,4,VB)
call HSF(O5,it,5,E2)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=Z2
set HCF[1]=T2
set HCF[2]=L5
endif
elseif(i1==1429221456)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,FR4)
call HSF(O5,it,4,N3)
call HSF(O5,it,5,DR4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D74
endif
elseif(i1==1316252014)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,DI4)
call HSF(O5,it,4,DP4)
call HSF(O5,it,5,F5)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=N5
set HCF[1]=D74
endif
elseif(i1==1432646245)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DY4)
call HSF(O5,it,3,DM4)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,J1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T2
set HCF[1]=L5
set HCF[2]=D0
endif
elseif(i1==1160785972)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,NC)
call HSF(O5,it,3,DR4)
call HSF(O5,it,4,W5)
call HSF(O5,it,5,E2)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=L5
set HCF[1]=D0
endif
elseif(i1==1429221443)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DM4)
call HSF(O5,it,3,WL)
call HSF(O5,it,4,U1)
call HSF(O5,it,5,V1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DH4
set HCF[1]=U3
endif
elseif(i1==1311781185)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,FC)
call HSF(O5,it,4,DR4)
call HSF(O5,it,5,W5)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D74
endif
elseif(i1==1215657064)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DG4)
call HSF(O5,it,3,RW)
call HSF(O5,it,4,C0)
call HSF(O5,it,5,WL)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DH4
set HCF[1]=U3
endif
elseif(i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,NC)
call HSF(O5,it,2,DT4)
call HSF(O5,it,3,VB)
call HSF(O5,it,4,U1)
call HSF(O5,it,5,Y0)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=E2
set HCF[1]=T2
endif
elseif(i1==1211117651)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,W5)
call HSF(O5,it,3,DR4)
call HSF(O5,it,4,FC)
call HSF(O5,it,5,DI4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D74
endif
elseif(i1==1430466609)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DR4)
call HSF(O5,it,3,FR4)
call HSF(O5,it,4,W5)
call HSF(O5,it,5,DP4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D74
endif
elseif(i1==1164799855)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,VB)
call HSF(O5,it,3,DR4)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,DP4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D74
endif
elseif(i1==1211117620)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,F5)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,N3)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=X2
set HCF[1]=N5
endif
elseif(i1==1160786520)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,F5)
call HSF(O5,it,4,R5)
call HSF(O5,it,5,FC)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T5
set HCF[1]=X2
set HCF[2]=N5
endif
elseif(i1==1311787088)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DY4)
call HSF(O5,it,3,F5)
call HSF(O5,it,4,DU4)
call HSF(O5,it,5,FC)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D74
set HCF[1]=DP4
set HCF[2]=N5
endif
elseif(i1==1315334514)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,NC)
call HSF(O5,it,3,C0)
call HSF(O5,it,4,W5)
call HSF(O5,it,5,B0)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T2
set HCF[1]=Z2
endif
elseif(i1==1315074670)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,NC)
call HSF(O5,it,3,C0)
call HSF(O5,it,4,J1)
call HSF(O5,it,5,B0)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T2
set HCF[1]=L5
set HCF[2]=Z2
endif
elseif(i1==1311780946)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DY4)
call HSF(O5,it,3,VB)
call HSF(O5,it,4,D84)
call HSF(O5,it,5,DP4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=H2
set HCF[1]=D74
endif
elseif(i1==1429221451)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,RW)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,N3)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DP4
endif
elseif(i1==1430466865)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DY4)
call HSF(O5,it,3,J1)
call HSF(O5,it,4,VB)
call HSF(O5,it,5,RW)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=L5
set HCF[1]=T2
set HCF[2]=R2
endif
elseif(i1==1211117650)or(i1==1211119433)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,VB)
call HSF(O5,it,3,D84)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,H2)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DP4
endif
elseif(i1==1215723364)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,NC)
call HSF(O5,it,3,VB)
call HSF(O5,it,4,DU4)
call HSF(O5,it,5,FR4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=C0
set HCF[1]=B0
endif
elseif(i1==1332109682)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,VB)
call HSF(O5,it,4,RW)
call HSF(O5,it,5,DJ4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D44
set HCF[1]=DV4
endif
elseif(i1==1211117641)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,T1)
call HSF(O5,it,3,DJ4)
call HSF(O5,it,4,VB)
call HSF(O5,it,5,DG4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DV4
set HCF[1]=FR4
endif
elseif(i1==1432642913)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,VB)
call HSF(O5,it,3,DG4)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,Y0)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DP4
endif
elseif(i1==1429221432)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DG4)
call HSF(O5,it,3,VB)
call HSF(O5,it,4,WL)
call HSF(O5,it,5,U1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=R2
set HCF[1]=U3
endif
elseif(i1==1429221430)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DG4)
call HSF(O5,it,3,D0)
call HSF(O5,it,4,DR4)
call HSF(O5,it,5,Z2)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=E2
endif
elseif(i1==1215128178)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DY4)
call HSF(O5,it,3,DU4)
call HSF(O5,it,4,F5)
call HSF(O5,it,5,FR4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DP4
set HCF[1]=Q1
set HCF[2]=N5
endif
elseif(i1==1328558160)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,W5)
call HSF(O5,it,3,J1)
call HSF(O5,it,4,B0)
call HSF(O5,it,5,E24)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T2
set HCF[1]=X2
endif
elseif(i1==1214931305)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,LB)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,F5)
call HSF(O5,it,4,Q1)
call HSF(O5,it,5,FR4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DP4
set HCF[1]=N5
endif
elseif(i1==1211117617)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DY4)
call HSF(O5,it,3,VB)
call HSF(O5,it,4,J1)
call HSF(O5,it,5,D0)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=R2
set HCF[1]=T2
set HCF[2]=L5
endif
elseif(i1==1212363833)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DG4)
call HSF(O5,it,3,VB)
call HSF(O5,it,4,D1)
call HSF(O5,it,5,Y0)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=E1
set HCF[1]=E2
endif
elseif(i1==1212365106)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DG4)
call HSF(O5,it,3,D1)
call HSF(O5,it,4,OL)
call HSF(O5,it,5,WL)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=E1
set HCF[1]=Y0
set HCF[2]=Z2
set HCF[3]=U3
endif
elseif(i1==1333027688)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DY4)
call HSF(O5,it,3,RW)
call HSF(O5,it,4,DU4)
call HSF(O5,it,5,FR4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DP4
set HCF[1]=D44
endif
elseif(i1==1332179560)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DG4)
call HSF(O5,it,3,D1)
call HSF(O5,it,4,Y0)
call HSF(O5,it,5,WL)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=E1
set HCF[1]=H2
set HCF[2]=U3
endif
elseif(i1==1315070563)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,NC)
call HSF(O5,it,3,J1)
call HSF(O5,it,4,C0)
call HSF(O5,it,5,FR4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=Y0
set HCF[1]=T2
set HCF[2]=Z2
endif
elseif(i1==1214344551)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,VB)
call HSF(O5,it,3,R5)
call HSF(O5,it,4,H2)
call HSF(O5,it,5,DP4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T5
set HCF[1]=D44
endif
elseif(i1==1160785973)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,J1)
call HSF(O5,it,3,C0)
call HSF(O5,it,4,B0)
call HSF(O5,it,5,FR4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T2
set HCF[1]=L5
endif
elseif(i1==1433631084)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,J1)
call HSF(O5,it,3,C0)
call HSF(O5,it,4,B0)
call HSF(O5,it,5,L5)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T2
set HCF[1]=X2
endif
elseif(i1==1215130471)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,DI4)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,F5)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D74
set HCF[1]=N5
endif
elseif(i1==1164799603)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,C0)
call HSF(O5,it,3,R5)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,V1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T5
set HCF[1]=B0
endif
elseif(i1==1432580716)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,VB)
call HSF(O5,it,2,C0)
call HSF(O5,it,3,FR4)
call HSF(O5,it,4,OL)
call HSF(O5,it,5,A1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=L5
set HCF[1]=Y0
endif
elseif(i1==1214409837)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,LB)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,VB)
call HSF(O5,it,3,C0)
call HSF(O5,it,4,F5)
call HSF(O5,it,5,R5)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T5
set HCF[1]=N5
set HCF[2]=D74
endif
elseif(i1==1433105516)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DY4)
call HSF(O5,it,3,RW)
call HSF(O5,it,4,DU4)
call HSF(O5,it,5,W5)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DP4
set HCF[1]=H2
endif
elseif(i1==1211117643)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DY4)
call HSF(O5,it,3,DU4)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,Q1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DP4
set HCF[1]=D74
endif
elseif(i1==1211117633)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,T1)
call HSF(O5,it,3,DU4)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,R5)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T5
set HCF[1]=Q1
endif
elseif(i1==1332898670)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,Q1)
call HSF(O5,it,3,DU4)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,R5)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D44
set HCF[1]=T5
endif
elseif(i1==1211117624)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,D84)
call HSF(O5,it,3,DU4)
call HSF(O5,it,4,U1)
call HSF(O5,it,5,H2)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DP4
endif
elseif(i1==1315988077)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,VB)
call HSF(O5,it,3,RW)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,H2)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=Y0
endif
elseif(i1==1211117616)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,DS4)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,D84)
call HSF(O5,it,3,RW)
call HSF(O5,it,4,H2)
call HSF(O5,it,5,DJ4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DV4
set HCF[1]=DH4
endif
elseif(i1==1215063922)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,VB)
call HSF(O5,it,3,J1)
call HSF(O5,it,4,U1)
call HSF(O5,it,5,H2)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=L5
set HCF[1]=T2
endif
elseif(i1==1164207469)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DG4)
call HSF(O5,it,3,Y0)
call HSF(O5,it,4,WL)
call HSF(O5,it,5,A1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=L5
set HCF[1]=Z2
set HCF[2]=U3
endif
elseif(i1==1160786000)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,FR4)
call HSF(O5,it,4,F5)
call HSF(O5,it,5,R5)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T5
set HCF[1]=N5
set HCF[2]=DP4
endif
elseif(i1==1311781206)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,B0)
call HSF(O5,it,3,D1)
call HSF(O5,it,4,U1)
call HSF(O5,it,5,E2)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=E1
set HCF[1]=Z2
endif
elseif(i1==1311781193)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,VB)
call HSF(O5,it,3,C0)
call HSF(O5,it,4,X1)
call HSF(O5,it,5,U1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T2
endif
elseif(i1==1162032439)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,NC)
call HSF(O5,it,3,C0)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,B0)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DP4
set HCF[1]=D74
endif
elseif(i1==1430466872)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,F5)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,DI4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DP4
set HCF[1]=N5
endif
elseif(i1==1430468406)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,DI4)
call HSF(O5,it,4,DJ4)
call HSF(O5,it,5,DP4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DV4
set HCF[1]=R2
endif
elseif(i1==1164666213)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,DI4)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,DP4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=R2
endif
elseif(i1==1433168227)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,LB)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,FR4)
call HSF(O5,it,4,DI4)
call HSF(O5,it,5,D44)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D74
endif
elseif(i1==1311786311)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,DR4)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,D1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=E1
set HCF[1]=E2
endif
elseif(i1==1160786265)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,JC)
call HSF(O5,it,3,RW)
call HSF(O5,it,4,D94)
call HSF(O5,it,5,V1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DH4
set HCF[1]=L5
endif
elseif(i1==1311780930)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DY4)
call HSF(O5,it,3,RW)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,DP4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D74
set HCF[1]=W5
endif
elseif(i1==1211117649)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DY4)
call HSF(O5,it,3,DM4)
call HSF(O5,it,4,J1)
call HSF(O5,it,5,FR4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T2
set HCF[1]=DH4
set HCF[2]=D0
endif
elseif(i1==1211119187)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DY4)
call HSF(O5,it,3,C0)
call HSF(O5,it,4,X1)
call HSF(O5,it,5,V1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=R2
set HCF[1]=DH4
endif
elseif(i1==1429221446)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,D84)
call HSF(O5,it,4,DJ4)
call HSF(O5,it,5,FR4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DV4
set HCF[1]=DP4
endif
elseif(i1==1211117652)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DY4)
call HSF(O5,it,3,D84)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,H2)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DP4
set HCF[1]=DH4
endif
elseif(i1==1313026096)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,DM4)
call HSF(O5,it,4,V1)
call HSF(O5,it,5,H2)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DH4
endif
elseif(i1==1328558154)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,VB)
call HSF(O5,it,3,DM4)
call HSF(O5,it,4,J1)
call HSF(O5,it,5,U1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T2
set HCF[1]=FR4
endif
elseif(i1==1429221441)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DG4)
call HSF(O5,it,3,D1)
call HSF(O5,it,4,Y0)
call HSF(O5,it,5,WL)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=E1
set HCF[1]=DH4
set HCF[2]=U3
endif
elseif(i1==1211117654)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,J1)
call HSF(O5,it,3,B0)
call HSF(O5,it,4,X2)
call HSF(O5,it,5,E2)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T2
set HCF[1]=Z2
endif
elseif(i1==1162032951)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,C0)
call HSF(O5,it,3,B0)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,E24)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=Z2
endif
elseif(i1==1160785970)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,C0)
call HSF(O5,it,3,J1)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,A1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DH4
set HCF[1]=T2
set HCF[2]=L5
endif
elseif(i1==1160786510)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,C0)
call HSF(O5,it,3,FR4)
call HSF(O5,it,4,D1)
call HSF(O5,it,5,B0)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=E1
set HCF[1]=Z2
endif
elseif(i1==1432510828)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,W5)
call HSF(O5,it,3,B0)
call HSF(O5,it,4,H2)
call HSF(O5,it,5,Z2)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=X2
endif
elseif(i1==1165451634)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,J1)
call HSF(O5,it,3,X1)
call HSF(O5,it,4,Y0)
call HSF(O5,it,5,WL)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T2
set HCF[1]=E2
set HCF[2]=U3
endif
elseif(i1==1162032181)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,J1)
call HSF(O5,it,3,Y0)
call HSF(O5,it,4,A1)
call HSF(O5,it,5,FR4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T2
set HCF[1]=X1
set HCF[2]=L5
endif
elseif(i1==1215722344)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,C0)
call HSF(O5,it,3,U1)
call HSF(O5,it,4,J1)
call HSF(O5,it,5,A1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T2
set HCF[1]=L5
set HCF[2]=H2
endif
elseif(i1==1160786242)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,D84)
call HSF(O5,it,3,D1)
call HSF(O5,it,4,Y0)
call HSF(O5,it,5,H2)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=E1
set HCF[1]=Z2
endif
elseif(i1==1311788336)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,NC)
call HSF(O5,it,3,U1)
call HSF(O5,it,4,X1)
call HSF(O5,it,5,H2)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DH4
set HCF[1]=R2
endif
elseif(i1==1211119409)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,D84)
call HSF(O5,it,3,J1)
call HSF(O5,it,4,U1)
call HSF(O5,it,5,WL)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T2
set HCF[1]=DH4
set HCF[2]=U3
endif
elseif(i1==1332766568)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,DS4)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,D84)
call HSF(O5,it,3,RW)
call HSF(O5,it,4,AL)
call HSF(O5,it,5,FR4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DH4
endif
elseif(i1==1160786738)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,VB)
call HSF(O5,it,3,D84)
call HSF(O5,it,4,X1)
call HSF(O5,it,5,DP4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DV4
endif
elseif(i1==1160786507)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,VB)
call HSF(O5,it,3,U1)
call HSF(O5,it,4,X1)
call HSF(O5,it,5,WL)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=R2
set HCF[1]=U3
endif
elseif(i1==1430467634)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,D84)
call HSF(O5,it,3,DU4)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,DP4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DH4
endif
elseif(i1==1160786505)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,D84)
call HSF(O5,it,3,C0)
call HSF(O5,it,4,U1)
call HSF(O5,it,5,X1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DP4
endif
elseif(i1==1430468913)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,VB)
call HSF(O5,it,3,RW)
call HSF(O5,it,4,U1)
call HSF(O5,it,5,V1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=R2
endif
elseif(i1==1328558389)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,H6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,VB)
call HSF(O5,it,3,DU4)
call HSF(O5,it,4,V1)
call HSF(O5,it,5,DP4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D74
endif
elseif(i1==1211117646)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,D84)
call HSF(O5,it,3,FR4)
call HSF(O5,it,4,H2)
call HSF(O5,it,5,DP4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DH4
endif
elseif(i1==1429221424)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,F5)
call HSF(O5,it,3,R5)
call HSF(O5,it,4,U1)
call HSF(O5,it,5,DP4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D74
set HCF[1]=T5
set HCF[2]=N5
endif
elseif(i1==1160786502)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,D84)
call HSF(O5,it,3,F5)
call HSF(O5,it,4,R5)
call HSF(O5,it,5,DP4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D74
set HCF[1]=T5
set HCF[2]=N5
endif
elseif(i1==1328558406)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,D84)
call HSF(O5,it,3,DJ4)
call HSF(O5,it,4,F5)
call HSF(O5,it,5,DP4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D74
set HCF[1]=DV4
set HCF[2]=N5
endif
elseif(i1==1429221445)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,D84)
call HSF(O5,it,3,DJ4)
call HSF(O5,it,4,F5)
call HSF(O5,it,5,FR4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=H2
set HCF[1]=DV4
set HCF[2]=N5
endif
elseif(i1==1211117640)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,F5)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,R5)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D74
set HCF[1]=T5
set HCF[2]=N5
endif
elseif(i1==1311781207)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,T1)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,FR4)
call HSF(O5,it,4,FC)
call HSF(O5,it,5,DJ4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DV4
endif
elseif(i1==1160786241)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DU4)
call HSF(O5,it,2,F5)
call HSF(O5,it,3,C0)
call HSF(O5,it,4,FR4)
call HSF(O5,it,5,D0)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=N5
endif
elseif(i1==1160786243)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DU4)
call HSF(O5,it,2,FR4)
call HSF(O5,it,3,R5)
call HSF(O5,it,4,D44)
call HSF(O5,it,5,DP4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T5
endif
elseif(i1==1332963428)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DU4)
call HSF(O5,it,2,R5)
call HSF(O5,it,3,FR4)
call HSF(O5,it,4,F5)
call HSF(O5,it,5,D74)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=N5
set HCF[1]=T5
endif
elseif(i1==1430468144)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DY4)
call HSF(O5,it,2,D94)
call HSF(O5,it,3,FR4)
call HSF(O5,it,4,H2)
call HSF(O5,it,5,DP4)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DV4
endif
elseif(i1==1160786506)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DY4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,F5)
call HSF(O5,it,4,FC)
call HSF(O5,it,5,D74)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=X2
set HCF[1]=N5
endif
elseif(i1==1160786504)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DY4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,F5)
call HSF(O5,it,4,FC)
call HSF(O5,it,5,V1)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D74
set HCF[1]=N5
endif
elseif(i1==1328558390)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DY4)
call HSF(O5,it,3,RW)
call HSF(O5,it,4,D94)
call HSF(O5,it,5,F5)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=DV4
set HCF[1]=D74
set HCF[2]=N5
endif
elseif(i1==1211117653)then
if NU[O5]==1 then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,FR4)
call HSF(O5,it,4,DR4)
call HSF(O5,it,5,D74)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D0
endif
else
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,N6)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DU4)
call HSF(O5,it,3,FR4)
call HSF(O5,it,4,R5)
call HSF(O5,it,5,OL)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T5
set HCF[1]=B0
endif
endif
elseif(i1==1311781199 or i1==1311781171 or i1==1311781172 or i1==1311781173)then
if K_7[112+O5]then
set u=FOF(O5,it,(not HAF))
set K_7[192+O5]=true
else
set u=null
endif
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,G6)
call HSF(O5,u,1,DS4)
call HSF(O5,it,2,DT4)
call HSF(O5,u,3,H2)
call HSF(O5,it,4,D84)
call HSF(O5,it,5,WL)
call HSF(O5,u,6,DG4)
call HSF(O5,u,7,DH4)
call HSF(O5,it,8,U1)
call HSF(O5,u,9,U1)
call HSF(O5,u,10,E2)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=V1
set HCF[1]=U3
endif
set u=null
elseif(i1==1311788363)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,S6)
call HSF(O5,it,3,DU4)
call HSF(O5,it,4,R5)
call HSF(O5,it,5,F5)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=D74
set HCF[1]=T5
set HCF[2]=N5
set HCF[3]=FC
endif
elseif(i1==1311788343)then
if(K57[144+O5]==MD7)and(not K_7[160+O5])then
call HSF(O5,it,0,F74)
call HSF(O5,it,1,DT4)
call HSF(O5,it,2,DY4)
call HSF(O5,it,3,DU4)
call HSF(O5,it,4,Q1)
call HSF(O5,it,5,R5)
endif
if(K57[144+O5]==ME7)or(K_7[160+O5])then
set HCF[0]=T5
set HCF[1]=U1
set HCF[2]=N5
endif
else
set J4=true
endif
if(not K_7[112+O5])then
set K_7[112+O5]=true
set K57[32+O5]=0
set K57[144+O5]=M97
set Q04[112+O5]=CreateTrigger()
call TriggerAddAction(Q04[112+O5],function HNF)
call TF7(GetHandleId(Q04[112+O5]),"p",O5)
return
endif
if(not J4)and((K57[144+O5]==ME7)or(K_7[160+O5]))and(R37(it))then
if HAF then
set K_7[176+O5]=true
else
if not K_7[80+O5]then
call HGF(O5)
set K_7[80+O5]=true
set K_7[176+O5]=true
endif
endif
set SQ7=true
if K57[112+O5]!=0 and K57[432+O5]!=2 then
set FVF=-1
else
set FVF=0
endif
if(K57[464+O5]<K57[480+O5]+FVF)and(not K_7[48+O5])then
loop
exitwhen(K57[464+O5]>=K57[480+O5]+FVF)
set SQ7=false
set FWF=LoadInteger(EE7,K57[448+O5],K57[464+O5])
set i=0
loop
exitwhen(i>23)or SQ7
if(K27[O5*24+i]==FWF)then
set SQ7=true
elseif SN7(FWF,K27[O5*24+i],false)then
set SQ7=true
endif
if SQ7 then
exitwhen true
endif
set i=i+1
endloop
if SQ7 then
set SQ7=HEF(O5,it,FWF,K07[O5*24+i],true)
else
set SQ7=HSF(O5,it,-2,FWF)
endif
if(SQ7)then
set K57[464+O5]=K57[464+O5]+1
else
exitwhen true
endif
endloop
endif
if K57[112+O5]==0 and SQ7 then
if IsPlayerAlly(Player(O5),Z7[0])then
set HLF="Sent|"
else
set HLF="Scrg|"
endif
set H6F=false
loop
set H3F=false
set FVF=1
if K_7[64+O5]then
set FVF=0
endif
set SQ7=true
loop
set i=F9F(O5)
exitwhen((i<=FVF)or(SQ7==false))
set k=0
set i=0
set QQ7=0
set H1F=0
loop
exitwhen i>9
if HCF[i]!=0 then
set QQ7=i+1
endif
if HCF[10+i]!=0 then
set H1F=i+1
endif
set i=i+1
endloop
set i=0
set SQ7=false
loop
exitwhen(((not K_7[64+O5])and(i>=QQ7+QQ7))or(i>=QQ7+QQ7+H1F+H1F))
if i<QQ7 then
set j=GetRandomInt(0,QQ7)
elseif i<QQ7+QQ7 then
set j=i-QQ7
elseif i<QQ7+QQ7+H1F then
set j=10+GetRandomInt(0,H1F)
else
set j=10+(i-(QQ7+QQ7+H1F))
endif
if HCF[j]!=0 then
if(HCF[j]==T2 and(UE7(R44,VO7(it)+"|Xb")))then
set HCF[j]=0
else
set k=U97(1128887405,HLF+I2S(HCF[j]))
set FWF=U97(1128877176,I2S(GetHandleId(it))+"|"+I2S(HCF[j]))
if(k>=1)or(((not FJF(HCF[j]))and(FWF>0))or(FWF>1))or(FFF(O5,it,HCF[j])==false and(HCF[j]==T2 and SG7(it,J1))==false)then
set HCF[j]=0
else
set SQ7=HSF(O5,it,-2,HCF[j])
call SaveInteger(EE7,K57[448+O5],K57[480+O5],HCF[j])
set K57[480+O5]=K57[480+O5]+1
exitwhen true
endif
endif
endif
set i=i+1
endloop
endloop
call HGF(O5)
if K57[112+O5]==0 and(not H6F)then
set H6F=true
set SQ7=true
loop
exitwhen SQ7==false
set i=0
set j=0
set QQ7=0
set k=0
set FWF=-1
set SQ7=false
loop
exitwhen(i>5)
set bj_lastCreatedItem=UnitItemInSlot(it,i)
set FVF=RO7(bj_lastCreatedItem)
set j=0
if(LoadInteger(EE7,K57[224+O5],GetHandleId(bj_lastCreatedItem))!=0)or(UE7(1129085013,I2S(GetHandleId(it))+"|"+I2S(FVF)))then
elseif(FVF==RX)then
set j=10
elseif(FVF==DJ4)then
if(U97(1128887405,HLF+I2S(DV4))<=1)then
set j=10
else
set j=1
endif
elseif(FVF==J1)then
set j=8
elseif((FVF==VB or FVF==WB)and(not SG7(it,ZU[DH4]))and(U97(1128887405,HLF+I2S(DH4))<=1))then
set j=8
elseif(FVF==R5 or FVF==S5)then
set j=7
elseif(FVF==F5 or FVF==G5 or FVF==J5 or FVF==M5)then
set j=6
elseif((FVF==D1 and GetItemCharges(bj_lastCreatedItem)<=3)or FVF==F1)or(FVF==DK4 or FVF==DM4)or(FVF==D84 or FVF==D94)then
set j=5
elseif(FVF==A1)then
set j=4
elseif(FVF==WL)then
set j=4
elseif(FVF==FV or FVF==G6 or FVF==H6 or FVF==N6 or FVF==DS4 or FVF==LB or FVF==EC or FVF==F74)and(not K_7[64+O5])then
set j=3
endif
if j>QQ7 then
set QQ7=j
set k=i
set FWF=FVF
endif
set i=i+1
endloop
if QQ7!=0 then
if HAF then
call SaveInteger(EE7,K57[224+O5],GetHandleId(bj_lastCreatedItem),K57[48+O5])
endif
call TI7(1129085013,I2S(GetHandleId(it))+"|"+I2S(FWF),true)
call F8F(O5,it)
if(FWF==RX)then
set SQ7=HSF(O5,it,-2,DJ4)
set FWF=DJ4
elseif(FWF==DJ4)and(U97(1128887405,HLF+I2S(DV4))<=1)then
set SQ7=HSF(O5,it,-2,DV4)
set FWF=DV4
elseif(FWF==J1)then
set SQ7=HSF(O5,it,-2,T2)
set FWF=T2
elseif(FWF==R5 or FWF==S5)then
set SQ7=HSF(O5,it,-2,T5)
set FWF=T5
elseif(FWF==F5 or FWF==G5 or FWF==J5 or FWF==M5)then
set SQ7=HSF(O5,it,-2,N5)
set FWF=N5
elseif(FWF==D1 or FWF==F1)then
set SQ7=HSF(O5,it,-2,E1)
set FWF=E1
elseif(FWF==A1)then
set SQ7=HSF(O5,it,-2,L5)
set FWF=L5
elseif(FWF==WL)then
set SQ7=HSF(O5,it,-2,U3)
set FWF=U3
elseif(FWF==FV or FWF==G6 or FWF==H6 or FWF==N6 or FWF==DS4 or FWF==LB or FWF==EC or FWF==F74)then
set SQ7=HSF(O5,it,-2,F6)
if SQ7 then
set H3F=true
endif
set FWF=F6
elseif(FWF==DJ4)then
set SQ7=HSF(O5,it,-2,DV4)
set FWF=DV4
elseif(FWF==VB or FWF==WB)then
set K57[336+O5]=FWF
set SQ7=HSF(O5,it,-2,DH4)
set FWF=DH4
elseif(FWF==DK4 or FWF==DM4)or(FVF==D84 or FVF==D94)then
set K57[336+O5]=FWF
set SQ7=HSF(O5,it,-2,R2)
set FWF=R2
endif
call SaveInteger(EE7,K57[448+O5],K57[480+O5],FWF)
set K57[480+O5]=K57[480+O5]+1
endif
endloop
endif
exitwhen(not H3F)
endloop
endif
endif
if(not J4)and(i!=M97)and(not K_7[64+O5])and(not HAF)and(not SG7(it,ZU[YC]))and(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HK4[YC])then
set FVF=FXF(O5,false)-5
if FVF>0 then
set j=FSF(O5,false,false)
if j!=-1 then
call F1F(O5,it,K07[O5*24+j],K27[O5*24+j])
endif
endif
endif
if(not J4)and(i==M97)then
call HGF(O5)
set FVF=E6F(O5,it,false)
if GetHeroLevel(it)>=6 and K_7[64+O5]==false then
set FVF=FVF-1
endif
if FVF>0 and MH7 then
call SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+HK4[GY])
call HFF(O5,it,GY,false)
set FVF=FVF-1
endif
if SG7(it,ZU[TC])then
call HFF(O5,it,TC,false)
endif
set K57[320+O5]=FVF
loop
exitwhen(FVF<=0)
call HFF(O5,it,QW,false)
set FVF=FVF-1
endloop
endif
set K_7[48+O5]=false
if not HAF then
if K57[48+O5]<K57[32+O5]then
set K57[48+O5]=K57[32+O5]
endif
if K_7[192+O5]then
call FRF(O5,null)
endif
call FlushChildHashtable(EE7,K57[224+O5])
endif
call FlushChildHashtable(EE7,K57[208+O5])
call FlushChildHashtable(EE7,K57[368+O5])
set K57[160+O5]=0
if HZF(O5,HAF)then
call HXF(O5)
elseif K57[432+O5]==2 then
call HGF(O5)
set K57[192+O5]=0
set K_7[128+O5]=false
set K_7[144+O5]=false
set KU4[32+O5]=KU4[O5]
endif
if((i1==1164277353)or(i1==1164277357))or((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
call EWF(it)
endif
endfunction
function H0F takes unit it returns nothing
local integer i1=GetUnitTypeId(it)
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local integer i
local integer j
local item RQ7=null
local boolean SQ7=true
local boolean H5F=false
local boolean H2F=(not HOF(O5))
set EZ7="H_F"
if(not((Bz>=QD4-MF7)and(Bz>K57[176+O5])and(i1!=1211117642)))or K_7[224+O5]then
return
endif
set K57[176+O5]=R2I(Bz)+MG7
set hq[592+O5]=Bz+FV7
set G0[320+O5]=false
if(GetUnitState(it,UNIT_STATE_LIFE)>1000. or GetUnitState(it,UNIT_STATE_LIFE)/GetUnitState(it,UNIT_STATE_MAX_LIFE)>0.8)==false and K57[96+O5]!=0 then
if(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HK4[K57[96+O5]])then
call HBF(O5,it,true)
endif
endif
loop
exitwhen GetUnitState(it,UNIT_STATE_LIFE)>1000. or GetUnitState(it,UNIT_STATE_LIFE)/GetUnitState(it,UNIT_STATE_MAX_LIFE)>0.8
if GetUnitState(it,UNIT_STATE_LIFE)<=.405 or IG4[O5]then
set K57[176+O5]=0
return
endif
call TriggerSleepAction(1.)
endloop
if(TL4 and T24[O5]==true)then
if(UnitHasItem(it,U44[O5]))then
call DisableTrigger(H94)
call UnitRemoveItem(it,U44[O5])
call RemoveItem(U44[O5])
call SetItemVisible(U44[O5],MI7)
call EnableTrigger(H94)
endif
if(T_4[O5]!=null)then
call QA7(0.2)
call UnitAddItem(it,T_4[O5])
endif
set U44[O5]=null
set T_4[O5]=null
endif
if(U94[O5]==true)then
if(SG7(it,ZU[YC]))then
set U84[O5]=bj_lastCreatedItem
call DisableTrigger(H94)
call UnitRemoveItem(it,U84[O5])
call SetItemPosition(U84[O5],9999,-9999)
call SetItemVisible(U84[O5],MI7)
call EnableTrigger(H94)
set U84[O5]=null
endif
if(U74[O5]!=null)then
call QA7(0.2)
call UnitAddItem(it,U74[O5])
endif
set U94[O5]=false
set U74[O5]=null
endif
if(SG7(it,ZU[DK4])and(UJ7(it,"ArmletOfMordigan|Active")==true))then
call UnitUseItem(it,bj_lastCreatedItem)
endif
loop
call TriggerSleepAction(0.1)
exitwhen Bz>K57[160+O5]
if GetWidgetLife(it)<.405 then
set RQ7=null
set K57[176+O5]=0
return
endif
endloop
if((R4)and(hG[128+O5]>0))then
set UP=GetPlayerState(GetOwningPlayer(it),PLAYER_STATE_RESOURCE_GOLD)
if(UP>=hG[128+O5])then
call SetPlayerStateBJ(GetOwningPlayer(it),PLAYER_STATE_RESOURCE_GOLD,UP-hG[128+O5])
set hG[128+O5]=0
else
call SetPlayerStateBJ(GetOwningPlayer(it),PLAYER_STATE_RESOURCE_GOLD,0)
set hG[128+O5]=hG[128+O5]-UP
endif
endif
set UP=0
set EP7=null
loop
set RQ7=UnitItemInSlot(it,UP)
set i=GetPlayerId(GetItemPlayer(RQ7))
if((RQ7!=null)and((i!=O5))and(i!=15))then
if IsUnitEnemy(it,Player(i))then
set i=O5
else
if EP7==null then
set EP7=CreateForce()
call ForceEnumAllies(EP7,Player(O5),null)
endif
set bj_forLoopAIndex=GetPlayerId(GetItemPlayer(RQ7))
call VF7(it,EP7,GetObjectName(1496331312)+Q[bj_forLoopAIndex]+GetPlayerName(Player(bj_forLoopAIndex))+GetObjectName(1496331313)+GetItemName(RQ7)+GetObjectName(1496331314))
endif
set j=RO7(RQ7)
set EQ7=CreateItem(SU[j],GetUnitX(KU4[i]),GetUnitY(KU4[i]))
call SetItemPlayer(EQ7,GetItemPlayer(RQ7),false)
call SetItemCharges(EQ7,GetItemCharges(RQ7))
call RemoveItem(RQ7)
set RQ7=null
endif
set UP=UP+1
exitwhen(UP>=bj_MAX_INVENTORY)
endloop
if EP7!=null then
call DestroyForce(EP7)
set EP7=null
endif
call TriggerSleepAction(0.1)
set K_7[48+O5]=false
set K07[304+O5]=null
if SQ7 and H2F and(K57[32+O5]<K57[48+O5])then
loop
set UP=U97(1128887405,I2S(GetHandleId(it))+"|s"+I2S(K57[32+O5]))
if UP!=0 then
if K57[32+O5]>K57[240+O5]then
set i=-2
else
set i=K57[32+O5]
endif
set SQ7=HSF(O5,it,i,UP)
endif
exitwhen K57[32+O5]==K57[48+O5]or UP==0 or(not SQ7)
endloop
elseif(not H2F)then
set SQ7=false
endif
call E2F(O5)
set K57[320+O5]=0
if SQ7 and K57[96+O5]!=0 and(not K_7[144+O5])then
set SQ7=(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HK4[K57[96+O5]])
endif
if SQ7 and K57[112+O5]!=0 and K57[144+O5]!=MD7 and(not HOF(O5))then
set SQ7=HSF(O5,it,-2,K57[112+O5])
call HGF(O5)
endif
if H2F then
if(not MT7)and((UE7(R44,VO7(it)+"|W"))and(GetHeroLevel(it)>6))and(not EBF(O5,it))then
if((SG7(it,ZU[F6]))or(i1==1164799603)or(i1==1160786242)or(i1==1211117641)or(i1==1311780946)or(EQF(it)))then
if(UE7(R44,VO7(it)+"|G"))and(GetHeroLevel(it)>11)and(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1500.)and(Bz>=UD7(R44,VO7(it)+"|GTimer"))and(HTF(O5,it,EW,true))then
call TG7(R44,VO7(it)+"|GTimer",Bz+480.)
elseif((i1!=1315007329)and(i1!=1215722344)and(i1!=1430468913)and(i1!=1311781185))then
if(QE7(i1)<=2 or GetRandomInt(1,3)==1)and(U97(R44,VO7(it)+"|DustCount")<R2I(N67*I2R(U97(R44,VO7(it)+"|SentryCount"))))then
if HTF(O5,it,CC,true)then
call TF7(R44,VO7(it)+"|DustCount",U97(R44,VO7(it)+"|DustCount")+1)
endif
else
if HTF(O5,it,WC,true)then
call TF7(R44,VO7(it)+"|SentryCount",U97(R44,VO7(it)+"|SentryCount")+1)
endif
endif
endif
endif
endif
if(not H5F)and((not K_7[64+O5])and((GetHeroLevel(it)>8)or(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1000))and(i1!=1164799603)and(i1!=1160786242)and(i1!=1211117641)and(i1!=1311780946))then
if not(SG7(it,ZU[YC])or SG7(KU4[O5],ZU[YC]))and(not SH7(it))then
call HFF(O5,it,YC,true)
set H5F=true
endif
endif
call HTF(O5,it,RX,(((GetHeroLevel(it)<17)and(UE7(R44,VO7(it)+"|X"))and(i1!=1429221446)and(i1!=1164207469)and(i1!=1162032951))and((not SG7(it,ZU[DJ4]))and(not SG7(it,ZU[DV4])))))
if SQ7 or(K57[32+O5]<K57[48+O5])then
call HBF(O5,it,false)
endif
set K57[192+O5]=0
set K_7[128+O5]=false
set K_7[144+O5]=false
set K_7[320+O5]=true
call HGF(O5)
set K07[304+O5]=null
if(not H5F)and((not K_7[64+O5])and((GetHeroLevel(it)>10)or(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1000))and(i1!=1164799603)and(i1!=1160786242)and(i1!=1211117641)and(i1!=1311780946))and(not SH7(it))then
if not(SG7(it,ZU[YC])or SG7(KU4[O5],ZU[YC]))and(not SH7(it))then
call HFF(O5,it,YC,true)
set H5F=true
endif
endif
if(PY4)then
call HTF(O5,it,TC,(GetHeroLevel(it)<8)and(GetUnitState(it,UNIT_STATE_MAX_LIFE)<1000))
else
call HTF(O5,it,QC,(GetHeroLevel(it)<8)and(GetUnitState(it,UNIT_STATE_MAX_LIFE)<1000))
endif
call F4F(O5,1)
if SG7(it,ZU[YC])and GetItemCharges(bj_lastCreatedItem)==1 then
call HFF(O5,it,YC,false)
endif
if SG7(it,ZU[WC])and GetItemCharges(bj_lastCreatedItem)==1 then
call HFF(O5,it,WC,false)
endif
if SG7(it,ZU[TC])and GetItemCharges(bj_lastCreatedItem)==1 then
call HFF(O5,it,TC,false)
endif
if SG7(it,ZU[QC])and GetItemCharges(bj_lastCreatedItem)==1 then
call HFF(O5,it,QC,false)
endif
if SG7(it,ZU[WB])then
call HFF(O5,it,F84,false)
endif
call F4F(O5,0)
call E2F(O5)
call HWF(O5)
call F8F(O5,it)
call FRF(O5,null)
endif
set K57[176+O5]=0
set it=null
set RQ7=null
endfunction
function H_F takes nothing returns nothing
local unit u
local integer j
local integer QQ7
local integer k
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)then
call H0F(GetTriggerUnit())
elseif false and(Bz>=K57[160+O5])and(Bz>K57[176+O5])and(GM8(GetTriggerUnit()))then
set u=GetTriggerUnit()
set K57[160+O5]=R2I(Bz)+MG7
call F8F(O5,u)
set j=6
set k=K57[128+O5]-1
loop
exitwhen j>k
if K07[O5*24+j]!=null and(LoadBoolean(EE7,K57[256+O5],GetHandleId(K07[O5*24+j])))then
set QQ7=FBF(O5,u,K27[O5*24+j],K07[O5*24+j],false,true,false)
if QQ7!=-1 and QQ7<6 then
set K07[O5*24+QQ7]=K07[O5*24+j]
set K27[O5*24+QQ7]=K27[O5*24+j]
endif
call SetItemVisible(K07[O5*24+j],MI7)
set K07[O5*24+j]=null
endif
set j=j+1
endloop
set u=null
set K57[160+O5]=0
endif
endfunction
function I4F takes nothing returns nothing
local integer O5=1
local integer I7F=11
local boolean SQ7=false
local boolean J4=true
local integer i=R2I(Bz)+MG7
set EZ7="I4F"
loop
exitwhen O5>I7F
if O5==6 then
set O5=7
endif
set SQ7=true
set J4=false
if AK7(Player(O5))and M7[O5]!=null and(Bz>K57[160+O5])and(Bz>K57[176+O5])and(Q17(M7[O5],h9[16+O5])>1200)then
if SQ7 and K57[96+O5]!=0 then
set SQ7=(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HK4[K57[96+O5]])
endif
if((SQ7)and(K57[96+O5]!=0)and(K57[144+O5]==MD7)and(eY[O5]==1)and(eY[80+O5]==1 or eY[80+O5]==2)and(K57[32+O5]==K57[48+O5])and(EAF(K57[96+O5]))and(not GZ[160+O5])and((not SH7(M7[O5]))or(K57[320+O5]>0)))and(not K_7[288+O5])then
set K_7[240+O5]=true
set SQ7=false
elseif K_7[240+O5]then
set K_7[240+O5]=false
set bj_forLoopAIndex=GetUnitUserData(h8[O5])
if bj_forLoopAIndex>100 then
call B87(M7[O5])
endif
endif
if SQ7 and K57[112+O5]!=0 and K57[144+O5]!=MD7 and(not HOF(O5))then
set K57[160+O5]=i
set K57[176+O5]=i
set K_7[48+O5]=true
set SQ7=HSF(O5,M7[O5],-2,K57[112+O5])
if SQ7 then
set K57[112+O5]=0
endif
set K57[160+O5]=0
set K57[176+O5]=0
set K_7[48+O5]=false
set J4=true
endif
if SQ7 then
set K57[176+O5]=i
call HBF(O5,M7[O5],true)
set K57[176+O5]=0
elseif J4 then
call FlushChildHashtable(EE7,K57[208+O5])
endif
if(K57[192+O5]>M87)and(K_7[144+O5])then
set K_7[128+O5]=true
endif
if HZF(O5,true)then
call HXF(O5)
endif
endif
set O5=O5+1
endloop
endfunction
function I8F takes nothing returns nothing
set EZ7=EZ7+"(tNv)"
if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))!=MAP_CONTROL_USER and QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false)then
if((GetItemPlayer(GetManipulatedItem())!=null)and(GetItemPlayer(GetManipulatedItem())!=Player(15))and(GetItemPlayer(GetManipulatedItem())!=GetOwningPlayer(GetTriggerUnit()))and((GetItemType(GetManipulatedItem())==ITEM_TYPE_POWERUP)or(Q17(GetTriggerUnit(),S57(GetTriggerUnit()))<=2000.)))then
call UnitAddItem(M7[GetPlayerId(GetItemPlayer(GetManipulatedItem()))],GetManipulatedItem())
elseif((GetItemPlayer(GetManipulatedItem())==null)or(GetItemPlayer(GetManipulatedItem())==Player(15)))then
call SetItemPlayer(GetManipulatedItem(),GetOwningPlayer(GetTriggerUnit()),false)
endif
endif
endfunction
function I9F takes integer O5,real x,real y returns nothing
local unit it=CreateUnit(Player(15),1697656899,x,y,270.)
local texttag t=null
set EZ7="tbv"
call UnitAddAbility(it,1097625443)
call UnitAddAbility(it,1093678162)
call UnitAddAbility(it,1093685300)
call SetUnitUserData(it,O5)
set h7[O5]=it
call SetUnitX(it,x)
call SetUnitY(it,y)
if(((O5>10)and(O5<18))or((O5>30)and(O5<40))or((O5>50)and(O5<60)))then
call GroupAddUnit(ii,it)
endif
set it=null
endfunction
function IDF takes integer O5,integer A27,integer A_7,real x,real y returns nothing
call I9F(O5,x,y)
set hj[O5]=A27
set hj[256+O5]=A_7
endfunction
function IEF takes integer i,boolean QO7,real IFF returns integer
if i>5 and i<11 then
set i=11
elseif i>17 and i<25 then
set i=17
elseif i>25 and i<31 then
set i=31
elseif i>39 and i<45 then
set i=39
elseif i>45 and i<51 then
set i=51
elseif i>59 and i<100 then
set i=59
endif
if IFF>2000 then
return i
endif
if i>=11 and i<=17 then
if QO7 then
if i>15 and P14==0 then
set i=15
elseif i>16 and P14<=1 then
set i=16
endif
else
if i<13 and P34==0 then
set i=13
elseif i<12 and P34<=1 then
set i=12
endif
endif
elseif i>=31 and i<=39 then
if QO7 then
if i>35 and P04==0 then
set i=35
elseif i>37 and P04<=1 then
set i=37
endif
else
if i<34 and P64==0 then
set i=34
elseif i<33 and P64<=1 then
set i=33
endif
endif
elseif i>=51 and i<=59 then
if QO7 then
if i>57 and P54==0 then
set i=57
elseif i>58 and P54<=1 then
set i=58
endif
else
if i<55 and PL4==0 then
set i=55
elseif i<52 and PL4<=1 then
set i=52
endif
endif
endif
return i
endfunction
function IGF takes integer O5,integer i,integer k,boolean QO7 returns integer
if(i==31)or(i==32)then
return 334
elseif(i==33)then
return 328
elseif(i==34)then
if(h8[96+O5]==null or(GetUnitX(h7[35])-GetUnitY(h8[96+O5]))<=2100.)and G0[208+O5]then
return 329
else
set G0[208+O5]=false
return 326
endif
elseif(i==35)or(i==36)then
return 329
elseif(i==37)or(i==38)or(i==39)then
return 330
elseif(i==51)or(i==52)or(i==53)then
return 331
elseif(i==54)or(i==55)or(i==56)then
return 332
elseif(i==57)then
if(h8[96+O5]==null or(GetUnitY(h8[96+O5])-GetUnitX(h7[55]))<=2850.)and G0[208+O5]then
return 332
else
set G0[208+O5]=false
return 327
endif
elseif(i==58)or(i==59)then
return 333
elseif(k==1)then
if(i==11)or(i==12)then
return 334
elseif(i==13)then
return 335
elseif(i==14)then
if QO7 then
return 336
else
return 335
endif
elseif(i==15)then
return 336
elseif(i==16)or(i==17)then
return 337
endif
elseif(k==2)then
if(i==11)or(i==12)then
return 338
elseif(i==13)then
return 339
elseif(i==14)then
if QO7 then
return 341
else
return 340
endif
elseif(i==15)or(i==16)then
return 341
elseif(i==17)then
return 342
endif
endif
return 0
endfunction
function IHF takes integer O5,integer i,integer j returns boolean
if i==j then
return true
elseif(i==328 or i==334 or i==335 or i==326)and(j==328 or j==334 or j==335 or j==326)then
return true
elseif(i==329 or i==330 or i==326)and(j==329 or j==330 or j==326)then
return true
elseif(i==331 or i==332 or i==327)and(j==331 or j==332 or j==327)then
return true
elseif eY[272+O5]==0 then
if(i==338 or i==339 or i==340 or i==331 or i==332)and(j==338 or j==339 or j==340 or j==331 or j==332)then
return true
elseif(i==329 or i==330 or i==336 or i==337)and(j==329 or j==330 or j==336 or j==337)then
return true
endif
endif
return false
endfunction
function IIF takes unit P67,integer O5 returns boolean
return((not HOF(O5))and(not K_7[64+O5])and(GetUnitLevel(P67)>5)and SG7(P67,ZU[YC])==false and SH7(P67)==false and K_7[320+O5]and GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>200)
endfunction
function IJF takes nothing returns nothing
local unit P67=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(P67))
local integer UP=U97(GetHandleId(GetTriggeringTrigger()),"SentNum")
local integer i
local boolean IKF=false
set EZ7="IJF"
if GetPlayerController(Player(O5))==MAP_CONTROL_USER and P67==M7[O5]then
if(IsUnitAlly(P67,Z7[0]))then
set UP=U97(GetHandleId(GetTriggeringTrigger()),"SentNum")
else
set UP=U97(GetHandleId(GetTriggeringTrigger()),"ScrgNum")
endif
set h8[O5]=h7[UP+1]
set h8[80+O5]=h7[UP]
set h9[O5]=h7[UP-1]
set h9[16+O5]=h7[hj[UP]]
set h8[16+O5]=h7[hj[256+UP]]
endif
if((GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)and(IsUnitType(P67,UNIT_TYPE_HERO)))then
if(IsUnitAlly(P67,Z7[0]))then
set UP=U97(GetHandleId(GetTriggeringTrigger()),"SentNum")
else
set UP=U97(GetHandleId(GetTriggeringTrigger()),"ScrgNum")
endif
if(eY[O5]==9)then
if(not RB7(P67))then
set G0[176+O5]=true
endif
if((h8[128+O5]==h7[UP])and(eY[272+O5]==0))then
set h8[O5]=h7[UP]
set eY[O5]=1
elseif((h8[48+O5]==h7[UP]and(eY[272+O5]<=1))or((eY[272+O5]==1)and(G0[176+O5])))then
if eY[272+O5]==1 then
set h8[32+O5]=h7[IGF(O5,U97(GetHandleId(GetTriggeringTrigger()),"SentNum"),eY[304+O5],(IsUnitAlly(P67,Z7[0])))]
endif
set h8[48+O5]=h8[32+O5]
set h9[O5]=S57(P67)
if(iU(P67))then
if RY7(P67)then
if G0[176+O5]then
call SY7(P67,851986,h8[48+O5])
else
if hq[640+O5]<=Bz then
call SY7(P67,851986,h9[O5])
else
call SY7(P67,851983,h9[O5])
endif
endif
endif
endif
elseif eY[272+O5]>=4 then
set EN7=true
if(h8[128+O5]==h7[UP])then
set eY[O5]=1
elseif(h8[48+O5]==h7[UP])and(eY[272+O5]==5)then
set h8[48+O5]=h8[128+O5]
elseif(h8[112+O5]==h7[UP])and(eY[272+O5]==4)then
set eY[272+O5]=5
set i=GetUnitUserData(h8[112+O5])
if IsUnitAlly(P67,Z7[0])then
if(i>35 and i<40)then
set h8[48+O5]=h7[35]
elseif(i>55 and i<60)then
set h8[48+O5]=h7[55]
endif
else
if(i>30 and i<35)then
set h8[48+O5]=h7[35]
elseif(i>50 and i<55)then
set h8[48+O5]=h7[55]
endif
endif
set h8[32+O5]=h8[48+O5]
else
set EN7=false
endif
if EN7 then
if h8[96+O5]!=null then
call LSE(O5,h8[96+O5],true,true)
endif
if RY7(P67)then
if(h8[96+O5]!=null and RB7(h8[96+O5]))then
call IssueTargetOrderById(P67,851983,h8[96+O5])
else
call SY7(P67,851983,h8[48+O5])
endif
endif
endif
endif
elseif eY[O5]==1 and P67==M7[O5]and(((UP==34 and P_4>4)or UP==35 or(UP==56 and Q44>6)or UP==57)or((UP==135 and P_4<=4)or UP==136 or(UP==153 and Q44<=6)or UP==154))and(K_7[240+O5]or IIF(P67,O5))then
set bj_lastLoadedUnit=P67
set bj_lastLoadedUnit=S97(1200,SX7(P67),Condition(function WG7))
if(bj_lastLoadedUnit==null)then
if UP==34 or UP==35 or UP==136 or UP==135 then
set h8[O5]=h7[353]
elseif UP==56 or UP==57 or UP==154 or UP==153 then
set h8[O5]=h7[354]
endif
set K_7[256+O5]=true
call SY7(P67,851986,h8[O5])
endif
elseif eY[O5]==1 and is(P67)and h4[O5]==null then
if((hj[256+UP]==18)or(hj[UP]==10))then
set i=UP-10
if(P24==i)then
set IKF=true
endif
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set i=UP-30
if(P_4==i)then
set IKF=true
endif
elseif((hj[256+UP]==60)or(hj[UP]==50))then
set i=UP-50
if(Q44==i)then
set IKF=true
endif
endif
set bj_lastLoadedUnit=P67
if IKF and SG7(P67,ZU[WC])and S97(2000.,SX7(h7[UP]),Condition(function Y_7))==null and S97(800.,SX7(h7[UP]),Condition(function SF7))==null then
call UnitUseItemPoint(P67,bj_lastCreatedItem,GetUnitX(h7[UP]),GetUnitY(h7[UP]))
endif
endif
if((h8[O5]==h7[UP])or(h9[O5]==h7[UP])or((h8[16+O5]==h7[hj[256+UP]])and(h9[16+O5]==h7[hj[UP]]))or(h8[16+O5]==h7[hj[UP]])or(h9[16+O5]==h7[hj[256+UP]]))and(not K_7[256+O5])then
call B47(P67,UP)
endif
if((R17(P67))and(not Id(O5))and(GetUnitCurrentOrder(P67)==851986))then
if((UP==38)or(UP==37)or(UP==36))then
call B47(P67,32)
elseif((UP==138)or(UP==137)or(UP==136))then
call B47(P67,132)
elseif((UP==58)or(UP==57)or(UP==56))then
call B47(P67,52)
elseif((UP==158)or(UP==157)or(UP==156))then
call B47(P67,152)
endif
endif
elseif(O5==GetPlayerId(Z7[0]))then
if((hj[256+UP]==18)or(hj[UP]==10))then
set i=UP-10
if(P24+1==i)then
set P24=i
endif
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set i=UP-30
if(P_4+1==i)then
set P_4=i
endif
elseif((hj[256+UP]==60)or(hj[UP]==50))then
set i=UP-50
if(Q44+1==i)then
set Q44=i
endif
endif
elseif(O5==GetPlayerId(A7[0]))then
if((hj[256+UP]==18)or(hj[UP]==10))then
set i=UP-10
if(P24-1==i)then
set P24=i
endif
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set i=UP-30
if(P_4-1==i)then
set P_4=i
endif
elseif((hj[256+UP]==60)or(hj[UP]==50))then
set i=UP-50
if(Q44-1==i)then
set Q44=i
endif
endif
endif
set P67=null
endfunction
function IMF takes nothing returns boolean
return((((GetOwningPlayer(GetTriggerUnit())==Z7[0])or(GetOwningPlayer(GetTriggerUnit())==A7[0]))and(not RM7(GetTriggerUnit()))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)))or((not IsUnitIllusion(GetTriggerUnit()))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))))
endfunction
function INF takes nothing returns boolean
return((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))
endfunction
function IOF takes integer IPF,integer IQF returns nothing
local trigger t
local integer i=IPF
local boolexpr Ig=Condition(function IMF)
set EZ7="thv"
loop
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,h7[i],400.,Q24)
call TF7(GetHandleId(t),"SentNum",i)
call TF7(GetHandleId(t),"ScrgNum",hj[512+i])
call TriggerAddCondition(t,Ig)
call TriggerAddAction(t,function IJF)
set i=i+1
exitwhen i>IQF
endloop
set t=null
set Ig=null
endfunction
function IRF takes integer O5,integer UP,integer i,boolean QO7 returns integer
local integer j
local integer k
if UP==326 then
if i==34 then
set j=34
else
set j=IGF(O5,i,1,QO7)
endif
elseif UP==327 then
if i==57 then
set j=57
else
set j=IGF(O5,i,2,QO7)
endif
else
set k=eY[304+O5]
set j=IGF(O5,i,k,QO7)
if(j!=0)and(UP!=j)then
if IHF(O5,UP,j)then
elseif(k==1)then
set j=326
elseif(k==2)then
set j=327
endif
else
set j=i
endif
endif
return j
endfunction
function ISF takes integer O5,boolean QO7,integer UP returns nothing
local integer i
local integer j
local boolexpr ITF=null
local unit P67=null
set EZ7="(aiGank_CheckBegin)"+EZ7
if eY[272+O5]>3 then
return
endif
set eY[272+O5]=3
set i=1
set EN7=true
set bj_lastLoadedUnit=h7[OV7(QO7,0,100)]
if h8[96+O5]!=null and R37(h8[96+O5])then
set j=GetPlayerId(GetOwningPlayer(h8[96+O5]))
endif
if((hq[656+O5]<Bz)or((h8[96+O5]!=null)and(Q17(h8[96+O5],h8[j])+400<Q17(h8[96+O5],h9[j]))))then
loop
exitwhen i>5
if QO7 then
set j=GetPlayerId(Z7[i])
else
set j=GetPlayerId(A7[i])
endif
if((M7[j]!=null)and(GetWidgetLife(M7[j])>.405)and(eY[272+j]!=0)and(eY[j]==9)and(eY[288+j]==eY[288+O5])and(R17(M7[j])==false))then
if eY[272+j]<3 then
set EN7=false
endif
endif
set i=i+1
endloop
endif
if EN7 then
if(h8[96+O5]!=null and GetWidgetLife(h8[96+O5])>.405 and(eY[32+GetPlayerId(GetOwningPlayer(h8[96+O5]))]>0))then
set bj_lastLoadedUnit=h8[96+O5]
else
set bj_lastLoadedUnit=h8[112+O5]
endif
set ITF=Condition(function WA7)
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(M7[O5]),GetUnitY(M7[O5]),1800.,ITF)
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit),1800.,ITF)
call DestroyBoolExpr(ITF)
call GroupAddGroup(H8,iA)
set ITF=null
set j=0
loop
set P67=FirstOfGroup(iA)
exitwhen P67==null
call GroupRemoveUnit(iA,P67)
if GetUnitTypeId(P67)!=1211117642 and GetUnitLifePercent(P67)>50 then
if IsUnitAlly(P67,Player(O5))then
set j=j+1
elseif eY[32+GetPlayerId(GetOwningPlayer(P67))]>0 then
set j=j-1
endif
endif
endloop
if QO7 then
set EP7=X7
else
set EP7=Y7
endif
if j>=0 then
if QO7 then
set bj_lastLoadedUnit=null
if(h8[96+O5]!=null and GetWidgetLife(h8[96+O5])>.405 and IsUnitVisible(h8[96+O5],Z7[0]))then
set bj_lastLoadedUnit=h8[96+O5]
else
set bj_lastLoadedUnit=h8[112+O5]
endif
else
if(h8[96+O5]!=null and GetWidgetLife(h8[96+O5])>.405 and IsUnitVisible(h8[96+O5],A7[0]))then
set bj_lastLoadedUnit=h8[96+O5]
else
set bj_lastLoadedUnit=h8[112+O5]
endif
endif
call VJ7(EP7,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit),O5)
set h8[48+O5]=h8[112+O5]
set h8[32+O5]=h8[48+O5]
set bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(h8[96+O5]))
set i=1
loop
exitwhen i>5
if QO7 then
set j=GetPlayerId(Z7[i])
else
set j=GetPlayerId(A7[i])
endif
if(eY[272+j]!=0)and(eY[j]==9)and(eY[288+j]==eY[288+O5])then
set h8[96+j]=h8[96+O5]
if GetWidgetLife(h8[96+O5])>.405 and IsUnitVisible(h8[96+O5],Player(O5))then
call LSE(j,h8[96+j],true,true)
endif
set h8[48+j]=h8[48+O5]
set h8[32+j]=h8[32+O5]
if not RY7(M7[j])then
if h4[j]!=null then
call IssueTargetOrderById(M7[j],851983,h4[j])
else
call SY7(M7[j],851983,h8[48+j])
endif
endif
set eY[272+j]=4
set hq[624+j]=Bz+F17
set GZ[128+j]=true
set G0[128+j]=true
set G0[256+j]=true
call VK7(M7[j],EP7)
if h8[96+O5]!=null then
call VF7(M7[j],EP7,GetObjectName(1496330544)+Q[bj_forLoopAIndex]+GetUnitName(h8[96+O5])+"|r")
else
call VF7(M7[j],EP7,GetObjectName(1496330297)+QJ7(eY[288+O5],false)+"|r")
endif
endif
set i=i+1
endloop
else
set bj_lastLoadedUnit=h7[IRF(O5,GetUnitUserData(h8[32+O5]),GetUnitUserData(h8[128+O5]),QO7)]
if h8[32+O5]==bj_lastLoadedUnit then
set h8[32+O5]=h8[128+O5]
else
set h8[32+O5]=bj_lastLoadedUnit
endif
set i=1
loop
exitwhen i>5
if QO7 then
set j=GetPlayerId(Z7[i])
else
set j=GetPlayerId(A7[i])
endif
if(eY[272+j]!=0)and(eY[j]==9)and(eY[288+j]==eY[288+O5])then
set eY[272+j]=0
set h8[128+j]=h8[128+O5]
set h8[32+j]=h8[32+O5]
set h8[48+j]=h8[32+j]
if RY7(M7[O5])then
call SY7(M7[O5],851986,h8[32+j])
endif
call VK7(M7[j],EP7)
call VF7(M7[j],EP7,GetObjectName(1496330296))
endif
set i=i+1
endloop
endif
else
if not G0[192+O5]then
set hq[656+O5]=Bz+FL7
set G0[192+O5]=true
endif
set h8[48+O5]=h7[UP]
if RY7(M7[O5])then
call IssueImmediateOrderById(M7[O5],851993)
endif
endif
set P67=null
endfunction
function IUF takes boolean QO7,integer O5,unit m5 returns nothing
local integer i=0
local integer j=0
local real IVF=Q17(M7[O5],m5)
local real LK7
set i=1
loop
exitwhen i>11
if QO7 then
set j=GetPlayerId(Z7[i])
else
set j=GetPlayerId(A7[i])
endif
if((M7[j]!=null)and(GetWidgetLife(M7[j])>.405)and(h4[j]!=null)and(eY[j]==1 or eY[j]>9)and(eY[64+j]==eY[288+O5]or eY[80+j]==eY[288+O5])and(R17(M7[j])==false))then
set LK7=Q17(M7[j],m5)
if LK7>IVF-400 then
set h4[j]=m5
set hq[624+j]=Bz+F17
if is(M7[j])then
call IssueTargetOrderById(M7[j],851983,m5)
endif
endif
endif
set i=i+1
endloop
endfunction
function IWF takes nothing returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
return((GetTriggerUnit()==M7[O5])and(eY[O5]==9)and(AK7(Player(O5))))
endfunction
function IXF takes nothing returns nothing
local unit P67=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(P67))
local integer UP
local integer i
local integer j
local integer k
local boolean QO7
set UP=U97(GetHandleId(GetTriggeringTrigger()),"Num")
set QO7=IsUnitAlly(P67,Z7[0])
if(eY[272+O5]==0)or((eY[272+O5]<=3)and(h8[48+O5]==h7[UP]))then
if eY[272+O5]==0 then
set i=GetUnitUserData(h8[128+O5])
else
set i=GetUnitUserData(h8[112+O5])
endif
set j=IRF(O5,UP,i,QO7)
if(eY[272+O5]==0)then
set h8[48+O5]=h7[j]
set h8[32+O5]=h8[48+O5]
if RY7(M7[O5])then
call SY7(M7[O5],851983,h8[48+O5])
endif
else
if j<100 then
call ISF(O5,QO7,UP)
else
set eY[272+O5]=2
set h8[48+O5]=h7[j]
set h8[32+O5]=h8[48+O5]
if is(M7[O5])then
call SY7(M7[O5],851983,h8[48+O5])
endif
endif
endif
endif
set P67=null
endfunction
function IYF takes integer k,integer j returns nothing
local trigger t
local integer i=k
local boolexpr IZF=Condition(function IWF)
set EZ7="aiRegisterGankPoint"
loop
exitwhen i>j
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,h7[i],400.,Q24)
call TF7(GetHandleId(t),"Num",i)
call TriggerAddCondition(t,IZF)
call TriggerAddAction(t,function IXF)
set i=i+1
endloop
set IZF=null
set t=null
endfunction
function IAF takes nothing returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
return((GetTriggerUnit()==M7[O5])and(AK7(Player(O5))))
endfunction
function IBF takes nothing returns nothing
local unit it=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP=U97(GetHandleId(GetTriggeringTrigger()),"Num")
if AG7(Player(O5))then
if UP==353 then
call B47(it,34)
elseif UP==354 then
call B47(it,56)
endif
else
if UP==353 then
call B47(it,135)
elseif UP==354 then
call B47(it,153)
endif
endif
if(is(it))then
set bj_lastLoadedUnit=it
set bj_lastLoadedUnit=S97(700,SX7(h8[O5]),Condition(function WG7))
if(bj_lastLoadedUnit!=null)then
call SY7(it,851986,h9[O5])
else
call SY7(it,851983,h8[O5])
endif
endif
if(IIF(it,O5))then
set K_7[320+O5]=HTF(O5,it,YC,true)
endif
if(K_7[240+O5])then
if(K57[144+O5]==MD7)and(K_7[224+O5]==false)then
set K57[432+O5]=1
set K57[176+O5]=R2I(Bz)+MG7
call HBF(O5,it,false)
set K57[176+O5]=0
set K57[432+O5]=0
endif
set K_7[240+O5]=false
set K_7[256+O5]=false
endif
set it=null
endfunction
function ICF takes integer k,integer j returns nothing
local trigger t
local integer i=k
local boolexpr IZF=Condition(function IAF)
set EZ7="aiRegisterSideShop"
loop
exitwhen i>j
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,h7[i],200.,Q24)
call TF7(GetHandleId(t),"Num",i)
call TriggerAddCondition(t,IZF)
call TriggerAddAction(t,function IBF)
set i=i+1
endloop
set IZF=null
set t=null
endfunction
function I3F takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
local integer UP=U97(GetHandleId(GetTriggeringTrigger()),"Num")
set EZ7="I3F"
if(((UP==311)or(UP==312))and(eY[O5]==1))then
if(IsUnitAlly(GetTriggerUnit(),Z7[0]))then
if(h8[O5]==h7[36])then
call B47(GetTriggerUnit(),34)
endif
else
if(h8[O5]==h7[136])then
call B47(GetTriggerUnit(),134)
endif
endif
elseif(UP==313)then
if(IsUnitAlly(GetTriggerUnit(),A7[0]))then
if(h8[O5]==h7[136])then
set h9[O5]=h7[135]
endif
endif
elseif(UP==314)then
if(IsUnitAlly(GetTriggerUnit(),Z7[0]))then
if(h8[O5]==h7[36])then
set h9[O5]=h7[35]
endif
else
if(h8[O5]==h7[136])then
call B47(GetTriggerUnit(),135)
endif
endif
elseif(((UP==321)or(UP==322))and(eY[O5]==1))then
if(IsUnitAlly(GetTriggerUnit(),Z7[0]))then
if(h8[O5]==h7[56])then
call B47(GetTriggerUnit(),54)
endif
else
if(h8[O5]==h7[156])then
call B47(GetTriggerUnit(),154)
endif
endif
elseif((UP==315)and(h8[32+O5]==h7[315])and(eY[O5]==10))then
set h8[32+O5]=h9[32+O5]
call SY7(GetTriggerUnit(),851986,h8[32+O5])
elseif((UP==325)and(h8[32+O5]==h7[325])and(eY[O5]==10))then
set h8[32+O5]=h9[32+O5]
call SY7(GetTriggerUnit(),851986,h8[32+O5])
endif
endfunction
function I6F takes integer IPF returns nothing
local trigger t=CreateTrigger()
set EZ7="tkv"
call TriggerRegisterUnitInRange(t,h7[IPF],400.,Q24)
call TF7(GetHandleId(t),"Num",IPF)
call TriggerAddCondition(t,Condition(function INF))
call TriggerAddAction(t,function I3F)
endfunction
function ILF takes nothing returns nothing
call I9F(0,-7100,-6985)
call I9F(100,6644,6239)
call I9F(1,-5088.,-6426.)
call I9F(101,4826.,4177.)
call I9F(2,-4290.,-4302.)
call I9F(3,-3288.,-6529.)
call I9F(4,-6238.,-3594.)
call I9F(102,3493.,3180.)
call I9F(103,3041.,5967.)
call I9F(104,6041.,2585.)
set h7[10]=h7[0]
set h7[118]=h7[1]
call IDF(11,10,14,-4166.,-4124.)
call IDF(12,10,14,-2897.,-2633.)
call IDF(13,10,14,-1363.,-1425.)
call IDF(14,10,18,-594.,-602.)
call IDF(15,14,18,553.,-55.)
call IDF(16,14,18,1858.,1109.)
call IDF(17,14,18,3207.,2741.)
call A57(111,17,110,114)
call A57(112,16,110,114)
call A57(113,15,110,114)
call A57(114,14,110,118)
call A57(115,13,114,118)
call A57(116,12,114,118)
call A57(117,11,114,118)
set h7[18]=h7[101]
set h7[110]=h7[100]
set h7[30]=h7[0]
set h7[140]=h7[1]
call IDF(31,30,35,-6267.,-3320.)
call IDF(32,30,35,-6377.,-1771.)
call IDF(33,30,35,-6066.,273.)
call IDF(34,30,35,-6241.,2786.)
call IDF(35,30,40,-6056.,5347.)
call IDF(36,35,40,-3254.,5752.)
call IDF(37,35,40,-819.,5859.)
call IDF(38,35,40,1086.,5572.)
call IDF(39,35,40,2675.,6207.)
call A57(131,39,130,135)
call A57(132,38,130,135)
call A57(133,37,130,135)
call A57(134,36,130,135)
call A57(135,35,130,140)
call A57(136,34,135,140)
call A57(137,33,135,140)
call A57(138,32,135,140)
call A57(139,31,135,140)
set h7[40]=h7[101]
set h7[130]=h7[100]
set h7[50]=h7[0]
set h7[160]=h7[1]
call IDF(51,50,55,-3196.,-6567.)
call IDF(52,50,55,-237.,-6939.)
call IDF(53,50,55,1811.,-6860.)
call IDF(54,50,55,3727.,-6784.)
call IDF(55,50,60,5532.,-6495.)
call IDF(56,55,60,5943.,-5216.)
call IDF(57,55,60,6186.,-3270.)
call IDF(58,55,60,6040.,-646.)
call IDF(59,55,60,6018.,2213.)
call A57(151,59,150,155)
call A57(152,58,150,155)
call A57(153,57,150,155)
call A57(154,56,150,155)
call A57(155,55,150,160)
call A57(156,54,155,160)
call A57(157,53,155,160)
call A57(158,52,155,160)
call A57(159,51,155,160)
set h7[60]=h7[101]
set h7[150]=h7[100]
set h7[211]=h7[12]
set h7[212]=h7[13]
set h7[213]=h7[16]
call I9F(221,-6220.,3550.)
set h7[222]=h7[36]
set h7[223]=h7[37]
set h7[231]=h7[53]
set h7[232]=h7[54]
set h7[233]=h7[56]
call I9F(234,6070.,-3550.)
set h7[235]=h7[58]
call I9F(250,GetRectCenterX(ND),GetRectCenterY(ND))
call I9F(251,GetRectCenterX(Br),GetRectCenterY(Br))
call I9F(252,GetRectCenterX(cr),GetRectCenterY(cr))
call I9F(253,GetRectCenterX(Cr),GetRectCenterY(Cr))
call I9F(254,GetRectCenterX(fr),GetRectCenterY(fr))
call I9F(255,GetRectCenterX(Fr),GetRectCenterY(Fr))
call I9F(256,GetRectCenterX(Hr),GetRectCenterY(Hr))
call I9F(257,GetRectCenterX(jr),GetRectCenterY(jr))
call I9F(258,GetRectCenterX(Jr),GetRectCenterY(Jr))
call I9F(259,GetRectCenterX(lr),GetRectCenterY(lr))
call I9F(260,GetRectCenterX(mr),GetRectCenterY(mr))
call I9F(261,GetRectCenterX(Ni),GetRectCenterY(Ni))
call I9F(262,GetRectCenterX(Bi),GetRectCenterY(Bi))
call I9F(311,-5232.,3757.)
call I9F(312,-3490.,4685.)
call I9F(313,-6209.,4324.)
call I9F(314,-5024.,5571.)
call I9F(315,-1717.,894.)
call I9F(321,3995.,-5720.)
call I9F(322,4976.,-5129.)
call I9F(325,2222.,-2405.)
call I9F(326,-2300.,1600.)
call I9F(327,3000.,-1820.)
call I9F(328,-4250.,-110.)
call I9F(329,-3950.,4100.)
call I9F(330,150.,2460.)
call I9F(331,2100.,-5600.)
call I9F(332,4350.,-4750.)
call I9F(333,4650.,-1050.)
call I9F(334,-3300.,-1450.)
call I9F(335,-1750.,-100.)
call I9F(336,-250.,700.)
call I9F(337,890.,2100.)
call I9F(338,-2100.,-4200.)
call I9F(339,-310.,-2900.)
call I9F(340,800.,-2200.)
call I9F(341,1900.,-1300.)
call I9F(342,3600.,-100.)
call I9F(351,-5210,5660)
call I9F(352,5260,-6470)
call I9F(353,-7080,4280)
call I9F(354,7210,-4230)
endfunction
function I1F takes nothing returns nothing
local trigger t
set EZ7="I1F"
call IOF(11,17)
if(not PE4)then
call IOF(31,39)
call IOF(51,59)
endif
call I6F(311)
call I6F(312)
call I6F(313)
call I6F(314)
call I6F(315)
call I6F(321)
call I6F(322)
call I6F(325)
call IYF(326,342)
call ICF(353,354)
endfunction
function I0F takes integer o6,integer D_F,integer n6 returns integer
if(D_F<o6)then
return o6
elseif(D_F>n6)then
return n6
endif
return D_F
endfunction
function I5F takes unit it,integer o6 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP=GetUnitUserData(h8[O5])
local integer I2F
set EZ7="tpv"
if(IsUnitAlly(it,Z7[0]))then
if(((o6==-1)and((hj[256+UP]==18)or(hj[UP]==10)))or(o6==0))then
set I2F=9+P24
call B47(it,I0F(11,I2F,17))
elseif(((o6==-1)and((hj[256+UP]==40)or(hj[UP]==30)))or(o6==1))then
set I2F=29+P_4
call B47(it,I0F(31,I2F,39))
elseif(((o6==-1)and((hj[256+UP]==60)or(hj[UP]==50)))or(o6==2))then
set I2F=49+Q44
call B47(it,I0F(51,I2F,59))
endif
else
set UP=hj[512+UP]
if(((o6==-1)and((hj[256+UP]==118)or(hj[UP]==110)))or(o6==0))then
set I2F=117-P24
call B47(it,I0F(111,I2F,117))
elseif(((o6==-1)and((hj[256+UP]==140)or(hj[UP]==130)))or(o6==1))then
set I2F=139-P_4
call B47(it,I0F(131,I2F,139))
elseif(((o6==-1)and((hj[256+UP]==160)or(hj[UP]==150)))or(o6==2))then
set I2F=159-Q44
call B47(it,I0F(151,I2F,159))
endif
endif
endfunction
function I_F takes unit it,unit J4F returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1=GetUnitTypeId(it)
local real QL7=Bz+10
set EZ7="(aiHealOnFountain_tsv)"+EZ7
if(i1!=1211117642)then
set h9[16+O5]=S57(it)
set h9[O5]=S57(it)
call QS7(it,O5)
set G0[32+O5]=true
set GZ[O5]=false
set G0[48+O5]=false
set G0[O5]=false
set GZ[160+O5]=false
set hq[864+O5]=GetRandomReal(-EV7,EV7)
call SaveBoolean(L7,GetHandleId(it),1145131595,false)
call RemoveSavedHandle(L7,GetHandleId(it),1145131595)
if Bz>QD4 then
call EnableTrigger(Q04[128+O5])
endif
endif
call RemoveGuardPosition(it)
loop
exitwhen((GetUnitLifePercent(it)>95.)and(GetUnitManaPercent(it)>95.)and(Bz>QL7 or(Bz>K57[160+O5])))
if(((PU4)and(IsUnitAlly(it,Z7[0])))or((PV4)and(IsUnitAlly(it,A7[0]))))then
exitwhen((GetUnitLifePercent(it)>75.)and(GetUnitManaPercent(it)>25.))
endif
if(not R37(it))then
set eY[O5]=1
exitwhen true
endif
if(IsUnitInRange(it,J4F,600.))then
call SetUnitLifePercentBJ(it,RMinBJ(GetUnitLifePercent(it)+5.,100.))
call SetUnitManaPercentBJ(it,RMinBJ(GetUnitManaPercent(it)+5.,100.))
if(is(it))then
call IssueTargetOrderById(it,851971,J4F)
endif
elseif(not R37(J4F))then
exitwhen true
endif
call TriggerSleepAction(1.)
endloop
endfunction
function J7F takes integer O5,unit J8F,unit J9F,unit JDF returns boolean
local integer i=0
local boolean SQ7=false
set EZ7="tTv"
set bj_lastReplacedUnit=null
if(O5==0)then
set bj_lastReplacedUnit=J8F
elseif(O5==1)then
set bj_lastReplacedUnit=J9F
elseif(O5==2)then
set bj_lastReplacedUnit=JDF
else
return false
endif
set i=U97(GetHandleId(bj_lastReplacedUnit),"AI|TowerDef_Require")
if(i>0)then
call TF7(GetHandleId(bj_lastReplacedUnit),"AI|TowerDef_Require",i-1)
return true
endif
return false
endfunction
function JEF takes unit A_7 returns boolean
call MoveLocation(Ha,GetUnitX(A_7),GetUnitY(A_7))
return((SD7(1800.,Ha,Condition(function WN7))-(SD7(1400.,Ha,Condition(function WM7))*4))>5)
endfunction
function JFF takes nothing returns nothing
local integer i=1
local integer j=0
loop
exitwhen j>10
if(E37[112+j]!=0)then
set E37[144+j]=R2I(Bz)+F37
endif
set E37[112+j]=0
set E37[128+j]=0
set j=j+1
endloop
set i=1
loop
exitwhen i>11
if(M7[i]!=null)then
call Q_7(i)
endif
set i=i+1
endloop
set i=1
loop
exitwhen i>5
set j=GetPlayerId(Z7[i])
if((eY[80+j]==3)and(eY[64+j]<3))or(eY[64+j]==5)then
set E37[112+eY[64+j]]=E37[112+eY[64+j]]+1
else
set E37[112+eY[80+j]]=E37[112+eY[80+j]]+1
endif
if eY[32+j]>0 then
set E37[128+eY[80+j]]=E37[128+eY[80+j]]+1
endif
set j=GetPlayerId(A7[i])
if((eY[80+j]==4)and(eY[64+j]<3))or(eY[64+j]==5)then
set E37[112+6+eY[64+j]]=E37[112+6+eY[64+j]]+1
else
set E37[112+6+eY[80+j]]=E37[112+6+eY[80+j]]+1
endif
if eY[32+j]>0 then
set E37[128+6+eY[80+j]]=E37[128+6+eY[80+j]]+1
endif
set i=i+1
endloop
endfunction
function JJF takes unit it returns integer
local integer j=3
local integer O5=GetPlayerId(GetOwningPlayer(it))
set EZ7="aiChooseLaneScourge_tzv"
if(G3>=0)then
set j=G3
elseif(GetHeroLevel(it)<6)then
set j=eY[64+O5]
elseif(GetHeroLevel(it)>=PC4)then
if(PV4 and E37[64+O5]>=0)then
set j=OV7(E37[64+O5]==3,0,E37[64+O5])
elseif(G1>=0)then
set j=G1
endif
endif
if(j==3)then
set bj_lastLoadedUnit=it
if(J7F(P14,JL4,J54,K44))then
set EZ7=EZ7+" a"
set j=0
elseif(J7F(P54,J14,J24,K74))then
set EZ7=EZ7+" c"
set j=2
elseif(J7F(P04,J64,J04,J_4))then
set EZ7=EZ7+" b"
set j=1
elseif(IC(O5))then
if(E37[112+6+0]==1)then
set EZ7=EZ7+" d"
set j=0
elseif(E37[112+6+1]==1)then
set EZ7=EZ7+" 3"
if((E37[112+6+2]==0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
endif
elseif(((E37[112+6+0]==0)and(E37[128+0]>0))or((E37[128+0]-E37[112+6+0])>1))then
set EZ7=EZ7+" f"
set j=0
elseif((E37[128+1]-E37[112+6+1])>1)then
set EZ7=EZ7+" g"
set j=1
elseif((E37[128+2]-E37[112+6+2])>1)then
set EZ7=EZ7+" h"
set j=2
elseif((E37[112+6+1]==0)and(E37[128+1]>0))then
set EZ7=EZ7+" i"
if((E37[112+6+2]>0)or(E37[128+2]==0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
elseif((E37[112+6+2]==0)and(E37[128+2]>0))then
set EZ7=EZ7+" j"
set j=2
elseif(E37[112+6+0]==0)then
set EZ7=EZ7+" k"
set j=0
elseif(E37[112+6+1]==0)then
set EZ7=EZ7+" l"
if((E37[112+6+2]>0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
elseif(E37[112+6+2]==0)then
set EZ7=EZ7+" m"
set j=2
endif
elseif((GetHeroLevel(it)>13)and(G3<0)and(G1>=0)and(j==G1)and((E37[128+j])-E37[112+6+j]>=0))then
if((j!=0)and(P14>=2)and(JEF(h7[17])))then
set EZ7=EZ7+" n"
set j=0
elseif((j!=1)and(P04>=2)and(JEF(h7[39])))then
set EZ7=EZ7+" o"
set j=1
elseif((j!=2)and(P54>=2)and(JEF(h7[59])))then
set EZ7=EZ7+" p"
set j=2
endif
endif
if(j>=3)then
set EZ7=EZ7+" q"
set j=eY[64+O5]
if(j>=3)then
set j=GetRandomInt(0,2)
endif
endif
return j
endfunction
function JKF takes unit P67 returns nothing
local unit RL7=null
local integer O5=GetPlayerId(GetOwningPlayer(P67))
local integer i
local boolean J4=false
local integer QP7=OV7(IsUnitAlly(P67,Z7[0]),0,24)
set EZ7="aiDef_Actions_u8v"
set hq[528+O5]=Bz+5.
if((is(P67))and(not R17(P67))and(not G0[32+O5]))and(h4[O5]==null)then
call GroupClear(H8)
set bj_lastLoadedUnit=P67
call GroupEnumUnitsInRange(H8,GetUnitX(P67),GetUnitY(P67),700.,E17)
set i=(UW7(H8))
if G0[48+O5]and Bz>hq[768+O5]then
set J4=(i>2)
if not J4 then
set G0[48+O5]=false
endif
if not J4 then
else
endif
endif
if(not J4)and RY7(P67)then
set bj_lastLoadedUnit=OR7(IsUnitAlly(P67,Z7[0]),IZ4,JA4)
set EJ7=Q17(P67,bj_lastLoadedUnit)
if G0[240+O5]then
if(EJ7>3500.)then
call SY7(P67,851986,h9[O5])
set J4=true
else
set G0[240+O5]=false
endif
endif
if(not J4)then
if(EJ7>6000.)then
call SY7(P67,851986,h9[O5])
elseif EJ7<700. and i>0 then
set J4=SY7(P67,851983,h8[64+O5])
else
if(not J4)and(E67[QP7+E37[64+O5]]==E67[QP7+4+E37[64+O5]])then
set RL7=E67[QP7+4+E37[64+O5]]
if RL7!=null and GetWidgetLife(RL7)>.405 then
set J4=IssueTargetOrderById(P67,851983,RL7)
endif
endif
if(not J4)and G0[224+O5]then
set RL7=E67[48+O5]
if RL7!=null and GetWidgetLife(RL7)>.405 then
set J4=IssueTargetOrderById(P67,851983,RL7)
endif
if not J4 then
set G0[224+O5]=false
endif
endif
if not J4 then
set RL7=E67[QP7+E37[64+O5]]
if RL7!=null and GetWidgetLife(RL7)>.405 then
set J4=IssueTargetOrderById(P67,851983,RL7)
endif
endif
if not J4 then
set RL7=E67[QP7+16+E37[64+O5]]
if RL7==null or GetWidgetLife(RL7)<.405 then
set RL7=FirstOfGroup(H8)
if RL7!=null then
set E67[QP7+16+E37[64+O5]]=RL7
else
set RL7=E67[QP7+12+E37[64+O5]]
if RL7==null or GetWidgetLife(RL7)<.405 then
set RL7=h8[64+O5]
endif
endif
endif
if(Q17(P67,RL7)>FS7)then
set J4=SY7(P67,851986,RL7)
elseif GetUnitCurrentOrder(P67)!=851983 then
set J4=SY7(P67,851983,RL7)
endif
endif
endif
endif
endif
endif
set P67=null
set RL7=null
endfunction
function JMF takes unit JNF,integer O5,boolean JOF returns nothing
local integer j
local integer QP7
set EZ7="(tZv)"+EZ7
set G0[32+O5]=false
set G0[352+O5]=false
if(JOF)then
set QP7=OV7(IsUnitAlly(JNF,Z7[0]),0,24)
if E37[64+O5]>=0 and E37[QP7+E37[64+O5]]>FH7 then
set eY[O5]=OV7((not GZ[480+O5]),3,4)
else
set j=QN7(IsUnitAlly(JNF,Z7[0]))
if j!=-1 then
set E37[64+O5]=j
set E37[QP7+8+j]=E37[QP7+8+j]-1
set E37[QP7+12+j]=E37[QP7+12+j]+1
call QS7(JNF,O5)
set eY[O5]=OV7((not GZ[480+O5]),3,4)
endif
endif
endif
if(eY[O5]==3 or eY[O5]==4)then
call JKF(JNF)
else
if(Bz>QD4)and(is(JNF))then
call SY7(JNF,851983,h8[O5])
endif
set eY[O5]=1
endif
endfunction
function JPF takes integer JHF,integer JQF returns integer
if((PE4)or((PH4)and(PF4)))then
return 0
elseif((PG4)and(PF4))then
return 1
elseif((PG4)and(PH4))then
return 2
elseif((JQF>15)or((JHF==0)and(not PG4))or((JHF==1)and(not PH4))or((JHF==2)and(not PF4)))then
return JHF
elseif((not PG4)and(((PH4)and(PF4))or(GetRandomInt(1,2)==1)))then
return 0
elseif((not PH4)and((PF4)or(GetRandomInt(1,2)==1)))then
return 1
elseif(not PF4)then
return 2
endif
return GetRandomInt(0,2)
endfunction
function JRF takes unit it returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer j=0
set EZ7="JSF"
if(GetUnitTypeId(it)!=1211117642)then
if(eY[O5]==2)then
set it=null
return
else
set eY[O5]=2
set h8[O5]=h7[111]
endif
endif
call I_F(it,JA4)
if(GetUnitTypeId(it)!=1211117642)then
if Bz>QD4 then
set j=eY[64+O5]
set eY[64+O5]=5
call JFF()
endif
set eY[64+O5]=j
set j=JPF(JJF(it),GetHeroLevel(it))
if(j==0)then
set h8[O5]=h7[111]
set h8[16+O5]=h7[114]
elseif(j==1)then
set h8[O5]=h7[131]
set h8[16+O5]=h7[135]
else
set h8[O5]=h7[151]
set h8[16+O5]=h7[155]
endif
set eY[64+O5]=j
set hq[576+O5]=Bz+FB7
call JMF(it,O5,PV4)
endif
set it=null
endfunction
function JSF takes nothing returns nothing
call JRF(GetTriggerUnit())
endfunction
function JTF takes unit it returns integer
local integer j=3
local integer O5=GetPlayerId(GetOwningPlayer(it))
set EZ7="aiChooseLaneSent_t3v"
if(G4>=0)then
set j=G4
elseif(GetHeroLevel(it)<6)then
set j=eY[64+O5]
elseif(GetHeroLevel(it)>=PB4)then
if(PU4 and E37[64+O5]>=0)then
set j=OV7(E37[64+O5]==3,0,E37[64+O5])
elseif(G1>=0)then
set j=G2
endif
endif
if(j==3)then
set bj_lastLoadedUnit=it
if(J7F(P34,JH4,JK4,JO4))then
set j=0
elseif(J7F(P64,JG4,JJ4,JN4))then
set j=1
elseif(J7F(PL4,JI4,JM4,JP4))then
set j=2
elseif(IC(O5))then
if(E37[112+0]==1)then
set j=0
elseif(E37[112+1]==1)then
if((E37[112+2]==0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
endif
elseif(((E37[112+0]==0)and(E37[128+6+0]>0))or((E37[128+6+0]-E37[112+0])>1))then
set j=0
elseif((E37[128+6+1]-E37[112+1])>1)then
set j=1
elseif((E37[128+6+2]-E37[112+2])>1)then
set j=2
elseif((E37[112+1]==0)and(E37[128+6+1]>0))then
if((E37[112+2]>0)or(E37[128+6+2]==0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
elseif((E37[112+2]==0)and(E37[128+6+2]>0))then
set j=2
elseif(E37[112+0]==0)then
set j=0
elseif(E37[112+1]==0)then
if((E37[112+2]>0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
elseif(E37[112+2]==0)then
set j=2
endif
elseif((GetHeroLevel(it)>13)and(G4<0)and(G2>=0)and(j==G2)and((E37[128+6+j]-E37[112+j])>=0))then
if((j!=0)and(P34>=2)and(JEF(h7[11])))then
set j=0
elseif((j!=1)and(P64>=2)and(JEF(h7[31])))then
set j=1
elseif((j!=2)and(PL4>=2)and(JEF(h7[51])))then
set j=2
endif
endif
if(j>=3)then
set j=eY[64+O5]
if(j>=3)then
set j=GetRandomInt(0,2)
endif
endif
return j
endfunction
function JUF takes unit it returns nothing
local integer j=0
local integer O5=GetPlayerId(GetOwningPlayer(it))
set EZ7="JVF"
if(GetUnitTypeId(it)!=1211117642)then
if(eY[O5]==2)then
set it=null
return
else
set eY[O5]=2
set h8[O5]=h7[11]
endif
endif
call I_F(it,IZ4)
if(GetUnitTypeId(it)!=1211117642)then
if Bz>QD4 then
set j=eY[64+O5]
set eY[64+O5]=5
call JFF()
endif
set eY[64+O5]=j
set j=JPF(JTF(it),GetHeroLevel(it))
if(j==0)then
set h8[O5]=h7[11]
set h8[16+O5]=h7[14]
elseif(j==1)then
set h8[O5]=h7[31]
set h8[16+O5]=h7[35]
else
set h8[O5]=h7[51]
set h8[16+O5]=h7[55]
endif
set eY[64+O5]=j
set hq[576+O5]=Bz+FB7
call JMF(it,O5,PU4)
endif
set it=null
endfunction
function JVF takes nothing returns nothing
call JUF(GetTriggerUnit())
endfunction
function JWF takes nothing returns nothing
local unit it=T37(GetHandleId(GetTriggeringTrigger()),"u")
call DisableTrigger(GetTriggeringTrigger())
if IsUnitAlly(it,Z7[0])then
if(Q17(it,IZ4)<700)then
call JUF(it)
endif
else
if(Q17(it,JA4)<700)then
call JRF(it)
endif
endif
set it=null
endfunction
function JZF takes integer O5,boolean QO7 returns nothing
local integer i=1
local integer JAF=OV7(QO7,0,6)
local integer QP7=OV7(QO7,0,24)
if(eY[O5]==3 and AK7(Player(O5))and GetWidgetLife(M7[O5])>.405)then
set G0[48+O5]=false
if GetUnitLifePercent(M7[O5])<70. or GetUnitManaPercent(M7[O5])<50. then
set eY[O5]=1
set G0[352+O5]=true
call VN7(M7[O5],true)
call TJ7(R44,"OB|U",M7[O5])
call ExecuteFunc("JBF")
else
if(Q07(GetUnitX(M7[O5]),GetUnitY(M7[O5]),EL7[QP7],EL7[QP7+1])<12000.)then
if(h9[16+O5]==h7[35])then
set h8[16+O5]=h7[35]
set h8[O5]=h7[35]
elseif(h9[16+O5]==h7[55])then
set h8[16+O5]=h7[55]
set h8[O5]=h7[55]
elseif(h9[16+O5]==h7[14])then
set h8[16+O5]=h7[14]
set h8[O5]=h7[14]
elseif(Q07(GetUnitX(M7[O5]),GetUnitY(M7[O5]),EL7[QP7],EL7[QP7+1])>5000.)then
if(eY[80+O5]==0)then
set h8[16+O5]=h7[14]
set h8[O5]=h7[14]
elseif(eY[80+O5]==1)then
set h8[16+O5]=h7[35]
set h8[O5]=h7[35]
elseif(eY[80+O5]==2)then
set h8[16+O5]=h7[55]
set h8[O5]=h7[55]
endif
endif
set h9[16+O5]=S57(M7[O5])
set h9[O5]=S57(M7[O5])
endif
if(is(M7[O5]))then
call SY7(M7[O5],851983,h8[O5])
endif
set eY[O5]=1
endif
endif
endfunction
function JCF takes boolean QO7 returns boolean
local group g=CreateGroup()
local unit P67=null
local integer O5=0
local integer JAF=OV7(QO7,0,6)
local integer QP7=OV7(QO7,0,24)
local integer i
local integer j
local boolean bIsDef=false
set EZ7="aiDefTimer"+OY7(QO7,"Sent","Scourge")
set i=0
loop
exitwhen i>18
set E37[QP7+i]=0
set i=i+1
endloop
set E37[QP7+19]=-1
set E37[QP7+20]=-1
set E37[QP7+21]=-1
set E37[QP7+22]=-1
set E37[QP7+23]=-1
call GroupEnumUnitsInRange(g,EL7[QP7],EL7[QP7+1],6000.,Q24)
loop
set P67=FirstOfGroup(g)
exitwhen P67==null
call GroupRemoveUnit(g,P67)
set O5=GetPlayerId(GetOwningPlayer(P67))
set i=GetUnitTypeId(P67)
if((GetUnitAbilityLevel(P67,1093678162)!=0 and((i==1970107511 or i==1966092370)or(i==1700946284 or i==1697657398))==false)or GetUnitAbilityLevel(P67,1097625443)!=0 or GetWidgetLife(P67)<50.)then
elseif(IsUnitAlly(P67,Z7[0])==QO7)or O5==12 or O5>14 then
elseif not(IsUnitType(P67,UNIT_TYPE_MELEE_ATTACKER)or IsUnitType(P67,UNIT_TYPE_RANGED_ATTACKER))then
else
set j=-1
if(QO7 and(PW4==false or PL4>2 or P34>2 or P64>2))or(QO7==false and(PX4==false or P54>2 or P14>2 or P04>2))then
if Q07(GetUnitX(P67),GetUnitY(P67),EL7[QP7+2],EL7[QP7+3])<=1400. then
set j=3
endif
endif
if j==-1 then
set i=R2I(Atan2(GetUnitY(P67)-EL7[QP7+1],GetUnitX(P67)-EL7[QP7])*bj_RADTODEG)
if i>360 then
set i=i-360
elseif i<0 then
set i=i+360
endif
if QO7 then
if i<25 and PL4>=2 then
set j=2
elseif i>65 and P64>=2 then
set j=1
elseif P34>=2 then
set j=0
endif
else
if i>245 and P54>=2 then
set j=2
elseif i<205 and P04>=2 then
set j=1
elseif P14>=2 then
set j=0
endif
endif
endif
if j!=-1 and((j!=0 or(not PG4))and(j!=1 or(not PH4))and(j!=2 or(not PF4)))then
set i=GetUnitTypeId(P67)
if IsUnitType(P67,UNIT_TYPE_HERO)and i!=1211117642 then
set E37[QP7+4+j]=E37[QP7+4+j]+1
set E37[QP7+19+O5-JAF-1]=j
set E37[QP7+j]=E37[QP7+j]+FG7
if(E67[QP7+12+j]==null or GetWidgetLife(E67[QP7+12+j])<.405)or(GetWidgetLife(P67)<GetWidgetLife(E67[QP7+12+j]))then
set E67[QP7+12+j]=P67
endif
elseif O5!=GetPlayerId(Z7[0])and O5!=GetPlayerId(A7[0])then
set E37[QP7+j]=E37[QP7+j]+3
else
if(i==1969711215 or i==1970169187)or(i==1966092337 or i==1966092338)or(i==1702061422 or i==1701081721)or(i==1697656918 or i==1697656919)then
set E37[QP7+j]=E37[QP7+j]+1
if E67[QP7+16+j]==null or GetWidgetLife(E67[QP7+16+j])<.405 then
set E67[QP7+16+j]=P67
endif
elseif(i==1970107511 or i==1966092370)or(i==1700946284 or i==1697657398)then
set E37[QP7+j]=E37[QP7+j]+3
if E67[QP7+4+j]==null or GetWidgetLife(E67[QP7+4+j])<.405 then
set E67[QP7+4+j]=P67
endif
else
set E37[QP7+j]=E37[QP7+j]+5
if E67[QP7+8+j]==null or GetWidgetLife(E67[QP7+8+j])<.405 then
set E67[QP7+8+j]=P67
endif
endif
endif
endif
endif
endloop
call DestroyGroup(g)
set g=null
if((QO7 and PU4)or((not QO7)and PV4))then
if E37[QP7+0]<=FH7 and E37[QP7+1]<=FH7 and E37[QP7+2]<=FH7 and E37[QP7+3]<=FH7 then
return false
endif
endif
if QO7 then
if PL4>2 and E37[QP7+2]>FH7 then
set E37[QP7+2]=E37[QP7+2]+FI7
endif
if P64>2 and E37[QP7+1]>FH7 then
set E37[QP7+1]=E37[QP7+1]+FI7
endif
if P34>2 and E37[QP7+0]>FH7 then
set E37[QP7+0]=E37[QP7+0]+FI7
endif
if GetWidgetLife(JQ4)<.405 and E37[QP7+3]>FH7 then
set E37[QP7+3]=E37[QP7+3]+FI7
endif
if GetWidgetLife(JR4)<.405 and E37[QP7+3]>FH7 then
set E37[QP7+3]=E37[QP7+3]+FI7
endif
else
if P54>2 and E37[QP7+2]>FH7 then
set E37[QP7+2]=E37[QP7+2]+FI7
endif
if P04>2 and E37[QP7+1]>FH7 then
set E37[QP7+1]=E37[QP7+1]+FI7
endif
if P14>2 and E37[QP7+0]>FH7 then
set E37[QP7+0]=E37[QP7+0]+FI7
endif
if GetWidgetLife(K84)<.405 and E37[QP7+3]>FH7 then
set E37[QP7+3]=E37[QP7+3]+FI7
endif
if GetWidgetLife(K94)<.405 and E37[QP7+3]>FH7 then
set E37[QP7+3]=E37[QP7+3]+FI7
endif
endif
if E37[QP7+0]<=FF7 and E37[QP7+1]<=FF7 and E37[QP7+2]<=FF7 and E37[QP7+3]<=FF7 then
return false
endif
set j=0
set i=0
loop
exitwhen j>4
set E37[QP7+8+j]=E37[QP7+4+j]
if GetWidgetLife(E67[QP7+12+j])>.405 then
elseif GetWidgetLife(E67[QP7+4+j])>.405 then
set E67[QP7+j]=E67[QP7+4+j]
elseif GetWidgetLife(E67[QP7+8+j])>.405 then
set E67[QP7+j]=E67[QP7+8+j]
else
if GetWidgetLife(E67[QP7+12+j])>.405 then
set E67[QP7+j]=E67[QP7+12+j]
else
set E67[QP7+j]=null
endif
endif
set j=j+1
endloop
if QO7 then
if E37[QP7+1]>FH7 and E37[QP7+9]==0 then
set E37[QP7+9]=1
endif
if E37[QP7+0]>FH7 and E37[QP7+8]==0 then
set E37[QP7+8]=1
endif
if E37[QP7+2]>FH7 and E37[QP7+10]==0 then
set E37[QP7+10]=1
endif
set hD=IMaxBJ(1,E37[QP7+4]+E37[QP7+5]+E37[QP7+6]+E37[QP7+7])
else
if E37[QP7+1]>FH7 and E37[QP7+9]==0 then
set E37[QP7+9]=1
endif
if E37[QP7+0]>FH7 and E37[QP7+8]==0 then
set E37[QP7+8]=1
endif
if E37[QP7+2]>FH7 and E37[QP7+10]==0 then
set E37[QP7+10]=1
endif
set hE=IMaxBJ(1,E37[QP7+4]+E37[QP7+5]+E37[QP7+6]+E37[QP7+7])
endif
if E37[QP7+3]>FH7 and E37[QP7+11]==0 then
set E37[QP7+11]=1
endif
set i=1
loop
exitwhen i>5
set O5=E37[80+JAF+i]
if(O5!=-1)and(eY[O5]==2 or eY[O5]==3 or eY[O5]==4)==false and(R17(M7[O5])or GetWidgetLife(M7[O5])<.405)==false then
set E37[48+JAF+i]=E37[80+JAF+i]
else
set E37[48+JAF+i]=-1
endif
set E37[96+O5]=0
set i=i+1
endloop
set i=1
loop
exitwhen i>5
set O5=E37[80+JAF+i]
if(O5!=-1)and M7[O5]!=null then
if(eY[O5]==3 or eY[O5]==4)and E37[64+O5]!=-1 and(R17(M7[O5])or GetWidgetLife(M7[O5])<.405)==false then
if E37[QP7+8+E37[64+O5]]>0 then
set E37[48+JAF+i]=-1
set E37[QP7+8+E37[64+O5]]=E37[QP7+8+E37[64+O5]]-1
set E37[QP7+12+E37[64+O5]]=E37[QP7+12+E37[64+O5]]+1
else
set E37[48+JAF+i]=O5
endif
endif
endif
set i=i+1
endloop
if E37[QP7+11]>0 and E37[QP7+15]==0 then
set i=1
loop
exitwhen i>10
if i>5 then
set j=j-5
else
set j=i
endif
set O5=E37[80+JAF+j]
if(O5!=-1)and(E37[48+JAF+j]==-1)then
if(eY[O5]==3 or eY[O5]==4)and((E37[48+JAF+j]!=-1)or(E37[64+O5]==-1)or(E37[QP7+8+E37[64+O5]]<=0)or((E37[QP7+12+E37[64+O5]]>1)or(i>5)))then
set E37[64+O5]=3
set E37[QP7+11]=E37[QP7+11]-1
set E37[QP7+15]=E37[QP7+15]+1
set E37[96+O5]=1
endif
endif
set E37[96+O5]=0
set i=i+1
endloop
endif
set i=1
loop
exitwhen i>5
set O5=E37[48+JAF+i]
if O5!=-1 and(eY[O5]==3 or eY[O5]==4)then
set j=QN7(QO7)
if j==-1 then
set bj_forLoopAIndex=0
set bj_forLoopBIndex=FH7
loop
exitwhen bj_forLoopAIndex>3
if E37[QP7+bj_forLoopAIndex]>bj_forLoopBIndex and E37[QP7+8+j]>-1 then
set bj_forLoopBIndex=E37[QP7+bj_forLoopAIndex]
set j=bj_forLoopAIndex
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if j!=-1 then
if j!=E37[64+O5]then
set G0[240+O5]=true
set E37[96+O5]=1
set E37[64+O5]=j
endif
set E37[QP7+8+j]=E37[QP7+8+j]-1
set E37[QP7+12+j]=E37[QP7+12+j]+1
set E37[48+JAF+i]=-1
else
call JZF(O5,QO7)
endif
endif
set i=i+1
endloop
if E37[QP7+8]<=0 and E37[QP7+9]<=0 and E37[QP7+10]<=0 and E37[QP7+11]<=0 then
return true
endif
set i=1
loop
exitwhen i>5
set O5=E37[48+JAF+i]
if(O5!=-1)then
set j=Q27(M7[O5])
if E37[QP7+8+j]+E37[QP7+12+j]>0 then
set E37[QP7+8+j]=E37[QP7+8+j]-1
set E37[QP7+12+j]=E37[QP7+12+j]+1
set E37[64+O5]=j
set E37[96+O5]=1
set E37[48+JAF+i]=-1
endif
endif
set i=i+1
endloop
set i=1
loop
exitwhen i>5 or(E37[QP7+8]<=0 and E37[QP7+9]<=0 and E37[QP7+10]<=0 and E37[QP7+11]<=0)
set O5=E37[48+JAF+i]
if(O5!=-1)then
if Bz>hq[528+O5]then
set EJ7=Q07(GetUnitX(M7[O5]),GetUnitY(M7[O5]),EL7[QP7],EL7[QP7+1])
if EJ7<=12000 then
set j=QN7(QO7)
if j!=-1 then
if EJ7>5000 then
set G0[240+O5]=true
endif
set E37[QP7+8+j]=E37[QP7+8+j]-1
set E37[QP7+12+j]=E37[QP7+12+j]+1
set E37[64+O5]=j
set E37[96+O5]=1
set E37[48+JAF+i]=-1
endif
endif
endif
endif
set i=i+1
endloop
set i=1
loop
exitwhen i>5 or(E37[QP7+8]<=0 and E37[QP7+9]<=0 and E37[QP7+10]<=0 and E37[QP7+11]<=0)
set O5=E37[48+JAF+i]
if(O5!=-1)then
if true and Q07(GetUnitX(M7[O5]),GetUnitY(M7[O5]),EL7[OV7(QO7,24,0)],EL7[OV7(QO7,25,1)])>6000 then
set j=QN7(QO7)
if j!=-1 then
set E37[QP7+8+j]=E37[QP7+8+j]-1
set E37[QP7+12+j]=E37[QP7+12+j]+1
set E37[64+O5]=j
set E37[96+O5]=1
set E37[48+JAF+i]=-1
endif
endif
endif
set i=i+1
endloop
set bj_forLoopAIndex=E37[QP7+4]+E37[QP7+5]+E37[QP7+6]+E37[QP7+7]
if(bj_forLoopAIndex>=OV7(QO7,HC4,HB4)-1 and bj_forLoopAIndex>=3)then
set i=1
loop
exitwhen i>5
set O5=E37[80+JAF+i]
if(O5!=-1)and M7[O5]!=null then
if GetWidgetLife(M7[O5])<.405 then
if((TimerGetRemaining(U[O5])>20.)and(TimerGetElapsed(U[O5])>4.))then
set j=0
loop
exitwhen NM4[j]==GetEnumUnit()or j>NP4
set j=j+1
endloop
if NM4[j]!=null and GetUnitAbilityLevel(KU4[O5],1093808213)==0 then
if IssueImmediateOrderById(KU4[O5],W9[O5])then
set j=QN7(QO7)
if j!=-1 then
set E37[QP7+8+j]=E37[QP7+8+j]-1
set E37[QP7+12+j]=E37[QP7+12+j]+1
set E37[64+O5]=j
set E37[96+O5]=1
endif
endif
endif
endif
endif
endif
set i=i+1
endloop
endif
if QO7 then
set EP7=X7
else
set EP7=Y7
endif
set i=1
loop
exitwhen i>5
if QO7 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i])
endif
if AK7(Player(O5))and E37[96+O5]!=0 then
call QS7(M7[O5],O5)
call J3(M7[O5],RY7(M7[O5]))
call VK7(M7[O5],EP7)
if eY[O5]==3 or eY[O5]==4 then
call VF7(M7[O5],EP7,GetObjectName(1496330549)+QJ7(E37[64+O5],true))
else
call VF7(M7[O5],EP7,GetObjectName(1496330548)+QJ7(E37[64+O5],true))
endif
set eY[O5]=3
set E37[96+O5]=0
endif
set i=i+1
endloop
set P67=null
set EP7=null
return true
endfunction
function J3F takes boolean QO7 returns boolean
local unit P67=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(P67))
local integer JAF=OV7(QO7,0,6)
local integer QP7=OV7(QO7,0,24)
local integer i
local integer j
set EZ7="aiDefTurnOn "+OY7(QO7,"Sent","Scourge")
if((QO7 and P64<2 and P34<2 and PL4<2)or(QO7==false and P04<2 and P14<2 and P54<2))then
return false
elseif O5!=GetPlayerId(Z7[0])and O5!=GetPlayerId(A7[0])then
return false
elseif(IsUnitAlly(P67,Z7[0])==QO7)or VL7(P67)==false then
return false
endif
set i=R2I(Atan2(GetUnitY(P67)-EL7[QP7+1],GetUnitX(P67)-EL7[QP7])*bj_RADTODEG)
set j=-1
if i>360 then
set i=i-360
elseif i<0 then
set i=i+360
endif
if QO7 then
if i<25 and PL4>=2 then
set j=2
elseif i>65 and P64>=2 then
set j=1
elseif P34>=2 then
set j=0
endif
else
if i>245 and P54>=2 then
set j=2
elseif i<205 and P04>=2 then
set j=1
elseif P14>=2 then
set j=0
endif
endif
if j==-1 then
return false
endif
return JCF(QO7)
endfunction
function J6F takes boolean QO7 returns nothing
local integer i=1
local integer O5
loop
exitwhen i>5
if QO7 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i])
endif
call JZF(O5,QO7)
set i=i+1
endloop
endfunction
function JLF takes nothing returns boolean
if J3F(false)then
call DisableTrigger(Q64)
call EnableTrigger(Q14)
set PV4=true
endif
return false
endfunction
function J1F takes nothing returns boolean
if not JCF(false)then
call EnableTrigger(Q64)
call DisableTrigger(Q14)
set PV4=false
call J6F(false)
endif
return false
endfunction
function J0F takes nothing returns boolean
if J3F(true)then
call DisableTrigger(Q34)
call EnableTrigger(QL4)
set PU4=true
endif
return false
endfunction
function J5F takes nothing returns boolean
if not JCF(true)then
call EnableTrigger(Q34)
call DisableTrigger(QL4)
set PU4=false
call J6F(true)
endif
return false
endfunction
function TRv takes nothing returns boolean
if((IsUnitEnemy(GetFilterUnit(),Z7[0]))and(V17(GetFilterUnit()))and((IsUnitVisible(GetFilterUnit(),Z7[0]))or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetWidgetLife(GetFilterUnit())>.405))then
if(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetUnitLifePercent(GetFilterUnit())>30.))then
set hD=hD+1
endif
return true
endif
return false
endfunction
function J2F takes nothing returns boolean
return((not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(GetWidgetLife(GetFilterUnit())>.405)and(VL7(GetFilterUnit())))
endfunction
function J_F takes real K1,unit u returns unit
local unit A07=null
local unit K4F=null
local boolexpr Ig=Condition(function J2F)
local real IW=Q17(u,h9[16+GetPlayerId(GetOwningPlayer(u))])
local real K7F
set EZ7="TNv"
call GroupClear(iE)
call GroupEnumUnitsInRange(iE,GetUnitX(u),GetUnitY(u),K1,Ig)
loop
set A07=FirstOfGroup(iE)
exitwhen(A07==null)
if((IsUnitVisible(A07,GetOwningPlayer(u)))and(A07!=u))then
set K7F=Q17(A07,h9[16+GetPlayerId(GetOwningPlayer(u))])
if(K7F<IW)then
set K4F=A07
set IW=K7F
endif
endif
call GroupRemoveUnit(iE,A07)
endloop
call DestroyBoolExpr(Ig)
set Ig=null
set A07=null
set hr=K4F
set K4F=null
return hr
endfunction
function K8F takes nothing returns boolean
return((IsHeroUnitId(GetUnitTypeId(GetFilterUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit()))
endfunction
function K9F takes unit it returns integer
local integer i1=GetUnitTypeId(it)
set EZ7="TCv"
if((i1==1164207469)or(i1==1332766568)or(i1==1328558160)or(i1==1211117616)or(i1==1212363833)or(i1==1315988077)or(i1==1332179560)or(i1==1429221441)or(SG7(it,ZU[R2]))or(SG7(it,ZU[Y0])))then
return 3
elseif(kq(i1))then
return 2
else
return 1
endif
endfunction
function KDF takes real K1,unit u returns unit
local unit A07=null
local unit K4F=null
local boolexpr Ig=Condition(function K8F)
local real KEF=0
local real KFF=0
set EZ7="Tdv"
call GroupClear(iE)
call GroupEnumUnitsInRange(iE,GetUnitX(u),GetUnitY(u),K1,Ig)
loop
set A07=FirstOfGroup(iE)
exitwhen(A07==null)
set KEF=GetUnitState(A07,UNIT_STATE_LIFE)
if(GetUnitLifePercent(A07)<60.)then
elseif((K4F==null)or(K9F(A07)>K9F(K4F)))then
set K4F=A07
set KFF=KEF
elseif((K9F(A07)==K9F(K4F))and(KFF<KEF))then
set K4F=A07
set KFF=KEF
endif
call GroupRemoveUnit(iE,A07)
endloop
call DestroyBoolExpr(Ig)
set Ig=null
set A07=null
set hr=K4F
set K4F=null
return hr
endfunction
function KGF takes unit it,boolean J2 returns boolean
local integer kt=GetUnitAbilityLevel(it,1093684302)
local real kl=GetUnitFacing(it)*bj_DEGTORAD
local real KHF=GetUnitX(it)+(350.+I2R(50*kt))*Cos(kl)
local real KIF=GetUnitY(it)+(350.+I2R(50*kt))*Sin(kl)
set EZ7="TFv"
if((kJ(KHF,KIF))and((J2)or(Q07(KHF,KIF,GetUnitX(h9[16+GetPlayerId(GetOwningPlayer(it))]),GetUnitY(h9[16+GetPlayerId(GetOwningPlayer(it))]))<Q17(it,h9[16+GetPlayerId(GetOwningPlayer(it))]))))then
set GZ[GetPlayerId(GetOwningPlayer(it))]=true
return J8(GetPlayerId(GetOwningPlayer(it)),SL7(it,852129,1093684302))
endif
return false
endfunction
function KJF takes unit it,boolean J2 returns boolean
local integer kt=GetUnitAbilityLevel(it,1093749303)
local real kl=GetUnitFacing(it)*bj_DEGTORAD
local real KHF=GetUnitX(it)+(300.+I2R(100*kt))*Cos(kl)
local real KIF=GetUnitY(it)+(300.+I2R(100*kt))*Sin(kl)
set EZ7="TFv"
if((kJ(KHF,KIF))and((J2)or(Q07(KHF,KIF,GetUnitX(h9[16+GetPlayerId(GetOwningPlayer(it))]),GetUnitY(h9[16+GetPlayerId(GetOwningPlayer(it))]))<Q17(it,h9[16+GetPlayerId(GetOwningPlayer(it))]))))then
set GZ[GetPlayerId(GetOwningPlayer(it))]=true
return J8(GetPlayerId(GetOwningPlayer(it)),IssueImmediateOrderById(it,852600))
endif
return false
endfunction
function KKF takes unit it returns boolean
local integer i1=GetUnitTypeId(it)
local boolean J4=false
local location b5=null
local unit m5=null
local integer O5=GetPlayerId(GetOwningPlayer(it))
set EZ7="AIQuickmoveUnit"
if(Q17(it,h9[16+O5])<600)or(GetUnitLifePercent(it)>80 and G0[144+O5])then
return false
endif
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
set G0[304+O5]=true
endif
if(i1==1162032181)then
set b5=kk(it,I2R(400+(200*GetUnitAbilityLevel(it,1093684299))),h9[16+O5])
set J4=(b5!=null)and(IssuePointOrderByIdLoc(it,852218,b5))
elseif((i1==1430466609)or(i1==1164207469))then
set b5=kk(it,800.,h9[16+O5])
set J4=(b5!=null)and(IssuePointOrderByIdLoc(it,852525,b5))
elseif((i1==1165451634)or(i1==1212365106))then
if(i1==1165451634)then
set EJ7=600+GetUnitAbilityLevel(it,1093685324)*100
else
set EJ7=700.
endif
set m5=J_F(EJ7,it)
if((m5!=null)and(it!=m5))then
set J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and(not IsUnitInRange(m5,it,400.))and(IssueTargetOrderById(it,852600,m5))
endif
elseif(i1==1429221451)then
set b5=kk(it,I2R(280+(100*GetUnitAbilityLevel(it,1093678671))),h9[16+O5])
set J4=(b5!=null)and(IssuePointOrderByIdLoc(it,852218,b5))
elseif(i1==1328558160)then
set b5=kk(it,600.,h9[16+O5])
if(b5!=null)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093682766,true)
set GZ[O5]=true
if(GetUnitLifePercent(it)<48.)then
set J4=J8(O5,IssuePointOrderByIdLoc(it,852218,b5))
endif
endif
elseif(i1==1430466865)then
set b5=kk(it,800.,h9[16+O5])
if(b5!=null)and(Bz>TC4[32+O5])then
set J4=SA7(it,852218,1093751364,b5)
endif
elseif(i1==1311781206)then
set J4=KGF(it,false)
elseif(i1==1160786502)then
set b5=kk(it,550.,h9[16+O5])
if(b5!=null)then
if(GetUnitLifePercent(it)<35.)then
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderByIdLoc(it,852600,b5))
endif
endif
if((not J4)and(GetUnitLifePercent(it)<35.))then
set J4=IssueImmediateOrderById(it,852662)
endif
elseif(i1==1211117651)then
if(GetUnitManaPercent(it)>15.)then
set b5=kk(it,1200.,h9[16+O5])
if(b5!=null)then
set J4=SA7(it,852218,1093743695,b5)
endif
if not J4 then
set b5=kk(it,600.,h9[16+O5])
if(b5!=null)then
set J4=SA7(it,852218,1093743695,b5)
endif
endif
if J4 then
set h9[O5]=h9[16+O5]
endif
endif
elseif(i1==1311788336)then
if(GetUnitState(it,UNIT_STATE_MANA)>100.)and(LoadInteger(L7,GetHandleId(it),(747))>0)and(not UJ7(it,"AI|EmberEscape"))then
set b5=kk(it,1500.,h9[16+O5])
if(b5!=null)then
set J4=IssuePointOrderByIdLoc(it,852490,b5)
endif
if not J4 then
set b5=kk(it,600.,h9[16+O5])
if(b5!=null)then
set J4=IssuePointOrderByIdLoc(it,852490,b5)
endif
endif
if J4 then
set h9[O5]=h9[16+O5]
call UM7(it,"AI|EmberEscape")
endif
endif
elseif(i1==1160786738)then
if GetUnitAbilityLevel(it,1093813555)!=0 then
set b5=kk(it,600+200*GetUnitAbilityLevel(it,1093813555),h9[16+O5])
if(b5!=null)and(Z57(b5,300))then
set J4=IssuePointOrderById(it,852662,GetDestructableX(WW4),GetDestructableY(WW4))
endif
if(not J4)then
set b5=kk(it,800.,h9[16+O5])
if(b5!=null)and(Z57(b5,300))then
set J4=IssuePointOrderById(it,852662,GetDestructableX(WW4),GetDestructableY(WW4))
endif
endif
endif
elseif(i1==1211119409)then
set J4=KJF(it,false)
elseif(i1==1328558406)then
set m5=J_F(1800.,it)
if((m5!=null)and(it!=m5))then
set J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and(not IsUnitInRange(m5,it,1000.))and(SZ7(it,852119,1093751873,m5))
endif
endif
if(i1==1160786520)and(not J4)and(hq[816+O5]>Bz)then
set G0[288+O5]=true
set J4=KKF(it)
set G0[304+O5]=false
endif
if(not J4)and(not G0[304+O5])then
set bj_lastLoadedUnit=it
if(not J4)and((SG7(it,ZU[Y0]))and(R17(it))and(SE7(800.,it,Condition(function WG7))>0))then
set GZ[224+O5]=true
set J4=(i1!=1164277357)and(UnitUseItem(it,bj_lastCreatedItem))
set GZ[224+O5]=false
endif
if(not J4)and(SG7(it,ZU[RW]))then
set b5=kk(it,700.,h9[16+O5])
set J4=(b5!=null)and(UnitUseItemPointLoc(it,bj_lastCreatedItem,b5))
endif
if(not J4)and(SG7(it,ZU[DU4]))then
if Q37(it,h9[16+O5],20)then
set b5=kk(it,600.,h9[16+O5])
set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,it))
if J4 then
set h9[O5]=h9[16+O5]
endif
elseif(Q37(it,h9[O5],20))and(h9[O5]!=h9[16+O5])then
set b5=kk(it,600.,h9[O5])
set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,it))
endif
endif
endif
set b5=null
set m5=null
return J4
endfunction
function KMF takes nothing returns boolean
if(((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(hr)))and(GetWidgetLife(GetFilterUnit())>.405))then
if(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and(true))then
set hF=hF+1
endif
return true
endif
return false
endfunction
function KNF takes real KOF,unit it,boolean KPF,boolean KQF returns integer
local real KRF
local real KSF
local real KHF=GetUnitX(it)
local real KIF=GetUnitY(it)
local integer kc=0
local integer UP=0
local integer O5=GetPlayerId(GetOwningPlayer(it))
set EZ7="TJv"
if(KOF>0)then
set KRF=Bz+KOF
loop
set KSF=KRF-Bz
exitwhen KSF<=0
call TriggerSleepAction(0.5)
set hr=it
if((GetWidgetLife(it)<=.405)or(GetUnitCurrentOrder(it)==851983)or(not is(it)))then
set KRF=Bz
elseif(not KQF)then
set GU7=LoadUnitHandle(L7,(GetHandleId(it)),(652))
set GV7=T37((GetHandleId(it)),"AI|TetherSource")
if RY7(it)and(not R17(it))then
if(GU7!=null)and(not IsUnitInRange(it,GU7,700)and(IsUnitType(GU7,UNIT_TYPE_HERO)))then
call SY7(it,851986,GU7)
elseif(GV7!=null)and(not IsUnitInRange(it,GV7,700))then
call SY7(it,851986,GV7)
else
call SY7(it,851986,h9[O5])
endif
endif
set hF=0
set UP=SE7(700.,it,Condition(function KMF))
if((KOF-KSF>1.)and(hF>0))then
set KRF=Bz
set kc=2
elseif((KPF)and(KOF-KSF>1.)and(UP>1))then
set KRF=Bz
set kc=1
elseif(((KOF-KSF>2.)or((KOF-KSF>1.)and(KPF))))then
call MoveLocation(Ha,KHF,KIF)
if(SD7(700.,Ha,Condition(function KMF))>1)then
set KRF=Bz
set kc=3
endif
elseif((KOF-KSF>=2.)and(iy(it)))then
set KRF=Bz
set kc=1
endif
endif
endloop
endif
return kc
endfunction
function KTF takes nothing returns nothing
local unit it=T37(GetHandleId(GetTriggeringTrigger()),"Unit")
local integer O5=GetPlayerId(GetOwningPlayer(it))
local boolean LQE=GZ[512+O5]
local integer KUF
set EZ7="(TMv)"+EZ7
if R07(O5)then
return
endif
set G0[48+O5]=true
if(RY7(it))then
call SY7(it,851986,h9[O5])
endif
if(GetUnitTypeId(it)==1211117642)then
call TriggerSleepAction(1.)
set KUF=0
elseif eY[O5]==11 then
set KUF=KNF(1.,it,true,false)
elseif(LQE)then
set KUF=KNF(5.,it,true,false)
else
set KUF=KNF(3.,it,false,false)
endif
set G0[48+O5]=false
if((GetWidgetLife(it)<=.405)or(not is(it)))then
elseif(not RY7(it))then
elseif((KUF==2)and(not R17(it))and(not G0[32+O5]))then
call IssueImmediateOrderById(it,851993)
elseif((LQE)or(KUF==3))then
if((not R17(it))and(not G0[32+O5])and(G0[128+O5]))then
call SY7(it,851983,h8[O5])
else
call VN7(it,false)
endif
endif
set it=null
endfunction
function KVF takes unit it returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP=GetUnitUserData(h8[O5])
local integer I2F=0
local real A17=0.
set EZ7="TQv"
if(IsUnitAlly(it,Z7[0]))then
if((hj[256+UP]==18)or(hj[UP]==10))then
set I2F=11+P24
if(UP>I2F)then
call I5F(it,0)
endif
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set I2F=31+P_4
if(UP>I2F)then
call I5F(it,1)
endif
elseif((hj[256+UP]==60)or(hj[UP]==50))then
set I2F=51+Q44
if(UP>I2F)then
call I5F(it,2)
endif
endif
else
set UP=hj[512+UP]
if((hj[256+UP]==118)or(hj[UP]==110))then
set I2F=119-P24
if(UP>I2F)then
call I5F(it,0)
endif
elseif((hj[256+UP]==140)or(hj[UP]==130))then
set I2F=141-P_4
if(UP>I2F)then
call I5F(it,1)
endif
elseif((hj[256+UP]==160)or(hj[UP]==150))then
set I2F=161-Q44
if(UP>I2F)then
call I5F(it,2)
endif
endif
endif
if false and((eY[O5]==1)and(h4[O5]!=null)and((not Id(O5))and(GetUnitLifePercent(it)<70.)))then
set A17=Q17(it,h8[O5])
if(((A17>2000.)and(Q17(it,S57(it))>Q17(h8[O5],S57(it))))or((A17>1400.)and((GZ[400+O5])and(Bz>hq[544+O5]))))then
call LVE(O5,true)
call SY7(it,851986,h9[O5])
call LPE(it,true)
endif
endif
endfunction
function KWF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit()))and(GetIssuedOrderId()>852000))
endfunction
function KXF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
set EZ7="KXF"
set GZ[16+O5]=true
set eY[256+O5]=GetIssuedOrderId()
set hq[448+O5]=Bz+3.
endfunction
function KYF takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function KZF takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function KAF takes unit P67,unit RL7 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(P67))
local integer UP
local integer j
local integer k
local integer JHF=Q57(GetUnitUserData(RL7))
local boolean QO7=IsUnitAlly(P67,Z7[0])
set EZ7="aiChangeHeroLane"
set h4[144+O5]=null
set G0[32+O5]=false
set G0[160+O5]=false
set G0[176+O5]=false
set h4[O5]=null
set GZ[128+O5]=false
set eY[272+O5]=0
set UP=GetUnitUserData(RL7)
if IsUnitAlly(P67,Z7[0])then
set UP=UP-1
else
set UP=UP+1
endif
set UP=IEF(UP,IsUnitAlly(P67,Z7[0]),P37(P67))
set k=Q27(P67)
if(Q17(P67,S57(P67))<5000.)then
if(JHF==0)then
set h8[O5]=h7[14]
set h8[16+O5]=h7[14]
elseif(JHF==1)then
set h8[O5]=h7[35]
set h8[16+O5]=h7[35]
else
set h8[O5]=h7[55]
set h8[16+O5]=h7[55]
endif
set eY[O5]=1
set h9[O5]=S57(P67)
set h9[16+O5]=S57(P67)
set hq[576+O5]=Bz+GF7
if RY7(P67)then
call SY7(P67,851983,h8[O5])
endif
return
endif
set h8[128+O5]=h7[UP]
set eY[288+O5]=JHF
if eY[288+O5]!=0 then
set eY[304+O5]=eY[288+O5]
else
set eY[304+O5]=k
if eY[304+O5]==0 then
set eY[304+O5]=GetRandomInt(1,2)
endif
endif
set UP=IEF(GetUnitUserData(h9[O5]),IsUnitAlly(P67,Z7[0]),P37(P67))
set h8[48+O5]=h7[UP]
set UP=IGF(O5,UP,eY[304+O5],QO7)
set h8[32+O5]=h7[UP]
set eY[O5]=9
set hq[576+O5]=Bz+GF7
set hq[592+O5]=Bz+FV7
set G0[176+O5]=((not RB7(P67))and(h8[48+O5]==h8[32+O5]))
set eY[208+O5]=GetUnitUserData(RL7)
set h8[144+O5]=RL7
if RY7(P67)then
if h8[48+O5]!=h8[32+O5]or G0[176+O5]then
call SY7(P67,851983,h8[48+O5])
else
call SY7(P67,851983,h9[O5])
endif
endif
endfunction
function KBF takes unit P67,unit RL7 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(P67))
local integer VQ7=GetPlayerId(GetOwningPlayer(RL7))
local boolean QO7=IsUnitAlly(P67,Z7[0])
local integer UP
local integer KCF
local integer JHF=Q57(GetUnitUserData(RL7))
local integer i
set EZ7="aiGank"
call LPE(M7[O5],false)
set G0[160+O5]=true
set h4[144+O5]=M7[VQ7]
set G0[32+O5]=false
set h4[O5]=null
set GZ[128+O5]=false
set G0[192+O5]=false
set G0[208+O5]=true
set hq[640+O5]=Bz+FT7
set h8[96+O5]=RL7
set h8[160+O5]=h8[80+VQ7]
set eY[288+O5]=Q27(RL7)
if eY[288+O5]!=0 then
set eY[304+O5]=eY[288+O5]
else
set eY[304+O5]=Q27(P67)
if eY[304+O5]==0 then
set eY[304+O5]=GetRandomInt(1,2)
endif
endif
set eY[272+O5]=1
set KCF=IEF(GetUnitUserData(h8[80+VQ7])+OV7(QO7,1,-1),QO7,P37(P67))
set h8[112+O5]=h7[KCF]
set UP=GetUnitUserData(h8[80+O5])
set KCF=IGF(O5,UP,eY[304+O5],QO7)
set h8[32+O5]=h7[KCF]
set h8[48+O5]=h8[32+O5]
set UP=Q27(P67)
set i=OV7(IsUnitAlly(P67,Z7[0]),-1,1)
if(UP==0)then
if(Q17(P67,S57(P67))>Q17(h7[14],S57(P67)))then
set h8[48+O5]=h7[14+i]
endif
elseif(UP==1)then
if(Q17(P67,S57(P67))>Q17(h7[34],S57(P67)))then
set h8[48+O5]=h7[34+i]
endif
elseif(UP==2)then
if(Q17(P67,S57(P67))>Q17(h7[57],S57(P67)))then
set h8[48+O5]=h7[57+i]
endif
endif
set UP=GetUnitUserData(h8[112+O5])
if(QO7)then
if((hj[256+UP]==18)or(hj[UP]==10))then
set i=IMaxBJ(10+P24,11)
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set i=IMaxBJ(30+P_4,31)
else
set i=IMaxBJ(50+Q44,51)
endif
else
set UP=hj[512+UP]
if((hj[256+UP]==118)or(hj[UP]==110))then
set i=IMaxBJ(118-P24,111)
elseif((hj[256+UP]==140)or(hj[UP]==130))then
set i=IMaxBJ(140-P_4,131)
else
set i=IMaxBJ(160-Q44,151)
endif
endif
set h8[128+O5]=h7[i]
set eY[O5]=9
set hq[576+O5]=Bz+GF7
set hq[592+O5]=Bz+FV7
set G0[176+O5]=((not RB7(P67))and(h8[48+O5]==h8[32+O5]))
if RY7(P67)and GetUnitCurrentOrder(P67)==851983 then
if h8[48+O5]!=h8[32+O5]or G0[176+O5]then
call SY7(P67,851983,h8[48+O5])
else
call SY7(P67,851983,h9[O5])
endif
endif
endfunction
function K3F takes nothing returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1=GetUnitTypeId(it)
local real K6F=GetUnitX(it)
local real KLF=GetUnitY(it)
set EZ7="K3F"
if(i1==1211117642)then
if(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)then
call J3(it,false)
endif
return
endif
if(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)then
if((GetHeroSkillPoints(it)>0)and(Bz>QD4)and(RY7(it)))then
call ExecuteFunc("EHF")
endif
if((Q17(it,h8[O5])<150.)and(h8[O5]!=h7[1])and(h8[O5]!=h7[101]))then
if(IsUnitAlly(it,Z7[0]))then
set hF=GetUnitUserData(h8[O5])
else
set hF=hj[512+GetUnitUserData(h8[O5])]
endif
if(hF>0)then
call B47(it,hF)
elseif(h8[O5]!=h9[O5])then
set h8[O5]=h9[O5]
else
set h8[O5]=S57(it)
endif
elseif(eY[O5]==1)then
call KVF(it)
endif
if(PE4)then
set hF=GetUnitUserData(h8[O5])
if(((hF>30)and(hF<40))or((hF>50)and(hF<60)))then
call I5F(it,0)
endif
endif
if((h4[80+O5]!=null)and(GetWidgetLife(h4[80+O5])<=.405))then
set h4[80+O5]=null
endif
if((h4[96+O5]!=null)and(GetWidgetLife(h4[96+O5])<=.405))then
set h4[96+O5]=null
endif
if((h4[128+O5]!=null)and((GetWidgetLife(h4[128+O5])<=.405)))then
set h4[128+O5]=null
endif
if((h4[160+O5]!=null)and((GetWidgetLife(h4[160+O5])<=.405)or(not IsUnitInRange(it,h4[160+O5],1000.))))then
set h4[160+O5]=null
endif
if((h4[48+O5]!=null)and(((eY[O5]!=3)and(eY[O5]!=4))or(GetWidgetLife(h4[48+O5])<=.405)))then
set h4[48+O5]=null
endif
if((Q07(K6F,KLF,GetLocationX(HC[32+O5]),GetLocationY(HC[32+O5]))<20.)and(Bz>QD4))then
set G0[48+O5]=false
if(eY[O5]!=2)then
if((GZ[144+O5])and(RY7(it))and(SE7(700.,it,Condition(function KX))==0)and(((eY[O5]!=9 or eY[272+O5]!=3)and eY[O5]!=10 and eY[O5]!=11)or(SE7(700.,it,Condition(function KA))==0)))then
call ExecuteFunc("K1F")
else
set GZ[144+O5]=true
if((eY[O5]==3)or(eY[O5]==4))then
call QS7(it,O5)
endif
if(iU(it))then
call J3(it,true)
endif
endif
elseif((GetUnitLifePercent(it)>90)and(GetUnitManaPercent(it)>90))then
if(GZ[144+O5])then
if(IsUnitAlly(it,Z7[0]))then
call JMF(it,O5,PU4)
else
call JMF(it,O5,PV4)
endif
else
set GZ[144+O5]=true
endif
endif
elseif(GZ[144+O5])then
set GZ[144+O5]=false
endif
call MoveLocation(HC[32+O5],K6F,KLF)
if((eY[O5]==10)and(hq[432+O5]<Bz))then
set eY[O5]=1
set h4[64+O5]=null
endif
if((GZ[480+O5])and(eY[O5]!=4)and(eY[O5]!=2))then
set GZ[480+O5]=false
endif
if((GZ[16+O5])and(hq[448+O5]<Bz)and(eY[256+O5]==GetUnitCurrentOrder(it)))then
call J3(it,true)
set GZ[16+O5]=false
endif
elseif((GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_NONE)and(IsUnitInForce(it,QX4)))then
if((is(it))and(GetUnitCurrentOrder(it)!=851983))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1097690998,true)
call SetPlayerController(GetOwningPlayer(it),MAP_CONTROL_COMPUTER)
call J3(it,true)
endif
endif
set GZ[32+O5]=false
set GZ[400+O5]=false
endfunction
function K0F takes nothing returns nothing
local integer O5=1
local integer UA7
local integer i=0
local integer j=0
local real K5F
local real K2F
local boolean K_F=false
local string M4F=""
local boolean M7F=(Bz>QD4)
local boolean M8F=(Bz>QD4)
set EZ7="K0F"
set O5=1
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if(GetPlayerSlotState(Player(O5))==PLAYER_SLOT_STATE_PLAYING)then
call GroupClear(iE)
call GroupEnumUnitsOfPlayer(iE,Player(O5),ip)
call ForGroup(iE,function K3F)
if M7[O5]!=null then
set K5F=2+GetHeroAgi(M7[O5],true)*0.14
set K2F=1
set i=0
loop
exitwhen i>5
set j=GetItemTypeId(UnitItemInSlot(M7[O5],i))
if((j==ZU[UV])or(j==ZU[AL])or(j==ZU[B3])or(j==ZU[T1])or(j==ZU[NW])or(j==ZU[N3])or(j==ZU[J1])or(j==ZU[T2])or(j==ZU[DK4])or(j==ZU[DM4]))then
set K5F=K5F+5
elseif((j==ZU[SX])or(j==ZU[DH4])or(j==ZU[DP4]))then
set K5F=K5F+10
elseif(j==ZU[JB])then
set K2F=K2F+0.25
elseif(j==ZU[Z2])then
set K2F=K2F+0.3
endif
set i=i+1
endloop
set K5F=(0.06*K5F)/(1.+0.06*K5F)
set hq[752+O5]=(1/(1-K5F))*(K2F)
endif
if M7[O5]!=null and GetHeroLevel(M7[O5])<11 then
if IsPlayerAlly(Player(O5),Z7[0])then
set M8F=false
else
set M7F=false
endif
endif
endif
set O5=O5+1
endloop
if M7F and(not DR7)then
set DR7=true
set EN7=false
set O5=1
loop
exitwhen O5>5
if AK7(Z7[O5])then
set EN7=true
endif
set O5=O5+1
endloop
if EN7 then
set O5=1
loop
exitwhen O5>5
set UA7=GetPlayerId(Z7[O5])
if DQ7[16+UA7]then
set DQ7[16+UA7]=false
call UB7(IZ4,GetObjectName(1496331829)+"
"+GetObjectName(1497445941)+F27+GetObjectName(1496331830),Z7[O5])
endif
set O5=O5+1
endloop
endif
endif
if M8F and(not DS7)then
set DS7=true
set EN7=false
set O5=1
loop
exitwhen O5>5
if AK7(A7[O5])then
set EN7=true
endif
set O5=O5+1
endloop
if EN7 then
set O5=1
loop
exitwhen O5>5
set UA7=GetPlayerId(A7[O5])
if DQ7[16+UA7]then
set DQ7[16+UA7]=false
call UB7(JA4,GetObjectName(1496331829)+"
"+GetObjectName(1497445941)+F27+GetObjectName(1496331830),A7[O5])
endif
set O5=O5+1
endloop
endif
endif
if((G1==0)and(not Ev)and(not Av))then
set G1=GetRandomInt(1,2)
elseif((G1==1)and(not Rv)and(not av))then
if((Nv)or(Ov))then
set G1=2
else
set G1=-1
endif
elseif((G1==2)and(not Nv)and(not Ov))then
if((Rv)or(av))then
set G1=1
else
set G1=-1
endif
endif
if((G2==0)and(not Bv)and(not Dv))then
set G2=GetRandomInt(1,2)
elseif((G2==1)and(not bv)and(not Cv))then
if((cv)or(fv))then
set G2=2
else
set G2=-1
endif
elseif((G2==2)and(not cv)and(not fv))then
if((bv)or(Cv))then
set G2=1
else
set G2=-1
endif
endif
set GF7=FY7-FZ7*Bz
if GF7<FA7 then
set GF7=FA7
endif
call JFF()
if PZ4 and G4==-1 then
set EP7=X7
set i=1
loop
exitwhen i>5
set O5=E37[80+i]
if O5!=-1 and M7[O5]!=null and GetUnitLifePercent(M7[O5])>70. and eY[O5]==1 and h4[O5]==null and(eY[544+O5]==0 and Bz>hq[576+O5])and(GetHeroLevel(M7[O5])<PB4)and(GetHeroLevel(M7[O5])>=N37)then
set j=JPF(JTF(M7[O5]),GetHeroLevel(M7[O5]))
if(j!=eY[64+O5])and(j==0 or eY[64+O5]==0)and((E37[112+j]!=0)or(E37[144+j]<Bz))then
set E37[112+eY[64+O5]]=E37[112+eY[64+O5]]-1
if(j==1)then
call KAF(M7[O5],h7[29+P_4])
call VF7(M7[O5],EP7,GetObjectName(1496330293))
elseif(j==2)then
call KAF(M7[O5],h7[49+Q44])
call VF7(M7[O5],EP7,GetObjectName(1496330294))
else
call KAF(M7[O5],h7[9+P24])
call VF7(M7[O5],EP7,GetObjectName(1496330292))
endif
call VK7(M7[O5],EP7)
set E37[112+j]=E37[112+j]+1
set eY[64+O5]=j
endif
endif
set i=i+1
endloop
endif
if PA4 and G3==-1 then
set EP7=Y7
set i=1
loop
exitwhen i>5
set O5=E37[86+i]
if O5!=-1 and M7[O5]!=null and GetUnitLifePercent(M7[O5])>70. and eY[O5]==1 and h4[O5]==null and(eY[544+O5]==0 and Bz>hq[576+O5])and(GetHeroLevel(M7[O5])<PB4)and(GetHeroLevel(M7[O5])>=N37)then
set j=JPF(JJF(M7[O5]),GetHeroLevel(M7[O5]))
if(j!=eY[64+O5])and(j==0 or eY[64+O5]==0)and((E37[118+j]!=0)or(E37[144+j]<Bz))then
set E37[118+eY[64+O5]]=E37[118+eY[64+O5]]-1
if(j==1)then
call KAF(M7[O5],h7[139-P_4])
call VF7(M7[O5],EP7,GetObjectName(1496330293))
elseif(j==2)then
call KAF(M7[O5],h7[159-Q44])
call VF7(M7[O5],EP7,GetObjectName(1496330294))
else
call KAF(M7[O5],h7[117-P24])
call VF7(M7[O5],EP7,GetObjectName(1496330292))
endif
call VK7(M7[O5],EP7)
set E37[118+j]=E37[118+j]+1
set eY[64+O5]=j
endif
endif
set i=i+1
endloop
endif
set O5=1
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if(GetPlayerSlotState(Player(O5))==PLAYER_SLOT_STATE_PLAYING)then
set K_F=false
if M7[O5]!=null and GetWidgetLife(M7[O5])>.405 then
if RB7(M7[O5])then
if h4[176+O5]==null or Q17(M7[O5],h4[176+O5])>3000. or GetWidgetLife(h4[176+O5])>0 then
set FX7=null
set i=1
loop
exitwhen FX7!=null or i>5
if IsPlayerAlly(Player(O5),Z7[0])then
set UA7=GetPlayerId(A7[i])
else
set UA7=GetPlayerId(Z7[i])
endif
if M7[UA7]!=null and GetWidgetLife(M7[UA7])>.405 and AK7(Player(UA7))then
if Q17(M7[UA7],M7[O5])<1800. then
set FX7=M7[UA7]
endif
endif
set i=i+1
endloop
if FX7!=null then
set h4[176+O5]=FX7
endif
endif
set EL7[48+O5]=GetUnitX(M7[O5])
set EL7[64+O5]=GetUnitY(M7[O5])
set eY[336+O5]=eY[80+O5]
if eY[240+O5]<R2I(Bz)then
set FX7=h4[176+O5]
if FX7==null then
set FX7=h4[192+O5]
endif
if FX7!=null then
set UA7=GetPlayerId(GetOwningPlayer(FX7))
set K_F=true
set M4F="|r"+Q[UA7]+KZ4[UA7]+GetObjectName(1496331064)+QJ7(eY[80+O5],true)+" - "+Q[O5]+GetUnitName(M7[O5])+"|r"
set h4[192+O5]=null
endif
endif
set eY[240+O5]=R2I(Bz)+FW7
elseif eY[240+O5]<R2I(Bz)and h4[176+O5]!=null then
set UA7=GetPlayerId(GetOwningPlayer(h4[176+O5]))
set K_F=true
set M4F="|r"+Q[UA7]+KZ4[UA7]+GetObjectName(1496331065)+QJ7(eY[336+UA7],true)+" - "+Q[O5]+GetUnitName(M7[O5])+"|r"
set h4[192+O5]=h4[176+O5]
set h4[176+O5]=null
endif
else
set h4[176+O5]=null
endif
if K_F then
call TriggerSleepAction(0.4)
if IsPlayerAlly(Player(O5),Z7[0])then
set EP7=Y7
else
set EP7=X7
endif
if DQ7[16+GetPlayerId(GetLocalPlayer())]and IsPlayerInForce(GetLocalPlayer(),EP7)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,M4F)
call VJ7(EP7,EL7[48+O5],EL7[64+O5],UA7)
endif
endif
endif
set O5=O5+1
endloop
set EP7=null
endfunction
function MEF takes integer O5,unit P67,unit MFF,boolean MGF returns boolean
local boolean SQ7=false
if(not SQ7)and((GetUnitAbilityLevel(P67,1093677391)>0)and(Bz>TC4[32+O5]))then
set SQ7=IssuePointOrderById(P67,852525,GetUnitX(MFF)+GetRandomReal(-200.,200.),GetUnitY(MFF)+GetRandomReal(-200.,200.))
endif
if(not SQ7)and MGF and(GetUnitAbilityLevel(P67,1093683257)>0 and(Bz>TC4[O5]))then
set bj_lastLoadedUnit=MFF
set bj_lastReplacedUnit=S97(800.,SX7(MFF),Condition(function WG7))
if(bj_lastReplacedUnit!=null)then
set SQ7=IssueImmediateOrderById(P67,852490)
endif
endif
if(not SQ7)and MGF and(GetUnitAbilityLevel(P67,1093685808)>0 and(Bz>TC4[O5]))then
set SQ7=IssuePointOrderById(P67,852600,GetUnitX(MFF),GetUnitY(MFF))
endif
if(not SQ7)and MGF and(GetUnitAbilityLevel(P67,1093751874)>0 and(Bz>TC4[O5]))then
if(Bz>TC4[16+O5])then
set bj_lastReplacedUnit=Z77(1800.,P67,false)
if bj_lastReplacedUnit!=null then
set SQ7=SZ7(P67,852119,1093751873,bj_lastReplacedUnit)
set h8[160+O5]=MFF
endif
endif
if(not SQ7)then
set SQ7=IssuePointOrderById(P67,852662,GetUnitX(MFF)+GetRandomReal(-200.,200.),GetUnitY(MFF)+GetRandomReal(-200.,200.))
endif
endif
set bj_lastLoadedUnit=MFF
if(not SQ7)and MGF and(GetPlayerController(GetOwningPlayer(MFF))==MAP_CONTROL_COMPUTER)and((GetUnitTypeId(MFF)==1214409837 and SL7(MFF,852180,1093742932))or((GetUnitAbilityLevel(MFF,1093742938)+GetUnitAbilityLevel(MFF,1093742677)+GetUnitAbilityLevel(MFF,1093742937))>0))and(SE7(800.,P67,Condition(function WG7))==0)and(RY7(MFF))and(RY7(P67))then
if(IssueTargetOrderById(MFF,852248,P67))then
set SQ7=true
call LPE(P67,true)
endif
endif
if(not SQ7)and(eY[224+O5]<R2I(Bz)and GetUnitState(P67,UNIT_STATE_MANA)>EY7)then
set SQ7=VT7(P67,MFF)
endif
return SQ7
endfunction
function MHF takes unit P67,boolean QO7,integer QK7 returns integer
local unit MIF=null
local integer O5=0
local integer UP=0
local integer i=0
local integer FWF=0
local integer k=0
local real IVF=0
if UD7(GetHandleId(P67),"AI|TowerDef_CountCD")>R2I(Bz)then
return U97(GetHandleId(P67),"AI|TowerDef_Require")
endif
set EN7=false
set bj_lastLoadedUnit=null
set IVF=9999999
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(P67),GetUnitY(P67),1800.,Q24)
loop
set MIF=FirstOfGroup(H8)
exitwhen MIF==null
call GroupRemoveUnit(H8,MIF)
set O5=GetPlayerId(GetOwningPlayer(MIF))
set i=GetUnitTypeId(MIF)
if((GetUnitAbilityLevel(MIF,1093678162)!=0 and((i==1970107511 or i==1966092370)or(i==1700946284 or i==1697657398))==false)or GetUnitAbilityLevel(MIF,1097625443)!=0 or GetWidgetLife(MIF)<50.)then
elseif O5==12 or O5>14 then
elseif not(IsUnitType(MIF,UNIT_TYPE_MELEE_ATTACKER)or IsUnitType(MIF,UNIT_TYPE_RANGED_ATTACKER))then
else
set i=GetUnitTypeId(MIF)
set UP=0
if IsUnitType(MIF,UNIT_TYPE_HERO)and i!=1211117642 then
if(IsUnitAlly(MIF,Z7[0])==QO7)then
set EN7=true
set EJ7=Q17(P67,MIF)
if EJ7<IVF and AK7(Player(O5))then
set bj_lastLoadedUnit=MIF
set IVF=EJ7
endif
else
set k=k+1
endif
elseif O5!=GetPlayerId(Z7[0])and O5!=GetPlayerId(A7[0])then
set UP=3
else
if(i==1969711215 or i==1970169187)or(i==1966092337 or i==1966092338)or(i==1702061422 or i==1701081721)or(i==1697656918 or i==1697656919)then
set UP=1
elseif(i==1970107511 or i==1966092370)or(i==1700946284 or i==1697657398)then
set UP=3
else
set UP=5
endif
endif
if(IsUnitAlly(MIF,Z7[0])==QO7)then
set FWF=FWF-UP
else
set FWF=FWF+UP
endif
endif
endloop
if QO7 then
set k=R2I(EH7*I2R(k))
else
set k=R2I(EG7*I2R(k))
endif
set FWF=FWF+IMaxBJ(600-R2I(GetWidgetLife(P67)),0)/30
if(not EN7)and(k==0)and(FWF>FF7)then
set k=k+1
endif
call JFF()
set k=k-E37[112+OV7(QO7,0,6)+QK7]
call TF7(GetHandleId(P67),"AI|TowerDef_Require",k)
call TG7(GetHandleId(P67),"AI|TowerDef_CountCD",Bz+1)
return k
endfunction
function MJF takes nothing returns nothing
local unit P67=T37(GetHandleId(GetTriggeringTrigger()),"Unit")
local unit MIF=null
local boolean QO7=IsUnitAlly(P67,Z7[0])
local integer O5=0
local integer j=0
local integer i=0
local integer k=0
local integer FWF=0
local integer UP
local boolean SQ7=false
set EZ7="MJF"
if(GetWidgetLife(P67)<.405 or EO9(P67))or((not((QO7 and PZ4)or((not QO7)and PA4))))or(PE4)or(P67==null)or(UD7(GetHandleId(P67),"DefCD")>Bz)then
set P67=null
return
endif
set j=U97(GetHandleId(P67),"AI|Lane")
set k=MHF(P67,QO7,j)
call TG7(GetHandleId(P67),"DefCD",Bz+1.)
if k<=0 then
set P67=null
return
endif
if bj_lastLoadedUnit!=null and GetWidgetLife(P67)<FQ7 then
if Bz>UD7(GetHandleId(P67),"PingCD")then
call TG7(GetHandleId(P67),"PingCD",Bz+30.)
if QO7 then
call VJ7(X7,GetUnitX(P67),GetUnitY(P67),GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit)))
else
call VJ7(Y7,GetUnitX(P67),GetUnitY(P67),GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit)))
endif
endif
endif
set MIF=h7[U97(GetHandleId(P67),"AI|Wpt")]
set i=1
set FWF=OV7(QO7,0,6)
set SQ7=false
loop
exitwhen(i>5)
set O5=E37[80+FWF+i]
if O5!=-1 and GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER then
set E37[96+O5]=0
set E37[176+O5]=0
set UP=Q27(M7[O5])
set bj_lastLoadedUnit=M7[O5]
if(M7[O5]==null)or((eY[O5]!=1 or(GetUnitCurrentOrder(M7[O5])==851986 and G0[48+O5]==false))and eY[O5]!=10)or(IG4[O5])or(R17(M7[O5]))then
elseif(UP==j)then
set eY[544+O5]=1
set h9[64+O5]=P67
set hq[320+O5]=Bz+20.
elseif(eY[544+O5]!=0)or(eY[O5]==3 or eY[O5]==4)or(Bz<hq[528+O5])or(h4[O5]!=null)or(Z84[O5]==ZD4)or(GetHeroLevel(M7[O5])<FJ7)or(GetUnitLifePercent(M7[O5])<50.)then
else
set E37[96+O5]=1
endif
endif
set i=i+1
endloop
set i=1
loop
exitwhen(i>15 or k<=0)
if i>10 then
set O5=E37[80+FWF+i-10]
elseif i>5 then
set O5=E37[80+FWF+i-5]
else
set O5=E37[80+FWF+i]
endif
if O5!=-1 and E37[96+O5]==1 and GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER then
set UP=Q27(M7[O5])
if(i<5)and(Bz>hq[576+O5])then
elseif(i<=10)and((QO7 and((E37[112+UP]-E37[118+UP]<0)or(E37[112+UP]<=1)))or((not QO7)and((E37[118+UP]-E37[112+UP]<0)or(E37[118+UP]<=1))))then
elseif(E37[176+O5]==0)then
set E37[176+O5]=1
set bj_lastCreatedUnit=S97(1200.,SX7(M7[O5]),Condition(function SF7))
if((bj_lastCreatedUnit==null)or(GetWidgetLife(bj_lastCreatedUnit)>200.))then
set EN7=false
if(i<=10)and(eY[224+O5]<R2I(Bz)and GetUnitState(P67,UNIT_STATE_MANA)>EY7)and SG7(P67,YC)then
if(SE7(1500.,M7[O5],Condition(function WG7))==0)and(VT7(M7[O5],P67))then
call KAF(M7[O5],MIF)
else
call LPE(M7[O5],true)
set h8[144+O5]=P67
endif
set EN7=true
endif
if(not EN7)and(i>10)then
set EN7=((j!=UP)and(j==0 or UP==0))
if(EN7)then
call KAF(M7[O5],MIF)
set h4[144+O5]=P67
set h8[144+O5]=P67
endif
endif
if(EN7)then
set k=k-1
set hq[528+O5]=Bz+10.
set eY[544+O5]=1
set h9[64+O5]=P67
set E37[112+FWF+UP]=E37[112+FWF+UP]-1
if eY[O5]!=9 then
set eY[O5]=1
endif
set SQ7=true
endif
endif
endif
endif
set i=i+1
endloop
if SQ7 then
call TG7(GetHandleId(P67),"DefCD",Bz+10.)
endif
set P67=null
set MIF=null
endfunction
function MKF takes nothing returns boolean
return((GetWidgetLife(GetTriggerUnit())>50.)and(VL7(GetTriggerUnit()))and(IsUnitEnemy(GetTriggerUnit(),Z7[0])))
endfunction
function MMF takes nothing returns boolean
return((GetWidgetLife(GetTriggerUnit())>50.)and(VL7(GetTriggerUnit()))and(IsUnitEnemy(GetTriggerUnit(),A7[0])))
endfunction
function MNF takes unit P67,integer MOF,integer QK7 returns trigger
local trigger t=CreateTrigger()
if GetOwningPlayer(P67)==Z7[0]then
call TriggerRegisterUnitInRange(t,P67,1200.,Condition(function MKF))
call TF7(GetHandleId(P67),"AI|WptClear",MOF+1)
else
call TriggerRegisterUnitInRange(t,P67,1200.,Condition(function MMF))
call TF7(GetHandleId(P67),"AI|WptClear",MOF-1)
endif
call TriggerAddAction(t,function MJF)
call TJ7(GetHandleId(t),"Unit",P67)
call TF7(GetHandleId(P67),"AI|Wpt",MOF)
call TF7(GetHandleId(P67),"AI|Lane",QK7)
return t
endfunction
function MPF takes unit it returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer k=0
local integer FWF=0
local integer i=0
local integer j=0
local boolean MQF=false
local unit P67=null
local player pl=GetOwningPlayer(it)
local boolean MRF=false
local integer MSF
local boolean MTF=false
local boolean SQ7=false
local boolean MUF=IsUnitInRange(it,S57(it),5000.)
local boolean MVF=false
set i=GetUnitTypeId(it)
if AK7(pl)and((i==1211117650)or(i==1211119433)or(i==1429221430)or(i==1433105516))then
set MVF=true
set GZ[O5]=true
endif
set i=0
set GZ[320+O5]=false
call GroupClear(H8)
call GroupClear(iA)
call GroupClear(H9)
call GroupEnumUnitsInRange(iA,GetUnitX(it),GetUnitY(it),1800.,null)
loop
set P67=FirstOfGroup(iA)
exitwhen P67==null
call GroupRemoveUnit(iA,P67)
if not IsUnitIllusion(P67)then
call GroupAddUnit(H8,P67)
endif
if(not MRF)and IsUnitType(P67,UNIT_TYPE_HERO)and IsUnitEnemy(P67,pl)and GetWidgetLife(P67)>.405 and eY[32+GetPlayerId(GetOwningPlayer(P67))]>0 then
set MRF=true
call GroupEnumUnitsInRange(H9,GetUnitX(P67),GetUnitY(P67),1200.,null)
call GroupAddGroup(H9,H8)
endif
endloop
set h4[304+O5]=null
loop
set P67=FirstOfGroup(H8)
exitwhen(P67==null)
if(GetWidgetLife(P67)<=.405)then
elseif R17(P67)then
elseif(IsUnitType(P67,UNIT_TYPE_HERO))then
if(IsUnitEnemy(P67,pl))then
if((not IsUnitInRange(it,P67,600.))or(kD(P67)))and(eY[32+GetPlayerId(GetOwningPlayer(P67))]==0)then
elseif(GetUnitTypeId(P67)!=1211117642)then
set FWF=FWF-1
set SQ7=true
if(MVF)and(GetUnitTypeId(P67)==1333027688)then
set GZ[O5]=false
endif
elseif(not MTF)then
set MTF=true
endif
elseif IsUnitInRange(P67,it,1200.)or MUF then
if((GetUnitTypeId(P67)!=1211117642)and(not R17(P67)))then
set k=k+1
set i=i+1
endif
if IsUnitInRange(P67,it,800)then
set GZ[320+O5]=true
endif
endif
elseif((IsUnitType(P67,UNIT_TYPE_STRUCTURE)and IsUnitType(P67,UNIT_TYPE_RANGED_ATTACKER))and(Q17(P67,it)<800.)and(P37(it)<2000.))then
if(IsUnitEnemy(P67,pl))then
set j=j-1
set h4[304+O5]=P67
elseif IsUnitAlly(P67,pl)then
set j=j+1
endif
endif
call GroupRemoveUnit(H8,P67)
endloop
if(MTF)then
set FWF=FWF-1
set MQF=true
endif
if not SQ7 then
set h4[304+O5]=null
endif
if IsPlayerAlly(pl,Z7[0])then
set eY[320+O5]=R2I(k*EG7+FWF*EH7)+j
set GZ[208+O5]=((R2I(i*EG7)>=3)and(k<=0))
else
set eY[320+O5]=R2I(k*EH7+FWF*EG7)+j
set GZ[208+O5]=((R2I(i*EH7)>=3)and(k<=0))
endif
return MQF
endfunction
function MWF takes unit it returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer kc=0
local boolean J4=false
local boolean MQF=false
local player pl=GetOwningPlayer(it)
local integer UP
set EZ7="(T8v)"+EZ7
set MQF=MPF(it)
if R07(O5)then
set pl=null
return false
endif
if(Q17(it,S57(it))<600.)then
set kc=0
else
set kc=-eY[320+O5]
if(not G0[128+O5])then
set kc=kc+1
endif
if((GetUnitLifePercent(it)<70.)or(IC(O5)))then
set kc=kc+1
endif
if(eY[O5]==3 or eY[O5]==4)then
set kc=kc-1
endif
endif
set G0[144+O5]=MQF
if(kc>2)and(eY[O5]<9)and(h4[O5]==null or(not R67(h4[O5],it)))then
set h4[O5]=null
set GZ[128+O5]=false
set G0[128+O5]=false
set G0[256+O5]=false
if h4[304+O5]==null or kc>=3 then
set hq[496+O5]=Bz+3.
else
set hq[496+O5]=Bz+1.
endif
if(is(it))then
call SY7(it,851986,h9[O5])
endif
set J4=true
elseif kc>1 then
set G0[256+O5]=false
else
set G0[128+O5]=true
set G0[256+O5]=true
endif
set pl=null
return J4
endfunction
function MXF takes nothing returns boolean
return((not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(VL7(GetFilterUnit())))
endfunction
function MYF takes nothing returns nothing
local unit it=T37(GetHandleId(GetTriggeringTrigger()),"Unit")
local unit m5=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local string M4F
set EZ7="MYF"
if(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
set UP=SE7(1250.,m5,Condition(function MXF))
if(eY[O5]==9)then
call B87(it)
endif
if((GetHeroLevel(it)<6)or((P37(it)<500)and(not Id(O5))and(Bz>hq[512+O5])))then
if((R2I(GetUnitState(it,UNIT_STATE_LIFE))<(400+(GetHeroLevel(it)*40)))and(UP<3))then
call LVE(O5,false)
set GZ[128+O5]=false
call LPE(it,false)
elseif((GetUnitLifePercent(m5)>20.)and((UP<1)or(((V07(it))or(GetHeroLevel(it)<10))and(UP<2))))then
call LPE(it,true)
endif
elseif(R17(it))then
call LVE(O5,false)
set GZ[128+O5]=false
call LPE(it,false)
endif
if(GetUnitAbilityLevel(m5,1098282348)>0)then
call I5F(it,-1)
else
set h4[128+O5]=m5
endif
elseif(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitVisible(m5,Player(O5)))then
call MWF(it)
if(iy(it))then
set h4[160+O5]=m5
endif
set UP=GetPlayerId(GetOwningPlayer(m5))
if(AK7(Player(O5)))and(eY[240+UP]<R2I(Bz))then
set M4F="|r"+Q[O5]+KZ4[O5]+GetObjectName(1496331064)+QJ7(Q_7(O5),true)+" - "+Q[UP]+GetUnitName(m5)+"|r"
set h4[192+UP]=null
set eY[240+UP]=R2I(Bz)+FW7
call TriggerSleepAction(0.4)
if IsUnitAlly(it,Z7[0])then
set EP7=X7
else
set EP7=Y7
endif
if DQ7[16+GetPlayerId(GetLocalPlayer())]and IsPlayerInForce(GetLocalPlayer(),EP7)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,M4F)
call VJ7(EP7,GetUnitX(m5),GetUnitY(m5),O5)
endif
endif
endif
set it=null
set m5=null
endfunction
function MZF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(R37(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),Z7[0])))
endfunction
function MAF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(R37(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),A7[0])))
endfunction
function MBF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(R37(GetTriggerUnit()))and(GetOwningPlayer(GetTriggerUnit())==Z7[0])and((GetUnitTypeId(GetTriggerUnit())==1697656914)or(GetUnitTypeId(GetTriggerUnit())==1697657137)or(GetUnitTypeId(GetTriggerUnit())==1697656915)or(GetUnitTypeId(GetTriggerUnit())==1697657145)))
endfunction
function MCF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(R37(GetTriggerUnit()))and(GetOwningPlayer(GetTriggerUnit())==A7[0])and((GetUnitTypeId(GetTriggerUnit())==1966092365)or(GetUnitTypeId(GetTriggerUnit())==1966092356)or(GetUnitTypeId(GetTriggerUnit())==1966092366)or(GetUnitTypeId(GetTriggerUnit())==1966092372)))
endfunction
function M3F takes unit it returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
set EZ7="uav"
if(Q04[32+O5]!=null)then
call T97(GetHandleId(Q04[32+O5]))
call DestroyTrigger(Q04[32+O5])
endif
set Q04[32+O5]=CreateTrigger()
call TJ7(GetHandleId(Q04[32+O5]),"Unit",it)
if(IsUnitAlly(it,Z7[0]))then
call TriggerRegisterUnitInRange(Q04[32+O5],it,1000.,Condition(function MAF))
call TriggerRegisterUnitInRange(Q04[32+O5],it,1000.,Condition(function MCF))
else
call TriggerRegisterUnitInRange(Q04[32+O5],it,1000.,Condition(function MZF))
call TriggerRegisterUnitInRange(Q04[32+O5],it,1000.,Condition(function MBF))
endif
call TriggerAddAction(Q04[32+O5],function MYF)
if(Q04[64+O5]!=null)then
call T97(GetHandleId(Q04[64+O5]))
call DestroyTrigger(Q04[64+O5])
endif
set Q04[64+O5]=CreateTrigger()
call TJ7(GetHandleId(Q04[64+O5]),"Unit",it)
call TriggerAddAction(Q04[64+O5],function KTF)
set Q04[128+O5]=CreateTrigger()
call TriggerRegisterTimerEvent(Q04[128+O5],30.,true)
call TriggerAddAction(Q04[128+O5],function JWF)
call TJ7(GetHandleId(Q04[128+O5]),"u",it)
call DisableTrigger(Q04[128+O5])
endfunction
function M6F takes nothing returns nothing
call MPF(T37(GetHandleId(GetTriggeringTrigger()),"Unit"))
endfunction
function DBF takes nothing returns nothing
local unit P67=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(P67))
if(Q04[32+O5]!=null)then
call T97(GetHandleId(Q04[32+O5]))
call DestroyTrigger(Q04[32+O5])
endif
set Q04[32+O5]=CreateTrigger()
call TJ7(GetHandleId(Q04[32+O5]),"Unit",P67)
if(IsUnitAlly(P67,Z7[0]))then
call TriggerRegisterUnitInRange(Q04[32+O5],P67,1000.,Condition(function MAF))
else
call TriggerRegisterUnitInRange(Q04[32+O5],P67,1000.,Condition(function MZF))
endif
call TriggerAddAction(Q04[32+O5],function M6F)
set P67=null
endfunction
function xh takes nothing returns nothing
local trigger t=CreateTrigger()
local unit it=GetTriggerUnit()
set EZ7="xh"
call TJ7(GetHandleId(t),"Unit",it)
if(IsUnitAlly(it,Z7[0]))then
call TriggerRegisterUnitInRange(t,it,1000.,Condition(function MAF))
call TriggerRegisterUnitInRange(t,it,1000.,Condition(function MCF))
else
call TriggerRegisterUnitInRange(t,it,1000.,Condition(function MZF))
call TriggerRegisterUnitInRange(t,it,1000.,Condition(function MBF))
endif
call TriggerAddAction(t,function MYF)
set it=null
endfunction
function MLF takes player M1F,string kf returns nothing
if(T07(GetHandleId(M1F),kf)!=null)then
call T97(GetHandleId(T07(GetHandleId(M1F),kf)))
call DestroyTrigger(T07(GetHandleId(M1F),kf))
call TJ7(GetHandleId(M1F),kf,null)
endif
endfunction
function M0F takes unit it returns nothing
local player pl=GetOwningPlayer(it)
local integer kg=1
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1=GetUnitTypeId(it)
local integer M5F=0
local boolean M2F=false
set EZ7="s4v"
call DZF(O5,it,i1)
if(i1==1211117654)or(i1==1162032951)or(i1==1160785972)or(i1==1429221456)or(i1==1315074670)or(i1==1164799855)or(i1==1311781185)or(i1==1211117649)then
call ExecuteFunc("M_F")
elseif(i1==1160786242)then
call TS7(GetHandleId(GetOwningPlayer(it)),"MGrp",CreateGroup())
elseif(i1==1211117641)then
call ExecuteFunc("N4F")
elseif(i1==1214409837)then
call ExecuteFunc("N7F")
elseif(i1==1328558160)then
call ExecuteFunc("N8F")
elseif(i1==1211117633)then
call ExecuteFunc("N9F")
elseif(i1==1214344551)then
set HC[240+O5]=Location(0.,0.)
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
set hG[256+O5]=0
call ExecuteFunc("NDF")
elseif(i1==1212365106)then
call DS8("NEF",GetPlayerController(pl)==MAP_CONTROL_COMPUTER)
endif
if false then
if(i1==1333027688)then
call DZ8(it,1093686091)
endif
if(i1==1214409837)then
call DZ8(it,1093679157)
endif
if(i1==1164799603)then
call DZ8(it,1093752632)
endif
if(i1==1430466872)then
call DZ8(it,1093687349)
endif
if(i1==1429221424)then
call DZ8(it,1093687351)
endif
if(i1==1160785970)then
call DZ8(it,1093747792)
endif
if(i1==1429221446)then
call DZ8(it,1093678665)
endif
if(i1==1429221451)then
call DZ8(it,1093678671)
endif
if(i1==1160786242)then
call DZ8(it,1093683287)
endif
if(i1==1211117641)then
call DZ8(it,1093684792)
endif
if(i1==1311780946)then
call DZ8(it,1093685808)
endif
endif
call TF7(GetHandleId(Player(O5)),"AI|Class",QE7(i1))
set K_7[O5]=true
set K_7[112+O5]=false
call HBF(O5,it,false)
if(MU7 and Z84[O5]==ZF4)then
if(MW7)then
if(AG7(Player(O5)))then
if(MX7==null)then
set MX7=CreateUnit(Z7[0],M99(Player(O5)),GetUnitX(IZ4)-M67,GetUnitY(IZ4)-M67,0)
call MN9(GetPlayerId(Z7[0]),MX7)
endif
set KU4[16+O5]=MX7
set MA7=MA7+1
if(MA7>MB7)then
set MX7=null
set MA7=0
endif
else
if(MY7==null)then
set MY7=CreateUnit(A7[0],M99(Player(O5)),GetUnitX(JA4)+M67,GetUnitY(JA4)+M67,0)
call MN9(GetPlayerId(A7[0]),MY7)
endif
set KU4[16+O5]=MY7
set MC7=MC7+1
if(MC7>M37)then
set MY7=null
set MC7=0
endif
endif
else
set KU4[16+O5]=CreateUnit(Player(O5),M99(Player(O5)),GetUnitX(KU4[O5]),GetUnitY(KU4[O5]),0)
call MN9(O5,KU4[16+O5])
endif
endif
if((not D4)and GetUnitName(it)!="Bloodrune")then
if(T64==false)then
if(not LO4)then
set KZ4[GetPlayerId(pl)]=I2S(i5(pl))+Q97(pl)+CZ7(it)
call SetPlayerName(pl,CE7(pl))
endif
else
if(SubString(KZ4[GetPlayerId(pl)],3,11)=="Computer" or SubString(KZ4[GetPlayerId(pl)],4,12)=="Computer")then
loop
if(DYF(it))then
set M5F=GetRandomInt(1,25)
else
set M5F=GetRandomInt(26,119)
endif
if(T34[M5F]!="")then
set KZ4[GetPlayerId(pl)]="+"+T34[M5F]
call SetPlayerName(pl,CE7(pl)+" ("+CY7(it)+")")
set T34[M5F]=""
set M2F=true
endif
exitwhen(M2F)
endloop
endif
endif
elseif(Bz<150.)and GetUnitName(it)!="Bloodrune" then
set KZ4[GetPlayerId(pl)]=I2S(i5(pl))+Q97(pl)+" Computer"
call SetPlayerName(pl,CE7(pl)+" ("+CY7(M7[GetPlayerId(pl)])+")")
else
set pl=null
return
endif
if(AG7(pl))then
loop
exitwhen(O7[kg]==pl)or(kg>5)
set kg=kg+1
endloop
call MultiboardSetItemValueBJ(T4,1,(kg+2),(Q[GetPlayerId(pl)]+(CE7(pl)+"|r")))
else
loop
exitwhen(P7[kg]==pl)or(kg>5)
set kg=kg+1
endloop
call MultiboardSetItemValueBJ(T4,1,(kg+3+HB4),(Q[GetPlayerId(pl)]+(CE7(pl)+"|r")))
endif
set pl=null
endfunction
function UD takes nothing returns nothing
local unit A07=GetTriggerUnit()
set EZ7="UD"
call MLF(GetOwningPlayer(A07),"HasAtkM")
call MLF(GetOwningPlayer(A07),"HasMM")
call MLF(GetOwningPlayer(A07),"HasAM")
call MLF(GetOwningPlayer(A07),"HasOrb")
call M0F(A07)
call M3F(A07)
set A07=null
endfunction
function Uf takes nothing returns nothing
local unit A07=T37(R44,"AIHSwap|U")
set EZ7="Uf"
call MLF(GetOwningPlayer(A07),"HasAtkM")
call MLF(GetOwningPlayer(A07),"HasMM")
call MLF(GetOwningPlayer(A07),"HasAM")
call MLF(GetOwningPlayer(A07),"HasOrb")
call M0F(A07)
call M3F(A07)
set A07=null
endfunction
function NFF takes nothing returns boolean
local integer O5=1
local unit m5=null
if not IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO)then
return false
endif
set m5=GetDyingUnit()
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if AK7(Player(O5))then
if h4[O5]==m5 then
set h4[O5]=null
call IssueImmediateOrderById(M7[O5],851972)
if GZ[208+O5]or G0[256+O5]then
call LSE(O5,ZN7(800.,M7[O5]),false,false)
endif
call J3(M7[O5],false)
endif
endif
set O5=O5+1
endloop
set m5=null
return false
endfunction
function NGF takes nothing returns boolean
return((IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE))and(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])and(GetUnitTypeId(GetAttacker())!=1970107511)and(GetUnitTypeId(GetAttacker())!=1700946284)and(GetUnitTypeId(GetAttacker())!=1966092370)and(GetUnitTypeId(GetAttacker())!=1697657398)and(VL7(GetTriggerUnit())))
endfunction
function NHF takes nothing returns nothing
local unit m5=GetTriggerUnit()
local unit MDF=GetAttacker()
local integer O5=GetPlayerId(GetOwningPlayer(m5))
local integer i1=GetUnitTypeId(m5)
set EZ7="NHF"
if R07(O5)then
set m5=null
set MDF=null
return
endif
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(not G0[O5])and(i1!=1211117642))then
if(((GetUnitLifePercent(MDF)>10.)or(SE7(800.,MDF,Condition(function k0))>1)or(R2I(GetWidgetLife(m5))<(500+(GetHeroLevel(m5)*30)))or(not Id(O5)))and(not R07(O5)))then
set bj_lastLoadedUnit=m5
if((eY[320+O5]>=0)and(hq[720+O5]>-0.05))then
elseif((not RY7(m5))and(((i1!=1214409837)and(i1!=1332898670))or(GetUnitCurrentOrder(m5)!=852600))and((i1!=1160786243)or(GetUnitCurrentOrder(m5)!=852089))and((i1!=1430466872)or(GetUnitCurrentOrder(m5)!=852487)))then
elseif(((P37(m5)>1500.)and(hq[720+O5]>-0.05)and(GetHeroLevel(m5)>10))or(((i1==1162032181)or(i1==1429221451))and(GZ[384+O5])and(not R17(m5)))or(GZ[256+O5]))then
elseif((GetHeroLevel(m5)>6)and(GetUnitAbilityLevel(MDF,1098282348)==0)and(Id(O5))and(GetUnitState(m5,UNIT_STATE_LIFE)>500+(GetHeroLevel(m5)*30)))then
elseif(h4[O5]!=null and R17(h4[O5])and G0[128+O5]and P37(m5)>300. and hq[944+O5]<Bz and SE7(600.,m5,Condition(function WM7))>0)then
else
call SY7(m5,851986,h9[O5])
if((h4[O5]!=null)and((GetHeroLevel(m5)<6)or(R17(m5))or(not Id(O5))))then
call LVE(O5,false)
endif
set G0[O5]=true
call TriggerSleepAction(1.)
if((R37(m5))and(R37(MDF))and(IsUnitInRange(m5,MDF,1200.))and(G0[O5]))then
call TriggerSleepAction(1.)
endif
set G0[O5]=false
if((R37(m5))and(R37(MDF))and(GetUnitCurrentOrder(m5)==851986)and(not IsUnitInRange(m5,MDF,1300.))and(SE7(800.,MDF,Condition(function k5))>1))then
call J3(m5,true)
endif
endif
elseif((not Id(O5))and(RY7(m5)))then
call IssueTargetOrderById(m5,851983,MDF)
endif
elseif((i1==1211117642)or(i1==1966092596)or(i1==1966092597)or(i1==1966092598)or(i1==1966092612)or(i1==1966092613)or(i1==1966092614)or(i1==1966092626)or(i1==1966092627)or(i1==1966092628)or(i1==1697656907)or(i1==1697656905)or(i1==1697656908)or(i1==1848652343)or((GetUnitTypeId(M7[O5])==1211117633)and(i1!=1211117633)))then
call SY7(m5,851986,h9[16+O5])
set G0[16+O5]=true
call QA7(1.)
if((R37(m5))and(R37(MDF))and(IsUnitInRange(m5,MDF,1300.)))then
call SY7(m5,851986,h9[16+O5])
endif
set G0[16+O5]=false
endif
set m5=null
set MDF=null
endfunction
function NIF takes nothing returns boolean
return((QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])and(IsUnitAlly(GetTriggerUnit(),Z7[0]))and(VL7(GetTriggerUnit())))
endfunction
function NJF takes nothing returns boolean
return((QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])and(IsUnitAlly(GetTriggerUnit(),A7[0]))and(VL7(GetTriggerUnit())))
endfunction
function NKF takes unit J4F returns nothing
loop
call SY7(GetTriggerUnit(),851986,h9[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call TriggerSleepAction(0.3)
exitwhen((not R37(GetTriggerUnit()))or(not R37(J4F))or(not IsUnitInRange(GetTriggerUnit(),J4F,1200.)))
endloop
endfunction
function NMF takes nothing returns nothing
if((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit())))then
set GZ[128+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
set h4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=null
if(IsUnitAlly(GetTriggerUnit(),A7[0]))then
call NKF(IZ4)
else
call NKF(JA4)
endif
elseif(not IsUnitIllusion(GetTriggerUnit()))then
call SY7(GetTriggerUnit(),851986,h9[16+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endfunction
function NNF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(GetUnitCurrentOrder(GetTriggerUnit())!=851986)and(not IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetAttacker(),UNIT_TYPE_HERO)))
endfunction
function NOF takes nothing returns nothing
local unit it=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
set EZ7="NOF"
if((Bz<hq[288+O5])or(not is(it))or((G0[224+O5]or Bz<hq[672+O5])and R17(it)==false))then
set it=null
return
elseif R07(O5)then
set it=null
return
endif
set hq[288+O5]=Bz+1.
set hq[496+O5]=Bz+1.5
call MoveLocation(Ha,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
set bj_lastLoadedUnit=OR7(IsUnitAlly(it,Z7[0]),IZ4,JA4)
set EJ7=Q17(it,bj_lastLoadedUnit)
if SD7(150.,Ha,Condition(function k0))>6 then
call LPE(it,true)
elseif(EJ7<900. and EJ7+QR7(it)>650.)and(IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER))then
call SY7(it,851986,bj_lastLoadedUnit)
else
if(((eY[O5]==3)or(eY[O5]==4))and(IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER))and(not GZ[128+O5])and(h4[O5]==null)and(GetUnitCurrentOrder(it)==851983)and(not GZ[48+O5])and(Q17(it,S57(it))<6500.))then
if((Bz<hq[784+O5])or(hq[720+O5]<-F57)or((SD7(1000.,Ha,Condition(function WE7))==0)and(SD7(700.,Ha,Condition(function k5))==0)and(SD7(600.,Ha,Condition(function k0))>3)))then
call SY7(it,851986,bj_lastLoadedUnit)
set G0[48+O5]=true
set hq[768+O5]=Bz+1.
set hq[784+O5]=Bz+5.
endif
endif
if((not(IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER)))and(not GZ[128+O5])and(h4[O5]==null)and(iU(it))and(hq[512+O5]<Bz))then
if(not R17(it))then
if((eY[O5]<10)and((R2I(GetUnitState(it,UNIT_STATE_LIFE))<(550+(GetHeroLevel(it)*40)))or((GetHeroLevel(it)<10)and(IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER)))))then
call LPE(it,true)
endif
else
call VN7(it,false)
endif
elseif((IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER))and(not GZ[128+O5])and(h4[O5]==null)and(iU(it))and(hq[512+O5]<Bz))then
if(not R17(it))then
if((eY[O5]<10)and(GetUnitLifePercent(it)<60.)and((SE7(300.,GetTriggerUnit(),Condition(function k5))<3)))then
if(not(SG7(it,ZU[T2]))and(not(SG7(it,ZU[J1])))and(not(SG7(it,ZU[P1])))and((GetUnitAbilityLevel(it,1112891766)==0)or(GetUnitAbilityLevel(it,1110454838)==0)or(GetUnitAbilityLevel(it,1110454597)==0))and((SE7(1000.,it,Condition(function WE7))>0)or(SE7(900.,it,Condition(function WO7))>0)))then
call LPE(it,true)
endif
endif
else
call VN7(it,false)
endif
elseif((R17(it))and(not Id(O5)))then
call VN7(it,true)
elseif((GetHeroLevel(it)<6)or((GetUnitLifePercent(it)<60.)and(R2I(GetUnitState(it,UNIT_STATE_LIFE))<(400+(GetHeroLevel(it)*50)))and((h4[O5]==null)or(GetUnitState(h4[O5],UNIT_STATE_LIFE)>(GetUnitState(it,UNIT_STATE_LIFE)+(15.*GetHeroLevel(it)))))))then
if((GetHeroLevel(it)<3)or(SE7(500.,GetTriggerUnit(),Condition(function k0))>2))then
set GZ[128+O5]=false
call LPE(it,true)
endif
elseif(GetUnitTypeId(it)==1211117643)and(h4[O5]==null)and(Q17(it,h9[48+O5])>700)then
set UP=GetUnitCurrentOrder(it)
if(UP==852278 or UP==852114 or UP==852504)then
call LPE(it,true)
endif
endif
endif
set it=null
endfunction
function NPF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetAttacker()))
set EZ7="NPF"
if(AK7(Player(O5)))and(GetUnitAbilityLevel(GetAttacker(),1110455884)>0)and(Bz>TC4[64+O5])and(h4[O5]==GetTriggerUnit())then
call IssuePointOrderById(M7[O5],852185,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()))
endif
endfunction
function NQF takes nothing returns boolean
if not((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))then
return false
else
if IsUnitIllusion(GetAttacker())then
call NPF()
return false
endif
endif
return(IsUnitType(GetAttacker(),UNIT_TYPE_HERO))
endfunction
function NRF takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(hz)))and(hZ!=GetFilterUnit())and(hz!=GetFilterUnit())and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not R17(GetFilterUnit())))
endfunction
function NSF takes nothing returns nothing
if((not IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))and(V17(GetEnumUnit()))and(GetUnitCurrentOrder(GetEnumUnit())!=851986)and(IsUnitInRange(GetEnumUnit(),hz,1200.)))then
call IssueTargetOrderById(GetEnumUnit(),851983,hz)
endif
endfunction
function NTF takes unit P67,unit NUF returns nothing
local integer UA7=GetPlayerId(GetOwningPlayer(P67))
local integer O5
local unit MIF=null
local boolean J4=false
local integer i=0
local integer JAF=0
local integer j=0
local integer k=0
local boolean NVF=false
local unit NWF=null
local boolean SQ7=false
local boolean QO7
set EZ7="(udv)"+EZ7
if((GetWidgetLife(NUF)>1.)and(P67!=null)and(Bz>hq[416+UA7]or(Bz+2.>hq[416+UA7]and(R17(P67)or R07(UA7)))))then
set hq[416+UA7]=Bz+5.
set k=GetRandomInt(-1,1)
if k<0 then
set k=0
endif
if R17(P67)then
set k=k+1
endif
set QO7=IsUnitAlly(P67,Z7[0])
set JAF=OV7(QO7,0,6)
set NWF=OR7(QO7,IZ4,JA4)
set NVF=IsUnitInRange(P67,NWF,6000.)
set i=1
loop
exitwhen(i>5)
set O5=E37[80+JAF+i]
if(O5!=-1)and(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)then
set MIF=M7[O5]
set bj_lastLoadedUnit=MIF
set hq[416+O5]=Bz+2.
set J4=false
set SQ7=false
if(MIF==null)or(R17(MIF))or(IG4[O5])or(eY[544+O5]!=0)then
elseif(hq[480+O5]>Bz)or(h4[O5]!=null and h4[O5]!=NUF and(Q17(P67,h4[O5])+300<Q17(P67,NUF)))then
elseif(not NVF)and(eY[O5]==3 or eY[O5]==4 or Bz<hq[528+O5])then
elseif(NVF and eY[O5]!=2 and IsUnitInRange(MIF,NWF,6000.))then
set J4=true
elseif((IsUnitInRange(P67,MIF,3600.))or(eY[80+O5]==eY[80+UA7]))and((hq[624+UA7]>Bz)or(GetUnitLifePercent(P67)<80.)or(eY[320+UA7]+j<=k))then
set J4=true
elseif(Bz>hq[320+O5]and(eY[O5]!=9 or(GetUnitLifePercent(P67)<70.)))and(eY[320+UA7]+j<=k)and(GetHeroLevel(MIF)>=6)and(Q17(P67,MIF)>3000)and(GetUnitLifePercent(MIF)>70.)and(GetUnitManaPercent(MIF)>30.)and((Z84[O5]==ZE4 and GetRandomInt(1,3)==1)or(Z84[O5]==ZF4))then
set SQ7=MEF(O5,MIF,P67,true)
endif
if J4 then
if(h4[O5]==NUF)then
if((GetUnitAbilityLevel(NUF,1110454854)==0)and(is(MIF))and(GetUnitCurrentOrder(MIF)!=851983))then
call IssueTargetOrderById(MIF,851983,NUF)
set SQ7=true
endif
elseif((h4[O5]==null)or(hq[464+GetPlayerId(GetOwningPlayer(P67))]>Bz)or((GetUnitLifePercent(NUF)+10.)<GetUnitLifePercent(h4[O5])and(GetWidgetLife(NUF)<GetWidgetLife(h4[O5]))))then
set h4[O5]=NUF
if((is(MIF))and(GetUnitAbilityLevel(NUF,1110454854)==0))then
call IssueTargetOrderById(MIF,851983,NUF)
set SQ7=true
endif
endif
if(hq[624+UA7]>Bz)then
set hq[624+O5]=Bz+F17
endif
endif
if SQ7 then
set eY[544+O5]=2
set h9[64+O5]=P67
set h4[O5]=NUF
set j=j+1
set hq[576+O5]=Bz+FB7
if eY[O5]==9 or eY[O5]==10 then
call B77(MIF,P67)
set eY[O5]=1
endif
endif
endif
set i=i+1
endloop
if(IsUnitInForce(P67,QX4))then
call GroupClear(iH)
call GroupEnumUnitsOfPlayer(iH,GetOwningPlayer(P67),Q24)
call ForGroup(iH,function NSF)
endif
if eY[320+UA7]+j<0 and Bz>hq[800+UA7]and AK7(Player(UA7))and R17(P67)then
if QO7 then
set EP7=X7
else
set EP7=Y7
endif
call VJ7(EP7,GetUnitX(P67),GetUnitY(P67),GetPlayerId(GetOwningPlayer(P67)))
set hq[800+UA7]=Bz+15.
endif
endif
set EP7=null
endfunction
function NXF takes nothing returns nothing
local unit PT7=GetAttacker()
local unit it=GetTriggerUnit()
local integer O5=0
local real QL7=0.
if GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER and RY7(it)then
set O5=GetPlayerId(GetOwningPlayer(it))
if h4[O5]!=null then
if PT7!=h4[O5]then
set hq[944+O5]=Bz+NL7
endif
set QL7=QR7(it)
if R17(h4[O5])then
set QL7=QL7+200.
endif
if(Q17(it,h4[O5])>QL7-100.)then
call LVE(O5,true)
endif
endif
endif
if(not IsUnitInForce(PT7,QX4))then
call TriggerSleepAction(0.2)
call NTF(PT7,it)
endif
if(not IsUnitInForce(it,QX4))then
call TriggerSleepAction(0.2)
call NTF(it,PT7)
endif
set PT7=null
set it=null
endfunction
function NYF takes nothing returns boolean
return((GetSpellTargetUnit()!=null)and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetSpellTargetUnit())))and(not IsUnitInForce(GetSpellTargetUnit(),QX4)))
endfunction
function NZF takes nothing returns nothing
call NTF(GetSpellTargetUnit(),GetTriggerUnit())
endfunction
function NAF takes nothing returns nothing
local unit P67=GetTriggerUnit()
local unit NUF=GetAttacker()
local unit MIF=null
local player pl=null
local integer UA7
local integer i=0
local integer j
local integer k=0
local real NBF
local integer O5
set EZ7="NAF"
set UA7=GetPlayerId(GetOwningPlayer(NUF))
if UA7==GetPlayerId(Z7[0])or UA7==GetPlayerId(A7[0])then
set j=-1
if((P67==JN4)or(P67==JS4)or(P67==JV4))or((P67==J_4)or(P67==KD4)or(P67==KG4))then
set j=1
elseif((P67==JO4)or(P67==JT4)or(P67==JW4))or((P67==K44)or(P67==KE4)or(P67==KH4))then
set j=0
elseif((P67==JP4)or(P67==JU4)or(P67==JX4))or((P67==K74)or(P67==KF4)or(P67==KI4))then
set j=2
elseif((P67==JQ4)or(P67==JQ4)or(P67==JF4))or((P67==K84)or(P67==K84)or(P67==J34))then
set j=3
endif
if(j!=-1 or GetWidgetLife(P67)<=FR7)then
set EN7=IsUnitAlly(P67,Z7[0])
set pl=Player(UA7)
if(UD7(GetHandleId(P67),"AI|Glyph|CD")>Bz)then
elseif(Bz>UD7(R44,"AI|Glyph|"+OY7(EN7,"Sent","Scrg")))then
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(P67),GetUnitY(P67),900.,null)
loop
set MIF=FirstOfGroup(H8)
exitwhen MIF==null
call GroupRemoveUnit(H8,MIF)
if GetWidgetLife(MIF)<.405 then
elseif IsUnitType(MIF,UNIT_TYPE_HERO)and GetUnitTypeId(MIF)!=1211117642 then
if IsUnitAlly(MIF,pl)then
set k=k+1
else
set k=k-1
endif
elseif P67!=MIF and VL7(MIF)and IsUnitInRange(MIF,P67,300.)then
if IsUnitAlly(MIF,pl)then
set k=GetUnitTypeId(MIF)
if(k==1969711215 or k==1970169187)or(k==1966092337 or k==1966092338)or(k==1702061422 or k==1701081721)or(k==1697656918 or k==1697656919)then
set i=i+1
elseif(k==1970107511 or k==1966092370)or(k==1700946284 or k==1697657398)then
set i=i+2
else
set i=i+2
endif
else
set i=-99999
endif
endif
endloop
if((EN7 and FN7)or((not EN7)and FO7))then
set bj_forLoopAIndex=FQ7
else
set bj_forLoopAIndex=FR7
endif
if(i>0 and i+k*3>FM7-IMaxBJ(bj_forLoopAIndex-R2I(GetWidgetLife(P67)),-100)/25)then
if EN7 then
set EP7=X7
else
set EP7=Y7
endif
set i=1
set k=-1
set NBF=99999.
loop
exitwhen i>5
if EN7 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i])
endif
if AK7(Player(O5))then
if((EN7 and FN7)or((not EN7)and FO7))then
call IssueImmediateOrder(KU4[O5],"coldarrows")
exitwhen true
else
if k==-1 then
set k=O5
if M7[O5]!=null and GetWidgetLife(M7[O5])>.405 then
set NBF=Q17(P67,M7[O5])
endif
else
if M7[O5]!=null and GetWidgetLife(M7[O5])>.405 then
set EJ7=Q17(P67,M7[O5])
if EJ7<NBF then
set k=O5
set NBF=EJ7
endif
elseif NBF==99999. and GetRandomInt(1,i)==1 then
set k=O5
endif
endif
endif
endif
set i=i+1
endloop
if k!=-1 then
call VF7(M7[k],EP7,GetObjectName(1496330547))
call VJ7(EP7,GetUnitX(P67),GetUnitY(P67),k)
call TG7(GetHandleId(P67),"AI|Glyph|CD",Bz+FK7)
endif
endif
endif
endif
set O5=GetUnitTypeId(NUF)
if j!=-1 and((O5==1969711215 or O5==1970169187)or(O5==1966092337 or O5==1966092338)or(O5==1702061422 or O5==1701081721)or(O5==1697656918 or O5==1697656919))then
set i=1
set EJ7=99999.
set bj_forLoopAIndex=-1
loop
exitwhen i>5
if UA7==GetPlayerId(Z7[0])then
set O5=GetPlayerId(A7[i])
else
set O5=GetPlayerId(Z7[i])
endif
if((M7[O5]!=null)and(not R17(M7[O5]))and(GetWidgetLife(M7[O5])>400.)and(eY[O5]==3 or eY[O5]==4)and(E37[64+O5]==j)and(Bz>hq[672+O5]))then
set NBF=Q17(M7[O5],P67)
if NBF<EJ7 then
set EJ7=NBF
set bj_forLoopAIndex=O5
endif
endif
set i=i+1
endloop
if bj_forLoopAIndex!=-1 then
set O5=bj_forLoopAIndex
set G0[224+O5]=true
set E67[48+O5]=GetAttacker()
if RY7(M7[O5])then
call IssueTargetOrderById(M7[O5],851983,E67[48+O5])
endif
endif
endif
endif
set P67=null
set NUF=null
set MIF=null
set pl=null
endfunction
function NCF takes nothing returns boolean
local real N3F=0.
local integer O5
if IsUnitType(GetAttacker(),UNIT_TYPE_HERO)then
set O5=GetPlayerId(GetOwningPlayer(GetAttacker()))
if G0[224+O5]and GetTriggerUnit()==E67[48+O5]then
set G0[224+O5]=false
set hq[672+O5]=Bz+2.
endif
elseif IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)and Bz>FP7 then
set FP7=Bz+1.
call NAF()
endif
if(Bz<600.)then
set N3F=130.
elseif(Bz<1200.)then
set N3F=140.
elseif(Bz>1200.)then
set N3F=150.
endif
if(not GZ[320+O5])then
set N3F=N3F/2+15
endif
return((not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetTriggerUnit())<N3F))
endfunction
function N6F takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
set EZ7="(uHv)"+EZ7
set h4[96+O5]=GetTriggerUnit()
call DisableTrigger(Q04[O5])
call IssueTargetOrderById(GetEnumUnit(),851983,GetTriggerUnit())
call EnableTrigger(Q04[O5])
endfunction
function NLF takes nothing returns boolean
local integer O5
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))then
set O5=GetPlayerId(GetOwningPlayer(GetFilterUnit()))
if((R07(O5))or((h4[304+O5]!=null)and(QR7(GetFilterUnit())+Q17(GetTriggerUnit(),h4[304+O5])<Q17(GetFilterUnit(),h4[304+O5]))))then
elseif((iU(GetFilterUnit()))and(not Id(O5))and(not R17(GetFilterUnit()))and((h4[96+O5]==null)or(not R37(h4[96+O5]))or((h4[96+O5]!=null)and(R37(h4[96+O5]))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(h4[96+O5]))))))then
return((Jw(GetFilterUnit()))and(G0[128+O5])and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(Bz>hq[496+O5])and((not V07(GetFilterUnit()))or(IsUnitInRange(GetFilterUnit(),GetTriggerUnit(),500.)))and((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))or(GetHeroLevel(GetFilterUnit())<15)))
endif
endif
return false
endfunction
function N1F takes nothing returns nothing
call GroupClear(iG)
call GroupEnumUnitsInRange(iG,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),800.,Q_4)
call ForGroup(iG,function N6F)
endfunction
function N0F takes nothing returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(GetKillingUnit()))
if GetKillingUnit()==M7[O5]and(eY[O5]==3 or eY[O5]==4)then
call JKF(M7[O5])
endif
return false
endfunction
function N5F takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==Player(12))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function N2F takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
set EZ7="N2F"
return((GetOwningPlayer(GetFilterUnit())==Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(i1==1852010091))
endfunction
function N_F takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
set EZ7="N_F"
return((GetOwningPlayer(GetFilterUnit())==Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(i1==1852534636))
endfunction
function O4F takes nothing returns nothing
if((h0==null)or(GetUnitLevel(GetEnumUnit())>GetUnitLevel(h0))or((GetUnitLevel(GetEnumUnit())==GetUnitLevel(h0))and(GetUnitState(h0,UNIT_STATE_LIFE)<GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE))))then
set h0=GetEnumUnit()
endif
endfunction
function O7F takes unit A_7 returns unit
local boolexpr Ig=Condition(function N5F)
set EZ7="AINeutralCampScan"
set h0=null
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(A_7),GetUnitY(A_7),600.,Ig)
call ForGroup(H8,function O4F)
call DestroyBoolExpr(Ig)
set Ig=null
return h0
endfunction
function O8F takes unit A_7,integer QV7,integer O9F returns unit
local boolexpr Ig=null
set EZ7="AIDoomBringerNeutralCampScan"
if(O9F==1852010091)then
set Ig=Condition(function N2F)
elseif(O9F==1852534636)then
set Ig=Condition(function N_F)
else
set Ig=Condition(function N2F)
endif
set h0=null
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(A_7),GetUnitY(A_7),600.,Ig)
call ForGroup(H8,function O4F)
call DestroyBoolExpr(Ig)
set Ig=null
return h0
endfunction
function ODF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(eY[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(GetHeroLevel(GetTriggerUnit())>3)and(not R17(GetTriggerUnit()))and(not IsUnitIllusion(GetTriggerUnit()))and(GetUnitAbilityLevel(GetTriggerUnit(),1110454874)==0))
endfunction
function OEF takes unit A_7 returns boolean
local integer O5=1
local boolean O6=IsUnitAlly(GetTriggerUnit(),Z7[0])
local boolean OFF=false
local integer OGF=0
local integer OHF=0
set EZ7="umv"
if((O6)and(GetHeroLevel(GetTriggerUnit())>15)and(G2>=0))then
set OHF=SE7(1200.,GetTriggerUnit(),Condition(function WQ7))
set OFF=OHF>0
elseif((not O6)and(GetHeroLevel(GetTriggerUnit())>15)and(G1>=0))then
set OHF=SE7(1200.,GetTriggerUnit(),Condition(function WQ7))
set OFF=OHF>0
endif
loop
if((eY[GetPlayerId(Z7[O5])]==10)and(h8[48+GetPlayerId(Z7[O5])]==A_7))then
return true
endif
if((eY[GetPlayerId(A7[O5])]==10)and(h8[48+GetPlayerId(A7[O5])]==A_7))then
return true
endif
if((OFF)and(eY[80+GetPlayerId(T47(O5,not O6))]==eY[80+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))then
set OGF=OGF+1
endif
set O5=O5+1
exitwhen O5>5
endloop
if(OFF)then
return OGF>=OHF
endif
return false
endfunction
function OIF takes unit it returns boolean
local integer OJF=0
local boolean J4=true
local unit A07=null
local player pl=GetOwningPlayer(it)
set EZ7="uqv"
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(it),GetUnitY(it),1600.,Q24)
loop
set A07=FirstOfGroup(H8)
exitwhen((A07==null)or(not J4))
if((not R37(A07))or(not V17(A07)))then
elseif(IsUnitEnemy(A07,pl))then
if((IsUnitType(A07,UNIT_TYPE_HERO))or(IsUnitType(A07,UNIT_TYPE_STRUCTURE)))then
set J4=false
elseif(((GetOwningPlayer(A07)==Z7[0])or(GetOwningPlayer(A07)==A7[0]))and(IsUnitInRange(A07,it,1200.)))then
set OJF=OJF+1
set J4=OJF<=3
endif
endif
call GroupRemoveUnit(H8,A07)
endloop
set pl=null
return J4
endfunction
function OKF takes unit OMF,unit AP7 returns unit
local integer O5=GetPlayerId(GetOwningPlayer(AP7))
set EZ7="AIDoomBringerJungleFarm"
if(OMF==h7[211]or OMF==h7[212])then
if(GetHeroLevel(AP7)>7)then
if(O8F(h7[262],O5,1852010091)!=null)then
return h7[262]
elseif(O8F(h7[260],O5,1852010091)!=null)then
return h7[260]
elseif(O8F(h7[253],O5,1852010091)!=null)then
return h7[253]
elseif(O8F(h7[258],O5,1852010091)!=null)then
return h7[258]
elseif(O8F(h7[256],O5,1852010091)!=null)then
return h7[256]
else
return h7[262]
endif
else
if(O8F(h7[262],O5,1852534636)!=null)then
return h7[262]
elseif(O8F(h7[260],O5,1852534636)!=null)then
return h7[260]
elseif(O8F(h7[253],O5,1852534636)!=null)then
return h7[253]
elseif(O8F(h7[258],O5,1852534636)!=null)then
return h7[258]
elseif(O8F(h7[256],O5,1852534636)!=null)then
return h7[256]
else
return h7[260]
endif
endif
elseif(OMF==h7[213])then
if(GetHeroLevel(AP7)>7)then
if(O8F(h7[257],O5,1852010091)!=null)then
return h7[257]
elseif(O8F(h7[259],O5,1852010091)!=null)then
return h7[259]
elseif(O8F(h7[261],O5,1852010091)!=null)then
return h7[261]
else
return h7[257]
endif
else
if(O8F(h7[261],O5,1852534636)!=null)then
return h7[261]
elseif(O8F(h7[259],O5,1852534636)!=null)then
return h7[259]
else
return h7[261]
endif
endif
elseif((OMF==h7[221])or(OMF==h7[222]))then
if(GetHeroLevel(AP7)>7)then
if(O8F(h7[254],O5,1852010091)!=null)then
return h7[254]
elseif(O8F(h7[255],O5,1852010091)!=null)then
return h7[255]
else
return h7[254]
endif
else
if(O8F(h7[254],O5,1852534636)!=null)then
return h7[254]
elseif(O8F(h7[255],O5,1852534636)!=null)then
return h7[255]
else
return h7[254]
endif
endif
elseif(OMF==h7[223])then
if(GetHeroLevel(AP7)>7)then
if((IsUnitAlly(AP7,A7[0])))then
if(O8F(h7[254],O5,1852010091)!=null)then
return h7[254]
elseif(O8F(h7[255],O5,1852010091)!=null)then
return h7[255]
else
return h7[255]
endif
endif
else
if((IsUnitAlly(AP7,A7[0])))then
if(O8F(h7[254],O5,1852534636)!=null)then
return h7[254]
elseif(O8F(h7[255],O5,1852534636)!=null)then
return h7[255]
else
return h7[255]
endif
endif
endif
elseif(OMF==h7[231])then
if(GetHeroLevel(AP7)>7)then
if((IsUnitAlly(AP7,Z7[0])))then
if(O8F(h7[253],O5,1852010091)!=null)then
return h7[253]
elseif(O8F(h7[258],O5,1852010091)!=null)then
return h7[258]
elseif(O8F(h7[256],O5,1852010091)!=null)then
return h7[256]
else
return h7[253]
endif
endif
else
if((IsUnitAlly(AP7,Z7[0])))then
if(O8F(h7[253],O5,1852534636)!=null)then
return h7[253]
elseif(O8F(h7[258],O5,1852534636)!=null)then
return h7[258]
elseif(O8F(h7[256],O5,1852534636)!=null)then
return h7[256]
else
return h7[253]
endif
endif
endif
elseif((OMF==h7[232])or(OMF==h7[233]))then
if(GetHeroLevel(AP7)>7)then
if((IsUnitAlly(AP7,Z7[0])))then
if(O8F(h7[256],O5,1852010091)!=null)then
return h7[256]
elseif(O8F(h7[258],O5,1852010091)!=null)then
return h7[258]
else
return h7[256]
endif
endif
else
if((IsUnitAlly(AP7,Z7[0])))then
if(O8F(h7[256],O5,1852534636)!=null)then
return h7[256]
elseif(O8F(h7[258],O5,1852534636)!=null)then
return h7[258]
else
return h7[256]
endif
endif
endif
elseif(OMF==h7[234])then
if(GetHeroLevel(AP7)>7)then
if(O8F(h7[258],O5,1852010091)!=null)then
return h7[258]
elseif(O8F(h7[256],O5,1852010091)!=null)then
return h7[256]
else
return h7[258]
endif
else
if(O8F(h7[258],O5,1852534636)!=null)then
return h7[258]
elseif(O8F(h7[256],O5,1852534636)!=null)then
return h7[256]
else
return h7[258]
endif
endif
endif
return null
endfunction
function ONF takes unit it,unit OOF,integer j returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1=GetUnitTypeId(it)
local integer UP
local unit OPF=null
local unit m5=null
local boolean OQF=false
local boolean ORF=false
local boolean OSF=(i1==1211117633)or(i1==1429221443)or(i1==1332766568)or(i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194)or(i1==1430467634)
set EZ7="OTF"
if R17(it)or((Bz>hq[528+O5]and Bz>hq[320+O5]and Bz>hq[480+O5]and Bz>hq[576+O5]))==false then
return false
endif
call MoveLocation(Ha,GetUnitX(it),GetUnitY(it))
if((not iy(it))or(not OIF(it))or((GetHeroLevel(it)<7)and(i1!=1429221443)and(i1!=1332766568)and(i1!=1164277353)and(i1!=1164277357)and(i1!=1160786518)and(i1!=1160786519)and(i1!=1160786517)and(i1!=1430467634)))then
set OQF=false
elseif(i1==1211117633)then
set UP=IH(GetOwningPlayer(it),Condition(function LX9))
set OQF=(Bz>hq[O5])and(GetUnitManaPercent(it)>20.)and(UP<(GetUnitAbilityLevel(it,1093810260)-1))
set ORF=(UP>0)and(GetHeroLevel(it)>12)and(GetUnitLifePercent(it)>75.)
elseif(((IsUnitAlly(it,Z7[0]))and(not Gv))or((IsUnitAlly(it,A7[0]))and(not Gw))or(Bz<hq[528+O5]))then
set OQF=false
elseif(i1==1429221443)then
if(GetHeroLevel(it)<18)then
set OQF=true
else
set OQF=(GetRandomInt(1,6)==1 or(j!=0))
endif
set ORF=GetHeroLevel(it)>10
elseif((i1==1432646245)and(not DR8()))then
set OQF=false
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
set OQF=(GetUnitManaPercent(it)>50.)and(Bz>hq[O5])
elseif(SG7(it,ZU[S6]))then
set OQF=(Bz>hq[144+O5])and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)
if((not OQF)and(i1==1164799855))then
if(GetHeroLevel(it)<18)then
set OQF=(GetRandomInt(1,2)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])
else
set OQF=(GetRandomInt(1,8)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])
endif
endif
elseif((i1==1160786241)or(i1==1211117643)or(i1==1332963428)or(i1==1433105516)or(Z84[GetPlayerId(GetOwningPlayer(it))]==ZD4)or((GetHeroLevel(it)>20)and(Bz>2700.))or(GetHeroLevel(it)>=25))then
set OQF=false
elseif(i1==1164799855)then
if(GetHeroLevel(it)<18)then
set OQF=(GetRandomInt(1,2)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])
else
set OQF=(GetRandomInt(1,10)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])
endif
elseif(i1==1430467634)then
if(((GetUnitAbilityLevel(it,1093750832)==0)and(GetHeroLevel(it)>7))or(((GetUnitAbilityLevel(it,1395667021)==0)and(GetHeroLevel(it)<8))))then
set OQF=true
else
if(GetHeroLevel(it)<13)then
set OQF=(GetRandomInt(1,3)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)
elseif(GetHeroLevel(it)<16)then
set OQF=(GetRandomInt(1,5)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)
else
set OQF=(GetRandomInt(1,10)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)
endif
endif
if((OQF)and(Bz<TC4[16+O5])or((TC4[16+O5]-Bz)>5))then
set OQF=false
endif
elseif(i1==1214409837)then
set OQF=(GetHeroLevel(it)<15)and(GetRandomInt(1,2)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(Bz>hq[O5])and(GetUnitLifePercent(it)>85.)
elseif(i1==1164666213)then
if(GetHeroLevel(it)<18)then
set OQF=(GetRandomInt(1,2)==1 or(j!=0))and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>60.)and(GetUnitLifePercent(it)>70.)and(Bz>hq[O5])
else
set OQF=(GetRandomInt(1,10)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>70.)and(Bz>hq[O5])
endif
elseif((i1==1215722344)or(i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517)or(i1==1215657064)or((i1==1313026096)and(GetHeroLevel(it)>11))or(SG7(it,ZU[J1]))or(SG7(it,ZU[T2]))or(SG7(it,ZU[P1]))or(SG7(it,ZU[DG4])))then
if(GetHeroLevel(it)<18)then
set OQF=(GetRandomInt(1,2)==1 or(j!=0))
else
set OQF=(GetRandomInt(1,6)==1 or(j!=0))
endif
set ORF=(GetHeroLevel(it)>10)and(i1!=1164277353)and(i1!=1164277357)and(i1!=1160786518)and(i1!=1160786519)and(i1!=1160786517)
elseif((GetHeroLevel(it)>8)and(GetUnitLifePercent(it)>90.)and(GetUnitManaPercent(it)>50.))then
if(GetHeroLevel(it)>=18)then
set OQF=false
elseif(((kq(i1))and(i1!=1160786242)and(i1!=1433631084)and(i1!=1212365106)and(i1!=1332179560))or(i1==1211117640)or(i1==1429221445))then
set OQF=(GetRandomInt(1,3)==1 or(j!=0))
else
set OQF=(GetHeroLevel(it)>11)and(GetRandomInt(1,5)==1 or(j!=0))
endif
endif
if(OQF)then
if(j!=0)then
set OPF=h7[j]
elseif(OOF==h7[211])then
if((IsUnitAlly(it,Z7[0]))or(OSF))then
set OPF=h7[262]
endif
elseif(OOF==h7[212])then
if(((ORF)and(GetHeroLevel(it)>15))or((GetHeroLevel(it)>20)and(GetUnitLifePercent(it)>80.)))then
set ORF=true
set OPF=h7[252]
set m5=O7F(OPF)
if(m5==null)then
set OPF=h7[260]
endif
elseif((IsUnitAlly(it,Z7[0]))or(OSF))then
set OPF=h7[260]
endif
elseif(OOF==h7[213])then
if((IsUnitAlly(it,A7[0]))or(OSF))then
set OPF=h7[261]
set m5=O7F(OPF)
if(m5==null)then
set OPF=h7[259]
endif
endif
elseif((OOF==h7[221])or(OOF==h7[222]))then
set OPF=h7[254]
elseif(OOF==h7[223])then
if((IsUnitAlly(it,A7[0]))or(OSF))then
set OPF=h7[257]
set m5=O7F(OPF)
if((m5==null)or((not ORF)and((IsUnitType(m5,UNIT_TYPE_ANCIENT))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE)))))then
set OPF=h7[255]
endif
endif
elseif(OOF==h7[231])then
if((IsUnitAlly(it,Z7[0]))or(OSF))then
set OPF=h7[253]
endif
elseif((OOF==h7[232])or(OOF==h7[233]))then
set OPF=h7[256]
elseif(OOF==h7[234])then
if((IsUnitAlly(it,A7[0]))or(OSF))then
set OPF=h7[258]
endif
elseif(OOF==h7[235])then
set OPF=h7[251]
set ORF=((ORF)and(GetHeroLevel(it)>15))or((GetHeroLevel(it)>20)and(GetUnitLifePercent(it)>80.))
else
set OPF=null
endif
if((i1==1430467634)and(((GetHeroLevel(it)>7)and(GetUnitAbilityLevel(it,1093750832)==0))or((GetHeroLevel(it)<8)and(GetUnitAbilityLevel(it,1395667021)==0))))then
set OPF=OKF(OOF,it)
endif
set m5=O7F(OPF)
if((m5==null)or(OEF(OPF)))then
set OQF=false
elseif((IsUnitType(m5,UNIT_TYPE_ANCIENT))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE)))then
set OQF=ORF
endif
set OQF=((OPF!=null)and(OQF))
if OQF then
set h8[48+O5]=OPF
set h8[32+O5]=OOF
set h4[64+O5]=m5
call VM7(it,"Jungling")
set eY[O5]=10
set hq[432+O5]=Bz+40.
if j==0 then
if GetRandomInt(0,1)==0 then
set eY[384+O5]=-1
else
set eY[384+O5]=1
endif
endif
endif
endif
set it=null
set OOF=null
set m5=null
set OPF=null
return OQF
endfunction
function OTF takes nothing returns nothing
call ONF(GetTriggerUnit(),T37(GetHandleId(GetTriggeringTrigger()),"CrpRect"),0)
endfunction
function OUF takes integer IPF returns nothing
local trigger t=CreateTrigger()
set EZ7="uUv"
call TriggerRegisterUnitInRange(t,h7[IPF],400.,Q24)
call TJ7(GetHandleId(t),"CrpRect",h7[IPF])
call TriggerAddCondition(t,Condition(function ODF))
call TriggerAddAction(t,function OTF)
endfunction
function OVF takes nothing returns nothing
call OUF(211)
call OUF(212)
call OUF(213)
call OUF(221)
call OUF(222)
call OUF(223)
call OUF(231)
call OUF(232)
call OUF(233)
call OUF(234)
call OUF(235)
endfunction
function OWF takes nothing returns boolean
return(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and((FX8(GetFilterUnit()))or(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true))and IsUnitIllusion(GetFilterUnit())==false
endfunction
function OXF takes unit A_7 returns unit
local boolexpr Ig=Condition(function N5F)
set EZ7="AINeutralCampScan"
set h0=null
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(A_7),GetUnitY(A_7),500.,Ig)
call ForGroup(H8,function O4F)
call DestroyBoolExpr(Ig)
set Ig=null
return h0
endfunction
function OYF takes nothing returns boolean
local integer OZF=GetHandleId(GetTriggeringTrigger())
local unit u
local unit m5
local boolean J4
local real dT
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if eY[O5]!=10 then
return false
else
set u=GetTriggerUnit()
set m5=OR7(h4[64+O5]!=null and IsUnitInRange(u,h4[64+O5],600),h4[64+O5],OXF(h7[E07[OZF-NV7]]))
if m5==null then
call ONF(u,h7[E07[OZF-NV7]],0)
set m5=h4[64+O5]
endif
set J4=(m5!=null)and IssueTargetOrderById(u,851983,m5)
if J4 and(not IsUnitVisible(m5,GetOwningPlayer(u)))then
set dT=TimerGetElapsed(W)
loop
exitwhen(TimerGetElapsed(W)-dT)>=4+OB7(G98(u)==false,2,6)or eY[O5]!=10 or(IssueTargetOrderById(u,851983,m5)and G98(u)==false and IsUnitVisible(m5,GetOwningPlayer(u)))
call TriggerSleepAction(1)
set J4=IssueTargetOrderById(u,852600,m5)or IssueTargetOrderById(u,851983,m5)
if GetUnitAbilityLevel(u,1093677130)>0 or GetUnitTypeId(u)==1212365106 then
endif
endloop
endif
set u=null
set m5=null
endif
return false
endfunction
function OAF takes nothing returns nothing
local integer i=0
loop
exitwhen i>9
call TriggerAddCondition(NU7[i],Condition(function OYF))
call TriggerRegisterUnitInRange(NU7[i],h7[E07[i]],225,Condition(function OWF))
set i=i+1
endloop
endfunction
function OBF takes nothing returns nothing
local item RQ7=GetEnumItem()
local integer i1
if(GetWidgetLife(RQ7)<=.405)then
else
set EO7=GetItemPlayer(RQ7)
set i1=RO7(RQ7)
if(not IsVisibleToPlayer(GetItemX(RQ7),GetItemY(RQ7),Player(MM7)))and(i1!=X0 and i1!=B5 and i1!=C5 and i1!=EW)then
elseif IsPlayerAlly(EO7,Player(MM7))and((IsUnitInRangeLoc(h9[16+MM7],SX7(RQ7),700)and(i1!=B5 and i1!=C5 and i1!=EW))or(IsUnitInRangeLoc(KU4[GetPlayerId(EO7)],SX7(RQ7),100))or((EO7!=Player(MM7))and(not IG4[GetPlayerId(EO7)])and(IsUnitInRangeXY(M7[GetPlayerId(EO7)],GetItemX(RQ7),GetItemY(RQ7),700))))then
elseif IsUnitInRangeLoc(MJ7,SX7(RQ7),700)and(IsUnitType(bj_lastCreatedUnit,UNIT_TYPE_MELEE_ATTACKER))then
else
set EK7=Q17(M7[MM7],RQ7)
if(Hu==null)or(i1==X0 or i1==B5 or i1==C5)or(EK7<EJ7 and(MK7!=X0 and MK7!=B5 and MK7!=C5))then
set Hu=RQ7
set MK7=i1
set EJ7=EK7
endif
endif
endif
set RQ7=null
endfunction
function OCF takes unit it returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
local boolean J4=false
local boolean O3F=false
local integer i1=0
local integer G9F=0
set EZ7="aiRespondDroppedItem_uyv"
if eY[528+O5]>3 or Bz<K57[160+O5]then
set K07[336+O5]=null
set eY[528+O5]=0
return false
elseif((K07[336+O5]!=null)and((not IsItemVisible(K07[336+O5]))or(GetWidgetLife(K07[336+O5])<=.405)or(not IsUnitInRangeXY(it,GetItemX(K07[336+O5]),GetItemY(K07[336+O5]),800.))))then
set K07[336+O5]=null
endif
if K07[320+O5]!=null and GetWidgetLife(K07[320+O5])<=0 then
set K07[320+O5]=null
endif
if(K07[336+O5]==null)then
set eY[528+O5]=1
if K07[320+O5]==null then
call SetRect(He,GetUnitX(it)-600.,GetUnitY(it)-600.,GetUnitX(it)+600.,GetUnitY(it)+600.)
set Hu=null
set bj_lastCreatedUnit=it
set MM7=O5
set MK7=0
set EJ7=999999
if IsUnitAlly(it,Z7[0])then
set MJ7=JA4
else
set MJ7=IZ4
endif
call EnumItemsInRect(He,Q24,function OBF)
set K07[336+O5]=Hu
else
set Hu=K07[320+O5]
endif
else
set Hu=K07[336+O5]
set eY[528+O5]=eY[528+O5]+1
endif
if((Hu!=null)and(iU(it)))then
set i1=MK7
set G9F=GetItemTypeId(Hu)
set EO7=GetItemPlayer(Hu)
if((G9F==1227894859)or(G9F==1227894838)or(G9F==1227894840)or(G9F==1227894858)or(G9F==1227894839))then
elseif Hu==K07[320+O5]then
set O3F=true
elseif(i1==X0 or i1==B5 or i1==C5)and(FZF(O5,it)!=-1 and bj_forLoopBIndexEnd<100)then
elseif IsPlayerEnemy(Player(O5),EO7)and(not E19(i1))and(i1!=EW and i1!=HW)then
set O3F=true
elseif EO7!=Player(O5)and(not E19(i1))and(not EYF(i1))and(HK4[i1]<500)then
set O3F=true
elseif(i1==EW or i1==HW)and(SP7(it,ZU[EW]))then
set O3F=true
elseif(not SH7(it))then
elseif(FZF(O5,it)!=-1)then
if(ECF(O5,null,Hu,i1,false)<ECF(O5,null,bj_lastCreatedItem,RO7(bj_lastCreatedItem),false))then
set O3F=true
endif
elseif FAF(O5,it)then
else
set O3F=true
endif
if(not O3F)then
if IsUnitInRangeLoc(MJ7,SX7(Hu),700)then
else
set J4=(IssueTargetOrderById(it,851971,Hu))
set K57[288+O5]=i1
endif
else
if IsUnitInRangeLoc(MJ7,SX7(Hu),700)and(IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER))then
else
set J4=(IssueTargetOrderById(it,851983,Hu))
endif
endif
if J4 then
set hq[832+O5]=Bz+(Q07(GetUnitX(it),GetUnitY(it),GetItemX(Hu),GetItemY(Hu))/GetUnitMoveSpeed(it))+1.
endif
if(not J4)then
set K07[336+O5]=null
endif
endif
set Hu=null
return J4
endfunction
function O6F takes nothing returns nothing
set EK7=Q17(GetEnumDestructable(),EM7)
if((H0==null or EK7<EJ7)and(GetWidgetLife(GetEnumDestructable())>0.5))then
set H0=GetEnumDestructable()
set EJ7=EK7
endif
endfunction
function OLF takes unit it returns boolean
set H0=null
set EM7=it
set EJ7=999999
call SetRect(He,GetUnitX(it)-450.,GetUnitY(it)-450.,GetUnitX(it)+450.,GetUnitY(it)+450.)
call EnumDestructablesInRect(He,Condition(function K8),function O6F)
return((H0!=null)and(UnitUseItemTarget(it,SK7(it,ZU[TC]),H0)))
endfunction
function O1F takes integer O5,boolean O6 returns nothing
if(not O6)then
if(h8[32+O5]==h7[213])then
set h8[32+O5]=h7[17]
elseif(h8[32+O5]==h7[212])then
if(h8[48+O5]==h7[252])then
set h8[32+O5]=h7[315]
set h9[32+O5]=h7[15]
else
set h8[32+O5]=h7[325]
set h9[32+O5]=h7[15]
endif
elseif(h8[32+O5]==h7[211])then
set h8[32+O5]=h7[13]
elseif(h8[32+O5]==h7[223])then
set h8[32+O5]=h7[38]
elseif(h8[32+O5]==h7[222])then
set h8[32+O5]=h7[37]
elseif(h8[32+O5]==h7[221])then
set h8[32+O5]=h7[36]
call B47(GetEnumUnit(),135)
elseif(h8[32+O5]==h7[235])then
set h8[32+O5]=h7[59]
elseif(h8[32+O5]==h7[234])then
set h8[32+O5]=h7[325]
set h9[32+O5]=h7[58]
elseif(h8[32+O5]==h7[233])then
set h8[32+O5]=h7[234]
elseif(h8[32+O5]==h7[232])then
set h8[32+O5]=h7[56]
call B47(GetEnumUnit(),155)
elseif(h8[32+O5]==h7[231])then
set h8[32+O5]=h7[54]
endif
elseif(O6)then
if(h8[32+O5]==h7[213])then
set h8[32+O5]=h7[315]
set h9[32+O5]=h7[13]
elseif(h8[32+O5]==h7[212])then
set h8[32+O5]=h7[12]
elseif(h8[32+O5]==h7[211])then
set h8[32+O5]=h7[11]
elseif(h8[32+O5]==h7[223])then
set h8[32+O5]=h7[36]
elseif(h8[32+O5]==h7[222])then
set h8[32+O5]=h7[221]
call B47(GetEnumUnit(),35)
elseif(h8[32+O5]==h7[221])then
set h8[32+O5]=h7[315]
set h9[32+O5]=h7[33]
elseif(h8[32+O5]==h7[235])then
set h8[32+O5]=h7[325]
set h9[32+O5]=h7[56]
elseif(h8[32+O5]==h7[234])then
set h9[32+O5]=h7[56]
elseif(h8[32+O5]==h7[233])then
set h8[32+O5]=h7[54]
call B47(GetEnumUnit(),55)
elseif(h8[32+O5]==h7[232])then
set h8[32+O5]=h7[53]
elseif(h8[32+O5]==h7[231])then
set h8[32+O5]=h7[52]
endif
endif
endfunction
function O0F takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not kD(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function O5F takes location b5 returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
local unit m5=h4[64+O5]
local integer i1
local boolean J4=false
local integer O2F=0
local integer i
local integer j
local integer k
local integer O_F
set EZ7="aiJungleAct_u3v"
if(SE7(900.,h8[32+O5],Condition(function O0F))>0)then
call O1F(O5,IsUnitAlly(it,Z7[0]))
endif
if((R17(it))or(SD7(900.,b5,Condition(function k6))>0))then
set eY[O5]=1
set hq[544+O5]=Bz+30.
set h4[64+O5]=null
call O1F(O5,IsUnitAlly(it,Z7[0]))
call J3(it,false)
if((not R17(it))and(h4[O5]==null)and(G0[256+O5]))then
set ET7=S97(900.,b5,Condition(function k6))
if(ET7!=null)then
call LSE(O5,ET7,true,false)
call IssueTargetOrderById(it,851983,h4[O5])
endif
endif
set it=null
set m5=null
return
endif
set O2F=SE7(600.,h8[48+O5],Condition(function N5F))
if O2F==0 then
set i1=GetUnitTypeId(it)
set j=GetHeroLevel(it)
if QG7(i1,E_7)or QG7(i1,F47)then
if j<12 then
set i=0
else
set i=GetRandomInt(0,(j-12)/2)
endif
elseif QG7(i1,F77)then
set i=GetRandomInt(0,2)
else
set i=GetRandomInt(0,3)
endif
if i==0 then
set i=0
loop
exitwhen(i>9)or(h8[48+O5]==h7[E07[i]])
set i=i+1
endloop
set O_F=i
set j=0
set k=eY[384+O5]
loop
if i==0 or i==4 or i==5 or i==9 then
set k=-k
set eY[384+O5]=k
set i=O_F
endif
set i=i+k
exitwhen(j>5)or(ONF(it,h8[48+O5],E07[i]))
set j=j+1
endloop
set O2F=SE7(600.,h8[48+O5],Condition(function N5F))
endif
endif
if(O2F==0)then
set GZ[336+O5]=false
if(h8[48+O5]!=h8[32+O5])then
set h8[48+O5]=h8[32+O5]
call J3(it,false)
endif
if(Q17(h8[32+O5],it)<400.)then
set eY[O5]=1
set h4[64+O5]=null
call J3(it,false)
endif
elseif(h8[48+O5]!=h8[32+O5])and(Q17(h8[48+O5],it)<400.)then
set bj_lastLoadedUnit=S97(600.,SX7(h8[48+O5]),Condition(function N5F))
set EZ7="(J01)"+EZ7
if(not GZ[336+O5])and is(it)then
set GZ[336+O5]=IssueTargetOrderById(it,851983,bj_lastLoadedUnit)
endif
set J4=true
endif
if(O2F==0)or J4 then
elseif((m5!=null)and(R37(m5))and(GetOwningPlayer(m5)==GetOwningPlayer(it)))then
set EZ7="(J02)"+EZ7
if(is(it))then
call SY7(it,851983,h8[48+O5])
endif
call SY7(m5,851983,h8[48+O5])
elseif(GetUnitTypeId(GetEnumUnit())==1211117633)then
if((m5==null)or(not R37(m5)))then
call SY7(it,851983,h8[48+O5])
elseif(GetOwningPlayer(m5)!=GetOwningPlayer(it))then
set J4=((not IsUnitInRange(it,m5,800.))and(IssueTargetOrderById(it,851971,m5)))or(SZ7(it,852131,1093810260,m5))or(SY7(it,851983,h8[48+O5]))
endif
elseif(GetUnitTypeId(GetEnumUnit())==1164799855)then
if((m5==null)or(not R37(m5)))then
call SY7(it,851983,h8[48+O5])
elseif(GetOwningPlayer(m5)!=GetOwningPlayer(it))then
set J4=((not IsUnitInRange(it,m5,800.))and(IssueTargetOrderById(it,851971,m5)))or(SZ7(it,852075,1093682264,m5)or(SY7(it,851983,h8[48+O5])))
endif
elseif(is(it))then
if((h4[64+O5]==null)or(not R37(h4[64+O5]))or(not IsUnitInRange(it,h4[64+O5],800.)))then
set h4[64+O5]=S77(800.,b5,Condition(function N5F))
endif
set m5=h4[64+O5]
if((m5!=null)and(GetWidgetLife(m5)>.405)and(SG7(it,ZU[J1])))then
set EZ7="(J06)"+EZ7
set i1=GetUnitTypeId(m5)
set J4=(((i1==1852796263)or(i1==1852207203)or(i1==1853060200)or(i1==1852010091))and(UnitUseItemTarget(it,SK7(it,ZU[J1]),m5)))
elseif((m5!=null)and(GetWidgetLife(m5)>.405)and(SG7(it,ZU[S6])))then
set EZ7="(J07)"+EZ7
set i1=GetUnitTypeId(m5)
set J4=((i1!=1852534626)and(i1!=1852272243)and(i1!=1852534644)and(UnitUseItemTarget(it,SK7(it,ZU[S6]),m5)))
endif
if(not J4)then
set EZ7="(J08)"+EZ7
set J4=((m5!=null)and(IssueTargetOrderById(it,851983,m5)))or(SY7(it,851983,h8[48+O5]))
endif
endif
set it=null
set m5=null
endfunction
function P4F takes unit u returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(u))
local integer UP=0
set EZ7="ynv"
if(R17(u))then
if RY7(u)then
call SY7(u,851986,h9[O5])
endif
else
if(Q17(u,S57(u))<12000.)then
if(not IsUnitAlly(u,Z7[0]))then
set UP=100
endif
if(h9[16+O5]==h7[35])then
set h8[16+O5]=h7[35+UP]
set h8[O5]=h7[35+UP]
elseif(h9[16+O5]==h7[55])then
set h8[16+O5]=h7[55+UP]
set h8[O5]=h7[55+UP]
elseif(h9[16+O5]==h7[14])then
set h8[16+O5]=h7[14+UP]
set h8[O5]=h7[14+UP]
endif
set h9[O5]=S57(u)
set h9[16+O5]=S57(u)
endif
if RY7(u)then
call SY7(u,851983,h8[O5])
endif
set eY[O5]=1
set G0[32+O5]=false
set hq[528+O5]=Bz+60.
set hq[592+O5]=Bz+FV7
endif
endfunction
function P7F takes nothing returns nothing
if(GetItemTypeId(GetEnumItem())==SU[X0])and(GetWidgetLife(GetEnumItem())>.405)then
set Hu=GetEnumItem()
endif
endfunction
function P8F takes nothing returns nothing
local real QL7=Bz+3.
local unit m5=null
local integer i=1
local integer j
local integer QQ7
local integer k
local integer O5=0
local unit P67=null
local unit MIF=null
local item RQ7=null
local player pl=null
local boolean SQ7=true
local boolean J4=true
if not(GetUnitTypeId(GetDyingUnit())==1848651852)then
return
endif
set P67=GetKillingUnit()
set pl=GetOwningPlayer(P67)
set m5=GetDyingUnit()
loop
set i=1
loop
exitwhen i>10
if i<=5 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i-5])
endif
if(M7[O5]!=null)and(GetWidgetLife(M7[O5])>.405)and(IsUnitInRange(M7[O5],m5,1200.))then
if(IsUnitEnemy(M7[O5],pl))and(IsUnitVisible(M7[O5],pl))then
set QL7=0.1
exitwhen true
endif
endif
set i=i+1
endloop
exitwhen Bz>QL7
call TriggerSleepAction(0.3)
endloop
call SetRect(He,GetUnitX(m5)-600.,GetUnitY(m5)-600.,GetUnitX(m5)+600.,GetUnitY(m5)+600.)
set Hu=null
call EnumItemsInRect(He,Q24,function P7F)
if Hu!=null then
set P67=null
set MIF=null
set j=0
set QQ7=0
set k=0
set i=1
loop
exitwhen i>10
if i<=5 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i-5])
endif
if(M7[O5]!=null)and(GetWidgetLife(M7[O5])>.405)and(AK7(Player(O5)))and(IsUnitInRange(M7[O5],m5,1000.)and(IsVisibleToPlayer(GetItemX(Hu),GetItemY(Hu),Player(O5))))then
set QQ7=T[O5]+IU[O5]
if(IsUnitAlly(M7[O5],pl))then
if P67==null or(j<QQ7)then
if(not SH7(M7[O5]))or(FAF(O5,M7[O5]))then
set SQ7=false
set P67=M7[O5]
set j=QQ7
elseif SQ7 then
set P67=M7[O5]
set j=QQ7
endif
endif
else
if MIF==null or(k<QQ7)then
if(not SH7(M7[O5]))or(FAF(O5,M7[O5]))then
set J4=false
set MIF=M7[O5]
set k=QQ7
elseif J4 then
set MIF=M7[O5]
set k=QQ7
endif
endif
endif
endif
set i=i+1
endloop
endif
set i=1
loop
exitwhen i>10
if i<=5 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i-5])
endif
if eY[O5]==11 then
call P4F(M7[O5])
endif
set i=i+1
endloop
if Hu!=null then
set K07[336+GetPlayerId(GetOwningPlayer(P67))]=Hu
set K07[336+GetPlayerId(GetOwningPlayer(MIF))]=Hu
set GW7=Bz+3.
loop
exitwhen IsItemOwned(Hu)or GetWidgetLife(Hu)<.405 or((P67!=null and GetWidgetLife(P67)<.405)and(MIF!=null and GetWidgetLife(MIF)<.405))
if P67!=null and GetWidgetLife(P67)>.405 then
if SQ7 then
call IssueTargetOrderById(P67,851983,Hu)
else
call IssueTargetOrderById(P67,851971,Hu)
endif
endif
if MIF!=null and GetWidgetLife(MIF)>.405 then
if J4 then
call IssueTargetOrderById(MIF,851983,Hu)
else
call IssueTargetOrderById(MIF,851971,Hu)
endif
endif
call TriggerSleepAction(0.5)
endloop
endif
set m5=null
set P67=null
set MIF=null
set RQ7=null
set pl=null
endfunction
function P9F takes location b5 returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
set EZ7="u4v"
set hq[544+O5]=Bz+30.
if((R17(it))or(SD7(900.,b5,Condition(function k6))>0))then
set eY[O5]=1
set h4[64+O5]=null
call J3(it,false)
if((not R17(it))and(h4[O5]==null)and(G0[256+O5]))then
set ET7=S97(900.,b5,Condition(function k6))
if(ET7!=null)then
call LSE(O5,h4[O5],true,false)
call IssueTargetOrderById(it,851983,ET7)
endif
endif
elseif GetWidgetLife(V4)<.405 and Bz>GW7 then
set eY[O5]=1
set h4[64+O5]=null
call J3(it,false)
elseif((j1(it,ND)>2000.)or(G0[O5]))then
if((IsUnitAlly(it,A7[0]))or(GetUnitX(it)>2300.))then
call SY7(it,851986,h7[250])
else
call IssuePointOrderById(it,851986,2736.,-2656.)
endif
else
if G0[48+O5]then
elseif hq[704+O5]<-0.05 then
call LPE(it,false)
elseif not IsUnitInRegion(ow,it)then
call SY7(it,851986,h7[250])
elseif IsUnitInRange(it,V4,700.)then
call IssueTargetOrderById(it,851983,V4)
else
call SY7(it,851983,h7[250])
endif
endif
set it=null
endfunction
function PDF takes nothing returns boolean
set EO7=GetOwningPlayer(GetFilterUnit())
return(EO7==Z7[0]or EO7==A7[0])and IsUnitEnemy(bj_lastLoadedUnit,EO7)and GetWidgetLife(GetFilterUnit())>.405 and((GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0)and(GetUnitAbilityLevel(GetFilterUnit(),1097625443)==0))
endfunction
function PEF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
set EZ7="PEF"
if((G0[32+O5])or(not G0[128+O5])or(G0[O5])or(GT))then
elseif(h4[O5]==null)then
call LSE(O5,hz,false,false)
if(RY7(GetEnumUnit()))then
set GT=LNE(GetEnumUnit(),hz,true)
endif
elseif(RY7(GetEnumUnit()))then
set GT=LNE(GetEnumUnit(),hz,true)
endif
endfunction
function PFF takes unit PGF,unit PHF returns nothing
set EZ7="(Wnv)"+EZ7
set hZ=PGF
set hz=PHF
if(GetWidgetLife(PHF)>1.)then
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(PGF),GetUnitY(PGF),1200.,iP)
set GT=false
call ForGroup(iA,function PEF)
endif
endfunction
function PIF takes unit P67 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(P67))
local boolean PJF=h8[32+O5]==h8[128+O5]
local boolean PKF=true
local integer UP
local integer VQ7
local integer i
local integer FVF
local integer j
local integer k
local boolean QO7=IsUnitAlly(P67,Z7[0])
set EZ7="aiChangeHeroLaneAction_Uvv"
if R17(P67)then
set eY[O5]=1
call B87(P67)
call VN7(P67,true)
endif
set hq[544+O5]=Bz+30.
if(eY[272+O5]!=0)then
set UP=GetUnitUserData(h8[112+O5])
else
set UP=GetUnitUserData(h8[128+O5])
endif
if(QO7)then
if((hj[256+UP]==18)or(hj[UP]==10))then
set FVF=IMaxBJ(10+P24-1,11)
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set FVF=IMaxBJ(30+P_4-1,31)
else
set FVF=IMaxBJ(50+Q44-1,51)
endif
else
set UP=hj[512+UP]
if((hj[256+UP]==118)or(hj[UP]==110))then
set FVF=IMaxBJ(118-P24-1,111)
elseif((hj[256+UP]==140)or(hj[UP]==130))then
set FVF=IMaxBJ(140-P_4-1,131)
else
set FVF=IMaxBJ(160-Q44-1,151)
endif
endif
set i=FVF
if eY[272+O5]==0 then
if(QO7)then
if(UP>i)then
set h8[128+O5]=h7[i]
else
set PKF=false
endif
if((h8[128+O5]==h7[15])and(R37(JL4)))then
set h8[128+O5]=h7[14]
endif
else
if(UP>i)then
set h8[128+O5]=h7[i]
else
set PKF=false
endif
if((h8[128+O5]==h7[13])and(R37(JH4)))then
set h8[128+O5]=h7[14]
endif
endif
else
if(QO7)then
set h8[128+O5]=h7[i]
if((h8[128+O5]==h7[15])and(R37(JL4)))then
set h8[128+O5]=h7[14]
endif
else
set h8[128+O5]=h7[i]
if((h8[128+O5]==h7[13])and(R37(JH4)))then
set h8[128+O5]=h7[14]
endif
endif
set j=eY[288+O5]
if(h8[96+O5]!=null)then
set VQ7=GetPlayerId(GetOwningPlayer(h8[96+O5]))
set j=Q57(GetUnitUserData(h8[80+VQ7]))
endif
if((h8[96+O5]==null)or(GetWidgetLife(h8[96+O5])<.405)or(j!=eY[288+O5])or(eY[32+GetPlayerId(GetOwningPlayer(h8[96+O5]))]<=0)or(not IsUnitInRange(h8[96+O5],h8[160+O5],2000.)))then
set MS7=h8[96+O5]
set MR7=P67
set bj_lastLoadedUnit=P67
set bj_forLoopBIndex=eY[288+O5]
set h8[96+O5]=null
if eY[272+O5]>=4 then
set h8[96+O5]=ZQ7(3000.,P67,Condition(function WF7))
endif
if h8[96+O5]==null then
set h8[96+O5]=ZQ7(3000.,h7[i],Condition(function WF7))
endif
if(MS7!=null and h8[96+O5]!=MS7)then
set VQ7=GetPlayerId(GetOwningPlayer(h8[96+O5]))
set k=1
loop
exitwhen k>11
if((IsPlayerAlly(Player(k),Player(O5)))and(eY[k]==9)and(eY[272+k]!=0)and(h8[96+k]==MS7))then
set h8[96+k]=h8[96+O5]
endif
set k=k+1
endloop
endif
endif
if(h8[96+O5]!=null and eY[32+VQ7]>0)then
set h8[160+O5]=h8[80+VQ7]
set i=GetUnitUserData(h8[80+VQ7])
if(Q17(h8[96+O5],h9[VQ7])<Q17(h8[80+VQ7],h9[VQ7]))or(Q17(h8[96+O5],h8[80+VQ7])<300)then
if QO7 then
set i=i+1
else
set i=i-1
endif
endif
set i=IEF(i,QO7,P37(P67))
set j=GetUnitUserData(h8[112+O5])
if(((QO7)and(i>j or j-i>1))or((not QO7)and(i<j or i-j>1)))and(Q17(P67,h8[112+O5])>2000)then
set h8[112+O5]=h7[i]
endif
else
if(QO7)then
if(UP<i)then
set MR7=h8[112+O5]
set h8[112+O5]=h7[i]
endif
if((h8[112+O5]==h7[15])and(R37(JL4)))then
set h8[112+O5]=h7[14]
endif
else
if(UP<i)then
set MR7=h8[112+O5]
set h8[112+O5]=h7[i-1]
endif
if((h8[112+O5]==h7[13])and(R37(JH4)))then
set h8[112+O5]=h7[14]
endif
endif
if h8[32+O5]==MR7 then
set h8[32+O5]=h8[112+O5]
endif
if h8[48+O5]==MR7 then
set h8[48+O5]=h8[112+O5]
endif
endif
if eY[272+O5]==2 or eY[272+O5]==3 then
set i=GetUnitUserData(h8[112+O5])
set k=Q57(GetUnitUserData(h8[80+O5]))
if k==0 then
set k=Q57(GetUnitUserData(h8[112+O5]))
endif
set UP=GetUnitUserData(h8[48+O5])
set j=IGF(O5,i,k,QO7)
if(j!=0)and(UP!=j)then
if IHF(O5,UP,j)then
elseif(k==1)then
set j=326
elseif(k==2)then
set j=327
endif
set MR7=h8[48+O5]
set h8[48+O5]=h7[j]
set h8[32+O5]=h8[48+O5]
set eY[272+O5]=2
endif
endif
endif
if((PJF)and(PKF))then
set h8[32+O5]=h8[128+O5]
set h8[48+O5]=h8[128+O5]
endif
if((h4[144+O5]!=null)and((Bz+4.)>hq[512+O5]))then
set hq[512+O5]=Bz+4.
endif
set MR7=S97(700.,SX7(P67),Condition(function k6))
if((not G0[160+O5])and((MR7!=null)or((h4[O5]!=null)and(eY[272+O5]!=4))))then
set eY[O5]=1
if(eY[272+O5]>=4)then
set h8[96+O5]=MR7
call LSE(O5,h4[O5],true,true)
call B87(P67)
set hq[624+O5]=Bz+F17
set hq[416+O5]=0
call NTF(P67,h8[96+O5])
else
if((h4[144+O5]!=null)and((Bz+6.)>hq[512+O5]))then
set hq[512+O5]=Bz+6.
endif
if(h8[128+O5]==h8[48+O5])then
if(Q17(P67,h8[128+O5])<Q17(P67,h8[O5]))then
if(IsUnitAlly(P67,Z7[0]))then
call B47(P67,GetUnitUserData(h8[128+O5]))
else
call B47(P67,hj[512+GetUnitUserData(h8[128+O5])])
endif
endif
else
if(Q17(P67,h8[128+O5])<Q17(P67,h8[48+O5]))then
set i=GetUnitUserData(h8[128+O5])
else
set i=GetUnitUserData(h8[48+O5])
endif
if i>100 then
set i=FVF
elseif(not QO7)then
set i=hj[512+i]
endif
call B47(P67,i)
endif
if((h4[O5]==null)and(G0[128+O5]))then
set ET7=S87(1000.,P67,Condition(function k6))
if(ET7!=null)then
call LSE(O5,ET7,true,true)
call IssueTargetOrderById(P67,851983,h4[O5])
endif
endif
endif
elseif eY[272+O5]==3 then
call ISF(O5,QO7,UP)
elseif(eY[272+O5]>=4)then
if(not G0[336+O5])and(h8[96+O5]!=null and IsUnitVisible(h8[96+O5],Player(O5)))then
call IUF(QO7,O5,h8[96+O5])
endif
if(h8[96+O5]!=null and Q17(P67,h8[96+O5])<1000. and IsUnitVisible(h8[96+O5],Player(O5)))then
set eY[O5]=1
call B87(P67)
set hq[624+O5]=Bz+F17
set hq[416+O5]=0
call LSE(O5,h8[96+O5],true,true)
call PFF(P67,h8[96+O5])
elseif(Q17(P67,h8[128+O5])<500.)then
set eY[O5]=1
call B87(P67)
elseif(Q17(P67,h8[48+O5])<500.)and(eY[272+O5]==5)then
set h8[48+O5]=h8[128+O5]
elseif(Q17(P67,h8[112+O5])<800.)and(eY[272+O5]==4)then
set eY[272+O5]=5
call B87(P67)
set h8[48+O5]=h8[128+O5]
set i=GetUnitUserData(h8[112+O5])
if QO7 then
if(i>35 and i<40)then
set h8[48+O5]=h7[35]
elseif(i>55 and i<60)then
set h8[48+O5]=h7[55]
endif
else
if(i>30 and i<35)then
set h8[48+O5]=h7[35]
elseif(i>50 and i<55)then
set h8[48+O5]=h7[55]
endif
endif
set h8[32+O5]=h8[48+O5]
endif
if RY7(P67)then
if(h8[96+O5]!=null and RB7(h8[96+O5])and Q17(P67,h8[96+O5])<1200.)then
call IssueTargetOrderById(P67,851983,h8[96+O5])
elseif eY[272+O5]==4 then
call SY7(P67,851983,h8[48+O5])
else
call SY7(P67,851986,h8[48+O5])
endif
endif
elseif(Q17(P67,h8[128+O5])<1000.)and(eY[272+O5]==0)then
set eY[O5]=1
if RY7(P67)then
call SY7(P67,851983,h8[48+O5])
endif
call B87(P67)
elseif(h8[48+O5]!=h8[32+O5])and(Q17(P67,h8[48+O5])<1000.)and(eY[272+O5]<=1)then
set h8[48+O5]=h8[32+O5]
if(Q17(P67,h8[48+O5])<500. and(not RB7(P67)))then
set G0[176+O5]=true
endif
if RY7(P67)then
if G0[176+O5]then
call J3(P67,false)
else
if hq[640+O5]<=Bz then
call SY7(P67,851986,h9[O5])
elseif GetUnitCurrentOrder(P67)==851983 then
call SY7(P67,851983,h9[O5])
endif
endif
endif
elseif((not G0[176+O5])and(h8[48+O5]==h8[32+O5]))and(eY[272+O5]<=1)then
if RY7(P67)then
if hq[640+O5]<=Bz then
call SY7(P67,851986,h9[O5])
elseif GetUnitCurrentOrder(P67)==851983 then
call SY7(P67,851983,h9[O5])
endif
endif
elseif((is(P67))and((SE7(700.,P67,Condition(function k6))==0)))then
call SY7(P67,851986,h8[48+O5])
endif
set hq[576+O5]=Bz+FA7
set P67=null
endfunction
function PMF takes real PNF,location b5 returns boolean
local boolean J4=false
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
local integer UP=0
local integer I2F=0
local unit m5=null
local unit A07=null
set EZ7="Uov"
if(GetUnitCurrentOrder(GetEnumUnit())==851983)then
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),RMaxBJ(PNF,500.),Q24)
loop
set A07=FirstOfGroup(H8)
exitwhen(A07==null)
if((not R37(A07))or(not V17(A07))or(IsUnitType(A07,UNIT_TYPE_STRUCTURE)))then
elseif((GetOwningPlayer(A07)==Z7[0])or(GetOwningPlayer(A07)==A7[0]))then
if(IsUnitEnemy(A07,GetOwningPlayer(GetEnumUnit())))then
set UP=UP+1
set I2F=I2F+1
else
set UP=UP-1
endif
elseif((m5==null)and(IsHeroUnitId(GetUnitTypeId(A07)))and(IsUnitEnemy(A07,GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(A07,GetOwningPlayer(GetEnumUnit()))))then
set m5=A07
endif
call GroupRemoveUnit(H8,A07)
endloop
if((I2F<5)and(UP<0)and(m5!=null)and(IsHeroUnitId(GetUnitTypeId(m5))))then
set J4=IssueTargetOrderById(GetEnumUnit(),851983,m5)
set GZ[48+O5]=false
endif
set m5=null
endif
return J4
endfunction
function POF takes real j4,real Ja,location b5 returns boolean
local unit PPF=null
local unit PQF=null
local unit A07=null
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
local boolean J4=false
local unit P67=null
set EZ7="(Uiv)"+EZ7
if(R07(O5))then
return false
elseif((Id(O5))or((GZ[128+O5])and(SD7(800.,b5,Condition(function k6))>0)))then
return false
elseif((h4[96+O5]!=null)and(GetWidgetLife(h4[96+O5])>.405)and(IsUnitInRange(GetEnumUnit(),h4[96+O5],800.)))then
call IssueTargetOrderById(GetEnumUnit(),851983,h4[96+O5])
return true
endif
set P67=GetEnumUnit()
if(GetUnitLifePercent(P67)<70.)then
set j4=j4-150.
set Ja=Ja-150.
endif
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(P67),GetUnitY(P67),RMaxBJ(j4,Ja),Q24)
loop
set A07=FirstOfGroup(H8)
exitwhen((A07==null)or((PPF!=null)and(PQF!=null)))
if((not R37(A07))or(not V17(A07)))then
elseif((GetOwningPlayer(A07)==Z7[0])or(GetOwningPlayer(A07)==A7[0]))then
if((h4[304+O5]!=null)and(QR7(P67)+Q17(A07,h4[304+O5])<Q17(P67,h4[304+O5])))then
elseif(IsUnitEnemy(A07,GetOwningPlayer(P67)))then
if((PQF==null)and(GetUnitState(A07,UNIT_STATE_LIFE)<150.)and(GetUnitLifePercent(A07)<25.)and(IsUnitInRange(A07,P67,Ja)))then
set PQF=A07
endif
else
if((PPF==null)and(GetUnitState(A07,UNIT_STATE_LIFE)<150.)and(((not IsUnitType(A07,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(A07)<25.))or(GetUnitLifePercent(A07)<5.)))then
set PPF=A07
if IsUnitType(PPF,UNIT_TYPE_STRUCTURE)and(ZT==true or IsUnitType(PPF,UNIT_TYPE_RANGED_ATTACKER)==false)then
if SE7(1800.,PPF,Condition(function k6))==0 then
set PPF=null
endif
endif
endif
endif
endif
call GroupRemoveUnit(H8,A07)
endloop
set A07=null
if((PPF!=null)and((IsUnitType(PPF,UNIT_TYPE_STRUCTURE))or(GetHeroLevel(P67)<=20)or(GetUnitAbilityLevel(P67,1093686064)>0)))then
set h4[96+O5]=PPF
call DisableTrigger(Q04[O5])
set J4=IssueTargetOrderById(P67,851983,PPF)
call EnableTrigger(Q04[O5])
elseif(PQF!=null)then
set h4[96+O5]=PQF
call DisableTrigger(Q04[O5])
set J4=IssueTargetOrderById(P67,851983,PQF)
call EnableTrigger(Q04[O5])
endif
set P67=null
set PPF=null
set PQF=null
return J4
endfunction
function PRF takes integer O5,location b5 returns boolean
local unit A07=null
local integer kc=0
local real j4=Q17(GetEnumUnit(),h8[16+GetPlayerId(GetOwningPlayer(GetEnumUnit()))])
local boolean PSF=false
local boolean PTF=false
set EZ7="aiFlee_MeetCreep"
if(ke(GetEnumUnit()))then
return true
endif
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),1500.,Q24)
loop
set A07=FirstOfGroup(H8)
exitwhen(A07==null)
if((not R37(A07))or(not V17(A07)))then
elseif(IsUnitEnemy(A07,GetOwningPlayer(GetEnumUnit())))then
if((not PSF)and(GetOwningPlayer(A07)!=Player(12)))then
if((IsUnitVisible(A07,GetOwningPlayer(GetEnumUnit())))or(GetOwningPlayer(A07)==Z7[0])or(GetOwningPlayer(A07)==A7[0]))then
set PSF=true
elseif((IsUnitType(A07,UNIT_TYPE_HERO))and(eY[32+GetPlayerId(GetOwningPlayer(A07))]>0)or((not kD(A07))and(IsUnitInRange(A07,GetEnumUnit(),600.))))then
set PSF=true
endif
endif
elseif((GetOwningPlayer(A07)==Z7[0])or(GetOwningPlayer(A07)==A7[0]))then
if(Q17(A07,h8[16+GetPlayerId(GetOwningPlayer(GetEnumUnit()))])<j4)then
if(IsUnitInRange(A07,GetEnumUnit(),700.))then
set kc=kc+1
endif
set PTF=true
elseif((IsUnitType(A07,UNIT_TYPE_STRUCTURE))and(IsUnitInRange(A07,GetEnumUnit(),900.)))then
set PTF=true
if G0[128+O5]then
set kc=kc+2
endif
endif
endif
call GroupRemoveUnit(H8,A07)
endloop
return((kc>1)or((not PSF)and(PTF)))
endfunction
function PUF takes location b5 returns nothing
local unit PVF=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(PVF))
local real kl
local boolean SQ7=false
set EZ7="(UXv)"+EZ7
if R07(O5)then
return
endif
set SQ7=((UE7(GetHandleId(PVF),"WaterSword|Active"))and(SD7(1200.,SX7(PVF),Condition(function k6))>=1)and(G0[256+O5]))
if((eY[O5]==1)and((GetHeroLevel(PVF)<9)or(GetUnitLifePercent(PVF)<75.))and(GetUnitCurrentOrder(PVF)==851983)and(not G0[48+O5])and(not G0[O5])and(not GZ[128+O5])and(not G0[32+O5]))then
if SQ7 then
elseif((not GZ[48+O5])and(SD7(300.,b5,Condition(function Kv))==0)and(SD7(600.,b5,Condition(function Kv))>1))then
call IssueImmediateOrderById(PVF,851993)
endif
endif
if((GetHeroLevel(PVF)>8)and(GetUnitLifePercent(PVF)>65.))then
if((not R17(PVF))and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(iU(PVF))and(not PMF(300.,b5))and(not POF(650.,650.,b5))and((GetUnitCurrentOrder(PVF)==851986)or(GetUnitCurrentOrder(PVF)==851993))and(not G0[32+O5])and(not G0[48+O5])and(Bz>hq[496+O5])and(PRF(O5,b5)))then
call SY7(PVF,851983,h8[O5])
endif
elseif((not R17(PVF))and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(iU(PVF))and(not POF(650.,550.,b5)))then
if((GetUnitCurrentOrder(PVF)==851983)and(not GZ[48+O5])and(not SQ7))then
if((GetHeroLevel(PVF)<8)and((SD7(300.,b5,Condition(function Kv))>0)or(SD7(500.,b5,Condition(function Kw))>0)))then
set kl=Atan2(GetUnitY(h9[O5])-GetUnitY(PVF),GetUnitX(h9[O5])-GetUnitX(PVF))
call IssuePointOrderById(PVF,851986,GetUnitX(PVF)+200.*Cos(kl),GetUnitY(PVF)+200.*Sin(kl))
elseif(SD7(400.,b5,Condition(function Kv))>1)then
set kl=Atan2(GetUnitY(h9[O5])-GetUnitY(PVF),GetUnitX(h9[O5])-GetUnitX(PVF))
call IssuePointOrderById(PVF,851986,GetUnitX(PVF)+250.*Cos(kl),GetUnitY(PVF)+250.*Sin(kl))
endif
elseif(((GetUnitCurrentOrder(PVF)==851986)or(GetUnitCurrentOrder(PVF)==851993))and(not G0[32+O5])and(not G0[48+O5])and(not G0[48+O5])and(Bz>hq[496+O5])and(PRF(O5,b5)))then
call SY7(PVF,851983,h8[O5])
endif
endif
set PVF=null
endfunction
function PWF takes location b5 returns nothing
local unit PXF=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(PXF))
local real kl
set EZ7="URv"
if((not R17(PXF))and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(iU(PXF))and(not PMF(550.,b5))and(not POF(900.,800.,b5)))then
if(((GetUnitCurrentOrder(PXF)==851986)or(GetUnitCurrentOrder(PXF)==851993))and(not G0[32+O5])and(Bz>hq[496+O5])and(PRF(O5,b5)))then
call SY7(PXF,851983,h8[O5])
elseif((GetUnitCurrentOrder(PXF)==851983)and(not GZ[48+O5]))then
if eY[O5]==3 or eY[O5]==4 then
elseif(((GetHeroLevel(PXF)<6)or(GetUnitLifePercent(PXF)<75.))and(SD7(300.,b5,Condition(function Kv))>1))then
set kl=Atan2(GetUnitY(h9[O5])-GetUnitY(PXF),GetUnitX(h9[O5])-GetUnitX(PXF))
call IssuePointOrderById(PXF,851986,GetUnitX(PXF)+250.*Cos(kl),GetUnitY(PXF)+250.*Sin(kl))
elseif((GetHeroLevel(PXF)<7)and(Bz>hq[496+O5])and((h4[80+O5]==null)or(GetOwningPlayer(h4[80+O5])==Z7[0])or(GetOwningPlayer(h4[80+O5])==A7[0]))and(SD7(800.,b5,Condition(function Kv))>0))then
set kl=GetRandomReal(0.,360.)*bj_DEGTORAD
call IssuePointOrderById(PXF,851986,GetUnitX(PXF)+GetRandomReal(50.,90.)*Cos(kl),GetUnitY(PXF)+GetRandomReal(50.,90.)*Sin(kl))
set hq[864+O5]=GetRandomReal(-EV7,EV7)
endif
endif
endif
set PXF=null
endfunction
function PYF takes unit u,string s1 returns nothing
if GetUnitAbilityLevel(u,1093677130)>0 or GetUnitTypeId(u)==1212365106 then
else
return
endif
endfunction
function PZF takes location b5 returns nothing
local unit PAF=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(PAF))
local unit m5=null
set EZ7="UAv"
call PYF(PAF,GetUnitName(PAF)+" CurrentOrder "+I2S(GetUnitCurrentOrder(PAF)))
if(not iU(PAF))then
call PYF(PAF,GetUnitName(PAF)+"Inside if not iU{UNv}")
elseif((IsUnitVisible(PAF,Z7[0]))and(IsUnitVisible(PAF,A7[0])))then
call PYF(PAF,GetUnitName(PAF)+"Inside if IsUnitVisible TO BOTH SIDE")
if(((SD7(1000.,b5,Condition(function YR7)))>0)and((SD7(1000.,b5,Condition(function k6)))>0)and((SD7(900.,b5,Condition(function Kd)))<3))then
call PYF(PAF,GetUnitName(PAF)+"Inside if AI_OrderToWaipoint to reTreate Riki:codeA")
call SY7(PAF,851986,h9[O5])
else
call PYF(PAF,GetUnitName(PAF)+"Inside UXv")
call PUF(b5)
endif
elseif((SD7(1200.,b5,Condition(function k6)))==0)then
call PYF(PAF,GetUnitName(PAF)+" Prepare to attack")
if(GetUnitCurrentOrder(PAF)==851983)then
set m5=S77(400.,b5,Condition(function KA))
if(m5==null)then
set m5=S77(700.,b5,Condition(function Ka))
endif
if(m5!=null)then
call PYF(PAF,GetUnitName(PAF)+"  attack "+GetUnitName(m5))
call IssueTargetOrderById(PAF,851983,m5)
endif
endif
else
if(((SD7(1000.,b5,Condition(function Kd)))<2)and(SD7(1000.,b5,Condition(function k8))>1)and(SD7(500.,b5,Condition(function Y57))==0))then
call PYF(PAF,GetUnitName(PAF)+"Inside if AI_OrderToWaipoint to reTreate Riki:codeB")
call SY7(PAF,851986,h9[O5])
elseif((not G0[O5])and(not G0[64+O5])and(iU(PAF))and(not POF(750.,650.,b5)))then
if(SD7(250.,b5,Condition(function k8))==0 and GetUnitAbilityLevel(PAF,1093677130)==0)or(GetUnitAbilityLevel(PAF,1093677130)!=0 and(SD7(700.,b5,Condition(function W17))==0)and SE7(800,PAF,Condition(function GD8))==0 and GE8(PAF)==false)then
call IssueImmediateOrderById(PAF,851993)
else
call IssuePointOrderById(PAF,851986,GetUnitX(m5)+GetRandomReal(0,200.)-100.,GetUnitY(m5)+GetRandomReal(0,200.)-100.)
set hq[864+O5]=GetRandomReal(-EV7,EV7)
endif
endif
endif
set m5=null
set PAF=null
endfunction
function PBF takes unit it,integer O5,location b5 returns boolean
local unit m5=null
local real PCF=bj_RADTODEG*Atan2(GetUnitY(h9[16+O5])-GetUnitY(it),GetUnitX(h9[16+O5])-GetUnitX(it))
local real P3F
set EZ7="Ubv"
call MoveLocation(Ha,GetUnitX(it)+300.*Cos(PCF*bj_DEGTORAD),GetUnitY(it)+300.*Sin(PCF*bj_DEGTORAD))
if(SD7(500.,Ha,Condition(function Kd))>2)then
set m5=S97(500.,Ha,Condition(function Kd))
if(m5!=null)then
set P3F=bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))
else
return false
endif
if(RAbsBJ(P3F-PCF)>20)then
set m5=null
return false
elseif(P3F>PCF)then
set PCF=PCF-20.
else
set PCF=PCF+20.
endif
call IssuePointOrderById(it,851986,GetUnitX(it)+600.*Cos(bj_DEGTORAD*PCF),GetUnitY(it)+600.*Sin(bj_DEGTORAD*PCF))
set m5=null
return true
else
return false
endif
endfunction
function P6F takes nothing returns nothing
call ExecuteFunc("PLF")
endfunction
function PLF takes nothing returns nothing
local unit it=GetEnumUnit()
local unit OOF=null
local integer O5=GetPlayerId(GetOwningPlayer(it))
local location b5
local integer UP
local real P1F=Q17(it,S57(it))
local boolean J4=false
set EZ7="PLF"
if(GetUnitTypeId(it)!=1211117642)then
set b5=HC[16+O5]
else
if(U47(GetHandleId(it),"MCSLoc")!=null)then
set b5=U47(GetHandleId(it),"MCSLoc")
else
set b5=GetUnitLoc(it)
call TW7(GetHandleId(it),"MCSLoc",b5)
endif
endif
call MoveLocation(b5,GetUnitX(it),GetUnitY(it))
if((R17(it))and(is(it))and(not Id(O5))and(GetUnitAbilityLevel(it,1093685334)==0)and(GetUnitAbilityLevel(it,1110454874)==0))then
if(not PBF(it,O5,b5))then
if(P1F<1000)or(not KKF(it))then
if((P1F+100.)<Q17(h9[O5],S57(it)))then
call SY7(it,851986,h9[16+O5])
else
call SY7(it,851986,h9[O5])
endif
endif
endif
endif
set J4=MWF(it)
if false and(eY[O5]==1 or eY[O5]==9)and(not K_7[240+O5])then
set UP=-1
if((Q17(it,h8[O5])<400)and(GetUnitCurrentOrder(it)==851983))then
set UP=GetUnitUserData(h8[O5])
elseif((Q17(it,h9[O5])<400)and(GetUnitCurrentOrder(it)==851986))then
set UP=GetUnitUserData(h9[O5])
endif
if(UP>=11 and UP<=17)or(UP>=31 and UP<=39)or(UP>=51 and UP<=59)then
if AH7(Player(O5))then
set UP=hj[512+UP]
endif
call B47(it,UP)
endif
endif
if((eY[O5]==2)and(not J4)and(is(it))and(P1F>500.))then
if(IsUnitAlly(it,Z7[0]))then
call JMF(it,O5,PU4)
else
call JMF(it,O5,PV4)
endif
endif
if((eY[O5]==1)and(not J4)and(is(it))and(GetUnitAbilityLevel(it,1110459478)>0))then
set J4=SY7(it,851986,h9[16+O5])
set G0[64+O5]=true
endif
if((not J4)and(P1F>4500.)and(is(it)))then
if(GetUnitAbilityLevel(it,1110459204)==0)then
if(not J4)and(SG7(it,ZU[TC]))then
set UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+175.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)
if((eY[O5]==1)and(UP<100)and(UP>50)and(Bz>hq[256+O5]))then
set J4=(h4[O5]==null)and(SD7(1000.,b5,Condition(function ZJ7))==0)and(SD7(1000.,b5,Condition(function YR7))==0)and(iy(it))and(OLF(it))
endif
endif
if(not J4)and(SG7(it,ZU[LB]))then
if(GetUnitState(it,UNIT_STATE_MAX_LIFE)<700.)then
set UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+275.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)
else
set UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+375.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)
endif
if(eY[O5]==1)and(UP<100)and(UP>45)then
set J4=(h4[O5]==null)and(iy(it))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,it,false,false)==0)and(SD7(1100.,b5,Condition(function KX))==0)and(SD7(700.,b5,Condition(function KA))==0)and(UnitUseItem(it,bj_lastCreatedItem))
endif
endif
if(not J4)and(SG7(it,ZU[QC]))then
if(GetUnitState(it,UNIT_STATE_MAX_LIFE)<700.)then
set UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+275.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)
else
set UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+375.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)
endif
if((eY[O5]==1)and(UP<100)and(UP>45)and(GetUnitAbilityLevel(it,1110454874)==0))then
set J4=(h4[O5]==null)and(iy(it))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,it,false,false)==0)and(SD7(1100.,b5,Condition(function KX))==0)and(SD7(700.,b5,Condition(function KA))==0)and(UnitUseItemTarget(it,bj_lastCreatedItem,it))
endif
endif
endif
if((not J4)and(P1F>6000.)and(not G0[O5]))then
if eY[208+O5]!=0 then
if eY[O5]!=1 or Q17(it,h7[eY[208+O5]])<3000. then
set eY[208+O5]=0
endif
endif
if(eY[O5]==1)then
if false and((Bz>hq[592+O5])and(K_7[128+O5])and(GetHeroLevel(it)>5)and(h4[O5]==null)and((Bz>hq[592+O5]+60. and S97(800.,b5,Condition(function KX))==null)or(S97(1200.,b5,Condition(function KX))==null))and((GetHeroLevel(it)<12)or((Q17(it,JX(it))>6000.)and(S97(1200.,b5,Condition(function KX))==null))))then
set G0[320+O5]=true
call VN7(it,true)
if(IsUnitAlly(it,Z7[0]))then
set J4=VT7(it,IZ4)
else
set J4=VT7(it,JA4)
endif
elseif(eY[208+O5]!=0 and SD7(800.,b5,Condition(function k6))==0)then
if h8[144+O5]!=null then
set J4=VT7(it,h8[144+O5])
else
set J4=VT7(it,h7[eY[208+O5]])
endif
endif
elseif((eY[O5]==3)or(eY[O5]==4))then
if(SD7(800.,b5,Condition(function k6))>0)then
elseif(R17(it))then
elseif(IsUnitAlly(it,Z7[0]))then
if(E37[64+O5]==0)then
if(P34<3)then
set J4=VT7(it,JO4)
elseif(GetWidgetLife(JT4)>.405)then
set J4=VT7(it,JT4)
elseif(GetWidgetLife(JW4)>.405)then
set J4=VT7(it,JW4)
elseif(GetWidgetLife(JQ4)>.405)then
set J4=VT7(it,JQ4)
elseif(GetWidgetLife(JR4)>.405)then
set J4=VT7(it,JR4)
elseif(GetWidgetLife(JF4)>.405)then
set J4=VT7(it,JF4)
endif
elseif(E37[64+O5]==1)then
if(P64<3)then
set J4=VT7(it,JN4)
elseif(GetWidgetLife(JS4)>.405)then
set J4=VT7(it,JS4)
elseif(GetWidgetLife(JV4)>.405)then
set J4=VT7(it,JV4)
elseif(GetWidgetLife(JQ4)>.405)then
set J4=VT7(it,JQ4)
elseif(GetWidgetLife(JR4)>.405)then
set J4=VT7(it,JR4)
elseif(GetWidgetLife(JF4)>.405)then
set J4=VT7(it,JF4)
endif
elseif(E37[64+O5]==2)then
if(PL4<3)then
set J4=VT7(it,JP4)
elseif(GetWidgetLife(JU4)>.405)then
set J4=VT7(it,JU4)
elseif(GetWidgetLife(JX4)>.405)then
set J4=VT7(it,JX4)
elseif(GetWidgetLife(JQ4)>.405)then
set J4=VT7(it,JQ4)
elseif(GetWidgetLife(JR4)>.405)then
set J4=VT7(it,JR4)
elseif(GetWidgetLife(JF4)>.405)then
set J4=VT7(it,JF4)
endif
elseif(E37[64+O5]==3)then
if(GetWidgetLife(JF4)>.405)then
set J4=VT7(it,JF4)
endif
endif
if(not J4)then
set J4=VT7(it,IZ4)
endif
else
if(E37[64+O5]==0)then
if(P14<3)then
set J4=VT7(it,K44)
elseif(GetWidgetLife(KE4)>.405)then
set J4=VT7(it,KE4)
elseif(GetWidgetLife(KH4)>.405)then
set J4=VT7(it,KH4)
elseif(GetWidgetLife(K84)>.405)then
set J4=VT7(it,K84)
elseif(GetWidgetLife(K94)>.405)then
set J4=VT7(it,K94)
elseif(GetWidgetLife(J34)>.405)then
set J4=VT7(it,J34)
endif
elseif(E37[64+O5]==1)then
if(P04<3)then
set J4=VT7(it,J_4)
elseif(GetWidgetLife(KD4)>.405)then
set J4=VT7(it,KD4)
elseif(GetWidgetLife(KG4)>.405)then
set J4=VT7(it,KG4)
elseif(GetWidgetLife(K84)>.405)then
set J4=VT7(it,K84)
elseif(GetWidgetLife(K94)>.405)then
set J4=VT7(it,K94)
elseif(GetWidgetLife(J34)>.405)then
set J4=VT7(it,J34)
endif
elseif(E37[64+O5]==2)then
if(P54<3)then
set J4=VT7(it,K74)
elseif(GetWidgetLife(KF4)>.405)then
set J4=VT7(it,KF4)
elseif(GetWidgetLife(KI4)>.405)then
set J4=VT7(it,KI4)
elseif(GetWidgetLife(K84)>.405)then
set J4=VT7(it,K84)
elseif(GetWidgetLife(K94)>.405)then
set J4=VT7(it,K94)
elseif(GetWidgetLife(J34)>.405)then
set J4=VT7(it,J34)
endif
elseif(E37[64+O5]==3)then
if(GetWidgetLife(J34)>.405)then
set J4=VT7(it,J34)
endif
endif
if(not J4)then
set J4=VT7(it,JA4)
endif
endif
endif
endif
set EZ7="Udv2"
if((not J4)and(P1F>8500.)and(eY[O5]!=11))then
set OOF=h4[128+O5]
if((OOF!=null)and(R37(OOF))and(IsUnitInRange(it,OOF,1000.)))then
if((GetUnitTypeId(OOF)==1966092372)or(GetUnitTypeId(OOF)==1697657145))then
set UP=SE7(1000.,OOF,Condition(function KC))
if((UP==0)and(not Id(O5))and(GetUnitState(it,UNIT_STATE_LIFE)<1600.)and(Bz>hq[512+O5]))then
call LVE(O5,false)
set J4=SY7(it,851986,h9[O5])
endif
elseif(((Id(O5))and(R2I(GetUnitState(it,UNIT_STATE_LIFE))>(400+(GetHeroLevel(it)*50)))and(GetHeroLevel(it)>=6))or(hq[512+O5]>Bz))then
if((Q17(it,JX(it)))<(Q17(OOF,JX(it))-200.))then
call LVE(O5,true)
set J4=SY7(it,851986,h9[O5])
set hq[512+O5]=0.
endif
elseif((GetHeroLevel(it)<11)and((Q17(it,JX(it)))<(Q17(OOF,JX(it))+I2R(500-(GetHeroLevel(it)*20))))and(not iy(it))and(h4[80+O5]!=OOF))then
call LVE(O5,true)
set J4=SY7(it,851986,h9[O5])
set hq[512+O5]=0.
elseif((Bz>hq[512+O5])and((h4[O5]==null)or((not Id(O5))and((GetHeroLevel(it)<16)or(GetUnitState(it,UNIT_STATE_LIFE)<1300.)))))then
set UP=SE7(1000.,OOF,Condition(function KC))
set J4=((Q17(it,JX(it))<(Q17(OOF,JX(it))-200.))or(UP==0)or((GetUnitState(it,UNIT_STATE_LIFE)<1300.)and(UP<2)))and(SY7(it,851986,h9[O5]))
set hq[512+O5]=0.
endif
if((not J4)and(iy(it))and(eY[O5]==1)and(GetHeroLevel(it)>10)and(GetUnitCurrentOrder(it)==851983)and(not G0[O5]))then
set UP=SE7(900.,OOF,Condition(function KC))
if((UP>1)and(GetUnitLifePercent(it)>60.))then
call IssueTargetOrderById(it,851983,OOF)
endif
endif
if((not J4)and(GetUnitLifePercent(OOF)<20.)and(eY[O5]==1)and(GetHeroLevel(it)>10)and(h4[O5]==null)and(not G0[O5])and(iU(it))and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE))))then
set J4=IssueTargetOrderById(it,851983,OOF)
endif
elseif((P1F>12000.)and(not G0[O5])and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE))or(h4[O5]!=null)))then
set OOF=S97(1000.,b5,Condition(function KB))
if(OOF!=null)then
if((Id(O5))and(R2I(GetUnitState(it,UNIT_STATE_LIFE))>(500+(GetHeroLevel(it)*30)))and(GetHeroLevel(it)>=6))then
if((Q17(it,JX(it)))<(Q17(OOF,JX(it))-350.))then
call LVE(O5,true)
set J4=SY7(it,851986,h9[O5])
endif
elseif(h4[O5]==null)then
set J4=(iU(it))and((GetUnitLifePercent(OOF)<10.)or(SD7(700.,b5,Condition(function KX))<4))and(IssueTargetOrderById(it,851983,OOF))
elseif((kA(it,h4[O5],200.))or((Q17(it,JX(it)))<(Q17(OOF,JX(it))-250.)))then
call LVE(O5,true)
set J4=((SD7(700.,b5,Condition(function KX))<4)and(IssueTargetOrderById(it,851983,OOF)))or(SY7(it,851986,h9[O5]))
endif
endif
endif
endif
endif
set EZ7="Udv3"
if((eY[O5]!=2)and(not J4)and(is(it)))then
set UP=GetUnitCurrentOrder(it)
call PYF(it,"A: Inside Udv3  "+"CurrentOrder "+I2S(UP))
if(K_7[256+O5])then
call PYF(it,"B: inside if (g_aiItemBool[256+O5]) and call AI_OrderToWaipoint(it,851986,h8[O5])  "+"CurrentOrder "+I2S(UP))
call SY7(it,851986,h8[O5])
elseif((UP==0)or(UP==851972))then
call PYF(it,"C: inside if ((UP==0)or(UP==851972)) and call J3(it,true)  "+"CurrentOrder "+I2S(UP))
call J3(it,true)
elseif((G0[32+O5])and(eY[O5]==1)and(UP!=851986)and(GetUnitAbilityLevel(it,1110454874)==0)and(SD7(900.,b5,Condition(function k8))==0))then
call PYF(it,"D: elseif((G0[32+O5])and(eY[O5]==1)and(UP!=851986)and ,,, and call  call aiRetreat_J1(it,false) "+"CurrentOrder "+I2S(UP))
call VN7(it,false)
endif
if((h4[O5]==null)and(P1F>2800.))then
call PYF(it,"E: Inside if((h4[O5]==null)and(UDv>2800.))"+"CurrentOrder "+I2S(UP))
set J4=(j1(it,ED)>2000.)and(j1(it,L9)>2000.)and(OCF(it))
set ET7=S97(800.,b5,Condition(function K4))
if((not J4)and(ET7!=null)and(not R17(it)))then
call PYF(it,"F:  if((not J4)and(b_KillTgt!=null)and(not AIIsHeroKillable(it))) "+I2S(UP))
call LSE(O5,ET7,false,false)
if h4[O5]!=null then
call PYF(it,"G: Inside  h4[O5]!=null "+I2S(UP))
call IssueTargetOrderById(it,851983,h4[O5])
endif
endif
endif
if((not J4)and(not Id(O5)))then
call PYF(it,"H: Inside (not J4)and(not Id(O5)) "+"CurrentOrder "+I2S(UP))
if((eY[O5]!=1)or(P1F<3000.)or(hq[512+O5]>Bz)or((GetHeroLevel(it)>15)and(GetWidgetLife(it)>1600.))or((h4[O5]!=null)and((GetUnitLifePercent(h4[O5])+15.)<GetUnitLifePercent(it))and(GetUnitState(it,UNIT_STATE_LIFE)>GetUnitState(h4[O5],UNIT_STATE_LIFE))))then
call PYF(it,"I: Inside Blank if((eY[O5]!=1)or(UDv<3000.)or(hq[512+O5]>Bz)or((GetHeroLevel(it)>15)... "+"CurrentOrder "+I2S(UP))
elseif(((UP==851983)or(UP==851993))and((not GZ[48+O5])or(GetHeroLevel(it)<6))and(SD7(700.,b5,Condition(function Y57))==0)and(P1F>3500.))then
call PYF(it,"J: Inside ((UP==851983)or(UP==851993))and((not GZ[48+O5])or(GetHeroLevel(it)<6))... "+"CurrentOrder "+I2S(UP))
if(GetHeroLevel(it)<10)then
set UP=SD7(900.,b5,Condition(function Kd))
else
set UP=SD7(900.,b5,Condition(function KC))
endif
if((iy(it))and(GetUnitLifePercent(it)>60.)and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE))))then
call PYF(it,"K: Inside  if((iy(it))and(GetUnitLifePercent(it)>60.)and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE)))) "+"CurrentOrder "+I2S(UP))
set J4=(UP==0)and(SD7(900.,b5,Condition(function Ky))>1)and(SY7(it,851986,h9[O5]))
if((not J4)and(((h4[128+O5]==null)or(not IsUnitInRange(it,h4[128+O5],1800.)))and(((not V07(it))and(GetHeroLevel(it)>9))or(GetHeroLevel(it)>14))))then
call PYF(it,"L: Inside ((not J4)and(((h4[128+O5]==null)or(not IsUnitInRange(it,h4[128+O5],1800.)))and(((not IsUnitTypeMeleeAttacker(it))and(GetHeroLevel(it)>9))))... "+"CurrentOrder "+I2S(UP))
set OOF=S97(600.,b5,Condition(function KV))
if((OOF!=null)and(h4[80+O5]!=OOF))then
call PYF(it,"M: Inside if((uSv!=null)and(h4[80+O5]!=uSv)) and Call 851983 "+"CurrentOrder "+I2S(UP))
call IssueTargetOrderById(it,851983,OOF)
endif
endif
else
call PYF(it,"N: Inside else of the ((iy(it))  and(GetUnitLifePercent(it)>60.)and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE)))) "+"CurrentOrder "+I2S(UP))
set J4=(UP<=2)and(SD7(900.,b5,Condition(function Ky))>((UP*2)+1))and(SY7(it,851986,h9[O5]))
endif
elseif((UP==851986)and(not G0[64+O5])and(RY7(it)))then
call PYF(it,"O: Inside elseif((UP==851986)and(not G0[64+O5])and(AI_Not_Channeling(it)))then "+"CurrentOrder "+I2S(UP))
if((GetUnitAbilityLevel(it,1110454874)>0)and(GetUnitLifePercent(it)<95.))then
call PYF(it," Inside if((GetUnitAbilityLevel(it,'B02Z')>0)and(GetUnitLifePercent(it)<95.)) "+"CurrentOrder "+I2S(UP))
set OOF=S77(400.,b5,Condition(function Y57))
if(OOF!=null)then
call PYF(it,"P: Inside if(uSv!=null)then of GetUnitAbilityLevel(it,'B02Z')`s branch "+"CurrentOrder "+I2S(UP))
set J4=((SE7(1200.,OOF,Condition(function k8))==0)and(Q17(h9[16+O5],OOF)>Q17(h9[16+O5],it)+500.)and(SY7(it,851983,h8[O5])))
endif
elseif((not G0[32+O5])and(not R17(it)))then
call PYF(it,"Q: Inside  elseif((not G0[32+O5])and(not AIIsHeroKillable(it)))then"+"CurrentOrder "+I2S(UP))
set OOF=S97(400.,b5,Condition(function Y57))
if(OOF!=null)then
call PYF(it,"R: Inside  if(uSv!=null)then of elseif((not G0[32+O5])and(not AIIsHeroKillable(it)))then "+"CurrentOrder "+I2S(UP))
set UP=SE7(1200.,OOF,Condition(function k8))
set J4=((UP<2)or((UP<4)and(SE7(1200.,OOF,Condition(function k6))==0))and(Q17(h9[16+O5],OOF)>Q17(h9[16+O5],it)+500.)and(SY7(it,851983,h8[O5])))
endif
endif
endif
endif
call PYF(it,"Out")
set EZ7="Udv4"
if(eY[544+O5]==1)then
set bj_lastLoadedUnit=it
if GetWidgetLife(h9[64+O5])<.405 then
set eY[544+O5]=0
elseif SE7(1200,h9[64+O5],Condition(function WG7))==0 then
if(MHF(h9[64+O5],IsUnitAlly(it,Z7[0]),U97(GetHandleId(h9[64+O5]),"AI|Lane"))<0)then
set eY[544+O5]=0
endif
endif
elseif(eY[544+O5]==2)then
set bj_lastLoadedUnit=it
if GetWidgetLife(h9[64+O5])<.405 then
set eY[544+O5]=0
elseif SE7(1200,h9[64+O5],Condition(function WG7))==0 then
set eY[544+O5]=0
endif
endif
if eY[544+O5]!=0 and hq[848+O5]<Bz+FC7 then
set hq[848+O5]=Bz+FC7
endif
if((J4)or(not is(it)))then
elseif(eY[O5]==1)and(G0[128+O5])then
if K_7[256+O5]and(h8[O5]!=h7[353])and(h8[O5]!=h7[354])then
set K_7[256+O5]=false
endif
if(GetUnitAbilityLevel(it,1110459478)>0)then
call SY7(it,851986,h9[O5])
set G0[64+O5]=true
elseif K_7[256+O5]or R07(O5)then
elseif(V07(it))then
if((GetUnitAbilityLevel(it,1093677130)==0)or(h4[O5]!=null))then
call PUF(b5)
else
call PZF(b5)
endif
else
call PWF(b5)
endif
if h9[64+O5]!=null then
if(GetUnitState(h9[64+O5],UNIT_STATE_LIFE)<0.45)or(Q17(h9[64+O5],it)>3000)or(S97(3000.,SX7(h9[64+O5]),Condition(function k6))==null)then
set h9[64+O5]=null
else
set hq[320+O5]=Bz+10.
endif
endif
elseif((eY[O5]==3)or(eY[O5]==4))then
if(P1F<6000.)then
call JKF(it)
else
set J4=KKF(it)
endif
elseif(eY[O5]==9)then
call PIF(it)
elseif(eY[O5]==10)then
call O5F(b5)
elseif(eY[O5]==11)then
call P9F(b5)
endif
endif
set it=null
set OOF=null
set b5=null
endfunction
function P0F takes unit it returns integer
local integer i1=GetUnitTypeId(it)
set EZ7="AI_mid_laner"
if(i1==1211117653)then
return 19
elseif(i1==1311787088)then
return 18
elseif(i1==1160785970)then
return 17
elseif(i1==1430467634)then
return 16
elseif(i1==1215128178)then
return 15
elseif(i1==1430468406)then
return 14
elseif(i1==1164666213)then
return 13
elseif(i1==1211117640)then
return 12
elseif(i1==1433168227)then
return 11
elseif(i1==1430466872)then
return 10
elseif(i1==1211117620)then
return 9
elseif(i1==1332898670)then
return 8
elseif(i1==1316252014)then
return 7
elseif(i1==1429221445)then
return 6
elseif(i1==1311780930)then
return 5
elseif(i1==1315334514)then
return 4
elseif(i1==1162032951)then
return 3
elseif(i1==1162032439)then
return 2
elseif(i1==1211117654)then
return 1
else
return 0
endif
endfunction
function P5F takes nothing returns boolean
return((not PE4)and(not PG4)and(not PH4)and(not PF4))
endfunction
function P2F takes nothing returns nothing
local integer iZ=1
local integer P_F=1
local integer Q4F=1
local unit Q7F=null
local unit Q8F=null
set EZ7="P2F"
loop
exitwhen iZ>5
if(AK7(Z7[iZ]))then
if((Q7F==null)or(((P0F(M7[GetPlayerId(Z7[iZ])]))>(P0F(Q7F)))or((P0F(Q7F)==0)and((QR7(M7[GetPlayerId(Z7[iZ])])>QR7(Q7F))or((QR7(M7[GetPlayerId(Z7[iZ])])==QR7(Q7F))and(GetHeroStr(M7[GetPlayerId(Z7[iZ])],false)>=GetHeroAgi(M7[GetPlayerId(Z7[iZ])],false))and(GetHeroStr(M7[GetPlayerId(Z7[iZ])],false)>=GetHeroInt(M7[GetPlayerId(Z7[iZ])],false)))))))then
set Q7F=M7[GetPlayerId(Z7[iZ])]
set eY[64+GetPlayerId(Z7[iZ])]=0
endif
endif
if(AK7(A7[iZ]))then
if((Q8F==null)or(((P0F(M7[GetPlayerId(A7[iZ])]))>(P0F(Q8F)))or((P0F(Q8F)==0)and((QR7(M7[GetPlayerId(A7[iZ])])>QR7(Q8F))or((QR7(M7[GetPlayerId(A7[iZ])])==QR7(Q8F))and(GetHeroStr(M7[GetPlayerId(A7[iZ])],false)>=GetHeroAgi(M7[GetPlayerId(A7[iZ])],false))and(GetHeroStr(M7[GetPlayerId(A7[iZ])],false)>=GetHeroInt(M7[GetPlayerId(A7[iZ])],false)))))))then
set Q8F=M7[GetPlayerId(A7[iZ])]
set eY[64+GetPlayerId(A7[iZ])]=0
endif
endif
set iZ=iZ+1
endloop
set iZ=1
loop
exitwhen iZ>5
if((AK7(Z7[iZ]))and(Z7[iZ]!=GetOwningPlayer(Q7F)))then
if(P_F<3)then
set eY[64+GetPlayerId(Z7[iZ])]=P_F
else
set eY[64+GetPlayerId(Z7[iZ])]=P_F-2
endif
set P_F=P_F+1
endif
if((AK7(A7[iZ]))and(A7[iZ]!=GetOwningPlayer(Q8F)))then
if(Q4F<3)then
set eY[64+GetPlayerId(A7[iZ])]=Q4F
else
set eY[64+GetPlayerId(A7[iZ])]=Q4F-2
endif
set Q4F=Q4F+1
endif
set iZ=iZ+1
endloop
set iZ=1
loop
exitwhen iZ>5
set Q4F=GetPlayerId(Z7[iZ])
if(eY[64+Q4F]==0)then
set h8[Q4F]=h7[11]
set h8[16+Q4F]=h7[14]
elseif(eY[64+Q4F]==1)then
set h8[Q4F]=h7[31]
set h8[16+Q4F]=h7[35]
else
set h8[Q4F]=h7[51]
set h8[16+Q4F]=h7[55]
endif
set Q4F=GetPlayerId(A7[iZ])
if(eY[64+Q4F]==0)then
set h8[Q4F]=h7[111]
set h8[16+Q4F]=h7[114]
elseif(eY[64+Q4F]==1)then
set h8[Q4F]=h7[131]
set h8[16+Q4F]=h7[135]
else
set h8[Q4F]=h7[151]
set h8[16+Q4F]=h7[155]
endif
set iZ=iZ+1
endloop
set Q7F=null
set Q8F=null
endfunction
function Q9F takes nothing returns nothing
local integer O5=1
set EZ7="Q9F"
if Bz<QD4 then
return
endif
loop
exitwhen O5>11
if(IsPlayerInForce(Player(O5),QX4))then
call GroupClear(iC)
call GroupEnumUnitsOfPlayer(iC,Player(O5),iL)
call ForGroup(iC,function P6F)
endif
if(IsPlayerInForce(Player(O5),X7))then
if((M7[O5]!=null)and(GetWidgetLife(M7[O5])>.405))then
if(IsUnitVisible(M7[O5],A7[0]))then
set eY[32+O5]=4
elseif(eY[32+O5]>0)then
set eY[32+O5]=eY[32+O5]-1
endif
endif
elseif(IsPlayerInForce(Player(O5),Y7))then
if((M7[O5]!=null)and(GetWidgetLife(M7[O5])>.405))then
if(IsUnitVisible(M7[O5],Z7[0]))then
set eY[32+O5]=4
elseif(eY[32+O5]>0)then
set eY[32+O5]=eY[32+O5]-1
endif
endif
endif
set O5=O5+1
endloop
endfunction
function QDF takes nothing returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
set EZ7="QDF"
if not RY7(it)then
elseif(Bz<=QD4-23.)then
if Q17(it,S57(it))<600. and eY[O5]!=0 then
if iU(it)then
call IssueImmediateOrderById(it,851993)
endif
else
if IsUnitAlly(it,Z7[0])then
call IssuePointOrderById(it,851986,GetRectCenterX(ED),GetRectCenterY(ED))
else
call IssuePointOrderById(it,851986,GetRectCenterX(L9),GetRectCenterY(L9))
endif
endif
elseif(eY[O5]==2)or(not(Bz>K57[160+O5]))then
elseif(IsUnitAlly(it,A7[0]))then
if(h8[16+O5]==h7[14])then
call IssueTargetOrderById(it,851971,K44)
elseif(h8[16+O5]==h7[35])then
call IssueTargetOrderById(it,851971,J_4)
else
call IssueTargetOrderById(it,851971,K74)
endif
else
if(h8[16+O5]==h7[14])then
call IssueTargetOrderById(it,851971,JO4)
elseif(h8[16+O5]==h7[35])then
call IssueTargetOrderById(it,851971,JN4)
else
call IssueTargetOrderById(it,851971,JP4)
endif
endif
set it=null
endfunction
function QEF takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer O5=U97(GetHandleId(t),"pID")
call H0F(M7[O5])
set Q04[80+O5]=null
call T97(GetHandleId(t))
call DestroyTrigger(t)
set t=null
endfunction
function QFF takes nothing returns nothing
local integer O5
local integer i
local integer j
local integer k
if LO4 then
return
endif
if(Bz<(QD4+2.))then
if(Bz==QD4-MF7)then
if(P5F())then
call ExecuteFunc("P2F")
endif
if(not EF7)then
set EF7=true
set O5=1
set N54=true
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if AK7(Player(O5))and M7[O5]!=null then
set Q04[80+O5]=CreateTrigger()
call TriggerRegisterTimerEvent(Q04[80+O5],0.1,false)
call TriggerAddAction(Q04[80+O5],function QEF)
call TF7(GetHandleId(Q04[80+O5]),"pID",O5)
endif
set O5=O5+1
endloop
endif
endif
call GroupClear(Q54)
call GroupEnumUnitsInRect(Q54,bj_mapInitialPlayableArea,iL)
call ForGroup(Q54,function QDF)
else
call DestroyTrigger(GetTriggeringTrigger())
call DestroyTrigger(QA4)
set QA4=null
call DestroyTrigger(Ho)
call EnableTrigger(QB4)
call EnableTrigger(EW7)
call EnableTrigger(Q64)
call EnableTrigger(Q34)
call EnableTrigger(QZ4)
if(QV4!=null)then
call DisplayTimedTextToPlayer(QT4,0,0,5.,"Picking for AI has ended.")
call SetUnitOwner(h4[512+GetPlayerId(QT4)],QT4,false)
call SetUnitOwner(h4[512+GetPlayerId(QV4)],QV4,false)
set QV4=null
endif
if(QW4!=null)then
call DisplayTimedTextToPlayer(QU4,0,0,5.,"Picking for AI has ended.")
call SetUnitOwner(h4[512+GetPlayerId(QU4)],QU4,false)
call SetUnitOwner(h4[512+GetPlayerId(QW4)],QW4,false)
set QW4=null
endif
set O5=1
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
set EN7=IsPlayerAlly(Player(O5),Z7[0])
set j=OV7(EN7,0,6)
if AK7(Player(O5))and M7[O5]!=null then
set bj_forLoopBIndex=QI7(GetUnitTypeId(M7[O5]))
set i=1
loop
exitwhen i>5
if E37[48+j+i]==-1 then
set E37[48+j+i]=O5
exitwhen true
elseif QI7(GetUnitTypeId(M7[E37[48+j+i]]))>bj_forLoopBIndex then
set k=5
loop
exitwhen k==i
set E37[48+j+k]=E37[48+j+k-1]
set k=k-1
endloop
set E37[48+j+i]=O5
exitwhen true
endif
set i=i+1
endloop
endif
set O5=O5+1
endloop
set EI7=""
set i=1
loop
exitwhen i>5
set E37[80+i]=E37[48+i]
set E37[86+i]=E37[54+i]
set i=i+1
endloop
endif
endfunction
function QGF takes nothing returns nothing
local integer O5=1
local integer UP=0
local integer QHF=0
local integer QIF=0
local integer QJF=0
local integer i=0
set EZ7="QGF"
loop
exitwhen O5>5
if((M7[GetPlayerId(Z7[O5])]==null)and(GetPlayerSlotState(Z7[O5])==PLAYER_SLOT_STATE_PLAYING))then
return
elseif(not AM7(Z7[O5]))then
elseif(GetPlayerController(Z7[O5])==MAP_CONTROL_COMPUTER)then
if(h8[16+GetPlayerId(Z7[O5])]==h7[14])then
set QJF=QJF+1
elseif(h8[16+GetPlayerId(Z7[O5])]==h7[35])then
set QHF=QHF+1
else
set QIF=QIF+1
endif
else
set UP=GetPlayerId(Z7[O5])
if(IsUnitInRange(M7[UP],JO4,700.))then
set QJF=QJF+1
elseif(IsUnitInRange(M7[UP],JN4,700.))then
set QHF=QHF+1
elseif(IsUnitInRange(M7[UP],JP4,700.))then
set QIF=QIF+1
elseif((j1(M7[UP],ED)<4000.)or(RectContainsUnit(Cz,M7[UP])))then
elseif(RAbsBJ(GetUnitX(M7[UP])-GetUnitY(M7[UP]))<1500.)then
set QJF=QJF+1
elseif(((GetUnitY(M7[UP])>5000.)and(GetUnitY(M7[UP])<6700.))or((GetUnitX(M7[UP])>-7000.)and(GetUnitX(M7[UP])<-5500.)))then
set QHF=QHF+1
elseif(((GetUnitY(M7[UP])>-7500.)and(GetUnitY(M7[UP])<-6300.))or((GetUnitX(M7[UP])>5000.)and(GetUnitX(M7[UP])<6700.)))then
set QIF=QIF+1
endif
endif
set O5=O5+1
endloop
if(HB4<=3)then
set UP=1
else
set UP=2
endif
if((PE4)or((PG4)and(PH4))or((PG4)and(PF4))or((PH4)and(PF4)))then
set UP=5
endif
set i=1
loop
exitwhen i>5
if((AM7(Z7[i]))and(GetPlayerController(Z7[i])==MAP_CONTROL_COMPUTER))then
set O5=GetPlayerId(Z7[i])
if(h8[16+O5]==h7[14])then
if(((QJF>1)and(P5F()))or((QJF>UP)and(not(P5F()))))then
if((not PH4)and(QHF<UP))then
set h8[16+O5]=h7[35]
set h8[O5]=h7[32]
set eY[64+O5]=1
set QHF=QHF+1
set QJF=QJF-1
elseif((not PF4)and(QIF<UP))then
set h8[16+O5]=h7[55]
set h8[O5]=h7[52]
set eY[64+O5]=2
set QIF=QIF+1
set QJF=QJF-1
endif
endif
elseif(h8[16+O5]==h7[35])then
if(QHF>UP)then
if((not PG4)and(((QJF<1)and(P5F()))or((QJF<UP)and(not(P5F())))))then
set h8[16+O5]=h7[14]
set h8[O5]=h7[12]
set eY[64+O5]=0
set QJF=QJF+1
set QHF=QHF-1
elseif((not PF4)and(QIF<UP))then
set h8[16+O5]=h7[55]
set h8[O5]=h7[52]
set eY[64+O5]=2
set QIF=QIF+1
set QHF=QHF-1
endif
endif
else
if(QIF>UP)then
if((not PG4)and(((QJF<1)and(P5F()))or((QJF<UP)and(not(P5F())))))then
set h8[16+O5]=h7[14]
set h8[O5]=h7[12]
set eY[64+O5]=0
set QJF=QJF+1
set QIF=QIF-1
elseif((not PH4)and(QHF<UP))then
set h8[16+O5]=h7[35]
set h8[O5]=h7[32]
set eY[64+O5]=1
set QHF=QHF+1
set QIF=QIF-1
endif
endif
endif
endif
set i=i+1
endloop
endfunction
function QKF takes nothing returns nothing
local integer O5=1
local integer UP=0
local integer QHF=0
local integer QIF=0
local integer QJF=0
local integer i=0
set EZ7="QKF"
loop
exitwhen O5>5
if((M7[GetPlayerId(A7[O5])]==null)and(GetPlayerSlotState(A7[O5])==PLAYER_SLOT_STATE_PLAYING))then
return
elseif(not AM7(A7[O5]))then
elseif(GetPlayerController(A7[O5])==MAP_CONTROL_COMPUTER)then
if(h8[16+GetPlayerId(A7[O5])]==h7[114])then
set QJF=QJF+1
elseif(h8[16+GetPlayerId(A7[O5])]==h7[135])then
set QHF=QHF+1
else
set QIF=QIF+1
endif
else
set UP=GetPlayerId(A7[O5])
if(IsUnitInRange(M7[UP],K44,700.))then
set QJF=QJF+1
elseif(IsUnitInRange(M7[UP],J_4,700.))then
set QHF=QHF+1
elseif(IsUnitInRange(M7[UP],K74,700.))then
set QIF=QIF+1
elseif((j1(M7[UP],L9)<4000.)or(RectContainsUnit(cz,M7[UP])))then
elseif(RAbsBJ(GetUnitX(M7[UP])-GetUnitY(M7[UP]))<1500.)then
set QJF=QJF+1
elseif(((GetUnitY(M7[UP])>5000.)and(GetUnitY(M7[UP])<6700.))or((GetUnitX(M7[UP])>-7000.)and(GetUnitX(M7[UP])<-5500.)))then
set QHF=QHF+1
elseif(((GetUnitY(M7[UP])>-7500.)and(GetUnitY(M7[UP])<-6300.))or((GetUnitX(M7[UP])>5000.)and(GetUnitX(M7[UP])<6700.)))then
set QIF=QIF+1
endif
endif
set O5=O5+1
endloop
if(HC4<=3)then
set UP=1
else
set UP=2
endif
if((PE4)or((PG4)and(PH4))or((PG4)and(PF4))or((PH4)and(PF4)))then
set UP=5
endif
set i=1
loop
exitwhen i>5
if((AM7(A7[i]))and(GetPlayerController(A7[i])==MAP_CONTROL_COMPUTER))then
set O5=GetPlayerId(A7[i])
if(h8[16+O5]==h7[114])then
if(((QJF>1)and(P5F()))or((QJF>UP)and(not(P5F()))))then
if((not PF4)and(QIF<UP))then
set h8[16+O5]=h7[155]
set h8[O5]=h7[152]
set eY[64+O5]=2
set QIF=QIF+1
set QJF=QJF-1
elseif((not PH4)and(QHF<UP))then
set h8[16+O5]=h7[135]
set h8[O5]=h7[132]
set eY[64+O5]=1
set QHF=QHF+1
set QJF=QJF-1
endif
endif
elseif(h8[16+O5]==h7[135])then
if(QHF>UP)then
if((not PG4)and(((QJF<1)and(P5F()))or((QJF<UP)and(not(P5F())))))then
set h8[16+O5]=h7[114]
set h8[O5]=h7[112]
set eY[64+O5]=0
set QJF=QJF+1
set QHF=QHF-1
elseif((not PF4)and(QIF<UP))then
set h8[16+O5]=h7[155]
set h8[O5]=h7[152]
set eY[64+O5]=2
set QIF=QIF+1
set QHF=QHF-1
endif
endif
else
if(QIF>UP)then
if((not PG4)and(((QJF<1)and(P5F()))or((QJF<UP)and(not(P5F())))))then
set h8[16+O5]=h7[114]
set h8[O5]=h7[112]
set eY[64+O5]=0
set QJF=QJF+1
set QIF=QIF-1
elseif((not PH4)and(QHF<UP))then
set h8[16+O5]=h7[135]
set h8[O5]=h7[132]
set eY[64+O5]=1
set QHF=QHF+1
set QIF=QIF-1
endif
endif
endif
endif
set i=i+1
endloop
endfunction
function QMF takes nothing returns nothing
if((Bz>26.)and((not PE4)or((PG4)and(PH4))or((PG4)and(PF4))or((PH4)and(PF4)))and((Bz<=QD4-30)or(Bz>=QD4-18)))then
if(QT4!=null)then
call QGF()
endif
if(QU4!=null)then
call QKF()
endif
endif
endfunction
function QNF takes nothing returns nothing
local unit it=T37(GetHandleId(GetTriggeringTrigger()),"Hero")
local integer ki
set EZ7="QNF"
if((GetUnitAbilityLevel(it,1093684056)>0)and(GetUnitLifePercent(it)>90.)and(not IsUnitHidden(it))and(iU(it)))then
set ki=GetHandleId(GetOwningPlayer(it))
if((GetHeroStr(it,true)>(30+(4*GetHeroLevel(it))))and(GetHeroStr(it,false)>(15+GetHeroLevel(it))))then
if(IsTriggerEnabled(T07(ki,"MorphStr")))then
call IssueImmediateOrderById(it,852547)
elseif(not IsTriggerEnabled(T07(ki,"MorphAgi")))then
call IssueImmediateOrderById(it,852549)
endif
elseif((GetHeroStr(it,true)<(20+(2*GetHeroLevel(it)))))then
if(IsTriggerEnabled(T07(ki,"MorphAgi")))then
call IssueImmediateOrderById(it,852550)
elseif(not IsTriggerEnabled(T07(ki,"MorphStr")))then
call IssueImmediateOrderById(it,852546)
endif
elseif(IsTriggerEnabled(T07(ki,"MorphStr")))then
call IssueImmediateOrderById(it,852547)
elseif(IsTriggerEnabled(T07(ki,"MorphAgi")))then
call IssueImmediateOrderById(it,852550)
endif
endif
set it=null
endfunction
function N8F takes nothing returns nothing
local trigger t
set EZ7="N8F"
if(T07(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAM")==null)then
set t=CreateTrigger()
call TM7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAM",t)
call TJ7(GetHandleId(t),"Hero",GetTriggerUnit())
call TriggerRegisterTimerEventPeriodic(t,1.)
call TriggerAddAction(t,function QNF)
else
set t=T07(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAM")
call TJ7(GetHandleId(t),"Hero",GetTriggerUnit())
endif
endfunction
function QOF takes unit it,integer X5 returns nothing
if((it!=null)and(is(it))and(IsUnitInRange(it,GetTriggerUnit(),800.))and(GetUnitLifePercent(it)>50.))then
call IssuePointOrderById(it,X5,GetOrderPointX(),GetOrderPointY())
endif
endfunction
function QPF takes nothing returns nothing
local integer X5=GetIssuedOrderId()
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
set EZ7="QPF"
if((X5<852000)and(X5!=851973)and(X5!=851974)and((not G0[16+O5])or(X5==851986)))then
call QOF(M7[16+O5],X5)
call QOF(M7[32+O5],X5)
call QOF(M7[48+O5],X5)
endif
endfunction
function N4F takes nothing returns nothing
local trigger t
set EZ7="N4F"
if(T07(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasMM")==null)then
set t=CreateTrigger()
call TM7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasMM",t)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerAddAction(t,function QPF)
endif
endfunction
function QQF takes nothing returns boolean
return(GetAttacker()==T37(GetHandleId(GetTriggeringTrigger()),"Hero"))
endfunction
function QRF takes unit it,integer QSF,boolean QTF returns nothing
set GZ[304+GetPlayerId(GetOwningPlayer(it))]=QTF
call SetPlayerAbilityAvailable(GetOwningPlayer(it),QSF,QTF)
endfunction
function QUF takes nothing returns nothing
local unit IB=GetAttacker()
local unit m5=GetTriggerUnit()
local integer i1=GetUnitTypeId(IB)
local integer O5=GetPlayerId(GetOwningPlayer(IB))
local integer kt
local integer QSF
local real QVF=0.
local real QWF=0.
local integer UP
local boolean J4
local integer X5=0
set EZ7="QUF"
if((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if((IsUnitType(m5,UNIT_TYPE_HERO)or IsUnitType(m5,UNIT_TYPE_STRUCTURE)))then
set J4=(i1!=1211117654)and(SL7(IB,852139,1093747504))
else
set J4=(i1==1211117654)and(SL7(IB,852138,1093747504))
endif
elseif(i1==1162032951)then
set J4=((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>hq[272+O5])or((Bz+30.)<hq[O5])))
call QRF(IB,1093679446,J4)
set X5=852255
set QSF=1093679446
elseif(i1==1160785972)then
set QVF=37+(GetHeroLevel(IB)*2.88)
set QWF=10+10*(GetUnitAbilityLevel(IB,1095263841))
call QRF(IB,1095263841,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>100.)or(R17(m5))))or((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>75.))or((GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.)and(GetWidgetLife(m5)>QVF)and(GetWidgetLife(m5)<QVF+QWF)))
set X5=852174
set QSF=1095263841
elseif(i1==1429221456)then
set QVF=49+(GetHeroLevel(IB)*2.68)
set QWF=GetUnitState(IB,UNIT_STATE_MANA)*(0.05+0.01*(GetUnitAbilityLevel(IB,1093685065)))
call QRF(IB,1093685065,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(R17(m5))))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>70.))or((GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.)and(GetWidgetLife(m5)>QVF)and(GetWidgetLife(m5)<QVF+QWF)))
set X5=852255
set QSF=1093685065
elseif(i1==1315074670)then
call QRF(IB,1093677622,(IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(R17(m5))))
set QSF=1093677622
set X5=852244
elseif(i1==1164799855)then
set QVF=47+(GetHeroLevel(IB)*2.68)
set UP=GetUnitAbilityLevel(IB,1093682265)
if(UP==0)then
set UP=GetUnitAbilityLevel(IB,1093752642)
if(UP>0)then
set QWF=DistanceBetweenPoints(GetUnitLoc(m5),GetUnitLoc(IB))*(0.1+0.05*(GetUnitAbilityLevel(IB,1093752642)))
call QRF(IB,1093752642,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(R17(m5))))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>68.))or((GetHeroLevel(IB)>5)and(GetUnitManaPercent(IB)>50.)and(GetWidgetLife(m5)>QVF)and(GetWidgetLife(m5)<QVF+QWF)))
set QSF=1093752642
endif
else
set QWF=DistanceBetweenPoints(GetUnitLoc(m5),GetUnitLoc(IB))*(0.1+0.05*(GetUnitAbilityLevel(IB,1093682265)))
call QRF(IB,1093682265,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(R17(m5))))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>75.))or((GetHeroLevel(IB)>5)and(GetUnitManaPercent(IB)>50.)and(GetWidgetLife(m5)>QVF)and(GetWidgetLife(m5)<QVF+QWF)))
set QSF=1093682265
endif
set X5=852255
elseif(i1==1311781185)then
set QWF=GetHeroInt(IB,true)*0.15*(GetUnitAbilityLevel(IB,1093684314))
call QRF(IB,1093684314,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(R17(m5))))or((GetHeroLevel(IB)>10)and(GetUnitManaPercent(IB)>70.))or((GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.)and(GetWidgetLife(m5)>QVF)and(GetWidgetLife(m5)<QVF+QWF)))
set QSF=1093684314
set X5=852255
elseif(i1==1211117649)then
call QRF(IB,1093685582,(GetUnitState(IB,UNIT_STATE_LIFE)>100.)and((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(IB)>60.)or(R17(m5))))or((GetHeroLevel(IB)>14)and(GetUnitLifePercent(IB)>70.)))
set QSF=1093685582
set X5=852255
endif
if((GZ[304+O5])and(IsUnitType(m5,UNIT_TYPE_HERO)))then
set kt=GetUnitAbilityLevel(IB,QSF)
if((BO7(IB))or(hq[32+O5]>Bz)or(kt==0)or(GetUnitAbilityLevel(IB,1110455638)>0))then
set GZ[304+O5]=false
elseif(i1==1162032951)then
if(kt<=2)then
set hq[32+O5]=Bz+5.-kt
endif
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>20.
elseif(i1==1160785972)then
if(kt<=2)then
set hq[32+O5]=Bz+5.-kt
endif
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>8.
elseif(i1==1429221456)then
if(kt<=3)then
set hq[32+O5]=Bz+8.-(2.*kt)
endif
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>100.
elseif(i1==1315074670)then
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>12.
elseif(i1==1164799855)then
if(kt<=3)then
set hq[32+O5]=Bz+7.-kt
endif
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>35.+(5.*kt)
elseif(i1==1311781185)then
if(kt<=3)then
set hq[32+O5]=Bz+4.-kt
endif
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>15.
elseif(i1==1211117649)then
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_LIFE)>101.
endif
endif
if IssueImmediateOrderById(IB,X5)then
call IssueTargetOrderById(IB,851983,m5)
endif
set IB=null
set m5=null
endfunction
function QXF takes nothing returns boolean
local integer PP7=GetHandleId(GetTriggeringTrigger())
local unit it=T37(PP7,"Unit")
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(not IG4[O5])and(GetUnitCurrentOrder(it)==851983)and(h4[336+O5]==null)and(Bz>hq[832+O5])then
if IsUnitEnemy(GetTriggerUnit(),Player(O5))and V17(GetTriggerUnit())and GetWidgetLife(GetTriggerUnit())>.405 and IsUnitVisible(GetTriggerUnit(),Player(O5))then
call IssueTargetOrderById(it,851983,GetTriggerUnit())
endif
endif
return false
endfunction
function QYF takes nothing returns boolean
local trigger t=null
if(GetLearnedSkill()==1093677130)then
call DestroyTrigger(GetTriggeringTrigger())
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,GetTriggerUnit(),600.,null)
call TriggerAddCondition(t,Condition(function QXF))
call TJ7(GetHandleId(t),"Unit",GetTriggerUnit())
set t=null
endif
return false
endfunction
function NEF takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_HERO_SKILL)
call TriggerAddCondition(t,Condition(function QYF))
set t=null
endfunction
function M_F takes nothing returns nothing
local trigger t
set EZ7="M_F"
if(T07(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasOrb")==null)then
set t=CreateTrigger()
call TM7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasOrb",t)
call TJ7(GetHandleId(t),"Hero",GetTriggerUnit())
if(AG7(GetOwningPlayer(GetTriggerUnit())))then
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call c6(t,EVENT_PLAYER_UNIT_ATTACKED)
else
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call B6(t,EVENT_PLAYER_UNIT_ATTACKED)
endif
call TriggerRegisterPlayerUnitEvent(t,B7,EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function QQF))
call TriggerAddAction(t,function QUF)
endif
endfunction
function QZF takes nothing returns boolean
return(((GetUnitTypeId(GetTriggerUnit())==1848652103)or(GetUnitTypeId(GetTriggerUnit())==1848652099)or(GetUnitTypeId(GetTriggerUnit())==1848652088)or(GetUnitTypeId(GetTriggerUnit())==1848651828))and(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endfunction
function QAF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
set EZ7="QAF"
if((h4[O5]==null)and(not GZ[272+O5])and((GetUnitLifePercent(GetTriggerUnit())<50.)or((M7[O5]!=null)and(GetHeroLevel(M7[O5])<10))))then
set GZ[272+O5]=true
call TriggerSleepAction(0.2)
call SY7(GetTriggerUnit(),851986,h9[O5])
call TriggerSleepAction(1.)
set GZ[272+O5]=false
endif
endfunction
function NDF takes nothing returns nothing
local trigger t
set EZ7="NDF"
if(T07(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM")==null)then
set t=CreateTrigger()
call TM7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM",t)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function QZF))
call TriggerAddAction(t,function QAF)
endif
endfunction
function QBF takes nothing returns boolean
return((GetUnitAbilityLevel(GetTriggerUnit(),1097167976)==1)and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endfunction
function QCF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
set EZ7="QCF"
if(((h4[O5]==null)or(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)<400.)or(GetRandomInt(1,10)>4))and(GetUnitCurrentOrder(GetTriggerUnit())!=851986))then
call TriggerSleepAction(0.5)
call SY7(GetTriggerUnit(),851986,h9[O5])
endif
endfunction
function N9F takes nothing returns nothing
local trigger t
set EZ7="N9F"
if(T07(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM")==null)then
set t=CreateTrigger()
call TM7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM",t)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function QBF))
call TriggerAddAction(t,function QCF)
endif
endfunction
function Q3F takes nothing returns boolean
return(((GetUnitTypeId(GetTriggerUnit())==1697656907)or(GetUnitTypeId(GetTriggerUnit())==1697656905)or(GetUnitTypeId(GetTriggerUnit())==1697656908))and(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endfunction
function Q6F takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
set EZ7="Q6F"
call TriggerSleepAction(0.5)
call SY7(GetTriggerUnit(),851986,h9[512+O5])
if(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)<200.)then
call SY7(GetTriggerUnit(),852525,S57(GetTriggerUnit()))
endif
endfunction
function N7F takes nothing returns nothing
local trigger t
set EZ7="N7F"
if(T07(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM")==null)then
set t=CreateTrigger()
call TM7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM",t)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function Q3F))
call TriggerAddAction(t,function Q6F)
endif
endfunction
function QLF takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(GetUnitAbilityLevel(GetFilterUnit(),1110455378)>0))and(GetUnitAbilityLevel(GetFilterUnit(),1113815395)==0)and(GetUnitAbilityLevel(GetFilterUnit(),1113815346)==0))
endfunction
function Q1F takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))or(GetUnitAbilityLevel(GetFilterUnit(),1110455378)>0))and(GetUnitAbilityLevel(GetFilterUnit(),1113815395)==0)and(GetUnitAbilityLevel(GetFilterUnit(),1113815346)==0))
endfunction
function Q0F takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((GetOwningPlayer(GetFilterUnit())==Player(bj_forLoopAIndexEnd))and((i1==1865429304)or(i1==1865429042)or(i1==1865429058)or(i1==1865429314))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function Q5F takes nothing returns nothing
call SetUnitUserData(GetEnumUnit(),GetUnitUserData(GetEnumUnit())+1)
call GroupAddUnit(iA,GetEnumUnit())
endfunction
function Q2F takes nothing returns nothing
call SetUnitUserData(GetEnumUnit(),0)
endfunction
function Q_F takes nothing returns nothing
local integer O5=1
local group jU=T57(GetHandleId(GetTriggeringTrigger()),"MGrp")
local boolexpr A07=UH7(GetHandleId(GetTriggeringTrigger()),"MFilt")
local unit P67=null
set EZ7="Q_F"
loop
if O5==6 then
set O5=7
endif
exitwhen O5>11
if(GetUnitTypeId(M7[O5])==1211117643)and(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)and((Z84[O5]!=ZD4)or(GetRandomInt(1,10)<=7))then
call GroupClear(jU)
call GroupClear(iA)
set bj_forLoopAIndexEnd=O5
set bj_lastLoadedUnit=M7[O5]
call GroupEnumUnitsOfPlayer(jU,Player(O5),A07)
loop
set P67=FirstOfGroup(jU)
exitwhen P67==null
call GroupRemoveUnit(jU,P67)
if(SE7(400.,P67,Condition(function Q1F))>0)then
call IssueImmediateOrderById(P67,852556)
elseif((GetUnitUserData(GetEnumUnit())<2)and(SE7(400.,P67,Condition(function W07))>3)and(SE7(1200.,P67,Condition(function Q1F))==0))then
call IssueImmediateOrderById(P67,852556)
call GroupClear(H9)
call GroupEnumUnitsInRange(H9,GetUnitX(P67),GetUnitY(P67),400.,A07)
call ForGroup(H9,function Q5F)
endif
endloop
call ForGroup(iA,function Q2F)
endif
set O5=O5+1
endloop
set jU=null
set A07=null
set P67=null
endfunction
function R4F takes nothing returns boolean
return(((GetLearnedSkill()==1093681483)or((GetLearnedSkill()==1093748313)))and(not IsUnitIllusion(GetTriggerUnit()))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function Uzv takes nothing returns boolean
local integer i1=GetUnitTypeId(GetTriggerUnit())
return(((i1==1865429304)or(i1==1865429042)or(i1==1865429058)or(i1==1865429314))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function UZv takes nothing returns nothing
if(hq[240+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]>Bz)then
call SetUnitUserData(GetTriggerUnit(),1)
endif
endfunction
function R7F takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="R7F"
call DisableTrigger(GetTriggeringTrigger())
call TriggerRegisterTimerEventPeriodic(t,1.50)
call TriggerAddAction(t,function Q_F)
set Hc=Location(0.,0.)
call TS7(GetHandleId(t),"MGrp",CreateGroup())
call TX7(GetHandleId(t),"MFilt",Condition(function Q0F))
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function qg takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="qg"
call ky(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function R4F))
call TriggerAddAction(t,function R7F)
endfunction
function R8F takes nothing returns boolean
return((GetUnitTypeId(GetFilterUnit())==1697657392)and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function R9F takes nothing returns nothing
if((GetPlayerController(GetOwningPlayer(GetEnumUnit()))!=MAP_CONTROL_USER)and((Z84[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]!=ZD4)or(GetRandomInt(1,10)<=7)))then
call MoveLocation(Hc,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()))
if((SD7(400.,Hc,Condition(function QLF))>0)and(SD7(1100.,Hc,Condition(function YB7))>0))then
call IssueImmediateOrderById(GetEnumUnit(),852556)
endif
endif
endfunction
function RDF takes nothing returns nothing
local integer O5=1
local group jU=T57(GetHandleId(GetTriggeringTrigger()),"MGrp")
local boolexpr A07=UH7(GetHandleId(GetTriggeringTrigger()),"MFilt")
set EZ7="RDF"
loop
if((GetPlayerController(Z7[O5])==MAP_CONTROL_COMPUTER)and(GetUnitTypeId(M7[GetPlayerId(Z7[O5])])==1160786265))then
call GroupClear(jU)
call GroupEnumUnitsOfPlayer(jU,Z7[O5],A07)
call ForGroup(jU,function R9F)
endif
if((GetPlayerController(A7[O5])==MAP_CONTROL_COMPUTER)and(GetUnitTypeId(M7[GetPlayerId(A7[O5])])==1160786265))then
call GroupClear(jU)
call GroupEnumUnitsOfPlayer(jU,A7[O5],A07)
call ForGroup(jU,function R9F)
endif
set O5=O5+1
endloop
set jU=null
set A07=null
endfunction
function REF takes nothing returns boolean
return((GetLearnedSkill()==1093685840)and(not IsUnitIllusion(GetTriggerUnit()))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function RFF takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="RFF"
call DisableTrigger(GetTriggeringTrigger())
call TriggerRegisterTimerEventPeriodic(t,1.50)
call TriggerAddAction(t,function RDF)
set Hc=Location(0.,0.)
call TS7(GetHandleId(t),"MGrp",CreateGroup())
call TX7(GetHandleId(t),"MFilt",Condition(function R8F))
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function T48 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="T48"
call ky(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function REF))
call TriggerAddAction(t,function RFF)
endfunction
function RGF takes unit PU7 returns location
call MoveLocation(HA,(LoadReal(L7,(GetHandleId(PU7)),(7400))),(LoadReal(L7,(GetHandleId(PU7)),(7500))))
return HA
endfunction
function RHF takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(R37(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))))then
call RGF(GetFilterUnit())
return((Q07(GetLocationX(HA),GetLocationY(HA),GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit())))>3000.)
endif
return false
endfunction
function RIF takes nothing returns nothing
local unit RJF=GetTriggerUnit()
local player pl=GetOwningPlayer(RJF)
local integer O5=GetPlayerId(GetOwningPlayer(RJF))
local integer UP=0
set EZ7="RIF"
call SetPlayerAbilityAvailable(pl,1093687351,false)
call SetPlayerAbilityAvailable(pl,1093748789,false)
set h4[80+GetPlayerId(pl)]=null
if(h4[288+O5]==null)then
set h4[288+O5]=ZN7(1500.,RJF)
endif
if(R17(RJF))then
call SY7(RJF,851986,h9[O5])
elseif(h4[288+O5]!=null)then
call IssueTargetOrderById(RJF,851983,h4[288+O5])
set hq[512+O5]=Bz+5.+I2R(15*GetUnitAbilityLevel(RJF,1093679445))
else
call SY7(RJF,851983,h8[O5])
set hq[512+O5]=Bz+5.+I2R(15*GetUnitAbilityLevel(RJF,1093679445))
endif
loop
call QA7(0.5)
exitwhen(GetUnitAbilityLevel(RJF,1110454347)==0)
if(not G0[128+O5])then
set h4[288+O5]=null
elseif((h4[288+O5]==null)or(not R37(h4[288+O5]))or(V67(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],pl))))then
set h4[288+O5]=ZN7(1500.,RJF)
endif
if((R17(RJF))or(not G0[128+O5])or(G0[64+O5])or(G0[O5]))then
call SY7(RJF,851986,h9[O5])
elseif(h4[288+O5]!=null)then
call IssueTargetOrderById(RJF,851983,h4[288+O5])
else
call J3(RJF,true)
endif
endloop
if((h4[288+O5]!=null)and(R37(h4[288+O5]))and(IsUnitInRange(RJF,h4[288+O5],1200.)))then
call LSE(O5,h4[288+O5],false,false)
endif
call SetPlayerAbilityAvailable(pl,1093687351,true)
set hq[512+O5]=Bz+3.
set h4[288+O5]=null
set RJF=null
set pl=null
endfunction
function RKF takes nothing returns boolean
return((WE7())and(GetUnitAbilityLevel(GetFilterUnit(),1113812327)==0))
endfunction
function RMF takes nothing returns boolean
return((k3())and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE))and(GetUnitAbilityLevel(GetFilterUnit(),1113812327)==0))
endfunction
function RNF takes nothing returns nothing
local unit RJF=GetTriggerUnit()
local unit ROF=null
local integer O5=GetPlayerId(GetOwningPlayer(RJF))
local real kl
set EZ7="RNF"
if(R17(RJF))then
call SY7(RJF,851986,h9[O5])
elseif(h4[288+O5]!=null)then
call SY7(RJF,851971,h4[288+O5])
set hq[512+O5]=Bz+5.
else
call SY7(RJF,851983,h8[O5])
set hq[512+O5]=Bz+5.
endif
loop
call QA7(0.3)
exitwhen(GetUnitAbilityLevel(RJF,1112041075)==0)
if(not G0[128+O5])then
set h4[288+O5]=null
elseif((h4[288+O5]==null)or(not R37(h4[288+O5]))or(V67(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],GetOwningPlayer(RJF)))))then
set h4[288+O5]=S77(1000.,SX7(RJF),Condition(function RKF))
endif
if((h4[288+O5]!=null)and(SE7(800.,h4[288+O5],Condition(function WO7))>0)and((not R17(h4[288+O5]))or(not IsUnitInRange(h4[288+O5],RJF,400.))))then
set h4[288+O5]=null
endif
if((R17(RJF))or(G0[O5])or(not G0[128+O5])or(G0[64+O5]))then
call SY7(RJF,851986,h9[O5])
elseif(h4[288+O5]!=null)then
set ROF=null
if(GetUnitAbilityLevel(h4[288+O5],1113812327)==0)then
set kl=Atan2(GetUnitY(h4[288+O5])-GetUnitY(RJF),GetUnitX(h4[288+O5])-GetUnitX(RJF))
call IssuePointOrderById(RJF,851971,GetUnitX(h4[288+O5])+250.*Cos(kl),GetUnitY(h4[288+O5])+250.*Sin(kl))
elseif(GetUnitAbilityLevel(h4[288+O5],1113812327)>0)then
if((GetUnitLifePercent(h4[288+O5])<45.)or((GetHeroLevel(RJF)>10)and(h4[O5]==h4[288+O5])and(GetUnitLifePercent(h4[288+O5])<65.)))then
if(IsUnitInRange(RJF,h4[288+O5],200.))then
call UnitRemoveAbility(RJF,1112041075)
call IssueTargetOrderById(RJF,851983,h4[288+O5])
else
set kl=Atan2(GetUnitY(h4[288+O5])-GetUnitY(RJF),GetUnitX(h4[288+O5])-GetUnitX(RJF))
call IssuePointOrderById(RJF,851971,GetUnitX(h4[288+O5])+250.*Cos(kl),GetUnitY(h4[288+O5])+250.*Sin(kl))
endif
else
set h4[288+O5]=null
endif
endif
else
if((ROF!=null)and(GetUnitAbilityLevel(ROF,1113812327)>0))then
set ROF=null
endif
if((ROF==null)and(GetHeroLevel(RJF)>10)and(SE7(800.,RJF,Condition(function WE7))<=1))then
set ROF=S97(600.,SX7(RJF),Condition(function RMF))
endif
if(ROF!=null)then
call IssuePointOrderById(RJF,851986,GetUnitX(ROF),GetUnitY(ROF))
else
call SY7(RJF,851986,h9[O5])
endif
endif
endloop
set hq[512+O5]=Bz+3.
set h4[288+O5]=null
set RJF=null
set ROF=null
endfunction
function RPF takes nothing returns nothing
local unit RJF=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(RJF))
local real A17
local boolean J4
set EZ7="RPF"
if(GetUnitTypeId(RJF)==1315334514)then
set A17=150.
elseif(GetUnitTypeId(RJF)==1162032439)then
set A17=350.
endif
set h4[288+O5]=ZN7(1500.,RJF)
if(h4[288+O5]!=null)then
call IssuePointOrderById(RJF,851971,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)
else
call SY7(RJF,851983,h8[O5])
endif
set hq[512+O5]=Bz+30.
loop
call QA7(0.4)
exitwhen((GetUnitAbilityLevel(RJF,1110456148)==0)or(R17(RJF)))
if((h4[288+O5]!=null)and(IsUnitInRange(h4[288+O5],RJF,A17)))then
if(GetUnitTypeId(RJF)==1315334514)then
if(GetUnitCurrentOrder(RJF)!=852273)then
call SL7(RJF,852273,1093810506)
endif
else
call SetPlayerAbilityAvailable(GetOwningPlayer(RJF),1093681462,true)
set GZ[O5]=true
call J8(O5,SL7(RJF,852594,1093677363))
endif
elseif(RY7(RJF))then
set J4=(G0[O5])or(G0[64+O5])or(not G0[128+O5])
if((h4[288+O5]!=null)and((J4)or(not R37(h4[288+O5]))or(V67(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],GetOwningPlayer(RJF))))))then
set h4[288+O5]=null
call SY7(RJF,851986,h9[O5])
endif
if((h4[288+O5]==null)and(not J4))then
set h4[288+O5]=ZN7(1200.,RJF)
endif
if((h4[288+O5]!=null)and(not J4)and(not R17(RJF)))then
call IssuePointOrderById(RJF,851971,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)
elseif((R17(RJF))or(J4))then
call SY7(RJF,851986,h9[O5])
endif
endif
endloop
set hq[512+O5]=Bz+3.
set h4[288+O5]=null
set GZ[272+O5]=false
set RJF=null
endfunction
function RQF takes nothing returns nothing
local unit RJF=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(RJF))
local integer RRF
local integer UP
set EZ7="RQF"
if(R17(RJF))then
call SY7(RJF,851986,h9[O5])
set RJF=null
return
endif
if(GetUnitTypeId(RJF)==1315007329)then
set RRF=1110455864
call SetPlayerAbilityAvailable(GetOwningPlayer(RJF),1093677108,false)
elseif(GetUnitTypeId(RJF)==1160785972)then
set RRF=1110456118
else
set RRF=1110456148
endif
set h4[288+O5]=ZN7(1500.,RJF)
if(h4[288+O5]!=null)then
call IssueTargetOrderById(RJF,851983,h4[288+O5])
else
call J3(RJF,true)
endif
set hq[512+O5]=Bz+30.
loop
call QA7(0.5)
exitwhen((GetUnitAbilityLevel(RJF,RRF)==0)or(R17(RJF)))
if((h4[288+O5]!=null)and((G0[O5])or(G0[64+O5])or(not G0[128+O5])or(not R37(h4[288+O5]))or(V67(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],GetOwningPlayer(RJF))))))then
set h4[288+O5]=null
call SY7(RJF,851986,h9[O5])
endif
if((h4[288+O5]!=null)and(not R17(RJF)))then
if((RRF!=1110455864)and(IsUnitInRange(RJF,h4[288+O5],300.)))then
call UnitRemoveAbility(RJF,RRF)
set GZ[O5]=true
if((GetUnitTypeId(RJF)!=1160785972)or(not SL7(RJF,852100,1093677872)))then
call IssueTargetOrderById(RJF,851983,h4[288+O5])
endif
set GZ[O5]=false
elseif(RRF==1110455864)then
call IssueTargetOrderById(RJF,851983,h4[288+O5])
else
call IssuePointOrderById(RJF,851971,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)
endif
elseif((h4[288+O5]==null)and(not R17(RJF))and(not G0[O5])and(not G0[64+O5])and(G0[128+O5]))then
set h4[288+O5]=ZN7(1500.,RJF)
if(h4[288+O5]!=null)then
call IssuePointOrderById(RJF,851971,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)
endif
else
call SY7(RJF,851986,h9[O5])
endif
endloop
if(GetTriggerEventId()==EVENT_PLAYER_UNIT_USE_ITEM)then
set GZ[272+O5]=false
endif
set hq[512+O5]=Bz+3.
set h4[288+O5]=null
set RJF=null
endfunction
function RSF takes nothing returns boolean
return((GetSpellAbilityId()==1093677391)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function RTF takes nothing returns nothing
local unit j5=GetTriggerUnit()
set EZ7="RTF"
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)
call QA7(0.5)
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)
call QA7(0.0)
call J3(j5,false)
call QA7(1.)
if(Q17(j5,S57(j5))<1500.)then
set h9[GetPlayerId(GetOwningPlayer(j5))]=S57(j5)
call VN7(j5,true)
else
call B87(j5)
endif
set j5=null
endfunction
function po takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="po"
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function RSF))
call TriggerAddAction(t,function RTF)
endfunction
function RUF takes nothing returns boolean
return((GetSpellAbilityId()==1093682764)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function RVF takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local unit j5=GetTriggerUnit()
local player pl=GetOwningPlayer(j5)
local real RWF=0.
set EZ7="RVF"
call SetPlayerController(pl,MAP_CONTROL_NONE)
call NTF(j5,m5)
set RWF=Bz
loop
call QA7(0.5)
exitwhen((GetUnitAbilityLevel(m5,1110455113)==0)or(IsUnitDeadBJ(m5))or(IsUnitDeadBJ(j5)))
endloop
call SetPlayerController(pl,MAP_CONTROL_COMPUTER)
set hq[GetPlayerId(pl)]=Bz+30.
if((IsUnitAliveBJ(m5))and(not R17(j5)))then
call IssueTargetOrderById(j5,851983,m5)
else
call J3(j5,false)
endif
set m5=null
set j5=null
set pl=null
endfunction
function QH8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QH8"
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function RUF))
call TriggerAddAction(t,function RVF)
endfunction
function RXF takes nothing returns boolean
return((GetSpellAbilityId()==1093677649 or GetSpellAbilityId()==1093747769)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function RYF takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local unit j5=GetTriggerUnit()
local player pl=GetOwningPlayer(j5)
local real RWF=0.
set EZ7="RYF"
call SetPlayerController(pl,MAP_CONTROL_NONE)
call NTF(j5,m5)
set RWF=Bz
loop
call QA7(0.5)
exitwhen((GetUnitAbilityLevel(m5,1110455362)==0)or(IsUnitDeadBJ(m5))or(IsUnitDeadBJ(j5)))
endloop
call SetPlayerController(pl,MAP_CONTROL_COMPUTER)
set hq[GetPlayerId(pl)]=Bz+120.
if((not IsUnitDeadBJ(m5))and(not R17(j5))and(not SZ7(j5,852119,1093683019,m5)))then
call IssueTargetOrderById(j5,851983,m5)
else
call J3(j5,false)
endif
set m5=null
set j5=null
set pl=null
endfunction
function O08 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="O08"
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function RXF))
call TriggerAddAction(t,function RYF)
endfunction
function RZF takes nothing returns boolean
return((GetSpellAbilityId()==1093747288)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function RAF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=null
local player pl=GetOwningPlayer(j5)
local real RWF=0.
set EZ7="RAF"
call SetPlayerController(pl,MAP_CONTROL_NONE)
set RWF=Bz
set m5=K2(400.,HC[GetPlayerId(pl)])
if(m5!=null)then
call NTF(j5,m5)
endif
loop
call QA7(0.5)
exitwhen((GetUnitCurrentOrder(j5)!=OrderId("cannibalize"))or(IsUnitDeadBJ(j5)))
endloop
call SetPlayerController(pl,MAP_CONTROL_COMPUTER)
set hq[GetPlayerId(pl)]=Bz+210.-(GetUnitAbilityLevel(j5,1093747288)*10.)
call J3(j5,false)
set j5=null
set m5=null
set pl=null
endfunction
function M28 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="M28"
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function RZF))
call TriggerAddAction(t,function RAF)
endfunction
function RBF takes nothing returns boolean
return((GetSpellAbilityId()==1093678160)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function RCF takes nothing returns nothing
local unit j5=GetTriggerUnit()
set EZ7="RCF"
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)
call QA7(0.5)
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)
call QA7(0.0)
if(GetSpellTargetUnit()!=null)then
call NTF(j5,GetSpellTargetUnit())
endif
set j5=null
endfunction
function PV takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PV"
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function RBF))
call TriggerAddAction(t,function RCF)
endfunction
function R3F takes nothing returns boolean
return((GetSpellAbilityId()==1093684561 or GetSpellAbilityId()==1093747254)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function R6F takes unit it,integer O5 returns nothing
if(Q17(h9[O5],it)<400.)then
set h8[O5]=h9[O5]
set h9[O5]=S57(it)
elseif(Q17(h8[O5],it)<400.)then
set h9[O5]=h8[O5]
if(IsUnitAlly(it,Z7[0]))then
set h8[O5]=h7[18]
else
set h8[O5]=h7[118]
endif
endif
endfunction
function RLF takes unit it,integer O5,boolean J4 returns nothing
local unit m5=null
set EZ7="wcv"
if(not J4)then
if((eY[O5]!=3)and(eY[O5]!=4))then
call SY7(it,851983,h8[O5])
else
set m5=S77(1200.,SX7(it),Condition(function k8))
set J4=((m5!=null)and(IssuePointOrderById(it,851983,GetUnitX(m5),GetUnitY(m5))))or(SY7(it,851983,h8[O5]))
endif
endif
set m5=null
endfunction
function R1F takes nothing returns nothing
local unit j5=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(j5))
set EZ7="R1F"
set GZ[O5]=false
set GZ[272+O5]=R17(j5)
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)
call QA7(0.5)
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)
call QA7(1.5)
set h8[512+O5]=h8[16+O5]
set h9[512+O5]=h9[16+O5]
set h8[528+O5]=h8[16+O5]
set h9[528+O5]=h9[16+O5]
loop
exitwhen(not IsUnitHidden(j5))
call QA7(1.)
endloop
if(R37(j5))then
call B87(j5)
endif
set j5=null
endfunction
function VM8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="VM8"
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function R3F))
call TriggerAddAction(t,function R1F)
endfunction
function R0F takes nothing returns boolean
local integer X5=GetIssuedOrderId()
local integer i=GetUnitTypeId(GetTriggerUnit())
set EZ7="R0F"
if(X5!=852557)and(X5!=851985)and(X5!=852558)and(not IsUnitInRange(GetTriggerUnit(),M7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))],50.))then
if i==1966092359 or i==1966092361 then
call DisableTrigger(GetTriggeringTrigger())
call IssueImmediateOrderById(GetTriggerUnit(),852557)
call EnableTrigger(GetTriggeringTrigger())
endif
endif
return false
endfunction
function aiExorcismFilter takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1966092359 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(bj_lastLoadedUnit))
endfunction
function R5F takes nothing returns nothing
local unit P67=GetEnumUnit()
local player pl=GetOwningPlayer(P67)
local trigger t=T07(GetHandleId(pl),"ExorTrig")
local integer i=GetUnitCurrentOrder(P67)
if Q17(P67,bj_lastLoadedUnit)>750. then
call DisableTrigger(t)
call IssuePointOrderById(P67,851986,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit))
call EnableTrigger(t)
elseif((i==0)or(i==851986 and Q17(P67,bj_lastLoadedUnit)<450.))then
call IssueImmediateOrderById(P67,852557)
endif
set P67=null
set t=null
set pl=null
endfunction
function R2F takes nothing returns nothing
local unit P67=GetEnumUnit()
local player pl=GetOwningPlayer(P67)
local trigger t=T07(GetHandleId(pl),"NAttTrig")
local integer i=GetUnitCurrentOrder(P67)
if Q17(P67,bj_lastLoadedUnit)>350. then
call DisableTrigger(t)
call IssuePointOrderById(P67,851986,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit))
call EnableTrigger(t)
elseif((i==0)or(i==851986 and Q17(P67,bj_lastLoadedUnit)<200.))then
call IssueImmediateOrderById(P67,852557)
endif
set P67=null
set t=null
set pl=null
endfunction
function R_F takes nothing returns nothing
local unit j5=GetTriggerUnit()
local player pl=GetOwningPlayer(j5)
local real KRF=Bz+29.5
local trigger t=T07(GetHandleId(pl),"ExorTrig")
local integer S4F=GetSpellAbilityId()
local group S7F=T57(GetHandleId(pl),"ExorG")
set EZ7="R_F"
set hq[GetPlayerId(pl)]=Bz+120.
call RemoveGuardPosition(j5)
if(t==null)then
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,pl,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,null)
call TriggerRegisterPlayerUnitEvent(t,pl,EVENT_PLAYER_UNIT_ISSUED_ORDER,null)
call TriggerRegisterPlayerUnitEvent(t,pl,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,null)
call TriggerAddCondition(t,Condition(function R0F))
call TM7(GetHandleId(pl),"ExorTrig",t)
set S7F=CreateGroup()
call TS7(GetHandleId(pl),"ExorG",S7F)
else
call EnableTrigger(t)
call GroupClear(S7F)
endif
loop
call TriggerSleepAction(0.5)
if((iU(j5))and(GetUnitCurrentOrder(j5)!=851983)and(SE7(750.,j5,Condition(function k0))==0)and(not R17(j5))and((GetUnitLifePercent(j5)>90.)or(not G0[GetPlayerId(GetOwningPlayer(j5))])))then
call SY7(j5,851983,h8[GetPlayerId(GetOwningPlayer(j5))])
endif
exitwhen((Bz>KRF)or(not R37(j5)))
set bj_lastLoadedUnit=j5
call ForGroup(S7F,function R5F)
endloop
call DisableTrigger(t)
set t=null
set j5=null
endfunction
function S8F takes nothing returns nothing
local unit j5=GetTriggerUnit()
local player pl=GetOwningPlayer(j5)
local real KRF=Bz+9.5
local trigger t=T07(GetHandleId(pl),"NAttTrig")
local integer S4F=GetSpellAbilityId()
local group S7F=T57(GetHandleId(pl),"NAttG")
set EZ7="S8F"
call RemoveGuardPosition(j5)
if(t==null)then
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(j5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,null)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(j5),EVENT_PLAYER_UNIT_ISSUED_ORDER,null)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(j5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,null)
call TriggerAddCondition(t,Condition(function R0F))
call TM7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"NAttTrig",t)
set S7F=CreateGroup()
call TS7(GetHandleId(pl),"NAttG",S7F)
else
call EnableTrigger(t)
call GroupClear(S7F)
endif
loop
call TriggerSleepAction(0.3)
exitwhen((Bz>KRF)or(not R37(j5)))
set bj_lastLoadedUnit=j5
call ForGroup(S7F,function R2F)
endloop
call DisableTrigger(t)
set t=null
set j5=null
endfunction
function S9F takes nothing returns boolean
return((GetSpellAbilityId()==1093685846)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function SDF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=null
local real KRF=Bz+.5
local integer O5=GetPlayerId(GetOwningPlayer(j5))
set EZ7="SDF"
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)
call TriggerSleepAction(0.01)
loop
if((h4[O5]!=null)and(R37(h4[O5]))and(IsUnitInRange(j5,h4[O5],145+(40*GetUnitAbilityLevel(j5,1093685839)))))then
set m5=h4[O5]
else
set m5=S97(I2R(145+(40*GetUnitAbilityLevel(j5,1093685839))),SX7(j5),Condition(function WE7))
endif
if(m5!=null)then
call UnitRemoveAbility(j5,1110456395)
call IssueTargetOrderById(j5,851983,m5)
endif
exitwhen((not G0[128+O5])or(GetUnitAbilityLevel(j5,1110456395)==0)or(not R37(j5))or(Bz>=KRF))
call QA7(.5)
endloop
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)
call J3(j5,false)
set j5=null
set m5=null
endfunction
function T78 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="T78"
call ky(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function S9F))
call TriggerAddAction(t,function SDF)
endfunction
function SEF takes nothing returns boolean
return((GetSpellAbilityId()==1093677402)and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetSpellTargetUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function SFF takes nothing returns nothing
local real IW
local real JD
local real Je
local integer O5=GetPlayerId(GetOwningPlayer(hr))
set EZ7="SFF"
if((GetDestructableTypeId(GetEnumDestructable())==1465152372)or(GetDestructableTypeId(GetEnumDestructable())==1230271587)or(GetDestructableTypeId(GetEnumDestructable())==1230271607)or(GetDestructableTypeId(GetEnumDestructable())==1314157687)or(GetDestructableTypeId(GetEnumDestructable())==1096053874))then
set JD=GetUnitX(h9[16+O5])
set Je=GetUnitY(h9[16+O5])
set IW=Q07(GetDestructableX(GetEnumDestructable()),GetDestructableY(GetEnumDestructable()),JD,Je)
if(((Q07(GetUnitX(hr),GetUnitY(hr),JD,Je)-150.)>IW)and((GetLocationX(HC[240+O5])==0.)or(((Q07(GetLocationX(HC[240+O5]),GetLocationY(HC[240+O5]),JD,Je)-150.)>IW))and(Q07(GetLocationX(HC[240+O5]),GetLocationY(HC[240+O5]),GetDestructableX(GetEnumDestructable()),GetDestructableY(GetEnumDestructable()))>250.)))then
call MoveLocation(HC[240+O5],GetDestructableX(GetEnumDestructable()),GetDestructableY(GetEnumDestructable()))
endif
endif
endfunction
function SGF takes nothing returns nothing
local unit SHF=GetSpellTargetUnit()
local integer O5=GetPlayerId(GetOwningPlayer(SHF))
local integer ki=GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))
local location SIF=null
set EZ7="SGF"
call QA7(0.5)
set GZ[272+O5]=false
if(HC[240+O5]==null)then
set HC[240+O5]=Location(0.,0.)
endif
loop
call SetRect(He,GetUnitX(SHF)-600.,GetUnitY(SHF)-600.,GetUnitX(SHF)+600.,GetUnitY(SHF)+600.)
set hr=SHF
call EnumDestructablesInRect(He,Q24,function SFF)
set SIF=HC[240+O5]
if(GetLocationX(SIF)!=0.)then
call IssuePointOrderByIdLoc(SHF,851986,SIF)
else
call SY7(SHF,851986,h9[O5])
endif
call QA7(0.8)
exitwhen((GetUnitAbilityLevel(SHF,1110454833)==0)or(GZ[272+O5])or((SE7(1200.,SHF,Condition(function WE7))==0)and(iy(SHF))))
if((GetLocationX(SIF)!=0.)and(IsUnitInRangeLoc(SHF,SIF,150.)))then
call MoveLocation(SIF,0.,0.)
endif
endloop
if(SIF!=null)then
call MoveLocation(SIF,0.,0.)
endif
set SIF=null
set SHF=null
endfunction
function Pr takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="Pr"
call ky(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SEF))
call TriggerAddAction(t,function SGF)
endfunction
function SJF takes real KHF,real KIF,boolean SKF returns boolean
local boolean J4=false
local unit SMF=null
local unit it=GetEnumUnit()
set EZ7="wKv"
if Q07(GetUnitX(it),GetUnitY(it),KHF,KIF)>3000 then
if(SKF)then
call VR7(it)
set J4=((GetUnitTypeId(it)==1164799603)and(IssuePointOrderById(it,852525,KHF,KIF)))or((GetUnitTypeId(it)==1311780946)and(((IsUnitAlly(it,Z7[0]))and(IssueTargetOrderById(it,852600,IZ4)))or((IsUnitAlly(it,A7[0]))and(IssueTargetOrderById(it,852600,JA4)))))
else
call MoveLocation(HB,KHF,KIF)
set SMF=S77(1200.,HB,Condition(function Kd))
if((SMF!=null)and(SE7(1000.,SMF,Condition(function Kd))>3)and(SE7(1200.,SMF,Condition(function k6))<2)and(Q17(SMF,S57(it))>4000.)and(kJ(GetUnitX(SMF),GetUnitY(SMF))))then
call VR7(it)
set J4=((GetUnitTypeId(it)==1164799603)and(IssuePointOrderById(it,852525,GetUnitX(SMF),GetUnitY(SMF))))or((GetUnitTypeId(it)==1311780946)and(IssueTargetOrderById(it,852600,SMF)))or((SG7(it,ZU[F6]))and(UnitUseItemTarget(it,bj_lastCreatedItem,SMF)))
endif
endif
endif
set SMF=null
set it=null
return J4
endfunction
function SNF takes integer SOF returns boolean
local unit u=GetEnumUnit()
local boolean J4=false
set EZ7="wmv"
if(SOF==0)then
if(IsUnitAlly(u,A7[0]))then
set J4=(SJF(Tm,Um,false))or(SJF(Jm,lm,false))or(SJF(cm,Cm,false))or(SJF(Zq,vQ,false))
else
set J4=(SJF(bQ,BQ,false))or(SJF(aQ,EQ,false))or(SJF(Zq,vQ,false))or(SJF(cm,Cm,false))
endif
elseif(SOF==1)then
if(IsUnitAlly(u,A7[0]))then
set J4=(SJF(-6240.,-3808.,false))or(SJF(-6112.,-1312.,false))or(SJF(-6112.,1504.,false))or(SJF(3169.,5920.,false))
else
set J4=(SJF(-4704.,5920.,false))or(SJF(32.,5856.,false))or(SJF(3169.,5920.,false))or(SJF(-6112.,1504.,false))
endif
elseif(SOF==2)then
if(IsUnitAlly(u,A7[0]))then
set J4=(SJF(-3424.,-6560.,false))or(SJF(-544.,-6688.,false))or(SJF(4960.,-6752.,false))or(SJF(6044.,2874.,false))
else
set J4=(SJF(6048.,-2080.,false))or(SJF(6112.,-96.,false))or(SJF(6044.,2874.,false))or(SJF(4960.,-6752.,false))
endif
elseif(SOF==3)then
set J4=SJF(GetUnitX(S57(u)),GetUnitY(S57(u)),true)
endif
set u=null
return J4
endfunction
function SPF takes unit it returns integer
if(GetUnitAbilityLevel(it,1093810259)==0)then
return 150+(150*GetUnitAbilityLevel(it,1093810258))
else
return 160+(180*GetUnitAbilityLevel(it,1093810259))
endif
endfunction
function SQF takes unit it returns integer
local integer kt=GetHeroLevel(it)
set EZ7="wPv"
if(D4 or RZ4)then
return(45*kt)
elseif(hG[GetPlayerId(GetOwningPlayer(it))]<5)then
return(30*kt)
elseif(hG[GetPlayerId(GetOwningPlayer(it))]<11)then
return(40*kt)
elseif(hG[GetPlayerId(GetOwningPlayer(it))]<15)then
return(55*kt)
else
return(70*kt)
endif
endfunction
function SRF takes unit it returns integer
local integer kc=GetUnitAbilityLevel(it,1093684565)
set EZ7="wqv"
if((kc==0)and(GetUnitAbilityLevel(it,1093681458)>0))then
return GetUnitAbilityLevel(it,1093681458)
endif
return kc
endfunction
function SSF takes unit it returns integer
if(GetUnitAbilityLevel(it,1093679447)==0)then
return 236+(150*GetUnitAbilityLevel(it,1093679413))
else
return 350+(150*GetUnitAbilityLevel(it,1093679447))
endif
endfunction
function STF takes unit it returns integer
if(GetUnitAbilityLevel(it,1093679450)==0)then
return 236+(150*GetUnitAbilityLevel(it,1093677392))
else
return 332+(150*GetUnitAbilityLevel(it,1093679450))
endif
endfunction
function SUF takes unit it returns real
if((it==JH4)or(it==JK4)or(it==JO4)or(it==JR4)or(it==JQ4)or(it==JI4))then
return 50.
elseif((it==JG4)or(it==JJ4)or(it==JN4))then
return 100.
elseif((it==JM4)or(it==JP4))then
return 10.
elseif((it==J54)or(it==K44)or(it==K84)or(it==K94))then
return 230.
elseif((it==J14)or(it==J24)or(it==K74))then
return 270.
elseif(it==J_4)then
return 150.
else
return 180.
endif
endfunction
function SVF takes unit it returns real
local real SWF=D28(UD7(GetHandleId(it),"TLLife1"),1.)-GetUnitState(it,UNIT_STATE_LIFE)
local real SXF=GetUnitState(it,UNIT_STATE_MAX_LIFE)
set EZ7="wtv"
if(SXF==0)then
return 0.00
else
return(SWF/SXF)*100.0
endif
endfunction
function SYF takes unit it,real PNF,integer X5,integer o6 returns boolean
call MoveLocation(Ha,GetUnitX(it)+PNF*Cos(GetUnitFacing(it)*bj_DEGTORAD),GetUnitY(it)+PNF*Sin(GetUnitFacing(it)*bj_DEGTORAD))
return((SD7(260.,Ha,Condition(function k6))>0)and(SL7(it,X5,o6)))
endfunction
function SZF takes unit it,real PNF,boolexpr Ig returns boolean
call MoveLocation(Ha,GetUnitX(it)+PNF*Cos(GetUnitFacing(it)*bj_DEGTORAD),GetUnitY(it)+PNF*Sin(GetUnitFacing(it)*bj_DEGTORAD))
return SD7(260.,Ha,Ig)>0
endfunction
function SAF takes unit j5,unit m5 returns boolean
local integer I8=0
local item ja
local boolean jR=false
set EZ7="AIUseDagonOrdinary"
loop
set ja=UnitItemInSlot(j5,I8)
if((ja!=null)and(V_7(GetItemTypeId(ja))))then
set jR=UnitUseItemTarget(j5,ja,m5)
set I8=bj_MAX_INVENTORY
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set ja=null
return jR
endfunction
function SBF takes unit it returns boolean
local integer I8=0
local item ja
set EZ7="w_v"
loop
set ja=UnitItemInSlot(it,I8)
if((ja!=null)and(ks(GetItemTypeId(ja))))then
set ja=null
return true
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set ja=null
return false
endfunction
function SCF takes unit j5 returns boolean
local integer I8=0
local item ja
local boolean jR=false
set EZ7="w0v"
loop
set ja=UnitItemInSlot(j5,I8)
if((ja!=null)and(ks(GetItemTypeId(ja))))then
set GZ[224+GetPlayerId(GetOwningPlayer(j5))]=true
set jR=UnitUseItem(j5,ja)
set GZ[224+GetPlayerId(GetOwningPlayer(j5))]=false
set I8=bj_MAX_INVENTORY
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set ja=null
return jR
endfunction
function S3F takes unit j5,unit m5 returns boolean
local integer I8=0
local item ja=null
local location S6F=null
local boolean jR=false
set EZ7="w1v"
if(V67(m5))then
return false
endif
loop
set ja=UnitItemInSlot(j5,I8)
if((ja!=null)and(GetItemTypeId(ja)==ZU[RW]))then
set S6F=kL(j5,m5,100.)
if(S6F!=null)then
set jR=UnitUseItemPointLoc(j5,ja,S6F)
if((jR)and(hq[512+GetPlayerId(GetOwningPlayer(j5))]<Bz))then
set hq[512+GetPlayerId(GetOwningPlayer(j5))]=Bz+1.
endif
endif
set I8=bj_MAX_INVENTORY
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set S6F=null
set ja=null
return jR
endfunction
function SLF takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))then
return(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<=EJ7)
endif
return false
endfunction
function S1F takes unit it,unit m5 returns nothing
if((it!=null)and(it!=GetTriggerUnit())and(is(it))and(IsUnitInRange(it,GetTriggerUnit(),1200.))and(GetUnitLifePercent(it)>50.))then
if(not IssuePointOrderById(it,852553,GetUnitX(m5)+5.,GetUnitY(m5)+5.))then
call IssueTargetOrderById(it,851983,m5)
endif
endif
endfunction
function S0F takes unit it,unit m5 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
set EZ7="w5v"
if(hq[240+O5]<Bz)then
set GZ[O5]=true
if(LM7(it,m5,30/0.035,0,(GetUnitAbilityLevel(it,1093684802)+1)*250)!=null)and(J8(O5,SA7(it,852089,1093684802,GO7)))then
set hq[240+O5]=Bz+1.5
return true
endif
endif
return false
endfunction
function S5F takes nothing returns nothing
call B87(GetEnumUnit())
endfunction
function S2F takes unit it,unit m5 returns boolean
local integer i1=GetUnitTypeId(it)
local integer O5=GetPlayerId(GetOwningPlayer(it))
local boolean J4=false
set EZ7="AI_Harass"
if(i1==1211117653)then
set J4=((Bz>TC4[16+O5])and A67(it,LP4,LP4,LP4,1093686874)and(SZ7(it,852505,1093686874,m5)))or(((GetUnitState(it,UNIT_STATE_MANA))>400)and(Bz>TC4[112+O5])and A67(it,LP4,LQ4,LR4,1093686861)and IssuePointOrderById(it,852215,GetUnitX(m5),GetUnitY(m5)))
elseif(i1==1160786505)then
set J4=(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))
elseif(i1==1160785970)then
set J4=(IsUnitInRange(it,m5,650.))and(GetUnitManaPercent(it)>60.)and(Bz>TC4[16+O5])and(SL7(it,852526,1093748023))
elseif(i1==1160786506)then
set J4=(IsUnitInRange(it,m5,795.))and(GetUnitAbilityLevel(it,1093751894)<3)and(GetUnitManaPercent(it)>70.)and(IssueTargetOrderById(it,852095,m5))
if(not J4)then
set J4=(IsUnitInRange(it,m5,795.))and(GetUnitAbilityLevel(it,1093752118)>0)and(GetUnitAbilityLevel(it,1093751894)>=3)and(((Bz>TC4[48+O5])and(GetUnitManaPercent(it)>55.)and(QU7(O5,it,1093751894,1093751637))and(IssueTargetOrderById(it,852095,m5)))or((GetUnitManaPercent(it)>20.)and(IssueTargetOrderById(it,852095,ZN7(795.,it)))))
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
set J4=SZ7(it,852119,1093682994,m5)
elseif(i1==1429221424)then
set J4=(SZ7(it,852555,1093687351,m5))or(SZ7(it,OrderId("creepheal"),1093748789,m5))
elseif(i1==1430466609)then
set J4=SZ7(it,852527,1093685559,m5)
elseif(i1==1162032439)then
set J4=SZ7(it,OrderId("volcano"),1093744435,m5)
elseif(i1==1165451634)then
set J4=SZ7(it,OrderId("acidbomb"),1093687629,m5)
elseif(i1==1433168227)then
set J4=SZ7(it,852226,1093678918,m5)
elseif(i1==1430466865)then
set J4=SZ7(it,852125,1093677651,m5)
elseif(i1==1432642913)then
set J4=IssueTargetOrderById(it,852662,m5)
elseif(i1==1429221445)then
set J4=(IsUnitInRange(it,m5,400.))and(SL7(it,852526,1093678422))
elseif(i1==1332963428)then
set J4=SZ7(it,852119,1093683019,m5)
elseif(i1==1332109682)then
set J4=SZ7(it,852662,1093678134,m5)
elseif(i1==1211117640)then
set J4=(IsUnitInRange(it,m5,500.))and(IssueTargetOrderById(it,852089,m5))
elseif(i1==1430468406)then
set J4=SZ7(it,852218,kT(it),m5)
elseif(i1==1215063922)then
set J4=(SZ7(it,852580,1093677894,m5))or(SZ7(it,852095,1093681490,m5))
elseif(i1==1160786242)then
set J4=IssueTargetOrderById(it,852662,m5)
elseif(i1==1311780946)then
set J4=SZ7(it,852238,1093677385,m5)
elseif((i1==1211117650)or(i1==1211119433))then
set IN4=it
set J4=(SE7(1000.,it,Condition(function ny))>3)and(IssueTargetOrderById(it,852699,m5))
elseif(i1==1211117646)then
set J4=SZ7(it,852238,1093685573,m5)
elseif(i1==1211117624)then
set J4=(IsUnitInRange(it,m5,400.))and(SL7(it,852526,1093683024))
elseif(i1==1211117616)then
set J4=((IsUnitInRange(it,m5,200.))and(SL7(it,852127,1093677139)))or(SZ7(it,852231,1093816142,m5))
elseif(i1==1433631084)then
set J4=IssueTargetOrderById(it,852089,m5)
elseif(i1==1332898670)then
set J4=SZ7(it,852587,1093677360,m5)
elseif(i1==1215128178)then
set J4=(SZ7(it,852095,1093683779,m5))or(SZ7(it,852119,1093677616,m5))
elseif(i1==1316252014)then
set J4=(SL7(it,852526,1093678405))or(SZ7(it,852585,1093678137,m5))
elseif(i1==1328558160)then
set J4=(SZ7(it,852218,1093682766,m5))or(IssueTargetOrderById(it,852662,m5))
elseif(i1==1214931305)then
set J4=SZ7(it,OrderId("blizzard"),1093748025,m5)
elseif(i1==1211117633)then
set J4=SZ7(it,852095,1093684310,m5)
elseif(i1==1211117620)then
set J4=(SZ7(it,852125,1093677382,m5))or(SA7(it,852232,1093677623,LO7(it,m5,.95,600.)))
elseif(i1==1311781185)then
set J4=IssueTargetOrderById(it,852662,m5)
elseif(i1==1160786000)then
set J4=SZ7(it,852218,1093685047,m5)
elseif(i1==1311781206)then
set J4=(IsUnitInRange(it,m5,500.))and(IssueImmediateOrderById(it,852600))
elseif(i1==1311780930)then
set J4=((IsUnitInRange(it,m5,350.))and(IssueImmediateOrderById(it,852600)))or(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))
elseif(i1==1311781174)then
set J4=SZ7(it,852218,1093808461,m5)
elseif(i1==1311781175 or i1==1311781442)then
set J4=(IsUnitInRange(it,m5,400.)and(SL7(it,852096,1093808462)))
elseif(i1==1160786520)then
set J4=SZ7(it,852184,1093809991,m5)
else
set J4=LNE(it,m5,true)
endif
return J4
endfunction
function S_F takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
set EZ7="S_F"
if((G0[32+O5])or(not G0[128+O5])or(G0[O5]))then
elseif(h4[O5]==null)then
call LSE(O5,hz,false,false)
if(RY7(GetEnumUnit()))then
call S2F(GetEnumUnit(),hz)
endif
elseif(RY7(GetEnumUnit()))then
call S2F(GetEnumUnit(),hz)
endif
endfunction
function T4F takes unit PGF,unit PHF returns nothing
set hZ=PGF
set hz=PHF
if(GetWidgetLife(PHF)>1.)then
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(PGF),GetUnitY(PGF),1200.,iP)
call ForGroup(iA,function S_F)
endif
endfunction
function T7F takes unit IB,unit m5,boolean T8F returns nothing
set EZ7="(WVv)"+EZ7
if((m5==null)or(not R37(m5))or(not IsUnitType(m5,UNIT_TYPE_HERO))or(IsUnitAlly(m5,GetOwningPlayer(IB))))then
return
endif
set h4[GetPlayerId(GetOwningPlayer(IB))]=m5
call NTF(IB,m5)
if((not IsUnitInForce(IB,QX4))or(not RY7(IB)))then
elseif((T8F)and(G0[128+GetPlayerId(GetOwningPlayer(IB))])and((not R17(IB))or(R17(m5))))then
call IssueTargetOrderById(IB,851983,m5)
elseif((R17(IB))and(not R_7(m5,IB)))then
call SY7(IB,851986,h9[GetPlayerId(GetOwningPlayer(IB))])
endif
endfunction
function T9F takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=null
local integer O5=GetPlayerId(GetOwningPlayer(j5))
local real TDF=Bz
local real QL7=Bz+4.5
local real TEF=Bz+7.5
local real IVF=775
local boolean SQ7=false
local boolean TFF=AK7(Player(O5))
local real TGF=(80.+70.*GetUnitAbilityLevel(j5,1093750345))/5.
set EZ7="T9F"
set hq[O5]=Bz+120.
if TFF then
call UM7(j5,"AlcheBrew")
if h4[O5]!=null then
set IVF=Q17(j5,h4[O5])
endif
endif
loop
call TriggerSleepAction(0.1)
if TFF then
if h4[O5]!=null then
if(not IsUnitInRange(j5,h4[O5],600.))then
exitwhen true
elseif(GetWidgetLife(h4[O5])<TGF*(Bz-TDF)*0.7)then
exitwhen true
endif
else
set bj_lastLoadedUnit=j5
if SE7(600.,j5,Condition(function WG7))==0 then
exitwhen true
endif
endif
endif
exitwhen((not R37(j5))or(Bz>QL7))
endloop
call PFF(j5,j5)
if not AK7(Player(O5))then
set j5=null
return
endif
if(R37(j5))then
set m5=h4[O5]
if(m5==null)or(not R37(m5))or(not IsUnitInRange(m5,j5,750.))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))then
set m5=ZO7(775.,j5)
endif
loop
exitwhen(Bz>TEF)
if(m5==null)or(not R37(m5))or(not IsUnitInRange(m5,j5,750.))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))then
set m5=ZO7(775.,j5)
endif
if m5!=null and((GetWidgetLife(m5)<TGF*((Bz-TDF)/5)*0.7)or(Bz>QL7))and IssueTargetOrderById(j5,852600,m5)then
call LSE(O5,m5,false,false)
exitwhen true
endif
if m5==null and SQ7==false and Bz+2.>=TEF then
call LPE(j5,true)
set SQ7=true
endif
call TriggerSleepAction(0.25)
endloop
endif
call UO7(j5,"AlcheBrew")
set j5=null
set m5=null
endfunction
function THF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PQ7=GetHandleId(t)
local unit it=LoadUnitHandle(L7,PQ7,1397899609)
local integer O5=LoadInteger(L7,PQ7,1397899609)
local real XH7
local boolean TIF=false
if GetTriggerEvalCount(t)>=15 then
call UQ7(t)
call FlushChildHashtable(L7,PQ7)
else
if h4[O5]==null then
if h4[O5]==null then
endif
endif
set XH7=Q17(h4[O5],it)
if h4[O5]==null or(not IsUnitInRange(it,h4[O5],1400))or(((not Q37(it,h4[O5],AsinBJ(0.7*GetUnitMoveSpeed(h4[O5])/XH7)))and GetTriggerEvalCount(t)>12)or GetUnitLifePercent(it)<20.)then
set TIF=IssueImmediateOrderById(it,852217)
if TIF then
call UQ7(t)
call FlushChildHashtable(L7,PQ7)
set it=null
set t=null
return false
endif
else
if not(Q37(it,h4[O5],Asin(100/XH7)*bj_RADTODEG))then
set TIF=IssueTargetOrderById(it,851971,h4[O5])
endif
if XH7>950. then
call IssueImmediateOrderById(it,852177)
elseif XH7<=300. then
call IssueImmediateOrderById(it,852178)
endif
endif
endif
set it=null
set t=null
return false
endfunction
function TJF takes integer O5,unit j5 returns nothing
local trigger t=CreateTrigger()
local integer PQ7=GetHandleId(t)
call TriggerAddCondition(t,Condition(function THF))
call TriggerRegisterTimerEvent(t,0.4,true)
call SaveInteger(L7,PQ7,1397899609,O5)
call SaveUnitHandle(L7,PQ7,1397899609,j5)
set t=null
endfunction
function TKF takes nothing returns boolean
local unit j5=GetTriggerUnit()
local unit m5=GetOrderTargetUnit()
local integer i1=GetUnitTypeId(GetTriggerUnit())
local location b5=null
local boolean J4=false
set EZ7="TKF"
if((i1==1162032181)and(GetUnitLifePercent(m5)<55.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,700.))and(not V67(m5))and(SE7(800.,m5,Condition(function WE7))<2)and(SE7(800.,m5,Condition(function WO7))==0)and(not IC(GetPlayerId(GetOwningPlayer(j5)))))then
set b5=kL(j5,m5,150.)
set J4=(b5!=null)and(IssuePointOrderByIdLoc(j5,852218,b5))
elseif((i1==1164207469)and(GetUnitLifePercent(m5)<75.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,800.))and(not V67(m5))and(SE7(800.,m5,Condition(function WE7))<2)and(SE7(800.,m5,Condition(function WO7))==0)and(not IC(GetPlayerId(GetOwningPlayer(j5)))))then
set b5=kL(j5,m5,200.)
set J4=(b5!=null)and(IssuePointOrderByIdLoc(j5,852525,b5))
elseif(((i1==1429221441)or(i1==1165451634)or(i1==1212365106))and(GetUnitLifePercent(m5)<75.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,700.))and(not V67(m5))and(SE7(800.,m5,Condition(function WE7))<2)and(SE7(800.,m5,Condition(function WO7))==0)and(kJ(GetUnitX(m5),GetUnitY(m5)))and(not IC(GetPlayerId(GetOwningPlayer(j5)))))then
set J4=IssueTargetOrderById(j5,852600,m5)
elseif((i1==1328558154)and(not IsUnitInRange(m5,j5,700.))and(((SE7(900.,m5,Condition(function WE7))<=2)and(SG7(j5,ZU[J1]))or(SG7(j5,ZU[T2])))or((SE7(900.,m5,Condition(function WE7))<2)))and(GetUnitLifePercent(m5)<70.))then
set J4=SZ7(j5,OrderId("channel"),1093750840,m5)
elseif((i1==1429221446)and(GetUnitLifePercent(m5)<80.)and(not IsUnitInRange(j5,m5,300.)))then
set J4=(Bz>hq[16+GetPlayerId(GetOwningPlayer(j5))])and(LKE(j5,m5))
elseif((i1==1430466865)and(GetUnitAbilityLevel(j5,1110454357)==0)and((hq[416+GetPlayerId(GetOwningPlayer(j5))]>Bz)or(h4[GetPlayerId(GetOwningPlayer(j5))]==m5))and(not IsUnitInRange(j5,m5,200.)))then
set J4=SZ7(j5,852066,1093677879,j5)
endif
if((not J4)and(V07(j5))and(SG7(j5,ZU[RW]))and(not IC(GetPlayerId(GetOwningPlayer(j5))))and(GetUnitLifePercent(m5)<50.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,700.))and(SE7(800.,m5,Condition(function WE7))<2)and(SE7(800.,m5,Condition(function WO7))==0))then
set J4=S3F(j5,m5)
endif
set j5=null
set m5=null
set b5=null
return J4
endfunction
function TMF takes integer O5,unit j5,boolean TNF returns nothing
call DisableTrigger(Q04[O5])
call DisableTrigger(Q04[16+O5])
if(TNF)then
call PauseUnit(j5,true)
call IssueImmediateOrderById(j5,851972)
call PauseUnit(j5,false)
endif
set G0[272+O5]=true
call J3(j5,true)
set G0[272+O5]=false
call EnableTrigger(Q04[O5])
call EnableTrigger(Q04[16+O5])
endfunction
function TOF takes nothing returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if O5==0 or O5==6 or O5>11 then
return false
endif
set eY[464+O5]=GetIssuedOrderId()
set h4[336+O5]=null
set eY[480+O5]=0
set eY[496+O5]=0
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER then
set h4[336+O5]=GetOrderTargetUnit()
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER then
set eY[480+O5]=R2I(GetOrderPointX())
set eY[496+O5]=R2I(GetOrderPointY())
endif
return false
endfunction
function TPF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit()))and((GetIssuedOrderId()>852000)or(GetIssuedOrderId()==851983)))
endfunction
function TQF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=null
local integer X5=GetIssuedOrderId()
local integer i1=GetUnitTypeId(j5)
local integer O5=GetPlayerId(GetOwningPlayer(j5))
local boolean TRF=false
local integer TSF
local boolean J4
set EZ7="(AIIssuedPointTargetOrderAct)"+EZ7
if(GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)then
set m5=GetOrderTargetUnit()
if(m5!=null)then
if(not R37(m5))then
call TMF(O5,j5,false)
set TRF=true
elseif((X5==852125)or(X5==852555)or(X5==852089)or(X5==852218)or(X5==852652))then
if((GetUnitAbilityLevel(m5,1113815395)>0)or(GetUnitAbilityLevel(m5,1113815346)>0))then
call TMF(O5,j5,false)
set TRF=true
endif
elseif((X5==852600)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(V67(m5)))then
call TMF(O5,j5,false)
set TRF=true
elseif((X5==851983)and(GetUnitAbilityLevel(m5,1110454854)>0))then
call TMF(O5,j5,false)
set TRF=true
endif
if((not TRF)and(X5>=852000))then
if((GetUnitAbilityLevel(j5,1110455126)>0)and(GetUnitManaPercent(j5)>40.)and((h4[O5]==null)or(IsUnitAlly(m5,GetOwningPlayer(j5)))or(not IsUnitType(m5,UNIT_TYPE_HERO))))then
call TMF(O5,j5,false)
set TRF=true
elseif((GetUnitAbilityLevel(j5,1110454607)>0)and(R17(j5)))then
call TMF(O5,j5,false)
set TRF=true
endif
endif
if((not TRF)and(X5==851983)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5))))then
call MoveLocation(HC[48+O5],GetUnitX(m5),GetUnitY(m5))
call DisableTrigger(Q04[O5])
set TRF=(GetHeroLevel(j5)>5)and(G0[128+O5])and(GetUnitAbilityLevel(j5,1112045413)==0)and(TKF())
call EnableTrigger(Q04[O5])
endif
else
set TRF=true
endif
if((X5==851983)and(not TRF))then
set GZ[48+O5]=IsUnitType(m5,UNIT_TYPE_HERO)
set h4[80+O5]=m5
set TRF=true
endif
if(TRF)then
set m5=null
set j5=null
return
endif
call MoveLocation(HC[48+O5],GetUnitX(m5),GetUnitY(m5))
else
if((X5>=852008)and(X5<=852013))then
set TSF=GetItemTypeId(UnitItemInSlot(j5,X5-852008))
if((TSF==ZU[YC])or(TSF==ZU[XC])or(TSF==ZU[F6]))then
set TRF=true
endif
elseif(X5==851983)then
set TRF=true
set GZ[48+O5]=false
elseif(X5>=852000)then
if((GetUnitAbilityLevel(j5,1110455126)>0)and(GetUnitManaPercent(j5)>40.)and(h4[O5]==null))then
call TMF(O5,j5,false)
set TRF=true
elseif((GetUnitAbilityLevel(j5,1110454607)>0)and(R17(j5)))then
call TMF(O5,j5,false)
set TRF=true
endif
endif
if(TRF)then
set m5=null
set j5=null
return
endif
call MoveLocation(HC[48+O5],GetOrderPointX(),GetOrderPointY())
endif
if((X5>=852008)and(X5<=852013))then
set X5=V57(j5)
set J4=true
if((X5==ZU[RW])or(X5==ZU[F6])or(X5==ZU[S6])or(X5==ZU[YC])or(X5==ZU[XC])or(X5==ZU[WC])or((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))))then
if((X5==ZU[Q1])and((not R17(j5))or((UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)>0)))and(not i2(m5))and(GetUnitAbilityLevel(m5,1110454329)==0)and(GetUnitAbilityLevel(m5,1110454338)==0)and(GetUnitAbilityLevel(m5,1110454597)==0)and(GetUnitAbilityLevel(m5,1110454608)==0))then
set J4=false
elseif(V_7(X5))then
if((((i1!=1429221445)and(GetUnitLifePercent(m5)>50.))or(GetUnitLifePercent(m5)>75.))and(GetUnitAbilityLevel(m5,1110454606)==0)and(GetUnitAbilityLevel(m5,1110455624)==0))then
set J4=false
elseif((i1==1429221424)and(GetUnitAbilityLevel(j5,1110454347)>0))then
set J4=false
endif
elseif((X5==ZU[QC])and((GetUnitAbilityLevel(m5,1110454874)>0)or(m5!=j5)or(Q17(j5,S57(j5))<4500.)or(SE7(1200.,m5,Condition(function k0))>0)))then
set J4=false
elseif((X5==ZU[RW])and(GetUnitAbilityLevel(j5,1110455863)>0))then
set J4=false
endif
elseif((X5==ZU[D1]or X5==ZU[E1])or(X5==ZU[J1]))then
if((GetOwningPlayer(m5)==Z7[0])or(GetOwningPlayer(m5)==A7[0]))then
set J4=false
elseif(GetOwningPlayer(m5)==Player(12))then
set X5=GetUnitTypeId(m5)
if((X5!=1852796263)and(X5!=1852207203)and(X5!=1853060200)and(X5!=1852010091))then
set J4=false
endif
else
set X5=GetUnitTypeId(m5)
if((X5==1966092339)or(X5==1966092341)or(X5==1966092345))then
set J4=false
endif
endif
else
set J4=false
endif
if not J4 then
call PauseUnit(j5,true)
call IssueImmediateOrderById(j5,851972)
call PauseUnit(j5,false)
call V37(O5,j5,0)
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if((X5==852111)and((GetUnitAbilityLevel(j5,1110455126)>0)or((not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_SUMMONED)))))then
call V37(O5,j5,1093747028)
endif
elseif(i1==1160786506)then
if((X5==852089)and(not GZ[O5]))then
call V37(O5,j5,1093751637)
endif
elseif(i1==1429221443)then
if((X5==852119)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093744948)
elseif(X5==852600)then
endif
elseif(i1==1162032951)then
if((X5==852527)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((not R17(j5))and((R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(400*GetUnitAbilityLevel(j5,1093679152)))or(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(460*GetUnitAbilityLevel(j5,1093752154)))))))then
call J6(O5,j5,1093679152,1093752154)
endif
elseif(i1==1162032181)then
if((X5==852652)and((not GZ[O5])or(SD7(380.,HC[48+O5],Condition(function WE7))==0)))then
call V37(O5,j5,1093683761)
endif
elseif(i1==1429221424)then
if((X5==OrderId("creepheal"))and((not IsUnitType(m5,UNIT_TYPE_HERO))or((R2I(GetUnitState(j5,UNIT_STATE_MANA))<(200+(50*GetUnitAbilityLevel(j5,1093679445))))and(not R17(m5)))or(GetUnitState(m5,UNIT_STATE_MANA)<100.)or(GetUnitAbilityLevel(j5,1110454347)>0)))then
call V37(O5,j5,1093748789)
elseif(X5==852555)then
if(((not GZ[O5])or(GetUnitAbilityLevel(j5,1110454347)>0)or(not IsUnitType(m5,UNIT_TYPE_HERO)))and((SD7(1500.,HC[48+O5],Condition(function WE7))>0)or(GetUnitManaPercent(j5)<60.)or(GetHeroLevel(j5)<6)))then
call V37(O5,j5,1093687351)
endif
endif
elseif(i1==1432646245)then
if((X5==852095)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((DR8())and(GetUnitLifePercent(m5)>80.))))then
call V37(O5,j5,1093677640)
elseif((X5==852585)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093679171)
endif
elseif(i1==1430466609)then
if((X5==852125)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SD7(600.,HC[48+O5],Condition(function k3))<6))then
call J6(O5,j5,1093810258,1093810259)
elseif((X5==852527)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093685559)
elseif(X5==852525)then
if(hq[512+O5]<Bz)then
set hq[512+O5]=Bz+1.
endif
endif
elseif(i1==1430468913)then
if((X5==852149)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093677876)
endif
elseif(i1==1430467634)then
if((X5==852231)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((R2I(GetUnitState(j5,UNIT_STATE_MANA))<(200+(50*SRF(j5))))and(not i2(m5))and(not R17(m5)))))then
call V37(O5,j5,1093679412)
elseif((X5==852583)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((not R17(j5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(350+(350*SRF(j5)))))))then
call J6(O5,j5,1093684565,1093681458)
elseif((X5==OrderId("channel"))and(GetUnitManaPercent(j5)<45.))then
call V37(O5,j5,1093742674)
endif
elseif(i1==1313026096)then
if((X5==852095)and(not R17(m5))and(not R17(j5))and((GetUnitAbilityLevel(j5,1110455126)>0)or(not IsUnitType(m5,UNIT_TYPE_HERO))or(R2I(GetUnitState(j5,UNIT_STATE_MANA))<(250+(50*GetUnitAbilityLevel(j5,1093677401))))))then
call V37(O5,j5,1095267426)
endif
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if((X5==852189)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitLifePercent(j5)+10.>GetUnitLifePercent(m5))))then
call V37(O5,j5,1093678929)
elseif(X5==852189)then
call RemoveGuardPosition(j5)
endif
elseif(i1==1164666213)then
if(X5==852224)then
call V37(O5,j5,1093678679)
elseif(X5==852119)then
call V37(O5,j5,1093678678)
endif
elseif(i1==1433168227)then
if((X5==852066)and((GetUnitLifePercent(m5)<50.)or(GetUnitManaPercent(j5)>80.)))then
call V37(O5,j5,1093678387)
elseif((X5==852227)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))then
call J6(O5,j5,1093678420,1093679176)
elseif((X5==852225)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093679186)
endif
elseif(i1==1429221430)then
if(X5==852224)then
call V37(O5,j5,1093681735)
elseif(X5==852601)then
call V37(O5,j5,1093681736)
endif
elseif(i1==1430466872)then
if((X5==852502)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093684558)
elseif((X5==852119)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))then
call J6(O5,j5,1093679413,1093679447)
elseif((X5==852487)and((IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitManaPercent(j5)>70.)))then
call V37(O5,j5,1093677646)
endif
elseif(i1==1162032439)then
if((X5==OrderId("volcano"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093744435)
endif
elseif(i1==1430466865)then
if((X5==852066)and(not kQ(j5))and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitAbilityLevel(m5,1110454357)>0)or(SD7(800.,HC[48+O5],Condition(function k3))==0)or(R2I(GetUnitState(j5,UNIT_STATE_MANA))<(140+(GetUnitAbilityLevel(j5,1093810508)*100)))))then
call V37(O5,j5,1093677879)
elseif(X5==852218)and(not GZ[O5])then
call V37(O5,j5,1093751364)
endif
elseif(i1==1430468144)then
if((X5==852189)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093679192)
endif
elseif(i1==1429221441)then
if((X5==852231)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093678389)
elseif(X5==852600)then
if(hq[512+O5]<Bz)then
set hq[512+O5]=Bz+1.
endif
endif
elseif(i1==1165451634)then
if((X5==OrderId("acidbomb"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093687629)
elseif(X5==852600)then
if(hq[512+O5]<Bz)then
set hq[512+O5]=Bz+1.
endif
endif
elseif(i1==1215722344)then
if((X5==852668)and(j5!=m5)and(not(QG7(GetUnitTypeId(m5),F97))))then
call V37(O5,j5,1093682499)
elseif((X5==852231)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))then
call V37(O5,j5,1093684296)
endif
elseif(i1==1332766568)then
if((X5==852119)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(150+(150*GetUnitAbilityLevel(j5,1093682482))))or(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(150+(150*GetUnitAbilityLevel(j5,1093750098)))))))then
call J6(O5,j5,1093682482,1093750098)
endif
elseif(i1==1328558154)then
if((X5==OrderId("channel")))then
set hq[O5]=Bz+41.
call QA7(1.)
endif
elseif(i1==1160786502)then
if(X5==852600)then
set UH4[O5]=true
endif
elseif(i1==1429221446)then
if((X5==852480)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call J6(O5,j5,1093682764,1093747544)
endif
elseif(i1==1429221445)then
if((X5==852095)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitLifePercent(m5)>60.)))then
call J6(O5,j5,1093678647,1093679184)
endif
elseif(i1==1332963428)then
if((X5==852227)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093678169)
elseif((X5==852119)and(not kQ(j5))and(GetUnitLifePercent(j5)>70.)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
if((GetUnitLifePercent(j5)>90.)or(SD7(1200.,HC[48+O5],Condition(function WE7))>0)or(GetUnitManaPercent(j5)<70.))then
call V37(O5,j5,1093683019)
endif
elseif((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093816137)
elseif((X5==852480)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093677649)
endif
elseif(i1==1332109682)then
if((X5==852662)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093678134)
endif
elseif(i1==1211117640)then
if((X5==852486)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093681989)
elseif((X5==852487)and(((not IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(j5)>70.))or(not IsUnitInRange(j5,m5,500.))))then
call J6(O5,j5,1093681987,1093677658)
endif
elseif(i1==1430468406)then
if((X5==852592)and(SD7(250.,HC[48+O5],Condition(function WE7))==0))then
call V37(O5,j5,kS(j5))
endif
elseif(i1==1160786241)then
if((X5==852119)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SD7(200.,HC[48+O5],Condition(function WE7))==0))then
if((SD7(1200.,HC[48+O5],Condition(function WE7))>0)or(GetHeroLevel(j5)<6)or(GetUnitManaPercent(j5)<70.))then
call V37(O5,j5,1093684813)
endif
elseif((X5==852089)and(SD7(100.,HC[48+O5],Condition(function WE7))==0))then
call V37(O5,j5,1093684815)
elseif((X5==852597)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SD7(400.,HC[48+O5],Condition(function WE7))==0))then
call J6(O5,j5,1093684820,1093684824)
endif
elseif(i1==1429221456)then
if((X5==852119)and(not GZ[O5])and((not IsUnitType(m5,UNIT_TYPE_HERO))or((not R17(j5))and(not i2(m5)))))then
call V37(O5,j5,1093685066)
elseif((X5==852089)and(GetUnitAbilityLevel(j5,1093685067)>0)and(SD7(250+(100*GetUnitAbilityLevel(j5,1093685067)),HC[48+O5],Condition(function WE7))==0))then
call J6(O5,j5,1093685067,1093752407)
elseif((X5==852089)and(GetUnitAbilityLevel(j5,1093752407)>0)and(SD7(350+(100*GetUnitAbilityLevel(j5,1093685067)),HC[48+O5],Condition(function WE7))==0))then
call J6(O5,j5,1093685067,1093752407)
endif
elseif(i1==1160786243)then
if((X5==852089)and(not GZ[O5]))then
call V37(O5,j5,1093678672)
elseif((X5==852224)and(not GZ[O5]))then
call V37(O5,j5,1395667000)
endif
elseif((i1==1211117641)or(i1==1211117642))then
if(X5==852089)then
call V37(O5,j5,1093684802)
endif
elseif(i1==1311781207)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093684817)
endif
elseif(i1==1311780946)then
if((X5==852488)and(not GZ[O5]))then
call V37(O5,j5,1093685825)
elseif((X5==852526)and(not GZ[O5]))then
call V37(O5,j5,1093810232)
endif
elseif(i1==1211117646)then
if((X5==852101)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093685815)
endif
elseif(i1==1160785973)then
if((X5==852231)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093678130)
endif
elseif(i1==1315988077)then
if((X5==852585)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1097032808)
endif
elseif(i1==1211117616)then
if((X5==852231)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(40+(125*(GetUnitAbilityLevel(j5,1093816142)))))))then
call V37(O5,j5,1093816142)
endif
elseif(i1==1315074670)then
if((X5==852592)and(SD7(250.,HC[48+O5],Condition(function WE7))==0))then
call V37(O5,j5,1093685570)
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093681490)
endif
elseif(i1==1164207469)then
if((X5==852095)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((GetUnitManaPercent(m5)>15.)and(GetUnitState(m5,UNIT_STATE_LIFE)>((GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))*(.35+(I2R(GetUnitAbilityLevel(j5,1093682483))*.25)))))))then
call V37(O5,j5,1093682483)
elseif(X5==852525)then
if(hq[512+O5]<Bz)then
set hq[512+O5]=Bz+1.
endif
endif
elseif(i1==1433631084)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093678160)
endif
elseif(i1==1214345830)then
if((X5==852225)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((GetUnitLifePercent(m5)>80.)and(not GZ[64+O5]))))then
if((GetUnitLifePercent(m5)>95.)or(SD7(1500.,HC[48+O5],Condition(function WE7))>0)or(GetUnitManaPercent(j5)<70.))then
call V37(O5,j5,1093679182)
endif
elseif((X5==852186)and(not GZ[O5])and((GetUnitLifePercent(m5)>75.)or(not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitState(m5,UNIT_STATE_LIFE)>GetUnitState(j5,UNIT_STATE_LIFE))))then
call V37(O5,j5,1093679190)
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
if(X5==852218)then
call V37(O5,j5,1093808461)
endif
elseif(i1==1315007329)then
if((X5==852095)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitManaPercent(j5)<40.)))then
call V37(O5,j5,1093677108)
elseif((X5==852149)and(GetUnitLifePercent(m5)>60.)and(not R17(j5)))then
call V37(O5,j5,1093681716)
endif
elseif(i1==1332898670)then
if((X5==852502)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093685848)
elseif((X5==852480)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))then
call V37(O5,j5,1093677136)
elseif((X5==852504)and(not GZ[O5]))then
call J6(O5,j5,1093677128,1093681457)
endif
elseif(i1==1215723364)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093677633)
elseif((X5==852587)and((not GZ[O5])or(V67(m5))))then
call J6(O5,j5,1093683534,1093747031)
endif
elseif(i1==1215128178)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093683779)
endif
elseif(i1==1164799855)then
if((X5==852075)and((GetOwningPlayer(m5)==Z7[0])or(GetOwningPlayer(m5)==A7[0])))then
call V37(O5,j5,1093682264)
endif
elseif(i1==1433105516)then
if((X5==OrderId("cannibalize"))and(SD7(400.,HC[48+O5],Condition(function WE7))==0))then
call V37(O5,j5,0)
endif
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
if((X5==OrderId("acidbomb"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093742680)
elseif((X5==OrderId("acolyteharvest"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093742898)
endif
elseif(i1==1316252014)then
if((X5==852585)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093678137)
endif
elseif(i1==1164799603)then
if((X5==OrderId("carrionswarm"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093808453)
elseif((X5==852119)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
if((SD7(1200.,HC[48+O5],Condition(function WE7))>0)or(GetUnitManaPercent(j5)<40.))then
call J6(O5,j5,1093752632,1093752633)
endif
endif
elseif(i1==1328558160)then
if((X5==852218)and(not GZ[O5])and(not R17(j5))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093682766)
elseif((X5==852274)and(((IsUnitEnemy(m5,GetOwningPlayer(j5)))and(m5!=h4[O5]))or(GetUnitAbilityLevel(j5,1093683011)>0)))then
call V37(O5,j5,1093683000)
endif
elseif(i1==1212363833)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call J7(O5,j5,1093809220)
endif
elseif(i1==1315070563)then
if((X5==852095)and(not R17(j5))and((not IsUnitType(m5,UNIT_TYPE_HERO))or((SD7(600.,HC[48+O5],Condition(function WE7))*2)<SD7(600.,HC[48+O5],Condition(function k3)))))then
call J6(O5,j5,1093684529,1093747032)
endif
elseif(i1==1214931305)then
if((X5==852171)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093678147)
endif
elseif(i1==1212365106)then
if((X5==852089)and(not GZ[64+O5])and(SD7(200+(50*GetUnitAbilityLevel(j5,1093685831)),HC[48+O5],Condition(function WE7))==0))then
if((GetUnitManaPercent(j5)<70.)or(GetHeroLevel(j5)<6)or(SD7(1500.,HC[48+O5],Condition(function WE7))>0))then
call V37(O5,j5,1093685831)
endif
elseif(X5==852600)then
if(hq[512+O5]<Bz)then
set hq[512+O5]=Bz+1.
endif
endif
elseif(i1==1211117617)then
if((X5==OrderId("acidbomb"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093744944)
endif
elseif(i1==1211117633)then
if((X5==852095)and((GetOwningPlayer(m5)==Z7[0])or(GetOwningPlayer(m5)==A7[0])or((IsUnitAlly(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))))then
call V37(O5,j5,1093684310)
elseif((X5==852131)and((GetOwningPlayer(m5)==Z7[0])or(GetOwningPlayer(m5)==A7[0])))then
if((GetHeroLevel(j5)<20)or(IH(GetOwningPlayer(j5),Condition(function LX9))>0))then
call V37(O5,j5,1093810260)
endif
elseif((X5==852585)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093684045)
endif
elseif(i1==1211117620)then
if((X5==852232)and(not GZ[64+O5])and(SD7(150.,HC[48+O5],Condition(function WE7))==0))then
call V37(O5,j5,1093677623)
elseif((X5==852119)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitLifePercent(m5)>80.)))then
call J6(O5,j5,1093677392,1093679450)
endif
elseif(i1==1333027688)then
if((X5==OrderId("channel"))and((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO)))and(SD7(200.,HC[48+O5],Condition(function WE7))==0))then
if((SD7(1500.,HC[48+O5],Condition(function WE7))>0)or(GetHeroLevel(j5)<6)or(GetUnitManaPercent(j5)<70.))then
call V37(O5,j5,1093686091)
endif
endif
elseif(i1==1211117643)then
if(X5==852278)then
call V37(O5,j5,1093678410)
elseif(X5==852114)then
call V37(O5,j5,1093678664)
elseif(X5==852040)then
call V37(O5,j5,1093678658)
elseif(X5==852504)then
call J6(O5,j5,1093681483,1093748313)
elseif(X5==852119)then
call V37(O5,j5,1093752646)
endif
elseif(i1==1215130471)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,W77(j5))
elseif((X5==852600)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093815121)
elseif((X5==852101)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,W97(j5))
endif
elseif(i1==1332179560)then
if((X5==OrderId("acidbomb"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093742660)
endif
elseif(i1==1214344551)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093809742)
endif
elseif(i1==1211117636)then
if((X5==852218)and(not GZ[O5])and((GetUnitManaPercent(j5)<30.)or(IsUnitInRangeLoc(j5,HC[48+O5],600.)))and((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO))))then
call V37(O5,j5,1093685041)
elseif((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call J6(O5,j5,1093685042,1093810233)
endif
elseif(i1==1160786000)then
if((X5==852218)and((GetUnitManaPercent(j5)<60.)or(GetHeroLevel(j5)<6))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093685047)
elseif((X5==852580)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SD7(200.,HC[48+O5],Condition(function WE7))==0))then
call V37(O5,j5,1093685046)
elseif((X5==852125)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093685045)
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
if((X5==852089)and(GetUnitManaPercent(j5)<40.)and((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO))))then
call V37(O5,j5,1093683532)
endif
elseif(i1==1211117651)then
if((X5==852218))then
call V37(O5,j5,1093743695)
elseif((X5==852119))then
call V37(O5,j5,1093743698)
endif
elseif(i1==1311780930)then
if((X5==852089)and(not GZ[O5]))then
call J6(O5,j5,1093686072,1093751120)
endif
elseif(((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517)))then
if((X5==852119)and(not GZ[O5]))then
call V37(O5,j5,1093815130)
endif
elseif((i1==1211117650)or(i1==1211119433))then
if(X5==852089)then
call V37(O5,j5,1093743955)
endif
elseif(i1==1211119187)then
if(X5==852089)then
call V37(O5,j5,1093743414)
elseif(X5==852662)then
call V37(O5,j5,1093742923)
endif
elseif(i1==1311786311)then
if(X5==852119)then
call V37(O5,j5,1093743178)
endif
elseif(i1==1328558390)then
if(X5==852089)then
call V37(O5,j5,1093748044)
elseif(X5==852119)then
call V37(O5,j5,1093744975)
elseif(X5==852218)then
call V37(O5,j5,1093744982)
endif
elseif(i1==1160786510)then
if(X5==852119)then
call V37(O5,j5,1093751633)
elseif(X5==852089)then
call J6(O5,j5,1093751861,1093808949)
endif
elseif(i1==1160786504)then
if(X5==852119)then
call V37(O5,j5,1093751608)
elseif(X5==852089)then
call V37(O5,j5,1093751618)
elseif(X5==852111)then
call V37(O5,j5,1093751617)
endif
elseif(i1==1328558406)then
if(X5==852119)then
call V37(O5,j5,1093751873)
endif
elseif(i1==1160786520)then
if((X5==852184)and((GetUnitManaPercent(j5)<60.)or(GetHeroLevel(j5)<6))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call V37(O5,j5,1093809991)
elseif((X5==852214)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SD7(200.,HC[48+O5],Condition(function WE7))==0))then
call V37(O5,j5,1093809990)
endif
elseif(i1==1311781185)then
if(X5==852089)then
call V37(O5,j5,1093743692)
endif
elseif(i1==1311788336)then
if(X5==852089)then
call V37(O5,j5,1093814320)
endif
elseif(i1==1160786507)then
if(X5==852089)then
call V37(O5,j5,1093814850)
endif
elseif(i1==1211122767)then
if(X5==852119)then
call V37(O5,j5,1093812805)
elseif(X5==852668)then
call V37(O5,j5,1093814350)
endif
endif
set j5=null
set m5=null
endfunction
function TTF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit()))and(GetIssuedOrderId()>852000))
endfunction
function TUF takes nothing returns nothing
local integer i=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if(GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)then
call MoveLocation(HC[i],GetUnitX(GetOrderTargetUnit()),GetUnitY(GetOrderTargetUnit()))
set i=GetIssuedOrderId()-852008
if((i>=0)and(i<6)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_NONE)and(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))then
set i=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),i))
if((i==ZU[Q1])or(i==ZU[D1])or(i==ZU[E1])or(i==ZU[F1])or(i==ZU[H1]))then
call IssueTargetOrderById(GetTriggerUnit(),851983,GetOrderTargetUnit())
endif
endif
else
call MoveLocation(HC[i],GetOrderPointX(),GetOrderPointY())
endif
endfunction
function TVF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local integer X5=GetIssuedOrderId()
local integer i1=GetUnitTypeId(j5)
local integer O5=GetPlayerId(GetOwningPlayer(j5))
set EZ7="TVF"
if((X5>=852000)and(X5<854000))then
if((GetUnitAbilityLevel(j5,1110454607)>0)and(R17(j5)))then
call J3(j5,true)
set j5=null
return
endif
endif
call MoveLocation(HC[48+O5],GetUnitX(j5),GetUnitY(j5))
if((X5>=852008)and(X5<=852013))then
set X5=V57(j5)
if((X5==ZU[P1])and(Bz>hq[64+O5])and(not GZ[224+O5]))then
call TMF(O5,j5,true)
elseif((X5==ZU[D44])and((Bz+20.)>hq[O5])and(Bz>hq[48+O5]))then
call TMF(O5,j5,true)
elseif((X5==ZU[T1])and(not GZ[64+O5])and((UE7(GetHandleId(j5),"Mekansm"))or(GetUnitLifePercent(j5)>80.)))then
call TMF(O5,j5,true)
elseif((X5==ZU[DP4])and(SD7(900.,HC[48+O5],Condition(function WE7))==0))then
call TMF(O5,j5,true)
elseif((X5==ZU[AL])and(TA4==false))then
call TMF(O5,j5,true)
elseif((X5==ZU[DT4]or X5==ZU[ZA])and(GetUnitState(j5,UNIT_STATE_LIFE)>150)and(GetItemCharges(UnitItemInSlot(j5,GetIssuedOrderId()-852008))<8))then
call TMF(O5,j5,true)
elseif((X5==ZU[B3])and(not GZ[64+O5])and((GetUnitAbilityLevel(j5,1113875814)>0)or(GetUnitManaPercent(j5)<75.)or(GetHeroLevel(j5)<3)))then
call TMF(O5,j5,true)
elseif((SM7(X5))and(not GZ[224+O5])and(G0[128+O5]))then
call TMF(O5,j5,true)
elseif(((X5==ZU[R5])or(X5==ZU[S5])or(X5==ZU[T5])or(X5==ZU[Y0])))then
if((i1==1429221424)and(GetUnitAbilityLevel(j5,1110454347)>0))then
call TMF(O5,j5,true)
elseif((not GZ[224+O5])and(GetHeroLevel(j5)<13)and(iy(j5))and(eY[O5]==1)and(not G0[32+O5]))then
call TMF(O5,j5,true)
endif
elseif((X5==ZU[DV4])and((TB4==false)and(h4[O5]==null)))then
call TMF(O5,j5,true)
endif
elseif(i1==1160785970)then
if((X5==852526)and((not GZ[O5])or(SD7(789.,HC[48+O5],Condition(function WE7))==0)))then
call J7(O5,j5,1093748023)
endif
elseif(i1==1429221443)then
if((X5==852273)and(SD7(800.,HC[48+O5],Condition(function WE7))==0))then
call J7(O5,j5,1093686322)
endif
elseif(i1==1162032951)then
if((X5==852100)and((not GZ[O5])or(GetUnitLifePercent(j5)<50.))and((SD7(1500.,HC[48+O5],Condition(function WE7))>0)or(GetUnitManaPercent(j5)<70.)or(GetUnitLifePercent(j5)<80.)))then
call J7(O5,j5,1093678404)
endif
elseif(i1==1429221424)then
if((X5==852129)and(not GZ[O5]))then
call J7(O5,j5,1093679445)
elseif(X5==852526)then
call J7(O5,j5,1093815119)
endif
elseif(i1==1430468913)then
if((X5==852100)and(not GZ[O5]))then
call J7(O5,j5,1093678403)
elseif(X5==852164)then
call J7(O5,j5,1093810507)
endif
elseif(i1==1164277353)then
if((X5==852663)and(not GZ[O5]))then
call J7(O5,j5,1093751369)
endif
elseif(i1==1164666213)then
if(X5==852100)then
call J6(O5,j5,1093808454,1093808455)
call J7(O5,j5,1093808456)
elseif(X5==852594)then
call J7(O5,j5,1093677877)
endif
elseif(i1==1429221430)then
if((X5==852164)and(not R17(j5))and(SD7(400.,HC[48+O5],Condition(function WE7))==0))then
call J7(O5,j5,1093687121)
endif
elseif(i1==1162032439)then
if((X5==852594)and(not GZ[O5]))then
call J7(O5,j5,1093681462)
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093677363,false)
endif
elseif(i1==1430466865)then
if((X5==852127)and(SD7(420.,HC[48+O5],Condition(function WE7))==0))then
call J7(O5,j5,1093810508)
endif
elseif((i1==1429221432)or(i1==1160786229))then
if((X5==852126)and(GetUnitManaPercent(j5)<65.)and(SD7(500.,HC[48+O5],Condition(function WE7))==0))then
call J7(O5,j5,1093677892)
elseif((X5==852180)and(SD7(800.,HC[48+O5],Condition(function WE7))==0))then
call J7(O5,j5,1093679411)
endif
elseif(i1==1429221441)then
if((X5==852123)and(SD7(350.,HC[48+O5],Condition(function WE7))==0))then
call J7(O5,j5,1093677903)
endif
elseif(i1==1315334514)then
if((X5==852164)and(not SZF(j5,200.,Condition(function k3))))then
call J7(O5,j5,1093682521)
elseif((X5==852588)and(not SZF(j5,450.,Condition(function k3))))then
call J7(O5,j5,1093682760)
elseif((X5==852599)and(not SZF(j5,700.,Condition(function k3))))then
call J7(O5,j5,1093682736)
elseif((X5==852273)and(SD7(350.,HC[48+O5],Condition(function WE7))==0))then
call J7(O5,j5,1093810506)
endif
elseif(i1==1429221446)then
if((X5==852177)and(((GetUnitLifePercent(j5)<50.)or(SD7(300.,HC[48+O5],Condition(function k3))==0)))and(not kQ(j5)))then
call J7(O5,j5,1093678667)
endif
elseif(i1==1332109682)then
if((X5==852588)and(SD7(650.,HC[48+O5],Condition(function WE7))==0))then
call J7(O5,j5,1093810505)
endif
elseif(i1==1211117640)then
if((X5==852594)and(not GZ[O5]))then
call J7(O5,j5,1093679428)
endif
elseif(i1==1315988077)then
if((X5==852586)and(SD7(800.,HC[48+O5],Condition(function WE7))==0)and(not GZ[O5]))then
call J7(O5,j5,1093684561)
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if((X5==852180)and(SD7(800.,HC[48+O5],Condition(function WE7))==0))then
call J7(O5,j5,1093677895)
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
if((X5==852526)and(not GZ[O5]))then
call J7(O5,j5,1093748042)
endif
if((X5==852096)and((h4[O5]==null)or(not IsUnitInRange(j5,h4[O5],400.))))then
call J7(O5,j5,1093808462)
endif
if(X5==852138 or X5==852139)then
call J7(O5,j5,1093681733)
endif
elseif(i1==1215723364)then
if((X5==OrderId("volcano"))and(GetUnitManaPercent(j5)<60.)and(not GZ[64+O5]))then
call J7(O5,j5,1093744463)
endif
elseif(i1==1215128178)then
if((X5==852164)and(not GZ[O5]))then
call J7(O5,j5,1093810503)
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093810504,false)
endif
elseif(i1==1164799855)then
if((X5==852556)and(GetUnitLifePercent(j5)>80.)and(not GZ[64+O5]))then
call J7(O5,j5,1093677378)
endif
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
if((X5==852180))then
call J7(O5,j5,1093742932)
endif
elseif(i1==1212363833)then
if((X5==852123)and(SD7(600.,HC[48+O5],Condition(function WE7))==0)and(GetUnitManaPercent(j5)<70.))then
call J7(O5,j5,1093678643)
elseif(X5==852526)then
call J7(O5,j5,1093815125)
endif
elseif(i1==1315070563)then
if((X5==852128)and((UJ7(j5,"Omnislashing"))or((GZ[O5])or((GetUnitManaPercent(j5)<70.)and(SD7(600.,HC[48+O5],Condition(function WE7))==0)))))then
call J7(O5,j5,1093678407)
endif
elseif(i1==1211117617)then
if((X5==OrderId("chemicalrage"))and(SD7(400.,HC[48+O5],Condition(function WE7))==0))then
call J7(O5,j5,1093752648)
endif
elseif(i1==1211117620)then
if((X5==852164)and((GetUnitAbilityLevel(j5,1110454324)>0)or(GetUnitManaPercent(j5)<60.)or(SD7(800.,HC[48+O5],Condition(function k3))==0)))then
call J7(O5,j5,1093677105)
endif
elseif(i1==1333027688)then
if((X5==852164)and(SD7(200.,HC[48+O5],Condition(function k2))==0))then
call J7(O5,j5,1093682252)
elseif((X5==852526)and((SD7(400.,HC[48+O5],Condition(function WE7))==0)or(SD7(500.,HC[48+O5],Condition(function k3))<5)))then
call J7(O5,j5,1093682248)
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093750594,true)
endif
elseif(i1==1215657064)then
if((X5==852600)and(SD7(500.,HC[48+O5],Condition(function WE7))==0))then
call J7(O5,j5,1093750841)
endif
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
if(X5==852138 or X5==852139)then
call J7(O5,j5,1093681479)
endif
elseif(i1==1311781193)then
if((X5==852663)and(GetUnitLifePercent(j5)>70.)and(GetUnitManaPercent(j5)<40.)and(SD7(500.,HC[48+O5],Condition(function WE7))==0))then
call J7(O5,j5,1095656306)
endif
elseif(i1==1311781206)then
if((X5==852129)and(not GZ[O5]))then
call J7(O5,j5,1093684302)
endif
elseif(i1==1211117651)then
if((X5==852526)and(not GZ[O5]))then
call J7(O5,j5,1093743696)
endif
elseif(i1==1313157191)then
if((X5==852526))then
call J7(O5,j5,1093743689)
endif
elseif((i1==1211117650)or(i1==1211119433))then
if(X5==852180)then
call V37(O5,j5,1093743946)
elseif(X5==852662)then
call V37(O5,j5,1093743958)
endif
elseif(i1==1328558390)then
if(X5==852180)then
call V37(O5,j5,1093744986)
endif
elseif(i1==1160786510)then
if(X5==852600)then
call V37(O5,j5,1093751631)
elseif(X5==852526)then
call V37(O5,j5,1093808697)
endif
elseif(i1==1328558406)then
if(X5==852526)then
call V37(O5,j5,1093751864)
elseif(X5==852589)and(not GZ[O5])then
call V37(O5,j5,1093810257)
endif
elseif(i1==1211119409)then
if X5==852129 then
call V37(O5,j5,1093749070)
endif
elseif(i1==1311780930)then
if X5==852514 and(not R17(j5))then
call V37(O5,j5,1093686082)
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if X5==852138 or X5==852139 then
call V37(O5,j5,1093747504)
endif
endif
set j5=null
endfunction
function TWF takes nothing returns nothing
local unit x6=GetTriggerUnit()
local integer Iz=GetItemTypeId(GetManipulatedItem())
local integer i1=GetUnitTypeId(x6)
local integer O5=GetPlayerId(GetOwningPlayer(x6))
local unit m5=null
local boolean J4=false
set EZ7="TWF"
if(Iz==ZU[TC])then
set hq[256+O5]=Bz+25.
call SY7(x6,851986,h9[O5])
if(R17(x6))then
set G0[32+O5]=true
loop
exitwhen((GetUnitLifePercent(x6)>50.)or(Bz>hq[256+O5]))
if(SE7(1000.,x6,Condition(function WE7))>0)then
call SY7(x6,851986,h9[O5])
else
call IssueImmediateOrderById(x6,851993)
endif
call QA7(1.)
endloop
set G0[32+O5]=false
call J3(x6,true)
endif
elseif(Iz==ZU[QC])then
call QA7(0.5)
set G0[32+O5]=true
loop
exitwhen((GetUnitAbilityLevel(x6,1110454874)==0)or(GetUnitLifePercent(x6)>95.))
if(not RY7(x6))then
elseif(SE7(1500.,x6,Condition(function k2))>0)then
call SY7(x6,851986,h9[O5])
else
call IssueImmediateOrderById(x6,851993)
endif
call QA7(0.5)
endloop
set G0[32+O5]=false
call J3(x6,true)
elseif(Iz==ZU[D44])then
set hq[O5]=Bz
set hq[48+O5]=Bz+160.
elseif(Iz==ZU[P1])then
set hq[64+O5]=Bz+30.
call QA7(0.1)
set m5=h4[O5]
set J4=(m5!=null)and(not R17(x6))and(IssueTargetOrderById(x6,851983,m5))
elseif(Iz==ZU[RW])then
set m5=null
set hq[512+O5]=Bz+3.
set hq[112+O5]=Bz+25.
call TriggerSleepAction(0.01)
if(not R17(x6))then
if(i1==1430466865)then
set m5=ZN7(350.,x6)
set J4=(m5!=null)and((((SE7(400.,x6,Condition(function k6))>1 and GZ[208+O5])or R17(m5))and(SL7(x6,852164,1093810508)))or(SZ7(x6,852125,1093677651,m5)))
elseif(i1==1162032439)then
set GZ[O5]=true
set J4=J8(O5,(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SE7(600.,x6,Condition(function WE7))>1))and(SL7(x6,852594,1093677363)))
elseif(i1==1160785973)then
if(SP7(x6,ZU[D0]))then
set J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SE7(400.,x6,Condition(function WE7))>1))and(SS7(x6,ZU[D0]))and(IssueImmediateOrderById(x6,852600))
if(not(J4))then
set J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SE7(400.,x6,Condition(function WE7))>1))and(IssueImmediateOrderById(x6,852600))
endif
else
set J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SE7(400.,x6,Condition(function WE7))>1))and(IssueImmediateOrderById(x6,852600))
endif
elseif(i1==1315988077)then
set m5=ZN7(220.,x6)
set J4=(m5!=null)and(SL7(x6,852096,1093678669))
elseif(i1==1211117616)then
set m5=ZN7(220.,x6)
set J4=(m5!=null)and(SL7(x6,852127,1093677139))
elseif(i1==1430468406)then
set J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SE7(500.,x6,Condition(function WE7))>1))and(IssueImmediateOrderById(x6,852556))
elseif(i1==1214931305)then
set J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SE7(400.,x6,Condition(function WE7))>1))and(((GetUnitState(x6,UNIT_STATE_MANA)>hq[272+O5]+50.)and(SS7(x6,ZU[D0])))or(SZ7(x6,852171,1093678147,h4[16+O5]))or(IssueImmediateOrderById(x6,852600)))
elseif(i1==1432580716)or(i1==1429221720)then
set m5=ZN7(300.,x6)
set J4=(m5!=null)and(SZ7(x6,852089,1093684300,m5))
elseif(i1==1333027688)then
set m5=ZN7(300.,x6)
set J4=(m5!=null)and(((SE7(500.,x6,Condition(function k0))>5)and(SL7(x6,852526,1093682248)or SL7(x6,852526,1093750594)))or(SL7(x6,852164,1093682252)))
elseif(i1==1332766568)then
set m5=ZN7(250.,x6)
set J4=(m5!=null)and(IssueImmediateOrderById(x6,852600))
elseif(i1==1315334514)then
set m5=ZN7(220.,x6)
set J4=(m5!=null)and(SL7(x6,852127,1093682521))
if(not J4)then
set m5=ZN7(600.,x6)
set J4=(m5!=null)and(Bz>TC4[O5])and(G0[256+O5])and(SL7(x6,852273,1093810506))
endif
elseif(i1==1215657064)then
set m5=ZN7(220.,x6)
set J4=(m5!=null)and(SL7(x6,852096,1093677913))
elseif(i1==1160786243)then
set m5=ZN7(300.,x6)
if((m5!=null)and(SE7(700.,m5,Condition(function k5))>1))then
set GZ[O5]=true
set J4=J8(O5,SZ7(x6,852089,1093678672,m5))
endif
elseif(i1==1332109682)then
set m5=ZN7(350.,x6)
set J4=(m5!=null)and(((SE7(500.,x6,Condition(function k0))>4)and(SL7(x6,852588,1093810505)))or(SZ7(x6,852662,1093678134,m5)))
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
set m5=ZN7(300.,x6)
set J4=(m5!=null)and(SZ7(x6,852089,1093683532,m5))
elseif(i1==1430468913)then
set m5=ZN7(300.,x6)
set J4=(m5!=null)and(SL7(x6,852127,1093810507))
endif
if((not J4)and(m5!=null))then
call IssueTargetOrderById(x6,851983,m5)
endif
endif
elseif(Iz==ZU[D74])then
set hq[96+O5]=Bz+13.
elseif(Iz==ZU[DR4])then
set TC4[240+O5]=Bz+18.
elseif(Iz==ZU[DP4])then
set TC4[176+O5]=Bz+30.
elseif(Iz==ZU[DY4])then
set TC4[224+O5]=Bz+10.
elseif(Iz==ZU[VB])then
set TC4[256+O5]=Bz+30.
elseif(Iz==ZU[DT4])or(Iz==ZU[ZA])then
set TC4[192+O5]=Bz+17.
elseif(Iz==ZU[E24])then
set TC4[208+O5]=Bz+30.
call QA7(1.1)
set m5=h4[O5]
if(i1==1328558160)then
set J4=(m5!=null)and(IssueTargetOrderById(x6,852662,m5))
endif
elseif(Iz==ZU[AL])then
set TA4=false
elseif(Iz==ZU[T1])then
set hq[80+O5]=Bz+45.
elseif(Iz==ZU[F74])then
set hq[128+O5]=Bz+30.
elseif(Iz==ZU[S6])then
set hq[144+O5]=Bz+100.
elseif((Iz==ZU[YC])or(Iz==ZU[XC])or(Iz==ZU[F6]))then
set Iz=GetUnitCurrentOrder(x6)
call SetPlayerController(GetOwningPlayer(x6),MAP_CONTROL_NONE)
loop
exitwhen(Iz!=GetUnitCurrentOrder(x6))
call QA7(0.1)
endloop
call QA7(0.1)
call SetPlayerController(GetOwningPlayer(x6),MAP_CONTROL_COMPUTER)
call QA7(0.5)
call J3(x6,true)
if(Q17(x6,S57(x6))<1500.)then
set h9[O5]=S57(x6)
call VN7(x6,true)
else
call B87(x6)
endif
elseif(Iz==ZU[C0])then
if(GZ[272+O5])then
call QA7(0.01)
if((i1==1315334514)or(i1==1162032439))then
call ExecuteFunc("RPF")
elseif((i1==1315074670)or(i1==1162032951))then
call ExecuteFunc("RQF")
endif
endif
elseif((Iz==ZU[Y0])or(Iz==ZU[B0]))then
if(not R17(x6))then
call TriggerSleepAction(1.5)
if(i1==1212363833)then
set m5=ZN7(400.,x6)
set J4=(m5!=null)and(SZ7(x6,852095,1093809220,m5))
elseif(i1==1429221441)then
set m5=ZN7(400.,x6)
set J4=(m5!=null)and(SZ7(x6,852231,1093678389,m5))
elseif(i1==1211117653)then
set m5=ZN7(400.,x6)
set J4=(m5!=null)and((Bz>TC4[64+O5])and A67(x6,LR4,LR4,LP4,1093686863)and(IssueImmediateOrderById(x6,852132)))
if((not J4)and(m5!=null)and(Bz>TC4[64+O5]))then
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),BS[7],true)
set J4=IssueImmediateOrderById(x6,852132)
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),BS[7],false)
endif
elseif(i1==1160786242)then
set m5=ZN7(400.,x6)
set J4=(m5!=null)and(IssueTargetOrderById(x6,852662,m5))
elseif(i1==1332963428)then
set m5=ZN7(400.,x6)
set J4=(m5!=null)and(GetUnitState(x6,UNIT_STATE_MANA)>hq[272+O5])and(SZ7(x6,852480,1093677649,m5))
elseif(i1==1429221424)then
set m5=ZN7(400.,x6)
set J4=(m5!=null)and(SZ7(x6,852555,1093687351,m5))
endif
endif
endif
set x6=null
set m5=null
endfunction
function TXF takes integer S4F,integer VQ7 returns integer
if S4F==eY[172+VQ7]or S4F==eY[188+VQ7]then
return 10
elseif GetUnitTypeId(M7[VQ7])==1211117653 then
return 5
elseif S4F==1093677391 or S4F==1093677633 or S4F==1093682264 or S4F==1093678147 or S4F==1093744944 or S4F==1093809220 or S4F==1093686091 or S4F==1093685831 or S4F==1093677623 or S4F==1093678135 or S4F==1093677378 or S4F==1093683511 or S4F==1093742680 or S4F==1093678167 or S4F==1093677361 or S4F==1093678137 or S4F==1093678405 or S4F==1093808453 or S4F==1093742660 or S4F==1093684300 or S4F==1093684045 or S4F==1093685848 or S4F==1093677136 or S4F==1093678669 or S4F==1093677139 or S4F==1093678913 or S4F==1093681490 or S4F==1093685570 or S4F==1093679182 or S4F==1093679190 or S4F==1093685071 or S4F==1093685046 or S4F==1093750345 or S4F==1093684280 or S4F==1093743698 or S4F==1093685584 or S4F==1093748033 or S4F==1093686083 or S4F==1093743414 or S4F==1093743178 or S4F==1093743689 or S4F==1093678679 or S4F==1093685302 or S4F==1093687349 or S4F==1093684558 or S4F==1093744435 or S4F==1093679192 or S4F==1093678389 or S4F==1093677892 or S4F==1093677640 or(S4F==1093679173 and DR8()==false)or S4F==1095267426 or S4F==1093687351 or S4F==1093810507 or S4F==1093744948 or S4F==1093681989 or S4F==1093678134 or S4F==1093683019 or S4F==1093678169 or S4F==1093678422 or S4F==1093678665 or S4F==1093750840 or S4F==1093678671 or S4F==1093683510 or S4F==1093684550 or S4F==1093683287 or S4F==1093684813 or S4F==1093684815 or S4F==1093685066 or S4F==1093678672 or S4F==1093684802 or S4F==1093742668 or S4F==1093684817 or S4F==1093685074 or S4F==1093685825 or S4F==1093685813 or S4F==1093685573 or S4F==1093750087 or S4F==1093753167 or S4F==1093751607 or S4F==1093751633 or S4F==1093751637 or S4F==1093751608 then
return 2
endif
return 0
endfunction
function TYF takes unit RL7,integer DRF,integer S4F returns nothing
local integer O5=0
local integer i
local integer j
local boolean J4=false
set EZ7="aiRubickSpellSteal"
if(not RB7(RL7))then
return
endif
loop
exitwhen O5==AZ4
if S4F==AY4[O5]then
return
endif
set O5=O5+1
endloop
set i=GetPlayerId(GetOwningPlayer(RL7))
set j=TXF(S4F,i)
if j==0 then
return
endif
set O5=1
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
set J4=false
if AK7(Player(O5))and IsUnitEnemy(RL7,Player(O5))and M7[O5]!=null and GetUnitTypeId(M7[O5])==1160786520 and GetWidgetLife(M7[O5])>.405 and(not R17(M7[O5]))and IsUnitInRange(M7[O5],RL7,950.)and Bz>TC4[160+O5]and eY[416+O5]!=S4F and((hq[816+O5]<Bz)or((Bz<TC4[O5]-10)and(j<=eY[432+O5]))or(j>eY[432+O5]))then
set eY[448+O5]=S4F
set h4[320+O5]=RL7
endif
set O5=O5+1
endloop
endfunction
function TZF takes unit P67,integer S4F,unit RL7 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(P67))
local integer UA7=GetPlayerId(GetOwningPlayer(RL7))
set eY[336+O5]=0
set eY[352+O5]=0
set eY[368+O5]=0
set eY[188+O5]=0
set TC4[O5]=0
set TC4[16+O5]=0
set TC4[32+O5]=0
set TC4[48+O5]=0
if S4F==eY[336+UA7]then
set eY[336+O5]=S4F
elseif S4F==eY[352+UA7]then
set eY[352+O5]=S4F
elseif S4F==eY[368+UA7]then
set eY[368+O5]=S4F
elseif S4F==eY[172+UA7]or S4F==eY[188+UA7]then
set eY[188+O5]=S4F
endif
set eY[432+O5]=TXF(S4F,UA7)
set eY[400+O5]=GetUnitTypeId(RL7)
set eY[416+O5]=S4F
set hq[816+O5]=Bz+(GetUnitAbilityLevel(P67,1093809992)+2)*60
endfunction
function TAF takes unit it,unit m5 returns boolean
local boolean J4=false
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1
if(Z84[O5]==ZF4)or(Z84[O5]==ZE4 and GetRandomInt(1,3)==1)then
set i1=GetUnitTypeId(it)
set bj_lastLoadedUnit=it
if i1==1429221451 and(Bz>TC4[32+O5])and(SE7(900.,it,Condition(function SF7))==0)then
set J4=IssueImmediateOrderById(it,852503)
elseif i1==1311780930 and(Bz>TC4[48+O5])then
set J4=SL7(it,852514,1093686082)
elseif i1==1429221424 and(Bz>TC4[48+O5])then
set J4=SL7(it,852526,1093815119)
elseif i1==1160786265 and(Bz>TC4[16+O5])then
set J4=SL7(it,852526,1093748033)
endif
if(not J4)and((GetUnitLifePercent(it)<40)or(R17(it))or(GetUnitMoveSpeed(it)<200))then
if(not J4)and(SG7(it,ZU[C0]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SG7(it,ZU[Q1]))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,it)
endif
endif
if(not J4)and(h4[O5]!=null or R17(it))then
if(not J4)and(SP7(it,ZU[D0]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SP7(it,ZU[Y0]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SP7(it,ZU[DV4]))then
set TB4=true
set J4=UnitUseItem(it,bj_lastCreatedItem)
set TB4=false
endif
endif
if J4 then
set h4[352+O5]=m5
endif
endif
return J4
endfunction
function TBF takes nothing returns nothing
local unit it=T37(GetHandleId(GetTriggeringTrigger()),"AI|Hero")
local integer i=GetHandleId(it)
local integer j=U97(i,"AI|AncestralCharge|hTrig")
local group g=LoadGroupHandle(L7,j,187)
local unit u=T37(i,"AI|AncestralCharge")
local unit m5=T37(i,"AI|AncestralCharge|Target")
if u!=null and(m5!=null and R37(m5)and(not IsUnitInGroup(m5,g))and(IsUnitInRange(m5,it,1500.)or(IsUnitInRange(m5,it,3000.)and GetWidgetLife(m5)<100.))and IssuePointOrderById(u,851986,GetUnitX(m5),GetUnitY(m5)))==false then
set IN4=it
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(it),GetUnitY(it),1500,Condition(function G78))
loop
set m5=FirstOfGroup(iA)
exitwhen(m5==null or(not IsUnitInGroup(m5,g)))
call GroupRemoveUnit(iA,m5)
endloop
if(m5!=null)then
call IssuePointOrderById(u,851986,GetUnitX(m5),GetUnitY(m5))
call TJ7(i,"AI|AncestralCharge|Target",m5)
endif
endif
if u==null or m5==null then
call IssueImmediateOrderById(u,852589)
call DestroyTrigger(GetTriggeringTrigger())
endif
set it=null
set g=null
set u=null
set m5=null
endfunction
function TCF takes unit it returns nothing
local trigger t=null
local integer i=0
if(not QY4[GetPlayerId(GetOwningPlayer(it))])then
return
endif
set t=CreateTrigger()
set i=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddAction(t,function TBF)
call TJ7(i,"AI|Hero",it)
set t=null
endfunction
function T3F takes nothing returns nothing
local unit j5=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(j5))
local integer QSF=GetSpellAbilityId()
local integer i1=GetUnitTypeId(j5)
local integer T6F=0
local unit m5=null
local boolean J4=false
local boolean TLF=GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTER
local location b5=null
local integer UP
set EZ7="T3F"
set m5=GetSpellTargetUnit()
if m5!=null and AK7(GetOwningPlayer(m5))and(is(m5))then
set J4=TAF(m5,j5)
endif
set GZ[16+O5]=false
set h4[32+O5]=null
if(GetSpellTargetUnit()!=null)then
set h4[32+O5]=GetSpellTargetUnit()
set m5=GetSpellTargetUnit()
endif
if i1==1160786520 and QSF!=1093809990 and QSF!=1093809991 and QSF!=1093809992 and QSF!=1093810008 and hq[816+O5]>Bz then
set G0[288+O5]=false
set i1=eY[400+O5]
endif
if GQ7 and i1!=1160786520 then
call TYF(j5,i1,QSF)
endif
if(QSF==1097163124)then
if(TLF)then
call QA7(0.1)
call SY7(j5,851986,h9[O5])
endif
elseif(i1==1162032181)then
if((TLF)and(QSF==1093684299))then
set hq[512+O5]=Bz+3.
if(m5!=null)then
call QA7(((Q07(GetUnitX(j5),GetUnitX(j5),GetUnitX(m5),GetUnitY(m5))/40.)*.01)+.5)
else
call QA7(((Q07(GetUnitX(j5),GetUnitX(j5),GetLocationX(HC[O5]),GetLocationY(HC[O5]))/40.)*.01)+.5)
endif
set m5=ZN7(300.,j5)
if(((not R17(j5))or(Id(O5)))and(m5!=null))then
set GZ[O5]=true
if((R17(j5))or(not J8(O5,(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(SQF(j5)))and(GetUnitState(m5,UNIT_STATE_LIFE)>300.)and(SB7(j5,852652,1093683761,0,m5)))))then
call T7F(j5,m5,true)
endif
elseif(R17(j5))then
call SY7(j5,851986,h9[O5])
else
call J3(j5,true)
endif
endif
elseif(i1==1429221424)then
if(QSF==1093748789)then
call TriggerSleepAction(0.05)
if((h4[O5]==m5)and(GetUnitLifePercent(m5)<70.))then
call NTF(j5,m5)
endif
set T6F=OrderId("creepheal")
endif
elseif(i1==1430466609)then
if(QSF==1093684549)then
set hq[512+O5]=Bz+3.
call TriggerSleepAction(0.05)
if(not R17(j5))then
set m5=ZN7(500.,j5)
if(not TLF)then
if((m5!=null)and(GetUnitLifePercent(m5)<60.))then
call NTF(j5,m5)
endif
elseif(m5!=null)then
set J4=(((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<SPF(j5))and(SB7(j5,852125,1093810258,1093810259,m5)))or((IsUnitInRange(j5,m5,400.))and(SL7(j5,852526,1093678145)))or(SB7(j5,852527,1093685559,0,m5)))
endif
else
set J4=(TLF)and(h4[O5]==null)and((eY[O5]==1)or(eY[O5]==3)or(eY[O5]==4))and(SY7(j5,851986,h9[O5]))
endif
set T6F=852525
elseif(QSF==1093685559)then
call TriggerSleepAction(0.05)
call T7F(j5,m5,true)
set J4=(TLF)and(IsUnitInRange(j5,m5,400.))and((SL7(j5,852526,1093678145))or((R17(m5))and(SB7(j5,852125,1093810258,1093810259,m5))))
set T6F=852527
elseif(QSF==1093678145)then
call TriggerSleepAction(0.05)
set hq[16+O5]=Bz+10.
set m5=ZN7(400.,j5)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.))then
call NTF(j5,m5)
endif
if(TLF)then
set J4=(m5!=null)and(((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<SPF(j5))and(not ke(j5))and(SB7(j5,852125,1093810258,1093810259,m5)))or(SB7(j5,852527,1093685559,0,m5)))
endif
set T6F=852218
elseif((QSF==1093810258)or(QSF==1093810259))then
call TriggerSleepAction(0.05)
set T6F=GetUnitAbilityLevel(j5,QSF)
if(T6F!=3)then
set hq[O5]=Bz+140.-(T6F*20.)
else
set hq[O5]=Bz+75.
endif
set m5=K2(400.,HC[O5])
if(m5!=null)then
call T7F(j5,m5,true)
endif
set T6F=852125
endif
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if(QSF==1093678929)then
call TriggerSleepAction(.5)
if(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(j5)))then
set G0[32+O5]=false
call T7F(j5,GetSpellTargetUnit(),true)
call PFF(j5,GetSpellTargetUnit())
endif
endif
elseif(i1==1433168227)then
if(QSF==1093678918)then
call TriggerSleepAction(0.05)
if((m5!=null)and(R17(m5)))then
call T7F(j5,m5,true)
endif
set T6F=852226
elseif(QSF==1093678387)then
call TriggerSleepAction(0.05)
set T6F=852066
elseif(QSF==1093679186)then
call TriggerSleepAction(0.05)
set T6F=852225
endif
elseif(i1==1429221430)then
if(QSF==1093681736)then
call TriggerSleepAction(0.05)
set T6F=852601
elseif(QSF==1093687121)then
call TriggerSleepAction(0.05)
set hq[512+O5]=Bz+20.
call T7F(j5,ZN7(500.,j5),true)
set T6F=OrderId("roar")
endif
elseif(i1==1430466872)then
if(QSF==1093684558)then
call TriggerSleepAction(0.05)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call T7F(j5,m5,true)
if(TLF)then
call QA7(1.)
set T6F=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((not ke(m5))and(T6F>200.)and(T6F<SSF(j5)))then
set GZ[O5]=true
set J4=J8(O5,SB7(j5,852119,1093679413,1093679447,m5))
endif
endif
endif
set T6F=852502
endif
elseif(i1==1162032439)then
if(QSF==1093744435)then
call TriggerSleepAction(0.05)
set hq[O5]=Bz+22.
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call T7F(j5,m5,true)
if((TLF)and(GetHeroLevel(j5)>5))then
set T6F=GetUnitAbilityLevel(j5,1093677363)
if(T6F==0)then
set T6F=GetUnitAbilityLevel(j5,1093681462)
endif
if((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(100+(300*T6F)))and(GetUnitState(m5,UNIT_STATE_LIFE)<200.))then
set GZ[O5]=true
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093681462,true)
set J4=J8(O5,SL7(j5,852594,1093677363))
endif
endif
endif
set T6F=852527
endif
elseif(i1==1430466865)then
if(QSF==1093677651)then
call TriggerSleepAction(0.05)
if((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO)))then
set m5=K2(350.,HC[O5])
endif
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.))then
call NTF(j5,m5)
endif
set J4=(TLF)and(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<55.)and(IsUnitInRange(j5,m5,350.))and(R2I(GetUnitState(j5,UNIT_STATE_MANA))<(140+(GetUnitAbilityLevel(j5,1093810508)*100)))and(SL7(j5,852164,1093810508))
set T6F=852125
elseif(QSF==1093677879)then
call TriggerSleepAction(0.05)
set m5=h4[O5]
set J4=(TLF)and(m5!=null)and(R37(m5))and(G0[128+O5])and(IsUnitInRange(j5,m5,800.))and(IssueTargetOrderById(j5,851983,m5))
set T6F=852066
endif
elseif(i1==1430468144)then
if(QSF==1093679192)then
call TriggerSleepAction(0.05)
call T7F(j5,m5,true)
set T6F=852189
endif
elseif(i1==1429221441)then
if((QSF==1093685847)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call TriggerSleepAction(1.)
if(TLF)then
if((GetUnitLifePercent(m5)>70.)or((Bz<hq[O5])and(GetUnitCurrentOrder(m5)==851973))or(not SB7(j5,852231,1093678389,0,m5))or(not SL7(j5,852123,1093677903)))then
call T7F(j5,m5,true)
endif
else
call NTF(j5,m5)
endif
elseif(QSF==1093678389)then
call TriggerSleepAction(0.05)
set hq[O5]=Bz+10.
call T7F(j5,m5,true)
if((TLF)and(G0[128+O5]))then
set J4=((not IsUnitInRange(j5,m5,300.))and(GetUnitLifePercent(m5)<60.)and(GetUnitLifePercent(j5)>60.)and(IssueTargetOrderById(j5,852600,m5)))or((IsUnitInRange(j5,m5,250.))and(GetUnitLifePercent(m5)<65.)and(SL7(j5,852123,1093677903)))
endif
set T6F=852231
elseif(QSF==1093677903)then
set hq[16+O5]=Bz+180.
endif
elseif(i1==1165451634)then
if((QSF==1093685324)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call TriggerSleepAction(1.)
if(TLF)then
if(not SB7(j5,OrderId("acidbomb"),1093687629,0,m5))then
call T7F(j5,GetSpellTargetUnit(),true)
endif
else
call NTF(j5,m5)
endif
elseif(QSF==1093687629)then
call TriggerSleepAction(0.05)
call T7F(j5,m5,true)
set J4=(TLF)and(not IsUnitInRange(j5,m5,300.))and(IssueTargetOrderById(j5,OrderId("acidbomb"),m5))
set T6F=OrderId("acidbomb")
endif
elseif(i1==1432642913)then
if(QSF==1093684550)then
call TriggerSleepAction(0.05)
set T6F=852119
elseif(QSF==1093683507)then
call TriggerSleepAction(0.05)
if((IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(GetUnitLifePercent(m5)<50.))then
call T7F(j5,m5,true)
endif
set T6F=852662
endif
elseif(i1==1432510828)then
if((TLF)and(QSF==1093681985))then
call ExecuteFunc("RNF")
elseif(QSF==1093682004)then
set G0[32+O5]=false
endif
elseif(i1==1429221446)then
if((QSF==1093682764)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call NTF(j5,m5)
if TLF and IsUnitInRange(j5,m5,225)then
call SetPlayerAbilityAvailable(Player(O5),1093678667,true)
call IssueImmediateOrderById(j5,852178)
endif
elseif((QSF==1093678667)and(TLF))then
set m5=ZN7(250.,j5)
set J4=(m5!=null)and((h4[O5]==m5)or(GetUnitLifePercent(m5)<75.))and(SB7(j5,852480,1093682764,1093747544,m5))
endif
elseif(i1==1332963428)then
if((QSF==1093677649)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call NTF(j5,m5)
endif
elseif(i1==1211117640)then
if(QSF==1093681989)then
call TriggerSleepAction(0.05)
if((IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
set h4[16+O5]=m5
call T4F(j5,m5)
set J4=(TLF)and(not G0[32+O5])and((SAF(j5,m5))or(IssueTargetOrderById(j5,852089,m5)))
endif
set T6F=852486
elseif(QSF==1093684564)then
call TriggerSleepAction(0.05)
set hq[O5]=Bz+6.
set T6F=852089
elseif(QSF==1093679428)then
set hq[16+O5]=Bz+35.
elseif(((QSF==1093681987)or(QSF==1093677658))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
if(GetUnitAbilityLevel(m5,1110454606)==0)then
call NTF(j5,m5)
else
call T4F(j5,m5)
endif
endif
elseif(i1==1430468406)then
if((QSF==1093677645)or(QSF==1093678670)or(QSF==1093678898)or(QSF==1093678900)or(QSF==1093678904))then
call TriggerSleepAction(0.05)
set T6F=852218
elseif((QSF==1093678899)or(QSF==1093677898)or(QSF==1093678154)or(QSF==1093678157)or(QSF==1093678158))and(TLF)then
call ExecuteFunc("R_F")
endif
elseif(i1==1432642913)then
if(QSF==1093684819)then
if((TLF)and(GetUnitLifePercent(j5)<50.)and(not Id(O5)))then
call TriggerSleepAction(0.5)
call VN7(j5,false)
endif
endif
elseif(i1==1160786241)then
if((QSF==1093684820)or(QSF==1093684824))then
set m5=K2(500.,HC[O5])
if(m5!=null)then
call NTF(j5,m5)
call T4F(j5,m5)
endif
endif
elseif(i1==1160786243)then
if(QSF==1093678672)then
set m5=K2(500.,HC[O5])
if(m5!=null)then
call NTF(j5,m5)
endif
endif
elseif(i1==1328558154)then
if(QSF==1093750840)then
elseif(QSF==1093682996 or QSF==1093747768)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call NTF(j5,m5)
endif
endif
elseif(i1==1315988077)then
if(QSF==1093684561)then
set m5=K2(500.,HC[O5])
if(m5!=null)then
call NTF(j5,m5)
call PFF(j5,m5)
endif
elseif(QSF==1093684561)then
call TriggerSleepAction(0.05)
if(GetUnitLifePercent(m5)<50.)then
call T7F(j5,m5,true)
endif
set T6F=852585
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if(QSF==1093677894)then
call TriggerSleepAction(0.05)
set T6F=852580
elseif(QSF==1093681490)then
call TriggerSleepAction(0.05)
call T7F(j5,m5,true)
set T6F=852095
endif
elseif(i1==1164207469)then
if(QSF==1095066220)then
set hq[512+O5]=Bz+3.
call TriggerSleepAction(0.05)
set m5=ZN7(200.,j5)
if(m5!=null)then
call T7F(j5,m5,true)
endif
set J4=(TLF)and(h4[O5]==null)and(R17(j5))and((eY[O5]==1)or(eY[O5]==3)or(eY[O5]==4))and(SY7(j5,851986,h9[O5]))
set T6F=852525
endif
elseif(i1==1315007329)then
if(QSF==1093677108)then
call TriggerSleepAction(0.05)
if(GetUnitLifePercent(m5)<65.)then
call T7F(j5,m5,true)
endif
set T6F=852095
elseif(QSF==1093681716)then
call TriggerSleepAction(0.05)
call T7F(j5,m5,true)
set T6F=852149
endif
elseif(i1==1332898670)then
if((QSF==1093677136)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call NTF(j5,m5)
elseif(QSF==1093685848)then
call TriggerSleepAction(0.05)
call T7F(j5,m5,true)
if((TLF)and(IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<70.)or((Bz>hq[16+O5])and(GetUnitState(j5,UNIT_STATE_MANA)>(hq[272+O5]+80.+(30.*GetUnitAbilityLevel(j5,1093677136))))))and(GetHeroLevel(j5)>5)and(GetUnitAbilityLevel(m5,1110454344)>0))then
set GZ[O5]=true
set J4=J8(O5,SB7(j5,852504,1093677128,1093681457,m5))
endif
set T6F=852149
elseif((QSF==1093677128)or(QSF==1093681457))then
call TriggerSleepAction(0.05)
set m5=K2(550.,HC[O5])
if(m5!=null)then
call PFF(j5,m5)
if((TLF)and(Bz>hq[16+O5]))then
set GZ[O5]=true
set J4=(((IsUnitInRange(j5,m5,400)or EH9(m5)))and J8(O5,SZ7(j5,852480,1093677136,m5)))or(SB7(j5,852502,1093685848,0,m5))
endif
endif
set hq[O5]=Bz+120.
set T6F=852504
endif
elseif(i1==1215723364)then
if(QSF==1093683534)or(QSF==1093747031)then
call TriggerSleepAction(.3)
set hq[512+O5]=Bz+2.
set hq[O5]=Bz+45.
call T7F(j5,m5,true)
call PFF(j5,m5)
elseif(QSF==1093677633)then
call TriggerSleepAction(0.05)
call T7F(j5,m5,true)
set hq[16+O5]=Bz+10.
set T6F=852095
endif
elseif(i1==1433105516)then
if(QSF==1093747288)then
set m5=K2(400.,HC[O5])
if(m5!=null)then
call NTF(j5,m5)
call PFF(j5,m5)
endif
endif
elseif(i1==1164799603)then
if(QSF==1093808453)then
call TriggerSleepAction(0.05)
call T7F(j5,m5,true)
set T6F=OrderId("carrionswarm")
endif
elseif(i1==1328558160)then
if(QSF==1093682766)then
set hq[O5]=Bz+11.
if((not R17(j5))or(Id(O5)))then
set hq[512+O5]=Bz+3.
if(GetSpellTargetUnit()!=null)then
call QA7((RMaxBJ(Q07(GetUnitX(j5),GetUnitX(j5),GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))/50.,1.)*.04)+.3)
else
call QA7((RMaxBJ(Q07(GetUnitX(j5),GetUnitX(j5),GetLocationX(HC[O5]),GetLocationY(HC[O5]))/50.,1.)*.04)+.3)
endif
if(not IsUnitHidden(j5))then
call T7F(j5,ZN7(300.,j5),true)
if((TLF)and(GetUnitCurrentOrder(j5)==0))then
call J3(j5,true)
endif
endif
endif
endif
elseif(i1==1212363833)then
if(QSF==1093678643)then
set hq[16+O5]=Bz+60.
endif
elseif(i1==1315070563)then
if(QSF==1093684529)then
set hq[O5]=Bz+140.-(GetUnitAbilityLevel(j5,QSF)*10.)
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call NTF(j5,m5)
endif
endif
elseif(i1==1214931305)then
if(QSF==1093678147)then
call TriggerSleepAction(0.05)
if TLF then
call IssueTargetOrderById(j5,851983,m5)
endif
set hq[16+O5]=Bz+10.
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if((GetUnitState(j5,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and((GetUnitState(j5,UNIT_STATE_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))>(40*GetHeroLevel(j5))))then
call NTF(j5,m5)
if((TLF)and(GetHeroLevel(j5)>5)and(Bz>hq[O5])and(GetUnitState(m5,UNIT_STATE_LIFE)>150.)and(G0[128+O5]))and(not IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))then
if(IsUnitInRange(j5,m5,450.))then
set J4=((GetUnitState(j5,UNIT_STATE_MANA)>hq[272+O5]+50.)and(SS7(j5,ZU[D0])))or(IssueImmediateOrderById(j5,852600))
endif
endif
if((not J4)and(TLF)and(not R17(j5)))then
set J4=IssueTargetOrderById(j5,851983,m5)
endif
endif
endif
set T6F=852171
elseif(QSF==1093748025)then
call TriggerSleepAction(0.05)
if TLF then
call IssueTargetOrderById(j5,851983,m5)
endif
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(G0[128+O5]))then
if((GetUnitState(j5,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and((GetUnitState(j5,UNIT_STATE_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))>(40*GetHeroLevel(j5))))then
call T7F(j5,m5,true)
endif
endif
set T6F=OrderId("blizzard")
elseif((QSF==1093677906)or(QSF==1093681494))then
set m5=K2(600.,SX7(j5))
if(m5!=null)then
call NTF(j5,m5)
call PFF(j5,m5)
endif
set hq[O5]=Bz+180.-(GetUnitAbilityLevel(j5,QSF)*30.)
endif
elseif(i1==1212365106)then
if((QSF==1093684025)and(TLF)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call TriggerSleepAction(1.)
call SB7(j5,852089,1093685831,0,m5)
endif
elseif(i1==1211117617)then
if(QSF==1093744944)then
call TriggerSleepAction(0.05)
set hq[O5]=Bz+8.
call T7F(j5,m5,true)
set J4=(TLF)and(IsUnitInRange(j5,m5,400.))and(GetUnitLifePercent(m5)<70.)and(SL7(j5,OrderId("chemicalrage"),1093752648))
set T6F=OrderId("acidbomb")
elseif(QSF==1093752648)then
call TriggerSleepAction(0.05)
set m5=ZN7(800.,j5)
call T7F(j5,m5,true)
set hq[512+O5]=Bz+20.
if((TLF)and(m5!=null)and(IsUnitInRange(j5,m5,700.)))then
set J4=(SB7(j5,OrderId("acidbomb"),1093744944,0,m5))or(IssueTargetOrderById(j5,851983,m5))
endif
set T6F=OrderId("chemicalrage")
endif
elseif(i1==1211117633)then
if(QSF==1093684045)then
call TriggerSleepAction(0.05)
call T7F(j5,m5,true)
call T4F(j5,m5)
if((TLF)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
set J4=SB7(j5,852095,1093684310,0,m5)
set h4[16+O5]=m5
endif
set T6F=852585
endif
elseif(i1==1211117620)then
if(QSF==1093677623)then
call TriggerSleepAction(0.05)
set m5=K2(280.,HC[O5])
call T7F(j5,m5,true)
if((TLF)and(m5!=null))then
call IssueTargetOrderById(j5,851983,m5)
call QA7(1.)
set J4=((not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<STF(j5))and(SB7(j5,852119,1093677392,1093679450,m5)))or(((GetUnitLifePercent(m5)<50.)and(SAF(j5,m5))))or(SB7(j5,852125,1093677382,0,m5))or(IssueTargetOrderById(j5,851983,m5))
endif
set T6F=852232
elseif(QSF==1093677382)then
call TriggerSleepAction(0.05)
set hq[16+O5]=Bz+8.5
if(m5==null)then
set m5=K2(300.,HC[O5])
endif
set J4=(TLF)and(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<STF(j5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(SB7(j5,852119,1093677392,1093679450,m5))
set T6F=852125
endif
elseif(i1==1215657064)then
if(QSF==1093677913)then
call TriggerSleepAction(0.05)
set hq[O5]=Bz+7.75
set m5=ZN7(350.,j5)
if((m5!=null)and((not R17(j5))or(R17(m5))))then
call T7F(j5,m5,true)
set J4=(TLF)and(SL7(j5,852600,1093750841))
endif
set T6F=852096
elseif(QSF==1093750841)then
call TriggerSleepAction(0.05)
set m5=ZN7(500.,j5)
if(m5!=null)then
call T7F(j5,m5,true)
endif
if(TLF)then
if((GetHeroLevel(j5)>5)and(G0[128+O5])and(GetUnitLifePercent(j5)>70.)and(not IC(O5)))then
set hq[512+O5]=Bz+6.
endif
if(m5==null)then
set m5=S97(500.,SX7(j5),Condition(function WO7))
endif
set J4=(m5!=null)and(not G0[O5])and(G0[128+O5])and((not R17(j5))or(R_7(m5,j5)))and(IssueTargetOrderById(j5,851983,m5))
endif
set T6F=852561
endif
elseif(i1==1332179560)then
if(QSF==1093742660)then
call TriggerSleepAction(0.05)
call T7F(j5,m5,true)
set T6F=OrderId("acidbomb")
endif
elseif(i1==1429221443)then
if(QSF==1093744948)then
call TriggerSleepAction(0.05)
call T7F(j5,m5,true)
set T6F=OrderId("chainlightning")
endif
elseif(i1==1215130471)then
if((QSF==1093678167)or(QSF==1093679161)or(QSF==1093679169)or(QSF==1093679172)or(QSF==1093815121))then
call TriggerSleepAction(0.05)
if((GZ[O5])or(m5==h4[O5])or(GetUnitLifePercent(m5)<55.))then
call T7F(j5,m5,true)
elseif(IsUnitType(m5,UNIT_TYPE_HERO))then
call NTF(j5,m5)
endif
set T6F=852095
elseif((QSF==1093677361)or(QSF==1093677111)or(QSF==1093677396)or(QSF==1093677126))then
call TriggerSleepAction(0.05)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call T7F(j5,m5,true)
endif
set T6F=852662
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
if(QSF==1093750345)then
call ExecuteFunc("T9F")
endif
elseif(i1==1311781206)then
if((TLF)and(QSF==1093684302))then
call TriggerSleepAction(1.)
if(((GetUnitManaPercent(j5)>55.)and(SE7(500.,j5,Condition(function k3))>2))or(SE7(500.,j5,Condition(function WE7))>0))then
call IssueImmediateOrderById(j5,852600)
endif
endif
elseif(i1==1164799855)then
if((QSF==1093677378)and(TLF))then
call ExecuteFunc("S8F")
endif
elseif(i1==1311787088)then
if(QSF==1093750089)and TLF then
call TriggerSleepAction(0.05)
call IssueImmediateOrderById(j5,851972)
endif
elseif(i1==1211117651)then
if(QSF==1093743698)and TLF then
call QA7(0.01)
call IssueTargetOrderById(j5,851983,m5)
endif
elseif(i1==1328558406)then
if TLF then
if QSF==1093752114 then
call TI7(GetHandleId(j5),"AI|IoSpiritsFar",true)
elseif QSF==1093752115 then
call TI7(GetHandleId(j5),"AI|IoSpiritsFar",false)
elseif QSF==1093751864 then
call UU7(j5,"AI|IoSpirits",19)
endif
endif
elseif(i1==1160786506)then
if QSF==1093751637 then
set b5=GetSpellTargetLoc()
if TLF then
call J3(j5,true)
endif
call QA7(1.2)
set m5=ZP7(300,j5,GetLocationX(b5),GetLocationY(b5))
call T7F(j5,m5,true)
if TLF and(m5!=null)then
if(h4[O5]==null or(not IsUnitInRangeLoc(h4[O5],b5,300)))then
call LSE(O5,m5,false,false)
endif
set J4=(IssuePointOrderById(j5,852662,GetLocationX(b5),GetLocationY(b5)))
endif
endif
elseif(i1==1211122767)then
if QSF==1093812807 then
call TriggerSleepAction(0.05)
set m5=K2(250.,HC[O5])
call T7F(j5,m5,true)
set T6F=852662
endif
elseif(i1==1328558389)then
if(QSF==1093747000)then
if TLF then
call TCF(j5)
endif
endif
endif
if((TLF)and(not J4)and(T6F!=0)and(GetUnitCurrentOrder(j5)==T6F))then
call J3(j5,true)
endif
set j5=null
set m5=null
set b5=null
endfunction
function T1F takes nothing returns nothing
local unit it=GetTriggerUnit()
local integer QSF=GetSpellAbilityId()
local integer i1=GetUnitTypeId(it)
local integer O5=GetPlayerId(GetOwningPlayer(it))
local unit m5=h4[32+O5]
local integer UP
local location b5=null
local boolean J4=false
local boolean TLF=GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER
local real T0F=0
local unit PN7=null
set EZ7="T1F"
call TriggerSleepAction(0.01)
if((not TLF)and(hq[464+O5]>Bz)and(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(it))))then
call NTF(it,m5)
endif
if(m5!=null)and(not R37(m5))then
set m5=null
endif
if(h4[O5]!=null)and(not R37(h4[O5]))then
set h4[O5]=null
endif
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
endif
if((QSF==1093677647)or(QSF==1093679193)or(QSF==1093679194)or(QSF==1093679408)or(QSF==1093679410))then
if(TLF and T24[O5]==true)then
if(SG7(it,GetItemTypeId(U44[O5])))then
call QA7(1.)
call DisableTrigger(H94)
call UnitRemoveItem(it,SK7(it,GetItemTypeId(U44[O5])))
call RemoveItem(U44[O5])
call EnableTrigger(H94)
endif
if(T_4[O5]!=null)then
call QA7(0.2)
call UnitAddItem(it,T_4[O5])
endif
set T54[O5]=Bz+T04[UF4]
set T24[O5]=false
set U44[O5]=null
set T_4[O5]=null
endif
call T7F(it,m5,true)
set J4=(i1==1429221445)and(TLF)and(not ke(m5))and(SB7(it,852095,1093678647,1093679184,m5))
elseif((QSF==1094936696)or(QSF==1095331943))then
call T7F(it,m5,true)
elseif(QSF==1095331188)then
if(TLF)then
call QA7(1.)
call B87(it)
endif
elseif(i1==1160785970)then
if(QSF==1093748023)then
call T7F(it,ZN7(750.,it),true)
elseif(QSF==1093747792)then
call T7F(it,ZN7(550.,it),true)
if(TLF)then
call QA7(OB7(IsUnitInRange(it,m5,300),1.25,2.25))
set J4=(m5!=null)and(Bz>TC4[O5])and(((GetUnitAbilityLevel(it,1093747023)>0)and(SL7(it,852229,1093747023)))or((GetUnitAbilityLevel(it,1093752150)>0)and(SL7(it,852229,1093752150))))
endif
elseif((QSF==1093747023)or(QSF==1093752150))then
if(TLF)then
set J4=(IsUnitInRange(it,m5,440.))and(IssuePointOrderById(it,852662,GetUnitX(m5)+2,GetUnitY(m5)-2))
endif
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if(QSF==1093747028)then
elseif(QSF==1093682994)then
if(TLF)then
set J4=(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.)and(IsUnitInRange(it,m5,400.))and(SL7(it,OrderId("charm"),1093747028))
else
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.))then
call NTF(it,m5)
endif
endif
endif
elseif(i1==1328558154)then
if((m5!=null)and(TLF)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call LSE(O5,m5,false,false)
call IssueTargetOrderById(it,851983,m5)
endif
elseif(i1==1429221443)then
if(QSF==1093686322)then
set hq[240+O5]=Bz+15
if((not R17(it))or(Id(O5)))then
if(m5!=null)then
call T7F(it,m5,true)
set hq[512+O5]=Bz+6.+(GetUnitAbilityLevel(it,QSF)*5.)
else
call T7F(it,ZN7(500.,it),true)
set hq[512+O5]=Bz+6.+(GetUnitAbilityLevel(it,QSF)*5.)
endif
endif
call TriggerSleepAction(1.)
if((TLF)and(IsUnitHidden(it)))then
call ShowUnitShow(it)
endif
endif
elseif(i1==1162032951)then
if(QSF==1093678404)then
call T7F(it,ZN7(550.,it),true)
elseif((QSF==1093679152)or(QSF==1093752154))then
set UP=GetUnitAbilityLevel(it,1093679152)
if((UP==0)and(QSF==1093752154))then
set UP=GetUnitAbilityLevel(it,1093752154)
if(UP>0)then
set hq[O5]=Bz+12.
endif
elseif(QSF==1093679152)then
if(UP==1)then
set hq[O5]=Bz+80.
elseif(UP==2)then
set hq[O5]=Bz+50.
elseif(UP==3)then
set hq[O5]=Bz+30.
else
set hq[O5]=Bz+80.
endif
else
set hq[O5]=Bz+80.
endif
call T7F(it,m5,true)
elseif(QSF==1093679446)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call NTF(it,m5)
endif
endif
elseif(i1==1162032181)then
if(QSF==1093683761)or(QSF==1093747767)then
set hq[O5]=Bz+180.
if TLF and G0[128+O5]then
set J4=XL7(NR7[NT7+O5])and IssuePointOrderByIdLoc(it,852218,NR7[NT7+O5])
endif
endif
elseif(i1==1160786505)then
if(QSF==1093753167)then
set UP=GetUnitAbilityLevel(it,1093753167)
call NTF(it,m5)
call T7F(it,m5,true)
call TriggerSleepAction(.5)
set J4=(TLF)and(m5!=null)and(iU(it))and(((Bz>TC4[32+O5])and(IsUnitInRange(it,m5,1000.))and(SE7(900.,m5,Condition(function WO7))==0)and(IssueTargetOrderById(it,852185,m5)))or((Bz>TC4[48+O5])and(IsUnitInRange(it,m5,570.))and(IssueImmediateOrderById(it,852594)))or(IssueTargetOrderById(it,851983,m5)))
elseif(QSF==1093751607)then
if(m5!=null)then
call NTF(it,m5)
set J4=(TLF)and((Bz>TC4[O5])and(IsUnitInRange(it,m5,250.))and((GetUnitLifePercent(m5)<47.)or(GetRandomInt(1,3)==1))and(IssueImmediateOrderById(it,852526)))or(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))or(IssueTargetOrderById(it,851983,m5))
endif
elseif(QSF==1093753169)then
set UP=GetUnitAbilityLevel(it,1093753169)
if(h4[O5]!=null)then
call T7F(it,m5,true)
call TriggerSleepAction(.5)
set J4=(TLF)and(h4[O5]!=null)and(iU(it))and(IssueTargetOrderById(it,851983,h4[O5]))
endif
endif
elseif(i1==1211117653)then
if(QSF==1093687372)then
set TC4[80+O5]=Bz+60.
elseif(QSF==1093686862)then
set TC4[48+O5]=Bz+55.
if((TLF)and((GetUnitState(it,UNIT_STATE_MANA))>200)and(GetUnitLevel(it)>=10)and((Bz>TC4[O5])or(AU7(it,1093686861)))and(Bz>TC4[112+O5]))then
set J4=A67(it,LP4,LQ4,LR4,1093686861)and IssuePointOrderById(it,852215,GetUnitX(h4[O5]),GetUnitY(h4[O5]))
endif
elseif(QSF==1093686863)then
if(TLF)then
set GZ[224+O5]=true
set J4=(h4[O5]!=null)and(IsUnitInRange(it,h4[O5],450.))and(IsUnitType(h4[O5],UNIT_TYPE_HERO))and(SG7(it,ZU[Y0]))and(UnitUseItem(it,SK7(it,ZU[Y0])))
set GZ[224+O5]=false
endif
set TC4[64+O5]=Bz+30.
elseif(QSF==1093686874)then
set TC4[16+O5]=Bz+20.
elseif(QSF==1093686855)then
set TC4[144+O5]=Bz+30.
elseif(QSF==1093686867)then
set TC4[32+O5]=Bz+30.
elseif(QSF==1093686859)then
set TC4[96+O5]=Bz+30.
if((TLF)and((GetUnitState(it,UNIT_STATE_MANA))>174)and((Bz>TC4[O5])or(AU7(it,1093686855)))and(Bz>TC4[144+O5])and(h4[O5]!=null))then
set UP=GetUnitAbilityLevel(it,1093808471)
if(UP>4)then
if(UP==5)then
call QA7(0.6)
elseif(UP==6)then
call QA7(0.9)
elseif(UP==7)then
call QA7(1.1)
else
endif
endif
set J4=A67(it,LR4,LR4,LR4,1093686855)and IssuePointOrderById(it,852089,GetUnitX(h4[O5]),GetUnitY(h4[O5]))
endif
elseif(QSF==1093686865)then
set TC4[128+O5]=Bz+15.
elseif(QSF==1093686861)then
set TC4[112+O5]=Bz+40.
if((TLF)and((GetUnitState(it,UNIT_STATE_MANA))>110)and((Bz>TC4[O5])or(AU7(it,1093686874)))and(Bz>TC4[16+O5])and(h4[O5]!=null))then
set J4=A67(it,LP4,LP4,LP4,1093686874)and(SZ7(it,852505,1093686874,h4[O5]))
endif
if((not J4)and(TLF))then
set J4=ST7(it,h4[O5])
endif
elseif(QSF==1093686864)then
set TC4[160+O5]=Bz+25.
elseif(QSF==1093808473 or QSF==1093748565)then
set UP=GetUnitAbilityLevel(it,1093808473)
if(UP>0)then
if(UP==1)then
set TC4[O5]=Bz+22.
elseif(UP==2)then
set TC4[O5]=Bz+17.
elseif(UP==3)then
set TC4[O5]=Bz+12.
else
set TC4[O5]=Bz+5.
endif
else
set UP=GetUnitAbilityLevel(it,1093748565)
if(UP>0)then
if(UP==1)then
set TC4[O5]=Bz+16.
elseif(UP==2)then
set TC4[O5]=Bz+8.
elseif(UP==3)then
set TC4[O5]=Bz+4.
else
set TC4[O5]=Bz+2.
endif
endif
endif
endif
elseif(i1==1160786502)then
if(QSF==1093751370)then
if(TLF)then
if((GetUnitLifePercent(it)<40.)or(UI4[O5]==true))then
call QA7(0.7)
call SL7(it,852244,1093808206)
endif
set UH4[O5]=false
if((GetUnitLifePercent(it)<40.))then
set J4=IssueImmediateOrderById(it,852662)
else
set m5=ZN7(600.,it)
if(m5!=null)then
call T7F(it,m5,true)
call TriggerSleepAction(.5)
set J4=(h4[O5]!=null)and(iU(it))and(IssueTargetOrderById(it,851983,h4[O5]))
endif
endif
set UI4[O5]=false
endif
elseif(QSF==1093753176)then
elseif(QSF==1093751371)then
set hq[O5]=Bz+110.
elseif(QSF==1093753177)then
if TLF and(h4[O5]!=null)then
call TJF(O5,it)
endif
endif
elseif(i1==1429221424)then
if(QSF==1093687351)then
if(m5==null)then
set m5=K3(600.,it,Condition(function Kr))
endif
if(not TLF)then
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitAbilityLevel(m5,1112560453)>0))then
call NTF(it,m5)
endif
elseif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitAbilityLevel(m5,1112560453)>0))then
call T7F(it,m5,true)
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((not R17(it))and(SE7(1200.,m5,Condition(function WO7))==0)and(UP<(150+(300*GetUnitAbilityLevel(it,1093679445))))and(UP>200))then
set GZ[O5]=true
set h4[288+O5]=m5
set J4=J8(O5,(SL7(it,852129,1093679445)))
endif
if((not J4)and((not R17(it))or(R_7(m5,it))))then
set J4=(SB7(it,OrderId("creepheal"),1093748789,0,m5))or((UP>150)and(GetUnitLifePercent(m5)<40.)and(SAF(it,m5)))or(IssueTargetOrderById(it,851983,m5))or(IssueTargetOrderById(it,851986,m5))
endif
endif
elseif(QSF==1093679445)then
if(TLF)then
call ExecuteFunc("RIF")
set J4=true
endif
endif
elseif(i1==1160785972)then
if(QSF==1093677872)then
set m5=ZN7(400.,it)
if(m5==null)then
set m5=ZN7(700.,it)
endif
if(m5!=null)then
call T7F(it,m5,true)
call TriggerSleepAction(.5)
set J4=(TLF)and(h4[O5]!=null)and(iU(it))and(IssueTargetOrderById(it,851983,h4[O5]))
endif
elseif((TLF)and(QSF==1093677621))then
call ExecuteFunc("RQF")
set J4=true
elseif(QSF==1095263841)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call NTF(it,m5)
endif
endif
elseif(i1==1432646245)then
if(QSF==1093679171)then
call T7F(it,m5,true)
elseif((QSF==1093677640)and((not DR8())or(R17(m5))))then
if(not DR8())then
set hq[512+O5]=Bz+5.
endif
call T7F(it,m5,true)
elseif(QSF==1093677899)then
set UP=GetUnitAbilityLevel(it,QSF)
if(UP<3)then
set hq[O5]=Bz+300.-(UP*60.)
else
set hq[O5]=Bz+125.
endif
if(not R17(it))then
set m5=ZN7(500.,it)
call T7F(it,m5,true)
call TriggerSleepAction(.5)
set J4=(TLF)and(SB7(it,852095,1093677640,0,m5))
endif
endif
elseif(i1==1430468913)then
if((QSF==1093810507)and(not R17(it)))then
call T7F(it,ZN7(320.,it),true)
elseif(QSF==1093678403)then
if(not TLF)then
elseif(R17(it))then
call VN7(it,false)
else
set m5=h4[O5]
if(m5==null)then
set m5=ZN7(500.,it)
endif
set J4=(m5!=null)and(GetUnitLifePercent(m5)<50.)and(IssueTargetOrderById(it,851983,m5))
endif
elseif(QSF==1093677876)then
call T7F(it,m5,IsUnitInRange(it,m5,400.))
call PFF(it,m5)
set J4=(TLF)and(IsUnitInRange(it,m5,300.))and(SL7(it,852127,1093810507))
endif
elseif(i1==1430467634)then
if(QSF==1093679412)then
if(GetUnitLifePercent(m5)<60.)then
call T7F(it,m5,true)
endif
elseif(QSF==1093750608)then
set m5=K2(600.,HC[O5])
if((m5!=null)and(GetUnitLifePercent(m5)<70.))then
call T7F(it,m5,true)
call PFF(it,m5)
endif
set J4=(TLF)and(GetUnitManaPercent(it)>40.)and(SB7(it,852231,1093679412,0,m5))
elseif((QSF==1093684565)or(QSF==1093681458))then
set UP=GetUnitAbilityLevel(it,QSF)
if((QSF==1093681458)and(UP<3))then
set UP=UP+1
endif
set hq[O5]=Bz+210.-(30.*UP)
set J4=(not R17(it))or(R17(m5))
call T7F(it,m5,J4)
if((TLF)and(J4))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093750608,true)
set GZ[O5]=true
set J4=J8(O5,(SB7(it,852231,1093679412,0,m5))or(IssueTargetOrderById(it,852488,m5)))
endif
elseif(QSF==1093742674)then
set UP=GetUnitAbilityLevel(it,QSF)
if(TLF)and(EB7)then
set UP=GetRandomInt(1,2)
if(UP==1)then
call EI8("YUMMY CREEP!!!",3.5,it,0.025,100,0,200,216)
elseif(UP==2)then
call EI8("MMM DELICIOUS!!!",3.5,it,0.025,100,0,200,216)
endif
endif
endif
elseif(i1==1313026096)then
if(QSF==1095267426)then
call T7F(it,m5,true)
elseif(QSF==1093677401)then
set GZ[128+O5]=false
set G0[32+O5]=false
endif
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if(QSF==1093751369)then
set UP=GetUnitAbilityLevel(it,QSF)
set hq[O5]=Bz+70.
if(TLF)then
set J4=(IssueImmediateOrderById(it,852600))
if not J4 then
set J4=((h4[O5]!=null)and(R67(h4[O5],it))and(SZ7(it,852119,1093815130,h4[O5])))
if(SG7(it,ZU[W2]))then
call QA7(0.2)
call RemoveItem(SK7(it,ZU[W2]))
call UnitAddItemByIdSwapped(ZU[X2],it)
endif
endif
endif
endif
elseif(i1==1164666213)then
if(QSF==1093678679)then
call T7F(it,K2(125.+(25.*GetUnitAbilityLevel(it,1093678679)),HC[O5]),true)
elseif(QSF==1093677877)then
set hq[O5]=Bz+32.-(2.*GetUnitAbilityLevel(it,1093677877))
set hq[240+O5]=Bz+7.
set m5=ZN7(500.,it)
if(m5!=null)then
call PFF(it,m5)
endif
if(TLF)then
set J4=(m5!=null)and(IssueTargetOrderById(it,851983,m5))
loop
if((iU(it))and(not G0[O5])and(G0[128+O5])and(GetUnitLifePercent(it)>60.))then
if(SE7(450.,it,Condition(function k3))==0)then
set m5=S77(800.,SX7(it),Condition(function k3))
set J4=((m5!=null)and(IssueTargetOrderById(it,851986,m5)))or(SY7(it,851983,h8[O5]))
else
call SY7(it,851983,h8[O5])
endif
endif
exitwhen((Bz>hq[240+O5])or(not R37(it)))
call QA7(1.)
endloop
else
if((m5!=null)and(GetUnitLifePercent(m5)<50.))then
call NTF(it,m5)
endif
endif
elseif((QSF==1093808454)or(QSF==1093808455))then
set m5=ZN7(300.,it)
if(m5!=null)then
call T7F(it,m5,true)
call PFF(it,m5)
set J4=(TLF)and(IssueTargetOrderById(it,851986,m5))
endif
elseif(QSF==1093678678)and(TLF)and(m5!=null)then
if(GetHeroLevel(it)>6)or(GetUnitLifePercent(m5)<60.)then
call MoveLocation(HA,GetUnitX(m5)+(90.+(25*GetUnitAbilityLevel(it,1093678679)))*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+(90.+(25*GetUnitAbilityLevel(it,1093678679)))*Sin(GetUnitFacing(m5)*bj_DEGTORAD))
if(Q07(GetUnitX(it),GetUnitY(it),GetLocationX(HA),GetLocationY(HA))<750)or(EH9(m5))then
set J4=SA7(it,852224,1093678679,HA)
endif
endif
endif
elseif(i1==1433168227)then
if((QSF==1093678420)or(QSF==1093679176))then
set UP=GetUnitAbilityLevel(it,QSF)
if(UP!=3)then
set hq[O5]=Bz+175.-(UP*30.)
else
set hq[O5]=Bz+60.
endif
call T7F(it,ZN7(750.,it),true)
endif
elseif(i1==1430466872)then
if(QSF==1093687349)then
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call T7F(it,m5,true)
if(TLF)then
set J4=(IssueTargetOrderById(it,851983,m5))or(IssueTargetOrderById(it,851986,m5))
call QA7(1.)
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((not ke(m5))and(UP>200.)and(UP<SSF(it)))then
set GZ[O5]=true
set J4=J8(O5,SB7(it,852119,1093679413,1093679447,m5))
endif
endif
endif
elseif((QSF==1093679413)or(QSF==1093679447))then
set UP=GetUnitAbilityLevel(it,QSF)
if(UP!=3)then
set hq[O5]=Bz+210.-(UP*60.)
else
set hq[O5]=Bz+55.
endif
call T7F(it,m5,true)
endif
elseif(i1==1162032439)then
if((QSF==1093677363)or(QSF==1093681462))then
set hq[16+O5]=Bz+160.-(20.*GetUnitAbilityLevel(it,QSF))
set m5=ZN7(600.,it)
if(m5!=null)then
set J4=(TLF)and(SB7(it,OrderId("volcano"),1093744435,0,m5))
if(not J4)then
call T7F(it,m5,true)
endif
endif
endif
elseif(i1==1430466865)then
if(QSF==1093810508)then
call T7F(it,ZN7(150.,it),true)
set hq[O5]=Bz+130.-(10.*GetUnitAbilityLevel(it,QSF))
endif
if(QSF==1093751364)then
if TLF then
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
if((m5==null)and(G0[128+O5]))then
set m5=S77(300.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(R17(m5)or GZ[208+O5]))then
set J4=(Kz(400.,SX7(it))>1)and(IsUnitInRange(it,m5,300.))and(SL7(it,852164,1093810508))
endif
endif
endif
endif
elseif(i1==1211119409)then
if(QSF==1093749069)then
call T7F(it,ZN7(150.,it),true)
elseif(QSF==1093749070)then
set m5=h4[O5]
if m5==null then
set m5=ZN7(250.,it)
endif
if((TLF)and(m5!=null))then
set J4=(IsUnitInRange(it,m5,300.))and(IssueImmediateOrderById(it,852526))or(IssueTargetOrderById(it,851983,m5))
if h4[O5]==null then
call LSE(O5,m5,false,false)
endif
endif
endif
elseif((i1==1429221432)or(i1==1160786229))then
if(QSF==1093677892)then
set J4=(TLF)and((h4[O5]==null)or(GetUnitManaPercent(it)>50.))and(SL7(it,OrderId("channel"),1093687878))
elseif(QSF==1093679411)then
set hq[O5]=Bz+170.-(10.*GetUnitAbilityLevel(it,QSF))
set m5=h4[O5]
if((m5==null)or(not TLF))then
set m5=ZN7(500.,it)
call LSE(O5,m5,false,false)
endif
if((m5!=null)and((not R17(it))or(R17(m5))))then
call T7F(it,m5,true)
call PFF(it,m5)
endif
endif
elseif(i1==1215722344)then
if(QSF==1093682499)then
if(m5==it)then
set m5=h4[O5]
if((m5==null)or(not TLF))then
set m5=ZN7(600.,it)
endif
endif
if((m5!=null)and(IsUnitEnemy(m5,GetOwningPlayer(it))))then
call T7F(it,m5,true)
endif
elseif(QSF==1093684296)then
set hq[O5]=Bz+100.
set hq[512+O5]=Bz+6.
call T7F(it,m5,true)
call QA7(1.)
if(R37(m5))then
call T7F(it,m5,true)
set J4=(TLF)and(SB7(it,852668,1093682499,0,it))
endif
endif
elseif(i1==1332766568)then
if(QSF==1093686065)then
call T7F(it,m5,true)
elseif(QSF==1093683510)then
set hq[O5]=Bz+14.
set m5=ZN7(250.,it)
if(m5!=null)then
call T7F(it,m5,true)
set J4=(TLF)and(IssueTargetOrderById(it,852248,m5))
endif
endif
elseif(i1==1429221451)then
if(QSF==1093678674)then
set hq[O5]=Bz+160.-(20.*GetUnitAbilityLevel(it,1093678674))
set hq[512+O5]=Bz+3.
if(TLF)then
set m5=ZN7(300.,it)
if((m5==null)and(SG7(it,ZU[RW])))then
set m5=ZN7(900.,it)
if(m5==null)then
set m5=ZN7(1200.,it)
endif
if(m5==null)and(Bz>TC4[16+O5])then
set m5=ZN7(1300.+GetUnitAbilityLevel(it,1093678671)*100,it)
endif
set J4=(m5!=null)and(UnitUseItemPoint(it,SK7(it,ZU[RW]),GetUnitX(m5),GetUnitY(m5)))
call QA7(0.1)
if(m5==null)then
set hq[240+O5]=Bz+100.
endif
endif
if((not J4)and(m5!=null)and(R37(m5)))then
set J4=IssueTargetOrderById(it,851983,m5)
endif
endif
elseif(QSF==1093686067)then
set m5=ZN7(180.,it)
if((TLF)and(m5!=null)and(IsUnitInRange(it,m5,200.))and(GetUnitAbilityLevel(m5,1112560453)>0))then
set J4=IssueImmediateOrderById(it,852581)
endif
elseif(QSF==1093678671)then
if(not R17(it))then
set hq[512+O5]=Bz+3.
endif
if((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO))or(not IsUnitInRange(it,m5,200.)))then
set m5=ZN7(350.,it)
endif
if(m5!=null)then
call NTF(it,m5)
if(not TLF)then
elseif((IsUnitInRange(it,m5,200.))and(R37(m5)))then
call LSE(O5,m5,false,false)
set J4=((GetUnitState(m5,UNIT_STATE_LIFE)<200.)and(IssueTargetOrderById(it,851983,m5)))or((Bz>hq[O5])and(SE7(600.,it,Condition(function WE7))>1)and(R2I(GetUnitState(it,UNIT_STATE_MANA))>150+(75*GetUnitAbilityLevel(it,1093678674)))and(SS7(it,ZU[D0])))or(IssueImmediateOrderById(it,852581))or(IssueTargetOrderById(it,851983,m5))
else
set J4=IssueTargetOrderById(it,851983,m5)
endif
endif
endif
elseif(i1==1315334514)then
if(QSF==1093810506)then
set hq[O5]=Bz+130.-(GetUnitAbilityLevel(it,QSF)*10.)
set m5=ZN7(150.,it)
if(m5==null)then
set m5=ZN7(300.,it)
if(m5==null)then
set m5=ZN7(600.,it)
endif
endif
if(m5!=null)then
call T7F(it,m5,true)
endif
elseif((QSF==1093682521)or(QSF==1093682760)or(QSF==1093682736))then
set J4=(TLF)and(GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitManaPercent(it)>30)and(GetHeroLevel(it)>3)and((SYF(it,200.,852164,1093682521))or(SYF(it,450.,852588,1093682760))or(SYF(it,700.,852599,1093682736)))
if(not J4)then
if(QSF==1093682521)then
set UP=200
elseif(QSF==1093682760)then
set UP=450
else
set UP=700
endif
call MoveLocation(Ha,GetUnitX(it)+UP*Cos(GetUnitFacing(it)*bj_DEGTORAD),GetUnitY(it)+UP*Sin(GetUnitFacing(it)*bj_DEGTORAD))
set m5=K2(250.,Ha)
set J4=(TLF)and(m5!=null)and(IssueTargetOrderById(it,851983,m5))
endif
if((m5!=null)and(GetUnitLifePercent(m5)<50.))then
call NTF(it,m5)
endif
endif
elseif(i1==1429221446)then
if(QSF==1093678665)then
set hq[16+O5]=Bz+14.
if TLF then
set m5=ZN7(225,it)
if m5!=null then
call LSE(O5,m5,false,false)
set J4=SB7(it,852480,1093682764,1093747544,m5)
endif
endif
elseif(QSF==1093682764)then
set hq[O5]=Bz+30.
if TLF and GetUnitLifePercent(m5)<30 then
set J4=LKE(it,m5)
endif
endif
elseif(i1==1429221445)then
if((QSF==1093678647)or(QSF==1093679184))then
call T7F(it,m5,true)
endif
elseif(i1==1332963428)then
if(QSF==1093678169)then
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(it))))then
call J3(it,false)
loop
exitwhen(GetUnitAbilityLevel(m5,1110454854)==0)
call QA7(1.)
endloop
call T4F(it,m5)
set J4=(TLF)and(G0[128+O5])and(is(it))and(SB7(it,852119,1093683019,0,m5))
endif
elseif(QSF==1093677649)then
set J4=(TLF)and(R37(m5))and(not R17(it))and((SB7(it,852119,1093683019,0,m5))or(IssueTargetOrderById(it,851983,m5)))
set hq[O5]=Bz+120.
endif
elseif(i1==1332109682)then
if(QSF==1093678134)then
call T7F(it,m5,true)
set hq[O5]=Bz+12.
elseif(QSF==1093810505)then
call T7F(it,ZN7(550.,it),true)
set hq[16+O5]=Bz+150.
endif
elseif(i1==1430468406)then
if((QSF==1093678899)or(QSF==1093677898)or(QSF==1093678154)or(QSF==1093678157)or(QSF==1093678158))then
if(not R17(it))then
set m5=K2(600.,HC[O5])
if(m5!=null)then
call T7F(it,m5,true)
call PFF(it,m5)
endif
endif
endif
elseif(i1==1160786242)then
if(QSF==1093683287)then
if((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO)))then
elseif(GetUnitLifePercent(m5)<60.)then
call T7F(it,m5,true)
if((R17(m5))and(TLF))then
set J4=IssueImmediateOrderById(it,852490)
endif
else
call NTF(it,m5)
endif
elseif(QSF==1093683257)then
call T7F(it,ZN7(1000.,it),true)
set hq[240+O5]=Bz+2.+(1.5*GetUnitAbilityLevel(it,1093683257))
set hq[16+O5]=Bz+180.-(30.*GetUnitAbilityLevel(it,1093683257))
elseif(QSF==1093683265)then
call T7F(it,ZN7(500.,it),true)
if(TLF)then
call B87(it)
endif
endif
elseif(i1==1160786241)then
if(QSF==1093684813)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call T7F(it,m5,GetUnitLifePercent(it)>50.)
if((TLF)and((GetUnitLifePercent(it)>50.)or(GetUnitLifePercent(m5)<40.)))then
call QA7(0.5)
set J4=SB7(it,852089,1093684815,0,m5)
endif
endif
elseif(QSF==1093684815)then
set m5=K2(300.,HC[O5])
if(m5!=null)then
call T7F(it,m5,true)
set J4=(TLF)and(((not kr(it))and(SB7(it,852597,1093684820,1093684824,m5)))or(SB7(it,852119,1093684813,0,m5)))
endif
elseif((QSF==1093684820)or(QSF==1093684824))then
set hq[O5]=Bz+90.
endif
elseif(i1==1429221456)then
if(QSF==1093685066)then
call QA7(GetUnitAbilityLevel(it,1093685066)+0.6)
if((m5!=null)and(R37(m5))and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitVisible(m5,GetOwningPlayer(it))))then
call T7F(it,m5,GetUnitLifePercent(it)>50.)
endif
elseif((QSF==1093685067)or(QSF==1093752407))then
set hq[O5]=Bz+160.
call T7F(it,K2(500.,HC[O5]),true)
elseif(QSF==1093685065)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call NTF(it,m5)
endif
endif
elseif(i1==1160786243)then
if(QSF==1093681491)then
if((IsUnitEnemy(m5,GetOwningPlayer(it)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call T7F(it,m5,true)
endif
elseif(QSF==1093683765)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call NTF(it,m5)
call T4F(it,m5)
if(TLF)then
if((GetUnitLifePercent(m5)<80.)or(GZ[O5]))then
set GZ[O5]=true
set J4=J8(O5,SB7(it,852224,1395667000,0,m5))
endif
set J4=(J4)or(IssueTargetOrderById(it,852248,m5))
endif
endif
elseif(QSF==1395667000)or(QSF==1395667029)then
set hq[O5]=Bz+165.
set m5=K2(500.,HC[O5])
if(m5!=null)then
call T7F(it,m5,true)
call TriggerSleepAction(0.7)
if((TLF)and(SG7(it,ZU[RW]))and(not IsUnitInRange(it,m5,250.))and(GetUnitLifePercent(it)>70.)and(GetUnitAbilityLevel(it,1093678672)>1)and(Bz>hq[16+O5]))then
set J4=(GetHeroLevel(it)>5)and(S3F(it,m5))
endif
call TriggerSleepAction(0.1)
if((TLF)and(QSF==1395667029)and(SG7(it,ZU[D44]))and(GetUnitState(it,UNIT_STATE_MANA)>525+50*GetUnitAbilityLevel(it,1395667029)))then
set J4=(UnitUseItem(it,bj_lastCreatedItem))
if J4 then
call TriggerSleepAction(0.1)
set J4=SB7(it,852224,1395667000,0,m5)
endif
endif
endif
elseif(QSF==1093678672)then
set hq[16+O5]=Bz+20.
endif
elseif((i1==1211117641)or(i1==1211117642))then
if(QSF==1093684802)then
set m5=K2(200.,HC[O5])
if(m5!=null)then
call T7F(it,m5,true)
if(TLF)then
call S1F(M7[O5],m5)
call S1F(M7[16+O5],m5)
call S1F(M7[32+O5],m5)
call S1F(M7[48+O5],m5)
endif
endif
elseif(QSF==1093684792)then
set m5=ZN7(400.,it)
if((TLF)and(not R17(it))and(m5!=null))then
call QA7(0.5)
set J4=(GetUnitAbilityLevel(m5,1110456120)==0)and(S0F(it,m5))
endif
endif
elseif(i1==1311781207)then
if(QSF==1093742673)then
if((IsUnitEnemy(m5,GetOwningPlayer(it)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call T7F(it,m5,true)
set J4=(TLF)and(SB7(it,852095,1093684817,0,m5))
endif
elseif(QSF==1093684817)then
call T7F(it,m5,true)
set J4=(TLF)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IssueTargetOrderById(it,852248,m5))
elseif(QSF==1093742668)then
set hq[O5]=Bz+300.-(GetUnitAbilityLevel(it,QSF)*50.)
endif
elseif(i1==1311780946)then
if(QSF==1093677385)then
set m5=K2(250.,HC[O5])
if((m5!=null)and(GetUnitLifePercent(m5)<60.))then
call T7F(it,m5,true)
call PFF(it,m5)
endif
elseif(QSF==1093685825)then
set m5=K2(250.,HC[O5])
if(m5!=null)then
call T7F(it,m5,true)
if((not R17(it))and(TLF))then
set J4=SB7(it,852238,1093677385,0,m5)
endif
endif
elseif(QSF==1093685808)then
call QA7(1.)
call IV(GetUnitX(it),GetUnitY(it),1000.,Condition(function Kq),function S5F)
if(TLF)then
call B87(it)
endif
endif
elseif((i1==1211117650)or(i1==1211119433))then
if(QSF==1093685590)then
set m5=ZN7(550.,it)
if(m5!=null)then
if(GetUnitLifePercent(m5)<60.)then
call PFF(it,m5)
endif
if((TLF)and((GetUnitLifePercent(m5)<60.)or(GetUnitManaPercent(it)>60.)))then
set IN4=it
set J4=(SE7(1000.,it,Condition(function ny))>6)and(IssueTargetOrderById(it,852699,m5))
endif
endif
elseif((QSF==1093685813)or(QSF==1093685811))then
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(it)))and(GetUnitLifePercent(m5)<60))then
call T7F(it,m5,true)
if(QSF==1093685811)then
call T4F(it,m5)
set h4[16+O5]=m5
if((TLF)and(not R17(it)))then
set IN4=it
set J4=(SL7(it,1093685590,851971))or((SE7(1000.,it,Condition(function ny))>4)and(IssueTargetOrderById(it,852699,m5)))
endif
endif
endif
endif
elseif(i1==1211117646)then
if(QSF==1093685573)then
set m5=K2(250.,HC[O5])
if((m5!=null)and(GetUnitLifePercent(m5)<60.))then
call T7F(it,m5,true)
call PFF(it,m5)
endif
elseif(QSF==1093685575)then
set UP=R2I(50.+(100.*GetUnitAbilityLevel(it,1093685573)))
if(m5!=null)then
set m5=ZN7(I2R(UP),m5)
endif
if((TLF)and(m5!=null))then
set QSF=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093685573,true)
set J4=IssuePointOrderById(it,852089,GetUnitX(m5)+I2R(QSF)*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+I2R(QSF)*Sin(UP*bj_DEGTORAD))
endif
elseif(QSF==1093685579 or QSF==1093808465)then
set hq[O5]=Bz+100.
endif
elseif(i1==1211117624)then
if(QSF==1093682775)then
call T7F(it,m5,true)
elseif(QSF==1093683024)then
set m5=ZN7(600.,it)
if((m5!=null)and(GetUnitLifePercent(m5)<65.))then
call T7F(it,m5,true)
endif
endif
elseif(i1==1160785973)then
if((QSF==1093678388)or(QSF==1093677141))then
set UP=GetUnitAbilityLevel(it,QSF)
call T7F(it,ZN7(650.,it),true)
call QA7(5.)
if(QSF==1093678388)then
set hq[O5]=Bz+155.-(UP*20.)
else
set hq[O5]=Bz+145.-(UP*20.)
endif
endif
elseif(i1==1315988077)then
if(QSF==1093678669)then
call T7F(it,ZN7(250.,it),true)
set hq[O5]=Bz+12.
endif
elseif(i1==1211117616)then
if(QSF==1093677139)then
call T7F(it,ZN7(300.,it),true)
set hq[O5]=Bz+15.
set J4=(TLF)and(IssueImmediateOrderById(it,852526))
endif
elseif(i1==1311788343 or i1==1311788355 or i1==1311788367 or i1==1311788353 or i1==1311788354)then
if TLF and(QSF==1093815877)then
set J4=(h4[O5]!=null)and IssueTargetOrderById(it,852119,X67(h4[O5],350))
if J4 then
call TriggerSleepAction(0.3)
endif
call IssueTargetOrderById(it,851983,h4[O5])
endif
if TLF and(QSF==1093687856)then
set PN7=GetSpellTargetUnit()
if GetUnitTypeId(it)==1311788343 then
call IssueImmediateOrderById(it,852180)
call TriggerSleepAction(0.125)
endif
set J4=IssueTargetOrderById(it,852119,X67(it,350))
if J4 then
call TriggerSleepAction(0.125)
endif
call IssueTargetOrderById(it,851983,PN7)
set PN7=null
endif
elseif(i1==1311788363 or i1==1311788365)then
if TLF and(QSF==1093815601)then
set h4[O5]=GetSpellTargetUnit()
set J4=IssuePointOrderByIdLoc(it,852600,LM7(it,h4[O5],999999,3.3,0))
call TriggerSleepAction(.3)
call IssueTargetOrderById(it,851983,h4[O5])
elseif TLF and(QSF==1093815600)then
set m5=OR7((m5!=null)and(G0[128+O5]),m5,ZQ7((500+100*(GetUnitAbilityLevel(it,1093815601))),it,Condition(function k6)))
set J4=(m5!=null)and(G0[128+O5]and(GetUnitState(it,UNIT_STATE_MANA)>225. or SE7(600,it,Condition(function X47))>=1))and IssueTargetOrderById(it,852095,m5)
set h4[O5]=OR7(h4[O5]!=null or(not J4),h4[O5],m5)
endif
elseif(i1==1315074670)then
if(QSF==1093677622)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call NTF(it,m5)
endif
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if(QSF==1093677895)then
set hq[O5]=Bz+135.
set m5=h4[O5]
if((m5==null)or(not TLF))then
set m5=ZN7(700.,it)
call LSE(O5,m5,false,false)
endif
if(m5!=null)then
call T7F(it,m5,true)
call PFF(it,m5)
set J4=(TLF)and(((IsUnitInRange(it,m5,350.))and(SZ7(it,852095,1093681490,m5)))or(IssueTargetOrderById(it,851983,m5)))
endif
endif
elseif(i1==1164207469)then
if(QSF==1093682483)then
call T7F(it,m5,true)
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
set m5=h4[O5]
if(QSF==1093748042)then
if m5==null then
set m5=ZN7(700.,it)
endif
if(m5!=null)then
call T7F(it,m5,true)
call PFF(it,m5)
endif
elseif(QSF==1093808461)and(m5!=null)and TLF then
if(m5!=null)and(IsUnitInRange(it,m5,200.))then
set J4=(i1==1311781174)and(SL7(it,852138,1093681733))
if J4 then
set i1=1311781175
endif
elseif(m5!=null)and((GetUnitLifePercent(m5)<15.)or((not G0[256+O5])and(P37(it)<2000.)))then
elseif(GetHeroLevel(it)>=6 or h4[O5]!=null)and(SP7(it,ZU[D0]))then
set J4=(i1==1311781174)and(SL7(it,852138,1093681733))
endif
if(not J4)then
call IssueTargetOrderById(it,851983,m5)
endif
elseif(QSF==1093681733)and(m5!=null)and TLF then
call IssueTargetOrderById(it,851983,m5)
if(not J4)and(h4[O5]!=null)then
call TriggerSleepAction(0.1)
if(i1!=1311781174)then
set J4=SZ7(it,852218,1093808461,m5)
else
set J4=(IsUnitInRange(it,m5,400.)and(SL7(it,852096,1093808462)))
endif
endif
endif
elseif(i1==1433631084)then
if(QSF==1093678160)then
call NTF(it,m5)
set hq[O5]=Bz+40.-(10.*GetUnitAbilityLevel(it,1093678160))
endif
elseif(i1==1315007329)then
if(QSF==1093678913)then
set hq[O5]=Bz+20.
if(TLF)then
call ExecuteFunc("RQF")
set J4=true
endif
endif
elseif(i1==1332898670)then
if(QSF==1093677136)then
set J4=(TLF)and((SB7(it,852502,1093685848,0,m5))or(IssueTargetOrderById(it,851983,m5)))
set hq[16+O5]=Bz+16.
endif
elseif(i1==1215128178)then
if(QSF==1093677616)then
set J4=(TLF)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.)and(SB7(it,852095,1093683779,0,m5))
elseif(QSF==1093683779)then
set J4=(TLF)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.)and(SB7(it,852119,1093677616,0,m5))
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call NTF(it,m5)
endif
elseif((QSF==1093810503)or(QSF==1093810504))then
set hq[O5]=Bz+120.
call T7F(it,ZN7(700.,it),true)
endif
elseif(i1==1164799855)then
if(QSF==1093682264)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call T7F(it,m5,true)
endif
set hq[O5]=Bz+35.-(GetUnitAbilityLevel(it,QSF)*5.)
elseif(QSF==1093682265 or QSF==1093752642)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call NTF(it,m5)
endif
endif
elseif(i1==1433105516)then
if(QSF==1093683511)then
set hq[16+O5]=Bz+15.
call T7F(it,m5,true)
if((TLF)and(IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(it)>5)or(R17(m5))))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))
set J4=IssuePointOrderById(it,852600,GetUnitX(m5)+100.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+100.*Sin(UP*bj_DEGTORAD))
endif
elseif(QSF==1093681713)then
set b5=HC[O5]
set m5=K2(400.,b5)
if(m5!=null)then
call PFF(it,m5)
endif
if((TLF)and(not kr(it)))then
set J4=(m5!=null)and(GetUnitLifePercent(m5)<75.)and((S27(not IsUnitAlly(it,Z7[0]))<=2)or(GetHeroLevel(it)<11))and(IssuePointOrderByIdLoc(it,OrderId("cannibalize"),b5))
if(not J4)then
set UP=SD7(400.,b5,Condition(function WE7))
set J4=((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0])))or((UP>0)and(SD7(700.,b5,Condition(function WE7))>1)and(SD7(700.,b5,Condition(function WQ7))>0)))and(IssuePointOrderByIdLoc(it,OrderId("cannibalize"),b5))
endif
endif
elseif(QSF==1093747288)then
set UP=GetUnitAbilityLevel(it,QSF)
set hq[O5]=Bz+210.-(UP*10.)
set m5=ZN7(400.,it)
set J4=(TLF)and(m5!=null)and(IssueTargetOrderById(it,851983,m5))
endif
elseif(i1==1214409837)then
if(QSF==1093679157)then
set hq[O5]=Bz+10.
call MoveLocation(Ha,GetUnitX(it)+400*Cos(GetUnitFacing(it)*bj_DEGTORAD),GetUnitY(it)+400*Sin(GetUnitFacing(it)*bj_DEGTORAD))
set m5=K2(400.,Ha)
if(m5!=null)then
call PFF(it,m5)
endif
endif
elseif(i1==1316252014)then
if(QSF==1093678137)then
set hq[32+O5]=Bz+14.
if(GetUnitLifePercent(m5)<60.)then
call T7F(it,m5,true)
endif
elseif(QSF==1093678405)then
set hq[O5]=Bz+25.
elseif(QSF==1093681745)then
set hq[16+O5]=Bz+35.
set m5=K2(500.,HC[O5])
if(m5!=null)then
call PFF(it,m5)
endif
if((TLF)and(m5!=null)and(SG7(it,ZU[D74])))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,m5)
endif
elseif(QSF==1093678645)then
set hq[O5]=Bz
set hq[16+O5]=Bz
set hq[32+O5]=Bz
set hq[80+O5]=Bz
set hq[96+O5]=Bz
endif
elseif(i1==1328558160)then
if(QSF==1093682998)then
if((TLF)and(GetHeroLevel(it)>5)and((not R17(it))or(Id(O5))))then
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.)and(not IsUnitInRange(it,m5,300.)))then
set GZ[O5]=true
set J4=(J8(O5,SB7(it,852218,1093682766,0,m5)))
endif
endif
elseif(QSF==1093683000)then
call T7F(it,ZN7(700.,it),true)
elseif(QSF==1093683011)then
call T7F(it,ZN7(500.,it),true)
endif
elseif(i1==1212363833)then
if(QSF==1093678933)then
set hq[32+O5]=Bz+120.
call QA7(0.5)
set J4=(TLF)and(not R17(it))and(SL7(it,852123,1093678643))
elseif(QSF==1093809220)then
set hq[O5]=Bz+14.
call T7F(it,m5,true)
set J4=(TLF)and(not R17(it))and((SL7(it,852526,1093815125))or(SL7(it,852123,1093678643)))
elseif(QSF==1093678643)and(TLF and(h4[O5]!=null)and(not R17(it)))then
set J4=(LY7(it,h4[O5]))and(SL7(it,852526,1093815125))
endif
elseif(i1==1315070563)then
if(QSF==1093678407)then
set hq[240+O5]=Bz+5.
set m5=ZN7(600.,it)
if(m5!=null)then
call PFF(it,m5)
endif
if(TLF)then
loop
if((m5!=null)and(GetUnitLifePercent(m5)<GetUnitLifePercent(it)))then
call IssuePointOrderById(it,851986,GetUnitX(m5)+GetRandomReal(0,300.)-150.,GetUnitY(m5)+GetRandomReal(0,300.)-150.)
elseif((not G0[O5])and(G0[128+O5])and(not R17(it)))then
if(SE7(200.,it,Condition(function k3))==0)then
call SY7(it,851983,h8[O5])
endif
endif
if(not G0[128+O5])then
set m5=null
endif
exitwhen(Bz>=hq[240+O5])
call QA7(0.5)
endloop
set m5=ZN7(500.,it)
if((m5!=null)and(not ke(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)<1200.)and(GetUnitAbilityLevel(m5,1113815395)==0)and(GetUnitAbilityLevel(m5,1113815346)==0))then
set UP=SE7(850.,m5,Condition(function WE7))
set J4=((UP-(SE7(850.,m5,Condition(function k3))))>=0)and(SB7(it,852095,1093684529,1093747032,m5))
endif
else
call NTF(it,m5)
endif
endif
elseif(i1==1214931305)then
if(QSF==1093686067)then
set m5=ZN7(450.,it)
if((TLF)and(m5!=null)and(not R17(it)))then
set J4=IssueImmediateOrderById(it,852600)
endif
elseif((QSF==1093677906)or(QSF==1093681494))then
set hq[O5]=Bz+180.-(GetUnitAbilityLevel(it,QSF)*30.)
endif
elseif(i1==1212365106)then
if(QSF==1093685831)then
set hq[O5]=Bz+15.
set b5=HC[O5]
set m5=K2(I2R(250+(25*GetUnitAbilityLevel(it,1093685831))),b5)
if(m5!=null)then
call T7F(it,m5,true)
set J4=(TLF)and(not R17(it))and(G0[128+O5])and(not IsUnitInRangeLoc(m5,b5,200.))and(IssueTargetOrderById(it,852600,m5))
endif
endif
elseif(i1==1211117617)then
if(QSF==1093686067)then
set m5=ZN7(800.,it)
set J4=(TLF)and(m5!=null)and(SL7(it,OrderId("chemicalrage"),1093752648))
endif
elseif(i1==1211117633)then
if(QSF==1093684310)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(it)))and(GetUnitLifePercent(m5)<60.))then
call T7F(it,m5,true)
endif
elseif(QSF==1093810260)then
set hq[O5]=Bz+30.
elseif(QSF==1093684308 or QSF==1093747539)then
set hq[16+O5]=Bz+120.
endif
elseif(i1==1211117620)then
if((QSF==1093677392)or(QSF==1093679450))then
if(UP!=3)then
set hq[O5]=Bz+210.-(UP*60.)
else
set hq[O5]=Bz+55.
endif
call T7F(it,m5,true)
endif
elseif(i1==1432580716)or(i1==1429221720)then
if(QSF==1093684300)then
set b5=HC[O5]
set m5=K2(300.,b5)
if(m5!=null)then
call T7F(it,m5,true)
call TriggerSleepAction(1.)
set J4=(TLF)and(IsUnitInRange(it,m5,250.))and(SD7(300.,b5,Condition(function k0))<=2)and(IssueTargetOrderById(it,852600,m5))
endif
elseif(QSF==1093681754)then
set hq[O5]=Bz+15.
call QA7(1.2)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call T7F(it,m5,true)
endif
elseif(QSF==1093752391)then
set TC4[64+O5]=Bz+30
call QA7(0.8)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call T7F(it,m5,true)
endif
endif
elseif(i1==1333027688)then
if(QSF==1093682252)then
call T7F(it,ZN7(250.,it),true)
elseif(QSF==1093682248 or QSF==1093750594)then
set hq[O5]=Bz+170.-(GetUnitAbilityLevel(it,QSF)*20.)
call T7F(it,ZN7(500.,it),true)
elseif(QSF==1093686091)then
set m5=K3(900.,it,Condition(function Kr))
if(m5!=null)then
call T7F(it,m5,true)
set J4=(TLF)and(GetUnitLifePercent(it)>50.)and(GetUnitLifePercent(m5)<60.)and(G0[128+O5])and(SE7(700.,m5,Condition(function WE7))<=2)and(S3F(it,m5))
endif
endif
elseif(i1==1311781185)then
if(QSF==1093743692)then
if(GetUnitLifePercent(m5)<60.)or(GetUnitManaPercent(it)>60 or GetUnitState(it,UNIT_STATE_MANA)>400.)then
set J4=(TLF)and IssueTargetOrderById(it,852095,m5)
call T7F(it,m5,true)
endif
elseif(QSF==1093684275)then
set hq[O5]=Bz+160.
elseif(QSF==1093684314)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call NTF(it,m5)
endif
endif
elseif(i1==1211117643)then
if(QSF==1093678658)then
call T7F(it,ZN7(300.,it),true)
endif
if(QSF==1093678410 or QSF==1093678664 or QSF==1093681483 or QSF==1093748313)and TLF then
set b5=HC[O5]
if(h9[48+O5]!=null)and(IsUnitInRangeLoc(h9[48+O5],b5,600.))then
set EJ7=300
call MoveLocation(HA,GetUnitX(h9[48+O5]),GetUnitY(h9[48+O5]))
if GetUnitUserData(h9[48+O5])>100 then
set EJ7=150
endif
else
set EJ7=150
call MoveLocation(HA,GetLocationX(b5),GetLocationY(b5))
endif
if(not J4)and(Bz>TC4[16+O5])and(GetUnitState(it,UNIT_STATE_MANA)>DOF(it,1093678410,GT7)+DOF(it,1093678658,GT7))then
call MoveLocation(HA,GetLocationX(HA)+GetRandomReal(-EJ7,EJ7),GetLocationY(HA)+GetRandomReal(-EJ7,EJ7))
set J4=(SA7(it,852278,1093678410,HA))
endif
set bj_lastLoadedUnit=it
if(not J4)and(Bz>TC4[32+O5])and(GetUnitState(it,UNIT_STATE_MANA)>DOF(it,1093678664,GT7)+DOF(it,1093678658,GT7))and(SD7(600.,HA,Condition(function Y27))==0)then
call MoveLocation(HA,GetLocationX(HA)+GetRandomReal(-100.,100.),GetLocationY(HA)+GetRandomReal(-100.,100.))
set J4=(SA7(it,852114,1093678664,HA))
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>TC4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>DOF(it,1093681483,GT7)+DOF(it,1093748313,GT7)+DOF(it,1093678658,GT7))and(SD7(600.,HA,Condition(function KG))<8))then
set hq[240+O5]=Bz+5.
set J4=(SC7(it,852504,1093681483,1093748313,GetLocationX(HA)+GetRandomReal(-EJ7,EJ7),GetLocationY(HA)+GetRandomReal(-EJ7,EJ7)))
endif
if(not J4)and((QSF==1093678410)or(QSF==1093678664))and TLF then
call LPE(it,false)
endif
endif
elseif(i1==1215657064)then
if(QSF==1093684291)then
set m5=ZN7(550.,it)
set J4=(TLF)and(m5!=null)and(((IsUnitInRange(it,m5,250.))and(SL7(it,852096,1093677913)))or(IssueTargetOrderById(it,851983,m5)))
endif
elseif(i1==1214344551)then
if(QSF==1093678938)then
set m5=ZN7(700.,it)
call T7F(it,m5,true)
if((TLF)and(m5!=null))then
set J4=SCF(it)
call QA7(1.)
call IssueTargetOrderById(it,851983,m5)
else
call QA7(1.)
endif
call QA7(7.)
set hq[O5]=Bz+152.
endif
elseif(i1==1211117636)then
if(QSF==1093685042 or QSF==1093810233)then
set hq[O5]=Bz+60.
call T7F(it,m5,true)
if(TLF)then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093685041,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852218,GetUnitX(it)+900.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+900.*Sin(UP*bj_DEGTORAD)))
endif
elseif(QSF==1093685041)then
if(m5==null)then
set m5=K2(300.,HC[O5])
endif
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call T7F(it,m5,true)
endif
endif
elseif(i1==1160786000)then
if(QSF==1093685047)then
set m5=ZN7(500.,it)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call T7F(it,m5,true)
set J4=(TLF)and(SA7(it,852580,1093685046,LM7(it,m5,2000.,0.65,1100.)))
endif
elseif(QSF==1093685046)then
set hq[O5]=Bz+16.
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call T7F(it,m5,true)
call QA7(1.5)
set J4=(TLF)and(GetUnitLifePercent(m5)<65.)and(GetUnitState(m5,UNIT_STATE_LIFE)>150.)and(IsUnitType(m5,UNIT_TYPE_STUNNED))and(SB7(it,852125,1093685045,0,m5))
endif
elseif(QSF==1093685045)then
if(m5==null)then
set m5=K2(650.,HC[O5])
endif
call T7F(it,m5,true)
if(m5!=null)then
call PFF(it,m5)
set J4=(TLF)and(SA7(it,852580,1093685046,LM7(it,m5,2000.,0.65,1100.)))
endif
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
if(QSF==1093683532)then
set hq[O5]=Bz+22.
set m5=K2(600.,HC[O5])
if(m5!=null)then
call T7F(it,m5,true)
call PFF(it,m5)
endif
elseif(QSF==1093750345)then
if((R37(m5))and(GetUnitLifePercent(m5)<65.))then
call NTF(it,m5)
endif
elseif(QSF==1095656306)then
set hq[512+O5]=Bz+6.
set m5=ZN7(500.,it)
if(m5!=null)then
call PFF(it,m5)
set J4=(TLF)and(not R17(it))and(IssueTargetOrderById(it,851983,m5))
endif
endif
elseif(i1==1311781206)then
if(QSF==1093684054)then
set hq[O5]=Bz+12.
set m5=ZN7(400.,it)
if((m5!=null)and(GetUnitLifePercent(m5)<60.))then
call T7F(it,m5,true)
endif
elseif(QSF==1093684280)then
set hq[32+O5]=Bz+25.
call QA7(0.1)
if(m5==null)then
set m5=K2(200.,HC[O5])
endif
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call T7F(it,m5,true)
endif
elseif(QSF==1093684053)then
set hq[16+O5]=Bz+160.
endif
elseif(i1==1211117651)then
elseif(i1==1211117649)then
if(QSF==1093685586)then
call T7F(it,m5,true)
elseif(QSF==1093685582)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call NTF(it,m5)
endif
endif
elseif(i1==1160786265)then
if(QSF==1093748033)then
call T7F(it,ZN7(300.,it),true)
endif
elseif(i1==1311780930)then
if(QSF==1093686083)then
set hq[16+O5]=Bz+20.
set m5=ZN7(400.,it)
if(m5!=null)then
call T7F(it,m5,true)
if((TLF)and(GetUnitLifePercent(m5)<60.))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(S57(m5)),GetUnitX(m5)-GetUnitX(S57(m5))))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093686072,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5)+250.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+250.*Sin(UP*bj_DEGTORAD)))
endif
endif
elseif((QSF==1093686072)or(QSF==1093751120))then
set hq[O5]=Bz+85.
set m5=K2(400.,HC[O5])
if(m5!=null)then
call T7F(it,m5,true)
set J4=(TLF)and(IsUnitInRange(it,m5,400.))and(IssueImmediateOrderById(it,852600))
endif
elseif(QSF==1093686081)then
set m5=ZN7(400.,it)
if((m5!=null)and(not R17(it)))then
call T7F(it,m5,true)
set J4=(TLF)and(IssueImmediateOrderById(it,852600))
if((not J4)and(TLF)and(GetUnitLifePercent(m5)<60.))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(S57(m5)),GetUnitX(m5)-GetUnitX(S57(m5))))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093686072,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5)+250.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+250.*Sin(UP*bj_DEGTORAD)))
endif
endif
if(TLF)then
call QA7(1.)
call B87(it)
endif
endif
elseif(i1==1311786311)then
if(QSF==1093743178)then
if TLF and GetUnitAbilityLevel(GetSpellTargetUnit(),1112560453)>1 then
call LSE(O5,m5,false,false)
set J4=IssueTargetOrderById(it,852581,m5)
endif
endif
elseif(i1==1211117652)then
if(QSF==1093687864)or(QSF==1093747542)or(QSF==1093687861)and TLF then
set m5=h4[O5]
if(m5==null)or(not IsUnitInRange(it,m5,170))then
set m5=ZN7(170.,it)
if m5!=null then
call LSE(O5,m5,false,false)
endif
endif
if(QSF==1093687861)then
if R17(it)then
set bj_lastReplacedUnit=h9[16+O5]
set J4=true
elseif m5==null then
if h4[O5]!=null then
set bj_lastReplacedUnit=h4[O5]
else
set bj_lastReplacedUnit=h8[O5]
endif
set J4=true
endif
if J4 then
set m5=T37(GetHandleId(it),"AI|Cog1")
set bj_lastLoadedUnit=T37(GetHandleId(it),"AI|Cog2")
if Q17(m5,bj_lastReplacedUnit)>Q17(bj_lastLoadedUnit,bj_lastReplacedUnit)then
set m5=bj_lastLoadedUnit
endif
set bj_lastLoadedUnit=T37(GetHandleId(it),"AI|Cog3")
if Q17(m5,bj_lastReplacedUnit)>Q17(bj_lastLoadedUnit,bj_lastReplacedUnit)then
set m5=bj_lastLoadedUnit
endif
set bj_lastLoadedUnit=T37(GetHandleId(it),"AI|Cog4")
if Q17(m5,bj_lastReplacedUnit)>Q17(bj_lastLoadedUnit,bj_lastReplacedUnit)then
set m5=bj_lastLoadedUnit
endif
if m5!=null then
set h4[96+O5]=m5
set J4=IssueTargetOrderById(it,851983,m5)
if J4 then
set hq[832+O5]=Bz+1.
endif
loop
exitwhen GetWidgetLife(h4[96+O5])<.405
set J4=IssueTargetOrderById(it,851983,m5)
call QA7(0.5)
endloop
call J3(it,false)
endif
endif
endif
if(not J4)and(m5!=null)then
if(not J4)and(Bz>TC4[32+O5])and(m5!=null)and(IsUnitInRange(it,m5,210))then
set J4=IssueImmediateOrderById(it,852581)
endif
if(not J4)and(Bz>TC4[16+O5])and(m5!=null)and(IsUnitInRange(it,m5,275))then
set J4=IssueImmediateOrderById(it,852600)
endif
endif
endif
elseif(i1==1211119187)then
set bj_forLoopAIndex=(GetUnitAbilityLevel(it,1093742926)-2)
if(QSF==1093742926)and(TLF)and(h4[O5]!=null)and(bj_forLoopAIndex>=0)and(Bz>TC4[16+O5])and(not R17(it))then
set TC4[16+O5]=Bz+4.
set b5=HC[O5]
if bj_forLoopAIndex>0 then
call QA7(bj_forLoopAIndex)
endif
call SA7(it,852089,1093743414,b5)
endif
elseif(i1==1328558389)then
if QSF==1093747000 and TLF then
set m5=h4[O5]
set b5=HC[O5]
if m5==null or((not IsUnitInRange(it,m5,300))and(not IsUnitInRangeLoc(it,b5,300)))then
set m5=ZO7(300.,it)
set bj_lastReplacedUnit=ZP7(300.,it,GetLocationX(b5),GetLocationY(b5))
endif
if(Bz>TC4[16+O5])then
set J4=(h4[O5]!=null)
if GetUnitLifePercent(bj_lastReplacedUnit)<70. then
set J4=true
elseif GetUnitLifePercent(m5)<70. then
set J4=true
endif
set J4=((J4)and(IssueImmediateOrderById(it,852581)))
endif
if(not J4)then
set J4=IssueImmediateOrderById(it,852217)
endif
elseif QSF==1093747009 and TLF then
set m5=h4[O5]
set b5=SX7(it)
if(SK4[O5]!=null)and(GetWidgetLife(SK4[O5])>.405)then
call MoveLocation(b5,GetUnitX(SK4[O5]),GetUnitY(SK4[O5]))
endif
set J4=false
if((m5==null or((not IsUnitInRange(it,m5,475))and(not IsUnitInRangeLoc(m5,b5,475)))))then
if G0[256+O5]then
set m5=ZO7(475.,it)
set bj_lastReplacedUnit=ZP7(475.,it,GetLocationX(b5),GetLocationY(b5))
if GetUnitLifePercent(m5)<GetUnitLifePercent(bj_lastReplacedUnit)then
call LSE(O5,m5,false,false)
set J4=true
else
set h4[O5]=bj_lastReplacedUnit
set m5=bj_lastReplacedUnit
set J4=true
endif
endif
else
set J4=true
endif
if((J4)and(Bz>TC4[O5])and(not IsUnitIllusion(m5))and(GetUnitLevel(it)>=6)and(h4[O5]!=null)and(IsUnitInRange(it,m5,1200.)))then
set J4=(IssuePointOrderByIdLoc(it,852600,SX7(m5)))
else
set J4=false
endif
if(not J4)then
set J4=IssueImmediateOrderById(it,852217)
endif
endif
elseif(i1==1328558390)then
if QSF==1093744975 then
if TLF then
set J4=SL7(it,852180,1093744986)
if J4 then
call QA7(0.1)
call SY7(it,851986,h9[O5])
endif
endif
endif
elseif(i1==1160786504)then
if QSF==1093751608 and TLF then
if(SE7(450,m5,Condition(function WC7))<=1)then
set J4=SZ7(it,852089,1093751618,m5)
endif
elseif QSF==1093751618 then
set m5=T37(GetHandleId(it),"AI|SoulCatcherTgt")
if TLF then
if(h4[O5]==null)or(m5!=h4[O5]and GetUnitLifePercent(m5)<GetUnitLifePercent(h4[O5]))then
call LSE(O5,m5,false,false)
endif
endif
call T4F(it,m5)
endif
elseif(i1==1160786520)then
if(QSF==1093809991)then
set m5=ZN7(500.,it)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call T7F(it,m5,true)
set J4=(TLF)and(SB7(it,852214,1093809990,0,m5))
endif
elseif(QSF==1093809990)then
set hq[O5]=Bz+18.
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call T7F(it,m5,true)
endif
if(TLF)then
set DU7=m5
set bj_lastLoadedUnit=ZN7(600.,m5)
set DU7=null
if bj_lastLoadedUnit==null then
if R17(it)then
set T0F=Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))
set J4=IssuePointOrderById(it,852598,GetUnitX(m5)+375*Cos(T0F),GetUnitY(m5)+375*Sin(T0F))
elseif R17(m5)or(not IsUnitType(m5,UNIT_TYPE_MELEE_ATTACKER))then
set J4=SY7(it,852598,it)
endif
else
set J4=SY7(it,852598,bj_lastLoadedUnit)
endif
set bj_lastLoadedUnit=null
endif
elseif QSF!=1093809992 and QSF!=1093810008 and hq[816+O5]>Bz and TLF then
set G0[288+O5]=true
call T1F()
endif
elseif(i1==1160786507)then
if(QSF==1093813065)then
call T7F(it,m5,true)
call T7F(m5,it,true)
endif
elseif(i1==1311788336)then
if QSF==1093814860 and TLF then
call QA7(0.2)
set m5=ZN7(350.,it)
set bj_lastCreatedUnit=it
if(m5!=null)and(Bz>TC4[16+O5])and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70))and(SE7(400.,it,Condition(function W37))<=2)then
set J4=SL7(it,852526,1093814323)
endif
endif
elseif(i1==1211122767)then
if(m5==null)then
set m5=h4[O5]
endif
if(not J4)and(TLF)and(Bz>TC4[O5])and(EH9(m5))then
set J4=(m5!=null)and(IssueTargetOrderById(it,852662,m5))
endif
if(QSF==1093814350)then
if TLF and(not J4)and(Bz>TC4[16+O5])then
set J4=(m5!=null)and(SZ7(it,852119,1093812805,m5))
endif
endif
elseif(i1==1160786738)then
if(QSF==1093813557)then
set b5=HC[O5]
set m5=K2(300.,b5)
if(m5!=null)then
call PFF(it,m5)
endif
endif
endif
if((TLF)and(not J4)and(GetUnitCurrentOrder(it)==0))then
call J3(it,true)
endif
set it=null
set m5=null
set b5=null
endfunction
function T5F takes nothing returns nothing
local unit P67=GetTriggerUnit()
local integer QSF=GetSpellAbilityId()
local integer i1=GetUnitTypeId(P67)
local integer O5=GetPlayerId(GetOwningPlayer(P67))
local integer i
local boolean J4=false
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
endif
if(PT4)then
set hq[O5]=0.
set hq[16+O5]=0.
set hq[32+O5]=0.
if i1==1211117653 then
set i=1
loop
exitwhen i>10
set TC4[i*16+O5]=0
set i=i+1
endloop
endif
endif
if(not PT4)and i1!=1211117653 then
if i1==1160786520 then
if(QSF==1093809990)then
set TC4[176+O5]=Bz+I2R(LoadInteger(EE7,QSF,-1+GetUnitAbilityLevel(P67,QSF)))
elseif QSF==1093809991 then
set TC4[192+O5]=Bz+I2R(LoadInteger(EE7,QSF,-1+GetUnitAbilityLevel(P67,QSF)))
elseif QSF==1093809992 then
set TC4[160+O5]=Bz+I2R(LoadInteger(EE7,QSF,-1+GetUnitAbilityLevel(P67,QSF)))
elseif QSF!=1093810008 and hq[816+O5]>Bz then
set G0[288+O5]=true
call T5F()
endif
elseif(QSF==eY[336+O5])then
set TC4[16+O5]=Bz+I2R(LoadInteger(EE7,QSF,-1+GetUnitAbilityLevel(P67,QSF)))
elseif QSF==eY[352+O5]then
set TC4[32+O5]=Bz+I2R(LoadInteger(EE7,QSF,-1+GetUnitAbilityLevel(P67,QSF)))
elseif QSF==eY[368+O5]then
set TC4[48+O5]=Bz+I2R(LoadInteger(EE7,QSF,-1+GetUnitAbilityLevel(P67,QSF)))
elseif QSF==eY[172+O5]or QSF==eY[188+O5]then
set bj_forLoopAIndex=0
if QSF==eY[188+O5]then
set bj_forLoopAIndex=LoadInteger(EE7,QSF,-1+GetUnitAbilityLevel(P67,QSF))
endif
if bj_forLoopAIndex==0 then
set bj_forLoopAIndex=LoadInteger(EE7,eY[172+O5],-1+GetUnitAbilityLevel(P67,QSF))
endif
set TC4[O5]=Bz+I2R(bj_forLoopAIndex)
elseif(QSF==1093682736)then
set TC4[64+O5]=Bz+I2R(LoadInteger(EE7,QSF,-1+GetUnitAbilityLevel(P67,QSF)))
elseif(QSF==1093682760)then
set TC4[80+O5]=Bz+I2R(LoadInteger(EE7,QSF,-1+GetUnitAbilityLevel(P67,QSF)))
elseif QSF==1093683265 then
set TC4[64+O5]=Bz+8.
if AK7(Player(O5))then
if h4[O5]!=null then
call TriggerSleepAction(0.5)
set J4=(IsUnitInRange(P67,h4[O5],700))and((IssueTargetOrderById(P67,852662,h4[O5]))or(IssueTargetOrderById(P67,851983,h4[O5])))
endif
endif
endif
endif
endfunction
function T2F takes nothing returns boolean
return((IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetAttacker()))and(IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))))
endfunction
function T_F takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(hr)))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(VL7(GetFilterUnit())))
endfunction
function U4F takes unit it returns integer
local integer kt=GetUnitAbilityLevel(it,1093682248)
local integer U7F
set EZ7="Whv"
if(kt<1)then
set kt=GetUnitAbilityLevel(it,1093750594)
endif
if(kt>0)then
set hr=it
set U7F=SE7(500.,it,Condition(function T_F))-1
if(U7F<=2)then
return 0
endif
return 140+(50*kt)+((25+(10*kt))*U7F)
endif
return 0
endfunction
function U8F takes nothing returns nothing
call IssueTargetOrderById(GetEnumUnit(),851983,GetTriggerUnit())
endfunction
function U9F takes nothing returns nothing
local boolexpr Ig=Condition(function KH)
set EZ7="U9F"
call GroupClear(iH)
call GroupEnumUnitsOfPlayer(iH,GetOwningPlayer(GetAttacker()),Ig)
call ForGroup(iH,function U8F)
call DestroyBoolExpr(Ig)
set Ig=null
endfunction
function UDF takes nothing returns nothing
local unit IB=GetAttacker()
local unit m5=GetTriggerUnit()
local integer i1=GetUnitTypeId(IB)
local integer O5=GetPlayerId(GetOwningPlayer(IB))
local location b5=null
local integer UP
local boolean UEF
local boolean J4=false
set EZ7="UDF"
set GZ[48+O5]=IsUnitType(m5,UNIT_TYPE_HERO)
set h4[80+O5]=m5
if((not Jw(IB))or(GZ[32+O5]))then
set IB=null
set m5=null
return
else
set GZ[32+O5]=true
call TriggerSleepAction(.7)
if((not R37(m5))or(not R37(IB))or(not is(IB)))then
set GZ[32+O5]=false
set IB=null
set m5=null
return
endif
endif
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(((GetUnitCurrentOrder(m5)==851973)or(GetUnitLifePercent(m5)<60.))and(Bz>hq[480+O5]))then
call NTF(IB,m5)
if(h4[O5]==null)then
call LSE(O5,m5,false,false)
endif
endif
if(not J4)and(SG7(IB,ZU[D74]))then
set J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SG7(IB,ZU[U3]))then
set J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SG7(IB,ZU[FC]))then
set J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SG7(IB,ZU[R3]))then
set J4=(GetUnitLifePercent(m5)<50.)and(CL7(m5)!=1)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SG7(IB,ZU[DP4]))then
set J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItem(IB,bj_lastCreatedItem))
endif
if(not J4)and(SG7(IB,ZU[DR4])and(Bz>TC4[240+O5])and(EF9(m5)==false)and(BO7(m5)==false))then
set J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SG7(IB,ZU[P1]))then
set J4=(GetUnitLifePercent(m5)<50.)and(GetUnitLifePercent(IB)>70.)and(Bz>hq[64+O5])and(G0[256+O5])and(SS7(IB,ZU[P1]))
endif
if(not J4)and(SG7(IB,ZU[T2]))then
set J4=(GetUnitLifePercent(m5)<70.)and(h4[O5]!=null)and(UnitUseItem(IB,bj_lastCreatedItem))
endif
if(not J4)and(SG7(m5,ZU[AL])and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(GetUnitLifePercent(m5)<90.)and(IsUnitType(IB,UNIT_TYPE_HERO)==true)and(EF9(IB)==false)and((IsUnitInRange(IB,m5,200.))==true or(IsUnitInRange(IB,m5,670.))==true)and(AM7(GetOwningPlayer(IB))==true)and(AM7(GetOwningPlayer(m5))==true)and((IsUnitType(IB,UNIT_TYPE_MELEE_ATTACKER)==true)or(IsUnitType(IB,UNIT_TYPE_RANGED_ATTACKER)==true)))then
set TA4=true
set J4=(UnitUseItem(m5,bj_lastCreatedItem))
endif
if(not J4)and(SG7(IB,ZU[D1])or SG7(IB,ZU[E1]))then
set J4=(GetUnitLifePercent(m5)<50. or R57(m5))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)==0)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SP7(IB,ZU[Y0]))then
set GZ[224+O5]=true
set J4=(GetUnitLifePercent(m5)<70.)and(i1!=1164277357)and(UnitUseItem(IB,bj_lastCreatedItem))
set GZ[224+O5]=false
endif
if(not J4)and(SG7(IB,ZU[M3]))then
set J4=(m5!=null)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SG7(IB,ZU[DM4])and(UJ7(IB,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(IB)>90.)and(IsUnitInRange(IB,m5,150.)))then
set J4=(m5!=null)and(UnitUseItem(IB,bj_lastCreatedItem))
endif
if(not J4)and(SG7(IB,ZU[DK4])and(UJ7(IB,"ArmletOfMordigan|Active")==true)and((not IsUnitInRange(IB,m5,150.))or(GetUnitLifePercent(IB)<60.)))then
set J4=(UnitUseItem(IB,bj_lastCreatedItem))
endif
if((h4[O5]!=null)and(SBF(IB)))then
set J4=SCF(IB)
endif
if(i1==1429221424)then
set J4=SL7(IB,852526,1093815119)
endif
elseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
if(SG7(IB,ZU[P1]))then
set J4=(GetUnitLifePercent(m5)<20.)and(GetUnitLifePercent(IB)>60.)and(Bz>hq[64+O5])and(iy(IB))and(SS7(IB,ZU[P1]))
elseif(SG7(IB,ZU[Y0]))then
set GZ[224+O5]=true
set J4=(GetUnitLifePercent(m5)<40.)and(i1!=1164277357)and(UnitUseItem(IB,bj_lastCreatedItem))
set GZ[224+O5]=false
endif
if(i1==1211117653 and(not J4))then
call LSE(O5,m5,false,false)
set J4=((Bz>TC4[64+O5])and(A67(IB,LR4,LR4,LP4,1093686863)and(IssueImmediateOrderById(IB,852132))))or((Bz>TC4[128+O5])and(A67(IB,LQ4,LQ4,LR4,1093686865))and SZ7(IB,852490,1093686865,IB))
endif
elseif((GetUnitTypeId(m5)==1848651861)or(GetUnitTypeId(m5)==1848651865)or(GetUnitTypeId(m5)==1848651866))then
if(SG7(IB,ZU[D1]))then
set J4=(GetUnitLifePercent(m5)>80.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
endif
set UEF=(m5==h4[O5])
if(J4)then
elseif((IsUnitType(m5,UNIT_TYPE_HERO))and((ST7(IB,m5))or((GetUnitLifePercent(m5)<55.)and(GetRandomInt(1,3)==1)and(not T24[O5])and(SAF(IB,m5)))))then
if((TL4)and(T24[O5]))then
call SAF(IB,m5)
endif
elseif(i1==1160785970)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(IsUnitInRange(IB,m5,400.)and(IssuePointOrderById(IB,852662,GetUnitX(m5)+2,GetUnitY(m5)-2)))then
set J4=true
elseif((Bz>TC4[O5])and(IsUnitInRange(IB,m5,480.))and(GetUnitLifePercent(m5)<40.))then
set J4=(((GetUnitAbilityLevel(IB,1093747023)>0)and(SL7(IB,852229,1093747023)))or((GetUnitAbilityLevel(IB,1093752150)>0)and(SL7(IB,852229,1093752150))))
endif
endif
elseif(i1==1211117653)then
if((GetUnitLifePercent(IB)<35.)and(GetUnitAbilityLevel(IB,1110456408)==0))then
set J4=(Bz>TC4[80+O5])and A67(IB,LP4,LP4,LQ4,1093687372)and(AZ7(IB,LQ4,LQ4,LQ4,false))and(IssueImmediateOrderById(IB,852129))
if(not J4)then
set J4=(m5!=null)and(Bz>TC4[160+O5])and(A67(IB,LP4,LP4,LR4,1093686864))and(IssueImmediateOrderById(IB,852134))
endif
else
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((Bz>TC4[128+O5])and(A67(IB,LQ4,LQ4,LR4,1093686865))and SZ7(IB,852490,1093686865,IB))or((Bz>TC4[64+O5])and(A67(IB,LR4,LR4,LP4,1093686863)and(IssueImmediateOrderById(IB,852132))))
endif
endif
elseif(i1==1160786505)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(IsUnitInRange(IB,m5,250.)and(Bz>TC4[O5])and(GetUnitLifePercent(m5)<47.))then
call LSE(O5,m5,false,false)
set J4=IssueImmediateOrderById(IB,852526)
elseif((Bz>TC4[48+O5])and(IsUnitInRange(IB,m5,570.)))then
set J4=IssueImmediateOrderById(IB,852594)
elseif((Bz>TC4[16+O5])and(IsUnitInRange(IB,m5,570.))and(not IsUnitInRange(IB,m5,200.)))then
set J4=(IssuePointOrderById(IB,852662,GetUnitX(m5),GetUnitY(m5)))or(IssueTargetOrderById(IB,852185,m5))
endif
endif
elseif(i1==1160786502)then
set J4=(GetUnitLifePercent(IB)>70.)and IssueImmediateOrderById(IB,852490)
elseif(i1==1160786506)then
if(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<30.)then
set GZ[O5]=true
set UP=GetUnitAbilityLevel(IB,1093751639)
set J4=(IsUnitInRange(IB,m5,840.))and(J8(O5,IssuePointOrderById(IB,852089,GetUnitX(m5)+2,GetUnitY(m5)-2)))
if((not(J4))and(Bz>TC4[32+O5]))then
set m5=ZN7(2200.-(UP*400),IB)
if((m5!=null)and(GetUnitLifePercent(m5)<15.))then
set J4=(SZ7(IB,852119,1093751639,m5))
endif
endif
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(60*GetUnitAbilityLevel(IB,1093682994)))and(SZ7(IB,852119,1093682994,m5)))or((GetHeroLevel(IB)>5)and(GetUnitAbilityLevel(m5,1114665575)==0)and((UEF)or((GetUnitLifePercent(m5)<60.)and(IsUnitInRange(IB,m5,500.))))and(SL7(IB,OrderId("charm"),1093747028)))
endif
elseif(i1==1429221443)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(hq[240+O5]<=Bz)and((UEF)or(GetUnitLifePercent(m5)<50.))and(SL7(IB,852273,1093686322))
if((not J4)and((GetUnitLifePercent(m5)<40.)))then
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093744948,true)
set GZ[O5]=true
set J4=(IssueTargetOrderById(IB,852119,m5))
set GZ[O5]=false
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093744948,false)
endif
elseif(i1==1162032951)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((Bz>hq[O5])and(UP>200)and(UP<(400*GetUnitAbilityLevel(IB,1093679152))or UP<(460*GetUnitAbilityLevel(IB,1093752154)))and(SB7(IB,852527,1093679152,1093752154,m5)))then
elseif((GetHeroLevel(IB)>20)and(GetUnitAbilityLevel(IB,1112893542)==0)and(GetUnitLifePercent(IB)>85.)and(GetUnitLifePercent(m5)<45.))then
set GZ[O5]=true
call J8(O5,SL7(IB,852100,1093678404))
endif
endif
elseif(i1==1162032181)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(Bz>hq[O5]))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((IsUnitInRange(IB,m5,250.))and(UP<SQF(IB))and(UP>300))then
set GZ[O5]=true
set J4=J8(O5,SZ7(IB,852652,1093683761,m5))
endif
endif
elseif(i1==1429221424)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(R17(m5))))then
set J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(60*GetUnitAbilityLevel(IB,1093748789)))and(SZ7(IB,OrderId("creepheal"),1093748789,m5)))or(SZ7(IB,852555,1093687351,m5))
endif
if(not J4)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(ST7(IB,m5))
endif
elseif(i1==1160785972)then
if(GetUnitAbilityLevel(IB,1110454355)>0)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(UEF)and(GetUnitLifePercent(IB)>50.)and(IssueTargetOrderById(IB,851983,m5))
elseif(IsUnitType(m5,UNIT_TYPE_HERO))then
if((GetUnitLifePercent(m5)<65.)and(UEF))then
set GZ[O5]=true
set J4=J8(O5,SL7(IB,852100,1093677872))
endif
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<30.))then
set GZ[O5]=true
set J4=J8(O5,SL7(IB,852100,1093677872))
endif
elseif(i1==1432646245)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(R17(m5))))then
set J4=((not DR8())and((SZ7(IB,852095,1093677640,m5))or((UEF)and(GetUnitLifePercent(IB)<60.)and(SZ7(IB,852585,1093679171,m5)))))or((DR8())and(GetUnitLifePercent(m5)<50.)and((IssueImmediateOrderById(IB,852621))or(SZ7(IB,852095,1093677640,m5))))
endif
elseif(i1==1430466609)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if((GetHeroLevel(IB)>4)or(R17(m5)))then
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093685559,true)
set J4=((IsUnitInRange(IB,m5,375.))and(SL7(IB,852526,1093678145)))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(70*GetUnitAbilityLevel(IB,1093685559)))and(IssueTargetOrderById(IB,852527,m5)))
endif
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>12)and(GetUnitManaPercent(IB)>60.)and(G0[128+O5]))then
set UP=SE7(400.,m5,Condition(function Ki))
set J4=(UP>5)and(Bz>hq[O5])and(SB7(IB,852125,1093810258,1093810259,m5))
if((not J4)and(Bz>hq[16+O5])and((UP>2)or((eY[O5]==10)and(UP>1)))and(SE7(1000.,m5,Condition(function KI))<=1))then
if(not IsUnitInRange(IB,m5,400.))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(IB)-GetUnitY(m5),GetUnitX(IB)-GetUnitX(m5)))
set hq[240+O5]=Bz+3.
call IssuePointOrderById(IB,851986,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD))
else
set J4=SL7(IB,852526,1093678145)
endif
endif
endif
elseif(i1==1430468913)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetUnitAbilityLevel(m5,1110454356)==0)and(GetUnitLevel(IB)>5)and(SZ7(IB,852149,1093677876,m5)))or(((GetUnitLifePercent(m5)<80.)or(UEF))and(GetHeroLevel(IB)>3)and(IsUnitInRange(IB,m5,300.))and(SL7(IB,852127,1093810507)))
endif
elseif(i1==1430467634)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(R17(m5))))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=((UP>200)and(UP<=(250+(300*SRF(IB))))and(SB7(IB,852583,1093684565,1093681458,m5)))or(SZ7(IB,852231,1093679412,m5))
if((not J4)and(GetHeroLevel(IB)>7)and(GetUnitManaPercent(IB)>70.)and(UEF))then
set GZ[O5]=true
set J4=J8(O5,IssueTargetOrderById(IB,852488,m5))
endif
endif
elseif(i1==1313026096)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(R17(m5)))and((GetUnitLifePercent(m5)<80.)or(UEF))and(SZ7(IB,852095,1095267426,m5))
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call U9F()
set J4=((GetHeroLevel(IB)>5)and((GetUnitLifePercent(m5)-GetUnitLifePercent(IB))>25.)and(SZ7(IB,852189,1093678929,m5)))
if((not J4)and(i1==1164277353)and(GetUnitLifePercent(m5)<50.))then
set GZ[O5]=true
set J4=J8(O5,SL7(IB,852663,1093751369))
endif
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(i1==1164277353)and(GetUnitLifePercent(m5)<20.))then
set GZ[O5]=true
set J4=J8(O5,SL7(IB,852663,1093751369))
endif
elseif(i1==1164666213)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitAbilityLevel(IB,1110454836)>0))then
set J4=(G0[128+O5])and(GetUnitLifePercent(IB)>60.)and(SE7(300.,IB,Condition(function KI))==0)and(IssueTargetOrderById(IB,851986,m5))
endif
elseif(i1==1429221430)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call U9F()
set J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(55*GetUnitAbilityLevel(IB,1093681736)))and(SZ7(IB,852601,1093681736,m5)))or(((GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<65.))and(SL7(IB,OrderId("roar"),1093687121)))
if((not J4)and(GetUnitAbilityLevel(IB,1110454597)>0)and(UEF))then
call IssueTargetOrderById(IB,851983,m5)
endif
endif
elseif(i1==1430466872)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(R17(m5))))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((UP>150)and(UP<SSF(IB))and(not ke(m5)))then
set GZ[O5]=true
call J8(O5,(SB7(IB,852119,1093679413,1093679447,m5))or(SZ7(IB,852502,1093684558,m5))or(SZ7(IB,852555,1093687349,m5)))
elseif(((GetUnitLifePercent(m5)<80.)or(UEF))and(GetUnitAbilityLevel(m5,1112560453)==0)and(GetUnitAbilityLevel(m5,1110454344)==0))then
set J4=(SZ7(IB,852555,1093687349,m5))or((Bz>hq[O5])and(SZ7(IB,852502,1093684558,m5)))
endif
endif
elseif(i1==1162032439)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(Bz>hq[16+O5]))then
set UP=GetUnitAbilityLevel(IB,1093677363)
if(UP==0)then
set UP=GetUnitAbilityLevel(IB,1093681462)
endif
if((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(100+(300*UP)))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and((Bz>hq[O5])or(GetUnitAbilityLevel(m5,1111847784)>0)))then
set GZ[O5]=true
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093681462,true)
call J8(O5,(SL7(IB,852594,1093677363))or(SZ7(IB,OrderId("volcano"),1093744435,m5)))
else
call SZ7(IB,OrderId("volcano"),1093744435,m5)
endif
endif
elseif(i1==1430466865)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(R17(m5))))then
set J4=((GetUnitAbilityLevel(IB,1110454357)==0)and(GetUnitLifePercent(IB)>45.)and(SZ7(IB,852066,1093677879,IB)))or((GetUnitLifePercent(m5)<60.)and(GetUnitLifePercent(m5)>10.)and(IsUnitInRange(IB,m5,400.))and(R2I(GetUnitState(IB,UNIT_STATE_MANA))<(140+(GetUnitAbilityLevel(IB,1093810508)*100)))and(SL7(IB,852127,1093810508)))or(SZ7(IB,852125,1093677651,m5))
elseif((GetHeroLevel(IB)>7)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(iy(IB))and(GetUnitManaPercent(IB)>60.)and(GetUnitState(m5,UNIT_STATE_LIFE)<200.))then
set UP=SE7(450.,m5,Condition(function Ki))
set GZ[O5]=true
set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(SZ7(IB,852125,1093677651,m5))
set GZ[O5]=false
endif
elseif(i1==1430468144)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(R17(m5))))then
if(GetUnitAbilityLevel(m5,1113813609)==0)then
call SZ7(IB,852189,1093679192,m5)
elseif(IsUnitInRange(IB,m5,860.)and(U97(GetHandleId(IB),"Level")>GetUnitAbilityLevel(IB,1093750337))and(GetUnitManaPercent(IB)>35.)and(GetHeroLevel(IB)>3))then
call IssueTargetOrderById(IB,852248,m5)
elseif(GetUnitLifePercent(IB)>75.)then
call IssueTargetOrderById(IB,851983,m5)
endif
endif
elseif((i1==1429221432)or(i1==1160786229))then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(R17(m5))))then
call U9F()
set J4=((i1==1429221432)and((GetUnitLifePercent(m5)<60.)or(R17(IB)))and(SL7(IB,852180,1093679411)))or(((i1==1160786229)or(R2I(GetUnitState(IB,UNIT_STATE_MANA))>(250+(25*(GetUnitAbilityLevel(IB,1093679411))))))and((SL7(IB,852126,1093677892))or(SL7(IB,OrderId("channel"),1093687878))))
endif
elseif(i1==1429221441)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(R17(m5))))then
call U9F()
set J4=((GetUnitLifePercent(m5)<65.)and((Bz>hq[O5])or(GetUnitCurrentOrder(m5)==851973))and(SL7(IB,852123,1093677903)))or(SZ7(IB,852231,1093678389,m5))
endif
elseif(i1==1165451634)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(R17(m5)))and((UEF)or(GetUnitLifePercent(m5)<70.))and(SZ7(IB,OrderId("acidbomb"),1093687629,m5))
elseif(i1==1432642913)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(GetHeroLevel(IB)>3)and((GetUnitLifePercent(IB)>70.)or(GetUnitLifePercent(IB)>GetUnitLifePercent(m5)))and(IssueTargetOrderById(IB,852662,m5))
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>2))then
call IssueTargetOrderById(IB,852119,IB)
endif
elseif(i1==1215722344)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetUnitLifePercent(IB)>70.)and(QG7(GetUnitTypeId(m5),F97))and(GetUnitLifePercent(m5)<50.)and(SZ7(IB,852668,1093682499,m5)))or((GetUnitLifePercent(m5)<60.)and(GetUnitLifePercent(IB)>60.)and(SZ7(IB,852668,1093682499,IB)))
endif
elseif(i1==1332766568)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(R17(m5))))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if(((UP<(150+(150*GetUnitAbilityLevel(IB,1093682482))))or(UP<(150+(150*GetUnitAbilityLevel(IB,1093750098)))))and(UP>150))then
set J4=(SB7(IB,852119,1093682482,1093750098,m5))or((IsUnitInRange(IB,m5,275.))and(IssueImmediateOrderById(IB,852600)))
elseif(R2I(GetUnitState(IB,UNIT_STATE_MANA))>(195+(40*GetUnitAbilityLevel(IB,1093682482)))or R2I(GetUnitState(IB,UNIT_STATE_MANA))>(195+(40*GetUnitAbilityLevel(IB,1093750098))))then
set J4=((SE7(400.,m5,Condition(function KJ))>0)and(IssueTargetOrderById(IB,852248,m5)))or(((QG7(GetUnitTypeId(m5),F97))or(GetUnitLifePercent(m5)<50.))and(IsUnitInRange(IB,m5,275.))and(IssueImmediateOrderById(IB,852600)))
elseif(SG7(IB,ZU[T2]))and(SG7(IB,ZU[AL]))then
set TA4=true
set J4=(GetUnitLifePercent(m5)<70.)and(h4[O5]!=null)and(IsUnitType(IB,UNIT_TYPE_HERO))and((IsUnitInRange(IB,m5,200.))or(i1==1315074670)or(i1==1160785972)or(i1==1211117654)or(i1==1433631084)or(i1==1164799855))and(UnitUseItem(m5,SK7(m5,ZU[AL])))and(UnitUseItem(m5,SK7(m5,ZU[T2])))
set TA4=false
endif
endif
elseif(i1==1315334514)then
if(GetHeroLevel(IB)>2)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(IsUnitInRange(IB,m5,350.))and(GetUnitLifePercent(m5)>15.)and((GetUnitAbilityLevel(IB,1093682001))>(GetUnitAbilityLevel(IB,1093681746)*3))and(SL7(IB,852273,1093810506))
elseif((GetHeroLevel(IB)>9)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitManaPercent(IB)>65.)and(GetUnitLifePercent(m5)<50.))then
set J4=SE7(200.,m5,Condition(function Ki))<2
else
set J4=true
endif
if(not J4)then
set UP=R2I(Q07(GetUnitX(IB),GetUnitY(IB),GetUnitX(m5),GetUnitY(m5)))
if((UP>=75)and(UP<=325))then
set J4=(SZF(IB,200.,Condition(function Ki)))and(SL7(IB,852164,1093682521))
elseif((UP>=325)and(UP<=575))then
set J4=(SZF(IB,450.,Condition(function Ki)))and(SL7(IB,852588,1093682760))
elseif((UP>=575)and(UP<=825))then
set J4=(SZF(IB,700.,Condition(function Ki)))and(SL7(IB,852599,1093682736))
endif
endif
endif
elseif(i1==1328558154)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(GetUnitLifePercent(m5)<55.)and(GetUnitState(m5,UNIT_STATE_LIFE)>250.)and(not ke(m5))and(not IsUnitInRange(IB,m5,250.))and(((SE7(900.,m5,Condition(function Ki))<=2)and(SG7(IB,ZU[J1]))or(SG7(IB,ZU[T2])))or((SE7(900.,m5,Condition(function Ki))<2)))and(IssueTargetOrderById(IB,852600,m5))
elseif(i1==1429221446)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetUnitAbilityLevel(IB,1110454868)==0)and(GetUnitLifePercent(IB)>55.)and((GetHeroLevel(IB)>6)or(R17(m5)))and(GetUnitState(IB,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and(SL7(IB,852177,1093678667)))or(((GetUnitLifePercent(m5)<60.)or(UEF))and(GetUnitState(m5,UNIT_STATE_LIFE)>250.)and(G0[128+O5])and(SB7(IB,852480,1093682764,1093747544,m5)))
endif
elseif(i1==1429221445)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set UP=GetUnitAbilityLevel(IB,1093679184)+1
if(UP<=1)then
set UP=GetUnitAbilityLevel(IB,1093678647)
endif
set J4=((UP>0)and(not ke(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(GetUnitState(m5,UNIT_STATE_LIFE)<((0.20+(I2R(UP)*0.20))*(GetUnitState(m5,UNIT_STATE_MAX_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))))and(SB7(IB,852095,1093678647,1093679184,m5)))or((GetHeroLevel(IB)>2)and(IsUnitInRange(IB,m5,400.))and(SL7(IB,852526,1093678422)))
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>8)and(GetUnitManaPercent(IB)>60.)and(G0[128+O5]))then
set UP=SE7(400.,m5,Condition(function Ki))
if((UP>2)or((eY[O5]==10)and(UP>1)))then
if(not IsUnitInRange(IB,m5,400.))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(IB)-GetUnitY(m5),GetUnitX(IB)-GetUnitX(m5)))
set hq[240+O5]=Bz+3.
call IssuePointOrderById(IB,851986,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD))
else
set J4=SL7(IB,852526,1093678422)
endif
endif
endif
elseif(i1==1332963428)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(R17(m5))))then
set J4=((R17(m5))and(GetUnitState(IB,UNIT_STATE_MANA)>hq[272+O5])and(SZ7(IB,852480,1093677649,m5)))or((GetUnitLifePercent(IB)<90.)and(SZ7(IB,852119,1093683019,m5)))
endif
elseif(i1==1332109682)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(R17(m5))))then
set J4=((GetUnitLifePercent(m5)<50.)and(SL7(IB,852588,1093810505)))or((GetUnitManaPercent(IB)>30.)and(SZ7(IB,852662,1093678134,m5)))
endif
elseif(i1==1211117640)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>4)and(GetUnitAbilityLevel(m5,1110454606)==0)and(GetUnitState(IB,UNIT_STATE_MANA)>250.)and(Bz>hq[O5])and(SZ7(IB,852486,1093681989,m5)))or((GetHeroLevel(IB)>2)and(UEF)and(IssueTargetOrderById(IB,852089,m5)))
elseif((GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>50.))then
set J4=(SE7(400.,m5,Condition(function Ki))>2)and(SE7(300.,m5,Condition(function Kj))>0)and(IssueTargetOrderById(IB,852089,m5))
endif
elseif(i1==1429221456)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set UP=GetHeroInt(IB,true)-GetHeroInt(m5,true)
set J4=((GetHeroLevel(IB)>5)and(UP>9)and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(10*UP))and(SB7(IB,852089,1093685067,1093752407,m5)))or((i2(m5))and(SZ7(IB,852119,1093685066,m5)))
if((not J4)and(GetUnitManaPercent(IB)>70.)and(GetUnitLifePercent(m5)>60.)and(GetUnitManaPercent(m5)>40.))then
set GZ[O5]=true
set J4=J8(O5,(SE7(700.,m5,Condition(function Kk))==0)and(SZ7(IB,852119,1093685066,m5)))
endif
endif
elseif(i1==1160786243)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(GetHeroLevel(IB)>2)and((GetUnitManaPercent(IB)>50.)and(GetUnitLifePercent(m5)<65.))and(IssueTargetOrderById(IB,852248,m5))
if((not J4)and(GetUnitAbilityLevel(IB,1093683765)>2))then
set J4=(SE7(500.,m5,Condition(function Ki))>3)and((GetUnitManaPercent(IB)>60.)or(GetUnitLifePercent(m5)<65.)or(SE7(500.,m5,Condition(function KJ))>0))and(IssueTargetOrderById(IB,852095,m5))
endif
if((not J4)and(GetUnitLifePercent(m5)<75.)and(GetHeroLevel(IB)>5)and(Bz>hq[O5]))then
set GZ[O5]=true
set J4=J8(O5,SZ7(IB,852224,1395667000,m5))
endif
elseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
if((GetHeroLevel(IB)>10)and(GetUnitLifePercent(m5)<40.))then
set GZ[O5]=true
set J4=J8(O5,SZ7(IB,852224,1395667000,m5))
endif
elseif((not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitAbilityLevel(IB,1093683765)>2)and(GetUnitManaPercent(IB)>60.))then
set J4=(SE7(400.,m5,Condition(function Ki))>3)and(IssueTargetOrderById(IB,852095,m5))
endif
elseif(i1==1430468406)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(GetHeroLevel(m5)>5)and((GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<70.))and(SZ7(IB,852592,kS(IB),m5))
if((not J4)and((GetHeroLevel(IB)>5)or(R17(m5))))then
set J4=((GetUnitLifePercent(m5)>10.)and(GetUnitLifePercent(m5)<50.)and(IssueImmediateOrderById(IB,852556)))or(SZ7(IB,852218,kT(IB),m5))
endif
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<25.)and(GetUnitLifePercent(m5)>10.))then
set J4=(SE7(500.,m5,Condition(function Kj))>2)and(IssueImmediateOrderById(IB,852556))
endif
elseif(i1==1160786242)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(R17(m5))))then
set J4=((GetUnitLifePercent(m5)<60.)and(IssueTargetOrderById(IB,852662,m5)))or((GetUnitLifePercent(m5)<45.)and(IssueImmediateOrderById(IB,852490)))
endif
elseif((i1==1211117641)or(i1==1211117642))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if((R17(m5))and(GetUnitAbilityLevel(m5,1110456120)==0))then
call S0F(IB,m5)
endif
elseif((i1==1211117641)and(GetHeroLevel(IB)>11)and(GetUnitManaPercent(IB)>70.))then
set J4=(SE7(400.,IB,Condition(function Ki))>3)and(IssueTargetOrderById(IB,852553,IB))
endif
elseif(i1==1311781207)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(UEF)and((GetHeroLevel(IB)>4)or(R17(m5)))and(IssuePointOrder(IB,"blizzard",GetUnitX(m5),GetUnitY(m5)))
elseif((i1==1211117650)or(i1==1211119433))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call U9F()
endif
elseif(i1==1211117646)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=IssueTargetOrderById(IB,852095,IB)
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(IsUnitType(m5,UNIT_TYPE_MELEE_ATTACKER))and(GetHeroLevel(IB)>5)and(GetUnitManaPercent(IB)>50.))then
set J4=(SE7(250.,IB,Condition(function Ki))>2)and(IssueTargetOrderById(IB,852095,IB))
endif
elseif(i1==1211117624)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>3)or(R17(m5)))and((SL7(IB,852526,1093683024))or(IssueTargetOrderById(IB,852600,m5)))
if((not J4)and(GetUnitAbilityLevel(IB,1110455373)>0)and((GetUnitLifePercent(IB)>75.)or(R17(m5))))then
call IssueTargetOrderById(IB,851983,m5)
endif
elseif((GetHeroLevel(IB)>6)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitLifePercent(m5)<75.)and(GetUnitManaPercent(IB)>75.))then
set J4=(SE7(400.,m5,Condition(function Ki))>2)and(SL7(IB,852526,1093683024))
endif
elseif(i1==1160785973)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(R17(m5))))then
set UP=SE7(700.,IB,Condition(function Ki))
set J4=((IsUnitInRange(m5,IB,400.))and(UP<2)and(GetUnitAbilityLevel(m5,1110454580)==0)and(IssueImmediateOrderById(IB,852600)))or((GetHeroLevel(IB)>20)and(GetUnitState(IB,UNIT_STATE_MANA)>450.)and(SZ7(IB,852231,1093678130,m5)))
endif
elseif(i1==1315988077)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(((GetUnitLifePercent(m5)<75.)or(UEF))and((GetHeroLevel(IB)>4)or(R17(m5))))then
if(((not IsUnitInRange(IB,m5,200.))or(not SL7(IB,852096,1093678669)))and(GetUnitLifePercent(m5)<50.)and(GetUnitLifePercent(m5)>15.))then
call LSE(O5,m5,false,false)
call SL7(IB,852586,1093684561)
endif
endif
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<20.))then
set GZ[O5]=true
call SL7(IB,852586,1093684561)
endif
elseif(i1==1211117616)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<80.)or(UEF))and((GetHeroLevel(IB)>4)or(R17(m5))))then
set J4=((IsUnitInRange(IB,m5,250.))and(SL7(IB,852127,1093677139)))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(40+(125*(GetUnitAbilityLevel(IB,1093816142)))))and(SZ7(IB,852231,1093816142,m5)))
endif
elseif(i1==1315074670)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(R17(m5))))then
set J4=((GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<70.))and(GetUnitLifePercent(m5)>20.)and(IsUnitInRange(IB,m5,400.))and(SZ7(IB,852592,1093685570,m5))
if((not J4)and(G0[128+O5])and(GetUnitAbilityLevel(m5,1113813860)>0)and(UEF)and((GetUnitLifePercent(IB)>70.)or(R17(m5))))then
call IssueTargetOrderById(IB,851983,m5)
endif
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<80.)or(UEF))and((GetHeroLevel(IB)>4)or(R17(m5))))then
set J4=((GetUnitLifePercent(m5)<60.)and(SL7(IB,852180,1093677895)))or((IsUnitInRange(IB,m5,350.))and(SZ7(IB,852095,1093681490,m5)))
endif
elseif(i1==1164207469)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(not ke(m5)))then
set J4=(((GetUnitManaPercent(m5)<15.)and(GetUnitLifePercent(m5)<50.))or(GetUnitState(m5,UNIT_STATE_LIFE)<((GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))*(.35+(I2R(GetUnitAbilityLevel(IB,1093682483))*.25)))))and(SZ7(IB,852095,1093682483,m5))
endif
elseif(i1==1433631084)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(180+(150*GetUnitAbilityLevel(IB,1093678160))))and(SZ7(IB,852095,1093678160,m5))
elseif(i1==1214345830)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(GetHeroLevel(IB)>2)and(GetUnitLifePercent(IB)<85.)and(SZ7(IB,852225,1093679182,IB))
elseif((GetHeroLevel(IB)>7)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitLifePercent(IB)<90.)and(GetUnitManaPercent(IB)>60.))then
set J4=(SE7(400.,IB,Condition(function Ki))>2)and(SE7(800.,IB,Condition(function Kk))==0)and(SZ7(IB,852225,1093679182,IB))
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5))then
if(GetUnitAbilityLevel(IB,1110454338)==0)then
if((GetUnitLifePercent(m5)<70.)or((UEF)and(GetUnitLifePercent(IB)<70.)))then
if((IsUnitInRange(IB,m5,280.)))then
set J4=IssueImmediateOrderById(IB,852138)
call IssueTargetOrderById(IB,851983,m5)
endif
set GZ[O5]=true
call J8(O5,SL7(IB,852100,1093748042))
endif
elseif((GetUnitLifePercent(IB)>70.)and(UEF))then
if((IsUnitInRange(IB,m5,280.)))then
set J4=IssueImmediateOrderById(IB,852138)
call IssueTargetOrderById(IB,851983,m5)
else
set J4=IssueImmediateOrderById(IB,852139)
call IssueTargetOrderById(IB,851983,m5)
endif
endif
endif
elseif(i1==1315007329)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(R17(m5))))then
set J4=((GetUnitState(m5,UNIT_STATE_LIFE)<(hq[272+O5]))and(SZ7(IB,852095,1093677108,m5)))or((GetUnitLifePercent(m5)<75.)and(GetUnitAbilityLevel(m5,1110454348)==0)and(GetUnitCurrentOrder(m5)!=851973)and(SZ7(IB,852149,1093681716,m5)))
endif
elseif(i1==1332898670)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(R17(m5))))then
if(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(50*GetUnitAbilityLevel(IB,1093677136)))then
if(IsUnitInRange(IB,m5,400)or EH9(m5))then
set GZ[O5]=true
call J8(O5,SZ7(IB,852480,1093677136,m5))
endif
elseif((GetHeroLevel(IB)>10)and(GetUnitLifePercent(m5)<70.))then
call SZ7(IB,852502,1093685848,m5)
elseif((GetUnitManaPercent(IB)>60.)or(R17(m5)))then
call SZ7(IB,852587,1093677360,m5)
endif
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>60.))then
set UP=SE7(450.,m5,Condition(function Ki))
set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(SZ7(IB,852587,1093677360,m5))
endif
elseif(i1==1215723364)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(R17(m5))))then
if(((GetUnitLifePercent(m5)<70.)or(UEF))and(SZ7(IB,852095,1093677633,m5)))then
elseif((R17(m5))and(kA(IB,m5,400.)))then
call SB7(IB,852587,1093683534,1093747031,m5)
endif
endif
elseif(i1==1215128178)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<70.)or(UEF))and((GetHeroLevel(IB)>3)or(R17(m5))))then
set J4=(SZ7(IB,852095,1093683779,m5))or(((GetUnitManaPercent(IB)>40.)or(R17(m5)))and(SZ7(IB,852119,1093677616,m5)))
endif
elseif(i1==1164799855)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(GetUnitManaPercent(IB)>50.)and((GetHeroLevel(IB)>3)or(R17(m5)))and(GetUnitLifePercent(m5)<80.)and(SZ7(IB,852075,1093682264,m5))
elseif((GetOwningPlayer(m5)!=Z7[0])and(GetOwningPlayer(m5)!=A7[0])and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitManaPercent(IB)>60.)and(Bz>hq[O5]))then
set UP=GetUnitTypeId(m5)
set J4=(UP!=1848652113)and(UP!=1848652114)and(UP!=1752654196)and(UP!=1752658994)and(UP!=1752658995)and(UP!=1747988534)and(UP!=1966092339)and(UP!=1966092341)and(UP!=1966092345)and(UP!=1969711215)and(UP!=1966092337)and(UP!=1970169187)and(UP!=1966092338)and(UP!=1702061422)and(UP!=1697656918)and(UP!=1701081721)and(UP!=1697656919)and(GetUnitLifePercent(m5)>60.)and(SZ7(IB,852075,1093682264,m5))
endif
elseif(i1==1433105516)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call U9F()
if((GetHeroLevel(IB)>5)or(R17(m5)))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[O5])-GetUnitY(IB),GetUnitX(h8[O5])-GetUnitX(IB)))
set J4=(IssuePointOrderById(IB,852600,GetUnitX(m5)+80.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+80.*Sin(UP*bj_DEGTORAD)))or((R17(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(GetUnitState(m5,UNIT_STATE_LIFE)<800.)and(not kr(IB))and(IssuePointOrderById(IB,OrderId("cannibalize"),GetUnitX(m5)+80.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+80.*Sin(UP*bj_DEGTORAD))))or(IssueTargetOrderById(IB,852662,m5))
endif
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>9)and(iy(IB))and(GetUnitManaPercent(IB)>60.)and(((h4[128+O5]!=null)and(IsUnitInRange(IB,h4[128+O5],1200.)))or(eY[O5]==10)))then
set UP=SE7(450.,m5,Condition(function Ki))
set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(IssuePointOrderById(IB,852600,GetUnitX(m5),GetUnitY(m5)))
endif
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
if((not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>4)and(Bz>hq[O5])and(GetUnitManaPercent(IB)>30.))then
set b5=HC[16+O5]
call MoveLocation(b5,GetUnitX(IB),GetUnitY(IB))
if((SE7(600.,m5,Condition(function Ki))>2)and(not IsUnitInRange(IB,m5,150.))and((SD7(600.,b5,Condition(function KI))==0)or(SD7(500.,b5,Condition(function KJ))>0)or(SD7(500.,b5,Condition(function Kk))>0)))then
set UP=IMaxBJ(R2I(Q07(GetUnitX(m5),GetUnitY(m5),GetUnitX(IB),GetUnitY(IB)))-(435+(120*GetUnitAbilityLevel(IB,1093679157))),0)
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(IB),GetUnitX(m5)-GetUnitX(IB)))
if((RAbsBJ(GetUnitFacing(IB)-I2R(i1))<25.)or(RAbsBJ(GetUnitFacing(IB)-360.-I2R(i1))<25.))then
call IssuePointOrderById(IB,852600,GetUnitX(IB)+I2R(150+UP)*Cos(i1*bj_DEGTORAD),GetUnitY(IB)+I2R(150+UP)*Sin(i1*bj_DEGTORAD))
endif
endif
endif
elseif(i1==1316252014)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>4)or(R17(m5)))and((SZ7(IB,852585,1093678137,m5))or(IssuePointOrderById(IB,852190,GetUnitX(IB)+70.*Cos((GetUnitFacing(IB)-180.)*bj_DEGTORAD),GetUnitY(IB)+70.*Sin((GetUnitFacing(IB)-180.)*bj_DEGTORAD))))
elseif((GetHeroLevel(IB)>10)and(GetUnitManaPercent(IB)>40.))then
set UP=SE7(400.,m5,Condition(function Ki))
set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(IssuePointOrderById(IB,852190,GetUnitX(IB)+70.*Cos((GetUnitFacing(IB)-180.)*bj_DEGTORAD),GetUnitY(IB)+70.*Sin((GetUnitFacing(IB)-180.)*bj_DEGTORAD)))
endif
elseif(i1==1164799603)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(R17(m5))))then
call U9F()
set J4=((GetUnitLifePercent(m5)<70.)and(SB7(IB,852119,1093752632,1093752633,m5)))or((not IsUnitInRange(IB,m5,200.))and(IsUnitInRange(IB,m5,600))and(SZ7(IB,OrderId("carrionswarm"),1093808453,m5)))
endif
elseif(i1==1328558160)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(GetUnitAbilityLevel(IB,1093683011)>0)then
call U9F()
endif
set J4=((GetHeroLevel(IB)>5)or(GetUnitLifePercent(m5)<60.))and(IssueTargetOrderById(IB,852662,m5))
if((not J4)and(G0[128+O5])and((GetHeroLevel(IB)>3)or(R17(m5)))and(UEF)and(not IsUnitInRange(IB,m5,350.))and(SE7(600.,m5,Condition(function KI))<3)and(not IC(O5)))then
set b5=kL(IB,m5,200.)
if(b5!=null)then
if((GetUnitState(m5,UNIT_STATE_LIFE)<400.)and(GetUnitLifePercent(m5)<40.))then
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093682766,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderByIdLoc(IB,852218,b5))
endif
endif
endif
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>10)and(GetUnitManaPercent(IB)>70.)and(not IsUnitInRange(IB,m5,350.)))then
if((SE7(400.,m5,Condition(function Ki))>2)and(SE7(500.,m5,Condition(function KI))==0)and(kJ(GetUnitX(m5),GetUnitY(m5))))then
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093682766,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(IB,852218,GetUnitX(m5),GetUnitY(m5)))
endif
endif
elseif(i1==1212363833)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call U9F()
set UP=R2I(hq[16+O5]-Bz)
set J4=((GetHeroLevel(IB)>4)or(R17(m5)))and((GetUnitLifePercent(m5)<80.)or(UEF))and((((UP<=0)or(UP>50))and(SZ7(IB,852095,1093809220,m5)))or((Bz>hq[O5])and(SL7(IB,852123,1093678643))))
endif
elseif(i1==1315070563)then
if((not GZ[O5])and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE)))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((not ke(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)<1200.)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and((SE7(900.,m5,Condition(function KI))*2)>=SE7(900.,m5,Condition(function Ki)))and(GetUnitAbilityLevel(m5,1113815395)==0)and(GetUnitAbilityLevel(m5,1113815346)==0)and(SB7(IB,852095,1093684529,1093747032,m5)))or(((GetHeroLevel(IB)>4)or(R17(m5)))and(not UJ7(IB,"Omnislashing"))and(SL7(IB,852128,1093678407)))
elseif((GetHeroLevel(IB)>5)and(Bz>hq[O5])and((GetUnitState(IB,UNIT_STATE_MANA)>235.+(75*GetUnitAbilityLevel(IB,1093684529)))or(GetUnitState(IB,UNIT_STATE_MANA)>235.+(75*GetUnitAbilityLevel(IB,1093747032))))and(SE7(400.,m5,Condition(function KI))>0))then
set J4=(not UJ7(IB,"Omnislashing"))and(SL7(IB,852128,1093678407))
endif
endif
elseif(i1==1212365106)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(R17(m5))))then
set J4=(SZ7(IB,852089,1093685831,m5))
if((not J4)and(RAbsBJ((GetUnitFacing(m5)-GetUnitFacing(IB)))<=105.)and(GetUnitLifePercent(IB)>(GetUnitLifePercent(m5)+10.)))then
call IssueTargetOrderById(IB,851983,m5)
endif
endif
elseif(i1==1211117617)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(R17(m5))))then
set J4=((GetUnitLifePercent(m5)<80.)or(UEF))and((((Bz>hq[O5])or(GetUnitCurrentOrder(m5)==851973))and(SL7(IB,OrderId("chemicalrage"),1093752648)))or(SZ7(IB,OrderId("acidbomb"),1093744944,m5))or(SL7(IB,852526,1093814611)))
if((not J4)and(GetUnitAbilityLevel(IB,1110454329)>0)and((not R17(IB))or(R17(m5))))then
call IssueTargetOrderById(IB,851983,m5)
endif
endif
elseif(i1==1211117633)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(R17(m5))))then
call U9F()
set J4=(SZ7(IB,852585,1093684045,m5))or(((GetUnitAbilityLevel(IB,1110455624)>0)or(GetUnitLifePercent(m5)<60.))and(SZ7(IB,852095,1093684310,m5)))
endif
elseif(i1==1211117620)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if((R17(m5))or((GetHeroLevel(IB)>3)and((UEF)or(GetUnitLifePercent(m5)<70.))))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=((UP>150)and(UP<STF(IB))and(not ke(m5))and(SB7(IB,852119,1093677392,1093679450,m5)))or(SZ7(IB,852125,1093677382,m5))
endif
elseif(eY[O5]==10)then
set J4=(GetUnitManaPercent(IB)>60.)and(SZ7(IB,852125,1093677382,m5))
endif
elseif(i1==1432580716)or(i1==1429221720)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(UEF)and((GetHeroLevel(IB)>3)or(R17(m5)))and(((Bz>hq[O5])and(SZ7(IB,852089,1093684300,m5)))or(IssueTargetOrderById(IB,852600,m5)))
elseif(GetHeroLevel(IB)>5)then
if(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
set J4=(GetUnitLifePercent(m5)<30.)and((SE7(275.,m5,Condition(function Ki))>0)or(SE7(275.,m5,Condition(function Kj))>0))and(IssueTargetOrderById(IB,852600,m5))
else
set J4=(GetUnitManaPercent(IB)>60.)and(SE7(400.,m5,Condition(function Ki))>2)and(IssueTargetOrderById(IB,852600,m5))
endif
endif
elseif(i1==1333027688)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(UEF)and((GetHeroLevel(IB)>3)or(R17(m5)))and(((IsUnitInRange(IB,m5,250.))and(SL7(IB,852164,1093682252)))or(SZ7(IB,OrderId("channel"),1093686091,m5))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<U4F(IB))and(GetUnitState(m5,UNIT_STATE_LIFE)>180.)and((SL7(IB,852526,1093682248))or(SL7(IB,852526,1093750594)))))
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>10))then
set J4=((GetUnitLifePercent(m5)<40.)or(SE7(300.,IB,Condition(function Ki))>2))and(SL7(IB,852164,1093682252))
endif
elseif(i1==1311781185)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(R17(m5))))then
set J4=(((GetUnitAbilityLevel(m5,1112437609)>0)or(GetUnitManaPercent(m5)<30.)or(GetUnitAbilityLevel(m5,1110454607)>0))and(IssueTargetOrderById(IB,852662,m5)))or((UEF)and(GetUnitAbilityLevel(m5,1112437609)==0)and((QG7(GetUnitTypeId(m5),F97))or(GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<60.))and(IssueImmediateOrderById(IB,852600)))
endif
elseif(i1==1211117643)then
if((not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>10))then
set UP=SE7(300.,m5,Condition(function Ki))
set J4=((UP>1)and(GetHeroLevel(IB)>4)and(SE7(800.,m5,Condition(function KI))==0)and(GetUnitManaPercent(IB)>35.)and(SA7(IB,852278,1093678410,SX7(m5))))
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>10)and(GetUnitLifePercent(IB)>70.))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(IB)-GetUnitY(m5),GetUnitX(IB)-GetUnitX(m5)))
call MoveLocation(HA,GetUnitX(m5)+70.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+70.*Sin(UP*bj_DEGTORAD))
if(IsUnitAlly(IB,Z7[0]))then
set EJ7=Q17(m5,h7[100])
else
set EJ7=Q17(m5,h7[0])
endif
set J4=(GetWidgetLife(m5)<450. or EJ7>6000)and(SE7(800.,m5,Condition(function KI))==0)and(SE7(300.,m5,Condition(function Kj))>1)and(SA7(IB,852278,1093678410,HA))
endif
elseif(i1==1215130471)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>3)or(R17(m5)))and((SZ7(IB,852095,W77(IB),m5))or((GetUnitLifePercent(m5)<60)and(UE7(GetHandleId(IB),"AI|Magi2Blast")and SZ7(IB,852600,1093815121,m5)))or(SZ7(IB,852662,W87(IB),m5)))
elseif((GetUnitManaPercent(IB)>50.)and(GetHeroLevel(IB)>10))then
set J4=((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(SE7(300.,m5,Condition(function Ki))>2)and(SZ7(IB,852662,W87(IB),m5)))or((SE7(400.,m5,Condition(function Kj))>2)and(GetUnitAbilityLevel(IB,1113746543)==0)and(SZ7(IB,852101,W97(IB),IB)))
endif
elseif(i1==1215657064)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(GetUnitAbilityLevel(IB,1110454863)==0)then
set J4=((GetHeroLevel(IB)>5)or(R17(m5)))and(((IsUnitInRange(IB,m5,300.))and(SL7(IB,852096,1093677913)))or(SL7(IB,852100,1093684291))or(SL7(IB,852600,1093750841)))
elseif(GetUnitLifePercent(IB)>50.)then
set J4=IssueTargetOrderById(IB,851983,m5)
endif
elseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
set J4=(GetUnitAbilityLevel(IB,1110454863)==0)and(GetUnitLifePercent(m5)<70.)and(SL7(IB,852600,1093750841))
endif
elseif(i1==1332179560)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(R17(m5))))then
call U9F()
set J4=(GetUnitLifePercent(m5)<35.)and(SZ7(IB,OrderId("acidbomb"),1093742660,m5))
endif
elseif(i1==1214344551)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetUnitLifePercent(m5)<70.)and(GetUnitAbilityLevel(m5,1110459185)==0)and(IssueImmediateOrderById(IB,852600)))or((GetUnitAbilityLevel(m5,1110459185)>0)and(IssueTargetOrderById(IB,851983,m5)))
endif
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call U9F()
set hq[240+O5]=Bz+4.
set J4=(IssueTargetOrderById(IB,852101,IB))or(IssueImmediateOrderById(IB,852599))
elseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
set J4=(IssueTargetOrderById(IB,852101,IB))or(IssueImmediateOrderById(IB,852599))
endif
elseif(i1==1211117636)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call U9F()
set J4=(GetUnitLifePercent(m5)<55.)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(SB7(IB,852095,1093685042,1093810233,m5))
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>8)and(GetUnitManaPercent(IB)>45.)and(GetUnitLifePercent(m5)<75.))then
if(SE7(550.,m5,Condition(function Ki))>2)then
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093685041,true)
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(IB),GetUnitX(m5)-GetUnitX(IB)))
set GZ[O5]=true
set J4=IssuePointOrderById(IB,852218,GetUnitX(IB)+1000.*Cos(UP*bj_DEGTORAD),GetUnitY(IB)+1000.*Sin(UP*bj_DEGTORAD))
set GZ[O5]=false
endif
endif
elseif(i1==1160786000)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>3)or(R17(m5)))and((SZ7(IB,852218,1093685047,m5))or((GetUnitLifePercent(m5)<60.)and(SA7(IB,852580,1093685046,LM7(IB,m5,2000.,0.65,1100.)))))
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>60.)and(GetUnitLifePercent(m5)<75.))then
set J4=(SE7(400.,m5,Condition(function Ki))>2)and(SZ7(IB,852218,1093685047,m5))
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(((GetHeroLevel(IB)>3)or(R17(m5)))and(SZ7(IB,852089,1093683532,m5)))or(((GetUnitLifePercent(m5)<75.)or(GetUnitLifePercent(IB)<65.))and(i1==1311781193)and(SL7(IB,852663,1095656306)))
if((not J4)and(i1!=1311781193)and(GetUnitLifePercent(IB)>75.))then
call IssueTargetOrderById(IB,851983,m5)
endif
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL)))then
if((Bz>hq[O5])and(GetHeroLevel(IB)>6)and(GetUnitManaPercent(IB)>50.))then
set UP=SE7(500.,m5,Condition(function Ki))
set J4=((UP>3)or((eY[O5]==10)and(UP>1)))and(SZ7(IB,852089,1093683532,m5))
endif
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(i1==1311781193)and(GetUnitManaPercent(IB)>50.)and(GetHeroLevel(IB)>10))then
set J4=(SE7(400.,m5,Condition(function Kj))>2)and(SL7(IB,852663,1095656306))
endif
elseif(i1==1311781206)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>2)or(R17(m5)))and(((IsUnitInRange(IB,m5,550.))and((GetUnitManaPercent(IB)>50.)or(GetUnitLifePercent(m5)<60.))and(IssueImmediateOrderById(IB,852600)))or(((GetUnitLifePercent(m5)<75.)or(UEF))and(LME(IB,m5))))
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>6)and(GetUnitManaPercent(IB)>60.))then
set UP=SE7(500.,IB,Condition(function Ki))
set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(IssueImmediateOrderById(IB,852600))
endif
elseif(i1==1211117651)then
if(((GetHeroLevel(IB)>11)and(GetUnitState(IB,UNIT_STATE_MANA)>600.))or(IsUnitType(m5,UNIT_TYPE_HERO))or((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitManaPercent(IB)>30.)and(GetUnitTypeId(m5)!=1700946284)and(GetUnitTypeId(m5)!=1970107511)and(GetUnitTypeId(m5)!=1697657398)and(GetUnitTypeId(m5)!=1966092370)))then
if(GetUnitAbilityLevel(IB,1093685594)>0)then
set hq[240+O5]=Bz+5.
else
set J4=IssueImmediateOrderById(IB,852177)
endif
endif
elseif(i1==1160786265)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((UEF)and((GetUnitLifePercent(m5)<80.)or(GetUnitLifePercent(IB)<60.))and(IssueImmediateOrderById(IB,852526)))or((IsUnitInRange(IB,m5,145+(40*GetUnitAbilityLevel(IB,1093685839))))and(SL7(IB,852129,1093685846)))
endif
elseif(i1==1311780930)then
if((GetHeroLevel(IB)>10)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(iy(IB)))then
if(SE7(550.,m5,Condition(function Ki))>2)then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(IB),GetUnitX(m5)-GetUnitX(IB)))
set J4=IssuePointOrderById(IB,852662,GetUnitX(IB)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(IB)+200.*Sin(UP*bj_DEGTORAD))
set h4[16+O5]=null
endif
endif
elseif(i1==1311788615)then
if((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<35.)and(GetUnitLevel(IB)>5)and(Bz>TC4[O5]))then
set J4=SB7(IB,852581,1093743184,1093747766,m5)
endif
elseif(i1==1160786520)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>3)or(R17(m5)))and((SZ7(IB,852184,1093809991,m5))or((GetUnitLifePercent(m5)<60.)and(SZ7(IB,852214,1093809990,m5))))
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>60.)and(GetUnitLifePercent(m5)<75.))then
set J4=(SE7(400.,m5,Condition(function Ki))>2)and(SZ7(IB,852184,1093809991,m5))
endif
endif
set GZ[32+O5]=false
set IB=null
set m5=null
set b5=null
endfunction
function UFF takes nothing returns boolean
return((GetSpellTargetUnit()!=null)and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetSpellTargetUnit())))and(GetPlayerController(GetOwningPlayer(GetSpellTargetUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function UGF takes nothing returns boolean
return((IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function UHF takes nothing returns nothing
local unit it
local unit NUF
local integer i1
local integer O5
local boolean UIF
local boolean J4
local real kl
set EZ7="UHF"
if(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)then
set it=GetTriggerUnit()
set NUF=GetAttacker()
elseif(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT)then
set it=GetSpellTargetUnit()
set NUF=GetTriggerUnit()
else
set it=GetEnumUnit()
set NUF=GetTriggerUnit()
endif
set O5=GetPlayerId(GetOwningPlayer(it))
if((not Jw(it))or(Bz<hq[304+O5]))then
set it=null
set NUF=null
return
endif
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
set G0[304+O5]=true
else
set G0[304+O5]=false
endif
if not G0[304+O5]then
set hq[496+O5]=Bz+1.5
set hq[304+O5]=Bz+1.
set hq[416+O5]=Bz+5.
if((not IsUnitVisible(NUF,GetOwningPlayer(it)))or(eY[32+GetPlayerId(GetOwningPlayer(NUF))]<=2))then
call TriggerSleepAction(.8)
else
call TriggerSleepAction(.2)
endif
if(Bz>hq[480+O5])then
call NTF(it,NUF)
endif
set UIF=(R17(it))
if(not G0[256+O5])and(not R67(NUF,it))then
call LPE(it,false)
set it=null
set NUF=null
return
elseif((GetHeroLevel(it)>13)and(GetUnitLifePercent(it)>75.)and(GetUnitState(NUF,UNIT_STATE_LIFE)<GetUnitState(it,UNIT_STATE_LIFE))and(h4[O5]==null))then
call LSE(O5,NUF,false,false)
endif
if((R37(it))and(not UIF)and((GetHeroLevel(it)<6)or((V07(it))and(GetHeroLevel(it)<10)))and(iU(it))and(h4[O5]!=NUF))then
if((GetUnitCurrentOrder(it)!=851983)or((GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(not V27(GetSpellAbilityId())))or(GetUnitLifePercent(it)<70.))then
call LPE(it,false)
set it=null
set NUF=null
return
endif
endif
set i1=GetUnitTypeId(it)
endif
if((not is(it))or(not R37(it)))then
if(R37(it))then
elseif((i1==1214409837))then
set J4=(GetUnitCurrentOrder(it)==852600)and(GetUnitLifePercent(it)<80.)and(SY7(it,851986,h9[O5]))
elseif(i1==1160786243)then
set J4=(GetUnitCurrentOrder(it)==852089)and(GetUnitLifePercent(it)<50.)and(SY7(it,851986,h9[O5]))
elseif(i1==1430466872)then
set J4=(GetUnitCurrentOrder(it)==852487)and(SY7(it,851986,h9[O5]))
endif
set it=null
set NUF=null
return
endif
if((UIF)and((GetUnitState(NUF,UNIT_STATE_LIFE)+200.)>GetUnitState(it,UNIT_STATE_LIFE))and(IsUnitInRange(it,NUF,500.)))then
if(not J4)and((SG7(it,ZU[Q1])))and((GetUnitLifePercent(it)<40)or(h4[O5]!=NUF))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,NUF)
endif
if(not J4)and(SG7(it,ZU[D74]))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,NUF)
endif
if(not J4)and(SG7(it,ZU[U3]))and(GetUnitLifePercent(NUF)<40)then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,NUF)
endif
if(not J4)and(SG7(it,ZU[R3]))and(U97(GetHandleId(GetOwningPlayer(NUF)),"AI|Class")<=2)and(GetUnitLifePercent(it)<40)then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,NUF)
endif
if(not J4)and(SG7(it,ZU[DP4]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SG7(it,ZU[DR4])and(Bz>TC4[240+O5])and(EF9(NUF)==false)and(BO7(NUF)==false))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,NUF)
endif
if(not J4)and(SP7(it,ZU[F5]))then
set J4=(ST7(it,NUF))
endif
if(not J4)and((SG7(it,ZU[D1])or SG7(it,ZU[E1]))and(GetItemCharges(bj_lastCreatedItem)>0))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,NUF,false,false)==0)then
set J4=(UnitUseItemTarget(it,bj_lastCreatedItem,NUF))
endif
if(not J4)and(SP7(it,ZU[Y0]))and(GetUnitTypeId(it)!=1164277357)then
set J4=(UnitUseItem(it,bj_lastCreatedItem))
endif
endif
if((not J4)and(IsUnitInRange(it,NUF,500.))and((GetUnitAbilityLevel(NUF,1110454329)>0)or(GetUnitAbilityLevel(NUF,1110454597)>0)or(GetUnitAbilityLevel(NUF,1110454338)>0)or(GetUnitAbilityLevel(NUF,1110454608)>0)))then
set J4=LNE(it,NUF,false)
if(not J4)then
if(not J4)and((SG7(it,ZU[Q1])))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,NUF)
endif
if(not J4)and(SG7(it,ZU[D74]))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,NUF)
endif
if(not J4)and(SG7(it,ZU[U3]))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,NUF)
endif
if(not J4)and(SG7(it,ZU[DP4]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SP7(it,ZU[F5]))then
set J4=(ST7(it,NUF))
endif
if(not J4)and((SG7(it,ZU[D1])or SG7(it,ZU[E1]))and(GetItemCharges(bj_lastCreatedItem)>0))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,NUF)
endif
endif
endif
if(not J4)and(U97(GetHandleId(GetOwningPlayer(NUF)),"AI|Class")<=2)and(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(h4[O5]!=null or(GetUnitLifePercent(it)<30))then
if(not J4)and(SG7(it,ZU[DA4]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SG7(it,ZU[E24]))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,NUF)
endif
if(not J4)and(SG7(it,ZU[AL]))then
set TA4=true
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SG7(it,ZU[R3]))and((h4[O5]==NUF)or(GetUnitLifePercent(it)<70))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,NUF)
endif
if(i1==1429221424)and(Bz>TC4[48+O5]+4.)then
set J4=SL7(it,852526,1093815119)
endif
endif
if(J4)then
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
set J4=((UIF)or(GetUnitAbilityLevel(NUF,1110454329)>0)or(GetUnitAbilityLevel(NUF,1110454597)>0)or(GetUnitAbilityLevel(NUF,1110454338)>0)or(GetUnitAbilityLevel(NUF,1112433522)>0)or(GetUnitAbilityLevel(NUF,1110454608)>0))and(IsUnitInRange(it,NUF,550.))and(SL7(it,OrderId("charm"),1093747028))
elseif(i1==1162032951)then
set J4=(UIF)and(((GetUnitAbilityLevel(it,1093679152)>0)and(IsUnitInRange(it,NUF,450.)))or((GetUnitAbilityLevel(it,1093752154)>0)and(IsUnitInRange(it,NUF,780.))))and(SB7(it,852527,1093679152,1093752154,NUF))
elseif(i1==1160785972)then
set J4=(UIF)and(IssueImmediateOrderById(it,852129))
elseif((i1==1162032181)or(i1==1164207469)or(i1==1429221451)or(i1==1430466609))then
set J4=(UIF)and(KKF(it))
elseif(i1==1429221424)then
set J4=(UIF)and(IsUnitInRange(it,NUF,400.))and(SZ7(it,852555,1093687351,NUF))
if((not J4)and(UIF)and(GetHeroLevel(it)>15)and(GetUnitLifePercent(it)<20.))then
set GZ[O5]=true
set J4=J8(O5,SL7(it,852129,1093679445))
endif
elseif(i1==1430468913)then
if(UIF)then
set J4=(IsUnitInRange(NUF,it,300.))and(SL7(it,852127,1093810507))
else
set J4=((IsUnitInRange(it,NUF,500.))and(SZ7(it,852149,1093677876,NUF)))or((IsUnitInRange(NUF,it,300.))and(SL7(it,852127,1093810507)))
endif
elseif(i1==1430467634)then
set J4=(UIF)and(IsUnitInRange(it,NUF,500.))and(SB7(it,852583,1093684565,1093681458,NUF))
elseif(i1==1313026096)then
set J4=(UIF)and(IsUnitInRange(it,NUF,450.))and(SZ7(it,852095,1095267426,NUF))
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if(GetUnitLifePercent(NUF)>(GetUnitLifePercent(it)+35.))then
set J4=(IsUnitInRange(it,NUF,350.))and(SZ7(it,852189,1093678929,NUF))
endif
elseif(i1==1164666213)then
set J4=((IsUnitInRange(NUF,it,300.))and(IssueImmediateOrderById(it,852177)))or((IsUnitInRange(NUF,it,500.))and(SL7(it,852594,1093677877)))
elseif(i1==1433168227)then
set J4=((UIF)and(IsUnitInRange(it,NUF,500.))and(SZ7(it,852226,1093678918,NUF)))or((GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(SZ7(it,852225,1093679186,NUF)))
elseif(i1==1430466872)then
set J4=(UIF)and(((IsUnitInRange(it,NUF,450.))and(SZ7(it,852502,1093684558,NUF)))or((IsUnitInRange(it,NUF,350.))and(SZ7(it,852555,1093687349,NUF))))
elseif(i1==1162032439)then
set J4=(IsUnitInRange(it,NUF,350.))and(SZ7(it,OrderId("volcano"),1093744435,NUF))
elseif(i1==1430468144)then
set J4=(UIF)and((IsUnitInRange(it,NUF,500.))and(SZ7(it,852189,1093679192,NUF)))or((IsUnitInRange(it,NUF,860.))and(U97(GetHandleId(it),"Level")>GetUnitAbilityLevel(it,1093750337))and(GetUnitManaPercent(it)>35.)and(GetHeroLevel(it)>3)and(IssueTargetOrderById(it,852248,NUF)))
elseif((i1==1429221432)or(i1==1160786229))then
set J4=(UIF)and(IsUnitInRange(it,NUF,1000.))and(SL7(it,852180,1093679411))
elseif(i1==1429221441)then
set J4=(UIF)and(IsUnitInRange(it,NUF,450.))and(SZ7(it,852231,1093678389,NUF))
elseif(i1==1165451634)then
set J4=(UIF)and(((IsUnitInRange(it,NUF,350.))and(SZ7(it,OrderId("acidbomb"),1093687629,NUF)))or(KKF(it)))
elseif(i1==1432642913)then
set J4=((GetHeroLevel(it)>5)or(GetUnitLifePercent(it)<60.))and(IssueTargetOrderById(it,852119,it))
elseif(i1==1215722344)then
set J4=(UIF)and(IsUnitInRange(it,NUF,500.))and(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(QG7(GetUnitTypeId(NUF),F97))and(SZ7(it,852668,1093682499,NUF))
elseif(i1==1432510828)then
set J4=((SVF(it)>30.)and(SL7(it,852600,1093682004)))or((GetUnitState(it,UNIT_STATE_MANA)>350.)and(IsUnitType(NUF,UNIT_TYPE_HERO)==true)and(IssuePointOrderById(it,852662,GetUnitX(NUF),GetUnitY(NUF))))or((UIF)and(IssueImmediateOrderById(it,852129)))
if((not J4)and(not UIF)and(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED))then
set h4[288+O5]=NUF
set J4=IssueImmediateOrderById(it,852129)
endif
elseif(i1==1429221446)then
set J4=(not UIF)and(LKE(it,NUF))
elseif(i1==1332963428)then
set J4=(IsUnitInRange(it,NUF,450.))and(((UIF)and(SZ7(it,852227,1093678169,NUF)))or((GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(kq(GetUnitTypeId(NUF)))and(SZ7(it,852095,1093816137,NUF)))or((GetUnitLifePercent(it)<90.)and(SZ7(it,852119,1093683019,NUF))))
elseif(i1==1332109682)then
set J4=(UIF)and(IsUnitInRange(it,NUF,600.))and(SL7(it,852588,1093810505))
elseif(i1==1160786241)then
set J4=(UIF)and(IsUnitInRange(it,NUF,550.))and(SZ7(it,852119,1093684813,NUF))
elseif(i1==1429221456)then
set J4=(UIF)and(IsUnitInRange(it,NUF,500.))and(SZ7(it,852119,1093685066,NUF))
elseif(i1==1430468406)then
set J4=(UIF)and(IsUnitInRange(it,NUF,600.))and(IssueImmediateOrderById(it,852556))
elseif(i1==1160786242)then
if(UIF)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093683287,true)
set J4=(IsUnitInRange(it,NUF,500.))and(IssueTargetOrderById(it,852662,NUF))
endif
elseif((i1==1211117641)or(i1==1211117642))then
set J4=(UIF)and(IsUnitInRange(it,NUF,600.))and(S0F(it,NUF))
elseif(i1==1311781207)then
set J4=(((GetHeroLevel(it)>2)or(UIF))and(GetUnitLifePercent(it)<85.)and(IssueTargetOrderById(it,852229,it)))or((GetHeroLevel(it)>10)and(UIF)and(GetUnitAbilityLevel(it,1093685078)==0)and(IssueTargetOrderById(it,852536,it)))or((UIF)and(IsUnitInRange(it,NUF,500.))and(SZ7(it,852095,1093684817,NUF)))
elseif(i1==1311780946)then
set J4=(UIF)and(IsUnitInRange(it,NUF,550.))and(SZ7(it,852488,1093685825,NUF))
elseif(i1==1211117624)then
set J4=(UIF)and(IsUnitInRange(it,NUF,550.))and(IssueTargetOrderById(it,852600,NUF))
elseif(i1==1315988077)then
set J4=((UIF)and((SL7(it,852586,1093684561))or((IsUnitInRange(it,NUF,200.))and(SL7(it,852096,1093678669)))))or((not UIF)and(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(IsUnitInRange(it,NUF,500.))and(SZ7(it,852585,1097032808,NUF)))
elseif(i1==1211117616)then
set J4=(UIF)and(IsUnitInRange(NUF,it,220.))and(SL7(it,852127,1093677139))
elseif(i1==1315074670)then
set J4=(QG7(GetUnitTypeId(it),F97))and(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(SL7(it,852127,1093677139))
elseif(i1==1214345830)then
set J4=((GetUnitLifePercent(it)<70.)and((SZ7(it,852225,1093679182,it))or((GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(SZ7(it,852186,1093679190,it)))))or((UIF)and(IssueImmediateOrderById(it,852599)))
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
set J4=(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and((((IsUnitInRange(it,NUF,250.))and(IssueImmediateOrderById(it,852138))and(IssueTargetOrderById(it,851983,NUF)))or((IsUnitInRange(it,NUF,550.))and(IssueImmediateOrderById(it,852139))and(IssueTargetOrderById(it,851983,NUF)))))
elseif(i1==1315007329)then
set J4=(UIF)and((IssueImmediateOrderById(it,852129))or((IsUnitInRange(it,NUF,650.))and(IsUnitVisible(it,GetOwningPlayer(NUF)))and(SZ7(it,852149,1093681716,NUF))))
elseif(i1==1332898670)then
set J4=(UIF)and(IsUnitInRange(NUF,it,450.))and(SZ7(it,852502,1093685848,NUF))
elseif(i1==1215723364)then
set J4=(UIF)and((KKF(it))or((IsUnitInRange(NUF,it,450.))and(SZ7(it,852095,1093677633,NUF))))
elseif(i1==1164799855)then
set J4=((GetUnitLifePercent(it)<70.)and(SL7(it,852556,1093677378)))or((IsUnitInRange(NUF,it,600.))and(SZ7(it,852075,1093682264,NUF)))
elseif(i1==1433105516)then
set J4=(UIF)and(IsUnitInRange(it,NUF,500.))and(IssueTargetOrderById(it,852662,NUF))
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
set J4=(not UIF)and(GetUnitManaPercent(NUF)>30.)and(IsUnitInRange(it,NUF,600.))and(SZ7(it,OrderId("acidbomb"),1093742680,NUF))
elseif(i1==1164799603)then
set J4=(UIF)and(not IsUnitInRange(it,NUF,200.))and(IsUnitInRange(it,NUF,550.))and(SZ7(it,OrderId("carrionswarm"),1093808453,NUF))
elseif(i1==1328558160)then
set J4=(UIF)and((KKF(it))or((GetHeroAgi(it,true)<GetHeroStr(it,true))and(IssueTargetOrderById(it,852662,NUF))))
elseif(i1==1430466865)then
set J4=((UIF)and(KKF(it)))or(IsUnitInRange(it,NUF,350.)and(SL7(it,852127,1093810508)))
elseif(i1==1212363833)then
set J4=(UIF)and((IssueImmediateOrderById(it,852600))or((IsUnitInRange(it,NUF,550.))and(SZ7(it,852095,1093809220,NUF)))or(SL7(it,852123,1093678643)))
elseif(i1==1315070563)then
set J4=(UIF)and((((SG7(it,ZU[VW]))or(SG7(it,ZU[DG4])))and(not ke(NUF))and(SB7(it,852095,1093684529,1093747032,NUF)))or((GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(not GZ[O5])and(not UJ7(it,"Omnislashing"))and(SL7(it,852128,1093678407))))
elseif(i1==1212365106)then
set J4=(UIF)and(((IsUnitInRange(it,NUF,300.))and(SZ7(it,852089,1093685831,NUF)))or(KKF(it)))
elseif(i1==1214931305)then
set J4=(UIF)and(IsUnitInRange(it,NUF,450.))and(SZ7(it,852171,1093678147,NUF))
elseif(i1==1311787088)then
elseif(i1==1211117617)then
set J4=(UIF)and(IsUnitInRange(it,NUF,450.))and((SZ7(it,OrderId("acidbomb"),1093744944,NUF))or(SL7(it,852526,1093814611)))
elseif(i1==1211117633)then
set J4=(UIF)and((IssueImmediateOrderById(it,852600))or((IsUnitInRange(it,NUF,550.))and(SZ7(it,852585,1093684045,NUF))))
elseif(i1==1432580716)or(i1==1429221720)then
set J4=(UIF)and(IsUnitInRange(it,NUF,550.))and(SZ7(it,852089,1093684300,NUF))
elseif(i1==1333027688)then
set J4=(UIF)and(IsUnitInRange(it,NUF,1000.))and(SZ7(it,OrderId("channel"),1093686091,NUF))
elseif(i1==1311781185)then
set J4=(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and((not UIF)or(IsUnitInRange(it,NUF,550.)))and(IssueTargetOrderById(it,852662,NUF))
elseif(i1==1211117643)then
if((GetUnitLifePercent(it)<20.)or(GetUnitState(it,UNIT_STATE_LIFE)<150.))then
set GZ[O5]=true
set J4=J8(O5,(IsUnitInRange(it,NUF,400.))and(SZ7(it,852040,1093678658,NUF)))
endif
elseif(i1==1215130471)then
set J4=(UIF)and(IsUnitInRange(it,NUF,550.))and((SZ7(it,852095,W77(it),NUF))or((GetUnitLifePercent(NUF)<60)and(UE7(GetHandleId(it),"AI|Magi2Blast")and SZ7(it,852600,1093815121,NUF))))
elseif(i1==1214344551)then
if(GetUnitAbilityLevel(it,1110454833)>0)then
set GZ[272+O5]=true
endif
if(not UIF)then
set J4=(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(SZ7(it,852095,1093809742,it))
else
set J4=(K6(it))and(IssueTargetOrderById(it,852069,it))
endif
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
set h4[16+O5]=T37(GetHandleId(GetOwningPlayer(it)),"MyBear")
if((h4[16+O5]!=null)and(GetUnitAbilityLevel(it,1093681461)>1)and(not IsUnitInRange(it,h4[16+O5],800.))and(not GZ[288+O5])and(GetUnitLifePercent(h4[16+O5])>30.))then
endif
elseif(i1==1160786000)then
set J4=(UIF)and(IsUnitInRange(it,NUF,1000.))and(SA7(it,852580,1093685046,LM7(it,NUF,2000.,0.65,1100.)))
elseif(i1==1311781206)then
set J4=((UIF)and(IssueImmediateOrderById(it,852493)))or((IsUnitInRange(it,NUF,400.))and(IssueImmediateOrderById(it,852600)))or(((GetUnitLifePercent(NUF)<70.)or(UIF))and(not IsUnitInRange(it,NUF,400.))and(LME(it,NUF)))
elseif(i1==1160786520)then
set J4=(UIF)and(IsUnitInRange(it,NUF,1000.))and(SZ7(it,852214,1093809990,NUF))
if(not J4)and hq[816+O5]>Bz then
set G0[288+O5]=true
call UHF()
endif
set G0[304+O5]=false
endif
if not G0[304+O5]then
if((not J4)and(iU(it)))then
if((UIF)and(GetUnitLifePercent(NUF)>70.))then
call VN7(it,false)
elseif((GetHeroLevel(it)>5)and(G0[128+O5])and((GetUnitLifePercent(it)>80.)or(GetUnitState(it,UNIT_STATE_LIFE)>GetUnitState(NUF,UNIT_STATE_LIFE)))and(IsUnitInRange(it,NUF,800.))and(GetUnitCurrentOrder(it)!=851986))then
call IssueTargetOrderById(it,851983,NUF)
elseif((GetHeroLevel(it)<6)and(GetUnitLifePercent(NUF)>60.)and(((not IsUnitInRange(it,NUF,300.))and(V07(it)))or((IsUnitInRange(it,NUF,300.))and(not V07(it)))))then
set kl=Atan2(GetUnitY(h9[16+O5])-GetUnitY(it),GetUnitX(h9[16+O5])-GetUnitX(it))
call IssuePointOrderById(it,851986,GetUnitX(it)+300.*Cos(kl),GetUnitY(it)+300.*Sin(kl))
endif
endif
if((hq[656+O5]>Bz)and(GetUnitLifePercent(it)<65.))then
call VN7(it,false)
endif
if((J4)or(not is(it)))then
set hq[304+O5]=0.
endif
endif
set it=null
set NUF=null
endfunction
function K1F takes nothing returns nothing
local unit it=GetEnumUnit()
local integer i1=GetUnitTypeId(GetEnumUnit())
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
local real kl=Atan2(GetUnitY(h9[O5])-GetUnitY(it),GetUnitX(h9[O5])-GetUnitX(it))
local real A17
set EZ7="K1F"
if(SG7(it,ZU[RW]))then
if(kJ(GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+500.*Cos(kl),GetUnitY(it)+500.*Sin(kl))
endif
call UnitUseItemPointLoc(it,SK7(it,ZU[RW]),HB)
elseif(i1==1162032181)then
set A17=I2R(350+(200*GetUnitAbilityLevel(it,1093684299)))
if(kJ(GetUnitX(it)+A17*Cos(kl),GetUnitY(it)+A17*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+A17*Cos(kl),GetUnitY(it)+A17*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+(A17-100.)*Cos(kl),GetUnitY(it)+(A17-100.)*Sin(kl))
endif
call IssuePointOrderByIdLoc(it,852218,HB)
elseif((i1==1430466609)or(i1==1164207469))then
if(kJ(GetUnitX(it)+800.*Cos(kl),GetUnitY(it)+800.*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+800.*Cos(kl),GetUnitY(it)+800.*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl))
endif
call IssuePointOrderByIdLoc(it,852525,HB)
elseif(i1==1429221451)then
set A17=I2R(280+(100*GetUnitAbilityLevel(it,1093678671)))
if(kJ(GetUnitX(it)+A17*Cos(kl),GetUnitY(it)+A17*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+A17*Cos(kl),GetUnitY(it)+A17*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+(A17-100.)*Cos(kl),GetUnitY(it)+(A17-100.)*Sin(kl))
endif
call IssuePointOrderByIdLoc(it,852218,HB)
elseif(i1==1328558160)then
if(kJ(GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+450.*Cos(kl),GetUnitY(it)+450.*Sin(kl))
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093682766,true)
call IssuePointOrderByIdLoc(it,852218,HB)
elseif(i1==1311781206)then
set GZ[O5]=true
call J8(O5,SL7(it,852129,1093684302))
elseif(i1==1211119409)then
set GZ[O5]=true
call J8(O5,SL7(it,852600,1093749303))
elseif(i1==1211117651)then
if(kJ(GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl))
endif
call IssuePointOrderByIdLoc(it,852218,HB)
else
call KKF(it)
endif
call QA7(1.)
if Q17(it,h9[O5])<400 then
call SY7(it,851983,h8[O5])
else
call SY7(it,851986,h9[O5])
endif
set it=null
endfunction
function UJF takes nothing returns boolean
local unit it=GetEnumUnit()
local integer i1=GetUnitTypeId(GetEnumUnit())
local player pl=GetOwningPlayer(GetEnumUnit())
local location b5=HC[16+GetPlayerId(pl)]
local unit m5=null
local boolean J4=false
local integer UKF
local integer UP
local integer O5=GetPlayerId(pl)
set EZ7="UJF"
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
set G0[304+O5]=true
else
set G0[304+O5]=false
endif
if(not RB7(it))and(RC7(it))then
return true
endif
if((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
set m5=S97(700.,b5,Condition(function Kn))
set J4=(m5!=null)and(SL7(it,OrderId("charm"),1093747028))
elseif(i1==1160785972)then
set J4=IssueImmediateOrderById(it,852129)
if((not J4)and(GetHeroLevel(it)>6)and(GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitState(it,UNIT_STATE_MANA)>350.))then
set m5=S97(500.,b5,Condition(function KD))
set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(SZ7(it,852066,1093678161,m5))
endif
elseif((i1==1162032181)or(i1==1164207469)or(i1==1212365106)or(i1==1429221451)or(i1==1311781206))then
set J4=KKF(it)
elseif(i1==1429221424)then
if(not kD(it))then
set m5=S97(400.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852555,1093687351,m5))
endif
if((GetHeroLevel(it)>10.)and(GetUnitLifePercent(it)<30.)and(SD7(700.,b5,Condition(function Kn))>0))then
set GZ[GetPlayerId(pl)]=true
set J4=J8(GetPlayerId(pl),SL7(it,852129,1093679445))
endif
elseif(i1==1432646245)then
if(not DR8())then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852095,1093677640,m5))
endif
elseif(i1==1430466609)then
set J4=KKF(it)
if(not J4)then
set m5=S97(450.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852527,1093685559,m5))
endif
elseif(i1==1160786502)then
set J4=KKF(it)
elseif(i1==1429221443)then
set UP=GetUnitAbilityLevel(it,1093686103)
if(UP==1)then
set m5=S97(250.,SX7(it),Condition(function YX7))
else
set m5=S97(250.,SX7(it),Condition(function YY7))
endif
set J4=(m5!=null)and(SY7(it,851986,m5))and(SZ7(it,852600,1093686103,m5))
if(not J4)then
set J4=(hq[240+GetPlayerId(pl)]<=Bz)and(SL7(it,852273,1093686322))
endif
elseif(i1==1430468913)then
set J4=(SD7(300.,b5,Condition(function k6))>0)and(SL7(it,852127,1093810507))
if((not J4)and(R17(it)))then
set GZ[GetPlayerId(pl)]=true
set J4=J8(GetPlayerId(pl),SL7(it,852100,1093678403))
endif
elseif(i1==1430467634)then
set b5=kk(it,400.,h9[GetPlayerId(pl)])
if(b5!=null)then
call SetPlayerAbilityAvailable(pl,1093750608,true)
set GZ[GetPlayerId(pl)]=true
set J4=J8(GetPlayerId(pl),IssuePointOrderByIdLoc(it,852488,b5))
endif
set b5=HC[16+GetPlayerId(pl)]
elseif(i1==1313026096)then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852095,1095267426,m5))
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
set bj_lastLoadedUnit=it
set IN4=null
set IP4=null
set EJ7=GetUnitLifePercent(it)+10.
set EK7=GetUnitLifePercent(it)+10.
call S97(700.,b5,Condition(function W57))
if IN4!=null then
set m5=IN4
else
set m5=IP4
endif
set J4=(m5!=null)and(SZ7(it,852189,1093678929,m5))
elseif(i1==1430466872)then
set m5=S97(400.,b5,Condition(function Kn))
set J4=(m5!=null)and((SZ7(it,852555,1093687349,m5))or(SZ7(it,852502,1093684558,m5))or(ST7(it,m5)))
elseif(i1==1162032439)then
set m5=S97(450.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,OrderId("volcano"),1093744435,m5))
elseif(i1==1430468144)then
set m5=S97(600.,b5,Condition(function Kn))
if((m5!=null)and(SG7(it,ZU[DR4]))and(EF9(m5)==false)and(BO7(m5)==false))then
set J4=UnitUseItemTarget(it,SK7(it,ZU[DR4]),m5)
endif
if(not J4)then
set J4=(m5!=null)and(SZ7(it,852189,1093679192,m5))or((IsUnitInRange(it,m5,860.))and(U97(GetHandleId(it),"Level")>GetUnitAbilityLevel(it,1093750337))and(IssueTargetOrderById(it,852248,m5)))
endif
elseif(i1==1429221441)then
if(not J4)then
set m5=S97(550.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852231,1093678389,m5))
endif
elseif(i1==1165451634)then
set J4=KKF(it)
if(not J4)then
set m5=S97(450.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,OrderId("acidbomb"),1093687629,m5))
endif
elseif(i1==1432510828)then
if(GetUnitLifePercent(it)<25.)then
set J4=IssueImmediateOrderById(it,852129)
call SY7(it,851986,S57(it))
endif
if(not J4)then
set m5=S97(1200.,b5,Condition(function k6))
set J4=((SVF(it)>30.)and(SD7(900.,b5,Condition(function Kn))>0)and(SL7(it,852600,1093682004)))or((m5!=null)and(GetUnitState(it,UNIT_STATE_MANA)>350.)and(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))))or(IssueImmediateOrderById(it,852129))
endif
elseif(i1==1429221446)then
set J4=(GetUnitAbilityLevel(it,1110454868)>0)and(IssueImmediateOrderById(it,852178))
elseif(i1==1429221445)then
set J4=SL7(it,852526,1093678422)
elseif(i1==1332963428)then
set m5=S97(600.,b5,Condition(function k8))
set J4=(m5!=null)and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)==0)and(SZ7(it,852227,1093678169,m5))
if(not J4)then
if(m5==null)then
set m5=S97(500.,b5,Condition(function k8))
endif
set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(SZ7(it,852119,1093683019,m5))
endif
elseif(i1==1332109682)then
set m5=S97(700.,b5,Condition(function Kn))
set J4=((m5!=null)and(SZ7(it,852662,1093678134,m5)))or((GetHeroLevel(it)>5)and(Bz>hq[16+GetPlayerId(pl)])and(Kz(600.,b5)>1)and(SL7(it,852588,1093810505)))
elseif(i1==1211117640)then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852486,1093681989,m5))
if(not J4)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(ST7(it,m5))
endif
elseif(i1==1160786241)then
call SetPlayerAbilityAvailable(pl,1093684805,true)
set m5=S97(700.,b5,Condition(function Kn))
set J4=((m5!=null)and(SZ7(it,852119,1093684813,m5)))or((GetUnitAbilityLevel(it,1110455882)==0)and(IssueImmediateOrderById(it,852177)))
elseif(i1==1429221456)then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852119,1093685066,m5))
elseif(i1==1160786243)then
set J4=IssueTargetOrderById(it,852248,it)
elseif(i1==1160786505)then
set J4=IssueImmediateOrderById(it,852594)
elseif(i1==1160786242)then
call SetPlayerAbilityAvailable(pl,1093683287,true)
set m5=S97(900.,b5,Condition(function Kn))
set J4=(m5!=null)and(IssueTargetOrderById(it,852662,m5))
elseif((i1==1211117641)or(i1==1211117642))then
set m5=S97(550.,b5,Condition(function Kn))
set J4=(m5!=null)and(S0F(it,m5))
elseif(i1==1311781207)then
set J4=(IssueTargetOrderById(it,852229,it))or((GetUnitAbilityLevel(it,1093685078)==0)and(IssueTargetOrderById(it,852536,it)))
elseif(i1==1311780946)then
set J4=(is(it))and(Q17(it,S57(it))>5000.)and(SD7(1200.,b5,Condition(function KX))==0)and(SNF(3))
if(not J4)then
set m5=S97(500.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852488,1093685825,m5))
endif
elseif((i1==1211117650)or(i1==1211119433))then
set IN4=it
set J4=(SD7(1000.,b5,Condition(function ny))>3)and(IssueTargetOrderById(it,852699,it))
elseif(i1==1211117646)then
set J4=SZ7(it,852101,1093685815,it)
elseif(i1==1211117624)then
set m5=S97(600.,b5,Condition(function k6))
set J4=(m5!=null)and(IssueTargetOrderById(it,852600,m5))
elseif(i1==1160785973)then
if((GetHeroLevel(it)>5)and(Bz>hq[GetPlayerId(pl)]))then
set m5=S97(400.,b5,Condition(function k6))
set J4=(m5!=null)and(R27(m5))and(GetUnitAbilityLevel(m5,1110454580)==0)and(SD7(700.,b5,Condition(function KA))<(SD7(700.,b5,Condition(function k6))+2))and(IssueImmediateOrderById(it,852600))
endif
elseif(i1==1315988077)then
set m5=S97(600.,b5,Condition(function k6))
if(m5!=null)then
set J4=((IsUnitInRange(it,m5,200.))and(SL7(it,852096,1093678669)))or((GetHeroLevel(it)>5)and(GetUnitLifePercent(it)<35.)and(SL7(it,852586,1093684561)))
endif
elseif(i1==1211117616)then
set J4=(SD7(280.,b5,Condition(function k6))>0)and(SL7(it,852127,1093677139))
elseif(i1==1211117617)then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,OrderId("acidbomb"),1093744944,m5))
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if(i1==1215063922)then
set UP=250
else
set UP=400
endif
set m5=S97(I2R(UP),b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852095,1093681490,m5))
elseif(i1==1214345830)then
set J4=SZ7(it,852225,1093679182,it)
elseif((i1==1315007329)or(i1==1332179560))then
set J4=IssueImmediateOrderById(it,852129)
if((not J4)and(i1==1315007329)and(GetHeroLevel(it)>5)and(GetUnitAbilityLevel(it,1110455858)==0))then
set m5=S97(750.,b5,Condition(function k6))
set J4=(m5!=null)and(SZ7(it,852149,1093681716,m5))
endif
elseif(i1==1211117653)then
if((GetUnitAbilityLevel(it,1110456408)==0))then
set J4=((Bz>TC4[80+GetPlayerId(pl)])and A67(it,LP4,LP4,LQ4,1093687372)and(AZ7(it,LQ4,LQ4,LQ4,false))and(IssueImmediateOrderById(it,852129)))
if(not J4 and(Bz>TC4[80+GetPlayerId(pl)])and(GetUnitLevel(it)>5))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),BS[4],true)
set J4=(IssueImmediateOrderById(it,852129))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),BS[4],false)
endif
if(not J4)then
set m5=S97(500.,b5,Condition(function k6))
set J4=(m5!=null)and(A67(it,LP4,LP4,LR4,1093686864))and(IssueImmediateOrderById(it,852134))
endif
elseif((GetUnitAbilityLevel(it,1110456408)>0))then
set UKF=AO7(1215128178,it)
if((UKF>0)and(R37(M7[UKF]))and((Bz>hq[UKF])or((hq[UKF]-Bz)>0.)and((hq[UKF]-Bz)<60.))and((GetUnitAbilityLevel(M7[UKF],1093810503)>0)or(GetUnitAbilityLevel(M7[UKF],1093810504)>0)))then
set UP=GetUnitAbilityLevel(M7[UKF],1093810503)
if(UP==0)then
set UP=GetUnitAbilityLevel(M7[UKF],1093810504)
set UKF=350+(UP*100)
else
set UKF=170+(UP*100)
endif
if((GetUnitState(it,UNIT_STATE_LIFE)>UKF)and(GetUnitAbilityLevel(it,1093808472)<6))then
set J4=(Q17(it,S57(it))<5900.)and(SD7(1400.,b5,Condition(function KX))==0)and(IssueImmediateOrderById(it,LQ4))
endif
elseif(AO7(1164799603,it)>0 or AO7(1160786242,it)>0)then
else
set J4=(GetUnitAbilityLevel(it,1093808472)<6)and(SD7(1700.,b5,Condition(function KX))==0)and(IssueImmediateOrderById(it,LQ4))
endif
else
endif
elseif(i1==1332898670)then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852502,1093685848,m5))
elseif(i1==1215723364)then
set J4=KKF(it)
if(not J4)then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852095,1093677633,m5))
endif
elseif(i1==1164799855)then
set J4=SL7(it,852556,1093677378)
if(not J4)then
set m5=S97(700.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852075,1093682264,m5))
endif
elseif(i1==1433105516)then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(IssueTargetOrderById(it,852662,m5))
elseif(i1==1164666213)then
set m5=S97(600.,b5,Condition(function Kn))
if(GetHeroLevel(it)>=6)then
set J4=(SD7(400.,b5,Condition(function Kn))>0)
if not UJ7(it,"AI|PulseNova")then
if(J4)then
call SetPlayerAbilityAvailable(Player(O5),1093808455,true)
call SL7(it,852100,1093808454)
call TriggerSleepAction(0.1)
endif
else
if(not J4)then
call SL7(it,852100,1093808456)
call TriggerSleepAction(0.1)
endif
endif
endif
if(m5!=null)then
call MoveLocation(HA,GetUnitX(m5)+(90.+(25*GetUnitAbilityLevel(it,1093678679)))*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+(90.+(25*GetUnitAbilityLevel(it,1093678679)))*Sin(GetUnitFacing(m5)*bj_DEGTORAD))
set J4=SA7(it,852224,1093678679,HA)
endif
elseif(i1==1164799603)then
set J4=(is(it))and(Q17(it,S57(it))>5000.)and(SD7(1200.,b5,Condition(function KX))==0)and(SNF(3))
if(not J4)then
set m5=S97(650.,b5,Condition(function Kn))
set J4=(m5!=null)and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,600))and(SZ7(it,OrderId("carrionswarm"),1093808453,m5))
endif
elseif(i1==1328558160)then
if((GetUnitAbilityLevel(it,1093684056)>0))then
if(IsTriggerEnabled(T07(GetHandleId(pl),"MorphAgi")))then
call IssueImmediateOrderById(it,852550)
elseif(not IsTriggerEnabled(T07(GetHandleId(pl),"MorphStr")))then
call IssueImmediateOrderById(it,852546)
endif
set G0[32+GetPlayerId(pl)]=true
endif
set J4=KKF(it)
elseif(i1==1212363833)then
set m5=S97(750.,SX7(it),Condition(function k6))
set UP=UW7(H9)
if(m5!=null and(UP>1 or GetUnitLifePercent(it)<30.))then
set J4=(GetHeroLevel(it)>5)and(IssueImmediateOrderById(it,852600))
endif
if(not J4)and(m5!=null and UP==1)then
set J4=SZ7(it,852095,1093809220,m5)
endif
elseif(i1==1214931305)then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852171,1093678147,m5))
elseif(i1==1429221430)then
set m5=S97(600.,b5,Condition(function Kn))
if(not J4)and(m5!=null)and(SD7(1500.,b5,Condition(function KR))==0)and(Q17(it,IZ4)>1500)and(Q17(it,JA4)>1500)then
set J4=SA7(it,852224,1093681735,b5)
endif
elseif(i1==1328558389)then
set m5=S97(1600.,b5,Condition(function Kn))
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLevel(it)>=6)and(IsUnitInRange(it,m5,1600.))and(GetUnitLifePercent(m5)<33.))then
set J4=(IssuePointOrderByIdLoc(it,OrderId("channel"),GetUnitLoc(m5)))
endif
if((GetUnitLifePercent(it)<80.)or(GetUnitManaPercent(it)<60.))then
call SY7(it,851986,S57(it))
call QA7(2.)
call SY7(it,851986,S57(it))
endif
elseif(i1==1160786506)then
set m5=S97(800.,b5,Condition(function Kn))
set UKF=GetPlayerId(GetOwningPlayer(it))
set UE4[UKF]=true
if(m5!=null)then
set J4=(QZ7(UKF))and(J8(UKF,IssuePointOrderByIdLoc(it,852089,LO7(it,m5,1.2,900))))
endif
if(not(J4))then
set UP=GetUnitAbilityLevel(it,1093751639)
set m5=S97(2200.-(UP*400),b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852119,1093751639,m5))
endif
set UE4[UKF]=false
if((GetUnitLifePercent(it)<80.)or(GetUnitManaPercent(it)<60.))then
call SY7(it,851986,S57(it))
call QA7(2.)
call SY7(it,851986,S57(it))
endif
elseif(i1==1311787088)then
set m5=S97(700.,b5,Condition(function Kn))
set J4=(m5!=null)and((GetUnitState(it,UNIT_STATE_LIFE))>(GetUnitState(it,UNIT_STATE_MAX_LIFE)/2.8))and(SZ7(it,OrderId("channel"),1093750087,m5))
elseif(i1==1211117633)then
set m5=S97(600.,b5,Condition(function Kn))
set J4=((m5!=null)and(SZ7(it,852585,1093684045,m5)))or((S97(900.,b5,Condition(function Kn))!=null)and(GetUnitLifePercent(it)<35.)and(IssueImmediateOrderById(it,852600)))
elseif(i1==1432580716)or(i1==1429221720)then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852089,1093684300,m5))
elseif(i1==1333027688)then
set m5=S97(1000.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,OrderId("channel"),1093686091,m5))
elseif(i1==1211117643)then
set m5=ZO7(700.,it)
if(m5!=null)and(GetWidgetLife(it)<50.)then
set J4=SZ7(it,852040,1093678658,it)
elseif((m5!=null)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,700.))and(GetUnitAbilityLevel(m5,1113815395)==0)and(GetUnitAbilityLevel(m5,1113815346)==0)and((GetUnitLifePercent(it)<50.)or(GetHeroLevel(it)<8))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(300+(120*GetUnitAbilityLevel(it,1093678658)))))then
set J4=SZ7(it,852040,1093678658,it)
endif
if(not J4)and(GetUnitLifePercent(it)<35.)then
set m5=S97(350.,b5,Condition(function k6))
if((m5!=null)and((GetUnitLifePercent(it)<20.)or(SD7(350.,b5,Condition(function k6))>1)))then
set J4=SZ7(it,852040,1093678658,m5)
endif
if((not J4)and(GetUnitLifePercent(it)<20.)and(GetUnitState(it,UNIT_STATE_LIFE)<150.)and(SD7(600.,b5,Condition(function k6))>0))then
set J4=SZ7(it,852040,1093678658,it)
endif
endif
elseif(i1==1211119409)then
set UKF=GetPlayerId(GetOwningPlayer(it))
set UE4[UKF]=true
set J4=IssueImmediateOrderById(it,852129)or(SL7(it,852600,1093749303))
set UE4[UKF]=false
elseif(i1==1215657064)then
set J4=(SD7(320.,b5,Condition(function k6))>0)and(SL7(it,852096,1093677913))
elseif(i1==1215130471)then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and((SZ7(it,852101,W97(it),m5))or(SZ7(it,852662,W87(it),m5))or(SZ7(it,852095,W77(it),m5))or(UE7(GetHandleId(it),"AI|Magi2Blast")and SZ7(it,852600,1093815121,m5)))
elseif(i1==1214344551)then
if((GetUnitAbilityLevel(it,1110454833)==0)and(SD7(900.,b5,Condition(function ZJ7))>0)and(RY7(it)))then
if(not K6(it))then
call MoveLocation(HC[240+GetPlayerId(pl)],0.,0.)
call SetRect(He,GetUnitX(it)-600.,GetUnitY(it)-600.,GetUnitX(it)+600.,GetUnitY(it)+600.)
set hr=it
call EnumDestructablesInRect(He,Q24,function SFF)
if(GetLocationX(HC[240+GetPlayerId(pl)])!=0.)then
set J4=IssuePointOrderByIdLoc(it,851986,HC[240+GetPlayerId(pl)])
call MoveLocation(HC[240+GetPlayerId(pl)],0.,0.)
else
set J4=SY7(it,851986,h9[GetPlayerId(pl)])
endif
else
set J4=IssueTargetOrderById(it,852069,it)
endif
endif
elseif(i1==1160786000)then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(SA7(it,852580,1093685046,LM7(it,m5,2000.,0.65,1100.)))
elseif(i1==1311781193)then
set J4=SL7(it,852663,1095656306)
elseif(i1==1211117651)then
set m5=S97(900.,b5,Condition(function k6))
set J4=(((m5==null)or(not IsUnitInRange(it,m5,250.)))and(KKF(it)))or((m5!=null)and(SZ7(it,852186,1093685814,it)))
elseif(i1==1211117649)then
set J4=IssueTargetOrderById(it,852095,it)
elseif(i1==1160786265)then
set J4=IssueImmediateOrderById(it,852526)
elseif(i1==1311780930)then
call SetPlayerAbilityAvailable(pl,1093686082,true)
if(PN4[GetPlayerId(pl)]==null)then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(S57(it))-GetUnitY(it),GetUnitX(S57(it))-GetUnitX(it)))
set h4[16+GetPlayerId(pl)]=it
set J4=IssuePointOrderById(it,852662,GetUnitX(it)+150.*Cos(i1*bj_DEGTORAD),GetUnitY(it)+150.*Sin(i1*bj_DEGTORAD))
if J4 then
call QA7(0.3)
call SL7(it,852514,1093686082)
endif
endif
elseif(i1==1211119187)then
set m5=S97(950.,b5,Condition(function Kn))
if(not J4)and(Bz>TC4[32+O5])and(m5!=null)and(Q17(it,m5)<350+GetUnitAbilityLevel(it,1093742926)*150)then
set J4=IssueTargetOrderById(it,852581,m5)
endif
if(not J4)and(Bz>TC4[16+O5])and(m5!=null)then
if LO7(it,m5,2.,1500.)!=null then
set J4=SA7(it,852089,1093743414,GO7)
endif
endif
elseif((i1==1211117650)or(i1==1211119433))then
if(not J4)and(Bz>TC4[32+O5])then
set IN4=it
set UP=SD7(1000.,SX7(it),Condition(function ny))
set J4=(UP>=3)and(GetUnitLifePercent(it)<75.)and(IssueTargetOrderById(it,852669,it))
endif
elseif(i1==1311786311)then
if(not J4)and(Bz>TC4[48+O5])then
set J4=SL7(it,852526,1093743689)
endif
if(not J4)and(Bz>TC4[32+O5])then
set m5=S97(950.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852119,1093743178,m5))
endif
elseif(i1==1211117643)then
if(Bz>TC4[16+O5])then
set m5=S97(400.,b5,Condition(function Kn))
if(m5!=null)and(GetUnitLifePercent(m5)<60.)and(eY[320+O5]>=0)then
set m5=S97(700.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852278,1093678410,it))
endif
endif
elseif(i1==1211117652)then
set m5=S97(400.,b5,Condition(function Kn))
if(m5!=null)and(Bz>TC4[32+O5])and(Q17(it,m5)>200.)then
set J4=(m5!=null)and(IssueImmediateOrderById(it,852581))
endif
elseif(i1==1160786510)then
set m5=S97(700.,b5,Condition(function Kn))
if(not J4)and(Bz>TC4[O5])then
if((m5!=null))then
if(GetUnitLifePercent(m5)<50.)and(GetUnitLevel(it)>=6)and(not IsUnitIllusion(m5))then
if LO7(it,m5,2,1000.)!=null then
set J4=SC7(it,852089,1093751861,1093808949,GetLocationX(GO7),GetLocationY(GO7))
endif
endif
endif
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and(IsUnitInRange(it,m5,400))then
set J4=SL7(it,852600,1093751631)
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])then
set J4=SZ7(it,852119,1093751633,m5)
endif
elseif(i1==1160786504)then
if(m5==null)then
set m5=S77(600.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])then
set J4=SZ7(it,852119,1093751608,m5)
endif
if(not J4)and(m5!=null)and(Bz>TC4[O5])and(GetUnitLifePercent(it)<25.)then
set J4=SZ7(it,852111,1093751617,m5)
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])then
set J4=SZ7(it,852089,1093751618,m5)
endif
elseif(i1==1328558390)then
if(m5==null)then
set m5=S77(600.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[48+O5])then
call SL7(it,852180,1093744986)
call QA7(0.1)
endif
if(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<60)or(U97(GetHandleId(m5),"StickyNapalm|Count")>3))and(Bz>TC4[32+O5])then
if(LM7(it,m5,900,0.2,1500)!=null)then
set J4=(SA7(it,852218,1093744982,LT7(GO7,100,Q77(m5,it))))
endif
endif
elseif(i1==1328558406)then
set J4=KKF(it)
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
if(m5==null)then
set m5=S77(600.,b5,Condition(function k6))
endif
if((not J4)and(m5!=null)and(Bz>TC4[32+O5]))then
set J4=SZ7(it,OrderId("acidbomb"),1093742680,m5)
endif
if((not J4)and(m5!=null)and(i1!=1214409837))then
set EJ7=Q77(m5,it)
set J4=IssuePointOrderById(it,852089,GetUnitX(m5)+200.*Cos(EJ7*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(EJ7*bj_DEGTORAD))
endif
if((not J4)and(Bz>TC4[16+O5])and(i1!=1214409837))then
set EJ7=Q77(it,h9[O5])
set J4=IssuePointOrderById(it,852600,GetUnitX(it)+150.*Cos(EJ7*bj_DEGTORAD),GetUnitY(it)+150.*Sin(EJ7*bj_DEGTORAD))
endif
elseif(i1==1430466865)then
if(m5==null)then
set m5=S77(400.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(it)<20 or GZ[208+O5]))then
set J4=(SL7(it,852164,1093810508))
endif
elseif(i1==1160786520)then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(SZ7(it,852214,1093809990,m5))
if(not J4)and hq[816+O5]>Bz then
set G0[288+O5]=true
call UJF()
set G0[304+O5]=false
endif
elseif(i1==1311788336)then
set m5=S97(600.,b5,Condition(function Kn))
if(not J4)and(Bz>TC4[16+O5])and(m5!=null)and(SE7(400.,it,Condition(function WC7))<=2)then
set J4=SL7(it,852526,1093814323)
endif
if(not J4)and(m5!=null)then
set J4=KKF(it)
endif
if(not J4)and(Bz>TC4[48+O5])and(m5!=null)then
set J4=IssueImmediateOrderById(it,852600)
endif
elseif(i1==1160786507)then
set m5=S97(600.,b5,Condition(function Kn))
if(not J4)and(Bz>TC4[32+O5])then
set J4=IssueTargetOrderById(it,852248,it)
endif
elseif(i1==1211122767)then
set m5=S97(600.,b5,Condition(function Kn))
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])then
set J4=SL7(it,852526,1093814612)
endif
if(not J4)and(m5!=null)and(Bz>TC4[48+O5])then
set J4=SZ7(it,852668,1093814350,m5)
endif
elseif(i1==1160786738)then
set m5=S97(600.,b5,Condition(function Kn))
if(not J4)then
if GetUnitAbilityLevel(it,1093813848)==0 then
set EJ7=GetUnitFacing(it)
set J4=((m5!=null)and(IssuePointOrderById(it,852216,GetUnitX(it)+20*Cos(EJ7*bj_DEGTORAD),GetUnitY(it)+20*Sin(EJ7*bj_DEGTORAD))))
else
set bj_lastCreatedUnit=T37(GetHandleId(it),"AI|ShredChakram")
if(m5==null)or(not IsUnitInRange(it,bj_lastCreatedUnit,400))then
set J4=IssueImmediateOrderById(it,852177)
endif
endif
endif
if(not J4)and(Bz>TC4[32+O5])then
set J4=KKF(it)
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and(IsUnitInRange(it,m5,300))then
set J4=SL7(it,852526,1093813835)
endif
endif
if(not G0[304+O5])and(not J4)then
if(not J4)and((SG7(it,ZU[RW]))and(Bz>hq[112+GetPlayerId(pl)]))then
set J4=KKF(it)
endif
if(not J4)and(SG7(it,ZU[C0]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and((SG7(it,ZU[DS4]))and(SD7(1200.,b5,Condition(function k6))>0))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and((SG7(it,ZU[Q1]))and(GetUnitLifePercent(it)<35.))then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SG7(it,ZU[D1])or SG7(it,ZU[E1]))and(GetItemCharges(bj_lastCreatedItem)>0)and(GetUnitLifePercent(it)<35.))then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SG7(it,ZU[D74]))and(Bz>hq[96+GetPlayerId(pl)]))then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SG7(it,ZU[U3])))then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SG7(it,ZU[R3])))then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SG7(it,ZU[FC])))then
set m5=S97(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SG7(it,ZU[DP4]))and(Bz>TC4[176+GetPlayerId(pl)]))then
set m5=S97(500.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItem(it,bj_lastCreatedItem))
endif
if(not J4)and((SG7(it,ZU[T1]))and(not UE7(GetHandleId(it),"Mekansm"))and(Bz>hq[80+GetPlayerId(pl)])and(SD7(800.,b5,Condition(function k6))>0))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and((SG7(it,ZU[DY4]))and(GetItemCharges(bj_lastCreatedItem)>0)and(Bz>TC4[224+GetPlayerId(pl)])and(GetUnitLifePercent(it)<70.))then
set J4=(UnitUseItemTarget(it,bj_lastCreatedItem,it))
endif
if(not J4)and(SG7(it,ZU[DK4])and(UJ7(it,"ArmletOfMordigan|Active")==true)and(GetUnitLifePercent(it)<50.))then
set J4=(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and(SR7(it))and(Bz>TC4[192+O5]))then
if(GetUnitState(it,UNIT_STATE_LIFE)<150)or((GetItemCharges(bj_lastCreatedItem)>=8)and(SD7(1000.,SX7(it),Condition(function k6))>0)and(GetUnitLifePercent(it)<50 or GetUnitManaPercent(it)<20)and(Q17(it,h9[16+O5])>600))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
endif
if(not J4)and(SG7(it,ZU[DR4])and(Bz>TC4[240+GetPlayerId(pl)])and(EF9(m5)==false)and(BO7(m5)==false))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,m5)
endif
if((not J4)and(is(it))and(GetUnitAbilityLevel(it,1110454874)==0)and(GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitAbilityLevel(it,1110455864)==0)and(GetUnitAbilityLevel(it,1110454347)==0)and(Q17(it,S57(it))>6000.)and(SD7(1400.,b5,Condition(function KX))==0))then
if(IsUnitAlly(it,Z7[0]))then
set J4=VT7(it,IZ4)
else
set J4=VT7(it,JA4)
endif
endif
endif
set it=null
set pl=null
set b5=null
set m5=null
return J4
endfunction
function UMF takes nothing returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i=1
set EZ7="UMF"
if((IsUnitType(it,UNIT_TYPE_HERO))and(not IsUnitIllusion(it)))then
if((GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(it)>.405)and(IsUnitType(it,UNIT_TYPE_DEAD)==false))then
call ExecuteFunc("UNF")
elseif IG4[O5]then
set h4[O5]=null
if((TimerGetRemaining(U[O5])>20.)and(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>5000)and(TimerGetElapsed(U[O5])>4.))then
loop
exitwhen NM4[i]==GetEnumUnit()or i>NP4
set i=i+1
endloop
if NM4[i]!=null and GetUnitAbilityLevel(KU4[O5],1093808213)==0 then
call IssueImmediateOrderById(KU4[O5],W9[O5])
endif
endif
endif
elseif((VL7(it))and(GetUnitTypeId(it)!=1852010352)and(R37(it)))then
set bj_lastLoadedUnit=GetEnumUnit()
call ExecuteFunc("UOF")
endif
set it=null
endfunction
function UPF takes nothing returns boolean
local unit P67=GetEnteringUnit()
local integer i=GetUnitTypeId(P67)
set EZ7="UPF"
if(i==1966092359 or i==1966092361)and IsPlayerInForce(GetOwningPlayer(GetEnteringUnit()),QX4)then
call RemoveGuardPosition(P67)
call GroupAddUnit(T57(GetHandleId(GetOwningPlayer(GetEnteringUnit())),OY7(i==1966092359,"ExorG","NAttG")),P67)
call IssueImmediateOrderById(P67,852557)
endif
if not(AK7(GetOwningPlayer(GetEnteringUnit())))then
set P67=null
return false
endif
set bj_lastLoadedUnit=P67
if(i==1966092594 or i==1966092595)then
call ExecuteFunc("UQF")
elseif(i==1865429059)or(i==1865429319)or(i==1865429320)or(i==1865429321)then
call IssueTargetOrderById(P67,851986,M7[GetPlayerId(GetOwningPlayer(P67))])
elseif(i==1747993683)then
call TJ7(GetHandleId(M7[GetPlayerId(GetOwningPlayer(P67))]),"AI|ShredChakram",P67)
elseif(VL7(P67)and IsUnitType(P67,UNIT_TYPE_HERO)==false)then
call IssueTargetOrderById(P67,851986,M7[GetPlayerId(GetOwningPlayer(P67))])
set DT7=false
call ExecuteFunc("UOF")
endif
set P67=null
return false
endfunction
function URF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CK7=GetHandleId(t)
local integer O5=U97(CK7,"OwnerPID")
local unit m5=M7[O5]
local unit USF=null
local string UTF=I2S(U97(CK7,"famID"))
local integer MSF
local unit it=T37(CK7,"unitFamiliar")
local boolean J4=false
local group g=null
local unit u=null
set EZ7="URF"
if(GetTriggerEventId()==EVENT_UNIT_DEATH)then
call UO7(M7[O5],"AIFamiliar"+UTF+"|Status")
call UM7(M7[O5],"AIFamiliar"+UTF+"|Stone")
call FlushChildHashtable(L7,CK7)
call UQ7(t)
call DestroyTrigger(t)
else
set MSF=GetUnitTypeId(it)
if UTF=="1" then
if(MSF==1966092596 or MSF==1966092597 or MSF==1966092598)then
call UO7(m5,"AIFamiliar"+UTF+"|Stone")
else
call UM7(m5,"AIFamiliar"+UTF+"|Stone")
call UO7(m5,"AIFamiliar|CastStone")
endif
elseif UTF=="2" then
if(MSF==1966092612 or MSF==1966092613 or MSF==1966092614)then
call UO7(m5,"AIFamiliar"+UTF+"|Stone")
else
call UM7(m5,"AIFamiliar"+UTF+"|Stone")
call UO7(m5,"AIFamiliar|CastStone")
endif
elseif UTF=="3" then
if(MSF==1966092626 or MSF==1966092627 or MSF==1966092628)then
call UO7(m5,"AIFamiliar"+UTF+"|Stone")
else
call UM7(m5,"AIFamiliar"+UTF+"|Stone")
call UO7(m5,"AIFamiliar|CastStone")
endif
endif
if(GetUnitState(it,UNIT_STATE_LIFE)<0.55*(200+(GetUnitAbilityLevel(m5,1093750341)*100)))then
set J4=IssueImmediateOrderById(it,852138)or IssueImmediateOrderById(it,852155)or IssueImmediateOrderById(it,852656)or IssueImmediateOrderById(it,852139)or IssueImmediateOrderById(it,852156)or IssueImmediateOrderById(it,852657)
if not J4 then
set J4=SY7(it,851986,h9[O5])
endif
elseif((Q17(it,S57(m5))<1000.)and(GetUnitLifePercent(it)<98.))then
set J4=(SY7(it,851986,S57(m5)))
elseif(not R37(m5))then
set J4=SY7(it,851986,S57(m5))
elseif(not IsUnitInRange(it,m5,1200.))then
set J4=IssueTargetOrderById(it,851986,m5)
endif
if not J4 then
set m5=null
if GetUnitState(h4[O5],UNIT_STATE_LIFE)>0 then
set m5=h4[O5]
endif
if m5==null then
set g=CreateGroup()
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(M7[O5]),700,Condition(function WY7))
if(not QT7(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen(IsUnitEnemy(u,GetOwningPlayer(it))and(IsUnitVisible(u,GetOwningPlayer(it)))or u==null)
endloop
set m5=u
set u=null
endif
call DestroyGroup(g)
endif
set g=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(M7[O5]),700,Condition(function YU7))
if(not QT7(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen(IsUnitEnemy(u,GetOwningPlayer(it))or u==null)
endloop
set USF=u
set u=null
endif
call DestroyGroup(g)
if USF!=null and m5!=null then
if Q17(it,USF)<Q17(it,m5)and m5!=h4[O5]then
set m5=null
endif
endif
if m5!=null then
if(IsUnitInRange(it,m5,250.)and EG9(m5)==false and IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE)==false and UJ7(M7[O5],"AIFamiliar|CastStone")==false)then
set J4=IssueImmediateOrderById(it,852138)or IssueImmediateOrderById(it,852155)or IssueImmediateOrderById(it,852656)or IssueImmediateOrderById(it,852139)or IssueImmediateOrderById(it,852156)or IssueImmediateOrderById(it,852657)
if J4 then
call UM7(M7[O5],"AIFamiliar|CastStone")
endif
else
set J4=IssueTargetOrderById(it,851983,m5)
endif
endif
if USF!=null and J4==false then
if GetUnitCurrentOrder(M7[O5])==851986 then
set J4=IssueTargetOrderById(it,851986,M7[O5])
else
set J4=IssueTargetOrderById(it,851983,USF)
endif
endif
endif
if(not J4)then
if(eY[O5]==10)then
set J4=SY7(it,851983,M7[O5])
else
set J4=IssueTargetOrderById(it,851986,M7[O5])
endif
endif
endif
set t=null
set m5=null
set USF=null
set it=null
set g=null
return false
endfunction
function UUF takes integer QV7,unit UVF returns nothing
local trigger t=null
local integer CR7=0
local string UTF
local integer i1=GetUnitTypeId(UVF)
set EZ7="AISetupFamiliar"
if(not((GetPlayerController(GetOwningPlayer(UVF))==MAP_CONTROL_COMPUTER)and(R37(UVF))))then
return
endif
if((i1==1966092596 or i1==1966092597 or i1==1966092598))then
set UTF="1"
elseif((i1==1966092612 or i1==1966092613 or i1==1966092614))then
set UTF="2"
elseif((i1==1966092626 or i1==1966092627 or i1==1966092628))then
set UTF="3"
else
return
endif
set t=CreateTrigger()
set CR7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,UVF,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,UVF,EVENT_UNIT_SPELL_FINISH)
call TriggerRegisterTimerEvent(t,1.4,true)
call TriggerRegisterTimerEvent(t,0.1,false)
call TriggerAddCondition(t,Condition(function URF))
call UM7(M7[QV7],"AIFamiliar"+UTF+"|Status")
call TJ7(CR7,"unitFamiliar",UVF)
call TF7(CR7,"OwnerPID",QV7)
call TF7(CR7,"famID",S2I(UTF))
set t=null
endfunction
function UWF takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer CK7=GetHandleId(t)
local unit CQ7=T37(CK7,"NinjaScarab")
local unit CP7=T37(CK7,"NinjaSummoner")
local unit UXF=GetTriggerUnit()
set EZ7="UWF"
if((IsUnitType(UXF,UNIT_TYPE_HERO))and(IsUnitEnemy(UXF,GetOwningPlayer(CP7))==true)and(IsUnitVisible(UXF,GetOwningPlayer(CP7))==true)and(not IsUnitIllusion(UXF)))then
call IssueImmediateOrderById(CQ7,852127)
call UQ7(t)
call DestroyTrigger(t)
endif
set t=null
set CQ7=null
set CP7=null
set UXF=null
endfunction
function UYF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CK7=GetHandleId(t)
local unit CP7=T37(CK7,"NAScarabOwner")
local unit CQ7=T37(CK7,"NAScarabUnit")
local unit UZF=null
local unit PN7=null
local unit u=null
local group g=CreateGroup()
set EZ7="UYF"
if((GetTriggerEventId()==EVENT_UNIT_DEATH)or(GetUnitState(CP7,UNIT_STATE_LIFE)<=0))then
if((GetUnitState(CQ7,UNIT_STATE_LIFE)>0))then
call SY7(CQ7,851986,S57(CP7))
else
call FlushChildHashtable(L7,CK7)
call UQ7(t)
call DestroyTrigger(t)
endif
else
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(CQ7),700,Condition(function WA7))
if(not QT7(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen IsUnitEnemy(u,GetOwningPlayer(CP7))
endloop
set PN7=u
set u=null
endif
call DestroyGroup(g)
if(PN7!=null)then
set g=CreateGroup()
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(CQ7),150,Condition(function WB7))
if(not QT7(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen(GetUnitTypeId(u)==1966092594 or GetUnitTypeId(u)==1966092595)
endloop
set UZF=u
set u=null
endif
call DestroyGroup(g)
if(UZF==null)then
set g=CreateGroup()
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(CP7),500,Condition(function WB7))
if(not QT7(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen(GetUnitTypeId(u)==1966092594 or GetUnitTypeId(u)==1966092595)
endloop
set UZF=u
endif
endif
endif
if(PN7!=null and UZF!=null and GetUnitState(PN7,UNIT_STATE_LIFE)>0 and IsUnitVisible(PN7,GetOwningPlayer(CP7))==true)then
call IssueTargetOrderById(UZF,851986,PN7)
call QA7(3)
if((GetUnitState(CQ7,UNIT_STATE_LIFE)>0)and(GetUnitCurrentOrder(CQ7)!=851986))then
call IssueTargetOrderById(CQ7,851986,CP7)
endif
else
call IssueTargetOrderById(CQ7,851986,CP7)
endif
endif
call DestroyGroup(g)
set t=null
set UZF=null
set CP7=null
set CQ7=null
set PN7=null
set u=null
set g=null
return false
endfunction
function UQF takes nothing returns nothing
local trigger t=CreateTrigger()
local unit CQ7=bj_lastLoadedUnit
local unit CP7=M7[GetPlayerId(GetOwningPlayer(CQ7))]
local unit PN7=null
local unit u=null
local group g=CreateGroup()
local boolexpr b=Condition(function WA7)
local boolean UAF=false
set EZ7="UQF"
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(CQ7),700,Condition(function WA7))
if(not QT7(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen IsUnitEnemy(u,GetOwningPlayer(CP7))
endloop
set PN7=u
endif
call DestroyGroup(g)
if(PN7!=null and GetUnitState(PN7,UNIT_STATE_LIFE)>0 and IsUnitVisible(PN7,GetOwningPlayer(CP7))==true)then
if(Q17(CQ7,PN7)>250.)then
set UAF=true
call IssueTargetOrderById(CQ7,851986,CP7)
else
call IssueImmediateOrderById(CQ7,852127)
call UQ7(t)
call DestroyTrigger(t)
endif
else
set UAF=true
call IssueTargetOrderById(CQ7,851986,CP7)
endif
if(UAF==true)then
call TJ7(GetHandleId(t),"NAScarabOwner",CP7)
call TJ7(GetHandleId(t),"NAScarabUnit",CQ7)
call TriggerRegisterUnitEvent(t,CQ7,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,2.1,true)
call TriggerAddCondition(t,Condition(function UYF))
set t=CreateTrigger()
call TJ7(GetHandleId(t),"NinjaSummoner",CP7)
call TJ7(GetHandleId(t),"NinjaScarab",CQ7)
call TriggerRegisterUnitInRange(t,CQ7,70,b)
call TriggerAddAction(t,function UWF)
endif
call DestroyBoolExpr(b)
set t=null
set g=null
set u=null
set CQ7=null
set CP7=null
set PN7=null
endfunction
function UBF takes unit C17,integer n5,integer GT9 returns item
local real x=GP9(C17)
local real y=GR9(C17)
local item XO8=CreateItem(n5,x,y)
local integer i=0
local boolean array GU9
local item Z4
local boolean SQ7=false
set EZ7="aiSafeUnitAddItemToSlotById"
set M47=IR4
call SetItemPlayer(XO8,IR4,false)
call SetItemUserData(XO8,1)
if n5>0 then
loop
exitwhen i>(UnitInventorySize(C17)-1)
if UnitItemInSlot(C17,i)==null and i!=GT9 then
set Z4=CreateItem(1227895373,x,y)
call UnitAddItem(C17,Z4)
set GU9[i]=true
else
set GU9[i]=false
endif
if i==GT9 then
set SQ7=UnitAddItem(C17,XO8)
endif
set i=i+1
endloop
set i=0
loop
exitwhen i>5
if GU9[i]==true then
call RemoveItem(UnitItemInSlot(C17,i))
endif
set i=i+1
endloop
endif
if(not SQ7)then
call RemoveItem(XO8)
set XO8=null
endif
set HA4=XO8
set XO8=null
set Z4=null
return HA4
endfunction
function UCF takes integer O5,unit it returns nothing
local integer i
local integer j
if(K57[384+O5]!=0)and(Bz>K57[160+O5])and(Bz>K57[176+O5])then
if GetUnitLifePercent(it)<30 then
set i=2
elseif GetUnitState(it,UNIT_STATE_MANA)<120 then
set i=3
if K57[400+O5]!=3 then
set K57[416+O5]=R2I(140./GetUnitState(it,UNIT_STATE_MAX_MANA)*100)
endif
elseif K57[400+O5]==3 and GetUnitManaPercent(it)<I2R(K57[416+O5])then
set i=3
else
set i=K57[384+O5]
endif
if K57[400+O5]!=i then
set K57[400+O5]=i
set i=0
set j=0
loop
set ER7=UnitItemInSlot(it,j)
set ES7=GetItemTypeId(ER7)
if ES7==ZU[G6]then
set i=1
elseif ES7==ZU[H6]then
set i=2
elseif ES7==ZU[N6]then
set i=3
endif
if i!=0 then
call DisableTrigger(H94)
call RemoveItem(ER7)
set IR4=Player(O5)
set ER7=UBF(it,ZU[G6+K57[400+O5]-1],j)
call EnableTrigger(H94)
exitwhen true
endif
set j=j+1
exitwhen j>=bj_MAX_INVENTORY
endloop
set ER7=null
endif
endif
endfunction
function U3F takes nothing returns boolean
local integer U6F=SE7(600,GetEnumUnit(),Condition(function YB7))
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(R37(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))and((GetUnitLifePercent(GetFilterUnit())<30.+7*SE7(600,GetEnumUnit(),Condition(function YB7))+7*(SE7(350,GetFilterUnit(),Condition(function k6)))+3*(SE7(350,GetFilterUnit(),Condition(function WC7))))or U6F>=3 or 0.73*GetWidgetLife(GetFilterUnit())<=350+U6F*70)
endfunction
function UNF takes nothing returns nothing
local region ULF=null
local unit it=GetEnumUnit()
local unit m5=null
local integer i1=GetUnitTypeId(it)
local player pl=GetOwningPlayer(it)
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local location b5
local location U1F=null
local location U0F=null
local boolean J4=false
local item U5F=null
local boolean U2F=false
local integer U_F
local unit V4F=null
local unit XY7=null
local integer V7F=GetHandleId(it)
local integer V8F
local real V9F
local integer VDF
local boolean VEF=false
local real VFF
set EZ7="UNF"
call TriggerSleepAction(0.1)
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
set G0[304+O5]=true
endif
set G0[64+O5]=false
if(i1!=1211117642)then
set b5=HC[16+O5]
else
if(U47(GetHandleId(it),"MCSLoc")!=null)then
set b5=U47(GetHandleId(it),"MCSLoc")
else
set b5=GetUnitLoc(it)
call TW7(GetHandleId(it),"MCSLoc",b5)
endif
endif
call MoveLocation(b5,GetUnitX(it),GetUnitY(it))
if not G0[304+O5]then
if(i1!=1211117642)and(R37(it))then
call UCF(O5,it)
endif
if(h4[O5]!=null)and((not R37(h4[O5]))or(not IsHeroUnitId(GetUnitTypeId(h4[O5])))or((IsUnitIllusion(h4[O5]))and((SD7(800.,b5,Condition(function K7))>0)or(lA(h4[O5],IsUnitAlly(it,Z7[0])))))or(IsUnitAlly(h4[O5],pl)))then
call LVE(O5,true)
if(RY7(it))then
call J3(it,true)
endif
endif
if(i1==1429221451)and(GetUnitCurrentOrder(it)==852503)and(SE7(GetUnitAbilityLevel(it,1093683248)*50+100,it,Condition(function WC7))<=2)then
set G0[272+O5]=true
call IssueImmediateOrderById(it,851972)
call J3(it,false)
set G0[272+O5]=false
endif
if((G0[O5])or(not RY7(it))or(GetUnitAbilityLevel(it,1110459478)>0))then
set J4=true
if(GetUnitAbilityLevel(it,1110459478)>0)then
set G0[64+O5]=true
endif
elseif(((R17(it))and(not Id(O5)))or((G0[32+O5])and(h4[O5]==null)))then
if(h4[O5]!=null)then
call NTF(it,h4[O5])
endif
if(eY[O5]!=2)then
if(i1==1211117642)then
set J4=(R17(it))and(is(it))and(not Id(O5))and(SY7(it,851986,h9[O5]))
elseif(not G0[32+O5])then
call VN7(it,false)
elseif(Jw(it))then
if(R17(it))then
set J4=UJF()
endif
if(not J4)then
call KKF(it)
endif
endif
endif
set J4=true
elseif(h4[O5]==null)then
if((GetHeroLevel(it)>3)and(GetUnitLifePercent(it)>70.)and(G0[128+O5]))then
if((SD7(800.,b5,Condition(function K7))>0)or(lA(h4[O5],IsUnitAlly(it,Z7[0]))))then
set m5=S97(1100.,b5,Condition(function KK))
else
set m5=S97(1100.,b5,Condition(function Kl))
endif
if(m5!=null)then
if(iy(it))then
set h4[160+O5]=m5
endif
if((KY(750.,SX7(m5))<=2)and(not V67(m5))and((R67(m5,it))or(SE7(400.,m5,Condition(function YR7))==0)))then
call LSE(O5,m5,false,false)
endif
endif
endif
else
set m5=K3(600.,it,Condition(function k6))
if(m5!=h4[O5]and m5!=null)then
if(GetUnitLifePercent(m5)>50.)then
if((GetUnitState(m5,UNIT_STATE_LIFE)+(20.*GetHeroLevel(m5)))<GetUnitState(h4[O5],UNIT_STATE_LIFE))then
call LSE(O5,m5,false,false)
endif
elseif(GetUnitState(m5,UNIT_STATE_LIFE)<GetUnitState(h4[O5],UNIT_STATE_LIFE))then
call LSE(O5,m5,false,false)
endif
endif
if((GetUnitTypeId(h4[O5])==1211117641)and(GetUnitLifePercent(h4[O5])>50.))then
set m5=S97(700.,b5,Condition(function KL))
if(m5!=null)then
call LSE(O5,m5,false,false)
endif
endif
if((GetHeroLevel(it)<6)and(not R07(O5)))then
if((not IsUnitInRange(it,h4[O5],750.))or((GetUnitLifePercent(it)-20.)<GetUnitLifePercent(h4[O5])and G0[144+O5]==false)or((not IsUnitVisible(h4[O5],pl))and(kD(h4[O5]))))then
call LVE(O5,false)
call J3(it,true)
endif
elseif(((not IsUnitInRange(it,h4[O5],1500.)or((GetUnitLifePercent(it)+20.)<GetUnitLifePercent(h4[O5])and G0[144+O5]==false))and(not R07(O5)))or(V67(h4[O5])))then
call LVE(O5,true)
call J3(it,true)
elseif((not IsUnitVisible(h4[O5],pl))and(((IsVisibleToPlayer(GetUnitX(h4[O5]),GetUnitY(h4[O5]),pl))and(not IsUnitHidden(h4[O5])))or((eY[32+GetPlayerId(GetOwningPlayer(h4[O5]))]<2)and(kD(h4[O5])))))then
if(not R17(h4[O5]))then
if((GetUnitTypeId(h4[O5])==1212365106)and(SG7(it,ZU[WC]))and(GetItemCharges(bj_lastCreatedItem)>1))then
set J4=((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))and(UnitUseItemPoint(it,SK7(it,ZU[WC]),GetUnitX(h4[O5]),GetUnitY(h4[O5])))
elseif((GetUnitTypeId(h4[O5])==1211119409)and(SG7(it,ZU[WC]))and(GetItemCharges(bj_lastCreatedItem)>1))then
set J4=((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))and(UnitUseItemPoint(it,SK7(it,ZU[WC]),GetUnitX(h4[O5]),GetUnitY(h4[O5])))
else
set h4[O5]=null
call J3(it,true)
endif
elseif(i1==1311781185)then
set J4=IssueImmediateOrderById(it,852600)
elseif(SG7(it,ZU[T5]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
elseif(SG7(it,ZU[CC]))then
set J4=(Q17(it,h4[O5])<=600)and(UnitUseItem(it,bj_lastCreatedItem))
elseif(SG7(it,ZU[WC]))then
set J4=((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))and(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(h4[O5]),GetUnitY(h4[O5])))
else
if(not UE7(R44,VO7(it)+"|W"))then
call TI7(R44,VO7(it)+"|W",true)
endif
call LVE(O5,true)
call J3(it,true)
endif
endif
endif
endif
if h4[O5]==null then
set hq[624+O5]=0
endif
set m5=h4[O5]
if((iy(it))and(m5!=null))then
set h4[160+O5]=m5
endif
set GZ[128+O5]=(m5!=null)and((GetHeroLevel(it)>5)or(R67(m5,it)))
if((not J4)and(SG7(it,ZU[E24])))and(h4[O5]!=null)then
call UnitUseItemTarget(it,bj_lastCreatedItem,m5)
endif
if((not J4)and(SG7(it,ZU[N3])))and(h4[O5]!=null)then
call DisableTrigger(Q04[O5])
call UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(m5),GetUnitY(m5))
call EnableTrigger(Q04[O5])
endif
if(J4)then
elseif(i1==1160785970)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=S77(700.,b5,Condition(function k6))
endif
set J4=(m5!=null)and((GetHeroLevel(it)>3)or(R67(m5,it)))and(IsUnitInRange(it,m5,650.))and(GetUnitManaPercent(it)>25.)and(Bz>TC4[16+O5])and(SL7(it,852526,1093748023))
if((not J4)and(G0[256+O5])and(GetHeroLevel(it)>3))then
set G=E_7
set XY7=S77(700,b5,And(Condition(function k6),Condition(function Y17)))
if XY7==null then
set G=F47
set XY7=S77(700,b5,And(Condition(function k6),Condition(function Y17)))
endif
set XY7=OR7(XY7==null,S77(700,b5,Condition(function k6)),XY7)
set m5=OR7(XY7!=null and(m5==null or P27(m5,30,450,NB7)or P27(it,30,400,NA7)),XY7,m5)
set J4=(m5!=null)and(IsUnitInRange(it,m5,OB7((GetUnitMoveSpeed(it)-GetUnitMoveSpeed(m5))>=-20,550+(GetUnitMoveSpeed(it)-GetUnitMoveSpeed(m5)),250)))and(IssueTargetOrderById(it,852662,m5))
endif
if((not J4)and(G0[128+O5])and(GetHeroLevel(it)>5))then
set m5=S77(450.,b5,Condition(function k6))
set J4=(m5!=null)and(Bz>TC4[O5])and(((GetUnitAbilityLevel(it,1093747023)>0)and(SL7(it,852229,1093747023)))or((GetUnitAbilityLevel(it,1093752150)>0)and(SL7(it,852229,1093752150))))
endif
elseif(i1==1160786506)then
if(GetHeroLevel(it)>3)then
set m5=S97(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(Bz>TC4[16+O5])and(IsUnitInRange(it,m5,795.))and(((GetUnitAbilityLevel(it,1093751894)<4)and(GetUnitManaPercent(it)>50.))or(GetUnitLifePercent(m5)<40.)or(h4[O5]!=null))and(SZ7(it,852095,1093751894,m5))
if(not J4)and(m5!=null)and(Bz>TC4[48+O5])and((GetUnitLifePercent(m5)<30.)or((h4[O5]!=null)and((GetUnitLifePercent(m5)<70.)or(eY[320+O5]>0))))then
if(EG8(it,m5))or(not IsUnitInRange(m5,it,800))then
call LO7(it,m5,1.2,900)
else
call MoveLocation(GO7,GetUnitX(m5),GetUnitY(m5))
endif
set J4=(QZ7(O5)and(J8(O5,IssuePointOrderByIdLoc(it,852089,GO7))))
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and(EG8(it,m5))and(not IsUnitInRangeLoc(m5,RGF(m5),600))then
set J4=SZ7(it,852119,1093751639,m5)
endif
if(not J4)and(h4[O5]!=null)and(EH9(m5)or GetUnitLifePercent(it)<80 or GZ[208+O5])then
set J4=(m5!=null)and(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))
endif
if(not J4)and(Bz>TC4[32+O5])then
set m5=S97(1200.,b5,Condition(function RHF))
set J4=(m5!=null)and(SZ7(it,852119,1093751639,m5))
endif
elseif(i1==1160786502)then
if((m5==null)and(G0[128+O5]))then
set m5=ZQ7(900.,it,Condition(function k6))
endif
if((G0[128+O5])and(T37(GetHandleId(it),"Bird4")!=null)and(L17(T37(GetHandleId(it),"Bird4"))==false))then
if m5==null then
set m5=S97(900.,b5,Condition(function WC7))
endif
set U1F=LM7(it,m5,900,0.01,1000)
if U1F!=null then
set J4=IssuePointOrderByIdLoc(it,852185,U1F)
else
set J4=IssuePointOrderById(it,852185,GetUnitX(m5)+GetRandomReal(-75,75)*GetRandomReal(0,1),GetUnitY(m5)+GetRandomReal(-75,75)*GetRandomReal(0,1))
endif
endif
if(not J4 and(Bz>TC4[16+O5]))then
set UI4[O5]=true
set J4=(m5!=null)and((GetUnitLifePercent(m5)>70.)or((GetUnitLifePercent(m5)<30. and SE7(900.,it,Condition(function ZJ7))>=1))or(GZ[208+O5]))and(IssuePointOrderByIdLoc(it,852600,GetUnitLoc(m5)))
endif
if(not J4)then
set J4=((GetUnitLifePercent(it)>30.)and(GetUnitState(it,UNIT_STATE_MANA)>300. and GetUnitManaPercent(it)>40))and(SE7(900.,it,Condition(function ZJ7))>=1)or(SE7(500.,it,Condition(function WC7))>3)and IssueImmediateOrderById(it,852490)or((m5!=null)and(GetRandomInt(1,3)==1)and((GetUnitLevel(it)>5)or(GetUnitLifePercent(m5)<30.))and(IssuePointOrderByIdLoc(it,852600,GetUnitLoc(m5))))
endif
if((not J4)and(Bz>hq[O5])and(SE7(600.,it,Condition(function ZJ7))>=2))and(SE7(550.,it,Condition(function YB7))>=2 or GetUnitLifePercent(it)<25.)then
set J4=IssueImmediateOrderById(it,852662)
endif
set UI4[O5]=false
set IN4=it
if(not J4)then
set G=E_7
set XY7=ZQ7(900,it,And(Condition(function Y67),Condition(function Y17)))
set G=F77
set XY7=OR7(XY7==null,ZQ7(900,it,And(Condition(function Y67),Condition(function Y17))),XY7)
set m5=OR7(XY7!=null,XY7,OR7(m5!=null,m5,ZQ7(1100,it,And(Condition(function k6),Condition(function WX7)))))
if(m5!=null)and(GetUnitLifePercent(it)>40)and(G0[256+O5])and(not IsUnitInRange(it,m5,300))and(IsUnitInRange(it,m5,1300))then
set h4[O5]=m5
set J4=IssueTargetOrderById(it,852218,m5)
endif
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if(GetUnitAbilityLevel(it,1112436083)>0)then
if((GetUnitState(it,UNIT_STATE_MANA)<100.)and(not R17(it)))then
call IssueImmediateOrderById(it,852590)
call SetPlayerAbilityAvailable(pl,1093684560,false)
endif
elseif((GetHeroLevel(it)>3)and((GetUnitState(it,UNIT_STATE_MANA)>250.)or(R17(it))))then
call SetPlayerAbilityAvailable(pl,1093684560,true)
call IssueImmediateOrderById(it,852589)
endif
if((h4[16+O5]!=null)and(G0[128+O5]))then
if(GetUnitAbilityLevel(h4[16+O5],1114665575)==0)then
set J4=IssueTargetOrderById(it,851983,h4[16+O5])
else
set h4[16+O5]=null
endif
endif
call SetPlayerAbilityAvailable(pl,1093682994,(GetUnitManaPercent(it)>75.)and(GetHeroLevel(it)>8))
if((not J4)and(m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=K3(800.,it,Condition(function k6))
endif
set J4=(m5!=null)and(((GetUnitLifePercent(m5)<60.)and(not IsUnitIllusion(m5))and(GetUnitAbilityLevel(m5,1114665575)==0)and(SL7(it,OrderId("charm"),1093747028)))or(((GetUnitManaPercent(it)>70.)or(GetUnitLifePercent(m5)<60.))and(SZ7(it,852119,1093682994,m5))))
elseif(i1==1429221443)then
if((m5==null)and(G0[128+O5]))then
set m5=S97(600.,b5,Condition(function k6))
endif
if((GetHeroLevel(it)>6)and(m5!=null)and(GetUnitLifePercent(it)>50.))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093744948,false)
if(SG7(it,ZU[DM4])and(UJ7(it,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(it)>90.)and(IsUnitInRange(it,m5,110.)))then
set J4=(m5!=null)and(UnitUseItem(it,SK7(it,ZU[DM4])))
elseif(SG7(it,ZU[DK4])and(UJ7(it,"ArmletOfMordigan|Active")==true)and((not IsUnitInRange(it,m5,150.))or(GetUnitLifePercent(it)<60.)))then
set J4=(UnitUseItem(it,SK7(it,ZU[DK4])))
else
set J4=(Bz>hq[240+O5])and((hq[416+O5]>Bz)or(GetUnitLifePercent(m5)<60.))and((SL7(it,852273,1093686322))or(SS7(it,ZU[D0])))
endif
if((not J4)and((GetUnitLifePercent(m5)<50.)))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093744948,true)
set GZ[O5]=true
set J4=(IssueTargetOrderById(it,852119,m5))
set GZ[O5]=false
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093744948,false)
endif
endif
elseif(i1==1162032951)then
if((GetHeroLevel(it)>20)and(SD7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>70.))then
call SetPlayerAbilityAvailable(pl,1093678404,true)
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=(UP>200)and(UP<(400*GetUnitAbilityLevel(it,1093679152))or UP<(460*GetUnitAbilityLevel(it,1093752154)))and(SB7(it,852527,1093679152,1093752154,m5))
endif
if((not J4)and(SG7(it,ZU[C0]))and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>50.)and(G0[128+O5]))then
if((m5==null)and(GetUnitLifePercent(it)>70.))then
set m5=S77(1500.,b5,Condition(function KK))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(not SG7(m5,ZU[EW]))and(GetUnitTypeId(m5)!=1212365106)and(not IsUnitInRange(it,m5,800.))and(IsUnitInRange(it,m5,1500.)))then
if((SE7(600.,m5,Condition(function Y57))>0)or((GetUnitLifePercent(m5)<75.)and(SE7(800.,m5,Condition(function YR7))==0)))then
set GZ[272+O5]=true
set J4=UnitUseItem(it,SK7(it,ZU[C0]))
set GZ[272+O5]=J4
endif
endif
endif
elseif(i1==1162032181)then
set VDF=GetHeroLevel(it)
set V8F=OV7(GetUnitAbilityLevel(it,1093683761)!=0,1093683761,1093747767)
if((GetHeroLevel(it)>5)and(Bz>hq[O5]))then
if((m5==null)and(G0[128+O5]))then
set m5=S77(1000.,b5,Condition(function k6))
endif
set V9F=SD7(700.,b5,Condition(function YA7))
if((m5!=null)and(not IsUnitIllusion(m5))and((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(SQF(it))+V9F*100+OB7(VDF-GetHeroLevel(m5)>3 or VDF>=13.,100,OB7(VDF>=17,300,175)))or(PT4))and(GetUnitState(m5,UNIT_STATE_LIFE)>300.))then
set GZ[O5]=true
set J4=J8(O5,(IsUnitInRange(it,m5,512.5))and(SZ7(it,852652,V8F,m5)))
if J4 then
call X07(NR7[NT7+O5],(m5))
elseif(IsUnitInRange(it,m5,700.))and(R2I(GetUnitState(it,UNIT_STATE_MANA))>270+(25*GetUnitAbilityLevel(it,V8F)))then
set U0F=kL(it,m5,200.)
set J4=(U0F!=null)and(SD7(800.,U0F,Condition(function ZJ7))<=2)and(IssuePointOrderByIdLoc(it,852218,U0F))
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(m5!=null)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(Kz(700.,b5)>=1)and(V9F>0))then
set GZ[O5]=true
set J4=J8(O5,SZ7(it,852652,V8F,m5))
if J4 then
call X07(NR7[NT7+O5],(m5))
endif
endif
endif
if((not J4)and(m5!=null)and(R67(m5,it))and(not IC(O5))and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,I2R(350+(200*GetUnitAbilityLevel(it,1093684299))))))then
set U0F=kL(it,m5,200.)
set J4=(U0F!=null)and(SD7(800.,U0F,Condition(function ZJ7))<=2)and(IssuePointOrderByIdLoc(it,852218,U0F))
endif
elseif(i1==1160785972)then
call SetPlayerAbilityAvailable(pl,1093678161,(GetUnitLifePercent(it)<70.)and(R2I(GetUnitState(it,UNIT_STATE_MANA))>(120+(80*GetUnitAbilityLevel(it,1093677621)))))
call SetPlayerAbilityAvailable(pl,1093677872,(GetHeroLevel(it)>10.)and(iy(it))and(SD7(800.,b5,Condition(function k8))>0)and(GetUnitState(it,UNIT_STATE_MANA)>225.))
if((m5==null)and(G0[128+O5]))then
set m5=S77(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and((not IsUnitInRange(it,m5,550.))and(SZ7(it,852173,1095263841,m5)))
if((GetHeroLevel(it)>8)and(G0[128+O5])and(GetUnitAbilityLevel(it,1110456118)==0))then
if((m5==null)and(GetUnitLifePercent(it)>70.))then
if((eY[O5]==9)and(h4[144+O5]!=null)and(R37(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))then
set m5=h4[144+O5]
else
set m5=S77(1500.,b5,Condition(function KK))
endif
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(not kD(m5))and(GetUnitTypeId(m5)!=1212365106)and(not IsUnitInRange(it,m5,800.))and(IsUnitInRange(it,m5,1500.))and((GetUnitLifePercent(m5)<70.)or(SE7(650.,m5,Condition(function Y57))>0)))then
set h4[288+O5]=m5
set J4=(SE7(800.,m5,Condition(function YR7))==0)and(IssueImmediateOrderById(it,852129))
endif
endif
elseif(i1==1429221424)then
if(GetUnitAbilityLevel(it,1110454347)==0)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=S77(800.,b5,Condition(function k6))
endif
else
set J4=true
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>3))then
if((not J4)and(GetUnitLifePercent(m5)<70.))then
set GZ[O5]=true
set J4=J8(O5,(SZ7(it,852555,1093687351,m5)))
endif
if(not J4)then
set IN4=m5
if not(GetWidgetLife(m5)<0.75*RMinBJ(5.*GetHeroInt(m5,true),GetUnitState(m5,UNIT_STATE_MANA)))then
set IN4=Z67(it)
endif
if(IN4!=null)then
set GZ[O5]=true
set J4=J8(O5,(SZ7(it,852248,1093748789,m5)))
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(it)>70.)and(G0[128+O5]))then
if(m5==null)then
if((eY[O5]==9)and(h4[144+O5]!=null)and(R37(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))then
set m5=h4[144+O5]
else
set m5=S77(1500.,b5,Condition(function KK))
endif
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<75.)and(not kD(m5))and(GetUnitTypeId(m5)!=1212365106)and((not IsUnitVisible(it,GetOwningPlayer(m5)))or(not IsUnitInRange(it,m5,800.)))and(IsUnitInRange(it,m5,1500.))and(not SG7(m5,ZU[EW])))then
if(SE7(1000.,m5,Condition(function YR7))==0)then
set GZ[O5]=true
set h4[288+O5]=h4[O5]
set J4=J8(O5,SL7(it,852129,1093679445))
endif
endif
endif
if((m5==null)and(GetUnitAbilityLevel(it,1110454347)==0)and(GetHeroLevel(it)>9)and(SD7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>60.))then
call SetPlayerAbilityAvailable(pl,1093687351,true)
endif
elseif(i1==1432646245)then
if(not DR8())then
if((Bz>hq[O5])and(not(GetFloatGameState(GAME_STATE_TIME_OF_DAY)==0.0)))then
set J4=IssueImmediateOrderById(it,852621)
endif
if((m5==null)and(G0[128+O5]))then
set m5=K3(900.,it,Condition(function k6))
if((m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)<GetUnitState(it,UNIT_STATE_LIFE)))then
call LSE(O5,m5,false,false)
endif
endif
set J4=((m5!=null)and((SZ7(it,852095,1093677640,m5))or((kP(GetUnitTypeId(m5)))and(SZ7(it,852585,1093679171,m5)))))
else
set J4=(m5!=null)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<65.)and(SZ7(it,852095,1093677640,m5))
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(G0[128+O5]))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
set m5=S97(700.,b5,Condition(function KN))
if(m5==null)then
set m5=S97(500.,b5,Condition(function k6))
endif
set J4=((m5!=null)and(GetUnitManaPercent(m5)>20.)and(SZ7(it,852585,1093679171,m5)))or((m5!=null)and(GetUnitLifePercent(m5)<70.)and(DR8())and(Bz>hq[O5])and(IssueImmediateOrderById(it,852621)))
endif
endif
elseif(i1==1430466609)then
call SetPlayerAbilityAvailable(pl,1093678145,(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>60.))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
set m5=S77(900.,b5,Condition(function k6))
endif
if(m5!=null)then
if((not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<50.)and(GetHeroLevel(it)>5)and(Bz>hq[O5])and(not IC(O5))and(not IsUnitInRange(it,m5,400.))and(IsUnitInRange(it,m5,750.)))then
set U0F=kL(it,m5,200.)
set J4=(U0F!=null)and((SD7(800.,U0F,Condition(function ZJ7))-SD7(800.,U0F,Condition(function YB7)))<=1)and(SD7(700.,U0F,Condition(function YR7))==0)and(IssuePointOrderByIdLoc(it,852525,U0F))
endif
if((not J4)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
set J4=(((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<SPF(it))or(Kz(400.,SX7(m5))>1))and(SB7(it,852125,1093810258,1093810259,m5)))
endif
if(not J4)then
set J4=(((GetUnitManaPercent(it)>60.)and(GetHeroLevel(it)>5))or(R67(m5,it)))and(SZ7(it,852527,1093685559,m5))
endif
endif
if(not J4)then
set J4=((SD7(400.,b5,Condition(function k6))>0)or((hq[240+O5]>Bz)and(SD7(400.,b5,Condition(function KA))>1)))and(SL7(it,852526,1093678145))
endif
if((not J4)and(GetHeroLevel(it)>11.)and(GetUnitManaPercent(it)>70.)and(iy(it))and(SD7(1400.,b5,Condition(function Ky))==0)and(eY[O5]==1))then
set U0F=kk(it,800.,h8[O5])
set J4=(U0F!=null)and(IssuePointOrderByIdLoc(it,852525,U0F))
endif
elseif(i1==1430468913)then
if((not J4)and(m5!=null)and(GetHeroLevel(it)>5))then
set J4=(((GetUnitLifePercent(m5)<60.)or(h4[O5]!=null)or(SD7(800.,b5,Condition(function YB7))>0))and(GetUnitAbilityLevel(m5,1110454356)==0)and(SZ7(it,852149,1093677876,m5)))
endif
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<40.)and((GetUnitState(it,UNIT_STATE_LIFE)>1800.)or(SD7(1000.,b5,Condition(function k6))<=2))and(not IsUnitInRange(it,m5,350.)))then
set GZ[O5]=true
set J4=J8(O5,SL7(it,852100,1093678403))
endif
call SetPlayerAbilityAvailable(pl,1093810507,(GetHeroLevel(it)>13)and(SD7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))
if((not J4)and(m5!=null))then
set J4=((IsUnitInRange(it,m5,275.))and(SL7(it,852164,1093810507)))
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(1000.,it,Condition(function k6))
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454356)==0)and(SZ7(it,852149,1093677876,m5))
endif
endif
elseif(i1==1430467634)then
set UP=GetHeroLevel(it)
call SetPlayerAbilityAvailable(pl,1093742674,(GetUnitManaPercent(it)>40.)and(Bz>TC4[16+O5]))
call SetPlayerAbilityAvailable(pl,1093750608,(UP>10)and(GetUnitManaPercent(it)>55.))
if((m5==null)and(G0[128+O5])and(UP>4))then
set m5=S77(900.,b5,Condition(function k6))
endif
if((m5!=null)and(UP>4))then
set J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(250+(250*SRF(it))))and(not IsUnitIllusion(m5))and(SB7(it,852583,1093684565,1093681458,m5)))or((((GetHeroLevel(m5)==25)or(ModuloInteger(GetHeroLevel(m5),7-GetUnitAbilityLevel(it,1093679412))==0))or(GetUnitManaPercent(it)>60.)or(R67(m5,it)))and(SZ7(it,852231,1093679412,m5)))
if((not J4)and(GetUnitManaPercent(it)>60.))then
set GZ[O5]=true
set J4=J8(O5,SL7(it,OrderId("fanofknives"),1093750608))
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(1000.,it,Condition(function k6))
set J4=(m5!=null)and(SB7(it,852583,1093684565,1093681458,m5))
endif
endif
if((not J4)and(IsUnitInRange(it,m5,200.)))then
set J4=(m5!=null)and IssueImmediateOrderById(it,852127)
endif
if((not J4)and Bz>TC4[16+O5])then
set m5=S77(300.,SX7(it),Condition(function YW7))
set J4=(m5!=null)and(SZ7(it,852600,1093742674,m5))
endif
elseif(i1==1313026096)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>10))then
set m5=S97(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(((GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>4))or(R67(m5,it)))and(SZ7(it,852095,1095267426,m5))
if((not J4)and(GetHeroLevel(it)>10)and(m5!=null)and(not IsUnitIllusion(m5))and(GetUnitCurrentOrder(m5)!=851973)and(SE7(600.,m5,Condition(function YB7))>1))then
set J4=SZ7(it,852095,1095267426,m5)
endif
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if((not J4)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(it)<50.)and(Bz>TC4[O5]))then
set bj_lastLoadedUnit=it
set IN4=null
set IP4=null
set EJ7=GetUnitLifePercent(it)+20.
set EK7=GetUnitLifePercent(it)+30.
call S97(700.,SX7(it),Condition(function W57))
if IN4!=null then
set m5=IN4
else
set m5=IP4
endif
set J4=(m5!=null)and(SZ7(it,852189,1093678929,m5))
if J4 then
call LSE(O5,m5,false,false)
endif
endif
if((not J4)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(it)>75.)and(Bz>TC4[O5]))then
set m5=S77(600.,b5,Condition(function Y67))
if((m5!=null)and(T[GetPlayerId(GetOwningPlayer(m5))]>V[GetPlayerId(GetOwningPlayer(m5))]+3))then
set J4=(SE7(800.,m5,Condition(function k6))>0)and(SZ7(it,852189,1093678929,m5))
endif
endif
set m5=h4[O5]
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5)))then
if((not J4)and(i1==1164277353)and(GetUnitLifePercent(m5)<70.))then
set J4=SL7(it,852663,1093751369)
endif
if not J4 and(GetHeroLevel(it)>20 or(GetHeroLevel(it)-GetHeroLevel(m5)>3)or i1!=1164277353)then
set J4=IssueImmediateOrderById(it,852600)
endif
if((not J4)and((R67(m5,it))or(GZ[208+O5])or(GetUnitLifePercent(m5)<70. and GetUnitManaPercent(it)>70.)))then
set J4=SZ7(it,852119,1093815130,m5)
endif
endif
elseif(i1==1164666213)then
if(GetHeroLevel(it)>=6)then
set J4=(IsUnitInRange(it,h4[O5],400))or((SD7(400.,b5,Condition(function k6))>0)or((GetHeroLevel(it)>18)and(GetUnitManaPercent(it)>70.)and(SD7(400.,b5,Condition(function WC7))>2)))
if not UJ7(it,"AI|PulseNova")then
if(J4)then
call SetPlayerAbilityAvailable(pl,1093808455,true)
call SL7(it,852100,1093808454)
call TriggerSleepAction(0.1)
endif
else
if(not J4)then
call SL7(it,852100,1093808456)
call TriggerSleepAction(0.1)
endif
endif
call TriggerSleepAction(0.1)
set J4=false
endif
if(not J4)and G0[128+O5]and(GetUnitAbilityLevel(it,1093677877)>0)and(GetUnitManaPercent(it)>30)and(Bz>TC4[32+O5])then
if(m5==null)and SE7(700,it,Condition(function WP7))==0 then
set m5=S77(800.,b5,Condition(function YR7))
if(m5!=null)then
set EK7=Q17(it,m5)
if(EK7<500)then
if(SL7(it,852594,1093677877))then
call TriggerSleepAction(0.1)
endif
else
set EJ7=Q77(it,m5)
set EK7=EK7-516
call MoveLocation(HA,GetWidgetX(it)+EK7*Cos(EJ7*bj_DEGTORAD),GetWidgetY(it)+EK7*Sin(EJ7*bj_DEGTORAD))
call IssuePointOrderByIdLoc(it,851986,HA)
endif
endif
set m5=null
elseif SE7(800,it,Condition(function WP7))>=1 then
set XY7=ZQ7(600,it,Condition(function YR7))
if SE7(150.,it,Condition(function WC7))<=2 then
if(SL7(it,852594,1093677877))then
call TriggerSleepAction(0.1)
endif
else
set U1F=YM7(XY7,500,Condition(function WC7),true)
if XL7(U1F)then
call X17(U1F,2*GetUnitX(XY7)-GetLocationX(U1F),2*GetUnitY(XY7)-GetLocationY(U1F))
if Q07(GetUnitX(it),GetUnitY(it),GetLocationX(U1F),GetLocationY(U1F))<=150 then
if(SL7(it,852594,1093677877))then
call TriggerSleepAction(0.5)
endif
endif
call IssuePointOrderByIdLoc(it,851986,U1F)
endif
endif
endif
endif
set UP=GetHeroLevel(it)
if(not J4)and(h4[O5]!=null)and(SD7(300.,b5,Condition(function k6))>0)then
if(SL7(it,852594,1093677877))then
call TriggerSleepAction(0.1)
endif
endif
if((m5==null)and(G0[128+O5])and(GetUnitManaPercent(it)>70.)and(UP>3))then
set m5=S77(1000.,b5,Condition(function k6))
endif
if((not J4)and(m5!=null))then
set J4=(((UP>3)or(GetUnitLifePercent(m5)<60.))and(EH9(m5))and(SZ7(it,852224,1093678679,m5)))
endif
if((not J4)and(m5!=null))then
set J4=(((UP>3)or(GetUnitLifePercent(m5)<60.))and(SZ7(it,852119,1093678678,m5)))
endif
if(not J4)and(m5==null)then
set m5=S77(1000.,b5,Condition(function WC7))
if(not J4)and(m5!=null)and(UP>8)and(GetUnitManaPercent(it)>60.)then
set J4=(SZ7(it,852119,1093678678,m5))
endif
if(not J4)and(m5!=null)and(UP>14)and(GetUnitManaPercent(it)>60.)and(SE7(150.,it,Condition(function WC7))>2)then
set J4=(SZ7(it,852224,1093678679,m5))
endif
if(not J4)and(m5!=null)and((UP>14)or((UP>10)and(eY[O5]>9)))and(GetUnitManaPercent(it)>40.)and(SE7(500.,it,Condition(function WC7))>2)then
set J4=(SL7(it,852594,1093677877))
endif
endif
set bj_lastLoadedUnit=it
if(not J4)and(h4[O5]!=null)and(eY[320+O5]>=0)and(not IsUnitInRange(it,m5,300))and((GetUnitLifePercent(it)>80)or(GetUnitLifePercent(it)>(GetUnitLifePercent(m5)+30)))and(GetUnitManaPercent(it)>20)and(h4[304+O5]==null)and(SE7(900,m5,Condition(function SF7))==0)then
set J4=IssuePointOrderById(it,852686,GetUnitX(m5),GetUnitY(m5))
endif
elseif(i1==1433168227)then
call SetPlayerAbilityAvailable(pl,1093678918,(GetHeroLevel(it)>9)and((GetUnitManaPercent(it)>70.)or(m5!=null)or(SD7(900.,b5,Condition(function k6))>0)))
if GetUnitManaPercent(it)>60. then
call SetPlayerAbilityAvailable(pl,1093679186,true)
if IssueImmediateOrderById(it,852458)then
call TriggerSleepAction(0.1)
endif
else
call SetPlayerAbilityAvailable(pl,1093679186,false)
endif
if((m5==null)and(G0[128+O5])and(GetUnitManaPercent(it)>70.)and(GetHeroLevel(it)>2))then
set m5=S77(1000.,b5,Condition(function k6))
endif
if((m5!=null)and(GetHeroLevel(it)>2))then
if((GetHeroLevel(it)>5)and(Bz>hq[O5])and(not IsUnitIllusion(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.))then
set UP=SE7(550.,m5,Condition(function KA))
if((UP>1)and(UP<6)and((UP<=(SE7(550.,m5,Condition(function k6))*2))or((R67(m5,it))and(GetUnitState(m5,UNIT_STATE_LIFE)<450.))))then
set GZ[O5]=true
set J4=J8(O5,SB7(it,852227,1093678420,1093679176,m5))
endif
endif
if(not J4)then
set J4=((GetUnitManaPercent(it)>60.)or(GetUnitLifePercent(m5)<50.))and(SZ7(it,852226,1093678918,m5))
endif
endif
if((not J4)and(GetUnitManaPercent(it)<75.))then
set m5=S77(600.,b5,Condition(function KD))
set J4=(m5!=null)and(SZ7(it,852066,1093678387,m5))
endif
elseif(i1==1429221430)then
if(m5==null)then
set m5=S77(700.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and((GetUnitState(m5,UNIT_STATE_LIFE)<56.25*GetUnitAbilityLevel(it,1093681736))or(GetUnitState(m5,UNIT_STATE_LIFE)>500. and GetUnitState(it,UNIT_STATE_MANA)>300.)or(GZ[208+O5]))then
set J4=SZ7(it,852601,1093681736,m5)
endif
if(not J4)and(GetUnitAbilityLevel(it,1110454597)>0)then
if(h4[O5]==null)then
call LSE(O5,m5,false,false)
endif
if((GetUnitCurrentOrder(it)==851986)and(not G0[O5])and(hq[512+O5]>Bz)and(G0[128+O5])and(SD7(800.,b5,Condition(function KC))>1))then
call SY7(it,851983,h8[O5])
endif
elseif(not J4)and((GetUnitAbilityLevel(it,1110454595)>0)and(GetUnitCurrentOrder(it)==851986)and((not IsUnitVisible(it,Z7[0]))or(not IsUnitVisible(it,A7[0])))and(((SD7(800.,b5,Condition(function k8))>0)or(SD7(800.,b5,Condition(function KC))>0))))then
call IssueImmediateOrderById(it,851993)
endif
if(not J4)and(m5!=null)and((SD7(1500.,b5,Condition(function KR))==0)and(SD7(400.,b5,Condition(function k6))==0)and(Q17(it,IZ4)>1500)and(Q17(it,JA4)>1500)and(GetUnitState(it,UNIT_STATE_MANA)>250.))then
set J4=SA7(it,852224,1093681735,b5)
endif
if((not J4)and(GetHeroLevel(it)>13)and(hq[416+O5]>Bz)and(G0[128+O5])and(GetUnitAbilityLevel(it,1110454597)==0)and(GetUnitState(it,UNIT_STATE_MANA)>200.))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
if(((m5==null)or(not IsUnitInRange(it,m5,400.)))and(G0[128+O5]))then
set m5=S77(400.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(Q17(it,m5)<300)and(SL7(it,852164,1093687121))
endif
endif
if(not J4)and(h4[O5]==null)and GZ[O5]and((GetUnitState(it,UNIT_STATE_MANA)>300 and GetUnitManaPercent(it)>50))then
set EJ7=GetUnitAbilityLevel(it,1093681736)*75.
set m5=S77(600.,b5,Condition(function YZ7))
set J4=(m5!=null)and(SZ7(it,852601,1093681736,m5))
endif
elseif(i1==1430466872)then
call SetPlayerAbilityAvailable(pl,1093687349,(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>60.)and(SD7(1200.,b5,Condition(function k6))==0))
if(m5!=null)then
set GZ[O5]=true
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((Bz>hq[O5])and(not IsUnitIllusion(m5))and(UP>200)and(UP<SSF(it)+100))then
set J4=J8(O5,(SZ7(it,852502,1093684558,m5))or(SZ7(it,852555,1093687349,m5))or((not ke(m5))and(SB7(it,852119,1093679413,1093679447,m5))))
elseif((GetHeroLevel(it)>2)or(R67(m5,it)))then
set J4=(SZ7(it,852555,1093687349,m5))or((GetUnitLifePercent(m5)<50.)and(not IsUnitIllusion(m5))and(SZ7(it,852502,1093684558,m5)))
endif
elseif((GetUnitManaPercent(it)>50.)and(G0[128+O5])and(GetHeroLevel(it)>2))then
set m5=S77(1000.,b5,Condition(function k6))
set J4=(m5!=null)and(SZ7(it,852555,1093687349,m5))
endif
if((not J4)and(GetHeroLevel(it)>10)and((GetUnitState(it,UNIT_STATE_MAX_MANA)-GetUnitState(it,UNIT_STATE_MANA))>400.)and(iy(it))and(eY[O5]==1))then
set m5=S77(700.,b5,Condition(function k9))
set J4=(m5!=null)and(SZ7(it,852066,1093678387,m5))
endif
if((not J4)and(GetHeroLevel(it)>15)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(700.,it,Condition(function k6))
if(m5!=null)then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=(GetUnitLifePercent(m5)<60.)and(UP<1600)and(UP>500)and(not ke(m5))and(SB7(it,852119,1093679413,1093679447,m5))
endif
endif
endif
if(not J4)and(GetUnitManaPercent(it)<70)then
set IJ4=RMinBJ(I2R(GetUnitAbilityLevel(it,1093677646)*80),160)
if(m5==null or GetUnitState(m5,UNIT_STATE_MANA)<IJ4)then
set m5=ZB7(it)
endif
set J4=(m5!=null)and(SZ7(it,852487,1093677646,m5))
endif
elseif(i1==1162032439)then
set J4=GetUnitAbilityLevel(it,1110456148)>0
if((not J4)and(m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=S77(900.,b5,Condition(function k6))
endif
if((not J4)and(m5!=null))then
set J4=(((GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>2))or(R67(m5,it)))and(SZ7(it,OrderId("volcano"),1093744435,m5))
endif
if((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<70.)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>10)and(Bz>hq[16+O5])and(G0[128+O5]))then
set UP=Kz(600.,b5)
if((UP>1)or((UP>0)and(SD7(800.,b5,Condition(function YB7))>0)))then
set GZ[O5]=true
call SetPlayerAbilityAvailable(pl,1093681462,true)
set J4=J8(O5,(SL7(it,852594,1093677363)))
endif
endif
if((not J4)and(G0[128+O5])and(SG7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>10)and(Bz>hq[16+O5])and(GetUnitLifePercent(it)>65.)and(GetUnitManaPercent(it)>50.)and(not IsUnitInRange(it,m5,300.))and(IsUnitInRange(it,m5,800.)))then
set h4[16+O5]=m5
set J4=S3F(it,m5)
endif
if(not J4)and(h4[O5]!=null)then
set J4=SZ7(it,852504,1093684563,m5)
endif
call SetPlayerAbilityAvailable(pl,1093684563,(not J4)and(((GetHeroLevel(it)>8)and(GetUnitManaPercent(it)>45.))or((GetHeroLevel(it)>15)and(GetUnitManaPercent(it)>30.))))
elseif(i1==1430466865)then
if(m5==null)then
set m5=S77(800.,b5,Condition(function k6))
endif
call SetPlayerAbilityAvailable(pl,1093677651,(GetHeroLevel(it)>15)and(SD7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))
if((G0[128+O5])and(not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<65. or R67(it,m5)or GZ[208+O5]or eY[320+O5]>=0)and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.))and((not IC(O5))or(P37(it)>1600.))and(TC4[32+O5]>Bz))then
if(SG7(it,ZU[RW]))then
set J4=(((Bz>hq[O5])and(GetUnitState(it,UNIT_STATE_MANA)>175.+(GetUnitAbilityLevel(it,1093810508)*100)))or(eY[320+O5]>=1)or(R67(it,m5)))and(GetUnitState(it,UNIT_STATE_MANA)>400.)and(S3F(it,m5))
endif
if not J4 then
set J4=((GetUnitState(it,UNIT_STATE_MANA)>180.+(GetUnitAbilityLevel(it,1093810508)*100))or(R67(it,m5)))and(SZ7(it,852218,1093751364,m5))
endif
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
if((m5==null)and(G0[128+O5]))then
set m5=ZN7(800.,it)
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<30 or GZ[208+O5]))then
if(Kz(400.,SX7(m5))>1 or GetUnitLifePercent(m5)<30)and(((not IsUnitInRange(it,m5,300.))and(S3F(it,m5)))or(IsUnitInRange(it,m5,300.)))then
if(not is(it))then
call QA7(0.1)
endif
set J4=(SL7(it,852164,1093810508))
endif
endif
endif
if(not J4)and(IsUnitInRange(it,m5,200.))and(SD7(250.,b5,Condition(function k8))<=1)then
set EJ7=Q77(it,m5)
set EK7=Q77(it,h9[O5])
set EJ7=RAbsBJ(EJ7-EK7)
if EJ7<15 then
set EJ7=RAbsBJ(GetUnitFacing(it)-EK7)
if EJ7<15 then
set J4=((GetUnitState(it,UNIT_STATE_MANA)>180.+(GetUnitAbilityLevel(it,1093810508)*100))or(R67(it,m5)))and(SZ7(it,852218,1093751364,m5))
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>60.))then
if((m5==null)and(G0[128+O5]))then
set m5=S77(600.,b5,Condition(function k6))
endif
if((m5!=null)and(IsUnitInRange(it,m5,600.)))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))
call SetPlayerAbilityAvailable(pl,1093677651,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852125,GetUnitX(it)+300.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+300.*Sin(UP*bj_DEGTORAD)))
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(SD7(800.,b5,Condition(function k8))>0))then
set J4=(GetUnitAbilityLevel(it,1110454357)==0)and(GetUnitManaPercent(it)>65.)and(SZ7(it,852066,1093677879,it))
if((not J4)and(GetUnitAbilityLevel(it,1110454357)>0)and(GetUnitManaPercent(it)>75.))then
set m5=S77(700.,b5,Condition(function YB7))
set J4=(m5!=null)and(kq(GetUnitTypeId(m5)))and(GetUnitAbilityLevel(m5,1110454357)==0)and(SZ7(it,852066,1093677879,m5))
endif
endif
elseif(i1==1430468144)then
if((m5==null)and(G0[128+O5]))then
set m5=S77(800.,b5,Condition(function k6))
endif
set UP=U97(GetHandleId(it),"Level")
if((m5!=null)and(IsUnitInRange(it,m5,860.))and GetUnitState(m5,UNIT_STATE_LIFE)<20+(60*UP))then
set J4=(IssueTargetOrderById(it,852248,m5))
else
set J4=((IsUnitInRange(it,m5,860.))and(UP>GetUnitAbilityLevel(it,1093750337))and(GetUnitManaPercent(it)>35.)and(GetHeroLevel(it)>3)and(IssueTargetOrderById(it,852248,m5)))
endif
if((not J4)and(m5!=null)and(SG7(it,ZU[DR4]))and(Bz>TC4[240+O5])and(EF9(m5)==false)and(BO7(m5)==false))then
set J4=UnitUseItemTarget(it,SK7(it,ZU[DR4]),m5)
endif
if(not J4 and m5!=null)then
set J4=(((GetUnitLifePercent(m5)<50.)or(SD7(500.,b5,Condition(function YB7))>0))and((GetHeroLevel(it)>10)and(SZ7(it,852189,1093679192,m5))))
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>TC4[O5]))then
if(UJ7(it,"AIFamiliar1|Status")==false or UJ7(it,"AIFamiliar2|Status")==false or(GetUnitAbilityLevel(it,1093814599)!=0 and UJ7(it,"AIFamiliar3|Status")==false))then
call SetPlayerAbilityAvailable(pl,1093750341,true)
set J4=IssueImmediateOrderById(it,852526)
elseif(UJ7(it,"AIFamiliar1|Stone")and UJ7(it,"AIFamiliar2|Stone")and(GetUnitAbilityLevel(it,1093814599)==0 or UJ7(it,"AIFamiliar3|Stone")))then
call SetPlayerAbilityAvailable(pl,1093750341,true)
set J4=IssueImmediateOrderById(it,852526)
else
call SetPlayerAbilityAvailable(pl,1093750341,false)
endif
endif
elseif((i1==1429221432)or(i1==1160786229))then
call SetPlayerAbilityAvailable(pl,1093687878,(GetHeroLevel(it)>15)and(GetUnitManaPercent(it)>70.))
call SetPlayerAbilityAvailable(pl,1093677892,(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>60.))
if((m5==null)and(G0[128+O5]))then
if(i1==1160786229)then
set m5=S77(1000.,b5,Condition(function k6))
elseif(Bz>hq[O5])then
set m5=S97(600.,b5,Condition(function k6))
endif
endif
if(m5!=null)then
set J4=(Bz>hq[O5])and(i1==1429221432)and(not IsUnitIllusion(m5))and((GetUnitLifePercent(m5)<60.)or((GetUnitLifePercent(m5)<75.)and(SD7(2000.,b5,Condition(function YR7))==0)))and(SL7(it,852180,1093679411))
if((i1==1160786229)or((not J4)and((GetHeroLevel(it)>4)or(GetUnitLifePercent(m5)<60.))and(R2I(GetUnitState(it,UNIT_STATE_MANA))>(250+(25*(GetUnitAbilityLevel(it,1093679411)))))))then
set J4=(SL7(it,OrderId("channel"),1093687878))or(SL7(it,852126,1093677892))
endif
endif
if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(700.,it,Condition(function k6))
set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(SL7(it,852180,1093679411))
endif
endif
elseif(i1==1429221441)then
set J4=(m5!=null)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.)and(SZ7(it,852231,1093678389,m5))
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(((GetHeroLevel(it)>5)and(not IC(O5)))or(R_7(m5,it)))and(not IsUnitInRangeLoc(m5,b5,250.)))then
set J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and((SE7(800.,m5,Condition(function ZJ7))-SE7(800.,m5,Condition(function YB7)))<=1)and(IssueTargetOrderById(it,852600,m5))
endif
if((not J4)and(GetHeroLevel(it)>14)and(hq[416+O5]>Bz)and(Bz>hq[16+O5])and(G0[128+O5]))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(700.,it,Condition(function k6))
set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(SL7(it,852123,1093677903))
endif
endif
if((not J4)and(GetHeroLevel(it)>17)and(Bz>hq[16+O5]))then
set m5=S97(500.,b5,Condition(function YR7))
set J4=(m5!=null)and(GetUnitLifePercent(m5)<55.)and(GetUnitLifePercent(m5)>15.)and(SE7(800.,m5,Condition(function KC))>2)and(SL7(it,852123,1093677903))
endif
elseif(i1==1165451634)then
set VDF=GetUnitAbilityLevel(it,1093687629)
set V9F=OB7(GetUnitAbilityLevel(it,1093685324)>0,1,0)*50+(35-5*VDF)
set XY7=ZQ7(1200,it,Condition(function WC7))
set OJ7=GetWidgetLife(XY7)
set J4=(XY7!=null)and(not(GetWidgetLife(m5)<=VDF*25+GetRandomReal(0,100*R2I(I2R(GetHeroLevel(m5))/4.0))or GetUnitLifePercent(m5)<=30.))and(GetWidgetLife(XY7)<=VDF*50+GetRandomReal(0,20))and IssueTargetOrderById(it,852662,XY7)
if not J4 then
set J4=(m5!=null)and(((GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.))or(R_7(m5,it)))and(SZ7(it,OrderId("acidbomb"),1093687629,m5))
endif
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(((GetHeroLevel(it)>5)and(not IC(O5)))or(R_7(m5,it)))and(not IsUnitInRangeLoc(m5,b5,250.)))then
set J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and((SE7(800.,m5,Condition(function ZJ7))-SE7(800.,m5,Condition(function YB7)))<=1)and(IssueTargetOrderById(it,852600,m5))
endif
elseif(i1==1432642913)then
set J4=(m5!=null)and(GetHeroLevel(it)>5)and((GetUnitLifePercent(it)>75.)or((GetUnitLifePercent(it)-25.)>GetUnitLifePercent(m5)))and(IssueTargetOrderById(it,852662,m5))
if(not J4)then
set m5=S77(800.,b5,Condition(function Y67))
if(m5!=null)then
set J4=((SE7(800.,m5,Condition(function k6))>0)and(IssueTargetOrderById(it,852119,m5)))or((GetUnitLifePercent(it)>60.)and(IssueTargetOrderById(it,852662,m5)))
endif
if((not J4)and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>50.)and(SD7(600.,b5,Condition(function KA))>0))then
set J4=IssueTargetOrderById(it,852119,it)
endif
endif
elseif(i1==1215722344)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
set m5=S77(800.,b5,Condition(function k6))
endif
if(m5!=null)then
if((GetHeroLevel(it)>5)and(GetUnitAbilityLevel(it,1110454616)==0)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(GetUnitState(m5,UNIT_STATE_LIFE)>300.))then
if(((IsUnitInRange(it,m5,500.))and(GetUnitLifePercent(m5)<60.))or((SE7(700.,m5,Condition(function YB7))>0)and(GetUnitLifePercent(m5)<80.))or((SE7(700.,m5,Condition(function Y57))>0)and(SE7(700.,m5,Condition(function k8))<4)))then
set GZ[O5]=true
set J4=J8(O5,SZ7(it,852231,1093684296,m5))
endif
else
set J4=(GetHeroLevel(it)>5)and(IsUnitInRange(it,m5,300.))and(GetUnitLifePercent(it)>70.)and(SZ7(it,852668,1093682499,it))
endif
elseif((GetHeroLevel(it)>5)and(GetUnitAbilityLevel(it,1110454616)==0)and(GetUnitManaPercent(it)>70.))then
set J4=(SD7(1200.,b5,Condition(function k6))==0)and(SD7(700.,b5,Condition(function KA))>0)and(SZ7(it,852668,1093682499,it))
else
call SetPlayerAbilityAvailable(pl,1093682499,false)
endif
elseif(i1==1432510828)then
set J4=(SVF(it)>35.)and((m5!=null)or(SD7(1000.,b5,Condition(function k6))>0))and(SL7(it,852600,1093682004))
if(not J4)then
set m5=S77(1500.,b5,Condition(function k6))
if(m5!=null)then
set J4=IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))
set m5=null
endif
endif
if((not J4)and(G0[128+O5]))then
if(m5==null)then
set m5=S77(700.,b5,Condition(function k6))
endif
if(m5!=null)then
if(SE7(900.,m5,Condition(function YR7))>0)then
if((R_7(m5,it))or((GetHeroLevel(it)>4)and(IsUnitInRange(it,m5,250.))and(not IC(O5))and(GetUnitLifePercent(it)>75.)))then
set h4[288+O5]=m5
set J4=IssueImmediateOrderById(it,852129)
endif
else
if((R_7(m5,it))or((GetHeroLevel(it)>4)and((GetUnitManaPercent(it)>50.)or(GetHeroLevel(it)>10.))and(SE7(800.,m5,Condition(function ZJ7))-SE7(800.,m5,Condition(function YB7))<=1)))then
set h4[288+O5]=m5
set J4=IssueImmediateOrderById(it,852129)
endif
endif
endif
endif
elseif(i1==1332766568)then
if((G0[128+O5])and(SG7(it,ZU[RW]))and(GetHeroLevel(it)>12)and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.)))then
set J4=((SE7(800.,m5,Condition(function ZJ7))-SE7(800.,m5,Condition(function YB7)))<=1)and(S3F(it,m5))
endif
if(m5!=null)then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=(GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and((UP<(150+(150*GetUnitAbilityLevel(it,1093682482))))or(UP<(150+(150*GetUnitAbilityLevel(it,1093750098)))))and(UP>150)and(SB7(it,852119,1093682482,1093750098,m5))
if((not J4)and((GetHeroLevel(it)>3)or(R67(m5,it)))and(R2I(GetUnitState(it,UNIT_STATE_MANA))>(195+(40*GetUnitAbilityLevel(it,1093682482)))))then
set J4=IssueTargetOrderById(it,852248,m5)
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(G0[128+O5]))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
set J4=(GetUnitLifePercent(it)>70.)and(((UP>1)and(SD7(280.,b5,Condition(function k6))>1))or((UP<=2)and(SD7(280.,b5,Condition(function k6))>0)))and(IssueImmediateOrderById(it,852600))
endif
endif
if((not J4)and(GetHeroLevel(it)>3))then
if(m5==null)then
set m5=K3(800.,it,Condition(function k6))
endif
set J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(R_7(m5,it)))and(IssueTargetOrderById(it,852248,m5))
endif
if((not J4)and(SD7(800.,b5,Condition(function Y67))>0))then
set J4=(SD7(280.,b5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852600))
endif
elseif(i1==1429221451)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>5))then
set m5=S77(1000.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitInRange(it,m5,200.))and(GetUnitLifePercent(m5)<50.)and(GetUnitCurrentOrder(it)==851983))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))
set J4=IssuePointOrderById(it,852218,GetUnitX(m5)+100.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+100.*Sin(UP*bj_DEGTORAD))
endif
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(R2I(GetUnitState(it,UNIT_STATE_MANA))>250+(75*GetUnitAbilityLevel(it,1093678674))))then
if((Bz>hq[O5])and(Bz>hq[112+O5])and(Bz>hq[240+O5])and(SG7(it,ZU[RW]))and(IsUnitInRange(it,m5,900.))and(not IsUnitInRange(it,m5,300.)))then
set UP=SD7(1000.,b5,Condition(function k6))
if((not IsUnitVisible(it,GetOwningPlayer(m5)))or((hq[416+O5]>Bz)and((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(800.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1))))then
set J4=(SD7(500.,b5,Condition(function k6))==0)and(IssueImmediateOrderById(it,852581))
endif
endif
if(not J4)then
set J4=(Bz>hq[O5])and(IssueTargetOrderById(it,852218,m5))
endif
if((not J4)and((hq[O5]-Bz)>20.)and(GetUnitLifePercent(it)>70.)and(not IC(O5))and(GetUnitState(it,UNIT_STATE_MANA)>500.)and(IsUnitInRange(it,m5,500.))and(SD7(500.,b5,Condition(function YB7))>0))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))
set J4=IssuePointOrderById(it,852218,GetUnitX(m5)+100.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+100.*Sin(UP*bj_DEGTORAD))
endif
endif
if(not J4)and(Bz>TC4[32+O5])and(GetUnitAbilityLevel(it,1093683248)>1)and(G0[256+O5])and(h4[304+O5]==null)and(SE7(GetUnitAbilityLevel(it,1093683248)*50+100,it,Condition(function WC7))>4)then
set J4=IssueImmediateOrderById(it,852503)
endif
elseif(i1==1315334514)then
set J4=(GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>3)and((SYF(it,200.,852164,1093682521))or(SYF(it,450.,852588,1093682760))or(SYF(it,700.,852599,1093682736)))
if((not G0[128+O5])or(J4))then
elseif((SG7(it,ZU[C0]))and(GetHeroLevel(it)>10)and(Bz>hq[O5])and(GetUnitManaPercent(it)>50.)and((GetUnitAbilityLevel(it,1093682001))>(GetUnitAbilityLevel(it,1093681746)*4)))then
if(m5==null)then
set m5=S77(1200.,b5,Condition(function KK))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitTypeId(m5)!=1212365106)and(SE7(800.,m5,Condition(function YR7))==0)and((SE7(600.,m5,Condition(function Y57))>0)or(not IsUnitInRange(it,m5,800.))or(not IsUnitVisible(it,Z7[0]))or(not IsUnitVisible(it,A7[0]))))then
set GZ[272+O5]=true
set J4=UnitUseItem(it,SK7(it,ZU[C0]))
set GZ[272+O5]=J4
endif
elseif((SG7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and(not IC(O5))and(GetHeroLevel(it)>10)and(Bz>hq[O5])and(GetUnitLifePercent(it)>65.)and(GetUnitManaPercent(it)>50.)and((GetUnitAbilityLevel(it,1093682001))>(GetUnitAbilityLevel(it,1093681746)*4)))then
set J4=((SE7(800.,m5,Condition(function ZJ7))-SE7(800.,m5,Condition(function YB7)))<=1)and(S3F(it,m5))
endif
if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5])and(GetRandomInt(1,3)==1))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and(SD7(1000.,b5,Condition(function YB7))>0))then
set UP=SD7(650.,b5,Condition(function k6))
set J4=((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and(SL7(it,852273,1093810506))
endif
endif
elseif(i1==1328558154)then
if LoadBoolean(L7,GetHandleId(it),1145131595)then
set J4=true
if J4 then
if AG7(GetOwningPlayer(it))then
set ULF=XH4
else
set ULF=XG4
endif
set XY7=LoadUnitHandle(L7,V7F,1145131595)
if IsPointInRegion(IU4,GetUnitX(it),GetUnitY(it))==false and not((SE7(700,XY7,Condition(function k6))<=IMinBJ(OV7(IsUnitInRegion(ULF,XY7),2+R2I((GetHeroLevel(it)-GetHeroLevel(XY7))/4),999),OV7(SE7(500,XY7,Condition(function YR7))>0,3+R2I(GetUnitLifePercent(it)-GetUnitLifePercent(XY7))/20,999)))or SE7(900,XY7,Condition(function X47))>=2)then
call IssueImmediateOrderById(it,851972)
endif
endif
endif
if J4==false and R17(it)and SE7(500,it,Condition(function k6))>=1 and P27(it,30,400,NA7)then
set NC7=2500
set XY7=ZQ7(99999,it,And(Condition(function WC7),Condition(function WU7)))
if XY7==null then
set NC7=1500
set XY7=ZQ7(99999,it,And(Condition(function WC7),Condition(function WU7)))
endif
set J4=(XY7!=null)and IssueTargetOrderById(it,852600,XY7)
endif
if((m5!=null)and(not J4)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(R67(m5,it)or((GetUnitLifePercent(m5)<60.)and(not IsUnitInRange(it,m5,600.))))and(((SE7(900.,m5,Condition(function ZJ7))<=2)and(SG7(it,ZU[J1]))or(SG7(it,ZU[T2])))or((SE7(900.,m5,Condition(function ZJ7))<2))))then
set J4=((not ke(m5))and(SD7(700.,GetUnitLoc(m5),Condition(function YR7))==0)and(IssueTargetOrderById(it,852600,m5)))
endif
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<60.)and(IsUnitInRange(it,m5,TC4[64+O5])))then
set J4=(IssueTargetOrderById(it,852248,m5))
endif
if((not J4)and SG7(it,ZU[DM4])and(UJ7(it,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(it)>90.)and(IsUnitInRange(it,m5,110.)))then
set J4=(m5!=null)and(UnitUseItem(it,SK7(it,ZU[DM4])))
elseif((not J4)and SG7(it,ZU[DK4])and(UJ7(it,"ArmletOfMordigan|Active")==true)and((not IsUnitInRange(it,m5,150.))or(GetUnitLifePercent(it)<60.)))then
set J4=(UnitUseItem(it,SK7(it,ZU[DK4])))
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[O5]>Bz))then
if((m5==null)or(IsUnitInRange(it,m5,500.)))then
set m5=K3(1500.,it,Condition(function k6))
endif
set J4=(m5!=null)and((GetUnitLifePercent(m5)<60.)and((GetUnitState(m5,UNIT_STATE_LIFE)+300.)<GetUnitState(it,UNIT_STATE_LIFE)))and(not IsUnitInRange(it,m5,600.))and(SE7(700.,m5,Condition(function ZJ7))<=2)and(not V67(m5))and(SD7(700.,GetUnitLoc(m5),Condition(function YR7))==0)and(IssueTargetOrderById(it,852600,m5))
endif
if((not J4)and(not Id(O5))and(GetHeroLevel(it)>10)and(hq[O5]>Bz))then
set m5=S97(1300.,b5,Condition(function Y67))
if(m5!=null)then
set m5=S97(700.,SX7(m5),Condition(function k6))
set J4=(m5!=null)and(not IsUnitInRange(it,m5,300.))and(IssueTargetOrderById(it,852600,m5))
endif
endif
if(not J4 and Bz>TC4[O5])then
set m5=S97(TC4[64+O5],b5,Condition(function k6))
set J4=(m5!=null)and(GetUnitLifePercent(m5)<40.)and(IssueTargetOrderById(it,852248,m5))
endif
if(not J4 and(GetUnitAbilityLevel(it,1093747768)>0))then
set m5=S97(TC4[64+O5],b5,Condition(function k6))
set J4=(m5!=null)and(GetRandomInt(1,2)==1)and(((SE7(500.,m5,Condition(function ZJ7))<=2)and(SG7(it,ZU[J1]))or(SG7(it,ZU[T2])))or((SE7(500.,m5,Condition(function ZJ7))<2)))and(IssueTargetOrderById(it,852248,m5))
endif
if(not J4)and(GetHeroLevel(it)>10)then
set m5=S97(2000.,b5,Condition(function k6))
set J4=(m5!=null)and(Bz>TC4[16+O5])and(GetUnitLifePercent(it)>90.)and(not V67(m5))and(not IsUnitInRange(it,m5,700.))and(((SE7(900.,m5,Condition(function ZJ7))<=1)and(SG7(it,ZU[J1]))or(SG7(it,ZU[T2])))or((SE7(900.,m5,Condition(function ZJ7))<2)))and(SE7(750.,m5,Condition(function YR7))==0)and(IssueTargetOrderById(it,852600,m5))
endif
elseif(i1==1429221446)then
if((GetUnitAbilityLevel(it,1110454868)>0)and(SD7(275.,b5,Condition(function ZJ7))==0))then
if((m5==null)or(not IsUnitInRange(it,m5,500.)))then
set m5=S97(500.,b5,Condition(function k6))
endif
if((m5!=null)and(G0[128+O5]))then
call IssueTargetOrderById(it,851983,m5)
else
call SetPlayerAbilityAvailable(pl,1093678667,true)
call IssueImmediateOrderById(it,852178)
endif
elseif(GetUnitAbilityLevel(it,1110454868)==0)then
if(SD7(225.,b5,Condition(function ZJ7))==0)then
call SetPlayerAbilityAvailable(pl,1093678667,false)
else
call SetPlayerAbilityAvailable(pl,1093678667,true)
call IssueImmediateOrderById(it,852177)
endif
endif
if(not J4)and(h4[O5]!=null)and(IsUnitInRange(it,m5,225))and(GetUnitLifePercent(m5)<70)then
set J4=SB7(it,852480,1093682764,1093747544,m5)
endif
if(not J4)and(h4[O5]!=null)and(IsUnitInRange(it,m5,300))and(GetUnitLifePercent(m5)<30)then
set J4=LKE(it,m5)
endif
if((not J4)and(GetHeroLevel(it)>5)and(GetUnitState(it,UNIT_STATE_MANA)>=150.)and(Bz>hq[16+O5]))then
set UP=200+(200*GetUnitAbilityLevel(it,1093678665))
if((m5==null)or(IsUnitIllusion(m5))or(IsUnitInRange(it,m5,200.))or(not IsUnitInRange(it,m5,UP)))then
set m5=S77(UP,b5,Condition(function ZJ7))
endif
set J4=(m5!=null)and(not IsUnitInRange(it,m5,200.))and((GetUnitLifePercent(m5)<80.)or(SD7(500.,b5,Condition(function YB7))>0)or(Bz>hq[O5]))and(LKE(it,m5))
if((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[128+O5])and(SD7(400.,SX7(it),Condition(function k8))==0))then
set UP=R2I(Q07(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
if(GetRandomInt(1,2)==1)then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-15
else
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+15
endif
set J4=IssuePointOrderById(it,851986,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))
endif
endif
elseif(i1==1311788343 or i1==1311788355 or i1==1311788367 or i1==1311788353 or i1==1311788354)or(i1==1311788363 or i1==1311788365)then
if(i1==1311788343 or i1==1311788355 or i1==1311788367 or i1==1311788353 or i1==1311788354)then
set XY7=XA7(900,it,350)
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093815361,(XY7!=null)or(GetUnitState(it,UNIT_STATE_MANA)>600 or GetUnitManaPercent(it)>70.))
set J4=(XY7!=null)and IssueTargetOrderById(it,852119,XY7)
if not J4 and G0[128+O5]then
if M27[O5]!=null and IsUnitInRange(it,M27[O5],950)and SE7(350,M27[O5],Condition(function k6))>=2 and(GetUnitLifePercent(M27[O5])<=60. and(QE7(GetUnitTypeId(M27[O5]))==E_7 or QE7(GetUnitTypeId(M27[O5]))==F47))then
set m5=M27[O5]
else
set m5=XW7(800,it,0,Condition(function k6))
endif
set J4=(m5!=null)and(G0[256+O5]or(GetUnitLifePercent(m5)<30.+7*SE7(600,it,Condition(function YB7))+7*(SE7(350,m5,Condition(function k6)))+3*(SE7(350,m5,Condition(function WC7))))or 0.73*GetWidgetLife(m5)<=350)or(SE7(600,it,Condition(function YB7))>=3)and IssueTargetOrderById(it,852581,m5)
if J4 then
set h4[O5]=OR7(J4,m5,h4[O5])
else
set m5=ZQ7(800,it,Condition(function U3F))
set J4=(m5!=null)and IssueTargetOrderById(it,852581,m5)
endif
endif
if not J4 then
if SE7(600,it,Condition(function YB7))>=4 and SE7(600+100*GetUnitAbilityLevel(it,1093815877),it,Condition(function k6))>=1 and G0[256+O5]or(GetUnitLifePercent(it)<20. and V67(it)==false)then
set J4=IssueImmediateOrderById(it,852180)
endif
endif
if not J4 then
set m5=ZQ7(1200,it,Condition(function YL7))
set J4=(m5!=null)and((((not PA7(m5))or GetUnitLifePercent(m5)<=25.)or(GetUnitCurrentOrder(m5)!=851983 or(SE7(600,m5,Condition(function k6))>=1 and GetUnitLifePercent(m5)<=25.)))or GetUnitState(m5,UNIT_STATE_LIFE)<=225)and IssueTargetOrderById(it,852536,m5)
endif
else
if(i1==1311788363 or i1==1311788365)then
set XY7=ZQ7(500+100*GetUnitAbilityLevel(it,1093815601),it,Condition(function WW7))
set m5=OR7(XY7!=null,XY7,m5)
set J4=(G0[256+O5])and(m5!=null)and(GetUnitManaPercent(it)>70 or GetUnitLifePercent(m5)<=30.)and IssueTargetOrderById(it,852095,m5)
if not J4 then
set m5=OR7(m5!=null,m5,ZQ7(2000,it,Condition(function k6)))
if(not Q37(it,m5,90))then
set J4=(m5!=null)and(G0[128+O5]or(GetUnitManaPercent(it)>65. or GetUnitLifePercent(m5)<80.))and IssuePointOrderById(it,852600,(GetUnitX(m5)+125*Cos(GetUnitFacing(m5)*bj_DEGTORAD+GetRandomReal(-.52,.52))),(GetUnitY(m5)+125*Sin(GetUnitFacing(m5)*bj_DEGTORAD+GetRandomReal(-.52,.52))))
else
set U1F=LM7(it,m5,999999,3.3,0)
set J4=(m5!=null)and(G0[256+O5]or((GetUnitManaPercent(it)>35. or GetUnitState(it,UNIT_STATE_MANA)>=320)or GetUnitLifePercent(m5)<80.))and(U1F!=null)and IssuePointOrderByIdLoc(it,852600,U1F)
endif
endif
if not J4 then
set m5=ZQ7(700,it,Condition(function W_7))
set XY7=ZQ7(1100,it,Condition(function W27))
if m5!=null and XY7!=null then
if IsUnitInRange(XY7,m5,325)then
set J4=((GetUnitManaPercent(it)>=30. or GetUnitState(it,UNIT_STATE_MANA)>=225.)or(GetUnitState(m5,UNIT_STATE_LIFE)<=500 or GetUnitLifePercent(m5)<70.)or(GetUnitLifePercent(XY7)<=100.))and IssuePointOrderById(it,852662,0.5*(GetUnitX(m5)+GetUnitX(XY7)),0.5*(GetUnitY(m5)+GetUnitY(XY7)))
else
if SE7(600,XY7,Condition(function WS7))>=3 and GetUnitLifePercent(m5)>75. then
set m5=XY7
endif
set J4=(m5!=null)and((IsUnitType(m5,UNIT_TYPE_HERO)==true and(GetUnitLifePercent(m5)<=40. or PZ7(m5)==true))or(IsUnitType(m5,UNIT_TYPE_STRUCTURE)==true and SE7(600,XY7,Condition(function WS7))>=2))and IssuePointOrderById(it,852662,GetUnitX(m5)+GetRandomReal(0,100),GetUnitY(m5)+GetRandomReal(0,100))
endif
else
set m5=OR7(m5==null,XY7,m5)
if m5==null then
set m5=ZQ7(1100,it,Condition(function Y57))
endif
set J4=(m5!=null)and((IsUnitType(m5,UNIT_TYPE_HERO)==true and(GetUnitLifePercent(m5)<=70. or PZ7(m5)==true))or(IsUnitType(m5,UNIT_TYPE_STRUCTURE)==true and SE7(600,XY7,Condition(function WS7))>=2))and IssuePointOrderById(it,852662,GetUnitX(m5)+GetRandomReal(0,100),GetUnitY(m5)+GetRandomReal(0,100))
endif
endif
if J4 then
endif
if not J4 then
set J4=(GetUnitTypeId(it)!=1311788365)and((G0[256+O5]and SE7(750,it,Condition(function k6))>=1)or eY[O5]==10 or((SG7(it,1227896388)and SE7(500,it,Condition(function WC7))>=1)or(SG7(it,1227896916)and SE7(600,it,And(Condition(function WV7),Condition(function WS7)))>=1)))and GetUnitLifePercent(it)>20. and IssueImmediateOrderById(it,852594)
endif
endif
endif
elseif(i1==1429221445)then
call SetPlayerAbilityAvailable(pl,1093678422,(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>30.)or(SD7(400.,b5,Condition(function k6))>0))
if((m5!=null)and(not ke(m5))and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.))then
set UP=GetUnitAbilityLevel(it,1093678647)
if(UP==0)then
set UP=GetUnitAbilityLevel(it,1093679184)+1
endif
set J4=(GetUnitState(m5,UNIT_STATE_LIFE)<((0.20+(I2R(UP)*0.20))*(GetUnitState(m5,UNIT_STATE_MAX_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))))and(SB7(it,852095,1093678647,1093679184,m5))
endif
if((not J4)and(GetHeroLevel(it)>6)and(GetUnitLifePercent(it)<85.)and(GetUnitManaPercent(it)>35.))then
set J4=((SD7(400.,b5,Condition(function KA))>0)or(SD7(400.,b5,Condition(function KC))>0))and(IssueImmediateOrderById(it,852526))
endif
if((not J4)and(hq[240+O5]>Bz))then
set J4=(SD7(400.,b5,Condition(function KA))>1)and(SL7(it,852526,1093678422))
endif
if((not J4)and(GetUnitManaPercent(it)>35.)and(GetUnitState(it,UNIT_STATE_MANA)>250.))then
set m5=S77(400.,b5,Condition(function YA7))
set J4=(m5!=null)and(((GetUnitLevel(it)>4)and(GetUnitLifePercent(m5)<80.))or(GetUnitLifePercent(m5)<55.))and(SL7(it,852526,1093678422))
endif
elseif(i1==1332963428)then
if(GetHeroLevel(it)>2)then
if((m5==null)and(G0[128+O5]))then
set m5=S77(900.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)>60.))then
set J4=((SE7(600.,m5,Condition(function Y57))>0)or((SE7(800.,m5,Condition(function YA7))==0)and(SE7(800.,m5,Condition(function Ko))==0)and(GetUnitManaPercent(it)>65.)))and(SZ7(it,852227,1093678169,m5))
endif
if((not J4)and(GetHeroLevel(it)>8)and(m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<80.)and(IsUnitInRange(it,m5,600.)))then
set J4=(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5])and(SD7(600.,b5,Condition(function YB7))>0)and(SZ7(it,852480,1093677649,m5))
endif
if((not J4)and(GetHeroLevel(it)>11)and(m5!=null)and(kq(GetUnitTypeId(m5))))then
set J4=SZ7(it,852095,1093816137,m5)
endif
if(GetUnitLifePercent(it)<85.)then
if((m5==null)and(GetUnitManaPercent(it)>70.)and(SD7(1200.,b5,Condition(function k6))==0))then
set m5=S77(600.,b5,Condition(function KA))
endif
set J4=(m5!=null)and(SZ7(it,852119,1093683019,m5))
endif
endif
elseif(i1==1332109682)then
if((G0[128+O5])and(SG7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and((GetUnitLifePercent(m5)<70.)or(GetUnitAbilityLevel(m5,1112432994)>0)or(Bz>hq[O5]))and(not IsUnitInRange(it,m5,300.))and(IsUnitInRange(it,m5,700.)))then
set J4=((SE7(800.,m5,Condition(function ZJ7))-SE7(800.,m5,Condition(function YB7)))<=1)and(S3F(it,m5))
endif
if(GetHeroLevel(it)>4)then
if((m5==null)and(G0[128+O5])and(GetUnitManaPercent(it)>40.))then
set m5=S77(800.,b5,Condition(function k6))
endif
else
call SetPlayerAbilityAvailable(pl,1093678134,false)
endif
if((not J4)and(m5!=null)and((GetHeroLevel(it)>5)or(R17(m5))))then
set J4=((GetUnitManaPercent(it)>30.)and(SZ7(it,852662,1093678134,m5)))or((GetUnitLifePercent(m5)<50.)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(SL7(it,852588,1093810505)))
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))then
set J4=(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(SD7(600.,b5,Condition(function YA7))>0)and(Kz(600.,b5)>1)and(SL7(it,852588,1093810505))
if(not J4)then
set m5=S97(800.,b5,Condition(function Y67))
set J4=((m5!=null)and(SE7(600.,it,Condition(function k6))>0)and(SL7(it,852588,1093810505)))
endif
endif
if((not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70.))and(IsUnitInRange(it,m5,300)))then
set J4=((GetUnitState(it,UNIT_STATE_MANA)>DOF(it,1093810505,GT7)+60)or(Bz+10<TC4[O5]))and(IssueImmediateOrderById(it,852164))
endif
if((not J4)and((GetUnitState(it,UNIT_STATE_MANA)>DOF(it,1093810505,GT7)+150))and(GetUnitAbilityLevel(it,1093808694)>1)and(SE7(400.,it,Condition(function WC7))>3))then
set J4=(IssueImmediateOrderById(it,852164))
endif
elseif(i1==1211117640)then
if(h4[16+O5]!=null)then
if((R37(h4[16+O5]))and(GetUnitAbilityLevel(h4[16+O5],1110454606)>0))then
set J4=(SAF(it,h4[16+O5]))or(IssueTargetOrderById(it,852089,h4[16+O5]))
call T4F(it,h4[16+O5])
else
set h4[16+O5]=null
endif
elseif((m5!=null)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,500.))and((GetHeroLevel(it)>4)))then
set J4=(GetUnitAbilityLevel(m5,1110454606)==0)and(GetUnitState(it,UNIT_STATE_MANA)>250.)and(Bz>hq[O5])and(SZ7(it,852486,1093681989,m5))
endif
if((not J4)and(GetHeroLevel(it)>11)and(Bz>hq[16+O5])and(SD7(I2R(270+(250*GetUnitAbilityLevel(it,1093679428))),b5,Condition(function k6))>0))then
set GZ[O5]=true
set J4=J8(O5,SL7(it,852594,1093679428))
endif
if((not J4)and(GetHeroLevel(it)>5)and((m5!=null)or(GetUnitLifePercent(it)<70.)))then
if((m5==null)or(IsUnitIllusion(m5)))then
if(SD7(800.,b5,Condition(function k6))==0)then
set m5=S77(500.,b5,Condition(function KA))
set J4=(m5!=null)and(GetUnitLifePercent(m5)>80.)and(SB7(it,852487,1093681987,1093677658,m5))
endif
elseif((IsUnitInRange(it,m5,400.))and((GetUnitLifePercent(m5)<50.)or(GetUnitAbilityLevel(m5,1110454606)>0)))then
set J4=SB7(it,852487,1093681987,1093677658,m5)
endif
if((not J4)and(iy(it)))then
call SetPlayerAbilityAvailable(pl,1093681987,true)
call SetPlayerAbilityAvailable(pl,1093677658,true)
endif
else
call SetPlayerAbilityAvailable(pl,1093681987,false)
call SetPlayerAbilityAvailable(pl,1093677658,false)
endif
elseif(i1==1430468406)then
call SetPlayerAbilityAvailable(pl,kT(it),(GetHeroLevel(it)>10)and((GetUnitManaPercent(it)>60.)or(m5!=null)))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=S77(1000.,b5,Condition(function k6))
endif
if((m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>40.))or(R67(m5,it))))then
set J4=SZ7(it,852218,kT(it),m5)
endif
if((not J4)and(GetHeroLevel(it)>5)and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(G0[128+O5]))then
set J4=(Kz(500.,b5)>1)and(hq[416+O5]>Bz)and(IssueImmediateOrderById(it,852556))
if((not J4)and(m5!=null)and(SG7(it,ZU[RW]))and(G0[128+O5])and(GetHeroLevel(it)>13)and(GetUnitLifePercent(it)>70.)and(GetUnitManaPercent(it)>30.))then
set h4[16+O5]=m5
set J4=S3F(it,m5)
endif
endif
elseif(i1==1160786241)then
if(GetUnitManaPercent(it)<50.)then
if(GetUnitAbilityLevel(it,1110455882)>0)then
call IssueImmediateOrderById(it,852178)
endif
call SetPlayerAbilityAvailable(pl,1093684805,false)
elseif((GetHeroLevel(it)>12)and(GetUnitManaPercent(it)>70.))then
call SetPlayerAbilityAvailable(pl,1093684805,true)
if((GetUnitAbilityLevel(it,1110455882)==0)and(hG[O5]>14)and(not D4 and not RZ4))then
call IssueImmediateOrderById(it,852177)
endif
endif
call SetPlayerAbilityAvailable(pl,1093684813,(m5==null)and(GetHeroLevel(it)>7)and(SD7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>70.))
if(m5!=null)then
set J4=((GetHeroLevel(it)>4)or(R67(m5,it)))and((((GetUnitCurrentOrder(m5)==851973)or(IsUnitInRange(it,m5,200.)))and(not IsUnitIllusion(m5))and(SZ7(it,852089,1093684815,m5)))or((GetUnitLifePercent(m5)<70.)and(SZ7(it,852119,1093684813,m5))))
if((not J4)and(GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not kr(it)))then
set UP=Kz(700.,SX7(m5))
if((UP>2)or((UP>1)and(SD7(700.,b5,Condition(function YA7))>0)))then
set J4=((SD7(700.,b5,Condition(function YA7))>0)and(SZ7(it,852119,1093684813,m5)))or(SB7(it,852597,1093684820,1093684824,m5))
endif
endif
endif
elseif(i1==1429221456)then
if((m5!=null)and(GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(Bz>hq[O5]))then
set UP=Kz(700.,SX7(m5))
if((UP>2)or((UP>1)and(SD7(730.,b5,Condition(function YB7))>0)))then
set J4=SB7(it,852089,1093685067,1093752407,m5)
endif
endif
elseif(i1==1160786243)then
call SetPlayerAbilityAvailable(pl,1093678672,GZ[O5])
set m5=S77(600.,b5,Condition(function Y67))
if(m5==null)then
set m5=S77(500.,b5,Condition(function YA7))
endif
set J4=(m5!=null)and(GetUnitLifePercent(m5)<60.)and(SD7(900.,b5,Condition(function k6))>0)and(IssueTargetOrderById(it,852248,m5))
set m5=h4[O5]
if((not J4)and(m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.)and(GetUnitLifePercent(it)>70.))then
set m5=S77(800.,b5,Condition(function k6))
endif
if(not J4)then
set J4=((GetUnitLifePercent(it)<65.)and(IssueTargetOrderById(it,852248,it)))or((m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))or(R67(m5,it)))and(IssueTargetOrderById(it,852248,m5)))
endif
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5))then
set UP=Kz(700.,SX7(m5))
if((UP>2)or(GetUnitLifePercent(m5)<50.)or((UP>1)and(SE7(700.,m5,Condition(function YB7))>0)))then
set GZ[O5]=true
set J4=J8(O5,SZ7(it,852224,1395667000,m5))
endif
if((not J4)and(R67(m5,it))and(GetHeroLevel(it)>10)and(GetUnitLifePercent(it)>60.)and(SE7(700.,m5,Condition(function YB7))>0))then
if((not IsUnitInRange(it,m5,250.))and(SG7(it,ZU[RW]))and(G0[128+O5])and(Bz>hq[16+O5]))then
set J4=S3F(it,m5)
endif
if(not J4)then
set GZ[O5]=true
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[O5])-GetUnitY(it),GetUnitX(h8[O5])-GetUnitX(it)))
call SetPlayerAbilityAvailable(pl,1093678672,true)
set J4=J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD)))
endif
endif
endif
elseif(i1==1160786242)then
call SetPlayerAbilityAvailable(pl,1093683287,(GetHeroLevel(it)>3)or((m5!=null)and(R67(m5,it))))
set J4=(m5!=null)and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.)and(IssueTargetOrderById(it,852662,m5))
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))then
set m5=Ie(bj_mapInitialPlayableArea,Condition(function k7))
set J4=(m5!=null)and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<50+(15*GetHeroLevel(it)))and(IssueImmediateOrderById(it,852490))
endif
if((not J4)and(Bz<=hq[240+O5])and((hq[240+O5]-Bz)<2.5)and(not IC(O5))and(not Id(O5)))then
set m5=S97(2500.,b5,Condition(function k7))
set J4=(m5!=null)and(R_7(m5,it))and(not IsUnitInRange(m5,it,800.))and((SE7(800.,m5,Condition(function k6))-SE7(800.,m5,Condition(function YB7))<=1))and(SE7(1000.,m5,Condition(function YR7))==0)and(IssueTargetOrderById(it,852185,m5))
endif
elseif((i1==1211117641)or(i1==1211117642))then
if(i1==1211117642)then
set J4=((not IsUnitInRange(it,M7[O5],3000.))and(IssueTargetOrderById(it,852553,M7[O5])))or(((eY[O5]==2)or(G0[16+O5]))and(SY7(it,851986,h9[O5])))
if((not J4)and(kA(it,M7[O5],800.)))then
call SY7(it,851986,h9[O5])
endif
set UP=1
else
set UP=0
endif
if(not J4)and(h4[O5]!=null)and(not EH9(m5))then
set J4=S0F(it,m5)
endif
if(not J4)then
if(h4[O5]!=null)and(EH9(m5))and(IsUnitInRange(it,m5,300))then
set J4=IssuePointOrderByIdLoc(it,852553,SX7(m5))
endif
if not J4 then
set XY7=ZQ7(300,it,Condition(function WC7))
set J4=(XY7!=null)and(GetUnitManaPercent(it)>=65.)and(GetHeroLevel(it)>=12)and(GetRandomReal(0,100)<=75 and IssuePointOrderByIdLoc(it,852553,SX7(m5)))
endif
endif
if((not J4)and(GetHeroLevel(it)>8)and(m5!=null)and(GetUnitAbilityLevel(m5,1110456120)==0))then
if((Kz(700.,SX7(m5))>1)or(SE7(500.,m5,Condition(function YB7))>UP))then
set J4=S0F(it,m5)
endif
endif
if((not J4)and(GetHeroLevel(it)>2)and(SD7(800.,b5,Condition(function Y67))>0))then
set m5=S77(800.,b5,Condition(function k6))
set J4=(m5!=null)and(S0F(it,m5))
endif
if(not J4)and(i1==1211117641)and(GetUnitManaPercent(it)>70)and(SD7(300.,SX7(it),Condition(function WC7))>2)then
set J4=IssuePointOrderByIdLoc(it,852553,SX7(m5))
endif
elseif(i1==1311781207)then
set J4=((GetUnitLifePercent(it)<80.)and(IssueTargetOrderById(it,852229,it)))or((m5!=null)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.)and(SZ7(it,852095,1093684817,m5)))
if((not J4)and(GetHeroLevel(it)>3))then
set m5=S77(800.,b5,Condition(function Y67))
if(m5==null)then
set m5=S77(600.,b5,Condition(function YA7))
endif
if((m5!=null)and(not IsUnitIllusion(m5)))then
set UP=R2I(GetUnitLifePercent(m5))
if((UP<50)and(GetHeroLevel(it)>10)and(Bz>hq[O5]))then
set J4=(SE7(800.,m5,Condition(function k6))>0)and((IssueTargetOrderById(it,852536,m5))or(IssueTargetOrderById(it,852229,m5)))
elseif(UP<70)then
set J4=(m5!=null)and(IssueTargetOrderById(it,852229,m5))
endif
elseif((GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>75.))then
set m5=S77(600.,b5,Condition(function Kd))
set J4=(m5!=null)and(SE7(300.,m5,Condition(function k8))>1)and(IssueTargetOrderById(it,852229,m5))
endif
endif
elseif(i1==1311780946)then
call SetPlayerAbilityAvailable(pl,1093677385,(GetHeroLevel(it)>7)and(GetUnitManaPercent(it)>55.))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
set m5=S77(700.,b5,Condition(function k6))
endif
if(m5!=null)then
set J4=(((GetUnitLifePercent(m5)<50.)or(IsUnitInRange(it,m5,250.)))and(SZ7(it,852488,1093685825,m5)))or((SE7(300.,it,Condition(function G_8))>1)and(SL7(it,852526,1093810232)))
if((not J4)and((GetUnitCurrentOrder(m5)==851973)or(IsUnitInRange(it,m5,300.))or(GetUnitLifePercent(m5)<50.)))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))
call SetPlayerAbilityAvailable(pl,1093677385,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852238,GetUnitX(m5)+150.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+150.*Sin(UP*bj_DEGTORAD)))
endif
endif
if(not J4)then
set m5=S97(700.,b5,Condition(function Y67))
set J4=(m5!=null)and(SE7(400.,m5,Condition(function k6))>0)and(SZ7(it,852488,1093685825,m5))
endif
if((not J4)and(GetHeroLevel(it)>9)and((eY[O5]==3)or(eY[O5]==4)or(GetUnitManaPercent(it)>60.)))then
set m5=S97(700.,b5,Condition(function k8))
set J4=(m5!=null)and(SE7(300.,m5,Condition(function k8))>2)and(SE7(400.,it,Condition(function G_8))>2)and(SL7(it,852526,1093810232))
endif
if((not J4)and(is(it))and(GetHeroLevel(it)>9))then
set UP=R2I(Q17(it,S57(it)))
if((UP>2000)and(UP<3500)and(eY[O5]==1)and(GetUnitAbilityLevel(it,1093685808)>1))then
if(h8[16+O5]==h7[14])then
set J4=SNF(0)
elseif(h8[16+O5]==h7[35])then
set J4=SNF(1)
elseif(h8[16+O5]==h7[55])then
set J4=SNF(2)
endif
elseif(((eY[O5]==3)or(eY[O5]==4))and(UP>5000)and(SD7(1200.,b5,Condition(function k6))==0))then
set J4=SNF(3)
endif
endif
elseif((i1==1211117650)or(i1==1211119433))then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
set m5=S97(700.,b5,Condition(function k6))
endif
if((h4[O5]!=null)or R67(it,m5))and(IsUnitInRange(it,m5,300.))then
set J4=(Bz>TC4[O5])and(SL7(it,852180,1093743946))
endif
if(not J4)and(Bz>TC4[48+O5])and((GZ[208+O5])or(GetUnitState(it,UNIT_STATE_MANA)>300.)or(h4[O5]!=null))then
set IN4=it
set XY7=(ZQ7(225+175*GetUnitAbilityLevel(it,1093743958),it,Condition(function k6)))
set NX7=SE7(25+200+200*GetUnitAbilityLevel(it,1093743958),it,Condition(function k6))
set bj_forLoopAIndex=SD7(25+200+200*GetUnitAbilityLevel(it,1093743958),b5,Condition(function GR8))
if((NX7>=1+OV7(SE7(800,it,Condition(function X47))>=3,2,0)and(bj_forLoopAIndex>=R2I((10-0.1*GetUnitLifePercent(it)))or SE7(800,it,Condition(function X47))>=3))and h4[O5]!=null)then
set J4=(SE7(800,it,Condition(function X47))>=2 or(GetWidgetLife(XY7)<=400. or GetUnitLifePercent(XY7)<=30.))and SA7(it,852662,1093743958,b5)
endif
endif
if(not J4)and(Bz>TC4[32+O5])then
set IN4=it
set UP=SD7(1000.,b5,Condition(function ny))
if((not J4)and(UP>=4)and(h4[O5]!=null)and(GetUnitLifePercent(it)>50.))then
set m5=h4[O5]
set J4=(((GetHeroLevel(it)>4)and(GetUnitLifePercent(m5)<70.))or(R67(m5,it)))and(IssueTargetOrderById(it,852669,m5))
endif
if((not J4)and(UP>=4)and(GetUnitManaPercent(it)>40.))then
set m5=S77(800.,b5,Condition(function Y67))
if(m5==null)then
set m5=S77(600.,b5,Condition(function YA7))
endif
set J4=(m5!=null)and(((GetHeroLevel(it)>4)and(GetUnitLifePercent(m5)<70.))or(R17(m5)))and(IssueTargetOrderById(it,852669,m5))
endif
if(not J4)then
set J4=(UP>=3)and(GetUnitLifePercent(it)<75.)and(IssueTargetOrderById(it,852669,it))
endif
endif
if(not J4)and((h4[O5]!=null)or(GetUnitState(it,UNIT_STATE_MANA)>400)or R17(m5))and(GetUnitState(it,UNIT_STATE_MANA)>200)then
set J4=(Bz>TC4[16+O5])and(SZ7(it,852089,1093743955,h4[O5]))
endif
elseif(i1==1211119187)then
if(not J4)and(GetUnitLevel(it)>5)and(Bz>TC4[O5])and(h4[O5]!=null)then
if(not J4)and(LM7(it,h4[O5],650.,0.5,1300.)!=null)then
if((R67(it,h4[O5])or GetUnitLifePercent(h4[O5])<50.)and(Q07(GetUnitX(it),GetUnitY(it),GetLocationX(GO7),GetLocationY(GO7))>600.))then
set J4=SA7(it,852662,1093742923,GO7)
endif
endif
if(not J4)then
set m5=ZZ7(it)
if(m5!=null)and(LM7(it,m5,650.,0.5,1300.)!=null)and(Q07(GetUnitX(it),GetUnitY(it),GetLocationX(GO7),GetLocationY(GO7))>600.)then
set J4=SA7(it,852662,1093742923,GO7)
endif
endif
if(not J4)then
set m5=h4[O5]
if(m5==null)then
set m5=ZO7(1500.,it)
endif
if(m5!=null)and(GZ[208+O5]or(GetUnitLifePercent(it)<50.)or((GetUnitLifePercent(m5)<50)and(LM7(it,m5,650.,0.5,1300.)!=null)and(Q07(GetUnitX(it),GetUnitY(it),GetLocationX(GO7),GetLocationY(GO7))>600.)))then
set J4=SA7(it,852662,1093742923,SX7(m5))
if J4 then
call LSE(O5,m5,false,false)
endif
endif
endif
endif
set m5=h4[O5]
if m5==null then
set m5=ZO7(1300.,it)
endif
if(not J4)and(not IsUnitIllusion(m5))and(Bz>TC4[32+O5])and((Bz>TC4[16+O5])or(GetUnitAbilityLevel(it,1093742926)<=1)or(GetUnitState(it,UNIT_STATE_MANA)<=120.))and((h4[O5]!=null and GetUnitLifePercent(h4[O5])<50.)or((m5!=null)and(R17(m5))))then
set J4=IssueTargetOrderById(it,852581,m5)
if J4 then
call LSE(O5,m5,false,false)
endif
endif
if(not J4)and(Bz>TC4[16+O5])and(TC4[32+O5]>Bz+2. or(GetUnitAbilityLevel(it,1093743414)>1 and h4[O5]==null)or(h4[O5]!=null and GetUnitLifePercent(h4[O5])>80.)or(GetUnitAbilityLevel(it,1093742926)<=1))and(m5!=null)and((h4[O5]!=null)or(R67(m5,it))or((GetUnitManaPercent(it)>50.)and(GetUnitLifePercent(m5)<70. or GetUnitState(it,UNIT_STATE_MANA)>400.)))then
if LO7(it,m5,2.,1500.)!=null then
set J4=SA7(it,852089,1093743414,GO7)
set h4[16+O5]=m5
endif
endif
elseif(i1==1211117646)then
call SetPlayerAbilityAvailable(pl,1093685573,(GetHeroLevel(it)>6)and(GetUnitManaPercent(it)>70.)and(SD7(700.,b5,Condition(function k6))==0))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
set m5=S97(700.,b5,Condition(function k6))
endif
if((m5!=null)and((GetUnitLifePercent(m5)<60.)or((GetHeroLevel(it)>4)and((GetUnitManaPercent(it)>60.)or(SE7(600.,m5,Condition(function YA7))>0)))))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))
call SetPlayerAbilityAvailable(pl,1093685573,true)
set J4=IssuePointOrderById(it,852089,GetUnitX(m5)+(50.+100.*GetUnitAbilityLevel(it,1093685573))*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+(50.+100.*GetUnitAbilityLevel(it,1093685573))*Sin(UP*bj_DEGTORAD))
endif
if((not J4)and(GetHeroLevel(it)>6)and(GetUnitManaPercent(it)>50.)and(GetRandomInt(1,4)==1))then
set m5=S77(700.,b5,Condition(function Kd))
set J4=(m5!=null)and(GetUnitLifePercent(m5)>65.)and(IsUnitType(m5,UNIT_TYPE_MELEE_ATTACKER))and(SE7(250.,m5,Condition(function k8))>2)and(IssueTargetOrderById(it,852095,m5))
endif
if(not J4)then
set m5=S97(700.,b5,Condition(function Y67))
set J4=(m5!=null)and(SE7(250.,m5,Condition(function k6))>0)and(SZ7(it,852101,1093685815,m5))
endif
if(not J4)then
set m5=S97(700.,b5,Condition(function k7))
if(m5!=null)then
set m5=S97(700.,SX7(m5),Condition(function YA7))
set J4=((m5!=null)and(IsUnitAlly(m5,GetOwningPlayer(it)))and(SZ7(it,852101,1093685815,m5)))or(SZ7(it,852101,1093685815,it))
endif
endif
if((not J4)and(GetHeroLevel(it)>14.)and(Bz>hq[O5])and(hq[416+O5]>Bz))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
set m5=S97(1000.,b5,Condition(function k7))
if(m5!=null)then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))
set J4=IssuePointOrderById(it,852190,GetUnitX(m5)+300*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+300*Sin(UP*bj_DEGTORAD))
else
set m5=S97(1000.,b5,Condition(function k6))
if(m5!=null)then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h9[16+O5])-GetUnitY(m5),GetUnitX(h9[16+O5])-GetUnitX(m5)))
set J4=IssuePointOrderById(it,852190,GetUnitX(m5)+300*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+300*Sin(UP*bj_DEGTORAD))
endif
endif
endif
endif
elseif(i1==1211117624)then
call SetPlayerAbilityAvailable(pl,1093683024,(GetHeroLevel(it)>10)and((GetUnitManaPercent(it)>70.)or(m5!=null)))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
set m5=S97(700.,b5,Condition(function k6))
endif
set J4=(m5!=null)and((IsUnitInRange(it,m5,600.))and((R67(m5,it))or(GetUnitState(it,UNIT_STATE_MANA)>100 and GetUnitManaPercent(it)>40)or(GetUnitLifePercent(m5)<60))and(SL7(it,852526,1093683024)))
set J4=(m5!=null)and(((GetUnitLifePercent(m5)<40.)or((GetUnitAbilityLevel(m5,1110454869)==0)and(hq[416+O5]>Bz)))and(IssueTargetOrderById(it,852600,m5)))
elseif(i1==1160785973)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=S77(600.,b5,Condition(function k6))
if((m5==null)and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>30.)and(SG7(it,ZU[RW])))then
set m5=S77(1200.,b5,Condition(function k6))
endif
endif
if(m5!=null)then
if((GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(G0[128+O5]))then
if(IsUnitInRange(m5,it,500.))then
set UP=SD7(700.,b5,Condition(function k8))-SD7(700.,b5,Condition(function k6))
set J4=(UP<2)and(GetUnitAbilityLevel(m5,1110454580)==0)and(IssueImmediateOrderById(it,852600))
if J4 then
call TriggerSleepAction(0)
call SZ7(it,852231,1093678130,m5)
endif
elseif((SG7(it,ZU[RW]))and(G0[128+O5])and(IsUnitInRange(m5,it,1000.))and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>30.))then
set UP=SE7(700.,m5,Condition(function k8))-SE7(700.,m5,Condition(function k6))
set h4[16+O5]=m5
set J4=(UP<2)and(GetUnitAbilityLevel(m5,1110454580)==0)and(S3F(it,m5))
endif
endif
if((not J4)and(R67(m5,it)))then
set J4=(SZ7(it,852231,1093678130,m5))
endif
if((not J4)and(GetHeroLevel(it)>20))then
set J4=(GetUnitState(it,UNIT_STATE_MANA)>450.)and(SZ7(it,852231,1093678130,m5))
endif
endif
elseif(i1==1315988077)then
if((G0[128+O5])and(SG7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.)))then
set J4=((SE7(800.,m5,Condition(function ZJ7))-SE7(800.,m5,Condition(function YB7)))<=1)and(S3F(it,m5))
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>2))then
set J4=((R67(m5,it))and(SZ7(it,852585,1097032808,m5)))or((IsUnitInRange(it,m5,200.))and(SL7(it,852096,1093678669)))
endif
call SetPlayerAbilityAvailable(pl,1093678669,(GetHeroLevel(it)>12)and(SD7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))
if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(G0[128+O5]))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
set m5=S97(800.,b5,Condition(function k6))
if(m5!=null)then
set J4=((kq(GetUnitTypeId(m5)))and(SZ7(it,852585,1097032808,m5)))or((IsUnitInRange(it,m5,200.))and(SL7(it,852096,1093678669)))
endif
endif
endif
elseif(i1==1211117616)then
if((G0[128+O5])and(SG7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.)))then
set J4=((SE7(800.,m5,Condition(function ZJ7))-SE7(800.,m5,Condition(function YB7)))<=1)and(S3F(it,m5))
endif
if((not J4)and(m5!=null)and IsUnitInRange(it,m5,500))then
set J4=((GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.)and((GetUnitState(m5,UNIT_STATE_LIFE)+1000.)<GetUnitState(it,UNIT_STATE_LIFE))and(SZ7(it,852231,1093816142,m5)))or((IsUnitInRange(it,m5,200.))and(GetHeroLevel(it)>3)and(SL7(it,852127,1093677139)))
elseif(not J4)and(m5==null or(not IsUnitInRange(it,m5,800)))then
set XY7=XG7(300,190,it,0,Condition(function WC7),Condition(function WT7))
set J4=(XY7!=null)and(GetUnitLifePercent(it)>=70. or GetWidgetLife(it)>950.)and(GetHeroLevel(it)>=4)and(GetRandomReal(0,100)<=40 and SZ7(it,852231,1093816142,XY7))
endif
call SetPlayerAbilityAvailable(pl,1093677139,(GetHeroLevel(it)>12)and(SD7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))
if(not J4)then
set XY7=S97(800.,b5,Condition(function WL7))
if(GetUnitLifePercent(it)<20.)or(((G0[256+O5])and GetUnitState(it,UNIT_STATE_LIFE)>=300. and XY7!=null and GetUnitLifePercent(XY7)<=70.))then
set J4=IssueImmediateOrderById(it,852526)
if(h4[O5]==null or(not IsUnitInRange(it,h4[O5],1500)))and GetUnitLifePercent(it)>30. then
set h4[O5]=OR7(((m5!=null or XY7==null)and(IsUnitInRange(m5,it,1000))and(GetUnitState(m5,UNIT_STATE_LIFE)<GetUnitState(XY7,UNIT_STATE_LIFE))),m5,XY7)
endif
endif
endif
elseif(i1==1315074670)then
if((m5!=null)and(GetUnitManaPercent(it)>60.)and(kP(GetUnitTypeId(m5)))and(GetUnitCurrentOrder(it)!=851983))then
set J4=SZ7(it,852592,1093685570,m5)
endif
if((m5==null)and(not J4)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=S77(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(not IsUnitInRange(it,m5,550.))and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and(SZ7(it,852243,1093677622,m5))
if((not J4)and(SG7(it,ZU[C0]))and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>50.)and(G0[128+O5]))then
if((m5==null)and(GetUnitLifePercent(it)>70.))then
if((eY[O5]==9)and(h4[144+O5]!=null)and(R37(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))then
set m5=h4[144+O5]
else
set m5=S77(1500.,b5,Condition(function KK))
endif
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(not kD(m5))and(not SG7(m5,ZU[EW]))and(GetUnitTypeId(m5)!=1212365106)and(not IsUnitInRange(it,m5,800.))and(IsUnitInRange(it,m5,1500.))and(SE7(600.,m5,Condition(function Y57))>0)or((GetUnitLifePercent(m5)<75.)and(SE7(1000.,m5,Condition(function YR7))==0)))then
set h4[288+O5]=m5
set GZ[272+O5]=true
set J4=UnitUseItem(it,SK7(it,ZU[C0]))
set GZ[272+O5]=J4
endif
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
call SetPlayerAbilityAvailable(pl,1093677894,(GetHeroLevel(it)>6)and(GetUnitManaPercent(it)>60.))
if((m5==null)and(G0[128+O5]))then
if(i1!=1215063922)then
set m5=S77(1000.,b5,Condition(function k6))
call LSE(O5,m5,false,false)
elseif((GetHeroLevel(it)>3)and(GetUnitManaPercent(m5)>70.))then
set m5=S77(700.,b5,Condition(function k6))
endif
endif
set J4=(m5!=null)and((GetUnitLifePercent(m5)<60)or(h4[O5]!=null))and(SZ7(it,852095,1093681490,m5))
set J4=(m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>40.))or(R17(m5)))and(SZ7(it,852580,1093677894,m5))
if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(900.,it,Condition(function k6))
set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(SL7(it,852180,1093677895))
endif
endif
elseif(i1==1164207469)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>5))then
set m5=S77(800.,b5,Condition(function k6))
endif
if((m5!=null)and(GetHeroLevel(it)>5))then
set IJ4=0.35+0.25*GetUnitAbilityLevel(it,1093682483)
if(not IsUnitIllusion(m5))and(not IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))and(GetWidgetLife(m5)<0.75*IJ4*(GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA)))then
set J4=(not ke(m5))and(SZ7(it,852095,1093682483,m5))
endif
if((not J4)and(GetUnitLifePercent(m5)<70.)and(G0[128+O5])and(not IsUnitInRange(m5,it,300.))and(GetUnitLifePercent(it)>70.)and(SE7(800.,m5,Condition(function YR7))==0)and((SE7(800.,m5,Condition(function ZJ7))-SE7(800.,m5,Condition(function YB7)))<=1))then
set U0F=kL(it,m5,200.)
set J4=(U0F!=null)and(IssuePointOrderByIdLoc(it,852525,U0F))
endif
endif
if((not J4)and(GetHeroLevel(it)>11.)and(GetUnitManaPercent(it)>70.)and(iy(it))and(SD7(1400.,b5,Condition(function Ky))==0)and(eY[O5]==1))then
set U0F=kk(it,800.,h8[O5])
set J4=(U0F!=null)and(IssuePointOrderByIdLoc(it,852525,U0F))
endif
elseif(i1==1433631084)then
call SetPlayerAbilityAvailable(pl,1093678644,(GetHeroLevel(it)>7)and(GetUnitManaPercent(it)>70.))
if((GetHeroLevel(it)>5)and(Bz>hq[O5]))then
if(m5==null)then
set m5=S77(1200.+(500.*GetUnitAbilityLevel(it,1093678160)),b5,Condition(function k7))
endif
set J4=(m5!=null)and(not IsUnitIllusion(m5))and(not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(200+(150*GetUnitAbilityLevel(it,1093678160))))and(SZ7(it,852095,1093678160,m5))
if((not J4)and(hq[416+O5]>Bz)and(GetHeroLevel(it)>10)and(SD7(800.,b5,Condition(function YB7))>0))then
if(m5==null)then
set m5=S77(1200.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(not IsUnitIllusion(m5))and(SZ7(it,852095,1093678160,m5))
endif
endif
elseif(i1==1214345830)then
call SetPlayerAbilityAvailable(pl,1093679190,SD7(1000.,b5,Condition(function k6))>0)
set m5=S77(800.,b5,Condition(function Y67))
if(m5==null)then
set m5=S77(600.,b5,Condition(function YA7))
endif
if((m5!=null)and(GetUnitLifePercent(m5)<70.))then
set J4=(((GetHeroLevel(it)>4)or(R67(m5,it)))and(SZ7(it,852225,1093679182,m5)))or((GetUnitLifePercent(m5)<40.)and(SE7(600.,m5,Condition(function k6))>0)and(SZ7(it,852186,1093679190,m5)))
endif
if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(G0[128+O5]))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
set J4=(m5!=null)and(GetUnitLifePercent(m5)<60.)and(SE7(600.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852599))
endif
endif
if(not J4)then
set J4=(GetUnitLifePercent(it)<75.)and(SZ7(it,852225,1093679182,it))
endif
if((not J4)and(GetHeroLevel(it)>10))then
set m5=S77(450.,b5,Condition(function YR7))
if((m5!=null)and(GetUnitLifePercent(m5)<30.)and(GetUnitLifePercent(m5)>10.))then
set J4=(SD7(600.,b5,Condition(function KC))>4)and(IssueImmediateOrderById(it,852599))
endif
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
if((m5==null)and(G0[128+O5]))then
set m5=S77(700.,b5,Condition(function k6))
if(GetUnitAbilityLevel(it,1110454338)>0 or R67(it,m5))then
call LSE(O5,m5,false,false)
endif
endif
if(not J4)and(h4[O5]!=null)then
if(i1==1311781174)then
set J4=(IsUnitInRange(it,h4[O5],500.)and(SL7(it,852526,1093748042)))
else
set J4=(IsUnitInRange(it,h4[O5],200.)and(SL7(it,852526,1093748042)))
endif
endif
if(not J4)and(h4[O5]!=null)then
if(i1==1311781174)then
set J4=SZ7(it,852218,1093808461,m5)
else
set J4=(IsUnitInRange(it,h4[O5],400.)and(SL7(it,852096,1093808462)))
endif
endif
if(not J4)then
if(m5!=null)and(IsUnitInRange(it,m5,200.))then
if(i1==1311781174)then
set J4=(SL7(it,852138,1093681733))
if J4 then
set i1=1311781175
endif
endif
elseif(m5!=null)and((GetUnitLifePercent(m5)<15.)or((not G0[256+O5])and(P37(it)<2000.)))then
if(i1!=1311781174)then
set J4=(SL7(it,852139,1093681733))
if J4 then
set i1=1311781174
endif
endif
elseif(h4[O5]!=null)and(not IsUnitInRange(it,m5,200.))and(Bz>TC4[32+O5])then
if(i1!=1311781174)then
set J4=(SL7(it,852139,1093681733))
if J4 then
set i1=1311781174
endif
endif
elseif(GetHeroLevel(it)>=6 or h4[O5]!=null)and(SP7(it,ZU[D0]))then
set J4=(i1==1311781174)and(SL7(it,852138,1093681733))
else
set J4=(i1!=1311781174)and(SL7(it,852139,1093681733))
endif
endif
elseif(i1==1315007329)then
set J4=GetUnitAbilityLevel(it,1110455864)>0
if((m5==null)or(GetUnitLifePercent(m5)>50.))then
set m5=K3(1000.,it,Condition(function k6))
endif
if((not J4)and(m5!=null))then
set J4=(((GetUnitState(m5,UNIT_STATE_LIFE)<hq[272+O5])or((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>55.)))and(SZ7(it,852095,1093677108,m5)))or((GetUnitAbilityLevel(m5,1110454348)==0)and((GetUnitLifePercent(m5)<75.)or((GetHeroLevel(it)>11)and(GetUnitState(it,UNIT_STATE_MANA)>250.)))and(not IsUnitIllusion(m5))and(SZ7(it,852149,1093681716,m5)))
endif
if((not J4)and(GetHeroLevel(it)>8)and(G0[128+O5])and(Bz>hq[O5]))then
if((m5==null)and(GetUnitLifePercent(it)>70.))then
if((eY[O5]==9)and(h4[144+O5]!=null)and(R37(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))then
set m5=h4[144+O5]
else
set m5=S97(1500.,b5,Condition(function KK))
endif
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(not kD(m5))and(GetUnitTypeId(m5)!=1212365106)and((not IsUnitInRange(it,m5,600.))or(not IsUnitVisible(it,GetOwningPlayer(m5))))and(IsUnitInRange(it,m5,1500.))and((GetUnitLifePercent(m5)<70.)or(SE7(650.,m5,Condition(function Y57))>0)))then
set h4[288+O5]=m5
set J4=(SE7(800.,m5,Condition(function YR7))==0)and(IssueImmediateOrderById(it,852129))
endif
endif
elseif(i1==1332898670)then
call SetPlayerAbilityAvailable(pl,1093677360,(GetHeroLevel(it)>7)and(GetUnitManaPercent(it)>60.))
if((m5==null)and(G0[128+O5]))then
set m5=S77(900.,b5,Condition(function k6))
endif
if((m5!=null)and((R67(m5,it))or((GetUnitLifePercent(m5)<70.)and(SE7(500.,m5,Condition(function YA7))>0))))then
set J4=(IsUnitInRange(it,m5,400)or EH9(m5))and(SZ7(it,852480,1093677136,m5))
endif
if((not J4)and(m5!=null)and((GetHeroLevel(it)>3)or(R67(m5,it))))then
set J4=((GetUnitLifePercent(m5)<70.)and(Bz>hq[O5])and(not IsUnitIllusion(m5))and(SZ7(it,852502,1093685848,m5)))or((GetUnitManaPercent(it)>60.)and(SZ7(it,852587,1093677360,m5)))
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
if((m5==null)or(GetUnitCurrentOrder(m5)!=851973)or(not IsUnitInRange(it,m5,500.)))then
set m5=S77(900.,b5,Condition(function KM))
endif
if(m5!=null)then
set GZ[O5]=true
set J4=J8(O5,SB7(it,852504,1093677128,1093681457,m5))
endif
endif
if((not J4)and(GetHeroLevel(it)>17)and(Bz>hq[O5]))then
set m5=S97(900.,b5,Condition(function YR7))
if((m5!=null)and(GetUnitLifePercent(m5)<55.)and(GetUnitLifePercent(m5)>15.)and(SE7(800.,m5,Condition(function KC))>2))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))
set GZ[O5]=true
call SetPlayerAbilityAvailable(pl,1093677128,true)
call SetPlayerAbilityAvailable(pl,1093681457,true)
set J4=IssuePointOrderById(it,852504,GetUnitX(m5)+300.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+300.*Sin(UP*bj_DEGTORAD))
set GZ[O5]=false
endif
endif
elseif(i1==1215723364)then
call SetPlayerAbilityAvailable(pl,1093744463,GetUnitManaPercent(it)>60.)
if((m5!=null)and((GetHeroLevel(it)>4)or(R67(m5,it))))then
set J4=SZ7(it,852095,1093677633,m5)
if((not J4)and(GetUnitLifePercent(m5)<60.)and(not IsUnitIllusion(m5))and(kA(it,m5,600.)))then
set J4=SB7(it,852587,1093683534,1093747031,m5)
endif
endif
if((not J4)and(Bz>hq[O5])and(Bz>hq[16+O5])and(G0[128+O5])and(GetHeroLevel(it)>10)and(GetUnitLifePercent(it)>80.)and(SD7(400.,b5,Condition(function YB7))>0))then
if(m5==null)then
set m5=K3(1000.,it,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<70.)and(not IsUnitInRange(it,m5,500.)))then
if((SE7(500.,m5,Condition(function k6))<=2)and(SD7(500.,b5,Condition(function k6))==0))then
set J4=SB7(it,852587,1093683534,1093747031,m5)
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>12)and(GetUnitLifePercent(it)>60.))then
set J4=(SD7(700.,b5,Condition(function k6))>0)and(SD7(700.,b5,Condition(function YB7))>0)and(SZ7(it,OrderId("volcano"),1093744463,m5))
endif
elseif(i1==1215128178)then
set VFF=.03+.02*GetUnitAbilityLevel(it,1093684789)
set VDF=(GetHeroLevel(it))
set V8F=GetUnitAbilityLevel(it,1093677616)
set XY7=ZQ7(750,it,Condition(function WC7))
set m5=ZQ7(850,it,Condition(function k6))
set V9F=VFF*GetWidgetLife(XY7)
if XY7==null or(GetWidgetLife(XY7)>70+V8F*15+OB7(V8F==4,15,0)+V9F+GetRandomReal(0,25))then
set XY7=OR7(m5!=null,m5,XY7)
endif
if VDF<=8 then
set VEF=PL7(it,70.,200,NB7)and((XY7!=null and IsUnitType(XY7,UNIT_TYPE_HERO)==false and GetWidgetLife(XY7)<=125.)or(m5!=null and(GetUnitLifePercent(m5)<=30 or GetWidgetLife(m5)<300.)))
else
set V9F=VFF*GetWidgetLife(m5)
set VEF=(PL7(it,50.,500,NB7)and(SE7(1000,it,Condition(function WC7))>2 or SE7(800,it,Condition(function k6))>=1))or((m5!=null)and((GetUnitState(it,UNIT_STATE_MANA)>60+5*V8F and GetWidgetLife(m5)<=V9F+70+V8F*15+OB7(V8F==4,15,0)+GetRandomReal(200,400))or(GetUnitState(it,UNIT_STATE_MANA)>=60+5*V8F+55+20*GetUnitAbilityLevel(it,1093683779)and GetWidgetLife(m5)<=600)))
endif
call SetPlayerAbilityAvailable(pl,1093677616,(GetHeroLevel(it)>=3)and VEF)
if(GetUnitLifePercent(m5)<30. or GetWidgetLife(m5)<300.)and XY7!=m5 then
set XY7=m5
endif
if XY7==null then
set XY7=ZQ7(650,it,Condition(function WC7))
endif
set J4=VEF and(XY7!=null)and IssueTargetOrderById(it,852119,XY7)
set m5=ZQ7(850,it,Condition(function k6))
set UP=GetUnitAbilityLevel(it,1093810503)
if(UP==0)then
set UP=GetUnitAbilityLevel(it,1093810504)+1
endif
set EJ7=90+(120*UP)
if((GetHeroLevel(it)>5)and(Bz>hq[O5])and((Ie(bj_mapInitialPlayableArea,Condition(function SLF))!=null)or(PT4)))then
set GZ[O5]=true
call SetPlayerAbilityAvailable(pl,1093810504,true)
set J4=(not J4)and J8(O5,SL7(it,852164,1093810503))
endif
if((not J4)and(GetHeroLevel(it)>4))then
if((m5==null)and(G0[128+O5]))then
set m5=S77(1000.,b5,Condition(function k6))
endif
set J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(R67(m5,it)))and(SZ7(it,852095,1093683779,m5))
endif
elseif(i1==1164799855)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=S77(800.,b5,Condition(function k6))
endif
set J4=((GetUnitLifePercent(it)<60.)and(SL7(it,852556,1093677378)))or((m5!=null)and(GetUnitLifePercent(m5)<50.)and(SZ7(it,852075,1093682264,m5)))or((m5!=null)and(GetUnitAbilityLevel(it,1093682265)>0)and(not IsUnitInRange(it,m5,550.))and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and(SZ7(it,852254,1093682265,m5)))or((m5!=null)and(GetUnitAbilityLevel(it,1093752642)>0)and(not IsUnitInRange(it,m5,700.))and(GetUnitManaPercent(it)>55.)and(GetRandomInt(1,2)==1)and(SZ7(it,852254,1093752642,m5)))
elseif(i1==1433105516)then
if((not J4)and(GetHeroLevel(it)>3))then
set J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(R67(m5,it)))and(IssueTargetOrderById(it,852662,m5))
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>7)and(((GetUnitLifePercent(m5)<75.)and(Bz>hq[O5]))or((GetUnitLifePercent(m5)<50.)and(Bz>hq[16+O5])))and(not kr(it))and(G0[128+O5]))then
set J4=(Kz(400.,SX7(m5))>0)and(IssuePointOrderById(it,852600,GetUnitX(m5),GetUnitY(m5)))
endif
if((not J4)and(GetHeroLevel(it)>10.)and(Bz>hq[O5])and(hq[416+O5]>Bz))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
set m5=S97(800.,b5,Condition(function k6))
if(m5!=null)then
set UP=SE7(400.,m5,Condition(function k6))
set J4=((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and(IssuePointOrderById(it,852600,GetUnitX(m5),GetUnitY(m5)))
endif
endif
endif
if((not J4)and(GetUnitAbilityLevel(it,1093744688)>0)and(GetUnitManaPercent(it)>50.)and GZ[O5])then
if(GetUnitAbilityLevel(it,1093744688)>1)then
set m5=S77(600.,b5,Condition(function KD))
set J4=(m5!=null)and(IssueTargetOrderById(it,OrderId("thunderbolt"),m5))
elseif(GetUnitManaPercent(it)>70.)then
set m5=S77(600.,b5,Condition(function KD))
set J4=(m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)<150.)and(IssueTargetOrderById(it,OrderId("thunderbolt"),m5))
endif
endif
if((not J4)and(GetUnitAbilityLevel(it,1093681713)>0)and(GetUnitManaPercent(it)>50.))then
set m5=S97(500.,b5,Condition(function k6))
set J4=(m5!=null)and(SZ7(it,OrderId("channel"),1093681713,m5))
endif
endif
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
if(not J4)and((i1==1214409837)and(GetHeroLevel(it)>=6)and(Bz>TC4[O5])and(h4[O5]!=null))then
set J4=SL7(it,852180,1093742932)
if J4 then
set i1=1211119192
call QA7(0.3)
set J4=false
endif
endif
if((not J4)and(GetHeroLevel(it)>5))then
set bj_lastLoadedUnit=m5
set m5=Ie(bj_mapInitialPlayableArea,Condition(function Y67))
if(m5!=null)and(GetUnitLifePercent(m5)<30)and(RY7(m5))and(Q17(m5,S57(m5))>Q17(it,S57(it))+1500.)and(SE7(750.,m5,Condition(function k6))==0)and(not SG7(m5,ZU[QC]))then
set J4=(i1!=1214409837 or SL7(it,852180,1093742932))and(IssueTargetOrderById(it,852248,m5))
if J4 then
call QA7(1.0)
call LPE(it,true)
endif
endif
set m5=bj_lastLoadedUnit
endif
if((not J4)and(h4[O5]!=null)and(Bz>TC4[32+O5]))then
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110455126)==0)and(not Q37(m5,it,30)or R17(m5))and(SZ7(it,852662,1093742680,m5))
endif
if((not J4)and(GetUnitManaPercent(it)>40.))then
set m5=S77(700.,b5,Condition(function YA7))
set J4=(m5!=null)and(GetUnitManaPercent(m5)<75.)and(SZ7(it,OrderId("acolyteharvest"),1093742898,m5))
endif
if((not J4)and((GetUnitManaPercent(it)<50.)))then
set J4=SZ7(it,OrderId("acolyteharvest"),1093742898,it)
endif
if((not J4)and(G0[128+O5])and(GetUnitAbilityLevel(it,1093679157)>1)and((GetUnitManaPercent(it)>30.)or((SD7(1300.,b5,Condition(function k6))<=1)and((GetUnitState(it,UNIT_STATE_MANA)>150+DOF(it,1093742898,GT7))and(Bz>TC4[48+O5]))))and(Bz>TC4[16+O5])and((i1!=1214409837)or(((SD7(300.,b5,Condition(function k8))<=2)and(SD7(800.,b5,Condition(function W67))>2))and((SD7(500.,b5,Condition(function k6))==0)or(SD7(400.,b5,Condition(function Y57))>0)))))then
set m5=h4[O5]
if m5==null then
set m5=S77(1300.,SX7(it),Condition(function k6))
endif
if m5==null then
set m5=S77(1300.,SX7(it),Condition(function WC7))
endif
if m5!=null then
set EJ7=Q77(it,m5)
if(IsUnitType(m5,UNIT_TYPE_HERO)and((not RB7(it))or EH9(m5))and GetUnitLifePercent(m5)>30)or(h4[O5]==null)then
set EJ7=Q77(it,m5)
if(not LH7(it,m5,GetUnitX(it)+1300.*Cos(EJ7*bj_DEGTORAD),GetUnitY(it)+1300.*Sin(EJ7*bj_DEGTORAD),400,Condition(function k8)))and(bj_forLoopAIndex>2)then
set J4=IssuePointOrderById(it,852218,GetUnitX(it)+150.*Cos(EJ7*bj_DEGTORAD),GetUnitY(it)+150.*Sin(EJ7*bj_DEGTORAD))
endif
endif
endif
endif
if((not J4)and(h4[O5]!=null)and(i1!=1214409837))then
set EJ7=GetUnitFacing(m5)
set J4=(m5!=null)and(IssuePointOrderById(it,852089,GetUnitX(m5)+200.*Cos(EJ7*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(EJ7*bj_DEGTORAD)))
endif
elseif(i1==1316252014)then
call SetPlayerAbilityAvailable(pl,1093678405,(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.)and((m5!=null)or(SD7(1500.,b5,Condition(function k6))>0)))
if(GetHeroLevel(it)>4)then
set J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(R67(m5,it)))and(SZ7(it,852585,1093678137,m5))
if(not J4)then
if(m5==null)then
set m5=S77(2400.,b5,Condition(function k7))
endif
set J4=(m5!=null)and(SL7(it,852526,1093678405))
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>50.))then
set UP=0
if((Bz+10.)<hq[O5])then
set UP=UP+1
endif
if((Bz+10.)<hq[16+O5])then
set UP=UP+1
endif
if((Bz+10.)<hq[32+O5])then
set UP=UP+1
endif
if(((Bz+10.)<hq[80+O5])or((Bz+10.)<hq[96+O5]))then
set UP=UP+1
endif
if(((UP>1)and(SD7(800.,b5,Condition(function k6))==0))or((UP>2)and(GetUnitLifePercent(it)>50.)))then
set J4=IssueImmediateOrderById(it,852600)
endif
endif
elseif(i1==1164799603)then
call SetPlayerAbilityAvailable(pl,1095067246,(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>30.))
if(not J4)and(Bz>TC4[O5])and(GetUnitLevel(it)>=6)then
if GetUnitAbilityLevel(it,1093752632)>0 then
set EJ7=105+GetUnitAbilityLevel(it,1093752632)*30
else
set EJ7=116.25+GetUnitAbilityLevel(it,1093752633)*41.25
endif
set EN7=true
set m5=Ie(bj_mapInitialPlayableArea,Condition(function SLF))
if m5==null then
set EN7=false
if h4[O5]!=null then
set DU7=h4[O5]
endif
set m5=ZN7(99999.,it)
set DU7=null
if m5==null then
set m5=Ie(bj_mapInitialPlayableArea,Condition(function WC7))
endif
endif
if((m5!=null))then
if(EN7)or((not IsUnitType(m5,UNIT_TYPE_HERO))and((Bz-20>TC4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>300.)))or(IsUnitType(m5,UNIT_TYPE_HERO)and((GetUnitLifePercent(m5)<50. or(GZ[208+O5]and h4[O5]!=null)or((Bz-15>TC4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>200.)))))then
set J4=SB7(it,852119,1093752632,1093752633,m5)
endif
endif
endif
if(is(it))then
if((Q17(it,S57(it))<1500.)and(eY[O5]==1))then
if(h8[16+O5]==h7[14])then
set J4=SNF(0)
elseif(h8[16+O5]==h7[35])then
set J4=SNF(1)
elseif(h8[16+O5]==h7[55])then
set J4=SNF(2)
endif
elseif(((eY[O5]==3)or(eY[O5]==4))and(Q17(it,S57(it))>6000.)and(SD7(1200.,b5,Condition(function k6))==0))then
set J4=SNF(3)
endif
endif
if(not J4)then
if(((m5==null)or(not R67(m5,it)))and(G0[128+O5]))then
set m5=K3(800.,it,Condition(function k7))
endif
set J4=(m5!=null)and(R67(m5,it))and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,600))and(SZ7(it,OrderId("carrionswarm"),1093808453,m5))
endif
elseif(i1==1328558160)then
if(SG7(it,ZU[E24]))then
call SetPlayerAbilityAvailable(pl,1093682998,false)
endif
if((GetUnitAbilityLevel(it,1093684056)>0)and(Q17(it,S57(it))>2000.)and(GetUnitState(it,UNIT_STATE_MANA)>100.))then
if((GetHeroStr(it,true)>(30+(2*GetHeroLevel(it))))and(GetHeroStr(it,false)>(15+GetHeroLevel(it))))then
if(GetUnitLifePercent(it)>75.)then
set J4=IssueImmediateOrderById(it,852549)
else
set J4=SY7(it,851986,h9[O5])
endif
elseif((GetHeroStr(it,true)<(20+(2*GetHeroLevel(it))))and(IsTriggerEnabled(T07(GetHandleId(pl),"MorphAgi"))))then
set J4=IssueImmediateOrderById(it,852550)
endif
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>9)and(Bz>TC4[32+O5])and(SG7(it,ZU[E24]))and(Bz>TC4[208+O5])and(GetUnitState(it,UNIT_STATE_MANA)>315.))then
call LSE(O5,m5,false,false)
call SetPlayerAbilityAvailable(pl,1093682998,true)
set J4=UnitUseItemTarget(it,SK7(it,ZU[E24]),m5)
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>5))then
set J4=IssueTargetOrderById(it,852662,m5)
if((not J4)and(IsUnitInRange(it,m5,850.))and(not IsUnitInRange(it,m5,400.))and(GetUnitLifePercent(it)>75.)and((not IC(O5))or(GetUnitLifePercent(m5)<55.)))then
set U0F=kL(it,m5,200.)
if((U0F!=null)and((SD7(800.,U0F,Condition(function ZJ7))-SD7(800.,U0F,Condition(function YB7)))<=1)and(SD7(700.,U0F,Condition(function YR7))==0))then
call SetPlayerAbilityAvailable(pl,1093682766,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderByIdLoc(it,852218,U0F))
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>15)and(m5!=null)and(GetUnitAbilityLevel(it,1093683011)==0)and((GetUnitLifePercent(m5)<60.)or((SD7(600.,b5,Condition(function k6))>=2)and(SD7(600.,b5,Condition(function YA7))>0))))then
set m5=KDF(800.,it)
set J4=(m5!=null)and(SZ7(it,852274,1093683000,m5))
endif
elseif(i1==1212363833)then
call SetPlayerAbilityAvailable(pl,1093678643,(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>70.))
set UP=R2I(hq[16+O5]-Bz)
set J4=(m5!=null)and((GetHeroLevel(it)>13)or((GetHeroLevel(it)>4)and(GetUnitLifePercent(m5)<70.)))and((UP<=0)or(UP>50))and(SZ7(it,852095,1093809220,m5))
if(not J4)then
set h4[O5]=OR7(h4[O5]==null,m5,h4[O5])
set bj_lastLoadedUnit=it
set XY7=OR7(h4[O5]!=null and SE7(450,h4[O5],Condition(function LW7))>0,h4[O5],ZQ7(99999,it,Condition(function LX7)))
set J4=((XY7!=null and(P27(XY7,65,100+30*GetUnitAbilityLevel(it,1093815125)+300.,NA7)))or(SE7(450,it,Condition(function WC7))>=3 and PL7(it,70.,500.,NB7)))and SL7(it,852526,1093815125)
endif
if((not J4)and(GetHeroLevel(it)>10)and(Bz>hq[32+O5]))then
set m5=S97(800.,b5,Condition(function Y67))
set J4=(m5!=null)and(SE7(600.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852600))
endif
elseif(i1==1315070563)then
if(not GZ[O5])then
call SetPlayerAbilityAvailable(pl,1093678407,(GetHeroLevel(it)>4)and((not iy(it))or(GetHeroLevel(it)>11))and(GetUnitManaPercent(it)>70.))
endif
if((GetHeroLevel(it)>5)and(Bz>TC4[O5])and(G0[128+O5]))then
if(m5==null)then
set m5=S77(700.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(not ke(m5)))then
set UP=SE7(600.,m5,Condition(function k6))+1
if(GetHeroLevel(it)<11)then
set J4=(GetUnitState(m5,UNIT_STATE_LIFE)<600.)and(UP>=SE7(700.,m5,Condition(function KA)))and(SB7(it,852095,1093684529,1093747032,m5))
elseif((GetUnitState(m5,UNIT_STATE_LIFE)<1200.)or(UP>2)or((UP>1)and(SE7(600.,m5,Condition(function YA7))>0)))then
set J4=(UP>=SE7(700.,m5,Condition(function KA)))and(SB7(it,852095,1093684529,1093747032,m5))
endif
endif
endif
elseif(i1==1214931305)then
set UP=GetHeroLevel(it)
call SetPlayerAbilityAvailable(pl,1093748025,(UP>9)and((GetUnitManaPercent(it)>55.)or(m5!=null)or(SD7(900.,b5,Condition(function k6))>0)))
set J4=(h4[O5]!=null)and(SZ7(it,852171,1093678147,m5))
if((m5==null)and(G0[128+O5])and(UP>3))then
set m5=S77(1000.,b5,Condition(function k6))
endif
if(m5!=null)then
if((GetUnitState(it,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and((GetUnitState(it,UNIT_STATE_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))>(40*GetHeroLevel(it))))then
if((SG7(it,ZU[RW]))and(not IsUnitIllusion(m5))and(G0[128+O5])and(GetUnitLifePercent(it)>75.)and(GetHeroLevel(it)>10)and(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5]+120.)and(Bz>hq[O5]))then
set h4[16+O5]=m5
set J4=S3F(it,m5)
endif
if(not J4)then
set J4=((((UP>5)and(Bz>hq[O5])and(not IsUnitIllusion(m5))and(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5]+150.))or(GetUnitLifePercent(m5)<50.))and(SZ7(it,852171,1093678147,m5)))or((((GetUnitManaPercent(it)>55.)and(UP>3))or(R67(m5,it)))and(GetUnitAbilityLevel(m5,1110454583)==0)and(SZ7(it,OrderId("blizzard"),1093748025,m5)))
endif
if((not J4)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(Bz>hq[O5]))then
set J4=(Kz(500.,b5)>1)and(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5]+100.)and((GetUnitAbilityLevel(m5,1110454583)>0)or(SD7(850.,b5,Condition(function YB7))>0))and((SS7(it,ZU[D0]))or(IssueImmediateOrderById(it,852600)))
endif
endif
endif
elseif(i1==1328558389)then
if((m5==null)and(G0[128+O5]))then
set m5=S77(1500.,b5,Condition(function k6))
endif
if((not J4)and(Bz>TC4[O5])and(not IsUnitIllusion(m5))and(GetUnitLevel(it)>=6)and(h4[O5]!=null)and(IsUnitInRange(it,m5,1200.))and((GetUnitLifePercent(m5)<60.)or((EH9(m5)or GZ[208+O5])and(GetUnitLifePercent(m5)<80.))))then
if EH9(m5)or(Q37(it,m5,30))then
set J4=(IssuePointOrderByIdLoc(it,852600,SX7(m5)))
endif
endif
if((not J4)and(m5!=null)and(Bz>TC4[32+O5])and(not IsUnitIllusion(m5))and(GetUnitAbilityLevel(it,1093747000)>1)and(((((GetUnitState(it,UNIT_STATE_MANA)>DOF(it,1093747000,GT7)+DOF(it,1093747009,GT7))and(Bz+10<TC4[O5]))or(GetUnitState(it,UNIT_STATE_MANA)>430))and(GetUnitLifePercent(m5)>40.))or(GetWidgetLife(m5)<80*GetUnitAbilityLevel(it,1093747000))))then
set J4=(SZ7(it,OrderId("volcano"),1093747000,m5))
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and(not G0[O5])and(IsUnitInRange(it,m5,300))and(GetUnitLifePercent(m5)<70.)and((GetUnitState(it,UNIT_STATE_MANA)>DOF(it,1093747009,GT7)+DOF(it,1093746993,GT7))or(Bz+10<TC4[O5]))then
set J4=(IssueImmediateOrderById(it,852581))
endif
elseif(i1==1328558390)then
if((m5==null))then
set m5=S77(1200.,b5,Condition(function k6))
endif
if(not J4)and(h4[O5]!=null)and(Bz>TC4[O5])and(GetUnitLevel(it)>=6)and(GetUnitLifePercent(m5)<60.)then
set J4=(SZ7(it,852119,1093744975,m5))
endif
if(not J4)and(h4[O5]!=null)and(Bz>TC4[48+O5])and(R17(m5))and(not IsUnitInRange(it,m5,400.))and(GetUnitState(it,UNIT_STATE_MANA)>DOF(it,1093744982,GT7)+100)then
call SL7(it,852180,1093744986)
call QA7(0.1)
endif
if(not J4)and(Bz>TC4[16+O5])and(GetUnitLevel(it)>=4)and((GetUnitState(it,UNIT_STATE_MANA)>390.)or((h4[O5]!=null)and(GetUnitState(it,UNIT_STATE_MANA)>100+DOF(it,1093744982,GT7)))or(GetUnitLifePercent(m5)<70.))then
set J4=(SZ7(it,852089,1093748044,m5))
endif
if(not J4)and(Bz>TC4[32+O5])and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70.)or(GetUnitState(it,UNIT_STATE_MANA)>=400.))then
if(LM7(it,m5,750,0.2,1500)!=null)then
set J4=(SA7(it,852218,1093744982,GO7))
endif
endif
if(not J4)and(Bz>TC4[32+O5])and(h4[O5]==null)and(GetUnitAbilityLevel(it,1093744982)>1)and((GetUnitState(it,UNIT_STATE_MANA)>=400.)or(GetUnitLifePercent(m5)<70.))then
if((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[128+O5])and(not G0[48+O5])and(SD7(400.,b5,Condition(function k8))==0))then
set UP=R2I(Q07(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
if(GetRandomInt(1,2)==1)then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-25
else
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+25
endif
set J4=IssuePointOrderById(it,851986,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))
endif
endif
elseif(i1==1160786510)then
if(not J4)and(Bz>TC4[O5])and(GetUnitLevel(it)>=6)then
if GetUnitAbilityLevel(it,1093808949)>0 then
set EJ7=150+GetUnitAbilityLevel(it,1093808949)*37.5
set UP=99999
elseif GetUnitAbilityLevel(it,1093751861)>0 then
set EJ7=150+GetUnitAbilityLevel(it,1093751861)*37.5
set UP=1000
else
set UP=0
endif
if UP!=0 then
set EN7=true
set m5=S77(UP,GetUnitLoc(it),Condition(function SLF))
if m5==null then
set EN7=false
if h4[O5]==null then
set m5=S77(UP,GetUnitLoc(it),Condition(function k6))
else
set m5=h4[O5]
endif
endif
if((m5!=null))then
if(EN7)or((GetUnitLifePercent(m5)<50. or(GZ[208+O5]and h4[O5]!=null)or((Bz-20>TC4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>300.))and(not IsUnitIllusion(m5))))then
if R17(m5)or(EG8(it,m5))then
if LO7(it,m5,2,UP)!=null then
set J4=SC7(it,852089,1093751861,1093808949,GetLocationX(GO7),GetLocationY(GO7))
endif
else
set J4=SC7(it,852089,1093751861,1093808949,GetUnitX(m5),GetUnitY(m5))
endif
endif
if J4 then
call QA7(0.1)
set J4=false
endif
endif
endif
endif
set m5=h4[O5]
if((m5==null))then
set m5=S77(800.,b5,Condition(function k6))
endif
if(not J4)and(Bz>TC4[16+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70.)and(IsUnitInRange(it,m5,400))then
set J4=SL7(it,852600,1093751631)
endif
if(not J4)and(Bz>TC4[32+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or R67(m5,it))then
set J4=SZ7(it,852119,1093751633,m5)
endif
set UP=SE7(800.,it,Condition(function k6))
if(not J4)and(Bz>TC4[48+O5])and((h4[O5]!=null and UP>1 and IsUnitInRange(it,m5,500))or(UP>2 and GetUnitState(it,UNIT_STATE_MANA)>350)or(GetUnitState(it,UNIT_STATE_MANA)>450 and SE7(800,it,Condition(function WC7))>5))then
set J4=SL7(it,852526,1093808697)
endif
elseif(i1==1328558406)then
if(not J4)and(h4[O5]!=null)and(is(it))and(Bz>TC4[16+O5])then
set m5=Z77(900.,it,false)
if m5!=null then
set J4=SZ7(it,852119,1093751873,m5)
endif
endif
if(not J4)and(is(it))and(h8[160+O5]!=null)then
set GZ[224+O5]=(LoadUnitHandle(L7,(GetHandleId(it)),(652))!=null)
set J4=IssuePointOrderById(it,852662,GetUnitX(h8[160+O5])+GetRandomReal(-200.,200.),GetUnitY(h8[160+O5])+GetRandomReal(-200.,200.))
set h8[160+O5]=null
endif
if(not J4)then
set m5=h4[O5]
if(m5==null)then
set m5=S77(800.,b5,Condition(function k6))
endif
if(h4[O5]!=null)and(GetUnitLifePercent(it)+10.>GetUnitLifePercent(m5))then
call SetPlayerAbilityAvailable(Player(O5),1093810257,true)
set GZ[O5]=true
set J4=(GetUnitAbilityLevel(it,1110456385)==0)and(IssueImmediateOrderById(it,852589))
else
set GZ[O5]=false
set J4=(GetUnitAbilityLevel(it,1110456385)!=0)and(SL7(it,852590,1093810257))
endif
if J4 then
call QA7(0.1)
set J4=false
endif
if(not J4)and(m5!=null)and(h4[O5]!=null or GetUnitManaPercent(it)>90 or(GetUnitLifePercent(m5)<70 and GetUnitManaPercent(it)>60))then
if UJ7(it,"AI|IoSpirits")then
set UP=R2I(Q17(it,m5))
if UP<425 then
set J4=(UE7(GetHandleId(it),"AI|IoSpiritsFar"))and(IssueImmediateOrderById(it,852217))
else
set J4=(not UE7(GetHandleId(it),"AI|IoSpiritsFar"))and(IssueImmediateOrderById(it,852490))
endif
else
if(Bz>TC4[32+O5])then
set J4=SL7(it,852526,1093751864)and(IssueImmediateOrderById(it,852490))
endif
endif
endif
endif
elseif(i1==1160786504)then
if(m5==null)then
set m5=S77(800.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[O5])and((GetUnitLifePercent(m5)<50. and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)==0))or R57(m5))then
set J4=SZ7(it,852111,1093751617,m5)
if J4 then
call LSE(O5,m5,false,false)
endif
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and(IsUnitInRange(it,m5,600))and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or R67(m5,it))then
if SD7(450,SX7(m5),Condition(function WC7))<=1 then
set J4=SZ7(it,852089,1093751618,m5)
endif
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or R67(m5,it))and(SE7(450,m5,Condition(function WC7))<=1)then
set J4=SZ7(it,852119,1093751608,m5)
endif
if(not J4)then
if(m5==null)then
set m5=S77(1200.,b5,Condition(function k6))
endif
if(m5!=null)and(Bz>TC4[48+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or R67(m5,it)or GetUnitManaPercent(it)>50.)and(IsUnitVisible(m5,Player(O5)))then
set J4=IssuePointOrderByIdLoc(it,852600,SX7(m5))
call QA7(0.5)
endif
endif
elseif i1==1211119409 then
if((m5==null)and(G0[128+O5]))then
set m5=S77(800.,b5,Condition(function k6))
endif
if((not J4)and(Bz>TC4[32+O5])and(m5!=null)and(GetUnitLifePercent(m5)<60.)and((not IsUnitInRange(it,m5,200.))or(R17(m5))))then
if(LM7(it,m5,28/0.03,0,(GetUnitAbilityLevel(it,1093749303)+3)*100)!=null)and(LH7(it,m5,GetLocationX(GO7),GetLocationY(GO7),120,Condition(function GX8)))then
set J4=(Q37(it,m5,15))and(IssueImmediateOrderById(it,852600))
call LSE(O5,m5,false,false)
endif
endif
if((not J4)and(Bz>TC4[16+O5])and(m5!=null)and(IsUnitInRange(it,m5,300.))and(GetUnitLifePercent(it)>GetUnitLifePercent(m5)+20.)and(G0[256+O5])and((GetUnitState(it,UNIT_STATE_MANA)>200.)or R17(m5)))then
set J4=IssueImmediateOrderById(it,852526)
endif
if(not J4)and(h4[O5]!=null)and(Bz>TC4[O5])and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,200.))then
set J4=SL7(it,852129,1093749070)
endif
if(not J4)and(h4[O5]==null)and(Bz>TC4[16+O5])and(SE7(325.,it,Condition(function YV7))>3)and(GetUnitState(it,UNIT_STATE_MANA)>400.)then
set J4=IssueImmediateOrderById(it,852526)
endif
elseif(i1==1211117653)then
if(m5==null and(G0[128+O5]))then
set m5=S77(800.,b5,Condition(function k6))
endif
set UP=(SD7(1200.,b5,Condition(function KX)))
set J4=(GetUnitAbilityLevel(it,1110456408)>0)and(UP>0)and(GetUnitLifePercent(it)<70.)
if((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>175)and((Bz>TC4[O5])or(AU7(it,1093686855)))and(Bz>TC4[144+O5]))then
set EJ7=(37.5+(46.87*GetUnitAbilityLevel(it,1093808470)))
set V4F=Ie(bj_mapInitialPlayableArea,Condition(function SLF))
set J4=(V4F!=null)and A67(it,LR4,LR4,LR4,1093686855)and IssuePointOrderByIdLoc(it,852089,LO7(it,V4F,1.7,99999))
elseif((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>175)and(Bz>TC4[144+O5]))then
set EJ7=(37.5+(46.87*GetUnitAbilityLevel(it,1093808470)))
set V4F=Ie(bj_mapInitialPlayableArea,Condition(function SLF))
if(V4F!=null)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),BS[9],true)
set J4=IssuePointOrderByIdLoc(it,852089,LO7(it,V4F,1.7,99999))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),BS[9],false)
endif
endif
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5)))then
call LSE(O5,m5,false,false)
if(((GetUnitState(it,UNIT_STATE_MANA))>410)and(GetUnitLevel(it)>=10)and(Bz>TC4[O5])and(Bz>TC4[48+O5])and(Bz>TC4[112+O5])and((AU7(it,1093686862))or(AU7(it,1093686861))))then
set J4=A67(it,LR4,LR4,LQ4,1093686862)and(AZ7(it,LR4,LR4,LR4,false))and IssuePointOrderById(it,852216,GetUnitX(m5),GetUnitY(m5))
endif
if((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>350)and(GetUnitLevel(it)>=14)and(Bz>TC4[O5])and(Bz>TC4[96+O5])and(Bz>TC4[144+O5])and((AU7(it,1093686859))or(AU7(it,1093686855))))then
set J4=A67(it,LQ4,LQ4,LP4,1093686859)and IssuePointOrderById(it,852491,GetUnitX(m5),GetUnitY(m5))
endif
if(not J4 and(GetUnitLevel(it)<14)and((GetUnitState(it,UNIT_STATE_MANA))>290)and(AU7(it,1093686861)or(Bz>TC4[O5])))then
set J4=(A67(it,LP4,LQ4,LR4,1093686861)and IssuePointOrderById(it,852215,GetUnitX(m5),GetUnitY(m5)))
endif
if(not J4)then
set J4=(((Bz>TC4[64+O5])and A67(it,LR4,LR4,LP4,1093686863)and(IssueImmediateOrderById(it,852132)))or((Bz>TC4[16+O5])and A67(it,LP4,LP4,LP4,1093686874)and(SZ7(it,852505,1093686874,m5)))or(((GetUnitState(it,UNIT_STATE_MANA))>350)and(Bz>TC4[112+O5])and A67(it,LP4,LQ4,LR4,1093686861)and IssuePointOrderById(it,852215,GetUnitX(m5),GetUnitY(m5))))
endif
if((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>120))then
set J4=((Bz>TC4[160+O5])and(IsUnitInRange(it,m5,106.))and A67(it,LP4,LP4,LR4,1093686864)and(IssueImmediateOrderById(it,852134)))or((Bz>TC4[48+O5])and A67(it,LR4,LR4,LQ4,1093686862)and IssuePointOrderById(it,852216,GetUnitX(m5),GetUnitY(m5)))or((Bz>TC4[32+O5])and A67(it,LQ4,LQ4,LQ4,1093686867)and(AZ7(it,LR4,LR4,LR4,false))and(IssuePointOrderByIdLoc(it,852217,GetUnitLoc(m5))))
endif
endif
if((GetUnitAbilityLevel(it,1110456408)==0))then
if(not J4 and(Bz>TC4[O5])and(Bz>TC4[48+O5])and(not AU7(it,1093686862))and(GetRandomInt(1,2)==1))then
call A67(it,LR4,LR4,LQ4,1093686862)
elseif(not J4 and(GetUnitLevel(it)<14)and(Bz>TC4[O5])and(Bz>TC4[112+O5])and(not AU7(it,1093686861)))then
call A67(it,LP4,LQ4,LR4,1093686861)
elseif(not J4 and(GetUnitLevel(it)>=14)and(Bz>TC4[O5])and(Bz>TC4[96+O5])and(not AU7(it,1093686859))and(GetRandomInt(1,2)==1))then
call A67(it,LQ4,LQ4,LP4,1093686859)
elseif(not J4 and(Bz>TC4[O5])and(Bz>TC4[16+O5])and(not AU7(it,1093686874)))then
call A67(it,LP4,LP4,LP4,1093686874)
else
endif
set UP=SE7(1500.,it,Condition(function k8))
if((m5!=null and(AT7(it)<3))or((GetUnitLevel(it)<5)and(AT7(it)<3))or((AT7(it)<3)and(UP>1)))then
call AZ7(it,LR4,LR4,LR4,false)
elseif(m5==null and(not J4)and(GetUnitLevel(it)>5)and(GetUnitAbilityLevel(it,1093808472)>0)and(GetUnitLifePercent(it)>80.)and(AQ7(it)<3)and(UP<2))then
call AZ7(it,LQ4,LQ4,LQ4,false)
elseif(m5==null and(not J4)and(GetUnitAbilityLevel(it,1093808471)>0)and(GetUnitLifePercent(it)<58.)and(AS7(it)<3))then
call AZ7(it,LP4,LP4,LP4,false)
else
endif
if(not J4)then
set m5=null
set m5=S77(700.,b5,Condition(function Y07))
set J4=(m5!=null)and(GetUnitCurrentOrder(m5)==851983)and A67(it,LQ4,LQ4,LR4,1093686865)and SZ7(it,852490,1093686865,m5)
endif
endif
elseif(i1==1311787088)then
if(not J4)and(Bz>TC4[O5])and(GetUnitLevel(it)>=6)then
set EJ7=100+GetUnitAbilityLevel(it,1093750089)*150
set EN7=true
set m5=Ie(bj_mapInitialPlayableArea,Condition(function SLF))
if m5==null then
set EN7=false
if h4[O5]==null then
set m5=S77(99999.,GetUnitLoc(it),Condition(function k6))
else
set m5=h4[O5]
endif
endif
if((m5!=null))then
if(EN7)or((GetUnitLifePercent(m5)<50. or(GZ[208+O5]and h4[O5]!=null)or((Bz-20>TC4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>300.))and(not IsUnitIllusion(m5))))then
if R17(m5)or(EG8(it,m5))then
if LM7(it,m5,500.,0.02,1500.)!=null then
set J4=IssuePointOrderByIdLoc(it,852662,GO7)
if J4 then
call TF7(GetHandleId(it),"AI|IBClose",1)
endif
elseif LM7(it,m5,1500.,2.02,99999.)!=null then
set J4=IssuePointOrderByIdLoc(it,852662,GO7)
if J4 then
call TF7(GetHandleId(it),"AI|IBClose",0)
endif
endif
else
set J4=IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))
if J4 then
call TF7(GetHandleId(it),"AI|IBClose",2)
endif
endif
endif
if J4 then
call TJ7(GetHandleId(it),"AI|IBTgt",m5)
call TriggerSleepAction(0.1)
set J4=false
endif
endif
endif
if(m5==null)then
set m5=S77(800.,b5,Condition(function k6))
endif
if(not J4)and(not IsUnitIllusion(m5)and(IsUnitInRange(it,m5,750.))and((GetUnitState(it,UNIT_STATE_MANA))>(GetUnitState(it,UNIT_STATE_MAX_MANA)/2.5)))then
set J4=(m5!=null)and(SZ7(it,OrderId("channel"),1093750087,m5))
endif
if((not J4)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,1500.))and((GetUnitState(it,UNIT_STATE_MANA))>(GetUnitState(it,UNIT_STATE_MAX_MANA)/2.5))and((GetUnitLevel(it)>10)or(GetUnitManaPercent(it)>65.)))then
set J4=(m5!=null)and(SZ7(it,OrderId("blizzard"),1093748819,m5))
endif
if((not J4)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(GetUnitManaPercent(it)>30.))then
set J4=(m5!=null)and(SZ7(it,OrderId("berserk"),1093748817,it))
endif
if(not J4)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(ST7(it,m5))
endif
elseif(i1==1160786505)then
if(m5==null and(G0[128+O5]))then
set m5=S77(1100.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<60.))then
set J4=(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))or(IssueTargetOrderById(it,852185,m5))
endif
if((not J4)and(G0[128+O5])and(Bz>TC4[32+O5])and(Bz>TC4[16+O5])and(GetUnitLevel(it)>6))then
set J4=(m5!=null)and(GetUnitLevel(it)>3)and((GetUnitLifePercent(it)>75.)or(IsUnitInRange(it,m5,300.)))and(not IsUnitIllusion(m5))and((SE7(800.,m5,Condition(function ZJ7))-SE7(800.,m5,Condition(function YB7)))<=2)and((SD7(750.,GetUnitLoc(m5),Condition(function YR7))==0)or(GetRandomInt(1,2)==1))and(GetUnitState(it,UNIT_STATE_MANA)>300.)and(IssueTargetOrderById(it,852185,m5))
endif
if(not J4 and(m5!=null))then
set J4=(not IsUnitIllusion(m5))and(Bz>TC4[O5])and(GetUnitLifePercent(m5)<48.)and(IsUnitInRange(it,m5,200.))and(IssueImmediateOrderById(it,852526))
endif
if(not J4 and(m5!=null))then
set UP=SD7(780.,GetUnitLoc(m5),Condition(function YR7))
set U_F=SE7(800.,m5,Condition(function ZJ7))
set J4=((Bz>TC4[32+O5])and(GetUnitLevel(it)>3)and(IsUnitInRange(it,m5,800.))and((U_F-SE7(800.,m5,Condition(function YB7)))<=2)and((UP>0)and(U_F<2)or(UP==0)and(U_F<=2))and(IssueTargetOrderById(it,852185,m5)))or((Bz>TC4[16+O5])and(GetUnitLevel(it)>3)and(GetUnitState(it,UNIT_STATE_MANA)>150)and(GetUnitLifePercent(m5)<90.)and(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))))
endif
elseif(i1==1212365106)then
call SetPlayerAbilityAvailable(pl,1093685831,(GetHeroLevel(it)>13)and(SD7(1200.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>70.))
if((m5!=null)and(not IsUnitIllusion(m5))and(((GetHeroLevel(it)>5)and(not IC(O5)))or(R_7(m5,it)))and(not IsUnitInRangeLoc(m5,b5,250.)))then
set J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and((SE7(800.,m5,Condition(function ZJ7))-SE7(800.,m5,Condition(function YB7)))<=1)and(IssueTargetOrderById(it,852600,m5))
endif
if((not J4)and(GetHeroLevel(it)>14)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(700.,it,Condition(function k6))
set J4=(m5!=null)and((SE7(I2R(225+(25*GetUnitAbilityLevel(it,1093685831))),m5,Condition(function k6))>1)or(GetUnitLifePercent(m5)<80.))and(SZ7(it,852089,1093685831,m5))
endif
endif
elseif(i1==1211117617)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>10))then
set m5=S77(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(((GetHeroLevel(it)>4)and(not IsUnitInRange(it,m5,300.)))or(R67(m5,it)))and(SZ7(it,OrderId("acidbomb"),1093744944,m5))
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(G0[128+O5])and(GetUnitAbilityLevel(it,1110454329)==0)and(GetUnitState(it,UNIT_STATE_MANA)>200.))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
set J4=((((Bz>hq[O5])or(GetUnitCurrentOrder(m5)==851973))and(IsUnitInRange(it,m5,600.)))or(IsUnitInRange(it,m5,300.)))and((SL7(it,852526,1093814611))or(SS7(it,ZU[D0]))or(SL7(it,OrderId("chemicalrage"),1093752648)))
endif
endif
if(GetUnitAbilityLevel(it,1110454329)>0)and(GetUnitLifePercent(it)>70)then
if(h4[O5]==null)then
set ET7=S77(700.,b5,Condition(function k6))
call LSE(O5,ET7,false,false)
endif
if((GetUnitCurrentOrder(it)==851986)and(G0[128+O5])and(hq[512+O5]>Bz)and(not G0[O5])and(SD7(800.,b5,Condition(function KC))>1))then
call SY7(it,851983,h8[O5])
endif
endif
elseif(i1==1211117633)then
set J4=(m5!=null)and(GetUnitLifePercent(m5)<60.)and((not IsUnitIllusion(m5))or(GetUnitLifePercent(m5)>35.))and(SZ7(it,852585,1093684045,m5))
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))then
set m5=Ie(bj_mapInitialPlayableArea,Condition(function Y67))
set J4=(m5!=null)and(SE7(800.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852600))
if((not J4)and(m5!=null)and(IsUnitInRange(it,m5,800.)))then
set J4=(GetUnitLifePercent(m5)<25.)and(not Id(GetPlayerId(GetOwningPlayer(m5))))and(SZ7(it,852096,1093815619,m5))
endif
endif
if((not J4)and(h4[16+O5]!=null))then
if((R37(h4[16+O5]))and(GetUnitAbilityLevel(h4[16+O5],1110455624)>0))then
set J4=SZ7(it,852095,1093684310,h4[16+O5])
call T4F(it,h4[16+O5])
else
set h4[16+O5]=null
endif
endif
if((Q17(it,S57(it))<1500.)and(eY[O5]==1)and(GetHeroLevel(it)>5)and(IH(pl,Condition(function LX9))<2))then
if(IsUnitAlly(it,Z7[0]))then
if((h8[16+O5]==h7[35])and(G2!=1)and(G4!=1))then
set h8[16+O5]=h7[55]
set h8[O5]=h7[51]
endif
else
if((h8[16+O5]==h7[155])and(G1!=2)and(G3!=2))then
set h8[16+O5]=h7[135]
set h8[O5]=h7[131]
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>21)and(IH(pl,Condition(function LX9))==0))then
set m5=S77(600.,b5,Condition(function k8))
set J4=(m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)>800.)and(SZ7(it,852131,1093810260,m5))
endif
elseif(i1==1211117620)then
call SetPlayerAbilityAvailable(pl,1093677382,(GetHeroLevel(it)>10)and(iy(it))and(GetUnitManaPercent(it)>60.))
call SetPlayerAbilityAvailable(pl,1093677105,(GetUnitManaPercent(it)>70.)and(GetUnitAbilityLevel(it,1110454324)==0))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=S77(1000.,b5,Condition(function k6))
endif
if(m5!=null)then
if((GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(not ke(m5))and(Bz>hq[O5]))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=(UP<STF(it))and(UP>150)and(SB7(it,852119,1093677392,1093679450,m5))
endif
if((not J4)and((GetUnitManaPercent(it)>40.)or(R67(m5,it))))then
if(((Bz>hq[16+O5])and(GetHeroLevel(it)>3))or(GetUnitLifePercent(m5)<55.))then
set GZ[64+O5]=true
set J4=SA7(it,852232,1093677623,LO7(it,m5,.95,600.))
set GZ[64+O5]=false
endif
if(not J4)then
set J4=(Bz>hq[16+O5])and(GetHeroLevel(it)>3)and(GetRandomInt(1,2)==1)and(SZ7(it,852125,1093677382,m5))
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>15)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
if(m5==null)then
set m5=K3(700.,it,Condition(function k6))
endif
if(m5!=null)then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=(GetUnitLifePercent(m5)<60.)and(UP<1600)and(UP>500)and(not ke(m5))and(SB7(it,852119,1093677392,1093679450,m5))
endif
endif
endif
elseif(i1==1432580716)or(i1==1429221720)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>5)and(GetUnitManaPercent(it)>60.))then
set m5=S77(600.,b5,Condition(function k6))
endif
if((G0[128+O5])and(SG7(it,ZU[RW]))and(GetHeroLevel(it)>8)and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,600.)))then
set J4=((SE7(800.,m5,Condition(function ZJ7))-SE7(800.,m5,Condition(function YB7)))<=1)and(S3F(it,m5))
endif
call SetPlayerAbilityAvailable(pl,1093684300,(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>60.))
if(not J4)then
set J4=(m5!=null)and((R67(m5,it))or((GetHeroLevel(it)>7)and(GetUnitState(it,UNIT_STATE_MANA)>350.)and(Bz>hq[O5])and(IsUnitInRange(it,m5,220.))))and(SZ7(it,852089,1093684300,m5))
endif
elseif(i1==1333027688)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.))then
set m5=S77(1000.,b5,Condition(function k6))
endif
if(m5!=null)then
if((G0[128+O5])and(SG7(it,ZU[RW]))and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>10)and(Bz>hq[O5])and(SE7(500.,m5,Condition(function k8))>5))then
set J4=S3F(it,m5)
endif
if((not J4)and(Bz>hq[O5])and(IsUnitInRange(it,m5,400.))and(GetUnitState(m5,UNIT_STATE_LIFE)>180.))then
set UP=U4F(it)
if((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<UP)or((UP>100)and((R2I(GetUnitState(m5,UNIT_STATE_LIFE))-UP)<GetHeroLevel(it)*30)))then
set J4=SL7(it,852526,1093682248)or(SL7(it,852526,1093750594))
endif
endif
if((not J4)and(GetUnitCurrentOrder(m5)==851986)and(GetUnitLifePercent(m5)<50.))then
set J4=SZ7(it,OrderId("channel"),1093686091,m5)
endif
if((not J4)and(GetHeroLevel(it)>3))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))
call SetPlayerAbilityAvailable(pl,1093686091,true)
set J4=IssuePointOrderById(it,OrderId("channel"),GetUnitX(m5)+50.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+50.*Sin(UP*bj_DEGTORAD))
endif
endif
set m5=S97(400.,b5,Condition(function k6))
if((not J4)and(Bz>hq[O5])and(m5!=null))then
set hr=it
set UP=SD7(500.,b5,Condition(function T_F))
set J4=(((UP>3)and(SD7(400.,b5,Condition(function k6))>1))or((UP>4)and(GetUnitLifePercent(m5)<60.)))and((SL7(it,852526,1093682248))or(SL7(it,852526,1093750594)))
endif
if(not J4)then
call SetPlayerAbilityAvailable(pl,1093686091,(GetHeroLevel(it)>5)and(GetUnitManaPercent(it)>70.))
set J4=(GetHeroLevel(it)>10)and(Bz>hq[O5])and(SD7(500.,b5,Condition(function KA))>8)and((SL7(it,852526,1093682248))or(SL7(it,852526,1093750594)))
endif
elseif(i1==1311781185)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=S77(800.,b5,Condition(function k6))
endif
if(m5!=null)then
set J4=((GetHeroLevel(it)>15)and((R67(m5,it))or(GetUnitManaPercent(m5)<35.)or(GetUnitAbilityLevel(m5,1110454607)>0))and(IssueTargetOrderById(it,852662,m5)))or((m5!=null)and(not IsUnitInRange(it,m5,550.))and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and(SZ7(it,852254,1093684314,m5)))
endif
if(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitManaPercent(it)>70))then
set J4=SZ7(it,852089,1093743692,m5)
endif
if(not J4)then
if h4[O5]!=null and IsUnitInRange(h4[O5],it,850)and GetUnitLifePercent(h4[O5])<GetUnitLifePercent(m5)or GetUnitManaPercent(h4[O5])<GetUnitManaPercent(m5)then
set m5=h4[O5]
endif
if m5==null then
set G=E_7
set m5=ZQ7(900,it,Condition(function Y17))
endif
set G=F97
set XY7=ZQ7(900,it,Condition(function Y17))
set m5=OR7((m5!=null)and(((GetHeroLevel(m5)>11 and GetHeroLevel(m5)>GetHeroLevel(XY7))or GetUnitManaPercent(XY7)<30.)or XY7==null),m5,XY7)
if m5==null then
set m5=OR7(GetUnitManaPercent(it)>40.or GetUnitState(it,UNIT_STATE_MANA)>700.,ZQ7(700,it,Condition(function k6)),null)
endif
set J4=(m5!=null)and(G0[128+O5]and(GetUnitLifePercent(m5)<=50)or GetUnitManaPercent(it)>50.)and IssueTargetOrderById(it,852095,m5)
if h4[O5]==null then
set h4[O5]=m5
endif
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
set m5=Ie(bj_mapInitialPlayableArea,Condition(function Y67))
set J4=(m5!=null)and(SE7(700.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852600))
endif
elseif(i1==1211117643)then
if m5==null then
set m5=ZO7(700.,it)
endif
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,400.))and(GetUnitAbilityLevel(m5,1113815395)==0)and(GetUnitAbilityLevel(m5,1113815346)==0)and((GetUnitLifePercent(it)<50.)or(GetHeroLevel(it)<8))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(300+(120*GetUnitAbilityLevel(it,1093678658)))))then
set J4=SZ7(it,852040,1093678658,m5)
endif
if(not J4)and(is(it))then
if(h4[O5]!=null)then
if(not J4)and(Bz>TC4[O5])then
set J4=SB7(it,852504,1093681483,1093748313,m5)
endif
if(not J4)and(Bz>TC4[32+O5])and(SE7(600.,it,Condition(function Y27))==0)then
set J4=SZ7(it,852114,1093678664,it)
endif
if(not J4)then
set EJ7=Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5))
call MoveLocation(HA,GetUnitX(m5)+Cos(EJ7)*200,GetUnitY(m5)+Sin(EJ7)*200)
if(not J4)and(Bz>TC4[16+O5])and(GetUnitLifePercent(it)>60.)then
set J4=SA7(it,852278,1093678410,HA)
endif
if(not J4)and(Bz>TC4[32+O5])and(GetUnitLifePercent(it)>60.)and(SE7(600.,m5,Condition(function Y27))==0)then
set J4=SA7(it,852114,1093678664,HA)
endif
endif
elseif(eY[O5]==1 or eY[O5]==3 or eY[O5]==4)then
if((not J4)and(is(it))and(eY[O5]==1)and((SD7(400.,b5,Condition(function Ka))>1)or((h4[128+O5]!=null)and(R37(h4[128+O5]))and(IsUnitInRange(it,h4[128+O5],400.)))))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h9[O5])-GetUnitY(it),GetUnitX(h9[O5])-GetUnitX(it)))
call IssuePointOrderById(it,851986,GetUnitX(it)+350.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+350.*Sin(UP*bj_DEGTORAD))
endif
if((not J4)and(is(it))and(not V67(it))and(SD7(1200.,b5,Condition(function YR7))==0)and(not RB7(it)))then
set UP=GetUnitUserData(h8[32+O5])
set EJ7=300
if((eY[O5]==3)or(eY[O5]==4))and(h8[64+O5]!=null)then
set h9[48+O5]=h8[64+O5]
if SE7(600.,it,Condition(function k6))>0 or SE7(600.,h9[48+O5],Condition(function k6))>0 then
set EJ7=-1
endif
elseif(h9[48+O5]==null)or(not IsUnitInRange(it,h9[48+O5],1800.))then
set EN7=IsUnitAlly(it,Z7[O5])
set UP=IEF(GetUnitUserData(h8[80+O5]),(not EN7),0)
if UP==35 then
set UP=351
elseif UP==55 then
set UP=352
endif
if UP!=0 and(SE7(900.,h7[UP],Condition(function YR7))==0)and((EN7 and(not IsVisibleToPlayer(GetUnitX(h7[UP]),GetUnitY(h7[UP]),A7[0])))or((not EN7)and(not IsVisibleToPlayer(GetUnitX(h7[UP]),GetUnitY(h7[UP]),Z7[0]))))then
set h9[48+O5]=h7[UP]
endif
endif
if EJ7!=-1 then
if(not J4)and(h9[48+O5]!=null)and(Bz>TC4[16+O5])and(GetUnitState(it,UNIT_STATE_MANA)>DOF(it,1093678410,GT7)+DOF(it,1093678658,GT7))then
call MoveLocation(HA,GetUnitX(h9[48+O5])+GetRandomReal(-EJ7,EJ7),GetUnitY(h9[48+O5])+GetRandomReal(-EJ7,EJ7))
set J4=(SA7(it,852278,1093678410,HA))
endif
set bj_lastLoadedUnit=it
if(not J4)and(h9[48+O5]!=null)and(Bz>TC4[32+O5])and(GetUnitState(it,UNIT_STATE_MANA)>DOF(it,1093678664,GT7)+DOF(it,1093678658,GT7))and(SE7(600.,h9[48+O5],Condition(function Y27))==0)then
call MoveLocation(HA,GetUnitX(h9[48+O5])+GetRandomReal(-100.,100.),GetUnitY(h9[48+O5])+GetRandomReal(-100.,100.))
set J4=(SA7(it,852114,1093678664,HA))
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>TC4[O5]))then
set m5=S77(1800.,b5,Condition(function Y57))
set bj_forLoopAIndex=(SE7(600.,m5,Condition(function KG)))
if((m5!=null)and(not EO9(m5))and(bj_forLoopAIndex<4))then
set UP=R2I(SUF(m5))
set GZ[272+O5]=false
if(bj_forLoopAIndex>0)then
set hq[240+O5]=Bz+5.
else
set hq[240+O5]=0.
endif
set J4=SC7(it,852504,1093681483,1093748313,GetUnitX(m5)+GetRandomReal(400.,450.)*Cos(UP*bj_DEGTORAD)+GetRandomReal(-300.,300.),GetUnitY(m5)+GetRandomReal(400.,450.)*Sin(UP*bj_DEGTORAD)+GetRandomReal(-300.,300.))
endif
set bj_forLoopAIndex=(SE7(600.,h8[64+O5],Condition(function KG)))
if((not J4)and((eY[O5]==3)or(eY[O5]==4))and(h8[64+O5]!=null)and(IsUnitInRange(it,h8[64+O5],900.))and(bj_forLoopAIndex<6))then
set GZ[272+O5]=false
if(bj_forLoopAIndex>0)then
set hq[240+O5]=Bz+5.
else
set hq[240+O5]=0.
endif
set J4=SC7(it,852504,1093681483,1093748313,GetUnitX(h8[64+O5])+GetRandomReal(-300,300),GetUnitY(h8[64+O5])+GetRandomReal(-300.,300.))
endif
if(not J4)then
set GZ[272+O5]=true
set m5=S77(1800.,b5,Condition(function KG))
set bj_forLoopAIndex=(SE7(600.,h9[48+O5],Condition(function KG)))
if(m5!=null)then
set hq[240+O5]=Bz+5.
set J4=SC7(it,852504,1093681483,1093748313,GetUnitX(m5)+GetRandomReal(-100.,100.),GetUnitY(m5)+GetRandomReal(-100.,100.))
elseif(h9[48+O5]!=null)and(GetUnitState(it,UNIT_STATE_MANA)>DOF(it,1093681483,GT7)+DOF(it,1093748313,GT7)+DOF(it,1093678658,GT7))and(bj_forLoopAIndex<8)then
set hq[240+O5]=Bz+5.
set J4=(SC7(it,852504,1093681483,1093748313,GetUnitX(h9[48+O5])+GetRandomReal(-EJ7,EJ7),GetUnitY(h9[48+O5])+GetRandomReal(-EJ7,EJ7)))
endif
endif
endif
endif
endif
if((not J4)and(Bz>TC4[O5])and(G0[256+O5])and(GetUnitManaPercent(it)>50.))then
set m5=S77(700.,b5,Condition(function k8))
set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SE7(400.,m5,Condition(function k8))>2)and(SB7(it,852504,1093681483,1093748313,m5))
endif
if((not J4)and(Bz>TC4[16+O5])and(G0[256+O5])and(GetUnitAbilityLevel(it,1093678410)>1)and(GetUnitManaPercent(it)>50.))then
set m5=S77(700.,b5,Condition(function WC7))
set J4=(m5!=null)and(SE7(500.,m5,Condition(function WC7))>2)and(SA7(it,852278,1093678410,SX7(m5)))
endif
endif
endif
elseif(i1==1215657064)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>10))then
set m5=S77(800.,b5,Condition(function k6))
endif
call SetPlayerAbilityAvailable(pl,1093677913,(GetHeroLevel(it)>14)and(SD7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))
call SetPlayerAbilityAvailable(pl,1093750841,false)
if(m5!=null)then
set UP=R2I(Q07(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
endif
if((G0[128+O5])and(SG7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5]))then
set J4=(GetHeroLevel(it)>5)and(UP>250)and(UP<700)and((SE7(800.,m5,Condition(function ZJ7))-SE7(800.,m5,Condition(function YB7)))<=1)and(S3F(it,m5))
endif
call SetPlayerAbilityAvailable(pl,1093684291,(GetUnitAbilityLevel(it,1110454856)>0)or(m5!=null))
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5))then
set J4=((UP<300)and(GetUnitAbilityLevel(it,1110454856)==0)and(SL7(it,852100,1093684291)))or((UP<200)and(SL7(it,852600,1093750841)))or((UP<280)and(SL7(it,852096,1093677913)))
endif
elseif(i1==1332179560)then
set J4=(m5!=null)and((GetUnitLifePercent(m5)<50.)or(i2(m5)))and(SZ7(it,OrderId("acidbomb"),1093742660,m5))
if((not J4)and(GetUnitManaPercent(it)>70.)and(GetHeroLevel(it)>4)and(SD7(800.,b5,Condition(function Y57))>0))then
if((m5==null)or(not IsUnitInRange(it,m5,800.)))then
set m5=S77(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(SZ7(it,OrderId("acidbomb"),1093742660,m5))
endif
elseif(i1==1214344551)then
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<70.)and(SD7(700.,b5,Condition(function k6))>1)and(SD7(700.,b5,Condition(function YB7))>0))then
set J4=IssueImmediateOrderById(it,852600)
endif
if(m5!=null)then
set J4=SZ7(it,852095,1093809742,m5)
endif
if(not J4)then
set m5=ZR7(99999,it)
set XY7=ZQ7(99999,it,Condition(function G48))
set m5=OR7(((m5!=null and GetUnitLifePercent(m5)<=45.)or(XY7==null and m5!=null and GetUnitLifePercent(m5)<=70)),m5,XY7)
set J4=((m5!=null)and IssueTargetOrderById(it,852248,m5))
endif
if((not J4)and(GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>2))then
set m5=S77(1500.,b5,Condition(function Y57))
if((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<40.)and(GetUnitCurrentOrder(m5)==851986))then
set J4=(K6(m5))and(IssueTargetOrderById(it,852069,m5))
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and(SD7(1000.,b5,Condition(function YB7))>0))then
set m5=S97(500.,b5,Condition(function k6))
if(m5!=null)and(GetUnitLifePercent(m5)<70.)then
set UP=SD7(700.,b5,Condition(function k6))
set J4=((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and(IssueImmediateOrderById(it,852600))
endif
endif
endif
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
if((GetHeroLevel(it)>15)and(GetUnitTypeId(it)==1311781199)and(GetUnitAbilityLevel(it,1093681479)>2)and(Q17(it,S57(it))<2000.))then
set J4=SL7(it,852138,1093681479)
endif
if((GetUnitTypeId(it)==1311781199)and(GetUnitAbilityLevel(it,1093681479)>1))then
set J4=SL7(it,852138,1093681479)
endif
if((SD7(700.,b5,Condition(function WZ7))==0)and(((GetUnitTypeId(it)==1311781171)and(GetUnitAbilityLevel(it,1093681479)>1))or((GetUnitTypeId(it)==1311781172)and(GetUnitAbilityLevel(it,1093681479)>2))))then
set J4=SL7(it,852139,1093681479)
endif
set m5=T37(GetHandleId(pl),"MyBear")
if((m5==null)or(not R37(m5))or(GetUnitLifePercent(m5)<20 and Bz>TC4[16+O5]))then
set J4=IssueImmediateOrderById(it,852594)
endif
if((not J4)and(IsUnitInRange(it,m5,600.))and(GetUnitAbilityLevel(m5,1110454582)==0)and((h4[O5]!=null)or((GetUnitManaPercent(it)>50.)and(SD7(700.,b5,Condition(function KA))>0))))then
set J4=IssueImmediateOrderById(it,852526)
endif
if((not J4)and(GetUnitAbilityLevel(it,1110454582)==0)and((h4[O5]!=null)or((GetUnitManaPercent(it)>30.)and(SD7(700.,b5,Condition(function KA))>0))))then
set J4=IssueImmediateOrderById(it,852526)
endif
if(SD7(700.,b5,Condition(function Y57))>0)then
set hq[240+O5]=Bz+4.
endif
if((not J4)and(GetUnitTypeId(it)!=1311781199)and(m5!=null)and(IsUnitInRange(it,m5,600.))and(hq[416+O5]>Bz))then
set J4=IssueImmediateOrderById(it,852599)
endif
elseif(i1==1215130471)then
call SetPlayerAbilityAvailable(pl,W77(it),(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>40.))
call SetPlayerAbilityAvailable(pl,W87(it),(GetHeroLevel(it)>12)and(GetUnitManaPercent(it)>70.))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>2))then
set m5=S77(1000.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(((((GetUnitManaPercent(it)>40.)and(GetHeroLevel(it)>2))or(R67(m5,it)))and(SZ7(it,852095,W77(it),m5)))or((R67(m5,it))and(SZ7(it,852662,W87(it),m5))))
if((not J4)and(GetUnitManaPercent(it)>70.)and(GetHeroLevel(it)>12))then
set J4=(SD7(700.,b5,Condition(function k6))==0)and(SD7(700.,b5,Condition(function k8))>0)and(GetUnitAbilityLevel(it,1113746543)==0)and(SZ7(it,852101,W97(it),it))
if(not J4)then
set m5=S77(700.,b5,Condition(function YB7))
set J4=(m5!=null)and(kq(GetUnitTypeId(m5)))and(SD7(700.,b5,Condition(function KA))>0)and(GetUnitAbilityLevel(m5,1113746543)==0)and(SZ7(it,852101,W97(it),m5))
endif
endif
if(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<60))then
set J4=(UE7(GetHandleId(it),"AI|Magi2Blast")and SZ7(it,852600,1093815121,m5))
endif
elseif(i1==1211117636)then
set UP=GetHeroLevel(it)
if(UP>7)then
call SetPlayerAbilityAvailable(pl,1093685041,(m5==null)and(GetUnitManaPercent(it)>50.))
else
call SetPlayerAbilityAvailable(pl,1093685041,false)
endif
if((h4[16+O5]!=null)and(not R37(h4[16+O5])))then
set h4[16+O5]=null
endif
call SetPlayerAbilityAvailable(pl,1093685071,(UP>9)and(h4[16+O5]==null)and(GetUnitManaPercent(it)>60.))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>70.))then
set m5=S77(800.,b5,Condition(function k6))
endif
if((m5!=null)and(UP>2)and(GetUnitManaPercent(it)>30.)and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,900.)))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))
call SetPlayerAbilityAvailable(pl,1093685041,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852218,GetUnitX(it)+1100.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+1100.*Sin(UP*bj_DEGTORAD)))
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SD7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==S27(not IsUnitAlly(it,Z7[0]))))and(SD7(1000.,b5,Condition(function YB7))>0))then
set J4=(GetUnitLifePercent(m5)<75.)and(SB7(it,852095,1093685042,1093810233,m5))
endif
endif
elseif(i1==1160786000)then
call SetPlayerAbilityAvailable(pl,1093685047,(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>70.))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))then
set m5=S77(700.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(GetHeroLevel(it)>3)and((GetUnitManaPercent(it)>40.)or(R67(m5,it)))and(SZ7(it,852218,1093685047,m5))
if((not J4)and(m5!=null)and(GetHeroLevel(it)>5))then
set J4=(Kz(700.,SX7(m5))>1)and((Bz>hq[O5])or(SE7(700.,m5,Condition(function YA7))>0))and(SZ7(it,852125,1093685045,m5))
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
if(i1==1311781193)then
set J4=(((GetHeroLevel(it)>=6)and(h4[O5]!=null))or((GetHeroLevel(it)>10)and(GetUnitLifePercent(it)<80.)and(SD7(700.,b5,Condition(function k8))>0)))and(IssueImmediateOrderById(it,852663))
elseif((m5==null)and(G0[128+O5])and(i1!=1311781193))then
set m5=S77(700.,b5,Condition(function k6))
call LSE(O5,m5,false,false)
endif
if((not J4)and(G0[128+O5])and(eY[320+O5]>=-1)and(h4[O5]!=null or GetUnitManaPercent(it)>70)and(GetUnitAbilityLevel(it,1093750345)>1))then
if m5==null then
if((eY[O5]==9)and(h4[144+O5]!=null)and(R37(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1000.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5])))and(IsUnitVisible(h4[144+O5],GetOwningPlayer(it))))then
set m5=h4[144+O5]
else
set m5=S77(800.,b5,Condition(function k6))
endif
endif
set J4=(m5!=null)and(IsUnitInRange(it,m5,300))and(IssueImmediateOrderById(it,852526))
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>5))then
set J4=(SE7(700.,m5,Condition(function k6))>1)and(SE7(700.,m5,Condition(function YA7))>0)and(SZ7(it,852089,1093683532,m5))
endif
if((not J4)and(GetHeroLevel(it)>11)and(GetUnitManaPercent(it)>55.)and(SD7(500.,b5,Condition(function KA))>2)and(Bz>hq[O5]))then
call SetPlayerAbilityAvailable(pl,1093683532,true)
set J4=IssuePointOrderById(it,852089,GetUnitX(it)+GetRandomReal(0,200.)-100.,GetUnitY(it)+GetRandomReal(0,200.)-100.)
else
call SetPlayerAbilityAvailable(pl,1093683532,(GetHeroLevel(it)>11)and(GetUnitManaPercent(it)>50.))
endif
elseif(i1==1311781206)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
if((eY[O5]==9)and(h4[144+O5]!=null)and(R37(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1200.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))then
set m5=h4[144+O5]
else
set m5=S77(800.,b5,Condition(function k6))
endif
endif
if((m5!=null)and(GetHeroLevel(it)>4))then
if(not IsUnitInRange(it,m5,800.))then
set J4=((eY[O5]==9)or(not IsUnitVisible(it,GetOwningPlayer(m5))))and(LME(it,m5))
elseif(not IsUnitInRange(it,m5,300.))then
set UP=R2I(RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))-GetUnitFacing(it)))
set J4=((GetUnitLifePercent(m5)<60.)or(SE7(600.,m5,Condition(function YA7))>0))and((LME(it,m5))or((Bz>hq[O5])and(UP<50)and(GetUnitState(it,UNIT_STATE_MANA)>230.)and(KGF(it,true))))
elseif(GetUnitLifePercent(m5)<40. and IsUnitInRange(it,m5,300.))then
set J4=LME(it,m5)
endif
if(not J4)and((GetUnitManaPercent(it)>50.)or(GetUnitLifePercent(m5)<60.))then
set J4=IssueImmediateOrderById(it,852600)
endif
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))then
set bj_lastLoadedUnit=m5
set m5=Ie(bj_mapInitialPlayableArea,Condition(function Y67))
set J4=(m5!=null)and(SE7(800.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852493))
set m5=bj_lastLoadedUnit
endif
if(not J4)and(Bz>TC4[32+O5])and(h4[O5]==null)and(GetUnitAbilityLevel(it,1093684280)>1)and(GetUnitState(it,UNIT_STATE_MANA)>=230.)then
if((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[128+O5])and(not G0[48+O5])and(SD7(400.,b5,Condition(function k8))==0))then
set UP=R2I(Q07(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
if(GetRandomInt(1,2)==1)then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-25
else
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+25
endif
set J4=IssuePointOrderById(it,851986,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))
endif
endif
elseif(i1==1211117651)then
if m5==null then
set m5=ZO7(450.,it)
if m5==null then
set m5=ZO7(1000.,it)
endif
endif
if UJ7(it,"OverloadActive")then
if(h4[O5]!=null)and(GetUnitLevel(it)>5)and(not IsUnitInRange(it,h4[O5],450.))and(R67(m5,it))then
call LM7(it,m5,625*(GetUnitAbilityLevel(it,1093743695)+1),1.,99999)
if GO7!=null then
set J4=SA7(it,852218,1093743695,GO7)
endif
endif
if(not J4)then
set J4=IssueTargetOrderById(it,851983,m5)
endif
elseif m5!=null and(GetUnitLevel(it)>3)then
if(not J4)and((h4[O5]!=null)or(GetUnitState(it,UNIT_STATE_MANA)>200.))and((IsUnitInRange(it,m5,300.)or G0[256+O5]))then
set J4=(SZ7(it,852119,1093743698,m5))
endif
if(not J4)and(IsUnitInRange(it,m5,200.))then
set J4=(SL7(it,852526,1093743696))
endif
if(not J4)and(h4[O5]!=null)then
if(not IsUnitInRange(it,h4[O5],450.))and((R67(m5,it))or(G0[256+O5]))then
call LM7(it,m5,625*(GetUnitAbilityLevel(it,1093743695)+1),1.,99999)
if GO7!=null then
set J4=SA7(it,852218,1093743695,GO7)
endif
elseif GetUnitState(it,UNIT_STATE_MANA)>300. then
set EJ7=Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))
call MoveLocation(HB,GetUnitX(it)+150*Cos(EJ7),GetUnitY(it)+150*Sin(EJ7))
set J4=SA7(it,852218,1093743695,HB)
endif
endif
if(not J4)then
if SE7(200.,it,Condition(function WC7))>2 and(GetUnitState(it,UNIT_STATE_MANA)>500. or GetUnitManaPercent(it)>90.)then
set J4=(SL7(it,852526,1093743696))
endif
endif
endif
elseif(i1==1211117649)then
if(GetHeroLevel(it)>6)then
set m5=K3(700.,it,Condition(function k6))
set J4=(m5!=null)and((GetUnitState(it,UNIT_STATE_LIFE)*.5)>GetUnitState(m5,UNIT_STATE_LIFE))and(IssueTargetOrderById(it,852231,m5))
endif
if(not J4)then
set m5=S77(800.,b5,Condition(function Y67))
if(m5==null)then
set m5=S77(600.,b5,Condition(function YA7))
endif
set J4=((m5!=null)and(GetUnitLifePercent(m5)<70.)and((GetHeroLevel(it)>4)or(R67(m5,it)))and(IssueTargetOrderById(it,852095,m5)))or((GetUnitLifePercent(it)<70.)and(IssueTargetOrderById(it,852095,it)))
endif
elseif(i1==1160786265)then
call SetPlayerAbilityAvailable(pl,1093685844,false)
call SetPlayerAbilityAvailable(pl,1093685846,false)
set J4=(m5!=null)and(IsUnitInRange(it,m5,145+(40*GetUnitAbilityLevel(it,1093685839))))and(SL7(it,852129,1093685846))
if((not J4)and(GetHeroLevel(it)>5)and(SD7(900.,b5,Condition(function YR7))==0))then
if((not J4)and(m5!=null)and(GetUnitAbilityLevel(m5,1110456397)==0))then
set J4=((GetUnitLifePercent(m5)<40. or hq[624+O5]>Bz)and(SE7(450.,m5,Condition(function Kh))==0))and(IssuePointOrderById(it,852190,GetUnitX(m5),GetUnitY(m5)))
endif
set J4=(not J4)and(U97(GetHandleId(it),"TrapMax")<GetUnitAbilityLevel(it,1093685840)*3+2)and(GetRandomInt(1,3)==1)and(GetUnitManaPercent(it)>60.)and(SD7(800.,b5,Condition(function k8))>2)and(SD7(800.,b5,Condition(function Kh))==0)and(not V67(it))and(IssuePointOrderById(it,852190,GetUnitX(it)+GetRandomReal(-100.,100.),GetUnitY(it)+GetRandomReal(-100.,100.)))
endif
elseif(i1==1311780930)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))then
set m5=S77(1100.,b5,Condition(function k6))
endif
if((m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>50.))or(GetUnitLifePercent(m5)<60.)))then
set J4=IssuePointOrderById(it,852662,GetUnitX(m5)+150.*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+150.*Sin(GetUnitFacing(m5)*bj_DEGTORAD))
if((GetUnitLifePercent(it)>70.)and((Bz>hq[16+O5])or(R_7(m5,it)))and(G0[128+O5])and(GetUnitLifePercent(m5)<60.)and(GetUnitState(it,UNIT_STATE_LIFE)>(GetUnitState(m5,UNIT_STATE_LIFE)+(15.*GetHeroLevel(m5))))and((SE7(800.,m5,Condition(function ZJ7))-SE7(800.,m5,Condition(function YB7)))<=1))then
set h4[16+O5]=m5
else
set h4[16+O5]=null
endif
set hq[240+O5]=Bz+3.
endif
if((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<60.)and(IsUnitInRange(it,m5,700.)))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(S57(m5)),GetUnitX(m5)-GetUnitX(S57(m5))))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093686072,true)
set GZ[O5]=true
call J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5)+250.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+250.*Sin(UP*bj_DEGTORAD)))
endif
if(not J4)then
set m5=K3(400.,it,Condition(function k6))
set J4=(m5!=null)and(IssueImmediateOrderById(it,852600))
endif
if((not J4)and(GetHeroLevel(it)>13)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SD7(1000.,b5,Condition(function k6))
if((UP>1)and((SD7(1000.,b5,Condition(function YB7))>0)or(S27(IsUnitAlly(it,Z7[0]))==1)))then
set m5=S77(800.,b5,Condition(function k6))
if(SE7(375.,m5,Condition(function k6))>0)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093686072,true)
set GZ[O5]=true
call J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5),GetUnitY(m5)))
endif
endif
endif
elseif(i1==1311786311)then
if m5==null then
set m5=S77(700.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and((GetUnitLifePercent(m5)<60)or(h4[O5]!=null))then
set EJ7=Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))
if(HR8(it,m5,EJ7)!=null)or(HN8(it,m5,EJ7)!=null)then
set J4=SZ7(it,852119,1093743178,m5)
if J4 then
call LSE(O5,m5,false,false)
endif
endif
if(not J4)and(not LH7(it,m5,GetUnitX(m5),GetUnitY(m5),64,Condition(function GS8)))and(IsUnitInRange(it,bj_lastLoadedUnit,550.))then
set J4=SZ7(it,852119,1093743178,bj_lastLoadedUnit)
if J4 then
call LSE(O5,m5,false,false)
endif
endif
if(not J4)and(h4[O5]!=null)and(GetUnitLifePercent(m5)<20.)then
set J4=SZ7(it,852119,1093743178,m5)
endif
endif
if(not J4)and(Bz>TC4[O5])and(m5!=null)and(EH9(m5)or GetUnitMoveSpeed(m5)<300.)and(IsUnitInRange(it,m5,700.))and((m5==h4[O5])or(GetUnitLifePercent(m5)<70))then
set J4=SB7(it,852581,1093743184,1093747766,m5)
if J4 then
call LSE(O5,m5,false,false)
endif
endif
if m5==null then
set m5=S77(1200.,b5,Condition(function k6))
endif
set UP=GetUnitAbilityLevel(it,1093743184)
if UP==0 then
set UP=GetUnitAbilityLevel(it,1093747766)
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and(GetUnitAbilityLevel(it,1093743179)>1)and((GetUnitState(it,UNIT_STATE_MANA)>200.+UP*100.)or(h4[O5]!=null))and((GetUnitLifePercent(m5)>40.)or(GetWidgetLife(m5)<GetUnitAbilityLevel(it,1093743179)*70))and(LM7(it,m5,3000.,1.,1800.)!=null)then
set J4=IssuePointOrderByIdLoc(it,852662,GO7)
endif
if(not J4)and(Bz>TC4[48+O5])and(((hq[704+O5]<-0.1)and(m5!=null))or((hq[704+O5]<-0.8)and(GetUnitLifePercent(it)<60.)))then
set J4=SL7(it,852526,1093743689)
endif
if(not J4)and(Bz>TC4[32+O5])and(GetUnitAbilityLevel(it,1093743179)>1)and(GetUnitState(it,UNIT_STATE_MANA)>300.+UP*100.)then
set m5=K3(1500.,it,Condition(function YT7))
if(m5!=null)then
set IN4=it
call LH7(it,m5,GetUnitX(m5),GetUnitY(m5),175,Condition(function G78))
if bj_forLoopAIndex>2 then
set J4=IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))
endif
endif
endif
if(not J4)and(Bz>TC4[16+O5])and(h4[O5]==null)and(GetUnitAbilityLevel(it,1093743178)>1)and(GetUnitState(it,UNIT_STATE_MANA)>=250.)then
if m5==null or(not IsUnitInRange(m5,it,700))then
set m5=S77(700.,b5,Condition(function k6))
endif
if((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[128+O5])and(not G0[48+O5])and(SD7(400.,b5,Condition(function k8))==0))then
set UP=R2I(Q07(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
if(GetRandomInt(1,2)==1)then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-25
else
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+25
endif
set J4=IssuePointOrderById(it,851986,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))
endif
endif
elseif(i1==1211117652)then
if(m5==null)then
set m5=S77(1200.,b5,Condition(function k6))
endif
if(not J4)and(GetUnitLevel(it)>5)and(Bz>TC4[O5])and(not IsUnitInRange(it,m5,300))and(h4[O5]!=null)and(GZ[208+O5]or((SE7(700.,m5,Condition(function SF7))==0)and(GetUnitLifePercent(m5)<70. or R07(O5))))then
set UP=GetUnitAbilityLevel(it,1093687864)
if UP==0 then
set UP=GetUnitAbilityLevel(it,1093747542)
endif
if(LO7(it,m5,0.5,(UP+3)*500)!=null)then
if(LH7(it,m5,GetLocationX(GO7),GetLocationY(GO7),125,Condition(function GO8)))or(IsUnitInRange(bj_lastReplacedUnit,m5,175)and(IsUnitEnemy(bj_lastReplacedUnit,Player(O5))or SG7(it,ZU[G44])))then
set J4=(SC7(it,852652,1093687864,1093747542,GetLocationX(GO7),GetLocationY(GO7)))
endif
endif
if J4 then
call QA7(0.1)
set J4=false
endif
endif
if(not J4)and(Bz>TC4[48+O5])and(GetUnitAbilityLevel(it,1093687862)>1)then
if(m5==null)then
set m5=S77(99999.,GetUnitLoc(it),Condition(function k6))
endif
if((m5!=null))then
if(GetUnitLifePercent(m5)<50. or GetUnitState(it,UNIT_STATE_MANA)>300.)then
if R67(m5,it)or GZ[208+O5]or h4[O5]!=null then
if LM7(it,m5,1200.,0,99999.)!=null then
set J4=SA7(it,852089,1093687862,GO7)
endif
else
set J4=SA7(it,852089,1093687862,SX7(m5))
endif
endif
endif
endif
if(not J4)and(Bz>TC4[32+O5])and(m5!=null)and(P37(it)>1000.)and(G0[256+O5])and(GetUnitState(it,UNIT_STATE_MANA)>200.)and(IsUnitInRange(it,m5,210))then
set J4=IssueImmediateOrderById(it,852581)
endif
if(not J4)and(Bz>TC4[16+O5])and(h4[O5]!=null)and(IsUnitInRange(it,m5,275))then
set J4=IssueImmediateOrderById(it,852600)
endif
elseif(i1==1160786520)then
call SetPlayerAbilityAvailable(pl,1093809991,(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>70.))
if eY[448+O5]!=0 and RY7(it)then
if(IsUnitInRange(it,h4[320+O5],950.))and(LoadInteger(L7,(GetHandleId(h4[320+O5])),(705))==eY[448+O5])then
set J4=IssueTargetOrderById(it,852665,h4[320+O5])
else
set eY[448+O5]=0
endif
endif
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))then
set m5=S77(700.,b5,Condition(function k6))
endif
if not J4 then
set J4=(m5!=null)and(GetHeroLevel(it)>3)and((GetUnitManaPercent(it)>40.)or(R67(m5,it)))and(SZ7(it,852184,1093809991,m5))
endif
if(not J4)and hq[816+O5]>Bz then
set G0[288+O5]=true
call UNF()
endif
set G0[304+O5]=false
elseif(i1==1311788336)then
if m5==null then
set m5=S77(700.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<60))and(GetUnitState(it,UNIT_STATE_MANA)>100)then
set UP=1
loop
exitwhen UP>3
set bj_lastCreatedUnit=(LoadUnitHandle(L7,GetHandleId(it),(1450+UP)))
exitwhen bj_lastCreatedUnit==null
if(GetWidgetLife(bj_lastCreatedUnit)>0)and(IsUnitInRange(bj_lastCreatedUnit,m5,300))then
set J4=IssuePointOrderById(it,852185,GetUnitX(bj_lastCreatedUnit),GetUnitY(bj_lastCreatedUnit))
exitwhen true
endif
set UP=UP+1
endloop
if(not J4)and(not IsUnitInRange(it,m5,400))and(LoadInteger(L7,GetHandleId(it),(747))>0)and(LM7(it,m5,GetUnitMoveSpeed(it)*2.5,0.2,1500.)!=null)then
set J4=IssuePointOrderByIdLoc(it,852490,GO7)
endif
if J4 then
call LSE(O5,m5,false,false)
endif
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70))and(IsUnitInRange(it,m5,350))and(SE7(400.,it,Condition(function WC7))<=2)then
set J4=SL7(it,852526,1093814323)
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and((h4[O5]!=null)or(GetUnitManaPercent(it)>50 and GetUnitState(it,UNIT_STATE_MANA)>220))then
set J4=SZ7(it,852089,1093814320,m5)
endif
if(not J4)and(m5!=null)and(Bz>TC4[48+O5])and(h4[O5]!=null)then
set J4=IssueImmediateOrderById(it,852600)
endif
if(not J4)and(Bz>TC4[32+O5])and(GetUnitManaPercent(it)>50 and GetUnitState(it,UNIT_STATE_MANA)>400)then
set m5=S77(700.,b5,Condition(function WC7))
if(m5!=null)then
set J4=SZ7(it,852089,1093814320,m5)
endif
endif
elseif(i1==1160786507)then
if m5==null then
set m5=S77(700.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and((GetUnitLifePercent(m5)<70.)or(h4[O5]!=null))then
set UP=SD7(315.,SX7(m5),Condition(function k8))
if(not J4)then
set J4=(UP>=3)and(SZ7(it,852089,1093814850,m5))
endif
endif
if(not J4)and(Bz>TC4[32+O5])and((GetUnitLifePercent(it)<60)or((h4[O5]!=null)and((GetUnitLifePercent(it)<80)or(UnitCountBuffsEx(it,false,true,true,true,false,false,false)>=0))))then
set J4=IssueTargetOrderById(it,852248,it)
endif
if(not J4)and(Bz>TC4[O5])and(G0[256+O5])and((GetUnitLifePercent(m5)<30 and GetUnitLifePercent(it)>GetUnitLifePercent(m5)+25)or(GZ[208+O5]and GetUnitLifePercent(m5)<60))then
set J4=IssueTargetOrderById(it,852095,m5)
endif
if(not J4)and(Bz>TC4[32+O5])then
set m5=S77(800.,b5,Condition(function Y67))
set J4=(m5!=null)and(IssueTargetOrderById(it,852248,m5))
endif
elseif(i1==1211122767)then
if m5==null then
set m5=S77(800.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[48+O5])and((h4[O5]!=null)or(GetUnitManaPercent(m5)>60 and GetUnitLifePercent(m5)<70))and((Bz<TC4[O5])or(GetUnitState(it,UNIT_STATE_MANA)>DOF(it,1093812807,GT7)+100))then
set J4=SZ7(it,852668,1093814350,m5)
endif
if(not J4)and(m5!=null)and(Bz>TC4[O5])and((GetUnitLifePercent(m5)<30)or(EH9(m5))or(GetUnitAbilityLevel(m5,1110459993)!=0))then
set J4=(LO7(it,m5,0.5,1200)!=null)and(IssuePointOrderByIdLoc(it,852662,GO7))
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and((GetUnitLifePercent(m5)<70)or(h4[O5]!=null))and(SE7(Q17(it,m5),it,Condition(function k6))<=1)then
set J4=SL7(it,852526,1093814612)
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and((GetUnitLifePercent(m5)<70)or(h4[O5]!=null)or(GetUnitManaPercent(m5)>80))and((Bz<TC4[O5])or(GetUnitState(it,UNIT_STATE_MANA)>DOF(it,1093812807,GT7)+100))then
set J4=SZ7(it,852119,1093812805,m5)
endif
elseif(i1==1160786738)then
if m5==null then
set m5=S77(700.,b5,Condition(function k6))
endif
if(not J4)then
if GetUnitAbilityLevel(it,1093813848)==0 then
if(h4[O5]!=null)and(not IsUnitInRange(it,m5,400))then
if LM7(it,m5,1000,0.1,1200)!=null then
call IssuePointOrderByIdLoc(it,852216,GO7)
endif
endif
else
if(h4[O5]==null)or(IsUnitInRange(it,m5,400))or(SE7(225,T37(GetHandleId(it),"AI|ShredChakram"),Condition(function k6))==0)then
call IssueImmediateOrderById(it,852177)
endif
endif
call TriggerSleepAction(0.1)
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and((h4[O5]!=null)or(GetUnitLifePercent(it)<70))then
set UP=600+200*GetUnitAbilityLevel(it,1093813555)
if LM7(it,m5,2*UP,0.8,UP)!=null then
if Z_7(it,UP)or((WW4!=null)and(bj_enumDestructableRadius==0)and(Q17(WW4,it)>400.))then
set J4=IssuePointOrderByIdLoc(it,852662,GO7)
endif
endif
if(not J4)and(GetUnitLifePercent(m5)<30)then
if Z57(SX7(m5),300)and(Q17(WW4,it)>400.)then
set J4=IssuePointOrderById(it,852662,GetDestructableX(WW4),GetDestructableY(WW4))
endif
endif
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and(IsUnitInRange(it,m5,300))then
set J4=SL7(it,852526,1093813835)
endif
endif
if not G0[304+O5]then
if((not J4)and(is(it)))then
if(GetUnitAbilityLevel(it,1110454609)>0)then
set m5=S77(250.,b5,Condition(function k6))
if(m5!=null)then
call UnitRemoveAbility(it,1110454609)
set J4=IssueTargetOrderById(it,851983,m5)
else
set m5=S77(800.,b5,Condition(function k6))
set J4=(m5!=null)and(not IsUnitVisible(it,GetOwningPlayer(m5)))and(IssueTargetOrderById(it,851986,m5))
endif
elseif((Q17(it,S57(it))<1000.)and(eY[O5]==1))then
if(SG7(it,ZU[F6]))then
if(h8[16+O5]==h7[14])then
set J4=SNF(0)
elseif(h8[16+O5]==h7[35])then
set J4=SNF(1)
elseif(h8[16+O5]==h7[55])then
set J4=SNF(2)
endif
elseif((GetHeroLevel(it)<11)and(not SH7(it)))then
set m5=null
if(((i1==1211117641)and(GetHeroLevel(it)>5))or(i1==1211117642))then
elseif((IsPlayerAlly(pl,A7[0]))and(h8[16+O5]==h7[14])and(P14<1))then
set m5=JL4
elseif((IsPlayerAlly(pl,Z7[0]))and(h8[16+O5]==h7[14])and(P34<1))then
set m5=JH4
elseif((IsPlayerAlly(pl,A7[0]))and(h8[16+O5]==h7[35])and(P04<1))then
set m5=J64
elseif((IsPlayerAlly(pl,Z7[0]))and(h8[16+O5]==h7[35])and(P64<1))then
set m5=JG4
elseif((IsPlayerAlly(pl,A7[0]))and(h8[16+O5]==h7[55])and(P54<1))then
set m5=J14
elseif((IsPlayerAlly(pl,Z7[0]))and(h8[16+O5]==h7[55])and(PL4<1))then
set m5=JI4
endif
if(m5!=null)then
loop
call TriggerSleepAction(0.5)
exitwhen(Bz>K57[160+O5])
endloop
set J4=VT7(it,m5)
if(not J4 or not U2F)then
call DisableTrigger(H94)
call RemoveItem(U5F)
call EnableTrigger(H94)
else
call SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)-0))
call TF7(StringHash("Stats"+I2S(O5)),"NumOfConsumables",U97(StringHash("Stats"+I2S(O5)),"NumOfConsumables")+1)
endif
endif
endif
endif
if((not J4)and(SG7(it,ZU[DP4])))then
set m5=S77(700.,b5,Condition(function KA))
if((m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)>100.)and(GetUnitState(m5,UNIT_STATE_LIFE)<400.))then
if(not(IsUnitInRange(m5,it,550)))then
call IssuePointOrderById(it,851986,GetUnitX(m5),GetUnitY(m5))
call QA7(.5)
endif
set J4=(SE7(600.,it,Condition(function KA))>3)and(UnitUseItem(it,bj_lastCreatedItem))
endif
set m5=null
set J4=false
endif
if((not J4)and(SG7(it,ZU[S6])))then
if((GetRandomInt(1,10)<=4)and(Bz>hq[144+O5]))then
set m5=S77(700.,b5,Condition(function k8))
set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(not IsUnitType(m5,UNIT_TYPE_HERO))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
endif
if((not J4)and SG7(it,ZU[M3]))then
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if((not J4)and SG7(it,ZU[DM4])and(UJ7(it,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(it)>90.)and(IsUnitInRange(it,m5,150.)))then
set J4=(m5!=null)and(UnitUseItem(it,bj_lastCreatedItem))
elseif(SG7(it,ZU[DK4])and(UJ7(it,"ArmletOfMordigan|Active")==true)and((not IsUnitInRange(it,m5,150.))or(GetUnitLifePercent(it)<60.)))then
set J4=(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and SG7(it,ZU[FC]))then
set J4=(m5!=null)and(GetUnitLifePercent(m5)<40)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if((not J4)and(SG7(it,ZU[DU4])))then
set J4=(m5!=null)and(GetUnitLifePercent(m5)<30)and(G0[256+O5]or GZ[208+O5])and(Q37(m5,it,30))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if((not J4)and(SG7(it,ZU[DY4]))and(GetItemCharges(bj_lastCreatedItem)>0)and(Bz>TC4[224+O5])and(GetUnitState(m5,UNIT_STATE_LIFE)<120))then
set J4=(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if((not J4)and(SG7(it,ZU[VB]))and(GetItemCharges(bj_lastCreatedItem)>0)and(Bz>TC4[256+O5]))then
set J4=((SE7(900.,it,Condition(function ZJ7)))>2)and((SE7(900.,it,Condition(function YB7)))>1)and(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and(SR7(it))and(Bz>TC4[192+O5]))then
if(GetUnitState(it,UNIT_STATE_LIFE)<150)or((GetItemCharges(bj_lastCreatedItem)>=8)and(GetUnitLifePercent(it)<50 or GetUnitManaPercent(it)<20)and(Q17(it,h9[16+O5])>600))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
endif
if((not J4)and(SG7(it,ZU[F74])))then
set J4=(Bz>hq[128+O5])and((GetUnitState(it,UNIT_STATE_MAX_MANA)-GetUnitState(it,UNIT_STATE_MANA))>150.)and(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and(SG7(it,ZU[D44])))then
set J4=((Bz+20.)<hq[O5]or(Bz+20.)<TC4[O5])and(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and(SG7(it,ZU[T2])))then
set J4=(GetUnitLifePercent(it)<50)and((h4[O5]!=null)or(G0[256+O5])or(GZ[208+O5]))and(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and(SG7(it,ZU[WC])))then
if(UE7(R44,VO7(it)+"|G"))then
set m5=S97(700.,b5,Condition(function Km))
set J4=(m5!=null)and(GetRandomInt(1,8)==1)and(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(m5)+GetRandomReal(0.,200.)-100.,GetUnitY(m5)+GetRandomReal(0.,200.)-100.))
if((not J4)and(GetRandomInt(1,4)==1)and(S97(1000.,b5,Condition(function YR7))==null)and(S97(1200.,b5,Condition(function Km))!=null))then
set J4=(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(it)+GetRandomReal(0.,200.)-100.,GetUnitY(it)+GetRandomReal(0.,200.)-100.))
endif
endif
if((not J4)and(GetRandomInt(1,5)==1)and(Q17(it,S57(it))>5000.)and(GetItemCharges(bj_lastCreatedItem)>1)and(S97(800.,b5,Condition(function k8))!=null)and(S97(1000.,b5,Condition(function YR7))==null)and(S97(1100.,b5,Condition(function K7))==null))then
set J4=(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(it)+GetRandomReal(0.,200.)-100.,GetUnitY(it)+GetRandomReal(0.,200.)-100.))
endif
endif
if((not J4)and(SG7(it,ZU[W6])))then
if(m5!=null)and(GetUnitLifePercent(m5)<30)then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,m5)
else
set m5=ZV7(500.,it)
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
endif
if((not J4)and(SG7(it,ZU[DE4])))then
if not((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,Player(O5))))then
set m5=S97(900.,b5,Condition(function k6))
endif
if(m5!=null)then
set m5=ZT7(900.,it)
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
endif
if((not J4)and(SG7(it,ZU[R3])))and(h4[O5]!=null)then
set m5=ZX7(600,it)
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if((not J4)and(SG7(it,ZU[DU4])))then
set m5=ZS7(800,it)
if(R17(m5))then
set bj_forLoopAIndexEnd=GetPlayerId(GetOwningPlayer(m5))
if Q37(m5,h9[16+bj_forLoopAIndexEnd],20)then
set b5=kk(m5,600.,h9[16+bj_forLoopAIndexEnd])
set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
if J4 then
set h9[bj_forLoopAIndexEnd]=h9[16+bj_forLoopAIndexEnd]
endif
elseif(Q37(m5,h9[bj_forLoopAIndexEnd],20))and(h9[bj_forLoopAIndexEnd]!=h9[16+bj_forLoopAIndexEnd])then
set b5=kk(m5,600.,h9[bj_forLoopAIndexEnd])
set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
endif
endif
endif
if((not J4)and(h4[O5]!=null)and(G0[128+O5])and(GetHeroLevel(it)>5))then
set UP=GetUnitCurrentOrder(it)
set m5=h4[O5]
if(((UP==851983)or(UP==851993))and(IsUnitVisible(m5,pl))and(GetUnitAbilityLevel(m5,1110454854)==0)and(not IC(O5))and((GetUnitLifePercent(it)+15.)>GetUnitLifePercent(m5))and(not G0[48+O5]))then
call IssueTargetOrderById(it,851983,m5)
elseif((UP==851986)and(IsUnitInRange(it,m5,600.)))then
call NTF(it,m5)
endif
endif
endif
set it=null
set pl=null
set b5=null
set U0F=null
set m5=null
set V4F=null
set XY7=null
set U1F=null
set ULF=null
endfunction
function UOF takes nothing returns nothing
local unit it=bj_lastLoadedUnit
local unit m5=null
local integer i1=GetUnitTypeId(it)
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local boolean J4=false
set EZ7="UOF"
if DT7 then
call TriggerSleepAction(GetRandomReal(0.2,0.4))
endif
set DT7=true
if((i1==1848651848)or(i1==1848651847)or(i1==1848651851)or(i1==1848651850)or(i1==1848651841)or(i1==1848651830))then
set m5=h4[O5]
if(m5==null)then
set m5=S77(1000.,SX7(it),Condition(function k6))
endif
if((m5!=null)and(GetUnitLifePercent(M7[O5])>50.)and(GetHeroLevel(M7[O5])>5)and(not G0[O5])and(G0[128+O5])and(is(M7[O5]))and(IsUnitInRange(M7[O5],m5,800.)))then
set UP=GetUnitTypeId(M7[O5])
if(UP==1332963428)then
set J4=(Bz>hq[O5])and(GetUnitLifePercent(m5)<70.)and(GetUnitState(M7[O5],UNIT_STATE_MANA)>hq[272+O5])and(SZ7(M7[O5],852480,1093677649,m5))
elseif(UP==1429221446)then
set J4=(Bz>hq[O5])and(GetUnitLifePercent(m5)<80.)and(IsUnitInRange(M7[O5],m5,450.))and(SB7(M7[O5],852480,1093682764,1093747544,m5))
elseif(UP==1164799855)then
call SZ7(M7[O5],852075,1093682264,m5)
elseif(UP==1433105516)then
set J4=(Bz>hq[O5])and(GetUnitLifePercent(m5)<70.)and(not kr(M7[O5]))and(IssueTargetOrderById(M7[O5],OrderId("cannibalize"),m5))
elseif(UP==1332898670)then
if(IsUnitInRange(M7[O5],m5,400)or EH9(m5))then
set GZ[O5]=true
call J8(O5,SZ7(M7[O5],852480,1093677136,m5))
endif
elseif(UP==1214931305)then
call SZ7(M7[O5],852171,1093678147,m5)
elseif(UP==1211117633)then
call SZ7(M7[O5],852585,1093684045,m5)
elseif(UP==1211117636)then
set J4=(GetUnitLifePercent(m5)<50.)and(SB7(M7[O5],852095,1093685042,1093810233,m5))
elseif(UP==1160786243)then
if((GetUnitLifePercent(m5)<50.)and(IsUnitInRange(M7[O5],m5,650.)))then
set GZ[O5]=true
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[O5])-GetUnitY(M7[O5]),GetUnitX(h8[O5])-GetUnitX(M7[O5])))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093678672,true)
call J8(O5,IssuePointOrderById(M7[O5],852089,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD)))
endif
elseif(UP==1311781207)then
set J4=SZ7(M7[O5],852095,1093684817,m5)
endif
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and((IssueTargetOrderById(it,OrderId("creepheal"),m5))or(IssueTargetOrderById(it,851983,m5)))
elseif((i1==1429221441)or(i1==1212363833)or(i1==1164277357)or(i1==1865429047)or(i1==1865429062)or(i1==1752654196)or(i1==1752658994)or(i1==1752658995)or(i1==1747988534)or(GetUnitAbilityLevel(it,1110455088)>0))then
set m5=h4[O5]
if(m5==null)then
set m5=S77(800.,SX7(it),Condition(function k6))
endif
if((m5!=null)and(GetUnitLifePercent(M7[O5])>50.)and(not G0[O5])and(G0[128+O5])and(is(M7[O5]))and(IsUnitInRange(M7[O5],m5,800.)))then
set UP=GetUnitTypeId(M7[O5])
if(UP==1429221441)then
set J4=(SZ7(M7[O5],852231,1093678389,m5))or(IssueTargetOrderById(M7[O5],851983,m5))
elseif(UP==1212363833)then
set J4=(SZ7(M7[O5],852095,1093809220,m5))or(IssueTargetOrderById(M7[O5],851983,m5))
elseif((UP==1160786229)or(UP==1164277357)or(UP==1433105516))then
call IssueTargetOrderById(M7[O5],851983,m5)
endif
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5))
elseif(i1==1848652343)then
set m5=h4[O5]
if(m5==null)then
set m5=S77(800.,SX7(it),Condition(function k6))
endif
if((m5!=null)and(GetUnitLifePercent(M7[O5])>50.)and(not G0[O5])and(G0[128+O5])and(is(M7[O5]))and(IsUnitInRange(M7[O5],m5,800.)))then
set UP=GetUnitTypeId(M7[O5])
if(UP==1211117653)then
set J4=((Bz>TC4[16+O5])and A67(M7[O5],LP4,LP4,LP4,1093686874)and(SZ7(M7[O5],852505,1093686874,m5)))or(IssueTargetOrderById(M7[O5],851983,m5))
endif
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and((GetUnitLevel(M7[O5])>16)or(GetUnitLifePercent(m5)<10.))and(GetUnitLifePercent(m5)<25.)and(IssueTargetOrderById(it,851983,m5))
elseif((i1==1848652103)or(i1==1848652099)or(i1==1848652088)or(i1==1848651828))then
if(((GetUnitLifePercent(it)<25.)or(GZ[288+O5]))and((h4[O5]==null)or(not IsUnitInRange(it,M7[O5],1000.))))then
set J4=SY7(it,851986,S57(it))
set GZ[288+O5]=GetUnitLifePercent(it)<50.
elseif((not GZ[272+O5])and(not G0[16+O5])and(G0[128+O5]))then
set m5=M7[O5]
set J4=(GetUnitLifePercent(it)<90.)and(Q17(S57(it),it)<400.)and(SY7(it,851986,S57(it)))
set UP=R2I(Q07(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093681463,UP>800)
if(not J4)then
if(UP>1000)then
set J4=((UP>3000)and(IssueImmediateOrderById(it,852594)))or(IssueTargetOrderById(it,851971,m5))
else
set J4=((not G0[128+O5])or((GetUnitCurrentOrder(m5)==851986)and((Q17(it,h8[O5])+700.)<Q17(m5,h8[O5]))))and(SY7(it,851986,h9[O5]))
endif
endif
if((not J4)and(GetHeroLevel(M7[O5])<12)and(Bz>hq[240+O5])and(eY[O5]==1))then
set m5=S77(600.,SX7(it),Condition(function KD))
if(m5==null)then
set m5=S77(600.,SX7(it),Condition(function Kc))
endif
set J4=(m5!=null)and(IssueTargetOrderById(it,851971,m5))
if((not J4)and(SD7(400.,SX7(it),Condition(function Ka))>0))then
set m5=S77(400.,SX7(it),Condition(function k6))
if(m5==null)then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h9[O5])-GetUnitY(it),GetUnitX(h9[O5])-GetUnitX(it)))
set J4=IssuePointOrderById(it,851986,GetUnitX(it)+350.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+350.*Sin(UP*bj_DEGTORAD))
else
set J4=IssueTargetOrderById(it,851971,m5)
endif
endif
endif
else
set J4=SY7(it,851986,S57(it))
endif
elseif(GetUnitTypeId(M7[O5])==1211117633)then
set m5=M7[O5]
set J4=(((GetUnitLifePercent(it)<90.)and(Q17(S57(it),it)<400.))or(not R37(m5)))and(SY7(it,851986,S57(it)))
if((not J4)and(GetUnitLifePercent(it)<30.))then
set J4=((i1==1852796263)or(i1==1852207203)or(i1==1853060200)or(i1==1852010091))and(SY7(it,851986,S57(it)))
endif
if(i1==1852796263)then
if((not J4)and(GetRandomInt(0,5)>1))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094936114,true)
set J4=((GetUnitAbilityLevel(m5,1112893025)==0)and(IsUnitInRange(it,m5,800.))and(IssueTargetOrderById(it,852225,m5)))or((GetUnitAbilityLevel(it,1112893025)==0)and(IssueTargetOrderById(it,852225,it)))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094936114,J4)
else
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094936114,false)
endif
endif
if(not J4)then
if(not IsUnitInRange(it,m5,1000.))then
if((h9[O5]!=S57(it))and(not IsUnitInRange(it,m5,3000.))and((RAbsBJ(GetUnitX(it)-GetUnitX(m5))>3000.)and(RAbsBJ(GetUnitY(it)-GetUnitY(m5))>3000.)))then
set J4=SY7(it,851983,h9[O5])
else
set J4=IssueTargetOrderById(it,851971,m5)
endif
else
set J4=((not G0[128+O5])or((GetUnitCurrentOrder(m5)==851986)and((Q17(it,h8[O5])+450.)<Q17(m5,h8[O5]))))and(SY7(it,851986,h9[O5]))
endif
endif
if((GetUnitLifePercent(it)<50.)and(IsUnitInRange(it,m5,600.))and(iU(m5)))then
if(((i1==1852796263)or(i1==1852207203)or(i1==1853060200)or(i1==1852010091))and(Q17(it,S57(it))>4000.))then
call SZ7(m5,852131,1093810260,it)
endif
endif
if((not J4)and(h4[O5]!=null))then
set m5=h4[O5]
if(i1==1853060200)then
set J4=(IsUnitInRange(it,m5,700.))and(IssueTargetOrderById(it,852125,m5))
elseif((i1==1852207203)or(i1==1852010091))then
set J4=(IsUnitInRange(it,m5,250.))and(IssueTargetOrderById(it,852127,m5))
endif
endif
elseif((i1==1848652113)or(i1==1848652114))then
set J4=((R37(M7[O5]))and(IssueTargetOrderById(it,851986,M7[O5])))
elseif((i1==1966092339)or(i1==1966092341)or(i1==1966092345))then
elseif((i1==1966092596)or(i1==1966092597)or(i1==1966092598))then
if(UJ7(M7[O5],"AIFamiliar1|Status")==false)then
call UUF(O5,it)
endif
set J4=true
elseif((i1==1966092612)or(i1==1966092613)or(i1==1966092614))then
if(UJ7(M7[O5],"AIFamiliar2|Status")==false)then
call UUF(O5,it)
endif
set J4=true
elseif((i1==1966092626)or(i1==1966092627)or(i1==1966092628))then
if(UJ7(M7[O5],"AIFamiliar3|Status")==false)then
call UUF(O5,it)
endif
set J4=true
elseif((i1==1697656907)or(i1==1697656905)or(i1==1697656908))then
set h4[16+O5]=it
if(is(it))then
set J4=(((G0[16+O5])or((GetUnitLifePercent(it)<90.)and(Q17(S57(it),it)<400.)))and(SY7(it,851986,S57(it))))or((GetUnitState(it,UNIT_STATE_LIFE)<175.)and((SY7(it,852525,S57(it)))or(SY7(it,851986,S57(it)))))
if((h8[528+O5]!=null)and(not J4))then
set UP=GetUnitUserData(h8[528+O5])
if((UP<10)or(UP>60))then
set UP=GetUnitUserData(h9[512+O5])
endif
if((UP>=10)and(UP<=18))then
set m5=h7[10+P24]
elseif((UP>=30)and(UP<=40))then
set m5=h7[30+P_4]
elseif((UP>=50)and(UP<=60))then
set m5=h7[50+Q44]
endif
if((Bz>hq[240+O5])and(GetRandomInt(1,2)==1))then
if((m5!=h7[10+P24])and(SE7(900.,h7[10+P24],Condition(function KC))>4)and(SE7(900.,h7[10+P24],Condition(function YR7))>0))then
set m5=h7[10+P24]
set hq[240+O5]=Bz+30.
elseif((m5!=h7[30+P_4])and(SE7(900.,h7[30+P_4],Condition(function KC))>4)and(SE7(900.,h7[30+P_4],Condition(function YR7))>0))then
set m5=h7[30+P_4]
set hq[240+O5]=Bz+30.
elseif((m5!=h7[50+Q44])and(SE7(900.,h7[50+Q44],Condition(function KC))>4)and(SE7(900.,h7[50+Q44],Condition(function YR7))>0))then
set m5=h7[50+Q44]
set hq[240+O5]=Bz+30.
endif
endif
if((UP>=10)and(UP<=60))then
if(IsUnitAlly(it,A7[0]))then
set UP=hj[512+GetUnitUserData(m5)]
else
set UP=GetUnitUserData(m5)
endif
set h8[512+O5]=h7[UP+1]
set h8[528+O5]=h7[UP]
set h9[512+O5]=h7[UP-1]
endif
endif
if(GZ[O5])then
set J4=IssueImmediateOrderById(it,852521)
set GZ[O5]=false
else
if(h8[512+O5]!=null)then
set J4=((not IsUnitInRange(it,h8[528+O5],3500.))and(SY7(it,852525,h8[528+O5])))or(SY7(it,851983,h8[512+O5]))
else
set J4=((M7[O5]!=null)and(not IsUnitInRange(it,M7[O5],400.))and(SY7(it,851983,M7[O5])))
endif
endif
endif
elseif((i1==1697656909)or(i1==1697656910)or(i1==1697656911))then
if((eY[O5]!=3)and(eY[O5]!=4))then
if(((GetUnitY(it)>4000.)and(GetUnitY(it)<7000.))or((GetUnitX(it)>-7500.)and(GetUnitX(it)<-5000.)))then
set m5=h7[30+P_4]
elseif(((GetUnitY(it)>-8000.)and(GetUnitY(it)<-5500.))or((GetUnitX(it)>4500.)and(GetUnitX(it)<7000.)))then
set m5=h7[50+Q44]
else
set m5=h7[10+P24]
endif
if(IsUnitAlly(it,A7[0]))then
set UP=hj[512+GetUnitUserData(m5)]
else
set UP=GetUnitUserData(m5)
endif
set J4=SY7(it,851983,h7[UP+1])
endif
elseif((i1==1848651861)or(i1==1848651865)or(i1==1848651866))then
set m5=h4[O5]
if(m5==null)then
set m5=S77(800.,SX7(it),Condition(function k6))
endif
set J4=(GetUnitLifePercent(it)<90.)and(GetUnitLifePercent(M7[O5])>50.)and(not G0[O5])and(is(M7[O5]))and(IsUnitInRange(M7[O5],it,800.))and(IssueTargetOrderById(M7[O5],852248,it))
if((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<50.)and(GetUnitLifePercent(M7[O5])>50.)and(not G0[O5])and(is(M7[O5]))and(IsUnitInRange(M7[O5],m5,800.)))then
set GZ[O5]=true
set J4=J8(O5,SZ7(M7[O5],852089,1093678672,m5))
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5))
elseif(GetUnitAbilityLevel(it,1110455105)>0)then
set J4=(GetUnitLifePercent(it)<50.)and(SY7(it,851986,h9[O5]))
elseif((i1==1852862003)or(i1==1852862006)or(i1==1848652080)or(i1==1848657754))then
call R6F(it,16+O5)
if(GZ[272+O5])then
set J4=SY7(it,851986,h9[16+O5])
else
set m5=h4[O5]
if(m5==null)then
set m5=S77(800.,SX7(it),Condition(function k6))
endif
set J4=(m5!=null)and((IssueTargetOrderById(it,852252,m5))or(IssueImmediateOrderById(it,852520))or((GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5))))
endif
call RLF(it,16+O5,J4)
set J4=true
elseif((i1==1852862002)or(i1==1852862005)or(i1==1848652082)or(i1==1848657969))then
call R6F(it,512+O5)
set m5=h4[O5]
if(m5==null)then
set m5=S77(800.,SX7(it),Condition(function k6))
endif
if(m5!=null)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094935417,true)
set J4=(GZ[272+O5])and(IssueTargetOrderById(it,852144,m5))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094935417,J4)
if(not J4)then
set J4=((UnitCountBuffsExBJ(bj_BUFF_POLARITY_POSITIVE,bj_BUFF_RESIST_EITHER,GetFilterUnit(),false,false)>0)and(IssueTargetOrderById(it,852057,m5)))or((GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5)))
endif
else
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094935417,false)
endif
call RLF(it,512+O5,J4)
if(GetUnitLifePercent(it)<25.)then
set J4=IssueImmediateOrderById(it,852129)
elseif(GetUnitAbilityLevel(it,1112504171)>0)then
set J4=SY7(it,851986,h9[16+O5])
endif
set J4=true
elseif((i1==1852862001)or(i1==1852862004)or(i1==1848652081)or(i1==1848657968))then
call R6F(it,528+O5)
set m5=h4[O5]
if(m5==null)then
set m5=S77(800.,SX7(it),Condition(function k6))
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5))
call RLF(it,528+O5,J4)
set J4=true
elseif((i1==1848652109)or(i1==1848652115))then
set m5=h4[O5]
set h4[16+O5]=it
if(m5==null)then
set m5=S77(800.,SX7(it),Condition(function k6))
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5))
endif
if(not J4)then
if h4[O5]!=null then
call IssueTargetOrderById(it,851983,h4[O5])
elseif((eY[O5]>=9))then
call IssueTargetOrderById(it,851990,M7[O5])
elseif((eY[O5]!=3)and(eY[O5]!=4))then
call SY7(it,851983,h8[O5])
else
if(R37(M7[O5]))then
if(IsUnitInRange(it,M7[O5],1200.))then
set m5=M7[O5]
else
set m5=S77(1200.,SX7(M7[O5]),Condition(function k8))
endif
else
set m5=S77(1200.,SX7(it),Condition(function k8))
endif
set J4=((m5!=null)and(IssuePointOrderById(it,851983,GetUnitX(m5),GetUnitY(m5))))or(SY7(it,851983,h8[64+O5]))
endif
endif
set it=null
set m5=null
endfunction
function VGF takes nothing returns nothing
local integer O5=1
local real QL7
set EZ7="VGF"
loop
exitwhen O5>11
if(IsPlayerInForce(Player(O5),QX4))then
call GroupClear(Q54)
call GroupEnumUnitsOfPlayer(Q54,Player(O5),Q24)
call ForGroup(Q54,function UMF)
endif
if M7[O5]!=null and GetWidgetLife(M7[O5])>.405 then
set QL7=GetUnitState(M7[O5],UNIT_STATE_LIFE)/GetUnitState(M7[O5],UNIT_STATE_MAX_LIFE)
set hq[704+O5]=(QL7-hq[688+O5])
if(Bz>hq[736+O5])or(hq[720+O5]>hq[704+O5])then
set hq[720+O5]=hq[704+O5]
set hq[736+O5]=Bz+10.
endif
set hq[688+O5]=QL7
endif
set O5=O5+1
endloop
endfunction
function VHF takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and(not V27(GetSpellAbilityId())))
endfunction
function VIF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer i1=GetUnitTypeId(m5)
set EZ7="VIF"
if((R17(m5))or(not iU(m5)))then
elseif((i1==1430466609)and(GetUnitLifePercent(m5)<40.))then
call SB7(m5,852125,1093810258,1093810259,j5)
elseif(i1==1429221446)then
call LKE(m5,j5)
elseif((i1==1332766568)and(IsUnitInRange(m5,j5,400.)))then
call IssueImmediateOrderById(m5,852600)
elseif((i1==1332109682)and(IsUnitInRange(m5,j5,500.)))then
call SL7(m5,852588,1093810505)
elseif(i1==1433105516)then
call IssueTargetOrderById(m5,852600,j5)
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(j5)-GetUnitY(m5),GetUnitX(j5)-GetUnitX(m5)))
call IssuePointOrderById(m5,852600,GetUnitX(m5)+150.*Cos(i1*bj_DEGTORAD),GetUnitY(j5)+150.*Sin(i1*bj_DEGTORAD))
elseif(i1==1316252014)then
call IssueTargetOrderById(m5,852190,j5)
elseif((i1==1214931305)and(IsUnitInRange(m5,j5,500.))and(GetUnitLifePercent(m5)<50.))then
call IssueImmediateOrderById(m5,852600)
elseif(i1==1311787088)then
elseif(i1==1211117643)then
call SC7(m5,852504,1093681483,1093748313,GetUnitX(j5),GetUnitY(j5))
elseif(i1==1311781206)then
call LME(m5,j5)
elseif(i1!=1429221445)then
call S2F(m5,j5)
endif
set j5=null
set m5=null
endfunction
function VJF takes unit u returns boolean
local real VKF=1.
set EZ7="AI_WillDodge"
if(TZ4)then
if(Z84[GetPlayerId(GetOwningPlayer(u))]==ZD4)then
set VKF=10.0-GetRandomReal(0,100)
elseif(Z84[GetPlayerId(GetOwningPlayer(u))]==ZE4)then
set VKF=45.0-GetRandomReal(0,100)
elseif(Z84[GetPlayerId(GetOwningPlayer(u))]==ZF4)then
set VKF=65.0-GetRandomReal(0,100)
endif
else
if(Z84[GetPlayerId(GetOwningPlayer(u))]==ZD4)then
set VKF=0.
endif
endif
return(VKF>0)
endfunction
function VMF takes unit j5,unit VNF,real kl returns nothing
local real IW=bj_RADTODEG*Atan2(GetUnitY(VNF)-GetUnitY(j5),GetUnitX(VNF)-GetUnitX(j5))
set EZ7="AI_Dodge_Old"
if(IW>kl)then
set IW=IW+90
else
set IW=IW-90
endif
if not((GetUnitAbilityLevel(VNF,1311780930)>0)and(SL7(VNF,852514,1093686082)))then
call IssuePointOrderById(VNF,851986,GetUnitX(VNF)+250.*Cos(IW*bj_DEGTORAD),GetUnitY(VNF)+250.*Sin(IW*bj_DEGTORAD))
endif
endfunction
function VOF takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),QM4))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(RY7(GetFilterUnit())))
endfunction
function VPF takes aidifficulty d returns real
if d==AI_DIFFICULTY_NEWBIE then
return 0.2
elseif d==AI_DIFFICULTY_NORMAL then
return 0.1
endif
return 0.05
endfunction
function VQF takes nothing returns nothing
local integer VRF=GetHandleId(GetExpiredTimer())
local unit u
local real x0
local real y0
local real x1
local real y1
local real r
if LoadReal(L7,VRF,7)<TimerGetElapsed(W)then
call FlushChildHashtable(L7,VRF)
call DestroyTimer(GetExpiredTimer())
else
set u=LoadUnitHandle(L7,VRF,1)
set x0=LoadReal(L7,VRF,2)
set y0=LoadReal(L7,VRF,3)
set x1=LoadReal(L7,VRF,4)
set y1=LoadReal(L7,VRF,5)
set r=LoadReal(L7,VRF,6)
set u=null
endif
endfunction
function AI_DodgeLineStarter takes nothing returns nothing
local integer VRF
set bj_lastStartedTimer=CreateTimer()
set VRF=GetHandleId(bj_lastStartedTimer)
call SaveUnitHandle(L7,VRF,1,GetEnumUnit())
call SaveReal(L7,VRF,2,QF4)
call SaveReal(L7,VRF,3,QG4)
call SaveReal(L7,VRF,4,QH4)
call SaveReal(L7,VRF,5,QI4)
call SaveReal(L7,VRF,6,QJ4)
call SaveReal(L7,VRF,7,QK4)
call TimerStart(bj_lastStartedTimer,VPF(GetAIDifficulty(GetOwningPlayer(GetEnumUnit()))),true,function VQF)
endfunction
function VSF takes nothing returns nothing
local unit LI7=GetEnumUnit()
local real x1=GetUnitX(LI7)
local real y1=GetUnitY(LI7)
local real dx=QH4-QF4
local real dy=QI4-QG4
local real r=SquareRoot(dx*dx+dy*dy)
local real r1=((x1-QF4)*dx+(y1-QG4)*dy)/r
if r1>0 and r1<=r then
set dx=x1-QF4-dx*r1/r
set dy=y1-QG4-dy*r1/r
set r=SquareRoot(dx*dx+dy*dy)
if not((GetUnitAbilityLevel(LI7,1311780930)>0)and(SL7(LI7,852514,1093686082)))then
if r==0. then
call IssuePointOrderById(LI7,851986,x1-(y1-QG4)*QJ4/r1,y1+(x1-QF4)*QJ4/r1)
elseif r<QJ4 then
call IssuePointOrderById(LI7,851986,x1+dx*(QJ4/r-1),y1+dy*(QJ4/r-1))
endif
endif
endif
set LI7=null
endfunction
function VTF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit LI7=GetEnumUnit()
local real IW
local real kl
set EZ7="VTF"
set IW=Q07(GetUnitX(j5),GetUnitY(j5),GetUnitX(LI7),GetUnitY(LI7))
set kl=RAbsBJ(Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5)))
if((RY7(LI7))and(Q07(GetUnitX(LI7),GetUnitY(LI7),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<300.))then
call VMF(j5,LI7,kl*bj_RADTODEG)
if h4[352+GetPlayerId(GetOwningPlayer(LI7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(LI7))]=j5
endif
endif
set j5=null
set LI7=null
endfunction
function VUF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit LI7=GetEnumUnit()
local real IW=Q07(GetUnitX(j5),GetUnitY(j5),GetUnitX(LI7),GetUnitY(LI7))
local real kl=Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5))
set EZ7="VUF"
if((VJF(LI7))and(RY7(LI7))and(Q07(GetUnitX(LI7),GetUnitY(LI7),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<300.))then
call VMF(j5,LI7,kl*bj_RADTODEG)
if h4[352+GetPlayerId(GetOwningPlayer(LI7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(LI7))]=j5
endif
endif
set j5=null
set LI7=null
endfunction
function VVF takes nothing returns nothing
local unit LI7=GetEnumUnit()
local unit j5=GetTriggerUnit()
local real IW
local real kl
set EZ7="VVF"
set IW=Q07(GetUnitX(j5),GetUnitY(j5),GetUnitX(LI7),GetUnitY(LI7))
set kl=RAbsBJ(Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5)))
if((RY7(LI7))and(((IsUnitInRange(LI7,j5,750.))and(not LNE(LI7,j5,true)))or(not KKF(LI7)))and(Q07(GetUnitX(LI7),GetUnitY(LI7),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<700.))then
call VMF(j5,LI7,kl*bj_RADTODEG)
set G0[64+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=true
if h4[352+GetPlayerId(GetOwningPlayer(LI7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(LI7))]=j5
endif
endif
set j5=null
set LI7=null
endfunction
function VWF takes nothing returns nothing
local unit LI7=GetEnumUnit()
local unit j5=GetTriggerUnit()
local real IW
local real kl
set EZ7="VWF"
set IW=Q07(GetUnitX(j5),GetUnitY(j5),GetUnitX(LI7),GetUnitY(LI7))
set kl=RAbsBJ(Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5)))
if((VJF(LI7))and(RY7(LI7))and(Q07(GetUnitX(LI7),GetUnitY(LI7),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<700.))then
call VMF(j5,LI7,kl*bj_RADTODEG)
set G0[64+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=true
if h4[352+GetPlayerId(GetOwningPlayer(LI7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(LI7))]=j5
endif
endif
set j5=null
set LI7=null
endfunction
function VXF takes nothing returns nothing
local unit LI7=GetEnumUnit()
local unit IB=null
local real kl
set EZ7="VXF"
if(RY7(GetEnumUnit()))then
set IB=h4[272+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
if((IB!=null)and(IsUnitVisible(IB,GetOwningPlayer(GetEnumUnit()))))then
set kl=RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(GetEnumUnit())-GetUnitY(IB),GetUnitX(GetEnumUnit())-GetUnitX(IB)))-GetUnitFacing(IB))
if(kl<50.)then
call VMF(IB,GetEnumUnit(),GetUnitFacing(IB))
set G0[64+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=true
if h4[352+GetPlayerId(GetOwningPlayer(LI7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(LI7))]=GetTriggerUnit()
endif
endif
endif
set IB=null
endif
set LI7=null
endfunction
function VYF takes nothing returns nothing
local unit LI7=GetEnumUnit()
local unit IB=null
local real kl
set EZ7="VYF"
if((VJF(LI7))and(RY7(LI7)))then
set IB=h4[272+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
if((IB!=null)and(IsUnitVisible(IB,GetOwningPlayer(LI7))))then
set kl=RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(LI7)-GetUnitY(IB),GetUnitX(LI7)-GetUnitX(IB)))-GetUnitFacing(IB))
if(kl<50.)then
call VMF(IB,LI7,GetUnitFacing(IB))
set G0[64+GetPlayerId(GetOwningPlayer(LI7))]=true
if h4[352+GetPlayerId(GetOwningPlayer(LI7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(LI7))]=GetTriggerUnit()
endif
endif
endif
set IB=null
endif
endfunction
function VZF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(m5))
local real kl=RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5)))-GetUnitFacing(j5))
local real IW=Q07(GetUnitX(m5),GetUnitY(m5),GetUnitX(j5),GetUnitY(j5))
local boolean UEF
local boolean J4
set EZ7="VZF"
if(IW>900)then
set UEF=kl<140.
elseif(IW>600)then
set UEF=(GetWidgetLife(m5)<1500.)and(kl<110.)
elseif(IW>300)then
set UEF=(GetWidgetLife(m5)<1000.)and(kl<80.)
else
set UEF=(GetWidgetLife(m5)<1000.)and(kl<50.)
endif
if(not iU(m5))then
elseif(not UEF)then
set J4=(IW<700.)and((h4[O5]==null)or(h4[O5]==j5))and((LNE(m5,j5,true))or(IssueTargetOrderById(m5,851983,j5)))
else
if(IW<600.)then
if(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5))>GetUnitFacing(j5))then
call IssuePointOrderById(m5,851986,GetUnitX(j5)+300.*Cos((GetUnitFacing(j5)+90.)*bj_DEGTORAD),GetUnitY(j5)+300.*Sin((GetUnitFacing(j5)+90.)*bj_DEGTORAD))
else
call IssuePointOrderById(m5,851986,GetUnitX(j5)+300.*Cos((GetUnitFacing(j5)-90.)*bj_DEGTORAD),GetUnitY(j5)+300.*Sin((GetUnitFacing(j5)-90.)*bj_DEGTORAD))
endif
elseif((GetWidgetLife(m5)<1200.)or((IW>800.)and(h4[O5]==null)))then
set G0[64+O5]=true
call SY7(m5,851986,h9[O5])
if((GetUnitAbilityLevel(m5,1093681461)>0)and(T37(GetHandleId(GetOwningPlayer(m5)),"MyBear")!=null))then
call SY7(T37(GetHandleId(GetOwningPlayer(m5)),"MyBear"),851986,h9[O5])
endif
endif
endif
set j5=null
set m5=null
endfunction
function VAF takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and((GetUnitAbilityLevel(GetFilterUnit(),1097102451)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1097102385)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1093684533)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1098150517)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1093683785)>0)))
endfunction
function VBF takes nothing returns boolean
return((GetUnitTypeId(GetFilterUnit())==GetUnitTypeId(GetTriggerUnit()))and(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())))
endfunction
function VCF takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit j5=GetTriggerUnit()
local item jp=SK7(m5,ZU[WC])
set EZ7="VCF"
if((jp!=null)and((GetUnitLifePercent(j5)<50.)or((h4[GetPlayerId(GetOwningPlayer(m5))]==j5)and(GetUnitLifePercent(j5)<70.))))then
if(IsUnitInRange(j5,m5,1000.))then
call UnitUseItemPoint(m5,jp,GetUnitX(j5),GetUnitY(j5))
endif
endif
set m5=null
set j5=null
set jp=null
endfunction
function V3F takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit j5=null
local integer O5=GetPlayerId(GetOwningPlayer(m5))
set EZ7="V3F"
if(h4[O5]==GetTriggerUnit())then
set j5=S77(500.,SX7(GetTriggerUnit()),Condition(function VBF))
if(j5!=null)then
set h4[O5]=j5
if(not RY7(m5))then
elseif(not iU(m5))then
call IssueTargetOrderById(m5,851983,j5)
else
call J3(m5,false)
endif
endif
endif
set m5=null
set j5=null
endfunction
function V6F takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
set EZ7="V6F"
return(((i1==1848651848)or(i1==1848651847)or(i1==1848651851))and(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())))
endfunction
function VLF takes nothing returns nothing
local unit m5=GetEnumUnit()
local integer i1=GetUnitTypeId(m5)
local unit V1F=S97(800.,SX7(GetTriggerUnit()),Condition(function V6F))
set EZ7="VLF"
if((not RY7(m5))or(V1F==null))then
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
call SL7(m5,OrderId("charm"),1093747028)
elseif(i1==1164799855)then
call SZ7(m5,852075,1093682264,V1F)
elseif(SG7(m5,ZU[J1]))then
call UnitUseItemTarget(m5,SK7(m5,ZU[J1]),V1F)
elseif(SG7(m5,ZU[D1]))then
call UnitUseItemTarget(m5,SK7(m5,ZU[D1]),V1F)
endif
set m5=null
set V1F=null
endfunction
function V0F takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(m5))
set EZ7="V0F"
if((RY7(m5))and((not IsUnitInRange(j5,m5,500.))or(not LNE(m5,j5,false))))then
if((R17(j5))and(not R17(m5))and(IsUnitInRange(j5,m5,500.)))then
call IssueTargetOrderById(m5,851983,j5)
else
if(SE7(900.,j5,Condition(function k2))<(1+GetUnitAbilityLevel(j5,GetSpellAbilityId())))then
call SY7(m5,851986,h9[O5])
endif
endif
endif
set j5=null
set m5=null
endfunction
function V5F takes nothing returns nothing
if((GetUnitAbilityLevel(GetEnumUnit(),1110459185)==0)or(not KKF(GetEnumUnit())))then
call ExecuteFunc("UHF")
if((GetUnitTypeId(GetEnumUnit())==1315070563)and(GetUnitAbilityLevel(GetEnumUnit(),1110459185)>0)and(not UJ7(GetEnumUnit(),"Omnislashing")))then
call SL7(GetEnumUnit(),852128,1093678407)
endif
endif
endfunction
function V2F takes nothing returns nothing
call ExecuteFunc("V_F")
endfunction
function V_F takes nothing returns nothing
local unit m5=GetEnumUnit()
local integer i1=GetUnitTypeId(m5)
local integer QSF=GetSpellAbilityId()
set EZ7="V_F"
if(not RY7(m5))then
elseif((SG7(m5,ZU[C0]))and(QSF!=1093678674)and(QSF!=1093677906)and(QSF!=1093681494)and(UnitUseItem(m5,SK7(m5,ZU[C0]))))then
elseif((SG7(m5,ZU[Y0]))and(QSF!=1093678674)and(QSF!=1093677906)and(QSF!=1093681494)and(UnitUseItem(m5,SK7(m5,ZU[Y0]))))then
elseif(KKF(m5))then
elseif((QSF!=1093678674)and(QSF!=1093677906)and(QSF!=1093681494)and((i1==1315007329)or(i1==1160785972)or(i1==1432510828)))then
call IssueImmediateOrderById(m5,852129)
elseif((QSF!=1093678674)and(QSF!=1093677906)and(QSF!=1093681494)and(i1==1429221424))then
call SL7(m5,852129,1093679445)
elseif((QSF!=1093678674)and(QSF!=1093677906)and(QSF!=1093681494)and(i1==1212363833))then
call SL7(m5,852123,1093678643)
elseif(((QSF!=1093684529)or(QSF!=1093747032))and(i1==1429221443))then
call SL7(m5,852273,1093686322)
elseif((QSF!=1093678674)and(QSF!=1093677906)and(QSF!=1093681494)and(i1==1429221441))then
call SL7(m5,852123,1093677903)
elseif(i1==1315988077)then
set GZ[GetPlayerId(GetOwningPlayer(m5))]=true
call J8(GetPlayerId(GetOwningPlayer(m5)),SL7(m5,852586,1093684561))
elseif((QSF==1093684529)and(i1==1332963428))then
call SZ7(m5,852227,1093678169,m5)
elseif(i1==1214345830)then
if(QSF!=1093684529)then
set GZ[GetPlayerId(GetOwningPlayer(m5))]=true
call J8(GetPlayerId(GetOwningPlayer(m5)),SZ7(m5,852186,1093679190,m5))
else
call IssueImmediateOrderById(m5,852599)
endif
elseif(i1==1311781206)then
if((QSF!=1093677906)and(QSF!=1093681494)and(QSF!=1093678674))then
call IssueImmediateOrderById(m5,852493)
endif
endif
set m5=null
endfunction
function W4F takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer QSF
local integer O5=GetPlayerId(GetOwningPlayer(m5))
set EZ7="W4F"
set G0[64+O5]=true
if(RY7(m5))then
if((i2(j5))and(LNE(m5,j5,false)))then
elseif(Q17(m5,h9[O5])<Q17(j5,h9[O5]))then
call SY7(m5,851986,h9[O5])
else
call SY7(m5,851986,h8[O5])
endif
set QSF=GetSpellAbilityId()
if((QSF==1093678388)or(QSF==1093677141)or(QSF==1093677906)or(QSF==1093681494)or((QSF==1093678674)and(GZ[GetPlayerId(GetOwningPlayer(j5))])))then
call V2F()
endif
endif
set j5=null
set m5=null
endfunction
function W7F takes nothing returns nothing
local unit m5=GetEnumUnit()
set EZ7="W7F"
if((not iU(m5))and(GetUnitLifePercent(m5)<95.)and(h4[GetPlayerId(GetOwningPlayer(m5))]==null)and(not IsUnitInRange(GetTriggerUnit(),m5,300.)))then
call IssuePointOrderById(m5,851986,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
endif
set m5=null
endfunction
function W8F takes nothing returns nothing
local unit m5=GetEnumUnit()
local integer QSF=GetSpellAbilityId()
local integer O5=GetPlayerId(GetOwningPlayer(m5))
set EZ7="W8F"
set G0[64+O5]=true
if((QSF==1093683761)or(QSF==1093747288))then
if(RY7(m5))then
if(Q17(m5,h9[O5])<Q07(GetLocationX(Hb),GetLocationY(Hb),GetUnitX(h9[O5]),GetUnitY(h9[O5])))then
call SY7(m5,851986,h9[O5])
else
call SY7(m5,851986,h8[O5])
endif
endif
else
if((RY7(m5))and((GetUnitLevel(m5)<6)or(GetUnitLifePercent(m5)<75.)or(not Id(O5))))then
if(((QSF==1093683532)or(QSF==1093681745))and(GetUnitLevel(m5)>5)and(GetUnitState(m5,UNIT_STATE_LIFE)>1300.))then
elseif((QSF==1093685825)and(Q17(m5,h9[O5])<Q07(GetLocationX(Hb),GetLocationY(Hb),GetUnitX(h9[O5]),GetUnitY(h9[O5]))))then
call SY7(m5,851986,h9[O5])
else
call SY7(m5,851986,h9[O5])
endif
endif
endif
set m5=null
endfunction
function W9F takes nothing returns nothing
local unit m5=GetEnumUnit()
set EZ7="W9F"
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
if((is(m5))and((GetUnitLevel(m5)<5)or(GetUnitLifePercent(m5)<75.)or(h4[GetPlayerId(GetOwningPlayer(m5))]==null)))then
if((GetSpellAbilityId()!=1093677877)or(SE7(500.,GetTriggerUnit(),Condition(function k0))<3))then
call SY7(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
endif
endif
set m5=null
endfunction
function WDF takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit j5=GetTriggerUnit()
set EZ7="WDF"
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(RY7(m5))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
if(not LNE(m5,j5,true))then
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
call SY7(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
endif
endif
set m5=null
set j5=null
endfunction
function WEF takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit j5=GetTriggerUnit()
set EZ7="WEF"
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(RW7(m5))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
if((GetUnitLifePercent(m5)>45. or GetUnitState(m5,UNIT_STATE_LIFE)>500.)and((SE7(800.,j5,Condition(function Y37))>=2)or(SE7(650.,j5,Condition(function YC7))>=2)or((SE7(800.,j5,Condition(function Y37))>=1)and(SE7(650.,j5,Condition(function YC7))>=1))))then
set j5=S97(800.,SX7(m5),Condition(function YS7))
if(j5!=null)then
set h4[GetPlayerId(GetOwningPlayer(m5))]=j5
call NTF(m5,j5)
call IssueTargetOrderById(m5,851983,j5)
endif
else
if(KKF(m5))then
elseif(Q17(m5,h9[GetPlayerId(GetOwningPlayer(m5))])<Q17(j5,h9[GetPlayerId(GetOwningPlayer(m5))]))then
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
call SY7(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
else
call SY7(m5,851986,h8[GetPlayerId(GetOwningPlayer(m5))])
endif
endif
endif
set m5=null
set j5=null
endfunction
function WFF takes real WGF,real WHF returns boolean
return WGF!=null and WHF!=null
endfunction
function WIF takes location WJF,real c,real WKF,boolean WMF returns location
local real WNF=GetLocationX(WJF)
local real WOF=GetLocationY(WJF)
local real WGF=DT8(WNF+(Cos(WKF*bj_DEGTORAD)*c))
local real WHF=DU8(WOF+(Sin(WKF*bj_DEGTORAD)*c))
set EZ7="knutz_NewPos"
if((WMF==true)and(WFF(WGF,WHF)!=true))then
return null
endif
return Location(WGF,WHF)
endfunction
function WPF takes nothing returns nothing
local unit SU7=GetTriggerUnit()
local unit PN7=GetEnumUnit()
local location WQF=GetUnitLoc(SU7)
local location WRF=GetUnitLoc(PN7)
local real WKF=AngleBetweenPoints(WQF,WRF)
local real WSF=DistanceBetweenPoints(WQF,WRF)
local real c=WSF+100.00
local location WTF=WIF(WQF,c,WKF,true)
set EZ7="WPF"
if((GetPlayerController(GetOwningPlayer(PN7))==MAP_CONTROL_COMPUTER)and(RY7(PN7))and(IsUnitType(PN7,UNIT_TYPE_HERO)))then
if(WTF!=null)then
call IssuePointOrderByIdLoc(PN7,851986,WTF)
endif
endif
set SU7=null
set PN7=null
call RemoveLocation(WQF)
set WQF=null
call RemoveLocation(WRF)
set WRF=null
call RemoveLocation(WTF)
set WTF=null
endfunction
function WUF takes nothing returns nothing
local unit m5=GetEnumUnit()
local integer i=0
if(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and((SG7(m5,ZU[BA])or SG7(m5,ZU[TC])))then
set IJ4=Q17(EM7,m5)
if(IN4==null)or(IJ4<EJ7)then
set IN4=m5
set EJ7=IJ4
endif
endif
set m5=null
endfunction
function WVF takes nothing returns nothing
call ExecuteFunc("UHF")
endfunction
function WWF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer WXF=GetSpellAbilityId()
local integer O5=GetPlayerId(GetOwningPlayer(j5))
local real JD
local real Je
local integer UP
local real KRF
local integer i=1
local real x0
local real y0
local real x1
local real y1
local real r
set EZ7="WWF"
if(WXF==1093684296)then
if((GetPlayerController(GetOwningPlayer(m5))!=MAP_CONTROL_USER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
set KRF=Bz
set UP=3+(2*GetUnitAbilityLevel(j5,WXF))
loop
set JD=GetUnitX(m5)
set Je=GetUnitY(m5)
call QA7(0.2)
if((GetWidgetLife(m5)<1500.)and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(RY7(m5))and((GetUnitX(m5)!=JD)or(GetUnitY(m5)!=Je)))then
call IssueImmediateOrderById(m5,851993)
endif
exitwhen((RAbsBJ(Bz-KRF)>=UP)or(not R37(m5)))
endloop
endif
elseif(WXF==1093744975)then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call QA7(0.5)
loop
set i=i+1
if((IsUnitInRange(j5,m5,500.))and(is(m5))and(LNE(m5,j5,true)))then
elseif((IsUnitInRange(j5,m5,800.))and(is(m5)))then
call SY7(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
endif
exitwhen((i==6)or(not R37(j5))or(not R37(m5)))
call QA7(0.5)
endloop
endif
elseif(WXF==1093744986)then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
loop
if(RY7(m5))then
if(not LNE(m5,j5,true))then
call SY7(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
endif
endif
set i=i+1
exitwhen((i>15)or(not R37(m5))or(not R37(j5)))
call QA7(0.5)
endloop
endif
elseif(WXF==1093743692)then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO))and(is(m5)))then
call QA7(1.5)
set UP=GetUnitTypeId(m5)
if(UP==1429221446)then
call SL7(m5,852177,1093678667)
elseif(UP==1430466865)then
call SZ7(m5,852066,1093677879,m5)
elseif(UP==1214344551)then
call SZ7(m5,852095,1093809742,m5)
elseif(UP==1211117643)then
call SZ7(m5,852278,1093678410,m5)
else
call S2F(m5,j5)
endif
endif
elseif(WXF==1093750840)then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call QA7(0.5)
loop
if((IsUnitInRange(j5,m5,600.))and(is(m5))and(LNE(m5,j5,true)))then
elseif((SD7(700.,SX7(m5),Condition(function WO7))==0)and(SD7(700.,SX7(m5),Condition(function KQ))==0)and(IsUnitInRange(j5,m5,1500.))and(is(m5)))then
call SY7(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
endif
exitwhen((GetUnitAbilityLevel(m5,1110454617)==0)or(not R37(j5))or(not R37(m5)))
call QA7(0.5)
endloop
endif
elseif((WXF==1093808453)or(WXF==1093681729)or(WXF==1093678147))then
set EN7=false
if(WXF==1093808453)then
call QA7(1)
set bj_lastLoadedUnit=j5
set m5=S97(150,HC[O5],Condition(function WG7))
if m5!=null then
set EJ7=99999
set IH4=GetPlayerId(GetOwningPlayer(m5))
set EM7=null
if((h4[IH4]!=null)or((G0[256+IH4])and(not R17(m5))and(GetHeroLevel(m5)>4)))then
if(h4[IH4]!=null)then
set IN4=h4[IH4]
else
set IN4=h8[IH4]
endif
else
set IN4=h9[IH4]
endif
set UP=1
loop
exitwhen UP>8
set bj_lastCreatedDestructable=TC7(GetHandleId(j5),"AI|SproutTree"+I2S(UP))
set IJ4=Q17(bj_lastCreatedDestructable,IN4)
if IJ4<EJ7 then
set EM7=bj_lastCreatedDestructable
set EJ7=IJ4
endif
call TP7(GetHandleId(j5),"AI|SproutTree"+I2S(UP),null)
set UP=UP+1
endloop
set EJ7=99999
set IN4=null
call IV(GetLocationX(HC[O5]),GetLocationY(HC[O5]),350,Condition(function WG7),function WUF)
set m5=IN4
if(m5!=null)and(SG7(m5,ZU[BA])or SG7(m5,ZU[TC]))then
call UnitUseItemTarget(m5,bj_lastCreatedItem,EM7)
endif
endif
endif
if((WXF!=1093808453)or(EJ7>600))and((m5!=null)and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO))and(RY7(m5)))then
if(WXF!=1093808453)then
call QA7(1)
endif
set UP=GetUnitTypeId(m5)
if((UP==1211117653)and(Bz>TC4[80+GetPlayerId(GetOwningPlayer(m5))])and A67(m5,LP4,LP4,LQ4,1093687372)and(AZ7(m5,LQ4,LQ4,LQ4,false)))then
call IssueImmediateOrderById(m5,852129)
elseif((UP==1429221441)or(UP==1165451634)or(UP==1212365106))then
call IssueTargetOrderById(m5,852600,j5)
elseif((WXF==1093678147)and(UP==1315070563))then
if(not UJ7(m5,"Omnislashing"))then
call SL7(m5,852128,1093678407)
endif
elseif((WXF==1093808453)and(UP==1164666213))then
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=true
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093678679,true)
call IssuePointOrderById(m5,852224,GetUnitX(m5)+10.,GetUnitY(m5)+10.)
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=false
elseif((WXF==1093808453)and(UP==1211117636))then
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093685041,true)
if((GetUnitLifePercent(m5)>50.)or(GetUnitLifePercent(j5)<50.))then
set KRF=bj_RADTODEG*Atan2(GetUnitY(j5)-GetUnitY(m5),GetUnitX(j5)-GetUnitX(m5))
else
set KRF=bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5))
endif
set GZ[GetPlayerId(GetOwningPlayer(m5))]=true
call J8(GetPlayerId(GetOwningPlayer(m5)),IssuePointOrderById(m5,852218,GetUnitX(m5)+900.*Cos(KRF*bj_DEGTORAD),GetUnitY(m5)+900.*Sin(KRF*bj_DEGTORAD)))
elseif((WXF==1093808453)and(UP==1211117620))then
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=true
call MoveLocation(HA,GetWidgetX(m5)+10,GetWidgetY(m5)+10)
call SA7(m5,852232,1093677623,HA)
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=false
elseif((WXF==1093808453)and(UP==1212365106))then
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=true
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093685831,true)
call IssuePointOrderById(m5,852089,GetUnitX(m5)+10.,GetUnitY(m5)+10.)
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=false
elseif((GetUnitLifePercent(j5)<50.)and(kJ(GetUnitX(j5),GetUnitY(j5)))and(GetUnitLifePercent(m5)>50.))then
if(UP==1162032181)then
call IssueTargetOrderById(m5,852218,j5)
elseif((UP==1430466609)or(UP==1164207469))then
call IssueTargetOrderById(m5,852525,j5)
elseif(UP==1429221451)then
call IssueTargetOrderById(m5,852218,j5)
elseif(UP==1328558160)then
call SZ7(m5,852218,1093682766,j5)
elseif(SG7(m5,ZU[RW]))then
call UnitUseItemPoint(m5,SK7(m5,ZU[RW]),GetUnitX(j5),GetUnitY(j5))
else
call KKF(m5)
endif
else
call KKF(m5)
endif
endif
elseif((WXF==1093684565)or(WXF==1093681458)or(WXF==1093679152)or(WXF==1093752154))then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitIllusion(m5))and(GetWidgetLife(m5)<1200.))then
call VN7(m5,false)
endif
elseif(WXF==1093750345)then
elseif(WXF==1093677646)then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
loop
if((iU(m5))and(not R17(m5)))then
call IssueTargetOrderById(m5,851983,j5)
endif
exitwhen((GetUnitCurrentOrder(j5)!=852487)or(not R37(m5))or(not R37(j5)))
call QA7(0.5)
endloop
endif
elseif((WXF==1093753177)or(WXF==1093808181))then
if((IsUnitVisible(j5,Z7[0]))and(IsUnitVisible(j5,A7[0])))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
call QA7(0.2)
call MoveLocation(Hb,JD,Je)
call TriggerSleepAction(.5)
loop
call IV(GetUnitX(j5),GetUnitY(j5),1800.,Condition(function Z97),function VVF)
call QA7(0.8)
exitwhen((GetUnitAbilityLevel(m5,1110459478)==0)or(not R37(m5))or(not R37(j5)))
endloop
endif
elseif(WXF==1093751371)then
call QA7(0.2)
set KRF=Bz
loop
call IV(GetUnitX(j5),GetUnitY(j5),1100.,Condition(function Z97),function WEF)
call QA7(1.0)
exitwhen((RAbsBJ(Bz-KRF)>=7.7)or(not R37(j5)))
endloop
elseif((WXF==1093681987)or(WXF==1093677658)or(WXF==1093678156))then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
loop
if(RY7(m5))then
if(not LNE(m5,j5,true))then
call SY7(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
endif
endif
exitwhen((GetUnitCurrentOrder(j5)!=852487)or(not R37(m5))or(not R37(j5)))
call QA7(0.5)
endloop
endif
elseif((WXF==1093677367)or(WXF==1093678913)or(WXF==1093677621)or(WXF==1093679445)or(WXF==1093677402))then
call TriggerSleepAction(.5)
if((not IsUnitVisible(j5,Z7[0]))or(not IsUnitVisible(j5,A7[0])))then
call IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function KO),function VCF)
endif
elseif((WXF==1093681720)or(WXF==1093678643)or(WXF==1093677903))then
call TriggerSleepAction(1.)
if((SE7(800.,j5,Condition(function VAF))==0)and(not lA(j5,not IsUnitAlly(j5,Z7[0]))))then
call IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function Z97),function V3F)
endif
elseif(WXF==1093682231)then
call TriggerSleepAction(.5)
if((not IsUnitVisible(j5,Z7[0]))or(not IsUnitVisible(j5,A7[0])))then
call IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function Z97),function V3F)
endif
elseif((WXF==1093687351)or(WXF==1093687349)or(WXF==1093678671)or(WXF==1093686091))then
if((IsUnitVisible(j5,Z7[0]))and(IsUnitVisible(j5,A7[0])))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=GetUnitX(j5)
set y0=GetUnitY(j5)
set QJ4=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))
if(WXF==1093686091)then
set r=1200.
else
set r=700.
endif
set x1=x0+(JD-x0)*r/QJ4
set y1=y0+(Je-y0)*r/QJ4
call QA7(0.2)
set QM4=GetOwningPlayer(j5)
set QJ4=250.
set QF4=x0
set QG4=y0
set QH4=x1
set QI4=y1
call IV(x0,y0,r,Condition(function VOF),function VSF)
endif
elseif(WXF==1093686862)then
if(AJ7(GetOwningPlayer(j5))or GetRandomInt(1,4)==4)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
call IV(JD,Je,1100.,Condition(function Z97),function WPF)
endif
elseif((WXF==1093750841)or(WXF==1093684291))then
if(SD7(1200.,GetUnitLoc(j5),Condition(function WK7))>1)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
call IV(JD,Je,1100.,Condition(function Z97),function WDF)
endif
elseif(WXF==1093678665)then
set r=400+(200*GetUnitAbilityLevel(j5,1093678665))
set KRF=TimerGetElapsed(W)
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=GetUnitX(j5)
set y0=GetUnitY(j5)
set QJ4=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))
set x1=x0+(JD-x0)*r/QJ4
set y1=y0+(Je-y0)*r/QJ4
set m5=j5
loop
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call QA7(0.3)
call GroupClear(iF)
set bj_groupEnumTypeId=1966092360
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=GroupPickRandomUnit(iF)
exitwhen(RAbsBJ(TimerGetElapsed(W)-KRF)>1.)
endloop
call QA7(0.2)
loop
exitwhen(RAbsBJ(TimerGetElapsed(W)-KRF)>1.)
set QM4=GetOwningPlayer(j5)
set QJ4=250.
set QF4=GetUnitX(m5)
set QG4=GetUnitY(m5)
set QH4=x1
set QI4=y1
call IV(QF4,QG4,r,Condition(function VOF),function VSF)
call QA7(0.4)
endloop
elseif(WXF==1093685041)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
call QA7(0.1)
loop
call GroupClear(iF)
set bj_groupEnumTypeId=1697657172
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=GroupPickRandomUnit(iF)
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call QA7(0.3)
exitwhen(m5==null)
endloop
loop
call GroupClear(iF)
set bj_groupEnumTypeId=1697657172
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=FirstOfGroup(iF)
exitwhen(m5==null)
call MoveLocation(Hb,JD,Je)
call IV(JD,Je,1000.,Condition(function Z97),function VWF)
call QA7(0.5)
endloop
elseif(WXF==1093679157)then
call QA7(0.1)
set KRF=I2R(1150+(250*GetUnitAbilityLevel(j5,1093679157)))
loop
call GroupClear(iF)
set bj_groupEnumTypeId=1966092362
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=FirstOfGroup(iF)
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call QA7(0.3)
exitwhen((GetUnitCurrentOrder(j5)!=852600)or(not R37(j5)))
endloop
loop
exitwhen((GetUnitCurrentOrder(j5)!=852600)or(not R37(j5)))
call IV(GetUnitX(j5),GetUnitY(j5),KRF,Condition(function Z97),function VZF)
call QA7(0.5)
endloop
elseif(WXF==1093684280)then
set KRF=TimerGetElapsed(W)+3.5
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=JD-GetUnitX(j5)
set y0=Je-GetUnitY(j5)
set r=SquareRoot(x0*x0+y0*y0)
set x0=x0*1000./r
set y0=y0*1000./r
loop
set bj_groupEnumTypeId=1747988533
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
loop
set m5=FirstOfGroup(iF)
exitwhen m5==null or(GetWidgetLife(m5)>.405)
call GroupRemoveUnit(iF,m5)
endloop
set h4[272+O5]=m5
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call QA7(0.1)
exitwhen TimerGetElapsed(W)>KRF
endloop
call QA7(0.1)
loop
exitwhen(TimerGetElapsed(W)>KRF)or(GetWidgetLife(m5)<.405)
set QM4=GetOwningPlayer(j5)
set QF4=GetUnitX(m5)
set QG4=GetUnitY(m5)
set QH4=QF4+x0
set QI4=QG4+y0
set QJ4=300.
call IV(QF4,QG4,1000.,Condition(function VOF),function VSF)
call QA7(0.1)
endloop
elseif(WXF==1093751604)then
set KRF=TimerGetElapsed(W)
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set r=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))
set x0=(JD-GetUnitX(j5))*1000./r
set y0=(Je-GetUnitY(j5))*1000./r
loop
set bj_groupEnumTypeId=1747993394
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=FirstOfGroup(iF)
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call QA7(0.3)
exitwhen(RAbsBJ(TimerGetElapsed(W)-KRF)>3.5)
endloop
set h4[272+O5]=m5
call QA7(0.2)
loop
exitwhen(RAbsBJ(TimerGetElapsed(W)-KRF)>3.5)or(not R37(m5))
set QM4=GetOwningPlayer(j5)
set QF4=GetUnitX(m5)
set QG4=GetUnitY(m5)
set QH4=QF4+x0
set QI4=QG4+y0
set QJ4=200.
call IV(QF4,QG4,1000.,Condition(function VOF),function VSF)
call QA7(0.2)
endloop
elseif(WXF==1093677136)then
loop
call QA7(0.8)
exitwhen((GetUnitAbilityLevel(m5,1110454328)==0)or(GetUnitCurrentOrder(j5)!=852480))
call NTF(j5,m5)
endloop
elseif((WXF==1093684815)or(WXF==1093686072)or(WXF==1093685573))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
if(WXF==1093684815)then
set UP=180
elseif(WXF==1093685573)then
set UP=200+100*GetUnitAbilityLevel(j5,1093685573)
else
set UP=400
endif
call IV(JD,Je,UP,Condition(function Z97),function WVF)
elseif((WXF==1093684564)or(WXF==1093677623)or(WXF==1093678644)or(WXF==1093681754)or(WXF==1093678679))then
if((IsUnitVisible(j5,Z7[0]))and(IsUnitVisible(j5,A7[0])))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
if(WXF==1093678679)then
set UP=130+(25*GetUnitAbilityLevel(j5,1093678679))
elseif(WXF==1093677623)then
set UP=250
else
set UP=500
if(WXF==1093678644)then
call QA7(0.5)
endif
endif
set KRF=Bz
loop
exitwhen(RAbsBJ(Bz-KRF)>=1.5)
call IV(JD,Je,UP,Condition(function Z97),function W8F)
call QA7(0.4)
endloop
call QA7(0.4)
call IV(JD,Je,UP,Condition(function Z97),function WVF)
endif
elseif((WXF==1093678420)or(WXF==1093679176)or(WXF==1093684529)or(WXF==1093747032))then
call QA7(0.5)
call IV(GetUnitX(m5),GetUnitY(m5),600.,Condition(function Z97),function V2F)
elseif((WXF==1093677382)or(WXF==1093677651)or(WXF==1093685047)or(WXF==1093677645)or(WXF==1093678670)or(WXF==1093678898)or(WXF==1093678900)or(WXF==1093678904)or(WXF==1093682766)or(WXF==1093677894)or(WXF==1093810258)or(WXF==1093810259))then
call IV(GetUnitX(j5)+350.*Cos(GetUnitFacing(j5)*bj_DEGTORAD),GetUnitY(j5)+350.*Sin(GetUnitFacing(j5)*bj_DEGTORAD),450.,Condition(function Z97),function WVF)
elseif((WXF==1093678405)or(WXF==1093810505)or(WXF==1093677363)or(WXF==1093681462))then
call QA7(0.5)
call IV(GetUnitX(j5),GetUnitY(j5),900.,Condition(function Z97),function WVF)
elseif((WXF==1093678669)or(WXF==1093679182)or(WXF==1093677913)or(WXF==1093677139)or(WXF==1093810507)or(WXF==1093682252)or(WXF==1093686083))then
call IV(GetUnitX(j5),GetUnitY(j5),350.,Condition(function Z97),function WVF)
elseif((WXF==1093678422)or(WXF==1093682248)or(WXF==1093810508)or(WXF==1093684054))then
call IV(GetUnitX(j5),GetUnitY(j5),550.,Condition(function Z97),function WVF)
elseif((WXF==1093677145)or(WXF==1093682994)or(WXF==1093677360)or(WXF==1093677616))then
call IV(GetUnitX(m5),GetUnitY(m5),450.,Condition(function Z97),function WVF)
elseif(WXF==1093678938)then
call QA7(1.)
call IV(GetUnitX(j5),GetUnitY(j5),950.,Condition(function Z97),function V5F)
elseif((WXF==1093683266)or(WXF==1093682227)or(WXF==1093682246))then
call QA7(1.)
call IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function Z97),function VLF)
elseif((WXF==1093682521)or(WXF==1093682760)or(WXF==1093682736))then
if(WXF==1093682521)then
set KRF=200.
elseif(WXF==1093682760)then
set KRF=450.
elseif(WXF==1093682736)then
set KRF=700.
endif
call IV(GetUnitX(j5)+KRF*Cos(GetUnitFacing(j5)*bj_DEGTORAD),GetUnitY(j5)+KRF*Sin(GetUnitFacing(j5)*bj_DEGTORAD),350.,Condition(function Z97),function WVF)
elseif((WXF==1093678388)or(WXF==1093677141)or(WXF==1093810506))then
call IV(GetUnitX(j5),GetUnitY(j5),850.,Condition(function Z97),function W4F)
elseif((WXF==1093683248)or(WXF==1093685846))then
call TriggerSleepAction(0.1)
loop
call IV(GetUnitX(j5),GetUnitY(j5),700.,Condition(function Z97),function VIF)
exitwhen(((IsUnitVisible(j5,Z7[0]))and(IsUnitVisible(j5,A7[0])))or(not R37(j5)))
call QA7(1.5)
endloop
elseif(WXF==1093677378)then
set KRF=Bz
loop
exitwhen(RAbsBJ(Bz-KRF)>=9.)
call IV(GetUnitX(j5),GetUnitY(j5),700.,Condition(function Kq),function W7F)
call QA7(0.8)
endloop
elseif(WXF==1093681713)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set KRF=Bz
call QA7(0.5)
loop
exitwhen(RAbsBJ(Bz-KRF)>=7.5)
call IV(JD,Je,550.,Condition(function Z97),function W8F)
call QA7(0.6)
endloop
elseif(WXF==1093677385)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set KRF=Bz
call QA7(0.5)
loop
exitwhen(RAbsBJ(Bz-KRF)>=6.5)
call IV(JD,Je,300.,Condition(function Z97),function W8F)
call QA7(0.6)
endloop
elseif(WXF==1093685825)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set KRF=Bz
call QA7(0.5)
loop
exitwhen(RAbsBJ(Bz-KRF)>=9.)
call IV(JD,Je,450.,Condition(function Z97),function W8F)
call QA7(0.6)
endloop
elseif(WXF==1093683532)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set KRF=Bz
call QA7(0.5)
loop
exitwhen(RAbsBJ(Bz-KRF)>=10.5)
call IV(JD,Je,630.,Condition(function Z97),function W8F)
call QA7(0.6)
endloop
elseif(WXF==1093681745)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set KRF=Bz
call QA7(0.5)
loop
exitwhen(RAbsBJ(Bz-KRF)>=7.5)
call IV(JD,Je,1000.,Condition(function Z97),function W8F)
call QA7(0.6)
endloop
elseif(WXF==1093685831)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set UP=360+(80*GetUnitAbilityLevel(j5,1093685831))
set KRF=Bz
call QA7(0.5)
loop
exitwhen(RAbsBJ(Bz-KRF)>=6.5)
call IV(JD,Je,UP,Condition(function Z97),function W8F)
call QA7(0.6)
endloop
elseif(WXF==1093678407)then
set KRF=Bz
loop
exitwhen(RAbsBJ(Bz-KRF)>=4.5)
call IV(GetUnitX(j5),GetUnitY(j5),420.,Condition(function Z97),function W9F)
call QA7(0.6)
endloop
elseif(WXF==1093677877)then
set KRF=Bz
call QA7(0.5)
loop
exitwhen(RAbsBJ(Bz-KRF)>=7.5)
call IV(GetUnitX(j5),GetUnitY(j5),680.,Condition(function Z97),function W9F)
call QA7(0.6)
endloop
elseif(WXF==1093685045)then
set KRF=Bz
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
loop
exitwhen(RAbsBJ(Bz-KRF)>=4.5)
call IV(JD,Je,950.,Condition(function Z97),function W8F)
call QA7(0.5)
endloop
elseif(WXF==1093683761)then
call QA7(1.)
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set KRF=Bz
loop
exitwhen((not GZ[384+O5])or(RAbsBJ(Bz-KRF)>=5.))
call MoveLocation(Hb,JD,Je)
call IV(JD,Je,750.,Condition(function Z97),function W8F)
call QA7(0.5)
endloop
set GZ[384+O5]=false
elseif(WXF==1093678674)then
loop
call QA7(0.5)
exitwhen((GetUnitCurrentOrder(j5)!=852581)or(not R37(j5)))
call IV(GetUnitX(j5),GetUnitY(j5),750.,Condition(function Z97),function W4F)
endloop
call QA7(0.5)
if(GZ[384+O5])then
set UP=0
loop
exitwhen((not GZ[384+O5])or(UP>12))
call IV(GetUnitX(j5),GetUnitY(j5),550.,Condition(function Z97),function W4F)
call QA7(0.6)
set UP=UP+1
endloop
set GZ[384+O5]=false
endif
elseif((WXF==1093684820)or(WXF==1093684824))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
call QA7(0.5)
loop
call QA7(0.6)
exitwhen((GetUnitCurrentOrder(j5)!=852597)or(not R37(j5)))
call IV(JD,Je,900.,Condition(function Z97),function W4F)
endloop
elseif((WXF==1093677906)or(WXF==1093681494))then
call QA7(0.5)
loop
call QA7(0.6)
exitwhen((GetUnitCurrentOrder(j5)!=852600)or(not R37(j5)))
call IV(GetUnitX(j5),GetUnitY(j5),900.,Condition(function Z97),function W4F)
endloop
elseif((WXF==1093678899)or(WXF==1093677898)or(WXF==1093678154)or(WXF==1093678157)or(WXF==1093678158))then
set KRF=Bz
loop
exitwhen((RAbsBJ(Bz-KRF)>=29.)or(not R37(j5)))
call IV(GetUnitX(j5),GetUnitY(j5),1200.,Condition(function Z97),function V0F)
call QA7(0.8)
endloop
elseif(WXF==1093747288)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
loop
call QA7(0.6)
exitwhen((GetUnitCurrentOrder(j5)!=OrderId("cannibalize"))or(not R37(j5)))
call MoveLocation(Hb,JD,Je)
call IV(JD,Je,1000.,Condition(function Z97),function W8F)
endloop
elseif((WXF==1093808454)or(WXF==1093808455))then
loop
call QA7(1.)
exitwhen((GetUnitAbilityLevel(j5,1110454836)==0)or(not R37(j5)))
call IV(GetUnitX(j5),GetUnitY(j5),350.,Condition(function Z97),function W9F)
endloop
elseif(WXF==1093747009)then
if((IsUnitVisible(j5,Z7[0]))and(IsUnitVisible(j5,A7[0])))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=GetUnitX(j5)
set y0=GetUnitX(j5)
set KRF=Bz
call PFF(j5,j5)
loop
exitwhen(RAbsBJ(Bz-KRF)>=1.5)
call IV(JD,Je,475,Condition(function Z97),function W8F)
call IV(x0,y0,475,Condition(function Z97),function W8F)
call QA7(0.4)
endloop
call QA7(0.4)
call IV(JD,Je,UP,Condition(function Z97),function WVF)
endif
elseif(WXF==1093746993)then
set r=2400
set KRF=TimerGetElapsed(W)
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=GetUnitX(j5)
set y0=GetUnitY(j5)
set QJ4=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))
set x1=x0+(JD-x0)*r/QJ4
set y1=y0+(Je-y0)*r/QJ4
set m5=j5
call QA7(1.)
loop
exitwhen(RAbsBJ(TimerGetElapsed(W)-KRF)>3.5)
set QM4=GetOwningPlayer(j5)
set QJ4=350.
set QF4=GetUnitX(m5)
set QG4=GetUnitY(m5)
set QH4=x1
set QI4=y1
call IV(QF4,QG4,r,Condition(function VOF),function VSF)
call QA7(0.4)
endloop
elseif(WXF==1093678929)then
if GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTER then
call RemoveGuardPosition(j5)
endif
elseif(WXF==1093678658)then
call PFF(j5,j5)
elseif(WXF==1093813555)then
set r=600+(200*GetUnitAbilityLevel(j5,1093813555))
set KRF=TimerGetElapsed(W)
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=GetUnitX(j5)
set y0=GetUnitY(j5)
set QJ4=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))
set x1=x0+(JD-x0)*r/QJ4
set y1=y0+(Je-y0)*r/QJ4
set m5=j5
loop
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call QA7(0.3)
call GroupClear(iF)
set bj_groupEnumTypeId=1966092360
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=GroupPickRandomUnit(iF)
exitwhen(RAbsBJ(TimerGetElapsed(W)-KRF)>1.)
endloop
call QA7(0.2)
loop
exitwhen(RAbsBJ(TimerGetElapsed(W)-KRF)>1.)
set QM4=GetOwningPlayer(j5)
set QJ4=250.
set QF4=GetUnitX(m5)
set QG4=GetUnitY(m5)
set QH4=x1
set QI4=y1
call IV(QF4,QG4,r,Condition(function VOF),function VSF)
call QA7(0.4)
endloop
elseif(WXF==G17[1]or WXF==G17[2]or WXF==G17[3])and AK7(Player(O5))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set EJ7=Q07(GetUnitX(j5),GetUnitY(j5),JD,Je)/(2.5*GetUnitMoveSpeed(j5))-0.4
if EJ7>0 then
call PolledWait(EJ7)
else
call PolledWait(0.1)
endif
set bj_lastLoadedUnit=j5
call MoveLocation(HA,JD,Je)
set EN7=(iU(j5))and((UJ7(j5,"AI|EmberEscape")or(SD7(300,HA,Condition(function WG7))!=0))and IssuePointOrderById(j5,852185,JD,Je))
call UO7(j5,"AI|EmberEscape")
elseif(WXF==1093751349 or WXF==1093743415 or WXF==1093808945)then
set eY[224+O5]=R2I(Bz)+EX7
set hq[832+O5]=R2I(Bz)+9
endif
set j5=null
set m5=null
endfunction
function WYF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(j5))
local integer WXF=GetSpellAbilityId()
local boolean TLF=(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)
local unit m5=GetSpellTargetUnit()
local integer X5
local integer i1
local integer UP=1
if(WXF==1093751349 or WXF==1093743415 or WXF==1093808945)then
set hq[832+O5]=0
endif
if(WXF==1093751349 or WXF==1093743415)and TLF then
call QA7(0.1)
if(U74[O5]!=null)and(not UnitHasItem(j5,U74[O5]))then
if SG7(j5,ZU[YC])then
call RemoveItem(bj_lastCreatedItem)
endif
if UnitAddItem(j5,U74[O5])then
set U74[O5]=null
endif
endif
endif
if(WXF==1093751349 or WXF==1093743415)or(WXF==1093808945)or(WXF==1093677391)or(WXF==1093683265)then
call QA7(0.1)
call B87(j5)
endif
if(WXF==1093751874)then
call QA7(11.)
set GU7=LoadUnitHandle(L7,(GetHandleId(j5)),(652))
set bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(GU7))
if(not GZ[224+O5])or(h4[bj_forLoopAIndex]!=null)or AJ7(Player(bj_forLoopAIndex))then
call IssueImmediateOrderById(j5,852600)
endif
endif
call QA7(2)
loop
exitwhen UP>11
if h4[352+UP]==j5 then
set i1=GetUnitTypeId(M7[UP])
set X5=GetUnitCurrentOrder(M7[UP])
set G0[272+UP]=true
if i1==1429221451 and(X5==852503)then
call IssueImmediateOrderById(M7[UP],851972)
call J3(M7[UP],false)
elseif i1==1311780930 and(X5==852514)then
call IssueImmediateOrderById(M7[UP],851972)
call J3(M7[UP],false)
endif
set G0[272+UP]=false
set h4[352+UP]=null
endif
set UP=UP+1
endloop
set j5=null
endfunction
function WZF takes nothing returns nothing
call P4F(GetEnumUnit())
endfunction
function WAF takes unit u returns nothing
if(R17(u))then
if RY7(u)then
call SY7(u,851986,h9[GetPlayerId(GetOwningPlayer(u))])
endif
elseif(Q17(u,S57(u))>5500.)then
if RY7(u)then
call SY7(u,851986,h9[GetPlayerId(GetOwningPlayer(u))])
endif
set h4[GetPlayerId(GetOwningPlayer(u))]=null
else
if RY7(u)then
call SY7(u,851983,JW(u))
endif
endif
if((eY[GetPlayerId(GetOwningPlayer(u))]!=4)and(eY[GetPlayerId(GetOwningPlayer(u))]!=2))then
set eY[GetPlayerId(GetOwningPlayer(u))]=3
endif
endfunction
function WBF takes unit u returns nothing
if(R17(u))then
if RY7(u)then
call SY7(u,851986,h9[GetPlayerId(GetOwningPlayer(u))])
endif
elseif(Q17(u,S57(u))>5500.)then
if RY7(u)then
call SY7(u,851986,h9[GetPlayerId(GetOwningPlayer(u))])
endif
set h4[GetPlayerId(GetOwningPlayer(u))]=null
else
if RY7(u)then
call SY7(u,851983,JW(u))
endif
endif
set eY[GetPlayerId(GetOwningPlayer(u))]=4
set GZ[480+GetPlayerId(GetOwningPlayer(u))]=true
endfunction
function WCF takes nothing returns nothing
call WAF(GetEnumUnit())
endfunction
function W3F takes nothing returns nothing
call WBF(GetEnumUnit())
endfunction
function W6F takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
set EZ7="W6F"
if((Q17(GetEnumUnit(),S57(GetEnumUnit()))<5000.)and(eY[O5]!=4))then
if(IsUnitAlly(GetEnumUnit(),A7[0]))then
if(G3==0)then
set h8[O5]=h7[111]
set h8[16+O5]=h7[114]
elseif(G3==1)then
set h8[O5]=h7[131]
set h8[16+O5]=h7[135]
elseif(G3==2)then
set h8[O5]=h7[151]
set h8[16+O5]=h7[155]
endif
elseif(IsUnitAlly(GetEnumUnit(),Z7[0]))then
if(G4==0)then
set h8[O5]=h7[11]
set h8[16+O5]=h7[14]
elseif(G4==1)then
set h8[O5]=h7[31]
set h8[16+O5]=h7[35]
elseif(G4==2)then
set h8[O5]=h7[51]
set h8[16+O5]=h7[55]
endif
endif
set h9[O5]=S57(GetEnumUnit())
set h9[16+O5]=S57(GetEnumUnit())
if(RY7(GetEnumUnit()))then
call SY7(GetEnumUnit(),851983,h8[O5])
endif
set eY[O5]=1
elseif((IsUnitAlly(GetEnumUnit(),Z7[0]))and(eY[O5]!=9))then
if(((G4==1)and(Q27(GetEnumUnit())==2))or((G4==2)and(Q27(GetEnumUnit())==1)))then
set G0[32+O5]=true
call J3(GetEnumUnit(),true)
elseif(G4==0)then
call KAF(GetEnumUnit(),h7[9+P24])
elseif(G4==1)then
call KAF(GetEnumUnit(),h7[29+P_4])
elseif(G4==2)then
call KAF(GetEnumUnit(),h7[49+Q44])
endif
elseif((IsUnitAlly(GetEnumUnit(),A7[0]))and(eY[O5]!=9))then
if(((G3==1)and(Q27(GetEnumUnit())==2))or((G3==2)and(Q27(GetEnumUnit())==1)))then
set G0[32+O5]=true
call J3(GetEnumUnit(),true)
elseif(G3==0)then
call KAF(GetEnumUnit(),h7[117-P24])
elseif(G3==1)then
call KAF(GetEnumUnit(),h7[139-P_4])
elseif(G3==2)then
call KAF(GetEnumUnit(),h7[159-Q44])
endif
endif
endfunction
function WLF takes nothing returns nothing
set eY[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=11
set h8[48+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=h7[250]
endfunction
function JBF takes nothing returns nothing
local unit it=T37(R44,"OB|U")
local integer KUF
set EZ7="JBF"
if(RY7(it))then
call SY7(it,851986,h9[GetPlayerId(GetOwningPlayer(it))])
endif
set G0[48+GetPlayerId(GetOwningPlayer(it))]=true
set KUF=KNF(6.,it,false,true)
set G0[48+GetPlayerId(GetOwningPlayer(it))]=false
if(GetWidgetLife(it)<=.405)then
elseif((KUF==2)and(not R17(it))and(not G0[32+GetPlayerId(GetOwningPlayer(it))])and(RY7(it)))then
call IssueImmediateOrderById(it,851993)
elseif(KUF==3)then
if((not R17(it))and(not G0[32+GetPlayerId(GetOwningPlayer(it))]))then
if RY7(it)then
call SY7(it,851983,h8[GetPlayerId(GetOwningPlayer(it))])
endif
else
call VN7(it,false)
endif
endif
endfunction
function W1F takes player W0F,player W5F,boolean W2F,string W_F returns nothing
if(W2F)then
call DisplayTimedTextToPlayer(W5F,0,0,10.,Q[GetPlayerId(W0F)]+GetPlayerName(W0F)+"|r has learned "+W_F)
else
call DisplayTimedTextToPlayer(W5F,0,0,10.,Q[GetPlayerId(W0F)]+GetPlayerName(W0F)+"|r didn't yet learn "+W_F)
endif
endfunction
function X4F takes player W5F,unit X7F,integer X8F,string X9F returns nothing
call DisplayTimedTextToPlayer(W5F,0,0,10.,"        - |c0000cc00"+GetAbilityName(X8F)+"|r "+X9F+"[|c00ffff00Level "+I2S(GetUnitAbilityLevel(X7F,X8F))+"|r]")
endfunction
function XDF takes player XEF,player XFF returns nothing
local integer iZ=GetPlayerId(XEF)
local unit it=M7[iZ]
local integer XGF
local integer XHF=0
local integer array XIF
local boolean array XJF
set EZ7="skillb_view"
if(it==null)then
return
endif
set XIF[1]=eY[336+iZ]
if(GetUnitAbilityLevel(it,XIF[1])!=0)then
set XJF[1]=true
set XHF=XHF+1
else
set XJF[1]=false
endif
set XIF[2]=eY[352+iZ]
if(GetUnitAbilityLevel(it,XIF[2])!=0)then
set XJF[2]=true
set XHF=XHF+1
else
set XJF[2]=false
endif
set XIF[3]=eY[368+iZ]
if((GetUnitTypeId(it)==1311781199)or(GetUnitTypeId(it)==1311781171)or(GetUnitTypeId(it)==1311781172)or(GetUnitTypeId(it)==1311781173))then
set XIF[3]=1093681477
endif
if(GetUnitAbilityLevel(it,XIF[3])!=0)then
set XJF[3]=true
set XHF=XHF+1
else
set XJF[3]=false
endif
set XIF[4]=eY[172+iZ]
if(GetUnitAbilityLevel(it,XIF[4])!=0)then
set XJF[4]=true
set XHF=XHF+1
else
set XJF[4]=false
endif
set XIF[5]=eY[188+iZ]
if(GetUnitAbilityLevel(it,XIF[5])!=0)then
set XJF[5]=true
set XHF=XHF+1
else
set XJF[5]=false
endif
set XIF[6]=1096904043
if((GetUnitTypeId(it)==1315334514)or(GetUnitTypeId(it)==1328558160)or(GetUnitTypeId(it)==1311781199)or(GetUnitTypeId(it)==1311781171)or(GetUnitTypeId(it)==1311781172)or(GetUnitTypeId(it)==1311781173)or(GetUnitTypeId(it)==1214409837))then
set XIF[6]=1093684818
endif
if(GetUnitAbilityLevel(it,XIF[6])!=0)then
set XJF[6]=true
set XHF=XHF+1
else
set XJF[6]=false
endif
if(XHF==0)then
call W1F(XEF,XFF,false,"any skill!")
return
endif
if((XHF==1))then
call W1F(XEF,XFF,true,"the following skill:")
endif
if((XHF>1))then
call W1F(XEF,XFF,true,"the following skills:")
endif
set XGF=1
loop
if(XJF[XGF])then
if(GetUnitAbilityLevel(it,XIF[XGF])==1)then
call X4F(XFF,it,XIF[XGF],"")
else
call X4F(XFF,it,XIF[XGF],"up to ")
endif
endif
exitwhen XGF>2
set XGF=XGF+1
endloop
if(GetUnitAbilityLevel(it,XIF[4])>=GetUnitAbilityLevel(it,XIF[5]))then
if(XJF[4])then
if(GetUnitAbilityLevel(it,XIF[4])==1)then
call X4F(XFF,it,XIF[4],"")
else
call X4F(XFF,it,XIF[4],"up to ")
endif
endif
elseif(XJF[5])then
if(GetUnitAbilityLevel(it,XIF[5])==1)then
call X4F(XFF,it,XIF[5],"")
else
call X4F(XFF,it,XIF[5],"up to ")
endif
endif
if(XJF[6])then
if(GetUnitAbilityLevel(it,XIF[6])==1)then
call X4F(XFF,it,XIF[6],"")
else
call X4F(XFF,it,XIF[6],"up to ")
endif
endif
if((XHF<4))then
call W1F(XEF,XFF,false,"the following skills:")
endif
if((XHF==4))then
call W1F(XEF,XFF,false,"the following skill:")
endif
set XGF=1
loop
if(not(XJF[XGF]))then
call X4F(XFF,it,XIF[XGF],"")
endif
exitwhen XGF>2
set XGF=XGF+1
endloop
if((GetUnitAbilityLevel(it,XIF[4])==0)and(GetUnitAbilityLevel(it,XIF[5])==0))then
call X4F(XFF,it,XIF[4],"")
endif
if(not(XJF[6]))then
call X4F(XFF,it,XIF[6],"")
endif
set it=null
endfunction
function XKF takes string VH returns nothing
local player pl=null
local unit m5=null
local integer UP
local integer I2F=0
local integer kg
local boolean K_F=false
local string XMF=""
local group XNF=null
local integer i=0
set EZ7="yBv"
if((SubString(VH,0,2)=="-o")or(SubString(VH,0,2)=="-c")or(SubString(VH,0,2)==" c"))then
set VH=SubString(VH,2,StringLength(VH))
else
return
endif
set EP7=null
if(VH=="tango")then
if(Bz<60.)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496330553))
set PY4=true
endif
elseif(VH=="flask")then
if(Bz<60.)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496330800))
set PY4=false
endif
elseif(VH=="ld")then
if(TZ4==false)then
set TZ4=true
else
set TZ4=false
endif
elseif(VH=="aen")then
if(GetTriggerPlayer()==QT4 and QU4==null)then
call ju(O17(bj_mapInitialPlayableArea,Condition(function ZG7)),function WZF)
set bj_lastLoadedUnit=JA4
set K_F=true
elseif(GetTriggerPlayer()==QU4 and QT4==null)then
call ju(O17(bj_mapInitialPlayableArea,Condition(function ZF7)),function WZF)
set bj_lastLoadedUnit=IZ4
set K_F=true
endif
set XMF=GetObjectName(1496330803)
elseif(VH=="den")then
if(GetTriggerPlayer()==QT4 and QU4==null)then
call ju(O17(bj_mapInitialPlayableArea,Condition(function ZG7)),function WCF)
set bj_lastLoadedUnit=JA4
set K_F=true
elseif(GetTriggerPlayer()==QU4 and QT4==null)then
call ju(O17(bj_mapInitialPlayableArea,Condition(function ZF7)),function WCF)
set bj_lastLoadedUnit=IZ4
set K_F=true
endif
set XMF=GetObjectName(1496330804)
elseif(VH=="sden")then
if(GetTriggerPlayer()==QT4 and QU4==null)then
call ju(O17(bj_mapInitialPlayableArea,Condition(function ZG7)),function W3F)
set bj_lastLoadedUnit=JA4
set K_F=true
elseif(GetTriggerPlayer()==QU4 and QT4==null)then
call ju(O17(bj_mapInitialPlayableArea,Condition(function ZF7)),function W3F)
set bj_lastLoadedUnit=IZ4
set K_F=true
endif
set XMF=GetObjectName(1496330806)
elseif(VH=="roshanen")then
if GetWidgetLife(V4)<.405 then
if(GetTriggerPlayer()==QT4)then
set bj_lastLoadedUnit=JA4
elseif(GetTriggerPlayer()==QU4)then
set bj_lastLoadedUnit=IZ4
endif
set K_F=true
set XMF=GetObjectName(1496330807)
else
if(GetTriggerPlayer()==QT4)then
call ju(O17(bj_mapInitialPlayableArea,Condition(function ZG7)),function WLF)
set bj_lastLoadedUnit=JA4
set K_F=true
elseif(GetTriggerPlayer()==QU4)then
call ju(O17(bj_mapInitialPlayableArea,Condition(function ZF7)),function WLF)
set bj_lastLoadedUnit=IZ4
set K_F=true
endif
set XMF=GetObjectName(1496330546)
endif
elseif(SubString(VH,0,7)=="itemfix")then
set VH=SubString(VH,7,StringLength(VH))
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
loop
call TriggerSleepAction(0.)
set kg=kh(VH)
if(kg>=0)then
set pl=RA7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=RA7(SubString(VH,0,StringLength(VH)))
endif
if((pl!=null)and(AK7(pl))and((IsPlayerAlly(pl,Z7[0])and(QT4==null or GetTriggerPlayer()==QT4))or(IsPlayerAlly(pl,A7[0])and(QU4==null or GetTriggerPlayer()==QU4))))then
set UP=GetPlayerId(pl)
if M7[UP]==null then
else
if GetWidgetLife(M7[UP])>.405 then
call VN7(M7[UP],true)
set hq[528+UP]=Bz+30.
call TJ7(R44,"OB|U",M7[UP])
call ExecuteFunc("JBF")
if(eY[UP]>=9)then
set eY[UP]=1
endif
endif
set GZ[192+UP]=true
call VK7(M7[UP],EP7)
call VF7(M7[UP],EP7,"Fixing itembuild")
endif
endif
exitwhen kg<0
endloop
call DestroyForce(EP7)
elseif((VH=="neut")or(VH=="neu"))then
if(GetTriggerPlayer()==QT4)then
set bj_lastLoadedUnit=IZ4
set Gv=not Gv
if(Gv)then
set I2F=1
endif
else
set bj_lastLoadedUnit=JA4
set Gw=not Gw
if(Gw)then
set I2F=1
endif
endif
set K_F=true
set XMF=GetObjectName(1496330550)+OY7(I2F==1,GetObjectName(1496403790),GetObjectName(1498369862))
elseif(VH=="ui")then
call ExecuteFunc("XOF")
elseif(SubString(VH,0,2)=="sv")then
set VH=SubString(VH,2,StringLength(VH))
loop
call TriggerSleepAction(0.)
set kg=kh(VH)
if(kg>=0)then
set pl=RA7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=RA7(SubString(VH,0,StringLength(VH)))
endif
if((pl!=null)and(AK7(pl)))then
call XDF(pl,GetTriggerPlayer())
endif
exitwhen kg<0
endloop
elseif(SubString(VH,0,1)=="b")then
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
if VH=="b" then
set VH=OY7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,1,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=RA7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=RA7(SubString(VH,0,StringLength(VH)))
endif
set K_F=false
if((pl!=null)and(AM7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set K_F=true
set UP=GetPlayerId(pl)
if(M7[UP]==null)then
set K_F=false
elseif not R37(M7[UP])then
set XMF=GetObjectName(1496330808)
else
call TJ7(R44,"OB|U",M7[UP])
call ExecuteFunc("JBF")
if(eY[UP]>=9)then
set eY[UP]=1
endif
set XMF=GetObjectName(1496330291)
endif
endif
if K_F then
call VK7(M7[UP],EP7)
call VF7(M7[UP],EP7,XMF)
endif
exitwhen kg<0
endloop
set K_F=false
call DestroyForce(EP7)
elseif(SubString(VH,0,1)=="f")then
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
if VH=="f" then
set VH=OY7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,1,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=RA7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=RA7(SubString(VH,0,StringLength(VH)))
endif
set K_F=false
if((pl!=null)and(AM7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set K_F=true
set UP=GetPlayerId(pl)
if(M7[UP]==null)then
set K_F=false
elseif not R37(M7[UP])then
set XMF=GetObjectName(1496330808)
else
call VN7(M7[UP],true)
set hq[528+UP]=Bz+30.
call TJ7(R44,"OB|U",M7[UP])
call ExecuteFunc("JBF")
if(eY[UP]>=9)then
set eY[UP]=1
endif
set XMF=GetObjectName(1496330290)
endif
endif
if K_F then
call VK7(M7[UP],EP7)
call VF7(M7[UP],EP7,XMF)
endif
exitwhen kg<0
endloop
set K_F=false
call DestroyForce(EP7)
elseif((SubString(VH,0,1)=="a")and(VH!="auto"))then
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
if VH=="a" then
set VH=OY7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,1,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=RA7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=RA7(SubString(VH,0,StringLength(VH)))
endif
set K_F=false
if((pl!=null)and(AM7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set K_F=true
set UP=GetPlayerId(pl)
if(M7[UP]==null)then
set K_F=false
elseif not R37(M7[UP])then
set XMF=GetObjectName(1496330808)
elseif R17(M7[UP])then
set XMF=GetObjectName(1496330809)
else
call P4F(M7[UP])
set XMF=GetObjectName(1496330289)
endif
endif
if K_F then
call VK7(M7[UP],EP7)
call VF7(M7[UP],EP7,XMF)
endif
exitwhen kg<0
endloop
set K_F=false
call DestroyForce(EP7)
elseif(SubString(VH,0,1)=="d")then
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
if VH=="d" then
set VH=OY7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,1,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=RA7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=RA7(SubString(VH,0,StringLength(VH)))
endif
set K_F=false
if((pl!=null)and(AM7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set UP=GetPlayerId(pl)
set K_F=true
if(M7[UP]==null)then
set K_F=false
elseif not R37(M7[UP])then
set XMF=GetObjectName(1496330808)
elseif R17(M7[UP])then
set XMF=GetObjectName(1496330809)
else
call WAF(M7[UP])
set XMF=GetObjectName(1496330804)
endif
endif
if K_F then
call VK7(M7[UP],EP7)
call VF7(M7[UP],EP7,XMF)
endif
exitwhen kg<0
endloop
set K_F=false
call DestroyForce(EP7)
elseif(SubString(VH,0,2)=="sd")then
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
if VH=="sd" then
set VH=OY7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,2,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=RA7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=RA7(SubString(VH,0,StringLength(VH)))
endif
set K_F=false
if((pl!=null)and(AM7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set UP=GetPlayerId(pl)
set K_F=true
if(M7[UP]==null)then
set K_F=false
elseif not R37(M7[UP])then
set XMF=GetObjectName(1496330808)
elseif R17(M7[UP])then
set XMF=GetObjectName(1496330809)
else
call WBF(M7[UP])
set XMF=GetObjectName(1496330805)
endif
endif
if K_F then
call VK7(M7[UP],EP7)
call VF7(M7[UP],EP7,XMF)
endif
exitwhen kg<0
endloop
set K_F=false
call DestroyForce(EP7)
elseif(SubString(VH,0,6)=="roshan")then
if GetWidgetLife(V4)<.405 then
if(GetTriggerPlayer()==QT4)then
set bj_lastLoadedUnit=JA4
elseif(GetTriggerPlayer()==QU4)then
set bj_lastLoadedUnit=IZ4
endif
set K_F=true
set XMF=GetObjectName(1496330807)
else
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
if VH=="roshan" then
set VH=OY7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,6,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=RA7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=RA7(SubString(VH,0,StringLength(VH)))
endif
set K_F=false
if((pl!=null)and(AM7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set UP=GetPlayerId(pl)
set K_F=true
if(M7[UP]==null)then
set K_F=false
elseif not R37(M7[UP])then
set XMF=GetObjectName(1496330808)
elseif R17(M7[UP])then
set XMF=GetObjectName(1496330809)
else
set eY[UP]=11
set h8[48+UP]=h7[250]
set XMF=GetObjectName(1496330546)
endif
if K_F then
call VK7(M7[UP],EP7)
call VF7(M7[UP],EP7,XMF)
endif
endif
exitwhen kg<0
endloop
set K_F=false
call DestroyForce(EP7)
endif
elseif(PE4)then
elseif(VH=="auto")then
if(GetTriggerPlayer()==QT4)then
set PZ4=(not PZ4)
set bj_lastLoadedUnit=IZ4
set XMF=GetObjectName(1496331831)+OY7(PZ4,GetObjectName(1496403790),GetObjectName(1498369862))
else
set PA4=(not PA4)
set bj_lastLoadedUnit=JA4
set XMF=GetObjectName(1496331831)+OY7(PA4,GetObjectName(1496403790),GetObjectName(1498369862))
endif
set K_F=true
elseif(VH=="p")then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496332082)+"
"+GetObjectName(1497446194)+"
"+GetObjectName(1497517121)+"
"+F27+GetObjectName(1496332083)+"
"+F27+GetObjectName(1496332084)+"
"+F27+GetObjectName(1496332085)+"
"+F27+GetObjectName(1496332086))
elseif(VH=="pn")then
if(GetTriggerPlayer()==QT4)then
set G4=-1
set bj_lastLoadedUnit=IZ4
else
set G3=-1
set bj_lastLoadedUnit=JA4
endif
set K_F=true
set XMF=GetObjectName(1496332081)
elseif((VH=="pl")or(VH=="pr")or(VH=="pm"))then
if(VH=="pl")then
set I2F=1
elseif(VH=="pr")then
set I2F=2
else
set I2F=0
endif
if(GetTriggerPlayer()==QT4)then
set G4=I2F
call ju(O17(bj_mapInitialPlayableArea,Condition(function ZF7)),function W6F)
set bj_lastLoadedUnit=IZ4
else
set G3=I2F
call ju(O17(bj_mapInitialPlayableArea,Condition(function ZG7)),function W6F)
set bj_lastLoadedUnit=JA4
endif
set K_F=true
if(I2F==1)then
set XMF=GetObjectName(1496332087)
elseif(I2F==2)then
set XMF=GetObjectName(1496332088)
else
set XMF=GetObjectName(1496332089)
endif
elseif(SubString(VH,0,1)=="t")then
if VH!="t" then
set VH=SubString(VH,1,StringLength(VH))
set kg=kE(VH," ")
if kg==0 then
set VH=SubString(VH,1,StringLength(VH))
set kg=kE(VH," ")
endif
set bj_lastLoadedUnit=OR7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),IZ4,JA4)
if(kg>=0)then
set EI7=SubString(VH,kg+1,StringLength(VH))
if EI7=="0" then
set I2F=10
else
set I2F=S2I(EI7)
endif
set pl=RZ7(I2F)
set bj_forLoopAIndex=GetPlayerId(pl)
if(M7[bj_forLoopAIndex]==null)then
set XMF=GetObjectName(1496332336)
set I2F=0
elseif(not R37(M7[bj_forLoopAIndex]))then
set XMF=GetObjectName(1496332337)
set I2F=0
set kg=0
elseif(not IsUnitVisible(M7[bj_forLoopAIndex],GetTriggerPlayer()))and(eY[32+bj_forLoopAIndex]<=2)then
set XMF=GetObjectName(1496332338)
set I2F=0
set kg=0
elseif(not IsPlayerEnemy(GetTriggerPlayer(),pl))then
set XMF=GetObjectName(1496332339)
set I2F=0
set kg=0
else
set VH=SubString(VH,0,kg+1)
set m5=M7[bj_forLoopAIndex]
endif
set K_F=(I2F==0)
else
set I2F=0
set VH="t"
endif
if(I2F>0)then
set I2F=Q27(m5)
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
if SubString(VH,0,1)==" " then
set VH=SubString(VH,1,StringLength(VH))
endif
set kg=kh(VH)
if(kg==-1)then
set VH=SubString(VH,0,1)
if VH=="a" or VH=="x" then
set VH=OY7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
endif
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=RA7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=RA7(SubString(VH,0,StringLength(VH)))
endif
set K_F=false
if((pl!=null)and(AM7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set UP=GetPlayerId(pl)
set K_F=true
if(M7[UP]==null)then
set K_F=false
elseif not R37(M7[UP])then
set XMF=GetObjectName(1496330808)
elseif R17(M7[UP])then
set XMF=GetObjectName(1496330809)
elseif h4[UP]!=null and R17(h4[UP])then
set XMF=GetObjectName(1496331056)
elseif((((I2F==1)and(Q27(M7[UP])==2))or((I2F==2)and(Q27(M7[UP])==1)))and Q17(M7[UP],S57(M7[UP]))>10000.)then
set XMF=GetObjectName(1496331057)
else
call LPE(M7[UP],false)
call KBF(M7[UP],m5)
set G0[160+UP]=true
set h4[144+UP]=m5
set XMF=GetObjectName(1496330295)+Q[GetPlayerId(GetOwningPlayer(m5))]+GetPlayerName(GetOwningPlayer(m5))+"|r"
endif
endif
if K_F then
call VK7(M7[UP],EP7)
call VF7(M7[UP],EP7,XMF)
endif
exitwhen kg<0
endloop
call DestroyForce(EP7)
set K_F=false
endif
endif
if VH=="t" then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496332341)+"
"+GetObjectName(1497446453)+"
"+GetObjectName(1497511989)+"
"+"
"+F27+GetObjectName(1496332342)+"
"+F27+GetObjectName(1496332343)+"
")
endif
elseif(VH=="g")then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496332344)+"
"+GetObjectName(1497446456)+"
"+GetObjectName(1497511992)+"
"+"
"+F27+GetObjectName(1496332345)+"
"+F27+GetObjectName(1496332592)+"
"+F27+GetObjectName(1496332593)+"
")
elseif((SubString(VH,0,2)=="gl")or(SubString(VH,0,2)=="gr")or(SubString(VH,0,2)=="gm"))then
set EP7=CreateForce()
call ForceAddPlayer(EP7,GetTriggerPlayer())
if(SubString(VH,0,2)=="gl")then
set I2F=1
elseif(SubString(VH,0,2)=="gr")then
set I2F=2
else
set I2F=0
endif
set VH=SubString(VH,2,StringLength(VH))
set XNF=CreateGroup()
set i=1
loop
exitwhen i>5
if IsPlayerAlly(GetTriggerPlayer(),Z7[0])then
set pl=Z7[i]
else
set pl=A7[i]
endif
set UP=GetPlayerId(pl)
if(AK7(pl)and M7[UP]!=null and R37(M7[UP])and R17(M7[UP])==false and Q27(M7[UP])==0)then
call GroupAddUnit(XNF,M7[UP])
endif
set i=i+1
endloop
loop
set kg=kh(VH)
if(kg>=0)then
set pl=RA7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=RA7(SubString(VH,0,StringLength(VH)))
endif
set K_F=false
if((pl!=null)and(AK7(pl))and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set UP=GetPlayerId(pl)
set K_F=true
if M7[UP]==null then
set K_F=false
elseif not R37(M7[UP])then
set XMF=GetObjectName(1496330808)
elseif R17(M7[UP])then
set XMF=GetObjectName(1496330809)
elseif h4[UP]!=null and R17(h4[UP])then
set XMF=GetObjectName(1496331056)
else
set G0[64+UP]=true
set h4[UP]=null
call LPE(M7[UP],false)
if(I2F==Q27(M7[UP]))then
set I2F=-1
elseif((((I2F==1)and(Q27(M7[UP])==2))or((I2F==2)and(Q27(M7[UP])==1)))and Q17(M7[UP],S57(M7[UP]))>10000.)then
if(eY[224+UP]<R2I(Bz))then
if(I2F==1)then
set eY[208+UP]=OV7(GetTriggerPlayer()==QT4,29+P_4,139-P_4)
elseif(I2F==2)then
set eY[208+UP]=OV7(GetTriggerPlayer()==QT4,49+Q44,159-Q44)
endif
else
set I2F=10+I2F
call KAF(M7[UP],OR7(GetTriggerPlayer()==QT4,h7[9+P24],h7[117-P24]))
endif
elseif(I2F==1)then
call KAF(M7[UP],OR7(GetTriggerPlayer()==QT4,h7[29+P_4],h7[139-P_4]))
elseif(I2F==2)then
call KAF(M7[UP],OR7(GetTriggerPlayer()==QT4,h7[49+Q44],h7[159-Q44]))
else
call KAF(M7[UP],OR7(GetTriggerPlayer()==QT4,h7[9+P24],h7[117-P24]))
endif
set G0[160+UP]=true
set hq[320+UP]=Bz+45.
if(I2F==1)then
set XMF=GetObjectName(1496331060)
elseif(I2F==2)then
set XMF=GetObjectName(1496331061)
elseif(I2F==11)then
set XMF=GetObjectName(1496331062)
elseif(I2F==12)then
set XMF=GetObjectName(1496331063)
elseif(I2F==-1)then
set XMF=GetObjectName(1496331059)
else
set XMF=GetObjectName(1496331058)
endif
endif
endif
if K_F then
call VK7(M7[UP],EP7)
call VF7(M7[UP],EP7,XMF)
endif
if(I2F>10)then
set I2F=I2F-10
set bj_lastLoadedUnit=FirstOfGroup(XNF)
if bj_lastLoadedUnit!=null then
call GroupRemoveUnit(XNF,bj_lastLoadedUnit)
set UP=GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit))
if(I2F==1)then
call KAF(M7[UP],OR7(GetTriggerPlayer()==QT4,h7[29+P_4],h7[139-P_4]))
call VK7(M7[UP],EP7)
call VF7(M7[UP],EP7,GetObjectName(1496330552))
elseif(I2F==2)then
call KAF(M7[UP],OR7(GetTriggerPlayer()==QT4,h7[49+Q44],h7[159-Q44]))
call VK7(M7[UP],EP7)
call VF7(M7[UP],EP7,GetObjectName(1496330551))
endif
endif
endif
exitwhen kg<0
endloop
call DestroyForce(EP7)
call DestroyGroup(XNF)
set K_F=false
endif
if K_F and XMF!="" then
call UB7(bj_lastLoadedUnit,XMF,GetTriggerPlayer())
endif
call DestroyForce(EP7)
set pl=null
set m5=null
set EP7=null
set XNF=null
endfunction
function XPF takes nothing returns nothing
if(GetEventPlayerChatString()==" ")then
call XKF("-oui")
else
call XKF(GetEventPlayerChatString())
endif
endfunction
function XQF takes unit P67 returns integer
local integer i1=GetUnitTypeId(P67)
if i1==1211117643 then
return 0
endif
if(i1==1212363833 or i1==1212365106 or(i1==1311781199 or i1==1311781171 or i1==1311781172 or i1==1311781173)or i1==1315070563 or i1==1215657064 or i1==1332179560 or i1==1160785973 or((i1==1311781174)or(i1==1311781175)or(i1==1311781442))or i1==1315074670 or((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))or i1==1429221430 or i1==1165451634 or i1==1160785972 or i1==1162032181 or i1==1162032951 or i1==1315334514 or i1==1215722344 or i1==1160786242 or i1==1211117641 or i1==1211119409)then
return 0+GetHeroLevel(P67)/5
endif
if(i1==1215723364 or i1==1328558160 or i1==1211117617 or i1==1212363833 or i1==1212365106 or i1==1311781199 or i1==1315070563 or i1==1215657064 or i1==1332179560 or i1==1160785973 or i1==1433631084 or i1==1211117624 or i1==1315007329 or i1==1215063922 or i1==1164207469 or i1==1315074670 or i1==1211117636 or i1==1311781206 or i1==1211117649 or i1==1160786265 or i1==1211117652 or i1==1211119187 or((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))or i1==1162032439 or i1==1430466865 or i1==1429221441 or i1==1429221432 or i1==1429221430 or((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))or i1==1432646245 or i1==1430467634 or i1==1429221424 or i1==1430468913 or i1==1162032181 or i1==1162032951 or i1==1160785970 or i1==1429221443 or i1==1328558154 or i1==1432510828 or i1==1315334514 or i1==1429221451 or i1==1215722344 or i1==1160786242 or i1==1211117641 or i1==1211119409 or i1==1160786505 or i1==1160786510 or i1==1311788336 or i1==1160786507)then
return 3
endif
if(i1==1211117617 or i1==1214344551 or(i1==1432580716 or i1==1429221720)or i1==1211117624 or i1==1315988077 or i1==1211117616 or i1==1215063922 or i1==1311781193 or i1==1211119187 or i1==1430466865 or i1==1429221441 or i1==1429221432 or i1==1313026096 or i1==1429221443 or i1==1332109682 or i1==1429221446 or i1==1332766568 or i1==1432642913 or i1==1211117650 or i1==1328558389 or i1==1328558406 or i1==1160786502 or i1==1160786738)then
return 2
endif
if(i1==1164799855 or i1==1333027688 or i1==1311781185 or i1==1433105516 or((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))or i1==1215130471 or i1==1164799603 or i1==1432580716 or i1==1211117633 or i1==1332898670 or i1==1214345830 or i1==1160786000 or i1==1311780930 or i1==1311786311 or i1==1430466872 or i1==1430468144 or i1==1430466609 or i1==1211117640 or i1==1332963428 or i1==1429221445 or i1==1160786241 or i1==1429221456 or i1==1160786243 or i1==1311781207 or i1==1311780946 or i1==1211117646 or i1==1211117653 or i1==1311787088 or i1==1328558390 or i1==1160786506 or i1==1160786504 or i1==1211122767)then
return 3
endif
if(i1==1215128178 or i1==1164799855 or i1==1214931305 or i1==1211117620 or i1==1215130471 or i1==1316252014 or i1==1160786000 or i1==1211117651 or i1==1164666213 or i1==1433168227 or i1==1430468406 or i1==1430466872 or i1==1211117640 or i1==1332963428 or i1==1160786241 or i1==1429221456 or i1==1211117653 or i1==1160786520)then
return 3
endif
return 0
endfunction
function XRF takes unit P67 returns integer
local integer i1=GetUnitTypeId(P67)
if(i1==1212363833 or i1==1212365106 or(i1==1311781199 or i1==1311781171 or i1==1311781172 or i1==1311781173)or i1==1315070563 or i1==1215657064 or i1==1332179560 or i1==1160785973 or((i1==1311781174)or(i1==1311781175)or(i1==1311781442))or i1==1315074670 or((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))or i1==1429221430 or i1==1165451634 or i1==1160785972 or i1==1162032181 or i1==1162032951 or i1==1315334514 or i1==1215722344 or i1==1160786242 or i1==1211117641 or i1==1211119409)then
return 3
endif
if(i1==1215723364 or i1==1328558160 or i1==1211117617 or i1==1212363833 or i1==1212365106 or i1==1311781199 or i1==1315070563 or i1==1215657064 or i1==1332179560 or i1==1160785973 or i1==1433631084 or i1==1211117624 or i1==1315007329 or i1==1215063922 or i1==1164207469 or i1==1315074670 or i1==1211117636 or i1==1311781206 or i1==1211117649 or i1==1160786265 or i1==1211117652 or i1==1211119187 or((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))or i1==1162032439 or i1==1430466865 or i1==1429221441 or i1==1429221432 or i1==1429221430 or((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))or i1==1432646245 or i1==1430467634 or i1==1429221424 or i1==1430468913 or i1==1162032181 or i1==1162032951 or i1==1160785970 or i1==1429221443 or i1==1328558154 or i1==1432510828 or i1==1315334514 or i1==1429221451 or i1==1215722344 or i1==1160786242 or i1==1211117641 or i1==1211119409 or i1==1160786505 or i1==1160786510 or i1==1311788336)then
return 2
endif
if(i1==1211117617 or i1==1214344551 or(i1==1432580716 or i1==1429221720)or i1==1211117624 or i1==1315988077 or i1==1211117616 or i1==1215063922 or i1==1311781193 or i1==1211119187 or i1==1430466865 or i1==1429221441 or i1==1429221432 or i1==1313026096 or i1==1429221443 or i1==1332109682 or i1==1429221446 or i1==1332766568 or i1==1432642913 or i1==1211117650 or i1==1328558389 or i1==1328558406 or i1==1160786502 or i1==1160786507 or i1==1160786738)then
return 1
endif
if(i1==1164799855 or i1==1333027688 or i1==1311781185 or i1==1433105516 or((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))or i1==1215130471 or i1==1164799603 or(i1==1432580716 or i1==1429221720)or i1==1211117633 or i1==1332898670 or i1==1214345830 or i1==1160786000 or i1==1311780930 or i1==1311786311 or i1==1430466872 or i1==1430468144 or i1==1430466609 or i1==1211117640 or i1==1332963428 or i1==1429221445 or i1==1160786241 or i1==1429221456 or i1==1160786243 or i1==1311781207 or i1==1311780946 or i1==1211117646 or i1==1211117653 or i1==1311787088 or i1==1328558390 or i1==1160786506 or i1==1160786504 or i1==1211122767)then
return 1
endif
if(i1==1215128178 or i1==1164799855 or i1==1214931305 or i1==1211117620 or i1==1215130471 or i1==1316252014 or i1==1211117643 or i1==1160786000 or i1==1211117651 or i1==1164666213 or i1==1433168227 or i1==1430468406 or i1==1430466872 or i1==1211117640 or i1==1332963428 or i1==1160786241 or i1==1429221456 or i1==1211117653 or i1==1160786520)then
return 2
endif
return 1
endfunction
function XSF takes boolean QO7 returns nothing
local integer O5=0
local integer i=1
set EZ7="aiRoshan"
if QO7 then
set EP7=X7
else
set EP7=Y7
endif
set i=1
loop
exitwhen i>5
if QO7 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i])
endif
if M7[O5]!=null and GetUnitLifePercent(M7[O5])>50 and AK7(Player(O5))and eY[O5]!=11 then
call VK7(M7[O5],EP7)
call VF7(M7[O5],EP7,GetObjectName(1496330546))
set eY[O5]=11
set h8[48+O5]=h7[250]
endif
set i=i+1
endloop
set EP7=null
endfunction
function XTF takes nothing returns nothing
local integer O5=0
local integer VQ7=0
local integer i
local integer FVF=-1
local integer j
local integer k
local integer XUF
local integer XVF
local boolean XWF=false
local boolean XXF=false
local boolean QO7
local real XYF=0
local real XZF=0
set EZ7="XTF"
set k=0
set i=1
loop
exitwhen i>5
set O5=GetPlayerId(Z7[i])
if(M7[O5]!=null)then
if GetHeroLevel(M7[O5])>=6 then
set XWF=true
endif
if(GetHeroLevel(M7[O5])>11 and GetUnitLifePercent(M7[O5])>50)then
set XYF=XYF+EG7
endif
endif
set O5=GetPlayerId(A7[i])
if(M7[O5]!=null)then
if GetHeroLevel(M7[O5])>=6 then
set XXF=true
endif
if(GetHeroLevel(M7[O5])>11 and GetUnitLifePercent(M7[O5])>50)then
set XZF=XZF+EH7
endif
endif
set i=i+1
endloop
set i=1
loop
exitwhen i>5
set O5=GetPlayerId(Z7[i])
if(eY[O5]==9 and eY[272+O5]!=0)then
set XWF=false
endif
if(M7[O5]!=null and(GetUnitLifePercent(M7[O5])>10))then
set XZF=XZF-EG7
endif
set O5=GetPlayerId(A7[i])
if(eY[O5]==9 and eY[272+O5]!=0)then
set XXF=false
endif
if(M7[O5]!=null and(GetUnitLifePercent(M7[O5])>10))then
set XYF=XYF-EH7
endif
set i=i+1
endloop
if(not XWF)and(not XXF)then
return
endif
if GetWidgetLife(V4)>.405 then
if(XYF>=3 and(P24>4 and P_4>5 and Q44>5))then
call XSF(true)
endif
if(XYF>=3 and(P24<4 and P_4<5 and Q44<5))then
call XSF(false)
endif
endif
set i=0
set k=0
if XXF then
set i=i+HB4
set bj_forLoopAIndex=1
else
set bj_forLoopAIndex=6
endif
if XWF then
set i=i+HC4
set bj_forLoopAIndexEnd=10
else
set bj_forLoopAIndexEnd=5
endif
set VQ7=-1
loop
exitwhen((bj_forLoopAIndex>bj_forLoopAIndexEnd)or(VQ7!=-1))
set O5=GetPlayerId(RZ7(bj_forLoopAIndex))
set QO7=(bj_forLoopAIndex<6)
if(M7[O5]!=null)then
if((GetWidgetLife(M7[O5])>.405)and(not R17(M7[O5])))then
call GroupClear(H8)
set bj_lastLoadedUnit=M7[O5]
set j=GetUnitUserData(h8[80+O5])
if((VQ7==-1)and(SE7(1200.,M7[O5],Condition(function WM7))<=1)and(RB7(M7[O5]))and((GetRandomInt(1,i)==1)and(GetRandomInt(1,10)<=7+XRF(M7[O5]))))then
if((j>11 and j<17)or(j==11 and QO7==false)or(j==17 and QO7)or(j>11 and j<17)or(j==11 and QO7==false)or(j==17 and QO7)or(j>31 and j<39)or(j==31 and QO7==false)or(j==39 and QO7)or(j>11 and j<17)or(j==11 and QO7==false)or(j==17 and QO7)or(j>51 and j<59)or(j==51 and QO7==false)or(j==59 and QO7))then
set VQ7=O5
endif
endif
endif
set i=i-1
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if VQ7!=-1 then
set XVF=Q27(M7[VQ7])
if(XVF==0 and PG4)or(XVF==1 and PH4)or(XVF==2 and PF4)or(XVF!=0 and PE4)then
return
endif
set bj_forLoopAIndex=1
set i=OV7(QO7,HC4,HB4)
set j=0
set k=0
loop
exitwhen((bj_forLoopAIndex>10)or(eY[320+VQ7]+j+k>E27 and k!=0))
if bj_forLoopAIndex==6 then
set i=OV7(QO7,HC4,HB4)
endif
if bj_forLoopAIndex<=5 then
if QO7 then
set O5=GetPlayerId(A7[bj_forLoopAIndex])
else
set O5=GetPlayerId(Z7[bj_forLoopAIndex])
endif
else
if QO7 then
set O5=GetPlayerId(A7[bj_forLoopAIndex-5])
else
set O5=GetPlayerId(Z7[bj_forLoopAIndex-5])
endif
endif
if(M7[O5]!=null)then
if(GetUnitLifePercent(M7[O5])>70)and(GetUnitManaPercent(M7[O5])>50. and GetUnitState(M7[O5],UNIT_STATE_MANA)>200)then
set XUF=Q27(M7[O5])
if(XUF==XVF)and(bj_forLoopAIndex<=5)then
set j=j+1
if(AK7(Player(O5)))and((FVF==-1)or(GetRandomInt(1,3)<=XQF(M7[O5])))then
set FVF=O5
endif
elseif((XUF!=XVF)and((XVF==0)or(XUF==0)))and(eY[272+O5]!=-1)then
if((AK7(Player(O5)))and(GetHeroLevel(M7[O5])>=6)and(eY[O5]==1)and(h4[O5]==null)and(Bz>hq[320+O5])and(Bz>hq[480+O5])and(Bz>hq[528+O5])and(Bz>hq[576+O5])and(eY[544+O5]==0)and(Bz>hq[848+O5]))then
if(GetRandomInt(1,3)<=XQF(M7[O5]))and((GetRandomInt(1,i)<=2)or(bj_forLoopAIndex>5))then
set k=k+1
set eY[272+O5]=-1
else
endif
endif
endif
endif
set i=i-1
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(h4[304+VQ7]!=null)then
set k=k-1
endif
if(j>2)then
set FVF=-1
endif
if(k>eY[320+VQ7]+E27)then
if QO7 then
set EP7=Y7
else
set EP7=X7
endif
set O5=1
if k==0 and FVF!=-1 then
set O5=FVF
endif
loop
if(eY[272+O5]==-1)or((O5==FVF)and(k==0))then
call VK7(M7[O5],EP7)
call VF7(M7[O5],EP7,GetObjectName(1496330295)+Q[VQ7]+GetUnitName(M7[VQ7])+"|r")
call KBF(M7[O5],M7[VQ7])
endif
set O5=O5+1
exitwhen(O5>11)or(k==0)
endloop
set E57=GetRandomInt(0,2)
endif
set O5=1
loop
exitwhen O5>11
if eY[272+O5]==-1 then
set eY[272+O5]=0
endif
set O5=O5+1
endloop
endif
set EP7=null
endfunction
function XAF takes nothing returns nothing
local button XBF=GetClickedButton()
local integer ki=GetHandleId(GetTriggeringTrigger())
local string VH=UF7(ki,"PlHost")
local string kf=UF7(ki,"Oid")
local integer UP=0
set EZ7="XAF"
if(GetTriggerPlayer()!=QT4)then
set UP=5
endif
if(XBF==UG7(R44,VH+"|Btn11"))then
call XKF(kf+" "+I2S(1+UP))
elseif(XBF==UG7(R44,VH+"|Btn12"))then
call XKF(kf+" "+I2S(2+UP))
elseif(XBF==UG7(R44,VH+"|Btn13"))then
call XKF(kf+" "+I2S(3+UP))
elseif(XBF==UG7(R44,VH+"|Btn14"))then
call XKF(kf+" "+I2S(4+UP))
elseif(XBF==UG7(R44,VH+"|Btn15"))then
call XKF(kf+" "+I2S(5+UP))
elseif(XBF==UG7(R44,VH+"|Btn1A"))then
call XKF(kf)
endif
call T97(ki)
call DestroyTrigger(GetTriggeringTrigger())
call DialogDestroy(GetClickedDialog())
set XBF=null
endfunction
function XCF takes string ki,boolean J4 returns nothing
local dialog X3F=DialogCreate()
local trigger t=CreateTrigger()
local string VH=""
local integer O5=1
set EZ7="yfv"
if(GetTriggerPlayer()==QT4)then
set VH="Sent"
else
set VH="Scrg"
endif
call DialogSetMessage(X3F,GetObjectName(1496331827))
loop
if(IsPlayerInForce(T47(O5,GetTriggerPlayer()==QT4),QX4))then
call TY7(R44,VH+"|Btn1"+I2S(O5),DialogAddButton(X3F,GetPlayerName(T47(O5,GetTriggerPlayer()==QT4)),0))
endif
set O5=O5+1
exitwhen O5>5
endloop
if(J4)then
call TY7(R44,VH+"|Btn1A",DialogAddButton(X3F,GetObjectName(1496331826),0))
endif
call TY7(R44,VH+"|Btn1X",DialogAddButton(X3F,GetObjectName(1496331568),0))
call TH7(GetHandleId(t),"PlHost",VH)
call TH7(GetHandleId(t),"Oid",ki)
call TriggerRegisterDialogEvent(t,X3F)
call TriggerAddAction(t,function XAF)
call DialogDisplay(GetTriggerPlayer(),X3F,true)
set t=null
endfunction
function X6F takes nothing returns nothing
local button XBF=GetClickedButton()
local integer ki=GetHandleId(GetTriggeringTrigger())
local string VH=UF7(ki,"PlHost")
local string kf=UF7(ki,"Oid")
set EZ7="X6F"
if(XBF==UG7(R44,VH+"|Btn21"))then
call XCF(kf+"l",false)
elseif(XBF==UG7(R44,VH+"|Btn22"))then
call XCF(kf+"r",false)
elseif(XBF==UG7(R44,VH+"|Btn23"))then
call XCF(kf+"m",false)
elseif(XBF==UG7(R44,VH+"|Btn21X"))then
call XKF(kf+"l")
elseif(XBF==UG7(R44,VH+"|Btn22X"))then
call XKF(kf+"r")
elseif(XBF==UG7(R44,VH+"|Btn23X"))then
call XKF(kf+"m")
elseif(XBF==UG7(R44,VH+"|Btn24"))then
call XKF(kf+"n")
endif
call T97(ki)
call DestroyTrigger(GetTriggeringTrigger())
call DialogDestroy(GetClickedDialog())
set XBF=null
endfunction
function XLF takes string ki,boolean J4 returns nothing
local dialog X3F=DialogCreate()
local trigger t=CreateTrigger()
local string VH=""
local string kf=""
local string X1F=""
set EZ7="yGv"
if(J4)then
set X1F="X"
endif
if(GetTriggerPlayer()==QT4)then
set VH="Sent"
else
set VH="Scrg"
endif
call DialogSetMessage(X3F,GetObjectName(1496331569))
call TY7(R44,VH+"|Btn21"+X1F,DialogAddButton(X3F,GetObjectName(1496331571),0))
call TY7(R44,VH+"|Btn22"+X1F,DialogAddButton(X3F,GetObjectName(1496331570),0))
call TY7(R44,VH+"|Btn23"+X1F,DialogAddButton(X3F,GetObjectName(1496331572),0))
if(J4)then
call TY7(R44,VH+"|Btn24",DialogAddButton(X3F,GetObjectName(1496331573),0))
endif
call DialogAddButton(X3F,GetObjectName(1496331568),0)
call TH7(GetHandleId(t),"PlHost",VH)
call TH7(GetHandleId(t),"Oid",ki)
call TriggerRegisterDialogEvent(t,X3F)
call TriggerAddAction(t,function X6F)
call DialogDisplay(GetTriggerPlayer(),X3F,true)
set t=null
endfunction
function X0F takes nothing returns nothing
local button XBF=GetClickedButton()
local integer ki=GetHandleId(GetTriggeringTrigger())
local string VH=UF7(ki,"PlHost")
set EZ7="X0F"
if(XBF==UG7(R44,VH+"|Btn61"))then
call XCF("-osd",true)
elseif(XBF==UG7(R44,VH+"|Btn62"))then
call XCF("-oroshan",true)
elseif(XBF==UG7(R44,VH+"|Btn63"))then
call XKF("-oneut")
elseif(XBF==UG7(R44,VH+"|Btn64"))then
call XKF("-oauto")
endif
call T97(ki)
call DestroyTrigger(GetTriggeringTrigger())
call DialogDestroy(GetClickedDialog())
set XBF=null
endfunction
function X5F takes nothing returns nothing
local dialog X3F=DialogCreate()
local trigger t=CreateTrigger()
local string VH=""
set EZ7="X5F"
if(GetTriggerPlayer()==QT4)then
set VH="Sent"
else
set VH="Scrg"
endif
call DialogSetMessage(X3F,GetObjectName(1496331315))
call TY7(R44,VH+"|Btn61",DialogAddButton(X3F,GetObjectName(1496331574),0))
call TY7(R44,VH+"|Btn62",DialogAddButton(X3F,GetObjectName(1496331575),0))
if(((GetTriggerPlayer()==QT4)and(Gv))or((GetTriggerPlayer()==QU4)and(Gw)))then
call TY7(R44,VH+"|Btn63",DialogAddButton(X3F,GetObjectName(1496331576),0))
else
call TY7(R44,VH+"|Btn63",DialogAddButton(X3F,GetObjectName(1496331577),0))
endif
if(PE4)then
elseif(((GetTriggerPlayer()==QT4)and(PZ4))or((GetTriggerPlayer()==QU4)and(PA4)))then
call TY7(R44,VH+"|Btn64",DialogAddButton(X3F,GetObjectName(1496331824),0))
else
call TY7(R44,VH+"|Btn64",DialogAddButton(X3F,GetObjectName(1496331825),0))
endif
call DialogAddButton(X3F,GetObjectName(1496331568),0)
call TH7(GetHandleId(t),"PlHost",VH)
call TriggerRegisterDialogEvent(t,X3F)
call TriggerAddAction(t,function X0F)
call DialogDisplay(GetTriggerPlayer(),X3F,true)
set t=null
endfunction
function X2F takes nothing returns nothing
local button XBF=GetClickedButton()
local integer ki=GetHandleId(GetTriggeringTrigger())
local string VH=UF7(ki,"PlHost")
set EZ7="X2F"
if(XBF==UG7(R44,VH+"|Btn01"))then
call XCF("-oa",true)
elseif(XBF==UG7(R44,VH+"|Btn02"))then
call XCF("-od",true)
elseif(XBF==UG7(R44,VH+"|Btn03"))then
call XCF("-ob",false)
elseif(XBF==UG7(R44,VH+"|Btn04"))then
call XCF("-of",false)
elseif(XBF==UG7(R44,VH+"|Btn05"))then
call XLF("-og",false)
elseif(XBF==UG7(R44,VH+"|Btn06"))then
call XLF("-op",true)
elseif(XBF==UG7(R44,VH+"|Btn07"))then
call X5F()
endif
call T97(ki)
call DestroyTrigger(GetTriggeringTrigger())
call DialogDestroy(GetClickedDialog())
set XBF=null
endfunction
function XOF takes nothing returns nothing
local dialog X3F=DialogCreate()
local trigger t=CreateTrigger()
local string VH=""
set EZ7="XOF"
if(GetTriggerPlayer()==QT4)then
set VH="Sent"
else
set VH="Scrg"
endif
call DialogSetMessage(X3F,GetObjectName(1496331315))
call TY7(R44,VH+"|Btn01",DialogAddButton(X3F,GetObjectName(1496331316),0))
call TY7(R44,VH+"|Btn02",DialogAddButton(X3F,GetObjectName(1496331317),0))
call TY7(R44,VH+"|Btn03",DialogAddButton(X3F,GetObjectName(1496331318),0))
call TY7(R44,VH+"|Btn04",DialogAddButton(X3F,GetObjectName(1496331319),0))
if(not PE4)then
call TY7(R44,VH+"|Btn05",DialogAddButton(X3F,GetObjectName(1496331320),0))
call TY7(R44,VH+"|Btn06",DialogAddButton(X3F,GetObjectName(1496332340),0))
endif
call TY7(R44,VH+"|Btn07",DialogAddButton(X3F,GetObjectName(1496331321),0))
call DialogAddButton(X3F,GetObjectName(1496331568),0)
call TH7(GetHandleId(t),"PlHost",VH)
call TriggerRegisterDialogEvent(t,X3F)
call TriggerAddAction(t,function X2F)
call DialogDisplay(GetTriggerPlayer(),X3F,true)
set t=null
endfunction
function X_F takes nothing returns nothing
local integer Y4F
local integer QSF
local integer JHF
local integer Y7F=1
local location Y8F=null
local location Y9F=null
local string YDF=""
local string YEF=""
set EZ7="X_F"
if(Bz<150.)then
set Y4F=0
elseif(Bz<1200.)then
set Y4F=GetRandomInt(1,2)
else
set Y4F=GetRandomInt(1,3)
endif
if(Y4F==0)then
return
elseif(Y4F==1)then
set QSF=1848651827
set YDF="Siege Golems"
elseif(Y4F==2)then
set QSF=1848651845
set YDF="Scary Fish"
else
set QSF=1848651844
set YDF="Ancient Hydras"
endif
if(Bz>2400.)then
set Y7F=Y7F+1
endif
if PE4 then
set JHF=3
else
set JHF=GetRandomInt(2,4)
endif
if(JHF==2)then
set Y8F=Wv
set Y9F=qv
set YEF="west"
elseif(JHF==3)then
set Y8F=Tv
set Y9F=mv
set YEF="middle"
elseif(JHF==4)then
set Y8F=Uv
set Y9F=pv
set YEF="east"
endif
call CreateNUnitsAtLoc(Y7F,QSF,Z7[0],Y8F,bj_UNIT_FACING)
call I19(bj_lastCreatedGroup,JHF)
call CreateNUnitsAtLoc(Y7F,QSF,A7[0],Y9F,bj_UNIT_FACING)
call I19(bj_lastCreatedGroup,JHF)
call CG7(bj_FORCE_ALL_PLAYERS,10.,"|c000000ff"+YDF+"|r spawned in the "+YEF+" path!")
set Y8F=null
set Y9F=null
endfunction
function YFF takes boolean O6,string VH,integer YGF returns nothing
local integer YHF=0
local integer YIF=0
local integer YJF=0
local boolean YKF=false
local boolean YMF=false
local integer O5=1
local integer i1
local player pl
set EZ7="AI_DecideWardsGemCloak"
loop
set pl=T47(O5,not O6)
if((AM7(pl))and(M7[GetPlayerId(pl)]!=null))then
set i1=GetUnitTypeId(M7[GetPlayerId(pl)])
if((i1==1211117643)or(i1==1212365106)or(i1==1211119409))then
set YMF=true
elseif((i1==1315007329)or(i1==1160785972)or(i1==1429221424)or(i1==1332179560)or(i1==1311781206)or(i1==1429221430)or(i1==1214344551))then
set YKF=true
endif
if(IsUnitType(M7[GetPlayerId(pl)],UNIT_TYPE_MELEE_ATTACKER))then
set YHF=YHF+1
endif
if(QG7(i1,F97))then
set YIF=YIF+1
endif
if(QE7(i1)<=2)then
set YJF=YJF+1
endif
endif
set O5=O5+1
exitwhen O5>5
endloop
if(YMF)then
call TI7(R44,VH+"|G",true)
call TI7(R44,VH+"|W",true)
elseif(YKF)then
call TI7(R44,VH+"|W",true)
endif
if(YHF!=0)and((YHF==YGF)or((YGF>3)and(YHF>=3)))then
call TI7(R44,VH+"|M",true)
endif
if(YIF!=0)and((YIF==YGF)or((YGF>3)and(YIF>=3)))then
call TI7(R44,VH+"|X",true)
endif
if(YGF>3 and YIF<=2)or(YGF<=3 and YIF<YGF)then
call TI7(R44,VH+"|Xb",true)
endif
if(YJF!=0)and((YJF==YGF)or((YGF>3)and(YJF>=3)))then
call TI7(R44,VH+"|D",true)
endif
set pl=null
endfunction
function YNF takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
call YFF(true,"Sent",HC4)
call YFF(false,"Scrg",HB4)
endfunction
function YOF takes player pl returns nothing
if((LT))then
elseif(Z84[GetPlayerId(pl)]==ZD4)then
if(not BT)then
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+20.))
else
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+40.))
endif
elseif(Z84[GetPlayerId(pl)]==ZE4)then
if(not BT)then
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+45.))
else
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+70.))
endif
else
if(not BT)then
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+80.))
else
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+110.))
endif
endif
set Z84[16+GetPlayerId(pl)]=R2I(GetPlayerHandicapXPBJ(pl))
endfunction
function YPF takes player pl,integer O5 returns nothing
local integer i=0
local integer UA7=GetPlayerId(pl)
set hG[48+UA7]=GetRandomInt(0,1)
if(D4 or RZ4)then
set hG[48+UA7]=GetRandomInt(0,2)
endif
set hG[64+UA7]=GetRandomInt(0,2)
set hG[80+UA7]=GetRandomInt(0,2)
set OL4[UA7]=false
call ForceRemovePlayer(L8,pl)
if Y4 then
set i=i+8
endif
if(CT)then
set i=i+8
endif
if((WT)or(O5==0))then
elseif(Z84[UA7]==ZD4)then
call SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+(100/O5)+(10*(O5-1)))
elseif(Z84[UA7]==ZE4)then
call SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+(300/O5)+(10*(O5-1)))
set i=i+4
else
call SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+(500/O5)+(10*(O5-1)))
set i=i+8
endif
if(CT)then
call SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,R2I(GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)*1.1))
endif
set Z84[32+UA7]=i
set Z84[48+UA7]=i
set Z84[64+UA7]=0
endfunction
function YQF takes trigger t,boolean O6,boolean YRF,boolean YSF returns nothing
if(T77(O6)!=null)then
call TriggerRegisterPlayerChatEvent(t,T77(O6),"-o",false)
call TriggerRegisterPlayerChatEvent(t,T77(O6),"-c",false)
call TriggerRegisterPlayerChatEvent(t,T77(O6)," c",false)
call TriggerRegisterPlayerChatEvent(t,T77(O6)," ",true)
if(IsTriggerEnabled(QA4))then
call TriggerRegisterPlayerChatEvent(QA4,T77(O6),"-pa",true)
call TriggerRegisterPlayerChatEvent(QA4,T77(O6),"-px",true)
if((T77(not O6)==null)and(YSF))then
if(YRF)then
call DisplayTimedTextToPlayer(T77(O6),0,0,10.,GetObjectName(1496395824)+F27+"-pa|r/"+F27+"-pe|r")
else
call DisplayTimedTextToPlayer(T77(O6),0,0,10.,GetObjectName(1496395825)+F27+"-pe|r")
endif
call TriggerRegisterPlayerChatEvent(QA4,T77(O6),"-pe",true)
elseif(YRF)then
call DisplayTimedTextToPlayer(T77(O6),0,0,10.,GetObjectName(1496395826)+F27+"-pa|r")
endif
endif
endif
endfunction
function YTF takes nothing returns nothing
local integer i=0
set EZ7="YTF"
loop
exitwhen i>15
if M7[i]!=null and GetPlayerController(Player(i))==MAP_CONTROL_COMPUTER and IsUnitInRange(M7[i],IZ4,1000)==false and IsUnitInRange(M7[i],JA4,1000)==false then
set K57[176+i]=0
endif
set i=i+1
endloop
endfunction
function YUF takes nothing returns nothing
local trigger t
set EZ7="YUF"
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,JA4,700.,null)
call TriggerAddCondition(t,Condition(function ZE7))
call TriggerAddAction(t,function H_F)
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,IZ4,700.,null)
call TriggerAddCondition(t,Condition(function ZD7))
call TriggerAddAction(t,function H_F)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,10,true)
call TriggerAddAction(t,function YTF)
set t=null
endfunction
function YVF takes nothing returns nothing
local trigger t=null
local string VH=GetEventPlayerChatString()
local player pl=RZ7(S2I(SubString(VH,8,StringLength(VH))))
if(pl!=null)and(pl!=GetTriggerPlayer())and AJ7(pl)then
if GetTriggerPlayer()==QT4 then
if IsPlayerAlly(GetLocalPlayer(),QT4)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,Q[0]+"The Sentinel|r's AI Leadership has been granted to "+Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r.")
endif
set QT4=pl
set t=GetTriggeringTrigger()
call DestroyTrigger(t)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,QT4,"-aigrant",false)
call TriggerAddAction(t,function YVF)
call DestroyTrigger(DV7)
set DV7=CreateTrigger()
call YQF(DV7,true,false,false)
call TriggerAddAction(DV7,function XPF)
else
if IsPlayerAlly(GetLocalPlayer(),QU4)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,Q[6]+"The Scourge|r's AI Leadership has been granted to "+Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r.")
endif
set QU4=pl
set t=GetTriggeringTrigger()
call DestroyTrigger(t)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,QU4,"-aigrant",false)
call TriggerAddAction(t,function YVF)
call DestroyTrigger(DW7)
set DW7=CreateTrigger()
call YQF(DW7,false,false,false)
call TriggerAddAction(DW7,function XPF)
endif
else
call DQ8(GetTriggerPlayer(),"Invalid Leader Choice")
endif
endfunction
function YWF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local integer HB8=U97(US7,"TargetIndex")
local unit m5=A87(HB8)
local real CV9=UD7(US7,"Damage")
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or GetUnitAbilityLevel(GetTriggerUnit(),1110455089)==0 then
call DestroyEffect(T27(US7,"FX"))
call A77(HB8)
call T97(US7)
call UQ7(t)
set HJ7=true
call HY8(p5,m5,ZG4,CV9)
set HJ7=false
if CV9>0 then
call EI8("+"+I2S(R2I(CV9)),1,m5,0.023,255,0,0,216)
endif
elseif GetEventDamage()>1 then
call TG7(US7,"Damage",(CV9+GetEventDamage()*0.3)*1.0)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function YXF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
call T97(US7)
call UQ7(t)
set t=CreateTrigger()
set US7=GetHandleId(t)
call TJ7(US7,"Source",p5)
call TF7(US7,"TargetIndex",AD7(m5))
call TK7(US7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Other\\Silence\\SilenceTarget.mdl",m5,"overhead"))
call TG7(US7,"Damage",(0)*1.0)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,5,false)
call TriggerAddCondition(t,Condition(function YWF))
set t=null
return false
endfunction
function YYF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="YYF"
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function YXF))
call TJ7(US7,"Target",GetSpellTargetUnit())
call TJ7(US7,"Source",GetTriggerUnit())
set t=null
endfunction
function YZF takes nothing returns nothing
if GetSpellAbilityId()==1093682756 and L87(GetSpellTargetUnit())==false then
call YYF()
endif
endfunction
function YAF takes nothing returns nothing
local unit u=GetTriggerUnit()
local item XO8
local integer i=0
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local integer EY9
local item YBF
set EZ7="YAF"
call DisableTrigger(H94)
loop
exitwhen i>5
set XO8=UnitItemInSlot(u,i)
set EY9=RO7(XO8)
if EY9==Y3 then
set IR4=GetItemPlayer(XO8)
call RemoveItem(XO8)
set YBF=CreateItem(SU[ZX],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[RZ],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
elseif EY9==C3 or EY9==E6 then
set IR4=GetItemPlayer(XO8)
call RemoveItem(XO8)
set YBF=CreateItem(SU[AX],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[ZY],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
elseif EY9==DP4 then
set IR4=GetItemPlayer(XO8)
call RemoveItem(XO8)
set YBF=CreateItem(SU[SX],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[GX],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[EB4],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
elseif EY9==DQ4 then
set IR4=GetItemPlayer(XO8)
call RemoveItem(XO8)
set YBF=CreateItem(SU[SX],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[GX],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[EB4],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
elseif EY9==DE4 then
set IR4=GetItemPlayer(XO8)
call RemoveItem(XO8)
set YBF=CreateItem(SU[OW],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[LL],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[EL4],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
elseif EY9==F74 then
set IR4=GetItemPlayer(XO8)
call RemoveItem(XO8)
set YBF=CreateItem(SU[FV],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[CV],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
elseif EY9==J1 then
set IR4=GetItemPlayer(XO8)
call RemoveItem(XO8)
set YBF=CreateItem(SU[NW],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[VW],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
elseif EY9==O1 then
set IR4=GetItemPlayer(XO8)
call RemoveItem(XO8)
set YBF=CreateItem(SU[NW],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[VW],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
elseif EY9==Y0 then
set IR4=GetItemPlayer(XO8)
call RemoveItem(XO8)
set YBF=CreateItem(SU[OL],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[NZ],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[EK4],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
elseif EY9==E24 then
set IR4=GetItemPlayer(XO8)
call RemoveItem(XO8)
set YBF=CreateItem(SU[BV],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[DA4],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
elseif EY9==LB then
set IR4=GetItemPlayer(XO8)
call RemoveItem(XO8)
set YBF=CreateItem(SU[FV],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[AX],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[GY],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
elseif EY9==U1 then
set IR4=GetItemPlayer(XO8)
call RemoveItem(XO8)
set YBF=CreateItem(SU[RL],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[OL],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
elseif EY9==JC or EY9==NC then
set IR4=GetItemPlayer(XO8)
call RemoveItem(XO8)
set YBF=CreateItem(SU[DL],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[C3],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
elseif EY9==U3 then
set IR4=GetItemPlayer(XO8)
call RemoveItem(XO8)
set YBF=CreateItem(SU[SY],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
set YBF=CreateItem(SU[WL],x,y)
call SetItemPlayer(YBF,IR4,false)
call SetItemUserData(YBF,1)
endif
set i=i+1
endloop
call EnableTrigger(H94)
set u=null
set XO8=null
set YBF=null
endfunction
function YCF takes nothing returns boolean
if GetSpellAbilityId()==1093684021 or GetSpellAbilityId()==1093751366 then
call YAF()
endif
return false
endfunction
function Y3F takes nothing returns nothing
local unit m5=GetEnumUnit()
local group A39=pw
local unit p5=qw
set EZ7="Y3F"
if IsUnitInGroup(m5,A39)==false then
call GroupAddUnit(A39,m5)
call IssueTargetOrder(Qw,"slow",m5)
set HJ7=true
call HY8(p5,m5,ZG4,200)
set HJ7=false
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl",m5,"origin"))
endif
set m5=null
set A39=null
set p5=null
endfunction
function Y6F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit HV8=T37(US7,"Caster")
local group A39=T57(US7,"AlreadyDamaged")
local real d
local real x
local real x0=GetUnitX(p5)
local real y
local real y0=GetUnitY(p5)
local group g=LD7()
local integer ZU9=GetTriggerEvalCount(t)
local integer i
set EZ7="Y6F"
call SetUnitX(HV8,GetUnitX(p5))
call SetUnitY(HV8,GetUnitY(p5))
set pw=A39
set qw=p5
set Qw=T37(US7,"Nuker")
if GetTriggerEvalCount(t)>33 then
call KillUnit(HV8)
call L97(A39)
call T97(US7)
call UQ7(t)
else
set d=ZU9*18
set i=0
loop
exitwhen i>36
set x=x0+d*Cos(360*i/ 36*bj_DEGTORAD)
set y=y0+d*Sin(360*i/ 36*bj_DEGTORAD)
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,150,Condition(function GR8))
call ForGroup(g,function Y3F)
set i=i+1
endloop
endif
call L97(g)
set t=null
set HV8=null
set A39=null
set p5=null
set g=null
return false
endfunction
function YLF takes nothing returns nothing
local unit C17=GetTriggerUnit()
local real x=GetUnitX(C17)
local real y=GetUnitY(C17)
local group A39=LD7()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit HV8=CreateUnit(GetOwningPlayer(C17),1747990833,x,y,0)
local unit Y1F=CreateUnit(GetOwningPlayer(C17),1697656901,GetUnitX(C17),GetUnitY(C17),0)
set EZ7="YLF"
call UnitAddAbility(Y1F,1093686320)
call TS7(US7,"AlreadyDamaged",A39)
call TJ7(US7,"Caster",HV8)
call TJ7(US7,"Nuker",Y1F)
call TJ7(US7,"Source",C17)
call TriggerRegisterTimerEvent(t,0.06,true)
call TriggerAddCondition(t,Condition(function Y6F))
set t=null
set A39=null
set HV8=null
set Y1F=null
set C17=null
endfunction
function Y0F takes nothing returns nothing
if GetSpellAbilityId()==1093686329 then
call YLF()
endif
endfunction
function Y5F takes unit FJ8,integer U0E returns nothing
local integer PP7=GetHandleId(FJ8)
call SaveInteger(L7,(PP7),(750),(U0E))
endfunction
function Y2F takes nothing returns nothing
local integer i=0
local integer Y_F=0
local boolean Z4F=false
set EZ7="Y2F"
if GetSpellAbilityId()==1093683801 then
loop
exitwhen i>5
if RP7(UnitItemInSlot(GetTriggerUnit(),i))==ZA or RP7(UnitItemInSlot(GetTriggerUnit(),i))==DT4 then
set Y_F=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),i))
if Y_F>0 then
call SetItemCharges(UnitItemInSlot(GetTriggerUnit(),i),0)
call Y5F(GetTriggerUnit(),0)
if Z4F==false then
set Z4F=true
call SetUnitState(GetTriggerUnit(),UNIT_STATE_MANA,GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)+15*Y_F)
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+15*Y_F)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl",GetTriggerUnit(),"origin"))
endif
endif
return
endif
set i=i+1
endloop
endif
endfunction
function Z7F takes integer id returns boolean
local integer i=1
set EZ7="MagicStick_IsSpell"
loop
exitwhen i>MC4
if id==MB4[i]then
return false
endif
set i=i+1
endloop
return true
endfunction
function Z8F takes unit Z9F,unit p5 returns nothing
if IsUnitVisible(Z9F,GetOwningPlayer(p5))==false and GetRandomInt(1,100)<10 then
call PlaySoundOnUnitBJ(RI,100,p5)
endif
endfunction
function ZDF takes nothing returns nothing
local unit C17=GetEnumUnit()
local integer i=0
set EZ7="ZDF"
loop
exitwhen i>5
if IsUnitVisible(GetTriggerUnit(),GetOwningPlayer(GetEnumUnit()))==true then
if RP7(UnitItemInSlot(C17,i))==ZA or RP7(UnitItemInSlot(C17,i))==DT4 then
if RP7(UnitItemInSlot(C17,i))==DT4 then
if GetItemCharges(UnitItemInSlot(C17,i))==15 then
call Z8F(GetTriggerUnit(),C17)
endif
call Y5F(C17,DL8(GetItemCharges(UnitItemInSlot(C17,i))+1,15))
call SetItemCharges(UnitItemInSlot(C17,i),DL8(GetItemCharges(UnitItemInSlot(C17,i))+1,15))
else
if GetItemCharges(UnitItemInSlot(C17,i))==10 then
call Z8F(GetTriggerUnit(),C17)
endif
call Y5F(C17,DL8(GetItemCharges(UnitItemInSlot(C17,i))+1,10))
call SetItemCharges(UnitItemInSlot(C17,i),DL8(GetItemCharges(UnitItemInSlot(C17,i))+1,10))
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",C17,"chest"))
set i=5
endif
endif
set i=i+1
endloop
set C17=null
endfunction
function ZEF takes nothing returns nothing
local group g=LD7()
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
set EZ7="ZEF"
call GroupEnumUnitsInRange(g,x,y,1225,Condition(function GC8))
call ForGroup(g,function ZDF)
call L97(g)
set g=null
set p5=null
endfunction
function ZFF takes nothing returns nothing
if Z7F(GetSpellAbilityId())==true and BR7(GetSpellAbilityId())==true and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 and JY8(GetSpellAbilityId())==false then
call ZEF()
endif
endfunction
function ZGF takes unit p5,unit m5 returns nothing
local integer BY7=GetUnitAbilityLevel(p5,1093686099)
local real D_8=(0.03+0.01*BY7)*GetUnitState(m5,UNIT_STATE_LIFE)
set EZ7="Feast_SuccessfulAttack"
if GetUnitAbilityLevel(m5,1093678162)==0 then
call HY8(p5,m5,ZH4,D_8)
call SetUnitState(p5,UNIT_STATE_LIFE,D_8+GetUnitState(p5,UNIT_STATE_LIFE))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",p5,"origin"))
endif
endfunction
function ZHF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local unit p5=T37(US7,"Source")
set EZ7="ZHF"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 then
call DisableTrigger(t)
call ZGF(p5,m5)
call T97(US7)
call UQ7(t)
endif
else
call T97(US7)
call UQ7(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function ZIF takes nothing returns nothing
local trigger t=CreateTrigger()
local unit m5=GetTriggerUnit()
local unit p5=GetAttacker()
local integer US7=GetHandleId(t)
set EZ7="ZIF"
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function ZHF))
call TJ7(US7,"Target",m5)
call TJ7(US7,"Source",p5)
set m5=null
set p5=null
set t=null
endfunction
function ZJF takes nothing returns nothing
local unit p5=GetAttacker()
set EZ7="ZJF"
if UJ7(p5,"CooldownState")==false then
call UU7(p5,"CooldownState",0.4)
call ZIF()
endif
endfunction
function ZKF takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093686099)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==T37(GetHandleId(GetTriggeringTrigger()),"Hero")and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
call ZJF()
endif
return false
endfunction
function ZMF takes unit C17,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
set EZ7="Feast_Learned"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function ZKF))
call TJ7(GetHandleId(t),"Hero",C17)
if BZ9 then
set aj[GetPlayerId(GetOwningPlayer(C17))]=t
endif
set t=null
endfunction
function ZNF takes nothing returns boolean
if GetLearnedSkill()==1093686099 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093686099)==1 then
call ZMF(GetTriggerUnit(),false)
endif
return false
endfunction
function TF8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TF8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function ZNF))
set t=null
endfunction
function ZOF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
set EZ7="ZOF"
if GetUnitTypeId(C17)==1160786520 then
call SetUnitVertexColor(C17,255,255,255,255)
else
call SetUnitVertexColor(C17,100,100,100,255)
endif
call DestroyEffect(T27(US7,"FX1"))
call DestroyEffect(T27(US7,"FX2"))
call UnitRemoveAbility(C17,1093686098)
call UnitRemoveAbility(C17,1093686100)
call T97(US7)
call UQ7(t)
set t=null
set C17=null
return false
endfunction
function ZPF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit C17=GetTriggerUnit()
local integer BY7=GetUnitAbilityLevel(C17,1093686322)
set EZ7="ZPF"
call SetUnitVertexColor(C17,0,0,0,255)
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),1093686100,false)
call L67(C17,1093686100)
call L67(C17,1093686098)
call SetUnitAbilityLevel(C17,1093686098,BY7)
call EQ9(C17,0,0)
call TJ7(US7,"Hero",C17)
call TK7(US7,"FX1",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl",C17,"right hand"))
call TK7(US7,"FX2",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl",C17,"left hand"))
call TriggerRegisterTimerEvent(t,2+BY7,false)
call TriggerAddCondition(t,Condition(function ZOF))
set C17=null
set t=null
endfunction
function ZQF takes nothing returns boolean
if GetSpellAbilityId()==1093686322 then
call ZPF()
endif
return false
endfunction
function TG8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TG8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZQF))
set t=null
endfunction
function Snatch_Damage takes nothing returns nothing
call HY8(LK4,GetEnumUnit(),ZG4,LM4*125+25)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl",GetEnumUnit(),"overhead"))
endfunction
function ZRF takes nothing returns nothing
local integer PP7=GetHandleId(GetTriggeringTrigger())
local unit FJ8=IN4
local unit PU7=IP4
local real CV9=UD7(PP7,"Damage")
set EZ7="ZRF"
call HY8(FJ8,PU7,ZG4,CV9)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl",PU7,"overhead"))
set FJ8=null
set PU7=null
endfunction
function ZSF takes nothing returns nothing
local unit FJ8=LK4
local unit PU7=GetEnumUnit()
local integer HW8=LM4
local trigger t=E68(FJ8,PU7,1747993670,"IME",600)
local integer PP7=GetHandleId(t)
set EZ7="ZSF"
call TG7(PP7,"Damage",((HW8*125+25)*1.0))
set FJ8=null
set PU7=null
endfunction
function ZTF takes unit FJ8,unit PU7,integer HW8 returns nothing
local group g=LD7()
set EZ7="Snatch_AOE"
set IN4=FJ8
set LK4=FJ8
set LM4=HW8
call GroupEnumUnitsInRange(g,GetUnitX(PU7),GetUnitY(PU7),725,Condition(function G78))
call ForGroup(g,function ZSF)
call L97(g)
set g=null
endfunction
function ZUF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CK7=GetHandleId(t)
local integer QV7=U97(CK7,"HeroPID")
local unit ZVF=T37(CK7,"ConsumeCaster")
set EZ7="ZUF"
call DisableTrigger(Q04[QV7])
call IssueImmediateOrderById(ZVF,852597)
call EnableTrigger(Q04[QV7])
call T97(CK7)
call UQ7(t)
set t=null
set ZVF=null
return false
endfunction
function ZWF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=T37(PP7,"Target")
local unit LI7=T37(PP7,"Hero")
local unit HV8=T37(PP7,"Caster")
local integer HW8=U97(PP7,"Level")
set EZ7="ZWF"
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call UnitShareVision(PU7,GetOwningPlayer(LI7),false)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(PU7),GetUnitY(PU7)))
call SetUnitPosition(LI7,GetUnitX(PU7),GetUnitY(PU7))
call PauseUnit(LI7,false)
call ShowUnit(LI7,true)
call SetUnitPathing(LI7,true)
call ClearSelectionForPlayer(GetOwningPlayer(LI7))
call SelectUnitForPlayerSingle(LI7,GetOwningPlayer(LI7))
call SetUnitInvulnerable(LI7,false)
call DestroyEffect(T27(PP7,"FX"))
call DestroyEffect(T27(PP7,"FX3"))
call RemoveUnit(HV8)
call T97(PP7)
call UQ7(t)
call ZTF(LI7,PU7,HW8)
call SaveInteger(L7,(GetHandleId((LI7))),((4310)),(2))
elseif IsUnitType(PU7,UNIT_TYPE_HERO)==true and IsUnitEnemy(PU7,GetOwningPlayer(LI7))==true then
call UnitShareVision(PU7,GetOwningPlayer(LI7),false)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(PU7),GetUnitY(PU7)))
call SetUnitPosition(LI7,GetUnitX(PU7),GetUnitY(PU7))
call PauseUnit(LI7,false)
call ShowUnit(LI7,true)
call SetUnitPathing(LI7,true)
call ClearSelectionForPlayer(GetOwningPlayer(LI7))
call SelectUnitForPlayerSingle(LI7,GetOwningPlayer(LI7))
call SetUnitInvulnerable(LI7,false)
call DestroyEffect(T27(PP7,"FX"))
call DestroyEffect(T27(PP7,"FX3"))
call RemoveUnit(HV8)
call T97(PP7)
call UQ7(t)
call ZTF(LI7,PU7,HW8)
call SaveInteger(L7,(GetHandleId((LI7))),((4310)),(2))
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093686104 then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(PU7),GetUnitY(PU7)))
if IsUnitEnemy(PU7,GetOwningPlayer(LI7))then
call SetUnitState(LI7,UNIT_STATE_LIFE,GetUnitState(LI7,UNIT_STATE_LIFE)+GetUnitState(PU7,UNIT_STATE_LIFE))
endif
call UnitShareVision(PU7,GetOwningPlayer(LI7),false)
call SetUnitPosition(LI7,GetUnitX(PU7),GetUnitY(PU7))
call PauseUnit(LI7,false)
call ShowUnit(LI7,true)
call SetUnitPathing(LI7,true)
call SetUnitAnimation(LI7,"Stand Victory")
call F88(LI7,1.5)
call ClearSelectionForPlayer(GetOwningPlayer(LI7))
call SelectUnitForPlayerSingle(LI7,GetOwningPlayer(LI7))
call SetUnitInvulnerable(LI7,false)
call DestroyEffect(T27(PP7,"FX"))
call DestroyEffect(T27(PP7,"FX3"))
call RemoveUnit(HV8)
call T97(PP7)
call UQ7(t)
call ZTF(LI7,PU7,HW8)
if IsUnitEnemy(PU7,GetOwningPlayer(LI7))then
call UnitRemoveBuffs(PU7,true,true)
call EQ9(PU7,0,0)
call HY8(LI7,PU7,ZG4,100000)
call HY8(LI7,PU7,ZH4,100000)
call HY8(LI7,PU7,ZI4,100000)
endif
call SaveInteger(L7,(GetHandleId((LI7))),((4310)),(2))
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELECTED and GetTriggerUnit()==PU7 then
call ClearSelectionForPlayer(GetOwningPlayer(LI7))
call SelectUnitAddForPlayer(HV8,GetOwningPlayer(LI7))
else
call SetUnitPosition(LI7,GetUnitX(PU7),GetUnitY(PU7))
endif
set t=null
set PU7=null
set LI7=null
return false
endfunction
function ZXF takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local trigger ZYF=CreateTrigger()
local unit HV8=CreateUnit(GetOwningPlayer(C17),1697657136,7260,-7732,0)
local string ZZF="Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl"
local string ZAF="Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBase.mdl"
local string ZBF="Abilities\\Spells\\Other\\Aneu\\AneuTarget.mdl"
set EZ7="ZXF"
if IsPlayerEnemy(GetLocalPlayer(),GetOwningPlayer(C17))and C67(GetLocalPlayer())==false then
set ZZF=""
set ZAF=""
set ZBF=""
endif
call UnitRemoveBuffs(C17,true,true)
call EQ9(C17,0,0)
call SetUnitInvulnerable(HV8,true)
call L67(HV8,1093686104)
call ClearSelectionForPlayer(GetOwningPlayer(C17))
call SelectUnitForPlayerSingle(HV8,GetOwningPlayer(C17))
call UnitShareVision(m5,GetOwningPlayer(C17),true)
call SetUnitInvulnerable(C17,true)
call ShowUnit(C17,false)
call PauseUnit(C17,true)
call SetUnitPathing(C17,false)
call DestroyEffect(AddSpecialEffectTarget(ZZF,m5,"overhead"))
call TJ7(US7,"Target",m5)
call TJ7(US7,"Hero",C17)
call TJ7(US7,"Caster",HV8)
call TK7(US7,"FX",AddSpecialEffectTarget(ZAF,m5,"overhead"))
call TK7(US7,"FX3",AddSpecialEffectTarget(ZBF,m5,"overhead"))
call TF7(US7,"Level",(GetUnitAbilityLevel(C17,1093686103)))
call TriggerRegisterDeathEvent(t,m5)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(C17),EVENT_PLAYER_UNIT_SELECTED,Condition(function A47))
call TriggerRegisterUnitEvent(t,HV8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function ZWF))
call SaveInteger(L7,(GetHandleId((C17))),((4310)),(1))
if AK7(GetOwningPlayer(C17))then
call TJ7(GetHandleId(ZYF),"ConsumeCaster",HV8)
call TF7(GetHandleId(ZYF),"HeroPID",GetPlayerId(GetOwningPlayer(C17)))
call TriggerRegisterTimerEvent(ZYF,1.0,false)
call TriggerAddCondition(ZYF,Condition(function ZUF))
endif
set t=null
set ZYF=null
set C17=null
set m5=null
endfunction
function ZCF takes nothing returns boolean
if GetSpellAbilityId()==1093686103 then
call ZXF()
endif
return false
endfunction
function Z3F takes nothing returns boolean
if GetSpellAbilityId()==1093686103 and IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true or IsUnitIllusion(GetSpellTargetUnit()))then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659030))
endif
return false
endfunction
function TI8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TI8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZCF))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function Z3F))
set t=null
endfunction
function Z6F takes integer L48,unit FJ8,unit PU7 returns nothing
local unit HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
set EZ7="Wound_Slow"
if L48==0 then
call IssueTargetOrder(FJ8,"attack",PU7)
elseif L48==1 then
call L67(HV8,1093686344)
call SetUnitAbilityLevel(HV8,1093686344,1)
call IssueTargetOrder(HV8,"slow",PU7)
elseif L48==2 then
call L67(HV8,1093686344)
call SetUnitAbilityLevel(HV8,1093686344,1)
call IssueTargetOrder(HV8,"slow",PU7)
elseif L48==3 then
call L67(HV8,1093686344)
call SetUnitAbilityLevel(HV8,1093686344,2)
call IssueTargetOrder(HV8,"slow",PU7)
elseif L48==4 then
call L67(HV8,1093686344)
call SetUnitAbilityLevel(HV8,1093686344,3)
call IssueTargetOrder(HV8,"slow",PU7)
elseif L48==5 then
call L67(HV8,1093686344)
call SetUnitAbilityLevel(HV8,1093686344,4)
call IssueTargetOrder(HV8,"slow",PU7)
elseif L48==6 then
call L67(HV8,1093686344)
call SetUnitAbilityLevel(HV8,1093686344,5)
call IssueTargetOrder(HV8,"slow",PU7)
endif
set HV8=null
endfunction
function ZLF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer BY7=U97(US7,"Level")
local integer BX8=U97(US7,"Count")
local unit p5=T37(US7,"Source")
local integer HB8=U97(US7,"TargetIndex")
local unit m5=A87(HB8)
local real Z1F=(10.0+BY7*5.0)/ 100.0
set EZ7="ZLF"
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
set BX8=BX8+1
call Z6F(BX8,p5,m5)
if BX8==8 then
call A77(HB8)
call T97(US7)
call UQ7(t)
else
call TF7(US7,"Count",BX8)
endif
elseif IY8(GetEventDamage())and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false then
if IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO)or GetUnitAbilityLevel(GetEventDamageSource(),1093678162)==0 then
call SetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE,GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)+GetEventDamage()*Z1F)
else
call SetUnitState(M7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],UNIT_STATE_LIFE,GetUnitState(M7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],UNIT_STATE_LIFE)+GetEventDamage()*Z1F)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",GetEventDamageSource(),"origin"))
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function Z0F takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="Z0F"
call Z6F(0,p5,m5)
call TF7(US7,"Count",0)
call TF7(US7,"Level",GetUnitAbilityLevel(p5,1093744948))
call TJ7(US7,"Source",p5)
call TF7(US7,"TargetIndex",AD7(m5))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function ZLF))
set t=null
set p5=null
set m5=null
endfunction
function Z5F takes nothing returns boolean
if GetSpellAbilityId()==1093744948 and L87(GetSpellTargetUnit())==false then
call Z0F()
endif
return false
endfunction
function TH8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TH8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z5F))
set t=null
call DX8(1093686344)
endfunction
function IsUnitHeroFilter takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)
endfunction
function Z_F takes nothing returns boolean
local integer i1=GetSpellAbilityId()
set EZ7="Z_F"
if(i1==1093681473 or i1==1093748054 or i1==1093686104 or i1==1093683018 or i1==1093683013 or i1==1093683027 or i1==1093681474 or i1==1093748818 or i1==1093751605 or i1==1093749070 or i1==1093751608 or i1==1093681475 or i1==1093681476 or i1==1093681477 or i1==1093747023 or i1==1093752150 or i1==1093747786 or i1==1093752119)or i1==1093751607 or i1==1093687350 or i1==1093810228 or i1==1093683277 or(i1==1093678936 or i1==1093681484)or i1==1093678932 or i1==1093687350 or i1==1093683271 or i1==1093682778 then
elseif i1==1093743697 then
call KillUnit(GetTriggerUnit())
else
call UnitRemoveAbility(GetTriggerUnit(),i1)
endif
return true
endfunction
function A4F takes nothing returns boolean
local unit u=GetTriggerUnit()
local boolean A7F
if GetUnitAbilityLevel(u,1097625443)>0 and GetPlayerController(GetOwningPlayer(u))==MAP_CONTROL_COMPUTER then
if(GetUnitAbilityLevel(u,1093686104)==0 and GetUnitAbilityLevel(u,1093748823)==0 and GetUnitAbilityLevel(u,1093748824)==0 and GetUnitAbilityLevel(u,1093750342)==0 and GetUnitAbilityLevel(u,1093682778)==0 and GetUnitAbilityLevel(u,1093748301)==0 and GetUnitAbilityLevel(u,1093747786)==0 and GetUnitAbilityLevel(u,1093752119)==0 and GetUnitTypeId(u)!=1747993137 and GetUnitTypeId(u)!=1697657136 and GetUnitTypeId(u)!=1747993395 and GetUnitTypeId(u)!=1697657424 and GetUnitTypeId(u)!=1747988559 and GetUnitTypeId(u)!=1697657412 and GetUnitTypeId(u)!=1747990577 and GetUnitTypeId(u)!=1865429305)then
set A7F=GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_ENDCAST and Z_F()
endif
endif
set u=null
return false
endfunction
function A8F takes unit P67,integer EL9 returns item
local integer PQ7
local item A9F
set EZ7="FindItemOfIndex"
set PQ7=0
loop
exitwhen PQ7>5
set A9F=UnitItemInSlot(P67,PQ7)
if(A9F!=null)and(RO7(A9F)==EL9)then
set A9F=null
return UnitItemInSlot(P67,PQ7)
endif
set PQ7=PQ7+1
endloop
set A9F=null
return null
endfunction
function XP8 takes nothing returns nothing
local unit C17=IN4
local integer i=1
local integer ADF
set EZ7="XP8"
if GetUnitTypeId(C17)!=1211117653 then
return
endif
loop
exitwhen i>11
set ADF=BS[i]
call L67(C17,ADF)
call SetPlayerAbilityAvailable(GetOwningPlayer(C17),ADF,false)
set i=i+1
endloop
set C17=null
endfunction
function AEF takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==1211117653 and IsUnitIllusion(GetTriggerUnit())==false then
set IN4=GetTriggerUnit()
call XP8()
elseif(GetUnitTypeId(GetTriggerUnit())==1432510828 or GetUnitTypeId(GetTriggerUnit())==1160786520)and IsUnitIllusion(GetTriggerUnit())==false then
set IN4=GetTriggerUnit()
call ExecuteFunc("WVE")
elseif GetUnitTypeId(GetTriggerUnit())==1211117641 and IsUnitIllusion(GetTriggerUnit())==false then
set IN4=GetTriggerUnit()
call ExecuteFunc("DTE")
endif
return false
endfunction
function AFF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
set EZ7="AFF"
call UnitRemoveAbility(m5,1093686858)
call UnitRemoveAbility(m5,1093742649)
if GetUnitAbilityLevel(m5,1093686858)==0 or GetUnitAbilityLevel(m5,1093742649)==0 then
call T97(US7)
call UQ7(t)
endif
set t=null
set m5=null
return false
endfunction
function AGF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
set EZ7="AGF"
call DestroyEffect(T27(US7,"FX"))
call T97(US7)
call UQ7(t)
call UnitRemoveAbility(m5,1093686858)
call UnitRemoveAbility(m5,1093742649)
if GetUnitAbilityLevel(m5,1093686858)>0 or GetUnitAbilityLevel(m5,1093742649)>0 then
set t=CreateTrigger()
set US7=GetHandleId(t)
call TJ7(US7,"Target",m5)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function AFF))
endif
set t=null
set m5=null
return false
endfunction
function AHF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit C17=GetTriggerUnit()
local integer AIF=GetHandleId(C17)
local unit m5=GetSpellTargetUnit()
local integer AJF=U97(AIF,"WexLevel")
local integer AKF=U97(AIF,"ExortLevel")
set EZ7="AHF"
call L67(m5,1093686858)
call SetUnitAbilityLevel(m5,1093686858,AJF)
call L67(m5,1093742649)
call SetUnitAbilityLevel(m5,1093742649,AKF)
call TriggerRegisterTimerEvent(t,9,false)
call TriggerAddCondition(t,Condition(function AGF))
call TJ7(US7,"Target",m5)
call TK7(US7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl",m5,"origin"))
set t=null
set C17=null
set m5=null
endfunction
function AMF takes nothing returns boolean
if GetSpellAbilityId()==1093686865 then
call AHF()
endif
return false
endfunction
function ANF takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="ANF"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AMF))
call DB8(1093686858,GetRandomReal(1,25))
call DB8(1093742649,GetRandomReal(1,25))
set t=null
endfunction
function AOF takes unit p5 returns real
return 400+400.0*(U97(GetHandleId(p5),"WexLevel"))
endfunction
function APF takes unit p5,unit m5,integer AJF,integer AQF returns nothing
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
local unit ARF=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
local real ASF=0.5+0.3*AQF
set EZ7="YUv"
if AQF==7 then
set ASF=2.5
endif
call L67(oA,1093687371)
call SetUnitAbilityLevel(oA,1093687371,AQF)
call IssueTargetOrder(oA,"cyclone",m5)
call H38(ARF,m5,1,70+(AJF+AQF)*20.0,ASF)
set oA=null
set ARF=null
endfunction
function ATF takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call APF(IN4,GetEnumUnit(),IH4,tl)
endif
endfunction
function AUF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit oA=T37(US7,"Caster")
local real x2=UD7(US7,"x2")
local real y2=UD7(US7,"y2")
local real a=UD7(US7,"a")
local integer AJF=U97(US7,"WexLevel")
local integer AQF=U97(US7,"QuasLevel")
local group g=T57(US7,"g")
local real x=GetUnitX(oA)+25*Cos(a)
local real y=GetUnitY(oA)+25*Sin(a)
local group AVF=LD7()
local real AWF=Q07(x,y,x2,y2)
set EZ7="AUF"
if AWF<=30 then
set x=x2
set y=y2
endif
call SetUnitX(oA,DT8(x))
call SetUnitY(oA,DU8(y))
set IN4=oA
set IQ4=g
set IH4=AJF
set tl=AQF
call GroupEnumUnitsInRange(AVF,x,y,200,Condition(function G78))
call ForGroup(AVF,function ATF)
call L97(AVF)
if AWF<=30 or GetTriggerEvalCount(t)>125 then
call KillUnit(oA)
call T97(US7)
call UQ7(t)
endif
set t=null
set oA=null
set g=null
set AVF=null
return false
endfunction
function AXF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local location l=GetSpellTargetLoc()
local unit p5=GetTriggerUnit()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local unit oA
set EZ7="AXF"
set x=GetUnitX(p5)
set y=GetUnitY(p5)
set oA=CreateUnit(GetOwningPlayer(p5),1848652117,x,y,a*bj_RADTODEG)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function AUF))
call TJ7(US7,"Caster",oA)
call TG7(US7,"x2",x+AOF(p5)*Cos(a))
call TG7(US7,"y2",y+AOF(p5)*Sin(a))
call TF7(US7,"WexLevel",(U97(GetHandleId(p5),"WexLevel")))
call TF7(US7,"QuasLevel",(U97(GetHandleId(p5),"QuasLevel")))
call TG7(US7,"a",a)
call TS7(US7,"g",LD7())
call RemoveLocation(l)
set t=null
set l=null
set p5=null
endfunction
function AYF takes nothing returns boolean
if GetSpellAbilityId()==1093686859 then
call AXF()
endif
return false
endfunction
function AZF takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="AZF"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AYF))
call DB8(1093687371,GetRandomReal(1,25))
set t=null
endfunction
function AAF takes nothing returns nothing
local real ABF=D28(D58(GetUnitState(GetEnumUnit(),UNIT_STATE_MANA),pB),0)
local real ACF=ABF*0.5
set EZ7="AAF"
if C37(GetEnumUnit())==false and ABF>0 and C77(GetEnumUnit())==false then
if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>(ACF+0.5)then
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)-ACF)
else
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,1)
call HY8(PB,GetEnumUnit(),ZG4,ACF)
endif
call SetUnitState(GetEnumUnit(),UNIT_STATE_MANA,GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)-ABF)
endif
endfunction
function A3F takes unit p5,integer AJF,integer AKF returns nothing
local group g=LD7()
set EZ7="Y6v"
set PB=p5
set IN4=p5
set pB=AJF*50+50
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),700,Condition(function G78))
call ForGroup(g,function AAF)
call L97(g)
set g=null
endfunction
function A6F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer iX=GetTriggerEvalCount(t)
local unit oA=T37(US7,"Caster")
local unit ALF
local real A1F=XN-0.28*U97(US7,"WexLevel")
local real A0F=VN+(EN-VN)*iX/(A1F/ 0.05)
set EZ7="A6F"
call SetUnitScale(oA,A0F,A0F,A0F)
if iX>(A1F/ 0.05)then
call A3F(oA,U97(US7,"WexLevel"),U97(US7,"ExortLevel"))
set ALF=CreateUnit(GetOwningPlayer(oA),1697657167,GetUnitX(oA),GetUnitY(oA),0)
call SetUnitTimeScale(ALF,0.3)
call RemoveUnit(oA)
call KillUnit(ALF)
call T97(US7)
call UQ7(t)
endif
set t=null
set oA=null
set ALF=null
return false
endfunction
function A5F takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local location l=GetSpellTargetLoc()
local unit p5=GetTriggerUnit()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local unit oA=CreateUnit(GetOwningPlayer(p5),1697657165,x,y,a*bj_RADTODEG)
set EZ7="A5F"
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function A6F))
call TJ7(US7,"Caster",oA)
call TF7(US7,"WexLevel",((U97(GetHandleId(p5),"WexLevel"))))
call TF7(US7,"QuasLevel",((U97(GetHandleId(p5),"QuasLevel"))))
call TF7(US7,"ExortLevel",((U97(GetHandleId(p5),"ExortLevel"))))
call RemoveLocation(l)
set t=null
set l=null
set p5=null
endfunction
function A2F takes nothing returns boolean
if GetSpellAbilityId()==1093686867 then
call A5F()
endif
return false
endfunction
function A_F takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="A_F"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function A2F))
set t=null
endfunction
function B4F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit B7F=T37(US7,"Caster")
local unit hn=T37(US7,"Hero")
set EZ7="B4F"
if GetUnitAbilityLevel(hn,1110456408)==0 then
call KillUnit(B7F)
call T97(US7)
call UQ7(t)
else
call SetUnitAbilityLevel(B7F,1093686856,(U97(GetHandleId(hn),"QuasLevel")))
call SetUnitX(B7F,GetUnitX(hn))
call SetUnitY(B7F,GetUnitY(hn))
endif
set t=null
set B7F=null
set hn=null
return false
endfunction
function B8F takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit hn=GetTriggerUnit()
local unit B7F=CreateUnit(GetOwningPlayer(hn),1697657174,GetUnitX(hn),GetUnitY(hn),0)
set EZ7="B8F"
call L67(B7F,1093686856)
call SetUnitAbilityLevel(B7F,1093686856,(U97(GetHandleId(hn),"QuasLevel")))
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function B4F))
call TJ7(US7,"Caster",B7F)
call TJ7(US7,"Hero",hn)
set t=null
set hn=null
endfunction
function B9F takes nothing returns boolean
if GetSpellAbilityId()==1093687372 then
call B8F()
endif
return false
endfunction
function BDF takes unit hn returns nothing
if GetUnitAbilityLevel(hn,1093687372)>0 then
call SetUnitAbilityLevel(hn,1093687372,(U97(GetHandleId(hn),"WexLevel")))
endif
endfunction
function BEF takes nothing returns boolean
if IsUnitIllusion(GetTriggerUnit())==false then
call BDF(GetTriggerUnit())
endif
return false
endfunction
function BFF takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="BFF"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function B9F))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function BEF))
call DB8(1093686856,GetRandomReal(1,25))
set t=null
endfunction
function BGF takes unit BHF,unit m5,integer AJF returns nothing
local unit BIF=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
set EZ7="Invoke5_Effect"
call L67(BIF,1093686868)
call SetUnitAbilityLevel(BIF,1093686868,AJF)
call IssueTargetOrder(BIF,"drunkenhaze",m5)
set BIF=null
endfunction
function BJF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit BHF=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local real BKF=UD7(US7,"Angle")
local real BMF=UD7(US7,"Rate")
local integer AJF=U97(US7,"WexLevel")
local integer AQF=U97(US7,"QuasLevel")
local integer BNF=AQF*25/ 3
local real x
local real y
local integer OXE=GetTriggerEvalCount(t)
set EZ7="BJF"
if OXE>BNF/ 3 then
call TG7(US7,"Rate",BMF*0.98)
endif
if OXE>BNF or GetTriggerEventId()==EVENT_UNIT_DEATH then
call T97(US7)
call UQ7(t)
if GetTriggerEventId()!=EVENT_UNIT_DEATH then
call BGF(BHF,m5,AJF)
endif
else
set x=DT8(GetUnitX(m5)+BMF*Cos(BKF))
set y=DU8(GetUnitY(m5)+BMF*Sin(BKF))
call ER8(x,y,150)
call SetUnitPosition(m5,x,y)
endif
set t=null
set BHF=null
set m5=null
return false
endfunction
function BOF takes unit BHF,unit m5,integer AJF,integer AQF,integer BPF returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local real BKF=Atan2(GetUnitY(m5)-GetUnitY(BHF),GetUnitX(m5)-GetUnitX(BHF))
set EZ7="InvokeDeafeningBlastHelp5"
call HY8(BHF,m5,ZG4,BPF*40)
call TJ7(US7,"Source",BHF)
call TJ7(US7,"Target",m5)
call TG7(US7,"Angle",BKF)
call TG7(US7,"Rate",6)
call TF7(US7,"WexLevel",AJF)
call TF7(US7,"QuasLevel",AQF)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function BJF))
set t=null
endfunction
function BQF takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false and C37(GetEnumUnit())==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call BOF(IN4,GetEnumUnit(),IH4,tl,Tl)
endif
endfunction
function BRF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit BIF=T37(US7,"Caster")
local real a=UD7(US7,"a")
local real x2=UD7(US7,"x2")
local real y2=UD7(US7,"y2")
local group g=T57(US7,"g")
local integer AJF=U97(US7,"WexLevel")
local integer AQF=U97(US7,"QuasLevel")
local integer BPF=U97(US7,"ExortLevel")
local real x=GetUnitX(BIF)
local real y=GetUnitY(BIF)
local group g2
set EZ7="BRF"
if Q07(x,y,x2,y2)<100 then
set x=x2
set y=y2
else
set x=x+33*Cos(a)
set y=y+33*Sin(a)
endif
call SetUnitX(BIF,DT8(x))
call SetUnitY(BIF,DU8(y))
set g2=LD7()
set IN4=BIF
set IQ4=g
set IH4=AJF
set tl=AQF
set Tl=BPF
call GroupEnumUnitsInRange(g2,x,y,200,Condition(function G78))
call ForGroup(g2,function BQF)
call L97(g2)
if(x==x2 and y==y2)or GetTriggerEvalCount(t)>35 then
set g2=LD7()
set IN4=BIF
set IQ4=g
set IH4=AJF
set tl=AQF
set Tl=BPF
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function G78))
call ForGroup(g2,function BQF)
call L97(g2)
call T97(US7)
call UQ7(t)
call KillUnit(BIF)
call L97(g)
endif
set t=null
set BIF=null
set g=null
set g2=null
return false
endfunction
function BSF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local location l=GetSpellTargetLoc()
local unit BHF=GetTriggerUnit()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(BHF),x-GetUnitX(BHF))
local unit BIF=CreateUnit(GetOwningPlayer(BHF),1848652120,GetUnitX(BHF),GetUnitY(BHF),a*bj_RADTODEG)
set EZ7="BSF"
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function BRF))
call TJ7(US7,"Caster",BIF)
call TG7(US7,"a",a)
call TG7(US7,"x2",GetUnitX(BHF)+1000*Cos(a))
call TG7(US7,"y2",GetUnitY(BHF)+1000*Sin(a))
call TS7(US7,"g",LD7())
call TF7(US7,"WexLevel",(U97(GetHandleId(BHF),"WexLevel")))
call TF7(US7,"QuasLevel",(U97(GetHandleId(BHF),"QuasLevel")))
call TF7(US7,"ExortLevel",(U97(GetHandleId(BHF),"ExortLevel")))
call RemoveLocation(l)
set t=null
set l=null
set BHF=null
endfunction
function BTF takes nothing returns boolean
if GetSpellAbilityId()==1093686861 then
call BSF()
endif
return false
endfunction
function BUF takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="BUF"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BTF))
call DB8(1093686868,GetRandomReal(1,25))
set t=null
endfunction
function BVF takes unit hn returns real
local integer BWF=(U97(GetHandleId(hn),"ExortLevel"))
set EZ7="Invoke6_GetDamage"
return(80+BWF*35.0)/ 2
endfunction
function BXF takes unit hn returns real
local integer BYF=(U97(GetHandleId(hn),"WexLevel"))
set EZ7="Invoke6_GetDistance"
return 325+BYF*175.0
endfunction
function BZF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit BHF=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local real D_8=UD7(US7,"Damage")
local effect FX=T27(US7,"FX")
local integer OXE=GetTriggerEvalCount(t)
set EZ7="BZF"
call HY8(BHF,m5,ZG4,D_8)
if OXE==3 then
call T97(US7)
call UQ7(t)
call DestroyEffect(FX)
endif
set t=null
set BHF=null
set m5=null
set FX=null
return false
endfunction
function BAF takes unit BHF,unit m5,real D_8 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="zjv"
call TJ7(US7,"Source",BHF)
call TJ7(US7,"Target",m5)
call TG7(US7,"Damage",D_8)
call TK7(US7,"FX",AddSpecialEffectTarget("Environment\\SmallBuildingFire\\SmallBuildingFire2.mdl",m5,"chest"))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function BZF))
set t=null
endfunction
function BBF takes nothing returns nothing
call BAF(IN4,GetEnumUnit(),IJ4/ 5)
call HY8(IN4,GetEnumUnit(),ZG4,IJ4)
endfunction
function BCF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
local real a=UD7(US7,"a")
local integer OXE=GetTriggerEvalCount(t)-26
local unit BHF=T37(US7,"Source")
local real B3F
local real B6F
local unit BLF
local group g
set EZ7="BCF"
if OXE==1 then
set BLF=CreateUnit(GetOwningPlayer(BHF),1697657164,x,y,a*bj_RADTODEG)
call TJ7(US7,"Caster",BLF)
elseif OXE>1 then
set BLF=T37(US7,"Caster")
endif
if OXE>0 then
set B3F=DT8(GetUnitX(BLF)+15*Cos(a))
set B6F=DU8(GetUnitY(BLF)+15*Sin(a))
call SetUnitX(BLF,B3F)
call SetUnitY(BLF,B6F)
if(OXE>1 and ModuloInteger(OXE,10)==0)or OXE==1 then
set g=LD7()
set IN4=BHF
set IJ4=BVF(BHF)
call GroupEnumUnitsInRange(g,B3F,B6F,300,Condition(function G78))
call ForGroup(g,function BBF)
call L97(g)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",B3F,B6F))
endif
if OXE>BXF(BHF)/ 16.6 then
call T97(US7)
call UQ7(t)
call KillUnit(BLF)
endif
endif
set t=null
set g=null
set BLF=null
set BHF=null
return false
endfunction
function B1F takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local location l=GetSpellTargetLoc()
local unit BHF=GetTriggerUnit()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(BHF),x-GetUnitX(BHF))
local unit B0F=CreateUnit(GetOwningPlayer(BHF),1697657163,x,y,a*bj_RADTODEG)
set EZ7="B1F"
call SetUnitTimeScale(B0F,0.58)
call UnitApplyTimedLife(B0F,1112820806,1.75)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function BCF))
call TJ7(US7,"Source",BHF)
call TG7(US7,"x",x)
call TG7(US7,"y",y)
call TG7(US7,"a",a)
call RemoveLocation(l)
set t=null
set l=null
set BHF=null
endfunction
function B5F takes nothing returns boolean
if GetSpellAbilityId()==1093686862 then
call B1F()
endif
return false
endfunction
function B2F takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="B2F"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function B5F))
set t=null
endfunction
function B_F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local real C4F=UD7(GetHandleId(m5),"MeltingStrike|Last")
set EZ7="B_F"
if C4F+5<=RF7()then
call UnitRemoveAbility(m5,1093686871)
endif
call T97(US7)
call UQ7(t)
set t=null
set m5=null
return false
endfunction
function C7F takes unit m5 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(m5,1093686871)
set EZ7="zsv"
if BY7==0 then
call L67(m5,1093686871)
endif
call SetUnitAbilityLevel(m5,1093686871,BY7+1)
call TJ7(US7,"Target",m5)
call TG7(GetHandleId(m5),"MeltingStrike|Last",RF7())
call TriggerRegisterTimerEvent(t,5,false)
call TriggerAddCondition(t,Condition(function B_F))
set t=null
endfunction
function C8F takes nothing returns boolean
local real d
set EZ7="C8F"
if GetUnitAbilityLevel(GetTriggerUnit(),1110456625)>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093686870)>0 and T37(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call UnitRemoveAbility(GetTriggerUnit(),1110456625)
call DisableTrigger(GetTriggeringTrigger())
call C7F(GetTriggerUnit())
call T97(GetHandleId(GetTriggeringTrigger()))
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function C9F takes nothing returns nothing
local trigger t
local unit m5
local unit p5
set EZ7="C9F"
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set m5=GetSpellTargetUnit()
set p5=GetTriggerUnit()
else
set m5=GetTriggerUnit()
set p5=GetAttacker()
endif
if IsUnitIllusion(p5)==false then
set t=CreateTrigger()
call TJ7(GetHandleId(t),"Source",p5)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function C8F))
endif
set t=null
set m5=null
set p5=null
endfunction
function CDF takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetUnitAbilityLevel(GetAttacker(),1093686870)>0 and UE7(GetHandleId(GetTriggeringTrigger()),"OrbOn")and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==T37(GetHandleId(GetTriggeringTrigger()),"Source")then
call C9F()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==OrderId("poisonarrows"))then
call TI7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)
elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))then
call TI7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093686870 then
call C9F()
endif
return false
endfunction
function CEF takes unit p5 returns nothing
local trigger t=CreateTrigger()
set EZ7="zuv"
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function CDF))
call TJ7(GetHandleId(t),"Source",p5)
call TI7(GetHandleId(t),"OrbOn",true)
set t=null
endfunction
function CFF takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function CGF takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==1848652343 then
return true
endif
return false
endfunction
function CHF takes player p returns nothing
local group g=LD7()
set EZ7="zWv"
call GroupEnumUnitsOfPlayer(g,p,Condition(function CGF))
call ForGroup(g,function CFF)
call L97(g)
set g=null
endfunction
function CIF takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit oA
local integer AQF=(U97(GetHandleId(p5),"QuasLevel"))
local integer AKF=(U97(GetHandleId(p5),"ExortLevel"))
set EZ7="CIF"
call CHF(GetOwningPlayer(p5))
set oA=CreateUnit(GetOwningPlayer(p5),1848652343,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call SetUnitColor(oA,GetPlayerColor(Z7[0]))
call AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",oA,"chest")
call UnitApplyTimedLife(oA,1112820806,10+10*AQF)
call SetUnitAbilityLevel(oA,1093686870,AKF)
call CEF(oA)
if Ab[GetPlayerId(GetOwningPlayer(p5))]then
call SelectUnitAddForPlayer(oA,GetOwningPlayer(p5))
endif
if AQF>3 and AKF>3 then
set oA=CreateUnit(GetOwningPlayer(p5),1848652343,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call SetUnitColor(oA,GetPlayerColor(Z7[0]))
call AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",oA,"chest")
call UnitApplyTimedLife(oA,1112820806,10+10*AQF)
call SetUnitAbilityLevel(oA,1093686870,AKF)
call CEF(oA)
if Ab[GetPlayerId(GetOwningPlayer(p5))]then
call SelectUnitAddForPlayer(oA,GetOwningPlayer(p5))
endif
endif
call SetPlayerTechResearched(GetOwningPlayer(p5),1378889799,AKF)
call SetPlayerTechResearched(GetOwningPlayer(p5),1378889800,AQF)
set p5=null
set oA=null
endfunction
function CJF takes nothing returns boolean
if GetSpellAbilityId()==1093686863 then
call CIF()
endif
return false
endfunction
function CKF takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="CKF"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CJF))
call DB8(1093686870,GetRandomReal(1,25))
call DB8(1093686871,GetRandomReal(1,25))
set t=null
endfunction
function CMF takes unit FJ8 returns integer
local integer HW8=(U97(GetHandleId(FJ8),"QuasLevel"))
set EZ7="Invoke8_GetSlowAbility"
if HW8==1 then
return 1093808944
elseif HW8==2 then
return 1093808730
elseif HW8==3 then
return 1093808729
elseif HW8==4 then
return 1093808725
elseif HW8==5 then
return 1093808726
elseif HW8==6 then
return 1093808727
elseif HW8==7 then
return 1093808728
endif
return 1093808944
endfunction
function CNF takes unit PU7 returns nothing
call UnitRemoveAbility(PU7,1093808944)
call UnitRemoveAbility(PU7,1093808730)
call UnitRemoveAbility(PU7,1093808729)
call UnitRemoveAbility(PU7,1093808725)
call UnitRemoveAbility(PU7,1093808726)
call UnitRemoveAbility(PU7,1093808727)
call UnitRemoveAbility(PU7,1093808728)
call UnitRemoveAbility(PU7,1110456410)
endfunction
function COF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local real OJD=(LoadReal(L7,(GetHandleId(PU7)),(681)))
set EZ7="COF"
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if GetTriggerEventId()==EVENT_WIDGET_DEATH or OJD<(TimerGetElapsed(W))then
call CNF(PU7)
endif
set t=null
set PU7=null
return false
endfunction
function CPF takes nothing returns nothing
local unit FJ8=IN4
local unit PU7=GetEnumUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local real OJD=(LoadReal(L7,(GetHandleId(PU7)),(681)))
set EZ7="CPF"
if OJD<(TimerGetElapsed(W))then
call L67(PU7,CMF(FJ8))
endif
call SaveReal(L7,(GetHandleId(PU7)),(681),(((TimerGetElapsed(W))+2)*1.0))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call TriggerRegisterTimerEvent(t,2.01,false)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerAddCondition(t,Condition(function COF))
set t=null
set FJ8=null
endfunction
function CQF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real GPD=(LoadReal(L7,(PP7),(6)))
local real GQD=(LoadReal(L7,(PP7),(7)))
local real a=(LoadReal(L7,(PP7),(137)))
local real HT8=(LoadReal(L7,(PP7),(57)))
local real x
local real y
local integer i=1
local integer L48=GetTriggerEvalCount(t)
local group g
set EZ7="CQF"
if L48*0.1>HT8 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set g=LD7()
set IN4=FJ8
loop
exitwhen i>7
set x=GPD+80*i*Cos((a+90)*bj_DEGTORAD)
set y=GQD+80*i*Sin((a+90)*bj_DEGTORAD)
call GroupEnumUnitsInRange(g,x,y,105,Condition(function GK8))
call ForGroup(g,function CPF)
set x=GPD+80*i*Cos((a-90)*bj_DEGTORAD)
set y=GQD+80*i*Sin((a-90)*bj_DEGTORAD)
call GroupEnumUnitsInRange(g,x,y,105,Condition(function GK8))
call ForGroup(g,function CPF)
set i=i+1
endloop
call L97(g)
set g=null
endif
set t=null
set FJ8=null
return false
endfunction
function CRF takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real a=GetUnitFacing(p5)
local integer i=1
local unit oA
local real x
local real y
local real GPD=GetUnitX(p5)+225*Cos(a*bj_DEGTORAD)
local real GQD=GetUnitY(p5)+225*Sin(a*bj_DEGTORAD)
local integer AQF=(U97(GetHandleId(p5),"QuasLevel"))
local integer AKF=(U97(GetHandleId(p5),"ExortLevel"))
local real HT8=1.5+1.5*AQF
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="CRF"
loop
exitwhen i>7
set x=GPD+80*i*Cos((a+90)*bj_DEGTORAD)
set y=GQD+80*i*Sin((a+90)*bj_DEGTORAD)
set oA=CreateUnit(GetOwningPlayer(p5),1966092367,x,y,GetRandomReal(0,360))
call SetUnitAbilityLevel(oA,1395667016,AQF)
call SetUnitAbilityLevel(oA,1093687374,AKF)
call SetUnitAnimation(oA,"birth")
call QueueUnitAnimation(oA,"stand")
call UnitApplyTimedLife(oA,1112820806,HT8)
set x=GPD+80*i*Cos((a-90)*bj_DEGTORAD)
set y=GQD+80*i*Sin((a-90)*bj_DEGTORAD)
set oA=CreateUnit(GetOwningPlayer(p5),1966092367,x,y,GetRandomReal(0,360))
call SetUnitAbilityLevel(oA,1395667016,AQF)
call SetUnitAbilityLevel(oA,1093687374,AKF)
call SetUnitAnimation(oA,"birth")
call QueueUnitAnimation(oA,"stand")
call UnitApplyTimedLife(oA,1112820806,HT8)
set i=i+1
endloop
call TriggerAddCondition(t,Condition(function CQF))
call TriggerRegisterTimerEvent(t,0.1,true)
call SaveReal(L7,(PP7),(6),((GPD)*1.0))
call SaveReal(L7,(PP7),(7),((GQD)*1.0))
call SaveReal(L7,(PP7),(137),((a)*1.0))
call SaveUnitHandle(L7,(PP7),(2),(p5))
call SaveReal(L7,(PP7),(57),((HT8)*1.0))
set oA=null
set p5=null
set t=null
endfunction
function CSF takes nothing returns boolean
if GetSpellAbilityId()==1093686864 then
call CRF()
endif
return false
endfunction
function CTF takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="CTF"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CSF))
call DB8(1395667016,GetRandomReal(1,25))
call DB8(1093687374,GetRandomReal(1,25))
set t=null
endfunction
function CUF takes nothing returns nothing
if RM7(GetEnumUnit())==false then
call HY8(IN4,GetEnumUnit(),ZI4,IJ4)
endif
endfunction
function CVF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit hn=T37(US7,"Hero")
local real D_8=UD7(US7,"Damage")
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
local group g=LD7()
local integer OXE
set EZ7="CVF"
set IN4=hn
call GroupEnumUnitsInRange(g,x,y,200,Condition(function G78))
set OXE=CountUnitsInGroup(g)
if OXE<1 then
set OXE=1
endif
set IJ4=D_8/ OXE
call ForGroup(g,function CUF)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",x,y))
call L97(g)
call DestroyEffect(T27(US7,"Effect"))
call T97(US7)
call UQ7(t)
set t=null
set hn=null
set g=null
return false
endfunction
function CWF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit hn=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real D_8=(U97(GetHandleId(hn),"ExortLevel"))*62.5+12.5+25
local string s=""
set EZ7="CWF"
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(hn))==true or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
set s="Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl"
endif
call EV8(GetOwningPlayer(hn),5.7,x,y,400)
call TriggerRegisterTimerEvent(t,1.7,false)
call TriggerAddCondition(t,Condition(function CVF))
call TJ7(US7,"Hero",hn)
call TG7(US7,"x",x)
call TG7(US7,"y",y)
call TG7(US7,"Damage",D_8)
call TK7(US7,"Effect",AddSpecialEffect(s,x,y))
call RemoveLocation(l)
set t=null
set hn=null
set l=null
endfunction
function CXF takes nothing returns boolean
if GetSpellAbilityId()==1093686855 then
call CWF()
endif
return false
endfunction
function CYF takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="CYF"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CXF))
set t=null
endfunction
function CZF takes unit BHF,unit m5 returns nothing
local unit CAF=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
set EZ7="Invoke10_Ministun"
call L67(CAF,1093686857)
call IssueTargetOrder(CAF,"thunderbolt",m5)
if C37(m5)==false then
call HY8(BHF,m5,ZG4,30)
endif
set CAF=null
endfunction
function CBF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local integer BY7=U97(US7,"Level")
local unit BHF=T37(US7,"Source")
set EZ7="CBF"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>10 and UK7(t,"Cooldown")==false and GetOwningPlayer(GetEventDamageSource())!=GetOwningPlayer(GetTriggerUnit())then
call DisableTrigger(t)
call CZF(BHF,m5)
call EnableTrigger(t)
call UV7(t,"Cooldown",0.8-BY7*0.0285)
endif
else
call DestroyEffect(T27(US7,"FX"))
call T97(US7)
call UQ7(t)
endif
set t=null
set m5=null
set BHF=null
return false
endfunction
function CCF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit hn=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BY7=(U97(GetHandleId(hn),"QuasLevel"))
set EZ7="CCF"
call TriggerRegisterTimerEvent(t,2.5+BY7*0.5,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function CBF))
call TJ7(US7,"Target",m5)
call TF7(US7,"Level",BY7)
call TJ7(US7,"Source",hn)
call TK7(US7,"FX",AddSpecialEffectTarget("Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl",m5,"overhead"))
call CZF(hn,m5)
set t=null
set hn=null
set m5=null
endfunction
function C3F takes nothing returns boolean
if GetSpellAbilityId()==1093686874 then
call CCF()
endif
return false
endfunction
function C6F takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="C6F"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function C3F))
call DB8(1093686857,GetRandomReal(1,25))
set t=null
endfunction
function CLF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit hn=T37(US7,"Hero")
local integer BY7=U97(US7,"Level")
set EZ7="CLF"
call SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+BY7*1)
return false
endfunction
function C1F takes unit hn,integer BY7 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(hn)
set EZ7="Zov"
call TI7(US7,"Invoker|HasQuas",true)
call TM7(US7,"Invoker|QuasTrigger",t)
call TJ7(GetHandleId(t),"Hero",hn)
call TF7(GetHandleId(t),"Level",BY7)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function CLF))
set t=null
endfunction
function C0F takes unit hn returns nothing
local integer US7=GetHandleId(hn)
local boolean C5F=UE7(US7,"Invoker|HasQuas")
local trigger t
set EZ7="Zrv"
if C5F then
call TI7(US7,"Invoker|HasQuas",false)
set t=T07(US7,"Invoker|QuasTrigger")
call T97(GetHandleId(t))
call UQ7(t)
endif
set t=null
endfunction
function C2F takes unit hn returns nothing
local integer US7=GetHandleId(hn)
local integer C_F=U97(US7,"Invoker|Wex")
local integer L4F=U97(US7,"Invoker|Quas")
local integer L7F=U97(US7,"Invoker|Exort")
local integer AJF=GetUnitAbilityLevel(hn,1093808472)
local integer AQF=GetUnitAbilityLevel(hn,1093808471)
local integer AKF=GetUnitAbilityLevel(hn,1093808470)
set EZ7="InvokerCore_UpdateUpgrades"
call UnitRemoveAbility(hn,1093687108)
call UnitRemoveAbility(hn,1093686853)
call C0F(hn)
call UnitRemoveAbility(hn,1093686839)
if C_F>0 then
call L67(hn,1093687108)
call L67(hn,1093686853)
call SetUnitAbilityLevel(hn,1093687108,C_F*AJF)
call SetUnitAbilityLevel(hn,1093686853,C_F*AJF)
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),1093687108,false)
endif
if L4F>0 then
call C1F(hn,L4F*AQF)
endif
if L7F>0 then
call L67(hn,1093686839)
call SetUnitAbilityLevel(hn,1093686839,L7F*AKF)
endif
endfunction
function L8F takes nothing returns boolean
if IsUnitIllusion(GetTriggerUnit())==false and(GetLearnedSkill()==1093808472 or GetLearnedSkill()==1093808471 or GetLearnedSkill()==1093808470)then
call C2F(GetTriggerUnit())
if GetLearnedSkill()==1093808472 then
call SetHeroAgi(GetTriggerUnit(),GetHeroAgi(GetTriggerUnit(),false)+2,true)
call TF7((GetHandleId(GetTriggerUnit())),"WexLevel",(GetUnitAbilityLevel(GetTriggerUnit(),1093808472)))
endif
if GetLearnedSkill()==1093808471 then
call SetHeroStr(GetTriggerUnit(),GetHeroStr(GetTriggerUnit(),false)+2,true)
call TF7((GetHandleId(GetTriggerUnit())),"QuasLevel",(GetUnitAbilityLevel(GetTriggerUnit(),1093808471)))
endif
if GetLearnedSkill()==1093808470 then
call SetHeroInt(GetTriggerUnit(),GetHeroInt(GetTriggerUnit(),false)+2,true)
call TF7((GetHandleId(GetTriggerUnit())),"ExortLevel",(GetUnitAbilityLevel(GetTriggerUnit(),1093808470)))
endif
endif
return false
endfunction
function L9F takes unit hn returns nothing
if GetUnitAbilityLevel(hn,1093687372)>0 then
call SetUnitAbilityLevel(hn,1093687372,GetUnitAbilityLevel(hn,1093808472))
endif
endfunction
function LDF takes nothing returns nothing
local integer LEF=0
local unit hn=GetTriggerUnit()
local integer AW7=GetHandleId(hn)
local integer LFF=U97(AW7,"Invoker|Wex")
local integer LGF=U97(AW7,"Invoker|Quas")
local integer LHF=U97(AW7,"Invoker|Exort")
local integer AX7=U97(AW7,"Invoker|Current1")
local integer AY7=U97(AW7,"Invoker|Current2")
set EZ7="LDF"
if LFF==3 and LGF==0 and LHF==0 then
set LEF=1
elseif LFF==2 and LGF==1 and LHF==0 then
set LEF=2
elseif LFF==2 and LGF==0 and LHF==1 then
set LEF=3
elseif LFF==1 and LGF==2 and LHF==0 then
set LEF=4
elseif LFF==1 and LGF==1 and LHF==1 then
set LEF=5
elseif LFF==1 and LGF==0 and LHF==2 then
set LEF=6
elseif LFF==0 and LGF==1 and LHF==2 then
set LEF=7
elseif LFF==0 and LGF==2 and LHF==1 then
set LEF=8
elseif LFF==0 and LGF==0 and LHF==3 then
set LEF=9
elseif LFF==0 and LGF==3 and LHF==0 then
set LEF=10
endif
if BS[LEF]==AY7 then
return
endif
if GetUnitAbilityLevel(hn,1093808473)==1 or GetUnitAbilityLevel(hn,1093748565)==1 then
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AY7,false)
set AY7=BS[LEF]
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AY7,true)
else
if AX7!=0 and AY7!=0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AX7,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AY7,false)
set AX7=AY7
set AY7=BS[LEF]
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AX7,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AY7,true)
elseif AX7==0 and AY7!=0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AY7,false)
set AX7=AY7
set AY7=BS[LEF]
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AX7,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AY7,true)
else
set AY7=BS[LEF]
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AY7,true)
endif
endif
call TF7(AW7,"Invoker|Current1",AX7)
call TF7(AW7,"Invoker|Current2",AY7)
call L9F(hn)
set hn=null
endfunction
function LIF takes unit LI7,integer LJF,integer LKF,integer LMF returns nothing
local integer Orb1=0
local integer Orb2=0
local integer Orb3=0
local integer LNF
local integer LOF
local integer LPF
local integer LQF
local integer LRF
local integer LSF
local integer LTF
local integer LUF
local integer LVF
set EZ7="InvokerCore_UpdateBuffs"
call UnitRemoveAbility(LI7,1093682254)
call UnitRemoveAbility(LI7,1093682247)
call UnitRemoveAbility(LI7,1093683544)
call UnitRemoveAbility(LI7,1093683505)
call UnitRemoveAbility(LI7,1093683504)
call UnitRemoveAbility(LI7,1093683290)
call UnitRemoveAbility(LI7,1093683523)
call UnitRemoveAbility(LI7,1093683522)
call UnitRemoveAbility(LI7,1093683524)
call UnitRemoveAbility(LI7,1093808707)
call UnitRemoveAbility(LI7,1093808708)
call UnitRemoveAbility(LI7,1093808709)
call UnitRemoveAbility(LI7,1093808710)
call UnitRemoveAbility(LI7,1093808711)
call UnitRemoveAbility(LI7,1093808712)
call UnitRemoveAbility(LI7,1093808713)
call UnitRemoveAbility(LI7,1093808714)
call UnitRemoveAbility(LI7,1093808715)
if A8F(LI7,GJ4)==null then
set LNF=1093682254
set LOF=1093682247
set LPF=1093683544
set LQF=1093683505
set LRF=1093683504
set LSF=1093683290
set LTF=1093683523
set LUF=1093683522
set LVF=1093683524
else
set LNF=1093808707
set LOF=1093808708
set LPF=1093808709
set LQF=1093808710
set LRF=1093808711
set LSF=1093808712
set LTF=1093808713
set LUF=1093808714
set LVF=1093808715
endif
if LJF==1 and LKF==0 and LMF==0 then
call L67(LI7,LNF)
elseif LJF==0 and LKF==1 and LMF==0 then
call L67(LI7,LQF)
elseif LJF==0 and LKF==0 and LMF==1 then
call L67(LI7,LTF)
elseif LJF==2 and LKF==0 and LMF==0 then
call L67(LI7,LNF)
call L67(LI7,LOF)
elseif LJF==1 and LKF==1 and LMF==0 then
call L67(LI7,LNF)
call L67(LI7,LRF)
elseif LJF==1 and LKF==0 and LMF==1 then
call L67(LI7,LNF)
call L67(LI7,LUF)
elseif LJF==0 and LKF==2 and LMF==0 then
call L67(LI7,LQF)
call L67(LI7,LRF)
elseif LJF==0 and LKF==1 and LMF==1 then
call L67(LI7,LQF)
call L67(LI7,LUF)
elseif LJF==0 and LKF==0 and LMF==2 then
call L67(LI7,LTF)
call L67(LI7,LUF)
elseif LJF==3 and LKF==0 and LMF==0 then
call L67(LI7,LNF)
call L67(LI7,LOF)
call L67(LI7,LPF)
elseif LJF==2 and LKF==1 and LMF==0 then
call L67(LI7,LNF)
call L67(LI7,LOF)
call L67(LI7,LSF)
elseif LJF==2 and LKF==0 and LMF==1 then
call L67(LI7,LNF)
call L67(LI7,LOF)
call L67(LI7,LVF)
elseif LJF==1 and LKF==2 and LMF==0 then
call L67(LI7,LNF)
call L67(LI7,LRF)
call L67(LI7,LSF)
elseif LJF==1 and LKF==1 and LMF==1 then
call L67(LI7,LNF)
call L67(LI7,LRF)
call L67(LI7,LVF)
elseif LJF==1 and LKF==0 and LMF==2 then
call L67(LI7,LNF)
call L67(LI7,LUF)
call L67(LI7,LVF)
elseif LJF==0 and LKF==1 and LMF==2 then
call L67(LI7,LTF)
call L67(LI7,LUF)
call L67(LI7,LSF)
elseif LJF==0 and LKF==2 and LMF==1 then
call L67(LI7,LQF)
call L67(LI7,LRF)
call L67(LI7,LVF)
elseif LJF==0 and LKF==0 and LMF==3 then
call L67(LI7,LTF)
call L67(LI7,LUF)
call L67(LI7,LVF)
elseif LJF==0 and LKF==3 and LMF==0 then
call L67(LI7,LQF)
call L67(LI7,LRF)
call L67(LI7,LSF)
endif
endfunction
function H8F takes nothing returns nothing
local unit LI7=IN4
local integer PP7=GetHandleId(LI7)
local integer LWF=U97(PP7,"Invoker|OrbFirst")
local integer LXF=U97(PP7,"Invoker|OrbSecond")
local integer LYF=U97(PP7,"Invoker|OrbThird")
local integer LJF=0
local integer LKF=0
local integer LMF=0
set EZ7="H8F"
if LWF==1093808472 then
set LJF=LJF+1
elseif LWF==1093808471 then
set LKF=LKF+1
elseif LWF==1093808470 then
set LMF=LMF+1
endif
if LXF==1093808472 then
set LJF=LJF+1
elseif LXF==1093808471 then
set LKF=LKF+1
elseif LXF==1093808470 then
set LMF=LMF+1
endif
if LYF==1093808472 then
set LJF=LJF+1
elseif LYF==1093808471 then
set LKF=LKF+1
elseif LYF==1093808470 then
set LMF=LMF+1
endif
call LIF(LI7,LJF,LKF,LMF)
set LI7=null
endfunction
function LZF takes nothing returns nothing
local unit hn=GetTriggerUnit()
local integer US7=GetHandleId(hn)
local integer LAF=GetSpellAbilityId()
local integer LBF=U97(US7,"Invoker|OrbFirst")
local integer LCF=U97(US7,"Invoker|OrbSecond")
local integer L3F=U97(US7,"Invoker|OrbThird")
local integer C_F=0
local integer L4F=0
local integer L7F=0
set EZ7="LZF"
set LBF=LCF
set LCF=L3F
set L3F=LAF
if LBF==1093808472 then
set C_F=C_F+1
elseif LBF==1093808471 then
set L4F=L4F+1
elseif LBF==1093808470 then
set L7F=L7F+1
endif
if LCF==1093808472 then
set C_F=C_F+1
elseif LCF==1093808471 then
set L4F=L4F+1
elseif LCF==1093808470 then
set L7F=L7F+1
endif
if L3F==1093808472 then
set C_F=C_F+1
elseif L3F==1093808471 then
set L4F=L4F+1
elseif L3F==1093808470 then
set L7F=L7F+1
endif
call TF7(US7,"Invoker|OrbFirst",LBF)
call TF7(US7,"Invoker|OrbSecond",LCF)
call TF7(US7,"Invoker|OrbThird",L3F)
call TF7(US7,"Invoker|Wex",C_F)
call TF7(US7,"Invoker|Quas",L4F)
call TF7(US7,"Invoker|Exort",L7F)
call LIF(hn,C_F,L4F,L7F)
call C2F(hn)
call L9F(hn)
endfunction
function L6F takes nothing returns boolean
if GetSpellAbilityId()==1093808472 or GetSpellAbilityId()==1093808471 or GetSpellAbilityId()==1093808470 then
call LZF()
elseif GetSpellAbilityId()==1093808473 or GetSpellAbilityId()==1093748565 then
call LDF()
endif
return false
endfunction
function TJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TJ8"
call DX8(BS[1])
call DX8(BS[2])
call DX8(BS[3])
call DX8(BS[4])
call DX8(BS[5])
call DX8(BS[6])
call DX8(BS[7])
call DX8(BS[8])
call DX8(BS[9])
call DX8(BS[10])
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function L6F))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function L8F))
set t=null
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.00,GetObjectName(1848653383))
call DB8(1093687375,GetRandomReal(1,25))
call DB8(1093687108,GetRandomReal(1,25))
call DB8(1093686853,GetRandomReal(1,25))
call DB8(1093686839,GetRandomReal(1,25))
call DB8(1093808470,GetRandomReal(1,25))
call DB8(1093808472,GetRandomReal(1,25))
call DB8(1093808471,GetRandomReal(1,25))
call ANF()
call AZF()
call A_F()
call BFF()
call BUF()
call B2F()
call CKF()
call CTF()
call CYF()
call C6F()
endfunction
function LLF takes nothing returns nothing
if EM9(GetEnumUnit())then
return
endif
call FV8(GetEnumUnit(),RB4,1,7,1110458966)
call UnitMakeAbilityPermanent(GetEnumUnit(),true,RB4)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),RB4,false)
endfunction
function L1F takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093814611)
local group g=LD7()
set EZ7="L1F"
if HW8==1 then
set RB4=1093748278
elseif HW8==2 then
set RB4=1093748279
elseif HW8==3 then
set RB4=1093748275
elseif HW8==4 then
set RB4=1093748277
endif
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),925,Condition(function FB8))
call ForGroup(g,function LLF)
call L97(g)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl",FJ8,"overhead"))
set FJ8=null
set g=null
endfunction
function L0F takes nothing returns boolean
if GetSpellAbilityId()==1093814611 then
call L1F()
endif
return false
endfunction
function TM8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TM8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function L0F))
set t=null
endfunction
function L5F takes nothing returns nothing
call HU8(RC4,GetEnumUnit(),2)
call HY8(RC4,GetEnumUnit(),ZG4,IY7*75+25)
endfunction
function L2F takes player p,unit m5,integer BY7 returns nothing
local unit HV8=CreateUnit(p,1697656901,GetUnitX(m5),GetUnitY(m5),0)
local integer o6
local group g=LD7()
set IY7=BY7
set IN4=M7[GetPlayerId(p)]
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),280,Condition(function G78))
call GroupAddUnit(g,m5)
set RC4=HV8
call ForGroup(g,function L5F)
call L97(g)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl",m5,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl",m5,"origin"))
set HV8=null
set g=null
endfunction
function L_F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local player p=TL7(US7,"p")
local integer HB8=U97(US7,"TargetIndex")
local unit m5=A87(HB8)
local integer BY7=U97(US7,"Level")
local unit HO8=T37(US7,"Projectile")
local real x=GetUnitX(HO8)
local real y=GetUnitY(HO8)
local real Y5=GetUnitX(m5)
local real Z5=GetUnitY(m5)
local real F4=1000*0.035
local real l4=Q87(x,y,Y5,Z5)
local real HUD=x+F4*Cos(l4*bj_DEGTORAD)
local real HVD=y+F4*Sin(l4*bj_DEGTORAD)
local boolean FA9=UE7(US7,"Active")
set EZ7="L_F"
call SetUnitX(HO8,HUD)
call SetUnitY(HO8,HVD)
call SetUnitFacing(HO8,l4)
if Q07(Y5,Z5,HUD,HVD)<=F4 then
if FA9 then
call L2F(p,m5,BY7)
endif
call KillUnit(HO8)
call A77(HB8)
call T97(US7)
call UQ7(t)
endif
set t=null
set m5=null
set HO8=null
return false
endfunction
function D4G takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer BY7=GetUnitAbilityLevel(p5,1093744944)
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit HO8=CreateUnit(GetOwningPlayer(p5),1747990353,GetUnitX(p5),GetUnitY(p5),Q87(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5)))
local boolean FA9=L87(GetSpellTargetUnit())==false
set EZ7="D4G"
call TI7(US7,"Active",FA9)
call TQ7(US7,"p",GetOwningPlayer(p5))
call TF7(US7,"TargetIndex",AD7(m5))
call TJ7(US7,"Projectile",HO8)
call TF7(US7,"Level",BY7)
call TriggerRegisterTimerEvent(t,0.035,true)
call TriggerAddCondition(t,Condition(function L_F))
set t=null
set p5=null
set m5=null
set HO8=null
endfunction
function D7G takes nothing returns boolean
if GetSpellAbilityId()==1093744944 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetTriggerUnit(),"weapon"))
else
call D4G()
endif
endif
return false
endfunction
function TK8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TK8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function D7G))
set t=null
endfunction
function D8G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit LI7=T37(PP7,"Hero")
local integer L48=(U97(PP7,"Count"))
set EZ7="D8G"
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT then
set L48=L48+1
call TF7(PP7,"Count",L48)
endif
if(GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT and L48>1)or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and EU9(GetSpellAbilityId())and GetSpellTargetUnit()==LI7)then
if(GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT and L48>1)then
if L17(LI7)==false then
call UnitRemoveAbility(LI7,1093687119)
call UnitRemoveAbility(LI7,1110454329)
call UnitRemoveAbility(LI7,1110459472)
endif
call T97(PP7)
call UQ7(t)
endif
elseif GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BattleCryCaster.mdx",LI7,"overhead"))
call L67(LI7,1093687119)
call SetUnitAbilityLevel(LI7,1093687119,GetUnitAbilityLevel(LI7,1093752648))
call UnitMakeAbilityPermanent(LI7,true,1093687119)
call SetPlayerAbilityAvailable(GetOwningPlayer(LI7),1093687119,false)
endif
set t=null
set LI7=null
return false
endfunction
function D9G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit LI7=GetTriggerUnit()
set EZ7="D9G"
call TriggerRegisterTimerEvent(t,25,false)
call TriggerRegisterTimerEvent(t,0.31,false)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D8G))
call TJ7(PP7,"Hero",LI7)
call TF7(PP7,"Count",0)
set t=null
set LI7=null
endfunction
function DDG takes nothing returns boolean
if GetSpellAbilityId()==1093752648 and GetUnitTypeId(GetTriggerUnit())==1211117617 then
call D9G()
endif
return false
endfunction
function TN8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TN8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DDG))
set t=null
endfunction
function DEG takes nothing returns nothing
local location l
local unit C17=GetTriggerUnit()
local real x1=GetUnitX(C17)
local real y1=GetUnitY(C17)
local real a
local real x2
local real y2
local integer BY7=GetUnitAbilityLevel(C17,1093687349)
local real D_8
local real Hk
local unit m5=null
set EZ7="DEG"
if GetSpellTargetUnit()!=null then
set l=GetUnitLoc(GetSpellTargetUnit())
else
set l=GetSpellTargetLoc()
endif
set x2=GetLocationX(l)
set y2=GetLocationY(l)
set a=Atan2(y2-y1,x2-x1)
set x2=x1+700*Cos(a)
set y2=y1+700*Sin(a)
if BY7==1 then
set D_8=60
set Hk=0.5
elseif BY7==2 then
set D_8=130
set Hk=1
elseif BY7==3 then
set D_8=200
set Hk=1.5
elseif BY7==4 then
set D_8=260
set Hk=2
endif
if GetSpellTargetUnit()!=null and L87(GetSpellTargetUnit())then
set m5=GetSpellTargetUnit()
endif
call P7E(C17,m5,D_8,Hk,0.52,x1,y1,x2,y2,150,null,true,1600)
call RemoveLocation(l)
set l=null
set C17=null
endfunction
function DFG takes nothing returns boolean
if GetSpellAbilityId()==1093687349 then
call DEG()
endif
return false
endfunction
function TO8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TO8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DFG))
call DX8(1093687350)
set t=null
endfunction
function DGG takes nothing returns boolean
if(GetSpellAbilityId()==1093679413 or GetSpellAbilityId()==1093679447)and C37(GetSpellTargetUnit())then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659026))
endif
return false
endfunction
function TP8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TP8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function DGG))
set t=null
endfunction
function DHG takes nothing returns nothing
local location l
local unit C17=GetTriggerUnit()
local real x1=GetUnitX(C17)
local real y1=GetUnitY(C17)
local real a
local real x2
local real y2
local integer BY7=GetUnitAbilityLevel(C17,1093687351)
local real D_8
local real Hk
local unit m5=null
set EZ7="DHG"
if GetSpellTargetUnit()!=null then
set l=GetUnitLoc(GetSpellTargetUnit())
else
set l=GetSpellTargetLoc()
endif
set x2=GetLocationX(l)
set y2=GetLocationY(l)
set a=Atan2(y2-y1,x2-x1)
set x2=x1+700*Cos(a)
set y2=y1+700*Sin(a)
if BY7==1 then
set D_8=80
set Hk=0.75
elseif BY7==2 then
set D_8=140
set Hk=1.25
elseif BY7==3 then
set D_8=200
set Hk=1.75
elseif BY7==4 then
set D_8=260
set Hk=2.25
endif
if GetSpellTargetUnit()!=null and L87(GetSpellTargetUnit())then
set m5=GetSpellTargetUnit()
endif
call P7E(C17,m5,D_8,Hk,0.52,x1,y1,x2,y2,150,null,true,1600)
call RemoveLocation(l)
set l=null
set C17=null
endfunction
function DIG takes nothing returns boolean
if GetSpellAbilityId()==1093687351 then
call DHG()
endif
return false
endfunction
function TQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TQ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DIG))
call DX8(1093687350)
set t=null
endfunction
function DJG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real r=GetHeroInt(m5,true)*5
local integer DKG=IMinBJ(R2I(r),R2I(GetUnitState(m5,UNIT_STATE_MANA)))
set EZ7="DJG"
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-DKG)
call HY8(p5,m5,ZG4,DKG)
call TY9("MBUR",p5,m5,1,1,1,1,0.5)
call EI8("-"+I2S(DKG),3,m5,0.023,82,82,255,255)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\ManaBurn\\ManaBurnTarget.mdl",m5,"chest"))
set p5=null
set m5=null
endfunction
function DMG takes nothing returns boolean
if GetSpellAbilityId()==1093748789 and L87(GetSpellTargetUnit())==false then
call DJG()
endif
return false
endfunction
function TR8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TR8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DMG))
set t=null
endfunction
function DNG takes nothing returns nothing
call IssueTargetOrder(TY4,"soulburn",GetEnumUnit())
endfunction
function DOG takes nothing returns nothing
local unit F3D=GetTriggerUnit()
local real x=GetUnitX(F3D)
local real y=GetUnitY(F3D)
local unit JNE=CreateUnit(GetOwningPlayer(F3D),1697656901,x,y,0)
local group g=LD7()
set EZ7="DOG"
set TY4=JNE
call L67(JNE,1093748551)
call GroupEnumUnitsInRange(g,x,y,325,Condition(function GQ8))
call ForGroup(g,function DNG)
call L97(g)
call KillUnit(F3D)
call SetUnitAnimation(F3D,"death")
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl",x,y))
set F3D=null
set JNE=null
set g=null
endfunction
function DPG takes nothing returns boolean
if GetSpellAbilityId()==1093748808 then
call DOG()
endif
return false
endfunction
function TS8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TS8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DPG))
call DX8(1093748551)
set t=null
endfunction
function DQG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7
local integer HW8=GetUnitAbilityLevel(FJ8,1093815119)
local group HPD=(LoadGroupHandle(L7,(PP7),(22)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>0 and IsPlayerEnemy(GetOwningPlayer(GetEventDamageSource()),GetOwningPlayer(FJ8))==true then
if AI7(GetOwningPlayer(GetEventDamageSource()))and IY8(GetEventDamage())then
set PU7=M7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
if IsUnitInGroup(PU7,HPD)==false then
call GroupAddUnit(HPD,PU7)
call E48(FJ8,GetEventDamage())
if L17(PU7)==false then
call HU8(FJ8,PU7,0.6*HW8)
call HY8(FJ8,PU7,ZI4,GetEventDamage())
endif
set PU7=null
endif
endif
endif
else
call UnitRemoveAbility(FJ8,1093815120)
call L97(HPD)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
return false
endfunction
function DRG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,2.25,false)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function DQG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveGroupHandle(L7,(PP7),(22),(LD7()))
call L67(FJ8,1093815120)
set FJ8=null
set t=null
endfunction
function DSG takes nothing returns boolean
if GetSpellAbilityId()==1093815119 then
call DRG()
endif
return false
endfunction
function TT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DSG))
set t=null
endfunction
function DTG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer DUG=GetHandleId(t)
local group g=T57(DUG,"g")
set EZ7="DTG"
call L97(g)
call T97(DUG)
call UQ7(t)
set t=null
set g=null
return false
endfunction
function DVG takes group g returns nothing
local trigger t=CreateTrigger()
local integer DUG=GetHandleId(t)
set EZ7="Zuv"
call TS7(DUG,"g",g)
call TriggerRegisterTimerEvent(t,10,false)
call TriggerAddCondition(t,Condition(function DTG))
set t=null
endfunction
function DWG takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit oA
local integer i=1
local real x1=GetUnitX(C17)
local real y1=GetUnitY(C17)
local real x2
local real y2
local real D_8
local real Hk
local integer BY7=GetUnitAbilityLevel(C17,1093810505)
local group g=LD7()
set EZ7="DWG"
if BY7==1 then
set Hk=1.5
set D_8=200
elseif BY7==2 then
set Hk=1.8
set D_8=325
elseif BY7==3 then
set Hk=2.25
set D_8=450
endif
loop
exitwhen i>16
set x2=x1+(500+BY7*100)*Cos(22.5*i*bj_DEGTORAD)
set y2=y1+(500+BY7*100)*Sin(22.5*i*bj_DEGTORAD)
call P7E(C17,null,D_8,Hk,0.52,x1,y1,x2,y2,250,g,false,775)
set i=i+1
endloop
call DVG(g)
set C17=null
set oA=null
set g=null
endfunction
function DXG takes nothing returns boolean
if GetSpellAbilityId()==1093810505 then
call DWG()
endif
return false
endfunction
function QZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QZ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DXG))
call DX8(1093687350)
set t=null
endfunction
function DYG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local real OJD=(LoadReal(L7,(GetHandleId(PU7)),(715)))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if GetTriggerEventId()==EVENT_WIDGET_DEATH or OJD<(TimerGetElapsed(W))then
call UnitRemoveAbility(PU7,1093808696)
call UnitRemoveAbility(PU7,1110459704)
endif
set t=null
set PU7=null
return false
endfunction
function DZG takes unit PU7 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call L67(PU7,1093808696)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerRegisterTimerEvent(t,6.,false)
call TriggerAddCondition(t,Condition(function DYG))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveReal(L7,(GetHandleId(PU7)),(715),((5.9+(TimerGetElapsed(W)))*1.))
set t=null
endfunction
function DAG takes nothing returns nothing
if EM9(GetEnumUnit())==false then
call DZG(GetEnumUnit())
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093808696,false)
call HY8(AJ4,GetEnumUnit(),ZH4,25+50*AK4)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl",GetEnumUnit(),"chest"))
endfunction
function DBG takes nothing returns nothing
local group g=LD7()
local unit FJ8=GetTriggerUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093808694)
set EZ7="DBG"
set IN4=FJ8
set AK4=HW8
set AJ4=FJ8
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),425,Condition(function G78))
call ForGroup(g,function DAG)
call L97(g)
set g=null
set FJ8=null
endfunction
function DCG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="DCG"
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call SetUnitTimeScale(FJ8,1)
set t=null
set FJ8=null
return false
endfunction
function D3G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
set EZ7="D3G"
call TriggerRegisterTimerEvent(t,0.3,false)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerAddCondition(t,Condition(function DCG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SetUnitTimeScale(FJ8,2)
set t=null
set FJ8=null
endfunction
function D6G takes nothing returns boolean
if GetSpellAbilityId()==1093808694 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call DBG()
else
call D3G()
endif
endif
return false
endfunction
function QA8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="QA8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function D6G))
set t=null
endfunction
function DLG takes nothing returns nothing
local integer PP7=GetHandleId(GetTriggeringTrigger())
local unit FJ8=IN4
local unit PU7=IP4
local integer HW8=U97(PP7,"Level")
local real CV9=HW8*50
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
set EZ7="DLG"
call L67(HV8,1093687628)
call SetUnitAbilityLevel(HV8,1093687628,HW8)
call IssueTargetOrder(HV8,"slow",PU7)
if IsUnitType(PU7,UNIT_TYPE_HERO)==true then
set CV9=CV9/2
endif
call HY8(FJ8,PU7,ZI4,CV9)
set FJ8=null
set PU7=null
set HV8=null
endfunction
function D1G takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t=E68(LI7,PU7,1747988784,"DLG",1200)
local integer D0G=GetHandleId(t)
set EZ7="D1G"
call TF7(D0G,"Level",GetUnitAbilityLevel(LI7,1093687629))
set LI7=null
set PU7=null
set t=null
endfunction
function D5G takes nothing returns boolean
if GetSpellAbilityId()==1093687629 and L87(GetSpellTargetUnit())==false then
call D1G()
endif
return false
endfunction
function Q78 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="Q78"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D5G))
set t=null
endfunction
function D2G takes nothing returns nothing
local location l=GetSpellTargetLoc()
set EZ7="D2G"
call EF8("Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl",GetLocationX(l),GetLocationY(l),2)
call TerrainDeformationRippleBJ(0.3,false,l,0,300,100,0.4,20)
call RemoveLocation(l)
set l=null
endfunction
function D_G takes nothing returns boolean
if GetSpellAbilityId()==1093678679 then
call D2G()
endif
return false
endfunction
function PP8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PP8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D_G))
endfunction
function E4G takes itemtype E7G,integer E8G returns nothing
local group g
set EZ7="Z5v"
set bj_stockPickedItemType=E7G
set bj_stockPickedItemLevel=E8G
set g=CreateGroup()
call GroupEnumUnitsOfType(g,"marketplace",bH)
call ForGroup(g,function UpdateEachStockBuildingEnum)
call DestroyGroup(g)
set g=null
endfunction
function E9G takes nothing returns nothing
local integer pickedItemId
local itemtype EDG
local integer EEG=0
local integer EFG=0
local integer E8G
set EZ7="E9G"
set E8G=1
loop
if(bj_stockAllowedPermanent[E8G])then
set EFG=EFG+1
if(GetRandomInt(1,EFG)==1)then
set EDG=ITEM_TYPE_PERMANENT
set EEG=E8G
endif
endif
if(bj_stockAllowedCharged[E8G])then
set EFG=EFG+1
if(GetRandomInt(1,EFG)==1)then
set EDG=ITEM_TYPE_CHARGED
set EEG=E8G
endif
endif
if(bj_stockAllowedArtifact[E8G])then
set EFG=EFG+1
if(GetRandomInt(1,EFG)==1)then
set EDG=ITEM_TYPE_ARTIFACT
set EEG=E8G
endif
endif
set E8G=E8G+1
exitwhen E8G>10
endloop
if(EFG==0)then
set EDG=null
return
endif
call E4G(EDG,EEG)
set EDG=null
endfunction
function EGG takes nothing returns nothing
call E9G()
call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INTERVAL,true,function E9G)
endfunction
function EHG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local integer RR7=U97(PP7,"itemId")
local real x=UD7(PP7,"x")
local real y=UD7(PP7,"y")
local player p=TL7(PP7,"p")
local boolean EIG=UE7(PP7,"consumable")
local integer CP8=U97(PP7,"charges")
local item EJG=CreateItem(RR7,x,y)
set EZ7="EHG"
call SetItemPlayer(EJG,p,true)
call SetItemUserData(EJG,0)
if EIG then
call SetItemCharges(EJG,CP8)
endif
call T97(PP7)
call UQ7(t)
set eY[512+GetPlayerId(p)]=3
set K07[288+GetPlayerId(p)]=EJG
set t=null
set p=null
return false
endfunction
function EKG takes integer RR7,real x,real y,player p,boolean EIG,integer CP8 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TF7(PP7,"itemId",RR7)
call TG7(PP7,"x",x*1.0)
call TG7(PP7,"y",y*1.0)
call TQ7(PP7,"p",p)
call TI7(PP7,"consumable",EIG)
call TF7(PP7,"charges",CP8)
call TriggerAddCondition(t,Condition(function EHG))
call TriggerRegisterTimerEvent(t,0,false)
set eY[512+GetPlayerId(p)]=2
set t=null
endfunction
function EMG takes player p,unit P67,integer EL9,item ENG returns item
local integer PQ7
local item A9F
set PQ7=0
loop
exitwhen PQ7>5
set A9F=UnitItemInSlot(P67,PQ7)
if A9F!=null and A9F!=ENG and RO7(A9F)==EL9 and(GetItemPlayer(A9F)==p or EL9==VC or EL9==WC)then
set A9F=null
return UnitItemInSlot(P67,PQ7)
endif
set PQ7=PQ7+1
endloop
set A9F=null
return null
endfunction
function EOG takes player p,unit P67,integer EL9 returns item
local integer PQ7
local item A9F
set PQ7=0
loop
exitwhen PQ7>5
set A9F=UnitItemInSlot(P67,PQ7)
if(A9F!=null)and(RO7(A9F)==EL9)and(GetItemPlayer(A9F)==p or EL9==VC or EL9==WC)then
set A9F=null
return UnitItemInSlot(P67,PQ7)
endif
set PQ7=PQ7+1
endloop
set A9F=null
return null
endfunction
function EPG takes item Z4 returns integer
local integer n5
local integer i=1
set EZ7="ItemMute2Real"
if Z4==null then
return-2
endif
set n5=GetItemTypeId(Z4)
loop
exitwhen i>EV
if BU[i]==n5 then
return ZU[i]
endif
set i=i+1
endloop
return-1
endfunction
function EQG takes item Z4 returns boolean
return GetItemType(Z4)==ITEM_TYPE_POWERUP or GetItemType(Z4)==ITEM_TYPE_PURCHASABLE or GetItemType(Z4)==ITEM_TYPE_MISCELLANEOUS
endfunction
function ERG takes nothing returns nothing
local item J08=GetEnumItem()
if GetWidgetLife(J08)>0 and GetItemPlayer(J08)==G_4 and TJ4==0 and IsItemVisible(J08)==true then
set TJ4=TJ4+1
call UnitAddItem(H44,J08)
endif
set J08=null
endfunction
function ESG takes nothing returns nothing
local item J08=GetEnumItem()
if GetWidgetLife(J08)>0 and GetItemPlayer(J08)==G_4 and IsItemVisible(J08)==true then
call UnitAddItem(zh,J08)
endif
set J08=null
endfunction
function ETG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit ME9=T37(US7,"Courier")
local player p=TL7(US7,"p")
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
local rect r=Rect(x-300,y-300,x+300,y+300)
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call T97(US7)
call UQ7(t)
set G_4=p
set H44=p5
set zh=ME9
call EnumItemsInRect(r,Condition(function A47),function ESG)
else
if GetTriggerEvalCount(t)>9 then
call T97(US7)
call UQ7(t)
set G_4=p
set H44=p5
set zh=ME9
call EnumItemsInRect(r,Condition(function A47),function ESG)
else
set G_4=p
set H44=p5
set TJ4=0
call EnumItemsInRect(r,Condition(function A47),function ERG)
endif
endif
call RemoveRect(r)
set t=null
set p5=null
set ME9=null
set r=null
return false
endfunction
function EUG takes unit ME9,unit p5 returns nothing
local player p=GetOwningPlayer(p5)
local integer i
local item J08
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local real x=GetUnitX(ME9)
local real y=GetUnitY(ME9)
local integer EL9
set EZ7="DeliverItems_DropOff"
if IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)then
set x=GetUnitX(p5)
set y=GetUnitY(p5)
endif
call TriggerRegisterDeathEvent(t,p5)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function ETG))
call TJ7(US7,"Source",p5)
call TJ7(US7,"Courier",ME9)
call TQ7(US7,"p",p)
call TG7(US7,"x",x*1.0)
call TG7(US7,"y",y*1.0)
set i=0
loop
exitwhen i>5
set J08=UnitItemInSlot(ME9,i)
set EL9=RO7(J08)
if J08!=null and GetItemPlayer(J08)==p and N29(J08)==false and(EL9!=JA and EL9!=NA and EL9!=QA and EL9!=WA and EL9!=YA)then
call UnitRemoveItem(ME9,J08)
call SetItemPosition(J08,x,y)
endif
set i=i+1
endloop
set t=null
set J08=null
endfunction
function EVG takes trigger t returns nothing
local integer PP7=GetHandleId(t)
local unit D69=T37(PP7,"Courier")
local unit LI7=T37(PP7,"Source")
local real x
local real y
local real EWG
local real EXG
local real EYG
local real EZG
local real EAG
local real FEE
local real EBG
local real ECG=GetUnitX(LI7)
local real E3G=GetUnitY(LI7)
set EZ7="MonitorHeroSpeedVector"
if(RT7(LI7)==false)then
set x=GetUnitX(LI7)
set y=GetUnitY(LI7)
set EZG=UD7(PP7,"DeliveryTargetX")
set EAG=UD7(PP7,"DeliveryTargetY")
call TG7(PP7,"DeliveryTargetX",x*1.0)
call TG7(PP7,"DeliveryTargetY",y*1.0)
set EYG=Atan2(y-EAG,x-EZG)
set EWG=SquareRoot((x-EZG)*(x-EZG)+(y-EAG)*(y-EAG))/0.2
set EXG=GetUnitMoveSpeed(D69)
set FEE=Q07(GetUnitX(LI7),GetUnitY(LI7),GetUnitX(D69),GetUnitY(D69))
set EBG=RAbsBJ(EYG*bj_RADTODEG-GetUnitFacing(D69))
if(FEE<EXG-EWG and EXG>EWG)or(FEE<RMaxBJ(EXG,EWG)and EBG>=90)then
else
set ECG=x+EWG*Cos(EYG)
set E3G=y+EWG*Sin(EYG)
endif
endif
call TF7(PP7,"OnDelivery",(1))
call IssuePointOrder(D69,"move",ECG,E3G)
set D69=null
set LI7=null
set t=null
endfunction
function E6G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit ME9=T37(PP7,"Courier")
local unit FJ8=T37(PP7,"Source")
local real x
local real y
local integer i
local player p=GetOwningPlayer(FJ8)
local item J08
local integer O5=GetPlayerId(p)
set EZ7="E6G"
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
if GetTriggerUnit()==FJ8 then
call MG9(ME9)
endif
call T97(PP7)
call UQ7(t)
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER then
if(U97(PP7,"OnDelivery"))==1 then
call TF7(PP7,"OnDelivery",0)
elseif GetIssuedOrderId()!=852100 and GetIssuedOrderId()!=852090 and(not QY4[O5])then
call UQ7(t)
endif
elseif(QY4[O5]and IG4[O5])then
call MG9(ME9)
else
if Q17(ME9,FJ8)<150 then
call T97(PP7)
call UQ7(t)
if QY4[O5]and U97(GetHandleId(ME9),"aiCrow|CurrentOwner")==O5 then
set K57[432+O5]=2
call HBF(O5,M7[O5],false)
set K57[432+O5]=0
else
call EUG(ME9,FJ8)
endif
call MG9(ME9)
else
if QY4[O5]then
set IN4=ME9
set i=SE7(1000.,IN4,Condition(function HJ8))
if(i==0)then
call EVG(t)
else
call IssuePointOrderByIdLoc(ME9,851986,SX7(KU4[O5]))
if Q17(ME9,M7[O5])<800 and is(M7[O5])and h4[O5]==null then
call IssuePointOrderByIdLoc(M7[O5],851986,SX7(KU4[O5]))
endif
endif
else
call EVG(t)
endif
if(Bz>hq[880+O5])and AK7(p)and(Q17(ME9,FJ8)<1800)then
call IssueImmediateOrderById(ME9,852100)
set hq[880+O5]=Bz+5
endif
endif
endif
set t=null
set ME9=null
set FJ8=null
set J08=null
return false
endfunction
function ELG takes unit LI7,boolean E1G returns nothing
local trigger t=null
local integer PP7=0
local unit D69=GetSellingUnit()
local integer E0G=U97(GetHandleId(D69),"DeliveryIndex")
local integer O5=GetPlayerId(GetOwningPlayer(LI7))
set EZ7="DeliverItems"
if LI7!=null then
if QY4[O5]and(U97(GetHandleId(D69),"aiCrow|CurrentOwner")==O5)then
set t=T07(GetHandleId(D69),"aiCrow|DeliverTrigger")
if(t!=null and IsTriggerEnabled(t))then
set t=null
set D69=null
return
endif
endif
set t=CreateTrigger()
set PP7=GetHandleId(t)
if LI7!=T37(GetHandleId(D69),"DeliveryTarget"+I2S(E0G))and E1G then
set E0G=E0G+1
call TF7(GetHandleId(D69),"DeliveryIndex",E0G)
call TJ7(GetHandleId(D69),"DeliveryTarget"+I2S(E0G),(LI7))
endif
call TG7(PP7,"DeliveryTargetX",(GetUnitX(LI7)*1.0))
call TG7(PP7,"DeliveryTargetY",(GetUnitY(LI7)*1.0))
call IssueTargetOrder(D69,"move",LI7)
call TriggerRegisterDeathEvent(t,D69)
call TriggerRegisterDeathEvent(t,LI7)
call TriggerRegisterUnitEvent(t,D69,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,D69,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,D69,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function E6G))
call TJ7(PP7,"Source",LI7)
call TJ7(PP7,"Courier",D69)
call TM7(GetHandleId(D69),"aiCrow|DeliverTrigger",t)
endif
set t=null
set D69=null
endfunction
function E5G takes nothing returns nothing
local item J08=GetEnumItem()
local unit u=OI4
local player p=GetOwningPlayer(u)
local integer id=GetPlayerId(p)
if GetWidgetLife(J08)>0 and GetItemPlayer(J08)==p and IsItemVisible(J08)==true then
call SetItemPosition(J08,KV4[id],KW4[id])
call UnitAddItem(OJ4,J08)
endif
set J08=null
set u=null
set p=null
endfunction
function E2G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit u=(LoadUnitHandle(L7,(PP7),(53)))
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="E2G"
set OI4=u
set OJ4=FJ8
if AG7(GetOwningPlayer(u))then
call EnumItemsInRect(OD,Condition(function A47),function E5G)
else
call EnumItemsInRect(PD,Condition(function A47),function E5G)
endif
if GetTriggerEvalCount(t)==3 then
call KillUnit(u)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set u=null
set FJ8=null
return false
endfunction
function E_G takes unit O7D returns nothing
local unit u=GetSoldUnit()
local integer i=0
local item J08
local integer id=GetPlayerId(GetOwningPlayer(u))
local region r=CreateRegion()
local trigger t
local integer PP7
local unit FJ8=GetSellingUnit()
set EZ7="CollectItems"
if AG7(GetOwningPlayer(u))then
call RegionAddRect(r,OD)
else
call RegionAddRect(r,PD)
endif
if IsUnitInRegion(r,FJ8)then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function E2G))
call SaveUnitHandle(L7,(PP7),(53),(u))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
loop
exitwhen i>5
set J08=UnitItemInSlot(FJ8,i)
if CX7(RO7(J08))==false and RO7(J08)!=X0 and N29(J08)==false then
call UnitRemoveItemFromSlot(FJ8,i)
if IsUnitInRegion(r,FJ8)and IsPlayerAlly(GetItemPlayer(J08),GetOwningPlayer(FJ8))==true then
set id=GetPlayerId(GetItemPlayer(J08))
call SetItemPosition(J08,KV4[id],KW4[id])
endif
endif
set i=i+1
endloop
endif
call RemoveRegion(r)
set u=null
set J08=null
set t=null
set r=null
set FJ8=null
endfunction
function F4G takes nothing returns nothing
if GetUnitTypeId(GetSoldUnit())==1747990581 then
if M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null and L17(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])==false then
call ELG(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],true)
endif
call KillUnit(GetSoldUnit())
elseif GetUnitTypeId(GetSoldUnit())==1747993174 then
if M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null then
call E_G(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])
endif
call KillUnit(GetSoldUnit())
elseif GetUnitTypeId(GetSoldUnit())==1747993669 then
if M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null then
call ELG(T37(GetHandleId(GetSellingUnit()),("DeliveryTarget"+I2S(U97(GetHandleId(GetSellingUnit()),"DeliveryIndex")-1))),false)
endif
call KillUnit(GetSoldUnit())
elseif IF8(GetUnitTypeId(GetSoldUnit()))then
if M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null then
if L17(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])==true and GetOwningPlayer(GetSoldUnit())==GetOwningPlayer(GetSellingUnit())and(UJ7(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],"JustUseAegis")==false)then
call CK8(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])
set GH7=true
call ReviveHero(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),true)
set GH7=false
call SetUnitState(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],UNIT_STATE_MANA,10000)
set VG4[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]=IMaxBJ(0,VG4[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]-X9[IH8(GetHeroLevel(M7[GetPlayerId(GetOwningPlayer(GetSellingUnit()))]))])
call IU8(GetOwningPlayer(GetSoldUnit()))
else
call SetPlayerState(GetOwningPlayer(GetSoldUnit()),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetOwningPlayer(GetSoldUnit()),PLAYER_STATE_RESOURCE_GOLD)+X9[IH8(GetHeroLevel(M7[GetPlayerId(GetOwningPlayer(GetSellingUnit()))]))])
endif
endif
call KillUnit(GetSoldUnit())
endif
endfunction
function F7G takes player p4,unit S4,integer F2F,integer F_F,integer KWD,integer KXD,integer KYD,integer G4F,integer G7F returns nothing
local item XO8
set EZ7="CombineItems"
call DisableTrigger(SV4)
if F_F>0 then
set XO8=UnitItemInSlot(S4,0)
call RN7(XO8)
endif
if KWD>0 then
set XO8=UnitItemInSlot(S4,1)
call RN7(XO8)
endif
if KXD>0 then
set XO8=UnitItemInSlot(S4,2)
call RN7(XO8)
endif
if KYD>0 then
set XO8=UnitItemInSlot(S4,3)
call RN7(XO8)
endif
if G4F>0 then
set XO8=UnitItemInSlot(S4,4)
call RN7(XO8)
endif
if G7F>0 then
set XO8=UnitItemInSlot(S4,5)
call RN7(XO8)
endif
set M77=F2F
set M47=p4
set XO8=UnitAddItemById(S4,ZU[F2F])
call SetItemPlayer(XO8,p4,true)
call SetItemUserData(XO8,0)
if IsPlayerInForce(p4,QX4)and(S4==T37(GetHandleId(p4),"aiBearDummy"))then
set MP7=T37(GetHandleId(p4),"MyBear")
if MP7!=null and GetUnitState(MP7,UNIT_STATE_LIFE)>0 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",MP7,"origin"))
endif
else
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",S4,"origin"))
endif
if RO7(XO8)==DI4 then
call SetItemCharges(XO8,6)
endif
call EnableTrigger(SV4)
if IsPlayerAlly(GetLocalPlayer(),p4)==true then
if F2F==T1 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(p4)]+(KZ4[GetPlayerId((p4))])+"|r |c00ffff00"+GetObjectName(1848659032)+"|r")
elseif F2F==B5 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(p4)]+(KZ4[GetPlayerId((p4))])+"|r |c00ffff00"+GetObjectName(1848659033)+"|r")
endif
endif
set K07[288+GetPlayerId(p4)]=XO8
set XO8=null
endfunction
function F8G takes player p,unit S4,integer EY9 returns boolean
local integer i
local integer x
local integer y
local integer array GDF
local boolean array GEF
local integer array GFF
local boolean array GGF
local boolean array GHF
local integer array GIF
local player GJF
local integer F9G=1
local integer k
local player array GKF
local integer m
local item GMF
local item GNF
local item GOF
local item GPF
local item GQF
local item GRF
local player GSF
local player GTF
local player GUF
local player GVF
local player GWF
local player GXF
local integer GYF
local integer GZF
local integer GAF
local integer GBF
local integer GCF
local integer G3F
local integer G6F
local integer GLF
local integer G1F
local integer G0F
local integer G5F
local integer G2F
local boolean FDG=false
local boolean G_F=true
set EZ7=EZ7+"(CheckRecipes)"
set GMF=UnitItemInSlot(S4,0)
set GNF=UnitItemInSlot(S4,1)
set GOF=UnitItemInSlot(S4,2)
set GPF=UnitItemInSlot(S4,3)
set GQF=UnitItemInSlot(S4,4)
set GRF=UnitItemInSlot(S4,5)
set GSF=GetItemPlayer(GMF)
set GTF=GetItemPlayer(GNF)
set GUF=GetItemPlayer(GOF)
set GVF=GetItemPlayer(GPF)
set GWF=GetItemPlayer(GQF)
set GXF=GetItemPlayer(GRF)
set GYF=GetItemUserData(GMF)
set GZF=GetItemUserData(GNF)
set GAF=GetItemUserData(GOF)
set GBF=GetItemUserData(GPF)
set GCF=GetItemUserData(GQF)
set G3F=GetItemUserData(GRF)
set G6F=RO7(GMF)
set GLF=RO7(GNF)
set G1F=RO7(GOF)
set G0F=RO7(GPF)
set G5F=RO7(GQF)
set G2F=RO7(GRF)
if(GetPlayerSlotState((p))==PLAYER_SLOT_STATE_LEFT)then
set F9G=5
set FDG=true
endif
set GKF[1]=p
if FDG then
set k=2
set m=1
loop
exitwhen k>F9G
if AG7(p)then
if p!=Z7[m]then
set GKF[k]=Z7[m]
set k=k+1
endif
else
if p!=A7[m]then
set GKF[k]=A7[m]
set k=k+1
endif
endif
set m=m+1
endloop
endif
set k=1
loop
exitwhen k>F9G
set GJF=GKF[k]
set i=0
if GMF!=null and GYF==1 and(GSF==GJF or PK4 or(GetPlayerSlotState((GSF))==PLAYER_SLOT_STATE_LEFT)==true)then
set GDF[i+1]=G6F
else
set GDF[i+1]=0
endif
set i=1
if GNF!=null and GZF==1 and(GTF==GJF or PK4 or(GetPlayerSlotState((GTF))==PLAYER_SLOT_STATE_LEFT)==true)then
set GDF[i+1]=GLF
else
set GDF[i+1]=0
endif
set i=2
if GOF!=null and GAF==1 and(GUF==GJF or PK4 or(GetPlayerSlotState((GUF))==PLAYER_SLOT_STATE_LEFT)==true)then
set GDF[i+1]=G1F
else
set GDF[i+1]=0
endif
set i=3
if GPF!=null and GBF==1 and(GVF==GJF or PK4 or(GetPlayerSlotState((GVF))==PLAYER_SLOT_STATE_LEFT)==true)then
set GDF[i+1]=G0F
else
set GDF[i+1]=0
endif
set i=4
if GQF!=null and GCF==1 and(GWF==GJF or PK4 or(GetPlayerSlotState((GWF))==PLAYER_SLOT_STATE_LEFT)==true)then
set GDF[i+1]=G5F
else
set GDF[i+1]=0
endif
set i=5
if GRF!=null and G3F==1 and(GXF==GJF or PK4 or(GetPlayerSlotState((GXF))==PLAYER_SLOT_STATE_LEFT)==true)then
set GDF[i+1]=G2F
else
set GDF[i+1]=0
endif
set GDF[0]=EY9
set i=1
loop
exitwhen i>(FQ4)
set GFF[0]=FJ4[i]
set GFF[1]=FK4[i]
set GFF[2]=FM4[i]
set GFF[3]=FN4[i]
set GFF[4]=FO4[i]
if G_F then
set GGF[0]=true
set GGF[1]=true
set GGF[2]=true
set GGF[3]=true
set GGF[4]=true
set GGF[5]=true
set GGF[6]=true
set GEF[0]=true
set GEF[1]=true
set GEF[2]=true
set GEF[3]=true
set GEF[4]=true
set GEF[5]=true
set GEF[6]=true
set GIF[0]=0
set GIF[1]=0
set GIF[2]=0
set GIF[3]=0
set GIF[4]=0
set GIF[5]=0
set GIF[6]=0
set G_F=false
endif
set GHF[0]=false
set GHF[1]=false
set GHF[2]=false
set GHF[3]=false
set GHF[4]=false
set x=0
loop
exitwhen x==5
if GFF[x]==0 then
set GHF[x]=true
else
set y=0
loop
exitwhen y==7
if GDF[y]==GFF[x]and GEF[y]and GGF[x]then
set GEF[y]=false
set GGF[x]=false
set GHF[x]=true
set GIF[y]=1
set y=7
set G_F=true
else
set y=y+1
endif
endloop
endif
if GHF[x]==true then
set x=x+1
else
set x=5
endif
endloop
if GHF[0]and GHF[1]and GHF[2]and GHF[3]and GHF[4]then
call F7G(GJF,S4,FP4[i],GIF[1],GIF[2],GIF[3],GIF[4],GIF[5],GIF[6])
set i=FQ4+2
else
set i=i+1
endif
endloop
set EL=GIF[0]==1
if i==(FQ4+2)then
set GMF=null
set GNF=null
set GOF=null
set GPF=null
set GQF=null
set GRF=null
return true
endif
set k=k+1
endloop
set GMF=null
set GNF=null
set GOF=null
set GPF=null
set GQF=null
set GRF=null
return false
endfunction
function FEG takes player p4,unit S4,integer EY9 returns boolean
local boolean G49
set EZ7=EZ7+"(eve)"
set EL=false
set G49=F8G(p4,S4,EY9)
return G49
endfunction
function FFG takes nothing returns boolean
if IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IN4))==true and GetUnitAbilityLevel(GetFilterUnit(),1097625443)==0 and UnitInventorySize(GetFilterUnit())>1 and GetUnitTypeId(GetFilterUnit())!=1852010352 and GetPlayerAlliance(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(IN4),ALLIANCE_SHARED_CONTROL)and GetOwningPlayer(IN4)!=GetOwningPlayer(GetFilterUnit())and IsUnitIllusion(GetFilterUnit())==false and L17(GetFilterUnit())==false then
if RM7(GetFilterUnit())==true then
set IH4=IH4+1
set IP4=GetFilterUnit()
endif
endif
return false
endfunction
function FGG takes nothing returns boolean
if IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IN4))==true and GetUnitAbilityLevel(GetFilterUnit(),1097625443)==0 and UnitInventorySize(GetFilterUnit())>1 and GetUnitTypeId(GetFilterUnit())!=1852010352 and IsUnitIllusion(GetFilterUnit())==false and L17(GetFilterUnit())==false then
if GetOwningPlayer(IN4)==GetOwningPlayer(GetFilterUnit())then
if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true then
if GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 then
set IP4=GetFilterUnit()
endif
elseif IsUnitType(IP4,UNIT_TYPE_HERO)==false then
set IP4=GetFilterUnit()
endif
endif
endif
return false
endfunction
function FHG takes unit S4,integer FIG returns unit
local group g=LD7()
set EZ7="FindBuyer"
set IN4=S4
set IP4=null
call GroupEnumUnitsInRange(g,GetUnitX(eH),GetUnitY(eH),1300+FIG,Condition(function FGG))
if IP4==null then
set IH4=0
call L97(g)
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(eH),GetUnitY(eH),1100+FIG,Condition(function FFG))
if IH4>1 then
set IP4=null
endif
endif
call L97(g)
set g=null
return IP4
endfunction
function FJG takes player p4,unit S4,unit FKG,integer EY9,real x,real y,integer Y_F,integer FMG returns nothing
local unit FNG
local item YBF=null
set EZ7=EZ7+"(CheckFuse)"
set eH=FKG
if GetUnitPointValue(S4)==200 then
set FNG=FHG(S4,0)
if FNG==null then
set FNG=FHG(S4,300)
endif
else
set FNG=S4
endif
set M77=EY9
set M47=p4
if FNG==null or FEG(p4,FNG,EX9(EY9))==false or EL==false then
if E09(EX9(EY9))then
if EXF(FNG)==0 or FNG==null then
call EKG(SU[EY9],x,y,p4,true,Y_F)
else
set EZ7=EZ7+"[CFa]"
set YBF=UnitAddItemById(FNG,ZU[EY9])
call SetItemCharges(YBF,Y_F)
call SetItemPlayer(YBF,p4,true)
call SetItemUserData(YBF,FMG)
endif
elseif E19(EX9(EY9))then
if FNG==null or(EXF(FNG)==0 and SK7(FNG,ZU[EY9])==null)then
call EKG(SU[EY9],x,y,p4,true,E59(EY9))
else
set EZ7=EZ7+"[CFb]"
set YBF=CreateItem(SU[EY9],x,y)
call SetItemPlayer(YBF,p4,true)
call SetItemUserData(YBF,FMG)
call SetItemCharges(YBF,E59(EY9))
call UnitAddItem(FNG,YBF)
endif
else
if EXF(FNG)==0 or FNG==null then
call EKG(SU[EY9],x,y,p4,false,0)
else
set EZ7=EZ7+"[CFc]"
set YBF=UnitAddItemById(FNG,ZU[EY9])
call SetItemPlayer(YBF,p4,true)
call SetItemUserData(YBF,0)
endif
endif
endif
if YBF!=null then
set K07[288+GetPlayerId(p4)]=YBF
endif
set FNG=null
set YBF=null
endfunction
function FOG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit FPG=T37(US7,"Tower")
set EZ7="FOG"
if GetTriggerEventId()!=EVENT_UNIT_DEATH then
call UnitRemoveAbility(FPG,1093744466)
call UnitRemoveAbility(FPG,1093809222)
endif
call DestroyEffect(T27(US7,"FX"))
call T97(US7)
call UQ7(t)
set t=null
set FPG=null
return false
endfunction
function FQG takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0.5 and IsUnitAlly(GetFilterUnit(),Sh)==true and GetOwningPlayer(GetFilterUnit())!=C7 and GetUnitTypeId(GetFilterUnit())!=1852010352 and GetUnitTypeId(GetFilterUnit())!=1848657482 and GetUnitTypeId(GetFilterUnit())!=1848657481 and GetUnitTypeId(GetFilterUnit())!=1848657462 and GetUnitTypeId(GetFilterUnit())!=1848657480
endfunction
function FRG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit S4=GetEnumUnit()
local string s
set EZ7="FRG"
call UnitAddAbility(S4,1093744466)
call UnitAddAbility(S4,1093809222)
if AG7(Sh)then
set s="effects\\GlyphSent.mdx"
else
set s="effects\\GlyphScourge.mdx"
endif
call TK7(US7,"FX",AddSpecialEffectTarget(s,S4,"origin"))
call TJ7(US7,"Tower",S4)
call TriggerRegisterUnitEvent(t,S4,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,IG7,false)
call TriggerAddCondition(t,Condition(function FOG))
set t=null
set S4=null
endfunction
function FSG takes unit FTG,player p returns nothing
local integer i
if AG7(p)then
set i=1
if FTG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=2
if FTG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=3
if FTG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=4
if FTG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=5
if FTG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
else
set i=7
if FTG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=8
if FTG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=9
if FTG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=10
if FTG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=11
if FTG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
endif
endfunction
function FUG takes nothing returns nothing
local group g
local unit FTG=GetTriggerUnit()
local player p=GetOwningPlayer(FTG)
set EZ7="FUG"
if(AG7(p)and Th==false)or(AG7(p)==false and Uh==false)then
set g=LD7()
set Sh=p
call GroupEnumUnitsInRange(g,0,0,12000,Condition(function FQG))
call ForGroup(g,function FRG)
call L97(g)
if AG7(p)then
set Th=true
call FSG(FTG,p)
set Th=false
call TG7(R44,"AI|Glyph|Sent",Bz+300.)
else
set Uh=true
call FSG(FTG,p)
set Uh=false
call TG7(R44,"AI|Glyph|Scrg",Bz+300.)
endif
endif
set g=null
set FTG=null
set p=null
endfunction
function FVG takes nothing returns nothing
if GetSpellAbilityId()==1093743665 or GetSpellAbilityId()==1093752649 then
call FUG()
endif
endfunction
function FWG takes player p,integer EY9 returns nothing
local integer i=GetPlayerId(p)
set EZ7="ItemStats_Track"
if EY9==OC then
set Zh[i]=Zh[i]+1
elseif EY9==QC then
set Zh[i]=Zh[i]+1
elseif EY9==TC then
set Zh[i]=Zh[i]+3
elseif EY9==VC then
set Zh[i]=Zh[i]+2
set H74[i]=H74[i]+2
elseif EY9==WC then
set Zh[i]=Zh[i]+2
set H74[i]=H74[i]+2
elseif EY9==XC then
set Zh[i]=Zh[i]+1
elseif EY9==YC then
set Zh[i]=Zh[i]+1
elseif EY9==CC then
set Zh[i]=Zh[i]+2
elseif EY9==PC then
set Zh[i]=Zh[i]+2
elseif EY9==LC then
set Zh[i]=Zh[i]+2
endif
endfunction
function FXG takes unit FYG,unit FZG returns boolean
local integer EY9
if GetUnitTypeId(FZG)==1311788365 then
return true
endif
if(FYG==JC4 or FYG==JB4)and IsUnitAlly(FZG,A7[0])then
return false
elseif(FYG==I_4 or FYG==I34)and IsUnitAlly(FZG,Z7[0])then
return false
endif
set EY9=CB7(FZG)
if EY9==VC or EY9==EW or EY9==H3 then
return true
endif
return false
endfunction
function FAG takes unit FKG,unit FBG returns real
if FKG==I34 or FKG==IL4 or FKG==I04 or FKG==I_4 or FKG==J44 or FKG==J74 or FKG==J84 or FKG==J94 or FKG==JD4 or FKG==JE4 then
return KV4[GetPlayerId(GetOwningPlayer(FBG))]
elseif FKG==JB4 or FKG==zs or FKG==Zs or FKG==JC4 or FKG==eS or FKG==oS or FKG==rS or FKG==aS or FKG==nS or FKG==VS then
return KV4[GetPlayerId(GetOwningPlayer(FBG))]
elseif FKG==LS4 or FKG==LV4 then
return-7133.0
elseif FKG==LT4 or FKG==LU4 then
return 7207.0
endif
return GetUnitX(FBG)
endfunction
function FCG takes unit FKG,unit FBG returns real
if FKG==I34 or FKG==IL4 or FKG==I04 or FKG==I_4 or FKG==J44 or FKG==J74 or FKG==J84 or FKG==J94 or FKG==JD4 or FKG==JE4 then
return KW4[GetPlayerId(GetOwningPlayer(FBG))]
elseif FKG==JB4 or FKG==zs or FKG==Zs or FKG==JC4 or FKG==eS or FKG==oS or FKG==rS or FKG==aS or FKG==nS or FKG==VS then
return KW4[GetPlayerId(GetOwningPlayer(FBG))]
elseif FKG==LS4 or FKG==LV4 then
return 4317.0
elseif FKG==LT4 or FKG==LU4 then
return-4243.0
endif
return GetUnitY(FBG)
endfunction
function F3G takes unit FKG,unit FBG returns real
if FKG==I34 or FKG==IL4 or FKG==I04 or FKG==I_4 or FKG==J44 or FKG==J74 or FKG==J84 or FKG==J94 or FKG==JD4 or FKG==JE4 then
return GetRectCenterX(ED)
elseif FKG==JB4 or FKG==zs or FKG==Zs or FKG==JC4 or FKG==eS or FKG==oS or FKG==rS or FKG==aS or FKG==nS or FKG==VS then
return GetRectCenterX(L9)
endif
return GetUnitX(FBG)
endfunction
function F6G takes unit FKG,unit FBG returns real
if FKG==I34 or FKG==IL4 or FKG==I04 or FKG==I_4 or FKG==J44 or FKG==J74 or FKG==J84 or FKG==J94 or FKG==JD4 or FKG==JE4 then
return GetRectCenterY(ED)
elseif FKG==JB4 or FKG==zs or FKG==Zs or FKG==JC4 or FKG==eS or FKG==oS or FKG==rS or FKG==aS or FKG==nS or FKG==VS then
return GetRectCenterY(L9)
endif
return GetUnitY(FBG)
endfunction
function FLG takes nothing returns nothing
local unit u=GetSoldUnit()
local player p=GetOwningPlayer(u)
local integer EY9=CB7(u)
local real x
local real y
set EZ7="FLG"
if FXG(GetSellingUnit(),u)then
call DQ8(p,(GetObjectName((1848652359))))
if IsUnitAlly(u,Z7[0])then
set p=A7[0]
else
set p=Z7[0]
endif
set x=F3G(GetSellingUnit(),u)
set y=F6G(GetSellingUnit(),u)
call EKG(SU[CB7(u)],x,y,p,true,E59(CB7(u)))
else
call FWG(p,EX9(EY9))
if ZU[EY9]==0 then
call DQ8(p,GetObjectName(XO4))
else
set x=FAG(GetSellingUnit(),u)
set y=FCG(GetSellingUnit(),u)
if EY9==CC then
call FJG(p,u,GetSellingUnit(),EX9(EY9),x,y,2,0)
else
call FJG(p,u,GetSellingUnit(),EX9(EY9),x,y,0,0)
endif
endif
endif
call UnitAddAbility(u,1097625443)
call ShowUnit(u,true)
call UnitApplyTimedLife(u,1112820806,2)
set u=null
set p=null
endfunction
function F1G takes nothing returns boolean
if VH4==false then
if GetUnitPointValue(GetSoldUnit())>=200 then
call FLG()
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(GetSoldUnit()))or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
if GetUnitTypeId(GetSoldUnit())==1747989062 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,20,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658005)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747989329 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,20,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658759)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747990326 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658767)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747989059 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658768)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747989060 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658769)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747993153 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658772)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747988807 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848659010)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747993651 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848659024)+"|r")
endif
endif
else
call F4G()
endif
else
endif
return false
endfunction
function F0G takes nothing returns boolean
if GetSpellAbilityId()==1093751369 or GetSpellAbilityId()==1093681733 then
if L17(GetTriggerUnit())==false then
call EWF(GetTriggerUnit())
endif
endif
return false
endfunction
function RestrictedItems_UpdateMeleeRange_All2 takes nothing returns nothing
call EWF(IN4)
endfunction
function F5G takes unit LI7,item J08 returns boolean
local unit u=LI7
local integer z8=GetUnitTypeId(u)
local integer EL9=RO7(J08)
local real x
local real y
local boolean F2G=true
set EZ7="eGe"
set x=GetUnitX(u)
set y=GetUnitY(u)
set M47=GetItemPlayer(J08)
if EL9==XZ then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))
call DP8(GetOwningPlayer(u),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[IA])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if EL9==D1 and GetItemCharges(J08)==0 then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[F1])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if EL9==VB and GetItemCharges(J08)==0 then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[WB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
call DisableTrigger(H94)
if(EL9==H6 or EL9==G6 or EL9==N6)and(SJ7(u,ZU[H6],J08)!=null or SJ7(u,ZU[G6],J08)!=null or SJ7(u,ZU[N6],J08)!=null)then
call DQ8(GetOwningPlayer(u),(GetObjectName((1848652364))))
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=CreateItem(SU[EL9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if(EL9==BA)and(SJ7(u,ZU[BA],J08)!=null or SJ7(u,ZU[GB],J08)!=null)then
call DQ8(GetOwningPlayer(u),(GetObjectName((1848657996))))
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=CreateItem(SU[EL9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set F2G=false
endif
if F2G and(EL9==GB)and(SJ7(u,ZU[BA],J08)!=null or SJ7(u,ZU[GB],J08)!=null)then
call DQ8(GetOwningPlayer(u),(GetObjectName((1848657996))))
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=CreateItem(SU[EL9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set F2G=false
endif
if(EL9==DM4 or EL9==DK4 or EL9==DO4 or EL9==DN4)and(SJ7(u,ZU[DM4],J08)!=null or SJ7(u,ZU[DK4],J08)!=null or SJ7(u,ZU[DO4],J08)!=null or SJ7(u,ZU[DN4],J08)!=null)then
call DQ8(GetOwningPlayer(u),(GetObjectName((1848652355))))
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=CreateItem(SU[EL9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if(EL9==B5 and IsPlayerEnemy(GetItemPlayer(J08),GetOwningPlayer(u)))then
set IR4=GetItemPlayer(J08)
call RN7(J08)
set HA4=UnitAddItemById(u,ZU[C5])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if(EL9==X0)and(RK7(u)or GM8(u))then
if RK7(u)then
call DQ8(GetOwningPlayer(u),(GetObjectName((1848652363))))
endif
set IR4=GetItemPlayer(J08)
set IH4=GetItemCharges(J08)
call RemoveItem(J08)
if EL9==X0 then
set HA4=CreateItem(SU[EL9],GetRectCenterX(ND),GetRectCenterY(ND))
endif
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
if EL9==X0 then
call SetItemCharges(HA4,IH4)
endif
endif
if EL9==RW and(z8==1215723364 or z8==1429221446)then
call DQ8(GetOwningPlayer(u),(GetObjectName((1848652362))))
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=CreateItem(SU[EL9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if F2G and(EL9==BA or EL9==GB)and(z8==1211119187)then
call DQ8(GetOwningPlayer(u),(GetObjectName((1848652362))))
set IR4=GetItemPlayer(J08)
call RemoveItem(J08)
set HA4=CreateItem(SU[EL9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set F2G=false
endif
if(EL9==D0 or EL9==E0 or EL9==J0 or EL9==N0 or EL9==O0 or EL9==R0)and z8==1429221443 then
call DisplayTimedTextToPlayer(GetOwningPlayer(u),0,E9,10,"|c00ff0303"+(GetObjectName((1848652368)))+"|r")
endif
call EnableTrigger(H94)
if F2G then
call EUF(LI7,J08)
endif
set u=null
set J08=null
return false
endfunction
function F_G takes integer EL9 returns boolean
return EL9==O1 or EL9==DN4 or EL9==DO4 or EL9==DQ4 or EL9==J1 or EL9==DK4 or EL9==DM4 or EL9==DP4 or EL9==EW or EL9==HW or EL9==S6 or EL9==V6
endfunction
function G4G takes integer EL9 returns boolean
return EL9==EW or EL9==HW
endfunction
function G7G takes unit C17,item XO8 returns boolean
local item RQ7=XO8
local integer EL9=RP7(RQ7)
local integer G8G=0
local boolean G49=false
local integer G9G=RS7(RQ7)
local boolean GDG=false
if IsUnitType(C17,UNIT_TYPE_HERO)==true then
if EL9==O1 then
set G8G=J1
endif
if EL9==V6 then
set G8G=S6
endif
if EL9==DN4 then
set G8G=DK4
endif
if EL9==DO4 then
set G8G=DM4
endif
if EL9==DQ4 then
set G8G=DP4
endif
if EL9==HW then
set G8G=EW
endif
if G9G==HW then
set G8G=EW
set GDG=true
endif
if G8G!=0 then
set IR4=GetItemPlayer(RQ7)
call RN7(RQ7)
if GDG then
set HA4=UnitAddItemById(C17,BU[G8G])
else
set HA4=UnitAddItemById(C17,ZU[G8G])
endif
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set G49=true
endif
else
if EL9==J1 then
set G8G=O1
endif
if EL9==S6 then
set G8G=V6
endif
if EL9==DK4 then
set G8G=DN4
endif
if EL9==DM4 then
set G8G=DO4
endif
if EL9==DP4 then
set G8G=DQ4
endif
if EL9==EW then
set G8G=HW
endif
if G9G==EW then
set G8G=HW
set GDG=true
endif
if G8G!=0 then
set IR4=GetItemPlayer(RQ7)
call RN7(RQ7)
if GDG then
set HA4=UnitAddItemById(C17,BU[G8G])
else
set HA4=UnitAddItemById(C17,ZU[G8G])
endif
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set G49=true
endif
endif
set RQ7=null
return G49
endfunction
function GEG takes unit C17,item XO8 returns boolean
if F_G(RP7(XO8))or G4G(RS7(XO8))then
return G7G(C17,XO8)
endif
return false
endfunction
function GFG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit FNG=T37(US7,"Unit")
local integer GGG=U97(US7,"EventType")
local integer EY9=U97(US7,"indexId")
local boolean GHG=UE7(US7,"Temporary")
local item XO8
local player p=GetOwningPlayer(FNG)
local player GIG
local integer Y_F
local boolean GJG=false
local item YBF
local integer n5
local integer H7F
local integer newCharges
local item Z4
local integer targetCount
local item GKG
local boolean GMG=false
local integer EP8
call DisableTrigger(SV4)
if GHG then
set GKG=null
set GIG=TL7(US7,"p")
set Y_F=U97(US7,"charges")
else
set XO8=U77(US7,"Item")
set GKG=XO8
set GIG=GetItemPlayer(XO8)
set Y_F=GetItemCharges(XO8)
endif
set M77=EY9
set M47=GIG
set eY[512+GetPlayerId(M47)]=1
if GHG then
set K07[288+GetPlayerId(GIG)]=null
else
set K07[288+GetPlayerId(GIG)]=XO8
endif
if GHG==false and XO8==null then
call FlushChildHashtable(L7,(US7))
call UQ7(t)
call EnableTrigger(SV4)
set t=null
set FNG=null
set p=null
return false
endif
if GGG==1 then
if p!=GIG and GetUnitTypeId(FNG)==1852010352 then
set EZ7=EZ7+"a"
if E19(EX9(EY9))or E09(EX9(EY9))then
set GJG=true
endif
if IsPlayerEnemy(p,GIG)then
call EKG(SU[EY9],KV4[GetPlayerId(p)],KW4[GetPlayerId(p)],GIG,GJG,Y_F)
else
call EKG(SU[EY9],KV4[GetPlayerId(GIG)],KW4[GetPlayerId(GIG)],GIG,GJG,Y_F)
endif
call DQ8(p,(GetObjectName((1848656978))))
if GHG==false then
set GMG=true
call RN7(XO8)
endif
elseif PK4==false and GHG==false and GetItemType(XO8)==ITEM_TYPE_CAMPAIGN and EPG(XO8)!=0 and(p==GIG or(GetPlayerSlotState((GIG))==PLAYER_SLOT_STATE_LEFT))then
set EZ7=EZ7+"b"
if E09(EY9)then
set GJG=true
else
set GJG=false
endif
if(GetPlayerSlotState((GIG))==PLAYER_SLOT_STATE_LEFT)and CX7(EY9)then
else
call RN7(XO8)
set GMG=true
set YBF=UnitAddItemById(FNG,ZU[EY9])
set GKG=YBF
call SetItemPlayer(YBF,GIG,false)
call SetItemUserData(YBF,0)
if GJG then
call SetItemCharges(YBF,Y_F)
endif
endif
elseif PK4==false and GHG==false and GetItemType(XO8)==ITEM_TYPE_PERMANENT and p!=GIG and BU[RO7(XO8)]!=0 and(GetPlayerSlotState((GIG))==PLAYER_SLOT_STATE_LEFT)==false then
set EZ7=EZ7+"c"
if E09(EY9)then
set GJG=true
else
set GJG=false
endif
call RN7(XO8)
set GMG=true
set YBF=UnitAddItemById(FNG,BU[EY9])
set GKG=YBF
call SetItemPlayer(YBF,GIG,false)
call SetItemUserData(YBF,0)
if GJG then
call SetItemCharges(YBF,Y_F)
endif
elseif GHG==false and GetItemType(XO8)==ITEM_TYPE_PERMANENT and E69(XO8)and IsUnitType(FNG,UNIT_TYPE_HERO)==true then
set EZ7=EZ7+"d"
set n5=N09(FNG)
set H7F=N59(FNG)
if H7F!=0 then
call UnitAddAbility(FNG,H7F)
call UnitMakeAbilityPermanent(FNG,true,H7F)
call SetPlayerAbilityAvailable(p,H7F,false)
if GetUnitTypeId(FNG)==1211117653 then
set IN4=FNG
call ExecuteFunc("H8F")
elseif GetUnitTypeId(FNG)==1215130471 then
set IN4=FNG
call ExecuteFunc("MCD")
endif
endif
set EP8=EB9(FNG,4)
if n5==GX4 and HQ4[EP8]!=0 then
call UnitRemoveAbility(FNG,HU4[EP8])
call UnitAddAbility(FNG,HV4[EP8])
call SetPlayerAbilityAvailable(p,HV4[EP8],false)
endif
if EY9!=n5 then
call RN7(XO8)
set YBF=UnitAddItemById(FNG,ZU[n5])
set GKG=YBF
call SetItemPlayer(YBF,GIG,false)
call SetItemUserData(YBF,1)
endif
elseif GHG==false and GetItemType(XO8)==ITEM_TYPE_ARTIFACT then
set EZ7=EZ7+"e"
call DisableTrigger(H94)
set Z4=EMG(GIG,FNG,EY9,XO8)
if Z4==null then
else
call SetItemCharges(Z4,Y_F+GetItemCharges(Z4))
call RN7(XO8)
set GKG=null
endif
call EnableTrigger(H94)
elseif GHG and E19(EX9(EY9))then
set EZ7=EZ7+"f"
call DisableTrigger(H94)
if EXF(FNG)==0 and EOG(GIG,FNG,EY9)==null then
call DQ8(p,(GetObjectName((1848652367))))
call EKG(SU[(EY9)],((UD7(US7,"x"))*1.0),((UD7(US7,"y"))*1.0),(GIG),(true),(Y_F))
else
set Z4=EOG(GIG,FNG,EY9)
if Z4==null then
call DisableTrigger(H94)
set YBF=UnitAddItemById(FNG,ZU[EY9])
set GKG=YBF
call SetItemPlayer(YBF,GIG,false)
call SetItemUserData(YBF,1)
call SetItemCharges(YBF,Y_F)
else
call SetItemCharges(Z4,Y_F+GetItemCharges(Z4))
set K07[288+GetPlayerId(GIG)]=Z4
endif
endif
call EnableTrigger(H94)
elseif GHG==true then
set EZ7=EZ7+"g"
call FJG(GIG,FNG,null,EY9,UD7(US7,"x"),UD7(US7,"y"),Y_F,1)
elseif GHG==false and(GetItemType(XO8)==ITEM_TYPE_PERMANENT or GetItemType(XO8)==ITEM_TYPE_CAMPAIGN)then
set EZ7=EZ7+"h"
call SetItemUserData(XO8,1)
set GMG=FEG(GIG,FNG,0)
endif
if GMG==false and GKG!=null and EQG(GKG)==false then
set GMG=GEG(FNG,GKG)
endif
if GMG==false and GKG!=null and EQG(GKG)==false then
call F5G(FNG,GKG)
endif
else
if GetWidgetLife(XO8)>0 then
set n5=N09(FNG)
set H7F=N59(FNG)
if SK7(FNG,ZU[n5])==null and GetUnitAbilityLevel(FNG,H7F)>0 then
call UnitRemoveAbility(FNG,H7F)
if GetUnitTypeId(FNG)==1215130471 then
set IN4=FNG
call ExecuteFunc("M3D")
endif
endif
set EP8=EB9(FNG,4)
if n5==GX4 and HQ4[EP8]!=0 then
call UnitRemoveAbility(FNG,HV4[EP8])
call UnitAddAbility(FNG,HU4[EP8])
call SetPlayerAbilityAvailable(p,HU4[EP8],false)
endif
if IsItemOwned(XO8)==false then
if GetItemType(XO8)==ITEM_TYPE_ARTIFACT or E09(EY9)then
set GJG=true
endif
call EKG(SU[EY9],GetItemX(XO8),GetItemY(XO8),GIG,GJG,Y_F)
call RN7(XO8)
endif
endif
endif
call T97(US7)
call UQ7(t)
call EnableTrigger(SV4)
if GKG!=null then
set K07[288+GetPlayerId(GIG)]=GKG
endif
set t=null
set XO8=null
set FNG=null
set p=null
set GIG=null
set YBF=null
set Z4=null
set GKG=null
return false
endfunction
function GNG takes nothing returns boolean
local item XO8
local integer GGG
local unit FNG=GetTriggerUnit()
local trigger t
local integer US7
local integer n5
local integer H7F
local integer id
set EZ7=EZ7+"|cffff0000[ManipulateItem]|r"
set id=GetPlayerId(GetOwningPlayer(FNG))
if(IsUnitType(FNG,UNIT_TYPE_HERO)==true or GM8(FNG))and IsUnitIllusion(FNG)==false and GetUnitTypeId(FNG)!=1311788365 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
if GetItemTypeId(GetManipulatedItem())==ZU[UZ]then
set HE4=HE4+1
set RK4[id]=RK4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[RW]then
set HF4=HF4+1
set RM4[id]=RM4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[DI4]then
set HG4=HG4+1
set RN4[id]=RN4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[WL]or GetItemTypeId(GetManipulatedItem())==ZU[U3]then
set HH4=HH4+1
set RO4[id]=RO4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[W5]then
set HD4=HD4+1
set RP4[id]=RP4[id]+1
call UnitAddItemById(FNG,1227901005)
elseif GetItemTypeId(GetManipulatedItem())==ZU[R2]then
set HI4=HI4+1
set RQ4[id]=RQ4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[U1]then
set LW4=LW4+1
set RR4[id]=RR4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[RL]then
set LX4=LX4+1
set RS4[id]=RS4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[R3]then
set HL7=HL7+1
set H07[id]=H07[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[LB]then
set H17=H17+1
set H_7[id]=H_7[id]+1
endif
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM then
if GetItemTypeId(GetManipulatedItem())==ZU[UZ]then
set RK4[id]=RK4[id]-1
set HE4=HE4-1
elseif GetItemTypeId(GetManipulatedItem())==ZU[RW]and GetUnitTypeId(FNG)!=1311788365 then
set RM4[id]=RM4[id]-1
set HF4=HF4-1
elseif GetItemTypeId(GetManipulatedItem())==ZU[LB]then
set H_7[id]=H_7[id]-1
set H17=H17-1
elseif GetItemTypeId(GetManipulatedItem())==ZU[DI4]then
set RN4[id]=RN4[id]-1
set HG4=HG4-1
elseif GetItemTypeId(GetManipulatedItem())==ZU[WL]or GetItemTypeId(GetManipulatedItem())==ZU[U3]then
set HH4=HH4-1
set RO4[id]=RO4[id]-1
if RO4[id]<1 or SJ7(FNG,ZU[WL],GetManipulatedItem())==null or SJ7(FNG,ZU[U3],GetManipulatedItem())==null then
call UnitRemoveAbility(FNG,1093744436)
endif
elseif GetItemTypeId(GetManipulatedItem())==ZU[W5]then
set HD4=IMaxBJ(HD4-1,0)
set RP4[id]=IMaxBJ(RP4[id]-1,0)
call UnitRemoveAbility(FNG,1110458953)
elseif GetItemTypeId(GetManipulatedItem())==ZU[R2]and GetUnitTypeId(FNG)!=1311788365 then
set RQ4[id]=RQ4[id]-1
set HI4=HI4-1
endif
endif
endif
if QY4[id]and(not K_7[304+id])and(GetManipulatedItem()!=K07[336+id])then
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_PAWN_ITEM then
set XO8=GetSoldItem()
call SetItemUserData(XO8,-2)
set n5=N09(FNG)
set H7F=N59(FNG)
if SJ7(FNG,ZU[n5],XO8)==null and GetUnitAbilityLevel(FNG,H7F)>0 then
call UnitRemoveAbility(FNG,H7F)
if GetUnitTypeId(FNG)==1215130471 then
set IN4=FNG
call ExecuteFunc("M3D")
endif
endif
elseif GetItemTypeId(GetManipulatedItem())!=1227894853 and GetItemTypeId(GetManipulatedItem())!=1227895373 then
set XO8=GetManipulatedItem()
if IsUnitIllusion(FNG)or GetItemUserData(XO8)==-2 then
set XO8=null
set FNG=null
set t=null
return false
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
set GGG=1
else
set GGG=2
endif
if(GGG==1 or(GGG==2 and EQG(XO8)==false and GetWidgetLife(XO8)>0))and GetUnitTypeId(FNG)!=1211117642 then
set M77=RO7(XO8)
if(GetItemPlayer(XO8)!=Player(15))then
set M47=GetItemPlayer(XO8)
endif
set K07[288+GetPlayerId(M47)]=null
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function GFG))
call TJ7(US7,"Unit",FNG)
call TF7(US7,"EventType",GGG)
call TF7(US7,"indexId",M77)
if EQG(XO8)then
call TI7(US7,"Temporary",true)
call TQ7(US7,"p",M47)
call TF7(US7,"charges",GetItemCharges(XO8))
call TG7(US7,"x",(GetItemX(XO8))*1.0)
call TG7(US7,"y",(GetItemY(XO8))*1.0)
else
call TI7(US7,"Temporary",false)
call TR7(US7,"Item",XO8)
call SetItemUserData(XO8,0)
endif
else
endif
endif
set K_7[304+id]=false
set XO8=null
set FNG=null
set t=null
return false
endfunction
function GOG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
set EZ7="GOG"
if GetUnitAbilityLevel(C17,1110454611)==0 then
call UnitRemoveAbility(C17,1110454611)
call UnitRemoveAbility(C17,1110455361)
call T97(US7)
call UQ7(t)
elseif GetUnitState(C17,UNIT_STATE_LIFE)==GetUnitState(C17,UNIT_STATE_MAX_LIFE)and GetUnitState(C17,UNIT_STATE_MANA)==GetUnitState(C17,UNIT_STATE_MAX_MANA)then
call UnitRemoveAbility(C17,1110454611)
call UnitRemoveAbility(C17,1110455361)
call T97(US7)
call UQ7(t)
endif
set t=null
set C17=null
return false
endfunction
function GPG takes unit C17,item XO8 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="RuneOfRegeneration_Setup"
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function GOG))
call TJ7(US7,"Hero",C17)
set t=null
endfunction
function GQG takes unit C17,item XO8 returns nothing
local unit u=C17
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local unit HV8=CreateUnit(GetOwningPlayer(u),1697656901,x,y,0)
local unit GRG=CreateUnit(GetOwningPlayer(u),1697656901,x,y,0)
set EZ7="RuneOfIllusion_Action"
call UnitAddAbility(HV8,1093683026)
call UnitAddAbility(GRG,1093683026)
call IssueTargetOrderById(HV8,852274,u)
call IssueTargetOrderById(GRG,852274,u)
set u=null
set HV8=null
set GRG=null
endfunction
function GSG takes unit C17,item XO8 returns nothing
if GetItemTypeId(XO8)==1227894839 or GetItemTypeId(XO8)==1227894838 or GetItemTypeId(XO8)==1227894840 or GetItemTypeId(XO8)==1227894859 or GetItemTypeId(XO8)==1227894858 then
call NM9(C17,GetItemTypeId(XO8),false)
endif
if GetItemTypeId(XO8)==1227894839 then
call GQG(C17,XO8)
elseif GetItemTypeId(XO8)==1227894858 then
if GetUnitAbilityLevel(C17,1110456665)>0 then
call UnitRemoveAbility(C17,1110456665)
call UnitRemoveAbility(C17,1110454609)
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemById(C17,1227894858)
call EnableTrigger(GetTriggeringTrigger())
endif
elseif GetItemTypeId(XO8)==1227894840 then
call GPG(C17,XO8)
endif
endfunction
function GTG takes unit LI7,item J08 returns nothing
local integer LL7
local integer HW8
call UnitRemoveAbility(LI7,1093810003)
call UnitRemoveAbility(LI7,1093810001)
call UnitRemoveAbility(LI7,1093810002)
call UnitRemoveAbility(LI7,1093810004)
if GetUnitAbilityLevel(LI7,1093810246)>0 then
call UnitRemoveAbility(LI7,1093810246)
call UnitAddAbility(LI7,1093810246)
endif
if GetUnitTypeId(LI7)==1164207469 then
set LL7=1093684057
elseif GetUnitTypeId(LI7)==1429221446 then
set LL7=1093678660
elseif GetUnitTypeId(LI7)==1162032951 then
set LL7=1093684557
elseif GetUnitTypeId(LI7)==1332179560 then
set LL7=1093687627
else
set LI7=null
return
endif
set HW8=GetUnitAbilityLevel(LI7,LL7)
if HW8>0 then
call UnitRemoveAbility(LI7,LL7)
call UnitAddAbility(LI7,LL7)
call SetUnitAbilityLevel(LI7,LL7,HW8)
endif
endfunction
function GUG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit u=T37(US7,"Unit")
local integer GVG=U97(US7,"itemslot")
local item XO8=UnitItemInSlot(u,GVG)
set EZ7="GUG"
if XO8!=null and CX7(RO7(XO8))==false and GetWidgetLife(XO8)>0 and N29(XO8)==false then
call SetItemDroppable(XO8,true)
endif
call T97(US7)
call UQ7(t)
set t=null
set XO8=null
return false
endfunction
function GWG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit u=T37(US7,"Unit")
local integer GVG=U97(US7,"itemslot")
local item XO8=UnitItemInSlot(u,GVG)
set EZ7="GWG"
call T97(US7)
call UQ7(t)
if(u!=null and GetUnitTypeId(u)>1 and IsUnitType(u,UNIT_TYPE_DEAD)==false)and(XO8!=null and GetWidgetLife(XO8)>0)then
set t=CreateTrigger()
set US7=GetHandleId(t)
call SetItemDroppable(XO8,false)
call TF7(US7,"itemslot",GVG)
call TJ7(US7,"Unit",u)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(t,Condition(function GUG))
endif
set XO8=null
set u=null
set t=null
return false
endfunction
function GXG takes nothing returns nothing
local integer GVG
local unit u=GetTriggerUnit()
local trigger t
local integer US7
local item XO8
set EZ7="GXG"
if GetIssuedOrderId()==852008 then
set GVG=0
elseif GetIssuedOrderId()==852009 then
set GVG=1
elseif GetIssuedOrderId()==852010 then
set GVG=2
elseif GetIssuedOrderId()==852011 then
set GVG=3
elseif GetIssuedOrderId()==852012 then
set GVG=4
elseif GetIssuedOrderId()==852013 then
set GVG=5
endif
set XO8=UnitItemInSlot(u,GVG)
if XO8!=null and GetWidgetLife(XO8)>0 then
set t=CreateTrigger()
set US7=GetHandleId(t)
call TF7(US7,"itemslot",GVG)
call TJ7(US7,"Unit",u)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function GWG))
endif
set XO8=null
set u=null
set t=null
endfunction
function GYG takes nothing returns boolean
if GetIssuedOrderId()==852008 or GetIssuedOrderId()==852009 or GetIssuedOrderId()==852010 or GetIssuedOrderId()==852011 or GetIssuedOrderId()==852012 or GetIssuedOrderId()==852013 then
call GXG()
endif
return false
endfunction
function GZG takes integer EY9 returns boolean
return EY9!=B5 and EY9!=DI4 and EY9!=EW and EY9!=X0
endfunction
function GAG takes nothing returns nothing
set EZ7=EZ7+"(e2e)"
if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
call SetItemPawnable(GetManipulatedItem(),false)
else
call SetItemPawnable(GetManipulatedItem(),true)
endif
endfunction
function GBG takes nothing returns boolean
set EZ7=EZ7+"(e3e)"
if GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and GZG(RP7(GetManipulatedItem()))and RM7(GetTriggerUnit())then
call GAG()
endif
return false
endfunction
function GCG takes nothing returns boolean
local unit C17=GetTriggerUnit()
local integer BY7=1
if SK7(C17,ZU[EC])!=null then
set BY7=2
endif
if SJ7(C17,ZU[FV],GetManipulatedItem())!=null then
set BY7=3
endif
if SJ7(C17,ZU[DS4],GetManipulatedItem())!=null then
set BY7=4
endif
if SJ7(C17,ZU[G6],GetManipulatedItem())!=null or SJ7(C17,ZU[H6],GetManipulatedItem())!=null or SJ7(C17,ZU[N6],GetManipulatedItem())!=null then
set BY7=5
endif
if SJ7(C17,ZU[F74],GetManipulatedItem())!=null then
set BY7=6
endif
if SJ7(C17,ZU[LB],GetManipulatedItem())!=null then
set BY7=7
endif
if SJ7(C17,ZU[F6],GetManipulatedItem())!=null then
set BY7=8
endif
if SJ7(C17,ZU[Q1],GetManipulatedItem())!=null then
call UnitAddAbility(C17,1093686832)
call SetUnitAbilityLevel(C17,1093686832,BY7)
call UnitMakeAbilityPermanent(C17,true,1093686832)
else
call UnitRemoveAbility(C17,1093686832)
endif
set C17=null
return false
endfunction
function G3G takes nothing returns boolean
local unit C17=GetTriggerUnit()
local integer BY7=1
if SK7(C17,ZU[EC])!=null then
set BY7=2
endif
if SJ7(C17,ZU[FV],GetManipulatedItem())!=null then
set BY7=3
endif
if SK7(C17,ZU[DS4])!=null then
set BY7=4
endif
if SK7(C17,ZU[G6])!=null or SJ7(C17,ZU[H6],GetManipulatedItem())!=null or SJ7(C17,ZU[N6],GetManipulatedItem())!=null then
set BY7=5
endif
if SK7(C17,ZU[F74])!=null then
set BY7=6
endif
if SJ7(C17,ZU[LB],GetManipulatedItem())!=null then
set BY7=7
endif
if SK7(C17,ZU[F6])!=null then
set BY7=8
endif
if SK7(C17,ZU[Q1])!=null then
call UnitAddAbility(C17,1093686832)
call SetUnitAbilityLevel(C17,1093686832,BY7)
call UnitMakeAbilityPermanent(C17,true,1093686832)
endif
set C17=null
return false
endfunction
function G6G takes nothing returns nothing
local unit C17=GetTriggerUnit()
if GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM then
if RP7(GetManipulatedItem())==DM4 then
call UnitRemoveAbility(C17,1093685333)
endif
if RP7(GetManipulatedItem())==T2 then
call UnitRemoveAbility(C17,1093747287)
endif
if RP7(GetManipulatedItem())==DK4 then
call UnitRemoveAbility(C17,1093685333)
call UnitRemoveAbility(C17,1093686339)
call UnitRemoveAbility(C17,1093686603)
endif
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
if RP7(GetManipulatedItem())==DM4 then
call UnitAddAbility(C17,1093685333)
call UnitMakeAbilityPermanent(C17,true,1093685333)
endif
if RP7(GetManipulatedItem())==T2 then
call UnitAddAbility(C17,1093747287)
call UnitMakeAbilityPermanent(C17,true,1093747287)
endif
if RP7(GetManipulatedItem())==DK4 then
call UnitAddAbility(C17,1093685333)
call UnitMakeAbilityPermanent(C17,true,1093685333)
call UnitAddAbility(C17,1093686339)
call UnitMakeAbilityPermanent(C17,true,1093686339)
call UnitAddAbility(C17,1093686603)
call UnitMakeAbilityPermanent(C17,true,1093686603)
endif
endif
set C17=null
endfunction
function GLG takes nothing returns boolean
if GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and(RP7(GetManipulatedItem())==DK4 or RP7(GetManipulatedItem())==DM4 or RP7(GetManipulatedItem())==T2)then
call G6G()
endif
return false
endfunction
function G1G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local item XO8=U77(US7,"Item")
if GetTriggerEventId()==EVENT_UNIT_DROP_ITEM and GetManipulatedItem()==XO8 then
call T97(US7)
call UQ7(t)
elseif GetTriggerEventId()!=EVENT_UNIT_DROP_ITEM then
if((LoadInteger(L7,(GetHandleId((C17))),((4310))))==1)==false then
call SetUnitState(C17,UNIT_STATE_LIFE,D28(GetUnitState(C17,UNIT_STATE_LIFE)-HJ4,1))
endif
endif
set t=null
set C17=null
set XO8=null
return false
endfunction
function G0G takes nothing returns nothing
local unit C17=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_DROP_ITEM)
call TriggerAddCondition(t,Condition(function G1G))
call TJ7(US7,"Hero",C17)
call TR7(US7,"Item",GetManipulatedItem())
call TriggerEvaluate(t)
set t=null
set C17=null
endfunction
function G5G takes nothing returns boolean
if GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and RP7(GetManipulatedItem())==DK4 then
call G0G()
endif
return false
endfunction
function G2G takes unit u returns boolean
local item G_G=CreateItem(1227901771,GetUnitX(u),GetUnitY(u))
local boolean GQ9=UnitAddItem(u,G_G)
set EZ7="AegisCheck"
if GQ9==false then
call RemoveItem(G_G)
endif
return GQ9
endfunction
function H4G takes unit C17,item XO8,integer GT9 returns item
local real x=GP9(C17)
local real y=GR9(C17)
local integer i=0
local boolean array GU9
local item Z4
set EZ7="AddItemWithTrig"
loop
exitwhen i>(UnitInventorySize(C17)-1)
if UnitItemInSlot(C17,i)==null and i!=GT9 then
set Z4=CreateItem(1227895373,x,y)
call UnitAddItem(C17,Z4)
set GU9[i]=true
else
set GU9[i]=false
endif
if i==GT9 then
call UnitAddItem(C17,XO8)
endif
set i=i+1
endloop
set i=0
loop
exitwhen i>5
if GU9[i]==true then
call RemoveItem(UnitItemInSlot(C17,i))
endif
set i=i+1
endloop
set HA4=XO8
set Z4=null
return HA4
endfunction
function H7G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local integer i=0
local item H8G
local integer EY9
local unit HV8
local item H9G
set EZ7="H7G"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call TI7(GetHandleId(C17),"LinkenSphere|CD",false)
call T97(US7)
call UQ7(t)
elseif G2G(C17)==false then
call TriggerRegisterTimerEvent(t,5.5,false)
else
call TI7(GetHandleId(C17),"LinkenSphere|CD",false)
set M47=GetOwningPlayer(C17)
call DisableTrigger(H94)
if RP4[GetPlayerId(GetOwningPlayer(C17))]>0 then
call SetItemVisible(UnitAddItemById(C17,1227901005),false)
endif
loop
exitwhen i>5
set H8G=UnitItemInSlot(C17,i)
set EY9=RP7(H8G)
if EY9==A5 then
set IR4=GetItemPlayer(H8G)
call RemoveItem(H8G)
set HV8=CreateUnit(GetOwningPlayer(C17),1697656901,GetUnitX(C17),GetUnitY(C17),0)
call UnitAddAbility(HV8,1095331446)
set H9G=UnitAddItemById(HV8,ZU[W5])
call UnitUseItem(HV8,H9G)
set HA4=H4G(C17,H9G,i)
call SetItemPlayer(H9G,IR4,false)
call SetItemUserData(H9G,1)
call UnitRemoveAbility(HV8,1095331446)
set HV8=null
set H9G=null
endif
set H8G=null
set i=i+1
endloop
call EnableTrigger(H94)
call T97(US7)
call UQ7(t)
endif
set t=null
set C17=null
return false
endfunction
function HDG takes unit C17 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer i=0
local item H8G
local integer EY9
local unit HV8
local item H9G
set EZ7="LinkensSphereHelp"
call DisableTrigger(H94)
call TI7(GetHandleId(C17),"LinkenSphere|CD",true)
call TriggerRegisterTimerEvent(t,20,false)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function H7G))
call TJ7(US7,"Hero",C17)
loop
exitwhen i>5
set H8G=UnitItemInSlot(C17,i)
set EY9=RP7(H8G)
if EY9==W5 or EY9==A5 then
set IR4=GetItemPlayer(H8G)
set M47=IR4
call RemoveItem(H8G)
set HV8=CreateUnit(GetOwningPlayer(C17),1697656901,GetUnitX(C17),GetUnitY(C17),0)
call UnitAddAbility(HV8,1095331446)
set H9G=UnitAddItemById(HV8,ZU[A5])
call UnitUseItem(HV8,H9G)
set HA4=H4G(C17,H9G,i)
call SetItemPlayer(H9G,IR4,false)
call SetItemUserData(H9G,1)
call UnitRemoveAbility(HV8,1095331446)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl",C17,"origin"))
set HV8=null
set H9G=null
endif
set H8G=null
set i=i+1
endloop
call EnableTrigger(H94)
set t=null
endfunction
function HEG takes nothing returns boolean
local integer i=1
local unit C17
local integer id
set EZ7="HEG"
if D9 then
return false
endif
if HD4>0 then
loop
exitwhen i>5
set id=GetPlayerId(Z7[i])
set C17=M7[id]
if RP4[id]>0 and C17!=null and GetUnitTypeId(C17)>1 and IsUnitType(C17,UNIT_TYPE_DEAD)==false and UE7(GetHandleId(C17),"LinkenSphere|CD")==false and L87(C17)==false and UE7(GetHandleId(C17),"MantaBlocked")==false then
call HDG(C17)
endif
set id=GetPlayerId(A7[i])
set C17=M7[id]
if RP4[id]>0 and C17!=null and GetUnitTypeId(C17)>1 and IsUnitType(C17,UNIT_TYPE_DEAD)==false and UE7(GetHandleId(C17),"LinkenSphere|CD")==false and L87(C17)==false and UE7(GetHandleId(C17),"MantaBlocked")==false then
call HDG(C17)
endif
set i=i+1
endloop
endif
set C17=null
return false
endfunction
function HFG takes unit hn,item x5 returns integer
local integer i=0
set EZ7="GetItemSlot"
loop
exitwhen i>5
if UnitItemInSlot(hn,i)==x5 then
return i
endif
set i=i+1
endloop
return-1
endfunction
function HGG takes nothing returns nothing
local unit S4=GetTriggerUnit()
local item Z4=GetManipulatedItem()
local integer EY9=RP7(Z4)
local integer GT9
set EZ7="HGG"
call DisableTrigger(H94)
if EY9==C3 then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=GS9(S4,ZU[E6],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EY9==E6 then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=GS9(S4,ZU[C3],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if EY9==JC then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=GS9(S4,ZU[NC],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EY9==NC then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=GS9(S4,ZU[JC],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if EY9==E2 then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=GS9(S4,ZU[F2],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EY9==F2 then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=GS9(S4,ZU[E2],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
call EnableTrigger(H94)
set S4=null
set Z4=null
endfunction
function HHG takes nothing returns nothing
local unit HIG=GetTriggerUnit()
local item HJG=GetManipulatedItem()
local integer HKG=RP7(HJG)
local integer GVG
set EZ7="HHG"
call DisableTrigger(H94)
if HKG==H2 then
set GVG=HFG(HIG,HJG)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(HJG)
set HA4=GS9(HIG,ZU[P2],GVG)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif HKG==P2 then
set GVG=HFG(HIG,HJG)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(HJG)
set HA4=GS9(HIG,ZU[H2],GVG)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
call EnableTrigger(H94)
set HIG=null
set HJG=null
endfunction
function HMG takes nothing returns nothing
local unit S4=GetTriggerUnit()
local item Z4=GetManipulatedItem()
local integer EY9=RP7(Z4)
local integer GT9
set EZ7="HMG"
call DisableTrigger(H94)
if GetUnitTypeId(S4)!=1211117642 then
if EY9==G6 then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
call DisableTrigger(H94)
set HA4=GS9(S4,ZU[H6],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EY9==H6 then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
call DisableTrigger(H94)
set HA4=GS9(S4,ZU[N6],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EY9==N6 then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
call DisableTrigger(H94)
set HA4=GS9(S4,ZU[G6],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
endif
call EnableTrigger(H94)
set S4=null
set Z4=null
endfunction
function HNG takes integer n5 returns integer
if n5==1227894838 then
return QA
elseif n5==1227894840 then
return WA
elseif n5==1227894858 then
return JA
elseif n5==1227894859 then
return NA
elseif n5==1227894839 then
return YA
endif
return-1
endfunction
function HOG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit u=T37(US7,"Unit")
local integer GVG=U97(US7,"itemslot")
local item XO8=UnitItemInSlot(u,GVG)
local integer HPG=U97(US7,"itemhandleid")
local item H9G
local integer GT9
set EZ7="HOG"
if XO8!=null and CX7(RO7(XO8))and GetHandleId(XO8)==HPG and L17(u)==false then
set H9G=CreateItem(LoadInteger(L7,GetHandleId(XO8),GetHandleId(u)),GetUnitX(u),GetUnitY(u))
call T97(GetHandleId(XO8))
set GT9=HFG(u,XO8)
set IR4=GetItemPlayer(XO8)
call RN7(XO8)
set HA4=GS9(u,ZU[IA],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call T97(US7)
call UQ7(t)
call UnitAddItem(u,H9G)
endif
set t=null
set u=null
set XO8=null
set H9G=null
return false
endfunction
function HQG takes unit u,item H9G returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer GVG=HFG(u,H9G)
set EZ7="xCe"
call TF7(US7,"itemslot",GVG)
call TF7(US7,"itemhandleid",GetHandleId(H9G))
call TJ7(US7,"Unit",u)
call TriggerRegisterTimerEvent(t,120.,true)
call TriggerAddCondition(t,Condition(function HOG))
set t=null
endfunction
function HRG takes nothing returns nothing
local unit u=GetTriggerUnit()
local item XO8=GetManipulatedItem()
local integer EY9=RO7(XO8)
local unit HSG
local integer HTG
local boolean TargetFrog
local integer GT9
local item H9G
local integer HUG
set EZ7="HRG"
if EY9==AZ then
set GT9=HFG(u,XO8)
set HSG=T37(GetHandleId(u),"BottleTargetUnit")
set HTG=U97(GetHandleId(u),"BottleTargetItemId")
if GetUnitTypeId(HSG)==1852206952 or GetUnitTypeId(HSG)==1852073580 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))
call DP8(GetOwningPlayer(u),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
set IR4=GetItemPlayer(XO8)
call RN7(XO8)
set HA4=GS9(u,ZU[IA],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif K29(HTG)then
set HUG=HNG(HTG)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))
set IR4=GetItemPlayer(XO8)
call RN7(XO8)
call DisableTrigger(H94)
if GetOwningPlayer(u)==IR4 then
set HA4=GS9(u,ZU[HUG],GT9)
else
set HA4=GS9(u,BU[HUG],GT9)
endif
call EnableTrigger(H94)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set H9G=UnitItemInSlot(u,GT9)
call SaveInteger(L7,GetHandleId(H9G),GetHandleId(u),HTG)
call HQG(u,H9G)
endif
elseif EY9==IA then
set GT9=HFG(u,XO8)
set IR4=GetItemPlayer(XO8)
call RN7(XO8)
set HA4=GS9(u,ZU[CZ],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EY9==CZ then
set GT9=HFG(u,XO8)
set IR4=GetItemPlayer(XO8)
call RN7(XO8)
set HA4=GS9(u,ZU[BZ],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EY9==BZ then
set GT9=HFG(u,XO8)
set IR4=GetItemPlayer(XO8)
call RN7(XO8)
set HA4=GS9(u,ZU[AZ],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,0)
elseif CX7(EY9)then
if LoadInteger(L7,GetHandleId(XO8),GetHandleId(u))>0 then
set NH=true
set GT9=HFG(u,XO8)
set H9G=CreateItem(LoadInteger(L7,GetHandleId(XO8),GetHandleId(u)),GetUnitX(u),GetUnitY(u))
call T97(GetHandleId(XO8))
set IR4=GetItemPlayer(XO8)
call RN7(XO8)
set HA4=GS9(u,ZU[IA],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call UnitAddItem(u,H9G)
set NH=false
endif
endif
set u=null
set XO8=null
set HSG=null
set H9G=null
endfunction
function HVG takes nothing returns boolean
local integer GT9
local real HM8
set EZ7="HVG"
call DisableTrigger(H94)
if RP7(GetManipulatedItem())==DM4 then
set HM8=GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)
set GT9=HFG(GetTriggerUnit(),GetManipulatedItem())
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(GetManipulatedItem())
set HA4=GS9(GetTriggerUnit(),ZU[DK4],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,D28(GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-HM8,1))
call UU7(GetTriggerUnit(),"ArmletOfMordiganState",0.04)
call UM7(GetTriggerUnit(),"ArmletOfMordigan|Active")
endif
if RP7(GetManipulatedItem())==DK4 then
set HM8=GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)
set GT9=HFG(GetTriggerUnit(),GetManipulatedItem())
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(GetManipulatedItem())
set HA4=GS9(GetTriggerUnit(),ZU[DM4],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,D28(GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-HM8,1))
call UO7(GetTriggerUnit(),"ArmletOfMordigan|Active")
endif
call EnableTrigger(H94)
return false
endfunction
function HWG takes nothing returns nothing
if GetItemTypeId(GetManipulatedItem())==ZU[Y3]then
call DQ8(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848657713))))
endif
endfunction
function HXG takes nothing returns nothing
local unit S4=GetTriggerUnit()
local item Z4=GetManipulatedItem()
local integer EY9=RP7(Z4)
local integer GT9
set EZ7="HXG"
call DisableTrigger(H94)
if EY9==D0 then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=GS9(S4,ZU[E0],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call NL9(HA4)
elseif EY9==E0 then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=GS9(S4,ZU[J0],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call NL9(HA4)
elseif EY9==J0 then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=GS9(S4,ZU[N0],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call NL9(HA4)
elseif EY9==N0 then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=GS9(S4,ZU[O0],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call NL9(HA4)
elseif EY9==O0 then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=GS9(S4,ZU[R0],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call NL9(HA4)
endif
call EnableTrigger(H94)
set S4=null
set Z4=null
endfunction
function HYG takes nothing returns nothing
local unit S4=GetTriggerUnit()
local item Z4=GetManipulatedItem()
local integer EY9=RP7(Z4)
local integer GT9
set EZ7="HYG"
call DisableTrigger(H94)
if EY9==D1 and GetItemCharges(Z4)==0 then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=GS9(S4,ZU[F1],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EY9==E1 and GetItemCharges(Z4)==0 then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=GS9(S4,ZU[H1],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EY9==VB and GetItemCharges(Z4)==0 then
set GT9=HFG(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=GS9(S4,ZU[WB],GT9)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
call EnableTrigger(H94)
set S4=null
set Z4=null
endfunction
function HZG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
set EZ7="HZG"
if G2G(p5)then
call UnitAddItemById(p5,1227901005)
endif
call T97(US7)
call UQ7(t)
call TI7(GetHandleId(p5),"MantaBlocked",false)
set t=null
set p5=null
return false
endfunction
function HAG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local item Z4=GetManipulatedItem()
local integer EY9=RP7(Z4)
local trigger t
set EZ7="HAG"
if(EY9==Y0 or EY9==B0)and UE7(GetHandleId(p5),"MantaBlocked")==true then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.41,false)
call TriggerAddCondition(t,Condition(function HZG))
call TJ7(GetHandleId(t),"Source",p5)
set t=null
endif
set p5=null
set Z4=null
endfunction
function HBG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=T37(PP7,"Source")
local integer L48=U97(PP7,"Count")
set EZ7="HBG"
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1097163124 then
call TF7(PP7,"Count",16)
endif
elseif L17(FJ8)or GetTriggerEventId()==EVENT_UNIT_DEATH or L48==0 then
call UnitRemoveAbility(FJ8,1093685334)
call UnitRemoveAbility(FJ8,1110456140)
call UO7(FJ8,"ActiveTango")
call T97(PP7)
call UQ7(t)
else
call SetUnitState(FJ8,UNIT_STATE_LIFE,GetUnitState(FJ8,UNIT_STATE_LIFE)+115/ 16)
call TF7(PP7,"Count",L48-1)
endif
return false
endfunction
function HCG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="HCG"
call UM7(p5,"ActiveTango")
call L67(p5,1093685334)
call TJ7(US7,"Source",p5)
call TF7(US7,"Count",16)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HBG))
call TriggerEvaluate(t)
set p5=null
set t=null
endfunction
function H3G takes nothing returns nothing
if GetSpellAbilityId()==1097163124 and UJ7(GetTriggerUnit(),"ActiveTango")==false then
call HCG()
endif
endfunction
function H6G takes integer id,real x,real y returns nothing
if IsPointInRegion(T94,x,y)==false then
set T84=T84+1
set S24[T84]=Player(id)
set S_4[T84]=x
set T44[T84]=y
set T74[T84]=(TimerGetElapsed(W))
endif
endfunction
function HLG takes integer id,real x,real y returns integer
local real II8=(TimerGetElapsed(W))
local integer i=0
local integer BX8=0
set EZ7="TPMemoryGetDuration"
if IsPointInRegion(T94,x,y)==true then
return BX8
endif
loop
exitwhen i>T84
if(II8<T74[i]+e4)and(Q07(x,y,S_4[i],T44[i])<o4*2+50)and IsPlayerAlly(Player(id),S24[i])==true then
set BX8=BX8+1
endif
set i=i+1
endloop
return BX8
endfunction
function H1G takes integer H0G returns integer
if H0G==GetPlayerId(Z7[1])then
return 1747993161
elseif H0G==GetPlayerId(Z7[2])then
return 1747993163
elseif H0G==GetPlayerId(Z7[3])then
return 1747993159
elseif H0G==GetPlayerId(Z7[4])then
return 1747993158
elseif H0G==GetPlayerId(Z7[5])then
return 1747993164
elseif H0G==GetPlayerId(A7[1])then
return 1747993160
elseif H0G==GetPlayerId(A7[2])then
return 1747993162
elseif H0G==GetPlayerId(A7[3])then
return 1747993165
elseif H0G==GetPlayerId(A7[4])then
return 1747992885
elseif H0G==GetPlayerId(A7[5])then
return 1747993166
endif
return 1747993166
endfunction
function H5G takes integer H0G returns integer
return 1747992920
endfunction
function H2G takes integer H0G returns string
if H0G==GetPlayerId(Z7[1])then
return"war3mapImported\\TeleportTarget_Blue.mdx"
elseif H0G==GetPlayerId(Z7[2])then
return"war3mapImported\\TeleportTarget_Teal.mdx"
elseif H0G==GetPlayerId(Z7[3])then
return"war3mapImported\\TeleportTarget_Purple.mdx"
elseif H0G==GetPlayerId(Z7[4])then
return"war3mapImported\\TeleportTarget_Yellow.mdx"
elseif H0G==GetPlayerId(Z7[5])then
return"war3mapImported\\TeleportTarget_Orange.mdx"
elseif H0G==GetPlayerId(A7[1])then
return"war3mapImported\\TeleportTarget_Pink.mdx"
elseif H0G==GetPlayerId(A7[2])then
return"war3mapImported\\TeleportTarget_Gray.mdx"
elseif H0G==GetPlayerId(A7[3])then
return"war3mapImported\\TeleportTarget_LightBlue.mdx"
elseif H0G==GetPlayerId(A7[4])then
return"war3mapImported\\TeleportTarget_DarkGreen.mdx"
elseif H0G==GetPlayerId(A7[5])then
return"war3mapImported\\TeleportTarget_Brown.mdx"
endif
return"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl"
endfunction
function H_G takes integer H0G returns string
return"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl"
endfunction
function I4G takes nothing returns boolean
local real d
set EZ7="I4G"
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(GetFilterUnit(),1098085732)==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IP4))==true and GetUnitTypeId(GetFilterUnit())!=1966092371 and GetUnitTypeId(GetFilterUnit())!=1852010352 and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false then
set d=Q07(IK4,IM4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
if d<IJ4 then
set IJ4=d
set IN4=GetFilterUnit()
endif
endif
return false
endfunction
function I7G takes unit S4,real x,real y returns unit
local group g=LD7()
set EZ7="ScrollOfTPFindBuilding"
set IN4=null
set IP4=S4
set IJ4=99999
set IK4=x
set IM4=y
call GroupEnumUnitsInRange(g,x,y,99999,Condition(function I4G))
call L97(g)
set g=null
return IN4
endfunction
function I8G takes unit u returns boolean
local integer id=GetUnitTypeId(u)
set EZ7="IsTombstone"
return id==1848657480 or id==1848657462 or id==1848657481 or id==1848657482
endfunction
function I9G takes unit u returns boolean
local integer id=GetUnitTypeId(u)
set EZ7="IsSiege"
return id==1966092370 or id==1970107511 or id==1697657398 or id==1700946284
endfunction
function IDG takes nothing returns boolean
local real d
set EZ7="IDG"
if(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 or I9G(GetFilterUnit())or GetUnitTypeId(GetFilterUnit())==1852206952 or GetUnitTypeId(GetFilterUnit())==1852073580 or I8G(GetFilterUnit()))and L17(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),1098085732)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IP4))==true and GetOwningPlayer(GetFilterUnit())!=C7 and IsUnitIllusion(GetFilterUnit())==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false and GetUnitTypeId(GetFilterUnit())!=1848657461 then
set d=Q07(IK4,IM4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
if d<IJ4 then
set IJ4=d
set IN4=GetFilterUnit()
endif
endif
return false
endfunction
function IEG takes unit P67,real x,real y returns unit
local group g=LD7()
set EZ7="BootsOfTravel_FindUnit"
set IN4=null
set IP4=P67
set IJ4=99999
set IK4=x
set IM4=y
call GroupEnumUnitsInRange(g,x,y,99999,Condition(function IDG))
call L97(g)
set g=null
return IN4
endfunction
function IFG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=(LoadUnitHandle(L7,(US7),(14)))
local real x=(LoadReal(L7,(US7),(6)))
local real y=(LoadReal(L7,(US7),(7)))
local unit IGG=(LoadUnitHandle(L7,(US7),(448)))
local unit IHG=(LoadUnitHandle(L7,(US7),(447)))
local ubersplat IIG=(LoadUbersplatHandle(L7,(US7),(131)))
local integer BX8=(LoadInteger(L7,(US7),(34)))
local real FW8=(LoadReal(L7,(US7),(57)))
local real II8=UD7(US7,"OriginalTime")
local integer id=GetPlayerId(GetOwningPlayer(C17))
local boolean IJG=false
local integer i=0
set EZ7="IFG"
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
if GetSpellAbilityId()==1093751349 or GetSpellAbilityId()==1093743415 then
set IJG=true
endif
else
set BX8=BX8+1
call SaveInteger(L7,(US7),(34),(BX8))
if BX8==1 then
if FW8>3 then
call SetUnitAnimationByIndex(IGG,1)
call SetUnitAnimationByIndex(IHG,1)
endif
elseif BX8==2 then
set IJG=true
else
endif
endif
if IJG then
call SaveInteger(L7,(GetHandleId((C17))),((4256)),(2))
call KillUnit(IGG)
call KillUnit(IHG)
call DestroyUbersplat(IIG)
call FlushChildHashtable(L7,(US7))
call UQ7(t)
if BX8==2 then
call DestroyEffect(AddSpecialEffect(H_G(id),GetUnitX(C17),GetUnitY(C17)))
call DestroyEffect(AddSpecialEffect(H2G(id),x,y))
call SetUnitX(C17,x)
call SetUnitY(C17,y)
call PauseUnit(C17,true)
call PauseUnit(C17,false)
call ER8(x,y,240)
set IN4=C17
call ExecuteFunc("IKG")
endif
endif
set hq[832+GetPlayerId(GetOwningPlayer(C17))]=0
set t=null
set C17=null
set IGG=null
set IHG=null
set IIG=null
return false
endfunction
function IMG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit LI7=(LoadUnitHandle(L7,(PP7),(14)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
local unit ING=(LoadUnitHandle(L7,(PP7),(448)))
local unit IOG=(LoadUnitHandle(L7,(PP7),(447)))
local ubersplat T39=(LoadUbersplatHandle(L7,(PP7),(131)))
local integer L48=(LoadInteger(L7,(PP7),(34)))
local real HT8=(LoadReal(L7,(PP7),(57)))
local real CF8=(LoadReal(L7,(PP7),(442)))
local integer id=GetPlayerId(GetOwningPlayer(LI7))
local boolean PG7=false
local integer i=0
local integer CP8
set EZ7="IMG"
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
if GetSpellAbilityId()==1093808945 then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(177))))
call SaveInteger(L7,(GetHandleId((LI7))),((4256)),(2))
call KillUnit(ING)
call KillUnit(IOG)
call DestroyUbersplat(T39)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveType(PU7,UNIT_TYPE_PEON)
set h8[176+id]=null
endif
elseif GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(177))))
call UnitRemoveType(PU7,UNIT_TYPE_PEON)
call SaveInteger(L7,(GetHandleId((LI7))),((4256)),(2))
call KillUnit(ING)
call KillUnit(IOG)
call DestroyUbersplat(T39)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set h8[176+id]=null
else
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(177))))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(LI7),GetUnitY(LI7)))
call SaveInteger(L7,(GetHandleId((LI7))),((4256)),(2))
call KillUnit(ING)
call KillUnit(IOG)
call DestroyUbersplat(T39)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveType(PU7,UNIT_TYPE_PEON)
call SetUnitX(LI7,GetUnitX(PU7)-1)
call SetUnitY(LI7,GetUnitY(PU7)-1)
call PauseUnit(LI7,true)
call PauseUnit(LI7,false)
call ER8(x,y,240)
set IN4=LI7
call ExecuteFunc("IKG")
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(LI7),GetUnitY(LI7)))
set h8[176+id]=null
endif
set t=null
set LI7=null
set ING=null
set IOG=null
set T39=null
set PU7=null
return false
endfunction
function IPG takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local location l
local real x
local real y
local real a
local trigger t
local integer US7
local unit IGG
local unit IHG
local ubersplat IIG
local integer id=GetPlayerId(GetOwningPlayer(C17))
local integer BX8
local real IQG
set EZ7="IPG"
if(XP4 and GetSpellAbilityId()==1093743415)then
set XP4=false
call SetUnitState(C17,UNIT_STATE_MANA,GetUnitState(C17,UNIT_STATE_MANA)+75)
return
endif
set t=CreateTrigger()
set US7=GetHandleId(t)
call SaveInteger(L7,(GetHandleId((C17))),((4256)),(1))
if m5==null then
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
if GetSpellAbilityId()==1093751349 then
if x==TW4[id]and y==TX4[id]then
if AG7(GetOwningPlayer(C17))then
set x=GetUnitX(IZ4)
set y=GetUnitY(IZ4)
else
set x=GetUnitX(JA4)
set y=GetUnitY(JA4)
endif
endif
endif
set m5=I7G(C17,x,y)
call RemoveLocation(l)
else
set x=GetUnitX(m5)
set y=GetUnitY(m5)
endif
if Q07(x,y,GetUnitX(m5),GetUnitY(m5))>o4 then
set a=Atan2(y-GetUnitY(m5),x-GetUnitX(m5))
set x=GetUnitX(m5)+o4*Cos(a)
set y=GetUnitY(m5)+o4*Sin(a)
elseif Q07(x,y,GetUnitX(m5),GetUnitY(m5))<50 then
set a=Atan2(y-GetUnitY(m5),x-GetUnitX(m5))
set x=GetUnitX(m5)+120*Cos(a)
set y=GetUnitY(m5)+120*Sin(a)
endif
if IsPointInRegion(IU4,x,y)==true then
set a=Atan2(y-GetUnitY(m5),x-GetUnitX(m5))
set x=GetUnitX(m5)+200*Cos(a)
set y=GetUnitY(m5)+200*Sin(a)
endif
set x=DT8(x)
set y=DU8(y)
if(IsUnitAlly(C17,GetLocalPlayer())and GetLocalPlayer()!=GetOwningPlayer(C17))or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
call PingMinimapEx(x,y,3,255,255,255,false)
endif
set IHG=CreateUnit(GetOwningPlayer(C17),H1G(id),x,y,0)
set IGG=CreateUnit(GetOwningPlayer(C17),H5G(id),GetUnitX(C17),GetUnitY(C17),0)
set IIG=CreateUbersplat(GetUnitX(C17),GetUnitY(C17),"SCTP",255,255,255,255,false,false)
if IsUnitVisible(C17,GetLocalPlayer())==true then
call SetUbersplatRenderAlways(IIG,true)
else
call SetUbersplatRenderAlways(IIG,false)
endif
set BX8=HLG(GetPlayerId(GetOwningPlayer(C17)),x,y)
if BX8>0 then
set BX8=BX8+1
endif
set IQG=3+BX8
call H6G(GetPlayerId(GetOwningPlayer(C17)),x,y)
if BX8>0 then
call SetUnitAnimationByIndex(IGG,2)
call SetUnitAnimationByIndex(IHG,2)
endif
call TriggerRegisterTimerEvent(t,IQG-3,false)
call TriggerRegisterTimerEvent(t,IQG,false)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function IFG))
call EV8(GetOwningPlayer(C17),IQG,x,y,200)
call SaveUnitHandle(L7,(US7),(447),(IHG))
call SaveUnitHandle(L7,(US7),(448),(IGG))
call SaveReal(L7,(US7),(6),((x)*1.0))
call SaveReal(L7,(US7),(7),((y)*1.0))
call TG7(US7,"OriginalTime",TimerGetElapsed(W))
call SaveReal(L7,(US7),(57),((IQG)*1.0))
call SaveUbersplatHandle(L7,(US7),(131),(IIG))
call SaveUnitHandle(L7,(US7),(14),(C17))
call SaveInteger(L7,(US7),(34),(0))
call FI8(C17,VR4,x,y,2400)
set h8[176+id]=m5
set C17=null
set m5=null
set IGG=null
set IHG=null
set l=null
set t=null
set IIG=null
endfunction
function IRG takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local location l
local real x
local real y
local real a
local trigger t
local integer PP7
local unit ING
local unit IOG
local ubersplat T39
local integer id=GetPlayerId(GetOwningPlayer(LI7))
local integer L48
local real ISG
set EZ7="IRG"
set t=CreateTrigger()
set PP7=GetHandleId(t)
if PU7==null then
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
if x==TW4[id]and y==TX4[id]then
if AG7(GetOwningPlayer(LI7))then
set x=GetUnitX(IZ4)
set y=GetUnitY(IZ4)
else
set x=GetUnitX(JA4)
set y=GetUnitY(JA4)
endif
endif
set PU7=IEG(LI7,x,y)
call RemoveLocation(l)
endif
set x=GetUnitX(PU7)
set y=GetUnitY(PU7)
if(IsUnitAlly(LI7,GetLocalPlayer())and GetLocalPlayer()!=GetOwningPlayer(LI7))or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
call PingMinimapEx(x,y,3,255,255,255,false)
endif
set T39=CreateUbersplat(GetUnitX(LI7),GetUnitY(LI7),"SCTP",255,255,255,255,false,false)
if IsUnitVisible(LI7,GetLocalPlayer())==true then
call SetUbersplatRenderAlways(T39,true)
else
call SetUbersplatRenderAlways(T39,false)
endif
set ISG=3
call UnitAddType(PU7,UNIT_TYPE_PEON)
call TriggerRegisterTimerEvent(t,ISG,false)
call TriggerRegisterUnitEvent(t,LI7,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function IMG))
call EV8(GetOwningPlayer(LI7),ISG,x,y,200)
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
call SaveReal(L7,(PP7),(442),(((TimerGetElapsed(W)))*1.0))
call SaveReal(L7,(PP7),(57),((ISG)*1.0))
call SaveUbersplatHandle(L7,(PP7),(131),(T39))
call SaveUnitHandle(L7,(PP7),(14),(LI7))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveInteger(L7,(PP7),(34),(0))
call SaveEffectHandle(L7,(PP7),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",LI7,"origin")))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",LI7,"origin")))
call SaveEffectHandle(L7,(PP7),(177),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",PU7,"origin")))
call FI8(LI7,VR4,x,y,2400)
set LI7=null
set PU7=null
set ING=null
set IOG=null
set l=null
set t=null
set T39=null
endfunction
function ITG takes nothing returns nothing
if(GetSpellAbilityId()==1093751349 or GetSpellAbilityId()==1093743415)and RM7(GetTriggerUnit())==false then
call IPG()
endif
if GetSpellAbilityId()==1093808945 then
call IRG()
endif
endfunction
function IUG takes nothing returns nothing
if GetSpellAbilityId()==1093743415 and GetSpellTargetItem()!=null then
call IssueImmediateOrder(GetTriggerUnit(),"stop")
if AG7(GetOwningPlayer(GetTriggerUnit()))then
call UnitUseItemTarget(GetTriggerUnit(),SK7(GetTriggerUnit(),YC),IZ4)
set XP4=true
else
call UnitUseItemTarget(GetTriggerUnit(),SK7(GetTriggerUnit(),YC),JA4)
set XP4=true
endif
endif
endfunction
function IVG takes nothing returns nothing
if IF7==(LoadInteger(L7,(GetHandleId(GetEnumUnit())),(784)))then
call KillUnit(GetEnumUnit())
endif
endfunction
function IWG takes nothing returns boolean
local integer i=GetUnitTypeId(GetFilterUnit())
return i==1848651848 or i==1848651847 or i==1848651851 or i==1848651850 or i==1848651841 or i==1848651830
endfunction
function IXG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit IYG
local unit IZG
local integer IAG
local integer IBG
local group g=LD7()
local real a=GetUnitFacing(FJ8)*bj_DEGTORAD
local real x1=GetUnitX(FJ8)+50*Cos(a)
local real y1=GetUnitY(FJ8)+50*Sin(a)
local real x2=GetUnitX(FJ8)+50*Cos(a)
local real y2=GetUnitY(FJ8)+50*Sin(a)
if GetSpellAbilityId()==1093683266 then
set IAG=1848651848
set IBG=1848651850
elseif GetSpellAbilityId()==1093682227 then
set IAG=1848651847
set IBG=1848651841
elseif GetSpellAbilityId()==1093682246 then
set IAG=1848651851
set IBG=1848651830
endif
set IF7=GetUnitTypeId(FJ8)
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(GetTriggerUnit()),Condition(function IWG))
call ForGroup(g,function IVG)
call L97(g)
set IYG=CreateUnit(GetOwningPlayer(FJ8),IAG,x1,y1,GetUnitFacing(FJ8))
call SaveInteger(L7,(GetHandleId(IYG)),(784),(IF7))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",IYG,"origin"))
call UnitApplyTimedLife(IYG,1112820806,35)
set IZG=CreateUnit(GetOwningPlayer(FJ8),IBG,x2,y2,GetUnitFacing(FJ8))
call SaveInteger(L7,(GetHandleId(IZG)),(784),(IF7))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",IZG,"origin"))
call UnitApplyTimedLife(IZG,1112820806,35)
set g=null
set IYG=null
set IZG=null
set FJ8=null
endfunction
function ICG takes nothing returns nothing
if GetSpellAbilityId()==1093683266 or GetSpellAbilityId()==1093682227 or GetSpellAbilityId()==1093682246 then
call IXG()
endif
endfunction
function I3G takes nothing returns nothing
if GetSpellAbilityId()==1093748304 then
call EE8("Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl",GetTriggerUnit(),"origin",3.5)
call FR8(GetTriggerUnit(),1093747534,1,3.5)
endif
endfunction
function I6G takes nothing returns boolean
return(UJ7(GetFilterUnit(),"4323"))
endfunction
function ILG takes nothing returns nothing
local group g
local unit u
if GetSpellAbilityId()==1094935400 then
set g=LD7()
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(GetTriggerUnit()),Condition(function I6G))
set u=FirstOfGroup(g)
call L97(g)
if u!=null then
call KillUnit(u)
endif
call UM7(GetSpellTargetUnit(),"4323")
call UnitAddAbility(GetSpellTargetUnit(),1097167976)
call UnitAddAbility(GetSpellTargetUnit(),1094939243)
call E88(GetSpellTargetUnit())
set g=null
set u=null
endif
endfunction
function I1G takes integer i returns integer
if i==OK4 then
return OS4
endif
if i==OM4 then
return OT4
endif
if i==ON4 then
return OU4
endif
if i==OO4 then
return OV4
endif
if i==OP4 then
return OW4
endif
if i==OQ4 then
return OX4
endif
if i==OR4 then
return OY4
endif
return 0
endfunction
function I0G takes integer i returns integer
if i==OK4 then
return 10
endif
if i==OM4 then
return 9
endif
if i==ON4 then
return 8
endif
if i==OO4 then
return 7
endif
if i==OP4 then
return 6
endif
if i==OQ4 then
return 5
endif
if i==OR4 then
return 4
endif
return 0
endfunction
function I5G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
if L17(C17)==false and C17!=null then
call SetUnitScale(C17,DJ8(C17)*CS,DJ8(C17)*CS,DJ8(C17)*CS)
endif
call T97(US7)
call UQ7(t)
set t=null
set C17=null
return false
endfunction
function I2G takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local unit HV8=CreateUnit(GetOwningPlayer(LI7),1697656901,GetUnitX(LI7),GetUnitY(LI7),0)
local trigger t=CreateTrigger()
local real HT8=I0G(GetSpellAbilityId())
set EZ7="I2G"
call E18(LI7,OZ4,HT8)
call UnitMakeAbilityPermanent(LI7,true,OZ4)
call SetPlayerAbilityAvailable(GetOwningPlayer(LI7),OZ4,false)
call UnitAddAbility(HV8,I1G(GetSpellAbilityId()))
call IssueTargetOrder(HV8,"antimagicshell",LI7)
call EQ9(LI7,0,0)
if RM7(LI7)then
call EL8(LI7,HT8,3)
else
call EL8(LI7,HT8,1.4)
endif
call TriggerRegisterTimerEvent(t,HT8+7.,false)
call TriggerAddCondition(t,Condition(function I5G))
call TJ7(GetHandleId(t),"Hero",LI7)
set t=null
set LI7=null
set HV8=null
endfunction
function I_G takes nothing returns nothing
if I1G(GetSpellAbilityId())>0 then
call I2G()
endif
endfunction
function J4G takes nothing returns nothing
if GetSpellAbilityId()==1093677655 then
call UnitResetCooldown(GetTriggerUnit())
endif
endfunction
function J7G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit ME9=T37(US7,"chicken")
local integer MR9=U97(US7,"newability")
local integer MS9=U97(US7,"itemId0")
local integer MT9=U97(US7,"itemId1")
local integer MU9=U97(US7,"itemId2")
local integer MV9=U97(US7,"itemId3")
local integer MW9=U97(US7,"itemId4")
local integer MX9=U97(US7,"itemId5")
local player MY9=TL7(US7,"pPlayer0")
local player MZ9=TL7(US7,"pPlayer1")
local player MA9=TL7(US7,"pPlayer2")
local player MB9=TL7(US7,"pPlayer3")
local player MC9=TL7(US7,"pPlayer4")
local player M39=TL7(US7,"pPlayer5")
local integer M69=U97(US7,"charges0")
local integer ML9=U97(US7,"charges1")
local integer M19=U97(US7,"charges2")
local integer M09=U97(US7,"charges3")
local integer M59=U97(US7,"charges4")
local integer M29=U97(US7,"charges5")
set EZ7="J7G"
call DisableTrigger(H94)
if GetTriggerEvalCount(t)==1 then
call UnitAddAbility(ME9,MR9)
if OT[GetPlayerId(GetOwningPlayer(ME9))]==false then
call UnitRemoveType(ME9,UNIT_TYPE_PEON)
else
call UnitAddType(ME9,UNIT_TYPE_PEON)
endif
else
if MS9>0 then
set HA4=CreateItem(MS9,GetUnitX(ME9),GetUnitY(ME9))
call UnitAddItem(ME9,HA4)
call SetItemPlayer(HA4,MY9,false)
call SetItemUserData(HA4,1)
endif
if M69>0 then
call SetItemCharges(HA4,M69)
endif
if MT9>0 then
set HA4=CreateItem(MT9,GetUnitX(ME9),GetUnitY(ME9))
call UnitAddItem(ME9,HA4)
call SetItemPlayer(HA4,MZ9,false)
call SetItemUserData(HA4,1)
endif
if ML9>0 then
call SetItemCharges(HA4,ML9)
endif
if MU9>0 then
set HA4=CreateItem(MU9,GetUnitX(ME9),GetUnitY(ME9))
call UnitAddItem(ME9,HA4)
call SetItemPlayer(HA4,MA9,false)
call SetItemUserData(HA4,1)
endif
if M19>0 then
call SetItemCharges(HA4,M19)
endif
if MV9>0 then
set HA4=CreateItem(MV9,GetUnitX(ME9),GetUnitY(ME9))
call UnitAddItem(ME9,HA4)
call SetItemPlayer(HA4,MB9,false)
call SetItemUserData(HA4,1)
endif
if M09>0 then
call SetItemCharges(HA4,M09)
endif
if MW9>0 then
set HA4=CreateItem(MW9,GetUnitX(ME9),GetUnitY(ME9))
call UnitAddItem(ME9,HA4)
call SetItemPlayer(HA4,MC9,false)
call SetItemUserData(HA4,1)
endif
if M59>0 then
call SetItemCharges(HA4,M59)
endif
if MX9>0 then
set HA4=CreateItem(MX9,GetUnitX(ME9),GetUnitY(ME9))
call UnitAddItem(ME9,HA4)
call SetItemPlayer(HA4,M39,false)
call SetItemUserData(HA4,1)
endif
if M29>0 then
call SetItemCharges(HA4,M29)
endif
if OT[GetPlayerId(GetOwningPlayer(ME9))]==false then
call UnitRemoveType(ME9,UNIT_TYPE_PEON)
else
call UnitAddType(ME9,UNIT_TYPE_PEON)
endif
call SetUnitFlyHeight(ME9,240,0)
call T97(US7)
call UQ7(t)
endif
call EnableTrigger(H94)
set t=null
set ME9=null
set MY9=null
set MZ9=null
set MA9=null
set MB9=null
set MC9=null
set M39=null
return false
endfunction
function J8G takes unit ME9 returns nothing
local integer N49=GetUnitTypeId(ME9)
local real x=GetUnitX(ME9)
local real y=GetUnitY(ME9)
local item N79
local item N89
local item N99
local item ND9
local item NE9
local item NF9
local player MY9
local player MZ9
local player MA9
local player MB9
local player MC9
local player M39
local integer MS9
local integer MT9
local integer MU9
local integer MV9
local integer MW9
local integer MX9
local integer M69=-1
local integer ML9=-1
local integer M19=-1
local integer M09=-1
local integer M59=-1
local integer M29=-1
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer MR9
local item XO8
local integer i
local item J9G
set EZ7="MorphCrow_Start"
set i=0
loop
exitwhen i>5
set J9G=UnitItemInSlot(ME9,i)
if RO7(J9G)==EW then
call UnitRemoveItem(ME9,J9G)
endif
set i=i+1
endloop
set N79=UnitItemInSlot(ME9,0)
set N89=UnitItemInSlot(ME9,1)
set N99=UnitItemInSlot(ME9,2)
set ND9=UnitItemInSlot(ME9,3)
set NE9=UnitItemInSlot(ME9,4)
set NF9=UnitItemInSlot(ME9,5)
set MS9=GetItemTypeId(N79)
set MT9=GetItemTypeId(N89)
set MU9=GetItemTypeId(N99)
set MV9=GetItemTypeId(ND9)
set MW9=GetItemTypeId(NE9)
set MX9=GetItemTypeId(NF9)
set MY9=GetItemPlayer(N79)
set MZ9=GetItemPlayer(N89)
set MA9=GetItemPlayer(N99)
set MB9=GetItemPlayer(ND9)
set MC9=GetItemPlayer(NE9)
set M39=GetItemPlayer(NF9)
set XO8=N79
if GetItemType(XO8)==ITEM_TYPE_ARTIFACT or E09(RO7(XO8))then
set M69=GetItemCharges(XO8)
endif
set XO8=N89
if GetItemType(XO8)==ITEM_TYPE_ARTIFACT or E09(RO7(XO8))then
set ML9=GetItemCharges(XO8)
endif
set XO8=N99
if GetItemType(XO8)==ITEM_TYPE_ARTIFACT or E09(RO7(XO8))then
set M19=GetItemCharges(XO8)
endif
set XO8=ND9
if GetItemType(XO8)==ITEM_TYPE_ARTIFACT or E09(RO7(XO8))then
set M09=GetItemCharges(XO8)
endif
set XO8=NE9
if GetItemType(XO8)==ITEM_TYPE_ARTIFACT or E09(RO7(XO8))then
set M59=GetItemCharges(XO8)
endif
set XO8=NF9
if GetItemType(XO8)==ITEM_TYPE_ARTIFACT or E09(RO7(XO8))then
set M29=GetItemCharges(XO8)
endif
call RN7(N79)
call RN7(N89)
call RN7(N99)
call RN7(ND9)
call RN7(NE9)
call RN7(NF9)
if AG7(GetOwningPlayer(ME9))then
set MR9=1395667017
else
set MR9=1395667018
endif
if GetRandomInt(1,3)==1 then
set MR9=1395667034
endif
call TQ7(US7,"pPlayer0",MY9)
call TQ7(US7,"pPlayer1",MZ9)
call TQ7(US7,"pPlayer2",MA9)
call TQ7(US7,"pPlayer3",MB9)
call TQ7(US7,"pPlayer4",MC9)
call TQ7(US7,"pPlayer5",M39)
call TF7(US7,"itemId0",MS9)
call TF7(US7,"itemId1",MT9)
call TF7(US7,"itemId2",MU9)
call TF7(US7,"itemId3",MV9)
call TF7(US7,"itemId4",MW9)
call TF7(US7,"itemId5",MX9)
call TF7(US7,"charges0",M69)
call TF7(US7,"charges1",ML9)
call TF7(US7,"charges2",M19)
call TF7(US7,"charges3",M09)
call TF7(US7,"charges4",M59)
call TF7(US7,"charges5",M29)
call TJ7(US7,"chicken",ME9)
call TF7(US7,"newability",MR9)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function J7G))
set t=null
set ME9=null
set N79=null
set N89=null
set N99=null
set ND9=null
set NE9=null
set NF9=null
set MY9=null
set MZ9=null
set MA9=null
set MB9=null
set MC9=null
set M39=null
endfunction
function JDG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(T37(PP7,"Source"))
local item JEG=SK7(FJ8,ZU[EX4])
set EZ7="JDG"
if JEG==null then
set JEG=SK7(FJ8,BU[EX4])
endif
if JEG!=null then
call RemoveItem(JEG)
call J8G(FJ8)
else
call DQ8(GetOwningPlayer(FJ8),GetObjectName(X84))
endif
call T97(PP7)
call UQ7(t)
set t=null
set FJ8=null
return false
endfunction
function JFG takes unit FJ8 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="MorphCrow"
call M49(FJ8)
call TriggerRegisterTimerEvent(t,0.05,false)
call TriggerAddCondition(t,Condition(function JDG))
call TJ7(PP7,"Source",FJ8)
set t=null
endfunction
function JGG takes nothing returns boolean
if GetSpellAbilityId()==1093683012 then
call JFG(GetTriggerUnit())
endif
return false
endfunction
function JHG takes nothing returns boolean
local unit LI7=GetTriggerUnit()
local item J08=GetManipulatedItem()
local integer id=GetItemTypeId(J08)
local integer i
set EZ7=EZ7+"(CustomPickUpItems_Main)"
if(id==ZU[XC]or id==ZU[F6])and IsUnitType(LI7,UNIT_TYPE_HERO)==true then
set TW4[GetPlayerId(GetOwningPlayer(LI7))]=GetItemX(J08)
set TX4[GetPlayerId(GetOwningPlayer(LI7))]=GetItemY(J08)
endif
call GSG(LI7,J08)
call GTG(LI7,J08)
if(GetItemTypeId(J08)==ZU[DK4]or GetItemTypeId(J08)==ZU[DM4])and RM7(LI7)then
call UnitRemoveItem(LI7,J08)
elseif GetItemTypeId(J08)==ZU[DT4]and IsUnitType(LI7,UNIT_TYPE_HERO)==true then
set i=(LoadInteger(L7,(GetHandleId(LI7)),(750)))
if i>0 then
if(LoadBoolean(L7,(GetHandleId(LI7)),(751)))==false then
call SaveBoolean(L7,(GetHandleId(LI7)),(751),(true))
call SetItemCharges(J08,i)
endif
endif
elseif GetItemTypeId(J08)==ZU[X0]and GetUnitTypeId(LI7)!=1848651852 and NX4==false then
set NW4=LI7
set NX4=true
call I38("AegisOn",GetPlayerId(GetOwningPlayer(LI7)))
call CG7(bj_FORCE_ALL_PLAYERS,10.00,Q[GetPlayerId(GetOwningPlayer(LI7))]+GetUnitName(LI7)+"|r "+GetObjectName(WF4))
elseif GetItemTypeId(J08)==ZU[EX4]and RJ7(LI7)then
call JFG(LI7)
elseif GetItemTypeId(J08)==ZU[G64]and GetUnitTypeId(LI7)==1164799855 then
call SetPlayerTechResearched(GetOwningPlayer(LI7),1378889802,1)
elseif GetItemTypeId(J08)==ZU[G04]and GetUnitTypeId(LI7)==1211117641 then
set IN4=LI7
call ExecuteFunc("DRE")
elseif GetItemTypeId(J08)==ZU[GB4]and GetUnitTypeId(LI7)==1432580716 then
call UnitAddAbility(LI7,1093815106)
call UnitRemoveAbility(LI7,1093815106)
call AddUnitAnimationProperties(LI7,"upgrade",true)
call SetPlayerTechResearched(GetOwningPlayer(LI7),1378889803,1)
endif
set LI7=null
set J08=null
return false
endfunction
function JIG takes nothing returns nothing
local unit JJG=GetTriggerUnit()
local item JKG=SK7(JJG,ZU[EX4])
set EZ7="JIG"
if JKG==null then
set JKG=SK7(JJG,BU[EX4])
endif
if JKG!=null then
call RN7(JKG)
call UnitRemoveAbility(JJG,1093686866)
call UnitAddAbility(JJG,1093686869)
call SetUnitState(JJG,UNIT_STATE_MANA,400)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",JJG,"origin"))
else
call DQ8(GetOwningPlayer(JJG),(GetObjectName((1848652369))))
endif
set JJG=null
endfunction
function JMG takes nothing returns nothing
if GetSpellAbilityId()==1093686866 then
call JIG()
endif
endfunction
function JNG takes nothing returns nothing
local unit u=GetEnumUnit()
local integer i=0
local player p=GetOwningPlayer(GetTriggerUnit())
local item XO8
local integer id=GetPlayerId(p)
set EZ7="JNG"
loop
exitwhen i>5
set XO8=UnitItemInSlot(u,i)
if XO8!=null and GetItemPlayer(XO8)==p then
call UnitRemoveItem(u,XO8)
call SetItemPosition(XO8,KV4[id],KW4[id])
endif
set i=i+1
endloop
set u=null
set XO8=null
endfunction
function JOG takes nothing returns nothing
local item XO8=GetEnumItem()
local unit u=OI4
local player p=GetOwningPlayer(u)
local integer id=GetPlayerId(p)
if GetWidgetLife(XO8)>0 and GetItemPlayer(XO8)==p and IsItemVisible(XO8)==true then
call SetItemPosition(XO8,KV4[id],KW4[id])
call UnitAddItem(KU4[id],XO8)
endif
set XO8=null
set u=null
set p=null
endfunction
function JPG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit u=T37(US7,"u")
set OI4=u
if AG7(GetOwningPlayer(OI4))then
call EnumItemsInRect(OD,Condition(function A47),function JOG)
else
call EnumItemsInRect(PD,Condition(function A47),function JOG)
endif
if GetTriggerEvalCount(t)==2 then
call T97(US7)
call UQ7(t)
endif
set t=null
set u=null
return false
endfunction
function JQG takes nothing returns boolean
return RM7(GetFilterUnit())
endfunction
function E_F takes nothing returns nothing
local unit u=GetTriggerUnit()
local integer i=0
local group g=LD7()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="E_F"
call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1300,Condition(function JQG))
call ForGroup(g,function JNG)
call L97(g)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function JPG))
call TJ7(US7,"u",u)
set u=null
set g=null
endfunction
function JRG takes nothing returns nothing
if GetSpellAbilityId()==1093743684 then
call E_F()
endif
endfunction
function JSG takes nothing returns nothing
local unit u=GetTriggerUnit()
local integer i=0
local item XO8
local integer id=GetPlayerId(GetOwningPlayer(u))
local region r=CreateRegion()
set EZ7="JSG"
if AG7(GetOwningPlayer(u))then
call RegionAddRect(r,OD)
else
call RegionAddRect(r,PD)
endif
loop
exitwhen i>5
set XO8=UnitItemInSlot(u,i)
if CX7(RO7(XO8))==false and RO7(XO8)!=X0 and N29(XO8)==false then
call UnitRemoveItemFromSlot(u,i)
if(GetUnitTypeId(u)==1852010352 or IsUnitInRegion(r,u))and IsPlayerAlly(GetItemPlayer(XO8),GetOwningPlayer(u))==true then
set id=GetPlayerId(GetItemPlayer(XO8))
call SetItemPosition(XO8,KV4[id],KW4[id])
endif
endif
set i=i+1
endloop
call RemoveRegion(r)
set u=null
set r=null
endfunction
function JTG takes nothing returns nothing
if GetSpellAbilityId()==1093743416 or GetSpellAbilityId()==1093743683 then
call JSG()
endif
endfunction
function JUG takes nothing returns nothing
if GetSpellAbilityId()==1093743191 and GetUnitAbilityLevel(GetTriggerUnit(),1114665832)>0 then
call UnitRemoveAbility(GetTriggerUnit(),1114665832)
endif
endfunction
function JVG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
set EZ7="JVG"
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call DestroyEffect(T27(US7,"FX"))
call T97(US7)
call UQ7(t)
else
if IY8(GetEventDamage())and IsUnitAlly(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false and p3==false then
if IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO)or GetUnitAbilityLevel(GetEventDamageSource(),1093678162)==0 then
call DisableTrigger(t)
set p3=true
call HY8(GetTriggerUnit(),GetEventDamageSource(),ZI4,GetEventDamage())
set p3=false
call EnableTrigger(t)
else
call DisableTrigger(t)
set p3=true
call HY8(GetTriggerUnit(),M7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],ZI4,GetEventDamage())
set p3=false
call EnableTrigger(t)
endif
endif
endif
set t=null
return false
endfunction
function JWG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,4.5,false)
call TriggerAddCondition(t,Condition(function JVG))
call TK7(US7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpikeBarrier\\SpikeBarrier.mdl",p5,"chest"))
set t=null
set p5=null
endfunction
function JXG takes nothing returns nothing
if GetSpellAbilityId()==1093743959 then
call JWG()
endif
endfunction
function JYG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local real a=UD7(US7,"a")
local real d=UD7(US7,"d")
local real x=DT8(GetUnitX(m5)+d/ 10*Cos(a*bj_DEGTORAD))
local real y=DU8(GetUnitY(m5)+d/ 10*Sin(a*bj_DEGTORAD))
if GetTriggerEvalCount(t)==11 or GetTriggerEventId()==EVENT_UNIT_DEATH or UJ7(m5,"PowerCogShocked")==true then
if(UE7(US7,"AI"))then
call J3(m5,false)
endif
call T97(US7)
call UQ7(t)
else
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",x,y))
if UJ7(m5,"4306")==false and UJ7(m5,"4324")==false and GetUnitAbilityLevel(m5,1110456406)==0 then
call ER8(x,y,150)
call SetUnitX(m5,x)
call SetUnitY(m5,y)
endif
endif
set m5=null
set t=null
return false
endfunction
function JZG takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local real x
local real y
local real d
local real a
local integer i=-1
local boolean JAG=false
if GetSpellTargetItem()!=null then
set m5=GetTriggerUnit()
endif
call UU7(m5,"4414",3)
set a=GetUnitFacing(m5)
loop
exitwhen JAG or i==23
set i=i+1
set x=DT8(GetUnitX(m5)+(600-i*25)*Cos(a*bj_DEGTORAD))
set y=DU8(GetUnitY(m5)+(600-i*25)*Sin(a*bj_DEGTORAD))
if(IsPointInRegion(IU4,((x)*1.0),((y)*1.0)))==false then
set JAG=true
endif
endloop
set d=Q07(x,y,GetUnitX(m5),GetUnitY(m5))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function JYG))
call TJ7(US7,"Target",m5)
call TG7(US7,"a",(a)*1.0)
call TG7(US7,"d",(d)*1.0)
call TI7(US7,"AI",(AK7(GetOwningPlayer(m5)))and(IsUnitAlly(m5,GetOwningPlayer(GetTriggerUnit()))))
set m5=null
set t=null
endfunction
function JBG takes nothing returns nothing
if GetSpellAbilityId()==1093744973 and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 then
if IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true or UE7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")==false then
call JZG()
endif
endif
endfunction
function JCG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
set EZ7="JCG"
if GetTriggerEvalCount(t)>40 or GetTriggerEventId()==EVENT_UNIT_DEATH or C37(p5)or UJ7(p5,"Teleporting")then
call UnitRemoveAbility(p5,1097167980)
call T97(US7)
call UQ7(t)
endif
set p5=null
set t=null
return false
endfunction
function J3G takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t
local integer PP7
set EZ7="J3G"
if RM7(p5)==false then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call UnitAddAbility(p5,1097167980)
call UnitMakeAbilityPermanent(p5,true,1097167980)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1097167980,false)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function JCG))
call TJ7(PP7,"Source",p5)
endif
set p5=null
set t=null
endfunction
function J6G takes nothing returns nothing
if GetSpellAbilityId()==1093747011 and C37(GetTriggerUnit())==false then
call J3G()
endif
endfunction
function JLG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x
local real y
set EZ7="JLG"
if AG7(GetOwningPlayer(p5))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
call IssuePointOrder(p5,"move",x,y)
set p5=null
endfunction
function J1G takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local real x
local real y
if AG7(GetOwningPlayer(FJ8))then
set x=-4533
set y=1158
else
set x=3190
set y=-35
endif
call IssuePointOrder(FJ8,"move",x,y)
set FJ8=null
endfunction
function J0G takes nothing returns nothing
if GetSpellAbilityId()==1093747027 then
call JLG()
elseif GetSpellAbilityId()==1093815123 then
call J1G()
endif
endfunction
function J5G takes nothing returns nothing
if UJ7(GetEnumUnit(),"PipeOfInsightOn")==true then
call DQ8(GetOwningPlayer(GetEnumUnit()),GetObjectName(1848652365))
else
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call UU7(GetEnumUnit(),"PipeOfInsightOn",50)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1110458964)==0 and GetUnitAbilityLevel(GetEnumUnit(),1110458965)==0 then
call IssueTargetOrder(Mw,"antimagicshell",GetEnumUnit())
endif
endif
endfunction
function J2G takes nothing returns nothing
local unit p5=GetTriggerUnit()
local group g=LD7()
set EZ7="J2G"
set Mw=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)
call UnitAddAbility(Mw,1093748054)
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),525,Condition(function HG8))
call ForGroup(g,function J5G)
call L97(g)
set p5=null
set g=null
endfunction
function J_G takes nothing returns nothing
if GetSpellAbilityId()==1093748055 then
call J2G()
endif
endfunction
function K4G takes nothing returns nothing
local unit C17=GetTriggerUnit()
set EZ7="K4G"
call TI7(GetHandleId(C17),"MantaBlocked",true)
set C17=null
endfunction
function K7G takes nothing returns nothing
if(GetSpellAbilityId()==1093681720 or GetSpellAbilityId()==1093752645)and L87(GetTriggerUnit())==true then
call K4G()
endif
endfunction
function K8G takes integer id returns boolean
return id==1969711215 or id==1970169187 or id==1702061422 or id==1701081721 or id==1966092337 or id==1966092338 or id==1697656918 or id==1697656919 or id==1700946284 or id==1697657398 or id==1970107511 or id==1966092370
endfunction
function K9G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
set EZ7="K9G"
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>8 then
call DestroyEffect(T27(US7,"FX"))
call T97(US7)
call UQ7(t)
else
if GetUnitState(m5,UNIT_STATE_LIFE)>(150.0/8.0+0.5)then
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)-150.0/8.0)
else
set WV4[GetPlayerId(GetOwningPlayer(m5))]=true
set HJ7=true
call HY8(p5,m5,ZG4,50)
set WV4[GetPlayerId(GetOwningPlayer(m5))]=false
set HJ7=false
endif
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function KDG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
set EZ7="KDG"
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and(K8G(GetUnitTypeId(GetEventDamageSource()))==false and(GetOwningPlayer(GetEventDamageSource())!=B7 or GetUnitTypeId(GetEventDamageSource())==1848651852)and GetEventDamage()>0)or WU4==true)then
call UnitRemoveAbility(m5,1110459207)
call T97(US7)
call UQ7(t)
endif
set t=null
set m5=null
return false
endfunction
function KEG takes nothing returns nothing
local trigger t
local integer US7
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit HV8
local integer i=0
local boolean KFG=false
local boolean KGG=false
local integer CP8
set EZ7="KEG"
if m5==null then
set m5=GetTriggerUnit()
endif
set HV8=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
loop
exitwhen i>5 or KGG
if RP7(UnitItemInSlot(p5,i))==DY4 then
set CP8=GetItemCharges(UnitItemInSlot(p5,i))
if CP8>0 then
set KFG=true
set CP8=CP8-1
else
set KGG=true
set KFG=false
endif
endif
set i=i+1
endloop
if KFG==true then
set t=CreateTrigger()
set US7=GetHandleId(t)
if IsUnitAlly(m5,GetOwningPlayer(p5))==true then
call UnitAddAbility(HV8,1093750093)
call IssueTargetOrderById(HV8,852609,m5)
call TJ7(US7,"Target",m5)
call TriggerRegisterTimerEvent(t,L3,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function KDG))
else
call TJ7(US7,"Target",m5)
call TJ7(US7,"Source",p5)
call TK7(US7,"FX",AddSpecialEffectTarget("war3mapImported\\Urn_Enemy.mdx",m5,"overhead"))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function K9G))
endif
endif
set p5=null
set HV8=null
set m5=null
set t=null
endfunction
function KHG takes nothing returns nothing
if GetSpellAbilityId()==1093750095 then
call KEG()
endif
endfunction
function KIG takes nothing returns nothing
local integer i=0
set EZ7="KIG"
loop
exitwhen i>16
set WV4[i]=false
set i=i+1
endloop
endfunction
function KJG takes nothing returns nothing
if EM9(GetEnumUnit())==false then
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093753432,false)
call FV8(GetEnumUnit(),1093753432,1,YL4,1110459480)
endif
endfunction
function KKG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local integer i=0
local boolean KMG=false
local boolean KNG=false
local integer CP8
local group g
set EZ7="KKG"
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),925,Condition(function FC8))
call ForGroup(g,function KJG)
call L97(g)
set g=null
set FJ8=null
endfunction
function KOG takes nothing returns nothing
if GetSpellAbilityId()==1093753431 then
call KKG()
endif
endfunction
function KPG takes unit u returns boolean
local integer P47=GetUnitTypeId(u)
return P47==1211122232 or P47==1848657482 or P47==1848657481 or P47==1848657462 or P47==1848657480 or P47==1966092371
endfunction
function KQG takes unit u returns boolean
local integer id=GetUnitTypeId(u)
return CD7(id)
endfunction
function KRG takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),Y14)and L17(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true or IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true or KQG(GetFilterUnit()))and KPG(GetFilterUnit())==false
endfunction
function KSG takes unit FJ8 returns boolean
local group g=LD7()
local boolean KMG
set EZ7="SmokeOfDeceit_IsNearby"
set Y14=GetOwningPlayer(FJ8)
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),1050,Condition(function KRG))
set KMG=FirstOfGroup(g)!=null
call L97(g)
return KMG
endfunction
function KTG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local group g
local integer L48
local boolean KUG
set EZ7="KTG"
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetAttacker()==FJ8 then
call UnitRemoveAbility(FJ8,1093808204)
call UnitRemoveAbility(FJ8,1093808211)
call UnitRemoveAbility(FJ8,1110459698)
call UnitRemoveAbility(FJ8,1110456665)
if((LoadInteger(L7,(GetHandleId((FJ8))),((4302))))==1)==false then
call UnitSetUsesAltIcon(FJ8,false)
endif
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
else
set KUG=(LoadBoolean(L7,(PP7),(671)))
set L48=(LoadInteger(L7,(PP7),(34)))
set L48=L48+1
call SaveInteger(L7,(PP7),(34),(L48))
set g=LD7()
set Y14=GetOwningPlayer(FJ8)
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),1050,Condition(function KRG))
if GetUnitAbilityLevel(FJ8,1110456665)>0 then
call SaveBoolean(L7,(PP7),(671),(true))
elseif KUG then
call SaveBoolean(L7,(PP7),(671),(false))
call UnitRemoveAbility(FJ8,1093808204)
call L67(FJ8,1093808204)
endif
if L48>400 or FirstOfGroup(g)!=null then
call UnitRemoveAbility(FJ8,1093808204)
call UnitRemoveAbility(FJ8,1093808211)
call UnitRemoveAbility(FJ8,1110459698)
call UnitRemoveAbility(FJ8,1110456665)
if((LoadInteger(L7,(GetHandleId((FJ8))),((4302))))==1)==false then
call UnitSetUsesAltIcon(FJ8,false)
endif
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
call L97(g)
endif
set t=null
set FJ8=null
set g=null
return false
endfunction
function KVG takes nothing returns nothing
local unit FJ8=GetEnumUnit()
local trigger t
local integer PP7
if AI7(GetOwningPlayer(FJ8))and KSG(FJ8)==false then
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(FJ8))==false and C67(GetLocalPlayer())==false then
call UnitSetUsesAltIcon(FJ8,true)
endif
call L67(FJ8,1093808204)
call UnitMakeAbilityPermanent(FJ8,true,1093808204)
if EM9(FJ8)==false then
call L67(FJ8,1093808211)
call UnitMakeAbilityPermanent(FJ8,true,1093808211)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093808211,false)
endif
set t=CreateTrigger()
set PP7=GetHandleId(t)
call SaveInteger(L7,(PP7),(34),(0))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveBoolean(L7,(PP7),(671),(false))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("war3mapImported\\SmokeOfDeceit.mdx",FJ8,"chest")))
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterTimerEvent(t,.1,true)
call TriggerAddCondition(t,Condition(function KTG))
set t=null
endif
set FJ8=null
endfunction
function KWG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local group g=LD7()
set EZ7="KWG"
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),1225,Condition(function FB8))
call ForGroup(g,function KVG)
call L97(g)
set FJ8=null
set g=null
endfunction
function KXG takes nothing returns nothing
if GetSpellAbilityId()==1093808182 then
call KWG()
endif
endfunction
function InitTrig_Smoke_of_Deceit takes nothing returns nothing
call SetAltMinimapIcon("war3mapImported\\black.blp")
endfunction
function KYG takes nothing returns nothing
if EM9(GetEnumUnit())==false then
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810246,false)
call FV8(GetEnumUnit(),1093810246,1,AB4,1110459729)
endif
endfunction
function KZG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local group g=LD7()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
call GroupEnumUnitsInRange(g,x,y,575,Condition(function GQ8))
call ForGroup(g,function KYG)
call L97(g)
call DestroyEffect(AddSpecialEffect("war3mapImported\\DarkLightningNova.mdx",x,y))
set FJ8=null
set g=null
endfunction
function KAG takes nothing returns nothing
if GetSpellAbilityId()==1093810244 then
call KZG()
endif
endfunction
function KBG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
call UnitAddAbility(HV8,1093815091)
call IssueTargetOrder(HV8,"slow",PU7)
set FJ8=null
set PU7=null
set HV8=null
endfunction
function KCG takes nothing returns nothing
if GetSpellAbilityId()==1093813569 and L87(GetSpellTargetUnit())==false then
call KBG()
endif
endfunction
function K3G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer L48=(LoadInteger(L7,(PP7),(34)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or L48==10 or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetEventDamage()>20)then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
set L48=L48+1
call SaveInteger(L7,(PP7),(34),(L48))
call SetUnitState(FJ8,UNIT_STATE_LIFE,GetUnitState(FJ8,UNIT_STATE_LIFE)+17)
endif
set t=null
set FJ8=null
return false
endfunction
function K6G takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function K3G))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveInteger(L7,(PP7),(34),(0))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("war3mapImported\\TranquilBootsHeal.mdx",FJ8,"origin")))
set FJ8=null
set t=null
endfunction
function KLG takes nothing returns nothing
if GetSpellAbilityId()==1093815089 then
call K6G()
endif
endfunction
function K1G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
local unit HV8
if GetUnitX(FJ8)!=x or GetUnitY(FJ8)!=y or(GetUnitAbilityLevel(FJ8,1110460216)==0 and GetTriggerEvalCount(t)>R2I(IH7/.05))then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UO7(FJ8,"ShadowAmu|4330")
call UnitRemoveAbility(FJ8,1110460214)
call UnitRemoveAbility(FJ8,1110460216)
elseif GetTriggerEvalCount(t)==R2I(IH7/.05)then
set HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(FJ8),GetUnitY(FJ8),0)
call UnitAddAbility(HV8,1093815861)
call IssueTargetOrder(HV8,"invisibility",FJ8)
call UO7(FJ8,"ShadowAmu|4330")
set HV8=null
endif
set t=null
set FJ8=null
return false
endfunction
function K0G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
local integer K5G=(LoadInteger(L7,(PP7),(375)))
local integer id=GetUnitCurrentOrder(FJ8)
if GetUnitX(FJ8)!=x or GetUnitY(FJ8)!=y then
call IssueImmediateOrder(FJ8,"holdposition")
call SaveReal(L7,(K5G),(6),((GetUnitX(FJ8))*1.0))
call SaveReal(L7,(K5G),(7),((GetUnitY(FJ8))*1.0))
elseif id==0 or id==851973 or id==851983 or id==851971 then
call IssueImmediateOrder(FJ8,"holdposition")
endif
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set FJ8=null
return false
endfunction
function K2G takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local trigger t2=CreateTrigger()
local integer QFD=GetHandleId(t2)
local string K_G="Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl"
if GetLocalPlayer()!=GetOwningPlayer(FJ8)then
set K_G=""
endif
call UM7(FJ8,"ShadowAmu|4330")
call DestroyEffect(AddSpecialEffectTarget(K_G,FJ8,"chest"))
call DestroyEffect(AddSpecialEffectTarget(K_G,FJ8,"hand left"))
call DestroyEffect(AddSpecialEffectTarget(K_G,FJ8,"hand right"))
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function K1G))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(6),((GetUnitX(FJ8))*1.0))
call SaveReal(L7,(PP7),(7),((GetUnitY(FJ8))*1.0))
call TriggerRegisterTimerEvent(t2,0.01,false)
call TriggerAddCondition(t2,Condition(function K0G))
call SaveUnitHandle(L7,(QFD),(2),(FJ8))
call SaveReal(L7,(QFD),(6),((GetUnitX(FJ8))*1.0))
call SaveReal(L7,(QFD),(7),((GetUnitY(FJ8))*1.0))
call SaveInteger(L7,(QFD),(375),(PP7))
set FJ8=null
set t=null
endfunction
function M4G takes nothing returns nothing
if GetSpellAbilityId()==1093815857 and UJ7(GetTriggerUnit(),"ShadowAmu|4330")==false then
call K2G()
endif
endfunction
function M7G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PQ7=GetHandleId(t)
local unit PU7=(LoadUnitHandle(L7,PQ7,(17)))
local integer M8G=(LoadInteger(L7,PQ7,(34)))
if(GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)>=M8G or C37(PU7)==true)then
call F28(PU7)
call DestroyEffect((LoadEffectHandle(L7,PQ7,(32))))
call FlushChildHashtable(L7,PQ7)
call UQ7(t)
endif
set t=null
set PU7=null
return false
endfunction
function M9G takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local unit HV8
local integer HW8=2
local real MDG=4.5
local trigger t=CreateTrigger()
local integer PQ7=GetHandleId(t)
if IsUnitType(PU7,UNIT_TYPE_MELEE_ATTACKER)==true then
set HW8=1
set MDG=3
endif
call F08(PU7)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerAddCondition(t,Condition(function M7G))
call SaveUnitHandle(L7,PQ7,(17),(PU7))
call SaveInteger(L7,PQ7,(34),(R2I(MDG*10)))
call SaveEffectHandle(L7,PQ7,(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl",PU7,"overhead")))
set FJ8=null
set PU7=null
set HV8=null
endfunction
function MEG takes nothing returns nothing
if GetSpellAbilityId()==1093815092 and L87(GetSpellTargetUnit())==false then
call M9G()
endif
endfunction
function MFG takes integer HW8,unit FJ8,unit PU7 returns nothing
set HJ7=true
call HY8(FJ8,PU7,ZG4,300+100*HW8)
set HJ7=false
endfunction
function MGG takes nothing returns nothing
local integer MHG=0
if GetSpellAbilityId()==1093677647 then
set MHG=1
endif
if GetSpellAbilityId()==1093679193 then
set MHG=2
endif
if GetSpellAbilityId()==1093679194 then
set MHG=3
endif
if GetSpellAbilityId()==1093679408 then
set MHG=4
endif
if GetSpellAbilityId()==1093679410 then
set MHG=5
endif
if MHG>0 and L87(GetSpellTargetUnit())==false then
call MFG(MHG,GetTriggerUnit(),GetSpellTargetUnit())
endif
endfunction
function MIG takes nothing returns nothing
if GetSpellAbilityId()==1093814353 then
call CV8(GetTriggerUnit(),GetSpellTargetUnit())
endif
endfunction
function MJG takes unit FJ8,integer BU7,real x,real y returns nothing
local unit MKG=CreateUnit(GetOwningPlayer(FJ8),BU7,x,y,0)
set EZ7="Corruptor_Spawn"
call UnitApplyTimedLife(MKG,1112820806,15)
set MKG=null
endfunction
function MMG takes nothing returns nothing
local unit MKG
local real x
local real y
set EZ7="MMG"
if GetSpellAbilityId()==1093753420 then
set x=GetDestructableX(GetSpellTargetDestructable())
set y=GetDestructableY(GetSpellTargetDestructable())
call MJG(GetTriggerUnit(),1848659021,x,y)
elseif GetSpellAbilityId()==1093753421 then
set x=GetDestructableX(GetSpellTargetDestructable())
set y=GetDestructableY(GetSpellTargetDestructable())
call MJG(GetTriggerUnit(),1848659022,x,y)
endif
set MKG=null
endfunction
function MNG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
set EZ7="MNG"
call UnitRemoveAbility(FJ8,1093753418)
call UnitRemoveAbility(PU7,1093753418)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function MOG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="MOG"
call TriggerRegisterTimerEvent(t,7,false)
call TriggerAddCondition(t,Condition(function MNG))
call SaveUnitHandle(L7,(PP7),(2),(GetTriggerUnit()))
call SaveUnitHandle(L7,(PP7),(17),(GetSpellTargetUnit()))
call SaveEffectHandle(L7,(PP7),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl",GetSpellTargetUnit(),"chest")))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl",GetTriggerUnit(),"chest")))
call UnitAddAbility(GetTriggerUnit(),1093753418)
call UnitAddAbility(GetSpellTargetUnit(),1093753418)
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,1093753418)
call UnitMakeAbilityPermanent(GetSpellTargetUnit(),true,1093753418)
set t=null
endfunction
function MPG takes nothing returns nothing
if GetSpellAbilityId()==1093753417 and L87(GetSpellTargetUnit())==false then
call MOG()
endif
endfunction
function MQG takes nothing returns nothing
local unit P67=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local unit HV8
set EZ7="MQG"
if GetSpellTargetUnit()==null then
if GetSpellAbilityId()==1095331948 then
set HV8=CreateUnit(GetOwningPlayer(P67),1697656901,GetUnitX(P67),GetUnitY(P67),0)
call UnitAddAbility(HV8,1093752641)
call IssueTargetOrderById(HV8,852609,P67)
set HV8=null
elseif GetSpellAbilityId()==1095331954 then
set HV8=CreateUnit(GetOwningPlayer(P67),1697656901,GetUnitX(P67),GetUnitY(P67),0)
call UnitAddAbility(HV8,1095331954)
call IssueTargetOrderById(HV8,852609,P67)
set HV8=null
endif
endif
set P67=null
set PU7=null
endfunction
function MRG takes nothing returns nothing
if GetSpellAbilityId()==1095331948 or GetSpellAbilityId()==1095331954 then
call MQG()
endif
endfunction
function MSG takes integer HW8 returns integer
if HW8==1 then
return 25
elseif HW8==2 then
return 41
elseif HW8==3 then
return 62
elseif HW8==4 then
return 88
elseif HW8==5 then
return 119
elseif HW8==6 then
return 155
endif
return 25
endfunction
function MTG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=(LoadInteger(L7,(PP7),(34)))
set EZ7="MTG"
if(GetTriggerEventId()==EVENT_UNIT_DEATH and GetKillingUnit()==FJ8)or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetUnitAbilityLevel(PU7,1110459731)>0)then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",GetUnitX(PU7),GetUnitY(PU7)))
call AddHeroXP(FJ8,R2I(MSG(HW8)*2.5),true)
call F98(GetOwningPlayer(FJ8),PU7,190)
set VG4[GetPlayerId(GetOwningPlayer(FJ8))]=VG4[GetPlayerId(GetOwningPlayer(FJ8))]+190
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call KillUnit(PU7)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function MUG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer HW8=GetUnitLevel(PU7)
set EZ7="MUG"
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveInteger(L7,(PP7),(34),(HW8))
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function MTG))
set t=null
set FJ8=null
set PU7=null
endfunction
function MVG takes nothing returns nothing
if GetSpellAbilityId()==1093810265 then
call MUG()
endif
endfunction
function MWG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer CT7=GetHandleId(t)
local unit F3D=(LoadUnitHandle(L7,(CT7),(2)))
local real MXG=(LoadReal(L7,(CT7),(242)))
local real MYG=(LoadReal(L7,(CT7),(529)))
local real MZG=(LoadReal(L7,(CT7),(530)))
local real MAG=GetUnitState(F3D,UNIT_STATE_MANA)
local real MBG=GetUnitState(F3D,UNIT_STATE_MAX_MANA)
local real MCG=MXG-MAG
set EZ7="MWG"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(CT7))
call UQ7(t)
elseif GetTriggerEvalCount(t)==20*10 then
call FlushChildHashtable(L7,(CT7))
call UQ7(t)
if MYG<150 then
call SetUnitState(F3D,UNIT_STATE_MANA,MAG-(150-MYG-MZG))
endif
else
if MCG>0 then
set MYG=MYG+(MXG-MAG)
if MZG>0 then
if MCG>MZG then
call SetUnitState(F3D,UNIT_STATE_MANA,MAG+MZG)
set MZG=0
else
if MZG>(MBG-MAG)then
set MZG=MZG-(MBG-MAG)
call SetUnitState(F3D,UNIT_STATE_MANA,MAG+MBG-MAG)
else
set MZG=MZG-MCG
call SetUnitState(F3D,UNIT_STATE_MANA,MAG+MCG)
endif
endif
endif
endif
set MXG=MAG
call SaveReal(L7,(CT7),(242),((MXG)*1.0))
call SaveReal(L7,(CT7),(529),((MYG)*1.0))
call SaveReal(L7,(CT7),(530),((MZG)*1.0))
endif
set t=null
set F3D=null
return false
endfunction
function M3G takes nothing returns nothing
local unit F3D=GetTriggerUnit()
local real I4E=GetUnitState(F3D,UNIT_STATE_LIFE)
local trigger t=CreateTrigger()
local integer CT7=GetHandleId(t)
local real MAG=GetUnitState(F3D,UNIT_STATE_MANA)
set EZ7="M3G"
if I4E>151 then
call SetUnitState(F3D,UNIT_STATE_LIFE,I4E-150)
else
call SetUnitState(F3D,UNIT_STATE_LIFE,1)
endif
call EE8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",F3D,"origin",2)
call SetUnitState(F3D,UNIT_STATE_MANA,MAG+150)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,F3D,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function MWG))
call SaveUnitHandle(L7,(CT7),(2),(F3D))
call SaveReal(L7,(CT7),(242),((GetUnitState(F3D,UNIT_STATE_MANA))*1.0))
call SaveReal(L7,(CT7),(529),((0)*1.0))
if(MAG+150)>GetUnitState(F3D,UNIT_STATE_MAX_MANA)then
call SaveReal(L7,(CT7),(530),(((MAG+150)-GetUnitState(F3D,UNIT_STATE_MAX_MANA))*1.0))
endif
set F3D=null
endfunction
function M6G takes nothing returns nothing
if GetSpellAbilityId()==1093751096 then
call M3G()
endif
endfunction
function MLG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="MLG"
if GetTriggerEvalCount(t)>30 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(FJ8,1093751107)
call UnitRemoveAbility(FJ8,1110459225)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set FJ8=null
set t=null
return false
endfunction
function M1G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="M1G"
if GetTriggerEvalCount(t)>30 or GetTriggerEventId()==EVENT_UNIT_DEATH or((LoadInteger(L7,(GetHandleId((FJ8))),((4256))))==1)then
call UnitRemoveAbility(FJ8,1097167980)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set FJ8=null
set t=null
return false
endfunction
function M0G takes unit u returns nothing
local unit FJ8=u
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call UnitAddAbility(FJ8,1097167980)
call UnitMakeAbilityPermanent(FJ8,true,1097167980)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1097167980,false)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function M1G))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set FJ8=null
set t=null
endfunction
function M5G takes nothing returns nothing
local integer PP7=GetHandleId(GetTriggeringTrigger())
local unit FJ8=IN4
local unit PU7=IP4
local real XGD=(LoadReal(L7,(PP7),(20)))
local trigger t
if IsPlayerAlly(GetOwningPlayer(PU7),GetOwningPlayer(FJ8))==true and FJ8!=PU7 then
call M0G(PU7)
elseif FJ8!=PU7 then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093751107,false)
call UnitAddAbility(PU7,1093751107)
call UnitMakeAbilityPermanent(PU7,true,1093751107)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function MLG))
call SaveUnitHandle(L7,(PP7),(2),(PU7))
call M0G(PU7)
call EI8("+"+I2S(R2I(XGD)),2,PU7,0.027,3,216,120,216)
set HJ7=true
call HY8(FJ8,PU7,ZG4,XGD)
set HJ7=false
endif
call M0G(FJ8)
set FJ8=null
set PU7=null
endfunction
function M2G takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t2=E68(FJ8,PU7,1747993171,"M5G",1000)
local integer QFD=GetHandleId(t2)
local integer FMD=CL7(FJ8)
local real M_G
if FMD==K67 then
set M_G=GetHeroAgi(FJ8,true)
elseif FMD==KL7 then
set M_G=GetHeroStr(FJ8,true)
elseif FMD==K17 then
set M_G=GetHeroInt(FJ8,true)
endif
call SaveReal(L7,(QFD),(20),((M_G*2.0+75)*1.0))
set FJ8=null
set PU7=null
set t2=null
endfunction
function N4G takes nothing returns nothing
if GetSpellAbilityId()==1093751108 and(IsPlayerAlly(GetOwningPlayer(GetSpellTargetUnit()),GetOwningPlayer(GetTriggerUnit()))==true or L87(GetSpellTargetUnit())==false)then
call M2G()
endif
endfunction
function N7G takes nothing returns nothing
call SetUnitState(GetEnumUnit(),UNIT_STATE_MANA,GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)+135)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl",GetEnumUnit(),"origin"))
endfunction
function N8G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local group g=LD7()
set EZ7="N8G"
set IN4=FJ8
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),25+600,Condition(function GV8))
call ForGroup(g,function N7G)
call L97(g)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set g=null
set FJ8=null
set t=null
return false
endfunction
function N9G takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local group g
local trigger t
set EZ7="N9G"
if GetSpellAbilityId()==1093684023 then
if GetUnitTypeId(FJ8)!=1211117642 then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function N8G))
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(FJ8))
set t=null
else
call SetUnitState(FJ8,UNIT_STATE_MANA,GetUnitState(FJ8,UNIT_STATE_MANA)+25)
endif
endif
set FJ8=null
set g=null
set t=null
endfunction
function NDG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local unit HV8
set EZ7="NDG"
if GetSpellAbilityId()==1093751863 and(L87(GetSpellTargetUnit())==false or IsPlayerAlly(GetOwningPlayer(FJ8),GetOwningPlayer(PU7))==true)then
if GetSpellTargetItem()!=null then
set PU7=GetTriggerUnit()
endif
set HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
call UnitAddAbility(HV8,1095328633)
call IssueTargetOrder(HV8,"cyclone",PU7)
endif
set FJ8=null
set PU7=null
set HV8=null
endfunction
function NEG takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==1697656901 then
return false
endif
call NR9()
call MP9()
call NH9()
call H3G()
call ITG()
call ICG()
call ILG()
call I_G()
call NK9()
call I3G()
call J4G()
call YZF()
call K59()
call Y0F()
call JMG()
call ZFF()
call Y2F()
call JTG()
call JRG()
call FVG()
call JUG()
call JXG()
call JBG()
call J6G()
call J0G()
call JGG()
call J_G()
call K7G()
call KHG()
call M6G()
call N4G()
call NDG()
call N9G()
call MVG()
call MRG()
call MPG()
call MMG()
call KOG()
call KXG()
call KAG()
call KCG()
call MIG()
call MGG()
call KLG()
call MEG()
call M4G()
if GetSpellAbilityId()==1093815095 and L87(GetSpellTargetUnit())==false then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LevelerStunFX.mdx",GetSpellTargetUnit(),"head"))
endif
return false
endfunction
function NFG takes nothing returns boolean
call HGG()
call HHG()
call HMG()
call HRG()
call NX9()
call HVG()
call HWG()
call HXG()
call HYG()
call HAG()
return false
endfunction
function NGG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local unit NHG=T37(US7,"Caster")
local unit m5=T37(US7,"Target")
local effect FX=T27(US7,"FX")
local player p=GetOwningPlayer(C17)
set EZ7="NGG"
call UnitShareVision(m5,p,false)
call DestroyEffect(FX)
call RemoveUnit(NHG)
call UnitRemoveAbility(m5,1110455880)
call T97(US7)
call UQ7(t)
set t=null
set C17=null
set NHG=null
set m5=null
set FX=null
set p=null
return false
endfunction
function NIG takes nothing returns nothing
local unit C17=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local player p=GetOwningPlayer(C17)
local unit NHG
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local string s="effects\\Snipe Target.mdx"
set EZ7="NIG"
if IsPlayerAlly(GetLocalPlayer(),p)==false and C67(GetLocalPlayer())==false then
set s=""
endif
call UnitShareVision(m5,p,true)
set NHG=CreateUnit(GetOwningPlayer(m5),1697657170,0,0,0)
call L67(NHG,1093684809)
call TJ7(US7,"Target",m5)
call TJ7(US7,"Hero",C17)
call TJ7(US7,"Caster",NHG)
call TK7(US7,"FX",AddSpecialEffectTarget(s,m5,"overhead"))
call TriggerRegisterTimerEvent(t,4,false)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function NGG))
set t=null
set C17=null
set m5=null
set NHG=null
set p=null
endfunction
function NJG takes nothing returns boolean
if GetSpellAbilityId()==1093678160 then
call NIG()
endif
return false
endfunction
function N58 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="N58"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(t,Condition(function NJG))
set t=null
endfunction
function NKG takes nothing returns boolean
local real d
set EZ7="NKG"
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IP4))==true then
set d=Q07(IK4,IM4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
if d<IJ4 then
set IJ4=d
set IN4=GetFilterUnit()
endif
endif
return false
endfunction
function NMG takes unit NNG,real x,real y returns unit
local group g=LD7()
set EZ7="oWe"
set IN4=null
set IP4=NNG
set IJ4=99999
set IK4=x
set IM4=y
call GroupEnumUnitsInRange(g,x,y,2000,Condition(function NKG))
call L97(g)
set g=null
return IN4
endfunction
function NOG takes nothing returns boolean
local real d
set EZ7="NOG"
if GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and L17(GetFilterUnit())==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IP4))==true then
set d=Q07(IK4,IM4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
if d<IJ4 then
set IJ4=d
set IN4=GetFilterUnit()
endif
endif
return false
endfunction
function NPG takes unit NNG,real x,real y returns unit
local group g=LD7()
set EZ7="oze"
set IN4=null
set IP4=NNG
set IJ4=99999
set IK4=x
set IM4=y
call GroupEnumUnitsInRange(g,x,y,2000,Condition(function NOG))
call L97(g)
set g=null
return IN4
endfunction
function NQG takes nothing returns nothing
local unit C17=GetTriggerUnit()
local location l
local real x
local real y
local unit m5=GetSpellTargetUnit()
set EZ7="NQG"
if m5==null then
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
call RemoveLocation(l)
if GetSpellAbilityId()==1093682008 then
set m5=NMG(C17,x,y)
else
set m5=NPG(C17,x,y)
endif
set x=GetUnitX(m5)
set y=GetUnitY(m5)
else
set x=GetUnitX(GetSpellTargetUnit())
set y=GetUnitY(GetSpellTargetUnit())
endif
if(IsUnitAlly(C17,GetLocalPlayer())and GetLocalPlayer()!=GetOwningPlayer(C17))or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
call PingMinimapEx(x,y,3,255,255,255,false)
endif
set C17=null
set l=null
endfunction
function NRG takes nothing returns boolean
if GetSpellAbilityId()==1093682008 or GetSpellAbilityId()==1095331188 then
call NQG()
endif
return false
endfunction
function NSG takes unit NTG returns nothing
local group g=LD7()
local real x=GetUnitX(NTG)
local real y=GetUnitY(NTG)
local unit NUG
local unit NVG=CreateUnit(GetOwningPlayer(NTG),1697656901,x,y,0)
local integer NWG=GetUnitAbilityLevel(NTG,1093687860)
set EZ7="BatteryAssault_Attack"
set IN4=NTG
call GroupEnumUnitsInRange(g,x,y,300,Condition(function GA8))
set NUG=GroupPickRandomUnit(g)
call L97(g)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",NTG,"origin"))
if NUG!=null then
call L67(NVG,1093687863)
call SetUnitAbilityLevel(NVG,1093687863,NWG)
call IssueTargetOrder(NVG,"thunderbolt",NUG)
endif
set g=null
set NUG=null
set NVG=null
endfunction
function NXG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer NYG=GetHandleId(t)
local integer NZG=GetTriggerEvalCount(t)
local unit NAG=T37(NYG,"Hero")
set EZ7="NXG"
if NZG>15 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call T97(NYG)
call UQ7(t)
else
call NSG(NAG)
endif
set t=null
set NAG=null
return false
endfunction
function NBG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer NYG=GetHandleId(t)
local unit NAG=GetTriggerUnit()
set EZ7="NBG"
call TriggerRegisterTimerEvent(t,.7,true)
call TriggerRegisterUnitEvent(t,NAG,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function NXG))
call TJ7(NYG,"Hero",NAG)
call TriggerEvaluate(t)
set t=null
set NAG=null
endfunction
function NCG takes nothing returns boolean
if GetSpellAbilityId()==1093687860 then
call NBG()
endif
return false
endfunction
function TU8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TU8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NCG))
set t=null
endfunction
function N3G takes real s,real N6G,real NLG,real N1G returns boolean
return s<=N6G and s<=NLG and s<=N1G
endfunction
function N0G takes unit u,real x,real y,real d returns real
local real x2=GetUnitX(u)
local real y2=GetUnitY(u)
local real N5G=Q07(x-d,y,x2,y2)
local real N2G=Q07(x+d,y,x2,y2)
local real N_G=Q07(x,y+d,x2,y2)
local real O4G=Q07(x,y-d,x2,y2)
set EZ7="PowerCog_GetAngle"
if N3G(N5G,N2G,O4G,N_G)then
return 180.0
elseif N3G(N2G,N5G,O4G,N_G)then
return 0.0
elseif N3G(O4G,N2G,N5G,N_G)then
return 270.0
endif
return 90.0
endfunction
function O7G takes real s,real N6G,real NLG,real N1G,real O8G,real O9G,real ODG,real OEG returns boolean
return s<=N6G and s<=NLG and s<=N1G and s<=O8G and s<=O9G and s<=ODG and s<=OEG
endfunction
function OFG takes unit u,integer US7 returns unit
local real x1=GetUnitX(u)
local real y1=GetUnitY(u)
local unit OGG=T37(US7,"Cog1")
local unit OHG=T37(US7,"Cog2")
local unit OIG=T37(US7,"Cog3")
local unit OJG=T37(US7,"Cog4")
local unit OKG=T37(US7,"Cog5")
local unit OMG=T37(US7,"Cog6")
local unit ONG=T37(US7,"Cog7")
local unit OOG=T37(US7,"Cog8")
local real N6G=Q07(x1,y1,GetUnitX(OGG),GetUnitY(OGG))
local real NLG=Q07(x1,y1,GetUnitX(OHG),GetUnitY(OHG))
local real N1G=Q07(x1,y1,GetUnitX(OIG),GetUnitY(OIG))
local real O8G=Q07(x1,y1,GetUnitX(OJG),GetUnitY(OJG))
local real O9G=Q07(x1,y1,GetUnitX(OKG),GetUnitY(OKG))
local real ODG=Q07(x1,y1,GetUnitX(OMG),GetUnitY(OMG))
local real OEG=Q07(x1,y1,GetUnitX(ONG),GetUnitY(ONG))
local real OPG=Q07(x1,y1,GetUnitX(OOG),GetUnitY(OOG))
set EZ7="rNe"
if O7G(N6G,NLG,N1G,O8G,O9G,ODG,OEG,OPG)then
return OGG
elseif O7G(NLG,N6G,N1G,O8G,O9G,ODG,OEG,OPG)then
return OHG
elseif O7G(N1G,NLG,N6G,O8G,O9G,ODG,OEG,OPG)then
return OIG
elseif O7G(O8G,NLG,N1G,N6G,O9G,ODG,OEG,OPG)then
return OJG
elseif O7G(O9G,NLG,N1G,O8G,N6G,ODG,OEG,OPG)then
return OKG
elseif O7G(ODG,NLG,N1G,O8G,O9G,N6G,OEG,OPG)then
return OMG
elseif O7G(OEG,NLG,N1G,O8G,O9G,ODG,N6G,OPG)then
return ONG
elseif O7G(OPG,NLG,N1G,O8G,O9G,ODG,OEG,N6G)then
return OOG
endif
return null
endfunction
function OQG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local real ORG=UD7(US7,"Angle")
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local real BMF=12
local unit p5=T37(US7,"Source")
local integer BY7=U97(US7,"Level")
local integer OSG=40+40*BY7
set EZ7="OQG"
if GetTriggerEvalCount(t)>21 then
call T97(US7)
call UQ7(t)
call UO7(m5,"PowerCogShocked")
call HY8(p5,m5,ZG4,I2R(OSG))
call SetUnitState(m5,UNIT_STATE_MANA,D28(GetUnitState(m5,UNIT_STATE_MANA)-OSG,0))
else
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",x,y))
call ER8(x,y,150)
if UJ7(m5,"TimeWalk|Active")==false then
call SetUnitPosition(m5,x+BMF*Cos(ORG*bj_DEGTORAD),y+BMF*Sin(ORG*bj_DEGTORAD))
endif
endif
set t=null
set m5=null
return false
endfunction
function OTG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit m5=GetEnumUnit()
local real x=IJ4
local real y=IK4
local real d=IM4
local real ORG=N0G(m5,x,y,d)
local real OUG=200
local real OVG=d-Q07(GetUnitX(m5),GetUnitY(m5),x,y)+OUG/2
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",m5,"chest"))
call UM7(m5,"PowerCogShocked")
if OVG>0 then
call SetUnitX(m5,GetUnitX(m5)+OVG*Cos(ORG*bj_DEGTORAD))
call SetUnitY(m5,GetUnitY(m5)+OVG*Sin(ORG*bj_DEGTORAD))
endif
call TJ7(US7,"Target",m5)
call TG7(US7,"Angle",ORG*1.0)
call TF7(US7,"Level",IH4)
call TJ7(US7,"Source",IN4)
call TriggerRegisterTimerEvent(t,0.04,true)
call TriggerAddCondition(t,Condition(function OQG))
set t=null
set m5=null
endfunction
function OWG takes unit u,integer US7 returns boolean
local unit OXG=OFG(u,US7)
local boolean OYG=true
set EZ7="PowerCog_IsNearestUsable"
if L17(OXG)or U97(GetHandleId(OXG),"PowerCogUsed")==1 then
set OYG=false
endif
call TF7(GetHandleId(OXG),"PowerCogUsed",1)
call SetUnitVertexColor(OXG,25,25,25,175)
set OXG=null
return OYG
endfunction
function OZG takes nothing returns nothing
if GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)>0 and IsUnitInGroup(GetEnumUnit(),IQ4)==false and UJ7(GetEnumUnit(),"PowerCogShocked")==false and OWG(GetEnumUnit(),tl)then
call UM7(GetEnumUnit(),"PowerCogShocked")
call GroupAddUnit(aL,GetEnumUnit())
endif
endfunction
function OAG takes trigger t,unit C17,real x,real y,real d,integer BY7 returns nothing
local integer US7=GetHandleId(t)
local real OBG=200
local rect r1=Rect(x-d,y-d,x+d,y+d)
local rect r2=Rect(x-d-OBG,y-d-OBG,x+d+OBG,y+d+OBG)
local group g1=LD7()
local group g2=LD7()
local group g3=LD7()
set EZ7="PowerCog_Shock"
set IN4=C17
call GroupEnumUnitsInRect(g1,r1,Condition(function G78))
call GroupEnumUnitsInRect(g2,r2,Condition(function G78))
set IQ4=g1
set aL=g3
set IJ4=x
set IK4=y
set IM4=d
set tl=US7
call ForGroup(g2,function OZG)
set IH4=BY7
call ForGroup(g3,function OTG)
call L97(g1)
call L97(g2)
call L97(g3)
call RemoveRect(r1)
call RemoveRect(r2)
set g1=null
set g2=null
set g3=null
set r1=null
set r2=null
endfunction
function OCG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
local player p=TL7(US7,"p")
local boolean O3G=UE7(US7,"NeedFix")
set EZ7="OCG"
call T97(US7)
call UQ7(t)
if O3G then
call EV8(p,.2,x,y,500)
endif
set t=null
set p=null
return false
endfunction
function O6G takes unit OXG returns nothing
local real x=GetUnitX(OXG)
local real y=GetUnitY(OXG)
local player p=GetOwningPlayer(OXG)
local unit oA=CreateUnit(p,1966092375,x,y,0)
set EZ7="rPe"
call KillUnit(oA)
set p=null
set oA=null
endfunction
function OLG takes integer US7,real x,real y,boolean O3G,player p returns nothing
local unit OGG=T37(US7,"Cog1")
local unit OHG=T37(US7,"Cog2")
local unit OIG=T37(US7,"Cog3")
local unit OJG=T37(US7,"Cog4")
local unit OKG=T37(US7,"Cog5")
local unit OMG=T37(US7,"Cog6")
local unit ONG=T37(US7,"Cog7")
local unit OOG=T37(US7,"Cog8")
local trigger t=CreateTrigger()
set EZ7="PowerCog_EndCogs"
call TriggerRegisterTimerEvent(t,0.1,false)
call TriggerAddCondition(t,Condition(function OCG))
call TG7(GetHandleId(t),"x",x*1.0)
call TG7(GetHandleId(t),"y",y*1.0)
call TQ7(GetHandleId(t),"p",p)
call TI7(GetHandleId(t),"NeedFix",O3G)
call O6G(OGG)
call RemoveUnit(OGG)
call O6G(OHG)
call RemoveUnit(OHG)
call O6G(OIG)
call RemoveUnit(OIG)
call O6G(OJG)
call RemoveUnit(OJG)
call O6G(OKG)
call RemoveUnit(OKG)
call O6G(OMG)
call RemoveUnit(OMG)
call O6G(ONG)
call RemoveUnit(ONG)
call O6G(OOG)
call RemoveUnit(OOG)
set OGG=null
set OHG=null
set OIG=null
set OJG=null
set OKG=null
set OMG=null
set ONG=null
set OOG=null
endfunction
function O1G takes unit OXG,integer US7,integer O0G,player p returns nothing
if IsUnitVisible(OXG,p)then
call TI7(US7,"NeedFix",true)
endif
call TJ7(US7,"Cog"+I2S(O0G),OXG)
endfunction
function O5G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local real Hk=UD7(US7,"Duration")
local integer OXE=GetTriggerEvalCount(t)
set EZ7="O5G"
if OXE>R2I(Hk*100)then
call OLG(US7,UD7(US7,"x"),UD7(US7,"y"),UE7(US7,"NeedFix"),TL7(US7,"Enemy"))
call T97(US7)
call UQ7(t)
else
call OAG(t,T37(US7,"Hero"),UD7(US7,"x"),UD7(US7,"y"),UD7(US7,"d"),U97(US7,"Level"))
endif
set t=null
return false
endfunction
function O2G takes nothing returns nothing
call SetUnitX(GetEnumUnit(),GetUnitX(IN4))
call SetUnitY(GetEnumUnit(),GetUnitY(IN4))
endfunction
function O_G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local integer BY7=GetUnitAbilityLevel(C17,1093687861)
local integer ID=1966092371
local real x1=GetUnitX(C17)
local real y1=GetUnitY(C17)
local real x2
local real y2
local real d=125
local unit OXG
local real Hk=4+BY7
local real BufferDuration=5
local group g
local rect P4G
local player P7G
set EZ7="O_G"
if AG7(GetOwningPlayer(C17))then
set P7G=A7[0]
else
set P7G=Z7[0]
endif
call T97(US7)
call UQ7(t)
set t=CreateTrigger()
set US7=GetHandleId(t)
call TI7(US7,"NeedFix",false)
set x2=x1+d
set y2=y1
set OXG=CreateUnit(GetOwningPlayer(C17),ID,x2,y2,0)
call SetUnitPosition(OXG,x2,y2)
call O1G(OXG,US7,1,P7G)
if AK7(GetOwningPlayer(C17))then
call TJ7(GetHandleId(C17),"AI|Cog1",OXG)
endif
set x2=x1+d
set y2=y1+d
set OXG=CreateUnit(GetOwningPlayer(C17),ID,x2,y2,0)
call SetUnitPosition(OXG,x2,y2)
call O1G(OXG,US7,2,P7G)
set x2=x1
set y2=y1+d
set OXG=CreateUnit(GetOwningPlayer(C17),ID,x2,y2,0)
call SetUnitPosition(OXG,x2,y2)
call O1G(OXG,US7,3,P7G)
if AK7(GetOwningPlayer(C17))then
call TJ7(GetHandleId(C17),"AI|Cog2",OXG)
endif
set x2=x1-d
set y2=y1+d
set OXG=CreateUnit(GetOwningPlayer(C17),ID,x2,y2,0)
call SetUnitPosition(OXG,x2,y2)
call O1G(OXG,US7,4,P7G)
set x2=x1-d
set y2=y1
set OXG=CreateUnit(GetOwningPlayer(C17),ID,x2,y2,0)
call SetUnitPosition(OXG,x2,y2)
call O1G(OXG,US7,5,P7G)
if AK7(GetOwningPlayer(C17))then
call TJ7(GetHandleId(C17),"AI|Cog3",OXG)
endif
set x2=x1-d
set y2=y1-d
set OXG=CreateUnit(GetOwningPlayer(C17),ID,x2,y2,0)
call SetUnitPosition(OXG,x2,y2)
call O1G(OXG,US7,6,P7G)
set x2=x1
set y2=y1-d
set OXG=CreateUnit(GetOwningPlayer(C17),ID,x2,y2,0)
call SetUnitPosition(OXG,x2,y2)
call O1G(OXG,US7,7,P7G)
if AK7(GetOwningPlayer(C17))then
call TJ7(GetHandleId(C17),"AI|Cog4",OXG)
endif
set x2=x1+d
set y2=y1-d
set OXG=CreateUnit(GetOwningPlayer(C17),ID,x2,y2,0)
call SetUnitPosition(OXG,x2,y2)
call O1G(OXG,US7,8,P7G)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function O5G))
call TG7(US7,"Duration",Hk*1.0)
call TG7(US7,"x",x1*1.0)
call TG7(US7,"y",y1*1.0)
call TG7(US7,"d",d*1.0)
call TJ7(US7,"Hero",C17)
call TF7(US7,"Level",BY7)
call TQ7(US7,"Enemy",P7G)
set d=d+110
set g=LD7()
set P4G=Rect(x1-d,y1-d,x1+d,y1+d)
set IN4=C17
call GroupEnumUnitsInRect(g,P4G,Condition(function G68))
call ForGroup(g,function O2G)
call L97(g)
set t=null
set g=null
set C17=null
set OXG=null
set P4G=null
set P7G=null
return false
endfunction
function P8G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit C17=GetTriggerUnit()
set EZ7="P8G"
call TriggerRegisterTimerEvent(t,0.1,false)
call TriggerAddCondition(t,Condition(function O_G))
call TJ7(US7,"Hero",C17)
set t=null
set C17=null
endfunction
function P9G takes nothing returns boolean
if GetSpellAbilityId()==1093687861 then
call P8G()
endif
return false
endfunction
function TV8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TV8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function P9G))
set t=null
endfunction
function PDG takes nothing returns nothing
if RM7(GetEnumUnit())==false then
call HY8(IN4,GetEnumUnit(),ZG4,IJ4)
endif
endfunction
function PEG takes unit PFG,real x,real y returns nothing
local real x1
local real y1
local group g=LD7()
local integer PGG=GetUnitAbilityLevel(PFG,1093687862)
local real PHG=40+40*PGG
set EZ7="rYe"
set IN4=PFG
set IJ4=PHG
call GroupEnumUnitsInRange(g,x,y,600,Condition(function G78))
call ForGroup(g,function PDG)
call L97(g)
set x1=x
set y1=y
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
set x1=x+200
set y1=y+200
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
set x1=x+200
set y1=y-200
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
set x1=x-200
set y1=y+200
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
set x1=x-200
set y1=y-200
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
call EV8(GetOwningPlayer(PFG),10,x,y,600)
set g=null
endfunction
function PIG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit hn
local unit PJG=T37(US7,"Projectile")
local real PKG=UD7(US7,"TargetX")
local real PMG=UD7(US7,"TargetY")
local real PNG=UD7(US7,"Angle")
local real POG=UD7(US7,"SourceX")
local real PPG=UD7(US7,"SourceY")
local real PQG=DT8(POG+30*Cos(PNG))
local real PRG=DU8(PPG+30*Sin(PNG))
set EZ7="PIG"
call SetUnitX(PJG,PQG)
call SetUnitY(PJG,PRG)
call TG7(US7,"SourceX",PQG)
call TG7(US7,"SourceY",PRG)
if Q07(PKG,PMG,PQG,PRG)<=35 then
call KillUnit(PJG)
set hn=T37(US7,"Hero")
call PEG(hn,PQG,PRG)
call T97(US7)
call UQ7(t)
endif
set t=null
set hn=null
set PJG=null
return false
endfunction
function PSG takes nothing returns nothing
local unit hn=GetTriggerUnit()
local real POG=DT8(GetUnitX(hn))
local real PPG=DU8(GetUnitY(hn))
local location PTG=GetSpellTargetLoc()
local real PKG=DT8(GetLocationX(PTG))
local real PMG=DU8(GetLocationY(PTG))
local real PNG=Atan2(PMG-PPG,PKG-POG)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit PJG=CreateUnit(GetOwningPlayer(hn),1747989337,POG,PPG,PNG*bj_RADTODEG)
set EZ7="PSG"
call RemoveLocation(PTG)
call SetUnitFacing(PJG,PNG*bj_RADTODEG)
call SetUnitPathing(PJG,false)
call L67(PJG,1097625443)
call ShowUnit(PJG,false)
call UnitRemoveAbility(PJG,1097625443)
call ShowUnit(PJG,true)
call TG7(US7,"OriginalX",POG)
call TG7(US7,"OriginalY",PPG)
call TG7(US7,"SourceX",POG)
call TG7(US7,"SourceY",PPG)
call TG7(US7,"TargetX",PKG)
call TG7(US7,"TargetY",PMG)
call TG7(US7,"Angle",PNG)
call TJ7(US7,"Hero",hn)
call TJ7(US7,"Projectile",PJG)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function PIG))
set hn=null
set PTG=null
set t=null
set PJG=null
endfunction
function PUG takes nothing returns boolean
if GetSpellAbilityId()==1093687862 then
call PSG()
endif
return false
endfunction
function TW8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TW8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PUG))
set t=null
endfunction
function PVG takes unit p5,unit m5 returns nothing
local unit HV8=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
local integer BY7=GetUnitAbilityLevel(p5,1093687864)
set EZ7="ixe"
if BY7==0 then
set BY7=GetUnitAbilityLevel(p5,1093747542)
endif
call L67(HV8,1093687865)
call SetUnitAbilityLevel(HV8,1093687865,BY7)
call IssueTargetOrder(HV8,"thunderbolt",m5)
set HV8=null
endfunction
function PWG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call PVG(IN4,GetEnumUnit())
endif
endfunction
function PXG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local unit m5=T37(US7,"Target")
local integer PYG=U97(US7,"MaxLinks")
local integer BX8=GetTriggerEvalCount(t)
local unit PZG
local group PAG=T57(US7,"AlreadyAdded")
local group g
local real PBG=200
set EZ7="PXG"
if m5==null then
set PZG=T37(US7,"PCG"+I2S(PYG+1-BX8))
call RemoveUnit(PZG)
else
set PZG=T37(US7,"PCG"+I2S(BX8))
call SetUnitX(C17,GetUnitX(PZG))
call SetUnitY(C17,GetUnitY(PZG))
call RemoveUnit(PZG)
if BX8==PYG then
set PBG=225
endif
set g=LD7()
set IN4=C17
set IQ4=PAG
call GroupEnumUnitsInRange(g,GetUnitX(C17),GetUnitY(C17),PBG,Condition(function G78))
call ForGroup(g,function PWG)
call L97(g)
endif
if BX8==PYG then
if m5!=null then
call PauseUnit(m5,false)
endif
call ER8(GetUnitX(C17),GetUnitY(C17),100)
call L97(PAG)
call T97(US7)
call UQ7(t)
endif
set t=null
set C17=null
set m5=null
set PZG=null
set PAG=null
set g=null
return false
endfunction
function P3G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local real l4=UD7(US7,"Angle")
local integer VAD=U97(US7,"MaxCount")
local integer BX8=GetTriggerEvalCount(t)
local real x=GetUnitX(C17)+BX8*50*Cos(l4*bj_DEGTORAD)
local real y=GetUnitY(C17)+BX8*50*Sin(l4*bj_DEGTORAD)
local boolean MVD=UE7(US7,"Scepter")
local unit P6G
local trigger PLG=T07(US7,"Retract")
local integer NFE=GetHandleId(PLG)
local group g=LD7()
local unit m5
local integer ID=1966092374
local real PBG=125
set EZ7="P3G"
if BX8==1 then
set PBG=100
endif
set IN4=C17
call GroupEnumUnitsInRange(g,x,y,PBG,Condition(function GO8))
call GroupRemoveUnit(g,C17)
set m5=GroupPickRandomUnit(g)
call L97(g)
if m5!=null or BX8==VAD or BX8==(VAD-1)or BX8==(VAD-2)then
set ID=1966092373
endif
set P6G=CreateUnit(GetOwningPlayer(C17),ID,x,y,l4)
call TJ7(NFE,"PCG"+I2S(BX8),P6G)
if m5!=null then
if(IsUnitAlly(m5,GetOwningPlayer(C17))==true and MVD==false)or GetOwningPlayer(m5)==B7 or UJ7(m5,"Frozen")==true then
set m5=null
endif
call T97(US7)
call UQ7(t)
if m5!=null and IsUnitAlly(m5,GetOwningPlayer(C17))==false then
call PauseUnit(m5,true)
endif
call TriggerRegisterTimerEvent(PLG,0.5/ VAD,true)
call TriggerAddCondition(PLG,Condition(function PXG))
call TF7(NFE,"MaxLinks",BX8)
call TJ7(NFE,"Target",m5)
call TJ7(NFE,"Hero",C17)
call TS7(NFE,"AlreadyAdded",LD7())
elseif BX8>VAD then
set m5=null
call T97(US7)
call UQ7(t)
call TriggerRegisterTimerEvent(PLG,0.5/ VAD,true)
call TriggerAddCondition(PLG,Condition(function PXG))
call TF7(NFE,"MaxLinks",BX8)
call TJ7(NFE,"Target",m5)
call TJ7(NFE,"Hero",C17)
call TS7(NFE,"AlreadyAdded",LD7())
endif
set t=null
set C17=null
set P6G=null
set PLG=null
set g=null
set m5=null
return false
endfunction
function PCG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit C17=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real l4=Q87(GetUnitX(C17),GetUnitY(C17),GetLocationX(l),GetLocationY(l))
local integer BY7=GetUnitAbilityLevel(C17,1093687864)
local integer P1G
local integer VAD
local boolean MVD=true
set EZ7="PCG"
if BY7==0 then
set BY7=GetUnitAbilityLevel(C17,1093747542)
set MVD=true
endif
set P1G=1500+500*BY7
set VAD=P1G/ 50
call TJ7(US7,"Hero",C17)
call TF7(US7,"Level",BY7)
call TG7(US7,"Angle",l4*1.0)
call TF7(US7,"MaxCount",VAD)
call TM7(US7,"Retract",CreateTrigger())
call TI7(US7,"Scepter",MVD)
call TriggerRegisterTimerEvent(t,0.5/ VAD,true)
call TriggerAddCondition(t,Condition(function P3G))
call RemoveLocation(l)
set t=null
set C17=null
set l=null
endfunction
function P0G takes nothing returns boolean
if GetSpellAbilityId()==1093687864 or GetSpellAbilityId()==1093747542 then
call PCG()
endif
return false
endfunction
function TX8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TX8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function P0G))
set t=null
endfunction
function P5G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local real CV9
set EZ7="P5G"
if HW8==1 then
set CV9=15
elseif HW8==2 then
set CV9=30
elseif HW8==3 then
set CV9=40
elseif HW8==4 then
set CV9=50
endif
if GetTriggerEvalCount(t)==3 or GetTriggerEvalCount(t)==4 then
call HY8(FJ8,PU7,ZG4,CV9)
endif
if GetTriggerEvalCount(t)==4 then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call UnitRemoveAbility(PU7,1093752403)
call UnitRemoveAbility(PU7,1110459470)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function P2G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=GetUnitAbilityLevel(FJ8,1095267426)
set EZ7="P2G"
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetEventDamageSource()==FJ8 and GetEventDamage()==0 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function P5G))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",PU7,"chest")))
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093752403,false)
call L67(PU7,1093752403)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function P_G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local real d=Q17(FJ8,PU7)
set EZ7="P_G"
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,6,false)
call TriggerAddCondition(t,Condition(function P2G))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
set t=null
set FJ8=null
set PU7=null
endfunction
function Q4G takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl",GetTriggerUnit(),"weapon"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl",GetTriggerUnit(),"hand"))
endfunction
function Q7G takes nothing returns boolean
if GetSpellAbilityId()==1095267426 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call Q4G()
elseif L87(GetSpellTargetUnit())==false then
call P_G()
endif
endif
return false
endfunction
function TB8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TB8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Q7G))
set t=null
endfunction
function Q8G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(FJ8),GetUnitY(FJ8),0)
set EZ7="Q8G"
call UnitAddAbility(HV8,1093809972)
call IssueImmediateOrder(HV8,"thunderclap")
call SelectUnitForPlayerSingle(FJ8,GetOwningPlayer(FJ8))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set FJ8=null
set HV8=null
return false
endfunction
function Q9G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093677401)
local real HT8=360-100*HW8
if HW8==3 then
set HT8=50
endif
if TimerGetRemaining(N84[GetPlayerId(GetOwningPlayer(FJ8))])==0 and GetUnitState(FJ8,UNIT_STATE_MANA)>=140 then
call TimerStart(N84[GetPlayerId(GetOwningPlayer(FJ8))],HT8,false,null)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,3+0.01,false)
call TriggerAddCondition(t,Condition(function Q8G))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
endif
set t=null
set FJ8=null
return false
endfunction
function QDG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
set EZ7="QDG"
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerAddCondition(t,Condition(function Q9G))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=null
set FJ8=null
endfunction
function QEG takes nothing returns boolean
if GetLearnedSkill()==1093677401 and GetUnitAbilityLevel(GetTriggerUnit(),1093677401)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call QDG()
endif
return false
endfunction
function TC8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TC8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function QEG))
set t=null
endfunction
function QFG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
set EZ7="QFG"
call T97(US7)
call UQ7(t)
call H68(p5,0)
set t=null
set p5=null
return false
endfunction
function QGG takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==GetUnitTypeId(BB)and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(BB)and IsUnitIllusion(GetFilterUnit())==true then
call SetUnitX(GetFilterUnit(),OB)
call SetUnitY(GetFilterUnit(),AB)
call IssueTargetOrder(GetFilterUnit(),"attack",cB)
endif
return false
endfunction
function QHG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real t5=GetUnitX(p5)
local real w5=GetUnitY(p5)
local real Y5=GetUnitX(m5)
local real Z5=GetUnitY(m5)
local real l4=Q87(t5,w5,Y5,Z5)
local real HZE=Q07(t5,w5,Y5,Z5)
local real d=GetRandomReal(HZE*0.3,HZE*0.8)
local integer BY7=GetUnitAbilityLevel(p5,1093685847)
local real ZHE=t5+d*Cos(l4*bj_DEGTORAD)
local real ZIE=w5+d*Sin(l4*bj_DEGTORAD)
local unit u=CreateUnit(GetOwningPlayer(p5),EB,ZHE,ZIE,0)
local unit u2
local group g
local trigger t
local integer US7
set EZ7="QHG"
call SetUnitX(p5,ZHE)
call SetUnitY(p5,ZIE)
call SetUnitFacing(p5,-l4)
call PlaySoundOnUnitBJ(zE,100,m5)
if IsUnitEnemy(m5,GetOwningPlayer(p5))and GetUnitTypeId(m5)!=1848651852 then
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1.2,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function QFG))
call TJ7(US7,"Source",p5)
set t=null
call H68(p5,25*BY7)
set ZHE=t5+(d-25)*Cos(l4*bj_DEGTORAD)
set ZIE=w5+(d-25)*Sin(l4*bj_DEGTORAD)
call UU7(m5,"4405",1)
call SetUnitX(m5,ZHE)
call SetUnitY(m5,ZIE)
call SetUnitFacing(m5,l4)
call IssueTargetOrder(p5,"attack",m5)
set g=LD7()
set OB=ZHE
set AB=ZIE
set BB=p5
set cB=m5
call GroupEnumUnitsInRange(g,t5,w5,1400,Condition(function QGG))
call L97(g)
set u2=CreateUnit(GetOwningPlayer(p5),EB,ZHE,ZIE,0)
call KillUnit(u2)
endif
call KillUnit(u)
set p5=null
set m5=null
set u=null
set u2=null
set g=null
endfunction
function QIG takes nothing returns boolean
if GetSpellAbilityId()==1093685847 then
call QHG()
endif
return false
endfunction
function QJG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local unit u=CreateUnit(GetOwningPlayer(C17),EB,GetUnitX(C17),GetUnitY(C17),0)
set EZ7="QJG"
call PlaySoundOnUnitBJ(zE,100,C17)
call KillUnit(u)
call T97(US7)
call UQ7(t)
set u=null
set t=null
set C17=null
return false
endfunction
function QKG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="QKG"
call TriggerAddCondition(t,Condition(function QJG))
call TriggerRegisterTimerEvent(t,0.3,false)
call TJ7(US7,"Hero",GetTriggerUnit())
set t=null
endfunction
function QMG takes nothing returns boolean
if GetSpellAbilityId()==1093685847 then
call QKG()
endif
return false
endfunction
function PF8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="PF8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QIG))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function QMG))
set t=null
endfunction
function QNG takes nothing returns boolean
return GetSpellAbilityId()==1093678645
endfunction
function QOG takes nothing returns nothing
local integer T8=0
local integer U8=5
local integer array QPG
local player array QQG
local integer EY9
local item Z4
set EZ7="QOG"
set QPG[0]=0
set QPG[1]=0
set QPG[2]=0
set QPG[3]=0
set QPG[4]=0
set QPG[5]=0
call DisableTrigger(H94)
loop
exitwhen T8>U8
set EY9=RP7(UnitItemInSlot(GetTriggerUnit(),T8))
if EY9==D0 or EY9==E0 or EY9==J0 or EY9==N0 or EY9==O0 or EY9==R0 or EY9==J1 or EY9==R5 or EY9==S5 or EY9==T5 or EY9==S6 or EY9==D44 or EY9==DD4 or EY9==F74 then
set QPG[T8]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),T8))
set QQG[T8]=GetItemPlayer(UnitItemInSlot(GetTriggerUnit(),T8))
call RemoveItem(UnitItemInSlot(GetTriggerUnit(),T8))
endif
set T8=T8+1
endloop
call UnitResetCooldown(GetTriggerUnit())
set T8=0
set U8=5
loop
exitwhen T8>U8
if QPG[T8]>0 then
set Z4=CreateItem(QPG[T8],0,0)
call SetItemPlayer(Z4,QQG[T8],false)
call SetItemUserData(Z4,1)
call UnitAddItem(GetTriggerUnit(),Z4)
endif
set T8=T8+1
endloop
call EnableTrigger(H94)
set Z4=null
endfunction
function OH8 takes nothing returns nothing
set XJ=CreateTrigger()
call EO8(XJ,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(XJ,Condition(function QNG))
call TriggerAddAction(XJ,function QOG)
endfunction
function QRG takes nothing returns nothing
call HY8(Y34,GetEnumUnit(),ZG4,(60.0+20.0*Y64)*0.25)
endfunction
function QSG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer L48=GetTriggerEvalCount(t)
local group g
set EZ7="QSG"
if L48==20 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set IN4=FJ8
set Y34=FJ8
set Y64=GetUnitAbilityLevel(FJ8,1093678407)
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),275,Condition(function G78))
call ForGroup(g,function QRG)
call L97(g)
set g=null
endif
set t=null
set FJ8=null
return false
endfunction
function QTG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="QTG"
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function QSG))
call SaveUnitHandle(L7,(PP7),(2),(GetTriggerUnit()))
call TriggerEvaluate(t)
call UU7(GetTriggerUnit(),"BladeFury|Active",5)
endfunction
function QUG takes nothing returns boolean
if GetSpellAbilityId()==1093678407 then
call QTG()
endif
return false
endfunction
function ND8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="ND8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QUG))
set t=null
endfunction
function QVG takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
local integer i1
local unit it=null
local item RQ7=null
local integer i
local boolean J4=false
local player p=null
if(not QY4[O5])or(GetItemTypeId(GetManipulatedItem())==1227895373)or(not IsTriggerEnabled(H94))or(GetUnitTypeId(GetTriggerUnit())==1697656901)then
return
elseif(GetItemType(GetManipulatedItem())==ITEM_TYPE_POWERUP)then
call J3(it,false)
return
endif
set RQ7=GetManipulatedItem()
set p=GetItemPlayer(RQ7)
if(p==Player(15))then
set p=M47
endif
if(p!=Player(O5))or(RQ7==K07[336+O5])then
set it=GetTriggerUnit()
set i1=RO7(RQ7)
if(IsUnitType(it,UNIT_TYPE_HERO)and(GetUnitTypeId(it)!=1211117642))then
set bj_lastCreatedItem=null
if K57[288+O5]==0 and(Bz>K57[160+O5])and((EYF(i1)or EZF(i1))and((not IsItemPowerup(RQ7))or(not SH7(it))or(SG7(it,ZU[QW]))))then
set K57[288+O5]=i1
if bj_lastCreatedItem!=null and IsItemPowerup(RQ7)then
set J4=true
endif
endif
if(i1==K57[288+O5]or i1==X0 or i1==B5 or i1==C5)then
set K57[288+O5]=i1
if IsItemPowerup(RQ7)and SH7(it)and(FZF(O5,it)!=-1 or FAF(O5,it))then
set J4=(i1!=RO7(bj_lastCreatedItem))
endif
endif
if J4 then
set eY[512+O5]=0
set K_7[304+O5]=true
call UnitRemoveItem(it,bj_lastCreatedItem)
call SetItemPosition(bj_lastCreatedItem,GetUnitX(it),GetUnitY(it))
loop
exitwhen eY[512+O5]!=0
call TriggerSleepAction(0.1)
endloop
set K07[320+O5]=K07[288+O5]
call J3(it,false)
call OCF(it)
endif
endif
if(not IsItemPowerup(RQ7))then
if i1==K57[288+O5]then
call QA7(1.)
set K57[288+O5]=0
else
if PK4 and GetItemType(RQ7)==ITEM_TYPE_PERMANENT and GetItemTypeId(RQ7)==ZU[i1]then
else
set K_7[304+O5]=true
call UnitDropItemPoint(it,RQ7,GetUnitX(it),GetUnitY(it))
endif
endif
endif
set it=null
endif
set RQ7=null
set p=null
endfunction
function DisplayOrder takes nothing returns nothing
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10,I2S(GetIssuedOrderId())+": "+OrderId2String(GetIssuedOrderId()))
endfunction
function QWG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer iX=GetTriggerEvalCount(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local integer BY7=U97(US7,"Level")
local real QXG
local unit QYG
set EZ7="QWG"
set QXG=0.6*(iX-25)*(iX-25)
if iX<51 then
if ModuloInteger(iX,5)==0 then
call HY8(p5,m5,ZG4,3+3*BY7)
endif
if S3D(m5)==false then
call SetUnitFlyHeight(m5,500-QXG,0)
endif
else
set QYG=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call L67(QYG,1093742924)
call SetUnitAbilityLevel(QYG,1093742924,BY7)
call IssueTargetOrder(QYG,"slow",m5)
if S3D(m5)==false then
call SetUnitFlyHeight(m5,GetUnitDefaultFlyHeight(m5),0)
endif
if D9==false then
call PauseUnit(m5,false)
endif
call SetUnitPathing(m5,true)
call T97(US7)
call UQ7(t)
endif
set t=null
set p5=null
set m5=null
set QYG=null
return false
endfunction
function QZG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=IN4
local unit m5=GetEnumUnit()
local integer BY7=IH4
set EZ7="QZG"
call PauseUnit(m5,true)
call SetUnitPathing(m5,false)
if S3D(m5)==false then
call L67(m5,1097691750)
call UnitRemoveAbility(m5,1097691750)
endif
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function QWG))
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TF7(US7,"Level",BY7)
call HY8(p5,m5,ZG4,30+30*BY7)
set t=null
set p5=null
set m5=null
endfunction
function QAG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
local integer BY7=U97(US7,"Level")
local group g=LD7()
local ubersplat T39=CreateUbersplat(x,y,"THNN",255,255,255,255,false,false)
set EZ7="QAG"
call SetUbersplatRenderAlways(T39,true)
call EV8(GetOwningPlayer(C17),4,x,y,400)
call DestroyEffect(T27(US7,"FX1"))
call DestroyEffect(T27(US7,"FX2"))
call DestroyEffect(T27(US7,"FX3"))
call DestroyEffect(T27(US7,"FX4"))
call DestroyEffect(T27(US7,"FX5"))
call DestroyEffect(T27(US7,"FX6"))
call T97(US7)
call UQ7(t)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",x,y))
call DestroyEffect(AddSpecialEffect("effects\\TidalErruption.mdx",x,y))
set IN4=C17
set IH4=BY7
call GroupEnumUnitsInRange(g,x,y,215+25,Condition(function GK8))
call ForGroup(g,function QZG)
call L97(g)
set t=null
set C17=null
return false
endfunction
function QBG takes nothing returns nothing
local unit C17=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(C17,1093743414)
local string s=""
local real a
set EZ7="QBG"
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(C17))==true or C67(GetLocalPlayer())then
set s="Objects\\Spawnmodels\\Other\\IllidanFootprint\\IllidanWaterSpawnFootPrint.mdl"
endif
call RemoveLocation(l)
call TF7(US7,"Level",BY7)
call TJ7(US7,"Hero",C17)
call TG7(US7,"x",x)
call TG7(US7,"y",y)
call TF7(US7,"Level",BY7)
set a=0
call TK7(US7,"FX1",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
set a=1
call TK7(US7,"FX2",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
set a=2
call TK7(US7,"FX3",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
set a=3
call TK7(US7,"FX4",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
set a=4
call TK7(US7,"FX5",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
set a=5
call TK7(US7,"FX6",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
call TriggerRegisterTimerEvent(t,1.6,false)
call TriggerAddCondition(t,Condition(function QAG))
set C17=null
set t=null
set l=null
endfunction
function QCG takes nothing returns boolean
if GetSpellAbilityId()==1093743414 then
call QBG()
endif
return false
endfunction
function T38 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="T38"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QCG))
set t=null
endfunction
function SV9 takes nothing returns nothing
call SetPlayerAbilityAvailable(GetOwningPlayer(B2),1093743671,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(B2),1093743672,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(B2),1093742933,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(B2),1093743673,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C2),1093743671,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C2),1093743672,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C2),1093742933,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C2),1093743673,false)
endfunction
function Q3G takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer AW7=GetHandleId(t)
local unit LI7=T37(AW7,"Hero")
local real Q6G=RF7()
local integer HW8=GetUnitAbilityLevel(LI7,1093743444)
local real QLG=UD7(GetHandleId(LI7),"WaterSword|LastUsed")
local boolean Q1G=UE7(GetHandleId(LI7),"WaterSword|Active")
set EZ7="Q3G"
if Q6G-QLG>16-HW8*3 and Q1G==false and GetUnitTypeId(LI7)==1211119187 and L17(LI7)==false then
call TI7(GetHandleId(LI7),"WaterSword|Active",true)
call UnitAddAbility(LI7,1093742927)
call SetUnitAbilityLevel(LI7,1093742927,HW8)
call UnitAddAbility(LI7,1093742930)
if HW8==1 then
call L67(LI7,1093743671)
elseif HW8==2 then
call L67(LI7,1093743672)
elseif HW8==3 then
call L67(LI7,1093742933)
elseif HW8==4 then
call L67(LI7,1093743673)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(LI7),1093743671,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(LI7),1093743672,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(LI7),1093742933,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(LI7),1093743673,false)
elseif Q1G==false then
call UnitRemoveAbility(LI7,1093742927)
call UnitRemoveAbility(LI7,1093742930)
call UnitRemoveAbility(LI7,1093743671)
call UnitRemoveAbility(LI7,1093743672)
call UnitRemoveAbility(LI7,1093742933)
call UnitRemoveAbility(LI7,1093743673)
endif
set t=null
set LI7=null
endfunction
function Q0G takes nothing returns boolean
local unit LI7=GetTriggerUnit()
set EZ7="Q0G"
call TI7(GetHandleId(LI7),"WaterSword|Active",false)
call TG7(GetHandleId(LI7),"WaterSword|LastUsed",RF7())
call UnitRemoveAbility(LI7,1093742927)
call UnitRemoveAbility(LI7,1093742930)
call UnitRemoveAbility(LI7,1093743671)
call UnitRemoveAbility(LI7,1093743672)
call UnitRemoveAbility(LI7,1093742933)
call UnitRemoveAbility(LI7,1093743673)
set LI7=null
return false
endfunction
function Q5G takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer AW7=GetHandleId(t)
set EZ7="Q5G"
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddAction(t,function Q3G)
call TJ7(AW7,"Hero",LI7)
call TG7(AW7,"WaterSword|LastUsed",0.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,LI7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Q0G))
set LI7=null
set t=null
endfunction
function Q2G takes nothing returns boolean
if GetLearnedSkill()==1093743444 and GetUnitAbilityLevel(GetTriggerUnit(),1093743444)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call Q5G()
endif
return false
endfunction
function Q_G takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),1093743444)>0
endfunction
function R4G takes nothing returns nothing
local unit LI7=GetEventDamageSource()
set EZ7="R4G"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetUnitAbilityLevel(LI7,1093743444)>0 and IsPlayerEnemy(GetOwningPlayer(LI7),GetOwningPlayer(GetTriggerUnit()))then
if UE7(GetHandleId(LI7),"WaterSword|Active")==true then
call TI7(GetHandleId(LI7),"WaterSword|Active",false)
call TG7(GetHandleId(LI7),"WaterSword|LastUsed",RF7())
call UnitRemoveAbility(LI7,1093742927)
call UnitRemoveAbility(LI7,1093742930)
call UnitRemoveAbility(LI7,1093743671)
call UnitRemoveAbility(LI7,1093743672)
call UnitRemoveAbility(LI7,1093742933)
call UnitRemoveAbility(LI7,1093743673)
call CI7(GetTriggeringTrigger())
endif
endif
else
call CI7(GetTriggeringTrigger())
endif
set LI7=null
endfunction
function R7G takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="R7G"
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddAction(t,function R4G)
set t=null
endfunction
function T68 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="T68"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function Q2G))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function Q_G))
call TriggerAddAction(t,function R7G)
set t=null
endfunction
function R8G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local image i=U87(US7,"i")
local real x=UD7(US7,"x")
local real y=UD7(US7,"y")
local unit FJ8=T37(US7,"Source")
set EZ7="R8G"
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093743428)then
if GetTriggerEventId()!=EVENT_UNIT_DEATH and C37(m5)==false then
call SetUnitPosition(m5,x,y)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093743428,false)
if(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==1093742926 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093742926,true)
endif
call TI7(GetHandleId(m5),"XMarked",false)
call DestroyEffect(T27(US7,"FX"))
call ShowImage(i,false)
call DestroyImage(i)
call T97(US7)
call UQ7(t)
endif
set t=null
set m5=null
set i=null
set FJ8=null
return false
endfunction
function R9G takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local real RDG=90
local image i=CreateImage("Fonts\\X.blp",RDG,RDG,0,x-RDG/ 2,y-RDG/ 2,0,0,0,0,2)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local string fx=""
local integer BY7=GetUnitAbilityLevel(p5,1093742926)
set EZ7="R9G"
call UU7(m5,"4401",5)
call L67(p5,1093743428)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093743428,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093742926,false)
call SetImageRenderAlways(i,true)
if IsUnitAlly(p5,GetOwningPlayer(m5))==false or IsUnitAlly(m5,GetLocalPlayer())==true or C67(GetLocalPlayer())then
set fx="effects\\BlackTide.mdx"
call ShowImage(i,true)
else
call ShowImage(i,false)
endif
call SetImageColor(i,255,0,0,255)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(p5),1865429063,x,y,0),1112820806,5)
call TriggerRegisterTimerEvent(t,BY7,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function R8G))
call TI7(GetHandleId(m5),"XMarked",true)
call TZ7(US7,"i",i)
call TJ7(US7,"Target",m5)
call TG7(US7,"x",x)
call TG7(US7,"y",y)
call TK7(US7,"FX",AddSpecialEffectTarget(fx,m5,"overhead"))
call TJ7(US7,"Source",p5)
call TG7(GetHandleId(m5),"AI|XMark|X",x)
call TG7(GetHandleId(m5),"AI|XMark|Y",y)
set p5=null
set m5=null
set i=null
set t=null
endfunction
function REG takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093742926 and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or L87(GetSpellTargetUnit())==false)then
call R9G()
endif
else
if GetLearnedSkill()==1093742926 then
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093743428,false)
call L67(GetTriggerUnit(),1093743428)
endif
endif
return false
endfunction
function RFG takes nothing returns boolean
if GetSpellAbilityId()==1093742926 then
if UE7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),CF7(1848652600))
endif
endif
return false
endfunction
function TL8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="TL8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function REG))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function RFG))
set t=null
endfunction
function RGG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local integer RHG=1
local player p
local real d
local unit m5=T37(US7,"Target")
local integer RIG=U97(US7,"MaxIndex")
local unit QYG
local integer Hk=U97(US7,"Duration")
set EZ7="RGG"
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>Hk then
call T97(US7)
call UQ7(t)
else
loop
exitwhen RHG>RIG
set p=TL7(US7,"Player|"+I2S(RHG))
set d=UD7(US7,"Damage|"+I2S(RHG))
if p==null then
set RHG=RIG
else
set QYG=CreateUnit(p,1697656901,0,0,0)
call SetUnitState(m5,UNIT_STATE_LIFE,D28(1,GetUnitState(m5,UNIT_STATE_LIFE)-d/ Hk))
endif
set RHG=RHG+1
endloop
endif
set t=null
set p=null
set m5=null
set QYG=null
return false
endfunction
function RJG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local player p=TL7(US7,"p")
local trigger RKG=T07(US7,"Phase2")
local integer RHG=GetTriggerEvalCount(t)
set EZ7="RJG"
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call T97(US7)
call UQ7(t)
call TriggerRegisterTimerEvent(RKG,1,true)
call TriggerAddCondition(RKG,Condition(function RGG))
call UnitRemoveAbility(m5,1110456661)
else
set US7=GetHandleId(RKG)
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+0.5*GetEventDamage())
call TQ7(US7,"Player|"+I2S(RHG),GetOwningPlayer(GetEventDamageSource()))
call TG7(US7,"Damage|"+I2S(RHG),0.5*GetEventDamage())
call TF7(US7,"MaxIndex",RHG)
endif
set t=null
set m5=null
set p=null
set RKG=null
return false
endfunction
function RMG takes nothing returns nothing
local unit p5=FT
local unit m5=GetEnumUnit()
local integer BY7=IT
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer Hk=8
local trigger RKG=CreateTrigger()
set EZ7="RMG"
call FR8(m5,1093743158,1,Hk)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093743158,false)
call TriggerRegisterTimerEvent(t,Hk+0.01,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function RJG))
call TQ7(US7,"p",GetOwningPlayer(p5))
call TJ7(US7,"Target",m5)
call TM7(US7,"Phase2",RKG)
call TJ7(GetHandleId(RKG),"Target",m5)
call TF7(GetHandleId(RKG),"Duration",Hk)
set p5=null
set m5=null
set t=null
set RKG=null
endfunction
function RNG takes nothing returns boolean
if(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),gN)==false then
call GroupAddUnit(gN,GetFilterUnit())
return true
endif
return false
endfunction
function ROG takes nothing returns nothing
local unit p5=FT
local unit m5=GetEnumUnit()
local integer BY7=IT
call HU8(p5,m5,1.4)
call HY8(p5,m5,ZG4,200+100*BY7)
set p5=null
set m5=null
endfunction
function RPG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit IJ=T37(US7,"Projectile")
local unit RQG
local real RK=UD7(US7,"Angle")
local real iN=GetUnitX(IJ)
local real io=GetUnitY(IJ)
local real RRG=UD7(US7,"x2")
local real RSG=UD7(US7,"y2")
local integer iX=GetTriggerEvalCount(t)
local real RTG=DT8(RRG+13.33*iX*Cos(RK))
local real RUG=DU8(RSG+13.33*iX*Sin(RK))
local integer BY7=U97(US7,"Level")
local group RVG=T57(US7,"AlreadyHit")
local group g
set EZ7="RPG"
if iX<19 then
call SetUnitVertexColor(IJ,255,255,255,5+iX*10)
set RQG=T37(US7,"Projectile2")
call SetUnitVertexColor(RQG,255,255,255,5+iX*10)
elseif iX<125 then
call SetUnitVertexColor(IJ,255,255,255,190)
elseif iX<150 then
endif
set g=LD7()
set gN=RVG
set IN4=IJ
set FT=IJ
set IT=BY7
call GroupEnumUnitsInRange(g,GetUnitX(IJ),GetUnitY(IJ),425,Condition(function RNG))
call ForGroup(g,function RMG)
call L97(g)
call SetUnitX(IJ,RTG)
call SetUnitY(IJ,RUG)
if iX==140 then
set RQG=T37(US7,"Projectile2")
call KillUnit(RQG)
elseif iX<140 then
set RQG=T37(US7,"Projectile2")
call SetUnitX(RQG,RTG)
call SetUnitY(RQG,RUG)
endif
if iX==150 then
set g=LD7()
set IN4=IJ
call GroupEnumUnitsInRange(g,RTG,RUG,425+25,Condition(function G78))
call ForGroup(g,function ROG)
call L97(g)
call KillUnit(IJ)
call L97(RVG)
call T97(US7)
call UQ7(t)
endif
set t=null
set IJ=null
set RQG=null
set RVG=null
set g=null
return false
endfunction
function RWG takes nothing returns nothing
local unit C17=GetTriggerUnit()
local real iN=GetUnitX(C17)
local real io=GetUnitY(C17)
local location l=GetSpellTargetLoc()
local real QQD=GetLocationX(l)
local real QRD=GetLocationY(l)
local real RK
local real x1
local real y1
local real x2
local real y2
local trigger t
local integer US7
local integer BY7
local unit IJ
local unit RQG
local string s=""
local integer RXG=1747990101
if GetRandomInt(0,5)==0 then
set RXG=1747993674
endif
if IsPlayerAlly(GetOwningPlayer(C17),GetLocalPlayer())or C67(GetLocalPlayer())then
set s="war3mapImported\\Whirlpool.mdx"
endif
if QQD==GetUnitX(C17)and QRD==GetUnitY(C17)then
set QQD=QQD+50*Cos(GetUnitFacing(C17)*bj_DEGTORAD)
set QRD=QRD+50*Sin(GetUnitFacing(C17)*bj_DEGTORAD)
endif
set RK=Atan2(QRD-io,QQD-iN)
set x1=iN-1000*Cos(RK)
set y1=io-1000*Sin(RK)
set x2=iN+1000*Cos(RK)
set y2=io+1000*Sin(RK)
set t=CreateTrigger()
set US7=GetHandleId(t)
set BY7=GetUnitAbilityLevel(C17,1093742923)
set IJ=CreateUnit(GetOwningPlayer(C17),RXG,x1,y1,Atan2(QRD-io,QQD-iN)*bj_RADTODEG)
set RQG=CreateUnit(GetOwningPlayer(C17),1747990102,x1,y1,Atan2(QRD-io,QQD-iN)*bj_RADTODEG)
call SetUnitVertexColor(IJ,255,255,255,0)
call SetUnitPathing(IJ,false)
call RemoveLocation(l)
call TF7(US7,"Level",BY7)
call TG7(US7,"Angle",RK)
call TJ7(US7,"Projectile",IJ)
call TJ7(US7,"Projectile2",RQG)
call TG7(US7,"x2",x1)
call TG7(US7,"y2",y1)
call TS7(US7,"AlreadyHit",LD7())
call DestroyEffect(AddSpecialEffect(s,DT8(x2),DU8(y2)))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function RPG))
set C17=null
set t=null
set IJ=null
set RQG=null
set l=null
endfunction
function RYG takes nothing returns boolean
if GetSpellAbilityId()==1093742923 then
call RWG()
endif
return false
endfunction
function T18 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RYG))
call DX8(1093742924)
set t=null
endfunction
function RZG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
set EZ7="RZG"
if T_7(US7,"Light")!=null then
call DestroyLightning(T_7(US7,"Light"))
endif
call T97(US7)
call UQ7(t)
set t=null
return false
endfunction
function RAG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit HO8=T37(US7,"Projectile")
local unit m5=T37(US7,"Target")
local real RBG=UD7(US7,"OriginalAngle")
local real l4=Atan2(GetUnitY(m5)-GetUnitY(HO8),GetUnitX(m5)-GetUnitX(HO8))
local integer BY7=U97(US7,"Level")
local real x=GetUnitX(HO8)+50*Cos(l4)
local real y=GetUnitY(HO8)+50*Sin(l4)
local unit HV8
local destructable d
local lightning O8E
local unit GRG
local boolean FA9=UE7(US7,"Active")
set EZ7="RAG"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call T97(US7)
call UQ7(t)
call KillUnit(HO8)
else
call SetUnitX(HO8,x)
call SetUnitY(HO8,y)
call SetUnitFacing(HO8,l4*bj_RADTODEG)
if Q07(x,y,GetUnitX(m5),GetUnitY(m5))<45 then
set XK4=(LoadReal(L7,(US7),(6)))
set XM4=(LoadReal(L7,(US7),(7)))
call T97(US7)
call UQ7(t)
if GetUnitTypeId(m5)!=1848651852 and FA9 then
set HV8=HQ8(HO8,m5,RBG)
set d=HN8(HO8,m5,RBG)
if HV8!=null then
set t=CreateTrigger()
set US7=GetHandleId(t)
set GRG=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call L67(GRG,1093743177)
call SetUnitAbilityLevel(GRG,1093743177,BY7+1)
call IssueTargetOrder(GRG,"thunderbolt",m5)
set GRG=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(HV8),GetUnitY(HV8),0)
call L67(GRG,1093743177)
call SetUnitAbilityLevel(GRG,1093743177,BY7+1)
call IssueTargetOrder(GRG,"thunderbolt",HV8)
call TriggerRegisterTimerEvent(t,0.25+BY7*0.75,false)
call TriggerAddCondition(t,Condition(function RZG))
set O8E=AddLightning("MFPB",true,GetUnitX(m5),GetUnitY(m5),GetUnitX(HV8),GetUnitY(HV8))
call SetLightningColor(O8E,0.5,0.5,1,1)
call TN7(US7,"Light",O8E)
elseif d!=null then
set t=CreateTrigger()
set US7=GetHandleId(t)
set GRG=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call L67(GRG,1093743177)
call SetUnitAbilityLevel(GRG,1093743177,BY7+1)
call IssueTargetOrder(GRG,"thunderbolt",m5)
call TriggerRegisterTimerEvent(t,0.25+BY7*0.75,false)
call TriggerAddCondition(t,Condition(function RZG))
set O8E=AddLightning("MFPB",true,GetUnitX(m5),GetUnitY(m5),GetDestructableX(d),GetDestructableY(d))
call SetLightningColor(O8E,0.5,0.5,1,1)
call TN7(US7,"Light",O8E)
call SetDestructableAnimation(d,"stand hit")
else
set GRG=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call L67(GRG,1093743177)
call SetUnitAbilityLevel(GRG,1093743177,1)
call IssueTargetOrder(GRG,"thunderbolt",m5)
endif
endif
call KillUnit(HO8)
endif
endif
set t=null
set HO8=null
set m5=null
set O8E=null
set HV8=null
set d=null
set GRG=null
return false
endfunction
function RCG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real l4=Atan2(GetUnitY(m5)-GetUnitY(p5),GetUnitX(m5)-GetUnitX(p5))
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit HO8=CreateUnit(GetOwningPlayer(p5),1747990327,GetUnitX(p5),GetUnitY(p5),l4*bj_RADTODEG)
local integer BY7=GetUnitAbilityLevel(p5,1093743178)
local boolean FA9=L87(GetSpellTargetUnit())==false
set EZ7="RCG"
call TJ7(US7,"Projectile",HO8)
call TJ7(US7,"Target",m5)
call TF7(US7,"Level",BY7)
call TG7(US7,"OriginalAngle",(l4)*1.0)
call TI7(US7,"Active",FA9)
call SaveReal(L7,(US7),(6),((GetUnitX(p5))*1.0))
call SaveReal(L7,(US7),(7),((GetUnitY(p5))*1.0))
call TriggerRegisterTimerEvent(t,0.033,true)
call TriggerAddCondition(t,Condition(function RAG))
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
set p5=null
set m5=null
set t=null
endfunction
function R3G takes nothing returns boolean
if GetSpellAbilityId()==1093743178 then
call RCG()
endif
return false
endfunction
function T08 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="T08"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function R3G))
set t=null
endfunction
function R6G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local integer BY7=U97(US7,"Level")
local integer RLG=U97(US7,"BonusID")
set EZ7="R6G"
call DestroyEffect(AddSpecialEffect("effects\\Tornado.mdx",GetUnitX(p5),GetUnitY(p5)))
if GetTriggerEvalCount(t)>10*(2+0.75*BY7)or GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(p5,RLG)
call UnitRemoveAbility(p5,1110456663)
call DestroyEffect(T27(US7,"FX1"))
call DestroyEffect(T27(US7,"FX2"))
call T97(US7)
call UQ7(t)
endif
set t=null
set p5=null
return false
endfunction
function R1G takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(p5,1093743689)
local integer RLG
set EZ7="R1G"
if BY7==1 then
set RLG=1093743413
elseif BY7==2 then
set RLG=1093743183
elseif BY7==3 then
set RLG=1093743412
elseif BY7==4 then
set RLG=1093743417
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),RLG,false)
call FR8(p5,RLG,1,2+0.75*BY7)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function R6G))
call TJ7(US7,"Source",p5)
call TF7(US7,"Level",BY7)
call TF7(US7,"BonusID",RLG)
call TK7(US7,"FX1",AddSpecialEffectTarget("effects\\Tornado.mdx",p5,"hand,left"))
call TK7(US7,"FX2",AddSpecialEffectTarget("effects\\Tornado.mdx",p5,"hand,right"))
set p5=null
set t=null
endfunction
function R0G takes nothing returns boolean
if GetSpellAbilityId()==1093743689 then
call R1G()
endif
return false
endfunction
function T58 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="T58"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function R0G))
set t=null
endfunction
function R5G takes unit p5,unit m5,real D_8,integer R2G,integer R_G returns nothing
call HY8(p5,m5,ZG4,(D_8)*Pow(0.9,R2G)*Pow(0.99,R_G))
endfunction
function S4G takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),ZB)==false and GetUnitAbilityLevel(GetEnumUnit(),1113815395)==0 then
call R5G(vc,GetEnumUnit(),ec,ac,xc)
call GroupAddUnit(ZB,GetEnumUnit())
set ac=ac+1
endif
endfunction
function S7G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit IJ=T37(US7,"Projectile")
local real RRG=UD7(US7,"TargetX")
local real RSG=UD7(US7,"TargetY")
local real RK=UD7(US7,"Angle")
local real D_8=UD7(US7,"Damage")
local integer R_G=U97(US7,"TreeCount")
local integer R2G=U97(US7,"UnitCount")
local group RVG=T57(US7,"AlreadyHit")
local real x=DT8(GetUnitX(IJ)+(60*Pow(0.9,R2G)*Pow(0.99,R_G))*Cos(RK))
local real y=DU8(GetUnitY(IJ)+(60*Pow(0.9,R2G)*Pow(0.99,R_G))*Sin(RK))
local group g=LD7()
local real d
set EZ7="S7G"
if GetTriggerEvalCount(t)>2 then
set d=150
else
set d=75
endif
call DestroyEffect(AddSpecialEffect("effects\\Tornado.mdx",x,y))
set R_G=R_G+ER8(x,y,75)
call TF7(US7,"TreeCount",R_G)
set ZB=RVG
set vc=IJ
set ec=D_8
set xc=R_G
set ac=R2G
set IN4=IJ
call GroupEnumUnitsInRange(g,x,y,d,Condition(function G78))
call ForGroup(g,function S4G)
call L97(g)
call TF7(US7,"UnitCount",ac)
call SetUnitX(IJ,x)
call SetUnitY(IJ,y)
if GetTriggerEvalCount(t)>29 then
call KillUnit(IJ)
call L97(RVG)
call T97(US7)
call UQ7(t)
endif
set t=null
set IJ=null
set RVG=null
set g=null
return false
endfunction
function S8G takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x2=UD7(GetHandleId(p5),"ReverseLance|x")
local real y2=UD7(GetHandleId(p5),"ReverseLance|y")
local real S9G=D58(RF7()-UD7(GetHandleId(p5),"ReverseLance|Time"),1.0)
local real RK=Atan2(y2-GetUnitY(p5),x2-GetUnitX(p5))
local trigger t
local integer US7
local unit IJ
local integer BY7=GetUnitAbilityLevel(p5,1093743179)
local real D_8=(40+80*BY7)*(S9G)
set EZ7="S8G"
set t=CreateTrigger()
set US7=GetHandleId(t)
set IJ=CreateUnit(GetOwningPlayer(p5),1747990328,GetUnitX(p5),GetUnitY(p5),RK*bj_RADTODEG)
set x2=GetUnitX(p5)+1700*Cos(RK)
set y2=GetUnitY(p5)+1700*Sin(RK)
call TJ7(US7,"Projectile",IJ)
call TG7(US7,"TargetX",x2)
call TG7(US7,"TargetY",y2)
call TG7(US7,"Angle",RK)
call TG7(US7,"Damage",D_8)
call TF7(US7,"TreeCount",0)
call TF7(US7,"UnitCount",0)
call TS7(US7,"AlreadyHit",LD7())
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function S7G))
set p5=null
set t=null
set IJ=null
endfunction
function SDG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit C17=T37(US7,"Hero")
set EZ7="SDG"
call SetUnitTimeScale(C17,1)
call T97(US7)
call UQ7(t)
set t=null
set C17=null
return false
endfunction
function SEG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit C17=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
set EZ7="SEG"
call RemoveLocation(l)
call TG7(GetHandleId(C17),"ReverseLance|x",x)
call TG7(GetHandleId(C17),"ReverseLance|y",y)
call TG7(GetHandleId(C17),"ReverseLance|Time",RF7())
call SetUnitTimeScale(C17,0.75)
call TJ7(US7,"Hero",C17)
call TriggerRegisterTimerEvent(t,0.75,false)
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function SDG))
set t=null
set C17=null
endfunction
function SFG takes nothing returns boolean
if GetSpellAbilityId()==1093743179 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call TI7(GetHandleId(GetTriggerUnit()),"ReverseLance|Active",false)
call SEG()
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call TI7(GetHandleId(GetTriggerUnit()),"ReverseLance|Active",true)
elseif UE7(GetHandleId(GetTriggerUnit()),"ReverseLance|Active")==true then
call S8G()
endif
endif
return false
endfunction
function T28 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="T28"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SFG))
set t=null
endfunction
function SGG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local integer HB8=U97(US7,"TargetIndex")
local unit m5=A87(HB8)
local real SHG=UD7(US7,"Rate")
local boolean MVD=UE7(US7,"Scepter")
set EZ7="SGG"
if GetTriggerEvalCount(t)==1 then
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
endif
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and MVD==false then
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+(SHG)*GetEventDamage())
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093743184 or GetSpellAbilityId()==1093747766 then
call A77(HB8)
call T97(US7)
call UQ7(t)
endif
else
call UnitRemoveAbility(p5,1093743186)
call UnitRemoveAbility(p5,1110456664)
call A77(HB8)
call T97(US7)
call UQ7(t)
call UnitRemoveAbility(p5,1093748299)
call UnitRemoveAbility(p5,1093748300)
call UnitRemoveAbility(p5,1093748298)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function SIG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(FJ8,1093743184)
local real Y8D=0.6-BY7*0.1
local boolean AFD=false
set EZ7="SIG"
call UnitRemoveAbility(FJ8,1093743186)
call UnitRemoveAbility(FJ8,1110456664)
if BY7==0 then
call UnitRemoveAbility(FJ8,1093748299)
call UnitRemoveAbility(FJ8,1093748300)
call UnitRemoveAbility(FJ8,1093748298)
set AFD=true
set BY7=GetUnitAbilityLevel(FJ8,1093747766)
set Y8D=0.6-BY7*0.15
if BY7==1 then
call L67(FJ8,1093748299)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093748299,false)
elseif BY7==2 then
call L67(FJ8,1093748300)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093748300,false)
elseif BY7==3 then
call L67(FJ8,1093748298)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093748298,false)
endif
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093743186,false)
call L67(FJ8,1093743186)
call IssueTargetOrder(FJ8,"attack",PU7)
call TJ7(US7,"Source",FJ8)
call TI7(US7,"Scepter",AFD)
call TF7(US7,"TargetIndex",AD7(PU7))
call TG7(US7,"Rate",Y8D)
call TF7(US7,"Attacks",0)
call TJ7(GetHandleId(FJ8),"Target",PU7)
call TriggerRegisterTimerEvent(t,20,false)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function SGG))
set FJ8=null
set PU7=null
set t=null
endfunction
function SJG takes nothing returns boolean
if(GetSpellAbilityId()==1093743184 or GetSpellAbilityId()==1093747766)and L87(GetSpellTargetUnit())==false then
call SIG()
endif
return false
endfunction
function SKG takes unit FJ8 returns nothing
local unit PU7=T37(GetHandleId(FJ8),"Target")
set EZ7="aTe"
if GetTriggerUnit()==PU7 then
call DestroyEffect(AddSpecialEffectTarget("effects\\Tornado.mdx",FJ8,"hand,left"))
call DestroyEffect(AddSpecialEffectTarget("effects\\Tornado.mdx",FJ8,"hand,right"))
elseif GetTriggerUnit()!=PU7 then
call UnitRemoveAbility(FJ8,1093743186)
call UnitRemoveAbility(FJ8,1110456664)
call UnitRemoveAbility(FJ8,1093748299)
call UnitRemoveAbility(FJ8,1093748300)
call UnitRemoveAbility(FJ8,1093748298)
endif
set PU7=null
endfunction
function SMG takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093743186)>0 then
call SKG(GetAttacker())
endif
return false
endfunction
function T_8 takes nothing returns nothing
local trigger t=CreateTrigger()
local trigger t2=CreateTrigger()
set EZ7="T_8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SJG))
call EO8(t2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t2,Condition(function SMG))
set t=null
set t2=null
endfunction
function SNG takes unit C17,integer BY7 returns integer
local integer SOG
local integer SPG
set EZ7="aUe"
if BY7==1 then
set SPG=1110458929
set SOG=1093744730
if GetUnitAbilityLevel(C17,SPG)>0 then
call UnitRemoveAbility(C17,SPG)
return SOG
endif
set SPG=1110458928
set SOG=1093744970
if GetUnitAbilityLevel(C17,SPG)>0 then
call UnitRemoveAbility(C17,SPG)
return SOG
endif
set SPG=1110458713
set SOG=1093744970
if GetUnitAbilityLevel(C17,SPG)>0 then
call UnitRemoveAbility(C17,SPG)
return SOG
endif
return 1093744729
elseif BY7==2 then
set SPG=1110458936
set SOG=1093744968
if GetUnitAbilityLevel(C17,SPG)>0 then
call UnitRemoveAbility(C17,SPG)
return SOG
endif
set SPG=1110458935
set SOG=1093744967
if GetUnitAbilityLevel(C17,SPG)>0 then
call UnitRemoveAbility(C17,SPG)
return SOG
endif
set SPG=1110458930
set SOG=1093744967
if GetUnitAbilityLevel(C17,SPG)>0 then
call UnitRemoveAbility(C17,SPG)
return SOG
endif
return 1093744969
elseif BY7==3 then
set SPG=1110458931
set SOG=1093744965
if GetUnitAbilityLevel(C17,SPG)>0 then
call UnitRemoveAbility(C17,SPG)
return SOG
endif
set SPG=1110458937
set SOG=1093744964
if GetUnitAbilityLevel(C17,SPG)>0 then
call UnitRemoveAbility(C17,SPG)
return SOG
endif
set SPG=1110458934
set SOG=1093744964
if GetUnitAbilityLevel(C17,SPG)>0 then
call UnitRemoveAbility(C17,SPG)
return SOG
endif
return 1093744971
elseif BY7==4 then
set SPG=1110458933
set SOG=1093744950
if GetUnitAbilityLevel(C17,SPG)>0 then
call UnitRemoveAbility(C17,SPG)
return SOG
endif
set SPG=1110458932
set SOG=1093744949
if GetUnitAbilityLevel(C17,SPG)>0 then
call UnitRemoveAbility(C17,SPG)
return SOG
endif
set SPG=1110458945
set SOG=1093744949
if GetUnitAbilityLevel(C17,SPG)>0 then
call UnitRemoveAbility(C17,SPG)
return SOG
endif
return 1093744972
endif
return 0
endfunction
function SQG takes nothing returns nothing
local unit C17=GetTriggerUnit()
local integer BY7=GetUnitAbilityLevel(C17,1093744728)
local integer SPG=SNG(C17,BY7)
local unit HV8=CreateUnit(GetOwningPlayer(C17),1697656901,GetUnitX(C17),GetUnitY(C17),0)
set EZ7="SQG"
call L67(HV8,SPG)
call IssueTargetOrder(HV8,"bloodlust",C17)
set C17=null
set HV8=null
endfunction
function SRG takes nothing returns boolean
if GetSpellAbilityId()==1093677382 or GetSpellAbilityId()==1093677623 or GetSpellAbilityId()==1093677392 or GetSpellAbilityId()==1093679450 or(GetUnitPointValue(GetTriggerUnit())==500 and BR7(GetSpellAbilityId()))then
call SQG()
endif
return false
endfunction
function SSG takes unit C17,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="aze"
call TriggerRegisterUnitEvent(t,C17,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SRG))
if BZ9 then
set nj[GetPlayerId(GetOwningPlayer(C17))]=t
endif
set t=null
set C17=null
endfunction
function STG takes nothing returns boolean
if GetLearnedSkill()==1093744728 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093744728)==1 then
call SSG(GetTriggerUnit(),false)
endif
return false
endfunction
function U48 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="U48"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function STG))
set t=null
endfunction
function SUG takes nothing returns boolean
if(GetSpellAbilityId()==1093677392 or GetSpellAbilityId()==1093679450)and C37(GetSpellTargetUnit())then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659026))
endif
return false
endfunction
function U78 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="U78"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function SUG))
set t=null
endfunction
function SVG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=T37(PP7,"Source")
local unit PU7=T37(PP7,"Target")
local integer L48=U97(GetHandleId(PU7),"StickyNapalm|Count")
local boolean SWG=UE7(PP7,"Locked")
set EZ7="SVG"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call SetUnitTurnSpeed(PU7,GetUnitDefaultTurnSpeed(PU7))
call TF7(GetHandleId(PU7),"StickyNapalm|Count",0)
call T97(PP7)
call UQ7(t)
call EQ9(PU7,0,0)
elseif L48==0 then
call SetUnitTurnSpeed(PU7,GetUnitDefaultTurnSpeed(PU7))
call TF7(GetHandleId(PU7),"StickyNapalm|Count",0)
call T97(PP7)
call UQ7(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED and SWG==false then
if L48>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093748044)>0 and T37(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call TI7(PP7,"Locked",true)
if S44 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",PU7,"chest"))
call HY8(FJ8,PU7,ZG4,0.5*(5+5*GetUnitAbilityLevel(FJ8,1093748044))*L48)
elseif(GetEventDamage()>34 and IsUnitType(PU7,UNIT_TYPE_HERO)==true)or(GetEventDamage()>45 and IsUnitType(PU7,UNIT_TYPE_HERO)==false)then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",PU7,"chest"))
call HY8(FJ8,PU7,ZG4,(5+5*GetUnitAbilityLevel(FJ8,1093748044))*L48)
endif
call TI7(PP7,"Locked",false)
endif
else
call SetUnitTurnSpeed(PU7,GetUnitDefaultTurnSpeed(PU7)*0.3)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function SXG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(T37(PP7,"Source"))
local unit PU7=(T37(PP7,"Target"))
local real FP9=(UD7(GetHandleId(PU7),"StickyNapalm|LastTime"))
local integer StickyCount=(U97(GetHandleId(PU7),"StickyNapalm|Count"))
set EZ7="SXG"
if(TimerGetElapsed(W))-FP9>=8 then
call SetUnitTurnSpeed(PU7,GetUnitDefaultTurnSpeed(PU7))
call TF7(GetHandleId(PU7),"StickyNapalm|Count",0)
call EQ9(PU7,0,0)
endif
call T97(PP7)
call UQ7(t)
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function SYG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetEnumUnit()
local trigger t
local integer PP7
local integer HW8=GetUnitAbilityLevel(FJ8,1093748044)
local integer L48=IMinBJ(U97(GetHandleId(PU7),"StickyNapalm|Count")+1,10)
set EZ7="SYG"
if C37(PU7)then
set FJ8=null
set PU7=null
return
endif
call EQ9(PU7,HW8,L48)
call TF7(GetHandleId(PU7),"StickyNapalm|Count",L48)
call TG7(GetHandleId(PU7),"StickyNapalm|LastTime",(TimerGetElapsed(W))*1.0)
call SetUnitTurnSpeed(PU7,GetUnitDefaultTurnSpeed(PU7)*0.3)
if IsUnitType(PU7,UNIT_TYPE_HERO)==true then
call EJ8(GetOwningPlayer(FJ8),I2S(L48)+"!",2,PU7,0.026,50,0,255,216)
endif
if L48==1 then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TJ7(PP7,"Source",FJ8)
call TJ7(PP7,"Target",PU7)
call TI7(PP7,"Locked",false)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function SVG))
endif
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,8,false)
call TriggerAddCondition(t,Condition(function SXG))
call TJ7(PP7,"Source",FJ8)
call TJ7(PP7,"Target",PU7)
set t=null
set FJ8=null
set PU7=null
endfunction
function SZG takes nothing returns nothing
local group g=LD7()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit p5=GetTriggerUnit()
set EZ7="SZG"
call GroupEnumUnitsInRange(g,x,y,400,Condition(function GQ8))
call ForGroup(g,function SYG)
call EV8(GetOwningPlayer(p5),2,x,y,500)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y+130))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y-130))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+130,y))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+130,y+130))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+130,y-130))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-130,y))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-130,y+130))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-130,y-130))
call RemoveLocation(l)
call L97(g)
set g=null
set l=null
set p5=null
endfunction
function SAG takes nothing returns boolean
if GetSpellAbilityId()==1093748044 then
call SZG()
endif
return false
endfunction
function U88 takes nothing returns nothing
local integer i
local trigger t=CreateTrigger()
set EZ7="U88"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SAG))
set W24[1]=1093752899
set W24[2]=1093752898
set W24[3]=1093752884
set W24[4]=1093752885
set W24[5]=1093752886
set W24[6]=1093752887
set W24[7]=1093752897
set W24[8]=1093752888
set W24[9]=1093752889
set W24[10]=1093752900
set W_4[1]=1093752909
set W_4[2]=1093752901
set W_4[3]=1093752902
set W_4[4]=1093752903
set W_4[5]=1093752904
set W_4[6]=1093752905
set W_4[7]=1093752906
set W_4[8]=1093752907
set W_4[9]=1093752910
set W_4[10]=1093752908
set X44[1]=1093752911
set X44[2]=1093752918
set X44[3]=1093752919
set X44[4]=1093752913
set X44[5]=1093752914
set X44[6]=1093752915
set X44[7]=1093752920
set X44[8]=1093752916
set X44[9]=1093752917
set X44[10]=1093752912
set X74[1]=1093752921
set X74[2]=1093752922
set X74[3]=1093753141
set X74[4]=1093753142
set X74[5]=1093753143
set X74[6]=1093753137
set X74[7]=1093753138
set X74[8]=1093753139
set X74[9]=1093753140
set X74[10]=1093753136
set i=1
loop
exitwhen i>10
call DX8(W24[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call DX8(W_4[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call DX8(X44[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call DX8(X74[i])
set i=i+1
endloop
set t=null
endfunction
function SBG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit m5=T37(US7,"Target")
local real a=UD7(US7,"a")
local real d=UD7(US7,"d")
local real x1=UD7(US7,"x")
local real y1=UD7(US7,"y")
local real x2
local real y2
local real x
local real y
set EZ7="SBG"
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>10 then
call ER8(GetUnitX(m5),GetUnitY(m5),200)
call DestroyEffect(T27(US7,"FX"))
call T97(US7)
call UQ7(t)
else
set x2=x1+d*Cos(a)
set y2=y1+d*Sin(a)
if(IsPointInRegion(IU4,((x2)*1.0),((y2)*1.0)))==false then
call TG7(US7,"x",(x2)*1.0)
call TG7(US7,"y",(y2)*1.0)
set x=x2
set y=y2
else
set x=x1
set y=y1
endif
if IsUnitType(m5,UNIT_TYPE_HERO)==true then
call SetUnitPosition(m5,x,y)
else
call SetUnitX(m5,x)
call SetUnitY(m5,y)
endif
endif
set t=null
set m5=null
return false
endfunction
function SCG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer BY7=GetUnitAbilityLevel(p5,1093744982)
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="SCG"
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function SBG))
call TJ7(US7,"Target",m5)
call TG7(US7,"a",(Atan2(GetUnitY(m5)-C1,GetUnitX(m5)-B1))*1.0)
call TG7(US7,"d",(D28((400-Q07(B1,C1,GetUnitX(m5),GetUnitY(m5))),10)/ 10)*1.0)
call TG7(US7,"x",(GetUnitX(m5))*1.0)
call TG7(US7,"y",(GetUnitY(m5))*1.0)
set p5=null
set m5=null
set t=null
call HY8(S74,GetEnumUnit(),ZG4,S84*75)
endfunction
function S3G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit HV8=T37(US7,"Caster")
local unit p5=T37(US7,"Source")
local real a=UD7(US7,"a")
local group g=LD7()
local unit m5
local real x=GetUnitX(HV8)
local real y=GetUnitY(HV8)
local real PKE=UD7(US7,"FinalX")
local real PME=UD7(US7,"FinalY")
set EZ7="S3G"
set x=DT8(x+36*Cos(a))
set y=DU8(y+36*Sin(a))
call SetUnitX(HV8,x)
call SetUnitY(HV8,y)
set IN4=HV8
call GroupEnumUnitsInRange(g,x,y,125,Condition(function GK8))
set m5=FirstOfGroup(g)
call L97(g)
if Q07(x,y,PKE,PME)<40 or GetTriggerEvalCount(t)>100 then
set m5=null
set x=PKE
set y=PME
set S74=p5
set S84=U97(US7,"Level")
set N1=m5
if m5==null then
set B1=x
set C1=y
else
set B1=GetUnitX(m5)
set C1=GetUnitY(m5)
endif
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,400,Condition(function GK8))
if m5!=null then
call GroupRemoveUnit(g,m5)
call HU8(p5,m5,0.3)
call HY8(S74,m5,ZG4,S84*75)
endif
call ForGroup(g,function SCG)
call KillUnit(HV8)
call L97(g)
call T97(US7)
call UQ7(t)
endif
set t=null
set m5=null
set HV8=null
set p5=null
set g=null
return false
endfunction
function S6G takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer BY7=GetUnitAbilityLevel(p5,1093744982)
local unit HV8
set EZ7="S6G"
set HV8=CreateUnit(GetOwningPlayer(p5),1747993924,GetUnitX(p5),GetUnitY(p5),a*bj_RADTODEG)
call RemoveLocation(l)
call TG7(US7,"a",a)
call TF7(US7,"Level",BY7)
call TJ7(US7,"Source",p5)
call TJ7(US7,"Caster",HV8)
call TG7(US7,"FinalX",((x)*1.0))
call TG7(US7,"FinalY",((y)*1.0))
call TriggerRegisterTimerEvent(t,0.04,true)
call TriggerAddCondition(t,Condition(function S3G))
set p5=null
set HV8=null
set l=null
set t=null
endfunction
function SLG takes nothing returns boolean
if GetSpellAbilityId()==1093744982 then
call S6G()
endif
return false
endfunction
function U98 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="U98"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SLG))
set t=null
endfunction
function S1G takes nothing returns nothing
local unit FJ8=S94
local unit FPG=GetEnumUnit()
local unit PU7
local group g
set EZ7="S1G"
if GetUnitCurrentOrder(FPG)==0 then
set g=LD7()
set IN4=FPG
call GroupEnumUnitsInRange(g,GetUnitX(FPG),GetUnitY(FPG),825,Condition(function G78))
set PU7=FirstOfGroup(g)
if PU7!=null then
call GroupRemoveUnit(g,PU7)
endif
if FirstOfGroup(g)==null and PU7==FJ8 then
call IssueTargetOrder(FPG,"attack",PU7)
endif
call L97(g)
set PU7=null
set g=null
endif
set FJ8=null
set FPG=null
endfunction
function S0G takes unit FJ8 returns nothing
local group g=LD7()
set EZ7="Firefly_SearchTowers"
set IN4=FJ8
set S94=FJ8
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),1000,Condition(function H48))
call ForGroup(g,function S1G)
call L97(g)
set g=null
endfunction
function S5G takes nothing returns nothing
set EZ7="S5G"
call HY8(S94,GetEnumUnit(),ZG4,SD4*10)
endfunction
function S2G takes unit FJ8,integer PP7,integer L48 returns nothing
local group g1=LD7()
local group g2=LD7()
local integer i=0
set EZ7="Firefly_Hit"
set IN4=FJ8
loop
exitwhen i>L48
call GroupEnumUnitsInRange(g2,UD7(PP7,"X"+I2S(i)),UD7(PP7,"Y"+I2S(i)),225,Condition(function G78))
call GroupAddGroup(g2,g1)
call GroupClear(g2)
set i=i+1
endloop
call L97(g2)
if FirstOfGroup(g1)!=null then
set S94=FJ8
set SD4=GetUnitAbilityLevel(FJ8,1093744986)
call ForGroup(g1,function S5G)
endif
call L97(g1)
set g1=null
set g2=null
endfunction
function S_G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=T37(PP7,"Source")
local real AO9=UD7(PP7,"LastX")
local real AP9=UD7(PP7,"LastY")
local integer L48=U97(PP7,"Count")
local integer i
local real x
local real y
set EZ7="S_G"
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>360 then
set i=0
loop
exitwhen i>L48
call DestroyEffect(T27(PP7,"FX"+I2S(i)))
set i=i+1
endloop
call T97(PP7)
call UQ7(t)
else
set x=GetUnitX(FJ8)
set y=GetUnitY(FJ8)
if V8==true then
call S0G(FJ8)
endif
if Q07(x,y,AO9,AP9)>125 then
set L48=L48+1
call TF7(PP7,"Count",L48)
call TG7(PP7,"LastX",x)
call TG7(PP7,"LastY",y)
call TK7(PP7,"FX"+I2S(L48),AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",x,y))
call TG7(PP7,"X"+I2S(L48),x)
call TG7(PP7,"Y"+I2S(L48),y)
endif
if ModuloInteger(GetTriggerEvalCount(t),10)==0 then
set S44=true
call S2G(FJ8,PP7,L48)
set S44=false
endif
call ER8(GetUnitX(FJ8),GetUnitY(FJ8),100)
endif
return false
endfunction
function T4G takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
set EZ7="T4G"
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function S_G))
call TJ7(US7,"Source",p5)
call TK7(US7,"FX"+I2S(0),AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",GetUnitX(p5),GetUnitY(p5)))
call TG7(US7,"LastX",GetUnitX(p5))
call TG7(US7,"LastY",GetUnitY(p5))
call TG7(US7,"X"+I2S(0),GetUnitX(p5))
call TG7(US7,"Y"+I2S(0),GetUnitY(p5))
set p5=null
set t=null
endfunction
function T7G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
set EZ7="T7G"
if L17(p5)then
return false
endif
if GetUnitTypeId(p5)==1328558390 then
call SetUnitFlyHeight(p5,170,0)
elseif GetUnitTypeId(p5)==1328558391 then
call SetUnitFlyHeight(p5,220,0)
endif
set t=null
set p5=null
return false
endfunction
function T8G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
set EZ7="T8G"
call TriggerRegisterTimerEvent(t,2,true)
call TriggerAddCondition(t,Condition(function T7G))
call TJ7(US7,"Source",p5)
set t=null
set p5=null
endfunction
function T9G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
set EZ7="T9G"
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,false)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
return false
endfunction
function TDG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
set EZ7="TDG"
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function T9G))
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
set FJ8=null
set t=null
endfunction
function TEG takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093744986 then
if GetUnitTypeId(GetTriggerUnit())==1328558390 then
call T4G()
elseif IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY)then
call TDG()
endif
endif
else
if GetLearnedSkill()==1093744986 and GetUnitAbilityLevel(GetTriggerUnit(),1093744986)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call T8G()
endif
endif
return false
endfunction
function UD8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UD8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function TEG))
set t=null
endfunction
function TFG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=T37(US7,"Source")
local unit m5=T37(US7,"Target")
local unit HV8=T37(US7,"Caster")
local real d=Q07(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5))
local real a
local real FW8=UD7(US7,"Duration")
local real ODE=UD7(US7,"rRealX0")
local real OEE=UD7(US7,"rRealY0")
local real V_D
local real W4D
set EZ7="TFG"
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>R2I(20*FW8)then
call DestroyEffect(T27(US7,"FX"))
call T97(US7)
call UQ7(t)
call KillUnit(HV8)
call SetUnitPathing(m5,true)
call F28(p5)
call ER8(GetUnitX(m5),GetUnitY(m5),175)
call UO7(p5,"AI|Lasso")
else
call SetUnitX(HV8,GetUnitX(p5))
call SetUnitY(HV8,GetUnitY(p5))
if Q07(ODE,OEE,GetUnitX(p5),GetUnitY(p5))>400 then
call DestroyEffect(T27(US7,"FX"))
call T97(US7)
call UQ7(t)
call KillUnit(HV8)
call SetUnitPathing(m5,true)
call F28(p5)
call ER8(GetUnitX(m5),GetUnitY(m5),175)
else
call TG7(US7,"rRealX0",GetUnitX(p5))
call TG7(US7,"rRealY0",GetUnitY(p5))
if d>300 then
set a=Atan2(GetUnitY(m5)-GetUnitY(p5),GetUnitX(m5)-GetUnitX(p5))
set V_D=GetUnitX(p5)+300*Cos(a)
set W4D=GetUnitY(p5)+300*Sin(a)
if(IsPointInRegion(IU4,((V_D)*1.0),((W4D)*1.0)))==false then
call SetUnitX(m5,V_D)
call SetUnitY(m5,W4D)
endif
endif
endif
endif
set t=null
set p5=null
set m5=null
set HV8=null
return false
endfunction
function TGG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit HV8=CreateUnit(GetOwningPlayer(p5),1966092377,GetUnitX(p5),GetUnitY(p5),0)
local integer BY7=GetUnitAbilityLevel(p5,1093744975)
set EZ7="TGG"
if BY7==0 then
set BY7=GetUnitAbilityLevel(p5,1093750102)+2
endif
call L67(HV8,1093744974)
call SetUnitAbilityLevel(HV8,1093744974,GetUnitAbilityLevel(p5,1093744975))
call IssueTargetOrder(HV8,"magicleash",m5)
call SetUnitPathing(HV8,false)
call SetUnitPathing(m5,false)
call F08(p5)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function TFG))
call TJ7(US7,"Source",p5)
call TJ7(US7,"Target",m5)
call TJ7(US7,"Caster",HV8)
call TG7(US7,"Duration",(2.5+BY7*0.5)*1.0)
call TK7(US7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Human\\AerialShackles\\AerialShacklesTarget.mdl",m5,"chest"))
call TG7(US7,"rRealX0",GetUnitX(p5))
call TG7(US7,"rRealY0",GetUnitY(p5))
call UM7(p5,"AI|Lasso")
set t=null
set p5=null
set m5=null
set HV8=null
endfunction
function THG takes nothing returns boolean
if(GetSpellAbilityId()==1093744975 or GetSpellAbilityId()==1093750102)and L87(GetSpellTargetUnit())==false and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 then
call TGG()
endif
return false
endfunction
function UE8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UE8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function THG))
set t=null
endfunction
function TIG takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if AI7(GetOwningPlayer(GetEventDamageSource()))and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and w1==false then
if W1==false then
call UnitRemoveAbility(GetTriggerUnit(),1110458957)
call UQ7(GetTriggeringTrigger())
endif
endif
if W1==true then
set W1=false
endif
if w1==true then
set w1=false
endif
else
call UQ7(GetTriggeringTrigger())
endif
return false
endfunction
function TJG takes nothing returns nothing
local unit m5=GetEnumUnit()
local trigger t=CreateTrigger()
set EZ7="TJG"
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,6,false)
call TriggerAddCondition(t,Condition(function TIG))
set m5=null
set t=null
endfunction
function TKG takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1110458957)>0 and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0
endfunction
function TMG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local real x=(LoadReal(L7,(US7),(6)))
local real y=(LoadReal(L7,(US7),(7)))
local group g=LD7()
set EZ7="TMG"
call GroupEnumUnitsInRange(g,x,y,1000,Condition(function TKG))
call ForGroup(g,function TJG)
call L97(g)
call FlushChildHashtable(L7,(US7))
call UQ7(t)
set t=null
set g=null
return false
endfunction
function TNG takes nothing returns nothing
if SE4==1 or SE4==2 then
call HY8(GetTriggerUnit(),GetEnumUnit(),ZH4,80)
endif
if SE4==1 or SE4==3 then
call HY8(GetTriggerUnit(),GetEnumUnit(),ZG4,80)
endif
endfunction
function TOG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local unit HV8=CreateUnit(GetOwningPlayer(p5),1747990362,x,y,0)
local group g=LD7()
local unit u
set EZ7="TOG"
set GG7=GetUnitAbilityLevel(p5,1093747009)
if((LoadInteger(L7,(GetHandleId((p5))),((4270))))==1)==false then
call SetUnitTimeScale(HV8,2.5)
call UnitApplyTimedLife(HV8,1112820806,2)
set HV8=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
call L67(HV8,1093747001)
call SetUnitAbilityLevel(HV8,1093747001,GetUnitAbilityLevel(p5,1093747009))
call IssueImmediateOrder(HV8,"stomp")
call GroupEnumUnitsInRange(g,x,y,500,Condition(function GQ8))
set SE4=1
call ForGroup(g,function TNG)
call L97(g)
call TriggerRegisterTimerEvent(t,0.65,false)
call TriggerAddCondition(t,Condition(function TMG))
call SaveReal(L7,(US7),(6),((x)*1.0))
call SaveReal(L7,(US7),(7),((y)*1.0))
else
call SetUnitTimeScale(HV8,2.5)
call UnitApplyTimedLife(HV8,1112820806,2)
set HV8=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
call L67(HV8,1093747001)
call SetUnitAbilityLevel(HV8,1093747001,GetUnitAbilityLevel(p5,1093747009))
call IssueImmediateOrder(HV8,"stomp")
call GroupEnumUnitsInRange(g,x,y,500,Condition(function GQ8))
set SE4=2
call ForGroup(g,function TNG)
call TriggerRegisterTimerEvent(t,0.65,false)
call TriggerAddCondition(t,Condition(function TMG))
call SaveReal(L7,(US7),(6),((x)*1.0))
call SaveReal(L7,(US7),(7),((y)*1.0))
set t=CreateTrigger()
set US7=GetHandleId(t)
set u=(SK4[GetPlayerId(GetOwningPlayer((p5)))])
call IssueImmediateOrder(u,"stop")
set x=GetUnitX(u)
set y=GetUnitY(u)
set HV8=CreateUnit(GetOwningPlayer(p5),1747990362,x,y,0)
call SetUnitTimeScale(HV8,2.5)
call UnitApplyTimedLife(HV8,1112820806,2)
set HV8=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
call L67(HV8,1093747001)
call SetUnitAbilityLevel(HV8,1093747001,GetUnitAbilityLevel(p5,1093747009))
call IssueImmediateOrder(HV8,"stomp")
call GroupEnumUnitsInRange(g,x,y,500,Condition(function GQ8))
set SE4=3
call ForGroup(g,function TNG)
call L97(g)
call TriggerRegisterTimerEvent(t,0.65,false)
call TriggerAddCondition(t,Condition(function TMG))
call SaveReal(L7,(US7),(6),((x)*1.0))
call SaveReal(L7,(US7),(7),((y)*1.0))
call SetUnitAnimationByIndex(u,3)
endif
set t=null
set p5=null
set HV8=null
set g=null
endfunction
function TPG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(US7),(2)))
local unit TQG=(LoadUnitHandle(L7,(US7),(335)))
local boolean TRG=(LoadBoolean(L7,(US7),(336)))
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
call SaveInteger(L7,(GetHandleId((p5))),((4269)),(2))
call SaveBoolean(L7,(GetHandleId(TQG)),(337),(true))
if TRG then
call ShowUnit(TQG,false)
call KillUnit(TQG)
else
call ShowUnit(TQG,false)
call UnitRemoveAbility(TQG,1097625443)
call ShowUnit(TQG,true)
endif
call FlushChildHashtable(L7,(US7))
call UQ7(t)
else
if TRG then
call SetUnitFacing(TQG,GetUnitFacing(p5))
endif
endif
set t=null
set TQG=null
return false
endfunction
function TSG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit TQG
local boolean KillImage
set EZ7="TSG"
call SaveBoolean(L7,(US7),(336),(false))
if((LoadInteger(L7,(GetHandleId((p5))),((4270))))==1)==false then
call SaveBoolean(L7,(US7),(336),(true))
set TQG=CreateUnit(GetOwningPlayer(p5),1747990357,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call L67(TQG,1097625443)
call L67(TQG,1097167980)
call SetUnitPosition(TQG,GetUnitX(p5),GetUnitY(p5))
call SetUnitScale(TQG,1.4,1.4,1.4)
else
set TQG=(SK4[GetPlayerId(GetOwningPlayer((p5)))])
call UnitAddAbility(TQG,1097625443)
endif
call IssueImmediateOrder(TQG,"stop")
call SaveInteger(L7,(GetHandleId((p5))),((4269)),(1))
call SetUnitAnimation(TQG,"spell slam")
call QueueUnitAnimation(TQG,"spell slam")
call SaveUnitHandle(L7,(US7),(335),(TQG))
call SaveUnitHandle(L7,(US7),(2),(p5))
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function TPG))
call SaveUnitHandle(L7,(US7),(335),(TQG))
set t=null
set p5=null
set TQG=null
endfunction
function TTG takes nothing returns boolean
if GetSpellAbilityId()==1093747009 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_FINISH then
call TOG()
else
call TSG()
endif
endif
return false
endfunction
function UI8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UI8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_FINISH)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function TTG))
set t=null
endfunction
function TUG takes nothing returns nothing
if EM9(GetEnumUnit())then
return
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093747521)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093747521)
call UnitRemoveAbility(GetEnumUnit(),1110458960)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093747513)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093747513)
call UnitRemoveAbility(GetEnumUnit(),1110458960)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093747522)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093747522)
call UnitRemoveAbility(GetEnumUnit(),1110458960)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093747523)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093747523)
call UnitRemoveAbility(GetEnumUnit(),1110458960)
endif
call H28(GetEnumUnit(),0)
endfunction
function TVG takes nothing returns nothing
if EM9(GetEnumUnit())then
return
endif
if m1==1 then
if GetUnitAbilityLevel(GetEnumUnit(),1093747521)==0 then
call L67(GetEnumUnit(),1093747521)
endif
elseif m1==2 then
if GetUnitAbilityLevel(GetEnumUnit(),1093747513)==0 then
call L67(GetEnumUnit(),1093747513)
endif
elseif m1==3 then
if GetUnitAbilityLevel(GetEnumUnit(),1093747522)==0 then
call L67(GetEnumUnit(),1093747522)
endif
elseif m1==4 then
if GetUnitAbilityLevel(GetEnumUnit(),1093747523)==0 then
call L67(GetEnumUnit(),1093747523)
endif
endif
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call H28(GetEnumUnit(),R2I((I2R(GetHeroAgi(GetEnumUnit(),true))/ 7)*I2R(m1)/ 5))
endif
endfunction
function TWG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(US7),(2)))
local group X6E=(LoadGroupHandle(L7,(US7),(340)))
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local group g=LD7()
local group g2
set EZ7="TWG"
if p5==null then
call FlushChildHashtable(L7,(US7))
call UQ7(t)
call L97(X6E)
call L97(g)
return false
endif
set IN4=p5
set m1=GetUnitAbilityLevel(p5,1093747524)
call GroupEnumUnitsInRange(g,x,y,300,Condition(function G78))
if((LoadInteger(L7,(GetHandleId((p5))),((4270))))==1)==true then
set g2=LD7()
call GroupEnumUnitsInRange(g2,GetUnitX((SK4[GetPlayerId(GetOwningPlayer((p5)))])),GetUnitY((SK4[GetPlayerId(GetOwningPlayer((p5)))])),300,Condition(function G78))
call GroupAddGroup(g2,g)
call L97(g2)
set g2=null
endif
call GroupRemoveGroup(g,X6E)
call ForGroup(X6E,function TUG)
if L17(p5)==false then
call ForGroup(g,function TVG)
endif
call SaveGroupHandle(L7,(US7),(340),(g))
call L97(X6E)
set t=null
set p5=null
set X6E=null
return false
endfunction
function TXG takes unit p5,boolean BZ9 returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local integer i
local player p
set EZ7="nFe"
call L67(p5,1093747537)
call TriggerRegisterTimerEvent(t,0.3,true)
call TriggerAddCondition(t,Condition(function TWG))
call SaveUnitHandle(L7,(US7),(2),(p5))
call SaveGroupHandle(L7,(US7),(340),(LD7()))
call SaveTriggerHandle(L7,(GetHandleId(p5)),(338),(t))
call SaveBoolean(L7,(GetHandleId(p5)),(339),(true))
set i=0
loop
exitwhen i>5
set p=Z7[i]
call SetPlayerAbilityAvailable(p,1093747521,false)
call SetPlayerAbilityAvailable(p,1093747513,false)
call SetPlayerAbilityAvailable(p,1093747522,false)
call SetPlayerAbilityAvailable(p,1093747523,false)
set p=A7[i]
call SetPlayerAbilityAvailable(p,1093747521,false)
call SetPlayerAbilityAvailable(p,1093747513,false)
call SetPlayerAbilityAvailable(p,1093747522,false)
call SetPlayerAbilityAvailable(p,1093747523,false)
set i=i+1
endloop
if BZ9 then
set nj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set t=null
set p5=null
endfunction
function TYG takes nothing returns boolean
if GetLearnedSkill()==1093747524 and GetUnitAbilityLevel(GetTriggerUnit(),1093747524)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call TXG(GetTriggerUnit(),false)
endif
return false
endfunction
function UH8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UH8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function TYG))
set t=null
endfunction
function TZG takes nothing returns nothing
local real x1=Z1
local real y1=v2
local real x2=SM4
local real y2=o2
local real x3=GetUnitX(GetEnumUnit())
local real y3=GetUnitY(GetEnumUnit())
local real u=((x3-x1)*(x2-x1)+(y3-y1)*(y2-y1))/((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2))
local real x4=x1+u*(x2-x1)
local real y4=y1+u*(y2-y1)
local real D_8=GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*0.35/ 2
set EZ7="TZG"
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call SetUnitPosition(GetEnumUnit(),x4,y4)
else
call SetUnitX(GetEnumUnit(),x4)
call SetUnitY(GetEnumUnit(),y4)
endif
call IssueTargetOrder(Y1,"slow",GetEnumUnit())
call HY8(z1,GetEnumUnit(),ZG4,D_8)
call HY8(z1,GetEnumUnit(),ZH4,D_8)
endfunction
function TAG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(US7),(2)))
local real x0=(LoadReal(L7,(US7),(282)))
local real y0=(LoadReal(L7,(US7),(283)))
local real a0=(LoadReal(L7,(US7),(341)))
local integer i=0
local real x
local real y
local group g=LD7()
local group GLE=LD7()
local integer BY7=GetUnitAbilityLevel(p5,1093746993)
local integer E_D=(LoadInteger(L7,(US7),(34)))
set EZ7="TAG"
call FlushChildHashtable(L7,(US7))
call UQ7(t)
set IN4=p5
set z1=p5
set Y1=CreateUnit(GetOwningPlayer(p5),1697656901,x0,y0,0)
call L67(Y1,1093747525)
call SetUnitAbilityLevel(Y1,1093747525,BY7)
loop
exitwhen i>E_D
set x=x0+i*200*Cos(a0)
set y=y0+i*200*Sin(a0)
call EF8("Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl",x,y,1.6)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x,y-250))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x,y))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x+250,y))
call ER8(x,y,300)
call GroupEnumUnitsInRange(g,x,y,325,Condition(function G78))
call GroupAddGroup(g,GLE)
call GroupClear(g)
set i=i+1
endloop
set Z1=x0
set v2=y0
set SM4=x
set o2=y
call ForGroup(GLE,function TZG)
call L97(GLE)
call L97(g)
set t=null
set p5=null
return false
endfunction
function TBG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(US7),(2)))
local real a=(LoadReal(L7,(US7),(137)))
local real x0=(LoadReal(L7,(US7),(282)))
local real y0=(LoadReal(L7,(US7),(283)))
local real a0
local real TCG
local real T3G
local real T6G
local real TLG
local real T1G
local real T0G
local real T5G
local real T2G
local real T_G
local real U4G
local real U7G
local real U8G
local real x
local real y
local ubersplat IIG
local integer BX8=GetTriggerEvalCount(t)
local integer E_D=(LoadInteger(L7,(US7),(34)))
set EZ7="TBG"
set x=x0+200*BX8*Cos(a)
set y=y0+200*BX8*Sin(a)
set IIG=CreateUbersplat(x,y,"THND",255,255,255,255,false,false)
call SetUbersplatRenderAlways(IIG,true)
set TCG=x+200*Cos(bj_DEGTORAD*(a*bj_RADTODEG-45))
set T3G=y+200*Sin(bj_DEGTORAD*(a*bj_RADTODEG-45))
set T6G=x+200*Cos(bj_DEGTORAD*(a*bj_RADTODEG+45))
set TLG=y+200*Sin(bj_DEGTORAD*(a*bj_RADTODEG+45))
set T1G=x-100*Cos(bj_DEGTORAD*(a*bj_RADTODEG-45))
set T0G=y-100*Sin(bj_DEGTORAD*(a*bj_RADTODEG-45))
set T5G=x-100*Cos(bj_DEGTORAD*(a*bj_RADTODEG+45))
set T2G=y-100*Sin(bj_DEGTORAD*(a*bj_RADTODEG+45))
set T_G=x
set U4G=y
set U7G=x
set U8G=y
call EV8(GetOwningPlayer(p5),4,x,y,500)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",TCG,T3G))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",T6G,TLG))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",T1G,T0G))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",T5G,T2G))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",T_G,U4G))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",U7G,U8G))
if GetTriggerEvalCount(t)>E_D then
set x0=(LoadReal(L7,(US7),(282)))
set y0=(LoadReal(L7,(US7),(283)))
set a0=(LoadReal(L7,(US7),(341)))
call FlushChildHashtable(L7,(US7))
call UQ7(t)
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,false)
call TriggerAddCondition(t,Condition(function TAG))
call SaveUnitHandle(L7,(US7),(2),(p5))
call SaveReal(L7,(US7),(282),((x0)*1.0))
call SaveReal(L7,(US7),(283),((y0)*1.0))
call SaveReal(L7,(US7),(341),((a0)*1.0))
call SaveInteger(L7,(US7),(34),(E_D))
endif
set t=null
set p5=null
return false
endfunction
function U9G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local integer E_D=11
set EZ7="U9G"
call TriggerRegisterTimerEvent(t,0.22,true)
call TriggerAddCondition(t,Condition(function TBG))
call SaveUnitHandle(L7,(US7),(2),(p5))
call SaveReal(L7,(US7),(6),((GetUnitX(p5))*1.0))
call SaveReal(L7,(US7),(7),((GetUnitY(p5))*1.0))
call SaveReal(L7,(US7),(137),((a)*1.0))
call SaveReal(L7,(US7),(282),((GetUnitX(p5))*1.0))
call SaveReal(L7,(US7),(283),((GetUnitY(p5))*1.0))
call SaveReal(L7,(US7),(341),((a)*1.0))
call SaveInteger(L7,(US7),(34),(E_D))
set t=null
set p5=null
endfunction
function UDG takes nothing returns boolean
if GetSpellAbilityId()==1093746993 then
call U9G()
endif
return false
endfunction
function UF8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UF8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UDG))
set t=null
endfunction
function UEG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
call UnitRemoveAbility(FJ8,1093815881)
call UnitAddAbility(FJ8,1093815881)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set FJ8=null
return false
endfunction
function UFG takes unit FJ8 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function UEG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=null
endfunction
function UGG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(US7),(2)))
set EZ7="UGG"
call DestroyEffect((LoadEffectHandle(L7,(US7),(32))))
call FlushChildHashtable(L7,(US7))
call UQ7(t)
call H68(p5,0)
set t=null
set p5=null
return false
endfunction
function UHG takes unit p5,unit TQG,integer UIG,integer UJG returns nothing
local trigger t
local integer US7
local unit HV8
set EZ7="AncestralCharge_Collide"
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",TQG,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"hand,left"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"hand,right"))
call ShowUnit(TQG,false)
call KillUnit(TQG)
if GetPlayerController(GetOwningPlayer(p5))==MAP_CONTROL_COMPUTER then
call RemoveSavedHandle(L7,GetHandleId(p5),StringHash("AI|AncestralCharge"))
endif
call SaveInteger(L7,(GetHandleId((p5))),((4270)),(2))
if UJG>0 or UIG>0 then
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,9.1,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function UGG))
call SaveUnitHandle(L7,(US7),(2),(p5))
set HV8=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)
call L67(HV8,1093748537)
call SetUnitAbilityLevel(HV8,1093748537,UJG)
call IssueTargetOrder(HV8,"bloodlust",p5)
call H68(p5,UIG)
call SaveEffectHandle(L7,(US7),(32),(AddSpecialEffectTarget("war3mapImported\\RadianceHands.mdx",p5,"weapon")))
endif
set t=null
set HV8=null
endfunction
function UKG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),M1)==false then
if IsUnitIllusion(GetEnumUnit())==false then
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
set SI4=SI4+(SH4*10)
set SJ4=SJ4+5
else
set SI4=SI4+(SH4*3)
set SJ4=SJ4+1
endif
endif
call GroupAddUnit(M1,GetEnumUnit())
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",GetEnumUnit(),"chest"))
set w1=true
set W1=true
call HY8(SF4,GetEnumUnit(),ZG4,SG4)
set w1=false
set W1=false
endif
endfunction
function UMG takes real UNG,real UOG,real UPG,real UQG,real URG,real USG returns real
local real UTG
local real UUG
local real UVG
local real UWG
local real UXG
local real UYG
local real UZG
local real REFLECTED_SCALED_V_X
local real REFLECTED_SCALED_V_Y
local real UAG
local real UBG
local real UCG
local real U3G
local real U6G
local real ULG
local real U1G
local real U0G
set EZ7="nWe"
set UCG=UPG-URG
set U3G=UQG-USG
set U6G=-1*U3G
set ULG=UCG
set U1G=SquareRoot(U6G*U6G+ULG*ULG)
set U6G=U6G/ U1G
set ULG=ULG/ U1G
set UTG=UNG-UPG
set UUG=UOG-UQG
set UVG=SquareRoot(UTG*UTG+UUG*UUG)
set UWG=UTG/ UVG
set UXG=UUG/ UVG
set U0G=UTG*U6G+UUG*ULG
set UYG=-1*UNG+2*UPG+2*U6G*U0G
set UZG=-1*UOG+2*UQG+2*ULG*U0G
set UAG=URG+UPG-UYG
set UBG=USG+UQG-UZG
return UAG
endfunction
function U5G takes real UNG,real UOG,real UPG,real UQG,real URG,real USG returns real
local real UTG
local real UUG
local real UVG
local real UWG
local real UXG
local real UYG
local real UZG
local real REFLECTED_SCALED_V_X
local real REFLECTED_SCALED_V_Y
local real UAG
local real UBG
local real UCG
local real U3G
local real U6G
local real ULG
local real U1G
local real U0G
set EZ7="Vae"
set UCG=UPG-URG
set U3G=UQG-USG
set U6G=-1*U3G
set ULG=UCG
set U1G=SquareRoot(U6G*U6G+ULG*ULG)
set U6G=U6G/ U1G
set ULG=ULG/ U1G
set UTG=UNG-UPG
set UUG=UOG-UQG
set UVG=SquareRoot(UTG*UTG+UUG*UUG)
set UWG=UTG/ UVG
set UXG=UUG/ UVG
set U0G=UTG*U6G+UUG*ULG
set UYG=-1*UNG+2*UPG+2*U6G*U0G
set UZG=-1*UOG+2*UQG+2*ULG*U0G
set UAG=URG+UPG-UYG
set UBG=USG+UQG-UZG
return UBG
endfunction
function U2G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer US7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(US7),(2)))
local unit TQG=(LoadUnitHandle(L7,(US7),(335)))
local real x0=(LoadReal(L7,(US7),(282)))
local real y0=(LoadReal(L7,(US7),(283)))
local real x1=GetUnitX(p5)
local real y1=GetUnitY(p5)
local real x2=GetUnitX(TQG)
local real y2=GetUnitY(TQG)
local real x3
local real y3
local real a
local group GLE=(LoadGroupHandle(L7,(US7),(187)))
local group g
local real d
local integer BY7=GetUnitAbilityLevel(p5,1093747000)
local real U_G=(LoadReal(L7,(US7),(342)))
local real II8=(TimerGetElapsed(W))
set EZ7="U2G"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call L97(GLE)
call FlushChildHashtable(L7,(US7))
call UQ7(t)
call ShowUnit(TQG,false)
call KillUnit(TQG)
if GetPlayerController(GetOwningPlayer(p5))==MAP_CONTROL_COMPUTER then
call RemoveSavedHandle(L7,GetHandleId(p5),StringHash("AI|AncestralCharge"))
endif
call SaveInteger(L7,(GetHandleId((p5))),((4270)),(2))
if(LoadInteger(L7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(L7,(GetHandleId(p5)),(704)))==1093747000 then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093747000,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815881,false)
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093815881 then
call IssueImmediateOrder(TQG,"stop")
call SaveBoolean(L7,(US7),(249),(true))
call SetUnitAnimationByIndex(TQG,3)
call UFG(GetTriggerUnit())
elseif GetSpellAbilityId()==1093815371 then
if IssueImmediateOrder(p5,"charm")then
call UnitRemoveAbility(TQG,1093815371)
endif
endif
if GetPlayerController(GetOwningPlayer(p5))==MAP_CONTROL_COMPUTER then
call RemoveSavedHandle(L7,GetHandleId(p5),StringHash("AI|AncestralCharge"))
endif
elseif Q07(x1,y1,x2,y2)<100 then
call UHG(p5,TQG,(LoadInteger(L7,(US7),(344))),(LoadInteger(L7,(US7),(345))))
call L97(GLE)
call FlushChildHashtable(L7,(US7))
call UQ7(t)
if(LoadInteger(L7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(L7,(GetHandleId(p5)),(704)))==1093747000 then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093747000,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815881,false)
elseif GetTriggerEvalCount(t)>400 or(LoadBoolean(L7,(US7),(249)))==true then
call L67(TQG,1097625443)
if GetTriggerEvalCount(t)==401 and(LoadBoolean(L7,(US7),(249)))==false then
call IssueImmediateOrder(TQG,"stop")
call SetUnitAnimationByIndex(TQG,3)
endif
set g=LD7()
set SH4=BY7
set SI4=(LoadInteger(L7,(US7),(344)))
set SJ4=(LoadInteger(L7,(US7),(345)))
set SG4=80+40*BY7
set SF4=p5
set IN4=p5
set M1=GLE
call GroupEnumUnitsInRange(g,GetUnitX(TQG),GetUnitY(TQG),300,Condition(function G78))
call ForGroup(g,function UKG)
call L97(g)
set g=null
call SaveInteger(L7,(US7),(344),(SI4))
call SaveInteger(L7,(US7),(345),(SJ4))
if((LoadInteger(L7,(GetHandleId((p5))),((4269))))==1)==false then
set a=Atan2(y1-y2,x1-x2)
call SetUnitFacing(TQG,a*bj_RADTODEG)
set x3=GetUnitX(TQG)+12*Cos(a)
set y3=GetUnitY(TQG)+12*Sin(a)
call SetUnitX(TQG,DT8(x3))
call SetUnitY(TQG,DU8(y3))
call SaveReal(L7,(US7),(282),((x1)*1.0))
call SaveReal(L7,(US7),(283),((y1)*1.0))
endif
else
call SetUnitMoveSpeed(TQG,GetUnitMoveSpeed(p5))
call UnitRemoveAbility(TQG,1097625443)
set g=LD7()
set SH4=BY7
set SI4=(LoadInteger(L7,(US7),(344)))
set SJ4=(LoadInteger(L7,(US7),(345)))
set SG4=80+40*BY7
set SF4=p5
set IN4=p5
set M1=GLE
call GroupEnumUnitsInRange(g,GetUnitX(TQG),GetUnitY(TQG),300,Condition(function G78))
call ForGroup(g,function UKG)
call L97(g)
set g=null
call SaveInteger(L7,(US7),(344),(SI4))
call SaveInteger(L7,(US7),(345),(SJ4))
if x0!=x1 or y0!=y1 then
set U_G=II8
call SaveReal(L7,(US7),(342),((U_G)*1.0))
endif
if((LoadInteger(L7,(GetHandleId((p5))),((4269))))==1)==false then
if U_G==II8 then
set x3=UMG(x0,y0,x1,y1,x2,y2)
set y3=U5G(x0,y0,x1,y1,x2,y2)
set a=Atan2(y3-y2,x3-x2)*bj_RADTODEG
call SaveReal(L7,(US7),(282),((x1)*1.0))
call SaveReal(L7,(US7),(283),((y1)*1.0))
endif
if(U_G+0.3)<II8 then
call SaveInteger(L7,(US7),(343),(1))
elseif(U_G+0.3)>II8 and(LoadInteger(L7,(US7),(343)))==1 then
call SaveInteger(L7,(US7),(343),(2))
elseif(LoadInteger(L7,(US7),(343)))==3 then
call SaveInteger(L7,(US7),(343),(1))
endif
else
call SaveInteger(L7,(US7),(343),(3))
endif
endif
set t=null
set p5=null
set TQG=null
set GLE=null
return false
endfunction
function V4G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer US7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local real x0=GetUnitX(p5)
local real y0=GetUnitY(p5)
local location l=GetSpellTargetLoc()
local real Q1D=GetLocationX(l)
local real Q0D=GetLocationY(l)
local real a=Atan2(Q0D-y0,Q1D-x0)
local real d=D28(Q07(x0,y0,Q1D,Q0D),300)
local real x1=DT8(x0+d*Cos(a))
local real y1=DU8(y0+d*Sin(a))
local unit TQG=CreateUnit(GetOwningPlayer(p5),1747990357,x1,y1,(a*bj_RADTODEG)-180)
call SetUnitMoveSpeed(TQG,GetUnitMoveSpeed(p5))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",TQG,"chest"))
if GetUnitAbilityLevel(p5,1093747524)>0 then
call L67(TQG,1093747537)
endif
if GetUnitAbilityLevel(p5,1093747009)==0 then
call UnitRemoveAbility(TQG,1093815371)
endif
call UnitAddAbility(p5,1093815881)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093747000,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815881,true)
call RemoveLocation(l)
set SK4[GetPlayerId(GetOwningPlayer(p5))]=TQG
call SaveInteger(L7,(GetHandleId((p5))),((4270)),(1))
call L67(TQG,1098282348)
call L67(TQG,1097167980)
if(LoadBoolean(L7,(GetHandleId(p5)),(339)))==true then
call TriggerEvaluate((LoadTriggerHandle(L7,(US7),(338))))
endif
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,TQG,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function U2G))
call SaveUnitHandle(L7,(US7),(2),(p5))
call SaveUnitHandle(L7,(US7),(335),(TQG))
call SaveReal(L7,(US7),(282),((x0)*1.0))
call SaveReal(L7,(US7),(283),((y0)*1.0))
call SaveGroupHandle(L7,(US7),(187),(LD7()))
call SaveInteger(L7,(US7),(343),(2))
call SaveReal(L7,(US7),(342),(((TimerGetElapsed(W))-5)*1.0))
call SaveBoolean(L7,(US7),(249),(false))
if GetPlayerController(GetOwningPlayer(p5))==MAP_CONTROL_COMPUTER then
call TJ7(GetHandleId(p5),"AI|AncestralCharge",TQG)
call TF7(GetHandleId(p5),"AI|AncestralCharge|hTrig",US7)
endif
set t=null
set p5=null
set TQG=null
endfunction
function V7G takes nothing returns boolean
if GetSpellAbilityId()==1093747000 then
call V4G()
endif
return false
endfunction
function UG8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UG8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function V7G))
call DX8(1093748537)
set t=null
endfunction
function V8G takes nothing returns boolean
if GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER and(GetItemTypeId(GetManipulatedItem())==ZU[H6]or GetItemTypeId(GetManipulatedItem())==ZU[G6]or GetItemTypeId(GetManipulatedItem())==ZU[N6])then
call UnitRemoveAbility(GetTriggerUnit(),1093743681)
endif
return false
endfunction
function V9G takes unit u,integer d returns nothing
local texttag t=CreateTextTag()
set EZ7="VIe"
call SetTextTagText(t,"+"+I2S(d)+" "+GetObjectName(1848659025),0.03)
call SetTextTagPosUnit(t,u,0)
call SetTextTagColorBJ(t,50,75,255,15)
call SetTextTagVelocity(t,0,0.035)
call SetTextTagFadepoint(t,3)
call SetTextTagLifespan(t,2.5)
call SetTextTagPermanent(t,false)
call SetTextTagVisibility(t,false)
call SetTextTagVisibility(t,true)
if IsUnitVisible(u,GetLocalPlayer())or C67(GetLocalPlayer())then
call SetTextTagVisibility(t,true)
else
call SetTextTagVisibility(t,false)
endif
set t=null
endfunction
function VDG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
set EZ7="VDG"
if GetSpellAbilityId()==1093678387 and GetUnitState(p5,UNIT_STATE_LIFE)>1 then
call SetUnitState(p5,UNIT_STATE_MANA,GetUnitState(p5,UNIT_STATE_MANA)+GetUnitState(m5,UNIT_STATE_LIFE)*GetUnitAbilityLevel(p5,1093678387)*0.15)
call V9G(m5,R2I(GetUnitState(m5,UNIT_STATE_LIFE)*GetUnitAbilityLevel(p5,1093678387)*0.15))
call KillUnit(m5)
endif
set p5=null
set m5=null
endfunction
function VEG takes nothing returns boolean
if GetSpellAbilityId()==1093678387 and RM7(GetSpellTargetUnit())==false then
call VDG()
endif
return false
endfunction
function VFG takes item J08,unit FJ8,boolean DQE returns nothing
local integer EL9=RO7(J08)
local integer PP7=GetHandleId(FJ8)
local string s=""
if(EL9==EW and SJ7(FJ8,EW,J08)==null)or(EL9==HW and SJ7(FJ8,HW,J08)==null)then
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(FJ8))==true or C67(GetLocalPlayer())then
set s=LY4
endif
if DQE then
if EXF(FJ8)>0 or GetItemType(J08)==ITEM_TYPE_PERMANENT or GetItemType(J08)==ITEM_TYPE_CAMPAIGN then
if GetUnitAbilityLevel(FJ8,1093809729)==0 and GetUnitAbilityLevel(FJ8,1093809730)==0 then
if s==LY4 then
call L67(FJ8,1093809729)
else
call L67(FJ8,1093809730)
endif
endif
endif
else
if not(GetUnitAbilityLevel(FJ8,1093809729)==0 and GetUnitAbilityLevel(FJ8,1093809730)==0)then
call UnitRemoveAbility(FJ8,1093809730)
call UnitRemoveAbility(FJ8,1093809729)
call RemoveSavedHandle(L7,(PP7),(670))
endif
endif
endif
endfunction
function VGG takes nothing returns boolean
local unit p5=GetTriggerUnit()
local item J08=GetManipulatedItem()
local integer id=GetItemTypeId(J08)
if J08==null or IsUnitIllusion(p5)==true or IsUnitType(p5,UNIT_TYPE_HERO)==false or JV8(GetUnitTypeId(p5))or GetItemTypeId(J08)==1227894853 or GetItemTypeId(J08)==1227895373 then
set p5=null
set J08=null
return false
endif
if(GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM and GetItemType(J08)!=ITEM_TYPE_PURCHASABLE)or GetTriggerEventId()==EVENT_PLAYER_UNIT_PAWN_ITEM then
call VFG(J08,p5,false)
call I38("DRI_"+I2S(GetPlayerId(GetOwningPlayer(p5))),ZU[EX9(RO7(J08))])
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
call VFG(J08,p5,true)
call I38("PUI_"+I2S(GetPlayerId(GetOwningPlayer(p5))),ZU[EX9(RO7(J08))])
endif
set p5=null
set J08=null
return false
endfunction
function VHG takes unit EC9 returns nothing
local integer VIG=GetPlayerId(GetOwningPlayer(EC9))
local integer VJG=EB9(EC9,1)
local integer VKG=GetUnitAbilityLevel(EC9,HM4[VJG])
set EZ7="Vce"
call UnitRemoveAbility(EC9,HR4[VJG])
call UnitRemoveAbility(EC9,1094004784)
call DisableTrigger(rj[VIG])
call DisableTrigger(Ej[VIG])
call UnitRemoveAbility(EC9,1093686081)
if VJG==43 then
call TF7(GetHandleId(EC9),"RefractionPrevent_Remaining",0)
call TF7(GetHandleId(EC9),"RefractionDamage_Remaining",0)
call UnitRemoveAbility(EC9,1093685830)
call UnitRemoveAbility(EC9,1093685837)
call UnitRemoveAbility(EC9,1093685838)
endif
call CI7(rj[VIG])
call CI7(Ej[VIG])
if VKG>0 then
call UnitAddAbility(EC9,1094004784)
call SetUnitAbilityLevel(EC9,1094004784,VKG)
endif
set rj[VIG]=null
set Ej[VIG]=null
endfunction
function VMG takes unit EC9 returns nothing
local integer VIG=GetPlayerId(GetOwningPlayer(EC9))
local integer VJG=EB9(EC9,2)
local integer VNG=GetUnitAbilityLevel(EC9,HN4[VJG])
local integer i=1
set EZ7="Vfe"
call UnitRemoveAbility(EC9,HS4[VJG])
call UnitRemoveAbility(EC9,1094004785)
call DisableTrigger(aj[VIG])
call DisableTrigger(Rj[VIG])
if VJG==59 then
call UnitRemoveAbility(EC9,1093677617)
call TF7(GetHandleId(EC9),"TotalWebs",0)
loop
exitwhen i>8
call RemoveUnit(T37(GetHandleId(EC9),"Web"+I2S(i)))
set i=i+1
endloop
endif
if VJG==62 then
call UnitRemoveAbility(EC9,1093679171)
call RemoveUnit(T37(GetHandleId(Rj[VIG]),"VisionUnit"))
if GetUnitAbilityLevel(EC9,1093679158)==0 then
call UnitRemoveAbility(EC9,1093742902)
call UnitRemoveAbility(EC9,1093742903)
endif
endif
if VJG==78 then
call H68(EC9,0)
endif
call CI7(aj[VIG])
call CI7(Rj[VIG])
if VNG>0 then
call UnitAddAbility(EC9,1094004785)
call SetUnitAbilityLevel(EC9,1094004785,VNG)
endif
set aj[VIG]=null
set Rj[VIG]=null
endfunction
function Vge takes nothing returns nothing
call UnitShareVision(GetEnumUnit(),GetOwningPlayer(D8),false)
endfunction
function VOG takes unit EC9 returns nothing
local integer VIG=GetPlayerId(GetOwningPlayer(EC9))
local integer VJG=EB9(EC9,3)
local integer VPG=GetUnitAbilityLevel(EC9,HO4[VJG])
local group g=null
set EZ7="VGe"
call UnitRemoveAbility(EC9,HT4[VJG])
call UnitRemoveAbility(EC9,1094004786)
call DisableTrigger(nj[VIG])
call DisableTrigger(Aj[VIG])
call UnitRemoveAbility(EC9,1093743428)
if VJG==15 then
call UnitRemoveAbility(EC9,1093747537)
call ForGroup(T57(GetHandleId(nj[VIG]),"ActiveGroup"),function TUG)
call L97(T57(GetHandleId(nj[VIG]),"ActiveGroup"))
endif
if VJG==27 then
call UnitRemoveAbility(EC9,1093684826)
endif
if VJG==38 then
call UnitRemoveAbility(EC9,1093748291)
endif
if VJG==41 then
call DestroyEffect(T27(GetHandleId(EC9),"OverloadFX1"))
call DestroyEffect(T27(GetHandleId(EC9),"OverloadFX2"))
endif
if VJG==42 then
call DestroyEffect(T27(GetHandleId(nj[VIG]),"FX1"))
call DestroyEffect(T27(GetHandleId(nj[VIG]),"FX2"))
call H68(EC9,0)
call H58(EC9,0)
endif
if VJG==58 then
call RemoveUnit(T37(GetHandleId(EC9),"FeralHeartCaster"))
endif
if VJG==60 then
call SetUnitVertexColorBJ(EC9,100,100,100,0)
call UnitRemoveAbility(EC9,1093743430)
call UnitRemoveAbility(EC9,1093743432)
call UnitRemoveAbility(EC9,1093743431)
call UnitRemoveAbility(EC9,1110458674)
call UnitRemoveAbility(EC9,1110458673)
call UnitRemoveAbility(EC9,1110458675)
call UnitRemoveAbility(EC9,1093743433)
call UnitRemoveAbility(EC9,1110458672)
endif
if VJG==62 then
call UnitRemoveAbility(EC9,1395667009)
call RemoveUnit(T37(GetHandleId(Aj[VIG]),"VisionUnit"))
if GetUnitAbilityLevel(EC9,1093679173)==0 then
call UnitRemoveAbility(EC9,1093742902)
call UnitRemoveAbility(EC9,1093742903)
endif
endif
if VJG==87 then
call UnitRemoveAbility(EC9,1093685068)
call UnitRemoveAbility(EC9,1093685069)
call UnitRemoveAbility(EC9,1093685070)
call UnitRemoveAbility(EC9,1093685064)
endif
call CI7(nj[VIG])
call CI7(Aj[VIG])
if VPG>0 then
call UnitAddAbility(EC9,1094004786)
call SetUnitAbilityLevel(EC9,1094004786,VPG)
endif
set nj[VIG]=null
set Aj[VIG]=null
set g=null
endfunction
function VQG takes unit EC9 returns nothing
local integer VIG=GetPlayerId(GetOwningPlayer(EC9))
local integer VJG=EB9(EC9,4)
local boolean MVD=SG7(EC9,ZU[GX4])
local integer VRG=GetUnitAbilityLevel(EC9,HP4[VJG])
set EZ7="VHe"
if MVD and HQ4[VJG]!=0 then
set VRG=GetUnitAbilityLevel(EC9,HQ4[VJG])
endif
call UnitRemoveAbility(EC9,HU4[VJG])
call UnitRemoveAbility(EC9,HV4[VJG])
call UnitRemoveAbility(EC9,1094004787)
call DisableTrigger(Vj[VIG])
call DisableTrigger(Nj[VIG])
call UnitRemoveAbility(EC9,1093684546)
call UnitRemoveAbility(EC9,1093677652)
call UnitRemoveAbility(EC9,1093685844)
call UnitRemoveAbility(EC9,1093683265)
call UnitRemoveAbility(EC9,1093749061)
call UnitRemoveAbility(EC9,1110459193)
call UnitRemoveAbility(EC9,1093749062)
call UnitRemoveAbility(EC9,1110459193)
call UnitRemoveAbility(EC9,1093749063)
call UnitRemoveAbility(EC9,1110459193)
if VJG==29 then
call RemoveUnit(T37(GetHandleId(EC9),"Warpath|Caster"))
call H68(EC9,0)
endif
call CI7(Vj[VIG])
call CI7(Nj[VIG])
if VRG>0 then
call UnitAddAbility(EC9,1094004787)
call SetUnitAbilityLevel(EC9,1094004787,VRG)
endif
call TimerStart(N84[VIG],0,false,null)
set Vj[VIG]=null
set Nj[VIG]=null
endfunction
function VSG takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit EC9=T37(GetHandleId(t),"FormlessUnit")
local integer VTG=U97(GetHandleId(t),"WP8")
set EZ7="VSG"
call IssueImmediateOrder(EC9,"unimmolation")
if VTG==1094004788 then
call VHG(EC9)
call VMG(EC9)
call VOG(EC9)
call VQG(EC9)
elseif VTG==1094004789 then
call VHG(EC9)
elseif VTG==1094004790 then
call VMG(EC9)
elseif VTG==1094004791 then
call VOG(EC9)
elseif VTG==1094004792 then
call VQG(EC9)
endif
call DestroyTimer(t)
set EC9=null
set t=null
endfunction
function VUG takes unit EC9,integer VTG returns nothing
local integer VIG=GetPlayerId(GetOwningPlayer(EC9))
local timer t=CreateTimer()
set EZ7="VKe"
call IssueImmediateOrder(EC9,"stop")
call TJ7(GetHandleId(t),"FormlessUnit",EC9)
call TF7(GetHandleId(t),"WP8",VTG)
call TimerStart(t,0,false,function VSG)
set t=null
endfunction
function VVG takes nothing returns boolean
if GetSpellAbilityId()==1094004788 or GetSpellAbilityId()==1094004789 or GetSpellAbilityId()==1094004790 or GetSpellAbilityId()==1094004791 or GetSpellAbilityId()==1094004792 then
call VUG(GetTriggerUnit(),GetSpellAbilityId())
endif
return false
endfunction
function WP8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="WP8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VVG))
set t=null
endfunction
function VWG takes nothing returns boolean
return GetSpellAbilityId()==1094004784 or GetSpellAbilityId()==1094004785 or GetSpellAbilityId()==1094004786 or GetSpellAbilityId()==1094004787
endfunction
function VXG takes nothing returns nothing
local unit EC9=GetTriggerUnit()
local player p=GetOwningPlayer(EC9)
local integer VYG=GetUnitPointValue(GetSpellTargetUnit())
local integer VZG=GetUnitAbilityLevel(EC9,GetSpellAbilityId())
local integer VAG=GetSpellAbilityId()
local integer VIG=GetPlayerId(p)
local unit K68=null
local integer VBG=0
local integer VCG=0
local integer V3G=0
local string V6G=""
local string VLG=""
local boolean MVD=SG7(EC9,ZU[GX4])
local trigger t
local integer V1G=EB9(EC9,1)
local integer V0G=EB9(EC9,2)
local integer V5G=EB9(EC9,3)
local integer V2G=EB9(EC9,4)
set EZ7="VXG"
if VAG==1094004784 then
set VBG=HM4[VYG]
set VCG=HR4[VYG]
set V6G=HW4[VYG]
set VLG="Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl"
elseif VAG==1094004785 then
set VBG=HN4[VYG]
set VCG=HS4[VYG]
set V6G=HX4[VYG]
set VLG="Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl"
elseif VAG==1094004786 then
set VBG=HO4[VYG]
set VCG=HT4[VYG]
set V6G=HY4[VYG]
set VLG="Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl"
elseif VAG==1094004787 then
set VBG=HP4[VYG]
set VCG=HU4[VYG]
set V6G=HZ4[VYG]
set VLG="Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"
if MVD==true and HQ4[VYG]!=0 then
set VBG=HQ4[VYG]
set VCG=HV4[VYG]
endif
endif
if VCG==0 then
call DQ8(p,"Unable to copy "+GetAbilityName(VBG)+".")
elseif bj[VIG]==false and V6G!="passive" and(V6G==HW4[V1G]or V6G==HX4[V0G]or V6G==HY4[V5G]or V6G==HZ4[V2G])then
if V6G==HW4[V1G]then
set V3G=HM4[V1G]
elseif V6G==HX4[V0G]then
set V3G=HN4[V0G]
elseif V6G==HY4[V5G]then
set V3G=HO4[V5G]
elseif V6G==HZ4[V2G]then
set V3G=HP4[V2G]
endif
call DQ8(p,"Cannot copy "+GetAbilityName(VBG)+" because you already
        have an ability with this base order ("+GetAbilityName(V3G)+").
        Use -override to disable this.")
else
call DestroyEffect(AddSpecialEffectTarget(VLG,EC9,"origin"))
call UnitRemoveAbility(EC9,VAG)
call UnitAddAbility(EC9,VBG)
call UnitAddAbility(EC9,VCG)
call SetPlayerAbilityAvailable(p,VCG,false)
call SetUnitAbilityLevel(EC9,VBG,VZG)
if VBG==1093686073 then
call UnitAddAbility(EC9,1093686081)
elseif VBG==1093742926 then
call UnitAddAbility(EC9,1093743428)
elseif VBG==1093677130 then
call UnitAddAbility(EC9,1093684546)
call SetUnitAbilityLevel(EC9,1093684546,VZG)
elseif VBG==1093681483 or VBG==1093748313 then
call UnitAddAbility(EC9,1093687110)
elseif VBG==1093685840 then
call UnitAddAbility(EC9,1093685844)
elseif VBG==1093683257 then
call UnitAddAbility(EC9,1093683265)
endif
if VBG==1093682265 then
call E8D(EC9,true)
elseif VBG==1093744728 then
call SSG(EC9,true)
elseif VBG==1093684314 then
call O2D(EC9,true)
elseif VBG==1093747524 then
call TXG(EC9,true)
elseif VBG==1093744977 then
call TAD(EC9,true)
elseif VBG==1093684531 then
call CO9(EC9,true)
elseif VBG==1093682774 then
call CF9(EC9,true)
elseif VBG==1093749073 then
call BY9(EC9,true)
elseif VBG==1093685048 then
call GAD(EC9,true)
elseif VBG==1093685591 then
call QBD(EC9,true)
elseif VBG==1093685582 then
call G7D(EC9,true)
elseif VBG==1093685585 then
call GGD(EC9,true)
elseif VBG==1093748033 then
call ULD(EC9,true)
elseif VBG==1093677893 then
call L7E(EC9,true)
elseif VBG==1093681735 then
call YWD(EC9,true)
elseif VBG==1093679173 or VBG==1093679158 then
call JUE(EC9,true,VBG)
elseif VBG==1093682010 then
call AWD(EC9,true)
elseif VBG==1093679153 then
call BQD(EC9,true)
elseif VBG==1093748022 then
call N6E(EC9,true)
elseif VBG==1093686099 then
call ZMF(EC9,true)
elseif VBG==1093678149 then
call SOE(EC9,true)
elseif VBG==1093677390 then
call IEE(EC9,true)
elseif VBG==1093678660 then
elseif VBG==1093682515 then
call R9E(EC9,true)
elseif VBG==1093682004 then
elseif VBG==1093684819 or VBG==1093747777 then
call X4D(EC9,true)
elseif VBG==1093684801 then
call QTE(EC9,true)
elseif VBG==1093685065 then
call ZKD(EC9,true)
elseif VBG==1093683526 then
call ZID(EC9,true)
elseif VBG==1093749070 then
call YAE(EC9,true)
endif
endif
set EC9=null
set p=null
set t=null
endfunction
function WO8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="WO8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VWG))
call TriggerAddAction(t,function VXG)
set t=null
endfunction
function V_G takes nothing returns boolean
return(GetLearnedSkill()==1094004784 or GetLearnedSkill()==1094004785 or GetLearnedSkill()==1094004786 or GetLearnedSkill()==1094004787)and GetUnitAbilityLevel(GetTriggerUnit(),1094004788)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1094004789)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1094004790)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1094004791)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1094004792)==0
endfunction
function W4G takes nothing returns boolean
return GetIssuedOrderId()==OrderId("replenishon")
endfunction
function W7G takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit W8G=T37(GetHandleId(t),"FormlessUnit")
local integer W9G
set EZ7="W7G"
call IssueImmediateOrder(W8G,"replenishoff")
if GetUnitAbilityLevel(W8G,1094004788)>0 then
set W9G=1094004793
elseif GetUnitAbilityLevel(W8G,1094004789)>0 then
set W9G=1094004801
elseif GetUnitAbilityLevel(W8G,1094004790)>0 then
set W9G=1094004802
elseif GetUnitAbilityLevel(W8G,1094004791)>0 then
set W9G=1094004803
elseif GetUnitAbilityLevel(W8G,1094004792)>0 then
set W9G=0
endif
call UnitRemoveAbility(W8G,1094004793)
call UnitRemoveAbility(W8G,1094004801)
call UnitRemoveAbility(W8G,1094004802)
call UnitRemoveAbility(W8G,1094004803)
if W9G!=0 then
call UnitAddAbility(W8G,W9G)
call SetPlayerAbilityAvailable(GetOwningPlayer(W8G),W9G,false)
endif
call T97(GetHandleId(t))
call DestroyTimer(t)
set t=null
set W8G=null
endfunction
function WDG takes nothing returns nothing
local unit W8G=GetTriggerUnit()
local timer t=CreateTimer()
set EZ7="WDG"
call TJ7(GetHandleId(t),"FormlessUnit",W8G)
call TimerStart(t,0,false,function W7G)
set W8G=null
set t=null
endfunction
function WEG takes nothing returns nothing
local integer VIG=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
local trigger t=CreateTrigger()
set EZ7="WEG"
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function W4G))
call TriggerAddAction(t,function WDG)
if GetLearnedSkill()!=1094004784 then
call UnitAddAbility(GetTriggerUnit(),1094004784)
call UnitRemoveAbility(GetTriggerUnit(),1094004784)
elseif GetLearnedSkill()!=1094004785 then
call UnitAddAbility(GetTriggerUnit(),1094004785)
call UnitRemoveAbility(GetTriggerUnit(),1094004785)
elseif GetLearnedSkill()!=1094004786 then
call UnitAddAbility(GetTriggerUnit(),1094004786)
call UnitRemoveAbility(GetTriggerUnit(),1094004786)
elseif GetLearnedSkill()!=1094004787 then
call UnitAddAbility(GetTriggerUnit(),1094004787)
call UnitRemoveAbility(GetTriggerUnit(),1094004787)
endif
call UnitAddAbility(GetTriggerUnit(),1094004789)
call UnitRemoveAbility(GetTriggerUnit(),1094004789)
call UnitAddAbility(GetTriggerUnit(),1094004790)
call UnitRemoveAbility(GetTriggerUnit(),1094004790)
call UnitAddAbility(GetTriggerUnit(),1094004791)
call UnitRemoveAbility(GetTriggerUnit(),1094004791)
call UnitAddAbility(GetTriggerUnit(),1094004792)
call UnitRemoveAbility(GetTriggerUnit(),1094004792)
call UnitAddAbility(GetTriggerUnit(),1094004788)
set t=null
endfunction
function WQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="WQ8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function V_G))
call TriggerAddAction(t,function WEG)
set t=null
endfunction
function WFG takes nothing returns nothing
local unit LI7=GetTriggerUnit()
local player p=GetOwningPlayer(LI7)
local real x
local real y
local integer KR8
set EZ7="WFG"
set IG4[GetPlayerId(GetOwningPlayer((LI7)))]=false
if AG7(GetOwningPlayer(LI7))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
call TimerStart(U[GetPlayerId(p)],0.0,false,null)
if KO8(LI7)then
call KA8(LI7)
else
call KM8(LI7,p,x,y,false)
endif
call SetUnitX(LI7,x)
call SetUnitY(LI7,y)
call KI8(LI7)
call SetUnitPathing(LI7,true)
if SK7(LI7,ZU[DI4])!=null and GetUnitTypeId(LI7)!=1211117642 then
set KR8=(R2I(((GetItemCharges(SK7(LI7,ZU[DI4]))*0.67)*1.0)))
if GetItemCharges(SK7(LI7,ZU[DI4]))==1 then
set KR8=0
endif
call SetItemCharges(SK7(LI7,ZU[DI4]),KR8)
call AddHeroXP(LI7,GetHeroXP(OA4[GetPlayerId(GetOwningPlayer(LI7))]),true)
call RemoveUnit(OA4[GetPlayerId(GetOwningPlayer(LI7))])
endif
if RZ4 and GetUnitPointValue(LI7)==500 then
call VUG(LI7,1094004788)
endif
set LI7=null
set p=null
endfunction
function WGG takes unit WHG,integer WIG returns nothing
call UnitRemoveAbility(WHG,1094006068)
call UnitRemoveAbility(WHG,1094006069)
call UnitRemoveAbility(WHG,1094006070)
call UnitRemoveAbility(WHG,1094006071)
call UnitRemoveAbility(WHG,1094006072)
if WIG>=16 then
call UnitAddAbility(WHG,1094006072)
set WIG=WIG-16
endif
if WIG>=8 then
call UnitAddAbility(WHG,1094006071)
set WIG=WIG-8
endif
if WIG>=4 then
call UnitAddAbility(WHG,1094006070)
set WIG=WIG-4
endif
if WIG>=2 then
call UnitAddAbility(WHG,1094006069)
set WIG=WIG-2
endif
if WIG>=1 then
call UnitAddAbility(WHG,1094006068)
set WIG=WIG-1
endif
endfunction
function WJG takes nothing returns boolean
return GetSpellAbilityId()==1094006064
endfunction
function WKG takes nothing returns nothing
local unit WHG=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer WMG=(1+GetUnitAbilityLevel(WHG,1094006064))*GetHeroStr(WHG,true)
local integer WNG=U97(GetHandleId(WHG),"iPFCount")+1
local integer WIG=U97(GetHandleId(WHG),"iPFStrength")
local integer WOG=WIG
set EZ7="WKG"
if WNG>9 then
set WNG=0
set WOG=DL8(5*GetUnitAbilityLevel(WHG,1094006064),WIG+1)
if WOG!=WIG then
call WGG(WHG,WOG)
if m5!=WHG then
call EI8("+1 Strength",3,WHG,.023,255,0,0,255)
endif
endif
endif
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+WMG)
if WNG!=0 or m5!=WHG or WOG==WIG then
call EI8("+"+I2S(WMG)+" HP",3,m5,.023,255,0,0,255)
else
call EI8("+"+I2S(WMG)+" HP
        +1 Strength",3,WHG,.023,255,0,0,255)
endif
call TF7(GetHandleId(WHG),"iPFCount",WNG)
call TF7(GetHandleId(WHG),"iPFStrength",WOG)
set WHG=null
set m5=null
endfunction
function WPG takes nothing returns boolean
return IY8(GetEventDamage())
endfunction
function WQG takes nothing returns nothing
local unit WHG=GetTriggerUnit()
local real WRG=UD7(GetHandleId(WHG),"rPFDamage")+GetEventDamage()
local integer WIG=U97(GetHandleId(WHG),"iPFStrength")
local integer WOG=WIG
set EZ7="WQG"
if WRG>=500 then
set WRG=WRG-500
set WOG=DL8(5*GetUnitAbilityLevel(WHG,1094006064),WIG+1)
if WOG!=WIG then
call WGG(WHG,WOG)
call EI8("+1 Strength",3,WHG,.023,255,0,0,255)
endif
endif
call TG7(GetHandleId(WHG),"rPFDamage",WRG)
call TF7(GetHandleId(WHG),"iPFStrength",WOG)
set WHG=null
endfunction
function WSG takes nothing returns boolean
return GetLearnedSkill()==1094006064 and GetUnitAbilityLevel(GetTriggerUnit(),1094006064)==1
endfunction
function WTG takes nothing returns nothing
local unit WHG=GetTriggerUnit()
local trigger t=CreateTrigger()
set EZ7="WTG"
call TriggerRegisterUnitEvent(t,WHG,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function WPG))
call TriggerAddAction(t,function WQG)
call TG7(GetHandleId(WHG),"rPFDamage",0)
call TF7(GetHandleId(WHG),"iPFCount",0)
call TF7(GetHandleId(WHG),"iPFStrength",0)
set t=null
set WHG=null
endfunction
function WR8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="WR8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WJG))
call TriggerAddAction(t,function WKG)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function WSG))
call TriggerAddAction(t,function WTG)
set t=null
endfunction
function WUG takes unit WHG,integer WVG returns nothing
call UnitRemoveAbility(WHG,1094006073)
call UnitRemoveAbility(WHG,1094006081)
call UnitRemoveAbility(WHG,1094006082)
call UnitRemoveAbility(WHG,1094006083)
call UnitRemoveAbility(WHG,1094006084)
if WVG>=16 then
call UnitAddAbility(WHG,1094006084)
set WVG=WVG-16
endif
if WVG>=8 then
call UnitAddAbility(WHG,1094006083)
set WVG=WVG-8
endif
if WVG>=4 then
call UnitAddAbility(WHG,1094006082)
set WVG=WVG-4
endif
if WVG>=2 then
call UnitAddAbility(WHG,1094006081)
set WVG=WVG-2
endif
if WVG>=1 then
call UnitAddAbility(WHG,1094006073)
set WVG=WVG-1
endif
endfunction
function WWG takes nothing returns boolean
return GetSpellAbilityId()==1094006065
endfunction
function WXG takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit m5=T37(GetHandleId(t),"SFluxTarget")
set EZ7="WXG"
call UnitRemoveAbility(m5,1094006090)
call UnitRemoveAbility(m5,1094006094)
call UnitRemoveAbility(m5,1094006095)
call UnitRemoveAbility(m5,1094006096)
call UnitRemoveAbility(m5,1110783306)
call UnitRemoveAbility(m5,1110783310)
call UnitRemoveAbility(m5,1110783311)
call UnitRemoveAbility(m5,1110783312)
call CI7(t)
set t=null
set m5=null
endfunction
function WYG takes nothing returns nothing
local unit WHG=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real WZG=0.25*GetHeroAgi(WHG,true)
local integer WAG=U97(GetHandleId(WHG),"iSFCount")+1
local integer WVG=U97(GetHandleId(WHG),"iSFAgility")
local integer WBG=WVG
local trigger t=CreateTrigger()
local integer BY7=GetUnitAbilityLevel(WHG,1094006065)
set EZ7="WYG"
if WAG>9 then
set WAG=0
set WBG=DL8(5*BY7,WVG+1)
if WBG!=WVG then
call WUG(WHG,WBG)
if m5!=WHG then
call EI8("+1 Agility",3,WHG,.023,0,255,0,255)
endif
endif
endif
call CI7(T07(GetHandleId(m5),"SFluxEndTrig"))
call UnitRemoveAbility(m5,1094006090)
call UnitRemoveAbility(m5,1094006094)
call UnitRemoveAbility(m5,1094006095)
call UnitRemoveAbility(m5,1094006096)
call UnitRemoveAbility(m5,1110783306)
call UnitRemoveAbility(m5,1110783310)
call UnitRemoveAbility(m5,1110783311)
call UnitRemoveAbility(m5,1110783312)
if BY7==1 then
call UnitAddAbility(m5,1094006090)
elseif BY7==2 then
call UnitAddAbility(m5,1094006094)
elseif BY7==3 then
call UnitAddAbility(m5,1094006095)
elseif BY7==4 then
call UnitAddAbility(m5,1094006096)
endif
call TriggerRegisterTimerEvent(t,WZG,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddAction(t,function WXG)
call TJ7(GetHandleId(t),"SFluxTarget",m5)
call TM7(GetHandleId(m5),"SFluxEndTrig",t)
if WAG!=0 or m5!=WHG or WBG==WVG then
call EI8(R2S(WZG)+" s",3,m5,.023,0,255,0,255)
else
call EI8(R2S(WZG)+" s
        +1 Agility",3,WHG,.023,0,255,0,255)
endif
call TF7(GetHandleId(WHG),"iSFCount",WAG)
call TF7(GetHandleId(WHG),"iSFAgility",WBG)
set WHG=null
set m5=null
set t=null
endfunction
function WCG takes nothing returns boolean
return IY8(GetEventDamage())
endfunction
function W3G takes nothing returns nothing
local unit WHG=GetTriggerUnit()
local integer W6G=U97(GetHandleId(WHG),"iSFHit")+1
local integer WVG=U97(GetHandleId(WHG),"iSFAgility")
local integer WBG=WVG
set EZ7="W3G"
if W6G>=20 then
set W6G=0
set WBG=DL8(5*GetUnitAbilityLevel(WHG,1094006065),WVG+1)
if WBG!=WVG then
call WUG(WHG,WBG)
call EI8("+1 Agility",3,WHG,.023,0,255,0,255)
endif
endif
call TF7(GetHandleId(WHG),"iSFHit",W6G)
call TF7(GetHandleId(WHG),"iSFAgility",WBG)
set WHG=null
endfunction
function WLG takes nothing returns boolean
return GetLearnedSkill()==1094006065 and GetUnitAbilityLevel(GetTriggerUnit(),1094006065)==1
endfunction
function W1G takes nothing returns nothing
local unit WHG=GetTriggerUnit()
local trigger t=CreateTrigger()
set EZ7="W1G"
call TriggerRegisterUnitEvent(t,WHG,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function WCG))
call TriggerAddAction(t,function W3G)
call TF7(GetHandleId(WHG),"iSFHit",0)
call TF7(GetHandleId(WHG),"iSFCount",0)
call TF7(GetHandleId(WHG),"iSFAgility",0)
set t=null
set WHG=null
endfunction
function WS8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="WS8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WWG))
call TriggerAddAction(t,function WYG)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function WLG))
call TriggerAddAction(t,function W1G)
set t=null
endfunction
function W0G takes unit WHG,integer W5G returns nothing
call UnitRemoveAbility(WHG,1094006085)
call UnitRemoveAbility(WHG,1094006086)
call UnitRemoveAbility(WHG,1094006087)
call UnitRemoveAbility(WHG,1094006088)
call UnitRemoveAbility(WHG,1094006089)
if W5G>=16 then
call UnitAddAbility(WHG,1094006089)
set W5G=W5G-16
endif
if W5G>=8 then
call UnitAddAbility(WHG,1094006088)
set W5G=W5G-8
endif
if W5G>=4 then
call UnitAddAbility(WHG,1094006087)
set W5G=W5G-4
endif
if W5G>=2 then
call UnitAddAbility(WHG,1094006086)
set W5G=W5G-2
endif
if W5G>=1 then
call UnitAddAbility(WHG,1094006085)
set W5G=W5G-1
endif
endfunction
function W2G takes nothing returns boolean
return GetSpellAbilityId()==1094006066
endfunction
function W_G takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit m5=T37(GetHandleId(t),"MFluxTarget")
local integer X4G=U97(GetHandleId(t),"iMFluxMP")
set EZ7="W_G"
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)+X4G)
call CI7(t)
set t=null
set m5=null
endfunction
function X7G takes nothing returns nothing
local unit WHG=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer X4G=R2I(0.75*GetUnitAbilityLevel(WHG,1094006066)*GetHeroInt(WHG,true))
local integer X8G=U97(GetHandleId(WHG),"iMFCount")+1
local integer W5G=U97(GetHandleId(WHG),"iMFIntelligence")
local integer X9G=W5G
local trigger t=CreateTrigger()
set EZ7="X7G"
if X8G>9 then
set X8G=0
set X9G=DL8(5*GetUnitAbilityLevel(WHG,1094006066),W5G+1)
if X9G!=W5G then
call W0G(WHG,X9G)
if m5!=WHG then
call EI8("+1 Intelligence",3,WHG,.023,0,0,255,255)
endif
endif
endif
call TJ7(GetHandleId(t),"MFluxTarget",m5)
call TF7(GetHandleId(t),"iMFluxMP",X4G)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddAction(t,function W_G)
if X8G!=0 or m5!=WHG or X9G==W5G then
call EI8("+"+I2S(X4G)+" MP",3,m5,.023,0,0,255,255)
else
call EI8("+"+I2S(X4G)+" MP
        +1 Intelligence",3,WHG,.023,0,0,255,255)
endif
call TF7(GetHandleId(WHG),"iMFCount",X8G)
call TF7(GetHandleId(WHG),"iMFIntelligence",X9G)
set WHG=null
set m5=null
set t=null
endfunction
function XDG takes nothing returns boolean
return GetSpellTargetUnit()==T37(GetHandleId(GetTriggeringTrigger()),"uKappa")and IsUnitEnemy(T37(GetHandleId(GetTriggeringTrigger()),"uKappa"),GetOwningPlayer(GetTriggerUnit()))
endfunction
function XEG takes nothing returns nothing
local unit WHG=GetSpellTargetUnit()
local integer XFG=U97(GetHandleId(WHG),"iMFCast")+1
local integer W5G=U97(GetHandleId(WHG),"iMFIntelligence")
local integer X9G=W5G
set EZ7="XEG"
if XFG>=3 then
set XFG=0
set X9G=DL8(5*GetUnitAbilityLevel(WHG,1094006066),W5G+1)
if X9G!=W5G then
call W0G(WHG,X9G)
call EI8("+1 Intelligence",3,WHG,.023,0,0,255,255)
endif
endif
call TF7(GetHandleId(WHG),"iMFCast",XFG)
call TF7(GetHandleId(WHG),"iMFIntelligence",X9G)
set WHG=null
endfunction
function XGG takes nothing returns boolean
return GetLearnedSkill()==1094006066 and GetUnitAbilityLevel(GetTriggerUnit(),1094006066)==1
endfunction
function XHG takes nothing returns nothing
local unit WHG=GetTriggerUnit()
local trigger t=CreateTrigger()
set EZ7="XHG"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function XDG))
call TriggerAddAction(t,function XEG)
call TJ7(GetHandleId(t),"uKappa",WHG)
call TF7(GetHandleId(WHG),"iMFCast",0)
call TF7(GetHandleId(WHG),"iMFCount",0)
call TF7(GetHandleId(WHG),"iMFIntelligence",0)
set t=null
set WHG=null
endfunction
function WT8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="WT8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W2G))
call TriggerAddAction(t,function X7G)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function XGG))
call TriggerAddAction(t,function XHG)
set t=null
endfunction
function XIG takes nothing returns boolean
return GetSpellAbilityId()==1094006067
endfunction
function XJG takes nothing returns nothing
local unit WHG=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer XKG=0
local integer XMG=0
set EZ7="XJG"
if GetUnitAbilityLevel(WHG,1094006091)>0 then
set XMG=U97(GetHandleId(WHG),"iPFStrength")
elseif GetUnitAbilityLevel(WHG,1094006092)>0 then
set XMG=U97(GetHandleId(WHG),"iSFAgility")
elseif GetUnitAbilityLevel(WHG,1094006093)>0 then
set XMG=U97(GetHandleId(WHG),"iMFIntelligence")
endif
set XKG=XMG/2
if ModuloInteger(XMG,2)>0 then
set XKG=XKG+1
endif
set XMG=XMG/2
if GetUnitAbilityLevel(WHG,1094006091)>0 then
call WGG(WHG,0)
call TF7(GetHandleId(WHG),"iPFStrength",0)
call SetHeroStr(m5,GetHeroStr(m5,false)+XKG,true)
call SetHeroStr(WHG,GetHeroStr(WHG,false)+XMG,true)
call EI8("+"+I2S(XKG)+" Strength",3,m5,.023,255,0,0,255)
call EI8("+"+I2S(XMG)+" Strength",3,WHG,.023,255,0,0,255)
call TF7(GetHandleId(m5),"FluxStr",U97(GetHandleId(m5),"FluxStr")+XKG)
call TF7(GetHandleId(WHG),"FluxStr",U97(GetHandleId(WHG),"FluxStr")+XMG)
elseif GetUnitAbilityLevel(WHG,1094006092)>0 then
call WUG(WHG,0)
call TF7(GetHandleId(WHG),"iSFAgility",0)
call SetHeroAgi(m5,GetHeroAgi(m5,false)+XKG,true)
call SetHeroAgi(WHG,GetHeroAgi(WHG,false)+XMG,true)
call EI8("+"+I2S(XKG)+" Agility",3,m5,.023,0,255,0,255)
call EI8("+"+I2S(XMG)+" Agility",3,WHG,.023,0,255,0,255)
call TF7(GetHandleId(m5),"FluxAgi",U97(GetHandleId(m5),"FluxAgi")+XKG)
call TF7(GetHandleId(WHG),"FluxAgi",U97(GetHandleId(WHG),"FluxAgi")+XMG)
elseif GetUnitAbilityLevel(WHG,1094006093)>0 then
call W0G(WHG,0)
call TF7(GetHandleId(WHG),"iMFIntelligence",0)
call SetHeroInt(m5,GetHeroInt(m5,false)+XKG,true)
call SetHeroInt(WHG,GetHeroInt(WHG,false)+XMG,true)
call EI8("+"+I2S(XKG)+" Intelligence",3,m5,.023,0,0,255,255)
call EI8("+"+I2S(XMG)+" Intelligence",3,WHG,.023,0,0,255,255)
call TF7(GetHandleId(m5),"FluxInt",U97(GetHandleId(m5),"FluxInt")+XKG)
call TF7(GetHandleId(WHG),"FluxInt",U97(GetHandleId(WHG),"FluxInt")+XMG)
endif
set WHG=null
set m5=null
endfunction
function XNG takes nothing returns boolean
return GetLearnedSkill()==1094006067 and GetUnitAbilityLevel(GetTriggerUnit(),1094006067)==1
endfunction
function XOG takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),1094006091)
endfunction
function XPG takes nothing returns boolean
return GetSpellAbilityId()==1094006091 or GetSpellAbilityId()==1094006092 or GetSpellAbilityId()==1094006093
endfunction
function XQG takes nothing returns nothing
if GetSpellAbilityId()==1094006091 then
call UnitRemoveAbility(GetTriggerUnit(),1094006091)
call UnitAddAbility(GetTriggerUnit(),1094006092)
elseif GetSpellAbilityId()==1094006092 then
call UnitRemoveAbility(GetTriggerUnit(),1094006092)
call UnitAddAbility(GetTriggerUnit(),1094006093)
else
call UnitRemoveAbility(GetTriggerUnit(),1094006093)
call UnitAddAbility(GetTriggerUnit(),1094006091)
endif
endfunction
function WU8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="WU8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XIG))
call TriggerAddAction(t,function XJG)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function XNG))
call TriggerAddAction(t,function XOG)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XPG))
call TriggerAddAction(t,function XQG)
set t=null
endfunction
function XRG takes nothing returns nothing
local unit XSG=M7[GetPlayerId(GetTriggerPlayer())]
local player p=GetTriggerPlayer()
local integer XTG=GetHandleId(XSG)
local integer XUG=U97(XTG,"FluxStr")
local integer XVG=U97(XTG,"FluxAgi")
local integer XWG=U97(XTG,"FluxInt")
local integer XXG=U97(XTG,"iPFStrength")
local integer XYG=U97(XTG,"iSFAgility")
local integer XZG=U97(XTG,"iMFIntelligence")
set EZ7="XRG"
if GetUnitTypeId(XSG)==1211510832 then
call DisplayTimedTextToPlayer(p,0,0,15,"Bonus Strength: "+I2S(XXG))
call DisplayTimedTextToPlayer(p,0,0,15,"Bonus Agility: "+I2S(XYG))
call DisplayTimedTextToPlayer(p,0,0,15,"Bonus Intelligence: "+I2S(XZG))
endif
call DisplayTimedTextToPlayer(p,0,0,15,"Flux Strength: "+I2S(XUG))
call DisplayTimedTextToPlayer(p,0,0,15,"Flux Agility: "+I2S(XVG))
call DisplayTimedTextToPlayer(p,0,0,15,"Flux Intelligence: "+I2S(XWG))
set XSG=null
set p=null
endfunction
function WV8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="WV8"
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-flux",true)
call TriggerAddAction(t,function XRG)
set t=null
endfunction
function XAG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer L48=(LoadInteger(L7,(GetHandleId(PU7)),(627)))
local real XBG=(LoadReal(L7,(GetHandleId(PU7)),(628)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093751604)
local real CV9=(5+HW8*15)*Pow(2,IMinBJ(L48,4)-1)
set EZ7="XAG"
set CV9=CV9+IMaxBJ(L48-4,0)*50
if GetTriggerEventId()==EVENT_UNIT_DEATH then
if IsUnitType(PU7,UNIT_TYPE_HERO)==true then
call KillUnit((LoadUnitHandle(L7,(PP7),(45))))
endif
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call SaveInteger(L7,(GetHandleId(PU7)),(627),(0))
call SaveReal(L7,(GetHandleId(PU7)),(628),((0)*1.0))
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093751609 then
if IsUnitType(PU7,UNIT_TYPE_HERO)==true then
call KillUnit((LoadUnitHandle(L7,(PP7),(45))))
endif
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call SaveInteger(L7,(GetHandleId(PU7)),(627),(0))
call SaveReal(L7,(GetHandleId(PU7)),(628),((0)*1.0))
if(UJ7(PU7,"DisruptionState"))then
call SetUnitInvulnerable(PU7,false)
endif
call HY8(FJ8,PU7,ZG4,CV9)
if(UJ7(PU7,"DisruptionState"))then
call SetUnitInvulnerable(PU7,true)
endif
call EI8(I2S(R2I(CV9))+"!",2,PU7,0.025,100,0,200,216)
endif
elseif(TimerGetElapsed(W))>XBG then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
if IsUnitType(PU7,UNIT_TYPE_HERO)==true then
call KillUnit((LoadUnitHandle(L7,(PP7),(45))))
endif
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call SaveInteger(L7,(GetHandleId(PU7)),(627),(0))
call SaveReal(L7,(GetHandleId(PU7)),(628),((0)*1.0))
if(UJ7(PU7,"DisruptionState"))then
call SetUnitInvulnerable(PU7,false)
endif
call HY8(FJ8,PU7,ZG4,CV9)
if(UJ7(PU7,"DisruptionState"))then
call SetUnitInvulnerable(PU7,true)
endif
call EI8(I2S(R2I(CV9))+"!",2,PU7,0.025,100,0,200,216)
else
if IsUnitType(PU7,UNIT_TYPE_HERO)==true then
call SetUnitX((LoadUnitHandle(L7,(PP7),(45))),GetUnitX(PU7))
call SetUnitY((LoadUnitHandle(L7,(PP7),(45))),GetUnitY(PU7))
endif
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function XCG takes unit FJ8,unit PU7 returns nothing
local trigger t
local integer PP7
local integer HW8=GetUnitAbilityLevel(FJ8,1093751604)
local unit EW8
set EZ7="PT3"
if(LoadInteger(L7,(GetHandleId(PU7)),(627)))>0 then
call SaveInteger(L7,(GetHandleId(PU7)),(627),((LoadInteger(L7,(GetHandleId(PU7)),(627)))+1))
call SaveReal(L7,(GetHandleId(PU7)),(628),(((TimerGetElapsed(W))+8)*1.0))
else
set t=CreateTrigger()
set PP7=GetHandleId(t)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
if IsUnitType(PU7,UNIT_TYPE_HERO)==true then
set EW8=CreateUnit(GetOwningPlayer(FJ8),1865429305,GetUnitX(PU7),GetUnitY(PU7),0)
call SaveUnitHandle(L7,(PP7),(45),(EW8))
endif
call SaveInteger(L7,(GetHandleId(PU7)),(627),(1))
if IsUnitType(PU7,UNIT_TYPE_HERO)==true then
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("war3mapImported\\shamanyouranus-ShadowyMissile.mdl",PU7,"chest")))
else
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("war3mapImported\\shamanyouranus-ShadowyMissile.mdl",PU7,"origin")))
endif
call SaveReal(L7,(GetHandleId(PU7)),(628),(((TimerGetElapsed(W))+10)*1.0))
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function XAG))
set EW8=null
endif
call EI8("+"+I2S((LoadInteger(L7,(GetHandleId(PU7)),(627)))),3,PU7,0.025,100,0,200,216)
call HY8(FJ8,PU7,ZG4,50)
set t=null
set EW8=null
endfunction
function X3G takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),VF4)==false then
call GroupAddUnit(VF4,GetEnumUnit())
call XCG(VE4,GetEnumUnit())
endif
endfunction
function X6G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit EW8=(LoadUnitHandle(L7,(PP7),(45)))
local integer XLG=GetTriggerEvalCount(t)
local real a=(LoadReal(L7,(PP7),(137)))
local real x=DT8(GetUnitX(EW8)+(20)*Cos(a))
local real y=DU8(GetUnitY(EW8)+(20)*Sin(a))
local group g
local group X1G=(LoadGroupHandle(L7,(PP7),(133)))
local unit PU7
set EZ7="X6G"
if XLG==75 then
call L97(X1G)
call KillUnit(EW8)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set IN4=FJ8
set VE4=FJ8
set VF4=X1G
call SetUnitX(EW8,x)
call SetUnitY(EW8,y)
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,180+25,Condition(function GK8))
call ForGroup(g,function X3G)
set PU7=FirstOfGroup(g)
call L97(g)
endif
set t=null
set FJ8=null
set EW8=null
set g=null
set PU7=null
set X1G=null
return false
endfunction
function X0G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local real a=Q87(GetUnitX(FJ8),GetUnitY(FJ8),x,y)*bj_DEGTORAD
local unit EW8=CreateUnit(GetOwningPlayer(FJ8),1747993394,GetUnitX(FJ8),GetUnitY(FJ8),a*bj_RADTODEG)
set EZ7="X0G"
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function X6G))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(45),(EW8))
call SaveReal(L7,(PP7),(137),((a)*1.0))
call SaveGroupHandle(L7,(PP7),(133),(LD7()))
call L67(FJ8,1093751609)
set t=null
set FJ8=null
set EW8=null
endfunction
function X5G takes nothing returns boolean
if GetSpellAbilityId()==1093751604 then
call X0G()
endif
return false
endfunction
function U38 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="U38"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function X5G))
set t=null
endfunction
function X2G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit X_G=GetSummonedUnit()
set EZ7="X2G"
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SUMMON then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetUnitAbilityLevel(X_G,1110459457)>0 and GetOwningPlayer(GetSummoningUnit())==GetOwningPlayer(FJ8)then
if IsUnitAlly(PU7,GetOwningPlayer(FJ8))==true then
call SelectUnitAddForPlayer(X_G,GetOwningPlayer(FJ8))
else
call IssueTargetOrder(X_G,"attack",PU7)
endif
endif
set t=null
set FJ8=null
set PU7=null
set X_G=null
return false
endfunction
function Y4G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
set EZ7="Y4G"
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call UO7(PU7,"DisruptionState")
call SetUnitInvulnerable(PU7,false)
call PauseUnit(PU7,false)
call ShowUnit(PU7,true)
call RemoveSavedHandle(L7,(GetHandleId(PU7)),(673))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if GetTriggerEventId()!=EVENT_UNIT_DEATH then
call ClearSelectionForPlayer(GetOwningPlayer(PU7))
call SelectUnitAddForPlayer(PU7,GetOwningPlayer(PU7))
call ET8(V94,GetUnitX(PU7),GetUnitY(PU7))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,3,false)
call EO8(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function X2G))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call L67(HV8,1093751605)
call SetUnitAbilityLevel(HV8,1093751605,GetUnitAbilityLevel(FJ8,1093751608))
call IssueTargetOrderById(HV8,852274,PU7)
call IssueTargetOrderById(HV8,852274,PU7)
endif
set t=null
set FJ8=null
set PU7=null
set HV8=null
return false
endfunction
function Y7G takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093751608)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit HV8=CreateUnit(GetOwningPlayer(PU7),1865429305,GetUnitX(PU7),GetUnitY(PU7),0)
set EZ7="Y7G"
call UnitApplyTimedLife(HV8,1112820806,2.6)
if IsUnitAlly(PU7,GetOwningPlayer(FJ8))==false then
set HV8=CreateUnit(GetOwningPlayer(FJ8),1865429305,GetUnitX(PU7),GetUnitY(PU7),0)
call UnitApplyTimedLife(HV8,1112820806,2.6)
endif
call SetUnitInvulnerable(PU7,true)
call PauseUnit(PU7,true)
call ShowUnit(PU7,false)
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffect("war3mapImported\\WILLTHEALMIGHTY-Void5.mdx",GetUnitX(PU7),GetUnitY(PU7))))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y4G))
call SaveUnitHandle(L7,GetHandleId(FJ8),(673),PU7)
call UM7(PU7,"DisruptionState")
set FJ8=null
set PU7=null
set t=null
set HV8=null
endfunction
function Y8G takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093751608 and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true or L87(GetSpellTargetUnit())==false)then
call Y7G()
endif
else
if GetSpellAbilityId()==1093751608 and GetSpellTargetUnit()!=GetTriggerUnit()and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true and UE7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652600))
endif
endif
return false
endfunction
function U68 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="U68"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function Y8G))
set t=null
endfunction
function Y9G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093751618)
set EZ7="Y9G"
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call TJ7(GetHandleId(FJ8),"AI|SoulCatcherTgt",null)
elseif GetEventDamage()>5 then
call DisableTrigger(t)
call HY8(GetEventDamageSource(),GetTriggerUnit(),ZI4,(0.1+0.1*HW8)*GetEventDamage())
call EnableTrigger(t)
endif
set FJ8=null
set t=null
return false
endfunction
function YDG takes nothing returns nothing
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local group g=LD7()
local unit FJ8=GetTriggerUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093751618)
local unit PU7
local trigger t
local integer PP7
set EZ7="YDG"
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,475,Condition(function GK8))
set PU7=(LoadUnitHandle(L7,(GetHandleId(FJ8)),(673)))
if PU7!=null then
if Q07(GetUnitX(PU7),GetUnitY(PU7),x,y)<475 and IsUnitEnemy(PU7,GetOwningPlayer(FJ8))==true then
call GroupAddUnit(g,PU7)
endif
endif
set PU7=GroupPickRandomUnit(g)
call L97(g)
call DestroyEffect(AddSpecialEffect("war3mapImported\\Desecrate.mdx",x,y))
if PU7!=null then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,12,false)
call TriggerAddCondition(t,Condition(function Y9G))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("war3mapImported\\void.mdx",PU7,"chest")))
if IsUnitType(PU7,UNIT_TYPE_HERO)then
call UU7(PU7,"AI|SoulCatcher",12)
call TJ7(GetHandleId(FJ8),"AI|SoulCatcherTgt",PU7)
endif
endif
set g=null
set FJ8=null
set PU7=null
set t=null
endfunction
function YEG takes nothing returns boolean
if GetSpellAbilityId()==1093751618 then
call YDG()
endif
return false
endfunction
function UL8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="UL8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YEG))
set t=null
endfunction
function YFG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer XLG=GetTriggerEvalCount(t)
local integer HW8=GetUnitAbilityLevel(FJ8,1093751617)
set EZ7="YFG"
if XLG==5 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if(UJ7(PU7,"DisruptionState")==true)then
call SetUnitInvulnerable(PU7,false)
endif
call HY8(FJ8,PU7,ZG4,4*(25+25*HW8))
if(UJ7(PU7,"DisruptionState")==true)then
call SetUnitInvulnerable(PU7,true)
endif
else
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function YGG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
set EZ7="YGG"
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function YFG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call TriggerEvaluate(t)
set t=null
set FJ8=null
set PU7=null
endfunction
function YHG takes nothing returns boolean
if GetSpellAbilityId()==1093751617 and IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true and L87(GetSpellTargetUnit())==false then
call YGG()
endif
return false
endfunction
function U18 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="U18"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YHG))
set t=null
endfunction
function YIG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local integer XLG=GetTriggerEvalCount(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="YIG"
call UnitRemoveAbility(FJ8,1093751632)
set t=null
set FJ8=null
return false
endfunction
function YJG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
set EZ7="YJG"
call L67(FJ8,1093751632)
call UnitMakeAbilityPermanent(FJ8,true,1093751632)
call SetUnitAbilityLevel(FJ8,1093751632,GetUnitAbilityLevel(FJ8,1093751631))
call TriggerRegisterTimerEvent(t,3,false)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YIG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=null
set FJ8=null
endfunction
function YKG takes nothing returns boolean
if GetSpellAbilityId()==1093751631 then
call YJG()
endif
return false
endfunction
function U08 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="U08"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YKG))
set t=null
endfunction
function YMG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local integer L48=GetTriggerEvalCount(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit EW8=(LoadUnitHandle(L7,(PP7),(45)))
local real x
local real y
local real d
local real YNG
local real AO9=(LoadReal(L7,(PP7),(23)))
local real AP9=(LoadReal(L7,(PP7),(24)))
local real a=Q87(AO9,AP9,GetUnitX(PU7),GetUnitY(PU7))*bj_DEGTORAD
local integer HW8=GetUnitAbilityLevel(FJ8,1093751633)
set EZ7="YMG"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitShareVision(EW8,GetOwningPlayer(PU7),false)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if GetTriggerUnit()!=EW8 then
call KillUnit(EW8)
endif
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
call UnitRemoveBuffs(EW8,true,true)
elseif L48<3/0.02 then
call SetUnitFacing(EW8,a*bj_RADTODEG)
else
if L48==4/0.02 then
call UnitShareVision(EW8,GetOwningPlayer(PU7),true)
endif
call SetUnitFacing(EW8,a*bj_RADTODEG)
set x=AO9+(280+UV4*L48*0.02)*0.02*Cos(a)
set y=AP9+(280+UV4*L48*0.02)*0.02*Sin(a)
call SetUnitPosition(EW8,x,y)
call SaveReal(L7,(PP7),(23),((x)*1.0))
call SaveReal(L7,(PP7),(24),((y)*1.0))
if Q07(x,y,GetUnitX(PU7),GetUnitY(PU7))<20 then
set d=RMinBJ(Q07(x,y,(LoadReal(L7,(PP7),(6))),(LoadReal(L7,(PP7),(7)))),1500)
set YNG=d/1500*(110*GetUnitAbilityLevel(FJ8,1093751633))
set YNG=RMaxBJ(YNG,50)
call KillUnit(EW8)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if G88(PU7)==false or IsUnitVisible(PU7,GetOwningPlayer(FJ8))==true then
call HY8(FJ8,PU7,ZG4,YNG)
call HU8(FJ8,PU7,2+0.2*HW8)
endif
endif
endif
set t=null
set FJ8=null
set PU7=null
set EW8=null
return false
endfunction
function YOG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local real a=Q87(GetUnitX(FJ8),GetUnitY(FJ8),GetUnitX(PU7),GetUnitY(PU7))*bj_DEGTORAD
local real x=DT8(GetUnitX(FJ8)+150*Cos(a))
local real y=DU8(GetUnitY(FJ8)+150*Sin(a))
local integer HW8=GetUnitAbilityLevel(FJ8,1093751633)
local unit EW8
local integer YPG
local string YQG="effects\\Snipe Target.mdx"
set EZ7="YOG"
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(FJ8))==false and C67(GetLocalPlayer())==false then
set YQG=""
endif
if HW8==1 then
set YPG=1747993415
elseif HW8==2 then
set YPG=1747993393
elseif HW8==3 then
set YPG=1747993414
elseif HW8==4 then
set YPG=1747993416
endif
set EW8=CreateUnit(GetOwningPlayer(FJ8),YPG,x,y,a*bj_RADTODEG)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,EW8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,EW8,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function YMG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(45),(EW8))
call SaveReal(L7,(PP7),(6),((GetUnitX(FJ8))*1.0))
call SaveReal(L7,(PP7),(7),((GetUnitY(FJ8))*1.0))
call SaveReal(L7,(PP7),(23),((GetUnitX(EW8))*1.0))
call SaveReal(L7,(PP7),(24),((GetUnitY(EW8))*1.0))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget(YQG,PU7,"overhead")))
set t=null
set FJ8=null
set PU7=null
set EW8=null
endfunction
function YRG takes nothing returns boolean
if GetSpellAbilityId()==1093751633 and L87(GetSpellTargetUnit())==false then
call YOG()
endif
return false
endfunction
function U58 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="U58"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YRG))
call DX8(1093687350)
set t=null
endfunction
function YSG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
set EZ7="YSG"
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveAbility(PU7,1110459461)
call UnitRemoveAbility(PU7,1093751635)
set t=null
set PU7=null
return false
endfunction
function YTG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
set EZ7="YTG"
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveAbility(PU7,1110459463)
call UnitRemoveAbility(PU7,1093751860)
set t=null
set PU7=null
return false
endfunction
function YUG takes nothing returns nothing
local trigger t
local integer PP7
local integer HW8=GetUnitAbilityLevel(UO4,1093751861)
local boolean AFD=false
set EZ7="YUG"
if HW8==0 then
set HW8=GetUnitAbilityLevel(UO4,1093808949)
set AFD=true
endif
if EM9(GetEnumUnit())==false then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,2,false)
call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YSG))
call SaveUnitHandle(L7,(PP7),(17),(GetEnumUnit()))
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093751635,false)
call L67(GetEnumUnit(),1093751635)
endif
call HY8(UO4,GetEnumUnit(),ZG4,HW8*50+200)
set t=null
endfunction
function YVG takes nothing returns nothing
local trigger t
local integer PP7
local integer HW8=GetUnitAbilityLevel(UO4,1093751861)
local boolean AFD=false
set EZ7="YVG"
if HW8==0 then
set HW8=GetUnitAbilityLevel(UO4,1093808949)
set AFD=true
endif
if EM9(GetEnumUnit())==false then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,3,false)
call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YTG))
call SaveUnitHandle(L7,(PP7),(17),(GetEnumUnit()))
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093751860,false)
call L67(GetEnumUnit(),1093751860)
endif
if AFD then
call HY8(UO4,GetEnumUnit(),ZG4,HW8*50+50+75)
else
call HY8(UO4,GetEnumUnit(),ZG4,HW8*50+50)
endif
set t=null
endfunction
function YWG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
local group g
local integer XLG=GetTriggerEvalCount(t)
local fogmodifier YXG=(LoadFogModifierHandle(L7,(PP7),(42)))
set EZ7="YWG"
if XLG==1 then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Calldown_FlyUp.mdx",FJ8,"chest"))
elseif XLG==2 then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Calldown_FlyUp.mdx",FJ8,"chest"))
elseif XLG==3 then
call DestroyEffect(AddSpecialEffect("war3mapImported\\Calldown_FlyDown.mdx",x,y))
elseif XLG==4 then
set g=LD7()
set IN4=FJ8
set UO4=FJ8
call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function G78))
call ForGroup(g,function YUG)
call L97(g)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",x,y))
elseif XLG==5 then
call DestroyEffect(AddSpecialEffect("war3mapImported\\Calldown_FlyDown.mdx",x,y))
elseif XLG==6 then
set g=LD7()
set IN4=FJ8
set UO4=FJ8
call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function G78))
call ForGroup(g,function YVG)
call L97(g)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",x,y))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FogModifierStop(YXG)
call DestroyFogModifier(YXG)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set g=null
set YXG=null
return false
endfunction
function YYG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local string s=""
local fogmodifier X1D=CreateFogModifierRadius(GetOwningPlayer(FJ8),FOG_OF_WAR_VISIBLE,x,y,350,true,true)
set EZ7="YYG"
call FogModifierStart(X1D)
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(FJ8))==true or C67(GetLocalPlayer())then
set s="war3mapImported\\CallDown_4.mdx"
endif
call TriggerRegisterTimerEvent(t,0.1,false)
call TriggerRegisterTimerEvent(t,0.8,false)
call TriggerRegisterTimerEvent(t,1.6,false)
call TriggerRegisterTimerEvent(t,2,false)
call TriggerRegisterTimerEvent(t,3.6,false)
call TriggerRegisterTimerEvent(t,4,false)
call TriggerAddCondition(t,Condition(function YWG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffect(s,x,y)))
call SaveFogModifierHandle(L7,(PP7),(42),(X1D))
set t=null
set FJ8=null
set X1D=null
endfunction
function YZG takes nothing returns boolean
if GetSpellAbilityId()==1093751861 or GetSpellAbilityId()==1093808949 then
call YYG()
endif
return false
endfunction
function U28 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="U28"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YZG))
set t=null
endfunction
function YAG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer AW7=GetHandleId(t)
local unit FJ8=T37(AW7,"Source")
local integer TID
set EZ7="YAG"
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==FJ8 and(GetEventDamage()>20 or IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==true)then
set TID=U97(GetHandleId(FJ8),"Count")
if TID>0 then
call TF7(GetHandleId(FJ8),"Count",(TID+1))
endif
call T97(AW7)
call UQ7(t)
endif
else
call T97(AW7)
call UQ7(t)
endif
set t=null
set FJ8=null
return false
endfunction
function YBG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=T37(PP7,"Source")
set EZ7="YBG"
if C97(FJ8)==false then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveAbility(FJ8,1093808951)
call UnitAddAbility(FJ8,1093808706)
call UnitRemoveAbility(FJ8,1093808706)
if(SK7((FJ8),ZU[G14])!=null)then
call UnitAddAbility(FJ8,1093808951)
endif
endif
set t=null
set FJ8=null
return false
endfunction
function YCG takes unit FJ8 returns nothing
local trigger t
set EZ7="FlakCannon_Remove"
if C97(FJ8)==false then
call UnitRemoveAbility(FJ8,1093808951)
call UnitAddAbility(FJ8,1093808706)
call UnitRemoveAbility(FJ8,1093808706)
if(SK7((FJ8),ZU[G14])!=null)then
call UnitAddAbility(FJ8,1093808951)
endif
else
set t=CreateTrigger()
call TJ7(GetHandleId(t),"Source",FJ8)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function YBG))
set t=null
endif
endfunction
function Y3G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer AW7=GetHandleId(t)
local unit FJ8=T37(AW7,"Source")
set EZ7="Y3G"
call UnitRemoveAbility(FJ8,1093751895)
call UnitRemoveAbility(FJ8,1110459466)
call YCG(FJ8)
call T97(AW7)
call UQ7(t)
set t=null
return false
endfunction
function Y6G takes nothing returns nothing
local unit IP8=GetAttacker()
local integer AW7=GetHandleId(IP8)
local integer TID=U97(AW7,"Count")
local integer IQ8=GetUnitAbilityLevel(IP8,1093808697)
local trigger t
set EZ7="Y6G"
if IsUnitIllusion(GetAttacker())==true and GetUnitAbilityLevel(GetAttacker(),1093751895)>0 then
call YCG(GetAttacker())
call UnitRemoveAbility(GetAttacker(),1093751895)
endif
if GetAttacker()==IP8 then
set TID=TID+1
if TID>3+IQ8 then
call UnitRemoveAbility(IP8,1093751895)
call UnitRemoveAbility(IP8,1110459466)
call YCG(IP8)
set t=T07(AW7,"FlakCannon_EndTrig")
call T97(GetHandleId(t))
call UQ7(t)
else
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2,false)
call TriggerAddCondition(t,Condition(function YAG))
call TJ7(GetHandleId(t),"Source",IP8)
endif
endif
set t=null
set IP8=null
endfunction
function YLG takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093751895)>0 then
call Y6G()
endif
return false
endfunction
function Y1G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer AW7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
set EZ7="Y1G"
call TriggerRegisterTimerEvent(t,15,false)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y3G))
call TJ7(AW7,"Source",FJ8)
call TM7(GetHandleId(FJ8),"FlakCannon_EndTrig",t)
call TF7(GetHandleId(FJ8),"Count",(1))
call UnitRemoveAbility(FJ8,1093808951)
call UnitAddAbility(FJ8,1093808705)
call UnitRemoveAbility(FJ8,1093808705)
if(SK7((FJ8),ZU[G14])!=null)then
call UnitAddAbility(FJ8,1093808951)
endif
set t=null
set FJ8=null
endfunction
function Y0G takes nothing returns boolean
if IsUnitIllusion(GetTriggerUnit())==true and GetUnitTypeId(GetTriggerUnit())==1160786511 then
call YCG(GetTriggerUnit())
endif
return false
endfunction
function Y5G takes nothing returns boolean
if GetSpellAbilityId()==1093808697 and GetUnitTypeId(GetTriggerUnit())==1160786510 then
call Y1G()
endif
return false
endfunction
function U_8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="U_8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Y5G))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function YLG))
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,GetWorldBounds())
call TriggerAddCondition(t,Condition(function Y0G))
set t=null
endfunction
function Y2G takes nothing returns boolean
local unit PU7=GetFilterUnit()
local unit FJ8=UP4
local real Y_G=UQ4
local real Z4G=UR4
local real ON2=US4
local real OS2=UT4
local real x
local real y
local real a
local real d
set EZ7="Y2G"
if(C37(GetFilterUnit())==false and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))then
if(UJ7(PU7,"4324")==false)then
call UU7(PU7,"4324",0.3)
endif
set d=Q07(Y_G,Z4G,GetUnitX(PU7),GetUnitY(PU7))
set a=Q87(Y_G,Z4G,GetUnitX(PU7),GetUnitY(PU7))*bj_DEGTORAD
if d>UU4 then
set x=GetUnitX(PU7)+11*Cos(a)
set y=GetUnitY(PU7)+11*Sin(a)
else
set x=GetUnitX(PU7)-11*Cos(a)
set y=GetUnitY(PU7)-11*Sin(a)
endif
call SetUnitX(PU7,x)
call SetUnitY(PU7,y)
endif
set PU7=null
set FJ8=null
return false
endfunction
function Z7G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real Y_G=(LoadReal(L7,(PP7),(6)))
local real Z4G=(LoadReal(L7,(PP7),(7)))
local real x
local real y
local integer i=0
local group g
set EZ7="Z7G"
if GetTriggerEvalCount(t)>(50*(2+0.5*GetUnitAbilityLevel(FJ8,1093751637)))then
loop
exitwhen i>16
set i=i+1
endloop
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set g=LD7()
set UQ4=Y_G
set UR4=Z4G
set UP4=FJ8
set IN4=FJ8
loop
exitwhen i>16
set x=Y_G+UU4*Cos(bj_DEGTORAD*360.0*i/16.0)
set y=Z4G+UU4*Sin(bj_DEGTORAD*360.0*i/16.0)
set US4=x
set UT4=y
call GroupEnumUnitsInRange(g,x,y,75,Condition(function Y2G))
set i=i+1
endloop
call L97(g)
set g=null
endif
set t=null
set FJ8=null
return false
endfunction
function Z8G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real Y_G=(LoadReal(L7,(PP7),(6)))
local real Z4G=(LoadReal(L7,(PP7),(7)))
local real x
local real y
local integer i=0
set EZ7="Z8G"
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=CreateTrigger()
set PP7=GetHandleId(t)
loop
exitwhen i>16
set x=Y_G+UU4*Cos(bj_DEGTORAD*360.0*i/16.0)
set y=Z4G+UU4*Sin(bj_DEGTORAD*360.0*i/16.0)
set i=i+1
endloop
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffect("war3mapImported\\KineticField_FX_Stand.mdx",Y_G,Z4G)))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(6),((Y_G)*1.0))
call SaveReal(L7,(PP7),(7),((Z4G)*1.0))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function Z7G))
set t=null
set FJ8=null
return false
endfunction
function Z9G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local real Y_G=GetSpellTargetX()
local real Z4G=GetSpellTargetY()
set EZ7="Z9G"
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffect("war3mapImported\\KineticField_FX_Start.mdx",Y_G,Z4G)))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(6),((Y_G)*1.0))
call SaveReal(L7,(PP7),(7),((Z4G)*1.0))
call TriggerRegisterTimerEvent(t,1.2,false)
call TriggerAddCondition(t,Condition(function Z8G))
call EV8(GetOwningPlayer(FJ8),5.5,Y_G,Z4G,300)
set t=null
set FJ8=null
endfunction
function ZDG takes nothing returns boolean
if GetSpellAbilityId()==1093751637 then
call Z9G()
endif
return false
endfunction
function V48 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="V48"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZDG))
set t=null
endfunction
function ZEG takes nothing returns nothing
call HY8(U24,GetEnumUnit(),ZG4,U54)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Purge_NoBirth.mdx",GetEnumUnit(),"origin"))
endfunction
function ZFG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit EW8=(LoadUnitHandle(L7,(PP7),(45)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local group g
local integer XLG=GetTriggerEvalCount(t)
set EZ7="ZFG"
if XLG>20 then
call StopSound(VD4,false,true)
call KillUnit(EW8)
call ShowUnit(EW8,false)
call KillUnit(HV8)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set g=LD7()
set IN4=FJ8
set U24=FJ8
set U54=0.25*(120+50*HW8)*(XLG/20.0)
set U_4=false
if ModuloInteger(XLG,4)==0 then
set U_4=true
endif
call GroupEnumUnitsInRange(g,GetUnitX(EW8),GetUnitY(EW8),400,Condition(function GJ8))
call ForGroup(g,function ZEG)
call L97(g)
set g=null
endif
set t=null
set FJ8=null
set EW8=null
set HV8=null
return false
endfunction
function ZGG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local real ZHG=GetSpellTargetX()
local real ZIG=GetSpellTargetY()
local unit EW8=CreateUnit(GetOwningPlayer(FJ8),1747993419,ZHG,ZIG,0)
local integer HW8=GetUnitAbilityLevel(FJ8,1093752118)
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,ZHG,ZIG,0)
set EZ7="ZGG"
call SetSoundVolume(VD4,200)
call StartSound(VD4)
call SetSoundPosition(VD4,ZHG,ZIG,100)
if AH7(GetOwningPlayer(FJ8))then
call L67(HV8,1093752117)
else
call L67(HV8,1093752116)
endif
call IssuePointOrder(HV8,"cloudoffog",ZHG,ZIG)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(45),(EW8))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call SaveInteger(L7,(PP7),(5),(HW8))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function ZFG))
set t=null
set FJ8=null
set EW8=null
set HV8=null
endfunction
function ZJG takes nothing returns boolean
if GetSpellAbilityId()==1093752118 then
call ZGG()
endif
return false
endfunction
function V78 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="V78"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZJG))
set t=null
endfunction
function ZKG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit EW8=(LoadUnitHandle(L7,(PP7),(45)))
local real ZHG=(LoadReal(L7,(PP7),(6)))
local real ZIG=(LoadReal(L7,(PP7),(7)))
local real x=GetUnitX(EW8)
local real y=GetUnitY(EW8)
local real a=Q87(x,y,ZHG,ZIG)
local real d=Q07(x,y,ZHG,ZIG)
local real r=(LoadReal(L7,(PP7),(671)))
set EZ7="ZKG"
call SetUnitFacing(EW8,a)
set x=x+r*Cos(a*bj_DEGTORAD)
set y=y+r*Sin(a*bj_DEGTORAD)
call SetUnitX(EW8,x)
call SetUnitY(EW8,y)
if d<40 then
call KillUnit(EW8)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UU7(PU7,"4411",1)
call SetUnitPosition(PU7,ZHG,ZIG)
call PanCameraToTimedForPlayer(GetOwningPlayer(PU7),ZHG,ZIG,0)
elseif C37(PU7)then
call KillUnit(EW8)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set PU7=null
set EW8=null
return false
endfunction
function ZMG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local real x=(LoadReal(L7,(GetHandleId(PU7)),(7400)))
local real y=(LoadReal(L7,(GetHandleId(PU7)),(7500)))
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit EW8=CreateUnit(GetOwningPlayer(FJ8),1747993398,GetUnitX(PU7),GetUnitY(PU7),0)
local real d=Q07(x,y,GetUnitX(PU7),GetUnitY(PU7))
local real r=0.02*(RMaxBJ(d/1.8,600))
set EZ7="ZMG"
call TriggerAddCondition(t,Condition(function ZKG))
call TriggerRegisterTimerEvent(t,0.02,true)
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(45),(EW8))
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
call SaveReal(L7,(PP7),(671),((r)*1.0))
call SaveEffectHandle(L7,(PP7),(175),(AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",PU7,"overhead")))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffect("effects\\Lightning_Ball_Tail_FX.mdx",x,y)))
call TriggerEvaluate(t)
set FJ8=null
set PU7=null
set EW8=null
set t=null
endfunction
function ZNG takes nothing returns boolean
if GetSpellAbilityId()==1093751639 and L87(GetSpellTargetUnit())==false then
if IsUnitIllusion(GetSpellTargetUnit())then
call KillUnit(GetSpellTargetUnit())
else
call ZMG()
endif
endif
return false
endfunction
function IKG takes nothing returns nothing
local unit PU7=IN4
local integer i=0
loop
exitwhen i>15
set i=i+1
endloop
set PU7=null
endfunction
function ZOG takes nothing returns nothing
local unit PU7=GetEnumUnit()
local integer PP7=GetHandleId(PU7)
local integer i=1
set EZ7="ZOG"
loop
exitwhen i>14
call SaveReal(L7,(PP7),(7400+i-1),(((LoadReal(L7,(PP7),(7400+i))))*1.0))
call SaveReal(L7,(PP7),(7500+i-1),(((LoadReal(L7,(PP7),(7500+i))))*1.0))
set i=i+1
endloop
call SaveReal(L7,(PP7),(7400+14),((GetUnitX(PU7))*1.0))
call SaveReal(L7,(PP7),(7500+14),((GetUnitY(PU7))*1.0))
set PU7=null
endfunction
function ZPG takes nothing returns boolean
local group g=LD7()
set EZ7="ZPG"
call GroupEnumUnitsInRange(g,0,0,99999,Condition(function GW8))
call ForGroup(g,function ZOG)
call L97(g)
set g=null
return false
endfunction
function V88 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="V88"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZNG))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function ZPG))
set t=null
endfunction
function ZQG takes nothing returns nothing
if UW4!=GetEnumUnit()then
call HY8(UX4,GetEnumUnit(),ZG4,UY4*25+25)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetEnumUnit(),"chest"))
endif
endfunction
function ZRG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local unit EW8=(LoadUnitHandle(L7,(PP7),(45)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local group g
local integer XLG=GetTriggerEvalCount(t)
local unit ZSG=null
set EZ7="ZRG"
call SetUnitX(HV8,GetUnitX(PU7))
call SetUnitY(HV8,GetUnitY(PU7))
call SetUnitX(EW8,GetUnitX(PU7))
call SetUnitY(EW8,GetUnitY(PU7))
if XLG==1 or XLG==100 or XLG==200 then
set g=LD7()
if L17(PU7)then
set ZSG=CreateUnit(GetOwningPlayer(PU7),1697656899,GetUnitX(PU7),GetUnitY(PU7),0)
call UnitApplyTimedLife(ZSG,1112820806,0.2)
call IssueTargetOrder(HV8,"chainlightning",ZSG)
else
call IssueTargetOrder(HV8,"chainlightning",PU7)
call HY8(FJ8,PU7,ZG4,HW8*25+25)
endif
call EE8("war3mapImported\\ThunderStorm_Groundeffect.mdx",PU7,"origin",0.6)
set IN4=FJ8
set UX4=FJ8
set UW4=PU7
set UY4=HW8
call GroupEnumUnitsInRange(g,GetUnitX(PU7),GetUnitY(PU7),200+25,Condition(function G78))
call ForGroup(g,function ZQG)
call L97(g)
if GetTriggerEvalCount(t)==200 then
call KillUnit(HV8)
call KillUnit(EW8)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
endif
set t=null
set FJ8=null
set PU7=null
set HV8=null
set g=null
set ZSG=null
set EW8=null
return false
endfunction
function ZTG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local integer HW8=GetUnitAbilityLevel(FJ8,1093751894)
local unit HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
local unit EW8=CreateUnit(GetOwningPlayer(FJ8),1697657424,GetUnitX(PU7),GetUnitY(PU7),0)
set EZ7="ZTG"
call L67(EW8,1097625443)
call L67(HV8,1093752119)
call SetUnitAbilityLevel(HV8,1093752119,HW8)
call L67(HV8,1097625443)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function ZRG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call SaveUnitHandle(L7,(PP7),(45),(EW8))
call SaveInteger(L7,(PP7),(5),(HW8))
set FJ8=null
set PU7=null
set HV8=null
set t=null
set EW8=null
endfunction
function ZUG takes nothing returns boolean
if GetSpellAbilityId()==1093751894 and L87(GetSpellTargetUnit())==false then
call ZTG()
endif
return false
endfunction
function V98 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="V98"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZUG))
set t=null
endfunction
function ZVG takes nothing returns nothing
local integer ZWG=U34
local unit PU7=GetEnumUnit()
local integer ZXG=662-1+ZWG
local real ZYG=(LoadReal(L7,(GetHandleId(PU7)),(ZXG)))
local real ZZG=(TimerGetElapsed(W))
set EZ7="ZVG"
if ZYG<ZZG then
call SaveReal(L7,(GetHandleId(PU7)),(ZXG),((ZZG+2)*1.0))
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false then
call HY8(UK4,PU7,ZG4,2+6*U64)
else
endif
endif
set PU7=null
endfunction
function ZAG takes nothing returns nothing
local integer ZBG=U34
local unit PU7=GetEnumUnit()
local integer ZCG=662-1+ZBG
local real Z3G=(LoadReal(L7,(GetHandleId(PU7)),(ZCG)))
local real Z6G=(TimerGetElapsed(W))
set EZ7="ZAG"
if Z3G<Z6G then
call SaveReal(L7,(GetHandleId(PU7)),(ZCG),((Z6G+2)*1.0))
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false then
call HY8(UK4,PU7,ZG4,15+10*U64)
else
endif
endif
set PU7=null
endfunction
function ZLG takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false then
call HY8(UK4,GetEnumUnit(),ZG4,UB4)
else
endif
endfunction
function Z1G takes unit FJ8,unit Z0G returns nothing
local group g=LD7()
set EZ7="UF3"
set IN4=FJ8
set UB4=25*U64
set UK4=FJ8
set UM4=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(Z0G),GetUnitY(Z0G),0)
call GroupEnumUnitsInRange(g,GetUnitX(Z0G),GetUnitY(Z0G),325,Condition(function GU8))
call ForGroup(g,function ZLG)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",GetUnitX(Z0G),GetUnitY(Z0G)))
call KillUnit(Z0G)
call L97(g)
set g=null
endfunction
function Z5G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit Z2G=(LoadUnitHandle(L7,(PP7),(393)))
local unit Z_G=(LoadUnitHandle(L7,(PP7),(394)))
local unit A4G=(LoadUnitHandle(L7,(PP7),(395)))
local unit A7G=(LoadUnitHandle(L7,(PP7),(396)))
local unit A8G=(LoadUnitHandle(L7,(PP7),(397)))
local real x
local real y
local real a
local real d=(LoadReal(L7,(PP7),(138)))
local real Y_G=GetUnitX(FJ8)
local real Z4G=GetUnitY(FJ8)
local real A9G
local integer XLG=GetTriggerEvalCount(t)
local real ADG
local group g
local integer AEG=0
local real G59=2.25
local real AFG
set EZ7="Z5G"
if L17(Z2G)==false then
set AEG=AEG+1
endif
if L17(Z_G)==false then
set AEG=AEG+1
endif
if L17(A4G)==false then
set AEG=AEG+1
endif
if L17(A7G)==false then
set AEG=AEG+1
endif
if L17(A8G)==false then
set AEG=AEG+1
endif
if AEG==5 then
set G59=2.25
elseif AEG==4 then
set G59=2.1
elseif AEG==3 then
set G59=1.95
elseif AEG==2 then
set G59=1.8
elseif AEG==1 then
set G59=1.65
endif
set A9G=-1*360*0.02/G59
set AFG=(LoadReal(L7,(PP7),(137)))+A9G
call SaveReal(L7,(PP7),(137),((AFG)*1.0))
set U64=GetUnitAbilityLevel(FJ8,1093751864)
set UK4=FJ8
if XLG==50 then
call ShowUnit(Z_G,true)
call SaveBoolean(L7,(PP7),(512),(true))
call L67(Z_G,1097625443)
endif
if XLG==100 then
call ShowUnit(A4G,true)
call SaveBoolean(L7,(PP7),(513),(true))
call L67(A4G,1097625443)
endif
if XLG==150 then
call ShowUnit(A7G,true)
call SaveBoolean(L7,(PP7),(514),(true))
call L67(A7G,1097625443)
endif
if XLG==200 then
call ShowUnit(A8G,true)
call SaveBoolean(L7,(PP7),(515),(true))
call L67(A8G,1097625443)
endif
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093752115 then
if(LoadBoolean(L7,(PP7),(655)))==true then
call SaveBoolean(L7,(PP7),(655),(false))
call SaveBoolean(L7,(PP7),(656),(false))
else
call SaveBoolean(L7,(PP7),(655),(true))
call SaveBoolean(L7,(PP7),(656),(false))
endif
elseif GetSpellAbilityId()==1093752114 then
if(LoadBoolean(L7,(PP7),(656)))==true then
call SaveBoolean(L7,(PP7),(655),(false))
call SaveBoolean(L7,(PP7),(656),(false))
else
call SaveBoolean(L7,(PP7),(655),(false))
call SaveBoolean(L7,(PP7),(656),(true))
endif
endif
endif
if(LoadBoolean(L7,(PP7),(655)))then
set d=RMaxBJ(d-5,100)
call SaveReal(L7,(PP7),(138),((d)*1.0))
elseif(LoadBoolean(L7,(PP7),(656)))then
set d=RMinBJ(d+5,875)
call SaveReal(L7,(PP7),(138),((d)*1.0))
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH or XLG==950 or(L17(Z2G)and L17(Z_G)and L17(A4G)and L17(A7G)and L17(A8G))or(XLG>1 and GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093751864)then
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
call UnitRemoveAbility(FJ8,1093752115)
call UnitRemoveAbility(FJ8,1093752114)
endif
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if L17(Z2G)==false then
call Z1G(FJ8,Z2G)
endif
if L17(Z_G)==false then
call Z1G(FJ8,Z_G)
endif
if L17(A4G)==false then
call Z1G(FJ8,A4G)
endif
if L17(A7G)==false then
call Z1G(FJ8,A7G)
endif
if L17(A8G)==false then
call Z1G(FJ8,A8G)
endif
else
set g=LD7()
if L17(Z2G)==false and(LoadBoolean(L7,(PP7),(511)))then
set ADG=360*5/5.0
set a=ADG+AFG
set x=DT8(Y_G+d*Cos(a*bj_DEGTORAD))
set y=DU8(Z4G+d*Sin(a*bj_DEGTORAD))
call SetUnitX(Z2G,x)
call SetUnitY(Z2G,y)
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,95,Condition(function GX8))
if FirstOfGroup(g)!=null then
call Z1G(FJ8,Z2G)
endif
call GroupClear(g)
set UN4=Z2G
set U34=1
set UK4=FJ8
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GY8))
call ForGroup(g,function ZVG)
call GroupClear(g)
endif
if L17(Z_G)==false and(LoadBoolean(L7,(PP7),(512)))then
set ADG=360*4/5.0
set a=ADG+AFG
set x=DT8(Y_G+d*Cos(a*bj_DEGTORAD))
set y=DU8(Z4G+d*Sin(a*bj_DEGTORAD))
call SetUnitX(Z_G,x)
call SetUnitY(Z_G,y)
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,95,Condition(function GX8))
if FirstOfGroup(g)!=null then
call Z1G(FJ8,Z_G)
endif
call GroupClear(g)
set UN4=Z_G
set U34=2
set UK4=FJ8
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GY8))
call ForGroup(g,function ZVG)
call GroupClear(g)
endif
if L17(A4G)==false and(LoadBoolean(L7,(PP7),(513)))then
set ADG=360*3/5.0
set a=ADG+AFG
set x=DT8(Y_G+d*Cos(a*bj_DEGTORAD))
set y=DU8(Z4G+d*Sin(a*bj_DEGTORAD))
call SetUnitX(A4G,x)
call SetUnitY(A4G,y)
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,95,Condition(function GX8))
if FirstOfGroup(g)!=null then
call Z1G(FJ8,A4G)
endif
call GroupClear(g)
set UN4=A4G
set U34=3
set UK4=FJ8
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GY8))
call ForGroup(g,function ZVG)
call GroupClear(g)
endif
if L17(A7G)==false and(LoadBoolean(L7,(PP7),(514)))then
set ADG=360*2/5.0
set a=ADG+AFG
set x=DT8(Y_G+d*Cos(a*bj_DEGTORAD))
set y=DU8(Z4G+d*Sin(a*bj_DEGTORAD))
call SetUnitX(A7G,x)
call SetUnitY(A7G,y)
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,95,Condition(function GX8))
if FirstOfGroup(g)!=null then
call Z1G(FJ8,A7G)
endif
call GroupClear(g)
set UN4=A7G
set U34=4
set UK4=FJ8
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GY8))
call ForGroup(g,function ZVG)
call GroupClear(g)
endif
if L17(A8G)==false and(LoadBoolean(L7,(PP7),(515)))then
set ADG=360*1/5.0
set a=ADG+AFG
set x=DT8(Y_G+d*Cos(a*bj_DEGTORAD))
set y=DU8(Z4G+d*Sin(a*bj_DEGTORAD))
call SetUnitX(A8G,x)
call SetUnitY(A8G,y)
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,95,Condition(function GX8))
if FirstOfGroup(g)!=null then
call Z1G(FJ8,A8G)
endif
call GroupClear(g)
set UN4=A8G
set U34=5
set UK4=FJ8
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GY8))
call ForGroup(g,function ZVG)
call GroupClear(g)
endif
call L97(g)
endif
set t=null
set FJ8=null
set Z2G=null
set Z_G=null
set A4G=null
set A7G=null
set A8G=null
set g=null
return false
endfunction
function AGG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit Z2G
local unit Z_G
local unit A4G
local unit A7G
local unit AHG
local real x
local real y
set EZ7="AGG"
set x=GetUnitX(FJ8)+250*Cos(bj_DEGTORAD*360*5/5.0*-1.0)
set y=GetUnitY(FJ8)+250*Sin(bj_DEGTORAD*360*5/5.0*-1.0)
set Z2G=CreateUnit(GetOwningPlayer(FJ8),1747993418,x,y,360*5/5.0*-1.0)
call L67(Z2G,1097625443)
set x=GetUnitX(FJ8)+250*Cos(bj_DEGTORAD*360*4/5.0*-1.0)
set y=GetUnitY(FJ8)+250*Sin(bj_DEGTORAD*360*4/5.0*-1.0)
set Z_G=CreateUnit(GetOwningPlayer(FJ8),1747993418,x,y,360*4/5.0*-1.0)
call ShowUnit(Z_G,false)
call SetUnitInvulnerable(Z_G,true)
set x=GetUnitX(FJ8)+250*Cos(bj_DEGTORAD*360*3/5.0*-1.0)
set y=GetUnitY(FJ8)+250*Sin(bj_DEGTORAD*360*3/5.0*-1.0)
set A4G=CreateUnit(GetOwningPlayer(FJ8),1747993418,x,y,360*3/5.0*-1.0)
call ShowUnit(A4G,false)
call SetUnitInvulnerable(Z_G,true)
set x=GetUnitX(FJ8)+250*Cos(bj_DEGTORAD*360*2/5.0*-1.0)
set y=GetUnitY(FJ8)+250*Sin(bj_DEGTORAD*360*2/5.0*-1.0)
set A7G=CreateUnit(GetOwningPlayer(FJ8),1747993418,x,y,360*2/5.0*-1.0)
call ShowUnit(A7G,false)
call SetUnitInvulnerable(A7G,true)
set x=GetUnitX(FJ8)+250*Cos(bj_DEGTORAD*360*1/5.0*-1.0)
set y=GetUnitY(FJ8)+250*Sin(bj_DEGTORAD*360*1/5.0*-1.0)
set AHG=CreateUnit(GetOwningPlayer(FJ8),1747993418,x,y,360*1/5.0*-1.0)
call ShowUnit(AHG,false)
call SetUnitInvulnerable(AHG,true)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(393),(Z2G))
call SaveUnitHandle(L7,(PP7),(394),(Z_G))
call SaveUnitHandle(L7,(PP7),(395),(A4G))
call SaveUnitHandle(L7,(PP7),(396),(A7G))
call SaveUnitHandle(L7,(PP7),(397),(AHG))
call SaveBoolean(L7,(PP7),(511),(true))
call SaveBoolean(L7,(PP7),(512),(false))
call SaveBoolean(L7,(PP7),(513),(false))
call SaveBoolean(L7,(PP7),(514),(false))
call SaveBoolean(L7,(PP7),(515),(false))
call SaveBoolean(L7,(PP7),(655),(false))
call SaveBoolean(L7,(PP7),(656),(false))
call SaveReal(L7,(PP7),(138),((150)*1.0))
call L67(FJ8,1093752114)
call L67(FJ8,1093752115)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z5G))
set FJ8=null
set t=null
set Z2G=null
set Z_G=null
set A4G=null
set A7G=null
set AHG=null
endfunction
function AIG takes nothing returns boolean
if GetSpellAbilityId()==1093751864 then
call AGG()
endif
return false
endfunction
function VD8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="VD8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AIG))
set t=null
endfunction
function AJG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
set EZ7="AJG"
call E48(FJ8,GetEventDamage()*0.05*HW8)
set t=null
set FJ8=null
return false
endfunction
function AKG takes unit u returns nothing
local trigger t
set EZ7="Overcharge_Remove"
call UnitRemoveAbility(u,1093751891)
call UnitRemoveAbility(u,1093751890)
call UnitRemoveAbility(u,1093751892)
call UnitRemoveAbility(u,1093751888)
if(LoadBoolean(L7,(GetHandleId(u)),(708)))then
call SaveBoolean(L7,(GetHandleId(u)),(708),(false))
set t=(LoadTriggerHandle(L7,(GetHandleId(u)),(709)))
call FlushChildHashtable(L7,(GetHandleId(t)))
call UQ7(t)
call RemoveSavedHandle(L7,(GetHandleId(u)),(709))
set t=null
endif
endfunction
function AMG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="AMG"
call AKG(FJ8)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
return false
endfunction
function ANG takes unit u,integer i returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="UL3"
call SaveUnitHandle(L7,(PP7),(2),(u))
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function AMG))
if i==1 then
call L67(u,1093751891)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),1093751891,false)
elseif i==2 then
call L67(u,1093751890)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),1093751890,false)
elseif i==3 then
call L67(u,1093751892)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),1093751892,false)
elseif i==4 then
call L67(u,1093751888)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),1093751888,false)
endif
if(LoadBoolean(L7,(GetHandleId(u)),(708)))==false then
call SaveBoolean(L7,(GetHandleId(u)),(708),(true))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function AJG))
call SaveTriggerHandle(L7,(GetHandleId(u)),(709),(t))
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(u))
call SaveInteger(L7,(GetHandleId(t)),(5),(i))
endif
set t=null
endfunction
function AOG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer XLG=(LoadInteger(L7,(PP7),(34)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093810257)
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit APG=(LoadUnitHandle(L7,(GetHandleId(FJ8)),(652)))
local boolean AQG=false
local real ARG=0.2*(GetUnitState(FJ8,UNIT_STATE_LIFE)*0.035)
local real ASG=0.2*(GetUnitState(FJ8,UNIT_STATE_MANA)*0.035)
set EZ7="AOG"
if GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if GetIssuedOrderId()==String2OrderIdBJ("manashieldon")then
call ANG(FJ8,HW8)
elseif GetIssuedOrderId()==String2OrderIdBJ("manashieldoff")then
call AKG(FJ8)
endif
endif
if GetUnitAbilityLevel(FJ8,1093751891)>0 or GetUnitAbilityLevel(FJ8,1093751890)>0 or GetUnitAbilityLevel(FJ8,1093751892)>0 or GetUnitAbilityLevel(FJ8,1093751888)>0 then
set AQG=true
call SetUnitState(FJ8,UNIT_STATE_LIFE,RMaxBJ(GetUnitState(FJ8,UNIT_STATE_LIFE)-ARG,1))
call SetUnitState(FJ8,UNIT_STATE_MANA,RMaxBJ(GetUnitState(FJ8,UNIT_STATE_MANA)-ASG,1))
endif
if APG==null then
if PU7!=null then
call AKG(PU7)
set PU7=null
call SaveUnitHandle(L7,(PP7),(17),(PU7))
endif
else
if PU7==null then
set PU7=APG
if AQG then
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call ANG(PU7,HW8)
else
call AKG(PU7)
endif
elseif PU7!=APG then
call AKG(PU7)
if AQG then
set PU7=APG
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call ANG(PU7,HW8)
endif
elseif AQG==false then
call AKG(PU7)
elseif PU7==APG then
if AQG then
set PU7=APG
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call ANG(PU7,HW8)
endif
endif
endif
set t=null
set FJ8=null
set PU7=null
set APG=null
return false
endfunction
function ATG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local integer HW8=GetUnitAbilityLevel(FJ8,1093810257)
set EZ7="ATG"
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(null))
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function AOG))
set FJ8=null
set t=null
endfunction
function AUG takes nothing returns boolean
if GetLearnedSkill()==1093810257 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093810257)==1 then
call ATG()
endif
return false
endfunction
function VE8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="VE8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function AUG))
set t=null
endfunction
function AVG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),UZ4)==false then
call GroupAddUnit(UZ4,GetEnumUnit())
call HU8(UJ4,GetEnumUnit(),0.25+0.5*UC4)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",GetEnumUnit(),"chest"))
endif
endfunction
function AWG takes unit FJ8,unit PU7,group X1G returns nothing
local real x1=GetUnitX(FJ8)
local real y1=GetUnitY(FJ8)
local real x2=GetUnitX(PU7)
local real y2=GetUnitY(PU7)
local real a=Q87(x1,y1,x2,y2)*bj_DEGTORAD
local real x
local real y
local real d=Q07(x1,y1,x2,y2)
local group g=LD7()
local integer i=1
set EZ7="UU3"
set UZ4=X1G
set UJ4=FJ8
set UC4=GetUnitAbilityLevel(FJ8,1093751873)
set UA4=UC4*50+50
loop
exitwhen i>8
set IN4=FJ8
set x=x1+d*i/8*Cos(a)
set y=y1+d*i/8*Sin(a)
call GroupEnumUnitsInRange(g,x,y,100,Condition(function G78))
call ForGroup(g,function AVG)
call GroupClear(g)
set i=i+1
endloop
call L97(g)
set g=null
endfunction
function AXG takes unit FJ8,unit PU7 returns boolean
return(UJ7(FJ8,"Relocate|Active"))
endfunction
function AYG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local real d=Q17(FJ8,PU7)
local real a=Q77(FJ8,PU7)*bj_DEGTORAD
local real x=GetUnitX(FJ8)+20*Cos(a)
local real y=GetUnitY(FJ8)+20*Sin(a)
local location l
set EZ7="AYG"
if d<300 or d>2150 then
set l=EP9(x,y)
set x=GetLocationX(l)
set y=GetLocationY(l)
call SetUnitX(FJ8,DT8(x))
call SetUnitY(FJ8,DT8(y))
call ER8(x,y,350)
call RemoveLocation(l)
set l=null
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call SaveInteger(L7,(GetHandleId((FJ8))),((4295)),(2))
else
call SetUnitX(FJ8,x)
call SetUnitY(FJ8,y)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function AZG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local group X1G=(LoadGroupHandle(L7,(PP7),(133)))
local lightning AAG=(LoadLightningHandle(L7,(PP7),(196)))
local integer L48=GetTriggerEvalCount(t)
local real d=Q17(FJ8,PU7)
local real a=1
local real G9D=GetUnitState(FJ8,UNIT_STATE_LIFE)
local real K8D=GetUnitState(FJ8,UNIT_STATE_MANA)
local real ABG=(LoadReal(L7,(PP7),(670)))
local real ACG=(LoadReal(L7,(PP7),(667)))
local real A3G
local real A6G
local real ALG=1.5
set EZ7="AZG"
if PU7==null or FJ8==null or L17(FJ8)==true or(L48>600 and AXG(FJ8,PU7)==false and((LoadInteger(L7,(GetHandleId((FJ8))),((4295))))==1)==false)or(d>925 and((LoadInteger(L7,(GetHandleId((FJ8))),((4295))))==1)==false)or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093751893)then
call L97(X1G)
call DestroyLightning(AAG)
call UnitRemoveAbility(PU7,1093751880)
call UnitRemoveAbility(PU7,1093751881)
call UnitRemoveAbility(PU7,1093751879)
call UnitRemoveAbility(PU7,1093751882)
call UnitRemoveAbility(PU7,1110459464)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveAbility(FJ8,1093751880)
call UnitRemoveAbility(FJ8,1093751881)
call UnitRemoveAbility(FJ8,1093751879)
call UnitRemoveAbility(FJ8,1093751882)
call UnitRemoveAbility(FJ8,1110459464)
call UnitRemoveAbility(FJ8,1093751893)
if(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==1093751873 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093751873,true)
endif
call RemoveSavedHandle(L7,GetHandleId(FJ8),652)
call RemoveSavedHandle(L7,GetHandleId(PU7),StringHash("AI|TetherSource"))
else
set A3G=G9D/GetUnitState(FJ8,UNIT_STATE_MAX_LIFE)
set A6G=K8D/GetUnitState(FJ8,UNIT_STATE_MAX_MANA)
if A3G-ABG>0 and(A3G-ABG)<0.5 then
if UJ7(FJ8,"ArmletOfMordiganState")==false then
call SetUnitState(PU7,UNIT_STATE_LIFE,GetUnitState(PU7,UNIT_STATE_LIFE)+ALG*(A3G-ABG)*GetUnitState(FJ8,UNIT_STATE_MAX_LIFE))
endif
endif
if A6G-ACG>0 and(A3G-ABG)<0.5 then
call SetUnitState(PU7,UNIT_STATE_MANA,GetUnitState(PU7,UNIT_STATE_MANA)+ALG*(A6G-ACG)*GetUnitState(FJ8,UNIT_STATE_MAX_MANA))
endif
call SaveReal(L7,(PP7),(670),((GetUnitState(FJ8,UNIT_STATE_LIFE)/GetUnitState(FJ8,UNIT_STATE_MAX_LIFE))*1.0))
call SaveReal(L7,(PP7),(667),((GetUnitState(FJ8,UNIT_STATE_MANA)/GetUnitState(FJ8,UNIT_STATE_MAX_MANA))*1.0))
call MoveLightning(AAG,true,GetUnitX(FJ8),GetUnitY(FJ8),GetUnitX(PU7),GetUnitY(PU7))
call AWG(FJ8,PU7,X1G)
if IsUnitVisible(FJ8,GetLocalPlayer())==false and IsUnitVisible(PU7,GetLocalPlayer())==false then
set a=0
endif
if C67(GetLocalPlayer())then
set a=1
endif
if d<700 or((LoadInteger(L7,(GetHandleId((FJ8))),((4295))))==1)==true then
call SetLightningColor(AAG,0.00,1.00,1.00,a)
else
call SetLightningColor(AAG,0.80,0.70,0.40,a)
endif
endif
set t=null
set FJ8=null
set PU7=null
set X1G=null
set AAG=null
return false
endfunction
function A1G takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local lightning AAG=AddLightning("CHIM",true,GetUnitX(FJ8),GetUnitY(FJ8),GetUnitX(PU7),GetUnitY(PU7))
local integer HW8=GetUnitAbilityLevel(FJ8,1093751873)
local integer A0G
local real d=Q17(FJ8,PU7)
local real a=Q77(FJ8,PU7)*bj_DEGTORAD
local location l
local real x
local real y
set EZ7="A1G"
call SetLightningColor(AAG,0.00,1.00,1.00,1)
call L67(FJ8,1093751893)
if HW8==1 then
set A0G=1093751880
elseif HW8==2 then
set A0G=1093751881
elseif HW8==3 then
set A0G=1093751879
elseif HW8==4 then
set A0G=1093751882
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093751873,false)
call L67(FJ8,A0G)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),A0G,false)
call L67(PU7,A0G)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),A0G,false)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveGroupHandle(L7,(PP7),(133),(LD7()))
call SaveLightningHandle(L7,(PP7),(196),(AAG))
call SaveReal(L7,(PP7),(670),((GetUnitState(FJ8,UNIT_STATE_LIFE)/GetUnitState(FJ8,UNIT_STATE_MAX_LIFE))*1.0))
call SaveReal(L7,(PP7),(667),((GetUnitState(FJ8,UNIT_STATE_MANA)/GetUnitState(FJ8,UNIT_STATE_MAX_MANA))*1.0))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AZG))
call SaveUnitHandle(L7,(GetHandleId(FJ8)),(652),(PU7))
if IsUnitType(PU7,UNIT_TYPE_HERO)then
call TJ7((GetHandleId(PU7)),"AI|TetherSource",FJ8)
endif
if d>700 then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",FJ8,"chest")))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function AYG))
call SaveInteger(L7,(GetHandleId((FJ8))),((4295)),(1))
endif
set FJ8=null
set t=null
endfunction
function A5G takes nothing returns boolean
if GetSpellAbilityId()==1093751873 then
call A1G()
endif
return false
endfunction
function VF8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="VF8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function A5G))
set t=null
endfunction
function A2G takes unit FJ8,real x,real y returns boolean
local boolean O8D=false
local player p=GetOwningPlayer(FJ8)
local unit HV8=CreateUnit(p,1697657425,GetUnitX(FJ8),GetUnitY(FJ8),0)
set EZ7="IsExplored"
call L67(HV8,1093752372)
if IssuePointOrder(HV8,"blink",x,y)==true then
call KillUnit(HV8)
set HV8=null
return true
else
call KillUnit(HV8)
set HV8=null
return false
endif
endfunction
function A_G takes string B4G,unit PU7 returns nothing
local texttag tt=CreateTextTag()
set EZ7="I84"
call SetTextTagText(tt,B4G,0.033)
call SetTextTagPosUnit(tt,PU7,64)
call SetTextTagColor(tt,0,50,255,255)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,0.15)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,0.85)
call SetTextTagVisibility(tt,true)
set tt=null
endfunction
function B7G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer XLG=GetTriggerEvalCount(t)
set EZ7="B7G"
if L17(FJ8)==false and XLG<12 then
call A_G(I2S(12-XLG),FJ8)
endif
if XLG==12 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
return false
endfunction
function B8G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(GetHandleId(FJ8)),(652)))
local real ZHG=(LoadReal(L7,(PP7),(47)))
local real ZIG=(LoadReal(L7,(PP7),(48)))
local real Y_G=(LoadReal(L7,(PP7),(189)))
local real Z4G=(LoadReal(L7,(PP7),(190)))
local fogmodifier YXG=(LoadFogModifierHandle(L7,(PP7),(42)))
set EZ7="B8G"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call UO7(FJ8,"Relocate|Active")
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FogModifierStop(YXG)
call DestroyFogModifier(YXG)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
call ER8(ZHG,ZIG,250)
call ER8(Y_G,Z4G,250)
if GetTriggerEvalCount(t)==1 then
if L17(FJ8)==false then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(FJ8),GetUnitY(FJ8)))
call SetUnitPosition(FJ8,ZHG,ZIG)
call PanCameraToTimedForPlayer(GetOwningPlayer(FJ8),ZHG,ZIG,0)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(FJ8),GetUnitY(FJ8)))
call B87(FJ8)
endif
if PU7!=null and L17(PU7)==false and GetOwningPlayer(PU7)!=Z7[0]and GetOwningPlayer(PU7)!=A7[0]and((UE7(GetHandleId(GetOwningPlayer((PU7))),"DisableHelp"))==false)then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(PU7),GetUnitY(PU7)))
call UU7(PU7,"4402",1)
call SetUnitPosition(PU7,ZHG,ZIG)
if IsUnitType(PU7,UNIT_TYPE_HERO)==true and L17(PU7)==false then
call PanCameraToTimedForPlayer(GetOwningPlayer(PU7),ZHG,ZIG,0)
endif
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(PU7),GetUnitY(PU7)))
call B87(PU7)
endif
else
if L17(FJ8)==false then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(FJ8),GetUnitY(FJ8)))
call SetUnitPosition(FJ8,Y_G,Z4G)
call PanCameraToTimedForPlayer(GetOwningPlayer(FJ8),Y_G,Z4G,0)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(FJ8),GetUnitY(FJ8)))
call B87(FJ8)
endif
if PU7!=null and L17(PU7)==false and GetOwningPlayer(PU7)!=Z7[0]and GetOwningPlayer(PU7)!=A7[0]and((UE7(GetHandleId(GetOwningPlayer((PU7))),"DisableHelp"))==false)then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(PU7),GetUnitY(PU7)))
call UU7(PU7,"4402",1)
call SetUnitPosition(PU7,Y_G,Z4G)
if IsUnitType(PU7,UNIT_TYPE_HERO)==true and L17(PU7)==false then
call PanCameraToTimedForPlayer(GetOwningPlayer(PU7),Y_G,Z4G,0)
endif
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(PU7),GetUnitY(PU7)))
call B87(PU7)
endif
call UO7(FJ8,"Relocate|Active")
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FogModifierStop(YXG)
call DestroyFogModifier(YXG)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
endif
set t=null
set FJ8=null
set PU7=null
set YXG=null
return false
endfunction
function B9G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real ZHG=(LoadReal(L7,(PP7),(47)))
local real ZIG=(LoadReal(L7,(PP7),(48)))
local fogmodifier YXG
local integer HW8=GetUnitAbilityLevel(FJ8,1093751874)
set EZ7="B9G"
if EF9(FJ8)or F68(FJ8)or L17(FJ8)then
call UO7(FJ8,"Relocate|Active")
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetTriggerEvalCount(t)==(2.75-0.25*HW8)/.05 then
set YXG=CreateFogModifierRadius(GetOwningPlayer(FJ8),FOG_OF_WAR_VISIBLE,GetUnitX(FJ8),GetUnitY(FJ8),400,true,true)
call FogModifierStart(YXG)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerRegisterTimerEvent(t,12,false)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function B8G))
call SaveReal(L7,(PP7),(189),((GetUnitX(FJ8))*1.0))
call SaveReal(L7,(PP7),(190),((GetUnitY(FJ8))*1.0))
call SaveReal(L7,(PP7),(47),((ZHG)*1.0))
call SaveReal(L7,(PP7),(48),((ZIG)*1.0))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffect("war3mapImported\\EarthlyEminence.mdl",GetUnitX(FJ8),GetUnitY(FJ8))))
call SaveFogModifierHandle(L7,(PP7),(42),(YXG))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function B7G))
endif
set FJ8=null
set t=null
set YXG=null
return false
endfunction
function BDG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local unit PU7=(LoadUnitHandle(L7,(GetHandleId(FJ8)),(652)))
local integer id=GetPlayerId(GetOwningPlayer(FJ8))
local integer HW8=GetUnitAbilityLevel(FJ8,1093751874)
set EZ7="BDG"
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",FJ8,"chest"))
if PU7!=null then
endif
call PingMinimapEx(x,y,4.0,255,0,0,false)
call EV8(Z7[1],2.5,x,y,300)
call EV8(A7[1],2.5,x,y,300)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call TriggerRegisterTimerEvent(t,.05,true)
call TriggerAddCondition(t,Condition(function B9G))
call SaveReal(L7,(PP7),(47),((x)*1.0))
call SaveReal(L7,(PP7),(48),((y)*1.0))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffect("war3mapImported\\EarthlyEminence.mdl",x,y)))
call UM7(FJ8,"Relocate|Active")
set FJ8=null
set t=null
endfunction
function BEG takes nothing returns boolean
if GetSpellAbilityId()==1093751874 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call BDG()
else
if A2G(GetTriggerUnit(),GetSpellTargetX(),GetSpellTargetY())==false then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848658776))
else
if AG7(GetOwningPlayer(GetTriggerUnit()))then
if IsPointInRegion(U14,GetSpellTargetX(),GetSpellTargetY())==true then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652633))
endif
else
if IsPointInRegion(UL4,GetSpellTargetX(),GetSpellTargetY())==true then
call RG7(GetTriggerUnit())
call DQ8(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652633))
endif
endif
endif
endif
endif
return false
endfunction
function VG8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="VG8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function BEG))
set UL4=CreateRegion()
call RegionAddRect(UL4,HD)
call RegionAddRect(UL4,OD)
set U14=CreateRegion()
call RegionAddRect(U14,GD)
call RegionAddRect(U14,PD)
set t=null
endfunction
function BFG takes unit FJ8,unit B2E,real BGG,real BHG,real a2 returns nothing
local integer i=0
local real BIG
local real BJG=GetUnitY(B2E)
local real a
local real x
local real y
local real BKG
set EZ7="IceBlockade_Surround"
if B2E!=null then
set BIG=GetUnitX(B2E)
set BJG=GetUnitY(B2E)
set a=Q87(BGG,BHG,BIG,BJG)
else
set a=a2
set BIG=BGG+50*Cos(a*bj_DEGTORAD)
set BJG=BHG+50*Sin(a*bj_DEGTORAD)
endif
set BKG=a
set x=BIG+200*Cos(BKG*bj_DEGTORAD)
set y=BJG+200*Sin(BKG*bj_DEGTORAD)
call F48(CreateDestructable(1110454326,x,y,-1*BKG,0.6,1),5)
call ER8(x,y,300)
set BKG=a-40
set x=BIG+200*Cos(BKG*bj_DEGTORAD)
set y=BJG+200*Sin(BKG*bj_DEGTORAD)
call F48(CreateDestructable(1110454326,x,y,-1*BKG,0.6,1),5)
call ER8(x,y,300)
set BKG=a-80
set x=BIG+200*Cos(BKG*bj_DEGTORAD)
set y=BJG+200*Sin(BKG*bj_DEGTORAD)
call F48(CreateDestructable(1110454326,x,y,-1*BKG,0.6,1),5)
call ER8(x,y,300)
set BKG=a+40
set x=BIG+200*Cos(BKG*bj_DEGTORAD)
set y=BJG+200*Sin(BKG*bj_DEGTORAD)
call F48(CreateDestructable(1110454326,x,y,-1*BKG,0.6,1),5)
call ER8(x,y,300)
set BKG=a+80
set x=BIG+200*Cos(BKG*bj_DEGTORAD)
set y=BJG+200*Sin(BKG*bj_DEGTORAD)
call F48(CreateDestructable(1110454326,x,y,-1*BKG,0.6,1),5)
call ER8(x,y,300)
if B2E!=null then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ChainFreeze_F6.mdx",B2E,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",B2E,"chest"))
call HY8(YK4,B2E,ZG4,YN4*70)
endif
endfunction
function BMG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),YO4)==false then
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==false then
call GroupAddUnit(YO4,GetEnumUnit())
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ChainFreeze_F6.mdx",GetEnumUnit(),"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetEnumUnit(),"chest"))
call HY8(YK4,GetEnumUnit(),ZG4,YN4*70)
else
set YM4=GetEnumUnit()
endif
endif
endfunction
function BNG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer E28=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(E28),(2)))
local unit B2E=(LoadUnitHandle(L7,(E28),(17)))
local unit BOG=(LoadUnitHandle(L7,(E28),(45)))
local real BPG=(LoadReal(L7,(E28),(683)))
local real BQG=(LoadReal(L7,(E28),(684)))
local real BGG=GetUnitX(BOG)
local real BHG=GetUnitY(BOG)
local real BRG=Atan2(BQG-BHG,BPG-BGG)
local real BSG=BGG+18*Cos(BRG)
local real BTG=BHG+18*Sin(BRG)
local group BUG=(LoadGroupHandle(L7,(E28),(133)))
local integer ZHG=GetUnitAbilityLevel(FJ8,1093753167)
local group g=LD7()
set EZ7="BNG"
set IN4=FJ8
set YK4=FJ8
set YO4=BUG
set YN4=ZHG
set YM4=null
call GroupEnumUnitsInRange(g,BSG,BTG,225,Condition(function G78))
call ForGroup(g,function BMG)
call L97(g)
call SetUnitPosition(BOG,BSG,BTG)
if Q07(BSG,BTG,BPG,BQG)<40 or YM4!=null then
call ER8(BSG,BTG,300)
call KillUnit(BOG)
call ShowUnit(BOG,false)
call SetUnitPathing(BOG,true)
if YM4!=null then
call BFG(FJ8,YM4,BSG,BTG,BRG*bj_RADTODEG)
else
call BFG(FJ8,null,BSG,BTG,BRG*bj_RADTODEG)
endif
call L97(BUG)
call FlushChildHashtable(L7,(E28))
call UQ7(t)
endif
set t=null
set BOG=null
set BUG=null
set g=null
return false
endfunction
function BVG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer E28=GetHandleId(t)
local unit BOG=CreateUnit(GetOwningPlayer(FJ8),1747993427,GetUnitX(FJ8),GetUnitY(FJ8),0)
local real BGG=GetUnitX(FJ8)
local real BHG=GetUnitY(FJ8)
local real BIG=GetSpellTargetX()
local real BJG=GetSpellTargetY()
local real BRG=Atan2(BJG-BHG,BIG-BGG)
local real BPG=DT8(BGG+1600*Cos(BRG))
local real BQG=DU8(BHG+1600*Sin(BRG))
set EZ7="BVG"
call SetUnitFacing(BOG,BRG*bj_RADTODEG)
call SetUnitPathing(BOG,false)
call TriggerRegisterTimerEvent(t,.02,true)
call TriggerAddCondition(t,Condition(function BNG))
call SaveUnitHandle(L7,(E28),(2),(FJ8))
call SaveReal(L7,(E28),(683),((BPG)*1.0))
call SaveReal(L7,(E28),(684),((BQG)*1.0))
call SaveReal(L7,(E28),(13),((BRG)*1.0))
call SaveUnitHandle(L7,(E28),(45),(BOG))
call SaveGroupHandle(L7,(E28),(133),(LD7()))
set FJ8=null
set BOG=null
set t=null
endfunction
function BWG takes nothing returns boolean
if GetSpellAbilityId()==1093753167 then
call BVG()
endif
return false
endfunction
function VH8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="VH8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BWG))
set t=null
endfunction
function BXG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093753169)
local integer L48=GetTriggerEvalCount(t)
local real y=(L48-50)*(L48-50)/4.3
local real CV9
set EZ7="BXG"
if HW8==1 then
set CV9=75
elseif HW8==2 then
set CV9=150
else
set CV9=225
endif
if L48==1 then
call IssueTargetOrder(FJ8,"attack",PU7)
endif
if L48<50 then
if S3D(PU7)==false then
call SetUnitFlyHeight(PU7,700*L48/50,0)
endif
elseif L48<100 then
if S3D(PU7)==false then
call SetUnitFlyHeight(PU7,700-700*(L48-50)/50,0)
endif
else
if S3D(PU7)==false then
call SetUnitFlyHeight(PU7,GetUnitDefaultFlyHeight(PU7),0)
endif
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call T97(PP7)
call UQ7(t)
call FV8(PU7,1093808180,1,1+HW8,1110459481)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093808180,false)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function BYG takes unit FJ8,unit PU7 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local integer HW8=GetUnitAbilityLevel(FJ8,1093753169)
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
set EZ7="WalrusPunch_Launch"
call EI8("WALRUS PUNCH !!",3.5,FJ8,0.03,255,0,0,255)
call ET8(XQ4,GetUnitX(PU7),GetUnitY(PU7))
call L67(HV8,1093752144)
call IssueTargetOrder(HV8,"thunderbolt",PU7)
if S3D(PU7)==false then
call L67(PU7,1097691750)
call UnitRemoveAbility(PU7,1097691750)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",PU7,"overhead"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",PU7,"head"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",PU7,"left,hand"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",PU7,"right,hand"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",PU7,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",PU7,"origin"))
call TriggerRegisterTimerEvent(t,.01,true)
call TriggerAddCondition(t,Condition(function BXG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveEffectHandle(L7,(PP7),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",PU7,"chest")))
set t=null
endfunction
function BZG takes nothing returns boolean
local trigger t2=GetTriggeringTrigger()
local integer QFD=GetHandleId(t2)
local unit FJ8=(LoadUnitHandle(L7,(QFD),(2)))
local unit PU7=(LoadUnitHandle(L7,(QFD),(17)))
local integer AW7=GetHandleId(FJ8)
local trigger t=T07(AW7,"WalrusPunch|Clear")
set EZ7="BZG"
if GetTriggerEvalCount(t2)==1 then
call IssueTargetOrder(FJ8,"attack",PU7)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==FJ8 and GetEventDamage()>30 then
if PU7==T37(AW7,"WalrusPunch|Target")then
call FR8(FJ8,1093752136,1,0.1)
call FR8(FJ8,1093752137,1,0.1)
call BYG(FJ8,PU7)
if t!=null then
call TriggerEvaluate(t)
endif
endif
call UQ7(t2)
call T97(QFD)
endif
else
call UnitRemoveAbility(FJ8,1093752136)
call UnitRemoveAbility(FJ8,1093752137)
call T97(QFD)
call UQ7(t2)
endif
set t2=null
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function BAG takes nothing returns boolean
local unit FJ8=GetAttacker()
local unit PU7=GetTriggerUnit()
local integer AW7=GetHandleId(FJ8)
local trigger t=T07(AW7,"WalrusPunch|Clear")
local trigger t2
local integer QFD
set EZ7="BAG"
if UJ7(FJ8,"WalrusPunch|Active")==true and t!=null and PU7!=T37(AW7,"WalrusPunch|Target")and IsUnitAlly(PU7,GetOwningPlayer(FJ8))==false and IsUnitType(PU7,UNIT_TYPE_STRUCTURE)==false then
call TJ7(AW7,"WalrusPunch|Target",PU7)
call UnitRemoveAbility(FJ8,1093752136)
call UnitRemoveAbility(FJ8,1093752137)
if GetUnitState(PU7,UNIT_STATE_LIFE)/GetUnitState(PU7,UNIT_STATE_MAX_LIFE)>0.5 then
call L67(FJ8,1093752136)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093752136,false)
else
call L67(FJ8,1093752137)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093752137,false)
endif
call IssueImmediateOrder(FJ8,"stop")
set t2=CreateTrigger()
set QFD=GetHandleId(t2)
call TriggerRegisterTimerEvent(t2,0.,false)
call TriggerRegisterTimerEvent(t2,2.,false)
call TriggerRegisterUnitEvent(t2,PU7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t2,Condition(function BZG))
call SaveUnitHandle(L7,(QFD),(2),(FJ8))
call SaveUnitHandle(L7,(QFD),(17),(PU7))
endif
set FJ8=null
set PU7=null
return false
endfunction
function BBG takes nothing returns boolean
if UJ7(GetAttacker(),"WalrusPunch|Active")==true then
call BAG()
endif
return false
endfunction
function BCG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer AW7=GetHandleId(FJ8)
set EZ7="BCG"
call UO7(FJ8,"WalrusPunch|Active")
call DestroyEffect(T27(AW7,"WalrusPunch|Visual"))
call UnitRemoveAbility(FJ8,1093752136)
call UnitRemoveAbility(FJ8,1093752137)
call TD7(AW7,"WalrusPunch|Visual")
call TD7(AW7,"WalrusPunch|Target")
call TD7(AW7,"WalrusPunch|Clear")
call T97(PP7)
call UQ7(t)
set FJ8=null
set t=null
return false
endfunction
function B3G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local integer AW7=GetHandleId(FJ8)
set EZ7="B3G"
call TriggerRegisterTimerEvent(t,10.,false)
call TriggerAddCondition(t,Condition(function BCG))
call UM7(FJ8,"WalrusPunch|Active")
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call TJ7(AW7,"WalrusPunch|Target",FJ8)
call TK7(AW7,"WalrusPunch|Visual",(AddSpecialEffectTarget("war3mapImported\\WalrusPunchWeaponFX.mdx",FJ8,"weapon")))
call TM7(AW7,"WalrusPunch|Clear",t)
set t=null
set FJ8=null
endfunction
function B6G takes nothing returns boolean
if GetSpellAbilityId()==1093753169 then
call B3G()
endif
return false
endfunction
function VI8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="VI8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function B6G))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function BBG))
set t=null
endfunction
function BLG takes nothing returns nothing
call ShowUnit(GetEnumUnit(),true)
call UnitRemoveAbility(GetEnumUnit(),1093678162)
call SetUnitInvulnerable(GetEnumUnit(),false)
call PauseUnit(GetEnumUnit(),false)
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call SetUnitPosition(GetEnumUnit(),YU4,YV4)
call SelectUnitForPlayerSingle(GetEnumUnit(),GetOwningPlayer(GetEnumUnit()))
else
call SetUnitX(GetEnumUnit(),YU4)
call SetUnitY(GetEnumUnit(),YV4)
endif
if GetEnumUnit()==YQ4 and YR4!=null then
call IssueTargetOrder(YQ4,"attack",YR4)
endif
call DestroyEffect(AddSpecialEffect("war3mapImported\\ChainFreeze_F6.mdx",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
endfunction
function B1G takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),YP4)==false then
call GroupAddUnit(YP4,GetEnumUnit())
if GetEnumUnit()==YR4 then
call HY8(YQ4,GetEnumUnit(),ZG4,40*YT4+40)
call SetUnitAbilityLevel(YS4,1093687350,HS8(0.25*YT4+0.25))
else
call HY8(YQ4,GetEnumUnit(),ZG4,40*YT4)
call SetUnitAbilityLevel(YS4,1093687350,HS8(0.25*YT4))
endif
call SetUnitX(YS4,GetUnitX(GetEnumUnit()))
call SetUnitY(YS4,GetUnitY(GetEnumUnit()))
call IssueTargetOrder(YS4,"thunderbolt",GetEnumUnit())
endif
endfunction
function B0G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit EW8=(LoadUnitHandle(L7,(PP7),(45)))
local real EX8=GetUnitX(PU7)
local real EY8=GetUnitY(PU7)
local real r=(LoadReal(L7,(PP7),(671)))
local real a=Q87(GetUnitX(EW8),GetUnitY(EW8),EX8,EY8)*bj_DEGTORAD
local real x=GetUnitX(EW8)+r*Cos(a)
local real y=GetUnitY(EW8)+r*Sin(a)
local group BUG=(LoadGroupHandle(L7,(PP7),(133)))
local group g
local integer L48=GetTriggerEvalCount(t)
local real CWE=RMinBJ(2.5+(L48*0.02),10)
local real B5G=225+40*(L48*0.02)
set EZ7="B0G"
set YT4=GetUnitAbilityLevel(FJ8,1093751607)
set IN4=FJ8
set YP4=BUG
set YQ4=FJ8
set YR4=PU7
set YS4=(LoadUnitHandle(L7,(PP7),(19)))
call SetUnitX(EW8,x)
call SetUnitY(EW8,y)
call SetUnitFacing(EW8,a*bj_RADTODEG-180)
call SetUnitScale(EW8,CWE,CWE,CWE)
if Q07(x,y,EX8,EY8)<r*2 or L48==150 then
call ER8(x,y,300)
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,B5G,Condition(function G78))
call ForGroup(g,function B1G)
call L97(g)
set g=null
set YU4=x
set YV4=y
call ForGroup((LoadGroupHandle(L7,(PP7),(22))),function BLG)
call L97((LoadGroupHandle(L7,(PP7),(22))))
call L97(BUG)
call KillUnit(EW8)
call T97(PP7)
call UQ7(t)
else
if ModuloInteger(GetTriggerEvalCount(t),5)==0 then
call ER8(x,y,300)
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,B5G,Condition(function G78))
call ForGroup(g,function B1G)
call L97(g)
set g=null
endif
endif
set t=null
set FJ8=null
set EW8=null
set BUG=null
return false
endfunction
function B2G takes nothing returns nothing
call DestroyEffect(AddSpecialEffect("war3mapImported\\ChainFreeze_F6.mdx",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call ShowUnit(GetEnumUnit(),false)
call L67(GetEnumUnit(),1093678162)
call SetUnitInvulnerable(GetEnumUnit(),true)
call PauseUnit(GetEnumUnit(),true)
if YQ4!=GetEnumUnit()then
set YX4=YX4+1
endif
endfunction
function B_G takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))or(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit()))))and((LoadBoolean(L7,(GetHandleId(GetOwningPlayer(GetFilterUnit()))),(139)))==false or YQ4==GetFilterUnit())
endfunction
function C4G takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit B2E=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer E28=GetHandleId(t)
local real BGG=GetUnitX(FJ8)
local real BHG=GetUnitY(FJ8)
local real BIG=GetUnitX(B2E)
local real BJG=GetUnitY(B2E)
local real a=Q87(BGG,BHG,BIG,BJG)*bj_DEGTORAD
local unit C7G=CreateUnit(GetOwningPlayer(FJ8),1747993395,GetUnitX(FJ8),GetUnitY(FJ8),GetUnitFacing(FJ8))
local group g=LD7()
set EZ7="C4G"
set YW4=0
set YX4=1
set YQ4=FJ8
set YW4=1.5*RMaxBJ(133,GetUnitMoveSpeed(FJ8))
call GroupEnumUnitsInRange(g,BGG,BHG,255,Condition(function B_G))
call ForGroup(g,function B2G)
set YS4=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(FJ8),GetUnitY(FJ8),0)
call L67(YS4,1093687350)
call SetUnitTimeScale(C7G,2)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function B0G))
call SaveUnitHandle(L7,(E28),(2),(FJ8))
call SaveUnitHandle(L7,(E28),(17),(B2E))
call SaveUnitHandle(L7,(E28),(19),(YS4))
call SaveUnitHandle(L7,(E28),(45),(C7G))
call SaveReal(L7,(E28),(137),((a)*1.0))
call SaveReal(L7,(E28),(671),((YW4*0.02)*1.0))
call SaveReal(L7,(E28),(47),((BIG)*1.0))
call SaveReal(L7,(E28),(48),((BJG)*1.0))
call SaveGroupHandle(L7,(E28),(22),(g))
call SaveGroupHandle(L7,(E28),(133),(LD7()))
set t=null
set FJ8=null
set C7G=null
set g=null
endfunction
function C8G takes nothing returns boolean
if GetSpellAbilityId()==1093751607 then
call C4G()
endif
return false
endfunction
function VJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="VJ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function C8G))
call DX8(1093687350)
set t=null
endfunction
function C9G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer E28=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(E28),(2)))
local unit B2E=(LoadUnitHandle(L7,(E28),(17)))
set EZ7="C9G"
call T97(E28)
call UQ7(t)
call IssueTargetOrder(FJ8,"move",B2E)
set t=null
set FJ8=null
set B2E=null
return false
endfunction
function CDG takes nothing returns nothing
local unit FJ8=GetSummonedUnit()
local unit B2E=GetSummoningUnit()
local trigger t=CreateTrigger()
local integer E28=GetHandleId(t)
set EZ7="CDG"
call TriggerAddCondition(t,Condition(function C9G))
call TriggerRegisterTimerEvent(t,0.2,false)
call SaveUnitHandle(L7,(E28),(2),(FJ8))
call SaveUnitHandle(L7,(E28),(17),(B2E))
set t=null
set FJ8=null
set B2E=null
endfunction
function CEG takes nothing returns boolean
local integer id=GetUnitTypeId(GetSummonedUnit())
set EZ7="CEG"
if id==1865429322 or id==1865429323 or id==1865429324 or id==1865429325 then
call CDG()
endif
return false
endfunction
function VK8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="VK8"
call EO8(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function CEG))
endfunction
function CFG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
set EZ7="CFG"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
set ZY4=GetEventDamageSource()
else
call SetUnitX(FJ8,GetUnitX(PU7))
call SetUnitY(FJ8,GetUnitY(PU7))
call SetUnitX(HV8,GetUnitX(PU7))
call SetUnitY(HV8,GetUnitY(PU7))
endif
set t=null
set FJ8=null
set PU7=null
set HV8=null
return false
endfunction
function CGG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
set EZ7="CGG"
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
set ZY4=GetEventDamageSource()
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function CHG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetSummoningUnit()
local unit PU7=GetSummonedUnit()
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(FJ8),GetUnitY(FJ8),0)
set EZ7="CHG"
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function CFG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
if SG7(FJ8,1227899192)then
call UnitAddAbility(HV8,1093678153)
endif
set t=null
set FJ8=null
set PU7=null
set HV8=null
endfunction
function CIG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetSummoningUnit()
local unit PU7=GetSummonedUnit()
set EZ7="CIG"
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function CGG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
set t=null
set FJ8=null
set PU7=null
endfunction
function CJG takes nothing returns boolean
local integer BU7=GetUnitTypeId(GetSummonedUnit())
set EZ7="CJG"
if BU7==1852862003 or BU7==1852862006 or BU7==1848652080 or BU7==1848657754 then
call CHG()
elseif CD7(BU7)then
call CIG()
endif
return false
endfunction
function VN8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="VN8"
call EO8(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function CJG))
set t=null
endfunction
function CKG takes nothing returns nothing
call HU8(AT4,GetEnumUnit(),0.75+0.25*GetUnitAbilityLevel(AT4,1093809990))
endfunction
function CMG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local real a=(LoadReal(L7,(PP7),(137)))
local real EX8=(LoadReal(L7,(PP7),(47)))
local real EY8=(LoadReal(L7,(PP7),(48)))
local real GPD=(LoadReal(L7,(PP7),(189)))
local real GQD=(LoadReal(L7,(PP7),(190)))
local group g
local real d=Q07(GPD,GQD,EX8,EY8)/25
local location l
local integer L48=GetTriggerEvalCount(t)
local real x=GPD+d*L48*Cos(a)
local real y=GQD+d*L48*Sin(a)
set EZ7="CMG"
call SetUnitX(PU7,DT8(x))
call SetUnitY(PU7,DU8(y))
if S3D(PU7)==false then
call SetUnitFlyHeight(PU7,325-13*L48,0)
endif
if L48==25 then
call SetUnitX(PU7,DT8(EX8))
call SetUnitY(PU7,DU8(EY8))
if IsPointInRegion(IU4,GetUnitX(PU7),GetUnitY(PU7))==true then
set l=EP9(GetUnitX(PU7),GetUnitY(PU7))
call SetUnitX(PU7,DV8(GetLocationX(l)))
call SetUnitY(PU7,DW8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
set IN4=FJ8
set AT4=FJ8
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(PU7),GetUnitY(PU7),350,Condition(function G78))
call GroupRemoveUnit(g,PU7)
call ForGroup(g,function CKG)
call L97(g)
call ER8(GetUnitX(PU7),GetUnitY(PU7),150)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(PU7),GetUnitY(PU7)))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if S3D(PU7)==false then
call SetUnitFlyHeight(PU7,GetUnitDefaultFlyHeight(PU7),0)
endif
call SetUnitPathing(PU7,true)
endif
set t=null
set FJ8=null
set PU7=null
set g=null
return false
endfunction
function CNG takes unit FJ8,unit PU7,unit Target2,real COG,real CPG,effect FX,effect CQG returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local real EX8=COG
local real EY8=CPG
local real a=Q87(GetUnitX(PU7),GetUnitY(PU7),COG,CPG)*bj_DEGTORAD
set EZ7="Telekinesis_Push"
if Q07(GetUnitX(PU7),GetUnitY(PU7),COG,CPG)>375 then
set EX8=GetUnitX(PU7)+375*Cos(a)
set EY8=GetUnitY(PU7)+375*Sin(a)
endif
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveReal(L7,(PP7),(137),((a)*1.0))
call SaveReal(L7,(PP7),(47),((EX8)*1.0))
call SaveReal(L7,(PP7),(48),((EY8)*1.0))
call SaveReal(L7,(PP7),(189),((GetUnitX(PU7))*1.0))
call SaveReal(L7,(PP7),(190),((GetUnitY(PU7))*1.0))
call SaveEffectHandle(L7,(PP7),(32),(FX))
call SaveEffectHandle(L7,(PP7),(176),(CQG))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function CMG))
set t=null
endfunction
function CRG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer L48=(LoadInteger(L7,(PP7),(34)))
local integer E_D=(LoadInteger(L7,(PP7),(12)))
local real EX8=(LoadReal(L7,(PP7),(47)))
local real EY8=(LoadReal(L7,(PP7),(48)))
local integer CSG=(LoadInteger(L7,(PP7),(706)))
local real a
set EZ7="CRG"
if GetTriggerEventId()==EVENT_WIDGET_DEATH or(GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and EF9(PU7)==false)then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809990,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093810008,false)
call CNG(FJ8,PU7,(LoadUnitHandle(L7,(PP7),(711))),EX8,EY8,(LoadEffectHandle(L7,(PP7),(32))),(LoadEffectHandle(L7,(PP7),(176))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093810008 then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
set a=Q87(GetUnitX(PU7),GetUnitY(PU7),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORAD
if Q07(GetUnitX(PU7),GetUnitY(PU7),GetSpellTargetX(),GetSpellTargetY())>375 then
set EX8=GetUnitX(PU7)+375*Cos(a)
set EY8=GetUnitY(PU7)+375*Sin(a)
else
set EX8=GetSpellTargetX()
set EY8=GetSpellTargetY()
endif
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffect("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",EX8,EY8)))
call SaveReal(L7,(PP7),(47),((EX8)*1.0))
call SaveReal(L7,(PP7),(48),((EY8)*1.0))
call SaveUnitHandle(L7,(PP7),(711),(GetSpellTargetUnit()))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",GetSpellTargetUnit(),"origin")))
endif
else
set L48=L48+1
call SaveInteger(L7,(PP7),(34),(L48))
call SetUnitPathing(PU7,false)
if(LoadInteger(L7,(PP7),(707)))==1 then
set CSG=CSG+3
else
set CSG=CSG-3
endif
call SaveInteger(L7,(PP7),(706),(CSG))
if CSG==30 then
call SaveInteger(L7,(PP7),(707),(-1))
elseif CSG==-30 then
call SaveInteger(L7,(PP7),(707),(1))
endif
if S3D(PU7)==false then
if L48<15 then
call SetUnitFlyHeight(PU7,L48*20,0)
else
call SetUnitFlyHeight(PU7,300+CSG,0)
endif
endif
if L48>(E_D-25)then
if S3D(PU7)==false then
call SetUnitFlyHeight(PU7,300,0)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809990,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093810008,false)
call CNG(FJ8,PU7,(LoadUnitHandle(L7,(PP7),(711))),EX8,EY8,(LoadEffectHandle(L7,(PP7),(32))),(LoadEffectHandle(L7,(PP7),(176))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function CTG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local integer HW8=GetUnitAbilityLevel(FJ8,1093809990)
local unit HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
set EZ7="CTG"
call UnitAddAbility(HV8,1093810226)
call SetUnitAbilityLevel(HV8,1093810226,HW8)
call IssueTargetOrder(HV8,"thunderbolt",PU7)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093809990,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093810008,true)
call UnitAddAbility(FJ8,1093810008)
call SetUnitPathing(PU7,false)
if S3D(PU7)==false then
call L67(PU7,1097691750)
call UnitRemoveAbility(PU7,1097691750)
endif
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(711),(PU7))
call SaveInteger(L7,(PP7),(12),(R2I((1.25+0.25*HW8)/.02)))
call SaveInteger(L7,(PP7),(34),(0))
call SaveInteger(L7,(PP7),(706),(0))
call SaveInteger(L7,(PP7),(707),(1))
call SaveReal(L7,(PP7),(47),((GetUnitX(PU7))*1.0))
call SaveReal(L7,(PP7),(48),((GetUnitY(PU7))*1.0))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("war3mapImported\\AntiGravityTarget.mdx",PU7,"origin")))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffect("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",GetUnitX(PU7),GetUnitY(PU7))))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CRG))
set FJ8=null
set PU7=null
endfunction
function CUG takes nothing returns boolean
if GetSpellAbilityId()==1093809990 and L87(GetSpellTargetUnit())==false then
call CTG()
endif
return false
endfunction
function VO8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="VO8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CUG))
call DX8(1093687350)
call DX8(1093810226)
set t=null
endfunction
function CVG takes unit FJ8,unit PU7 returns nothing
local integer HW8=GetUnitAbilityLevel(FJ8,1093809991)
set EZ7="FadeBolt_Hit"
if IsUnitType(PU7,UNIT_TYPE_HERO)==true then
if HW8==1 then
call FR8(PU7,1093810007,1,10)
elseif HW8==2 then
call FR8(PU7,1093810230,1,10)
elseif HW8==3 then
call FR8(PU7,1093810229,1,10)
elseif HW8==4 then
call FR8(PU7,1093810231,1,10)
endif
else
if HW8==1 then
call FR8(PU7,1093810481,1,10)
elseif HW8==2 then
call FR8(PU7,1093810266,1,10)
elseif HW8==3 then
call FR8(PU7,1093810482,1,10)
elseif HW8==4 then
call FR8(PU7,1093810480,1,10)
endif
endif
call ET8(AH4,GetUnitX(PU7),GetUnitY(PU7))
endfunction
function CWG takes nothing returns nothing
local real d
set EZ7="CWG"
if IsUnitInGroup(GetEnumUnit(),AW4)==false then
set d=Q17(GetEnumUnit(),AV4)
if d<AX4 then
set AX4=d
set AU4=GetEnumUnit()
endif
endif
endfunction
function CXG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local group HPD=(LoadGroupHandle(L7,(PP7),(187)))
local real x=GetUnitX(PU7)
local real y=GetUnitY(PU7)
local group g=LD7()
set EZ7="CXG"
call GroupAddUnit(HPD,PU7)
call CVG(FJ8,PU7)
set IN4=FJ8
set AU4=null
set AV4=PU7
set AW4=HPD
set AX4=999999
call GroupEnumUnitsInRange(g,x,y,440+25,Condition(function GA8))
call ForGroup(g,function CWG)
call L97(g)
if AU4==null or GetTriggerEvalCount(t)>26 then
call L97(HPD)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set PU7=AU4
call SaveUnitHandle(L7,(PP7),(17),(PU7))
endif
set g=null
set t=null
set FJ8=null
set PU7=null
set HPD=null
return false
endfunction
function CYG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local group HPD=LD7()
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(FJ8),GetUnitY(FJ8),GetUnitFacing(FJ8))
set EZ7="CYG"
call ET8(AH4,GetUnitX(FJ8),GetUnitY(FJ8))
call L67(HV8,1093810228)
call SetUnitAbilityLevel(HV8,1093810228,GetUnitAbilityLevel(FJ8,1093809991))
call IssueTargetOrder(HV8,"chainlightning",PU7)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveGroupHandle(L7,(PP7),(187),(HPD))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function CXG))
set FJ8=null
set PU7=null
set t=null
set HV8=null
endfunction
function CZG takes nothing returns boolean
if GetSpellAbilityId()==1093809991 and L87(GetSpellTargetUnit())==false then
call CYG()
endif
return false
endfunction
function VP8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="VP8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CZG))
set t=null
endfunction
function CAG takes nothing returns boolean
if IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),GetLearnedSkill())==1 then
if GetLearnedSkill()==1093809990 then
call UnitRemoveAbility(GetTriggerUnit(),1093809993)
elseif GetLearnedSkill()==1093809991 then
call UnitRemoveAbility(GetTriggerUnit(),1093809995)
elseif GetLearnedSkill()==1093810006 then
call UnitRemoveAbility(GetTriggerUnit(),1093809994)
endif
endif
return false
endfunction
function CBG takes integer id returns nothing
set AY4[AZ4]=id
set AZ4=AZ4+1
endfunction
function CCG takes integer id returns boolean
local integer i=0
set EZ7="SpellSteal_IsBlocked"
loop
exitwhen i==AZ4
if id==AY4[i]then
return true
endif
set i=i+1
endloop
return false
endfunction
function C3G takes nothing returns boolean
local integer i1=GetSpellAbilityId()
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and CCG(i1)==false then
call SaveInteger(L7,(GetHandleId(GetTriggerUnit())),(705),(i1))
call SaveInteger(L7,(GetHandleId(GetTriggerUnit())),(712),(GetUnitAbilityLevel(GetTriggerUnit(),i1)))
endif
return false
endfunction
function C6G takes unit u returns nothing
call UnitRemoveAbility(u,1093743428)
call UnitRemoveAbility(u,1093815881)
call UnitRemoveAbility(u,1093751126)
call UnitRemoveAbility(u,1093751893)
call UnitRemoveAbility(u,1093809217)
call UnitRemoveAbility(u,1093809218)
call UnitRemoveAbility(u,1093750344)
call UnitRemoveAbility(u,1093808206)
call UnitRemoveAbility(u,1093753394)
call UnitRemoveAbility(u,1093753395)
call UnitRemoveAbility(u,1093808181)
call UnitRemoveAbility(u,1093752405)
call UnitRemoveAbility(u,1093683011)
call UnitRemoveAbility(u,1093809221)
call UnitRemoveAbility(u,1093685844)
call UnitRemoveAbility(u,1093751361)
call UnitRemoveAbility(u,1093683265)
call UnitRemoveAbility(u,1093686081)
call UnitRemoveAbility(u,1093743153)
call UnitRemoveAbility(u,1093752646)
call UnitRemoveAbility(u,1093677652)
call UnitRemoveAbility(u,1093751609)
call UnitRemoveAbility(u,1093808456)
call UnitRemoveAbility(u,1093750094)
call UnitRemoveAbility(u,1093678667)
call UnitRemoveAbility(u,1093684805)
call UnitRemoveAbility(u,1093684560)
call UnitRemoveAbility(u,1093815618)
endfunction
function CLG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer C1G=(LoadInteger(L7,(PP7),(704)))
local integer C0G=(LoadInteger(L7,(PP7),(713)))
set EZ7="CLG"
if C1G==(LoadInteger(L7,(GetHandleId(FJ8)),(704)))then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetTriggerEvalCount(t)>(15-C0G)and L17(FJ8)==false then
call UnitRemoveAbility(FJ8,C1G)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
return false
endfunction
function C5G takes unit FJ8,integer C1G,real FP9 returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set EZ7="SpellSteal_DelayRemove"
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function CLG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveInteger(L7,(PP7),(704),(C1G))
call SaveInteger(L7,(GetHandleId(FJ8)),(704),(-1))
call SaveInteger(L7,(PP7),(713),(R2I((TimerGetElapsed(W))-FP9)))
set t=null
endfunction
function C2G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer C1G=(LoadInteger(L7,(PP7),(704)))
local integer L48=(LoadInteger(L7,(PP7),(34)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093809992)
local real FP9=(LoadReal(L7,(PP7),(411)))
set EZ7="C2G"
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and GetTriggerEventId()!=EVENT_WIDGET_DEATH then
if L48==0 then
call SaveInteger(L7,(PP7),(34),(1))
call DisplayTimedTextToPlayer(GetOwningPlayer(FJ8),0,0,10,"|c00ff0303"+GetObjectName(1848659031)+"|r")
else
call C6G(FJ8)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),C1G,false)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call C5G(FJ8,C1G,FP9)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093809992 then
call C6G(FJ8)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),C1G,false)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call C5G(FJ8,C1G,FP9)
elseif GetSpellAbilityId()==C1G then
call SaveReal(L7,(PP7),(411),(((TimerGetElapsed(W)))*1.0))
endif
elseif GetTriggerEventId()==EVENT_WIDGET_DEATH then
call C6G(FJ8)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),C1G,false)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call C5G(FJ8,C1G,FP9)
endif
set t=null
set FJ8=null
return false
endfunction
function C_G takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer C1G=(LoadInteger(L7,(PP7),(704)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local real L4G=60*(2+GetUnitAbilityLevel(FJ8,1093809992))
local integer L7G=GetHandleId(FJ8)
local integer L8G=GetHandleId(PU7)
set EZ7="C_G"
if(U97(L8G,"WexLevel"))>0 then
call TF7(L7G,"WexLevel",(U97(L8G,"WexLevel")))
endif
if(U97(L8G,"QuasLevel"))>0 then
call TF7(L7G,"QuasLevel",(U97(L8G,"QuasLevel")))
endif
if(U97(L8G,"ExortLevel"))>0 then
call TF7(L7G,"ExortLevel",(U97(L8G,"ExortLevel")))
endif
if(LoadInteger(L7,(GetHandleId(PU7)),(710)))>0 then
call SaveInteger(L7,(GetHandleId(FJ8)),(710),((LoadInteger(L7,(GetHandleId(PU7)),(710)))))
endif
call ET8(AE4,GetUnitX(FJ8),GetUnitY(FJ8))
call EI8(GetObjectName(C1G),3.5,FJ8,0.024,170,0,255,216)
call SaveInteger(L7,(GetHandleId(FJ8)),(704),(C1G))
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),C1G,true)
call L67(FJ8,C1G)
call SetUnitAbilityLevel(FJ8,C1G,HW8)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveInteger(L7,(PP7),(34),(0))
call SaveInteger(L7,(PP7),(704),(C1G))
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,L4G,false)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerRegisterTimerEvent(t,L4G-20,false)
call TriggerAddCondition(t,Condition(function C2G))
if AK7(GetOwningPlayer(FJ8))then
call TZF(FJ8,C1G,PU7)
endif
set t=null
set FJ8=null
set PU7=null
endfunction
function L9G takes unit FJ8,unit PU7,integer C1G,integer HW8 returns nothing
local trigger t=E68(PU7,FJ8,1747993666,"C_G",900)
local integer PP7=GetHandleId(t)
set EZ7="SpellSteal_Steal"
call ET8(AD4,GetUnitX(PU7),GetUnitY(PU7))
call EI8(GetObjectName(C1G),3.75,PU7,0.024,170,0,255,216)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveInteger(L7,(PP7),(704),(C1G))
call SaveInteger(L7,(PP7),(5),(HW8))
set t=null
endfunction
function LDG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
set EZ7="LDG"
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if CCG(GetSpellAbilityId())==true then
else
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
else
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function LEG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
set EZ7="LEG"
if(LoadInteger(L7,(GetHandleId(PU7)),(705)))!=0 then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Nebula.mdx",PU7,"origin"))
call L9G(FJ8,PU7,(LoadInteger(L7,(GetHandleId(PU7)),(705))),(LoadInteger(L7,(GetHandleId(PU7)),(712))))
endif
set FJ8=null
set PU7=null
endfunction
function LFG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local string fx=""
set EZ7="LFG"
if IsPlayerAlly(GetOwningPlayer(FJ8),GetLocalPlayer())or C67(GetLocalPlayer())then
set fx="war3mapImported\\Nebula.mdx"
endif
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget(fx,PU7,"origin")))
call TriggerRegisterTimerEvent(t,20,false)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LDG))
set FJ8=null
set PU7=null
endfunction
function LGG takes nothing returns boolean
if GetSpellAbilityId()==1093809992 and L87(GetSpellTargetUnit())==false then
call LEG()
endif
return false
endfunction
function LHG takes nothing returns nothing
call CBG(1093752648)
call CBG(1095656306)
call CBG(1093677895)
call CBG(1093679411)
call CBG(1093743946)
call CBG(1093681479)
call CBG(1093681733)
call CBG(1093751896)
call CBG(1093808697)
call CBG(1093751369)
call CBG(1093747504)
call CBG(1093742932)
call CBG(1093744986)
call CBG(1093815877)
call CBG(1093743428)
call CBG(1093815881)
call CBG(1093751126)
call CBG(1093751893)
call CBG(1093809217)
call CBG(1093809218)
call CBG(1093750344)
call CBG(1093808206)
call CBG(1093753394)
call CBG(1093753395)
call CBG(1093808181)
call CBG(1093752405)
call CBG(1093683011)
call CBG(1093809221)
call CBG(1093685844)
call CBG(1093751361)
call CBG(1093683265)
call CBG(1093686081)
call CBG(1093743153)
call CBG(1093752646)
call CBG(1093677652)
call CBG(1093751609)
call CBG(1093808456)
call CBG(1093750094)
call CBG(1093684056)
call CBG(1093684055)
call CBG(1093681461)
call CBG(1093681735)
call CBG(1093808471)
call CBG(1093808472)
call CBG(1093808470)
call CBG(1093808473)
call CBG(1093748565)
call CBG(1093752392)
call CBG(1093752391)
call CBG(1093815600)
call CBG(1093815618)
call CBG(1093677625)
call CBG(1093816121)
call CBG(1093685582)
call CBG(1093677622)
call CBG(1095263841)
call CBG(1093679446)
call CBG(1093682265)
call CBG(1093752642)
call CBG(1093684314)
call CBG(1093685065)
call CBG(1093750337)
call CBG(1093748033)
call CBG(1093684819)
call CBG(1093747777)
call CBG(1093810257)
call CBG(1093687121)
call CBG(1093751864)
call CBG(1093742674)
call CBG(1093742926)
call CBG(1093682521)
call CBG(1093682760)
call CBG(1093686859)
call CBG(1093686865)
call CBG(1093678899)
call CBG(1093677898)
call CBG(1093678154)
call CBG(1093678157)
call CBG(1093678158)
call CBG(1093809990)
call CBG(1093810008)
call CBG(1093809991)
call CBG(1093809992)
call CBG(1093685557)
call CBG(1093686347)
call CBG(1095328363)
call CBG(1093683801)
call CBG(1093747011)
call CBG(1095331948)
call CBG(1095331954)
call CBG(1097163124)
call CBG(1093684016)
call CBG(1093683255)
call CBG(1093683254)
call CBG(1093682767)
call CBG(1093677656)
call CBG(1095332727)
call CBG(1095332962)
call CBG(1093681718)
call CBG(1093751349)
call CBG(1093808182)
call CBG(1093748292)
call CBG(1093748303)
call CBG(1093748305)
call CBG(1093749071)
call CBG(1093681720)
call CBG(1093752645)
call CBG(1093686328)
call CBG(1093686327)
call CBG(1093677367)
call CBG(1093751108)
call CBG(1093748304)
call CBG(1093683788)
call CBG(1094935400)
call CBG(1095333995)
call CBG(1095331943)
call CBG(1093742918)
call CBG(1093742917)
call CBG(1093686067)
call CBG(1093742916)
call CBG(1093742919)
call CBG(1093742920)
call CBG(1093686329)
call CBG(1093743959)
call CBG(1094936696)
call CBG(1093682756)
call CBG(1093686341)
call CBG(1093751863)
call CBG(1093744973)
call CBG(1093677647)
call CBG(1093679193)
call CBG(1093679194)
call CBG(1093679408)
call CBG(1093679410)
call CBG(1093683266)
call CBG(1093682227)
call CBG(1093682246)
call CBG(1093677655)
call CBG(1093681995)
call CBG(1093684023)
call CBG(1093683796)
call CBG(1095328865)
call CBG(1093809721)
call CBG(1093752655)
call CBG(1093748055)
call CBG(1093750095)
call CBG(1093753417)
call CBG(1093753416)
call CBG(1093753431)
call CBG(1093808945)
call CBG(1093743191)
call CBG(1093743681)
call CBG(1093751096)
call CBG(1093810265)
call CBG(1093810244)
call CBG(1093810246)
call CBG(1093815857)
call CBG(1093814863)
call CBG(1093814865)
call CBG(1093814864)
call CBG(1093814866)
call CBG(1093814860)
call CBG(1093813848)
call CBG(1093815089)
call CBG(1093815092)
call CBG(1093815095)
call CBG(1093815111)
call CBG(1093815109)
call CBG(1093815112)
call CBG(1093815097)
call CBG(1093813569)
call CBG(1093751349)
call CBG(1093743415)
endfunction
function VQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="VQ8"
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LGG))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function C3G))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function CAG))
set t=null
call LHG()
endfunction
function LIG takes nothing returns nothing
if EM9(GetEnumUnit())then
return
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093810003)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093810003)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093810001)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093810001)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093810002)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093810002)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093810004)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093810004)
endif
endfunction
function LJG takes nothing returns nothing
if EM9(GetEnumUnit())then
return
endif
if AA4==1 then
if GetUnitAbilityLevel(GetEnumUnit(),1093810003)==0 then
call L67(GetEnumUnit(),1093810003)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810003,false)
endif
elseif AA4==2 then
if GetUnitAbilityLevel(GetEnumUnit(),1093810001)==0 then
call UnitRemoveAbility(GetEnumUnit(),1093810003)
call L67(GetEnumUnit(),1093810001)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810001,false)
endif
elseif AA4==3 then
if GetUnitAbilityLevel(GetEnumUnit(),1093810002)==0 then
call UnitRemoveAbility(GetEnumUnit(),1093810003)
call UnitRemoveAbility(GetEnumUnit(),1093810001)
call L67(GetEnumUnit(),1093810002)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810002,false)
endif
elseif AA4==4 then
if GetUnitAbilityLevel(GetEnumUnit(),1093810004)==0 then
call UnitRemoveAbility(GetEnumUnit(),1093810003)
call UnitRemoveAbility(GetEnumUnit(),1093810001)
call UnitRemoveAbility(GetEnumUnit(),1093810002)
call L67(GetEnumUnit(),1093810004)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810004,false)
endif
endif
endfunction
function LKG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local group GHE=(LoadGroupHandle(L7,(PP7),(340)))
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local group g=LD7()
set EZ7="LKG"
if FJ8==null or GetUnitTypeId(FJ8)!=1160786520 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call ForGroup(GHE,function LIG)
call L97(GHE)
call L97(g)
return false
endif
set IN4=FJ8
set AA4=GetUnitAbilityLevel(FJ8,1093810006)
if L17(FJ8)==false then
call GroupEnumUnitsInRange(g,x,y,925,Condition(function G08))
endif
call GroupRemoveGroup(g,GHE)
call ForGroup(GHE,function LIG)
if L17(FJ8)==false then
call ForGroup(g,function LJG)
endif
call SaveGroupHandle(L7,(PP7),(340),(g))
call L97(GHE)
set t=null
set FJ8=null
set GHE=null
set g=null
return false
endfunction
function LMG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local integer i
local player p
set EZ7="LMG"
call TriggerRegisterTimerEvent(t,0.3,true)
call TriggerAddCondition(t,Condition(function LKG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveGroupHandle(L7,(PP7),(340),(LD7()))
set i=0
loop
exitwhen i>5
set p=Z7[i]
call SetPlayerAbilityAvailable(p,1093810003,false)
call SetPlayerAbilityAvailable(p,1093810001,false)
call SetPlayerAbilityAvailable(p,1093810002,false)
call SetPlayerAbilityAvailable(p,1093810004,false)
set p=A7[i]
call SetPlayerAbilityAvailable(p,1093810003,false)
call SetPlayerAbilityAvailable(p,1093810001,false)
call SetPlayerAbilityAvailable(p,1093810002,false)
call SetPlayerAbilityAvailable(p,1093810004,false)
set i=i+1
endloop
set t=null
set FJ8=null
endfunction
function LNG takes nothing returns boolean
if GetLearnedSkill()==1093810006 and GetUnitAbilityLevel(GetTriggerUnit(),1093810006)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call LMG()
endif
return false
endfunction
function VR8 takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="VR8"
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function LNG))
set t=null
endfunction
function LOG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
set EZ7="LOG"
call AddUnitAnimationProperties(FJ8,"alternate",false)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set FJ8=null
return false
endfunction
function LPG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function LOG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=null
set FJ8=null
endfunction
function LQG takes nothing returns boolean
if(GetSpellAbilityId()==1093678899 or GetSpellAbilityId()==1093677898 or GetSpellAbilityId()==1093678154 or GetSpellAbilityId()==1093678157 or GetSpellAbilityId()==1093678158)and GetUnitTypeId(GetTriggerUnit())==1160786520 then
call LPG()
endif
return false
endfunction
function VS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LQG))
set t=null
endfunction
function LRG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093810518)
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093810519 then
call UnitRemoveAbility(FJ8,1093810519)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093810519,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093810518,true)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call HU8(FJ8,PU7,0.5+0.5*HW8)
call SetUnitX(FJ8,GetUnitX(PU7))
call SetUnitY(FJ8,GetUnitY(PU7))
call IssueTargetOrder(FJ8,"attack",PU7)
call UnitShareVision(PU7,GetOwningPlayer(FJ8),false)
endif
else
call UnitRemoveAbility(FJ8,1093810519)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093810519,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093810518,true)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call UnitShareVision(PU7,GetOwningPlayer(FJ8),false)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
return false
endfunction
function LSG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
if GetTriggerEvalCount(GetTriggeringTrigger())>30 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
call ET9(FJ8)
endif
set t=null
set FJ8=null
return false
endfunction
function LTG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7
local integer L48=(LoadInteger(L7,(PP7),(34)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093810518)
if L48>60 then
call UnitRemoveAbility(FJ8,1110459734)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>100 and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false then
call E48(FJ8,GetEventDamage())
set PU7=M7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call ET9(FJ8)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if L17(PU7)==false then
call UnitShareVision(PU7,GetOwningPlayer(FJ8),true)
call L67(FJ8,1093810519)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093810519,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093810518,false)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,4,false)
call TriggerAddCondition(t,Condition(function LRG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveEffectHandle(L7,(PP7),(175),(AddSpecialEffectTarget("war3mapImported\\RetaliationTarget.mdx",FJ8,"origin")))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffectTarget("war3mapImported\\RetaliationTarget.mdx",PU7,"origin")))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function LSG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
endif
endif
else
call SaveInteger(L7,(PP7),(34),(L48+1))
endif
set t=null
set FJ8=null
return false
endfunction
function LUG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function LTG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveInteger(L7,(PP7),(34),(0))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("war3mapImported\\RetaliationShield.mdx",FJ8,"chest")))
set FJ8=null
set t=null
endfunction
function LVG takes nothing returns boolean
if GetSpellAbilityId()==1093810518 then
call LUG()
endif
return false
endfunction
function Register_Retaliation takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LVG))
set t=null
endfunction
function LWG takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\ImmolationRed\\ImmolationRedDamage.mdl",GetEnumUnit(),"chest"))
call HY8(GY7,GetEnumUnit(),1,(25+5*GZ7)/5)
endfunction
function LXG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093814355)
local group g
if GetUnitAbilityLevel(FJ8,1110459984)==0 and GetUnitAbilityLevel(FJ8,1110459985)==0 then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveAbility(FJ8,1093814327)
call UnitRemoveAbility(FJ8,1110459983)
call UnitRemoveAbility(FJ8,1093814616)
call UnitRemoveAbility(FJ8,1093814615)
call UnitRemoveAbility(FJ8,1093814614)
call UnitRemoveAbility(FJ8,1093814617)
else
set IN4=FJ8
set GY7=FJ8
set GZ7=HW8
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),400+25,Condition(function G78))
call ForGroup(g,function LWG)
call L97(g)
endif
set g=null
set t=null
set FJ8=null
return false
endfunction
function LYG takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(FJ8),GetUnitY(FJ8),0)
local integer HW8=GetUnitAbilityLevel(FJ8,1093814355)
call UnitAddAbility(HV8,1093814325)
call SetUnitAbilityLevel(HV8,1093814325,HW8)
call IssueTargetOrder(HV8,"antimagicshell",FJ8)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function LXG))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("war3mapImported\\FlameGuard.mdx",FJ8,"origin")))
if HW8==1 then
elseif HW8==2 then
elseif HW8==3 then
elseif HW8==4 then
endif
set FJ8=null
set HV8=null
set t=null
endfunction
function LZG takes nothing returns boolean
if GetSpellAbilityId()==1093814355 then
call LYG()
endif
return false
endfunction
function VU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LZG))
set t=null
endfunction
function LAG takes unit FJ8 returns nothing
call UnitRemoveAbility(FJ8,1112500344)
call UnitRemoveAbility(FJ8,1110454344)
endfunction
function LBG takes unit FJ8 returns nothing
call UnitRemoveAbility(FJ8,1093814329)
call UnitRemoveAbility(FJ8,1110459981)
endfunction
function LCG takes unit FJ8 returns nothing
call UnitRemoveAbility(FJ8,1093814856)
call UnitRemoveAbility(FJ8,1093814855)
call UnitRemoveAbility(FJ8,1093814858)
call UnitRemoveAbility(FJ8,1093814857)
call UnitRemoveAbility(FJ8,1110459980)
endfunction
function L3G takes unit FJ8 returns nothing
call L67(FJ8,1093814329)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093814329,false)
endfunction
function L6G takes unit FJ8 returns nothing
local integer HW8=GetUnitAbilityLevel(FJ8,1093814320)
if HW8==1 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093814856,false)
call L67(FJ8,1093814856)
elseif HW8==2 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093814855,false)
call L67(FJ8,1093814855)
elseif HW8==3 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093814858,false)
call L67(FJ8,1093814858)
elseif HW8==4 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093814857,false)
call L67(FJ8,1093814857)
endif
endfunction
function LLG takes unit FJ8,unit PU7 returns nothing
local real a=GetRandomReal(0,360)
local real x=GetUnitX(PU7)+50*Cos(a*bj_DEGTORAD)
local real y=GetUnitY(PU7)+50*Sin(a*bj_DEGTORAD)
call SetUnitPosition(FJ8,x,y)
call SetUnitFacing(FJ8,bj_RADTODEG*Atan2(GetUnitY(PU7)-GetUnitY(FJ8),GetUnitX(PU7)-GetUnitX(FJ8)))
call SetUnitAnimation(FJ8,"Attack")
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Fire_Blink_2.mdx",FJ8,"chest"))
call LCG(FJ8)
if IsUnitType(PU7,UNIT_TYPE_HERO)==true or IsUnitIllusion(PU7)==true then
call L6G(FJ8)
call UnitRemoveAbility(FJ8,1093814854)
else
call L67(FJ8,1093814854)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093814854,false)
endif
call IssueTargetOrder(FJ8,"attack",PU7)
endfunction
function L1G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
local real GPD=(LoadReal(L7,(PP7),(189)))
local real GQD=(LoadReal(L7,(PP7),(190)))
local group HPD=(LoadGroupHandle(L7,(PP7),(187)))
local group g=(LoadGroupHandle(L7,(PP7),(22)))
local unit PU7=null
local boolean KMG=false
local fogmodifier X1D=(LoadFogModifierHandle(L7,(PP7),(42)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093814320)
loop
exitwhen FirstOfGroup(g)==null or KMG
set PU7=FirstOfGroup(g)
call GroupRemoveUnit(g,PU7)
if IsUnitInGroup(PU7,HPD)and PU7!=null then
set PU7=null
set KMG=false
else
set KMG=true
endif
endloop
call SetUnitPathing(FJ8,false)
call SetUnitInvulnerable(FJ8,true)
call FL8(FJ8)
if KMG==false or((LoadInteger(L7,(GetHandleId((FJ8))),((4319))))==1)==true then
call SaveInteger(L7,(GetHandleId((FJ8))),((4318)),(2))
call LBG(FJ8)
call UnitRemoveAbility(FJ8,1093814854)
call LCG(FJ8)
call FL8(FJ8)
call LAG(FJ8)
call UnitAddAbility(FJ8,1093814322)
call UnitRemoveAbility(FJ8,1093814322)
call FL8(FJ8)
if((LoadInteger(L7,(GetHandleId((FJ8))),((4319))))==1)==false then
call SetUnitX(FJ8,GPD)
call SetUnitY(FJ8,GQD)
endif
call SetUnitVertexColor(FJ8,255,255,255,255)
call SetUnitPathing(FJ8,true)
call SetUnitInvulnerable(FJ8,false)
call SetUnitTimeScale(FJ8,1)
call L97(HPD)
call L97(g)
call RemoveUnit((LoadUnitHandle(L7,(PP7),(19))))
call FogModifierStop(X1D)
call DestroyFogModifier(X1D)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
call GroupAddUnit(HPD,PU7)
call LLG(FJ8,PU7)
endif
set t=null
set FJ8=null
set PU7=null
set g=null
set HPD=null
set X1D=null
return false
endfunction
function L0G takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local fogmodifier X1D=CreateFogModifierRadius(GetOwningPlayer(FJ8),FOG_OF_WAR_VISIBLE,x,y,600,true,true)
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1747993911,GetUnitX(FJ8),GetUnitY(FJ8),GetUnitFacing(FJ8))
local group g=LD7()
local integer HW8=GetUnitAbilityLevel(FJ8,1093814320)
call SetUnitVertexColor(HV8,255,255,255,100)
call FogModifierStart(X1D)
call SaveInteger(L7,(GetHandleId((FJ8))),((4318)),(1))
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,150+100*HW8+25,Condition(function FA8))
call FL8(FJ8)
call LAG(FJ8)
call UnitAddAbility(FJ8,1093814321)
call UnitRemoveAbility(FJ8,1093814321)
call SetUnitVertexColor(FJ8,255,255,255,125)
call SetUnitPathing(FJ8,false)
call SetUnitInvulnerable(FJ8,true)
call SetUnitTimeScale(FJ8,3)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function L1G))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
call SaveReal(L7,(PP7),(189),((GetUnitX(FJ8))*1.0))
call SaveReal(L7,(PP7),(190),((GetUnitY(FJ8))*1.0))
call SaveGroupHandle(L7,(PP7),(187),(LD7()))
call SaveGroupHandle(L7,(PP7),(22),(g))
call SaveFogModifierHandle(L7,(PP7),(42),(X1D))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call L3G(FJ8)
call TriggerEvaluate(t)
set FJ8=null
set t=null
set X1D=null
set HV8=null
set g=null
endfunction
function L5G takes nothing returns boolean
if GetSpellAbilityId()==1093814320 then
call L0G()
endif
return false
endfunction
function L2G takes nothing returns boolean
local unit CT8=GetSummonedUnit()
if IsUnitIllusion(CT8)==true and GetUnitTypeId(CT8)==1311788360 then
call LBG(CT8)
call UnitRemoveAbility(CT8,1093814854)
call LCG(CT8)
call UnitAddAbility(CT8,1093814322)
call UnitRemoveAbility(CT8,1093814322)
endif
set CT8=null
return false
endfunction
function VV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function L5G))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function L2G))
set t=null
endfunction
function L_G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093814323)
local integer E_D=2
if HW8>2 then
set E_D=3
endif
if GetTriggerEvalCount(t)==E_D then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
call HY8(FJ8,PU7,1,20+20*HW8)
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function D4H takes nothing returns nothing
local unit FJ8=IN4
local unit PU7=IP4
local unit HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call UnitAddAbility(HV8,1093814324)
call IssueTargetOrder(HV8,"ensnare",PU7)
call TriggerAddCondition(t,Condition(function L_G))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call TriggerRegisterTimerEvent(t,0,false)
call TriggerRegisterTimerEvent(t,1,true)
set HV8=null
set FJ8=null
set PU7=null
endfunction
function D7H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local group g=LD7()
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local unit u1=null
local unit u2=null
local unit u3=null
local integer YF7=0
local unit u
local trigger t
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,425,Condition(function GA8))
loop
exitwhen FirstOfGroup(g)==null or YF7==2
set u=GroupPickRandomUnit(g)
if u!=null then
if YF7==0 then
set u1=u
elseif YF7==1 then
set u2=u
elseif YF7==2 then
set u3=u
endif
set YF7=YF7+1
call GroupRemoveUnit(g,u)
endif
endloop
call L97(g)
if u1!=null then
call E68(FJ8,u1,1747993904,"D4H",9000)
endif
if u2!=null then
call E68(FJ8,u2,1747993904,"D4H",9000)
endif
if u3!=null then
endif
set g=null
set FJ8=null
set u=null
set u1=null
set u2=null
set u3=null
endfunction
function D8H takes nothing returns boolean
if GetSpellAbilityId()==1093814323 then
call D7H()
endif
return false
endfunction
function VT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D8H))
set t=null
endfunction
function D9H takes nothing returns boolean
local unit FJ8=(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(2)))
local integer PP7=GetHandleId(FJ8)
local integer i=0
local real Z6G=(TimerGetElapsed(W))
local integer DDH=(LoadInteger(L7,(PP7),(749)))
local real x
local real y
local real t
loop
exitwhen i>DDH
set t=(LoadReal(L7,(PP7),(10000+i)))
if t+10>Z6G then
set x=(LoadReal(L7,(PP7),(11000+i)))
set y=(LoadReal(L7,(PP7),(12000+i)))
endif
set i=i+1
endloop
set FJ8=null
return false
endfunction
function DEH takes integer PP7,integer DDH,real EB8,real EC8 returns boolean
local real x
local real y
local real t
local integer i=0
local real Z6G=(TimerGetElapsed(W))
loop
exitwhen i>DDH
set t=(LoadReal(L7,(PP7),(10000+i)))
if t+10>Z6G then
set x=(LoadReal(L7,(PP7),(11000+i)))
set y=(LoadReal(L7,(PP7),(12000+i)))
if Q07(x,y,EB8,EC8)<75 then
return true
endif
endif
set i=i+1
endloop
return false
endfunction
function DFH takes integer PP7,integer DDH returns integer
local real t
local integer i=0
local real Z6G=(TimerGetElapsed(W))
loop
exitwhen i>DDH
set t=(LoadReal(L7,(PP7),(10000+i)))
if t+10<Z6G then
return i
endif
set i=i+1
endloop
return-1
endfunction
function DGH takes unit FJ8,integer DHH,real x,real y returns nothing
local integer PP7=GetHandleId(FJ8)
local integer DDH=(LoadInteger(L7,(PP7),(749)))
local integer DIH
if DEH(PP7,DDH,x,y)then
return
endif
set DIH=DFH(PP7,DDH)
if DIH==-1 then
set DIH=DDH
set DDH=DDH+1
call SaveInteger(L7,(PP7),(749),(DDH))
endif
call SaveInteger(L7,(PP7),(13000),(DHH))
call SaveReal(L7,(PP7),(10000),(((TimerGetElapsed(W)))*1.0))
call SaveReal(L7,(PP7),(11000),((x)*1.0))
call SaveReal(L7,(PP7),(11000),((y)*1.0))
endfunction
function DJH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function D9H))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set FJ8=null
set t=null
endfunction
function DKH takes nothing returns nothing
call HY8(GB7,GetEnumUnit(),1,50+GA7*50)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",GetEnumUnit(),"origin"))
endfunction
function DMH takes unit FJ8,unit QHD,real x,real y returns nothing
local group g
call KillUnit(QHD)
call EF8("war3mapImported\\Firaga_2.mdx",x,y,2)
set g=LD7()
set IN4=FJ8
set GB7=FJ8
set GA7=GetUnitAbilityLevel(FJ8,1093814859)
call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function G78))
call UnitRemoveAbility(FJ8,1093678162)
call ForGroup(g,function DKH)
call L67(FJ8,1093678162)
call L97(g)
set g=null
endfunction
function DNH takes unit FJ8,unit DOH returns nothing
local integer PP7=GetHandleId(FJ8)
local integer DPH=(LoadInteger(L7,(PP7),(746)))
local unit DQH
local integer i=1
local integer x
loop
exitwhen i>DPH
set DQH=(LoadUnitHandle(L7,(PP7),(1450+i)))
if DQH==DOH then
set DPH=DPH-1
call SaveUnitHandle(L7,(PP7),(1450+i),((LoadUnitHandle(L7,(PP7),(1450+i+1)))))
call SaveInteger(L7,(PP7),(746),(DPH))
set x=i+1
loop
exitwhen x>DPH
call SaveUnitHandle(L7,(PP7),(1450+x),((LoadUnitHandle(L7,(PP7),(1450+x+1)))))
set x=x+1
endloop
endif
set i=i+1
endloop
set DQH=null
endfunction
function DRH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit QHD=(LoadUnitHandle(L7,(PP7),(19)))
local real AQ9=GetUnitX(QHD)
local real AR9=GetUnitY(QHD)
local real EX8=(LoadReal(L7,(PP7),(47)))
local real EY8=(LoadReal(L7,(PP7),(48)))
local real a=Q87(AQ9,AR9,EX8,EY8)*bj_DEGTORAD
local real EB8
local real EC8
local real d=Q07(AQ9,AR9,EX8,EY8)
local real J_D=GetUnitMoveSpeed(FJ8)*2.5*0.02
local group g
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call DNH(FJ8,QHD)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(177))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif d<2 then
call SetUnitAnimationByIndex(QHD,1)
else
if d<J_D then
set EB8=EX8
set EC8=EY8
else
set EB8=AQ9+J_D*Cos(a)
set EC8=AR9+J_D*Sin(a)
endif
call SetUnitX(QHD,EB8)
call SetUnitY(QHD,EC8)
endif
set t=null
set FJ8=null
set QHD=null
return false
endfunction
function DSH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local real a=Q87(GetUnitX(FJ8),GetUnitY(FJ8),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORAD
local integer PP7=GetHandleId(FJ8)
local integer DPH=(LoadInteger(L7,(PP7),(746)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093814859)
local unit DQH=(LoadUnitHandle(L7,(PP7),(1450+1)))
local unit DTH=CreateUnit(GetOwningPlayer(FJ8),1747993912,GetUnitX(FJ8),GetUnitY(FJ8),a*bj_RADTODEG)
local trigger t
local integer i=1
set DPH=DPH+1
call SaveUnitHandle(L7,(PP7),(1450+DPH),(DTH))
call SaveInteger(L7,(PP7),(746),(DPH))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call SetUnitVertexColor(DTH,255,255,255,75)
call SetUnitTimeScale(DTH,2)
call SetUnitAnimationByIndex(DTH,0)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function DRH))
call TriggerRegisterDeathEvent(t,DTH)
call UnitApplyTimedLife(DTH,1112820806,45)
call SaveEffectHandle(L7,(PP7),(175),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",DTH,"hand right alternate")))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",DTH,"hand left alternate")))
call SaveEffectHandle(L7,(PP7),(177),(AddSpecialEffectTarget("war3mapImported\\FlameDash_Ground.mdx",DTH,"origin")))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(19),(DTH))
call SaveReal(L7,(PP7),(47),((GetSpellTargetX())*1.0))
call SaveReal(L7,(PP7),(48),((GetSpellTargetY())*1.0))
set FJ8=null
set t=null
set DQH=null
set DTH=null
endfunction
function DUH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local integer U0E=(LoadInteger(L7,(GetHandleId(FJ8)),(747)))
if U0E>0 then
call DSH()
call UnitRemoveAbility(FJ8,G17[U0E])
set U0E=U0E-1
call SaveInteger(L7,(GetHandleId(FJ8)),(747),(U0E))
call L67(FJ8,G17[U0E])
else
call DQ8(GetOwningPlayer(GetTriggerUnit()),"No more charges")
endif
set FJ8=null
endfunction
function DVH takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1747993912
endfunction
function DWH takes nothing returns nothing
local real FEE=Q07(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),GC7,G37)
if FEE>G67 and L17(GetEnumUnit())==false then
set GL7=GetEnumUnit()
set G67=FEE
endif
endfunction
function DXH takes unit FJ8,real x,real y returns unit
local group g=LD7()
set GL7=null
set G67=-1
set GC7=x
set G37=y
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(FJ8),Condition(function DVH))
call ForGroup(g,function DWH)
call L97(g)
set g=null
return GL7
endfunction
function FireRemnant_FindTargetClosest takes nothing returns nothing
local real FEE=Q07(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),GC7,G37)
if FEE<G67 and L17(GetEnumUnit())==false then
set GL7=GetEnumUnit()
set G67=FEE
endif
endfunction
function DYH takes unit u1,unit u2 returns real
local real E4D=Q17(u1,u2)
local real G59=E4D/1300.0
if G59>0.4 then
return E4D/0.4
endif
return 1300.0
endfunction
function DZH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real PKE=(LoadReal(L7,(PP7),(47)))
local real PME=(LoadReal(L7,(PP7),(48)))
local unit QHD=(LoadUnitHandle(L7,(PP7),(19)))
local real AQ9=GetUnitX(FJ8)
local real AR9=GetUnitY(FJ8)
local real EX8=(LoadReal(L7,(PP7),(6)))
local real EY8=(LoadReal(L7,(PP7),(7)))
local real a
local real EB8
local real EC8
local real d
local real DAH=(LoadReal(L7,(PP7),(44)))
local real J_D=DAH*0.02
local group g
local integer L48=(LoadInteger(L7,(PP7),(34)))
if QHD!=null then
set EX8=GetUnitX(QHD)
set EY8=GetUnitY(QHD)
call SaveReal(L7,(PP7),(6),((EX8)*1.0))
call SaveReal(L7,(PP7),(7),((EY8)*1.0))
endif
set a=Q87(AQ9,AR9,EX8,EY8)*bj_DEGTORAD
set d=Q07(AQ9,AR9,EX8,EY8)
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call SaveInteger(L7,(GetHandleId((FJ8))),((4319)),(2))
call SetUnitVertexColor(FJ8,255,255,255,255)
call SetUnitTimeScale(FJ8,1)
call SetUnitAnimationByIndex(FJ8,0)
call SetUnitPathing(FJ8,true)
call SetUnitInvulnerable(FJ8,false)
call UnitRemoveAbility(FJ8,1093678162)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(177))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif d<J_D then
call SetUnitX(FJ8,EX8)
call SetUnitY(FJ8,EY8)
call DMH(FJ8,QHD,EX8,EY8)
set QHD=DXH(FJ8,PKE,PME)
if QHD==null then
call SaveInteger(L7,(GetHandleId((FJ8))),((4319)),(2))
call ER8(EX8,EY8,100)
call SetUnitVertexColor(FJ8,255,255,255,255)
call SetUnitTimeScale(FJ8,1)
call SetUnitAnimationByIndex(FJ8,1)
call SetUnitPathing(FJ8,true)
call SetUnitInvulnerable(FJ8,false)
call UnitRemoveAbility(FJ8,1093678162)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(177))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
call SaveInteger(L7,(PP7),(34),(L48+1))
call SaveUnitHandle(L7,(PP7),(19),(QHD))
call SaveReal(L7,(PP7),(44),((DYH(FJ8,QHD))*1.0))
call SaveReal(L7,(PP7),(6),((GetUnitX(QHD))*1.0))
call SaveReal(L7,(PP7),(7),((GetUnitY(QHD))*1.0))
endif
else
call SetUnitAnimationByIndex(FJ8,0)
call SetUnitPathing(FJ8,false)
set EB8=AQ9+J_D*Cos(a)
set EC8=AR9+J_D*Sin(a)
call SetUnitX(FJ8,EB8)
call SetUnitY(FJ8,EC8)
call SetUnitFacing(FJ8,a*bj_RADTODEG)
endif
call DGH(FJ8,L48,GetUnitX(FJ8),GetUnitY(FJ8))
set t=null
set FJ8=null
set QHD=null
return false
endfunction
function DBH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
call SetUnitState(FJ8,UNIT_STATE_MANA,GetUnitState(FJ8,UNIT_STATE_MANA)+150)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set FJ8=null
return false
endfunction
function DCH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t
local integer PP7=GetHandleId(FJ8)
local integer DPH=(LoadInteger(L7,(PP7),(746)))
local unit QHD
if DPH>0 and((LoadInteger(L7,(GetHandleId((FJ8))),((4319))))==1)==false then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call SetUnitVertexColor(FJ8,255,0,0,75)
call SetUnitTimeScale(FJ8,2)
call SetUnitAnimationByIndex(FJ8,0)
call SetUnitPathing(FJ8,false)
call SetUnitInvulnerable(FJ8,true)
call L67(FJ8,1093678162)
call SaveInteger(L7,(GetHandleId((FJ8))),((4319)),(1))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function DZH))
call TriggerRegisterDeathEvent(t,FJ8)
call SaveEffectHandle(L7,(PP7),(175),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",FJ8,"hand right alternate")))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",FJ8,"hand left alternate")))
call SaveEffectHandle(L7,(PP7),(177),(AddSpecialEffectTarget("war3mapImported\\FlameDash_Ground.mdx",FJ8,"origin")))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(47),((GetSpellTargetX())*1.0))
call SaveReal(L7,(PP7),(48),((GetSpellTargetY())*1.0))
set QHD=DXH(FJ8,GetSpellTargetX(),GetSpellTargetY())
call SaveUnitHandle(L7,(PP7),(19),(QHD))
call SaveReal(L7,(PP7),(44),((DYH(FJ8,QHD))*1.0))
call SaveReal(L7,(PP7),(6),((GetUnitX(QHD))*1.0))
call SaveReal(L7,(PP7),(7),((GetUnitY(QHD))*1.0))
call SaveInteger(L7,(PP7),(34),(1))
else
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.0,false)
call TriggerAddCondition(t,Condition(function DBH))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
endif
set t=null
set FJ8=null
set QHD=null
endfunction
function D3H takes nothing returns boolean
if GetSpellAbilityId()==G17[0]or GetSpellAbilityId()==G17[1]or GetSpellAbilityId()==G17[2]or GetSpellAbilityId()==G17[3]then
call DUH()
elseif GetSpellAbilityId()==1093814860 then
call DCH()
endif
return false
endfunction
function D6H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer U0E=(LoadInteger(L7,(GetHandleId(FJ8)),(747)))
local integer L48=(LoadInteger(L7,(PP7),(34)))
if U0E<3 then
set L48=L48-1
call SaveInteger(L7,(PP7),(34),(L48))
if L48==0 then
call UnitRemoveAbility(FJ8,G17[U0E])
set L48=35
call SaveInteger(L7,(PP7),(34),(L48))
set U0E=U0E+1
call SaveInteger(L7,(GetHandleId(FJ8)),(747),(U0E))
call L67(FJ8,G17[U0E])
endif
endif
set t=null
set FJ8=null
return false
endfunction
function DLH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call SaveInteger(L7,(GetHandleId(FJ8)),(747),(3))
call L67(FJ8,G17[3])
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function D6H))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveInteger(L7,(PP7),(34),(30))
set FJ8=null
set t=null
endfunction
function D1H takes nothing returns boolean
if GetLearnedSkill()==1093814859 and IsUnitIllusion(GetTriggerUnit())==false then
call L67(GetTriggerUnit(),1093814860)
call SetUnitAbilityLevel(GetTriggerUnit(),1093814860,GetUnitAbilityLevel(GetTriggerUnit(),1093814859))
if GetUnitAbilityLevel(GetTriggerUnit(),1093814859)==1 then
call DLH()
call DJH()
endif
endif
return false
endfunction
function VW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D3H))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function D1H))
set t=null
set G17[0]=1093814863
set G17[1]=1093814865
set G17[2]=1093814864
set G17[3]=1093814866
endfunction
function D0H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>2 and G07 then
set G07=false
call HY8(GetEventDamageSource(),PU7,3,GetEventDamage()*0.25)
set G07=true
endif
else
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function D5H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
local integer HW8=GetUnitAbilityLevel(FJ8,1093812536)
set G07=true
call UnitAddAbility(HV8,1093812535)
call SetUnitAbilityLevel(HV8,1093812535,HW8)
call IssueTargetOrder(HV8,"soulburn",PU7)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerRegisterTimerEvent(t,2+HW8,false)
call TriggerAddCondition(t,Condition(function D0H))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
set FJ8=null
set PU7=null
set t=null
endfunction
function D2H takes nothing returns boolean
if GetSpellAbilityId()==1093812536 then
call D5H()
endif
return false
endfunction
function Register_ArcaneSeal takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D2H))
set t=null
endfunction
function D_H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local real a=(LoadReal(L7,(PP7),(137)))
local real d=(LoadReal(L7,(PP7),(138)))
local real x=DT8(GetUnitX(PU7)+d/10*Cos(a))
local real y=DU8(GetUnitY(PU7)+d/10*Sin(a))
if GetTriggerEvalCount(t)==11 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
call DestroyEffect(AddSpecialEffect("war3mapImported\\ThrustMovement.mdx",x,y))
call ER8(x,y,150)
call SetUnitX(PU7,x)
call SetUnitY(PU7,y)
endif
set PU7=null
set t=null
return false
endfunction
function E4H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local integer HW8=GetUnitAbilityLevel(FJ8,1093812537)
local real a
local real x
local real y
local real d
local integer i=-1
local boolean KNG=false
if FJ8==PU7 then
set a=GetUnitFacing(FJ8)*bj_DEGTORAD
else
set a=Q77(FJ8,PU7)*bj_DEGTORAD
endif
loop
exitwhen KNG or i==23
set i=i+1
set x=DT8(GetUnitX(PU7)+(350-i*25)*Cos(a))
set y=DU8(GetUnitY(PU7)+(350-i*25)*Sin(a))
if(IsPointInRegion(IU4,((x)*1.0),((y)*1.0)))==false then
set KNG=true
endif
endloop
set d=Q07(x,y,GetUnitX(PU7),GetUnitY(PU7))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function D_H))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveReal(L7,(PP7),(137),((a)*1.0))
call SaveReal(L7,(PP7),(138),((d)*1.0))
if IsUnitAlly(FJ8,GetOwningPlayer(PU7))==true then
call SetUnitState(PU7,UNIT_STATE_LIFE,GetUnitState(PU7,UNIT_STATE_LIFE)+50+50*HW8)
else
call HY8(FJ8,PU7,3,50+50*HW8)
endif
set FJ8=null
set PU7=null
set t=null
endfunction
function E7H takes nothing returns boolean
if GetSpellAbilityId()==1093812537 then
call E4H()
endif
return false
endfunction
function Register_Thrust takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function E7H))
set t=null
endfunction
function E8H takes nothing returns nothing
call IssueTargetOrder(G57,"ensnare",GetEnumUnit())
call HY8(GetTriggerUnit(),GetEnumUnit(),1,60*G27)
endfunction
function E9H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local group g1=LD7()
local group g2=LD7()
local integer HW8=GetUnitAbilityLevel(FJ8,1093812534)
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
set G27=HW8
set G57=CreateUnit(GetOwningPlayer(FJ8),1697656901,x,y,0)
call UnitAddAbility(G57,1093812549)
call SetUnitAbilityLevel(G57,1093812549,HW8)
call GroupEnumUnitsInRange(g1,x,y,425,Condition(function GQ8))
call GroupEnumUnitsInRange(g2,x,y,825,Condition(function GQ8))
call GroupRemoveGroup(g1,g2)
call ForGroup(g2,function E8H)
call L97(g1)
call L97(g2)
call DestroyEffect(AddSpecialEffect("war3mapImported\\ConjureForceAoE.mdx",x,y))
set FJ8=null
set g1=null
set g2=null
endfunction
function EDH takes nothing returns boolean
if GetSpellAbilityId()==1093812534 then
call E9H()
endif
return false
endfunction
function Register_ConjureForce takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EDH))
set t=null
endfunction
function EEH takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),H47)==false then
call GroupAddUnit(H47,GetEnumUnit())
call HY8(G_7,GetEnumUnit(),3,H77)
endif
endfunction
function EFH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local group g=(LoadGroupHandle(L7,(PP7),(22)))
local unit EW8=(LoadUnitHandle(L7,(PP7),(45)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local real AZ9=(LoadReal(L7,(PP7),(13)))
local real CV9=(LoadReal(L7,(PP7),(20)))
local group EGH
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real x
local real y
if GetTriggerEvalCount(t)>67 then
call L97(g)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call KillUnit(EW8)
else
set x=GetUnitX(EW8)
set y=GetUnitY(EW8)
set EGH=LD7()
set H47=g
set IN4=EW8
set G_7=FJ8
set H77=CV9
call GroupEnumUnitsInRange(EGH,x,y,225,Condition(function GJ8))
call ForGroup(EGH,function EEH)
call L97(EGH)
call SetUnitX(EW8,DT8(x+15*Cos(AZ9*bj_DEGTORAD)))
call SetUnitY(EW8,DU8(y+15*Sin(AZ9*bj_DEGTORAD)))
endif
set t=null
set g=null
set EGH=null
set FJ8=null
set EW8=null
return false
endfunction
function EHH takes unit FJ8,real CV9,real x,real y returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local group g=LD7()
local real x1=GetUnitX(FJ8)
local real y1=GetUnitY(FJ8)
local real x2=x
local real y2=y
local real AZ9=Q87(x1,y1,x2,y2)
local integer HW8=GetUnitAbilityLevel(FJ8,1093812545)
local unit EW8=CreateUnit(GetOwningPlayer(FJ8),1747993673,x1,y1,AZ9)
call SetUnitScale(EW8,1.5,1.5,1.5)
call SaveUnitHandle(L7,(PP7),(45),(EW8))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveGroupHandle(L7,(PP7),(22),(g))
call SaveReal(L7,(PP7),(13),((AZ9)*1.0))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(20),((CV9)*1.0))
call TriggerRegisterTimerEvent(t,0.015,true)
call TriggerAddCondition(t,Condition(function EFH))
set t=null
set EW8=null
set g=null
endfunction
function EIH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local boolean EJH=(LoadBoolean(L7,(PP7),(95)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812546,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812545,true)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if EJH==false and GetEventDamage()>2 and GetEventDamage()<3000 and IsUnitIllusion(PU7)==false then
call SaveReal(L7,(PP7),(20),(((LoadReal(L7,(PP7),(20)))+GetEventDamage())*1.0))
call E48(PU7,GetEventDamage())
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
if GetSpellAbilityId()==1093812545 then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call SaveBoolean(L7,(PP7),(95),(true))
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093812546 then
call EHH(FJ8,(LoadReal(L7,(PP7),(20))),GetSpellTargetX(),GetSpellTargetY())
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812546,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812545,true)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
else
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812546,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812545,true)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function EKH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call L67(FJ8,1093812546)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812546,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812545,false)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerRegisterTimerEvent(t,20,false)
call TriggerAddCondition(t,Condition(function EIH))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveBoolean(L7,(PP7),(95),(false))
call SaveEffectHandle(L7,(PP7),(175),(AddSpecialEffectTarget("war3mapImported\\WispShellBlue_2.mdx",FJ8,"origin")))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffectTarget("war3mapImported\\DivineWrathTarget.mdx",PU7,"origin")))
set FJ8=null
set PU7=null
set t=null
endfunction
function EMH takes nothing returns boolean
if GetSpellAbilityId()==1093812545 then
call EKH()
endif
return false
endfunction
function Register_DivineWrath takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EMH))
set t=null
endfunction
function ENH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or GetSpellAbilityId()==1093812804 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812803,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812804,false)
call UnitRemoveAbility(FJ8,1097167980)
call UnitRemoveAbility(FJ8,1093812787)
call UnitRemoveAbility(FJ8,1093812784)
call UnitRemoveAbility(FJ8,1093812785)
call UnitRemoveAbility(FJ8,1093812786)
call UnitRemoveAbility(FJ8,1110459954)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
return false
endfunction
function EOH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093812803)
call TriggerRegisterTimerEvent(t,5,false)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ENH))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call UnitAddAbility(FJ8,1093812804)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812803,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812804,true)
call UnitAddAbility(FJ8,1097167980)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1097167980,false)
if HW8==1 then
call UnitAddAbility(FJ8,1093812787)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812787,false)
elseif HW8==2 then
call UnitAddAbility(FJ8,1093812784)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812784,false)
elseif HW8==3 then
call UnitAddAbility(FJ8,1093812785)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812785,false)
elseif HW8==4 then
call UnitAddAbility(FJ8,1093812786)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093812786,false)
endif
set t=null
set FJ8=null
endfunction
function EPH takes nothing returns boolean
if GetSpellAbilityId()==1093812803 then
call EOH()
endif
return false
endfunction
function Register_Wraith takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EPH))
set t=null
endfunction
function EQH takes unit FJ8,unit WYE,unit PU7,integer HW8 returns nothing
call HU8(FJ8,PU7,1.25+0.25*HW8)
call HY8(FJ8,PU7,1,40*HW8)
call KillUnit(WYE)
endfunction
function ERH takes nothing returns boolean
if(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))==true or G88(GetFilterUnit())==false)then
return IsUnitInGroup(GetFilterUnit(),I07)==false
endif
return false
endfunction
function ESH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local group g
local integer i=1
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
local real a=(LoadReal(L7,(PP7),(137)))
local unit WYE
local unit PU7
local real EX8=(LoadReal(L7,(PP7),(47)))
local real EY8=(LoadReal(L7,(PP7),(48)))
local group HPD=(LoadGroupHandle(L7,(PP7),(187)))
set I07=HPD
set x=DT8(x+12*Cos(a))
set y=DU8(y+12*Sin(a))
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
if GetTriggerEvalCount(t)>39 then
loop
exitwhen i>3
call KillUnit((LoadUnitHandle(L7,(PP7),(393+i-1))))
set i=i+1
endloop
call L97(HPD)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set g=LD7()
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,275,Condition(function ERH))
loop
exitwhen i>3
if(LoadBoolean(L7,(PP7),(511+i-1)))==false then
set WYE=(LoadUnitHandle(L7,(PP7),(393+i-1)))
set x=(LoadReal(L7,(PP7),(549+i-1)))
set y=(LoadReal(L7,(PP7),(567+i-1)))
set x=DT8(x+12*Cos(a))
set y=DU8(y+12*Sin(a))
call SaveReal(L7,(PP7),(549+i-1),((x)*1.0))
call SaveReal(L7,(PP7),(567+i-1),((y)*1.0))
call SetUnitX(WYE,x)
call SetUnitY(WYE,y)
set PU7=GroupPickRandomUnit(g)
if PU7!=null then
call GroupRemoveUnit(g,PU7)
call SaveInteger(L7,(GetHandleId((PU7))),((4314)),(1))
call SaveBoolean(L7,(PP7),(511+i-1),(true))
call EQH(FJ8,WYE,PU7,GetUnitAbilityLevel(FJ8,1093812788))
endif
endif
set i=i+1
endloop
call L97(g)
set g=null
set WYE=null
set PU7=null
endif
set t=null
set FJ8=null
return false
endfunction
function ETH takes nothing returns nothing
local real EX8=GetSpellTargetX()
local real EY8=GetSpellTargetY()
local unit FJ8=GetTriggerUnit()
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local real a=Q87(x,y,EX8,EY8)*bj_DEGTORAD
local real b
local unit HV8
local real EB8=DT8(x+500*Cos(a))
local real EC8=DU8(y+500*Sin(a))
local integer i=0
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local real W09
local integer HW8=GetUnitAbilityLevel(FJ8,1093812788)
local integer BU7=1747993678
set i=i+1
set b=a*bj_RADTODEG+90
if b>360 then
set b=b-360
endif
set b=b*bj_DEGTORAD
set HV8=CreateUnit(GetOwningPlayer(FJ8),BU7,x+100*Cos(a)+100*Cos(b),y+100*Sin(a)+100*Sin(b),a*bj_RADTODEG)
call SaveUnitHandle(L7,(PP7),(393+i-1),(HV8))
call SaveBoolean(L7,(PP7),(511+i-1),(false))
call SaveReal(L7,(PP7),(549+i-1),((GetUnitX(HV8))*1.0))
call SaveReal(L7,(PP7),(567+i-1),((GetUnitY(HV8))*1.0))
set i=i+1
set b=a*bj_RADTODEG-90
if b<0 then
set b=360+b
endif
set b=b*bj_DEGTORAD
set HV8=CreateUnit(GetOwningPlayer(FJ8),BU7,x+100*Cos(a)+100*Cos(b),y+100*Sin(a)+100*Sin(b),a*bj_RADTODEG)
call SaveUnitHandle(L7,(PP7),(393+i-1),(HV8))
call SaveBoolean(L7,(PP7),(511+i-1),(false))
call SaveReal(L7,(PP7),(549+i-1),((GetUnitX(HV8))*1.0))
call SaveReal(L7,(PP7),(567+i-1),((GetUnitY(HV8))*1.0))
set i=i+1
set HV8=CreateUnit(GetOwningPlayer(FJ8),BU7,x+100*Cos(a),y+100*Sin(a),a*bj_RADTODEG)
call SaveUnitHandle(L7,(PP7),(393+i-1),(HV8))
call SaveBoolean(L7,(PP7),(511+i-1),(false))
call SaveReal(L7,(PP7),(549+i-1),((GetUnitX(HV8))*1.0))
call SaveReal(L7,(PP7),(567+i-1),((GetUnitY(HV8))*1.0))
call TriggerRegisterTimerEvent(t,0.015,true)
call TriggerAddCondition(t,Condition(function ESH))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
call SaveReal(L7,(PP7),(137),((a)*1.0))
call SaveReal(L7,(PP7),(47),((EB8)*1.0))
call SaveReal(L7,(PP7),(48),((EC8)*1.0))
call SaveGroupHandle(L7,(PP7),(187),(LD7()))
set FJ8=null
set HV8=null
set t=null
endfunction
function EUH takes nothing returns boolean
if GetSpellAbilityId()==1093812788 then
call ETH()
endif
return false
endfunction
function WI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EUH))
set t=null
endfunction
function EVH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer L48=GetTriggerEvalCount(t)
local integer HW8=GetUnitAbilityLevel(FJ8,1093812789)
if L48==6 then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitShareVision(PU7,GetOwningPlayer(FJ8),false)
endif
call HY8(FJ8,PU7,1,20+10*HW8)
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function EWH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function EVH))
call SaveUnitHandle(L7,(PP7),(2),(GetTriggerUnit()))
call SaveUnitHandle(L7,(PP7),(17),(GetEnumUnit()))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("Abilities\\Weapons\\BansheeMissile\\BansheeMissile.mdl",GetEnumUnit(),"overhead")))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",GetEnumUnit(),"origin"))
call UnitShareVision(GetEnumUnit(),GetOwningPlayer(GetTriggerUnit()),true)
set t=null
endfunction
function EXH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local group g=LD7()
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(FJ8),GetUnitY(FJ8),0)
call UnitAddAbility(HV8,1093812791)
call IssueImmediateOrderById(HV8,852625)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",GetUnitX(FJ8),GetUnitY(FJ8)))
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),625,Condition(function GQ8))
call ForGroup(g,function EWH)
call L97(g)
set g=null
set FJ8=null
set HV8=null
endfunction
function EYH takes nothing returns boolean
if GetSpellAbilityId()==1093812789 then
call EXH()
endif
return false
endfunction
function Register_Miasma takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EYH))
set t=null
endfunction
function GetTotalMinutes takes nothing returns integer
return R2I((TimerGetElapsed(W))/60)
endfunction
function EZH takes unit FJ8,integer EAH returns nothing
local integer K4D=GetHeroAgi(FJ8,false)
local integer K7D=GetHeroStr(FJ8,false)
local integer EBH=GetHeroInt(FJ8,false)
call SetHeroAgi(FJ8,K4D-EAH,true)
call SetHeroStr(FJ8,K7D-EAH,true)
call SetHeroInt(FJ8,EBH-EAH,true)
endfunction
function ECH takes unit FJ8,integer EAH returns nothing
local integer K4D=GetHeroAgi(FJ8,false)
local integer K7D=GetHeroStr(FJ8,false)
local integer EBH=GetHeroInt(FJ8,false)
call SetHeroAgi(FJ8,K4D+EAH,true)
call SetHeroStr(FJ8,K7D+EAH,true)
call SetHeroInt(FJ8,EBH+EAH,true)
endfunction
function E3H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer E6H=(LoadInteger(L7,(PP7),(744)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093814066)
local integer EJ9=(R2I((TimerGetElapsed(W))/60))
local real ELH=HW8+1+(0.1+0.1*HW8)*EJ9
local integer E1H=3+3*HW8+R2I((0.1+0.1*HW8)*EJ9)
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093814066 then
if PU7!=null and PU7!=GetSpellTargetUnit()then
call UnitRemoveAbility(PU7,1093814607)
call EZH(PU7,E6H)
call EZH(FJ8,E6H)
call SaveInteger(L7,(PP7),(744),(0))
endif
set PU7=GetSpellTargetUnit()
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call L67(PU7,1093814607)
call EE8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",FJ8,"chest",1.9)
call EE8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",PU7,"chest",1.9)
return false
else
return false
endif
endif
if PU7==null then
elseif L17(PU7)or L17(FJ8)or Q17(FJ8,PU7)>1400 then
call EZH(FJ8,E6H)
call EZH(PU7,E6H)
call SaveInteger(L7,(PP7),(744),(0))
call UnitRemoveAbility(FJ8,1093814607)
call UnitRemoveAbility(PU7,1093814607)
else
if GetUnitAbilityLevel(FJ8,1093814607)==0 then
call L67(FJ8,1093814607)
endif
if GetUnitAbilityLevel(PU7,1093814607)==0 then
call L67(PU7,1093814607)
endif
if E6H!=E1H then
call ECH(FJ8,E1H-E6H)
call ECH(PU7,E1H-E6H)
call SaveInteger(L7,(PP7),(744),(E1H))
endif
call SetUnitState(FJ8,UNIT_STATE_LIFE,GetUnitState(FJ8,UNIT_STATE_LIFE)+ELH)
call SetUnitState(PU7,UNIT_STATE_LIFE,GetUnitState(PU7,UNIT_STATE_LIFE)+ELH)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function E0H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function E3H))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(null))
call SaveInteger(L7,(PP7),(744),(0))
set t=null
set FJ8=null
endfunction
function E5H takes nothing returns boolean
if GetLearnedSkill()==1093814066 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093814066)==1 then
call E0H()
endif
return false
endfunction
function Register_Brotherhood takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function E5H))
set t=null
endfunction
function E2H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or(GetEventDamage()>30 and GetEventDamageSource()!=GetTriggerUnit()and AI7(GetOwningPlayer(GetEventDamageSource())))then
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
call E48(FJ8,GetEventDamage())
endif
call UnitRemoveAbility(FJ8,1093814604)
call UnitRemoveAbility(FJ8,1093814605)
call UnitRemoveAbility(FJ8,1093812825)
call UnitRemoveAbility(FJ8,1093814606)
call UnitRemoveAbility(FJ8,1110459956)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
return false
endfunction
function E_H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetEnumUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093812822)
local real d
local integer id
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
if HW8==1 then
set d=4
set id=1093814604
elseif HW8==2 then
set d=5
set id=1093814605
elseif HW8==3 then
set d=6
set id=1093812825
elseif HW8==4 then
set d=7
set id=1093814606
endif
call L67(PU7,id)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),id,false)
call TriggerAddCondition(t,Condition(function E2H))
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerRegisterTimerEvent(t,d,false)
call SaveUnitHandle(L7,(PP7),(2),(PU7))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl",PU7,"origin")))
set FJ8=null
set PU7=null
set t=null
endfunction
function F4H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local group g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),375,Condition(function G58))
call ForGroup(g,function E_H)
call L97(g)
set g=null
set FJ8=null
endfunction
function F7H takes nothing returns boolean
if GetSpellAbilityId()==1093812822 then
call F4H()
endif
return false
endfunction
function Register_Gallop takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function F7H))
endfunction
function F8H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer F9H=(LoadInteger(L7,(PP7),(59)))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveAbility(FJ8,F9H)
call UnitRemoveAbility(FJ8,1110459978)
call UnitRemoveAbility(FJ8,1110459979)
set t=null
set FJ8=null
return false
endfunction
function FDH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PT7=GetAttacker()
local integer HW8=GetUnitAbilityLevel(FJ8,1093813593)
local integer id
if FJ8==GetTriggerUnit()and GetRandomInt(1,100)<=(14+2*HW8)and UJ7(FJ8,"4316")==false and IsUnitAlly(FJ8,GetOwningPlayer(PT7))==false then
call UU7(FJ8,"4316",1.2)
if HW8==1 then
set id=1093814084
elseif HW8==2 then
set id=1093814085
elseif HW8==3 then
set id=1093814086
elseif HW8==4 then
set id=1093814083
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),id,false)
call L67(FJ8,id)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerRegisterTimerEvent(t,0.5,false)
call TriggerAddCondition(t,Condition(function F8H))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveInteger(L7,(PP7),(59),(id))
endif
set t=null
set FJ8=null
set PT7=null
return false
endfunction
function FEH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function FDH))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set FJ8=null
set t=null
endfunction
function FFH takes nothing returns boolean
if GetLearnedSkill()==1093813593 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093813593)==1 then
call FEH()
endif
return false
endfunction
function VZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function FFH))
set t=null
endfunction
function FGH takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer B9D
if d<1 then
call UnitRemoveAbility(u,H87[0])
call UnitRemoveAbility(u,H87[1])
call UnitRemoveAbility(u,H87[2])
call UnitRemoveAbility(u,H87[3])
call UnitRemoveAbility(u,H87[4])
call UnitRemoveAbility(u,H87[5])
call UnitRemoveAbility(u,H87[6])
call UnitRemoveAbility(u,H87[7])
call UnitRemoveAbility(u,H87[8])
return
endif
loop
exitwhen c==0
set c=a/2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set B9D=8
set i=0
loop
exitwhen i>B9D
if b[i]==1 then
call L67(u,H87[i])
else
call UnitRemoveAbility(u,H87[i])
endif
set i=i+1
endloop
endfunction
function FHH takes unit FJ8,integer HW8,unit PU7 returns nothing
local integer PP7=GetHandleId(FJ8)
local integer FIH=(LoadInteger(L7,(PP7),(739)))
if IsUnitType(PU7,UNIT_TYPE_HERO)==true then
set FIH=FIH+10
call SaveInteger(L7,(PP7),(739),(FIH))
call EI8(GetUnitName(FJ8)+" Won The Duel!!",5,FJ8,0.03,255,0,0,255)
call FGH(FJ8,FIH)
endif
endfunction
function FJH takes unit u returns boolean
return GetUnitAbilityLevel(u,1113815395)==0 or C77(u)==false
endfunction
function FKH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local real CF8=(LoadReal(L7,(PP7),(442)))
local unit HV8
if GetTriggerEvalCount(t)==1 then
set HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
call UnitAddAbility(HV8,1093814069)
call IssueTargetOrder(HV8,"doom",PU7)
set HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(FJ8),GetUnitY(FJ8),0)
call UnitAddAbility(HV8,1093814069)
call IssueTargetOrder(HV8,"doom",FJ8)
set HV8=null
endif
if GetTriggerEventId()==EVENT_WIDGET_DEATH or CF8<(TimerGetElapsed(W))or FJH(FJ8)==false or FJH(PU7)==false then
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
if GetTriggerUnit()==FJ8 then
call FHH(PU7,HW8,GetTriggerUnit())
else
call FHH(FJ8,HW8,GetTriggerUnit())
endif
endif
call UnitRemoveAbility(FJ8,1110459975)
call UnitRemoveAbility(PU7,1110459975)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call SetUnitPathing(FJ8,true)
call SetUnitPathing(PU7,true)
elseif GetIssuedOrderId()!=851973 then
call SetUnitPathing(FJ8,false)
call SetUnitPathing(PU7,false)
call DisableTrigger(t)
call IssueTargetOrder(FJ8,"attack",PU7)
call IssueTargetOrder(PU7,"attack",FJ8)
call EnableTrigger(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function FMH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093813065)
local trigger t
local integer PP7
call SetUnitPathing(FJ8,false)
call SetUnitPathing(PU7,false)
call IssueTargetOrder(FJ8,"attack",PU7)
call IssueTargetOrder(PU7,"attack",FJ8)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call SaveEffectHandle(L7,(PP7),(175),(AddSpecialEffectTarget("war3mapImported\\DuelFX.mdx",FJ8,"overhead")))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffectTarget("war3mapImported\\DuelFX.mdx",PU7,"overhead")))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveReal(L7,(PP7),(442),(((TimerGetElapsed(W))+0.75*HW8+3.25)*1.0))
call TriggerAddCondition(t,Condition(function FKH))
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_ISSUED_ORDER)
set FJ8=null
set PU7=null
set t=null
endfunction
function FNH takes nothing returns boolean
if GetSpellAbilityId()==1093813065 and L87(GetSpellTargetUnit())==false then
call FMH()
endif
return false
endfunction
function VB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FNH))
set t=null
set H87[0]=1093814091
set H87[1]=1093814090
set H87[2]=1093814089
set H87[3]=1093814088
set H87[4]=1093814094
set H87[5]=1093814095
set H87[6]=1093814093
set H87[7]=1093814092
set H87[8]=1093814096
endfunction
function FOH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local integer L48=(LoadInteger(L7,(PP7),(34)))
local real d
local unit PT7
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
set d=GetEventDamage()
if IY8(d)and d>50 then
set L48=L48+1
call SaveInteger(L7,(PP7),(34),(L48))
set PT7=GetEventDamageSource()
if IsUnitType(PT7,UNIT_TYPE_HERO)==false and GetUnitAbilityLevel(PT7,1093678162)!=0 then
set PT7=M7[GetPlayerId(GetOwningPlayer(PT7))]
endif
call E48(FJ8,d)
set d=d*(0.4+0.2*HW8)
if IsUnitAlly(PU7,GetOwningPlayer(FJ8))==true then
call SetUnitState(PU7,UNIT_STATE_LIFE,GetUnitState(PU7,UNIT_STATE_LIFE)+d)
else
call HY8(FJ8,PU7,3,d)
endif
endif
endif
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or L48==3 then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(PP7),(176))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function FPH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093814609)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call EE8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",FJ8,"chest",1.9)
call EE8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",PU7,"chest",1.9)
call SaveEffectHandle(L7,(PP7),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkTarget.mdl",FJ8,"chest")))
call SaveEffectHandle(L7,(PP7),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkTarget.mdl",PU7,"chest")))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveInteger(L7,(PP7),(34),(0))
call TriggerAddCondition(t,Condition(function FOH))
call TriggerRegisterTimerEvent(t,10,false)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_DAMAGED)
set FJ8=null
set PU7=null
set t=null
endfunction
function FQH takes nothing returns boolean
if GetSpellAbilityId()==1093814609 then
call FPH()
endif
return false
endfunction
function Register_Deflection takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FQH))
set t=null
endfunction
function FRH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local integer L48=(LoadInteger(L7,(PP7),(34)))
set L48=L48+1
call SaveInteger(L7,(PP7),(34),(L48))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or L48>4 then
call UnitRemoveAbility(PU7,H97[HW8])
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
call SetUnitState(PU7,UNIT_STATE_LIFE,GetUnitState(PU7,UNIT_STATE_LIFE)+20+10*HW8)
call EE8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",PU7,"chest",1.9)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function FSH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093814834)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call ET9(PU7)
call EQ9(PU7,0,0)
call L67(PU7,H97[HW8])
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),H97[HW8],false)
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\InnerFire\\InnerFireTarget.mdl",PU7,"overhead")))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveInteger(L7,(PP7),(34),(0))
call TriggerAddCondition(t,Condition(function FRH))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerEvaluate(t)
set FJ8=null
set PU7=null
set t=null
endfunction
function FTH takes nothing returns boolean
if GetSpellAbilityId()==1093814834 then
call FSH()
endif
return false
endfunction
function VY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FTH))
set H97[1]=1093814841
set H97[2]=1093814849
set H97[3]=1093814840
set H97[4]=1093814839
set t=null
endfunction
function FUH takes unit FJ8,integer HW8 returns nothing
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,GetUnitX(FJ8),GetUnitY(FJ8),0)
call L67(HV8,1093814851)
call SetUnitAbilityLevel(HV8,1093814851,HW8/3)
call IssueTargetOrder(HV8,"bloodlust",FJ8)
set HV8=null
endfunction
function FVH takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==true or IsUnitIllusion(GetEnumUnit())==true then
call HY8(GetTriggerUnit(),GetEnumUnit(),1,GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*0.25)
endif
call HY8(GetTriggerUnit(),GetEnumUnit(),1,60*HF7+10*(HE7+HD7))
endfunction
function FWH takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
set HE7=HE7+1
else
set HD7=HD7+1
endif
endfunction
function FXH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local integer HW8=GetUnitAbilityLevel(FJ8,1093814850)
local group g=LD7()
call DestroyEffect(AddSpecialEffect("war3mapImported\\OverwhelmingOdds.mdx",x,y))
call GroupEnumUnitsInRange(g,x,y,315+25,Condition(function GQ8))
set HD7=0
set HE7=0
set HF7=HW8
call ForGroup(g,function FWH)
call ForGroup(g,function FVH)
call L97(g)
call FUH(FJ8,9*HE7+3*HD7)
set FJ8=null
set g=null
endfunction
function FYH takes nothing returns boolean
if GetSpellAbilityId()==1093814850 then
call FXH()
endif
return false
endfunction
function VA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FYH))
call DX8(1093814851)
set t=null
endfunction
function FZH takes nothing returns nothing
set HJ7=true
call HY8(HG7,GetEnumUnit(),1,((300+300*HI7)/HH7)/20)
set HJ7=false
endfunction
function FAH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real x=(LoadReal(L7,(PP7),(6)))
local real y=(LoadReal(L7,(PP7),(7)))
local group g
if GetTriggerEvalCount(t)>20 then
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
set g=LD7()
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,170+25,Condition(function G68))
set HI7=GetUnitAbilityLevel(FJ8,1093812807)
set HG7=FJ8
set HH7=CountUnitsInGroup(g)
call ForGroup(g,function FZH)
call L97(g)
set g=null
endif
set t=null
set FJ8=null
return false
endfunction
function FBH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local string s="war3mapImported\\DivineWrathTarget.mdx"
local location l=GetSpellTargetLoc()
call PlaySoundAtPointBJ(I47,100,l,0)
call RemoveLocation(l)
set l=null
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function FAH))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
call DestroyEffect(AddSpecialEffect(s,x,y))
set t=null
set FJ8=null
endfunction
function FCH takes nothing returns boolean
if GetSpellAbilityId()==1093812807 then
call FBH()
endif
return false
endfunction
function V38 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FCH))
set t=null
set I47=CreateSound("Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget2.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(I47,"StarfallTarget")
call SetSoundDuration(I47,3000)
endfunction
function F3H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093812820)
local real d
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
set d=GetEventDamage()*(0.2+0.05*HW8)
else
call SaveInteger(L7,(GetHandleId((PU7))),((4317)),(2))
call UnitRemoveAbility(PU7,1093814582)
call UnitRemoveAbility(PU7,1093814581)
call UnitRemoveAbility(PU7,1093814583)
call UnitRemoveAbility(PU7,1093814584)
call UnitRemoveAbility(PU7,1110459987)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function F6H takes unit FJ8,unit PU7 returns nothing
local trigger t
local integer PP7
local integer HW8=GetUnitAbilityLevel(FJ8,1093812820)
local unit LastTarget=(LoadUnitHandle(L7,(GetHandleId(FJ8)),(741)))
local integer L48=(LoadInteger(L7,(GetHandleId(PU7)),(742)))
local integer id
if((LoadInteger(L7,(GetHandleId((PU7))),((4317))))==1)==true then
call SaveInteger(L7,(GetHandleId(PU7)),(742),(0))
call SaveReal(L7,(GetHandleId(PU7)),(743),(((TimerGetElapsed(W)))*1.0))
else
if(LoadReal(L7,(GetHandleId(PU7)),(743)))+10<(TimerGetElapsed(W))then
set L48=1
else
set L48=L48+1
endif
if IsUnitType(PU7,UNIT_TYPE_HERO)==true or IsUnitIllusion(PU7)==true then
call EJ8(GetOwningPlayer(FJ8),I2S(L48)+"!",2,PU7,0.026,50,0,255,216)
endif
call SaveInteger(L7,(GetHandleId(PU7)),(742),(L48))
call SaveReal(L7,(GetHandleId(PU7)),(743),(((TimerGetElapsed(W)))*1.0))
if L48==4 then
call SaveInteger(L7,(GetHandleId(PU7)),(742),(0))
call SaveInteger(L7,(GetHandleId((PU7))),((4317)),(1))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5+0.5*HW8,false)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerAddCondition(t,Condition(function F3H))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
if HW8==1 then
set id=1093814582
elseif HW8==2 then
set id=1093814581
elseif HW8==3 then
set id=1093814583
elseif HW8==4 then
set id=1093814584
endif
call L67(PU7,id)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),id,false)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FarseerMissile_Purple_2.mdx",PU7,"chest"))
endif
endif
set t=null
endfunction
function FLH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==FJ8 then
call DisableTrigger(t)
call F6H(FJ8,PU7)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
else
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function F1H takes nothing returns nothing
local trigger t=CreateTrigger()
local unit PU7=GetTriggerUnit()
local unit FJ8=GetAttacker()
local integer PP7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1.2,false)
call TriggerAddCondition(t,Condition(function FLH))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set PU7=null
set FJ8=null
set t=null
endfunction
function F0H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
if GetAttacker()==FJ8 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(FJ8))then
if UJ7(FJ8,"4315")==false then
call UU7(FJ8,"4315",0.3)
call F1H()
endif
endif
set t=null
set FJ8=null
return false
endfunction
function F5H takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function F0H))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=null
set FJ8=null
endfunction
function F2H takes nothing returns boolean
if GetLearnedSkill()==1093812820 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093812820)==1 then
call F5H()
endif
return false
endfunction
function Register_Amp takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function F2H))
set t=null
endfunction
function F_H takes nothing returns nothing
local integer PP7=GetHandleId(GetTriggeringTrigger())
local unit FJ8=IN4
local unit PU7=IP4
local integer HW8=GetUnitAbilityLevel(FJ8,1093812805)
local real CV9=40+20*HW8+1.6*GetHeroInt(FJ8,true)
set HJ7=true
call HY8(FJ8,PU7,1,CV9)
set HJ7=false
set FJ8=null
set PU7=null
endfunction
function G4H takes nothing returns nothing
local trigger t=E68(GetTriggerUnit(),GetSpellTargetUnit(),1747993681,"F_H",500)
local integer PP7=GetHandleId(t)
set t=null
endfunction
function G7H takes nothing returns boolean
if GetSpellAbilityId()==1093812805 and L87(GetSpellTargetUnit())==false then
call G4H()
endif
return false
endfunction
function V68 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function G7H))
set t=null
endfunction
function G8H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local real d
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
else
call UnitRemoveAbility(PU7,1093814360)
call UnitRemoveAbility(PU7,1093814576)
call UnitRemoveAbility(PU7,1093814361)
call UnitRemoveAbility(PU7,1093814362)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set PU7=null
set t=null
return false
endfunction
function G9H takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093814350)
local real QB7=2+HW8
local integer id=1093814360
if HW8==1 then
set id=1093814360
elseif HW8==2 then
set id=1093814576
elseif HW8==3 then
set id=1093814361
elseif HW8==4 then
set id=1093814362
endif
call L67(PU7,id)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),id,false)
call TriggerRegisterTimerEvent(t,QB7,false)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function G8H))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
set FJ8=null
set PU7=null
set t=null
endfunction
function GDH takes nothing returns boolean
if GetSpellAbilityId()==1093814350 and IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true and L87(GetSpellTargetUnit())==false then
call G9H()
endif
return false
endfunction
function VL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GDH))
set t=null
endfunction
function GEH takes nothing returns nothing
local integer PP7=GetHandleId(GetTriggeringTrigger())
local unit FJ8=IN4
local unit PU7=IP4
local real x=GetUnitX(PU7)
local real y=GetUnitY(PU7)
local integer HW8=GetUnitAbilityLevel(FJ8,1093814612)
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,x,y,0)
call UnitAddAbility(HV8,1093814613)
call SetUnitAbilityLevel(HV8,1093814613,HW8)
call IssueImmediateOrder(HV8,"thunderclap")
set FJ8=null
set PU7=null
set HV8=null
endfunction
function GFH takes unit FJ8,group g returns unit
local unit GGH=null
local real d=99999
local unit MPE=FirstOfGroup(g)
call GroupRemoveUnit(g,MPE)
loop
exitwhen MPE==null
if Q17(FJ8,MPE)<d then
set d=Q17(FJ8,MPE)
set GGH=MPE
endif
set MPE=FirstOfGroup(g)
call GroupRemoveUnit(g,MPE)
endloop
return GGH
endfunction
function GHH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=null
local group g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),1600+25,Condition(function G38))
set PU7=GFH(FJ8,g)
call L97(g)
if PU7!=null then
call E68(FJ8,PU7,1747993910,"GEH",800)
endif
set g=null
set PU7=null
set FJ8=null
endfunction
function GIH takes nothing returns boolean
if GetSpellAbilityId()==1093814612 then
call GHH()
endif
return false
endfunction
function VC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GIH))
set t=null
endfunction
function GJH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093813335)
local unit CR8
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if GetTriggerEventId()==EVENT_UNIT_DEATH and IsPlayerEnemy(GetOwningPlayer(GetKillingUnit()),GetOwningPlayer(PU7))==true then
set CR8=GetKillingUnit()
if IX8(CR8)then
set CR8=(M7[GetPlayerId(GetOwningPlayer((CR8)))])
endif
if IsUnitType(CR8,UNIT_TYPE_STRUCTURE)==true then
call HY8(FJ8,CR8,1,25*HW8)
else
call HY8(FJ8,CR8,1,100*HW8)
endif
call HU8(FJ8,GetKillingUnit(),0.5+0.5*HW8)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function GKH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,10,false)
call TriggerAddCondition(t,Condition(function GJH))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("war3mapImported\\GaiaShield.mdx",PU7,"origin")))
set t=null
set FJ8=null
set PU7=null
endfunction
function GMH takes nothing returns boolean
if GetSpellAbilityId()==1093813335 then
call GKH()
endif
return false
endfunction
function Register_DeathWatch takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GMH))
set t=null
endfunction
function GNH takes nothing returns nothing
if Q17(HK7,GetEnumUnit())>HM7 then
call UnitRemoveAbility(GetEnumUnit(),1093813337)
endif
endfunction
function GOH takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),1093813337)
endfunction
function GPH takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and L17(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FX8(GetFilterUnit())))
endfunction
function GQH takes nothing returns nothing
call GroupAddUnit(HN7,GetEnumUnit())
call UnitAddAbility(GetEnumUnit(),1093813337)
endfunction
function GRH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit HV8=(LoadUnitHandle(L7,(PP7),(19)))
local group HPD=(LoadGroupHandle(L7,(PP7),(187)))
local group g
local integer HW8=GetUnitAbilityLevel(FJ8,1093813336)
if L17(HV8)or GetTriggerEvalCount(t)>200 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call ForGroup(HPD,function GOH)
call L97(HPD)
else
set HM7=250+25
set HK7=HV8
set IN4=FJ8
call ForGroup(HPD,function GNH)
set HN7=HPD
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(HV8),GetUnitY(HV8),HM7,Condition(function GPH))
call ForGroup(g,function GQH)
call L97(g)
set g=null
endif
set t=null
set FJ8=null
return false
endfunction
function GSH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local integer id
local unit HV8
local integer HW8=GetUnitAbilityLevel(FJ8,1093813336)
if HW8==1 then
set id=1865429330
elseif HW8==2 then
set id=1865429331
elseif HW8==3 then
set id=1865429329
else
set id=1865429332
endif
set HV8=CreateUnit(GetOwningPlayer(FJ8),id,x,y,0)
call UnitApplyTimedLife(HV8,1112820806,10)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function GRH))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(19),(HV8))
call SaveGroupHandle(L7,(PP7),(187),(LD7()))
set t=null
set FJ8=null
set HV8=null
endfunction
function GTH takes nothing returns boolean
if GetSpellAbilityId()==1093813336 then
call GSH()
endif
return false
endfunction
function Register_RealityShift takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GTH))
set t=null
endfunction
function GUH takes nothing returns nothing
call HY8(HO7,GetEnumUnit(),1,50+50*HP7)
endfunction
function GVH takes unit FJ8,real x,real y returns nothing
local unit HV8=CreateUnit(GetOwningPlayer(FJ8),1697656901,x,y,0)
local group g=LD7()
call UnitAddAbility(HV8,1093813553)
call IssuePointOrder(HV8,"silence",x,y)
set IN4=FJ8
set HP7=GetUnitAbilityLevel(FJ8,1093813552)
set HO7=FJ8
call GroupEnumUnitsInRange(g,x,y,325,Condition(function G78))
call ForGroup(g,function GUH)
call L97(g)
call DestroyEffect(AddSpecialEffect("",x,y))
set g=null
set HV8=null
endfunction
function GWH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local integer i=0
local unit GXH
local boolean GYH=false
local real x
local real y
local integer PP7=GetHandleId(FJ8)
loop
exitwhen i>2 or GYH
set GXH=(LoadUnitHandle(L7,(PP7),(724+i)))
if GXH!=null and L17(GXH)==false then
call KillUnit(GXH)
call RemoveSavedHandle(L7,(PP7),(724+i))
set GYH=true
endif
set i=i+1
endloop
if GYH then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
call GVH(FJ8,x,y)
endif
set GXH=null
set FJ8=null
endfunction
function GZH takes nothing returns boolean
if GetSpellAbilityId()==1093813552 then
call GWH()
endif
return false
endfunction
function GAH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit GXH
local integer i=0
local real x
local real y
set PP7=GetHandleId(FJ8)
loop
exitwhen i>2
set GXH=(LoadUnitHandle(L7,(PP7),(724+i)))
if GXH!=null and L17(GXH)==false then
set x=GetUnitX(FJ8)
set y=GetUnitY(FJ8)
if i==0 then
set x=x-125
set y=y-125
elseif i==1 then
set x=x+125
set y=y-125
else
set x=x-125
set y=y+125
endif
call SetUnitX(GXH,x)
call SetUnitY(GXH,y)
if GetTriggerEventId()==EVENT_WIDGET_DEATH or L17(FJ8)then
call KillUnit(GXH)
call RemoveSavedHandle(L7,(PP7),(724+i))
endif
endif
set i=i+1
endloop
set GXH=null
set FJ8=null
set t=null
return false
endfunction
function GBH takes unit FJ8,integer PQ7 returns nothing
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local unit GXH
if PQ7==0 then
set x=x-125
set y=y-125
elseif PQ7==1 then
set x=x+125
set y=y-125
else
set x=x-125
set y=y+125
endif
set GXH=CreateUnit(GetOwningPlayer(FJ8),1747993682,x,y,0)
call SaveUnitHandle(L7,(GetHandleId(FJ8)),(724+PQ7),(GXH))
set GXH=null
endfunction
function GCH takes unit FJ8 returns nothing
local integer i=0
local boolean G3H=false
local integer G6H=-1
local unit GXH
local integer PP7=GetHandleId(FJ8)
loop
exitwhen i>2 or G3H
set GXH=(LoadUnitHandle(L7,(PP7),(724+i)))
if GXH==null or L17(GXH)then
set G6H=i
set G3H=true
endif
set i=i+1
endloop
if G3H then
call GBH(FJ8,G6H)
endif
set GXH=null
endfunction
function GLH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093813552)
if L17(FJ8)==false then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH then
if IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(FJ8))==true and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 then
if Q17(GetTriggerUnit(),FJ8)<1025 and GetRandomInt(0,100)<(10+5*HW8)then
call GCH(FJ8)
endif
endif
else
call GCH(FJ8)
endif
endif
set t=null
set FJ8=null
return false
endfunction
function G1H takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,20,true)
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function GLH))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerAddCondition(t,Condition(function GAH))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=null
set FJ8=null
endfunction
function G0H takes nothing returns boolean
if GetLearnedSkill()==1093813552 and GetUnitAbilityLevel(GetTriggerUnit(),1093813552)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call G1H()
endif
return false
endfunction
function Register_HauntingEchos takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GZH))
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function G0H))
set t=null
endfunction
function G5H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local real AO9=(LoadReal(L7,(PP7),(6)))
local real AP9=(LoadReal(L7,(PP7),(7)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093813338)
local real J_D=(30*HW8)/10
local real a=Q77(PU7,FJ8)*bj_DEGTORAD
local real x=AO9+J_D*Cos(a)
local real y=AP9+J_D*Sin(a)
call SetUnitX(PU7,x)
call SetUnitY(PU7,y)
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
if GetTriggerEvalCount(t)==10 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call HY8(FJ8,PU7,1,10+10*HW8)
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function G2H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetEnumUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function G5H))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveReal(L7,(PP7),(6),((GetUnitX(PU7))*1.0))
call SaveReal(L7,(PP7),(7),((GetUnitY(PU7))*1.0))
set t=null
set FJ8=null
set PU7=null
endfunction
function G_H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local integer i=0
local boolean GYH=false
local integer PP7
local unit GXH
local group g
if GetSpellAbilityId()==1093813552 then
set PP7=GetHandleId(FJ8)
loop
exitwhen i>2
set GXH=(LoadUnitHandle(L7,(PP7),(724+i)))
if GXH!=null and L17(GXH)==false then
set GYH=true
endif
set i=i+1
endloop
set GXH=null
if GYH==false then
set FJ8=null
return
endif
endif
set g=LD7()
call GroupEnumUnitsInRange(g,GetUnitX(FJ8),GetUnitY(FJ8),725,Condition(function GQ8))
call ForGroup(g,function G2H)
call L97(g)
set g=null
set FJ8=null
endfunction
function H4H takes nothing returns boolean
if GetSpellAbilityId()==1093813552 or GetSpellAbilityId()==1093813336 or GetSpellAbilityId()==1093813335 then
if GetUnitAbilityLevel(GetTriggerUnit(),1093813338)>0 then
call G_H()
endif
endif
return false
endfunction
function Register_FatalAttraction takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function H4H))
set t=null
endfunction
function H7H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer Y6E=(LoadInteger(L7,(PP7),(422)))
local integer YLE=(LoadInteger(L7,(PP7),(423)))
local integer ZRD=(LoadInteger(L7,(PP7),(424)))
call SetHeroAgi(PU7,GetHeroAgi(PU7,false)+Y6E,true)
call SetHeroStr(PU7,GetHeroStr(PU7,false)+YLE,true)
call SetHeroInt(PU7,GetHeroInt(PU7,false)+ZRD,true)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set PU7=null
return false
endfunction
function H8H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetEnumUnit()
local integer HW8=GetUnitAbilityLevel(FJ8,1093813835)
local trigger t
local integer PP7
local integer FMD
local integer Y6E
local integer YLE
local integer ZRD
local real J_D
if IsUnitType(PU7,UNIT_TYPE_HERO)==true then
set FMD=CL7(PU7)
set J_D=0.15
if FMD==2 then
set Y6E=R2I(J_D*GetHeroAgi(PU7,false))-1
set YLE=0
set ZRD=0
elseif FMD==3 then
set Y6E=0
set YLE=R2I(J_D*GetHeroStr(PU7,false))-1
set ZRD=0
elseif FMD==1 then
set Y6E=0
set YLE=0
set ZRD=R2I(J_D*GetHeroInt(PU7,false))-1
endif
call SetHeroAgi(PU7,GetHeroAgi(PU7,false)-Y6E,true)
call SetHeroStr(PU7,GetHeroStr(PU7,false)-YLE,true)
call SetHeroInt(PU7,GetHeroInt(PU7,false)-ZRD,true)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,7,false)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerAddCondition(t,Condition(function H7H))
call SaveInteger(L7,(PP7),(422),(Y6E))
call SaveInteger(L7,(PP7),(424),(ZRD))
call SaveInteger(L7,(PP7),(423),(YLE))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
set t=null
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",PU7,"chest"))
call HY8(FJ8,PU7,HR7,50+50*HW8)
set FJ8=null
set PU7=null
endfunction
function H9H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local group g=LD7()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local real a=Q87(GetUnitX(FJ8),GetUnitY(FJ8),x,y)*bj_DEGTORAD
set x=GetUnitX(FJ8)
set y=GetUnitY(FJ8)
if ER8(x,y,HQ7)>0 then
set HR7=3
else
set HR7=1
endif
call GroupEnumUnitsInRange(g,x,y,HQ7+25,Condition(function GQ8))
call ForGroup(g,function H8H)
call L97(g)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\WhirlingDeath_01.mdx",FJ8,"origin"))
set FJ8=null
set g=null
endfunction
function HDH takes nothing returns boolean
if GetSpellAbilityId()==1093813835 then
call H9H()
endif
return false
endfunction
function V18 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HDH))
set t=null
endfunction
function HEH takes unit FJ8,unit PU7 returns nothing
local integer HW8=GetUnitAbilityLevel(FJ8,1093813555)
call HY8(FJ8,PU7,3,60+40*HW8)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",PU7,"origin"))
endfunction
function HFH takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call HEH(IN4,GetEnumUnit())
endif
endfunction
function HGH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit LI7=(LoadUnitHandle(L7,(PP7),(14)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HHH=(LoadInteger(L7,(PP7),(18)))
local integer L48=GetTriggerEvalCount(t)
local unit HIH
local group HJH=(LoadGroupHandle(L7,(PP7),(16)))
local group g
local boolean HKH=(LoadBoolean(L7,(PP7),(727)))
local boolean HMH=(LoadBoolean(L7,(PP7),(740)))
if EF9(LI7)then
set HMH=true
call SaveBoolean(L7,(PP7),(740),(HMH))
endif
if HKH==false then
set HIH=(LoadUnitHandle(L7,(PP7),(700+HHH+1-L48)))
call RemoveUnit(HIH)
else
set HIH=(LoadUnitHandle(L7,(PP7),(700+L48)))
if HMH==false then
call SetUnitX(LI7,GetUnitX(HIH))
call SetUnitY(LI7,GetUnitY(HIH))
endif
call RemoveUnit(HIH)
set g=LD7()
set IN4=LI7
set IQ4=HJH
call GroupEnumUnitsInRange(g,GetUnitX(LI7),GetUnitY(LI7),250,Condition(function GH8))
call ForGroup(g,function HFH)
call L97(g)
endif
if L48==(HHH)then
call ER8(GetUnitX(LI7),GetUnitY(LI7),90)
call L97(HJH)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set LI7=null
set HIH=null
set HJH=null
set g=null
return false
endfunction
function HNH takes nothing returns nothing
if C47(GetEnumDestructable())and IsDestructableDeadBJ(GetEnumDestructable())==false then
set HS7=HS7+1
endif
endfunction
function HOH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit LI7=(LoadUnitHandle(L7,(PP7),(14)))
local real AZ9=(LoadReal(L7,(PP7),(13)))
local integer E_D=(LoadInteger(L7,(PP7),(12)))
local integer L48=GetTriggerEvalCount(t)
local real x=(LoadReal(L7,(PP7),(6)))+L48*50*Cos(AZ9*bj_DEGTORAD)
local real y=(LoadReal(L7,(PP7),(7)))+L48*50*Sin(AZ9*bj_DEGTORAD)
local boolean AFD=(LoadBoolean(L7,(PP7),(15)))
local unit HPH
local trigger HQH=(LoadTriggerHandle(L7,(PP7),(11)))
local integer HRH=GetHandleId(HQH)
local integer ID=1966092625
local real B5G=250
local rect r
local real d=90
set r=Rect(x-d,y-d,x+d,y+d)
set HS7=0
call EnumDestructablesInRect(r,Condition(function A47),function HNH)
if HS7>0 or L48==E_D or L48==(E_D-1)or L48==(E_D-2)then
set ID=1966092624
endif
set HPH=CreateUnit(GetOwningPlayer(LI7),ID,x,y,AZ9)
call SaveUnitHandle(L7,(HRH),(700+L48),(HPH))
if HS7>0 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call TriggerRegisterTimerEvent(HQH,0.5/E_D,true)
call TriggerAddCondition(HQH,Condition(function HGH))
call SaveInteger(L7,(HRH),(18),(L48))
call SaveBoolean(L7,(HRH),(727),(true))
call SaveUnitHandle(L7,(HRH),(14),(LI7))
call SaveGroupHandle(L7,(HRH),(16),(LD7()))
call SaveReal(L7,(HRH),(6),((x)*1.0))
call SaveReal(L7,(HRH),(7),((y)*1.0))
call SaveBoolean(L7,(HRH),(740),(false))
elseif L48>E_D then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call TriggerRegisterTimerEvent(HQH,0.5/E_D,true)
call TriggerAddCondition(HQH,Condition(function HGH))
call SaveInteger(L7,(HRH),(18),(L48))
call SaveBoolean(L7,(HRH),(727),(false))
call SaveUnitHandle(L7,(HRH),(14),(LI7))
call SaveGroupHandle(L7,(HRH),(16),(LD7()))
call SaveBoolean(L7,(HRH),(740),(false))
endif
set t=null
set LI7=null
set HPH=null
set HQH=null
return false
endfunction
function HSH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit LI7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real AZ9=Q87(GetUnitX(LI7),GetUnitY(LI7),GetLocationX(l),GetLocationY(l))
local integer HW8=GetUnitAbilityLevel(LI7,1093813555)
local integer HTH
local integer E_D
local trigger HUH=CreateTrigger()
set HTH=600+200*HW8
set E_D=HTH/50
call SaveUnitHandle(L7,(PP7),(14),(LI7))
call SaveInteger(L7,(PP7),(5),(HW8))
call SaveReal(L7,(PP7),(13),((AZ9)*1.0))
call SaveInteger(L7,(PP7),(12),(E_D))
call SaveTriggerHandle(L7,(PP7),(11),(HUH))
call SaveReal(L7,(PP7),(6),((GetUnitX(LI7))*1.0))
call SaveReal(L7,(PP7),(7),((GetUnitY(LI7))*1.0))
call TriggerRegisterTimerEvent(t,0.5/E_D,true)
call TriggerAddCondition(t,Condition(function HOH))
call RemoveLocation(l)
set t=null
set LI7=null
set l=null
endfunction
function HVH takes nothing returns boolean
if GetSpellAbilityId()==1093813555 then
call HSH()
endif
return false
endfunction
function V08 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HVH))
set t=null
endfunction
function HWH takes unit FJ8 returns nothing
local integer L48=(LoadInteger(L7,(GetHandleId(FJ8)),(728)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093813556)
local integer i=1
set L48=IMinBJ(L48,4*HW8)
loop
exitwhen i>16
if L48==i then
call L67(FJ8,HT7[i])
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),HT7[i],false)
else
call UnitRemoveAbility(FJ8,HT7[i])
endif
set i=i+1
endloop
endfunction
function HXH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer L48=(LoadInteger(L7,(GetHandleId(FJ8)),(728)))-1
call SaveInteger(L7,(GetHandleId(FJ8)),(728),(L48))
call HWH(FJ8)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set FJ8=null
return false
endfunction
function HYH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local integer L48=(LoadInteger(L7,(GetHandleId(FJ8)),(728)))+1
if IsUnitEnemy(GetAttacker(),GetOwningPlayer(FJ8))==true then
call SaveInteger(L7,(GetHandleId(FJ8)),(728),(L48))
call HWH(FJ8)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,16,false)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerAddCondition(t,Condition(function HXH))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
endif
set t=null
set FJ8=null
return false
endfunction
function HZH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function HYH))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set t=null
set FJ8=null
endfunction
function HAH takes nothing returns boolean
if GetLearnedSkill()==1093813556 and GetUnitAbilityLevel(GetTriggerUnit(),1093813556)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call HZH()
endif
return false
endfunction
function V58 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function HAH))
set t=null
set HT7[1]=1093813319
set HT7[2]=1093813318
set HT7[3]=1093813324
set HT7[4]=1093813325
set HT7[5]=1093813322
set HT7[6]=1093813321
set HT7[7]=1093813326
set HT7[8]=1093813327
set HT7[9]=1093813320
set HT7[10]=1093813333
set HT7[11]=1093813328
set HT7[12]=1093813329
set HT7[13]=1093813330
set HT7[14]=1093813331
set HT7[15]=1093813332
set HT7[16]=1093813323
endfunction
function HBH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
call UnitRemoveAbility(FJ8,1114663271)
call UnitRemoveAbility(FJ8,1111845217)
call UnitRemoveAbility(FJ8,1093813848)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set FJ8=null
return false
endfunction
function HCH takes unit FJ8,unit PU7 returns nothing
local unit HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
local integer GDD=R2I(100*GetUnitState(PU7,UNIT_STATE_LIFE)/GetUnitState(PU7,UNIT_STATE_MAX_LIFE))
local integer HW8=D18(DL8(R2I(100-GDD)/5,20),1)
call UnitAddAbility(HV8,1093813334)
call SetUnitAbilityLevel(HV8,1093813334,HW8)
call IssueTargetOrder(HV8,"slow",PU7)
set HV8=null
endfunction
function H3H takes nothing returns nothing
if D9==false then
call HY8(HX7,GetEnumUnit(),3,(25+25*HY7)*0.5)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
call HCH(HX7,GetEnumUnit())
endif
endfunction
function H6H takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),HW7)==false then
call GroupAddUnit(HW7,GetEnumUnit())
call HY8(HX7,GetEnumUnit(),3,60+40*HY7)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
call HCH(HX7,GetEnumUnit())
endif
endfunction
function HLH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit EW8=(LoadUnitHandle(L7,(PP7),(45)))
local real EX8=(LoadReal(L7,(PP7),(6)))
local real EY8=(LoadReal(L7,(PP7),(7)))
local real x
local real y
local real a
local integer H1H=(LoadInteger(L7,(PP7),(33)))
local group HPD=(LoadGroupHandle(L7,(PP7),(187)))
local group g
local integer L48=(LoadInteger(L7,(PP7),(34)))
local real H0H
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093813848 then
call SaveInteger(L7,(PP7),(33),(2))
call GroupClear(HPD)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093813848,false)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function HBH))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
endif
elseif GetTriggerEventId()==EVENT_WIDGET_DEATH or(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==-1 then
call F28(FJ8)
if(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==1093813557 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093813557,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093813848,false)
call UnitRemoveAbility(FJ8,1093813848)
call UnitRemoveAbility(FJ8,1114663271)
call UnitRemoveAbility(FJ8,1111845217)
call KillUnit(EW8)
call L97(HPD)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
elseif H1H==0 then
set a=Q87(GetUnitX(EW8),GetUnitY(EW8),EX8,EY8)*bj_DEGTORAD
set x=GetUnitX(EW8)+16*Cos(a)
set y=GetUnitY(EW8)+16*Sin(a)
call ER8(x,y,175)
if Q07(x,y,EX8,EY8)<40 then
set x=EX8
set y=EY8
endif
call SetUnitX(EW8,x)
call SetUnitY(EW8,y)
set IN4=FJ8
set HX7=FJ8
set HY7=GetUnitAbilityLevel(FJ8,1093813557)
set HW7=HPD
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,HU7+25,Condition(function G78))
call ForGroup(g,function H6H)
call L97(g)
if x==EX8 and y==EY8 then
call SaveInteger(L7,(PP7),(33),(1))
call GroupClear(HPD)
endif
elseif H1H==1 then
set L48=L48+1
if L48==25 then
set x=GetUnitX(EW8)
set y=GetUnitY(EW8)
call ER8(x,y,175)
set L48=0
set IN4=FJ8
set HX7=FJ8
set HY7=GetUnitAbilityLevel(FJ8,1093813557)
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,HV7+25,Condition(function G78))
call ForGroup(g,function H3H)
call L97(g)
set H0H=(15+5*HY7)/2
if GetUnitState(FJ8,UNIT_STATE_MANA)<H0H or Q17(FJ8,EW8)>2000 then
call SaveInteger(L7,(PP7),(33),(2))
call GroupClear(HPD)
call UnitRemoveAbility(FJ8,1093813848)
call UnitRemoveAbility(FJ8,1114663271)
call UnitRemoveAbility(FJ8,1111845217)
else
call SetUnitState(FJ8,UNIT_STATE_MANA,GetUnitState(FJ8,UNIT_STATE_MANA)-H0H)
endif
endif
call SaveInteger(L7,(PP7),(34),(L48))
elseif H1H==2 then
set a=Q87(GetUnitX(EW8),GetUnitY(EW8),GetUnitX(FJ8),GetUnitY(FJ8))*bj_DEGTORAD
set x=GetUnitX(EW8)+16*Cos(a)
set y=GetUnitY(EW8)+16*Sin(a)
call ER8(x,y,175)
call SetUnitX(EW8,x)
call SetUnitY(EW8,y)
set IN4=FJ8
set HX7=FJ8
set HY7=GetUnitAbilityLevel(FJ8,1093813557)
set HW7=HPD
set g=LD7()
call GroupEnumUnitsInRange(g,x,y,HU7+25,Condition(function G78))
call ForGroup(g,function H6H)
call L97(g)
if Q07(x,y,GetUnitX(FJ8),GetUnitY(FJ8))<40 then
call F28(FJ8)
call KillUnit(EW8)
call L97(HPD)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(FJ8)),(704)))==1093813557 then
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093813557,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093813848,false)
endif
endif
set t=null
set FJ8=null
set EW8=null
set HPD=null
set g=null
return false
endfunction
function H5H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local real a=Q87(GetUnitX(FJ8),GetUnitY(FJ8),x,y)*bj_DEGTORAD
local unit EW8=CreateUnit(GetOwningPlayer(FJ8),1747993683,GetUnitX(FJ8),GetUnitY(FJ8),a*bj_RADTODEG)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerRegisterUnitEvent(t,FJ8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HLH))
call SaveUnitHandle(L7,(PP7),(45),(EW8))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(6),((x)*1.0))
call SaveReal(L7,(PP7),(7),((y)*1.0))
call SaveInteger(L7,(PP7),(33),(0))
call SaveGroupHandle(L7,(PP7),(187),(LD7()))
call F08(FJ8)
call L67(FJ8,1093813848)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093813557,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(FJ8),1093813848,true)
set FJ8=null
set t=null
set EW8=null
endfunction
function H2H takes nothing returns boolean
if GetSpellAbilityId()==1093813557 then
call H5H()
endif
return false
endfunction
function V28 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function H2H))
call DX8(1093813334)
set t=null
endfunction
function Trap_RemoveBonus takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
if((LoadInteger(L7,(GetHandleId(FJ8)),(754)))==(LoadInteger(L7,(PP7),(754))))then
call H68((FJ8),(0))
endif
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set t=null
set FJ8=null
return false
endfunction
function H_H takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
set I27=I27+60
else
set I27=I27+20
endif
call UnitRemoveAbility(GetEnumUnit(),J87)
call UnitRemoveAbility(GetEnumUnit(),J97)
endfunction
function I4H takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
set I27=I27+60
else
set I27=I27+20
endif
endfunction
function I7H takes nothing returns nothing
call HU8(I_7,GetEnumUnit(),0.5+J47*0.5)
call HY8(I_7,GetEnumUnit(),ZG4,I27)
endfunction
function I8H takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),J97)>0
endfunction
function I9H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local group g=LD7()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
set I_7=FJ8
set J47=GetUnitAbilityLevel(FJ8,J77)
set I27=0
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function I8H))
call ForGroup(g,function H_H)
call ForGroup(g,function I7H)
call L97(g)
set g=null
set FJ8=null
endfunction
function IDH takes nothing returns boolean
if GetSpellAbilityId()==J77 then
call I9H()
endif
return false
endfunction
function IEH takes string EK8,unit PU7,unit LI7 returns nothing
local texttag tt=CreateTextTag()
call SetTextTagText(tt,EK8,0.033)
call SetTextTagPosUnit(tt,PU7,64)
call SetTextTagColor(tt,0,75,255,255)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,0.15)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,1.0)
if IsUnitAlly(LI7,GetLocalPlayer())or C67(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
set tt=null
endfunction
function IFH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local real FP9=(LoadReal(L7,(GetHandleId(PU7)),(753)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or FP9<(TimerGetElapsed(W))then
call UnitRemoveAbility(PU7,J87)
call UnitRemoveAbility(PU7,J97)
call SaveReal(L7,(GetHandleId(PU7)),(753),((0)*1.0))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set PU7=null
return false
endfunction
function IGH takes unit FJ8,unit PU7 returns nothing
local trigger t
local integer PP7
local group g=LD7()
call SaveReal(L7,(GetHandleId(PU7)),(753),(((TimerGetElapsed(W))+I57)*1.0))
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterDeathEvent(t,PU7)
call TriggerAddCondition(t,Condition(function IFH))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call L67(PU7,J87)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),J87,false)
set I_7=FJ8
set J47=GetUnitAbilityLevel(FJ8,J77)
set I27=0
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function I8H))
call ForGroup(g,function I4H)
call L97(g)
call IEH(I2S(I27),PU7,FJ8)
set t=null
endfunction
function IHH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
if GetEventDamageSource()==FJ8 and GetEventDamage()>0 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if EM9(PU7)==false then
call IGH(FJ8,PU7)
endif
endif
endif
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function IIH takes nothing returns nothing
local unit FJ8=GetAttacker()
local unit PU7=GetTriggerUnit()
local trigger t
local integer PP7
if UJ7(FJ8,"4325")==false then
call UU7(FJ8,"4325",0.2)
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,PU7,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function IHH))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
endif
set FJ8=null
set PU7=null
endfunction
function IJH takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),J77)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
call IIH()
endif
return false
endfunction
function W88 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IDH))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function IJH))
set t=null
endfunction
function IKH takes nothing returns nothing
local integer PP7=GetHandleId(GetTriggeringTrigger())
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit IMH=IN4
local unit PU7=IP4
local integer HW8=GetUnitAbilityLevel(FJ8,JD7)
if C37(PU7)==false then
call HY8(FJ8,PU7,ZG4,20+80*HW8)
call FV8(PU7,JE7,1,4,JF7)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),JE7,false)
call UnitMakeAbilityPermanent(PU7,true,1093815626)
endif
set FJ8=null
set PU7=null
set IMH=null
endfunction
function INH takes nothing returns nothing
local unit FJ8=JG7
local unit PU7=GetEnumUnit()
local trigger t=E68(JH7,PU7,1747993925,"IKH",600)
local integer PP7=GetHandleId(t)
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
set FJ8=null
set PU7=null
set t=null
endfunction
function IOH takes unit FJ8,unit PU7 returns nothing
local integer HW8=GetUnitAbilityLevel(FJ8,JD7)
local group g=LD7()
set IN4=FJ8
set JG7=FJ8
set JH7=PU7
call GroupEnumUnitsInRange(g,GetUnitX(PU7),GetUnitY(PU7),500+25,Condition(function G78))
call GroupRemoveUnit(g,PU7)
call ForGroup(g,function INH)
call L97(g)
set FJ8=null
set PU7=null
set g=null
endfunction
function IPH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local unit EW8=(LoadUnitHandle(L7,(PP7),(45)))
local real x=GetUnitX(EW8)
local real y=GetUnitY(EW8)
local real EX8=GetUnitX(PU7)
local real EY8=GetUnitY(PU7)
local real IQH=Q07(EX8,EY8,x,y)
local integer L48=GetTriggerEvalCount(t)
local real EA8=Q87(x,y,EX8,EY8)
local real EB8
local real EC8
local real EZ8=IQH/((JI7/.02)-L48)
if EZ8<JJ7*0.02 then
set EZ8=JJ7*0.02
endif
set EB8=x+EZ8*Cos(EA8*bj_DEGTORAD)
set EC8=y+EZ8*Sin(EA8*bj_DEGTORAD)
call SetUnitX(EW8,EB8)
call SetUnitY(EW8,EC8)
call SetUnitFacing(EW8,EA8)
if Q07(EX8,EY8,EB8,EC8)<=EZ8 then
call KillUnit(EW8)
call IOH(FJ8,PU7)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set PU7=null
set FJ8=null
set EW8=null
return false
endfunction
function IRH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit EW8=CreateUnit(GetOwningPlayer(FJ8),1747993930,GetUnitX(FJ8),GetUnitY(FJ8),0)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function IPH))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveUnitHandle(L7,(PP7),(45),(EW8))
set FJ8=null
set PU7=null
set EW8=null
set t=null
endfunction
function ISH takes nothing returns boolean
if GetSpellAbilityId()==JD7 then
call IRH()
endif
return false
endfunction
function W78 takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ISH))
set t=null
endfunction
function ITH takes nothing returns nothing
call HU8(HZ7,GetEnumUnit(),1.5)
call HY8(HZ7,GetEnumUnit(),2,50+50*HA7)
endfunction
function IUH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local real a=(LoadReal(L7,(PP7),(137)))
local real EX8=(LoadReal(L7,(PP7),(47)))
local real EY8=(LoadReal(L7,(PP7),(48)))
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local group g=LD7()
local integer HW8=GetUnitAbilityLevel(FJ8,1093813812)
set x=DT8(x+32*Cos(a))
set y=DU8(y+32*Sin(a))
if Q07(x,y,EX8,EY8)<40 then
set x=EX8
set y=EY8
endif
call SetUnitX(FJ8,x)
call SetUnitY(FJ8,y)
call SetUnitFacing(FJ8,a*bj_RADTODEG)
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,125+25,Condition(function G78))
if FirstOfGroup(g)!=null or(x==EX8 and y==EY8)or GetTriggerEvalCount(t)>200 or GetTriggerEventId()==EVENT_WIDGET_DEATH then
call DestroyEffect(AddSpecialEffect("war3mapImported\\BlackDragonMissile.mdx",x,y))
call GroupEnumUnitsInRange(g,x,y,300+25,Condition(function G78))
set HA7=HW8
set HZ7=FJ8
if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
call ForGroup(g,function ITH)
endif
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
call L97(g)
set t=null
set FJ8=null
set g=null
return false
endfunction
function IVH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local real EX8=GetSpellTargetX()
local real EY8=GetSpellTargetY()
local real a=Q87(x,y,EX8,EY8)*bj_DEGTORAD
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,FJ8)
call TriggerAddCondition(t,Condition(function IUH))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveReal(L7,(PP7),(137),((a)*1.0))
call SaveReal(L7,(PP7),(47),((EX8)*1.0))
call SaveReal(L7,(PP7),(48),((EY8)*1.0))
set FJ8=null
set t=null
endfunction
function IWH takes nothing returns boolean
if GetSpellAbilityId()==1093813812 then
call IVH()
endif
return false
endfunction
function Register_SonicBoom takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IWH))
set t=null
endfunction
function IXH takes nothing returns nothing
local unit FJ8=HB7
local unit PU7=GetEnumUnit()
call FR8(PU7,1093813811,1,10)
call HY8(FJ8,PU7,2,50*HC7+2*GetHeroAgi(FJ8,true))
set FJ8=null
set PU7=null
endfunction
function IYH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local real IZH=D58((TimerGetElapsed(W))-(LoadReal(L7,(GetHandleId(FJ8)),(358))),5.0)
local integer HW8=GetUnitAbilityLevel(FJ8,1093813573)
local real CV9=(40+80*HW8)*(IZH)
local group g=LD7()
local real d=IZH*600
local real a=(LoadReal(L7,(GetHandleId(FJ8)),(736)))
local real x=GetUnitX(FJ8)+d*Cos(a)
local real y=GetUnitY(FJ8)+d*Sin(a)
set IN4=FJ8
call GroupEnumUnitsInRange(g,x,y,325,Condition(function G78))
set HC7=HW8
set HB7=FJ8
call ForGroup(g,function IXH)
call L97(g)
call EF8("effects\\BasicWaterFlash.mdx",x,y,1)
set FJ8=null
set g=null
endfunction
function IAH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit LI7=(LoadUnitHandle(L7,(PP7),(14)))
call SetUnitTimeScale(LI7,1)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if GetTriggerEventId()!=EVENT_UNIT_DEATH then
call RG7(LI7)
endif
set t=null
set LI7=null
return false
endfunction
function IBH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit LI7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Q87(GetUnitX(LI7),GetUnitY(LI7),x,y)*bj_DEGTORAD
local real G59=RMaxBJ(Q07(GetUnitX(LI7),GetUnitY(LI7),x,y)/600,0.32)
call RemoveLocation(l)
call SaveReal(L7,(GetHandleId(LI7)),(356),((x)*1.0))
call SaveReal(L7,(GetHandleId(LI7)),(357),((y)*1.0))
call SaveReal(L7,(GetHandleId(LI7)),(736),((a)*1.0))
call SaveReal(L7,(GetHandleId(LI7)),(358),(((TimerGetElapsed(W)))*1.0))
call SetUnitTimeScale(LI7,0.75)
call SaveUnitHandle(L7,(PP7),(14),(LI7))
call TriggerRegisterTimerEvent(t,G59-0.01,false)
call TriggerRegisterUnitEvent(t,LI7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function IAH))
set t=null
set l=null
set LI7=null
endfunction
function ICH takes nothing returns boolean
if GetSpellAbilityId()==1093813573 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call SaveBoolean(L7,(GetHandleId(GetTriggerUnit())),(360),(false))
call IBH()
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call SaveBoolean(L7,(GetHandleId(GetTriggerUnit())),(360),(true))
elseif(LoadBoolean(L7,(GetHandleId(GetTriggerUnit())),(360)))==true then
call IYH()
endif
endif
return false
endfunction
function Register_WindBlast takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ICH))
set t=null
endfunction
function I3H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
if GetUnitAbilityLevel(FJ8,1110456374)==0 and GetUnitAbilityLevel(FJ8,1110456375)==0 then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call UnitRemoveAbility(FJ8,1093813810)
call UnitRemoveAbility(FJ8,1110459959)
endif
set t=null
set FJ8=null
return false
endfunction
function I6H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=GetSpellTargetUnit()
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093813810,false)
call L67(PU7,1093813810)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function I3H))
call SaveUnitHandle(L7,(PP7),(2),(PU7))
set FJ8=null
set t=null
endfunction
function ILH takes nothing returns boolean
if GetSpellAbilityId()==1093813808 then
call I6H()
endif
return false
endfunction
function Register_WindBarrier takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ILH))
set t=null
endfunction
function I1H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=GetUnitAbilityLevel(FJ8,1093813813)
local integer id
local integer I0H
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
if IsUnitAlly(PU7,GetOwningPlayer(FJ8))==true then
set I0H=1110459960
if HW8==1 then
set id=1093813831
elseif HW8==2 then
set id=1093813830
elseif HW8==3 then
set id=1093813832
endif
call SetUnitState(PU7,UNIT_STATE_LIFE,GetUnitState(PU7,UNIT_STATE_LIFE)+100+50*HW8)
else
set I0H=1110459961
if HW8==1 then
set id=1093813828
elseif HW8==2 then
set id=1093813827
elseif HW8==3 then
set id=1093813829
endif
call HY8(FJ8,PU7,1,100+50*HW8)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),id,false)
call FV8(PU7,id,1,4,I0H)
set t=null
set FJ8=null
set PU7=null
return false
endfunction
function I5H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetEnumUnit()
local unit HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call ET9(PU7)
call EQ9(PU7,0,0)
call UnitAddAbility(HV8,1093813833)
call IssueTargetOrder(HV8,"cyclone",PU7)
call TriggerRegisterTimerEvent(t,4,false)
call TriggerAddCondition(t,Condition(function I1H))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
set t=null
set FJ8=null
set PU7=null
set HV8=null
endfunction
function I2H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local real EX8=GetSpellTargetX()
local real EY8=GetSpellTargetY()
local group g=LD7()
call EV8(GetOwningPlayer(FJ8),4,EX8,EY8,300)
call GroupEnumUnitsInRange(g,EX8,EY8,400+25,Condition(function FY8))
call ForGroup(g,function I5H)
call L97(g)
set FJ8=null
set g=null
endfunction
function I_H takes nothing returns boolean
if GetSpellAbilityId()==1093813813 then
call I2H()
endif
return false
endfunction
function Register_PrevailingWinds takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function I_H))
set t=null
endfunction
function J4H takes nothing returns nothing
local integer PP7=GetHandleId(GetTriggeringTrigger())
local unit FJ8=IN4
local unit PU7=IP4
local unit HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
local real CV9=GetUnitAbilityLevel(FJ8,1093813844)*60+40
call UnitAddAbility(HV8,1093813845)
call IssueTargetOrder(HV8,"ensnare",PU7)
call HY8(FJ8,PU7,1,CV9)
set HV8=null
set FJ8=null
set PU7=null
endfunction
function J7H takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local group g=LD7()
local real x=GetUnitX(FJ8)
local real y=GetUnitY(FJ8)
local unit u1=null
local unit u2=null
local unit u3=null
local integer YF7=0
local unit u
local trigger t
call GroupEnumUnitsInRange(g,x,y,425,Condition(function GQ8))
loop
exitwhen FirstOfGroup(g)==null or YF7==3
set u=GroupPickRandomUnit(g)
if u!=null then
if YF7==0 then
set u1=u
elseif YF7==1 then
set u2=u
elseif YF7==2 then
set u3=u
endif
set YF7=YF7+1
call GroupRemoveUnit(g,u)
endif
endloop
call L97(g)
if u1!=null then
call E68(FJ8,u1,1747993690,"J4H",400)
endif
if u2!=null then
call E68(FJ8,u2,1747993690,"J4H",400)
endif
if u3!=null then
call E68(FJ8,u3,1747993690,"J4H",400)
endif
set g=null
set FJ8=null
set u=null
set u1=null
set u2=null
set u3=null
endfunction
function J8H takes nothing returns boolean
if GetSpellAbilityId()==1093813844 then
call J7H()
endif
return false
endfunction
function Register_HolyShackles takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function J8H))
set t=null
endfunction
function J9H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local integer AD9=(LoadInteger(L7,(PP7),(30)))
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer L48=(LoadInteger(L7,(GetHandleId(FJ8)),(737)))
local trigger JDH=(LoadTriggerHandle(L7,(GetHandleId(FJ8)),(738)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==FJ8 then
call DisableTrigger(t)
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
set L48=L48-1
if L48==0 then
call FlushChildHashtable(L7,(GetHandleId(JDH)))
call UQ7(JDH)
call RemoveSavedHandle(L7,(GetHandleId(FJ8)),(738))
call SaveInteger(L7,(GetHandleId(FJ8)),(737),(-1))
call UnitRemoveAbility(FJ8,1093813838)
call UnitRemoveAbility(FJ8,1110459969)
else
call SaveInteger(L7,(GetHandleId(FJ8)),(737),(L48))
endif
endif
else
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
endif
set t=null
set PU7=null
set FJ8=null
set JDH=null
return false
endfunction
function JEH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit FJ8=(LoadUnitHandle(L7,(PP7),(2)))
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED then
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
call RemoveSavedHandle(L7,(GetHandleId(FJ8)),(738))
call SaveInteger(L7,(GetHandleId(FJ8)),(737),(-1))
call UnitRemoveAbility(FJ8,1093813838)
call UnitRemoveAbility(FJ8,1110459969)
elseif GetAttacker()==FJ8 then
set t=CreateTrigger()
set PP7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2,false)
call TriggerAddCondition(t,Condition(function J9H))
call SaveUnitHandle(L7,(PP7),(2),(FJ8))
call SaveUnitHandle(L7,(PP7),(17),(GetTriggerUnit()))
endif
set t=null
set FJ8=null
return false
endfunction
function JFH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call SetPlayerAbilityAvailable(GetOwningPlayer(PU7),1093813838,false)
call L67(PU7,1093813838)
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterTimerEvent(t,12,false)
call TriggerAddCondition(t,Condition(function JEH))
call SaveUnitHandle(L7,(PP7),(2),(PU7))
call SaveInteger(L7,(GetHandleId(PU7)),(737),(GetUnitAbilityLevel(FJ8,1093813841)+1))
call SaveTriggerHandle(L7,(GetHandleId(PU7)),(738),(t))
set PU7=null
set t=null
set FJ8=null
endfunction
function JGH takes nothing returns boolean
if GetSpellAbilityId()==1093813841 then
call JFH()
endif
return false
endfunction
function Register_Focus takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JGH))
set t=null
endfunction
function JHH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer PP7=GetHandleId(t)
local unit PU7=(LoadUnitHandle(L7,(PP7),(17)))
local integer HW8=(LoadInteger(L7,(PP7),(5)))
local unit HV8
if GetTriggerEvalCount(t)==1 then
set HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
call UnitAddAbility(HV8,1093813847)
call IssueTargetOrder(HV8,"doom",PU7)
endif
if(HW8+3)*10<GetTriggerEvalCount(t)then
call UnitRemoveAbility(PU7,1110459974)
call UnitRemoveAbility(PU7,1098282348)
call UnitRemoveAbility(PU7,1093678162)
call UnitRemoveAbility(PU7,1096971630)
call DestroyEffect((LoadEffectHandle(L7,(PP7),(32))))
call FlushChildHashtable(L7,(PP7))
call UQ7(t)
else
call ET9(PU7)
call EQ9(PU7,0,0)
endif
set t=null
set PU7=null
return false
endfunction
function JIH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer PP7=GetHandleId(t)
call L67(PU7,1098282348)
call L67(PU7,1096971630)
call L67(PU7,1093678162)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function JHH))
call SaveInteger(L7,(PP7),(5),(GetUnitAbilityLevel(FJ8,1093813836)))
call SaveUnitHandle(L7,(PP7),(17),(PU7))
call SaveEffectHandle(L7,(PP7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DivineShield\\DivineShieldTarget.mdl",PU7,"origin")))
call ET9(PU7)
call EQ9(PU7,0,0)
set t=null
set PU7=null
set FJ8=null
endfunction
function JJH takes nothing returns boolean
if GetSpellAbilityId()==1093813836 then
call JIH()
endif
return false
endfunction
function Register_DivineIntervention takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JJH))
set t=null
endfunction
function JKH takes nothing returns nothing
local unit FJ8=GetTriggerUnit()
local unit PU7=GetSpellTargetUnit()
local unit HV8=CreateUnit(GetOwningPlayer(PU7),1697656901,GetUnitX(PU7),GetUnitY(PU7),0)
local integer HW8=GetUnitAbilityLevel(FJ8,1093813583)
call UnitAddAbility(HV8,1093813584)
call IssuePointOrder(HV8,"silence",GetUnitX(PU7),GetUnitY(PU7))
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FrozenOrb_NoTrail.mdx",PU7,"chest"))
call HY8(FJ8,PU7,1,HW8*75)
set FJ8=null
set HV8=null
set PU7=null
endfunction
function JMH takes nothing returns boolean
if GetSpellAbilityId()==1093813583 then
call JKH()
endif
return false
endfunction
function Register_Chill takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JMH))
set t=null
endfunction
function InitCustomTeams takes nothing returns nothing
call SetPlayerTeam(Player(1),0)
call SetPlayerTeam(Player(2),0)
call SetPlayerTeam(Player(3),0)
call SetPlayerTeam(Player(4),0)
call SetPlayerTeam(Player(5),0)
call SetPlayerTeam(Player(7),1)
call SetPlayerTeam(Player(8),1)
call SetPlayerTeam(Player(9),1)
call SetPlayerTeam(Player(10),1)
call SetPlayerTeam(Player(11),1)
endfunction
function JNH takes string JOH,string JPH,integer JQH returns integer
local integer i=JQH
local string JRH=null
set EZ7="Custom_StrIndexOf"
loop
exitwhen i==StringLength(JOH)
set JRH=SubString(JOH,i,i+1)
if(JRH==JPH)then
return i
endif
set i=i+1
endloop
return-1
endfunction
function JSH takes nothing returns nothing
local string JTH=GetEventPlayerChatString()
local integer JUH=JNH(JTH," ",0)
local integer JVH=JNH(JTH," ",JUH+1)
local integer JWH=S2I(SubString(JTH,JUH,JVH+1))
local string JXH=SubString(JTH,JVH+1,StringLength(JTH))
local boolean JYH=false
local integer i=0
set EZ7="JSH"
set JXH="+"+JXH
if JWH<12 then
loop
exitwhen i==14
if(JXH==GetPlayerName(Player(i)))then
set JYH=true
endif
set i=i+1
endloop
if((not JYH)and(UG4>0)and(GetPlayerController(Player(JWH))==MAP_CONTROL_COMPUTER)and(JWH!=0)and(JWH!=6)and(JWH<12)and(StringLength(JXH)<20))then
set KZ4[JWH]=JXH
call SetPlayerName(Player(JWH),JXH)
set UG4=UG4-1
endif
endif
endfunction
function JZH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer i=0
set EZ7="JZH"
loop
exitwhen i==14
call TriggerRegisterPlayerChatEvent(t,Player(i),"-rn ",false)
set i=i+1
endloop
call TriggerAddAction(t,function JSH)
set t=null
endfunction
function JAH takes nothing returns nothing
set XE4=CreateRegion()
call RegionAddRect(XE4,OD)
set XF4=CreateRegion()
call RegionAddRect(XF4,PD)
set XG4=CreateRegion()
call RegionAddRect(XG4,WD)
call RegionAddRect(XG4,XD)
call RegionAddRect(XG4,YD)
set XH4=CreateRegion()
call RegionAddRect(XH4,ZD)
call RegionAddRect(XH4,AD)
call RegionAddRect(XH4,BD)
set IU4=CreateRegion()
call RegionAddRect(IU4,LD)
call RegionAddRect(IU4,KE)
call RegionAddRect(IU4,RE)
call RegionAddRect(IU4,SE)
call RegionAddRect(IU4,TE)
call RegionAddRect(IU4,WE)
call RegionAddRect(IU4,YE)
call RegionAddRect(IU4,ZE)
call RegionAddRect(IU4,EF)
call RegionAddRect(IU4,FF)
call RegionAddRect(IU4,GF)
call RegionAddRect(IU4,HF)
call RegionAddRect(IU4,JF)
call RegionAddRect(IU4,KF)
call RegionAddRect(IU4,MF)
call RegionAddRect(IU4,NF)
call RegionAddRect(IU4,OF)
call RegionAddRect(IU4,PF)
call RegionAddRect(IU4,QF)
call RegionAddRect(IU4,RF)
call RegionAddRect(IU4,SF)
call RegionAddRect(IU4,TF)
call RegionAddRect(IU4,UF)
call RegionAddRect(IU4,WF)
call RegionAddRect(IU4,XF)
call RegionAddRect(IU4,YF)
call RegionAddRect(IU4,ZF)
call RegionAddRect(IU4,BF)
call RegionAddRect(IU4,CF)
call RegionAddRect(IU4,LF)
call RegionAddRect(IU4,DG)
call RegionAddRect(IU4,EG)
call RegionAddRect(IU4,FG)
call RegionAddRect(IU4,GG)
call RegionAddRect(IU4,JG)
call RegionAddRect(IU4,MG)
call RegionAddRect(IU4,OG)
call RegionAddRect(IU4,PG)
call RegionAddRect(IU4,QG)
call RegionAddRect(IU4,RG)
call RegionAddRect(IU4,SG)
call RegionAddRect(IU4,TG)
call RegionAddRect(IU4,UG)
call RegionAddRect(IU4,VG)
call RegionAddRect(IU4,WG)
call RegionAddRect(IU4,XG)
call RegionAddRect(IU4,ZG)
call RegionAddRect(IU4,AG)
call RegionAddRect(IU4,BG)
call RegionAddRect(IU4,CG)
call RegionAddRect(IU4,LG)
call RegionAddRect(IU4,DH)
call RegionAddRect(IU4,EH)
call RegionAddRect(IU4,HH)
call RegionAddRect(IU4,OH)
call RegionAddRect(IU4,PH)
call RegionAddRect(IU4,QH)
call RegionAddRect(IU4,RH)
call RegionAddRect(IU4,TH)
call RegionAddRect(IU4,UH)
call RegionAddRect(IU4,WH)
call RegionAddRect(IU4,XH)
call RegionAddRect(IU4,YH)
call RegionAddRect(IU4,ZH)
call RegionAddRect(IU4,AH)
call RegionAddRect(IU4,CH)
call RegionAddRect(IU4,DI)
call RegionAddRect(IU4,EI)
call RegionAddRect(IU4,GI)
call RegionAddRect(IU4,HI)
call RegionAddRect(IU4,II)
call RegionAddRect(IU4,JI)
call RegionAddRect(IU4,NI)
call RegionAddRect(IU4,PI)
call RegionAddRect(IU4,SI)
call RegionAddRect(IU4,TI)
call RegionAddRect(IU4,UI)
call RegionAddRect(IU4,WI)
call RegionAddRect(IU4,XI)
call RegionAddRect(IU4,YI)
call RegionAddRect(IU4,BI)
call RegionAddRect(IU4,CI)
call RegionAddRect(IU4,LI)
call RegionAddRect(IU4,TJ)
call RegionAddRect(IU4,MK)
call RegionAddRect(IU4,UK)
call RegionAddRect(IU4,YK)
call RegionAddRect(IU4,SM)
call RegionAddRect(IU4,TM)
call RegionAddRect(IU4,UM)
call RegionAddRect(IU4,WM)
call RegionAddRect(IU4,YM)
call RegionAddRect(IU4,ZM)
call RegionAddRect(IU4,JN)
call RegionAddRect(IU4,MN)
endfunction
function JBH takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="JBH"
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(t,Condition(function F1G))
set t=null
endfunction
function JCH takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="JCH"
call TriggerAddCondition(t,Condition(function F0G))
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
set XN4=t
set t=null
endfunction
function J3H takes nothing returns nothing
local trigger t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t,Condition(function JHG))
set t=null
endfunction
function J6H takes nothing returns nothing
local trigger t=CreateTrigger()
set EZ7="J6H"
call TriggerRegisterTimerEvent(t,14.,false)
call TriggerAddCondition(t,Condition(function Y69))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,15.,false)
call TriggerAddCondition(t,Condition(function YC9))
set t=null
endfunction
function JLH takes nothing returns nothing
set XI4=CreateTrigger()
call TriggerRegisterTimerEventSingle(XI4,65.00)
call TriggerAddAction(XI4,function YL9)
endfunction
function J1H takes nothing returns nothing
set XJ4=CreateTrigger()
call TriggerRegisterTimerEventSingle(XJ4,90.00)
call TriggerAddAction(XJ4,function Y19)
endfunction
function J0H takes nothing returns nothing
set H54=CreateTrigger()
call TriggerRegisterTimerEventSingle(H54,120.00)
call TriggerAddAction(H54,function Y09)
endfunction
function J5H takes nothing returns nothing
local location JV9
set EZ7="J5H"
set JV9=GetRectCenter(ND)
set V4=CreateUnitAtLoc(Player(12),1848651852,JV9,bj_UNIT_FACING)
call SetUnitAcquireRange(V4,150)
call RemoveLocation(JV9)
call UnitAddItem(V4,CreateItem(ZU[X0],0,0))
call UnitAddAbility(V4,1093743666)
set JV9=GetRectCenter(Br)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,JV9,0))
call RemoveLocation(JV9)
set JV9=GetRectCenter(cr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,JV9,0))
call RemoveLocation(JV9)
set JV9=GetRectCenter(Cr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,JV9,0))
call RemoveLocation(JV9)
set JV9=GetRectCenter(fr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,JV9,0))
call RemoveLocation(JV9)
set JV9=GetRectCenter(Fr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,JV9,0))
call RemoveLocation(JV9)
set JV9=GetRectCenter(Hr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,JV9,0))
call RemoveLocation(JV9)
set JV9=GetRectCenter(jr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,JV9,0))
call RemoveLocation(JV9)
set JV9=GetRectCenter(Jr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,JV9,0))
call RemoveLocation(JV9)
set JV9=GetRectCenter(lr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,JV9,0))
call RemoveLocation(JV9)
set JV9=GetRectCenter(mr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,JV9,0))
call RemoveLocation(JV9)
set JV9=GetRectCenter(Ni)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,JV9,0))
call RemoveLocation(JV9)
set JV9=GetRectCenter(Bi)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,JV9,0))
call RemoveLocation(JV9)
set JV9=null
endfunction
function aiAutoInitDEDG takes nothing returns nothing
if not LT then
call VY9()
endif
if not WT then
call VZ9()
endif
endfunction
function XK9 takes nothing returns nothing
local integer O5=1
local integer MK9=0
local integer MM9=0
local boolean J2H=false
local boolean J_H=false
local trigger t=null
set EZ7="XK9"
call DestroyTrigger(GetTriggeringTrigger())
set G77=GetObjectName(1496396339)
set GD7=F27+GetObjectName(1496396340)
set G87=DA7+GetObjectName(1496396341)
set G97=DB7+GetObjectName(1496396342)
if LO4 then
return
endif
set O5=1
loop
exitwhen(O5>5 or(Z44!=null and Z74!=null))
if(GetPlayerSlotState(Z7[O5])==PLAYER_SLOT_STATE_PLAYING)and Z44==null then
set Z44=Z7[O5]
endif
if(GetPlayerSlotState(A7[O5])==PLAYER_SLOT_STATE_PLAYING)and Z74==null then
set Z74=A7[O5]
endif
set O5=O5+1
endloop
set O5=1
loop
exitwhen O5>5
if AK7(Z7[O5])then
if(MK9<3)then
set eY[64+GetPlayerId(Z7[O5])]=MK9
elseif(MK9==3)then
set eY[64+GetPlayerId(Z7[O5])]=0
else
set eY[64+GetPlayerId(Z7[O5])]=GetRandomInt(1,2)
endif
call ForceAddPlayer(QX4,Z7[O5])
set QY4[GetPlayerId(Z7[O5])]=true
set MK9=MK9+1
set J2H=true
endif
if AK7(A7[O5])then
if(MM9<3)then
if MM9==1 then
set eY[64+GetPlayerId(A7[O5])]=2
elseif MM9==2 then
set eY[64+GetPlayerId(A7[O5])]=1
else
set eY[64+GetPlayerId(A7[O5])]=MM9
endif
elseif(MM9==3)then
set eY[64+GetPlayerId(A7[O5])]=0
else
set eY[64+GetPlayerId(A7[O5])]=GetRandomInt(1,2)
endif
call ForceAddPlayer(QX4,A7[O5])
set QY4[GetPlayerId(A7[O5])]=true
set MM9=MM9+1
set J_H=true
endif
set O5=O5+1
endloop
set O5=1
loop
exitwhen O5>5
if(AK7(Z7[O5]))then
call YPF(Z7[O5],MK9)
endif
if(AK7(A7[O5]))then
call YPF(A7[O5],MM9)
endif
set O5=O5+1
endloop
if((J2H)or(J_H))then
set O5=1
loop
exitwhen O5>5
if AK7(Z7[O5])then
call YOF(Z7[O5])
endif
if AK7(A7[O5])then
call YOF(A7[O5])
endif
set O5=O5+1
endloop
set O5=1
loop
exitwhen O5>5
if(AJ7(Z7[O5]))then
set QT4=Z7[O5]
if(J2H)then
call DisplayTimedTextToForce(X7,10.,Q[GetPlayerId(QT4)]+GetPlayerName(QT4)+GetObjectName(1496331828)+Q[0]+GetPlayerName(Z7[0])+"|r")
call DisplayTimedTextToPlayer(QT4,0,0,10.,GetObjectName(1496331833))
call S99(QT4)
else
set FN7=false
endif
exitwhen true
endif
set O5=O5+1
endloop
set O5=1
loop
exitwhen O5>5
if(AJ7(A7[O5]))then
set QU4=A7[O5]
if(J_H)then
call DisplayTimedTextToForce(Y7,10.,Q[GetPlayerId(QU4)]+GetPlayerName(QU4)+GetObjectName(1496331828)+Q[6]+GetPlayerName(A7[0])+"|r")
call DisplayTimedTextToPlayer(QU4,0,0,10.,GetObjectName(1496331833))
call S99(QU4)
else
set FO7=false
endif
exitwhen true
endif
set O5=O5+1
endloop
if(J2H and QT4==null and QU4!=null)then
call DisplayTimedTextToPlayer(QU4,0,0,10.,GetObjectName(1496331832))
endif
if(J_H and QT4!=null and QU4==null)then
call DisplayTimedTextToPlayer(QT4,0,0,10.,GetObjectName(1496331832))
endif
set DV7=CreateTrigger()
call YQF(DV7,true,J2H,J_H)
call TriggerAddAction(DV7,function XPF)
set DW7=CreateTrigger()
call YQF(DW7,false,J_H,J2H)
call TriggerAddAction(DW7,function XPF)
call TriggerAddAction(QA4,function D2F)
if((not D4)and(not RZ4)and(not A8)and(not P74)and(not P84)and(not H34)and(not O9)and(not O04)and(not W8)and(not SN4))then
set t=CreateTrigger()
if(QT4!=null)then
call TriggerRegisterPlayerChatEvent(t,QT4,"-airepick",false)
call DisplayTimedTextToPlayer(QT4,0,0,10.,GetObjectName(1496396343)+F27+"-airepick|r")
endif
if(QU4!=null)then
call TriggerRegisterPlayerChatEvent(t,QU4,"-airepick",false)
call DisplayTimedTextToPlayer(QU4,0,0,10.,GetObjectName(1496396343)+F27+"-airepick|r")
endif
call TriggerAddAction(t,function D5F)
endif
if(QT4!=null)then
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,QT4,"-aigrant",false)
call TriggerAddAction(t,function YVF)
endif
if(QU4!=null)then
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,QU4,"-aigrant",false)
call TriggerAddAction(t,function YVF)
endif
set t=CreateTrigger()
call TriggerAddAction(t,function D5F)
call DisplayTimedTextToPlayer(QT4,0,0,10.," ")
call DisplayTimedTextToPlayer(QU4,0,0,10.," ")
if(TL4)then
set T14[1]=ZU[F5]
set T14[2]=ZU[G5]
set T14[3]=ZU[J5]
set T14[4]=ZU[M5]
set T14[5]=ZU[N5]
set T04[1]=180.
set T04[2]=160.
set T04[3]=140.
set T04[4]=120.
set T04[5]=100.
endif
call I1F()
set Q64=CreateTrigger()
call TriggerRegisterUnitInRange(Q64,JA4,6000.,null)
call TriggerRegisterUnitInRange(Q64,J34,1500.,null)
call TriggerAddCondition(Q64,Condition(function JLF))
call DisableTrigger(Q64)
set Q14=CreateTrigger()
call TriggerRegisterTimerEvent(Q14,5.,true)
call TriggerAddCondition(Q14,Condition(function J1F))
call DisableTrigger(Q14)
set Q34=CreateTrigger()
call TriggerRegisterUnitInRange(Q34,IZ4,6000.,null)
call TriggerRegisterUnitInRange(Q34,JF4,1500.,null)
call TriggerAddCondition(Q34,Condition(function J0F))
call DisableTrigger(Q34)
set QL4=CreateTrigger()
call TriggerRegisterTimerEvent(QL4,5.,true)
call TriggerAddCondition(QL4,Condition(function J5F))
call DisableTrigger(QL4)
set EL7[0]=GetUnitX(IZ4)
set EL7[1]=GetUnitY(IZ4)
set EL7[2]=(GetUnitX(JF4)+GetUnitX(JQ4)+GetUnitX(JR4))/3
set EL7[3]=(GetUnitY(JF4)+GetUnitY(JQ4)+GetUnitY(JR4))/3
set EL7[4]=(GetUnitX(JG4)+GetUnitX(JS4)+GetUnitX(JV4))/3
set EL7[5]=(GetUnitY(JG4)+GetUnitY(JS4)+GetUnitY(JV4))/3
set EL7[6]=(GetUnitX(JH4)+GetUnitX(JT4)+GetUnitX(JW4))/3
set EL7[7]=(GetUnitY(JH4)+GetUnitY(JT4)+GetUnitY(JW4))/3
set EL7[8]=(GetUnitX(JI4)+GetUnitX(JU4)+GetUnitX(JX4))/3
set EL7[9]=(GetUnitY(JI4)+GetUnitY(JU4)+GetUnitY(JX4))/3
set EL7[24]=GetUnitX(JA4)
set EL7[25]=GetUnitY(JA4)
set EL7[26]=(GetUnitX(J34)+GetUnitX(K84)+GetUnitX(K94))/3
set EL7[27]=(GetUnitY(J34)+GetUnitY(K84)+GetUnitY(K94))/3
set EL7[28]=(GetUnitX(J64)+GetUnitX(KD4)+GetUnitX(KG4))/3
set EL7[29]=(GetUnitY(J64)+GetUnitY(KD4)+GetUnitY(KG4))/3
set EL7[30]=(GetUnitX(JL4)+GetUnitX(KE4)+GetUnitX(KH4))/3
set EL7[31]=(GetUnitY(JL4)+GetUnitY(KE4)+GetUnitY(KH4))/3
set EL7[32]=(GetUnitX(J14)+GetUnitX(KF4)+GetUnitX(KI4))/3
set EL7[33]=(GetUnitY(J14)+GetUnitY(KF4)+GetUnitY(KI4))/3
set O5=0
loop
exitwhen O5>23
set E67[O5]=null
set E67[24+O5]=null
set O5=O5+1
endloop
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,JA4,1200.,Q24)
call TriggerAddCondition(t,Condition(function NIF))
call TriggerAddAction(t,function NMF)
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,IZ4,1200.,Q24)
call TriggerAddCondition(t,Condition(function NJF))
call TriggerAddAction(t,function NMF)
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)
call TriggerAddCondition(t,Condition(function UPF))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,45.,false)
call TriggerAddAction(t,function YUF)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,20.,false)
call TriggerAddCondition(t,Condition(function UM9))
set O5=1
loop
if(IsPlayerInForce(Player(O5),QX4))then
set NR7[NS7+O5]=Location(0,0)
set NR7[NT7+O5]=Location(0,0)
set Q04[O5]=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(Q04[O5],Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,Q24)
call TriggerRegisterPlayerUnitEvent(Q04[O5],Player(O5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Q24)
call TriggerAddCondition(Q04[O5],Condition(function TPF))
call TriggerAddAction(Q04[O5],function TQF)
set Q04[16+O5]=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(Q04[16+O5],Player(O5),EVENT_PLAYER_UNIT_ISSUED_ORDER,Q24)
call TriggerAddCondition(Q04[16+O5],Condition(function TPF))
call TriggerAddAction(Q04[16+O5],function TVF)
set Q04[96+O5]=CreateTrigger()
call DisableTrigger(Q04[96+O5])
call TriggerRegisterTimerEvent(Q04[96+O5],0.2,true)
call TriggerAddCondition(Q04[96+O5],Condition(function VP7))
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function NGF))
call TriggerAddAction(t,function NHF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function NNF))
call TriggerAddAction(t,function NOF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,Q24)
call TriggerAddCondition(t,Condition(function KWF))
call TriggerAddAction(t,function KXF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_USE_ITEM,Q24)
call TriggerAddCondition(t,Condition(function ZH7))
call TriggerAddAction(t,function TWF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function UGF))
call TriggerAddAction(t,function UHF)
endif
if(GetPlayerSlotState(Player(O5))==PLAYER_SLOT_STATE_PLAYING)then
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,Q24)
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Q24)
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_ORDER,Q24)
call TriggerAddCondition(t,Condition(function TOF))
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_DEATH,Q24)
call TriggerAddCondition(t,Condition(function NFF))
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function NQF))
call TriggerAddAction(t,function NXF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,Q24)
call TriggerAddCondition(t,Condition(function NYF))
call TriggerAddAction(t,function NZF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,Q24)
call TriggerAddCondition(t,Condition(function ZI7))
call TriggerAddAction(t,function T3F)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_FINISH,Q24)
call TriggerAddCondition(t,Condition(function ZI7))
call TriggerAddAction(t,function T1F)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,Q24)
call TriggerAddCondition(t,Condition(function ZI7))
call TriggerAddAction(t,function T5F)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,Q24)
call TriggerAddCondition(t,Condition(function UFF))
call TriggerAddAction(t,function UHF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_CAST,Q24)
call TriggerAddCondition(t,Condition(function VHF))
call TriggerAddAction(t,function WWF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_ENDCAST,Q24)
call TriggerAddAction(t,function WYF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,Q24)
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Q24)
call TriggerAddCondition(t,Condition(function TTF))
call TriggerAddAction(t,function TUF)
if GetPlayerController(Player(O5))==MAP_CONTROL_USER and(not SN4)then
call X99(Player(O5),true)
call XD9(Player(O5),true)
endif
endif
set O5=O5+1
exitwhen O5>11
endloop
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function NCF))
call TriggerAddAction(t,function N1F)
call OVF()
call OAF()
set t=CreateTrigger()
call B6(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function T2F))
call TriggerAddAction(t,function UDF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_DEATH,Q24)
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_DEATH,Q24)
call TriggerAddCondition(t,Condition(function N0F))
set t=CreateTrigger()
call c6(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerRegisterPlayerUnitEvent(t,Player(12),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function T2F))
call TriggerAddAction(t,function UDF)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,200.,false)
call TriggerAddAction(t,function YNF)
set GX7=CreateTrigger()
call TriggerRegisterTimerEvent(GX7,9.,true)
call TriggerAddAction(GX7,function XTF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,B7,EVENT_PLAYER_UNIT_DEATH,Condition(function A47))
call TriggerAddAction(t,function P8F)
call OQ7()
set PZ4=true
set PA4=true
if(((S27(true)==1)and(S27(false)>2))or((S27(true)==2)and(S27(false)==5)))then
set PC4=10
else
set PC4=GetRandomInt(11,15)
endif
if(((S27(false)==1)and(S27(true)>2))or((S27(false)==2)and(S27(true)==5)))then
set PB4=10
else
set PB4=GetRandomInt(11,15)
endif
if(R4)then
call CG7(bj_FORCE_ALL_PLAYERS,30.,"
The AI has a system that enables them to simulate Item Drop Mode
They keep a duplicate of dropped items in exchange for their gold")
endif
else
call DestroyTrigger(HK)
call DestroyTrigger(QZ4)
call DestroyTrigger(HN)
call DestroyTrigger(Ho)
call DestroyTrigger(QA4)
set QA4=null
call DestroyTrigger(Hn)
call DestroyTrigger(QB4)
call ForceClear(QX4)
endif
if(not C4)then
call DestroyTrigger(OS)
endif
if(not AT)then
call DestroyTrigger(QC4)
endif
call DX8(1093678665)
call DX8(1093677645)
call DX8(1093750089)
if HB4!=0 then
set EG7=5/I2R(HB4)
endif
if HC4!=0 then
set EH7=5/I2R(HC4)
endif
call ExecuteFunc("YQ7")
set t=null
endfunction
function main takes nothing returns nothing
local weathereffect we
local integer i
local player p
local unit u
local integer unitID
local trigger t
local real life
local integer EP8
local integer K4H
local version K7H
local integer E8G
local real K8H
local real K9H
local real KDH
local real KEH
local real KFH
local real KGH
local real KHH
local real KIH
local real KJH
local real KKH
local real KMH
local real KNH
local real KOH
local real KPH
local real KQH
local real KRH
local real KSH
local real KTH
local real KUH
local real KVH
local integer JH8
local player j8
local real KWH
local real KXH
local real KYH
local real KZH
local real KAH
local real KBH
local real KCH
local real K3H
local real K6H
local real KLH
local real K1H
local real K0H
local real K5H
local real K2H
local real K_H
local real M4H
local real M7H
local real M8H
local real M9H
local real MDH
local real MEH
local real MFH
local real MGH
local real MHH
local location JV9
local region TUD
local integer US7
local integer x
local integer y
set EZ7="main"
call JZH()
set NU7[0]=CreateTrigger()
set NV7=GetHandleId(NU7[0])
set i=1
loop
exitwhen i>9
set NU7[i]=CreateTrigger()
set i=i+1
endloop
set i=0
call SetCameraBounds(-7552.0+GetCameraMargin(CAMERA_MARGIN_LEFT),-7936.0+GetCameraMargin(CAMERA_MARGIN_BOTTOM),7552.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),7424.0-GetCameraMargin(CAMERA_MARGIN_TOP),-7552.0+GetCameraMargin(CAMERA_MARGIN_LEFT),7424.0-GetCameraMargin(CAMERA_MARGIN_TOP),7552.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),-7936.0+GetCameraMargin(CAMERA_MARGIN_BOTTOM))
call SetDayNightModels("Environment\\DNC\\DNCFelwood\\DNCFelwoodTerrain\\DNCFelwoodTerrain.mdl","Environment\\DNC\\DNCFelwood\\DNCFelwoodUnit\\DNCFelwoodUnit.mdl")
call SetWaterBaseColor(0,0,255,255)
call NewSoundEnvironment("Default")
call SetAmbientDaySound("FelwoodDay")
call SetAmbientNightSound("FelwoodNight")
call SetMapMusic("Music",true,0)
set yE=CreateSound("Abilities\\Spells\\Human\\Avatar\\Avatar.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(yE,"Avatar")
call SetSoundDuration(yE,3199)
set zE=CreateSound("Abilities\\Spells\\NightElf\\Blink\\BlinkArrival1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(zE,"BlinkTarget")
call SetSoundDuration(zE,1466)
call SetSoundPitch(zE,1.6)
set vX=CreateSound("Abilities\\Spells\\Human\\Blizzard\\BlizzardLoop1.wav",true,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(vX,"BlizzardLoop")
call SetSoundDuration(vX,4000)
set WN=CreateSound("Buildings\\Undead\\TempleOfTheDamned\\TempleOfTheDamnedWhat.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(WN,"TempleOfTheDamnedWhat")
call SetSoundDuration(WN,3518)
call SetSoundDistanceCutoff(WN,2000.0)
set YN=CreateSound("Abilities\\Spells\\Human\\Flare\\FlareTarget2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(YN,"Flare2")
call SetSoundDuration(YN,1344)
call SetSoundDistanceCutoff(YN,2000.0)
set ZN=CreateSound("Sounds\\Dominating.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(ZN,1802)
call SetSoundChannel(ZN,0)
call SetSoundVolume(ZN,127)
call SetSoundPitch(ZN,1.0)
set nX=CreateSound("Sounds\\Double_Kill.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(nX,2012)
call SetSoundChannel(nX,0)
call SetSoundVolume(nX,127)
call SetSoundPitch(nX,1.0)
set EX=CreateSound("Sounds\\firstblood.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(EX,1567)
call SetSoundChannel(EX,0)
call SetSoundVolume(EX,127)
call SetSoundPitch(EX,1.0)
set OX=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperPissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(OX,"GoblinSapperPissed")
call SetSoundDuration(OX,1515)
call SetSoundChannel(OX,0)
set AN=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(AN,"GoblinSapperYesAttack")
call SetSoundDuration(AN,813)
call SetSoundChannel(AN,0)
set BN=CreateSound("Sounds\\GodLike.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(BN,1828)
call SetSoundChannel(BN,0)
call SetSoundVolume(BN,127)
call SetSoundPitch(BN,1.0)
set bX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(bX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(bX,1948)
set BX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed2.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(BX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(BX,1733)
set cX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed3.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(cX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(cX,3570)
set CX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed4.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(CX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(CX,3576)
set fX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed5.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(fX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(fX,3558)
set kX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed6.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(kX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(kX,10867)
set LX=CreateSound("Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(LX,"HeroBladeMasterPissed")
call SetSoundDuration(LX,2235)
set mX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(mX,"HeroDreadLordPissed")
call SetSoundDuration(mX,2921)
set MX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed2.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(MX,"HeroDreadLordPissed")
call SetSoundDuration(MX,7125)
set PX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed3.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(PX,"HeroDreadLordPissed")
call SetSoundDuration(PX,3998)
set qX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed4.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(qX,"HeroDreadLordPissed")
call SetSoundDuration(qX,1727)
set QX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed5.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(QX,"HeroDreadLordPissed")
call SetSoundDuration(QX,8893)
set tX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed6.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(tX,"HeroDreadLordPissed")
call SetSoundDuration(tX,6066)
set TX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed7.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(TX,"HeroDreadLordPissed")
call SetSoundDuration(TX,1277)
set CN=CreateSound("Sounds\\HolyShit.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(CN,2325)
call SetSoundChannel(CN,0)
call SetSoundVolume(CN,127)
call SetSoundPitch(CN,1.0)
set UX=CreateSound("Buildings\\NightElf\\MoonWell\\MoonWellWhat1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(UX,"MoonWellWhat")
call SetSoundDuration(UX,2972)
call SetSoundDistances(UX,600.0,10000.0)
call SetSoundDistanceCutoff(UX,2000.0)
set JO=CreateSound("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaos.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(JO,"MarkOfChaos")
call SetSoundDuration(JO,4000)
set TO=CreateSound("Sounds\\Killing_Spree.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(TO,2377)
call SetSoundChannel(TO,0)
call SetSoundVolume(TO,127)
call SetSoundPitch(TO,1.0)
set oO=CreateSound("Sound\\Buildings\\Death\\NightElfBuildingDeathSmall1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(oO,"DeathNightElfBuildingCancel")
call SetSoundDuration(oO,3675)
set VO=CreateSound("Sounds\\MegaKill.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(VO,2612)
call SetSoundChannel(VO,0)
call SetSoundVolume(VO,127)
call SetSoundPitch(VO,1.0)
set aO=CreateSound("Abilities\\Spells\\NightElf\\ShadowMeld\\ShadowMeld1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(aO,"ShadowMeld")
call SetSoundDuration(aO,941)
set YO=CreateSound("Sounds\\MonsterKill.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(YO,3344)
call SetSoundChannel(YO,0)
call SetSoundVolume(YO,127)
call SetSoundPitch(YO,1.0)
set EO=CreateSound("Units\\Creeps\\Ogre\\OgrePissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(EO,"OgrePissed")
call SetSoundDuration(EO,3309)
set XO=CreateSound("Sounds\\Ownage.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(XO,2586)
call SetSoundChannel(XO,0)
call SetSoundVolume(XO,127)
call SetSoundPitch(XO,1.0)
set OO=CreateSound("Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(OO,"PandarenBrewmasterPissed")
call SetSoundDuration(OO,2316)
set AO=CreateSound("Abilities\\Spells\\Human\\Polymorph\\PolymorphDone.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(AO,"PolymorphDone")
call SetSoundDuration(AO,1498)
set NO=CreateSound("Buildings\\Naga\\TempleofTides\\TempleOfTidesWhat1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(NO,"TempleOfTidesWhat")
call SetSoundDuration(NO,3483)
call SetSoundDistanceCutoff(NO,2000.0)
set bO=CreateSound("Buildings\\Undead\\TombOfRelics\\TombOfRelicsWhat1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(bO,"TombOfRelicsWhat")
call SetSoundDuration(bO,3065)
call SetSoundDistanceCutoff(bO,2000.0)
set BO=CreateSound("Abilities\\Spells\\Orc\\Disenchant\\Disenchant.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(BO,"Disenchant")
call SetSoundDuration(BO,2043)
set cO=CreateSound("Sound\\Interface\\Rescue.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(cO,"Rescue")
call SetSoundDuration(cO,3796)
set CO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(CO,"RiflemanPissed")
call SetSoundDuration(CO,3158)
set fO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(fO,"RiflemanPissed")
call SetSoundDuration(fO,1306)
set FO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed3.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(FO,"RiflemanPissed")
call SetSoundDuration(FO,2624)
set gO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed4.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gO,"RiflemanPissed")
call SetSoundDuration(gO,3785)
set hO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed5.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(hO,"RiflemanPissed")
call SetSoundDuration(hO,4168)
set HO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed6.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(HO,"RiflemanPissed")
call SetSoundDuration(HO,2810)
set kO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed7.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(kO,"RiflemanPissed")
call SetSoundDuration(kO,4609)
set lO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed8.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(lO,"RiflemanPissed")
call SetSoundDuration(lO,5480)
set mO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(mO,"HeroShadowHunterPissed")
call SetSoundDuration(mO,2293)
set pO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed2.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(pO,"HeroShadowHunterPissed")
call SetSoundDuration(pO,1789)
set qO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed3.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(qO,"HeroShadowHunterPissed")
call SetSoundDuration(qO,2301)
set QO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed4.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(QO,"HeroShadowHunterPissed")
call SetSoundDuration(QO,2752)
set tO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed5.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(tO,"HeroShadowHunterPissed")
call SetSoundDuration(tO,3129)
set UO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed6.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(UO,"HeroShadowHunterPissed")
call SetSoundDuration(UO,1666)
set wO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed7.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(wO,"HeroShadowHunterPissed")
call SetSoundDuration(wO,1187)
set WO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed8.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(WO,"HeroShadowHunterPissed")
call SetSoundDuration(WO,2148)
set zO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed9.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(zO,"HeroShadowHunterPissed")
call SetSoundDuration(zO,2026)
set vR=CreateSound("Abilities\\Spells\\Undead\\Sleep\\SleepBirth1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(vR,"Sleep")
call SetSoundDuration(vR,3203)
set eR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(eR,"SpellBreakerPissed")
call SetSoundDuration(eR,3901)
set oR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(oR,"SpellBreakerPissed")
call SetSoundDuration(oR,3367)
set rR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed3.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(rR,"SpellBreakerPissed")
call SetSoundDuration(rR,3651)
set aR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed4.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(aR,"SpellBreakerPissed")
call SetSoundDuration(aR,2490)
set RR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed5.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(RR,"SpellBreakerPissed")
call SetSoundDuration(RR,14402)
set bR=CreateSound("Abilities\\Spells\\Undead\\DevourMagic\\DevourMagic.wav",false,true,true,10,10,"MissilesEAX")
call SetSoundParamsFromLabel(bR,"DevourMagicLaunch")
call SetSoundDuration(bR,1225)
set BR=CreateSound("Abilities\\Spells\\Other\\BlackArrow\\TheBlackArrow.wav",false,true,true,10,10,"MissilesEAX")
call SetSoundParamsFromLabel(BR,"BlackArrowHit")
call SetSoundDuration(BR,1776)
call SetSoundVolume(BR,50)
set ZO=CreateSound("Sound\\Ambient\\DoodadEffects\\TheHornOfCenarius.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(ZO,"HornOfCenariusSound")
call SetSoundDuration(ZO,12121)
call SetSoundVolume(ZO,115)
set CR=CreateSound("Sounds\\triple_kill.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(CR,1907)
call SetSoundChannel(CR,0)
call SetSoundVolume(CR,127)
call SetSoundPitch(CR,1.0)
set LO=CreateSound("Sounds\\Unstoppable.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(LO,2038)
call SetSoundChannel(LO,0)
call SetSoundVolume(LO,127)
call SetSoundPitch(LO,1.0)
set DP=CreateSound("Abilities\\Spells\\Human\\DivineShield\\PaladinDivineShieldDeath1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(DP,"DivineShieldDeath")
call SetSoundDuration(DP,1043)
call SetSoundDistanceCutoff(DP,1500.0)
set hR=CreateSound("Abilities\\Spells\\Items\\AIso\\SoulGem.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(hR,"SoulGem")
call SetSoundDuration(hR,4474)
set EP=CreateSound("Sounds\\WhickedSick.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(EP,2612)
call SetSoundChannel(EP,0)
call SetSoundVolume(EP,127)
call SetSoundPitch(EP,1.0)
set JR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(JR,"WitchDoctorPissed")
call SetSoundDuration(JR,1282)
set lR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(lR,"WitchDoctorPissed")
call SetSoundDuration(lR,1248)
set LR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed3.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(LR,"WitchDoctorPissed")
call SetSoundDuration(LR,1524)
set mR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed4.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(mR,"WitchDoctorPissed")
call SetSoundDuration(mR,1200)
set pR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed5.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(pR,"WitchDoctorPissed")
call SetSoundDuration(pR,2762)
set PR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed6.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(PR,"WitchDoctorPissed")
call SetSoundDuration(PR,2849)
set qR=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack4.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(qR,"GoblinSapperYesAttack")
call SetSoundDuration(qR,1091)
call SetSoundChannel(qR,0)
set QR=CreateSound("Abilities\\Spells\\NightElf\\shadowstrike\\ShadowStrikeBirth1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(QR,"ShadowStrikeBirth")
call SetSoundDuration(QR,2194)
call SetSoundPitch(QR,1.2)
set sR=CreateSound("Abilities\\Spells\\NightElf\\CorrosiveBreath\\CorrosiveBreathMissileLaunch1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(sR,"CorrosiveBreathMissileLaunch")
call SetSoundDuration(sR,1301)
call SetSoundPitch(sR,1.2)
set SR=CreateSound("Sound\\Interface\\Warning\\NightElf\\SentinelAllyHeroDies1.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(SR,"AllyHeroDiesNightElf")
call SetSoundDuration(SR,1963)
call SetSoundVolume(SR,127)
set UR=CreateSound("Sound\\Interface\\Warning\\Undead\\NecromancerAllyHeroDies1.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(UR,"AllyHeroDiesUndead")
call SetSoundDuration(UR,1933)
call SetSoundVolume(UR,127)
set WR=CreateSound("Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(WR,"ReviveHuman")
call SetSoundDuration(WR,3196)
call SetSoundChannel(WR,8)
set zR=CreateSound("Sound\\Interface\\SecretFound.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(zR,"SecretFound")
call SetSoundDuration(zR,2525)
set GP=CreateSound("Sounds\\UltraKill.mp3",false,false,false,10,10,"")
call SetSoundDuration(GP,1958)
call SetSoundChannel(GP,0)
call SetSoundVolume(GP,127)
call SetSoundPitch(GP,1.0)
set IP=CreateSound("Sounds\\Rampage.mp3",false,false,false,10,10,"")
call SetSoundDuration(IP,1195)
call SetSoundChannel(IP,0)
call SetSoundVolume(IP,127)
call SetSoundPitch(IP,1.0)
set eI=CreateSound("Units\\Orc\\AncestralGuardian\\AncestralGuardianAttack1.wav",false,true,true,10,10,"CombatSoundsEAX")
call SetSoundParamsFromLabel(eI,"AncestralGuardianAttack1")
call SetSoundDuration(eI,1181)
set oI=CreateSound("Abilities\\Spells\\Human\\Feedback\\Feedback.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(oI,"Feedback")
call SetSoundDuration(oI,1222)
set JP=CreateSound("Units\\Undead\\Abomination\\AbominationPissed5.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(JP,"AbominationPissed")
call SetSoundDuration(JP,1735)
set KP=CreateSound("Sound\\Units\\Death\\ArtilleryCorpseExplodeDeath1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(KP,"ArtilleryExplodeDeath")
call SetSoundDuration(KP,1486)
set RI=CreateSound("Units\\Undead\\CryptFiend\\CryptFiendPissed2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(RI,"CryptFiendPissed")
call SetSoundDuration(RI,3541)
set OP=CreateSound("Units\\Undead\\Banshee\\BansheeDeath.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(OP,"BansheeDeath")
call SetSoundDuration(OP,2380)
set V44=CreateSound("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTargetWaveNonLoop1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(V44,"FlameStrikeTarget")
call SetSoundDuration(V44,1927)
set V74=CreateSound("Abilities\\Spells\\Other\\Volcano\\VolcanoLoop.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(V74,"VolcanoLoop")
call SetSoundDuration(V74,7616)
set V84=CreateSound("Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.wav",false,false,false,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(V84,"ThunderClap")
call SetSoundDuration(V84,3451)
set V94=CreateSound("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImage.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(V94,"MirrorImage")
call SetSoundDuration(V94,1756)
set VD4=CreateSound("Abilities\\Spells\\Human\\CloudOfFog\\CloudOfFogLoop1.wav",true,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(VD4,"CloudOfFogLoop")
call SetSoundDuration(VD4,2038)
call SetSoundPitch(VD4,0.9)
set VK4=CreateSound("Units\\Human\\Gyrocopter\\GyrocopterPissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(VK4,"GyrocopterPissed")
call SetSoundDuration(VK4,3913)
set VM4="Sound\\Music\\mp3Music\\Tension.mp3"
set VN4="Sound\\Music\\mp3Music\\ArthasTheme.mp3"
set VO4="Sound\\Music\\mp3Music\\NightElfDefeat.mp3"
set VP4="Sound\\Music\\mp3Music\\NightElfVictory.mp3"
set VQ4=CreateSound("Sound\\Interface\\SecretFound.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(VQ4,"SecretFound")
call SetSoundDuration(VQ4,2525)
set VR4=CreateSound("Sound\\Interface\\Hint.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(VR4,"Hint")
call SetSoundDuration(VR4,2006)
set XQ4=CreateSound("war3mapImported\\pl_impact_stun.mp3",false,true,true,10,10,"SpellsEAX")
call SetSoundDuration(XQ4,1340)
call SetSoundChannel(XQ4,11)
call SetSoundVolume(XQ4,127)
call SetSoundPitch(XQ4,1.0)
call SetSoundDistances(XQ4,600.0,10000.0)
call SetSoundDistanceCutoff(XQ4,2000.0)
call SetSoundConeAngles(XQ4,0.0,0.0,127)
call SetSoundConeOrientation(XQ4,0.0,0.0,0.0)
set XR4=CreateSound("Sound\\Buildings\\Fire\\OrcHumanLargeBuildingFire1.wav",true,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(XR4,"HumanFireLarge")
call SetSoundDuration(XR4,3471)
set XS4=CreateSound("Units\\Human\\Phoenix\\PhoenixEggWhat1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(XS4,"PhoenixEggWhat")
call SetSoundDuration(XS4,1579)
call SetSoundChannel(XS4,0)
set A84=CreateSound("Abilities\\Spells\\NightElf\\BattleRoar\\BattleRoar.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(A84,"BattleRoar")
call SetSoundDuration(A84,1991)
set A94=CreateSound("Buildings\\Undead\\Ziggurat\\ZigguratUpgrade.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(A94,"ZigguratUpgradeWhat")
call SetSoundDuration(A94,4203)
call SetSoundDistances(A94,600.0,10000.0)
call SetSoundDistanceCutoff(A94,3000.0)
set AD4=CreateSound("Abilities\\Spells\\Human\\SpellSteal\\SpellStealMissile.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(AD4,"SpellStealMissileLaunch")
call SetSoundDuration(AD4,1541)
set AE4=CreateSound("Abilities\\Spells\\Human\\SpellSteal\\SpellStealTarget.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(AE4,"SpellStealTarget")
call SetSoundDuration(AE4,984)
set AF4=CreateSound("Abilities\\Spells\\Undead\\UndeadMine\\AcolyteMining.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(AF4,"AcolyteMining")
call SetSoundDuration(AF4,4233)
call SetSoundChannel(AF4,0)
set AG4=CreateSound("Abilities\\Weapons\\AvengerMissile\\DestroyerMissile.wav",false,true,true,10,10,"MissilesEAX")
call SetSoundParamsFromLabel(AG4,"DestroyerMissileLaunch")
call SetSoundDuration(AG4,817)
set AH4=CreateSound("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouch.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(AH4,"SpiritTouch")
call SetSoundDuration(AH4,2043)
call SetSoundChannel(AH4,11)
set AI4=CreateSound("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTargetWaveNonLoop1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(AI4,"FlameStrikeTarget")
call SetSoundDuration(AI4,1927)
set pH=Rect(6900,-7800,7600,-7000)
set go=Rect(6176.0,3136.0,6400.0,3392.0)
set jo=Rect(3616.0,3584.0,3872.0,3872.0)
set lo=Rect(2304.0,5280.0,2752.0,5728.0)
set L9=Rect(6176.0,5952.0,6624.0,6240.0)
set Qo=Rect(-4224.0,-6848.0,-3968.0,-6592.0)
set to=Rect(-6304.0,-4384.0,-6080.0,-4224.0)
set Uo=Rect(-4928.0,-5760.0,-4736.0,-5536.0)
set wo=Rect(6048.0,3424.0,6304.0,3776.0)
set zo=Rect(4128.0,3776.0,4352.0,4032.0)
set er=Rect(2752.0,5408.0,3040.0,5632.0)
set ED=Rect(-7040.0,-6912.0,-6688.0,-6656.0)
set ar=Rect(-3648.0,-6880.0,-3424.0,-6688.0)
set Er=Rect(-6336.0,-4224.0,-5984.0,-3904.0)
set Xr=Rect(-4896.0,-5504.0,-4608.0,-5184.0)
set FD=Rect(2912.0,-2944.0,3104.0,-2720.0)
set GD=Rect(5696.0,5504.0,7296.0,7392.0)
set HD=Rect(-7680.0,-8032.0,-6176.0,-6240.0)
set MD=Rect(-2464.0,1536.0,-2240.0,1760.0)
set Br=Rect(4288.0,-2688.0,4544.0,-2400.0)
set cr=Rect(-3328.0,-416.0,-3104.0,-96.0)
set Cr=Rect(1440.0,-4096.0,1728.0,-3872.0)
set fr=Rect(-4576.0,3328.0,-4448.0,3488.0)
set Fr=Rect(-3264.0,4192.0,-2912.0,4320.0)
set Hr=Rect(2848.0,-5088.0,3072.0,-4928.0)
set jr=Rect(-1824.0,2240.0,-1472.0,2464.0)
set Jr=Rect(3008.0,-3776.0,3136.0,-3648.0)
set lr=Rect(1184.0,2976.0,1280.0,3104.0)
set mr=Rect(-512.0,-3648.0,-320.0,-3520.0)
set pr=Rect(-7104.0,6656.0,-6848.0,6912.0)
set qr=Rect(-7104.0,6656.0,-6880.0,6880.0)
set ND=Rect(2304.0,-672.0,2592.0,-384.0)
set Sr=Rect(3872.0,-3008.0,4928.0,-1952.0)
set Ur=Rect(-3552.0,-768.0,-2528.0,320.0)
set Wr=Rect(1056.0,-5216.0,2368.0,-3744.0)
set zr=Rect(-5120.0,3008.0,-3648.0,4320.0)
set Zr=Rect(-3456.0,3808.0,-2656.0,4864.0)
set vi=Rect(2272.0,-6080.0,3776.0,-4928.0)
set ei=Rect(-1888.0,2208.0,-992.0,3040.0)
set xi=Rect(416.0,2624.0,1632.0,3648.0)
set oi=Rect(2592.0,-4800.0,3744.0,-3328.0)
set ai=Rect(-1024.0,-3808.0,192.0,-2752.0)
set OD=Rect(-7936.0,-7776.0,-5920.0,-5760.0)
set PD=Rect(5504.0,5184.0,7744.0,7136.0)
set Ai=Rect(-800.0,3072.0,64.0,4032.0)
set Ni=Rect(-384.0,3392.0,-192.0,3520.0)
set bi=Rect(-1728.0,-5056.0,-768.0,-3840.0)
set Bi=Rect(-1152.0,-4704.0,-960.0,-4480.0)
set QD=Rect(-480.0,-800.0,-256.0,-512.0)
set TD=Rect(2112.0,-736.0,2752.0,-160.0)
set di=Rect(2112.0,-960.0,2720.0,-640.0)
set fi=Rect(2112.0,-1088.0,2720.0,-864.0)
set Fi=Rect(2656.0,-1120.0,2784.0,-416.0)
set Gi=Rect(2752.0,-1248.0,2880.0,-544.0)
set Ji=Rect(2848.0,-1344.0,2912.0,-640.0)
set li=Rect(2912.0,-1408.0,2976.0,-704.0)
set Li=Rect(2208.0,-1216.0,2816.0,-992.0)
set pi=Rect(2464.0,-1472.0,3200.0,-1152.0)
set WD=Rect(-8160.0,-8192.0,-3712.0,-4352.0)
set XD=Rect(-8192.0,-4960.0,-4640.0,-3552.0)
set YD=Rect(-4000.0,-7744.0,-3072.0,-5152.0)
set ZD=Rect(2304.0,4064.0,8032.0,7776.0)
set AD=Rect(4640.0,1952.0,8000.0,4384.0)
set BD=Rect(3136.0,2816.0,5216.0,4960.0)
set LD=Rect(-7968.0,5216.0,-7456.0,5920.0)
set KE=Rect(-8064.0,2880.0,-7648.0,4512.0)
set RE=Rect(-3296.0,3712.0,-2688.0,3968.0)
set SE=Rect(-2400.0,2016.0,-1952.0,2624.0)
set TE=Rect(-2016.0,1600.0,-1216.0,2048.0)
set WE=Rect(-2144.0,2528.0,-1888.0,2944.0)
set YE=Rect(-1280.0,1728.0,-736.0,2176.0)
set ZE=Rect(-1696.0,-768.0,-1376.0,-448.0)
set EF=Rect(-576.0,0.0,-352.0,256.0)
set FF=Rect(3104.0,-2784.0,3680.0,-2304.0)
set GF=Rect(3264.0,-3040.0,3872.0,-2656.0)
set HF=Rect(4960.0,-3104.0,5632.0,-2816.0)
set JF=Rect(4896.0,-3744.0,5280.0,-3456.0)
set KF=Rect(7488.0,-3520.0,8192.0,-2336.0)
set MF=Rect(6656.0,-3328.0,7808.0,-2656.0)
set NF=Rect(7104.0,-8192.0,8192.0,-5920.0)
set OF=Rect(5952.0,-8192.0,7200.0,-7712.0)
set PF=Rect(7168.0,-6240.0,8128.0,-5184.0)
set QF=Rect(5824.0,-8032.0,6400.0,-7776.0)
set RF=Rect(6976.0,-6560.0,7488.0,-5920.0)
set SF=Rect(-5856.0,2944.0,-5600.0,3200.0)
set TF=Rect(6784.0,-7776.0,7264.0,-7456.0)
set UF=Rect(-8128.0,-8192.0,5536.0,-7744.0)
set WF=Rect(2368.0,-7904.0,2688.0,-7584.0)
set XF=Rect(-1664.0,-7808.0,-1344.0,-7552.0)
set YF=Rect(-2944.0,-8192.0,-1664.0,-7680.0)
set ZF=Rect(-4000.0,-8192.0,-3168.0,-7616.0)
set BF=Rect(-5760.0,-8000.0,-5184.0,-7584.0)
set CF=Rect(-3296.0,3744.0,-3104.0,3872.0)
set LF=Rect(-8192.0,-8192.0,-6720.0,-7744.0)
set DG=Rect(-8192.0,-6432.0,-7456.0,-4928.0)
set EG=Rect(-8192.0,-8128.0,-7904.0,8160.0)
set FG=Rect(-7744.0,3936.0,-7328.0,5600.0)
set GG=Rect(-7680.0,1984.0,-6560.0,2816.0)
set JG=Rect(-7776.0,1696.0,-6944.0,2176.0)
set MG=Rect(-8032.0,-3040.0,-7680.0,-2720.0)
set OG=Rect(-7904.0,-2656.0,-7552.0,-2336.0)
set PG=Rect(-3936.0,-2720.0,-3584.0,-2400.0)
set QG=Rect(-3168.0,-1952.0,-2912.0,-1696.0)
set RG=Rect(-4128.0,-1632.0,-3776.0,-1152.0)
set SG=Rect(-4992.0,-1792.0,-3968.0,-1440.0)
set TG=Rect(-5536.0,-1664.0,-4832.0,-1280.0)
set UG=Rect(-2304.0,3872.0,-2048.0,4096.0)
set VG=Rect(-5664.0,-1440.0,-5344.0,0.0)
set WG=Rect(-5824.0,-1504.0,-5472.0,-544.0)
set XG=Rect(-5216.0,-1216.0,-4480.0,-384.0)
set ZG=Rect(-5632.0,448.0,-5152.0,1856.0)
set AG=Rect(-5856.0,1440.0,-5248.0,2592.0)
set BG=Rect(-5408.0,1888.0,-4928.0,2368.0)
set CG=Rect(-5056.0,1664.0,-4064.0,2144.0)
set LG=Rect(-4320.0,1344.0,-3808.0,1952.0)
set DH=Rect(-4224.0,1440.0,-3200.0,2016.0)
set EH=Rect(-2112.0,3424.0,-1856.0,3744.0)
set HH=Rect(-2400.0,640.0,-2208.0,896.0)
set OH=Rect(-3392.0,640.0,-3200.0,896.0)
set PH=Rect(-3744.0,-1024.0,-3232.0,384.0)
set QH=Rect(-2016.0,-5504.0,-1664.0,-4768.0)
set RH=Rect(-1760.0,-5248.0,-1312.0,-4800.0)
set TH=Rect(896.0,-3328.0,1088.0,-3072.0)
set UH=Rect(2368.0,-3808.0,2688.0,-3360.0)
set WH=Rect(1952.0,-3744.0,2208.0,-3456.0)
set XH=Rect(-768.0,-1344.0,-480.0,-1024.0)
set YH=Rect(1152.0,-6560.0,1376.0,-6272.0)
set ZH=Rect(1216.0,-6368.0,1504.0,-6176.0)
set AH=Rect(-1376.0,-6784.0,-1184.0,-6528.0)
set CH=Rect(7616.0,-6528.0,8192.0,8160.0)
set DI=Rect(7072.0,-2304.0,7264.0,-2048.0)
set EI=Rect(-7872.0,7872.0,8192.0,8192.0)
set GI=Rect(1792.0,7776.0,2112.0,8192.0)
set HI=Rect(-2656.0,0.0,-2496.0,256.0)
set II=Rect(-768.0,7232.0,-416.0,7424.0)
set JI=Rect(-7968.0,5472.0,-7648.0,5792.0)
set NI=Rect(1120.0,7904.0,1312.0,8160.0)
set PI=Rect(736.0,4480.0,1120.0,4800.0)
set SI=Rect(2208.0,4928.0,2400.0,5152.0)
set TI=Rect(576.0,4384.0,1120.0,4928.0)
set UI=Rect(2560.0,4160.0,2784.0,4576.0)
set WI=Rect(-5984.0,-3776.0,-5504.0,-3232.0)
set XI=Rect(576.0,4256.0,1024.0,4672.0)
set YI=Rect(544.0,4352.0,992.0,4768.0)
set BI=Rect(704.0,2496.0,1376.0,2784.0)
set CI=Rect(-2240.0,1792.0,-1856.0,2240.0)
set LI=Rect(-1472.0,1472.0,-992.0,1728.0)
set TJ=Rect(2368.0,-3200.0,2656.0,-2880.0)
set MK=Rect(2624.0,-3584.0,2816.0,-2848.0)
set UK=Rect(2464.0,-3392.0,2656.0,-3136.0)
set YK=Rect(2784.0,-3232.0,2976.0,-2976.0)
set SM=Rect(2784.0,-3424.0,2976.0,-3168.0)
set TM=Rect(7328.0,7808.0,8192.0,8192.0)
set UM=Rect(1984.0,7584.0,3296.0,8192.0)
set WM=Rect(2240.0,7392.0,2560.0,8192.0)
set YM=Rect(-1888.0,416.0,-1696.0,576.0)
set ZM=Rect(7776.0,2720.0,8192.0,3648.0)
set JN=Rect(5280.0,640.0,5664.0,1184.0)
set MN=Rect(-3104.0,2720.0,-2624.0,3232.0)
set UH=Rect(2816.0,-3488.0,3008.0,-3232.0)
set WH=Rect(1568.0,-2976.0,1760.0,-2656.0)
set TJ=Rect(2368.0,-3264.0,2656.0,-2944.0)
set MK=Rect(2624.0,-3648.0,2816.0,-2912.0)
set UK=Rect(2464.0,-3456.0,2656.0,-3200.0)
set UF=Rect(-8192.0,-8128.0,5472.0,-7648.0)
set eE=Rect(-8192.0,-3712.0,-7008.0,-2144.0)
set oE=Rect(-3360.0,-8192.0,-1472.0,-7648.0)
set aE=Rect(-2528.0,-7840.0,-1696.0,-7488.0)
set nE=Rect(-2336.0,-7584.0,-1600.0,-7456.0)
set VE=Rect(-8192.0,2016.0,-6816.0,2880.0)
set EE=Rect(6880.0,-3328.0,8000.0,-2624.0)
set XE=Rect(3904.0,2976.0,4160.0,3264.0)
set OE=Rect(2336.0,5952.0,2592.0,6240.0)
set IE=Rect(6304.0,1984.0,6560.0,2272.0)
set AE=Rect(-3328.0,-6912.0,-3072.0,-6624.0)
set bE=Rect(-4384.0,-4800.0,-4128.0,-4512.0)
set BE=Rect(-6432.0,-3840.0,-6176.0,-3552.0)
set cE=Rect(-7584.0,6176.0,-6304.0,7552.0)
set CE=Rect(2208.0,-1152.0,2720.0,-352.0)
set dE=Rect(2560.0,-1440.0,2976.0,-1024.0)
set fE=Rect(-1088.0,5376.0,768.0,6624.0)
set FE=Rect(1600.0,1024.0,3456.0,2432.0)
set gE=Rect(5504.0,-1056.0,7200.0,512.0)
set GE=Rect(-6944.0,-1792.0,-5248.0,-224.0)
set JE=Rect(-1536.0,-7424.0,640.0,-6048.0)
set lE=Rect(-3328.0,-7200.0,-2464.0,-6368.0)
set LE=Rect(-4288.0,-4544.0,-3424.0,-3712.0)
set ME=Rect(-6784.0,-3616.0,-5920.0,-2784.0)
set pE=Rect(1472.0,5440.0,2336.0,6272.0)
set PE=Rect(2656.0,2336.0,3520.0,3168.0)
set qE=Rect(5984.0,1152.0,6848.0,1984.0)
set QE=Rect(-4128.0,-3712.0,-2496.0,-2272.0)
set TN=Rect(-8192.0,-8128.0,-5120.0,-5536.0)
set UN=Rect(4608.0,4352.0,8192.0,8192.0)
set cz=Rect(3536.0,3148.0,6248.0,5832.0)
set Cz=Rect(-6348.0,-6900.0,-3628.0,-4480.0)
set He=Rect(0.,0.,0.,0.)
set Q24=null
set iL=Condition(function KYF)
set Q_4=Condition(function NLF)
set ip=Condition(function KZF)
set iP=Condition(function NRF)
set E17=Condition(function PDF)
set Ha=Location(0.,0.)
set HA=Location(0.,0.)
set Hb=Location(0.,0.)
set HB=Location(0.,0.)
set p=Player(15)
set LT4=CreateUnit(p,1966092378,7360.0,-4416.0,270.000)
call SetUnitColor(LT4,ConvertPlayerColor(12))
set LS4=CreateUnit(p,1966092378,-7296.0,4224.0,270.000)
call SetUnitColor(LS4,ConvertPlayerColor(12))
set IF4=CreateUnit(p,1848657231,-7168.0,6464.0,270.000)
call SetUnitColor(IF4,ConvertPlayerColor(0))
set wJ=CreateUnit(p,1848652102,-7424.0,-6976.0,270.000)
set SJ=CreateUnit(p,1848657231,-7360.0,6464.0,270.000)
call SetUnitColor(SJ,ConvertPlayerColor(0))
set WJ=CreateUnit(p,1848652102,-7424.0,-6592.0,270.000)
set yJ=CreateUnit(p,1848652102,-7424.0,-6464.0,270.000)
set qK=CreateUnit(p,1848657231,-7360.0,6784.0,270.000)
call SetUnitColor(qK,ConvertPlayerColor(0))
set LK=CreateUnit(p,1848657231,-6848.0,6784.0,270.000)
call SetUnitColor(LK,ConvertPlayerColor(0))
set zJ=CreateUnit(p,1848652102,-7424.0,-6720.0,270.000)
set ZJ=CreateUnit(p,1848652102,-7424.0,-6848.0,270.000)
set vk=CreateUnit(p,1852206952,-7232.0,-7136.0,270.000)
set u=CreateUnit(p,1967339316,3200.0,-64.0,270.000)
set cJ=CreateUnit(p,1848657231,-6848.0,6464.0,270.000)
call SetUnitColor(cJ,ConvertPlayerColor(0))
set FK=CreateUnit(p,1848652102,7040.0,6272.0,270.000)
set gK=CreateUnit(p,1848652102,7040.0,5888.0,270.000)
set GK=CreateUnit(p,1848652102,7040.0,5760.0,270.000)
set JK=CreateUnit(p,1848652102,7040.0,6016.0,270.000)
set fK=CreateUnit(p,1848652102,7040.0,6144.0,270.000)
set lK=CreateUnit(p,1852073580,6784.0,6368.0,270.000)
set gJ=CreateUnit(p,1848657231,-7360.0,7104.0,270.000)
call SetUnitColor(gJ,ConvertPlayerColor(0))
set PK=CreateUnit(p,1848657231,-7168.0,7104.0,270.000)
call SetUnitColor(PK,ConvertPlayerColor(0))
set u=CreateUnit(p,1967339316,-4544.0,1152.0,270.000)
set tJ=CreateUnit(p,1848657231,-7168.0,6784.0,270.000)
call SetUnitColor(tJ,ConvertPlayerColor(0))
set Cl=CreateUnit(p,1848657231,-6848.0,7104.0,270.000)
call SetUnitColor(Cl,ConvertPlayerColor(0))
set LV4=CreateUnit(p,1966092592,-7296.0,4416.0,270.000)
call SetUnitColor(LV4,ConvertPlayerColor(12))
set LU4=CreateUnit(p,1966092592,7360.0,-4224.0,270.000)
call SetUnitColor(LU4,ConvertPlayerColor(12))
set XU4=CreateUnit(p,1848657231,-6656.0,7104.0,270.000)
call SetUnitColor(XU4,ConvertPlayerColor(0))
set XV4=CreateUnit(p,1848657231,-6656.0,6464.0,270.000)
call SetUnitColor(XV4,ConvertPlayerColor(0))
set XT4=CreateUnit(p,1848657231,-6656.0,6784.0,270.000)
call SetUnitColor(XT4,ConvertPlayerColor(0))
set p=Player(0)
set ek=CreateUnit(p,1849897784,-7264.0,-6880.0,270.000)
call SetUnitColor(ek,ConvertPlayerColor(12))
set xk=CreateUnit(p,1848652107,-7264.0,-6688.0,270.000)
call SetUnitColor(xk,ConvertPlayerColor(12))
set ak=CreateUnit(p,1848651833,-6560.0,-6432.0,270.000)
call SetUnitColor(ak,ConvertPlayerColor(12))
set LJ=CreateUnit(p,1848651864,-7072.0,-6368.0,270.000)
call SetUnitColor(LJ,ConvertPlayerColor(1))
set JJ=CreateUnit(p,1848651862,-6816.0,-6368.0,270.000)
call SetUnitColor(JJ,ConvertPlayerColor(12))
set GJ=CreateUnit(p,1848651863,-7200.0,-6432.0,270.000)
call SetUnitColor(GJ,ConvertPlayerColor(12))
set dJ=CreateUnit(p,1848651826,-6688.0,-6368.0,270.000)
call SetUnitColor(dJ,ConvertPlayerColor(12))
set Wk=CreateUnit(p,1697657397,-6624.0,-7136.0,270.000)
set ik=CreateUnit(p,1749236021,-6880.0,-7136.0,270.000)
call SetUnitColor(ik,ConvertPlayerColor(0))
set BJ=CreateUnit(p,1702129516,-5632.0,-6144.0,270.000)
set Ak=CreateUnit(p,1697656915,-4448.0,-4960.0,270.000)
set bk=CreateUnit(p,1697656915,-5280.0,-6112.0,270.000)
set Nk=CreateUnit(p,1697656915,-6368.0,-4256.0,270.000)
set Bk=CreateUnit(p,1697656915,-5600.0,-5728.0,270.000)
set ck=CreateUnit(p,1700884333,-6080.0,-4480.0,270.000)
set Ck=CreateUnit(p,1700884325,-6656.0,-4480.0,270.000)
set fk=CreateUnit(p,1700884333,-4416.0,-5312.0,270.000)
set Gk=CreateUnit(p,1700884325,-4864.0,-4992.0,270.000)
set Fk=CreateUnit(p,1697656915,-3744.0,-6816.0,270.000)
set dk=CreateUnit(p,1700884333,-4032.0,-7040.0,270.000)
set gk=CreateUnit(p,1700884325,-4032.0,-6528.0,270.000)
set lk=CreateUnit(p,1701670775,-5792.0,-5408.0,270.000)
set Jk=CreateUnit(p,1701670775,-6624.0,-5088.0,270.000)
set jk=CreateUnit(p,1701670775,-5088.0,-5536.0,270.000)
set Lk=CreateUnit(p,1701670775,-5344.0,-3936.0,270.000)
set pk=CreateUnit(p,1701670775,-5088.0,-4576.0,270.000)
set Pk=CreateUnit(p,1701670775,-3936.0,-5344.0,270.000)
set qk=CreateUnit(p,1701670775,-4512.0,-7072.0,270.000)
set Qk=CreateUnit(p,1701670775,-4896.0,-6240.0,270.000)
set Sk=CreateUnit(p,1701670775,-3808.0,-5856.0,270.000)
set tk=CreateUnit(p,1701670775,-5472.0,-4704.0,270.000)
set Uk=CreateUnit(p,1701670775,-4512.0,-5856.0,270.000)
set wk=CreateUnit(p,1700884343,-4544.0,-6528.0,270.000)
set Rk=CreateUnit(p,1697656915,-6112.0,-1248.0,270.000)
set ok=CreateUnit(p,1700884343,-6080.0,-5120.0,270.000)
set Ok=CreateUnit(p,1697656915,-6112.0,1568.0,270.000)
set Ek=CreateUnit(p,1697656915,-1504.0,-1824.0,270.000)
set Vk=CreateUnit(p,1697656915,-544.0,-6688.0,270.000)
set nk=CreateUnit(p,1697656915,4960.0,-6752.0,270.000)
set MJ=CreateUnit(p,1697656915,-3488.0,-3296.0,270.000)
set dl=CreateUnit(p,1848657989,-6944.0,-6368.0,270.000)
call SetUnitColor(dl,ConvertPlayerColor(12))
set QJ=CreateUnit(p,1848657989,5920.0,6176.0,270.000)
call SetUnitColor(QJ,ConvertPlayerColor(12))
set p=Player(1)
set zk=CreateUnit(p,1701080930,-6400.0,-5696.0,270.000)
set yk=CreateUnit(p,1701080930,-5248.0,-6848.0,270.000)
set p=Player(6)
set XK=CreateUnit(p,1848651826,5920.0,5920.0,270.000)
call SetUnitColor(XK,ConvertPlayerColor(12))
set OK=CreateUnit(p,1848651863,5984.0,6432.0,270.000)
call SetUnitColor(OK,ConvertPlayerColor(12))
set AK=CreateUnit(p,1848651862,5920.0,6048.0,270.000)
call SetUnitColor(AK,ConvertPlayerColor(12))
set NK=CreateUnit(p,1848651864,5920.0,6304.0,270.000)
call SetUnitColor(NK,ConvertPlayerColor(1))
set dK=CreateUnit(p,1849897784,6496.0,6368.0,270.000)
call SetUnitColor(dK,ConvertPlayerColor(12))
set CK=CreateUnit(p,1848652107,6304.0,6368.0,270.000)
call SetUnitColor(CK,ConvertPlayerColor(12))
set QK=CreateUnit(p,1970496880,4352.0,3584.0,270.000)
set BK=CreateUnit(p,1848651833,5984.0,5792.0,270.000)
call SetUnitColor(BK,ConvertPlayerColor(12))
set cK=CreateUnit(p,1849897781,6816.0,5984.0,270.000)
call SetUnitColor(cK,ConvertPlayerColor(12))
set bK=CreateUnit(p,1966092369,6816.0,5664.0,270.000)
set qJ=CreateUnit(p,1966092365,6048.0,-2080.0,270.000)
set PJ=CreateUnit(p,1966092356,6304.0,-96.0,270.000)
set ol=CreateUnit(p,1970956647,4384.0,4256.0,270.000)
set WK=CreateUnit(p,1970172012,5184.0,4864.0,220.000)
set zK=CreateUnit(p,1970564964,3904.0,3904.0,270.000)
set ZK=CreateUnit(p,1966092365,1056.0,-96.0,270.000)
set vl=CreateUnit(p,1966092356,2528.0,1824.0,270.000)
set el=CreateUnit(p,1966092366,3936.0,3488.0,270.000)
set xl=CreateUnit(p,1966092372,4832.0,4832.0,270.000)
set SK=CreateUnit(p,1966092372,5152.0,4512.0,270.000)
set rl=CreateUnit(p,1970956647,3168.0,4064.0,270.000)
set al=CreateUnit(p,1970956647,5728.0,4000.0,270.000)
set EK=CreateUnit(p,1966092366,2976.0,5792.0,270.000)
set VK=CreateUnit(p,1970496880,3392.0,5504.0,270.000)
set aK=CreateUnit(p,1970564964,3392.0,6080.0,270.000)
set xK=CreateUnit(p,1970956647,4128.0,6240.0,270.000)
set eK=CreateUnit(p,1970495856,3968.0,5888.0,270.000)
set Vl=CreateUnit(p,1969385326,4992.0,5952.0,270.000)
set El=CreateUnit(p,1970956647,2656.0,4704.0,270.000)
set Xl=CreateUnit(p,1970956647,5536.0,2464.0,270.000)
set Ol=CreateUnit(p,1970956647,4064.0,5280.0,270.000)
set Rl=CreateUnit(p,1970956647,3488.0,4832.0,270.000)
set Al=CreateUnit(p,1970495856,6400.0,3584.0,270.000)
set Nl=CreateUnit(p,1970564964,6080.0,2944.0,270.000)
set bl=CreateUnit(p,1970496880,6656.0,2880.0,270.000)
set Bl=CreateUnit(p,1966092366,6368.0,2528.0,270.000)
set cl=CreateUnit(p,1970956647,5024.0,3744.0,270.000)
set vK=CreateUnit(p,1970956647,6880.0,3936.0,270.000)
set wK=CreateUnit(p,1969385326,6464.0,4608.0,270.000)
set TK=CreateUnit(p,1970956647,4640.0,2848.0,270.000)
set HJ=CreateUnit(p,1966092365,-4704.0,5920.0,270.000)
set UJ=CreateUnit(p,1966092356,32.0,5920.0,270.000)
set p=Player(15)
set DJ=CreateUnit(p,1697656900,-6005.1,5458.6,212.150)
set lJ=CreateUnit(p,1697656898,-561.7,-651.7,325.600)
set FJ=CreateUnit(p,1697656897,5717.5,-6070.9,64.000)
set fJ=CreateUnit(p,1697656888,-5467.9,-5891.1,307.304)
set CJ=CreateUnit(p,1697656881,4901.8,4536.6,212.110)
call ConfigureNeutralVictim()
set bH=Filter(function A47)
set filterIssueHauntOrderAtLocBJ=Filter(function IssueHauntOrderAtLocBJFilter)
set filterEnumDestructablesInCircleBJ=Filter(function L4)
set filterGetUnitsInRectOfPlayer=Filter(function GetUnitsInRectOfPlayerFilter)
set filterGetUnitsOfTypeIdAll=Filter(function GetUnitsOfTypeIdAllFilter)
set filterGetUnitsOfPlayerAndTypeId=Filter(function GetUnitsOfPlayerAndTypeIdFilter)
set filterMeleeTrainedUnitIsHeroBJ=Filter(function MeleeTrainedUnitIsHeroBJFilter)
set filterLivingPlayerUnitsOfTypeId=Filter(function LivingPlayerUnitsOfTypeIdFilter)
set EP8=0
loop
exitwhen EP8==16
set bj_FORCE_PLAYER[EP8]=CreateForce()
call ForceAddPlayer(bj_FORCE_PLAYER[EP8],Player(EP8))
set EP8=EP8+1
endloop
set bj_FORCE_ALL_PLAYERS=CreateForce()
call ForceEnumPlayers(bj_FORCE_ALL_PLAYERS,null)
set bj_cineModePriorSpeed=GetGameSpeed()
set bj_cineModePriorFogSetting=IsFogEnabled()
set bj_cineModePriorMaskSetting=IsFogMaskEnabled()
set EP8=0
loop
exitwhen EP8>=bj_MAX_QUEUED_TRIGGERS
set bj_queuedExecTriggers[EP8]=null
set bj_queuedExecUseConds[EP8]=false
set EP8=EP8+1
endloop
set bj_isSinglePlayer=false
set K4H=0
set EP8=0
loop
exitwhen EP8>=12
if(GetPlayerController(Player(EP8))==MAP_CONTROL_USER and GetPlayerSlotState(Player(EP8))==PLAYER_SLOT_STATE_PLAYING)then
set K4H=K4H+1
endif
set EP8=EP8+1
endloop
set T34[0]=""
set T34[1]="CLG.Pajkatt"
set T34[2]="CLG.Mirakel"
set T34[3]="CLG.Akke"
set T34[4]="CLG.MiSeRy"
set T34[5]="CLG.Lacoste"
set T34[6]="Darer.M"
set T34[7]="Darer.G"
set T34[8]="Darer.Artstyle"
set T34[9]="Darer.Funn1k"
set T34[10]="M5.Admiration"
set T34[11]="M5.Vigoss"
set T34[12]="M5.Bl00DAnGeL-"
set T34[13]="M5.PGG"
set T34[14]="M5.Silent"
set T34[15]="Na`Vi.XBOCT"
set T34[16]="Na`Vi.Dendi"
set T34[17]="Na`Vi.Puppey"
set T34[18]="Na`Vi.LighTofHeaveN"
set T34[19]="Na`Vi.ARS-ART"
set T34[20]="EG.Fear"
set T34[21]="EG.Bulba"
set T34[22]="EG.Maelk"
set T34[23]="EG.DeMoN"
set T34[24]="EG.Universe"
set T34[25]="IG.Ferrari_430"
set T34[26]="IG.Faith"
set T34[27]="IG.Zhou"
set T34[28]="IG.ChuaN"
set T34[29]="IG.YYF"
set T34[30]="LGD.xiao8"
set T34[31]="LGD.Sylar"
set T34[32]="LGD.Yao"
set T34[33]="LGD.DD"
set T34[34]="LGD.ddc"
set T34[35]="EHOME.357"
set T34[36]="EHOME.KingJ"
set T34[37]="EHOME.LaNm"
set T34[38]="EHOME.MMY!"
set T34[39]="EHOME.PCT"
set T34[40]="DK.Super"
set T34[41]="DK.Zippo"
set T34[42]="DK.LongDD"
set T34[43]="DK.Burning"
set T34[44]="DK.rOtk"
set T34[45]="AL.bleek"
set T34[46]="AL.Musica"
set T34[47]="AL.Snoopy"
set T34[48]="AL.Shatan"
set T34[49]="AL.Godot"
set T34[50]="TZ.iceiceice"
set T34[51]="TZ.xFreedom"
set T34[52]="TZ.xy-"
set T34[53]="TZ.YamateH"
set T34[54]="TZ.Ice"
set T34[55]="TongFu.Kabu"
set T34[56]="TongFu.SanSheng"
set T34[57]="13abyKnight"
set T34[58]="dLxYan"
set T34[59]="TongFu.Awoke"
set T34[60]="Green"
set T34[61]="TongFu.Mu"
set T34[62]="TongFu.Hao"
set T34[63]="MS.SexyBamboe"
set T34[64]="Bane"
set T34[65]="MS.Black^"
set T34[66]="MS.1437"
set T34[67]="MS.KuroKy"
set T34[68]="MS.SingSing"
set T34[69]="Yrk"
set T34[70]="sExtasY"
set T34[71]="Tayschrenn"
set T34[72]="theCupofteA"
set T34[73]="idef!x"
set T34[74]="kEEper"
set T34[75]="nEKro"
set T34[76]="Tulex"
set T34[77]="Warlog"
set T34[78]="Radge"
set T34[79]="Bu1LD0z3R"
set T34[80]="r1sk"
set T34[81]="Toneeh"
set T34[82]="Mr.Escobar"
set T34[83]="Ghost0"
set T34[84]="Blackshatan"
set T34[85]="TeG-Hyperion"
set T34[86]="TeG-Ly0n"
set T34[87]="TeG-ppasarel"
set T34[88]="Ro-Coco"
set T34[89]="TeG-RMP"
set T34[90]="TeG-jackass"
set T34[91]="NozG"
set T34[92]="lacosteeeee"
set T34[93]="NlKE"
set T34[94]="Swoopie"
set T34[95]="Soundchaosdebug"
set T34[96]="Luck_Duck"
set T34[97]="Simba"
set T34[98]="AMXZAKU"
set T34[99]="HurDur"
set T34[100]="Zaetr"
set T34[101]="Dargon_Knight"
set T34[102]="Ciel"
set T34[103]="SaDJ0KeR"
set T34[104]="Phaselock"
set T34[105]="PleaseBugMeNot"
set T34[106]="changeling"
set T34[107]="Deel"
set T34[108]="xbox619"
set T34[109]="Uncle_Zhuge"
set T34[110]="Thedeath"
set T34[111]="gAmmAlysE"
set T34[112]="Ace_Tobi"
set T34[113]="RisingDemon"
set T34[114]="Harreke"
set T34[115]="cipd"
set T34[116]="Sebra"
set T34[117]="Simple-.-"
set T34[118]="gaibo1"
set T34[119]="Cloud_str"
set bj_isSinglePlayer=(K4H==1)
set bj_rescueSound=CreateSoundFromLabel("Rescue",false,false,false,10000,10000)
set bj_questDiscoveredSound=CreateSoundFromLabel("QuestNew",false,false,false,10000,10000)
set bj_questUpdatedSound=CreateSoundFromLabel("QuestUpdate",false,false,false,10000,10000)
set bj_questCompletedSound=CreateSoundFromLabel("QuestCompleted",false,false,false,10000,10000)
set bj_questFailedSound=CreateSoundFromLabel("QuestFailed",false,false,false,10000,10000)
set bj_questHintSound=CreateSoundFromLabel("Hint",false,false,false,10000,10000)
set bj_questSecretSound=CreateSoundFromLabel("SecretFound",false,false,false,10000,10000)
set bj_questItemAcquiredSound=CreateSoundFromLabel("ItemReward",false,false,false,10000,10000)
set bj_questWarningSound=CreateSoundFromLabel("Warning",false,false,false,10000,10000)
set bj_victoryDialogSound=CreateSoundFromLabel("QuestCompleted",false,false,false,10000,10000)
set bj_defeatDialogSound=CreateSoundFromLabel("QuestFailed",false,false,false,10000,10000)
call DelayedSuspendDecayCreate()
set K7H=VersionGet()
if(K7H==VERSION_REIGN_OF_CHAOS)then
set bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V0
else
set bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V1
endif
call InitQueuedTriggers()
call InitRescuableBehaviorBJ()
call InitDNCSounds()
call InitMapRects()
call InitSummonableCaps()
call V5()
set E8G=0
loop
set bj_stockAllowedPermanent[E8G]=false
set bj_stockAllowedCharged[E8G]=false
set bj_stockAllowedArtifact[E8G]=false
set E8G=E8G+1
exitwhen E8G>10
endloop
call SetAllItemTypeSlots(11)
call SetAllUnitTypeSlots(11)
set bj_stockUpdateTimer=CreateTimer()
call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INITIAL_DELAY,false,function EGG)
set bj_stockItemPurchased=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(bj_stockItemPurchased,Player(15),EVENT_PLAYER_UNIT_SELL_ITEM,null)
call TriggerAddAction(bj_stockItemPurchased,function RemovePurchasedItem)
call DetectGameStarted()
set i=0
set i=0
loop
exitwhen(i>16)
set K[i]=0
set M[i]=0
set H[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>100)
set J[i]=false
set je[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>4)
set N[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>2)
set L[i]=0
set S7[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>12)
set Q[i]=""
set A[i]=CreateTimer()
set T[i]=0
set V[i]=0
set GZ[i]=false
set GZ[256+i]=false
set GZ[272+i]=false
set GZ[304+i]=false
set G0[48+i]=false
set G0[i]=false
set hG[i]=0
set eY[80+i]=3
set eY[i]=0
set eY[544+i]=0
set h4[i]=null
set M27[i]=null
set hq[288+i]=0.
set hq[304+i]=0.
set hq[640+i]=0.
set hq[656+i]=0.
set HC[i]=Location(0.,0.)
set HC[16+i]=Location(0.,0.)
set HC[32+i]=Location(0.,0.)
set HC[48+i]=Location(0.,0.)
set HC[256+i]=Location(0.,0.)
set h9[i]=null
set h8[i]=null
set eY[208+i]=0
set eY[224+i]=0
set eY[240+i]=999999
set hG[192+i]=0
set hG[288+i]=0
set hq[624+i]=0
set DQ7[i]=true
set DQ7[16+i]=true
set DQ7[32+i]=false
set DQ7[48+i]=false
set DQ7[64+i]=true
set DQ7[112+i]=true
set E37[48+i]=-1
set E37[64+i]=-1
set G0[224+i]=false
set h8[144+i]=null
set GZ[176+i]=false
set K57[i]=0
set K57[16+i]=0
set K57[32+i]=0
set K57[48+i]=0
set K57[96+i]=0
set K57[112+i]=0
set K57[160+i]=0
set K57[176+i]=0
set K57[240+i]=0
set K57[272+i]=0
set K57[288+i]=0
set K57[464+i]=0
set K_7[48+i]=false
set K_7[320+i]=true
set K57[208+i]=StringHash("aiBuy|"+I2S(i))
set K57[224+i]=StringHash("aiBuyS|"+I2S(i))
set K57[256+i]=StringHash("aiBuyBear|"+I2S(i))
set K57[352+i]=StringHash("aiIt#|"+I2S(i))
set K57[368+i]=StringHash("aiIt#copy|"+I2S(i))
set K57[448+i]=StringHash("aiBuyLux|"+I2S(i))
set i=i+1
endloop
set i=0
loop
exitwhen(i>13)
set I[i]=false
set U[i]=CreateTimer()
set W4[i]=false
set T7[i]=0
set U7[i]=0
set Be[i]=0
set oo[i]=false
set i=i+1
endloop
set W=CreateTimer()
set i=0
loop
exitwhen(i>1)
set F[i]=0
set mx[i]=false
set B8[i]=0
set eo[i]=false
set i=i+1
endloop
set X4=150
set av=true
set Ev=true
set Ov=true
set Rv=true
set Av=true
set Nv=true
set bv=true
set Bv=true
set cv=true
set Cv=true
set Dv=true
set fv=true
set D7=3
set E7=1
set i=0
loop
exitwhen(i>17)
set M7[i]=null
set i=i+1
endloop
set X7=CreateForce()
set Y7=CreateForce()
set R8=CreateGroup()
set L8=CreateForce()
set E9=0.00
set F9=true
set G9=true
set i=0
loop
exitwhen(i>14)
set P9[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>15)
set C9[i]="Here"
set i=i+1
endloop
call LB7()
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,15.,true)
call TriggerAddCondition(t,Condition(function l8))
set t=null
set IG4[0]=false
set IG4[1]=false
set IG4[2]=false
set IG4[3]=false
set IG4[4]=false
set IG4[5]=false
set IG4[6]=false
set IG4[7]=false
set IG4[8]=false
set IG4[9]=false
set IG4[10]=false
set IG4[11]=false
set IG4[12]=false
set IG4[13]=false
set IG4[14]=false
set IG4[15]=false
set IG4[16]=false
call JAH()
call ES9(1110455898)
call ES9(1112560453)
call ES9(1110455889)
call ES9(1112757326)
call ES9(1112044643)
call ES9(1110458957)
call ES9(1110458962)
call ES9(1110459185)
call ES9(1111844210)
call ES9(1110454869)
call ES9(1110456133)
call ES9(1110459206)
call ES9(1110455885)
call ES9(1110456142)
call ES9(1110456403)
call ES9(1110454353)
call ES9(1110456114)
call ES9(1112891758)
call ES9(1110456629)
call ES9(1110456371)
call ES9(1110454870)
call ES9(1110454617)
call ES9(1112432994)
call ES9(1110456402)
call ES9(1110455862)
call ES9(1110455113)
call ES9(1110455859)
call ES9(1113943649)
call ES9(1113943655)
call ES9(1110455107)
call ES9(1110454348)
call ES9(1112040289)
call ES9(1113813860)
call ES9(1110456121)
call ES9(1110458961)
call ES9(1110458937)
call ES9(1114665575)
call ES9(1110456397)
call ES9(1110454855)
call ES9(1110454616)
call ES9(1110454596)
call ES9(1110456626)
call ES9(1110458705)
call ES9(1111847784)
call ES9(1110454321)
call ES9(1110454583)
call ES9(1110458693)
call ES9(1110458692)
call ES9(1110456399)
call ES9(1114010223)
call ES9(1110454839)
call ES9(1110454840)
call ES9(1110455624)
call ES9(1110458963)
call ES9(1113813609)
call ES9(1110458950)
call ES9(1110458949)
call ES9(1110456624)
call ES9(1110454328)
call ES9(1110455362)
call ES9(1110454854)
call ES9(1112896368)
call ES9(1114993524)
call ES9(1110459203)
call ES9(1111716457)
call ES9(1110455114)
call ES9(1111847784)
call ES9(1110454321)
call ES9(1110458705)
call ES9(1113943649)
call ES9(1113943655)
call ES9(1110456120)
call ES9(1113875828)
call ES9(1110454356)
call ES9(1114860655)
call ES9(1112433768)
call ES9(1093749828)
call ES9(1110459204)
call ES9(1093749313)
call ES9(1110455347)
call ES9(1112436833)
call ES9(1110454606)
call ES9(1112105826)
call ES9(1110455377)
call ES9(1110454339)
call ES9(1110456651)
call ES9(1110455091)
call ES9(1110456390)
call ES9(1110456389)
call ES9(1114664809)
call ES9(1110458701)
call ES9(1112437348)
call ES9(1110454344)
call ES9(1112500344)
call ES9(1110455110)
call ES9(1110454862)
call ES9(1110459703)
call ES9(1110455876)
call ES9(1110458958)
call ES9(1110456657)
call ES9(1110459465)
call ES9(1110458946)
call ES9(1110456650)
call ES9(1110458694)
call ES9(1110456386)
call ES9(1110456113)
call ES9(1110456398)
call ES9(1110454857)
call ES9(1110456401)
call ES9(1110459186)
call ES9(1110455891)
call ES9(1110454867)
call ES9(1110454871)
call ES9(1110455633)
call ES9(1110454852)
call ES9(1110458969)
call ES9(1110454864)
call ES9(1110455622)
call ES9(1110459728)
call ES9(1110459730)
call ES9(1110459732)
call ES9(1110459982)
call ES9(1110459993)
call ES9(1110459988)
call ES9(1110459994)
call ES9(1110460208)
call ES9(1110459957)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EW9))
set t=null
call FlushGameCache(InitGameCache("dr.x"))
set IV4=InitGameCache("dr.x")
set H64[0]=1093744454
set H64[1]=1093744455
set H64[2]=1093744456
set H64[3]=1093744451
set H64[4]=1093744452
set H64[5]=1093744453
set H64[6]=1093744458
set H64[7]=1093744457
set H64[8]=1093744460
set TK4[0]=1093751109
set TK4[1]=1093751110
set TK4[2]=1093751113
set TK4[3]=1093751115
set TK4[4]=1093751114
set TK4[5]=1093751112
set TK4[6]=1093751119
set TK4[7]=1093751118
set TK4[8]=1093751117
set TK4[9]=1093751111
set TK4[10]=1093751121
set HL4[0]=1093748555
set HL4[1]=1093748556
set HL4[2]=1093748554
set HL4[3]=1093748560
set HL4[4]=1093748557
set HL4[5]=1093748558
set HL4[6]=1093748559
set HL4[7]=1093748553
set HL4[8]=1093748561
set H14[0]=1093747533
set H14[1]=1093747531
set H14[2]=1093747526
set H14[3]=1093747529
set H14[4]=1093747527
set H14[5]=1093747528
set U9=CreateTrigger()
call TriggerAddCondition(U9,Condition(function IR8))
set V9[0]=1747990855
set X9[0]=50
set V9[1]=1747990868
set X9[1]=100
set V9[2]=1747990854
set X9[2]=150
set V9[3]=1747990856
set X9[3]=200
set V9[4]=1747990853
set X9[4]=250
set V9[5]=1747990852
set X9[5]=300
set V9[6]=1747990851
set X9[6]=350
set V9[7]=1747990850
set X9[7]=400
set V9[8]=1747990841
set X9[8]=450
set V9[9]=1747990849
set X9[9]=500
set V9[10]=1747990858
set X9[10]=550
set V9[11]=1747990859
set X9[11]=600
set V9[12]=1747990860
set X9[12]=650
set V9[13]=1747990861
set X9[13]=700
set V9[14]=1747990862
set X9[14]=750
set V9[15]=1747990863
set X9[15]=800
set V9[16]=1747990864
set X9[16]=850
set V9[17]=1747990865
set X9[17]=900
set V9[18]=1747990866
set X9[18]=950
set V9[19]=1747990867
set X9[19]=1000
set V9[20]=1747990857
set X9[20]=1050
set V9[21]=1747990874
set X9[21]=1100
set V9[22]=1747990872
set X9[22]=1150
set V9[23]=1747992881
set X9[23]=1200
set V9[24]=1747992882
set X9[24]=1250
set V9[25]=1747992886
set X9[25]=1300
set V9[26]=1747992883
set X9[26]=1350
set V9[27]=1747992884
set X9[27]=1400
set V9[28]=1747990873
set X9[28]=1450
set V9[29]=1747990870
set X9[29]=1500
set V9[30]=1747992880
set X9[30]=1550
set V9[31]=1747990869
set X9[31]=1600
set V9[32]=1747992902
set X9[32]=1650
set V9[33]=1747992900
set X9[33]=1700
set V9[34]=1747992901
set X9[34]=1750
set V9[35]=1747992899
set X9[35]=1800
set V9[36]=1747992898
set X9[36]=1850
set V9[37]=1747992897
set X9[37]=1900
set V9[38]=1747992889
set X9[38]=1950
set V9[39]=1747992903
set X9[39]=2000
set V9[40]=1747992887
set X9[40]=2050
set V9[41]=1747992911
set X9[41]=2100
set V9[42]=1747992921
set X9[42]=2150
set V9[43]=1747992904
set X9[43]=2200
set V9[44]=1747992905
set X9[44]=2250
set V9[45]=1747992906
set X9[45]=2300
set V9[46]=1747992912
set X9[46]=2350
set V9[47]=1747992913
set X9[47]=2400
set V9[48]=1747992907
set X9[48]=2450
set V9[49]=1747992914
set X9[49]=2500
set V9[50]=1747992908
set X9[50]=2550
set V9[51]=1747992915
set X9[51]=2600
set V9[52]=1747990871
set X9[52]=2650
set V9[53]=1747992909
set X9[53]=2700
set V9[54]=1747992888
set X9[54]=2750
set V9[55]=1747992916
set X9[55]=2800
set V9[56]=1747992917
set X9[56]=2850
set V9[57]=1747992910
set X9[57]=2900
set V9[58]=1747992918
set X9[58]=2950
set V9[59]=1747992919
set X9[59]=3000
set W9[0]=V9[IH8(1)]
set W9[1]=V9[IH8(1)]
set W9[2]=V9[IH8(1)]
set W9[3]=V9[IH8(1)]
set W9[4]=V9[IH8(1)]
set W9[5]=V9[IH8(1)]
set W9[6]=V9[IH8(1)]
set W9[7]=V9[IH8(1)]
set W9[8]=V9[IH8(1)]
set W9[9]=V9[IH8(1)]
set W9[10]=V9[IH8(1)]
set W9[11]=V9[IH8(1)]
set W9[12]=V9[IH8(1)]
set W9[13]=V9[IH8(1)]
set W9[14]=V9[IH8(1)]
set L7=InitHashtable()
set IW4=Rect(-7040,-7680,7040,7168)
call SetFloatGameState(GAME_STATE_TIME_OF_DAY,6.00)
call SuspendTimeOfDay(false)
call SetTimeOfDayScale(0.5)
call SetSkyModel("Environment\\Sky\\FoggedSky\\FoggedSky.mdl")
call SetCreepCampFilterState(true)
set vo="Normal Mode"
call TimerStart(W,99999.00,false,null)
set Bo=AddWeatherEffect(bj_mapInitialPlayableArea,1380018290)
set bo=AddWeatherEffect(bj_mapInitialPlayableArea,1397645939)
set fL=AddWeatherEffect(bj_mapInitialPlayableArea,1280470369)
set FL=AddWeatherEffect(bj_mapInitialPlayableArea,1464822903)
set Z7[0]=Player(0)
set Z7[1]=Player(1)
set Z7[2]=Player(2)
set Z7[3]=Player(3)
set Z7[4]=Player(4)
set Z7[5]=Player(5)
set A7[0]=Player(6)
set A7[1]=Player(7)
set A7[2]=Player(8)
set A7[3]=Player(9)
set A7[4]=Player(10)
set A7[5]=Player(11)
set B7=Player(12)
set C7=Player(15)
call SetUnitPathing(fJ,false)
call SetUnitPathing(FJ,false)
call SetUnitPathing(lJ,false)
call SetUnitPathing(DJ,false)
call SetUnitPathing(CJ,false)
call EN9(CJ,true)
call EN9(DJ,true)
call EN9(lJ,true)
call EN9(FJ,true)
call EN9(fJ,true)
set Z=GetUnitLoc(CJ)
set vv=GetUnitLoc(fJ)
set ev=GetUnitLoc(lJ)
set ov=GetUnitLoc(DJ)
set rv=GetUnitLoc(FJ)
set N8=1093678663
set O8[1]=vv
set O8[2]=ov
set O8[3]=ev
set O8[4]=rv
set O8[5]=Z
set Jv=GetRectCenter(jo)
set lv=GetRectCenter(lo)
set Lv=GetRectCenter(go)
set mv=GetRectCenter(zo)
set qv=GetRectCenter(er)
set pv=GetRectCenter(wo)
set Qv=GetRectCenter(Xr)
set tv=GetRectCenter(Er)
set sv=GetRectCenter(ar)
set Tv=GetRectCenter(Uo)
set Wv=GetRectCenter(to)
set Uv=GetRectCenter(Qo)
set F7=GetRectCenter(MD)
set G7=GetRectCenter(FD)
set Y8=true
set IX4=GetUnitX(vk)
set IY4=GetUnitY(vk)
set ML=GetUnitX(ik)
set PL=GetUnitY(ik)
set QL=GetUnitX(xk)
set SL=GetUnitY(xk)
set tL=GetUnitX(ek)
set TL=GetUnitY(ek)
set UL=GetUnitX(Wk)
set wL=GetUnitY(Wk)
set zL=GetUnitX(JJ)
set vm=GetUnitY(JJ)
set em=GetUnitX(GJ)
set xm=GetUnitY(GJ)
set om=GetUnitX(dJ)
set rm=GetUnitY(dJ)
set im=GetUnitX(LJ)
set am=GetUnitY(LJ)
set Vm=GetUnitX(ak)
set Em=GetUnitY(ak)
set Xm=GetUnitX(dl)
set Om=GetUnitY(dl)
set Am=GetUnitX(BJ)
set Nm=GetUnitY(BJ)
set bm=GetUnitX(Ok)
set Bm=GetUnitY(Ok)
set cm=GetUnitX(Ek)
set Cm=GetUnitY(Ek)
set dm=GetUnitX(nk)
set fm=GetUnitY(nk)
set Fm=GetUnitX(Rk)
set hm=GetUnitY(Rk)
set Jm=GetUnitX(MJ)
set lm=GetUnitY(MJ)
set Mm=GetUnitX(Vk)
set pm=GetUnitY(Vk)
set Pm=GetUnitX(Nk)
set Qm=GetUnitY(Nk)
set Tm=GetUnitX(Ak)
set Um=GetUnitY(Ak)
set wm=GetUnitX(Fk)
set Wm=GetUnitY(Fk)
set zm=GetUnitX(Bk)
set vM=GetUnitY(Bk)
set eM=GetUnitX(bk)
set oM=GetUnitY(bk)
set rM=GetUnitX(ck)
set iM=GetUnitY(ck)
set aM=GetUnitX(fk)
set nM=GetUnitY(fk)
set VM=GetUnitX(dk)
set XM=GetUnitY(dk)
set AM=GetUnitX(Ck)
set bM=GetUnitY(Ck)
set BM=GetUnitX(Gk)
set cM=GetUnitY(Gk)
set dM=GetUnitX(gk)
set fM=GetUnitY(gk)
set gM=GetUnitX(lk)
set hM=GetUnitY(lk)
set HM=GetUnitX(Jk)
set JM=GetUnitY(Jk)
set kM=GetUnitX(Lk)
set lM=GetUnitY(Lk)
set pM=GetUnitX(pk)
set sM=GetUnitY(pk)
set tM=GetUnitX(Pk)
set wM=GetUnitY(Pk)
set zM=GetUnitX(jk)
set vp=GetUnitY(jk)
set ep=GetUnitX(Qk)
set op=GetUnitY(Qk)
set rp=GetUnitX(Sk)
set ap=GetUnitY(Sk)
set Vp=GetUnitX(qk)
set Ep=GetUnitY(qk)
set Xp=GetUnitX(tk)
set Rp=GetUnitY(tk)
set Ap=GetUnitX(Uk)
set bp=GetUnitY(Uk)
set Bp=GetUnitX(ok)
set cp=GetUnitY(ok)
set Cp=GetUnitX(wk)
set dp=GetUnitY(wk)
set fp=GetUnitX(zk)
set Fp=GetUnitY(zk)
set gp=GetUnitX(yk)
set Hp=GetUnitY(yk)
call RemoveUnit(Nk)
call RemoveUnit(Ck)
call RemoveUnit(ck)
call RemoveUnit(Ak)
call RemoveUnit(Gk)
call RemoveUnit(fk)
call RemoveUnit(Fk)
call RemoveUnit(gk)
call RemoveUnit(dk)
call RemoveUnit(ok)
call RemoveUnit(wk)
call RemoveUnit(BJ)
call RemoveUnit(Bk)
call RemoveUnit(bk)
call RemoveUnit(lk)
call RemoveUnit(Jk)
call RemoveUnit(Lk)
call RemoveUnit(pk)
call RemoveUnit(Pk)
call RemoveUnit(jk)
call RemoveUnit(Qk)
call RemoveUnit(Sk)
call RemoveUnit(qk)
call RemoveUnit(tk)
call RemoveUnit(Uk)
call RemoveUnit(ak)
call RemoveUnit(dl)
call RemoveUnit(LJ)
call RemoveUnit(dJ)
call RemoveUnit(GJ)
call RemoveUnit(JJ)
call RemoveUnit(xk)
call RemoveUnit(ek)
call RemoveUnit(vk)
call RemoveUnit(ik)
call RemoveUnit(Wk)
call RemoveUnit(Ok)
call RemoveUnit(Ek)
call RemoveUnit(nk)
call RemoveUnit(Rk)
call RemoveUnit(MJ)
call RemoveUnit(Vk)
call RemoveUnit(zk)
call RemoveUnit(yk)
set IZ4=CreateUnit(Z7[0],1852206952,IX4,IY4,270)
set I34=CreateUnit(C7,1749236021,ML,PL,270)
set IL4=CreateUnit(C7,1848652107,QL,SL,270)
set I04=CreateUnit(C7,1849897784,tL,TL,270)
set I_4=CreateUnit(C7,1697657397,UL,wL,270)
set J44=CreateUnit(C7,1848651862,zL,vm,270)
set J74=CreateUnit(C7,1848651863,em,xm,270)
set J84=CreateUnit(C7,1848651826,om,rm,270)
set J94=CreateUnit(C7,1848651864,im,am,270)
set JD4=CreateUnit(C7,1848651833,Vm,Em,270)
set JE4=CreateUnit(C7,1848657989,Xm,Om,270)
set JF4=CreateUnit(Z7[0],1702129516,Am,Nm,270)
set JG4=CreateUnit(Z7[0],1697656914,bm,Bm,90)
set JH4=CreateUnit(Z7[0],1697656914,cm,Cm,45)
set JI4=CreateUnit(Z7[0],1697656914,dm,fm,0)
set JJ4=CreateUnit(Z7[0],1697657137,Fm,hm,90)
set JK4=CreateUnit(Z7[0],1697657137,Jm,lm,45)
set JM4=CreateUnit(Z7[0],1697657137,Mm,pm,0)
set JN4=CreateUnit(Z7[0],1697656915,Pm,Qm,90)
set JO4=CreateUnit(Z7[0],1697656915,Tm,Um,45)
set JP4=CreateUnit(Z7[0],1697656915,wm,Wm,0)
set JQ4=CreateUnit(Z7[0],1697657145,zm,vM,45)
set JR4=CreateUnit(Z7[0],1697657145,eM,oM,45)
set JS4=CreateUnit(Z7[0],1700884333,rM,iM,90)
set JT4=CreateUnit(Z7[0],1700884333,aM,nM,45)
set JU4=CreateUnit(Z7[0],1700884333,VM,XM,0)
set JV4=CreateUnit(Z7[0],1700884325,AM,bM,90)
set JW4=CreateUnit(Z7[0],1700884325,BM,cM,45)
set JX4=CreateUnit(Z7[0],1700884325,dM,fM,0)
set fP=CreateUnit(Z7[0],1701670775,gM,hM,270)
set FP=CreateUnit(Z7[0],1701670775,HM,JM,270)
set lP=CreateUnit(Z7[0],1701670775,kM,lM,270)
set LP=CreateUnit(Z7[0],1701670775,pM,sM,270)
set MP=CreateUnit(Z7[0],1701670775,tM,wM,270)
set pP=CreateUnit(Z7[0],1701670775,zM,vp,270)
set PP=CreateUnit(Z7[0],1701670775,ep,op,270)
set qP=CreateUnit(Z7[0],1701670775,rp,ap,270)
set QP=CreateUnit(Z7[0],1701670775,Vp,Ep,270)
set sP=CreateUnit(Z7[0],1701670775,Xp,Rp,270)
set tP=CreateUnit(Z7[0],1701670775,Ap,bp,270)
set WP=CreateUnit(Z7[0],1700884343,Bp,cp,270)
set zP=CreateUnit(Z7[0],1700884343,Cp,dp,270)
set vq=CreateUnit(Z7[0],1701080930,fp,Fp,270)
set eq=CreateUnit(Z7[0],1701080930,gp,Hp,270)
set QQ4=Rect(GetRectMinX(bj_mapInitialPlayableArea),GetRectMinY(bj_mapInitialPlayableArea),GetUnitX(JN4)+800,GetUnitY(JN4)+800)
set QR4=Rect(GetRectMinX(bj_mapInitialPlayableArea),GetRectMinY(bj_mapInitialPlayableArea),GetUnitX(JO4)+1132,GetUnitY(JO4)+1132)
set QS4=Rect(GetRectMinX(bj_mapInitialPlayableArea),GetRectMinY(bj_mapInitialPlayableArea),GetUnitX(JP4)+800,GetUnitY(JP4)+800)
call SetPlayerAbilityAvailable(C7,1098018609,false)
call SetUnitColor(I34,gL)
call SetUnitColor(I_4,gL)
call SetUnitColor(I04,JL)
call SetUnitColor(IL4,JL)
call SetUnitColor(J44,JL)
call SetUnitColor(J74,JL)
call SetUnitColor(J84,JL)
call SetUnitColor(J94,JL)
call SetUnitColor(JD4,JL)
call EN9(JG4,true)
call EN9(JH4,true)
call EN9(JI4,true)
call EN9(JJ4,true)
call EN9(JK4,true)
call EN9(JM4,true)
call EN9(JN4,true)
call EN9(JO4,true)
call EN9(JP4,true)
call EN9(JQ4,true)
call EN9(JR4,true)
call EN9(JF4,true)
call EN9(JS4,true)
call EN9(JT4,true)
call EN9(JU4,true)
call EN9(JV4,true)
call EN9(JW4,true)
call EN9(JX4,true)
call EN9(WP,true)
call EN9(zP,true)
call EN9(vq,true)
call EN9(eq,true)
call EN9(fP,true)
call EN9(FP,true)
call EN9(lP,true)
call EN9(LP,true)
call EN9(MP,true)
call EN9(pP,true)
call EN9(PP,true)
call EN9(qP,true)
call EN9(QP,true)
call EN9(sP,true)
call EN9(tP,true)
set JY4=GetUnitX(lK)
set JZ4=GetUnitY(lK)
set rq=GetUnitX(cK)
set iq=GetUnitY(cK)
set aq=GetUnitX(CK)
set Eq=GetUnitY(CK)
set Rq=GetUnitX(dK)
set Aq=GetUnitY(dK)
set Nq=GetUnitX(bK)
set bq=GetUnitY(bK)
set Bq=GetUnitX(AK)
set cq=GetUnitY(AK)
set Cq=GetUnitX(OK)
set Dq=GetUnitY(OK)
set fq=GetUnitX(XK)
set Fq=GetUnitY(XK)
set Hq=GetUnitX(NK)
set jq=GetUnitY(NK)
set Jq=GetUnitX(BK)
set Mq=GetUnitY(BK)
set qq=GetUnitX(QJ)
set Qq=GetUnitY(QJ)
set Sq=GetUnitX(WK)
set tq=GetUnitY(WK)
set Uq=GetUnitX(HJ)
set zq=GetUnitY(HJ)
set Zq=GetUnitX(ZK)
set vQ=GetUnitY(ZK)
set eQ=GetUnitX(qJ)
set xQ=GetUnitY(qJ)
set oQ=GetUnitX(UJ)
set iQ=GetUnitY(UJ)
set aQ=GetUnitX(vl)
set EQ=GetUnitY(vl)
set OQ=GetUnitX(PJ)
set RQ=GetUnitY(PJ)
set AQ=GetUnitX(EK)
set NQ=GetUnitY(EK)
set bQ=GetUnitX(el)
set BQ=GetUnitY(el)
set cQ=GetUnitX(Bl)
set CQ=GetUnitY(Bl)
set fQ=GetUnitX(xl)
set FQ=GetUnitY(xl)
set hQ=GetUnitX(SK)
set HQ=GetUnitY(SK)
set lQ=GetUnitX(VK)
set LQ=GetUnitY(VK)
set mQ=GetUnitX(QK)
set MQ=GetUnitY(QK)
set PQ=GetUnitX(bl)
set QQ=GetUnitY(bl)
set SQ=GetUnitX(aK)
set UQ=GetUnitY(aK)
set WQ=GetUnitX(zK)
set zQ=GetUnitY(zK)
set ZQ=GetUnitX(Nl)
set vs=GetUnitY(Nl)
set es=GetUnitX(El)
set os=GetUnitY(El)
set rs=GetUnitX(rl)
set as=GetUnitY(rl)
set ns=GetUnitX(Rl)
set Vs=GetUnitY(Rl)
set Es=GetUnitX(xK)
set Xs=GetUnitY(xK)
set Rs=GetUnitX(Ol)
set As=GetUnitY(Ol)
set Ns=GetUnitX(ol)
set bs=GetUnitY(ol)
set Bs=GetUnitX(al)
set cs=GetUnitY(al)
set Cs=GetUnitX(Xl)
set Ds=GetUnitY(Xl)
set fs=GetUnitX(cl)
set Fs=GetUnitY(cl)
set Hs=GetUnitX(vK)
set js=GetUnitY(vK)
set Js=GetUnitX(TK)
set Ks=GetUnitY(TK)
set ls=GetUnitX(eK)
set Ls=GetUnitY(eK)
set ms=GetUnitX(Al)
set Ms=GetUnitY(Al)
set ps=GetUnitX(Vl)
set Ps=GetUnitY(Vl)
set Qs=GetUnitX(wK)
set Ss=GetUnitY(wK)
call RemoveUnit(El)
call RemoveUnit(rl)
call RemoveUnit(Rl)
call RemoveUnit(xK)
call RemoveUnit(Ol)
call RemoveUnit(ol)
call RemoveUnit(al)
call RemoveUnit(Xl)
call RemoveUnit(cl)
call RemoveUnit(vK)
call RemoveUnit(TK)
call RemoveUnit(HJ)
call RemoveUnit(UJ)
call RemoveUnit(EK)
call RemoveUnit(ZK)
call RemoveUnit(vl)
call RemoveUnit(el)
call RemoveUnit(qJ)
call RemoveUnit(PJ)
call RemoveUnit(Bl)
call RemoveUnit(xl)
call RemoveUnit(SK)
call RemoveUnit(VK)
call RemoveUnit(QK)
call RemoveUnit(bl)
call RemoveUnit(aK)
call RemoveUnit(zK)
call RemoveUnit(Nl)
call RemoveUnit(eK)
call RemoveUnit(Al)
call RemoveUnit(Vl)
call RemoveUnit(wK)
call RemoveUnit(WK)
call RemoveUnit(AK)
call RemoveUnit(OK)
call RemoveUnit(XK)
call RemoveUnit(NK)
call RemoveUnit(BK)
call RemoveUnit(QJ)
call RemoveUnit(dK)
call RemoveUnit(CK)
call RemoveUnit(lK)
call RemoveUnit(cK)
call RemoveUnit(bK)
set JA4=CreateUnit(A7[0],1852073580,JY4,JZ4,270)
set JB4=CreateUnit(C7,1849897781,rq,iq,270)
set zs=CreateUnit(C7,1848652107,aq,Eq,270)
set Zs=CreateUnit(C7,1849897784,Rq,Aq,270)
set JC4=CreateUnit(C7,1966092369,Nq,bq,270)
set eS=CreateUnit(C7,1848651862,Bq,cq,0)
set oS=CreateUnit(C7,1848651863,Cq,Dq,0)
set rS=CreateUnit(C7,1848651826,fq,Fq,0)
set aS=CreateUnit(C7,1848651864,Hq,jq,0)
set nS=CreateUnit(C7,1848651833,Jq,Mq,0)
set VS=CreateUnit(C7,1848657989,qq,Qq,0)
set J34=CreateUnit(A7[0],1970172012,Sq,tq,220)
set J64=CreateUnit(A7[0],1966092365,Uq,zq,270)
set JL4=CreateUnit(A7[0],1966092365,Zq,vQ,270)
set J14=CreateUnit(A7[0],1966092365,eQ,xQ,270)
set J04=CreateUnit(A7[0],1966092356,oQ,iQ,270)
set J54=CreateUnit(A7[0],1966092356,aQ,EQ,270)
set J24=CreateUnit(A7[0],1966092356,OQ,RQ,270)
set J_4=CreateUnit(A7[0],1966092366,AQ,NQ,270)
set K44=CreateUnit(A7[0],1966092366,bQ,BQ,270)
set K74=CreateUnit(A7[0],1966092366,cQ,CQ,270)
set K84=CreateUnit(A7[0],1966092372,fQ,FQ,270)
set K94=CreateUnit(A7[0],1966092372,hQ,HQ,270)
set KD4=CreateUnit(A7[0],1970496880,lQ,LQ,270)
set KE4=CreateUnit(A7[0],1970496880,mQ,MQ,270)
set KF4=CreateUnit(A7[0],1970496880,PQ,QQ,270)
set KG4=CreateUnit(A7[0],1970564964,SQ,UQ,270)
set KH4=CreateUnit(A7[0],1970564964,WQ,zQ,270)
set KI4=CreateUnit(A7[0],1970564964,ZQ,vs,270)
call PC7()
set PS=CreateUnit(A7[0],1970956647,es,os,270)
set QS=CreateUnit(A7[0],1970956647,rs,as,270)
set SS=CreateUnit(A7[0],1970956647,ns,Vs,270)
set tS=CreateUnit(A7[0],1970956647,Es,Xs,270)
set TS=CreateUnit(A7[0],1970956647,Rs,As,270)
set US=CreateUnit(A7[0],1970956647,Ns,bs,270)
set WS=CreateUnit(A7[0],1970956647,Bs,cs,270)
set ZS=CreateUnit(A7[0],1970956647,Cs,Ds,270)
set vt=CreateUnit(A7[0],1970956647,fs,Fs,270)
set et=CreateUnit(A7[0],1970956647,Hs,js,270)
set xt=CreateUnit(A7[0],1970956647,Js,Ks,270)
set ot=CreateUnit(A7[0],1970495856,ls,Ls,270)
set rt=CreateUnit(A7[0],1970495856,ms,Ms,270)
set at=CreateUnit(A7[0],1969385326,ps,Ps,270)
set Vt=CreateUnit(A7[0],1969385326,Qs,Ss,270)
set QN4=Rect(GetUnitX(J_4)-800,GetUnitY(J_4)-800,GetRectMaxX(bj_mapInitialPlayableArea),GetRectMaxY(bj_mapInitialPlayableArea))
set QO4=Rect(GetUnitX(K44)-1132,GetUnitY(K44)-1132,GetRectMaxX(bj_mapInitialPlayableArea),GetRectMaxY(bj_mapInitialPlayableArea))
set QP4=Rect(GetUnitX(K74)-800,GetUnitY(K74)-800,GetRectMaxX(bj_mapInitialPlayableArea),GetRectMaxY(bj_mapInitialPlayableArea))
call SetUnitColor(JB4,hL)
call SetUnitColor(Zs,JL)
call SetUnitColor(zs,JL)
call SetUnitColor(eS,JL)
call SetUnitColor(oS,JL)
call SetUnitColor(rS,JL)
call SetUnitColor(aS,JL)
call SetUnitColor(nS,JL)
call EN9(J64,true)
call EN9(JL4,true)
call EN9(J14,true)
call EN9(J04,true)
call EN9(J54,true)
call EN9(J24,true)
call EN9(J_4,true)
call EN9(K44,true)
call EN9(K74,true)
call EN9(K84,true)
call EN9(K94,true)
call EN9(J34,true)
call EN9(KD4,true)
call EN9(KE4,true)
call EN9(KF4,true)
call EN9(KG4,true)
call EN9(KH4,true)
call EN9(KI4,true)
call EN9(ot,true)
call EN9(rt,true)
call EN9(at,true)
call EN9(Vt,true)
call EN9(PS,true)
call EN9(QS,true)
call EN9(SS,true)
call EN9(tS,true)
call EN9(TS,true)
call EN9(US,true)
call EN9(WS,true)
call EN9(ZS,true)
call EN9(vt,true)
call EN9(et,true)
call EN9(xt,true)
set K8H=GetUnitX(wJ)
set K9H=GetUnitY(wJ)
set KDH=GetUnitX(ZJ)
set KEH=GetUnitY(ZJ)
set KFH=GetUnitX(zJ)
set KGH=GetUnitY(zJ)
set KHH=GetUnitX(WJ)
set KIH=GetUnitY(WJ)
set KJH=GetUnitX(yJ)
set KKH=GetUnitY(yJ)
set KMH=GetUnitX(FK)
set KNH=GetUnitY(FK)
set KOH=GetUnitX(fK)
set KPH=GetUnitY(fK)
set KQH=GetUnitX(JK)
set KRH=GetUnitY(JK)
set KSH=GetUnitX(gK)
set KTH=GetUnitY(gK)
set KUH=GetUnitX(GK)
set KVH=GetUnitY(GK)
set JH8=125
call RemoveUnit(wJ)
call RemoveUnit(ZJ)
call RemoveUnit(zJ)
call RemoveUnit(WJ)
call RemoveUnit(yJ)
call RemoveUnit(FK)
call RemoveUnit(fK)
call RemoveUnit(JK)
call RemoveUnit(gK)
call RemoveUnit(GK)
set KJ4=CreateUnit(Player(1),1852010352,K8H,K9H,270)
call UnitAddAbility(KJ4,1093743665)
call ClearSelectionForPlayer(Player(1))
call SelectUnitAddForPlayer(KJ4,Player(1))
if GetLocalPlayer()==Player(1)then
call SetUnitVertexColor(KJ4,255,255,255,255)
else
call SetUnitVertexColor(KJ4,255,255,255,JH8)
endif
set KK4=CreateUnit(Player(2),1852010352,KDH,KEH,270)
call UnitAddAbility(KK4,1093743665)
call ClearSelectionForPlayer(Player(2))
call SelectUnitAddForPlayer(KK4,Player(2))
if GetLocalPlayer()==Player(2)then
call SetUnitVertexColor(KK4,255,255,255,255)
else
call SetUnitVertexColor(KK4,255,255,255,JH8)
endif
set KM4=CreateUnit(Player(3),1852010352,KFH,KGH,270)
call UnitAddAbility(KM4,1093743665)
call ClearSelectionForPlayer(Player(3))
call SelectUnitAddForPlayer(KM4,Player(3))
if GetLocalPlayer()==Player(3)then
call SetUnitVertexColor(KM4,255,255,255,255)
else
call SetUnitVertexColor(KM4,255,255,255,JH8)
endif
set KN4=CreateUnit(Player(4),1852010352,KHH,KIH,270)
call UnitAddAbility(KN4,1093743665)
call ClearSelectionForPlayer(Player(4))
call SelectUnitAddForPlayer(KN4,Player(4))
if GetLocalPlayer()==Player(4)then
call SetUnitVertexColor(KN4,255,255,255,255)
else
call SetUnitVertexColor(KN4,255,255,255,JH8)
endif
set KO4=CreateUnit(Player(5),1852010352,KJH,KKH,270)
call UnitAddAbility(KO4,1093743665)
call ClearSelectionForPlayer(Player(5))
call SelectUnitAddForPlayer(KO4,Player(5))
if GetLocalPlayer()==Player(5)then
call SetUnitVertexColor(KO4,255,255,255,255)
else
call SetUnitVertexColor(KO4,255,255,255,JH8)
endif
set KP4=CreateUnit(Player(7),1852010352,KMH,KNH,270)
call UnitAddAbility(KP4,1093752649)
call ClearSelectionForPlayer(Player(7))
call SelectUnitAddForPlayer(KP4,Player(7))
if GetLocalPlayer()==Player(7)then
call SetUnitVertexColor(KP4,255,255,255,255)
else
call SetUnitVertexColor(KP4,255,255,255,JH8)
endif
set KQ4=CreateUnit(Player(8),1852010352,KOH,KPH,270)
call UnitAddAbility(KQ4,1093752649)
call ClearSelectionForPlayer(Player(8))
call SelectUnitAddForPlayer(KQ4,Player(8))
if GetLocalPlayer()==Player(8)then
call SetUnitVertexColor(KQ4,255,255,255,255)
else
call SetUnitVertexColor(KQ4,255,255,255,JH8)
endif
set KR4=CreateUnit(Player(9),1852010352,KQH,KRH,270)
call UnitAddAbility(KR4,1093752649)
call ClearSelectionForPlayer(Player(9))
call SelectUnitAddForPlayer(KR4,Player(9))
if GetLocalPlayer()==Player(9)then
call SetUnitVertexColor(KR4,255,255,255,255)
else
call SetUnitVertexColor(KR4,255,255,255,JH8)
endif
set KS4=CreateUnit(Player(10),1852010352,KSH,KTH,270)
call UnitAddAbility(KS4,1093752649)
call ClearSelectionForPlayer(Player(10))
call SelectUnitAddForPlayer(KS4,Player(10))
if GetLocalPlayer()==Player(10)then
call SetUnitVertexColor(KS4,255,255,255,255)
else
call SetUnitVertexColor(KS4,255,255,255,JH8)
endif
set KT4=CreateUnit(Player(11),1852010352,KUH,KVH,270)
call UnitAddAbility(KT4,1093752649)
call ClearSelectionForPlayer(Player(11))
call SelectUnitAddForPlayer(KT4,Player(11))
if GetLocalPlayer()==Player(11)then
call SetUnitVertexColor(KT4,255,255,255,255)
else
call SetUnitVertexColor(KT4,255,255,255,JH8)
endif
set KU4[1]=KJ4
set KU4[2]=KK4
set KU4[3]=KM4
set KU4[4]=KN4
set KU4[5]=KO4
set KU4[7]=KP4
set KU4[8]=KQ4
set KU4[9]=KR4
set KU4[10]=KS4
set KU4[11]=KT4
set KV4[1]=GetUnitX(KJ4)
set KV4[2]=GetUnitX(KK4)
set KV4[3]=GetUnitX(KM4)
set KV4[4]=GetUnitX(KN4)
set KV4[5]=GetUnitX(KO4)
set KV4[7]=GetUnitX(KP4)
set KV4[8]=GetUnitX(KQ4)
set KV4[9]=GetUnitX(KR4)
set KV4[10]=GetUnitX(KS4)
set KV4[11]=GetUnitX(KT4)
set KW4[1]=GetUnitY(KJ4)
set KW4[2]=GetUnitY(KK4)
set KW4[3]=GetUnitY(KM4)
set KW4[4]=GetUnitY(KN4)
set KW4[5]=GetUnitY(KO4)
set KW4[7]=GetUnitY(KP4)
set KW4[8]=GetUnitY(KQ4)
set KW4[9]=GetUnitY(KR4)
set KW4[10]=GetUnitY(KS4)
set KW4[11]=GetUnitY(KT4)
call JM8()
call JR8()
call DK8(1702061422,"stand 4")
call DK8(1697656918,"stand 4")
call DK8(1701081721,"spell")
call DK8(1697656919,"spell")
call DK8(1969711215,"stand victory")
call DK8(1966092337,"stand victory")
call DK8(1970169187,"stand channel")
call DK8(1966092338,"stand channel")
call DG8(V24,0.4,V24)
call DG8(W44,0.5,W44)
call DG8(V14,1.2,V14)
call DG8(V04,0.5,V04)
call DG8(V54,0.5,V54)
call DG8(W74,1,W74)
set t=CreateTrigger()
set j8=Player(15)
set KWH=GetUnitX(qK)
set KXH=GetUnitY(qK)
set KYH=GetUnitX(tJ)
set KZH=GetUnitY(tJ)
set KAH=GetUnitX(LK)
set KBH=GetUnitY(LK)
set KCH=GetUnitX(SJ)
set K3H=GetUnitY(SJ)
set K6H=GetUnitX(IF4)
set KLH=GetUnitY(IF4)
set K1H=GetUnitX(cJ)
set K0H=GetUnitY(cJ)
set K5H=GetUnitX(gJ)
set K2H=GetUnitY(gJ)
set K_H=GetUnitX(PK)
set M4H=GetUnitY(PK)
set M7H=GetUnitX(Cl)
set M8H=GetUnitY(Cl)
set MEH=GetUnitX(XT4)
set MFH=GetUnitY(XT4)
set M9H=GetUnitX(XV4)
set MDH=GetUnitY(XV4)
set MGH=GetUnitX(XU4)
set MHH=GetUnitY(XU4)
call RemoveUnit(qK)
call RemoveUnit(IF4)
call RemoveUnit(tJ)
call RemoveUnit(SJ)
call RemoveUnit(LK)
call RemoveUnit(cJ)
call RemoveUnit(gJ)
call RemoveUnit(PK)
call RemoveUnit(Cl)
call RemoveUnit(XT4)
call RemoveUnit(XV4)
call RemoveUnit(XU4)
set MP4=CreateUnit(j8,1848651832,KCH,K3H,270)
set MQ4=CreateUnit(j8,1848657738,K6H,KLH,270)
set MR4=CreateUnit(j8,1848652100,K1H,K0H,270)
set MS4=CreateUnit(j8,1848659016,M9H,MDH,270)
set MT4=CreateUnit(j8,1848652110,KWH,KXH,270)
set MU4=CreateUnit(j8,1848651831,KYH,KZH,270)
set MV4=CreateUnit(j8,1848651829,KAH,KBH,270)
set MW4=CreateUnit(j8,1848659017,MEH,MFH,270)
set MX4=CreateUnit(j8,1848652098,K5H,K2H,270)
set MY4=CreateUnit(j8,1848652112,K_H,M4H,270)
set MZ4=CreateUnit(j8,1848657739,M7H,M8H,270)
set MA4=CreateUnit(j8,1848659018,MGH,MHH,270)
call SetUnitColor(MP4,ConvertPlayerColor(1))
call SetUnitColor(MQ4,ConvertPlayerColor(1))
call SetUnitColor(MR4,ConvertPlayerColor(9))
call SetUnitColor(MS4,ConvertPlayerColor(9))
call SetUnitColor(MT4,ConvertPlayerColor(6))
call SetUnitColor(MU4,ConvertPlayerColor(6))
call SetUnitColor(MV4,ConvertPlayerColor(10))
call SetUnitColor(MW4,ConvertPlayerColor(10))
call SetUnitColor(MX4,ConvertPlayerColor(0))
call SetUnitColor(MY4,ConvertPlayerColor(0))
call SetUnitColor(MZ4,ConvertPlayerColor(11))
call SetUnitColor(MA4,ConvertPlayerColor(11))
set D87[1]=MP4
set D87[2]=MQ4
set D87[3]=MR4
set D87[4]=MS4
set D87[5]=MT4
set D87[6]=MU4
set D87[7]=MV4
set D87[8]=MW4
set D87[9]=MX4
set D87[10]=MY4
set D87[11]=MZ4
set D87[12]=MA4
call WH9()
call WG9()
set t=null
call JU8()
call JC8()
set ZR=CreateTrigger()
call TriggerRegisterTimerEventSingle(ZR,0.01)
call TriggerAddAction(ZR,function J38)
set t=CreateTrigger()
call TriggerRegisterPlayerEventLeave(t,Z7[1])
call TriggerRegisterPlayerEventLeave(t,Z7[2])
call TriggerRegisterPlayerEventLeave(t,Z7[3])
call TriggerRegisterPlayerEventLeave(t,Z7[4])
call TriggerRegisterPlayerEventLeave(t,Z7[5])
call TriggerRegisterPlayerEventLeave(t,A7[1])
call TriggerRegisterPlayerEventLeave(t,A7[2])
call TriggerRegisterPlayerEventLeave(t,A7[3])
call TriggerRegisterPlayerEventLeave(t,A7[4])
call TriggerRegisterPlayerEventLeave(t,A7[5])
call TriggerAddAction(t,function KD8)
if V8 then
call JL8()
set t=CreateTrigger()
if IsPlayerObserver(KX4)then
call TriggerRegisterPlayerEventLeave(t,KX4)
endif
if IsPlayerObserver(KY4)then
call TriggerRegisterPlayerEventLeave(t,KY4)
endif
call TriggerAddAction(t,function J28)
endif
set U2[0]=false
set U2[1]=false
set U2[2]=false
set U2[3]=false
set U2[4]=false
set U2[5]=false
set U2[6]=false
set U2[7]=false
set U2[8]=false
set U2[9]=false
set U2[10]=false
set U2[11]=false
set U2[12]=false
set U2[13]=false
set U2[14]=false
set U2[15]=false
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_HERO_REVIVE_FINISH)
call TriggerAddAction(t,function WFG)
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)
call TriggerAddCondition(t,Condition(function WA8))
call TriggerAddAction(t,function XM8)
set ML4=t
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerAddAction(t,function XR8)
call TriggerAddCondition(t,Condition(function XQ8))
set M04=t
set M54=CreateTrigger()
call TriggerRegisterTimerEvent(M54,0.8,true)
call TriggerAddCondition(M54,Condition(function XS8))
call DisableTrigger(M54)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddAction(t,function EZ9)
set M24=t
call EI9(0,0,false)
call XV8()
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.5,true)
call EO8(t,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(t,Condition(function XW8))
set t=null
call DX8(1093809990)
call DX8(1093810008)
call DX8(1093809992)
call DX8(1093810006)
call DX8(1093809991)
call DX8(1093809993)
call DX8(1093809995)
call DX8(1093809994)
set DS=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(DS,Z7[0],EVENT_PLAYER_UNIT_DEATH,Condition(function A47))
call TriggerRegisterPlayerUnitEvent(DS,A7[0],EVENT_PLAYER_UNIT_DEATH,Condition(function A47))
call TriggerRegisterPlayerUnitEvent(DS,B7,EVENT_PLAYER_UNIT_DEATH,Condition(function A47))
call TriggerAddAction(DS,function XZ8)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function CI8))
set t=null
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function LF8))
call TriggerAddAction(t,function LO8)
set ES=t
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function DE9))
set t=null
set NZ4=CreateTrigger()
call TriggerAddCondition(NZ4,Condition(function DJ9))
set ZI=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(ZI,B7,EVENT_PLAYER_UNIT_DEATH,Condition(function A47))
call TriggerAddCondition(ZI,Condition(function DP9))
call TriggerAddAction(ZI,function DS9)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_DEATH,Condition(function A47))
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_DEATH,Condition(function A47))
call TriggerAddCondition(t,Condition(function DZ9))
set t=CreateTrigger()
call TriggerAddCondition(t,Condition(function E79))
call TriggerRegisterTimerEvent(t,6,false)
set t=null
set EV=EV+1
set SU[EV]=1227900486
set ZU[EV]=1227900487
set AU[EV]=0
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp"
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227895377
set ZU[EV]=1227895375
set AU[EV]=1747988785
set BU[EV]=1227894849
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBootsOfSpeed.blp"
set LU[EV]=0
set FV=EV
set EV=EV+1
set SU[EV]=1227895379
set ZU[EV]=1227895376
set AU[EV]=1747988786
set BU[EV]=1227899713
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
set LU[EV]=0
set JV=EV
set EV=EV+1
set SU[EV]=1227895374
set ZU[EV]=1227895378
set AU[EV]=1747988787
set BU[EV]=1227899731
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBoots.blp"
set LU[EV]=0
set MV=EV
set EV=EV+1
set SU[EV]=1227895384
set ZU[EV]=1227895385
set AU[EV]=1747988789
set BU[EV]=1227899956
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNCirclet.blp"
set LU[EV]=0
set NV=EV
set EV=EV+1
set SU[EV]=1227895386
set ZU[EV]=1227895859
set AU[EV]=1747988790
set BU[EV]=1227899734
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBelt.blp"
set LU[EV]=0
set OV=EV
set EV=EV+1
set SU[EV]=1227895600
set ZU[EV]=1227895860
set AU[EV]=1747988791
set BU[EV]=1227899954
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_03.blp"
set LU[EV]=0
set QV=EV
set EV=EV+1
set SU[EV]=1227895601
set ZU[EV]=1227895861
set AU[EV]=1747988792
set BU[EV]=1227899957
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNClawsOfAttack.blp"
set LU[EV]=0
set SV=EV
set EV=EV+1
set SU[EV]=1227895602
set ZU[EV]=1227895862
set AU[EV]=1747988793
set BU[EV]=1227899738
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSteelMelee.blp"
set LU[EV]=0
set TV=EV
set EV=EV+1
set SU[EV]=1227895603
set ZU[EV]=1227895863
set AU[EV]=1747988801
set BU[EV]=1227899959
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Chain_12.blp"
set LU[EV]=0
set UV=EV
set EV=EV+1
set SU[EV]=1227895604
set ZU[EV]=1227895864
set AU[EV]=1747988802
set BU[EV]=1227899736
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_19.blp"
set LU[EV]=0
set XV=EV
set EV=EV+1
set SU[EV]=1227895605
set ZU[EV]=1227895865
set AU[EV]=1747988803
set BU[EV]=1227899721
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNFrostMourne.blp"
set LU[EV]=0
set AV=EV
set EV=EV+1
set SU[EV]=1227895606
set ZU[EV]=1227895873
set AU[EV]=1747988804
set BU[EV]=1227899720
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Bow_06.blp"
set LU[EV]=0
set BV=EV
set EV=EV+1
set SU[EV]=1227895607
set ZU[EV]=1227895874
set AU[EV]=1747988805
set BU[EV]=1227899730
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp"
set LU[EV]=0
set CV=EV
set EV=EV+1
set SU[EV]=1227895608
set ZU[EV]=1227895875
set AU[EV]=1747988806
set BU[EV]=1227899722
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGauntletsOfOgrePower.blp"
set LU[EV]=0
set LV=EV
set EV=EV+1
set SU[EV]=1227895609
set ZU[EV]=1227895876
set AU[EV]=1747988807
set BU[EV]=1227899975
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGem.blp"
set LU[EV]=0
set EW=EV
set EV=EV+1
set SU[EV]=1227902291
set ZU[EV]=1227902290
set AU[EV]=0
set BU[EV]=1227902292
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGem.blp"
set LU[EV]=0
set HW=EV
set EV=EV+1
set EV=EV+1
set SU[EV]=1227895618
set ZU[EV]=1227895877
set AU[EV]=1747988808
set BU[EV]=1227899969
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHelmutPurple.blp"
set LU[EV]=0
set NW=EV
set EV=EV+1
set SU[EV]=1227895619
set ZU[EV]=1227895878
set AU[EV]=1747988809
set BU[EV]=1227899729
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPeriapt1.blp"
set LU[EV]=0
set OW=EV
set EV=EV+1
set SU[EV]=1227895620
set ZU[EV]=1227895879
set AU[EV]=1747988810
set BU[EV]=1227899733
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNNatureTouchGrow.blp"
set LU[EV]=0
set QW=EV
set EV=EV+1
set SU[EV]=1227895621
set ZU[EV]=1227895880
set AU[EV]=1747988811
set BU[EV]=1227899703
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
set LU[EV]=14
set RW=EV
set EV=EV+1
set SU[EV]=1227895621
set ZU[EV]=1227895881
set AU[EV]=1747988811
set BU[EV]=1227899976
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
set LU[EV]=0
set TW=EV
set EV=EV+1
set SU[EV]=1227895622
set ZU[EV]=1227895882
set AU[EV]=1747988812
set BU[EV]=1227899725
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNMantleOfIntelligence.blp"
set LU[EV]=0
set UW=EV
set EV=EV+1
set SU[EV]=1227895623
set ZU[EV]=1227895883
set AU[EV]=1747988813
set BU[EV]=1227899716
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUndeadShrine.blp"
set LU[EV]=0
set VW=EV
set EV=EV+1
set SU[EV]=1227895624
set ZU[EV]=1227895884
set AU[EV]=1747988814
set BU[EV]=1227899719
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalkerMasterTraining.blp"
set LU[EV]=0
set YW=EV
set EV=EV+1
set SU[EV]=1227895625
set ZU[EV]=1227895885
set AU[EV]=1747988815
set BU[EV]=1227899952
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHammer.blp"
set LU[EV]=0
set ZW=EV
set EV=EV+1
set SU[EV]=1227895626
set ZU[EV]=1227895886
set AU[EV]=1747988816
set BU[EV]=1227899726
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStaffOfNegation.blp"
set LU[EV]=0
set GX=EV
set EV=EV+1
set SU[EV]=1227895627
set ZU[EV]=1227895887
set AU[EV]=1747988817
set BU[EV]=1227899960
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalkerAdeptTraining.tga"
set LU[EV]=0
set NX=EV
set EV=EV+1
set SU[EV]=1227895628
set ZU[EV]=1227895888
set AU[EV]=1747988818
set BU[EV]=1227899717
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
set LU[EV]=0
set RX=EV
set EV=EV+1
set SU[EV]=1227895629
set ZU[EV]=1227895889
set AU[EV]=1747988819
set BU[EV]=1227899970
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Plate13.blp"
set LU[EV]=0
set SX=EV
set EV=EV+1
set SU[EV]=1227895630
set ZU[EV]=1227895890
set AU[EV]=1747988820
set BU[EV]=1227899724
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUsedSoulGem.blp"
set LU[EV]=0
set WX=EV
set EV=EV+1
set SU[EV]=1227895632
set ZU[EV]=1227895891
set AU[EV]=1747988821
set BU[EV]=1227899737
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAlleriaFlute.blp"
set LU[EV]=0
set YX=EV
set EV=EV+1
set SU[EV]=1227895633
set ZU[EV]=1227895892
set AU[EV]=1747988822
set BU[EV]=1227899977
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGoldRing.blp"
set LU[EV]=0
set ZX=EV
set EV=EV+1
set SU[EV]=1227895634
set ZU[EV]=1227895893
set AU[EV]=1747988823
set BU[EV]=1227899735
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingPurple.blp"
set LU[EV]=0
set AX=EV
set EV=EV+1
set SU[EV]=1227895635
set ZU[EV]=1227895894
set AU[EV]=1747988824
set BU[EV]=1227899978
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingSkull.blp"
set LU[EV]=0
set GY=EV
set EV=EV+1
set SU[EV]=1227895636
set ZU[EV]=1227895895
set AU[EV]=1747988825
set BU[EV]=1227899728
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRobeOfTheMagi.blp"
set LU[EV]=0
set HY=EV
set EV=EV+1
set SU[EV]=1227895637
set ZU[EV]=1227895896
set AU[EV]=1747988826
set BU[EV]=1227899715
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStaffOfTeleportation.blp"
set LU[EV]=0
set SY=EV
set EV=EV+1
set SU[EV]=1227895638
set ZU[EV]=1227895897
set AU[EV]=1747989040
set BU[EV]=1227899701
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSlippersOfAgility.blp"
set LU[EV]=0
set UY=EV
set EV=EV+1
set SU[EV]=1227895639
set ZU[EV]=1227895898
set AU[EV]=1747989041
set BU[EV]=1227899979
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSobiMask.blp"
set LU[EV]=0
set ZY=EV
set EV=EV+1
set SU[EV]=1227895640
set ZU[EV]=1227896112
set AU[EV]=1747989042
set BU[EV]=1227899953
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWandOfCyclone.blp"
set LU[EV]=0
set DZ=EV
set EV=EV+1
set SU[EV]=1227895617
set ZU[EV]=1227896113
set AU[EV]=1747989043
set BU[EV]=1227899961
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
set LU[EV]=0
set EZ=EV
set EV=EV+1
set SU[EV]=1227901762
set ZU[EV]=1227901761
set AU[EV]=0
set BU[EV]=1227901763
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
set LU[EV]=0
set HZ=EV
set EV=EV+1
set SU[EV]=1227895641
set ZU[EV]=1227896114
set AU[EV]=1747989044
set BU[EV]=1227899705
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbofSlowness.blp"
set LU[EV]=0
set NZ=EV
set EV=EV+1
set SU[EV]=1227895642
set ZU[EV]=1227896115
set AU[EV]=1747989045
set BU[EV]=1227899723
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSoulGem.blp"
set LU[EV]=0
set OZ=EV
set EV=EV+1
set SU[EV]=1227895856
set ZU[EV]=1227896116
set AU[EV]=1747989046
set BU[EV]=1227899980
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPeriapt.blp"
set LU[EV]=0
set RZ=EV
set EV=EV+1
set SU[EV]=1227895857
set ZU[EV]=1227896117
set AU[EV]=1747989047
set BU[EV]=1227899958
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSteelRanged.blp"
set LU[EV]=0
set UZ=EV
set EV=EV+1
set SU[EV]=1227894860
set ZU[EV]=1227899222
set AU[EV]=1747989058
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle0.blp"
set LU[EV]=0
set XZ=EV
set EV=EV+1
set SU[EV]=1227896133
set ZU[EV]=1227899213
set AU[EV]=0
set BU[EV]=1227899982
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle0.blp"
set LU[EV]=0
set AZ=EV
set EV=EV+1
set SU[EV]=1227899221
set ZU[EV]=1227899214
set AU[EV]=0
set BU[EV]=1227899983
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle1.blp"
set LU[EV]=0
set BZ=EV
set EV=EV+1
set SU[EV]=1227899219
set ZU[EV]=1227899215
set AU[EV]=0
set BU[EV]=1227899984
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle2.blp"
set LU[EV]=0
set CZ=EV
set EV=EV+1
set SU[EV]=1227899220
set ZU[EV]=1227899216
set AU[EV]=0
set BU[EV]=1227899985
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle3.blp"
set LU[EV]=0
set IA=EV
set EV=EV+1
set SU[EV]=1227900759
set ZU[EV]=1227900761
set AU[EV]=0
set BU[EV]=1227900979
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle_Illusion.blp"
set LU[EV]=0
set YA=EV
set EV=EV+1
set SU[EV]=1227900978
set ZU[EV]=1227900760
set AU[EV]=0
set BU[EV]=1227899986
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle_Regeneration.blp"
set LU[EV]=0
set WA=EV
set EV=EV+1
set SU[EV]=1227900758
set ZU[EV]=1227900977
set AU[EV]=0
set BU[EV]=1227900980
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle_Haste.blp"
set LU[EV]=0
set QA=EV
set EV=EV+1
set SU[EV]=1227899218
set ZU[EV]=1227900976
set AU[EV]=0
set BU[EV]=1227900982
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle_DoubleDamage.blp"
set LU[EV]=0
set NA=EV
set EV=EV+1
set SU[EV]=1227899217
set ZU[EV]=1227900762
set AU[EV]=0
set BU[EV]=1227900981
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle_Invisibility.blp"
set LU[EV]=0
set JA=EV
set EV=EV+1
set SU[EV]=1227900740
set ZU[EV]=1227900739
set AU[EV]=1747990324
set BU[EV]=1227900741
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWand.blp"
set LU[EV]=17
set ZA=EV
set EV=EV+1
set SU[EV]=1227900995
set ZU[EV]=1227900994
set AU[EV]=0
set BU[EV]=1227900993
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStarWand.blp"
set LU[EV]=17
set DT4=EV
set EV=EV+1
set SU[EV]=1227901012
set ZU[EV]=1227901010
set AU[EV]=1747990359
set BU[EV]=1227901014
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
set LU[EV]=5
set BA=EV
set EV=EV+1
set SU[EV]=1227901013
set ZU[EV]=1227901008
set AU[EV]=0
set BU[EV]=1227901015
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
set LU[EV]=5
set GB=EV
set EV=EV+1
set SU[EV]=1227902516
set ZU[EV]=1227902515
set AU[EV]=0
set BU[EV]=1227902517
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPoisonBlade.blp"
set LU[EV]=30
set QB=EV
set EV=EV+1
set SU[EV]=1227902519
set ZU[EV]=1227902518
set AU[EV]=0
set BU[EV]=1227902520
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPoisonBlade.blp"
set LU[EV]=30
set RB=EV
set EV=EV+1
set SU[EV]=1227901495
set ZU[EV]=1227901494
set AU[EV]=1747990579
set BU[EV]=1227901496
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAmulet.blp"
set LU[EV]=0
set JB=EV
set EV=EV+1
set SU[EV]=1227901514
set ZU[EV]=1227901513
set AU[EV]=1747990583
set BU[EV]=1227901515
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGreenStaff.blp"
set LU[EV]=30
set DA4=EV
set EV=EV+1
set SU[EV]=1227903033
set ZU[EV]=1227903042
set AU[EV]=1747993929
set BU[EV]=1227903041
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPendantOfMana.blp"
set LU[EV]=0
set W3=EV
set EV=EV+1
set SU[EV]=1227902273
set ZU[EV]=1227902265
set AU[EV]=1747993421
set BU[EV]=1227902274
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"
set LU[EV]=0
set E_4=EV
set EV=EV+1
set SU[EV]=1227902276
set ZU[EV]=1227902277
set AU[EV]=0
set BU[EV]=1227902275
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"
set LU[EV]=0
set F44=EV
set EV=EV+1
set SU[EV]=1227896119
set ZU[EV]=1227896131
set AU[EV]=1747989057
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAncientOfTheEarth.blp"
set LU[EV]=0
set TC=EV
set EV=EV+1
set SU[EV]=1227895858
set ZU[EV]=1227896132
set AU[EV]=1747989048
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNLesserClarityPotion.blp"
set LU[EV]=0
set OC=EV
set EV=EV+1
set SU[EV]=1227901007
set ZU[EV]=1227901006
set AU[EV]=1747990358
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNVialFull.blp"
set LU[EV]=0
set PC=EV
set EV=EV+1
set SU[EV]=1227896118
set ZU[EV]=1227896134
set AU[EV]=1747989049
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHealingSalve.blp"
set LU[EV]=0
set QC=EV
set EV=EV+1
set SU[EV]=1227896120
set ZU[EV]=1227896135
set AU[EV]=1747989059
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSentryWard.blp"
set LU[EV]=0
set VC=EV
set EV=EV+1
set SU[EV]=1227896121
set ZU[EV]=1227896136
set AU[EV]=1747989060
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBlueSentryWard.blp"
set LU[EV]=0
set WC=EV
set EV=EV+1
set SU[EV]=1227896129
set ZU[EV]=1227896137
set AU[EV]=1747989061
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"
set LU[EV]=0
set XC=EV
set EV=EV+1
set SU[EV]=1227896130
set ZU[EV]=1227896138
set AU[EV]=1747989062
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNCritterChicken.blp"
set LU[EV]=0
set ZC=EV
set EV=EV+1
set SU[EV]=1227899440
set ZU[EV]=1227899441
set AU[EV]=0
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNCheese.blp"
set LU[EV]=0
set AC=EV
set EV=EV+1
set SU[EV]=1227900743
set ZU[EV]=1227900742
set AU[EV]=1747990325
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPotionOfDivinity.blp"
set LU[EV]=30
set BC=EV
set EV=EV+1
set SU[EV]=1227900745
set ZU[EV]=1227900744
set AU[EV]=1747990326
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDustOfAppearance.blp"
set LU[EV]=60
set CC=EV
set EV=EV+1
set SU[EV]=1227901780
set ZU[EV]=1227901779
set AU[EV]=1747993145
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWandOfManaSteal.blp"
set LU[EV]=0
set LC=EV
set EV=EV+1
set SU[EV]=1227902534
set ZU[EV]=1227902535
set AU[EV]=1747993651
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSmokePotion.blp"
set LU[EV]=90
set H3=EV
set EV=EV+1
set SU[EV]=1227896369
set ZU[EV]=1227896370
set AU[EV]=0
set BU[EV]=1227895114
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbOfFire.blp"
set LU[EV]=0
set Y3=EV
set EV=EV+1
set SU[EV]=1227896372
set ZU[EV]=1227896371
set AU[EV]=0
set BU[EV]=1227895115
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_17.blp"
set LU[EV]=0
set Z3=EV
set EV=EV+1
set SU[EV]=1227896373
set ZU[EV]=1227896374
set AU[EV]=0
set BU[EV]=1227895116
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNThoriumArmor.blp"
set LU[EV]=25
set B3=EV
set EV=EV+1
set SU[EV]=1227896376
set ZU[EV]=1227896375
set AU[EV]=0
set BU[EV]=1227895117
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingVioletSpider.tga"
set LU[EV]=0
set C3=EV
set EV=EV+1
set SU[EV]=1227896377
set ZU[EV]=1227896385
set AU[EV]=0
set BU[EV]=1227899702
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingVioletSpider.tga"
set LU[EV]=0
set E6=EV
set EV=EV+1
set SU[EV]=1227896387
set ZU[EV]=1227896386
set AU[EV]=0
set BU[EV]=1227895120
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAbility_Rogue_Sprint.blp"
set LU[EV]=60
set F6=EV
set EV=EV+1
set SU[EV]=1227895631
set ZU[EV]=1227895380
set AU[EV]=0
set BU[EV]=1227895122
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWirtsLegGreen.blp"
set LU[EV]=0
set G6=EV
set EV=EV+1
set SU[EV]=1227895381
set ZU[EV]=1227896153
set AU[EV]=0
set BU[EV]=1227895121
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWirtsLeg.blp"
set LU[EV]=0
set H6=EV
set EV=EV+1
set SU[EV]=1227896368
set ZU[EV]=1227896154
set AU[EV]=0
set BU[EV]=1227895123
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWirtsLegBlue.blp"
set LU[EV]=0
set N6=EV
set EV=EV+1
set SU[EV]=1227896389
set ZU[EV]=1227896388
set AU[EV]=0
set BU[EV]=1227895124
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGoldGloves.BLP"
set LU[EV]=100
set S6=EV
set EV=EV+1
set SU[EV]=1227902543
set ZU[EV]=1227902542
set AU[EV]=0
set BU[EV]=1227902544
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGoldGloves.BLP"
set LU[EV]=100
set V6=EV
set EV=EV+1
set SU[EV]=1227896391
set ZU[EV]=1227896390
set AU[EV]=0
set BU[EV]=1227895125
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Mace_10.blp"
set LU[EV]=0
set W6=EV
set EV=EV+1
set SU[EV]=1227896393
set ZU[EV]=1227896392
set AU[EV]=0
set BU[EV]=1227895126
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRunedBracers.blp"
set LU[EV]=0
set A6=EV
set EV=EV+1
set SU[EV]=1227896395
set ZU[EV]=1227896394
set AU[EV]=0
set BU[EV]=1227895127
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRevenant.blp"
set LU[EV]=0
set DL=EV
set EV=EV+1
set SU[EV]=1227896397
set ZU[EV]=1227896396
set AU[EV]=0
set BU[EV]=1227895128
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNTalisman.tga"
set LU[EV]=0
set HL=EV
set EV=EV+1
set SU[EV]=1227896902
set ZU[EV]=1227896903
set AU[EV]=0
set BU[EV]=1227895129
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_10.blp"
set LU[EV]=0
set OL=EV
set EV=EV+1
set SU[EV]=1227896905
set ZU[EV]=1227896904
set AU[EV]=0
set BU[EV]=1227895130
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNJapaneseSword.BLP"
set LU[EV]=0
set RL=EV
set EV=EV+1
set SU[EV]=1227896906
set ZU[EV]=1227896907
set AU[EV]=0
set BU[EV]=1227895344
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Hammer_10.blp"
set LU[EV]=0
set WL=EV
set EV=EV+1
set SU[EV]=1227896909
set ZU[EV]=1227896908
set AU[EV]=0
set BU[EV]=1227899704
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Hammer_10.blp"
set LU[EV]=0
set ZL=EV
set EV=EV+1
set SU[EV]=1227896910
set ZU[EV]=1227896911
set AU[EV]=0
set BU[EV]=1227895345
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Plate06.blp"
set LU[EV]=22
set AL=EV
set EV=EV+1
set SU[EV]=1227896913
set ZU[EV]=1227896912
set AU[EV]=0
set BU[EV]=1227895346
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStormHammer.blp"
set LU[EV]=0
set LL=EV
set EV=EV+1
set SU[EV]=1227896915
set ZU[EV]=1227896914
set AU[EV]=0
set BU[EV]=1227895347
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"
set LU[EV]=12
set D1=EV
set EV=EV+1
set SU[EV]=1227901506
set ZU[EV]=1227901497
set AU[EV]=0
set BU[EV]=1227901508
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDiffusal2.blp"
set LU[EV]=12
set E1=EV
set EV=EV+1
set SU[EV]=1227900247
set ZU[EV]=1227900246
set AU[EV]=0
set BU[EV]=1227900248
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"
set LU[EV]=0
set F1=EV
set EV=EV+1
set SU[EV]=1227901507
set ZU[EV]=1227901505
set AU[EV]=0
set BU[EV]=1227901509
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDiffusal2.blp"
set LU[EV]=0
set H1=EV
set EV=EV+1
set SU[EV]=1227896917
set ZU[EV]=1227896916
set AU[EV]=0
set BU[EV]=1227895348
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_13.blp"
set LU[EV]=60
set J1=EV
set EV=EV+1
set SU[EV]=1227896919
set ZU[EV]=1227896918
set AU[EV]=0
set BU[EV]=1227899727
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_13.blp"
set LU[EV]=0
set O1=EV
set EV=EV+1
set SU[EV]=1227896920
set ZU[EV]=1227896921
set AU[EV]=0
set BU[EV]=1227895349
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHelmOfValor.blp"
set LU[EV]=22
set P1=EV
set EV=EV+1
set SU[EV]=1227897136
set ZU[EV]=1227896922
set AU[EV]=0
set BU[EV]=1227895350
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStaffofpurification.blp"
set LU[EV]=30
set Q1=EV
set EV=EV+1
set SU[EV]=1227897138
set ZU[EV]=1227897137
set AU[EV]=0
set BU[EV]=1227895351
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPhilosophersStone.blp"
set LU[EV]=0
set R1=EV
set EV=EV+1
set SU[EV]=1227897140
set ZU[EV]=1227897139
set AU[EV]=0
set BU[EV]=1227895352
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSpellShieldAmulet.blp"
set LU[EV]=45
set T1=EV
set EV=EV+1
set SU[EV]=1227897142
set ZU[EV]=1227897141
set AU[EV]=0
set BU[EV]=1227895353
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSpell_Holy_BlessingOfStrength.blp"
set LU[EV]=0
set U1=EV
set EV=EV+1
set SU[EV]=1227897144
set ZU[EV]=1227897143
set AU[EV]=0
set BU[EV]=1227895361
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAbility_Gouge.blp"
set LU[EV]=0
set V1=EV
set EV=EV+1
set SU[EV]=1227897153
set ZU[EV]=1227897145
set AU[EV]=0
set BU[EV]=1227895362
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_06.blp"
set LU[EV]=0
set X1=EV
set EV=EV+1
set SU[EV]=1227897154
set ZU[EV]=1227897155
set AU[EV]=0
set BU[EV]=1227895363
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNThoriumMelee.blp"
set LU[EV]=0
set A1=EV
set EV=EV+1
set SU[EV]=1227900722
set ZU[EV]=1227900506
set AU[EV]=0
set BU[EV]=1227900728
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=80
set D0=EV
set EV=EV+1
set SU[EV]=1227900726
set ZU[EV]=1227900720
set AU[EV]=0
set BU[EV]=1227900729
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=75
set E0=EV
set EV=EV+1
set SU[EV]=1227897157
set ZU[EV]=1227900505
set AU[EV]=0
set BU[EV]=1227900727
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=70
set J0=EV
set EV=EV+1
set SU[EV]=1227900725
set ZU[EV]=1227900499
set AU[EV]=0
set BU[EV]=1227895364
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=65
set N0=EV
set EV=EV+1
set SU[EV]=1227900723
set ZU[EV]=1227897156
set AU[EV]=0
set BU[EV]=1227900738
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=60
set O0=EV
set EV=EV+1
set SU[EV]=1227900724
set ZU[EV]=1227900721
set AU[EV]=0
set BU[EV]=1227900737
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=55
set R0=EV
set EV=EV+1
set SU[EV]=1227903030
set ZU[EV]=1227903032
set AU[EV]=0
set BU[EV]=1227903031
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=50
set T0=EV
set EV=EV+1
set SU[EV]=1227899224
set ZU[EV]=1227899223
set AU[EV]=0
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNArcaniteArmor.blp"
set LU[EV]=0
set X0=EV
set EV=EV+1
set SU[EV]=1227897159
set ZU[EV]=1227897158
set AU[EV]=0
set BU[EV]=1227895365
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_02.blp"
set LU[EV]=35
set Y0=EV
set EV=EV+1
set SU[EV]=1227902294
set ZU[EV]=1227902293
set AU[EV]=0
set BU[EV]=1227902295
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_02.blp"
set LU[EV]=50
set B0=EV
set EV=EV+1
set SU[EV]=1227897161
set ZU[EV]=1227897160
set AU[EV]=0
set BU[EV]=1227895366
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNLothars.BLP"
set LU[EV]=22
set C0=EV
set EV=EV+1
set SU[EV]=1227897163
set ZU[EV]=1227897165
set AU[EV]=0
set BU[EV]=1227895111
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
set LU[EV]=40
set F5=EV
set EV=EV+1
set SU[EV]=1227897162
set ZU[EV]=1227897168
set AU[EV]=0
set BU[EV]=1227895367
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
set LU[EV]=36
set G5=EV
set EV=EV+1
set SU[EV]=1227897169
set ZU[EV]=1227897166
set AU[EV]=0
set BU[EV]=1227899971
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
set LU[EV]=32
set J5=EV
set EV=EV+1
set SU[EV]=1227897171
set ZU[EV]=1227897167
set AU[EV]=0
set BU[EV]=1227899972
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
set LU[EV]=28
set M5=EV
set EV=EV+1
set SU[EV]=1227897170
set ZU[EV]=1227897164
set AU[EV]=0
set BU[EV]=1227899955
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
set LU[EV]=24
set N5=EV
set EV=EV+1
set SU[EV]=1227897173
set ZU[EV]=1227897172
set AU[EV]=0
set BU[EV]=1227895368
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNNecromancerAdept.blp"
set LU[EV]=90
set R5=EV
set EV=EV+1
set SU[EV]=1227897174
set ZU[EV]=1227897176
set AU[EV]=0
set BU[EV]=1227895369
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBookOfTheDead.blp"
set LU[EV]=90
set S5=EV
set EV=EV+1
set SU[EV]=1227897175
set ZU[EV]=1227897177
set AU[EV]=0
set BU[EV]=1227895370
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNNecromancerMaster.blp"
set LU[EV]=90
set T5=EV
set EV=EV+1
set SU[EV]=1227899184
set ZU[EV]=1227897178
set AU[EV]=0
set BU[EV]=1227899471
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp"
set LU[EV]=0
set W5=EV
set EV=EV+1
set SU[EV]=1227901003
set ZU[EV]=1227901002
set AU[EV]=0
set BU[EV]=1227901004
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp"
set LU[EV]=0
set A5=EV
set EV=EV+1
set SU[EV]=1227899186
set ZU[EV]=1227899185
set AU[EV]=0
set BU[EV]=1227899472
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_25.blp"
set LU[EV]=0
set B5=EV
set EV=EV+1
set SU[EV]=1227902025
set ZU[EV]=1227902026
set AU[EV]=0
set BU[EV]=1227902027
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_25.blp"
set LU[EV]=0
set C5=EV
set EV=EV+1
set SU[EV]=1227899188
set ZU[EV]=1227899187
set AU[EV]=0
set BU[EV]=1227899473
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Crossbow_10.blp"
set LU[EV]=0
set L5=EV
set EV=EV+1
set SU[EV]=1227899190
set ZU[EV]=1227899189
set AU[EV]=0
set BU[EV]=1227899474
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"
set LU[EV]=0
set E2=EV
set EV=EV+1
set SU[EV]=1227901752
set ZU[EV]=1227901751
set AU[EV]=0
set BU[EV]=1227901753
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"
set LU[EV]=0
set F2=EV
set EV=EV+1
set SU[EV]=1227899191
set ZU[EV]=1227899192
set AU[EV]=0
set BU[EV]=1227899475
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNTransmute.blp"
set LU[EV]=0
set H2=EV
set EV=EV+1
set SU[EV]=1227901777
set ZU[EV]=1227901776
set AU[EV]=0
set BU[EV]=1227901778
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNTransmute.blp"
set LU[EV]=0
set P2=EV
set EV=EV+1
set SU[EV]=1227899201
set ZU[EV]=1227899193
set AU[EV]=0
set BU[EV]=1227899476
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHeartOfAszune.blp"
set LU[EV]=0
set R2=EV
set EV=EV+1
set SU[EV]=1227899201
set ZU[EV]=1227901772
set BU[EV]=1227901773
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHeartOfAszune.blp"
set LU[EV]=0
set S2=EV
set EV=EV+1
set SU[EV]=1227899203
set ZU[EV]=1227899202
set AU[EV]=0
set BU[EV]=1227899477
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHornOfDoom.blp"
set LU[EV]=35
set T2=EV
set EV=EV+1
set SU[EV]=1227899204
set ZU[EV]=1227899205
set AU[EV]=0
set BU[EV]=1227899478
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNIceShard.blp"
set LU[EV]=0
set W2=EV
set EV=EV+1
set SU[EV]=1227899207
set ZU[EV]=1227899206
set AU[EV]=0
set BU[EV]=1227899732
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNIceShard.blp"
set LU[EV]=0
set X2=EV
set EV=EV+1
set SU[EV]=1227899208
set ZU[EV]=1227899209
set AU[EV]=0
set BU[EV]=1227899479
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_04.blp"
set LU[EV]=0
set Z2=EV
set EV=EV+1
set SU[EV]=1227899448
set ZU[EV]=1227899225
set AU[EV]=0
set BU[EV]=1227894850
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FR4=EV
set EV=EV+1
set SU[EV]=1227899211
set ZU[EV]=1227899210
set AU[EV]=0
set BU[EV]=1227899480
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHeartOfSearinox.blp"
set LU[EV]=210
set D44=EV
set EV=EV+1
set SU[EV]=1227896651
set ZU[EV]=1227899212
set AU[EV]=0
set BU[EV]=1227899481
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_09.blp"
set LU[EV]=35
set D74=EV
set EV=EV+1
set SU[EV]=1227899458
set ZU[EV]=1227899457
set AU[EV]=0
set BU[EV]=1227899482
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyArmor.blp"
set LU[EV]=0
set D84=EV
set EV=EV+1
set SU[EV]=1227902021
set ZU[EV]=1227902019
set AU[EV]=0
set BU[EV]=1227902020
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyArmor.blp"
set LU[EV]=0
set D94=EV
set EV=EV+1
set SU[EV]=1227899459
set ZU[EV]=1227899460
set AU[EV]=0
set BU[EV]=1227894851
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNArcaneRing.blp"
set LU[EV]=33
set DD4=EV
set EV=EV+1
set SU[EV]=1227899462
set ZU[EV]=1227899461
set AU[EV]=0
set BU[EV]=1227899696
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNThunderMallet.blp"
set LU[EV]=35
set DE4=EV
set EV=EV+1
set SU[EV]=1227895092
set ZU[EV]=1227895108
set AU[EV]=0
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRavenForm.blp"
set LU[EV]=0
set DF4=EV
set EV=EV+1
set SU[EV]=1227899464
set ZU[EV]=1227899463
set AU[EV]=0
set BU[EV]=1227899697
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNCloakOfFlames.blp"
set LU[EV]=0
set DG4=EV
set EV=EV+1
set SU[EV]=1227899465
set ZU[EV]=1227899466
set AU[EV]=0
set BU[EV]=1227899698
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Chain_14.blp"
set LU[EV]=0
set DH4=EV
set EV=EV+1
set SU[EV]=1227899468
set ZU[EV]=1227899467
set AU[EV]=0
set BU[EV]=1227899699
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Gem_Bloodstone_02.blp"
set LU[EV]=0
set DI4=EV
set EV=EV+1
set SU[EV]=1227899470
set ZU[EV]=1227899469
set AU[EV]=0
set BU[EV]=1227899700
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHoodOfCunning.blp"
set LU[EV]=0
set DJ4=EV
set EV=EV+1
set SU[EV]=1227894867
set ZU[EV]=1227894861
set AU[EV]=0
set BU[EV]=1227895107
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyStrength.blp"
set LU[EV]=0
set DK4=EV
set EV=EV+1
set SU[EV]=1227894868
set ZU[EV]=1227894865
set AU[EV]=0
set BU[EV]=1227895109
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUnholyStrength.blp"
set LU[EV]=0
set DM4=EV
set EV=EV+1
set SU[EV]=1227894870
set ZU[EV]=1227894862
set AU[EV]=0
set BU[EV]=1227895110
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyStrength.blp"
set LU[EV]=0
set DN4=EV
set EV=EV+1
set SU[EV]=1227894871
set ZU[EV]=1227894866
set AU[EV]=0
set BU[EV]=1227899973
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUnholyStrength.blp"
set LU[EV]=0
set DO4=EV
set EV=EV+1
set SU[EV]=1227894872
set ZU[EV]=1227894874
set AU[EV]=0
set BU[EV]=1227899718
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAdvancedMoonArmor.blp"
set LU[EV]=30
set DP4=EV
set EV=EV+1
set SU[EV]=1227894873
set ZU[EV]=1227895088
set AU[EV]=0
set BU[EV]=1227899974
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAdvancedMoonArmor.blp"
set LU[EV]=0
set DQ4=EV
set EV=EV+1
set SU[EV]=1227895091
set ZU[EV]=1227895090
set AU[EV]=0
set BU[EV]=1227899714
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStaffOfSilence.blp"
set LU[EV]=18
set DR4=EV
set EV=EV+1
set SU[EV]=1227900747
set ZU[EV]=1227900746
set AU[EV]=0
set BU[EV]=1227900748
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPhaseBoots.blp"
set LU[EV]=8
set DS4=EV
set EV=EV+1
set SU[EV]=1227900999
set ZU[EV]=1227901001
set AU[EV]=0
set BU[EV]=1227901000
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNForceStaff.blp"
set LU[EV]=25
set DU4=EV
set EV=EV+1
set SU[EV]=1227901232
set ZU[EV]=1227901750
set AU[EV]=0
set BU[EV]=1227901234
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPipeOfInsight.blp"
set LU[EV]=25
set DV4=EV
set EV=EV+1
set SU[EV]=1227901511
set ZU[EV]=1227901510
set AU[EV]=0
set BU[EV]=1227901512
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyArmor.blp"
set LU[EV]=12
set DW4=EV
set EV=EV+1
set SU[EV]=1227901764
set ZU[EV]=1227901766
set AU[EV]=0
set BU[EV]=1227901765
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyArmor.blp"
set LU[EV]=12
set DX4=EV
set EV=EV+1
set SU[EV]=1227901784
set ZU[EV]=1227901785
set AU[EV]=0
set BU[EV]=1227901786
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUrnOfKelThuzad.blp"
set LU[EV]=8
set DY4=EV
set EV=EV+1
set SU[EV]=1227902023
set ZU[EV]=1227902022
set AU[EV]=0
set BU[EV]=1227902024
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUrnOfKelThuzad.blp"
set LU[EV]=0
set DZ4=EV
set EV=EV+1
set SU[EV]=1227902032
set ZU[EV]=1227902028
set AU[EV]=0
set BU[EV]=1227902033
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSoulRing.blp"
set LU[EV]=25
set E54=EV
set EV=EV+1
set SU[EV]=1227902034
set ZU[EV]=1227902036
set AU[EV]=0
set BU[EV]=1227902035
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGhostBlade.blp"
set LU[EV]=30
set E24=EV
set EV=EV+1
set SU[EV]=1227902282
set ZU[EV]=1227902281
set AU[EV]=0
set BU[EV]=1227902283
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNArcaneBoots.blp"
set LU[EV]=45
set F74=EV
set EV=EV+1
set SU[EV]=1227902513
set ZU[EV]=1227902512
set AU[EV]=0
set BU[EV]=1227902514
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNMedalionOfCourage.blp"
set LU[EV]=7
set M3=EV
set EV=EV+1
set SU[EV]=1227902532
set ZU[EV]=1227902533
set AU[EV]=0
set BU[EV]=1227902531
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNJanggo.blp"
set LU[EV]=30
set VB=EV
set EV=EV+1
set SU[EV]=1227902540
set ZU[EV]=1227902539
set AU[EV]=0
set BU[EV]=1227902541
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNJanggo.blp"
set LU[EV]=0
set WB=EV
set EV=EV+1
set SU[EV]=1227902770
set ZU[EV]=1227902771
set AU[EV]=0
set BU[EV]=1227902772
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBoneChimes.blp"
set LU[EV]=30
set N3=EV
set EV=EV+1
set SU[EV]=1227902787
set ZU[EV]=1227902789
set AU[EV]=0
set BU[EV]=1227902788
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBoneChimes.blp"
set LU[EV]=30
set YB=EV
set EV=EV+1
set SU[EV]=1227902790
set ZU[EV]=1227902791
set AU[EV]=0
set BU[EV]=1227902792
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNTranquilBoots.blp"
set LU[EV]=30
set LB=EV
set EV=EV+1
set SU[EV]=1227902794
set ZU[EV]=1227902793
set AU[EV]=0
set BU[EV]=1227902795
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNTranquilBoots.blp"
set LU[EV]=30
set EC=EV
set EV=EV+1
set SU[EV]=1227902797
set ZU[EV]=1227902796
set AU[EV]=0
set BU[EV]=1227902798
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWitchDoctorMaster.blp"
set LU[EV]=16
set FC=EV
set EV=EV+1
set SU[EV]=1227902800
set ZU[EV]=1227902799
set AU[EV]=0
set BU[EV]=1227902801
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPendantOfMana.blp"
set LU[EV]=20
set GC=EV
set EV=EV+1
set SU[EV]=1227902805
set ZU[EV]=1227902806
set AU[EV]=0
set BU[EV]=1227902807
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHalberd.blp"
set LU[EV]=30
set R3=EV
set EV=EV+1
set SU[EV]=1227902809
set ZU[EV]=1227902808
set AU[EV]=0
set BU[EV]=1227902810
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAnnihilator.blp"
set LU[EV]=60
set U3=EV
set EV=EV+1
set SU[EV]=1227903024
set ZU[EV]=1227903025
set AU[EV]=0
set BU[EV]=1227903026
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingJadeFalcon.blp"
set LU[EV]=0
set JC=EV
set EV=EV+1
set SU[EV]=1227903027
set ZU[EV]=1227903028
set AU[EV]=0
set BU[EV]=1227903029
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingJadeFalcon.blp"
set LU[EV]=0
set NC=EV
set EV=EV+1
set SU[EV]=1346522445
set ZU[EV]=1346522446
set AU[EV]=0
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"
set LU[EV]=0
set YC=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989063
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747990582
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896140
set ZU[EV]=1227896146
set AU[EV]=1747989064
set BU[EV]=1227899987
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set DB4=EV
set EV=EV+1
set SU[EV]=1227896141
set ZU[EV]=1227896147
set AU[EV]=1747989065
set BU[EV]=1227899988
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set DC4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989066
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896143
set ZU[EV]=1227896148
set AU[EV]=1747989067
set BU[EV]=1227899989
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D34=EV
set EV=EV+1
set AU[EV]=1747988788
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D64=EV
set EV=EV+1
set SU[EV]=1227896144
set ZU[EV]=1227896149
set AU[EV]=1747989068
set BU[EV]=1227899991
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set DL4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989069
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896139
set ZU[EV]=1227896150
set AU[EV]=1747989070
set BU[EV]=1227899992
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D04=EV
set EV=EV+1
set SU[EV]=1227896142
set ZU[EV]=1227896151
set AU[EV]=1747989071
set BU[EV]=1227899993
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D54=EV
set EV=EV+1
set SU[EV]=1227896145
set ZU[EV]=1227896152
set AU[EV]=1747989072
set BU[EV]=1227899994
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D24=EV
set EV=EV+1
set SU[EV]=1227896398
set ZU[EV]=1227896399
set AU[EV]=1747989073
set BU[EV]=1227900208
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D_4=EV
set EV=EV+1
set SU[EV]=1227896401
set ZU[EV]=1227896400
set AU[EV]=1747989074
set BU[EV]=1227900209
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E44=EV
set EV=EV+1
set SU[EV]=1227896402
set ZU[EV]=1227896403
set AU[EV]=1747989075
set BU[EV]=1227900210
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E74=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989076
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896407
set ZU[EV]=1227896406
set AU[EV]=1747989077
set BU[EV]=1227900212
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E84=EV
set EV=EV+1
set SU[EV]=1227896408
set ZU[EV]=1227896409
set AU[EV]=1747989078
set BU[EV]=1227900213
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E94=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989079
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896624
set ZU[EV]=1227896410
set AU[EV]=1747989080
set BU[EV]=1227900214
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set ED4=EV
set EV=EV+1
set SU[EV]=1227896625
set ZU[EV]=1227896626
set AU[EV]=1747989081
set BU[EV]=1227900215
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EE4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989082
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896628
set ZU[EV]=1227896627
set AU[EV]=1747989296
set BU[EV]=1227900216
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EF4=EV
set EV=EV+1
set AU[EV]=1747989297
set CU[EV]=""
set LU[EV]=0
set EG4=EV
set EV=EV+1
set SU[EV]=1227896630
set ZU[EV]=1227896662
set AU[EV]=1747989298
set BU[EV]=1227900225
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EH4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989299
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896631
set ZU[EV]=1227896663
set AU[EV]=1747989300
set BU[EV]=1227900226
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EI4=EV
set EV=EV+1
set SU[EV]=1227896632
set ZU[EV]=1227896664
set AU[EV]=1747989301
set BU[EV]=1227900227
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EJ4=EV
set EV=EV+1
set SU[EV]=1227896633
set ZU[EV]=1227896665
set AU[EV]=1747989302
set BU[EV]=1227900228
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EK4=EV
set EV=EV+1
set SU[EV]=1227896641
set ZU[EV]=1227896666
set AU[EV]=0
set BU[EV]=1227900229
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EM4=EV
set EV=EV+1
set SU[EV]=1227896642
set ZU[EV]=1227896880
set AU[EV]=1747989304
set BU[EV]=1227900230
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EN4=EV
set EV=EV+1
set SU[EV]=1227896643
set ZU[EV]=1227896881
set AU[EV]=1747989305
set BU[EV]=1227900231
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EO4=EV
set EV=EV+1
set SU[EV]=1227896644
set ZU[EV]=1227896882
set AU[EV]=1747989313
set BU[EV]=1227900232
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EP4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989315
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896645
set ZU[EV]=1227896883
set AU[EV]=1747989316
set BU[EV]=1227900233
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EQ4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989317
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896647
set ZU[EV]=1227896646
set AU[EV]=1747989318
set BU[EV]=1227900234
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set ER4=EV
set EV=EV+1
set SU[EV]=1227896648
set ZU[EV]=1227896884
set AU[EV]=1747989319
set BU[EV]=1227900235
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set ES4=EV
set EV=EV+1
set SU[EV]=1227896655
set ZU[EV]=1227896885
set AU[EV]=1747989320
set BU[EV]=1227900236
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set ET4=EV
set EV=EV+1
set AU[EV]=1747989322
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EU4=EV
set EV=EV+1
set SU[EV]=1227896650
set ZU[EV]=1227896888
set AU[EV]=1747989324
set BU[EV]=1227900239
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EV4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989325
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989326
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896653
set ZU[EV]=1227896889
set AU[EV]=1747989327
set BU[EV]=1227900240
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EW4=EV
set EV=EV+1
set SU[EV]=1227896656
set ZU[EV]=1227896897
set AU[EV]=1747989329
set BU[EV]=1227900241
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EX4=EV
set EV=EV+1
set SU[EV]=1227896657
set ZU[EV]=1227896898
set AU[EV]=1747989330
set BU[EV]=1227900242
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EY4=EV
set EV=EV+1
set SU[EV]=1227896658
set ZU[EV]=1227896899
set AU[EV]=1747989331
set BU[EV]=1227900243
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EZ4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989332
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989333
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896659
set ZU[EV]=1227896900
set AU[EV]=1747989334
set BU[EV]=1227900244
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EA4=EV
set EV=EV+1
set SU[EV]=1227896660
set ZU[EV]=1227896901
set AU[EV]=1747989335
set BU[EV]=1227900245
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EB4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747990329
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227900984
set ZU[EV]=1227900983
set AU[EV]=1747990355
set BU[EV]=1227900985
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EC4=EV
set EV=EV+1
set SU[EV]=1227900996
set ZU[EV]=1227900998
set AU[EV]=1747990356
set BU[EV]=1227900997
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E34=EV
set EV=EV+1
set SU[EV]=1227903044
set ZU[EV]=1227903045
set AU[EV]=0
set BU[EV]=1227903046
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set FH4=EV
set EV=EV+1
set SU[EV]=1227901016
set ZU[EV]=1227901018
set AU[EV]=1747990360
set BU[EV]=1227901017
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E64=EV
set EV=EV+1
set SU[EV]=1227896652
set ZU[EV]=1227901774
set AU[EV]=1747989328
set BU[EV]=1227901775
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EL4=EV
set EV=EV+1
set SU[EV]=1227901783
set ZU[EV]=1227901782
set AU[EV]=1747993153
set BU[EV]=1227901781
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E14=EV
set EV=EV+1
set SU[EV]=1227902029
set ZU[EV]=1227902030
set AU[EV]=1747993169
set BU[EV]=1227902031
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E04=EV
set EV=EV+1
set SU[EV]=1227902521
set ZU[EV]=1227902529
set AU[EV]=1747993649
set BU[EV]=1227902530
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set F84=EV
set EV=EV+1
set SU[EV]=1227902536
set ZU[EV]=1227902537
set AU[EV]=1747993433
set BU[EV]=1227902538
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set F94=EV
set EV=EV+1
set SU[EV]=1227902773
set ZU[EV]=1227902774
set AU[EV]=1747993668
set BU[EV]=1227902775
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set FD4=EV
set EV=EV+1
set SU[EV]=1227902786
set ZU[EV]=1227902785
set AU[EV]=1747989336
set BU[EV]=1227902777
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set FE4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747993684
set CU[EV]=""
set LU[EV]=0
set FF4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747993685
set CU[EV]=""
set LU[EV]=0
set FG4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747993913
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747993921
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747993923
set CU[EV]=""
set LU[EV]=0
set t=CreateTrigger()
call TriggerAddCondition(t,Condition(function NA9))
set H04=t
set t=null
set FQ4=FQ4+1
set FJ4[FQ4]=ZX
set FK4[FQ4]=RZ
set FP4[FQ4]=Y3
set FQ4=FQ4+1
set FJ4[FQ4]=GY
set FK4[FQ4]=QW
set FM4[FQ4]=DB4
set FP4[FQ4]=Z3
set FQ4=FQ4+1
set FJ4[FQ4]=UV
set FK4[FQ4]=QW
set FM4[FQ4]=DC4
set FP4[FQ4]=B3
set FQ4=FQ4+1
set FJ4[FQ4]=AX
set FK4[FQ4]=ZY
set FP4[FQ4]=C3
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=D34
set FP4[FQ4]=F6
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=MV
set FM4[FQ4]=JV
set FP4[FQ4]=G6
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=OV
set FM4[FQ4]=JV
set FP4[FQ4]=H6
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=HY
set FM4[FQ4]=JV
set FP4[FQ4]=N6
set FQ4=FQ4+1
set FJ4[FQ4]=JV
set FK4[FQ4]=DL4
set FP4[FQ4]=S6
set FQ4=FQ4+1
set FJ4[FQ4]=YX
set FK4[FQ4]=HY
set FM4[FQ4]=ZY
set FP4[FQ4]=W6
set FQ4=FQ4+1
set FJ4[FQ4]=NV
set FK4[FQ4]=LV
set FM4[FQ4]=D04
set FP4[FQ4]=A6
set FQ4=FQ4+1
set FJ4[FQ4]=NV
set FK4[FQ4]=UY
set FM4[FQ4]=D54
set FP4[FQ4]=DL
set FQ4=FQ4+1
set FJ4[FQ4]=NV
set FK4[FQ4]=UW
set FM4[FQ4]=D24
set FP4[FQ4]=HL
set FQ4=FQ4+1
set FJ4[FQ4]=QV
set FK4[FQ4]=MV
set FM4[FQ4]=D_4
set FP4[FQ4]=OL
set FQ4=FQ4+1
set FJ4[FQ4]=NX
set FK4[FQ4]=OV
set FM4[FQ4]=E44
set FP4[FQ4]=RL
set FQ4=FQ4+1
set FJ4[FQ4]=UZ
set FK4[FQ4]=OV
set FM4[FQ4]=E74
set FP4[FQ4]=WL
set FQ4=FQ4+1
set FJ4[FQ4]=TV
set FK4[FQ4]=UV
set FM4[FQ4]=HY
set FP4[FQ4]=AL
set FQ4=FQ4+1
set FJ4[FQ4]=ZW
set FK4[FQ4]=JV
set FM4[FQ4]=E84
set FP4[FQ4]=LL
set FQ4=FQ4+1
set FJ4[FQ4]=QV
set FK4[FQ4]=QV
set FM4[FQ4]=HY
set FN4[FQ4]=E94
set FP4[FQ4]=D1
set FQ4=FQ4+1
set FJ4[FQ4]=D1
set FK4[FQ4]=E94
set FP4[FQ4]=E1
set FQ4=FQ4+1
set FJ4[FQ4]=F1
set FK4[FQ4]=E94
set FP4[FQ4]=E1
set FQ4=FQ4+1
set FJ4[FQ4]=NW
set FK4[FQ4]=VW
set FP4[FQ4]=J1
set FQ4=FQ4+1
set FJ4[FQ4]=VW
set FK4[FQ4]=ED4
set FP4[FQ4]=P1
set FQ4=FQ4+1
set FJ4[FQ4]=RZ
set FK4[FQ4]=DZ
set FM4[FQ4]=ZY
set FN4[FQ4]=EE4
set FP4[FQ4]=Q1
set FQ4=FQ4+1
set FJ4[FQ4]=WX
set FK4[FQ4]=CV
set FM4[FQ4]=OZ
set FP4[FQ4]=R1
set FQ4=FQ4+1
set FJ4[FQ4]=Z3
set FK4[FQ4]=B3
set FM4[FQ4]=EF4
set FP4[FQ4]=T1
set FQ4=FQ4+1
set FJ4[FQ4]=RL
set FK4[FQ4]=OL
set FP4[FQ4]=U1
set FQ4=FQ4+1
set FJ4[FQ4]=ZW
set FK4[FQ4]=ZW
set FM4[FQ4]=EH4
set FP4[FQ4]=V1
set FQ4=FQ4+1
set FJ4[FQ4]=Y3
set FK4[FQ4]=TV
set FM4[FQ4]=XV
set FP4[FQ4]=X1
set FQ4=FQ4+1
set FJ4[FQ4]=SV
set FK4[FQ4]=TV
set FM4[FQ4]=EI4
set FP4[FQ4]=A1
set FQ4=FQ4+1
set FJ4[FQ4]=ZW
set FK4[FQ4]=NX
set FM4[FQ4]=EJ4
set FP4[FQ4]=D0
set FQ4=FQ4+1
set FJ4[FQ4]=OL
set FK4[FQ4]=NZ
set FM4[FQ4]=EK4
set FP4[FQ4]=B0
set FQ4=FQ4+1
set FJ4[FQ4]=XV
set FK4[FQ4]=W3
set FP4[FQ4]=C0
set FQ4=FQ4+1
set FJ4[FQ4]=DZ
set FK4[FQ4]=HL
set FM4[FQ4]=EN4
set FP4[FQ4]=F5
set FQ4=FQ4+1
set FJ4[FQ4]=F5
set FK4[FQ4]=EN4
set FP4[FQ4]=G5
set FQ4=FQ4+1
set FJ4[FQ4]=G5
set FK4[FQ4]=EN4
set FP4[FQ4]=J5
set FQ4=FQ4+1
set FJ4[FQ4]=J5
set FK4[FQ4]=EN4
set FP4[FQ4]=M5
set FQ4=FQ4+1
set FJ4[FQ4]=M5
set FK4[FQ4]=EN4
set FP4[FQ4]=N5
set FQ4=FQ4+1
set FJ4[FQ4]=DZ
set FK4[FQ4]=OV
set FM4[FQ4]=EO4
set FP4[FQ4]=R5
set FQ4=FQ4+1
set FJ4[FQ4]=R5
set FK4[FQ4]=EO4
set FP4[FQ4]=S5
set FQ4=FQ4+1
set FJ4[FQ4]=S5
set FK4[FQ4]=EO4
set FP4[FQ4]=T5
set FQ4=FQ4+1
set FJ4[FQ4]=NZ
set FK4[FQ4]=Y3
set FM4[FQ4]=EP4
set FP4[FQ4]=W5
set FQ4=FQ4+1
set FJ4[FQ4]=AV
set FK4[FQ4]=SY
set FP4[FQ4]=B5
set FQ4=FQ4+1
set FJ4[FQ4]=A1
set FK4[FQ4]=AV
set FM4[FQ4]=EQ4
set FP4[FQ4]=L5
set FQ4=FQ4+1
set FJ4[FQ4]=AV
set FK4[FQ4]=UZ
set FM4[FQ4]=UZ
set FP4[FQ4]=E2
set FQ4=FQ4+1
set FJ4[FQ4]=SY
set FK4[FQ4]=ER4
set FP4[FQ4]=H2
set FQ4=FQ4+1
set FJ4[FQ4]=YW
set FK4[FQ4]=OZ
set FM4[FQ4]=ES4
set FP4[FQ4]=R2
set FQ4=FQ4+1
set FJ4[FQ4]=YW
set FK4[FQ4]=J1
set FM4[FQ4]=ET4
set FP4[FQ4]=T2
set FQ4=FQ4+1
set FJ4[FQ4]=YW
set FK4[FQ4]=O1
set FM4[FQ4]=ET4
set FP4[FQ4]=T2
set FQ4=FQ4+1
set FJ4[FQ4]=NZ
set FK4[FQ4]=NZ
set FM4[FQ4]=WX
set FN4[FQ4]=E_4
set FP4[FQ4]=W2
set FQ4=FQ4+1
set FJ4[FQ4]=NZ
set FK4[FQ4]=NZ
set FM4[FQ4]=WX
set FN4[FQ4]=F44
set FP4[FQ4]=W2
set FQ4=FQ4+1
set FJ4[FQ4]=BV
set FK4[FQ4]=YX
set FM4[FQ4]=JB
set FP4[FQ4]=Z2
set FQ4=FQ4+1
set FJ4[FQ4]=ZY
set FK4[FQ4]=UV
set FM4[FQ4]=F94
set FP4[FQ4]=M3
set FQ4=FQ4+1
set FJ4[FQ4]=QV
set FK4[FQ4]=NX
set FM4[FQ4]=WX
set FN4[FQ4]=DZ
set FP4[FQ4]=FR4
set FQ4=FQ4+1
set FJ4[FQ4]=Y3
set FK4[FQ4]=W6
set FM4[FQ4]=EV4
set FP4[FQ4]=D44
set FQ4=FQ4+1
set FJ4[FQ4]=NZ
set FK4[FQ4]=GX
set FM4[FQ4]=RZ
set FP4[FQ4]=D74
set FQ4=FQ4+1
set FJ4[FQ4]=OZ
set FK4[FQ4]=ZX
set FM4[FQ4]=EZ
set FP4[FQ4]=D84
set FQ4=FQ4+1
set FJ4[FQ4]=OZ
set FK4[FQ4]=ZX
set FM4[FQ4]=HZ
set FP4[FQ4]=D84
set FQ4=FQ4+1
set FJ4[FQ4]=CV
set FK4[FQ4]=AX
set FM4[FQ4]=EW4
set FP4[FQ4]=DD4
set FQ4=FQ4+1
set FJ4[FQ4]=OW
set FK4[FQ4]=LL
set FM4[FQ4]=EL4
set FP4[FQ4]=DE4
set FQ4=FQ4+1
set FJ4[FQ4]=ZC
set FM4[FQ4]=EX4
set FP4[FQ4]=DF4
set FQ4=FQ4+1
set FJ4[FQ4]=GY
set FK4[FQ4]=C3
set FM4[FQ4]=VW
set FN4[FQ4]=EY4
set FP4[FQ4]=DG4
set FQ4=FQ4+1
set FJ4[FQ4]=GY
set FK4[FQ4]=E6
set FM4[FQ4]=VW
set FN4[FQ4]=EY4
set FP4[FQ4]=DG4
set FQ4=FQ4+1
set FJ4[FQ4]=OW
set FK4[FQ4]=SX
set FM4[FQ4]=UV
set FN4[FQ4]=EZ4
set FP4[FQ4]=DH4
set FQ4=FQ4+1
set FJ4[FQ4]=R1
set FK4[FQ4]=Y3
set FP4[FQ4]=DI4
set FQ4=FQ4+1
set FJ4[FQ4]=GY
set FK4[FQ4]=GY
set FM4[FQ4]=ZX
set FN4[FQ4]=RX
set FP4[FQ4]=DJ4
set FQ4=FQ4+1
set FJ4[FQ4]=JV
set FK4[FQ4]=NW
set FM4[FQ4]=SV
set FN4[FQ4]=EA4
set FP4[FQ4]=DM4
set FQ4=FQ4+1
set FJ4[FQ4]=GX
set FK4[FQ4]=SX
set FM4[FQ4]=EB4
set FP4[FQ4]=DP4
set FQ4=FQ4+1
set FJ4[FQ4]=W6
set FK4[FQ4]=W6
set FM4[FQ4]=FE4
set FP4[FQ4]=DR4
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=SV
set FM4[FQ4]=SV
set FP4[FQ4]=DS4
set FQ4=FQ4+1
set FJ4[FQ4]=ZA
set FK4[FQ4]=QW
set FM4[FQ4]=QW
set FN4[FQ4]=QW
set FO4[FQ4]=EC4
set FP4[FQ4]=DT4
set FQ4=FQ4+1
set FJ4[FQ4]=DZ
set FK4[FQ4]=GY
set FM4[FQ4]=E34
set FP4[FQ4]=DU4
set FQ4=FQ4+1
set FJ4[FQ4]=DJ4
set FK4[FQ4]=Z3
set FM4[FQ4]=E64
set FP4[FQ4]=DV4
set FQ4=FQ4+1
set FJ4[FQ4]=EZ
set FK4[FQ4]=UY
set FM4[FQ4]=UY
set FP4[FQ4]=DW4
set FQ4=FQ4+1
set FJ4[FQ4]=HZ
set FK4[FQ4]=UY
set FM4[FQ4]=UY
set FP4[FQ4]=DW4
set FQ4=FQ4+1
set FJ4[FQ4]=ZY
set FK4[FQ4]=LV
set FM4[FQ4]=LV
set FN4[FQ4]=E14
set FP4[FQ4]=DY4
set FQ4=FQ4+1
set FJ4[FQ4]=ZY
set FK4[FQ4]=GY
set FM4[FQ4]=E04
set FP4[FQ4]=E54
set FQ4=FQ4+1
set FJ4[FQ4]=BV
set FK4[FQ4]=DA4
set FP4[FQ4]=E24
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=CV
set FP4[FQ4]=F74
set FQ4=FQ4+1
set FJ4[FQ4]=HY
set FK4[FQ4]=A6
set FM4[FQ4]=F84
set FP4[FQ4]=VB
set FQ4=FQ4+1
set FJ4[FQ4]=VB
set FK4[FQ4]=F84
set FP4[FQ4]=VB
set FQ4=FQ4+1
set FJ4[FQ4]=WB
set FK4[FQ4]=F84
set FP4[FQ4]=VB
set FQ4=FQ4+1
set FJ4[FQ4]=NW
set FK4[FQ4]=HY
set FM4[FQ4]=FD4
set FP4[FQ4]=N3
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=AX
set FM4[FQ4]=GY
set FP4[FQ4]=LB
set FQ4=FQ4+1
set FJ4[FQ4]=DZ
set FK4[FQ4]=DZ
set FM4[FQ4]=OZ
set FP4[FQ4]=FC
set FQ4=FQ4+1
set FJ4[FQ4]=RL
set FK4[FQ4]=JB
set FP4[FQ4]=R3
set FQ4=FQ4+1
set FJ4[FQ4]=WL
set FK4[FQ4]=SY
set FP4[FQ4]=U3
set FQ4=FQ4+1
set FJ4[FQ4]=DL
set FK4[FQ4]=C3
set FP4[FQ4]=JC
set FQ4=FQ4+1
set FJ4[FQ4]=DL
set FK4[FQ4]=E6
set FP4[FQ4]=NC
set EV=EV+1
set SU[EV]=1227899226
set ZU[EV]=1227895089
set AU[EV]=0
set BU[EV]=1227900249
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FS4=EV
set EV=EV+1
set SU[EV]=1227894854
set ZU[EV]=1227894852
set AU[EV]=0
set BU[EV]=1227900250
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FT4=EV
set EV=EV+1
set SU[EV]=1227895096
set ZU[EV]=1227894841
set AU[EV]=0
set BU[EV]=1227900464
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FU4=EV
set EV=EV+1
set SU[EV]=1227895097
set ZU[EV]=1227894837
set AU[EV]=0
set BU[EV]=1227900470
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FV4=EV
set EV=EV+1
set SU[EV]=1227895105
set ZU[EV]=1227894855
set AU[EV]=0
set BU[EV]=1227900465
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FW4=EV
set EV=EV+1
set SU[EV]=1227895106
set ZU[EV]=1227894836
set AU[EV]=0
set BU[EV]=1227900466
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FX4=EV
set EV=EV+1
set SU[EV]=1227895112
set ZU[EV]=1227894835
set AU[EV]=0
set BU[EV]=1227900467
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FY4=EV
set EV=EV+1
set SU[EV]=1227895113
set ZU[EV]=1227894834
set AU[EV]=0
set BU[EV]=1227900469
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FZ4=EV
set EV=EV+1
set SU[EV]=1227895371
set ZU[EV]=1227894833
set AU[EV]=0
set BU[EV]=1227900468
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FA4=EV
set EV=EV+1
set SU[EV]=1227895372
set ZU[EV]=1227894857
set AU[EV]=0
set BU[EV]=1227900485
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FB4=EV
set EV=EV+1
set SU[EV]=1227899442
set ZU[EV]=1227894856
set AU[EV]=0
set BU[EV]=1227900473
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F34=EV
set EV=EV+1
set SU[EV]=1227899443
set ZU[EV]=1227894864
set AU[EV]=0
set BU[EV]=1227900481
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F64=EV
set EV=EV+1
set SU[EV]=1227899444
set ZU[EV]=1227894869
set AU[EV]=0
set BU[EV]=1227900471
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FL4=EV
set EV=EV+1
set SU[EV]=1227899447
set ZU[EV]=1227894832
set AU[EV]=0
set BU[EV]=1227900484
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F14=EV
set EV=EV+1
set SU[EV]=1227899446
set ZU[EV]=1227895094
set AU[EV]=0
set BU[EV]=1227900483
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F04=EV
set EV=EV+1
set SU[EV]=1227899445
set ZU[EV]=1227895095
set AU[EV]=0
set BU[EV]=1227900482
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F54=EV
set EV=EV+1
set SU[EV]=1227899449
set ZU[EV]=1227894863
set AU[EV]=0
set BU[EV]=1227900472
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F24=EV
set EV=EV+1
set SU[EV]=1227901493
set ZU[EV]=1227901268
set AU[EV]=0
set BU[EV]=1227901258
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F_4=EV
set EV=EV+1
set SU[EV]=1227901270
set ZU[EV]=1227901269
set AU[EV]=0
set BU[EV]=1227901241
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G44=EV
set EV=EV+1
set SU[EV]=1227901271
set ZU[EV]=1227901267
set AU[EV]=0
set BU[EV]=1227901257
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G74=EV
set EV=EV+1
set SU[EV]=1227901272
set ZU[EV]=1227901266
set AU[EV]=0
set BU[EV]=1227901249
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G84=EV
set EV=EV+1
set SU[EV]=1227901273
set ZU[EV]=1227901265
set AU[EV]=0
set BU[EV]=1227901256
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G94=EV
set EV=EV+1
set SU[EV]=1227901274
set ZU[EV]=1227901259
set AU[EV]=0
set BU[EV]=1227901255
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GD4=EV
set EV=EV+1
set SU[EV]=1227901488
set ZU[EV]=1227901260
set AU[EV]=0
set BU[EV]=1227901254
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GE4=EV
set EV=EV+1
set SU[EV]=1227901489
set ZU[EV]=1227901261
set AU[EV]=0
set BU[EV]=1227901253
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GG4=EV
set EV=EV+1
set SU[EV]=1227901490
set ZU[EV]=1227901264
set AU[EV]=0
set BU[EV]=1227901252
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GH4=EV
set EV=EV+1
set SU[EV]=1227901491
set ZU[EV]=1227901263
set AU[EV]=0
set BU[EV]=1227901251
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GI4=EV
set EV=EV+1
set SU[EV]=1227901492
set ZU[EV]=1227901262
set AU[EV]=0
set BU[EV]=1227901250
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GJ4=EV
set EV=EV+1
set SU[EV]=1227901238
set ZU[EV]=1227901239
set AU[EV]=0
set BU[EV]=1227901240
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GK4=EV
set EV=EV+1
set SU[EV]=1227901530
set ZU[EV]=1227901523
set AU[EV]=0
set BU[EV]=1227901522
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GM4=EV
set EV=EV+1
set SU[EV]=1227901744
set ZU[EV]=1227901524
set AU[EV]=0
set BU[EV]=1227901516
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GN4=EV
set EV=EV+1
set SU[EV]=1227901745
set ZU[EV]=1227901525
set AU[EV]=0
set BU[EV]=1227901517
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GO4=EV
set EV=EV+1
set SU[EV]=1227901746
set ZU[EV]=1227901527
set AU[EV]=0
set BU[EV]=1227901518
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GP4=EV
set EV=EV+1
set SU[EV]=1227901747
set ZU[EV]=1227901526
set AU[EV]=0
set BU[EV]=1227901521
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GQ4=EV
set EV=EV+1
set SU[EV]=1227901748
set ZU[EV]=1227901529
set AU[EV]=0
set BU[EV]=1227901520
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GR4=EV
set EV=EV+1
set SU[EV]=1227901749
set ZU[EV]=1227901528
set AU[EV]=0
set BU[EV]=1227901519
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GS4=EV
set EV=EV+1
set SU[EV]=1227901769
set ZU[EV]=1227901768
set AU[EV]=0
set BU[EV]=1227901770
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GT4=EV
set EV=EV+1
set SU[EV]=1227902004
set ZU[EV]=1227902005
set AU[EV]=0
set BU[EV]=1227902008
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FC4=EV
set EV=EV+1
set SU[EV]=1227902003
set ZU[EV]=1227902000
set AU[EV]=0
set BU[EV]=1227902009
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GU4=EV
set EV=EV+1
set SU[EV]=1227902002
set ZU[EV]=1227902007
set AU[EV]=0
set BU[EV]=1227902017
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GV4=EV
set EV=EV+1
set SU[EV]=1227902037
set ZU[EV]=1227902038
set AU[EV]=0
set BU[EV]=1227902039
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GW4=EV
set EV=EV+1
set SU[EV]=1227902257
set ZU[EV]=1227902256
set AU[EV]=0
set BU[EV]=1227902258
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GY4=EV
set EV=EV+1
set SU[EV]=1227902261
set ZU[EV]=1227902260
set AU[EV]=0
set BU[EV]=1227902259
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GZ4=EV
set EV=EV+1
set SU[EV]=1227902262
set ZU[EV]=1227902263
set AU[EV]=0
set BU[EV]=1227902264
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GA4=EV
set EV=EV+1
set SU[EV]=1227902278
set ZU[EV]=1227902279
set AU[EV]=0
set BU[EV]=1227902280
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GB4=EV
set EV=EV+1
set SU[EV]=1227902285
set ZU[EV]=1227902284
set AU[EV]=0
set BU[EV]=1227902286
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G34=EV
set EV=EV+1
set SU[EV]=1227902287
set ZU[EV]=1227902288
set AU[EV]=0
set BU[EV]=1227902289
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G64=EV
set EV=EV+1
set SU[EV]=1227902545
set ZU[EV]=1227902546
set AU[EV]=0
set BU[EV]=1227902547
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GL4=EV
set EV=EV+1
set SU[EV]=1227902548
set ZU[EV]=1227902549
set AU[EV]=0
set BU[EV]=1227902550
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G14=EV
set EV=EV+1
set SU[EV]=1227902551
set ZU[EV]=1227902552
set AU[EV]=0
set BU[EV]=1227902553
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G04=EV
set EV=EV+1
set SU[EV]=1227902554
set ZU[EV]=1227902768
set AU[EV]=0
set BU[EV]=1227902769
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G54=EV
set EV=EV+1
set SU[EV]=1227902802
set ZU[EV]=1227902803
set AU[EV]=0
set BU[EV]=1227902804
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G24=EV
set EV=EV+1
set SU[EV]=1227895617
set ZU[EV]=1227896113
set AU[EV]=1747990603
set BU[EV]=1227899961
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
set LU[EV]=0
set DV[EV]=EZ
set EV=EV+1
set SU[EV]=1227895641
set ZU[EV]=1227896114
set AU[EV]=1747990616
set BU[EV]=1227899705
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbofSlowness.blp"
set LU[EV]=0
set DV[EV]=NZ
set EV=EV+1
set SU[EV]=1227895379
set ZU[EV]=1227895376
set AU[EV]=1747990611
set BU[EV]=1227899713
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
set LU[EV]=0
set DV[EV]=JV
set EV=EV+1
set SU[EV]=1227895374
set ZU[EV]=1227895378
set AU[EV]=1747990608
set BU[EV]=1227899731
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBoots.blp"
set LU[EV]=0
set DV[EV]=MV
set EV=EV+1
set SU[EV]=1227895386
set ZU[EV]=1227895859
set AU[EV]=1747990609
set BU[EV]=1227899734
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBelt.blp"
set LU[EV]=0
set DV[EV]=OV
set EV=EV+1
set SU[EV]=1227895601
set ZU[EV]=1227895861
set AU[EV]=1747990612
set BU[EV]=1227899957
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNClawsOfAttack.blp"
set LU[EV]=0
set DV[EV]=SV
set EV=EV+1
set SU[EV]=1227895618
set ZU[EV]=1227895877
set AU[EV]=1747990606
set BU[EV]=1227899969
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHelmutPurple.blp"
set LU[EV]=0
set DV[EV]=NW
set EV=EV+1
set SU[EV]=1227895621
set ZU[EV]=1227895880
set AU[EV]=1747990615
set BU[EV]=1227899703
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
set LU[EV]=14
set DV[EV]=RW
set EV=EV+1
set SU[EV]=1227895623
set ZU[EV]=1227895883
set AU[EV]=1747990607
set BU[EV]=1227899716
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUndeadShrine.blp"
set LU[EV]=0
set DV[EV]=VW
set EV=EV+1
set SU[EV]=1227895632
set ZU[EV]=1227895891
set AU[EV]=1747990613
set BU[EV]=1227899737
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAlleriaFlute.blp"
set LU[EV]=0
set DV[EV]=YX
set EV=EV+1
set SU[EV]=1227895633
set ZU[EV]=1227895892
set AU[EV]=1747990599
set BU[EV]=1227899977
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGoldRing.blp"
set LU[EV]=0
set DV[EV]=ZX
set EV=EV+1
set SU[EV]=1227895635
set ZU[EV]=1227895894
set AU[EV]=1747990604
set BU[EV]=1227899978
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingSkull.blp"
set LU[EV]=0
set DV[EV]=GY
set EV=EV+1
set SU[EV]=1227895636
set ZU[EV]=1227895895
set AU[EV]=1747990610
set BU[EV]=1227899728
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRobeOfTheMagi.blp"
set LU[EV]=0
set DV[EV]=HY
set EV=EV+1
set SU[EV]=1227895638
set ZU[EV]=1227895897
set AU[EV]=1747990597
set BU[EV]=1227899701
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSlippersOfAgility.blp"
set LU[EV]=0
set DV[EV]=UY
set EV=EV+1
set SU[EV]=1227895639
set ZU[EV]=1227895898
set AU[EV]=1747990602
set BU[EV]=1227899979
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSobiMask.blp"
set LU[EV]=0
set DV[EV]=ZY
set EV=EV+1
set SU[EV]=1227900740
set ZU[EV]=1227900739
set AU[EV]=1747990601
set BU[EV]=1227900741
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWand.blp"
set LU[EV]=0
set DV[EV]=ZA
set EV=EV+1
set SU[EV]=1227901012
set ZU[EV]=1227901010
set AU[EV]=1747990598
set BU[EV]=1227901015
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
set LU[EV]=0
set DV[EV]=BA
set EV=EV+1
set SU[EV]=1227901495
set ZU[EV]=1227901494
set AU[EV]=1747990614
set BU[EV]=1227901496
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAmulet.blp"
set LU[EV]=0
set DV[EV]=JB
set EV=EV+1
set SU[EV]=1227895628
set ZU[EV]=1227895888
set AU[EV]=1747990605
set BU[EV]=1227899717
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
set LU[EV]=0
set DV[EV]=RX
set EV=EV+1
set SU[EV]=1227896129
set ZU[EV]=1227896137
set AU[EV]=1747990600
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"
set LU[EV]=0
set DV[EV]=XC
set EV=EV+1
set SU[EV]=1227895607
set ZU[EV]=1227895874
set AU[EV]=1747990835
set BU[EV]=1227899730
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp"
set LU[EV]=0
set DV[EV]=CV
set EV=EV+1
set SU[EV]=1227895377
set ZU[EV]=1227895375
set AU[EV]=1747993167
set BU[EV]=1227894849
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
set LU[EV]=0
set DV[EV]=FV
set EV=EV+1
set SU[EV]=1227902273
set ZU[EV]=1227902265
set AU[EV]=1747993422
set BU[EV]=1227902274
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"
set LU[EV]=0
set DV[EV]=E_4
set EV=EV+1
set SU[EV]=1227895603
set ZU[EV]=1227895863
set AU[EV]=1747993648
set BU[EV]=1227899959
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
set LU[EV]=0
set DV[EV]=UV
set EV=EV+1
set SU[EV]=1228222513
set ZU[EV]=1228222512
set AU[EV]=0
set BU[EV]=1228222514
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=0
set GX4=EV
call E5()
set EE7=InitHashtable()
call JBH()
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call EO8(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call EO8(t,EVENT_PLAYER_UNIT_PAWN_ITEM)
call TriggerAddCondition(t,Condition(function GNG))
set H94=t
set t=null
call JCH()
call J3H()
call KIG()
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(t,Condition(function N19))
set BH=t
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function N69))
if M34 then
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call EO8(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call EO8(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(t,Condition(function GYG))
endif
set t=null
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YCF))
set t=null
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call EO8(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(t,Condition(function GBG))
set cH=t
set t=null
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(t,function KZ9)
call TriggerAddCondition(t,Condition(function KV9))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function KC9))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddAction(t,function GO9)
call TriggerAddCondition(t,Condition(function GI9))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.33,true)
call TriggerAddCondition(t,Condition(function H49))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.75,true)
call TriggerAddCondition(t,Condition(function HD9))
set t=null
call SetPlayerAbilityAvailable(Z7[1],1093744436,false)
call SetPlayerAbilityAvailable(Z7[2],1093744436,false)
call SetPlayerAbilityAvailable(Z7[3],1093744436,false)
call SetPlayerAbilityAvailable(Z7[4],1093744436,false)
call SetPlayerAbilityAvailable(Z7[5],1093744436,false)
call SetPlayerAbilityAvailable(A7[1],1093744436,false)
call SetPlayerAbilityAvailable(A7[2],1093744436,false)
call SetPlayerAbilityAvailable(A7[3],1093744436,false)
call SetPlayerAbilityAvailable(A7[4],1093744436,false)
call SetPlayerAbilityAvailable(A7[5],1093744436,false)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function HF9))
set t=null
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t,Condition(function G3G))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(t,Condition(function GCG))
set t=null
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call EO8(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(t,Condition(function GLG))
set t=null
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t,Condition(function G5G))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function HEG))
set t=null
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddAction(t,function IUG)
call SetAltMinimapIcon("war3mapImported\\black.blp")
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NEG))
call SetPlayerAbilityAvailable(Z7[1],1093752406,false)
call SetPlayerAbilityAvailable(Z7[2],1093752406,false)
call SetPlayerAbilityAvailable(Z7[3],1093752406,false)
call SetPlayerAbilityAvailable(Z7[4],1093752406,false)
call SetPlayerAbilityAvailable(Z7[5],1093752406,false)
call SetPlayerAbilityAvailable(A7[1],1093752406,false)
call SetPlayerAbilityAvailable(A7[2],1093752406,false)
call SetPlayerAbilityAvailable(A7[3],1093752406,false)
call SetPlayerAbilityAvailable(A7[4],1093752406,false)
call SetPlayerAbilityAvailable(A7[5],1093752406,false)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(t,Condition(function NFG))
set t=null
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(t,function IP9)
call TriggerAddCondition(t,Condition(function IO9))
call J5H()
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,FJ,300,Condition(function A47))
call TriggerRegisterUnitInRange(t,lJ,300,Condition(function A47))
call TriggerRegisterUnitInRange(t,DJ,300,Condition(function A47))
call TriggerAddCondition(t,Condition(function IQ9))
set t=null
set GS=CreateTrigger()
call TriggerAddAction(GS,function IR9)
set HS=CreateTrigger()
call TriggerAddAction(HS,function IS9)
set t=CreateTrigger()
set TUD=CreateRegion()
call RegionAddRect(TUD,Xr)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
set TUD=CreateRegion()
call RegionAddRect(TUD,Uo)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
set TUD=CreateRegion()
call RegionAddRect(TUD,bE)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
call TriggerAddCondition(t,Condition(function IT9))
set t=null
set TUD=null
set t=CreateTrigger()
set TUD=CreateRegion()
call RegionAddRect(TUD,zo)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
set TUD=CreateRegion()
call RegionAddRect(TUD,jo)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
set TUD=CreateRegion()
call RegionAddRect(TUD,XE)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
call TriggerAddCondition(t,Condition(function IU9))
set t=null
set TUD=null
set t=CreateTrigger()
set TUD=CreateRegion()
call RegionAddRect(TUD,Er)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
set TUD=CreateRegion()
call RegionAddRect(TUD,to)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
set TUD=CreateRegion()
call RegionAddRect(TUD,BE)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
call TriggerAddCondition(t,Condition(function IV9))
set t=null
set TUD=null
set t=CreateTrigger()
set TUD=CreateRegion()
call RegionAddRect(TUD,er)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
set TUD=CreateRegion()
call RegionAddRect(TUD,lo)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
set TUD=CreateRegion()
call RegionAddRect(TUD,OE)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
call TriggerAddCondition(t,Condition(function IW9))
set t=null
set TUD=null
set t=CreateTrigger()
set TUD=CreateRegion()
call RegionAddRect(TUD,Qo)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
set TUD=CreateRegion()
call RegionAddRect(TUD,ar)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
set TUD=CreateRegion()
call RegionAddRect(TUD,AE)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
call TriggerAddCondition(t,Condition(function IX9))
set t=null
set TUD=null
set t=CreateTrigger()
set TUD=CreateRegion()
call RegionAddRect(TUD,wo)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
set TUD=CreateRegion()
call RegionAddRect(TUD,go)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
set TUD=CreateRegion()
call RegionAddRect(TUD,IE)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
call TriggerAddCondition(t,Condition(function IY9))
set t=null
set TUD=null
set JS=CreateTrigger()
call TriggerAddAction(JS,function I29)
set cA=CreateTrigger()
call TriggerRegisterUnitEvent(cA,JV4,EVENT_UNIT_DEATH)
call TriggerAddAction(cA,function J49)
set CA=CreateTrigger()
call TriggerRegisterUnitEvent(CA,JW4,EVENT_UNIT_DEATH)
call TriggerAddAction(CA,function J79)
set dA=CreateTrigger()
call TriggerRegisterUnitEvent(dA,JX4,EVENT_UNIT_DEATH)
call TriggerAddAction(dA,function J89)
set DA=CreateTrigger()
call TriggerRegisterUnitEvent(DA,JS4,EVENT_UNIT_DEATH)
call TriggerAddAction(DA,function J99)
set fA=CreateTrigger()
call TriggerRegisterUnitEvent(fA,JT4,EVENT_UNIT_DEATH)
call TriggerAddAction(fA,function JD9)
set FA=CreateTrigger()
call TriggerRegisterUnitEvent(FA,JU4,EVENT_UNIT_DEATH)
call TriggerAddAction(FA,function JE9)
set gA=CreateTrigger()
call TriggerRegisterUnitEvent(gA,KG4,EVENT_UNIT_DEATH)
call TriggerAddAction(gA,function JF9)
set GA=CreateTrigger()
call TriggerRegisterUnitEvent(GA,KH4,EVENT_UNIT_DEATH)
call TriggerAddAction(GA,function JG9)
set LA=CreateTrigger()
call TriggerRegisterUnitEvent(LA,KI4,EVENT_UNIT_DEATH)
call TriggerAddAction(LA,function JH9)
set mA=CreateTrigger()
call TriggerRegisterUnitEvent(mA,KD4,EVENT_UNIT_DEATH)
call TriggerAddAction(mA,function JI9)
set MA=CreateTrigger()
call TriggerRegisterUnitEvent(MA,KE4,EVENT_UNIT_DEATH)
call TriggerAddAction(MA,function JJ9)
set PA=CreateTrigger()
call TriggerRegisterUnitEvent(PA,KF4,EVENT_UNIT_DEATH)
call TriggerAddAction(PA,function JK9)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JF4,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function JM9))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,J34,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function JO9))
set t=null
set SA=CreateTrigger()
call EO8(SA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(SA,Condition(function JP9))
call TriggerAddAction(SA,function JQ9)
set TA=CreateTrigger()
call EO8(TA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(TA,Condition(function JR9))
call TriggerAddAction(TA,function JS9)
set KS=CreateTrigger()
call TriggerAddAction(KS,function JT9)
set wA=CreateTrigger()
call TriggerRegisterTimerEventSingle(wA,75.00)
call TriggerAddAction(wA,function JU9)
set MS=CreateTrigger()
call TriggerAddCondition(MS,Condition(function KT9))
set OS=CreateTrigger()
call TriggerAddAction(OS,function KU9)
set vA=CreateTrigger()
call TriggerAddAction(vA,function X18)
set eA=CreateTrigger()
call EO8(eA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(eA,Condition(function X58))
call TriggerAddAction(eA,function X28)
set xA=CreateTrigger()
call EO8(xA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(xA,Condition(function X_8))
call TriggerAddAction(xA,function Y48)
set FS=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(FS,1.00)
call TriggerAddAction(FS,function YE8)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SELECTED)
call TriggerAddCondition(t,Condition(function YO9))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_DESELECTED)
call TriggerAddCondition(t,Condition(function YM9))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JJ4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JJ4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y_8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JK4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JK4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Z48))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JM4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JM4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Z78))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JN4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JN4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Z88))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JO4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JO4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Z98))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JP4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JP4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZD8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JQ4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JQ4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZE8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JR4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JR4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZF8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JS4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JS4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZG8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JT4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JT4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZH8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JU4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JU4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZI8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JV4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JV4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZJ8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JW4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JW4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZK8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JX4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JX4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZM8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,J04,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,J04,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YW8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,J54,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,J54,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YX8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,J24,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,J24,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YY8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,J_4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,J_4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YZ8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,K44,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,K44,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YA8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,K74,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,K74,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YB8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,K84,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,K84,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YC8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,K94,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,K94,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y38))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KD4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KD4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y68))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KE4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KE4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YL8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KF4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KF4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y18))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KG4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KG4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y08))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KH4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KH4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y58))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KI4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KI4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y28))
set VA=CreateTrigger()
call TriggerRegisterTimerEvent(VA,1.,true)
call TriggerAddCondition(VA,Condition(function YT8))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,5.,true)
call TriggerAddCondition(t,Condition(function ZV8))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,4.,true)
call TriggerAddCondition(t,Condition(function ZA8))
set t=null
set KU=LD7()
set t=CreateTrigger()
set TUD=CreateRegion()
call RegionAddRect(TUD,bj_mapInitialPlayableArea)
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
call TriggerAddCondition(t,Condition(function Z18))
set t=null
set TUD=null
set t=CreateTrigger()
call TriggerAddCondition(t,Condition(function Z08))
call TriggerRegisterTimerEvent(t,5.,true)
set t=null
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_VISIBLE,-4550,1250,300,true,true))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_VISIBLE,-4550,1250,300,true,true))
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_VISIBLE,3200,1,300,true,true))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_VISIBLE,3200,1,300,true,true))
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_VISIBLE,-7292,4186,450,true,true))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_VISIBLE,-7292,4186,450,true,true))
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_VISIBLE,7348,-4334,450,true,true))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_VISIBLE,7348,-4334,450,true,true))
call DestroyFogModifier(CreateFogModifierRect(Z7[0],FOG_OF_WAR_VISIBLE,IW4,true,true))
call DestroyFogModifier(CreateFogModifierRect(A7[0],FOG_OF_WAR_VISIBLE,IW4,true,true))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NRG))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,3.5,true)
call TriggerAddCondition(t,Condition(function EE9))
set t=null
set OE4=CreateTrigger()
call TriggerRegisterUnitEvent(OE4,J34,EVENT_UNIT_DEATH)
call TriggerAddAction(OE4,function FH9)
set OF4=CreateTrigger()
call TriggerRegisterUnitEvent(OF4,JF4,EVENT_UNIT_DEATH)
call TriggerAddAction(OF4,function FF9)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function F19))
set t=null
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function F29))
set t=null
set OH4=CreateTrigger()
call TriggerAddAction(OH4,function G89)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,B7,EVENT_PLAYER_UNIT_ATTACKED,Condition(function A47))
call TriggerAddCondition(t,Condition(function GD9))
set t=null
set ow=CreateRegion()
call RegionAddRect(ow,TD)
call RegionAddRect(ow,di)
call RegionAddRect(ow,fi)
call RegionAddRect(ow,Fi)
call RegionAddRect(ow,Gi)
call RegionAddRect(ow,Ji)
call RegionAddRect(ow,li)
call RegionAddRect(ow,Li)
call RegionAddRect(ow,pi)
set T94=CreateRegion()
call RegionAddRect(T94,TN)
call RegionAddRect(T94,UN)
set EA=CreateTrigger()
call TriggerRegisterEnterRectSimple(EA,bj_mapInitialPlayableArea)
call TriggerAddCondition(EA,Condition(function HG9))
call TriggerAddAction(EA,function HH9)
set OA=CreateTrigger()
call EO8(OA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(OA,Condition(function HI9))
call TriggerAddAction(OA,function HJ9)
set RA=CreateTrigger()
call EO8(RA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(RA,Condition(function HK9))
call TriggerAddAction(RA,function HM9)
if(bj_isSinglePlayer and HN9())then
call II9()
endif
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Le,"-wtf",true)
call TriggerAddAction(t,function IK9)
call TriggerAddCondition(t,Condition(function IJ9))
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Z7[1],EVENT_PLAYER_HERO_LEVEL,Condition(function A47))
call TriggerRegisterPlayerUnitEvent(t,Z7[2],EVENT_PLAYER_HERO_LEVEL,Condition(function A47))
call TriggerRegisterPlayerUnitEvent(t,Z7[3],EVENT_PLAYER_HERO_LEVEL,Condition(function A47))
call TriggerRegisterPlayerUnitEvent(t,Z7[4],EVENT_PLAYER_HERO_LEVEL,Condition(function A47))
call TriggerRegisterPlayerUnitEvent(t,Z7[5],EVENT_PLAYER_HERO_LEVEL,Condition(function A47))
call TriggerRegisterPlayerUnitEvent(t,A7[1],EVENT_PLAYER_HERO_LEVEL,Condition(function A47))
call TriggerRegisterPlayerUnitEvent(t,A7[2],EVENT_PLAYER_HERO_LEVEL,Condition(function A47))
call TriggerRegisterPlayerUnitEvent(t,A7[3],EVENT_PLAYER_HERO_LEVEL,Condition(function A47))
call TriggerRegisterPlayerUnitEvent(t,A7[4],EVENT_PLAYER_HERO_LEVEL,Condition(function A47))
call TriggerRegisterPlayerUnitEvent(t,A7[5],EVENT_PLAYER_HERO_LEVEL,Condition(function A47))
call TriggerAddCondition(t,Condition(function IM9))
set t=null
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Le,"-test",true)
call TriggerAddCondition(t,Condition(function IN9))
set t=null
set t=CreateTrigger()
set TUD=CreateRegion()
call RegionAddRect(TUD,GetWorldBounds())
call TriggerRegisterEnterRegion(t,TUD,null)
call TriggerAddCondition(t,Condition(function OW9))
call TriggerAddAction(t,function DAF)
set t=null
set TUD=null
call MNF(JH4,14,0)
call MNF(JK4,12,0)
call MNF(JG4,34,1)
call MNF(JJ4,33,1)
call MNF(JI4,55,2)
call MNF(JM4,52,2)
call MNF(JL4,14,0)
call MNF(J54,16,0)
call MNF(J64,35,1)
call MNF(J04,37,1)
call MNF(J14,57,2)
call MNF(J24,58,2)
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,FJ,300,Condition(function A47))
call TriggerRegisterUnitInRange(t,lJ,300,Condition(function A47))
call TriggerRegisterUnitInRange(t,DJ,300,Condition(function A47))
call TriggerAddCondition(t,Condition(function OX9))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,25.,false)
call TriggerAddAction(t,function O19)
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,2.,false)
call TriggerAddCondition(t,Condition(function OV9))
set t=null
set SC4=CreateRegion()
call RegionAddRect(SC4,HD)
call RegionAddRect(SC4,GD)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,25.,false)
call TriggerAddAction(t,function O69)
set t=null
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-",false)
call TriggerAddAction(t,function P89)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(t,Condition(function SA9))
call TriggerAddAction(t,function S69)
set AW[0]=false
set AW[1]=false
set AW[2]=false
set AW[3]=false
set AW[4]=false
set AW[5]=false
set AW[6]=false
set AW[7]=false
set AW[8]=false
set AW[9]=false
set AW[10]=false
set AW[11]=false
set AW[12]=false
set AW[13]=false
set AW[14]=false
set AW[15]=false
set AW[16]=false
set OL4[0]=false
set OL4[1]=false
set OL4[2]=false
set OL4[3]=false
set OL4[4]=false
set OL4[5]=false
set OL4[6]=false
set OL4[7]=false
set OL4[8]=false
set OL4[9]=false
set OL4[10]=false
set OL4[11]=false
set OL4[12]=false
set OL4[13]=false
set OL4[14]=false
set OL4[15]=false
set OL4[16]=false
set OL4[GetPlayerId(Z7[1])]=true
set OL4[GetPlayerId(Z7[2])]=true
set OL4[GetPlayerId(Z7[3])]=true
set OL4[GetPlayerId(Z7[4])]=true
set OL4[GetPlayerId(Z7[5])]=true
set OL4[GetPlayerId(A7[1])]=true
set OL4[GetPlayerId(A7[2])]=true
set OL4[GetPlayerId(A7[3])]=true
set OL4[GetPlayerId(A7[4])]=true
set OL4[GetPlayerId(A7[5])]=true
call TF9()
set eb[0]=true
set eb[1]=true
set eb[2]=true
set eb[3]=true
set eb[4]=true
set eb[5]=true
set eb[6]=true
set eb[7]=true
set eb[8]=true
set eb[9]=true
set eb[10]=true
set eb[11]=true
set eb[12]=true
set eb[13]=true
set eb[14]=true
set eb[15]=true
set ib[0]=false
set ib[1]=false
set ib[2]=false
set ib[3]=false
set ib[4]=false
set ib[5]=false
set ib[6]=false
set ib[7]=false
set ib[8]=false
set ib[9]=false
set ib[10]=false
set ib[11]=false
set ib[12]=false
set ib[13]=false
set ib[14]=false
set CW[GetPlayerId(Z7[1])]=false
set CW[GetPlayerId(Z7[2])]=false
set CW[GetPlayerId(Z7[3])]=false
set CW[GetPlayerId(Z7[4])]=false
set CW[GetPlayerId(Z7[5])]=false
set CW[GetPlayerId(A7[1])]=false
set CW[GetPlayerId(A7[2])]=false
set CW[GetPlayerId(A7[3])]=false
set CW[GetPlayerId(A7[4])]=false
set CW[GetPlayerId(A7[5])]=false
set ab[GetPlayerId(Z7[1])]=false
set ab[GetPlayerId(Z7[2])]=false
set ab[GetPlayerId(Z7[3])]=false
set ab[GetPlayerId(Z7[4])]=false
set ab[GetPlayerId(Z7[5])]=false
set ab[GetPlayerId(A7[1])]=false
set ab[GetPlayerId(A7[2])]=false
set ab[GetPlayerId(A7[3])]=false
set ab[GetPlayerId(A7[4])]=false
set ab[GetPlayerId(A7[5])]=false
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call EO8(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call EO8(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(t,Condition(function P79))
set QT[GetPlayerId(Z7[1])]=false
set QT[GetPlayerId(Z7[2])]=false
set QT[GetPlayerId(Z7[3])]=false
set QT[GetPlayerId(Z7[4])]=false
set QT[GetPlayerId(Z7[5])]=false
set QT[GetPlayerId(A7[1])]=false
set QT[GetPlayerId(A7[2])]=false
set QT[GetPlayerId(A7[3])]=false
set QT[GetPlayerId(A7[4])]=false
set QT[GetPlayerId(A7[5])]=false
set Ob[0]=false
set Ob[1]=false
set Ob[2]=false
set Ob[3]=false
set Ob[4]=false
set Ob[5]=false
set Ob[6]=false
set Ob[7]=false
set Ob[8]=false
set Ob[9]=false
set Ob[10]=false
set Ob[11]=false
set Ob[12]=false
set Ob[13]=false
set Ob[14]=false
set Ob[15]=false
set Ob[16]=false
set Ab[0]=true
set Ab[1]=true
set Ab[2]=true
set Ab[3]=true
set Ab[4]=true
set Ab[5]=true
set Ab[6]=true
set Ab[7]=true
set Ab[8]=true
set Ab[9]=true
set Ab[10]=true
set Ab[11]=true
set Ab[12]=true
set Ab[13]=true
set Ab[14]=true
set Ab[15]=true
set Ab[16]=true
set OT[GetPlayerId(Z7[1])]=false
set OT[GetPlayerId(Z7[2])]=false
set OT[GetPlayerId(Z7[3])]=false
set OT[GetPlayerId(Z7[4])]=false
set OT[GetPlayerId(Z7[5])]=false
set OT[GetPlayerId(A7[1])]=false
set OT[GetPlayerId(A7[2])]=false
set OT[GetPlayerId(A7[3])]=false
set OT[GetPlayerId(A7[4])]=false
set OT[GetPlayerId(A7[5])]=false
call TM9()
set Nb[0]=false
set Nb[1]=false
set Nb[2]=false
set Nb[3]=false
set Nb[4]=false
set Nb[5]=false
set Nb[6]=false
set Nb[7]=false
set Nb[8]=false
set Nb[9]=false
set Nb[10]=false
set Nb[11]=false
set Nb[12]=false
set Nb[13]=false
set Nb[14]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed6.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed6.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed7.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed6.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed6.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed7.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed8.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed6.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed7.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed8.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed9.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed1.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed2.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed3.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed4.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed5.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed1.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed2.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed3.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed4.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed5.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed6.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed7.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed1.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed2.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed3.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed4.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed1.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed2.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed3.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed4.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed5.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed6.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed7.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed8.wav"
set db[Fb]=false
set RT[0]=false
set RT[1]=false
set RT[2]=false
set RT[3]=false
set RT[4]=false
set RT[5]=false
set RT[6]=false
set RT[7]=false
set RT[8]=false
set RT[9]=false
set RT[10]=false
set RT[11]=false
set RT[12]=false
set RT[13]=false
set t=CreateTrigger()
set US7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function U79))
call TG7(US7,"T_CurrentX",(0)*1.0)
call TG7(US7,"T_CurrentY",(0)*1.0)
call TG7(US7,"T_MaxX",(160)*1.0)
set fb[0]=false
set fb[1]=false
set fb[2]=false
set fb[3]=false
set fb[4]=false
set fb[5]=false
set fb[6]=false
set fb[7]=false
set fb[8]=false
set fb[9]=false
set fb[10]=false
set fb[11]=false
set fb[12]=false
set t=null
set t=CreateTrigger()
call TriggerAddAction(t,function V69)
call TriggerAddCondition(t,Condition(function UG9))
set ZT4=t
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function VL9))
set t=null
if V8 then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function YK9))
endif
set t=null
set Tj=CreateTrigger()
call TriggerRegisterTimerExpireEvent(Tj,A[1])
call TriggerAddAction(Tj,function YR9)
set Uj=CreateTrigger()
call TriggerRegisterTimerExpireEvent(Uj,A[2])
call TriggerAddAction(Uj,function YS9)
set wj=CreateTrigger()
call TriggerRegisterTimerExpireEvent(wj,A[3])
call TriggerAddAction(wj,function YT9)
set zj=CreateTrigger()
call TriggerRegisterTimerExpireEvent(zj,A[4])
call TriggerAddAction(zj,function YU9)
set Zj=CreateTrigger()
call TriggerRegisterTimerExpireEvent(Zj,A[5])
call TriggerAddAction(Zj,function YV9)
set vJ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(vJ,A[7])
call TriggerAddAction(vJ,function YW9)
set eJ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(eJ,A[8])
call TriggerAddAction(eJ,function YX9)
set xJ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(xJ,A[9])
call TriggerAddAction(xJ,function YY9)
set oJ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(oJ,A[10])
call TriggerAddAction(oJ,function YZ9)
set iJ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(iJ,A[11])
call TriggerAddAction(iJ,function YA9)
call J6H()
call JLH()
call J1H()
call J0H()
set OJ=CreateTrigger()
call EO8(OJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OJ,Condition(function XXD))
call TriggerAddAction(OJ,function XYD)
set t=CreateTrigger()
set TUD=CreateRegion()
call RegionAddRect(TUD,GetWorldBounds())
call TriggerRegisterEnterRegion(t,TUD,Condition(function A47))
call TriggerAddCondition(t,Condition(function AEF))
set BS[1]=1093686867
set BS[2]=1093686859
set BS[3]=1093686865
set BS[4]=1093687372
set BS[5]=1093686861
set BS[6]=1093686862
set BS[7]=1093686863
set BS[8]=1093686864
set BS[9]=1093686855
set BS[10]=1093686874
set t=null
set TUD=null
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VEG))
set t=null
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(t,function LIE)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call EO8(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call EO8(t,EVENT_PLAYER_UNIT_PAWN_ITEM)
call TriggerAddCondition(t,Condition(function VGG))
set SV4=t
set t=null
set bj[GetPlayerId(Z7[1])]=false
set bj[GetPlayerId(Z7[2])]=false
set bj[GetPlayerId(Z7[3])]=false
set bj[GetPlayerId(Z7[4])]=false
set bj[GetPlayerId(Z7[5])]=false
set bj[GetPlayerId(A7[1])]=false
set bj[GetPlayerId(A7[2])]=false
set bj[GetPlayerId(A7[3])]=false
set bj[GetPlayerId(A7[4])]=false
set bj[GetPlayerId(A7[5])]=false
set NU[0]=GetRandomInt(1,2)
set NU[1]=GetRandomInt(1,2)
set NU[2]=GetRandomInt(1,2)
set NU[3]=GetRandomInt(1,2)
set NU[4]=GetRandomInt(1,2)
set NU[5]=GetRandomInt(1,2)
set NU[6]=GetRandomInt(1,2)
set NU[7]=GetRandomInt(1,2)
set NU[8]=GetRandomInt(1,2)
set NU[9]=GetRandomInt(1,2)
set NU[10]=GetRandomInt(1,2)
set NU[11]=GetRandomInt(1,2)
set NU[12]=GetRandomInt(1,2)
set NU[13]=GetRandomInt(1,2)
set NU[14]=GetRandomInt(1,2)
set NU[15]=GetRandomInt(1,2)
set E07[0]=254
set E07[1]=255
set E07[2]=257
set E07[3]=261
set E07[4]=259
set E07[5]=262
set E07[6]=260
set E07[7]=253
set E07[8]=256
set E07[9]=258
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,15.,false)
call TriggerAddAction(t,function XK9)
set EW7=CreateTrigger()
call DisableTrigger(EW7)
call TriggerRegisterTimerEvent(EW7,FU7,true)
call TriggerAddAction(EW7,function I4F)
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t,function QVG)
call TriggerRegisterTimerEventPeriodic(HK,5.)
call TriggerAddAction(HK,function E8F)
call TriggerRegisterTimerEventPeriodic(QZ4,5.)
call TriggerAddAction(QZ4,function K0F)
call DisableTrigger(QZ4)
call TriggerRegisterTimerEventPeriodic(Hn,1.)
call TriggerAddAction(Hn,function Q9F)
call TriggerRegisterTimerEventPeriodic(HN,1.)
call TriggerAddAction(HN,function QFF)
call TriggerRegisterTimerEventPeriodic(Ho,2.)
call TriggerAddAction(Ho,function QMF)
call DisableTrigger(QB4)
call TriggerRegisterTimerEventPeriodic(QB4,2.)
call TriggerAddAction(QB4,function VGF)
set t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t,function I8F)
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,JA4,700.,null)
call TriggerAddCondition(t,Condition(function D6))
call TriggerAddAction(t,function JSF)
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,IZ4,700.,null)
call TriggerAddCondition(t,Condition(function C6))
call TriggerAddAction(t,function JVF)
call DisableTrigger(QC4)
call TriggerRegisterTimerEventPeriodic(QC4,120.)
call TriggerAddAction(QC4,function X_F)
set PB4=12
set PC4=12
call ILF()
if GetPlayerController(Z7[1])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[2])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[3])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[4])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[5])==MAP_CONTROL_COMPUTER or GetPlayerController(A7[1])==MAP_CONTROL_COMPUTER or GetPlayerController(A7[2])==MAP_CONTROL_COMPUTER or GetPlayerController(A7[3])==MAP_CONTROL_COMPUTER or GetPlayerController(A7[4])==MAP_CONTROL_COMPUTER or GetPlayerController(A7[5])==MAP_CONTROL_COMPUTER then
call DisplayTimedTextToPlayer(Le,0,0,10.,F27+GetObjectName(1496332600))
call DisplayTimedTextToPlayer(Le,0,0,10.,F27+GetObjectName(1496332601))
call DisplayTimedTextToPlayer(Le,0,0,10," ")
if MU7 then
call MJ9()
endif
endif
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function A4F))
set t=CreateTrigger()
call EO8(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t,Condition(function V8G))
call ExecuteFunc("I18")
set t=null
call ExecuteFunc("PB7")
call OQ7()
endfunction
function config takes nothing returns nothing
call SetMapName("TRIGSTR_50000")
call SetMapDescription("TRIGSTR_50001")
call SetPlayers(10)
call SetTeams(10)
call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
call DefineStartLocation(0,-6990.0,6840.0)
call DefineStartLocation(1,-6990.0,6840.0)
call DefineStartLocation(2,-6990.0,6840.0)
call DefineStartLocation(3,-6990.0,6840.0)
call DefineStartLocation(4,-6990.0,6840.0)
call DefineStartLocation(5,-6990.0,6840.0)
call DefineStartLocation(6,-6990.0,6840.0)
call DefineStartLocation(7,-6990.0,6840.0)
call DefineStartLocation(8,-6990.0,6840.0)
call DefineStartLocation(9,-6990.0,6840.0)
call SetPlayerStartLocation(Player(1),0)
call ForcePlayerStartLocation(Player(1),0)
call SetPlayerColor(Player(1),ConvertPlayerColor(1))
call SetPlayerRacePreference(Player(1),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(1),false)
call SetPlayerController(Player(1),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(2),1)
call ForcePlayerStartLocation(Player(2),1)
call SetPlayerColor(Player(2),ConvertPlayerColor(2))
call SetPlayerRacePreference(Player(2),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(2),false)
call SetPlayerController(Player(2),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(3),2)
call ForcePlayerStartLocation(Player(3),2)
call SetPlayerColor(Player(3),ConvertPlayerColor(3))
call SetPlayerRacePreference(Player(3),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(3),false)
call SetPlayerController(Player(3),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(4),3)
call ForcePlayerStartLocation(Player(4),3)
call SetPlayerColor(Player(4),ConvertPlayerColor(4))
call SetPlayerRacePreference(Player(4),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(4),false)
call SetPlayerController(Player(4),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(5),4)
call ForcePlayerStartLocation(Player(5),4)
call SetPlayerColor(Player(5),ConvertPlayerColor(5))
call SetPlayerRacePreference(Player(5),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(5),false)
call SetPlayerController(Player(5),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(7),5)
call ForcePlayerStartLocation(Player(7),5)
call SetPlayerColor(Player(7),ConvertPlayerColor(7))
call SetPlayerRacePreference(Player(7),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(7),false)
call SetPlayerController(Player(7),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(8),6)
call ForcePlayerStartLocation(Player(8),6)
call SetPlayerColor(Player(8),ConvertPlayerColor(8))
call SetPlayerRacePreference(Player(8),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(8),false)
call SetPlayerController(Player(8),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(9),7)
call ForcePlayerStartLocation(Player(9),7)
call SetPlayerColor(Player(9),ConvertPlayerColor(9))
call SetPlayerRacePreference(Player(9),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(9),false)
call SetPlayerController(Player(9),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(10),8)
call ForcePlayerStartLocation(Player(10),8)
call SetPlayerColor(Player(10),ConvertPlayerColor(10))
call SetPlayerRacePreference(Player(10),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(10),false)
call SetPlayerController(Player(10),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(11),9)
call ForcePlayerStartLocation(Player(11),9)
call SetPlayerColor(Player(11),ConvertPlayerColor(11))
call SetPlayerRacePreference(Player(11),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(11),false)
call SetPlayerController(Player(11),MAP_CONTROL_USER)
call InitCustomTeams()
call SetPlayerAlliance(Player(15),Player(1),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(2),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(3),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(4),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(5),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(7),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(8),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(9),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(10),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(11),ConvertAllianceType(6),true)
call SetStartLocPrioCount(0,9)
call SetStartLocPrio(0,0,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(1,9)
call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(2,9)
call SetStartLocPrio(2,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(3,9)
call SetStartLocPrio(3,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(4,9)
call SetStartLocPrio(4,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(5,9)
call SetStartLocPrio(5,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(6,9)
call SetStartLocPrio(6,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(7,9)
call SetStartLocPrio(7,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(8,9)
call SetStartLocPrio(8,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,7,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(9,9)
call SetStartLocPrio(9,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,7,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,8,8,MAP_LOC_PRIO_HIGH)
call PlayMusic("Sound\\Music\\mp3Music\\PH1.mp3")
endfunction
