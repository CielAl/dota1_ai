globals
constant integer D=1
constant integer E=StringHash("AIDummyState")
integer G=0
boolean array J
integer array K
integer array M
integer array N
boolean O=false
boolean P=false
string array Q
boolean array I
timer array A
integer array T
timer array U
integer array V
timer W=null
integer array F
integer B=0
integer C=0
integer array H
integer array L
boolean D4=false
boolean E4=false
boolean O4=false
boolean P4=false
boolean R4=false
multiboard T4=null
unit V4=null
boolean array W4
integer X4=0
boolean Y4=false
boolean A4=false
boolean C4=false
location Z=null
location vv=null
location ev=null
location ov=null
location rv=null
boolean av=false
boolean Ev=false
boolean Ov=false
boolean Rv=false
boolean Av=false
boolean Nv=false
boolean bv=false
boolean Bv=false
boolean cv=false
boolean Cv=false
boolean Dv=false
boolean fv=false
integer D7=0
integer E7=0
location Jv=null
location lv=null
location Lv=null
location mv=null
location pv=null
location qv=null
location Qv=null
location sv=null
location tv=null
location Tv=null
location Uv=null
location Wv=null
location F7=null
location G7=null
unit array M7
integer ae=0
integer ne=0
player array O7
player array P7
integer array S7
integer array T7
integer array U7
unit array W7
integer array Be
force X7=null
force Y7=null
player array Z7
player array A7
player B7=null
player C7=null
boolean ge=false
integer Ge=0
integer he=0
integer array je
hashtable L7=null
player Le=null
unit D8=null
integer E8=0
real F8=0
item array se
item array Se
item array We
item array ze
item array Ze
item array vx
boolean G8=false
integer N8=0
location array O8
unit ox=null
group R8=null
boolean V8=false
boolean AJ=false
boolean W8=false
boolean X8=false
boolean Ox=false
boolean Rx=false
boolean Nx=false
boolean bx=false
string cx=""
boolean Y8=false
integer Z8=0
item jx=null
player lx=null
boolean A8=false
boolean array mx
integer array B8
integer C8=0
force L8=null
boolean D9=false
real E9=0
boolean F9=false
boolean G9=false
boolean O9=false
boolean array P9
string vo=""
boolean array eo
boolean array oo
boolean S9=false
boolean T9=false
trigger U9
integer array V9
integer array W9
integer array X9
weathereffect bo=null
weathereffect Bo=null
boolean Y9=false
location Z9=null
real A9=0
string B9=""
string array C9
rect go=null
rect jo=null
rect lo=null
rect L9=null
rect Qo=null
rect to=null
rect Uo=null
rect wo=null
rect zo=null
rect er=null
rect ED=null
rect ar=null
rect Er=null
rect Xr=null
rect FD=null
rect GD=null
rect HD=null
rect MD=null
rect Br=null
rect cr=null
rect Cr=null
rect fr=null
rect Fr=null
rect Hr=null
rect jr=null
rect Jr=null
rect lr=null
rect mr=null
rect pr=null
rect qr=null
rect ND=null
rect Sr=null
rect Ur=null
rect Wr=null
rect zr=null
rect Zr=null
rect vi=null
rect ei=null
rect xi=null
rect oi=null
rect ai=null
rect OD=null
rect PD=null
rect Ai=null
rect Ni=null
rect bi=null
rect Bi=null
rect QD=null
rect TD=null
rect di=null
rect fi=null
rect Fi=null
rect Gi=null
rect Ji=null
rect li=null
rect Li=null
rect pi=null
rect WD=null
rect XD=null
rect YD=null
rect ZD=null
rect AD=null
rect BD=null
rect LD=null
rect KE=null
rect RE=null
rect SE=null
rect TE=null
rect WE=null
rect YE=null
rect ZE=null
rect EF=null
rect FF=null
rect GF=null
rect HF=null
rect JF=null
rect KF=null
rect MF=null
rect NF=null
rect OF=null
rect PF=null
rect QF=null
rect RF=null
rect SF=null
rect TF=null
rect UF=null
rect WF=null
rect XF=null
rect YF=null
rect ZF=null
rect BF=null
rect CF=null
rect LF=null
rect DG=null
rect EG=null
rect FG=null
rect GG=null
rect JG=null
rect MG=null
rect OG=null
rect PG=null
rect QG=null
rect RG=null
rect SG=null
rect TG=null
rect UG=null
rect VG=null
rect WG=null
rect XG=null
rect ZG=null
rect AG=null
rect BG=null
rect CG=null
rect LG=null
rect DH=null
rect EH=null
rect HH=null
rect OH=null
rect PH=null
rect QH=null
rect RH=null
rect TH=null
rect UH=null
rect WH=null
rect XH=null
rect YH=null
rect ZH=null
rect AH=null
rect CH=null
rect DI=null
rect EI=null
rect GI=null
rect HI=null
rect II=null
rect JI=null
rect NI=null
rect PI=null
rect SI=null
rect TI=null
rect UI=null
rect WI=null
rect XI=null
rect YI=null
rect BI=null
rect CI=null
rect LI=null
rect TJ=null
rect MK=null
rect UK=null
rect YK=null
rect SM=null
rect TM=null
rect UM=null
rect WM=null
rect YM=null
rect ZM=null
rect JN=null
rect MN=null
rect eE=null
rect oE=null
rect aE=null
rect nE=null
rect VE=null
rect EE=null
rect XE=null
rect OE=null
rect IE=null
rect AE=null
rect bE=null
rect BE=null
rect cE=null
rect CE=null
rect dE=null
rect fE=null
rect FE=null
rect gE=null
rect GE=null
rect JE=null
rect lE=null
rect LE=null
rect ME=null
rect pE=null
rect PE=null
rect qE=null
rect QE=null
rect TN=null
rect UN=null
sound yE=null
sound zE=null
sound vX=null
sound WN=null
sound YN=null
sound ZN=null
sound nX=null
sound EX=null
sound OX=null
sound AN=null
sound BN=null
sound bX=null
sound BX=null
sound cX=null
sound CX=null
sound fX=null
sound kX=null
sound LX=null
sound mX=null
sound MX=null
sound PX=null
sound qX=null
sound QX=null
sound tX=null
sound TX=null
sound CN=null
sound UX=null
sound JO=null
sound TO=null
sound oO=null
sound VO=null
sound aO=null
sound YO=null
sound EO=null
sound XO=null
sound OO=null
sound AO=null
sound NO=null
sound bO=null
sound BO=null
sound cO=null
sound CO=null
sound fO=null
sound FO=null
sound gO=null
sound hO=null
sound HO=null
sound kO=null
sound lO=null
sound mO=null
sound pO=null
sound qO=null
sound QO=null
sound tO=null
sound UO=null
sound wO=null
sound WO=null
sound zO=null
sound vR=null
sound eR=null
sound oR=null
sound rR=null
sound aR=null
sound RR=null
sound bR=null
sound BR=null
sound ZO=null
sound CR=null
sound LO=null
sound DP=null
sound hR=null
sound EP=null
sound JR=null
sound lR=null
sound LR=null
sound mR=null
sound pR=null
sound PR=null
sound qR=null
sound QR=null
sound sR=null
sound SR=null
sound UR=null
sound WR=null
sound zR=null
sound GP=null
sound IP=null
sound eI=null
sound oI=null
sound JP=null
sound KP=null
sound RI=null
sound OP=null
string RP="Sound\\Music\\mp3Music\\Undead1.mp3"
string TP="Sound\\Music\\mp3Music\\Undead2.mp3"
string VP="Sound\\Music\\mp3Music\\Undead3.mp3"
string XP="Sound\\Music\\mp3Music\\Orc1.mp3"
string YP="Sound\\Music\\mp3Music\\Orc2.mp3"
string ZP="Sound\\Music\\mp3Music\\Orc3.mp3"
string BP="Sound\\Music\\mp3Music\\NightElf1.mp3"
string CP="Sound\\Music\\mp3Music\\NightElf2.mp3"
string GQ="Sound\\Music\\mp3Music\\NightElf3.mp3"
string IQ="Sound\\Music\\mp3Music\\Human1.mp3"
string JQ="Sound\\Music\\mp3Music\\Human2.mp3"
string YQ="Sound\\Music\\mp3Music\\Human3.mp3"
string GR="Sound\\Music\\mp3Music\\BloodElfTheme.mp3"
string HR="Sound\\Music\\mp3Music\\DarkAgents.mp3"
string IR="Sound\\Music\\mp3Music\\TragicConfrontation.mp3"
string OR="Sound\\Music\\mp3Music\\SadMystery.mp3"
string XR="Sound\\Music\\mp3Music\\IllidansTheme.mp3"
string YR="Sound\\Music\\mp3Music\\PH1.mp3"
trigger ZR=null
trigger DS=null
trigger ES=null
trigger ZI=null
trigger vA=null
trigger eA=null
trigger xA=null
trigger FS=null
trigger VA=null
trigger EA=null
trigger OA=null
trigger RA=null
trigger GS=null
trigger HS=null
trigger JS=null
trigger cA=null
trigger CA=null
trigger dA=null
trigger DA=null
trigger fA=null
trigger FA=null
trigger gA=null
trigger GA=null
trigger LA=null
trigger mA=null
trigger MA=null
trigger PA=null
trigger SA=null
trigger TA=null
trigger KS=null
trigger wA=null
trigger MS=null
trigger OS=null
boolean zA=false
unit vN=null
real YS=0
integer array BS
constant real VN=1
constant real EN=4
constant real XN=4
constant real ON=150
real CS=1.0
boolean bN=false
boolean LS=false
boolean DT=false
integer array ET
real dN
unit DN
unit fN
integer FN
group gN
unit FT
integer IT
integer pN=0
real SN
real tN
unit JT
unit KT
real MT
boolean array OT
integer array vb
boolean array eb
boolean array ob
boolean array ib
boolean array ab
real array nb
integer array PT
boolean array QT
boolean array Ob
boolean array Ab
boolean array Nb
integer bb
integer Bb
integer cb
string array Cb
boolean array db
boolean array RT
boolean array fb
integer Fb=0
boolean gb=true
string array TT
integer UT=0
string Lb
real mb
real array Mb
integer array pb
integer array Qb
integer Tb=1
constant real wb=15
boolean VT=false
boolean WT=false
boolean XT=false
boolean ZT=false
boolean AT=false
boolean BT=false
boolean CT=false
boolean LT=false
boolean EU=false
boolean FU=false
integer array IU
player array JU
integer array MU
integer array NU
constant real OU=55
integer EB=1747990090
real OB
real AB
unit BB
unit cB
group CB=null
string dB=null
real DB
integer fB
unit FB
unit gB
real lB
unit PU
real QU
unit MB
real pB
unit PB
destructable SB=null
unit TB=null
real wB=0
constant real RU=26
constant real yB=550
constant real zB=500
group ZB
unit vc
real ec
integer xc
integer ac
unit nc=null
unit Vc=null
integer array SU
integer array ZU
integer array AU
integer array BU
string array CU
integer array LU
integer array DV
integer EV=0
integer FV
integer JV
integer MV
integer NV
integer OV
integer QV
integer SV
integer TV
integer UV
integer XV
integer AV
integer BV
integer CV
integer LV
integer EW
integer HW
integer NW
integer OW
integer QW
integer RW
integer TW
integer UW
integer VW
integer YW
integer ZW
integer GX
integer NX
integer RX
integer SX
integer WX
integer YX
integer ZX
integer AX
integer GY
integer HY
integer SY
integer UY
integer ZY
integer DZ
integer EZ
integer HZ
integer NZ
integer OZ
integer RZ
integer UZ
integer XZ
integer AZ
integer BZ
integer CZ
integer IA
integer JA
integer NA
integer QA
integer WA
integer YA
integer ZA
integer BA
integer GB
integer JB
integer QB
integer RB
integer VB
integer WB
integer YB
integer LB
integer EC
integer FC
integer GC
integer JC
integer NC
integer OC
integer PC
integer QC
integer TC
integer VC
integer WC
integer XC
integer YC
integer ZC
integer AC
integer BC
integer CC
integer LC
integer H3
integer M3
integer N3
integer R3
integer U3
integer W3
integer Y3
integer Z3
integer B3
integer C3
integer E6
integer F6
integer G6
integer H6
integer N6
integer S6
integer V6
integer W6
integer A6
integer DL
integer HL
integer OL
integer RL
integer WL
integer ZL
integer AL
integer LL
integer D1
integer E1
integer F1
integer H1
integer J1
integer O1
integer P1
integer Q1
integer R1
integer T1
integer U1
integer V1
integer X1
integer A1
integer D0
integer E0
integer J0
integer N0
integer O0
integer R0
integer T0
integer X0
integer Y0
integer B0
integer C0
integer F5
integer G5
integer J5
integer M5
integer N5
integer R5
integer S5
integer T5
integer W5
integer A5
integer B5
integer C5
integer L5
integer E2
integer F2
integer H2
integer P2
integer R2
integer S2
integer T2
integer W2
integer X2
integer Z2
integer D44
integer D74
integer D84
integer D94
integer DD4
integer DE4
integer DF4
integer DG4
integer DH4
integer DI4
integer DJ4
integer DK4
integer DM4
integer DN4
integer DO4
integer DP4
integer DQ4
integer DR4
integer DS4
integer DT4
integer DU4
integer DV4
integer DW4
integer DX4
integer DY4
integer DZ4
integer DA4
integer DB4
integer DC4
integer D34
integer D64
integer DL4
integer D04
integer D54
integer D24
integer D_4
integer E44
integer E74
integer E84
integer E94
integer ED4
integer EE4
integer EF4
integer EG4
integer EH4
integer EI4
integer EJ4
integer EK4
integer EM4
integer EN4
integer EO4
integer EP4
integer EQ4
integer ER4
integer ES4
integer ET4
integer EU4
integer EV4
integer EW4
integer EX4
integer EY4
integer EZ4
integer EA4
integer EB4
integer EC4
integer E34
integer E64
integer EL4
integer E14
integer E04
integer E54
integer E24
integer E_4
integer F44
integer F74
integer F84
integer F94
integer FD4
integer FE4
integer FF4
integer FG4
integer FH4
integer FI4=-1
integer array FJ4
integer array FK4
integer array FM4
integer array FN4
integer array FO4
integer array FP4
integer FQ4=0
integer FR4
integer FS4
integer FT4
integer FU4
integer FV4
integer FW4
integer FX4
integer FY4
integer FZ4
integer FA4
integer FB4
integer FC4
integer F34
integer F64
integer FL4
integer F14
integer F04
integer F54
integer F24
integer F_4
integer G44
integer G74
integer G84
integer G94
integer GD4
integer GE4
integer GG4
integer GH4
integer GI4
integer GJ4
integer GK4
integer GM4
integer GN4
integer GO4
integer GP4
integer GQ4
integer GR4
integer GS4
integer GT4
integer GU4
integer GV4
integer GW4
integer GX4
integer GY4
integer GZ4
integer GA4
integer GB4
integer G34
integer G64
integer GL4
integer G14
integer G04
integer G54
integer G24
player Sh
boolean Th=false
boolean Uh=false
player G_4
unit H44
unit zh
integer array Zh
integer array H74
unit eH
boolean H84=true
boolean oH=false
trigger H94
integer HD4=0
integer HE4=0
integer HF4=0
integer HG4=0
integer HH4=0
integer HI4=0
boolean NH=false
boolexpr bH=null
trigger BH
trigger cH
constant real HJ4=40
integer array dH
integer array HK4
integer FH
integer GH
integer hH
integer jH
integer JH
integer kH
integer lH
integer LH
integer MH
rect pH=null
integer array HM4
integer array HN4
integer array HO4
integer array HP4
integer array HQ4
integer array HR4
integer array HS4
integer array HT4
integer array HU4
integer array HV4
string array HW4
string array HX4
string array HY4
string array HZ4
trigger array rj
trigger array aj
trigger array nj
trigger array Vj
trigger array Ej
trigger array Rj
trigger array Aj
trigger array Nj
boolean array bj
constant boolean Bj=false
item HA4=null
integer HB4=0
integer HC4=0
string Dj="|c00ff0303"
string fj="|c00ff0303"
string gj="|c000042ff"
string Gj="|c00646464"
string Hj="|c00ffffff"
boolean jj=false
boolean Jj=false
boolean lj=false
boolean H34=false
integer array H64
integer array HL4
integer array H14
trigger H04=null
trigger Tj=null
trigger Uj=null
trigger wj=null
trigger zj=null
trigger Zj=null
trigger vJ=null
trigger eJ=null
trigger xJ=null
trigger oJ=null
trigger iJ=null
trigger H54=null
trigger nJ=null
trigger do=null
trigger VJ=null
trigger dq=null
trigger H24=null
trigger dr=null
trigger dR=null
trigger dT=null
trigger du=null
trigger dU=null
trigger dX=null
trigger dY=null
trigger dZ=null
trigger d0=null
trigger H_4=null
trigger I44=null
trigger d3=null
trigger d4=null
trigger d5=null
trigger I74=null
trigger d8=null
trigger d9=null
trigger XJ=null
trigger Dc=null
trigger DC=null
trigger OJ=null
trigger DF=null
trigger RJ=null
trigger IE4=null
trigger Dk=null
trigger DK=null
trigger Dm=null
trigger NJ=null
trigger Do=null
trigger DO=null
trigger Dp=null
trigger DQ=null
unit BJ=null
unit cJ=null
unit CJ=null
unit dJ=null
unit DJ=null
unit fJ=null
unit FJ=null
unit gJ=null
unit GJ=null
unit HJ=null
unit JJ=null
unit lJ=null
unit LJ=null
unit MJ=null
unit PJ=null
unit qJ=null
unit QJ=null
unit SJ=null
unit tJ=null
unit IF4=null
unit UJ=null
unit wJ=null
unit WJ=null
unit yJ=null
unit zJ=null
unit ZJ=null
unit vk=null
unit ek=null
unit xk=null
unit ok=null
unit ik=null
unit ak=null
unit nk=null
unit Vk=null
unit Ek=null
unit Ok=null
unit Rk=null
unit Ak=null
unit Nk=null
unit bk=null
unit Bk=null
unit ck=null
unit Ck=null
unit dk=null
unit fk=null
unit Fk=null
unit gk=null
unit Gk=null
unit jk=null
unit Jk=null
unit lk=null
unit Lk=null
unit pk=null
unit Pk=null
unit qk=null
unit Qk=null
unit Sk=null
unit tk=null
unit Uk=null
unit wk=null
unit Wk=null
unit yk=null
unit zk=null
unit vK=null
unit eK=null
unit xK=null
unit aK=null
unit VK=null
unit EK=null
unit XK=null
unit OK=null
unit AK=null
unit NK=null
unit bK=null
unit BK=null
unit cK=null
unit CK=null
unit dK=null
unit fK=null
unit FK=null
unit gK=null
unit GK=null
unit JK=null
unit lK=null
unit LK=null
unit PK=null
unit qK=null
unit QK=null
unit SK=null
unit TK=null
unit wK=null
unit WK=null
unit zK=null
unit ZK=null
unit vl=null
unit el=null
unit xl=null
unit ol=null
unit rl=null
unit al=null
unit Vl=null
unit El=null
unit Xl=null
unit Ol=null
unit Rl=null
unit Al=null
unit Nl=null
unit bl=null
unit Bl=null
unit cl=null
unit Cl=null
unit dl=null
unit array fl
unit array Fl
unit array gl
integer Hl=0
trigger array Dx
real array DX
integer Dy=0
boolean array IG4
real array Jl
integer array ll
integer array Ll
integer Ml=0
string array Pl
integer array ql
integer Ql=0
integer sl=0
integer IH4
integer tl
integer Tl
real IJ4
real IK4
real IM4
real Zl
real vL
real eL
unit IN4
unit IP4
trigger eC
group IQ4
group aL
player IR4
boolean EL
string IS4
unit IT4=null
region IU4
integer array NL
integer array bL
integer array BL
integer array cL
integer CL=0
gamecache IV4
weathereffect fL
weathereffect FL
rect IW4
constant playercolor gL=ConvertPlayerColor(0)
constant playercolor hL=ConvertPlayerColor(6)
constant playercolor JL=ConvertPlayerColor(12)
real IX4=-7168
real IY4=-7264
real ML=-6816
real PL=-7264
real QL=-7200
real SL=-6752
real tL=-7200
real TL=-6944
real UL=-6560
real wL=-7264
real zL=-6560
real vm=-6560
real em=-6688
real xm=-6496
real om=-6816
real rm=-6496
real im=-6944
real am=-6496
real Vm=-7072
real Em=-6560
real Xm=-7328
real Om=-5984
real Am=-5632
real Nm=-6144
real bm=-6112
real Bm=1568
real cm=-1504
real Cm=-1824
real dm=4960
real fm=-6752
real Fm=-6112
real hm=-1248
real Jm=-3488
real lm=-3296
real Mm=-544
real pm=-6688
real Pm=-6368
real Qm=-4256
real Tm=-4448
real Um=-4960
real wm=-3744
real Wm=-6816
real zm=-5600
real vM=-5728
real eM=-5280
real oM=-6112
real rM=-6080
real iM=-4480
real aM=-4416
real nM=-5312
real VM=-4032
real XM=-7040
real AM=-6656
real bM=-4480
real BM=-4864
real cM=-4992
real dM=-4032
real fM=-6528
real gM=-5792
real hM=-5408
real HM=-6624
real JM=-5088
real kM=-5344
real lM=-3936
real pM=-4832
real sM=-4384
real tM=-3936
real wM=-5216
real zM=-5088
real vp=-5536
real ep=-4896
real op=-6240
real rp=-3616
real ap=-5728
real Vp=-4512
real Ep=-7072
real Xp=-5472
real Rp=-4704
real Ap=-4512
real bp=-5856
real Bp=-6080
real cp=-5120
real Cp=-4544
real dp=-6528
real fp=-6400
real Fp=-5696
real gp=-5248
real Hp=-6848
unit IZ4
unit I34
unit IL4
unit I04
unit I_4
unit J44
unit J74
unit J84
unit J94
unit JD4
unit JE4
unit JF4
unit JG4
unit JH4
unit JI4
unit JJ4
unit JK4
unit JM4
unit JN4
unit JO4
unit JP4
unit JQ4
unit JR4
unit JS4
unit JT4
unit JU4
unit JV4
unit JW4
unit JX4
unit fP
unit FP
unit lP
unit LP
unit MP
unit pP
unit PP
unit qP
unit QP
unit sP
unit tP
unit WP
unit zP
unit vq
unit eq
real JY4=6272
real JZ4=5504
real rq=6464
real iq=5120
real aq=5952
real Eq=5568
real Rq=6080
real Aq=5568
real Nq=6464
real bq=4736
real Bq=5696
real cq=5120
real Cq=5568
real Dq=5248
real fq=5568
real Fq=5376
real Hq=5696
real jq=5504
real Jq=5568
real Mq=5696
real qq=5568
real Qq=5696
real Sq=4992
real tq=4544
real Uq=-4704
real zq=5920
real Zq=1056
real vQ=-160
real eQ=6048
real xQ=-2080
real oQ=32
real iQ=5856
real aQ=2400
real EQ=1696
real OQ=6112
real RQ=-96
real AQ=3168
real NQ=5920
real bQ=3616
real BQ=3296
real cQ=6048
real CQ=2784
real fQ=4640
real FQ=4576
real hQ=5088
real HQ=4192
real lQ=3776
real LQ=5888
real mQ=4096
real MQ=3392
real PQ=6208
real QQ=3264
real SQ=3520
real UQ=5376
real WQ=3776
real zQ=3840
real ZQ=5696
real vs=3264
real es=3168
real os=4000
real rs=4192
real as=5536
real ns=4128
real Vs=4512
real Es=4640
real Xs=3680
real Rs=4832
real As=3104
real Ns=5408
real bs=2592
real Bs=5408
real cs=3296
real Cs=6112
real Ds=4000
real fs=3040
real Fs=5088
real Hs=6304
real js=3744
real Js=6304
real Ks=3744
real ls=3520
real Ls=4608
real ms=4096
real Ms=2624
real ps=4096
real Ps=2624
real Qs=4096
real Ss=2624
unit JA4
unit JB4
unit zs
unit Zs
unit JC4
unit eS
unit oS
unit rS
unit aS
unit nS
unit VS
unit J34
unit J64
unit JL4
unit J14
unit J04
unit J54
unit J24
unit J_4
unit K44
unit K74
unit K84
unit K94
unit KD4
unit KE4
unit KF4
unit KG4
unit KH4
unit KI4
unit PS
unit QS
unit SS
unit tS
unit TS
unit US
unit WS
unit ZS
unit vt
unit et
unit xt
unit ot
unit rt
unit at
unit Vt
unit KJ4
unit KK4
unit KM4
unit KN4
unit KO4
unit KP4
unit KQ4
unit KR4
unit KS4
unit KT4
unit array KU4
real array KV4
real array KW4
player KX4
player KY4
string array KZ4
integer array KA4
integer array KB4
integer array KC4
integer array K34
integer array K64
integer KL4
integer K14
integer K04
integer K54
integer array K24
integer K_4
integer array M44
integer M74
integer array M84
integer M94
integer array MD4
integer ME4
integer array MF4
integer MG4
string array MH4
integer array MI4
string array MJ4
string array MK4
string array MM4
string array MN4
string array MO4
unit MP4
unit MQ4
unit MR4
unit MS4
unit MT4
unit MU4
unit MV4
unit MW4
unit MX4
unit MY4
unit MZ4
unit MA4
integer array MB4
integer MC4=0
boolean M34=false
integer M64=0
trigger ML4
boolean M14=false
trigger M04
trigger M54
trigger M24
real M_4=0
real N44=0
hashtable N74
timer array N84
integer array N94
integer array ND4
multiboard NE4
integer array NF4
integer array NG4
player array NH4
integer NI4=0
string Fx="|c00FF6600"
multiboard NJ4
trigger NK4
unit array NM4
real array NN4
boolean array NO4
integer NP4=0
unit array qu
real array Qu
boolean array Su
integer array NQ4
integer array NR4
integer array NS4
integer array NT4
integer array NU4
integer array NV4
unit NW4=null
boolean NX4=true
integer NY4=1
trigger NZ4
integer NA4=0
integer NB4
integer NC4
integer array N34
integer array N64
integer NL4
integer N14
integer array N04
boolean N54=false
unit N24=null
unit N_4=null
group KU
boolean O44=true
boolean O74=false
boolean O84=false
integer O94
player OD4
trigger OE4=null
trigger OF4=null
integer OG4
integer TU=1093683285
integer vw=1093683288
trigger OH4
region ow
integer array gD
unit array rw
unit OI4=null
unit OJ4
region Ew
integer array Rw
integer OK4=1093742918
integer OM4=1093742917
integer ON4=1093686067
integer OO4=1093742916
integer OP4=1093742919
integer OQ4=1093742920
integer OR4=1093815369
integer OS4=1093742914
integer OT4=1093742913
integer OU4=1093686066
integer OV4=1093742905
integer OW4=1093742915
integer OX4=1093742904
integer OY4=1093815368
integer OZ4=1093682777
unit Mw
group pw
unit qw
unit Qw
boolean tw=false
boolean Uw=false
boolean zw=false
boolean vW=false
boolean eW=false
boolean oW=false
boolean rW=false
boolean iW=false
unit array OA4
timer array gg
integer array FI
boolean OB4=false
real array Fj
integer gi=0
real array OC4
item array O34
integer O64=0
boolean array AW
boolean array OL4
leaderboard array gm
boolean bW=true
weathereffect BW
boolean array cW
boolean array CW
integer dW=0
integer array DW
integer array fW
integer array FW
integer array hW
integer array LW
integer array mW
integer array MW
integer array pW
integer array PW
string O14="No Mode"
unit gr
boolean O04=false
boolean O54=false
boolean Fz=false
integer array O24
constant real O_4=-6950
constant real P44=6750
boolean P74=false
boolean F0=false
boolean P84=false
boolean gH=false
boolean P94=false
integer PD4
boolean PE4=false
boolean oy=true
boolean PF4=false
boolean PG4=false
boolean PH4=false
boolean PI4=false
boolean PJ4=false
boolean Ny=false
boolean PK4=false
boolean PM4=false
unit array PN4
integer Ly=1093742670
integer my=1093686064
integer My=1093742671
integer py=1093742672
real PO4
real PP4
unit PQ4
trigger PR4
integer PS4=1093678422
boolean PT4=false
boolean uy=false
boolean vY=true
boolean Gs=false
boolean PU4=false
boolean PV4=false
boolean GT=false
boolean GU=false
boolean Gv=true
boolean Gw=true
boolean PW4=true
boolean PX4=true
boolean PY4=false
boolean array GZ
boolean array G0
integer G1=0
integer G2=0
integer G3=-1
integer G4=-1
boolean PZ4=true
boolean PA4=true
integer PB4=0
integer PC4=0
integer P34=0
integer P64=0
integer PL4=0
integer P14=0
integer P04=0
integer P54=0
integer P24=4
integer P_4=5
integer Q44=5
integer hD=0
integer hE=0
integer hF=0
integer array hG
integer array eY
integer array hj
integer xY=0
integer oY
integer rY
real aY=0
real VY=0
real EY=0
real XY=0
real OY=0
real IY=0
real AY=0
real bY=0
real BY=0
real cY=0
real CY=0
real DY=0
real fY=0
real FY=0
real JY=0
real kY=0
real lY=0
real mY=0
real MY=0
real PY=0
real QY=0
real sY=0
real tY=0
real TY=0
real uY=0
real wY=0
real YY=0
real vz=0
constant real Q74=90
boolean xz=false
boolean oz=false
boolean rz=false
boolean az=false
boolean nz=false
boolean Vz=false
boolean Ez=false
boolean Xz=false
timer Q84
boolean Q94=false
integer QD4=90
boolean QE4=false
real Bz=0.
real array hq
unit hr=null
unit hS=null
unit hx=null
unit hy=null
unit hz=null
unit hZ=null
unit h0=null
unit array h4
unit array h7
unit array h8
unit array h9
location Ha
location HA
location Hb
location HB
location Hc
location array HC
rect cz=null
real QF4
real QG4
real QH4
real QI4
real QJ4
real QK4
player QM4
rect QN4=null
rect QO4=null
rect QP4=null
rect Cz=null
rect QQ4=null
rect QR4=null
rect QS4=null
rect He=null
player QT4=null
player QU4=null
player QV4=null
player QW4=null
force QX4=CreateForce()
boolean array QY4
trigger HK=CreateTrigger()
trigger QZ4=CreateTrigger()
trigger QA4=CreateTrigger()
trigger Hn=CreateTrigger()
trigger HN=CreateTrigger()
trigger Ho=CreateTrigger()
trigger QB4=CreateTrigger()
trigger QC4=CreateTrigger()
trigger Q34
trigger Q64
trigger QL4
trigger Q14
trigger array Q04
item Hu
destructable H0
group H8=CreateGroup()
group H9=CreateGroup()
group iA=CreateGroup()
group Q54=CreateGroup()
group iC=CreateGroup()
group iE=CreateGroup()
group iF=CreateGroup()
group ig=CreateGroup()
group iG=CreateGroup()
group iH=CreateGroup()
group ii=CreateGroup()
group ij=null
boolexpr Q24=null
boolexpr iL
boolexpr Q_4
boolexpr ip
boolexpr iP
integer R44=StringHash("PBMN|AI")
integer array R74
integer array R84
real Wz=0.
real Yz=0.
group Zz=null
unit vZ
integer R94
unit oZ
unit RD4
unit RE4
unit RF4
group RG4
real VZ
unit RH4
unit RI4
group RJ4
integer array RK4
integer array RM4
integer array RN4
integer array RO4
integer array RP4
integer array RQ4
integer array RR4
integer array RS4
unit RT4
real RU4
unit FZ
real gZ
integer jZ
integer JZ
unit LZ
real mZ
integer MZ
player QZ
unit sZ
integer tZ
player TZ
integer RV4
unit array wZ
integer WZ
unit array YZ
unit array zZ
integer ZZ
unit array v0
unit e0
unit o0
unit array RW4
integer n0
boolean V0=false
unit RX4
integer RY4
boolean RZ4=false
boolean array A0
boolean RA4=false
integer RB4
unit RC4
real R34
integer R64
unit RL4
real R14
real j0
real K0
integer l0
unit m0
integer M0
group p0
unit Q0
real R04
group t0
integer R54
unit U0
real R24
integer array W0
integer array z0
real Z0
unit v1
unit R_4
real o1
integer a1
integer array n1
boolean S44=false
unit S74
unit N1
integer S84
real B1
real C1
unit S94
integer SD4
integer SE4
integer m1
group M1
unit SF4
real SG4
integer SH4
integer SI4
integer SJ4
unit array SK4
boolean w1=false
boolean W1=false
unit Y1
unit z1
real Z1
real v2
real SM4
real o2
boolean a2=false
boolean SN4=false
force V2=null
integer array SO4
integer array SP4
real A2
real N2
unit b2
unit B2=null
unit C2=null
unit D2=null
unit SQ4
integer array SR4
unit array SS4
integer l2=0
integer ST4
constant real M2=6
constant real p2=600
unit SU4
trigger SV4
boolean array U2
real array SW4
real array SX4
real array SY4
unit array SZ4
integer array SA4
integer array SB4
integer a3
unit n3
integer V3
unit E3
integer X3
unit A3
region SC4
unit S34
unit S64
real SL4
real S14
unit array D3
boolean f3=false
integer F3=0
string array j3
constant real L3=8
unit S04
integer S54
boolean p3=false
player array S24
real array S_4
real array T44
real array T74
integer T84=-1
constant real e4=25
constant real o4=525
region T94
integer array TD4
integer TE4=0
integer array TF4
integer array TG4
integer array TH4
integer array N4
integer array TI4
boolean B4=false
integer TJ4
integer array TK4
boolean array TM4
group array TN4
integer TO4=0
integer TP4=0
boolean TQ4=false
unit TR4
unit TS4
real TT4
real TU4
real TV4
real array TW4
real array TX4
unit TY4
boolean TZ4=false
boolean TA4=false
boolean TB4=false
real array TC4
string array T34
boolean T64=false
boolean TL4=false
integer array T14
real array T04
real array T54
boolean array T24
item array T_4
item array U44
item array U74
item array U84
boolean array U94
boolean array UD4
boolean array UE4
integer UF4
integer UG4=10
boolean array UH4
boolean array UI4
unit UJ4
unit UK4
unit UM4
unit UN4
unit UO4
unit UP4
real UQ4
real UR4
real US4
real UT4
constant real UU4=300
constant real UV4=20
unit UW4
unit UX4
integer UY4
group UZ4
real UA4
real UB4
integer UC4
integer U34
integer U64
region UL4
region U14
real U54
unit U24
boolean U_4=false
sound V44=null
sound V74=null
sound V84=null
sound V94=null
sound VD4=null
unit VE4
group VF4
integer array VG4
boolean VH4=false
unit VI4
sound VJ4
sound VK4=null
string VM4
string VN4
string VO4
string VP4
sound VQ4=null
sound VR4=null
constant integer VS4=1697657160
constant integer VT4=1848651849
constant integer VU4=1848652338
constant integer VV4=1848652337
constant integer VW4=1848658777
constant integer VX4=1848658778
constant integer VY4=1848659013
constant integer VZ4=1697657178
constant integer VA4=1848652339
constant integer VB4=1848652340
constant integer VC4=1848652341
constant integer V34=1848658992
constant integer V64=1848658993
constant integer VL4=1848659252
constant integer V14=1697657428
constant integer V04=1697657427
constant integer V54=1697657648
constant integer V24=1848651853
constant integer V_4=1848658006
constant integer W44=1697657426
constant integer W74=1848659027
constant integer W84=1395667014
constant integer W94=1395667270
constant integer WD4=1395667253
constant real WE4=0.025
constant integer WF4=1848657233
unit WG4
unit WH4
unit WI4
real WJ4
real WK4
real WM4
unit WN4
real WO4
real WP4
unit WQ4
real WR4
real WS4
real WT4
boolean WU4=false
boolean array WV4
destructable WW4
real WX4
real WY4
real WZ4
real WA4
real WB4
real WC4
real W34
real W64
unit WL4
integer W14
unit W04
constant real W54=5.0
integer array W24
integer array W_4
integer array X44
integer array X74
constant integer X84=1848652369
integer X94
player XD4
region XE4=null
region XF4=null
region XG4=null
region XH4=null
trigger XI4=null
trigger XJ4=null
real XK4
real XM4
trigger XN4=null
constant integer XO4=1848652360
boolean XP4=false
sound XQ4=null
sound XR4=null
sound XS4=null
unit XT4=null
unit XU4=null
unit XV4=null
constant integer XW4=1093816119
constant integer XX4=1110460227
group XY4
integer XZ4
unit XA4
constant integer XB4=500
constant integer XC4=1400
constant real X34=1300
constant real X64=20
constant real XL4=20
constant real X14=20
constant real X04=6.0
integer X54
unit X24
group X_4
real Y44
real Y74
constant integer Y84=1093753176
unit Y94
integer YD4
unit YE4
constant integer YF4=1093815352
constant integer YG4=1093808469
constant integer YH4=1093815345
constant string YI4="Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl"
constant integer YJ4=1093815352
unit YK4
unit YM4
integer YN4
group YO4
group YP4
unit YQ4
unit YR4
unit YS4
integer YT4
real YU4
real YV4
real YW4
integer YX4
destructable array YY4
destructable array YZ4
destructable array YA4
integer YB4=0
integer YC4=0
unit Y34
integer Y64
constant real YL4=6
player Y14
boolean Y04=false
boolean Y54=false
unit Y24
boolean Y_4=false
player Z44=null
player Z74=null
integer array Z84
constant integer Z94=0
constant integer ZD4=1
constant integer ZE4=3
constant integer ZF4=5
constant integer ZG4=1
constant integer ZH4=2
constant integer ZI4=3
constant integer ZJ4=4
constant integer ZK4=5
unit ZM4
real ZN4
integer array ZO4
group ZP4
group ZQ4
unit ZR4
integer ZS4
trigger ZT4=null
string ZU4=""
boolean ZX4=false
unit ZY4
unit ZZ4
unit ZA4
group ZB4
group ZC4
group Z34
integer Z64=0
unit ZL4
constant real Z14=3
unit Z04
unit Z54
unit Z24
real Z_4
group A44
integer A74
sound A84=null
sound A94=null
sound AD4=null
sound AE4=null
sound AF4=null
sound AG4=null
sound AH4=null
sound AI4=null
unit AJ4
integer AK4
group AM4
integer AN4
unit AO4
unit AP4
unit AQ4
group AR4
integer AS4
unit AT4
unit AU4
unit AV4
group AW4
real AX4
integer array AY4
integer AZ4=0
integer AA4
constant real AB4=20
constant real AC4=7
constant real A34=300
unit A64
real AL4
unit A14
unit A04
real A54
unit A24
real A_4
real B44
real B74
unit B84
real B94
real BD4
group BE4
unit BF4
unit BG4
real BH4
real BI4
real BJ4
trigger BK4
integer BM4=0
boolean BN4=false
integer array BO4
boolean BV4
boolean BW4=false
boolean BZ4=false
integer array BA4
integer array BB4
integer BC4
integer B34
integer array B64
integer array BL4
integer B14=0
integer B04=0
integer array B54
integer array B24
integer B_4=0
integer CK4=0
integer CM4=0
constant integer CN4=40
constant integer CP4=50
constant integer CQ4=50
constant integer CR4=50
constant integer CS4=90
constant integer CU4=2
constant integer CL4=3
constant string C_4="|c006699CC"
constant string L44="|c00ff0303"
constant string L74="|c00555555"
multiboard L84
image L94
image LD4
image LE4
image LF4
boolean LG4=false
image LH4=null
real LI4=-7030
real LJ4=6966
unit LK4
integer LM4
player LN4
boolean LO4=false
constant integer LP4=852164
constant integer LQ4=852526
constant integer LR4=852599
unit LS4=null
unit LT4=null
unit LU4=null
unit LV4=null
integer LW4=0
integer LX4=0
constant string LY4="Abilities\\Spells\\Human\\MagicSentry\\MagicSentryCaster.mdl"
constant real LZ4=15
constant real LA4=4
constant real LB4=15
constant real LC4=4
integer L34
integer L64
real LL4
real L14
unit L04
integer array L54
constant real L24=7
constant string L_4="war3mapImported\\EpiPulse_1_4.mdx"
constant string D47="war3mapImported\\EpiPulse_5_8.mdx"
constant string D77="war3mapImported\\EpiPulse_9_12.mdx"
unit array D87
integer array D97
integer array DD7
integer DE7=0
integer DF7=0
integer array DG7
integer array DH7
constant integer DI7=20
constant integer DJ7=34
constant integer DK7=2
constant integer DM7=30
unit array DN7
integer DO7=0
boolean DP7=true
boolean array DQ7
boolean DR7=false
boolean DS7=false
boolean DT7=true
unit DU7=null
trigger DV7=null
trigger DW7=null
trigger DX7=null
timer DY7=null
real array DZ7
constant string DA7="|c0020c060"
constant string DB7="|c00ffcc60"
real DC7=0.35
real D37=0.66
real D67=0.25
real DL7=2.
integer D17=5
real D07=0.66
real D57=0.25
integer D27=72
real D_7=DC7/2
integer E47=3
integer E77=300
integer E87=180
boolean E97=false
hashtable ED7
boolean EE7=false
real EF7=1
real EG7=1
string EH7=""
real EI7=0
real EJ7=0
widget EK7=null
boolean EM7=false
player EN7=null
force EO7=null
item EP7=null
item EQ7=null
integer ER7=0
unit ES7=null
real ET7=0
constant real EU7=200
trigger EV7=null
constant integer EW7=67
constant integer EX7=75
boolean EY7=true
boolean EZ7=false
constant string EA7="Doodads\\Icecrown\\Water\\BubbleGeyserSteam\\BubbleGeyserSteam.mdx"
integer array EB7
unit array EC7
real array E37
boolexpr E67=null
integer array EL7
integer E17=0
integer E07=1
constant integer E57=1
constant integer E27=2
constant integer E_7=3
constant integer F47=4
constant integer F77=5
constant integer F87=6
constant integer F97=7
constant integer FD7=8
constant integer FE7=FD7-1
constant integer FF7=2
constant integer FG7=4
constant integer FH7=6
constant real FI7=60.
constant integer FJ7=8
boolean FK7=true
boolean FM7=true
real FN7=0.
constant integer FO7=425
constant integer FP7=FO7+200
constant real FQ7=700.
constant real FR7=10.
constant real FS7=15.
constant real FT7=180.
constant integer FU7=20
unit FV7=null
constant real FW7=120.
constant real FX7=0.05
constant real FY7=60.
constant real FZ7=10.
constant real FA7=20.
constant integer FB7=30
constant real FC7=10.
constant real F37=15.
constant real F67=20.
constant real FL7=0.4
constant real F17=0.1
constant string F07="|c00dd8dff"
constant string F57="|c00a0a0a0"
constant string F27="|c00ffcc00- LEADER -|r"
constant string F_7=F07+"  - AI|r"
constant string G47="   "
constant string G77=DA7+"Exp.|r"
constant string G87=DB7+"Gold|r"
constant real G97=8
real GD7=FW7
integer GE7
boolean GF7=false
unit GG7
integer GH7
boolean GI7=false
unit GJ7
unit GK7
location GM7=Location(0,0)
unit GN7
boolean GO7=false
boolean GP7=false
boolean GQ7=false
constant integer GR7=4
unit GS7=null
unit GT7=null
real GU7=99999999.
trigger GV7=null
unit GW7
integer GX7
integer GY7
unit GZ7
real GA7
real GB7
real GC7
unit G37
integer array G67
boolean GL7=true
unit G17
integer G07
unit G57
group G27
real G_7
integer array H47
integer array H77
integer H87
integer H97
integer HD7
unit HE7
integer HF7
integer HG7
boolean HH7=false
unit HI7
real HJ7
group HK7
unit HM7
integer HN7
constant real HO7=300
integer HP7
integer HQ7
integer array HR7
constant real HS7=200
constant real HT7=200
group HU7
unit HV7
integer HW7
unit HX7
integer HY7
unit HZ7
integer HA7
leaderboard array HB7
integer HC7
integer H37=0
integer H67=0
integer array HL7
integer array H17
integer H07=-1
integer array H57
sound H27=null
unit H_7
group I47
boolean array I77
integer I87=600
integer I97=360
integer ID7
constant real IE7=5
constant real IF7=2.6
unit IG7
real IH7
unit II7
unit IJ7
integer IK7
constant real IM7=3.75
group IN7
unit IO7
real IP7
integer IQ7
unit IR7
real IS7
real IT7
real IU7
unit IV7
integer IW7
integer IX7
boolean IY7=false
real IZ7
unit IA7
constant real IB7=0.05
constant real IC7=1.0
constant real I37=4
constant integer I67=1093812788
group IL7
constant real I17=20
integer I07
unit I57
integer I27
constant integer I_7=1093815353
constant integer J47=1093815365
constant integer J77=1110460209
constant integer J87=1093815361
constant integer J97=1093815627
constant integer JD7=1110460212
unit JE7
unit JF7
real JG7=1.35
real JH7=500
constant integer JI7=1093815362
constant integer JJ7=1093815364
constant string JK7="war3mapImported\\Cryofreeze5.mdx"
constant integer JM7=1093687856
group JN7
trigger JO7
unit JP7
unit JQ7=null
constant string JR7="war3mapImported\\WintersCurse.mdx"
constant string JS7="war3mapImported\\WintersCurseAoE.mdx"
constant integer JT7=1093815859
constant integer JU7=1110460215
constant string JV7="effects\\BasicWaterFlash.mdx"
constant real JW7=6
constant integer JX7=1093815877
constant integer JY7=1093815874
constant integer JZ7=1093815873
constant integer JA7=1093815862
constant integer JB7=1093815864
constant integer JC7=1093815875
constant integer J37=1093815863
constant integer J67=1093815876
constant integer JL7=1093815865
constant integer J17=1110460225
constant real J07=6
constant integer J57=1093815372
constant integer J27=1747993927
constant real J_7=50
constant integer K47=1093815373
constant integer K77=1093815609
constant integer K87=1093815617
constant integer K97=1093815374
constant integer KD7=1093815608
constant integer KE7=1093815888
constant integer KF7=1093815891
constant integer KG7=1093815890
constant integer KH7=1093815889
constant string KI7="war3mapImported\\MagneticField04.mdl"
integer KJ7
integer KK7
constant integer KM7=1093815601
constant integer KN7=1093815383
constant integer KO7=1093815385
constant integer KP7=1110460210
constant integer KQ7=1110460211
constant string KR7="war3mapImported\\Flux3.mdx"
constant integer KS7=1093815600
constant integer KT7=1311788365
constant string KU7="Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl"
constant integer KV7=1093686851
constant integer KW7=1093815896
constant integer KX7=1093677625
constant integer KY7=1093815897
constant integer KZ7=1093816115
constant integer KA7=1
constant integer KB7=2
constant integer KC7=2
constant integer K37=3
constant integer K67=1
item array KL7
integer array K17
integer array K07
boolean array K57
player K27=null
integer K_7=0
constant integer M47=2000
constant integer M77=0
constant integer M87=1
constant integer M97=2
constant real MD7=30.
constant integer ME7=30
constant boolean MF7=true
constant boolean MG7=false
unit MH7=null
integer MI7=0
integer MJ7=0
unit MK7=null
integer MM7=0
unit MN7=null
integer array MO7
unit MP7=null
unit MQ7=null
boolean MR7=true
constant boolean MS7=false
constant boolean MT7=true
unit MU7=null
unit MV7=null
boolean MW7=false
integer MX7=0
group MY7=CreateGroup()
unit MZ7=null
unit MA7=null
unit array MB7
real MC7=0.
real M37=0.
boolexpr M67=null
trigger ML7=CreateTrigger()
constant integer M17=StringHash("listtop1")
constant integer M07=StringHash("listtop2")
constant integer M57=StringHash("attack")
hashtable M27=InitHashtable()
unit array M_7
integer array N47
constant integer N77=1
constant integer N87=2
integer N97=0
integer ND7=0
integer NE7=0
real NF7
integer NG7=0
integer NH7=0
location array NI7
constant integer NJ7=16
constant integer NK7=32
trigger array NM7
integer NN7=0
group NO7=null
integer NP7=0
hashtable NQ7=InitHashtable()
group NR7=CreateGroup()
constant integer NS7=1
constant integer NT7=2
real NU7=1000.
constant integer NV7=8
constant real NW7=0.5
constant real NX7=200.
constant real NY7=2.
real NZ7=.0
real NA7=.0
real NB7=.0
real NC7=.0
location N37=null
group N67
integer NL7=0
real N17=.0
real N07=.0
real array N57
real array N27
integer N_7=0
boolean O47=false
endglobals
function O77 takes nothing returns boolean
return GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_USER and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true
endfunction
function O87 takes integer O97,integer a1,integer a2,integer a3,integer a4,integer a5 returns nothing
call SaveInteger(NQ7,O97,1,a1)
call SaveInteger(NQ7,O97,2,a2)
call SaveInteger(NQ7,O97,3,a3)
call SaveInteger(NQ7,O97,4,a4)
call SaveInteger(NQ7,O97,5,a5)
endfunction
function OD7 takes unit u returns nothing
local integer O97=GetUnitTypeId(u)
local player p=GetOwningPlayer(u)
local integer i=1
loop
exitwhen i>5
call SetPlayerAbilityAvailable(p,LoadInteger(NQ7,O97,i),true)
set i=i+1
endloop
endfunction
function OE7 takes nothing returns nothing
call OD7(GetEnumUnit())
endfunction
function AvailableHumanTimer takes nothing returns nothing
call GroupClear(NR7)
call GroupEnumUnitsInRect(NR7,GetWorldBounds(),Condition(function O77))
call ForGroup(NR7,function OE7)
endfunction
function bug_SkillEnableInit takes nothing returns boolean
call CommentString("call TimerStart(i_HumanHeroAbilityEnableLoop,0.1,true,(function AvailableHumanTimer))")
call DestroyTrigger(GetTriggeringTrigger())
return false
endfunction
function OF7 takes nothing returns nothing
call O87(1214344551,1093678938,1093677402,1093809742,1096904043,1093815628)
call O87(1214409837,0,1093742680,1093742932,1093742898,1093684818)
call O87(1215130471,1093677361,1093678167,1093679155,1093679160,1096904043)
call O87(1215324524,1095264354,1095263347,1095266917,1095262564,0)
call O87(1331850337,1095726955,1095721842,1095724393,1095726967,0)
call O87(1332109682,1093810505,1093808694,1096904043,1093678134,1093678149)
call O87(1332963428,1093677649,1093683019,1093816137,0,1096904043)
call O87(1333027688,1093682248,1093682252,1093686091,1093682250,1096904043)
call O87(1164207469,1096904043,1093684057,1093677618,1095066220,1093682483)
call O87(1164209517,1095069026,1095068013,1095066998,1095069029,0)
call O87(1164666213,1096904043,1093677877,1093678679,1093678678,0)
call O87(1164799855,1093682264,1093677378,1093682263,1093682265,1096904043)
call O87(1165451634,1093687629,1093685324,1093677904,1093677905,1096904043)
call O87(1432580716,1093744977,1093682009,1096904043,1093684300,1093681754)
call O87(1432642913,1093684819,1093684551,1093683507,1093684550,1096904043)
call O87(1432646245,0,1093679173,1093677899,1096904043,1093677640)
call O87(1433168227,1096904043,1093678387,1093678918,1093679186,1093678420)
call O87(1315074670,1093685570,1096904043,1093677625,1093677622,1093686851)
call O87(1315988077,1093678669,1097032808,1093684568,1093684561,1096904043)
call O87(1316252014,1093678645,1093678137,1093678405,1096904043,1093681745)
call O87(1316122466,1095660409,1095656307,1095656807,1095660135,0)
call O87(1315334514,1093682773,1093681746,1093810506,1093682521,1093684818)
call O87(1164277353,1096904043,1093678929,1093751369,1093815130,1093683252)
call O87(1164277357,1096904043,1093678929,1093751369,1093815130,1093683252)
call O87(1164799603,1096904043,1093808453,1093677391,1095067246,1093752632)
call O87(1214345830,1093679182,1093679190,1093682514,1093678657,1096904043)
call O87(1214802796,1095264354,1095263347,1095266917,1095262564,0)
call O87(1214931305,1096904043,1093748025,1093678147,1095262562,1093677906)
call O87(1215063922,1093677895,1093677894,1096904043,1093812553,1093681996)
call O87(1215128178,1096904043,1093677616,1093684789,1093683779,1093810503)
call O87(1215324721,1095264354,1095263347,1095266917,1095262564,0)
call O87(1215657064,1093750841,1093684291,1093677913,1096904043,1095657827)
call O87(1215722344,1093684296,1093683512,1093682499,1096904043,1093684293)
call O87(1215723364,1096904043,1093677633,1094934883,1093744463,1093683534)
call O87(1315070563,1096904043,1093678135,1093678407,1093677131,1093684529)
call O87(1331982964,1095722611,1095725926,1095721836,1095722353,0)
call O87(1332179560,1093682242,1093742660,1093682231,1093687627,1096904043)
call O87(1332766568,1096904043,1093683510,1093686065,1093681974,1093682482)
call O87(1332898670,1096904043,1093677136,1093685848,1093677360,1093677128)
call O87(1432510828,1093751127,1093681985,1093681991,1093682004,1096904043)
call O87(1433105516,1096904043,1093683511,1093744688,1093681713,1093747288)
call O87(1433631084,1093678160,1096904043,1093677909,1093677907,1093678644)
call O87(1315007329,1096904043,1093749073,1093678913,1093677108,1093681716)
call O87(1162032439,1096904043,1093744435,1093684569,1093684563,1093677363)
call O87(1162032951,1096904043,1093746995,1093679152,1093679446,1093684557)
call O87(1311781175,1096904043,1093681733,1093808460,1093685040,1093748042)
call O87(1429221451,1093678674,1093683248,1093678671,1093682753,1096904043)
call O87(1313026096,1096904043,1095267426,1095721842,1096114550,1093677401)
call O87(1430466872,1096904043,1093687349,1093684558,1093677646,1093679413)
call O87(1162032181,1093679153,1096904043,1093682010,1093684299,1093683761)
call O87(1311781174,1096904043,1093681733,1093808460,1093685040,1093748042)
call O87(1430467634,1093684818,1093679412,1093742674,1093750608,1093684565)
call O87(1211117637,1093677895,1093677894,1096904043,1093812553,1093681996)
call O87(1429221430,1093687121,1093681739,1093681736,1096904043,1093681735)
call O87(1160785970,1093748023,1093747792,1093748022,1093747023,1096904043)
call O87(1211117639,1093677895,1093677894,1096904043,1093812553,1093681996)
call O87(1211117643,1093684818,1093678664,1093678410,1093678658,1093681483)
call O87(1429221431,1093683793,1096904043,1093678681,1093677381,1093677624)
call O87(1212363833,1096904043,1093815125,1093809220,1093678643,1093678933)
call O87(1430466609,1096904043,1093685559,1093684549,1093678145,1093810258)
call O87(1212365106,1096904043,1093682266,1093684025,1093677130,1093685831)
call O87(1429221432,1096904043,1093677893,1093687878,1093679411,1093677892)
call O87(1311781199,1093684818,1093681461,1093681464,1093748038,1093681479)
call O87(1429221424,1096904043,1093687351,1093679445,1093748789,1093815119)
call O87(1311781171,1093684818,1093681461,1093681464,1093748038,1093681479)
call O87(1211117616,1096904043,1093816142,1093677142,1093677139,1093816118)
call O87(1328558160,1093682998,0,1093684818,1093684056,1093682766)
call O87(1430466865,1096904043,1093677651,1093677879,1093751364,1093810508)
call O87(1211117638,1093677895,1093677894,1096904043,1093812553,1093681996)
call O87(1430468144,1093684818,1093679192,1093750341,1093686872,1093750337)
call O87(1429221441,1093677903,1093677902,1093685847,1093678389,1096904043)
call O87(1160785972,1093678161,1093677621,1093677872,1096904043,1095263841)
call O87(1328558154,1096904043,1093750840,1093682996,1093682997,1093682515)
call O87(1211117640,1096904043,1093679428,1093684564,1093681989,1093681987)
call O87(1429221445,1093678647,1093678422,1093678640,1093677390,1096904043)
call O87(1430468406,1093677635,1096904043,1093677645,1093685302,1093678899)
call O87(1430468913,1096904043,1093678403,1093810507,1093683786,1093677876)
call O87(1160785973,1093678642,1093678130,1093678388,1096904043,1093678129)
call O87(1211117617,1096904043,1093744944,1093677387,1093814611,1093752648)
call O87(1311781172,1093684818,1093681461,1093681464,1093748038,1093681479)
call O87(1211117624,1093682774,1093684531,1093683024,1093682775,1096904043)
call O87(1211117654,1093747028,1093682994,1093684560,1093747504,1096904043)
call O87(1311781185,1093684314,1093815892,1093743692,1093684275,1096904043)
call O87(1211117620,1096904043,1093677382,1093677623,1093744728,1093677392)
call O87(1429221446,1093678665,1093678660,1093682764,1093678667,1096904043)
call O87(1311781173,1093684818,1093681461,1093681464,1093748038,1093681479)
call O87(1211117633,1093684310,1093810260,1093684308,1096904043,1093684045)
call O87(1160786241,1093684815,1093684813,1093684820,1093684805,1096904043)
call O87(1160786242,1093682776,1093684801,1093683287,1093683257,1096904043)
call O87(1211117636,1093685071,1093685041,1096904043,1093681732,1093685042)
call O87(1160786000,1093685047,1093685046,1093685048,1093685045,1096904043)
call O87(1429221456,1096904043,1093685067,1093685066,1093685065,1093683526)
call O87(1160786243,1093683765,1093681491,1093678672,1395667000,1096904043)
call O87(1311781192,1096904043,0,1093683532,1093685043,1095656306)
call O87(1311781193,1096904043,0,1093683532,1093685043,1095656306)
call O87(1311781194,1096904043,0,1093683532,1093685043,1095656306)
call O87(1311781204,1096904043,0,1093683532,1093685043,1095656306)
call O87(1311781206,1093684280,1093684302,1093684054,1096904043,1093684053)
call O87(1211117641,1096904043,1093684792,1093684802,1093684791,1093684567)
call O87(1211117642,1096904043,1093684792,1093684802,1093684791,1093684567)
call O87(1311781207,1093742668,1093685074,1093742673,1096904043,1093684817)
call O87(1311781442,1096904043,1093681733,1093808460,1093685040,1093748042)
call O87(1211117646,1093685579,1093685815,1093685575,1096904043,1093685573)
call O87(1211117649,1093685586,1093685585,1093685582,1093685584,1096904043)
call O87(1311780946,1096904043,1093685825,1093677385,0,1095328612)
call O87(1211117650,1093743955,1093685813,1093743958,1093743946,1093684818)
call O87(1211117651,1093743698,1093743696,1093743695,1096904043,1093685591)
call O87(1160786265,1093685840,1093685839,1093748033,1096904043,1093685846)
call O87(1311780930,1093686072,1093686083,1093686082,1093686073,1096904043)
call O87(1429221443,1093686103,1096904043,1093686099,1093686322,1093744948)
call O87(1211117653,1093808473,1093808472,1093808471,1093808470,0)
call O87(1160786256,1096904043,1093684057,1093677618,1095066220,1093682483)
call O87(1160786481,1096904043,1093684057,1093677618,1095066220,1093682483)
call O87(1160786483,1096904043,1093684057,1093677618,1095066220,1093682483)
call O87(1160786484,1096904043,1093684057,1093677618,1095066220,1093682483)
call O87(1211117652,1093687864,1093687862,1093687861,1096904043,1093687860)
call O87(1211119187,1093743414,1093743444,0,1093742923,1096904043)
call O87(1211119191,0,1093742680,1093742932,1093742898,1093684818)
call O87(1211119192,0,1093742680,1093742932,1093742898,1093684818)
call O87(1211119193,0,1093742680,1093742932,1093742898,1093684818)
call O87(1211119409,1093749069,1093748818,1096904043,1093749070,1093749303)
call O87(1311786311,1093743184,1093743179,1093743689,1096904043,1093743178)
call O87(1311786313,1093743184,1093743179,1093743408,1096904043,1093743178)
call O87(1311786314,1093743184,1093743179,1093743408,1096904043,1093743178)
call O87(1311786315,1093743184,1093743179,1093743408,1096904043,1093743178)
call O87(1311786317,1093743184,1093743179,1093743408,1096904043,1093743178)
call O87(1211119433,1093743955,1093743958,1093685813,1093743946,1093684818)
call O87(1328558389,1093747524,1093747009,0,1093746993,1096904043)
call O87(1328558390,1093748044,1093744982,1093744986,1093744975,1093684818)
call O87(1328558391,1093748044,1093744982,1093744986,1093744975,1093684818)
call O87(1211119668,1093747028,1093682994,1093684560,1093747504,1096904043)
call O87(1211119682,1093747028,1093682994,1093684560,1093747504,1096904043)
call O87(1211119683,1093747028,1093682994,1093684560,1093747504,1096904043)
call O87(1211119684,1093747028,1093682994,1093684560,1093747504,1096904043)
call O87(1311787088,1096904043,1093748819,1093750087,0,1093748817)
call O87(1311787092,1096904043,0,1093683532,1093685043,1095656306)
call O87(1211122243,0,1093742680,1093742932,1093742898,1093684818)
call O87(1160786502,1093684818,0,1093751371,0,0)
call O87(1160786503,1097885816,0,0,0,0)
call O87(1160786504,1096904043,1093751604,1093751608,1093751617,1093751618)
call O87(1160786505,1096904043,1093753167,1093753169,1093751607,1093753170)
call O87(1160786506,1096904043,1093751637,1093751894,1093751639,1093752118)
call O87(1160786507,1096904043,1093813065,1093813593,1093814834,1093814850)
call O87(1160786508,1096904043,1093684057,1093677618,1095066220,1093682483)
call O87(1160786509,1096904043,1093684057,1093677618,1095066220,1093682483)
call O87(1160786510,1096904043,1093751631,1093751633,1093808697,1093751861)
call O87(1328558406,1093684818,1093751864,0,1093751874,1093810257)
call O87(1160786511,1096904043,1093751631,1093751633,1093808697,1093751861)
call O87(1160786517,1096904043,1093678929,1093751369,1093815130,1093683252)
call O87(1160786518,1096904043,1093678929,1093751369,1093815130,1093683252)
call O87(1160786519,1096904043,1093678929,1093751369,1093815130,1093683252)
call O87(1211122513,1096904043,1093744944,1093677387,1093814611,1093752648)
call O87(1160786520,1093684818,0,1093809991,1093809992,1093810006)
call O87(1311788336,1096904043,1093814320,1093814323,1093814355,0)
call O87(1311788338,1096904043,1093812534,1093812536,1093812537,1093812545)
call O87(1211122764,1096904043,1093812803,1093812788,1093812789,1093812790)
call O87(1211122767,1096904043,1093812805,1093814350,1093812807,1093814612)
call O87(1160786737,1096904043,1093813335,1093813336,1093813338,1093813552)
call O87(1160786738,1096904043,1093813835,1093813555,1093813556,0)
call O87(1311788343,1096904043,1093815361,1093815362,1093687856,1093815877)
call O87(1311788345,1096904043,1093813573,1093813808,1093813812,1093813813)
call O87(1311788353,1096904043,1093815361,1093815362,1093687856,1093815877)
call O87(1311788356,1096904043,1093813844,1093813583,1093813841,1093813836)
call O87(1311788360,1096904043,1093814320,1093814323,1093814355,0)
call O87(1211122993,1096904043,1093814337,1093814338,1093814340,1093814343)
call O87(1211122995,1096904043,1093814337,1093814338,1093814340,1093814343)
call O87(1211122996,1096904043,1093814337,1093814338,1093814340,1093814343)
call O87(1211122997,1096904043,1093814337,1093814338,1093814340,1093814343)
call O87(1429221720,1093744977,1093682009,1096904043,1093684300,1093681754)
call O87(1311788363,1096904043,1093815372,1093815373,1093815600,1093815601)
call O87(1311788365,1096904043,1093815372,1093815373,1093815600,1093815601)
call O87(1311788354,1096904043,1093815361,1093815362,1093687856,1093815877)
call O87(1311788355,1096904043,1093815361,1093815362,1093687856,1093815877)
call O87(1311788367,1096904043,1093815361,1093815362,1093687856,1093815877)
endfunction
function GetLastEnumedGroup takes nothing returns group
return NO7
endfunction
function OG7 takes real OH7,location OI7,boolexpr OJ7 returns group
set NO7=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(NO7,OI7,OH7,OJ7)
if OJ7!=null then
call DestroyBoolExpr(OJ7)
endif
return NO7
endfunction
function OK7 takes rect r,boolexpr OJ7 returns group
set NO7=CreateGroup()
call GroupEnumUnitsInRect(NO7,r,OJ7)
if OJ7!=null then
call DestroyBoolExpr(OJ7)
endif
return NO7
endfunction
function OM7 takes rect r,player ON7 returns group
set NO7=CreateGroup()
set bj_groupEnumOwningPlayer=ON7
call GroupEnumUnitsInRect(NO7,r,filterGetUnitsInRectOfPlayer)
return NO7
endfunction
function OO7 takes player ON7,boolexpr OJ7 returns group
set NO7=CreateGroup()
call GroupEnumUnitsOfPlayer(NO7,ON7,OJ7)
if OJ7!=null then
call DestroyBoolExpr(OJ7)
endif
return NO7
endfunction
function OP7 takes player ON7,integer OQ7 returns group
set NO7=CreateGroup()
set bj_groupEnumTypeId=OQ7
call GroupEnumUnitsOfPlayer(NO7,ON7,filterGetUnitsOfPlayerAndTypeId)
return NO7
endfunction
function OR7 takes nothing returns boolean
local integer OS7=LoadInteger(M27,NG7,M07)-1
local unit OT7
local real OU7
set NH7=0
loop
exitwhen NH7>OS7
if NF7-LoadReal(M27,NG7,NH7)>2.5 or IsUnit(LoadUnitHandle(M27,NG7,NH7),null)then
set OT7=LoadUnitHandle(M27,NG7,OS7)
set OU7=LoadReal(M27,NG7,OS7)
call RemoveSavedBoolean(M27,NG7,GetHandleId(LoadUnitHandle(M27,NG7,NH7)))
call RemoveSavedInteger(M27,NG7,GetHandleId(LoadUnitHandle(M27,NG7,NH7)))
call SaveUnitHandle(M27,NG7,NH7,OT7)
call SaveReal(M27,NG7,NH7,OU7)
call RemoveSavedHandle(M27,NG7,OS7)
call RemoveSavedReal(M27,NG7,OS7)
call SaveInteger(M27,NG7,GetHandleId(OT7),NH7)
call SaveInteger(M27,NG7,M07,OS7)
set OS7=OS7-1
endif
set NH7=NH7+1
endloop
set OT7=null
return OS7==-1
endfunction
function OV7 takes nothing returns boolean
local integer OS7=LoadInteger(M27,NG7,M17)-1
local integer OW7=OS7+M57
local unit OT7
local real OU7
set NH7=M57
loop
exitwhen NH7>OW7
if NF7-LoadReal(M27,NG7,NH7)>=5 or IsUnit(LoadUnitHandle(M27,NG7,NH7),null)then
set OT7=LoadUnitHandle(M27,NG7,OS7)
set OU7=LoadReal(M27,NG7,OS7)
call RemoveSavedBoolean(M27,NG7,M57+GetHandleId(LoadUnitHandle(M27,NG7,NH7)))
call RemoveSavedInteger(M27,NG7,M57+GetHandleId(LoadUnitHandle(M27,NG7,NH7)))
call SaveUnitHandle(M27,NG7,NH7,OT7)
call SaveReal(M27,NG7,NH7,OU7)
call RemoveSavedHandle(M27,NG7,OS7)
call RemoveSavedReal(M27,NG7,OS7)
call SaveInteger(M27,NG7,GetHandleId(OT7),NH7)
call SaveInteger(M27,NG7,M17,OS7)
set OS7=OS7-1
endif
set NH7=NH7+1
endloop
set OT7=null
return OS7==-1
endfunction
function OX7 takes boolean do returns nothing
if do then
call FlushChildHashtable(M27,NG7)
set M_7[ND7]=M_7[N97-1]
set N47[ND7]=N47[N97-1]
set M_7[N97-1]=null
set N47[N97-1]=0
endif
endfunction
function OY7 takes nothing returns boolean
set NE7=NE7+1
set ND7=0
set NF7=TimerGetElapsed(W)
loop
exitwhen ND7>N97
set NG7=GetHandleId(M_7[ND7])
if IsUnit(M_7[ND7],null)or GetWidgetLife(M_7[ND7])<=0.405 then
call OX7(true)
else
if N47[ND7]==N87 then
call OX7(OR7())
elseif N47[ND7]==N77 and NE7-NE7/2*2==0 then
call OX7(OV7())
endif
endif
set ND7=ND7+1
endloop
return false
endfunction
function OZ7 takes unit OA7,unit OB7 returns nothing
local integer OC7=GetHandleId(OA7)
local integer OS7
local integer O37=GetHandleId(OB7)
if not LoadBoolean(M27,OC7,O37+M57)then
set OS7=LoadInteger(M27,OC7,M17)
if OS7==0 then
set M_7[N97]=(OA7)
set N47[N97]=N77
set N97=N97+1
endif
call SaveUnitHandle(M27,OC7,M57+OS7,OB7)
call SaveInteger(M27,OC7,M17,OS7+1)
call SaveBoolean(M27,OC7,O37+M57,true)
call SaveInteger(M27,OC7,O37+M57,OS7)
else
set OS7=LoadInteger(M27,OC7,O37+M57)
endif
call SaveReal(M27,OC7,M57+OS7,TimerGetElapsed(W))
endfunction
function O67 takes unit OB7,unit OA7 returns nothing
local integer OC7=GetHandleId(OB7)
local integer OS7
local integer O37=GetHandleId(OA7)
if not LoadBoolean(M27,OC7,O37)then
set OS7=LoadInteger(M27,OC7,M07)
if OS7==0 then
set M_7[N97]=(OB7)
set N97=N97+1
endif
call SaveUnitHandle(M27,OC7,OS7,OB7)
call SaveInteger(M27,OC7,M07,OS7+1)
call SaveBoolean(M27,OC7,O37,true)
call SaveInteger(M27,OC7,O37,OS7)
else
set OS7=LoadInteger(M27,OC7,O37)
endif
call SaveReal(M27,OC7,OS7,TimerGetElapsed(W))
endfunction
function OL7 takes nothing returns boolean
local unit O17
local unit O07
local integer pointerid
set O17=GetAttacker()
set O07=GetTriggerUnit()
call OZ7(O07,O17)
call O67(O17,O07)
set O17=null
set O07=null
return false
endfunction
function O57 takes unit O27 returns nothing
local trigger t=null
if IsUnit(O27,null)==false then
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,O27,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function OL7))
set t=null
endif
endfunction
function O_7 takes unit P47 returns integer
return LoadInteger(M27,GetHandleId(P47),M17)
endfunction
function P77 takes unit P47 returns boolean
local integer i
local integer OW7
local integer O37
if LoadInteger(M27,GetHandleId(P47),M17)==0 then
return false
endif
set i=M57
set OW7=M57+LoadInteger(M27,GetHandleId(P47),M17)
set O37=GetHandleId(P47)
loop
exitwhen i>=OW7
if IsUnitType(LoadUnitHandle(M27,O37,i),UNIT_TYPE_HERO)==true or IsUnitType(LoadUnitHandle(M27,O37,i),UNIT_TYPE_STRUCTURE)==true then
return true
endif
set i=i+1
endloop
return false
endfunction
function P87 takes unit P47 returns boolean
local integer i
local integer OW7
local integer O37
if LoadInteger(M27,GetHandleId(P47),M07)==0 then
return false
endif
set i=0
set OW7=LoadInteger(M27,GetHandleId(P47),M07)
set O37=GetHandleId(P47)
loop
exitwhen i>=OW7
if IsUnitType(LoadUnitHandle(M27,O37,i),UNIT_TYPE_HERO)==true or IsUnitType(LoadUnitHandle(M27,O37,i),UNIT_TYPE_STRUCTURE)==true then
return true
endif
set i=i+1
endloop
return false
endfunction
function P97 takes nothing returns nothing
local integer i=0
call TriggerRegisterTimerEvent(ML7,0.5,true)
call TriggerAddCondition(ML7,Condition(function OY7))
loop
exitwhen i>1024
set M_7[i]=null
set N47[i]=0
set i=i+1
endloop
endfunction
function PD7 takes nothing returns nothing
call O57(JG4)
call O57(JH4)
call O57(JI4)
call O57(JJ4)
call O57(JK4)
call O57(JM4)
call O57(JN4)
call O57(JO4)
call O57(JP4)
call O57(JQ4)
call O57(JR4)
call O57(J64)
call O57(JL4)
call O57(J14)
call O57(J04)
call O57(J54)
call O57(J24)
call O57(J_4)
call O57(K44)
call O57(K74)
call O57(K84)
call O57(K94)
endfunction
function PE7 takes unit PF7 returns real
return GetWidgetLife(PF7)*hq[752+GetPlayerId(GetOwningPlayer(PF7))]
endfunction
function PG7 takes unit PF7,real PH7,real PI7,integer PJ7 returns boolean
if PJ7==NT7 then
return GetUnitManaPercent(PF7)>=PH7 or GetUnitState(PF7,UNIT_STATE_MANA)>=PI7
endif
return GetUnitManaPercent(PF7)<=PH7 or GetUnitState(PF7,UNIT_STATE_MANA)<=PI7
endfunction
function PK7 takes unit PF7,real PM7,real PN7,integer PJ7 returns boolean
if PJ7==NT7 then
return GetUnitManaPercent(PF7)>=PM7 or GetUnitState(PF7,UNIT_STATE_MANA)>=PN7
endif
return GetUnitManaPercent(PF7)<=PM7 or GetUnitState(PF7,UNIT_STATE_MANA)<=PN7
endfunction
function PO7 takes unit a,unit b returns real
return bj_RADTODEG*Atan2(GetUnitY(b)-GetUnitY(a),GetUnitX(b)-GetUnitX(a))
endfunction
function PP7 takes real x1,real y1,real x2,real y2 returns real
return bj_RADTODEG*Atan2(y2-y1,x2-x1)
endfunction
function PQ7 takes player pl returns string
if(Z84[GetPlayerId(pl)]==ZD4)then
return"E "
elseif(Z84[GetPlayerId(pl)]==ZE4)then
return"N "
else
return"I "
endif
endfunction
function PR7 takes player p returns nothing
if GetAIDifficulty(p)==AI_DIFFICULTY_NEWBIE then
set Z84[GetPlayerId(p)]=ZD4
elseif GetAIDifficulty(p)==AI_DIFFICULTY_NORMAL then
set Z84[GetPlayerId(p)]=ZE4
elseif GetAIDifficulty(p)==AI_DIFFICULTY_INSANE then
set Z84[GetPlayerId(p)]=ZF4
else
set Z84[GetPlayerId(p)]=Z94
endif
endfunction
function PS7 takes boolean PT7,unit PU7,unit PV7 returns unit
if PT7 then
return PU7
else
return PV7
endif
return null
endfunction
function PW7 takes boolean PT7,integer PX7,integer PY7 returns integer
if PT7 then
return PX7
else
return PY7
endif
return 0
endfunction
function PZ7 takes boolean PT7,string PA7,string PB7 returns string
if PT7 then
return PA7
else
return PB7
endif
return""
endfunction
function PC7 takes boolean PT7,real PX7,real PY7 returns real
if PT7 then
return PX7
else
return PY7
endif
return 0.
endfunction
function P37 takes location b returns boolean
return(GetLocationX(b)!=0 or GetLocationY(b)!=0)
endfunction
function P67 takes location b,real x,real y returns location
if x==0 then
set x=0.01
endif
if y==0 then
set y=0.01
endif
call MoveLocation(b,x,y)
return b
endfunction
function PL7 takes location b,unit OA7 returns location
local real x=GetWidgetX(OA7)
local real y=GetWidgetY(OA7)
if IsUnitType(OA7,UNIT_TYPE_DEAD)==true or IsUnit(OA7,null)then
call MoveLocation(b,0,0)
return b
endif
if x==0 then
set x=0.01
endif
if y==0 then
set y=0.01
endif
call MoveLocation(b,x,y)
return b
endfunction
function P17 takes nothing returns nothing
set NZ7=GetRectMinX(GetWorldBounds())
set NA7=GetRectMinY(GetWorldBounds())
endfunction
function P07 takes nothing returns nothing
set NB7=GetRectMaxX(GetWorldBounds())
set NC7=GetRectMaxY(GetWorldBounds())
endfunction
function P57 takes nothing returns nothing
call P17()
call P07()
endfunction
function aiGetGroupMaxXCallBack_Loop takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
if x>=NZ7 then
set NZ7=x
endif
endfunction
function aiGetGroupMaxYCallBack_Loop takes nothing returns nothing
local real y=GetUnitY(GetEnumUnit())
if y>=NA7 then
set NA7=y
endif
endfunction
function aiGetGroupMinXCallBack_Loop takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
if x<=NB7 then
set NB7=x
endif
endfunction
function aiGetGroupMinYCallBack_Loop takes nothing returns nothing
local real y=GetUnitY(GetEnumUnit())
if y<=NC7 then
set NC7=y
endif
endfunction
function P27 takes nothing returns nothing
local real y=GetUnitY(GetEnumUnit())
local real x=GetUnitX(GetEnumUnit())
if x>=NZ7 then
set NZ7=x
endif
if y>=NA7 then
set NA7=y
endif
endfunction
function P_7 takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
if x<=NB7 then
set NB7=x
endif
if y<=NC7 then
set NC7=y
endif
endfunction
function Q47 takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
set NL7=NL7+1
set N17=N17+x
set N07=N07+y
if O47 then
set N57[N_7]=x
set N57[N_7]=y
set N_7=N_7+1
endif
endfunction
function aiGetGroupExtremumXY_Loop takes nothing returns nothing
call CommentString("tired")
endfunction
function QK7 takes unit QM7,real OH7,boolexpr Ig,boolean QN7 returns location
local real x=GetUnitX(QM7)
local real y=GetUnitY(QM7)
if IsUnit(QM7,null)then
return null
endif
call GroupClear(N67)
call GroupEnumUnitsInRange(N67,x,y,OH7,Ig)
call P57()
call ForGroup(N67,function P27)
call ForGroup(N67,function P_7)
if QN7 then
call DestroyBoolExpr(Ig)
endif
call P67(N37,(NZ7+NB7)*.5,(NA7+NC7)*.5)
return N37
endfunction
function QO7 takes nothing returns nothing
local integer i=0
loop
exitwhen i>120
set N57[i]=0.
set N27[i]=0.
set i=i+1
endloop
endfunction
function QP7 takes nothing returns nothing
call ExecuteFunc("QO7")
set N37=Location(0,0)
set N_7=0
set N67=CreateGroup()
call P57()
endfunction
function QQ7 takes integer QR7 returns integer
if(QR7==1212363833 or QR7==1212365106 or QR7==1311781199 or QR7==1315070563 or QR7==1215657064 or QR7==1332179560 or QR7==1160785973 or QR7==1311781174 or QR7==1315074670 or QR7==1164277353 or QR7==1429221430 or QR7==1165451634 or QR7==1160785972 or QR7==1162032181 or QR7==1162032951 or QR7==1315334514 or QR7==1215722344 or QR7==1160786242 or QR7==1211117641 or QR7==1211119409)then
return E57
endif
if(QR7==1215723364 or QR7==1328558160 or QR7==1211117617 or QR7==1212363833 or QR7==1212365106 or QR7==1311781199 or QR7==1315070563 or QR7==1215657064 or QR7==1332179560 or QR7==1160785973 or QR7==1433631084 or QR7==1211117624 or QR7==1315007329 or QR7==1215063922 or QR7==1164207469 or QR7==1315074670 or QR7==1211117636 or QR7==1311781206 or QR7==1211117649 or QR7==1160786265 or QR7==1211117652 or QR7==1211119187 or QR7==1164277353 or QR7==1162032439 or QR7==1430466865 or QR7==1429221441 or QR7==1429221432 or QR7==1429221430 or QR7==1211117654 or QR7==1432646245 or QR7==1430467634 or QR7==1429221424 or QR7==1430468913 or QR7==1162032181 or QR7==1162032951 or QR7==1160785970 or QR7==1429221443 or QR7==1328558154 or QR7==1432510828 or QR7==1315334514 or QR7==1429221451 or QR7==1215722344 or QR7==1160786242 or QR7==1211117641 or QR7==1211119409 or QR7==1160786505 or QR7==1160786510 or QR7==1311788336 or QR7==1160786507)then
return E27
endif
if(QR7==1211117617 or QR7==1214344551 or QR7==1211117624 or QR7==1315988077 or QR7==1211117616 or QR7==1215063922 or QR7==1311781193 or QR7==1211119187 or QR7==1430466865 or QR7==1429221441 or QR7==1429221432 or QR7==1313026096 or QR7==1429221443 or QR7==1332109682 or QR7==1429221446 or QR7==1332766568 or QR7==1432642913 or QR7==1211117650 or QR7==1328558389 or QR7==1328558406 or QR7==1160786502 or QR7==1160786507 or QR7==1160786738)then
return E_7
endif
if(QR7==1164799855 or QR7==1333027688 or QR7==1311781185 or QR7==1433105516 or QR7==1214409837 or QR7==1215130471 or QR7==1164799603 or QR7==1432580716 or QR7==1211117633 or QR7==1332898670 or QR7==1214345830 or QR7==1160786000 or QR7==1311780930 or QR7==1311786311 or QR7==1430466872 or QR7==1430468144 or QR7==1430466609 or QR7==1211117640 or QR7==1332963428 or QR7==1429221445 or QR7==1160786241 or QR7==1429221456 or QR7==1160786243 or QR7==1311781207 or QR7==1311780946 or QR7==1211117646 or QR7==1211117653 or QR7==1311787088 or QR7==1328558390 or QR7==1160786506 or QR7==1160786504)then
return F47
endif
if(QR7==1215128178 or QR7==1164799855 or QR7==1214931305 or QR7==1211117620 or QR7==1215130471 or QR7==1316252014 or QR7==1211117643 or QR7==1160786000 or QR7==1211117651 or QR7==1164666213 or QR7==1433168227 or QR7==1430468406 or QR7==1430466872 or QR7==1211117640 or QR7==1332963428 or QR7==1160786241 or QR7==1429221456 or QR7==1211117653 or QR7==1160786520 or QR7==1432580716 or(QR7==1429221720)or QR7==1211122767)then
return F77
endif
if((QR7==1215128178)or(QR7==1211117620)or(QR7==1215130471)or(QR7==1316252014)or(QR7==1332898670)or(QR7==1160786000)or(QR7==1433168227)or(QR7==1430466872)or(QR7==1430466609)or(QR7==1211117640)or(QR7==1211117653)or(QR7==1311787088)or(QR7==1211122767))then
return F87
endif
if(QR7==1164799855)or(QR7==1433105516)or(QR7==1214409837)or(QR7==1164799603)or(QR7==1432580716)or(QR7==1429221720)or(QR7==1211117643)or(QR7==1211117633)or(QR7==1332898670)or(QR7==1211117616)or(QR7==1315074670)or(QR7==1160786000)or(QR7==1164666213)or(QR7==1430468406)or(QR7==1162032439)or(QR7==1429221432)or(QR7==1429221430)or(QR7==1211117640)or(QR7==1160786243)or(QR7==1429221445)or(QR7==1311780946)or(QR7==1211117620)or(QR7==1211117636)or(QR7==1332179560)or(QR7==1429221441)then
return F97
endif
return 0
endfunction
function QS7 takes integer QR7,integer QT7 returns boolean
if QT7==0 then
return true
elseif QT7==E57 and(QR7==1212363833 or QR7==1212365106 or QR7==1311781199 or QR7==1315070563 or QR7==1215657064 or QR7==1332179560 or QR7==1160785973 or QR7==1311781174 or QR7==1315074670 or QR7==1164277353 or QR7==1429221430 or QR7==1165451634 or QR7==1160785972 or QR7==1162032181 or QR7==1162032951 or QR7==1315334514 or QR7==1215722344 or QR7==1160786242 or QR7==1211117641 or QR7==1211119409)then
return true
elseif QT7==E27 and(QR7==1215723364 or QR7==1328558160 or(QR7==1429221720)or QR7==1211117617 or QR7==1212363833 or QR7==1212365106 or QR7==1311781199 or QR7==1315070563 or QR7==1215657064 or QR7==1332179560 or QR7==1160785973 or QR7==1433631084 or QR7==1211117624 or QR7==1315007329 or QR7==1215063922 or QR7==1164207469 or QR7==1315074670 or QR7==1211117636 or QR7==1311781206 or QR7==1211117649 or QR7==1160786265 or QR7==1211117652 or QR7==1211119187 or QR7==1164277353 or QR7==1162032439 or QR7==1430466865 or QR7==1429221441 or QR7==1429221432 or QR7==1429221430 or QR7==1211117654 or QR7==1432646245 or QR7==1430467634 or QR7==1429221424 or QR7==1430468913 or QR7==1162032181 or QR7==1162032951 or QR7==1160785970 or QR7==1429221443 or QR7==1328558154 or QR7==1432510828 or QR7==1315334514 or QR7==1429221451 or QR7==1215722344 or QR7==1160786242 or QR7==1211117641 or QR7==1211119409 or QR7==1160786505 or QR7==1160786510 or QR7==1311788336 or QR7==1160786507)then
return true
elseif QT7==E_7 and(QR7==1211117617 or QR7==1214344551 or QR7==1432580716 or(QR7==1429221720)or QR7==1211117624 or QR7==1315988077 or QR7==1211117616 or QR7==1215063922 or QR7==1311781193 or QR7==1211119187 or QR7==1430466865 or QR7==1429221441 or QR7==1429221432 or QR7==1313026096 or QR7==1429221443 or QR7==1332109682 or QR7==1429221446 or QR7==1332766568 or QR7==1432642913 or QR7==1211117650 or QR7==1328558389 or QR7==1328558406 or QR7==1160786502 or QR7==1160786738)then
return true
elseif QT7==F47 and(QR7==1164799855 or QR7==1333027688 or QR7==1311781185 or QR7==1433105516 or QR7==1214409837 or QR7==1215130471 or QR7==1164799603 or QR7==1432580716 or(QR7==1429221720)or QR7==1211117633 or QR7==1332898670 or QR7==1214345830 or QR7==1160786000 or QR7==1311780930 or QR7==1311786311 or QR7==1430466872 or QR7==1430468144 or QR7==1430466609 or QR7==1211117640 or QR7==1332963428 or QR7==1429221445 or QR7==1160786241 or QR7==1429221456 or QR7==1160786243 or QR7==1311781207 or QR7==1311780946 or QR7==1211117646 or QR7==1211117653 or QR7==1311787088 or QR7==1328558390 or QR7==1160786506 or QR7==1160786504)then
return true
elseif QT7==F77 and(QR7==1215128178 or QR7==1164799855 or QR7==1214931305 or QR7==1211117620 or QR7==1215130471 or QR7==1316252014 or QR7==1211117643 or QR7==1160786000 or QR7==1211117651 or QR7==1164666213 or QR7==1433168227 or QR7==1430468406 or QR7==1430466872 or QR7==1211117640 or QR7==1332963428 or QR7==1160786241 or QR7==1429221456 or QR7==1211117653 or QR7==1160786520 or QR7==1432580716 or(QR7==1429221720)or QR7==1211122767)then
return true
elseif QT7==F87 and(((QR7==1215128178)or(QR7==1211117620)or(QR7==1215130471)or(QR7==1316252014)or(QR7==1332898670)or(QR7==1160786000)or(QR7==1433168227)or(QR7==1430466872)or(QR7==1430466609)or(QR7==1211117640)or(QR7==1211117653)or(QR7==1311787088)or(QR7==1211122767)))then
return true
elseif QT7==F97 and((QR7==1164799855)or(QR7==1433105516)or(QR7==1214409837)or(QR7==1164799603)or(QR7==1432580716)or(QR7==1429221720)or(QR7==1211117643)or(QR7==1211117633)or(QR7==1332898670)or(QR7==1211117616)or(QR7==1315074670)or(QR7==1160786000)or(QR7==1164666213)or(QR7==1430468406)or(QR7==1162032439)or(QR7==1429221432)or(QR7==1429221430)or(QR7==1211117640)or(QR7==1160786243)or(QR7==1429221445)or(QR7==1311780946)or(QR7==1211117620)or(QR7==1211117636)or(QR7==1332179560)or(QR7==1429221441))then
return true
endif
return false
endfunction
function QU7 takes integer QR7 returns integer
if(QR7==1211117620 or QR7==1214409837 or QR7==1432580716 or QR7==1429221720 or QR7==1211117643 or QR7==1160786000 or QR7==1164666213 or QR7==1430468406 or QR7==1211117640 or QR7==1332766568 or QR7==1311780946 or QR7==1211122767)then
return 1
endif
if(QR7==1214931305 or QR7==1333027688 or QR7==1215130471 or QR7==1316252014 or QR7==1164799603 or QR7==1332898670 or QR7==1433168227 or QR7==1430466872 or QR7==1429221445 or QR7==1160786241 or QR7==1211117650 or QR7==1211117646 or QR7==1211117653 or QR7==1160786506 or QR7==1160786507)then
return 2
endif
if(QR7==1215723364 or QR7==1164799855 or QR7==1212365106 or QR7==1311781185 or QR7==1214344551 or QR7==1215657064 or QR7==1211117633 or QR7==1315007329 or QR7==1215063922 or QR7==1164207469 or QR7==1315074670 or QR7==1211117649 or QR7==1160786265 or QR7==1211117652 or QR7==1429221441 or QR7==1165451634 or QR7==1432646245 or QR7==1430467634 or QR7==1332963428 or QR7==1429221446 or QR7==1160786243)then
return 4
endif
return 3
endfunction
function QV7 takes integer QW7,boolean QX7 returns string
if QW7==0 then
return" (Mid)"
elseif QW7==1 then
return" (Left)"
elseif QW7==2 then
return" (Right)"
elseif QW7==3 and QX7 then
return" (Tree)"
elseif QW7==4 and QX7 then
return" (Throne)"
endif
return""
endfunction
function QY7 takes boolean QZ7 returns integer
local integer QA7=PW7(QZ7,0,24)
local integer QB7=0
local integer k=0
local integer j
local integer i=-1
loop
exitwhen QB7>3
if QB7==0 then
set j=3
else
set j=QB7-1
endif
if EB7[QA7+8+j]>0 then
if EB7[QA7+12+j]==0 then
set i=j
exitwhen true
elseif EB7[QA7+8+j]>k or(EB7[QA7+8+j]==k and GetRandomInt(1,5-QB7)==1)then
set i=j
set k=EB7[QA7+8+j]
endif
endif
set QB7=QB7+1
endloop
return i
endfunction
function QC7 takes unit it returns real
local integer i1=GetUnitTypeId(it)
if(i1==1433631084)then
return 550.+I2R(75*GetUnitAbilityLevel(it,1093677909))
elseif((i1==1211117616)or(i1==1214345830)or(i1==1315988077)or(i1==1214344551)or(i1==1211117624)or(i1==1328558154)or(i1==1429221443)or(i1==1429221432)or(i1==1432646245)or(i1==1311780946)or(i1==1430468913)or(i1==1211117650)or(i1==1164207469)or(i1==1315070563)or(i1==1212363833)or(i1==1332179560)or(i1==1211117641)or(i1==1215657064)or(i1==1215722344)or(i1==1165451634)or(i1==1164277353)or(i1==1160786242)or(i1==1215130471))then
return 100.
elseif((i1==1211117652)or(i1==1212365106))then
return 125.
elseif((i1==1211119187)or(i1==1333027688)or(i1==1311781193)or(i1==1429221451)or(i1==1429221446)or(i1==1315007329)or(i1==1162032181)or(i1==1429221424)or(i1==1328558389)or(i1==1211119409)or(i1==1160786505)or(i1==1311788336)or(i1==1160786507)or(i1==1160786738))then
return 128.
elseif((i1==1430467634)or(i1==1432642913)or(i1==1215063922))then
return 150.
elseif((i1==1211117636)or(i1==1211117617)or(i1==1432580716)or(i1==1429221720)or(i1==1430466865)or(i1==1332109682)or(i1==1332766568)or(i1==1429221441)or(i1==1313026096)or(i1==1211117646))then
return 200.
elseif(i1==1429221430)then
return 250.
elseif((i1==1328558160)or(i1==1215128178))then
return 350.
elseif((i1==1211117649)or(i1==1160786000))then
return 400.
elseif(i1==1432510828)or(i1==1311788343)then
return 425.
elseif((i1==1162032439)or(i1==1429221456))then
return 450.
elseif(i1==1160785970)then
return 475.
elseif(i1==1211117651)then
return 480.
elseif((i1==1315334514)or(i1==1316252014)or(i1==1332898670)or(i1==1311781207))then
return 500.
elseif(i1==1311781199)or(i1==1164799855)or(i1==1430466609)or(i1==1311780930)then
return 550.
elseif(i1==1162032951)then
return 575.
elseif((i1==1311781206)or(i1==1315074670)or((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))or(i1==1160785972)or(i1==1211117633)or(i1==1311781185)or(i1==1211117620)or(i1==1164666213)or(i1==1160786241)or(i1==1430468406)or(i1==1430466872)or(i1==1211117653)or(i1==1429221445)or(i1==1211117640)or(i1==1160786243)or(i1==1311787088)or(i1==1160786520)or(i1==1211122767))then
return 600.
elseif(i1==1311788363)then
return 625.
else
return 0.
endif
endfunction
function Q37 takes unit PF7,integer O5 returns nothing
if(IsUnitAlly(PF7,Z7[0]))then
if EB7[64+O5]==0 then
set h8[64+O5]=h7[2]
elseif EB7[64+O5]==1 then
set h8[64+O5]=h7[4]
elseif EB7[64+O5]==2 then
set h8[64+O5]=h7[3]
elseif EB7[64+O5]==3 then
set h8[64+O5]=h7[1]
endif
else
if EB7[64+O5]==0 then
set h8[64+O5]=h7[102]
elseif EB7[64+O5]==1 then
set h8[64+O5]=h7[103]
elseif EB7[64+O5]==2 then
set h8[64+O5]=h7[104]
elseif EB7[64+O5]==3 then
set h8[64+O5]=h7[101]
endif
endif
endfunction
function Q67 takes group g returns boolean
return FirstOfGroup(g)==null
endfunction
function QL7 takes integer Q17,unit Q07,integer Q57,integer Q27 returns boolean
set UD4[Q17]=true
call SetPlayerAbilityAvailable(GetOwningPlayer(Q07),Q57,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(Q07),Q27,true)
return true
endfunction
function Q_7 takes integer Q17 returns boolean
set GZ[Q17]=true
return true
endfunction
function R47 takes real R77 returns nothing
local real R87
local real st=TimerGetElapsed(W)
if st<=0 then
set W=CreateTimer()
call TimerStart(W,9000,false,null)
endif
if(R77>0)then
loop
set R87=R77-TimerGetElapsed(W)+st
exitwhen R87<=0
if(R87>bj_POLLED_WAIT_SKIP_THRESHOLD)then
call TriggerSleepAction(0.1*R87)
else
call TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)
endif
endloop
endif
endfunction
function R97 takes unit a,widget b,real RD7 returns boolean
local real QE7=(GetUnitFacing(a)-bj_RADTODEG*Atan2(GetWidgetY(b)-GetUnitY(a),GetWidgetX(b)-GetUnitX(a)))
if QE7>180 then
set QE7=360-QE7
endif
if QE7<0 then
set QE7=-QE7
endif
return QE7<=RD7
endfunction
function RE7 takes widget p5,widget m5 returns real
local real t5
local real w5
local real Y5
local real Z5
if p5!=null and m5!=null then
set t5=GetWidgetX(p5)
set w5=GetWidgetY(p5)
set Y5=GetWidgetX(m5)
set Z5=GetWidgetY(m5)
return SquareRoot((t5-Y5)*(t5-Y5)+(w5-Z5)*(w5-Z5))
endif
return 999999.
endfunction
function RF7 takes real x1,real y1,real x2,real y2 returns real
return SquareRoot(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2)))
endfunction
function RG7 takes integer O5 returns integer
local integer kc=3
if((hj[256+O5]==18)or(hj[O5]==10)or(hj[256+O5]==118)or(hj[O5]==110))then
set kc=0
elseif((hj[256+O5]==40)or(hj[O5]==30)or(hj[256+O5]==140)or(hj[O5]==130))then
set kc=1
elseif((hj[256+O5]==60)or(hj[O5]==50)or(hj[256+O5]==160)or(hj[O5]==150))then
set kc=2
endif
return kc
endfunction
function RH7 takes unit it returns integer
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP=GetUnitUserData(h8[O5])
if((UP==0)or(UP==100)or(UP==1)or(UP==101))then
set UP=GetUnitUserData(h9[O5])
endif
return RG7(UP)
endfunction
function RI7 takes integer O5 returns integer
set eY[80+O5]=5
if IG4[O5]then
elseif(RE7(M7[O5],h7[0])<4000.)then
set eY[80+O5]=3
elseif(RE7(M7[O5],h7[100])<4000.)then
set eY[80+O5]=4
elseif IsUnitInRange(M7[O5],h8[O5],2000.)then
set eY[80+O5]=RG7(GetUnitUserData(h8[O5]))
if eY[80+O5]==3 then
set eY[80+O5]=5
endif
elseif IsUnitInRange(M7[O5],h8[80+O5],2000.)then
set eY[80+O5]=RG7(GetUnitUserData(h8[80+O5]))
if eY[80+O5]==3 then
set eY[80+O5]=5
endif
else
set eY[80+O5]=5
set GZ[400+O5]=true
endif
return eY[80+O5]
endfunction
function RJ7 takes integer RK7 returns integer
local integer RM7=0
loop
exitwhen RM7>K54
if MI4[RM7]==RK7 then
return K34[RM7]
endif
set RM7=RM7+1
endloop
return-1
endfunction
function RN7 takes unit RO7 returns integer
local integer RP7=GetHeroLevel(RO7)
if RP7==1 then
return 100
elseif RP7==2 then
return 120
elseif RP7==3 then
return 160
elseif RP7==4 then
return 220
else
return-200+100*RP7
endif
return 0
endfunction
function RQ7 takes nothing returns real
return TimerGetElapsed(W)
endfunction
function RR7 takes unit RS7 returns nothing
call PauseUnit(RS7,true)
call IssueImmediateOrder(RS7,"stop")
call PauseUnit(RS7,false)
endfunction
function RT7 takes location f4,real F4,real l4 returns location
return Location(GetLocationX(f4)+F4*Cos(l4*bj_DEGTORAD),GetLocationY(f4)+F4*Sin(l4*bj_DEGTORAD))
endfunction
function L4 takes nothing returns boolean
local real dx=GetDestructableX(GetFilterDestructable())-Wz
local real dy=GetDestructableY(GetFilterDestructable())-Yz
return(dx*dx+dy*dy<=bj_enumDestructableRadius)
endfunction
function M4 takes player p4 returns force
set V2=CreateForce()
call ForceEnumEnemies(V2,p4,bH)
return V2
endfunction
function RU7 takes unit PF7 returns boolean
local integer id=GetUnitTypeId(PF7)
return id==VT4 or id==VU4 or id==VV4 or id==VW4 or id==VX4 or id==VY4 or id==VA4 or id==VB4 or id==VC4 or id==V34 or id==V64 or id==VL4 or id==V24 or id==V_4 or id==W74
endfunction
function RV7 takes unit PF7 returns boolean
local integer id=GetUnitTypeId(PF7)
return id==VS4 or id==VZ4 or id==W44 or id==V14 or id==V04 or id==V54
endfunction
function RW7 takes unit PF7 returns boolean
return RU7(PF7)or RV7(PF7)
endfunction
function RX7 takes item Z4 returns nothing
call DisableTrigger(H94)
call RemoveItem(Z4)
call EnableTrigger(H94)
endfunction
function RY7 takes item x5 returns integer
local integer o5
local integer i=1
if x5==null then
return-2
endif
set o5=GetItemTypeId(x5)
loop
exitwhen i>EV
if SU[i]==o5 or ZU[i]==o5 or BU[i]==o5 then
return i
endif
set i=i+1
endloop
return-1
endfunction
function RZ7 takes item RA7 returns integer
local integer RB7
local integer i=1
if RA7==null then
return-2
endif
set RB7=GetItemTypeId(RA7)
loop
exitwhen i>EV
if SU[i]==RB7 or ZU[i]==RB7 then
return i
endif
set i=i+1
endloop
return-1
endfunction
function RC7 takes item RA7 returns integer
local integer RB7
local integer i=1
if RA7==null then
return-2
endif
set RB7=GetItemTypeId(RA7)
loop
exitwhen i>EV
if BU[i]==RB7 then
return i
endif
set i=i+1
endloop
return-1
endfunction
function V5 takes nothing returns nothing
set HM4[1]=1093677633
set HN4[1]=1093744463
set HO4[1]=1094934883
set HP4[1]=1093683534
set HM4[2]=1093677616
set HN4[2]=1093683779
set HO4[2]=1093684789
set HP4[2]=1093810503
set HM4[3]=1093682263
set HN4[3]=1093682264
set HO4[3]=1093677378
set HP4[3]=1093682265
set HM4[4]=1093682766
set HN4[4]=1093682998
set HO4[4]=1093684056
set HP4[4]=1093683000
set HM4[5]=1093748025
set HN4[5]=1093678147
set HO4[5]=1095262562
set HP4[5]=1093677906
set HM4[6]=1093744944
set HN4[6]=1093677387
set HO4[6]=1093814611
set HP4[6]=1093752648
set HM4[7]=1093678643
set HN4[7]=1093681729
set HO4[7]=1093677125
set HP4[7]=1093678933
set HM4[8]=1093686091
set HN4[8]=1093682252
set HO4[8]=1093682250
set HP4[8]=1093682248
set HM4[9]=1093685831
set HN4[9]=1093684025
set HO4[9]=1093682266
set HP4[9]=1093677130
set HM4[10]=1093681461
set HN4[10]=1093748039
set HO4[10]=1093681464
set HP4[10]=1093681479
set HM4[11]=1093677382
set HN4[11]=1093677623
set HO4[11]=1093744728
set HP4[11]=1093677392
set HM4[12]=1093678407
set HN4[12]=1093678135
set HO4[12]=1093677131
set HP4[12]=1093684529
set HM4[13]=1093743692
set HN4[13]=1093684314
set HO4[13]=1093815892
set HP4[13]=1093684275
set HM4[14]=1093677402
set HN4[14]=1093748535
set HO4[14]=1093677397
set HP4[14]=1093678938
set HM4[15]=1093747009
set HN4[15]=1093747000
set HO4[15]=1093747524
set HP4[15]=1093746993
set HM4[16]=1093679157
set HN4[16]=1093742680
set HO4[16]=1093742898
set HP4[16]=1093742932
set HM4[17]=1093677913
set HN4[17]=1093750841
set HO4[17]=1095657827
set HP4[17]=1093684291
set HM4[18]=1093679172
set HN4[18]=1093677126
set HO4[18]=1093679177
set HP4[18]=1093679160
set HM4[19]=1093678137
set HN4[19]=1093678405
set HO4[19]=1093681745
set HP4[19]=1093678645
set HM4[20]=1093808453
set HN4[20]=1093677391
set HO4[20]=1095067246
set HP4[20]=1093752632
set HM4[21]=1093742660
set HN4[21]=1093682231
set HO4[21]=1093682242
set HP4[21]=1093687627
set HM4[22]=1093684300
set HN4[22]=1093681754
set HO4[22]=1093744977
set HP4[22]=1093682009
set HM4[23]=1093678410
set HN4[23]=1093678664
set HO4[23]=1093678658
set HP4[23]=1093681483
set HM4[24]=1093684045
set HN4[24]=1093684310
set HO4[24]=1093810260
set HP4[24]=1093684308
set HM4[25]=1093678130
set HN4[25]=1093678129
set HO4[25]=1093678642
set HP4[25]=1093678388
set HM4[26]=1093678644
set HN4[26]=1093677907
set HO4[26]=1093677909
set HP4[26]=1093678160
set HM4[27]=1093681733
set HN4[27]=1093681731
set HO4[27]=1093685040
set HP4[27]=1093748042
set HM4[28]=1093677360
set HN4[28]=1093685848
set HO4[28]=1093677136
set HP4[28]=1093677128
set HM4[29]=1093682775
set HN4[29]=1093683024
set HO4[29]=1093684531
set HP4[29]=1093682774
set HM4[30]=1093678669
set HN4[30]=1097032808
set HO4[30]=1093684568
set HP4[30]=1093684561
set HM4[31]=1093677139
set HN4[31]=1093816142
set HO4[31]=1093677142
set HP4[31]=1093816118
set HM4[32]=1093677108
set HN4[32]=1093749073
set HO4[32]=1093678913
set HP4[32]=1093681716
set HM4[33]=1093677894
set HN4[33]=1093681490
set HO4[33]=1093681996
set HP4[33]=1093677895
set HM4[34]=1093677618
set HN4[34]=1095066220
set HO4[34]=1093684057
set HP4[34]=1093682483
set HM4[35]=1093677622
set HN4[35]=1093685570
set HO4[35]=1093677625
set HP4[35]=1093686851
set HM4[36]=1093679182
set HN4[36]=1093679190
set HO4[36]=1093678657
set HP4[36]=1093682514
set HM4[37]=1093685041
set HN4[37]=1093685071
set HO4[37]=1093681732
set HP4[37]=1093685042
set HM4[38]=1093685047
set HN4[38]=1093685046
set HO4[38]=1093685048
set HP4[38]=1093685045
set HM4[39]=1093683532
set HN4[39]=1093750345
set HO4[39]=1093685043
set HP4[39]=1095656306
set HM4[40]=1093684054
set HN4[40]=1093684280
set HO4[40]=1093684302
set HP4[40]=1093684053
set HM4[41]=1093743696
set HN4[41]=1093743698
set HO4[41]=1093685591
set HP4[41]=1093743695
set HM4[42]=1093685584
set HN4[42]=1093685582
set HO4[42]=1093685585
set HP4[42]=1093685586
set HM4[43]=1093748033
set HN4[43]=1093685846
set HO4[43]=1093685839
set HP4[43]=1093685840
set HM4[44]=1093686073
set HN4[44]=1093686083
set HO4[44]=1093686082
set HP4[44]=1093686072
set HM4[45]=1093687860
set HN4[45]=1093687861
set HO4[45]=1093687862
set HP4[45]=1093687864
set HM4[46]=1093743414
set HN4[46]=1093743444
set HO4[46]=1093742926
set HP4[46]=1093742923
set HM4[47]=1093743178
set HN4[47]=1093743179
set HO4[47]=1093743689
set HP4[47]=1093743184
set HM4[48]=1093751631
set HN4[48]=1093751633
set HO4[48]=1093751895
set HP4[48]=1093751861
set HM4[49]=1093751894
set HN4[49]=1093751639
set HO4[49]=1093751637
set HP4[49]=1093752118
set HM4[50]=1093751873
set HN4[50]=1093751864
set HO4[50]=1093810257
set HP4[50]=1093751874
set HM4[51]=1093678918
set HN4[51]=1093679186
set HO4[51]=1093678387
set HP4[51]=1093678420
set HM4[52]=1093678904
set HN4[52]=1093678925
set HO4[52]=1093677635
set HP4[52]=1093678158
set HM4[53]=1093687349
set HN4[53]=1093684558
set HO4[53]=1093677646
set HP4[53]=1093679413
set HM4[54]=1093744435
set HN4[54]=1093684569
set HO4[54]=1093684563
set HP4[54]=1093677363
set HM4[55]=1093677651
set HN4[55]=1093677879
set HO4[55]=1093751364
set HP4[55]=1093810508
set HM4[56]=1093679192
set HN4[56]=1093750337
set HO4[56]=1093686872
set HP4[56]=1093678923
set HM4[57]=1093678389
set HN4[57]=1093685847
set HO4[57]=1093677902
set HP4[57]=1093677903
set HM4[58]=1093677892
set HN4[58]=1093687878
set HO4[58]=1093677893
set HP4[58]=1093679411
set HM4[59]=1093681736
set HN4[59]=1093681735
set HO4[59]=1093681739
set HP4[59]=1093687121
set HM4[60]=1093687629
set HN4[60]=1093685324
set HO4[60]=1093677904
set HP4[60]=1093677905
set HM4[61]=1093747504
set HN4[61]=1093682994
set HO4[61]=1093684560
set HP4[61]=1093747028
set HM4[62]=1093677640
set HN4[62]=1093679173
set HO4[62]=1093679158
set HP4[62]=1093677899
set HM4[63]=1095267426
set HN4[63]=1096114550
set HO4[63]=1095721842
set HP4[63]=1093677401
set HM4[64]=1093742674
set HN4[64]=1093750608
set HO4[64]=1093679412
set HP4[64]=1093684565
set HM4[65]=1093687351
set HN4[65]=1093748789
set HO4[65]=1093815119
set HP4[65]=1093679445
set HM4[66]=1093678403
set HN4[66]=1093810507
set HO4[66]=1093683786
set HP4[66]=1093677876
set HM4[67]=1093685559
set HN4[67]=1093684549
set HO4[67]=1093678145
set HP4[67]=1093810258
set HM4[68]=1093677872
set HN4[68]=1095263841
set HO4[68]=1093677621
set HP4[68]=1093678161
set HM4[69]=1093684299
set HN4[69]=1093682010
set HO4[69]=1093679153
set HP4[69]=1093683761
set HM4[70]=1093679446
set HN4[70]=1093746995
set HO4[70]=1093684557
set HP4[70]=1093679152
set HM4[71]=1093748023
set HN4[71]=1093747792
set HO4[71]=1093748022
set HP4[71]=1093747023
set HM4[72]=1093686322
set HN4[72]=1093686099
set HO4[72]=1093744948
set HP4[72]=1093686103
set HM4[73]=1093684564
set HN4[73]=1093681989
set HO4[73]=1093679428
set HP4[73]=1093681987
set HM4[74]=1093678134
set HN4[74]=1093678149
set HO4[74]=1093678132
set HP4[74]=1093810505
set HM4[75]=1093816137
set HN4[75]=1093683019
set HO4[75]=1093678169
set HP4[75]=1093677649
set HM4[76]=1093678422
set HN4[76]=1093677390
set HO4[76]=1093678640
set HP4[76]=1093678647
set HM4[77]=1093678665
set HN4[77]=1093678667
set HO4[77]=1093678660
set HP4[77]=1093682764
set HM4[78]=1093750840
set HN4[78]=1093682515
set HO4[78]=1093682997
set HP4[78]=1093682996
set HM4[79]=1093751127
set HN4[79]=1093681985
set HO4[79]=1093681991
set HP4[79]=1093682004
set HM4[80]=1093682521
set HN4[80]=1093681746
set HO4[80]=1093682773
set HP4[80]=1093810506
set HM4[81]=1093678671
set HN4[81]=1093683248
set HO4[81]=1093682753
set HP4[81]=1093678674
set HM4[82]=1093683510
set HN4[82]=1093686065
set HO4[82]=1093681974
set HP4[82]=1093682482
set HM4[83]=1093682499
set HN4[83]=1093684293
set HO4[83]=1093683512
set HP4[83]=1093684296
set HM4[84]=1093683507
set HN4[84]=1093684550
set HO4[84]=1093684551
set HP4[84]=1093684819
set HM4[85]=1093683287
set HN4[85]=1093682776
set HO4[85]=1093684801
set HP4[85]=1093683257
set HM4[86]=1093684813
set HN4[86]=1093684805
set HO4[86]=1093684815
set HP4[86]=1093684820
set HM4[87]=1093685065
set HN4[87]=1093685066
set HO4[87]=1093683526
set HP4[87]=1093685067
set HM4[88]=1093683765
set HN4[88]=1093681491
set HO4[88]=1093678672
set HP4[88]=1395667000
set HM4[89]=1093684802
set HN4[89]=1093684792
set HO4[89]=1093684791
set HP4[89]=1093684567
set HM4[90]=1093684817
set HN4[90]=1093742668
set HO4[90]=1093685074
set HP4[90]=1093742673
set HM4[91]=1093677385
set HN4[91]=1093685825
set HO4[91]=1093810232
set HP4[91]=1093685808
set HM4[92]=1093743955
set HN4[92]=1093685813
set HO4[92]=1093743958
set HP4[92]=1093743946
set HM4[93]=1093685573
set HN4[93]=1093685575
set HO4[93]=1093685815
set HP4[93]=1093685579
set HM4[94]=1093808471
set HN4[94]=1093808472
set HO4[94]=1093808470
set HP4[94]=1093808473
set HM4[95]=1093683511
set HN4[95]=1093744688
set HO4[95]=1093681713
set HP4[95]=1093747288
set HM4[96]=1093748044
set HN4[96]=1093744982
set HO4[96]=1093744986
set HP4[96]=1093744975
set HM4[97]=1093750087
set HN4[97]=1093748819
set HO4[97]=1093748817
set HP4[97]=1093750089
set HM4[98]=1093749069
set HN4[98]=1093749303
set HO4[98]=1093748818
set HP4[98]=1093749070
set HM4[99]=1093678156
set HN4[99]=1093683252
set HO4[99]=1093684566
set HP4[99]=1093678929
set HM4[100]=1093678679
set HN4[100]=1093677877
set HO4[100]=1093678678
set HP4[100]=1093808454
set HM4[101]=1093751608
set HN4[101]=1093751618
set HO4[101]=1093751604
set HP4[101]=1093751617
set HQ4[1]=1093747031
set HQ4[2]=1093810504
set HQ4[5]=1093681494
set HQ4[8]=1093750594
set HQ4[11]=1093679450
set HQ4[12]=1093747032
set HQ4[20]=1093752633
set HQ4[22]=1093752392
set HQ4[23]=1093748313
set HQ4[24]=1093747539
set HQ4[25]=1093677141
set HQ4[28]=1093681457
set HQ4[30]=1093747254
set HQ4[38]=1093747249
set HQ4[42]=1093747251
set HQ4[44]=1093751120
set HQ4[45]=1093747542
set HQ4[47]=1093747766
set HQ4[50]=1093808455
set HQ4[51]=1093679176
set HQ4[53]=1093679447
set HQ4[54]=1093681462
set HQ4[62]=1093747248
set HQ4[64]=1093681458
set HQ4[67]=1093810259
set HQ4[69]=1093747767
set HQ4[70]=1093752154
set HQ4[71]=1093752150
set HQ4[73]=1093677658
set HQ4[75]=1093747769
set HQ4[76]=1093679184
set HQ4[77]=1093747544
set HQ4[78]=1093747768
set HQ4[81]=1093747252
set HQ4[82]=1093750098
set HQ4[84]=1093747777
set HQ4[86]=1093684824
set HQ4[87]=1093752407
set HQ4[88]=1395667029
set HQ4[90]=1093747778
set HQ4[94]=1093748565
set HW4[1]="thunderbolt"
set HX4[1]="volcano"
set HY4[1]="passive"
set HZ4[1]="forkedlightning"
set HW4[2]="chainlightning"
set HX4[2]="thunderbolt"
set HY4[2]="passive"
set HZ4[2]="thunderclap"
set HW4[3]="passive"
set HX4[3]="slow"
set HY4[3]="locustswarm"
set HZ4[3]="poisonarrows"
set HW4[4]="carrionswarm"
set HX4[4]="acidbomb"
set HY4[4]="replenishmana"
set HZ4[4]="itemillusion"
set HW4[5]="blizzard"
set HX4[5]="entanglingroots"
set HY4[5]="passive"
set HZ4[5]="channel"
set HW4[6]="acidbomb"
set HX4[6]="passive"
set HY4[6]="volcano"
set HZ4[6]="chemicalrage"
set HW4[7]="mirrorimage"
set HX4[7]="ensnare"
set HY4[7]="passive"
set HZ4[7]="channel"
set HW4[8]="channel"
set HX4[8]="roar"
set HY4[8]="passive"
set HZ4[8]="fanofknives"
set HW4[9]="blizzard"
set HX4[9]="channel"
set HY4[9]="passive"
set HZ4[9]="passive"
set HW4[10]="summongrizzly"
set HX4[10]="fanofknives"
set HY4[10]="passive"
set HZ4[10]="bearform"
set HW4[11]="shockwave"
set HX4[11]="inferno"
set HY4[11]="passive"
set HZ4[11]="chainlightning"
set HW4[12]="whirlwind"
set HX4[12]="healingward"
set HY4[12]="passive"
set HZ4[12]="thunderbolt"
set HW4[13]="blizzard"
set HX4[13]="poisonarrows"
set HY4[13]="passive"
set HZ4[13]="channel"
set HW4[14]="invisibility"
set HX4[14]="thunderbolt"
set HY4[14]="innerfire"
set HZ4[14]="channel"
set HW4[15]="charm"
set HX4[15]="volcano"
set HY4[15]="passive"
set HZ4[15]="channel"
set HW4[16]="channel"
set HX4[16]="acidbomb"
set HY4[16]="acolyteharvest"
set HZ4[16]="metamorphosis"
set HW4[17]="thunderclap"
set HX4[17]="channel"
set HY4[17]="passive"
set HZ4[17]="berserk"
set HW4[18]="thunderbolt"
set HX4[18]="acidbomb"
set HY4[18]="bloodlust"
set HZ4[18]="passive"
set HW4[19]="drunkenhaze"
set HX4[19]="fanofknives"
set HY4[19]="curse"
set HZ4[19]="channel"
set HW4[20]="thunderbolt"
set HX4[20]="blink"
set HY4[20]="forceofnature"
set HZ4[20]="chainlightning"
set HW4[21]="acidbomb"
set HX4[21]="windwalk"
set HY4[21]="passive"
set HZ4[21]="passive"
set HW4[22]="blizzard"
set HX4[22]="channel"
set HY4[22]="passive"
set HZ4[22]="passive"
set HW4[23]="landmine"
set HX4[23]="stasistrap"
set HY4[23]="selfdestruct"
set HZ4[23]="summonward"
set HW4[24]="drunkenhaze"
set HX4[24]="thunderbolt"
set HY4[24]="charm"
set HZ4[24]="channel"
set HW4[25]="firebolt"
set HX4[25]="moonglaive"
set HY4[25]="passive"
set HZ4[25]="channel"
set HW4[26]="blizzard"
set HX4[26]="passive"
set HY4[26]="moonglaive"
set HZ4[26]="thunderbolt"
set HW4[27]="bearform"
set HX4[27]="curse"
set HY4[27]="passive"
set HZ4[27]="fanofknives"
set HW4[28]="forkedlightning"
set HX4[28]="hex"
set HY4[28]="magicleash"
set HZ4[28]="summonward"
set HW4[29]="channel"
set HX4[29]="fanofknives"
set HY4[29]="passive"
set HZ4[29]="passive"
set HW4[30]="thunderclap"
set HX4[30]="drunkenhaze"
set HY4[30]="passive"
set HZ4[30]="elementalfury"
set HW4[31]="stomp"
set HX4[31]="firebolt"
set HY4[31]="passive"
set HZ4[31]="passive"
set HW4[32]="thunderbolt"
set HX4[32]="passive"
set HY4[32]="windwalk"
set HZ4[32]="faeriefire"
set HW4[33]="breathoffire"
set HX4[33]="thunderbolt"
set HY4[33]="passive"
set HZ4[33]="metamorphosis"
set HW4[34]="passive"
set HX4[34]="blink"
set HY4[34]="passive"
set HZ4[34]="thunderbolt"
set HW4[35]="coldarrows"
set HX4[35]="silence"
set HY4[35]="passive"
set HZ4[35]="passive"
set HW4[36]="frostarmor"
set HX4[36]="antimagicshell"
set HY4[36]="passive"
set HZ4[36]="battleroar"
set HW4[37]="carrionswarm"
set HX4[37]="summonquillbeast"
set HY4[37]="passive"
set HZ4[37]="thunderbolt"
set HW4[38]="carrionswarm"
set HX4[38]="breathoffire"
set HY4[38]="passive"
set HZ4[38]="shockwave"
set HW4[39]="blizzard"
set HX4[39]="fanofknives"
set HY4[39]="passive"
set HZ4[39]="chemicalrage"
set HW4[40]="channel"
set HX4[40]="acidbomb"
set HY4[40]="windwalk"
set HZ4[40]="corporealform"
set HW4[41]="fanofknives"
set HX4[41]="chainlightning"
set HY4[41]="passive"
set HZ4[41]="carrionswarm"
set HW4[42]="thunderbolt"
set HX4[42]="poisonarrows"
set HY4[42]="passive"
set HZ4[42]="firebolt"
set HW4[43]="fanofknives"
set HX4[43]="windwalk"
set HY4[43]="passive"
set HZ4[43]="curse"
set HW4[44]="acidbomb"
set HX4[44]="channel"
set HY4[44]="phaseshift"
set HZ4[44]="blizzard"
set HW4[45]="channel"
set HX4[45]="charm"
set HY4[45]="blizzard"
set HZ4[45]="clusterrockets"
set HW4[46]="blizzard"
set HX4[46]="passive"
set HY4[46]="charm"
set HZ4[46]="acidbomb"
set HW4[47]="chainlightning"
set HX4[47]="acidbomb"
set HY4[47]="fanofknives"
set HZ4[47]="charm"
set HW4[48]=""
set HX4[48]=""
set HY4[48]=""
set HZ4[48]=""
set HW4[49]=""
set HX4[49]=""
set HY4[49]=""
set HZ4[49]=""
set HW4[50]=""
set HX4[50]=""
set HY4[50]=""
set HZ4[50]=""
set HW4[51]="frostnova"
set HX4[51]="frostarmor"
set HY4[51]="innerfire"
set HZ4[51]="sleep"
set HW4[52]="carrionswarm"
set HX4[52]="silence"
set HY4[52]="passive"
set HZ4[52]="locustswarm"
set HW4[53]="impale"
set HX4[53]="hex"
set HY4[53]="drain"
set HZ4[53]="chainlightning"
set HW4[54]="volcano"
set HX4[54]="passive"
set HY4[54]="summonward"
set HZ4[54]="summongrizzly"
set HW4[55]="shockwave"
set HX4[55]="innerfire"
set HY4[55]="carrionswarm"
set HZ4[55]="stomp"
set HW4[56]="cripple"
set HX4[56]="creepheal"
set HY4[56]="passive"
set HZ4[56]="fanofknives"
set HW4[57]="firebolt"
set HX4[57]="channel"
set HY4[57]="passive"
set HZ4[57]="mirrorimage"
set HW4[58]="spiritwolf"
set HX4[58]="channel"
set HY4[58]="passive"
set HZ4[58]="metamorphosis"
set HW4[59]="parasite"
set HX4[59]="inferno"
set HY4[59]="passive"
set HZ4[59]="roar"
set HW4[60]="acidbomb"
set HX4[60]="channel"
set HY4[60]="passive"
set HZ4[60]="passive"
set HW4[61]="bearform"
set HX4[61]="chainlightning"
set HY4[61]="manashield"
set HZ4[61]="charm"
set HW4[62]="thunderbolt"
set HX4[62]="drunkenhaze"
set HY4[62]="passive"
set HZ4[62]="itemchangetime"
set HW4[63]="thunderbolt"
set HX4[63]="passive"
set HY4[63]="passive"
set HZ4[63]="reincarnation"
set HW4[64]="channel"
set HX4[64]="fanofknives"
set HY4[64]="firebolt"
set HZ4[64]="doom"
set HW4[65]="impale"
set HX4[65]="creepheal"
set HY4[65]="carrionscarabsoff"
set HZ4[65]="windwalk"
set HW4[66]="berserk"
set HX4[66]="stomp"
set HY4[66]="passive"
set HZ4[66]="faeriefire"
set HW4[67]="shadowstrike"
set HX4[67]="blink"
set HY4[67]="fanofknives"
set HZ4[67]="carrionswarm"
set HW4[68]="berserk"
set HX4[68]="flamingarrows"
set HY4[68]="windwalk"
set HZ4[68]="innerfire"
set HW4[69]="carrionswarm"
set HX4[69]="passive"
set HY4[69]="passive"
set HZ4[69]="clusterrockets"
set HW4[70]="poisonarrows"
set HX4[70]="passive"
set HY4[70]="passive"
set HZ4[70]="shadowstrike"
set HW4[71]="fanofknives"
set HX4[71]="acidbomb"
set HY4[71]="passive"
set HZ4[71]="darkportal"
set HW4[72]="itemareaheal"
set HX4[72]="passive"
set HY4[72]="chainlightning"
set HZ4[72]="channel"
set HW4[73]="blizzard"
set HX4[73]="banish"
set HY4[73]="summongrizzly"
set HZ4[73]="drain"
set HW4[74]="acidbomb"
set HX4[74]="passive"
set HY4[74]="passive"
set HZ4[74]="stomp"
set HW4[75]="innerfire"
set HX4[75]="chainlightning"
set HY4[75]="sleep"
set HZ4[75]="magicleash"
set HW4[76]="fanofknives"
set HX4[76]="passive"
set HY4[76]="passive"
set HZ4[76]="thunderbolt"
set HW4[77]="channel"
set HX4[77]="immolation"
set HY4[77]="passive"
set HZ4[77]="magicleash"
set HW4[78]="channel"
set HX4[78]="passive"
set HY4[78]="passive"
set HZ4[78]="channel"
set HW4[79]="acidbomb"
set HX4[79]="windwalk"
set HY4[79]="passive"
set HZ4[79]="channel"
set HW4[80]="roar"
set HX4[80]="passive"
set HY4[80]="passive"
set HZ4[80]="stomp"
set HW4[81]="channel"
set HX4[81]="voodoo"
set HY4[81]="incinerate"
set HZ4[81]="charm"
set HW4[82]="channel"
set HX4[82]="creepheal"
set HY4[82]="passive"
set HZ4[82]="chainlightning"
set HW4[83]="soulburn"
set HX4[83]="passive"
set HY4[83]="passive"
set HZ4[83]="firebolt"
set HW4[84]="acidbomb"
set HX4[84]="chainlightning"
set HY4[84]="passive"
set HZ4[84]="windwalk"
set HW4[85]="acidbomb"
set HX4[85]="passive"
set HY4[85]="passive"
set HZ4[85]="ancestralspirit"
set HW4[86]="chainlightning"
set HX4[86]="immolation"
set HY4[86]="blizzard"
set HZ4[86]="tornado"
set HW4[87]="poisonarrows"
set HX4[87]="chainlightning"
set HY4[87]="passive"
set HZ4[87]="blizzard"
set HW4[88]="thunderbolt"
set HX4[88]="creepheal"
set HY4[88]="blizzard"
set HZ4[88]="inferno"
set HW4[89]="blizzard"
set HX4[89]="carrionscarabsoff"
set HY4[89]="passive"
set HZ4[89]="passive"
set HW4[90]="thunderbolt"
set HX4[90]="devourmagic"
set HY4[90]="darkportal"
set HZ4[90]="blizzard"
set HW4[91]="rainoffire"
set HX4[91]="flamestrike"
set HY4[91]="fanofknives"
set HZ4[91]="channel"
set HW4[92]="blizzard"
set HX4[92]="volcano"
set HY4[92]="acidbomb"
set HZ4[92]="metamorphosis"
set HW4[93]="blizzard"
set HX4[93]="thunderbolt"
set HY4[93]="bloodlust"
set HZ4[93]="curse"
set HW4[94]="roar"
set HX4[94]="fanofknives"
set HY4[94]="battleroar"
set HZ4[94]="howlofterror"
set HW4[95]="acidbomb"
set HX4[95]="thunderbolt"
set HY4[95]="channel"
set HZ4[95]="cannibalize"
set HW4[96]="blizzard"
set HX4[96]="thunderbolt"
set HY4[96]="metamorphosis"
set HZ4[96]="chainlightning"
set HW4[97]="channel"
set HX4[97]="blizzard"
set HY4[97]="berserk"
set HZ4[97]="acidbomb"
set HW4[98]="fanofknives"
set HX4[98]="channel"
set HY4[98]="passive"
set HZ4[98]="windwalk"
set HW4[99]="drain"
set HX4[99]="channel"
set HY4[99]="metamorphosis"
set HZ4[99]="cripple"
set HW4[100]="inferno"
set HX4[100]="summongrizzly"
set HY4[100]="chainlightning"
set HZ4[100]="immolation"
set HW4[101]=""
set HX4[101]=""
set HY4[101]=""
set HZ4[101]=""
set HM4[500]=1094004784
set HN4[500]=1094004785
set HO4[500]=1094004786
set HP4[500]=1094004787
set HW4[500]="humanbuild"
set HX4[500]="nightelfbuild"
set HY4[500]="orcbuild"
set HZ4[500]="undeadbuild"
set HR4[1]=1094070320
set HS4[1]=1094070321
set HT4[1]=1094070322
set HU4[1]=1094070323
set HR4[2]=1094070324
set HS4[2]=1094070325
set HT4[2]=1094070326
set HU4[2]=1094070327
set HR4[3]=1094070328
set HS4[3]=1094070329
set HT4[3]=1094070337
set HU4[3]=1094070338
set HR4[4]=1094070339
set HS4[4]=1094070340
set HU4[4]=1094070342
set HR4[5]=1094070343
set HS4[5]=1094070344
set HT4[5]=1094070345
set HU4[5]=1094070346
set HR4[6]=1094070347
set HT4[6]=1094070349
set HU4[6]=1094070350
set HR4[7]=1094070351
set HS4[7]=1094070352
set HT4[7]=1094070353
set HU4[7]=1094070354
set HR4[8]=1094070355
set HS4[8]=1094070356
set HT4[8]=1094070357
set HU4[8]=1094070358
set HR4[9]=1094070359
set HS4[9]=1094070360
set HT4[9]=1094070361
set HU4[9]=1094070362
set HR4[10]=1094070576
set HS4[10]=1094070577
set HR4[11]=1094070580
set HS4[11]=1094070581
set HT4[11]=1094070582
set HU4[11]=1094070583
set HR4[12]=1094070584
set HS4[12]=1094070585
set HT4[12]=1094070593
set HU4[12]=1094070594
set HR4[13]=1094070595
set HS4[13]=1094070596
set HT4[13]=1094070597
set HU4[13]=1094070598
set HR4[14]=1094070599
set HS4[14]=1094070600
set HT4[14]=1094070601
set HU4[14]=1094070602
set HR4[15]=1094070603
set HT4[15]=1094070605
set HU4[15]=1094070606
set HR4[16]=1094070607
set HS4[16]=1094070608
set HT4[16]=1094070609
set HR4[17]=1094070611
set HS4[17]=1094070612
set HT4[17]=1094070613
set HU4[17]=1094070614
set HR4[18]=1094070615
set HS4[18]=1094070616
set HT4[18]=1094070617
set HR4[19]=1094070832
set HS4[19]=1094070833
set HT4[19]=1094070834
set HU4[19]=1094070835
set HR4[20]=1094070836
set HS4[20]=1094070837
set HT4[20]=1094070838
set HU4[20]=1094070839
set HR4[21]=1094070840
set HS4[21]=1094070841
set HT4[21]=1094070849
set HU4[21]=1094070850
set HR4[22]=1094070851
set HS4[22]=1094070852
set HT4[22]=1094070853
set HR4[23]=1094070855
set HS4[23]=1094070856
set HT4[23]=1094070857
set HU4[23]=1094070858
set HR4[24]=1094070859
set HS4[24]=1094070860
set HT4[24]=1094070861
set HU4[24]=1094070862
set HR4[25]=1094070863
set HT4[25]=1094070865
set HU4[25]=1094070866
set HR4[26]=1094070867
set HS4[26]=1094070868
set HU4[26]=1094070870
set HS4[27]=1094070872
set HT4[27]=1094070873
set HU4[27]=1094070874
set HR4[28]=1094071088
set HS4[28]=1094071089
set HT4[28]=1094071090
set HU4[28]=1094071091
set HR4[29]=1094071092
set HS4[29]=1094071093
set HT4[29]=1094071094
set HU4[29]=1094071095
set HR4[30]=1094071096
set HS4[30]=1094071097
set HT4[30]=1094071105
set HU4[30]=1094071106
set HR4[31]=1094071107
set HS4[31]=1094071108
set HT4[31]=1094071109
set HU4[31]=1094071110
set HR4[32]=1094071111
set HS4[32]=1094071112
set HT4[32]=1094071113
set HU4[32]=1094071114
set HR4[33]=1094071115
set HS4[33]=1094071116
set HT4[33]=1094071117
set HR4[34]=1094071119
set HS4[34]=1094071120
set HT4[34]=1094071121
set HU4[34]=1094071122
set HR4[35]=1094071123
set HS4[35]=1094071124
set HT4[35]=1094071125
set HU4[35]=1094071126
set HR4[36]=1094071127
set HS4[36]=1094071128
set HT4[36]=1094071129
set HU4[36]=1094071130
set HR4[37]=1094071344
set HS4[37]=1094071345
set HT4[37]=1094071346
set HU4[37]=1094071347
set HR4[38]=1094071348
set HS4[38]=1094071349
set HT4[38]=1094071350
set HU4[38]=1094071351
set HR4[39]=1094071352
set HT4[39]=1094071361
set HR4[40]=1094071363
set HS4[40]=1094071364
set HT4[40]=1094071365
set HU4[40]=1094071366
set HR4[41]=1094071367
set HS4[41]=1094071368
set HT4[41]=1094071369
set HU4[41]=1094071370
set HR4[42]=1094071371
set HS4[42]=1094071372
set HT4[42]=1094071373
set HU4[42]=1094071374
set HR4[43]=1094071375
set HS4[43]=1094071376
set HU4[43]=1094071378
set HR4[44]=1094071379
set HS4[44]=1094071380
set HT4[44]=1094071381
set HU4[44]=1094071382
set HR4[45]=1094071383
set HS4[45]=1094071384
set HT4[45]=1094071385
set HU4[45]=1094071386
set HR4[46]=1094071600
set HT4[46]=1094071602
set HU4[46]=1094071603
set HR4[47]=1094071604
set HS4[47]=1094071605
set HT4[47]=1094071606
set HU4[47]=1094071607
set HR4[48]=1094071608
set HS4[48]=1094071609
set HT4[48]=1094071617
set HU4[48]=1094071618
set HR4[49]=1094071619
set HS4[49]=1094071620
set HU4[49]=1094071622
set HR4[50]=1094071623
set HS4[50]=1094071624
set HT4[50]=1094071625
set HU4[50]=1094071626
set HR4[51]=1094071627
set HS4[51]=1094071628
set HT4[51]=1094071629
set HU4[51]=1094071630
set HR4[52]=1094071631
set HS4[52]=1094071632
set HU4[52]=1094071634
set HR4[53]=1094071635
set HS4[53]=1094071636
set HT4[53]=1094071637
set HU4[53]=1094071638
set HR4[54]=1094071639
set HS4[54]=1094071640
set HT4[54]=1094071641
set HU4[54]=1094071642
set HR4[55]=1094071856
set HS4[55]=1094071857
set HU4[55]=1094071859
set HR4[56]=1094071860
set HU4[56]=1094071863
set HR4[57]=1094071864
set HS4[57]=1094071865
set HT4[57]=1094071873
set HU4[57]=1094071874
set HR4[58]=1094071875
set HS4[58]=1094071876
set HT4[58]=1094071877
set HR4[59]=1094071879
set HS4[59]=1094071880
set HT4[59]=1094071881
set HR4[60]=1094071883
set HS4[60]=1094071884
set HT4[60]=1094071885
set HU4[60]=1094071886
set HS4[61]=1094071888
set HT4[61]=1094071889
set HU4[61]=1094071890
set HR4[62]=1094071891
set HS4[62]=1094071892
set HT4[62]=1094071893
set HU4[62]=1094071894
set HR4[63]=1094071895
set HS4[63]=1094071896
set HT4[63]=1094071897
set HU4[63]=1094071898
set HS4[64]=1094072113
set HT4[64]=1094072114
set HU4[64]=1094072115
set HR4[65]=1094072116
set HS4[65]=1094072117
set HT4[65]=1094072118
set HU4[65]=1094072119
set HR4[66]=1094072120
set HS4[66]=1094072121
set HT4[66]=1094072129
set HU4[66]=1094072130
set HR4[67]=1094072131
set HS4[67]=1094072132
set HT4[67]=1094072133
set HU4[67]=1094072134
set HR4[68]=1094072135
set HS4[68]=1094072136
set HT4[68]=1094072137
set HU4[68]=1094072138
set HR4[69]=1094072139
set HS4[69]=1094072140
set HT4[69]=1094072141
set HU4[69]=1094072142
set HR4[70]=1094072143
set HS4[70]=1094072144
set HT4[70]=1094072145
set HU4[70]=1094072146
set HR4[71]=1094072147
set HS4[71]=1094072148
set HT4[71]=1094072149
set HU4[71]=1094072150
set HS4[72]=1094072152
set HT4[72]=1094072153
set HR4[73]=1094072368
set HS4[73]=1094072369
set HT4[73]=1094072370
set HU4[73]=1094072371
set HR4[74]=1094072372
set HS4[74]=1094072373
set HU4[74]=1094072375
set HR4[75]=1094072376
set HS4[75]=1094072377
set HT4[75]=1094072385
set HU4[75]=1094072386
set HR4[76]=1094072387
set HS4[76]=1094072388
set HT4[76]=1094072389
set HU4[76]=1094072390
set HR4[77]=1094072391
set HS4[77]=1094072392
set HT4[77]=1094072393
set HU4[77]=1094072394
set HS4[78]=1094072396
set HT4[78]=1094072397
set HU4[78]=1094072398
set HR4[79]=1094072399
set HS4[79]=1094072400
set HT4[79]=1094072401
set HU4[79]=1094072402
set HR4[81]=1094072407
set HS4[81]=1094072408
set HT4[81]=1094072409
set HU4[81]=1094072410
set HR4[82]=1094072624
set HS4[82]=1094072625
set HT4[82]=1094072626
set HU4[82]=1094072627
set HR4[83]=1094072628
set HS4[83]=1094072629
set HT4[83]=1094072630
set HU4[83]=1094072631
set HR4[84]=1094072632
set HS4[84]=1094072633
set HT4[84]=1094072641
set HU4[84]=1094072642
set HR4[85]=1094072643
set HS4[85]=1094072644
set HT4[85]=1094072645
set HU4[85]=1094072646
set HR4[86]=1094072647
set HS4[86]=1094072648
set HT4[86]=1094072649
set HU4[86]=1094072650
set HR4[87]=1094072651
set HS4[87]=1094072652
set HT4[87]=1094072653
set HU4[87]=1094072654
set HR4[88]=1094072655
set HS4[88]=1094072656
set HT4[88]=1094072657
set HU4[88]=1094072658
set HR4[89]=1094072659
set HT4[89]=1094072661
set HR4[90]=1094072663
set HS4[90]=1094072664
set HT4[90]=1094072665
set HU4[90]=1094072666
set HR4[91]=1094074672
set HS4[91]=1094074673
set HT4[91]=1094074674
set HU4[91]=1094074675
set HR4[92]=1094074676
set HS4[92]=1094074677
set HT4[92]=1094074678
set HR4[93]=1094074680
set HS4[93]=1094074681
set HT4[93]=1094074689
set HU4[93]=1094074690
set HR4[95]=1094074695
set HS4[95]=1094074696
set HT4[95]=1094074697
set HU4[95]=1094074698
set HR4[96]=1094074699
set HS4[96]=1094074700
set HU4[96]=1094074702
set HR4[97]=1094074703
set HS4[97]=1094074704
set HT4[97]=1094074705
set HU4[97]=1094074706
set HR4[98]=1094074707
set HS4[98]=1094074708
set HT4[98]=1094074709
set HU4[98]=1094074710
set HV4[1]=1094135856
set HV4[2]=1094135857
set HV4[5]=1094135858
set HV4[8]=1094135897
set HV4[11]=1094135859
set HV4[12]=1094135860
set HV4[20]=1094135861
set HV4[23]=1094135862
set HV4[24]=1094135863
set HV4[25]=1094135864
set HV4[28]=1094135865
set HV4[30]=1094135873
set HV4[38]=1094135874
set HV4[42]=1094135875
set HV4[45]=1094135876
set HV4[47]=1094135877
set HV4[50]=1094135878
set HV4[51]=1094135879
set HV4[53]=1094135880
set HV4[54]=1094135881
set HV4[62]=1094135882
set HV4[64]=1094135883
set HV4[67]=1094135884
set HV4[69]=1094135885
set HV4[73]=1094135886
set HV4[75]=1094135887
set HV4[76]=1094135888
set HV4[77]=1094135889
set HV4[78]=1094135890
set HV4[81]=1094135891
set HV4[82]=1094135896
set HV4[84]=1094135892
set HV4[86]=1094135893
set HV4[90]=1094135894
endfunction
function E5 takes nothing returns nothing
set HK4[FV]=450
set HK4[JV]=500
set HK4[MV]=450
set HK4[NV]=185
set HK4[OV]=450
set HK4[QV]=1000
set HK4[SV]=450
set HK4[TV]=1200
set HK4[UV]=550
set HK4[XV]=1400
set HK4[AV]=2400
set HK4[BV]=3300
set HK4[CV]=1000
set HK4[LV]=150
set HK4[EW]=700
set HK4[HW]=700
set HK4[NW]=950
set HK4[OW]=2100
set HK4[QW]=53
set HK4[RW]=2150
set HK4[TW]=2150
set HK4[UW]=150
set HK4[VW]=900
set HK4[YW]=3200
set HK4[ZW]=1600
set HK4[GX]=2700
set HK4[NX]=1000
set HK4[RX]=550
set HK4[SX]=1400
set HK4[WX]=1200
set HK4[YX]=900
set HK4[ZX]=875
set HK4[AX]=175
set HK4[GY]=350
set HK4[HY]=450
set HK4[SY]=3800
set HK4[UY]=150
set HK4[ZY]=325
set HK4[DZ]=1000
set HK4[EZ]=250
set HK4[HZ]=250
set HK4[NZ]=2100
set HK4[OZ]=1100
set HK4[RZ]=875
set HK4[UZ]=1500
set HK4[XZ]=600
set HK4[AZ]=600
set HK4[BZ]=600
set HK4[CZ]=600
set HK4[IA]=600
set HK4[JA]=600
set HK4[NA]=600
set HK4[QA]=600
set HK4[WA]=600
set HK4[YA]=600
set HK4[ZA]=200
set HK4[BA]=225
set HK4[GB]=225
set HK4[JB]=1800
set HK4[OC]=50
set HK4[PC]=0
set HK4[QC]=100
set HK4[TC]=90
set HK4[VC]=150
set HK4[WC]=200
set HK4[XC]=135
set HK4[YC]=135
set HK4[ZC]=150
set HK4[AC]=1000
set HK4[BC]=0
set HK4[CC]=180
set HK4[Y3]=1750
set HK4[Z3]=603
set HK4[B3]=803
set HK4[C3]=500
set HK4[E6]=500
set HK4[F6]=2500
set HK4[G6]=1450
set HK4[H6]=1450
set HK4[N6]=1450
set HK4[S6]=1900
set HK4[W6]=1675
set HK4[A6]=525
set HK4[DL]=485
set HK4[HL]=480
set HK4[OL]=2050
set HK4[RL]=2050
set HK4[WL]=2950
set HK4[ZL]=2950
set HK4[AL]=2200
set HK4[LL]=2700
set HK4[D1]=3300
set HK4[E1]=4150
set HK4[F1]=3300
set HK4[H1]=4150
set HK4[J1]=1850
set HK4[O1]=1850
set HK4[P1]=1900
set HK4[Q1]=2800
set HK4[R1]=3300
set HK4[T1]=2306
set HK4[U1]=4100
set HK4[V1]=4100
set HK4[X1]=4350
set HK4[A1]=2150
set HK4[D0]=3900
set HK4[E0]=3900
set HK4[J0]=3900
set HK4[N0]=3900
set HK4[O0]=3900
set HK4[R0]=3900
set HK4[X0]=0
set HK4[Y0]=5050
set HK4[B0]=5050
set HK4[C0]=3000
set HK4[F5]=2805
set HK4[G5]=4105
set HK4[J5]=5405
set HK4[M5]=6705
set HK4[N5]=8005
set HK4[R5]=2700
set HK4[S5]=3950
set HK4[T5]=5200
set HK4[W5]=5175
set HK4[A5]=5175
set HK4[B5]=6200
set HK4[L5]=5550
set HK4[E2]=5400
set HK4[F2]=5400
set HK4[H2]=5150
set HK4[P2]=5150
set HK4[R2]=5500
set HK4[T2]=6150
set HK4[W2]=5750
set HK4[X2]=5750
set HK4[Z2]=6000
set HK4[D44]=5300
set HK4[D74]=5675
set HK4[D84]=2225
set HK4[D94]=2225
set HK4[DE4]=5400
set HK4[DF4]=370
set HK4[DG4]=2050
set HK4[DH4]=5350
set HK4[DI4]=5050
set HK4[DJ4]=2125
set HK4[DK4]=2600
set HK4[DM4]=2600
set HK4[DN4]=2600
set HK4[DO4]=2600
set HK4[DP4]=4700
set HK4[DQ4]=4700
set HK4[DR4]=4125
set HK4[DS4]=1400
set HK4[DT4]=509
set HK4[DU4]=2350
set HK4[DV4]=3628
set HK4[DW4]=550
set HK4[DX4]=550
set HK4[DY4]=875
set HK4[DA4]=1600
set HK4[DB4]=200
set HK4[DC4]=200
set HK4[D34]=2000
set HK4[D64]=0
set HK4[DL4]=1400
set HK4[D04]=190
set HK4[D54]=150
set HK4[D24]=155
set HK4[D_4]=600
set HK4[E44]=600
set HK4[E74]=1000
set HK4[E84]=800
set HK4[E94]=850
set HK4[ED4]=1000
set HK4[EE4]=500
set HK4[EF4]=900
set HK4[EG4]=0
set HK4[EH4]=900
set HK4[EI4]=500
set HK4[EJ4]=1300
set HK4[EK4]=900
set HK4[EM4]=1000
set HK4[EN4]=1300
set HK4[EO4]=1250
set HK4[EP4]=1325
set HK4[EQ4]=1000
set HK4[ER4]=1350
set HK4[ES4]=1200
set HK4[ET4]=1100
set HK4[EU4]=0
set HK4[EV4]=1875
set HK4[EX4]=220
set HK4[EY4]=300
set HK4[EZ4]=1300
set HK4[EA4]=700
set HK4[EB4]=600
set HK4[EC4]=150
set HK4[E34]=300
set HK4[E64]=900
set HK4[EL4]=600
set HK4[E14]=250
set HK4[FD4]=1250
set HK4[FE4]=775
set HK4[E_4]=275
set HK4[F44]=275
set HK4[F74]=1500
set HK4[QB]=1500
set HK4[RB]=1500
set HK4[VB]=1725
set HK4[WB]=1725
set HK4[H3]=100
set HK4[M3]=1075
set HK4[F94]=200
set HK4[F84]=750
set HK4[N3]=2650
set HK4[R3]=3950
set HK4[FC]=3100
set HK4[LB]=1025
set HK4[EC]=1025
set HK4[U3]=6750
set HK4[JC]=985
set HK4[NC]=985
set HK4[W3]=1600
set HK4[FS4]=4200
set HK4[FT4]=4200
set HK4[FU4]=4200
set HK4[FV4]=4200
set HK4[FW4]=4200
set HK4[FX4]=4200
set HK4[FY4]=4200
set HK4[FZ4]=4200
set HK4[FA4]=4200
set HK4[FB4]=4200
set HK4[F34]=4200
set HK4[F64]=4200
set HK4[FL4]=4200
set HK4[F14]=4200
set HK4[F04]=4200
set HK4[F54]=4200
set HK4[F24]=4200
set HK4[F_4]=4200
set HK4[G44]=4200
set HK4[G74]=4200
set HK4[G84]=4200
set HK4[G94]=4200
set HK4[GD4]=4200
set HK4[GE4]=4200
set HK4[GG4]=4200
set HK4[GH4]=4200
set HK4[GI4]=4200
set HK4[GJ4]=4200
set HK4[GK4]=4200
set HK4[GM4]=4200
set HK4[GN4]=4200
set HK4[GO4]=4200
set HK4[GP4]=4200
set HK4[GQ4]=4200
set HK4[GR4]=4200
set HK4[GS4]=4200
set HK4[GT4]=4200
set HK4[GU4]=4200
set HK4[FC4]=4200
set HK4[GV4]=4200
set HK4[GW4]=4200
set HK4[GY4]=4200
set HK4[GZ4]=4200
set HK4[GA4]=4200
set HK4[GB4]=4200
set HK4[G34]=4200
set HK4[G64]=4200
set HK4[GL4]=4200
set HK4[G14]=4200
set HK4[G04]=4200
set HK4[G54]=4200
set HK4[G24]=4200
set HK4[GX4]=4200
endfunction
function is takes unit it returns boolean
return((GetUnitCurrentOrder(it)<852000)and(Bz>hq[832+GetPlayerId(GetOwningPlayer(it))]))
endfunction
function R37 takes unit R67 returns boolean
local integer RL7=GetUnitCurrentOrder(R67)
return(RL7==0)or(RL7==851973)or(RL7==851975)or(RL7==851987)or(RL7==851993)
endfunction
function iU takes unit it returns boolean
local integer X5=GetUnitCurrentOrder(it)
return((X5<852000)and(not LoadBoolean(L7,GetHandleId(it),1145131595))and((X5!=851983)or(not GZ[48+GetPlayerId(GetOwningPlayer(it))]))and(Bz>hq[832+GetPlayerId(GetOwningPlayer(it))])and(GetUnitAbilityLevel(it,1110459975)==0))
endfunction
function iy takes unit it returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
return((h4[O5]==null)and((h4[160+O5]==null)or(GetWidgetLife(h4[160+O5])<=.405)or(not IsUnitInRange(h4[160+O5],it,1000.)))and(not G0[144+O5]))
endfunction
function R17 takes unit it returns boolean
local integer X5=GetUnitCurrentOrder(it)
local integer i1=GetUnitTypeId(it)
local integer R07=GetHandleId(it)
if hq[832+GetPlayerId(GetOwningPlayer(it))]>Bz then
return false
elseif((X5==851973)or(GetWidgetLife(it)<=.405)or(IsUnitPaused(it)))then
return false
elseif(X5>852007)and(X5<852014)and((GetItemTypeId(UnitItemInSlot(it,X5-852007))==ZU[YC])or(GetItemTypeId(UnitItemInSlot(it,X5-852007))==ZU[F6]))then
return false
elseif((X5<852008)and((i1!=1328558154)or((LoadBoolean(L7,R07,1145131595)==false))))then
return true
elseif(GetUnitAbilityLevel(it,1110459975)!=0)then
return false
endif
return((X5>852013)and(X5!=852480)and(X5!=852525)and(X5!=852487)and(X5!=852597)and((i1!=1160786243)or(X5!=852089))and((i1!=1429221451)or(X5!=852581))and((X5!=852600)or((i1!=1214931305)and(i1!=1316252014)and(i1!=1214409837)))and(((i1!=1164277353)and(i1!=1164277357)and(i1!=1160786518)and(i1!=1160786519)and(i1!=1160786517))or(X5!=852189))and((i1!=1311780946)or(X5!=852238))and((i1!=1311786311)or(X5!=852662))and((i1!=1328558389)or(X5!=852581)))
endfunction
function R57 takes unit it returns boolean
local integer X5=GetUnitCurrentOrder(it)
local integer i1=GetUnitTypeId(it)
local integer R07=GetHandleId(it)
if hq[832+GetPlayerId(GetOwningPlayer(it))]>Bz then
return false
elseif((X5==851973)or(GetWidgetLife(it)<=.405)or(IsUnitPaused(it)))then
return false
elseif(X5>852007)and(X5<852014)and((GetItemTypeId(UnitItemInSlot(it,X5-852007))==ZU[YC])or(GetItemTypeId(UnitItemInSlot(it,X5-852007))==ZU[F6]))then
return false
elseif((X5<852008)and((i1!=1328558154)or((LoadBoolean(L7,R07,1145131595)==false))))then
return true
elseif(X5==852600)and((i1==1212363833))then
return false
elseif(GetUnitAbilityLevel(it,1110459975)!=0)then
return false
endif
return((X5>852013)and(X5!=852480)and(X5!=852525)and(X5!=852487)and(X5!=852597)and((i1!=1160786243)or(X5!=852089))and((i1!=1315334514)or(X5!=852127))and((i1!=1429221451)or(X5!=852581))and((X5!=852553)or((i1!=1211117641)and(i1!=1211117642)))and((X5!=852600)or((i1!=1214931305)and(i1!=1316252014)and(i1!=1214409837)))and(((i1!=1164277353)and(i1!=1164277357)and(i1!=1160786518)and(i1!=1160786519)and(i1!=1160786517))or(X5!=852189))and((i1!=1311780946)or(X5!=852238))and((i1!=1311786311)or(X5!=852662))and((i1!=1328558389)or(X5!=852581))and((i1!=1429221451)or(X5!=852503))and((i1!=1311780930)or(X5!=852514))and(((i1==1211119192)or(i1==1211119193)or(i1==1211119191))or(X5!=852248)))
endfunction
function i2 takes unit it returns boolean
local integer X5=GetUnitCurrentOrder(it)
local integer i1=GetUnitTypeId(it)
if(X5<852008)then
return false
endif
return((X5<=852013)or(X5==852480)or(X5==852487)or(X5==852597)or((i1==1328558154)and LoadBoolean(L7,GetHandleId(it),1145131595))or((i1==1160786243)and(X5==852089))or((i1==1315334514)and(X5==852127))or((i1==1429221451)and(X5==852581))or(((i1==1214931305)or(i1==1316252014)or(i1==1214409837))and(X5==852600)))
endfunction
function R27 takes integer O5 returns player
if((O5>0)and(O5<6))then
return Z7[O5]
elseif((O5>5)and(O5<11))then
return A7[O5-5]
endif
return null
endfunction
function R_7 takes string O5 returns player
if O5=="0" then
set bj_forLoopAIndex=10
else
set bj_forLoopAIndex=S2I(O5)
endif
if((bj_forLoopAIndex>0)and(bj_forLoopAIndex<6))then
return Z7[bj_forLoopAIndex]
elseif((bj_forLoopAIndex>5)and(bj_forLoopAIndex<11))then
return A7[bj_forLoopAIndex-5]
endif
return null
endfunction
function i5 takes player pl returns integer
local integer O5=1
loop
exitwhen O5>5
if(pl==Z7[O5])then
return O5
elseif(pl==A7[O5])then
return O5+5
endif
set O5=O5+1
endloop
return 0
endfunction
function S47 takes unit PF7 returns boolean
if IsUnitAlly(PF7,Z7[0])then
return IsUnitVisible(PF7,Z74)
else
return IsUnitVisible(PF7,Z44)
endif
return false
endfunction
function S77 takes unit PF7 returns boolean
if IsUnitAlly(PF7,Z7[0])then
return IsVisibleToPlayer(GetUnitX(PF7),GetUnitY(PF7),Z74)
else
return IsVisibleToPlayer(GetUnitX(PF7),GetUnitY(PF7),Z44)
endif
return false
endfunction
function S87 takes unit it returns boolean
return(GetWidgetLife(it)>.405 and((not IsUnitType(it,UNIT_TYPE_HERO))or(not IG4[GetPlayerId(GetOwningPlayer(it))])))
endfunction
function S97 takes unit SD7,unit PF7 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(PF7))
return((IsUnitType(SD7,UNIT_TYPE_HERO))and(((R2I(GetWidgetLife(SD7))<(300+(GetHeroLevel(SD7)*30)))and(GetUnitLifePercent(SD7)<40.))or((hq[624+O5]>Bz and h4[O5]==SD7)))and(S87(SD7)))
endfunction
function SE7 takes unit it returns boolean
return((IsUnitType(it,UNIT_TYPE_HERO))and(R2I(GetWidgetLife(it))<(300+(GetHeroLevel(it)*30)))and(GetUnitLifePercent(it)<40.)and(S87(it)))
endfunction
function SF7 takes integer O5 returns boolean
return(hq[624+O5]>Bz and h4[O5]!=null)and(not SE7(M7[O5]))
endfunction
function SG7 takes unit it returns boolean
return((GetUnitAbilityLevel(it,1110459472)>0)or(GetUnitAbilityLevel(it,1093687122)>0)or(GetUnitAbilityLevel(it,1110454856)>0))
endfunction
function SH7 takes unit it returns boolean
return((IsUnitType(it,UNIT_TYPE_HERO))and(R2I(GetWidgetLife(it))<(600+(GetHeroLevel(it)*30)))and(GetWidgetLife(it)>.405))
endfunction
function SI7 takes unit it,unit IB returns boolean
return((IsUnitType(it,UNIT_TYPE_HERO))and(R2I(GetWidgetLife(it))<(300+(GetHeroLevel(it)*30)))and(GetUnitLifePercent(it)<40.)and(GetWidgetLife(it)>.405)and(GetUnitState(IB,UNIT_STATE_LIFE)>(GetUnitState(it,UNIT_STATE_LIFE)-(10.*GetHeroLevel(IB)))))
endfunction
function IC takes integer O5 returns boolean
return((V[O5]-3)>=T[O5])
endfunction
function Id takes integer O5 returns boolean
return((h4[O5]!=null)and(SI7(h4[O5],M7[O5])))
endfunction
function Ie takes rect r,boolexpr Ig returns unit
call GroupClear(ig)
call GroupEnumUnitsInRect(ig,r,Ig)
set bj_groupRandomConsidered=0
set bj_groupRandomCurrentPick=null
call ForGroup(ig,function GroupPickRandomUnitEnum)
call DestroyBoolExpr(Ig)
return bj_groupRandomCurrentPick
endfunction
function SJ7 takes nothing returns nothing
set bj_groupCountUnits=bj_groupCountUnits+1
set MC7=MC7+GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)
endfunction
function IH takes player pl,boolexpr Ig returns integer
call GroupClear(ig)
call GroupEnumUnitsOfPlayer(ig,pl,Ig)
set bj_groupCountUnits=0
call ForGroup(ig,function CountUnitsInGroupEnum)
call DestroyBoolExpr(Ig)
return bj_groupCountUnits
endfunction
function SK7 takes real Im,location b5,boolexpr Ig returns unit
set bj_groupRandomConsidered=0
set bj_groupRandomCurrentPick=null
call GroupClear(H9)
call GroupEnumUnitsInRangeOfLoc(H9,b5,Im,Ig)
call ForGroup(H9,function GroupPickRandomUnitEnum)
call DestroyBoolExpr(Ig)
return bj_groupRandomCurrentPick
endfunction
function SM7 takes real Im,unit PF7,boolexpr Ig returns unit
set bj_groupRandomConsidered=0
set bj_groupRandomCurrentPick=null
call GroupClear(H9)
call GroupEnumUnitsInRange(H9,GetUnitX(PF7),GetUnitY(PF7),Im,Ig)
call ForGroup(H9,function GroupPickRandomUnitEnum)
call DestroyBoolExpr(Ig)
return bj_groupRandomCurrentPick
endfunction
function SN7 takes real Im,location b5,boolexpr Ig returns unit
call GroupClear(H9)
call GroupEnumUnitsInRangeOfLoc(H9,b5,Im,Ig)
call DestroyBoolExpr(Ig)
return FirstOfGroup(H9)
endfunction
function SO7 takes real Im,location b5,boolexpr Ig returns integer
call GroupClear(H8)
call GroupEnumUnitsInRangeOfLoc(H8,b5,Im,Ig)
set bj_groupCountUnits=0
call ForGroup(H8,function CountUnitsInGroupEnum)
call DestroyBoolExpr(Ig)
return bj_groupCountUnits
endfunction
function SP7 takes real Im,unit it,boolexpr Ig returns integer
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(it),GetUnitY(it),Im,Ig)
set bj_groupCountUnits=0
set MC7=0.
call ForGroup(H8,function SJ7)
call DestroyBoolExpr(Ig)
return bj_groupCountUnits
endfunction
function IV takes real x,real y,real IW,boolexpr Ig,code IX returns nothing
call GroupClear(iF)
call GroupEnumUnitsInRange(iF,x,y,IW,Ig)
call ForGroup(iF,IX)
call DestroyBoolExpr(Ig)
endfunction
function SQ7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function SR7 takes unit it,integer Iz returns boolean
local integer I8=0
local item ja
set bj_lastCreatedItem=null
loop
set ja=UnitItemInSlot(it,I8)
if((ja!=null)and(GetItemTypeId(ja)==Iz))then
set bj_lastCreatedItem=ja
set ja=null
return true
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set ja=null
return false
endfunction
function SS7 takes unit it returns boolean
local integer I8=0
loop
if(UnitItemInSlot(it,I8)==null)then
return false
endif
set I8=I8+1
exitwhen(I8>=bj_MAX_INVENTORY)
endloop
return true
endfunction
function ST7 takes unit it returns boolean
local integer I8=0
loop
if(UnitItemInSlot(it,I8)!=null)then
return false
endif
set I8=I8+1
exitwhen(I8>=bj_MAX_INVENTORY)
endloop
return true
endfunction
function SU7 takes unit S4,integer n5,item Z4 returns item
local integer D5
local item f5
set D5=0
loop
exitwhen D5>5
set f5=UnitItemInSlot(S4,D5)
if f5!=null and f5!=Z4 and GetItemTypeId(f5)==n5 then
set f5=null
return UnitItemInSlot(S4,D5)
endif
set D5=D5+1
endloop
set f5=null
return null
endfunction
function SV7 takes unit S4,integer n5 returns item
local integer D5
local item f5
set D5=0
loop
exitwhen D5>5
set f5=UnitItemInSlot(S4,D5)
if(f5!=null)and(GetItemTypeId(f5)==n5)then
set f5=null
return UnitItemInSlot(S4,D5)
endif
set D5=D5+1
endloop
set f5=null
return null
endfunction
function SW7 takes integer i1 returns boolean
return(i1==ZU[D0]or i1==ZU[E0]or i1==ZU[J0]or i1==ZU[N0]or i1==ZU[O0]or i1==ZU[R0])
endfunction
function SX7 takes integer i1,integer Iz,boolean SY7 returns boolean
if i1==Iz then
return true
elseif(i1==DW4 or i1==DX4)and(Iz==DW4 or Iz==DX4)then
return true
elseif(i1==EZ or i1==HZ)and(Iz==EZ or Iz==HZ)then
return true
elseif(i1==BA or i1==GB)and(Iz==BA or Iz==GB)then
return true
elseif(i1==WL or i1==ZL)and(Iz==WL or Iz==ZL)then
return true
elseif(i1==QB or i1==RB)and(Iz==QB or Iz==RB)then
return true
elseif(i1==Y0 or i1==B0)and(Iz==Y0 or Iz==B0)then
return true
elseif(i1==W2 or i1==X2)and(Iz==W2 or Iz==X2)then
return true
elseif(i1==D84 or i1==D94)and(Iz==D84 or Iz==D94)then
return true
elseif(i1==XZ or i1==AZ or i1==BZ or i1==CZ or i1==IA or i1==JA or i1==NA or i1==QA or i1==WA or i1==YA)and(Iz==XZ or Iz==AZ or Iz==BZ or Iz==CZ or Iz==IA or Iz==JA or Iz==NA or Iz==QA or Iz==WA or Iz==YA)then
return true
elseif(i1==VB or i1==WB)and(Iz==VB or Iz==WB)then
return true
elseif(i1==G6 or i1==H6 or i1==N6)and(Iz==G6 or Iz==H6 or Iz==N6)then
return true
elseif(i1==DY4 or i1==DZ4)and(Iz==DY4 or Iz==DZ4)then
return true
elseif SY7 and((i1==D1 or i1==F1 or i1==E1 or i1==H1)and(Iz==D1 or Iz==F1 or Iz==E1 or Iz==H1))then
return true
elseif(i1==D1 or i1==F1)and(Iz==D1 or Iz==F1)then
return true
elseif(i1==E1 or i1==H1)and(Iz==E1 or Iz==H1)then
return true
elseif SY7 and((i1==F5 or i1==G5 or i1==J5 or i1==M5 or i1==N5)and(Iz==F5 or Iz==G5 or Iz==J5 or Iz==M5 or Iz==N5))then
return true
elseif SY7 and((i1==R5 or i1==S5 or i1==T5)and(Iz==R5 or Iz==S5 or Iz==T5))then
return true
elseif(i1==D0 or i1==E0 or i1==J0 or i1==N0 or i1==O0 or i1==R0)and(Iz==D0 or Iz==E0 or Iz==J0 or Iz==N0 or Iz==O0 or Iz==R0)then
return true
elseif(i1==C3 or i1==E6)and(Iz==C3 or Iz==E6)then
return true
elseif(i1==JC or i1==NC)and(Iz==JC or Iz==NC)then
return true
elseif(i1==H2 or i1==P2)and(Iz==H2 or Iz==P2)then
return true
elseif(i1==E2 or i1==F2)and(Iz==E2 or Iz==F2)then
return true
elseif(i1==R2 or i1==S2)and(Iz==R2 or Iz==S2)then
return true
elseif(i1==DK4 or i1==DM4 or i1==DN4 or i1==DO4)and(Iz==DK4 or Iz==DM4 or Iz==DN4 or Iz==DO4)then
return true
elseif(i1==XC or i1==YC)and(Iz==XC or Iz==YC)then
return true
elseif(i1==W5 or i1==A5)and(Iz==W5 or Iz==A5)then
return true
elseif(i1==B5 or i1==C5)and(Iz==B5 or Iz==C5)then
return true
elseif(i1==J1 or i1==O1)and(Iz==J1 or Iz==O1)then
return true
elseif(i1==EW or i1==HW)and(Iz==EW or Iz==HW)then
return true
elseif(i1==S6 or i1==V6)and(Iz==S6 or Iz==V6)then
return true
elseif(i1==DP4 or i1==DQ4)and(Iz==DP4 or Iz==DQ4)then
return true
endif
return false
endfunction
function SZ7 takes unit it,integer Iz returns boolean
local integer i=0
local item ja
local integer i1
local boolean SA7=false
set i=0
loop
exitwhen i>EV
if SU[i]==Iz or ZU[i]==Iz or BU[i]==Iz then
set Iz=i
exitwhen true
endif
set i=i+1
endloop
if i>EV then
return false
endif
set i=0
set bj_lastCreatedItem=null
loop
set ja=UnitItemInSlot(it,i)
if ja!=null then
set i1=RY7(ja)
if SX7(i1,Iz,true)then
set bj_lastCreatedItem=ja
set ja=null
return true
endif
endif
set i=i+1
exitwhen i>=bj_MAX_INVENTORY
endloop
set ja=null
return false
endfunction
function SB7 takes unit it returns boolean
local integer I8=0
local item ja
set bj_lastCreatedItem=null
loop
set ja=UnitItemInSlot(it,I8)
if((ja!=null)and(GetItemTypeId(ja)==ZU[DT4]or GetItemTypeId(ja)==ZU[ZA]))then
set bj_lastCreatedItem=ja
set ja=null
return true
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set ja=null
return false
endfunction
function SC7 takes unit j5,integer Iz returns boolean
local boolean jR=false
local integer O5
if(SZ7(j5,Iz))then
set O5=GetPlayerId(GetOwningPlayer(j5))
set GZ[224+O5]=true
set jR=UnitUseItem(j5,bj_lastCreatedItem)
set GZ[224+O5]=false
endif
return jR
endfunction
function S37 takes unit S67,unit SL7 returns boolean
local boolean S17=false
local integer O5=GetPlayerId(GetOwningPlayer(S67))
if((TL4)and(not T24[O5])and(GetUnitTypeId(S67)!=1211117642)and(not IsUnitIllusion(S67))and(Bz>T54[O5])and(SL7!=null)and(GetUnitLevel(S67)>5)and(GetUnitState(S67,UNIT_STATE_MANA)>300)and(not SR7(S67,ZU[F5]))and(not SR7(S67,ZU[G5]))and(not SR7(S67,ZU[J5]))and(not SR7(S67,ZU[M5]))and(not SR7(S67,ZU[N5]))and(GetRandomInt(1,4)!=4))then
if(GetUnitLevel(S67)>12 and GetUnitLevel(S67)<20)then
set UF4=GetRandomInt(3,5)
elseif(GetUnitLevel(S67)>19 and GetUnitLevel(S67)<25)then
set UF4=GetRandomInt(4,5)
elseif(GetUnitLevel(S67)>24)then
set UF4=5
else
set UF4=GetRandomInt(1,5)
endif
set U44[O5]=CreateItem(T14[UF4],9999,-9999)
set T24[O5]=false
if(U44[O5]!=null)then
set T_4[O5]=UnitItemInSlot(S67,5)
if(T_4[O5]!=null)then
call DisableTrigger(H94)
call UnitRemoveItem(S67,T_4[O5])
call SetItemPosition(T_4[O5],9999,-9999)
call EnableTrigger(H94)
endif
call R47(0.2)
set T24[O5]=(UnitAddItem(S67,U44[O5]))
call SetItemPlayer(U44[O5],GetOwningPlayer(S67),true)
endif
if(T24[O5])then
else
if(T_4[O5]!=null)then
call R47(0.2)
call UnitAddItem(S67,T_4[O5])
call RX7(U44[O5])
endif
set T24[O5]=false
set U44[O5]=null
set T_4[O5]=null
endif
else
if((SR7(S67,ZU[N5]))and(not IsUnitIllusion(SL7))and(IsUnitInRange(S67,SL7,800.))and((GetUnitState(SL7,UNIT_STATE_LIFE)>10.)and(GetUnitState(SL7,UNIT_STATE_LIFE)<650.)))then
set S17=(SL7!=null)and(UnitUseItemTarget(S67,bj_lastCreatedItem,SL7))
elseif((SR7(S67,ZU[M5]))and(not IsUnitIllusion(SL7))and(IsUnitInRange(S67,SL7,750.))and((GetUnitState(SL7,UNIT_STATE_LIFE)>10.)and(GetUnitState(SL7,UNIT_STATE_LIFE)<550.)))then
set S17=(SL7!=null)and(UnitUseItemTarget(S67,bj_lastCreatedItem,SL7))
elseif((SR7(S67,ZU[J5]))and(not IsUnitIllusion(SL7))and(IsUnitInRange(S67,SL7,700.))and((GetUnitState(SL7,UNIT_STATE_LIFE)>10.)and(GetUnitState(SL7,UNIT_STATE_LIFE)<450.)))then
set S17=(SL7!=null)and(UnitUseItemTarget(S67,bj_lastCreatedItem,SL7))
elseif((SR7(S67,ZU[G5]))and(not IsUnitIllusion(SL7))and(IsUnitInRange(S67,SL7,650.))and((GetUnitState(SL7,UNIT_STATE_LIFE)>10.)and(GetUnitState(SL7,UNIT_STATE_LIFE)<350.)))then
set S17=(SL7!=null)and(UnitUseItemTarget(S67,bj_lastCreatedItem,SL7))
elseif((SR7(S67,ZU[F5]))and(not IsUnitIllusion(SL7))and(IsUnitInRange(S67,SL7,600.))and((GetUnitState(SL7,UNIT_STATE_LIFE)>10.)and(GetUnitState(SL7,UNIT_STATE_LIFE)<250.)))then
set S17=(SL7!=null)and(UnitUseItemTarget(S67,bj_lastCreatedItem,SL7))
endif
endif
return S17
endfunction
function ju takes group jU,code IX returns nothing
call ForGroup(jU,IX)
call DestroyGroup(jU)
endfunction
function S07 takes widget it returns location
call MoveLocation(HA,GetWidgetX(it),GetWidgetY(it))
return HA
endfunction
function S57 takes unit u,integer X5,unit m5 returns boolean
local integer j=0
local integer O5=0
if(h7[GetUnitUserData(m5)]!=m5)or(X5!=851983 and X5!=851986 and X5!=851971)then
return IssuePointOrderById(u,X5,GetUnitX(m5),GetUnitY(m5))
endif
set j=GetUnitUserData(m5)
if j<=0 or j>=100 then
return IssuePointOrderById(u,X5,GetUnitX(m5),GetUnitY(m5))
else
set ET7=PO7(u,m5)-90
set O5=GetPlayerId(GetOwningPlayer(u))
return IssuePointOrderById(u,X5,GetUnitX(m5)+hq[864+O5]*Cos(ET7*bj_DEGTORAD),GetUnitY(m5)+hq[864+O5]*Sin(ET7*bj_DEGTORAD))
endif
endfunction
function j1 takes unit j4,rect Ja returns real
local real JD=GetRectCenterX(Ja)-GetUnitX(j4)
local real Je=GetRectCenterY(Ja)-GetUnitY(j4)
return SquareRoot(JD*JD+Je*Je)
endfunction
function S27 takes unit x6,integer X5,integer o6,unit m5 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(x6))
if(GetPlayerController(GetOwningPlayer(x6))!=MAP_CONTROL_COMPUTER)then
return false
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)
call DisableTrigger(Q04[O5])
if(IssueTargetOrderById(x6,X5,m5))then
call EnableTrigger(Q04[O5])
return true
endif
call EnableTrigger(Q04[O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,(false))
return false
endfunction
function S_7 takes unit x6,integer X5,integer o6,location b5 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(x6))
if b5==null or(GetPlayerController(GetOwningPlayer(x6))!=MAP_CONTROL_COMPUTER)then
return false
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,(true))
call DisableTrigger(Q04[O5])
if(IssuePointOrderById(x6,X5,GetLocationX(b5),GetLocationY(b5)))then
call EnableTrigger(Q04[O5])
return true
endif
call EnableTrigger(Q04[O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)
return false
endfunction
function T47 takes unit x6,integer X5,integer o6,integer n6,unit m5 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(x6))
if(not QY4[O5]or o6==0)or(GetPlayerController(GetOwningPlayer(x6))!=MAP_CONTROL_COMPUTER)then
return false
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,(true))
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,(true))
call DisableTrigger(Q04[O5])
if(IssueTargetOrderById(x6,X5,m5))then
call EnableTrigger(Q04[O5])
return true
endif
call EnableTrigger(Q04[O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,false)
return false
endfunction
function T77 takes unit x6,integer X5,integer o6,integer n6,real x,real y returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(x6))
if(not QY4[O5]or o6==0)or(GetPlayerController(GetOwningPlayer(x6))!=MAP_CONTROL_COMPUTER)then
return false
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,true)
call DisableTrigger(Q04[O5])
if(IssuePointOrderById(x6,X5,x,y))then
call EnableTrigger(Q04[O5])
return true
endif
call EnableTrigger(Q04[O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,false)
return false
endfunction
function T87 takes unit u returns boolean
call SaveInteger(ED7,E,GetHandleId(u),1)
return true
endfunction
function T97 takes unit u,string RL7,widget OA7 returns boolean
return IssueTargetOrder(u,RL7,OA7)and T87(u)
endfunction
function TD7 takes unit x6,integer X5,integer o6 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(x6))
if(not QY4[O5]or o6==0)or(GetPlayerController(GetOwningPlayer(x6))!=MAP_CONTROL_COMPUTER)then
return false
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)
call DisableTrigger(Q04[16+O5])
if(IssueImmediateOrderById(x6,X5))then
call EnableTrigger(Q04[16+O5])
return true
endif
call EnableTrigger(Q04[16+O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)
return false
endfunction
function TE7 takes unit TF7 returns nothing
call SaveBoolean(ED7,E,GetHandleId(TF7),true)
endfunction
function Jw takes unit it returns boolean
return((Z84[GetPlayerId(GetOwningPlayer(it))]!=ZD4)or(GetRandomInt(1,5)<=2))
endfunction
function JW takes unit it returns unit
if(IsUnitAlly(it,Z7[0]))then
return h7[1]
else
return h7[101]
endif
endfunction
function TG7 takes unit it returns unit
if(IsUnitAlly(it,Z7[0]))then
return h7[0]
else
return h7[100]
endif
endfunction
function JX takes unit it returns unit
if(IsUnitAlly(it,A7[0]))then
return h7[0]
else
return h7[100]
endif
endfunction
function TH7 takes boolean TI7 returns integer
if(TI7)then
return HC4
else
return HB4
endif
endfunction
function TJ7 takes integer O5,boolean TI7 returns player
if(TI7)then
return Z7[O5]
else
return A7[O5]
endif
endfunction
function TK7 takes boolean TI7 returns player
if(TI7)then
return QT4
else
return QU4
endif
endfunction
function TM7 takes boolean TI7 returns player
if(TI7)then
return QV4
else
return QW4
endif
endfunction
function TN7 takes integer Gu returns nothing
call FlushChildHashtable(L7,Gu)
endfunction
function TO7 takes integer TP7,string GW returns nothing
call RemoveSavedHandle(L7,TP7,StringHash(GW))
endfunction
function TQ7 takes integer Gu,string GW,integer Gy returns nothing
call SaveInteger(L7,Gu,StringHash(GW),Gy)
endfunction
function TR7 takes integer Gu,string GW,real Gy returns nothing
call SaveReal(L7,Gu,StringHash(GW),Gy)
endfunction
function TS7 takes integer Gu,string GW,string Gy returns nothing
call SaveStr(L7,Gu,StringHash(GW),Gy)
endfunction
function TT7 takes integer Gu,string GW,boolean Gy returns nothing
call SaveBoolean(L7,Gu,StringHash(GW),Gy)
endfunction
function TU7 takes integer Gu,string GW,unit Gy returns nothing
call SaveUnitHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TV7 takes integer Gu,string GW,effect Gy returns nothing
call SaveEffectHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TW7 takes integer Gu,string GW,trigger Gy returns nothing
call SaveTriggerHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TX7 takes integer Gu,string GW,lightning Gy returns nothing
call SaveLightningHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TY7 takes integer Gu,string GW,fogmodifier Gy returns nothing
call SaveFogModifierHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TZ7 takes integer Gu,string GW,destructable Gy returns nothing
call SaveDestructableHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TA7 takes integer Gu,string GW,player Gy returns nothing
call SavePlayerHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TB7 takes integer Gu,string GW,item Gy returns nothing
call SaveItemHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TC7 takes integer Gu,string GW,group Gy returns nothing
call SaveGroupHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function T37 takes integer Gu,string GW,timer Gy returns nothing
call SaveTimerHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function T67 takes integer Gu,string GW,widget Gy returns nothing
call SaveWidgetHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function TL7 takes integer Gu,string GW,texttag Gy returns nothing
call SaveTextTagHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function T17 takes integer Gu,string GW,location Gy returns nothing
call SaveLocationHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function T07 takes integer Gu,string GW,boolexpr Gy returns nothing
call SaveBooleanExprHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function T57 takes integer Gu,string GW,button Gy returns nothing
call SaveButtonHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function T27 takes integer Gu,string GW,image Gy returns nothing
call SaveImageHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function T_7 takes integer Gu,string GW,force Gy returns nothing
call SaveForceHandle(L7,Gu,StringHash(GW),Gy)
endfunction
function U47 takes integer Gu,string GW returns fogmodifier
return LoadFogModifierHandle(L7,Gu,StringHash(GW))
endfunction
function U77 takes integer Gu,string GW returns destructable
return LoadDestructableHandle(L7,Gu,StringHash(GW))
endfunction
function U87 takes integer Gu,string GW returns unit
return LoadUnitHandle(L7,Gu,StringHash(GW))
endfunction
function U97 takes integer Gu,string GW returns texttag
return LoadTextTagHandle(L7,Gu,StringHash(GW))
endfunction
function UD7 takes integer Gu,string GW returns player
return LoadPlayerHandle(L7,Gu,StringHash(GW))
endfunction
function UE7 takes integer Gu,string GW returns timer
return LoadTimerHandle(L7,Gu,StringHash(GW))
endfunction
function UF7 takes integer Gu,string GW returns trigger
return LoadTriggerHandle(L7,Gu,StringHash(GW))
endfunction
function UG7 takes integer Gu,string GW returns group
return LoadGroupHandle(L7,Gu,StringHash(GW))
endfunction
function UH7 takes integer Gu,string GW returns effect
return LoadEffectHandle(L7,Gu,StringHash(GW))
endfunction
function UI7 takes integer Gu,string GW returns lightning
return LoadLightningHandle(L7,Gu,StringHash(GW))
endfunction
function UJ7 takes integer Gu,string GW returns location
return LoadLocationHandle(L7,Gu,StringHash(GW))
endfunction
function UK7 takes integer Gu,string GW returns item
return LoadItemHandle(L7,Gu,StringHash(GW))
endfunction
function UM7 takes integer Gu,string GW returns image
return LoadImageHandle(L7,Gu,StringHash(GW))
endfunction
function UN7 takes integer Gu,string GW returns integer
return LoadInteger(L7,Gu,StringHash(GW))
endfunction
function UO7 takes integer Gu,string GW returns real
return LoadReal(L7,Gu,StringHash(GW))
endfunction
function UP7 takes integer Gu,string GW returns boolean
return LoadBoolean(L7,Gu,StringHash(GW))
endfunction
function UQ7 takes integer Gu,string GW returns string
return LoadStr(L7,Gu,StringHash(GW))
endfunction
function UR7 takes integer ki,string kI returns button
return LoadButtonHandle(L7,ki,StringHash(kI))
endfunction
function US7 takes integer ki,string kI returns boolexpr
return LoadBooleanExprHandle(L7,ki,StringHash(kI))
endfunction
function UT7 takes integer ki,string kI returns force
return LoadForceHandle(L7,ki,StringHash(kI))
endfunction
function UU7 takes unit hI,string Hh returns boolean
return LoadInteger(L7,GetHandleId(hI),StringHash("state"+Hh))==1
endfunction
function UV7 takes trigger hI,string Hh returns boolean
return LoadInteger(L7,GetHandleId(hI),StringHash("state"+Hh))==1
endfunction
function UW7 takes unit hI,string Hh returns nothing
call SaveInteger(L7,GetHandleId(hI),StringHash("state"+Hh),1)
endfunction
function UX7 takes trigger hI,string Hh returns nothing
call SaveInteger(L7,GetHandleId(hI),StringHash("state"+Hh),1)
endfunction
function UY7 takes unit hI,string Hh returns nothing
call SaveInteger(L7,GetHandleId(hI),StringHash("state"+Hh),2)
endfunction
function UZ7 takes trigger hI,string Hh returns nothing
call SaveInteger(L7,GetHandleId(hI),StringHash("state"+Hh),2)
endfunction
function l5 takes nothing returns nothing
local integer i=0
if D9==false and PT4==false then
loop
call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303An internal checksum has failed|r")
call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303This might not be a serious glitch, but it is important for me to get it|r")
call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303Please send me the replay for this game to IceFrog@gmail.com|r")
set i=i+1
exitwhen i==12
endloop
endif
endfunction
function UA7 takes trigger t returns nothing
call DisableTrigger(t)
set Dy=Dy+1
set Dx[Dy]=t
set DX[Dy]=RQ7()+60
if Dy>8000 then
call l5()
endif
endfunction
function UB7 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
call UY7(U87(UC7,"hero"),UQ7(UC7,"state"))
call TN7(UC7)
call UA7(t)
set t=null
return false
endfunction
function U37 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
call UZ7(UF7(UC7,"hero"),UQ7(UC7,"state"))
call TN7(UC7)
call UA7(t)
set t=null
return false
endfunction
function U67 takes unit hI,string Hh,real Hk returns nothing
local trigger t=CreateTrigger()
call TriggerAddCondition(t,Condition(function UB7))
call TriggerRegisterTimerEvent(t,Hk,false)
call UW7(hI,Hh)
call TU7(GetHandleId(t),"hero",hI)
call TS7(GetHandleId(t),"state",Hh)
set t=null
endfunction
function UL7 takes trigger hI,string Hh,real Hk returns nothing
local trigger t=CreateTrigger()
call TriggerAddCondition(t,Condition(function U37))
call TriggerRegisterTimerEvent(t,Hk,false)
call UX7(hI,Hh)
call TW7(GetHandleId(t),"hero",hI)
call TS7(GetHandleId(t),"state",Hh)
set t=null
endfunction
function U17 takes group g returns integer
set bj_groupCountUnits=0
call ForGroup(g,function CountUnitsInGroupEnum)
return bj_groupCountUnits
endfunction
function U07 takes force U57,force U27 returns force
local integer U_7=0
loop
exitwhen U_7>11
if IsPlayerInForce(Player(U_7),U57)then
call ForceAddPlayer(U27,Player(U_7))
endif
set U_7=U_7+1
endloop
return U27
endfunction
function V47 takes unit PF7,string V77,player V87 returns nothing
local integer U_7=0
local integer V97=0
local unit VD7=null
local real VE7=0
local string VF7=""
local string VG7=""
set U_7=GetPlayerId(V87)
set VD7=M7[U_7]
if PF7!=null then
set V97=GetPlayerId(GetOwningPlayer(PF7))
else
set V97=15
endif
if not(V97==0 or V97==6 or V97==15)then
if VD7!=null and GetWidgetLife(VD7)>.405 and PF7!=null then
set VE7=RE7(PF7,VD7)
if VE7<=1500 then
set VF7=""
elseif VE7<=3000. then
set VF7="|c00c0c0c0"
else
set VF7="|c00a0a0a0"
endif
endif
set VG7="|r"+Q[V97]+KZ4[V97]+"|r: "+VF7+V77+"|r"
elseif V97==GetPlayerId(Z7[0])then
set VG7="[AI] "+Q[V97]+"The Sentinel|r: "+V77
elseif V97==GetPlayerId(A7[0])then
set VG7="[AI] "+Q[V97]+"The Scourge|r: "+V77
elseif V97==12 then
set VG7="[AI]: "+V77+"|r"
endif
if DQ7[U_7]and V87==GetLocalPlayer()then
call DisplayTimedTextToPlayer(V87,0,0,10,VG7)
endif
set VD7=null
set VF7=""
endfunction
function VH7 takes group VI7,string VG7,force VJ7 returns nothing
local integer U_7=0
local unit PF7=null
local string VK7="|r"
local integer i=1
loop
exitwhen i>10
set PF7=M7[GetPlayerId(R27(i))]
if IsUnitInGroup(PF7,VI7)then
call GroupRemoveUnit(VI7,PF7)
set U_7=GetPlayerId(GetOwningPlayer(PF7))
if VK7!="|r" then
set VK7=VK7+", "
endif
set VK7=VK7+Q[U_7]+KZ4[U_7]+"|r"
endif
set i=i+1
endloop
loop
set PF7=FirstOfGroup(VI7)
exitwhen PF7==null
call GroupRemoveUnit(VI7,PF7)
set U_7=GetPlayerId(GetOwningPlayer(PF7))
if VK7!="|r" then
set VK7=VK7+", "
endif
set VK7=VK7+Q[U_7]+KZ4[U_7]+"|r"
endloop
set VK7=VK7+": "
if(IsPlayerInForce(GetLocalPlayer(),VJ7))then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,VK7)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,"      - "+VG7)
endif
endfunction
function VM7 takes nothing returns nothing
local timer VN7=GetExpiredTimer()
local force VO7=null
local integer U_7=1
local unit PF7=null
local group VI7=null
local integer VP7=GetHandleId(VN7)
local string VG7=""
if UP7(VP7,"Personal")then
set VO7=UT7(VP7,"Target")
set VG7=UQ7(VP7,"SubTag")
set PF7=U87(VP7,"Owner")
loop
exitwhen U_7>11
if IsPlayerInForce(Player(U_7),VO7)then
if VG7==" " then
call DisplayTimedTextToPlayer(Player(U_7),0,0,10,VG7)
else
call V47(PF7,VG7,Player(U_7))
endif
endif
set U_7=U_7+1
endloop
call TN7(VP7)
call DestroyTimer(VN7)
else
set VG7=UQ7(VP7,"SubTag")
set VP7=StringHash("cAI|Re"+VG7)
set VO7=UT7(VP7,"Target")
set VI7=UG7(VP7,"Owner")
if UN7(VP7,"CountDn")==0 then
call PauseTimer(VN7)
if U17(VI7)==1 then
set PF7=FirstOfGroup(VI7)
loop
exitwhen U_7>11
if IsPlayerInForce(Player(U_7),VO7)then
call V47(PF7,VG7,Player(U_7))
endif
set U_7=U_7+1
endloop
else
call VH7(VI7,VG7,VO7)
endif
call DestroyGroup(VI7)
call TN7(VP7)
call DestroyTimer(VN7)
else
call TQ7(VP7,"CountDn",UN7(VP7,"CountDn")-1)
endif
endif
set VI7=null
set VO7=null
endfunction
function VQ7 takes unit PF7,force VO7,string VG7 returns nothing
local force VR7=null
local group VS7=null
local timer VN7=null
local integer U_7=1
local boolean SA7=true
local boolean VT7=false
local integer VP7=0
if PF7==null then
set PF7=KU4[bj_forLoopAIndex]
endif
set VP7=StringHash("cAI|Re"+VG7)
set VR7=UT7(VP7,"Target")
if VR7==null and VG7!=" " then
set VT7=true
set VR7=U07(VO7,CreateForce())
call T_7(VP7,"Target",VR7)
set VN7=CreateTimer()
call TS7(GetHandleId(VN7),"SubTag",VG7)
set VS7=CreateGroup()
call GroupAddUnit(VS7,PF7)
call TC7(VP7,"Owner",VS7)
else
if VG7==" " then
set SA7=false
else
set SA7=true
set U_7=1
loop
exitwhen U_7>11
if IsPlayerInForce(Player(U_7),VO7)then
if not IsPlayerInForce(Player(U_7),VR7)then
set SA7=false
set U_7=11
endif
endif
set U_7=U_7+1
endloop
endif
if SA7 then
set VS7=UG7(VP7,"Owner")
call GroupAddUnit(VS7,PF7)
else
set VT7=true
set VN7=CreateTimer()
set VP7=GetHandleId(VN7)
call TS7(VP7,"SubTag",VG7)
set VR7=U07(VO7,CreateForce())
call T_7(VP7,"Target",VR7)
call TU7(VP7,"Owner",PF7)
call TT7(VP7,"Personal",true)
endif
endif
if VT7 then
if VG7==" " then
call TimerStart(VN7,0.1,false,function VM7)
else
call TimerStart(VN7,0.01,true,function VM7)
endif
endif
set VR7=null
set VS7=null
endfunction
function VU7 takes force VO7,real x,real y,integer O5 returns nothing
if(IsPlayerInForce(GetLocalPlayer(),VO7))then
if GetAllyColorFilterState()==2 then
call PingMinimapEx(x,y,5.,48,230,185,true)
else
call PingMinimapEx(x,y,5.,KA4[O5],KB4[O5],KC4[O5],true)
endif
endif
endfunction
function VV7 takes unit PF7,force VO7 returns nothing
if PF7!=null then
if GetUnitState(PF7,UNIT_STATE_LIFE)>0 then
if(IsPlayerInForce(GetLocalPlayer(),VO7))then
call PingMinimap(GetUnitX(PF7),GetUnitY(PF7),5.)
endif
else
if IsUnitAlly(PF7,Z7[0])then
set PF7=IZ4
else
set PF7=JA4
endif
if(IsPlayerInForce(GetLocalPlayer(),VO7))then
call PingMinimap(GetUnitX(PF7),GetUnitY(PF7),5.)
endif
endif
endif
endfunction
function VW7 takes unit PF7,string VG7 returns nothing
local integer O5=1
local real QE7
set EO7=CreateForce()
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if IsUnitAlly(PF7,Player(O5))then
if M7[O5]==null or GetWidgetLife(M7[O5])<.405 then
call ForceAddPlayer(EO7,Player(O5))
else
set QE7=RE7(PF7,M7[O5])
if QE7<=3000. then
call ForceAddPlayer(EO7,Player(O5))
endif
endif
endif
set O5=O5+1
endloop
call VQ7(PF7,EO7,VG7)
call VV7(PF7,EO7)
call DestroyForce(EO7)
set EO7=null
endfunction
function VX7 takes unit it,boolean J2 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
if((not Id(O5))or(J2))then
if(GetUnitTypeId(it)!=1211117642)then
set G0[32+O5]=true
if(not GZ[160+O5])and(GetUnitLifePercent(it)<30)then
call VW7(it,"Retreating")
endif
set h4[O5]=null
set hq[512+O5]=0.
set GZ[128+O5]=false
set GZ[160+O5]=true
endif
if(is(it))then
call S57(it,851986,h9[O5])
if(SR7(it,ZU[C0]))then
call UnitUseItem(it,bj_lastCreatedItem)
endif
endif
endif
endfunction
function kD takes unit u returns boolean
return((GetUnitAbilityLevel(u,1110456148)>0)or(GetUnitAbilityLevel(u,1110456118)>0)or(GetUnitAbilityLevel(u,1110455864)>0)or(GetUnitAbilityLevel(u,1112041075)>0)or(GetUnitAbilityLevel(u,1110454347)>0)or(GetUnitAbilityLevel(u,1110454833)>0)or(GetUnitAbilityLevel(u,1110454609)>0)or(GetUnitAbilityLevel(u,1110455097)>0)or(GetUnitAbilityLevel(u,1093677130)>0)or(GetUnitAbilityLevel(u,1093684052)>0)or(GetUnitAbilityLevel(u,1093677617)>0)or(GetUnitAbilityLevel(u,1112504171)>0))
endfunction
function VY7 takes unit it returns string
if(IsUnitAlly(it,Z7[0]))then
return"Sent"
else
return"Scrg"
endif
endfunction
function VZ7 takes nothing returns boolean
local integer O5=UN7(GetHandleId(GetTriggeringTrigger()),"pID")
local integer VA7=GetPlayerId(GetOwningPlayer(h4[O5]))
if(GetWidgetLife(M7[O5])<.405)or(Bz>hq[608+O5])or(h4[O5]==null)or(GetWidgetLife(h4[O5])<.405)or(eY[32+VA7]<=0)then
call DisableTrigger(GetTriggeringTrigger())
return false
elseif(IsUnitVisible(h4[O5],Player(O5)))then
if R57(M7[O5])then
call IssueTargetOrderById(M7[O5],851983,h4[O5])
endif
call DisableTrigger(GetTriggeringTrigger())
return false
endif
if is(M7[O5])then
if(((IsVisibleToPlayer(GetUnitX(h4[O5]),GetUnitY(h4[O5]),Player(O5)))and(not IsUnitHidden(h4[O5])))or((eY[32+VA7]<2)and(kD(h4[O5]))))then
if(SR7(M7[O5],ZU[T5]))then
call UnitUseItem(M7[O5],bj_lastCreatedItem)
elseif(SR7(M7[O5],ZU[CC]))and(RE7(M7[O5],h4[O5])<=600)then
call UnitUseItem(M7[O5],bj_lastCreatedItem)
elseif(SR7(M7[O5],ZU[WC]))and((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))then
call UnitUseItemPoint(M7[O5],bj_lastCreatedItem,GetUnitX(h4[O5]),GetUnitY(h4[O5]))
else
if(not UP7(R44,VY7(M7[O5])+"|W"))then
call TT7(R44,VY7(M7[O5])+"|W",true)
endif
call DisableTrigger(GetTriggeringTrigger())
return false
endif
endif
if eY[464+VA7]==851986 or eY[464+VA7]==851971 or eY[464+VA7]==851990 then
call IssuePointOrderById(M7[O5],851986,I2R(eY[480+VA7]),I2R(eY[496+VA7]))
else
call S57(M7[O5],851986,h4[O5])
endif
endif
return false
endfunction
function J3 takes unit it,boolean J2 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local boolean J4=false
if(SE7(it))then
if(J2)then
if(not Id(O5))then
call VX7(it,true)
elseif((S87(h4[O5]))and(GetUnitAbilityLevel(h4[O5],1110454854)==0))then
call IssueTargetOrderById(it,851983,h4[O5])
endif
else
call VX7(it,false)
endif
elseif(G0[272+O5]or is(it))and((J2)or(((not GZ[128+O5])or((GetUnitCurrentOrder(it)!=851983)and(GetUnitCurrentOrder(it)!=851993)))and(iU(it))))then
if((G0[O5])or(G0[48+O5])or(not G0[128+O5]))then
set J4=S57(it,851986,h9[O5])
endif
if(h4[96+O5]!=null)and(GetUnitTypeId(h4[96+O5])==1966092371)then
set J4=IssueTargetOrderById(it,851983,h4[96+O5])
endif
if((not J4)and(h4[O5]!=null)and(S87(h4[O5]))and(GetUnitAbilityLevel(h4[O5],1110454854)==0))then
if IsUnitVisible(h4[O5],GetOwningPlayer(it))then
set bj_lastLoadedUnit=it
if UP7(GetHandleId(h4[O5]),"XMarked")then
call MoveLocation(HA,UO7(GetHandleId(h4[O5]),"AI|XMark|X"),UO7(GetHandleId(h4[O5]),"AI|XMark|Y"))
if(not IsUnitInRangeLoc(h4[O5],HA,600.))then
set J4=IssuePointOrderByIdLoc(it,851986,HA)
else
set J4=IssueTargetOrderById(it,851983,h4[O5])
endif
elseif UU7(it,"AI|Lasso")then
set J4=IssueTargetOrderById(it,851986,h9[O5])
elseif(GetUnitTypeId(it)==1164666213 and GetHeroLevel(it)>=6)and(eY[320+O5]>=0)and(not IsUnitInRange(it,h4[O5],300))and((GetUnitLifePercent(it)>80)or(GetUnitLifePercent(it)>(GetUnitLifePercent(h4[O5])+30)))and(GetUnitManaPercent(it)>20)and(h4[304+O5]==null)and(SP7(900,h4[O5],Condition(function SQ7))==0)then
set J4=IssueTargetOrderById(it,851986,h4[O5])
else
set J4=IssueTargetOrderById(it,851983,h4[O5])
endif
set hq[608+O5]=Bz+FC7
elseif hq[608+O5]>Bz and eY[32+GetPlayerId(GetOwningPlayer(h4[O5]))]>0 then
if not IsVisibleToPlayer(GetUnitX(h4[O5]),GetUnitY(h4[O5]),GetOwningPlayer(it))then
call EnableTrigger(Q04[96+O5])
set J4=S57(it,851986,h4[O5])
endif
else
call DisableTrigger(Q04[96+O5])
endif
endif
set GS7=LoadUnitHandle(L7,(GetHandleId(it)),(652))
set GT7=U87((GetHandleId(it)),"AI|TetherSource")
if(J4)then
elseif(GS7!=null)and(not IsUnitInRange(it,GS7,700)and(IsUnitType(GS7,UNIT_TYPE_HERO)))then
call S57(it,851986,GS7)
elseif(GT7!=null)and(not IsUnitInRange(it,GT7,700))then
call S57(it,851986,GT7)
elseif((eY[O5]>=9))then
if eY[272+O5]<=2 then
if((G0[176+O5])or(h8[48+O5]!=h8[32+O5]))then
call S57(it,851983,h8[48+O5])
else
call S57(it,851986,h9[O5])
endif
endif
elseif((eY[O5]==3)or(eY[O5]==4))then
elseif GZ[160+O5]or(not G0[128+O5])then
call S57(it,851986,h9[O5])
else
call S57(it,851983,h8[O5])
endif
endif
endfunction
function VB7 takes unit it returns nothing
if((SR7(it,ZU[B3]))and(UnitUseItem(it,bj_lastCreatedItem)))then
call R47(0.3)
endif
if((SR7(it,ZU[T1]))and(UnitUseItem(it,bj_lastCreatedItem)))then
call R47(0.3)
endif
call IssueImmediateOrderById(it,851972)
endfunction
function VC7 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(GetFilterUnit(),1098085732)==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))==true and GetUnitTypeId(GetFilterUnit())!=1966092371 and GetUnitTypeId(GetFilterUnit())!=1852010352 and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)
endfunction
function V37 takes unit it,unit SD7 returns boolean
local item V67=null
local boolean VL7=false
local item V17=null
local integer O5=GetPlayerId(GetOwningPlayer(it))
local boolean V07=(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)
local boolean V57=false
local boolean V27=false
local real V_7=0
local real W47=0
local real W77=0
if U87((GetHandleId(it)),"AI|TetherSource")!=null then
return false
elseif(GetUnitTypeId(it)==1211117642)then
return false
endif
if(SD7==IZ4 or SD7==JA4)then
if G0[352+O5]or(RE7(it,SD7)<3000)then
return false
endif
elseif(RE7(it,SD7)<2000)then
return false
endif
if SD7==IZ4 or SD7==JA4 then
set W47=GetUnitX(SD7)
set W77=GetUnitY(SD7)
else
set bj_lastLoadedUnit=TG7(it)
set V_7=Atan2(GetUnitY(bj_lastLoadedUnit)-GetUnitY(SD7),GetUnitX(bj_lastLoadedUnit)-GetUnitX(SD7))+GetRandomReal(-FL7,FL7)
set W47=GetUnitX(SD7)+500.*Cos(V_7)
set W77=GetUnitY(SD7)+500.*Sin(V_7)
endif
if((GetUnitAbilityLevel(it,1093677391)>0)and(Bz>TC4[32+O5]))then
if IssuePointOrderById(it,852525,W47,W77)then
return true
endif
endif
if((GetUnitAbilityLevel(it,1093685808)>0)and(Bz>TC4[O5]))then
if IssuePointOrderById(it,852600,W47,W77)then
return true
endif
endif
if not(eY[224+O5]<R2I(Bz)and GetUnitState(it,UNIT_STATE_MANA)>EX7)then
return false
endif
if not IsUnitType(SD7,UNIT_TYPE_STRUCTURE)then
set bj_lastLoadedUnit=it
set bj_lastLoadedUnit=SN7(2000.,S07(SD7),Condition(function VC7))
set V27=((bj_lastLoadedUnit!=null)and(RE7(it,SD7)>RE7(bj_lastLoadedUnit,SD7)))
else
set V27=true
endif
if(V07 and T24[O5]==true)then
if(SR7(it,GetItemTypeId(U44[O5])))then
call DisableTrigger(H94)
call UnitRemoveItem(it,SV7(it,GetItemTypeId(U44[O5])))
call RemoveItem(U44[O5])
call EnableTrigger(H94)
endif
if(T_4[O5]!=null)then
call R47(0.2)
call UnitAddItem(it,T_4[O5])
endif
set T24[O5]=false
set U44[O5]=null
set T_4[O5]=null
endif
if(SR7(it,ZU[YC]))and V27 then
if((GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitAbilityLevel(it,1110455864)==0)and(GetUnitAbilityLevel(it,1110454347)==0)and(GetUnitAbilityLevel(it,1110455097)==0))then
call VB7(it)
set V57=UnitUseItemPoint(it,SV7(it,ZU[YC]),W47,W77)
endif
elseif(SR7(it,ZU[F6]))then
call VB7(it)
set V57=UnitUseItemPoint(it,SV7(it,ZU[F6]),GetUnitX(SD7),GetUnitY(SD7))
elseif(not K57[O5])then
if(GetUnitTypeId(it)==1211117642 or IsUnitIllusion(it))or(not V27)then
return false
endif
set VL7=false
if((not SS7(it)))then
set VL7=true
elseif(SR7(it,ZU[QC]))then
set V17=bj_lastCreatedItem
set VL7=true
elseif(SR7(it,ZU[TC]))then
set V17=bj_lastCreatedItem
set VL7=true
elseif(SR7(it,ZU[WC]))then
set V17=bj_lastCreatedItem
set VL7=true
endif
if VL7 then
if V17!=null then
call RX7(V17)
endif
set V67=CreateItem(ZU[YC],GetUnitX(it),GetUnitY(it))
set VL7=UnitAddItem(it,V67)
call R47(0.3)
else
if(SR7(it,ZU[FV]))then
set U74[O5]=bj_lastCreatedItem
set VL7=true
endif
if VL7 then
call DisableTrigger(H94)
call UnitRemoveItem(it,U74[O5])
call SetItemPosition(U74[O5],9999,-9999)
call EnableTrigger(H94)
set V67=CreateItem(ZU[YC],GetUnitX(it),GetUnitY(it))
set VL7=UnitAddItem(it,V67)
set U94[O5]=true
call R47(0.3)
endif
endif
set V17=null
if(not VL7)then
call RX7(V67)
call R47(0.2)
if((not SS7(it)))then
call UnitAddItem(it,U74[O5])
set U94[O5]=false
set U74[O5]=null
endif
endif
if(SR7(it,ZU[YC]))then
call VB7(it)
set VL7=UnitUseItemPoint(it,SV7(it,ZU[YC]),W47,W77)
call R47(0.5)
set V67=null
set V57=VL7
if not V57 then
call R47(0.01)
set V57=(eY[224+O5]>R2I(Bz)+1)
endif
endif
endif
if V57 then
set eY[224+O5]=R2I(Bz)+EW7
set eY[208+O5]=0
set h8[144+O5]=null
else
if not VL7 then
set eY[208+O5]=0
set h8[144+O5]=null
endif
if U74[O5]!=null then
call DisableTrigger(H94)
call RemoveItem(SV7(it,ZU[YC]))
call UnitAddItem(it,U74[O5])
call EnableTrigger(H94)
set U74[O5]=null
set U94[O5]=false
endif
endif
return V57
endfunction
function W87 takes integer O5,unit j5,integer o6 returns nothing
call DisableTrigger(Q04[O5])
if((not SE7(j5))and(not G0[O5])and(not G0[64+O5])and(G0[128+O5])and(h4[O5]!=null)and(S87(h4[O5]))and(IsUnitVisible(h4[O5],GetOwningPlayer(j5))))then
call IssueTargetOrderById(j5,851983,h4[O5])
set GZ[48+O5]=true
else
call J3(j5,true)
endif
call EnableTrigger(Q04[O5])
if(o6!=0)then
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),o6,not(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER))
endif
endfunction
function J6 takes integer O5,unit j5,integer o6,integer n6 returns nothing
call W87(O5,j5,o6)
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),n6,not((GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTER)))
endfunction
function J7 takes integer O5,unit j5,integer o6 returns nothing
call DisableTrigger(Q04[O5])
if((not SE7(j5))and(not G0[O5])and(not G0[64+O5])and(G0[128+O5])and(h4[O5]!=null)and(S87(h4[O5]))and(IsUnitVisible(h4[O5],GetOwningPlayer(j5))))then
call IssueTargetOrderById(j5,851983,h4[O5])
set GZ[48+O5]=true
else
call J3(j5,true)
endif
call EnableTrigger(Q04[O5])
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),o6,not(GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTER))
endfunction
function J8 takes integer O5,boolean J9 returns boolean
set GZ[O5]=false
return J9
endfunction
function W97 takes unit u returns boolean
if(IsUnitAlly(u,Z7[0]))then
return(IsUnitInRange(u,IZ4,1100.))
else
return(IsUnitInRange(u,JA4,1100.))
endif
endfunction
function kA takes unit IB,unit m5,real kb returns boolean
if(IsUnitAlly(m5,Z7[0]))then
return(RE7(IB,h7[0])-RE7(m5,h7[0]))>kb
else
return(RE7(IB,h7[100])-RE7(m5,h7[100]))>kb
endif
endfunction
function kB takes boolean J4,group jU returns integer
local unit it
local integer kc=0
local boolean kC=false
local boolean kd=false
loop
set it=FirstOfGroup(jU)
exitwhen(it==null)
if(GetUnitTypeId(it)==1211117641)then
set kc=kc+1
set kd=true
elseif(GetUnitTypeId(it)!=1211117642)then
set kc=kc+1
elseif(not kC)then
set kC=true
endif
call GroupRemoveUnit(jU,it)
endloop
if((kC)and((not kd)or(J4)))then
set kc=kc+1
endif
return kc
endfunction
function ke takes unit u returns boolean
return((GetUnitAbilityLevel(u,1093685838)>0)or(GZ[256+GetPlayerId(GetOwningPlayer(u))]))
endfunction
function kE takes string kf,string kF returns integer
local integer kg=StringLength(kf)
local integer kG=0
loop
exitwhen kg<=kG
if(SubString(kf,kg,kg+1)==kF)then
return kg
endif
set kg=kg-1
endloop
return-1
endfunction
function kh takes string kf returns integer
local integer kg=0
local integer kG=StringLength(kf)
loop
exitwhen kg>=kG
if(SubString(kf,kg,kg+1)==",")then
return kg
endif
set kg=kg+1
endloop
return-1
endfunction
function kj takes nothing returns nothing
set GT=false
endfunction
function kJ takes real x,real y returns boolean
set GT=true
call SetRect(He,x-160.,y-160.,x+160.,y+160.)
call EnumDestructablesInRect(He,Q24,function kj)
return GT
endfunction
function kk takes unit it,real IW,unit r returns location
local integer kK=0
local real kl=Atan2(GetUnitY(r)-GetUnitY(it),GetUnitX(r)-GetUnitX(it))
loop
if(kJ(GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl))
return HB
endif
set kK=kK+1
set IW=IW-50.
exitwhen(kK>5)
endloop
return null
endfunction
function kL takes unit it,unit m5,real km returns location
local real IW=RF7(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5))+km
local real kl=0
local integer kK=0
set kK=GetPlayerId(GetOwningPlayer(m5))
set kl=Atan2(GetUnitY(h9[kK])-GetUnitY(m5),GetUnitX(h9[kK])-GetUnitX(m5))
set kK=0
loop
if(kJ(GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl))
return HB
endif
set kK=kK+1
set IW=IW-50.
exitwhen(kK>5)
endloop
return null
endfunction
function WD7 takes unit it returns boolean
return((GetUnitAbilityLevel(it,1093678162)==0)and(GetUnitAbilityLevel(it,1097625443)==0))
endfunction
function WE7 takes unit it returns boolean
return((GetUnitAbilityLevel(it,1093678162)==0)and(GetUnitAbilityLevel(it,1097625443)==0)and(GetUnitTypeId(it)!=1970497636)and(GetUnitTypeId(it)!=1848652113)and(GetUnitTypeId(it)!=1848652114))
endfunction
function WF7 takes unit u returns boolean
return(IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER))
endfunction
function WG7 takes unit x6 returns integer
return(GetItemTypeId(UnitItemInSlot(x6,GetIssuedOrderId()-852008)))
endfunction
function WH7 takes integer Iz returns boolean
return((Iz==1093679446)or(Iz==1095263841)or(Iz==1093681972)or(Iz==1093685065)or(Iz==1093677622)or(Iz==1093682265)or(Iz==1093684314)or(Iz==1093685582))
endfunction
function kP takes integer i1 returns boolean
return((i1==1429221424)or(i1==1160785972)or(i1==1430468144)or(i1==1430467634)or(i1==1432642913)or(i1==1432510828)or(i1==1315334514)or(i1==1332109682)or(i1==1429221456)or(i1==1311780946)or(i1==1211117624)or(i1==1160785973)or(i1==1214345830)or(i1==1315007329)or(i1==1215723364)or(i1==1164799855)or(i1==1212365106)or(i1==1432580716)or(i1==1429221720)or(i1==1333027688)or(i1==1311781185)or(i1==1332179560)or(i1==1214344551)or(i1==1311781206)or(QS7(i1,F77)))
endfunction
function kq takes integer i1 returns boolean
return(not QS7(i1,F77))
endfunction
function kQ takes unit u returns boolean
return((GetUnitAbilityLevel(u,1110455620)>0)or(GetUnitAbilityLevel(u,1110455629)>0)or(GetUnitAbilityLevel(u,1110455630)>0)or(GetUnitAbilityLevel(u,1110455631)>0))
endfunction
function kr takes unit u returns boolean
return((GetUnitAbilityLevel(u,1110456120)>0)or(GetUnitAbilityLevel(u,1113943649)>0)or(GetUnitAbilityLevel(u,1113943655)>0)or(GetUnitAbilityLevel(u,1110459185)>0))
endfunction
function WI7 takes integer Iz returns boolean
return((Iz==ZU[F5])or(Iz==ZU[G5])or(Iz==ZU[J5])or(Iz==ZU[M5])or(Iz==ZU[N5]))
endfunction
function ks takes integer Iz returns boolean
return((Iz==ZU[R5])or(Iz==ZU[S5])or(Iz==ZU[T5]))
endfunction
function kS takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093677635)
if(kt==4)then
return 1093678925
elseif(kt==3)then
return 1093678922
elseif(kt==2)then
return 1093678921
elseif(kt==1)then
return 1093678920
else
return 1093685302
endif
endfunction
function kT takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093677635)
if(kt==4)then
return 1093678904
elseif(kt==3)then
return 1093678900
elseif(kt==2)then
return 1093678898
elseif(kt==1)then
return 1093678670
else
return 1093677645
endif
endfunction
function WJ7 takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093677635)
if(kt==4)then
return 1093678158
elseif(kt==3)then
return 1093678157
elseif(kt==2)then
return 1093678154
elseif(kt==1)then
return 1093677898
else
return 1093678899
endif
endfunction
function WK7 takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093679160)
if(kt==3)then
return 1093679172
elseif(kt==2)then
return 1093679169
elseif(kt==1)then
return 1093679161
else
return 1093678167
endif
endfunction
function WM7 takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093679160)
if(kt==3)then
return 1093677126
elseif(kt==2)then
return 1093677396
elseif(kt==1)then
return 1093677111
else
return 1093677361
endif
endfunction
function WN7 takes unit u returns integer
local integer kt=GetUnitAbilityLevel(u,1093679160)
if(kt==3)then
return 1093679177
elseif(kt==2)then
return 1093679175
elseif(kt==1)then
return 1093679174
else
return 1093679155
endif
endfunction
function WO7 takes integer Iz returns integer
if((Iz==ZU[QW])or(Iz==ZU[QC])or(Iz==ZU[TC])or(Iz==ZU[XC])or(Iz==ZU[YC]))then
return 100
elseif((Iz==ZU[LV])or(Iz==ZU[UY])or(Iz==ZU[UW])or(Iz==ZU[NV])or(Iz==ZU[AX]))then
return 150
elseif((Iz==ZU[BA])or(Iz==ZU[GB]))then
return 225
elseif((Iz==ZU[ZY])or(Iz==ZU[GY])or(Iz==ZU[WC])or(Iz==ZU[EZ]))then
return 350
elseif((Iz==ZU[FV])or(Iz==ZU[OV])or(Iz==ZU[MV])or(Iz==ZU[HY])or(Iz==ZU[A6])or(Iz==ZU[DL])or(Iz==ZU[HL])or(Iz==ZU[C3]))then
return 450
elseif((Iz==ZU[SV])or(Iz==ZU[UV])or(Iz==ZU[RX])or(Iz==ZU[JV])or(Iz==ZU[EW])or(Iz==ZU[Z3]))then
return 650
elseif((Iz==ZU[NW])or(Iz==ZU[VW])or(Iz==ZU[NX])or(Iz==ZU[QV])or(Iz==ZU[DZ])or(Iz==ZU[ZX])or(Iz==ZU[RZ])or(Iz==ZU[CV])or(Iz==ZU[B3]))then
return 950
elseif((Iz==ZU[TV])or(Iz==ZU[YX])or(Iz==ZU[WX])or(Iz==ZU[OZ]))then
return 1200
elseif((Iz==ZU[XV])or(Iz==ZU[ZW])or(Iz==ZU[SX])or(Iz==ZU[G6])or(Iz==ZU[Y3])or(Iz==ZU[AL])or(Iz==ZU[DD4])or(Iz==ZU[F74]))then
return 1500
elseif((Iz==ZU[RW])or(Iz==ZU[S6])or(Iz==ZU[W6])or(Iz==ZU[P1])or(Iz==ZU[AL])or(Iz==ZU[J1])or(Iz==ZU[RL])or(Iz==ZU[OL])or(Iz==ZU[DG4])or(Iz==ZU[DJ4]))then
return 2000
elseif((Iz==ZU[NZ])or(Iz==ZU[AV])or(Iz==ZU[OW])or(Iz==ZU[F6])or(Iz==ZU[A1])or(Iz==ZU[DG4])or(Iz==ZU[T1]))then
return 2500
elseif((Iz==ZU[YW])or(Iz==ZU[GX])or(Iz==ZU[ZL])or(Iz==ZU[WL])or(Iz==ZU[Q1])or(Iz==ZU[D1])or(Iz==ZU[F5])or(Iz==ZU[R5]))then
return 3000
elseif((Iz==ZU[BV])or(Iz==ZU[LL])or(Iz==ZU[R1]))then
return 3500
elseif((Iz==ZU[SY])or(Iz==ZU[C0])or(SW7(Iz))or(Iz==ZU[S5])or(Iz==1869375847))then
return 4000
elseif((Iz==ZU[V1])or(Iz==ZU[G5]))then
return 4500
elseif((Iz==ZU[U1])or(Iz==ZU[T5])or(Iz==ZU[X1])or(Iz==ZU[D74])or(Iz==ZU[DR4]))then
return 5000
elseif((Iz==ZU[Y0])or(Iz==ZU[B0])or(Iz==ZU[J5])or(Iz==ZU[W5])or(Iz==ZU[R2])or(Iz==ZU[E2])or(Iz==ZU[H2])or(Iz==ZU[D44])or(Iz==ZU[DI4]))then
return 5500
elseif((Iz==ZU[DH4])or(Iz==ZU[M5])or(Iz==ZU[L5])or(Iz==ZU[Z2])or(Iz==ZU[T2])or(Iz==1936683571)or(Iz==1936683572)or(Iz==1936683573)or(Iz==1936683574)or(Iz==1227895094)or(Iz==1227894838))then
return 6000
elseif((Iz==ZU[N5])or(Iz==ZU[X2])or(Iz==ZU[W2])or(Iz==ZU[DE4]))then
return 7000
elseif(Iz==ZU[B5])then
return 8000
endif
return 500
endfunction
function B6 takes trigger kW,playerunitevent kx returns nothing
call TriggerRegisterPlayerUnitEvent(kW,Z7[1],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,Z7[2],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,Z7[3],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,Z7[4],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,Z7[5],kx,Q24)
endfunction
function c6 takes trigger kW,playerunitevent kx returns nothing
call TriggerRegisterPlayerUnitEvent(kW,A7[1],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,A7[2],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,A7[3],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,A7[4],kx,Q24)
call TriggerRegisterPlayerUnitEvent(kW,A7[5],kx,Q24)
endfunction
function ky takes trigger kW,playerunitevent kx returns nothing
call B6(kW,kx)
call c6(kW,kx)
endfunction
function WP7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(S87(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))))
endfunction
function WQ7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(S87(GetFilterUnit()))and(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)and(RH7(GetFilterUnit())==bj_forLoopBIndex))
endfunction
function WR7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(S87(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))))
endfunction
function WS7 takes unit O97 returns boolean
local real x=GetUnitX(O97)
local real y=GetUnitY(O97)
if IsUnitAlly(O97,Z7[0])then
return x<GetRectMaxX(HD)and x>GetRectMinX(HD)and y<GetRectMaxY(HD)and y>GetRectMinY(HD)
endif
return x<GetRectMaxX(GD)and x>GetRectMinX(GD)and y<GetRectMaxY(GD)and y>GetRectMinY(GD)
endfunction
function WT7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(S87(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false and GetUnitAbilityLevel(GetFilterUnit(),1098282348)==0)and WS7(GetFilterUnit())==false)
endfunction
function WU7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(S87(GetFilterUnit())))
endfunction
function WV7 takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(S87(GetFilterUnit())))then
if(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))then
return true
elseif(not kD(GetFilterUnit()))then
return((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or(IsUnitInRange(GetFilterUnit(),GetTriggerUnit(),600.)))
else
return(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>2)
endif
endif
return false
endfunction
function WW7 takes nothing returns boolean
return((GetFilterUnit()!=bj_lastLoadedUnit)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(S87(GetFilterUnit()))and(not SE7(GetFilterUnit())))
endfunction
function WX7 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(WE7(GetFilterUnit())))
endfunction
function k0 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(WE7(GetFilterUnit())))
endfunction
function WY7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function IsEnemyTowerInRangeAttacker takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function TorrentedKillableFilter takes nothing returns boolean
return SE7(GetFilterUnit())and GetUnitAbilityLevel(GetFilterUnit(),1110456657)>0
endfunction
function k2 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(WE7(GetFilterUnit())))
endfunction
function k3 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(WE7(GetFilterUnit())))
endfunction
function WZ7 takes nothing returns boolean
return(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))
endfunction
function WA7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitIllusion(GetFilterUnit()))and(GetFilterUnit()!=GetTriggerUnit())and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function k5 takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetFilterUnit()!=GetTriggerUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(WE7(GetFilterUnit())))
endfunction
function IsAllyTowerInRangeTrig takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function WB7 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))and S87(GetFilterUnit())and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0
endfunction
function WC7 takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))and S87(GetFilterUnit())and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0
endfunction
function W37 takes nothing returns boolean
return not IsUnitInRange(GetFilterUnit(),GetEnumUnit(),NU7)
endfunction
function W67 takes nothing returns boolean
local integer i=GetUnitTypeId(GetFilterUnit())
return i==1848651848 or i==1848651847 or i==1848651851 or i==1848651850 or i==1848651841 or i==1848651830
endfunction
function k6 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(S87(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))
endfunction
function WL7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(S87(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0)and SP7(300,GetFilterUnit(),Condition(function WZ7))==0)
endfunction
function W17 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(GetUnitLifePercent(GetFilterUnit())<=40.)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(S87(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))
endfunction
function W07 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function W57 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function W27 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))
endfunction
function W_7 takes nothing returns boolean
return(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))
endfunction
function k642 takes nothing returns boolean
return((not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function k65 takes nothing returns boolean
return(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))))
endfunction
function X47 takes nothing returns boolean
return(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))
endfunction
function X77 takes nothing returns boolean
return(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastCreatedUnit))))
endfunction
function X87 takes nothing returns boolean
return(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))
endfunction
function k7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitLifePercent(GetFilterUnit())<50.))
endfunction
function X97 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitLifePercent(GetFilterUnit())<30.))
endfunction
function k8 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(WE7(GetFilterUnit())))
endfunction
function XD7 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(WE7(GetFilterUnit()))
endfunction
function k9 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(WE7(GetFilterUnit()))and(GetUnitState(GetFilterUnit(),UNIT_STATE_MANA)>200.))
endfunction
function Ka takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(WE7(GetFilterUnit())))
endfunction
function KA takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(WE7(GetFilterUnit())))
endfunction
function XE7 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(WE7(GetFilterUnit())))
endfunction
function KA_Ally takes nothing returns boolean
return((not IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(WE7(GetFilterUnit())))
endfunction
function XF7 takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))))then
if RE7(GetFilterUnit(),bj_lastLoadedUnit)<=250 then
if GetUnitLifePercent(GetFilterUnit())>EI7 then
set IN4=GetFilterUnit()
set EI7=GetUnitLifePercent(IN4)
endif
else
if GetUnitLifePercent(GetFilterUnit())>EJ7 then
set IP4=GetFilterUnit()
set EJ7=GetUnitLifePercent(IP4)
endif
endif
endif
return false
endfunction
function XG7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))and(O_7(GetFilterUnit())>=1)
endfunction
function XH7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(S87(GetFilterUnit())))and(O_7(GetFilterUnit())>=1)
endfunction
function IsUnitAllyHeroAttacking takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405))and P87(GetFilterUnit())
endfunction
function XI7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function XJ7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(S87(GetFilterUnit())))
endfunction
function XK7 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))))
endfunction
function XM7 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))))
endfunction
function XN7 takes nothing returns nothing
local integer XO7=SP7(M37,GetEnumUnit(),M67)
local integer XP7=SP7(M37,MZ7,M67)
if(MZ7==null)or(XO7>XP7)then
set MZ7=GetEnumUnit()
endif
endfunction
function XQ7 takes real XR7,real XS7,unit P47,integer XT7,boolexpr Ig,boolexpr XU7 returns unit
set MX7=XT7
set M37=XS7
set M67=XU7
set MZ7=null
call GroupClear(MY7)
call GroupEnumUnitsInRange(MY7,GetUnitX(P47),GetUnitY(P47),XR7,Ig)
call GroupRemoveUnit(MY7,P47)
call ForGroup(MY7,function XN7)
call DestroyBoolExpr(Ig)
if XU7!=null then
call DestroyBoolExpr(M67)
endif
set M67=null
set Ig=null
return MZ7
endfunction
function XV7 takes unit XW7,unit XX7 returns boolean
local integer XY7=GetHeroLevel(XW7)
local integer XZ7=GetHeroLevel(XX7)
local integer QT7=QQ7(GetUnitTypeId(XX7))
if QT7==E57 or QT7==E27 then
return GetUnitLifePercent(XX7)>=GetUnitLifePercent(XW7)and(XZ7>13)and(XY7>XZ7 or IAbsBJ(XY7-XZ7)<5)
endif
return GetUnitState(XX7,UNIT_STATE_LIFE)<=400 or GetUnitLifePercent(XX7)>=GetUnitLifePercent(XW7)
endfunction
function XA7 takes nothing returns nothing
local integer XO7=SP7(350,GetEnumUnit(),Condition(function XK7))
local integer XP7=SP7(350,MZ7,Condition(function XK7))
local integer XB7=SP7(350,MZ7,Condition(function XJ7))
local real XC7=MC7
local integer X37=SP7(350,GetEnumUnit(),Condition(function XJ7))
local real X67=MC7
if(MZ7==null)or(X37>XB7)then
set MZ7=GetEnumUnit()
elseif X37==XB7 then
set MZ7=PS7(X67>=XC7 or XO7>=XP7,GetEnumUnit(),MZ7)
endif
endfunction
function XL7 takes real XR7,unit P47,integer XT7,boolexpr Ig returns unit
set MX7=XT7
set MZ7=null
call GroupClear(MY7)
call GroupEnumUnitsInRange(MY7,GetUnitX(P47),GetUnitY(P47),XR7,Ig)
call GroupRemoveUnit(MY7,P47)
call ForGroup(MY7,function XA7)
call DestroyBoolExpr(Ig)
set Ig=null
return MZ7
endfunction
function X17 takes nothing returns nothing
local unit O07=GetEnumUnit()
local unit X07
local integer X57=0
if(hy==null)or(XV7(hy,O07)and SP7(350,O07,Condition(function XK7))>0)then
set X07=XL7(350,O07,X57,Condition(function X87))
set X07=PS7(X07!=null,X07,XL7(350,O07,X57,Condition(function XI7)))
if IsUnitType(X07,UNIT_TYPE_HERO)then
set X07=PS7(GetUnitLifePercent(X07)>GetUnitLifePercent(O07),X07,O07)
endif
set MA7=PS7((X07!=null),X07,MA7)
endif
set O07=null
set X07=null
endfunction
function X27 takes real X_7,unit Y47 returns unit
local boolexpr Ig=Condition(function k6)
set hy=null
set MA7=null
set bj_lastLoadedUnit=Y47
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(Y47),GetUnitY(Y47),X_7,Ig)
call GroupRemoveUnit(iA,Y47)
call ForGroup(iA,function X17)
call DestroyBoolExpr(Ig)
set Ig=null
set MB7[GetPlayerId(GetOwningPlayer(Y47))]=hy
return MA7
endfunction
function Y77 takes unit OA7 returns unit
local boolexpr Ig=Condition(function XM7)
set MZ7=null
set bj_lastLoadedUnit=GetEnumUnit()
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(OA7),GetUnitY(OA7),350,Ig)
call GroupRemoveUnit(iA,OA7)
call ForGroup(iA,function XA7)
call DestroyBoolExpr(Ig)
set Ig=null
return MZ7
endfunction
function Y87 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function Y97 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and((i1==1747993430)or(i1==1747993432)or(i1==1747993431)))
endfunction
function YD7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1970169187)or(i1==1966092338)or(i1==1701081721)or(i1==1697656919)))
endfunction
function YE7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function KB takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1970496880)or(i1==1970564964)or(i1==1700884333)or(i1==1700884325)))
endfunction
function Kc takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and(WE7(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<150.))
endfunction
function YF7 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(WE7(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<250.))
endfunction
function FindEnemyCreepTrig takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(WE7(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<250.))
endfunction
function YG7 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(WE7(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<160.))
endfunction
function YH7 takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(WE7(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>200.))
endfunction
function YI7 takes nothing returns boolean
return((not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(WE7(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>200.))
endfunction
function KC takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(WE7(GetFilterUnit())))
endfunction
function Kd takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and(WE7(GetFilterUnit())))
endfunction
function KD takes nothing returns boolean
if((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))or GetUnitTypeId(GetEnumUnit())==1433105516)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and(WE7(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0])or(GetOwningPlayer(GetFilterUnit())==Player(12))))then
if((GetUnitTypeId(GetEnumUnit())==1433105516)or(not IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)))then
return((GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<150.)or(GetUnitLifePercent(GetFilterUnit())<35.))
elseif((GetUnitTypeId(GetEnumUnit())==1433168227)or(GetUnitTypeId(GetEnumUnit())==1160785972))then
return(GetUnitLifePercent(GetFilterUnit())>70.)
endif
endif
return false
endfunction
function YJ7 takes nothing returns boolean
if((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>30.)and(WE7(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0])or(GetOwningPlayer(GetFilterUnit())==Player(12))))then
return(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<EI7)
endif
return false
endfunction
function YK7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())!=1211117642))
endfunction
function YM7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())>40.)and(GetUnitTypeId(GetFilterUnit())!=1211117642))
endfunction
function YN7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MELEE_ATTACKER)==true)and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetUnitLifePercent(GetFilterUnit())>65.)and(not IsUnitIllusion(GetFilterUnit())))
endfunction
function YO7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_RANGED_ATTACKER)==true)and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetUnitLifePercent(GetFilterUnit())>65.)and(not IsUnitIllusion(GetFilterUnit())))
endfunction
function Kf takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(R57(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit())!=1211117642))
endfunction
function YP7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<50.))
endfunction
function YQ7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<30.)and(R57(GetFilterUnit())))
endfunction
function IsUnitHeroAllyUnder70HPEnum takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<70.))
endfunction
function YR7 takes nothing returns boolean
return QS7(GetUnitTypeId(GetFilterUnit()),G)
endfunction
function YS7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<99.)and(GetUnitTypeId(GetFilterUnit())!=1211117642))
endfunction
function YT7 takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))
endfunction
function KG takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
if(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1865429304)or(i1==1865429042)or(i1==1865429058)or(i1==1865429314))then
if(GZ[272+GetPlayerId(GetOwningPlayer(GetFilterUnit()))])then
return(GetUnitUserData(GetFilterUnit())==1)
else
return(GetUnitUserData(GetFilterUnit())==0)
endif
endif
return false
endfunction
function YU7 takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(bj_lastLoadedUnit))and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())==1869901684))
endfunction
function aiIsTechiesMines takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1865429304)or(i1==1865429042)or(i1==1865429058)or(i1==1865429314)or(i1==1869901684)or(i1==1311780943)or(i1==1311780944)or(i1==1311780945)or(i1==1311780942)))
endfunction
function YV7 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1868921189 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))
endfunction
function YW7 takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetFilterUnit()!=bj_lastLoadedUnit)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetWidgetLife(GetFilterUnit())>.405)and((not EM7)or(GetUnitLifePercent(GetFilterUnit())>50)))then
set bj_forLoopAIndexEnd=T[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]-V[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]
if(hy==null)or(bj_forLoopAIndex<bj_forLoopAIndexEnd)then
set hy=GetFilterUnit()
set bj_forLoopAIndex=bj_forLoopAIndexEnd
endif
endif
return false
endfunction
function YX7 takes real K1,unit it,boolean YY7 returns unit
local boolexpr Ig=Condition(function YW7)
set hy=null
set bj_lastLoadedUnit=it
set bj_forLoopAIndex=0
set EM7=YY7
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(it),GetUnitY(it),K1,Ig)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function Kh takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())==1697657392))
endfunction
function KH takes nothing returns boolean
return((GetFilterUnit()!=GetAttacker())and(WE7(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitInRange(GetAttacker(),GetFilterUnit(),800.)))
endfunction
function Ki takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(WE7(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetAttacker()))))
endfunction
function KI takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetAttacker()))))
endfunction
function Kj takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetFilterUnit()!=GetAttacker())and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(WE7(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function KJ takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function Kk takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetFilterUnit()!=GetAttacker())and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function KK takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((SE7(GetFilterUnit()))or((GetUnitLifePercent(GetEnumUnit())-GetUnitLifePercent(GetFilterUnit()))>20.)))
endfunction
function Kl takes nothing returns boolean
return((IsHeroUnitId(GetUnitTypeId(GetFilterUnit())))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((GetUnitLifePercent(GetFilterUnit())<50.)or((GetUnitLifePercent(GetEnumUnit())-GetUnitLifePercent(GetFilterUnit()))>20.)))
endfunction
function KL takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())==1211117642))
endfunction
function Km takes nothing returns boolean
return(((GetUnitTypeId(GetFilterUnit())==1865429304)or(GetUnitTypeId(GetFilterUnit())==1865429042)or(GetUnitTypeId(GetFilterUnit())==1865429058))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function KM takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((GetUnitAbilityLevel(GetFilterUnit(),1113815395)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1113815346)>0)or(GetUnitCurrentOrder(GetFilterUnit())==851973)))
endfunction
function Kn takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,GetFilterUnit(),false,false)==0))
endfunction
function KN takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(kP(GetUnitTypeId(GetFilterUnit()))))
endfunction
function Ko takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(WE7(GetFilterUnit())))
endfunction
function KO takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(SR7(GetFilterUnit(),ZU[WC]))and(Z84[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]!=ZD4))
endfunction
function KP_OLD takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(Z84[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]!=ZD4))
endfunction
function YZ7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function Kq takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(GetFilterUnit()!=GetTriggerUnit()))
endfunction
function KQ takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetSpellTargetUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(not SE7(GetFilterUnit())))
endfunction
function Kr takes nothing returns boolean
if(WP7())then
return GetUnitAbilityLevel(GetFilterUnit(),1112560453)>0
endif
return false
endfunction
function KR takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1865429043)
endfunction
function C6 takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(IsUnitInForce(GetTriggerUnit(),QX4)))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),Z7[0])))
endfunction
function D6 takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),A7[0])))
endfunction
function YA7 takes nothing returns boolean
return(((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),Z7[0])))
endfunction
function YB7 takes nothing returns boolean
return(((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),A7[0])))
endfunction
function YC7 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),Z7[0])))
endfunction
function Kt2 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),Z7[0]))and(eY[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]==3))
endfunction
function Y37 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),A7[0])))
endfunction
function KT2 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),A7[0]))and(eY[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]==3))
endfunction
function Y67 takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit())))
endfunction
function YL7 takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit())))
endfunction
function Kv takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(WE7(GetFilterUnit()))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))
endfunction
function KV takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(WE7(GetFilterUnit()))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_RANGED_ATTACKER)))
endfunction
function Kw takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(WE7(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_RANGED_ATTACKER))and(not IsUnitInRange(GetEnumUnit(),GetFilterUnit(),200.)))
endfunction
function KW takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or((not kD(GetFilterUnit()))and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.))))and(GetUnitLifePercent(GetFilterUnit())>40.))
endfunction
function Y17 takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))then
if(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))then
return true
elseif(not kD(GetFilterUnit()))then
return((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.)))
else
return(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>2)
endif
endif
return false
endfunction
function KX takes nothing returns boolean
if((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(WE7(GetFilterUnit())))then
if((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))then
return true
elseif(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))then
return((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or((not kD(GetFilterUnit()))and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.))))
endif
endif
return false
endfunction
function Ky takes nothing returns boolean
if((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(WE7(GetFilterUnit())))then
if((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))then
return true
elseif(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))then
return((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or((not kD(GetFilterUnit()))and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.))))
endif
endif
return false
endfunction
function KY takes real IW,location b5 returns integer
local boolexpr Ig=Condition(function KW)
call GroupClear(H8)
call GroupEnumUnitsInRangeOfLoc(H8,b5,IW,Ig)
call DestroyBoolExpr(Ig)
set Ig=null
return kB(true,H8)
endfunction
function Kz takes real IW,location b5 returns integer
local boolexpr Ig=Condition(function k6)
call GroupClear(H8)
call GroupEnumUnitsInRangeOfLoc(H8,b5,IW,Ig)
call DestroyBoolExpr(Ig)
set Ig=null
return kB(false,H8)
endfunction
function KZ takes nothing returns nothing
if((hy==null)or(GetUnitState(hy,UNIT_STATE_LIFE)>GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)))and(GetEnumUnit()!=DU7 or DU7==null)then
set hy=GetEnumUnit()
endif
endfunction
function Y07 takes nothing returns nothing
if((hy==null)or(GetUnitState(hy,UNIT_STATE_LIFE)<GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)))and(GetEnumUnit()!=DU7 or DU7==null)then
set hy=GetEnumUnit()
endif
endfunction
function Y57 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WP7)
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function Y27 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WR7)
set hy=null
set bj_lastLoadedUnit=IB
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function Y_7 takes real K1,unit IB,real x,real y returns unit
local boolexpr Ig=Condition(function WR7)
set hy=null
set bj_lastLoadedUnit=IB
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,x,y,K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function Z47 takes real K1,unit IB,boolexpr Ig returns unit
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
return hy
endfunction
function Z77 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WT7)
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function Z87 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WU7)
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function Z97 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WU7)
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function Y07)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZD7 takes nothing returns nothing
if((hy==null)or(GetUnitState(hy,UNIT_STATE_MANA)<GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)))and(GetEnumUnit()!=DU7 or DU7==null)then
set hy=GetEnumUnit()
endif
endfunction
function ZE7 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WP7)
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function ZD7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZF7 takes nothing returns nothing
if((hy==null)or(GetHeroLevel(hy)<GetHeroLevel(GetEnumUnit())))and(GetEnumUnit()!=DU7 or DU7==null)and(UN7(GetHandleId(GetOwningPlayer(GetEnumUnit())),"AI|Class")<=2)then
set hy=GetEnumUnit()
endif
endfunction
function ZG7 takes real K1,unit IB returns unit
local boolexpr Ig=Condition(function WP7)
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function ZF7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZH7 takes nothing returns nothing
if((hy==null)or(GetUnitState(hy,UNIT_STATE_LIFE)>GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)))and(RE7(GetEnumUnit(),bj_lastLoadedUnit)>800.)and(GetEnumUnit()!=DU7 or DU7==null)then
set hy=GetEnumUnit()
endif
endfunction
function ZI7 takes unit IB returns unit
local boolexpr Ig=Condition(function WR7)
set hy=null
set bj_lastLoadedUnit=IB
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),1200.,Ig)
call ForGroup(iA,function ZH7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZJ7 takes nothing returns nothing
if(GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)>IJ4)and((hy==null)or(GetUnitState(hy,UNIT_STATE_MANA)<GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)))and(not IsUnitType(GetEnumUnit(),UNIT_TYPE_MAGIC_IMMUNE))then
set hy=GetEnumUnit()
endif
endfunction
function ZK7 takes unit IB returns unit
local boolexpr Ig=Condition(function WX7)
set hy=null
set bj_lastLoadedUnit=IB
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),750.,Ig)
call ForGroup(iA,function ZJ7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function ZM7 takes nothing returns nothing
local real ZN7=RMinBJ(5.*GetHeroInt(GetEnumUnit(),true),GetUnitState(GetEnumUnit(),UNIT_STATE_MANA))
if EM7 or IsUnitType(GetEnumUnit(),UNIT_TYPE_MAGIC_IMMUNE)then
elseif(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<ZN7*0.75)then
set EM7=true
set hy=GetEnumUnit()
elseif((hy==null)or(IJ4<ZN7))then
set hy=GetEnumUnit()
set IJ4=ZN7
endif
endfunction
function ZO7 takes unit IB returns unit
local boolexpr Ig=Condition(function WR7)
set hy=null
set bj_lastLoadedUnit=IB
set EM7=false
set IJ4=0
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),600.,Ig)
call ForGroup(iA,function ZM7)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function K2 takes real K1,location b5 returns unit
local boolexpr Ig=Condition(function WP7)
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRangeOfLoc(iA,b5,K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
set Ig=null
return hy
endfunction
function K3 takes real K1,unit IB,boolexpr Ig returns unit
set hy=null
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)
call ForGroup(iA,function KZ)
call DestroyBoolExpr(Ig)
return hy
endfunction
function K4 takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(((GetHeroLevel(GetEnumUnit())>5)and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),300.)))or(RE7(GetEnumUnit(),TG7(GetEnumUnit()))>RE7(GetFilterUnit(),TG7(GetEnumUnit())))))
endfunction
function ZP7 takes nothing returns nothing
set GU=true
endfunction
function ZQ7 takes nothing returns boolean
local integer d=GetDestructableTypeId(GetFilterDestructable())
return d==1096053874 or d==1112831095 or d==1263826039 or d==1498703476 or d==1247044468 or d==1498706804 or d==1498702708 or d==1498707828 or d==1247049588 or d==1247049588 or d==1179939959 or d==1129608306 or d==1230271607 or d==1314157687 or d==1330934903 or d==1515484279 or d==1465152372 or d==1280601204 or d==1196716904 or d==1484024948 or d==1465152631 or d==1098151011 or d==1112831075 or d==1129608291 or d==1230271587 or d==1314157667 or d==1515484259
endfunction
function K5 takes nothing returns nothing
if((GetDestructableTypeId(GetEnumDestructable())==1465152372)or(GetDestructableTypeId(GetEnumDestructable())==1230271587)or(GetDestructableTypeId(GetEnumDestructable())==1230271607)or(GetDestructableTypeId(GetEnumDestructable())==1314157687)or(GetDestructableTypeId(GetEnumDestructable())==1096053874))then
set GU=true
endif
endfunction
function K6 takes unit u returns boolean
local boolexpr b
set GU=false
call MoveLocation(Ha,GetUnitX(u),GetUnitY(u))
set bj_enumDestructableCenter=Ha
set bj_enumDestructableRadius=375.
call SetRect(He,GetUnitX(u)-375.,GetUnitY(u)-375.,GetUnitX(u)+375.,GetUnitY(u)+375.)
set b=Filter(function ZQ7)
call EnumDestructablesInRect(He,b,function ZP7)
call DestroyBoolExpr(b)
return GU
endfunction
function ZR7 takes nothing returns nothing
local real dx=GetLocationX(bj_enumDestructableCenter)-GetDestructableX(GetEnumDestructable())
local real dy=GetLocationY(bj_enumDestructableCenter)-GetDestructableY(GetEnumDestructable())
local real r=dx*dx+dy*dy
if GetDestructableLife(GetEnumDestructable())>0.405 and r<bj_enumDestructableRadius then
set WW4=GetEnumDestructable()
set bj_enumDestructableRadius=r
endif
endfunction
function ZS7 takes location l,real r returns boolean
local boolexpr b
set WW4=null
if bj_enumDestructableCenter==null then
set bj_enumDestructableCenter=Location(GetLocationX(l),GetLocationY(l))
else
call MoveLocation(bj_enumDestructableCenter,GetLocationX(l),GetLocationY(l))
endif
set bj_enumDestructableRadius=r*r
call SetRect(He,GetLocationX(l)-r,GetLocationY(l)-r,GetLocationX(l)+r,GetLocationY(l)+r)
set b=Filter(function ZQ7)
call EnumDestructablesInRect(He,b,function ZR7)
call DestroyBoolExpr(b)
set b=null
return WW4!=null
endfunction
function ZT7 takes nothing returns nothing
local real x=GetDestructableX(GetEnumDestructable())
local real y=GetDestructableY(GetEnumDestructable())
local real dx=x-GetLocationX(bj_enumDestructableCenter)
local real dy=y-GetLocationY(bj_enumDestructableCenter)
local real r=dx*dx+dy*dy
local real r2
if r<bj_enumDestructableRadius and GetDestructableLife(GetEnumDestructable())>0.405 then
set dx=x-WX4
set dy=y-WY4
set r=dx*WZ4+dy*WA4
set r2=dx*dx+dy*dy-r*r
if r<WB4 then
elseif r<WC4 and r2<W64*r*r then
set bj_enumDestructableRadius=0
elseif r2<W34*r*r then
set W34=r2/r/r
set WW4=GetEnumDestructable()
endif
endif
endfunction
function ZU7 takes unit u,real XR7 returns boolean
local real x=GetLocationX(GM7)
local real y=GetLocationY(GM7)
local real dx=x-GetUnitX(u)
local real dy=y-GetUnitY(u)
local real r=SquareRoot(dx*dx+dy*dy)
local boolexpr b
set WW4=null
if bj_enumDestructableCenter==null then
set bj_enumDestructableCenter=GetUnitLoc(u)
else
call MoveLocation(bj_enumDestructableCenter,GetUnitX(u),GetUnitY(u))
endif
set bj_enumDestructableRadius=XR7*XR7
set WB4=r*90./225.
set WC4=WB4+r
set WZ4=dx/r
set WA4=dy/r
set WX4=x-WC4*WZ4
set WY4=y-WC4*WA4
set W34=1/(WC4*WC4/((90.+225.)*315.)-1)
set W64=W34
call SetRect(He,GetUnitX(u)-XR7,GetUnitY(u)-XR7,GetUnitX(u)+XR7,GetUnitY(u)+XR7)
set b=Filter(function ZQ7)
call EnumDestructablesInRect(He,b,function ZT7)
call DestroyBoolExpr(b)
set b=null
if WW4==null or bj_enumDestructableRadius==0 then
return false
endif
call MoveLocation(GM7,x+(GetDestructableX(WW4)-x)*225./315.,y+(GetDestructableY(WW4)-y)*225./315.)
return true
endfunction
function K7 takes nothing returns boolean
return((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and((GetUnitAbilityLevel(GetFilterUnit(),1097102451)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1097102385)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1093684533)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1098150517)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1093683785)>0)))
endfunction
function K8 takes nothing returns boolean
return((GetDestructableTypeId(GetFilterDestructable())==1096053874)or(GetDestructableTypeId(GetFilterDestructable())==1314157687))
endfunction
function K9 takes nothing returns nothing
if(GetDestructableMaxLife(GetEnumDestructable())==49.)then
set H0=GetEnumDestructable()
endif
endfunction
function la takes nothing returns nothing
if(GetDestructableMaxLife(GetEnumDestructable())==48.)then
set H0=GetEnumDestructable()
endif
endfunction
function lA takes unit it,boolean O6 returns boolean
call SetRect(He,GetUnitX(it)-600.,GetUnitY(it)-600.,GetUnitX(it)+600.,GetUnitY(it)+600.)
set H0=null
if(O6)then
call EnumDestructablesInRect(He,Condition(function K8),function K9)
else
call EnumDestructablesInRect(He,Condition(function K8),function la)
endif
return H0!=null
endfunction
function ZV7 takes nothing returns boolean
return true
endfunction
function l6 takes multiboard L6,integer c,integer r,string M6 returns nothing
local multiboarditem p6=null
set p6=MultiboardGetItem(L6,r-1,c-1)
call MultiboardSetItemValue(p6,M6)
call MultiboardReleaseItem(p6)
set p6=null
endfunction
function P6 takes multiboard L6,integer c,integer r,string q6 returns nothing
local multiboarditem p6=null
set p6=MultiboardGetItem(L6,r-1,c-1)
call MultiboardSetItemIcon(p6,q6)
call MultiboardReleaseItem(p6)
set p6=null
endfunction
function s6 takes multiboard L6,integer c,integer r,boolean t6,boolean T6 returns nothing
local multiboarditem p6=null
set p6=MultiboardGetItem(L6,r-1,c-1)
call MultiboardSetItemStyle(p6,t6,T6)
call MultiboardReleaseItem(p6)
set p6=null
endfunction
function U6 takes multiboard L6,integer c,integer r,real w6,real Y6,real Z6,real e7 returns nothing
local multiboarditem p6=null
set p6=MultiboardGetItem(L6,r-1,c-1)
call MultiboardSetItemValueColor(p6,PercentTo255(w6),PercentTo255(Y6),PercentTo255(Z6),PercentTo255(100.0-e7))
call MultiboardReleaseItem(p6)
set p6=null
endfunction
function x7 takes multiboard L6,integer c,integer r,real r7 returns nothing
local multiboarditem p6=null
set p6=MultiboardGetItem(L6,r-1,c-1)
call MultiboardSetItemWidth(p6,r7/ 100)
call MultiboardReleaseItem(p6)
set p6=null
endfunction
function ZW7 takes integer i returns nothing
if i>16000 then
set gl[i-16000]=null
elseif i>8000 then
set Fl[i-8000]=null
else
set fl[i]=null
endif
endfunction
function ZX7 takes integer i returns unit
if i>16000 then
return gl[i-16000]
elseif i>8000 then
return Fl[i-8000]
else
return fl[i]
endif
return fl[i]
endfunction
function ZY7 takes integer i returns destructable
if i>16000 then
return YY4[i-16000]
elseif i>8000 then
return YZ4[i-8000]
else
return YA4[i]
endif
return YA4[i]
endfunction
function ZZ7 takes unit u returns integer
set Hl=Hl+1
if Hl>16000 then
set gl[Hl-16000]=u
elseif Hl>8000 then
set Fl[Hl-8000]=u
else
set fl[Hl]=u
endif
return Hl
endfunction
function ZA7 takes integer i returns nothing
if i>16000 then
set YY4[i-16000]=null
elseif i>8000 then
set YZ4[i-8000]=null
else
set YA4[i]=null
endif
endfunction
function ZB7 takes destructable d returns integer
set YB4=YB4+1
if YB4>16000 then
set YY4[YB4-16000]=d
elseif YB4>8000 then
set YZ4[YB4-8000]=d
else
set YA4[YB4]=d
endif
return YB4
endfunction
function ZC7 takes player hd returns boolean
return((hd==Z7[0])or(hd==Z7[1])or(hd==Z7[2])or(hd==Z7[3])or(hd==Z7[4])or(hd==Z7[5]))
endfunction
function Z37 takes player hd returns boolean
return((hd==A7[0])or(hd==A7[1])or(hd==A7[2])or(hd==A7[3])or(hd==A7[4])or(hd==A7[5]))
endfunction
function Z67 takes player p returns boolean
return p==Z7[1]or p==Z7[2]or p==Z7[3]or p==Z7[4]or p==Z7[5]or p==A7[1]or p==A7[2]or p==A7[3]or p==A7[4]or p==A7[5]
endfunction
function ZL7 takes player j8 returns boolean
return((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(j8)==MAP_CONTROL_USER))
endfunction
function Z17 takes player j8 returns boolean
return((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(j8)==MAP_CONTROL_COMPUTER))
endfunction
function Z07 takes player j8 returns boolean
return((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and((GetPlayerController(j8)==MAP_CONTROL_USER)or(GetPlayerController(j8)==MAP_CONTROL_COMPUTER)))
endfunction
function Z57 takes player j8 returns boolean
return((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and((GetPlayerController(j8)==MAP_CONTROL_USER)or(QY4[GetPlayerId(j8)])))
endfunction
function Z27 takes integer OQ7,unit Z_7 returns integer
local integer x=1
local integer Q17=0
loop
exitwhen x>5
if Z07(Z7[x])then
if(GetUnitTypeId(M7[x])==OQ7 and IsUnitEnemy(M7[x],GetOwningPlayer(Z_7)))then
return GetPlayerId(Z7[x])
endif
endif
if Z07(A7[x])then
if(GetUnitTypeId(M7[6+x])==OQ7 and IsUnitEnemy(M7[6+x],GetOwningPlayer(Z_7)))then
return GetPlayerId(A7[x])
endif
endif
set x=x+1
endloop
return Q17
endfunction
function A47 takes unit A77 returns integer
return UN7(GetHandleId(A77),"Invoker|Wex")
endfunction
function A87 takes unit A77 returns integer
return UN7(GetHandleId(A77),"Invoker|Quas")
endfunction
function A97 takes unit A77 returns integer
return UN7(GetHandleId(A77),"Invoker|Exort")
endfunction
function AD7 takes unit A77,integer AE7 returns boolean
local integer AF7=GetHandleId(A77)
local integer AG7=UN7(AF7,"Invoker|Current1")
local integer AH7=UN7(AF7,"Invoker|Current2")
if AE7==AG7 or AE7==AH7 then
return true
endif
return false
endfunction
function AI7 takes unit A77,integer AJ7,integer AK7,integer AM7,boolean AN7 returns boolean
local boolean J4=false
local integer O5=GetPlayerId(GetOwningPlayer(A77))
if(AN7)then
set J4=(Bz>TC4[O5])and IssueImmediateOrderById(A77,AJ7)and IssueImmediateOrderById(A77,AK7)and IssueImmediateOrderById(A77,AM7)
else
set J4=IssueImmediateOrderById(A77,AJ7)and IssueImmediateOrderById(A77,AK7)and IssueImmediateOrderById(A77,AM7)
endif
if(AN7 and J4)then
set J4=IssueImmediateOrderById(A77,852588)
endif
return J4
endfunction
function AO7 takes unit A77,integer AJ7,integer AK7,integer AM7,integer AE7 returns boolean
if(AD7(A77,AE7))then
return true
elseif GetUnitTypeId(A77)==1160786520 and eY[416+GetPlayerId(GetOwningPlayer(A77))]==AE7 then
return true
else
return AI7(A77,AJ7,AK7,AM7,true)
endif
endfunction
function AP7 takes unit it returns unit
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local real AQ7=99999.
local unit AR7
local unit m5=null
local integer j
call GroupClear(H8)
set bj_wantDestroyGroup=false
call GroupAddGroup(ii,H8)
loop
set AR7=FirstOfGroup(H8)
exitwhen(AR7==null)
if((m5==null)or(RE7(it,AR7)<AQ7))then
set j=RG7(GetUnitUserData(AR7))
if((j!=0 or(not PG4))and(j!=1 or(not PH4))and(j!=2 or(not PF4)))then
set m5=AR7
set AQ7=RE7(it,AR7)
endif
endif
call GroupRemoveUnit(H8,AR7)
endloop
set hr=m5
set m5=null
return hr
endfunction
function AS7 takes integer O5,integer UP,integer AT7,integer AU7 returns nothing
set h7[O5]=h7[UP]
set hj[O5]=AT7
set hj[256+O5]=AU7
set hj[512+UP]=O5
set hj[512+O5]=UP
endfunction
function AV7 takes unit it,integer UP returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(UP==0)then
return
endif
set h8[O5]=h7[UP+1]
set h8[80+O5]=h7[UP]
set h9[O5]=h7[UP-1]
set h9[16+O5]=h7[hj[UP]]
set h8[16+O5]=h7[hj[256+UP]]
if(iU(it)and(h4[O5]==null)and(Z17(Player(O5))))then
if(h4[O5]!=null and S87(h4[O5])and RE7(it,h4[O5])<1200)then
elseif(eY[O5]==1)then
if((G0[O5])or(G0[32+O5])or(G0[48+O5])or(not G0[128+O5])or(G0[64+O5])or((SE7(it))and(not Id(O5)))or(GetUnitCurrentOrder(it)==851986))then
call S57(it,851986,h9[O5])
else
call S57(it,851983,h8[O5])
endif
elseif((eY[O5]==3)or(eY[O5]==4))then
if(GetUnitCurrentOrder(it)==851986)then
call S57(it,851986,h9[O5])
endif
endif
endif
if SE7(it)or h4[O5]!=null then
set hq[864+O5]=0
else
set hq[864+O5]=GetRandomReal(-EU7,EU7)
endif
endfunction
function AW7 takes unit it,unit SD7 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local unit m5=AP7(SD7)
if(m5!=null)then
set UP=GetUnitUserData(m5)
if(IsUnitAlly(it,Z7[0]))then
call AV7(it,UP)
else
call AV7(it,hj[512+UP])
endif
endif
set m5=null
endfunction
function AX7 takes unit it returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local unit m5=AP7(it)
if(m5!=null)then
set UP=GetUnitUserData(m5)
if(IsUnitAlly(it,Z7[0]))then
call AV7(it,UP)
else
call AV7(it,hj[512+UP])
endif
endif
set h4[96+O5]=null
set m5=null
endfunction
function M8 takes player j8 returns boolean
if(GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING or GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_LEFT)then
if(GetPlayerController(j8)==MAP_CONTROL_USER or GetPlayerController(j8)==MAP_CONTROL_COMPUTER)then
return true
endif
endif
return false
endfunction
function p8 takes nothing returns nothing
if(Z07(GetEnumPlayer())==true)then
set bj_forceCountPlayers=bj_forceCountPlayers+1
endif
endfunction
function P8 takes force f returns integer
set bj_forceCountPlayers=0
call ForForce(f,function p8)
return bj_forceCountPlayers
endfunction
function hh takes nothing returns nothing
if GetPlayerSlotState(GetEnumPlayer())==PLAYER_SLOT_STATE_PLAYING then
if GetEnumPlayer()!=Player(13)and GetEnumPlayer()!=Player(14)then
set bj_forceCountPlayers=bj_forceCountPlayers+1
endif
endif
endfunction
function q8 takes force f returns integer
set bj_forceCountPlayers=0
call ForForce(f,function hh)
return bj_forceCountPlayers
endfunction
function hi takes integer hI,player j8 returns nothing
if H84 then
call SetPlayerTechMaxAllowed(j8,hI,0)
set J[GetUnitPointValueByType(hI)]=true
endif
endfunction
function AY7 takes integer hI returns nothing
call hi(hI,Z7[1])
call hi(hI,Z7[2])
call hi(hI,Z7[3])
call hi(hI,Z7[4])
call hi(hI,Z7[5])
call hi(hI,A7[1])
call hi(hI,A7[2])
call hi(hI,A7[3])
call hi(hI,A7[4])
call hi(hI,A7[5])
endfunction
function S8 takes integer hI returns nothing
if H84 then
call SetPlayerTechMaxAllowed(Z7[1],hI,0)
call SetPlayerTechMaxAllowed(Z7[2],hI,0)
call SetPlayerTechMaxAllowed(Z7[3],hI,0)
call SetPlayerTechMaxAllowed(Z7[4],hI,0)
call SetPlayerTechMaxAllowed(Z7[5],hI,0)
call SetPlayerTechMaxAllowed(A7[1],hI,0)
call SetPlayerTechMaxAllowed(A7[2],hI,0)
call SetPlayerTechMaxAllowed(A7[3],hI,0)
call SetPlayerTechMaxAllowed(A7[4],hI,0)
call SetPlayerTechMaxAllowed(A7[5],hI,0)
endif
endfunction
function AZ7 takes player j8 returns nothing
local integer T8=KL4
local integer U8=K14
if H84 then
loop
exitwhen T8>U8
call SetPlayerTechMaxAllowed(j8,K34[T8],0)
set T8=T8+1
endloop
set T8=K04
set U8=K54
loop
exitwhen T8>U8
call SetPlayerTechMaxAllowed(j8,K34[T8],0)
set T8=T8+1
endloop
endif
endfunction
function AA7 takes nothing returns nothing
call AZ7(Z7[1])
call AZ7(Z7[2])
call AZ7(Z7[3])
call AZ7(Z7[4])
call AZ7(Z7[5])
call AZ7(A7[1])
call AZ7(A7[2])
call AZ7(A7[3])
call AZ7(A7[4])
call AZ7(A7[5])
endfunction
function AB7 takes player p returns nothing
local integer i
if H84 then
set i=KL4
loop
exitwhen i>K54
if J[i]==false then
call SetPlayerTechMaxAllowed(p,K34[i],1)
endif
set i=i+1
endloop
if ZC7(p)then
set i=KL4
loop
exitwhen i>K14
call SetPlayerTechMaxAllowed(p,K34[i],0)
set i=i+1
endloop
else
set i=K04
loop
exitwhen i>K54
call SetPlayerTechMaxAllowed(p,K34[i],0)
set i=i+1
endloop
endif
endif
endfunction
function AC7 takes player p returns nothing
local integer i
if H84 then
set i=KL4
loop
exitwhen i>K54
if J[i]==false then
call SetPlayerTechMaxAllowed(p,K34[i],1)
endif
set i=i+1
endloop
if ZC7(p)then
set i=K04
loop
exitwhen i>K54
call SetPlayerTechMaxAllowed(p,K34[i],0)
set i=i+1
endloop
else
set i=KL4
loop
exitwhen i>K14
call SetPlayerTechMaxAllowed(p,K34[i],0)
set i=i+1
endloop
endif
endif
endfunction
function A37 takes nothing returns nothing
local integer i
if H84 then
set i=K04
loop
exitwhen i>K54
call SetPlayerTechMaxAllowed(Z7[1],K34[i],0)
call SetPlayerTechMaxAllowed(Z7[2],K34[i],0)
call SetPlayerTechMaxAllowed(Z7[3],K34[i],0)
call SetPlayerTechMaxAllowed(Z7[4],K34[i],0)
call SetPlayerTechMaxAllowed(Z7[5],K34[i],0)
set i=i+1
endloop
set i=KL4
loop
exitwhen i>K14
call SetPlayerTechMaxAllowed(A7[1],K34[i],0)
call SetPlayerTechMaxAllowed(A7[2],K34[i],0)
call SetPlayerTechMaxAllowed(A7[3],K34[i],0)
call SetPlayerTechMaxAllowed(A7[4],K34[i],0)
call SetPlayerTechMaxAllowed(A7[5],K34[i],0)
set i=i+1
endloop
endif
endfunction
function A67 takes nothing returns nothing
local integer T8
local integer U8
local integer AL7=0
set Ge=KL4
set T8=KL4
set U8=K14
loop
exitwhen T8>U8
set AL7=AL7+1
set je[AL7]=T8
set T8=T8+1
endloop
set T8=K04
set U8=K54
loop
exitwhen T8>U8
set AL7=AL7+1
set je[AL7]=T8
set T8=T8+1
endloop
set he=AL7
endfunction
function A17 takes nothing returns integer
return je[GetRandomInt(Ge,he)]
endfunction
function A07 takes nothing returns integer
local integer A57=GetRandomInt(Ge,he)
local integer hs=je[A57]
set hs=je[A57]
if(Ge==he)then
set je[A57]=0
return hs
endif
if(A57==he)then
set he=he-1
return hs
endif
set je[A57]=je[he]
set he=he-1
return hs
endfunction
function A27 takes unit PF7 returns boolean
return GetUnitAbilityLevel(PF7,1110454612)>0 or GetUnitAbilityLevel(PF7,1112437609)>0 or GetUnitAbilityLevel(PF7,1110454616)>0 or GetUnitAbilityLevel(PF7,1112433775)>0 or GetUnitAbilityLevel(PF7,1110454861)>0 or GetUnitAbilityLevel(PF7,1114137953)>0 or GetUnitAbilityLevel(PF7,1110456150)>0 or GetUnitAbilityLevel(PF7,1110458969)>0 or GetUnitAbilityLevel(PF7,1110456399)>0 or GetUnitAbilityLevel(PF7,1110456149)>0 or GetUnitAbilityLevel(PF7,1110459468)>0 or GetUnitAbilityLevel(PF7,1110456406)>0 or GetUnitAbilityLevel(PF7,1110455089)>0 or GetUnitAbilityLevel(PF7,1110459988)>0 or GetUnitAbilityLevel(PF7,1110459975)>0
endfunction
function A_7 takes string hT returns integer
if hT=="a"then
return 10
elseif hT=="b"then
return 11
elseif hT=="c"then
return 12
elseif hT=="d"then
return 13
elseif hT=="e"then
return 14
elseif hT=="f"then
return 15
else
return S2I(hT)
endif
endfunction
function B47 takes string hU returns integer
return A_7(SubString(hU,0,1))*16+A_7(SubString(hU,1,2))
endfunction
function B77 takes integer hX returns boolean
local integer i=1
loop
exitwhen i>C8
if hX==B8[i]then
return false
endif
set i=i+1
endloop
return true
endfunction
function B87 takes unit B97 returns integer
local integer BD7=GetUnitTypeId(B97)
if BD7==1697656914 or BD7==1966092365 then
return 1
elseif BD7==1697657137 or BD7==1966092356 then
return 2
elseif BD7==1697656915 or BD7==1966092366 then
return 3
elseif BD7==1697657145 or BD7==1966092372 then
return 4
endif
return 0
endfunction
function BE7 takes player hV,integer hY returns nothing
local texttag t
if hY>0 then
set t=CreateTextTag()
call SetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD)+hY)
call SetTextTagText(t,"+"+I2S(hY),.025)
call SetTextTagPosUnit(t,M7[GetPlayerId(hV)],0)
call SetTextTagColor(t,255,220,0,255)
call SetTextTagVelocity(t,0,.03)
if GetLocalPlayer()==hV then
call SetTextTagVisibility(t,true)
else
call SetTextTagVisibility(t,false)
endif
call SetTextTagFadepoint(t,2)
call SetTextTagLifespan(t,3)
call SetTextTagPermanent(t,false)
endif
endfunction
function lW takes player hV,integer BF7 returns nothing
local integer x=1
if IsPlayerAlly(hV,Z7[0])then
loop
exitwhen x>5
if Z7[x]!=hV then
call BE7(Z7[x],BF7)
endif
set x=x+1
endloop
endif
set x=1
if IsPlayerAlly(hV,A7[0])then
loop
exitwhen x>5
if A7[x]!=hV then
call BE7(A7[x],BF7)
endif
set x=x+1
endloop
endif
endfunction
function BG7 takes unit hn,integer BH7 returns nothing
local integer BF7
local player p=GetOwningPlayer(hn)
local integer BI7=0
local integer BJ7
set BF7=160+40*BH7
if ZC7(GetOwningPlayer(hn))then
set BJ7=P8(X7)
else
set BJ7=P8(Y7)
endif
if p==Z7[0]or p==A7[0]then
set BI7=R2I(((400+50*BH7)+GetRandomInt(2,20))*0.70)
endif
if IsUnitAlly(GetDyingUnit(),p)then
if IsUnitAlly(hn,Z7[0])then
set p=A7[0]
else
set p=Z7[0]
endif
set BF7=BF7/ 2+BI7/ BJ7
else
set BF7=BF7+BI7/ BJ7
endif
if p==Z7[0]then
call BE7(Z7[1],BF7)
call BE7(Z7[2],BF7)
call BE7(Z7[3],BF7)
call BE7(Z7[4],BF7)
call BE7(Z7[5],BF7)
elseif p==A7[0]then
call BE7(A7[1],BF7)
call BE7(A7[2],BF7)
call BE7(A7[3],BF7)
call BE7(A7[4],BF7)
call BE7(A7[5],BF7)
else
call lW(GetOwningPlayer(hn),BF7)
endif
endfunction
function BK7 takes integer z8 returns boolean
local integer i=1
loop
exitwhen i>M94
if M84[i]==z8 then
return true
endif
set i=i+1
endloop
return false
endfunction
function BM7 takes integer z8 returns boolean
local integer i=1
loop
exitwhen i>K_4
if K24[i]==z8 then
return true
endif
set i=i+1
endloop
return false
endfunction
function BN7 takes integer z8 returns boolean
local integer i=1
loop
exitwhen i>M74
if M44[i]==z8 then
return true
endif
set i=i+1
endloop
return false
endfunction
function BO7 takes player j8 returns nothing
local integer BP7
local integer BQ7
local location BR7
local integer A57
local boolean GotHero=false
set W4[GetPlayerId(j8)]=true
if ZC7(j8)==true then
set BP7=KL4
set BQ7=K14
set BR7=GetRectCenter(ED)
else
set BP7=K04
set BQ7=K54
set BR7=GetRectCenter(L9)
endif
if P4 then
if(GetRandomInt(1,2)==1)then
set BP7=KL4
set BQ7=K14
else
set BP7=K04
set BQ7=K54
endif
endif
loop
set A57=GetRandomInt(BP7,BQ7)
exitwhen J[A57]==false and BK7(K34[A57])and K34[A57]!=1211117643
endloop
if X8==false then
call S8(K34[A57])
set J[A57]=true
endif
call CreateUnitAtLoc(j8,K34[A57],BR7,0)
call RemoveLocation(BR7)
set BR7=null
endfunction
function BS7 takes player j8 returns nothing
local integer BP7
local integer BQ7
local location BR7
local integer A57
local boolean GotHero=false
set W4[GetPlayerId(j8)]=true
if ZC7(j8)==true then
set BP7=KL4
set BQ7=K14
set BR7=GetRectCenter(ED)
else
set BP7=K04
set BQ7=K54
set BR7=GetRectCenter(L9)
endif
if P4 then
if(GetRandomInt(1,2)==1)then
set BP7=KL4
set BQ7=K14
else
set BP7=K04
set BQ7=K54
endif
endif
loop
set A57=GetRandomInt(BP7,BQ7)
exitwhen J[A57]==false and BN7(K34[A57])
endloop
if X8==false then
call S8(K34[A57])
set J[A57]=true
endif
call CreateUnitAtLoc(j8,K34[A57],BR7,0)
call RemoveLocation(BR7)
set BR7=null
endfunction
function BT7 takes player j8 returns nothing
local integer BP7
local integer BQ7
local location BR7
local integer A57
local boolean GotHero=false
set W4[GetPlayerId(j8)]=true
if ZC7(j8)==true then
set BP7=KL4
set BQ7=K14
set BR7=GetRectCenter(ED)
else
set BP7=K04
set BQ7=K54
set BR7=GetRectCenter(L9)
endif
if P4 then
if(GetRandomInt(1,2)==1)then
set BP7=KL4
set BQ7=K14
else
set BP7=K04
set BQ7=K54
endif
endif
loop
set A57=GetRandomInt(BP7,BQ7)
exitwhen J[A57]==false and BM7(K34[A57])
endloop
if X8==false then
call S8(K34[A57])
set J[A57]=true
endif
call CreateUnitAtLoc(j8,K34[A57],BR7,0)
call RemoveLocation(BR7)
set BR7=null
endfunction
function BU7 takes player j8 returns nothing
local integer BP7
local integer BQ7
local location BR7
local integer A57
local boolean GotHero=false
set W4[GetPlayerId(j8)]=true
if ZC7(j8)==true then
set BP7=KL4
set BQ7=K14
set BR7=GetRectCenter(ED)
else
set BP7=K04
set BQ7=K54
set BR7=GetRectCenter(L9)
endif
if P4 then
if(GetRandomInt(1,2)==1)then
set BP7=KL4
set BQ7=K14
else
set BP7=K04
set BQ7=K54
endif
endif
loop
set A57=GetRandomInt(BP7,BQ7)
exitwhen J[A57]==false
endloop
if X8==false then
call S8(K34[A57])
set J[A57]=true
endif
call CreateUnitAtLoc(j8,K34[A57],BR7,0)
call RemoveLocation(BR7)
set BR7=null
endfunction
function ly takes boolean h5,boolean h6 returns integer
local integer h1
local integer h2
if h5 and h6 then
if(GetRandomInt(1,2)==1)then
set h1=KL4
set h2=K14
else
set h1=K04
set h2=K54
endif
elseif h5 then
set h1=KL4
set h2=K14
else
set h1=K04
set h2=K54
endif
return GetRandomInt(h1,h2)
endfunction
function BV7 takes destructable d returns boolean
return GetDestructableTypeId(d)==1314157667 or GetDestructableTypeId(d)==1314157687 or GetDestructableTypeId(d)==1096053874 or GetDestructableTypeId(d)==1110454322 or GetDestructableTypeId(d)==1110454323 or GetDestructableTypeId(d)==1110454325
endfunction
function BW7 takes unit u returns boolean
return GetUnitAbilityLevel(u,1113815395)>0 or GetUnitAbilityLevel(u,1113815346)>0
endfunction
function BX7 takes integer id returns boolean
return id==1966092596 or id==1966092597 or id==1966092598 or id==1966092612 or id==1966092613 or id==1966092614 or id==1966092626 or id==1966092627 or id==1966092628
endfunction
function BY7 takes unit u returns boolean
return GetUnitAbilityLevel(u,1112500344)>0 or GetUnitAbilityLevel(u,1110454344)>0
endfunction
function BZ7 takes integer BD7 returns boolean
if BD7==1852862003 or BD7==1852862006 or BD7==1848652080 or BD7==1848657754 then
return true
endif
if BD7==1852862002 or BD7==1852862006 or BD7==1848652082 or BD7==1848657969 then
return true
endif
if BD7==1852862001 or BD7==1852862004 or BD7==1848652081 or BD7==1848657968 then
return true
endif
return false
endfunction
function BA7 takes player p returns string
return KZ4[GetPlayerId(p)]
endfunction
function BB7 takes integer i returns string
return GetObjectName(i)
endfunction
function BC7 takes force ir,real Hk,string iR returns nothing
if(IsPlayerInForce(GetLocalPlayer(),ir))then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,E9,Hk,iR)
endif
endfunction
function vlv takes nothing returns group
return CreateGroup()
endfunction
function l7 takes integer i returns nothing
if i!=Dy then
set Dx[i]=Dx[Dy]
set DX[i]=DX[Dy]
endif
set Dx[Dy]=null
set DX[Dy]=0
set Dy=Dy-1
endfunction
function l8 takes nothing returns boolean
local real B37=RQ7()
local integer i
set i=1
loop
exitwhen i>Dy
if DX[i]<B37 then
if Dx[i]==null or IsTriggerEnabled(Dx[i])then
call l5()
else
call DestroyTrigger(Dx[i])
endif
call l7(i)
else
set i=i+1
endif
endloop
return false
endfunction
function B67 takes trigger t returns nothing
call TN7(GetHandleId(t))
call DisableTrigger(t)
call DestroyTrigger(t)
endfunction
function FilterTreeSentinels takes nothing returns boolean
return((GetUnitTypeId(GetFilterUnit())==1747993172)or(GetUnitTypeId(GetFilterUnit())==1747993173))
endfunction
function BL7 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer B17=GetHandleId(t)
local unit B07=U87(B17,"TreantUnit")
local unit B57=U87(B17,"SentinelUnit")
local unit OA7=null
local unit u=null
local group g=CreateGroup()
local integer O5=GetPlayerId(GetOwningPlayer(B07))
if((GetTriggerEventId()==EVENT_UNIT_DEATH)and((GetUnitTypeId(B57)==1747993172)or(GetUnitTypeId(B57)==1747993173)))then
call FlushChildHashtable(L7,B17)
call UA7(t)
call DestroyTrigger(t)
elseif((GetUnitTypeId(B57)==1747993172)and(Bz>TC4[64+O5]))then
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(B57),500,Condition(function W27))
if(not Q67(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen IsUnitEnemy(u,GetOwningPlayer(B07))
endloop
set OA7=u
endif
if((GetUnitState(B07,UNIT_STATE_LIFE)>5.)and(OA7!=null)and(Z17(GetOwningPlayer(B07)))and(GetUnitTypeId(B57)==1747993172)and(A27(B07)==false))then
call IssuePointOrderById(B07,852185,GetUnitX(B57),GetUnitY(B57))
set TC4[64+O5]=Bz+10.
endif
else
endif
call DestroyGroup(g)
set t=null
set B07=null
set B57=null
set OA7=null
set u=null
set g=null
return false
endfunction
function B27 takes unit B_7,unit C47 returns nothing
local unit B57=C47
local unit B07=B_7
local trigger t=null
local integer C77=0
local boolexpr b=Condition(function W27)
if(Z17(GetOwningPlayer(B07)))then
set t=CreateTrigger()
set C77=GetHandleId(t)
call TU7(C77,"TreantUnit",B07)
call TU7(C77,"SentinelUnit",B57)
if(GetUnitTypeId(B57)==1747993172)then
call TriggerRegisterUnitInRange(t,B57,500,b)
endif
call TriggerRegisterUnitEvent(t,B57,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function BL7))
endif
call DestroyBoolExpr(b)
set B57=null
set B07=null
set t=null
endfunction
function C87 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer C97=GetHandleId(t)
local fogmodifier CD7=(LoadFogModifierHandle(L7,(C97),(42)))
call FogModifierStop(CD7)
call DestroyFogModifier(CD7)
call FlushChildHashtable(L7,(C97))
call UA7(t)
set t=null
return false
endfunction
function CE7 takes integer id returns boolean
return id==YA or id==QA or id==NA or id==WA or id==JA
endfunction
function CF7 takes unit u returns string
if u==null then
return(GetObjectName((1848654164)))
endif
if GetUnitPointValue(u)==500 then
return"Formless"
elseif GetUnitPointValue(u)==600 then
return"Bastion"
endif
return(GetObjectName((K64[GetUnitPointValue(u)])))
endfunction
function CG7 takes unit PF7 returns string
local integer i=GetUnitPointValue(PF7)
if H34 then
set i=GetPlayerId(GetOwningPlayer(PF7))
if Player(i)==Z7[1]then
return"Blue"
elseif Player(i)==Z7[2]then
return"Teal"
elseif Player(i)==Z7[3]then
return"Purple"
elseif Player(i)==Z7[4]then
return"Yellow"
elseif Player(i)==Z7[5]then
return"Orange"
elseif Player(i)==A7[1]then
return"Pink"
elseif Player(i)==A7[2]then
return"Gray"
elseif Player(i)==A7[3]then
return"Light"
elseif Player(i)==A7[4]then
return"Dark"
elseif Player(i)==A7[5]then
return"Brown"
endif
return"Unknown"
endif
if(i==1)then
return"Shendelzare"
elseif(i==15)then
return"Cairne"
elseif(i==18)then
return"Magi"
elseif(i==21)then
return"Azwraith"
elseif(i==29)then
return"Wisp"
elseif(i==33)then
return"Davion"
elseif(i==65)then
return"Anub'arak"
elseif(i==86)then
return"Vol'Jin"
elseif(i==91)then
return"Azgalor"
elseif(i==93)then
return"Ish'kafel"
elseif(i==97)then
return"Kaldr"
elseif(i==101)then
return"Eredar"
endif
return CF7(PF7)
endfunction
function CH7 takes integer i returns string
if i==0 then
return(GetObjectName((1848654164)))
endif
return(GetObjectName((K64[i])))
endfunction
function CI7 takes unit S4 returns integer
local integer z8
local integer i=0
if S4==null then
return-2
endif
set z8=GetUnitTypeId(S4)
loop
exitwhen i>EV
if AU[i]==z8 then
return i
endif
set i=i+1
endloop
return-1
endfunction
function CJ7 takes unit u returns string
if u==null then
return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
endif
return MH4[GetUnitPointValue(u)]
endfunction
function CK7 takes unit u returns boolean
return GetUnitAbilityLevel(u,1093686070)>0 or GetUnitAbilityLevel(u,1093744441)>0 or GetUnitAbilityLevel(u,1094937961)>0 or GetUnitAbilityLevel(u,1093686101)>0 or GetUnitAbilityLevel(u,1110454580)>0 or GetUnitAbilityLevel(u,1093683251)>0 or UU7(u,"BladeFury|Active")
endfunction
function CM7 takes player p returns boolean
return V8 and(KX4==p or KY4==p)
endfunction
function CN7 takes unit CO7 returns integer
local integer x
local integer id=GetUnitTypeId(CO7)
set x=1
loop
exitwhen x>K_4
if id==K24[x]then
return KC7
endif
set x=x+1
endloop
set x=1
loop
exitwhen x>M74
if id==M44[x]then
return K37
endif
set x=x+1
endloop
set x=1
loop
exitwhen x>M94
if id==M84[x]then
return K67
endif
set x=x+1
endloop
if id==1164277357 or id==1160786518 or id==1160786519 or id==1160786517 or id==1311781442 or id==1311781175 or id==1211119684 or id==1211119683 or id==1211119668 or id==1211119682 or id==1311781171 or id==1311781172 or id==1311781173 or id==1160786511 or id==1311788365 then
return KC7
endif
if id==1311781192 or id==1311781204 or id==1311781194 or id==1211117637 or id==1211117639 or id==1211117638 or id==1211119433 or id==1160786229 or id==1211122513 or id==1211122995 or id==1211122996 or id==1211122997 or id==1429221720 then
return K37
endif
if id==1211119192 or id==1211119193 or id==1211119191 or id==1211122243 or id==1328558391 or id==1311788354 or id==1311788355 or id==1311788367 or id==1311788353 then
return K67
endif
return 0
endfunction
function CP7 takes unit CO7 returns integer
local integer Hm=CN7(CO7)
if Hm==1 then
return GetHeroInt(CO7,true)
endif
if Hm==2 then
return GetHeroAgi(CO7,true)
endif
if Hm==3 then
return GetHeroStr(CO7,true)
endif
return 0
endfunction
function CQ7 takes unit u returns boolean
return GetUnitState(u,UNIT_STATE_LIFE)<1 or IG4[GetPlayerId(GetOwningPlayer(u))]==true
endfunction
function CR7 takes integer z8,integer r,integer g,integer b returns nothing
set CL=CL+1
set NL[CL]=r
set bL[CL]=g
set BL[CL]=b
set cL[CL]=z8
endfunction
function CS7 takes nothing returns nothing
call PauseUnit(GetEnumUnit(),true)
endfunction
function emv takes nothing returns nothing
call DisplayTimedTextToPlayer(GetEnumPlayer(),0,E9,DB,dB)
endfunction
function CT7 takes nothing returns nothing
if eb[GetPlayerId(GetEnumPlayer())]then
call DisplayTimedTextToPlayer(GetEnumPlayer(),0,E9,mb,Lb)
endif
endfunction
function CU7 takes force ir,real Hk,string iR returns nothing
set Lb=iR
set mb=Hk
call ForForce(ir,function CT7)
endfunction
function CV7 takes unit u returns boolean
return GetUnitAbilityLevel(u,1110458953)>0 or GetUnitAbilityLevel(u,1112437619)>0 or GetUnitAbilityLevel(u,1110459734)>0
endfunction
function CW7 takes group g returns nothing
local integer i=GetHandleId(g)-TO4
if i<0 or i>120 then
set TQ4=true
call DestroyGroup(g)
else
call GroupClear(g)
set TM4[i]=false
set TP4=i
endif
endfunction
function CX7 takes nothing returns group
local integer i=TP4
loop
exitwhen i==TP4-1
if TM4[i]==false then
set TP4=i+1
if TP4==120 then
set TP4=0
endif
set TM4[i]=true
return TN4[i]
endif
set i=i+1
if i==120 then
set i=0
endif
endloop
call CU7(L8,5.00,"|c00ff0303CRITICAL ERROR: FOUND NO AVAILABLE GROUPS|r")
call CU7(L8,5.00,"|c00ff0303Send this replay to IceFrog@gmail.com|r")
return CreateGroup()
endfunction
function CY7 takes real CZ7,real dx,real dy,real Vx,real Vy returns real
local real a
local real b
local real d
set a=CZ7*CZ7-Vx*Vx-Vy*Vy
set b=Vx*dx+Vy*dy
if a==0 then
if b>0 then
return 0.
endif
return(dx*dx+dy*dy)/2/b
endif
set d=b*b+a*(dx*dx+dy*dy)
if d<0 then
return 0.
endif
set d=SquareRoot(d)
if b<d then
return(b+d)/a
endif
return(b-d)/a
endfunction
function CA7 takes real x,real y returns boolean
if(x<GetRectMinX(bj_mapInitialPlayableArea)+75)then
return false
endif
if(x>GetRectMaxX(bj_mapInitialPlayableArea)-75)then
return false
endif
if(y<GetRectMinY(bj_mapInitialPlayableArea)+75)then
return false
endif
if(y>GetRectMaxY(bj_mapInitialPlayableArea)-75)then
return false
endif
return true
endfunction
function CB7 takes unit CC7,unit O07,real X,real Y,real r,boolexpr OJ7 returns boolean
local group g=CX7()
local real Hx=GetUnitX(CC7)
local real Hy=GetUnitY(CC7)
local player p=GetOwningPlayer(CC7)
local real dx=(X-Hx)*.5
local real dy=(Y-Hy)*.5
local real R=SquareRoot(dx*dx+dy*dy)
local unit u
local real d
local real C37=99999.
local real C67=0.
local real QE7
call GroupEnumUnitsInRange(g,Hx+dx,Hy+dy,R,OJ7)
set bj_lastReplacedUnit=null
set bj_lastLoadedUnit=null
set bj_forLoopAIndex=0
loop
set u=FirstOfGroup(g)
exitwhen u==null
call GroupRemoveUnit(g,u)
set d=((GetUnitX(u)-Hx)*dy-(GetUnitY(u)-Hy)*dx)/R
if u!=CC7 and u!=O07 and IsUnitVisible(u,p)and d*d<=r*r then
set QE7=RE7(CC7,u)
if QE7<C37 then
set C37=QE7
set bj_lastReplacedUnit=u
endif
if QE7>C67 then
set C67=QE7
set bj_lastLoadedUnit=u
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endif
endloop
call CW7(g)
set g=null
return bj_forLoopAIndex==0
endfunction
function CL7 takes unit CC7,unit O07,real CZ7,real C17,real X_7 returns location
local real dt=TimerGetElapsed(W)
local real X
local real Y
local real dx=GetUnitX(O07)
local real dy=GetUnitY(O07)
call R47(0.1)
set dt=TimerGetElapsed(W)-dt
set X=GetUnitX(O07)
set Y=GetUnitY(O07)
if X==dx and Y==dy then
call MoveLocation(GM7,X,Y)
return GM7
endif
set dx=(X-dx)/dt
set dy=(Y-dy)/dt
set dt=CY7(CZ7,X+dx*C17-GetUnitX(CC7),Y+dy*C17-GetUnitY(CC7),dx,dy)
if dt==0 then
return null
endif
call MoveLocation(GM7,X+dx*(dt+C17),Y+dy*(dt+C17))
if CA7(GetLocationX(GM7),GetLocationY(GM7))then
return GM7
endif
return null
endfunction
function C07 takes unit PF7,unit SD7,real C57,real X_7 returns location
local real W47=GetUnitX(SD7)
local real W77=GetUnitY(SD7)
local real C27=TimerGetElapsed(W)
local real C_7=0
local real L47=0
call R47(0.1)
set C27=1./(TimerGetElapsed(W)-C27)
set C_7=(GetUnitX(SD7)-W47)*C27
set L47=(GetUnitY(SD7)-W77)*C27
if not(C_7==0 and L47==0)then
set W47=W47+C_7*C57
set W77=W77+L47*C57
endif
if RF7(GetUnitX(PF7),GetUnitY(PF7),W47,W77)<=X_7 then
call MoveLocation(GM7,W47,W77)
if CA7(GetLocationX(GM7),GetLocationY(GM7))then
return GM7
endif
endif
return null
endfunction
function L77 takes location U57,real L87,real L97 returns location
local real x=GetLocationX(U57)+L87*Cos(L97*bj_DEGTORAD)
local real y=GetLocationY(U57)+L87*Sin(L97*bj_DEGTORAD)
call MoveLocation(HA,x,y)
return HA
endfunction
function LD7 takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(bj_lastLoadedUnit))and(GetUnitTypeId(GetFilterUnit())==1212363833)and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>.405))
endfunction
function aiSiren_CheckRipTide_Enum takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetUnitTypeId(GetFilterUnit())==1212363833)and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>.405))
endfunction
function LE7 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false and GetUnitAbilityLevel(GetFilterUnit(),1098282348)==0)and SP7(450,GetFilterUnit(),Condition(function LD7))>=1
endfunction
function LF7 takes unit it,unit m5 returns boolean
set bj_lastLoadedUnit=it
set bj_lastLoadedUnit=SN7(350,S07(m5),Condition(function LD7))
return(bj_lastLoadedUnit!=null)
endfunction
function LG7 takes nothing returns boolean
local integer LH7=0
local integer i=0
loop
exitwhen i==120
if TM4[i]==true then
set LH7=LH7+1
endif
set i=i+1
endloop
if LH7>100 or TQ4 then
call CU7(L8,5.00,"|c00ff0303Please send me this replay ("+I2S(LH7)+")")
endif
return false
endfunction
function LI7 takes nothing returns nothing
local integer i=0
set TP4=0
set TN4[i]=CreateGroup()
set TM4[i]=false
set i=i+1
set TO4=GetHandleId(TN4[0])
loop
exitwhen i==120
set TN4[i]=CreateGroup()
set TM4[i]=false
set i=i+1
endloop
endfunction
function LJ7 takes nothing returns boolean
local group g=CX7()
call GroupEnumUnitsInRange(g,0,0,16000,Condition(function ZV7))
call ForGroup(g,function CS7)
call CW7(g)
set g=null
return false
endfunction
function LK7 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function LJ7))
call TriggerEvaluate(t)
set t=null
endfunction
function LM7 takes unit CC7,integer LN7 returns nothing
call UnitAddAbility(CC7,LN7)
call UnitMakeAbilityPermanent(CC7,true,LN7)
endfunction
function LO7 takes unit u returns boolean
return GetUnitTypeId(u)<1 or IsUnitType(u,UNIT_TYPE_DEAD)==true
endfunction
function LP7 takes unit LQ7,unit LR7 returns nothing
if RE7(LQ7,LR7)>1200 or(LO7(LQ7)and GetUnitTypeId(LQ7)==1211117643)then
call AddHeroXP(LQ7,RN7(LR7),true)
endif
endfunction
function LS7 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
call TN7(GetHandleId(U87(UC7,"Unit")))
call ShowUnit(U87(UC7,"Unit"),false)
call RemoveUnit(U87(UC7,"Unit"))
call TN7(UC7)
call UA7(t)
set t=null
return false
endfunction
function LT7 takes unit u,real d returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,d,false)
call TriggerAddCondition(t,Condition(function LS7))
call TU7(UC7,"Unit",u)
set t=null
endfunction
function LU7 takes integer LV7 returns nothing
local unit u=CreateUnit(Player(15),LV7,0,0,0)
call RemoveUnit(u)
set u=null
endfunction
function LW7 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit u=U87(UC7,"u")
local real LX7=UO7(UC7,"duration")
local integer LY7=UN7(UC7,"fade")
if GetTriggerEvalCount(t)/ 10>R2I(LX7)then
call SetUnitVertexColor(u,255,100,255,255)
call TN7(UC7)
call UA7(t)
elseif LO7(u)==false then
call SetUnitVertexColor(u,255,100,255,LY7)
endif
set t=null
set u=null
return false
endfunction
function LZ7 takes unit u,real LX7,integer LY7 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function LW7))
call TU7(UC7,"u",u)
call TR7(UC7,"duration",LX7)
call TQ7(UC7,"fade",LY7)
set t=null
endfunction
function LA7 takes integer z8,real LB7,integer LC7 returns nothing
set Ml=Ml+1
set Jl[Ml]=LB7
set ll[Ml]=z8
set Ll[Ml]=LC7
endfunction
function L37 takes unit u returns real
local integer z8=GetUnitTypeId(u)
local integer i=1
loop
exitwhen i>Ml
if ll[i]==z8 then
return Jl[i]
endif
set i=i+1
endloop
return 1.
endfunction
function L67 takes integer z8,string LL7 returns nothing
set Ql=Ql+1
set Pl[Ql]=LL7
set ql[Ql]=z8
endfunction
function L17 takes unit u returns string
local integer z8=GetUnitTypeId(u)
local integer i=1
loop
exitwhen i>Ql
if ql[i]==z8 then
return Pl[i]
endif
set i=i+1
endloop
return"stand"
endfunction
function L07 takes unit u returns nothing
if GetUnitTypeId(u)==1311781193 then
call SetUnitAnimationByIndex(u,6)
else
call SetUnitAnimation(u,L17(u))
endif
endfunction
function L57 takes player hV,string Ht returns nothing
local sound HT=CreateSound(Ht,false,false,false,10,10,"DefaultEAXON")
if(GetLocalPlayer()==hV)then
call StartSound(HT)
endif
call KillSoundWhenDone(HT)
endfunction
function L27 takes player HU,string Hv returns nothing
local sound HV=CreateSoundFromLabel("InterfaceError",false,false,false,10,10)
if(GetLocalPlayer()==HU)then
if(Hv!="")and(Hv!=null)then
call ClearTextMessages()
call DisplayTimedTextToPlayer(HU,.5,-1.,2.,"|cffffcc00"+Hv+"|r")
endif
call StartSound(HV)
endif
call KillSoundWhenDone(HV)
endfunction
function L_7 takes nothing returns boolean
if(GetTimeOfDay()>6.00 and GetTimeOfDay()<18.00)then
return true
else
return false
endif
endfunction
function D48 takes string H4,boolean H5 returns nothing
if H5 then
call ExecuteFunc(H4)
endif
endfunction
function D78 takes real x returns real
local real H7=GetRectMinX(bj_mapInitialPlayableArea)+50
if(x<H7)then
return H7
endif
set H7=GetRectMaxX(bj_mapInitialPlayableArea)-50
if(x>H7)then
return H7
endif
return x
endfunction
function D88 takes real y returns real
local real H7=GetRectMinY(bj_mapInitialPlayableArea)+50
if(y<H7)then
return H7
endif
set H7=GetRectMaxY(bj_mapInitialPlayableArea)-50
if(y>H7)then
return H7
endif
return y
endfunction
function D98 takes real x returns real
local real XT7=GetRectMinX(bj_mapInitialPlayableArea)+75
if(x<XT7)then
return XT7
endif
set XT7=GetRectMaxX(bj_mapInitialPlayableArea)-75
if(x>XT7)then
return XT7
endif
return x
endfunction
function DD8 takes real y returns real
local real XT7=GetRectMinY(bj_mapInitialPlayableArea)+75
if(y<XT7)then
return XT7
endif
set XT7=GetRectMaxY(bj_mapInitialPlayableArea)-75
if(y>XT7)then
return XT7
endif
return y
endfunction
function DE8 takes integer DF8 returns nothing
local unit u=CreateUnit(Player(15),1211117657,0,0,270)
call UnitAddAbility(u,DF8)
call UnitRemoveAbility(u,DF8)
call RemoveUnit(u)
set u=null
endfunction
function DG8 takes unit u,integer DF8 returns nothing
call UnitAddAbility(u,DF8)
call UnitRemoveAbility(u,DF8)
endfunction
function DH8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer ia=UN7(UC7,"abilcode")
call DE8(ia)
call TN7(UC7)
call UA7(t)
set t=null
return false
endfunction
function DI8 takes integer ia,real DJ8 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TQ7(UC7,"abilcode",ia)
call TriggerRegisterTimerEvent(t,DJ8,false)
call TriggerAddCondition(t,Condition(function DH8))
set t=null
endfunction
function Tree_Killer takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function DK8 takes unit CO7 returns nothing
call TT7(GetHandleId(CO7),"DamageRegisterAlready",false)
call TN7(GetHandleId(CO7))
call RemoveUnit(CO7)
endfunction
function DM8 takes unit hn,integer iB,integer ic returns nothing
if GetUnitAbilityLevel(hn,iB)==0 then
call UnitAddAbility(hn,iB)
endif
call SetUnitAbilityLevel(hn,iB,ic)
endfunction
function DN8 takes integer a,integer b returns integer
if(a<b)then
return a
else
return b
endif
endfunction
function DO8 takes integer a,integer b returns integer
if(a<b)then
return b
else
return a
endif
endfunction
function DP8 takes integer ih,integer a,integer b returns integer
return DO8(DN8(ih,b),a)
endfunction
function DQ8 takes real a,real b returns real
if(a<b)then
return a
else
return b
endif
endfunction
function DR8 takes real a,real b returns real
if(a<b)then
return b
else
return a
endif
endfunction
function iI takes nothing returns nothing
local integer UC7=GetHandleId(GetExpiredTimer())
local unit hn=U87(UC7,"Unit")
call SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+UO7(UC7,"Damage"))
set hn=null
endfunction
function m6 takes unit hn,real DS8 returns nothing
local timer t=CreateTimer()
local integer UC7=GetHandleId(t)
call TR7(UC7,"Damage",DS8)
call TU7(UC7,"Unit",hn)
call TimerStart(t,0,false,function iI)
set t=null
endfunction
function DT8 takes unit hn,real DS8 returns nothing
local real iK=GetUnitState(hn,UNIT_STATE_MAX_LIFE)
local real il=GetUnitState(hn,UNIT_STATE_LIFE)
if(GetUnitState(hn,UNIT_STATE_LIFE)>1)then
if DS8>(iK-il)then
if DS8>=il then
call SetUnitState(hn,UNIT_STATE_LIFE,iK)
call m6(hn,DS8-(iK-il))
else
call m6(hn,DS8)
endif
else
call SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+DS8)
endif
endif
endfunction
function m9 takes unit p5,unit m5,real in returns boolean
local real iN=GetUnitX(p5)
local real io=GetUnitY(p5)
local real hN=GetUnitX(m5)
local real ho=GetUnitY(m5)
return((iN-hN)*(iN-hN)+(io-ho)*(io-ho))<in*in
endfunction
function Ma takes unit p5,unit m5 returns real
local real iN=GetUnitX(p5)
local real io=GetUnitY(p5)
local real hN=GetUnitX(m5)
local real ho=GetUnitY(m5)
if p5==null or m5==null then
return I2R(9999999999)
else
return SquareRoot((iN-hN)*(iN-hN)+(io-ho)*(io-ho))
endif
endfunction
function DU8 takes unit p5,location m5 returns real
local real iN=GetUnitX(p5)
local real io=GetUnitY(p5)
local real hN=GetLocationX(m5)
local real ho=GetLocationY(m5)
if p5==null then
return I2R(9999999999)
else
return SquareRoot((iN-hN)*(iN-hN)+(io-ho)*(io-ho))
endif
endfunction
function DV8 takes unit hn returns nothing
call SetUnitState(hn,UNIT_STATE_MANA,GetUnitState(hn,UNIT_STATE_MAX_MANA))
endfunction
function DW8 takes unit hn,real iS returns nothing
call SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+iS)
endfunction
function DX8 takes nothing returns nothing
call PauseAllUnitsBJ(true)
endfunction
function RepeatedPauseAll takes nothing returns nothing
call TimerStart(CreateTimer(),1,true,function DX8)
endfunction
function iu takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
call DestroyEffect(UH7(UC7,"fx"))
call TN7(UC7)
call UA7(t)
set t=null
return false
endfunction
function DY8 takes string iv,unit hn,string iV,real Hk returns nothing
local effect fx=AddSpecialEffectTarget(iv,hn,iV)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TV7(UC7,"fx",fx)
call TriggerRegisterUnitEvent(t,hn,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function iu))
set fx=null
set t=null
endfunction
function iw takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
call DestroyEffect(UH7(UC7,"fx"))
call TN7(UC7)
call UA7(t)
set t=null
return false
endfunction
function DZ8 takes string iv,real x,real y,real Hk returns nothing
local effect fx=AddSpecialEffect(iv,x,y)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TV7(OC7,"fx",fx)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function iw))
set fx=null
set t=null
endfunction
function ix takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local string iv=UQ7(UC7,"Effect")
local string iV=UQ7(UC7,"Attach")
local integer iX=UN7(UC7,"Count")
call DY8(iv,m5,iV,2)
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>iX then
call TN7(UC7)
call UA7(t)
endif
set t=null
set m5=null
return false
endfunction
function Mv takes timer t returns nothing
call PauseTimer(t)
call TN7(GetHandleId(t))
call DestroyTimer(t)
endfunction
function DA8 takes unit it,unit m5 returns boolean
local real x=RAbsBJ(GetUnitFacing(it)-GetUnitFacing(m5))
if(x<20 or x>340)then
set x=RAbsBJ(GetUnitFacing(it)-PO7(it,m5))
return(x<20 or x>340)
endif
return false
endfunction
function i4 takes nothing returns nothing
call DestroyLightning(UI7(GetHandleId(GetExpiredTimer()),"Lightning"))
endfunction
function DB8 takes string i6,real x1,real y1,real x2,real y2,real r,real g,real b,real a,real Hk returns nothing
local timer t=CreateTimer()
local lightning i7=AddLightning(i6,true,x1,y1,x2,y2)
call SetLightningColor(i7,r,g,b,a)
call TX7(GetHandleId(t),"Lightning",i7)
call TimerStart(t,Hk,false,function i4)
set t=null
endfunction
function DC8 takes string Hx,real Hk,unit HX,real Ia,integer r,integer g,integer b,integer a returns nothing
local texttag tt=CreateTextTag()
call SetTextTagText(tt,Hx,Ia)
call SetTextTagPosUnit(tt,HX,64)
call SetTextTagColor(tt,r,g,b,a)
call SetTextTagVelocity(tt,0,.0355)
call SetTextTagFadepoint(tt,2)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,Hk)
if IsUnitVisible(HX,GetLocalPlayer())or CM7(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
set tt=null
endfunction
function D38 takes player p,string D68,real R77,unit OA7,real DL8,integer r,integer g,integer b,integer a returns nothing
local texttag tt=CreateTextTag()
call SetTextTagText(tt,D68,DL8)
call SetTextTagPosUnit(tt,OA7,64)
call SetTextTagColor(tt,r,g,b,a)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,2)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,R77)
if IsPlayerAlly(GetLocalPlayer(),p)==true or CM7(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
set tt=null
endfunction
function D18 takes trigger t,playerunitevent Ib returns nothing
local integer D08=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(D08),Ib,Condition(function ZV7))
set D08=D08+1
exitwhen D08==16
endloop
endfunction
function D58 takes nothing returns nothing
if BV7(GetEnumDestructable())and IsDestructableAliveBJ(GetEnumDestructable())then
set sl=sl+1
call KillDestructable(GetEnumDestructable())
endif
endfunction
function D28 takes real x,real y,real d returns integer
local rect r=Rect(x-d,y-d,x+d,y+d)
set sl=0
call EnumDestructablesInRect(r,Condition(function ZV7),function D58)
call RemoveRect(r)
set r=null
return sl
endfunction
function D_8 takes real x,real y returns boolean
if IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)then
return false
endif
return true
endfunction
function E48 takes sound E78,real x,real y returns nothing
call SetSoundPosition(E78,x,y,0)
call SetSoundVolume(E78,127)
set bj_lastPlayedSound=E78
if(E78!=null)then
call StartSound(E78)
endif
endfunction
function If takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local fogmodifier IF=U47(UC7,"fog")
call FogModifierStop(IF)
call DestroyFogModifier(IF)
call TN7(UC7)
call UA7(t)
set t=null
set IF=null
return false
endfunction
function E88 takes player p,real Hk,real x,real y,real r returns nothing
local trigger t=CreateTrigger()
local fogmodifier IF=CreateFogModifierRadius(p,FOG_OF_WAR_VISIBLE,x,y,r,true,true)
call FogModifierStart(IF)
call TY7(GetHandleId(t),"fog",IF)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function If))
set IF=null
set t=null
endfunction
function IG takes nothing returns nothing
set bj_groupCountUnits=bj_groupCountUnits+1
endfunction
function Ih takes nothing returns nothing
if BV7(GetEnumDestructable())and GetDestructableLife(GetEnumDestructable())>0 then
set EL=true
endif
endfunction
function nA takes real x,real y,real d returns boolean
local rect r=Rect(x-d,y-d,x+d,y+d)
set EL=false
call EnumDestructablesInRect(r,null,function Ih)
call RemoveRect(r)
set r=null
return EL
endfunction
function Ii takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=U87(OC7,"Target")
local real Ij=UO7(OC7,"Speed")
local unit E98=U87(OC7,"Projectile")
local real x=GetUnitX(E98)
local real y=GetUnitY(E98)
local real ED8=GetUnitX(O07)
local real EE8=GetUnitY(O07)
local real EF8=Ij*.03
local real EG8=PP7(x,y,ED8,EE8)
local real EH8=x+EF8*Cos(EG8*bj_DEGTORAD)
local real EI8=y+EF8*Sin(EG8*bj_DEGTORAD)
local boolean EJ8=(LoadBoolean(L7,(OC7),(698)))
call SetUnitX(E98,EH8)
call SetUnitY(E98,EI8)
call SetUnitFacing(E98,EG8)
if LO7(O07)and EJ8==false then
call KillUnit(E98)
call TN7(OC7)
call UA7(t)
elseif RF7(ED8,EE8,EH8,EI8)<=EF8 then
call KillUnit(E98)
set IN4=U87(OC7,"Source")
set IP4=O07
call ExecuteFunc(UQ7(OC7,"Callback"))
call TN7(OC7)
call UA7(t)
endif
set t=null
set O07=null
set E98=null
return false
endfunction
function EK8 takes unit p5,unit m5,integer IM,string In,real Ij returns trigger
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local real iN=GetUnitX(p5)
local real io=GetUnitY(p5)
local real IN=GetUnitFacing(p5)
call TriggerRegisterTimerEvent(t,.03,true)
call TriggerAddCondition(t,Condition(function Ii))
call TR7(UC7,"Speed",Ij)
call TU7(UC7,"Target",m5)
call TS7(UC7,"Callback",In)
call TU7(UC7,"Source",p5)
call TU7(UC7,"Projectile",CreateUnit(GetOwningPlayer(p5),IM,iN,io,IN))
call SaveBoolean(L7,(UC7),(698),(false))
set eC=t
set t=null
return eC
endfunction
function Io takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
call UnitAddAbility(U87(UC7,"Unit"),1097625443)
call TN7(UC7)
call UA7(t)
set t=null
return false
endfunction
function IO takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer iX=GetTriggerEvalCount(t)
local unit CO7=U87(UC7,"Hero")
local real Ip=UO7(UC7,"curscale")
local real LB7=Ip-(Ip-L37(CO7))*iX/40
if iX>40 or LO7(CO7)then
call TN7(UC7)
call UA7(t)
else
call SetUnitScale(CO7,LB7,LB7,LB7)
endif
set t=null
set CO7=null
return false
endfunction
function ng takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local real Iq=UO7(UC7,"EndScale")
call TN7(UC7)
call UA7(t)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.025,true)
call TriggerAddCondition(t,Condition(function IO))
set UC7=GetHandleId(t)
call TR7(UC7,"curscale",Iq)
call TU7(UC7,"Hero",CO7)
set t=null
set CO7=null
return false
endfunction
function nI takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer iX=GetTriggerEvalCount(t)
local unit CO7=U87(UC7,"Hero")
local real Ir=(UO7(UC7,"scale")-L37(CO7))*iX/40
local real LB7=L37(CO7)+Ir
if iX>40 or LO7(CO7)then
call TN7(UC7)
call UA7(t)
else
call SetUnitScale(CO7,LB7,LB7,LB7)
endif
set t=null
set CO7=null
return false
endfunction
function EM8 takes unit CO7,real Hk,real LB7 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local real Is=LB7*L37(CO7)
local real Iq=Is
call TU7(UC7,"Hero",CO7)
call TR7(UC7,"EndScale",Iq)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function ng))
if Hk>3 then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.025,true)
call TriggerAddCondition(t,Condition(function nI))
set UC7=GetHandleId(t)
call TR7(UC7,"scale",Is)
call TU7(UC7,"Hero",CO7)
else
call SetUnitScale(CO7,Iq,Iq,Iq)
endif
set t=null
endfunction
function IS takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local integer It=UN7(UC7,"Ability")
if CO7!=null and GetUnitAbilityLevel(CO7,It)>0 then
call UnitRemoveAbility(CO7,It)
endif
call TN7(UC7)
call UA7(t)
set t=null
set CO7=null
return false
endfunction
function EN8 takes unit u,integer It,real Hk returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call LM7(u,It)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function IS))
call TU7(UC7,"Hero",u)
call TQ7(UC7,"Ability",It)
set t=null
endfunction
function Iu takes nothing returns nothing
set bj_groupCountUnits=bj_groupCountUnits+1
endfunction
function EO8 takes group g returns integer
set bj_groupCountUnits=0
call ForGroup(g,function Iu)
return bj_groupCountUnits
endfunction
function Iv takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local fogmodifier IF=U47(UC7,"fog")
call FogModifierStop(IF)
call DestroyFogModifier(IF)
call TN7(UC7)
call UA7(t)
set t=null
return false
endfunction
function EP8 takes fogmodifier IF,real Hk returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call FogModifierStart(IF)
call TY7(UC7,"fog",IF)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function Iv))
set t=null
endfunction
function Iw takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer EQ8=GetHandleId(t)
local integer ER8=(LoadInteger(L7,(EQ8),(55)))
local destructable d=ZY7(ER8)
if d!=null then
call RemoveDestructable(d)
endif
call ZA7(ER8)
call TN7(EQ8)
call UA7(t)
set d=null
set t=null
return false
endfunction
function ES8 takes destructable d,real ET8 returns nothing
local trigger t=CreateTrigger()
local integer EQ8=GetHandleId(t)
call TriggerRegisterTimerEvent(t,ET8,false)
call TriggerAddCondition(t,Condition(function Iw))
call SaveInteger(L7,(EQ8),(55),(ZB7(d)))
set t=null
endfunction
function Ix takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local integer It=UN7(UC7,"Ability")
if CO7!=null and GetUnitAbilityLevel(CO7,It)>0 then
call UnitRemoveAbility(CO7,It)
endif
call TN7(UC7)
call UA7(t)
set t=null
set CO7=null
return false
endfunction
function Iy takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
call SetUnitAnimation(U87(UC7,"Unit"),"stand")
call TN7(UC7)
call UA7(t)
set t=null
return false
endfunction
function EU8 takes unit u,real Hk returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TU7(UC7,"Unit",u)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function Iy))
set t=null
endfunction
function nm takes real Hk,boolean IZ,real x,real y,real I0,real I1,real I2,real I3,real I4 returns nothing
local real I5
local real I6
local real I7
if(I1<=0 or I4<=0 or I3<=0)then
return
endif
set I6=2.*Hk/I3
set I5=2.*I1/I4
set I7=I0/I1
call TerrainDeformRipple(x,y,I1,I2,R2I(Hk*1000),1,I5,I6,I7,IZ)
endfunction
function EV8 takes player hV,unit hn,integer hY returns nothing
local texttag t=CreateTextTag()
call SetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD)+hY)
call SetTextTagText(t,"+"+I2S(hY),.025)
call SetTextTagPosUnit(t,hn,0)
call SetTextTagColor(t,255,220,0,255)
call SetTextTagVelocity(t,0,.03)
if GetLocalPlayer()==hV then
call SetTextTagVisibility(t,true)
else
call SetTextTagVisibility(t,false)
endif
call SetTextTagFadepoint(t,2)
call SetTextTagLifespan(t,3)
call SetTextTagPermanent(t,false)
endfunction
function I9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
call RemoveUnit(U87(UC7,"Unit"))
call TN7(UC7)
call UA7(t)
set t=null
return false
endfunction
function nn takes unit u,real d returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,d,false)
call TriggerAddCondition(t,Condition(function I9))
call TU7(UC7,"Unit",u)
set t=null
endfunction
function jA takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
call RemoveUnit(U87(UC7,"Unit"))
call TN7(UC7)
call UA7(t)
set t=null
return false
endfunction
function jb takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
call KillUnit(U87(UC7,"Unit"))
call TN7(UC7)
call UA7(t)
set t=null
return false
endfunction
function EW8 takes unit u,real d returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,d,false)
call TriggerAddCondition(t,Condition(function jb))
call TU7(UC7,"Unit",u)
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,d+.01,false)
call TriggerAddCondition(t,Condition(function jA))
call TU7(UC7,"Unit",u)
set t=null
endfunction
function EX8 takes sound E78 returns nothing
if E78!=null and CW[GetPlayerId(GetLocalPlayer())]==false then
call StartSound(E78)
endif
endfunction
function EY8 takes sound E78,player HU returns nothing
if GetLocalPlayer()==HU and CW[GetPlayerId(HU)]==false then
call StartSound(E78)
endif
endfunction
function EZ8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false
endfunction
function EA8 takes nothing returns nothing
call EY8(VJ4,GetOwningPlayer(GetEnumUnit()))
endfunction
function EB8 takes unit EC8,sound E38,real x,real y,real r returns nothing
local group g=CX7()
set IN4=EC8
set VJ4=E38
call GroupEnumUnitsInRange(g,x,y,r,Condition(function EZ8))
call GroupRemoveUnit(g,EC8)
call ForGroup(g,function EA8)
call CW7(g)
set g=null
endfunction
function E68 takes player p returns nothing
if GetLocalPlayer()==p then
call ClearTextMessages()
endif
endfunction
function EL8 takes unit u,real d returns nothing
call SetUnitState(u,UNIT_STATE_LIFE,DR8(GetUnitState(u,UNIT_STATE_LIFE)-d,1))
endfunction
function E18 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local integer E08=UN7(UC7,"AbilityID")
if UnitRemoveAbility(m5,E08)==true or GetUnitAbilityLevel(m5,E08)==0 then
call TN7(UC7)
call UA7(t)
endif
set t=null
set m5=null
return false
endfunction
function E58 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local integer E08=UN7(UC7,"AbilityID")
call TN7(UC7)
call UA7(t)
if UnitRemoveAbility(m5,E08)==false then
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function E18))
call TU7(UC7,"Target",m5)
call TQ7(UC7,"AbilityID",E08)
endif
set t=null
set m5=null
return false
endfunction
function E28 takes unit m5,integer E08,integer BH7,real Hk returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call LM7(m5,E08)
call SetUnitAbilityLevel(m5,E08,BH7)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function E58))
call TU7(UC7,"Target",m5)
call TQ7(UC7,"AbilityID",E08)
set t=null
endfunction
function E_8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local integer o6=UN7(UC7,"AbilityID")
local integer F48=UN7(UC7,"AbilityID")
call UnitRemoveAbility(m5,F48)
if UnitRemoveAbility(m5,o6)==true or GetUnitAbilityLevel(m5,o6)==0 then
call TN7(UC7)
call UA7(t)
endif
set t=null
set m5=null
return false
endfunction
function F78 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local integer o6=UN7(UC7,"AbilityID")
local integer F48=UN7(UC7,"BuffID")
call TN7(UC7)
call UA7(t)
call UnitRemoveAbility(m5,F48)
if UnitRemoveAbility(m5,o6)==false then
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function E_8))
call TU7(UC7,"Target",m5)
call TQ7(UC7,"AbilityID",o6)
call TQ7(UC7,"BuffID",F48)
endif
set t=null
set m5=null
return false
endfunction
function F88 takes unit m5,integer o6,integer BH7,real F98,integer F48 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call LM7(m5,o6)
call SetUnitAbilityLevel(m5,o6,BH7)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,F98,false)
call TriggerAddCondition(t,Condition(function F78))
call TU7(UC7,"Target",m5)
call TQ7(UC7,"AbilityID",o6)
call TQ7(UC7,"BuffID",F48)
set t=null
endfunction
function FD8 takes unit S4 returns boolean
local integer z8=GetUnitTypeId(S4)
return z8==1848651828 or z8==1848652103 or z8==1848652099 or z8==1848652088 or z8==1697656907 or z8==1697656905 or z8==1697656908 or z8==1697657162
endfunction
function FE8 takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false
endfunction
function GenericCondition_Structure takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LO7(GetFilterUnit())==false
endfunction
function FF8 takes nothing returns boolean
return CK7(GetFilterUnit())==false and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GenericCondition_EnemyUnitsExNoImmuneNoInvisAndStructureWithAncient takes nothing returns boolean
return CK7(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LO7(GetFilterUnit())==false)
endfunction
function GenericCondition_EnemyUnitsExNoInvisAndStructureWithAncient takes nothing returns boolean
return IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LO7(GetFilterUnit())==false)
endfunction
function GenericCondition_EnemyUnitsExNoImmuneNoInvisWithAncient takes nothing returns boolean
return CK7(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)
endfunction
function FG8 takes nothing returns boolean
return IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)
endfunction
function FH8 takes nothing returns boolean
return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function FI8 takes nothing returns boolean
return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and Z67(GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)
endfunction
function FJ8 takes unit u returns boolean
return GetUnitAbilityLevel(u,1097167980)>0 or GetUnitAbilityLevel(u,1113815395)>0 or GetUnitAbilityLevel(u,1113815346)>0 or GetUnitAbilityLevel(u,1110454606)>0
endfunction
function FK8 takes unit u returns boolean
return(GetUnitAbilityLevel((u),(1110459185))>0)or(GetUnitAbilityLevel((u),(1111844210))>0)or(GetUnitAbilityLevel((u),(1113943655))>0)or(GetUnitAbilityLevel((u),(1113943649))>0)or(GetUnitAbilityLevel((u),(1110454583))>0)or(GetUnitAbilityLevel((u),(1110456120))>0)or(GetUnitAbilityLevel((u),(1110456390))>0)or(GetUnitAbilityLevel((u),(1110456389))>0)or(GetUnitAbilityLevel((u),(1110459730))>0)or(GetUnitAbilityLevel((u),(1110459982))>0)
endfunction
function FM8 takes unit u returns nothing
call UnitRemoveAbility(u,1110459185)
call UnitRemoveAbility(u,1111844210)
call UnitRemoveAbility(u,1113943655)
call UnitRemoveAbility(u,1113943649)
call UnitRemoveAbility(u,1110454583)
call UnitRemoveAbility(u,1110456120)
call UnitRemoveAbility(u,1110456390)
call UnitRemoveAbility(u,1110456389)
call UnitRemoveAbility(u,1110459730)
call UnitRemoveAbility(u,1110459982)
endfunction
function FN8 takes unit u returns nothing
call UnitRemoveAbility(u,1096971630)
call SaveInteger(L7,(GetHandleId(u)),(790),(0))
endfunction
function FO8 takes unit u returns nothing
local integer O37=GetHandleId(u)
local integer FP8=(LoadInteger(L7,(O37),(790)))
call LM7(u,1096971630)
set FP8=FP8+1
call SaveInteger(L7,(O37),(790),(FP8))
endfunction
function FQ8 takes unit u returns nothing
local integer O37=GetHandleId(u)
local integer FP8=(LoadInteger(L7,(O37),(790)))
set FP8=IMaxBJ(FP8-1,0)
call SaveInteger(L7,(O37),(790),(FP8))
if FP8==0 then
call FN8(u)
endif
endfunction
function FR8 takes unit u returns boolean
if u==J64 then
return true
endif
if u==JL4 then
return true
endif
if u==J14 then
return true
endif
if u==J04 then
return true
endif
if u==J54 then
return true
endif
if u==J24 then
return true
endif
if u==J_4 then
return true
endif
if u==K44 then
return true
endif
if u==K74 then
return true
endif
if u==K84 then
return true
endif
if u==K94 then
return true
endif
if u==KD4 then
return true
endif
if u==KE4 then
return true
endif
if u==KF4 then
return true
endif
if u==KG4 then
return true
endif
if u==KH4 then
return true
endif
if u==KI4 then
return true
endif
if u==JG4 then
return true
endif
if u==JH4 then
return true
endif
if u==JI4 then
return true
endif
if u==JJ4 then
return true
endif
if u==JK4 then
return true
endif
if u==JM4 then
return true
endif
if u==JN4 then
return true
endif
if u==JO4 then
return true
endif
if u==JP4 then
return true
endif
if u==JQ4 then
return true
endif
if u==JR4 then
return true
endif
if u==JS4 then
return true
endif
if u==JT4 then
return true
endif
if u==JU4 then
return true
endif
if u==JV4 then
return true
endif
if u==JW4 then
return true
endif
if u==JX4 then
return true
endif
return false
endfunction
function FS8 takes nothing returns boolean
return FR8(GetFilterUnit())and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))and GetUnitLifePercent(GetFilterUnit())<=90.
endfunction
function FT8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GenericCondition_EnemyUnitsExHeroesVision takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))
endfunction
function GenericCondition_EnemyUnitsExHeroes takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true
endfunction
function FU8 takes unit u returns boolean
return GetUnitAbilityLevel(u,1110455864)>0 or GetUnitAbilityLevel(u,1110456148)>0 or GetUnitAbilityLevel(u,1110456118)>0 or GetUnitAbilityLevel(u,1112504171)>0 or GetUnitAbilityLevel(u,1110455378)>0 or GetUnitAbilityLevel(u,1110458677)>0 or GetUnitAbilityLevel(u,1110454609)>0 or GetUnitAbilityLevel(u,1110454326)>0 or GetUnitAbilityLevel(u,1114205814)>0 or GetUnitAbilityLevel(u,1097886070)>0 or GetUnitAbilityLevel(u,1093677617)>0 or GetUnitAbilityLevel(u,1093684020)>0 or GetUnitAbilityLevel(u,1093687362)>0 or GetUnitAbilityLevel(u,1093687858)>0 or GetUnitAbilityLevel(u,1093748545)>0 or GetUnitAbilityLevel(u,1093748823)>0 or GetUnitAbilityLevel(u,1093748824)>0 or GetUnitAbilityLevel(u,1093677130)>0 or GetUnitAbilityLevel(u,1110456395)>0 or GetUnitAbilityLevel(u,1110456408)>0 or GetUnitAbilityLevel(u,1110455097)>0 or GetUnitAbilityLevel(u,1110454347)>0 or GetUnitAbilityLevel(u,1112041075)>0 or GetUnitAbilityLevel(u,1093743664)>0 or GetUnitAbilityLevel(u,1110454833)>0 or GetUnitAbilityLevel(u,1093687876)>0 or GetUnitAbilityLevel(u,1093684052)>0 or GetUnitAbilityLevel(u,1110460216)>0
endfunction
function FV8 takes unit P47 returns boolean
return GetUnitAbilityLevel(P47,1093748823)>0 or GetUnitAbilityLevel(P47,1093748824)>0 or GetUnitAbilityLevel(P47,1110454347)>0 or GetUnitAbilityLevel(P47,1110456118)>0 or GetUnitAbilityLevel(P47,1110456148)>0 or GetUnitAbilityLevel(P47,1093677617)>0 or GetUnitAbilityLevel(P47,1093810499)>0 or GetUnitAbilityLevel(P47,1112041075)>0 or GetUnitAbilityLevel(P47,1110456395)>0 or GetUnitAbilityLevel(P47,1110455864)>0 or GetUnitAbilityLevel(P47,1110455097)>0 or GetUnitAbilityLevel(P47,1093677130)>0 or GetUnitAbilityLevel(P47,1093684052)>0
endfunction
function FW8 takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1868921189 or SR7(GetFilterUnit(),ZU[WC])or GetUnitAbilityLevel(GetFilterUnit(),1093743691)>0 or GetUnitAbilityLevel(GetFilterUnit(),1095332962)>0
endfunction
function FX8 takes unit u returns boolean
return GetUnitAbilityLevel(u,1110454356)==0 and GetUnitAbilityLevel(u,1110454348)==0
endfunction
function FY8 takes unit u,player p returns boolean
return FU8(u)==false or IsUnitVisible(GetFilterUnit(),p)==true
endfunction
function GenericCondition_EnemyUnitsExHeroesNoDotaInvis takes nothing returns boolean
return((IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and FU8(GetFilterUnit())==false
endfunction
function FZ8 takes nothing returns boolean
return((IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(FU8(GetFilterUnit())==false or IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))==true)
endfunction
function FA8 takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),1093751362)==0
endfunction
function FB8 takes nothing returns boolean
return((IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4)))and FJ8(GetFilterUnit())==false
endfunction
function XMI2 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function FC8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)
endfunction
function F38 takes nothing returns boolean
return CK7(GetFilterUnit())==false and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function F68 takes unit R67 returns boolean
return GetUnitTypeId(R67)==1848651828 or GetUnitTypeId(R67)==1848652088 or GetUnitTypeId(R67)==1848652099 or GetUnitTypeId(R67)==1848652103
endfunction
function FL8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit())==1700946284 or GetUnitTypeId(GetFilterUnit())==1970107511)
endfunction
function F18 takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false and BW7(GetFilterUnit())==false
endfunction
function F08 takes nothing returns boolean
return F18()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function jE takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LO7(GetFilterUnit())==false and BW7(GetFilterUnit())==false
endfunction
function F58 takes nothing returns boolean
return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and F18()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GenericCondition_EnemyUnitsVisible takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function GenericCondition_EnemyUnitsAndVisibleOrWW takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))or FU8(GetFilterUnit()))
endfunction
function jF takes nothing returns boolean
return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and F18()
endfunction
function F28 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and F18()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))
endfunction
function F_8 takes nothing returns boolean
return CK7(GetFilterUnit())==false and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function G48 takes nothing returns boolean
return(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4)))and CK7(GetFilterUnit())==false and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function G78 takes nothing returns boolean
return CK7(GetFilterUnit())==false and(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))
endfunction
function G88 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function G98 takes nothing returns boolean
return(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GD8 takes nothing returns boolean
return CK7(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))
endfunction
function GE8 takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false
endfunction
function GF8 takes nothing returns boolean
return CK7(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and F18()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GG8 takes nothing returns boolean
return CK7(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function jh takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and F18()
endfunction
function GH8 takes nothing returns boolean
return IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)
endfunction
function ji takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and F18()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function jI takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and F18()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GI8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and F18()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GJ8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and F18()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function GenericCondition_EnemyHeroesEx_OLD takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and F18()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GK8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GenericCondition_EnemyHeroesExNoDotAInvis takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)or FU8(GetEnumUnit())
endfunction
function GM8 takes nothing returns boolean
return F18()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GN8 takes nothing returns boolean
return F18()
endfunction
function GO8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GP8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GenericCondition_MyUnits takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GQ8 takes nothing returns boolean
return F18()and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function jL takes nothing returns boolean
return F18()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)or IsUnitIllusion(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function jm takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)!=null)
endfunction
function GenericCondition_EnemyUnitsExVisible takes nothing returns boolean
return FT8()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))
endfunction
function GenericCondition_EnemyUnitsExNoWW takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))or(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))==false and FU8(GetFilterUnit()))==false)
endfunction
function jn takes nothing returns boolean
return F18()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function ny takes nothing returns boolean
return jn()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))
endfunction
function GR8 takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LO7(GetFilterUnit())==true and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false and GetUnitTypeId(GetFilterUnit())!=1848657461
endfunction
function GS8 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(IN4))==true and B87(GetFilterUnit())>0
endfunction
function GT8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)
endfunction
function GU8 takes nothing returns boolean
return CK7(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))
endfunction
function GV8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GW8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GX8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GenericCondition_AlliedHeroesAndCreeps takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true or GetOwningPlayer(GetFilterUnit())==Z7[0]or GetOwningPlayer(GetFilterUnit())==A7[0])and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GY8 takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and Z67(GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)
endfunction
function GZ8 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true or GetOwningPlayer(GetFilterUnit())==Z7[0]or GetOwningPlayer(GetFilterUnit())==A7[0])and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GA8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GB8 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))
endfunction
function GC8 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(IN4))==true and WE7(GetFilterUnit())and GetWidgetLife(GetFilterUnit())>.405 and GetOwningPlayer(GetFilterUnit())!=Player(PLAYER_NEUTRAL_AGGRESSIVE)
endfunction
function G38 takes nothing returns nothing
local destructable m5=GetEnumDestructable()
local real a=Atan2(GetDestructableY(m5)-GetUnitY(IN4),GetDestructableX(m5)-GetUnitX(IN4))
local real G68=RAbsBJ((IJ4-a)*bj_RADTODEG)
if(BV7(m5)or GetDestructableTypeId(m5)==1110454325)and GetDestructableLife(m5)>1 and G68<wB and G68<(RU-5)then
set wB=G68
set SB=m5
endif
set m5=null
endfunction
function GL8 takes unit G18,unit p5,real l4 returns destructable
local real x=GetUnitX(G18)
local real y=GetUnitY(G18)
local rect r=Rect(x-zB,y-zB,x+zB,y+zB)
set wB=9999
set IN4=G18
set SB=null
call EnumDestructablesInRect(r,Condition(function ZV7),function G38)
call RemoveRect(r)
set r=null
return SB
endfunction
function G08 takes nothing returns nothing
local unit m5=GetEnumUnit()
local real a=Atan2(GetUnitY(m5)-GetUnitY(IN4),GetUnitX(m5)-GetUnitX(IN4))
local real G68=RAbsBJ((IJ4-a)*bj_RADTODEG)
if G68<wB and G68<RU and m5!=IP4 then
set wB=G68
set TB=m5
endif
set m5=null
endfunction
function G58 takes unit G18,unit p5,real l4 returns unit
local group g=CX7()
set TB=null
set wB=9999
set IN4=G18
set IJ4=Atan2(GetUnitY(p5)-XM4,GetUnitX(p5)-XK4)
set IP4=p5
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),yB,Condition(function F_8))
call ForGroup(g,function G08)
call CW7(g)
set g=null
return TB
endfunction
function G28 takes unit G18,unit p5,real l4 returns unit
local group g=CX7()
set TB=null
set wB=9999
set IN4=G18
set IJ4=l4
set IP4=p5
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),yB,Condition(function G48))
call ForGroup(g,function G08)
call CW7(g)
set g=null
return TB
endfunction
function G_8 takes real H48 returns integer
if H48>=4.00 then
return 24
elseif H48>=3.75 then
return 23
elseif H48>=3.5 then
return 22
elseif H48>=3.25 then
return 21
elseif H48>=3 then
return 20
elseif H48>=2.8 then
return 19
elseif H48>=2.75 then
return 18
elseif H48>=2.6 then
return 17
elseif H48>=2.5 then
return 16
elseif H48>=2.4 then
return 15
elseif H48>=2.25 then
return 14
elseif H48>=2.2 then
return 13
elseif H48>=2 then
return 12
elseif H48>=1.8 then
return 11
elseif H48>=1.75 then
return 10
elseif H48>=1.65 then
return 9
elseif H48>=1.5 then
return 8
elseif H48>=1.4 then
return 7
elseif H48>=1.25 then
return 6
elseif H48>=1.2 then
return 5
elseif H48>=1 then
return 4
elseif H48>=0.75 then
return 3
elseif H48>=0.5 then
return 2
elseif H48>=0.25 then
return 1
endif
return 1
endfunction
function H78 takes unit p5,unit m5,real F98 returns nothing
local unit H88=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
local integer H98=G_8(F98)
call UnitAddAbility(H88,1093687350)
call SetUnitAbilityLevel(H88,1093687350,H98)
call IssueTargetOrder(H88,"thunderbolt",m5)
set H88=null
endfunction
function HD8 takes unit EC8,unit O07,integer HE8,real DS8 returns nothing
if HE8==0 then
return
endif
if HE8==ZG4 then
call UnitDamageTarget(EC8,O07,DS8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE,WEAPON_TYPE_WHOKNOWS)
elseif HE8==ZH4 then
call UnitDamageTarget(EC8,O07,DS8,true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
elseif HE8==ZI4 then
call UnitDamageTarget(EC8,O07,DS8,true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
elseif HE8==ZJ4 then
call UnitDamageTarget(EC8,O07,DS8,true,true,ATTACK_TYPE_PIERCE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
elseif HE8==ZK4 then
call UnitDamageTarget(EC8,O07,DS8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
endif
endfunction
function HF8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local integer HG8=UN7(UC7,"TargetIndex")
local unit m5=ZX7(HG8)
local integer HE8=UN7(UC7,"DamageType")
local real DS8=UO7(UC7,"Damage")
call HD8(p5,m5,HE8,DS8)
call ZW7(HG8)
call TN7(UC7)
call UA7(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function HH8 takes unit p5,unit m5,integer HE8,real DS8,real F98 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TU7(UC7,"Source",p5)
call TQ7(UC7,"TargetIndex",ZZ7(m5))
call TQ7(UC7,"DamageType",HE8)
call TR7(UC7,"Damage",DS8*1.0)
call TriggerRegisterTimerEvent(t,F98,false)
call TriggerAddCondition(t,Condition(function HF8))
set t=null
endfunction
function jQ takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local integer HE8=UN7(UC7,"DamageType")
local real DS8=UO7(UC7,"Damage")
call HD8(p5,m5,HE8,DS8)
call TN7(UC7)
call UA7(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function HI8 takes unit p5,unit m5,integer HE8,real DS8,real Hk returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TQ7(UC7,"DamageType",HE8)
call TR7(UC7,"Damage",DS8)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function jQ))
set t=null
endfunction
function HJ8 takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer HK8
if d<1 then
call UnitRemoveAbility(u,H64[0])
call UnitRemoveAbility(u,H64[1])
call UnitRemoveAbility(u,H64[2])
call UnitRemoveAbility(u,H64[3])
call UnitRemoveAbility(u,H64[4])
call UnitRemoveAbility(u,H64[5])
call UnitRemoveAbility(u,H64[6])
call UnitRemoveAbility(u,H64[7])
call UnitRemoveAbility(u,H64[8])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set HK8=8
set i=0
loop
exitwhen i>HK8
if b[i]==1 then
call UnitAddAbility(u,H64[i])
else
call UnitRemoveAbility(u,H64[i])
endif
set i=i+1
endloop
endfunction
function HM8 takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer HN8
if d<1 then
call UnitRemoveAbility(u,TK4[0])
call UnitRemoveAbility(u,TK4[1])
call UnitRemoveAbility(u,TK4[2])
call UnitRemoveAbility(u,TK4[3])
call UnitRemoveAbility(u,TK4[4])
call UnitRemoveAbility(u,TK4[5])
call UnitRemoveAbility(u,TK4[6])
call UnitRemoveAbility(u,TK4[7])
call UnitRemoveAbility(u,TK4[8])
call UnitRemoveAbility(u,TK4[9])
call UnitRemoveAbility(u,TK4[10])
return
endif
loop
exitwhen c==0
set c=a/2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set HN8=10
set i=0
loop
exitwhen i>HN8
if b[i]==1 then
call UnitAddAbility(u,TK4[i])
else
call UnitRemoveAbility(u,TK4[i])
endif
set i=i+1
endloop
endfunction
function HO8 takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer HK8
if d<1 then
call UnitRemoveAbility(u,HL4[0])
call UnitRemoveAbility(u,HL4[1])
call UnitRemoveAbility(u,HL4[2])
call UnitRemoveAbility(u,HL4[3])
call UnitRemoveAbility(u,HL4[4])
call UnitRemoveAbility(u,HL4[5])
call UnitRemoveAbility(u,HL4[6])
call UnitRemoveAbility(u,HL4[7])
call UnitRemoveAbility(u,HL4[8])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set HK8=8
set i=0
loop
exitwhen i>HK8
if b[i]==1 then
call UnitAddAbility(u,HL4[i])
else
call UnitRemoveAbility(u,HL4[i])
endif
set i=i+1
endloop
endfunction
function HP8 takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer HQ8
if d<1 then
call UnitRemoveAbility(u,H14[0])
call UnitRemoveAbility(u,H14[1])
call UnitRemoveAbility(u,H14[2])
call UnitRemoveAbility(u,H14[3])
call UnitRemoveAbility(u,H14[4])
call UnitRemoveAbility(u,H14[5])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set HQ8=i
set i=0
loop
exitwhen i>HQ8
if b[i]==1 then
call UnitAddAbility(u,H14[i])
else
call UnitRemoveAbility(u,H14[i])
endif
set i=i+1
endloop
endfunction
function HR8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local player p=UD7(UC7,"p")
local integer i=UN7(UC7,"i")
local string c="|c006699CC"
if(GetObjectName((1848657992)))=="Language: English" and(MJ4[(i)]!="")then
if GetTriggerEvalCount(t)==1 then
call DisplayTimedTextToPlayer(p,0,0,15,"Tip 1: "+c+MJ4[i]+"|r")
call EY8(zR,p)
elseif GetTriggerEvalCount(t)==2 then
call DisplayTimedTextToPlayer(p,0,0,15,"Tip 2: "+c+MK4[i]+"|r")
call EY8(zR,p)
elseif GetTriggerEvalCount(t)==3 then
call DisplayTimedTextToPlayer(p,0,0,15,"Tip 3: "+c+MM4[i]+"|r")
call EY8(zR,p)
elseif GetTriggerEvalCount(t)==4 then
call DisplayTimedTextToPlayer(p,0,0,15,"Tip 4: "+c+MN4[i]+"|r")
call EY8(zR,p)
elseif GetTriggerEvalCount(t)==5 then
call DisplayTimedTextToPlayer(p,0,0,15,"Tip 5: "+c+MO4[i]+"|r")
call EY8(zR,p)
endif
endif
if GetTriggerEvalCount(t)==5 then
call UA7(t)
call TN7(UC7)
endif
set t=null
return false
endfunction
function HS8 takes player p,integer i returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,15.,false)
call TriggerRegisterTimerEvent(t,300.,true)
call TriggerAddCondition(t,Condition(function HR8))
call TA7(UC7,"p",p)
call TQ7(UC7,"i",i)
set t=null
endfunction
function HT8 takes unit EC8 returns integer
local integer BD7=GetUnitTypeId(EC8)
local integer HU8=1865429328
if BD7==1432646245 then
set HU8=1865429326
elseif BD7==1164799855 or BD7==1211117641 or BD7==1211119409 or BD7==1160785973 then
set HU8=1865429327
endif
return HU8
endfunction
function HV8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call KillUnit(H88)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
call SetUnitX(H88,GetUnitX(EC8))
call SetUnitY(H88,GetUnitY(EC8))
endif
set t=null
set EC8=null
set H88=null
return false
endfunction
function HW8 takes unit EC8 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit H88=CreateUnit(GetOwningPlayer(EC8),HT8(EC8),GetUnitX(EC8),GetUnitY(EC8),0)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function HV8))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(19),(H88))
set t=null
endfunction
function HX8 takes integer HY8 returns boolean
local integer i=0
loop
exitwhen i>59
if HY8==V9[i]then
return true
endif
set i=i+1
endloop
return false
endfunction
function HZ8 takes integer BH7 returns integer
local real HA8=RQ7()-M_4
local real HB8=(R2I(HA8)/ 60)-(1/ 2)
local real HC8=100+BH7*BH7*1.5+HB8*15
local integer H38
set H38=R2I(HC8/ 50)
set H38=IMinBJ(H38,59)
set H38=IMaxBJ(H38,0)
return H38
endfunction
function H68 takes player p returns nothing
local integer id=GetPlayerId(p)
local unit HL8=KU4[id]
local unit H18=M7[id]
local integer H08=GetHeroLevel(H18)
local integer i=0
if D4==true then
return
endif
if Y04==false then
return
endif
if W9[id]==1747993652 then
return
endif
if W9[id]!=0 then
call RemoveUnitFromStock(HL8,W9[id])
endif
call AddUnitToStock(HL8,V9[HZ8(H08)],1,1)
set W9[id]=V9[HZ8(H08)]
set H18=null
set HL8=null
endfunction
function H58 takes nothing returns boolean
if D4==true then
return false
endif
call H68(Z7[1])
call H68(Z7[2])
call H68(Z7[3])
call H68(Z7[4])
call H68(Z7[5])
call H68(A7[1])
call H68(A7[2])
call H68(A7[3])
call H68(A7[4])
call H68(A7[5])
return false
endfunction
function H28 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local integer id=(LoadInteger(L7,(OC7),(34)))
local unit H_8=KU4[id]
local unit CC7=M7[id]
local integer H98=GetHeroLevel(CC7)
local integer i=0
call UnitRemoveAbility(H_8,1093808213)
call AddUnitToStock(H_8,V9[HZ8(H98)],1,1)
set W9[id]=V9[HZ8(H98)]
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set CC7=null
return false
endfunction
function I48 takes player p returns nothing
local integer id=GetPlayerId(p)
local unit H_8=KU4[id]
local unit CC7=M7[id]
local integer H98=GetHeroLevel(CC7)
local integer i=0
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call HW8(CC7)
loop
exitwhen i>59
call RemoveUnitFromStock(H_8,V9[i])
set i=i+1
endloop
call TriggerAddCondition(t,Condition(function H28))
call TriggerRegisterTimerEvent(t,300,false)
call SaveInteger(L7,(OC7),(34),(id))
set W9[id]=1747993652
call UnitAddAbility(H_8,1093808213)
call IssueImmediateOrder(H_8,"fanofknives")
set CC7=null
set H_8=null
set t=null
endfunction
function I78 takes nothing returns nothing
set KA4[GetPlayerId(Z7[1])]=0
set KB4[GetPlayerId(Z7[1])]=66
set KC4[GetPlayerId(Z7[1])]=255
set KA4[GetPlayerId(Z7[2])]=48
set KB4[GetPlayerId(Z7[2])]=230
set KC4[GetPlayerId(Z7[2])]=185
set KA4[GetPlayerId(Z7[3])]=50
set KB4[GetPlayerId(Z7[3])]=0
set KC4[GetPlayerId(Z7[3])]=129
set KA4[GetPlayerId(Z7[4])]=255
set KB4[GetPlayerId(Z7[4])]=252
set KC4[GetPlayerId(Z7[4])]=1
set KA4[GetPlayerId(Z7[5])]=255
set KB4[GetPlayerId(Z7[5])]=50
set KC4[GetPlayerId(Z7[5])]=0
set KA4[GetPlayerId(A7[1])]=220
set KB4[GetPlayerId(A7[1])]=50
set KC4[GetPlayerId(A7[1])]=50
set KA4[GetPlayerId(A7[2])]=50
set KB4[GetPlayerId(A7[2])]=50
set KC4[GetPlayerId(A7[2])]=50
set KA4[GetPlayerId(A7[3])]=75
set KB4[GetPlayerId(A7[3])]=150
set KC4[GetPlayerId(A7[3])]=190
set KA4[GetPlayerId(A7[4])]=16
set KB4[GetPlayerId(A7[4])]=60
set KC4[GetPlayerId(A7[4])]=18
set KA4[GetPlayerId(A7[5])]=68
set KB4[GetPlayerId(A7[5])]=42
set KC4[GetPlayerId(A7[5])]=4
endfunction
function I88 takes nothing returns nothing
local integer T8
local integer U8
set Q[GetPlayerId(Z7[0])]="|c00ff0303"
set Q[GetPlayerId(Z7[1])]="|c000042ff"
set Q[GetPlayerId(Z7[2])]="|c001ce6b9"
set Q[GetPlayerId(Z7[3])]="|c00540081"
set Q[GetPlayerId(Z7[4])]="|c00fffc01"
set Q[GetPlayerId(Z7[5])]="|c00ff8000"
set Q[GetPlayerId(A7[0])]="|c0020c000"
set Q[GetPlayerId(A7[1])]="|c00e55bb0"
set Q[GetPlayerId(A7[2])]="|c00959697"
set Q[GetPlayerId(A7[3])]="|c007ebff1"
set Q[GetPlayerId(A7[4])]="|c00106246"
set Q[GetPlayerId(A7[5])]="|c004e2a04"
call SetPlayerColor(Z7[0],PLAYER_COLOR_RED)
call SetPlayerColor(Z7[1],PLAYER_COLOR_BLUE)
call SetPlayerColor(Z7[2],PLAYER_COLOR_CYAN)
call SetPlayerColor(Z7[3],PLAYER_COLOR_PURPLE)
call SetPlayerColor(Z7[4],PLAYER_COLOR_YELLOW)
call SetPlayerColor(Z7[5],PLAYER_COLOR_ORANGE)
call SetPlayerColor(A7[0],PLAYER_COLOR_GREEN)
call SetPlayerColor(A7[1],PLAYER_COLOR_PINK)
call SetPlayerColor(A7[2],PLAYER_COLOR_LIGHT_GRAY)
call SetPlayerColor(A7[3],PLAYER_COLOR_LIGHT_BLUE)
call SetPlayerColor(A7[4],PLAYER_COLOR_AQUA)
call SetPlayerColor(A7[5],PLAYER_COLOR_BROWN)
set T8=1
set U8=5
loop
call PR7(Z7[T8])
if(Z17(Z7[T8]))then
call SetPlayerName(Z7[T8],I2S(T8)+PQ7(Z7[T8])+"Computer")
endif
call PR7(A7[T8])
if(Z17(A7[T8]))then
call SetPlayerName(A7[T8],I2S(5+T8)+PQ7(A7[T8])+"Computer")
endif
set T8=T8+1
exitwhen T8>U8
endloop
endfunction
function I98 takes unit S67 returns boolean
return GetUnitAbilityLevel(S67,1093678162)>0 and Z67(GetOwningPlayer(S67))
endfunction
function ID8 takes real d returns boolean
return 2<d and d<3000
endfunction
function IE8 takes nothing returns nothing
local integer T8=1
set Le=Z7[1]
loop
exitwhen ZL7(Le)or T8>5
set T8=T8+1
set Le=Z7[T8]
endloop
if not ZL7(Le)then
set Le=A7[1]
set T8=1
loop
exitwhen ZL7(Le)or T8>5
set T8=T8+1
set Le=A7[T8]
endloop
endif
endfunction
function IF8 takes player p,string IG8,integer IH8 returns nothing
local string id=I2S(GetPlayerId(p))
call StoreInteger(IV4,id,IG8,IH8)
if Z07(Le)==false then
call IE8()
endif
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,id,IG8)
endif
endfunction
function II8 takes string IG8,integer IH8 returns nothing
call StoreInteger(IV4,"Data",IG8,IH8)
if Z07(Le)==false then
call IE8()
endif
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,"Data",IG8)
endif
endfunction
function IJ8 takes nothing returns boolean
local string s
if IsUnitIllusion(GetTriggerUnit())==false and GetUnitTypeId(GetTriggerUnit())!=1211117642 then
call II8("Learn"+I2S(GetPlayerId(GetTriggerPlayer())),GetLearnedSkill())
endif
return false
endfunction
function IK8 takes nothing returns boolean
local string s
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and IsUnitIllusion(GetTriggerUnit())==false and GetUnitTypeId(GetTriggerUnit())!=1211117642 then
call II8("Cast"+I2S(GetPlayerId(GetTriggerPlayer())),GetSpellAbilityId())
endif
return false
endfunction
function IM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function IJ8))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function IK8))
set t=null
endfunction
function IN8 takes string s,string IO8,string IP8 returns string
local string IQ8=""
local integer i=0
local integer IR8=StringLength(s)
local string IS8
local integer IT8=StringLength(IO8)
local boolean IU8=false
loop
exitwhen i+1>IR8
set IS8=SubString(s,i,i+IT8)
if IS8!=IO8 or IU8 then
set IQ8=IQ8+SubString(s,i,i+1)
set i=i+1
else
set IQ8=IQ8+IP8
set i=i+IT8
set IU8=true
endif
endloop
return IQ8
endfunction
function IV8 takes player IW8,player IX8 returns string
local string s=(GetObjectName((1848656696)))
set s=IN8(s,"$dead",Q[GetPlayerId(IW8)]+(KZ4[GetPlayerId((IW8))])+"|r")
set s=IN8(s,"$killer",Q[GetPlayerId(IX8)]+(KZ4[GetPlayerId((IX8))])+"|r")
return s
endfunction
function IY8 takes nothing returns nothing
local integer i
local integer IZ8=125
call SetUnitOwner(KJ4,Z7[1],false)
set h4[512+GetPlayerId(Z7[1])]=KJ4
call SetUnitOwner(KK4,Z7[2],false)
set h4[512+GetPlayerId(Z7[2])]=KK4
call SetUnitOwner(KM4,Z7[3],false)
set h4[512+GetPlayerId(Z7[3])]=KM4
call SetUnitOwner(KN4,Z7[4],false)
set h4[512+GetPlayerId(Z7[4])]=KN4
call SetUnitOwner(KO4,Z7[5],false)
set h4[512+GetPlayerId(Z7[5])]=KO4
call SetUnitOwner(KP4,A7[1],false)
set h4[512+GetPlayerId(A7[1])]=KP4
call SetUnitOwner(KQ4,A7[2],false)
set h4[512+GetPlayerId(A7[2])]=KQ4
call SetUnitOwner(KR4,A7[3],false)
set h4[512+GetPlayerId(A7[3])]=KR4
call SetUnitOwner(KS4,A7[4],false)
set h4[512+GetPlayerId(A7[4])]=KS4
call SetUnitOwner(KT4,A7[5],false)
set h4[512+GetPlayerId(A7[5])]=KT4
set KU4[GetPlayerId(Z7[1])]=KJ4
set KU4[GetPlayerId(Z7[2])]=KK4
set KU4[GetPlayerId(Z7[3])]=KM4
set KU4[GetPlayerId(Z7[4])]=KN4
set KU4[GetPlayerId(Z7[5])]=KO4
set KU4[GetPlayerId(A7[1])]=KP4
set KU4[GetPlayerId(A7[2])]=KQ4
set KU4[GetPlayerId(A7[3])]=KR4
set KU4[GetPlayerId(A7[4])]=KS4
set KU4[GetPlayerId(A7[5])]=KT4
set i=1
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IZ8)
endif
set i=2
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IZ8)
endif
set i=3
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IZ8)
endif
set i=4
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IZ8)
endif
set i=5
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IZ8)
endif
set i=7
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IZ8)
endif
set i=8
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IZ8)
endif
set i=9
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IZ8)
endif
set i=10
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IZ8)
endif
set i=11
if GetLocalPlayer()==Player(i)then
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,255)
else
call SetUnitVertexColor(KU4[GetPlayerId(Player(i))],255,255,255,IZ8)
endif
set KV4[GetPlayerId(Z7[1])]=GetUnitX(KU4[GetPlayerId(Z7[1])])
set KV4[GetPlayerId(Z7[2])]=GetUnitX(KU4[GetPlayerId(Z7[2])])
set KV4[GetPlayerId(Z7[3])]=GetUnitX(KU4[GetPlayerId(Z7[3])])
set KV4[GetPlayerId(Z7[4])]=GetUnitX(KU4[GetPlayerId(Z7[4])])
set KV4[GetPlayerId(Z7[5])]=GetUnitX(KU4[GetPlayerId(Z7[5])])
set KV4[GetPlayerId(A7[1])]=GetUnitX(KU4[GetPlayerId(A7[1])])
set KV4[GetPlayerId(A7[2])]=GetUnitX(KU4[GetPlayerId(A7[2])])
set KV4[GetPlayerId(A7[3])]=GetUnitX(KU4[GetPlayerId(A7[3])])
set KV4[GetPlayerId(A7[4])]=GetUnitX(KU4[GetPlayerId(A7[4])])
set KV4[GetPlayerId(A7[5])]=GetUnitX(KU4[GetPlayerId(A7[5])])
set KW4[GetPlayerId(Z7[1])]=GetUnitY(KU4[GetPlayerId(Z7[1])])
set KW4[GetPlayerId(Z7[2])]=GetUnitY(KU4[GetPlayerId(Z7[2])])
set KW4[GetPlayerId(Z7[3])]=GetUnitY(KU4[GetPlayerId(Z7[3])])
set KW4[GetPlayerId(Z7[4])]=GetUnitY(KU4[GetPlayerId(Z7[4])])
set KW4[GetPlayerId(Z7[5])]=GetUnitY(KU4[GetPlayerId(Z7[5])])
set KW4[GetPlayerId(A7[1])]=GetUnitY(KU4[GetPlayerId(A7[1])])
set KW4[GetPlayerId(A7[2])]=GetUnitY(KU4[GetPlayerId(A7[2])])
set KW4[GetPlayerId(A7[3])]=GetUnitY(KU4[GetPlayerId(A7[3])])
set KW4[GetPlayerId(A7[4])]=GetUnitY(KU4[GetPlayerId(A7[4])])
set KW4[GetPlayerId(A7[5])]=GetUnitY(KU4[GetPlayerId(A7[5])])
endfunction
function IA8 takes unit CO7 returns boolean
local integer ID=GetUnitTypeId(CO7)
return ID==1848651862 or ID==1848651863 or ID==1848651826 or ID==1848651825 or ID==1848651864 or ID==1849897784 or ID==1848652107 or ID==1848651833
endfunction
function jw takes nothing returns nothing
if(GetOwningPlayer(GetEnumUnit())==Player(0))then
call SetUnitOwner(GetEnumUnit(),Z7[0],false)
if IA8(GetEnumUnit())==false then
call SetUnitColor(GetEnumUnit(),ConvertPlayerColor(0))
endif
else
call SetUnitOwner(GetEnumUnit(),A7[0],false)
if IA8(GetEnumUnit())==false then
call SetUnitColor(GetEnumUnit(),ConvertPlayerColor(6))
endif
endif
endfunction
function Np takes nothing returns nothing
local group IB8=CX7()
call GroupEnumUnitsOfPlayer(IB8,Player(0),Condition(function ZV7))
call ForGroup(IB8,function jw)
call GroupClear(IB8)
call GroupEnumUnitsOfPlayer(IB8,Player(6),Condition(function ZV7))
call ForGroup(IB8,function jw)
call CW7(IB8)
set IB8=null
endfunction
function IC8 takes player p returns nothing
local integer i=0
local string jX=GetPlayerName(p)
local integer IR8=StringLength(jX)
local integer jY=IR8
loop
exitwhen i==IR8
if SubString(jX,i,i+1)=="("and SubString(jX,i-1,i)==" "then
set jY=i-1
call SetPlayerName(p,SubString(jX,0,jY))
set i=IR8
else
set i=i+1
endif
endloop
endfunction
function I38 takes nothing returns nothing
local integer I68
local integer IL8
local integer T8
local integer U8
local integer x=0
local integer y=0
local integer i
local location I18=GetRectCenter(pr)
local location I08=GetRectCenter(qr)
if GetPlayerState(Z7[0],PLAYER_STATE_OBSERVER)!=0 or GetPlayerState(A7[0],PLAYER_STATE_OBSERVER)!=0 then
set V8=true
set Z7[0]=Player(13)
set A7[0]=Player(14)
set KX4=Player(0)
set KY4=Player(6)
call SetAllyColorFilterState(0)
loop
exitwhen x>5
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(0),true)
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(4),true)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(0),false)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(4),false)
set x=x+1
endloop
endif
call ForceAddPlayer(X7,Z7[0])
call ForceAddPlayer(X7,Z7[1])
call ForceAddPlayer(X7,Z7[2])
call ForceAddPlayer(X7,Z7[3])
call ForceAddPlayer(X7,Z7[4])
call ForceAddPlayer(X7,Z7[5])
call ForceAddPlayer(Y7,A7[0])
call ForceAddPlayer(Y7,A7[1])
call ForceAddPlayer(Y7,A7[2])
call ForceAddPlayer(Y7,A7[3])
call ForceAddPlayer(Y7,A7[4])
call ForceAddPlayer(Y7,A7[5])
call ForceAddPlayer(L8,Z7[1])
call ForceAddPlayer(L8,Z7[2])
call ForceAddPlayer(L8,Z7[3])
call ForceAddPlayer(L8,Z7[4])
call ForceAddPlayer(L8,Z7[5])
call ForceAddPlayer(L8,A7[1])
call ForceAddPlayer(L8,A7[2])
call ForceAddPlayer(L8,A7[3])
call ForceAddPlayer(L8,A7[4])
call ForceAddPlayer(L8,A7[5])
if V8 then
call ForceAddPlayer(L8,Player(0))
call ForceAddPlayer(L8,Player(6))
endif
set x=0
set y=0
loop
exitwhen x>5
loop
exitwhen y>5
if(x!=y)then
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(0),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(1),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(2),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(3),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(4),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(5),true)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(6),false)
call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(7),false)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(0),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(1),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(2),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(3),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(4),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(5),true)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(6),false)
call SetPlayerAlliance(A7[x],A7[y],ConvertAllianceType(7),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(0),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(1),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(2),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(3),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(4),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(5),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(6),false)
call SetPlayerAlliance(Z7[x],A7[y],ConvertAllianceType(7),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(0),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(1),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(2),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(3),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(4),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(5),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(6),false)
call SetPlayerAlliance(A7[x],Z7[y],ConvertAllianceType(7),false)
endif
set y=y+1
endloop
set y=0
set x=x+1
endloop
call SetPlayerTeam(Z7[0],0)
call SetPlayerTeam(Z7[1],0)
call SetPlayerTeam(Z7[2],0)
call SetPlayerTeam(Z7[3],0)
call SetPlayerTeam(Z7[4],0)
call SetPlayerTeam(Z7[5],0)
call SetPlayerTeam(A7[0],1)
call SetPlayerTeam(A7[1],1)
call SetPlayerTeam(A7[2],1)
call SetPlayerTeam(A7[3],1)
call SetPlayerTeam(A7[4],1)
call SetPlayerTeam(A7[5],1)
call SetPlayerName(Z7[0],(GetObjectName((1848652622))))
call SetPlayerName(A7[0],(GetObjectName((1848652623))))
call SetPlayerName(B7,(GetObjectName((1848657208))))
call IY8()
if(Z7[0]!=Player(0)or A7[0]!=Player(6))then
call Np()
endif
call I88()
set IL8=q8(X7)
set I68=q8(Y7)
set T8=1
set U8=5
loop
exitwhen T8>U8
if(Z07(Z7[T8]))then
call SetPlayerState(Z7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ IL8))
call SetPlayerState(Z7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
if(Z07(A7[T8]))then
call SetPlayerState(A7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ I68))
call SetPlayerState(A7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
set T8=T8+1
endloop
call SetPlayerHandicapXP(Z7[1],1)
call SetPlayerHandicapXP(Z7[2],1)
call SetPlayerHandicapXP(Z7[3],1)
call SetPlayerHandicapXP(Z7[4],1)
call SetPlayerHandicapXP(Z7[5],1)
call SetPlayerHandicapXP(A7[1],1)
call SetPlayerHandicapXP(A7[2],1)
call SetPlayerHandicapXP(A7[3],1)
call SetPlayerHandicapXP(A7[4],1)
call SetPlayerHandicapXP(A7[5],1)
call SetPlayerState(Z7[0],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Z7[1],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Z7[2],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Z7[3],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Z7[4],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Z7[5],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[0],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[1],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[2],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[3],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[4],PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(A7[5],PLAYER_STATE_GIVES_BOUNTY,1)
call IE8()
call I78()
call IC8(Z7[1])
call IC8(Z7[2])
call IC8(Z7[3])
call IC8(Z7[4])
call IC8(Z7[5])
call IC8(A7[1])
call IC8(A7[2])
call IC8(A7[3])
call IC8(A7[4])
call IC8(A7[5])
set x=1
loop
exitwhen x>5
if Z07(Z7[x])then
call CreateUnitAtLoc(Z7[x],1848651843,I18,bj_UNIT_FACING)
endif
if Z07(A7[x])then
call CreateUnitAtLoc(A7[x],1848651843,I08,bj_UNIT_FACING)
endif
set x=x+1
endloop
call RemoveLocation(I18)
call RemoveLocation(I08)
set i=0
loop
set KZ4[i]=GetPlayerName(Player(i))
set i=i+1
exitwhen i==16
endloop
set I18=null
set I08=null
endfunction
function I58 takes nothing returns nothing
local integer i=1
set KL4=1
set K34[1]=1215723364
set MI4[1]=1747989338
set K64[1]=1848654165
set MH4[1]="ReplaceableTextures\\CommandButtons\\BTNAvengingWatcher.blp"
call L67(K34[1],"stand 4")
call LA7(K34[1],1.35,MI4[1])
set MJ4[i]="Cheap items such as Bracers, Bottle and Magic Stick help give Vengeful Spirit what she needs to use Magic Missile and Swap safely and frequently."
set MK4[i]="By getting Magic Missile first, Vengeful Spirit should take advantage of this powerful stun by moving around the map instead of simply farming in a lane."
set MM4[i]="It sometimes a good idea to save the Command Aura for later in the game when it will give your team more damage."
set MN4[i]="Wave of Terror is used to provide sight, giving you vision over an area or providing an opportunity to use Swap."
set MO4[i]="Swap will allow you to isolate a key hero on their team, sometimes your sacrifice is needed to win the battle and maybe even the game."
set i=i+1
set K34[2]=1215128178
set MI4[2]=1747989552
set K64[2]=1848654145
set MH4[2]="ReplaceableTextures\\CommandButtons\\BTNAvatar.blp"
call L67(K34[2],"attack slam alternate")
call LA7(K34[2],1.3,MI4[2])
set MJ4[i]="When using Arc lightning, try to kill creeps and harass your opponent at the same time"
set MK4[i]="When ganking, you can use Lightning Bolt to ensure you will not lose sight of the target quickly."
set MM4[i]="Lightning Bolt has a mini-stun that can be used against channeling spells and teleporting heroes."
set MN4[i]="Static Field is extremely powerful throughout the game: Use your spells as frequently as possible during fights."
set MO4[i]="Both Lightning Bolt and Wrath of the Thundergod reveal invisible units. Wrath will not damage invisible units."
set i=i+1
set K34[3]=1164799855
set MI4[3]=1747989553
set K64[3]=1848654137
set MH4[3]="ReplaceableTextures\\CommandButtons\\BTNDryad.blp"
call L67(K34[3],"stand 4")
call LA7(K34[3],1,MI4[3])
set MJ4[i]="Enchant can be used on neutral creeps, meaning Enchantress can fight and use neutral creeps to engage enemy heroes effectively."
set MK4[i]="Nature's Attendants heals in an area AOE, so make sure you're far from creeps if you only want to heal yourself."
set MM4[i]="Untouchable is great against physical attacks, but it does not help you survive huge burst damage nukes."
set MN4[i]="Impetus deals negligible damage at short range; switch to normal attacks if your target gets close to save mana."
set MO4[i]="Impetus deals pure damage, making it a great tool against heroes with a lot of resistance because it is not reduced."
set i=i+1
set K34[4]=1328558160
set MI4[4]=1747989554
set K64[4]=1848654136
set MH4[4]="ReplaceableTextures\\CommandButtons\\BTNSeaElemental.blp"
call L67(K34[4],"stand 2")
call LA7(K34[4],1,MI4[4])
set MJ4[i]="Waveform is extremely powerful: Used for damage, chasing, escaping, it even allows you to dodge some spells by casting it at the right time."
set MK4[i]="Morph allows you to manipulate your Agility and Strength. Using the Strength Morph ('F') can act as a heal to help you survive between spells."
set MM4[i]="Use Morph Replicate to take the location of your Replicated unit, making it great for a quick escape or simply as a free teleport."
set MN4[i]="Replicate is usually cast on the strongest ally or enemy to a fight. Certain hero passives or items will retain their effects, so Replicate those heroes."
set MO4[i]="Eye of Skadi and Linken's Sphere are two examples of Statistic-increasing items which give Morphling a lot of versatility and the ability to cast spells often."
set i=i+1
set K34[5]=1214931305
set MI4[5]=1747989555
set K64[5]=1848654167
set MH4[5]="ReplaceableTextures\\CommandButtons\\BTNJaina.blp"
call L67(K34[5],"stand victory")
call LA7(K34[5],1,MI4[5])
set MJ4[i]="CM is a fragile support hero: Items like Bracers and Phase Boots will help her survive and deal with her low movement speed and armor."
set MK4[i]="A few points of Brilliance Aura early on provides your team with massive amounts of extra mana."
set MM4[i]="Enemies hit by Frostbite can still cast spells, so don't take them lightly. "
set MN4[i]="Frostbite on non-hero units will last 10 seconds. This can be useful for killing neutral creeps that are level 5 or lower as well."
set MO4[i]="There are two items that can help you with the perfect Freezing Field: Placement with Kelen's Dagger and the spell immunity of Black King Bar."
set i=i+1
set K34[6]=1211117617
set MI4[6]=1747989556
set K64[6]=1848654134
set MH4[6]="ReplaceableTextures\\CommandButtons\\BTNFelGuardBlue.tga"
call L67(K34[6],"spell")
call LA7(K34[6],1,MI4[6])
set MJ4[i]="Storm Bolt is a skill Sven should usually get early because of its damage and stun. "
set MK4[i]="Take advantage of Storm Bolt's area of effect by hitting additional enemy creeps and heroes whenever possible. "
set MM4[i]="Try to be near your allies when you cast Warcry."
set MN4[i]="Only items that increase Strength will give you additional damage from effect of God's Strength."
set MO4[i]="Casting God's Strength before engaging in fights or casting Storm Bolt will allow you to get additional attacks on your opponent."
set i=i+1
set K34[7]=1212363833
set MI4[7]=1747989557
set K64[7]=1848654160
set MH4[7]="ReplaceableTextures\\CommandButtons\\BTNSeaWitch.blp"
call L67(K34[7],"spell")
call LA7(K34[7],1,MI4[7])
set MJ4[i]="Opponents can attack and cast spells while Ensnared. However, it will work on magic immune units and reveal invisible heroes until the duration expires."
set MK4[i]="Mirror Image can be used defensively to avoid certain spells and dispel debuffs or channeling spells."
set MM4[i]="Items that provide attribute bonuses improve your Image's power."
set MN4[i]="Enemies caught by Song of the Siren are invulnerable while asleep. Save your attacks and spells for after the spell expires."
set MO4[i]="Use Song of the Siren to isolate a magic immune or Cycloned hero (since they will not be affected), or to demolish buildings while enemies are asleep."
set i=i+1
set K34[8]=1333027688
set MI4[8]=1747989558
set K64[8]=1848654148
set MH4[8]="ReplaceableTextures\\CommandButtons\\BTNTauren.blp"
call L67(K34[8],"attack slam")
call LA7(K34[8],1.1,MI4[8])
set MJ4[i]="Although he's a strength hero, Earthshaker (ES) actually plays more like a caster. Damage items are not very useful, but mana items can be nice."
set MK4[i]="A good cast of Fissure can isolate an opponent and cut off their escape. Practice often to achieve devastating results."
set MM4[i]="Kelen's Dagger is an incredible item on ES, it allows you to quickly position yourself for the perfect Fissure or Echoslam."
set MN4[i]="The timing of your spells is important, by spacing them out properly you can keep a group of heroes disabled for several seconds."
set MO4[i]="Due to Raigor's ability to split up an enemy team and keep them stunned, he is great for initiating fights."
set i=i+1
set K34[9]=1212365106
set MI4[9]=1747989559
set K64[9]=1848654168
set MH4[9]="ReplaceableTextures\\CommandButtons\\BTNSatyrTrickster.blp"
call L67(K34[9],"stand 4")
call LA7(K34[9],1,MI4[9])
set MJ4[i]="Getting at least one level of Blink Strike and Smoke Screen help you survive to level 6 when you can learn Permanent Invisibility."
set MK4[i]="Attacking or using your spells makes you visible: Consider the fade time of Permanent Invisibility before placing yourself at risk."
set MM4[i]="Try to position Smoke Screen slightly behind enemies so that they spend more time in the cloud if they retreat."
set MN4[i]="Wraith Bands and later a Yasha or a Diffusal Blade will provide Rikimaru with cheap damage and chasing power for dispatching fragile heroes quickly."
set MO4[i]="Be careful of items that render you visible, such as Dust of Appearance, Sentry Wards or a Gem of True Sight."
set i=i+1
set K34[10]=1311781199
set MI4[10]=1747989560
set K64[10]=1848654169
set MH4[10]="ReplaceableTextures\\CommandButtons\\BTNDruidOfTheClaw.blp"
call L67(K34[10],"spell slam")
call LA7(K34[10],1,MI4[10])
call LA7(1848652083,1.1,MI4[10])
call LA7(1848652084,1.2,MI4[10])
call LA7(1848652085,1.3,MI4[10])
call LA7(1848651828,1,MI4[10])
call LA7(1848652088,1.1,MI4[10])
call LA7(1848652099,1.2,MI4[10])
call LA7(1848652103,1.3,MI4[10])
set MJ4[i]="Spirit Bear is great to have in the lane and allowing Syllabear to fight neutral creeps because of its high HP and damage. "
set MK4[i]="Leveling Spirit Bear also gets various bonuses that make it very powerful for fighting heroes and towers so it is usually the first thing to max out."
set MM4[i]="Your Spirit Bear might be able to handle a lot of damage, but if it dies you will also take damage (100 X its level). If you die, it dies as well."
set MN4[i]="Give items to your bear instead of Syllabear since it is usually engaging the enemy for you. Remember that stat-increasing items do not benefit the bear."
set MO4[i]="True Form gives Syllabear massive HP in his melee form, and Rabid and Battle Cry give both him and his Bear huge damage temporarily."
set i=i+1
set K34[11]=1211117620
set MI4[11]=1747989561
set K64[11]=1848654170
set MH4[11]="ReplaceableTextures\\CommandButtons\\BTNSorceress.blp"
call L67(K34[11],"stand victory")
call LA7(K34[11],1.2,MI4[11])
set MJ4[i]="Light Strike Array is usually a good skill to get at level 1 because it provides you with a stun."
set MK4[i]="Target the ground in their direction instead of clicking on enemies to maximize Dragon Slave's long range."
set MM4[i]="Cheap items will help Lina do her job: Bracers, Bottle, Phase Boots. A Point booster provides a nice HP/mana bonus for its cost."
set MN4[i]="Fiery Soul can help you maneuver better during a fight."
set MO4[i]="Try to stun as many heroes as possible during team fights"
set i=i+1
set K34[12]=1315070563
set MI4[12]=1747989569
set K64[12]=1848656181
set MH4[12]="ReplaceableTextures\\CommandButtons\\BTNChaosBlademaster.blp"
call L67(K34[12],"stand victory")
call LA7(K34[12],1,MI4[12])
set MJ4[i]="Blade Fury is your most important skill early game for getting hero kills and avoiding magic damage."
set MK4[i]="Avoid follow-command (right-clicking) heroes with Blade Fury and instead click the ground near the opponent."
set MM4[i]="Isolate enemy heroes before using Omnislash to prevent Juggernaut from attacking multiple targets and doing less damage."
set MN4[i]="Increasing your attack speed will give you 'extra attacks' during Omnislash, which are treated like a normal attack (in terms of damage and orb effects)."
set MO4[i]="Protect the 1-HP Healing Ward in battles and it can prolong and save the lives of your entire team."
set i=i+1
set K34[13]=1311781185
set MI4[13]=1747989570
set K64[13]=1848654135
set MH4[13]="ReplaceableTextures\\CommandButtons\\BTNSpellBreaker.blp"
call L67(K34[13],"stand ready")
call LA7(K34[13],1,MI4[13])
set MJ4[i]="Glaives of Wisdom is useful to get early because it is useful for killing creeps and harassing your opponent manually ('W' and then the target)."
set MK4[i]="Curse of the Silent will cause an enemy to lose HP/mana if they do not choose to use their spells, or cannot use their spells (disabled, silenced, cooldown)."
set MM4[i]="Last Word will prevent enemies from using multiple spells on you and your team at the same time provided you get close enough."
set MN4[i]="Global Silence can be used for initiating on enemies or saving allies early on. Try to pay attention to your teammates and enemies, even those not nearby."
set MO4[i]="Global Silence will also give your allies the opportunity in team battles to use their spells without repercussions - making it a powerful control spell."
set i=i+1
set K34[14]=1214344551
set MI4[14]=1747989571
set K64[14]=1848654150
set MH4[14]="ReplaceableTextures\\CommandButtons\\BTNTreant.blp"
call L67(K34[14],"stand 3")
call LA7(K34[14],0.72,MI4[14])
set MJ4[i]="Thanks to his high base damage and survivability, Rooftrellen can usually obtain high-tier damage or caster items depending on the needs of the team."
set MK4[i]="Living armor adds significant defensive bonuses to an allied unit. It can even be cast on buildings to make them more resilient and provide regeneration."
set MM4[i]="Nature's Guise is more than an escape tool, it can be used offensively as well. Use it to position allies and yourself near trees before surprising the enemy."
set MN4[i]="Use Eyes in the Forest whenever you can to gain vision of key locations such as the rune spots, neutral creep camps and Roshan."
set MO4[i]="Enemies under the effect of Overgrowth can still use spells and items, so make sure your team acts quickly while enemies remain immobilized."
set i=i+1
set K34[15]=1328558389
set MI4[15]=1747990352
set K64[15]=1848657731
set MH4[15]="ReplaceableTextures\\CommandButtons\\BTNHeroTaurenChieftain.blp"
call L67(K34[15],"stand victory")
call LA7(K34[15],1.1,MI4[15])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[16]=1214409837
set MI4[16]=1747989573
set K64[16]=1848654151
set MH4[16]="ReplaceableTextures\\CommandButtons\\BTNHeroArchMage.blp"
call L67(K34[16],"stand victory")
call LA7(K34[16],1.2,MI4[16])
call LA7(1211119192,1.5,MI4[16])
call LA7(1211119193,1.5,MI4[16])
call LA7(1211119191,1.5,MI4[16])
set MJ4[i]="Chakra Magic is an amazing support skill that you should cast on allies as often as possible if they have powerful spells."
set MK4[i]="Illuminate can be useful for earning gold or clearing creeps quickly, but channeling the blast can leave you vulnerable. "
set MM4[i]="Mana Leak gives you the offensive: an enemy that moves loses his resources to cast spells, but if he does not, you can punish him with spells and attacks."
set MN4[i]="When in your Spirit Form, use Blinding Light to push enemies aside, and Recall for saving or calling on the assistance of an ally."
set MO4[i]="Keeper of the Light usually needs to stay back in fights and make use of the long range of his spells as a support hero when pushing and defending."
set i=i+1
set K34[17]=1215657064
set MI4[17]=1747989574
set K64[17]=1848654166
set MH4[17]="ReplaceableTextures\\CommandButtons\\BTNFurbolgTracker.blp"
call L67(K34[17],"attack spell")
call LA7(K34[17],1.2,MI4[17])
set MJ4[i]="Get Fury Swipes and Overpower early. Fury Swipes is a very powerful orb effect on Ursa, replacing it with another is not advised."
set MK4[i]="Ursa is a very effective hero to fight neutral creeps with: Vladimir's Offering is a recommended item choice."
set MM4[i]="Thanks to Enrage, Ursa usually purchases items that increase HP or Strength over Agility and Damage items."
set MN4[i]="It is a good idea to fight the two ancient camps when you need a quick boost in experience and gold. They are marked red in your minimap."
set MO4[i]="Certain items like Kelen's Dagger and Lothar's Edge will help both close the distance on enemies and take them by surprise."
set i=i+1
set K34[18]=1215130471
set MI4[18]=1747989575
set K64[18]=1848656177
set MH4[18]="ReplaceableTextures\\CommandButtons\\BTNOgreMagi.blp"
call L67(K34[18],"sleep")
call LA7(K34[18],1.4,MI4[18])
set MJ4[i]="Buying a few Clarity Potions, Ring of Basilius or Bottle in the beginning of the game will help you cast a few more spells."
set MK4[i]="Fireblast provides a disable, Ignite provides a slow. Both deal damage, usually making them good skills early."
set MM4[i]="Ogre Magi has a lot of survivability but he does need the ability to use his spells: an Arcane Ring might be the only item you will need all game."
set MN4[i]="Use Bloodlust to help teammates chase and escape enemies and on the hero capable of dealing the most damage before major battles."
set MO4[i]="Focus heroes that need to be shut down quickly with Fireblast: Hopefully they are repeatedly damaged and disabled by the effect of Multicast."
set i=i+1
set K34[19]=1316252014
set MI4[19]=1747989576
set K64[19]=1848656193
set MH4[19]="ReplaceableTextures\\CommandButtons\\BTNHeroTinker.blp"
call L67(K34[19],"stand 2")
call LA7(K34[19],1,MI4[19])
set MJ4[i]="Laser and Missile give Tinker massive burst damage, so it is usually a good idea to get these two skills before Rearm, your ultimate."
set MK4[i]="Laser is not reduced by magic resistance or armor; you deal the number in the description exactly."
set MM4[i]="You can use the active effects of items indefinitely with Rearm, which makes Boots of Travel a very powerful item for Tinker."
set MN4[i]="March of the Machines can be very useful for killing creeps quickly, its large area of effect makes it useful for pushing and team fights."
set MO4[i]="Level 1 of Rearm is generally enough until much later when you have the mana pool to support levels 2 and 3."
set i=i+1
set K34[20]=1164799603
set MI4[20]=1747989577
set K64[20]=1848656180
set MH4[20]="ReplaceableTextures\\CommandButtons\\BTNFurion.blp"
call L67(K34[20],"spell")
call LA7(K34[20],1.2,MI4[20])
set MJ4[i]="Get Force of Nature early if you plan on leaving the lane to kill neutral creeps. Start with a Ring of Basilius to provide you with mana and armor."
set MK4[i]="Invest points in Teleportation, it gives you the mobility to be anywhere in the map: Cancel the spell if you change your mind by clicking 'S'."
set MM4[i]="Sprout can be extremely useful offensively and defensively so get at least one point in it. Higher levels increase the duration but also the mana cost."
set MN4[i]="Teleportation shows allies and enemies where you intend to go, so if you want to surprise enemies, teleport where they cannot see."
set MO4[i]="Wrath of Nature is a great farming tool but also a powerful nuke on enemy heroes: Hit other units nearby to deal more damage to the intended target."
set i=i+1
set K34[21]=1332179560
set MI4[21]=1747989578
set K64[21]=1848656179
set MH4[21]="ReplaceableTextures\\CommandButtons\\BTNHellScream.blp"
call L67(K34[21],"stand victory")
call LA7(K34[21],1,MI4[21])
set MJ4[i]="Get Spirit Lance and Doppelwalk first because Juxtapose is better when your illusions have more health and damage."
set MK4[i]="Beware of the high mana costs of your spells early game, especially for Doppelwalk, which can be an escape mechanism."
set MM4[i]="Keep your opponents guessing by controlling your illusions created by Doppelwalk and Juxtapose."
set MN4[i]="Your illusions are amazing for pushing later on. Focus creeps and heroes first because illusions will not create new ones when attacking buildings."
set MO4[i]="Diffusal Blade and Manta Style are good choices of because they make his images much stronger by adding Agility directly."
set i=i+1
set K34[22]=1432580716
set MI4[22]=1747989579
set K64[22]=1848656183
set MH4[22]="ReplaceableTextures\\CommandButtons\\BTNMountainGiant.blp"
call L67(K34[22],"spell")
call LA7(K34[22],0.5,MI4[22])
set MJ4[i]="Buy items that give you at least 3 Intelligence or 39 mana in the beginning of the game so that you can use both of your spells at level 2."
set MK4[i]="Avalanche and Toss should be the two spells you level first because they make you a force to be reckoned with early game."
set MM4[i]="You can sometimes kill a hero outright by casting Avalanche on him, and then Tossing him on the Avalanche area of effect before the animation ends."
set MN4[i]="To ensure that you Toss your desired target, isolate him by making him the only one in the area of effect. Kelen's Dagger can help you with placement."
set MO4[i]="Tiny deals most of his damage through Avalanche and Toss, so the reduced attack speed from Grow is less important than the bonuses given."
set i=i+1
set K34[23]=1211117643
set MI4[23]=1747989580
set K64[23]=1848656185
set MH4[23]="ReplaceableTextures\\CommandButtons\\BTNGoblinSapper.blp"
call L67(K34[23],"stand 2")
call LA7(K34[23],1,MI4[23])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[24]=1211117633
set MI4[24]=1747989581
set K64[24]=1848656194
set MH4[24]="ReplaceableTextures\\CommandButtons\\BTNHeroFarseer.blp"
call L67(K34[24],"spell chain lightning")
call LA7(K34[24],1,MI4[24])
set MJ4[i]="Chen can take control of high level neutral creeps with Holy Persuasion, making him extremely powerful at low levels even without items."
set MK4[i]="Neutrals with special abilities usually are more useful, try to find out what has a disable or slow as this will be much better for attacking heroes with."
set MM4[i]="When preparing to attack from the forest, start with Penitence to slow enemies. Engage enemies from the side or from behind to catch them off guard."
set MN4[i]="Chen excels as a support hero, items that contribute to teammates such as Mekansm usually benefit the team more than damage items."
set MO4[i]="Hand of God is really useful early on for helping allies across the map. Later, it can be used to assist with pushing or defending."
set i=i+1
set K34[25]=1160785973
set MI4[25]=1747989582
set K64[25]=1848656453
set MH4[25]="ReplaceableTextures\\CommandButtons\\BTNHuntress.blp"
call L67(K34[25],"spell")
call LA7(K34[25],1,MI4[25])
set MJ4[i]="The level of Lucent Beam determines the damage of Eclipse, making it the most important spell to get first. "
set MK4[i]="Moon Glaives can be useful early if you plan to kill neutral creeps. Lifesteal items like Helm of the Dominator can help you survive against neutral creeps."
set MM4[i]="Try to cast Eclipse on enemy heroes when other units are not present to maximize the damage dealt to a single target. "
set MN4[i]="Later on with some attack speed, Lunar Blessing and Moon Glaives provide you with both massive damage and pushing power."
set MO4[i]="You should also consider items that allow you to land Eclipse successfully and increase your carry potential in battles, such as a Black King Bar."
set i=i+1
set K34[26]=1433631084
set MI4[26]=1747989583
set K64[26]=1848656452
set MH4[26]="ReplaceableTextures\\CommandButtons\\BTNRifleman.blp"
call L67(K34[26],"spell")
call LA7(K34[26],1.1,MI4[26])
set MJ4[i]="Headshot will provide you with bonus damage and a short stun, making it useful for killing creeps and harassing with his incredible attack animation."
set MK4[i]="Sniper usually needs to find a combination of damage, attack speed and survivability that allow him to deal significant damage but survive to do so."
set MM4[i]="Sniper is very fragile so he needs to maintain his range. Getting Take Aim and/or Shrapnel can help provide means of staying out of harm's way."
set MN4[i]="Shrapenl can also be used for slowing opponents, pushing or defending against large waves of creeps."
set MO4[i]="Try to use Assassinate to heavily damage an enemy before the fight even begins to give your team an advantage."
set i=i+1
set K34[27]=1311781174
set MI4[27]=1747989584
set K64[27]=1848656184
set MH4[27]="ReplaceableTextures\\CommandButtons\\BTNForestTroll.blp"
call L67(K34[27],"stand 3")
call LA7(K34[27],1.25,MI4[27])
call LA7(1311781442,1.25,MI4[27])
call LA7(1311781175,1.25,MI4[27])
set MJ4[i]="Berserker's Rage gives Troll the option of melee combat, which gives him many powerful offensive bonuses at the cost of losing his ranged ability."
set MK4[i]="roll Warlord generally does not have to worry about attack speed thanks to his set of skills, go for damage or survivability items instead."
set MM4[i]="Blind will prevent your opponents from landing all their attacks, making it harder from them to harass you or kill your creeps for gold."
set MN4[i]="Play defensively and fight neutral creeps too. Switch to melee form and it will allow you to have an easier time."
set MO4[i]="In team battles, it is vital that you cast Blind on the enemy hero that deals the most damage as this will greatly reduce their damage output."
set i=i+1
set K34[28]=1332898670
set MI4[28]=1747989815
set K64[28]=1848654132
set MH4[28]="ReplaceableTextures\\CommandButtons\\BTNShadowHunter.blp"
call L67(K34[28],"stand victory")
call LA7(K34[28],1,MI4[28])
set MJ4[i]="At least one level of Shackles is advised early on for immobilizing opponents. Remember that it is channeling so it can be interrupted or broken by yourself."
set MK4[i]="Rhasta needs survivability and the mana to use his spells: Bracers, Null Talismans, Point Booster are examples of items that will help out a lot."
set MM4[i]="Forked Lightning is your primary nuke and finisher due to its range and ability to hit multiple targets, so it more effective to get it earlier than later."
set MN4[i]="Use Shackles and Voodoo on enemy heroes when casting Mass Serpent Ward. You can even surround an enemy completely with the right timing."
set MO4[i]="Mass Serpent Wards can clear creeps quickly and deal a lot of damage over time to buildings, making them really useful for pushing and defending."
set i=i+1
set K34[29]=1328558406
set MI4[29]=1747993417
set K64[29]=1848658771
set MH4[29]="ReplaceableTextures\\CommandButtons\\BTNWispHero.blp"
call L67(K34[29],"stand 3")
call LA7(K34[29],1.30,MI4[29])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[30]=1315988077
set MI4[30]=1747989811
set K64[30]=1848656207
set MH4[30]="ReplaceableTextures\\CommandButtons\\BTNPandarenBrewmaster.blp"
call L67(K34[30],"stand ready")
call LA7(K34[30],1,MI4[30])
set MJ4[i]="Thunder Clap is a great skill early game but you may need to invest in regeneration items such as a Bottle, Magic Stick, Ring of Basilius or Void Stone."
set MK4[i]="Drunken Haze works not only as a slow, but the miss chance reduces the damage severely for enemy heroes."
set MM4[i]="Primal Split is not only for escaping: Once you master your three Pandas, Earth, Storm and Fire, you can use them offensively as well."
set MN4[i]="In Primal Split form, Mangix has two useful disables that can be used against enemies: Storm's Cyclone and Earth's Hurl Boulder."
set MO4[i]="Mangix usually initiates for the team, so survivability items are helpful, investing in a Kelen's Dagger to help land Thunder Clap is often a good idea."
set i=i+1
set K34[31]=1211117616
set MI4[31]=1747989592
set K64[31]=1848656206
set MH4[31]="ReplaceableTextures\\CommandButtons\\BTNCentaurKhan.blp"
call L67(K34[31],"stand 3")
call LA7(K34[31],1.75,MI4[31])
set MJ4[i]="Return should be leveled if Centaur plans to fight neutral creeps, otherwise Double Edge is more useful in the lane."
set MK4[i]="Thanks to a high strength gain and the bonus strength from your ultimate, Centaur is a great at heading into battle first and receiving damage."
set MM4[i]="A Hood of Defiance can prove to be just as useful as a Vanguard depending on whether the other team has a lot of magical spells."
set MN4[i]="Avoid putting yourself at risk after using Double Edge. You can use it to commit suicide if you are about to die to deny opponents experience and gold."
set MO4[i]="Kelen's Dagger is a great way of initiating on opponents and dealing with his slow casting animation of Stomp."
set i=i+1
set K34[32]=1315007329
set MI4[32]=1747989810
set K64[32]=1848656205
set MH4[32]="ReplaceableTextures\\CommandButtons\\BTNakama.blp"
call L67(K34[32],"stand var4")
call LA7(K34[32],1.2,MI4[32])
set MJ4[i]="Shuriken Toss, Wind Walk and Track are much more useful than Jinada early on."
set MK4[i]="You're going to need mana regen: Bottle, Ring Of Basillius and Void Stone are examples of good options. "
set MM4[i]="Use Wind Walk cautiously: If you wait until the cooldown is complete before breaking out of invisibility, you can cast it again immediately afterward."
set MN4[i]="Shuriken Toss and Wind Walk deal a lot of damage quickly: Search the map often for low HP heroes to hunt. "
set MO4[i]="Use Track on a nearby enemy hero to allow you and your allies to outrun them. Also cast it on nearly dead heroes for bonus gold."
set i=i+1
set K34[33]=1215063922
set MI4[33]=1747989590
set K64[33]=1848656209
set MH4[33]="ReplaceableTextures\\CommandButtons\\BTNTheCaptain.blp"
call L67(K34[33],"stand victory")
call LA7(K34[33],1.35,MI4[33])
call LA7(1211117638,1,MI4[33])
call LA7(1211117639,1,MI4[33])
call LA7(1211117637,1,MI4[33])
call CR7(1211117639,255,255,200)
call CR7(1211117638,255,255,200)
call CR7(1211117639,255,200,200)
set MJ4[i]="Breath Fire is a strong nuke and farming ability. However, against difficult opponents, Dragon's Blood is very useful."
set MK4[i]="Dragon Tail is the longest duration level 1 stun in the game. One point is usually sufficient until later on."
set MM4[i]="Thanks to the defensive bonuses on Dragon's Blood, he can often focus on other damage items instead of increasing armor and regeneration."
set MN4[i]="Level 1 of Elder Dragon Form has a special passive called Corrosive Attack, which deals significant damage over time against towers."
set MO4[i]="The ranged splash damage and slow of his Level 3 ultimate makes him extremely powerful; getting to level 16 is very important for DK."
set i=i+1
set K34[34]=1164207469
set MI4[34]=1747989588
set K64[34]=1848656210
set MH4[34]="ReplaceableTextures\\CommandButtons\\BTNHeroDemonHunter.blp"
call L67(K34[34],"stand channel")
call LA7(K34[34],1,MI4[34])
set MJ4[i]="Blink is very versatile, allowing you to chase, escape and even avoid certain spells. It is definitely worth at least one point in the beginning."
set MK4[i]="You can also use Mana Break to prevent enemy heroes from casting spells on you, but be careful since it forces you to get in melee range to attack."
set MM4[i]="Spell Shield might be useful for reducing magic damage, but it does not prevent you from being disabled or status effects (slow, poison, etc.)."
set MN4[i]="Offensive items without orb effects such as a Battlefury, Monkey King Bar or Butterfly are usually desired over items that would override your Mana Break."
set MO4[i]="Sometimes survivability is just as important as damage, items such as Linken's Sphere or Manta Style offer a good mix of both offense and defense."
set i=i+1
set K34[35]=1315074670
set MI4[35]=1747989813
set K64[35]=1848656204
set MH4[35]="ReplaceableTextures\\CommandButtons\\BTNBansheeRanger.tga"
call L67(K34[35],"spell")
call LA7(K34[35],1,MI4[35])
set MJ4[i]="Frost Arrows make Drow an excellent chaser early game and allow her to harass opponents safely by manually casting them (clicking 'R' and the target)."
set MK4[i]="An early level of Silence is great for preventing opponents from using multiple spells on you or your allies."
set MM4[i]="Trueshot Aura and Marksmanship provide Traxex with plenty of damage even with just a few Wraith Bands and Power Treads."
set MN4[i]="Lothar's Edge provides damage and an escape mechanism, the latter of which can help Traxex survive."
set MO4[i]="Stay out of danger in major battles, only close in on your enemies when you are chasing and finishing off heroes near the end."
set i=i+1
set K34[36]=1214345830
set MI4[36]=1747989594
set K64[36]=1848656211
set MH4[36]="ReplaceableTextures\\CommandButtons\\BTNArthas.blp"
call L67(K34[36],"stand victory")
call LA7(K34[36],1.1,MI4[36])
set MJ4[i]="Omniknight is a powerful support hero, items that provide mana such as Arcane Ring help make sure that you can use all your spells."
set MK4[i]="Purification can be used offensively and defensively: The unit you cast it on will deal damage around it, making it a powerful heal and nuke."
set MM4[i]="Degen Aura is a very strong passive slow that is useful both to chase down enemy heroes and help you and your allies escape as well."
set MN4[i]="Repel is used to remove buffs from allies and enemies, and to prevent heroes with spells from being interrupted or damage dealers from being disabled."
set MO4[i]="Guardian Angel makes a team nearly impervious to physical damage and provides 25/sec HP regeneration, use this time wisely to survive or attack."
set i=i+1
set K34[37]=1211117636
set MI4[37]=1747989587
set K64[37]=1848656203
set MH4[37]="ReplaceableTextures\\CommandButtons\\BTNBeastMaster.blp"
call L67(K34[37],"spell slam")
call LA7(K34[37],1,MI4[37])
set MJ4[i]="Endurance Aura is usually more useful later in the game when your team is fighting together, so get your other skills first."
set MK4[i]="Call of the Wild is very powerful: The boar gives damage and slow, while the hawk can provide vision over runes, neutral creeps and other key locations."
set MM4[i]="Wild Axes are more useful early game and against heroes with less armor. Destroy trees with Wild Axes to surprise your opponents and for escaping."
set MN4[i]="Try casting Wild Axes behind the target to compensate for their movement. You can also manipulate their return path by moving Rexxar."
set MO4[i]="Find opportunities to use Roar whenever it is available. It is useful on heroes who have an escape mechanism or are immune to magic."
set i=i+1
set K34[38]=1160786000
set MI4[38]=1747989586
set K64[38]=1848656202
set MH4[38]="ReplaceableTextures\\CommandButtons\\BTNChimaera.blp"
call L67(K34[38],"stand 3")
call LA7(K34[38],1,MI4[38])
set MJ4[i]="Dual Breath and Ice Path help to make Jakiro a strong offensive and defensive support hero. "
set MK4[i]="Jakiro can cast his spells immediately by clicking the nearby ground in the desired direction, sometimes this is more effective than clicking on the target."
set MM4[i]="A level of Liquid Fire early on can be useful for deterring physical attacks "
set MN4[i]="Macropyre is a slow but powerful spell, combine it with other spells (yours or a teammate) to make sure the opponent is standing in the area of effect."
set MO4[i]="It is often a good idea to purchase useful support items like Mekansm or Shiva's Guard, two items that also increase his low armor significantly."
set i=i+1
set K34[39]=1311781193
set MI4[39]=1747989812
set K64[39]=1848656201
set MH4[39]="ReplaceableTextures\\CommandButtons\\BTNHeroAlchemist.blp"
call L67(K34[39],"stand 2")
call LA7(K34[39],1,MI4[39])
call LA7(1311781194,1,MI4[39])
call LA7(1311781192,1,MI4[39])
call LA7(1311781204,1,MI4[39])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[40]=1311781206
set MI4[40]=1747989591
set K64[40]=1848656200
set MH4[40]="ReplaceableTextures\\CommandButtons\\BTNPriestessOfTheMoon.blp"
call L67(K34[40],"stand ready")
call LA7(K34[40],1,MI4[40])
set MJ4[i]="PotM can be extremely efficient and gank with just a few Wraith Bands, Boots of Speed and a Bottle."
set MK4[i]="Getting one level of Leap is usually sufficient early on until Starfall and Elune's Arrow are fully leveled."
set MM4[i]="Land your Elune's Arrow by coordinating with allies and predicting enemy movements. You can even hit invisible or faraway targets with practice."
set MN4[i]="Starfall hits a second time for half damage to one random enemy within 200 range, get close if you can to deal bonus damage"
set MO4[i]="Moonlight Shadow can be used to initiate or escape but sometimes it can be learned later when PotM can use it without compromising her mana pool."
set i=i+1
set K34[41]=1211117651
set MI4[41]=1747989585
set K64[41]=1848656212
set MH4[41]="ReplaceableTextures\\CommandButtons\\BTNStorm.blp"
call L67(K34[41],"spell")
call LA7(K34[41],1,MI4[41])
set MJ4[i]="Do not get Overload at level 1 since you do not have any spells to activate its effect with."
set MK4[i]="Choosing which ability to max first can be difficult, but generally at least one point in all three skills is a good idea."
set MM4[i]="You have to wait 1 second after casting Static Remnant before it begins detecting nearby units for its explosion effect."
set MN4[i]="In addition to chasing and escaping, Lightning Ball can be used to dodge many spells with the right timing."
set MO4[i]="An item like Bloodstone is useful on Storm Spirit because the percentage-based mana cost of Lightning Ball makes regeneration an important asset."
set i=i+1
set K34[42]=1211117649
set MI4[42]=1747989593
set K64[42]=1848656199
set MH4[42]="ReplaceableTextures\\CommandButtons\\BTNHeadHunterBerserker.blp"
call L67(K34[42],"stand alternate 3")
call LA7(K34[42],1.15,MI4[42])
set MJ4[i]="A level of Burning Spears early on is great for harassing enemy heroes. Use it manually by clicking 'R' then the desired target to avoid drawing focus fire."
set MK4[i]="Berserker's Blood makes you stronger as you take damage. The bonuses stop when you have 51% HP, so there is little point in taking additional damage."
set MM4[i]="Life Break deals damage based on the remaining health of the target, making it strongest at the beginning of a fight. "
set MN4[i]="Inner Vitality heals more when you have less than 40% of your life, but avoid making the mistake of casting it too late in battles."
set MO4[i]="Survivability while in low health is important for Huskar: Consider items such as Armlet of Mordiggan, Black King Bar, or Heart of Tarrasque."
set i=i+1
set K34[43]=1160786265
set MI4[43]=1747989816
set K64[43]=1848656198
set MH4[43]="ReplaceableTextures\\CommandButtons\\BTNAssassin.blp"
call L67(K34[43],"stand victory")
call LA7(K34[43],1.2,MI4[43])
set MJ4[i]="Refraction is a great way of surviving in a lane, just be careful not to get hit by creeps too much."
set MK4[i]="Meld starts cooling down when you click the spell, so you can hit him twice with it if you can predict your enemy's movements."
set MM4[i]="Traps can be used for vision, most effectively in cramped areas like the end of ramps or at the rune powerup spots."
set MN4[i]="You can farm extremely fast by positioning yourself so that the Psi Blades splash on multiple creeps at once."
set MO4[i]="Placing a trap or two before engaging a fight can be a good idea, to cut off possible escape and/or chase routes."
set i=i+1
set K34[44]=1311780930
set MI4[44]=1747989808
set K64[44]=1848656197
set MH4[44]="ReplaceableTextures\\CommandButtons\\BTNFaerieDragon.blp"
call L67(K34[44],"attack spell")
call LA7(K34[44],1.1,MI4[44])
set MJ4[i]="Illusory Orb and Jaunt are used to travel short distances quickly, but if you wait too long to Jaunt, you will lose the opportunity."
set MK4[i]="Puck is very fragile early game, some Bracers or Null Talismans and a level of Phase Shift can help you survive."
set MM4[i]="Using Phase Shift manually instead of Autocast will prevent stray attacks from triggering it on Autocast. In general you will have better control of its use."
set MN4[i]="Waning Rift deals damage and silences, but forces you to be close enough. Use Illusory Orb or Dream Coil to help you land the spell on enemies."
set MO4[i]="Puck is a great initiator in fights who offers control of the battle with his spells, allowing allies to join the battle and use their spells or attacks safely."
set i=i+1
set K34[45]=1211117652
set MI4[45]=1747989809
set K64[45]=1848656213
set MH4[45]="ReplaceableTextures\\CommandButtons\\BTNClockWerkGoblin.blp"
call L67(K34[45],"Birth")
call LA7(K34[45],1.5,MI4[45])
set MJ4[i]="You can use Rocket Flare for harassing and killing creeps early on. With the right timing, you can even fire at enemies across the map."
set MK4[i]="Power Cogs can be used to trap an enemy, push them away while draining mana, or as an escape mechanism since Rattletrap destroys Cogs in only 1 hit."
set MM4[i]="Battery Assault adds a lot of damage and the stuns help you with chasing, use it when no other units are nearby for best results."
set MN4[i]="Hookshot's long range and high speed lets you reach enemies from out of sight. Follow up with your other spells quickly so your target cannot escape."
set MO4[i]="Rocket Flare also gives vision where it lands, making it very useful for scouting areas such as rune spots, neutral creeps, the enemy base."
set i=i+1
set K34[46]=1211119187
set MI4[46]=1747990100
set K64[46]=1848657221
set MH4[46]="ReplaceableTextures\\CommandButtons\\BTNProudmoore.blp"
call L67(K34[46],"stand victory")
call LA7(K34[46],1.1,MI4[46])
set MJ4[i]="Tidebringer is extremely useful early game: Use the bonus damage for killing creeps and the cleave effect to harass opponents at the same time."
set MK4[i]="The bubble animation from Torrent can only be seen by your team so try to use this to your advantage."
set MM4[i]="An ally's assistance or X Marks the Spot is a great way of making sure Torrent and Ghost Ship hit your opponent."
set MN4[i]="Escaping enemy heroes is easy by casting X Marks the Spot on them. It also prevents them from getting away."
set MO4[i]="The Ghost Ship will crash 1000 range from where you stand when you cast it. Keep your distance when you use it."
set i=i+1
set K34[47]=1311786311
set MI4[47]=1747990337
set K64[47]=1848657224
set MH4[47]="ReplaceableTextures\\CommandButtons\\BTNSylvanusWindrunner.blp"
call L67(K34[47],"stand victory")
call LA7(K34[47],1.2,MI4[47])
set MJ4[i]="Powershot deals significant damage, making it ideal to max first. Be sure not to fire through creeps if you want to deal maximum damage to your target."
set MK4[i]="An early level of Windrunner can provide you with a quick getaway and chasing tool."
set MM4[i]="Shackleshot can either be used on your intended target to bind him to a nearby unit, or to bind the designated target located BEHIND the unit that you fired it at."
set MN4[i]="Focus Fire is also a powerful spell to use on buildings and Roshan."
set MO4[i]="As long as you do not attack another target, the effect of Focus Fire will stay on. Use your spells and active items to help you fire at your target."
set i=i+1
set K34[48]=1160786510
set MI4[48]=1747993411
set K64[48]=1848658766
set MH4[48]="ReplaceableTextures\\CommandButtons\\BTNFlyingMachine.blp"
call L67(K34[48],"stand 3")
call LA7(K34[48],1.10,MI4[48])
call LA7(1160786511,1.10,MI4[48])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[49]=1160786506
set MI4[49]=1747993412
set K64[49]=1848658770
set MH4[49]="ReplaceableTextures\\CommandButtons\\BTNThrall.blp"
call L67(K34[49],"stand 3")
call LA7(K34[49],1.10,MI4[49])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[50]=1160786505
set MI4[50]=1747993401
set K64[50]=1848658763
set MH4[50]="ReplaceableTextures\\CommandButtons\\BTNTuskaarBrown.blp"
call L67(K34[50],"stand 3")
call LA7(K34[50],1.00,MI4[50])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[51]=1160786502
set MI4[51]=1747993400
set K64[51]=1848658765
set MH4[51]="ReplaceableTextures\\CommandButtons\\BTNPhoenix.blp"
call L67(K34[51],"stand 3")
call LA7(K34[51],1.05,MI4[51])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[52]=1211117624
set MI4[52]=1747989589
set K64[52]=1848656195
set MH4[52]="ReplaceableTextures\\CommandButtons\\BTNRazorback.blp"
call L67(K34[52],"stand")
call LA7(K34[52],1.65,MI4[52])
set MJ4[i]="Rigwarl is a known for punishing heroes that attack him and surviving for long times but he still needs armor, regeneration and hit points."
set MK4[i]="Quill spray doesn't initially deal much damage, but the stacking effect makes it very powerful over time in battles."
set MM4[i]="Sometimes one level of Goo can be enough to slow down an enemy hero early game."
set MN4[i]="Rigwarl needs a fair amount of mana early-game, Ring of Basilius, Magic Stick or Bottle can boost his early offensive power immensely."
set MO4[i]="You can mitigate a lot of damage if you turn your hero at the right times thanks to your passive Bristleback. Play mind games on your opponent."
set i=i+1
set K34[53]=1160786520
set MI4[53]=1747993428
set K64[53]=1848659019
set MH4[53]="ReplaceableTextures\\CommandButtons\\BTNMedivh.blp"
call L67(K34[53],"stand 3")
call LA7(K34[53],1.15,MI4[53])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[54]=1311788336
set MI4[54]=1747993671
set K64[54]=1848659249
set MH4[54]="ReplaceableTextures\\CommandButtons\\BTNFireBrewmaster.blp"
call L67(K34[54],"stand 3")
call LA7(K34[54],1,MI4[54])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[55]=1160786507
set MI4[55]=1747993409
set K64[55]=1848658762
set MH4[55]="ReplaceableTextures\\CommandButtons\\BTNGarithos.blp"
call L67(K34[55],"stand 3")
call LA7(K34[55],1.3,MI4[55])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[56]=1211122767
set MI4[56]=1747993672
set K64[56]=1848659254
set MH4[56]="ReplaceableTextures\\CommandButtons\\BTNDragonHawk.blp"
call L67(K34[56],"stand 3")
call LA7(K34[56],1.1,MI4[56])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[57]=1160786738
set MI4[57]=1747993922
set K64[57]=1848659269
set MH4[57]="ReplaceableTextures\\CommandButtons\\BTNJunkGolem.blp"
call L67(K34[57],"stand 3")
call LA7(K34[57],1,MI4[57])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K14=57
set i=58
set K04=58
set K34[58]=1429221432
set MI4[58]=1747989832
set K64[58]=1848656435
set MH4[58]="ReplaceableTextures\\CommandButtons\\BTNKiljaedin.blp"
call L67(K34[58],"spell")
call LA7(K34[58],1.2,MI4[58])
call LA7(1160786229,1,MI4[58])
call CR7(K34[58],255,75,255)
set MJ4[i]="If you want to neutral creeps, start with Summon Wolves and a Ring of Basilius, which can be used to make Vladmir's Offering later."
set MK4[i]="Spirit Wolves gain invisibility at level 4, making them difficult to kill and easy to harass heroes with in the lane."
set MM4[i]="Feral Heart make you and your wolves stronger overall, while Howl is an offensive spell used before engaging the enemy."
set MN4[i]="Shapeshift makes you incredibly powerful and gives you max movement speed. Avoid being blocked by your wolves when chasing."
set MO4[i]="A Black King Bar will prevent enemies from disabling you, making you very fearsome and almost unstoppable when attacking heroes."
set i=i+1
set K34[59]=1429221430
set MI4[59]=1747989833
set K64[59]=1848656436
set MH4[59]="ReplaceableTextures\\CommandButtons\\BTNSpiderBlack.blp"
call L67(K34[59],"walk")
call LA7(K34[59],1.36,MI4[59])
set MJ4[i]="At least one level in Spin Web early game will increase your survivability greatly. Remember that attacking/using spells will cause you to break invisibility."
set MK4[i]="Spawn Spiderlings is both a nuke and pushing spell, so getting items like a Ring of Basilius will provide you with both mana and armor for pushing."
set MM4[i]="Incapacitating Bite makes it very difficult for enemies to get away from you, great for chasing and slowing opponents temporarily for your allies."
set MN4[i]="Try to space out your webs with least 2 seconds of walking distance so that you can benefit from its bonuses on as much ground as possible."
set MO4[i]="With the damage and lifesteal from Insatiable Hunger, sometimes it is best to get items that will prevent you from being disabled, such as a Black King Bar."
set i=i+1
set K34[60]=1165451634
set MI4[60]=1747989834
set K64[60]=1848656437
set MH4[60]="ReplaceableTextures\\CommandButtons\\BTNHeroWarden.blp"
call L67(K34[60],"spell slam")
call LA7(K34[60],1,MI4[60])
set MJ4[i]="Stifling Dagger is used for creep-killing and slowing opponents; prevent enemies from escaping by using it with Blink Strike."
set MK4[i]="Try to Blink Strike to a nearby allied or enemy unit to make a quick escape when caught in a defensive situation. "
set MM4[i]="Be cautious when entering battles with Blink Strike, you could be caught outnumbered or disabled without your escape mechanism."
set MN4[i]="Blur can sometimes allow you to surprise opponents if they aren't paying attention."
set MO4[i]="Items like Battlefury are useful, but getting a Black King Bar or a Satanic afterward will help you survive long enough to deal damage."
set i=i+1
set K34[61]=1211117654
set MI4[61]=1747989835
set K64[61]=1848656438
set MH4[61]="ReplaceableTextures\\CommandButtons\\BTNNagaSeaWitch.blp"
call L67(K34[61],"stand ready")
call LA7(K34[61],1,MI4[61])
call LA7(1211119684,1,MI4[61])
call LA7(1211119683,1,MI4[61])
call LA7(1211119668,1,MI4[61])
call LA7(1211119682,1,MI4[61])
set MJ4[i]="Mystic Snake is a smart choice to have early game: Its damage and mana drain makes it great for harassing and offsetting its own mana cost."
set MK4[i]="Mana Shield will increase your survivability drastically. Use it wisely or it can also leave you with no mana for your other spells."
set MM4[i]="Using Split Shot allows you to attack multiple units, but the extra arrows from Split Shot do not gain the properties of orb effects."
set MN4[i]="Stone Gaze is an ultimate that is used to slow opponents and remove their buffs, making it easy to escape or attack the purged enemies."
set MO4[i]="Items that increase statistics and regeneration like Linkens Sphere will always be a good choice because of Mana Shield."
set i=i+1
set K34[62]=1432646245
set MI4[62]=1747989836
set K64[62]=1848656439
set MH4[62]="ReplaceableTextures\\CommandButtons\\BTNTichondrius.blp"
call L67(K34[62],"spell slam")
call LA7(K34[62],1,MI4[62])
set MJ4[i]="Night Stalker may be passive during the day, but at night his spells make him much more powerful and great for hunting heroes down."
set MK4[i]="Void is your primary source of damage early game and can be used to interrupt spells and teleports with its mini-stun."
set MM4[i]="While Hunter in the Night does nothing during the day, get it so that during nighttime it will give you massive movement and attack speed."
set MN4[i]="Use Crippling Fear when you are hunting heroes so that they cannot disable or slow you while you are chasing them."
set MO4[i]="Since Darkness will pause time when activated, casting it at night whenever it is on cooldown will extend the total nighttime."
set i=i+1
set K34[63]=1313026096
set MI4[63]=1747989837
set K64[63]=1848656688
set MH4[63]="ReplaceableTextures\\CommandButtons\\BTNSkeletonArcher.tga"
call L67(K34[63],"stand victory")
call LA7(K34[63],1.8,MI4[63])
call CR7(K34[63],100,125,100)
set MJ4[i]="Skeleton King is a hero who is known for his ability to reincarnate if focused upon and dealing a lot of damage if he is ignored by opponents. "
set MK4[i]="Hellfire Blast is a great spell for the early laning phase and a few levels of Attribute Bonus can give you stat points for additional stuns."
set MM4[i]="Critical Strike is generally preferred over Vampiric Aura because its lifesteal is not very effective earlier when Leoric needs more damage."
set MN4[i]="Make sure you have enough mana for Hellfire Blasts and especially Reincarnation. Buying a Magic Stick and/or a Bottle can pay off nicely."
set MO4[i]="Get cheaper damage items like Armlet of Mordiggan and Desolator. A Black King Bar will allow you to dish out damage without being disabled."
set i=i+1
set K34[64]=1430467634
set MI4[64]=1747989838
set K64[64]=1848656470
set MH4[64]="ReplaceableTextures\\CommandButtons\\BTNDoomGuard.blp"
call L67(K34[64],"stand victory")
call LA7(K34[64],1.1,MI4[64])
set MJ4[i]="Lucifer can obtain gold very quickly thanks to Devour, so getting regeneration items like Perseverance will help him to cast spells and survive in the lane."
set MK4[i]="Devour deals 20 damage per second, so consume creeps with low HP remaining so you can finish digesting the enemy quickly."
set MM4[i]="Use the command -iObsScoreInt1 to find your opponents' level for potential LVL? Death targets. Its mini-stun will also interrupt channeling spells and teleports."
set MN4[i]="Doom is usually used in conjunction with LVL? Death for killing enemy heroes; you can also use it on heroes to silence their spells."
set MO4[i]="When chasing or escaping with Scorched Earth, cast it in front of you so that you will experience the movement speed bonuses for a longer period of time."
set i=i+1
set K34[65]=1429221424
set MI4[65]=1747989839
set K64[65]=1848656469
set MH4[65]="ReplaceableTextures\\CommandButtons\\BTNHeroCryptLord.tga"
call L67(K34[65],"spell throw")
call LA7(K34[65],0.8,MI4[65])
set MJ4[i]="Effective use of Impale and Mana Burn early game requires you to purchase some Null Talismans or Bracers and Bottle."
set MK4[i]="Mana Burn is a devastating spell to have in the lane, force opponents to play defensively by preventing them from casting spells."
set MM4[i]="Unlike other Agility heroes, Anub'arak is a caster. Getting items like Dagon can be more useful than purchasing damage items."
set MN4[i]="Vendetta is a good initiating spell for surprising opponents. Cast it far away so that they cannot hear its sound effect upon activation."
set MO4[i]="Be careful when using Vendetta against multiple opponents and going near towers where they can see you while you are invisible."
set i=i+1
set K34[66]=1430468913
set MI4[66]=1747989840
set K64[66]=1848656689
set MH4[66]="ReplaceableTextures\\CommandButtons\\BTNNagaMyrmidon.tga"
call L67(K34[66],"spell")
call LA7(K34[66],1,MI4[66])
call CR7(K34[66],175,75,200)
set MJ4[i]="Slithereen Crush requires good positioning, so do your best to stand next to the hero you are trying to stun."
set MK4[i]="Sprint is a great spell for both chasing and escaping but be careful when using it because you will take bonus damage."
set MM4[i]="In addition to lowering armor, Amplify Damage provides vision of enemies, even heroes that have the ability to become invisible."
set MN4[i]="Bash is usually more effective later in the game when you have more items like Armlet of Mordiggan."
set MO4[i]="Slardar's role in battles is to initiate with Slithereen Crush and focus an enemy with Bash and Amplify Damage. Pick off escapees with Sprint."
set i=i+1
set K34[67]=1430466609
set MI4[67]=1747989841
set K64[67]=1848656690
set MH4[67]="ReplaceableTextures\\CommandButtons\\BTNBlueDemoness.tga"
call L67(K34[67],"spell slam")
call LA7(K34[67],1.3,MI4[67])
set MJ4[i]="Blink provides you with an escape mechanism and spell dodge but on higher levels it becomes a powerful chasing tool as well."
set MK4[i]="Scream of Pain is used for killing creeps and harassing opponents, making it more useful than Shadow Strike early game."
set MM4[i]="Try to hit as many targets as possible with Sonic Wave by targeting the ground instead of on an enemy hero directly."
set MN4[i]="Shadow Strike does decent damage but its primary use is for the slow it provides for chasing and outrunning opponents."
set MO4[i]="Her spell reliance, mobility and survivability allows her to buy expensive Intelligence items such as a Guinsoo's Scythe of Vyse."
set i=i+1
set K34[68]=1160785972
set MI4[68]=1747989842
set K64[68]=1848656471
set MH4[68]="ReplaceableTextures\\CommandButtons\\BTNSkeletonMage.blp"
call L67(K34[68],"stand victory")
call LA7(K34[68],1,MI4[68])
set MJ4[i]="Searing Arrows provide damage for last hitting creeps and harassing enemy heroes by using it manually by clicking 'R' followed by the designated target."
set MK4[i]="Wind Walk is commonly used for chasing and escaping but the invisibility and movement speed can help you avoid specific spells with the right timing."
set MM4[i]="Cast Death Pact on enemy or neutral creeps instead of allied units whenever possible because it will give you the gold for killing the unit."
set MN4[i]="Regeneration items like Orchid Malevolence or a Linkens Sphere will allow liberal use of his abilities in battle and help him against spellcasters and nukers."
set MO4[i]="Strafe is usually gotten later, but combined with Searing Arrows, Clinkz can deal a lot of damage quickly, powerful against enemy heroes and buildings."
set i=i+1
set K34[69]=1162032181
set MI4[69]=1747989843
set K64[69]=1848656467
set MH4[69]="ReplaceableTextures\\CommandButtons\\BTNFacelessOne.blp"
call L67(K34[69],"spell slam")
call LA7(K34[69],1.3,MI4[69])
call CR7(K34[69],0,255,150)
set MJ4[i]="Time Walk is your escaping and chasing skill, but it will allow you to avoid spells and damage since you are invulnerable during the animation."
set MK4[i]="Get Backtrack early game if you need to play defensively, while Time Lock will allow you to be a little more aggressive."
set MM4[i]="Since Darkterror is so fragile, enter battles by using Time Walk and then cast Chronosphere to prevent yourself from being disabled or killed otherwise."
set MN4[i]="Chronosphere affects all units that are not controlled by you, including both allies and enemies. Avoid hitting teammates or it could cost them their lives."
set MO4[i]="Items such as Power Treads and Butterfly will give both damage and attack speed, which is useful if Void wants to repetitively stun with Time Lock."
set i=i+1
set K34[70]=1162032951
set MI4[70]=1747989844
set K64[70]=1848656466
set MH4[70]="ReplaceableTextures\\CommandButtons\\BTNNetherDragon.blp"
call L67(K34[70],"spell slam")
call LA7(K34[70],1.2,MI4[70])
call CR7(K34[70],75,255,25)
set MJ4[i]="Poison Attack allows you to harass an opponent and permanently chase them thanks to a 0 cooldown starting at level 3."
set MK4[i]="Prevent creeps and towers from attacking you by casting Poison Attack manually by clicking 'C' and then the designated target."
set MM4[i]="Neurotoxin will add bonus damage, useful early for getting the last hit on creeps and also for dealing damage to heroes as well."
set MN4[i]="Early HP and movement speed items like Phase Boots or a Point/Vitality Booster can really make a difference."
set MO4[i]="Sometimes it is wise to invest in a Lothar's Edge or Kelen's Dagger to provide you with the ability to get in and out of combat safely."
set i=i+1
set K34[71]=1160785970
set MI4[71]=1747989845
set K64[71]=1848656473
set MH4[71]="ReplaceableTextures\\CommandButtons\\BTNRevenant.blp"
call L67(K34[71],"spell")
call LA7(K34[71],1,MI4[71])
set MJ4[i]="Use your attack range to help gauge how far opponents need to be for Plasma Field to deal the most damage."
set MK4[i]="Unstable Current will slow opponents who cast spells on you and could be useful to help prevent yourself from being killed."
set MM4[i]="Static Link is powerful if you can stay within the range of opponents - getting Unstable Current can sometimes help with that."
set MN4[i]="Storm Seeker strikes the target with the lowest health, so use it after creeps have died or when chasing a solitary target."
set MO4[i]="Consider increasing your HP along with damage when purchasing items."
set i=i+1
set K34[72]=1429221443
set MI4[72]=1747989846
set K64[72]=1848656465
set MH4[72]="ReplaceableTextures\\CommandButtons\\BTNGhoul.blp"
call L67(K34[72],"victory")
call LA7(K34[72],1.5,MI4[72])
call CR7(K34[72],100,100,100)
set MJ4[i]="Open Wounds is a powerful slow that nearly stops enemies in their tracks; it also lets you and your allies heal for attacking that unit.Open Wounds is a powerful slow that nearly stops enemies in their tracks; it also lets you and your allies heal for attacking that unit."
set MK4[i]="Feast deals percentage-based damage, which is useful against heroes with high HP and lets Naix fight neutral creeps with ease."
set MM4[i]="Rage can be used to avoid spells and to prevent opponents from disabling you while you are attacking them or trying to escape from them."
set MN4[i]="Infest can be used for escaping, surprising your opponents, to neutral, or to just gain significant health quickly when necessary."
set MO4[i]="Thanks to your physical damage and ability to steal life, Armlet of Mordiggan or Desolator are both solid choices for high-tier items."
set i=i+1
set K34[73]=1211117640
set MI4[73]=1747989847
set K64[73]=1848656468
set MH4[73]="ReplaceableTextures\\CommandButtons\\BTNPugna.BLP"
call L67(K34[73],"stand ready")
call LA7(K34[73],1,MI4[73])
set MJ4[i]="Nether Blast gives you an incredible skill for killing creeps, harassing heroes and pushing. Use it to score the killing blow to a tower."
set MK4[i]="Decrepify can be used on opponents either to increase spell damage from you and your allies or to prevent them from attacking."
set MM4[i]="Nether Ward will drain mana and punish opponents for using spells. Just remember to cast it where opponents cannot destroy it easily."
set MN4[i]="Aghanim's Scepter, Linkens Sphere and Bloodstone are examples of items that offer survivability while improving his spellcasting abilities."
set MO4[i]="Life Drain deals a lot of damage unless opponents disable you or run away. With an Aghanim's Scepter, its cooldown becomes 0."
set i=i+1
set K34[74]=1332109682
set MI4[74]=1747989848
set K64[74]=1848656464
set MH4[74]="ReplaceableTextures\\CommandButtons\\BTNSeaGiantGreen.blp"
call L67(K34[74],"attack slam")
call LA7(K34[74],1,MI4[74])
set MJ4[i]="Be sure to attack enemies slowed by Gush, the armor reduction means that your hits will deal more damage than normal."
set MK4[i]="Anchor Smash is an offensive damage spell that lets you hurt multiple units, good for killing neutral creeps and useful in team battles."
set MM4[i]="Kraken Shell gives you some protection against physical damage as well as a debuff removal against certain spells."
set MN4[i]="In fights, Tidehunter should be in the middle of the action drawing focus fire and dealing damage because of his skill set and high survivability."
set MO4[i]="Ravage has a large area of effect but Kelen's Dagger will allow you to initiate without being disabled and use it in an optimal spot."
set i=i+1
set K34[75]=1332963428
set MI4[75]=1747989849
set K64[75]=1848656463
set MH4[75]="ReplaceableTextures\\CommandButtons\\BTNVoidWalker.blp"
call L67(K34[75],"spell")
call LA7(K34[75],1.5,MI4[75])
call CR7(K34[75],150,0,150)
set MJ4[i]="High costs and cooldowns give Atropos limited ability use: Cast spells intelligently and get items like Null Talismans and/or Magic Stick for your mana pool."
set MK4[i]="Brain Sap is a powerful nuke and heal and deals exact unreduced damage so get it early and always try to use it on enemy heroes when using the spell."
set MM4[i]="Use Nightmare to help teammates to aim their spells and remove an opponent from battles temporarily while you fight their allies."
set MN4[i]="Enfeeble is usually a skill to get after Brain Sap and Nightmare to use on enemy heroes with high damage to reduce their damage capabilities severely."
set MO4[i]="Fiend's Grip will work on Magic Immune units such as those under the active effect of Black King Bar, holding them in place but dealing no damage."
set i=i+1
set K34[76]=1429221445
set MI4[76]=1747989850
set K64[76]=1848656440
set MH4[76]="ReplaceableTextures\\CommandButtons\\BTNGhostOfKelThuzad.blp"
call L67(K34[76],"stand victory")
call LA7(K34[76],1.3,MI4[76])
set MJ4[i]="Death Pulse lets you kill creeps and harass heroes simultaneously, great for pushing and healing allied units because of its low cooldown."
set MK4[i]="Sadist will provide you with some early regeneration for killing creeps, while Heartstopper Aura becomes effective as the game goes on."
set MM4[i]="Reaper's Scythe is known for its ability to kill heroes outright, allowing you to bring down even high-HP Strength heroes with ease."
set MN4[i]="Your ultimate can also be used to stun opponents in certain situations, such as interrupting channeling spells and teleports."
set MO4[i]="Items like Bloodstone or Heart of Tarrasque allow you to survive long enough in team battles to make your spells more effective."
set i=i+1
set K34[77]=1429221446
set MI4[77]=1747990064
set K64[77]=1848656693
set MH4[77]="ReplaceableTextures\\CommandButtons\\BTNAbomination.blp"
call L67(K34[77],"stand 3")
call LA7(K34[77],1.0,MI4[77])
set MJ4[i]="Pudge can known for his ability to isolate enemies with Meat Hook and using Rot and Dismember afterward, killing them outright. "
set MK4[i]="Early regeneration and movement speed items such as Bottle and Phase Boots help provide Pudge with the means to cast spells and chase his opponents."
set MM4[i]="Use Meat Hook from a location where you are not obstructed by any allied or enemy units other than your target to ensure a better chance of landing it."
set MN4[i]="A Hood of Defiance will improve your magic resistance to reduce damage from using Rot and getting hit by spells; The massive regeneration is also good."
set MO4[i]="Use your spells defensively: Rot can be used to commit suicide if necessary and Meat Hook can be used to rescue an ally from one or more enemies."
set i=i+1
set K34[78]=1328558154
set MI4[78]=1747990065
set K64[78]=1848656691
set MH4[78]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalker.blp"
call L67(K34[78],"stand ready")
call LA7(K34[78],1.2,MI4[78])
set MJ4[i]="Empowering Haste is a smart skill to level first, it gives Barathrum movement speed and significant damage for killing creeps and heroes."
set MK4[i]="A level of Greater Bash early game can be useful as an extra disable, since the 17% chance is the same for all levels.A level of Greater Bash early game can be useful as an extra disable, since the 17% chance is the same for all levels."
set MM4[i]="Get Strength Power Treads because the attack and movement speed benefits your other skills and the boost in HP helps you survive."
set MN4[i]="Charge of Darkness gives Barathrum spell immunity after 12 seconds and provides vision of the target for you and your allies."
set MO4[i]="Nether Strike puts you from the opposite side of where you were facing, push opponents backwards and into your allies."
set i=i+1
set K34[79]=1432510828
set MI4[79]=1747990066
set K64[79]=1848656472
set MH4[79]="ReplaceableTextures\\CommandButtons\\BTNNerubianQueen.blp"
call L67(K34[79],"attack")
call LA7(K34[79],1.0,MI4[79])
call CR7(K34[79],255,200,200)
set MJ4[i]="Take care of Weaver's HP/damage problems with Bracers or Wraith Bands and get regeneration so he can use his spells freely."
set MK4[i]="An early level of Watchers can be used to provide vision over the rune powerups. Patrol them to increase their area of detection."
set MM4[i]="Shukuchi is used for harassing and chasing opponents offensively, and escaping and avoiding certain projectile spells defensively."
set MN4[i]="If your Geminate Attack is not working, make sure that you input an attack command ('A' or right-click) and are not simply auto-attacking."
set MO4[i]="Use Time Lapse after taking a lot of recent damage to heal yourself, allowing you to pull off some dangerous moves like diving into towers."
set i=i+1
set K34[80]=1315334514
set MI4[80]=1747990067
set K64[80]=1848656462
set MH4[80]="ReplaceableTextures\\CommandButtons\\BTNShade.blp"
call L67(K34[80],"stand channel")
call LA7(K34[80],1.15,MI4[80])
call CR7(K34[80],0,0,0)
set MJ4[i]="Necromastery is important because of its massive damage gain and because your ultimate deals damage based on the number of souls."
set MK4[i]="Shadow Raze gives you three powerful nuke spells that should be maxed out first. Gauge the distance correctly and hit multiple times."
set MM4[i]="Requiem of Souls deals more damage the closer you are: Placement items like Lothar's Edge and Kelen's Dagger can help you land it."
set MN4[i]="After maxing your other two spells, Presence of the Dark Lord will be useful by then, good for pushing and dealing more physical damage."
set MO4[i]="If you die, remember to fill up on souls again before major fights when you respawn or you will be much less effective in battles."
set i=i+1
set K34[81]=1429221451
set MI4[81]=1747990068
set K64[81]=1848656692
set MH4[81]="ReplaceableTextures\\CommandButtons\\BTNArachnathidGreen.blp"
call L67(K34[81],"attack 3")
call LA7(K34[81],1,MI4[81])
set MJ4[i]="Burrowstrike is both versatile and powerful: It deals damage, stuns and provides you with a useful escape or chasing mechanism."
set MK4[i]="Using Sandstorm at the right time will dodge certain projectile spells and can protect you temporarily if it is necessary."
set MM4[i]="Getting Kelen's Dagger will give him increased mobility and reach, and also the ability to Blink into battle right after channeling Epicenter."
set MN4[i]="While you cannot move while Epicenter is channeling, once the pulses begin you can freely move around (mostly to chase your opponent)."
set MO4[i]="Caustic Finale might be an orb effect but it is extremely useful for killing multiple units quickly for fighting neutrals, pushing and defending."
set i=i+1
set K34[82]=1332766568
set MI4[82]=1747990069
set K64[82]=1848656461
set MH4[82]="ReplaceableTextures\\CommandButtons\\BTNChaosGrom.blp"
call L67(K34[82],"stand victory")
call LA7(K34[82],1,MI4[82])
set MJ4[i]="Counter Helix gives Axe the flexibility to both lane and jungle. A Stout Shield will help reduce the damage from taking attacks in order to activate Helix."
set MK4[i]="A Vanguard or a Hood of Defiance offers survivability and regeneration, which are usually more useful to Axe than increasing his attack speed or damage."
set MM4[i]="Berserker's Call is used to initiate fights and draw focus fire. Using it when there are more enemy units increases the chance of activating Counter Helix."
set MN4[i]="Monitor your opponent's HP for the perfect Culling Blade opportunity to finish them off. However, if your enemy has too much HP, it will hardly do anything."
set MO4[i]="Kelen's Dagger and/or Phase Boots can help you enter the fight first and get close enough for a Berserker's Call."
set i=i+1
set K34[83]=1215722344
set MI4[83]=1747990070
set K64[83]=1848656474
set MH4[83]="ReplaceableTextures\\CommandButtons\\BTNShaman.blp"
call L67(K34[83],"stand victory")
call LA7(K34[83],1.25,MI4[83])
call CR7(K34[83],250,150,150)
set MJ4[i]="Getting Blood Bath will allow you to take a few hits as you are killing creeps because you will recover your health immediately afterwards."
set MK4[i]="An early level of Bloodrage can be useful for silencing enemies temporarily and for dealing a little bit of damage."
set MM4[i]="Phase Boots and HP can be just as useful as damage items because they increase his survivability for chasing enemies and other longer battles."
set MN4[i]="Use Rupture when your enemy has to either run away or to prevent them from moving, such as when an ally is about to use a powerful spell."
set MO4[i]="Both allies and enemies gain the massive damage increase and are silenced from Bloodrage, which can be disastrous if used incorrectly."
set i=i+1
set K34[84]=1432642913
set MI4[84]=1747990071
set K64[84]=1848656460
set MH4[84]="ReplaceableTextures\\CommandButtons\\BTNHeroDeathKnight.blp"
call L67(K34[84],"stand ready")
call LA7(K34[84],1,MI4[84])
set MJ4[i]="Abbadon's spells can save allies while dealing damage, so support and regeneration items like Vladmir's Offering can be more useful than damage items."
set MK4[i]="Death Coil can be used both as a nuke and a heal, just remember that it deals damage to you unless you are using Aphotic Shield or Borrowed Time."
set MM4[i]="Aphotic Shield prevents damage but can also be used to remove certain debuffs, such as removing the stun duration effect on an ally."
set MN4[i]="Frostmourne is usually gotten later but it is very useful for chasing and helping your allies outrun your opponents."
set MO4[i]="Borrowed Time can be cast manually as well. If you know you are going to receive a lot of damage sometimes it can be wiser to use it then."
set i=i+1
set K34[85]=1160786242
set MI4[85]=1747990072
set K64[85]=1848656441
set MH4[85]="ReplaceableTextures\\CommandButtons\\BTNvengeanceincarnate.blp"
call L67(K34[85],"stand ready")
call LA7(K34[85],0.8,MI4[85])
set MJ4[i]="Spectral Dagger is your utility spell. You can use it for chasing people down, scouting dangerous areas and escaping. "
set MK4[i]="You also walk through units, trees, even cliffs while you are walking on Spectral Dagger's black path, making it very handy when used properly."
set MM4[i]="Desolate is great for dealing target to isolated targets but Dispersion helps you to survive in the lane: Chose whatever combination suits you best."
set MN4[i]="Haunt lets you jump into a fight directly from anywhere in the map; just make sure that you pay attention to the actions of your team."
set MO4[i]="Getting HP will allow you to withstand and dish out more Dispersion damage, which is extremely powerful in team fights."
set i=i+1
set K34[86]=1160786241
set MI4[86]=1747990073
set K64[86]=1848656459
set MH4[86]="ReplaceableTextures\\CommandButtons\\BTNWitchDoctor.blp"
call L67(K34[86],"stand victory")
call LA7(K34[86],1.25,MI4[86])
set MJ4[i]="Paralyzing Cask is your initiating spell for your other skills and can effectively keep two nearby units stun-locked at higher levels."
set MK4[i]="Maledict drastically reduces the damage needed to kill opponents and is an important spell to land in every fight."
set MM4[i]="An early level of Voodoo Restoration can provide a relatively cheap heal if you are forced to play defensively."
set MN4[i]="Damaging your opponent immediately after using Maledict is wise because it will deal more bonus damage overall at the 3 ticks."
set MO4[i]="Death Ward is a powerful channeling spell if not interrupted. A Black King Bar will help to prevent enemies from disabling you."
set i=i+1
set K34[87]=1429221456
set MI4[87]=1747990081
set K64[87]=1848656449
set MH4[87]="ReplaceableTextures\\CommandButtons\\BTNDestroyer.blp"
call L67(K34[87],"stand alternate 2")
call LA7(K34[87],0.85,MI4[87])
set MJ4[i]="Getting Intelligence and mana items is extremely important for Harbringer as the power of Arcane Orb and Sanity's Eclipse rely on this."
set MK4[i]="Use Astral Imprisonment to control your opponents' mana, for escaping/chasing, or on yourself and allies to avoid spells."
set MM4[i]="Cast Arcane Orb manually early on because you will have a greater chance of activating Essence Aura to use it endlessly."
set MN4[i]="Guinsoo's Scythe of Vyse is a great choice because it offers Intelligence, balanced stats and provides Harbringer with a powerful disable."
set MO4[i]="Use Sanity's Eclipse early in fights so that you drain casters with high Intelligence of their mana and cripple their ability to cast spells."
set i=i+1
set K34[88]=1160786243
set MI4[88]=1747990083
set K64[88]=1848656450
set MH4[88]="ReplaceableTextures\\CommandButtons\\BTNGuldan.blp"
call L67(K34[88],"spell")
call LA7(K34[88],1.5,MI4[88])
set MJ4[i]="Shadow Word is either a heal or damage over time, definitely the most powerful early game spell to have."
set MK4[i]="The affordable Mekansm is a good support item for Warlock, who is not a hero who is reliant on gold and items to be effective."
set MM4[i]="Rain of Chaos creates a powerful Infernal that can take on heroes and is also great for killing creeps and pushing buildings."
set MN4[i]="Fatal Bonds can deal huge damage if you and your teammates have other area of effect (AoE) spells that would hurt multiple linked units."
set MO4[i]="The stun when using Rain of Chaos along with its huge casting range (1200) is great for interrupting spells and initiating battles."
set i=i+1
set K34[89]=1211117641
set MI4[89]=1747990084
set K64[89]=1848656458
set MH4[89]="ReplaceableTextures\\CommandButtons\\BTNKoboldGeomancer.blp"
call L67(K34[89],"spell")
call LA7(K34[89],1.4,MI4[89])
call LA7(1211117642,1.4,MI4[89])
set MJ4[i]="Vladmir's Offering and/or Mekansm provides valuable auras and useful heals that can help support your team and keep your Meepos alive."
set MK4[i]="Poof is both a teleport and damage spell and is great against neutrals. Poof to yourself to deal double the damage (from departure and arrival).Poof is both a teleport and damage spell and is great against neutrals. Poof to yourself to deal double the damage (from departure and arrival)."
set MM4[i]="Geomancer is an advanced hero: Be sure to monitor their individual health because if one dies, they all will."
set MN4[i]="Strength Power Treads are suggested since clones will receive all of the Strength from footwear along with a 2.5 bonus (12.5 total)."
set MO4[i]="Time Earthbind with each of your clones. With 4 Meepos and Level 4 Earthbind, you can almost permanently immobilize them."
set i=i+1
set K34[90]=1311781207
set MI4[90]=1747990085
set K64[90]=1848656457
set MH4[90]="ReplaceableTextures\\CommandButtons\\BTNDarkTrollShadowPriest.blp"
call L67(K34[90],"spell")
call LA7(K34[90],1.2,MI4[90])
set MJ4[i]="An early level of both Shadow Wave and Shallow Grave provides a lot of support before getting Poison Touch to level 3 for its added stun."
set MK4[i]="Try to use Shadow Wave to heal and damage opponents at the same time. Surround an enemy with multiple allied units for more damage."
set MM4[i]="In addition to slowing and damaging opponents, Poison Touch will allow you to interrupt channeling spells and teleports"
set MN4[i]="Dazzle generally does not need many items and can sometimes focus on increasing his spell use with regeneration and support items like Mekansm."
set MO4[i]="Weave is a powerful spell, try to hit both allies and enemies with it, and it can also be used to provide vision before major battles occur."
set i=i+1
set K34[91]=1311780946
set MI4[91]=1747990086
set K64[91]=1848656451
set MH4[91]="ReplaceableTextures\\CommandButtons\\BTNPitLord.blp"
call L67(K34[91],"stand channel")
call LA7(K34[91],0.95,MI4[91])
set MJ4[i]="Firestorm will be your main ability for killing creeps but it can deal a lot of damage to heroes if you combine it with disables or slows."
set MK4[i]="The Pit of Malice is a useful disable that lasts for 10 seconds so it will both ensnare opponents and deter opponents from entering the circle."
set MM4[i]="Expulsion is usually used after some creeps have died so the spell lasts longer and will deal damage and mini-stun enemies."
set MN4[i]="Pit Lord is played more as a caster, increase his team presence and spell use by obtaining expensive Intelligence items like Shiva's Guard."
set MO4[i]="Dark Rift is a great spell for transporting multiple allies to surprise opponents, and more importantly to defend and attack the base."
set i=i+1
set K34[92]=1211117650
set MI4[92]=1747990087
set K64[92]=1848656456
set MH4[92]="ReplaceableTextures\\CommandButtons\\BTNZombie.blp"
call L67(K34[92],"stand")
call LA7(K34[92],2,MI4[92])
call LA7(1211119433,1.3,MI4[92])
set MJ4[i]="Decay is used to deal damage and make opponents more vulnerable, while increasing the survivability of Dirge temporarily."
set MK4[i]="Make sure Dirge is a presence who can cast his spells in fights by buying regeneration items like Vladmir's Offering and Void Stone."
set MM4[i]="Soul Rip is a powerful heal or nuke but remember that it will have almost no effect without nearby units. Cast it in crowds."
set MN4[i]="Use Tombstone when engaging the enemy because the zombies have a slowing capability and may also help block your opponents."
set MO4[i]="Tombstone Zombies become extremely powerful when your opponents have low health and attack and move much faster."
set i=i+1
set K34[93]=1211117646
set MI4[93]=1747990088
set K64[93]=1848656455
set MH4[93]="ReplaceableTextures\\CommandButtons\\BTNDranaiMage.blp"
call L67(K34[93],"spell")
call LA7(K34[93],1.15,MI4[93])
set MJ4[i]="Ion shell is great for killing creeps and dealing damage to heroes, but it will not damage an enemy target if you cast it on them directly."
set MK4[i]="A level of Surge early game can help you and allies escape and chase enemies, and works nicely to help you close in on opponents with Ion Shell."
set MM4[i]="Vacuum is an extremely powerful skill that can be used for initiating and combining with other spells. It can also interrupt channeling and teleport spells."
set MN4[i]="Make sure they are standing closer to the edge of your targeting circle when casting Vacuum to pull your opponents further."
set MO4[i]="Use Wall of Replica where multiple heroes will touch it; try using it with Vacuum. Get your allies to run through the wall too."
set i=i+1
set K34[94]=1211117653
set MI4[94]=1747990082
set K64[94]=1848656454
set MH4[94]="ReplaceableTextures\\CommandButtons\\BTNHeroBloodElfPrince.blp"
call L67(K34[94],"spell")
call LA7(K34[94],1.25,MI4[94])
set MJ4[i]="Having at least one level in Quas, Wex and Exort will give you a larger repertoire of spells. Type -invokelist to obtain a full list of combinations."
set MK4[i]="Ghost Walk (QQW) can be used to get yourself out of a tight situation, and also for slowing opponents so that your allies can chase/escape."
set MM4[i]="Sunstrike (EEE) is a global-ranged nuke that deals damage based on the level of Exort. When using it, you have to factor in the 1.7 casting time."
set MN4[i]="Forge Spirit (EEQ) and Cold Snap (QQQ) can be effective for pushing towers and against heroes with low armor. "
set MO4[i]="EMP (WWW) and Tornado (WWQ) can completely drain off heroes with low mana pools and have a impressive casting range."
set i=i+1
set K34[95]=1433105516
set MI4[95]=1747989572
set K64[95]=1848656182
set MH4[95]="ReplaceableTextures\\CommandButtons\\BTNSpell_Shadow_SummonVoidWalker.blp"
call L67(K34[95],"stand")
call LA7(K34[95],1.5,MI4[95])
set MJ4[i]="Conversion allows Enigma to neutral creep effectively. Target the highest level creep possible and move your low HP Eidolons out of the way to save them."
set MK4[i]="In the lane, Conversion can be used on allied creeps to deny your opponents of experience and gold, and for making sure you last hit enemy creeps."
set MM4[i]="The multiple stuns on higher levels of Malefice make it useful for preventing an opponent from channeling spells or help you chase/escape them."
set MN4[i]="Use Midnight Pulse in conjunction with Black Hole to deal massive damage to enemies. Just make sure that you cast it before Black Hole."
set MO4[i]="Kelen's Dagger is great for Black Hole placement, and a Black King Bar will prevent most spells from stopping the channeling effect of the spell."
set i=i+1
set K34[96]=1328558390
set MI4[96]=1747990354
set K64[96]=1848657721
set MH4[96]="ReplaceableTextures\\CommandButtons\\BTNTrollBatRider.blp"
call L67(K34[96],"stand")
call LA7(K34[96],1.2,MI4[96])
call LA7(1328558391,1.2,MI4[96])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[97]=1311787088
set MI4[97]=1747993136
set K64[97]=1848658002
set MH4[97]="ReplaceableTextures\\CommandButtons\\BTNIcyGhost.blp"
call L67(K34[97],"stand")
call LA7(K34[97],1.17,MI4[97])
call LA7(1311787088,1.2,MI4[97])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[98]=1211119409
set MI4[98]=1747990322
set K64[98]=1848657222
set MH4[98]="ReplaceableTextures\\CommandButtons\\BTNMurgulShadowCaster.blp"
call L67(K34[98],"stand 3")
call LA7(K34[98],1.25,MI4[98])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[99]=1164277353
set MI4[99]=1747989814
set K64[99]=1848656214
set MH4[99]="ReplaceableTextures\\CommandButtons\\BTNEvilIllidan.blp"
call L67(K34[99],"spell channel")
call LA7(K34[99],1,MI4[99])
call LA7(1164277357,1,MI4[99])
call LA7(1160786518,1,MI4[99])
call LA7(1160786519,1,MI4[99])
call LA7(1160786517,1,MI4[99])
set MJ4[i]="Get Soul Steal if you need healing in the lane."
set MK4[i]="Purchase statistic-increasing items like Wraith Bands and later items like Sange and Yasha to benefit both Terrorblade and his images."
set MM4[i]="It might be difficult to escape due to the trail you leave behind when walking, you may have to use an image to act as a block or decoy."
set MN4[i]="Sunder can turn fights around when you have low health but be careful of disables and high damage spells when trying to swap."
set MO4[i]="Creating ranged images in Metamorphosis will allow you to deal damage safely in fights as well as push down buildings very quickly."
set i=i+1
set K34[100]=1164666213
set MI4[100]=1747989817
set K64[100]=1848656215
set MH4[100]="ReplaceableTextures\\CommandButtons\\BTNKeeperGhostBlue.blp"
call L67(K34[100],"stand victory")
call LA7(K34[100],1,MI4[100])
set MJ4[i]="Split Earth is a very useful disable while Lightning Storm is taken because of its low cooldown. Both are powerful spells that hit multiple targets."
set MK4[i]="By using Lightning Storm to finish low-health creeps with nearby opponents, you can get gold and harass enemy heroes at the same time."
set MM4[i]="Diabolic Edict is one of the most powerful spells for destroying buildings. Eliminate the creeps first so that you only have one target."
set MN4[i]="Turn off Pulse Nova when you have finished using it because the spell will continue until you have exhausted your entire mana pool."
set MO4[i]="Items like Bloodstone or Aghanim's Scepter will allow Leshrac to use his spells more liberally and survive in the midst of battle."
set i=i+1
set K34[101]=1160786504
set MI4[101]=1747993410
set K64[101]=1848658764
set MH4[101]="ReplaceableTextures\\CommandButtons\\BTNArchimonde.blp"
call L67(K34[101],"stand 3")
call LA7(K34[101],1.25,MI4[101])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[102]=1433168227
set MI4[102]=1747989825
set K64[102]=1848656216
set MH4[102]="ReplaceableTextures\\CommandButtons\\BTNLichVersion2.blp"
call L67(K34[102],"stand channel")
call LA7(K34[102],1.3,MI4[51])
set MJ4[i]="Dark Ritual is useful for denying allied creeps and provides you with mana to use spells without buying regeneration items."
set MK4[i]="Frost Nova is a very powerful spell that allows you to be aggressive. Attack the enemy a few extra times while they are slowed."
set MM4[i]="Chain Frost is most effective when used against 2-3 nearby targets (ideally heroes), but will not bounce when used on a lone unit."
set MN4[i]="Frost Armor should be cast on multiple teammates when you have the mana for it later on; it works nicely against melee units."
set MO4[i]="The first target of your Chain Frost can interrupt channeling and teleport spells if absolutely necessary."
set i=i+1
set K34[103]=1430468406
set MI4[103]=1747989826
set K64[103]=1848656217
set MH4[103]="ReplaceableTextures\\CommandButtons\\BTNBanshee.blp"
call L67(K34[103],"spell wail")
call LA7(K34[103],1.35,MI4[103])
set MJ4[i]="Carrion Swarm is your primary nuke and first skill to max. Make use of its range by casting it on the ground instead of on a unit directly."
set MK4[i]="An early level of Silence can help prevent you and your allies from being attacked by multiple spells."
set MM4[i]="The ghosts of Exorcism will attack whatever you attack, so if you want to direct all attention to a single unit simply focus them and stay nearby."
set MN4[i]="Exorcism also makes Krobelus extremely effective for quickly destroying enemy buildings, so be sure to push the enemy base when you can"
set MO4[i]="The effect of Exorcism stops if you die in combat: Invest in items that improve your survivability, such as a Bloodstone or a Heart of Tarrasque."
set i=i+1
set K34[104]=1430466872
set MI4[104]=1747989827
set K64[104]=1848656218
set MH4[104]="ReplaceableTextures\\CommandButtons\\BTNLion.BLP"
call L67(K34[104],"spell callstorm")
call LA7(K34[104],1.3,MI4[104])
call CR7(K34[104],50,100,255)
set MJ4[i]="With plenty of damage and disables, Lion is quite a force to be reckoned with cheap utility items such as Bottle and Phase Boots."
set MK4[i]="Impale gives Lion the ability to disable multiple targets and deals decent damage, so it is definitely the most versatile of his three skills for the early game."
set MM4[i]="Mana Drain only works on units with mana: Using Mana Drain on enemy heroes will reduce their spell use while replenishing mana."
set MN4[i]="Avoid wasting Finger of Death on low-health enemy heroes when a few extra attacks or using another spell like Impale will deal enough damage."
set MO4[i]="Wait until the duration of your first disable wears off before using another one for maximum disable time when using Impale and Voodoo."
set i=i+1
set K34[105]=1162032439
set MI4[105]=1747989828
set K64[105]=1848656432
set MH4[105]="ReplaceableTextures\\CommandButtons\\BTNHydralisk.blp"
call L67(K34[105],"attack")
call LA7(K34[105],1.0,MI4[105])
call CR7(K34[105],150,200,255)
set MJ4[i]="Venomous Gale is a spell that hits multiple opponents and slows them, making it very useful for getting early kills."
set MK4[i]="At least one level of Poison Sting is recommended early game for its slow effect."
set MM4[i]="Bottle and Magic Stick will help deal with his low HP/mana, while Phase Boots are a cheap way to improve his chasing capabilities."
set MN4[i]="Wards are very useful for pushing a lane and killing neutral and enemy creeps, but you can also use it to provide vision."
set MO4[i]="Poison Nova deals a lot of damage but you have to combine it with other spells and attacks because it does not deal fatal damage (stops at 1 HP)."
set i=i+1
set K34[106]=1430466865
set MI4[106]=1747989829
set K64[106]=1848656178
set MH4[106]="ReplaceableTextures\\CommandButtons\\BTNBlueMagnataur.tga"
call L67(K34[106],"stand channel")
call LA7(K34[106],1,MI4[106])
call CR7(K34[106],150,150,100)
set MJ4[i]="Bottle and Perseverance help with early regeneration,. while purchasing Kelen's Dagger later will help you to land Reverse Polarity."
set MK4[i]="A few Attribute Bonus points can help you cast more spells. Save Mighty Swing for later levels when you have more damage."
set MM4[i]="By targeting the ground where you want to fire Shockwave, you can hit both creeps and opponents and make use of its long range."
set MN4[i]="Magnus should cast Empower on himself and other allies with high damage before initiating team battles with his ultimate."
set MO4[i]="The cleave of Battlefury stacks directly with Mighty Swing, making it a good damage item especially if you already have a Perseverance."
set i=i+1
set K34[107]=1430468144
set MI4[107]=1747989830
set K64[107]=1848656433
set MH4[107]="ReplaceableTextures\\CommandButtons\\BTNSpiritWyvern.blp"
call L67(K34[107],"stand victory")
call LA7(K34[107],1,MI4[107])
call CR7(K34[107],150,150,150)
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[108]=1429221441
set MI4[108]=1747989831
set K64[108]=1848656434
set MH4[108]="ReplaceableTextures\\CommandButtons\\BTNChaosWarlord.blp"
call L67(K34[108],"stand victory")
call LA7(K34[108],1.05,MI4[108])
set MJ4[i]="Chaos Bolt and Blink Strike are active abilities that are more useful in the lane and for killing opponents than Critical Strike."
set MK4[i]="Chaos Bolt is a disable that switches between average and extremely powerful, the sooner you have max out this spell, the better."
set MM4[i]="His high natural movement speed (325 - the highest in the game) and Blink Strike make him very difficult for opponents to outrun or chase him."
set MN4[i]="If you Blink Strike and then use Chaos Bolt, you can spend more time hitting opponents and less time waiting for his slow casting animation. "
set MO4[i]="Make Nessaj and Phantasm stronger by buying Strength items like Armlet of Mordiggan (when activated) and Heart of Tarrasque."
set i=i+1
set K34[109]=1311788343
set MI4[109]=1747993687
set K64[109]=1848659256
set MH4[109]="ReplaceableTextures\\CommandButtons\\BTNFrostWyrm.blp"
call L67(K34[109],"stand victory")
call LA7(K34[109],0.9,MI4[109])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K34[110]=1311788363
set MI4[110]=1747993926
set K64[110]=1848659276
set MH4[110]="ReplaceableTextures\\CommandButtons\\BTNGnollWarden.blp"
call L67(K34[110],"stand victory")
call LA7(K34[110],1.1,MI4[110])
set MJ4[i]=""
set MK4[i]=""
set MM4[i]=""
set MN4[i]=""
set MO4[i]=""
set i=i+1
set K54=110
set K34[500]=1211445296
set MH4[500]="ReplaceableTextures\\CommandButtons\\BTNWispHero.blp"
call L67(K34[500],"stand")
call LA7(K34[500],1.5,0)
set MJ4[500]=""
set MK4[500]=""
set MM4[500]=""
set MN4[500]=""
set MO4[500]=""
set K34[600]=1211510832
set MH4[600]="ReplaceableTextures\\CommandButtons\\BTNSeaTurtleRed.blp"
call L67(K34[600],"stand")
call LA7(K34[600],0.8,0)
set MJ4[600]=""
set MK4[600]=""
set MM4[600]=""
set MN4[600]=""
set MO4[600]=""
set K24[1]=1315074670
set K24[2]=1164207469
set K24[3]=1311781174
set K24[4]=1315070563
set K24[5]=1315007329
set K24[6]=1328558160
set K24[7]=1433631084
set K24[8]=1160785973
set K24[9]=1311781199
set K24[10]=1212365106
set K24[11]=1215723364
set K24[12]=1212363833
set K24[13]=1215657064
set K24[14]=1332179560
set K24[15]=1429221430
set K24[16]=1162032439
set K24[17]=1164277353
set K24[18]=1432510828
set K24[19]=1160785972
set K24[20]=1162032951
set K24[21]=1215722344
set K24[22]=1315334514
set K24[23]=1160785970
set K24[24]=1162032181
set K24[25]=1165451634
set K24[26]=1429221424
set K24[27]=1211117654
set K24[28]=1160786242
set K24[29]=1311781206
set K24[30]=1211117641
set K24[31]=1160786265
set K24[32]=1211119409
set K24[33]=1160786510
set K24[34]=1311788336
set K24[35]=1311788363
set K_4=35
set M44[1]=1315988077
set M44[2]=1215063922
set M44[3]=1214345830
set M44[4]=1211117616
set M44[5]=1211117617
set M44[6]=1214344551
set M44[7]=1211117624
set M44[8]=1432580716
set M44[9]=1333027688
set M44[10]=1313026096
set M44[11]=1432646245
set M44[12]=1430466865
set M44[13]=1332109682
set M44[14]=1429221446
set M44[15]=1429221451
set M44[16]=1328558154
set M44[17]=1432642913
set M44[18]=1332766568
set M44[19]=1429221441
set M44[20]=1429221443
set M44[21]=1430468913
set M44[22]=1430467634
set M44[23]=1429221432
set M44[24]=1211117636
set M44[25]=1311781193
set M44[26]=1211117649
set M44[27]=1311780946
set M44[28]=1211117652
set M44[29]=1211119187
set M44[30]=1211117650
set M44[31]=1328558389
set M44[32]=1160786505
set M44[33]=1160786502
set M44[34]=1328558406
set M44[35]=1160786738
set M44[36]=1160786507
set M74=36
set M84[1]=1332898670
set M84[2]=1164799855
set M84[3]=1164799603
set M84[4]=1211117620
set M84[5]=1214931305
set M84[6]=1433105516
set M84[7]=1215128178
set M84[8]=1211117643
set M84[9]=1316252014
set M84[10]=1215130471
set M84[11]=1214409837
set M84[12]=1311781185
set M84[13]=1211117633
set M84[14]=1433168227
set M84[15]=1164666213
set M84[16]=1430468406
set M84[17]=1430466872
set M84[18]=1430466609
set M84[19]=1430468144
set M84[20]=1211117640
set M84[21]=1332963428
set M84[22]=1429221445
set M84[23]=1160786241
set M84[24]=1429221456
set M84[25]=1160786000
set M84[26]=1160786243
set M84[27]=1311781207
set M84[28]=1211117646
set M84[29]=1311786311
set M84[30]=1211117651
set M84[31]=1311780930
set M84[32]=1211117653
set M84[33]=1328558390
set M84[34]=1311787088
set M84[35]=1160786504
set M84[36]=1160786506
set M84[37]=1160786520
set M84[38]=1211122767
set M84[39]=1311788343
set M94=39
set MD4[1]=1332898670
set MD4[2]=1164799855
set MD4[3]=1164799603
set MD4[4]=1211117620
set MD4[5]=1214931305
set MD4[6]=1433105516
set MD4[7]=1215128178
set MD4[8]=1211117643
set MD4[9]=1316252014
set MD4[10]=1315074670
set MD4[11]=1214409837
set MD4[12]=1311781185
set MD4[13]=1211117633
set MD4[14]=1433168227
set MD4[15]=1164666213
set MD4[16]=1430468406
set MD4[17]=1430466872
set MD4[18]=1430466609
set MD4[19]=1430468144
set MD4[20]=1211117640
set MD4[21]=1332963428
set MD4[22]=1429221445
set MD4[23]=1160786241
set MD4[24]=1429221456
set MD4[25]=1160786000
set MD4[26]=1160786243
set MD4[27]=1311781207
set MD4[28]=1311786311
set MD4[29]=1211117651
set MD4[30]=1311780930
set MD4[31]=1211117653
set MD4[32]=1311781174
set MD4[33]=1328558160
set MD4[34]=1433631084
set MD4[35]=1160785973
set MD4[36]=1311781199
set MD4[37]=1160786265
set MD4[38]=1215723364
set MD4[39]=1162032439
set MD4[40]=1432510828
set MD4[41]=1160785972
set MD4[42]=1162032951
set MD4[43]=1315334514
set MD4[44]=1160785970
set MD4[45]=1211117654
set MD4[46]=1311781206
set MD4[47]=1211117649
set MD4[48]=1328558390
set MD4[49]=1311787088
set MD4[50]=1328558406
set MD4[51]=1160786504
set MD4[52]=1160786510
set MD4[53]=1160786506
set MD4[54]=1160786502
set MD4[55]=1160786520
set MD4[56]=1211122767
set MD4[57]=1311788363
set MD4[58]=1311788343
set ME4=58
set MF4[1]=1215130471
set MF4[2]=1211117646
set MF4[3]=1164207469
set MF4[4]=1315070563
set MF4[5]=1315007329
set MF4[6]=1212363833
set MF4[7]=1215657064
set MF4[8]=1332179560
set MF4[9]=1429221430
set MF4[10]=1164277353
set MF4[11]=1215722344
set MF4[12]=1162032181
set MF4[13]=1165451634
set MF4[14]=1429221424
set MF4[15]=1160786242
set MF4[16]=1211117641
set MF4[17]=1212365106
set MF4[18]=1315988077
set MF4[19]=1215063922
set MF4[20]=1214345830
set MF4[21]=1211117616
set MF4[22]=1211117617
set MF4[23]=1214344551
set MF4[24]=1211117624
set MF4[25]=1432580716
set MF4[26]=1333027688
set MF4[27]=1313026096
set MF4[28]=1432646245
set MF4[29]=1430466865
set MF4[30]=1332109682
set MF4[31]=1429221446
set MF4[32]=1429221451
set MF4[33]=1328558154
set MF4[34]=1432642913
set MF4[35]=1332766568
set MF4[36]=1429221441
set MF4[37]=1429221443
set MF4[38]=1430468913
set MF4[39]=1430467634
set MF4[40]=1429221432
set MF4[41]=1211117636
set MF4[42]=1311781193
set MF4[43]=1311780946
set MF4[44]=1211117652
set MF4[45]=1211119187
set MF4[46]=1211117650
set MF4[47]=1328558389
set MF4[48]=1211119409
set MF4[49]=1160786505
set MF4[50]=1311788336
set MF4[51]=1160786738
set MF4[52]=1160786507
set MG4=52
call A67()
endfunction
function TavernFogFix takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_MASKED,GetUnitX(MR4),GetUnitY(MR4),900,false,false))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_MASKED,GetUnitX(MP4),GetUnitY(MP4),900,false,false))
call UA7(t)
set t=null
return false
endfunction
function I28 takes item Z4 returns string
if Z4==null then
return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
endif
return CU[RY7(Z4)]
endfunction
function I_8 takes nothing returns nothing
local unit a=CreateUnit(Player(0),1747990348,-6100,-5800,0)
local unit b=CreateUnit(Player(0),1747990348,-6100,-5800,0)
local item i=CreateItem(1227900749,0,0)
call UnitAddItem(a,i)
if UnitUseItem(a,i)then
else
endif
call UnitRemoveItem(a,i)
call UnitAddItem(b,i)
if UnitUseItem(b,i)then
set M34=true
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10,(GetObjectName((1848657993))))
else
set M34=false
endif
call ShowUnit(a,false)
call KillUnit(a)
call ShowUnit(b,false)
call KillUnit(b)
call RemoveItem(i)
set i=null
set b=null
set a=null
endfunction
function J48 takes integer id returns boolean
return id==1211117642 or id==1311788365
endfunction
function J78 takes integer id returns boolean
local integer i=0
loop
exitwhen i>H07
if H17[i]==id then
return true
endif
set i=i+1
endloop
return false
endfunction
function J88 takes nothing returns nothing
set H07=H07+1
set H17[H07]=1093753431
set H07=H07+1
set H17[H07]=1093681718
set H07=H07+1
set H17[H07]=1093684023
set H07=H07+1
set H17[H07]=1093686327
set H07=H07+1
set H17[H07]=1093686328
set H07=H07+1
set H17[H07]=1093742918
set H07=H07+1
set H17[H07]=1093742920
set H07=H07+1
set H17[H07]=1093742919
set H07=H07+1
set H17[H07]=1093742916
set H07=H07+1
set H17[H07]=1093686067
set H07=H07+1
set H17[H07]=1093742917
set H07=H07+1
set H17[H07]=1093743959
set H07=H07+1
set H17[H07]=1093814353
set H07=H07+1
set H17[H07]=1093808945
set H07=H07+1
set H17[H07]=1093814351
set H07=H07+1
set H17[H07]=1093677647
set H07=H07+1
set H17[H07]=1093679193
set H07=H07+1
set H17[H07]=1093679194
set H07=H07+1
set H17[H07]=1093679408
set H07=H07+1
set H17[H07]=1093679410
set H07=H07+1
set H17[H07]=1095331943
set H07=H07+1
set H17[H07]=1095332962
set H07=H07+1
set H17[H07]=1093683254
set H07=H07+1
set H17[H07]=1093751108
set H07=H07+1
set H17[H07]=1093751863
set H07=H07+1
set H17[H07]=1093744973
set H07=H07+1
set H17[H07]=1093747011
set H07=H07+1
set H17[H07]=1094936696
set H07=H07+1
set H17[H07]=1093810265
set H07=H07+1
set H17[H07]=1095328363
set H07=H07+1
set H17[H07]=1093748055
set H07=H07+1
set H17[H07]=1093677367
set H07=H07+1
set H17[H07]=1093683801
set H07=H07+1
set H17[H07]=1093682767
set H07=H07+1
set H17[H07]=1093683255
set H07=H07+1
set H17[H07]=1093681720
set H07=H07+1
set H17[H07]=1093752645
set H07=H07+1
set H17[H07]=1095333995
set H07=H07+1
set H17[H07]=1093753417
set H07=H07+1
set H17[H07]=1093681995
set H07=H07+1
set H17[H07]=1093683788
set H07=H07+1
set H17[H07]=1093748303
set H07=H07+1
set H17[H07]=1095328865
set H07=H07+1
set H17[H07]=1093683266
set H07=H07+1
set H17[H07]=1093682227
set H07=H07+1
set H17[H07]=1093682246
set H07=H07+1
set H17[H07]=1093682756
set H07=H07+1
set H17[H07]=1093743191
set H07=H07+1
set H17[H07]=1093743681
set H07=H07+1
set H17[H07]=1093748292
set H07=H07+1
set H17[H07]=1093749071
set H07=H07+1
set H17[H07]=1093677655
set H07=H07+1
set H17[H07]=1093809721
set H07=H07+1
set H17[H07]=1093815111
set H07=H07+1
set H17[H07]=1093748304
set H07=H07+1
set H17[H07]=1093686329
set H07=H07+1
set H17[H07]=1093751096
set H07=H07+1
set H17[H07]=1093750095
set H07=H07+1
set H17[H07]=1093810244
set H07=H07+1
set H17[H07]=1097163124
set H07=H07+1
set H17[H07]=1093684016
set H07=H07+1
set H17[H07]=1095331948
set H07=H07+1
set H17[H07]=1093683796
set H07=H07+1
set H17[H07]=1095331954
set H07=H07+1
set H17[H07]=1093677656
set H07=H07+1
set H17[H07]=1093751349
set H07=H07+1
set H17[H07]=1095332727
set H07=H07+1
set H17[H07]=1093808182
set H07=H07+1
set H17[H07]=1093753416
set H07=H07+1
set H17[H07]=1093813569
set H07=H07+1
set H17[H07]=1093815092
set H07=H07+1
set H17[H07]=1093815095
set H07=H07+1
set H17[H07]=1093815089
endfunction
function J98 takes integer id returns boolean
return id==1093808454 or id==1093808455 or id==1093808456 or id==1093751609 or id==1093809217 or id==1093809218 or id==1093678667 or id==1093752391 or id==1093810257 or id==1093752646 or id==1093686328 or id==1093686327 or id==1093808206 or id==1093753394 or id==1093753395 or id==1093808181 or id==1093743681 or id==1093809721 or id==1093815111 or id==1093815881 or id==1093810008 or id==1093810265 or id==1093809221 or id==1093753416 or id==1093752655 or id==1093748305 or id==1093686341 or id==1093814863 or id==1093813848 or id==1093684560 or id==1093815109 or id==1093815112 or id==1093815097 or id==1093814860 or id==1093815857 or id==1093815618 or id==1093677625 or id==1093816121
endfunction
function JD8 takes nothing returns nothing
set MC4=MC4+1
set MB4[MC4]=1093683254
set MC4=MC4+1
set MB4[MC4]=1093677362
set MC4=MC4+1
set MB4[MC4]=1093678667
set MC4=MC4+1
set MB4[MC4]=1093683513
set MC4=MC4+1
set MB4[MC4]=1093683265
set MC4=MC4+1
set MB4[MC4]=1093684021
set MC4=MC4+1
set MB4[MC4]=1093685337
set MC4=MC4+1
set MB4[MC4]=1093748303
set MC4=MC4+1
set MB4[MC4]=1093685844
set MC4=MC4+1
set MB4[MC4]=1093686081
set MC4=MC4+1
set MB4[MC4]=1093686327
set MC4=MC4+1
set MB4[MC4]=1093686328
set MC4=MC4+1
set MB4[MC4]=1093743681
set MC4=MC4+1
set MB4[MC4]=1093681733
set MC4=MC4+1
set MB4[MC4]=1093808472
set MC4=MC4+1
set MB4[MC4]=1093808471
set MC4=MC4+1
set MB4[MC4]=1093808470
set MC4=MC4+1
set MB4[MC4]=1097754673
set MC4=MC4+1
set MB4[MC4]=1093750618
set MC4=MC4+1
set MB4[MC4]=1093743428
set MC4=MC4+1
set MB4[MC4]=1093677622
set MC4=MC4+1
set MB4[MC4]=1093751096
endfunction
function JE8 takes nothing returns nothing
set B8[1]=1095331188
set B8[2]=1095328865
set B8[3]=1095660653
set B8[4]=1094935400
set B8[5]=1095333995
set B8[6]=1093681995
set B8[7]=1093677367
set B8[8]=1093681720
set B8[9]=1093683266
set B8[10]=1093682227
set B8[11]=1093682246
set B8[12]=1093677655
set B8[13]=1095331954
set B8[14]=1095331948
set B8[15]=1093682767
set B8[16]=1093683255
set B8[17]=1093683254
set B8[18]=1093677656
set B8[19]=1095332727
set B8[20]=1093682008
set B8[21]=1093681718
set B8[22]=1097163124
set B8[23]=1093679180
set B8[24]=1095328633
set B8[25]=1093678426
set B8[26]=1095328363
set B8[27]=1093682265
set B8[28]=1093684314
set B8[29]=1093685065
set B8[30]=1093684056
set B8[31]=1093684055
set B8[32]=1093677622
set B8[33]=1093681972
set B8[34]=1093677362
set B8[35]=1093678667
set B8[36]=1093677652
set B8[37]=1095263841
set B8[38]=1093679446
set B8[39]=1093678425
set B8[40]=1093683513
set B8[41]=1093683265
set B8[42]=1093684021
set B8[43]=1093685337
set B8[44]=1093685582
set B8[45]=1093685844
set B8[46]=1093685840
set B8[47]=1093743191
set B8[48]=1093686081
set B8[49]=1093686327
set B8[50]=1093686328
set B8[51]=1093743681
set B8[52]=1093681733
set B8[53]=1093808472
set B8[54]=1093808471
set B8[55]=1093808470
set B8[56]=1093684560
set B8[57]=1093743428
set B8[58]=1093683801
set B8[59]=1093743959
set B8[60]=1093748303
set B8[61]=1093748292
set B8[62]=1093750618
set B8[63]=1093750095
set B8[64]=1093749071
set B8[65]=1093751096
set B8[66]=1093751361
set B8[67]=1093751126
set B8[68]=1093752645
set B8[69]=1093752642
set B8[70]=1093815111
set B8[71]=1093815859
set C8=71
endfunction
function JF8 takes nothing returns boolean
call JE8()
call JD8()
call J88()
return false
endfunction
function JG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function JF8))
endfunction
function JH8 takes nothing returns nothing
call CreateQuestBJ(0,GetObjectName(1496395827),"TRIGSTR_49999","ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp")
call CreateQuestBJ(0,GetObjectName(1496395828),"TRIGSTR_49998","ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp")
call CreateQuestBJ(0,"TRIGSTR_50004","TRIGSTR_50005","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
call CreateQuestBJ(0,"TRIGSTR_50006","TRIGSTR_50007","ReplaceableTextures\\CommandButtons\\BTNTome.blp")
call CreateQuestBJ(0,"TRIGSTR_50008","TRIGSTR_50009","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(2,"TRIGSTR_50010","TRIGSTR_50011","ReplaceableTextures\\CommandButtons\\BTNScrollOfHaste.blp")
call CreateQuestBJ(2,"TRIGSTR_50012","TRIGSTR_50013","ReplaceableTextures\\CommandButtons\\BTNBansheeMaster.blp")
call CreateQuestBJ(2,"TRIGSTR_50014","TRIGSTR_50015","ReplaceableTextures\\CommandButtons\\BTNCarrionScarabs.blp")
endfunction
function JI8 takes nothing returns boolean
local string s
if IsUnitIllusion(GetTriggerUnit())==false and J48(GetUnitTypeId(GetTriggerUnit()))==false then
set s=GetUnitName(GetTriggerUnit())+" "+(GetObjectName((1848657986)))+" "+GetObjectName(GetLearnedSkill())+" ("+(GetObjectName((1848657987)))+" "+I2S(GetUnitAbilityLevel(GetTriggerUnit(),GetLearnedSkill()))+")"
call DisplayTimedTextToPlayer(KX4,0,0,3,s)
call DisplayTimedTextToPlayer(KY4,0,0,3,s)
endif
return false
endfunction
function JJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function JI8))
set t=null
endfunction
function JK8 takes player p returns nothing
local unit CC7=M7[GetPlayerId(p)]
local integer i=0
local item JM8
loop
exitwhen i>5
set JM8=UnitItemInSlot(CC7,i)
call SetItemDroppable(JM8,false)
set i=i+1
endloop
set CC7=null
set JM8=null
endfunction
function JN8 takes nothing returns nothing
call BC7(bj_FORCE_ALL_PLAYERS,25.00,(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|c00ff0303 "+(GetObjectName((1848652356)))+"|r")
endfunction
function Jf takes nothing returns nothing
local player JO8=UD7(GetHandleId(GetExpiredTimer()),"Leaver")
local integer T8=1
local integer Jg
local integer hY=GetPlayerState(JO8,PLAYER_STATE_RESOURCE_GOLD)
if hY>20 then
call SetPlayerState(JO8,PLAYER_STATE_RESOURCE_GOLD,0)
set VG4[GetPlayerId(JO8)]=0
if ZC7(JO8)then
set Jg=P8(X7)
else
set Jg=P8(Y7)
endif
if ZC7(JO8)then
loop
exitwhen T8>5
if Z07(Z7[T8])then
call SetPlayerState(Z7[T8],PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Z7[T8],PLAYER_STATE_RESOURCE_GOLD)+hY/Jg)
endif
set T8=T8+1
endloop
else
loop
exitwhen T8>5
if Z07(A7[T8])then
call SetPlayerState(A7[T8],PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(A7[T8],PLAYER_STATE_RESOURCE_GOLD)+hY/Jg)
endif
set T8=T8+1
endloop
endif
endif
endfunction
function JP8 takes player JO8 returns nothing
local timer t=CreateTimer()
local integer UC7=GetHandleId(t)
call TA7(UC7,"Leaver",JO8)
call TimerStart(t,2,true,function Jf)
set t=null
endfunction
function JQ8 takes player p returns nothing
local multiboarditem JR8=MultiboardGetItem(T4,ND4[GetPlayerId(p)],N94[GetPlayerId(p)])
call MultiboardSetItemValue(JR8,"|c00333333"+BA7(p)+"|r")
call MultiboardReleaseItem(JR8)
endfunction
function JS8 takes nothing returns nothing
local player p=OD4
local string id=I2S(GetPlayerId(p))
call StoreInteger(IV4,id,"8_0",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(0)))))
call StoreInteger(IV4,id,"8_1",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(1)))))
call StoreInteger(IV4,id,"8_2",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(2)))))
call StoreInteger(IV4,id,"8_3",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(3)))))
call StoreInteger(IV4,id,"8_4",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(4)))))
call StoreInteger(IV4,id,"8_5",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(5)))))
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_0")
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_1")
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_2")
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_3")
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_4")
call SyncStoredInteger(IV4,I2S(GetPlayerId(p)),"8_5")
endif
endfunction
function JT8 takes nothing returns nothing
local integer IL8=P8(X7)
local integer I68=P8(Y7)
local integer T8
local integer U8
local string JU8
local string JV8
local unit CO7=M7[GetPlayerId(GetTriggerPlayer())]
if CO7==null then
set JV8=(GetObjectName((1848657239)))
else
set JV8=GetUnitName(CO7)
endif
if(C<10)then
set JU8=I2S(B)+":0"+I2S(C)
else
set JU8=I2S(B)+":"+I2S(C)
endif
if D9==false then
set C9[GetPlayerId(GetTriggerPlayer())]="|c00555555"+JU8+"|r"
call BC7(bj_FORCE_ALL_PLAYERS,25.00,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+" ("+JV8+")|r|c00ff0303 "+(GetObjectName((1848652356)))+"|r")
if(ZC7(GetTriggerPlayer())==true)then
set T8=1
set U8=5
loop
exitwhen T8>U8
if(Z7[T8]!=GetTriggerPlayer())then
if(Z07(Z7[T8])==true)then
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Z7[T8],4)
endif
endif
set T8=T8+1
endloop
else
set T8=1
set U8=5
loop
exitwhen T8>U8
if(A7[T8]!=GetTriggerPlayer())then
if(Z07(A7[T8])==true)then
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),A7[T8],4)
endif
endif
set T8=T8+1
endloop
endif
if ZC7(GetTriggerPlayer())or Z37(GetTriggerPlayer())then
set M64=M64+1
endif
call II8("C"+"K"+I2S(T7[GetPlayerId(GetTriggerPlayer())])+"D"+I2S(U7[GetPlayerId(GetTriggerPlayer())])+"N"+I2S((LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId(GetTriggerPlayer()))),StringHash("NumOfNeutrals")))),GetPlayerId(GetTriggerPlayer()))
set OD4=GetTriggerPlayer()
call ExecuteFunc("JS8")
call JK8(GetTriggerPlayer())
set U2[GetPlayerId(GetTriggerPlayer())]=true
call JQ8(GetTriggerPlayer())
call JP8(GetTriggerPlayer())
if M64==2 and V8==false and Ny==true then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"|c006699CC"+(GetObjectName((1848657495)))+"|r")
endif
if M64==3 then
set O84=true
call ExecuteFunc("JW8")
set O84=false
endif
else
set C9[GetPlayerId(GetTriggerPlayer())]="|c00555555End|r"
call ExecuteFunc("JX8")
endif
set CO7=null
endfunction
function JY8 takes unit CC7 returns nothing
if GetUnitTypeId(CC7)!=1211117642 and GetUnitTypeId(CC7)!=1211117641 then
if GetOwningPlayer(CC7)==GetLocalPlayer()then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1," ")
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1,"|c006699CC"+(GetObjectName((1848657746))))
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1," ")
endif
call EY8(WR,GetOwningPlayer(CC7))
endif
call SetUnitInvulnerable(CC7,false)
call UnitRemoveAbility(CC7,1093681498)
call UnitRemoveAbility(CC7,1093679434)
call UnitRemoveAbility(CC7,1093684052)
call UnitRemoveAbility(CC7,1093684823)
call UnitRemoveAbility(CC7,1093684821)
call UnitRemoveAbility(CC7,1093685079)
call UnitRemoveAbility(CC7,1093685078)
call UnitRemoveAbility(CC7,1093685080)
call UnitRemoveAbility(CC7,1093685081)
call UnitRemoveAbility(CC7,1093685296)
call UnitRemoveAbility(CC7,1093744459)
call UnitRemoveAbility(CC7,1093685334)
call UnitRemoveAbility(CC7,1093685583)
call UnitRemoveAbility(CC7,1093685827)
call UnitRemoveAbility(CC7,1093685830)
call UnitRemoveAbility(CC7,Ly)
call UnitRemoveAbility(CC7,my)
call UnitRemoveAbility(CC7,My)
call UnitRemoveAbility(CC7,py)
call UnitRemoveAbility(CC7,1093684821)
call UnitRemoveAbility(CC7,1093684823)
call UnitRemoveAbility(CC7,1093682777)
call UnitRemoveAbility(CC7,1093683509)
call UnitRemoveAbility(CC7,1093681977)
call UnitRemoveAbility(CC7,1093683528)
call UnitRemoveAbility(CC7,1110455863)
call UnitRemoveAbility(CC7,1110456396)
call UnitRemoveAbility(CC7,1093686098)
call UnitRemoveAbility(CC7,1093687119)
call UnitRemoveAbility(CC7,1093687122)
call UnitRemoveAbility(CC7,1093747534)
call UnitRemoveAbility(CC7,1093686856)
call UnitRemoveAbility(CC7,1093686858)
call UnitRemoveAbility(CC7,1093742649)
call UnitRemoveAbility(CC7,1093686871)
call UnitRemoveAbility(CC7,1093687373)
call UnitRemoveAbility(CC7,1093742927)
call UnitRemoveAbility(CC7,1093742930)
call UnitRemoveAbility(CC7,1093743671)
call UnitRemoveAbility(CC7,1093743672)
call UnitRemoveAbility(CC7,1093742933)
call UnitRemoveAbility(CC7,1093743673)
call UnitRemoveAbility(CC7,1093743153)
call UnitRemoveAbility(CC7,1093743158)
call UnitRemoveAbility(CC7,1093744441)
call UnitRemoveAbility(CC7,1097167980)
call UnitRemoveAbility(CC7,n1[0])
call UnitRemoveAbility(CC7,n1[1])
call UnitRemoveAbility(CC7,n1[2])
call UnitRemoveAbility(CC7,n1[3])
call UnitRemoveAbility(CC7,n1[4])
call UnitRemoveAbility(CC7,n1[5])
call UnitRemoveAbility(CC7,1093748533)
call UnitRemoveAbility(CC7,1093748531)
call UnitRemoveAbility(CC7,1093748534)
call UnitRemoveAbility(CC7,1093748532)
call TT7(GetHandleId(CC7),"Grapple",false)
call SetUnitPathing(CC7,true)
call PauseUnit(CC7,false)
call SetUnitFlyHeight(CC7,GetUnitDefaultFlyHeight(CC7),0)
call SetUnitScale(CC7,L37(CC7)*CS,L37(CC7)*CS,L37(CC7)*CS)
call UnitRemoveAbility(CC7,1093747521)
call UnitRemoveAbility(CC7,1093747513)
call UnitRemoveAbility(CC7,1093747522)
call UnitRemoveAbility(CC7,1093747523)
call UnitRemoveAbility(CC7,1093748545)
call UnitRemoveAbility(CC7,1093752627)
call UnitRemoveAbility(CC7,1110459471)
call UnitRemoveAbility(CC7,1093752136)
call UnitRemoveAbility(CC7,1093752137)
call UnitRemoveAbility(CC7,1093753396)
call UnitRemoveAbility(CC7,1093753409)
call UnitRemoveAbility(CC7,1093753410)
call UnitRemoveAbility(CC7,1093753401)
call UnitRemoveAbility(CC7,1110459478)
call UnitRemoveAbility(CC7,1093809718)
call UnitRemoveAbility(CC7,1093809717)
call UnitRemoveAbility(CC7,1093809228)
call UnitRemoveAbility(CC7,1110459716)
call UnitRemoveAbility(CC7,1093808975)
call UnitRemoveAbility(CC7,1110459705)
call HP8(CC7,0)
if GetUnitTypeId(CC7)==1160786510 or GetUnitTypeId(CC7)==1160786511 then
call UnitRemoveAbility(CC7,1093808951)
call UnitAddAbility(CC7,1093808706)
call UnitRemoveAbility(CC7,1093808706)
if SV7(CC7,ZU[G14])!=null then
call UnitAddAbility(CC7,1093808951)
endif
endif
call UnitRemoveAbility(CC7,1093808966)
call FN8(CC7)
set IN4=CC7
call ExecuteFunc("JZ8")
endfunction
function JA8 takes nothing returns boolean
if GetPlayerAlliance(GetOwningPlayer(GetFilterUnit()),QZ,ALLIANCE_SHARED_CONTROL)==true and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false then
set MZ=MZ+1
endif
return false
endfunction
function JB8 takes unit u,player p,real x,real y,boolean JC8 returns nothing
local group g=CX7()
set MZ=0
set QZ=p
call GroupEnumUnitsSelected(g,p,Condition(function JA8))
if MZ==0 and GetLocalPlayer()==p then
if JC8==false then
call ClearSelection()
call SelectUnit(u,true)
endif
call PanCameraToTimed(x,y,0)
endif
set MZ=0
call CW7(g)
set g=null
endfunction
function J38 takes unit S4 returns boolean
return GetUnitTypeId(S4)==1211117641 or GetUnitTypeId(S4)==1211117642
endfunction
function J68 takes unit JL8 returns nothing
local integer J18
if SV7(JL8,ZU[DI4])!=null and GetUnitTypeId(JL8)!=1211117642 then
set J18=R2I(GetItemCharges(SV7(JL8,ZU[DI4]))*0.67)
if GetItemCharges(SV7(JL8,ZU[DI4]))==1 then
set J18=0
endif
call SetItemCharges(SV7(JL8,ZU[DI4]),J18)
call AddHeroXP(JL8,GetHeroXP(OA4[GetPlayerId(GetOwningPlayer(JL8))]),true)
call RemoveUnit(OA4[GetPlayerId(GetOwningPlayer(JL8))])
endif
endfunction
function J08 takes unit u returns nothing
local integer UC7=GetHandleId(GetOwningPlayer(u))
local unit J58=U87(UC7,"Kobold0")
local unit J28=U87(UC7,"Kobold1")
local unit J_8=U87(UC7,"Kobold2")
local unit K48=U87(UC7,"Kobold3")
local unit K78=U87(UC7,"Kobold4")
local unit K88
set K88=J58
if K88!=null then
call RemoveUnit(K88)
endif
set K88=J28
if K88!=null then
call RemoveUnit(K88)
endif
set K88=J_8
if K88!=null then
call RemoveUnit(K88)
endif
set K88=K48
if K88!=null then
call RemoveUnit(K88)
endif
set K88=K78
if K88!=null then
call RemoveUnit(K88)
endif
set K88=null
set K78=null
set K48=null
set J_8=null
set J28=null
set J58=null
endfunction
function K98 takes nothing returns boolean
call UA7(GetTriggeringTrigger())
set OB4=false
return false
endfunction
function KD8 takes unit KE8 returns nothing
local integer UC7=GetHandleId(GetOwningPlayer(KE8))
local unit J58=U87(UC7,"Kobold0")
local unit J28=U87(UC7,"Kobold1")
local unit J_8=U87(UC7,"Kobold2")
local unit K48=U87(UC7,"Kobold3")
local unit K78=U87(UC7,"Kobold4")
local unit K88
local real x=GetUnitX(J58)
local real y=GetUnitY(J58)
local trigger t
if OB4==false then
if ZC7(GetOwningPlayer(J58))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
else
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,2.,false)
call TriggerAddCondition(t,Condition(function K98))
endif
set K88=J58
if K88!=null and KE8!=K88 then
call ReviveHero(K88,x,y,false)
call SetUnitX(K88,x)
call SetUnitY(K88,y)
call JY8(K88)
call SetUnitPathing(K88,true)
call SetUnitState(K88,UNIT_STATE_MANA,10000)
endif
set K88=J28
if K88!=null and KE8!=K88 then
call ReviveHero(K88,x,y,false)
call SetUnitX(K88,x)
call SetUnitY(K88,y)
call JY8(K88)
call SetUnitPathing(K88,true)
call SetUnitState(K88,UNIT_STATE_MANA,10000)
endif
set K88=J_8
if K88!=null and KE8!=K88 then
call ReviveHero(K88,x,y,false)
call SetUnitX(K88,x)
call SetUnitY(K88,y)
call JY8(K88)
call SetUnitPathing(K88,true)
call SetUnitState(K88,UNIT_STATE_MANA,10000)
endif
set K88=K48
if K88!=null and KE8!=K88 then
call ReviveHero(K88,x,y,false)
call SetUnitX(K88,x)
call SetUnitY(K88,y)
call JY8(K88)
call SetUnitPathing(K88,true)
call SetUnitState(K88,UNIT_STATE_MANA,10000)
endif
set K88=K78
if K88!=null and KE8!=K88 then
call ReviveHero(K88,x,y,false)
call SetUnitX(K88,x)
call SetUnitY(K88,y)
call JY8(K88)
call SetUnitPathing(K88,true)
call SetUnitState(K88,UNIT_STATE_MANA,10000)
endif
set t=null
set K88=null
set K48=null
set J_8=null
set J28=null
set J58=null
endfunction
function KF8 takes unit CO7 returns nothing
local integer KG8=GetUnitPointValue(CO7)
local unit KH8
if(KG8==34)then
call ExecuteFunc("KI8")
call ExecuteFunc("KJ8")
call ExecuteFunc("KK8")
elseif(KG8==37)then
call ExecuteFunc("KM8")
call ExecuteFunc("KN8")
call ExecuteFunc("KO8")
call ExecuteFunc("KP8")
elseif(KG8==38)then
call ExecuteFunc("KQ8")
call ExecuteFunc("KR8")
call ExecuteFunc("KS8")
call ExecuteFunc("KT8")
elseif(KG8==32)then
call ExecuteFunc("KU8")
call ExecuteFunc("KV8")
call ExecuteFunc("KW8")
elseif(KG8==52)then
call ExecuteFunc("KX8")
call ExecuteFunc("KY8")
call ExecuteFunc("KZ8")
call ExecuteFunc("KA8")
elseif(KG8==31)then
call ExecuteFunc("KB8")
call ExecuteFunc("KC8")
call ExecuteFunc("K38")
elseif(KG8==24)then
call ExecuteFunc("K68")
call ExecuteFunc("KL8")
call ExecuteFunc("K18")
call ExecuteFunc("K08")
elseif(KG8==5)then
call ExecuteFunc("K58")
call ExecuteFunc("K28")
call ExecuteFunc("K_8")
elseif(KG8==8)then
call ExecuteFunc("M48")
call ExecuteFunc("M78")
call ExecuteFunc("M88")
call ExecuteFunc("M98")
call ExecuteFunc("MD8")
elseif(KG8==3)then
call ExecuteFunc("ME8")
call ExecuteFunc("MF8")
call ExecuteFunc("MG8")
call ExecuteFunc("MH8")
elseif(KG8==95)then
call ExecuteFunc("MI8")
call ExecuteFunc("MJ8")
call ExecuteFunc("MK8")
call ExecuteFunc("MM8")
call ExecuteFunc("MN8")
elseif(KG8==20)then
call ExecuteFunc("MO8")
call ExecuteFunc("MP8")
call ExecuteFunc("po")
call ExecuteFunc("MQ8")
elseif(KG8==12)then
call ExecuteFunc("MR8")
call ExecuteFunc("MS8")
call ExecuteFunc("MT8")
elseif(KG8==16)then
call ExecuteFunc("MU8")
call ExecuteFunc("MV8")
call ExecuteFunc("MW8")
call ExecuteFunc("MX8")
call ExecuteFunc("MY8")
elseif(KG8==25)then
call ExecuteFunc("MZ8")
call ExecuteFunc("MA8")
elseif(KG8==4)then
call ExecuteFunc("MB8")
call ExecuteFunc("MC8")
call ExecuteFunc("pZ")
call ExecuteFunc("M38")
call ExecuteFunc("M68")
call ExecuteFunc("ML8")
call SetUnitPathing(CO7,false)
set O74=true
set KH8=CreateUnit(GetOwningPlayer(CO7),GetUnitTypeId(CO7),GetUnitX(CO7),GetUnitY(CO7),GetUnitFacing(CO7))
call TT7(GetHandleId(KH8),"EnteredAlready",true)
set M7[GetPlayerId(GetOwningPlayer(CO7))]=KH8
call SetUnitPathing(KH8,false)
call SetUnitPosition(KH8,GetUnitX(CO7),GetUnitY(CO7))
if D4 then
call SetHeroXP(KH8,GetHeroXP(CO7),false)
call UnitAddItem(KH8,UnitItemInSlot(CO7,0))
call UnitAddItem(KH8,UnitItemInSlot(CO7,1))
call UnitAddItem(KH8,UnitItemInSlot(CO7,2))
call UnitAddItem(KH8,UnitItemInSlot(CO7,3))
call UnitAddItem(KH8,UnitItemInSlot(CO7,4))
call UnitAddItem(KH8,UnitItemInSlot(CO7,5))
endif
call DK8(CO7)
call SetUnitPathing(KH8,true)
call ClearSelectionForPlayer(GetOwningPlayer(KH8))
call SelectUnitAddForPlayer(KH8,GetOwningPlayer(KH8))
elseif(KG8==7)then
call ExecuteFunc("M18")
call ExecuteFunc("M08")
call ExecuteFunc("M58")
elseif(KG8==18)then
call ExecuteFunc("M28")
call ExecuteFunc("M_8")
elseif(KG8==36)then
call ExecuteFunc("PN")
elseif(KG8==21)then
call ExecuteFunc("Po")
call ExecuteFunc("PO")
call ExecuteFunc("N48")
call ExecuteFunc("N78")
elseif(KG8==14)then
call ExecuteFunc("N88")
call ExecuteFunc("N98")
call ExecuteFunc("ND8")
call ExecuteFunc("NE8")
call ExecuteFunc("Pr")
call ExecuteFunc("NF8")
elseif(KG8==13)then
call ExecuteFunc("NG8")
call ExecuteFunc("NH8")
call ExecuteFunc("NI8")
call ExecuteFunc("NJ8")
elseif(KG8==26)then
call ExecuteFunc("NK8")
call ExecuteFunc("Pv")
call ExecuteFunc("PV")
call ExecuteFunc("NM8")
elseif(KG8==9)then
call ExecuteFunc("Pw")
call ExecuteFunc("NN8")
call ExecuteFunc("NO8")
call ExecuteFunc("NP8")
elseif(KG8==10)then
call ExecuteFunc("NQ8")
call ExecuteFunc("NR8")
call ExecuteFunc("NS8")
call ExecuteFunc("NT8")
call ExecuteFunc("NU8")
call ExecuteFunc("qb")
call ExecuteFunc("qB")
call ExecuteFunc("qc")
elseif(KG8==23)then
call ExecuteFunc("qC")
call ExecuteFunc("qD")
call ExecuteFunc("qe")
call ExecuteFunc("qg")
elseif(KG8==19)then
call ExecuteFunc("NV8")
call ExecuteFunc("NW8")
call ExecuteFunc("NX8")
elseif(KG8==22)then
call ExecuteFunc("NY8")
call ExecuteFunc("NZ8")
call ExecuteFunc("NA8")
call ExecuteFunc("NB8")
elseif(KG8==17)then
call ExecuteFunc("NC8")
call ExecuteFunc("N38")
elseif(KG8==1)then
call ExecuteFunc("N68")
call ExecuteFunc("NL8")
call ExecuteFunc("N18")
elseif(KG8==2)then
call ExecuteFunc("N08")
call ExecuteFunc("N58")
call ExecuteFunc("N28")
call ExecuteFunc("N_8")
elseif(KG8==27)then
call ExecuteFunc("O48")
call ExecuteFunc("O78")
call ExecuteFunc("O88")
call ExecuteFunc("O98")
call ExecuteFunc("OD8")
elseif(KG8==82)then
call ExecuteFunc("OE8")
call ExecuteFunc("OF8")
call ExecuteFunc("OG8")
call ExecuteFunc("OH8")
elseif(KG8==75)then
call ExecuteFunc("OI8")
call ExecuteFunc("OJ8")
call ExecuteFunc("OK8")
call ExecuteFunc("OM8")
elseif(KG8==83)then
call ExecuteFunc("ON8")
call ExecuteFunc("OO8")
call ExecuteFunc("OP8")
call ExecuteFunc("OQ8")
elseif(KG8==59)then
call ExecuteFunc("OR8")
call ExecuteFunc("OS8")
call ExecuteFunc("OT8")
call ExecuteFunc("OU8")
elseif(KG8==108)then
call ExecuteFunc("OV8")
call ExecuteFunc("OW8")
elseif(KG8==69)then
call ExecuteFunc("OX8")
call ExecuteFunc("OY8")
call ExecuteFunc("OZ8")
call ExecuteFunc("OA8")
call ExecuteFunc("OB8")
elseif(KG8==100)then
call ExecuteFunc("OC8")
call ExecuteFunc("O38")
call ExecuteFunc("O68")
elseif(KG8==102)then
call ExecuteFunc("OL8")
elseif(KG8==64)then
call ExecuteFunc("O18")
call ExecuteFunc("O08")
call ExecuteFunc("O58")
elseif(KG8==106)then
call ExecuteFunc("O28")
call ExecuteFunc("O_8")
call ExecuteFunc("P48")
elseif(KG8==61)then
call ExecuteFunc("P78")
call ExecuteFunc("P88")
call ExecuteFunc("P98")
elseif(KG8==76)then
call ExecuteFunc("PD8")
call ExecuteFunc("PE8")
call ExecuteFunc("PF8")
call ExecuteFunc("PG8")
elseif(KG8==80)then
call ExecuteFunc("PH8")
call ExecuteFunc("PI8")
call ExecuteFunc("PJ8")
call ExecuteFunc("PK8")
call ExecuteFunc("RM")
elseif(KG8==62)then
call ExecuteFunc("PM8")
call ExecuteFunc("PN8")
call ExecuteFunc("PO8")
elseif(KG8==60)then
call ExecuteFunc("PP8")
call ExecuteFunc("PQ8")
call ExecuteFunc("PR8")
elseif(KG8==77)then
call ExecuteFunc("PS8")
call ExecuteFunc("PT8")
call ExecuteFunc("PU8")
call ExecuteFunc("PV8")
call ExecuteFunc("PW8")
elseif(KG8==73)then
call ExecuteFunc("PX8")
elseif(KG8==81)then
call ExecuteFunc("PY8")
call ExecuteFunc("PZ8")
call ExecuteFunc("sa")
call ExecuteFunc("sB")
elseif(KG8==66)then
call ExecuteFunc("PA8")
elseif(KG8==78)then
call ExecuteFunc("PB8")
call ExecuteFunc("PC8")
call ExecuteFunc("P38")
call ExecuteFunc("P68")
elseif(KG8==99)then
call ExecuteFunc("PL8")
call ExecuteFunc("P18")
call ExecuteFunc("P08")
call ExecuteFunc("P58")
call ExecuteFunc("P28")
call ExecuteFunc("P_8")
elseif(KG8==74)then
call ExecuteFunc("Q48")
call ExecuteFunc("Q78")
call ExecuteFunc("Q88")
call ExecuteFunc("Q98")
elseif(KG8==105)then
call ExecuteFunc("QD8")
call ExecuteFunc("QF8")
elseif(KG8==70)then
call ExecuteFunc("QG8")
call ExecuteFunc("QH8")
call ExecuteFunc("QI8")
elseif(KG8==107)then
call ExecuteFunc("QJ8")
call ExecuteFunc("QK8")
call ExecuteFunc("QM8")
call ExecuteFunc("QN8")
elseif(KG8==79)then
call ExecuteFunc("QO8")
call ExecuteFunc("QP8")
call ExecuteFunc("QQ8")
call ExecuteFunc("QR8")
elseif(KG8==68)then
call ExecuteFunc("QS8")
call ExecuteFunc("QT8")
elseif(KG8==84)then
call ExecuteFunc("QU8")
call ExecuteFunc("QV8")
call ExecuteFunc("s7")
call ExecuteFunc("QW8")
elseif(KG8==85)then
call ExecuteFunc("QX8")
call ExecuteFunc("QY8")
call ExecuteFunc("QZ8")
call ExecuteFunc("QA8")
call ExecuteFunc("QB8")
elseif(KG8==86)then
call ExecuteFunc("QC8")
call ExecuteFunc("Q38")
call ExecuteFunc("Q68")
call ExecuteFunc("QL8")
elseif(KG8==87)then
call ExecuteFunc("Q18")
call ExecuteFunc("Q08")
call ExecuteFunc("Q58")
call ExecuteFunc("Q28")
elseif(KG8==33)then
call ExecuteFunc("Q_8")
call ExecuteFunc("R48")
call ExecuteFunc("R78")
elseif(KG8==39)then
call ExecuteFunc("R88")
call ExecuteFunc("R98")
call ExecuteFunc("RD8")
elseif(KG8==88)then
call ExecuteFunc("RE8")
call ExecuteFunc("RF8")
call ExecuteFunc("RG8")
call ExecuteFunc("RH8")
elseif(KG8==40)then
call ExecuteFunc("RI8")
call ExecuteFunc("RJ8")
call ExecuteFunc("RK8")
call ExecuteFunc("RM8")
elseif KG8==89 then
call ExecuteFunc("RN8")
call ExecuteFunc("RO8")
elseif KG8==90 then
call ExecuteFunc("RP8")
call ExecuteFunc("RQ8")
call ExecuteFunc("RR8")
call ExecuteFunc("RS8")
elseif KG8==71 then
call ExecuteFunc("RT8")
call ExecuteFunc("RU8")
call ExecuteFunc("RV8")
call ExecuteFunc("RW8")
elseif KG8==93 then
call ExecuteFunc("RX8")
call ExecuteFunc("RY8")
call ExecuteFunc("RZ8")
call ExecuteFunc("RA8")
elseif KG8==42 then
call ExecuteFunc("RB8")
call ExecuteFunc("RC8")
call ExecuteFunc("R38")
call ExecuteFunc("R68")
elseif KG8==91 then
call ExecuteFunc("RL8")
call ExecuteFunc("R18")
call ExecuteFunc("R08")
call ExecuteFunc("R58")
call ExecuteFunc("R28")
call ExecuteFunc("R_8")
call ExecuteFunc("S48")
call ExecuteFunc("S78")
elseif KG8==92 then
call ExecuteFunc("S88")
call ExecuteFunc("S98")
call ExecuteFunc("SD8")
call ExecuteFunc("SE8")
elseif KG8==41 then
call ExecuteFunc("SF8")
call ExecuteFunc("SG8")
call ExecuteFunc("SH8")
call ExecuteFunc("SI8")
call ExecuteFunc("SJ8")
elseif KG8==43 then
call ExecuteFunc("SK8")
call ExecuteFunc("SM8")
call ExecuteFunc("SN8")
call ExecuteFunc("SO8")
call ExecuteFunc("SP8")
call ExecuteFunc("SQ8")
elseif KG8==44 then
call ExecuteFunc("SR8")
call ExecuteFunc("SS8")
call ExecuteFunc("ST8")
call ExecuteFunc("SU8")
elseif KG8==72 then
call ExecuteFunc("SV8")
call ExecuteFunc("SW8")
call ExecuteFunc("SX8")
call ExecuteFunc("SY8")
elseif KG8==94 then
call ExecuteFunc("SZ8")
elseif KG8==6 then
call ExecuteFunc("SA8")
call ExecuteFunc("SB8")
call ExecuteFunc("SC8")
elseif KG8==104 then
call ExecuteFunc("S38")
call ExecuteFunc("S68")
elseif KG8==65 then
call ExecuteFunc("SL8")
call ExecuteFunc("S18")
call ExecuteFunc("S08")
call ExecuteFunc("S58")
elseif KG8==45 then
call ExecuteFunc("S28")
call ExecuteFunc("S_8")
call ExecuteFunc("T48")
call ExecuteFunc("T78")
elseif KG8==58 then
call ExecuteFunc("T88")
call ExecuteFunc("T98")
call ExecuteFunc("TD8")
elseif KG8==63 then
call ExecuteFunc("TE8")
call ExecuteFunc("TF8")
elseif KG8==46 then
call ExecuteFunc("TG8")
call ExecuteFunc("TH8")
call ExecuteFunc("TI8")
call ExecuteFunc("TJ8")
elseif KG8==47 then
call ExecuteFunc("TK8")
call ExecuteFunc("TM8")
call ExecuteFunc("TN8")
call ExecuteFunc("TO8")
elseif KG8==11 then
call ExecuteFunc("TP8")
call ExecuteFunc("TQ8")
elseif KG8==96 then
call ExecuteFunc("TR8")
call ExecuteFunc("TS8")
call ExecuteFunc("TT8")
call ExecuteFunc("TU8")
elseif KG8==15 then
call ExecuteFunc("TV8")
call ExecuteFunc("TW8")
call ExecuteFunc("TX8")
call ExecuteFunc("TY8")
elseif KG8==97 then
call ExecuteFunc("TZ8")
call ExecuteFunc("TA8")
call ExecuteFunc("TB8")
call ExecuteFunc("TC8")
call ExecuteFunc("T38")
elseif KG8==98 then
call ExecuteFunc("T68")
call ExecuteFunc("TL8")
call ExecuteFunc("T18")
call ExecuteFunc("T08")
call ExecuteFunc("T58")
elseif KG8==67 then
call ExecuteFunc("T28")
elseif KG8==28 then
call ExecuteFunc("T_8")
elseif KG8==51 then
call ExecuteFunc("U48")
call ExecuteFunc("U78")
call ExecuteFunc("U88")
call ExecuteFunc("U98")
call ExecuteFunc("UD8")
call ExecuteFunc("UE8")
call ExecuteFunc("UF8")
elseif KG8==100 then
elseif KG8==101 then
call ExecuteFunc("UG8")
call ExecuteFunc("UH8")
call ExecuteFunc("UI8")
call ExecuteFunc("UJ8")
elseif KG8==48 then
call ExecuteFunc("UK8")
call ExecuteFunc("UM8")
call ExecuteFunc("UN8")
call ExecuteFunc("UO8")
elseif KG8==49 then
call ExecuteFunc("UP8")
call ExecuteFunc("UQ8")
call ExecuteFunc("UR8")
call ExecuteFunc("US8")
elseif KG8==29 then
call ExecuteFunc("UT8")
call ExecuteFunc("UU8")
call ExecuteFunc("UV8")
call ExecuteFunc("UW8")
elseif KG8==50 then
call ExecuteFunc("UX8")
call ExecuteFunc("UY8")
call ExecuteFunc("UZ8")
call ExecuteFunc("UA8")
elseif KG8==30 then
call ExecuteFunc("UB8")
call ExecuteFunc("UC8")
elseif KG8==53 then
call ExecuteFunc("U38")
call ExecuteFunc("U68")
call ExecuteFunc("UL8")
call ExecuteFunc("U18")
elseif KG8==103 then
call ExecuteFunc("U08")
elseif KG8==54 then
call ExecuteFunc("U58")
call ExecuteFunc("U28")
call ExecuteFunc("U_8")
call ExecuteFunc("V48")
call ExecuteFunc("V78")
elseif KG8==55 then
call ExecuteFunc("V88")
call ExecuteFunc("V98")
call ExecuteFunc("VD8")
call ExecuteFunc("VE8")
elseif KG8==56 then
call ExecuteFunc("VF8")
call ExecuteFunc("VG8")
call ExecuteFunc("VH8")
call ExecuteFunc("VI8")
elseif KG8==57 then
call ExecuteFunc("VJ8")
call ExecuteFunc("VK8")
call ExecuteFunc("VM8")
call ExecuteFunc("VN8")
elseif KG8==109 then
call ExecuteFunc("VO8")
call ExecuteFunc("VP8")
call ExecuteFunc("VQ8")
call ExecuteFunc("VR8")
call ExecuteFunc("VS8")
call ExecuteFunc("VT8")
elseif KG8==110 then
call ExecuteFunc("VU8")
call ExecuteFunc("VV8")
call ExecuteFunc("VW8")
call ExecuteFunc("VX8")
call ExecuteFunc("VY8")
elseif KG8==35 then
call ExecuteFunc("VZ8")
call ExecuteFunc("VA8")
endif
call D48("VB8",false)
set KH8=null
endfunction
function VC8 takes unit CO7 returns nothing
local integer KG8=GetUnitPointValue(CO7)
if KG8==500 then
call ExecuteFunc("V38")
call ExecuteFunc("V68")
call ExecuteFunc("VL8")
elseif KG8==600 then
call ExecuteFunc("V18")
call ExecuteFunc("V08")
call ExecuteFunc("V58")
call ExecuteFunc("V28")
call ExecuteFunc("V_8")
endif
endfunction
function W48 takes player ON7,string W78 returns nothing
if IsPlayerInForce(GetLocalPlayer(),GetPlayersEnemies(ON7))then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,E9,40,Q[GetPlayerId(ON7)]+(KZ4[GetPlayerId((ON7))])+"|r "+W78)
endif
endfunction
function W88 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
set M14=true
call UA7(t)
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_MASKED,O_4,P44,700,false,false))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_MASKED,O_4,P44,700,false,false))
set t=null
return false
endfunction
function W98 takes unit u returns boolean
return GetUnitTypeId(u)!=1211117645 and GetUnitTypeId(u)!=1311788365 and GetUnitTypeId(u)!=1211119431 and GetUnitTypeId(u)!=1211117657 and GetUnitTypeId(u)!=1211117642 and GetUnitTypeId(u)!=1211122232
endfunction
function WD8 takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetTriggerUnit())==false and UP7(GetHandleId(GetTriggerUnit()),"EnteredAlready")==false and W98(GetTriggerUnit())
endfunction
function WE8 takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1848651843
endfunction
function WF8 takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function WG8 takes player j8 returns nothing
local group IB8=CX7()
local boolexpr hP=Condition(function WE8)
call GroupEnumUnitsOfPlayer(IB8,j8,hP)
call ForGroup(IB8,function WF8)
call DestroyBoolExpr(hP)
call CW7(IB8)
set hP=null
set IB8=null
endfunction
function WH8 takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1852010352
endfunction
function WI8 takes nothing returns nothing
if VT then
call UnitRemoveAbility(KU4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],1093743686)
call UnitRemoveAbility(KU4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],1093743685)
call UnitRemoveAbility(KU4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],1093743688)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093683508)==0 then
call UnitAddAbility(GetEnumUnit(),1093683508)
endif
endfunction
function WJ8 takes player p returns nothing
local group g=CX7()
call GroupEnumUnitsOfPlayer(g,p,Condition(function WH8))
call ForGroup(g,function WI8)
call CW7(g)
set g=null
endfunction
function u6 takes player Ua returns player
local integer O5=1
local integer Uc=0
local boolean O6=false
loop
if((Uc>0)and(TJ7(O5,O6)!=null)and(IsPlayerInForce(TJ7(O5,O6),QX4)))then
return TJ7(O5,O6)
endif
if(Z7[O5]==Ua)then
set O6=true
set Uc=O5
elseif(A7[O5]==Ua)then
set Uc=O5
endif
set O5=O5+1
exitwhen O5>5
endloop
return null
endfunction
function WK8 takes unit CO7,player p returns string
local string s=(GetObjectName((1848656962)))
set s=IN8(s,"$hero",GetUnitName(CO7))
set s=IN8(s,"$p",(KZ4[GetPlayerId((p))]))
return s
endfunction
function WM8 takes unit WN8 returns nothing
local item WO8=UnitItemInSlot(WN8,0)
local item WP8=UnitItemInSlot(WN8,1)
local item WQ8=UnitItemInSlot(WN8,2)
local item WR8=UnitItemInSlot(WN8,3)
local item WS8=UnitItemInSlot(WN8,4)
local item WT8=UnitItemInSlot(WN8,5)
local integer WU8=RZ7(WO8)
local integer WV8=RZ7(WP8)
local integer WW8=RZ7(WQ8)
local integer WX8=RZ7(WR8)
local integer WY8=RZ7(WS8)
local integer WZ8=RZ7(WT8)
local integer WA8=0
call DisableTrigger(H94)
call UnitRemoveItem(WN8,WO8)
call UnitRemoveItem(WN8,WP8)
call UnitRemoveItem(WN8,WQ8)
call UnitRemoveItem(WN8,WR8)
call UnitRemoveItem(WN8,WS8)
call UnitRemoveItem(WN8,WT8)
call RemoveItem(WO8)
call RemoveItem(WP8)
call RemoveItem(WQ8)
call RemoveItem(WR8)
call RemoveItem(WS8)
call RemoveItem(WT8)
call EnableTrigger(H94)
if WU8>-1 then
set WA8=WA8+HK4[WU8]
endif
if WV8>-1 then
set WA8=WA8+HK4[WV8]
endif
if WW8>-1 then
set WA8=WA8+HK4[WW8]
endif
if WX8>-1 then
set WA8=WA8+HK4[WX8]
endif
if WY8>-1 then
set WA8=WA8+HK4[WY8]
endif
if WZ8>-1 then
set WA8=WA8+HK4[WZ8]
endif
call SetPlayerState(GetOwningPlayer(WN8),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetOwningPlayer(WN8),PLAYER_STATE_RESOURCE_GOLD)+WA8)
set dH[GetPlayerId(GetOwningPlayer(WN8))]=0
set WT8=null
set WS8=null
set WR8=null
set WQ8=null
set WP8=null
set WO8=null
endfunction
function WB8 takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local player j8=GetOwningPlayer(CO7)
local real x
local real y
local region r=CreateRegion()
local player WC8=j8
local item W38
local trigger t
local player p
local string s
if((QA4!=null)and(IsTriggerEnabled(QA4)))then
if((GetOwningPlayer(GetTriggerUnit())==QT4)and(QV4!=null))then
call SetUnitOwner(GetTriggerUnit(),QV4,true)
call SetUnitOwner(h4[512+GetPlayerId(QT4)],QT4,false)
call SetUnitOwner(h4[512+GetPlayerId(QV4)],QV4,false)
if(not oo[GetPlayerId(QV4)])then
call AdjustPlayerStateBJ(250,QT4,PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-250,QV4,PLAYER_STATE_RESOURCE_GOLD)
endif
call ExecuteFunc("UD")
set QV4=u6(QV4)
if(QV4!=null)then
if(not P4)then
call SetUnitOwner(h4[512+GetPlayerId(QT4)],QV4,false)
call SetUnitOwner(h4[512+GetPlayerId(QV4)],QT4,false)
endif
set s="Pick a hero for "+Q[GetPlayerId(QV4)]+GetPlayerName(QV4)+"|r. Type "+F07+"-px|r to cancel."
set p=QT4
else
call RemoveUnit(nc)
call RemoveUnit(Vc)
set nc=null
set Vc=null
set s="End of Picking"
set p=QT4
if not P4 then
call AC7(QT4)
endif
endif
elseif((GetOwningPlayer(GetTriggerUnit())==QU4)and(QW4!=null))then
call SetUnitOwner(GetTriggerUnit(),QW4,true)
call SetUnitOwner(h4[512+GetPlayerId(QU4)],QU4,false)
call SetUnitOwner(h4[512+GetPlayerId(QW4)],QW4,false)
if(not oo[GetPlayerId(QW4)])then
call AdjustPlayerStateBJ(250,QU4,PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(-250,QW4,PLAYER_STATE_RESOURCE_GOLD)
endif
call ExecuteFunc("UD")
set QW4=u6(QW4)
if(QW4!=null)then
if(not P4)then
call SetUnitOwner(h4[512+GetPlayerId(QU4)],QW4,false)
call SetUnitOwner(h4[512+GetPlayerId(QW4)],QU4,false)
endif
set s="Pick a hero for "+Q[GetPlayerId(QW4)]+GetPlayerName(QW4)+"|r. Type "+F07+"-px|r to cancel."
set p=QU4
else
call RemoveUnit(nc)
call RemoveUnit(Vc)
set nc=null
set Vc=null
set s="End of Picking"
set p=QU4
if not P4 then
call AC7(QU4)
endif
endif
endif
endif
set j8=GetOwningPlayer(CO7)
set WC8=j8
if D4==false then
call H68(GetOwningPlayer(CO7))
endif
if(GetObjectName((1848657992)))=="Language: English" and(MJ4[(GetUnitPointValue(CO7))]!="")then
call DisplayTimedTextToPlayer(j8,0,0,4,"A |c006699CC-tips|r command is available if you would like some pointers for this hero")
endif
if RT[GetPlayerId(j8)]==true then
call HS8(j8,GetUnitPointValue(CO7))
endif
if M14==false and(M7[GetPlayerId(Z7[1])]!=null and M7[GetPlayerId(Z7[2])]!=null and M7[GetPlayerId(Z7[3])]!=null and M7[GetPlayerId(Z7[4])]!=null and M7[GetPlayerId(Z7[5])]!=null and M7[GetPlayerId(A7[1])]!=null and M7[GetPlayerId(A7[2])]!=null and M7[GetPlayerId(A7[3])]!=null and M7[GetPlayerId(A7[4])]!=null and M7[GetPlayerId(A7[5])]!=null)then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,7.,false)
call TriggerAddCondition(t,Condition(function W88))
set t=null
endif
set IG4[GetPlayerId(GetOwningPlayer((CO7)))]=false
call RegionAddRect(r,cE)
if O9 and S9==false then
set eo[GetPlayerId(j8)]=true
set j8=UD7(StringHash("Global|ReverseMode"),(KZ4[GetPlayerId((j8))]))
call SetUnitOwner(CO7,j8,true)
if(GetPlayerController(j8)==MAP_CONTROL_COMPUTER)and not D4 and not RZ4 then
call TU7(R44,"AIHSwap|U",CO7)
call ExecuteFunc("Uf")
endif
endif
if ZC7(GetOwningPlayer(CO7))then
if IsUnitInRegion(r,CO7)then
set x=GetRandomReal(GetRectMinX(ED),GetRectMaxX(ED))
set y=GetRandomReal(GetRectMinY(ED),GetRectMaxY(ED))
else
set x=GetUnitX(CO7)
set y=GetUnitY(CO7)
endif
else
if IsUnitInRegion(r,CO7)then
set x=GetRandomReal(GetRectMinX(L9),GetRectMaxX(L9))
set y=GetRandomReal(GetRectMinY(L9),GetRectMaxY(L9))
else
set x=GetUnitX(CO7)
set y=GetUnitY(CO7)
endif
endif
set P9[GetPlayerId(j8)]=true
if(not O9 or S9)then
if O04==false and O54==false then
call PanCameraToTimedForPlayer(j8,x,y,0)
endif
if GetUnitTypeId(CO7)!=1311788365 then
call ClearSelectionForPlayer(j8)
endif
call SelectUnitAddForPlayer(CO7,j8)
endif
call SetUnitX(CO7,x)
call SetUnitY(CO7,y)
if GetUnitTypeId(CO7)!=1311788365 then
set M7[GetPlayerId(j8)]=CO7
endif
call IF8(j8,"9",GetUnitTypeId(CO7))
if O9 and S9==false then
call AZ7(WC8)
else
call AZ7(j8)
endif
call TT7(GetHandleId(CO7),"EnteredAlready",true)
if not X8 and not RZ4 then
set J[GetUnitPointValue(CO7)]=true
call AY7(GetUnitTypeId(CO7))
endif
if D4 then
if ZC7(j8)then
set S7[0]=S7[0]+1
else
set S7[1]=S7[1]+1
endif
endif
if D4 or RZ4 then
set Be[GetPlayerId(j8)]=Be[GetPlayerId(j8)]+1
if Be[GetPlayerId(GetOwningPlayer(CO7))]>1 and CO7!=W7[GetPlayerId(GetOwningPlayer(CO7))]then
call J68(W7[GetPlayerId(GetOwningPlayer(CO7))])
call SetHeroXP(CO7,GetHeroXP(W7[GetPlayerId(GetOwningPlayer(CO7))]),false)
if GetPlayerController(GetOwningPlayer(CO7))==MAP_CONTROL_USER then
call DisableTrigger(H94)
call UnitAddItem(CO7,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(CO7))],0))
call UnitAddItem(CO7,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(CO7))],1))
call UnitAddItem(CO7,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(CO7))],2))
call UnitAddItem(CO7,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(CO7))],3))
call UnitAddItem(CO7,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(CO7))],4))
call UnitAddItem(CO7,UnitItemInSlot(W7[GetPlayerId(GetOwningPlayer(CO7))],5))
call EnableTrigger(H94)
else
call WM8(W7[GetPlayerId(GetOwningPlayer(CO7))])
endif
if J38(W7[GetPlayerId(GetOwningPlayer(CO7))])then
call J08(W7[GetPlayerId(GetOwningPlayer(CO7))])
else
call DK8(W7[GetPlayerId(GetOwningPlayer(CO7))])
endif
endif
endif
if j8!=Z7[0]and j8!=A7[0]then
if O9 then
if TimerGetElapsed(W)>60 then
call W48(j8,(GetObjectName((1848652357)))+" "+GetUnitName(CO7))
elseif W4[GetPlayerId(WC8)]==true then
call W48(j8,WK8(CO7,WC8))
else
call SetPlayerState(WC8,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(WC8,PLAYER_STATE_RESOURCE_GOLD)+250)
call W48(j8,(GetObjectName((1848656945)))+" "+GetUnitName(CO7)+" "+(GetObjectName((1848656944)))+" "+(KZ4[GetPlayerId((WC8))]))
endif
elseif H34==false or j8==Le then
if(I[GetPlayerId(GetOwningPlayer(CO7))]==true and H34==false)then
call W48(j8,(GetObjectName((1848656949)))+" "+GetUnitName(CO7)+".")
elseif((W4[GetPlayerId(j8)]==true and D4==false)or E4 or O4 or A8 or RZ4)then
call W48(j8,(GetObjectName((1848656947)))+" "+GetUnitName(CO7)+".")
else
call W48(j8,(GetObjectName((1848656946)))+" "+GetUnitName(CO7)+".")
endif
endif
endif
if H84 then
if O9 then
call WG8(WC8)
else
call WG8(j8)
endif
endif
if(O04 or O54)and H84 then
call WG8(j8)
endif
call WJ8(j8)
if(GetUnitTypeId(CO7)==1160785973)then
call DisplayTimedTextToPlayer(j8,0,E9,60.00," ")
call DisplayTimedTextToPlayer(j8,0,E9,60.00,"|c00ff0303"+(GetObjectName((1848653384)))+(GetObjectName((1848656706)))+" "+(GetObjectName((1848653381)))+"|r")
elseif GetUnitTypeId(CO7)==1328558154 or GetUnitTypeId(CO7)==1311781174 or GetUnitTypeId(CO7)==1430468913 or GetUnitTypeId(CO7)==1162032181 then
call DisplayTimedTextToPlayer(j8,0,E9,10.00," ")
call DisplayTimedTextToPlayer(j8,0,E9,10.00,"|c00ff0303"+(GetObjectName((1848657715)))+"|r")
endif
if(GetUnitTypeId(CO7)==1160786242)then
call DisplayTimedTextToPlayer(j8,0,E9,30.00," ")
call DisplayTimedTextToPlayer(j8,0,E9,30.00,"|c00ff0303"+(GetObjectName((1848653392)))+" "+(GetObjectName((1848653397)))+"|r")
endif
if(W4[GetPlayerId(j8)]==false)then
if(Y8)then
call SetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD,175+GetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD))
endif
endif
if UP7(StringHash("HeroInit:"+I2S(GetUnitPointValue(CO7))),"Initialized")==false then
call TT7(StringHash("HeroInit:"+I2S(GetUnitPointValue(CO7))),"Initialized",true)
call KF8(CO7)
call VC8(CO7)
endif
set IN4=CO7
call ExecuteFunc("W68")
if ib[GetPlayerId(GetLocalPlayer())]==false then
if Z17(j8)then
call SetPlayerName(j8,KZ4[GetPlayerId((j8))])
else
call SetPlayerName(j8,(KZ4[GetPlayerId((j8))])+" ("+CF7(M7[GetPlayerId(j8)])+")")
endif
endif
call DisplayTimedTextToPlayer(p,0,0,10.,s)
set p=null
call RemoveRegion(r)
set CO7=null
set W38=null
endfunction
function WL8 takes nothing returns boolean
return IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==true
endfunction
function W18 takes nothing returns nothing
if((QA4!=null)and(IsTriggerEnabled(QA4)))then
if((GetOwningPlayer(GetSoldUnit())==QT4)and(QV4!=null))then
return
elseif((GetOwningPlayer(GetSoldUnit())==QU4)and(QW4!=null))then
return
endif
endif
call AZ7(GetOwningPlayer(GetSoldUnit()))
endfunction
function W08 takes nothing returns boolean
local integer W58
local integer O5=1
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
set W58=0
if(IsPlayerInForce(Player(O5),QX4))then
set DZ7[O5]=DZ7[O5]+(I2R(Z84[48+O5])/8)
set W58=R2I(DZ7[O5])
if W58<0 then
set W58=0
endif
set DZ7[O5]=DZ7[O5]-I2R(W58)
endif
if(Y4)then
set W58=W58+2
else
set W58=W58+1
endif
call SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+W58)
set O5=O5+1
endloop
return false
endfunction
function W28 takes nothing returns boolean
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and(LoadInteger(N74,(GetSpellAbilityId()),(GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId()))))>0 then
call TimerStart(N84[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))],(LoadInteger(N74,(GetSpellAbilityId()),(GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId())))),false,null)
endif
if GetSpellAbilityId()==1093677655 then
call TimerStart(N84[GetPlayerId((GetOwningPlayer(GetTriggerUnit())))],0,false,null)
endif
return false
endfunction
function W_8 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer i
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W28))
set i=0
loop
exitwhen(i>13)
set N84[i]=CreateTimer()
set i=i+1
endloop
set N74=InitHashtable()
call SaveInteger(N74,1093742923,1,60)
call SaveInteger(N74,1093742923,2,50)
call SaveInteger(N74,1093742923,3,40)
call SaveInteger(N74,1093685042,1,80)
call SaveInteger(N74,1093685042,2,75)
call SaveInteger(N74,1093685042,3,70)
call SaveInteger(N74,1093810233,1,45)
call SaveInteger(N74,1093810233,2,45)
call SaveInteger(N74,1093810233,3,45)
call SaveInteger(N74,1093682248,1,150)
call SaveInteger(N74,1093682248,2,130)
call SaveInteger(N74,1093682248,3,110)
call SaveInteger(N74,1093750594,1,150)
call SaveInteger(N74,1093750594,2,130)
call SaveInteger(N74,1093750594,3,110)
call SaveInteger(N74,1093682514,1,150)
call SaveInteger(N74,1093682514,2,150)
call SaveInteger(N74,1093682514,3,150)
call SaveInteger(N74,1093684561,1,180)
call SaveInteger(N74,1093684561,2,160)
call SaveInteger(N74,1093684561,3,140)
call SaveInteger(N74,1093747254,1,160)
call SaveInteger(N74,1093747254,2,140)
call SaveInteger(N74,1093747254,3,120)
call SaveInteger(N74,1093752648,1,80)
call SaveInteger(N74,1093752648,2,80)
call SaveInteger(N74,1093752648,3,80)
call SaveInteger(N74,1093746993,1,100)
call SaveInteger(N74,1093746993,2,100)
call SaveInteger(N74,1093746993,3,100)
call SaveInteger(N74,1093678938,1,70)
call SaveInteger(N74,1093678938,2,70)
call SaveInteger(N74,1093678938,3,70)
call SaveInteger(N74,1095656306,1,45)
call SaveInteger(N74,1095656306,2,45)
call SaveInteger(N74,1095656306,3,45)
call SaveInteger(N74,1093687864,1,70)
call SaveInteger(N74,1093687864,2,55)
call SaveInteger(N74,1093687864,3,40)
call SaveInteger(N74,1093747542,1,12)
call SaveInteger(N74,1093747542,2,12)
call SaveInteger(N74,1093747542,3,12)
call SaveInteger(N74,1093677895,1,115)
call SaveInteger(N74,1093677895,2,115)
call SaveInteger(N74,1093677895,3,115)
call SaveInteger(N74,1093810508,1,120)
call SaveInteger(N74,1093810508,2,110)
call SaveInteger(N74,1093810508,3,100)
call SaveInteger(N74,1093685586,1,45)
call SaveInteger(N74,1093685586,2,30)
call SaveInteger(N74,1093685586,3,15)
call SaveInteger(N74,1093747251,1,4)
call SaveInteger(N74,1093747251,2,4)
call SaveInteger(N74,1093747251,3,4)
call SaveInteger(N74,1093678674,1,140)
call SaveInteger(N74,1093678674,2,120)
call SaveInteger(N74,1093678674,3,100)
call SaveInteger(N74,1093747252,1,120)
call SaveInteger(N74,1093747252,2,100)
call SaveInteger(N74,1093747252,3,80)
call SaveInteger(N74,1093682996,1,75)
call SaveInteger(N74,1093682996,2,75)
call SaveInteger(N74,1093682996,3,75)
call SaveInteger(N74,1093747768,1,20)
call SaveInteger(N74,1093747768,2,20)
call SaveInteger(N74,1093747768,3,20)
call SaveInteger(N74,1093810505,1,150)
call SaveInteger(N74,1093810505,2,150)
call SaveInteger(N74,1093810505,3,150)
call SaveInteger(N74,1093682482,1,75)
call SaveInteger(N74,1093682482,2,65)
call SaveInteger(N74,1093682482,3,55)
call SaveInteger(N74,1093750098,1,6)
call SaveInteger(N74,1093750098,2,6)
call SaveInteger(N74,1093750098,3,6)
call SaveInteger(N74,1093677903,1,140)
call SaveInteger(N74,1093677903,2,140)
call SaveInteger(N74,1093677903,3,140)
call SaveInteger(N74,1093684565,1,110)
call SaveInteger(N74,1093684565,2,110)
call SaveInteger(N74,1093684565,3,110)
call SaveInteger(N74,1093681458,1,110)
call SaveInteger(N74,1093681458,2,110)
call SaveInteger(N74,1093681458,3,110)
call SaveInteger(N74,1093686103,1,100)
call SaveInteger(N74,1093686103,2,100)
call SaveInteger(N74,1093686103,3,100)
call SaveInteger(N74,1093679411,1,100)
call SaveInteger(N74,1093679411,2,70)
call SaveInteger(N74,1093679411,3,40)
call SaveInteger(N74,1093677899,1,180)
call SaveInteger(N74,1093677899,2,150)
call SaveInteger(N74,1093677899,3,120)
call SaveInteger(N74,1093747248,1,180)
call SaveInteger(N74,1093747248,2,150)
call SaveInteger(N74,1093747248,3,120)
call SaveInteger(N74,1093685808,1,130)
call SaveInteger(N74,1093685808,2,130)
call SaveInteger(N74,1093685808,3,130)
call SaveInteger(N74,1093682764,1,30)
call SaveInteger(N74,1093682764,2,30)
call SaveInteger(N74,1093682764,3,30)
call SaveInteger(N74,1093747544,1,30)
call SaveInteger(N74,1093747544,2,30)
call SaveInteger(N74,1093747544,3,30)
call SaveInteger(N74,1093677876,1,10)
call SaveInteger(N74,1093677876,2,10)
call SaveInteger(N74,1093677876,3,10)
call SaveInteger(N74,1093743946,1,75)
call SaveInteger(N74,1093743946,2,75)
call SaveInteger(N74,1093743946,3,75)
call SaveInteger(N74,1093682483,1,70)
call SaveInteger(N74,1093682483,2,70)
call SaveInteger(N74,1093682483,3,70)
call SaveInteger(N74,1093678160,1,20)
call SaveInteger(N74,1093678160,2,15)
call SaveInteger(N74,1093678160,3,10)
call SaveInteger(N74,1093684529,1,130)
call SaveInteger(N74,1093684529,2,120)
call SaveInteger(N74,1093684529,3,110)
call SaveInteger(N74,1093747032,1,110)
call SaveInteger(N74,1093747032,2,100)
call SaveInteger(N74,1093747032,3,90)
call SaveInteger(N74,1093678388,1,160)
call SaveInteger(N74,1093678388,2,150)
call SaveInteger(N74,1093678388,3,140)
call SaveInteger(N74,1093677141,1,160)
call SaveInteger(N74,1093677141,2,150)
call SaveInteger(N74,1093677141,3,140)
call SaveInteger(N74,1093683000,1,80)
call SaveInteger(N74,1093683000,2,80)
call SaveInteger(N74,1093683000,3,80)
call SaveInteger(N74,1093678933,1,180)
call SaveInteger(N74,1093678933,2,120)
call SaveInteger(N74,1093678933,3,60)
call SaveInteger(N74,1093684053,1,160)
call SaveInteger(N74,1093684053,2,140)
call SaveInteger(N74,1093684053,3,120)
call SaveInteger(N74,1093748042,1,20)
call SaveInteger(N74,1093748042,2,20)
call SaveInteger(N74,1093748042,3,20)
call SaveInteger(N74,1093681716,1,10)
call SaveInteger(N74,1093681716,2,7)
call SaveInteger(N74,1093681716,3,5)
call SaveInteger(N74,1093683534,1,25)
call SaveInteger(N74,1093683534,2,25)
call SaveInteger(N74,1093683534,3,25)
call SaveInteger(N74,1093683761,1,120)
call SaveInteger(N74,1093683761,2,110)
call SaveInteger(N74,1093683761,3,100)
call SaveInteger(N74,1093747767,1,60)
call SaveInteger(N74,1093747767,2,60)
call SaveInteger(N74,1093747767,3,60)
call SaveInteger(N74,1093750089,1,45)
call SaveInteger(N74,1093750089,2,45)
call SaveInteger(N74,1093750089,3,45)
call SaveInteger(N74,1093747023,1,80)
call SaveInteger(N74,1093747023,2,70)
call SaveInteger(N74,1093747023,3,60)
call SaveInteger(N74,1093752150,1,80)
call SaveInteger(N74,1093752150,2,70)
call SaveInteger(N74,1093752150,3,60)
call SaveInteger(N74,1093750341,1,180)
call SaveInteger(N74,1093750341,2,160)
call SaveInteger(N74,1093750341,3,140)
call SaveInteger(N74,(1093814599),(1),(180))
call SaveInteger(N74,(1093814599),(2),(160))
call SaveInteger(N74,(1093814599),(3),(140))
call SaveInteger(N74,(1093747028),(1),(140))
call SaveInteger(N74,(1093747028),(2),(100))
call SaveInteger(N74,(1093747028),(3),(60))
call SaveInteger(N74,1093685840,1,11)
call SaveInteger(N74,1093685840,2,9)
call SaveInteger(N74,1093685840,3,7)
call SaveInteger(N74,1093684291,1,25)
call SaveInteger(N74,1093684291,2,25)
call SaveInteger(N74,1093684291,3,25)
call SaveInteger(N74,1093683534,1,45)
call SaveInteger(N74,1093683534,2,45)
call SaveInteger(N74,1093683534,3,45)
call SaveInteger(N74,1093747031,1,10)
call SaveInteger(N74,1093747031,2,10)
call SaveInteger(N74,1093747031,3,10)
call SaveInteger(N74,1093684296,1,70)
call SaveInteger(N74,1093684296,2,60)
call SaveInteger(N74,1093684296,3,50)
call SaveInteger(N74,1093678161,1,45)
call SaveInteger(N74,1093678161,2,45)
call SaveInteger(N74,1093678161,3,45)
call SaveInteger(N74,1093687121,1,45)
call SaveInteger(N74,1093687121,2,45)
call SaveInteger(N74,1093687121,3,45)
call SaveInteger(N74,1093679445,1,70)
call SaveInteger(N74,1093679445,2,60)
call SaveInteger(N74,1093679445,3,50)
call SaveInteger(N74,1093682004,1,60)
call SaveInteger(N74,1093682004,2,50)
call SaveInteger(N74,1093682004,3,40)
call SaveInteger(N74,1093810506,1,120)
call SaveInteger(N74,1093810506,2,110)
call SaveInteger(N74,1093810506,3,100)
call SaveInteger(N74,1093678929,1,160)
call SaveInteger(N74,1093678929,2,110)
call SaveInteger(N74,1093678929,3,60)
call SaveInteger(N74,1093683257,1,120)
call SaveInteger(N74,1093683257,2,120)
call SaveInteger(N74,1093683257,3,120)
call SaveInteger(N74,1093677363,1,140)
call SaveInteger(N74,1093677363,2,120)
call SaveInteger(N74,1093677363,3,100)
call SaveInteger(N74,1093681462,1,140)
call SaveInteger(N74,1093681462,2,120)
call SaveInteger(N74,1093681462,3,60)
call SaveInteger(N74,1093679152,1,80)
call SaveInteger(N74,1093679152,2,50)
call SaveInteger(N74,1093679152,3,30)
call SaveInteger(N74,1093752154,1,12)
call SaveInteger(N74,1093752154,2,12)
call SaveInteger(N74,1093752154,3,12)
call SaveInteger(N74,1093677906,1,150)
call SaveInteger(N74,1093677906,2,120)
call SaveInteger(N74,1093677906,3,90)
call SaveInteger(N74,1093681494,1,150)
call SaveInteger(N74,1093681494,2,120)
call SaveInteger(N74,1093681494,3,90)
call SaveInteger(N74,1093686072,1,85)
call SaveInteger(N74,1093686072,2,85)
call SaveInteger(N74,1093686072,3,85)
call SaveInteger(N74,1093751120,1,85)
call SaveInteger(N74,1093751120,2,85)
call SaveInteger(N74,1093751120,3,85)
call SaveInteger(N74,1093684308,1,140)
call SaveInteger(N74,1093684308,2,130)
call SaveInteger(N74,1093684308,3,120)
call SaveInteger(N74,1093747539,1,30)
call SaveInteger(N74,1093747539,2,30)
call SaveInteger(N74,1093747539,3,30)
call SaveInteger(N74,1093742932,1,80)
call SaveInteger(N74,1093742932,2,70)
call SaveInteger(N74,1093742932,3,60)
call SaveInteger(N74,1093752632,1,90)
call SaveInteger(N74,1093752632,2,75)
call SaveInteger(N74,1093752632,3,60)
call SaveInteger(N74,1093752633,1,90)
call SaveInteger(N74,1093752633,2,75)
call SaveInteger(N74,1093752633,3,60)
call SaveInteger(N74,1093810503,1,90)
call SaveInteger(N74,1093810503,2,90)
call SaveInteger(N74,1093810503,3,90)
call SaveInteger(N74,1093810504,1,90)
call SaveInteger(N74,1093810504,2,90)
call SaveInteger(N74,1093810504,3,90)
call SaveInteger(N74,1093684275,1,140)
call SaveInteger(N74,1093684275,2,140)
call SaveInteger(N74,1093684275,3,140)
call SaveInteger(N74,1093677392,1,70)
call SaveInteger(N74,1093677392,2,60)
call SaveInteger(N74,1093677392,3,50)
call SaveInteger(N74,1093679450,1,70)
call SaveInteger(N74,1093679450,2,60)
call SaveInteger(N74,1093679450,3,50)
call SaveInteger(N74,1093743184,1,60)
call SaveInteger(N74,1093743184,2,60)
call SaveInteger(N74,1093743184,3,60)
call SaveInteger(N74,1093747766,1,15)
call SaveInteger(N74,1093747766,2,15)
call SaveInteger(N74,1093747766,3,15)
call SaveInteger(N74,1093744975,1,90)
call SaveInteger(N74,1093744975,2,70)
call SaveInteger(N74,1093744975,3,50)
call SaveInteger(N74,1093681483,1,10)
call SaveInteger(N74,1093681483,2,10)
call SaveInteger(N74,1093681483,3,10)
call SaveInteger(N74,1093748313,1,10)
call SaveInteger(N74,1093748313,2,10)
call SaveInteger(N74,1093748313,3,10)
call SaveInteger(N74,1093808473,1,22)
call SaveInteger(N74,1093808473,2,17)
call SaveInteger(N74,1093808473,3,12)
call SaveInteger(N74,1093808473,4,5)
call SaveInteger(N74,1093748565,1,16)
call SaveInteger(N74,1093748565,2,8)
call SaveInteger(N74,1093748565,3,4)
call SaveInteger(N74,1093748565,4,2)
call SaveInteger(N74,1093678923,1,6)
call SaveInteger(N74,1093678923,2,6)
call SaveInteger(N74,1093678923,3,6)
call SaveInteger(N74,1093742673,1,40)
call SaveInteger(N74,1093742673,2,40)
call SaveInteger(N74,1093742673,3,40)
call SaveInteger(N74,1093747778,1,40)
call SaveInteger(N74,1093747778,2,40)
call SaveInteger(N74,1093747778,3,40)
call SaveInteger(N74,1093677128,1,110)
call SaveInteger(N74,1093677128,2,110)
call SaveInteger(N74,1093677128,3,110)
call SaveInteger(N74,1093681457,1,110)
call SaveInteger(N74,1093681457,2,110)
call SaveInteger(N74,1093681457,3,110)
call SaveInteger(N74,1093685045,1,60)
call SaveInteger(N74,1093685045,2,60)
call SaveInteger(N74,1093685045,3,60)
call SaveInteger(N74,1093747249,1,60)
call SaveInteger(N74,1093747249,2,60)
call SaveInteger(N74,1093747249,3,60)
call SaveInteger(N74,1093684820,1,80)
call SaveInteger(N74,1093684820,2,80)
call SaveInteger(N74,1093684820,3,80)
call SaveInteger(N74,1093684824,1,80)
call SaveInteger(N74,1093684824,2,80)
call SaveInteger(N74,1093684824,3,80)
call SaveInteger(N74,1093677649,1,100)
call SaveInteger(N74,1093677649,2,100)
call SaveInteger(N74,1093677649,3,100)
call SaveInteger(N74,1093747769,1,100)
call SaveInteger(N74,1093747769,2,100)
call SaveInteger(N74,1093747769,3,100)
call SaveInteger(N74,1093685579,1,100)
call SaveInteger(N74,1093685579,2,100)
call SaveInteger(N74,1093685579,3,100)
call SaveInteger(N74,1093678899,1,100)
call SaveInteger(N74,1093678899,2,100)
call SaveInteger(N74,1093678899,3,100)
call SaveInteger(N74,1093677898,1,100)
call SaveInteger(N74,1093677898,2,100)
call SaveInteger(N74,1093677898,3,100)
call SaveInteger(N74,1093678154,1,100)
call SaveInteger(N74,1093678154,2,100)
call SaveInteger(N74,1093678154,3,100)
call SaveInteger(N74,1093678157,1,100)
call SaveInteger(N74,1093678157,2,100)
call SaveInteger(N74,1093678157,3,100)
call SaveInteger(N74,1093678158,1,100)
call SaveInteger(N74,1093678158,2,100)
call SaveInteger(N74,1093678158,3,100)
call SaveInteger(N74,1093679413,1,160)
call SaveInteger(N74,1093679413,2,100)
call SaveInteger(N74,1093679413,3,40)
call SaveInteger(N74,1093679447,1,160)
call SaveInteger(N74,1093679447,2,100)
call SaveInteger(N74,1093679447,3,40)
call SaveInteger(N74,1093747288,1,200)
call SaveInteger(N74,1093747288,2,190)
call SaveInteger(N74,1093747288,3,180)
call SaveInteger(N74,1093678420,1,145)
call SaveInteger(N74,1093678420,2,115)
call SaveInteger(N74,1093678420,3,60)
call SaveInteger(N74,1093679176,1,145)
call SaveInteger(N74,1093679176,2,115)
call SaveInteger(N74,1093679176,3,60)
call SaveInteger(N74,1093678647,1,100)
call SaveInteger(N74,1093678647,2,85)
call SaveInteger(N74,1093678647,3,70)
call SaveInteger(N74,1093679184,1,70)
call SaveInteger(N74,1093679184,2,70)
call SaveInteger(N74,1093679184,3,70)
call SaveInteger(N74,1093681987,1,22)
call SaveInteger(N74,1093681987,2,22)
call SaveInteger(N74,1093681987,3,22)
call SaveInteger(N74,1093685067,1,160)
call SaveInteger(N74,1093685067,2,160)
call SaveInteger(N74,1093685067,3,160)
call SaveInteger(N74,1093752407,1,160)
call SaveInteger(N74,1093752407,2,160)
call SaveInteger(N74,1093752407,3,160)
call SaveInteger(N74,1093810258,1,135)
call SaveInteger(N74,1093810258,2,135)
call SaveInteger(N74,1093810258,3,135)
call SaveInteger(N74,1093810259,1,100)
call SaveInteger(N74,1093810259,2,70)
call SaveInteger(N74,1093810259,3,40)
call SaveInteger(N74,1395667000,1,165)
call SaveInteger(N74,1395667000,2,165)
call SaveInteger(N74,1395667000,3,165)
call SaveInteger(N74,(1395667029),(1),(165))
call SaveInteger(N74,(1395667029),(2),(165))
call SaveInteger(N74,(1395667029),(3),(165))
call SaveInteger(N74,(1093751874),(1),(90))
call SaveInteger(N74,(1093751874),(2),(75))
call SaveInteger(N74,(1093751874),(3),(60))
call SaveInteger(N74,(1093752118),(1),(85))
call SaveInteger(N74,(1093752118),(2),(85))
call SaveInteger(N74,(1093752118),(3),(85))
call SaveInteger(N74,(1093751861),(1),(55))
call SaveInteger(N74,(1093751861),(2),(50))
call SaveInteger(N74,(1093751861),(3),(45))
call SaveInteger(N74,(1093808949),(1),(55))
call SaveInteger(N74,(1093808949),(2),(50))
call SaveInteger(N74,(1093808949),(3),(45))
call SaveInteger(N74,(1093751617),(1),(50))
call SaveInteger(N74,(1093751617),(2),(50))
call SaveInteger(N74,(1093751617),(3),(50))
call SaveInteger(N74,(1093751371),(1),(110))
call SaveInteger(N74,(1093751371),(2),(110))
call SaveInteger(N74,(1093751371),(3),(110))
call SaveInteger(N74,(1093753169),(1),(30))
call SaveInteger(N74,(1093753169),(2),(24))
call SaveInteger(N74,(1093753169),(3),(18))
call SaveInteger(N74,(1093809992),(1),(20))
call SaveInteger(N74,(1093809992),(2),(18))
call SaveInteger(N74,(1093809992),(3),(16))
call SaveInteger(N74,(1093812807),(1),(60))
call SaveInteger(N74,(1093812807),(2),(40))
call SaveInteger(N74,(1093812807),(3),(20))
call SaveInteger(N74,(1093813065),(1),(50))
call SaveInteger(N74,(1093813065),(2),(50))
call SaveInteger(N74,(1093813065),(3),(50))
call SaveInteger(N74,(1093813557),(1),(8))
call SaveInteger(N74,(1093813557),(2),(8))
call SaveInteger(N74,(1093813557),(3),(8))
call SaveInteger(N74,(1093815600),(1),(65))
call SaveInteger(N74,(1093815600),(2),(60))
call SaveInteger(N74,(1093815600),(3),(55))
call SaveInteger(N74,(1093687856),(1),(90))
call SaveInteger(N74,(1093687856),(2),(80))
call SaveInteger(N74,(1093687856),(3),(70))
call SaveInteger(N74,(1093816118),(1),(120))
call SaveInteger(N74,(1093816118),(2),(90))
call SaveInteger(N74,(1093816118),(3),(60))
set t=null
endfunction
function X48 takes nothing returns boolean
local player p
local integer i
local integer id
local integer X78
set i=1
loop
exitwhen i>5
set p=Z7[i]
set id=GetPlayerId(p)
set X78=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)
if X78<VG4[id]then
set VG4[id]=X78
endif
set p=A7[i]
set id=GetPlayerId(p)
set X78=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)
if X78<VG4[id]then
set VG4[id]=X78
endif
set i=i+1
endloop
return false
endfunction
function X88 takes nothing returns nothing
endfunction
function X98 takes nothing returns nothing
local integer id=GetUnitTypeId(GetTriggerUnit())
if GetOwningPlayer(GetTriggerUnit())==B7 then
set MU[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=MU[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
elseif(id==1969711215)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1970169187)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1702061422)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1701081721)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1966092337)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1966092338)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1697656918)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1697656919)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1700946284)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1697657398)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1970107511)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
elseif(id==1966092370)then
if(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))then
set U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=U7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
else
set T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
endif
call X88()
endfunction
function XD8 takes integer i returns nothing
local integer x=1
local integer y=1
set NM4[i]=null
set NN4[i]=0
set NO4[i]=false
loop
exitwhen y>NP4
if NN4[y]!=0 then
set qu[x]=NM4[y]
set Qu[x]=NN4[y]
set Su[x]=NO4[y]
set NM4[y]=null
set NN4[y]=0
set NO4[y]=false
set x=x+1
endif
set y=y+1
endloop
set NP4=x-1
set x=1
loop
exitwhen x>NP4
set NM4[x]=qu[x]
set NN4[x]=Qu[x]
set NO4[x]=Su[x]
set x=x+1
endloop
endfunction
function XE8 takes nothing returns nothing
local integer T8
local integer U8
local integer XF8
local integer XG8
local integer i
local player p
set xY=xY+1
set HB4=0
set HC4=0
set i=0
loop
exitwhen i>5
set p=Z7[i]
if M8(p)then
set HB4=HB4+1
endif
set p=A7[i]
if M8(p)then
set HC4=HC4+1
endif
set i=i+1
endloop
if a2==false then
set ae=HB4
set ne=HC4
endif
set T8=1
set U8=5
set XF8=1
loop
exitwhen T8>U8
set p=Z7[T8]
if M8(p)then
set O7[XF8]=p
set XF8=XF8+1
endif
set T8=T8+1
endloop
set T8=1
set U8=5
set XF8=1
loop
exitwhen T8>U8
set p=A7[T8]
if M8(p)then
set P7[XF8]=p
set XF8=XF8+1
endif
set T8=T8+1
endloop
if xY==1 then
set T4=CreateMultiboardBJ(7+6+2,3+HC4+HB4," ")
call MultiboardMinimize(T4,true)
endif
call l6(T4,2,1,"CD")
call l6(T4,3,1,"|c00838B8BL|r")
call l6(T4,4,1,Dj+"K|r")
call l6(T4,5,1,gj+"D|r")
call l6(T4,6,1,Gj+"A|r")
call l6(T4,1,2,GetObjectName(1848656971))
call l6(T4,4,2,Dj+"0|r")
call l6(T4,5,2,gj+"0|r")
call l6(T4,1,3+HB4,GetObjectName(1848656975))
call l6(T4,4,3+HB4,Dj+"0|r")
call l6(T4,5,3+HB4,gj+"0|r")
call U6(T4,1,2,(B47(SubString(Q[GetPlayerId((Z7[0]))],4,6)))/ 255.0*100,(B47(SubString(Q[GetPlayerId((Z7[0]))],6,8)))/ 255.0*100,(B47(SubString(Q[GetPlayerId((Z7[0]))],8,10)))/ 255.0*100,0)
call U6(T4,1,3+HB4,(B47(SubString(Q[GetPlayerId((A7[0]))],4,6)))/ 255.0*100,(B47(SubString(Q[GetPlayerId((A7[0]))],6,8)))/ 255.0*100,(B47(SubString(Q[GetPlayerId((A7[0]))],8,10)))/ 255.0*100,0)
set T8=1
set U8=3+HC4+HB4
loop
exitwhen T8>U8
call x7(T4,1,T8,10.8)
call x7(T4,2,T8,2)
call x7(T4,3,T8,2)
call x7(T4,4,T8,1.3)
call x7(T4,5,T8,1.3)
call x7(T4,6,T8,1.3)
call x7(T4,7,T8,2.5)
call x7(T4,8,T8,0.01)
call x7(T4,9,T8,0.01)
call x7(T4,10,T8,0.01)
call x7(T4,11,T8,0.01)
call x7(T4,12,T8,0.01)
call x7(T4,13,T8,0.01)
call x7(T4,14,T8,0.01)
call x7(T4,15,T8,0.01)
set T8=T8+1
endloop
set T8=1
set U8=7+6+2
loop
exitwhen T8>U8
set XF8=1
set XG8=3+HC4+HB4
loop
exitwhen XF8>XG8
call s6(T4,T8,XF8,true,false)
set XF8=XF8+1
endloop
set T8=T8+1
endloop
set T8=1
set U8=HB4
loop
exitwhen T8>U8
call s6(T4,1,T8+2,true,true)
call U6(T4,7,T8+2,255,204,0,0)
set N94[GetPlayerId(O7[T8])]=1-1
set ND4[GetPlayerId(O7[T8])]=T8+2-1
call l6(T4,1,T8+2,(KZ4[GetPlayerId((O7[T8]))]))
if Z07(O7[T8])then
call U6(T4,1,T8+2,(B47(SubString(Q[GetPlayerId((O7[T8]))],4,6)))/ 255.0*100,(B47(SubString(Q[GetPlayerId((O7[T8]))],6,8)))/ 255.0*100,(B47(SubString(Q[GetPlayerId((O7[T8]))],8,10)))/ 255.0*100,0)
call U6(T4,2,T8+2,(B47(SubString(Q[GetPlayerId((O7[T8]))],4,6)))/ 255.0*100,(B47(SubString(Q[GetPlayerId((O7[T8]))],6,8)))/ 255.0*100,(B47(SubString(Q[GetPlayerId((O7[T8]))],8,10)))/ 255.0*100,0)
else
call l6(T4,1,T8+2,"|c00333333"+(KZ4[GetPlayerId((O7[T8]))])+"|r")
endif
call l6(T4,4,(T8+2),Dj+"0|r")
call l6(T4,5,(T8+2),gj+"0|r")
call l6(T4,6,(T8+2),Gj+"0|r")
set T8=T8+1
endloop
set T8=1
set U8=HC4
loop
exitwhen T8>U8
call s6(T4,1,T8+3+HB4,true,true)
call U6(T4,7,T8+3+HB4,255,204,0,0)
set N94[GetPlayerId(P7[T8])]=1-1
set ND4[GetPlayerId(P7[T8])]=T8+3+HB4-1
call l6(T4,1,T8+3+HB4,(KZ4[GetPlayerId((P7[T8]))]))
if Z07(P7[T8])then
call U6(T4,1,T8+3+HB4,(B47(SubString(Q[GetPlayerId((P7[T8]))],4,6)))/ 255.0*100,(B47(SubString(Q[GetPlayerId((P7[T8]))],6,8)))/ 255.0*100,(B47(SubString(Q[GetPlayerId((P7[T8]))],8,10)))/ 255.0*100,0)
call U6(T4,2,T8+3+HB4,(B47(SubString(Q[GetPlayerId((P7[T8]))],4,6)))/ 255.0*100,(B47(SubString(Q[GetPlayerId((P7[T8]))],6,8)))/ 255.0*100,(B47(SubString(Q[GetPlayerId((P7[T8]))],8,10)))/ 255.0*100,0)
else
call l6(T4,1,T8+3+HB4,"|c00333333"+(KZ4[GetPlayerId((P7[T8]))])+"|r")
endif
call l6(T4,4,(T8+3+HB4),Dj+"0|r")
call l6(T4,5,(T8+3+HB4),gj+"0|r")
call l6(T4,6,(T8+3+HB4),Gj+"0|r")
set T8=T8+1
endloop
set oY=1
set rY=3+HC4+HB4-2
if V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4)and xY==1 then
call MultiboardDisplay(T4,false)
endif
call s6(T4,7,1,false,true)
call P6(T4,7,1,"UI\\Feedback\\Resources\\ResourceGold.blp")
call X88()
if xY>1 then
call TriggerExecute(vA)
endif
endfunction
function XH8 takes integer O5,boolean XI8 returns string
if not IsPlayerInForce(Player(O5),QX4)then
return" "
elseif M7[O5]==null then
return F57+"Select hero|r"
elseif not S87(M7[O5])then
return F57+"Dead|r"
elseif Bz<QD4-25. then
return F57+"Stand by|r"
elseif Bz<QD4 then
return"Moving"
elseif eY[O5]==1 then
if SE7(M7[O5])then
return"Retreating"
elseif G0[48+O5]then
return"Fleeing"
elseif h4[O5]!=null then
if XI8 then
return">"+Q[GetPlayerId(GetOwningPlayer(h4[O5]))]+CG7(h4[O5])+"|r"
else
return"vs "+Q[GetPlayerId(GetOwningPlayer(h4[O5]))]+CG7(h4[O5])+"|r"
endif
elseif h9[64+O5]!=null then
return"Def Tower"+QV7(eY[80+O5],false)
elseif eY[80+O5]<=2 then
return"Push"+QV7(eY[80+O5],false)
else
return"Push"
endif
elseif eY[O5]==2 then
return"Healing"
elseif eY[O5]==3 then
return"Def"+QV7(EB7[64+O5],true)
elseif eY[O5]==4 then
return"S-Def"+QV7(EB7[64+O5],true)
elseif eY[O5]==9 then
if eY[272+O5]==0 then
return"Change lane"
elseif h8[96+O5]!=null then
set bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(h8[96+O5]))
return"Ambush "+Q[bj_forLoopAIndex]+I2S(bj_forLoopAIndex)+"|r"
else
return GetObjectName(1496330545)+QV7(eY[288+O5],false)
endif
elseif eY[O5]==10 then
return"Jungling"
elseif eY[O5]==11 then
if XI8 then
return">|c00ffcc00Roshan|r"
else
return"vs |c00ffcc00Roshan|r"
endif
endif
return" "
endfunction
function XJ8 takes nothing returns nothing
local integer T8
local integer U8
local string XK8
call l6(T4,4,2,Dj+I2S(T[GetPlayerId(Z7[0])])+"|r")
call l6(T4,5,2,gj+I2S(V[GetPlayerId(Z7[0])])+"|r")
call l6(T4,4,3+HB4,Dj+I2S(T[GetPlayerId(A7[0])])+"|r")
call l6(T4,5,3+HB4,gj+I2S(V[GetPlayerId(A7[0])])+"|r")
set T8=1
set U8=HB4
loop
exitwhen T8>U8
call l6(T4,4,(T8+2),Dj+I2S(T[GetPlayerId(O7[T8])])+"|r")
call l6(T4,5,(T8+2),gj+I2S(V[GetPlayerId(O7[T8])])+"|r")
call l6(T4,6,(T8+2),Gj+I2S(IU[GetPlayerId(O7[T8])])+"|r")
set XK8=XH8(GetPlayerId(O7[T8]),false)
if O7[T8]==QT4 then
set XK8=F27
endif
if(not DQ7[32+GetPlayerId(GetLocalPlayer())])then
set XK8=" "
elseif(not(IsPlayerAlly(GetLocalPlayer(),Z7[0])))then
set XK8=" "
endif
call l6(T4,15,T8+2,XK8)
set XK8=" "
if DQ7[80+GetPlayerId(GetLocalPlayer())]and Z17(O7[T8])then
if EU then
set XK8=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(O7[T8])-100.))+"%|r"
endif
if EU and FU then
set XK8=XK8+" - "
endif
if FU then
set XK8=XK8+DB7+"+"+I2S(Z84[48+GetPlayerId(O7[T8])])+"|r"
endif
endif
call l6(T4,14,(T8+2),XK8)
set T8=T8+1
endloop
set T8=1
set U8=HC4
loop
exitwhen T8>U8
call l6(T4,4,(T8+3+HB4),Dj+I2S(T[GetPlayerId(P7[T8])])+"|r")
call l6(T4,5,(T8+3+HB4),gj+I2S(V[GetPlayerId(P7[T8])])+"|r")
call l6(T4,6,(T8+3+HB4),Gj+I2S(IU[GetPlayerId(P7[T8])])+"|r")
set XK8=XH8(GetPlayerId(P7[T8]),false)
if P7[T8]==QU4 then
set XK8=F27
endif
if(not DQ7[32+GetPlayerId(GetLocalPlayer())])then
set XK8=" "
elseif(not(IsPlayerAlly(GetLocalPlayer(),A7[0])))then
set XK8=" "
endif
call l6(T4,15,(T8+3+HB4),XK8)
set XK8=" "
if DQ7[80+GetPlayerId(GetLocalPlayer())]and Z17(P7[T8])then
if EU then
set XK8=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(P7[T8])-100.))+"%|r"
endif
if EU and FU then
set XK8=XK8+" - "
endif
if FU then
set XK8=XK8+DB7+"+"+I2S(Z84[48+GetPlayerId(P7[T8])])+"|r"
endif
endif
call l6(T4,14,(T8+3+HB4),XK8)
set T8=T8+1
endloop
endfunction
function XM8 takes nothing returns boolean
if(GetUnitTypeId(GetTriggerUnit())==1697656914)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1697657137)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1697656915)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1697657145)then
return true
endif
return false
endfunction
function XN8 takes nothing returns nothing
set F[1]=(F[1]+1)
endfunction
function XO8 takes nothing returns boolean
if(GetUnitTypeId(GetTriggerUnit())==1966092365)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1966092356)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1966092366)then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())==1966092372)then
return true
endif
return false
endfunction
function XP8 takes nothing returns nothing
set F[2]=(F[2]+1)
endfunction
function XQ8 takes integer a returns integer
local integer i=0
local integer x=0
local string s=I2S(a)
loop
exitwhen i>StringLength(s)
if SubString(s,i,i+1)=="1" then
set x=x+1
endif
set i=i+1
endloop
return x
endfunction
function XR8 takes player XS8,integer XT8 returns string
if IsPlayerAlly(GetLocalPlayer(),XS8)==true then
return I28(UnitItemInSlot(M7[GetPlayerId(XS8)],XT8-1))
else
return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
endif
endfunction
function XU8 takes nothing returns nothing
local integer T8
local integer U8
local string HA8
local real XV8
local integer r
local integer i
local integer array time_1a
local string array color_1a
local integer index_1a=0
local integer array time_1b
local string array color_1b
local integer index_1b=0
local integer x=0
local integer id
local string XW8
local string XX8
local string XY8
local string XZ8
local string XA8
local string s2=" "
local string s
local real XB8
local string spacer
local integer XC8=0
local string X38=""
local string X68=""
local integer XL8=0
local integer X18=0
local string X08=""
local string XK8
if T4==null then
return
endif
set i=1
loop
exitwhen i>5
set r=R2I(TimerGetRemaining(U[GetPlayerId(Z7[i])]))
if r>0 then
set XC8=XC8+XQ8(r)
if XL8==0 then
if r<10 then
set X38=Q[GetPlayerId(Z7[i])]+"0"+I2S(r)+" |r"
else
set X38=Q[GetPlayerId(Z7[i])]+I2S(r)+" |r"
endif
else
if r<10 then
set X38=X38+Hj+"| |r"+Q[GetPlayerId(Z7[i])]+"0"+I2S(r)+" |r"
else
set X38=X38+Hj+"| |r"+Q[GetPlayerId(Z7[i])]+I2S(r)+" |r"
endif
endif
set XL8=XL8+1
endif
set i=i+1
endloop
if XL8>0 then
if IsPlayerAlly(GetLocalPlayer(),Z7[0])==true then
set X38=Hj+"["+GetObjectName(1848658515)+" |r"+X38+Hj+"]|r"
else
set X38=fj+"["+GetObjectName(1848658514)+" |r"+X38+fj+"]|r"
endif
endif
set i=1
loop
exitwhen i>5
set r=R2I(TimerGetRemaining(U[GetPlayerId(A7[i])]))
if r>0 then
set XC8=XC8+XQ8(r)
if X18==0 then
if r<10 then
set X68=Q[GetPlayerId(A7[i])]+"0"+I2S(r)+" |r"
else
set X68=Q[GetPlayerId(A7[i])]+I2S(r)+" |r"
endif
else
if r<10 then
set X68=X68+Hj+"| |r"+Q[GetPlayerId(A7[i])]+"0"+I2S(r)+" |r"
else
set X68=X68+Hj+"| |r"+Q[GetPlayerId(A7[i])]+I2S(r)+" |r"
endif
endif
set X18=X18+1
endif
set i=i+1
endloop
if X18>0 then
if IsPlayerAlly(GetLocalPlayer(),A7[0])==true then
set X68=Hj+"["+GetObjectName(1848658515)+" |r"+X68+Hj+"]|r"
else
set X68=fj+"["+GetObjectName(1848658514)+" |r"+X68+fj+"]|r"
endif
endif
if T4!=null then
set id=GetPlayerId(GetLocalPlayer())
if id>=0 and id<16 then
if AW[x]then
set XW8=I2S(T[id])
set XX8=I2S(V[id])
set XY8=I2S(IU[id])
set XZ8=I2S(T7[id])
set XA8=I2S(U7[id])
set s2=" |c00838B8B("+XW8+"/"+XX8+"/"+XY8+" - "+XZ8+"/"+XA8+" - |r|c00FFDC00"+I2S(VG4[id])+"|r |c00838B8B)|r"
endif
endif
endif
if X18==0 and XL8==0 then
call MultiboardSetTitleText(T4,s2)
else
if IsPlayerAlly(GetLocalPlayer(),Z7[0])==true then
call MultiboardSetTitleText(T4,X68+" "+X38+" "+s2)
else
call MultiboardSetTitleText(T4,X38+" "+X68+" "+s2)
endif
endif
if(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))==false then
call MultiboardDisplay(T4,true)
endif
if Nb[GetPlayerId(GetLocalPlayer())]==false then
call SetWaterBaseColor(0,0,255,255)
endif
set XK8=" "
if DQ7[32+GetPlayerId(GetLocalPlayer())]then
set XK8=F_7
endif
call l6(T4,15,1,XK8)
set XK8=" "
if DQ7[80+GetPlayerId(GetLocalPlayer())]then
set XK8=G47
if EU then
set XK8=XK8+G77
endif
if EU and FU then
set XK8=XK8+" - "
endif
if FU then
set XK8=XK8+G87
endif
endif
call l6(T4,14,1,XK8)
set T8=1
set U8=HB4
loop
exitwhen T8>U8
call P6(T4,1,T8+2,CJ7(M7[GetPlayerId(O7[T8])]))
call l6(T4,3,T8+2,"|c00838B8B"+I2S(GetHeroLevel(M7[GetPlayerId(O7[T8])]))+"|r")
if ab[GetPlayerId(GetLocalPlayer())]then
call x7(T4,7,1,3)
call x7(T4,8,1,2.8)
call x7(T4,9,1,0.8)
call x7(T4,10,1,0.8)
call x7(T4,11,1,0.8)
call x7(T4,12,1,0.8)
call x7(T4,13,1,PC7(DQ7[32+GetPlayerId(GetLocalPlayer())],1.5,0.1))
call x7(T4,7,T8+2,3)
call x7(T4,8,T8+2,1.1)
call x7(T4,9,T8+2,1.1)
call x7(T4,10,T8+2,1.1)
call x7(T4,11,T8+2,1.1)
call x7(T4,12,T8+2,1.1)
call x7(T4,13,T8+2,PC7(DQ7[32+GetPlayerId(GetLocalPlayer())],1.5,0.1))
call s6(T4,8,T8+2,false,true)
call s6(T4,9,T8+2,false,true)
call s6(T4,10,T8+2,false,true)
call s6(T4,11,T8+2,false,true)
call s6(T4,12,T8+2,false,true)
call s6(T4,13,T8+2,false,true)
call l6(T4,8,1,"Items")
else
call x7(T4,7,1,2)
call x7(T4,8,1,0.1)
call x7(T4,9,1,0.1)
call x7(T4,10,1,0.1)
call x7(T4,11,1,0.1)
call x7(T4,12,1,0.1)
call x7(T4,13,1,0.1)
call x7(T4,7,T8+2,2.5)
call x7(T4,8,T8+2,0.1)
call x7(T4,9,T8+2,0.1)
call x7(T4,10,T8+2,0.1)
call x7(T4,11,T8+2,0.1)
call x7(T4,12,T8+2,0.1)
call x7(T4,13,T8+2,0.1)
call s6(T4,8,T8+2,false,false)
call s6(T4,9,T8+2,false,false)
call s6(T4,10,T8+2,false,false)
call s6(T4,11,T8+2,false,false)
call s6(T4,12,T8+2,false,false)
call s6(T4,13,T8+2,false,false)
call l6(T4,8,1," ")
endif
call P6(T4,8,T8+2,XR8(O7[T8],1))
call P6(T4,9,T8+2,XR8(O7[T8],2))
call P6(T4,10,T8+2,XR8(O7[T8],3))
call P6(T4,11,T8+2,XR8(O7[T8],4))
call P6(T4,12,T8+2,XR8(O7[T8],5))
call P6(T4,13,T8+2,XR8(O7[T8],6))
if(CQ7(M7[GetPlayerId(O7[T8])])and M7[GetPlayerId(O7[T8])]!=null and TimerGetRemaining(U[GetPlayerId(O7[T8])])>0)then
if IsPlayerAlly(GetLocalPlayer(),O7[T8])then
set X08=Hj+" ("+(I2S(R2I(TimerGetRemaining(U[GetPlayerId(O7[T8])]))))+")|r"
else
set X08=fj+" ("+(I2S(R2I(TimerGetRemaining(U[GetPlayerId(O7[T8])]))))+")|r"
endif
else
set X08="  "
endif
if U2[GetPlayerId(O7[T8])]then
call l6(T4,1,T8+2,"|c00333333"+(KZ4[GetPlayerId((O7[T8]))])+"|r"+X08)
else
call l6(T4,1,T8+2,(KZ4[GetPlayerId((O7[T8]))])+X08)
endif
set XB8=(TimerGetRemaining(N84[GetPlayerId((O7[T8]))]))
if XB8>0 then
set s=I2S(R2I(XB8))
else
set s=" "
endif
if IsPlayerAlly(GetLocalPlayer(),O7[T8])==false then
call l6(T4,7,T8+2," ")
set s=" "
else
call l6(T4,7,T8+2,"|cffffcc00"+I2S(R2I(GetPlayerState(O7[T8],PLAYER_STATE_RESOURCE_GOLD)))+"|r")
endif
call l6(T4,2,T8+2,s)
set XK8=XH8(GetPlayerId(O7[T8]),false)
if O7[T8]==QT4 then
set XK8=F27
endif
if(not DQ7[32+GetPlayerId(GetLocalPlayer())])then
set XK8=" "
elseif(not(IsPlayerAlly(GetLocalPlayer(),Z7[0])))then
set XK8=" "
endif
call l6(T4,15,T8+2,XK8)
set XK8=" "
if DQ7[80+GetPlayerId(GetLocalPlayer())]and Z17(O7[T8])then
if EU then
set XK8=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(O7[T8])-100.))+"%|r"
endif
if EU and FU then
set XK8=XK8+" - "
endif
if FU then
set XK8=XK8+DB7+"+"+I2S(Z84[48+GetPlayerId(O7[T8])])+"|r"
endif
endif
call l6(T4,14,T8+2,XK8)
set T8=T8+1
endloop
set T8=1
set U8=HC4
loop
exitwhen T8>U8
call P6(T4,1,T8+3+HB4,CJ7(M7[GetPlayerId(P7[T8])]))
call l6(T4,3,T8+3+HB4,"|c00838B8B"+I2S(GetHeroLevel(M7[GetPlayerId(P7[T8])]))+"|r")
if ab[GetPlayerId(GetLocalPlayer())]then
call x7(T4,7,1,3)
call x7(T4,8,1,2.8)
call x7(T4,9,1,0.8)
call x7(T4,10,1,0.8)
call x7(T4,11,1,0.8)
call x7(T4,12,1,0.8)
call x7(T4,13,1,PC7(DQ7[32+GetPlayerId(GetLocalPlayer())],1.5,0.1))
call x7(T4,7,T8+3+HB4,3)
call x7(T4,8,T8+3+HB4,1.1)
call x7(T4,9,T8+3+HB4,1.1)
call x7(T4,10,T8+3+HB4,1.1)
call x7(T4,11,T8+3+HB4,1.1)
call x7(T4,12,T8+3+HB4,1.1)
call x7(T4,13,T8+3+HB4,PC7(DQ7[32+GetPlayerId(GetLocalPlayer())],1.5,0.1))
call s6(T4,8,T8+3+HB4,false,true)
call s6(T4,9,T8+3+HB4,false,true)
call s6(T4,10,T8+3+HB4,false,true)
call s6(T4,11,T8+3+HB4,false,true)
call s6(T4,12,T8+3+HB4,false,true)
call s6(T4,13,T8+3+HB4,false,true)
call l6(T4,8,1,"Items")
else
call x7(T4,7,1,2)
call x7(T4,8,1,0.1)
call x7(T4,9,1,0.1)
call x7(T4,10,1,0.1)
call x7(T4,11,1,0.1)
call x7(T4,12,1,0.1)
call x7(T4,13,1,0.1)
call x7(T4,7,T8+3+HB4,2.5)
call x7(T4,8,T8+3+HB4,0.1)
call x7(T4,9,T8+3+HB4,0.1)
call x7(T4,10,T8+3+HB4,0.1)
call x7(T4,11,T8+3+HB4,0.1)
call x7(T4,12,T8+3+HB4,0.1)
call x7(T4,13,T8+3+HB4,0.1)
call s6(T4,8,T8+3+HB4,false,false)
call s6(T4,9,T8+3+HB4,false,false)
call s6(T4,10,T8+3+HB4,false,false)
call s6(T4,11,T8+3+HB4,false,false)
call s6(T4,12,T8+3+HB4,false,false)
call s6(T4,13,T8+3+HB4,false,false)
call l6(T4,8,1," ")
endif
call P6(T4,8,T8+3+HB4,XR8(P7[T8],1))
call P6(T4,9,T8+3+HB4,XR8(P7[T8],2))
call P6(T4,10,T8+3+HB4,XR8(P7[T8],3))
call P6(T4,11,T8+3+HB4,XR8(P7[T8],4))
call P6(T4,12,T8+3+HB4,XR8(P7[T8],5))
call P6(T4,13,T8+3+HB4,XR8(P7[T8],6))
if(CQ7(M7[GetPlayerId(P7[T8])])and M7[GetPlayerId(P7[T8])]!=null and TimerGetRemaining(U[GetPlayerId(P7[T8])])>0)then
if IsPlayerAlly(GetLocalPlayer(),P7[T8])then
set X08=Hj+" ("+(I2S(R2I(TimerGetRemaining(U[GetPlayerId(P7[T8])]))))+")|r"
else
set X08=fj+" ("+(I2S(R2I(TimerGetRemaining(U[GetPlayerId(P7[T8])]))))+")|r"
endif
else
set X08="  "
endif
if U2[GetPlayerId(P7[T8])]then
call l6(T4,1,T8+3+HB4,"|c00333333"+(KZ4[GetPlayerId((P7[T8]))])+"|r"+X08)
else
call l6(T4,1,T8+3+HB4,(KZ4[GetPlayerId((P7[T8]))])+X08)
endif
set XB8=(TimerGetRemaining(N84[GetPlayerId((P7[T8]))]))
if XB8>0 then
set s=I2S(R2I(XB8))
else
set s=" "
endif
if IsPlayerAlly(GetLocalPlayer(),P7[T8])==false then
call l6(T4,7,T8+3+HB4," ")
set s=" "
else
call l6(T4,7,T8+3+HB4,"|cffffcc00"+I2S(R2I(GetPlayerState(P7[T8],PLAYER_STATE_RESOURCE_GOLD)))+"|r")
endif
call l6(T4,2,T8+3+HB4,s)
set XK8=XH8(GetPlayerId(P7[T8]),false)
if P7[T8]==QU4 then
set XK8=F27
endif
if(not DQ7[32+GetPlayerId(GetLocalPlayer())])then
set XK8=" "
elseif(not(IsPlayerAlly(GetLocalPlayer(),A7[0])))then
set XK8=" "
endif
call l6(T4,15,T8+3+HB4,XK8)
set XK8=" "
if DQ7[80+GetPlayerId(GetLocalPlayer())]and Z17(P7[T8])then
if EU then
set XK8=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(P7[T8])-100.))+"%|r"
endif
if EU and FU then
set XK8=XK8+" - "
endif
if FU then
set XK8=XK8+DB7+"+"+I2S(Z84[48+GetPlayerId(P7[T8])])+"|r"
endif
endif
call l6(T4,14,T8+3+HB4,XK8)
set T8=T8+1
endloop
endfunction
function X58 takes nothing returns boolean
local real X28
local real X_8
local unit u
if Vz==false then
set u=JJ4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-aY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
endif
if Ez==false then
set u=JK4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-VY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
endif
if Xz==false then
set u=JM4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-EY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
endif
if nz==false then
set u=JN4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-XY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=JO4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-OY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=JP4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-IY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=JQ4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-AY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=JR4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-bY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=JS4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-BY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=JT4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-cY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=JU4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-CY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=JV4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-DY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=JW4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-fY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=JX4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-FY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
endif
if oz==false then
set u=J04
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-JY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
endif
if rz==false then
set u=J54
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-kY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
endif
if az==false then
set u=J24
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-lY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
endif
if xz==false then
set u=J_4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-mY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=K44
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-MY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=K74
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-PY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=K84
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-QY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=K94
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-sY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=KD4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-tY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=KE4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-TY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=KF4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-uY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=KG4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-wY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=KH4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-YY)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
set u=KI4
if u!=null then
set X28=GetUnitState(u,UNIT_STATE_LIFE)
set X_8=X28+Q74
if X_8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-vz)then
call SetUnitState(u,UNIT_STATE_LIFE,X_8)
endif
endif
endif
set u=null
return false
endfunction
function Y48 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if oz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set JY=JY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function Y78 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if rz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set kY=kY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function Y88 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if az or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set lY=lY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function Y98 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set mY=mY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YD8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set MY=MY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YE8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set PY=PY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YF8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set QY=QY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YG8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set sY=sY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YH8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set tY=tY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YI8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set TY=TY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YJ8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set uY=uY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YK8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set wY=wY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YM8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set YY=YY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YN8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set vz=vz+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YO8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if Vz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set aY=aY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YP8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if Ez or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set VY=VY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YQ8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if Xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set EY=EY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YR8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set XY=XY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YS8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set OY=OY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YT8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set IY=IY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YU8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set AY=AY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YV8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set bY=bY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YW8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set BY=BY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YX8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set cY=cY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YY8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set CY=CY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YZ8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set DY=DY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YA8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set fY=fY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YB8 takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true then
set FY=FY+GetEventDamage()
else
if IsUnitIllusion(GetEventDamageSource())==true then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())
endif
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function YC8 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==A7[0]then
set nz=true
endif
return false
endfunction
function Y38 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==A7[0]then
set Vz=true
endif
return false
endfunction
function Y68 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==A7[0]then
set Ez=true
endif
return false
endfunction
function YL8 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==A7[0]then
set Xz=true
endif
return false
endfunction
function Y18 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==Z7[0]then
set xz=true
endif
return false
endfunction
function Y08 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==Z7[0]then
set oz=true
endif
return false
endfunction
function Y58 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==Z7[0]then
set rz=true
endif
return false
endfunction
function Y28 takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==Z7[0]then
set az=true
endif
return false
endfunction
function Y_8 takes nothing returns boolean
local group g=CX7()
set xz=false
set oz=false
set rz=false
set az=false
set nz=false
set Vz=false
set Ez=false
set Xz=false
call GroupEnumUnitsInRect(g,WD,Condition(function YC8))
call GroupEnumUnitsInRect(g,XD,Condition(function YC8))
call GroupEnumUnitsInRect(g,YD,Condition(function YC8))
call GroupEnumUnitsInRect(g,lE,Condition(function YC8))
call GroupEnumUnitsInRect(g,LE,Condition(function YC8))
call GroupEnumUnitsInRect(g,ME,Condition(function YC8))
call GroupEnumUnitsInRect(g,GE,Condition(function Y38))
call GroupEnumUnitsInRect(g,QE,Condition(function Y68))
call GroupEnumUnitsInRect(g,JE,Condition(function YL8))
call GroupEnumUnitsInRect(g,ZD,Condition(function Y18))
call GroupEnumUnitsInRect(g,AD,Condition(function Y18))
call GroupEnumUnitsInRect(g,BD,Condition(function Y18))
call GroupEnumUnitsInRect(g,qE,Condition(function Y18))
call GroupEnumUnitsInRect(g,pE,Condition(function Y18))
call GroupEnumUnitsInRect(g,PE,Condition(function Y18))
call GroupEnumUnitsInRect(g,fE,Condition(function Y08))
call GroupEnumUnitsInRect(g,FE,Condition(function Y58))
call GroupEnumUnitsInRect(g,gE,Condition(function Y28))
call CW7(g)
set g=null
return false
endfunction
function Z48 takes nothing returns boolean
if IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and GetOwningPlayer(GetFilterUnit())!=B7 then
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true then
set N24=GetFilterUnit()
else
set N_4=GetFilterUnit()
endif
endif
return false
endfunction
function Z78 takes nothing returns nothing
local unit Z88=GetAttacker()
local unit m5=GetTriggerUnit()
local group g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(Z88),GetUnitY(Z88),900,Condition(function Z48))
call CW7(g)
call DisableTrigger(GetTriggeringTrigger())
if N24!=null then
call IssueTargetOrder(Z88,"attack",N24)
call GroupAddUnit(KU,Z88)
elseif IsUnitType(m5,UNIT_TYPE_HERO)==true and N_4!=null then
call IssueTargetOrder(Z88,"attack",N_4)
call GroupAddUnit(KU,Z88)
endif
call EnableTrigger(GetTriggeringTrigger())
set N24=null
set N_4=null
set Z88=null
set m5=null
set g=null
endfunction
function Z98 takes nothing returns nothing
if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<1 then
call GroupRemoveUnit(KU,GetEnumUnit())
endif
if GetUnitCurrentOrder(GetEnumUnit())!=OrderId("attack")then
call GroupRemoveUnit(KU,GetEnumUnit())
call IssuePointOrderLoc(GetEnumUnit(),"attack",O8[GetUnitAbilityLevel(GetEnumUnit(),N8)])
endif
endfunction
function ZD8 takes nothing returns boolean
call ForGroup(KU,function Z98)
return false
endfunction
function ZE8 takes string s returns nothing
set F3=F3+1
set j3[F3]=s
endfunction
function ZF8 takes nothing returns boolean
local integer i=1
loop
exitwhen i>F3
call ExecuteFunc(j3[i])
set i=i+1
endloop
call ExecuteFunc("ZG8")
call ExecuteFunc("ZH8")
return false
endfunction
function ZI8 takes unit CO7 returns nothing
local trigger t=CreateTrigger()
call TT7(GetHandleId(GetTriggerUnit()),"DamageRegisterAlready",true)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function ZF8))
set t=null
endfunction
function ZJ8 takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())!=1211117645 and GetUnitTypeId(GetTriggerUnit())!=1211119431 and GetUnitTypeId(GetTriggerUnit())!=1211117657 and GetUnitTypeId(GetTriggerUnit())!=1211122232 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetTriggerUnit())==false and UP7(GetHandleId(GetTriggerUnit()),"DamageRegisterAlready")==false then
if O44 and(GetUnitTypeId(GetTriggerUnit())!=1328558160 or(GetUnitTypeId(GetTriggerUnit())==1328558160 and O74))then
call ZI8(GetTriggerUnit())
endif
endif
return false
endfunction
function ZK8 takes nothing returns boolean
local unit u
local real ZM8
local boolean ZN8=L_7()
set u=fP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZM8=GetUnitState(u,UNIT_STATE_MANA)
if ZN8 then
set ZM8=DR8(ZM8-25,0)
else
set ZM8=DQ8(ZM8+5,300)
endif
endif
set u=FP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZM8=GetUnitState(u,UNIT_STATE_MANA)
if ZN8 then
set ZM8=DR8(ZM8-25,0)
else
set ZM8=DQ8(ZM8+5,300)
endif
endif
set u=lP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZM8=GetUnitState(u,UNIT_STATE_MANA)
if ZN8 then
set ZM8=DR8(ZM8-25,0)
else
set ZM8=DQ8(ZM8+5,300)
endif
endif
set u=LP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZM8=GetUnitState(u,UNIT_STATE_MANA)
if ZN8 then
set ZM8=DR8(ZM8-25,0)
else
set ZM8=DQ8(ZM8+5,300)
endif
endif
set u=MP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZM8=GetUnitState(u,UNIT_STATE_MANA)
if ZN8 then
set ZM8=DR8(ZM8-25,0)
else
set ZM8=DQ8(ZM8+5,300)
endif
endif
set u=pP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZM8=GetUnitState(u,UNIT_STATE_MANA)
if ZN8 then
set ZM8=DR8(ZM8-25,0)
else
set ZM8=DQ8(ZM8+5,300)
endif
endif
set u=PP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZM8=GetUnitState(u,UNIT_STATE_MANA)
if ZN8 then
set ZM8=DR8(ZM8-25,0)
else
set ZM8=DQ8(ZM8+5,300)
endif
endif
set u=qP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZM8=GetUnitState(u,UNIT_STATE_MANA)
if ZN8 then
set ZM8=DR8(ZM8-25,0)
else
set ZM8=DQ8(ZM8+5,300)
endif
endif
set u=QP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZM8=GetUnitState(u,UNIT_STATE_MANA)
if ZN8 then
set ZM8=DR8(ZM8-25,0)
else
set ZM8=DQ8(ZM8+5,300)
endif
endif
set u=sP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZM8=GetUnitState(u,UNIT_STATE_MANA)
if ZN8 then
set ZM8=DR8(ZM8-25,0)
else
set ZM8=DQ8(ZM8+5,300)
endif
endif
set u=tP
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 then
set ZM8=GetUnitState(u,UNIT_STATE_MANA)
if ZN8 then
set ZM8=DR8(ZM8-25,0)
else
set ZM8=DQ8(ZM8+5,300)
endif
endif
set u=null
return false
endfunction
function Ln takes nothing returns string
return O14
endfunction
function LN takes nothing returns string
return B9
endfunction
function ZO8 takes player j8 returns string
return Q[GetPlayerId(j8)]+BA7(j8)+"|r"
endfunction
function ZP8 takes player ZQ8 returns string
local string ZR8=I2S(N64[GetPlayerId(ZQ8)])
local string ZS8=ZR8
if ZQ8==GetLocalPlayer()then
set ZS8=Fx+ZR8+"|r"
endif
return ZS8
endfunction
function ZT8 takes player ZQ8 returns string
local string ZR8=I2S(N34[GetPlayerId(ZQ8)])
local string ZS8=ZR8
if ZQ8==GetLocalPlayer()then
set ZS8=Fx+ZR8+"|r"
endif
return ZS8
endfunction
function Lq takes player j8 returns string
return C9[GetPlayerId(j8)]
endfunction
function JX8 takes nothing returns nothing
local integer i=1
local multiboarditem JR8
loop
exitwhen i>NI4
if Lq(NH4[i])!="Here"then
set JR8=MultiboardGetItem(NE4,NF4[i],NG4[i])
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,"|c00555555"+Lq(NH4[i])+"|r")
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
endif
set i=i+1
endloop
endfunction
function ZU8 takes player j8 returns string
local string GV=I2S(GetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD))
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function ZV8 takes player j8 returns string
local string GV=I2S(Zh[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function ZW8 takes player j8 returns string
local string GV=I2S(GetUnitLevel(M7[GetPlayerId(j8)]))
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function ZX8 takes player j8 returns string
local string GV=I2S(H74[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function ZY8 takes player j8 returns string
local string GV=I2S(NV4[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function ZZ8 takes player j8 returns string
local string GV=I2S(NQ4[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function ZA8 takes player j8 returns string
local string GV=I2S(IU[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function ZB8 takes player j8 returns string
local string GV=I2S(T[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function ZC8 takes player j8 returns string
local string GV=I2S(V[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function Z38 takes player j8 returns string
local string GV=I2S(T7[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function Z68 takes player j8 returns string
local string GV=I2S(U7[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function ZL8 takes player j8 returns string
local string GV=I2S(UN7(StringHash("Stats"+I2S(GetPlayerId(j8))),"NumOfNeutrals"))
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function Z18 takes player j8 returns string
local string GV=I2S(NS4[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function Z08 takes player j8 returns string
local string GV=I2S(NT4[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function Z58 takes player j8 returns string
local string GV=I2S(NR4[GetPlayerId(j8)])
local string Lr=GV
if j8==GetLocalPlayer()then
set Lr=Fx+GV+"|r"
endif
return Lr
endfunction
function Z28 takes player j8 returns string
local string LY
local string Lz
local string Lr
local integer k=gD[GetPlayerId(j8)]
local integer d=N04[GetPlayerId(j8)]
if k<1 then
set k=0
endif
if d<1 then
set d=0
endif
set LY=I2S(k)
set Lz=I2S(d)
set Lr=LY+"/"+Lz
if j8==GetLocalPlayer()then
set Lr=Fx+LY+"|r/"+Fx+Lz+"|r"
endif
return Lr
endfunction
function Z_8 takes player j8 returns string
local integer L0=NU4[GetPlayerId(j8)]
local string JU8
local integer L1
local integer L2
set L1=(L0/60)-(1/2)
set L2=ModuloInteger(L0,60)
if(L2<10)then
set JU8=I2S(L1)+":0"+I2S(L2)
else
set JU8=I2S(L1)+":"+I2S(L2)
endif
if j8==GetLocalPlayer()then
set JU8=Fx+JU8+"|r"
endif
return JU8
endfunction
function A48 takes player p5,player m5 returns string
local string LY
local string Lz
local string Lr
local integer k=UN7(StringHash("Stats"+I2S(GetPlayerId(p5))),"Killed "+I2S(GetPlayerId(m5)))
local integer d=UN7(StringHash("Stats"+I2S(GetPlayerId(p5))),"Died To "+I2S(GetPlayerId(m5)))
if k<1 then
set k=0
endif
if d<1 then
set d=0
endif
set LY=I2S(k)
set Lz=I2S(d)
set Lr=LY+"/"+Lz
if p5==GetLocalPlayer()then
set Lr=Fx+LY+"|r/"+Fx+Lz+"|r"
endif
return Lr
endfunction
function A78 takes boolean QZ7 returns nothing
local integer O5=1
local integer i=0
local integer j=1
local item RA7=null
loop
exitwhen j>5
if QZ7 then
set O5=GetPlayerId(Z7[j])
else
set O5=GetPlayerId(A7[j])
endif
if M7[O5]!=null then
set i=0
loop
exitwhen i>5
set RA7=UnitItemInSlot(M7[O5],i)
if RA7!=null then
set MO7[O5*6+i]=RY7(RA7)
else
set MO7[O5*6+i]=-1
endif
set i=i+1
endloop
else
set i=0
loop
exitwhen i>5
set MO7[O5*6+i]=-1
set i=i+1
endloop
endif
set j=j+1
endloop
set RA7=null
endfunction
function A88 takes nothing returns nothing
call A78(true)
endfunction
function A98 takes nothing returns nothing
call A78(false)
endfunction
function AD8 takes integer O5,integer i returns string
if MO7[O5*6+i]<0 then
return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
endif
return CU[MO7[O5*6+i]]
endfunction
function AE8 takes nothing returns nothing
local integer AF8=HB4
local integer AG8=HC4
local player array AH8
local player array AI8
local integer AJ8
local integer AK8
local integer AM8=21+DO8(AF8,AG8)+1
local integer AN8=1+(AF8+AG8)*2
local multiboarditem AO8
local integer i
local integer x
local integer curRow1
local integer curRow2
local string e="|r"
local string c0="|cff99ccff"
local integer AP8
local integer AQ8
call ExecuteFunc("A88")
call ExecuteFunc("A98")
call DisableTrigger(FS)
call DestroyMultiboard(T4)
call TriggerSleepAction(0.)
if AF8>0 and AG8>0 then
set AM8=AM8+2
endif
set NE4=CreateMultiboard()
call MultiboardSetItemsWidth(NE4,0)
call MultiboardSetRowCount(NE4,AM8)
call MultiboardSetColumnCount(NE4,AN8)
call MultiboardSetTitleText(NE4,(GetObjectName((1848657203)))+" "+" - "+(O14))
call MultiboardMinimize(NE4,true)
call MultiboardSetItemsStyle(NE4,false,false)
call MultiboardDisplay(NE4,true)
call MultiboardMinimize(NE4,false)
call MultiboardSetTitleText(NE4,(GetObjectName((1848657203)))+" "+" - "+(O14)+" - "+("|c00ff0303"+I2S(T[GetPlayerId(Z7[0])])+"|r/|c0020c000"+I2S(V[GetPlayerId(Z7[0])])+"|r"))
set x=1
set i=1
loop
exitwhen i>5
if Z57(Z7[i])or GetPlayerSlotState(Z7[i])==PLAYER_SLOT_STATE_LEFT then
set AH8[x]=Z7[i]
set x=x+1
endif
set i=i+1
endloop
set x=1
set i=1
loop
exitwhen i>5
if Z57(A7[i])or GetPlayerSlotState(A7[i])==PLAYER_SLOT_STATE_LEFT then
set AI8[x]=A7[i]
set x=x+1
endif
set i=i+1
endloop
set i=0
set AK8=0
loop
exitwhen i>AM8
set AO8=MultiboardGetItem(NE4,i,AK8)
call MultiboardSetItemWidth(AO8,0.075)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AJ8=0
set AK8=0
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8," ")
call MultiboardReleaseItem(AO8)
set AK8=0
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,false,false)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZO8(AH8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZO8(AI8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AJ8=AJ8+1
set AK8=0
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,false,false)
call MultiboardReleaseItem(AO8)
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,true)
call MultiboardSetItemValue(AO8,ZW8(AH8[i]))
call MultiboardSetItemIcon(AO8,(CJ7(M7[GetPlayerId((AH8[i]))])))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,true)
call MultiboardSetItemValue(AO8,ZW8(AI8[i]))
call MultiboardSetItemIcon(AO8,(CJ7(M7[GetPlayerId((AI8[i]))])))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AJ8=AJ8+1
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848657218)))+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,false,true)
call MultiboardSetItemIcon(AO8,(AD8(GetPlayerId((AH8[i])),(1)-1)))
call MultiboardSetItemWidth(AO8,0.015)
call MultiboardReleaseItem(AO8)
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,false,true)
call MultiboardSetItemIcon(AO8,(AD8(GetPlayerId((AH8[i])),(2)-1)))
call MultiboardSetItemWidth(AO8,0.054)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,false,true)
call MultiboardSetItemIcon(AO8,(AD8(GetPlayerId((AI8[i])),(1)-1)))
call MultiboardSetItemWidth(AO8,0.015)
call MultiboardReleaseItem(AO8)
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,false,true)
call MultiboardSetItemIcon(AO8,(AD8(GetPlayerId((AI8[i])),(2)-1)))
call MultiboardSetItemWidth(AO8,0.054)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AJ8=AJ8+1
set AK8=0
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+" "+e)
call MultiboardReleaseItem(AO8)
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,false,true)
call MultiboardSetItemIcon(AO8,(AD8(GetPlayerId((AH8[i])),(3)-1)))
call MultiboardSetItemWidth(AO8,0.015)
call MultiboardReleaseItem(AO8)
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,false,true)
call MultiboardSetItemIcon(AO8,(AD8(GetPlayerId((AH8[i])),(4)-1)))
call MultiboardSetItemWidth(AO8,0.054)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,false,true)
call MultiboardSetItemIcon(AO8,(AD8(GetPlayerId((AI8[i])),(3)-1)))
call MultiboardSetItemWidth(AO8,0.015)
call MultiboardReleaseItem(AO8)
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,false,true)
call MultiboardSetItemIcon(AO8,(AD8(GetPlayerId((AI8[i])),(4)-1)))
call MultiboardSetItemWidth(AO8,0.054)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AJ8=AJ8+1
set AK8=0
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+" "+e)
call MultiboardReleaseItem(AO8)
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,false,true)
call MultiboardSetItemIcon(AO8,(AD8(GetPlayerId((AH8[i])),(5)-1)))
call MultiboardSetItemWidth(AO8,0.015)
call MultiboardReleaseItem(AO8)
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,false,true)
call MultiboardSetItemIcon(AO8,(AD8(GetPlayerId((AH8[i])),(6)-1)))
call MultiboardSetItemWidth(AO8,0.054)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,false,true)
call MultiboardSetItemIcon(AO8,(AD8(GetPlayerId((AI8[i])),(5)-1)))
call MultiboardSetItemWidth(AO8,0.015)
call MultiboardReleaseItem(AO8)
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,false,true)
call MultiboardSetItemIcon(AO8,(AD8(GetPlayerId((AI8[i])),(6)-1)))
call MultiboardSetItemWidth(AO8,0.054)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848657202)))+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZU8(AH8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZU8(AI8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848657201)))+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZB8(AH8[i])+"/"+ZC8(AH8[i])+"/"+ZA8(AH8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZB8(AI8[i])+"/"+ZC8(AI8[i])+"/"+ZA8(AI8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+GetObjectName(1848658517)+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZP8(AH8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZP8(AI8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+GetObjectName(1848658758)+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZT8(AH8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZT8(AI8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848657200)))+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZX8(AH8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZX8(AI8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848656980)))+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,Z28(AH8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,Z28(AI8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848656986)))+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,Z38(AH8[i])+"/"+Z68(AH8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,Z38(AI8[i])+"/"+Z68(AI8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848656985)))+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZL8(AH8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZL8(AI8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848656981)))+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZY8(AH8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZY8(AI8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848656982)))+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,Z_8(AH8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,Z_8(AI8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848656983)))+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZZ8(AH8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZZ8(AI8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848656974)))+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZV8(AH8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,ZV8(AI8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848656952)))+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,Z18(AH8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,Z18(AI8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848656969)))+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,Z08(AH8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,Z08(AI8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848656973)))+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,Z58(AH8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,Z58(AI8[i]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
if AF8>0 and AG8>0 then
set AK8=0
set AP8=AJ8
set AQ8=AK8
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848656972)))+e)
call MultiboardReleaseItem(AO8)
set AJ8=AP8
set x=1
loop
exitwhen x>AF8
set AK8=0
set AJ8=AP8
set i=1
loop
exitwhen i>AG8
set AK8=x+(x-1)
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,false,true)
call MultiboardSetItemIcon(AO8,(CJ7(M7[GetPlayerId((AH8[x]))])))
call MultiboardSetItemWidth(AO8,0.01)
call MultiboardReleaseItem(AO8)
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,true)
call MultiboardSetItemIcon(AO8,(CJ7(M7[GetPlayerId((AI8[i]))])))
call MultiboardSetItemValue(AO8," "+A48(AH8[x],AI8[i]))
call MultiboardSetItemWidth(AO8,0.059)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set x=x+1
endloop
set x=AF8+1
loop
exitwhen x>(AG8+AF8)
set AK8=0
set AJ8=AP8
set i=1
loop
exitwhen i>AF8
set AK8=x+(x-1)
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,false,true)
call MultiboardSetItemIcon(AO8,(CJ7(M7[GetPlayerId((AI8[x-AF8]))])))
call MultiboardSetItemWidth(AO8,0.01)
call MultiboardReleaseItem(AO8)
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,true)
call MultiboardSetItemIcon(AO8,(CJ7(M7[GetPlayerId((AH8[i]))])))
call MultiboardSetItemValue(AO8," "+A48(AI8[x-AF8],AH8[i]))
call MultiboardSetItemWidth(AO8,0.059)
call MultiboardReleaseItem(AO8)
set i=i+1
endloop
set x=x+1
endloop
endif
set AJ8=AJ8+1
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848656730)))+e)
call MultiboardReleaseItem(AO8)
set AK8=0
set i=1
loop
exitwhen i>AF8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,(C9[GetPlayerId((AH8[i]))]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set NI4=NI4+1
set NF4[NI4]=AJ8
set NG4[NI4]=AK8
set NH4[NI4]=AH8[i]
set i=i+1
endloop
set i=1
loop
exitwhen i>AG8
set AK8=AK8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,(C9[GetPlayerId((AI8[i]))]))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
set NI4=NI4+1
set NF4[NI4]=AJ8
set NG4[NI4]=AK8
set NH4[NI4]=AI8[i]
set i=i+1
endloop
set AK8=0
set AJ8=AJ8+1
set AO8=MultiboardGetItem(NE4,AJ8,AK8)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,c0+(GetObjectName((1848656953)))+e)
call MultiboardReleaseItem(AO8)
set AO8=MultiboardGetItem(NE4,AJ8,AK8+1)
call MultiboardSetItemStyle(AO8,true,false)
call MultiboardSetItemValue(AO8,(B9))
call MultiboardSetItemWidth(AO8,0.07)
call MultiboardReleaseItem(AO8)
call MultiboardMinimize(NE4,true)
call MultiboardMinimize(NE4,false)
endfunction
function AR8 takes nothing returns string
return O14
endfunction
function mD takes player j8 returns string
return CJ7(M7[GetPlayerId(j8)])
endfunction
function me takes player j8,integer Lp returns string
return I28(UnitItemInSlot(M7[GetPlayerId(j8)],Lp-1))
endfunction
function mE takes player j8 returns string
return Q[GetPlayerId(j8)]+BA7(j8)+"|r"
endfunction
function mf takes player j8 returns string
return I2S(GetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD))
endfunction
function mF takes player p returns string
return I2S(Zh[GetPlayerId(p)])
endfunction
function mg takes player p returns string
return I2S(GetUnitLevel(M7[GetPlayerId(p)]))
endfunction
function mG takes player p returns string
return I2S(UN7(StringHash("Stats"+I2S(GetPlayerId(p))),"NumOfWards"))
endfunction
function mh takes player j8 returns string
return I2S(NV4[GetPlayerId(j8)])
endfunction
function mH takes player j8 returns string
return I2S(NQ4[GetPlayerId(j8)])
endfunction
function mi takes player j8 returns string
return I2S(T[GetPlayerId(j8)])
endfunction
function mI takes player j8 returns string
return I2S(V[GetPlayerId(j8)])
endfunction
function mj takes player j8 returns string
return I2S(T7[GetPlayerId(j8)])
endfunction
function mJ takes player j8 returns string
return I2S(U7[GetPlayerId(j8)])
endfunction
function mk takes player p returns string
return I2S(UN7(StringHash("Stats"+I2S(GetPlayerId(p))),"NumOfNeutrals"))
endfunction
function mK takes player j8 returns string
return I2S(NS4[GetPlayerId(j8)])
endfunction
function ml takes player j8 returns string
return I2S(NT4[GetPlayerId(j8)])
endfunction
function mL takes player j8 returns string
return I2S(NR4[GetPlayerId(j8)])
endfunction
function mm takes player j8 returns string
local integer k=gD[GetPlayerId(j8)]
local integer d=N04[GetPlayerId(j8)]
if k<1 then
set k=0
endif
if d<1 then
set d=0
endif
return I2S(k)+"/"+I2S(d)
endfunction
function mM takes player j8 returns string
local integer L0=NU4[GetPlayerId(j8)]
local string JU8
local integer L1
local integer L2
set L1=(L0/60)-(1/2)
set L2=ModuloInteger(L0,60)
if(L2<10)then
set JU8=I2S(L1)+":0"+I2S(L2)
else
set JU8=I2S(L1)+":"+I2S(L2)
endif
return JU8
endfunction
function mn takes player p5,player m5 returns string
local integer k=UN7(StringHash("Stats"+I2S(GetPlayerId(p5))),"Killed "+I2S(GetPlayerId(m5)))
local integer d=UN7(StringHash("Stats"+I2S(GetPlayerId(p5))),"Died To "+I2S(GetPlayerId(m5)))
if k<1 then
set k=0
endif
if d<1 then
set d=0
endif
return I2S(k)+"/"+I2S(d)
endfunction
function mN takes player p5 returns string
local string mo
if LO7(M7[GetPlayerId(p5)])then
set mo=I2S(R2I(TimerGetRemaining(U[GetPlayerId(p5)])))
else
set mo=" "
endif
return mo
endfunction
function AS8 takes player p5 returns string
local real r=(TimerGetRemaining(N84[GetPlayerId((p5))]))
local string AT8
if r>0 then
set AT8=I2S(R2I(r))
else
set AT8=" "
endif
return AT8
endfunction
function AU8 takes integer mp,integer mP returns nothing
set NJ4=CreateMultiboard()
call MultiboardSetItemsWidth(NJ4,0)
call MultiboardSetRowCount(NJ4,mp)
call MultiboardSetColumnCount(NJ4,mP)
call MultiboardSetTitleText(NJ4,(GetObjectName((1848657203)))+" "+" - "+AR8())
call MultiboardMinimize(NJ4,true)
call MultiboardSetItemsStyle(NJ4,false,false)
if GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4 then
call MultiboardDisplay(NJ4,true)
endif
endfunction
function mq takes nothing returns string
return"|c00ff0303"+I2S(T[GetPlayerId(Z7[0])])+"|r/|c0020c000"+I2S(V[GetPlayerId(Z7[0])])+"|r"
endfunction
function AV8 takes player AW8 returns string
return I2S(IU[GetPlayerId(AW8)])
endfunction
function AX8 takes nothing returns nothing
local integer IL8=HB4
local integer I68=HC4
local player array AY8
local player array AZ8
local integer AA8
local integer AB8
local integer AC8=1+19+DO8(IL8,I68)+2
local integer A38=1+(IL8+I68)*2
local multiboarditem JR8
local integer i
local integer x
local integer curRow1
local integer curRow2
local string e="|r"
local string c0="|cff99ccff"
local integer A68
local integer AL8
local integer A18=131
local integer A08=139
local integer A58=139
local integer A28=255
local integer XC8=0
local string X38=""
local string X68=""
local integer XL8=0
local integer X18=0
local integer r
local string XK8
if IL8>0 and I68>0 then
set AC8=AC8+2
endif
if GetTriggerExecCount(GetTriggeringTrigger())==1 then
call AU8(AC8,A38)
endif
if GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4 then
call MultiboardDisplay(NJ4,true)
endif
set i=1
loop
exitwhen i>5
set r=R2I(TimerGetRemaining(U[GetPlayerId(Z7[i])]))
if r>0 then
set XC8=XC8+XQ8(r)
if XL8==0 then
if r<10 then
set X38=Q[GetPlayerId(Z7[i])]+"0"+I2S(r)+" |r"
else
set X38=Q[GetPlayerId(Z7[i])]+I2S(r)+" |r"
endif
else
if r<10 then
set X38=X38+Hj+"| |r"+Q[GetPlayerId(Z7[i])]+"0"+I2S(r)+" |r"
else
set X38=X38+Hj+"| |r"+Q[GetPlayerId(Z7[i])]+I2S(r)+" |r"
endif
endif
set XL8=XL8+1
endif
set i=i+1
endloop
if XL8>0 then
set X38=Hj+"[Sentinel: |r"+X38+Hj+"]|r"
endif
set i=1
loop
exitwhen i>5
set r=R2I(TimerGetRemaining(U[GetPlayerId(A7[i])]))
if r>0 then
set XC8=XC8+XQ8(r)
if X18==0 then
if r<10 then
set X68=Q[GetPlayerId(A7[i])]+"0"+I2S(r)+" |r"
else
set X68=Q[GetPlayerId(A7[i])]+I2S(r)+" |r"
endif
else
if r<10 then
set X68=X68+Hj+"| |r"+Q[GetPlayerId(A7[i])]+"0"+I2S(r)+" |r"
else
set X68=X68+Hj+"| |r"+Q[GetPlayerId(A7[i])]+I2S(r)+" |r"
endif
endif
set X18=X18+1
endif
set i=i+1
endloop
if X18>0 then
set X68=Hj+"[Scourge: |r"+X68+Hj+"]|r"
endif
call MultiboardSetTitleText(NJ4,X38+" "+X68+" "+GetObjectName(1848657203)+" "+" - "+(O14)+" - "+("|c00ff0303"+I2S(T[GetPlayerId(Z7[0])])+"|r/|c0020c000"+I2S(V[GetPlayerId(Z7[0])])+"|r"))
set x=1
set i=1
loop
exitwhen i>5
if Z57(Z7[i])or GetPlayerSlotState(Z7[i])==PLAYER_SLOT_STATE_LEFT then
set AY8[x]=Z7[i]
set x=x+1
endif
set i=i+1
endloop
set x=1
set i=1
loop
exitwhen i>5
if Z57(A7[i])or GetPlayerSlotState(A7[i])==PLAYER_SLOT_STATE_LEFT then
set AZ8[x]=A7[i]
set x=x+1
endif
set i=i+1
endloop
set i=0
set AB8=0
loop
exitwhen i>AC8
set JR8=MultiboardGetItem(NJ4,i,AB8)
call MultiboardSetItemWidth(JR8,.075)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AA8=0
set AB8=0
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8," ")
call MultiboardReleaseItem(JR8)
set AB8=0
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,false,false)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mE(AY8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mE(AZ8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AA8=AA8+1
set AB8=0
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,false,false)
call MultiboardReleaseItem(JR8)
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,true)
call MultiboardSetItemValue(JR8,"("+mg(AY8[i])+")")
call MultiboardSetItemIcon(JR8,mD(AY8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,true)
call MultiboardSetItemValue(JR8,"("+mg(AZ8[i])+")")
call MultiboardSetItemIcon(JR8,mD(AZ8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AA8=AA8+1
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+"Items"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,false,true)
call MultiboardSetItemIcon(JR8,me(AY8[i],1))
call MultiboardSetItemWidth(JR8,.015)
call MultiboardReleaseItem(JR8)
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,false,true)
call MultiboardSetItemIcon(JR8,me(AY8[i],2))
call MultiboardSetItemWidth(JR8,.054)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,false,true)
call MultiboardSetItemIcon(JR8,me(AZ8[i],1))
call MultiboardSetItemWidth(JR8,.015)
call MultiboardReleaseItem(JR8)
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,false,true)
call MultiboardSetItemIcon(JR8,me(AZ8[i],2))
call MultiboardSetItemWidth(JR8,.054)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AA8=AA8+1
set AB8=0
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+" "+e)
call MultiboardReleaseItem(JR8)
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,false,true)
call MultiboardSetItemIcon(JR8,me(AY8[i],3))
call MultiboardSetItemWidth(JR8,.015)
call MultiboardReleaseItem(JR8)
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,false,true)
call MultiboardSetItemIcon(JR8,me(AY8[i],4))
call MultiboardSetItemWidth(JR8,.054)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,false,true)
call MultiboardSetItemIcon(JR8,me(AZ8[i],3))
call MultiboardSetItemWidth(JR8,.015)
call MultiboardReleaseItem(JR8)
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,false,true)
call MultiboardSetItemIcon(JR8,me(AZ8[i],4))
call MultiboardSetItemWidth(JR8,.054)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AA8=AA8+1
set AB8=0
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+" "+e)
call MultiboardReleaseItem(JR8)
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,false,true)
call MultiboardSetItemIcon(JR8,me(AY8[i],5))
call MultiboardSetItemWidth(JR8,.015)
call MultiboardReleaseItem(JR8)
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,false,true)
call MultiboardSetItemIcon(JR8,me(AY8[i],6))
call MultiboardSetItemWidth(JR8,.054)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,false,true)
call MultiboardSetItemIcon(JR8,me(AZ8[i],5))
call MultiboardSetItemWidth(JR8,.015)
call MultiboardReleaseItem(JR8)
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,false,true)
call MultiboardSetItemIcon(JR8,me(AZ8[i],6))
call MultiboardSetItemWidth(JR8,.054)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+"Current Gold"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mf(AY8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mf(AZ8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+"Hero K/D/A"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mi(AY8[i])+"/"+mI(AY8[i])+"/"+AV8(AY8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mi(AZ8[i])+"/"+mI(AZ8[i])+"/"+AV8(AZ8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+"Wards"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mG(AY8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mG(AZ8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+"Towers Kills"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mm(AY8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mm(AZ8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+"Creep Stats"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mj(AY8[i])+"/"+mJ(AY8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mj(AZ8[i])+"/"+mJ(AZ8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+"Neutral Kills"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mk(AY8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mk(AZ8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+"Hero Kill Gold"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mh(AY8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mh(AZ8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+"Time Dead"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mM(AY8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mM(AZ8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+"Gold Lost"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mH(AY8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mH(AZ8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+"Consumables"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mF(AY8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mF(AZ8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+"Double Kills"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mK(AY8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mK(AZ8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+"Triple Kills"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,ml(AY8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,ml(AZ8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+"Best Spree"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mL(AY8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,mL(AZ8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
if IL8>0 and I68>0 then
set AB8=0
set A68=AA8
set AL8=AB8
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+"Kill Details"+e)
call MultiboardReleaseItem(JR8)
set AA8=A68
set x=1
loop
exitwhen x>IL8
set AB8=0
set AA8=A68
set i=1
loop
exitwhen i>I68
set AB8=x+(x-1)
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,false,true)
call MultiboardSetItemIcon(JR8,mD(AY8[x]))
call MultiboardSetItemWidth(JR8,.01)
call MultiboardReleaseItem(JR8)
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,true)
call MultiboardSetItemIcon(JR8,mD(AZ8[i]))
call MultiboardSetItemValue(JR8," "+mn(AY8[x],AZ8[i]))
call MultiboardSetItemWidth(JR8,.059)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set x=x+1
endloop
set x=IL8+1
loop
exitwhen x>(I68+IL8)
set AB8=0
set AA8=A68
set i=1
loop
exitwhen i>IL8
set AB8=x+(x-1)
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,false,true)
call MultiboardSetItemIcon(JR8,mD(AZ8[x-IL8]))
call MultiboardSetItemWidth(JR8,.01)
call MultiboardReleaseItem(JR8)
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,true)
call MultiboardSetItemIcon(JR8,mD(AY8[i]))
call MultiboardSetItemValue(JR8," "+mn(AZ8[x-IL8],AY8[i]))
call MultiboardSetItemWidth(JR8,.059)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set x=x+1
endloop
endif
set AA8=AA8+1
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+GetObjectName(1848658003)+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemValueColor(JR8,A18,A08,A58,A28)
if mN(AY8[i])==" " then
call MultiboardSetItemStyle(JR8,true,false)
else
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemIcon(JR8,(CJ7(M7[GetPlayerId((AY8[i]))])))
endif
call MultiboardSetItemValue(JR8,AS8(AY8[i]))
call MultiboardSetItemWidth(JR8,0.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemValueColor(JR8,A18,A08,A58,A28)
if mN(AZ8[i])==" " then
call MultiboardSetItemStyle(JR8,true,false)
else
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemIcon(JR8,(CJ7(M7[GetPlayerId((AZ8[i]))])))
endif
call MultiboardSetItemValue(JR8,AS8(AZ8[i]))
call MultiboardSetItemWidth(JR8,0.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,c0+"Respawn"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
if mN(AY8[i])==" "then
call MultiboardSetItemStyle(JR8,true,false)
else
call MultiboardSetItemStyle(JR8,true,true)
call MultiboardSetItemIcon(JR8,mD(AY8[i]))
endif
call MultiboardSetItemValue(JR8,mN(AY8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
if mN(AZ8[i])==" "then
call MultiboardSetItemStyle(JR8,true,false)
else
call MultiboardSetItemStyle(JR8,true,true)
call MultiboardSetItemIcon(JR8,mD(AZ8[i]))
endif
call MultiboardSetItemValue(JR8,mN(AZ8[i]))
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,F07+"AI Actions"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
set XK8=XH8(GetPlayerId(AY8[i]),true)
if AY8[i]==QT4 then
set XK8=F27
endif
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,XK8)
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
set XK8=XH8(GetPlayerId(AZ8[i]),true)
if AZ8[i]==QU4 then
set XK8=F27
endif
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,XK8)
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set AB8=0
set AA8=AA8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,DA7+"Exp.|r - "+DB7+"Gold|r"+e)
call MultiboardReleaseItem(JR8)
set AB8=0
set i=1
loop
exitwhen i>IL8
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
set XK8=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(AY8[i])-100.))+"%|r - "+DB7+"+"+I2S(Z84[48+GetPlayerId(AY8[i])])+"|r"
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,XK8)
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
set i=1
loop
exitwhen i>I68
set AB8=AB8+1
set JR8=MultiboardGetItem(NJ4,AA8,AB8)
set XK8=DA7+"+"+I2S(R2I(GetPlayerHandicapXPBJ(AZ8[i])-100.))+"%|r - "+DB7+"+"+I2S(Z84[48+GetPlayerId(AZ8[i])])+"|r"
call MultiboardSetItemStyle(JR8,true,false)
call MultiboardSetItemValue(JR8,XK8)
call MultiboardSetItemWidth(JR8,.07)
call MultiboardReleaseItem(JR8)
set i=i+1
endloop
endfunction
function A_8 takes integer p5,integer m5 returns boolean
local integer i=Tb-1
local real B48=0
local real B37=(TimerGetElapsed(W))
local integer B78=0
loop
exitwhen i==Tb or B48>wb or B78>200
if i==0 then
set i=8000-1
endif
set B78=B78+1
set B48=B37-Mb[i]
if pb[i]==p5 and Qb[i]==m5 and B48<wb then
set pb[i]=0
set Qb[i]=0
return true
endif
set i=i-1
endloop
return false
endfunction
function ZG8 takes nothing returns nothing
local integer p5=GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
local integer m5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
local real DS8=GetEventDamage()
set Mb[Tb]=(TimerGetElapsed(W))
set pb[Tb]=p5
set Qb[Tb]=m5
set Tb=Tb+1
if Tb==8000 then
set Tb=1
endif
endfunction
function B88 takes unit S4,unit B98 returns string
local integer i=1
local integer BD8=GetPlayerId(GetOwningPlayer(S4))
local integer BE8=GetPlayerId(GetOwningPlayer(B98))
local integer BF8
local string BG8=" "+GetObjectName(1848658521)+" "
local boolean BH8=false
loop
exitwhen i>5
if ZC7(GetOwningPlayer(B98))then
set BF8=GetPlayerId(Z7[i])
else
set BF8=GetPlayerId(A7[i])
endif
if BE8!=BF8 and A_8(BF8,BD8)then
set IU[BF8]=IU[BF8]+1
call II8("Assist"+I2S(BF8),BD8)
if BH8 then
set BG8=BG8+"/"+Q[BF8]+(KZ4[GetPlayerId((Player(BF8)))])+"|r"
else
set BG8=BG8+Q[BF8]+(KZ4[GetPlayerId((Player(BF8)))])+"|r"
endif
set BH8=true
endif
set i=i+1
endloop
if BH8 then
return BG8
endif
return" "
endfunction
function BI8 takes integer p5,integer m5 returns boolean
local integer i=Tb-1
local real B48=0
local real B37=(TimerGetElapsed(W))
local integer B78=0
loop
exitwhen i==Tb or B48>wb or B78>200
if i==0 then
set i=8000-1
endif
set B78=B78+1
set B48=B37-Mb[i]
if pb[i]==p5 and Qb[i]==m5 and B48<wb then
return true
endif
set i=i-1
endloop
return false
endfunction
function BJ8 takes unit S4,unit B98 returns boolean
local integer i=1
local integer BD8=GetPlayerId(GetOwningPlayer(S4))
local integer BE8=GetPlayerId(GetOwningPlayer(B98))
local integer BF8
local string BG8=" Assists: "
local boolean BH8=false
local integer x=1
set JU[1]=null
set JU[2]=null
set JU[3]=null
set JU[4]=null
set JU[5]=null
loop
exitwhen i>5
if ZC7(GetOwningPlayer(B98))then
set BF8=GetPlayerId(Z7[i])
else
set BF8=GetPlayerId(A7[i])
endif
if BE8!=BF8 and BI8(BF8,BD8)then
set JU[x]=Player(BF8)
set x=x+1
set BH8=true
endif
set i=i+1
endloop
return BH8
endfunction
function BK8 takes unit S4,unit B98 returns string
local integer i=1
local integer BD8=GetPlayerId(GetOwningPlayer(S4))
local integer BE8=GetPlayerId(GetOwningPlayer(B98))
local integer BF8
local string BG8=""
local boolean BH8=false
loop
exitwhen i>5
if ZC7(GetOwningPlayer(B98))then
set BF8=GetPlayerId(Z7[i])
else
set BF8=GetPlayerId(A7[i])
endif
if BE8!=BF8 and BI8(BF8,BD8)then
if BH8 then
set BG8=BG8+"/"+Q[BF8]+(KZ4[GetPlayerId((Player(BF8)))])+"|r"
else
set BG8=BG8+Q[BF8]+(KZ4[GetPlayerId((Player(BF8)))])+"|r"
endif
set BH8=true
endif
set i=i+1
endloop
if BH8 then
return BG8
endif
return" "
endfunction
function BM8 takes unit S4,unit B98 returns integer
local integer i=1
local integer BD8=GetPlayerId(GetOwningPlayer(S4))
local integer BE8=GetPlayerId(GetOwningPlayer(B98))
local integer BF8
local integer B78=0
loop
exitwhen i>5
if ZC7(GetOwningPlayer(B98))then
set BF8=GetPlayerId(Z7[i])
else
set BF8=GetPlayerId(A7[i])
endif
if BE8!=BF8 and BI8(BF8,BD8)then
set B78=B78+1
endif
set i=i+1
endloop
return B78
endfunction
function BN8 takes unit BO8 returns boolean
return GetUnitTypeId(BO8)==1211117641 or GetUnitTypeId(BO8)==1211117642
endfunction
function BP8 takes unit BO8 returns boolean
local integer UC7=GetHandleId(GetOwningPlayer(BO8))
local unit J58=U87(UC7,"Kobold0")
local unit J28=U87(UC7,"Kobold1")
local unit J_8=U87(UC7,"Kobold2")
local unit K48=U87(UC7,"Kobold3")
local unit K78=U87(UC7,"Kobold4")
if GetUnitAbilityLevel(J58,1093685078)!=0 or GetUnitAbilityLevel(J28,1093685078)!=0 or GetUnitAbilityLevel(J_8,1093685078)!=0 or GetUnitAbilityLevel(K48,1093685078)!=0 or GetUnitAbilityLevel(K78,1093685078)!=0 then
return true
endif
set J58=null
set J28=null
set J_8=null
set K48=null
set K78=null
return false
endfunction
function BQ8 takes unit BO8 returns boolean
local integer i=0
local integer UC7=GetHandleId(GetOwningPlayer(BO8))
local unit BR8=U87(UC7,"Kobold0")
loop
exitwhen i>5
if GetItemTypeId(UnitItemInSlot(BR8,i))==ZU[X0]and GetItemCharges(UnitItemInSlot(BR8,i))>0 then
set BR8=null
return true
endif
set i=i+1
endloop
set BR8=null
return false
endfunction
function BS8 takes unit BO8,location BT8 returns nothing
local integer UC7=GetHandleId(GetOwningPlayer(BO8))
local unit J58=U87(UC7,"Kobold0")
local unit J28=U87(UC7,"Kobold1")
local unit J_8=U87(UC7,"Kobold2")
local unit K48=U87(UC7,"Kobold3")
local unit K78=U87(UC7,"Kobold4")
if J58!=null then
call ReviveHeroLoc(J58,BT8,true)
call JY8(J58)
endif
if J28!=null then
call ReviveHeroLoc(J28,BT8,true)
call JY8(J28)
endif
if J_8!=null then
call ReviveHeroLoc(J_8,BT8,true)
call JY8(J_8)
endif
if K48!=null then
call ReviveHeroLoc(K48,BT8,true)
call JY8(K48)
endif
if K78!=null then
call ReviveHeroLoc(K78,BT8,true)
call JY8(K78)
endif
set K78=null
set K48=null
set J_8=null
set J28=null
set J58=null
endfunction
function BU8 takes unit CC7,real BV8,boolean BW8 returns nothing
set NP4=NP4+1
set NM4[NP4]=CC7
set NN4[NP4]=RQ7()+BV8
set NO4[NP4]=BW8
endfunction
function BX8 takes integer i returns nothing
local unit BO8=NM4[i]
local player p4=GetOwningPlayer(BO8)
local location BT8
if Z37(p4)then
set BT8=GetRectCenter(L9)
else
set BT8=GetRectCenter(ED)
endif
if D9==false and LO7(BO8)then
call JB8(BO8,p4,GetLocationX(BT8),GetLocationY(BT8),true)
if J38(BO8)==false or GetUnitAbilityLevel(BO8,1093684567)==0 then
call ReviveHeroLoc(BO8,BT8,true)
else
call BS8(BO8,BT8)
endif
call SetUnitState(BO8,UNIT_STATE_MANA,GetUnitState(BO8,UNIT_STATE_MAX_MANA))
endif
call RemoveLocation(BT8)
call XD8(i)
set BO8=null
set p4=null
set BT8=null
endfunction
function BY8 takes nothing returns boolean
local real B37=RQ7()
local integer i
set i=1
loop
exitwhen i>NP4
if NN4[i]<B37 and NN4[i]!=0 then
call BX8(i)
endif
if NN4[i]!=0 and LO7(NM4[i])==false then
set NM4[i]=null
set NN4[i]=0
set NO4[i]=false
endif
set i=i+1
endloop
return false
endfunction
function BZ8 takes unit u returns string
local string s=GetObjectName(1848657487)
set s=IN8(s,"$hero",Q[GetPlayerId(GetOwningPlayer(u))]+GetUnitName(u)+"|r")
return s
endfunction
function BA8 takes unit EC8 returns boolean
if GetOwningPlayer(EC8)!=GetLocalPlayer()then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,15,BZ8(M7[GetPlayerId(GetOwningPlayer(EC8))]))
endif
return false
endfunction
function BB8 takes nothing returns nothing
if SV7(GetEnumUnit(),ZU[DI4])!=null then
call SetItemCharges(SV7(GetEnumUnit(),ZU[DI4]),GetItemCharges(SV7(GetEnumUnit(),ZU[DI4]))+1)
endif
endfunction
function BC8 takes nothing returns boolean
if(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetFilterUnit())==false then
if IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(SQ4))and SV7(GetFilterUnit(),ZU[DI4])!=null then
return true
endif
endif
return false
endfunction
function B38 takes nothing returns boolean
local item i
local integer B68
if S54==0 and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(S04))then
if SV7(GetFilterUnit(),ZU[DY4])!=null then
set S54=S54+1
set B68=GetItemCharges(SV7(GetFilterUnit(),ZU[DY4]))
if B68==0 then
set B68=2
else
set B68=B68+1
endif
call SetItemCharges(SV7(GetFilterUnit(),ZU[DY4]),B68)
endif
endif
set i=null
return false
endfunction
function BL8 takes unit u,unit B18 returns nothing
local group g=CX7()
set SQ4=u
call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1625,Condition(function BC8))
if IsUnitAlly(u,GetOwningPlayer(B18))==false then
call GroupAddUnit(g,B18)
endif
call ForGroup(g,function BB8)
call CW7(g)
set g=null
endfunction
function B08 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit B58=(LoadUnitHandle(L7,(OC7),(335)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local real x
local real y
local real a
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if GetTriggerUnit()!=B58 then
call KillUnit(B58)
endif
else
set a=GetUnitFacing(O07)*bj_RADTODEG
set x=GetUnitX(O07)+75
set y=GetUnitY(O07)+75
call SetUnitX(B58,x)
call SetUnitY(B58,y)
call IssueTargetOrder(B58,"attack",O07)
endif
set t=null
set B58=null
set O07=null
return false
endfunction
function B28 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local unit B58
if GetSummoningUnit()==H88 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set B58=GetSummonedUnit()
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterDeathEvent(t,B58)
call TriggerRegisterDeathEvent(t,O07)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function B08))
call SaveUnitHandle(L7,(OC7),(335),(B58))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call UnitAddAbility(B58,1097625443)
call SetUnitPosition(B58,GetUnitX(O07)+100,GetUnitY(O07)+100)
call IssueTargetOrder(B58,"attack",O07)
call SetUnitMoveSpeed(B58,522)
endif
set t=null
set O07=null
set EC8=null
set H88=null
return false
endfunction
function B_8 takes unit EC8,unit B18 returns nothing
local unit O07=B18
local unit H88
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
if I98(O07)then
set O07=(M7[GetPlayerId(GetOwningPlayer((O07)))])
endif
set H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call D18(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function B28))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call LM7(H88,1093813559)
call IssueTargetOrderById(H88,852274,O07)
set t=null
set O07=null
set H88=null
endfunction
function C48 takes nothing returns boolean
if(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetFilterUnit())==false then
if IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(SQ4))==false and SV7(GetFilterUnit(),ZU[YB])!=null then
endif
endif
return false
endfunction
function C78 takes unit u returns nothing
local group g=CX7()
set SQ4=u
call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1625,Condition(function C48))
call CW7(g)
set g=null
endfunction
function C88 takes unit u returns nothing
local group g=CX7()
set S54=0
set S04=u
call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1425,Condition(function B38))
call CW7(g)
set S54=0
set g=null
endfunction
function C98 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer CD8=UN7(UC7,"side")
local integer i=1
local player p
local string M6
loop
exitwhen i>5
if CD8==0 then
set p=Z7[i]
set M6=Q[GetPlayerId(Z7[0])]+(GetObjectName((1848652622)))+"|r "+(GetObjectName((1848652624)))+" "+Q[GetPlayerId(Z7[0])]+(GetObjectName((1848652625)))+"|r"
else
set p=A7[i]
set M6=Q[GetPlayerId(A7[0])]+(GetObjectName((1848652623)))+"|r "+(GetObjectName((1848652624)))+" "+Q[GetPlayerId(A7[0])]+(GetObjectName((1848652625)))+"|r"
endif
call DisplayTimedTextToPlayer(p,0,0,10,M6)
call EY8(XO,p)
set i=i+1
endloop
call TN7(UC7)
call UA7(t)
set t=null
return false
endfunction
function CE8 takes integer CD8 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1.5,false)
call TriggerAddCondition(t,Condition(function C98))
call TQ7(UC7,"side",CD8)
set t=null
endfunction
function CF8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer CG8=UN7(UC7,"soundIndex")
local string M6=UQ7(UC7,"msg")
if CG8==1 then
call EX8(nX)
elseif CG8==2 then
call EX8(CR)
elseif CG8==3 then
call EX8(GP)
elseif CG8==4 then
call EX8(IP)
endif
call BC7(L8,10.00,M6)
call TN7(UC7)
call UA7(t)
set t=null
return false
endfunction
function CH8 takes string M6,integer CG8 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1.5,false)
call TriggerAddCondition(t,Condition(function CF8))
call TS7(UC7,"msg",M6)
call TQ7(UC7,"soundIndex",CG8)
set t=null
endfunction
function CI8 takes player CJ8,integer CK8,unit BO8 returns nothing
local texttag t=CreateTextTag()
local string s
call SetPlayerState(CJ8,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(CJ8,PLAYER_STATE_RESOURCE_GOLD)+CK8)
call SetTextTagText(t,"+"+I2S(CK8),0.025)
call SetTextTagPosUnit(t,BO8,0)
call SetTextTagColor(t,255,220,0,255)
call SetTextTagVelocity(t,0,0.03)
if GetLocalPlayer()==CJ8 then
call SetTextTagVisibility(t,true)
set s="UI\\Feedback\\GoldCredit\\GoldCredit.mdl"
else
call SetTextTagVisibility(t,false)
set s=""
endif
if GetUnitState(BO8,UNIT_STATE_LIFE)>0.5 then
call DestroyEffect(AddSpecialEffectTarget(s,BO8,"overhead"))
endif
call SetTextTagFadepoint(t,2)
call SetTextTagLifespan(t,3)
call SetTextTagPermanent(t,false)
endfunction
function CM8 takes unit BO8,unit CN8,real CO8 returns nothing
local integer i=1
local integer CP8=0
call BJ8(BO8,CN8)
loop
exitwhen i>5
if JU[i]!=null then
set CP8=CP8+1
endif
set i=i+1
endloop
set i=1
loop
exitwhen i>5
if JU[i]!=null then
set VG4[GetPlayerId(JU[i])]=VG4[GetPlayerId(JU[i])]+R2I(CO8/CP8)
call CI8(JU[i],R2I(CO8/CP8),M7[GetPlayerId(JU[i])])
endif
set i=i+1
endloop
endfunction
function CQ8 takes player CR8,integer CK8 returns nothing
local integer T8=1
local integer Jg
if ZC7(CR8)then
set Jg=P8(X7)
else
set Jg=P8(Y7)
endif
if ZC7(CR8)then
loop
exitwhen T8>5
if Z07(Z7[T8])then
set VG4[GetPlayerId(Z7[T8])]=VG4[GetPlayerId(Z7[T8])]+CK8/Jg
call CI8(Z7[T8],CK8/Jg,M7[GetPlayerId(Z7[T8])])
endif
set T8=T8+1
endloop
else
loop
exitwhen T8>5
if Z07(A7[T8])then
set VG4[GetPlayerId(A7[T8])]=VG4[GetPlayerId(A7[T8])]+CK8/Jg
call CI8(A7[T8],CK8/Jg,M7[GetPlayerId(A7[T8])])
endif
set T8=T8+1
endloop
endif
endfunction
function CS8 takes unit BO8,integer CT8 returns nothing
local player p4=GetOwningPlayer(BO8)
call SetPlayerState(p4,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p4,PLAYER_STATE_RESOURCE_GOLD)-CT8)
endfunction
function m4 takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==1865429043 then
call KillUnit(GetFilterUnit())
return true
endif
return false
endfunction
function CU8 takes nothing returns nothing
local boolexpr hP=Condition(function m4)
local group IB8=CX7()
call GroupEnumUnitsInRect(IB8,bj_mapInitialPlayableArea,hP)
call CW7(IB8)
set IB8=null
endfunction
function CV8 takes nothing returns boolean
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetUnitTypeId(GetTriggerUnit())!=1311788365 then
if GetUnitTypeId(GetTriggerUnit())==1211117642 and BQ8(GetTriggerUnit())then
return false
endif
return true
endif
return false
endfunction
function CW8 takes player CX8,player CJ8,unit CN8 returns boolean
return CN8==null or GetKillingUnit()==null or(ZC7(CX8)and ZC7(CJ8))or(Z37(CX8)and Z37(CJ8))
endfunction
function CY8 takes nothing returns nothing
if J48(GetUnitTypeId(GetEnumUnit()))==false then
set NL4=NL4+1
if GetOwningPlayer(GetKillingUnit())!=GetOwningPlayer(GetEnumUnit())then
set N14=N14+1
endif
endif
endfunction
function CZ8 takes nothing returns nothing
if(GetUnitTypeId((GetEnumUnit()))==1211117642)==false and J48(GetUnitTypeId(GetFilterUnit()))==false then
call AddHeroXP(GetEnumUnit(),NC4,true)
set N34[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=N34[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+NC4
if GetOwningPlayer(GetKillingUnit())!=GetOwningPlayer(GetEnumUnit())then
set N64[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=N64[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+NB4
set VG4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=VG4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+NB4
call CI8(GetOwningPlayer(GetEnumUnit()),NB4,GetEnumUnit())
endif
endif
endfunction
function CA8 takes nothing returns boolean
local integer H98
local integer CB8=0
local integer CC8=0
local group g
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetTriggerUnit())==false and(GetUnitTypeId((GetTriggerUnit()))==1211117642)==false and J48(GetUnitTypeId(GetTriggerUnit()))==false then
set H98=GetHeroLevel(GetTriggerUnit())
set NC4=0
set NB4=0
set g=CX7()
set NL4=0
set N14=0
call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1025,Condition(function GI8))
call ForGroup(g,function CY8)
if NL4==1 then
set CB8=20*H98+120
elseif NL4==2 then
set CB8=15*H98+90
elseif NL4==3 then
set CB8=7*H98+30
elseif NL4==4 then
set CB8=6*H98+15
elseif NL4==5 then
set CB8=5*H98+10
endif
if N14==1 then
set CC8=12*H98+125
elseif N14==2 then
set CC8=10*H98+40
elseif N14==3 then
set CC8=6*H98
elseif N14==4 then
set CC8=6*H98
elseif N14==5 then
set CC8=6*H98
endif
if Y4 then
endif
set NC4=CB8
set NB4=CC8
call ForGroup(g,function CZ8)
call CW7(g)
set g=null
endif
return false
endfunction
function C38 takes nothing returns nothing
local boolean C68=false
local unit BO8=GetDyingUnit()
local unit CN8=GetKillingUnit()
local player CJ8=GetOwningPlayer(CN8)
local player CX8=GetOwningPlayer(BO8)
local integer CK8=0
local integer CL8=0
local boolean C18=false
local string C08=""
local string C58=""
local string C28=""
local string MidText
local integer x
local string C_8
local string L48
local string L78
local string L88
local boolean BW8=false
local real L98=1
local real LD8=1
local real LE8=1
local real LF8=1
local real LG8=0
local trigger t
local integer LH8
local integer LI8
local item LJ8
local integer id
local integer LK8=GetPlayerState(CX8,PLAYER_STATE_RESOURCE_GOLD)
local integer LM8=LK8-VG4[GetPlayerId(CX8)]
local unit LN8
local unit LO8
local boolean PreventBuyback=IY7
call CA8()
if CN8==null and GetUnitTypeId(BO8)==1315988077 then
set CN8=ZY4
set CJ8=GetOwningPlayer(CN8)
endif
if IsPlayerAlly(CJ8,CX8)==true and UU7(CN8,"4328")==true and JQ7!=null then
set CN8=JQ7
set CJ8=GetOwningPlayer(CN8)
endif
set LI8=BM8(BO8,CN8)
if CN8!=null then
set id=GetUnitTypeId(CN8)
call LP7(M7[GetPlayerId(GetOwningPlayer(CN8))],BO8)
endif
if CW8(CX8,CJ8,CN8)==false and LI8==1 and Z67(CJ8)==false and CJ8!=B7 then
call BJ8(BO8,CN8)
set CJ8=JU[1]
set CN8=M7[GetPlayerId(CJ8)]
endif
set IG4[GetPlayerId(GetOwningPlayer((BO8)))]=true
if GetUnitAbilityLevel(BO8,1093685078)!=0 or(BN8(BO8)and BP8(BO8))then
set BW8=true
call UnitRemoveAbility(BO8,1093685078)
set D8=BO8
set ox=CN8
if IsUnitType(CN8,UNIT_TYPE_STRUCTURE)==false then
endif
endif
if CJ8==null then
set CJ8=CX8
endif
if R4 and GetUnitTypeId(BO8)!=1211117642 then
if(GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_USER)then
set jx=UnitRemoveItemFromSlot(BO8,GetRandomInt(0,5))
if GetItemTypeId(jx)==1227894859 then
call CreateItem(1227894855,GetItemX(jx),GetItemY(jx))
call RemoveItem(jx)
endif
elseif(IsUnitInForce(GetDyingUnit(),QX4))then
set jx=UnitItemInSlot(GetDyingUnit(),GetRandomInt(0,5))
if(jx==null)then
elseif(GetItemType(jx)==ITEM_TYPE_PURCHASABLE)then
call UnitRemoveItem(GetDyingUnit(),jx)
else
set LJ8=CreateItem(GetItemTypeId(jx),GetUnitX(GetDyingUnit()),GetUnitY(GetDyingUnit()))
call SetItemPlayer(LJ8,GetOwningPlayer(GetDyingUnit()),false)
set hG[128+GetPlayerId(GetOwningPlayer(GetDyingUnit()))]=hG[128+GetPlayerId(GetOwningPlayer(GetDyingUnit()))]+WO7(GetItemTypeId(jx))
if((GetItemTypeId(jx)==ZU[Q1])or(GetItemTypeId(jx)==ZU[D1]))then
call SetItemCharges(LJ8,GetItemCharges(jx))
endif
endif
endif
endif
if ZC7(CX8)then
if ZC7(CJ8)then
set C68=true
if(CJ8==CX8)then
call BC7(L8,10.00,(Q[GetPlayerId(CX8)]+(KZ4[GetPlayerId((CX8))])+"|r "+(GetObjectName((1848652626)))))
else
call BC7(L8,10.00,IV8(CX8,CJ8))
endif
elseif Z37(CJ8)then
set C18=true
set V[GetPlayerId(Z7[0])]=V[GetPlayerId(Z7[0])]+1
set T[GetPlayerId(A7[0])]=T[GetPlayerId(A7[0])]+1
set N[2]=N[2]+1
set N[1]=0
if CJ8!=A7[0]then
set T[GetPlayerId(CJ8)]=T[GetPlayerId(CJ8)]+1
set K[GetPlayerId(CJ8)]=K[GetPlayerId(CJ8)]+1
endif
endif
endif
if Z37(CX8)then
if Z37(CJ8)then
set C68=true
if(CJ8==CX8)then
call BC7(L8,10.00,(Q[GetPlayerId(CX8)]+(KZ4[GetPlayerId((CX8))])+"|r "+(GetObjectName((1848652626)))))
else
call BC7(L8,10.00,IV8(CX8,CJ8))
endif
elseif ZC7(CJ8)then
set C18=true
set V[GetPlayerId(A7[0])]=V[GetPlayerId(A7[0])]+1
set T[GetPlayerId(Z7[0])]=T[GetPlayerId(Z7[0])]+1
set N[1]=N[1]+1
set N[2]=0
if CJ8!=Z7[0]then
set T[GetPlayerId(CJ8)]=T[GetPlayerId(CJ8)]+1
set K[GetPlayerId(CJ8)]=K[GetPlayerId(CJ8)]+1
endif
endif
endif
if CJ8==B7 then
set C18=false
if GetUnitTypeId(CN8)==1848651852 then
call BC7(L8,10.00,(Q[GetPlayerId(CX8)]+(KZ4[GetPlayerId((CX8))])+"|r "+(GetObjectName((1848652628)))))
else
call BC7(L8,10.00,(Q[GetPlayerId(CX8)]+(KZ4[GetPlayerId((CX8))])+"|r "+(GetObjectName((1848652629)))))
endif
set C68=true
endif
if RA4 then
call E48(AN,GetUnitX(BO8),GetUnitY(BO8))
endif
call II8("Hero"+I2S(GetPlayerId(CX8)),GetPlayerId(CJ8))
set x=K[GetPlayerId(CX8)]
if x>2 and C68==false then
if x==3 then
set CK8=50
set C08="|c0000ff40"+(GetObjectName((1848652876)))+"|r"
elseif x==4 then
set CK8=100
set C08="|c00400080"+(GetObjectName((1848652878)))+"|r"
elseif x==5 then
set CK8=150
set C08="|c00ff0080"+(GetObjectName((1848652877)))+"|r"
elseif x==6 then
set CK8=200
set C08="|c00ff8000"+(GetObjectName((1848652874)))+"|r"
elseif x==7 then
set CK8=250
set C08="|c00808000"+(GetObjectName((1848652873)))+"|r"
elseif x==8 then
set CK8=300
set C08="|c00ff80ff"+(GetObjectName((1848652630)))+"|r"
elseif x==9 then
set CK8=350
set C08="|c00ff0000"+(GetObjectName((1848652631)))+"|r"
else
set CK8=400
set C08="|c00ff8000"+(GetObjectName((1848652632)))+"|r"
endif
endif
set x=K[GetPlayerId(CJ8)]
if x>NR4[GetPlayerId(CJ8)]then
set NR4[GetPlayerId(CJ8)]=x
endif
set LN8=CN8
if IsUnitType(LN8,UNIT_TYPE_HERO)==false then
set LN8=M7[GetPlayerId(GetOwningPlayer(LN8))]
endif
if x>2 and GetUnitTypeId(LN8)!=1429221446 and O24[GetPlayerId(GetOwningPlayer(LN8))]==0 then
endif
set LO8=BO8
if IsUnitType(LO8,UNIT_TYPE_HERO)==false then
set LO8=M7[GetPlayerId(GetOwningPlayer(LO8))]
endif
if C68==false and C18==true then
endif
if x>2 and C68==false then
if x==3 then
call EX8(TO)
set C58=" "+(GetObjectName((1848652875)))+" |c0000ff40"+(GetObjectName((1848652876)))+"|r"+(GetObjectName((1848652857)))
elseif x==4 then
call EX8(ZN)
set C58=" "+(GetObjectName((1848652872)))+" |c00400080"+(GetObjectName((1848652878)))+"|r"+(GetObjectName((1848652857)))
elseif x==5 then
call EX8(VO)
set C58=" "+(GetObjectName((1848652871)))+" |c00ff0080"+(GetObjectName((1848652877)))+"|r"+(GetObjectName((1848652857)))
elseif x==6 then
call EX8(LO)
set C58=" "+(GetObjectName((1848652872)))+" |c00ff8000"+(GetObjectName((1848652874)))+"|r"+(GetObjectName((1848652865)))
elseif x==7 then
call EX8(EP)
set C58=" "+(GetObjectName((1848652872)))+" |c00808000"+(GetObjectName((1848652873)))+"|r"+(GetObjectName((1848652865)))
elseif x==8 then
call EX8(YO)
set C58=" "+(GetObjectName((1848652871)))+" |c00ff80ff"+(GetObjectName((1848652630)))+"|r"+(GetObjectName((1848652865)))
elseif x==9 then
call EX8(BN)
set C58=" "+(GetObjectName((1848652872)))+" |c00ff0000"+(GetObjectName((1848652631)))+"|r"+(GetObjectName((1848652866)))
else
call EX8(CN)
set C58=" "+(GetObjectName((1848652872)))+" |c00ff8000"+(GetObjectName((1848652632)))+"|r. "+(GetObjectName((1848652870)))+(GetObjectName((1848652866)))
endif
endif
if C68==false then
set CK8=CK8+100+GetHeroLevel(BO8)*9+100
set C_8=Q[GetPlayerId(CX8)]+(KZ4[GetPlayerId((CX8))])+"|r"
set L48=Q[GetPlayerId(CJ8)]+(KZ4[GetPlayerId((CJ8))])+"|r"
set L88="|c00FFDC00"+I2S(CK8)+"|r"
if CJ8==Z7[0]or CJ8==A7[0]then
if LI8==0 then
if CJ8==Z7[0]then
set L78=L48+" "+(GetObjectName((1848652850)))+" "+C_8+(GetObjectName((1848652851)))+(GetObjectName((1848652857)))+" "+L88+" "+(GetObjectName((1848652852)))+"."
call CQ8(CJ8,CK8)
elseif CJ8==A7[0]then
set L78=L48+" "+(GetObjectName((1848652850)))+" "+C_8+(GetObjectName((1848652851)))+(GetObjectName((1848652857)))+" "+L88+" "+(GetObjectName((1848652852)))+"."
call CQ8(CJ8,CK8)
endif
elseif LI8>1 then
set L78=L48+" "+(GetObjectName((1848652850)))+" "+C_8+(GetObjectName((1848652851)))+(GetObjectName((1848652857)))+" "+L88+" "+(GetObjectName((1848652852)))+"."
call CM8(BO8,CN8,CK8)
endif
elseif C08=="" and C58=="" then
set L78=L48+" "+(GetObjectName((1848652850)))+" "+C_8+(GetObjectName((1848652851)))+" "+(GetObjectName((1848652867)))+" "+L88+" "+(GetObjectName((1848652853)))+(GetObjectName((1848652857)))
elseif C08=="" and C58!="" then
set L78=L48+" "+(GetObjectName((1848652850)))+" "+C_8+(GetObjectName((1848652851)))+" "+(GetObjectName((1848652867)))+" "+L88+" "+(GetObjectName((1848652853)))+(GetObjectName((1848652857)))
elseif C08!="" and C58=="" then
set L78=L48+" "+(GetObjectName((1848652856)))+" "+C_8+(GetObjectName((1848652855)))+" "+C08+" "+(GetObjectName((1848652854)))+" "+L88+" "+(GetObjectName((1848652853)))+(GetObjectName((1848652857)))
elseif C08!="" and C58!="" then
set L78=L48+" "+(GetObjectName((1848652856)))+" "+C_8+(GetObjectName((1848652855)))+" "+C08+" "+(GetObjectName((1848652854)))+" "+L88+" "+(GetObjectName((1848652853)))+(GetObjectName((1848652857)))
endif
if C18 then
set C28=B88(BO8,CN8)
endif
call BC7(L8,10,L78+C28)
if C58!="" then
call BC7(L8,10,L48+C58)
endif
set VG4[GetPlayerId(CJ8)]=VG4[GetPlayerId(CJ8)]+CK8
call CI8(CJ8,CK8,BO8)
set NV4[GetPlayerId(CJ8)]=NV4[GetPlayerId(CJ8)]+CK8
if N[1]>4 then
call CE8(0)
endif
if N[2]>4 then
call CE8(1)
endif
endif
set CL8=GetHeroLevel(BO8)*30
if SV7(BO8,ZU[DI4])!=null then
if GetItemCharges(SV7(BO8,ZU[DI4]))>0 then
set LG8=-1*(4*GetItemCharges(SV7(BO8,ZU[DI4])))
set CL8=IMaxBJ(R2I(CL8-25*GetItemCharges(SV7(BO8,ZU[DI4]))),0)
endif
endif
if CL8>LM8 then
set CL8=LM8
endif
call BL8(BO8,LN8)
call C88(BO8)
call C78(BO8)
if BW8==false then
set NQ4[GetPlayerId(CX8)]=NQ4[GetPlayerId(CX8)]+CL8
call CS8(BO8,CL8)
endif
call SaveInteger(L7,StringHash("Stats"+I2S(GetPlayerId(CJ8))),StringHash("Killed "+I2S(GetPlayerId(CX8))),((LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId(CJ8))),StringHash("Killed "+I2S(GetPlayerId(CX8)))))+1))
call SaveInteger(L7,StringHash("Stats"+I2S(GetPlayerId(CX8))),StringHash("Died To "+I2S(GetPlayerId(CJ8))),((LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId(CX8))),StringHash("Died To "+I2S(GetPlayerId(CJ8)))))+1))
call StartTimerBJ(A[GetPlayerId(CJ8)],false,18)
if C68==false and CJ8!=Z7[0]and CJ8!=A7[0]and CJ8!=B7 then
set M[GetPlayerId(CJ8)]=M[GetPlayerId(CJ8)]+1
if M[GetPlayerId(CJ8)]==2 then
set NS4[GetPlayerId(CJ8)]=NS4[GetPlayerId(CJ8)]+1
call CH8(Q[GetPlayerId(CJ8)]+(KZ4[GetPlayerId((CJ8))])+"|r "+(GetObjectName((1848652868)))+" |c000000ff"+(GetObjectName((1848652883)))+"|r"+(GetObjectName((1848652857))),1)
endif
if M[GetPlayerId(CJ8)]==3 then
set NT4[GetPlayerId(CJ8)]=NT4[GetPlayerId(CJ8)]+1
call CH8(Q[GetPlayerId(CJ8)]+(KZ4[GetPlayerId((CJ8))])+"|r "+(GetObjectName((1848652868)))+" |c0000ff40"+(GetObjectName((1848652869)))+"|r"+(GetObjectName((1848652866))),2)
endif
if M[GetPlayerId(CJ8)]==4 then
set NT4[GetPlayerId(CJ8)]=NT4[GetPlayerId(CJ8)]+1
call CH8(Q[GetPlayerId(CJ8)]+(KZ4[GetPlayerId((CJ8))])+"|r "+(GetObjectName((1848652868)))+" |c0000FFFF"+(GetObjectName((1848657994)))+"|r"+(GetObjectName((1848652866))),3)
endif
if M[GetPlayerId(CJ8)]>4 then
set NT4[GetPlayerId(CJ8)]=NT4[GetPlayerId(CJ8)]+1
call CH8(Q[GetPlayerId(CJ8)]+(KZ4[GetPlayerId((CJ8))])+"|r "+(GetObjectName((1848652875)))+" |c0000AAFF"+(GetObjectName((1848657995)))+"|r"+(GetObjectName((1848652866))),4)
endif
endif
if(C68==false)then
set K[GetPlayerId(CX8)]=0
endif
set K[0]=0
set K[6]=0
set V[GetPlayerId(CX8)]=V[GetPlayerId(CX8)]+1
if BW8 then
set L98=0.4
endif
if C68==true and GetUnitTypeId(BO8)==1211117643 then
set LF8=0.5
endif
set LH8=R2I(GetHeroLevel(BO8)*4*L98*LD8*LE8*LF8)+R2I(LG8)
if LS==true then
set LH8=R2I(LH8*0.5)
endif
if P94 then
set NU4[GetPlayerId(CX8)]=0
if GetPlayerController(CX8)==MAP_CONTROL_COMPUTER then
call TimerStart(U[GetPlayerId(CX8)],2.00,false,null)
else
call TimerStart(U[GetPlayerId(CX8)],1.00,false,null)
endif
else
set NU4[GetPlayerId(CX8)]=NU4[GetPlayerId(CX8)]+LH8
call TimerStart(U[GetPlayerId(CX8)],LH8,false,null)
endif
call TriggerExecute(vA)
if D4==false and RZ4==false then
call BU8(BO8,LH8,BW8)
elseif RZ4 and GetPlayerController(CX8)==MAP_CONTROL_USER then
call BU8(BO8,1,false)
else
if(ZC7(CX8))then
set L[0]=L[0]+1
endif
if Z37(CX8)then
set L[1]=L[1]+1
endif
set W7[GetPlayerId(CX8)]=BO8
if GetUnitTypeId(BO8)==1211117642 then
set W7[GetPlayerId(CX8)]=U87(GetHandleId(GetOwningPlayer(BO8)),"Kobold0")
endif
if L[0]==PD4 then
call TriggerExecute(OF4)
endif
if L[1]==PD4 then
call TriggerExecute(OE4)
endif
if(GetUnitTypeId(BO8)==1429221430)then
call ExecuteFunc("CU8")
elseif GetUnitTypeId(BO8)==1429221432 or GetUnitTypeId(BO8)==1160786229 then
set IT4=BO8
call ExecuteFunc("LP8")
elseif GetUnitTypeId(BO8)==1432580716 then
set IT4=BO8
call ExecuteFunc("LQ8")
endif
endif
set LJ8=null
set t=null
set CN8=null
set BO8=null
endfunction
function LR8 takes nothing returns boolean
local unit B58=GetSummonedUnit()
local integer x
if IsUnitIllusion(B58)==true then
set x=K[GetPlayerId(GetOwningPlayer(B58))]
if x>2 and O24[GetPlayerId(GetOwningPlayer(B58))]==0 then
call LM7(B58,1093815114)
else
call UnitRemoveAbility(B58,1093815114)
endif
endif
set B58=null
return false
endfunction
function InitTrig_Image_Enters takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function LR8))
set t=null
endfunction
function LS8 takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local player CJ8=GetOwningPlayer(GetKillingUnit())
local player CX8=GetOwningPlayer(GetTriggerUnit())
local string LT8
local integer LI8=BM8(GetTriggerUnit(),GetKillingUnit())
if CJ8==Z7[0]or CJ8==A7[0]then
call CM8(GetTriggerUnit(),GetKillingUnit(),200)
set LT8=BK8(GetTriggerUnit(),GetKillingUnit())+" "+(GetObjectName((1848652887)))+" |c00ff0303"+(GetObjectName((1848652889)))+(GetObjectName((1848652857)))+"|r "
if LI8>1 then
set LT8=LT8+"(+200 "+(GetObjectName((1848652852)))+")"
else
set LT8=LT8+"(+200 "+(GetObjectName((1848652853)))+")"
endif
else
set LT8=Q[GetPlayerId(CJ8)]+(KZ4[GetPlayerId((CJ8))])+"|r "+(GetObjectName((1848652887)))+" |c00ff0303"+(GetObjectName((1848652889)))+(GetObjectName((1848652857)))+"|r "
set LT8=LT8+"(+200 "+(GetObjectName((1848652853)))+")"
call CI8(CJ8,200,M7[GetPlayerId(CJ8)])
set VG4[GetPlayerId(CJ8)]=VG4[GetPlayerId(CJ8)]+200
endif
call BC7(L8,10,LT8)
call EX8(EX)
call UA7(t)
set t=null
endfunction
function LU8 takes nothing returns boolean
if GetOwningPlayer(GetKillingUnit())!=B7 and GetKillingUnit()!=null and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit()))==true then
if GetOwningPlayer(GetKillingUnit())==Z7[0]or GetOwningPlayer(GetKillingUnit())==A7[0]then
if BM8(GetTriggerUnit(),GetKillingUnit())>0 then
call LS8()
endif
else
call LS8()
endif
endif
return false
endfunction
function LV8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit u
local region r
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call TN7(UC7)
call UA7(t)
else
set u=U87(UC7,"u")
set r=CreateRegion()
call RegionAddRect(r,CE)
call RegionAddRect(r,dE)
if IsUnitInRegion(r,u)==false then
if UP7(UC7,"safe")==true then
call TT7(UC7,"safe",false)
else
call SetUnitX(u,GetRectCenterX(ND))
call SetUnitY(u,GetRectCenterY(ND))
call TT7(UC7,"safe",true)
endif
endif
call RemoveRegion(r)
set u=null
set r=null
endif
set t=null
return false
endfunction
function LW8 takes unit u returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,10.,true)
call TriggerAddCondition(t,Condition(function LV8))
call TU7(UC7,"u",u)
call TT7(UC7,"safe",true)
set t=null
endfunction
function LX8 takes nothing returns boolean
local item W38
local integer CP8=GetTriggerEvalCount(GetTriggeringTrigger())
if CP8==I97 then
call UA7(GetTriggeringTrigger())
endif
if CP8==I97-180 or CP8==I97-60 then
if NW4!=null then
set W38=SV7(NW4,ZU[X0])
if W38!=null then
if CP8==I97-180 then
if ZC7(GetOwningPlayer(NW4))then
call BC7(X7,15,(GetObjectName((1848657209)))+" |c00ff0303"+(GetObjectName((1848657207)))+"|r")
else
call BC7(Y7,15,(GetObjectName((1848657209)))+" |c00ff0303"+(GetObjectName((1848657207)))+"|r")
endif
else
if ZC7(GetOwningPlayer(NW4))then
call BC7(X7,15,(GetObjectName((1848657209)))+" |c00ff0303"+(GetObjectName((1848656984)))+"|r")
else
call BC7(Y7,15,(GetObjectName((1848657209)))+" |c00ff0303"+(GetObjectName((1848656984)))+"|r")
endif
endif
endif
endif
endif
set W38=null
return false
endfunction
function LY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function LX8))
call TriggerEvaluate(t)
set t=null
endfunction
function LZ8 takes nothing returns boolean
set NY4=GetTriggerEvalCount(GetTriggeringTrigger())
if V4!=null and GetUnitState(V4,UNIT_STATE_LIFE)>1 then
call SetPlayerTechResearched(GetOwningPlayer(V4),1378889798,NY4)
if GetUnitAbilityLevel(V4,1093743666)==0 then
call UnitAddAbility(V4,1093743666)
endif
call SetUnitAbilityLevel(V4,1093743666,NY4+1)
endif
return false
endfunction
function LA8 takes nothing returns nothing
local integer i=1
local unit CO7
set NW4=null
loop
exitwhen i>5
set CO7=M7[GetPlayerId(Z7[i])]
if CO7!=null and SV7(CO7,ZU[X0])!=null then
call DisableTrigger(H94)
call II8("AegisOff",GetPlayerId(GetOwningPlayer(CO7)))
call RemoveItem(SV7(CO7,ZU[X0]))
call EnableTrigger(H94)
endif
set CO7=M7[GetPlayerId(A7[i])]
if CO7!=null and SV7(CO7,ZU[X0])!=null then
call DisableTrigger(H94)
call II8("AegisOff",GetPlayerId(GetOwningPlayer(CO7)))
call RemoveItem(SV7(CO7,ZU[X0]))
call EnableTrigger(H94)
endif
set i=i+1
endloop
set CO7=null
endfunction
function LB8 takes string LC8,string L38 returns string
local string s=(GetObjectName((1848656705)))
set s=IN8(s,"$team",LC8)
set s=IN8(s,"$team",L38)
return s
endfunction
function L68 takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==1848651852
endfunction
function IsHero takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true
endfunction
function LL8 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local location L18
local real LB7
if GetTriggerEvalCount(t)==I87 or Y_4 then
set Y_4=false
set L18=GetRectCenter(ND)
call LA8()
set NA4=NA4+1
set V4=CreateUnitAtLoc(Player(12),1848651852,L18,bj_UNIT_FACING)
call SetUnitAcquireRange(V4,150)
call LW8(V4)
call UnitAddAbility(V4,1093743666)
call SetPlayerTechResearched(GetOwningPlayer(V4),1378889798,NY4)
call SetUnitAbilityLevel(V4,1093743666,NY4+1)
call RemoveLocation(L18)
if NA4>1 then
call UnitRemoveAbility(V4,1093684018)
call UnitAddAbility(V4,1093685558)
call UnitAddItem(V4,CreateItem(ZU[AC],0,0))
endif
call UnitAddItem(V4,CreateItem(ZU[X0],0,0))
call UA7(t)
set GU7=99999999.
elseif GetTriggerEvalCount(t)==I97 then
call LA8()
set GU7=99999999.
endif
set t=null
set L18=null
return false
endfunction
function L08 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function LL8))
set Y_4=false
call LY8()
set NX4=false
if(ZC7(GetOwningPlayer(GetKillingUnit())))then
call II8("Roshan",0)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,LB8("|c00ff0000"+(GetObjectName((1848653365)))+"|r",(GetObjectName((1848653365)))))
call AdjustPlayerStateBJ(200,Z7[1],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Z7[2],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Z7[3],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Z7[4],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,Z7[5],PLAYER_STATE_RESOURCE_GOLD)
endif
if(Z37(GetOwningPlayer(GetKillingUnit())))then
call II8("Roshan",1)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,LB8("|c00004000"+(GetObjectName((1848653379)))+"|r",(GetObjectName((1848653379)))))
call AdjustPlayerStateBJ(200,A7[1],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,A7[2],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,A7[3],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,A7[4],PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(200,A7[5],PLAYER_STATE_RESOURCE_GOLD)
endif
set t=null
endfunction
function L58 takes nothing returns nothing
local texttag t=CreateTextTag()
local unit u=GetTriggerUnit()
local player p=GetOwningPlayer(GetKillingUnit())
call SetTextTagText(t,"$",0.027)
call SetTextTagPosUnit(t,u,0)
call SetTextTagColorBJ(t,KA4[GetPlayerId(p)],KB4[GetPlayerId(p)],KC4[GetPlayerId(p)],15)
call SetTextTagVelocity(t,0,0.035)
call SetTextTagFadepoint(t,3)
call SetTextTagLifespan(t,1.5)
call SetTextTagPermanent(t,false)
call SetTextTagVisibility(t,false)
if GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4 then
call SetTextTagVisibility(t,true)
endif
set t=null
set u=null
set p=null
endfunction
function L28 takes unit u,player p returns nothing
local texttag t=CreateTextTag()
call SetTextTagText(t,"!",0.03)
call SetTextTagPosUnit(t,u,0)
call SetTextTagColorBJ(t,KA4[GetPlayerId(p)],KB4[GetPlayerId(p)],KC4[GetPlayerId(p)],15)
call SetTextTagVelocity(t,0,0.035)
call SetTextTagFadepoint(t,3)
call SetTextTagLifespan(t,1.5)
call SetTextTagPermanent(t,false)
call SetTextTagVisibility(t,false)
if ob[GetPlayerId(GetLocalPlayer())]==true or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
call SetTextTagVisibility(t,true)
endif
set t=null
endfunction
function L_8 takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_MELEE_ATTACKER)==true then
call AddHeroXP(GetEnumUnit(),Tl/ IH4,true)
else
call AddHeroXP(GetEnumUnit(),tl/ IH4,true)
endif
endfunction
function D49 takes nothing returns nothing
local group g=CX7()
local integer AL7
local integer D79=18
local integer D89=D79*2
call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1000,Condition(function GI8))
set AL7=EO8(g)
set IH4=AL7
set tl=D79
set Tl=D89
call ForGroup(g,function L_8)
call CW7(g)
call L28(GetDyingUnit(),GetOwningPlayer(GetKillingUnit()))
set g=null
endfunction
function D99 takes nothing returns boolean
if IsUnitAlly(GetKillingUnit(),GetOwningPlayer(GetTriggerUnit()))==true then
call D49()
else
if V8 and Z67(GetOwningPlayer(GetKillingUnit()))then
call L58()
endif
endif
return false
endfunction
function DD9 takes player IW8,player IX8 returns string
local string s=(GetObjectName((1848656208)))
set s=IN8(s,"$dead",(KZ4[GetPlayerId((IW8))]))
return s
endfunction
function DE9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,false)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
return false
endfunction
function DF9 takes unit EC8 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function DE9))
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
set EC8=null
set t=null
endfunction
function DG9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit DH9=(LoadUnitHandle(L7,(OC7),(2)))
local integer CP8=GetTriggerEvalCount(t)
local integer DI9=180-CP8
local integer i=1
local integer id
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
loop
exitwhen i>5
if IsPlayerAlly(GetOwningPlayer(DH9),Z7[0])then
set id=GetPlayerId(Z7[i])
else
set id=GetPlayerId(A7[i])
endif
set i=i+1
if DI9==0 then
call LeaderboardDisplay(HB7[id],false)
if IsPlayerAlly(Z7[0],Player(id))then
set I77[GetPlayerId(Z7[0])]=false
endif
if IsPlayerAlly(A7[0],Player(id))then
set I77[GetPlayerId(A7[0])]=false
endif
else
if LO7(M7[id])==false then
call PlayerSetLeaderboard(Player(id),HB7[id])
call LeaderboardDisplay(HB7[id],true)
call LeaderboardSetLabel(HB7[id],"    "+GetObjectName(1848659034)+" "+I2S(DI9))
endif
endif
endloop
if DI9==2 then
call SetUnitPosition(DH9,x,y)
endif
if DI9==0 then
call TT7(GetHandleId(DH9),"aiCrow|Alive",true)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set DH9=null
return false
endfunction
function DJ9 takes player ON7,integer CO8 returns nothing
local texttag t
if CO8>0 then
set t=CreateTextTag()
call SetPlayerState(ON7,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(ON7,PLAYER_STATE_RESOURCE_GOLD)+CO8)
call SetTextTagText(t,"+"+I2S(CO8),0.025)
call SetTextTagPosUnit(t,M7[GetPlayerId(ON7)],0)
call SetTextTagColor(t,255,220,0,255)
call SetTextTagVelocity(t,0,0.03)
if GetLocalPlayer()==ON7 then
call SetTextTagVisibility(t,true)
else
call SetTextTagVisibility(t,false)
endif
call SetTextTagFadepoint(t,2)
call SetTextTagLifespan(t,3)
call SetTextTagPermanent(t,false)
endif
endfunction
function DK9 takes nothing returns boolean
local real x
local real y
local unit DH9=GetTriggerUnit()
local integer i=1
local integer DM9=175
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TT7(GetHandleId(DH9),"aiCrow|Alive",false)
call II8("Courier"+I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BC7(L8,10.00,DD9(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit())))
call PingMinimapEx(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),6,255,0,0,false)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function DG9))
call SaveUnitHandle(L7,(OC7),(2),(DH9))
if IsPlayerAlly(GetOwningPlayer(DH9),Z7[0])and I77[GetPlayerId(Z7[0])]==false then
set I77[GetPlayerId(Z7[0])]=true
loop
exitwhen i>5
call DJ9(A7[i],DM9)
set i=i+1
endloop
endif
set i=1
if IsPlayerAlly(GetOwningPlayer(DH9),A7[0])and I77[GetPlayerId(A7[0])]==false then
set I77[GetPlayerId(A7[0])]=true
loop
exitwhen i>5
call DJ9(Z7[i],DM9)
set i=i+1
endloop
endif
if ZC7(GetOwningPlayer(DH9))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
if IsTerrainPathable(GetUnitX(DH9),GetUnitY(DH9),PATHING_TYPE_WALKABILITY)then
call DF9(DH9)
endif
set t=null
return false
endfunction
function DN9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real x=IX4
local real y=IY4
if Z37(GetOwningPlayer(EC8))then
set x=JY4
set y=JZ4
endif
if LO7(EC8)==false then
if RF7(GetUnitX(EC8),GetUnitY(EC8),x,y)<800 then
call LM7(EC8,1098282348)
else
call UnitRemoveAbility(EC8,1098282348)
endif
endif
set t=null
set EC8=null
return false
endfunction
function DO9 takes unit DH9 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call SetPlayerAbilityAvailable(GetOwningPlayer(DH9),1093810510,false)
call UnitMakeAbilityPermanent(DH9,true,1093810509)
call TriggerRegisterDeathEvent(t,DH9)
call TriggerAddCondition(t,Condition(function DK9))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function DN9))
call SaveUnitHandle(L7,(OC7),(2),(DH9))
set t=null
endfunction
function DP9 takes nothing returns nothing
if RW7(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false then
call II8("Courier"+I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BC7(L8,10.00,DD9(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit())))
call PingMinimapEx(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),6,255,0,0,false)
endif
endfunction
function DQ9 takes nothing returns boolean
call UA7(GetTriggeringTrigger())
set I77[GetPlayerId(Z7[0])]=false
set I77[GetPlayerId(A7[0])]=false
set HB7[GetPlayerId(Z7[1])]=CreateLeaderboard()
set HB7[GetPlayerId(Z7[2])]=CreateLeaderboard()
set HB7[GetPlayerId(Z7[3])]=CreateLeaderboard()
set HB7[GetPlayerId(Z7[4])]=CreateLeaderboard()
set HB7[GetPlayerId(Z7[5])]=CreateLeaderboard()
set HB7[GetPlayerId(A7[1])]=CreateLeaderboard()
set HB7[GetPlayerId(A7[2])]=CreateLeaderboard()
set HB7[GetPlayerId(A7[3])]=CreateLeaderboard()
set HB7[GetPlayerId(A7[4])]=CreateLeaderboard()
set HB7[GetPlayerId(A7[5])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[1],HB7[GetPlayerId(Z7[1])])
call PlayerSetLeaderboard(Z7[2],HB7[GetPlayerId(Z7[2])])
call PlayerSetLeaderboard(Z7[3],HB7[GetPlayerId(Z7[3])])
call PlayerSetLeaderboard(Z7[4],HB7[GetPlayerId(Z7[4])])
call PlayerSetLeaderboard(Z7[5],HB7[GetPlayerId(Z7[5])])
call PlayerSetLeaderboard(A7[1],HB7[GetPlayerId(A7[1])])
call PlayerSetLeaderboard(A7[2],HB7[GetPlayerId(A7[2])])
call PlayerSetLeaderboard(A7[3],HB7[GetPlayerId(A7[3])])
call PlayerSetLeaderboard(A7[4],HB7[GetPlayerId(A7[4])])
call PlayerSetLeaderboard(A7[5],HB7[GetPlayerId(A7[5])])
call LeaderboardDisplay(HB7[GetPlayerId(Z7[1])],false)
call LeaderboardDisplay(HB7[GetPlayerId(Z7[2])],false)
call LeaderboardDisplay(HB7[GetPlayerId(Z7[3])],false)
call LeaderboardDisplay(HB7[GetPlayerId(Z7[4])],false)
call LeaderboardDisplay(HB7[GetPlayerId(Z7[5])],false)
call LeaderboardDisplay(HB7[GetPlayerId(A7[1])],false)
call LeaderboardDisplay(HB7[GetPlayerId(A7[2])],false)
call LeaderboardDisplay(HB7[GetPlayerId(A7[3])],false)
call LeaderboardDisplay(HB7[GetPlayerId(A7[4])],false)
call LeaderboardDisplay(HB7[GetPlayerId(A7[5])],false)
call LeaderboardSetLabelBJ(HB7[GetPlayerId(Z7[1])]," ")
call LeaderboardSetLabelBJ(HB7[GetPlayerId(Z7[2])]," ")
call LeaderboardSetLabelBJ(HB7[GetPlayerId(Z7[3])]," ")
call LeaderboardSetLabelBJ(HB7[GetPlayerId(Z7[4])]," ")
call LeaderboardSetLabelBJ(HB7[GetPlayerId(Z7[5])]," ")
call LeaderboardSetLabelBJ(HB7[GetPlayerId(A7[1])]," ")
call LeaderboardSetLabelBJ(HB7[GetPlayerId(A7[2])]," ")
call LeaderboardSetLabelBJ(HB7[GetPlayerId(A7[3])]," ")
call LeaderboardSetLabelBJ(HB7[GetPlayerId(A7[4])]," ")
call LeaderboardSetLabelBJ(HB7[GetPlayerId(A7[5])]," ")
return false
endfunction
function DR9 takes nothing returns nothing
local integer id=GetUnitTypeId(GetTriggerUnit())
if id==1697656914 or id==1697657137 or id==1697656915 or id==1697657145 or id==1966092365 or id==1966092356 or id==1966092366 or id==1966092372 then
if IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))then
set N04[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=N04[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
call BC7(L8,10,Q[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetKillingUnit())))])+"|r "+(GetObjectName((1848652880)))+".")
else
call BC7(L8,10,Q[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetKillingUnit())))])+"|r "+(GetObjectName((1848657230)))+".")
endif
endif
endfunction
function DS9 takes nothing returns nothing
if RW7(GetEnumUnit())and IsUnitAlly(GetEnumUnit(),Z7[0])==false and GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>0.5 then
call UnitRemoveAbility(GetEnumUnit(),1110456392)
call HD8(IZ4,GetEnumUnit(),ZH4,500)
endif
endfunction
function DT9 takes nothing returns nothing
if RW7(GetEnumUnit())and IsUnitAlly(GetEnumUnit(),A7[0])==false and GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>0.5 then
call UnitRemoveAbility(GetEnumUnit(),1110456392)
call HD8(JA4,GetEnumUnit(),ZH4,500)
endif
endfunction
function DU9 takes nothing returns boolean
local group g=CX7()
call GroupEnumUnitsInRect(g,OD,Condition(function ZV7))
call ForGroup(g,function DS9)
call CW7(g)
set g=CX7()
call GroupEnumUnitsInRect(g,PD,Condition(function ZV7))
call ForGroup(g,function DT9)
call CW7(g)
set g=null
return false
endfunction
function DV9 takes unit u returns boolean
return(GetUnitAbilityLevel((u),(1110454344))>0)or(GetUnitAbilityLevel((u),(1112500344))>0)or(GetUnitAbilityLevel((u),(1112560453))>0)or(GetUnitAbilityLevel((u),(1110456633))>0)or(GetUnitAbilityLevel((u),(1112757326))>0)or(GetUnitAbilityLevel((u),(1110459206))>0)or(GetUnitAbilityLevel((u),(1110458957))>0)or(GetUnitAbilityLevel((u),(1110455885))>0)or(GetUnitAbilityLevel((u),(1110456142))>0)or(GetUnitAbilityLevel((u),(1110456403))>0)or(GetUnitAbilityLevel((u),(1110454353))>0)or(GetUnitAbilityLevel((u),(1110455382))>0)or(GetUnitAbilityLevel((u),(1110456114))>0)or(GetUnitAbilityLevel((u),(1112891758))>0)or(GetUnitAbilityLevel((u),(1110456629))>0)or(GetUnitAbilityLevel((u),(1110455113))>0)or(GetUnitAbilityLevel((u),(1110458692))>0)or(GetUnitAbilityLevel((u),(1110458693))>0)or(GetUnitAbilityLevel((u),(1110458949))>0)or(GetUnitAbilityLevel((u),(1110458950))>0)or(GetUnitAbilityLevel((u),(1110454328))>0)or(GetUnitAbilityLevel((u),(1110455362))>0)or(GetUnitAbilityLevel((u),(1110454854))>0)or(GetUnitAbilityLevel((u),(1112896368))>0)or(GetUnitAbilityLevel((u),(1112896372))>0)or(GetUnitAbilityLevel((u),(1110459460))>0)or(UU7(u,"DisruptionState")==true)or(UU7(u,"AstralImprisonmentState")==true)or(GetUnitAbilityLevel((u),(1110459186))>0)or(GetUnitAbilityLevel((u),(1110455891))>0)or(GetUnitAbilityLevel((u),(1110454867))>0)or(GetUnitAbilityLevel((u),(1110456133))>0)
endfunction
function DW9 takes unit u returns boolean
return DV9(u)or FK8(u)or IsUnitPaused(u)or BW7(u)
endfunction
function DX9 takes unit PF7 returns boolean
return(IsUnitType(PF7,UNIT_TYPE_STUNNED)or IsUnitType(PF7,UNIT_TYPE_SNARED)or IsUnitType(PF7,UNIT_TYPE_POLYMORPHED)or GetUnitMoveSpeed(PF7)<290 or IsUnitPaused(PF7))or DV9(PF7)or FK8(PF7)
endfunction
function DY9 takes integer DZ9,integer DA9,boolean extraColor returns nothing
local integer x=0
loop
exitwhen x>15
call SetPlayerState(Player(x),PLAYER_STATE_RESOURCE_LUMBER,DZ9)
call SetPlayerState(Player(x),PLAYER_STATE_RESOURCE_FOOD_USED,DA9)
set x=x+1
endloop
endfunction
function DB9 takes unit u returns boolean
local integer id=GetUnitTypeId(u)
return id==1848652343 or id==1966092596 or id==1966092597 or id==1966092598 or id==1966092612 or id==1966092613 or id==1966092614 or id==1966092599 or id==1966092601 or id==1966092600 or id==1966092609 or id==1966092610 or id==1966092611
endfunction
function DC9 takes unit u,boolean b returns nothing
call SetUnitInvulnerable(u,b)
call SaveBoolean(L7,(GetHandleId(u)),(509),(b))
endfunction
function D39 takes unit u returns boolean
return(LoadBoolean(L7,(GetHandleId(u)),(509)))or GetUnitAbilityLevel(u,1098282348)>0
endfunction
function D69 takes real x,real y returns location
local real EH8
local real EI8
local integer i=0
loop
exitwhen i>40
set EH8=x+i*20
set EI8=y+i*20
if IsPointInRegion(IU4,EH8,EI8)==false then
return Location(EH8,EI8)
endif
set EH8=x+i*20
set EI8=y-i*20
if IsPointInRegion(IU4,EH8,EI8)==false then
return Location(EH8,EI8)
endif
set EH8=x-i*20
set EI8=y+i*20
if IsPointInRegion(IU4,EH8,EI8)==false then
return Location(EH8,EI8)
endif
set EH8=x-i*20
set EI8=y-i*20
if IsPointInRegion(IU4,EH8,EI8)==false then
return Location(EH8,EI8)
endif
set i=i+1
endloop
return Location(x,y)
endfunction
function DL9 takes unit EC8,integer H98,integer D19 returns nothing
local integer i
if W24[1]==0 then
return
endif
set i=1
loop
exitwhen i>10
call UnitRemoveAbility(EC8,W24[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call UnitRemoveAbility(EC8,W_4[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call UnitRemoveAbility(EC8,X44[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call UnitRemoveAbility(EC8,X74[i])
set i=i+1
endloop
call UnitRemoveAbility(EC8,1110458963)
if H98==1 then
call UnitAddAbility(EC8,W24[D19])
elseif H98==2 then
call UnitAddAbility(EC8,W_4[D19])
elseif H98==3 then
call UnitAddAbility(EC8,X44[D19])
elseif H98==4 then
call UnitAddAbility(EC8,X74[D19])
endif
endfunction
function D09 takes integer F48 returns nothing
set TE4=TE4+1
set TD4[TE4]=F48
endfunction
function D59 takes unit u returns nothing
local integer i=1
loop
exitwhen i>TE4
call UnitRemoveAbility(u,TD4[i])
set i=i+1
endloop
endfunction
function D29 takes integer o6 returns boolean
return o6==1095331943 or o6==1093677654 or o6==1094938741 or o6==1093744708 or o6==1093750613 or o6==1095328633 or o6==1093751617
endfunction
function D_9 takes unit m5 returns nothing
call UnitRemoveAbility(m5,1093749313)
call UnitRemoveAbility(m5,1110459204)
call UnitRemoveAbility(m5,1093749828)
call UnitRemoveAbility(m5,1097167980)
call DL9(m5,0,0)
endfunction
function E49 takes nothing returns boolean
if D29(GetSpellAbilityId())then
call D_9(GetSpellTargetUnit())
endif
return false
endfunction
function E79 takes integer E89 returns integer
if DV[E89]==0 then
return E89
else
return DV[E89]
endif
endfunction
function E99 takes nothing returns nothing
local integer ED9=R2I(TimerGetElapsed(W)-M_4)
local integer DZ9=ED9/60-1/2
local integer DA9=ModuloInteger(ED9,60)
if Y04 then
call DY9(DZ9,DA9,false)
elseif Q94==false then
set ED9=R2I(16-TimerGetElapsed(W))
set DZ9=ED9/ 60-1/ 2
set DA9=ModuloInteger(ED9,60)
call DY9(DZ9,DA9,true)
endif
set Bz=R2I(TimerGetElapsed(W)-N44)
set B=DZ9
set C=DA9
endfunction
function EE9 takes unit EF9,integer EG9 returns integer
local integer i
if EG9==1 then
if GetUnitAbilityLevel(EF9,1094004784)>0 then
return 500
endif
set i=KL4
loop
exitwhen i>K54
if GetUnitAbilityLevel(EF9,HM4[i])>0 then
return i
endif
set i=i+1
endloop
return 0
elseif EG9==2 then
if GetUnitAbilityLevel(EF9,1094004785)>0 then
return 500
endif
set i=KL4
loop
exitwhen i>K54
if GetUnitAbilityLevel(EF9,HN4[i])>0 then
return i
endif
set i=i+1
endloop
return 0
elseif EG9==3 then
if GetUnitAbilityLevel(EF9,1094004786)>0 then
return 500
endif
set i=KL4
loop
exitwhen i>K54
if GetUnitAbilityLevel(EF9,HO4[i])>0 then
return i
endif
set i=i+1
endloop
return 0
elseif EG9==4 then
if GetUnitAbilityLevel(EF9,1094004787)>0 then
return 500
endif
set i=KL4
loop
exitwhen i>K54
if GetUnitAbilityLevel(EF9,HP4[i])>0 or GetUnitAbilityLevel(EF9,HQ4[i])>0 then
return i
endif
set i=i+1
endloop
return 0
endif
return 0
endfunction
function EH9 takes item RA7 returns boolean
local integer EI9=RY7(RA7)
return EI9==FR4 or EI9==FS4 or EI9==FT4 or EI9==FU4 or EI9==FV4 or EI9==FW4 or EI9==FX4 or EI9==FY4 or EI9==FZ4 or EI9==FA4 or EI9==FB4 or EI9==F34 or EI9==F64 or EI9==FL4 or EI9==F14 or EI9==F04 or EI9==F54 or EI9==F24 or EI9==G44 or EI9==G74 or EI9==G84 or EI9==GD4 or EI9==GE4 or EI9==GG4 or EI9==GH4 or EI9==GI4 or EI9==GJ4 or EI9==GM4 or EI9==GN4 or EI9==GO4 or EI9==GP4 or EI9==GQ4 or EI9==GR4 or EI9==GS4 or EI9==GT4 or EI9==GK4 or EI9==GU4 or EI9==FC4 or EI9==GV4 or EI9==GW4 or EI9==GY4 or EI9==GZ4 or EI9==GA4 or EI9==G34 or EI9==GB4 or EI9==G64 or EI9==GX4 or EI9==GL4 or EI9==G14 or EI9==G04 or EI9==G54 or EI9==G24
endfunction
function EJ9 takes integer EI9 returns boolean
return EI9==DF4 or EI9==AC or EI9==OC or EI9==QC or EI9==TC or EI9==VC or EI9==WC or EI9==XC or EI9==YC or EI9==PC or EI9==LC or EI9==H3
endfunction
function EK9 takes integer EI9 returns boolean
return EI9==DY4 or EI9==VB or EI9==D1 or EI9==E1 or EI9==DI4 or EI9==X0 or EI9==CC or EI9==ZA or EI9==DT4 or EI9==YB
endfunction
function EM9 takes integer E89 returns integer
if TC==E89 then
return 3
endif
if VC==E89 or WC==E89 or BC==E89 or PC==E89 or LC==E89 then
return 2
endif
return 1
endfunction
function EN9 takes string winner returns nothing
local integer i
local player p
local string id
local integer D5=R2I(TimerGetElapsed(W)-M_4)
local integer EO9=D5/ 60-1/ 2
local integer DA9=ModuloInteger(D5,60)
call IE8()
set i=1
loop
exitwhen i>5
set p=Z7[i]
set id=I2S(GetPlayerId(p))
call StoreInteger(IV4,id,"1",(T[GetPlayerId((p))]))
call StoreInteger(IV4,id,"2",(V[GetPlayerId((p))]))
call StoreInteger(IV4,id,"3",(T7[GetPlayerId((p))]))
call StoreInteger(IV4,id,"4",(U7[GetPlayerId((p))]))
call StoreInteger(IV4,id,"5",(IU[GetPlayerId((p))]))
call StoreInteger(IV4,id,"6",(GetPlayerState((p),PLAYER_STATE_RESOURCE_GOLD)))
call StoreInteger(IV4,id,"7",(LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId((p)))),StringHash("NumOfNeutrals"))))
call StoreInteger(IV4,id,"8_0",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(0)))))
call StoreInteger(IV4,id,"8_1",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(1)))))
call StoreInteger(IV4,id,"8_2",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(2)))))
call StoreInteger(IV4,id,"8_3",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(3)))))
call StoreInteger(IV4,id,"8_4",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(4)))))
call StoreInteger(IV4,id,"8_5",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(5)))))
call StoreInteger(IV4,id,"9",(GetUnitTypeId(M7[GetPlayerId((p))])))
call StoreInteger(IV4,id,"id",i)
set p=A7[i]
set id=I2S(GetPlayerId(p))
call StoreInteger(IV4,id,"1",(T[GetPlayerId((p))]))
call StoreInteger(IV4,id,"2",(V[GetPlayerId((p))]))
call StoreInteger(IV4,id,"3",(T7[GetPlayerId((p))]))
call StoreInteger(IV4,id,"4",(U7[GetPlayerId((p))]))
call StoreInteger(IV4,id,"5",(IU[GetPlayerId((p))]))
call StoreInteger(IV4,id,"6",(GetPlayerState((p),PLAYER_STATE_RESOURCE_GOLD)))
call StoreInteger(IV4,id,"7",(LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId((p)))),StringHash("NumOfNeutrals"))))
call StoreInteger(IV4,id,"8_0",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(0)))))
call StoreInteger(IV4,id,"8_1",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(1)))))
call StoreInteger(IV4,id,"8_2",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(2)))))
call StoreInteger(IV4,id,"8_3",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(3)))))
call StoreInteger(IV4,id,"8_4",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(4)))))
call StoreInteger(IV4,id,"8_5",(GetItemTypeId(UnitItemInSlot(M7[GetPlayerId((p))],(5)))))
call StoreInteger(IV4,id,"9",(GetUnitTypeId(M7[GetPlayerId((p))])))
call StoreInteger(IV4,id,"id",i+5)
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"1")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"2")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"3")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"4")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"5")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"6")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"7")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_0")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_1")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_2")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_3")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_4")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"8_5")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"9")
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"id")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"1")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"2")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"3")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"4")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"5")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"6")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"7")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_0")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_1")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_2")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_3")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_4")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"8_5")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"9")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"id")
endif
set i=i+1
endloop
if O84==false then
call StoreInteger(IV4,"Global","Winner",O94)
call StoreInteger(IV4,"Global","m",EO9)
call StoreInteger(IV4,"Global","s",DA9)
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,"Global","Winner")
call SyncStoredInteger(IV4,"Global","m")
call SyncStoredInteger(IV4,"Global","s")
endif
endif
endfunction
function JW8 takes nothing returns nothing
call EN9("1")
endfunction
function EP9 takes nothing returns boolean
call ExecuteFunc("AE8")
return false
endfunction
function EQ9 takes nothing returns nothing
call L07(GetEnumUnit())
endfunction
function ER9 takes nothing returns nothing
local group g=CX7()
call GroupEnumUnitsInRange(g,0,0,12000,Condition(function F58))
call ForGroup(g,function EQ9)
call CW7(g)
set g=null
endfunction
function ES9 takes nothing returns nothing
call DisableTrigger(Q34)
call DisableTrigger(Q64)
call DisableTrigger(QL4)
call DisableTrigger(Q14)
call DisableTrigger(QZ4)
call DisableTrigger(GV7)
call DisableTrigger(QB4)
call DisableTrigger(EV7)
call DisableTrigger(Hn)
endfunction
function ET9 takes nothing returns nothing
set bj_changeLevelShowScores=true
call DisableTrigger(OE4)
call DisableTrigger(OF4)
call ExecuteFunc("EU9")
if V8 then
call DisableTrigger(NK4)
endif
call DisableTrigger(M24)
call ClearTextMessages()
call BC7(bj_FORCE_ALL_PLAYERS,60,B9+" "+(GetObjectName((1848653108)))+" www.getdota.com.")
set D9=true
call LK7()
call DisableTrigger(JS)
call DisableTrigger(FS)
call DisableTrigger(M54)
call LG7()
call ES9()
endfunction
function EV9 takes nothing returns nothing
local trigger t=CreateTrigger()
call PanCameraToTimed(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call TriggerRegisterTimerEvent(t,6.5,false)
call TriggerAddCondition(t,Condition(function EP9))
set O94=2
set B9="|c0020c000"+(GetObjectName((1848652623)))+"|r"
call ET9()
call ER9()
call EN9("2")
set t=null
endfunction
function EW9 takes nothing returns boolean
call SetUnitVertexColorBJ(J34,100,100,100,GetTriggerEvalCount(GetTriggeringTrigger()))
if GetTriggerEvalCount(GetTriggeringTrigger())==100 then
call ShowUnit(J34,false)
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function EX9 takes nothing returns nothing
local trigger t=CreateTrigger()
call PanCameraToTimed(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call TriggerRegisterTimerEvent(t,3.5,false)
call TriggerAddCondition(t,Condition(function EP9))
set O94=1
set B9="|c00ff0303"+(GetObjectName((1848652622)))+"|r"
call ET9()
call ER9()
call EN9("1")
call AddSpecialEffect("war3mapImported\\FrozenThronesDeath2.mdx",GetUnitX(J34)+150,GetUnitY(J34)+100)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function EW9))
set t=null
endfunction
function EY9 takes unit EZ9 returns boolean
local unit EA9=M7[GetPlayerId(GetOwningPlayer(EZ9))]
if((GetUnitX(EA9)-GetUnitX(EZ9))*(GetUnitX(EA9)-GetUnitX(EZ9))+(GetUnitY(EA9)-GetUnitY(EZ9))*(GetUnitY(EA9)-GetUnitY(EZ9))>=855625)then
set EA9=null
return true
endif
set EA9=null
return false
endfunction
function EB9 takes nothing returns nothing
local unit Z88=GetAttacker()
local integer EC9=UnitInventorySize(Z88)
local integer x=0
local item i
loop
exitwhen x>EC9
set i=UnitItemInSlot(Z88,x)
if RZ7(i)==UZ and GetRandomReal(0,1)<=0.2 and FU8(Z88)==false then
if F68(Z88)then
if EY9(Z88)==false then
if GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 then
call HD8(Z88,GetTriggerUnit(),ZH4,40)
endif
endif
else
if GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 then
call HD8(Z88,GetTriggerUnit(),ZH4,40)
endif
endif
endif
set x=x+1
endloop
set i=null
set Z88=null
endfunction
function E39 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real E69=(LoadReal(L7,(GetHandleId(EC8)),(692)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or E69<(TimerGetElapsed(W))then
call UnitRemoveAbility(EC8,1093809717)
call UnitRemoveAbility(EC8,1110456398)
call UnitRemoveAbility(EC8,1093809731)
call SaveReal(L7,(GetHandleId(EC8)),(692),((0)*1.0))
endif
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set EC8=null
return false
endfunction
function EL9 takes unit EC8 returns nothing
local trigger t
local integer OC7
local real E69=(LoadReal(L7,(GetHandleId(EC8)),(692)))
call SaveReal(L7,(GetHandleId(EC8)),(692),(((TimerGetElapsed(W))+LA4)*1.0))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,LA4+0.01,false)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerAddCondition(t,Condition(function E39))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call LM7(EC8,1093809717)
call LM7(EC8,1093809731)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809717,false)
set t=null
endfunction
function E19 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
if GetEventDamageSource()==EC8 and GetEventDamage()>0 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if DB9(O07)==false then
call EL9(O07)
endif
endif
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function E09 takes nothing returns nothing
local unit EC8=GetAttacker()
local unit O07=GetTriggerUnit()
local trigger t
local integer OC7
if UU7(EC8,"4309")==false then
call U67(EC8,"4309",0.2)
if GetRandomReal(0,100)<LZ4 then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function E19))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
endif
endif
set EC8=null
set O07=null
endfunction
function E59 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real E69=(LoadReal(L7,(GetHandleId(EC8)),(693)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or E69<(TimerGetElapsed(W))then
call UnitRemoveAbility(EC8,1093809718)
call UnitRemoveAbility(EC8,1110454857)
call UnitRemoveAbility(EC8,1093809731)
call SaveReal(L7,(GetHandleId(EC8)),(693),((0)*1.0))
endif
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set EC8=null
return false
endfunction
function E29 takes unit EC8 returns nothing
local trigger t
local integer OC7
local real E69=(LoadReal(L7,(GetHandleId(EC8)),(693)))
call SaveReal(L7,(GetHandleId(EC8)),(693),(((TimerGetElapsed(W))+LC4)*1.0))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,LC4+0.01,false)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerAddCondition(t,Condition(function E59))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call LM7(EC8,1093809718)
call LM7(EC8,1093809731)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809718,false)
set t=null
endfunction
function E_9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
if GetEventDamageSource()==EC8 and GetEventDamage()>0 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if DB9(O07)==false then
call E29(O07)
endif
endif
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function F49 takes nothing returns nothing
local unit EC8=GetAttacker()
local unit O07=GetTriggerUnit()
local trigger t
local integer OC7
if UU7(EC8,"4309")==false then
call U67(EC8,"4309",0.2)
if GetRandomReal(0,100)<LB4 then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function E_9))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
endif
endif
set EC8=null
set O07=null
endfunction
function F79 takes nothing returns nothing
local unit Z88=GetAttacker()
local integer F89=25
local integer id=GetPlayerId(GetOwningPlayer(GetAttacker()))
local integer UC7=GetHandleId(Z88)
local real B37=TimerGetElapsed(W)
local real F99=UO7(UC7,"bashertime")
local boolean FD9=UP7(UC7,"basheractive")
local boolean FE9=UP7(UC7,"basherremove")
local boolean FF9=B37<F99
local boolean FG9=false
if IsUnitType(Z88,UNIT_TYPE_MELEE_ATTACKER)==false then
set F89=10
endif
if GetRandomInt(0,100)<F89 then
set FG9=true
endif
if GetUnitAbilityLevel(Z88,1093683786)>0 or GetUnitAbilityLevel(Z88,1093679153)>0 or GetUnitAbilityLevel(Z88,1093682997)>0 or GetUnitAbilityLevel(Z88,1093679429)>0 then
call UnitRemoveAbility(Z88,1093744436)
set Z88=null
return
endif
if FD9 and FF9==false and FE9==false then
call TR7(UC7,"bashertime",(B37+2)*1.0)
if FG9==false then
call TT7(UC7,"basherremove",true)
endif
elseif FF9 or FE9 then
call UnitRemoveAbility(Z88,1093744436)
call TT7(UC7,"basheractive",false)
call TT7(UC7,"basherremove",false)
endif
if FG9 then
call LM7(Z88,1093744436)
call UnitMakeAbilityPermanent(Z88,true,1093744437)
call TT7(UC7,"basheractive",true)
endif
set Z88=null
endfunction
function FH9 takes real IH8 returns boolean
return(100*GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/ GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE))<IH8
endfunction
function AntiTK_Building takes nothing returns boolean
return FH9(10)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==true and GetUnitTypeId(GetTriggerUnit())!=1702129516 and GetUnitTypeId(GetTriggerUnit())!=1970172012
endfunction
function AntiTK_Hero takes nothing returns boolean
return FH9(25)and(GetUnitAbilityLevel(GetTriggerUnit(),1112433775)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1111847784)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110454321)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110458705)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110458704)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455620)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455629)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455630)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455631)>0)
endfunction
function AntiTK_Creep takes nothing returns boolean
return FH9(50)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false or GetUnitTypeId(GetTriggerUnit())==1700946284 or GetUnitTypeId(GetTriggerUnit())==1697657398 or GetUnitTypeId(GetTriggerUnit())==1970107511 or GetUnitTypeId(GetTriggerUnit())==1966092370)
endfunction
function AntiTK_Exception takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())==1966092371 or GetUnitTypeId(GetTriggerUnit())==1865429334 or UU7(GetAttacker(),"4328")==true
endfunction
function FI9 takes nothing returns nothing
if not((FH9(10)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==true and GetUnitTypeId(GetTriggerUnit())!=1702129516 and GetUnitTypeId(GetTriggerUnit())!=1970172012)or(FH9(25)and(GetUnitAbilityLevel(GetTriggerUnit(),1112433775)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1111847784)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110454321)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110458705)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110458704)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455620)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455629)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455630)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455631)>0))or(FH9(50)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false or GetUnitTypeId(GetTriggerUnit())==1700946284 or GetUnitTypeId(GetTriggerUnit())==1697657398 or GetUnitTypeId(GetTriggerUnit())==1970107511 or GetUnitTypeId(GetTriggerUnit())==1966092370))or(GetUnitTypeId(GetTriggerUnit())==1966092371 or GetUnitTypeId(GetTriggerUnit())==1865429334 or UU7(GetAttacker(),"4328")==true))then
call IssueImmediateOrder(GetAttacker(),"stop")
endif
endfunction
function FJ9 takes nothing returns boolean
if IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
call FI9()
elseif IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true or F68(GetAttacker())then
set OG4=GetPlayerId(GetOwningPlayer(GetAttacker()))
if RK4[OG4]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitIllusion(GetAttacker())==false and SR7(GetAttacker(),ZU[UZ])==true then
call EB9()
endif
if RO4[OG4]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and(SR7(GetAttacker(),ZU[WL])==true or SR7(GetAttacker(),ZU[U3])==true)then
call F79()
endif
if RR4[OG4]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and SR7(GetAttacker(),ZU[U1])==true then
call E09()
elseif(RS4[OG4]>0 or HL7[OG4]>0)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and(SR7(GetAttacker(),ZU[RL])==true or SR7(GetAttacker(),ZU[R3])==true)then
call F49()
endif
elseif GetUnitAbilityLevel(GetAttacker(),1093744467)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false then
call Z78()
endif
return false
endfunction
function FK9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT or UP7(GetHandleId(CO7),"PendingUnfreeze")==true then
if UP7(GetHandleId(CO7),"PendingUnfreeze")==true then
call TT7(GetHandleId(CO7),"PendingUnfreeze",false)
call UY7(CO7,"Frozen")
call UnitRemoveAbility(CO7,1093678162)
call DC9(CO7,false)
call PauseUnit(CO7,false)
call TN7(UC7)
call UA7(t)
elseif GetSpellTargetUnit()==CO7 and GetSpellAbilityId()==vw and(GetPlayerSlotState(GetOwningPlayer((CO7)))==PLAYER_SLOT_STATE_LEFT)and UU7(CO7,"Frozen")==true then
call UY7(CO7,"Frozen")
call UnitRemoveAbility(CO7,1093678162)
call DC9(CO7,false)
call PauseUnit(CO7,false)
call TN7(UC7)
call UA7(t)
endif
elseif LO7(CO7)==false then
call SetUnitX(CO7,x)
call SetUnitY(CO7,y)
call UW7(CO7,"Frozen")
call UnitAddAbility(CO7,1093678162)
call DC9(CO7,true)
call PauseUnit(CO7,true)
endif
set CO7=null
set t=null
return false
endfunction
function FM9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=GetSpellTargetUnit()
call TT7(GetHandleId(CO7),"PendingUnfreeze",false)
call UW7(CO7,"Frozen")
call UnitAddAbility(CO7,1093678162)
call DC9(CO7,true)
call PauseUnit(CO7,true)
call TU7(UC7,"Hero",CO7)
call TR7(UC7,"x",GetUnitX(CO7)*1.0)
call TR7(UC7,"y",GetUnitY(CO7)*1.0)
call TriggerRegisterTimerEvent(t,1.,true)
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FK9))
set t=null
set CO7=null
endfunction
function FN9 takes nothing returns boolean
if GetSpellAbilityId()==TU and(GetPlayerSlotState(GetOwningPlayer((GetSpellTargetUnit())))==PLAYER_SLOT_STATE_LEFT)and UU7(GetSpellTargetUnit(),"Frozen")==false then
call FM9()
elseif(GetSpellAbilityId()==vw or GetSpellAbilityId()==TU)and(GetPlayerSlotState(GetOwningPlayer((GetSpellTargetUnit())))==PLAYER_SLOT_STATE_LEFT)==false then
call L27(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848652366))))
endif
return false
endfunction
function FO9 takes destructable d returns boolean
local real x=GetDestructableX(d)
local real y=GetDestructableY(d)
local group g=CX7()
local boolean FP9
call GroupEnumUnitsInRange(g,x,y,250,Condition(function GQ8))
set FP9=FirstOfGroup(g)!=null
call CW7(g)
set g=null
return FP9
endfunction
function FQ9 takes nothing returns nothing
if BV7(GetEnumDestructable())and GetDestructableLife(GetEnumDestructable())<1 and GetDestructableTypeId(GetEnumDestructable())!=1110454322 and GetDestructableTypeId(GetEnumDestructable())!=1110454323 then
if FO9(GetEnumDestructable())==false then
call DestructableRestoreLife(GetEnumDestructable(),GetDestructableMaxLife(GetEnumDestructable()),false)
if PW[GetPlayerId(GetLocalPlayer())]==1 and GetDestructableTypeId(GetEnumDestructable())==1096053874 then
call SetDestructableAnimation(GetEnumDestructable(),"stand alternate")
endif
endif
endif
endfunction
function FR9 takes nothing returns nothing
call EnumDestructablesInRectAll(bj_mapInitialPlayableArea,function FQ9)
endfunction
function FS9 takes unit it,unit m5 returns boolean
local integer i=GetUnitAbilityLevel(it,1093742674)
local integer j=GetUnitLevel(m5)
return(i>0)and((j<=2)or(i>1 and j<=i+2))
endfunction
function FT9 takes nothing returns boolean
local unit FU9=GetAttacker()
local unit FV9=GetTriggerUnit()
local integer i1=GetUnitTypeId(FU9)
local integer O5=GetPlayerId(GetOwningPlayer(FU9))
if GetUnitTypeId(FV9)==1848651852 then
if IsUnitIllusion(FU9)==true then
call KillUnit(FU9)
elseif IsUnitInRegion(ow,FU9)==false then
call L27(GetOwningPlayer(FU9),(GetObjectName((1848652597))))
call IssueImmediateOrder(FU9,"stop")
endif
elseif((i1==1430467634)and(Bz>TC4[16+O5])and((GetUnitTypeId(FV9)==1852010091)or(GetUnitTypeId(FV9)==1852534636))and Z17(GetOwningPlayer(FU9)))then
if FS9(FU9,FV9)then
call S27(FU9,852600,1093742674,FV9)
endif
elseif((i1==1430467634)and(Bz>TC4[16+O5])and Z17(GetOwningPlayer(FU9))and(GetRandomInt(1,4)==1)and(not IsUnitType(FV9,UNIT_TYPE_MECHANICAL))and(not IsUnitType(FV9,UNIT_TYPE_ANCIENT))and GetUnitTypeId(FV9)!=1848658008 and GetUnitTypeId(FV9)!=1852796263 and GetUnitTypeId(FV9)!=1852207221 and GetUnitTypeId(FV9)!=1853060204 and GetUnitTypeId(FV9)!=1853055348 and GetUnitTypeId(FV9)!=1853060200 and GetUnitTypeId(FV9)!=1848651859 and GetUnitTypeId(FV9)!=1852207976 and GetUnitTypeId(FV9)!=1852272243 and GetUnitTypeId(FV9)!=1852270641 and GetUnitTypeId(FV9)!=1852798821 and GetUnitTypeId(FV9)!=1852077175 and GetUnitTypeId(FV9)!=1853320295)then
if FS9(FU9,FV9)then
call S27(FU9,852600,1093742674,FV9)
endif
elseif((i1==1429221443)and Z17(GetOwningPlayer(FU9))and(not IsUnitType(FV9,UNIT_TYPE_MECHANICAL))and(not IsUnitType(FV9,UNIT_TYPE_ANCIENT))and(GetUnitTypeId(FV9)==1852010091)or(GetUnitTypeId(FV9)==1852534636)or GetUnitTypeId(FV9)==1848658008 or GetUnitTypeId(FV9)==1852796263 or GetUnitTypeId(FV9)==1852207221 or GetUnitTypeId(FV9)==1853060204 or GetUnitTypeId(FV9)==1853055348 or GetUnitTypeId(FV9)==1853060200 or GetUnitTypeId(FV9)==1848651859 or GetUnitTypeId(FV9)==1852207976 or GetUnitTypeId(FV9)==1852272243 or GetUnitTypeId(FV9)==1852270641 or GetUnitTypeId(FV9)==1852798821 or GetUnitTypeId(FV9)==1852077175 or GetUnitTypeId(FV9)==1853320295)then
if(GetUnitAbilityLevel(FU9,1093686103)>1)then
call S27(FU9,852600,1093686103,FV9)
endif
elseif((i1==1211117653)and Z17(GetOwningPlayer(FU9)))then
if((Bz>TC4[128+O5])and(AO7(FU9,LQ4,LQ4,LR4,1093686865)))then
call S27(FU9,852490,1093686865,FU9)
elseif(Bz>TC4[64+O5])and(AO7(FU9,LR4,LR4,LP4,1093686863))then
call IssueImmediateOrderById(FU9,852132)
endif
endif
set FU9=null
set FV9=null
return false
endfunction
function FW9 takes nothing returns nothing
local unit FX9=GetSummonedUnit()
local unit EC8=GetSummoningUnit()
local string fx=""
if IsPlayerEnemy(GetLocalPlayer(),GetOwningPlayer(EC8))and CM7(GetLocalPlayer())==false then
set fx="war3mapImported\\WardMark_T2.mdx"
endif
call AddSpecialEffectTarget(fx,FX9,"origin")
set FX9=null
set EC8=null
endfunction
function FY9 takes nothing returns boolean
return true
endfunction
function FZ9 takes unit CO7,unit FA9 returns nothing
local integer FB9
local item FC9
if GetUnitTypeId(GetSummonedUnit())==1865429044 then
set FB9=ZU[VC]
else
set FB9=ZU[WC]
endif
call DisableTrigger(H94)
set FC9=SV7(CO7,FB9)
if FC9==null then
set IR4=GetOwningPlayer(CO7)
set HA4=CreateItem(FB9,0,0)
call UnitAddItem(CO7,HA4)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
else
call SetItemCharges(FC9,GetItemCharges(FC9)+1)
endif
call EnableTrigger(H94)
set FC9=null
endfunction
function F39 takes nothing returns nothing
local unit FA9=GetSummonedUnit()
local unit CO7=GetSummoningUnit()
if GetUnitTypeId(GetSummonedUnit())==1865429044 or GetUnitTypeId(GetSummonedUnit())==1868921189 then
if IsUnitInRegion(ow,FA9)then
call FZ9(CO7,FA9)
call RemoveUnit(FA9)
elseif RW7(CO7)then
call FZ9(CO7,FA9)
call L27(GetOwningPlayer(FA9),"Couriers cannot place wards")
call RemoveUnit(FA9)
else
call FW9()
endif
elseif GetUnitTypeId(FA9)==1869836340 or GetUnitTypeId(FA9)==1865429048 or GetUnitTypeId(FA9)==1865429049 or GetUnitTypeId(FA9)==1865429315 or GetUnitTypeId(FA9)==1865429316 or GetUnitTypeId(FA9)==1865429317 then
call SelectUnitAddForPlayer(FA9,GetOwningPlayer(FA9))
elseif GetUnitTypeId(FA9)==1865429040 or GetUnitTypeId(FA9)==1865429041 or GetUnitTypeId(FA9)==1865429057 or GetUnitTypeId(FA9)==1865429080 then
call SelectUnitAddForPlayer(FA9,GetOwningPlayer(FA9))
endif
set CO7=null
set FA9=null
endfunction
function F69 takes unit CO7 returns real
local real FL9
if ZC7(GetOwningPlayer(CO7))then
set FL9=GetRectCenterX(ED)
else
set FL9=GetRectCenterX(L9)
endif
return FL9
endfunction
function F19 takes unit CO7 returns real
local real FL9
if ZC7(GetOwningPlayer(CO7))then
set FL9=GetRectCenterY(ED)
else
set FL9=GetRectCenterY(L9)
endif
return FL9
endfunction
function F09 takes unit CO7,integer n5,integer F59 returns item
local real x=F69(CO7)
local real y=F19(CO7)
local item W38=CreateItem(n5,x,y)
local integer i=0
local boolean array F29
local item Z4
set K27=IR4
call DisableTrigger(H94)
if n5>0 then
loop
exitwhen i>(UnitInventorySize(CO7)-1)
if UnitItemInSlot(CO7,i)==null and i!=F59 then
set Z4=CreateItem(1227895373,x,y)
call UnitAddItem(CO7,Z4)
set F29[i]=true
else
set F29[i]=false
endif
if i==F59 then
call EnableTrigger(H94)
call UnitAddItem(CO7,W38)
call DisableTrigger(H94)
endif
set i=i+1
endloop
set i=0
loop
exitwhen i>5
if F29[i]==true then
call RemoveItem(UnitItemInSlot(CO7,i))
endif
set i=i+1
endloop
endif
call EnableTrigger(H94)
set HA4=W38
set W38=null
set Z4=null
return HA4
endfunction
function F_9 takes unit EC8 returns boolean
local integer OC7=GetHandleId(EC8)
local integer i=0
local real BV8=(TimerGetElapsed(W))
local real G49=10
loop
exitwhen i>2
if(LoadReal(L7,(OC7),(730+i)))<BV8-G49 then
return false
endif
set i=i+1
endloop
return true
endfunction
function G79 takes unit EC8 returns nothing
local integer OC7=GetHandleId(EC8)
local integer G89=(LoadInteger(L7,(OC7),(729)))
call SaveReal(L7,(OC7),(730+G89),(((TimerGetElapsed(W)))*1.0))
set G89=G89+1
if G89==3 then
set G89=0
endif
call SaveInteger(L7,(OC7),(729),(G89))
endfunction
function G99 takes unit CC7 returns nothing
local integer i=0
local item GD9
local integer EI9
local boolean GE9=false
if F_9(CC7)then
set GE9=true
endif
loop
exitwhen i>5
set GD9=UnitItemInSlot(CC7,i)
set EI9=RZ7(GD9)
if EI9==LB and GE9==true then
call DisableTrigger(H94)
set IR4=GetItemPlayer(GD9)
call RemoveItem(GD9)
set HA4=F09(CC7,ZU[EC],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
if EI9==EC and GE9==false then
call DisableTrigger(H94)
set IR4=GetItemPlayer(GD9)
call RemoveItem(GD9)
set HA4=F09(CC7,ZU[LB],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
set i=i+1
endloop
set CC7=null
set GD9=null
endfunction
function ZH8 takes nothing returns nothing
if GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and(Z67(GetOwningPlayer(GetEventDamageSource()))or GetUnitTypeId(GetEventDamageSource())==1848651852)then
if WV4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false then
call SaveReal(L7,(GetHandleId(GetTriggerUnit())),(785),(((TimerGetElapsed(W)))*1.0))
if GetEventDamage()>20 then
call G79(GetTriggerUnit())
endif
endif
endif
endfunction
function GF9 takes unit CO7 returns nothing
local integer i=0
local item GG9
local integer E89
local boolean GH9=false
if(LoadReal(L7,(GetHandleId(CO7)),(785)))+3>(TimerGetElapsed(W))then
set GH9=true
endif
loop
exitwhen i>5
set GG9=UnitItemInSlot(CO7,i)
set E89=RZ7(GG9)
if E89==RW and GH9==true then
call DisableTrigger(H94)
set IR4=GetItemPlayer(GG9)
call RemoveItem(GG9)
set HA4=F09(CO7,ZU[TW],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
if E89==TW and GH9==false then
call DisableTrigger(H94)
set IR4=GetItemPlayer(GG9)
call RemoveItem(GG9)
set HA4=F09(CO7,ZU[RW],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
set i=i+1
endloop
set CO7=null
set GG9=null
endfunction
function GI9 takes unit CO7 returns nothing
local integer i=0
local item GJ9
local integer E89
local boolean GK9=false
local real GM9=4
if IsUnitType(CO7,UNIT_TYPE_MELEE_ATTACKER)==false then
set GM9=6
endif
if(LoadReal(L7,(GetHandleId(CO7)),(785)))+GM9>(TimerGetElapsed(W))then
set GK9=true
endif
loop
exitwhen i>5
set GJ9=UnitItemInSlot(CO7,i)
set E89=RZ7(GJ9)
if E89==R2 and GK9==true then
call DisableTrigger(H94)
set IR4=GetItemPlayer(GJ9)
call RemoveItem(GJ9)
set HA4=F09(CO7,ZU[S2],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
if E89==S2 and GK9==false then
call DisableTrigger(H94)
set IR4=GetItemPlayer(GJ9)
call RemoveItem(GJ9)
set HA4=F09(CO7,ZU[R2],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call EnableTrigger(H94)
endif
set i=i+1
endloop
set CO7=null
set GJ9=null
endfunction
function GN9 takes nothing returns nothing
local unit CC7=GetEnumUnit()
local integer id=GetPlayerId(GetOwningPlayer(CC7))
if RM4[id]>0 and CC7!=null and GetUnitTypeId(CC7)>1 and IsUnitType(CC7,UNIT_TYPE_DEAD)==false then
call GF9(CC7)
endif
if RQ4[id]>0 and CC7!=null and GetUnitTypeId(CC7)>1 and IsUnitType(CC7,UNIT_TYPE_DEAD)==false then
call GI9(CC7)
endif
if H57[id]>0 and CC7!=null and GetUnitTypeId(CC7)>1 and IsUnitType(CC7,UNIT_TYPE_DEAD)==false then
call G99(CC7)
endif
set CC7=null
endfunction
function GO9 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and GetUnitTypeId(GetFilterUnit())!=1211117642 and GetUnitTypeId(GetFilterUnit())!=1211122232
endfunction
function GP9 takes nothing returns boolean
local integer i=1
local unit CC7
local integer id
local group g
if HF4>0 or HI4>0 or H67>0 then
set g=CX7()
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function GO9))
loop
exitwhen i>5
set id=GetPlayerId(Z7[i])
set CC7=M7[id]
call GroupAddUnit(g,CC7)
set id=GetPlayerId(A7[i])
set CC7=M7[id]
call GroupAddUnit(g,CC7)
set i=i+1
endloop
call ForGroup(g,function GN9)
call CW7(g)
set g=null
endif
set CC7=null
return false
endfunction
function GQ9 takes nothing returns nothing
local unit CO7=GetFilterUnit()
local integer i=0
local item W38
local integer E89
loop
exitwhen i>5
set W38=UnitItemInSlot(CO7,i)
set E89=RY7(W38)
if(E89==AZ or E89==BZ or E89==CZ)and GetItemUserData(W38)>0 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",CO7,"overhead"))
call L57(GetOwningPlayer(CO7),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
set IR4=GetItemPlayer(W38)
call RX7(W38)
set HA4=F09(CO7,ZU[IA],i)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
set i=i+1
endloop
set CO7=null
set W38=null
endfunction
function GR9 takes nothing returns boolean
if UnitInventorySize(GetFilterUnit())>0 and ZC7(GetOwningPlayer(GetFilterUnit()))and IsUnitIllusion(GetFilterUnit())==false and LO7(GetFilterUnit())==false then
call GQ9()
endif
return false
endfunction
function GS9 takes nothing returns boolean
if UnitInventorySize(GetFilterUnit())>0 and Z37(GetOwningPlayer(GetFilterUnit()))and IsUnitIllusion(GetFilterUnit())==false and LO7(GetFilterUnit())==false then
call GQ9()
endif
return false
endfunction
function GT9 takes nothing returns boolean
local group g=CX7()
call GroupEnumUnitsInRange(g,IX4,IY4,750,Condition(function GR9))
call CW7(g)
set g=CX7()
call GroupEnumUnitsInRange(g,JY4,JZ4,750,Condition(function GS9))
call CW7(g)
set g=null
return false
endfunction
function GU9 takes unit u returns unit
if IsUnitType(u,UNIT_TYPE_HERO)or GetUnitAbilityLevel(u,1093678162)==0 then
return u
else
return M7[GetPlayerId(GetOwningPlayer(u))]
endif
endfunction
function GV9 takes nothing returns boolean
if IsUnitType(GetKillingUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetDyingUnit(),GetOwningPlayer(GetKillingUnit()))==false then
if GetUnitTypeId(GetTriggerUnit())==1848651850 then
call HD8(GetDyingUnit(),GU9(GetKillingUnit()),ZI4,400)
elseif GetUnitTypeId(GetTriggerUnit())==1848651841 then
call HD8(GetDyingUnit(),GU9(GetKillingUnit()),ZI4,500)
elseif GetUnitTypeId(GetTriggerUnit())==1848651830 then
call HD8(GetDyingUnit(),GU9(GetKillingUnit()),ZI4,600)
endif
endif
return false
endfunction
function GW9 takes nothing returns boolean
return GetUnitTypeId(GetEnteringUnit())==1697656901 or GetUnitTypeId(GetEnteringUnit())==1697657394
endfunction
function GX9 takes nothing returns nothing
call ShowUnitHide(GetEnteringUnit())
call SetUnitPathing(GetEnteringUnit(),false)
call SetUnitInvulnerable(GetEnteringUnit(),true)
if(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)then
call UnitApplyTimedLifeBJ(20.,1112820806,GetEnteringUnit())
else
call TriggerSleepAction(10.)
if((GetUnitTypeId(GetEnteringUnit())==1697656901)or(GetUnitTypeId(GetEnteringUnit())==1697657394))then
call UnitApplyTimedLifeBJ(10.,1112820806,GetEnteringUnit())
endif
endif
endfunction
function GY9 takes nothing returns boolean
return((GetUnitTypeId(GetDyingUnit())==1697656914)or(GetUnitTypeId(GetDyingUnit())==1697657137)or(GetUnitTypeId(GetDyingUnit())==1697656915)or(GetUnitTypeId(GetDyingUnit())==1697657145))
endfunction
function GZ9 takes nothing returns nothing
if IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))then
set gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
if(GetDyingUnit()==JG4)then
call II8("Tower"+I2S(0)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DC9(JJ4,false)
call BG7(GetKillingUnit(),1)
set P64=1
elseif(GetDyingUnit()==JH4)then
call II8("Tower"+I2S(0)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DC9(JK4,false)
call BG7(GetKillingUnit(),1)
set P34=1
elseif(GetDyingUnit()==JI4)then
call II8("Tower"+I2S(0)+I2S(1)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DC9(JM4,false)
call BG7(GetKillingUnit(),1)
set PL4=1
elseif(GetDyingUnit()==JJ4)then
call II8("Tower"+I2S(0)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DC9(JN4,false)
call BG7(GetKillingUnit(),2)
set P64=2
elseif(GetDyingUnit()==JK4)then
call II8("Tower"+I2S(0)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DC9(JO4,false)
call BG7(GetKillingUnit(),2)
set P34=2
elseif(GetDyingUnit()==JM4)then
call II8("Tower"+I2S(0)+I2S(2)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DC9(JP4,false)
call BG7(GetKillingUnit(),2)
set PL4=2
elseif(GetDyingUnit()==JN4)then
call II8("Tower"+I2S(0)+I2S(3)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BG7(GetKillingUnit(),3)
call DC9(JS4,false)
call DC9(JV4,false)
call DC9(JQ4,false)
call DC9(JR4,false)
call DC9(WP,false)
call DC9(zP,false)
call DC9(vq,false)
call DC9(eq,false)
call DC9(fP,false)
call DC9(FP,false)
call DC9(lP,false)
call DC9(LP,false)
call DC9(MP,false)
call DC9(pP,false)
call DC9(PP,false)
call DC9(qP,false)
call DC9(QP,false)
call DC9(sP,false)
call DC9(tP,false)
set P64=3
elseif(GetDyingUnit()==JO4)then
call II8("Tower"+I2S(0)+I2S(3)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BG7(GetKillingUnit(),3)
call DC9(JT4,false)
call DC9(JW4,false)
call DC9(JQ4,false)
call DC9(JR4,false)
call DC9(WP,false)
call DC9(zP,false)
call DC9(vq,false)
call DC9(eq,false)
call DC9(fP,false)
call DC9(FP,false)
call DC9(lP,false)
call DC9(LP,false)
call DC9(MP,false)
call DC9(pP,false)
call DC9(PP,false)
call DC9(qP,false)
call DC9(QP,false)
call DC9(sP,false)
call DC9(tP,false)
set P34=3
elseif(GetDyingUnit()==JP4)then
call II8("Tower"+I2S(0)+I2S(3)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BG7(GetKillingUnit(),3)
call DC9(JU4,false)
call DC9(JX4,false)
call DC9(JQ4,false)
call DC9(JR4,false)
call DC9(WP,false)
call DC9(zP,false)
call DC9(vq,false)
call DC9(eq,false)
call DC9(fP,false)
call DC9(FP,false)
call DC9(lP,false)
call DC9(LP,false)
call DC9(MP,false)
call DC9(pP,false)
call DC9(PP,false)
call DC9(qP,false)
call DC9(QP,false)
call DC9(sP,false)
call DC9(tP,false)
set PL4=3
endif
if GetDyingUnit()==JQ4 or GetDyingUnit()==JR4 then
call II8("Tower"+I2S(0)+I2S(4)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BG7(GetKillingUnit(),4)
endif
if(((GetDyingUnit()==JQ4)and(IsUnitDeadBJ(JR4)))or((GetDyingUnit()==JR4)and(IsUnitDeadBJ(JQ4))))then
call DC9(JF4,false)
set PW4=false
endif
endfunction
function GA9 takes nothing returns boolean
return((GetUnitTypeId(GetDyingUnit())==1966092365)or(GetUnitTypeId(GetDyingUnit())==1966092356)or(GetUnitTypeId(GetDyingUnit())==1966092366)or(GetUnitTypeId(GetDyingUnit())==1966092372))
endfunction
function GB9 takes nothing returns nothing
if IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))then
set gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
endif
if(GetDyingUnit()==J64)then
call II8("Tower"+I2S(1)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DC9(J04,false)
call BG7(GetKillingUnit(),1)
set P04=1
elseif(GetDyingUnit()==JL4)then
call II8("Tower"+I2S(1)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DC9(J54,false)
call BG7(GetKillingUnit(),1)
set P14=1
elseif(GetDyingUnit()==J14)then
call II8("Tower"+I2S(1)+I2S(1)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DC9(J24,false)
call BG7(GetKillingUnit(),1)
set P54=1
elseif(GetDyingUnit()==J04)then
call II8("Tower"+I2S(1)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DC9(J_4,false)
call BG7(GetKillingUnit(),2)
set P04=2
elseif(GetDyingUnit()==J54)then
call II8("Tower"+I2S(1)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DC9(K44,false)
call BG7(GetKillingUnit(),2)
set P14=2
elseif(GetDyingUnit()==J24)then
call II8("Tower"+I2S(1)+I2S(2)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call DC9(K74,false)
call BG7(GetKillingUnit(),2)
set P54=2
elseif(GetDyingUnit()==J_4)then
call II8("Tower"+I2S(1)+I2S(3)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BG7(GetKillingUnit(),3)
call DC9(KD4,false)
call DC9(KG4,false)
call DC9(K84,false)
call DC9(K94,false)
call DC9(ot,false)
call DC9(rt,false)
call DC9(at,false)
call DC9(Vt,false)
call DC9(PS,false)
call DC9(QS,false)
call DC9(SS,false)
call DC9(tS,false)
call DC9(TS,false)
call DC9(US,false)
call DC9(WS,false)
call DC9(ZS,false)
call DC9(vt,false)
call DC9(et,false)
call DC9(xt,false)
set P04=3
elseif(GetDyingUnit()==K44)then
call II8("Tower"+I2S(1)+I2S(3)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BG7(GetKillingUnit(),3)
call DC9(KE4,false)
call DC9(KH4,false)
call DC9(K84,false)
call DC9(K94,false)
call DC9(ot,false)
call DC9(rt,false)
call DC9(at,false)
call DC9(Vt,false)
call DC9(PS,false)
call DC9(QS,false)
call DC9(SS,false)
call DC9(tS,false)
call DC9(TS,false)
call DC9(US,false)
call DC9(WS,false)
call DC9(ZS,false)
call DC9(vt,false)
call DC9(et,false)
call DC9(xt,false)
set P14=3
elseif(GetDyingUnit()==K74)then
call II8("Tower"+I2S(1)+I2S(3)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BG7(GetKillingUnit(),3)
call DC9(KF4,false)
call DC9(KI4,false)
call DC9(K84,false)
call DC9(K94,false)
call DC9(ot,false)
call DC9(rt,false)
call DC9(at,false)
call DC9(Vt,false)
call DC9(PS,false)
call DC9(QS,false)
call DC9(SS,false)
call DC9(tS,false)
call DC9(TS,false)
call DC9(US,false)
call DC9(WS,false)
call DC9(ZS,false)
call DC9(vt,false)
call DC9(et,false)
call DC9(xt,false)
set P54=3
endif
if GetDyingUnit()==K84 or GetDyingUnit()==K94 then
call II8("Tower"+I2S(1)+I2S(4)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
call BG7(GetKillingUnit(),4)
endif
if(((GetDyingUnit()==K94)and(IsUnitDeadBJ(K84)))or((GetDyingUnit()==K84)and(IsUnitDeadBJ(K94))))then
call DC9(J34,false)
set PX4=false
endif
endfunction
function GC9 takes nothing returns boolean
local integer x=0
if GetPlayerSlotState(Z7[1])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(Z7[2])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(Z7[3])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(Z7[4])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(Z7[5])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(A7[1])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(A7[2])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(A7[3])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(A7[4])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
if GetPlayerSlotState(A7[5])==PLAYER_SLOT_STATE_EMPTY then
set x=x+1
endif
return x==9
endfunction
function Ve takes nothing returns boolean
return bj_isSinglePlayer and GC9()
endfunction
function G39 takes nothing returns nothing
set Y_4=true
endfunction
function G69 takes nothing returns nothing
set H84=false
endfunction
function GL9 takes nothing returns boolean
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false then
call KillUnit(GetFilterUnit())
endif
return false
endfunction
function G19 takes nothing returns nothing
local group g=CX7()
call GroupEnumUnitsOfPlayer(g,A7[0],Condition(function GL9))
call CW7(g)
set g=null
set Y9=true
endfunction
function G09 takes nothing returns nothing
local group g=CX7()
call GroupEnumUnitsOfPlayer(g,Z7[0],Condition(function GL9))
call CW7(g)
set g=null
set Y9=true
endfunction
function G59 takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==1865429044 or GetUnitTypeId(GetFilterUnit())==1868921189 then
call KillUnit(GetFilterUnit())
endif
return false
endfunction
function G29 takes nothing returns nothing
local group g=CX7()
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function G59))
call CW7(g)
set g=null
set Y9=true
endfunction
function G_9 takes nothing returns nothing
set B4=false
endfunction
function H49 takes nothing returns nothing
set B4=true
endfunction
function H79 takes nothing returns nothing
call G09()
call G19()
set Y9=true
endfunction
function H89 takes nothing returns nothing
local string H99=SubString(GetEventPlayerChatString(),5,StringLength(GetEventPlayerChatString()))
local integer HD9=S2I(H99)
if HD9<0 or HD9>24 then
set HD9=0
endif
call SetFloatGameState(GAME_STATE_TIME_OF_DAY,HD9)
set Y9=true
endfunction
function HE9 takes nothing returns boolean
if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true then
call SetHeroLevel(GetFilterUnit(),GetHeroLevel(GetFilterUnit())+DO8(IH4,1),true)
endif
return false
endfunction
function HF9 takes nothing returns nothing
local string HG9=SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString()))
local integer HH9=S2I(HG9)
local group g=CX7()
if SubString(GetEventPlayerChatString(),0,9)!="-lvlupall" and SubString(GetEventPlayerChatString(),0,9)!="-lvlupfor" then
if HH9<1 then
set HH9=1
endif
set IH4=HH9
call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function HE9))
endif
call CW7(g)
set g=null
set Y9=true
endfunction
function HI9 takes nothing returns nothing
call TriggerExecute(JS)
set Y9=true
endfunction
function HJ9 takes nothing returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(GetFilterUnit()))
if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true then
set hq[O5]=0.
set hq[16+O5]=0.
set hq[32+O5]=0.
set TC4[O5]=0.
set TC4[16+O5]=0.
set TC4[32+O5]=0.
set TC4[48+O5]=0.
call UnitResetCooldown(GetFilterUnit())
call TimerStart(N84[GetPlayerId((GetOwningPlayer(GetFilterUnit())))],0,false,null)
call SetUnitState(GetFilterUnit(),UNIT_STATE_LIFE,GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_LIFE))
call SetUnitState(GetFilterUnit(),UNIT_STATE_MANA,GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_MANA))
endif
return false
endfunction
function HK9 takes nothing returns nothing
local group g=CX7()
call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function HJ9))
call CW7(g)
set g=null
set Y9=true
endfunction
function HM9 takes nothing returns nothing
if Y54 then
return
endif
call KillUnit(M7[GetPlayerId(GetTriggerPlayer())])
set Y9=true
endfunction
function HN9 takes nothing returns nothing
local string nQ=SubString(GetEventPlayerChatString(),5,StringLength(GetEventPlayerChatString()))
local integer hY=S2I(nQ)
call SetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)+hY)
set Y9=true
endfunction
function HO9 takes nothing returns nothing
local unit BO8=M7[GetPlayerId(GetTriggerPlayer())]
local player CX8=GetTriggerPlayer()
local location BT8
if Z37(CX8)then
set BT8=GetRectCenter(L9)
else
set BT8=GetRectCenter(ED)
endif
if D9==false and LO7(BO8)then
call JB8(BO8,CX8,GetLocationX(BT8),GetLocationY(BT8),true)
if BN8(BO8)==false or GetUnitAbilityLevel(BO8,1093684567)==0 then
call ReviveHeroLoc(BO8,BT8,true)
else
call BS8(BO8,BT8)
endif
endif
call RemoveLocation(BT8)
set BO8=null
set CX8=null
set BT8=null
endfunction
function HP9 takes nothing returns nothing
local unit EC8=M7[GetPlayerId(GetTriggerPlayer())]
local player HQ9
local unit HR9
local real x=GetRectCenterX(QD)
local real y=GetRectCenterX(QD)
if Z37(GetOwningPlayer(EC8))then
set HQ9=Z7[1]
else
set HQ9=A7[1]
endif
set HR9=CreateUnit(HQ9,1211117616,x,y,0)
call SetHeroLevel(HR9,10,false)
set EC8=null
set HR9=null
set HQ9=null
endfunction
function HS9 takes nothing returns nothing
call TriggerEvaluate(H04)
endfunction
function HT9 takes nothing returns nothing
call TriggerEvaluate(MS)
endfunction
function HU9 takes nothing returns nothing
call FR9()
endfunction
function HV9 takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local integer UP
local integer O5
local player pl
local group g
if(VH=="-testhelp")then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Commands (XX = 2-digit Player Number, ##### = Amount): -gold #####, -goldall #####, -goldforXX #####, -lvlup ##, -lvlupall ##, -lvlupforXX, -spawncreeps, -powerup, -neutrals, -refresh, -refreshall, -kill, -kill XX, -killsent, -killscourge, -killall, -rechoose, -fog, -time ##, -noherolimit, -trees, -killwards, -spawnoff, -spawnon")
elseif(VH=="-rechoose")then
if((not A8)and(not D4)and(not RZ4)and(not O04)and(not W8)and(not O9)and(not H34))then
set G9=true
set I[GetPlayerId(GetTriggerPlayer())]=false
set T9=false
set F9=true
set W4[GetPlayerId(GetTriggerPlayer())]=false
set oo[GetPlayerId(GetTriggerPlayer())]=false
set P9[GetPlayerId(GetTriggerPlayer())]=false
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Some restrictions in repicking/randoming are removed. You may now use -repick/-random")
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Cannot enable repicking/randoming.")
endif
elseif(SubString(VH,0,9)=="-goldall ")then
set UP=S2I(SubString(VH,9,StringLength(VH)))
set O5=1
loop
call SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+UP)
set O5=O5+1
exitwhen O5>11
endloop
elseif(SubString(VH,0,8)=="-goldfor")then
set pl=R27(S2I(SubString(VH,8,StringLength(VH))))
if((pl!=null)and(Z07(pl)))then
set UP=S2I(SubString(VH,10,StringLength(VH)))
call SetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+UP)
endif
elseif(SubString(VH,0,9)=="-lvlupall")then
set O5=S2I(SubString(GetEventPlayerChatString(),9,StringLength(GetEventPlayerChatString())))
if O5<1 then
set O5=1
endif
set IH4=O5
set g=CX7()
call GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,Condition(function HE9))
call CW7(g)
elseif(SubString(VH,0,9)=="-lvlupfor")then
set pl=R27(S2I(SubString(VH,9,StringLength(VH))))
if((pl!=null)and(Z07(pl)))then
call SetHeroLevel(M7[GetPlayerId(pl)],GetHeroLevel(M7[GetPlayerId(pl)])+1,true)
endif
elseif(VH=="-refreshall")then
set g=CX7()
call GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,Condition(function HJ9))
call CW7(g)
elseif(SubString(VH,0,6)=="-kill ")then
set pl=R27(S2I(SubString(VH,6,StringLength(VH))))
if((pl!=null)and(Z07(pl)))then
call KillUnit(M7[GetPlayerId(pl)])
endif
elseif(VH=="-fog")then
call FogEnable(not IsFogEnabled())
call FogMaskEnable(not IsFogMaskEnabled())
endif
set g=null
set pl=null
endfunction
function HW9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer O5=1
loop
if(ZL7(Player(O5)))then
call TriggerRegisterPlayerChatEvent(t,Player(O5),"-",false)
endif
set O5=O5+1
exitwhen O5>11
endloop
call TriggerAddAction(t,function HV9)
set t=null
endfunction
function HX9 takes nothing returns boolean
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"**** REMINDER ****")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"Single player commands enabled. You may use commands like -lvlup xx, -refresh, -spawncreeps, -powerup, -neutrals, -kill, -gold xxxx, -time xx, -killsent, -killscourge, -killall, -noherolimit, -trees, -killwards, -spawnoff, -spawnon, -roshan, -respawn, -dummy")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"**** REMINDER ****")
return false
endfunction
function HY9 takes nothing returns nothing
local player OnlyPlayer=Le
local trigger t
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"Single player commands enabled. You may use commands like -lvlup xx, -refresh, -spawncreeps, -powerup, -neutrals, -kill, -gold xxxx, -time xx, -killsent, -killscourge, -killall, -noherolimit, -trees, -killwards, -spawnoff, -spawnon, -roshan, -respawn, -dummy")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.,"For more info about the commands, type -testhelp.
    
    ")
set t=CreateTrigger()
call TriggerAddCondition(t,Condition(function HX9))
call TriggerRegisterTimerEvent(t,GetRandomReal(60,100),false)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-lvlup",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-lvlup",false)
call TriggerAddAction(t,function HF9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-spawncreeps",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-spawncreeps",true)
call TriggerAddAction(t,function HI9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-refresh",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-refresh",true)
call TriggerAddAction(t,function HK9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-kill",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-kill",true)
call TriggerAddAction(t,function HM9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-gold",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-gold",false)
call TriggerAddAction(t,function HN9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-time",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-time",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-time",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-time",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-time",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-time",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-time",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-time",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-time",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-time",false)
call TriggerAddAction(t,function H89)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-powerup",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-powerup",false)
call TriggerAddAction(t,function HS9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-killall",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-killall",true)
call TriggerAddAction(t,function H79)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-killsent",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-killsent",true)
call TriggerAddAction(t,function G09)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-killscourge",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-killscourge",true)
call TriggerAddAction(t,function G19)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-neutrals",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-neutrals",false)
call TriggerAddAction(t,function HT9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-noherolimit",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-noherolimit",true)
call TriggerAddAction(t,function G69)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-trees",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-trees",true)
call TriggerAddAction(t,function HU9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-killwards",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-killwards",true)
call TriggerAddAction(t,function G29)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-spawnoff",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-spawnoff",true)
call TriggerAddAction(t,function H49)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-spawnon",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-spawnon",true)
call TriggerAddAction(t,function G_9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-roshan",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-roshan",true)
call TriggerAddAction(t,function G39)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-respawn",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-respawn",true)
call TriggerAddAction(t,function HO9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-dummy",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-dummy",true)
call TriggerAddAction(t,function HP9)
call HW9()
set uy=true
set t=null
endfunction
function VB8 takes nothing returns nothing
call TimerStart(CreateTimer(),5,not uy,function VB8)
endfunction
function HZ9 takes nothing returns boolean
return not P
endfunction
function nt takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit nT=U87(UC7,"Unit")
local integer O5=GetPlayerId(GetOwningPlayer(nT))
set hq[O5]=0.
set hq[16+O5]=0.
set hq[32+O5]=0.
set TC4[O5]=0.
set TC4[16+O5]=0.
set TC4[32+O5]=0.
set TC4[48+O5]=0.
if GetUnitTypeId(nT)!=1852010352 then
call UnitResetCooldown(nT)
call SetUnitManaPercentBJ(nT,100)
endif
call TN7(UC7)
call UA7(t)
set t=null
set nT=null
return false
endfunction
function nu takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function nt))
call TU7(UC7,"Unit",GetTriggerUnit())
set t=null
endfunction
function HA9 takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer nv=P8(X7)+P8(Y7)
local integer NumRequired=DN8(nv,nv/2+1)
local integer UC7=GetHandleId(t)
local integer nV=UN7(UC7,"ExecCount")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.," ")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90.,"WTF mode activated. In this mode spells have no cooldown or manacost.")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90.,"This is a FOR FUN ONLY mode.")
set PT4=true
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(t,function nu)
set t=null
endfunction
function HB9 takes nothing returns boolean
if W98(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false then
call H68(GetOwningPlayer(GetTriggerUnit()))
call II8("Level"+I2S(GetHeroLevel(GetTriggerUnit())),GetPlayerId(GetOwningPlayer(GetTriggerUnit())))
endif
return false
endfunction
function nw takes nothing returns nothing
call HY9()
call UA7(GetTriggeringTrigger())
endfunction
function HC9 takes nothing returns boolean
if P==false and Ve()==false then
call nw()
endif
return false
endfunction
function H39 takes nothing returns boolean
return GetOwningPlayer(GetTriggerUnit())==B7
endfunction
function H69 takes nothing returns nothing
call SaveInteger(L7,StringHash("Stats"+I2S(GetPlayerId(GetOwningPlayer(GetKillingUnit())))),StringHash("NumOfNeutrals"),((LoadInteger(L7,StringHash("Stats"+I2S(GetPlayerId(GetOwningPlayer(GetKillingUnit())))),StringHash("NumOfNeutrals")))+1))
endfunction
function HL9 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",Z)
elseif GetOwningPlayer(GetTriggerUnit())==A7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",vv)
endif
return false
endfunction
function H19 takes nothing returns nothing
set E7=E7+1
endfunction
function H09 takes nothing returns nothing
set D7=D7+1
endfunction
function H59 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",ev)
endif
return false
endfunction
function H29 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==A7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",ev)
endif
return false
endfunction
function H_9 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",ov)
endif
return false
endfunction
function I49 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==A7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",ov)
endif
return false
endfunction
function I79 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",rv)
endif
return false
endfunction
function I89 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==A7[0]then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",rv)
endif
return false
endfunction
function I99 takes nothing returns nothing
local integer i=1
local integer id
loop
exitwhen i>5
set id=GetPlayerId(Z7[i])
call II8("CSK"+I2S(id),T7[id])
call II8("CSD"+I2S(id),U7[id])
set id=GetPlayerId(A7[i])
call II8("CSK"+I2S(id),T7[id])
call II8("CSD"+I2S(id),U7[id])
set i=i+1
endloop
endfunction
function ID9 takes boolean FD9 returns nothing
local unit u
local string IE9="stand work alternate"
local string IF9="stand work"
local string IG9="stand alternate"
local string IH9="stand"
set u=JS4
if LO7(u)==false then
if FD9 then
call SetUnitAnimation(u,IE9)
else
call SetUnitAnimation(u,IG9)
endif
endif
set u=JT4
if LO7(u)==false then
if FD9 then
call SetUnitAnimation(u,IE9)
else
call SetUnitAnimation(u,IG9)
endif
endif
set u=JU4
if LO7(u)==false then
if FD9 then
call SetUnitAnimation(u,IE9)
else
call SetUnitAnimation(u,IG9)
endif
endif
set u=JV4
if LO7(u)==false then
if FD9 then
call SetUnitAnimation(u,IE9)
else
call SetUnitAnimation(u,IG9)
endif
endif
set u=JW4
if LO7(u)==false then
if FD9 then
call SetUnitAnimation(u,IE9)
else
call SetUnitAnimation(u,IG9)
endif
endif
set u=JX4
if LO7(u)==false then
if FD9 then
call SetUnitAnimation(u,IE9)
else
call SetUnitAnimation(u,IG9)
endif
endif
set u=KD4
if LO7(u)==false then
if FD9 then
call SetUnitAnimation(u,IF9)
else
call SetUnitAnimation(u,IH9)
endif
endif
set u=KE4
if LO7(u)==false then
if FD9 then
call SetUnitAnimation(u,IF9)
else
call SetUnitAnimation(u,IH9)
endif
endif
set u=KF4
if LO7(u)==false then
if FD9 then
call SetUnitAnimation(u,IF9)
else
call SetUnitAnimation(u,IH9)
endif
endif
set u=KG4
if LO7(u)==false then
if FD9 then
call SetUnitAnimation(u,IF9)
else
call SetUnitAnimation(u,IH9)
endif
endif
set u=KH4
if LO7(u)==false then
if FD9 then
call SetUnitAnimation(u,IF9)
else
call SetUnitAnimation(u,IH9)
endif
endif
set u=KI4
if LO7(u)==false then
if FD9 then
call SetUnitAnimation(u,IF9)
else
call SetUnitAnimation(u,IH9)
endif
endif
set u=null
endfunction
function II9 takes nothing returns boolean
call ID9(true)
return false
endfunction
function Trig_Spawn_Conditions takes nothing returns boolean
if(P74)then
return F0
elseif(P84)then
return gH
elseif O04 then
return Fz
elseif(P4 or VT)then
return oH
endif
return O
endfunction
function IJ9 takes group IK9,integer IM9 returns nothing
local unit u
loop
set u=FirstOfGroup(IK9)
exitwhen(u==null)
call GroupRemoveUnit(IK9,u)
call SetUnitAbilityLevel(u,N8,IM9)
endloop
endfunction
function IN9 takes nothing returns nothing
local boolean IO9=ModuloInteger(GetTriggerExecCount(JS),7)==0
if B4 then
return
endif
call ID9(false)
if IO9 then
call I99()
endif
if GetTriggerExecCount(JS)==1 and PE4==false then
call UnitResetCooldown(KU4[1])
call UnitResetCooldown(KU4[2])
call UnitResetCooldown(KU4[3])
call UnitResetCooldown(KU4[4])
call UnitResetCooldown(KU4[5])
call UnitResetCooldown(KU4[7])
call UnitResetCooldown(KU4[8])
call UnitResetCooldown(KU4[9])
call UnitResetCooldown(KU4[10])
call UnitResetCooldown(KU4[11])
call DC9(JG4,false)
call DC9(JH4,false)
call DC9(JI4,false)
call DC9(J64,false)
call DC9(JL4,false)
call DC9(J14,false)
elseif GetTriggerExecCount(JS)==1 and PE4 then
call DC9(JH4,false)
call DC9(JL4,false)
endif
if GetTriggerExecCount(JS)==1 then
call EnableTrigger(M54)
endif
if PE4==false and PH4==false then
if(Rv)then
call CreateNUnitsAtLoc(D7,1969711215,A7[0],lv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1966092337,A7[0],lv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Av)then
call CreateNUnitsAtLoc(D7,1969711215,A7[0],Jv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1966092337,A7[0],Jv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(Nv)then
call CreateNUnitsAtLoc(D7,1969711215,A7[0],Lv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1966092337,A7[0],Lv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,4)
endif
if PE4==false and PH4==false then
if(av)then
call CreateNUnitsAtLoc(E7,1970169187,A7[0],qv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092338,A7[0],qv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Ev)then
call CreateNUnitsAtLoc(E7,1970169187,A7[0],mv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092338,A7[0],mv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(Ov)then
call CreateNUnitsAtLoc(E7,1970169187,A7[0],pv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092338,A7[0],pv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,4)
endif
if IO9 then
if PE4==false and PH4==false then
if(av)then
call CreateNUnitsAtLoc(E7,1970107511,A7[0],qv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092370,A7[0],qv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Ev)then
call CreateNUnitsAtLoc(E7,1970107511,A7[0],mv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092370,A7[0],mv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(Ov)then
call CreateNUnitsAtLoc(E7,1970107511,A7[0],pv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1966092370,A7[0],pv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,4)
endif
endif
if PE4==false and PH4==false then
if(Cv)then
call CreateNUnitsAtLoc(D7,1702061422,Z7[0],tv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1697656918,Z7[0],tv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Dv)then
call CreateNUnitsAtLoc(D7,1702061422,Z7[0],Qv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1697656918,Z7[0],Qv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(fv)then
call CreateNUnitsAtLoc(D7,1702061422,Z7[0],sv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(D7,1697656918,Z7[0],sv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,4)
endif
if PE4==false and PH4==false then
if(bv)then
call CreateNUnitsAtLoc(E7,1701081721,Z7[0],Wv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697656919,Z7[0],Wv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Bv)then
call CreateNUnitsAtLoc(E7,1701081721,Z7[0],Tv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697656919,Z7[0],Tv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(cv)then
call CreateNUnitsAtLoc(E7,1701081721,Z7[0],Uv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697656919,Z7[0],Uv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,4)
endif
if IO9 then
if PE4==false and PH4==false then
if(cv)then
call CreateNUnitsAtLoc(E7,1700946284,Z7[0],Wv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697657398,Z7[0],Wv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,2)
endif
if PG4==false then
if(Bv)then
call CreateNUnitsAtLoc(E7,1700946284,Z7[0],Tv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697657398,Z7[0],Tv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,3)
endif
if PE4==false and PF4==false then
if(cv)then
call CreateNUnitsAtLoc(E7,1700946284,Z7[0],Uv,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(E7,1697657398,Z7[0],Uv,bj_UNIT_FACING)
endif
call IJ9(bj_lastCreatedGroup,4)
endif
endif
endfunction
function IP9 takes nothing returns nothing
set av=false
call DisableTrigger(cA)
call II8("Rax"+I2S(0)+I2S(0)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IQ9 takes nothing returns nothing
set Ev=false
call DisableTrigger(CA)
call II8("Rax"+I2S(0)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IR9 takes nothing returns nothing
set Ov=false
call DisableTrigger(dA)
call II8("Rax"+I2S(0)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IS9 takes nothing returns nothing
set Rv=false
call DisableTrigger(DA)
call II8("Rax"+I2S(0)+I2S(0)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IT9 takes nothing returns nothing
set Av=false
call DisableTrigger(fA)
call II8("Rax"+I2S(0)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IU9 takes nothing returns nothing
set Nv=false
call DisableTrigger(FA)
call II8("Rax"+I2S(0)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IV9 takes nothing returns nothing
set bv=false
call DisableTrigger(gA)
call II8("Rax"+I2S(1)+I2S(0)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IW9 takes nothing returns nothing
set Bv=false
call DisableTrigger(GA)
call II8("Rax"+I2S(1)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IX9 takes nothing returns nothing
set cv=false
call DisableTrigger(LA)
call II8("Rax"+I2S(1)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IY9 takes nothing returns nothing
set Cv=false
call DisableTrigger(mA)
call II8("Rax"+I2S(1)+I2S(0)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IZ9 takes nothing returns nothing
set Dv=false
call DisableTrigger(MA)
call II8("Rax"+I2S(1)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IA9 takes nothing returns nothing
set fv=false
call DisableTrigger(PA)
call II8("Rax"+I2S(1)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction
function IB9 takes nothing returns boolean
local real IC9=GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/ GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)
if IC9<0.75 and iW==false then
set iW=true
call II8("Tree",75)
endif
if IC9<0.50 and rW==false then
set rW=true
call II8("Tree",50)
endif
if IC9<0.25 and oW==false then
set oW=true
call II8("Tree",25)
endif
if IC9<0.10 and eW==false then
set eW=true
call II8("Tree",10)
endif
return false
endfunction
function I39 takes nothing returns boolean
local real IC9=GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/ GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)
if IC9<0.75 and vW==false then
set vW=true
call II8("Throne",75)
endif
if IC9<0.50 and zw==false then
set zw=true
call II8("Throne",50)
endif
if IC9<0.25 and Uw==false then
set Uw=true
call II8("Throne",25)
endif
if IC9<0.10 and tw==false then
set tw=true
call II8("Throne",10)
endif
return false
endfunction
function I69 takes nothing returns boolean
if(Cv or Dv or fv or bv or Bv or cv)then
return false
endif
return true
endfunction
function IL9 takes nothing returns nothing
call BC7(bj_FORCE_ALL_PLAYERS,20.00,(GetObjectName((1848652879)))+" "+(GetObjectName((1848656695))))
call SetPlayerTechResearchedSwap(1378889796,(GetPlayerTechCountSimple(1378889796,Z7[0])+30),Z7[0])
call SetPlayerTechResearchedSwap(1378889795,(GetPlayerTechCountSimple(1378889795,Z7[0])+30),Z7[0])
call DisableTrigger(SA)
endfunction
function I19 takes nothing returns boolean
if(Rv or Av or Nv or av or Ev or Ov)then
return false
endif
return true
endfunction
function I09 takes nothing returns nothing
call BC7(bj_FORCE_ALL_PLAYERS,20.00,(GetObjectName((1848652888)))+" "+(GetObjectName((1848656697))))
call SetPlayerTechResearchedSwap(1378889785,(GetPlayerTechCountSimple(1378889785,A7[0])+30),A7[0])
call SetPlayerTechResearchedSwap(1378889794,(GetPlayerTechCountSimple(1378889794,A7[0])+30),A7[0])
call DisableTrigger(TA)
endfunction
function I59 takes nothing returns nothing
call SetPlayerTechResearchedSwap(1378889783,(GetPlayerTechCountSimple(1378889783,Z7[0])+1),Z7[0])
call SetPlayerTechResearchedSwap(1378889795,(GetPlayerTechCountSimple(1378889795,Z7[0])+1),Z7[0])
call SetPlayerTechResearchedSwap(1378889784,(GetPlayerTechCountSimple(1378889784,Z7[0])+1),Z7[0])
call SetPlayerTechResearchedSwap(1378889796,(GetPlayerTechCountSimple(1378889796,Z7[0])+1),Z7[0])
call SetPlayerTechResearchedSwap(1378889785,(GetPlayerTechCountSimple(1378889785,A7[0])+1),A7[0])
call SetPlayerTechResearchedSwap(1378889779,(GetPlayerTechCountSimple(1378889779,A7[0])+1),A7[0])
call SetPlayerTechResearchedSwap(1378889793,(GetPlayerTechCountSimple(1378889793,A7[0])+1),A7[0])
call SetPlayerTechResearchedSwap(1378889794,(GetPlayerTechCountSimple(1378889794,A7[0])+1),A7[0])
endfunction
function I29 takes nothing returns nothing
local location I_9=GetRectCenter(QD)
call RemoveUnit(CreateUnitAtLoc(B7,1851941999,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1851942003,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852273524,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1848652342,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852270450,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1851941995,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1851946861,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852794733,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852796263,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852207203,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852207221,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1853060200,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1853060204,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1853055348,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1853320295,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852534636,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852534626,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852534644,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852010091,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852007790,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852272243,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852208226,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852207976,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852270641,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852860012,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852798821,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852798818,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852666477,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852666482,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852666476,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852077170,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1852077175,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1848659011,I_9,bj_UNIT_FACING))
call RemoveUnit(CreateUnitAtLoc(B7,1848659012,I_9,bj_UNIT_FACING))
call RemoveLocation(I_9)
set I_9=null
endfunction
function J49 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1848658007,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848658008,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848658007,x,y,0),x,y)
endfunction
function J79 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852466993,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852466993,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852467041,x,y,0),x,y)
endfunction
function J89 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1851941999,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1851941999,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1851942003,x,y,0),x,y)
endfunction
function J99 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1851941995,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1851941995,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1851946861,x,y,0),x,y)
endfunction
function JD9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852273524,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852273524,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852270450,x,y,0),x,y)
endfunction
function AncientLizards_AI takes nothing returns boolean
call UA7(GetTriggeringTrigger())
call IssueTargetOrder(GetTriggerUnit(),"unholyfrenzy",GetTriggerUnit())
return false
endfunction
function JE9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1848659011,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848659012,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848659012,x,y,0),x,y)
endfunction
function JF9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852794733,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852794733,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852796263,x,y,0),x,y)
endfunction
function JG9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852207203,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852207221,x,y,0),x,y)
endfunction
function JH9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1853060200,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853060204,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853055348,x,y,0),x,y)
endfunction
function JI9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1853060204,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853060204,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853055348,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853055348,x,y,0),x,y)
endfunction
function JJ9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1853320295,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1853320295,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848651859,x,y,0),x,y)
endfunction
function JK9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1848652342,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1848652342,x,y,0),x,y)
endfunction
function JM9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852534636,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852534626,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852534626,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852534626,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852534644,x,y,0),x,y)
endfunction
function JN9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852208226,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852208226,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852207976,x,y,0),x,y)
endfunction
function JO9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852007790,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852010091,x,y,0),x,y)
endfunction
function JP9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852272243,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852272243,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852272243,x,y,0),x,y)
endfunction
function JQ9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852208226,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852208226,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852534636,x,y,0),x,y)
endfunction
function JR9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852270641,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852860012,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852860012,x,y,0),x,y)
endfunction
function JS9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852798821,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852798818,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852798818,x,y,0),x,y)
endfunction
function JT9 takes real x,real y returns nothing
call SetUnitPosition(CreateUnit(B7,1852077170,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852077170,x,y,0),x,y)
call SetUnitPosition(CreateUnit(B7,1852077175,x,y,0),x,y)
endfunction
function JU9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JG9(x,y)
elseif D5==2 then
call JH9(x,y)
elseif D5==3 then
call JS9(x,y)
elseif D5==4 then
call JT9(x,y)
elseif D5==5 then
call JO9(x,y)
endif
endfunction
function JV9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JG9(x,y)
elseif D5==2 then
call JH9(x,y)
elseif D5==3 then
call JS9(x,y)
elseif D5==4 then
call JT9(x,y)
elseif D5==5 then
call JO9(x,y)
endif
endfunction
function JW9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JG9(x,y)
elseif D5==2 then
call JH9(x,y)
elseif D5==3 then
call JS9(x,y)
elseif D5==4 then
call JT9(x,y)
elseif D5==5 then
call JO9(x,y)
endif
endfunction
function JX9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JG9(x,y)
elseif D5==2 then
call JH9(x,y)
elseif D5==3 then
call JS9(x,y)
elseif D5==4 then
call JT9(x,y)
elseif D5==5 then
call JO9(x,y)
endif
endfunction
function JY9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JK9(x,y)
elseif D5==2 then
call JF9(x,y)
elseif D5==3 then
call JI9(x,y)
elseif D5==4 then
call JJ9(x,y)
elseif D5==5 then
call JO9(x,y)
endif
endfunction
function JZ9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JK9(x,y)
elseif D5==2 then
call JF9(x,y)
elseif D5==3 then
call JI9(x,y)
elseif D5==4 then
call JJ9(x,y)
elseif D5==5 then
call JO9(x,y)
endif
endfunction
function JA9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JK9(x,y)
elseif D5==2 then
call JF9(x,y)
elseif D5==3 then
call JI9(x,y)
elseif D5==4 then
call JJ9(x,y)
elseif D5==5 then
call JO9(x,y)
endif
endfunction
function JB9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call JK9(x,y)
elseif D5==2 then
call JF9(x,y)
elseif D5==3 then
call JI9(x,y)
elseif D5==4 then
call JJ9(x,y)
elseif D5==5 then
call JO9(x,y)
endif
endfunction
function JC9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,6)
if D5==1 then
call JR9(x,y)
elseif D5==2 then
call JQ9(x,y)
elseif D5==3 then
call JP9(x,y)
elseif D5==4 then
call JM9(x,y)
elseif D5==5 then
call JN9(x,y)
elseif D5==6 then
call J49(x,y)
endif
endfunction
function J39 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,6)
if D5==1 then
call JR9(x,y)
elseif D5==2 then
call JQ9(x,y)
elseif D5==3 then
call JP9(x,y)
elseif D5==4 then
call JM9(x,y)
elseif D5==5 then
call JN9(x,y)
elseif D5==6 then
call J49(x,y)
endif
endfunction
function J69 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call J79(x,y)
elseif D5==2 then
call J89(x,y)
elseif D5==3 then
call J99(x,y)
elseif D5==4 then
call JD9(x,y)
elseif D5==5 then
call JE9(x,y)
endif
endfunction
function JL9 takes real x,real y returns nothing
local integer D5=GetRandomInt(1,5)
if D5==1 then
call J79(x,y)
elseif D5==2 then
call J89(x,y)
elseif D5==3 then
call J99(x,y)
elseif D5==4 then
call JD9(x,y)
elseif D5==5 then
call JE9(x,y)
endif
endfunction
function J19 takes nothing returns nothing
if GetUnitAbilityLevel(GetEnumUnit(),1093685300)!=0 then
call GroupRemoveUnit(R8,GetEnumUnit())
endif
if GetUnitTypeId(GetEnumUnit())==1865429043 then
call GroupRemoveUnit(R8,GetEnumUnit())
endif
if LO7(GetEnumUnit())==true then
call GroupRemoveUnit(R8,GetEnumUnit())
endif
endfunction
function J09 takes group g returns boolean
set R8=g
call ForGroup(g,function J19)
return FirstOfGroup(g)==null
endfunction
function J59 takes nothing returns boolean
local group g
local rect r1
local rect r2
if oy==false then
return false
endif
set r1=Sr
set r2=Br
set g=CX7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZV7))
if J09(g)then
call J69(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CW7(g)
set r1=Ur
set r2=cr
set g=CX7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZV7))
if J09(g)then
call JL9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CW7(g)
set r1=Wr
set r2=Cr
set g=CX7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZV7))
if J09(g)then
call JU9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CW7(g)
set r1=zr
set r2=fr
set g=CX7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZV7))
if J09(g)then
call JW9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CW7(g)
set r1=Zr
set r2=Fr
set g=CX7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZV7))
if J09(g)then
call JZ9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CW7(g)
set r1=vi
set r2=Hr
set g=CX7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZV7))
if J09(g)then
call JY9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CW7(g)
set r1=ei
set r2=jr
set g=CX7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZV7))
if J09(g)then
call JA9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CW7(g)
set r1=oi
set r2=Jr
set g=CX7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZV7))
if J09(g)then
call JB9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CW7(g)
set r1=xi
set r2=lr
set g=CX7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZV7))
if J09(g)then
call JX9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CW7(g)
set r1=ai
set r2=mr
set g=CX7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZV7))
if J09(g)then
call JC9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CW7(g)
set r1=Ai
set r2=Ni
set g=CX7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZV7))
if J09(g)then
call J39(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CW7(g)
set r1=bi
set r2=Bi
set g=CX7()
call GroupEnumUnitsInRect(g,r1,Condition(function ZV7))
if J09(g)then
call JV9(GetRectCenterX(r2),GetRectCenterY(r2))
endif
call CW7(g)
set r1=null
set r2=null
set g=null
return false
endfunction
function J29 takes nothing returns nothing
local integer A57=GetRandomInt(1,9)
local location l
if PE4 then
set A57=GetRandomInt(1,3)
if A57==1 then
set A57=2
endif
if A57==2 then
set A57=5
endif
if A57==3 then
set A57=8
endif
endif
if(A57==1)then
set l=GetRectCenter(BE)
call CreateNUnitsAtLoc(1,1848651827,Z7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653105))))
call IJ9(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(A57==2)then
set l=GetRectCenter(bE)
call CreateNUnitsAtLoc(1,1848651827,Z7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653106))))
call IJ9(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(A57==3)then
set l=GetRectCenter(AE)
call CreateNUnitsAtLoc(1,1848651827,Z7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653107))))
call IJ9(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
if(A57==4)then
set l=GetRectCenter(BE)
call CreateNUnitsAtLoc(1,1848651845,Z7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653112))))
call IJ9(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(A57==5)then
set l=GetRectCenter(bE)
call CreateNUnitsAtLoc(1,1848651845,Z7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848652890))))
call IJ9(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(A57==6)then
set l=GetRectCenter(AE)
call CreateNUnitsAtLoc(1,1848651845,Z7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653111))))
call IJ9(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
if(A57==7)and PE4==false then
set l=GetRectCenter(BE)
call CreateNUnitsAtLoc(1,1848651844,Z7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653110))))
call IJ9(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(A57==8)and PE4==false then
set l=GetRectCenter(bE)
call CreateNUnitsAtLoc(1,1848651844,Z7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848652884))))
call IJ9(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(A57==9)then
set l=GetRectCenter(AE)
call CreateNUnitsAtLoc(1,1848651844,Z7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848653123))))
call IJ9(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
if(A57==1)then
set l=GetRectCenter(OE)
call CreateNUnitsAtLoc(1,1848651827,A7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656708))))
call IJ9(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(A57==2)then
set l=GetRectCenter(XE)
call CreateNUnitsAtLoc(1,1848651827,A7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656709))))
call IJ9(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(A57==3)then
set l=GetRectCenter(IE)
call CreateNUnitsAtLoc(1,1848651827,A7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656707))))
call IJ9(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
if(A57==4)then
set l=GetRectCenter(OE)
call CreateNUnitsAtLoc(1,1848651845,A7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656711))))
call IJ9(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(A57==5)then
set l=GetRectCenter(XE)
call CreateNUnitsAtLoc(1,1848651845,A7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656712))))
call IJ9(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(A57==6)then
set l=GetRectCenter(IE)
call CreateNUnitsAtLoc(1,1848651845,A7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656710))))
call IJ9(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
if(A57==7)then
set l=GetRectCenter(OE)
call CreateNUnitsAtLoc(1,1848651844,A7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656714))))
call IJ9(bj_lastCreatedGroup,4)
call RemoveLocation(l)
endif
if(A57==8)then
set l=GetRectCenter(XE)
call CreateNUnitsAtLoc(1,1848651844,A7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656715))))
call IJ9(bj_lastCreatedGroup,2)
call RemoveLocation(l)
endif
if(A57==9)then
set l=GetRectCenter(IE)
call CreateNUnitsAtLoc(1,1848651844,A7[0],l,bj_UNIT_FACING)
call BC7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName((1848656713))))
call IJ9(bj_lastCreatedGroup,3)
call RemoveLocation(l)
endif
set l=null
endfunction
function N9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
if LO7(CO7)==false and CO7!=null then
call SetUnitScale(CO7,L37(CO7)*CS,L37(CO7)*CS,L37(CO7)*CS)
endif
call TN7(UC7)
call UA7(t)
set t=null
set CO7=null
return false
endfunction
function EU9 takes nothing returns nothing
local integer x=1
local player p
loop
exitwhen x>16
if SV7(M7[x],ZU[DI4])!=null then
call RemoveUnit(OA4[GetPlayerId(GetOwningPlayer(M7[x]))])
endif
set x=x+1
endloop
endfunction
function J_9 takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and J48(GetUnitTypeId(GetFilterUnit()))==false and SV7(GetTriggerUnit(),ZU[DI4])!=null
endfunction
function K49 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)!=1 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1
endfunction
function K79 takes nothing returns nothing
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+F8)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BloodstoneHealTarget.mdx",GetEnumUnit(),"origin"))
endfunction
function K89 takes nothing returns nothing
local group g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1700,Condition(function K49))
set F8=400+30*GetItemCharges(SV7(GetTriggerUnit(),ZU[DI4]))
call ForGroup(g,function K79)
call CW7(g)
set g=null
endfunction
function K99 takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit H88=CreateUnit(GetOwningPlayer(CO7),1211117645,GetUnitX(CO7),GetUnitY(CO7),GetUnitFacing(CO7))
set OA4[GetPlayerId(GetOwningPlayer(CO7))]=H88
call K89()
set H88=null
set CO7=null
endfunction
function KD9 takes unit u returns nothing
local integer KE9=GetItemCharges(SV7(u,ZU[DI4]))
if KE9>0 then
call SetUnitState(u,UNIT_STATE_MANA,GetUnitState(u,UNIT_STATE_MANA)+KE9)
endif
endfunction
function KF9 takes nothing returns boolean
local integer i=1
local unit CO7
local integer id
if HG4>0 then
loop
exitwhen i>5
set id=GetPlayerId(Z7[i])
set CO7=M7[id]
if RN4[id]>0 and CO7!=null and GetUnitTypeId(CO7)>1 and IsUnitType(CO7,UNIT_TYPE_DEAD)==false then
call KD9(CO7)
endif
set id=GetPlayerId(A7[i])
set CO7=M7[id]
if RN4[id]>0 and CO7!=null and GetUnitTypeId(CO7)>1 and IsUnitType(CO7,UNIT_TYPE_DEAD)==false then
call KD9(CO7)
endif
set i=i+1
endloop
endif
set CO7=null
return false
endfunction
function oK takes nothing returns nothing
set gg[0]=CreateTimer()
set gg[1]=CreateTimer()
set gg[2]=CreateTimer()
set gg[3]=CreateTimer()
set gg[4]=CreateTimer()
set gg[5]=CreateTimer()
set gg[6]=CreateTimer()
set gg[7]=CreateTimer()
set gg[8]=CreateTimer()
set gg[9]=CreateTimer()
set gg[10]=CreateTimer()
set gg[11]=CreateTimer()
set gg[12]=CreateTimer()
set gg[13]=CreateTimer()
set gg[14]=CreateTimer()
set gg[15]=CreateTimer()
endfunction
function KG9 takes unit u,real d returns boolean
if IsUnitType(u,UNIT_TYPE_HERO)or GetUnitAbilityLevel(u,1093678162)>0 then
return d>5
endif
return true
endfunction
function KH9 takes unit u returns unit
local group g
if GetUnitAbilityLevel(u,1093678162)==0 then
return u
endif
set IN4=WH4
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),900,Condition(function FT8))
set WG4=FirstOfGroup(g)
call CW7(g)
return WG4
endfunction
function KI9 takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit H88
local unit p5
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call DestroyEffect(UH7(UC7,"FX"))
call TN7(UC7)
call UA7(t)
else
set p5=U87(UC7,"Source")
set H88=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call UnitAddAbility(H88,1093684022)
set WH4=p5
if IssueTargetOrder(H88,"forkedlightning",KH9(GetEventDamageSource()))then
call U67(GetTriggerUnit(),"KJ9",1)
endif
endif
set t=null
set H88=null
set p5=null
endfunction
function KK9 takes nothing returns boolean
if(GetTriggerEventId()==EVENT_UNIT_DAMAGED and KG9(GetEventDamageSource(),GetEventDamage())and GetRandomInt(1,100)<21 and UU7(GetTriggerUnit(),"KJ9")==false)or GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call KI9()
endif
return false
endfunction
function KJ9 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
if m5==null then
set m5=p5
endif
call U67(m5,"StaticChargeActive",20)
call TriggerRegisterTimerEvent(t,20.,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function KK9))
call TV7(UC7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl",m5,"origin"))
call TU7(UC7,"Source",p5)
set t=null
set p5=null
set m5=null
endfunction
function KM9 takes nothing returns nothing
if GetSpellAbilityId()==1093683788 and(UN7(GetHandleId(GetSpellTargetUnit()),"StaticChargeActive")==1)==false then
call KJ9()
endif
endfunction
function KN9 takes integer i returns boolean
return i==1227894838 or i==1227894840 or i==1227894858 or i==1227894859 or i==1227894839
endfunction
function KO9 takes nothing returns boolean
if GetIssuedOrderId()==851971 then
if GetOrderTargetItem()!=null and KN9(GetItemTypeId(GetOrderTargetItem()))then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659029))
endif
endif
return false
endfunction
function KP9 takes unit KQ9 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KQ9,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddCondition(t,Condition(function KO9))
set t=null
endfunction
function KR9 takes player p returns integer
local integer r=GetRandomInt(1,6)
if ZC7(p)then
if r==1 then
return VT4
elseif r==2 then
return VU4
elseif r==3 then
return VV4
elseif r==4 then
return VW4
elseif r==5 then
return VX4
else
return VY4
endif
else
if r==1 then
return VA4
elseif r==2 then
return VB4
elseif r==3 then
return VC4
elseif r==4 then
return V34
elseif r==5 then
return V64
else
return VL4
endif
endif
return 0
endfunction
function KS9 takes player p returns integer
if GetRandomInt(1,3)==1 then
return W44
elseif ZC7(p)then
return VS4
else
return VZ4
endif
return 0
endfunction
function KT9 takes nothing returns nothing
local unit KU9=CreateUnit(GetOwningPlayer(GetTriggerUnit()),KR9(GetOwningPlayer(GetTriggerUnit())),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))
local real x=GetUnitX(GetTriggerUnit())
local real y=GetUnitY(GetTriggerUnit())
local real a=GetUnitFacing(GetTriggerUnit())
call DO9(KU9)
call SetUnitPosition(KU9,x+25*Cos(a*bj_DEGTORAD),y+25*Sin(a*bj_DEGTORAD))
if OT[GetPlayerId(GetOwningPlayer(KU9))]==false then
call UnitRemoveType(KU9,UNIT_TYPE_PEON)
else
call UnitAddType(KU9,UNIT_TYPE_PEON)
endif
set KU9=null
endfunction
function KV9 takes unit DH9 returns nothing
local integer i=0
local integer OC7=GetHandleId(DH9)
local integer O5=UN7(OC7,"aiCrow|CurrentOwner")
set EP7=null
call DisableTrigger(H94)
loop
exitwhen i>5
set EP7=UnitItemInSlot(DH9,i)
if EP7!=null then
call UnitAddItem(KU4[O5],EP7)
endif
set i=i+1
endloop
call EnableTrigger(H94)
set K57[224+O5]=false
call TQ7(OC7,"aiCrow|CurrentOwner",UN7(OC7,"aiCrow|TrueOwner"))
call TT7(OC7,"aiCrow|Active",false)
call TW7(OC7,"aiCrow|DeliverTrigger",null)
call TQ7(OC7,"aiCrow|GoHomeWpt",0)
set hq[896+O5]=Bz+15
if(MT7)then
call SetUnitOwner(KU4[16+O5],Player(UN7(OC7,"aiCrow|TrueOwner")),false)
endif
endfunction
function KW9 takes unit p5 returns nothing
local real x
local real y
if ZC7(GetOwningPlayer(p5))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
call IssuePointOrder(p5,"move",x,y)
call TT7(GetHandleId(p5),"aiCrow|Away",false)
endfunction
function KX9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local unit EC8=(LoadUnitHandle(L7,GetHandleId(t),(2)))
local integer OC7=GetHandleId(EC8)
local real x=0
local real y=0
local effect KY9=null
local integer i=0
local integer j=0
local integer O5=UN7(OC7,"aiCrow|CurrentOwner")
if LO7(EC8)==false then
if(not UP7(OC7,"aiCrow|Alive"))then
call TT7(OC7,"aiCrow|Alive",true)
endif
if Z37(GetOwningPlayer(EC8))then
set x=JY4
set y=JZ4
else
set x=IX4
set y=IY4
endif
if RF7(GetUnitX(EC8),GetUnitY(EC8),x,y)<825 then
if not MS7 then
call LM7(EC8,1098282348)
endif
set KY9=UH7(OC7,"aiCrow|EffHealHP")
if GetUnitLifePercent(EC8)<100 then
call SetWidgetLife(EC8,GetWidgetLife(EC8)+0.035*GetUnitState(EC8,UNIT_STATE_MAX_LIFE))
if KY9==null then
set KY9=AddSpecialEffectTarget("Abilities\\Spells\\Other\\ANrm\\ANrmTarget.mdl",EC8,"origin")
call TV7(OC7,"aiCrow|EffHealHP",KY9)
endif
elseif KY9!=null then
call DestroyEffect(KY9)
endif
if GetUnitState(EC8,UNIT_STATE_MAX_MANA)>0 then
set KY9=UH7(OC7,"aiCrow|EffHealMP")
if GetUnitManaPercent(EC8)<100 then
call SetUnitState(EC8,UNIT_STATE_MANA,GetUnitState(EC8,UNIT_STATE_MANA)+0.035*GetUnitState(EC8,UNIT_STATE_MAX_MANA))
if KY9==null then
set KY9=AddSpecialEffectTarget("Abilities\\Spells\\Other\\ANrl\\ANrlTarget.mdl",EC8,"origin")
call TV7(OC7,"aiCrow|EffHealMP",KY9)
endif
elseif KY9!=null then
call DestroyEffect(KY9)
endif
endif
if UP7(OC7,"aiCrow|Active")then
if IG4[O5]or UP7(OC7,"aiCrow|Away")==false then
call KV9(EC8)
if Z37(GetOwningPlayer(EC8))then
call IssuePointOrderById(EC8,851986,x+NX7,y+NX7)
else
call IssuePointOrderById(EC8,851986,x-NX7,y-NX7)
endif
else
if GetUnitCurrentOrder(EC8)!=851986 then
call IssueNeutralImmediateOrderById(Player(O5),EC8,1747990581)
endif
endif
endif
else
if not MS7 then
call UnitRemoveAbility(EC8,1098282348)
endif
set KY9=UH7(OC7,"aiCrow|EffHealHP")
if KY9!=null then
call DestroyEffect(KY9)
call TV7(OC7,"aiCrow|EffHealHP",null)
endif
if GetUnitState(EC8,UNIT_STATE_MAX_MANA)>0 then
set KY9=UH7(OC7,"aiCrow|EffHealMP")
if KY9!=null then
call DestroyEffect(KY9)
call TV7(OC7,"aiCrow|EffHealMP",null)
endif
endif
if UP7(OC7,"aiCrow|Active")then
if UP7(OC7,"aiCrow|Away")then
if IG4[O5]then
call KW9(EC8)
elseif GetUnitCurrentOrder(EC8)!=851986 then
call IssueNeutralImmediateOrderById(Player(O5),EC8,1747990581)
endif
else
set i=UN7(OC7,"aiCrow|GoHomeWpt")
if i==0 then
set j=328
set EI7=99999
set EJ7=0
loop
exitwhen j>342
if Z37(GetOwningPlayer(EC8))then
set EJ7=RE7(h7[i],h7[100])+RE7(EC8,h7[i])
else
set EJ7=RE7(h7[i],h7[0])+RE7(EC8,h7[i])
endif
if i==0 or EJ7<EI7 then
set i=j
set EI7=EJ7
endif
set j=j+1
endloop
call TQ7(OC7,"aiCrow|GoHomeWpt",i)
call IssuePointOrderByIdLoc(EC8,851986,S07(h7[i]))
elseif i==999 then
if GetUnitCurrentOrder(EC8)!=851986 then
call IssueImmediateOrderById(EC8,852247)
endif
else
set IN4=EC8
if RE7(EC8,h7[i])<400 or(SP7(1000.,IN4,Condition(function GC8))>0)then
call TQ7(OC7,"aiCrow|GoHomeWpt",999)
call IssueImmediateOrderById(EC8,852247)
elseif GetUnitCurrentOrder(EC8)!=851986 then
call IssuePointOrderByIdLoc(EC8,851986,S07(h7[i]))
endif
endif
endif
endif
endif
else
if(UP7(OC7,"aiCrow|Alive"))then
call TT7(OC7,"aiCrow|Alive",false)
endif
endif
set t=null
set EC8=null
set KY9=null
return false
endfunction
function KZ9 takes integer O5,unit KU9 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local integer i=GetHandleId(KU9)
call TQ7(i,"aiCrow|TrueOwner",O5)
call TQ7(i,"aiCrow|CurrentOwner",O5)
call TT7(i,"aiCrow|Alive",true)
call TT7(i,"aiCrow|Active",false)
call SetPlayerAbilityAvailable(Player(O5),1093810510,false)
call UnitMakeAbilityPermanent(KU9,true,1093810509)
call TriggerRegisterDeathEvent(t,KU9)
call TriggerAddCondition(t,Condition(function DK9))
if MS7 then
call LM7(KU9,1098282348)
endif
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function KX9))
call SaveUnitHandle(L7,(OC7),(2),(KU9))
set t=null
endfunction
function KA9 takes nothing returns nothing
local unit KU9=CreateUnit(GetOwningPlayer(GetTriggerUnit()),KS9(GetOwningPlayer(GetTriggerUnit())),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))
call DO9(KU9)
if OT[GetPlayerId(GetOwningPlayer(KU9))]==false then
call UnitRemoveType(KU9,UNIT_TYPE_PEON)
else
call UnitAddType(KU9,UNIT_TYPE_PEON)
endif
call KP9(KU9)
set KU9=null
endfunction
function KB9 takes nothing returns boolean
if GetSpellAbilityId()==1093681718 then
call KT9()
endif
if GetSpellAbilityId()==1093683796 then
call KA9()
endif
return false
endfunction
function KC9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit KU9=U87(UC7,"chicken")
local integer K39=UN7(UC7,"newability")
local integer K69=UN7(UC7,"itemId0")
local integer KL9=UN7(UC7,"itemId1")
local integer K19=UN7(UC7,"itemId2")
local integer K09=UN7(UC7,"itemId3")
local integer K59=UN7(UC7,"itemId4")
local integer K29=UN7(UC7,"itemId5")
local player K_9=UD7(UC7,"pPlayer0")
local player M49=UD7(UC7,"pPlayer1")
local player M79=UD7(UC7,"pPlayer2")
local player M89=UD7(UC7,"pPlayer3")
local player M99=UD7(UC7,"pPlayer4")
local player MD9=UD7(UC7,"pPlayer5")
local integer ME9=UN7(UC7,"charges0")
local integer MF9=UN7(UC7,"charges1")
local integer MG9=UN7(UC7,"charges2")
local integer MH9=UN7(UC7,"charges3")
local integer MI9=UN7(UC7,"charges4")
local integer MJ9=UN7(UC7,"charges5")
call DisableTrigger(H94)
if GetTriggerEvalCount(t)==1 then
call UnitAddAbility(KU9,K39)
if OT[GetPlayerId(GetOwningPlayer(KU9))]==false then
call UnitRemoveType(KU9,UNIT_TYPE_PEON)
else
call UnitAddType(KU9,UNIT_TYPE_PEON)
endif
else
if K69>0 then
set HA4=CreateItem(K69,GetUnitX(KU9),GetUnitY(KU9))
call UnitAddItem(KU9,HA4)
call SetItemPlayer(HA4,K_9,false)
call SetItemUserData(HA4,1)
endif
if ME9>0 then
call SetItemCharges(HA4,ME9)
endif
if KL9>0 then
set HA4=CreateItem(KL9,GetUnitX(KU9),GetUnitY(KU9))
call UnitAddItem(KU9,HA4)
call SetItemPlayer(HA4,M49,false)
call SetItemUserData(HA4,1)
endif
if MF9>0 then
call SetItemCharges(HA4,MF9)
endif
if K19>0 then
set HA4=CreateItem(K19,GetUnitX(KU9),GetUnitY(KU9))
call UnitAddItem(KU9,HA4)
call SetItemPlayer(HA4,M79,false)
call SetItemUserData(HA4,1)
endif
if MG9>0 then
call SetItemCharges(HA4,MG9)
endif
if K09>0 then
set HA4=CreateItem(K09,GetUnitX(KU9),GetUnitY(KU9))
call UnitAddItem(KU9,HA4)
call SetItemPlayer(HA4,M89,false)
call SetItemUserData(HA4,1)
endif
if MH9>0 then
call SetItemCharges(HA4,MH9)
endif
if K59>0 then
set HA4=CreateItem(K59,GetUnitX(KU9),GetUnitY(KU9))
call UnitAddItem(KU9,HA4)
call SetItemPlayer(HA4,M99,false)
call SetItemUserData(HA4,1)
endif
if MI9>0 then
call SetItemCharges(HA4,MI9)
endif
if K29>0 then
set HA4=CreateItem(K29,GetUnitX(KU9),GetUnitY(KU9))
call UnitAddItem(KU9,HA4)
call SetItemPlayer(HA4,MD9,false)
call SetItemUserData(HA4,1)
endif
if MJ9>0 then
call SetItemCharges(HA4,MJ9)
endif
if OT[GetPlayerId(GetOwningPlayer(KU9))]==false then
call UnitRemoveType(KU9,UNIT_TYPE_PEON)
else
call UnitAddType(KU9,UNIT_TYPE_PEON)
endif
call TN7(UC7)
call UA7(t)
endif
call EnableTrigger(H94)
set t=null
set KU9=null
set K_9=null
set M49=null
set M79=null
set M89=null
set M99=null
set MD9=null
return false
endfunction
function MK9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit KU9=(LoadUnitHandle(L7,(UC7),(2)))
local integer MM9=GetUnitTypeId(KU9)
local real x=GetUnitX(KU9)
local real y=GetUnitY(KU9)
local item MN9
local item MO9
local item MP9
local item MQ9
local item MR9
local item MS9
local player K_9
local player M49
local player M79
local player M89
local player M99
local player MD9
local integer K69
local integer KL9
local integer K19
local integer K09
local integer K59
local integer K29
local integer ME9=-1
local integer MF9=-1
local integer MG9=-1
local integer MH9=-1
local integer MI9=-1
local integer MJ9=-1
local integer K39
local item W38
call FlushChildHashtable(L7,(UC7))
call UA7(t)
if KU9==null or LO7(KU9)then
return false
endif
set t=CreateTrigger()
set UC7=GetHandleId(t)
set MN9=UnitItemInSlot(KU9,0)
set MO9=UnitItemInSlot(KU9,1)
set MP9=UnitItemInSlot(KU9,2)
set MQ9=UnitItemInSlot(KU9,3)
set MR9=UnitItemInSlot(KU9,4)
set MS9=UnitItemInSlot(KU9,5)
set K69=GetItemTypeId(MN9)
set KL9=GetItemTypeId(MO9)
set K19=GetItemTypeId(MP9)
set K09=GetItemTypeId(MQ9)
set K59=GetItemTypeId(MR9)
set K29=GetItemTypeId(MS9)
set K_9=GetItemPlayer(MN9)
set M49=GetItemPlayer(MO9)
set M79=GetItemPlayer(MP9)
set M89=GetItemPlayer(MQ9)
set M99=GetItemPlayer(MR9)
set MD9=GetItemPlayer(MS9)
set W38=MN9
if GetItemType(W38)==ITEM_TYPE_ARTIFACT or EK9(RY7(W38))then
set ME9=GetItemCharges(W38)
endif
set W38=MO9
if GetItemType(W38)==ITEM_TYPE_ARTIFACT or EK9(RY7(W38))then
set MF9=GetItemCharges(W38)
endif
set W38=MP9
if GetItemType(W38)==ITEM_TYPE_ARTIFACT or EK9(RY7(W38))then
set MG9=GetItemCharges(W38)
endif
set W38=MQ9
if GetItemType(W38)==ITEM_TYPE_ARTIFACT or EK9(RY7(W38))then
set MH9=GetItemCharges(W38)
endif
set W38=MR9
if GetItemType(W38)==ITEM_TYPE_ARTIFACT or EK9(RY7(W38))then
set MI9=GetItemCharges(W38)
endif
set W38=MS9
if GetItemType(W38)==ITEM_TYPE_ARTIFACT or EK9(RY7(W38))then
set MJ9=GetItemCharges(W38)
endif
call RX7(MN9)
call RX7(MO9)
call RX7(MP9)
call RX7(MQ9)
call RX7(MR9)
call RX7(MS9)
if MM9==VT4 then
set K39=1395667001
elseif MM9==VU4 then
set K39=1395667012
elseif MM9==VV4 then
set K39=1395667011
elseif MM9==VA4 then
set K39=1395667013
elseif MM9==VB4 then
set K39=1395667010
elseif MM9==VC4 then
set K39=W84
elseif MM9==VW4 then
set K39=1395667031
elseif MM9==VX4 then
set K39=1395667033
elseif MM9==V34 then
set K39=1395667032
elseif MM9==V64 then
set K39=1395667012
elseif MM9==VY4 then
set K39=W94
elseif MM9==VL4 then
set K39=WD4
endif
if GetRandomInt(1,10)==1 then
set K39=1395667015
endif
if GetRandomInt(1,10)<3 then
set K39=1395667254
endif
if MM9==V24 then
set K39=1395667020
elseif MM9==W74 then
set K39=1395667020
elseif MM9==V_4 then
set K39=W84
endif
if MM9==VS4 then
set K39=1395667250
elseif MM9==VZ4 then
set K39=1395667248
elseif MM9==W44 then
set K39=1395667252
elseif MM9==V14 then
set K39=1395667249
elseif MM9==V04 then
set K39=1395667255
elseif MM9==V54 then
set K39=1395667251
endif
call TA7(UC7,"pPlayer0",K_9)
call TA7(UC7,"pPlayer1",M49)
call TA7(UC7,"pPlayer2",M79)
call TA7(UC7,"pPlayer3",M89)
call TA7(UC7,"pPlayer4",M99)
call TA7(UC7,"pPlayer5",MD9)
call TQ7(UC7,"itemId0",K69)
call TQ7(UC7,"itemId1",KL9)
call TQ7(UC7,"itemId2",K19)
call TQ7(UC7,"itemId3",K09)
call TQ7(UC7,"itemId4",K59)
call TQ7(UC7,"itemId5",K29)
call TQ7(UC7,"charges0",ME9)
call TQ7(UC7,"charges1",MF9)
call TQ7(UC7,"charges2",MG9)
call TQ7(UC7,"charges3",MH9)
call TQ7(UC7,"charges4",MI9)
call TQ7(UC7,"charges5",MJ9)
call TU7(UC7,"chicken",KU9)
call TQ7(UC7,"newability",K39)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function KC9))
set W38=null
set t=null
set KU9=null
set MN9=null
set MO9=null
set MP9=null
set MQ9=null
set MR9=null
set MS9=null
set K_9=null
set M49=null
set M79=null
set M89=null
set M99=null
set MD9=null
return false
endfunction
function MT9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,false)
call TriggerAddCondition(t,Condition(function MK9))
call SaveUnitHandle(L7,(OC7),(2),(GetTriggerUnit()))
set t=null
endfunction
function MU9 takes nothing returns boolean
if GetSpellAbilityId()==1093685076 then
call MT9()
endif
return false
endfunction
function V7 takes nothing returns boolean
local integer x=0
loop
exitwhen x>5
if UnitItemInSlot(GetTriggerUnit(),x)==null then
return true
endif
set x=x+1
endloop
return false
endfunction
function wD takes nothing returns nothing
if GetItemTypeId(GetManipulatedItem())==ZU[C3]then
call RemoveItem(GetManipulatedItem())
call UnitAddItem(GetTriggerUnit(),CreateItem(ZU[E6],0,0))
endif
if GetItemTypeId(GetManipulatedItem())==ZU[E6]then
call RemoveItem(GetManipulatedItem())
call UnitAddItem(GetTriggerUnit(),CreateItem(ZU[C3],0,0))
endif
endfunction
function MV9 takes nothing returns nothing
if UU7(GetEnumUnit(),"MW9")==true then
call L27(GetOwningPlayer(GetEnumUnit()),(GetObjectName((1848652365)))+" "+GetUnitName(GetEnumUnit())+" "+(GetObjectName((1848652371))))
else
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call U67(GetEnumUnit(),"MW9",25)
endif
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+250)
endif
endfunction
function MW9 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local group g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),775,Condition(function GH8))
call ForGroup(g,function MV9)
call CW7(g)
set p5=null
set g=null
endfunction
function MX9 takes nothing returns nothing
if GetSpellAbilityId()==1093681995 then
call MW9()
endif
endfunction
function MY9 takes unit CO7,integer MZ9,boolean MA9 returns nothing
local string MB9
local string s
local player p=GetOwningPlayer(CO7)
local real d=2
local string MC9="Use"
if MA9 then
set MC9="Store"
endif
if MZ9==1227894838 then
set MB9="|c00ff0000"+GetObjectName(1848658513)+"|r"
call II8("Rune"+MC9+"1",GetPlayerId(p))
elseif MZ9==1227894840 then
set MB9="|c0000ff00"+GetObjectName(1848658510)+"|r"
call II8("Rune"+MC9+"2",GetPlayerId(p))
elseif MZ9==1227894859 then
set MB9="|c000000ff"+GetObjectName(1848658739)+"|r"
call II8("Rune"+MC9+"3",GetPlayerId(p))
elseif MZ9==1227894839 then
set MB9="|c00afaf00"+GetObjectName(1848658738)+"|r"
call II8("Rune"+MC9+"4",GetPlayerId(p))
elseif MZ9==1227894858 then
set MB9="|c00652DC1"+GetObjectName(1848658740)+"|r"
call II8("Rune"+MC9+"5",GetPlayerId(p))
endif
if MA9 then
set s=Q[GetPlayerId(p)]+GetUnitName(CO7)+"|r "+GetObjectName(1848657749)+"|r "+MB9+" "+GetObjectName(1848657751)
set d=1
else
if NH then
set s=Q[GetPlayerId(p)]+GetUnitName(CO7)+"|r "+GetObjectName(1848657750)+"|r "+MB9+" "+GetObjectName(1848657751)
else
set s=Q[GetPlayerId(p)]+GetUnitName(CO7)+"|r "+GetObjectName(1848657748)+"|r "+MB9+" "+GetObjectName(1848657751)
endif
endif
if(IsPlayerAlly(GetLocalPlayer(),p)and GetLocalPlayer()!=p)or CM7(GetLocalPlayer())then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,d,s)
endif
endfunction
function M39 takes nothing returns boolean
if GetSpellAbilityId()==1093683254 then
call TU7(GetHandleId(GetTriggerUnit()),"BottleTargetUnit",null)
call TQ7(GetHandleId(GetTriggerUnit()),"BottleTargetItemId",0)
if(SV7(GetTriggerUnit(),ZU[AZ])!=null or SV7(GetTriggerUnit(),BU[AZ])!=null)and(GetUnitTypeId(GetSpellTargetUnit())==1852206952 or GetUnitTypeId(GetSpellTargetUnit())==1852073580)then
call TU7(GetHandleId(GetTriggerUnit()),"BottleTargetUnit",GetSpellTargetUnit())
elseif KN9(GetItemTypeId(GetSpellTargetItem()))then
call MY9(GetTriggerUnit(),GetItemTypeId(GetSpellTargetItem()),true)
call TQ7(GetHandleId(GetTriggerUnit()),"BottleTargetItemId",GetItemTypeId(GetSpellTargetItem()))
call RX7(GetSpellTargetItem())
endif
endif
return false
endfunction
function M69 takes unit CC7 returns nothing
call SetUnitState(CC7,UNIT_STATE_LIFE,GetUnitState(CC7,UNIT_STATE_MAX_LIFE))
call SetUnitState(CC7,UNIT_STATE_MANA,GetUnitState(CC7,UNIT_STATE_MAX_MANA))
endfunction
function ML9 takes unit CC7,real x,real y returns nothing
local integer OC7=GetHandleId(GetOwningPlayer(CC7))
local unit J28=U87(OC7,"Kobold1")
local unit J_8=U87(OC7,"Kobold2")
local unit K48=U87(OC7,"Kobold3")
local unit K78=U87(OC7,"Kobold4")
set OB4=true
if J28!=null then
call ReviveHero(J28,x,y,true)
call M69(J28)
call JY8(J28)
call SetUnitX(J28,x)
call SetUnitY(J28,y)
endif
if J_8!=null then
call ReviveHero(J_8,x,y,true)
call M69(J_8)
call JY8(J_8)
call SetUnitX(J_8,x)
call SetUnitY(J_8,y)
endif
if K48!=null then
call ReviveHero(K48,x,y,true)
call M69(K48)
call JY8(K48)
call SetUnitX(K48,x)
call SetUnitY(K48,y)
endif
if K78!=null then
call ReviveHero(K78,x,y,true)
call M69(K78)
call JY8(K78)
call SetUnitX(K78,x)
call SetUnitY(K78,y)
endif
set J28=null
set J_8=null
set K48=null
set K78=null
endfunction
function M19 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit CC7=U87(OC7,"Hero")
call M69(CC7)
call JY8(CC7)
call ClearSelectionForPlayer(GetOwningPlayer(CC7))
call SelectUnitAddForPlayer(CC7,GetOwningPlayer(CC7))
if GetUnitTypeId(CC7)==1211117641 then
call ML9(CC7,GetUnitX(CC7),GetUnitY(CC7))
endif
call TN7(OC7)
call UA7(t)
set t=null
set CC7=null
return false
endfunction
function M09 takes unit CC7,real x,real y returns nothing
local integer OC7=GetHandleId(GetOwningPlayer(CC7))
local unit J28=U87(OC7,"Kobold1")
local unit J_8=U87(OC7,"Kobold2")
local unit K48=U87(OC7,"Kobold3")
local unit K78=U87(OC7,"Kobold4")
call DisableTrigger(ES)
if J28!=null then
call SetUnitX(J28,x)
call SetUnitY(J28,y)
call KillUnit(J28)
endif
if J_8!=null then
call SetUnitX(J_8,x)
call SetUnitY(J_8,y)
call KillUnit(J_8)
endif
if K48!=null then
call SetUnitX(K48,x)
call SetUnitY(K48,y)
call KillUnit(K48)
endif
if K78!=null then
call SetUnitX(K78,x)
call SetUnitY(K78,y)
call KillUnit(K78)
endif
call EnableTrigger(ES)
set J28=null
set J_8=null
set K48=null
set K78=null
endfunction
function M59 takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local real x
local real y
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call II8("AegisOff",GetPlayerId(GetOwningPlayer(CC7)))
if GetUnitTypeId(CC7)==1211117641 then
call M09(CC7,GetUnitX(CC7),GetUnitY(CC7))
endif
set NW4=null
call TriggerRegisterTimerEvent(t,5.,false)
call TriggerAddCondition(t,Condition(function M19))
call TU7(OC7,"Hero",CC7)
call U67(CC7,"JustUseAegis",5)
set t=null
set CC7=null
endfunction
function M29 takes nothing returns nothing
if RZ7(GetManipulatedItem())==X0 then
call M59()
endif
endfunction
function Trig_MultipleNecro_Func001002001 takes nothing returns boolean
return(GetUnitTypeId(GetEnumUnit())==1848651848)
endfunction
function M_9 takes nothing returns nothing
if GetWidgetLife(GetEnumItem())>0 and KN9(GetItemTypeId(GetEnumItem()))then
set HA4=GetEnumItem()
endif
endfunction
function N49 takes nothing returns integer
local integer i=GetRandomInt(1,5)
loop
exitwhen i!=FI4
set i=GetRandomInt(1,5)
endloop
set FI4=i
return i
endfunction
function N79 takes nothing returns boolean
local boolean N89=false
local boolean N99=false
local real x
local real y
local real x1
local real y1
local real x2
local real y2
local integer ND9
if GetRandomInt(1,2)==1 then
set x=GetLocationX(F7)
set y=GetLocationY(F7)
else
set x=GetLocationX(G7)
set y=GetLocationY(G7)
endif
set x1=GetLocationX(F7)
set y1=GetLocationY(F7)
set x2=GetLocationX(G7)
set y2=GetLocationY(G7)
set HA4=null
call EnumItemsInRect(MD,Condition(function ZV7),function M_9)
if HA4==null then
set N89=true
endif
set HA4=null
call EnumItemsInRect(FD,Condition(function ZV7),function M_9)
if HA4==null then
set N99=true
endif
if DT==false or GetTriggerEvalCount(GetTriggeringTrigger())<20 then
if N89 and N99 then
set ND9=N49()
if ND9==1 then
call CreateItem(1227894839,x,y)
elseif ND9==2 then
call CreateItem(1227894838,x,y)
elseif ND9==3 then
call CreateItem(1227894859,x,y)
elseif ND9==4 then
call CreateItem(1227894840,x,y)
elseif ND9==5 then
call CreateItem(1227894858,x,y)
endif
endif
else
if N89 then
set ND9=N49()
if ND9==1 then
call CreateItem(1227894839,x1,y1)
elseif ND9==2 then
call CreateItem(1227894838,x1,y1)
elseif ND9==3 then
call CreateItem(1227894859,x1,y1)
elseif ND9==4 then
call CreateItem(1227894840,x1,y1)
elseif ND9==5 then
call CreateItem(1227894858,x1,y1)
endif
endif
if N99 then
set ND9=N49()
if ND9==1 then
call CreateItem(1227894839,x2,y2)
elseif ND9==2 then
call CreateItem(1227894838,x2,y2)
elseif ND9==3 then
call CreateItem(1227894859,x2,y2)
elseif ND9==4 then
call CreateItem(1227894840,x2,y2)
elseif ND9==5 then
call CreateItem(1227894858,x2,y2)
endif
endif
endif
return false
endfunction
function O2 takes integer Ou,real O3 returns nothing
set FI[gi]=Ou
set Fj[gi]=O3
set gi=gi+1
endfunction
function Wq takes nothing returns nothing
call O2(1752134252,30)
call O2(1870030190,210)
call O2(1835955060,45)
call O2(1227894834,60)
call O2(1667786099,60)
call O2(1885628790,100)
call O2(1227894833,60)
call O2(1650878578,50)
call O2(2004055908,12)
call O2(1919248946,30)
call O2(1819177582,36)
call O2(1936749157,20)
call O2(1919906931,300)
call O2(1953265005,60)
call O2(1936093031,15)
call O2(1835955046,28)
call O2(1937012592,65)
call O2(1935894636,70)
call O2(1919248945,28)
call O2(1803117164,20)
call O2(1919248949,40)
call O2(1667460452,26)
call O2(1835823988,32)
call O2(1684370275,30)
call O2(1227894851,25)
call O2(1227894865,45)
call O2(1227894868,30)
call O2(1868984943,85)
call O2(1227895120,10)
call O2(1227895125,30)
call O2(1227960368,45)
call O2(1227960369,90)
endfunction
function NE9 takes nothing returns boolean
local integer i
if O64>0 and OC4[1]<1 then
set i=2
loop
exitwhen i>O64
set OC4[i-1]=OC4[i]
set O34[i-1]=O34[i]
set i=i+1
endloop
set O64=O64-1
endif
set i=1
loop
exitwhen i>O64
if OC4[i]>=1 then
set OC4[i]=OC4[i]-1
if OC4[i]<1 then
call SetItemDroppable(O34[i],true)
endif
endif
set i=i+1
endloop
return false
endfunction
function NF9 takes item W38 returns nothing
set O64=O64+1
set O34[O64]=W38
set OC4[O64]=(LU[(RZ7(W38))])
call SetItemDroppable(W38,false)
endfunction
function NG9 takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())!=1697656901 and(LU[(RZ7(GetManipulatedItem()))])>0 then
call NF9(GetManipulatedItem())
endif
return false
endfunction
function NH9 takes unit PF7 returns integer
local integer HY8
if PF7==null then
return-2
endif
set HY8=GetUnitTypeId(PF7)
if HY8==1211117620 then
return FW4
elseif HY8==1430466872 then
return FX4
elseif HY8==1215130471 then
return FB4
elseif HY8==1432580716 or HY8==1429221720 then
return GB4
elseif HY8==1211117640 then
return F34
elseif HY8==1430466609 then
return F64
elseif HY8==1332898670 then
return FL4
elseif HY8==1215128178 then
return F24
elseif HY8==1214931305 then
return F14
elseif HY8==1433168227 then
return FV4
elseif HY8==1164666213 then
return FU4
elseif HY8==1164799603 then
return FS4
elseif HY8==1162032439 then
return F04
elseif HY8==1429221445 then
return FA4
elseif HY8==1160785973 then
return FZ4
elseif HY8==1160786241 then
return F54
elseif HY8==1430467634 then
return FY4
elseif HY8==1315988077 then
return GK4
elseif HY8==1211117652 then
return G44
elseif HY8==1215723364 then
return G74
elseif HY8==1315070563 then
return G84
elseif HY8==1211117633 then
return GD4
elseif HY8==1432646245 then
return GE4
elseif HY8==1160786000 then
return GG4
elseif HY8==1429221451 then
return GH4
elseif HY8==1211117649 then
return GI4
elseif HY8==1211117653 then
return GJ4
elseif HY8==1429221446 then
return GM4
elseif HY8==1311786311 then
return GN4
elseif HY8==1162032181 then
return GO4
elseif HY8==1328558154 then
return GP4
elseif HY8==1332963428 then
return GQ4
elseif HY8==1432642913 then
return GR4
elseif HY8==1311781207 then
return GS4
elseif HY8==1211117643 then
return GT4
elseif HY8==1332766568 then
return GU4
elseif HY8==1333027688 then
return GV4
elseif HY8==1211117650 then
return FC4
elseif HY8==1211119433 then
return FC4
elseif HY8==1311780930 then
return GW4
elseif HY8==1160786243 then
return GY4
elseif HY8==1160785970 then
return GZ4
elseif HY8==1162032951 then
return GA4
elseif HY8==1429221456 then
return G34
elseif HY8==1164799855 then
return G64
elseif HY8==1211117646 then
return GL4
elseif HY8==1160786510 or HY8==1160786511 then
return G14
elseif HY8==1211117641 then
return G04
elseif HY8==1211117636 then
return G54
elseif HY8==1430468144 then
return G24
elseif GetUnitPointValue(PF7)==500 then
return GX4
endif
return FR4
endfunction
function NI9 takes unit PF7 returns integer
local integer HY8
if PF7==null then
return-2
endif
set HY8=GetUnitTypeId(PF7)
if HY8==1211117620 then
return 1093686352
elseif HY8==1430466872 then
return 1093686354
elseif HY8==1215130471 then
return 1093815124
elseif HY8==1432580716 or HY8==1429221720 then
return 0
elseif HY8==1211117640 then
return 1093686358
elseif HY8==1430466609 then
return 1093686360
elseif HY8==1332898670 then
return 1093686362
elseif HY8==1215128178 then
return 1093686577
elseif HY8==1214931305 then
return 1093686579
elseif HY8==1433168227 then
return 1093686581
elseif HY8==1164666213 then
return 1093686583
elseif HY8==1164799603 then
return 1093686585
elseif HY8==1162032439 then
return 1093686594
elseif HY8==1429221445 then
return 1093686596
elseif HY8==1160785973 then
return 1093686598
elseif HY8==1160786241 then
return 1093686600
elseif HY8==1430467634 then
return 1093686602
elseif HY8==1315988077 then
return 1093747269
elseif HY8==1211117652 then
return 1093747257
elseif HY8==1215723364 then
return 1093747265
elseif HY8==1315070563 then
return 1093747266
elseif HY8==1211117633 then
return 1093747541
elseif HY8==1432646245 then
return 1093747271
elseif HY8==1160786000 then
return 1093747274
elseif HY8==1429221451 then
return 1093747267
elseif HY8==1211117649 then
return 1093747273
elseif HY8==1211117653 then
return 1093747268
elseif HY8==1429221446 then
return 1093747545
elseif HY8==1311786311 then
return 1093747762
elseif HY8==1162032181 then
return 1093747761
elseif HY8==1328558154 then
return 1093747546
elseif HY8==1332963428 then
return 1093747760
elseif HY8==1432642913 then
return 1093747763
elseif HY8==1311781207 then
return 1093747764
elseif HY8==1211117643 then
return 1093748529
elseif HY8==1332766568 then
return 1093750100
elseif HY8==1333027688 then
return 1093750320
elseif HY8==1311780930 then
return 1093751123
elseif HY8==1160786243 then
return 1093752148
elseif HY8==1160785970 then
return 1093752149
elseif HY8==1162032951 then
return 1093752369
elseif HY8==1429221456 then
return 1093752409
elseif HY8==1164799855 then
return 1093752644
elseif HY8==1211117646 then
return 1093808467
elseif HY8==1160786510 or HY8==1160786511 then
return 1093808951
elseif HY8==1211117641 then
return 1093809989
elseif HY8==1211117636 then
return 1093810241
elseif HY8==1430468144 then
return 1093814600
endif
return 0
endfunction
function NJ9 takes item JM8 returns boolean
local integer i=1
loop
exitwhen i>O64
if JM8==O34[i]then
return true
endif
set i=i+1
endloop
return false
endfunction
function NK9 takes unit PF7 returns location
return O8[GetUnitAbilityLevel(PF7,N8)]
endfunction
function NM9 takes unit PF7 returns boolean
return(GetOwningPlayer(PF7)==Z7[0])or(GetOwningPlayer(PF7)==A7[0])
endfunction
function NN9 takes nothing returns nothing
call SetUnitUserData(GetEnumUnit(),0)
call IssuePointOrderLoc(GetEnumUnit(),"attack",NK9(GetEnumUnit()))
endfunction
function NO9 takes nothing returns nothing
call IssueTargetOrder(GetEnumUnit(),"attack",D8)
call GroupAddUnit(R8,GetEnumUnit())
call SetUnitUserData(GetEnumUnit(),ST4)
endfunction
function NP9 takes nothing returns boolean
local integer id=GetUnitTypeId(GetFilterUnit())
if id==1700946284 or id==1697657398 or id==1970107511 or id==1966092370 then
return false
endif
if IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and(GetOwningPlayer(GetFilterUnit())==Z7[0]or GetOwningPlayer(GetFilterUnit())==A7[0])and GetUnitUserData(GetFilterUnit())==0 then
return true
endif
return false
endfunction
function NQ9 takes nothing returns nothing
if GetUnitCurrentOrder(GetEnumUnit())==0 and IsUnitInRange(GetEnumUnit(),D8,GetUnitAcquireRange(GetEnumUnit()))==false then
call GroupRemoveUnit(R8,GetEnumUnit())
call SetUnitUserData(GetEnumUnit(),0)
call IssuePointOrderByIdLoc(GetEnumUnit(),851983,NK9(GetEnumUnit()))
endif
endfunction
function NR9 takes nothing returns nothing
local integer UC7=GetHandleId(U87(GetHandleId(GetExpiredTimer()),"Source"))
local integer NS9=UN7(UC7,"Attacker")
local group NT9=UG7(UC7,"Defenders")
set SS4[NS9]=null
call ForGroup(NT9,function NN9)
call GroupClear(NT9)
set NT9=null
endfunction
function NU9 takes unit CO7,unit Z88 returns nothing
local integer UC7=GetHandleId(CO7)
local group NT9=UG7(UC7,"Defenders")
local integer NS9=UN7(UC7,"Attacker")
local unit NV9=SS4[NS9]
local group g
if NV9!=null and NV9!=Z88 then
call ForGroup(NT9,function NN9)
call GroupClear(NT9)
endif
set SS4[NS9]=Z88
set R8=NT9
set D8=Z88
set ST4=NS9
call ForGroup(NT9,function NQ9)
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(Z88),GetUnitY(Z88),500,Condition(function NP9))
call ForGroup(g,function NO9)
call CW7(g)
call TimerStart(UE7(UC7,"DefendTimer"),2,false,function NR9)
set g=null
set NV9=null
set NT9=null
endfunction
function NW9 takes integer BD7 returns boolean
return BD7==1162032951 or BD7==1160785972 or BD7==1315074670 or BD7==1429221456 or BD7==1164799855 or BD7==1311781185 or BD7==1211117649
endfunction
function NX9 takes nothing returns boolean
local unit CO7=GetAttacker()
local unit m5=GetTriggerUnit()
local integer X5=GetIssuedOrderId()
local integer NY9
local integer i1
call OZ7(m5,CO7)
call O67(CO7,m5)
if NM9(CO7)==false then
set NY9=UN7(GetHandleId(m5),"Attacker")
if SS4[NY9]==null or SS4[NY9]==m5 or LO7(SS4[NY9])then
if NY9!=0 then
if((GetPlayerController(GetOwningPlayer(GetAttacker()))!=MAP_CONTROL_COMPUTER)or(not IsUnitType(GetAttacker(),UNIT_TYPE_HERO)))then
call NU9(GetTriggerUnit(),GetAttacker())
else
set i1=GetUnitTypeId(GetAttacker())
if((i1!=1162032951)and(i1!=1160785972)and(i1!=1430468144)and(i1!=1315074670)and(i1!=1429221456)and(i1!=1164799855)and(i1!=1311781185)and(i1!=1211117649))then
call NU9(GetTriggerUnit(),GetAttacker())
else
call TriggerSleepAction(0.01)
if(not GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))])then
call NU9(GetTriggerUnit(),GetAttacker())
endif
endif
endif
if(not IsUnitType(CO7,UNIT_TYPE_HERO))or(GetPlayerController(GetOwningPlayer(CO7))!=MAP_CONTROL_COMPUTER)or(not NW9(GetUnitTypeId(CO7)))or(not GZ[304+GetPlayerId(GetOwningPlayer(CO7))])then
call NU9(GetTriggerUnit(),GetAttacker())
endif
endif
endif
endif
set CO7=null
set m5=null
return false
endfunction
function NZ9 takes nothing returns boolean
local unit CO7=GetTriggerUnit()
local unit m5=GetOrderTargetUnit()
local integer X5=GetIssuedOrderId()
local integer NA9
if IsUnitType(m5,UNIT_TYPE_HERO)==true and IsUnitIllusion(m5)==false and(X5==851983 or X5==851971)and IsUnitEnemy(m5,GetOwningPlayer(CO7))and IsUnitVisible(CO7,GetOwningPlayer(m5))then
set NA9=UN7(GetHandleId(m5),"Attacker")
if SS4[NA9]==null or SS4[NA9]==m5 or LO7(SS4[NA9])then
if NA9!=0 then
call NU9(m5,CO7)
endif
endif
endif
set CO7=null
set m5=null
return false
endfunction
function Wy takes unit CO7 returns boolean
return UP7(GetHandleId(CO7),"HeroAIManager")
endfunction
function NB9 takes unit CO7 returns nothing
local group g
local trigger t
local timer tm
local integer UC7=GetHandleId(CO7)
set l2=l2+1
call TT7(UC7,"HeroAIManager",true)
call TQ7(UC7,"Attacker",l2)
set g=CX7()
call TC7(UC7,"Defenders",g)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddCondition(t,Condition(function NZ9))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function NX9))
set tm=CreateTimer()
call T37(GetHandleId(CO7),"DefendTimer",tm)
call TU7(GetHandleId(tm),"Source",CO7)
set g=null
set t=null
set tm=null
endfunction
function NC9 takes nothing returns nothing
local unit S4=GetTriggerUnit()
local unit m5=rw[GetUnitUserData(S4)]
call SetUnitPosition(S4,GetUnitX(S4),GetUnitY(S4))
if m5!=null and LO7(m5)==false and IsUnitVisible(m5,GetOwningPlayer(m5))then
call IssueTargetOrder(S4,"attack",m5)
else
call DisableTrigger(GetTriggeringTrigger())
call IssuePointOrderLoc(S4,"attack",(O8[GetUnitAbilityLevel((S4),N8)]))
call EnableTrigger(GetTriggeringTrigger())
endif
set S4=null
set m5=null
endfunction
function N39 takes nothing returns boolean
if NM9(GetTriggerUnit())then
call NC9()
endif
return false
endfunction
function N69 takes nothing returns nothing
local unit S4=GetTriggerUnit()
local unit m5=rw[GetUnitUserData(S4)]
call SetUnitPosition(S4,GetUnitX(S4),GetUnitY(S4))
if m5!=null and LO7(m5)==false and IsUnitVisible(m5,GetOwningPlayer(m5))then
call IssueTargetOrder(S4,"attack",m5)
else
call DisableTrigger(GetTriggeringTrigger())
call IssuePointOrderLoc(S4,"attack",(O8[GetUnitAbilityLevel((S4),N8)]))
call EnableTrigger(GetTriggeringTrigger())
endif
set S4=null
set m5=null
endfunction
function NL9 takes nothing returns boolean
if GetIssuedOrderId()==851986 then
call N69()
endif
return false
endfunction
function N19 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
if IsUnitFogged(GetAttacker(),Z7[1])or IsUnitFogged(GetAttacker(),A7[1])then
call EP8(CreateFogModifierRadius(Z7[1],FOG_OF_WAR_VISIBLE,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),128,true,false),1)
endif
elseif GetOwningPlayer(GetTriggerUnit())==A7[0]then
if IsUnitFogged(GetAttacker(),Z7[1])or IsUnitFogged(GetAttacker(),A7[1])then
call EP8(CreateFogModifierRadius(A7[1],FOG_OF_WAR_VISIBLE,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),128,true,false),1)
endif
endif
return false
endfunction
function N09 takes nothing returns boolean
local trigger t
local group g
local unit u
set Ew=CreateRegion()
call RegionAddRect(Ew,HD)
call RegionAddRect(Ew,GD)
if V8 then
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Condition(function ZV7))
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Condition(function ZV7))
call TriggerAddCondition(t,Condition(function NL9))
set t=CreateTrigger()
set g=CX7()
call GroupEnumUnitsOfPlayer(g,Z7[0],Condition(function ZV7))
loop
set u=FirstOfGroup(g)
exitwhen u==null
call GroupRemoveUnit(g,u)
if GetUnitAcquireRange(u)!=0 then
call TriggerRegisterUnitInRange(t,u,600,Condition(function ZV7))
endif
endloop
call CW7(g)
set g=CX7()
call GroupEnumUnitsOfPlayer(g,A7[0],Condition(function ZV7))
loop
set u=FirstOfGroup(g)
exitwhen u==null
call GroupRemoveUnit(g,u)
if GetUnitAcquireRange(u)!=0 and IsUnitType(u,UNIT_TYPE_STRUCTURE)then
call TriggerRegisterUnitInRange(t,u,600,Condition(function ZV7))
endif
endloop
call CW7(g)
call TriggerAddCondition(t,Condition(function N39))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function N19))
endif
call UA7(GetTriggeringTrigger())
set u=null
set g=null
set t=null
return false
endfunction
function N59 takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit()))and(not Wy(GetTriggerUnit()))and GetUnitTypeId(GetTriggerUnit())!=1211117645 and GetUnitTypeId(GetTriggerUnit())!=1311788365 and GetUnitTypeId(GetTriggerUnit())!=1211117657 and GetUnitTypeId(GetTriggerUnit())!=1211119431 and GetUnitTypeId(GetTriggerUnit())!=1211122232 and(not LO4)
endfunction
function N29 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Z7[0]then
call SetUnitAbilityLevel(GetTriggerUnit(),N8,5)
if rw[GetUnitUserData(GetTriggerUnit())]==null then
call SetUnitUserData(GetTriggerUnit(),0)
call IssuePointOrderLoc(GetTriggerUnit(),"attack",(O8[GetUnitAbilityLevel((GetTriggerUnit()),N8)]))
endif
elseif GetOwningPlayer(GetTriggerUnit())==A7[0]then
call SetUnitAbilityLevel(GetTriggerUnit(),N8,1)
if rw[GetUnitUserData(GetTriggerUnit())]==null then
call SetUnitUserData(GetTriggerUnit(),0)
call IssuePointOrderLoc(GetTriggerUnit(),"attack",(O8[GetUnitAbilityLevel((GetTriggerUnit()),N8)]))
endif
endif
return false
endfunction
function N_9 takes unit S4 returns nothing
local integer i=0
loop
exitwhen(i==16)
if IsUnitAlly(S4,Player(i))then
call UnitShareVision(S4,Player(i),true)
endif
set i=i+1
endloop
endfunction
function O49 takes nothing returns nothing
call N_9(GetEnumUnit())
endfunction
function O79 takes nothing returns nothing
local integer x
local group g
set x=1
loop
exitwhen x>5
call SetPlayerAlliance(Z7[0],Z7[x],ConvertAllianceType(5),false)
call SetPlayerAlliance(A7[0],A7[x],ConvertAllianceType(5),false)
set x=x+1
endloop
set g=CX7()
call GroupEnumUnitsOfPlayer(g,Z7[0],Condition(function ZV7))
call ForGroup(g,function O49)
call CW7(g)
set g=CX7()
call GroupEnumUnitsOfPlayer(g,A7[0],Condition(function ZV7))
call ForGroup(g,function O49)
call CW7(g)
set g=null
endfunction
function O89 takes nothing returns nothing
local integer x
set x=0
loop
exitwhen x>5
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(0),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(1),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(2),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(3),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(4),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(5),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(6),false)
call SetPlayerAlliance(Z7[x],B7,ConvertAllianceType(7),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(0),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(1),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(2),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(3),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(4),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(5),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(6),false)
call SetPlayerAlliance(A7[x],B7,ConvertAllianceType(7),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(0),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(1),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(2),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(3),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(4),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(5),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(6),false)
call SetPlayerAlliance(B7,Z7[x],ConvertAllianceType(7),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(0),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(1),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(2),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(3),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(4),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(5),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(6),false)
call SetPlayerAlliance(B7,A7[x],ConvertAllianceType(7),false)
set x=x+1
endloop
endfunction
function O99 takes nothing returns boolean
return NM9(GetTriggerUnit())
endfunction
function OD9 takes nothing returns nothing
call N_9(GetTriggerUnit())
endfunction
function OE9 takes nothing returns nothing
local trigger t
if not V8 then
return
endif
call O79()
call O89()
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,GetWorldBounds())
call TriggerAddCondition(t,Condition(function O99))
call TriggerAddAction(t,function OD9)
set t=null
endfunction
function OF9 takes nothing returns nothing
call RemoveUnit(U87(GetHandleId(GetTriggerUnit()),"Locust"))
endfunction
function OG9 takes nothing returns nothing
local group g
local unit S4
local unit OH9
local trigger t
local integer i
set t=CreateTrigger()
call TriggerAddAction(t,function OF9)
set g=CX7()
call GroupEnumUnitsOfPlayer(g,Z7[0],Condition(function ZV7))
loop
set S4=FirstOfGroup(g)
exitwhen S4==null
call GroupRemoveUnit(g,S4)
if GetUnitAbilityLevel(S4,1097102451)>0 or GetUnitAbilityLevel(S4,1098150517)>0 then
call TriggerRegisterUnitEvent(t,S4,EVENT_UNIT_DEATH)
set OH9=CreateUnit(Z7[1],(1966092354),-5000,-5100,0)
call SetUnitScale(OH9,0,0,0)
call SetUnitPathing(OH9,false)
call SetUnitInvulnerable(OH9,true)
call SetUnitX(OH9,GetUnitX(S4))
call SetUnitY(OH9,GetUnitY(S4))
call TU7(GetHandleId(S4),"Locust",OH9)
endif
endloop
call CW7(g)
set g=CX7()
call GroupEnumUnitsOfPlayer(g,A7[0],Condition(function ZV7))
loop
set S4=FirstOfGroup(g)
exitwhen S4==null
call GroupRemoveUnit(g,S4)
if GetUnitAbilityLevel(S4,1097102451)>0 or GetUnitAbilityLevel(S4,1098150517)>0 then
call TriggerRegisterUnitEvent(t,S4,EVENT_UNIT_DEATH)
set OH9=CreateUnit(A7[1],(1966092354),3400,4400,0)
call SetUnitScale(OH9,0,0,0)
call SetUnitPathing(OH9,false)
call SetUnitInvulnerable(OH9,true)
call SetUnitX(OH9,GetUnitX(S4))
call SetUnitY(OH9,GetUnitY(S4))
call TU7(GetHandleId(S4),"Locust",OH9)
endif
endloop
call CW7(g)
set t=null
set OH9=null
set S4=null
set g=null
endfunction
function OI9 takes nothing returns nothing
if V8 then
set NK4=CreateTrigger()
call TriggerRegisterTimerEvent(NK4,1.,true)
call TriggerAddAction(NK4,function AX8)
endif
endfunction
function OJ9 takes nothing returns boolean
call UA7(GetTriggeringTrigger())
call TriggerEvaluate(MS)
return false
endfunction
function OK9 takes nothing returns boolean
local real r=TimerGetRemaining(Q84)
local real DI9=r
local integer D5=R2I(DI9)
local integer DZ9=D5/ 60-1/ 2
local integer DA9=ModuloInteger(D5,60)
local trigger t
if r==0 then
set Y04=true
call II8("GameStart",1)
call DY9(DZ9,DA9,true)
set N54=true
set M_4=TimerGetElapsed(W)
call UA7(GetTriggeringTrigger())
set IW4=Rect(-7040,-7680,7040,7168)
call SetFloatGameState(GAME_STATE_TIME_OF_DAY,6.00)
call SuspendTimeOfDay(false)
call SetTimeOfDayScale(0.625)
if A4==false then
if DT then
call TriggerRegisterTimerEvent(H04,120.,true)
else
call TriggerRegisterTimerEvent(H04,120.,true)
endif
call TriggerEvaluate(H04)
endif
call TriggerRegisterTimerEvent(MS,60.,true)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,30.,false)
call TriggerAddCondition(t,Condition(function OJ9))
set t=null
call TriggerRegisterTimerEventPeriodic(JS,30.00)
call TriggerExecute(JS)
call TriggerRegisterTimerEventPeriodic(KS,450.00)
call TriggerRegisterTimerEventSingle(GS,2699.00)
call TriggerRegisterTimerEventSingle(HS,999.00)
call TriggerRegisterTimerEventSingle(HS,1999.00)
call TriggerRegisterTimerEventSingle(HS,2999.00)
call TriggerRegisterTimerEvent(NZ4,300.,true)
call TriggerRegisterTimerEvent(OH4,300.,true)
call TriggerRegisterTimerEvent(U9,30.,true)
call TriggerEvaluate(U9)
if C4 then
call TriggerRegisterTimerEvent(OS,600.,true)
endif
elseif r==7 then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,30.,true)
call TriggerAddCondition(t,Condition(function II9))
elseif DI9<12 and QE4==false then
set QE4=true
call PlaySoundBJ(ZO)
call DY9(DZ9,DA9,true)
elseif DI9==20 then
if GetRandomInt(0,10)<6 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,6,"|c006699CC"+GetObjectName(1848659015)+"|r")
endif
elseif DI9==30 then
else
call DY9(DZ9,DA9,true)
endif
return false
endfunction
function OM9 takes nothing returns nothing
local trigger t
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function OK9))
set Q84=CreateTimer()
call TimerStart(Q84,QD4+1,false,null)
set t=null
set N44=TimerGetElapsed(W)+1
endfunction
function ON9 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())!=Z7[0]and GetOwningPlayer(GetTriggerUnit())!=A7[0]then
set PT[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=PT[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
if GetIssuedOrderId()!=OrderId("attack")then
set nb[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(TimerGetElapsed(W))
set QT[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
endif
if(GetIssuedOrderId()==OrderId("attack")or GetIssuedOrderId()==851971)and GetOrderTargetItem()!=null then
if GetIssuedOrderId()==OrderId("attack")or(GetIssuedOrderId()==851971 and UP7(GetHandleId(GetItemPlayer(GetOrderTargetItem())),"DisableHelp")==true)then
if GetItemPlayer(GetOrderTargetItem())!=GetOwningPlayer(GetTriggerUnit())and IsPointInRegion(Ew,GetItemX(GetOrderTargetItem()),GetItemY(GetOrderTargetItem()))==true then
call DisableTrigger(GetTriggeringTrigger())
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848657719))))
call EnableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
return false
endfunction
function OO9 takes nothing returns nothing
local string OP9=StringCase(GetEventPlayerChatString(),false)
local boolean OQ9=OP9=="-random" or OP9=="-random int" or OP9=="-random agi" or OP9=="-random str"
local boolean OR9=OP9=="-repick"
local boolean OS9=OP9=="-gameinfo"
local boolean OT9=SubString(OP9,0,5)=="-swap"
local boolean OU9=OP9=="-recreate"
local boolean OV9=OP9=="-unstuck"
local boolean OW9=OP9=="-matchup" or OP9=="-ma"
local boolean OX9=OP9=="-movespeed" or OP9=="-ms"
local boolean OY9=OP9=="-msa"
local boolean OZ9=OP9=="-disablehelp"
local boolean OA9=OP9=="-enablehelp"
local boolean OB9=OP9=="-creepstats" or OP9=="-cs"
local boolean OC9=OP9=="-cson" or OP9=="-csoff"
local boolean O39=OP9=="-hidemsg"
local boolean O69=OP9=="-showmsg"
local boolean OL9=OP9=="-weather snow" or OP9=="-weather rain" or OP9=="-weather off" or OP9=="-weather random" or OP9=="-weather wind" or OP9=="-weather moonlight"
local boolean O19=OP9=="-showdeny" or OP9=="-hidedeny"
local boolean O09=OP9=="-denyinfo" or OP9=="-di"
local boolean O59=OP9=="-don" or OP9=="-deathon" or OP9=="-doff" or OP9=="-deathoff"
local boolean O29=SubString(OP9,0,5)=="-roll" and OP9!="-rollhero"
local boolean O_9=OP9=="-hhn" or OP9=="-hideheronames"
local boolean P49=OP9=="-mute"
local boolean P79=OP9=="-apm"
local boolean P89=OP9=="-clear"
local boolean P99=OP9=="-courier"
local boolean PD9=OP9=="-invokelist" or OP9=="-il"
local boolean bListCommand=OP9=="-list"
local boolean PE9=OP9=="-rolloff"
local boolean PF9=OP9=="-rollon"
local boolean PG9=SubString(OP9,0,6)=="-music"
local boolean PH9=SubString(OP9,0,6)=="-water"
local boolean PI9=SubString(OP9,0,6)=="-quote"
local boolean PJ9=SubString(OP9,0,3)=="-cm"
local boolean PK9=SubString(OP9,0,9)=="-itemswap"
local boolean PM9=OP9=="-bonus"
local boolean PN9=OP9=="-rollhero" or OP9=="-rh"
local boolean PO9=SubString(OP9,0,9)=="-rickroll"
local boolean NoSwitch=OP9=="-noswitch"
local boolean Switch=SubString(OP9,0,7)=="-switch"or OP9=="-ok"or OP9=="-no"
local boolean Terrain=OP9=="-terrain" or OP9=="-terrain default" or OP9=="-terrain snow"
local boolean PP9=OP9=="-tips"
local boolean PQ9=OP9=="-ii" or OP9=="-iteminfo"
local boolean QM7=OP9=="-center" or OP9=="-centeroff" or OP9=="-c" or OP9=="-co"
local boolean Unlock=OP9=="-unlock"
local boolean PR9=OP9=="-disableselection"or OP9=="-ds"
local boolean PS9=OP9=="-enableselection"or OP9=="-es"
local boolean PT9=OP9=="-sleep"
local boolean PU9=OP9=="-calm"
local boolean DM9=OP9=="-st"
local boolean NoHat=OP9=="-nosanta"
local boolean PV9=SubString(OP9,0,10)=="-aiunstuck"
local boolean PW9=StringLength(OP9)>3 and SubString(OP9,0,3)=="-cs"
local boolean PX9=StringLength(OP9)>3 and SubString(OP9,0,3)=="-ms"
local boolean PY9=OP9=="-aid"
local boolean PZ9=OP9=="-override"
local boolean PA9=OP9=="-formless"
local boolean PB9=OP9=="-bastion"
local boolean PC9=OP9=="-aimsg"
local boolean P39=OP9=="-aimsgmiss"
local boolean P69=(OP9=="-aiboard")
local boolean PL9=OP9=="-aiglyph"
local boolean P19=((OP9=="-aishowde")or(OP9=="-aishowdg")or(OP9=="-aishowdedg")or(OP9=="-aishowdynamic"))
call D48("P09",OQ9)
call D48("P59",OR9)
call D48("P29",OS9)
call D48("P_9",OT9)
call D48("Q49",OU9)
call D48("Q79",OV9)
call D48("Q89",OW9)
call D48("Q99",OX9)
call D48("QD9",OY9)
call D48("QE9",OZ9)
call D48("QF9",OA9)
call D48("QG9",OB9)
call D48("QH9",OC9)
call D48("QI9",O39)
call D48("QJ9",O69)
call D48("QK9",OL9)
call D48("QM9",O19)
call D48("QN9",O09)
call D48("QO9",O59)
call D48("QP9",O29)
call D48("QQ9",O_9)
call D48("QR9",P49)
call D48("QS9",P79)
call D48("QT9",P89)
call D48("QU9",P99)
call D48("QV9",PD9)
call D48("QW9",PE9)
call D48("QX9",PF9)
call D48("QY9",PG9)
call D48("QZ9",PH9)
call D48("QA9",PI9)
call D48("QB9",PJ9)
call D48("QC9",PK9)
call D48("Q39",PM9)
call D48("Q69",PN9)
call D48("QL9",PO9)
call D48("Q19",PQ9)
call D48("Q09",PP9)
call D48("Q59",QM7)
call D48("Q29",PR9)
call D48("Q_9",PS9)
call D48("R49",PT9)
call D48("R79",DM9)
call D48("R89",PU9)
call D48("R99",PW9)
call D48("RD9",PX9)
call D48("RE9",PY9)
call D48("RF9",PV9)
call D48("RG9",PZ9)
call D48("RH9",PA9)
call D48("RI9",PB9)
call D48("RJ9",PC9)
call D48("RK9",P39)
call D48("RM9",P69)
call D48("RN9",PL9)
call D48("RO9",P19)
endfunction
function RJ9 takes nothing returns nothing
local integer O5=GetPlayerId(GetTriggerPlayer())
set DQ7[O5]=(not DQ7[O5])
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496332599)+PZ7(DQ7[O5],GetObjectName(1496403790),GetObjectName(1498369862)))
endfunction
function RK9 takes nothing returns nothing
local integer O5=GetPlayerId(GetTriggerPlayer())
set DQ7[16+O5]=(not DQ7[16+O5])
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496332598)+PZ7(DQ7[16+O5],GetObjectName(1496403790),GetObjectName(1498369862)))
if(DQ7[16+O5])and(not DQ7[O5])then
call RJ9()
endif
endfunction
function RP9 takes player p returns nothing
local integer O5=GetPlayerId(p)
if p==QT4 then
set FK7=not FK7
call DisplayTimedTextToForce(X7,10.,GetObjectName(1496332597)+PZ7(FK7,GetObjectName(1496403790),GetObjectName(1498369862)))
if not FK7 then
call DisplayTimedTextToForce(X7,10.,GetObjectName(1496332080))
endif
call DisplayTimedTextToForce(X7,10.," ")
elseif p==QU4 then
set FM7=not FM7
call DisplayTimedTextToForce(Y7,10.,GetObjectName(1496332597)+PZ7(FM7,GetObjectName(1496403790),GetObjectName(1498369862)))
if not FM7 then
call DisplayTimedTextToForce(Y7,10.,GetObjectName(1496332080))
endif
call DisplayTimedTextToForce(Y7,10.," ")
endif
set p=null
endfunction
function RN9 takes nothing returns nothing
call RP9(GetTriggerPlayer())
endfunction
function QL9 takes nothing returns nothing
local integer a=S2I(SubString(GetEventPlayerChatString(),10,StringLength(GetEventPlayerChatString())))
local integer D5=GetPlayerId(GetTriggerPlayer())
set Rw[D5]=Rw[D5]+1
if Rw[D5]>10 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName((1848656977))))
return
endif
if a<1 or a>8 then
set a=GetRandomInt(1,8)
endif
if a==1 then
call BC7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna give you up")
elseif a==2 then
call BC7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna let you down")
elseif a==3 then
call BC7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna run around")
elseif a==4 then
call BC7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna desert you")
elseif a==5 then
call BC7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna make you cry")
elseif a==6 then
call BC7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna say goodbye")
elseif a==7 then
call BC7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna tell a lie")
elseif a==8 then
call BC7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna hurt you")
endif
endfunction
function RQ9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
set t=null
return false
endfunction
function R49 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=M7[GetPlayerId(GetTriggerPlayer())]
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Sleep\\SleepTarget.mdl",EC8,"overhead")))
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(t,Condition(function RQ9))
call SetUnitAnimation(EC8,"sleep")
set t=null
set EC8=null
endfunction
function R89 takes nothing returns nothing
call SetUnitAnimationByIndex(M7[GetPlayerId(GetTriggerPlayer())],23)
endfunction
function Command_NoHat takes nothing returns nothing
endfunction
function Q09 takes nothing returns nothing
if RT[GetPlayerId(GetTriggerPlayer())]==false then
set RT[GetPlayerId(GetTriggerPlayer())]=true
if(GetObjectName((1848657992)))=="Language: English" then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,"You have activated the -tips system.")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,"Please remember that these are just introductory recommendations and are not the only way to play heroes.")
endif
if M7[GetPlayerId(GetTriggerPlayer())]!=null then
call HS8(GetTriggerPlayer(),GetUnitPointValue(M7[GetPlayerId(GetTriggerPlayer())]))
endif
endif
endfunction
function RR9 takes nothing returns boolean
if F9==false then
return false
endif
if W4[GetPlayerId(lx)]==true then
return false
endif
if P==false then
return false
endif
if M7[GetPlayerId(lx)]!=null and O9==false then
return false
endif
if I[GetPlayerId(lx)]==true then
return false
endif
if P9[GetPlayerId(lx)]and O9==false then
return false
endif
if O9 and eo[GetPlayerId(lx)]then
return false
endif
if(lx==QT4 and QV4!=null)or(lx==QU4 and QW4!=null)then
call DisplayTimedTextToPlayer(lx,0,E9,10,"Cannot random when manual picking.")
return false
endif
return true
endfunction
function RS9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local player p=UD7(UC7,"p")
local string RT9=UQ7(UC7,"string")
set lx=p
if RR9()then
set W4[GetPlayerId(p)]=true
if RT9=="-random int" then
call BO7(p)
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)
elseif RT9=="-random str" then
call BS7(p)
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)
elseif RT9=="-random agi" then
call BT7(p)
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)
else
call BU7(p)
endif
else
call DisplayTimedTextToPlayer(p,0,E9,10,(GetObjectName((1848653625))))
endif
set t=null
set p=null
return false
endfunction
function P09 takes nothing returns nothing
local player j8=GetTriggerPlayer()
local trigger t
set lx=j8
if RR9()and oo[GetPlayerId(j8)]==false then
set oo[GetPlayerId(j8)]=true
call AZ7(j8)
call DisplayTimedTextToPlayer(j8,0,E9,10,(GetObjectName((1848653633))))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,6.,false)
call TriggerAddCondition(t,Condition(function RS9))
call TA7(GetHandleId(t),"p",j8)
call TS7(GetHandleId(t),"string",StringCase(GetEventPlayerChatString(),false))
endif
set t=null
endfunction
function RU9 takes nothing returns boolean
local unit CO7=M7[GetPlayerId(GetTriggerPlayer())]
if PJ4 then
call L27(GetTriggerPlayer(),(GetObjectName((1848652592))))
return false
endif
if G9==false then
if VT==false and A8==false and O04==false and O54==false and P74==false and P84==false and O9==false and W8==false then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,"-repick "+(GetObjectName((1848653122))))
endif
return false
endif
if(I[GetPlayerId(GetTriggerPlayer())]==true)then
return false
endif
if(M7[GetPlayerId(GetTriggerPlayer())]==null)then
return false
endif
if D4 or A8 or O9 or RZ4 then
return false
endif
if(T9==true)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653104))))
return false
endif
if(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)<X4)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653113))))
return false
endif
if GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)<350 and P4 or Y8 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653141))))
return false
endif
if GetUnitState(CO7,UNIT_STATE_MANA)!=GetUnitState(CO7,UNIT_STATE_MAX_MANA)or GetUnitState(CO7,UNIT_STATE_LIFE)!=GetUnitState(CO7,UNIT_STATE_MAX_LIFE)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653130))))
return false
endif
return true
endfunction
function RV9 takes nothing returns nothing
if(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true)then
if(GetUnitTypeId(GetEnumUnit())==1429221430)then
call ExecuteFunc("CU8")
elseif GetUnitTypeId(GetEnumUnit())==1429221432 or GetUnitTypeId(GetEnumUnit())==1160786229 then
set IT4=GetEnumUnit()
call ExecuteFunc("LP8")
endif
call BC7(M4(GetTriggerPlayer()),10.00,(GetObjectName((1848653132)))+" "+CF7(GetEnumUnit())+".")
endif
if(GetUnitTypeId(GetEnumUnit())==1848651828)then
call RemoveUnit(GetEnumUnit())
endif
if(GetUnitTypeId(GetEnumUnit())==1848652088)then
call RemoveUnit(GetEnumUnit())
endif
if(GetUnitTypeId(GetEnumUnit())==1848652099)then
call RemoveUnit(GetEnumUnit())
endif
if(GetUnitTypeId(GetEnumUnit())==1848652103)then
call RemoveUnit(GetEnumUnit())
endif
endfunction
function RW9 takes nothing returns nothing
local player j8=GetTriggerPlayer()
local group IB8=CX7()
local integer BP7
local integer BQ7
local location BR7
local integer A57
local integer T8
local integer U8
local unit RX9
local location I18=GetRectCenter(pr)
local location I08=GetRectCenter(qr)
set bj_groupEnumOwningPlayer=j8
call GroupEnumUnitsInRect(IB8,GetWorldBounds(),filterGetUnitsInRectOfPlayer)
if(ZC7(j8)==true)then
set BP7=KL4
set BQ7=K14
set BR7=GetRectCenter(HD)
else
set BP7=K04
set BQ7=K54
set BR7=GetRectCenter(GD)
endif
if E4 then
if(GetRandomInt(1,2)==1)then
set BP7=KL4
set BQ7=K14
else
set BP7=K04
set BQ7=K54
endif
endif
if P4 or Y8 then
set X4=100
endif
set RX9=U87(GetHandleId(GetTriggerPlayer()),"ChargeUnit")
if RX9!=null and GetUnitTypeId(RX9)==1697656899 then
call RemoveUnit(RX9)
set RX9=null
endif
call AdjustPlayerStateBJ(-1*X4,j8,PLAYER_STATE_RESOURCE_GOLD)
set I[GetPlayerId(j8)]=true
call ForGroup(IB8,function RV9)
call DK8(M7[GetPlayerId(j8)])
set M7[GetPlayerId(GetTriggerPlayer())]=null
if P4 or Y8 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,(GetObjectName((1311782233))))
if P4 then
set T8=KL4
set U8=K54
endif
if ZC7(j8)then
if Y8 then
set T8=KL4
set U8=K14
call CreateUnitAtLoc(j8,1848651843,I18,bj_UNIT_FACING)
else
call CreateUnitAtLoc(j8,1848651843,I18,bj_UNIT_FACING)
call CreateUnitAtLoc(j8,1848651843,I08,bj_UNIT_FACING)
endif
call PanCameraToTimedLocForPlayer(j8,I18,0)
else
if Y8 then
set T8=K04
set U8=K54
call CreateUnitAtLoc(j8,1848651843,I08,bj_UNIT_FACING)
else
call CreateUnitAtLoc(j8,1848651843,I18,bj_UNIT_FACING)
call CreateUnitAtLoc(j8,1848651843,I08,bj_UNIT_FACING)
endif
call PanCameraToTimedLocForPlayer(j8,I08,0)
endif
loop
exitwhen T8>U8
if J[T8]==false then
call SetPlayerTechMaxAllowed(j8,K34[T8],1)
endif
set T8=T8+1
endloop
call CW7(IB8)
set IB8=null
call RemoveLocation(BR7)
set BR7=null
call RemoveLocation(I18)
set I18=null
call RemoveLocation(I08)
set I08=null
return
endif
loop
set A57=GetRandomInt(BP7,BQ7)
if(J[A57]==false)then
set J[A57]=true
set M7[GetPlayerId(j8)]=CreateUnitAtLoc(j8,K34[A57],BR7,bj_UNIT_FACING)
call AY7(K34[A57])
endif
exitwhen M7[GetPlayerId(GetTriggerPlayer())]!=null
endloop
call CW7(IB8)
set IB8=null
call RemoveLocation(BR7)
set BR7=null
call RemoveLocation(I18)
set I18=null
call RemoveLocation(I08)
set I08=null
endfunction
function P59 takes nothing returns nothing
if RU9()then
call RW9()
endif
endfunction
function P29 takes nothing returns nothing
local player j8=GetTriggerPlayer()
local string RY9="|c006699CC"
if P74 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"League Mode"+"|r:      "+(GetObjectName((1848653621))))
endif
if P84 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Extended League"+"|r:      "+(GetObjectName((1848653634))))
call DisplayTimedTextToPlayer(j8,0,E9,20,"                                 "+(GetObjectName((1848653616))))
endif
if D4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Death Match"+"|r:        "+(GetObjectName((1848653402))))
call DisplayTimedTextToPlayer(j8,0,E9,20,"                              "+(GetObjectName((1848653401)))+" "+I2S(DN8(K14,K54-K04+1))+" "+(GetObjectName((1848653635))))
endif
if W8 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Mirror Match"+"|r:       "+(GetObjectName((1848653399))))
endif
if P4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"All Pick"+"|r:                 "+(GetObjectName((1848653398))))
endif
if O04 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Random Draft"+"|r:                 "+(GetObjectName((1848653618))))
endif
if VT then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Single Draft"+"|r:                 "+(GetObjectName((1848653639))))
endif
if E4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"All Random"+"|r:          "+(GetObjectName((1848653617))))
endif
if A8 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Vote Random"+"|r:         "+(GetObjectName((1848653620))))
endif
if O4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Team Random"+"|r:     "+(GetObjectName((1848653389))))
endif
if O9 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Reverse"+"|r:                 "+(GetObjectName((1848653619))))
endif
if ge then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Shuffle Players"+"|r:     "+(GetObjectName((1848653640))))
endif
if Rx then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"All Agility"+"|r:             "+(GetObjectName((1848653644))))
endif
if bx then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"All Strength"+"|r:         "+(GetObjectName((1848653643))))
endif
if Nx then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"All Intelligence"+"|r:    "+(GetObjectName((1848653642))))
endif
if Jj then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Range Only"+"|r:    "+(GetObjectName((1848657716))))
endif
if lj then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Melee Only"+"|r:    "+(GetObjectName((1848657717))))
endif
if X8 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Duplicate Mode"+"|r:   "+(GetObjectName((1848653641))))
endif
if R4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Item Drop"+"|r:             "+(GetObjectName((1848653638))))
endif
if A4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"No Powerups"+"|r:        "+(GetObjectName((1848653645))))
endif
if C4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Super Creeps"+"|r:        "+(GetObjectName((1848653646))))
call DisplayTimedTextToPlayer(j8,0,E9,20,"                             "+(GetObjectName((1848653647))))
endif
if Y4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Easy Mode"+"|r:           "+(GetObjectName((1848653652))))
endif
if H34 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Same Hero"+"|r:           "+(GetObjectName((1848653653)))+" "+(KZ4[GetPlayerId((Le))])+"|r"+" "+(GetObjectName((1848653655))))
endif
if PE4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Only Mid"+"|r:           "+(GetObjectName((1848653872))))
endif
if PF4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"No Bot"+"|r:           "+(GetObjectName((1848653654))))
endif
if PG4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"No Mid"+"|r:           "+(GetObjectName((1848653651))))
endif
if PH4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"No Top"+"|r:           "+(GetObjectName((1848653650))))
endif
if PI4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"No Swap"+"|r:           "+(GetObjectName((1848653656))))
endif
if PJ4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"No Repick"+"|r:           "+(GetObjectName((1848653649))))
endif
if PK4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Pool Mode"+"|r:           "+(GetObjectName((1848653657))))
endif
if PM4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Observer Info"+"|r:           "+(GetObjectName((1848653658))))
endif
if bN then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Mini Heroes"+"|r:           "+(GetObjectName((1848657219))))
endif
if LS then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Fast Respawn"+"|r:           "+(GetObjectName((1848656976))))
endif
if SN4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Captains Mode"+"|r:           "+(GetObjectName((1848657220))))
endif
if DT then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Experimental Runes"+"|r:           "+(GetObjectName((1848657718))))
endif
if O54 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Captains Draft"+"|r:           "+(GetObjectName((1848657734))))
endif
if Y8 then
call DisplayTimedTextToPlayer(j8,0,E9,20,RY9+"Normal Mode"+"|r:        "+(GetObjectName((1848653648))))
endif
if ZT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F07+"Super Tower|r:         Towers regenerates HP")
endif
if AT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F07+"Modified Super Creeps|r:  An improved version of Super Creeps")
endif
if BT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F07+"High Exp AI|r:            The AI has increased experience gain.")
endif
if LT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F07+"Normal Exp AI|r:       The AI receives the default amount of experience.")
endif
if EU then
call DisplayTimedTextToPlayer(j8,0,E9,20,F07+"Dynamic Exp AI|r:       AI gets bonus exp rate on death or on a period without death/kill/assist. Bonus exp is reduced on kill/assist.")
endif
if CT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F07+"High Gold AI|r:           The AI has increased gold gain.")
endif
if WT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F07+"Normal Gold AI|r:      The AI receives the default amount of gold.")
endif
if FU then
call DisplayTimedTextToPlayer(j8,0,E9,20,F07+"Dynamic Gold AI|r:       AI gets bonus gold rate on death or on a period without death/kill/assist. Bonus gold rate reduced on kill/assist.")
endif
if E97 then
call DisplayTimedTextToPlayer(j8,0,E9,20,F07+"Xtreme AI|r:          Increases bonuses from Dynamic Exp and Gold.")
endif
if T64 then
call DisplayTimedTextToPlayer(j8,0,E9,20,F07+"Cool Names|r:          The AI receives a random cool name.")
endif
if TL4 then
call DisplayTimedTextToPlayer(j8,0,E9,20,F07+"All Dagon|r:          The AI receives random level Dagon at random times.")
endif
if XT then
call DisplayTimedTextToPlayer(j8,0,E9,20,F07+"No Necronomicon|r:    The AI will not build Necronomicon.")
endif
endfunction
function P5 takes nothing returns nothing
if((GetUnitTypeId(GetEnumUnit())==1848651828)or(GetUnitTypeId(GetEnumUnit())==1865429043))then
call RemoveUnit(GetEnumUnit())
endif
endfunction
function RZ9 takes unit u1,unit u2 returns nothing
local player RA9=GetOwningPlayer(u1)
local player RB9=GetOwningPlayer(u2)
local unit RC9=CreateUnit(RA9,1697657158,0,0,0)
local group g
local item R39
local integer R69
set R69=VG4[GetPlayerId(RA9)]
set VG4[GetPlayerId(RA9)]=VG4[GetPlayerId(RB9)]
set VG4[GetPlayerId(RB9)]=R69
call DisableTrigger(H94)
if GetUnitAbilityLevel(u1,1093677893)>0 then
set B2=u1
set C2=u2
call ExecuteFunc("RL9")
elseif GetUnitAbilityLevel(u2,1093677893)>0 then
set B2=u2
set C2=u1
call ExecuteFunc("RL9")
endif
if GetUnitAbilityLevel(u1,1093682009)>0 then
set B2=u1
set C2=u2
call ExecuteFunc("R19")
elseif GetUnitAbilityLevel(u2,1093682009)>0 then
set B2=u2
set C2=u1
call ExecuteFunc("R19")
endif
if GetUnitAbilityLevel(u1,1093743444)>0 then
set B2=u1
set C2=u2
call ExecuteFunc("R09")
elseif GetUnitAbilityLevel(u2,1093743444)>0 then
set B2=u2
set C2=u1
call ExecuteFunc("R09")
endif
call TN7(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u1)))))
call TN7(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u2)))))
set g=CX7()
set bj_groupEnumOwningPlayer=RA9
call GroupEnumUnitsInRect(g,GetWorldBounds(),filterGetUnitsInRectOfPlayer)
call ForGroup(g,function P5)
call CW7(g)
set g=CX7()
set bj_groupEnumOwningPlayer=RB9
call GroupEnumUnitsInRect(g,GetWorldBounds(),filterGetUnitsInRectOfPlayer)
call ForGroup(g,function P5)
call CW7(g)
call SetUnitOwner(u2,RA9,true)
call SetUnitOwner(u1,RB9,true)
set M7[GetPlayerId(RA9)]=u2
set M7[GetPlayerId(RB9)]=u1
if Z17(RA9)then
call SetPlayerName(RA9,BA7(RA9))
else
call SetPlayerName(RA9,BA7(RA9)+" ("+CF7(M7[GetPlayerId(RA9)])+")")
endif
if Z17(RB9)then
call SetPlayerName(RB9,BA7(RB9))
else
call SetPlayerName(RB9,BA7(RB9)+" ("+CF7(M7[GetPlayerId(RB9)])+")")
endif
call UnitAddItem(RC9,UnitItemInSlot(u2,0))
call UnitAddItem(RC9,UnitItemInSlot(u2,1))
call UnitAddItem(RC9,UnitItemInSlot(u2,2))
call UnitAddItem(RC9,UnitItemInSlot(u2,3))
call UnitAddItem(RC9,UnitItemInSlot(u2,4))
call UnitAddItem(RC9,UnitItemInSlot(u2,5))
set R39=UnitItemInSlot(u1,0)
if R39!=null then
call SetItemPlayer(R39,RA9,false)
call SetItemUserData(R39,1)
call UnitAddItem(u2,R39)
endif
set R39=UnitItemInSlot(u1,1)
if R39!=null then
call SetItemPlayer(R39,RA9,false)
call SetItemUserData(R39,1)
call UnitAddItem(u2,R39)
endif
set R39=UnitItemInSlot(u1,2)
if R39!=null then
call SetItemPlayer(R39,RA9,false)
call SetItemUserData(R39,1)
call UnitAddItem(u2,R39)
endif
set R39=UnitItemInSlot(u1,3)
if R39!=null then
call SetItemPlayer(R39,RA9,false)
call SetItemUserData(R39,1)
call UnitAddItem(u2,R39)
endif
set R39=UnitItemInSlot(u1,4)
if R39!=null then
call SetItemPlayer(R39,RA9,false)
call SetItemUserData(R39,1)
call UnitAddItem(u2,R39)
endif
set R39=UnitItemInSlot(u1,5)
if R39!=null then
call SetItemPlayer(R39,RA9,false)
call SetItemUserData(R39,1)
call UnitAddItem(u2,R39)
endif
set R39=UnitItemInSlot(RC9,0)
if R39!=null then
call SetItemPlayer(R39,RB9,false)
call SetItemUserData(R39,1)
call UnitAddItem(u1,R39)
endif
set R39=UnitItemInSlot(RC9,1)
if R39!=null then
call SetItemPlayer(R39,RB9,false)
call SetItemUserData(R39,1)
call UnitAddItem(u1,R39)
endif
set R39=UnitItemInSlot(RC9,2)
if R39!=null then
call SetItemPlayer(R39,RB9,false)
call SetItemUserData(R39,1)
call UnitAddItem(u1,R39)
endif
set R39=UnitItemInSlot(RC9,3)
if R39!=null then
call SetItemPlayer(R39,RB9,false)
call SetItemUserData(R39,1)
call UnitAddItem(u1,R39)
endif
set R39=UnitItemInSlot(RC9,4)
if R39!=null then
call SetItemPlayer(R39,RB9,false)
call SetItemUserData(R39,1)
call UnitAddItem(u1,R39)
endif
set R39=UnitItemInSlot(RC9,5)
if R39!=null then
call SetItemPlayer(R39,RB9,false)
call SetItemUserData(R39,1)
call UnitAddItem(u1,R39)
endif
call RemoveUnit(RC9)
call EnableTrigger(H94)
if(IsUnitType(u1,UNIT_TYPE_MELEE_ATTACKER)==true or GetUnitTypeId(u1)==1211119187)and SV7(u1,ZU[GB])!=null then
call UnitRemoveItem(u1,SV7(u1,ZU[GB]))
elseif(IsUnitType(u1,UNIT_TYPE_RANGED_ATTACKER)==true or GetUnitTypeId(u1)==1211119187)and SV7(u1,ZU[BA])!=null then
call UnitRemoveItem(u1,SV7(u1,ZU[BA]))
endif
if(IsUnitType(u2,UNIT_TYPE_MELEE_ATTACKER)==true or GetUnitTypeId(u1)==1211119187)and SV7(u2,ZU[GB])!=null then
call UnitRemoveItem(u1,SV7(u2,ZU[GB]))
elseif(IsUnitType(u2,UNIT_TYPE_RANGED_ATTACKER)==true or GetUnitTypeId(u1)==1211119187)and SV7(u2,ZU[BA])!=null then
call UnitRemoveItem(u1,SV7(u2,ZU[BA]))
endif
if GetUnitTypeId(u1)==1211119187 and SV7(u1,ZU[BA])!=null then
call UnitRemoveItem(u1,SV7(u1,ZU[BA]))
elseif GetUnitTypeId(u1)==1211119187 and SV7(u1,ZU[GB])!=null then
call UnitRemoveItem(u1,SV7(u1,ZU[GB]))
endif
if GetUnitTypeId(u2)==1211119187 and SV7(u2,ZU[BA])!=null then
call UnitRemoveItem(u2,SV7(u2,ZU[BA]))
elseif GetUnitTypeId(u2)==1211119187 and SV7(u2,ZU[GB])!=null then
call UnitRemoveItem(u2,SV7(u2,ZU[GB]))
endif
if(IsUnitType(u1,UNIT_TYPE_MELEE_ATTACKER)==true)and SV7(u1,ZU[DX4])!=null then
call UnitRemoveItem(u1,SV7(u1,ZU[DX4]))
elseif(IsUnitType(u1,UNIT_TYPE_RANGED_ATTACKER)==true)and SV7(u1,ZU[DW4])!=null then
call UnitRemoveItem(u1,SV7(u1,ZU[DW4]))
endif
if(IsUnitType(u2,UNIT_TYPE_MELEE_ATTACKER)==true)and SV7(u2,ZU[DX4])!=null then
call UnitRemoveItem(u1,SV7(u2,ZU[DX4]))
elseif(IsUnitType(u2,UNIT_TYPE_RANGED_ATTACKER)==true)and SV7(u2,ZU[DW4])!=null then
call UnitRemoveItem(u1,SV7(u2,ZU[DW4]))
endif
call ClearSelectionForPlayer(RA9)
call SelectUnitAddForPlayer(u2,RA9)
call ClearSelectionForPlayer(RB9)
call SelectUnitAddForPlayer(u1,RB9)
call TN7(StringHash("SwapHero|"+I2S(GetPlayerId(RA9))))
call TN7(StringHash("SwapHero|"+I2S(GetPlayerId(RB9))))
set IN4=u1
call ExecuteFunc("W68")
set IN4=u2
call ExecuteFunc("W68")
call H68(RA9)
call H68(RB9)
if(GetPlayerController(RB9)==MAP_CONTROL_COMPUTER)then
call TU7(R44,"AIHSwap|U",u1)
call ExecuteFunc("Uf")
endif
set RA9=null
set RB9=null
set g=null
set RC9=null
set R39=null
endfunction
function yM takes unit u1,unit u2 returns boolean
return UP7(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u2)))),I2S(GetUnitTypeId(u2))+"|"+I2S(GetUnitTypeId(u1)))
endfunction
function YL takes nothing returns nothing
call TN7(StringHash("SwapHero|"+I2S(GetPlayerId(GetTriggerPlayer()))))
endfunction
function qA takes player p returns integer
local integer i=1
loop
exitwhen i>5
if Z7[i]==p or A7[i]==p then
return i
endif
set i=i+1
endloop
return-1
endfunction
function YT takes unit u1,unit u2 returns boolean
call TT7(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u1)))),I2S(GetUnitTypeId(u1))+"|"+I2S(GetUnitTypeId(u2)),true)
if yM(u1,u2)then
call RZ9(u1,u2)
else
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,30,"  ")
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,30,"|cff99ccffYou have requested to swap with |r"+Q[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r")
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,30,"  ")
if(GetPlayerController(GetOwningPlayer(u2))==MAP_CONTROL_USER)then
call DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,E9,30,"  ")
call DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,E9,30,"                         "+Q[GetPlayerId(GetOwningPlayer(u1))]+GetUnitName(u1)+"|r |cff99ccffwants to swap with you. Type|r |c00ff0303-swap "+I2S(qA(GetOwningPlayer(u1)))+"|r |cff99ccffto accept|r")
call DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,E9,30,"  ")
else
if(GetHeroSkillPoints(u1)!=GetHeroLevel(u1))then
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,10,"
                |cff99ccffRequest to swap with |r"+Q[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because you used a skill point")
elseif(Bz>QD4)then
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,10,"
                |cff99ccffRequest to swap with |r"+Q[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because it is too late")
elseif((hG[GetPlayerId(GetOwningPlayer(u2))]>0)or(not ST7(u2)))then
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,10,"
                |cff99ccffRequest to swap with |r"+Q[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because it already started its item build")
elseif(not ST7(u1))then
call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,E9,10,"
                |cff99ccffRequest to swap with |r"+Q[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because you have an item")
else
call RZ9(u1,u2)
endif
endif
endif
return false
endfunction
function YV takes nothing returns nothing
local integer i=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))
if GetEventPlayerChatString()=="-swapall" then
set i=1
set IP4=M7[GetPlayerId(GetTriggerPlayer())]
loop
exitwhen i>5
if ZC7(GetTriggerPlayer())then
set IR4=Z7[i]
else
set IR4=A7[i]
endif
set IN4=M7[GetPlayerId(IR4)]
if not(IP4==null or GetOwningPlayer(IP4)!=GetTriggerPlayer()or IN4==null or GetOwningPlayer(IN4)!=IR4 or IR4==GetTriggerPlayer())then
if YT(IP4,IN4)then
return
endif
endif
set i=i+1
endloop
return
elseif i<1 or i>5 then
call L27(GetTriggerPlayer(),"Invalid swap selection")
return
endif
set IP4=M7[GetPlayerId(GetTriggerPlayer())]
if ZC7(GetTriggerPlayer())then
set IR4=Z7[i]
else
set IR4=A7[i]
endif
set IN4=M7[GetPlayerId(IR4)]
if IP4==null or GetOwningPlayer(IP4)!=GetTriggerPlayer()or IN4==null or GetOwningPlayer(IN4)!=IR4 or IR4==GetTriggerPlayer()then
call L27(GetTriggerPlayer(),"Invalid swap selection")
return
endif
call YT(IP4,IN4)
endfunction
function Y2 takes nothing returns nothing
local integer i
local player p
local unit u
local string s
if GetLocalPlayer()==GetTriggerPlayer()then
call ClearTextMessages()
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45,"|cff99ccffSwap Hero Options:|r")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45," ")
set i=1
loop
exitwhen i>5
set p=Z7[i]
set u=M7[GetPlayerId(p)]
if IsPlayerAlly(GetTriggerPlayer(),p)and GetTriggerPlayer()!=p and u!=null and GetOwningPlayer(u)==p then
set s=" "
if yM(M7[GetPlayerId(GetTriggerPlayer())],u)then
set s=" |c00ff0303(Requested Swap With You)|r"
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45,Q[GetPlayerId(p)]+I2S(i)+"|r"+" - "+"|cff99ccff"+GetUnitName(u)+"|r"+s)
endif
set p=A7[i]
set u=M7[GetPlayerId(p)]
if IsPlayerAlly(GetTriggerPlayer(),p)and GetTriggerPlayer()!=p and u!=null and GetOwningPlayer(u)==p then
set s=" "
if yM(M7[GetPlayerId(GetTriggerPlayer())],u)then
set s=" |c00ff0303(Requested Swap With You)|r"
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45,Q[GetPlayerId(p)]+I2S(i)+"|r"+" - "+"|cff99ccff"+GetUnitName(u)+"|r"+s)
endif
set i=i+1
endloop
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45," ")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45,"|cff99ccffType|r |c00ff0303-swap #|r |cff99ccffto make a choice or -swapcancel to cancel swap requests|r")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,45," ")
endfunction
function R59 takes player ON7 returns boolean
local integer R29=1
local integer R_9=0
loop
exitwhen R29>5
if ZC7(ON7)then
if M7[GetPlayerId(Z7[R29])]!=null and Z7[R29]!=ON7 and GetHeroLevel(M7[GetPlayerId(Z7[R29])])==1 then
set R_9=R_9+1
endif
else
if M7[GetPlayerId(A7[R29])]!=null and A7[R29]!=ON7 and GetHeroLevel(M7[GetPlayerId(A7[R29])])==1 then
set R_9=R_9+1
endif
endif
set R29=R29+1
endloop
if R_9>0 then
return true
else
return false
endif
endfunction
function S49 takes nothing returns boolean
if PI4 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,"-swaphero "+(GetObjectName((1848653880))))
return false
endif
if GetUnitState(M7[GetPlayerId(GetTriggerPlayer())],UNIT_STATE_LIFE)<1 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653894))))
return false
endif
if N54==true then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653895)))+" -swaphero.")
return false
endif
if R59(GetTriggerPlayer())==false then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653896))))
return false
endif
return true
endfunction
function P_9 takes nothing returns nothing
if S49()then
if GetEventPlayerChatString()=="-swap"or GetEventPlayerChatString()=="-swaphero"then
call Y2()
elseif GetEventPlayerChatString()=="-swapcancel"then
call YL()
else
call YV()
endif
endif
endfunction
function S79 takes nothing returns boolean
return GetSpellAbilityId()==1093682761
endfunction
function S89 takes integer o6,unit S99,unit SD9 returns nothing
local integer T8=1
local integer U8=GetUnitAbilityLevel(S99,o6)
loop
exitwhen T8>U8
call SelectHeroSkill(SD9,o6)
set T8=T8+1
endloop
endfunction
function SE9 takes nothing returns nothing
local integer T8
local integer U8
local unit S4
local location I_9=GetUnitLoc(GetTriggerUnit())
set S4=CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),GetUnitTypeId(GetTriggerUnit()),I_9,bj_UNIT_FACING)
call SetHeroXP(S4,GetHeroXP(GetTriggerUnit()),false)
set T8=1
set U8=GetUnitAbilityLevel(GetTriggerUnit(),1096904043)
loop
exitwhen T8>U8
call SelectHeroSkill(bj_lastCreatedUnit,1096904043)
set T8=T8+1
endloop
set T8=0
set U8=5
loop
exitwhen T8>U8
call UnitAddItem(S4,UnitItemInSlot(GetTriggerUnit(),T8))
set T8=T8+1
endloop
if(GetUnitTypeId(GetTriggerUnit())==1164277353)then
call S89(1093815130,GetTriggerUnit(),S4)
call S89(1093683252,GetTriggerUnit(),S4)
call S89(1093751369,GetTriggerUnit(),S4)
call S89(1093678929,GetTriggerUnit(),S4)
endif
if(GetUnitTypeId(GetTriggerUnit())==1429221432)then
call S89(1093677892,GetTriggerUnit(),S4)
call S89(1093677639,GetTriggerUnit(),S4)
call S89(1093677893,GetTriggerUnit(),S4)
call S89(1093679411,GetTriggerUnit(),S4)
endif
if(GetUnitTypeId(GetTriggerUnit())==1429221431)then
call S89(1093682745,GetTriggerUnit(),S4)
call S89(1093678681,GetTriggerUnit(),S4)
call S89(1093677381,GetTriggerUnit(),S4)
call S89(1093677624,GetTriggerUnit(),S4)
endif
if(GetUnitTypeId(GetTriggerUnit())==1215063922)then
call S89(1093677895,GetTriggerUnit(),S4)
call S89(1093677894,GetTriggerUnit(),S4)
call S89(1093685043,GetTriggerUnit(),S4)
call S89(1095068013,GetTriggerUnit(),S4)
endif
if(GetUnitTypeId(GetTriggerUnit())==1164666213)then
call S89(1093677877,GetTriggerUnit(),S4)
call S89(1093678679,GetTriggerUnit(),S4)
call S89(1093678678,GetTriggerUnit(),S4)
call S89(1093808454,GetTriggerUnit(),S4)
endif
call DK8(GetTriggerUnit())
call RemoveLocation(I_9)
set I_9=null
set M7[GetPlayerId(GetOwningPlayer(S4))]=S4
endfunction
function SF9 takes nothing returns boolean
local integer SG9=GetUnitTypeId(M7[GetPlayerId(GetTriggerPlayer())])
return(SG9==1429221432 or SG9==1429221431 or SG9==1215063922 or SG9==1164277353 or SG9==1164666213)and(RectContainsUnit(OD,M7[GetPlayerId(GetTriggerPlayer())])or RectContainsUnit(PD,M7[GetPlayerId(GetTriggerPlayer())]))
endfunction
function SH9 takes nothing returns nothing
local unit CO7=M7[GetPlayerId(GetTriggerPlayer())]
call UnitAddAbility(CO7,1093682761)
call IssueImmediateOrder(CO7,"chemicalrage")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,120.00,"|c00ff0303"+(GetObjectName((1848653897)))+" "+CF7(GetEnumUnit())+". "+(GetObjectName((1848653898)))+"|r")
endfunction
function Q49 takes nothing returns nothing
if SF9()then
call SH9()
endif
endfunction
function SI9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local integer B78=GetTriggerEvalCount(t)
local real x
local real y
if GetTriggerEventId()==EVENT_UNIT_DEATH or B78>60 then
if UU7(CO7,"Frozen")==false then
if ZC7(GetOwningPlayer(CO7))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
call SetUnitPosition(CO7,x,y)
call PauseUnit(CO7,false)
endif
call TN7(UC7)
call UA7(t)
else
call PauseUnit(CO7,true)
endif
set t=null
set CO7=null
return false
endfunction
function SJ9 takes player p returns nothing
local unit CO7=M7[GetPlayerId(p)]
local trigger t
if LO7(CO7)==false then
set t=CreateTrigger()
call DisplayTimedTextToPlayer(p,0,E9,30.0,(GetObjectName((1848653899))))
call UnitRemoveBuffs(CO7,true,false)
call UnitRemoveAbility(CO7,1113815395)
call UnitRemoveAbility(CO7,1113815346)
call UnitRemoveAbility(CO7,1110454858)
call UnitRemoveAbility(CO7,1112896368)
call UnitRemoveAbility(CO7,1114993524)
call UnitRemoveAbility(CO7,1110454854)
call PauseUnit(CO7,true)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function SI9))
call TU7(GetHandleId(t),"Hero",CO7)
endif
set p=null
set CO7=null
set t=null
endfunction
function SK9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local player p=UD7(UC7,"p")
call TN7(UC7)
call UA7(t)
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call SJ9(p)
endif
set t=null
return false
endfunction
function Q79 takes nothing returns nothing
local player p=GetTriggerPlayer()
local unit CO7=M7[GetPlayerId(p)]
local trigger t
if LO7(CO7)==false then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,3.5,false)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function SK9))
call TA7(GetHandleId(t),"p",p)
endif
set p=null
set CO7=null
set t=null
endfunction
function SM9 takes player p returns nothing
local unit CO7=M7[GetPlayerId(p)]
local trigger t
if LO7(CO7)==false then
set t=CreateTrigger()
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.0,Q[GetPlayerId(p)]+GetPlayerName(p)+"|r is being unstuck. It will be sent to its base in 60 seconds.")
call UnitRemoveBuffs(CO7,true,false)
call UnitRemoveAbility(CO7,1113815395)
call UnitRemoveAbility(CO7,1113815346)
call UnitRemoveAbility(CO7,1110454858)
call UnitRemoveAbility(CO7,1112896368)
call UnitRemoveAbility(CO7,1114993524)
call UnitRemoveAbility(CO7,1110454854)
call PauseUnit(CO7,true)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function SI9))
call TU7(GetHandleId(t),"Hero",CO7)
endif
set p=null
set CO7=null
set t=null
endfunction
function RF9 takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local player pl=R27(S2I(SubString(VH,10,StringLength(VH))))
if((pl!=null)and(Z07(pl))and(IsPlayerInForce(pl,QX4)))then
if(M7[GetPlayerId(pl)]==null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r has no Hero")
else
call SM9(pl)
endif
endif
set pl=null
endfunction
function SN9 takes player p returns string
local string s=C9[GetPlayerId(p)]
if C9[GetPlayerId(p)]!="Here" then
return" |c00ff0303("+(GetObjectName((1848653881)))+" at "+SubString(s,10,StringLength(s))+"|c00ff0303)|r"
endif
return" "
endfunction
function Q89 takes nothing returns nothing
local integer T8=1
local integer U8=5
local integer D5
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,20," ")
if(Z37(GetTriggerPlayer())==true)then
loop
exitwhen T8>U8
set D5=GetPlayerId(Z7[T8])
if(M7[D5]!=null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,20,Q[D5]+(KZ4[GetPlayerId((Z7[T8]))])+"|r "+(GetObjectName((1848653901)))+" "+GetUnitName(M7[D5])+" ("+(GetObjectName((1848653900)))+" "+I2S(GetUnitLevel(M7[D5]))+")"+SN9(Z7[T8]))
endif
set T8=T8+1
endloop
else
loop
exitwhen T8>U8
set D5=GetPlayerId(A7[T8])
if(M7[D5]!=null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,20,Q[D5]+(KZ4[GetPlayerId((A7[T8]))])+"|r "+(GetObjectName((1848653901)))+" "+GetUnitName(M7[D5])+" ("+(GetObjectName((1848653900)))+" "+I2S(GetUnitLevel(M7[D5]))+")"+SN9(A7[T8]))
endif
set T8=T8+1
endloop
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,20," ")
endfunction
function SO9 takes unit u returns boolean
return GetUnitTypeId(u)==1311781199 or GetUnitTypeId(u)==1311781171 or GetUnitTypeId(u)==1311781172 or GetUnitTypeId(u)==1311781173
endfunction
function SP9 takes unit u returns unit
local integer OC7=GetHandleId(GetOwningPlayer(u))
return(U87(OC7,"MyBear"))
endfunction
function Q99 takes nothing returns nothing
local unit u
local integer i=0
if Y54 then
return
endif
if(M7[GetPlayerId(GetTriggerPlayer())]==null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848653889))))
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetUnitName(M7[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName((1848653902)))+" "+I2S(R2I(0.5+GetUnitMoveSpeed(M7[GetPlayerId(GetTriggerPlayer())]))))
if SO9(M7[GetPlayerId(GetTriggerPlayer())])then
set u=SP9(M7[GetPlayerId(GetTriggerPlayer())])
if u!=null then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetUnitName(u)+" "+(GetObjectName((1848653902)))+" "+I2S(R2I(0.5+GetUnitMoveSpeed(u))))
endif
endif
endif
endfunction
function QD9 takes nothing returns nothing
local unit u
local integer i=0
if Y54 then
return
endif
if(M7[GetPlayerId(GetTriggerPlayer())]==null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848653889))))
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetUnitName(M7[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName((1848653902)))+" "+I2S(R2I(0.5+GetUnitMoveSpeed(M7[GetPlayerId(GetTriggerPlayer())]))))
if SO9(M7[GetPlayerId(GetTriggerPlayer())])then
set u=SP9(M7[GetPlayerId(GetTriggerPlayer())])
if u!=null then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetUnitName(u)+" "+GetObjectName(1848653902)+" "+I2S(R2I(0.5+GetUnitMoveSpeed(u))))
endif
endif
endif
loop
exitwhen i>16
set u=M7[i]
if u!=null and u!=M7[GetPlayerId(GetTriggerPlayer())]and IsUnitAlly(u,GetTriggerPlayer())==true then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetUnitName(u)+" "+GetObjectName(1848653902)+" "+I2S(R2I(0.5+GetUnitMoveSpeed(u))))
endif
set i=i+1
endloop
endfunction
function QE9 takes nothing returns nothing
call TT7(GetHandleId(GetTriggerPlayer()),"DisableHelp",true)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653906))))
endfunction
function QF9 takes nothing returns nothing
call TT7(GetHandleId(GetTriggerPlayer()),"DisableHelp",false)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653903))))
endfunction
function QG9 takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,"   "+(GetObjectName((1848653904)))+" "+I2S(T7[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName((1848653905)))+" "+I2S(U7[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName((1848653907)))+" "+I2S(MU[GetPlayerId(GetTriggerPlayer())]))
endfunction
function QH9 takes nothing returns nothing
local integer x=GetPlayerId(GetTriggerPlayer())
if(GetEventPlayerChatString()=="-cson")then
set AW[x]=true
set ob[x]=true
else
set AW[x]=false
set ob[x]=false
endif
call X88()
endfunction
function SQ9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer i=(LoadInteger(L7,(UC7),(34)))
local real x
local real y
if Ob[i]==false then
call FlushChildHashtable(L7,(UC7))
call UA7(t)
elseif M7[i]!=null and LO7(M7[i])==false then
set x=GetUnitX(M7[i])
set y=GetUnitY(M7[i])
call PanCameraToTimedForPlayer(Player(i),x,y,0)
endif
set t=null
return false
endfunction
function Q59 takes nothing returns nothing
local integer x=GetPlayerId(GetTriggerPlayer())
local trigger t
local integer UC7
local integer i
if Ob[x]==false and(GetEventPlayerChatString()=="-center" or GetEventPlayerChatString()=="-c")then
set Ob[x]=true
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function SQ9))
call SaveInteger(L7,(UC7),(34),(x))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName(1848658519))
elseif GetEventPlayerChatString()=="-centeroff" or GetEventPlayerChatString()=="-co" then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName(1848658520))
set Ob[x]=false
endif
endfunction
function Q29 takes nothing returns nothing
set Ab[GetPlayerId(GetTriggerPlayer())]=false
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5,GetObjectName(1848658522))
endfunction
function Q_9 takes nothing returns nothing
set Ab[GetPlayerId(GetTriggerPlayer())]=true
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5,GetObjectName(1848658736))
endfunction
function qL takes nothing returns nothing
local integer i=1
local integer GM9
local integer Q17
loop
exitwhen i>5
set Q17=GetPlayerId(Z7[i])
set GM9=R2I(TimerGetRemaining(U[Q17]))
if GM9>0 and OL4[Q17]and P94==false and D9==false then
call PlayerSetLeaderboard(Z7[i],gm[Q17])
call LeaderboardDisplay(gm[Q17],true)
call LeaderboardSetLabel(gm[Q17],"   Respawn in "+I2S(GM9)+" seconds")
else
call LeaderboardDisplay(gm[Q17],false)
endif
set Q17=GetPlayerId(A7[i])
set GM9=R2I(TimerGetRemaining(U[Q17]))
if GM9>0 and OL4[Q17]and P94==false and D9==false then
call PlayerSetLeaderboard(A7[i],gm[Q17])
call LeaderboardDisplay(gm[Q17],true)
call LeaderboardSetLabel(gm[Q17],"   Respawn in "+I2S(GM9)+" seconds")
else
call LeaderboardDisplay(gm[Q17],false)
endif
set i=i+1
endloop
endfunction
function qM takes nothing returns nothing
local integer x=0
set x=x+1
set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])
call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")
set gm[GetPlayerId(A7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(A7[x],gm[GetPlayerId(A7[x])])
call LeaderboardDisplay(gm[GetPlayerId(A7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(A7[x])],"Respawn: ")
set x=x+1
set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])
call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")
set gm[GetPlayerId(A7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(A7[x],gm[GetPlayerId(A7[x])])
call LeaderboardDisplay(gm[GetPlayerId(A7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(A7[x])],"Respawn: ")
set x=x+1
set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])
call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")
set gm[GetPlayerId(A7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(A7[x],gm[GetPlayerId(A7[x])])
call LeaderboardDisplay(gm[GetPlayerId(A7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(A7[x])],"Respawn: ")
set x=x+1
set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])
call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")
set gm[GetPlayerId(A7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(A7[x],gm[GetPlayerId(A7[x])])
call LeaderboardDisplay(gm[GetPlayerId(A7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(A7[x])],"Respawn: ")
set x=x+1
set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])
call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")
set gm[GetPlayerId(A7[x])]=CreateLeaderboard()
call PlayerSetLeaderboard(A7[x],gm[GetPlayerId(A7[x])])
call LeaderboardDisplay(gm[GetPlayerId(A7[x])],false)
call LeaderboardSetLabel(gm[GetPlayerId(A7[x])],"Respawn: ")
endfunction
function QO9 takes nothing returns nothing
local integer x=GetPlayerId(GetTriggerPlayer())
if GetEventPlayerChatString()=="-don" or GetEventPlayerChatString()=="-deathon" then
set OL4[x]=true
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653911))))
else
set OL4[x]=false
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653912))))
endif
endfunction
function SR9 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerAddAction(t,function qM)
call TriggerRegisterTimerEvent(t,.5,false)
set t=CreateTrigger()
call TriggerAddAction(t,function qL)
call TriggerRegisterTimerEvent(t,1.,true)
endfunction
function QM9 takes nothing returns nothing
if(GetEventPlayerChatString()=="-showdeny")then
set ob[GetPlayerId(GetTriggerPlayer())]=true
else
set ob[GetPlayerId(GetTriggerPlayer())]=false
endif
endfunction
function QN9 takes nothing returns nothing
call L27(GetTriggerPlayer(),(GetObjectName((1848657991))))
endfunction
function SS9 takes nothing returns nothing
local integer i=0
loop
exitwhen i>16
set ob[i]=true
set AW[i]=true
set i=i+1
endloop
endfunction
function QI9 takes nothing returns nothing
call ForceRemovePlayer(L8,GetTriggerPlayer())
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653909))))
endfunction
function QJ9 takes nothing returns nothing
call ForceAddPlayer(L8,GetTriggerPlayer())
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848653914))))
endfunction
function qN takes nothing returns boolean
local integer x=GetRandomInt(1,4)
if x==1 then
set BW=bo
elseif x==2 then
set BW=Bo
elseif x==3 then
set BW=fL
elseif x==4 then
set BW=FL
endif
if cW[GetPlayerId(GetLocalPlayer())]then
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,false)
call EnableWeatherEffect(BW,true)
endif
return false
endfunction
function qo takes nothing returns nothing
local integer x=GetRandomInt(1,4)
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,300.,true)
call TriggerAddCondition(t,Condition(function qN))
set cW[GetPlayerId(Z7[1])]=false
set cW[GetPlayerId(Z7[2])]=false
set cW[GetPlayerId(Z7[3])]=false
set cW[GetPlayerId(Z7[4])]=false
set cW[GetPlayerId(Z7[5])]=false
set cW[GetPlayerId(A7[1])]=false
set cW[GetPlayerId(A7[2])]=false
set cW[GetPlayerId(A7[3])]=false
set cW[GetPlayerId(A7[4])]=false
set cW[GetPlayerId(A7[5])]=false
if V8 then
set cW[GetPlayerId(KX4)]=false
set cW[GetPlayerId(KY4)]=false
endif
if x==1 then
set BW=bo
elseif x==2 then
set BW=Bo
elseif x==3 then
set BW=fL
elseif x==4 then
set BW=FL
endif
set t=null
endfunction
function QK9 takes nothing returns nothing
local string ST9=StringCase(GetEventPlayerChatString(),false)
if bW==true then
set bW=false
call qo()
endif
if ST9=="-weather snow" and GetLocalPlayer()==GetTriggerPlayer()then
set cW[GetPlayerId(GetTriggerPlayer())]=false
call EnableWeatherEffect(bo,true)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,false)
endif
if ST9=="-weather rain" and GetLocalPlayer()==GetTriggerPlayer()then
set cW[GetPlayerId(GetTriggerPlayer())]=false
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,true)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,false)
endif
if ST9=="-weather moonlight" and GetLocalPlayer()==GetTriggerPlayer()then
set cW[GetPlayerId(GetTriggerPlayer())]=false
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,true)
call EnableWeatherEffect(FL,false)
endif
if ST9=="-weather wind" and GetLocalPlayer()==GetTriggerPlayer()then
set cW[GetPlayerId(GetTriggerPlayer())]=false
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,true)
endif
if ST9=="-weather off" and GetLocalPlayer()==GetTriggerPlayer()then
set cW[GetPlayerId(GetTriggerPlayer())]=false
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,false)
endif
if ST9=="-weather random" then
set cW[GetPlayerId(GetTriggerPlayer())]=true
if GetLocalPlayer()==GetTriggerPlayer()then
call EnableWeatherEffect(bo,false)
call EnableWeatherEffect(Bo,false)
call EnableWeatherEffect(fL,false)
call EnableWeatherEffect(FL,false)
call EnableWeatherEffect(BW,true)
endif
endif
endfunction
function QP9 takes nothing returns nothing
local integer a=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))
local integer D5=GetPlayerId(GetTriggerPlayer())
set vb[D5]=vb[D5]+1
if vb[D5]>20 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName((1848656977))))
return
endif
if GetEventPlayerChatString()=="-rollon" or GetEventPlayerChatString()=="-rolloff" then
return
endif
if a==0 then
set a=100
endif
if a>0 and a<2001 then
call CU7(L8,5,Q[GetPlayerId(GetTriggerPlayer())]+(KZ4[GetPlayerId((GetTriggerPlayer()))])+"|r "+(GetObjectName((1848653129)))+" "+I2S(GetRandomInt(1,a))+" "+(GetObjectName((1848653133)))+" "+I2S(a))
else
call L27(GetTriggerPlayer(),(GetObjectName((1848652377))))
endif
endfunction
function Q69 takes nothing returns nothing
local integer a
if GetRandomInt(1,2)==1 then
set a=GetRandomInt(K04,K54)
else
set a=GetRandomInt(KL4,K14)
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName((1848657747)))+" "+CH7(a))
endfunction
function QB9 takes nothing returns nothing
local integer a=S2I(SubString(GetEventPlayerChatString(),4,StringLength(GetEventPlayerChatString())))
if GetTriggerPlayer()!=Z7[1]or a>2 or a<1 or SN4==false or TimerGetElapsed(W)>14 or BW4==true then
return
endif
set BC4=a
set B34=a
set BV4=true
if a==1 then
call BC7(bj_FORCE_ALL_PLAYERS,15.00,Q[GetPlayerId(Z7[1])]+(KZ4[GetPlayerId((Z7[1]))])+"|r "+GetObjectName(1848656979))
else
call BC7(bj_FORCE_ALL_PLAYERS,15.00,Q[GetPlayerId(A7[1])]+(KZ4[GetPlayerId((A7[1]))])+"|r "+GetObjectName(1848656979))
endif
endfunction
function QW9 takes nothing returns nothing
set eb[GetPlayerId(GetTriggerPlayer())]=false
endfunction
function QX9 takes nothing returns nothing
set eb[GetPlayerId(GetTriggerPlayer())]=true
endfunction
function QQ9 takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848654128))))
set ib[GetPlayerId(GetTriggerPlayer())]=true
if GetLocalPlayer()==GetTriggerPlayer()then
call SetPlayerName(Z7[1],(KZ4[GetPlayerId((Z7[1]))]))
call SetPlayerName(Z7[2],(KZ4[GetPlayerId((Z7[2]))]))
call SetPlayerName(Z7[3],(KZ4[GetPlayerId((Z7[3]))]))
call SetPlayerName(Z7[4],(KZ4[GetPlayerId((Z7[4]))]))
call SetPlayerName(Z7[5],(KZ4[GetPlayerId((Z7[5]))]))
call SetPlayerName(A7[1],(KZ4[GetPlayerId((A7[1]))]))
call SetPlayerName(A7[2],(KZ4[GetPlayerId((A7[2]))]))
call SetPlayerName(A7[3],(KZ4[GetPlayerId((A7[3]))]))
call SetPlayerName(A7[4],(KZ4[GetPlayerId((A7[4]))]))
call SetPlayerName(A7[5],(KZ4[GetPlayerId((A7[5]))]))
endif
endfunction
function QR9 takes nothing returns nothing
local integer id=GetPlayerId(GetTriggerPlayer())
if CW[id]==true then
set CW[id]=false
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName((1848653908))))
else
set CW[id]=true
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName((1848654129))))
endif
endfunction
function Q19 takes nothing returns nothing
local integer id=GetPlayerId(GetTriggerPlayer())
set ab[id]=true
endfunction
function QS9 takes nothing returns nothing
local integer i=1
local player p
local real SU9
loop
exitwhen i>5
set p=Z7[i]
if Z07(p)then
set SU9=PT[GetPlayerId(p)]/(TimerGetElapsed(W))*60
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00,Q[GetPlayerId(p)]+(KZ4[GetPlayerId((p))])+"|r"+" "+(GetObjectName((1848653876)))+" "+R2S(SU9))
endif
set p=A7[i]
if Z07(p)then
set SU9=PT[GetPlayerId(p)]/(TimerGetElapsed(W))*60
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00,Q[GetPlayerId(p)]+(KZ4[GetPlayerId((p))])+"|r"+" "+(GetObjectName((1848653876)))+" "+R2S(SU9))
endif
set i=i+1
endloop
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00," ")
set p=null
endfunction
function QT9 takes nothing returns nothing
call E68(GetTriggerPlayer())
endfunction
function SV9 takes nothing returns boolean
return RW7(GetFilterUnit())and GetOwningPlayer(GetFilterUnit())==GetTriggerPlayer()
endfunction
function Courier_Add takes nothing returns nothing
call UnitAddType(GetEnumUnit(),UNIT_TYPE_PEON)
endfunction
function Courier_Remove takes nothing returns nothing
call UnitRemoveType(GetEnumUnit(),UNIT_TYPE_PEON)
endfunction
function QU9 takes nothing returns nothing
local group g=CX7()
call GroupEnumUnitsInRange(g,0,0,12000,Condition(function SV9))
call CW7(g)
set g=null
endfunction
function QV9 takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656726)))+" [|cffff0000E|r|cffff0000E|r|cffff0000E|r] - [|cffffcc00T|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656725)))+" [|cffff0000E|r|cffff0000E|r|cff00ffffW|r] - [|cffffcc00D|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656724)))+" [|cffff0000E|r|cffff0000E|r|cff0000ffQ|r] - [|cffffcc00F|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656694)))+" [|cff0000ffQ|r|cff0000ffQ|r|cff0000ffQ|r] - [|cffffcc00Y|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656716)))+" [|cff0000ffQ|r|cff0000ffQ|r|cff00ffffW|r] - [|cffffcc00V|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656718)))+" [|cff0000ffQ|r|cff0000ffQ|r|cffff0000E|r] - [|cffffcc00G|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656723)))+" [|cff00ffffW|r|cff00ffffW|r|cffff0000E|r] - [|cffffcc00Z|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656719)))+" [|cff00ffffW|r|cff00ffffW|r|cff0000ffQ|r] - [|cffffcc00X|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656720)))+" [|cff00ffffW|r|cff00ffffW|r|cff00ffffW|r] - [|cffffcc00C|r]")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656721)))+" [|cff0000ffQ|r|cff00ffffW|r|cffff0000E|r] - [|cffffcc00B|r]")
endfunction
function SW9 takes string s returns nothing
call StopMusic(true)
call PlayMusic(s)
endfunction
function QY9 takes nothing returns nothing
local string s=GetEventPlayerChatString()
local integer A57=GetRandomInt(1,UT)
if GetLocalPlayer()==GetTriggerPlayer()then
if s=="-music off" then
call StopMusic(false)
elseif s=="-music random" then
call SW9(TT[A57])
elseif s=="-music nightelf1" then
call SW9(BP)
elseif s=="-music nightelf2" then
call SW9(CP)
elseif s=="-music nightelf3" then
call SW9(GQ)
elseif s=="-music human1" then
call SW9(IQ)
elseif s=="-music human2" then
call SW9(JQ)
elseif s=="-music human3" then
call SW9(YQ)
elseif s=="-music orc1" then
call SW9(XP)
elseif s=="-music orc2" then
call SW9(YP)
elseif s=="-music orc3" then
call SW9(ZP)
elseif s=="-music undead1" then
call SW9(RP)
elseif s=="-music undead2" then
call SW9(TP)
elseif s=="-music undead3" then
call SW9(VP)
elseif s=="-music other1" then
call SW9(GR)
elseif s=="-music other2" then
call SW9(HR)
elseif s=="-music other3" then
call SW9(IR)
elseif s=="-music other4" then
call SW9(OR)
elseif s=="-music other5" then
call SW9(XR)
elseif s=="-music other6"then
call SW9(VM4)
elseif s=="-music other7"then
call SW9(VN4)
elseif s=="-music other8"then
call SW9(VO4)
elseif s=="-music other9"then
call SW9(VP4)
elseif s=="-music special" then
call SW9(YR)
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848656727)))+" ")
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,"off, random, nightelf1, nightelf2, nightelf3, human1, human2, human3, orc1, orc2, orc3, undead1, undead2, undead3, other1, other2, other3, other4, other5, other6, other7, other8, other9, special")
endif
endif
endfunction
function SX9 takes nothing returns boolean
set UT=UT+1
set TT[UT]=BP
set UT=UT+1
set TT[UT]=CP
set UT=UT+1
set TT[UT]=GQ
set UT=UT+1
set TT[UT]=IQ
set UT=UT+1
set TT[UT]=JQ
set UT=UT+1
set TT[UT]=YQ
set UT=UT+1
set TT[UT]=XP
set UT=UT+1
set TT[UT]=YP
set UT=UT+1
set TT[UT]=ZP
set UT=UT+1
set TT[UT]=RP
set UT=UT+1
set TT[UT]=TP
set UT=UT+1
set TT[UT]=VP
set UT=UT+1
set TT[UT]=GR
set UT=UT+1
set TT[UT]=HR
set UT=UT+1
set TT[UT]=IR
set UT=UT+1
set TT[UT]=OR
set UT=UT+1
set TT[UT]=XR
set UT=UT+1
set TT[UT]=VM4
set UT=UT+1
set TT[UT]=VN4
set UT=UT+1
set TT[UT]=VO4
set UT=UT+1
set TT[UT]=VP4
set UT=UT+1
set TT[UT]=YR
return false
endfunction
function SY9 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function SX9))
endfunction
function SZ9 takes player p,integer r,integer g,integer b,integer a returns nothing
if GetLocalPlayer()==p then
call SetWaterBaseColor(r,g,b,a)
endif
endfunction
function SA9 takes string s returns nothing
local string SB9=""
local string SC9=""
local string S39=""
local integer i=0
local integer HQ8=StringLength(s)
local integer S69=1
loop
exitwhen i>HQ8
if SubString(s,i,i+1)==" " then
set S69=S69+1
else
if S69==1 then
set SB9=SB9+SubString(s,i,i+1)
elseif S69==2 then
set SC9=SC9+SubString(s,i,i+1)
else
set S39=S39+SubString(s,i,i+1)
endif
endif
set i=i+1
endloop
set bb=S2I(SB9)
set Bb=S2I(SC9)
set cb=S2I(S39)
endfunction
function QZ9 takes nothing returns nothing
local string SL9=SubString(GetEventPlayerChatString(),7,StringLength(GetEventPlayerChatString()))
local player p=GetTriggerPlayer()
local integer r
local integer g
local integer b
set Nb[GetPlayerId(p)]=true
if SL9=="red" then
call SZ9(p,255,0,0,255)
elseif SL9=="blue" then
call SZ9(p,0,0,255,255)
elseif SL9=="green" then
call SZ9(p,0,255,0,255)
elseif SL9=="default" then
call SZ9(p,0,0,255,255)
elseif SL9=="random" then
set r=GetRandomInt(0,255)
set g=GetRandomInt(0,255)
set b=GetRandomInt(0,255)
call SZ9(p,r,g,b,255)
call DisplayTimedTextToPlayer(p,0,0,5,(GetObjectName((1848657988)))+" r="+I2S(r)+" g="+I2S(g)+" b="+I2S(b))
else
call SA9(SL9)
set r=bb
set g=Bb
set b=cb
if r>=0 and r<=255 and g>=0 and g<=255 and b>=0 and b<=255 then
call SZ9(p,r,g,b,255)
endif
endif
endfunction
function QC9 takes nothing returns nothing
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00,"This command has been temporarily disabled")
endfunction
function Q39 takes nothing returns boolean
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,"Total Bonus XP/Gold: "+I2S(N34[GetPlayerId(GetTriggerPlayer())])+"/"+I2S(N64[GetPlayerId(GetTriggerPlayer())]))
return false
endfunction
function R79 takes nothing returns boolean
if YC4>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetObjectName(1848659023)+": "+I2S(YC4))
endif
return false
endfunction
function S19 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer S09=UN7(UC7,"u1Index")
local integer S59=UN7(UC7,"u2Index")
local unit u1=ZX7(S09)
local unit u2=ZX7(S59)
local real F98=UO7(UC7,"Duration")
local lightning S29=UI7(UC7,"Lightning")
if I2R(GetTriggerEvalCount(t))*0.025>F98 then
call DestroyLightning(S29)
call ZW7(S09)
call ZW7(S59)
call TN7(UC7)
call UA7(t)
else
call MoveLightning(S29,true,GetUnitX(u1),GetUnitY(u1),GetUnitX(u2),GetUnitY(u2))
endif
set t=null
set u1=null
set u2=null
set S29=null
return false
endfunction
function S_9 takes string T49,unit u1,unit u2,real r,real g,real b,real a,real F98 returns nothing
local real x1=GetUnitX(u1)
local real y1=GetUnitY(u1)
local real x2=GetUnitX(u2)
local real y2=GetUnitY(u2)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local lightning S29=AddLightning(T49,true,x1,y1,x2,y2)
call SetLightningColor(S29,r,g,b,a)
call TX7(UC7,"Lightning",S29)
call TQ7(UC7,"u1Index",ZZ7(u1))
call TQ7(UC7,"u2Index",ZZ7(u2))
call TR7(UC7,"Duration",F98)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function S19))
set t=null
set S29=null
endfunction
function T79 takes string T89 returns nothing
local sound E78=CreateSound(T89,false,false,false,10,10,"")
call SetSoundVolume(E78,0)
call StartSound(E78)
call KillSoundWhenDone(E78)
set E78=null
endfunction
function T99 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local ubersplat TD9=(LoadUbersplatHandle(L7,(OC7),(131)))
call DestroyUbersplat(TD9)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set TD9=null
return false
endfunction
function TE9 takes ubersplat TD9,real d returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call SaveUbersplatHandle(L7,(OC7),(131),(TD9))
call TriggerRegisterTimerEvent(t,d,false)
call TriggerAddCondition(t,Condition(function T99))
set t=null
endfunction
function TF9 takes nothing returns nothing
local real d=RF7(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),B44,B74)
if d<A_4 then
set A_4=d
set A24=GetEnumUnit()
endif
endfunction
function TG9 takes group g,real x,real y returns unit
set A_4=999999
set A24=null
set B44=x
set B74=y
call ForGroup(g,function TF9)
return A24
endfunction
function TH9 takes integer LN7 returns nothing
local integer i=0
loop
exitwhen i>5
call SetPlayerAbilityAvailable(Z7[i],LN7,false)
call SetPlayerAbilityAvailable(A7[i],LN7,false)
set i=i+1
endloop
endfunction
function TI9 takes integer id returns nothing
local integer i=0
loop
exitwhen i>12
call SetPlayerAbilityAvailable(Player(i),id,false)
set i=i+1
endloop
endfunction
function QA9 takes nothing returns nothing
local string s=GetEventPlayerChatString()
local trigger t
local integer x=S2I(SubString(GetEventPlayerChatString(),7,StringLength(GetEventPlayerChatString())))
local integer i=1
if x<1 or x>Fb then
set x=GetRandomInt(1,Fb)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10,(GetObjectName((1848657205)))+" "+I2S(x))
endif
if gb then
loop
exitwhen i>Fb
call T79(Cb[i])
set i=i+1
endloop
set gb=false
endif
if db[x]==false then
endif
call L57(GetTriggerPlayer(),Cb[x])
endfunction
function RG9 takes nothing returns nothing
if bj[GetPlayerId(GetTriggerPlayer())]==false then
set bj[GetPlayerId(GetTriggerPlayer())]=true
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00,"Override is now on for Formless")
else
set bj[GetPlayerId(GetTriggerPlayer())]=false
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,15.00,"Override is now off for Formless")
endif
endfunction
function TJ9 takes nothing returns nothing
local timer t=GetExpiredTimer()
local player p=UD7(GetHandleId(t),"FormlessPlayer")
if M7[GetPlayerId(p)]!=null and H84==true then
call L27(p,"Already have a hero.")
else
if ZC7(p)then
call CreateUnitAtLoc(p,1211445296,GetRectCenter(ED),0)
else
call CreateUnitAtLoc(p,1211445296,GetRectCenter(L9),0)
endif
endif
call TN7(GetHandleId(t))
call DestroyTimer(t)
set p=null
set t=null
endfunction
function RH9 takes nothing returns nothing
local player p=GetTriggerPlayer()
local timer t
if(M7[GetPlayerId(p)]==null or H84==false)and P==true and E4==false and O4==false and A8==false and D4==false and RZ4==false then
call AZ7(p)
call DisplayTimedTextToPlayer(p,0,E9,10,"Formless will be created for you shortly.")
set t=CreateTimer()
call TA7(GetHandleId(t),"FormlessPlayer",p)
call TimerStart(t,6,false,function TJ9)
endif
set p=null
set t=null
endfunction
function TK9 takes nothing returns nothing
local timer t=GetExpiredTimer()
local player p=UD7(GetHandleId(t),"BastionPlayer")
if M7[GetPlayerId(p)]!=null and H84==true then
call L27(p,"Already have a hero.")
else
if ZC7(p)then
call CreateUnitAtLoc(p,1211510832,GetRectCenter(ED),0)
else
call CreateUnitAtLoc(p,1211510832,GetRectCenter(L9),0)
endif
endif
call TN7(GetHandleId(t))
call DestroyTimer(t)
set p=null
set t=null
endfunction
function RI9 takes nothing returns nothing
local player p=GetTriggerPlayer()
local timer t
if(M7[GetPlayerId(p)]==null or H84==false)and P==true and E4==false and O4==false and A8==false and D4==false and RZ4==false then
call AZ7(p)
call DisplayTimedTextToPlayer(p,0,E9,10,"Bastion will be created for you shortly.")
set t=CreateTimer()
call TA7(GetHandleId(t),"BastionPlayer",p)
call TimerStart(t,6,false,function TK9)
endif
set p=null
set t=null
endfunction
function ImbaMode takes nothing returns nothing
local integer i=1
if zA==false then
set zA=true
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90,"You can now pick heroes from the Fun Taverns.")
if Bj==true then
loop
exitwhen i==6
call FogModifierStart(CreateFogModifierRadiusLoc(Z7[i],FOG_OF_WAR_VISIBLE,GetUnitLoc(vN),200,true,true))
call FogModifierStart(CreateFogModifierRadiusLoc(A7[i],FOG_OF_WAR_VISIBLE,GetUnitLoc(vN),200,true,true))
set i=i+1
endloop
set i=1
endif
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90,"This is a FOR FUN ONLY mode.")
loop
exitwhen i==6
call CreateUnit(Z7[i],1848651843,7225,-7475,270)
call CreateUnit(A7[i],1848651843,7225,-7475,270)
set i=i+1
endloop
endif
if Bj==true then
set EV=EV+1
set SU[EV]=1227960882
set ZU[EV]=1227960368
set AU[EV]=0
set BU[EV]=1227961139
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNArcaniteMelee.blp"
set LU[EV]=45
set HK4[EV]=15900
set FH=EV
set EV=EV+1
set SU[EV]=1227960883
set ZU[EV]=1227960369
set AU[EV]=0
set BU[EV]=1227961140
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHumanArmorUpThree.blp"
set LU[EV]=90
set HK4[EV]=15175
set GH=EV
set EV=EV+1
set SU[EV]=1227960884
set ZU[EV]=1227960632
set AU[EV]=0
set BU[EV]=1227961141
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNImprovedBows.blp"
set LU[EV]=40
set HK4[EV]=14000
set hH=EV
set EV=EV+1
set SU[EV]=1227960885
set ZU[EV]=1227960880
set AU[EV]=0
set BU[EV]=1227961142
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
set LU[EV]=40
set HK4[EV]=11520
set jH=EV
set EV=EV+1
set SU[EV]=1227960886
set ZU[EV]=1227960372
set AU[EV]=0
set BU[EV]=1227961143
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStaffOfSanctuary.blp"
set LU[EV]=30
set HK4[EV]=7500
set JH=EV
set EV=EV+1
set SU[EV]=1227960888
set ZU[EV]=1227960376
set AU[EV]=0
set BU[EV]=1227961145
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNThoriumRanged.blp"
set LU[EV]=0
set HK4[EV]=10300
set LH=EV
set EV=EV+1
set SU[EV]=1227961136
set ZU[EV]=1227960626
set AU[EV]=0
set BU[EV]=1227961393
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyStrength.blp"
set LU[EV]=0
set HK4[EV]=10900
set kH=EV
set EV=EV+1
set SU[EV]=1227961137
set ZU[EV]=1227960628
set AU[EV]=0
set BU[EV]=1227961394
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStarWand.blp"
set LU[EV]=0
set HK4[EV]=9975
set lH=EV
set EV=EV+1
set SU[EV]=1227960887
set ZU[EV]=1227960374
set AU[EV]=0
set BU[EV]=1227961144
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrb.blp"
set LU[EV]=45
set HK4[EV]=11300
set MH=EV
set FQ4=FQ4+1
set FJ4[FQ4]=T2
set FK4[FQ4]=L5
set FM4[FQ4]=SY
set FP4[FQ4]=FH
set FQ4=FQ4+1
set FJ4[FQ4]=D84
set FK4[FQ4]=DJ4
set FM4[FQ4]=R2
set FN4[FQ4]=DI4
set FP4[FQ4]=GH
set FQ4=FQ4+1
set FJ4[FQ4]=Z2
set FK4[FQ4]=BV
set FM4[FQ4]=AV
set FN4[FQ4]=OW
set FP4[FQ4]=hH
set FQ4=FQ4+1
set FJ4[FQ4]=GX
set FK4[FQ4]=D1
set FM4[FQ4]=V1
set FN4[FQ4]=XV
set FP4[FQ4]=jH
set FQ4=FQ4+1
set FJ4[FQ4]=GX
set FK4[FQ4]=F1
set FM4[FQ4]=V1
set FN4[FQ4]=XV
set FP4[FQ4]=jH
set FQ4=FQ4+1
set FJ4[FQ4]=F6
set FK4[FQ4]=FV
set FM4[FQ4]=RW
set FN4[FQ4]=RW
set FP4[FQ4]=JH
set FQ4=FQ4+1
set FJ4[FQ4]=LV
set FK4[FQ4]=OV
set FM4[FQ4]=NX
set FN4[FQ4]=YW
set FO4[FQ4]=R2
set FP4[FQ4]=LH
set FQ4=FQ4+1
set FJ4[FQ4]=UY
set FK4[FQ4]=MV
set FM4[FQ4]=QV
set FN4[FQ4]=BV
set FO4[FQ4]=Z2
set FP4[FQ4]=kH
set FQ4=FQ4+1
set FJ4[FQ4]=UW
set FK4[FQ4]=HY
set FM4[FQ4]=DZ
set FN4[FQ4]=GX
set FO4[FQ4]=D74
set FP4[FQ4]=lH
set FQ4=FQ4+1
set FJ4[FQ4]=YW
set FK4[FQ4]=BV
set FM4[FQ4]=GX
set FN4[FQ4]=NZ
set FP4[FQ4]=MH
endif
endfunction
function TM9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local real TN9=UO7(UC7,"T_CurrentX")
local real TO9=UO7(UC7,"T_CurrentY")
local real TP9=UO7(UC7,"T_MaxX")
local real TQ9=128
local real x
local real y
loop
exitwhen TN9>TP9
loop
exitwhen TO9>8192
set dW=dW+1
set x=TN9
set y=TO9
if IsPointBlighted(x,y)==false then
set DW[dW]=GetTerrainType(x,y)
set LW[dW]=GetTerrainVariance(x,y)
endif
set x=-TN9
set y=TO9
if IsPointBlighted(x,y)==false then
set fW[dW]=GetTerrainType(x,y)
set mW[dW]=GetTerrainVariance(x,y)
endif
set x=-TN9
set y=-TO9
if IsPointBlighted(x,y)==false then
set FW[dW]=GetTerrainType(x,y)
set MW[dW]=GetTerrainVariance(x,y)
endif
set x=TN9
set y=-TO9
if IsPointBlighted(x,y)==false then
set hW[dW]=GetTerrainType(x,y)
set pW[dW]=GetTerrainVariance(x,y)
endif
set TO9=TO9+TQ9
endloop
set TO9=0
set TN9=TN9+TQ9
endloop
set TP9=TP9+256
call TR7(UC7,"T_CurrentX",TN9*1.0)
call TR7(UC7,"T_CurrentY",TO9*1.0)
call TR7(UC7,"T_MaxX",TP9*1.0)
if TP9>8192 then
call TN7(UC7)
call UA7(t)
endif
set t=null
return false
endfunction
function TR9 takes string RT9 returns boolean
if RT9=="-ma" or RT9=="-ms" or RT9=="-cs" or RT9=="-cson" or RT9=="-disablehelp" or RT9=="-enablehelp" or RT9=="-unstuck" or RT9=="-recreate" then
return true
elseif RT9=="-swaphero" or RT9=="-showmsg" or RT9=="-hidemsg" or RT9=="-showdeny" or RT9=="-hidedeny" or RT9=="-weather rain" or RT9=="-weather snow" or RT9=="-weather moonlight" or RT9=="-weather wind" or RT9=="-weather random" or RT9=="-weather off" or RT9=="-denyinfo" or RT9=="-di" or RT9=="-deathon" or RT9=="-don" or RT9=="-deathoff" or RT9=="-doff" or RT9=="-roll" or RT9=="-hideheronames" or RT9=="-hhn" or RT9=="-test" or RT9=="-mute" or RT9=="-wtf" or RT9=="-fun" or RT9=="-fleshstr" or RT9=="-fs" or RT9=="-switchon" then
return true
elseif RT9=="-override" or RT9=="-formless" then
return true
endif
return false
endfunction
function TS9 takes nothing returns boolean
return not P
endfunction
function TT9 takes string qQ returns nothing
if cx==""then
set cx="|c006699CC"+qQ+"|r"
else
set cx=cx+"/|c006699CC"+qQ+"|r"
endif
endfunction
function TU9 takes string qQ returns nothing
if cx==""then
set cx=F07+qQ+"|r"
else
set cx=cx+"/"+F07+qQ+"|r"
endif
endfunction
function TV9 takes string ST9,integer qs,integer qS returns string
return SubString(ST9,0,qs)+SubString(ST9,qS,StringLength(ST9))
endfunction
function TW9 takes string ST9 returns string
local integer IR8=StringLength(ST9)
local string qT
local string M9=""
local integer i=0
loop
exitwhen(i==IR8)
set qT=StringCase(SubString(ST9,i,i+1),false)
if not(qT==StringCase(qT,true))then
set M9=M9+qT
endif
set i=i+1
endloop
return M9
endfunction
function TX9 takes nothing returns boolean
local integer i=1
local boolean b1=false
local boolean b2=false
local integer Q17=0
loop
exitwhen i>5
if(not b1)and GetPlayerController(Z7[i])==MAP_CONTROL_USER and GetPlayerSlotState(Z7[i])==PLAYER_SLOT_STATE_PLAYING then
set b1=true
set Q17=i
elseif GetPlayerController(Z7[i])!=MAP_CONTROL_USER and GetPlayerSlotState(Z7[i])==PLAYER_SLOT_STATE_PLAYING then
set b2=true
endif
set i=i+1
endloop
if b1 and b2 then
set Q17=GetPlayerId(Z7[Q17])
call SetItemPawnable(CreateItem(1227896130,GetUnitX(KU4[Q17]),GetUnitY(KU4[Q17])),false)
set Q17=1
loop
exitwhen Q17>5
call V47(IZ4,GetObjectName(1496332594),Z7[Q17])
set Q17=Q17+1
endloop
endif
set i=1
set b1=false
set b2=false
set Q17=0
loop
exitwhen i>5
if(not b1)and GetPlayerController(A7[i])==MAP_CONTROL_USER and GetPlayerSlotState(A7[i])==PLAYER_SLOT_STATE_PLAYING then
set b1=true
set Q17=i
elseif GetPlayerController(A7[i])!=MAP_CONTROL_USER and GetPlayerSlotState(A7[i])==PLAYER_SLOT_STATE_PLAYING then
set b2=true
endif
set i=i+1
endloop
if b1 and b2 then
set Q17=GetPlayerId(A7[Q17])
call SetItemPawnable(CreateItem(1227896130,GetUnitX(KU4[Q17]),GetUnitY(KU4[Q17])),false)
set Q17=1
loop
exitwhen Q17>5
call V47(JA4,GetObjectName(1496332594),A7[Q17])
set Q17=Q17+1
endloop
endif
call DestroyTrigger(GetTriggeringTrigger())
return false
endfunction
function TY9 takes string TZ9,integer TA9 returns nothing
local string ST9=TW9(TZ9)
local string array TB9
local string array TC9
local boolean array T39
local integer T69
local integer TL9
local integer IR8=StringLength(ST9)
local integer x=0
local integer y=0
local integer z=0
local boolean AP
local boolean AR
local boolean LM
local boolean MM
local boolean TR
local boolean DM
local boolean MR
local boolean SP
local boolean AA
local boolean AI
local boolean AS
local boolean ID
local boolean NP
local boolean SC
local boolean EM
local boolean DU
local boolean SH
local boolean VR
local boolean RV
local boolean RD
local boolean OM
local boolean NT
local boolean NB
local boolean NM
local boolean NS
local boolean SO
local boolean NR
local boolean XL
local boolean SD
local boolean PM
local boolean OI
local boolean MI
local boolean CM
local boolean FR
local boolean MO
local boolean RO
local boolean ER
local boolean CD
local boolean RS
local boolean ST
local boolean MC
local boolean HE
local boolean NE
local boolean HG
local boolean NG
local boolean DE
local boolean T19
local boolean NN
local boolean FM
local boolean T09
local boolean T59
local boolean T29
local boolean T_9
local boolean U49
local trigger t
set TB9[1]="allpick"
set TC9[1]="ap"
set TB9[2]="allrandom"
set TC9[2]="ar"
set TB9[3]="leaguemode"
set TC9[3]="lm"
set TB9[4]="mirrormatch"
set TC9[4]="mm"
set TB9[5]="teamrandom"
set TC9[5]="tr"
set TB9[6]="deathmatch"
set TC9[6]="dm"
set TB9[7]="moderandom"
set TC9[7]="mr"
set TB9[8]="shuffleplayers"
set TC9[8]="sp"
set TB9[9]="allagility"
set TC9[9]="aa"
set TB9[10]="allintelligence"
set TC9[10]="ai"
set TB9[11]="allstrength"
set TC9[11]="as"
set TB9[12]="itemdrop"
set TC9[12]="id"
set TB9[13]="nopowerups"
set TC9[13]="np"
set TB9[14]="supercreeps"
set TC9[14]="sc"
set TB9[15]="easymode"
set TC9[15]="em"
set TB9[16]="duplicatemode"
set TC9[16]="du"
set TB9[17]="samehero"
set TC9[17]="sh"
set TB9[18]="voterandom"
set TC9[18]="vr"
set TB9[19]="reverse"
set TC9[19]="rv"
set TB9[20]="randomdraft"
set TC9[20]="rd"
set TB9[21]="onlymid"
set TC9[21]="om"
set TB9[22]="extendedleague"
set TC9[22]="xl"
set TB9[23]="nomid"
set TC9[23]="nm"
set TB9[24]="notop"
set TC9[24]="nt"
set TB9[25]="nobot"
set TC9[25]="nb"
set TB9[26]="noswap"
set TC9[26]="ns"
set TB9[27]="norepick"
set TC9[27]="nr"
set TB9[28]="captainsdraft"
set TC9[28]="cd"
set TB9[29]="singledraft"
set TC9[29]="sd"
set TB9[30]="poolingmode"
set TC9[30]="pm"
set TB9[31]="observerinfo"
set TC9[31]="oi"
set TB9[32]="miniheroes"
set TC9[32]="mi"
set TB9[33]="captainsmode"
set TC9[33]="cm"
set TB9[34]="fastrespawn"
set TC9[34]="fr"
set TB9[35]="meleeonly"
set TC9[35]="mo"
set TB9[36]="rangeonly"
set TC9[36]="ro"
set TB9[37]="experimentalrunes"
set TC9[37]="er"
set TB9[38]="randomside"
set TC9[38]="rs"
set TB9[39]="switchon"
set TC9[39]="so"
set TB9[40]="zoommode"
set TC9[40]="zm"
set TB9[41]="capturepoint"
set TC9[41]="cp"
set T69=41
set TL9=41
set T69=T69+1
set TB9[T69]="supertower"
set TC9[T69]="st"
set T69=T69+1
set TB9[T69]="msupercreeps"
set TC9[T69]="mc"
set T69=T69+1
set TB9[T69]="highexp"
set TC9[T69]="he"
set T69=T69+1
set TB9[T69]="normexp"
set TC9[T69]="ne"
set T69=T69+1
set TB9[T69]="dynaexp"
set TC9[T69]="de"
set T69=T69+1
set TB9[T69]="highgold"
set TC9[T69]="hg"
set T69=T69+1
set TB9[T69]="normgold"
set TC9[T69]="ng"
set T69=T69+1
set TB9[T69]="dynagold"
set TC9[T69]="dg"
set T69=T69+1
set TB9[T69]="nonecronomicon"
set TC9[T69]="nn"
set T69=T69+1
set TB9[T69]="formlessmode"
set TC9[T69]="fm"
set T69=T69+1
set TB9[T69]="coolnames"
set TC9[T69]="cn"
set T69=T69+1
set TB9[T69]="alldagons"
set TC9[T69]="ad"
set T69=T69+1
set TB9[T69]="beginnermode"
set TC9[T69]="bm"
set T69=T69+1
set TB9[T69]="advancedmode"
set TC9[T69]="am"
set T69=T69+1
set TB9[T69]="xtrememode"
set TC9[T69]="xm"
set x=-1
loop
exitwhen x==IR8-1
set x=x+1
set y=x
loop
exitwhen y==IR8
set y=y+1
set z=1
loop
exitwhen z>T69
if TB9[z]==SubString(ST9,x,y)then
set T39[z]=true
set z=T69+1
set ST9=TV9(ST9,x,y)
set x=-1
set IR8=StringLength(ST9)
set y=IR8
else
set z=z+1
endif
endloop
endloop
endloop
set x=-1
loop
exitwhen x==IR8-1
set x=x+1
set y=x
loop
exitwhen y==IR8
set y=y+1
set z=1
loop
exitwhen z>T69
if TC9[z]==SubString(ST9,x,y)then
set T39[z]=true
if(z<=TL9)then
set vY=false
endif
set z=T69+1
set ST9=TV9(ST9,x,y)
set x=-1
set IR8=StringLength(ST9)
set y=IR8
else
set z=z+1
endif
endloop
endloop
endloop
set AP=T39[1]
set AR=T39[2]
set LM=T39[3]
set MM=T39[4]
set TR=T39[5]
set DM=T39[6]
set MR=T39[7]
set SP=T39[8]
set AA=T39[9]
set AI=T39[10]
set AS=T39[11]
set ID=T39[12]
set NP=T39[13]
set SC=T39[14]
set EM=T39[15]
set DU=T39[16]
set SH=T39[17]
set VR=T39[18]
set RV=T39[19]
set RD=T39[20]
set OM=T39[21]
set XL=T39[22]
set NM=T39[23]
set NT=T39[24]
set NB=T39[25]
set NS=T39[26]
set NR=T39[27]
set CD=T39[28]
set SD=T39[29]
set PM=T39[30]
set OI=T39[31]
set MI=T39[32]
set CM=T39[33]
set FR=T39[34]
set MO=T39[35]
set RO=T39[36]
set ER=T39[37]
set RS=T39[38]
set SO=T39[39]
set ST=T39[TL9+1]
set MC=T39[TL9+2]
set HE=T39[TL9+3]
set NE=T39[TL9+4]
set DE=T39[TL9+5]
set HG=T39[TL9+6]
set NG=T39[TL9+7]
set T19=T39[TL9+8]
set NN=T39[TL9+9]
set FM=T39[TL9+10]
set T09=T39[TL9+11]
set T59=T39[TL9+12]
set T_9=T39[TL9+13]
set T29=T39[TL9+14]
set U49=T39[TL9+15]
if ST9!=""or TR9(GetEventPlayerChatString())then
return
elseif(LM or VR or RV or RD or XL or CD or SO)then
call L27(Le,"The following modes are currently disabled for this AI release: -lm, -vr, -rv, -rd, -xl, -cd, -so")
return
elseif FM and(AP or AR or LM or MM or TR or DM or MR or SP or AA or AI or AS or DU or SH or VR or RV or RD or XL or SD or MO or RO)then
call L27(Le,(GetObjectName((1848652373))))
return
elseif(AR and(CM or AP or TR or LM or MR or RV or RD or CD or SD))or(AP and(TR or MR))or(TR and(LM or MR))or(LM and MR)or(MM and SH)then
call L27(Le,(GetObjectName((1848652373))))
return
elseif(AA and(AI or AS or DM))or(AS and(AI or DM))or(AI and DM)then
call L27(Le,(GetObjectName((1848652373))))
return
elseif(RO and(MO or DM))or(MO and DM)then
call L27(Le,(GetObjectName((1848652373))))
return
elseif RV and(CM or AR or TR or MR or LM or DM or SH)then
call L27(Le,(GetObjectName((1848652373))))
return
elseif(DM and(CM or TR or LM or MR or SH or RV or RD or CD or SD))or(MM and DM)or(SH and DM)then
call L27(Le,(GetObjectName((1848652372))))
return
elseif LM and(CM or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or XL or MO or RO)then
call L27(Le,(GetObjectName((1848652593))))
return
elseif XL and(CM or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or LM or RO or MO)then
call L27(Le,(GetObjectName((1848652594))))
return
elseif CM and(SP or XL or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or LM or MO or RO)then
call L27(Le,(GetObjectName((1848652594))))
return
elseif RD and(CD or CM or AP or LM or AR or SD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
call L27(Le,(GetObjectName((1848652373))))
return
elseif CD and(RD or CM or AP or LM or AR or SD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
call L27(Le,(GetObjectName((1848652373))))
return
elseif MR and(CM or AP or LM or AR or SD or MM or TR or DM or AA or AI or AS or SH or RV or RO or MO)then
call L27(Le,(GetObjectName((1848652373))))
return
elseif SD and(CM or AP or LM or AR or RD or CD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
call L27(Le,(GetObjectName((1848652373))))
return
elseif VR and(CM or LM or RD or CD or SD or AR or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
call L27(Le,(GetObjectName((1848652373))))
return
elseif MM and P8(X7)!=P8(Y7)then
call L27(Le,(GetObjectName((1848652596))))
return
elseif VR and P8(X7)!=P8(Y7)then
call L27(Le,(GetObjectName((1848652596))))
return
elseif RV and P8(X7)!=P8(Y7)then
call L27(Le,(GetObjectName((1848652596))))
return
elseif(LM or XL)and(Z17(Z7[1])or Z17(Z7[2])or Z17(Z7[3])or Z17(Z7[4])or Z17(Z7[5])or Z17(A7[1])or Z17(A7[2])or Z17(A7[3])or Z17(A7[4])or Z17(A7[5]))then
call L27(Le,"AI players not allowed in League Modes")
return
elseif(T_9 and T29)or(T_9 and U49)or(T29 and U49)or(NE and HE)or(HG and NG)or((T29 or T_9 or U49)and(NE or HE or DE or HG or NG or T19))then
call L27(Le,"Invalid AI Game Mode Combination!")
return
endif
if FR or CM or AP or AR or LM or MM or TR or DM or MR or SP or AA or AI or AS or ID or NP or SC or DU or EM or SH or VR or RV or RD or CD or OM or NB or NM or NT or NS or NR or XL or SD or PM or OI or MI or MO or RO or ER or RS or SO or ST or MC or(HE or NE or HG or DE or NG or T19)or NN or FM or(T29 or T_9 or U49)then
call DisableTrigger(GetTriggeringTrigger())
else
return
endif
if CM==false then
call XE8()
call OI9()
endif
if LM==false and XL==false then
call SR9()
endif
set O14=TW9(GetEventPlayerChatString())
if(ZX4)then
call II8("Mode"+O14,0)
else
call II8("Mode"+O14,GetPlayerId(Le))
endif
set Y8=false
if LM then
set vo="Leaguemode"
elseif XL then
set vo="Extended League"
elseif RD then
set vo="Randomdraft"
elseif CD then
set vo="Captainsdraft"
elseif MM then
set vo="Mirrormatch"
elseif DM then
set vo="Deathmatch"
elseif RV then
set vo="Reverse"
elseif AP then
set vo="Allpick"
elseif AR then
set vo="Allrandom"
elseif TR then
set vo="Teamrandom"
elseif MR then
set vo="Moderandom"
elseif VR then
set vo="Voterandom"
elseif SD then
set vo="Singledraft"
elseif CM then
set vo="Captainsmode"
endif
if CM then
call TT9("Captains Mode")
endif
if LM then
call TT9("League Mode")
endif
if XL then
call TT9("Extended League")
endif
if RD then
call TT9("Random Draft")
endif
if CD then
call TT9("Captains Draft")
endif
if DM then
call TT9("Death Match")
endif
if MM then
call TT9("Mirror Match")
endif
if AP then
call TT9("All Pick")
endif
if AR then
call TT9("All Random")
endif
if VR then
call TT9("Vote Random")
endif
if MR then
call TT9("Mode Random")
endif
if TR then
call TT9("Team Random")
endif
if SP then
call TT9("Shuffle Players")
endif
if AA then
call TT9("All Agility")
endif
if AS then
call TT9("All Strength")
endif
if AI then
call TT9("All Intelligence")
endif
if RO then
call TT9("Range Only")
endif
if MO then
call TT9("Melee Only")
endif
if DU then
call TT9("Duplicate Mode")
endif
if ID then
call TT9("Item Drop")
endif
if NP then
call TT9("No Powerups")
endif
if SC then
call TT9("Super Creeps")
endif
if EM then
call TT9("Easy Mode")
endif
if SH then
call TT9("Same Hero")
endif
if RV then
call TT9("Reverse")
endif
if OM then
call TT9("Only Mid")
endif
if NM then
call TT9("No Mid")
endif
if NB then
call TT9("No Bot")
endif
if NT then
call TT9("No Top")
endif
if NS then
call TT9("No Swap")
endif
if NR then
call TT9("No Repick")
endif
if SD then
call TT9("Single Draft")
endif
if PM then
call TT9("Pooling Mode")
endif
if OI then
call TT9("Observer Info")
endif
if MI then
call TT9("Mini Heroes")
endif
if FR then
call TT9("Fast Respawn")
endif
if ER then
call TT9("Experimental Runes")
endif
if RS then
call TT9("Random Side")
endif
if SO then
call TT9("Switch On")
endif
if ST then
call TU9("Super Tower")
endif
if MC then
call TU9("Modified Super Creeps")
endif
if T_9 then
call TU9("Beginner's Mode")
endif
if T29 then
call TU9("Advanced Mode")
endif
if U49 then
call TU9("Xtreme Mode")
endif
if HE then
call TU9("High Exp AI")
endif
if NE then
call TU9("Normal Exp AI")
endif
if DE then
call TU9("Dynamic Exp AI")
endif
if HG then
call TU9("High Gold AI")
endif
if NG then
call TU9("Normal Gold AI")
endif
if T19 then
call TU9("Dynamic Gold AI")
endif
if NN then
call TU9("No Necronomicon")
endif
if FM then
call TU9("Formless Mode")
endif
if T09 then
call TU9("Cool Names")
endif
if T59 then
call TU9("All Dagons")
endif
call BC7(bj_FORCE_ALL_PLAYERS,20.00," ")
if TA9==1 then
call BC7(bj_FORCE_ALL_PLAYERS,20.00,Q[GetPlayerId(Le)]+(KZ4[GetPlayerId(Le)])+"|r"+" "+GetObjectName(1848653361)+" "+cx)
else
call BC7(bj_FORCE_ALL_PLAYERS,20.00,GetObjectName(1848657998)+" "+cx)
endif
call BC7(bj_FORCE_ALL_PLAYERS,20.00,(GetObjectName((1848653363)))+" -gameinfo.")
call BC7(bj_FORCE_ALL_PLAYERS,20.00," ")
call D48("U79",SP)
call D48("U89",RS)
call D48("U99",DM)
call D48("UD9",MM)
call D48("UE9",SH)
call D48("UF9",AA)
call D48("UG9",AI)
call D48("UH9",AS)
call D48("UI9",RO)
call D48("UJ9",MO)
call D48("UK9",DU)
call D48("UM9",AR)
call D48("UN9",AP)
call D48("UO9",TR)
call D48("UP9",SD)
call D48("UQ9",MR)
call D48("UR9",ID)
call D48("US9",NP)
call D48("UT9",SC)
call D48("UU9",EM)
call D48("UV9",OM)
call D48("UW9",NB)
call D48("UX9",NT)
call D48("UY9",NM)
call D48("UZ9",NS)
call D48("StartSwitchOn",SO)
call D48("UA9",NR)
call D48("UB9",PM)
call D48("UC9",OI)
call D48("U39",MI)
call D48("U69",FR)
call D48("UL9",ER)
call D48("U19",ST)
call D48("U09",MC)
if T_9 then
set NE=true
set NG=true
set DE=false
set T19=false
endif
if T29 then
set HE=true
set HG=true
set DE=true
set T19=true
endif
if U49 then
set NE=true
set NG=true
set DE=true
set T19=true
call ExecuteFunc("U59")
call TU9("Xtreme AI")
endif
call D48("U29",DE)
call D48("U_9",T19)
call D48("V49",FM)
call D48("V79",T09)
call D48("V89",T59)
call D48("V99",CM)
set BT=HE
set LT=NE
set CT=HG
set WT=NG
set XT=NN
set Q94=true
call DY9(0,0,false)
if SN4==false and O54==false then
call OM9()
endif
call X88()
endfunction
function VD9 takes nothing returns nothing
call TY9(GetEventPlayerChatString(),1)
endfunction
function VE9 takes nothing returns boolean
if ZU4!="" and Q94==false then
set ZX4=true
call TY9("-"+(ZU4),2)
else
call TriggerRegisterPlayerChatEvent(ZT4,Le,"-",false)
endif
return false
endfunction
function UN9 takes nothing returns nothing
local location I18=GetRectCenter(pr)
local location I08=GetRectCenter(qr)
local integer x=1
set P4=true
set QD4=120
loop
exitwhen x>5
if Z07(Z7[x])then
call CreateUnitAtLoc(Z7[x],1848651843,I08,bj_UNIT_FACING)
endif
if Z07(A7[x])then
call CreateUnitAtLoc(A7[x],1848651843,I18,bj_UNIT_FACING)
endif
set x=x+1
endloop
call RemoveLocation(I18)
call RemoveLocation(I08)
set I18=null
set I08=null
endfunction
function VF9 takes integer C77,boolean VG9 returns boolean
local boolean VH9=false
local integer i
local integer j=1
if(VG9)then
if(DE7==1)then
return false
endif
set i=DE7-1
loop
if(C77==DG7[j])then
return true
endif
set j=j+1
exitwhen(j>i)
endloop
else
if(DF7==1)then
return false
endif
set i=DF7-1
loop
if(C77==DH7[j])then
return true
endif
set j=j+1
exitwhen(j>i)
endloop
endif
return VH9
endfunction
function VI9 takes integer C77,boolean VG9 returns nothing
if(VG9)then
set DG7[DE7]=C77
set DE7=DE7+1
else
set DH7[DF7]=C77
set DF7=DF7+1
endif
endfunction
function VJ9 takes integer C77 returns nothing
local integer i=1
local boolean VK9=false
loop
if(C77==DD7[i])then
set DD7[i]=0
call VI9(C77,false)
set VK9=true
endif
set i=i+1
exitwhen(i>DJ7 or VK9)
endloop
endfunction
function VM9 takes nothing returns integer
local integer O37=0
local integer C77=0
loop
set O37=GetRandomInt(1,DJ7)
exitwhen(DD7[O37]>0 and VF9(DD7[O37],false)==false)
endloop
set C77=DD7[O37]
call VI9(C77,false)
set DD7[O37]=0
return C77
endfunction
function VN9 takes integer C77 returns nothing
local integer i=1
local boolean VK9=false
loop
if(C77==D97[i])then
set D97[i]=0
call VI9(C77,true)
set VK9=true
endif
set i=i+1
exitwhen(i>DI7 or VK9)
endloop
endfunction
function VO9 takes nothing returns integer
local integer O37=0
local integer C77=0
loop
set O37=GetRandomInt(1,DI7)
exitwhen(D97[O37]>0 and VF9(DD7[O37],true)==false)
endloop
set C77=D97[O37]
call VI9(C77,true)
set D97[O37]=0
return C77
endfunction
function VP9 takes nothing returns boolean
local integer i=1
local integer VQ9=0
local integer C77=0
if not LO4 then
call UA7(GetTriggeringTrigger())
return false
endif
if Z17(LN4)then
if GetPlayerState(LN4,PLAYER_STATE_RESOURCE_GOLD)>0 then
set DO7=DO7+1
if DO7>DK7 then
if DP7 then
set C77=VO9()
else
set C77=VM9()
endif
loop
exitwhen(IssueNeutralImmediateOrderById(LN4,D87[i],C77)or GetPlayerState(LN4,PLAYER_STATE_RESOURCE_GOLD)==0)
set i=i+1
if(i>12)then
if DP7 then
set C77=VO9()
else
set C77=VM9()
endif
set i=1
set VQ9=VQ9+1
if(VQ9>5)then
exitwhen true
endif
endif
endloop
set DO7=0
endif
endif
endif
return true
endfunction
function VR9 takes nothing returns nothing
call AY7(1160786502)
call AY7(1311780946)
call AY7(1311788336)
call AY7(1160786507)
call AY7(1311788343)
call AY7(1311788363)
call AY7(1211117616)
endfunction
function VS9 takes nothing returns nothing
set DD7[1]=1211117653
set DD7[2]=1162032951
set DD7[3]=1211117617
set DD7[4]=1212363833
set DD7[5]=1215657064
set DD7[6]=1432580716
set DD7[7]=1433631084
set DD7[8]=1315988077
set DD7[9]=1215063922
set DD7[10]=1315074670
set DD7[11]=1211117636
set DD7[12]=1430466872
set DD7[13]=1430468144
set DD7[14]=1429221441
set DD7[15]=1429221430
set DD7[16]=1313026096
set DD7[17]=1430467634
set DD7[18]=1429221424
set DD7[19]=1430468913
set DD7[20]=1160785972
set DD7[21]=1162032181
set DD7[22]=1162032951
set DD7[23]=1160785970
set DD7[24]=1429221443
set DD7[25]=1211117640
set DD7[26]=1429221445
set DD7[27]=1328558154
set DD7[28]=1432510828
set DD7[29]=1332766568
set DD7[30]=1429221456
set DD7[31]=1315007329
set DD7[32]=1211117653
set DD7[33]=1311787088
set DD7[34]=1164207469
endfunction
function VT9 takes nothing returns nothing
set D97[1]=1211117653
set D97[2]=1214931305
set D97[3]=1215657064
set D97[4]=1311781174
set D97[5]=1315074670
set D97[6]=1430466872
set D97[7]=1162032951
set D97[8]=1311787088
set D97[9]=1211119409
set D97[10]=1328558390
set D97[11]=1332766568
set D97[12]=1433168227
set D97[13]=1433631084
set D97[14]=1333027688
set D97[15]=1328558160
set D97[16]=1215723364
set D97[17]=1211117654
set D97[18]=1432510828
set D97[19]=1315334514
set D97[20]=1162032181
endfunction
function VU9 takes nothing returns boolean
local integer i=1
local integer VV9=0
loop
exitwhen i>5
if Z17(Z7[i])then
if(IssueNeutralImmediateOrderById(Z7[i],DN7[i],1747990094)==false)then
set VV9=1
loop
exitwhen(VV9>5)or IssueNeutralImmediateOrderById(Z7[i],DN7[VV9],1747990094)
set VV9=VV9+1
endloop
endif
endif
if Z17(A7[i])then
if(IssueNeutralImmediateOrderById(A7[i],DN7[6+i],1747990094)==false)then
set VV9=1
loop
exitwhen(VV9>5)or IssueNeutralImmediateOrderById(A7[i],DN7[6+VV9],1747990094)
set VV9=VV9+1
endloop
endif
endif
set i=i+1
endloop
call UA7(GetTriggeringTrigger())
return false
endfunction
function VW9 takes string S,real VX9,real VY9,real VZ9,real VA9,real VB9,boolean VC9,integer r,integer g,integer b returns image
set LH4=CreateImage(S,VX9,VY9,0,VZ9-(VX9/2),VA9-(VY9/2),VB9,0,0,0,2)
call SetImageRenderAlways(LH4,true)
call ShowImage(LH4,VC9)
call SetImageColor(LH4,r,g,b,255)
return LH4
endfunction
function V39 takes image i returns nothing
call ShowImage(i,false)
call DestroyImage(i)
endfunction
function V69 takes integer VL9 returns nothing
local real x=LI4+40
local real y=LJ4-50
local integer V19=255
local integer V09=0
local integer V59=0
local integer V29=0
local integer V_9=0
local integer W49=255
local integer r
local integer g
local integer b
if VL9==1 then
set r=V19
set g=V09
set b=V59
set L94=VW9("Fonts\\B.blp",90,90,x-40,y,0,true,r,g,b)
set LD4=VW9("Fonts\\A.blp",90,90,x,y,0,true,r,g,b)
set LE4=VW9("Fonts\\N.blp",90,90,x+50,y,0,true,r,g,b)
elseif VL9==2 then
set r=V29
set g=V_9
set b=W49
call V39(L94)
call V39(LD4)
call V39(LE4)
set L94=VW9("Fonts\\P.blp",90,90,x-60,y,0,true,r,g,b)
set LD4=VW9("Fonts\\I.blp",90,90,x-20,y,0,true,r,g,b)
set LE4=VW9("Fonts\\C.blp",90,90,x,y,0,true,r,g,b)
set LF4=VW9("Fonts\\K.blp",90,90,x+45,y,0,true,r,g,b)
elseif VL9==3 then
set r=V19
set g=V09
set b=V59
call V39(L94)
call V39(LD4)
call V39(LE4)
call V39(LF4)
set L94=VW9("Fonts\\B.blp",90,90,x-40,y,0,true,r,g,b)
set LD4=VW9("Fonts\\A.blp",90,90,x,y,0,true,r,g,b)
set LE4=VW9("Fonts\\N.blp",90,90,x+50,y,0,true,r,g,b)
elseif VL9==4 then
set r=V29
set g=V_9
set b=W49
call V39(L94)
call V39(LD4)
call V39(LE4)
set L94=VW9("Fonts\\P.blp",90,90,x-60,y,0,true,r,g,b)
set LD4=VW9("Fonts\\I.blp",90,90,x-20,y,0,true,r,g,b)
set LE4=VW9("Fonts\\C.blp",90,90,x,y,0,true,r,g,b)
set LF4=VW9("Fonts\\K.blp",90,90,x+45,y,0,true,r,g,b)
elseif VL9==5 then
call V39(L94)
call V39(LD4)
call V39(LE4)
call V39(LF4)
endif
endfunction
function W79 takes integer i,integer W89 returns string
if i<0 then
set i=0
endif
if TimerGetElapsed(W)<15 then
return L74+I2S(i)
endif
if B34==3 then
return L74+I2S(i)
endif
if B34==1 and W89!=1 then
return L74+I2S(i)
elseif B34==2 and W89!=2 then
return L74+I2S(i)
elseif i==0 then
return L74+I2S(i)
elseif i<6 then
return L44+I2S(i)
else
return I2S(i)
endif
endfunction
function W99 takes nothing returns boolean
local multiboarditem WD9
local integer i
local integer WE9
local integer WF9
local integer WG9=7
local integer WH9=0
set WE9=1
set WF9=WH9
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
call MultiboardSetItemWidth(WD9,0.5)
call MultiboardSetItemValue(WD9,Q[GetPlayerId(Z7[1])]+(KZ4[GetPlayerId((Z7[1]))])+"|r")
call MultiboardReleaseItem(WD9)
set WE9=WE9+2
set WF9=WH9
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
call MultiboardSetItemValue(WD9,C_4+GetObjectName(1848657238))
call MultiboardSetItemWidth(WD9,0.035)
call MultiboardReleaseItem(WD9)
set i=0
set WE9=WE9
set WF9=WH9+i+1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if B64[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[B64[i]])
endif
call MultiboardReleaseItem(WD9)
set i=1
set WF9=WH9+i+1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if B64[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[B64[i]])
endif
call MultiboardReleaseItem(WD9)
set i=2
set WF9=WH9+i+1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if B64[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[B64[i]])
endif
call MultiboardReleaseItem(WD9)
set i=3
set WF9=WH9+i+1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if B64[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[B64[i]])
endif
call MultiboardReleaseItem(WD9)
set i=4
set WF9=WH9+i+1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if B64[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[B64[i]])
endif
call MultiboardReleaseItem(WD9)
set WE9=WE9+2
set WF9=WH9
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
call MultiboardSetItemValue(WD9,C_4+GetObjectName(1848657240))
call MultiboardSetItemWidth(WD9,0.035)
call MultiboardReleaseItem(WD9)
set i=0
set WE9=WE9
set WF9=WH9+i+1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if B54[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[B54[i]])
endif
call MultiboardReleaseItem(WD9)
set i=1
set WF9=WH9+i+1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if B54[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[B54[i]])
endif
call MultiboardReleaseItem(WD9)
set i=2
set WF9=WH9+i+1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if B54[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[B54[i]])
endif
call MultiboardReleaseItem(WD9)
set i=3
set WF9=WH9+i+1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if B54[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[B54[i]])
endif
call MultiboardReleaseItem(WD9)
set i=4
set WF9=WH9+i+1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if B54[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[B54[i]])
endif
call MultiboardReleaseItem(WD9)
set WE9=WE9+2
set WF9=WH9
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
call MultiboardSetItemValue(WD9,C_4+GetObjectName(1848657237))
call MultiboardSetItemWidth(WD9,0.035)
call MultiboardReleaseItem(WD9)
set WF9=WH9+1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
call MultiboardSetItemValue(WD9,W79(BB4[1],1))
call MultiboardSetItemWidth(WD9,0.035)
call MultiboardReleaseItem(WD9)
set WE9=WE9+1
set WF9=WH9
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
call MultiboardSetItemValue(WD9,C_4+GetObjectName(1848657236))
call MultiboardSetItemWidth(WD9,0.035)
call MultiboardReleaseItem(WD9)
set WF9=WH9+1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
call MultiboardSetItemValue(WD9,W79(BA4[1],1))
call MultiboardSetItemWidth(WD9,0.035)
call MultiboardReleaseItem(WD9)
set WE9=WE9+2
set WF9=WH9
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
call MultiboardSetItemValue(WD9,C_4+GetObjectName(1848657241))
call MultiboardSetItemWidth(WD9,0.035)
call MultiboardReleaseItem(WD9)
set WF9=WH9+1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
if TimerGetElapsed(W)<15 then
call MultiboardSetItemValue(WD9,L74+GetObjectName(1848657457))
elseif B34==1 then
call MultiboardSetItemValue(WD9,GetObjectName(1848657460))
elseif B34==2 then
call MultiboardSetItemValue(WD9,L74+GetObjectName(1848657457))
else
call MultiboardSetItemValue(WD9,L74+GetObjectName(1848657458))
endif
call MultiboardSetItemWidth(WD9,0.035)
call MultiboardReleaseItem(WD9)
set WE9=1
set WF9=WG9
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
call MultiboardSetItemWidth(WD9,1.5)
call MultiboardSetItemValue(WD9,"   "+Q[GetPlayerId(A7[1])]+(KZ4[GetPlayerId((A7[1]))])+"|r")
call MultiboardReleaseItem(WD9)
set WE9=WE9+2
set WF9=WG9-1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
call MultiboardSetItemValue(WD9,C_4+" "+GetObjectName(1848657238))
call MultiboardSetItemWidth(WD9,0.035)
call MultiboardReleaseItem(WD9)
set i=0
set WF9=WG9+i+1-1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if BL4[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[BL4[i]])
endif
call MultiboardReleaseItem(WD9)
set i=1
set WF9=WG9+i+1-1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if BL4[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[BL4[i]])
endif
call MultiboardReleaseItem(WD9)
set i=2
set WF9=WG9+i+1-1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if BL4[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[BL4[i]])
endif
call MultiboardReleaseItem(WD9)
set i=3
set WF9=WG9+i+1-1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if BL4[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[BL4[i]])
endif
call MultiboardReleaseItem(WD9)
set i=4
set WF9=WG9+i+1-1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if BL4[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[BL4[i]])
endif
call MultiboardReleaseItem(WD9)
set WE9=WE9+2
set WF9=WG9-1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
call MultiboardSetItemValue(WD9,C_4+" "+GetObjectName(1848657240))
call MultiboardSetItemWidth(WD9,0.035)
call MultiboardReleaseItem(WD9)
set i=0
set WF9=WG9+i+1-1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if B24[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[B24[i]])
endif
call MultiboardReleaseItem(WD9)
set i=1
set WF9=WG9+i+1-1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if B24[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[B24[i]])
endif
call MultiboardReleaseItem(WD9)
set i=2
set WF9=WG9+i+1-1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if B24[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[B24[i]])
endif
call MultiboardReleaseItem(WD9)
set i=3
set WF9=WG9+i+1-1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if B24[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[B24[i]])
endif
call MultiboardReleaseItem(WD9)
set i=4
set WF9=WG9+i+1-1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemWidth(WD9,0.015)
if B24[i]>0 then
call MultiboardSetItemStyle(WD9,false,true)
call MultiboardSetItemIcon(WD9,MH4[B24[i]])
endif
call MultiboardReleaseItem(WD9)
set WE9=WE9+2
set WF9=WG9-2
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
call MultiboardSetItemValue(WD9,C_4+GetObjectName(1848657237))
call MultiboardSetItemWidth(WD9,0.035)
call MultiboardReleaseItem(WD9)
set WF9=WG9-1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
call MultiboardSetItemValue(WD9,W79(BB4[2],2))
call MultiboardSetItemWidth(WD9,0.035)
call MultiboardReleaseItem(WD9)
set WE9=WE9+1
set WF9=WG9-2
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
call MultiboardSetItemValue(WD9,C_4+GetObjectName(1848657236))
call MultiboardSetItemWidth(WD9,0.035)
call MultiboardReleaseItem(WD9)
set WF9=WG9-1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
call MultiboardSetItemValue(WD9,W79(BA4[2],2))
call MultiboardSetItemWidth(WD9,0.035)
call MultiboardReleaseItem(WD9)
set WE9=WE9+2
set WF9=WG9-2
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
call MultiboardSetItemValue(WD9,C_4+GetObjectName(1848657241))
call MultiboardSetItemWidth(WD9,0.035)
call MultiboardReleaseItem(WD9)
set WF9=WG9-1
set WD9=MultiboardGetItem(L84,WE9,WF9)
call MultiboardSetItemStyle(WD9,true,false)
if TimerGetElapsed(W)<15 then
call MultiboardSetItemValue(WD9,L74+GetObjectName(1848657457))
elseif B34==2 then
call MultiboardSetItemValue(WD9,GetObjectName(1848657460))
elseif B34==1 then
call MultiboardSetItemValue(WD9,L74+GetObjectName(1848657457))
else
call MultiboardSetItemValue(WD9,L74+GetObjectName(1848657458))
endif
call MultiboardSetItemWidth(WD9,0.035)
call MultiboardReleaseItem(WD9)
return false
endfunction
function WI9 takes nothing returns nothing
local integer WJ9=12
local integer WK9=14
local trigger t=CreateTrigger()
local integer i
local multiboarditem WD9
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function W99))
set L84=CreateMultiboard()
call MultiboardSetItemsWidth(L84,0.015)
call MultiboardSetRowCount(L84,WJ9)
call MultiboardSetColumnCount(L84,WK9)
call MultiboardSetTitleText(L84,GetObjectName(1848658742))
call MultiboardSetItemsStyle(L84,false,false)
call MultiboardMinimize(L84,false)
call MultiboardDisplay(L84,true)
set i=0
loop
exitwhen i>WK9
set WD9=MultiboardGetItem(L84,0,i)
call MultiboardSetItemWidth(WD9,0.015)
call MultiboardReleaseItem(WD9)
set i=i+1
endloop
set t=null
set WD9=null
endfunction
function WM9 takes nothing returns boolean
local unit WN9=GetSoldUnit()
local player p=GetOwningPlayer(WN9)
local integer i
local real x
local real y
local real a
if GetUnitTypeId(WN9)==1747990094 and IsPlayerAlly(GetOwningPlayer(WN9),GetOwningPlayer(GetSellingUnit()))then
if M7[GetPlayerId(p)]!=null then
call L27(p,GetObjectName(1848657459))
call KillUnit(WN9)
set WN9=null
set p=null
return false
endif
set x=GetUnitX(GetSellingUnit())
set y=GetUnitY(GetSellingUnit())
set i=RJ7(GetUnitTypeId(GetSellingUnit()))
set a=GetUnitFacing(GetSellingUnit())
call RemoveUnit(GetSellingUnit())
call CreateUnit(p,i,x,y,a)
endif
if GetUnitTypeId(WN9)==1747990094 then
call KillUnit(WN9)
endif
if M7[GetPlayerId(Z7[1])]!=null and M7[GetPlayerId(Z7[2])]!=null and M7[GetPlayerId(Z7[3])]!=null and M7[GetPlayerId(Z7[4])]!=null and M7[GetPlayerId(Z7[5])]!=null and M7[GetPlayerId(A7[1])]!=null and M7[GetPlayerId(A7[2])]!=null and M7[GetPlayerId(A7[3])]!=null and M7[GetPlayerId(A7[4])]!=null and M7[GetPlayerId(A7[5])]!=null then
call UA7(GetTriggeringTrigger())
endif
set WN9=null
set p=null
return false
endfunction
function WO9 takes player pl,boolean J4 returns nothing
local integer O5=GetPlayerId(pl)
local integer T8
local integer U8
if not J4 then
set DQ7[64+O5]=(not DQ7[64+O5])
call DisplayTimedTextToPlayer(pl,0,0,10.,GetObjectName(1496332596)+PZ7(DQ7[64+O5],GetObjectName(1496403790),GetObjectName(1498369862)))
if not DQ7[48+O5]then
return
endif
else
set DQ7[48+O5]=true
endif
set DQ7[32+O5]=(DQ7[64+O5]and DQ7[48+O5])
set O5=GetPlayerId(GetLocalPlayer())
set T8=1
set U8=3+HC4+HB4
loop
exitwhen T8>U8
call x7(T4,15,T8,PC7(DQ7[32+O5],G97,0.01))
set T8=T8+1
endloop
if(pl==GetLocalPlayer())then
set EM7=IsMultiboardMinimized(T4)
call MultiboardMinimize(T4,true)
endif
call XU8()
if(pl==GetLocalPlayer())then
call MultiboardMinimize(T4,EM7)
endif
endfunction
function RM9 takes nothing returns nothing
call WO9(GetTriggerPlayer(),false)
endfunction
function WP9 takes player pl,boolean J4 returns nothing
local integer O5=GetPlayerId(pl)
local integer T8
local integer U8
local real QE7
if not(EU or FU)then
return
endif
if not J4 then
set DQ7[112+O5]=(not DQ7[112+O5])
call DisplayTimedTextToPlayer(pl,0,0,10.,GetObjectName(1496332595)+PZ7(DQ7[112+O5],GetObjectName(1496403790),GetObjectName(1498369862)))
if not DQ7[96+O5]then
return
endif
else
set DQ7[96+O5]=true
endif
set DQ7[80+O5]=(DQ7[112+O5]and DQ7[96+O5])
set O5=GetPlayerId(GetLocalPlayer())
set QE7=0
if(EU)then
set QE7=QE7+G97/2
endif
if(FU)then
set QE7=QE7+G97/2
endif
set T8=1
set U8=3+HC4+HB4
loop
exitwhen T8>U8
call x7(T4,14,T8,PC7(DQ7[80+O5],QE7,0.01))
set T8=T8+1
endloop
if(pl==GetLocalPlayer())then
set EM7=IsMultiboardMinimized(T4)
call MultiboardMinimize(T4,true)
endif
call XU8()
if(pl==GetLocalPlayer())then
call MultiboardMinimize(T4,EM7)
endif
endfunction
function RO9 takes nothing returns nothing
call WP9(GetTriggerPlayer(),false)
endfunction
function WQ9 takes nothing returns boolean
local integer O5=1
set BZ4=true
call UA7(GetTriggeringTrigger())
call DestroyMultiboard(L84)
call XE8()
call OI9()
call X88()
loop
exitwhen O5>11
if GetPlayerController(Player(O5))==MAP_CONTROL_USER then
call WO9(Player(O5),true)
call WP9(Player(O5),true)
endif
set O5=O5+1
endloop
return false
endfunction
function ModeCM_SpawnSound takes nothing returns boolean
call UA7(GetTriggeringTrigger())
call PlaySoundBJ(ZO)
return false
endfunction
function WR9 takes nothing returns boolean
local trigger t=CreateTrigger()
local integer DA9
local integer DZ9
local string BV8
local unit u
local real x
local real y
local integer i
local real d
local real WS9=GetRectCenterX(ED)
local real WT9=GetRectCenterY(ED)
local real WU9=GetRectCenterX(L9)
local real WV9=GetRectCenterY(L9)
set B34=3
set O44=true
call UA7(GetTriggeringTrigger())
set i=0
loop
exitwhen i==5
set x=WS9-300+i*150
set y=WT9
set u=CreateUnit(Z7[0],MI4[B54[i]],x,y,270)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_SELL)
call PanCameraToTimedForPlayer(Z7[i+1],WS9,WT9,0)
call CreateUnit(Z7[i+1],1848651843,WS9,WT9,bj_UNIT_FACING)
call SetPlayerState(Z7[i+1],PLAYER_STATE_RESOURCE_GOLD,BO4[GetPlayerId(Z7[i+1])]-250)
set DN7[1+i]=u
set i=i+1
endloop
set i=0
loop
exitwhen i==5
set x=WU9-300+i*150
set y=WV9
set u=CreateUnit(A7[0],MI4[B24[i]],x,y,270)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_SELL)
call PanCameraToTimedForPlayer(A7[i+1],WU9,WV9,0)
call CreateUnit(A7[i+1],1848651843,WU9,WV9,bj_UNIT_FACING)
call SetPlayerState(A7[i+1],PLAYER_STATE_RESOURCE_GOLD,BO4[GetPlayerId(A7[i+1])]-250)
set DN7[7+i]=u
set i=i+1
endloop
call TriggerAddCondition(t,Condition(function WM9))
call SuspendTimeOfDay(false)
call EnableTrigger(M04)
call EnableTrigger(ML4)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,10,false)
call TriggerAddCondition(t,Condition(function WQ9))
set QD4=90
call AA7()
set LO4=false
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,DM7,false)
call TriggerAddCondition(t,Condition(function VU9))
call ExecuteFunc("WW9")
call OM9()
set t=null
set u=null
return false
endfunction
function WX9 takes integer i returns nothing
call AY7(K34[i])
if B34==1 then
set B54[B_4]=i
set B_4=B_4+1
else
set B24[CK4]=i
set CK4=CK4+1
endif
endfunction
function WY9 takes nothing returns nothing
local integer i=A07()
loop
if J[i]==false then
set J[i]=true
call WX9(i)
return
endif
endloop
endfunction
function WZ9 takes integer i returns nothing
call II8("Ban"+I2S(GetPlayerId(GetOwningPlayer(GetSoldUnit()))),K34[i])
call AY7(K34[i])
if B34==1 then
set B64[B14]=i
set B14=B14+1
else
set BL4[B04]=i
set B04=B04+1
endif
endfunction
function WA9 takes nothing returns nothing
call WZ9(-1)
endfunction
function WB9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local player p=null
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
set t=null
return false
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call WX9(GetUnitPointValue(GetSoldUnit()))
call RemoveUnit(GetSoldUnit())
call VJ9(GetUnitTypeId(GetSoldUnit()))
if CM4==0 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WB9))
if B34==1 then
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
elseif CM4==1 then
if B34==1 and B_4==4 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WB9))
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==4 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WB9))
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==2 then
if B34==1 and B_4==5 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WB9))
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==5 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WB9))
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==3 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function WR9))
call V69(5)
call MultiboardSetTitleText(L84,GetObjectName(1848658742))
endif
else
if GetTriggerEvalCount(t)>CR4 then
if BA4[B34]>0 then
set BA4[B34]=BA4[B34]-1
else
if B34==1 then
call WY9()
else
call WY9()
endif
if CM4==0 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WB9))
if B34==1 then
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call L57(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
elseif CM4==1 then
if B34==1 and B_4==4 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WB9))
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call L57(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==4 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WB9))
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==2 then
if B34==1 and B_4==5 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WB9))
set B34=2
set BB4[B34]=CR4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call L57(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==5 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WB9))
set B34=1
set BB4[B34]=CR4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==3 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function WR9))
call V69(5)
call MultiboardSetTitleText(L84,GetObjectName(1848658742))
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
endif
endif
else
if B34==1 then
set BB4[1]=BB4[1]-1
else
set BB4[2]=BB4[2]-1
endif
endif
endif
set t=null
set p=null
return false
endfunction
function WC9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local player p
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
set t=null
return false
endif
if B14==(CU4+CL4)and B04==(CU4+CL4)then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call RemoveUnit(GetSoldUnit())
endif
call UA7(t)
set CM4=0
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WB9))
call V69(4)
call BC7(GetPlayersAll(),15.00,"|c006699CC"+GetObjectName(1848658995)+"|r")
call MultiboardSetTitleText(L84,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848659000))
if B34==1 then
set BB4[B34]=CQ4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
else
set BB4[B34]=CQ4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
set DP7=false
set LN4=p
set t=null
set p=null
return false
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call WZ9(GetUnitPointValue(GetSoldUnit()))
call RemoveUnit(GetSoldUnit())
call VN9(GetUnitTypeId(GetSoldUnit()))
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WC9))
if B34==1 then
set B34=2
set BB4[B34]=CQ4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CQ4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
else
if GetTriggerEvalCount(t)>CQ4 then
if BA4[B34]>0 then
set BA4[B34]=BA4[B34]-1
else
call WA9()
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WC9))
if B34==1 then
set B34=2
set BB4[B34]=CQ4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call L57(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CQ4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
endif
else
if B34==1 then
set BB4[1]=BB4[1]-1
else
set BB4[2]=BB4[2]-1
endif
endif
endif
set t=null
set p=null
return false
endfunction
function W39 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local player p=null
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
set t=null
return false
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call WX9(GetUnitPointValue(GetSoldUnit()))
call RemoveUnit(GetSoldUnit())
call VJ9(GetUnitTypeId(GetSoldUnit()))
if CM4==0 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W39))
if B34==1 then
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call L57(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
elseif CM4==1 then
if B34==1 and B_4==2 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W39))
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call L57(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==2 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W39))
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==2 then
if B34==1 and B_4==3 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W39))
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==3 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W39))
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==3 then
set CM4=CM4+1
call UA7(t)
if BC4==1 then
set B34=1
set BB4[B34]=CQ4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
else
set B34=2
set p=A7[1]
set BB4[B34]=CQ4
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WC9))
call V69(3)
call BC7(GetPlayersAll(),15.00,"|c006699CC"+GetObjectName(1848658996)+"|r")
call MultiboardSetTitleText(L84,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848658999))
set LN4=p
set DP7=true
endif
else
if GetTriggerEvalCount(t)>CP4 then
if BA4[B34]>0 then
set BA4[B34]=BA4[B34]-1
else
if B34==1 then
call WY9()
else
call WY9()
endif
if CM4==0 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W39))
if B34==1 then
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call L57(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
elseif CM4==1 then
if B34==1 and B_4==2 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W39))
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call L57(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==2 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W39))
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==2 then
if B34==1 and B_4==3 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W39))
set B34=2
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call L57(p,"Sound\\Interface\\Rescue.wav")
elseif B34==2 and CK4==3 then
set CM4=CM4+1
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W39))
set B34=1
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
if p!=null then
set LN4=p
endif
elseif CM4==3 then
set CM4=CM4+1
call UA7(t)
if BC4==1 then
set B34=1
set BB4[B34]=CQ4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
else
set B34=2
set p=A7[1]
set BB4[B34]=CQ4
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function WC9))
call V69(3)
call BC7(GetPlayersAll(),15.00,"|c006699CC"+GetObjectName(1848658996)+"|r")
call MultiboardSetTitleText(L84,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848658999))
set LN4=p
set DP7=true
endif
endif
else
if B34==1 then
set BB4[1]=BB4[1]-1
else
set BB4[2]=BB4[2]-1
endif
endif
endif
set t=null
set p=null
return false
endfunction
function W69 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local trigger t2
local player p
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false then
set t=null
return false
endif
if B14==CU4 and B04==CU4 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call RemoveUnit(GetSoldUnit())
endif
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W39))
call V69(2)
call BC7(bj_FORCE_ALL_PLAYERS,15.00,"|c006699CC"+GetObjectName(1848658997)+"|r")
call MultiboardSetTitleText(L84,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848659001))
if B34==1 then
set BB4[B34]=CP4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
else
set BB4[B34]=CP4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
set DP7=false
set t=null
set p=null
return false
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL then
call WZ9(GetUnitPointValue(GetSoldUnit()))
call RemoveUnit(GetSoldUnit())
call VN9(GetUnitTypeId(GetSoldUnit()))
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W69))
if B34==1 then
set B34=2
set BB4[B34]=CN4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CN4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
else
if GetTriggerEvalCount(t)>CN4 then
if BA4[B34]>0 then
set BA4[B34]=BA4[B34]-1
else
call WA9()
call UA7(t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W69))
if B34==1 then
set B34=2
set BB4[B34]=CN4
set p=A7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call L57(p,"Sound\\Interface\\Rescue.wav")
else
set B34=1
set BB4[B34]=CN4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
set LN4=p
endif
else
if B34==1 then
set BB4[1]=BB4[1]-1
else
set BB4[2]=BB4[2]-1
endif
endif
endif
set t=null
set p=null
return false
endfunction
function WL9 takes nothing returns boolean
local trigger t=CreateTrigger()
local trigger t2
local player p
set BW4=true
call UA7(GetTriggeringTrigger())
if BV4==false then
if BC4==1 then
call BC7(bj_FORCE_ALL_PLAYERS,15.00,Q[GetPlayerId(Z7[1])]+(KZ4[GetPlayerId((Z7[1]))])+"|r "+GetObjectName(1848657217))
else
call BC7(bj_FORCE_ALL_PLAYERS,15.00,Q[GetPlayerId(A7[1])]+(KZ4[GetPlayerId((A7[1]))])+"|r "+GetObjectName(1848657217))
endif
endif
if BC4==1 then
set B34=1
set BB4[B34]=CN4
set p=Z7[1]
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
else
set B34=2
set p=A7[1]
set BB4[B34]=CN4
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)
call L57(p,"Sound\\Interface\\Rescue.wav")
endif
call V69(1)
call BC7(GetPlayersAll(),15.00,"|c006699CC"+GetObjectName(1848658998)+"|r")
call MultiboardSetTitleText(L84,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848659009))
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W69))
set LO4=true
set DP7=true
set LN4=p
set t2=CreateTrigger()
call TriggerRegisterTimerEvent(t2,1,true)
call TriggerAddCondition(t2,Condition(function VP9))
set t2=null
set t=null
set p=null
return false
endfunction
function V99 takes nothing returns nothing
local trigger t
local location W19=GetRectCenter(pr)
local location W09=GetRectCenter(qr)
local integer x=1
local player p
call DisableTrigger(QA4)
loop
exitwhen x>5
if ZL7(Z7[x])then
call CreateUnitAtLoc(Z7[x],1848651843,W09,bj_UNIT_FACING)
endif
if ZL7(A7[x])then
call CreateUnitAtLoc(A7[x],1848651843,W19,bj_UNIT_FACING)
endif
set x=x+1
endloop
call RemoveLocation(W19)
call RemoveLocation(W09)
set SN4=true
set G9=false
set F9=false
set O44=false
call SuspendTimeOfDay(true)
call DisableTrigger(M04)
call DisableTrigger(ML4)
if LG4==false then
call VR9()
endif
set BO4[GetPlayerId(Z7[1])]=GetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(Z7[2])]=GetPlayerState(Z7[2],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(Z7[3])]=GetPlayerState(Z7[3],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(Z7[4])]=GetPlayerState(Z7[4],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(Z7[5])]=GetPlayerState(Z7[5],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(A7[1])]=GetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(A7[2])]=GetPlayerState(A7[2],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(A7[3])]=GetPlayerState(A7[3],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(A7[4])]=GetPlayerState(A7[4],PLAYER_STATE_RESOURCE_GOLD)
set BO4[GetPlayerId(A7[5])]=GetPlayerState(A7[5],PLAYER_STATE_RESOURCE_GOLD)
call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(Z7[2],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(Z7[3],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(Z7[4],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(Z7[5],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[2],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[3],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[4],PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(A7[5],PLAYER_STATE_RESOURCE_GOLD,0)
set BA4[1]=CS4
set BA4[2]=CS4
set BC4=GetRandomInt(1,2)
set BV4=false
set B34=BC4
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,15-TimerGetElapsed(W),false)
call TriggerAddCondition(t,Condition(function WL9))
call WI9()
call BC7(GetPlayersAll(),4.00,GetObjectName(1848657235))
call BC7(GetPlayersAll(),4.00,GetObjectName(1848657234))
set t=null
set W19=null
set W09=null
set p=null
endfunction
function W59 takes player p,integer z8 returns nothing
local integer i=1
loop
exitwhen i>5
if p!=Z7[i]then
call SetPlayerTechMaxAllowed(Z7[i],z8,0)
endif
if p!=A7[i]then
call SetPlayerTechMaxAllowed(A7[i],z8,0)
endif
set i=i+1
endloop
endfunction
function W29 takes integer W_9 returns integer
local integer X49
if W_9==1 then
set X49=GetUnitPointValueByType(K24[GetRandomInt(1,K_4)])
elseif W_9==2 then
set X49=GetUnitPointValueByType(M44[GetRandomInt(1,M74)])
elseif W_9==3 then
set X49=GetUnitPointValueByType(M84[GetRandomInt(1,M94)])
endif
return X49
endfunction
function X79 takes integer X89,integer X99,integer W_9 returns integer
local integer X49
set X49=W29(W_9)
if X8 and X89!=X49 and X99!=X49 then
return X49
endif
loop
exitwhen J[X49]==false and X89!=X49 and X99!=X49
set X49=W29(W_9)
endloop
set J[X49]=true
return X49
endfunction
function UP9 takes nothing returns nothing
local player p
local integer i=1
local integer X89
local integer X99
local integer XD9
local trigger t
local integer UC7
set VT=true
set QD4=120
set F9=false
set G9=false
call PauseUnit(MP4,true)
call PauseUnit(MQ4,true)
call PauseUnit(MR4,true)
call PauseUnit(MS4,true)
call PauseUnit(MT4,true)
call PauseUnit(MU4,true)
call PauseUnit(MV4,true)
call PauseUnit(MW4,true)
call PauseUnit(MX4,true)
call PauseUnit(MY4,true)
call PauseUnit(MZ4,true)
call PauseUnit(MA4,true)
call DisableTrigger(QA4)
loop
exitwhen i>5
set p=Z7[i]
set X89=0
set X99=0
set XD9=0
if Z07(p)then
call UnitAddAbility(KU4[GetPlayerId(p)],1093743686)
call UnitAddAbility(KU4[GetPlayerId(p)],1093743685)
call UnitAddAbility(KU4[GetPlayerId(p)],1093743688)
set X89=X79(X89,X99,1)
set X99=X79(X89,X99,2)
set XD9=X79(X89,X99,3)
call AddUnitToStock(KU4[GetPlayerId(p)],K34[X89],1,1)
call W59(p,K34[X89])
call AddUnitToStock(KU4[GetPlayerId(p)],K34[X99],1,1)
call W59(p,K34[X99])
call AddUnitToStock(KU4[GetPlayerId(p)],K34[XD9],1,1)
call W59(p,K34[XD9])
call ClearSelectionForPlayer(p)
call SelectUnitAddForPlayer(KU4[GetPlayerId(p)],p)
call PanCameraToTimedForPlayer(p,GetRectCenterX(ED),GetRectCenterY(ED),0)
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15,"|cff99ccff"+(GetObjectName((1848657206)))+"|r")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
endif
set p=A7[i]
set X89=0
set X99=0
set XD9=0
if Z07(p)then
call UnitAddAbility(KU4[GetPlayerId(p)],1093743686)
call UnitAddAbility(KU4[GetPlayerId(p)],1093743685)
call UnitAddAbility(KU4[GetPlayerId(p)],1093743688)
set X89=X79(X89,X99,1)
set X99=X79(X89,X99,2)
set XD9=X79(X89,X99,3)
call AddUnitToStock(KU4[GetPlayerId(p)],K34[X89],1,1)
call W59(p,K34[X89])
call AddUnitToStock(KU4[GetPlayerId(p)],K34[X99],1,1)
call W59(p,K34[X99])
call AddUnitToStock(KU4[GetPlayerId(p)],K34[XD9],1,1)
call W59(p,K34[XD9])
call ClearSelectionForPlayer(p)
call SelectUnitAddForPlayer(KU4[GetPlayerId(p)],p)
call PanCameraToTimedForPlayer(p,GetRectCenterX(L9),GetRectCenterY(L9),0)
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
call DisplayTimedTextToPlayer(p,0,E9,15,"|cff99ccff"+(GetObjectName((1848657206)))+"|r")
call DisplayTimedTextToPlayer(p,0,E9,15," ")
endif
set i=i+1
endloop
set p=null
set t=null
endfunction
function XE9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer BF8=UN7(UC7,"Index")
local player p
local integer A57
local location I18=GetRectCenter(ED)
local location I08=GetRectCenter(L9)
if BF8<6 then
set p=Z7[BF8]
elseif BF8<11 then
set p=A7[BF8-5]
endif
if BF8>10 then
call TN7(UC7)
call UA7(t)
if D4==false and RZ4==false then
set G9=true
endif
elseif BF8<6 then
call TQ7(UC7,"Index",BF8+1)
set M7[GetPlayerId(p)]=null
if Z07(p)then
loop
exitwhen M7[GetPlayerId(p)]!=null
if GetPlayerController(p)==MAP_CONTROL_USER and RZ4 then
set A57=500
elseif RZ4 then
set A57=A17()
else
set A57=A07()
endif
if J[A57]==false then
if not X8 and not RZ4 then
set J[A57]=true
endif
set M7[GetPlayerId(p)]=CreateUnitAtLoc(p,K34[A57],I18,bj_UNIT_FACING)
endif
endloop
endif
elseif BF8<11 then
call TQ7(UC7,"Index",BF8+1)
set M7[GetPlayerId(p)]=null
if Z07(p)then
loop
exitwhen M7[GetPlayerId(p)]!=null
if p==Le and RZ4 then
set A57=500
elseif RZ4 then
set A57=A17()
else
set A57=A07()
endif
if J[A57]==false then
if not X8 then
set J[A57]=true
endif
set M7[GetPlayerId(p)]=CreateUnitAtLoc(p,K34[A57],I08,bj_UNIT_FACING)
endif
endloop
endif
endif
call RemoveLocation(I18)
call RemoveLocation(I08)
set I18=null
set I08=null
set p=null
set t=null
return false
endfunction
function UM9 takes nothing returns nothing
local location I18=GetRectCenter(ED)
local location I08=GetRectCenter(L9)
local location XF9=GetRectCenter(ED)
local location XG9=GetRectCenter(L9)
local integer T8=1
local integer U8=5
local integer A57
local trigger t
set E4=true
set F9=false
if not X8 then
call AA7()
endif
call DisableTrigger(QA4)
set X4=400
call PanCameraToTimedLocForPlayer(Z7[1],XF9,0)
call PanCameraToTimedLocForPlayer(Z7[2],XF9,0)
call PanCameraToTimedLocForPlayer(Z7[3],XF9,0)
call PanCameraToTimedLocForPlayer(Z7[4],XF9,0)
call PanCameraToTimedLocForPlayer(Z7[5],XF9,0)
call PanCameraToTimedLocForPlayer(A7[1],XG9,0)
call PanCameraToTimedLocForPlayer(A7[2],XG9,0)
call PanCameraToTimedLocForPlayer(A7[3],XG9,0)
call PanCameraToTimedLocForPlayer(A7[4],XG9,0)
call PanCameraToTimedLocForPlayer(A7[5],XG9,0)
if H34 then
loop
set A57=A07()
exitwhen J[A57]==false
endloop
if ZC7(Le)then
set M7[GetPlayerId(Le)]=CreateUnit(Le,K34[A57],GetLocationX(I18),GetLocationY(I18),270)
else
set M7[GetPlayerId(Le)]=CreateUnit(Le,K34[A57],GetLocationX(I08),GetLocationY(I08),270)
endif
call RemoveLocation(I18)
call RemoveLocation(I08)
call RemoveLocation(XF9)
call RemoveLocation(XG9)
set I18=null
set I08=null
set XF9=null
set XG9=null
set t=null
return
endif
set G9=false
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddCondition(t,Condition(function XE9))
call TQ7(GetHandleId(t),"Index",1)
call RemoveLocation(I18)
call RemoveLocation(I08)
call RemoveLocation(XF9)
call RemoveLocation(XG9)
set I18=null
set I08=null
set XF9=null
set XG9=null
set t=null
endfunction
function Q2 takes nothing returns nothing
call DK8(GetEnumUnit())
endfunction
function Q3 takes unit CO7 returns nothing
local integer Q4=GetPlayerId(GetOwningPlayer(CO7))
set se[Q4]=UnitItemInSlot(CO7,0)
set Se[Q4]=UnitItemInSlot(CO7,1)
set We[Q4]=UnitItemInSlot(CO7,2)
set ze[Q4]=UnitItemInSlot(CO7,3)
set Ze[Q4]=UnitItemInSlot(CO7,4)
set vx[Q4]=UnitItemInSlot(CO7,5)
endfunction
function Q5 takes player h5,player h6 returns integer
local unit Q6=M7[GetPlayerId(h5)]
local unit Q7=M7[GetPlayerId(h6)]
call UnitRemoveBuffs(Q6,true,true)
call UnitRemoveBuffs(Q7,true,true)
if Q6==null and Q7==null then
call BC7(bj_FORCE_ALL_PLAYERS,15,Q[GetPlayerId(Z7[0])]+BA7(h5)+" and "+BA7(h6)+" did not pick a hero so they have no hero to be assigned.|r")
elseif GetRandomInt(1,2)==1 then
if(Q6!=null)then
return GetUnitTypeId(Q6)
else
return GetUnitTypeId(Q7)
endif
else
if(Q7!=null)then
return GetUnitTypeId(Q7)
else
return GetUnitTypeId(Q6)
endif
endif
call BC7(bj_FORCE_ALL_PLAYERS,15,Q[GetPlayerId(Z7[0])]+BA7(h5)+" and "+BA7(h6)+" have not picked a hero. They will be given a random hero!")
return A07()
endfunction
function Q8 takes nothing returns nothing
if(GetUnitTypeId(GetEnumUnit())==1848651828)then
call RemoveUnit(GetEnumUnit())
endif
if(GetUnitTypeId(GetEnumUnit())==1865429043)then
call RemoveUnit(GetEnumUnit())
endif
endfunction
function Q9 takes nothing returns boolean
local integer T8
local group ra=CX7()
local unit rA
local location XF9=GetRectCenter(ED)
local location XG9=GetRectCenter(L9)
local integer rb=P8(X7)
local player array rB
local player array rc
local integer x
local integer y
local real rC
local real rd
local real rD
local integer re
local group IB8=OK7(GetWorldBounds(),null)
call ForGroup(IB8,function Q8)
call CW7(IB8)
set T8=1
set x=1
set y=1
loop
exitwhen T8>5
if(Z07(Z7[T8]))then
call Q3(M7[GetPlayerId(Z7[T8])])
call GroupAddUnit(ra,M7[GetPlayerId(Z7[T8])])
set rB[x]=Z7[T8]
set x=x+1
endif
if(Z07(A7[T8]))then
call Q3(M7[GetPlayerId(A7[T8])])
call GroupAddUnit(ra,M7[GetPlayerId(A7[T8])])
set rc[y]=A7[T8]
set y=y+1
endif
set T8=T8+1
endloop
set x=1
loop
exitwhen x>rb
set re=Q5(rB[x],rc[x])
if(M7[GetPlayerId(rB[x])]==null)then
set rC=GetLocationX(XF9)+GetRandomReal(1,40)
set rd=GetLocationY(XF9)+GetRandomReal(1,40)
set rD=270
else
set rC=GetUnitX(M7[GetPlayerId(rB[x])])
set rd=GetUnitY(M7[GetPlayerId(rB[x])])
set rD=GetUnitFacing(M7[GetPlayerId(rB[x])])
call SetUnitPathing(M7[GetPlayerId(rB[x])],false)
endif
set M7[GetPlayerId(rB[x])]=CreateUnit(rB[x],re,rC,rd,rD)
call SetUnitPathing(M7[GetPlayerId(rB[x])],false)
call SetUnitPosition(M7[GetPlayerId(rB[x])],rC,rd)
call UnitAddItem(M7[GetPlayerId(rB[x])],se[GetPlayerId(rB[x])])
call UnitAddItem(M7[GetPlayerId(rB[x])],Se[GetPlayerId(rB[x])])
call UnitAddItem(M7[GetPlayerId(rB[x])],We[GetPlayerId(rB[x])])
call UnitAddItem(M7[GetPlayerId(rB[x])],ze[GetPlayerId(rB[x])])
call UnitAddItem(M7[GetPlayerId(rB[x])],Ze[GetPlayerId(rB[x])])
call UnitAddItem(M7[GetPlayerId(rB[x])],vx[GetPlayerId(rB[x])])
call ClearSelectionForPlayer(rB[x])
call SelectUnitAddForPlayer(M7[GetPlayerId(rB[x])],rB[x])
call PanCameraToTimedForPlayer(rB[x],rC,rd,0)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Awaken\\Awaken.mdl",rC,rd))
if(M7[GetPlayerId(rc[x])]==null)then
set rC=GetLocationX(XG9)
set rd=GetLocationY(XG9)
set rD=270
else
set rC=GetUnitX(M7[GetPlayerId(rc[x])])
set rd=GetUnitY(M7[GetPlayerId(rc[x])])
set rD=GetUnitFacing(M7[GetPlayerId(rc[x])])
call SetUnitPathing(M7[GetPlayerId(rc[x])],false)
endif
set M7[GetPlayerId(rc[x])]=CreateUnit(rc[x],re,rC,rd,rD)
call SetUnitPathing(M7[GetPlayerId(rc[x])],false)
call SetUnitPosition(M7[GetPlayerId(rc[x])],rC,rd)
call UnitAddItem(M7[GetPlayerId(rc[x])],se[GetPlayerId(rc[x])])
call UnitAddItem(M7[GetPlayerId(rc[x])],Se[GetPlayerId(rc[x])])
call UnitAddItem(M7[GetPlayerId(rc[x])],We[GetPlayerId(rc[x])])
call UnitAddItem(M7[GetPlayerId(rc[x])],ze[GetPlayerId(rc[x])])
call UnitAddItem(M7[GetPlayerId(rc[x])],Ze[GetPlayerId(rc[x])])
call UnitAddItem(M7[GetPlayerId(rc[x])],vx[GetPlayerId(rc[x])])
call ClearSelectionForPlayer(rc[x])
call SelectUnitAddForPlayer(M7[GetPlayerId(rc[x])],rc[x])
call PanCameraToTimedForPlayer(rc[x],rC,rd,0)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Awaken\\Awaken.mdl",rC,rd))
set x=x+1
endloop
call ForGroup(ra,function Q2)
call CW7(ra)
set x=1
loop
exitwhen x>rb
call SetUnitPathing(M7[GetPlayerId(rB[x])],true)
call SetUnitPathing(M7[GetPlayerId(rc[x])],true)
set x=x+1
endloop
call RemoveLocation(XF9)
call RemoveLocation(XG9)
set ra=null
set rA=null
set XF9=null
set XG9=null
set IB8=null
return false
endfunction
function rE takes nothing returns boolean
set AJ=true
return false
endfunction
function rf takes nothing returns boolean
set G9=false
set F9=false
call AA7()
return false
endfunction
function UD9 takes nothing returns nothing
local trigger t=CreateTrigger()
call BC7(L8,10,"Your hero might change at the 60 second mark.")
call BC7(L8,10,"It is recommended to not purchase items until then.")
set W8=true
call AY7(1211117641)
call TriggerRegisterTimerEvent(t,60-TimerGetElapsed(W),false)
call TriggerAddCondition(t,Condition(function Q9))
set t=CreateTrigger()
call TriggerAddCondition(t,Condition(function rf))
call TriggerRegisterTimerEvent(t,57-TimerGetElapsed(W),false)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,55+60-TimerGetElapsed(W),false)
call TriggerAddCondition(t,Condition(function rE))
set t=null
endfunction
function UO9 takes nothing returns nothing
local location I18=GetRectCenter(HD)
local location I08=GetRectCenter(GD)
local location XF9=GetRectCenter(ED)
local location XG9=GetRectCenter(L9)
local integer T8
local integer U8
local integer A57
if not X8 then
call AA7()
endif
call DisableTrigger(QA4)
set O4=true
set X4=400
set F9=false
call PanCameraToTimedLocForPlayer(Z7[1],XF9,0)
call PanCameraToTimedLocForPlayer(Z7[2],XF9,0)
call PanCameraToTimedLocForPlayer(Z7[3],XF9,0)
call PanCameraToTimedLocForPlayer(Z7[4],XF9,0)
call PanCameraToTimedLocForPlayer(Z7[5],XF9,0)
call PanCameraToTimedLocForPlayer(A7[1],XG9,0)
call PanCameraToTimedLocForPlayer(A7[2],XG9,0)
call PanCameraToTimedLocForPlayer(A7[3],XG9,0)
call PanCameraToTimedLocForPlayer(A7[4],XG9,0)
call PanCameraToTimedLocForPlayer(A7[5],XG9,0)
if H34 then
if ZC7(Le)then
loop
set A57=GetRandomInt(KL4,K14)
exitwhen J[A57]==false
endloop
set M7[GetPlayerId(Le)]=CreateUnit(Le,K34[A57],GetLocationX(I18),GetLocationY(I18),270)
else
loop
set A57=GetRandomInt(K04,K54)
exitwhen J[A57]==false
endloop
set M7[GetPlayerId(Le)]=CreateUnit(Le,K34[A57],GetLocationX(I08),GetLocationY(I08),270)
endif
call RemoveLocation(I18)
call RemoveLocation(I08)
call RemoveLocation(XF9)
call RemoveLocation(XG9)
return
endif
set G9=false
set T8=1
set U8=5
loop
exitwhen T8>U8
set M7[GetPlayerId(Z7[T8])]=null
if(Z07(Z7[T8]))then
loop
set A57=GetRandomInt(KL4,K14)
if(J[A57]==false)then
if not X8 then
set J[A57]=true
endif
set M7[GetPlayerId(Z7[T8])]=CreateUnitAtLoc(Z7[T8],K34[A57],I18,bj_UNIT_FACING)
endif
exitwhen(M7[GetPlayerId(Z7[T8])]!=null)
endloop
endif
set T8=T8+1
endloop
set T8=1
set U8=5
loop
exitwhen T8>U8
set M7[GetPlayerId(A7[T8])]=null
if(Z07(A7[T8]))then
loop
set A57=GetRandomInt(K04,K54)
if(J[A57]==false)then
if not X8 then
set J[A57]=true
endif
set M7[GetPlayerId(A7[T8])]=CreateUnitAtLoc(A7[T8],K34[A57],I08,bj_UNIT_FACING)
endif
exitwhen(M7[GetPlayerId(A7[T8])]!=null)
endloop
endif
set T8=T8+1
endloop
set G9=true
call RemoveLocation(I18)
call RemoveLocation(I08)
call RemoveLocation(XF9)
call RemoveLocation(XG9)
set I18=null
set I08=null
set XF9=null
set XG9=null
endfunction
function rF takes nothing returns nothing
set P94=true
call BC7(bj_FORCE_ALL_PLAYERS,10,"No Deaths has been enabled. You will have no respawn time.")
call DisableTrigger(GetTriggeringTrigger())
endfunction
function rg takes nothing returns nothing
local integer rG=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))
if rG>PD4 then
call L27(Le,"Too many lives")
elseif rG<10 then
call L27(Le,"Too few lives")
else
set PD4=rG
call BC7(bj_FORCE_ALL_PLAYERS,10,"Each team has "+I2S(PD4)+" lives before they lose the game.")
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function rh takes nothing returns nothing
call DisableTrigger(UF7(GetHandleId(GetTriggeringTrigger()),"nd"))
call DisableTrigger(UF7(GetHandleId(GetTriggeringTrigger()),"lives"))
call DisableTrigger(GetTriggeringTrigger())
endfunction
function XH9 takes nothing returns nothing
local trigger ri=CreateTrigger()
local trigger rI=CreateTrigger()
local trigger nd=CreateTrigger()
set PD4=DN8(K14,K54-K04+1)
call BC7(bj_FORCE_ALL_PLAYERS,10.," ")
call BC7(bj_FORCE_ALL_PLAYERS,10.,"Extra commands: -nd and -lives xx can be entered in the following 15 seconds. ")
call BC7(bj_FORCE_ALL_PLAYERS,10.,"Current DM lives are "+I2S(PD4))
call TriggerRegisterTimerEvent(ri,15.,false)
call TriggerAddAction(ri,function rh)
call TW7(GetHandleId(ri),"nd",nd)
call TW7(GetHandleId(ri),"lives",rI)
call TriggerRegisterPlayerChatEvent(nd,Le,"-nd",true)
call TriggerAddAction(nd,function rF)
call TriggerRegisterPlayerChatEvent(rI,Le,"-lives",false)
call TriggerAddAction(rI,function rg)
endfunction
function XI9 takes nothing returns nothing
local integer rJ=UN7(GetHandleId(GetTriggeringTrigger()),"PlayerId")
local integer T8
local integer U8
local integer A57
local integer QM
local location I18=GetRectCenter(pr)
local location I08=GetRectCenter(qr)
if D9 then
return
endif
if ZC7(Player(rJ))then
set T8=KL4
set U8=K14
set QM=0
else
set T8=K04
set U8=K54
set QM=1
endif
if P4 then
set T8=KL4
set U8=K54
if ZC7(Player(rJ))then
call CreateUnitAtLoc(Player(rJ),1848651843,I18,bj_UNIT_FACING)
call CreateUnitAtLoc(Player(rJ),1848651843,I08,bj_UNIT_FACING)
else
call CreateUnitAtLoc(Player(rJ),1848651843,I18,bj_UNIT_FACING)
call CreateUnitAtLoc(Player(rJ),1848651843,I08,bj_UNIT_FACING)
endif
endif
if((not E4)and(GetPlayerController(Player(rJ))==MAP_CONTROL_USER))then
loop
exitwhen T8>U8
if J[T8]==false then
call SetPlayerTechMaxAllowed(Player(rJ),K34[T8],1)
endif
set T8=T8+1
endloop
if(GetPlayerState(Player(rJ),PLAYER_STATE_RESOURCE_GOLD)<250)then
call SetPlayerState(Player(rJ),PLAYER_STATE_RESOURCE_GOLD,250)
endif
elseif(S7[QM]<PD4)then
set M7[rJ]=null
if Z07(Player(rJ))then
loop
if(E4)then
set A57=A07()
elseif RZ4 then
set A57=A17()
elseif(((not P4)and(ZC7(Player(rJ))))or((P4)and(GetRandomInt(1,2)==1)))then
set A57=GetRandomInt(KL4,K14)
else
set A57=GetRandomInt(K04,K54)
endif
if J[A57]==false then
if RZ4==false then
set J[A57]=true
endif
if ZC7(Player(rJ))then
set M7[rJ]=CreateUnitAtLoc(Player(rJ),K34[A57],I18,bj_UNIT_FACING)
else
set M7[rJ]=CreateUnitAtLoc(Player(rJ),K34[A57],I08,bj_UNIT_FACING)
endif
endif
exitwhen M7[rJ]!=null
endloop
endif
endif
call RemoveLocation(I18)
call RemoveLocation(I08)
set I18=null
set I08=null
if not E4 then
endif
endfunction
function U99 takes nothing returns nothing
local location Mk
local real CPv
local trigger t
local integer rk
local integer x
set D4=true
call AY7(1211117641)
call AY7(1311781207)
set x=1
loop
exitwhen x>5
set rk=GetPlayerId(Z7[x])
set t=CreateTrigger()
call TriggerRegisterTimerExpireEvent(t,U[rk])
call TriggerAddAction(t,function XI9)
call TQ7(GetHandleId(t),"PlayerId",rk)
set rk=GetPlayerId(A7[x])
set t=CreateTrigger()
call TriggerRegisterTimerExpireEvent(t,U[rk])
call TriggerAddAction(t,function XI9)
call TQ7(GetHandleId(t),"PlayerId",rk)
set x=x+1
endloop
call UnitRemoveAbility(KJ4,1096906593)
call UnitRemoveAbility(KK4,1096906593)
call UnitRemoveAbility(KM4,1096906593)
call UnitRemoveAbility(KN4,1096906593)
call UnitRemoveAbility(KO4,1096906593)
call UnitRemoveAbility(KP4,1096906593)
call UnitRemoveAbility(KQ4,1096906593)
call UnitRemoveAbility(KR4,1096906593)
call UnitRemoveAbility(KS4,1096906593)
call UnitRemoveAbility(KT4,1096906593)
call ExecuteFunc("XH9")
endfunction
function V49 takes nothing returns nothing
local location P0=GetRectCenter(HD)
local location P3=GetRectCenter(GD)
local location Qn=GetRectCenter(ED)
local location QN=GetRectCenter(L9)
local integer hK=1
local integer hl=5
local trigger t
local integer rk
local integer x
set RZ4=true
set PD4=9999999
call AY7(1211117641)
call AY7(1311781207)
call AY7(1211117653)
call AY7(1315334514)
set x=KL4
loop
exitwhen x>K54
set A0[x]=false
set x=x+1
endloop
set x=1
loop
exitwhen x>5
if GetPlayerController(Z7[x])==MAP_CONTROL_COMPUTER then
set rk=GetPlayerId(Z7[x])
set t=CreateTrigger()
call TriggerRegisterTimerExpireEvent(t,U[rk])
call TriggerAddAction(t,function XI9)
call TQ7(GetHandleId(t),"PlayerId",rk)
endif
if GetPlayerController(A7[x])==MAP_CONTROL_COMPUTER then
set rk=GetPlayerId(A7[x])
set t=CreateTrigger()
call TriggerRegisterTimerExpireEvent(t,U[rk])
call TriggerAddAction(t,function XI9)
call TQ7(GetHandleId(t),"PlayerId",rk)
endif
set x=x+1
endloop
call DisableTrigger(QA4)
set F9=false
call AA7()
set X4=400
set G9=false
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddCondition(t,Condition(function XE9))
call TQ7(GetHandleId(t),"Index",1)
call RemoveLocation(P0)
call RemoveLocation(P3)
call RemoveLocation(Qn)
call RemoveLocation(QN)
set P0=null
set P3=null
set Qn=null
set QN=null
set t=null
endfunction
function UQ9 takes nothing returns nothing
local integer rK=GetRandomInt(1,4)
set Ox=true
if(rK==1)then
call BC7(bj_FORCE_ALL_PLAYERS,20.,"AP has been randomly selected as your mode!")
call BC7(bj_FORCE_ALL_PLAYERS,20.," ")
call ExecuteFunc("UN9")
elseif(rK==2)then
call BC7(bj_FORCE_ALL_PLAYERS,20.,"AR has been randomly selected as your mode!")
call BC7(bj_FORCE_ALL_PLAYERS,20.," ")
call ExecuteFunc("UM9")
elseif(rK==3)then
call BC7(bj_FORCE_ALL_PLAYERS,20.,"TR has been randomly selected as your mode!")
call BC7(bj_FORCE_ALL_PLAYERS,20.," ")
call ExecuteFunc("UO9")
elseif(rK==4)then
call BC7(bj_FORCE_ALL_PLAYERS,20.,"Normal has been randomly selected as your mode!")
call BC7(bj_FORCE_ALL_PLAYERS,20.," ")
endif
endfunction
function UK9 takes nothing returns nothing
set X8=true
call AY7(1211117641)
endfunction
function U79 takes nothing returns nothing
local integer IL8=P8(X7)
local integer I68=P8(Y7)
local integer D5=IL8+I68
local integer T8
local integer XJ9
local integer x
local integer y
local integer z
local player array XK9
local player array XM9
local integer w
local integer XN9
local integer XO9
local location XF9=GetRectCenter(ED)
local location XG9=GetRectCenter(L9)
local location I18=GetRectCenter(pr)
local location I08=GetRectCenter(qr)
set ge=true
call WG8(Z7[1])
call WG8(Z7[2])
call WG8(Z7[3])
call WG8(Z7[4])
call WG8(Z7[5])
call WG8(A7[1])
call WG8(A7[2])
call WG8(A7[3])
call WG8(A7[4])
call WG8(A7[5])
set x=1
loop
exitwhen x>5
if Z07(Z7[x])then
call CreateUnitAtLoc(Z7[x],1848651843,I18,bj_UNIT_FACING)
call CreateUnitAtLoc(Z7[x],1848651843,I08,bj_UNIT_FACING)
endif
if Z07(A7[x])then
call CreateUnitAtLoc(A7[x],1848651843,I18,bj_UNIT_FACING)
call CreateUnitAtLoc(A7[x],1848651843,I08,bj_UNIT_FACING)
endif
set x=x+1
endloop
call RemoveLocation(I18)
call RemoveLocation(I08)
set XN9=GetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[5],PLAYER_STATE_RESOURCE_GOLD)
set XO9=GetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[5],PLAYER_STATE_RESOURCE_GOLD)
set XK9[1]=null
set XK9[2]=null
set XK9[3]=null
set XK9[4]=null
set XK9[5]=null
set XK9[6]=null
set XK9[7]=null
set XK9[8]=null
set XK9[9]=null
set XK9[10]=null
set z=1
set w=1
set T8=1
loop
exitwhen T8>5
if(Z07(Z7[T8]))then
set XK9[w]=Z7[T8]
set w=w+1
else
set XM9[z]=Z7[T8]
set z=z+1
endif
set T8=T8+1
endloop
set T8=1
loop
exitwhen T8>5
if(Z07(A7[T8]))then
set XK9[w]=A7[T8]
set w=w+1
else
set XM9[z]=A7[T8]
set z=z+1
endif
set T8=T8+1
endloop
set Z7[1]=null
set Z7[2]=null
set Z7[3]=null
set Z7[4]=null
set Z7[5]=null
set A7[1]=null
set A7[2]=null
set A7[3]=null
set A7[4]=null
set A7[5]=null
set T8=1
loop
exitwhen T8>(D5/ 2)
set XJ9=GetRandomInt(1,D5)
if(XK9[XJ9]!=null)then
set Z7[T8]=XK9[XJ9]
set XK9[XJ9]=null
set T8=T8+1
endif
endloop
set x=T8
set T8=1
loop
exitwhen T8>D5-x+1
set XJ9=GetRandomInt(1,D5)
if(XK9[XJ9]!=null)then
set A7[T8]=XK9[XJ9]
set XK9[XJ9]=null
set T8=T8+1
endif
endloop
set z=T8
set T8=x
set y=1
loop
exitwhen T8>5
set Z7[T8]=XM9[y]
set y=y+1
set T8=T8+1
endloop
set T8=z
loop
exitwhen T8>5
set A7[T8]=XM9[y]
set y=y+1
set T8=T8+1
endloop
set T8=0
loop
exitwhen T8>5
set T8=T8+1
endloop
call SetPlayerTeam(Z7[0],0)
call SetPlayerTeam(Z7[1],0)
call SetPlayerTeam(Z7[2],0)
call SetPlayerTeam(Z7[3],0)
call SetPlayerTeam(Z7[4],0)
call SetPlayerTeam(Z7[5],0)
call SetPlayerTeam(A7[0],1)
call SetPlayerTeam(A7[1],1)
call SetPlayerTeam(A7[2],1)
call SetPlayerTeam(A7[3],1)
call SetPlayerTeam(A7[4],1)
call SetPlayerTeam(A7[5],1)
call I88()
set x=0
set y=0
loop
exitwhen x>5
loop
exitwhen y>5
call SetPlayerAllianceStateBJ(Z7[x],Z7[y],3)
call SetPlayerAllianceStateBJ(A7[x],A7[y],3)
call SetPlayerAllianceStateBJ(Z7[x],A7[y],0)
call SetPlayerAllianceStateBJ(A7[x],Z7[y],0)
set y=y+1
endloop
set y=0
set x=x+1
endloop
call ForceClear(X7)
call ForceClear(Y7)
call ForceAddPlayer(X7,Z7[0])
call ForceAddPlayer(X7,Z7[1])
call ForceAddPlayer(X7,Z7[2])
call ForceAddPlayer(X7,Z7[3])
call ForceAddPlayer(X7,Z7[4])
call ForceAddPlayer(X7,Z7[5])
call ForceAddPlayer(Y7,A7[0])
call ForceAddPlayer(Y7,A7[1])
call ForceAddPlayer(Y7,A7[2])
call ForceAddPlayer(Y7,A7[3])
call ForceAddPlayer(Y7,A7[4])
call ForceAddPlayer(Y7,A7[5])
call ExecuteFunc("IY8")
call XE8()
set IL8=P8(X7)
set I68=P8(Y7)
set T8=1
loop
exitwhen T8>5
if(Z07(Z7[T8]))then
call SetPlayerStateBJ(Z7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ IL8))
call SetPlayerStateBJ(Z7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
if(Z07(A7[T8]))then
call SetPlayerStateBJ(A7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ I68))
call SetPlayerStateBJ(A7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
set T8=T8+1
endloop
if V8 then
set x=0
loop
exitwhen x>5
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(0),true)
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(4),true)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(0),false)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(4),false)
set x=x+1
endloop
endif
call I78()
set XF9=null
set XG9=null
set I18=null
set I08=null
endfunction
function U89 takes nothing returns nothing
local integer IL8=P8(X7)
local integer I68=P8(Y7)
local integer D5=IL8+I68
local integer T8
local integer XJ9
local integer x
local integer y
local integer z
local player array XK9
local player array XM9
local integer w
local integer XN9
local integer XO9
local location XF9
local location XG9
local location I18
local location I08
local integer XP9
set XP9=GetRandomInt(1,2)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10,(GetObjectName((1848657753))))
if XP9==1 then
return
endif
set jj=true
set XF9=GetRectCenter(ED)
set XG9=GetRectCenter(L9)
set I18=GetRectCenter(pr)
set I08=GetRectCenter(qr)
call WG8(Z7[1])
call WG8(Z7[2])
call WG8(Z7[3])
call WG8(Z7[4])
call WG8(Z7[5])
call WG8(A7[1])
call WG8(A7[2])
call WG8(A7[3])
call WG8(A7[4])
call WG8(A7[5])
set x=1
loop
exitwhen x>5
if Z07(Z7[x])then
call CreateUnitAtLoc(Z7[x],1848651843,I18,bj_UNIT_FACING)
call CreateUnitAtLoc(Z7[x],1848651843,I08,bj_UNIT_FACING)
endif
if Z07(A7[x])then
call CreateUnitAtLoc(A7[x],1848651843,I18,bj_UNIT_FACING)
call CreateUnitAtLoc(A7[x],1848651843,I08,bj_UNIT_FACING)
endif
set x=x+1
endloop
call RemoveLocation(I18)
call RemoveLocation(I08)
set XN9=GetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[5],PLAYER_STATE_RESOURCE_GOLD)
set XO9=GetPlayerState(A7[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(A7[5],PLAYER_STATE_RESOURCE_GOLD)
set XK9[1]=Z7[1]
set XK9[2]=Z7[2]
set XK9[3]=Z7[3]
set XK9[4]=Z7[4]
set XK9[5]=Z7[5]
set XK9[6]=A7[1]
set XK9[7]=A7[2]
set XK9[8]=A7[3]
set XK9[9]=A7[4]
set XK9[10]=A7[5]
set Z7[1]=XK9[6]
set Z7[2]=XK9[7]
set Z7[3]=XK9[8]
set Z7[4]=XK9[9]
set Z7[5]=XK9[10]
set A7[1]=XK9[1]
set A7[2]=XK9[2]
set A7[3]=XK9[3]
set A7[4]=XK9[4]
set A7[5]=XK9[5]
call SetPlayerTeam(Z7[0],0)
call SetPlayerTeam(Z7[1],0)
call SetPlayerTeam(Z7[2],0)
call SetPlayerTeam(Z7[3],0)
call SetPlayerTeam(Z7[4],0)
call SetPlayerTeam(Z7[5],0)
call SetPlayerTeam(A7[0],1)
call SetPlayerTeam(A7[1],1)
call SetPlayerTeam(A7[2],1)
call SetPlayerTeam(A7[3],1)
call SetPlayerTeam(A7[4],1)
call SetPlayerTeam(A7[5],1)
call I88()
set x=0
set y=0
loop
exitwhen x>5
loop
exitwhen y>5
call SetPlayerAllianceStateBJ(Z7[x],Z7[y],3)
call SetPlayerAllianceStateBJ(A7[x],A7[y],3)
call SetPlayerAllianceStateBJ(Z7[x],A7[y],0)
call SetPlayerAllianceStateBJ(A7[x],Z7[y],0)
set y=y+1
endloop
set y=0
set x=x+1
endloop
call ForceClear(X7)
call ForceClear(Y7)
call ForceAddPlayer(X7,Z7[0])
call ForceAddPlayer(X7,Z7[1])
call ForceAddPlayer(X7,Z7[2])
call ForceAddPlayer(X7,Z7[3])
call ForceAddPlayer(X7,Z7[4])
call ForceAddPlayer(X7,Z7[5])
call ForceAddPlayer(Y7,A7[0])
call ForceAddPlayer(Y7,A7[1])
call ForceAddPlayer(Y7,A7[2])
call ForceAddPlayer(Y7,A7[3])
call ForceAddPlayer(Y7,A7[4])
call ForceAddPlayer(Y7,A7[5])
call ExecuteFunc("IY8")
set IL8=P8(X7)
set I68=P8(Y7)
set T8=1
loop
exitwhen T8>5
if(Z07(Z7[T8]))then
call SetPlayerStateBJ(Z7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ IL8))
call SetPlayerStateBJ(Z7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
if(Z07(A7[T8]))then
call SetPlayerStateBJ(A7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ I68))
call SetPlayerStateBJ(A7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)
endif
set T8=T8+1
endloop
call PanCameraToTimedLocForPlayer(Z7[1],XF9,0)
call PanCameraToTimedLocForPlayer(Z7[2],XF9,0)
call PanCameraToTimedLocForPlayer(Z7[3],XF9,0)
call PanCameraToTimedLocForPlayer(Z7[4],XF9,0)
call PanCameraToTimedLocForPlayer(Z7[5],XF9,0)
call PanCameraToTimedLocForPlayer(A7[1],XG9,0)
call PanCameraToTimedLocForPlayer(A7[2],XG9,0)
call PanCameraToTimedLocForPlayer(A7[3],XG9,0)
call PanCameraToTimedLocForPlayer(A7[4],XG9,0)
call PanCameraToTimedLocForPlayer(A7[5],XG9,0)
call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[1],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[2],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[3],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[4],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[5],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,A7[1],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,A7[2],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,A7[3],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,A7[4],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
call DestroyFogModifier(CreateFogModifierRectBJ(true,A7[5],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))
if V8 then
set x=0
loop
exitwhen x>5
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(0),true)
call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(4),true)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(0),false)
call SetPlayerAlliance(Player(0),A7[x],ConvertAllianceType(4),false)
set x=x+1
endloop
endif
call I78()
call XE8()
set XF9=null
set XG9=null
set I18=null
set I08=null
endfunction
function rN takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer Hm=UN7(UC7,"HeroType")
local player j8
local integer x=1
loop
exitwhen x>5
set j8=Z7[x]
if Z07(j8)and j8!=Le then
set M7[GetPlayerId(j8)]=CreateUnit(j8,Hm,GetRectCenterX(ED),GetRectCenterY(ED),270)
endif
set j8=A7[x]
if Z07(j8)and j8!=Le then
set M7[GetPlayerId(j8)]=CreateUnit(j8,Hm,GetRectCenterX(L9),GetRectCenterY(L9),270)
endif
set x=x+1
endloop
call TN7(UC7)
call UA7(t)
set t=null
set j8=null
return false
endfunction
function ro takes nothing returns nothing
local integer x=1
local player j8
local unit CO7=GetTriggerUnit()
local integer Hm=GetUnitTypeId(CO7)
local trigger t
local integer UC7
if(GetOwningPlayer(CO7)==Le and IsUnitType(CO7,UNIT_TYPE_HERO))then
call DisableTrigger(GetTriggeringTrigger())
if W4[GetPlayerId(Le)]==false and E4==false and O4==false then
call SetPlayerState(Le,PLAYER_STATE_RESOURCE_GOLD,250+GetPlayerState(Le,PLAYER_STATE_RESOURCE_GOLD))
endif
set I[GetPlayerId(Le)]=true
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,.01,false)
call TriggerAddCondition(t,Condition(function rN))
call TQ7(UC7,"HeroType",Hm)
endif
set j8=null
set CO7=null
set t=null
endfunction
function UE9 takes nothing returns nothing
local integer x=1
local trigger t=CreateTrigger()
local region r=CreateRegion()
set H34=true
call DisableTrigger(QA4)
call AY7(1211117641)
loop
exitwhen x>5
if(Z7[x]!=Le)then
call AZ7(Z7[x])
set W4[GetPlayerId(Z7[x])]=true
set I[GetPlayerId(Z7[x])]=true
endif
if(A7[x]!=Le)then
call AZ7(A7[x])
set W4[GetPlayerId(A7[x])]=true
set I[GetPlayerId(A7[x])]=true
endif
set x=x+1
endloop
call RegionAddRect(r,bj_mapInitialPlayableArea)
call TriggerRegisterEnterRegion(t,r,null)
call TriggerAddAction(t,function ro)
endfunction
function UF9 takes nothing returns nothing
local integer T8
local integer U8
set Rx=true
set T8=1
set U8=M94
loop
exitwhen T8>U8
call AY7(M84[T8])
set T8=T8+1
endloop
set T8=1
set U8=M74
loop
exitwhen T8>U8
call AY7(M44[T8])
set T8=T8+1
endloop
endfunction
function UH9 takes nothing returns nothing
local integer T8
local integer U8
set bx=true
set T8=1
set U8=M94
loop
exitwhen T8>U8
call AY7(M84[T8])
set T8=T8+1
endloop
set T8=1
set U8=K_4
loop
exitwhen T8>U8
call AY7(K24[T8])
set T8=T8+1
endloop
endfunction
function UG9 takes nothing returns nothing
local integer T8
local integer U8
set Nx=true
set T8=1
set U8=K_4
loop
exitwhen T8>U8
call AY7(K24[T8])
set T8=T8+1
endloop
set T8=1
set U8=M74
loop
exitwhen T8>U8
call AY7(M44[T8])
set T8=T8+1
endloop
endfunction
function UJ9 takes nothing returns nothing
local integer T8
local integer U8
set lj=true
set T8=1
set U8=ME4
loop
exitwhen T8>U8
call AY7(MD4[T8])
set T8=T8+1
endloop
endfunction
function UI9 takes nothing returns nothing
local integer T8
local integer U8
set Jj=true
set T8=1
set U8=MG4
loop
exitwhen T8>U8
call AY7(MF4[T8])
set T8=T8+1
endloop
endfunction
function UR9 takes nothing returns nothing
set R4=true
endfunction
function UU9 takes nothing returns nothing
set Y4=true
call SetPlayerTechResearched(Z7[0],1378889780,1)
call SetPlayerTechResearched(A7[0],1378889780,1)
call SetPlayerHandicapXP(Z7[1],1.5)
call SetPlayerHandicapXP(Z7[2],1.5)
call SetPlayerHandicapXP(Z7[3],1.5)
call SetPlayerHandicapXP(Z7[4],1.5)
call SetPlayerHandicapXP(Z7[5],1.5)
call SetPlayerHandicapXP(A7[1],1.5)
call SetPlayerHandicapXP(A7[2],1.5)
call SetPlayerHandicapXP(A7[3],1.5)
call SetPlayerHandicapXP(A7[4],1.5)
call SetPlayerHandicapXP(A7[5],1.5)
endfunction
function US9 takes nothing returns nothing
set A4=true
call DisableTrigger(H04)
endfunction
function UT9 takes nothing returns nothing
set C4=true
endfunction
function XQ9 takes nothing returns nothing
set oy=false
call BC7(bj_FORCE_ALL_PLAYERS,10,(GetObjectName((1848657985))))
call DisableTrigger(GetTriggeringTrigger())
endfunction
function XR9 takes nothing returns nothing
call DisableTrigger(UF7(GetHandleId(GetTriggeringTrigger()),"nn"))
call DisableTrigger(GetTriggeringTrigger())
endfunction
function XS9 takes nothing returns nothing
local trigger XT9=CreateTrigger()
local trigger XU9=CreateTrigger()
call BC7(bj_FORCE_ALL_PLAYERS,10.00," ")
call BC7(bj_FORCE_ALL_PLAYERS,10.00,"Extra commands: -noneutrals can be entered in the following 15 seconds. ")
call TriggerRegisterTimerEvent(XT9,15.,false)
call TriggerAddAction(XT9,function XR9)
call TW7(GetHandleId(XT9),"nn",XU9)
call TriggerRegisterPlayerChatEvent(XU9,Le,"-noneutrals",true)
call TriggerAddAction(XU9,function XQ9)
endfunction
function UV9 takes nothing returns nothing
set PE4=true
call ExecuteFunc("XS9")
endfunction
function UW9 takes nothing returns nothing
set PF4=true
endfunction
function UY9 takes nothing returns nothing
set PG4=true
endfunction
function UX9 takes nothing returns nothing
set PH4=true
endfunction
function UZ9 takes nothing returns nothing
set PI4=true
endfunction
function UA9 takes nothing returns nothing
set PJ4=true
endfunction
function UB9 takes nothing returns nothing
set PK4=true
endfunction
function V79 takes nothing returns nothing
set T64=true
endfunction
function V89 takes nothing returns nothing
set TL4=true
endfunction
function XV9 takes nothing returns nothing
local integer i=0
loop
exitwhen i>5
call SetPlayerName(Z7[i],(KZ4[GetPlayerId((Z7[i]))])+" ("+I2S(T[GetPlayerId(Z7[i])])+"/"+I2S(V[GetPlayerId(Z7[i])])+" | "+I2S(T7[GetPlayerId(Z7[i])])+"-"+I2S(U7[GetPlayerId(Z7[i])])+")")
call SetPlayerName(A7[i],(KZ4[GetPlayerId((A7[i]))])+" ("+I2S(T[GetPlayerId(A7[i])])+"/"+I2S(V[GetPlayerId(A7[i])])+" | "+I2S(T7[GetPlayerId(A7[i])])+"-"+I2S(U7[GetPlayerId(A7[i])])+")")
set i=i+1
endloop
endfunction
function XW9 takes nothing returns boolean
if PM4==false then
if GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4 then
call XV9()
endif
endif
return false
endfunction
function XX9 takes nothing returns boolean
local integer id=GetUnitTypeId(GetTriggerUnit())
local string XY9
if GetLocalPlayer()==GetTriggerPlayer()then
if id==1749236021 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848652107 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1849897784 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1701078382 then
elseif id==1848651862 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848651863 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848651826 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848651864 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848651833 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1848657989 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1849897781 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1966092369 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1967339316 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1966092592 then
call ResetUnitAnimation(GetTriggerUnit())
elseif id==1966092378 then
call ResetUnitAnimation(GetTriggerUnit())
endif
endif
return false
endfunction
function XZ9 takes nothing returns boolean
local integer id=GetUnitTypeId(GetTriggerUnit())
local string XY9
if GetLocalPlayer()==GetTriggerPlayer()then
if id==1749236021 then
set XY9="stand work"
elseif id==1848652107 then
set XY9="stand third"
elseif id==1849897784 then
call SetUnitAnimationByIndex(GetTriggerUnit(),3)
elseif id==1701078382 then
elseif id==1848651862 then
set XY9="spell attack"
elseif id==1848651863 then
set XY9="spell"
elseif id==1848651826 then
call SetUnitAnimationByIndex(GetTriggerUnit(),3)
elseif id==1848651864 then
set XY9="stand work"
elseif id==1848651833 then
set XY9="stand work"
elseif id==1848657989 then
set XY9="stand victory"
elseif id==1849897781 then
set XY9="stand work"
elseif id==1966092369 then
set XY9="stand work"
elseif id==1967339316 then
set XY9="stand work gold"
elseif id==1966092592 then
set XY9="stand work"
elseif id==1966092378 then
set XY9="stand work"
endif
if XY9!="" then
call SetUnitAnimation(GetTriggerUnit(),XY9)
call QueueUnitAnimationBJ(GetTriggerUnit(),XY9)
endif
endif
return false
endfunction
function UC9 takes nothing returns nothing
set PM4=true
endfunction
function XA9 takes nothing returns nothing
local unit CO7=GetTriggerUnit()
call SetUnitScale(CO7,L37(CO7)*CS,L37(CO7)*CS,L37(CO7)*CS)
set CO7=null
endfunction
function XB9 takes nothing returns boolean
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
call XA9()
endif
return false
endfunction
function U39 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)
call TriggerAddCondition(t,Condition(function XB9))
set bN=true
set CS=0.5
endfunction
function U69 takes nothing returns nothing
set LS=true
endfunction
function UL9 takes nothing returns nothing
set DT=true
endfunction
function XC9 takes nothing returns nothing
set M[1]=0
endfunction
function X39 takes nothing returns nothing
set M[2]=0
endfunction
function X69 takes nothing returns nothing
set M[3]=0
endfunction
function XL9 takes nothing returns nothing
set M[4]=0
endfunction
function X19 takes nothing returns nothing
set M[5]=0
endfunction
function X09 takes nothing returns nothing
set M[7]=0
endfunction
function X59 takes nothing returns nothing
set M[8]=0
endfunction
function X29 takes nothing returns nothing
set M[9]=0
endfunction
function X_9 takes nothing returns nothing
set M[10]=0
endfunction
function Y49 takes nothing returns nothing
set M[11]=0
endfunction
function Y79 takes nothing returns nothing
local integer i=1
local string id
local player p
loop
exitwhen i>5
set p=Z7[i]
set id=I2S(GetPlayerId(p))
call StoreInteger(IV4,id,"id",i)
set p=A7[i]
set id=I2S(GetPlayerId(p))
call StoreInteger(IV4,id,"id",i+5)
if GetLocalPlayer()==Le then
call SyncStoredInteger(IV4,I2S(GetPlayerId(Z7[i])),"id")
call SyncStoredInteger(IV4,I2S(GetPlayerId(A7[i])),"id")
endif
set i=i+1
endloop
endfunction
function Y89 takes nothing returns boolean
local boolean Y99=Y8
if(vY and(not Y99))then
set Y8=true
endif
if Y99 then
call A37()
call BC7(bj_FORCE_ALL_PLAYERS,20.00,Q[GetPlayerId(Le)]+(KZ4[GetPlayerId((Le))])+"|r"+" "+(GetObjectName((1848656717))))
call BC7(bj_FORCE_ALL_PLAYERS,20.00," ")
set Q94=true
call OM9()
call SR9()
call XE8()
call OI9()
call X88()
elseif vY then
call BC7(bj_FORCE_ALL_PLAYERS,20.,"The selected mode/s are insignificant and is considered |c006699CCNormal Mode|r. You will get 175 gold refunded when you pick a hero.")
call BC7(bj_FORCE_ALL_PLAYERS,20.," ")
endif
call Y79()
call UA7(GetTriggeringTrigger())
return false
endfunction
function YD9 takes nothing returns boolean
set P=true
call UA7(GetTriggeringTrigger())
return false
endfunction
function YE9 takes nothing returns nothing
set O=true
endfunction
function YF9 takes nothing returns nothing
set G8=true
endfunction
function YG9 takes nothing returns nothing
set T9=true
endfunction
function YH9 takes nothing returns boolean
return GetUnitAbilityLevel(GetKillingUnit(),1093685043)>0 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function YI9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit u=U87(UC7,"Unit")
call TQ7(GetHandleId(u),"PreviousKills",UN7(GetHandleId(u),"PreviousKills")-1)
call TN7(UC7)
call UA7(t)
set u=null
set t=null
return false
endfunction
function YJ9 takes nothing returns nothing
local unit YK9=GetKillingUnit()
local unit YM9=GetTriggerUnit()
local integer OC7=GetHandleId(YK9)
local integer YN9=UN7(OC7,"PreviousKills")
local integer H98=GetUnitAbilityLevel(YK9,1093685043)
local integer YO9=YN9*H98
local integer YP9=DN8(YO9+H98*2+2,30)
local texttag tt=CreateTextTag()
local player p=GetOwningPlayer(YK9)
local trigger t=CreateTrigger()
set ET[GetPlayerId(p)]=ET[GetPlayerId(p)]+YP9
call TriggerRegisterTimerEvent(t,25.,false)
call TriggerAddCondition(t,Condition(function YI9))
call TU7(GetHandleId(t),"Unit",YK9)
call TQ7(OC7,"PreviousKills",YN9+1)
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,YP9+GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD))
call SetTextTagText(tt,"+"+I2S(YP9),0.025)
call SetTextTagPosUnit(tt,YM9,0)
call SetTextTagColor(tt,255,220,0,255)
call SetTextTagVelocity(tt,0,0.03)
if GetLocalPlayer()==p then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
call SetTextTagFadepoint(tt,2)
call SetTextTagLifespan(tt,3)
call SetTextTagPermanent(tt,false)
set t=null
set YK9=null
set YM9=null
set p=null
endfunction
function YQ9 takes nothing returns boolean
local integer YR9=ET[GetPlayerId(GetTriggerPlayer())]
if YR9>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848657745)))+" "+I2S(YR9))
endif
return false
endfunction
function R88 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YH9))
call TriggerAddAction(t,function YJ9)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function YQ9))
set t=null
endfunction
function YS9 takes nothing returns nothing
call HD8(S34,GetEnumUnit(),ZH4,S14)
call H78(S34,GetEnumUnit(),SL4)
endfunction
function YT9 takes unit EC8,unit O07,real YU9 returns nothing
local group g
local integer BH7=GetUnitAbilityLevel(EC8,1093750345)
local real x
local real y
set S34=EC8
set S14=(80+70*BH7)*YU9/W54
set SL4=(1+0.75*BH7)*YU9/W54
set S64=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call LM7(S64,1093687350)
call SetUnitAbilityLevel(S64,1093687350,G_8(SL4))
set IN4=EC8
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(O07),GetUnitY(O07),175+25,Condition(function FT8))
if GetUnitTypeId(O07)!=1747993156 then
call GroupAddUnit(g,O07)
endif
call ForGroup(g,function YS9)
call CW7(g)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",GetUnitX(O07),GetUnitY(O07)))
set g=null
endfunction
function YV9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local unit G18=U87(UC7,"Projectile")
local real YU9=UO7(UC7,"Elapsed")
local real YW9=UO7(UC7,"OriginalTime")
local real l4=PP7(GetUnitX(G18),GetUnitY(G18),GetUnitX(m5),GetUnitY(m5))
local real x=GetUnitX(G18)+18*Cos(l4*bj_DEGTORAD)
local real y=GetUnitY(G18)+18*Sin(l4*bj_DEGTORAD)
call SetUnitX(G18,x)
call SetUnitY(G18,y)
if RF7(x,y,GetUnitX(m5),GetUnitY(m5))<=18 then
call KillUnit(G18)
call YT9(p5,m5,YU9)
call TN7(UC7)
call UA7(t)
elseif(TimerGetElapsed(W))-YW9>(W54+2.0)then
call KillUnit(G18)
call YT9(p5,G18,YU9)
call TN7(UC7)
call UA7(t)
endif
set t=null
set p5=null
set m5=null
set G18=null
return false
endfunction
function YX9 takes unit p5,unit m5,real YU9,real YW9 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit G18=CreateUnit(GetOwningPlayer(p5),1747993156,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TU7(UC7,"Projectile",G18)
call TR7(UC7,"Elapsed",YU9*1.0)
call TR7(UC7,"OriginalTime",YW9*1.0)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function YV9))
set t=null
set G18=null
endfunction
function YY9 takes string YZ9,unit m5,unit YA9 returns nothing
local texttag tt=CreateTextTag()
call SetTextTagText(tt,YZ9,0.033)
call SetTextTagPosUnit(tt,m5,64)
call SetTextTagColor(tt,255,0,0,255)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,0.15)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,0.65)
if IsUnitAlly(YA9,GetLocalPlayer())or CM7(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
set tt=null
endfunction
function YB9 takes real YC9 returns string
if YC9>4.5 then
return"5.0"
elseif YC9>4.0 then
return"4.5"
elseif YC9>3.5 then
return"4.0"
elseif YC9>3.0 then
return"3.5"
elseif YC9>2.5 then
return"3.0"
elseif YC9>2.0 then
return"2.5"
elseif YC9>1.5 then
return"2.0"
elseif YC9>1.0 then
return"1.5"
elseif YC9>0.5 then
return"1.0"
elseif YC9>0.0 then
return"0.5"
else
return"0.0"
endif
return" "
endfunction
function Y39 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local real YW9=UO7(UC7,"OriginalTime")
local real HA8=(TimerGetElapsed(W))
local real Y69=5.0-(HA8-YW9)
local real XV8=DQ8(HA8-YW9,5.0)
local integer YL9=UN7(UC7,"Count")+1
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call YT9(p5,p5,W54)
if(LoadInteger(L7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(L7,(GetHandleId(p5)),(704)))==1093750345 then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750345,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750344,false)
call SetUnitVertexColor(p5,255,255,255,255)
call DestroyEffect((LoadEffectHandle(L7,(UC7),(32))))
call TN7(UC7)
call UA7(t)
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093750344 then
if CV7(GetSpellTargetUnit())==false then
call YX9(p5,GetSpellTargetUnit(),XV8,YW9)
endif
if(LoadInteger(L7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(L7,(GetHandleId(p5)),(704)))==1093750345 then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750345,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750344,false)
call SetUnitVertexColor(p5,255,255,255,255)
call DestroyEffect((LoadEffectHandle(L7,(UC7),(32))))
call TN7(UC7)
call UA7(t)
endif
else
call SaveInteger(L7,(UC7),StringHash("Count"),(YL9))
if Y69>=0 then
call YY9(YB9(Y69),p5,p5)
if ModuloInteger(YL9,2)==0 then
call SetUnitVertexColor(p5,255,125,125,255)
else
call SetUnitVertexColor(p5,255,175,175,255)
endif
else
call SetUnitVertexColor(p5,255,0,0,255)
endif
if HA8-YW9>(W54+2.0)then
call YT9(p5,p5,W54)
if(LoadInteger(L7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(L7,(GetHandleId(p5)),(704)))==1093750345 then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750345,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750344,false)
call SetUnitVertexColor(p5,255,255,255,255)
call DestroyEffect((LoadEffectHandle(L7,(UC7),(32))))
call TN7(UC7)
call UA7(t)
endif
endif
set t=null
set p5=null
return false
endfunction
function Y19 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local string st="war3mapImported\\UnstableConcoctionRangeDisplay3.mdx"
if GetLocalPlayer()!=GetOwningPlayer(p5)then
set st=""
endif
call TU7(UC7,"Source",p5)
call TR7(UC7,"OriginalTime",TimerGetElapsed(W)*1.0)
call SaveEffectHandle(L7,(UC7),(32),(AddSpecialEffectTarget(st,p5,"origin")))
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y39))
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750345,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750344,true)
call LM7(p5,1093750344)
call UnitMakeAbilityPermanent(p5,true,1093750344)
call TriggerEvaluate(t)
set p5=null
set t=null
endfunction
function Y09 takes nothing returns boolean
if GetSpellAbilityId()==1093750345 then
call Y19()
endif
return false
endfunction
function R98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Y09))
call DE8(1093687350)
set t=null
endfunction
function ZV takes nothing returns boolean
return GetSpellAbilityId()==1093683532
endfunction
function Y59 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitTypeId(GetFilterUnit())!=1848657461
endfunction
function Y29 takes nothing returns nothing
call UnitDamageTarget(D8,GetEnumUnit(),F8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
endfunction
function RC takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local unit oA=U87(UC7,"Caster")
local integer Rd=UN7(UC7,"Counter")
local real x=GetUnitX(oA)
local real y=GetUnitY(oA)
local boolexpr hP
local group IB8
if Rd>12 then
call KillUnit(oA)
call PauseTimer(t)
call TN7(UC7)
call DestroyTimer(t)
else
set D8=CO7
set F8=8+GetUnitAbilityLevel(CO7,1093683532)*6
set hP=Condition(function Y59)
set IB8=CX7()
call GroupEnumUnitsInRange(IB8,x,y,650,hP)
call ForGroup(IB8,function Y29)
call CW7(IB8)
call DestroyBoolExpr(hP)
set Rd=Rd+1
call TQ7(UC7,"Counter",Rd)
set IB8=null
set hP=null
endif
set t=null
set CO7=null
set oA=null
endfunction
function Y_9 takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local location Mk=GetSpellTargetLoc()
local real x=GetLocationX(Mk)
local real y=GetLocationY(Mk)
local unit oA=CreateUnit(GetOwningPlayer(CO7),1697657157,x,y,0)
local timer t=CreateTimer()
local integer UC7=GetHandleId(t)
call RemoveLocation(Mk)
call LM7(oA,1093683764)
call SetUnitAbilityLevel(oA,1093683764,GetUnitAbilityLevel(CO7,1093683532))
call LM7(oA,1097625443)
call TU7(UC7,"Hero",CO7)
call TU7(UC7,"Caster",oA)
call TQ7(UC7,"Counter",0)
call TimerStart(t,1,true,function RC)
set CO7=null
set Mk=null
set oA=null
set t=null
endfunction
function RD8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(t,function Y_9)
call TriggerAddCondition(t,Condition(function ZV))
call DE8(1093683764)
set t=null
endfunction
function Z49 takes nothing returns nothing
call HD8(DN,GetEnumUnit(),ZG4,dN)
endfunction
function Z79 takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BH7=GetUnitAbilityLevel(CO7,1093682483)
local real DS8=(0.35+0.25*BH7)*(GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))
local group g=CX7()
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",m5,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl",m5,"chest"))
call DestroyEffect(AddSpecialEffect("war3mapImported\\Enchantment.mdx",GetUnitX(m5),GetUnitY(m5)))
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),325,Condition(function F58))
set dN=DS8
set DN=CO7
call ForGroup(g,function Z49)
call PlaySoundOnUnitBJ(oO,100,m5)
call CW7(g)
set CO7=null
set m5=null
set g=null
endfunction
function Z89 takes nothing returns boolean
if GetSpellAbilityId()==1093682483 and CV7(GetSpellTargetUnit())==false then
call Z79()
endif
return false
endfunction
function KI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z89))
set t=null
endfunction
function Z99 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit H88=U87(UC7,"Caster")
local integer B78=GetTriggerEvalCount(t)
local integer ZD9=R2I(((0.9-0.3)/ 0.5)/ 0.03)
local integer ZE9=R2I((175/ ZD9))
local integer ZF9=R2I((255/ ZD9)*1.75)
local unit CO7=U87(UC7,"Hero")
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
if B78>ZD9 then
call SetUnitVertexColor(H88,255,255,255,0)
call SetUnitVertexColor(CO7,255,255,255,255)
call ShowUnit(H88,false)
call TN7(UC7)
call UA7(t)
else
call SetUnitVertexColor(H88,255,255,255,175-ZE9*B78)
call SetUnitX(H88,x)
call SetUnitY(H88,y)
call SetUnitVertexColor(CO7,255,255,255,ZF9*B78)
endif
set t=null
set H88=null
set CO7=null
return false
endfunction
function ZG9 takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit H88=U87(GetHandleId(CO7),"BlinkAM_Caster")
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local real x=GetUnitX(CO7)
local real y=GetUnitY(CO7)
call SetUnitX(H88,x)
call SetUnitY(H88,y)
call SetUnitX(CO7,x)
call SetUnitY(CO7,y)
call SetUnitVertexColor(CO7,255,255,255,0)
call SetUnitVertexColor(H88,255,255,255,175)
call SetUnitTimeScale(H88,0.5)
call TU7(UC7,"Caster",H88)
call TU7(UC7,"Hero",CO7)
call TR7(UC7,"x",x*1.0)
call TR7(UC7,"y",y*1.0)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function Z99))
set CO7=null
set H88=null
set t=null
endfunction
function ZH9 takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit H88
local integer UC7=GetHandleId(CO7)
local real a=PP7(GetUnitX(CO7),GetUnitY(CO7),GetSpellTargetX(),GetSpellTargetY())
local real x=GetUnitX(CO7)
local real y=GetUnitY(CO7)
call SetUnitPathing(CO7,false)
call LM7(CO7,1097167976)
set H88=CreateUnit(GetOwningPlayer(CO7),1747990091,GetUnitX(CO7),GetUnitY(CO7),a)
call LT7(H88,5)
call SetUnitPathing(H88,false)
call LM7(H88,1097167976)
call LM7(H88,1097625443)
call LM7(H88,1093678162)
call SetUnitVertexColor(H88,255,255,255,0)
call SetUnitX(H88,x)
call SetUnitY(H88,y)
call SetUnitX(CO7,x)
call SetUnitY(CO7,y)
call SetUnitAnimation(H88,"Spell Throw")
call SetUnitPathing(CO7,true)
call UnitRemoveAbility(CO7,1097167976)
call TU7(UC7,"BlinkAM_Caster",H88)
set CO7=null
set H88=null
endfunction
function ZI9 takes nothing returns boolean
if GetSpellAbilityId()==1095066220 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call ZG9()
else
call ZH9()
endif
endif
return false
endfunction
function KJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZI9))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function ZI9))
set t=null
call LU7(1747990091)
endfunction
function ZJ9 takes unit EC8,unit O07 returns nothing
local integer H98=GetUnitAbilityLevel(EC8,1093752374)
local real ZK9=16+12*H98
local real ZM9=GetUnitState(O07,UNIT_STATE_MANA)
local real ZN9=RMinBJ(ZK9,ZM9)
if ZN9>0 then
call SetUnitState(O07,UNIT_STATE_MANA,ZM9-ZN9)
call HD8(EC8,O07,ZH4,ZN9*0.6)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl",O07,"origin"))
endif
endfunction
function ZO9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local integer ZP9=(LoadInteger(L7,(OC7),(30)))
local unit O07=ZX7(ZP9)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EC8 then
call DisableTrigger(t)
call ZJ9(EC8,O07)
call ZW7(ZP9)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
else
call ZW7(ZP9)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function ZQ9 takes nothing returns nothing
local trigger t=CreateTrigger()
local unit O07=GetTriggerUnit()
local unit EC8=GetAttacker()
local integer OC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,0.4,false)
call TriggerAddCondition(t,Condition(function ZO9))
call SaveInteger(L7,(OC7),(30),(ZZ7(O07)))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set O07=null
set EC8=null
set t=null
endfunction
function ZR9 takes nothing returns nothing
local unit EC8=GetAttacker()
if UU7(EC8,"CooldownState")==false then
call U67(EC8,"CooldownState",0.4)
call ZQ9()
endif
set EC8=null
endfunction
function ZS9 takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093752374)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(14)))and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))and CK7(GetTriggerUnit())==false then
call ZR9()
endif
return false
endfunction
function ZT9 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function ZS9))
call SaveUnitHandle(L7,(GetHandleId(t)),(14),(GetTriggerUnit()))
set t=null
endfunction
function ZU9 takes nothing returns boolean
if GetLearnedSkill()==1093752374 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093752374)==1 then
call ZT9()
endif
return false
endfunction
function KK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function ZU9))
set t=null
endfunction
function ZV9 takes nothing returns boolean
return GetSpellAbilityId()==1093685071
endfunction
function ZW9 takes nothing returns nothing
if(GetUnitTypeId(GetEnumUnit())==1848652113 or GetUnitTypeId(GetEnumUnit())==1848652109 or GetUnitTypeId(GetEnumUnit())==1848652114 or GetUnitTypeId(GetEnumUnit())==1848652115)then
call KillUnit(GetEnumUnit())
endif
endfunction
function ZX9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit ZY9=(LoadUnitHandle(L7,(OC7),(2)))
local real ZZ9=(LoadReal(L7,(OC7),(6)))
local real ZA9=(LoadReal(L7,(OC7),(7)))
local real ZB9=GetUnitX(ZY9)
local real ZC9=GetUnitY(ZY9)
call SaveReal(L7,(OC7),(6),((ZB9)*1.0))
call SaveReal(L7,(OC7),(7),((ZC9)*1.0))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
if ZZ9==ZB9 and ZA9==ZC9 then
if GetUnitAbilityLevel(ZY9,1093752647)==0 then
call LM7(ZY9,1093752647)
endif
else
if GetUnitAbilityLevel(ZY9,1093752647)>0 then
call UnitRemoveAbility(ZY9,1093752647)
endif
endif
endif
set t=null
set ZY9=null
return false
endfunction
function Z39 takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local player j8=GetOwningPlayer(CO7)
local integer BH7=GetUnitAbilityLevel(CO7,1093685071)
local real x=GetUnitX(CO7)
local real y=GetUnitY(CO7)
local group IB8=CX7()
local unit ZY9
local trigger t
local integer OC7
call GroupEnumUnitsOfPlayer(IB8,j8,Condition(function ZV7))
call ForGroup(IB8,function ZW9)
call CW7(IB8)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",x,y))
if(BH7==1)then
set ZY9=CreateUnit(j8,1848652113,x,y,270)
call UnitApplyTimedLife(ZY9,1112820806,60)
elseif(BH7==2)then
set ZY9=CreateUnit(j8,1848652113,x,y,270)
call UnitApplyTimedLife(ZY9,1112820806,70)
call UnitApplyTimedLife(CreateUnit(j8,1848652109,x,y,270),1112820806,70)
elseif(BH7==3)then
set ZY9=CreateUnit(j8,1848652114,x,y,270)
call UnitApplyTimedLife(ZY9,1112820806,80)
call UnitApplyTimedLife(CreateUnit(j8,1848652109,x,y,270),1112820806,80)
elseif(BH7==4)then
set ZY9=CreateUnit(j8,1848652114,x,y,270)
call UnitApplyTimedLife(ZY9,1112820806,80)
call UnitApplyTimedLife(CreateUnit(j8,1848652115,x,y,270),1112820806,90)
endif
if BH7==3 or BH7==4 then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,ZY9,EVENT_UNIT_DEATH)
call SaveReal(L7,(OC7),(6),((GetUnitX(ZY9))*1.0))
call SaveReal(L7,(OC7),(7),((GetUnitY(ZY9))*1.0))
call SaveUnitHandle(L7,(OC7),(2),(ZY9))
call TriggerAddCondition(t,Condition(function ZX9))
endif
set CO7=null
set j8=null
set IB8=null
set ZY9=null
set t=null
endfunction
function KO8 takes nothing returns nothing
set nJ=CreateTrigger()
call D18(nJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(nJ,Condition(function ZV9))
call TriggerAddAction(nJ,function Z39)
endfunction
function Z69 takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
local real a=bj_RADTODEG*Atan2(y-IK4,x-IJ4)
local real ZL9
local real Z19
if Sin((a-IM4)*bj_DEGTORAD)<0 then
set ZL9=GetUnitX(GetEnumUnit())+15*Cos((IM4-90)*bj_DEGTORAD)
set Z19=GetUnitY(GetEnumUnit())+15*Sin((IM4-90)*bj_DEGTORAD)
call SetUnitPosition(GetEnumUnit(),ZL9,Z19)
call SetUnitFacingTimed(GetEnumUnit(),IM4+90,0.3)
else
set ZL9=GetUnitX(GetEnumUnit())+15*Cos((IM4+90)*bj_DEGTORAD)
set Z19=GetUnitY(GetEnumUnit())+15*Sin((IM4+90)*bj_DEGTORAD)
call SetUnitPosition(GetEnumUnit(),ZL9,Z19)
call SetUnitFacingTimed(GetEnumUnit(),IM4-90,0.3)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",GetEnumUnit(),"origin"))
endfunction
function Z09 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local real l4=UO7(UC7,"Angle")
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
local group g=UG7(UC7,"g")
if GetTriggerEvalCount(t)>16 then
call CW7(g)
call TN7(UC7)
call UA7(t)
else
set IJ4=x
set IK4=y
set IM4=l4
call ForGroup(g,function Z69)
endif
set t=null
set g=null
return false
endfunction
function Z59 takes nothing returns nothing
call HD8(IN4,GetEnumUnit(),ZG4,IJ4)
endfunction
function Z29 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit CC7=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer H98=GetUnitAbilityLevel(CC7,1093685042)
local unit H88
local real Z_9=bj_RADTODEG*Atan2(GetUnitY(O07)-GetUnitY(CC7),GetUnitX(O07)-GetUnitX(CC7))
local real x
local real y
local group g=CX7()
local group g2=CX7()
if H98==0 then
set H98=GetUnitAbilityLevel(CC7,1093810233)
endif
call TC7(UC7,"g",g)
call TR7(UC7,"Angle",Z_9*1.0)
call TR7(UC7,"x",GetUnitX(CC7)*1.0)
call TR7(UC7,"y",GetUnitY(CC7)*1.0)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function Z09))
set x=GetUnitX(CC7)+50*Cos(Z_9*bj_DEGTORAD)
set y=GetUnitY(CC7)+50*Sin(Z_9*bj_DEGTORAD)
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function F58))
call GroupAddGroup(g2,g)
call GroupClear(g2)
set H88=CreateUnit(GetOwningPlayer(CC7),1865429081,x,y,Z_9)
call UnitApplyTimedLife(H88,1112820806,1)
call LM7(H88,1093684825)
call SetUnitAbilityLevel(H88,1093684825,H98)
call IssueImmediateOrder(H88,"thunderclap")
set x=GetUnitX(CC7)+250*Cos(Z_9*bj_DEGTORAD)
set y=GetUnitY(CC7)+250*Sin(Z_9*bj_DEGTORAD)
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function F58))
call GroupAddGroup(g2,g)
call GroupClear(g2)
set H88=CreateUnit(GetOwningPlayer(CC7),1865429081,x,y,Z_9)
call UnitApplyTimedLife(H88,1112820806,1)
call LM7(H88,1093684825)
call SetUnitAbilityLevel(H88,1093684825,H98)
call IssueImmediateOrder(H88,"thunderclap")
set x=GetUnitX(CC7)+450*Cos(Z_9*bj_DEGTORAD)
set y=GetUnitY(CC7)+450*Sin(Z_9*bj_DEGTORAD)
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function F58))
call GroupAddGroup(g2,g)
call GroupClear(g2)
set H88=CreateUnit(GetOwningPlayer(CC7),1865429081,x,y,Z_9)
call UnitApplyTimedLife(H88,1112820806,1)
call LM7(H88,1093684825)
call SetUnitAbilityLevel(H88,1093684825,H98)
call IssueImmediateOrder(H88,"thunderclap")
if GetUnitAbilityLevel(CC7,1093685042)==0 then
set x=GetUnitX(CC7)+650*Cos(Z_9*bj_DEGTORAD)
set y=GetUnitY(CC7)+650*Sin(Z_9*bj_DEGTORAD)
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function F58))
call GroupAddGroup(g2,g)
call GroupClear(g2)
set H88=CreateUnit(GetOwningPlayer(CC7),1865429081,x,y,Z_9)
call UnitApplyTimedLife(H88,1112820806,1)
call LM7(H88,1093684825)
call SetUnitAbilityLevel(H88,1093684825,H98)
call IssueImmediateOrder(H88,"thunderclap")
endif
call CW7(g2)
call GroupRemoveUnit(g,O07)
set IJ4=100*H98
set IN4=CC7
call ForGroup(g,function Z59)
set t=null
set CC7=null
set O07=null
set H88=null
set g=null
set g2=null
endfunction
function A49 takes nothing returns boolean
if(GetSpellAbilityId()==1093685042 or GetSpellAbilityId()==1093810233)and CV7(GetSpellTargetUnit())==false then
call Z29()
endif
return false
endfunction
function KM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function A49))
set t=null
endfunction
function A79 takes nothing returns boolean
return GetSpellAbilityId()==1093685041
endfunction
function A89 takes unit CO7,real x,real y,group A99 returns nothing
local group IB8=CX7()
local unit KH8
call D28(x,y,150)
call GroupEnumUnitsInRange(IB8,x,y,150,Condition(function ZV7))
loop
set KH8=FirstOfGroup(IB8)
exitwhen KH8==null
if IsUnitInGroup(KH8,A99)==false and IsUnitEnemy(KH8,GetOwningPlayer(CO7))then
if(GetUnitAbilityLevel(KH8,1093678162)!=1 and GetUnitState(KH8,UNIT_STATE_LIFE)>0 and IsUnitType(KH8,UNIT_TYPE_STRUCTURE)==false)then
call GroupAddUnit(A99,KH8)
call UnitDamageTarget(CO7,KH8,60+GetUnitAbilityLevel(CO7,1093685041)*30,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_METAL_HEAVY_SLICE)
call AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",KH8,"overhead")
endif
endif
call GroupRemoveUnit(IB8,KH8)
endloop
call CW7(IB8)
set IB8=null
set KH8=null
endfunction
function AD9 takes nothing returns nothing
local integer OC7=GetHandleId(GetExpiredTimer())
local unit AE9=U87(OC7,"Axe")
local unit CC7=U87(OC7,"Hero")
local real Ax=UO7(OC7,"Ax")
local real Ay=UO7(OC7,"Ay")
local real Cx=UO7(OC7,"Cx")
local real Cy=UO7(OC7,"Cy")
local real Bx=UO7(OC7,"Bx")
local real By=UO7(OC7,"By")
local real a=UO7(OC7,"a")
local real b=1-a
local boolean AF9=UP7(OC7,"FirstPass")
local group AG9=UG7(OC7,"AlreadyDamaged")
local real AH9=RMaxBJ(RF7(Ax,Ay,Cx,Cy)/1300,0.4)
call SetUnitX(AE9,D78(Ax*a*a+Bx*2*a*b+Cx*b*b))
call SetUnitY(AE9,D88(Ay*a*a+By*2*a*b+Cy*b*b))
call A89(CC7,GetUnitX(AE9),GetUnitY(AE9),AG9)
if(AF9)then
call TR7(OC7,"a",(a-.02/AH9)*1.0)
else
call TR7(OC7,"a",(a+.02/AH9)*1.0)
call TR7(OC7,"Ax",GetUnitX(CC7)*1.0)
call TR7(OC7,"Ay",GetUnitY(CC7)*1.0)
endif
if(a<0 and AF9)then
call TT7(OC7,"FirstPass",false)
call TR7(OC7,"Bx",(Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)+(UO7(OC7,"AngleOffset"))))*1.0)
call TR7(OC7,"By",(Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)+(UO7(OC7,"AngleOffset"))))*1.0)
endif
if(a>1 and AF9==false)then
call PauseTimer(GetExpiredTimer())
call CW7(AG9)
call TN7(OC7)
call RemoveUnit(AE9)
call DestroyTimer(GetExpiredTimer())
endif
set AE9=null
set CC7=null
set AG9=null
endfunction
function AI9 takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local real Ax=GetUnitX(CO7)
local real Ay=GetUnitY(CO7)
local real Cx=GetLocationX(GetSpellTargetLoc())
local real Cy=GetLocationY(GetSpellTargetLoc())
local unit AJ9=CreateUnit(GetOwningPlayer(CO7),1697657172,Ax,Ay,270.0)
local unit AK9=CreateUnit(GetOwningPlayer(CO7),1697657172,Ax,Ay,270.0)
local integer AM9
local integer AN9
local timer AO9=CreateTimer()
local timer AP9=CreateTimer()
if GetSpellTargetUnit()!=null then
set Cx=GetUnitX(GetSpellTargetUnit())
set Cy=GetUnitY(GetSpellTargetUnit())
endif
call LM7(AJ9,1097691750)
call UnitRemoveAbility(AJ9,1097691750)
call SetUnitFlyHeight(AJ9,150,0)
call LM7(AK9,1097691750)
call UnitRemoveAbility(AK9,1097691750)
call SetUnitFlyHeight(AK9,150,0)
set AM9=GetHandleId(AO9)
call TU7(AM9,"Hero",CO7)
call TU7(AM9,"Axe",AJ9)
call TC7(AM9,"AlreadyDamaged",CX7())
call TR7(AM9,"Ax",(Ax)*1.0)
call TR7(AM9,"Ay",(Ay)*1.0)
call TR7(AM9,"Cx",(Cx)*1.0)
call TR7(AM9,"Cy",(Cy)*1.0)
call TR7(AM9,"Bx",(Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)+45))*1.0)
call TR7(AM9,"By",(Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)+45))*1.0)
call TR7(AM9,"a",(1)*1.0)
call TR7(AM9,"AngleOffset",(-45)*1.0)
call TT7(AM9,"FirstPass",true)
set AN9=GetHandleId(AP9)
call TU7(AN9,"Hero",CO7)
call TU7(AN9,"Axe",AK9)
call TC7(AN9,"AlreadyDamaged",CX7())
call TR7(AN9,"Ax",(Ax)*1.0)
call TR7(AN9,"Ay",(Ay)*1.0)
call TR7(AN9,"Cx",(Cx)*1.0)
call TR7(AN9,"Cy",(Cy)*1.0)
call TR7(AN9,"Bx",(Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)-45))*1.0)
call TR7(AN9,"By",(Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)-45))*1.0)
call TR7(AN9,"a",(1)*1.0)
call TR7(AN9,"AngleOffset",(45)*1.0)
call TT7(AN9,"FirstPass",true)
call TimerStart(AO9,.025,true,function AD9)
call TimerStart(AP9,.025,true,function AD9)
set CO7=null
set AJ9=null
set AK9=null
set AO9=null
set AP9=null
endfunction
function KN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function A79))
call TriggerAddAction(t,function AI9)
set t=null
endfunction
function AQ9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
call UnitRemoveAbility(p5,1093743664)
call TN7(UC7)
call UA7(t)
set t=null
set p5=null
return false
endfunction
function AR9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
call LM7(p5,1093743664)
call TriggerRegisterTimerEvent(t,6.,false)
call TriggerAddCondition(t,Condition(function AQ9))
call TU7(UC7,"Source",p5)
set t=null
set p5=null
endfunction
function AS9 takes nothing returns boolean
if GetSpellAbilityId()==1093743450 then
call AR9()
endif
return false
endfunction
function KP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AS9))
set t=null
endfunction
function AT9 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer UC7=GetHandleId(p5)
local player p=UD7(UC7,"Track|SourcePlayer")
local integer H98=UN7(UC7,"Track|Level")
local texttag tt=CreateTextTag()
local integer CO8
local integer i=1
local unit AU9
local player AV9
if H98==1 then
set CO8=150
elseif H98==2 then
set CO8=200
else
set CO8=250
endif
call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)+CO8)
call SetTextTagText(tt,"+"+I2S(CO8),0.025)
call SetTextTagPosUnit(tt,M7[GetPlayerId(p)],100)
call SetTextTagColor(tt,255,220,0,255)
call SetTextTagVelocity(tt,0,0.03)
call SetTextTagVisibility(tt,false)
if GetLocalPlayer()==p then
call SetTextTagVisibility(tt,true)
endif
call SetTextTagFadepoint(tt,2)
call SetTextTagLifespan(tt,3)
call SetTextTagPermanent(tt,false)
set VG4[GetPlayerId(p)]=VG4[GetPlayerId(p)]+CO8
set YC4=YC4+CO8
if H98==1 then
set CO8=50
elseif H98==2 then
set CO8=100
else
set CO8=150
endif
loop
exitwhen i>5
if ZC7(p)then
set AV9=Z7[i]
else
set AV9=A7[i]
endif
if AV9!=p then
set AU9=M7[GetPlayerId(AV9)]
if RE7(AU9,p5)<950 then
set tt=CreateTextTag()
call SetPlayerState(AV9,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(AV9,PLAYER_STATE_RESOURCE_GOLD)+CO8)
call SetTextTagText(tt,"+"+I2S(CO8),0.025)
call SetTextTagPosUnit(tt,AU9,100)
call SetTextTagColor(tt,255,220,0,255)
call SetTextTagVelocity(tt,0,0.03)
call SetTextTagVisibility(tt,false)
if GetLocalPlayer()==AV9 then
call SetTextTagVisibility(tt,true)
endif
call SetTextTagFadepoint(tt,2)
call SetTextTagLifespan(tt,3)
call SetTextTagPermanent(tt,false)
set VG4[GetPlayerId(AV9)]=VG4[GetPlayerId(AV9)]+CO8
set YC4=YC4+CO8
endif
endif
set i=i+1
endloop
set p5=null
set p=null
set tt=null
set AU9=null
set AV9=null
endfunction
function AW9 takes nothing returns boolean
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and UO7(GetHandleId(GetTriggerUnit()),"Track|Time")>RQ7()then
call AT9()
endif
return false
endfunction
function AX9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local unit oA=U87(UC7,"Caster")
call SetUnitX(oA,GetUnitX(m5))
call SetUnitY(oA,GetUnitY(m5))
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEvalCount(t)>10 and GetUnitAbilityLevel(m5,1110454348)==0)then
call DestroyEffect(UH7(UC7,"FX"))
call KillUnit(oA)
call TN7(UC7)
call UA7(t)
endif
set t=null
set m5=null
set oA=null
return false
endfunction
function AY9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit m5=GetSpellTargetUnit()
local unit p5=GetTriggerUnit()
local unit oA=CreateUnit(GetOwningPlayer(m5),1697657174,GetUnitX(m5),GetUnitY(m5),0)
local string AZ9="war3mapImported\\TrackBuff.mdx"
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(m5))and CM7(GetLocalPlayer())==false then
set AZ9=""
endif
call LM7(oA,1093742901)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,GetSpellTargetUnit(),EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function AX9))
call TU7(UC7,"Target",m5)
call TU7(UC7,"Caster",oA)
call TV7(UC7,"FX",AddSpecialEffectTarget(AZ9,m5,"overhead"))
call TR7(GetHandleId(GetSpellTargetUnit()),"Track|Time",(((RQ7())+30)*1.0))
call TA7(GetHandleId(GetSpellTargetUnit()),"Track|SourcePlayer",GetOwningPlayer(GetTriggerUnit()))
call TQ7(GetHandleId(GetSpellTargetUnit()),"Track|Level",GetUnitAbilityLevel(GetTriggerUnit(),1093681716))
set t=null
set m5=null
set p5=null
set oA=null
endfunction
function AA9 takes nothing returns boolean
if GetSpellAbilityId()==1093681716 then
call AY9()
endif
return false
endfunction
function KU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AA9))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function AW9))
set t=null
endfunction
function AB9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
call UnitRemoveAbility(m5,1093749079)
call UnitRemoveAbility(m5,1110459201)
call TN7(UC7)
call UA7(t)
set t=null
set m5=null
return false
endfunction
function AC9 takes unit p5,unit m5 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,3.,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function AB9))
call TU7(UC7,"Target",m5)
call LM7(m5,1093749079)
call UnitMakeAbilityPermanent(m5,true,1093749079)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093749079,false)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl",m5,"chest"))
set t=null
endfunction
function A39 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer HG8=UN7(UC7,"TargetIndex")
local unit m5=ZX7(HG8)
local unit p5=U87(UC7,"Source")
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and(GetEventDamage()>40 or IsUnitType(m5,UNIT_TYPE_STRUCTURE)==true or GetUnitTypeId(m5)==1970107511 or GetUnitTypeId(m5)==1700946284)and UP7(GetHandleId(p5),"JinadaActive")==true then
call AC9(p5,m5)
call TT7(GetHandleId(p5),"JinadaActive",false)
call TR7(GetHandleId(p5),"LastUsed",TimerGetElapsed(W)*1.0)
call UnitRemoveAbility(p5,1093749075)
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
call ZW7(HG8)
call TN7(UC7)
call UA7(t)
endif
else
call ZW7(HG8)
call TN7(UC7)
call UA7(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function A69 takes nothing returns boolean
local trigger t
local integer UC7
local unit m5
local unit p5
local integer BH7
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call TT7(GetHandleId(GetTriggerUnit()),"JinadaActive",false)
call TR7(GetHandleId(GetTriggerUnit()),"LastUsed",TimerGetElapsed(W)*1.0)
call UnitRemoveAbility(GetTriggerUnit(),1093749075)
call UnitRemoveAbility(GetTriggerUnit(),1093749300)
call UnitRemoveAbility(GetTriggerUnit(),1093749299)
call UnitRemoveAbility(GetTriggerUnit(),1093749301)
call UnitRemoveAbility(GetTriggerUnit(),1093749077)
elseif GetAttacker()==U87(GetHandleId(GetTriggeringTrigger()),"JinadaHero")then
if IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and UP7(GetHandleId(GetAttacker()),"JinadaActive")==true then
set t=CreateTrigger()
set UC7=GetHandleId(t)
set m5=GetTriggerUnit()
set p5=GetAttacker()
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function A39))
call TQ7(UC7,"TargetIndex",ZZ7(m5))
call TU7(UC7,"Source",p5)
set BH7=GetUnitAbilityLevel(p5,1093749073)
if BH7==0 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BH7==1 then
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BH7==2 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BH7==3 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749077)
elseif BH7==4 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
endif
set m5=null
set p5=null
set t=null
endif
endif
return false
endfunction
function AL9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local real A19=TimerGetElapsed(W)
local integer BH7=GetUnitAbilityLevel(CO7,1093749073)
local real A09=UO7(GetHandleId(CO7),"LastUsed")
local boolean A59=UP7(GetHandleId(CO7),"JinadaActive")
if A19-A09>14-BH7*2 and A59==false and LO7(CO7)==false then
call TT7(GetHandleId(CO7),"JinadaActive",true)
call LM7(CO7,1093749075)
if GetUnitAbilityLevel(CO7,1110455864)==0 then
if BH7==1 then
call LM7(CO7,1093749300)
elseif BH7==2 then
call LM7(CO7,1093749299)
elseif BH7==3 then
call LM7(CO7,1093749301)
elseif BH7==4 then
call LM7(CO7,1093749077)
endif
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),1093749300,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),1093749299,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),1093749301,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),1093749077,false)
elseif A59==false and GetUnitAbilityLevel(CO7,1110455864)==0 then
call UnitRemoveAbility(CO7,1093749075)
call UnitRemoveAbility(CO7,1093749300)
call UnitRemoveAbility(CO7,1093749299)
call UnitRemoveAbility(CO7,1093749301)
call UnitRemoveAbility(CO7,1093749077)
endif
set t=null
set CO7=null
return false
endfunction
function A29 takes unit CO7,boolean A_9 returns nothing
local trigger t=CreateTrigger()
local trigger t2=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer B49=GetHandleId(t2)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function AL9))
call D18(t2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t2,CO7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t2,Condition(function A69))
call TU7(UC7,"Hero",CO7)
call TU7(B49,"JinadaHero",CO7)
if A_9 then
set aj[GetPlayerId(GetOwningPlayer(CO7))]=t
set Rj[GetPlayerId(GetOwningPlayer(CO7))]=t2
endif
set CO7=null
set t=null
set t2=null
endfunction
function B79 takes nothing returns boolean
if GetLearnedSkill()==1093749073 and GetUnitAbilityLevel(GetTriggerUnit(),1093749073)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call A29(GetTriggerUnit(),false)
endif
return false
endfunction
function KV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function B79))
set t=null
endfunction
function B89 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local unit p5=U87(UC7,"Source")
local integer BH7=GetUnitAbilityLevel(p5,1093678913)
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 then
call TN7(UC7)
call UA7(t)
if UU7(p5,"WindWalk|CD")==false then
call U67(p5,"WindWalk|CD",0.5)
if IsUnitType(m5,UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(m5,GetOwningPlayer(p5))then
call HD8(p5,m5,ZH4,30*BH7)
call DC8(I2S(R2I(30*BH7)),1,p5,0.027,216,0,0,216)
call UY7(p5,"WindWalkBH|Active")
set t=UF7(GetHandleId(p5),"ai|WWTrigger")
call TN7(GetHandleId(t))
call UA7(t)
endif
endif
endif
else
call TN7(UC7)
call UA7(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function B99 takes nothing returns boolean
local trigger t=null
local unit m5=null
local unit p5=null
local integer UC7
local integer BH7
if UU7(GetAttacker(),"WindWalkBH|Active")then
set t=CreateTrigger()
set m5=GetTriggerUnit()
set p5=GetAttacker()
set UC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.,false)
call TriggerAddCondition(t,Condition(function B89))
call TU7(UC7,"Target",m5)
call TU7(UC7,"Source",p5)
if UP7(GetHandleId(p5),"JinadaActive")then
set BH7=GetUnitAbilityLevel(p5,1093749073)
if BH7==0 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BH7==1 then
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BH7==2 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BH7==3 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749077)
elseif BH7==4 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
endif
else
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
endif
set m5=null
set p5=null
set t=null
endif
return false
endfunction
function BD9 takes nothing returns boolean
local integer UC7=GetHandleId(GetTriggeringTrigger())
local unit p5=U87(UC7,"Hero")
local integer BH7
call UY7(p5,"WindWalkBH|Active")
if GetTriggerEventId()==EVENT_UNIT_SPELL_CAST or GetTriggerEventId()==EVENT_UNIT_DEATH then
if UP7(GetHandleId(p5),"JinadaActive")then
set BH7=GetUnitAbilityLevel(p5,1093749073)
if BH7==0 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BH7==1 then
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BH7==2 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
elseif BH7==3 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749077)
elseif BH7==4 then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
endif
else
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
endif
else
if not UP7(GetHandleId(p5),"JinadaActive")then
call UnitRemoveAbility(p5,1093749300)
call UnitRemoveAbility(p5,1093749299)
call UnitRemoveAbility(p5,1093749301)
call UnitRemoveAbility(p5,1093749077)
endif
endif
call TN7(UC7)
call UA7(GetTriggeringTrigger())
set p5=null
return false
endfunction
function BE9 takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Hero")
if IsTriggerEnabled(UF7(UC7,"CancelTr"))then
call UW7(p5,"WindWalkBH|Active")
endif
call TN7(UC7)
call UA7(t)
set p5=null
set t=null
endfunction
function BF9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local integer BH7=GetUnitAbilityLevel(p5,1093678913)
call TriggerRegisterTimerEvent(t,1.25-0.25*BH7-0.01,false)
call TriggerAddAction(t,function BE9)
call TU7(UC7,"Hero",p5)
set t=CreateTrigger()
call TW7(UC7,"CancelTr",t)
set UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,10+5*BH7,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_CAST)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function BD9))
call TU7(UC7,"Hero",p5)
call TW7(GetHandleId(p5),"ai|WWTrigger",t)
call LM7(p5,1093749300)
call LM7(p5,1093749299)
call LM7(p5,1093749301)
call LM7(p5,1093749077)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093749300,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093749299,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093749301,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093749077,false)
set t=null
set p5=null
endfunction
function BG9 takes nothing returns boolean
if GetSpellAbilityId()==1093678913 then
call BF9()
endif
return false
endfunction
function KW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BG9))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function B99))
set t=null
endfunction
function BH9 takes nothing returns boolean
return GetSpellAbilityId()==1093683024 or GetSpellAbilityId()==1093682775
endfunction
function BI9 takes integer BH7,integer a returns integer
if a==0 then
return 1
else
return(BH7-1)*5+1+a
endif
endfunction
function Ry takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1697656920
endfunction
function RY takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function BJ9 takes player p returns nothing
local group g=CX7()
call GroupEnumUnitsOfPlayer(g,p,Condition(function Ry))
call ForGroup(g,function RY)
call CW7(g)
set g=null
endfunction
function BK9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local unit CC7=U87(GetHandleId(t),"Hero")
local integer OC7=GetHandleId(CC7)
local integer H98=GetUnitAbilityLevel(CC7,1093682774)
local integer BM9=(UN7(OC7,"Warpath|Level")-1)
local integer BN9=DP8(BM9,0,5)
local unit H88=U87(OC7,"Warpath|Caster")
local integer BO9
if H98==1 then
set BO9=BN9*20
elseif H98==2 then
set BO9=BN9*25
elseif H98==3 then
set BO9=BN9*30
endif
if BM9==0 then
set BO9=0
endif
call HJ8(CC7,BO9)
if GetUnitTypeId(H88)==1697656920 then
call SetUnitAbilityLevel(H88,1093682502,BI9(H98,BN9))
call TQ7(OC7,"Warpath|Level",BM9)
else
call BJ9(UD7(GetHandleId(t),"p"))
endif
call TN7(GetHandleId(t))
call UA7(t)
set t=null
set CC7=null
set H88=null
return false
endfunction
function BP9 takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local integer OC7=GetHandleId(CC7)
local unit H88=U87(OC7,"Warpath|Caster")
local integer H98=GetUnitAbilityLevel(CC7,1093682774)
local integer BM9=(UN7(OC7,"Warpath|Level")+1)
local integer BN9=DP8(BM9,0,5)
local integer BQ9=BI9(H98,BN9)
local trigger t=CreateTrigger()
local integer BO9
if H98==1 then
set BO9=BN9*20
elseif H98==2 then
set BO9=BN9*25
elseif H98==3 then
set BO9=BN9*30
endif
call HJ8(CC7,BO9)
call SetUnitAbilityLevel(H88,1093682502,BQ9)
call TQ7(OC7,"Warpath|Level",BM9)
call TU7(GetHandleId(t),"Hero",CC7)
call TA7(GetHandleId(t),"p",GetOwningPlayer(CC7))
call TriggerRegisterTimerEvent(t,10.,false)
call TriggerAddCondition(t,Condition(function BK9))
set t=null
set CC7=null
set H88=null
endfunction
function BR9 takes unit CO7,boolean A_9 returns nothing
local integer H98=GetUnitAbilityLevel(CO7,1093682774)
local unit oA=CreateUnit(GetOwningPlayer(CO7),1697656920,0,0,0)
local trigger t=CreateTrigger()
call LM7(oA,1093682502)
call TU7(GetHandleId(CO7),"Warpath|Caster",oA)
call SetUnitInvulnerable(oA,true)
call LM7(oA,1097625443)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BH9))
call TriggerAddAction(t,function BP9)
if A_9 then
set Vj[GetPlayerId(GetOwningPlayer(CO7))]=t
endif
set oA=null
set t=null
endfunction
function BS9 takes nothing returns boolean
if GetLearnedSkill()==1093682774 and GetUnitAbilityLevel(GetTriggerUnit(),1093682774)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call BR9(GetTriggerUnit(),false)
endif
return false
endfunction
function KX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function BS9))
call DE8(1093682502)
set t=null
endfunction
function BT9 takes nothing returns boolean
return(GetSpellAbilityId()==1093682775)and CV7(GetSpellTargetUnit())==false
endfunction
function R6 takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function R7 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1697656901)
endfunction
function R9 takes nothing returns nothing
local location Mk=GetUnitLoc(GetTriggerUnit())
call SetUnitPositionLoc(GetEnumUnit(),Mk)
if GetUnitUserData(GetEnumUnit())==4 then
call IssueTargetOrderById(GetEnumUnit(),852662,GetSpellTargetUnit())
else
call IncUnitAbilityLevel(GetEnumUnit(),1093682778)
call IssueTargetOrderById(GetEnumUnit(),852662,GetSpellTargetUnit())
call SetUnitUserData(GetEnumUnit(),(GetUnitUserData(GetEnumUnit())+1))
endif
call RemoveLocation(Mk)
set Mk=null
endfunction
function BU9 takes nothing returns nothing
local location Mk=GetUnitLoc(GetTriggerUnit())
local location sA=GetUnitLoc(GetSpellTargetUnit())
local group sb=CX7()
if(UnitHasBuffBJ(GetSpellTargetUnit(),1110454869)==true)then
call GroupEnumUnitsOfPlayer(sb,GetOwningPlayer(GetSpellTargetUnit()),Condition(function R7))
call ForGroupBJ(sb,function R9)
else
call GroupEnumUnitsOfPlayer(sb,GetOwningPlayer(GetSpellTargetUnit()),Condition(function R7))
call ForGroupBJ(sb,function R6)
call DisableTrigger(EA)
call CreateNUnitsAtLocFacingLocBJ(1,1697656901,GetOwningPlayer(GetSpellTargetUnit()),Mk,sA)
call EnableTrigger(EA)
call UnitAddAbility(bj_lastCreatedUnit,1093682778)
call SetUnitAbilityLevelSwapped(1093682778,bj_lastCreatedUnit,((GetUnitAbilityLevelSwapped(1093682775,GetTriggerUnit())*4)-3))
call IssueTargetOrderById(bj_lastCreatedUnit,852662,GetSpellTargetUnit())
call SetUnitUserData(bj_lastCreatedUnit,1)
endif
call CW7(sb)
call RemoveLocation(Mk)
call RemoveLocation(sA)
set Mk=null
set sA=null
set sb=null
endfunction
function KY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BT9))
call TriggerAddAction(t,function BU9)
set t=null
endfunction
function BV9 takes nothing returns boolean
return IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false
endfunction
function BW9 takes unit CO7 returns nothing
local unit H88=CreateUnit(GetOwningPlayer(CO7),1697656901,GetUnitX(CO7),GetUnitY(CO7),0)
call LM7(H88,1093683024)
call SetUnitAbilityLevel(H88,1093683024,GetUnitAbilityLevel(CO7,1093683024))
call IssueImmediateOrder(H88,"fanofknives")
set H88=null
endfunction
function BX9 takes unit CO7,real DS8 returns nothing
local integer UC7=GetHandleId(CO7)
local real sD=UO7(UC7,"Bristleback_DamageStack")
if sD+DS8>250 then
call TR7(UC7,"Bristleback_DamageStack",((0)*1.0))
call BW9(CO7)
else
call TR7(UC7,"Bristleback_DamageStack",((sD+DS8)*1.0))
endif
endfunction
function BY9 takes nothing returns nothing
local unit sE=GetTriggerUnit()
local unit Z88=GetEventDamageSource()
local real sf=PO7(Z88,sE)
local real sF=GetUnitFacing(sE)
local real sg
local real DS8=GetEventDamage()
local real sG
local real RK
if(DS8>5)and GetUnitState(sE,UNIT_STATE_LIFE)>1 then
if((sF-sf)<(-180.00))then
set sg=(sF-sf+360)
else
if((sF-sf)>180.)then
set sg=(sF-sf-360)
else
set sg=(sF-sf)
endif
endif
set RK=RAbsBJ(sg)
if RK<=70 then
set sG=(GetUnitAbilityLevel(sE,1093684531)*0.08+0.08)*DS8
call BX9(sE,DS8-sG)
call SetUnitState(sE,UNIT_STATE_LIFE,GetUnitState(sE,UNIT_STATE_LIFE)+sG)
elseif RK<=110 then
set sG=(GetUnitAbilityLevel(sE,1093684531)*0.04+0.04)*DS8
call SetUnitState(sE,UNIT_STATE_LIFE,GetUnitState(sE,UNIT_STATE_LIFE)+sG)
endif
endif
set sE=null
set Z88=null
endfunction
function BZ9 takes unit CO7,boolean A_9 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function BV9))
call TriggerAddAction(t,function BY9)
if A_9 then
set nj[GetPlayerId(GetOwningPlayer(CO7))]=t
endif
set t=null
endfunction
function BA9 takes nothing returns boolean
if GetLearnedSkill()==1093684531 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093684531)==1 then
call BZ9(GetTriggerUnit(),false)
endif
return false
endfunction
function KZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function BA9))
set t=null
endfunction
function BB9 takes nothing returns boolean
return GetSpellAbilityId()==1093683024
endfunction
function BC9 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)!=1
endfunction
function B39 takes nothing returns nothing
local integer B69=GetHandleId(GetEnumUnit())
local integer BL9=LoadInteger(L7,Z8,B69)
local real B19=DQ8(F8+BL9*30,400)
call UnitDamageTarget(D8,GetEnumUnit(),B19,false,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call SaveInteger(L7,Z8,B69,BL9+1)
endfunction
function B09 takes nothing returns nothing
local integer B69=GetHandleId(GetEnumUnit())
local integer BL9=LoadInteger(L7,Z8,B69)
call SaveInteger(L7,Z8,B69,BL9-1)
endfunction
function B59 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"UnitVar")
local group IB8=UG7(UC7,"GroupVar")
set Z8=GetHandleId(CO7)
call ForGroup(IB8,function B09)
call CW7(IB8)
call TN7(UC7)
call UA7(t)
set t=null
set CO7=null
set IB8=null
return false
endfunction
function B29 takes nothing returns nothing
local unit YK9=GetTriggerUnit()
local group B_9=CX7()
local trigger t=CreateTrigger()
if IsUnitType(YK9,UNIT_TYPE_HERO)==false then
set YK9=M7[GetPlayerId(GetOwningPlayer(YK9))]
endif
call GroupEnumUnitsInRange(B_9,GetUnitX(YK9),GetUnitY(YK9),650,Condition(function BC9))
set D8=CreateUnit(GetOwningPlayer(YK9),1697656901,GetUnitX(YK9),GetUnitY(YK9),0)
set F8=GetUnitAbilityLevel(YK9,1093683024)*20
set Z8=GetHandleId(YK9)
call ForGroup(B_9,function B39)
call TU7(GetHandleId(t),"UnitVar",YK9)
call TC7(GetHandleId(t),"GroupVar",B_9)
call TriggerRegisterTimerEvent(t,10.,false)
call TriggerAddCondition(t,Condition(function B59))
set t=null
set YK9=null
set B_9=null
endfunction
function KA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BB9))
call TriggerAddAction(t,function B29)
set t=null
endfunction
function C49 takes nothing returns nothing
call HD8(IG7,GetEnumUnit(),ZG4,IH7)
endfunction
function C79 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer H98=GetUnitAbilityLevel(p5,1093816142)
local real C89
local group g=CX7()
set IH7=100+H98*75
set IG7=p5
set IN4=p5
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),190+25,Condition(function F38))
call ForGroup(g,function C49)
set C89=IH7
if GetUnitState(p5,UNIT_STATE_LIFE)<=C89*0.75 then
set C89=GetUnitState(p5,UNIT_STATE_LIFE)/ 0.75-10
endif
call HD8(p5,p5,ZG4,C89)
call DestroyEffect(AddSpecialEffect("war3mapImported\\DoubleEdgeTarget.mdx",GetUnitX(m5),GetUnitY(m5)))
set p5=null
set m5=null
endfunction
function C99 takes nothing returns boolean
if GetSpellAbilityId()==1093816142 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call C79()
else
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\DoubleEdgeCaster.mdx",GetTriggerUnit(),"hand, right"))
endif
endif
return false
endfunction
function KB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function C99))
set t=null
endfunction
function CD9 takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),1093677142)>0 and GetUnitAbilityLevel(GetAttacker(),1093678162)!=1 and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false and GetUnitTypeId(GetAttacker())!=1848657461
endfunction
function CE9 takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetAttacker()
local integer H98=GetUnitAbilityLevel(EC8,1093677142)
local integer CF9=GetHeroStr(EC8,true)
local real B19=(14+2*H98)+(0.18+0.08*H98)*CF9
call HD8(EC8,O07,ZH4,B19)
set EC8=null
set O07=null
endfunction
function KC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function CD9))
call TriggerAddAction(t,function CE9)
set t=null
endfunction
function CG9 takes nothing returns nothing
local integer CH9
local unit CI9=GetEnumUnit()
if CK7(CI9)==false and UU7(CI9,"Stampede|4332")==false then
call U67(CI9,"Stampede|4332",IM7)
set CH9=IK7
call HD8(IJ7,CI9,ZG4,(CH9)*GetHeroStr(II7,true))
call SetPlayerAbilityAvailable(GetOwningPlayer(CI9),1093816139,false)
call LM7(CI9,1093816139)
call F88(CI9,1093816139,1,1.25,1110460230)
endif
set CI9=null
endfunction
function CJ9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local group g
if GetTriggerEvalCount(t)>=R2I(20*IM7)or GetTriggerEventId()==EVENT_WIDGET_DEATH then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call SetUnitPathing(EC8,true)
call UnitRemoveAbility(EC8,1093816116)
call UnitRemoveAbility(EC8,1110460226)
else
set g=CX7()
set IN4=EC8
set II7=H88
set IJ7=EC8
set IK7=H98
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),105+25,Condition(function FT8))
call ForGroup(g,function CG9)
call CW7(g)
endif
set t=null
set EC8=null
set g=null
return false
endfunction
function CK9 takes nothing returns nothing
local unit EC8=GetEnumUnit()
local integer H98=GetUnitAbilityLevel(II7,1093816118)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call SetUnitPathing(EC8,false)
call LM7(EC8,1093816116)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerAddCondition(t,Condition(function CJ9))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(19),(II7))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveEffectHandle(L7,(OC7),(175),(AddSpecialEffectTarget("war3mapImported\\SandBreathDamageSmall.mdx",EC8,"foot, left")))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffectTarget("war3mapImported\\SandBreathDamageSmall.mdx",EC8,"foot, right")))
set EC8=null
set t=null
endfunction
function CM9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local group g=CX7()
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set II7=EC8
set IN4=EC8
call GroupEnumUnitsInRange(g,0,0,99999,Condition(function GY8))
call ForGroup(g,function CK9)
call CW7(g)
set t=null
set EC8=null
set g=null
return false
endfunction
function CN9 takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local sound CO9=CreateSound("abilities\\Spells\\Other\\Stampede\\StampedeCaster1.wav",false,false,false,10,10,"DefaultEAXON")
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call StartSound(CO9)
call KillSoundWhenDone(CO9)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function CM9))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set EC8=null
set CO9=null
endfunction
function CP9 takes nothing returns boolean
if GetSpellAbilityId()==1093816118 then
call CN9()
endif
return false
endfunction
function K38 takes nothing returns nothing
local trigger t=CreateTrigger()
call DE8(1093816116)
call DE8(1093687350)
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CP9))
call CreateSound("abilities\\Spells\\Other\\Stampede\\StampedeCaster1.wav",false,false,false,10,10,"DefaultEAXON")
set t=null
endfunction
function CQ9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=UN7(UC7,"Level")
local real so
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>10 then
set so=GetEventDamage()*.08*BH7
call DisableTrigger(t)
call HD8(GetEventDamageSource(),GetTriggerUnit(),ZH4,so)
call EnableTrigger(t)
endif
else
call TN7(UC7)
call UA7(t)
endif
set t=null
return false
endfunction
function CR9 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit m5=GetSpellTargetUnit()
local unit p5=GetTriggerUnit()
local integer BH7=GetUnitAbilityLevel(p5,1093684045)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",p5,"chest"))
call TQ7(UC7,"Level",BH7)
call TriggerRegisterTimerEvent(t,7.,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function CQ9))
set t=null
set m5=null
set p5=null
endfunction
function CS9 takes nothing returns boolean
if GetSpellAbilityId()==1093684045 then
call CR9()
endif
return false
endfunction
function K68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CS9))
set t=null
endfunction
function CT9 takes nothing returns boolean
return GetSpellAbilityId()==1093684308 or GetSpellAbilityId()==1093747539
endfunction
function sq takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1
endfunction
function CU9 takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local integer sr=GetUnitAbilityLevel(CO7,1093684308)
local group IB8=OK7(bj_mapInitialPlayableArea,Condition(function sq))
local unit PZ
if sr==0 then
set sr=GetUnitAbilityLevel(CO7,1093747539)
endif
loop
set PZ=FirstOfGroup(IB8)
exitwhen PZ==null
if(IsUnitAlly(PZ,GetOwningPlayer(CO7)))then
call SetWidgetLife(PZ,(GetUnitStateSwap(UNIT_STATE_LIFE,PZ)+100+(100*sr)))
call DestroyEffect(AddSpecialEffectTargetUnitBJ("chest",PZ,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"))
endif
call GroupRemoveUnit(IB8,PZ)
endloop
call DestroyGroup(IB8)
set IB8=OM7(bj_mapInitialPlayableArea,GetOwningPlayer(CO7))
loop
set PZ=FirstOfGroup(IB8)
exitwhen PZ==null
if(IsUnitType(PZ,UNIT_TYPE_HERO)==false and GetUnitTypeId(PZ)!=1848651843)then
call SetUnitLifePercentBJ(PZ,100)
call DestroyEffect(AddSpecialEffectTargetUnitBJ("chest",PZ,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"))
endif
call GroupRemoveUnit(IB8,PZ)
endloop
call DestroyGroup(IB8)
set CO7=null
set IB8=null
set PZ=null
endfunction
function KL8 takes nothing returns nothing
set do=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(do,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(do,Condition(function CT9))
call TriggerAddAction(do,function CU9)
endfunction
function CV9 takes nothing returns boolean
return GetSpellAbilityId()==1093684310 or GetSpellAbilityId()==1093815619
endfunction
function CW9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit st=U87(UC7,"Chen")
local unit u=U87(UC7,"Unit")
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
call DestroyEffect(UH7(UC7,"FX"))
if UP7(GetHandleId(u),"Grapple")==false and GetUnitAbilityLevel(u,1093678162)==0 then
call U67(u,"4409",1)
call SetUnitPosition(u,x,y)
endif
if UP7(GetHandleId(u),"Grapple")then
call L27(GetOwningPlayer(st),GetObjectName(1848652598))
endif
call TN7(UC7)
call UA7(t)
set t=null
set st=null
set u=null
return false
endfunction
function CX9 takes unit u,unit CY9,integer CZ9,real x,real y returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
if IsUnitOwnedByPlayer(u,GetOwningPlayer(CY9))then
call TriggerRegisterTimerEvent(t,0.1,false)
else
call TriggerRegisterTimerEvent(t,7-CZ9,false)
endif
call TriggerAddCondition(t,Condition(function CW9))
call TV7(OC7,"FX",AddSpecialEffectTarget("effects\\Test_of_Faith_FX.mdx",u,"overhead"))
call TU7(OC7,"Unit",u)
call TU7(OC7,"Chen",CY9)
call TR7(OC7,"x",x)
call TR7(OC7,"y",y)
set t=null
endfunction
function CA9 takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local unit st=GetTriggerUnit()
local location Mk=GetUnitLoc(st)
local unit oA
local integer sr=GetUnitAbilityLevel(st,1093684310)
local real sX
local location sy
local effect fx
if(ZC7(GetOwningPlayer(st)))then
set sy=GetRectCenter(ED)
else
set sy=GetRectCenter(L9)
endif
if(IsUnitAlly(m5,GetOwningPlayer(st))==false)then
if CV7(GetSpellTargetUnit())==false then
set sX=GetRandomInt(50*sr,100*sr)
call DC8(I2S(R2I(sX)),1,m5,.023,255,255,0,216)
call UnitDamageTargetBJ(st,m5,sX,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC)
set fx=AddSpecialEffectTargetUnitBJ("chest",m5,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffect(fx)
endif
else
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(UP7(GetHandleId(GetOwningPlayer(m5)),"DisableHelp")==false)then
call CX9(m5,st,sr,GetLocationX(sy),GetLocationY(sy))
endif
elseif(IsUnitOwnedByPlayer(m5,GetOwningPlayer(st)))then
call SetUnitPositionLoc(m5,sy)
endif
endif
call RemoveLocation(Mk)
call RemoveLocation(sy)
set m5=null
set st=null
set Mk=null
set oA=null
set sy=null
set fx=null
endfunction
function CB9 takes nothing returns boolean
if GetLearnedSkill()==1093684310 and IsUnitIllusion(GetTriggerUnit())==false then
call LM7(GetTriggerUnit(),1093815619)
call SetUnitAbilityLevel(GetTriggerUnit(),1093815619,GetUnitAbilityLevel(GetTriggerUnit(),1093684310))
endif
return false
endfunction
function K08 takes nothing returns nothing
local trigger t
set VJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(VJ,Condition(function CV9))
call TriggerAddAction(VJ,function CA9)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function CB9))
endfunction
function CC9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer H98=GetUnitAbilityLevel(EC8,1095262562)
if LO7(EC8)==false then
call SetUnitState(EC8,UNIT_STATE_MANA,GetUnitState(EC8,UNIT_STATE_MANA)+0.5*H98*0.25)
endif
set EC8=null
set t=null
return false
endfunction
function C39 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function CC9))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=null
set EC8=null
endfunction
function C69 takes nothing returns boolean
if GetLearnedSkill()==1095262562 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1095262562)==1 then
call C39()
endif
return false
endfunction
function K58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function C69))
set t=null
endfunction
function CL9 takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697657656,x,y,0)
local integer H98=GetUnitAbilityLevel(EC8,1093748025)
call LM7(H88,1093677380)
call SetUnitAbilityLevel(H88,1093677380,H98)
call IssueTargetOrder(H88,"frostnova",H88)
call RemoveLocation(l)
call LM7(H88,1097625443)
call UnitApplyTimedLife(H88,1112820806,2)
set EC8=null
set H88=null
set l=null
endfunction
function C19 takes nothing returns boolean
if GetSpellAbilityId()==1093748025 then
call CL9()
endif
return false
endfunction
function K28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function C19))
set t=null
endfunction
function C09 takes nothing returns boolean
return(GetSpellAbilityId()==1093678649)
endfunction
function C59 takes nothing returns boolean
return((not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAliveBJ(GetFilterUnit()))and(not RW7(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit())!=1852010352)and(GetUnitAbilityLevel(GetFilterUnit(),1097167976)==1)and((GetUnitAbilityLevel(GetFilterUnit(),1093684047)==1)or(GetUnitAbilityLevel(GetFilterUnit(),1093684049)==1)or(GetUnitAbilityLevel(GetFilterUnit(),1093684050)==1)or(GetUnitAbilityLevel(GetFilterUnit(),1093684048)==1)))
endfunction
function sS takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit st=U87(UC7,"Chen")
local integer sT=UN7(UC7,"MaxUnits")
local group IB8=OO7(GetOwningPlayer(st),Condition(function C59))
local unit PZ
loop
exitwhen(CountUnitsInGroup(IB8)<=sT)
set PZ=GroupPickRandomUnit(IB8)
call GroupRemoveUnit(IB8,PZ)
call RemoveUnit(PZ)
endloop
call DestroyGroup(IB8)
call TN7(UC7)
call UA7(t)
set st=null
set t=null
set IB8=null
set PZ=null
return false
endfunction
function C29 takes nothing returns nothing
local unit sU=GetSpellTargetUnit()
local unit st=GetTriggerUnit()
local integer sr=GetUnitAbilityLevel(st,1093678649)
local integer sT=1
local integer playerid=GetPlayerId(GetOwningPlayer(st))
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call DV8(sU)
if(sr==1)then
call LM7(sU,1093684047)
elseif(sr==2)then
call LM7(sU,1093684049)
elseif(sr==3)then
set sT=2
call LM7(sU,1093684050)
elseif(sr==4)then
set sT=3
call LM7(sU,1093684048)
endif
call LM7(sU,1097167976)
call LM7(sU,1093743175)
call TU7(UC7,"Chen",st)
call TQ7(UC7,"MaxUnits",sT)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function sS))
set t=null
set sU=null
set st=null
endfunction
function C_9 takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local unit H88
local real x
local real y
if IsUnitEnemy(O07,GetOwningPlayer(EC8))then
set H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call UnitAddAbility(H88,1093678649)
call SetUnitAbilityLevel(H88,1093678649,GetUnitAbilityLevel(EC8,1093810260))
call IssueTargetOrder(H88,"charm",O07)
else
if ZC7(GetOwningPlayer(EC8))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
if(UP7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))==false then
call CX9(O07,EC8,GetUnitAbilityLevel(EC8,1093810260),x,y)
endif
endif
set EC8=null
set O07=null
set H88=null
endfunction
function L49 takes nothing returns boolean
if GetSpellAbilityId()==1093810260 and CV7(GetSpellTargetUnit())==false then
call C_9()
endif
return false
endfunction
function L79 takes nothing returns boolean
if GetSpellAbilityId()==1093810260 then
if IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true then
if IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true or IsUnitIllusion(GetSpellTargetUnit())then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848658745))
endif
endif
endif
return false
endfunction
function K18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function C09))
call TriggerAddAction(t,function C29)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function L79))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function L49))
set t=null
endfunction
function L89 takes nothing returns nothing
call HD8(FB,GetEnumUnit(),ZG4,fB)
endfunction
function L99 takes unit p5,real x,real y,integer BH7 returns nothing
local group g=CX7()
if BH7==1 then
set fB=105
elseif BH7==2 then
set fB=170
elseif BH7==3 then
set fB=250
elseif BH7==4 then
set fB=310
endif
set FB=p5
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,240,Condition(function FT8))
call ForGroup(g,function L89)
call CW7(g)
set g=null
endfunction
function LD9 takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(IN4),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call LM7(oA,1093742676)
call IssueTargetOrder(oA,"slow",GetEnumUnit())
set oA=null
endfunction
function LE9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local integer BH7=UN7(UC7,"Level")
local integer LF9=ModuloInteger(GetTriggerEvalCount(t),4)+1
local real a
local real d
local real x
local real y
local group g=CX7()
set IN4=CO7
call GroupEnumUnitsInRange(g,GetUnitX(CO7),GetUnitY(CO7),710,Condition(function FT8))
call ForGroup(g,function LD9)
if LF9==1 then
set a=GetRandomReal(0,90)
elseif LF9==2 then
set a=GetRandomReal(90,180)
elseif LF9==3 then
set a=GetRandomReal(180,270)
else
set a=GetRandomReal(270,360)
endif
set d=GetRandomReal(140,710)
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and(GetSpellAbilityId()==1093677906 or GetSpellAbilityId()==1093681494)then
call TN7(UC7)
call UA7(t)
call StopSound(vX,false,true)
else
set x=GetUnitX(CO7)+d*Cos(a*bj_DEGTORAD)
set y=GetUnitY(CO7)+d*Sin(a*bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("effects\\SnowyBlizzardTarget.mdx",x,y))
call L99(CO7,x,y,BH7)
endif
call CW7(g)
set t=null
set g=null
set CO7=null
return false
endfunction
function LG9 takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7
call E48(vX,GetUnitX(CO7),GetUnitY(CO7))
if GetSpellAbilityId()==1093677906 then
set BH7=GetUnitAbilityLevel(CO7,1093677906)
else
set BH7=GetUnitAbilityLevel(CO7,1093681494)+1
endif
call TriggerRegisterTimerEvent(t,0.10,true)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function LE9))
call TU7(UC7,"Hero",CO7)
call TQ7(UC7,"Level",BH7)
set t=null
set CO7=null
endfunction
function LH9 takes nothing returns boolean
if GetSpellAbilityId()==1093677906 or GetSpellAbilityId()==1093681494 then
call LG9()
endif
return false
endfunction
function K_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LH9))
call DE8(1093677912)
set t=null
endfunction
function LI9 takes unit EC8 returns nothing
local integer H98=GetUnitAbilityLevel(EC8,1093812553)
if GetUnitTypeId(EC8)==1215063922 then
call SetUnitAbilityLevel(EC8,1093681490,H98)
else
call SetUnitAbilityLevel(EC8,1093681490,H98+4)
endif
endfunction
function LJ9 takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093812553)
if H98==1 then
call LM7(EC8,1093681490)
endif
call LI9(EC8)
set EC8=null
endfunction
function LK9 takes nothing returns boolean
if GetLearnedSkill()==1093812553 and IsUnitIllusion(GetTriggerUnit())==false then
call LJ9()
endif
return false
endfunction
function LM9 takes nothing returns nothing
local unit u=GetTriggerUnit()
if GetUnitTypeId(u)==1211117639 or GetUnitTypeId(u)==1211117638 or GetUnitTypeId(u)==1211117637 then
call SetUnitAnimation(u,"stand")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl",u,"head"))
elseif GetUnitTypeId(u)==1215063922 then
call SetUnitAnimation(u,"stand defend")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl",u,"origin"))
endif
set u=null
endfunction
function LN9 takes nothing returns boolean
if GetSpellAbilityId()==1093681490 then
call LM9()
endif
return false
endfunction
function R48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LN9))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function LK9))
call DE8(1093681490)
set t=null
endfunction
function LO9 takes nothing returns boolean
return GetLearnedSkill()==1093681996 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function LP9 takes nothing returns nothing
local unit CO7=GetTriggerUnit()
call SetPlayerTechResearched(GetOwningPlayer(CO7),1378889782,GetPlayerTechCount(GetOwningPlayer(CO7),1378889782,true)+1)
set CO7=null
endfunction
function Q_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function LO9))
call TriggerAddAction(t,function LP9)
set t=null
endfunction
function LQ9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
call LI9(EC8)
call UA7(t)
call FlushChildHashtable(L7,(OC7))
set t=null
set EC8=null
return false
endfunction
function LR9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
call LI9(EC8)
call UA7(t)
call FlushChildHashtable(L7,(OC7))
set t=null
set EC8=null
return false
endfunction
function JZ8 takes nothing returns nothing
if GetUnitAbilityLevel(IN4,1093681490)>0 then
call LI9(IN4)
endif
endfunction
function LS9 takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function LQ9))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerAddCondition(t,Condition(function LR9))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set EC8=null
set t=null
endfunction
function LT9 takes nothing returns boolean
if GetSpellAbilityId()==1093677895 then
call LS9()
endif
return false
endfunction
function R78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LT9))
set t=null
endfunction
function LU9 takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
local integer id=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
call SetUnitX(YZ[id],x)
call SetUnitY(YZ[id],y)
if GetPlayerController(GetOwningPlayer(YZ[id]))==MAP_CONTROL_COMPUTER then
call UnitAddAbility(YZ[id],1093682253)
call SetUnitAbilityLevel(YZ[id],1093682253,ZZ)
endif
call IssueImmediateOrder(YZ[id],"fanofknives")
endfunction
function LV9 takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
local integer id=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call SetUnitX(YZ[id],x)
call SetUnitY(YZ[id],y)
if GetPlayerController(GetOwningPlayer(YZ[id]))==MAP_CONTROL_COMPUTER then
call UnitAddAbility(YZ[id],1093682253)
call SetUnitAbilityLevel(YZ[id],1093682253,ZZ)
endif
call IssueImmediateOrder(YZ[id],"fanofknives")
endif
endfunction
function LW9 takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and LO7(GetFilterUnit())==false
endfunction
function LX9 takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local group g=CX7()
local integer id=GetPlayerId(GetOwningPlayer(p5))
local integer BH7=GetUnitAbilityLevel(p5,1093682248)
if BH7==0 then
set BH7=GetUnitAbilityLevel(p5,1093750594)
endif
set YZ[id]=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
set zZ[id]=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
set ZZ=BH7
call SetUnitScale(YZ[id],0.25,0.25,0.25)
call LM7(YZ[id],1093682253)
call LM7(zZ[id],1093748784)
call SetUnitAbilityLevel(YZ[id],1093682253,BH7)
call SetUnitAbilityLevel(zZ[id],1093748784,BH7)
call GroupEnumUnitsInRange(g,x,y,575,Condition(function LW9))
call ForGroup(g,function LU9)
if GetUnitAbilityLevel(p5,1093750594)>0 then
call ForGroup(g,function LV9)
endif
call CW7(g)
set p5=null
set g=null
endfunction
function LY9 takes nothing returns boolean
if GetSpellAbilityId()==1093682248 or GetSpellAbilityId()==1093750594 then
call LX9()
endif
return false
endfunction
function M48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LY9))
set t=null
call DE8(1093682253)
endfunction
function LZ9 takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(GetEnumUnit()),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call LM7(oA,1093686090)
call SetUnitAbilityLevel(oA,1093686090,IH4)
call IssueTargetOrder(oA,"thunderbolt",GetEnumUnit())
call HD8(GetTriggerUnit(),GetEnumUnit(),ZG4,IJ4)
set oA=null
endfunction
function LA9 takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local location l=GetSpellTargetLoc()
local integer i=1
local real iN=GetUnitX(CO7)
local real io=GetUnitY(CO7)
local real hN
local real ho
local real x
local real y
local real a
local group g=CX7()
local group g2=CX7()
if m5==null then
set hN=GetLocationX(l)
set ho=GetLocationY(l)
else
set hN=GetUnitX(m5)
set ho=GetUnitY(m5)
endif
set a=bj_DEGTORAD*PP7(iN,io,hN,ho)
call RemoveLocation(l)
loop
exitwhen i>20
set x=D78(iN+i*60*Cos(a))
set y=D88(io+i*60*Sin(a))
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function F58))
call GroupAddGroup(g2,g)
call GroupClear(g2)
call ES8(CreateDestructable(1110454320,x,y,GetRandomReal(0,360),0.5,GetRandomInt(0,2)),8)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl",x,y))
set i=i+1
endloop
set IH4=GetUnitAbilityLevel(CO7,1093686091)
set IJ4=IH4*50+75
call ForGroup(g,function LZ9)
call CW7(g)
call CW7(g2)
set CO7=null
set l=null
set m5=null
set g=null
set g2=null
endfunction
function LB9 takes nothing returns boolean
if GetSpellAbilityId()==1093686091 then
call LA9()
endif
return false
endfunction
function M78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LB9))
call DE8(1093686090)
set t=null
endfunction
function LC9 takes nothing returns boolean
return((GetUnitAbilityLevel(GetSpellAbilityUnit(),1093682250)>0)and(((GetSpellAbilityId()==1093686091)or(GetSpellAbilityId()==1093682252)or(GetSpellAbilityId()==1093682248)or(GetSpellAbilityId()==1093750594)))or(GetUnitPointValue(GetTriggerUnit())==500)and B77(GetSpellAbilityId()))
endfunction
function L39 takes nothing returns nothing
local location sb=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,1697656901,GetOwningPlayer(GetTriggerUnit()),sb,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,1093682249)
call SetUnitAbilityLevelSwapped(1093682249,bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(1093682250,GetSpellAbilityUnit()))
call IssueImmediateOrderById(bj_lastCreatedUnit,852127)
call RemoveLocation(sb)
set sb=null
endfunction
function M88 takes nothing returns nothing
set dq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dq,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(dq,Condition(function LC9))
call TriggerAddAction(dq,function L39)
endfunction
function L69 takes nothing returns boolean
if(GetItemTypeId(GetManipulatedItem())==1227894859)and(GetUnitTypeId(GetTriggerUnit())==1333027688)then
return true
endif
return false
endfunction
function LL9 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local unit oA=CreateUnit(GetOwningPlayer(CO7),1697656901,GetUnitX(CO7),GetUnitY(CO7),0)
call LM7(oA,1095332466)
call IssueImmediateOrder(oA,"roar")
call TN7(UC7)
call UA7(t)
set t=null
set CO7=null
set oA=null
return false
endfunction
function L19 takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call UnitRemoveAbility(CO7,1110454608)
call TU7(UC7,"Hero",CO7)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function LL9))
set t=null
set CO7=null
endfunction
function M98 takes nothing returns nothing
set H24=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(H24,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(H24,Condition(function L69))
call TriggerAddAction(H24,function L19)
endfunction
function L09 takes nothing returns boolean
return(UnitHasBuffBJ(GetAttacker(),1114795873))
endfunction
function L59 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EC8 then
call UnitRemoveAbility(EC8,1114795873)
endif
else
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function L29 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit O07=GetTriggerUnit()
local unit EC8=GetAttacker()
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1.5,false)
call TriggerAddCondition(t,Condition(function L59))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
set t=null
set EC8=null
set O07=null
endfunction
function MD8 takes nothing returns nothing
set dr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dr,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(dr,Condition(function L09))
call TriggerAddAction(dr,function L29)
endfunction
function L_9 takes unit u returns boolean
return IsUnitType(u,UNIT_TYPE_HERO)==false and IsUnitType(u,UNIT_TYPE_ANCIENT)==false and GetUnitTypeId(u)!=1848652101 and GetUnitTypeId(u)!=1848652089
endfunction
function D4D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
call UnitRemoveAbility(O07,1114860655)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set O07=null
return false
endfunction
function D7D takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function D4D))
call SaveUnitHandle(L7,(OC7),(17),(m5))
call SetUnitOwner(m5,GetOwningPlayer(p5),true)
call UnitApplyTimedLife(m5,1112820806,80)
call LM7(m5,1097167976)
call LM7(m5,1093743175)
call DV8(m5)
set m5=null
set p5=null
set t=null
endfunction
function D8D takes nothing returns boolean
if GetSpellAbilityId()==1093682264 and L_9(GetSpellTargetUnit())then
call D7D()
endif
return false
endfunction
function ME8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D8D))
set t=null
endfunction
function D9D takes nothing returns boolean
return ji()and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)!=GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_LIFE)
endfunction
function DDD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local integer Rd=UN7(UC7,"Counter")
local group g
local unit KH8
if Rd>10 then
call TN7(UC7)
call UA7(t)
else
call TQ7(UC7,"Counter",Rd+1)
set IN4=p5
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),300,Condition(function D9D))
set KH8=GroupPickRandomUnit(g)
call CW7(g)
call SetUnitState(KH8,UNIT_STATE_LIFE,GetUnitState(KH8,UNIT_STATE_LIFE)+10)
endif
set t=null
set p5=null
set g=null
set KH8=null
return false
endfunction
function DED takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
call AddUnitAnimationProperties(EC8,"alternate",false)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set EC8=null
return false
endfunction
function DFD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer i=1
local trigger t
local integer OC7
loop
exitwhen i>(1+2*GetUnitAbilityLevel(p5,1093677378))
set t=CreateTrigger()
call TU7(GetHandleId(t),"Source",p5)
call TQ7(GetHandleId(t),"Counter",0)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function DDD))
set i=i+1
endloop
if GetUnitTypeId(p5)==1160786520 then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function DED))
call SaveUnitHandle(L7,(OC7),(2),(p5))
set t=null
endif
set t=null
set p5=null
endfunction
function DGD takes nothing returns boolean
if GetSpellAbilityId()==1093677378 then
call DFD()
endif
return false
endfunction
function MF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DGD))
set t=null
endfunction
function DHD takes real x1,real y1,real x2,real y2 returns real
return SquareRoot(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2)))
endfunction
function DID takes unit u returns integer
local integer H98=GetUnitAbilityLevel(u,1093682265)
if H98>0 then
return H98
endif
set H98=GetUnitAbilityLevel(u,1093752642)
return H98
endfunction
function DJD takes nothing returns boolean
local real d
local real DKD
if GetUnitAbilityLevel(GetTriggerUnit(),1110455125)>0 and DID(GetEventDamageSource())>0 and U87(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call UnitRemoveAbility(GetTriggerUnit(),1110455125)
set DKD=RMinBJ(DHD(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitX(GetEventDamageSource()),GetUnitY(GetEventDamageSource())),2500)
set d=(0.10+0.05*I2R(DID(GetEventDamageSource())))*DKD
call DC8("+"+I2S(R2I(d)),1,GetTriggerUnit(),.023,3,216,216,216)
call DisableTrigger(GetTriggeringTrigger())
call HD8(GetEventDamageSource(),GetTriggerUnit(),ZI4,d)
call TN7(GetHandleId(GetTriggeringTrigger()))
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function DMD takes nothing returns nothing
local trigger t
local unit m5
local unit p5
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set m5=GetSpellTargetUnit()
set p5=GetTriggerUnit()
else
set m5=GetTriggerUnit()
set p5=GetAttacker()
endif
if IsUnitIllusion(p5)==false then
set t=CreateTrigger()
call TU7(GetHandleId(t),"Source",p5)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function DJD))
endif
set t=null
set m5=null
set p5=null
endfunction
function Sn takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if DID(GetAttacker())>0 and(UP7(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==U87(GetHandleId(GetTriggeringTrigger()),"Hero")then
call DMD()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==852255)then
call TT7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)
elseif(GetIssuedOrderId()==852256)then
call TT7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()==1093682265 or GetSpellAbilityId()==1093752642)then
call DMD()
endif
return false
endfunction
function DND takes unit CO7,boolean A_9 returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function Sn))
call TU7(GetHandleId(t),"Hero",CO7)
if A_9 then
set Vj[GetPlayerId(GetOwningPlayer(CO7))]=t
endif
set t=null
endfunction
function DOD takes nothing returns boolean
if(GetLearnedSkill()==1093682265 or GetLearnedSkill()==1093752642)and IsUnitIllusion(GetTriggerUnit())==false and DID(GetTriggerUnit())==1 then
call DND(GetTriggerUnit(),false)
endif
return false
endfunction
function MG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function DOD))
set t=null
endfunction
function DPD takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
return GetUnitAbilityLevel(GetSpellTargetUnit(),1093682263)>0
else
return GetUnitAbilityLevel(GetTriggerUnit(),1093682263)>0
endif
endfunction
function DQD takes nothing returns nothing
local unit p5
local unit m5
local unit oA
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
set p5=GetSpellTargetUnit()
set m5=GetTriggerUnit()
else
set p5=GetTriggerUnit()
set m5=GetAttacker()
endif
set oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LM7(oA,1093681712)
call SetUnitAbilityLevel(oA,1093681712,GetUnitAbilityLevel(p5,1093682263))
call IssueTargetOrder(oA,"acidbomb",m5)
set p5=null
set m5=null
set oA=null
endfunction
function MH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DPD))
call TriggerAddAction(t,function DQD)
set t=null
endfunction
function DRD takes real x returns real
local real H7=GetRectMinX(bj_mapInitialPlayableArea)+150
if(x<H7)then
return H7
endif
set H7=GetRectMaxX(bj_mapInitialPlayableArea)-150
if(x>H7)then
return H7
endif
return x
endfunction
function DSD takes real y returns real
local real H7=GetRectMinY(bj_mapInitialPlayableArea)+150
if(y<H7)then
return H7
endif
set H7=GetRectMaxY(bj_mapInitialPlayableArea)-150
if(y>H7)then
return H7
endif
return y
endfunction
function DTD takes unit u returns boolean
local integer id=GetUnitTypeId(u)
return id==1852862003 or id==1852862006 or id==1848652080 or id==1848657754 or id==1852862001 or id==1852862004 or id==1848652081 or id==1848657968 or id==1852862002 or id==1852862005 or id==1848652082 or id==1848657969
endfunction
function DUD takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or DTD(GetFilterUnit())or FD8(GetFilterUnit())or GetUnitTypeId(GetFilterUnit())==1848651861 or GetUnitTypeId(GetFilterUnit())==1848651865 or GetUnitTypeId(GetFilterUnit())==1848651866 or GetUnitTypeId(GetFilterUnit())==1848658773 or GetUnitTypeId(GetFilterUnit())==1848658774 or GetUnitTypeId(GetFilterUnit())==1848658775 or BX7(GetUnitTypeId(GetFilterUnit())))and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(U87(GetHandleId(GetTriggeringTrigger()),"BlackHole")))==true
endfunction
function DVD takes nothing returns nothing
local location DWD=GetUnitLoc(GetEnumUnit())
local location DXD=GetUnitLoc(U87(GetHandleId(GetTriggeringTrigger()),"BlackHole"))
local location DYD=RT7(DXD,DistanceBetweenPoints(DXD,DWD)-2,AngleBetweenPoints(DXD,DWD))
call SetUnitPositionLoc(GetEnumUnit(),DYD)
call RemoveLocation(DWD)
call RemoveLocation(DXD)
call RemoveLocation(DYD)
set DWD=null
set DXD=null
set DYD=null
endfunction
function DZD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local group IB8
local integer UC7=GetHandleId(t)
local unit DAD=U87(UC7,"BlackHole")
local unit H88
local real x
local real y
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()==1093747288 then
call KillUnit(DAD)
set H88=U87(UC7,"Caster")
call UnitApplyTimedLife(U87(UC7,"Shadow1"),1112820806,1)
call UnitApplyTimedLife(U87(UC7,"Shadow2"),1112820806,1)
call UnitApplyTimedLife(U87(UC7,"Shadow3"),1112820806,1)
call UnitApplyTimedLife(U87(UC7,"Shadow4"),1112820806,1)
call TN7(UC7)
call UA7(t)
call KillUnit(H88)
elseif GetTriggerEvalCount(t)>90 then
set H88=U87(UC7,"Caster")
call UnitApplyTimedLife(U87(UC7,"Shadow1"),1112820806,1)
call UnitApplyTimedLife(U87(UC7,"Shadow2"),1112820806,1)
call UnitApplyTimedLife(U87(UC7,"Shadow3"),1112820806,1)
call UnitApplyTimedLife(U87(UC7,"Shadow4"),1112820806,1)
call TN7(UC7)
call UA7(t)
call KillUnit(DAD)
call KillUnit(H88)
call RR7(U87(UC7,"Source"))
else
set x=GetUnitX(DAD)
set y=GetUnitY(DAD)
set IB8=CX7()
call GroupEnumUnitsInRange(IB8,x,y,400,Condition(function DUD))
call ForGroup(IB8,function DVD)
call CW7(IB8)
endif
set H88=null
set DAD=null
set t=null
set IB8=null
return false
endfunction
function DBD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit H88=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
local unit DAD=CreateUnit(GetOwningPlayer(p5),1966092340,x,y,0)
call RemoveLocation(l)
call SetUnitAbilityLevel(DAD,1093681968,GetUnitAbilityLevel(p5,1093747288))
if Z37(GetOwningPlayer(p5))then
call LM7(H88,1093687348)
else
call LM7(H88,1093687347)
endif
call IssuePointOrder(H88,"cloudoffog",x,y)
call TU7(UC7,"Caster",H88)
call TU7(UC7,"Shadow1",CreateUnit(GetOwningPlayer(p5),1747990098,x,y,0))
call TU7(UC7,"Shadow2",CreateUnit(GetOwningPlayer(p5),1747990098,x,y,0))
call TU7(UC7,"Shadow3",CreateUnit(GetOwningPlayer(p5),1747990098,x,y,0))
call TU7(UC7,"Shadow4",CreateUnit(GetOwningPlayer(p5),1747990098,x,y,0))
call TU7(UC7,"BlackHole",DAD)
call TU7(UC7,"Source",p5)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function DZD))
set p5=null
set DAD=null
set t=null
set l=null
set H88=null
endfunction
function DCD takes nothing returns boolean
if GetSpellAbilityId()==1093747288 then
call DBD()
endif
return false
endfunction
function D3D takes nothing returns boolean
local location l
local real x
local real y
if GetSpellAbilityId()==1093747288 then
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
call RemoveLocation(l)
set l=null
if(x!=DRD(x)and y!=DSD(y))or RectContainsCoords(eE,x,y)or RectContainsCoords(oE,x,y)or RectContainsCoords(aE,x,y)or RectContainsCoords(nE,x,y)or RectContainsCoords(VE,x,y)or RectContainsCoords(EE,x,y)then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),"Cannot cast Blackhole here")
endif
endif
return false
endfunction
function MI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DCD))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function D3D))
call DE8(1093681968)
set t=null
endfunction
function D6D takes unit p5,unit m5,integer BH7 returns nothing
local real DS8
if BH7==1 then
set DS8=40
elseif BH7==2 then
set DS8=40
elseif BH7==3 then
set DS8=65
else
set DS8=65
endif
call H78(m5,m5,1)
call HD8(p5,m5,ZG4,DS8)
endfunction
function DLD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local integer BH7=UN7(UC7,"Level")
call D6D(p5,m5,BH7)
call TN7(UC7)
call UA7(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function SW takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t
local integer UC7
local integer BH7=GetUnitAbilityLevel(p5,1093683511)
call D6D(p5,m5,BH7)
if BH7>1 then
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TQ7(UC7,"Level",BH7)
call TriggerRegisterTimerEvent(t,2,false)
call TriggerAddCondition(t,Condition(function DLD))
endif
if BH7==4 then
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TQ7(UC7,"Level",BH7)
call TriggerRegisterTimerEvent(t,4,false)
call TriggerAddCondition(t,Condition(function DLD))
endif
set t=null
set p5=null
set m5=null
endfunction
function D1D takes nothing returns boolean
if GetSpellAbilityId()==1093683511 and CV7(GetSpellTargetUnit())==false then
call SW()
endif
return false
endfunction
function MJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D1D))
set t=null
endfunction
function D0D takes nothing returns boolean
return(GetSpellAbilityId()==1093681713)
endfunction
function D5D takes nothing returns nothing
local location sb=GetUnitLoc(GetTriggerUnit())
local location Sa=GetSpellTargetLoc()
local integer kt=GetUnitAbilityLevel(GetTriggerUnit(),1093681713)
local unit D2D
call CreateNUnitsAtLocFacingLocBJ(1,1697656901,GetOwningPlayer(GetTriggerUnit()),Sa,Sa)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitApplyTimedLifeBJ(8.,1112820806,bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,1093681714)
call SetUnitAbilityLevelSwapped(1093681714,bj_lastCreatedUnit,kt)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,852221,Sa)
if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))!=MAP_CONTROL_USER)then
set D2D=bj_lastCreatedUnit
loop
call R47(0.9)
exitwhen(IsUnitDeadBJ(D2D))
if(GetUnitCurrentOrder(D2D)!=852221)then
call UnitRemoveAbility(D2D,1093681714)
call UnitAddAbility(D2D,1093681714)
call SetUnitAbilityLevelSwapped(1093681714,D2D,kt)
call IssuePointOrderByIdLoc(D2D,852221,Sa)
endif
endloop
endif
call RemoveLocation(sb)
call RemoveLocation(Sa)
set D2D=null
set sb=null
set Sa=null
endfunction
function MK8 takes nothing returns nothing
set dR=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dR,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(dR,Condition(function D0D))
call TriggerAddAction(dR,function D5D)
endfunction
function D_D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local integer BH7=GetUnitAbilityLevel(p5,1093744688)
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
call SetUnitState(m5,UNIT_STATE_LIFE,1)
call HD8(p5,m5,ZH4,20)
call HD8(p5,m5,ZG4,20)
call HD8(p5,m5,ZI4,20)
call LM7(oA,1093744474)
call SetUnitAbilityLevel(oA,1093744474,BH7)
call IssueImmediateOrder(oA,"lavamonster")
set p5=null
set m5=null
set oA=null
endfunction
function E4D takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer E7D=GetUnitLevel(m5)
if GetOwningPlayer(m5)!=Z7[0]and GetOwningPlayer(m5)!=A7[0]and E7D>4 then
call RR7(CO7)
call L27(GetOwningPlayer(CO7),(GetObjectName((1848656728))))
endif
set CO7=null
set m5=null
endfunction
function E8D takes nothing returns boolean
if GetSpellAbilityId()==1093744688 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call D_D()
else
call E4D()
endif
endif
return false
endfunction
function MM8 takes nothing returns nothing
local trigger t=CreateTrigger()
local region regDemonicConversion=CreateRegion()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function E8D))
set t=null
endfunction
function SZ takes nothing returns nothing
local integer O5=0
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call HD8(IN4,GetEnumUnit(),ZG4,IJ4)
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))and(IsUnitInForce(IN4,QX4)))then
set O5=GetPlayerId(GetOwningPlayer(IN4))
if((hq[240+O5]>Bz)and(h4[16+O5]==GetEnumUnit())and(S87(M7[O5]))and(R57(M7[O5]))and(GetUnitLifePercent(M7[O5])>65.)and(G0[128+O5])and(not IsUnitInRange(M7[O5],GetEnumUnit(),450.))and(kJ(GetUnitX(IN4),GetUnitY(IN4))))then
set PN4[16+O5]=GetEnumUnit()
endif
endif
endif
endfunction
function S0 takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local group g=UG7(UC7,"g")
local unit oA=U87(UC7,"Caster")
local integer BH7=UN7(UC7,"Level")
local real RK=UO7(UC7,"Angle")
local group S1
local real x
local real y
if GetTriggerEventId()==EVENT_UNIT_DEATH then
set IN4=CreateUnit(GetOwningPlayer(oA),1747990095,GetUnitX(U87(UC7,"Hero")),GetUnitY(U87(UC7,"Hero")),0)
call SetUnitScale(IN4,2.5,2.5,2.5)
call KillUnit(IN4)
call SetUnitPosition(U87(UC7,"Hero"),GetUnitX(oA),GetUnitY(oA))
call ShowUnit((U87(UC7,"Hero")),false)
call ShowUnit((U87(UC7,"Hero")),true)
call SelectUnitAddForPlayer((U87(UC7,"Hero")),GetOwningPlayer((U87(UC7,"Hero"))))
set PN4[GetPlayerId(GetOwningPlayer(oA))]=null
call CW7(g)
call TN7(UC7)
call UA7(t)
elseif GetTriggerEvalCount(t)>120 then
set PN4[GetPlayerId(GetOwningPlayer(oA))]=null
call CW7(g)
call TN7(UC7)
call UA7(t)
call SetUnitScale(oA,2.5,2.5,2.5)
call KillUnit(oA)
else
set x=GetUnitX(oA)
set y=GetUnitY(oA)
set S1=CX7()
set IQ4=g
set PN4[16+GetPlayerId(GetOwningPlayer(oA))]=null
set IN4=oA
set IJ4=BH7*70
call GroupEnumUnitsInRange(S1,x,y,225+25,Condition(function jh))
call ForGroup(S1,function SZ)
call CW7(S1)
call SetUnitX(oA,D78(x+15*Cos(RK*bj_DEGTORAD)))
call SetUnitY(oA,D88(y+15*Sin(RK*bj_DEGTORAD)))
if(IsUnitInForce(oA,QX4))then
if(PN4[16+GetPlayerId(GetOwningPlayer(oA))]!=null)then
call IssueImmediateOrderById(M7[GetPlayerId(GetOwningPlayer(oA))],852185)
set hq[512+GetPlayerId(GetOwningPlayer(oA))]=Bz+1.
elseif((h4[16+GetPlayerId(GetOwningPlayer(oA))]==M7[GetPlayerId(GetOwningPlayer(oA))])and(S87(M7[GetPlayerId(GetOwningPlayer(oA))]))and(not IsUnitInRange(M7[GetPlayerId(GetOwningPlayer(oA))],oA,550.))and(kJ(GetUnitX(oA),GetUnitY(oA)))and(R57(M7[GetPlayerId(GetOwningPlayer(oA))])))then
call IssueImmediateOrderById(M7[GetPlayerId(GetOwningPlayer(oA))],852185)
endif
endif
endif
set t=null
set g=null
set S1=null
set oA=null
return false
endfunction
function E9D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local group g=CX7()
local unit CO7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x1=GetUnitX(CO7)
local real y1=GetUnitY(CO7)
local real x2=GetLocationX(l)
local real y2=GetLocationY(l)
local real RK=PP7(x1,y1,x2,y2)
local integer BH7=GetUnitAbilityLevel(CO7,1093686073)
local unit oA=CreateUnit(GetOwningPlayer(CO7),1747990095,x1,y1,RK)
call E48(UX,x1,y1)
call LM7(GetTriggerUnit(),1093686081)
set PN4[GetPlayerId(GetOwningPlayer(CO7))]=oA
call SetUnitScale(oA,3.5,3.5,3.5)
call TU7(UC7,"Caster",oA)
call TQ7(UC7,"Level",BH7)
call TC7(UC7,"g",g)
call TR7(UC7,"Angle",RK)
call TU7(UC7,"Hero",CO7)
call TriggerRegisterTimerEvent(t,.025,true)
call TriggerRegisterUnitEvent(t,oA,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function S0))
call RemoveLocation(l)
set t=null
set oA=null
set g=null
set CO7=null
set l=null
endfunction
function S3 takes nothing returns nothing
local integer i=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if PN4[i]==null then
call L27(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652599))
else
call SetUnitScale(PN4[i],2.5,2.5,2.5)
call KillUnit(PN4[i])
endif
endfunction
function EDD takes nothing returns boolean
if GetSpellAbilityId()==1093686073 then
call E9D()
endif
if GetSpellAbilityId()==1093686081 then
call S3()
endif
return false
endfunction
function fwv takes nothing returns boolean
if GetLearnedSkill()==1093686073 and GetUnitAbilityLevel(GetTriggerUnit(),1093686073)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call LM7(GetTriggerUnit(),1093686081)
endif
return false
endfunction
function SR8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EDD))
set t=null
endfunction
function EED takes nothing returns nothing
call HD8(GetTriggerUnit(),GetEnumUnit(),ZG4,IJ4)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationTarget.mdx",GetEnumUnit(),"chest"))
endfunction
function EFD takes nothing returns nothing
local group g=CX7()
local unit CO7=GetTriggerUnit()
local real x=GetUnitX(CO7)
local real y=GetUnitY(CO7)
local integer BH7=GetUnitAbilityLevel(CO7,1093686083)
local unit oA=CreateUnit(GetOwningPlayer(CO7),1697656901,x,y,0)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationCaster.mdx",x,y))
call LM7(oA,1093686084)
call SetUnitAbilityLevel(oA,1093686084,BH7)
call IssuePointOrderById(oA,852592,x,y)
set IJ4=BH7*70
call GroupEnumUnitsInRange(g,x,y,425,Condition(function jF))
call ForGroup(g,function EED)
call CW7(g)
set oA=null
set g=null
set CO7=null
endfunction
function EGD takes nothing returns boolean
if GetSpellAbilityId()==1093686083 then
call EFD()
endif
return false
endfunction
function SS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EGD))
set t=null
endfunction
function EHD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local integer H98
local integer EID
local integer EJD
if(GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER and GetIssuedOrderId()!=OrderId("phaseshift"))or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or GetTriggerEventId()==EVENT_UNIT_DEATH then
call SetUnitInvulnerable(CO7,false)
call UnitRemoveAbility(CO7,1093678162)
call TN7(UC7)
call UA7(t)
else
set H98=(UN7(UC7,"Level"))
set EID=(UN7(UC7,"Counter"))+1
call TQ7(UC7,"Counter",(EID))
set EJD=3*H98
if H98==4 then
set EJD=EJD+1
endif
if EID>EJD or RF7(GetUnitX(CO7),GetUnitY(CO7),(UO7(UC7,"x")),(UO7(UC7,"y")))>125 then
call SetUnitInvulnerable(CO7,false)
call UnitRemoveAbility(CO7,1093678162)
call TN7(UC7)
call UA7(t)
endif
endif
set t=null
set CO7=null
return false
endfunction
function EKD takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call SetUnitInvulnerable(CO7,true)
call LM7(CO7,1093678162)
call TU7(UC7,"Hero",CO7)
call TQ7(UC7,"Level",GetUnitAbilityLevel(CO7,1093686082))
call TQ7(UC7,"Counter",0)
call TR7(UC7,"x",((GetUnitX(CO7))*1.0))
call TR7(UC7,"y",((GetUnitY(CO7))*1.0))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function EHD))
call U67(CO7,"4266",5.9)
set t=null
set CO7=null
endfunction
function EMD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit CC7=(LoadUnitHandle(L7,(OC7),(14)))
call IssueImmediateOrder(CC7,"phaseshiftoff")
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set CC7=null
return false
endfunction
function END takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call SaveUnitHandle(L7,(OC7),(14),(CC7))
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function EMD))
set t=null
set CC7=null
endfunction
function EOD takes nothing returns boolean
if GetIssuedOrderId()==OrderId("phaseshift")and IsUnitIllusion(GetTriggerUnit())==false and UU7(GetTriggerUnit(),"4266")==false then
call EKD()
elseif GetIssuedOrderId()==OrderId("phaseshifton")then
call END()
endif
return false
endfunction
function ST8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function EOD))
set t=null
endfunction
function EPD takes unit p5,unit m5,integer BH7,integer EQD returns nothing
call H78(p5,m5,0.75+0.75*BH7)
if EQD==1 then
call HD8(p5,m5,ZG4,BH7*50+50)
else
call HD8(p5,m5,ZG4,BH7*50+50+100)
endif
endfunction
function ERD takes unit p5,unit m5 returns nothing
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call UnitAddAbility(oA,1093686086)
call IssueTargetOrder(oA,"thunderbolt",m5)
set oA=null
endfunction
function ESD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=(LoadInteger(L7,(UC7),(5)))
local integer EQD=(LoadInteger(L7,(UC7),(152)))
local unit p5=(LoadUnitHandle(L7,(UC7),(2)))
local integer ETD=(LoadInteger(L7,(UC7),(30)))
local unit m5=ZX7(ETD)
local lightning i7=(LoadLightningHandle(L7,(UC7),(196)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyLightning(i7)
call ZW7(ETD)
call TN7(UC7)
call UA7(t)
else
call MoveLightning(i7,false,GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5))
if RF7(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5))>600 then
call DestroyLightning(i7)
call ZW7(ETD)
call TN7(UC7)
call UA7(t)
call EPD(p5,m5,BH7,EQD)
endif
endif
set t=null
set p5=null
set m5=null
set i7=null
return false
endfunction
function EUD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local lightning i7=AddLightning("HWPB",false,GetUnitX(L04),GetUnitY(L04),GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()))
call SetLightningColor(i7,0,.7,1,1)
call SaveLightningHandle(L7,(UC7),(196),(i7))
call SaveUnitHandle(L7,(UC7),(2),(L04))
call SaveInteger(L7,(UC7),(30),(ZZ7(GetEnumUnit())))
call SaveInteger(L7,(UC7),(5),(L34))
call SaveInteger(L7,(UC7),(152),(L64))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,L04,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ESD))
call HD8(GetTriggerUnit(),GetEnumUnit(),ZG4,LL4)
call ERD(GetTriggerUnit(),GetEnumUnit())
set t=null
set i7=null
endfunction
function EVD takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit oA=CreateUnit(GetOwningPlayer(CO7),1697656917,x,y,0)
local group g=CX7()
local integer BH7=GetUnitAbilityLevel(CO7,1093686072)
local real EWD=6
local integer EXD=1
if BH7==0 then
set BH7=GetUnitAbilityLevel(CO7,1093751120)
set EWD=8
set EXD=2
endif
call RemoveLocation(l)
call SetUnitAnimation(oA,"channel")
call EW8(oA,EWD)
set L04=oA
set L14=EWD
set LL4=BH7*50+50
set L34=BH7
set L64=EXD
set IN4=CO7
call GroupEnumUnitsInRange(g,x,y,400,Condition(function FZ8))
call ForGroup(g,function EUD)
call CW7(g)
set g=null
set oA=null
set CO7=null
set l=null
endfunction
function EYD takes nothing returns boolean
if GetSpellAbilityId()==1093686072 or GetSpellAbilityId()==1093751120 then
call EVD()
endif
return false
endfunction
function SU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EYD))
set t=null
endfunction
function EZD takes nothing returns boolean
return GetSpellAbilityId()==1093808453
endfunction
function EAD takes nothing returns nothing
call SetUnitX(GetEnumUnit(),WO4)
call SetUnitY(GetEnumUnit(),WP4)
endfunction
function EBD takes nothing returns nothing
local destructable array dx
local integer R29
local integer ECD
local fogmodifier E3D
local unit H88=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local location E6D
local real x
local real y
local group g=CX7()
if O07==null then
set E6D=GetSpellTargetLoc()
else
set E6D=GetUnitLoc(O07)
endif
set x=GetLocationX(E6D)
set y=GetLocationY(E6D)
set WO4=x
set WP4=y
if IsUnitAlly(H88,GetOwningPlayer(O07))==true or CV7(GetSpellTargetUnit())==false then
set IN4=H88
call GroupEnumUnitsInRange(g,x,y,150,Condition(function FT8))
call EP8(CreateFogModifierRadiusLocBJ(true,GetOwningPlayer(H88),FOG_OF_WAR_VISIBLE,E6D,1000.00),2.25+0.75*GetUnitAbilityLevel(H88,1093808453))
set R29=1
set ECD=8
loop
exitwhen R29>ECD
call ES8(CreateDestructableLoc(1110454325,RT7(E6D,150.00,(I2R(R29)*45.00)),GetRandomReal(0,360),1,0),2.25+0.75*GetUnitAbilityLevel(H88,1093808453))
call TZ7(GetHandleId(H88),"AI|SproutTree"+I2S(R29),bj_lastCreatedDestructable)
set R29=R29+1
endloop
endif
call RemoveLocation(E6D)
call ForGroup(g,function EAD)
call CW7(g)
set E3D=null
set H88=null
set O07=null
set E6D=null
set g=null
endfunction
function ELD takes nothing returns nothing
if GetSpellAbilityId()==1093808453 and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(UP7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652600))
endif
endfunction
function MO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EZD))
call TriggerAddAction(t,function EBD)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddAction(t,function ELD)
set t=null
endfunction
function E1D takes nothing returns boolean
return GetSpellAbilityId()==1093677391
endfunction
function E0D takes nothing returns nothing
local location Mk=GetSpellTargetLoc()
local real x=GetLocationX(Mk)
local real y=GetLocationY(Mk)
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(GetTriggerUnit()))then
call PingMinimapEx(x,y,3,255,255,255,false)
endif
call DestroyEffect(AddSpecialEffect("war3mapImported\\FurionTeleportTarget.mdx",x,y))
call DestroyEffect(AddSpecialEffect("war3mapImported\\FurionTeleportTarget.mdx",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call RemoveLocation(Mk)
set Mk=null
endfunction
function MP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(t,Condition(function E1D))
call TriggerAddAction(t,function E0D)
set t=null
endfunction
function E5D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer C97=GetHandleId(t)
local integer RP7=(LoadInteger(L7,(C97),(5)))
local unit E2D=(LoadUnitHandle(L7,(C97),(17)))
local integer E_D=CP7(E2D)
local real EC8=GetUnitState(E2D,UNIT_STATE_LIFE)
local real F4D=GetUnitState(E2D,UNIT_STATE_MAX_LIFE)
local real F7D
if EC8/F4D>0.4 then
set F7D=I2R(RP7)/4*0.2*E_D+2*RP7
else
set F7D=I2R(RP7)/4*0.6*E_D+2*RP7
endif
set F7D=F7D/8.0
if GetTriggerEvalCount(t)>16*8.0 then
call DestroyEffect((LoadEffectHandle(L7,(C97),(31))))
call UnitRemoveAbility(E2D,1093685583)
call FlushChildHashtable(L7,(C97))
call UA7(t)
else
call SetUnitState(E2D,UNIT_STATE_LIFE,EC8+F7D)
endif
set E2D=null
set t=null
return false
endfunction
function F8D takes nothing returns nothing
local unit E2D=GetSpellTargetUnit()
local unit F9D=GetTriggerUnit()
local integer RP7=GetUnitAbilityLevel(F9D,1093685584)
local trigger t=CreateTrigger()
local integer C97=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1/8.0,true)
call TriggerAddCondition(t,Condition(function E5D))
call SaveInteger(L7,(C97),(5),(RP7))
call SaveUnitHandle(L7,(C97),(17),(E2D))
call SaveEffectHandle(L7,(C97),(31),(AddSpecialEffectTarget("InnerVitality.mdx",E2D,"chest")))
call LM7(E2D,1093685583)
call SetUnitAbilityLevel(E2D,1093685583,RP7)
set E2D=null
set F9D=null
set t=null
endfunction
function FDD takes nothing returns boolean
if GetSpellAbilityId()==1093685584 then
call F8D()
endif
return false
endfunction
function RB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FDD))
set t=null
endfunction
function FED takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer B49
local string FFD
local integer FGD
local integer HG8=UN7(UC7,"TargetIndex")
local unit m5=ZX7(HG8)
local unit p5=U87(UC7,"Source")
if GetTriggerEvalCount(t)>7 or LO7(m5)then
call DestroyEffect(UH7(UC7,"Effect"))
call TN7(UC7)
set B49=GetHandleId(p5)
set FFD=I2S(GetHandleId(m5))+"NumOfSpears"
set FGD=UN7(B49,FFD)
set FGD=FGD-1
if FGD==0 then
call TQ7(B49,FFD,0)
else
call TQ7(B49,FFD,FGD)
endif
call ZW7(HG8)
call UA7(t)
else
call HD8(p5,m5,ZG4,4*GetUnitAbilityLevel(p5,1093685582))
endif
set t=null
set m5=null
set p5=null
return false
endfunction
function FHD takes unit p5,unit m5 returns nothing
local integer UC7=GetHandleId(p5)
local integer B49
local trigger t
local integer FFD=UN7(UC7,I2S(GetHandleId(m5))+"NumOfSpears")
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function FED))
set B49=GetHandleId(t)
call TU7(B49,"Source",p5)
call TQ7(B49,"TargetIndex",ZZ7(m5))
call TQ7(UC7,I2S(GetHandleId(m5))+"NumOfSpears",FFD+1)
call TV7(B49,"Effect",AddSpecialEffectTarget("Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl",m5,"chest"))
set t=null
endfunction
function FID takes nothing returns boolean
local real d
if GetUnitAbilityLevel(GetTriggerUnit(),1110456369)>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093685582)>0 and U87(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call SetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE,DR8(GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)-15,1))
call UnitRemoveAbility(GetTriggerUnit(),1110456369)
call FHD(GetEventDamageSource(),GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call TN7(GetHandleId(GetTriggeringTrigger()))
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function FJD takes nothing returns nothing
local trigger t
local unit m5
local unit p5
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set m5=GetSpellTargetUnit()
set p5=GetTriggerUnit()
else
set m5=GetTriggerUnit()
set p5=GetAttacker()
endif
if IsUnitIllusion(p5)==false then
set t=CreateTrigger()
call TU7(GetHandleId(t),"Source",p5)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function FID))
endif
set t=null
set m5=null
set p5=null
endfunction
function FKD takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetUnitAbilityLevel(GetAttacker(),1093685582)>0 and(UP7(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==U87(GetHandleId(GetTriggeringTrigger()),"Hero")then
call FJD()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==OrderId("poisonarrows"))then
call TT7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)
elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))then
call TT7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093685582 then
call FJD()
endif
return false
endfunction
function FMD takes unit CO7,boolean A_9 returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function FKD))
call TU7(GetHandleId(t),"Hero",CO7)
if A_9 then
set aj[GetPlayerId(GetOwningPlayer(CO7))]=t
endif
set t=null
endfunction
function FND takes nothing returns boolean
if GetLearnedSkill()==1093685582 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093685582)==1 then
call FMD(GetTriggerUnit(),false)
endif
return false
endfunction
function RC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function FND))
set t=null
endfunction
function tQ takes nothing returns boolean
local integer UC7=GetHandleId(GetTriggeringTrigger())
local unit CO7=U87(UC7,"Hero")
local real FOD=GetUnitState(CO7,UNIT_STATE_LIFE)
local real MaxHealth=GetUnitState(CO7,UNIT_STATE_MAX_LIFE)
local integer FPD
local integer FQD
local integer BH7=GetUnitAbilityLevel(CO7,1093685585)
local boolean FRD=UP7(UC7,"HasFX")
if IsUnitType(CO7,UNIT_TYPE_HERO)and BH7>0 then
set FPD=R2I(100*GetUnitState(CO7,UNIT_STATE_LIFE)/GetUnitState(CO7,UNIT_STATE_MAX_LIFE))
set FQD=DO8(DN8(R2I(100-FPD)/7,14),1)
if LO7(CO7)==false then
call HJ8(CO7,BH7*FQD*2)
call HO8(CO7,BH7*FQD*3)
if FPD<40 then
if FRD==false then
call TT7(UC7,"HasFX",true)
call TV7(UC7,"FX1",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\TrollBerserk\\HeadhunterWEAPONSLeft.mdl",CO7,"left weapon"))
call TV7(UC7,"FX2",AddSpecialEffectTarget("effects\\HeadhunterWEAPONSRight_NoSound.mdx",CO7,"right weapon"))
endif
else
if FRD==true then
call TT7(UC7,"HasFX",false)
call DestroyEffect(UH7(UC7,"FX1"))
call DestroyEffect(UH7(UC7,"FX2"))
endif
endif
endif
endif
set CO7=null
return false
endfunction
function FSD takes unit CO7,boolean A_9 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddCondition(t,Condition(function tQ))
call TU7(GetHandleId(t),"Hero",CO7)
call TT7(GetHandleId(t),"HasFX",false)
if A_9 then
set nj[GetPlayerId(GetOwningPlayer(CO7))]=t
endif
set t=null
endfunction
function FTD takes nothing returns boolean
if GetLearnedSkill()==1093685585 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093685585)==1 then
call FSD(GetTriggerUnit(),false)
endif
return false
endfunction
function R38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function FTD))
set t=null
endfunction
function FUD takes nothing returns nothing
local unit p5=GetEnumUnit()
local real l4=RF7(GetUnitX(p5),GetUnitY(p5),WK4,WM4)
if l4<WJ4 and IsUnitVisible(p5,GetOwningPlayer(WN4))==true then
set WI4=GetEnumUnit()
set WJ4=l4
endif
set p5=null
endfunction
function FVD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer UC7=GetUnitAbilityLevel(GetTriggerUnit(),1093752632)
local integer YL9=1093678936
local group g
local unit q5
if UC7==0 then
set UC7=GetUnitAbilityLevel(GetTriggerUnit(),1093752633)
set YL9=1093681484
endif
if m5==null then
set WI4=null
set WN4=p5
set WJ4=999999
set WK4=GetSpellTargetX()
set WM4=GetSpellTargetY()
set IN4=p5
set g=CX7()
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function FT8))
call ForGroup(g,function FUD)
call CW7(g)
set m5=WI4
set g=null
endif
if m5!=null then
set q5=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)
call LM7(q5,YL9)
call SetUnitAbilityLevel(q5,YL9,UC7)
call IssueTargetOrder(q5,"chainlightning",m5)
set q5=null
endif
set p5=null
set m5=null
endfunction
function FWD takes nothing returns boolean
if GetSpellAbilityId()==1093752632 or GetSpellAbilityId()==1093752633 then
call FVD()
endif
return false
endfunction
function MQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FWD))
set t=null
endfunction
function FXD takes unit EC8,unit O07 returns nothing
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(O07),GetUnitY(O07),0)
local integer H98=GetUnitAbilityLevel(EC8,1093685586)
local real CH9
local real FYD=0.5
if H98==0 then
set H98=GetUnitAbilityLevel(EC8,1093747251)
set FYD=0.65
endif
call LM7(H88,1093685589)
call SetUnitAbilityLevel(H88,1093685589,H98)
call IssueTargetOrder(H88,"slow",O07)
if H98==1 then
set CH9=0.35
elseif H98==2 then
set CH9=0.30
else
set CH9=0.25
endif
call HD8(EC8,EC8,ZG4,GetUnitState(EC8,UNIT_STATE_LIFE)*CH9)
call HD8(EC8,O07,ZG4,GetUnitState(O07,UNIT_STATE_LIFE)*FYD)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",EC8,"chest"))
call DestroyEffect(AddSpecialEffectTarget("effects\\LifeBreak.mdx",O07,"chest"))
set EC8=null
set O07=null
set H88=null
endfunction
function FZD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local real ZZ9=(LoadReal(L7,(OC7),(23)))
local real ZA9=(LoadReal(L7,(OC7),(24)))
local real x
local real y
local real FAD=GetUnitX(EC8)
local real FBD=GetUnitY(EC8)
local real ED8=GetUnitX(O07)
local real EE8=GetUnitY(O07)
local real Z_9=Atan2(EE8-FBD,ED8-FAD)
if GetUnitTypeId(EC8)==1160786520 then
call SetUnitAnimationByIndex(EC8,1)
else
call SetUnitAnimationByIndex(EC8,17)
endif
if GetTriggerEventId()==EVENT_WIDGET_DEATH or RF7(ZZ9,ZA9,ED8,EE8)>1400 or DV9(EC8)then
call SetUnitPathing(EC8,true)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call UnitRemoveAbility(EC8,1093686100)
call SetUnitTimeScale(EC8,1.0)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif RF7(FAD,FBD,ED8,EE8)<125 then
call SetUnitPathing(EC8,true)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call UnitRemoveAbility(EC8,1093686100)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call SetUnitTimeScale(EC8,1.0)
if O07!=null and LO7(O07)==false then
call IssueTargetOrder(EC8,"attack",O07)
call FXD(EC8,O07)
endif
else
call SetUnitPathing(EC8,false)
set ZZ9=ED8
set ZA9=EE8
call SaveReal(L7,(OC7),(23),((ZZ9)*1.0))
call SaveReal(L7,(OC7),(24),((ZA9)*1.0))
set x=FAD+15*Cos(Z_9)
set y=FBD+15*Sin(Z_9)
call SetUnitPosition(EC8,x,y)
call SetUnitFacing(EC8,Z_9*bj_RADTODEG)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function FCD takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.015,true)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerAddCondition(t,Condition(function FZD))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveReal(L7,(OC7),(23),((GetUnitX(O07))*1.0))
call SaveReal(L7,(OC7),(24),((GetUnitY(O07))*1.0))
call SaveEffectHandle(L7,(OC7),(175),(AddSpecialEffectTarget("war3mapImported\\LifeBreakCharge.mdx",EC8,"hand right alternate")))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffectTarget("war3mapImported\\LifeBreakCharge.mdx",EC8,"hand left alternate")))
call SetUnitPathing(EC8,false)
call LM7(EC8,1093686100)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093686100,false)
call SetUnitAnimationByIndex(EC8,17)
call SetUnitTimeScale(EC8,3.0)
set EC8=null
set O07=null
set t=null
endfunction
function F3D takes nothing returns boolean
if(GetSpellAbilityId()==1093685586 or GetSpellAbilityId()==1093747251)and CV7(GetSpellTargetUnit())==false then
call FCD()
endif
return false
endfunction
function R68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function F3D))
set t=null
call DE8(1093685589)
endfunction
function F6D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=UN7(UC7,"Level")
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
if GetTriggerEvalCount(t)>10 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect(UH7(UC7,"FX"))
call UnitRemoveAbility(m5,1093748533)
call UnitRemoveAbility(m5,1093748531)
call UnitRemoveAbility(m5,1093748534)
call UnitRemoveAbility(m5,1093748532)
call TN7(UC7)
call UA7(t)
else
call HD8(p5,m5,ZG4,(BH7*5+5)/ 2)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function FLD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=FN
local unit p5=fN
local unit m5=GetEnumUnit()
if BH7==1 then
call LM7(m5,1093748533)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093748533,false)
elseif BH7==2 then
call LM7(m5,1093748531)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093748531,false)
elseif BH7==3 then
call LM7(m5,1093748534)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093748534,false)
elseif BH7==4 then
call LM7(m5,1093748532)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093748532,false)
endif
call TV7(UC7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl",m5,"chest"))
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TQ7(UC7,"Level",BH7)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function F6D))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",GetUnitX(m5),GetUnitY(m5)))
set t=null
set p5=null
set m5=null
endfunction
function F1D takes unit p5,unit m5 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(p5,1093685048)
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local group g=CX7()
local group g2=CX7()
set FN=BH7
set fN=p5
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,300+25,Condition(function GV8))
call GroupEnumUnitsInRange(g2,x,y,300+25,Condition(function FL8))
call GroupAddGroup(g2,g)
call ForGroup(g,function FLD)
call CW7(g)
call CW7(g2)
set t=null
set g=null
set g2=null
endfunction
function F0D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local unit p5=U87(UC7,"Source")
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and(GetEventDamage()>40 or IsUnitType(m5,UNIT_TYPE_STRUCTURE)==true or GetUnitTypeId(m5)==1970107511 or GetUnitTypeId(m5)==1700946284)and UP7(GetHandleId(p5),"LiquidFire|Active")==true then
call F1D(p5,m5)
call TT7(GetHandleId(p5),"LiquidFire|Active",false)
call TR7(GetHandleId(p5),"LiquidFire|LastUsed",TimerGetElapsed(W)*1.0)
endif
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function F5D takes nothing returns boolean
local trigger t
local integer UC7
local unit m5
local unit p5
if GetAttacker()==U87(GetHandleId(GetTriggeringTrigger()),"LiquidAttacker")and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false then
set t=CreateTrigger()
set UC7=GetHandleId(t)
set m5=GetTriggerUnit()
set p5=GetAttacker()
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function F0D))
call TU7(UC7,"Target",m5)
call TU7(UC7,"Source",p5)
set m5=null
set p5=null
set t=null
endif
set t=null
set m5=null
set p5=null
return false
endfunction
function F2D takes nothing returns boolean
call TT7(GetHandleId(GetTriggerUnit()),"LiquidFire|Active",false)
call TR7(GetHandleId(GetTriggerUnit()),"LiquidFire|LastUsed",TimerGetElapsed(W)*1.0)
call UnitRemoveAbility(GetTriggerUnit(),1093748291)
call TN7(GetHandleId(GetTriggeringTrigger()))
call UA7(GetTriggeringTrigger())
return false
endfunction
function F_D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local real B37=(TimerGetElapsed(W))
local integer BH7=GetUnitAbilityLevel(CO7,1093685048)
local real A09=UO7(GetHandleId(CO7),"LiquidFire|LastUsed")
local boolean FD9=UP7(GetHandleId(CO7),"LiquidFire|Active")
if B37-A09>25-BH7*5 and FD9==false and LO7(CO7)==false then
call TT7(GetHandleId(CO7),"LiquidFire|Active",true)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function F2D))
call LM7(CO7,1093748291)
elseif FD9==false then
call UnitRemoveAbility(CO7,1093748291)
endif
set t=null
set CO7=null
return false
endfunction
function G4D takes unit CO7,boolean A_9 returns nothing
local trigger t=CreateTrigger()
local trigger t2=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer B49=GetHandleId(t2)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function F_D))
call TU7(UC7,"Hero",CO7)
call TR7(UC7,"LiquidFire|LastUsed",0)
call D18(t2,EVENT_PLAYER_UNIT_ATTACKED)
call TU7(B49,"LiquidAttacker",CO7)
call TriggerAddCondition(t2,Condition(function F5D))
if A_9 then
set nj[GetPlayerId(GetOwningPlayer(CO7))]=t
set Aj[GetPlayerId(GetOwningPlayer(CO7))]=t2
endif
set CO7=null
set t=null
set t2=null
endfunction
function G7D takes nothing returns boolean
if GetLearnedSkill()==1093685048 and GetUnitAbilityLevel(GetTriggerUnit(),1093685048)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call G4D(GetTriggerUnit(),false)
endif
return false
endfunction
function KR8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function G7D))
set t=null
endfunction
function G8D takes real x1,real y1,real x2,real y2,real x3,real y3,real x,real y returns boolean
local real G9D=(y-y1)*(x2-x1)-(x-x1)*(y2-y1)
local real GDD=(y-y3)*(x1-x3)-(x-x3)*(y1-y3)
local real GED=(y-y2)*(x3-x2)-(x-x2)*(y3-y2)
return(G9D*GDD>0)and(GED*GDD>0)
endfunction
function GFD takes nothing returns boolean
local real GGD=IJ4
local real GHD=IK4
local real GID=IM4
local real GJD=Zl
local real GKD=vL
local real GMD=eL
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and G8D(GGD,GHD,GID,GJD,GKD,GMD,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
endfunction
function GND takes real GOD,real G9D,real GDD returns nothing
local real GED=550
local real GPD=200
local real GQD=250
local real GRD=Asin((GQD-GPD)/ GED)
local real x=GPD/ Sin(GRD)
local real y=(GED+GQD+x)*Tan(GRD)
local real GGD=G9D+x*Cos((GOD-180)*bj_DEGTORAD)
local real GHD=GDD+x*Sin((GOD-180)*bj_DEGTORAD)
local real GID=(G9D+(GED+GQD)*Cos(GOD*bj_DEGTORAD))+y*Cos((GOD-90)*bj_DEGTORAD)
local real GJD=(GDD+(GED+GQD)*Sin(GOD*bj_DEGTORAD))+y*Sin((GOD-90)*bj_DEGTORAD)
local real GKD=(G9D+(GED+GQD)*Cos(GOD*bj_DEGTORAD))+y*Cos((GOD+90)*bj_DEGTORAD)
local real GMD=(GDD+(GED+GQD)*Sin(GOD*bj_DEGTORAD))+y*Sin((GOD+90)*bj_DEGTORAD)
set IJ4=GGD
set IK4=GHD
set IM4=GID
set Zl=GJD
set vL=GKD
set eL=GMD
endfunction
function GSD takes nothing returns nothing
local unit H88=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call LM7(H88,1093685057)
call IssueTargetOrder(H88,"frostnova",GetEnumUnit())
set H88=null
endfunction
function GTD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local player p=UD7(UC7,"p")
local unit CO7=U87(UC7,"Hero")
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
local real Y5=UO7(UC7,"TargetX")
local real Z5=UO7(UC7,"TargetY")
local integer BH7=UN7(UC7,"Level")
local unit H88
if GetTriggerEvalCount(t)>1 then
call SetUnitAnimation(CO7,"stand")
call TN7(UC7)
call UA7(t)
else
call SetUnitAnimation(CO7,"spell")
set H88=CreateUnit(p,1697656901,x,y,0)
call LM7(H88,1093685059)
call SetUnitAbilityLevel(H88,1093685059,BH7)
call IssuePointOrder(H88,"breathoffrost",Y5,Z5)
endif
set t=null
set p=null
set CO7=null
set H88=null
return false
endfunction
function GUD takes unit u,player p,integer BH7,location l,real x,real y returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TA7(UC7,"p",p)
call TR7(UC7,"x",(x)*1.0)
call TR7(UC7,"y",(y)*1.0)
call TR7(UC7,"TargetX",GetLocationX(l)*1.0)
call TR7(UC7,"TargetY",GetLocationY(l)*1.0)
call TQ7(UC7,"Level",BH7)
call TU7(UC7,"Hero",u)
call TriggerRegisterTimerEvent(t,0.3,true)
call TriggerAddCondition(t,Condition(function GTD))
set t=null
endfunction
function GVD takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local integer BH7=GetUnitAbilityLevel(CO7,1093685047)
local real x=GetUnitX(CO7)
local real y=GetUnitY(CO7)
local location l
local unit H88
local group g=CX7()
if GetSpellTargetUnit()==null then
set l=GetSpellTargetLoc()
else
set l=GetUnitLoc(GetSpellTargetUnit())
endif
call GND(bj_RADTODEG*Atan2(GetLocationY(l)-y,GetLocationX(l)-x),x,y)
call GroupEnumUnitsInRange(g,x,y,2000,Condition(function GFD))
call ForGroup(g,function GSD)
call CW7(g)
set H88=CreateUnit(GetOwningPlayer(CO7),1697656901,x,y,0)
call LM7(H88,1093685058)
call SetUnitAbilityLevel(H88,1093685058,BH7)
call IssuePointOrder(H88,"breathoffire",GetLocationX(l),GetLocationY(l))
call GUD(CO7,GetOwningPlayer(CO7),BH7,l,x+50*Cos(Atan2(GetLocationY(l)-y,GetLocationX(l)-x)),y+50*Sin(Atan2(GetLocationY(l)-y,GetLocationX(l)-x)))
call RemoveLocation(l)
set CO7=null
set l=null
set g=null
set H88=null
endfunction
function GWD takes nothing returns boolean
if GetSpellAbilityId()==1093685047 then
call GVD()
endif
return false
endfunction
function KQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GWD))
call DE8(1093685058)
call DE8(1093685059)
call DE8(1093685057)
set t=null
endfunction
function GXD takes nothing returns nothing
local unit EC8=IO7
local unit O07=GetEnumUnit()
local unit GYD
if IsUnitInGroup(O07,IN7)==false then
call GroupAddUnit(IN7,O07)
call H78(EC8,O07,IP7)
call HD8(EC8,O07,ZG4,25*IQ7)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",GetUnitX(O07),GetUnitY(O07)))
endif
endfunction
function GZD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local real x0=(LoadReal(L7,(OC7),(6)))
local real y0=(LoadReal(L7,(OC7),(7)))
local real a=(LoadReal(L7,(OC7),(137)))
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer CP8=GetTriggerEvalCount(t)
local real x
local real y
local group g
local integer i
local group GAD=(LoadGroupHandle(L7,(OC7),(187)))
local integer H98=GetUnitAbilityLevel(EC8,1093685046)
set i=0
loop
exitwhen i>10
set x=x0+100*i*Cos(a*bj_DEGTORAD)
set y=y0+100*i*Sin(a*bj_DEGTORAD)
if ModuloInteger(CP8,10)==0 then
endif
set IN4=EC8
set IO7=EC8
set IN7=GAD
set IP7=(0.6+0.4*H98)-(CP8*0.05)
set IQ7=H98
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,150+25,Condition(function FT8))
call ForGroup(g,function GXD)
call CW7(g)
set i=i+1
endloop
if CP8==20*(0.6+0.4*H98)then
call CW7(GAD)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set g=null
set GAD=null
return false
endfunction
function GBD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local real x0=(LoadReal(L7,(OC7),(6)))
local real y0=(LoadReal(L7,(OC7),(7)))
local real a=(LoadReal(L7,(OC7),(137)))
local integer CP8=GetTriggerEvalCount(t)
local real x=x0+100*CP8*Cos(a*bj_DEGTORAD)
local real y=y0+100*CP8*Sin(a*bj_DEGTORAD)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer H98=GetUnitAbilityLevel(EC8,1093685046)
local ubersplat TD9
local integer i
if CP8<10 then
call SaveEffectHandle(L7,(OC7),(609+CP8),(AddSpecialEffect("effects\\IcePath.mdx",x,y)))
set TD9=CreateUbersplat(x,y,"IPTH",255,255,255,255,false,false)
call SetUbersplatRenderAlways(TD9,true)
call SaveUbersplatHandle(L7,(OC7),(760+CP8),(TD9))
endif
if CP8==10 then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function GZD))
call SaveReal(L7,(OC7),(6),((x0)*1.0))
call SaveReal(L7,(OC7),(7),((y0)*1.0))
call SaveReal(L7,(OC7),(137),((a)*1.0))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveGroupHandle(L7,(OC7),(187),(CX7()))
call TriggerEvaluate(t)
elseif CP8>=(0.4+0.6+0.4*H98)/.05 then
set i=0
loop
exitwhen i==10
call DestroyEffect((LoadEffectHandle(L7,(OC7),(609+i))))
call DestroyUbersplat((LoadUbersplatHandle(L7,(OC7),(760+i))))
set i=i+1
endloop
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
return false
endfunction
function GCD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local real a=PP7(x,y,GetSpellTargetX(),GetSpellTargetY())
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function GBD))
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
call SaveReal(L7,(OC7),(137),((a)*1.0))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call TriggerEvaluate(t)
set t=null
set EC8=null
endfunction
function G3D takes nothing returns boolean
if GetSpellAbilityId()==1093685046 then
call GCD()
endif
return false
endfunction
function KS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function G3D))
set t=null
endfunction
function G6D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local integer BH7=UN7(UC7,"Level")
local real a=UO7(UC7,"a")
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
local integer id=GetPlayerId(GetOwningPlayer(p5))
local integer B78=GetTriggerEvalCount(t)
local real GLD=x+150*B78*Cos(a)
local real G1D=y+150*B78*Sin(a)
local integer G0D=6
if GetUnitAbilityLevel(p5,1093685045)==0 then
set G0D=9
endif
if GetPlayerController(GetOwningPlayer(RW4[id]))==MAP_CONTROL_COMPUTER then
call UnitAddAbility(RW4[GetPlayerId(GetOwningPlayer(p5))],1093685061)
call SetUnitAbilityLevel(RW4[GetPlayerId(GetOwningPlayer(p5))],1093685061,BH7)
endif
call IssuePointOrder(RW4[id],"flamestrike",GLD,G1D)
if B78==(G0D)then
call TN7(UC7)
call UA7(t)
call SetUnitAnimation(p5,"stand")
endif
set t=null
set p5=null
return false
endfunction
function G5D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local integer BH7=GetUnitAbilityLevel(p5,1093685045)
local integer o6=1093685061
if BH7==0 then
set BH7=GetUnitAbilityLevel(p5,1093747249)
set o6=1093747250
endif
call RemoveLocation(l)
call SetUnitAnimation(p5,"spell")
set RW4[GetPlayerId(GetOwningPlayer(p5))]=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
call LM7(RW4[GetPlayerId(GetOwningPlayer(p5))],o6)
call SetUnitAbilityLevel(RW4[GetPlayerId(GetOwningPlayer(p5))],o6,BH7)
call TQ7(UC7,"Level",BH7)
call TR7(UC7,"x",(GetUnitX(p5))*1.0)
call TR7(UC7,"y",(GetUnitY(p5))*1.0)
call TR7(UC7,"a",(a)*1.0)
call TU7(UC7,"Source",p5)
if o6==1093685061 then
call TriggerRegisterTimerEvent(t,0.1,true)
else
call TriggerRegisterTimerEvent(t,0.05,true)
endif
call TriggerAddCondition(t,Condition(function G6D))
set t=null
set p5=null
set l=null
endfunction
function G2D takes nothing returns boolean
if GetSpellAbilityId()==1093685045 or GetSpellAbilityId()==1093747249 then
call G5D()
endif
return false
endfunction
function KT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function G2D))
call DE8(1093685061)
set t=null
endfunction
function G_D takes nothing returns boolean
return GetUnitTypeId(GetSummonedUnit())==1865429059 or GetUnitTypeId(GetSummonedUnit())==1865429319 or GetUnitTypeId(GetSummonedUnit())==1865429320 or GetUnitTypeId(GetSummonedUnit())==1865429321
endfunction
function H4D takes nothing returns nothing
call SetUnitAbilityLevelSwapped(1093678392,GetSummonedUnit(),GetUnitAbilityLevelSwapped(1093678135,GetSummoningUnit()))
endfunction
function MR8 takes nothing returns nothing
set dT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dT,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(dT,Condition(function G_D))
call TriggerAddAction(dT,function H4D)
endfunction
function H7D takes unit CO7,unit m5 returns nothing
local real a=GetRandomReal(0,360)
local real x=GetUnitX(m5)+50*Cos(a*bj_DEGTORAD)
local real y=GetUnitY(m5)+50*Sin(a*bj_DEGTORAD)
local real H8D=GetRandomReal(175,250)
call SetUnitPosition(CO7,x,y)
call SetUnitFacing(CO7,bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(CO7),GetUnitX(m5)-GetUnitX(CO7)))
call SetUnitAnimation(CO7,"Attack")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",CO7,"chest"))
if Z67(GetOwningPlayer(m5))==false and IsUnitType(m5,UNIT_TYPE_ANCIENT)==false then
set H8D=99999
endif
call HD8(CO7,m5,ZH4,H8D)
call IssueTargetOrder(CO7,"attack",m5)
endfunction
function H9D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local unit m5=U87(UC7,"Target")
call H7D(CO7,m5)
call TN7(UC7)
call UA7(t)
set t=null
set CO7=null
set m5=null
return false
endfunction
function HDD takes unit CO7 returns nothing
local group g=CX7()
set IN4=CO7
call GroupEnumUnitsInRange(g,GetUnitX(CO7),GetUnitY(CO7),450,Condition(function FB8))
set IN4=GroupPickRandomUnit(g)
if IN4!=null then
call H7D(CO7,IN4)
endif
call CW7(g)
set g=null
endfunction
function HED takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local unit H88=U87(UC7,"Caster")
local integer Tq=UN7(UC7,"Limit")
local integer TQ=UN7(UC7,"BFLevel")
local integer Rd=UN7(UC7,"Counter")
local unit Tr
call SetUnitPosition(H88,GetUnitX(CO7),GetUnitY(CO7))
if Rd>Tq then
call KillUnit(H88)
call DestroyEffect(UH7(UC7,"FX"))
call TN7(UC7)
call UA7(t)
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),1093678407,true)
call SetUnitPathing(CO7,true)
call SetUnitInvulnerable(CO7,false)
call UY7(CO7,"Omnislashing")
call SetUnitVertexColor(CO7,255,255,255,255)
else
call TQ7(UC7,"Counter",Rd+1)
call HDD(CO7)
if IN4==null then
call KillUnit(H88)
call DestroyEffect(UH7(UC7,"FX"))
call TN7(UC7)
call UA7(t)
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),1093678407,true)
call SetUnitPathing(CO7,true)
call SetUnitInvulnerable(CO7,false)
call UY7(CO7,"Omnislashing")
call SetUnitVertexColor(CO7,255,255,255,255)
endif
endif
set t=null
set CO7=null
set Tr=null
set H88=null
return false
endfunction
function HFD takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BH7=GetUnitAbilityLevel(CO7,1093684529)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer TQ=GetUnitAbilityLevel(CO7,1093678407)
local player p=GetOwningPlayer(CO7)
local integer X57=3
local unit H88=CreateUnit(GetOwningPlayer(CO7),1865429060,GetUnitX(CO7),GetUnitY(CO7),0)
if BH7==0 then
set BH7=GetUnitAbilityLevel(CO7,1093747032)
if BH7==1 then
set X57=6
elseif BH7==2 then
set X57=9
elseif BH7==3 then
set X57=12
endif
elseif BH7==2 then
set X57=6
elseif BH7==3 then
set X57=9
endif
call SetPlayerAbilityAvailable(p,1093678407,false)
call SetUnitVertexColor(CO7,255,255,255,125)
call SetUnitPathing(CO7,false)
call SetUnitInvulnerable(CO7,true)
call UW7(CO7,"Omnislashing")
call TU7(UC7,"Hero",CO7)
call TU7(UC7,"Target",m5)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function H9D))
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TU7(UC7,"Hero",CO7)
call TU7(UC7,"Caster",H88)
call TQ7(UC7,"Limit",X57)
call TQ7(UC7,"BFLevel",TQ)
call TQ7(UC7,"Counter",2)
call TV7(UC7,"FX",AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl",CO7,"weapon"))
call TriggerRegisterTimerEvent(t,0.4,true)
call TriggerAddCondition(t,Condition(function HED))
set CO7=null
set m5=null
set t=null
set p=null
endfunction
function HGD takes nothing returns boolean
if GetSpellAbilityId()==1093684529 or GetSpellAbilityId()==1093747032 then
call HFD()
endif
return false
endfunction
function HHD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call SetUnitAnimationByIndex(EC8,4)
set t=null
set EC8=null
return false
endfunction
function HID takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function HHD))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=null
set EC8=null
endfunction
function HJD takes nothing returns boolean
if GetSpellAbilityId()==1093684529 or GetSpellAbilityId()==1093747032 then
call HID()
endif
return false
endfunction
function MS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HGD))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function HJD))
set t=null
endfunction
function HKD takes integer BH7 returns integer
if BH7==1 then
return 1093742682
elseif BH7==2 then
return 1093742897
elseif BH7==3 then
return 1093742681
elseif BH7==4 then
return 1093742896
endif
return 0
endfunction
function HMD takes integer BH7 returns integer
if BH7==1 then
return 1110456653
elseif BH7==2 then
return 1110456654
elseif BH7==3 then
return 1110456655
elseif BH7==4 then
return 1110456652
endif
return 0
endfunction
function HND takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local integer BH7=UN7(UC7,"Level")
local real xN=UO7(UC7,"LastX")
local real xo=UO7(UC7,"LastY")
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local real d=SquareRoot((xN-x)*(xN-x)+(xo-y)*(xo-y))
local real vB=(0.00030+BH7*0.00005)*d*GetUnitState(m5,UNIT_STATE_MAX_MANA)
local integer QI=GetTriggerEvalCount(t)
local unit H88
if CK7(m5)==true then
set vB=0
endif
if d>300 then
set vB=0
endif
if vB>1 and ModuloInteger(GetTriggerEvalCount(t),3)==0 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl",m5,"chest"))
endif
if vB>0 then
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-vB)
endif
call TR7(UC7,"LastX",x)
call TR7(UC7,"LastY",y)
if GetTriggerEventId()==EVENT_UNIT_DEATH or QI==(BH7+3)*10 then
call UnitRemoveAbility(m5,HKD(BH7))
call UnitRemoveAbility(m5,HMD(BH7))
call DestroyEffect(UH7(UC7,"FX"))
call TN7(UC7)
call UA7(t)
elseif GetUnitState(m5,UNIT_STATE_MANA)<1 then
call H78(U87(UC7,"Source"),m5,1+0.3*BH7)
set H88=null
call UnitRemoveAbility(m5,HKD(BH7))
call UnitRemoveAbility(m5,HMD(BH7))
call DestroyEffect(UH7(UC7,"FX"))
call TN7(UC7)
call UA7(t)
endif
set t=null
set m5=null
return false
endfunction
function HOD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(p5,1093742680)
call LM7(m5,HKD(BH7))
call TU7(UC7,"Target",m5)
call TU7(UC7,"Source",p5)
call TQ7(UC7,"Level",BH7)
call TR7(UC7,"LastX",GetUnitX(m5))
call TR7(UC7,"LastY",GetUnitY(m5))
call TV7(UC7,"FX",AddSpecialEffectTarget("effects\\BasicWaterFlash.mdx",m5,"chest"))
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function HND))
set p5=null
set m5=null
set t=null
endfunction
function HPD takes nothing returns boolean
if GetSpellAbilityId()==1093742680 and CV7(GetSpellTargetUnit())==false then
call HOD()
endif
return false
endfunction
function MU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HPD))
set t=null
endfunction
function HQD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local real Tw=UO7(UC7,"Mana")
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)+Tw)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl",m5,"origin"))
call TN7(UC7)
call UA7(t)
set m5=null
set t=null
return false
endfunction
function HRD takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TU7(UC7,"Target",m5)
call TR7(UC7,"Mana",75*GetUnitAbilityLevel(CO7,1093742898))
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function HQD))
set t=null
set CO7=null
set m5=null
endfunction
function HSD takes nothing returns boolean
if GetSpellAbilityId()==1093742898 then
call HRD()
endif
return false
endfunction
function MV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HSD))
set t=null
endfunction
function HTD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit HUD=(LoadUnitHandle(L7,(OC7),(19)))
local real Z_9=(LoadReal(L7,(OC7),(13)))
local integer HVD=(LoadInteger(L7,(OC7),(34)))
local real HWD=GetUnitX(HUD)-50*Cos(Z_9)
local real HXD=GetUnitY(HUD)-50*Sin(Z_9)
local unit H88=CreateUnit(GetOwningPlayer(HUD),1697656901,HWD,HXD,0)
local real x=GetUnitX(H88)+50*Cos(Z_9)
local real y=GetUnitY(H88)+50*Sin(Z_9)
local real x2=x+(300+50*HVD)*Cos(Z_9)
local real y2=y+(300+50*HVD)*Sin(Z_9)
call LM7(H88,1093679159)
call SetUnitAbilityLevel(H88,1093679159,HVD)
call IssuePointOrder(H88,"breathoffire",x,y)
call KillUnit(HUD)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set H88=null
set t=null
return false
endfunction
function HYD takes unit HUD,integer HVD,real Z_9 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function HTD))
call SaveUnitHandle(L7,(OC7),(19),(HUD))
call SaveReal(L7,(OC7),(13),((Z_9)*1.0))
call SaveInteger(L7,(OC7),(34),(HVD))
set t=null
endfunction
function HZD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer iX=UN7(UC7,"Count")
local integer HAD=iX-1
local real RK=UO7(UC7,"Angle")
local unit oA=U87(UC7,"Caster")
local unit CO7=U87(UC7,"Hero")
local integer BH7=UN7(UC7,"Level")
local integer HBD=2+BH7*2
local boolean HCD=UP7(UC7,"SpiritCast")
local unit H3D
if GetTriggerEventId()!=EVENT_UNIT_SPELL_ENDCAST then
call TQ7(UC7,"Count",iX+1)
endif
call SetUnitScale(oA,I2R(100+20*HAD)/ 100,I2R(100+20*HAD)/ 100,I2R(100+20*HAD)/ 100)
if(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and HCD==false)or(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()==1093743153)or HAD==HBD then
if HCD then
set H3D=U87(UC7,"Dummy")
call ShowUnit(H3D,false)
call UnitApplyTimedLife(H3D,1112820806,1)
endif
call TN7(UC7)
call UA7(t)
if(LoadInteger(L7,(GetHandleId(CO7)),(704)))==0 or(LoadInteger(L7,(GetHandleId(CO7)),(704)))==1093679157 then
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),1093679157,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),1093743153,false)
call UnitRemoveAbility(CO7,1093743153)
call HYD(oA,HAD,RK)
endif
set oA=CreateUnit(GetOwningPlayer(oA),1747990093,GetUnitX(oA)+150*(HAD)*Cos(RK),GetUnitY(oA)+150*(HAD)*Sin(RK),0)
call UnitApplyTimedLife(oA,1112820806,7)
set t=null
set oA=null
set CO7=null
set H3D=null
return false
endfunction
function H6D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
call IssueImmediateOrder(CO7,"stop")
call TN7(UC7)
call UA7(t)
set t=null
set CO7=null
return false
endfunction
function HLD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real RK=Atan2(GetLocationY(l)-GetUnitY(CO7),GetLocationX(l)-GetUnitX(CO7))
local real x
local real y
local unit oA
local unit H3D
local boolean HCD=false
if GetLocationY(l)==GetUnitY(CO7)and GetLocationX(l)==GetUnitX(CO7)then
set RK=GetUnitFacing(CO7)*bj_DEGTORAD
endif
set x=GetUnitX(CO7)+150*Cos(RK)
set y=GetUnitY(CO7)+150*Sin(RK)
set oA=CreateUnit(GetOwningPlayer(CO7),1966092362,x,y,RK*bj_RADTODEG)
call RemoveLocation(l)
if GetUnitTypeId(CO7)==1211119192 or GetUnitTypeId(CO7)==1211119193 or GetUnitTypeId(CO7)==1211119191 then
set HCD=true
endif
call TT7(UC7,"SpiritCast",HCD)
call TU7(UC7,"Hero",CO7)
call TU7(UC7,"Caster",oA)
call TQ7(UC7,"Count",1)
call TQ7(UC7,"Level",GetUnitAbilityLevel(CO7,1093679157))
call TR7(UC7,"Angle",RK)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function HZD))
if HCD then
set H3D=CreateUnit(GetOwningPlayer(CO7),1747990106,GetUnitX(CO7),GetUnitY(CO7),RK*bj_RADTODEG)
call SetUnitX(H3D,GetUnitX(CO7))
call SetUnitY(H3D,GetUnitY(CO7))
call SetUnitAnimation(H3D,"spell")
call QueueUnitAnimation(H3D,"spell")
call QueueUnitAnimation(H3D,"spell")
call SetUnitVertexColor(H3D,255,255,255,75)
call TU7(UC7,"Dummy",H3D)
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function H6D))
call TU7(UC7,"Hero",CO7)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),1093679157,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),1093743153,true)
call E28(CO7,1093743153,1,6)
set t=null
set CO7=null
set oA=null
set H3D=null
set l=null
endfunction
function H1D takes nothing returns boolean
if GetSpellAbilityId()==1093679157 then
call HLD()
endif
return false
endfunction
function MW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function H1D))
set t=null
endfunction
function H0D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local real x1
local real y1
local real x2
local real y2
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetEventDamage()>2 and Z67(GetOwningPlayer(GetEventDamageSource())))then
call DestroyEffect(UH7(UC7,"FX1"))
call DestroyEffect(UH7(UC7,"FX2"))
call TN7(UC7)
call UA7(t)
elseif GetTriggerEventId()!=EVENT_UNIT_DAMAGED and GetTriggerEventId()!=EVENT_UNIT_DEATH then
set x1=GetUnitX(p5)
set y1=GetUnitY(p5)
set x2=GetUnitX(m5)
set y2=GetUnitY(m5)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",x1,y1))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",x2,y2))
call U67(m5,"4410",1)
call SetUnitPosition(m5,GetUnitX(p5),GetUnitY(p5))
call DestroyEffect(UH7(UC7,"FX1"))
call DestroyEffect(UH7(UC7,"FX2"))
call TN7(UC7)
call UA7(t)
call AX7(m5)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function H5D takes nothing returns nothing
local unit p5=GetEnumUnit()
local real l4=RF7(GetUnitX(p5),GetUnitY(p5),WS4,WT4)
if l4<WR4 then
set WQ4=GetEnumUnit()
set WR4=l4
endif
set p5=null
endfunction
function H2D takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local unit p5=GetTriggerUnit()
local trigger t
local integer UC7
local real Hk
local group g
if m5==null then
set WQ4=null
set WR4=999999
set WS4=GetSpellTargetX()
set WT4=GetSpellTargetY()
set IN4=p5
set g=CX7()
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function GO8))
call GroupRemoveUnit(g,p5)
call ForGroup(g,function H5D)
call CW7(g)
set m5=WQ4
set g=null
endif
if GetSpellAbilityId()==1093742677 then
set Hk=5
elseif GetSpellAbilityId()==1093742937 then
set Hk=4
elseif GetSpellAbilityId()==1093742938 then
set Hk=3
elseif GetSpellAbilityId()==1093750321 then
set Hk=3
endif
if m5!=null then
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function H0D))
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TV7(UC7,"FX1",AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",p5,"origin"))
call TV7(UC7,"FX2",AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",m5,"origin"))
endif
set m5=null
set p5=null
set t=null
endfunction
function H_D takes nothing returns boolean
if GetSpellAbilityId()==1093742677 or GetSpellAbilityId()==1093742937 or GetSpellAbilityId()==1093742938 then
call H2D()
endif
return false
endfunction
function I7D takes nothing returns boolean
if GetSpellAbilityId()==1093742677 or GetSpellAbilityId()==1093742937 or GetSpellAbilityId()==1093742938 then
if GetSpellTargetUnit()!=null and UP7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),BB7(1848652600))
endif
endif
return false
endfunction
function MX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function H_D))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function I7D))
set t=null
endfunction
function I8D takes nothing returns nothing
local unit m5=GetEnumUnit()
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local real a=Atan2(y-tN,x-SN)
set x=D78(x+25*Cos(a))
set y=D88(y+25*Sin(a))
call D28(x,y,150)
call SetUnitX(m5,x)
call SetUnitY(m5,y)
set m5=null
endfunction
function I9D takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit H88=CreateUnit(IR4,1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LM7(H88,1093742679)
call SetUnitAbilityLevel(H88,1093742679,pN)
call IssueTargetOrder(H88,"drunkenhaze",m5)
set m5=null
set H88=null
endfunction
function IDD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local player p=UD7(UC7,"p")
local real t5=UO7(UC7,"SourceX")
local real w5=UO7(UC7,"SourceY")
local integer o6=UN7(UC7,"AbilityID")
local group g=UG7(UC7,"g")
local integer B78=GetTriggerEvalCount(t)
set SN=t5
set tN=w5
call ForGroup(g,function I8D)
if B78==10 then
if o6==1093742936 then
set pN=1
elseif o6==1093742934 then
set pN=2
else
set pN=3
endif
set IR4=p
call ForGroup(g,function I9D)
call CW7(g)
call TN7(UC7)
call UA7(t)
endif
set t=null
set p=null
set g=null
return false
endfunction
function IED takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local player p=UD7(UC7,"p")
local real t5=UO7(UC7,"SourceX")
local real w5=UO7(UC7,"SourceY")
local integer o6=UN7(UC7,"AbilityID")
local group g=UG7(UC7,"g")
call UA7(t)
call TN7(UC7)
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.04,true)
call TriggerAddCondition(t,Condition(function IDD))
call TA7(UC7,"p",p)
call TR7(UC7,"SourceX",t5*1.0)
call TR7(UC7,"SourceY",w5*1.0)
call TC7(UC7,"g",g)
call TQ7(UC7,"AbilityID",o6)
set t=null
set p=null
set g=null
return false
endfunction
function IFD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local group g=CX7()
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
call KillUnit(CreateUnit(GetOwningPlayer(p5),1747990096,x,y,0))
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,700,Condition(function F_8))
call TriggerRegisterTimerEvent(t,0.4,false)
call TriggerAddCondition(t,Condition(function IED))
call TA7(UC7,"p",GetOwningPlayer(GetTriggerUnit()))
call TR7(UC7,"SourceX",(x)*1.0)
call TR7(UC7,"SourceY",(y)*1.0)
call TC7(UC7,"g",g)
call TQ7(UC7,"AbilityID",GetSpellAbilityId())
call RemoveLocation(l)
set l=null
set t=null
set g=null
set p5=null
endfunction
function IGD takes nothing returns boolean
if GetSpellAbilityId()==1093742936 or GetSpellAbilityId()==1093742934 or GetSpellAbilityId()==1093742935 then
call IFD()
endif
return false
endfunction
function MY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IGD))
set t=null
endfunction
function IHD takes unit u returns boolean
return GetUnitTypeId(u)==1966092345
endfunction
function IID takes nothing returns boolean
if IHD(GetFilterUnit())or GF8()then
if LoadInteger(L7,tl,GetHandleId(GetFilterUnit()))<IH4 then
return true
endif
endif
return false
endfunction
function IJD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local integer IKD=UN7(UC7,"LucentLevel")
local integer Tq=UN7(UC7,"Limit")
local integer IMD=UN7(UC7,"TargetLimit")
local group g=CX7()
local real x=GetUnitX(CO7)
local real y=GetUnitY(CO7)
local unit O07
local real r1=GetRandomInt(200,350)
local real r2=GetRandomInt(200,350)
if GetRandomInt(1,2)==1 then
set r1=-1*r1
set r2=-1*r2
endif
set IN4=CO7
set IH4=IMD
set tl=GetHandleId(t)
call GroupEnumUnitsInRange(g,x,y,700,Condition(function IID))
set O07=GroupPickRandomUnit(g)
call CW7(g)
if LO7(CO7)==false and O07!=null and IHD(O07)==false then
call SaveInteger(L7,tl,GetHandleId(O07),LoadInteger(L7,tl,GetHandleId(O07))+1)
call DY8("effects\\Eclipse.mdx",O07,"origin",3)
call HD8(CO7,O07,ZG4,IKD*75)
elseif LO7(CO7)==false then
set x=x+GetRandomInt(-350,350)
set y=y+GetRandomInt(-350,350)
call DZ8("effects\\Eclipse.mdx",x,y,1.5)
endif
if(GetTriggerEvalCount(t)+1)==Tq then
call TN7(UC7)
call UA7(t)
endif
set t=null
set CO7=null
set g=null
set O07=null
return false
endfunction
function IND takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer Tq
local integer IKD=GetUnitAbilityLevel(CC7,1093678130)
local integer IMD
local unit H88=CreateUnit(GetOwningPlayer(CC7),1697656901,GetUnitX(CC7),GetUnitY(CC7),0)
if IKD==0 and GetUnitTypeId(CC7)!=1160785973 then
set IKD=4
endif
call LM7(H88,1093751862)
if GetSpellAbilityId()==1093678388 then
set Tq=1+3*GetUnitAbilityLevel(CC7,1093678388)
set IMD=4
else
set Tq=4*GetUnitAbilityLevel(CC7,1093677141)
set IMD=6
endif
call TQ7(UC7,"LucentLevel",IKD)
call TQ7(UC7,"Limit",Tq)
call TQ7(UC7,"TargetLimit",IMD)
call TU7(UC7,"Hero",CC7)
call TriggerRegisterTimerEvent(t,0.6,true)
call TriggerAddCondition(t,Condition(function IJD))
call TriggerEvaluate(t)
call IssueImmediateOrderById(H88,852621)
set t=null
set CC7=null
set H88=null
endfunction
function IOD takes nothing returns boolean
if GetSpellAbilityId()==1093678388 or GetSpellAbilityId()==1093677141 then
call IND()
endif
return false
endfunction
function MZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IOD))
set t=null
endfunction
function IPD takes nothing returns boolean
if GetLearnedSkill()==1093678129 then
if GetUnitAbilityLevel(GetTriggerUnit(),1093678129)==4 then
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1382378855,5)
else
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1382378855,GetUnitAbilityLevel(GetTriggerUnit(),1093678129))
endif
elseif GetLearnedSkill()==1093678642 then
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1378889801,1)
endif
return false
endfunction
function MA8 takes nothing returns nothing
set du=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(du,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(du,Condition(function IPD))
endfunction
function IQD takes nothing returns boolean
return GetSpellAbilityId()==1093684053
endfunction
function IRD takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function ISD takes nothing returns nothing
call LM7(GetEnumUnit(),1093684052)
call SetUnitAbilityLevel(GetEnumUnit(),1093684052,E8)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.mdl",GetEnumUnit(),"chest"))
endfunction
function ITD takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),1093684052)
endfunction
function IUD takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UC7=GetHandleId(t)
local group IB8=UG7(UC7,"Group")
call ForGroup(IB8,function ITD)
call CW7(IB8)
call Mv(t)
set t=null
set IB8=null
endfunction
function IVD takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local boolexpr hP=Condition(function IRD)
local group IB8=CX7()
local timer t=CreateTimer()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(CO7,1093684053)
local real EWD=15
set E8=BH7
call GroupEnumUnitsInRange(IB8,0,0,9999,hP)
call ForGroup(IB8,function ISD)
call DestroyBoolExpr(hP)
call TC7(UC7,"Group",IB8)
call TimerStart(t,EWD,false,function IUD)
set CO7=null
set hP=null
set IB8=null
set t=null
endfunction
function RI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IQD))
call TriggerAddAction(t,function IVD)
set t=null
endfunction
function IWD takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl",GetEnumUnit(),"origin"))
endfunction
function IXD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local unit m5=U87(UC7,"Target")
call HD8(CO7,m5,ZG4,0.75*GetUnitAbilityLevel(CO7,1093684054)*75)
call TN7(UC7)
call UA7(t)
set t=null
set CO7=null
set m5=null
return false
endfunction
function IYD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local group g=CX7()
local unit m5=U87(UC7,"Target")
call DestroyEffect(UH7(UC7,"FX"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl",m5,"origin"))
call TN7(UC7)
call UA7(t)
call CW7(g)
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TU7(UC7,"Hero",CO7)
call TU7(UC7,"Target",m5)
call TriggerRegisterTimerEvent(t,.5,false)
call TriggerAddCondition(t,Condition(function IXD))
set t=null
set CO7=null
set g=null
set m5=null
return false
endfunction
function ug takes nothing returns nothing
call HD8(IN4,GetEnumUnit(),ZG4,IJ4)
endfunction
function uG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local group g=UG7(UC7,"g")
set IJ4=GetUnitAbilityLevel(CO7,1093684054)*75
set IN4=CO7
call ForGroup(g,function ug)
call CW7(g)
call TN7(UC7)
call UA7(t)
set t=null
set CO7=null
set g=null
return false
endfunction
function uh takes nothing returns nothing
local real in=Ma(GetTriggerUnit(),GetEnumUnit())
if in>650 then
else
call GroupAddUnit(IQ4,GetEnumUnit())
endif
endfunction
function IZD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=GetTriggerUnit()
local group g=CX7()
local unit m5
set IN4=CO7
set IQ4=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(CO7),GetUnitY(CO7),900,Condition(function F28))
call ForGroup(g,function uh)
call CW7(g)
set g=IQ4
call ForGroup(g,function IWD)
call TC7(UC7,"g",g)
call TU7(UC7,"Hero",CO7)
call TriggerRegisterTimerEvent(t,.5,false)
call TriggerAddCondition(t,Condition(function uG))
set IN4=CO7
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(CO7),GetUnitY(CO7),200,Condition(function F28))
set m5=GroupPickRandomUnit(g)
call CW7(g)
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TU7(UC7,"Hero",CO7)
call TU7(UC7,"Target",m5)
call TV7(UC7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl",CO7,"origin"))
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function IYD))
set t=null
set g=null
set CO7=null
set m5=null
endfunction
function IAD takes nothing returns boolean
if GetSpellAbilityId()==1093684054 then
call IZD()
endif
return false
endfunction
function RJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IAD))
set t=null
endfunction
function IBD takes nothing returns boolean
return GetSpellAbilityId()==1093684280
endfunction
function uj takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false
endfunction
function uJ takes real uk,real uK,real iN,real io returns integer
local real in=SquareRoot((iN-uk)*(iN-uk)+(io-uK)*(io-uK))
return DN8(R2I(in/150),10)
endfunction
function ul takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local unit IJ=U87(UC7,"Projectile")
local real hN=UO7(UC7,"TargetX")
local real ho=UO7(UC7,"TargetY")
local real RK=UO7(UC7,"Angle")
local real iN=GetUnitX(IJ)
local real io=GetUnitY(IJ)
local real Il=D78(GetUnitX(IJ)+30*Cos(RK))
local real IL=D88(GetUnitY(IJ)+30*Sin(RK))
local boolexpr hP=Condition(function uj)
local group IB8=CX7()
local unit oA
local unit m5
local real uk
local real uK
call SetUnitX(IJ,Il)
call SetUnitY(IJ,IL)
set D8=CO7
call GroupEnumUnitsInRange(IB8,Il,IL,140,hP)
set m5=FirstOfGroup(IB8)
call CW7(IB8)
call DestroyBoolExpr(hP)
if m5!=null then
if IsUnitType(m5,UNIT_TYPE_HERO)==true then
set SO4[GetPlayerId(GetOwningPlayer(CO7))]=SO4[GetPlayerId(GetOwningPlayer(CO7))]+1
call II8("AA_Hits"+I2S(GetPlayerId(GetOwningPlayer(CO7))),SO4[GetPlayerId(GetOwningPlayer(CO7))])
endif
set uk=UO7(UC7,"OriginalX")
set uK=UO7(UC7,"OriginalY")
set oA=CreateUnit(GetOwningPlayer(m5),1697656901,iN,io,0)
call LM7(oA,1093684279)
call SetUnitAbilityLevel(oA,1093684279,uJ(uk,uK,iN,io))
call IssueTargetOrderById(oA,852095,m5)
call UnitDamageTarget(CO7,m5,90*GetUnitAbilityLevel(CO7,1093684280),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call KillUnit(IJ)
call Mv(t)
set oA=null
elseif(Il-hN)*(Il-hN)+(IL-ho)*(IL-ho)<1600 then
call KillUnit(IJ)
call Mv(t)
endif
set CO7=null
set IJ=null
set t=null
set hP=null
set IB8=null
set m5=null
endfunction
function ICD takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local real iN=D78(GetUnitX(CO7))
local real io=D88(GetUnitY(CO7))
local location sy=GetSpellTargetLoc()
local real hN=GetLocationX(sy)
local real ho=GetLocationY(sy)
local real RK=Atan2(ho-io,hN-iN)
local timer t=CreateTimer()
local integer UC7=GetHandleId(t)
local unit IJ=CreateUnit(GetOwningPlayer(CO7),1747988533,iN,io,RK*bj_RADTODEG)
set SP4[GetPlayerId(GetOwningPlayer(CO7))]=SP4[GetPlayerId(GetOwningPlayer(CO7))]+1
call II8("AA_Total"+I2S(GetPlayerId(GetOwningPlayer(CO7))),SP4[GetPlayerId(GetOwningPlayer(CO7))])
call RemoveLocation(sy)
call SetUnitFacing(IJ,RK*bj_RADTODEG)
call SetUnitPathing(IJ,false)
set hN=D78(iN+3000*Cos(RK))
set ho=D88(io+3000*Sin(RK))
call TR7(UC7,"OriginalX",iN)
call TR7(UC7,"OriginalY",io)
call TR7(UC7,"TargetX",hN)
call TR7(UC7,"TargetY",ho)
call TR7(UC7,"Angle",RK)
call TU7(UC7,"Hero",CO7)
call TU7(UC7,"Projectile",IJ)
call TimerStart(t,.035,true,function ul)
set CO7=null
set sy=null
set t=null
set IJ=null
endfunction
function I3D takes nothing returns boolean
local integer I6D=SO4[GetPlayerId(GetTriggerPlayer())]
local integer D5=SP4[GetPlayerId(GetTriggerPlayer())]
if GetUnitTypeId(M7[GetPlayerId(GetTriggerPlayer())])==1311781206 and D5>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848657741)))+" "+R2S(I2R(I6D)/ I2R(D5)*100)+"% ("+I2S(I6D)+"/"+I2S(D5)+")")
endif
return false
endfunction
function RK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IBD))
call TriggerAddAction(t,function ICD)
call DE8(1093684279)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function I3D))
set t=null
endfunction
function ILD takes nothing returns boolean
return GetSpellAbilityId()==1093684302
endfunction
function uM takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(D8))
endfunction
function un takes nothing returns nothing
local unit CO7=GetEnumUnit()
local unit oA=CreateUnit(GetOwningPlayer(CO7),1697657170,0,0,0)
call LM7(oA,1093684303)
call SetUnitAbilityLevel(oA,1093684303,GetUnitAbilityLevel(D8,1093684302))
call UnitApplyTimedLife(oA,1112820806,10)
set CO7=null
set oA=null
endfunction
function uN takes unit CO7 returns nothing
local group IB8=CX7()
local boolexpr hP=Condition(function uM)
set D8=CO7
call GroupEnumUnitsInRange(IB8,GetUnitX(CO7),GetUnitY(CO7),800,hP)
call ForGroup(IB8,function un)
call DestroyBoolExpr(hP)
call CW7(IB8)
set IB8=null
set hP=null
endfunction
function uo takes unit CO7 returns nothing
local integer UC7=GetHandleId(CO7)
local string uO=UQ7(UC7,"OrderType")
local string up=OrderId2String(UN7(UC7,"OrderId"))
local real hN
local real ho
local unit m5
local trigger t=UF7(UC7,"Trigger_TrackOrder")
local boolean uP=not UP7(UC7,"Idle")
local boolean uq=UP7(UC7,"SuperOrder")
call DisableTrigger(t)
call IssueImmediateOrderById(CO7,851972)
if uO=="Target"and(uP or uq)then
set m5=U87(UC7,"OrderTarget")
call IssueTargetOrder(CO7,up,m5)
elseif uO=="Point"and(uP or uq)then
set hN=UO7(UC7,"OrderPointX")
set ho=UO7(UC7,"OrderPointY")
call IssuePointOrder(CO7,up,hN,ho)
elseif(uP or uq)then
call IssueImmediateOrder(CO7,"OrderString")
endif
call TT7(UC7,"SuperOrder",false)
call EnableTrigger(t)
set m5=null
set t=null
endfunction
function uQ takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local real ur=UO7(UC7,"DistanceRemaining")
local real uR=UO7(UC7,"OriginalDistance")
local real RK=UO7(UC7,"Angle")
local real Il=GetUnitX(CO7)+30*Cos(RK*bj_DEGTORAD)
local real IL=GetUnitY(CO7)+30*Sin(RK*bj_DEGTORAD)
local real us=200
local real uS=(1-ur/uR)*us*2
if uS>us then
set uS=us*2-uS
endif
call SetUnitFlyHeight(CO7,DR8(uS,0),0)
call SetUnitX(CO7,D78(Il))
call SetUnitY(CO7,D88(IL))
call SetUnitFacing(CO7,RK)
call TR7(UC7,"DistanceRemaining",ur-20)
if uS<1 and ur-uR!=0 then
call TT7(GetHandleId(CO7),"InAir",false)
call SetUnitFacing(CO7,RK)
call SetUnitAnimation(CO7,"stand")
call SetUnitPathing(CO7,true)
call uo(CO7)
call uN(CO7)
call PauseTimer(t)
call TN7(UC7)
call DestroyTimer(t)
endif
set t=null
set CO7=null
endfunction
function I1D takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local integer BH7=GetUnitAbilityLevel(CO7,1093684302)
local real in=350+50*BH7
local real RK=GetUnitFacing(CO7)
local real iN=GetUnitX(CO7)
local real io=GetUnitY(CO7)
local real hN=D78(iN+in*Cos(RK*bj_DEGTORAD))
local real ho=D88(io+in*Sin(RK*bj_DEGTORAD))
local timer t=CreateTimer()
local integer UC7=GetHandleId(t)
local trigger uT=UF7(GetHandleId(CO7),"Trigger_TrackOrder")
set in=SquareRoot((iN-hN)*(iN-hN)+(io-ho)*(io-ho))
if in>100 then
call LM7(CO7,1097691750)
call UnitRemoveAbility(CO7,1097691750)
call SetUnitPathing(CO7,false)
call SetUnitAnimationByIndex(CO7,6)
call DisableTrigger(uT)
call IssueImmediateOrderById(CO7,851972)
call EnableTrigger(uT)
call TR7(UC7,"DistanceRemaining",in)
call TR7(UC7,"OriginalDistance",in)
call TR7(UC7,"Angle",RK)
call TU7(UC7,"Hero",CO7)
call TimerStart(t,.025,true,function uQ)
call TT7(GetHandleId(CO7),"Leap_InAir",true)
call TT7(GetHandleId(CO7),"SuperOrder",false)
endif
set CO7=null
set t=null
set uT=null
endfunction
function uu takes nothing returns boolean
return OrderId2String(GetIssuedOrderId())!="windwalk"
endfunction
function uU takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local integer UC7=GetHandleId(CO7)
local boolean uv=UP7(UC7,"Leap_InAir")
call TQ7(UC7,"OrderId",GetIssuedOrderId())
call TT7(UC7,"Idle",false)
if GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER then
call TS7(UC7,"OrderType","Target")
call T67(UC7,"OrderTarget",GetOrderTarget())
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER then
if uv or RF7(GetUnitX(CO7),GetUnitY(CO7),GetOrderPointX(),GetOrderPointY())>800 then
call TS7(UC7,"OrderType","Point")
call TR7(UC7,"OrderPointX",GetOrderPointX())
call TR7(UC7,"OrderPointY",GetOrderPointY())
else
call TT7(UC7,"Idle",true)
endif
else
call TS7(UC7,"OrderType","Instant")
endif
if uv then
call TT7(UC7,"SuperOrder",true)
endif
set CO7=null
endfunction
function uV takes nothing returns nothing
local unit CO7=U87(GetHandleId(GetExpiredTimer()),"Hero")
local integer UC7=GetHandleId(CO7)
local real x=GetUnitX(CO7)
local real y=GetUnitY(CO7)
local string uO=UQ7(UC7,"OrderType")
if uO=="Point"and RF7(GetUnitX(CO7),GetUnitY(CO7),UO7(UC7,"OrderPointX"),UO7(UC7,"OrderPointY"))<100 then
call TT7(UC7,"Idle",true)
endif
set CO7=null
endfunction
function uw takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local trigger t=CreateTrigger()
local timer t2
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddAction(t,function uU)
call TriggerAddCondition(t,Condition(function uu))
call TW7(GetHandleId(CO7),"Trigger_TrackOrder",t)
set t2=CreateTimer()
call TU7(GetHandleId(t2),"Hero",CO7)
call TimerStart(t2,.3,true,function uV)
call T37(GetHandleId(CO7),"Timer_CheckIdle",t2)
set CO7=null
set t=null
set t2=null
endfunction
function uW takes nothing returns nothing
if GetUnitAbilityLevel(GetTriggerUnit(),1093684302)==1 then
call uw()
endif
endfunction
function RM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ILD))
call TriggerAddAction(t,function I1D)
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(t,function uW)
set t=null
endfunction
function ux takes nothing returns nothing
local unit CO7=U87(GetHandleId(GetTriggeringTrigger()),"Morphling")
local real r
local real g
local real b
local integer I0D
local integer I5D
local real I2D
local real rStr2Agi
if GetUnitTypeId(CO7)!=1328558160 then
call DisableTrigger(GetTriggeringTrigger())
elseif LO7(CO7)==false and UP7(GetHandleId(CO7),"Waveforming")==false then
set I0D=GetHeroAgi(CO7,true)
set I5D=GetHeroStr(CO7,true)
set I2D=RMaxBJ(75+2*(I0D-I5D),35)
set r=I2D
set g=I2D
set b=I2D
call SetUnitVertexColorBJ(CO7,r,g,b,GetRandomReal(0.00,10.00))
endif
set CO7=null
endfunction
function I_D takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())==1328558160 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function J4D takes nothing returns nothing
local trigger t
if(UP7(GetHandleId(GetTriggerUnit()),"HasMorphling")==false)then
set t=CreateTrigger()
call TU7(GetHandleId(t),"Morphling",GetTriggerUnit())
call TW7(GetHandleId(GetTriggerUnit()),"ColorTrigger",t)
call TriggerAddAction(t,function ux)
call TriggerRegisterTimerEvent(t,1.0,true)
call TT7(GetHandleId(GetTriggerUnit()),"HasMorphling",true)
call UnitAddItem(GetTriggerUnit(),CreateItem(1227894853,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
endif
set t=null
endfunction
function MB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)
call TriggerAddCondition(t,Condition(function I_D))
call TriggerAddAction(t,function J4D)
set t=null
endfunction
function J7D takes nothing returns boolean
return GetSpellAbilityId()==1093682766
endfunction
function J8D takes nothing returns boolean
local unit T3=GetFilterUnit()
if IsUnitInGroup(T3,R8)then
set T3=null
return false
endif
if IsUnitEnemy(T3,GetOwningPlayer(D8))and GetUnitAbilityLevel(T3,1093678162)!=1 and GetUnitState(T3,UNIT_STATE_LIFE)>0 and IsUnitType(T3,UNIT_TYPE_STRUCTURE)==false then
set T3=null
return true
endif
set T3=null
return false
endfunction
function uZ takes nothing returns nothing
call UnitDamageTarget(D8,GetEnumUnit(),F8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endfunction
function J9D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"UnitVar")
local real RK=UO7(UC7,"Angle")
local integer u3=UN7(UC7,"Remaining")
local group Ro=UG7(UC7,"AlreadyDamaged")
local real u4=GetUnitX(CO7)
local real u5=GetUnitY(CO7)
local real ZZ9=(LoadReal(L7,(UC7),(23)))
local real ZA9=(LoadReal(L7,(UC7),(24)))
local real EH8=ZZ9+1000*0.05*Cos(RK)
local real EI8=ZA9+1000*0.05*Sin(RK)
local group IB8=CX7()
local unit GYD=U87(UC7,"Dummy")
call SaveReal(L7,(UC7),(23),((EH8)*1.0))
call SaveReal(L7,(UC7),(24),((EI8)*1.0))
set D8=CO7
set F8=GetUnitAbilityLevel(CO7,1093682766)*75+25
set R8=Ro
call GroupEnumUnitsInRange(IB8,u4,u5,200+25,Condition(function J8D))
call ForGroup(IB8,function uZ)
call GroupAddGroup(IB8,Ro)
call CW7(IB8)
set u3=u3-1
call TQ7(UC7,"Remaining",u3)
call SetUnitX(CO7,D78(EH8))
call SetUnitY(CO7,D88(EI8))
call SetUnitX(GYD,GetUnitX(CO7))
call SetUnitY(GYD,GetUnitY(CO7))
call IssueTargetOrder(GYD,"thunderbolt",CO7)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",u4,u5))
if u3==0 then
call RemoveUnit(GYD)
call SetUnitVertexColor(CO7,255,255,255,255)
call TT7(GetHandleId(CO7),"Waveforming",false)
call SetUnitInvulnerable(CO7,false)
call SetUnitPathing(CO7,true)
call ClearSelectionForPlayer(GetOwningPlayer(CO7))
call SelectUnitAddForPlayer(CO7,GetOwningPlayer(CO7))
call TN7(UC7)
call UA7(t)
endif
set CO7=null
set Ro=null
set IB8=null
set t=null
return false
endfunction
function JDD takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local real iN=GetUnitX(CO7)
local real io=GetUnitY(CO7)
local location sy=GetSpellTargetLoc()
local real hN=GetLocationX(sy)
local real ho=GetLocationY(sy)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local group Ro=CX7()
local integer Q17=GetPlayerId(GetOwningPlayer(CO7))
local unit GYD=CreateUnit(GetOwningPlayer(CO7),1697656901,iN,io,0)
call UnitAddAbility(GYD,1093815860)
call RemoveLocation(sy)
if GetSpellTargetUnit()!=null then
set hN=GetUnitX(GetSpellTargetUnit())
set ho=GetUnitY(GetSpellTargetUnit())
endif
call SetUnitVertexColor(CO7,255,255,255,0)
call TT7(GetHandleId(CO7),"Waveforming",true)
call SetUnitInvulnerable(CO7,true)
call SetUnitPathing(CO7,false)
call TU7(UC7,"UnitVar",CO7)
call SaveReal(L7,(UC7),(23),((iN)*1.0))
call SaveReal(L7,(UC7),(24),((io)*1.0))
call TC7(UC7,"AlreadyDamaged",Ro)
call TR7(UC7,"Angle",Atan2(ho-io,hN-iN))
call TQ7(UC7,"Remaining",DO8(R2I(SquareRoot((hN-iN)*(hN-iN)+(ho-io)*(ho-io))/50),1))
call TU7(UC7,"Dummy",GYD)
call TriggerRegisterTimerEvent(t,.04,true)
call TriggerAddCondition(t,Condition(function J9D))
call ShowUnit(CO7,false)
call ShowUnit(CO7,true)
call SelectUnitAddForPlayer(CO7,GetOwningPlayer(CO7))
set t=null
set CO7=null
set sy=null
set Ro=null
endfunction
function MC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function J7D))
call TriggerAddAction(t,function JDD)
set t=null
endfunction
function u7 takes nothing returns nothing
local unit u8=U87(GetHandleId(GetTriggeringTrigger()),"Morphling")
if GetHeroStatBJ(1,u8,false)>2*GetUnitAbilityLevel(u8,1093684056)and GetUnitState(u8,UNIT_STATE_MANA)>=20. and GetUnitState(u8,UNIT_STATE_LIFE)>1. then
call SetUnitManaBJ(u8,GetUnitState(u8,UNIT_STATE_MANA)-20)
call ModifyHeroStat(1,u8,1,2*GetUnitAbilityLevel(u8,1093684056))
call ModifyHeroStat(0,u8,0,2*GetUnitAbilityLevel(u8,1093684056))
endif
set u8=null
endfunction
function u9 takes nothing returns nothing
local unit u8=U87(GetHandleId(GetTriggeringTrigger()),"Morphling")
if GetHeroStatBJ(0,u8,false)>2*GetUnitAbilityLevel(u8,1093684056)and GetUnitState(u8,UNIT_STATE_MANA)>=20. and GetUnitState(u8,UNIT_STATE_LIFE)>1. then
call SetUnitManaBJ(u8,GetUnitState(u8,UNIT_STATE_MANA)-20)
call ModifyHeroStat(0,u8,1,2*GetUnitAbilityLevel(u8,1093684056))
call ModifyHeroStat(1,u8,0,2*GetUnitAbilityLevel(u8,1093684056))
endif
set u8=null
endfunction
function JED takes nothing returns boolean
return(((GetIssuedOrderId()==852550)or(GetIssuedOrderId()==852547))and(GetTriggerUnit()==U87(GetHandleId(GetTriggeringTrigger()),"Morphling")))
endfunction
function UA takes nothing returns nothing
local integer UC7=GetHandleId(GetTriggeringTrigger())
local trigger Ub=UF7(UC7,"MorphStr")
local trigger UB=UF7(UC7,"MorphAgi")
if(GetIssuedOrderId()==852547)then
call DisableTrigger(Ub)
elseif(GetIssuedOrderId()==852550)then
call DisableTrigger(UB)
endif
set Ub=null
set UB=null
endfunction
function JFD takes nothing returns boolean
return(((GetIssuedOrderId()==852549)or(GetIssuedOrderId()==852546))and(GetTriggerUnit()==U87(GetHandleId(GetTriggeringTrigger()),"Morphling")))
endfunction
function UC takes nothing returns nothing
local integer UC7=GetHandleId(GetTriggeringTrigger())
local trigger Ub=UF7(UC7,"MorphStr")
local trigger UB=UF7(UC7,"MorphAgi")
if(GetIssuedOrderId()==852546)then
call EnableTrigger(Ub)
call DisableTrigger(UB)
elseif(GetIssuedOrderId()==852549)then
call DisableTrigger(Ub)
call EnableTrigger(UB)
endif
set Ub=null
set UB=null
endfunction
function JGD takes nothing returns boolean
return GetLearnedSkill()==1093684056 and IsUnitIllusion(GetTriggerUnit())==false and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))!=MAP_CONTROL_COMPUTER
endfunction
function JHD takes unit CC7,integer JID,real JJD returns nothing
local integer JKD=GetHeroAgi(CC7,false)
local integer JMD=GetHeroStr(CC7,false)
local real JND=GetUnitState(CC7,UNIT_STATE_MANA)
if JID==0 then
if JND>=JJD and JKD>2 and LO7(CC7)==false then
call SetUnitState(CC7,UNIT_STATE_MANA,JND-JJD)
call SetHeroAgi(CC7,JKD-2,true)
call SetHeroStr(CC7,JMD+2,true)
endif
elseif JID==1 then
if JND>=JJD and JMD>2 and LO7(CC7)==false then
call SetUnitState(CC7,UNIT_STATE_MANA,JND-JJD)
call SetHeroAgi(CC7,JKD+2,true)
call SetHeroStr(CC7,JMD-2,true)
endif
endif
endfunction
function JOD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local integer JPD=GetUnitAbilityLevel(CO7,1093684056)
call JHD(CO7,1,30.0/ JPD)
set t=null
set CO7=null
return false
endfunction
function JQD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local integer JPD=GetUnitAbilityLevel(CO7,1093684056)
call JHD(CO7,0,30.0/ JPD)
set t=null
set CO7=null
return false
endfunction
function JRD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=GetTriggerUnit()
local trigger JSD=UF7(UC7,"Iterate")
local integer JPD=GetUnitAbilityLevel(CO7,1093684056)
local integer JTD=UN7(UC7,"LastOrder")
local real JUD=1.0/ JPD
if GetIssuedOrderId()==852549 then
if JSD!=null then
call TN7(GetHandleId(JSD))
call UA7(JSD)
endif
set JSD=CreateTrigger()
call TriggerRegisterTimerEvent(JSD,JUD,true)
call TriggerAddCondition(JSD,Condition(function JOD))
call TU7(GetHandleId(JSD),"Hero",CO7)
call TW7(UC7,"Iterate",JSD)
call TQ7(UC7,"LastOrder",GetIssuedOrderId())
call UnitAddAbility(CO7,1093808716)
call UnitRemoveAbility(CO7,1093808724)
elseif GetIssuedOrderId()==852546 then
if JSD!=null then
call TN7(GetHandleId(JSD))
call UA7(JSD)
endif
set JSD=CreateTrigger()
call TriggerRegisterTimerEvent(JSD,JUD,true)
call TriggerAddCondition(JSD,Condition(function JQD))
call TU7(GetHandleId(JSD),"Hero",CO7)
call TW7(UC7,"Iterate",JSD)
call TQ7(UC7,"LastOrder",GetIssuedOrderId())
call UnitAddAbility(CO7,1093808724)
call UnitRemoveAbility(CO7,1093808716)
elseif GetIssuedOrderId()==852550 then
if JSD!=null then
call TN7(GetHandleId(JSD))
call UA7(JSD)
endif
call TU7(UC7,"Iterate",null)
call TQ7(UC7,"LastOrder",GetIssuedOrderId())
call UnitRemoveAbility(CO7,1093808716)
call UnitRemoveAbility(CO7,1093808724)
elseif GetIssuedOrderId()==852547 then
if JSD!=null then
call TN7(GetHandleId(JSD))
call UA7(JSD)
endif
call TU7(UC7,"Iterate",null)
call TQ7(UC7,"LastOrder",GetIssuedOrderId())
call UnitRemoveAbility(CO7,1093808716)
call UnitRemoveAbility(CO7,1093808724)
elseif GetIssuedOrderId()==852548 and JTD!=852546 and JTD!=852546 then
call JHD(CO7,1,30./ JPD)
elseif GetIssuedOrderId()==852545 and JTD!=852546 and JTD!=852546 then
call JHD(CO7,0,30./ JPD)
endif
set t=null
set CO7=null
set JSD=null
return false
endfunction
function JVD takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local trigger t
local integer OC7
local integer H98=GetUnitAbilityLevel(GetTriggerUnit(),1093684056)
if H98==1 then
call SetHeroAgi(CC7,GetHeroAgi(CC7,false)+3,true)
call SetHeroStr(CC7,GetHeroStr(CC7,false)+3,true)
else
call SetHeroAgi(CC7,GetHeroAgi(CC7,false)+1,true)
call SetHeroStr(CC7,GetHeroStr(CC7,false)+1,true)
endif
if H98==1 then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call LM7(CC7,1093684055)
call TriggerRegisterUnitEvent(t,CC7,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function JRD))
call TU7(OC7,"Iterate",null)
else
call SetUnitAbilityLevel(CC7,1093684055,H98)
endif
set t=null
set CC7=null
endfunction
function JWD takes nothing returns boolean
return GetLearnedSkill()==1093684056 and IsUnitIllusion(GetTriggerUnit())==false and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER
endfunction
function JXD takes nothing returns nothing
local unit u8=GetTriggerUnit()
local trigger Ue
local trigger UE
local trigger Ub
local trigger UB
if(GetUnitAbilityLevel(u8,1093684056)==1)then
call LM7(u8,1093684055)
set UB=CreateTrigger()
call DisableTrigger(UB)
call TriggerRegisterTimerEventPeriodic(UB,1.)
call TriggerAddAction(UB,function u9)
call TU7(GetHandleId(UB),"Morphling",u8)
set Ub=CreateTrigger()
call DisableTrigger(Ub)
call TriggerRegisterTimerEventPeriodic(Ub,1.)
call TriggerAddAction(Ub,function u7)
call TU7(GetHandleId(Ub),"Morphling",u8)
set Ue=CreateTrigger()
call ky(Ue,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(Ue,Condition(function JFD))
call TriggerAddAction(Ue,function UC)
call TW7(GetHandleId(Ue),"MorphAgi",UB)
call TW7(GetHandleId(Ue),"MorphStr",Ub)
call TU7(GetHandleId(Ue),"Morphling",u8)
set UE=CreateTrigger()
call ky(UE,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(UE,Condition(function JED))
call TriggerAddAction(UE,function UA)
call TW7(GetHandleId(UE),"MorphAgi",UB)
call TW7(GetHandleId(UE),"MorphStr",Ub)
call TU7(GetHandleId(UE),"Morphling",u8)
if(GetPlayerController(GetOwningPlayer(u8))!=MAP_CONTROL_USER)then
call TW7(GetHandleId(GetOwningPlayer(u8)),"MorphAgi",UB)
call TW7(GetHandleId(GetOwningPlayer(u8)),"MorphStr",Ub)
endif
else
call SetUnitAbilityLevel(u8,1093684055,GetUnitAbilityLevel(u8,1093684056))
endif
set u8=null
set Ue=null
set UE=null
set Ub=null
set UB=null
endfunction
function pZ takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function JGD))
call TriggerAddAction(t,function JVD)
set t=null
endfunction
function ML8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function JWD))
call TriggerAddAction(t,function JXD)
set t=null
endfunction
function JYD takes nothing returns boolean
return GetSpellAbilityId()==1093682998 and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 and CV7(GetSpellTargetUnit())==false
endfunction
function JZD takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BH7=GetUnitAbilityLevel(CO7,1093682998)
local unit H88
local location I_9
local real l4
local integer I0D=GetHeroAgi(CO7,true)
local integer I5D=GetHeroStr(CO7,true)
local real JAD=I2R(I0D)/ I2R(I5D)
local real JBD=I2R(I5D)/ I2R(I0D)
local real JCD
local real J3D
local real J6D
local real JLD
local real DS8
local real J1D
local integer J0D
local integer J5D
local integer J2D
local string J_D
local string K4D
local string K7D
if JAD<0.5 then
set JCD=0.25
set J3D=20*BH7
elseif JAD>1.5 then
set JCD=0.5*BH7
set J3D=20*BH7
else
set JCD=0.25+(JAD-0.5)*(0.5*BH7-0.25)
set J3D=20*BH7
endif
if JBD<0.5 then
set J6D=0.25
set JLD=100
elseif JBD>1.5 then
set J6D=0.75*BH7
set JLD=300
else
set JLD=100+(JBD-0.5)*200
set J6D=0.25+(JBD-0.5)*(0.75*BH7-0.25)
endif
set DS8=J3D+JCD*I0D
set J1D=J6D
set J0D=R2I(J1D)
set J5D=R2I(10*J1D-J0D*10)
set J2D=R2I(100*J1D-J5D*10-J0D*100)
set J_D=I2S(J0D)
set K4D=I2S(J5D)
set K7D=I2S(J2D)
set l4=Atan2(GetUnitY(m5)-GetUnitY(CO7),GetUnitX(m5)-GetUnitX(CO7))
set I_9=Location(GetUnitX(m5)+JLD*Cos(l4),GetUnitY(m5)+JLD*Sin(l4))
call SetUnitPositionLoc(m5,I_9)
call D28(GetLocationX(I_9),GetLocationY(I_9),200)
call RemoveLocation(I_9)
call DC8("|c001ce6b9+"+I2S(R2I(DS8))+"|r |c00ff0303+"+J_D+"."+K4D+K7D+"|r",1,m5,0.023,255,255,255,216)
call HD8(CO7,m5,ZG4,DS8)
call H78(CO7,m5,J1D)
set CO7=null
set m5=null
set H88=null
set I_9=null
endfunction
function M38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JYD))
call TriggerAddAction(t,function JZD)
set t=null
call DE8(1093687350)
endfunction
function K8D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer CP8=(LoadInteger(L7,(OC7),(34)))-1
local texttag tt
call SaveInteger(L7,(OC7),(34),(CP8))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set tt=CreateTextTag()
call SetTextTagText(tt,I2S(CP8),0.03)
call SetTextTagPosUnit(tt,EC8,0)
call SetTextTagColorBJ(tt,0,29,255,15)
call SetTextTagVelocity(tt,0,0.035)
call SetTextTagFadepoint(tt,3)
call SetTextTagLifespan(tt,0.9)
call SetTextTagPermanent(tt,false)
call SetTextTagVisibility(tt,false)
if GetOwningPlayer(EC8)==GetLocalPlayer()then
call SetTextTagVisibility(tt,true)
endif
set tt=CreateTextTag()
call SetTextTagText(tt,I2S(CP8),0.03)
call SetTextTagPosUnit(tt,O07,0)
call SetTextTagColorBJ(tt,0,29,255,15)
call SetTextTagVelocity(tt,0,0.035)
call SetTextTagFadepoint(tt,3)
call SetTextTagLifespan(tt,0.9)
call SetTextTagPermanent(tt,false)
call SetTextTagVisibility(tt,false)
if GetOwningPlayer(EC8)==GetLocalPlayer()then
call SetTextTagVisibility(tt,true)
endif
endif
set t=null
set tt=null
set EC8=null
set O07=null
return false
endfunction
function K9D takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit CC7=(LoadUnitHandle(L7,(GetHandleId(t)),(14)))
local unit KDD=(LoadUnitHandle(L7,(GetHandleId(CC7)),(229)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",GetUnitX(KDD),GetUnitY(KDD)))
call RemoveUnit(KDD)
call UnitRemoveAbility(CC7,(1093683011))
if(LoadInteger(L7,(GetHandleId(CC7)),(704)))==0 or(LoadInteger(L7,(GetHandleId(CC7)),(704)))==(1093683000)then
call SetPlayerAbilityAvailable(GetOwningPlayer(CC7),(1093683000),true)
endif
call FlushChildHashtable(L7,(GetHandleId(t)))
call UA7((t))
set CC7=null
set KDD=null
set t=null
endfunction
function KED takes nothing returns boolean
if GetSpellAbilityId()==(1093683011)then
return true
endif
return false
endfunction
function KFD takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local integer OC7=GetHandleId(CC7)
local unit KDD=(LoadUnitHandle(L7,(OC7),(229)))
local real x=GetUnitX(KDD)
local real y=GetUnitY(KDD)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",GetUnitX(CC7),GetUnitY(CC7)))
call KillUnit(KDD)
call SetUnitX(CC7,x)
call SetUnitY(CC7,y)
call PanCameraToTimedForPlayer(GetOwningPlayer(CC7),x,y,0)
call IssueImmediateOrder(CC7,"stop")
set CC7=null
set KDD=null
endfunction
function KGD takes nothing returns boolean
return GetUnitAbilityLevel(GetSummonedUnit(),(1110455088))>0 and GetUnitState(GetSummonedUnit(),UNIT_STATE_LIFE)>0
endfunction
function KHD takes nothing returns nothing
local unit CC7=GetSummoningUnit()
local integer OC7=GetHandleId(CC7)
local unit O07=(LoadUnitHandle(L7,(OC7),(228)))
local unit KDD=GetSummonedUnit()
local trigger t
call SetPlayerAbilityAvailable(GetOwningPlayer(CC7),(1093683000),false)
call LM7(CC7,(1093683011))
call SetUnitColor(KDD,GetPlayerColor(GetOwningPlayer(O07)))
call SaveUnitHandle(L7,(OC7),(229),(KDD))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CC7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,KDD,EVENT_UNIT_DEATH)
call TriggerAddAction(t,function K9D)
call SaveUnitHandle(L7,(GetHandleId(t)),(14),(CC7))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CC7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,KDD,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function K8D))
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(CC7))
call SaveUnitHandle(L7,(GetHandleId(t)),(17),(KDD))
call SaveInteger(L7,(GetHandleId(t)),(34),(GetUnitAbilityLevel(CC7,(1093683000))*15+15-1))
set CC7=null
set O07=null
set KDD=null
set t=null
endfunction
function KID takes nothing returns boolean
return GetSpellAbilityId()==(1093683000)
endfunction
function KJD takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
call SaveUnitHandle(L7,(GetHandleId(CC7)),(228),(O07))
set CC7=null
set O07=null
endfunction
function KKD takes nothing returns boolean
if GetSpellAbilityId()==(1093683000)then
if GetOwningPlayer(GetSpellTargetUnit())==GetOwningPlayer(GetTriggerUnit())then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659014))
endif
endif
return false
endfunction
function M68 takes nothing returns nothing
local trigger t
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KID))
call TriggerAddAction(t,function KJD)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function KGD))
call TriggerAddAction(t,function KHD)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KED))
call TriggerAddAction(t,function KFD)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function KKD))
set t=null
endfunction
function KMD takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),ZC4)==false then
call GroupAddUnit(Z34,GetEnumUnit())
call UnitRemoveAbility(GetEnumUnit(),1110454858)
call UnitRemoveAbility(GetEnumUnit(),1112896368)
call UnitRemoveAbility(GetEnumUnit(),1114993524)
endif
endfunction
function KND takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),1110454858)
call UnitRemoveAbility(GetEnumUnit(),1112896368)
call UnitRemoveAbility(GetEnumUnit(),1114993524)
endfunction
function KOD takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),ZB4)==false then
call GroupAddUnit(ZB4,GetEnumUnit())
call SetUnitOwner(ZA4,GetOwningPlayer(GetEnumUnit()),false)
call IssueTargetOrder(ZA4,"sleep",GetEnumUnit())
endif
endfunction
function KPD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local group g
local group GAD=(LoadGroupHandle(L7,(OC7),(187)))
if GetTriggerEvalCount(t)==10 then
call LM7(EC8,1093809221)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093678933,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809221,true)
endif
if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)>140 or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093809221)then
if(LoadInteger(L7,(GetHandleId(EC8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EC8)),(704)))==1093678933 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093678933,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809221,false)
call ForGroup(GAD,function KND)
call CW7(GAD)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set g=CX7()
set IN4=EC8
set ZZ4=EC8
set ZA4=H88
set ZB4=GAD
call GroupEnumUnitsInRange(g,x,y,1250+25,Condition(function FF8))
call ForGroup(g,function KOD)
set ZC4=g
set Z34=CX7()
call ForGroup(GAD,function KMD)
call GroupRemoveGroup(Z34,GAD)
call CW7(g)
call CW7(Z34)
endif
set t=null
set g=null
set EC8=null
set GAD=null
set H88=null
return false
endfunction
function KQD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,x,y,0)
call UnitAddAbility(H88,1093678932)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KPD))
call SaveGroupHandle(L7,(OC7),(187),(CX7()))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("war3mapImported\\SongOfTheSiren_2.mdx",EC8,"origin")))
set t=null
set EC8=null
endfunction
function KRD takes nothing returns boolean
if GetSpellAbilityId()==1093678933 then
call KQD()
endif
return false
endfunction
function M18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KRD))
set t=null
endfunction
function KSD takes unit EC8,unit O07 returns nothing
local integer H98=GetUnitAbilityLevel(EC8,1093815125)
local integer id=1093809204
call HD8(EC8,O07,ZG4,100+30*H98)
if H98==2 then
set id=1093809205
elseif H98==3 then
set id=1093809206
elseif H98==4 then
set id=1093809207
endif
if DB9(O07)==false then
call E28(O07,id,1,8)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),id,false)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl",O07,"chest"))
set EC8=null
set O07=null
endfunction
function KTD takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),I47)==false then
call GroupAddUnit(I47,GetEnumUnit())
call KSD(H_7,GetEnumUnit())
endif
endfunction
function KUD takes nothing returns nothing
local unit EC8=GetEnumUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local group g=CX7()
call DestroyEffect(AddSpecialEffect("war3mapImported\\RipTide09.mdx",x,y))
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function FT8))
call ForGroup(g,function KTD)
call CW7(g)
set t=null
set g=null
endfunction
function KVD takes nothing returns boolean
return IsUnitIllusion(GetFilterUnit())and LO7(GetFilterUnit())==false
endfunction
function KWD takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local group g=CX7()
local integer i=0
set I47=CX7()
set H_7=EC8
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(EC8),Condition(function KVD))
call GroupAddUnit(g,EC8)
call ForGroup(g,function KUD)
call CW7(g)
call CW7(I47)
set EC8=null
set g=null
endfunction
function KXD takes nothing returns boolean
if GetSpellAbilityId()==1093815125 then
call KWD()
endif
return false
endfunction
function M08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KXD))
set t=null
endfunction
function KYD takes unit EC8,unit O07,integer H98 returns nothing
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(EC8),GetUnitY(EC8),0)
call UnitAddAbility(H88,1093681729)
call SetUnitAbilityLevel(H88,1093681729,H98)
call IssueTargetOrder(H88,"ensnare",O07)
set H88=null
endfunction
function KZD takes nothing returns boolean
if IsUnitIllusion(GetFilterUnit())==true and GetUnitTypeId(GetFilterUnit())==1212363833 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
call KYD(GetFilterUnit(),ZL4,GetUnitAbilityLevel(GetTriggerUnit(),1093809220))
endif
return false
endfunction
function KAD takes nothing returns boolean
if IsUnitIllusion(GetFilterUnit())==true and GetUnitTypeId(GetFilterUnit())==1212363833 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
call SetUnitFacing(GetFilterUnit(),IJ4)
call SetUnitAnimation(GetFilterUnit(),"spell")
endif
return false
endfunction
function KBD takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local group g=CX7()
set IJ4=PP7(GetUnitX(CC7),GetUnitY(CC7),GetUnitX(ZL4),GetUnitY(ZL4))
call GroupEnumUnitsInRange(g,GetUnitX(CC7),GetUnitY(CC7),700,Condition(function KAD))
call CW7(g)
set CC7=null
set g=null
endfunction
function KCD takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local unit O07=ZL4
local group g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(CC7),GetUnitY(CC7),700,Condition(function KZD))
call CW7(g)
set CC7=null
set g=null
endfunction
function K3D takes nothing returns boolean
if GetSpellAbilityId()==1093809220 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
if CV7(GetSpellTargetUnit())==false then
set Z64=0
set ZL4=GetSpellTargetUnit()
call KYD(GetTriggerUnit(),ZL4,GetUnitAbilityLevel(GetTriggerUnit(),1093809220))
call KCD()
endif
else
call KBD()
endif
endif
return false
endfunction
function M58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function K3D))
set t=null
endfunction
function K6D takes unit KLD returns integer
local real r=GetRandomReal(0,100)
local integer BH7=GetUnitAbilityLevel(KLD,1093679160)
local boolean K1D=SV7(KLD,ZU[FB4])!=null
local integer K0D=0
local integer id=GetPlayerId(GetOwningPlayer(KLD))
set K1D=false
if BH7==1 then
set TI4[id]=TI4[id]+1
if K1D then
if r<30 then
set TG4[id]=TG4[id]+1
set K0D=3
elseif r<60 then
set TF4[id]=TF4[id]+1
set K0D=2
endif
else
if r<25 then
set K0D=2
set TF4[id]=TF4[id]+1
endif
endif
elseif BH7==2 then
set TI4[id]=TI4[id]+1
if K1D then
if r<17.5 then
set K0D=4
set TH4[id]=TH4[id]+1
elseif r<35 then
set K0D=3
set TG4[id]=TG4[id]+1
elseif r<70 then
set K0D=2
set TF4[id]=TF4[id]+1
endif
else
if r<20 then
set K0D=3
set TG4[id]=TG4[id]+1
elseif r<40 then
set K0D=2
set TF4[id]=TF4[id]+1
endif
endif
elseif BH7==3 then
set TI4[id]=TI4[id]+1
if K1D then
if r<10 then
set K0D=5
set N4[id]=N4[id]+1
elseif r<20 then
set K0D=4
set TH4[id]=TH4[id]+1
elseif r<40 then
set K0D=3
set TG4[id]=TG4[id]+1
elseif r<80 then
set K0D=2
set TF4[id]=TF4[id]+1
endif
else
if r<12.5 then
set K0D=4
set TH4[id]=TH4[id]+1
elseif r<25 then
set K0D=3
set TG4[id]=TG4[id]+1
elseif r<50 then
set K0D=2
set TF4[id]=TF4[id]+1
endif
endif
endif
return K0D
endfunction
function K5D takes nothing returns boolean
local unit m5=GetFilterUnit()
local unit CO7=GetTriggerUnit()
if IsUnitAlly(m5,GetOwningPlayer(CO7))and GetUnitState(m5,UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(m5,1113746543)==0 then
if(GetOwningPlayer(m5)==Z7[0]or GetOwningPlayer(m5)==A7[0])then
if(GetUnitTypeId(m5)==1969711215 or GetUnitTypeId(m5)==1966092337 or GetUnitTypeId(m5)==1970169187 or GetUnitTypeId(m5)==1966092338)then
set m5=null
set CO7=null
return true
endif
if(GetUnitTypeId(m5)==1702061422 or GetUnitTypeId(m5)==1697656918 or GetUnitTypeId(m5)==1701081721 or GetUnitTypeId(m5)==1697656919)then
set m5=null
set CO7=null
return true
endif
return false
elseif IsUnitType(m5,UNIT_TYPE_HERO)==true then
set m5=null
set CO7=null
return true
elseif GetOwningPlayer(m5)==GetOwningPlayer(CO7)then
set m5=null
set CO7=null
return true
endif
endif
set m5=null
set CO7=null
return false
endfunction
function K2D takes integer r returns nothing
local unit CO7=GetTriggerUnit()
local integer BH7=r
local group IB8=CX7()
local unit H88
local unit KH8
local integer K_D=GetSpellAbilityId()
local integer T8=1
if r==2 then
call DC8(GetObjectName(1848658743),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==3 then
call DC8(GetObjectName(1848658516),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==4 then
call DC8(GetObjectName(1848658744),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==5 then
call DC8(GetObjectName(1848658511),5,GetTriggerUnit(),0.03,255,0,0,255)
endif
set r=r-1
call GroupEnumUnitsInRange(IB8,GetUnitX(CO7),GetUnitY(CO7),600,Condition(function K5D))
if CO7!=GetSpellTargetUnit()then
call GroupAddUnit(IB8,CO7)
endif
loop
exitwhen T8>BH7
set T8=T8+1
set H88=CreateUnit(GetOwningPlayer(CO7),1697656899,GetUnitX(CO7),GetUnitY(CO7),270)
call TE7(H88)
call LM7(H88,K_D)
call SetUnitAbilityLevel(H88,K_D,GetUnitAbilityLevel(CO7,K_D))
call UnitApplyTimedLife(H88,1112820806,1.0)
set KH8=GroupPickRandomUnit(IB8)
call T97(H88,"bloodlust",KH8)
call SetUnitPathing(H88,false)
call SetUnitInvulnerable(H88,true)
call LM7(H88,1097625443)
call GroupRemoveUnit(IB8,KH8)
endloop
call CW7(IB8)
set CO7=null
set IB8=null
set H88=null
set KH8=null
endfunction
function M4D takes nothing returns boolean
local integer r
if GetUnitAbilityLevel(GetTriggerUnit(),1093679160)>0 and(GetSpellAbilityId()==1093679155 or GetSpellAbilityId()==1093679177 or GetSpellAbilityId()==1093679175 or GetSpellAbilityId()==1093679174)then
set r=K6D(GetTriggerUnit())
if r>1 then
call K2D(r)
endif
endif
return false
endfunction
function M_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function M4D))
set t=null
endfunction
function M7D takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call LM7(H88,1093815122)
call IssueTargetOrder(H88,"thunderbolt",O07)
set EC8=null
set O07=null
set H88=null
endfunction
function M8D takes nothing returns nothing
local unit EC8=IN4
call LM7(EC8,1093815121)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093815121,true)
call TT7(GetHandleId(EC8),"AI|Magi2Blast",true)
set EC8=null
endfunction
function M9D takes nothing returns nothing
local unit EC8=IN4
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093815121,false)
set EC8=null
endfunction
function MDD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local unit p5=U87(UC7,"Source")
local integer MED=UN7(UC7,"Iterations")
local integer BH7=UN7(UC7,"Level")
local integer MFD=UN7(UC7,"Spell")
local unit H88
if GetTriggerEvalCount(t)>MED then
call TN7(UC7)
call UA7(t)
else
set H88=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
if MFD==1093815121 then
set MFD=1093815122
endif
call LM7(H88,MFD)
call SetUnitAbilityLevel(H88,MFD,BH7)
call IssueTargetOrder(H88,"thunderbolt",m5)
endif
set t=null
set m5=null
set p5=null
set H88=null
return false
endfunction
function MGD takes integer r returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer MFD=GetSpellAbilityId()
local integer BH7=GetUnitAbilityLevel(p5,MFD)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
if r==2 then
call DC8(GetObjectName(1848658743),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==3 then
call DC8(GetObjectName(1848658516),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==4 then
call DC8(GetObjectName(1848658744),5,GetTriggerUnit(),0.03,255,0,0,255)
elseif r==5 then
call DC8(GetObjectName(1848658511),5,GetTriggerUnit(),0.03,255,0,0,255)
endif
set r=r-1
call TU7(UC7,"Target",m5)
call TU7(UC7,"Source",p5)
call TQ7(UC7,"Iterations",r)
call TQ7(UC7,"Level",BH7)
call TQ7(UC7,"Spell",MFD)
call TriggerRegisterTimerEvent(t,0.3,true)
call TriggerAddCondition(t,Condition(function MDD))
set t=null
set m5=null
set p5=null
endfunction
function MHD takes nothing returns boolean
local integer r
if GetUnitAbilityLevel(GetTriggerUnit(),1093679160)>0 and CV7(GetSpellTargetUnit())==false and(GetSpellAbilityId()==1093678167 or GetSpellAbilityId()==1093679172 or GetSpellAbilityId()==1093679169 or GetSpellAbilityId()==1093679161 or GetSpellAbilityId()==1093815121)then
set r=K6D(GetTriggerUnit())
if r>1 and((LoadInteger(L7,(GetHandleId((GetSpellTargetUnit()))),((4322))))==1)==false then
call MGD(r)
endif
endif
if CV7(GetSpellTargetUnit())==false and GetSpellAbilityId()==1093815121 then
call M7D()
endif
return false
endfunction
function MID takes nothing returns boolean
local integer id=GetPlayerId(GetTriggerPlayer())
local string J_D
local string K4D
local string K7D
local string MJD
local string MKD
local string str6
if TI4[id]>0 then
set J_D=GetObjectName(1848658504)+" "+I2S(TI4[id])
set K4D=GetObjectName(1848658509)+" "+I2S(TF4[id]+TG4[id]+TH4[id]+N4[id])+" ("+I2S((TF4[id]+TG4[id]+TH4[id]+N4[id])*100/ TI4[id])+"%)"
set K7D=GetObjectName(1848658508)+" "+I2S(TF4[id])+" ("+I2S(100*TF4[id]/ TI4[id])+"%)"
set MJD=GetObjectName(1848658507)+" "+I2S(TG4[id])+" ("+I2S(100*TG4[id]/ TI4[id])+"%)"
set MKD=GetObjectName(1848658506)+" "+I2S(TH4[id])+" ("+I2S(100*TH4[id]/ TI4[id])+"%)"
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,J_D)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,K4D)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,K7D)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,MJD)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,MKD)
endif
return false
endfunction
function M28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MHD))
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function MID))
set t=null
endfunction
function MMD takes nothing returns boolean
return GetSpellAbilityId()==1093679182
endfunction
function Uu takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)!=1 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function UU takes nothing returns nothing
call HD8(GetTriggerUnit(),GetEnumUnit(),ZI4,F8)
endfunction
function MND takes nothing returns nothing
local boolexpr hP=Condition(function Uu)
local group IB8=CX7()
local real x=GetUnitX(GetSpellTargetUnit())
local real y=GetUnitY(GetSpellTargetUnit())
set F8=90*GetUnitAbilityLevel(GetTriggerUnit(),1093679182)
call GroupEnumUnitsInRange(IB8,x,y,250,hP)
call ForGroup(IB8,function UU)
if GetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE)>1 then
call SetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE,GetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE)+F8)
endif
call CW7(IB8)
call DestroyBoolExpr(hP)
set IB8=null
set hP=null
endfunction
function PN takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MMD))
call TriggerAddAction(t,function MND)
set t=null
endfunction
function MOD takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==K34[21]and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())and IsUnitIllusion(GetFilterUnit())==false then
set IN4=GetFilterUnit()
endif
return false
endfunction
function MPD takes nothing returns nothing
local unit MQD=GetTriggerUnit()
local unit p5
local group g=CX7()
local real x
local real y
set IN4=null
call GroupEnumUnitsInRange(g,GetUnitX(MQD),GetUnitY(MQD),1000,Condition(function MOD))
call CW7(g)
set p5=IN4
if p5!=null then
set x=GetUnitX(p5)
set y=GetUnitY(p5)
call SetUnitPosition(MQD,x,y)
endif
set x=GetUnitX(MQD)+600*Cos(GetUnitFacing(MQD)*bj_DEGTORAD)
set y=GetUnitY(MQD)+600*Sin(GetUnitFacing(MQD)*bj_DEGTORAD)
call IssuePointOrder(MQD,"move",x,y)
set MQD=null
set p5=null
set g=null
endfunction
function MRD takes nothing returns boolean
if GetUnitAbilityLevel(GetTriggerUnit(),1110455105)>0 then
call MPD()
endif
return false
endfunction
function Po takes nothing returns nothing
local trigger t=CreateTrigger()
local region r=CreateRegion()
call RegionAddRect(r,bj_mapInitialPlayableArea)
call TriggerRegisterEnterRegion(t,r,null)
call TriggerAddCondition(t,Condition(function MRD))
set t=null
set r=null
endfunction
function MSD takes nothing returns boolean
return((IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(UnitHasBuffBJ(GetAttacker(),1110455106))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_ANCIENT)))
endfunction
function MTD takes nothing returns boolean
if GetUnitAbilityLevel(GetFilterUnit(),1110455106)>0 then
set IH4=IH4+1
endif
return false
endfunction
function MUD takes nothing returns nothing
local unit MVD=GetAttacker()
local group g=CX7()
local integer MWD=GetRandomInt(1,100)
local integer MXD=GetUnitAbilityLevel(MVD,1093682242)
local integer MYD=GetUnitAbilityLevel(MVD,1093687627)
local unit H88
local integer MZD=2*MXD
local integer MAD=12
set IH4=0
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(MVD),Condition(function MTD))
call CW7(g)
if IH4<MZD then
if IsUnitIllusion(MVD)==false and MWD<=(MAD+2*MYD)then
set H88=CreateUnit(GetOwningPlayer(MVD),1697656901,GetUnitX(MVD),GetUnitY(MVD),0)
call LM7(H88,1093682244)
call IssueTargetOrderById(H88,852274,MVD)
endif
if IsUnitIllusion(MVD)==true and MWD<=(1+2*MYD)and MYD>0 then
set H88=CreateUnit(GetOwningPlayer(MVD),1697656901,GetUnitX(MVD),GetUnitY(MVD),0)
call LM7(H88,1093682244)
call IssueTargetOrderById(H88,852274,MVD)
endif
endif
set MVD=null
set g=null
set H88=null
endfunction
function PO takes nothing returns nothing
set dU=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dU,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(dU,Condition(function MSD))
call TriggerAddAction(dU,function MUD)
endfunction
function MBD takes nothing returns boolean
local unit MCD=GetSummonedUnit()
local unit oA
local unit m5
if GetUnitAbilityLevel(MCD,1110456632)>0 then
set oA=GetSummoningUnit()
set m5=U87(GetHandleId(oA),"SpiritTarget")
call SetUnitX(MCD,GetUnitX(m5))
call SetUnitY(MCD,GetUnitY(m5))
call IssueTargetOrder(MCD,"attack",m5)
endif
set MCD=null
set oA=null
set m5=null
return false
endfunction
function M3D takes player p,unit m5,integer BH7 returns nothing
local unit oA=CreateUnit(p,1697656901,GetUnitX(m5),GetUnitX(m5),0)
local integer M6D
call TU7(GetHandleId(oA),"SpiritTarget",m5)
if BH7==1 then
set M6D=1093742664
elseif BH7==2 then
set M6D=1093742663
elseif BH7==3 then
set M6D=1093742665
else
set M6D=1093742662
endif
call LM7(oA,M6D)
call IssueTargetOrderById(oA,852274,M7[GetPlayerId(p)])
set oA=null
endfunction
function MLD takes player p,unit O07,integer BH7,boolean M1D,boolean M0D returns nothing
local real B19=50+50*BH7
local unit H88
if M0D then
set H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call LM7(H88,1093742659)
call SetUnitAbilityLevel(H88,1093742659,BH7)
call IssueTargetOrder(H88,"cripple",O07)
call HD8(M7[GetPlayerId(p)],O07,ZG4,B19)
if M1D then
call M3D(p,O07,BH7)
endif
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl",O07,"origin"))
set H88=null
endfunction
function M5D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local player p=UD7(UC7,"SourcePlayer")
local unit m5=U87(UC7,"Target")
local integer BH7=UN7(UC7,"Level")
local boolean M0D=UP7(UC7,"damage")
local unit IJ=U87(UC7,"Projectile")
local real x=GetUnitX(IJ)
local real y=GetUnitY(IJ)
local real hN=GetUnitX(m5)
local real ho=GetUnitY(m5)
local real Ik=1000*0.035
local real IK=PP7(x,y,hN,ho)
local real Il=x+Ik*Cos(IK*bj_DEGTORAD)
local real IL=y+Ik*Sin(IK*bj_DEGTORAD)
call SetUnitX(IJ,Il)
call SetUnitY(IJ,IL)
call SetUnitFacing(IJ,IK)
if RF7(hN,ho,Il,IL)<=Ik then
call MLD(p,m5,BH7,true,M0D)
call KillUnit(IJ)
call TN7(UC7)
call UA7(t)
endif
set t=null
set m5=null
set IJ=null
return false
endfunction
function M2D takes unit p5,integer BH7,unit m5,boolean M0D returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit IJ=CreateUnit(GetOwningPlayer(p5),1747990092,GetUnitX(p5),GetUnitY(p5),PP7(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5)))
call TA7(UC7,"SourcePlayer",GetOwningPlayer(p5))
call TU7(UC7,"Target",m5)
call TT7(UC7,"damage",M0D)
call TU7(UC7,"Projectile",IJ)
call TQ7(UC7,"Level",BH7)
call TriggerRegisterTimerEvent(t,0.035,true)
call TriggerAddCondition(t,Condition(function M5D))
set t=null
set IJ=null
endfunction
function M_D takes nothing returns boolean
if IsUnitIllusion(GetFilterUnit())==true and GetUnitTypeId(GetFilterUnit())==1332179560 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
call M2D(GetFilterUnit(),GetUnitAbilityLevel(GetTriggerUnit(),1093742660),GetSpellTargetUnit(),false)
endif
return false
endfunction
function N4D takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local integer BH7=GetUnitAbilityLevel(CO7,1093742660)
local unit m5=GetSpellTargetUnit()
local group g=CX7()
local boolean N7D=CV7(GetSpellTargetUnit())
call GroupEnumUnitsInRange(g,GetUnitX(CO7),GetUnitY(CO7),700,Condition(function M_D))
if N7D then
call M2D(CO7,BH7,m5,false)
else
call M2D(CO7,BH7,m5,true)
endif
call CW7(g)
set CO7=null
set m5=null
set g=null
endfunction
function N8D takes nothing returns boolean
if IsUnitIllusion(GetFilterUnit())==true and GetUnitTypeId(GetFilterUnit())==1332179560 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())then
call SetUnitFacing(GetFilterUnit(),IJ4)
call SetUnitAnimation(GetFilterUnit(),"spell")
endif
return false
endfunction
function N9D takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local group g=CX7()
set IJ4=PP7(GetUnitX(CO7),GetUnitY(CO7),GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))
call GroupEnumUnitsInRange(g,GetUnitX(CO7),GetUnitY(CO7),700,Condition(function N8D))
call CW7(g)
set CO7=null
set g=null
endfunction
function NDD takes nothing returns boolean
if GetSpellAbilityId()==1093742660 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call N4D()
else
call N9D()
endif
endif
return false
endfunction
function N48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NDD))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function NDD))
call DE8(1093742659)
call DE8(1093742664)
call DE8(1093742663)
call DE8(1093742665)
call DE8(1093742662)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function MBD))
set t=null
endfunction
function NED takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit oA=CreateUnit(GetOwningPlayer(u),1697656901,GetUnitX(u),GetUnitY(u),0)
call LM7(oA,1093682243)
call IssueTargetOrderById(oA,852274,u)
set u=null
set oA=null
endfunction
function NFD takes nothing returns boolean
if GetSpellAbilityId()==1093682231 then
call NED()
endif
return false
endfunction
function N78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NFD))
set t=null
endfunction
function NGD takes nothing returns boolean
return GetSpellAbilityId()==1093678938
endfunction
function U4 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0
endfunction
function U5 takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit oA=CreateUnit(GetOwningPlayer(CO7),1697657394,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),270)
call LM7(oA,1093678676)
call SetUnitAbilityLevel(oA,1093678676,GetUnitAbilityLevel(CO7,1093678938))
call IssueTargetOrderById(oA,852171,GetEnumUnit())
set CO7=null
set oA=null
endfunction
function NHD takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local group IB8=CX7()
local boolexpr hP=Condition(function U4)
call GroupEnumUnitsInRange(IB8,GetUnitX(CO7),GetUnitY(CO7),650,hP)
call ForGroup(IB8,function U5)
call DestroyBoolExpr(hP)
call CW7(IB8)
set CO7=null
set IB8=null
endfunction
function N88 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NGD))
call TriggerAddAction(t,function NHD)
set t=null
endfunction
function NID takes unit p5,integer BH7 returns nothing
local unit H88=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)
call LM7(H88,1093748546)
call SetUnitAbilityLevel(H88,1093748546,BH7)
call IssueTargetOrder(H88,"invisibility",p5)
call LM7(p5,1093808975)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093808975,false)
set H88=null
endfunction
function NJD takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1747993172
endfunction
function NKD takes unit NMD returns boolean
local group g=CX7()
local boolean NND=false
call GroupEnumUnitsInRange(g,GetUnitX(NMD),GetUnitY(NMD),375,Condition(function NJD))
if FirstOfGroup(g)!=null then
set NND=true
endif
call CW7(g)
set g=null
return NND
endfunction
function NOD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer HG8=UN7(UC7,"TargetIndex")
local unit Z_7=ZX7(HG8)
local integer YL9=UN7(UC7,"Count")
local integer BH7=UN7(UC7,"Level")
local real E69=(LoadReal(L7,(UC7),(442)))
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED and GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT then
set YL9=YL9+1
call TQ7(UC7,"Count",YL9)
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093677402 and GetTriggerUnit()==Z_7 then
call SaveReal(L7,(UC7),(442),(((TimerGetElapsed(W))+1.0)*1.0))
call DisableTrigger(GetTriggeringTrigger())
call NID(Z_7,BH7)
call EnableTrigger(GetTriggeringTrigger())
call TQ7(UC7,"Count",0)
endif
if nA(GetUnitX(Z_7),GetUnitY(Z_7),375)==false and NKD(Z_7)==false then
if E69<(TimerGetElapsed(W))or GetTriggerEvalCount(t)==1 then
call UnitRemoveAbility(Z_7,1110454833)
call UnitRemoveAbility(Z_7,1093748545)
call UnitRemoveAbility(Z_7,1093808975)
call UnitRemoveAbility(Z_7,1110459705)
call TN7(UC7)
call UA7(t)
endif
elseif(UP7(UC7,"NaturesGuise|Special")and YL9>(150*BH7))then
call UnitRemoveAbility(Z_7,1110454833)
call UnitRemoveAbility(Z_7,1093748545)
call UnitRemoveAbility(Z_7,1093808975)
call UnitRemoveAbility(Z_7,1110459705)
call TN7(UC7)
call UA7(t)
elseif UP7(UC7,"NaturesGuise|Special")and GetUnitAbilityLevel(Z_7,1110454833)==0 and GetUnitAbilityLevel(Z_7,1093748545)>0 then
call SaveReal(L7,(UC7),(442),(((TimerGetElapsed(W))+1.0)*1.0))
call DisableTrigger(GetTriggeringTrigger())
call NID(Z_7,BH7)
call EnableTrigger(GetTriggeringTrigger())
elseif GetUnitAbilityLevel(Z_7,1110454833)==0 then
call UnitRemoveAbility(Z_7,1110454833)
call UnitRemoveAbility(Z_7,1093748545)
call UnitRemoveAbility(Z_7,1093808975)
call UnitRemoveAbility(Z_7,1110459705)
call TN7(UC7)
call UA7(t)
else
call SaveReal(L7,(UC7),(442),(((TimerGetElapsed(W))+1.0)*1.0))
endif
set t=null
set Z_7=null
return false
endfunction
function NPD takes nothing returns nothing
local unit Z_7=GetAttacker()
local integer AF7=GetHandleId(Z_7)
local trigger t=UF7(AF7,"Nature|Trg")
local integer B17=GetHandleId(t)
if UP7(B17,"NaturesGuise|Special")and GetAttacker()==Z_7 then
call UnitRemoveAbility(Z_7,1110454833)
call UnitRemoveAbility(Z_7,1093748545)
call TN7(B17)
call UA7(t)
endif
set Z_7=null
set t=null
endfunction
function NQD takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1110454833)>0 or GetUnitAbilityLevel(GetAttacker(),1093748545)>0 then
call NPD()
endif
return false
endfunction
function NRD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
if GetUnitAbilityLevel(EC8,1110454833)>0 then
call LM7(EC8,1093748545)
endif
endif
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set EC8=null
return false
endfunction
function NSD takes nothing returns nothing
local trigger t
local integer UC7
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TQ7(UC7,"TargetIndex",ZZ7(GetSpellTargetUnit()))
call TQ7(UC7,"Level",GetUnitAbilityLevel(GetTriggerUnit(),1093677402))
call TQ7(UC7,"Count",0)
call SaveReal(L7,(UC7),(442),(((TimerGetElapsed(W))+1.0)*1.0))
call TriggerAddCondition(t,Condition(function NOD))
call TriggerRegisterTimerEvent(t,0.1,true)
call LM7(GetSpellTargetUnit(),1093808975)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetSpellTargetUnit()),1093808975,false)
if GetTriggerUnit()==GetSpellTargetUnit()then
call TT7(UC7,"NaturesGuise|Special",true)
call TW7(GetHandleId(GetSpellTargetUnit()),"Nature|Trg",t)
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
set t=CreateTrigger()
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(GetTriggerUnit()))
call TriggerAddCondition(t,Condition(function NRD))
call TriggerRegisterTimerEvent(t,2,false)
call TriggerRegisterDeathEvent(t,GetTriggerUnit())
endif
set t=null
endfunction
function NTD takes nothing returns boolean
if GetSpellAbilityId()==1093677402 then
call NSD()
endif
return false
endfunction
function N98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NTD))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function NQD))
set t=null
endfunction
function NUD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local real NVD=(LoadReal(L7,(GetHandleId(O07)),(686)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or NVD<(TimerGetElapsed(W))or CK7(O07)then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call SaveReal(L7,(GetHandleId(O07)),(686),((0)*1.0))
call UnitRemoveAbility(O07,1093809232)
call UnitRemoveAbility(O07,1093809232)
call UnitRemoveAbility(O07,1093809232)
call UnitRemoveAbility(O07,1093809232)
call UnitRemoveAbility(O07,1110459719)
else
call HD8(EC8,O07,ZG4,15+15*H98)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function NWD takes unit EC8,unit O07 returns nothing
local trigger t
local integer OC7
local real NVD=(LoadReal(L7,(GetHandleId(O07)),(686)))
local integer H98=GetUnitAbilityLevel(EC8,1093748535)
if NVD>(TimerGetElapsed(W))then
call SaveReal(L7,(GetHandleId(O07)),(686),(((TimerGetElapsed(W))+4)*1.0))
else
set t=CreateTrigger()
set OC7=GetHandleId(t)
call SaveReal(L7,(GetHandleId(O07)),(686),(((TimerGetElapsed(W))+4)*1.0))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,O07)
call TriggerAddCondition(t,Condition(function NUD))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\AcidBomb\\BottleImpact.mdl",O07,"overhead")))
if H98==1 then
call LM7(O07,1093809232)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093809232,false)
elseif H98==2 then
call LM7(O07,1093809232)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093809232,false)
elseif H98==3 then
call LM7(O07,1093809232)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093809232,false)
elseif H98==4 then
call LM7(O07,1093809232)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093809232,false)
endif
endif
set t=null
endfunction
function Sentinel_FindClosest takes nothing returns boolean
if GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(TS4)and(GetUnitTypeId(GetFilterUnit())==1747993172 or GetUnitTypeId(GetFilterUnit())==1747993173)then
if RF7(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),TT4,TU4)<TV4 then
set TR4=GetFilterUnit()
set TV4=RF7(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),TT4,TU4)
endif
endif
return false
endfunction
function NXD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07
local group g
local real BV8=(LoadReal(L7,(OC7),(442)))
local real x
local real y
local integer BD7
local real hp
local integer CP8=(LoadInteger(L7,(OC7),(34)))
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_DEATH then
set CP8=CP8+1
call SaveInteger(L7,(OC7),(34),(CP8))
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH then
if GetTriggerUnit()==H88 then
call UnitRemoveAbility(H88,1097886070)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
elseif GetUnitTypeId(H88)==1747993172 then
set IN4=H88
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(H88),GetUnitY(H88),110,Condition(function FT8))
set O07=TG9(g,GetUnitX(H88),GetUnitY(H88))
call CW7(g)
if O07!=null then
call NWD(EC8,O07)
set x=GetUnitX(H88)
set y=GetUnitY(H88)
set hp=GetUnitState(H88,UNIT_STATE_LIFE)
call ShowUnit(H88,false)
call DisableTrigger(t)
call KillUnit(H88)
call EnableTrigger(t)
set H88=CreateUnit(GetOwningPlayer(EC8),1747993173,x,y,0)
call SetUnitState(H88,UNIT_STATE_LIFE,hp)
call UnitApplyTimedLife(H88,1112820806,480-((TimerGetElapsed(W))-BV8))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call SaveReal(L7,(OC7),(411),(((TimerGetElapsed(W))+4)*1.0))
endif
elseif GetUnitTypeId(H88)==1747993173 and(LoadReal(L7,(OC7),(411)))<(TimerGetElapsed(W))then
set x=GetUnitX(H88)
set y=GetUnitY(H88)
set hp=GetUnitState(H88,UNIT_STATE_LIFE)
call ShowUnit(H88,false)
call DisableTrigger(t)
call KillUnit(H88)
call EnableTrigger(t)
set H88=CreateUnit(GetOwningPlayer(EC8),1747993172,x,y,0)
call SetUnitState(H88,UNIT_STATE_LIFE,hp)
call UnitApplyTimedLife(H88,1112820806,480-((TimerGetElapsed(W))-BV8))
call SaveUnitHandle(L7,(OC7),(19),(H88))
endif
set t=null
set EC8=null
set O07=null
set H88=null
set g=null
return false
endfunction
function NYD takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093748535)
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local unit H88=CreateUnit(GetOwningPlayer(EC8),1747993172,x,y,0)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call UnitApplyTimedLife(H88,1112820806,480)
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function NXD))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(442),(((TimerGetElapsed(W)))*1.0))
call SaveInteger(L7,(OC7),(34),(0))
set t=null
set EC8=null
set H88=null
endfunction
function NZD takes nothing returns boolean
if GetSpellAbilityId()==1093748535 then
call NYD()
endif
return false
endfunction
function NE8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NZD))
set t=null
endfunction
function gg_ForestSentinelHack takes nothing returns nothing
local unit F9D=GetTriggerUnit()
local integer RP7=GetUnitAbilityLevel(F9D,1093748535)
local real x=0.
local real y=0.
local unit NAD=null
local trigger t=null
local integer C97=0
local unit OA7=null
local unit u=null
local group g=null
local boolexpr b=Condition(function W27)
if((Z17(GetOwningPlayer(F9D))))then
set t=CreateTrigger()
set C97=GetHandleId(t)
set g=CreateGroup()
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(F9D),800,Condition(function W27))
if(not Q67(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen IsUnitEnemy(u,GetOwningPlayer(F9D))
endloop
set OA7=u
endif
call DestroyGroup(g)
if(OA7!=null)then
set x=GetUnitX(OA7)+GetRandomReal(-10.,10.)
set y=GetUnitY(OA7)+GetRandomReal(-10.,10.)
else
set x=GetUnitX(F9D)+GetRandomReal(-10.,10.)
set y=GetUnitY(F9D)+GetRandomReal(-10.,10.)
endif
set NAD=CreateUnit(GetOwningPlayer(F9D),1747993172,x,y,0)
call UnitApplyTimedLife(NAD,1112820806,480)
call TriggerRegisterUnitEvent(t,NAD,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,F9D,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function NXD))
call SaveUnitHandle(L7,(C97),(19),(NAD))
call SaveUnitHandle(L7,(C97),(2),(F9D))
call SaveReal(L7,(C97),(442),(((TimerGetElapsed(W)))*1.0))
call UnitAddAbility(F9D,1093751126)
call B27(F9D,NAD)
endif
set t=null
set F9D=null
set NAD=null
call DestroyBoolExpr(b)
set OA7=null
set g=null
set u=null
endfunction
function NBD takes nothing returns nothing
local unit O07=GetEnumUnit()
local real d=RF7(GetUnitX(O07),GetUnitY(O07),IT7,IU7)
if d<IS7 and IsUnitVisible(O07,GetOwningPlayer(IV7))==true and(IsUnitType(O07,UNIT_TYPE_HERO)==true or(IsUnitType(O07,UNIT_TYPE_STRUCTURE)==true and FR8(O07)))then
set IR7=GetEnumUnit()
set IS7=d
endif
set O07=null
endfunction
function NCD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer CP8=(LoadInteger(L7,(OC7),(34)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>5 then
set CP8=CP8+1
call SaveInteger(L7,(OC7),(34),(CP8))
call DT8(O07,RMinBJ(GetEventDamage(),20*GetUnitAbilityLevel(EC8,1093815628)))
endif
endif
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or CP8>6 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveAbility(O07,1093815640)
call UnitRemoveAbility(O07,1093815641)
call UnitRemoveAbility(O07,1093815639)
call UnitRemoveAbility(O07,1093815638)
call UnitRemoveAbility(O07,1110460213)
endif
set t=null
set O07=null
set EC8=null
return false
endfunction
function N3D takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local integer N6D=1093815640
local integer H98=GetUnitAbilityLevel(EC8,1093815628)
local group g
if O07==null then
set IR7=null
set IV7=EC8
set IS7=999999
set IT7=GetSpellTargetX()
set IU7=GetSpellTargetY()
set IN4=EC8
set g=CX7()
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function GW8))
call ForGroup(g,function NBD)
call CW7(g)
set O07=IR7
set g=null
endif
if H98==2 then
set N6D=1093815641
elseif H98==3 then
set N6D=1093815639
elseif H98==4 then
set N6D=1093815638
endif
call LM7(O07,N6D)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),N6D,false)
call TriggerRegisterTimerEvent(t,15,false)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function NCD))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveInteger(L7,(OC7),(34),(0))
set t=null
set O07=null
set EC8=null
endfunction
function NLD takes nothing returns boolean
if GetSpellAbilityId()==1093815628 then
call N3D()
endif
return false
endfunction
function ND8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NLD))
set t=null
endfunction
function N1D takes nothing returns nothing
local integer OC7=GetHandleId(GetTriggeringTrigger())
local unit EC8=IN4
local unit O07=IP4
local real N0D=(LoadReal(L7,(OC7),(21)))
call SetUnitState(O07,UNIT_STATE_LIFE,GetUnitState(O07,UNIT_STATE_LIFE)+N0D)
set EC8=null
set O07=null
endfunction
function N5D takes nothing returns nothing
local trigger t=EK8(B84,GetEnumUnit(),1747993656,"N1D",400)
local integer OC7=GetHandleId(t)
call SaveReal(L7,(OC7),(21),((B94)*1.0))
set t=null
endfunction
function N2D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local group g
local integer CP8=(LoadInteger(L7,(OC7),(34)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveAbility(O07,1093809971)
call UnitRemoveAbility(O07,1110459724)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
else
set CP8=CP8+1
call SaveInteger(L7,(OC7),(34),(CP8))
if CP8>3 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveAbility(O07,1093809971)
call UnitRemoveAbility(O07,1110459724)
endif
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl",O07,"origin"))
set IN4=EC8
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(O07),GetUnitY(O07),525,Condition(function G88))
set B84=O07
set B94=15+15*H98
call ForGroup(g,function N5D)
call CW7(g)
call HD8(EC8,O07,ZG4,B94)
endif
set t=null
set EC8=null
set O07=null
set g=null
return false
endfunction
function N_D takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093809742)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call LM7(O07,1093809971)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093809971,false)
call TriggerRegisterDeathEvent(t,O07)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function N2D))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(442),(((TimerGetElapsed(W)))*1.0))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveInteger(L7,(OC7),(34),(0))
set t=null
set EC8=null
endfunction
function LeechSeed takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
call EK8(EC8,O07,1747993657,"N_D",600)
set EC8=null
set O07=null
endfunction
function O4D takes nothing returns boolean
if GetSpellAbilityId()==1093809742 and CV7(GetSpellTargetUnit())==false then
call N_D()
endif
return false
endfunction
function NF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function O4D))
set t=null
endfunction
function O7D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local integer BH7=UN7(UC7,"Level")
local integer YL9=UN7(UC7,"Count")
if GetTriggerEventId()!=EVENT_UNIT_DEATH and GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and YL9<(6)then
set YL9=YL9+1
call TQ7(UC7,"Count",YL9)
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-8*BH7)
call HD8(p5,m5,ZG4,5+15*BH7)
elseif YL9>=(6)or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()!=1093743191 and GetSpellAbilityId()!=1093682767 and GetSpellAbilityId()!=1093750095 and GetSpellAbilityId()!=1093747504 and GetSpellAbilityId()!=1093753417 and GetSpellAbilityId()!=1093810265 and J98(GetSpellAbilityId())==false and(B77(GetSpellAbilityId())or GetSpellAbilityId()==1093678667))then
call DestroyEffect(UH7(UC7,"FX"))
call UnitRemoveAbility(m5,1093750867)
call UnitRemoveAbility(m5,1110459217)
call TN7(UC7)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function O8D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer BH7=GetUnitAbilityLevel(p5,1093743692)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call LM7(m5,1093750867)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function O7D))
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TV7(UC7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareTarget.mdl",m5,"overhead"))
call TQ7(UC7,"Level",BH7)
call TQ7(UC7,"Count",0)
set p5=null
set m5=null
set t=null
endfunction
function O9D takes nothing returns nothing
local group g=CX7()
local location l=GetSpellTargetLoc()
set IN4=GetTriggerUnit()
set oZ=GetTriggerUnit()
call GroupEnumUnitsInRange(g,GetLocationX(l),GetLocationY(l),375,Condition(function GU8))
call ForGroup(g,function O8D)
call DZ8("war3mapImported\\CotS.mdx",GetLocationX(l),GetLocationY(l),5)
call CW7(g)
call RemoveLocation(l)
set g=null
set l=null
endfunction
function ODD takes nothing returns boolean
if GetSpellAbilityId()==1093743692 then
call O9D()
endif
return false
endfunction
function NG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ODD))
set t=null
endfunction
function OED takes nothing returns boolean
local real d
if GetUnitAbilityLevel(GetTriggerUnit(),1110455640)>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093684314)>0 and U87(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call UnitRemoveAbility(GetTriggerUnit(),1110455640)
set d=(0.15+0.15*I2R(GetUnitAbilityLevel(GetEventDamageSource(),1093684314)))*GetHeroInt(GetEventDamageSource(),true)
call DC8("+"+I2S(R2I(d)),1,GetTriggerUnit(),0.023,3,216,216,216)
call DisableTrigger(GetTriggeringTrigger())
call HD8(GetEventDamageSource(),GetTriggerUnit(),ZI4,d)
call TN7(GetHandleId(GetTriggeringTrigger()))
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function OFD takes nothing returns nothing
local trigger t
local unit O07
local unit EC8
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set O07=GetSpellTargetUnit()
set EC8=GetTriggerUnit()
else
set O07=GetTriggerUnit()
set EC8=GetAttacker()
endif
if IsUnitIllusion(EC8)==false then
set t=CreateTrigger()
call TU7(GetHandleId(t),"Source",EC8)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function OED))
endif
set t=null
set O07=null
set EC8=null
endfunction
function ve takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetUnitAbilityLevel(GetAttacker(),1093684314)>0 and(UP7(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==U87(GetHandleId(GetTriggeringTrigger()),"Hero")then
call OFD()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==852255)then
call TT7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)
elseif(GetIssuedOrderId()==852256)then
call TT7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093684314 then
call OFD()
endif
return false
endfunction
function OGD takes unit CO7,boolean A_9 returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function ve))
call TU7(GetHandleId(t),"Hero",CO7)
if A_9 then
set aj[GetPlayerId(GetOwningPlayer(CO7))]=t
endif
set t=null
endfunction
function OHD takes nothing returns boolean
if GetLearnedSkill()==1093684314 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093684314)==1 then
call OGD(GetTriggerUnit(),false)
endif
return false
endfunction
function NH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function OHD))
set t=null
endfunction
function OID takes nothing returns boolean
return GetSpellAbilityId()==1093684275
endfunction
function OJD takes nothing returns boolean
call UA7(GetTriggeringTrigger())
call VolumeGroupReset()
return false
endfunction
function OKD takes nothing returns nothing
local location L18=GetUnitLoc(GetTriggerUnit())
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,GetUnitAbilityLevel(GetTriggerUnit(),1093684275)+2,false)
call TriggerAddCondition(t,Condition(function OJD))
call CreateNUnitsAtLoc(1,1697656901,GetOwningPlayer(GetTriggerUnit()),L18,bj_UNIT_FACING)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitApplyTimedLifeBJ(5.00,1112820806,bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,1093684274)
call SetUnitAbilityLevelSwapped(1093684274,bj_lastCreatedUnit,GetUnitAbilityLevel(GetTriggerUnit(),1093684275))
call IssuePointOrderLoc(bj_lastCreatedUnit,"silence",L18)
call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_UNITSOUNDS,.0)
call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_COMBAT,.0)
call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_SPELLS,.0)
call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_MUSIC,.0)
call RemoveLocation(L18)
set t=null
set L18=null
endfunction
function NI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OID))
call TriggerAddAction(t,function OKD)
set t=null
endfunction
function OMD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=GetUnitAbilityLevel(EC8,1093815892)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call HD8(EC8,O07,ZG4,100+50*H98)
set t=null
set EC8=null
set O07=null
return false
endfunction
function OND takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
local integer H98=GetUnitAbilityLevel(EC8,1093815892)
local boolean OOD=(LoadBoolean(L7,(OC7),(95)))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call LM7(H88,1093684307)
call SetUnitAbilityLevel(H88,1093684307,H98)
call IssueTargetOrder(H88,"soulburn",O07)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerAddCondition(t,Condition(function OMD))
call TriggerRegisterTimerEvent(t,0.01,false)
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(EC8))
call SaveUnitHandle(L7,(GetHandleId(t)),(17),(O07))
call SaveInteger(L7,(GetHandleId(t)),(5),(H98))
if OOD then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LastWordDamageSpell.mdx",O07,"overhead"))
endif
set t=null
set EC8=null
set O07=null
set H88=null
return false
endfunction
function OPD takes integer id returns boolean
return id==1093682265 or id==1093752642 or id==1093677622 or id==1093679446 or id==1095263841 or id==1093684314 or id==1093685582 or id==1093685065
endfunction
function OQD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit H88
local integer H98=GetUnitAbilityLevel(EC8,1093815892)
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call UnitRemoveAbility(O07,1093815893)
call UnitRemoveAbility(O07,1110455638)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call UnitRemoveAbility(O07,1093815893)
call UnitRemoveAbility(O07,1110455638)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerAddCondition(t,Condition(function OND))
call TriggerRegisterTimerEvent(t,0.01,false)
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(EC8))
call SaveUnitHandle(L7,(GetHandleId(t)),(17),(O07))
call SaveInteger(L7,(GetHandleId(t)),(5),(H98))
call SaveBoolean(L7,(OC7),(95),(false))
set H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call LM7(H88,1093815895)
call SetUnitAbilityLevel(H88,1093815895,H98)
call IssueTargetOrder(H88,"drunkenhaze",O07)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LastWordDamageDuration.mdx",O07,"overhead"))
set H88=null
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and J78(GetSpellAbilityId())==false and J98(GetSpellAbilityId())==false and GetSpellAbilityId()!=1095328363 and GetSpellAbilityId()!=1093678426 and GetSpellAbilityId()!=1093682768 and GetSpellAbilityId()!=1093685593 and GetSpellAbilityId()!=1093678680 and GetSpellAbilityId()!=1093681489 and GetSpellAbilityId()!=1093808472 and GetSpellAbilityId()!=1093808471 and GetSpellAbilityId()!=1093808470 and GetSpellAbilityId()!=1093743191 and GetSpellAbilityId()!=1093678667 and GetSpellAbilityId()!=1097163124 and GetSpellAbilityId()!=1093683801 and GetSpellAbilityId()!=1093682767 and GetSpellAbilityId()!=1093750345 and GetSpellAbilityId()!=1093750089 and GetSpellAbilityId()!=1093751096 and GetSpellAbilityId()!=1093751361 and GetSpellAbilityId()!=1093751126 and GetSpellAbilityId()!=1093808473 and GetSpellAbilityId()!=1093748565 and GetSpellAbilityId()!=1093753177 and OPD(GetSpellAbilityId())==false then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call UnitRemoveAbility(O07,1093815893)
call UnitRemoveAbility(O07,1110455638)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=CreateTrigger()
set OC7=GetHandleId(t)
if GetSpellAbilityId()==1093685846 or GetSpellAbilityId()==1093684302 then
call TriggerRegisterTimerEvent(t,0.01,false)
else
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_SPELL_ENDCAST)
endif
call TriggerAddCondition(t,Condition(function OND))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveBoolean(L7,(OC7),(95),(true))
endif
set O07=null
set EC8=null
set t=null
return false
endfunction
function ORD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
if GetUnitAbilityLevel(O07,1093815893)==0 or GetTriggerEvalCount(t)>250 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call KillUnit(H88)
else
call SetUnitX(H88,GetUnitX(O07))
call SetUnitY(H88,GetUnitY(O07))
endif
set t=null
set H88=null
set O07=null
return false
endfunction
function OSD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local unit H88=CreateUnit(GetOwningPlayer(EC8),1865429305,GetUnitX(O07),GetUnitY(O07),0)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,5,false)
call TriggerRegisterDeathEvent(t,O07)
call TriggerAddCondition(t,Condition(function OQD))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call LM7(O07,1093815893)
call UnitMakeAbilityPermanent(O07,true,1093815894)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093815893,false)
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("war3mapImported\\LastWordDebuff_6.mdx",O07,"overhead")))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function ORD))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call SaveUnitHandle(L7,(OC7),(17),(O07))
set EC8=null
set O07=null
set t=null
endfunction
function OTD takes nothing returns boolean
if GetSpellAbilityId()==1093815892 and CV7(GetSpellTargetUnit())==false then
call OSD()
endif
return false
endfunction
function LastWord_Process takes nothing returns nothing
local integer OC7=GetHandleId(GetTriggeringTrigger())
local unit EC8=IP4
local real B19=(LoadReal(L7,(OC7),(20)))
call SetHeroInt(EC8,GetHeroInt(EC8,false)+1,true)
call DC8("+1 "+GetObjectName(1848658512),3,EC8,0.023,0,255,0,230)
set EC8=null
endfunction
function OUD takes nothing returns nothing
local integer OC7=GetHandleId(GetTriggeringTrigger())
local unit EC8=IP4
local real B19=(LoadReal(L7,(OC7),(20)))
call SetHeroInt(EC8,GetHeroInt(EC8,false)+2,true)
call DC8("+2 "+GetObjectName(1848658512),3,EC8,0.023,0,255,0,230)
set EC8=null
endfunction
function OVD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit LR7=GetTriggerUnit()
if IsUnitType(LR7,UNIT_TYPE_HERO)==true and J48(GetUnitTypeId(LR7))==false and IsUnitIllusion(LR7)==false and(IsUnitInRange(EC8,LR7,900)or GetOwningPlayer(EC8)==GetOwningPlayer(GetKillingUnit()))and LO7(EC8)==false and IsUnitAlly(EC8,GetOwningPlayer(LR7))==false then
set SR4[GetPlayerId(GetOwningPlayer(EC8))]=SR4[GetPlayerId(GetOwningPlayer(EC8))]+2
call DC8("-2 "+GetObjectName(1848658512),3,LR7,0.023,255,0,0,230)
call SetHeroInt(LR7,GetHeroInt(LR7,false)-2,true)
call EK8(LR7,EC8,1747993424,"OUD",450)
endif
set t=null
set EC8=null
set LR7=null
return false
endfunction
function OWD takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function OVD))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set EC8=null
set t=null
endfunction
function OXD takes nothing returns boolean
if GetLearnedSkill()==1093684314 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093684314)==1 then
call OWD()
endif
return false
endfunction
function OYD takes nothing returns boolean
local integer OZD=SR4[GetPlayerId(GetTriggerPlayer())]
if GetUnitTypeId(M7[GetPlayerId(GetTriggerPlayer())])==1311781185 and OZD>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetObjectName(1848657997)+" "+I2S(OZD))
endif
return false
endfunction
function NJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OTD))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function OXD))
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function OYD))
set t=null
endfunction
function OAD takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false then
call HD8(JT,GetEnumUnit(),ZG4,MT)
call IssueTargetOrder(KT,"slow",GetEnumUnit())
else
call HD8(JT,GetEnumUnit(),ZG4,MT/ 3)
call IssueTargetOrder(KT,"slow",GetEnumUnit())
endif
endfunction
function OBD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=U87(OC7,"Source")
local unit H88=U87(OC7,"Caster")
local integer H98=UN7(OC7,"Level")
local real x=UO7(OC7,"x")
local real y=UO7(OC7,"y")
local group g=CX7()
local real d
local real a
local real x2
local real y2
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,360+25,Condition(function GV8))
set JT=EC8
set MT=H98*12
set KT=H88
call ForGroup(g,function OAD)
call CW7(g)
call DestroyEffect(UH7(OC7,"FX0"))
call DestroyEffect(UH7(OC7,"FX1"))
call DestroyEffect(UH7(OC7,"FX2"))
call DestroyEffect(UH7(OC7,"FX3"))
call DestroyEffect(UH7(OC7,"FX4"))
call DestroyEffect(UH7(OC7,"FX5"))
call DestroyEffect(UH7(OC7,"FX6"))
call DestroyEffect(UH7(OC7,"FX7"))
call DestroyEffect(UH7(OC7,"FX8"))
if GetTriggerEvalCount(t)==9 then
call TN7(OC7)
call UA7(t)
else
set d=0
set a=0
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TV7(OC7,"FX0",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=150
set a=45
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TV7(OC7,"FX1",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=275
set a=90
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TV7(OC7,"FX2",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=150
set a=135
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TV7(OC7,"FX3",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=275
set a=180
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TV7(OC7,"FX4",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=150
set a=225
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TV7(OC7,"FX5",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=275
set a=270
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TV7(OC7,"FX6",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=150
set a=305
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TV7(OC7,"FX7",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
set d=275
set a=360
set x2=x+d*Cos(a*bj_DEGTORAD)
set y2=y+d*Sin(a*bj_DEGTORAD)
call TV7(OC7,"FX8",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))
endif
set t=null
set EC8=null
set H88=null
set g=null
return false
endfunction
function OCD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local integer BH7=GetUnitAbilityLevel(p5,1093678644)
local real x1=UO7(UC7,"x")
local real y1=UO7(UC7,"y")
local unit H88=CreateUnit(GetOwningPlayer(p5),1697656901,x1,y1,0)
local real x2
local real y2
local real d
local real a
local integer i
call LM7(H88,1093744966)
call SetUnitAbilityLevel(H88,1093744966,BH7)
if GetTriggerEvalCount(t)==1 then
set i=1
loop
exitwhen i>10
set d=GetRandomReal(0,450)
set a=GetRandomReal(0,360)
set x2=x1+d*Cos(a*bj_DEGTORAD)
set y2=y1+d*Sin(a*bj_DEGTORAD)
set H88=CreateUnit(GetOwningPlayer(p5),1697656906,GetUnitX(p5),GetUnitY(p5),90)
call IssuePointOrder(H88,"attackground",x2,y2)
call UnitApplyTimedLife(H88,1112820806,0.5)
set i=i+1
endloop
else
call TN7(UC7)
call UA7(t)
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TU7(UC7,"Source",p5)
call TU7(UC7,"Caster",H88)
call TR7(UC7,"x",(x1)*1.0)
call TR7(UC7,"y",(y1)*1.0)
call TQ7(UC7,"Level",BH7)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function OBD))
call TriggerEvaluate(t)
endif
set p5=null
set H88=null
set t=null
return false
endfunction
function O3D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
call E88(GetOwningPlayer(p5),9.4,x,y,360)
call TriggerRegisterTimerEvent(t,0.4,true)
call TriggerAddCondition(t,Condition(function OCD))
call TU7(UC7,"Source",p5)
call TR7(UC7,"x",(x)*1.0)
call TR7(UC7,"y",(y)*1.0)
call RemoveLocation(l)
set t=null
set p5=null
set l=null
endfunction
function O6D takes nothing returns boolean
if GetSpellAbilityId()==1093678644 then
call O3D()
endif
return false
endfunction
function NK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function O6D))
call DE8(1093744966)
set t=null
endfunction
function OLD takes nothing returns boolean
return GetLearnedSkill()==1093677909
endfunction
function O1D takes nothing returns nothing
call SetPlayerTechResearchedSwap(1378889781,GetUnitAbilityLevelSwapped(1093677909,GetTriggerUnit()),GetOwningPlayer(GetLearningUnit()))
endfunction
function Pv takes nothing returns nothing
set dX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dX,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(dX,Condition(function OLD))
call TriggerAddAction(dX,function O1D)
endfunction
function O0D takes nothing returns boolean
return GetLearnedSkill()==1093677130 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function O5D takes nothing returns nothing
if(GetUnitAbilityLevel(GetTriggerUnit(),1093684546)==0)then
call LM7(GetTriggerUnit(),1093684546)
endif
call SetUnitAbilityLevel(GetTriggerUnit(),1093684546,GetUnitAbilityLevel(GetTriggerUnit(),1093677130))
endfunction
function Pw takes nothing returns nothing
set dY=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dY,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(dY,Condition(function O0D))
call TriggerAddAction(dY,function O5D)
endfunction
function O2D takes nothing returns nothing
local unit EC8=GetAttacker()
local unit O07=GetTriggerUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093682266)
local boolean O_D=UP7(GetHandleId(EC8),"Backstab|Free")
local real d=RAbsBJ(GetUnitFacing(O07)-GetUnitFacing(EC8))
if d>180 then
set d=360-d
endif
if d<=105 or O_D then
call TT7(GetHandleId(EC8),"Backstab|Free",false)
if GetUnitAbilityLevel(O07,1093678162)==0 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",O07,"chest"))
call HD8(EC8,O07,ZH4,GetHeroAgi(EC8,true)*(0.25*H98+0.25))
endif
endif
set EC8=null
set O07=null
endfunction
function P4D takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093682266)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false then
call O2D()
endif
return false
endfunction
function NN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function P4D))
set t=null
endfunction
function P7D takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit oA=CreateUnit(GetOwningPlayer(CO7),1697656883,x,y,0)
local integer BH7=GetUnitAbilityLevel(CO7,1093685831)
local real vr=(83+17*BH7)*0.01
call SetUnitVertexColor(oA,255,255,255,150)
call UnitApplyTimedLife(oA,1112820806,6)
call SetUnitScale(oA,vr,vr,vr)
if Z37(GetOwningPlayer(CO7))then
call LM7(oA,1093677369)
call SetUnitAbilityLevel(oA,1093677369,BH7)
else
call LM7(oA,1093682487)
call SetUnitAbilityLevel(oA,1093682487,BH7)
endif
call IssuePointOrder(oA,"cloudoffog",x,y)
call RemoveLocation(l)
set CO7=null
set l=null
set oA=null
endfunction
function P8D takes nothing returns boolean
if GetSpellAbilityId()==1093685831 then
call P7D()
endif
return false
endfunction
function NO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function P8D))
set t=null
endfunction
function P9D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer O37=GetHandleId(t)
if SE7(LoadUnitHandle(L7,O37,1635021931))or GetTriggerEvalCount(t)>=11 then
call FlushChildHashtable(L7,O37)
call DestroyTrigger(t)
else
call IssueTargetOrderById(LoadUnitHandle(L7,O37,1635021931),851983,LoadUnitHandle(L7,O37,1952543335))
endif
set t=null
return false
endfunction
function PDD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real DS8=30*GetUnitAbilityLevel(p5,1093684025)
local trigger t
local integer UC7
local real x=GetUnitX(m5)-75*Cos(GetUnitFacing(m5)*bj_DEGTORAD)
local real y=GetUnitY(m5)-75*Sin(GetUnitFacing(m5)*bj_DEGTORAD)
local trigger PED
local integer PFD
call SetUnitX(p5,x)
call SetUnitY(p5,y)
call SetUnitFacing(p5,GetUnitFacing(m5))
call DestroyEffect(AddSpecialEffect("war3mapImported\\BlinkStrike.mdx",x,y))
if IsUnitEnemy(m5,GetOwningPlayer(p5))then
call HD8(p5,m5,ZG4,DS8)
call TT7(GetHandleId(p5),"Backstab|Free",true)
call IssueTargetOrder(p5,"attack",m5)
if(GetPlayerController(GetOwningPlayer(p5))!=MAP_CONTROL_USER)then
if SP7(700,p5,Condition(function k6))<1 then
set PED=CreateTrigger()
set PFD=GetHandleId(PED)
call SaveUnitHandle(L7,PFD,1952543335,m5)
call SaveUnitHandle(L7,PFD,1635021931,p5)
call TriggerAddCondition(PED,Condition(function P9D))
call TriggerRegisterTimerEvent(PED,0.4,true)
set PED=null
endif
call R47(0.3)
call IssueTargetOrder(p5,"attack",m5)
endif
endif
set p5=null
set m5=null
set t=null
endfunction
function PGD takes nothing returns boolean
if GetSpellAbilityId()==1093684025 then
call PDD()
endif
return false
endfunction
function PHD takes nothing returns boolean
if GetSpellAbilityId()==1093684025 then
call DestroyEffect(AddSpecialEffect("war3mapImported\\BlinkStrike.mdx",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
endif
return false
endfunction
function NP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PGD))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function PHD))
set t=null
endfunction
function PID takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
call SetUnitAnimationByIndex(EC8,8)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set EC8=null
return false
endfunction
function PJD takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call SetUnitAnimationByIndex(EC8,7)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function PID))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=null
set EC8=null
endfunction
function PKD takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==1311788336 then
call PJD()
endif
return false
endfunction
function V78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function PKD))
set t=null
endfunction
function PMD takes nothing returns nothing
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call HD8(RT4,GetEnumUnit(),ZG4,RU4)
endfunction
function PND takes nothing returns boolean
local trigger t2=GetTriggeringTrigger()
local integer POD=GetHandleId(t2)
local trigger t1=UF7(POD,"t1")
local integer PPD=GetHandleId(t1)
local unit PQD=U87(POD,"Remnant")
local group g
local integer H98=UN7(POD,"Level")
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call ShowUnit(PQD,false)
call KillUnit(PQD)
call TN7(PPD)
call UA7(t1)
call TN7(POD)
call UA7(t2)
elseif IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(PQD))==true and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 then
set g=CX7()
set IN4=PQD
set RT4=PQD
set RU4=100+40*H98
call GroupEnumUnitsInRange(g,GetUnitX(PQD),GetUnitY(PQD),285,Condition(function FT8))
call ForGroup(g,function PMD)
call CW7(g)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetUnitX(PQD),GetUnitY(PQD)))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetUnitX(PQD),GetUnitY(PQD)))
call ShowUnit(PQD,false)
call KillUnit(PQD)
call TN7(PPD)
call UA7(t1)
call TN7(POD)
call UA7(t2)
endif
set t1=null
set t2=null
set PQD=null
set g=null
return false
endfunction
function PRD takes nothing returns boolean
local trigger t1=GetTriggeringTrigger()
local integer PSD=GetHandleId(t1)
local trigger t2
local integer B49
local unit PTD
local integer BH7
local real x=UO7(PSD,"x")
local real y=UO7(PSD,"y")
local real PUD
local integer B78=GetTriggerEvalCount(t1)
if B78==1 then
call DestroyEffect(UH7(PSD,"FX1"))
elseif B78==2 then
call DestroyEffect(UH7(PSD,"FX2"))
set t2=CreateTrigger()
set B49=GetHandleId(t2)
set BH7=UN7(PSD,"Level")
set PUD=UO7(PSD,"Facing")
set PTD=CreateUnit(GetOwningPlayer(U87(PSD,"Source")),1747990342,x,y,PUD)
call SetUnitVertexColor(PTD,255,255,255,100)
call UnitApplyTimedLife(PTD,1112820806,12)
call TU7(PSD,"Remnant",PTD)
call TU7(B49,"Remnant",PTD)
call TW7(B49,"t1",t1)
call TQ7(B49,"Level",BH7)
call TriggerRegisterUnitInRange(t2,PTD,235,Condition(function ZV7))
call TriggerRegisterUnitEvent(t2,PTD,EVENT_UNIT_DEATH)
call TriggerAddCondition(t2,Condition(function PND))
call DestroyEffect(AddSpecialEffectTarget("effects\\ManaFlareBoltImpact_NoSound.mdx",PTD,"origin"))
elseif B78>2 then
set PTD=U87(PSD,"Remnant")
call DestroyEffect(AddSpecialEffectTarget("effects\\ManaFlareBoltImpact_NoSound.mdx",PTD,"origin"))
endif
set t1=null
set t2=null
set PTD=null
return false
endfunction
function PVD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t1=CreateTrigger()
local integer PSD=GetHandleId(t1)
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
call TriggerRegisterTimerEvent(t1,0.5,true)
call TriggerAddCondition(t1,Condition(function PRD))
call TR7(PSD,"x",(x)*1.0)
call TR7(PSD,"y",(y)*1.0)
call TQ7(PSD,"Level",GetUnitAbilityLevel(p5,1093743696))
call TU7(PSD,"Source",p5)
call TR7(PSD,"Facing",GetUnitFacing(p5)*1.0)
call TV7(PSD,"FX1",AddSpecialEffect("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl",x,y))
call TV7(PSD,"FX2",AddSpecialEffect("effects\\Static_Remnant_FX.mdx",x,y))
set p5=null
set t1=null
endfunction
function PWD takes nothing returns boolean
if GetSpellAbilityId()==1093743696 then
call PVD()
endif
return false
endfunction
function SF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PWD))
set t=null
endfunction
function PXD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local real RK=UO7(UC7,"Angle")
local real x=GetUnitX(m5)-5*Cos(RK)
local real y=GetUnitY(m5)-5*Sin(RK)
local integer BH7=UN7(UC7,"Level")
local real PYD=UO7(UC7,"x")
local real PZD=UO7(UC7,"y")
if((PYD-x)*(PYD-x))+((PZD-y)*(PZD-y))<100 then
set x=PYD
set y=PZD
endif
call SetUnitX(m5,x)
call SetUnitY(m5,y)
if GetTriggerEvalCount(t)==(10+10*BH7)then
call TN7(UC7)
call UA7(t)
endif
set t=null
set m5=null
return false
endfunction
function PAD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit oA=CreateUnit(GetOwningPlayer(p5),1966092376,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
local integer BH7=GetUnitAbilityLevel(p5,1093743698)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function PXD))
call TU7(UC7,"Target",m5)
call TR7(UC7,"Angle",Atan2(GetUnitY(m5)-GetUnitY(p5),GetUnitX(m5)-GetUnitX(p5)))
call TQ7(UC7,"Level",BH7)
call TR7(UC7,"x",GetUnitX(p5))
call TR7(UC7,"y",GetUnitY(p5))
call LM7(oA,1093743697)
call SetUnitAbilityLevel(oA,1093743697,BH7)
call IssueTargetOrder(oA,"magicleash",m5)
if not Z17(GetOwningPlayer(p5))then
call UnitApplyTimedLife(oA,1112820806,0.5+0.5*BH7)
endif
set oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call LM7(oA,1093743699)
call IssueTargetOrder(oA,"slow",p5)
set p5=null
set m5=null
set oA=null
set t=null
endfunction
function PBD takes nothing returns boolean
if GetSpellAbilityId()==1093743698 and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 and CV7(GetSpellTargetUnit())==false then
call PAD()
endif
return false
endfunction
function SG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PBD))
set t=null
endfunction
function PCD takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(FZ),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call LM7(oA,1093686069)
call IssueTargetOrder(oA,"slow",GetEnumUnit())
call HD8(FZ,GetEnumUnit(),ZG4,gZ)
set oA=null
endfunction
function P3D takes unit p5,unit m5 returns nothing
local integer UC7=GetHandleId(p5)
local group g=CX7()
call DestroyEffect(UH7(UC7,"OverloadFX1"))
call DestroyEffect(UH7(UC7,"OverloadFX2"))
call UY7(p5,"OverloadActive")
set IN4=p5
set FZ=p5
set gZ=GetUnitAbilityLevel(p5,1093685591)*20+10
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),300,Condition(function FT8))
call ForGroup(g,function PCD)
call CW7(g)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetUnitX(m5),GetUnitY(m5)))
set g=null
endfunction
function P6D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local unit p5=U87(UC7,"Source")
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and UU7(p5,"OverloadActive")then
call DisableTrigger(t)
call P3D(p5,m5)
call TN7(UC7)
call UA7(t)
endif
else
call TN7(UC7)
call UA7(t)
endif
set t=null
set m5=null
set p5=null
return false
endfunction
function PLD takes nothing returns nothing
local trigger t=CreateTrigger()
local unit m5=GetTriggerUnit()
local unit p5=GetAttacker()
local integer UC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function P6D))
call TU7(UC7,"Target",m5)
call TU7(UC7,"Source",p5)
set t=null
set m5=null
set p5=null
endfunction
function P1D takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093685591)>0 and UU7(GetAttacker(),"OverloadActive")and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false then
call PLD()
endif
return false
endfunction
function P0D takes nothing returns nothing
local trigger t=CreateTrigger()
local unit p5=GetTriggerUnit()
local integer UC7=GetHandleId(p5)
local string fx=""
if IsUnitAlly(p5,GetLocalPlayer())or CM7(GetLocalPlayer())then
set fx="Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl"
endif
call TV7(UC7,"OverloadFX1",AddSpecialEffectTarget(fx,p5,"right hand"))
call TV7(UC7,"OverloadFX2",AddSpecialEffectTarget(fx,p5,"left hand"))
set t=null
set p5=null
endfunction
function P5D takes nothing returns boolean
if((GetSpellAbilityId()==1093743695 or GetSpellAbilityId()==1093743696 or GetSpellAbilityId()==1093743698)or(GetUnitPointValue(GetTriggerUnit())==500)and B77(GetSpellAbilityId()))and UU7(GetTriggerUnit(),"OverloadActive")==false then
call UW7(GetTriggerUnit(),"OverloadActive")
call P0D()
endif
return false
endfunction
function P2D takes unit p5,boolean A_9 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function P5D))
if A_9 then
set nj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function P1D))
if A_9 then
set Aj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set p5=null
set t=null
endfunction
function P_D takes nothing returns boolean
if GetLearnedSkill()==1093685591 and GetUnitAbilityLevel(GetTriggerUnit(),1093685591)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call P2D(GetTriggerUnit(),false)
endif
return false
endfunction
function SH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function P_D))
set t=null
endfunction
function Q4D takes nothing returns nothing
if(LoadBoolean(L7,jZ,GetHandleId(GetEnumUnit()))==false)then
call SaveBoolean(L7,jZ,GetHandleId(GetEnumUnit()),true)
call HD8(LZ,GetEnumUnit(),ZG4,mZ*(JZ*4+4)/ 100)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetEnumUnit(),"origin"))
endif
endfunction
function Q7D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=UN7(UC7,"Level")
local unit oA=U87(UC7,"Caster")
local unit p5=U87(UC7,"Source")
local unit Q8D=U87(UC7,"Fake")
local integer u3=UN7(UC7,"Remaining")
local real hN=UO7(UC7,"x")
local real ho=UO7(UC7,"y")
local real u4=GetUnitX(p5)
local real u5=GetUnitY(p5)
local real RK=Atan2(ho-u5,hN-u4)
local real Il=u4+(25+25*BH7)*Cos(RK)
local real IL=u5+(25+25*BH7)*Sin(RK)
local lightning S29=UI7(UC7,"Light")
local real Q9D=UO7(UC7,"lx")
local real QDD=UO7(UC7,"ly")
local real ZM8=GetUnitState(p5,UNIT_STATE_MANA)
local real QED=(25+25*BH7)*(10+0.01*GetUnitState(p5,UNIT_STATE_MAX_MANA))/ 100
local group g=CX7()
local real QFD=UO7(UC7,"Traveled")
set QFD=QFD+25+25*BH7
call TR7(UC7,"Traveled",QFD)
if GetTriggerEvalCount(t)>25 then
set Q9D=Q9D+(25+25*BH7)*Cos(RK)
set QDD=QDD+(25+25*BH7)*Sin(RK)
call TR7(UC7,"lx",Q9D)
call TR7(UC7,"ly",QDD)
endif
call SetUnitState(p5,UNIT_STATE_MANA,RMaxBJ(ZM8-QED,0))
call MoveLightning(S29,true,Q9D,QDD,Il,IL)
call SetUnitX(p5,Il)
call SetUnitY(p5,IL)
call SetUnitPosition(oA,Il,IL)
call SetUnitPosition(Q8D,Il,IL)
set IN4=p5
set LZ=p5
set jZ=UC7
set JZ=BH7
set mZ=QFD
call GroupEnumUnitsInRange(g,Il,IL,75+75*BH7,Condition(function FT8))
call ForGroup(g,function Q4D)
call CW7(g)
set u3=u3-1
call TQ7(UC7,"Remaining",u3)
call SetUnitVertexColor(p5,255,255,255,0)
if u3==0 or GetUnitState(p5,UNIT_STATE_MANA)<1 then
call DestroyLightning(S29)
call D28(Il,IL,75)
call DestroyEffect(UH7(UC7,"FX"))
call RemoveUnit(oA)
call RemoveUnit(Q8D)
call SetUnitVertexColor(p5,255,255,255,255)
call SetUnitPathing(p5,true)
call SetUnitInvulnerable(p5,false)
call TN7(UC7)
call UA7(t)
else
call D28(Il,IL,75)
endif
set t=null
set oA=null
set p5=null
set S29=null
set g=null
set Q8D=null
return false
endfunction
function QGD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real iN=GetUnitX(p5)
local real io=GetUnitY(p5)
local unit oA
local unit Q8D
local location l
local real x
local real y
local trigger t
local integer UC7
local lightning S29
local integer BH7=GetUnitAbilityLevel(p5,1093743695)
local real ZM8=GetUnitState(p5,UNIT_STATE_MANA)
local real QED=15+0.07*GetUnitState(p5,UNIT_STATE_MAX_MANA)
call SetUnitState(p5,UNIT_STATE_MANA,RMaxBJ(ZM8-QED,0))
if GetUnitState(p5,UNIT_STATE_MANA)>10 then
set t=CreateTrigger()
set UC7=GetHandleId(t)
set oA=CreateUnit(GetOwningPlayer(p5),1865429296,iN,io,0)
set Q8D=CreateUnit(GetOwningPlayer(p5),1211119431,iN,io,0)
set S29=AddLightning("FORK",true,iN,io,iN,io)
if GetSpellTargetUnit()==null then
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
call RemoveLocation(l)
else
set x=GetUnitX(GetSpellTargetUnit())
set y=GetUnitY(GetSpellTargetUnit())
endif
call SetUnitVertexColor(p5,255,255,255,0)
call SetUnitVertexColor(Q8D,255,255,255,0)
call SetUnitPathing(p5,false)
call SetUnitPathing(oA,false)
call SetUnitInvulnerable(p5,true)
call TU7(UC7,"Caster",oA)
call TU7(UC7,"Source",p5)
call TU7(UC7,"Fake",Q8D)
call TX7(UC7,"Light",S29)
call TQ7(UC7,"Level",BH7)
call TR7(UC7,"x",x)
call TR7(UC7,"y",y)
call TR7(UC7,"lx",iN)
call TR7(UC7,"ly",io)
call TR7(UC7,"Traveled",0)
call TQ7(UC7,"Remaining",DO8(R2I(SquareRoot((x-iN)*(x-iN)+(y-io)*(y-io))/(25+25*BH7)),1))
call TV7(UC7,"FX",AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",Q8D,"origin"))
call TriggerRegisterTimerEvent(t,0.04,true)
call TriggerAddCondition(t,Condition(function Q7D))
call ShowUnit(p5,false)
call ShowUnit(p5,true)
call SelectUnitAddForPlayer(p5,GetOwningPlayer(p5))
endif
set p5=null
set oA=null
set Q8D=null
set l=null
set t=null
set S29=null
endfunction
function QHD takes nothing returns boolean
if GetSpellAbilityId()==1093743695 then
call QGD()
endif
return false
endfunction
function QID takes nothing returns boolean
if GetSpellAbilityId()==1093743695 then
if GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)<(15+0.07*GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_MANA))then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848657720))
endif
endif
return false
endfunction
function SI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QHD))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function QID))
set t=null
endfunction
function QJD takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"origin"))
endfunction
function QKD takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==1211117651 then
call QJD()
endif
return false
endfunction
function SJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function QKD))
set t=null
endfunction
function QMD takes nothing returns nothing
local integer UC7=GetHandleId(GetOwningPlayer(GetTriggerUnit()))
local unit QND=U87(UC7,"BearItemHolder")
local unit QOD=U87(UC7,"MyBear")
if QND!=null and D4==false and RZ4==false then
call UnitAddItem(QOD,UnitRemoveItemFromSlot(QND,0))
call UnitAddItem(QOD,UnitRemoveItemFromSlot(QND,1))
call UnitAddItem(QOD,UnitRemoveItemFromSlot(QND,2))
call UnitAddItem(QOD,UnitRemoveItemFromSlot(QND,3))
call UnitAddItem(QOD,UnitRemoveItemFromSlot(QND,4))
call UnitAddItem(QOD,UnitRemoveItemFromSlot(QND,5))
endif
set QND=null
set QOD=null
endfunction
function QPD takes nothing returns boolean
return GetSpellAbilityId()==1093681461
endfunction
function QQD takes nothing returns boolean
if LO7(GetFilterUnit())then
return false
endif
if((GetUnitTypeId(GetFilterUnit())==1848652103))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848652099))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848652088))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848651828))then
return true
endif
return false
endfunction
function QRD takes nothing returns nothing
local unit YK9=GetTriggerUnit()
local player QSD=GetOwningPlayer(YK9)
local location L18=GetUnitLoc(YK9)
local boolexpr QTD=Condition(function QQD)
local group B_9=CX7()
local integer H98=GetUnitAbilityLevel(YK9,1093681461)
local integer OC7=GetHandleId(QSD)
local boolean QUD
local unit EZ9
call GroupEnumUnitsOfPlayer(B_9,GetOwningPlayer(YK9),QTD)
if CountUnitsInGroup(B_9)!=0 then
set EZ9=FirstOfGroup(B_9)
if EZ9!=null and UU7(EZ9,"4327")==true then
call RR7(YK9)
call L27(QSD,GetObjectName(1848659278))
endif
endif
call CW7(B_9)
call RemoveLocation(L18)
call DestroyBoolExpr(QTD)
set YK9=null
set QSD=null
set B_9=null
set QTD=null
set L18=null
endfunction
function QVD takes nothing returns boolean
if((GetUnitTypeId(GetFilterUnit())==1848652103))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848652099))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848652088))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848651828))then
return true
endif
return false
endfunction
function QWD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit QOD
local unit H88=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)
local integer BH7=GetUnitAbilityLevel(p5,GetSpellAbilityId())
local group g=CX7()
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(p5),Condition(function QVD))
set QOD=FirstOfGroup(g)
call CW7(g)
if GetSpellAbilityId()==1093748038 then
call LM7(H88,1093681473)
call SetUnitAbilityLevel(H88,1093681473,BH7)
elseif GetSpellAbilityId()==1093748037 then
call LM7(H88,1093681474)
call SetUnitAbilityLevel(H88,1093681474,BH7)
elseif GetSpellAbilityId()==1093748040 then
call LM7(H88,1093681475)
call SetUnitAbilityLevel(H88,1093681475,BH7)
elseif GetSpellAbilityId()==1093748041 then
call LM7(H88,1093681476)
call SetUnitAbilityLevel(H88,1093681476,BH7)
elseif GetSpellAbilityId()==1093748039 then
call LM7(H88,1093681477)
call SetUnitAbilityLevel(H88,1093681477,BH7)
endif
call IssueTargetOrder(H88,"bloodlust",p5)
if QOD!=null and LO7(QOD)==false then
call IssueTargetOrder(H88,"bloodlust",QOD)
endif
set g=null
set p5=null
set QOD=null
set H88=null
endfunction
function QXD takes nothing returns boolean
if GetSpellAbilityId()==1093748038 or GetSpellAbilityId()==1093748037 or GetSpellAbilityId()==1093748040 or GetSpellAbilityId()==1093748041 or GetSpellAbilityId()==1093748039 then
call QWD()
endif
return false
endfunction
function NQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QXD))
set t=null
endfunction
function QYD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EZ9=(LoadUnitHandle(L7,(OC7),(2)))
local real QZD
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and Z67(GetOwningPlayer(GetEventDamageSource()))then
call SaveReal(L7,(OC7),(714),(((TimerGetElapsed(W)))*1.0))
endif
endif
set QZD=(LoadReal(L7,(OC7),(714)))
if QZD+3<(TimerGetElapsed(W))then
if(LoadInteger(L7,(OC7),(34)))==2 then
call SaveInteger(L7,(OC7),(34),(1))
call UY7(EZ9,"4327")
call SetPlayerAbilityAvailable(GetOwningPlayer(EZ9),1093681463,true)
endif
else
if(LoadInteger(L7,(OC7),(34)))==1 then
call SaveInteger(L7,(OC7),(34),(2))
call UW7(EZ9,"4327")
call SetPlayerAbilityAvailable(GetOwningPlayer(EZ9),1093681463,false)
endif
endif
set t=null
set EZ9=null
return false
endfunction
function QAD takes unit EZ9 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerRegisterUnitEvent(t,EZ9,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,EZ9,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function QYD))
call SaveUnitHandle(L7,(OC7),(2),(EZ9))
call SaveReal(L7,(OC7),(714),((0)*1.0))
call SaveInteger(L7,(OC7),(34),(1))
call SetPlayerAbilityAvailable(GetOwningPlayer(EZ9),1093681463,true)
set t=null
endfunction
function QBD takes nothing returns nothing
local unit YK9=GetTriggerUnit()
local player QSD=GetOwningPlayer(YK9)
local location L18=GetUnitLoc(YK9)
local boolexpr QTD=Condition(function QQD)
local group B_9=CX7()
local integer H98=GetUnitAbilityLevel(YK9,1093681461)
local integer OC7=GetHandleId(QSD)
local boolean QUD
local unit EZ9
call GroupEnumUnitsOfPlayer(B_9,GetOwningPlayer(YK9),QTD)
set QUD=CountUnitsInGroup(B_9)==0
if(H98==1 and QUD)then
call CreateNUnitsAtLoc(1,1848651828,GetOwningPlayer(GetTriggerUnit()),L18,bj_UNIT_FACING)
call TU7(OC7,"MyBear",bj_lastCreatedUnit)
call QMD()
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call QAD(bj_lastCreatedUnit)
elseif(H98==2 and QUD)then
call CreateNUnitsAtLoc(1,1848652088,GetOwningPlayer(GetTriggerUnit()),L18,bj_UNIT_FACING)
call TU7(OC7,"MyBear",bj_lastCreatedUnit)
call QMD()
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call QAD(bj_lastCreatedUnit)
elseif(H98==3 and QUD)then
call CreateNUnitsAtLoc(1,1848652099,GetOwningPlayer(GetTriggerUnit()),L18,bj_UNIT_FACING)
call TU7(OC7,"MyBear",bj_lastCreatedUnit)
call QMD()
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call QAD(bj_lastCreatedUnit)
elseif(H98==4 and QUD)then
call CreateNUnitsAtLoc(1,1848652103,GetOwningPlayer(GetTriggerUnit()),L18,bj_UNIT_FACING)
call TU7(OC7,"MyBear",bj_lastCreatedUnit)
call QMD()
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call QAD(bj_lastCreatedUnit)
elseif QUD==false then
set EZ9=FirstOfGroup(B_9)
call AddSpecialEffectTargetUnitBJ("chest",EZ9,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call SetUnitState(EZ9,UNIT_STATE_LIFE,GetUnitState(EZ9,UNIT_STATE_MAX_LIFE))
call SetUnitPosition(EZ9,GetUnitX(YK9),GetUnitY(YK9))
set EZ9=null
endif
call SetUnitAbilityLevel(bj_lastCreatedUnit,1093679449,H98)
call CW7(B_9)
call RemoveLocation(L18)
call DestroyBoolExpr(QTD)
set QTD=null
set YK9=null
set QSD=null
set L18=null
set B_9=null
set EZ9=null
endfunction
function NS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QPD))
call TriggerAddAction(t,function QBD)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function QPD))
call TriggerAddAction(t,function QRD)
set t=null
endfunction
function QCD takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),1110459185)>0
endfunction
function Q3D takes nothing returns nothing
call HD8(D2,GetEnumUnit(),ZH4,30)
endfunction
function Q6D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit QLD=U87(UC7,"Bear")
local group g=CX7()
set IN4=QLD
set D2=QLD
call GroupEnumUnitsInRange(g,GetUnitX(QLD),GetUnitY(QLD),2000,Condition(function QCD))
call ForGroup(g,function Q3D)
call CW7(g)
set t=null
set g=null
set QLD=null
return false
endfunction
function Q1D takes nothing returns nothing
local unit QLD=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function Q6D))
call TU7(UC7,"Bear",QLD)
set QLD=null
set t=null
endfunction
function VF takes nothing returns boolean
return GetLearnedSkill()==1093681461 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function Vg takes nothing returns boolean
if LO7(GetFilterUnit())then
return false
endif
if((GetUnitTypeId(GetFilterUnit())==1848652099))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848652088))then
return true
endif
if((GetUnitTypeId(GetFilterUnit())==1848651828))then
return true
endif
return false
endfunction
function Q0D takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local player j8=GetOwningPlayer(CO7)
local location L18=GetUnitLoc(CO7)
local boolexpr hP=Condition(function Vg)
local group IB8=CX7()
local integer H98=GetUnitAbilityLevel(CO7,1093681461)
local integer OC7=GetHandleId(j8)
local integer Vh
local unit EZ9
local real FPD
call GroupEnumUnitsOfPlayer(IB8,GetOwningPlayer(CO7),hP)
call DestroyBoolExpr(hP)
if(H98==1)then
call Q1D()
endif
set Vh=CountUnitsInGroup(IB8)
if(Vh==1)then
set EZ9=FirstOfGroup(IB8)
set FPD=GetUnitLifePercent(EZ9)
set L18=GetUnitLoc(EZ9)
call ShowUnit(EZ9,false)
call KillUnit(EZ9)
if(H98==2)then
call CreateNUnitsAtLoc(1,1848652088,GetOwningPlayer(GetTriggerUnit()),L18,bj_UNIT_FACING)
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call QAD(bj_lastCreatedUnit)
elseif(H98==3)then
call CreateNUnitsAtLoc(1,1848652099,GetOwningPlayer(GetTriggerUnit()),L18,bj_UNIT_FACING)
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call QAD(bj_lastCreatedUnit)
elseif(H98==4)then
call CreateNUnitsAtLoc(1,1848652103,GetOwningPlayer(GetTriggerUnit()),L18,bj_UNIT_FACING)
call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call QAD(bj_lastCreatedUnit)
endif
call SetUnitLifePercentBJ(bj_lastCreatedUnit,FPD)
call TU7(OC7,"MyBear",bj_lastCreatedUnit)
call QMD()
endif
call CW7(IB8)
set CO7=null
set j8=null
set L18=null
set hP=null
set IB8=null
set EZ9=null
endfunction
function NU8 takes nothing returns nothing
set dZ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dZ,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(dZ,Condition(function VF))
call TriggerAddAction(dZ,function Q0D)
endfunction
function Q5D takes nothing returns boolean
return GetUnitTypeId(GetAttacker())==1848652103 or GetUnitTypeId(GetAttacker())==1848652099 or GetUnitTypeId(GetAttacker())==1848652088 or GetUnitTypeId(GetAttacker())==1848651828
endfunction
function Q2D takes nothing returns nothing
local unit VD=GetAttacker()
local unit VI=M7[GetPlayerId(GetOwningPlayer(VD))]
if((GetUnitX(VI)-GetUnitX(VD))*(GetUnitX(VI)-GetUnitX(VD))+(GetUnitY(VI)-GetUnitY(VD))*(GetUnitY(VI)-GetUnitY(VD))>=(1210000))then
call IssueImmediateOrder(VD,"stop")
elseif(GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_COMPUTER)then
if((GetHeroLevel(VI)<12)and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>150.)and((GetOwningPlayer(GetTriggerUnit())==Z7[0])or(GetOwningPlayer(GetTriggerUnit())==A7[0]))and(eY[GetPlayerId(GetOwningPlayer(GetAttacker()))]==1)and(Bz>hq[240+GetPlayerId(GetOwningPlayer(GetAttacker()))]))then
call TriggerSleepAction(0.1)
call S57(GetAttacker(),851986,h9[GetPlayerId(GetOwningPlayer(GetAttacker()))])
endif
endif
set VD=null
set VI=null
endfunction
function NR8 takes nothing returns nothing
set d0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(d0,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(d0,Condition(function Q5D))
call TriggerAddAction(d0,function Q2D)
endfunction
function Q_D takes nothing returns boolean
return GetSpellAbilityId()==1093681463
endfunction
function R4D takes nothing returns nothing
local unit VD=GetTriggerUnit()
local unit VI=M7[GetPlayerId(GetOwningPlayer(VD))]
call SetUnitX(VD,GetUnitX(VI)+GetRandomReal(25,50)*Cos(GetRandomReal(0,360)))
call SetUnitY(VD,GetUnitY(VI)+GetRandomReal(25,50)*Sin(GetRandomReal(0,360)))
set VD=null
set VI=null
endfunction
function NT8 takes nothing returns nothing
set H_4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(H_4,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(H_4,Condition(function Q_D))
call TriggerAddAction(H_4,function R4D)
endfunction
function R7D takes nothing returns boolean
return GetLearnedSkill()==1093681464 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function R8D takes nothing returns nothing
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1378889776,GetPlayerTechCount(GetOwningPlayer(GetTriggerUnit()),1378889776,true)+1)
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1378889777,GetPlayerTechCount(GetOwningPlayer(GetTriggerUnit()),1378889777,true)+1)
endfunction
function qb takes nothing returns nothing
set I44=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I44,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(I44,Condition(function R7D))
call TriggerAddAction(I44,function R8D)
endfunction
function R9D takes item RA7 returns boolean
return RY7(RA7)==B5 or RY7(RA7)==C5 or RY7(RA7)==EW or RY7(RA7)==HW
endfunction
function RDD takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())==1848652103 or GetUnitTypeId(GetTriggerUnit())==1848652099 or GetUnitTypeId(GetTriggerUnit())==1848652088 or GetUnitTypeId(GetTriggerUnit())==1848651828)and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function RED takes nothing returns nothing
local location RFD
if ZC7(GetOwningPlayer(GetTriggerUnit()))then
set RFD=GetRectCenter(ED)
else
set RFD=GetRectCenter(L9)
endif
if R9D(GetEnumItem())==false then
call SetItemPositionLoc(GetEnumItem(),RFD)
endif
call RemoveLocation(RFD)
set RFD=null
endfunction
function RGD takes nothing returns nothing
local integer UC7=GetHandleId(GetOwningPlayer(GetTriggerUnit()))
local unit m7=U87(UC7,"BearItemHolder")
local unit VD=U87(UC7,"MyBear")
local integer x
local integer y
if m7==null then
if ZC7(GetOwningPlayer(VD))then
set x=-6390
set y=-5615
else
set x=5875
set y=5000
endif
set m7=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697657158,x,y,0)
call TU7(UC7,"BearItemHolder",m7)
endif
if R9D(GetEnumItem())==false then
call UnitAddItem(m7,GetEnumItem())
endif
call ShowUnit(m7,true)
set m7=null
set VD=null
endfunction
function VL takes nothing returns nothing
local integer EI9=RY7(GetEnumItem())
if GetWidgetLife(GetEnumItem())>0 and EI9!=X0 then
if D4==true or RZ4==true then
call RED()
else
call RGD()
endif
else
endif
endfunction
function RHD takes nothing returns nothing
local location Mk=GetUnitLoc(GetTriggerUnit())
local rect RID=RectFromCenterSizeBJ(Mk,400.00,400.00)
local unit VI=M7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
call SetHeroXP(VI,(GetHeroXP(VI)-(GetHeroXP(VI)/(125-(25*GetUnitAbilityLevel(VI,1093681461))))),false)
call UnitDamageTargetBJ(GetKillingUnit(),VI,(100.00*I2R(GetUnitAbilityLevel(VI,1093681461))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call EnumItemsInRectBJ(RID,function VL)
call RemoveLocation(Mk)
call RemoveRect(RID)
set Mk=null
set VI=null
set RID=null
endfunction
function qB takes nothing returns nothing
set d3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(d3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(d3,Condition(function RDD))
call TriggerAddAction(d3,function RHD)
endfunction
function RJD takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())==1311781171 or GetUnitTypeId(GetTriggerUnit())==1311781199 or GetUnitTypeId(GetTriggerUnit())==1311781173 or GetUnitTypeId(GetTriggerUnit())==1311781172)and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function RKD takes nothing returns nothing
local unit VD=U87(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"MyBear")
call KillUnit(VD)
set VD=null
endfunction
function qc takes nothing returns nothing
set d4=CreateTrigger()
call ky(d4,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(d4,Condition(function RJD))
call TriggerAddAction(d4,function RKD)
endfunction
function RMD takes nothing returns boolean
return(GetLearnedSkill()==1093681483 or GetLearnedSkill()==1093748313)and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function RND takes nothing returns nothing
if(GetUnitAbilityLevel(GetTriggerUnit(),1093681483)==1 or GetUnitAbilityLevel(GetTriggerUnit(),1093748313)==1)then
call LM7(GetTriggerUnit(),1093752646)
endif
endfunction
function qC takes nothing returns nothing
set d5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(d5,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(d5,Condition(function RMD))
call TriggerAddAction(d5,function RND)
endfunction
function ROD takes nothing returns boolean
if(GetSpellAbilityId()==1093681485 or GetSpellAbilityId()==1093681459 or GetSpellAbilityId()==1093681460 or GetSpellAbilityId()==1093677652 or GetSpellAbilityId()==1093748314 or GetSpellAbilityId()==1093752646)then
return true
elseif GetSpellAbilityId()==1093681483 or GetSpellAbilityId()==1093748313 then
if GetUnitAbilityLevel(GetTriggerUnit(),1093752646)==0 then
call LM7(GetTriggerUnit(),1093752646)
endif
endif
return false
endfunction
function RPD takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))
endfunction
function RQD takes nothing returns nothing
call IssueImmediateOrderById(GetEnumUnit(),852556)
endfunction
function Vq takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),300.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction
function VQ takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),450.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction
function Vr takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),600.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction
function RRD takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),750.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction
function RSD takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==XD4 and GetUnitTypeId(GetFilterUnit())==X94 and LO7(GetFilterUnit())==false
endfunction
function RTD takes player p,integer BD7,real x,real y returns nothing
local group g=CX7()
set XD4=p
set X94=BD7
call GroupEnumUnitsInRange(g,x,y,716,Condition(function RSD))
call ForGroup(g,function RQD)
call CW7(g)
set g=null
endfunction
function RUD takes nothing returns nothing
local real x=GetUnitX(GetTriggerUnit())
local real y=GetUnitY(GetTriggerUnit())
local group IB8
call DisableTrigger(I74)
set V0=true
if(GetSpellAbilityId()==1093681485)then
call DZ8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
call E88(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)
set IB8=CX7()
call GroupEnumUnitsInRange(IB8,x,y,425,Condition(function RPD))
call ForGroup(IB8,function Vq)
call RemoveUnit(GetTriggerUnit())
call CW7(IB8)
elseif(GetSpellAbilityId()==1093681459)then
call DZ8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
call E88(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)
set IB8=CX7()
call GroupEnumUnitsInRange(IB8,x,y,435,Condition(function RPD))
call ForGroup(IB8,function VQ)
call RemoveUnit(GetTriggerUnit())
call CW7(IB8)
elseif(GetSpellAbilityId()==1093681460)then
call DZ8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
call E88(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)
set IB8=CX7()
call GroupEnumUnitsInRange(IB8,x,y,450,Condition(function RPD))
call ForGroup(IB8,function Vr)
call RemoveUnit(GetTriggerUnit())
call CW7(IB8)
elseif(GetSpellAbilityId()==1093748314)then
call DZ8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
call E88(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)
set IB8=CX7()
call GroupEnumUnitsInRange(IB8,x,y,450,Condition(function RPD))
call ForGroup(IB8,function RRD)
call RemoveUnit(GetTriggerUnit())
call CW7(IB8)
elseif(GetSpellAbilityId()==1093677652)then
set IB8=OP7(GetOwningPlayer(GetTriggerUnit()),1865429304)
call ForGroup(IB8,function RQD)
call DestroyGroup(IB8)
set IB8=OP7(GetOwningPlayer(GetTriggerUnit()),1865429042)
call ForGroup(IB8,function RQD)
call DestroyGroup(IB8)
set IB8=OP7(GetOwningPlayer(GetTriggerUnit()),1865429058)
call ForGroup(IB8,function RQD)
call DestroyGroup(IB8)
set IB8=OP7(GetOwningPlayer(GetTriggerUnit()),1865429314)
call ForGroup(IB8,function RQD)
call DestroyGroup(IB8)
endif
if(GetSpellAbilityId()==1093752646)then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
call RTD(GetOwningPlayer(GetTriggerUnit()),1865429304,x,y)
call RTD(GetOwningPlayer(GetTriggerUnit()),1865429042,x,y)
call RTD(GetOwningPlayer(GetTriggerUnit()),1865429058,x,y)
call RTD(GetOwningPlayer(GetTriggerUnit()),1865429314,x,y)
endif
set V0=false
call EnableTrigger(I74)
set IB8=null
endfunction
function RVD takes nothing returns nothing
local integer id=GetUnitTypeId(GetTriggerUnit())
local real x=GetUnitX(GetTriggerUnit())
local real y=GetUnitY(GetTriggerUnit())
local group IB8
if id==1865429304 then
call DZ8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
set IB8=CX7()
call GroupEnumUnitsInRange(IB8,x,y,425,Condition(function RPD))
call ForGroup(IB8,function Vq)
call CW7(IB8)
endif
if id==1865429042 then
call DZ8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
set IB8=CX7()
call GroupEnumUnitsInRange(IB8,x,y,435,Condition(function RPD))
call ForGroup(IB8,function VQ)
call CW7(IB8)
endif
if id==1865429058 then
call DZ8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
set IB8=CX7()
call GroupEnumUnitsInRange(IB8,x,y,450,Condition(function RPD))
call ForGroup(IB8,function Vr)
call CW7(IB8)
endif
if id==1865429314 then
call DZ8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)
set IB8=CX7()
call GroupEnumUnitsInRange(IB8,x,y,450,Condition(function RPD))
call ForGroup(IB8,function RRD)
call CW7(IB8)
endif
set IB8=null
endfunction
function RWD takes nothing returns boolean
local integer id=GetUnitTypeId(GetTriggerUnit())
if id==1865429304 or id==1865429042 or id==1865429058 or id==1865429314 then
call RVD()
endif
return false
endfunction
function qD takes nothing returns nothing
local trigger t=CreateTrigger()
call T79("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav")
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddAction(t,function RUD)
call TriggerAddCondition(t,Condition(function ROD))
set I74=CreateTrigger()
call D18(I74,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(I74,Condition(function RWD))
set t=null
endfunction
function RXD takes nothing returns boolean
if((GetUnitTypeId(GetTriggerUnit())==1848651855))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())==1848651856))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())==1848651857))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())==1848651854))then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==1865429304 or GetUnitTypeId(GetTriggerUnit())==1865429042 or GetUnitTypeId(GetTriggerUnit())==1865429058 or GetUnitTypeId(GetTriggerUnit())==1865429314 then
if Ab[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]then
endif
endif
return false
endfunction
function RYD takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit()))and((GetUnitTypeId(GetFilterUnit())==1848651855)or(GetUnitTypeId(GetFilterUnit())==1848651856)or(GetUnitTypeId(GetFilterUnit())==1848651857)or(GetUnitTypeId(GetFilterUnit())==1848651854)))
endfunction
function RZD takes rect r,boolexpr RAD returns group
set CB=CX7()
call GroupEnumUnitsInRect(CB,r,RAD)
call DestroyBoolExpr(RAD)
return CB
endfunction
function RBD takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1211117637 or GetUnitTypeId(GetFilterUnit())==1211117639 or GetUnitTypeId(GetFilterUnit())==1211117638 or GetUnitTypeId(GetFilterUnit())==1160786000 or GetUnitTypeId(GetFilterUnit())==1311780930 or GetUnitTypeId(GetFilterUnit())==1430468144 or GetUnitTypeId(GetFilterUnit())==1162032951 or GetUnitTypeId(GetFilterUnit())==1429221456 or GetUnitTypeId(GetFilterUnit())==1160786510 or GetUnitTypeId(GetFilterUnit())==1160786511 or GetUnitTypeId(GetFilterUnit())==1328558390 or GetUnitTypeId(GetFilterUnit())==1328558391 or GetUnitTypeId(GetFilterUnit())==1160786502 or GetUnitTypeId(GetFilterUnit())==1211122767 or GetUnitTypeId(GetFilterUnit())==1311788343 or GetUnitTypeId(GetFilterUnit())==1311788354 or GetUnitTypeId(GetFilterUnit())==1311788355 or GetUnitTypeId(GetFilterUnit())==1311788367 or GetUnitTypeId(GetFilterUnit())==1311788353)and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(IN4))
endfunction
function RCD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit R3D=U87(OC7,"Mine")
local group g
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect(AddSpecialEffect("war3mapImported\\NewGroundEX.mdx",GetUnitX(R3D),GetUnitY(R3D)))
call TN7(OC7)
call UA7(t)
else
set g=CX7()
set IN4=R3D
call GroupEnumUnitsInRange(g,GetUnitX(R3D),GetUnitY(R3D),200,Condition(function RBD))
if FirstOfGroup(g)!=null then
call TN7(OC7)
call UA7(t)
call SetUnitExploded(R3D,true)
call KillUnit(R3D)
endif
call CW7(g)
endif
set t=null
set R3D=null
set g=null
return false
endfunction
function R6D takes nothing returns nothing
local integer OC7=GetHandleId(GetOwningPlayer(GetTriggerUnit()))
local group IB8=RZD(bj_mapInitialPlayableArea,Condition(function RYD))
local integer Vu=UN7(OC7,"GMCount")
local integer VU=0
local unit Vv
local integer VV
local unit KH8
local integer Vw
local integer T8
local integer U8
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.4,true)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function RCD))
call TU7(GetHandleId(t),"Mine",GetTriggerUnit())
set Vu=(Vu+1)
call StartTimerBJ(UE7(OC7,"MineTimer"+I2S(Vu)),false,15000.00)
call TU7(OC7,"GMUnit"+I2S(Vu),GetTriggerUnit())
set VU=CountUnitsInGroup(IB8)
if(VU>20)then
set VV=99999
set T8=1
set U8=Vu
loop
exitwhen T8>U8
set KH8=U87(OC7,"GMUnit"+I2S(T8))
set Vw=R2I(TimerGetRemaining(UE7(OC7,"MineTimer"+I2S(T8))))
if(GetUnitState(KH8,UNIT_STATE_LIFE)>0 and Vw<VV)then
set Vv=KH8
set VV=Vw
endif
set T8=T8+1
endloop
call ExplodeUnitBJ(Vv)
else
call DC8(I2S(VU),1,GetTriggerUnit(),0.027,130,130,130,216)
endif
call TQ7(OC7,"GMCount",Vu)
call CW7(IB8)
set t=null
set IB8=null
set Vv=null
set KH8=null
endfunction
function RLD takes nothing returns boolean
if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0.5 and(GetUnitTypeId(GetFilterUnit())==1848651855 or GetUnitTypeId(GetFilterUnit())==1848651856 or GetUnitTypeId(GetFilterUnit())==1848651857 or GetUnitTypeId(GetFilterUnit())==1848651854)then
set n0=n0+1
endif
return false
endfunction
function R1D takes nothing returns boolean
local group g=CX7()
set n0=0
call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function RLD))
if n0>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848657475)))+": "+I2S(n0))
endif
call CW7(g)
set g=null
return false
endfunction
function qe takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function R1D))
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,GetWorldBounds())
call TriggerAddCondition(t,Condition(function RXD))
call TriggerAddAction(t,function R6D)
set t=null
endfunction
function R0D takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local unit H88=CreateUnit(GetOwningPlayer(CC7),1697656901,GetUnitX(CC7),GetUnitY(CC7),0)
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local integer i=0
local real a=0
local real r=0
local integer H98=GetUnitAbilityLevel(CC7,1093681745)
call LM7(H88,1093678406)
call SetUnitAbilityLevel(H88,1093678406,H98)
loop
exitwhen i>40
exitwhen IssuePointOrder(H88,"stampede",x+r*Cos(a),y+r*Sin(a))
set i=i+1
set a=a+0.4
set r=r+10
endloop
call RemoveLocation(l)
set CC7=null
set H88=null
set l=null
endfunction
function R5D takes nothing returns boolean
if GetSpellAbilityId()==1093681745 then
call R0D()
endif
return false
endfunction
function NV8 takes nothing returns nothing
set d8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(d8,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(d8,Condition(function R5D))
endfunction
function R2D takes nothing returns boolean
return GetSpellAbilityId()==1093678137 and CV7(GetSpellTargetUnit())==false
endfunction
function R_D takes nothing returns nothing
call UnitDamageTarget(GetTriggerUnit(),GetSpellTargetUnit(),GetUnitAbilityLevel(GetTriggerUnit(),1093678137)*80,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endfunction
function NW8 takes nothing returns nothing
set d9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(d9,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(d9,Condition(function R2D))
call TriggerAddAction(d9,function R_D)
endfunction
function S4D takes unit u returns boolean
return GetUnitTypeId(u)==1211117638 or GetUnitTypeId(u)==1211117637 or GetUnitTypeId(u)==1211117639 or GetUnitTypeId(u)==1328558391
endfunction
function S7D takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==true then
call HD8(PU,GetEnumUnit(),ZG4,QU/3)
else
call HD8(PU,GetEnumUnit(),ZG4,QU)
endif
endfunction
function S8D takes unit EC8,real x,real y,real r,real d returns nothing
local group g=CX7()
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,r,Condition(function GV8))
set PU=EC8
set QU=d
call ForGroup(g,function S7D)
call CW7(g)
set g=null
endfunction
function S9D takes nothing returns boolean
if F08()and RW7(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))then
return true
endif
return false
endfunction
function SDD takes unit CO7 returns unit
local unit p5=null
local group g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(CO7),GetUnitY(CO7),275,Condition(function S9D))
call GroupRemoveUnit(g,CO7)
set p5=GroupPickRandomUnit(g)
call CW7(g)
set IN4=p5
set p5=null
set g=null
return IN4
endfunction
function SED takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer iX=GetTriggerEvalCount(t)
local unit CO7=U87(UC7,"Hero")
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local real SFD=UO7(UC7,"Tossx0")
local real SGD=UO7(UC7,"Tossy0")
local real x1=GetUnitX(p5)
local real y1=GetUnitY(p5)
local real x2=GetUnitX(m5)
local real y2=GetUnitY(m5)
local real RK
local real SHD
local real SID
local real SJD
local real Il
local real IL
local location l
if RF7(SFD,SGD,x2,y2)>1000 then
set x2=SFD
set y2=SGD
endif
set RK=PP7(x1,y1,x2,y2)
set SHD=RF7(x1,y1,x2,y2)
set SID=SHD/(51-iX)
set SJD=(iX-25)*(iX-25)
set Il=x1+SID*Cos(RK*bj_DEGTORAD)
set IL=y1+SID*Sin(RK*bj_DEGTORAD)
if iX<51 then
if S4D(p5)==false then
call SetUnitFlyHeight(p5,775-SJD,0)
endif
call SetUnitPosition(p5,Il,IL)
else
if S4D(p5)==false then
call SetUnitFlyHeight(p5,GetUnitDefaultFlyHeight(p5),0)
endif
call PauseUnit(p5,false)
call SetUnitPathing(p5,true)
call SetUnitPosition(p5,x2,y2)
call UY7(p5,"Tossed")
set l=Location(x2,y2)
call TerrainDeformationRippleBJ(0.2,true,l,1.00,300.00,96.00,1,64.00)
call RemoveLocation(l)
call DestroyEffect(UH7(UC7,"FX"))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(p5),GetUnitY(p5)))
if IsUnitAlly(p5,GetOwningPlayer(CO7))then
else
if(SV7((CO7),ZU[GB4])!=null)then
call HD8(CO7,p5,ZG4,(0.2+0.15*(GetUnitAbilityLevel(CO7,1093682009)+1))*75*GetUnitAbilityLevel(CO7,1093681754))
else
call HD8(CO7,p5,ZG4,(0.2+0.15*GetUnitAbilityLevel(CO7,1093682009))*75*GetUnitAbilityLevel(CO7,1093681754))
endif
endif
call D28(x2,y2,300)
call S8D(CO7,x2,y2,300,75*GetUnitAbilityLevel(CO7,1093681754))
call TN7(UC7)
call UA7(t)
endif
set t=null
set CO7=null
set p5=null
set m5=null
set l=null
return false
endfunction
function SKD takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit p5=VI4
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call SetUnitAnimationByIndex(CO7,4)
call PauseUnit(p5,true)
call SetUnitPathing(p5,false)
if S4D(p5)==false then
call LM7(p5,1097691750)
call UnitRemoveAbility(p5,1097691750)
endif
call UW7(p5,"Tossed")
call TU7(UC7,"Hero",CO7)
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TV7(UC7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",p5,"origin"))
call TR7(UC7,"Tossx0",GetUnitX(m5))
call TR7(UC7,"Tossy0",GetUnitY(m5))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function SED))
set CO7=null
set p5=null
set m5=null
set t=null
endfunction
function SMD takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit p5=SDD(CO7)
local unit m5=GetSpellTargetUnit()
set VI4=p5
if p5==null then
call RR7(CO7)
call L27(GetOwningPlayer(CO7),BB7(1848656961))
elseif GetOwningPlayer(m5)==GetOwningPlayer(CO7)then
call RR7(CO7)
call L27(GetOwningPlayer(CO7),BB7(1848656729))
endif
set CO7=null
set p5=null
set m5=null
endfunction
function SND takes nothing returns boolean
if GetSpellAbilityId()==1093681754 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call SMD()
else
call SKD()
endif
endif
return false
endfunction
function NA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SND))
set t=null
endfunction
function SOD takes nothing returns nothing
call TI9(1093815115)
endfunction
function SPD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=U87(OC7,"Source")
local integer CP8
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EC8 and GetEventDamage()>20. then
set CP8=UN7(GetHandleId(EC8),"WarClub_Count")
if UU7(EC8,"WarClubState")==false then
call U67(EC8,"WarClubState",.1)
call TQ7(GetHandleId(EC8),"WarClub_Count",(CP8+1))
endif
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
else
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set EC8=null
set t=null
return false
endfunction
function SQD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer AF7=GetHandleId(t)
local unit H18=U87(AF7,"Source")
local integer SRD=UN7(GetHandleId(H18),"WarClub_Count")
call TQ7(AF7,"WarClub_Cooldown",1)
call UnitRemoveAbility(H18,1093752391)
if(SV7(H18,ZU[GB4])!=null)then
call LM7(H18,1093752392)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(H18),1093752392,true)
if SRD>5 then
call FlushChildHashtable(L7,AF7)
call UA7(t)
endif
set H18=null
set t=null
return false
endfunction
function SSD takes nothing returns nothing
local trigger t
local unit H18=GetAttacker()
local integer AF7=GetHandleId(H18)
local integer SRD=UN7(AF7,"WarClub_Count")
if SRD<6 then
if not UU7(H18,"WarClubState")then
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1.,false)
call TriggerAddCondition(t,Condition(function SPD))
call TU7(GetHandleId(t),"Source",H18)
endif
else
call TQ7(AF7,"WarClub_Count",(0))
call UnitRemoveAbility(H18,1093752625)
if(UN7(AF7,"WarClub_Cooldown"))==1 then
set t=UF7(AF7,"WarClub_EndTrig")
call FlushChildHashtable(L7,GetHandleId(t))
call UA7(t)
endif
endif
set H18=null
set t=null
endfunction
function WarClub_Attack takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093752625)>0 then
call SSD()
endif
return false
endfunction
function WarClub_Animation takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if GetTriggerEvalCount(t)==1 then
call SetUnitTimeScalePercent(EC8,250)
else
call SetUnitTimeScalePercent(EC8,100)
call SetUnitAnimationByIndex(EC8,12)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
return false
endfunction
function STD takes nothing returns boolean
local trigger t
if GetSpellAbilityId()==1093752392 then
call U67(GetTriggerUnit(),"WarClubCastState",29.9)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093752392,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093752391,true)
call LM7(GetTriggerUnit(),1093752391)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093752625,false)
call LM7(GetTriggerUnit(),1093752625)
call IssueTargetOrder(GetTriggerUnit(),"grabtree",GetSpellTargetDestructable())
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,30,false)
call TriggerAddCondition(t,Condition(function SQD))
call TU7(GetHandleId(t),"Source",GetTriggerUnit())
call TW7(GetHandleId(GetTriggerUnit()),"WarClub_EndTrig",t)
call TQ7(GetHandleId(GetTriggerUnit()),"WarClub_Cooldown",(0))
call TQ7(GetHandleId(GetTriggerUnit()),"WarClub_Count",(0))
set t=null
elseif GetSpellAbilityId()==1093815105 then
call RemoveDestructable(GetSpellTargetDestructable())
call ShowUnit(GetTriggerUnit(),false)
call ShowUnit(GetTriggerUnit(),true)
call UnitRemoveAbility(GetTriggerUnit(),1097625443)
call UnitAddAbility(GetTriggerUnit(),1093815106)
call UnitRemoveAbility(GetTriggerUnit(),1093815106)
call UnitAddAbility(GetTriggerUnit(),1093815107)
call UnitRemoveAbility(GetTriggerUnit(),1093815107)
call AddUnitAnimationProperties(GetTriggerUnit(),"upgrade",false)
endif
return false
endfunction
function WarClub_Scan takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if(SV7((EC8),ZU[GB4])!=null)then
if UU7(EC8,"WarClubCastState")==false then
if GetUnitAbilityLevel(EC8,1093752392)==0 and GetUnitAbilityLevel(EC8,1093752391)==0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093752392,true)
call LM7(EC8,1093752392)
endif
endif
else
call UnitRemoveAbility(EC8,1093752392)
call UnitRemoveAbility(EC8,1093752391)
endif
set t=null
set EC8=null
return false
endfunction
function R19 takes nothing returns nothing
local unit p5=B2
local unit m5=C2
local unit H88=U87(GetHandleId(p5),"GrowCaster")
call TU7(GetHandleId(m5),"GrowCaster",H88)
call SetUnitOwner(H88,GetOwningPlayer(m5),true)
set p5=null
set m5=null
set H88=null
endfunction
function LQ8 takes nothing returns nothing
local unit CO7=IT4
local unit H88=U87(GetHandleId(CO7),"GrowCaster")
if H88!=null and GetUnitTypeId(H88)==1697657174 then
call RemoveUnit(H88)
endif
set CO7=null
set H88=null
endfunction
function SUD takes nothing returns boolean
return GetLearnedSkill()==1093682009 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function SVD takes nothing returns nothing
local unit SWD=U87(GetHandleId(GetTriggeringTrigger()),"Tiny")
local integer BH7=GetUnitAbilityLevel(SWD,1093682009)
if GetUnitState(SWD,UNIT_STATE_LIFE)>1 then
call SetUnitScale(SWD,0.5+0.25*BH7,0.5+0.25*BH7,0.5+0.25*BH7)
endif
set SWD=null
endfunction
function SXD takes nothing returns boolean
local integer BH7
if IsUnitIllusion(GetTriggerUnit())and(GetUnitTypeId(GetTriggerUnit())==1432580716 or GetUnitTypeId(GetTriggerUnit())==1429221720)then
set BH7=GetUnitAbilityLevel(U87(GetHandleId(GetTriggeringTrigger()),"Tiny"),1093682009)
call SetUnitScale(GetTriggerUnit(),0.5+0.25*BH7,0.5+0.25*BH7,0.5+0.25*BH7)
endif
return false
endfunction
function SYD takes nothing returns nothing
local trigger t
local unit SZD=GetTriggerUnit()
local integer H98=GetUnitAbilityLevel(SZD,1093682009)
local unit H88
local unit CC7=GetTriggerUnit()
local region SAD
if H98==1 then
set H88=CreateUnit(GetOwningPlayer(CC7),1697657174,0,0,0)
call LM7(H88,1093742658)
call TU7(GetHandleId(CC7),"GrowCaster",H88)
else
set H88=U87(GetHandleId(CC7),"GrowCaster")
endif
if H98==2 then
call UnitRemoveAbility(H88,1093742658)
call LM7(H88,1093742657)
elseif H98==3 then
call UnitRemoveAbility(H88,1093742658)
call UnitRemoveAbility(H88,1093742657)
call LM7(H88,1093687891)
endif
call SetPlayerTechResearched(GetOwningPlayer(SZD),1378889797,H98)
if H98==1 then
set t=CreateTrigger()
call TriggerAddAction(t,function SVD)
call TriggerRegisterTimerEvent(t,2.00,true)
call TU7(GetHandleId(t),"Tiny",SZD)
call SetUnitScale(SZD,0.5+0.25*H98,0.5+0.25*H98,0.5+0.25*H98)
set t=CreateTrigger()
set SAD=CreateRegion()
call RegionAddRect(SAD,GetWorldBounds())
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
call TriggerAddCondition(t,Condition(function SXD))
call TU7(GetHandleId(t),"Tiny",SZD)
set t=null
set SAD=null
endif
set SZD=null
set CC7=null
set H88=null
endfunction
function NY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function SUD))
call TriggerAddAction(t,function SYD)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function STD))
call SOD()
set t=null
endfunction
function SBD takes nothing returns boolean
if UU7(GetFilterUnit(),"Tossed")then
call HD8(gB,GetFilterUnit(),ZG4,lB)
endif
return false
endfunction
function SCD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
local unit oA=CreateUnit(GetOwningPlayer(CO7),1697656901,x,y,0)
local integer BH7=GetUnitAbilityLevel(CO7,1093684300)
local group g=CX7()
call LM7(oA,1093742666)
call SetUnitAbilityLevel(oA,1093742666,BH7)
set gB=CO7
if BH7==1 then
set lB=25
elseif BH7==2 then
set lB=45
elseif BH7==3 then
set lB=65
elseif BH7==4 then
set lB=75
endif
call GroupEnumUnitsInRange(g,x,y,275+24,Condition(function SBD))
call CW7(g)
if GetTriggerEvalCount(t)>6 then
call TN7(UC7)
call UA7(t)
endif
set t=null
set CO7=null
set oA=null
set g=null
return false
endfunction
function S3D takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local location l=GetSpellTargetLoc()
local unit oA=CreateUnit(GetOwningPlayer(CO7),1697656901,GetUnitX(CO7),GetUnitY(CO7),0)
local integer BH7=GetUnitAbilityLevel(CO7,1093684300)
call LM7(oA,1093742669)
call SetUnitAbilityLevel(oA,1093742669,BH7)
call IssuePointOrder(oA,"clusterrockets",GetLocationX(l),GetLocationY(l))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function SCD))
call TU7(UC7,"Hero",CO7)
call TR7(UC7,"x",GetLocationX(l))
call TR7(UC7,"y",GetLocationY(l))
call TriggerEvaluate(t)
call RemoveLocation(l)
set CO7=null
set l=null
set t=null
set oA=null
endfunction
function S6D takes nothing returns boolean
if GetSpellAbilityId()==1093684300 then
call S3D()
endif
return false
endfunction
function NZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function S6D))
set t=null
endfunction
function SLD takes nothing returns boolean
local unit EC8=GetTriggerUnit()
local unit O07=GetAttacker()
local integer H98=GetUnitAbilityLevel(EC8,1093744977)
local unit H88
if GetRandomInt(1,100)<=H98*6 and RE7(EC8,O07)<325 then
set H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call LM7(H88,1093681750)
call SetUnitAbilityLevel(H88,1093681750,H98)
call IssueTargetOrder(H88,"thunderbolt",O07)
set H88=null
endif
set EC8=null
set O07=null
return false
endfunction
function S1D takes unit p5,boolean A_9 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function SLD))
if A_9 then
set nj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set t=null
set p5=null
endfunction
function S0D takes nothing returns boolean
if GetLearnedSkill()==1093744977 and GetUnitAbilityLevel(GetTriggerUnit(),1093744977)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call S1D(GetTriggerUnit(),false)
endif
return false
endfunction
function NB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function S0D))
set t=null
endfunction
function S5D takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),1093685040)>0 and UU7(GetAttacker(),"BeastRageTrigger")==false
endfunction
function S2D takes nothing returns nothing
local unit O17=GetAttacker()
local unit O07=GetTriggerUnit()
local integer OC7=GetHandleId(O17)
local unit S_D=U87(OC7,"BeastRage|PreviousTarget")
local integer EID=DO8(UN7(OC7,"BeastRage|Counter"),0)
local integer H98=GetUnitAbilityLevel(O17,1093685040)
if S_D!=O07 then
set EID=1
else
set EID=DN8(EID+1,2+H98)
endif
call DM8(O17,1093684826,EID)
call TQ7(OC7,"BeastRage|Counter",EID)
call TU7(OC7,"BeastRage|PreviousTarget",O07)
call U67(O17,"BeastRageTrigger",.4)
set O17=null
set O07=null
set S_D=null
endfunction
function O88 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function S5D))
call TriggerAddAction(t,function S2D)
call DE8(1093684826)
set t=null
endfunction
function T4D takes unit EC8,unit O07,unit H88,integer H98 returns nothing
call SetUnitOwner(H88,GetOwningPlayer(O07),false)
call SetUnitAbilityLevel(H88,1093808463,H98)
call IssueTargetOrder(H88,"curse",O07)
call HD8(EC8,O07,ZG4,75+50*H98)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",O07,"overhead"))
endfunction
function T7D takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),AR4)==false then
call GroupAddUnit(AR4,GetEnumUnit())
call T4D(AO4,GetEnumUnit(),AP4,AS4)
endif
endfunction
function T8D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local unit T9D=(LoadUnitHandle(L7,(OC7),(675)))
local unit TDD=(LoadUnitHandle(L7,(OC7),(676)))
local real a=(LoadReal(L7,(OC7),(13)))
local real d=(LoadReal(L7,(OC7),(433)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local group GAD=(LoadGroupHandle(L7,(OC7),(187)))
local group g=CX7()
if GetTriggerEvalCount(t)<=50 then
set a=a+20
set d=d+7
call SaveReal(L7,(OC7),(13),((a)*1.0))
call SaveReal(L7,(OC7),(433),((d)*1.0))
elseif GetTriggerEvalCount(t)<=100 then
set a=a+20
set d=d-7
call SaveReal(L7,(OC7),(13),((a)*1.0))
call SaveReal(L7,(OC7),(433),((d)*1.0))
endif
call SetUnitX(T9D,D78(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(T9D,D88(y+d*Sin(a*bj_DEGTORAD)))
set a=a+180
call SetUnitX(TDD,D78(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(TDD,D88(y+d*Sin(a*bj_DEGTORAD)))
set IN4=EC8
set AO4=EC8
set AP4=H88
set AR4=GAD
set AS4=H98
call GroupEnumUnitsInRange(g,GetUnitX(T9D),GetUnitY(T9D),125,Condition(function FT8))
call ForGroup(g,function T7D)
set IN4=EC8
call GroupEnumUnitsInRange(g,GetUnitX(TDD),GetUnitY(TDD),125,Condition(function FT8))
call ForGroup(g,function T7D)
call CW7(g)
if GetTriggerEvalCount(t)>100 then
call KillUnit(T9D)
call KillUnit(TDD)
call KillUnit(H88)
call CW7(GAD)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set T9D=null
set TDD=null
set H88=null
return false
endfunction
function TED takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local unit T9D=CreateUnit(GetOwningPlayer(EC8),1697657433,x,y,0)
local unit TDD=CreateUnit(GetOwningPlayer(EC8),1697657433,x,y,0)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,x,y,0)
call UnitAddAbility(H88,1093808463)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call SaveUnitHandle(L7,(OC7),(675),(T9D))
call SaveUnitHandle(L7,(OC7),(676),(TDD))
call SaveReal(L7,(OC7),(13),((0)*1.0))
call SaveReal(L7,(OC7),(433),((0)*1.0))
call SaveInteger(L7,(OC7),(5),(GetUnitAbilityLevel(EC8,1093808462)))
call SaveGroupHandle(L7,(OC7),(187),(CX7()))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function T8D))
set EC8=null
set T9D=null
set TDD=null
set t=null
set H88=null
endfunction
function TFD takes unit EC8,unit O07,unit H88,integer H98 returns nothing
call SetUnitOwner(H88,GetOwningPlayer(O07),false)
call SetUnitAbilityLevel(H88,1093808464,H98)
call IssueTargetOrder(H88,"slow",O07)
call HD8(EC8,O07,ZG4,75)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",O07,"overhead"))
endfunction
function TGD takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),AR4)==false and AQ4!=null and LO7(AQ4)==false then
call GroupAddUnit(AR4,GetEnumUnit())
call TFD(AO4,GetEnumUnit(),AP4,AS4)
endif
endfunction
function THD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
local unit T9D=(LoadUnitHandle(L7,(OC7),(393)))
local unit TDD=(LoadUnitHandle(L7,(OC7),(394)))
local unit TID=(LoadUnitHandle(L7,(OC7),(395)))
local unit TJD=(LoadUnitHandle(L7,(OC7),(396)))
local unit TKD=(LoadUnitHandle(L7,(OC7),(397)))
local real a=(LoadReal(L7,(OC7),(13)))-12.5
local real d=(LoadReal(L7,(OC7),(433)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local unit AE9
local group g
local group GAD=(LoadGroupHandle(L7,(OC7),(187)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
set d=d+900/20.0
call SaveReal(L7,(OC7),(433),((d)*1.0))
call SetUnitX(T9D,D78(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(T9D,D88(y+d*Sin(a*bj_DEGTORAD)))
set a=a+6.25
call SetUnitX(TDD,D78(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(TDD,D88(y+d*Sin(a*bj_DEGTORAD)))
set a=a+6.25
call SetUnitX(TID,D78(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(TID,D88(y+d*Sin(a*bj_DEGTORAD)))
set a=a+6.25
call SetUnitX(TJD,D78(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(TJD,D88(y+d*Sin(a*bj_DEGTORAD)))
set a=a+6.25
call SetUnitX(TKD,D78(x+d*Cos(a*bj_DEGTORAD)))
call SetUnitY(TKD,D88(y+d*Sin(a*bj_DEGTORAD)))
set AO4=EC8
set AP4=H88
set AR4=GAD
set AS4=H98
set AE9=T9D
if AE9!=null and LO7(AE9)==false then
set x=GetUnitX(AE9)
set y=GetUnitY(AE9)
set AQ4=AE9
set IN4=EC8
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function FT8))
call ForGroup(g,function TGD)
call CW7(g)
endif
set AE9=TDD
if AE9!=null and LO7(AE9)==false then
set x=GetUnitX(AE9)
set y=GetUnitY(AE9)
set AQ4=AE9
set IN4=EC8
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function FT8))
call ForGroup(g,function TGD)
call CW7(g)
endif
set AE9=TID
if AE9!=null and LO7(AE9)==false then
set x=GetUnitX(AE9)
set y=GetUnitY(AE9)
set AQ4=AE9
set IN4=EC8
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function FT8))
call ForGroup(g,function TGD)
call CW7(g)
endif
set AE9=TJD
if AE9!=null and LO7(AE9)==false then
set x=GetUnitX(AE9)
set y=GetUnitY(AE9)
set AQ4=AE9
set IN4=EC8
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function FT8))
call ForGroup(g,function TGD)
call CW7(g)
endif
set AE9=TKD
if AE9!=null and LO7(AE9)==false then
set x=GetUnitX(AE9)
set y=GetUnitY(AE9)
set AQ4=AE9
set IN4=EC8
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function FT8))
call ForGroup(g,function TGD)
call CW7(g)
endif
if GetTriggerEvalCount(t)>20 then
call KillUnit(T9D)
call KillUnit(TDD)
call KillUnit(TID)
call KillUnit(TJD)
call KillUnit(TKD)
call KillUnit(H88)
call CW7(GAD)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set T9D=null
set TDD=null
set TID=null
set TJD=null
set TKD=null
set H88=null
return false
endfunction
function TMD takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local real x0=GetUnitX(EC8)
local real y0=GetUnitY(EC8)
local real x1=GetSpellTargetX()
local real y1=GetSpellTargetY()
local real a=PP7(x0,y0,x1,y1)
local unit T9D=CreateUnit(GetOwningPlayer(EC8),1697657434,x0,y0,a-12.5)
local unit TDD=CreateUnit(GetOwningPlayer(EC8),1697657434,x0,y0,a-6.25)
local unit TID=CreateUnit(GetOwningPlayer(EC8),1697657434,x0,y0,a)
local unit TJD=CreateUnit(GetOwningPlayer(EC8),1697657434,x0,y0,a+6.25)
local unit TKD=CreateUnit(GetOwningPlayer(EC8),1697657434,x0,y0,a+12.5)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,x0,y0,0)
call UnitAddAbility(H88,1093808464)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call SaveUnitHandle(L7,(OC7),(393),(T9D))
call SaveUnitHandle(L7,(OC7),(394),(TDD))
call SaveUnitHandle(L7,(OC7),(395),(TID))
call SaveUnitHandle(L7,(OC7),(396),(TJD))
call SaveUnitHandle(L7,(OC7),(397),(TKD))
call SaveReal(L7,(OC7),(6),((x0)*1.0))
call SaveReal(L7,(OC7),(7),((y0)*1.0))
call SaveReal(L7,(OC7),(433),((0)*1.0))
call SaveReal(L7,(OC7),(13),((a)*1.0))
call SaveGroupHandle(L7,(OC7),(187),(CX7()))
call SaveInteger(L7,(OC7),(5),(GetUnitAbilityLevel(EC8,1093808461)))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function THD))
set EC8=null
set T9D=null
set TDD=null
set TID=null
set TJD=null
set TKD=null
set t=null
set H88=null
endfunction
function TND takes nothing returns boolean
if GetSpellAbilityId()==1093808461 then
call TMD()
elseif GetSpellAbilityId()==1093808462 then
call TED()
endif
return false
endfunction
function TOD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer H98=GetUnitAbilityLevel(EC8,1093808460)
local player p=(LoadPlayerHandle(L7,(OC7),(54)))
if GetUnitTypeId(EC8)==1311781175 or GetUnitTypeId(EC8)==1311781442 then
if((LoadInteger(L7,(GetHandleId((EC8))),((4416))))==1)==false or p!=GetOwningPlayer(EC8)then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808462,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808461,false)
call SaveInteger(L7,(GetHandleId((EC8))),((4416)),(1))
call SaveInteger(L7,(GetHandleId((EC8))),((4417)),(2))
if p!=GetOwningPlayer(EC8)then
call SavePlayerHandle(L7,(OC7),(54),(GetOwningPlayer(EC8)))
endif
endif
if GetUnitAbilityLevel(EC8,1093808462)!=H98 then
call SetUnitAbilityLevel(EC8,1093808462,H98)
endif
elseif GetUnitTypeId(EC8)==1311781174 then
if((LoadInteger(L7,(GetHandleId((EC8))),((4417))))==1)==false or p!=GetOwningPlayer(EC8)then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808462,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808461,true)
call SaveInteger(L7,(GetHandleId((EC8))),((4417)),(1))
call SaveInteger(L7,(GetHandleId((EC8))),((4416)),(2))
if p!=GetOwningPlayer(EC8)then
call SavePlayerHandle(L7,(OC7),(54),(GetOwningPlayer(EC8)))
endif
endif
if GetUnitAbilityLevel(EC8,1093808461)!=H98 then
call SetUnitAbilityLevel(EC8,1093808461,H98)
endif
endif
set t=null
set EC8=null
return false
endfunction
function TPD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
call LM7(EC8,1093808462)
call LM7(EC8,1093808461)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808462,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808461,false)
call SaveInteger(L7,(GetHandleId((EC8))),((4416)),(2))
call SaveInteger(L7,(GetHandleId((EC8))),((4417)),(2))
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function TOD))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SavePlayerHandle(L7,(OC7),(54),(GetOwningPlayer(EC8)))
set t=null
set EC8=null
endfunction
function TQD takes nothing returns boolean
if GetLearnedSkill()==1093808460 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093808460)==1 then
call TPD()
endif
return false
endfunction
function O98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function TQD))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function TND))
set t=null
endfunction
function TRD takes nothing returns nothing
if GetEnumUnit()==GetTriggerUnit()then
call F88(GetEnumUnit(),1093687365,R64,R34,1110454338)
else
call F88(GetEnumUnit(),1093687365,R64,R34,1110454338)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093687365,false)
endfunction
function TSD takes nothing returns nothing
local group g=CX7()
set R64=GetUnitAbilityLevel(GetTriggerUnit(),1093748042)
set R34=10
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function GA8))
call ForGroup(g,function TRD)
call CW7(g)
set g=null
endfunction
function TTD takes nothing returns boolean
if GetSpellAbilityId()==1093748042 then
call TSD()
endif
return false
endfunction
function OD8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function TTD))
set t=null
endfunction
function TUD takes nothing returns boolean
return GetSpellAbilityId()==1093681733
endfunction
function TVD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call SetUnitAbilityLevel(EC8,1093679429,GetUnitAbilityLevel(EC8,1093681733))
call UnitRemoveAbility(EC8,1110456665)
set t=null
set EC8=null
return false
endfunction
function TWD takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function TVD))
set t=null
set EC8=null
endfunction
function O48 takes nothing returns nothing
set Dc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Dc,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerRegisterAnyUnitEventBJ(Dc,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Dc,Condition(function TUD))
call TriggerAddAction(Dc,function TWD)
endfunction
function TXD takes nothing returns boolean
return GetLearnedSkill()==1093681733 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function TYD takes nothing returns nothing
call SetUnitAbilityLevel(GetTriggerUnit(),1093679429,GetUnitAbilityLevel(GetTriggerUnit(),1093681733))
endfunction
function O78 takes nothing returns nothing
set DC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DC,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(DC,Condition(function TXD))
call TriggerAddAction(DC,function TYD)
endfunction
function TZD takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit TAD=U87(GetHandleId(t),"MeldTarget")
call UnitRemoveAbility(TAD,1093685827)
call TN7(GetHandleId(t))
call DestroyTimer(t)
set TAD=null
set t=null
endfunction
function TBD takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local timer t2=null
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local unit TAD=GetTriggerUnit()
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==CO7 then
call DestroyTrigger(t)
call HD8(CO7,TAD,ZH4,50*GetUnitAbilityLevel(CO7,1093685846))
call DC8(I2S(50*GetUnitAbilityLevel(CO7,1093685846)),1.,TAD,0.03,255,0,0,255)
set t2=CreateTimer()
call LM7(TAD,1093685827)
call SetUnitAbilityLevel(TAD,1093685827,GetUnitAbilityLevel(CO7,1093685846))
call TU7(GetHandleId(t2),"MeldTarget",TAD)
call TimerStart(t2,10,false,function TZD)
endif
else
call DestroyTrigger(t)
endif
set TAD=null
set CO7=null
set t2=null
set t=null
endfunction
function TCD takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local trigger t2=null
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
local unit T3D=null
local real jUv=9999
local unit TAD=GetOrderTargetUnit()
if GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER and IsUnitEnemy(GetOrderTargetUnit(),GetOwningPlayer(CO7))and(GetIssuedOrderId()==OrderId("attack")or GetIssuedOrderId()==OrderId("smart"))then
if RF7(x,y,GetUnitX(TAD),GetUnitY(TAD))<(145+50*GetUnitAbilityLevel(CO7,1093685839))then
call UnitRemoveAbility(CO7,1110456395)
call B67(t)
if IsUnitType(GetOrderTargetUnit(),UNIT_TYPE_STRUCTURE)==false then
set t2=CreateTrigger()
call TriggerRegisterUnitEvent(t2,TAD,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t2,2,false)
set UC7=GetHandleId(t2)
call TU7(UC7,"Hero",CO7)
call TriggerAddAction(t2,function TBD)
endif
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_CAST or GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(CO7,1110456395)
call B67(t)
else
if x!=GetUnitX(CO7)or y!=GetUnitY(CO7)then
call UnitRemoveAbility(CO7,1110456395)
call B67(t)
endif
endif
set T3D=null
set CO7=null
set t2=null
set t=null
set TAD=null
endfunction
function T6D takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call DestroyEffect(AddSpecialEffectTarget("effects\\PurpleAura.mdx",CC7,"origin"))
call E48(aO,GetUnitX(CC7),GetUnitY(CC7))
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerRegisterUnitEvent(t,CC7,EVENT_UNIT_SPELL_CAST)
call TriggerRegisterUnitEvent(t,CC7,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,CC7,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddAction(t,function TCD)
call TU7(UC7,"Hero",CC7)
call TR7(UC7,"x",GetUnitX(CC7))
call TR7(UC7,"y",GetUnitY(CC7))
call IssueImmediateOrder(CC7,"holdposition")
set t=null
set CC7=null
endfunction
function TLD takes nothing returns boolean
if GetSpellAbilityId()==1093685846 then
call T6D()
endif
return false
endfunction
function SK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function TLD))
set t=null
endfunction
function T1D takes nothing returns boolean
local unit CO7=GetTriggerUnit()
local integer UC7=GetHandleId(CO7)
local integer T0D=UN7(UC7,"RefractionPrevent_Remaining")
if T0D>0 and GetTriggerEventId()!=EVENT_UNIT_DEATH then
if GetEventDamage()>5 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PriestMissile\\PriestMissile.mdl",CO7,"right hand"))
call DT8(CO7,GetEventDamage())
call TQ7(UC7,"RefractionPrevent_Remaining",T0D-1)
endif
else
call UnitRemoveAbility(CO7,1093685838)
call UnitRemoveAbility(CO7,1110456394)
call TQ7(UC7,"RefractionPrevent_Remaining",0)
endif
set CO7=null
return false
endfunction
function T5D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local unit CC7=U87(GetHandleId(t),"Hero")
local integer OC7=GetHandleId(CC7)
local integer DI9=UN7(OC7,"RefractionDamage_Remaining")
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED and GetAttacker()==CC7 and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false)then
if GetTriggerEventId()!=EVENT_UNIT_DEATH and DI9>0 and GetEventDamage()>0 then
call TQ7(OC7,"RefractionDamage_Remaining",DI9-1)
else
call UnitRemoveAbility(CC7,1093685830)
call UnitRemoveAbility(CC7,1093685837)
call UnitRemoveAbility(CC7,1110456393)
call TQ7(OC7,"RefractionDamage_Remaining",0)
endif
endif
set t=null
set CC7=null
return false
endfunction
function T2D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local unit CC7=U87(GetHandleId(t),"Hero")
local integer OC7=GetHandleId(CC7)
call TQ7(OC7,"RefractionPrevent_Remaining",0)
call TQ7(OC7,"RefractionDamage_Remaining",0)
call UnitRemoveAbility(CC7,1093685830)
call UnitRemoveAbility(CC7,1093685837)
call UnitRemoveAbility(CC7,1093685838)
call TN7(GetHandleId(t))
call UA7(t)
set t=null
set CC7=null
return false
endfunction
function T_D takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local integer OC7=GetHandleId(CC7)
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,17,false)
call TriggerAddCondition(t,Condition(function T2D))
call TU7(GetHandleId(t),"Hero",CC7)
call E48(DP,GetUnitX(CC7),GetUnitY(CC7))
call LM7(CC7,1093685838)
call TQ7(OC7,"RefractionPrevent_Remaining",GetUnitAbilityLevel(CC7,1093748033)+2)
call LM7(CC7,1093685830)
call SetUnitAbilityLevel(CC7,1093685830,GetUnitAbilityLevel(CC7,1093748033))
call LM7(CC7,1093685837)
call TQ7(OC7,"RefractionDamage_Remaining",GetUnitAbilityLevel(CC7,1093748033)+2)
set CC7=null
set t=null
endfunction
function U4D takes unit CC7,boolean A_9 returns nothing
local trigger t
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CC7,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,CC7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function T1D))
call TQ7(GetHandleId(CC7),"RefractionPrevent_Remaining",0)
if A_9 then
set rj[GetPlayerId(GetOwningPlayer(CC7))]=t
endif
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,CC7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function T5D))
call TU7(GetHandleId(t),"Hero",CC7)
call TQ7(GetHandleId(CC7),"RefractionDamage_Remaining",0)
if A_9 then
set Ej[GetPlayerId(GetOwningPlayer(CC7))]=t
endif
set t=null
set CC7=null
endfunction
function U7D takes nothing returns boolean
if GetLearnedSkill()==1093748033 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093748033)==1 then
call U4D(GetTriggerUnit(),false)
endif
return false
endfunction
function U8D takes nothing returns boolean
if GetSpellAbilityId()==1093748033 then
call T_D()
endif
return false
endfunction
function SM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function U8D))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function U7D))
set t=null
endfunction
function U9D takes unit u,real wP,real wq,real wQ,real wr,real wR returns boolean
local real ws=wQ-wP
local real wS=wr-wq
local real wt=GetUnitX(u)-wP
local real wT=GetUnitY(u)-wq
return wR>=RAbsBJ(ws*wT-wS*wt)/ RAbsBJ(Pow(Pow(ws,2)+Pow(wS,2),0.5))
endfunction
function UDD takes unit p5,unit m5,real DS8,real wU,real wv returns nothing
local integer H98=GetUnitAbilityLevel(p5,1093685839)
local real wV=(300+20*H98)*2
local real ww=80+25
local unit wW
local real dx
local real dy
local real wx
local real x
local real y
local group g=CX7()
local boolean wX
local boolean wy
set dx=GetUnitX(m5)-GetUnitX(p5)
set dy=GetUnitY(m5)-GetUnitY(p5)
set wx=Pow(Pow(dx,2)+Pow(dy,2),0.5)
set x=GetUnitX(m5)+(wV/ 2-25)*(dx/ wx)
set y=GetUnitY(m5)+(wV/ 2-25)*(dy/ wx)
set IN4=p5
set IJ4=DS8
call GroupEnumUnitsInRange(g,x,y,Pow(Pow(wV/ 2,2)+Pow(ww/ 2,2),0.5),Condition(function FT8))
call GroupRemoveUnit(g,m5)
set wW=FirstOfGroup(g)
loop
exitwhen wW==null
set wX=U9D(wW,GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5),ww/ 2)
set wy=U9D(wW,x,y,x-100,y+100*x*Pow(y,-1),0.01+wV/ 2)
if wX and wy then
call HD8(p5,wW,ZI4,DS8)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PriestMissile\\PriestMissile.mdl",wW,"chest"))
endif
call GroupRemoveUnit(g,wW)
set wW=FirstOfGroup(g)
endloop
call CW7(g)
set wW=null
set g=null
endfunction
function UED takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local unit p5=U87(UC7,"Source")
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and GetEventDamage()>1 and IsUnitIllusion(m5)==false then
call DisableTrigger(t)
call UDD(p5,m5,GetEventDamage(),UO7(UC7,"InitX"),UO7(UC7,"InitY"))
call TN7(UC7)
call UA7(t)
endif
else
call TN7(UC7)
call UA7(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function UFD takes nothing returns nothing
local trigger t=CreateTrigger()
local unit m5=GetTriggerUnit()
local unit p5=GetAttacker()
local integer UC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.0,false)
call TriggerAddCondition(t,Condition(function UED))
call TU7(UC7,"Target",m5)
call TU7(UC7,"Source",p5)
call TR7(UC7,"InitX",GetUnitX(p5))
call TR7(UC7,"InitY",GetUnitY(p5))
set m5=null
set p5=null
set t=null
endfunction
function UGD takes nothing returns nothing
local unit p5=GetAttacker()
if UU7(p5,"VorpalCooldown")==false then
call U67(p5,"VorpalCooldown",0.4)
call UFD()
endif
set p5=null
endfunction
function UHD takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093685839)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==U87(GetHandleId(GetTriggeringTrigger()),"Hero")then
call UGD()
endif
return false
endfunction
function UID takes nothing returns nothing
local trigger t
if GetUnitAbilityLevel(GetTriggerUnit(),1093685839)==1 then
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function UHD))
call TU7(GetHandleId(t),"Hero",GetTriggerUnit())
endif
call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1382379618,GetUnitAbilityLevel(GetTriggerUnit(),1093685839))
set t=null
endfunction
function UJD takes nothing returns boolean
if GetLearnedSkill()==1093685839 and IsUnitIllusion(GetTriggerUnit())==false then
call UID()
endif
return false
endfunction
function SN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function UJD))
set t=null
endfunction
function UKD takes unit u returns nothing
local unit CO7=M7[GetPlayerId(GetOwningPlayer(u))]
local integer UC7=GetHandleId(CO7)
local integer w3
local integer i
local integer x
local unit w4
if GetUnitTypeId(CO7)!=1160786265 then
return
endif
set w3=UN7(UC7,"TrapMax")
set i=1
loop
exitwhen i>w3
set w4=U87(UC7,"Trap"+I2S(i))
if w4==u then
set x=i
loop
exitwhen x==w3
call TU7(UC7,"Trap"+I2S(x),U87(UC7,"Trap"+I2S(x+1)))
set x=x+1
endloop
set i=w3
endif
set i=i+1
endloop
call TQ7(UC7,"TrapMax",w3-1)
set w4=null
set CO7=null
endfunction
function UND takes unit u returns nothing
local unit CO7=M7[GetPlayerId(GetOwningPlayer(u))]
local integer UC7=GetHandleId(CO7)
local integer w3=UN7(UC7,"TrapMax")
call SaveReal(L7,(GetHandleId(u)),(786),(((TimerGetElapsed(W)))*1.0))
set w3=w3+1
call TU7(UC7,"Trap"+I2S(w3),u)
call TQ7(UC7,"TrapMax",w3)
if Ab[GetPlayerId(GetOwningPlayer(CO7))]then
call SelectUnitAddForPlayer(u,GetOwningPlayer(CO7))
endif
set CO7=null
endfunction
function UOD takes nothing returns nothing
call UKD(GetTriggerUnit())
endfunction
function UPD takes unit u returns nothing
local integer w8=GetUnitAbilityLevel(u,1093685840)*3+2
local integer UC7=GetHandleId(u)
local integer w3=UN7(UC7,"TrapMax")
local unit w4=U87(UC7,"Trap1")
if w3==w8 then
call UKD(w4)
call RemoveUnit(w4)
endif
set w4=null
endfunction
function UQD takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call LM7(oA,1093685845)
call SetUnitAbilityLevel(oA,1093685845,IX7)
call IssueTargetOrder(oA,"slow",GetEnumUnit())
set oA=null
endfunction
function URD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local group g=CX7()
local real BV8=(LoadReal(L7,(GetHandleId(p5)),(786)))
local real USD=(TimerGetElapsed(W))-BV8
local integer H98=1
if USD>4 then
set H98=5
elseif USD>3 then
set H98=4
elseif USD>2 then
set H98=3
elseif USD>1 then
set H98=2
endif
set IX7=H98
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl",x,y))
call GroupEnumUnitsInRange(g,x,y,400,Condition(function F58))
call ForGroup(g,function UQD)
call CW7(g)
call UKD(p5)
call RemoveUnit(p5)
set g=null
set p5=null
endfunction
function UTD takes unit u returns nothing
call IssueImmediateOrder(u,"locustswarm")
endfunction
function UUD takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==IR4 and GetUnitTypeId(GetFilterUnit())==1697657392
endfunction
function UVD takes nothing returns nothing
local real UWD=RF7(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),IJ4,IK4)
local real UXD=RF7(GetUnitX(IN4),GetUnitY(IN4),IJ4,IK4)
if UWD<UXD then
set IN4=GetEnumUnit()
endif
endfunction
function UYD takes nothing returns nothing
local group g=CX7()
set IR4=GetOwningPlayer(GetTriggerUnit())
call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),9000,Condition(function UUD))
set IN4=FirstOfGroup(g)
set IJ4=GetUnitX(GetTriggerUnit())
set IK4=GetUnitY(GetTriggerUnit())
call ForGroup(g,function UVD)
call UTD(IN4)
call CW7(g)
set g=null
endfunction
function UZD takes nothing returns nothing
call LM7(GetTriggerUnit(),1093685844)
endfunction
function UAD takes nothing returns nothing
local location l=GetSpellTargetLoc()
call LM7(GetTriggerUnit(),1093685844)
call UPD(GetTriggerUnit())
call UND(CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697657392,GetLocationX(l),GetLocationY(l),0))
call RemoveLocation(l)
set l=null
endfunction
function UBD takes nothing returns boolean
if GetSpellAbilityId()==1093685840 then
call UAD()
endif
if GetSpellAbilityId()==1093685844 then
call UYD()
endif
return false
endfunction
function UCD takes nothing returns boolean
if GetSpellAbilityId()==1093685841 then
call URD()
endif
return false
endfunction
function U3D takes nothing returns boolean
if GetLearnedSkill()==1093685840 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093685840)==1 then
call UZD()
endif
return false
endfunction
function U6D takes nothing returns boolean
if GetUnitTypeId(GetDyingUnit())==1697657392 then
call UOD()
endif
return false
endfunction
function SO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UBD))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function U6D))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UCD))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function U3D))
set t=null
endfunction
function ULD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(p5,1093750323)
call UnitRemoveAbility(p5,1093750326)
call UnitRemoveAbility(p5,1093750327)
call UnitRemoveAbility(p5,1110459208)
call TN7(UC7)
call UA7(t)
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
if GetTriggerUnit()==p5 and GetSpellAbilityId()==1093750841 and TimerGetElapsed(W)>UO7(UC7,"OriginalTime")then
call TN7(UC7)
call UA7(t)
elseif D29(GetSpellAbilityId())and p5==GetSpellTargetUnit()then
call UnitRemoveAbility(p5,1093750323)
call UnitRemoveAbility(p5,1093750326)
call UnitRemoveAbility(p5,1093750327)
call UnitRemoveAbility(p5,1110459208)
call TN7(UC7)
call UA7(t)
endif
else
call UnitRemoveAbility(p5,1093750323)
call UnitRemoveAbility(p5,1093750326)
call UnitRemoveAbility(p5,1093750327)
call UnitRemoveAbility(p5,1110459208)
call TN7(UC7)
call UA7(t)
endif
set t=null
set p5=null
return false
endfunction
function U1D takes nothing returns nothing
local unit p5=GetAttacker()
local integer UC7=GetHandleId(p5)
local integer BH7=GetUnitAbilityLevel(p5,1093750841)
local integer YL9=UN7(UC7,"Count")
local integer U0D=2+BH7
local trigger t=null
set YL9=YL9+1
call TQ7(UC7,"Count",YL9)
if YL9>=U0D then
call UnitRemoveAbility(p5,1093750323)
call UnitRemoveAbility(p5,1093750326)
call UnitRemoveAbility(p5,1093750327)
call UnitRemoveAbility(p5,1110459208)
set t=UF7(UC7,"OverpowerEndTrig")
call TN7(GetHandleId(t))
call UA7(t)
set t=null
endif
set p5=null
endfunction
function U5D takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1110459208)>0 then
call U1D()
endif
return false
endfunction
function U2D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local integer BH7=GetUnitAbilityLevel(p5,1093750841)
call LM7(p5,1093750323)
call LM7(p5,1093750326)
call LM7(p5,1093750327)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750326,false)
call TriggerRegisterTimerEvent(t,15,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ULD))
call TW7(GetHandleId(p5),"OverpowerEndTrig",t)
call TQ7(GetHandleId(p5),"Count",0)
call TU7(UC7,"Source",p5)
call TR7(UC7,"OriginalTime",(TimerGetElapsed(W)+1)*1.0)
set t=null
set p5=null
endfunction
function U_D takes nothing returns boolean
if GetSpellAbilityId()==1093750841 then
call U2D()
endif
return false
endfunction
function NC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function U_D))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function U5D))
call DE8(1093750323)
set t=null
endfunction
function V4D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=U87(OC7,"Source")
local integer H98=GetUnitAbilityLevel(EC8,1093684291)
local integer PM9
local integer V7D
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetUnitAbilityLevel(EC8,1110454856)==0 or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and EC8==GetSpellTargetUnit()and D29(GetSpellAbilityId()))then
call TN7(OC7)
call UA7(t)
call UnitRemoveAbility(EC8,1110454856)
call HJ8(EC8,0)
else
set PM9=R2I(GetUnitState(EC8,UNIT_STATE_LIFE)*(0.04+0.01*H98))
set V7D=UN7(OC7,"LastBonus")
if PM9!=V7D then
call TQ7(OC7,"LastBonus",PM9)
call HJ8(EC8,PM9)
endif
endif
set t=null
set EC8=null
return false
endfunction
function V8D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function V4D))
call TU7(UC7,"Source",GetTriggerUnit())
call TQ7(UC7,"LastBonus",0)
set t=null
endfunction
function V9D takes nothing returns boolean
if GetSpellAbilityId()==1093684291 then
call V8D()
endif
return false
endfunction
function VDD takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1110454856)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 then
endif
return false
endfunction
function N38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function V9D))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function VDD))
set t=null
endfunction
function VED takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local real VFD=UO7(UC7,"rRealX1")
local real x2=UO7(UC7,"x2")
local real VGD=UO7(UC7,"rRealY1")
local real y2=UO7(UC7,"y2")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl",p5,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl",m5,"origin"))
call SetUnitPosition(p5,x2,y2)
call U67(m5,"4407",1)
call SetUnitPosition(m5,VFD,VGD)
call TN7(UC7)
call UA7(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function VHD takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real VFD=GetUnitX(p5)
local real VGD=GetUnitY(p5)
local real x2=GetUnitX(m5)
local real y2=GetUnitY(m5)
local trigger t
local integer UC7
if IsUnitAlly(p5,GetOwningPlayer(m5))==true or CV7(GetSpellTargetUnit())==false then
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TR7(UC7,"rRealX1",(VFD)*1.0)
call TR7(UC7,"x2",(x2)*1.0)
call TR7(UC7,"rRealY1",(VGD)*1.0)
call TR7(UC7,"y2",(y2)*1.0)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function VED))
call DB8("SPLK",VFD,VGD,x2,y2,0.5,0,1,1,0.3)
call D28(VFD,VGD,300)
call D28(x2,y2,300)
endif
set p5=null
set m5=null
set t=null
endfunction
function VID takes nothing returns boolean
if GetSpellAbilityId()==1093683534 or GetSpellAbilityId()==1093747031 then
call VHD()
endif
return false
endfunction
function VJD takes nothing returns nothing
if(IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY))then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848652610))))
endif
endfunction
function VKD takes nothing returns boolean
if GetSpellAbilityId()==1093683534 or GetSpellAbilityId()==1093747031 then
call VJD()
endif
return false
endfunction
function N68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VID))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function VKD))
set t=null
endfunction
function VMD takes unit H88,real x,real y,integer BH7 returns nothing
call SetUnitPosition(H88,x,y)
if GetPlayerController(GetOwningPlayer(H88))==MAP_CONTROL_COMPUTER then
call UnitAddAbility(H88,1093681488)
call SetUnitAbilityLevel(H88,1093681488,BH7)
endif
call IssueImmediateOrder(H88,"howlofterror")
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl",x,y))
set H88=null
endfunction
function VND takes nothing returns boolean
if(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),p0)==false then
call GroupAddUnit(p0,GetFilterUnit())
if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>R04 then
call SetUnitState(GetFilterUnit(),UNIT_STATE_LIFE,GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)-(R04))
else
call HD8(Q0,GetFilterUnit(),ZG4,R04*1.33)
endif
endif
return false
endfunction
function VOD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit H88=U87(UC7,"Caster")
local real l4=UO7(UC7,"Angle")
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
local integer BH7=UN7(UC7,"Level")
local group A99=UG7(UC7,"AlreadyDamaged")
local group g
if GetTriggerEvalCount(t)>10 then
call CW7(A99)
call TN7(UC7)
call UA7(t)
else
set p0=A99
set Q0=p5
set R04=BH7*20+10
set IN4=p5
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,325,Condition(function VND))
call CW7(g)
set g=null
call VMD(H88,x,y,BH7)
if ModuloInteger(GetTriggerEvalCount(t),2)==0 then
call KillUnit(CreateUnit(GetOwningPlayer(p5),1697657409,x,y,0))
endif
set x=D78(x+200*Cos(l4*bj_DEGTORAD))
set y=D88(y+200*Sin(l4*bj_DEGTORAD))
call TR7(UC7,"x",x*1.0)
call TR7(UC7,"y",y*1.0)
endif
set t=null
set p5=null
set H88=null
set A99=null
return false
endfunction
function VPD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x1=GetUnitX(p5)
local real y1=GetUnitY(p5)
local real x2=GetLocationX(l)
local real y2=GetLocationY(l)
local real l4=PP7(x1,y1,x2,y2)
local integer BH7=GetUnitAbilityLevel(p5,1093744463)
local unit H88=CreateUnit(GetOwningPlayer(p5),1697656901,x1,y1,0)
call LM7(H88,1093681488)
call SetUnitAbilityLevel(H88,1093681488,BH7)
call RemoveLocation(l)
call TU7(UC7,"Source",p5)
call TU7(UC7,"Caster",H88)
call TQ7(UC7,"Level",BH7)
call TR7(UC7,"x",x1*1.0)
call TR7(UC7,"y",y1*1.0)
call TR7(UC7,"Angle",l4*1.0)
call TC7(UC7,"AlreadyDamaged",CX7())
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function VOD))
set t=null
set p5=null
set l=null
set H88=null
endfunction
function VQD takes nothing returns boolean
if GetSpellAbilityId()==1093744463 then
call VPD()
endif
return false
endfunction
function NL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VQD))
set t=null
endfunction
function VRD takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareMissile.mdl",GetTriggerUnit(),"weapon"))
endfunction
function VSD takes nothing returns boolean
if GetSpellAbilityId()==1093677633 then
call VRD()
endif
return false
endfunction
function N18 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerAddCondition(t,Condition(function VSD))
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
set t=null
endfunction
function VTD takes nothing returns boolean
return(GetSpellAbilityId()==(1093683779)or GetSpellAbilityId()==(1093677616)or GetSpellAbilityId()==(1093810503)or GetSpellAbilityId()==(1093810504)or(GetUnitPointValue(GetTriggerUnit())==500))and GetUnitAbilityLevel(GetTriggerUnit(),(1093684789))>0
endfunction
function VUD takes nothing returns nothing
local real VVD=GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)
local real VWD=0.03+0.02*GetUnitAbilityLevel(GetTriggerUnit(),1093684789)
local real B19=VVD*VWD
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),B19,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\ForkedLightning\\ForkedLightningTarget.mdl",GetEnumUnit(),"overhead"))
endfunction
function VXD takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false
endfunction
function VYD takes nothing returns nothing
local location L18=GetUnitLoc(GetTriggerUnit())
local group B_9=CX7()
local real x=GetLocationX(L18)
local real y=GetLocationY(L18)
local boolexpr QTD=Condition(function VXD)
call GroupEnumUnitsInRange(B_9,x,y,1025,QTD)
call ForGroup(B_9,function VUD)
call RemoveLocation(L18)
call CW7(B_9)
call DestroyBoolExpr(QTD)
set L18=null
set B_9=null
set QTD=null
endfunction
function N08 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VTD))
call TriggerAddAction(t,function VYD)
set t=null
endfunction
function VZD takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and J48(GetUnitTypeId(GetFilterUnit()))==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GG7))==true
endfunction
function VAD takes nothing returns nothing
local real x=GetUnitX(GetEnumUnit())
local real y=GetUnitY(GetEnumUnit())
local unit S67=CreateUnit(GetOwningPlayer(GG7),1697656880,x,y,0)
call UnitAddAbility(S67,1093678419)
call SetUnitAbilityLevel(S67,1093678419,GH7)
call IssueTargetOrder(S67,"chainlightning",GetEnumUnit())
call UnitApplyTimedLife(S67,1112820806,3)
call UnitAddAbility(S67,1097625443)
if(GetPlayerController(GetOwningPlayer(S67))==MAP_CONTROL_COMPUTER)then
call IssueTargetOrderById(S67,852119,GetEnumUnit())
endif
set S67=null
endfunction
function VBD takes nothing returns nothing
local group g=CX7()
set GG7=GetTriggerUnit()
if GetSpellAbilityId()==1093810503 then
set GH7=GetUnitAbilityLevel(GetTriggerUnit(),1093810503)+4
else
set GH7=GetUnitAbilityLevel(GetTriggerUnit(),1093810504)+7
endif
call GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,Condition(function VZD))
call ForGroup(g,function VAD)
call CW7(g)
set g=null
endfunction
function VCD takes nothing returns boolean
if GetSpellAbilityId()==1093810503 or GetSpellAbilityId()==1093810504 then
call VBD()
endif
return false
endfunction
function N58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VCD))
set t=null
endfunction
function V3D takes nothing returns boolean
return GetSpellAbilityId()==1093683779 and CV7(GetSpellTargetUnit())==false
endfunction
function V6D takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit oA=CreateUnit(GetOwningPlayer(CO7),1697656880,GetUnitX(m5),GetUnitY(m5),0)
call LM7(oA,1093678419)
call SetUnitAbilityLevel(oA,1093678419,GetUnitAbilityLevel(CO7,1093683779))
call IssueTargetOrderById(oA,852119,m5)
call UnitApplyTimedLife(oA,1112820806,3)
call SetUnitPathing(oA,false)
call LM7(oA,1097625443)
if(GetPlayerController(GetOwningPlayer(oA))==MAP_CONTROL_COMPUTER)then
call R47(0.01)
call IssueTargetOrderById(oA,852119,m5)
endif
set CO7=null
set m5=null
set oA=null
endfunction
function N28 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function V3D))
call TriggerAddAction(t,function V6D)
set t=null
endfunction
function VLD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit H88=U87(UC7,"Caster")
call SetUnitX(H88,GetUnitX(p5))
call SetUnitY(H88,GetUnitY(p5))
if GetTriggerEvalCount(t)>80 then
call TN7(UC7)
call UA7(t)
endif
set t=null
set p5=null
set H88=null
return false
endfunction
function V1D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit H88=CreateUnit(GetOwningPlayer(p5),1697657411,GetUnitX(p5),GetUnitY(p5),0)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call LM7(H88,1093748301)
call SetUnitAbilityLevel(H88,1093748301,GetUnitAbilityLevel(p5,1093677616))
call IssueTargetOrder(H88,"chainlightning",m5)
call UnitApplyTimedLife(H88,1112820806,10)
call TU7(UC7,"Source",p5)
call TU7(UC7,"Caster",H88)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function VLD))
set p5=null
set m5=null
set H88=null
set t=null
endfunction
function V0D takes nothing returns boolean
if GetSpellAbilityId()==1093677616 and CV7(GetSpellTargetUnit())==false then
call V1D()
endif
return false
endfunction
function N_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerAddCondition(t,Condition(function V0D))
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
set t=null
endfunction
function V5D takes nothing returns boolean
return GetSpellAbilityId()==(1093683507)and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or CV7(GetSpellTargetUnit())==false)
endfunction
function WU takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local real DS8=UO7(UC7,"Damage")
call UnitDamageTarget(CO7,CO7,DS8,false,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call TN7(UC7)
call PauseTimer(t)
call DestroyTimer(t)
set t=null
set CO7=null
endfunction
function V2D takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real DS8=25+25*GetUnitAbilityLevel(CO7,1093683507)
local timer t=CreateTimer()
local integer UC7=GetHandleId(t)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",m5,"origin"))
if IsUnitAlly(m5,GetOwningPlayer(CO7))and GetUnitState(m5,UNIT_STATE_LIFE)>1. then
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+2*DS8)
else
call UnitDamageTarget(CO7,m5,2*DS8,false,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
call TU7(UC7,"Hero",CO7)
call TR7(UC7,"Damage",DS8)
call TimerStart(t,0,false,function WU)
set CO7=null
set m5=null
set t=null
endfunction
function QU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function V5D))
call TriggerAddAction(t,function V2D)
set t=null
endfunction
function WV takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(MB),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call LM7(oA,1093684554)
call SetUnitAbilityLevel(oA,1093684554,IH4)
call IssueTargetOrder(oA,"forkedlightning",GetEnumUnit())
set oA=null
endfunction
function V_D takes unit p5,unit m5,integer BH7 returns nothing
local group g=CX7()
set IN4=p5
set IH4=BH7
set MB=p5
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),700,Condition(function F28))
call ForGroup(g,function WV)
call CW7(g)
set g=null
endfunction
function WW takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local real W4D=UO7(OC7,"Life")
local unit EC8
local unit O07=U87(OC7,"Target")
local integer H98
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if UU7(GetTriggerUnit(),"BorrowedTime|Active")==false then
if W4D<GetEventDamage()then
set EC8=U87(OC7,"Source")
set H98=UN7(OC7,"Level")
call DestroyEffect(UH7(OC7,"FX"))
call TT7(GetHandleId(O07),"AphoticShield|Active",false)
call TN7(OC7)
call UA7(t)
call DT8(GetTriggerUnit(),W4D)
call V_D(EC8,GetTriggerUnit(),H98)
set GZ[256+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
elseif GetEventDamage()>0 then
call DT8(GetTriggerUnit(),GetEventDamage())
call TR7(OC7,"Life",W4D-GetEventDamage())
endif
endif
else
set EC8=U87(OC7,"Source")
set H98=UN7(OC7,"Level")
call TT7(GetHandleId(O07),"AphoticShield|Active",false)
set GZ[256+GetPlayerId(GetOwningPlayer(U87(OC7,"AphTarg")))]=false
call DestroyEffect(UH7(OC7,"FX"))
call TN7(OC7)
call UA7(t)
call V_D(EC8,O07,H98)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function W7D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit O07=GetSpellTargetUnit()
local unit EC8=GetTriggerUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093684550)
local integer POD=GetHandleId(O07)
local real W4D
if UP7(POD,"AphoticShield|Active")==true then
call TriggerEvaluate(UF7(POD,"AphoticShield|Trigger"))
endif
call UnitRemoveBuffs(O07,false,true)
call DL9(O07,0,0)
if H98==1 then
set W4D=110
elseif H98==2 then
set W4D=140
elseif H98==3 then
set W4D=170
else
set W4D=200
endif
call TR7(OC7,"Life",W4D)
call TV7(OC7,"FX",AddSpecialEffectTarget("war3mapImported\\Defensive Barrier big.mdx",O07,"chest"))
call TU7(OC7,"Source",EC8)
call TQ7(OC7,"Level",H98)
call TU7(OC7,"Target",O07)
set GZ[256+GetPlayerId(GetOwningPlayer(GetSpellTargetUnit()))]=true
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,15,false)
call TriggerAddCondition(t,Condition(function WW))
call TW7(POD,"AphoticShield|Trigger",t)
call TT7(POD,"AphoticShield|Active",true)
set t=null
set O07=null
set EC8=null
endfunction
function W8D takes nothing returns boolean
if GetSpellAbilityId()==1093684550 then
call W7D()
endif
return false
endfunction
function WY takes nothing returns nothing
if GetUnitAbilityLevel(GetSpellTargetUnit(),1112433775)>0 then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),BB7(1848652617))
endif
endfunction
function W9D takes nothing returns boolean
if GetSpellAbilityId()==1093684550 then
call WY()
endif
return false
endfunction
function s7 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function W9D))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W8D))
set t=null
endfunction
function WDD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
if GetTriggerEventId()==EVENT_UNIT_DEATH or IssueImmediateOrder(CO7,"windwalk")then
call TN7(UC7)
call UA7(t)
endif
set t=null
set CO7=null
return false
endfunction
function WED takes unit CO7 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function WDD))
call TU7(UC7,"Hero",CO7)
set t=null
endfunction
function WFD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CC7=GetTriggerUnit()
local integer H98=GetUnitAbilityLevel(CC7,1093684819)
local integer H48=2+H98
local real ZM8
if H98==0 then
set H98=GetUnitAbilityLevel(CC7,1093747777)
set H48=4+1*H98
endif
if GetTriggerEventId()==EVENT_UNIT_DAMAGED and UU7(CC7,"BorrowedTime|Active")then
call DT8(CC7,GetEventDamage())
call DT8(CC7,GetEventDamage())
elseif(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()==1093684819 or GetSpellAbilityId()==1093747777))or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and UU7(CC7,"BorrowedTime|CD")==false and GetUnitState(CC7,UNIT_STATE_LIFE)<400)then
call TimerStart(N84[GetPlayerId(GetOwningPlayer(CC7))],70-10*H98,false,null)
call U67(CC7,"BorrowedTime|Active",H48)
call U67(CC7,"BorrowedTime|CD",70-10*H98)
call UnitRemoveBuffs(CC7,false,true)
call DL9(CC7,0,0)
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
call DisableTrigger(t)
set GI7=true
if IssueImmediateOrder(CC7,"windwalk")==false then
call WED(CC7)
endif
set GI7=false
call EnableTrigger(t)
endif
call DY8("Abilities\\Spells\\Undead\\Unsummon\\UnsummonTarget.mdl",CC7,"origin",H48)
endif
set t=null
set CC7=null
return false
endfunction
function WGD takes unit CO7,boolean A_9 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WFD))
if A_9 then
set Vj[GetPlayerId(GetOwningPlayer(CO7))]=t
endif
set t=null
endfunction
function WHD takes nothing returns boolean
if(GetLearnedSkill()==1093684819 or GetLearnedSkill()==1093747777)and IsUnitIllusion(GetTriggerUnit())==false and(GetUnitAbilityLevel(GetTriggerUnit(),1093684819)==1 or GetUnitAbilityLevel(GetTriggerUnit(),1093747777)==1)then
call WGD(GetTriggerUnit(),false)
endif
return false
endfunction
function QW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function WHD))
set t=null
endfunction
function WID takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),(1110455862))>0 or GetUnitAbilityLevel(GetAttacker(),(1093684551))>0
endfunction
function WJD takes nothing returns nothing
local unit Z88=GetAttacker()
local unit m5=GetTriggerUnit()
local unit WKD
local integer BH7=GetUnitAbilityLevel(Z88,(1093684551))
local unit H88=CreateUnit(GetOwningPlayer(Z88),1697656901,GetUnitX(Z88),GetUnitY(Z88),0)
if BH7>0 then
call TQ7(GetHandleId(m5),"MarkOfTheAbyss|Level",BH7)
else
set BH7=UN7(GetHandleId(m5),"MarkOfTheAbyss|Level")
endif
if IsUnitEnemy(m5,GetOwningPlayer(Z88))==true then
call LM7(H88,(1093684552))
call SetUnitAbilityLevel(H88,(1093684552),BH7)
call IssueTargetOrder(H88,"bloodlust",Z88)
endif
set Z88=null
set m5=null
set WKD=null
set H88=null
endfunction
function QV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function WID))
call TriggerAddAction(t,function WJD)
set t=null
endfunction
function WMD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local integer CP8=(LoadInteger(L7,(OC7),(34)))
local real B19
local integer H48
local unit B18
if H98==1 then
set B19=15
set H48=10
elseif H98==2 then
set B19=21
set H48=13
elseif H98==3 then
set B19=27
set H48=16
elseif H98==4 then
set B19=33
set H48=19
endif
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetTriggerEvalCount(t)>1 and GetSpellAbilityId()==1093686065 and CV7(GetSpellTargetUnit())==false and O07==GetSpellTargetUnit()then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH then
set B18=GetKillingUnit()
if I98(B18)then
set B18=(M7[GetPlayerId(GetOwningPlayer((B18)))])
endif
if GetTriggerUnit()==O07 or B18==O07 then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveAbility(O07,1093752627)
call UnitRemoveAbility(O07,1110459471)
endif
else
set CP8=CP8+1
call SaveInteger(L7,(OC7),(34),(CP8))
if CP8==H48 then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveAbility(O07,1093752627)
call UnitRemoveAbility(O07,1110459471)
endif
call HD8(EC8,O07,ZG4,B19)
endif
set t=null
set EC8=null
set O07=null
set B18=null
return false
endfunction
function WND takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093686065)
local real WOD
local real JNI
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Demon\\ReviveDemon\\ReviveDemon.mdl",O07,"overhead"))
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093752627,false)
call LM7(O07,1093752627)
call TriggerRegisterTimerEvent(t,1,true)
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WMD))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveInteger(L7,(OC7),(34),(0))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\SoulBurn\\SoulBurnbuff.mdl",O07,"overhead")))
set EC8=null
set O07=null
set t=null
endfunction
function WPD takes nothing returns nothing
if GetUnitAbilityLevel(GetEnumUnit(),1110459471)>0 then
set HC7=HC7+1
endif
endfunction
function WQD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local group g=CX7()
set IN4=EC8
set HC7=0
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function FT8))
call ForGroup(g,function WPD)
call CW7(g)
if HC7==0 then
if GetUnitAbilityLevel(EC8,1110459738)>0 then
call UnitRemoveAbility(EC8,1093812562)
call UnitRemoveAbility(EC8,1093812563)
call UnitRemoveAbility(EC8,1093812565)
call UnitRemoveAbility(EC8,1093812564)
call UnitRemoveAbility(EC8,1093812561)
call UnitRemoveAbility(EC8,1093812560)
call UnitRemoveAbility(EC8,1110459738)
endif
elseif HC7==1 then
if GetUnitAbilityLevel(EC8,1093812562)==0 then
call UnitRemoveAbility(EC8,1093812562)
call UnitRemoveAbility(EC8,1093812563)
call UnitRemoveAbility(EC8,1093812565)
call UnitRemoveAbility(EC8,1093812564)
call UnitRemoveAbility(EC8,1093812561)
call UnitRemoveAbility(EC8,1093812560)
call UnitRemoveAbility(EC8,1110459738)
call UnitAddAbility(EC8,1093812562)
endif
elseif HC7==2 then
if GetUnitAbilityLevel(EC8,1093812563)==0 then
call UnitRemoveAbility(EC8,1093812562)
call UnitRemoveAbility(EC8,1093812563)
call UnitRemoveAbility(EC8,1093812565)
call UnitRemoveAbility(EC8,1093812564)
call UnitRemoveAbility(EC8,1093812561)
call UnitRemoveAbility(EC8,1093812560)
call UnitRemoveAbility(EC8,1110459738)
call UnitAddAbility(EC8,1093812563)
endif
elseif HC7==3 then
if GetUnitAbilityLevel(EC8,1093812565)==0 then
call UnitRemoveAbility(EC8,1093812562)
call UnitRemoveAbility(EC8,1093812563)
call UnitRemoveAbility(EC8,1093812565)
call UnitRemoveAbility(EC8,1093812564)
call UnitRemoveAbility(EC8,1093812561)
call UnitRemoveAbility(EC8,1093812560)
call UnitRemoveAbility(EC8,1110459738)
call UnitAddAbility(EC8,1093812565)
endif
elseif HC7==4 then
if GetUnitAbilityLevel(EC8,1093812564)==0 then
call UnitRemoveAbility(EC8,1093812562)
call UnitRemoveAbility(EC8,1093812563)
call UnitRemoveAbility(EC8,1093812565)
call UnitRemoveAbility(EC8,1093812564)
call UnitRemoveAbility(EC8,1093812561)
call UnitRemoveAbility(EC8,1093812560)
call UnitRemoveAbility(EC8,1110459738)
call UnitAddAbility(EC8,1093812564)
endif
elseif HC7==5 then
if GetUnitAbilityLevel(EC8,1093812561)==0 then
call UnitRemoveAbility(EC8,1093812562)
call UnitRemoveAbility(EC8,1093812563)
call UnitRemoveAbility(EC8,1093812565)
call UnitRemoveAbility(EC8,1093812564)
call UnitRemoveAbility(EC8,1093812561)
call UnitRemoveAbility(EC8,1093812560)
call UnitRemoveAbility(EC8,1110459738)
call UnitAddAbility(EC8,1093812561)
endif
elseif HC7>=6 then
if GetUnitAbilityLevel(EC8,1093812560)==0 then
call UnitRemoveAbility(EC8,1093812562)
call UnitRemoveAbility(EC8,1093812563)
call UnitRemoveAbility(EC8,1093812565)
call UnitRemoveAbility(EC8,1093812564)
call UnitRemoveAbility(EC8,1093812561)
call UnitRemoveAbility(EC8,1093812560)
call UnitRemoveAbility(EC8,1110459738)
call UnitAddAbility(EC8,1093812560)
endif
endif
set t=null
set EC8=null
return false
endfunction
function WRD takes nothing returns boolean
if GetSpellAbilityId()==1093686065 and CV7(GetSpellTargetUnit())==false then
call WND()
endif
return false
endfunction
function WSD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function WQD))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812562,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812563,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812565,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812564,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812561,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812560,false)
set t=null
endfunction
function WTD takes nothing returns boolean
if GetLearnedSkill()==1093686065 and GetUnitAbilityLevel(GetTriggerUnit(),1093686065)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call WSD()
endif
return false
endfunction
function OE8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WRD))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function WTD))
set t=null
endfunction
function WUD takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
call HD8(GetTriggerUnit(),GetEnumUnit(),ZH4,GetUnitAbilityLevel(GetTriggerUnit(),1093681974)*35+65)
endfunction
function WVD takes nothing returns nothing
local group g=CX7()
local unit CO7=GetTriggerUnit()
call GroupEnumUnitsInRange(g,GetUnitX(CO7),GetUnitY(CO7),300,Condition(function jF))
call ForGroup(g,function WUD)
call SetUnitAnimation(CO7,"spin")
call EU8(CO7,.6)
call U67(CO7,"WVD",0.7-0.05*GetUnitAbilityLevel(GetTriggerUnit(),1093681974))
call CW7(g)
set g=null
set CO7=null
endfunction
function WWD takes nothing returns boolean
if GetUnitAbilityLevel(GetTriggerUnit(),1110455120)>0 and IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetAttacker(),UNIT_TYPE_MECHANICAL)==false and GetUnitAbilityLevel(GetAttacker(),1093678162)==0 and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false and GetRandomReal(0,100)<17 and UU7(GetTriggerUnit(),"WVD")==false then
call WVD()
endif
return false
endfunction
function OF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function WWD))
set t=null
endfunction
function xC takes nothing returns boolean
return F58()and GetUnitAbilityLevel(GetFilterUnit(),1110454328)==0 and GetUnitAbilityLevel(GetFilterUnit(),1113815395)==0
endfunction
function xd takes integer OC7,integer WXD returns nothing
local integer i=1
loop
exitwhen i>WXD
call DestroyEffect((LoadEffectHandle(L7,(OC7),(2700+i))))
set i=i+1
endloop
endfunction
function WYD takes nothing returns nothing
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetEnumUnit()))!=MAP_CONTROL_USER))then
set hq[640+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=Bz+1+(.5*GetUnitAbilityLevel(GetTriggerUnit(),1093683510))
set hq[832+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=Bz+1+(.5*GetUnitAbilityLevel(GetTriggerUnit(),1093683510))
call IssueTargetOrderById(GetEnumUnit(),851971,GK7)
else
call IssueTargetOrderById(GetEnumUnit(),851983,GK7)
endif
endfunction
function xE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local group g=LoadGroupHandle(L7,(OC7),(220))
local unit CC7=LoadUnitHandle(L7,(OC7),(14))
local integer WXD=LoadInteger(L7,(OC7),(365))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local integer CP8=(LoadInteger(L7,(OC7),(34)))
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_ORDER then
set CP8=CP8+1
call SaveInteger(L7,(OC7),(34),(CP8))
if CP8==(4+2*H98)then
call UnitRemoveAbility(CC7,1093683509)
call CW7(g)
call xd(OC7,WXD)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
call DisableTrigger(t)
set GK7=CC7
call ForGroup(g,function WYD)
call EnableTrigger(t)
endif
else
if IsUnitInGroup(GetTriggerUnit(),g)==true and UnitIsSleeping(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1110454328)==0 and GetIssuedOrderId()!=851973 and GI7==false then
call DisableTrigger(t)
if((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))then
call DisableTrigger(Q04[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call IssueTargetOrderById(GetTriggerUnit(),851971,CC7)
call EnableTrigger(Q04[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
else
call IssueTargetOrderById(GetTriggerUnit(),851983,CC7)
endif
call EnableTrigger(t)
endif
endif
set t=null
set g=null
set CC7=null
return false
endfunction
function xf takes nothing returns nothing
set IH4=IH4+1
call SaveEffectHandle(L7,(tl),(2700+IH4),(AddSpecialEffectTarget("Abilities\\Weapons\\LavaSpawnMissile\\LavaSpawnBirthMissile.mdl",GetEnumUnit(),"chest")))
endfunction
function xF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit CC7=GetTriggerUnit()
local integer H98=GetUnitAbilityLevel(CC7,1093683510)
local group g=CX7()
call LM7(CC7,1093683509)
call SetUnitAbilityLevel(CC7,1093683509,H98)
set IN4=CC7
set GK7=CC7
set IH4=0
set tl=OC7
call GroupEnumUnitsInRange(g,GetUnitX(CC7),GetUnitY(CC7),300,Condition(function xC))
call ForGroup(g,function xf)
call ForGroup(g,function WYD)
call SaveInteger(L7,(OC7),(365),IH4)
call SaveUnitHandle(L7,(OC7),(14),CC7)
call SaveGroupHandle(L7,(OC7),(220),g)
call SaveInteger(L7,(OC7),(5),(H98))
call SaveInteger(L7,(OC7),(34),(0))
call TriggerRegisterTimerEvent(t,0.25,true)
call D18(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call D18(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call D18(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function xE))
set t=null
set g=null
set CC7=null
endfunction
function WZD takes nothing returns boolean
if GetSpellAbilityId()==1093683510 then
call xF()
endif
return false
endfunction
function OG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WZD))
set t=null
endfunction
function WAD takes nothing returns nothing
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093814595,false)
call F88(GetEnumUnit(),1093814595,1,6,1110459990)
endfunction
function WBD takes nothing returns boolean
return GetSpellAbilityId()==1093682482 or GetSpellAbilityId()==1093750098
endfunction
function WCD takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local real W4D=GetUnitState(O07,UNIT_STATE_LIFE)
local integer H98=GetUnitAbilityLevel(CO7,1093682482)
local unit H88
local boolean W3D=false
local group g
if H98==0 then
set H98=GetUnitAbilityLevel(CO7,1093750098)
set W3D=true
endif
if(W4D<=300 and H98==1)or(W4D<=450 and H98==2)or(W4D<=625 and H98==3)then
if W3D then
endif
call PlaySoundOnUnitBJ(YN,100,O07)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl",O07,"overhead"))
set H88=CreateUnit(GetOwningPlayer(CO7),1697656901,0,0,0)
call UnitRemoveBuffs(O07,true,true)
call UnitRemoveAbility(O07,1097167980)
call UnitDamageTarget(H88,O07,100000000.,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\AxeUltiMSFX_01.mdx",CO7,"origin"))
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(CO7),GetUnitY(CO7),625,Condition(function GP8))
call ForGroup(g,function WAD)
call CW7(g)
set g=null
endif
set CO7=null
set O07=null
set H88=null
endfunction
function OH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WBD))
call TriggerAddAction(t,function WCD)
set t=null
endfunction
function W6D takes nothing returns boolean
return GetSpellAbilityId()==1093683019 and CV7(GetSpellTargetUnit())==false
endfunction
function WLD takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),20+70*GetUnitAbilityLevel(GetTriggerUnit(),1093683019),ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC)
if GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>1 then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+20+70*GetUnitAbilityLevel(GetTriggerUnit(),1093683019))
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetSpellTargetUnit(),"origin"))
endfunction
function W1D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local unit p5=U87(UC7,"Source")
local player p=UD7(UC7,"p")
local integer BH7=UN7(UC7,"Level")
local unit oA
if GetUnitAbilityLevel(m5,1110454854)==0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093678169,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093816121,false)
call TN7(UC7)
call UA7(t)
elseif GetTriggerEventId()==EVENT_UNIT_ATTACKED and GetTriggerUnit()==m5 then
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093678169,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093816121,false)
if((IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_COMPUTER))then
call IssuePointOrderById(GetAttacker(),851986,GetUnitX(GetAttacker())+GetRandomReal(0,150.)-75.,GetUnitY(GetAttacker())+GetRandomReal(0,150.)-75.)
else
call UnitRemoveAbility(m5,1110454854)
set oA=CreateUnit(p,1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LM7(oA,1093678169)
call SetUnitAbilityLevel(oA,1093678169,BH7)
call IssueTargetOrderById(oA,852227,GetAttacker())
call TN7(UC7)
call UA7(t)
endif
elseif GetTriggerEventId()!=EVENT_UNIT_ATTACKED then
if GetUnitState(m5,UNIT_STATE_LIFE)>21 then
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)-20)
else
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093678169,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093816121,false)
call UnitRemoveAbility(m5,1110454854)
call HD8(p5,m5,ZG4,50)
call TN7(UC7)
call UA7(t)
endif
endif
set t=null
set p=null
set oA=null
set m5=null
set p5=null
return false
endfunction
function W0D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
set UC7=GetHandleId(t)
call TU7(UC7,"Target",m5)
call TU7(UC7,"Source",p5)
call TA7(UC7,"p",GetOwningPlayer(p5))
call TQ7(UC7,"Level",GetUnitAbilityLevel(p5,1093678169))
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_ATTACKED)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W1D))
if GetUnitAbilityLevel(m5,1093678169)>0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093678169,false)
call LM7(m5,1093816121)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093816121,true)
endif
set WU4=true
call HD8(p5,m5,ZH4,0)
set WU4=false
set p5=null
set m5=null
set t=null
endfunction
function W5D takes nothing returns boolean
if GetSpellAbilityId()==1093678169 and RW7(GetSpellTargetUnit())==false then
call W0D()
endif
return false
endfunction
function W2D takes nothing returns boolean
if GetSpellAbilityId()==1093678169 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
if GetOwningPlayer(GetTriggerUnit())!=GetOwningPlayer(GetSpellTargetUnit())and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(UP7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652600))
endif
endif
return false
endfunction
function W_D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveAbility(EC8,1110454854)
call UnitRemoveAbility(EC8,1093816121)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093678169,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093816121,false)
set t=null
set EC8=null
return false
endfunction
function X4D takes nothing returns boolean
local trigger t
if GetIssuedOrderId()==String2OrderIdBJ("manashieldon")and GetUnitAbilityLevel(GetTriggerUnit(),1093816121)>0 then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function W_D))
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(GetTriggerUnit()))
endif
return false
endfunction
function OI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W5D))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function W2D))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function X4D))
set t=null
endfunction
function X7D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit p5=U87(OC7,"Source")
local unit m5=U87(OC7,"Target")
local real ZM8
local integer CP8=6
local fogmodifier X8D=(LoadFogModifierHandle(L7,(OC7),(42)))
if GetUnitAbilityLevel(p5,1093747769)>0 then
set CP8=8
endif
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
call FogModifierStop(X8D)
call DestroyFogModifier(X8D)
call TN7(OC7)
call UA7(t)
elseif GetTriggerEvalCount(t)>CP8 then
call FogModifierStop(X8D)
call DestroyFogModifier(X8D)
call TN7(OC7)
call UA7(t)
call RR7(p5)
else
set ZM8=RMinBJ(0.05*GetUnitState(m5,UNIT_STATE_MAX_MANA),GetUnitState(m5,UNIT_STATE_MANA))
if GetUnitAbilityLevel(p5,1093747769)>0 then
set ZM8=RMinBJ(0.1*GetUnitState(m5,UNIT_STATE_MAX_MANA),GetUnitState(m5,UNIT_STATE_MANA))
endif
if ZM8>0 then
call SetUnitState(p5,UNIT_STATE_MANA,GetUnitState(p5,UNIT_STATE_MANA)+ZM8)
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-ZM8)
endif
endif
set t=null
set p5=null
set m5=null
set X8D=null
return false
endfunction
function X9D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local fogmodifier X8D=CreateFogModifierRadius(GetOwningPlayer(p5),FOG_OF_WAR_VISIBLE,GetUnitX(m5),GetUnitY(m5),350,true,true)
call FogModifierStart(X8D)
call UnitRemoveAbility(m5,1110454854)
call UnitRemoveAbility(m5,1112896368)
call UnitRemoveAbility(m5,1114993524)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function X7D))
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call SaveFogModifierHandle(L7,(UC7),(42),(X8D))
set p5=null
set m5=null
set t=null
set X8D=null
endfunction
function XDD takes nothing returns boolean
if GetSpellAbilityId()==1093677649 or GetSpellAbilityId()==1093747769 then
call X9D()
endif
return false
endfunction
function OJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XDD))
set t=null
endfunction
function XED takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local real NVD=(LoadReal(L7,(GetHandleId(O07)),(789)))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if GetTriggerEventId()==EVENT_WIDGET_DEATH or NVD<(TimerGetElapsed(W))then
call UnitRemoveAbility(O07,1093816135)
call UnitRemoveAbility(O07,1093816129)
call UnitRemoveAbility(O07,1093816134)
call UnitRemoveAbility(O07,1093816136)
call UnitRemoveAbility(O07,1110460229)
endif
set t=null
set O07=null
return false
endfunction
function XFD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093816137)
if H98==1 then
call UnitRemoveAbility(O07,1110460229)
call UnitRemoveAbility(O07,1093816129)
call UnitRemoveAbility(O07,1093816134)
call UnitRemoveAbility(O07,1093816136)
call LM7(O07,1093816135)
call UnitMakeAbilityPermanent(O07,true,1093816132)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093816135,false)
elseif H98==2 then
call UnitRemoveAbility(O07,1110460229)
call UnitRemoveAbility(O07,1093816135)
call UnitRemoveAbility(O07,1093816134)
call UnitRemoveAbility(O07,1093816136)
call LM7(O07,1093816129)
call UnitMakeAbilityPermanent(O07,true,1093816133)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093816129,false)
elseif H98==3 then
call UnitRemoveAbility(O07,1110460229)
call UnitRemoveAbility(O07,1093816135)
call UnitRemoveAbility(O07,1093816129)
call UnitRemoveAbility(O07,1093816136)
call LM7(O07,1093816134)
call UnitMakeAbilityPermanent(O07,true,1093816131)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093816134,false)
elseif H98==4 then
call UnitRemoveAbility(O07,1110460229)
call UnitRemoveAbility(O07,1093816135)
call UnitRemoveAbility(O07,1093816129)
call UnitRemoveAbility(O07,1093816134)
call LM7(O07,1093816136)
call UnitMakeAbilityPermanent(O07,true,1093816130)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093816136,false)
endif
call TriggerRegisterTimerEvent(t,20,false)
call TriggerRegisterDeathEvent(t,O07)
call TriggerAddCondition(t,Condition(function XED))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveReal(L7,(GetHandleId(O07)),(789),((19.9+(TimerGetElapsed(W)))*1.0))
set t=null
set EC8=null
set O07=null
endfunction
function XGD takes nothing returns boolean
if GetSpellAbilityId()==1093816137 and CV7(GetSpellTargetUnit())==false then
call XFD()
endif
return false
endfunction
function OM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XGD))
set t=null
endfunction
function XHD takes unit EC8,unit O07,real XID returns nothing
call SetUnitState(EC8,UNIT_STATE_LIFE,GetUnitState(EC8,UNIT_STATE_LIFE)+GetUnitState(O07,UNIT_STATE_MAX_LIFE)*XID)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl",EC8,"overhead"))
endfunction
function XJD takes nothing returns boolean
if LO7(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),1093684293)>0 and IsUnitEnemy(Y24,GetOwningPlayer(GetFilterUnit()))then
call XHD(GetFilterUnit(),Y24,GetUnitAbilityLevel(GetFilterUnit(),1093684293)*0.1*0.5)
endif
return false
endfunction
function XKD takes unit EC8,unit O07,integer H98 returns nothing
local group g=CX7()
set Y24=O07
call GroupEnumUnitsInRange(g,GetUnitX(O07),GetUnitY(O07),350,Condition(function XJD))
call CW7(g)
set Y24=null
set g=null
endfunction
function XMD takes nothing returns boolean
local unit EC8=GetKillingUnit()
local unit O07=GetTriggerUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093684293)
if IsUnitIllusion(O07)==false and IsUnitType(O07,UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(O07)!=1848651852 then
if IsUnitType(O07,UNIT_TYPE_HERO)==false then
if H98>0 then
call XHD(EC8,O07,H98*0.05+0.05)
endif
else
if H98>0 then
call XHD(EC8,O07,H98*0.1)
else
call XKD(EC8,O07,H98)
endif
endif
endif
set EC8=null
set O07=null
return false
endfunction
function ON8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function XMD))
set t=null
endfunction
function xn takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local integer BH7=UN7(UC7,"Level")
local real xN=UO7(UC7,"LastX")
local real xo=UO7(UC7,"LastY")
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local real d=SquareRoot((xN-x)*(xN-x)+(xo-y)*(xo-y))
local real H8D=0.2*BH7*d
local integer QI=UN7(UC7,"Iteration")
if d>1300 then
set H8D=0
endif
if H8D>5 then
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",m5,"origin"))
endif
if H8D>0 and LO7(m5)==false then
call HD8(p5,m5,ZI4,H8D)
endif
call TR7(UC7,"LastX",x)
call TR7(UC7,"LastY",y)
call TQ7(UC7,"Iteration",QI+1)
if LO7(m5)then
call TN7(UC7)
call UA7(t)
elseif QI>4*(6+BH7)then
call UnitRemoveAbility(m5,1093683528)
call UnitRemoveAbility(m5,1110456396)
call TN7(UC7)
call UA7(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function xp takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(p5,1093684296)
call LM7(m5,1093683528)
call SetUnitAbilityLevel(m5,1093683528,BH7)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",m5,"chest"))
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TQ7(UC7,"Level",BH7)
call TR7(UC7,"LastX",GetUnitX(m5))
call TR7(UC7,"LastY",GetUnitY(m5))
call TQ7(UC7,"Iteration",0)
call TriggerRegisterTimerEvent(t,.25,true)
call TriggerAddCondition(t,Condition(function xn))
call HD8(p5,m5,ZI4,50+100*BH7)
set p5=null
set m5=null
set t=null
endfunction
function XND takes nothing returns boolean
if GetSpellAbilityId()==1093684296 and CV7(GetSpellTargetUnit())==false then
call xp()
endif
return false
endfunction
function OO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XND))
set t=null
endfunction
function XOD takes nothing returns nothing
local unit H88
if FU8(GetEnumUnit())==false then
call UnitRemoveAbility(GetEnumUnit(),1110459737)
call UnitShareVision(GetEnumUnit(),GetOwningPlayer(ZR4),true)
else
call UnitShareVision(GetEnumUnit(),GetOwningPlayer(ZR4),true)
if GetUnitAbilityLevel(GetEnumUnit(),1110459737)==0 and GetUnitAbilityLevel(GetEnumUnit(),1110454356)==0 and GetUnitAbilityLevel(GetEnumUnit(),1110454348)==0 then
set H88=CreateUnit(GetOwningPlayer(ZR4),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call UnitAddAbility(H88,1093812552)
call IssueTargetOrder(H88,"faeriefire",GetEnumUnit())
set H88=null
endif
endif
endfunction
function XPD takes nothing returns nothing
local real JJD=ZS4*0.1+0.1
if LO7(ZR4)==true or IsUnitInGroup(GetEnumUnit(),ZQ4)==false or GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)>JJD or(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)>JJD/2 and FU8(GetEnumUnit())==true)then
call GroupRemoveUnit(ZP4,GetEnumUnit())
call UnitShareVision(GetEnumUnit(),GetOwningPlayer(ZR4),false)
call UnitRemoveAbility(GetEnumUnit(),1110459737)
endif
endfunction
function XQD takes nothing returns nothing
local real JJD
if LO7(ZR4)==false and IsUnitInGroup(GetEnumUnit(),ZP4)==false and IsUnitIllusion(GetEnumUnit())==false then
set JJD=ZS4*0.1+0.1
if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)<JJD and FU8(GetEnumUnit())==false then
call GroupAddUnit(ZP4,GetEnumUnit())
elseif GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)<JJD/2 then
call GroupAddUnit(ZP4,GetEnumUnit())
endif
endif
endfunction
function XRD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local group XSD=(LoadGroupHandle(L7,(OC7),(22)))
local group g=CX7()
local integer H98=GetUnitAbilityLevel(EC8,1093683512)
set IN4=EC8
set ZR4=EC8
set ZP4=XSD
set ZS4=H98
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),25+6000,Condition(function GK8))
call ForGroup(g,function XQD)
set ZQ4=g
call ForGroup(ZP4,function XPD)
call ForGroup(ZP4,function XOD)
if FirstOfGroup(ZP4)==null then
call UnitRemoveAbility(EC8,ZO4[1])
call UnitRemoveAbility(EC8,ZO4[2])
call UnitRemoveAbility(EC8,ZO4[3])
call UnitRemoveAbility(EC8,ZO4[4])
call UnitRemoveAbility(EC8,1093808436)
else
if H98==1 then
call UnitRemoveAbility(EC8,ZO4[2])
call UnitRemoveAbility(EC8,ZO4[3])
call UnitRemoveAbility(EC8,ZO4[4])
call UnitRemoveAbility(EC8,1110459701)
call UnitRemoveAbility(EC8,1110459700)
call UnitRemoveAbility(EC8,1110459702)
elseif H98==2 then
call UnitRemoveAbility(EC8,ZO4[1])
call UnitRemoveAbility(EC8,ZO4[3])
call UnitRemoveAbility(EC8,ZO4[4])
call UnitRemoveAbility(EC8,1110455634)
call UnitRemoveAbility(EC8,1110459700)
call UnitRemoveAbility(EC8,1110459702)
elseif H98==3 then
call UnitRemoveAbility(EC8,ZO4[1])
call UnitRemoveAbility(EC8,ZO4[2])
call UnitRemoveAbility(EC8,ZO4[4])
call UnitRemoveAbility(EC8,1110455634)
call UnitRemoveAbility(EC8,1110459701)
call UnitRemoveAbility(EC8,1110459702)
elseif H98==4 then
call UnitRemoveAbility(EC8,ZO4[1])
call UnitRemoveAbility(EC8,ZO4[2])
call UnitRemoveAbility(EC8,ZO4[3])
call UnitRemoveAbility(EC8,1110455634)
call UnitRemoveAbility(EC8,1110459701)
call UnitRemoveAbility(EC8,1110459700)
endif
call LM7(EC8,ZO4[H98])
call LM7(EC8,1093808436)
call UnitMakeAbilityPermanent(EC8,true,ZO4[H98])
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),ZO4[H98],false)
endif
call CW7(g)
set t=null
set EC8=null
set g=null
set XSD=null
return false
endfunction
function XTD takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function XRD))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveGroupHandle(L7,(OC7),(22),(CX7()))
set t=null
set EC8=null
endfunction
function XUD takes nothing returns boolean
if GetLearnedSkill()==1093683512 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093683512)==1 then
call XTD()
endif
return false
endfunction
function OQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function XUD))
set ZO4[1]=1093808432
set ZO4[2]=1093808433
set ZO4[3]=1093808434
set ZO4[4]=1093808435
set t=null
endfunction
function XVD takes nothing returns boolean
if GetSpellAbilityId()==1093682499 and GetSpellTargetUnit()!=GetTriggerUnit()and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(UP7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652600))
endif
return false
endfunction
function OP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function XVD))
set t=null
endfunction
function XWD takes nothing returns boolean
return GetUnitTypeId(GetSummonedUnit())==1865429043
endfunction
function XXD takes nothing returns nothing
local unit xU=GetSummonedUnit()
local unit xv=GetSummoningUnit()
local integer UC7=GetHandleId(xv)
local integer BH7=GetUnitAbilityLevel(xv,1093681735)
local integer xV=UN7(UC7,"TotalWebs")
local unit xw=U87(UC7,"Web1")
local integer x=1
set xV=xV+1
call SetUnitVertexColorBJ(xU,100,100,100,80)
call LM7(xU,1097625443)
call TU7(UC7,"Web"+I2S(xV),xU)
if(xV>BH7*2)then
call KillUnit(xw)
loop
exitwhen x==xV
call TU7(UC7,"Web"+I2S(x),U87(UC7,"Web"+I2S(x+1)))
set x=x+1
endloop
set xV=xV-1
endif
call TQ7(UC7,"TotalWebs",xV)
call SetUnitAbilityLevel(xU,1093681734,BH7)
set xU=null
set xv=null
set xw=null
endfunction
function OR8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function XWD))
call TriggerAddAction(t,function XXD)
set t=null
endfunction
function XYD takes unit xv returns nothing
local integer UC7=GetHandleId(xv)
local integer BH7=GetUnitAbilityLevel(xv,1093681735)
local integer xV=UN7(UC7,"TotalWebs")
local integer x=1
local unit VX
loop
exitwhen x>xV
set VX=U87(UC7,"Web"+I2S(x))
call SetUnitAbilityLevel(VX,1093681734,BH7)
set x=x+1
endloop
set VX=null
endfunction
function XZD takes nothing returns nothing
local unit XAD=U87(GetHandleId(GetTriggeringTrigger()),"Spider")
if XAD==null then
call FlushChildHashtable(L7,(GetHandleId(GetTriggeringTrigger())))
call UA7(GetTriggeringTrigger())
else
if IsUnitType(XAD,UNIT_TYPE_HERO)==true then
if GetUnitAbilityLevel(XAD,1110454595)>0 then
call LM7(XAD,1093677617)
else
call UnitRemoveAbility(XAD,1093677617)
endif
else
if GetUnitAbilityLevel(XAD,1110454595)>0 then
call LM7(XAD,1093810499)
else
call UnitRemoveAbility(XAD,1093810499)
endif
endif
endif
set XAD=null
endfunction
function XBD takes unit EC8 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(t,1.50)
call TriggerAddAction(t,function XZD)
call TU7(GetHandleId(t),"Spider",EC8)
set t=null
endfunction
function XCD takes nothing returns boolean
if GetUnitTypeId(GetSummonedUnit())==1848652101 or GetUnitTypeId(GetSummonedUnit())==1848652089 then
call XBD(GetSummonedUnit())
endif
return false
endfunction
function X3D takes unit CO7,boolean A_9 returns nothing
local trigger t
if(GetUnitAbilityLevel(CO7,1093681735)==1 or A_9)then
call XBD(CO7)
else
call XYD(CO7)
endif
if A_9 then
set aj[GetPlayerId(GetOwningPlayer(CO7))]=t
endif
set t=null
endfunction
function X6D takes nothing returns boolean
if GetLearnedSkill()==1093681735 and IsUnitIllusion(GetTriggerUnit())==false then
call X3D(GetTriggerUnit(),false)
endif
return false
endfunction
function OS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function X6D))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function XCD))
set t=null
endfunction
function XLD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and D29(GetSpellAbilityId())and GetSpellTargetUnit()==CO7)then
if LO7(CO7)==false then
call UnitRemoveAbility(CO7,1093687122)
call UnitRemoveAbility(CO7,1110454597)
endif
call DestroyEffect(UH7(UC7,"FX"))
call TN7(UC7)
call UA7(t)
endif
set t=null
set CO7=null
return false
endfunction
function X1D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,14,false)
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XLD))
call TU7(UC7,"Hero",CO7)
call TV7(UC7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl",CO7,"origin"))
call LM7(CO7,1093687122)
call SetUnitAbilityLevel(CO7,1093687122,GetUnitAbilityLevel(CO7,1093687121))
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),1093687122,false)
set t=null
set CO7=null
endfunction
function X0D takes nothing returns boolean
if GetSpellAbilityId()==1093687121 then
call X1D()
endif
return false
endfunction
function OT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function X0D))
set t=null
endfunction
function X5D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
if GetTriggerEvalCount(t)>300 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetUnitAbilityLevel(O07,1110459703)>0 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call HD8(EC8,O07,ZG4,GetUnitAbilityLevel(EC8,1093681736)*75)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function X2D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function X5D))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
set t=null
set EC8=null
set O07=null
endfunction
function X_D takes nothing returns boolean
if GetSpellAbilityId()==1093681736 then
call X2D()
endif
return false
endfunction
function OU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function X_D))
set t=null
endfunction
function Y4D takes nothing returns boolean
return GetSpellAbilityId()==1093678389
endfunction
function Y7D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local real B19=(LoadReal(L7,(OC7),(20)))
local integer H48=(LoadInteger(L7,(OC7),(188)))
local texttag tt
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetEventDamageSource()==H88 then
set tt=CreateTextTag()
call DC8(I2S(H48),H48,O07,0.03,127,127,255,255)
call SetTextTagText(tt,"+"+I2S(R2I(B19)),0.025)
call SetTextTagPosUnit(tt,O07,10)
call SetTextTagColor(tt,255,0,0,255)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,2)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,2)
if IsUnitVisible(O07,GetLocalPlayer())or CM7(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
call HD8(EC8,O07,ZG4,B19)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
set tt=null
return false
endfunction
function Y8D takes nothing returns nothing
local integer H98=GetUnitAbilityLevel(GetTriggerUnit(),1093678389)
local integer Y9D=GetRandomInt(1,H98+1)
local unit YK9=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local location L18=GetUnitLoc(YK9)
local real B19=GetRandomReal(1,200)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit H88=CreateUnit(GetOwningPlayer(YK9),1697656901,GetUnitX(YK9),GetUnitY(YK9),0)
if H98==2 then
set B19=GetRandomReal(50,225)
elseif H98==3 then
set B19=GetRandomReal(75,250)
elseif H98==4 then
set B19=GetRandomReal(100,275)
endif
call TriggerRegisterTimerEvent(t,10,false)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function Y7D))
call SaveUnitHandle(L7,(OC7),(2),(YK9))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call SaveReal(L7,(OC7),(20),((B19)*1.0))
if(H98==4)then
set Y9D=GetRandomInt(2,4)
endif
call SaveInteger(L7,(OC7),(188),(Y9D))
call LM7(H88,1093678165)
call SetUnitAbilityLevel(H88,1093678165,Y9D)
call IssueTargetOrder(H88,"thunderbolt",O07)
set t=null
endfunction
function OW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Y4D))
call TriggerAddAction(t,function Y8D)
endfunction
function YDD takes nothing returns boolean
return GetLearnedSkill()==1095263841 and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function YED takes nothing returns nothing
if(UnitHasBuffBJ(GetTriggerUnit(),1112504171))then
call UnitRemoveAbility(GetTriggerUnit(),1112504171)
endif
call DisableTrigger(DF)
endfunction
function QS8 takes nothing returns nothing
set DF=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DF,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(DF,Condition(function YDD))
call TriggerAddAction(DF,function YED)
endfunction
function YFD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer C97=GetHandleId(t)
local unit F9D=(LoadUnitHandle(L7,(C97),(2)))
local real YGD=GetUnitState(F9D,UNIT_STATE_LIFE)
call UnitRemoveAbility(F9D,1093751344)
call UnitRemoveAbility(F9D,1110459445)
call HJ8(F9D,0)
call HM8(F9D,0)
call SetUnitState(F9D,UNIT_STATE_LIFE,YGD)
call FlushChildHashtable(L7,(C97))
call UA7(t)
set t=null
set F9D=null
return false
endfunction
function YHD takes nothing returns nothing
local unit F9D=GetTriggerUnit()
local unit E2D=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer C97=GetHandleId(t)
local integer RP7=GetUnitAbilityLevel(F9D,1093678161)
local real YID=GetUnitState(E2D,UNIT_STATE_LIFE)
local real YGD=GetUnitState(F9D,UNIT_STATE_LIFE)
local integer YJD=R2I((0.035+0.015*RP7)*YID)
local integer YKD=R2I((0.35+0.15*RP7)*YID)
call HJ8(F9D,YJD)
call HM8(F9D,YKD)
call LM7(F9D,1093751344)
call SetUnitState(E2D,UNIT_STATE_LIFE,1)
call HD8(F9D,E2D,ZH4,20)
call HD8(F9D,E2D,ZG4,20)
call HD8(F9D,E2D,ZI4,20)
call SetUnitState(F9D,UNIT_STATE_LIFE,YGD+YKD)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",E2D,"chest"))
call SaveUnitHandle(L7,(C97),(2),(F9D))
call TriggerRegisterUnitEvent(t,F9D,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,35,false)
call TriggerAddCondition(t,Condition(function YFD))
set F9D=null
set E2D=null
set t=null
endfunction
function YMD takes nothing returns boolean
if GetSpellAbilityId()==1093678161 and GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>0.5 and RW7(GetSpellTargetUnit())==false then
call YHD()
endif
return false
endfunction
function QT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YMD))
set t=null
endfunction
function YND takes integer x returns boolean
return x==1093808454 or x==1093808455 or x==1093743695 or x==1093684805 or x==1093743695 or x==1093747504 or x==1093686082
endfunction
function YOD takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),1110455896)>0 and(B77(GetSpellAbilityId())or GetSpellAbilityId()==1093685065)and YND(GetSpellAbilityId())==false and J98(GetSpellAbilityId())==false
endfunction
function YPD takes nothing returns nothing
local integer UC7=GetHandleId(GetTriggeringTrigger())
local unit CO7=GetTriggerUnit()
local unit x9=U87(UC7,"Destroyer")
local integer sr=GetUnitAbilityLevel(x9,1093683526)
if GetRandomInt(1,100)<=sr*10 and m9(CO7,x9,1400)then
call SetUnitState(CO7,UNIT_STATE_MANA,GetUnitState(CO7,UNIT_STATE_MANA)+0.25*GetUnitState(CO7,UNIT_STATE_MAX_MANA))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl",CO7,"overhead"))
endif
set CO7=null
set x9=null
endfunction
function YQD takes unit CO7,boolean A_9 returns nothing
local integer sr=GetUnitAbilityLevel(CO7,1093683526)
local trigger t
if(sr==1 or A_9)then
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YOD))
call TriggerAddAction(t,function YPD)
call TU7(GetHandleId(t),"Destroyer",CO7)
if A_9 then
set nj[GetPlayerId(GetOwningPlayer(CO7))]=t
endif
endif
if A_9 then
call UnitAddAbility(CO7,1093685068)
if sr>1 then
call UnitAddAbility(CO7,1093685069)
endif
if sr>2 then
call UnitAddAbility(CO7,1093685070)
endif
if sr>3 then
call UnitAddAbility(CO7,1093685064)
endif
else
if(sr==1)then
call LM7(CO7,1093685068)
elseif(sr==2)then
call LM7(CO7,1093685069)
elseif(sr==3)then
call LM7(CO7,1093685070)
elseif(sr==4)then
call LM7(CO7,1093685064)
endif
endif
set t=null
endfunction
function YRD takes nothing returns boolean
if GetLearnedSkill()==1093683526 and IsUnitIllusion(GetTriggerUnit())==false then
call YQD(GetTriggerUnit(),false)
endif
return false
endfunction
function Q18 takes nothing returns nothing
set RJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RJ,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(RJ,Condition(function YRD))
endfunction
function XA takes nothing returns boolean
local real d
if GetUnitAbilityLevel(GetTriggerUnit(),1110455897)>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093685065)>0 and U87(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call UnitRemoveAbility(GetTriggerUnit(),1110455897)
set d=.01*(5+GetUnitAbilityLevel(GetEventDamageSource(),1093685065))*(GetUnitState(GetEventDamageSource(),UNIT_STATE_MANA)+100)
if(IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)or IsUnitIllusion(GetTriggerUnit()))and GetUnitTypeId(GetTriggerUnit())!=1848651828 and GetUnitTypeId(GetTriggerUnit())!=1848652088 and GetUnitTypeId(GetTriggerUnit())!=1848652099 and GetUnitTypeId(GetTriggerUnit())!=1848652103 and GetUnitTypeId(GetTriggerUnit())!=1848651861 and GetUnitTypeId(GetTriggerUnit())!=1848651865 and GetUnitTypeId(GetTriggerUnit())!=1848651866 then
set d=d+100*GetUnitAbilityLevel(GetEventDamageSource(),1093685065)
endif
call DC8("+"+I2S(R2I(d)),1,GetTriggerUnit(),.023,191,64,255,216)
if(GetRandomInt(1,100)<=GetUnitAbilityLevel(GetEventDamageSource(),1093683526)*10)and(UP7(GetHandleId(GetTriggeringTrigger()),"DoneViaSpell")==false)then
call SetUnitState(GetEventDamageSource(),UNIT_STATE_MANA,GetUnitState(GetEventDamageSource(),UNIT_STATE_MANA)+.25*GetUnitState(GetEventDamageSource(),UNIT_STATE_MAX_MANA))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl",GetEventDamageSource(),"overhead"))
endif
call DisableTrigger(GetTriggeringTrigger())
call HD8(GetEventDamageSource(),GetTriggerUnit(),ZI4,d)
call TN7(GetHandleId(GetTriggeringTrigger()))
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function Xb takes nothing returns nothing
local trigger t
local unit m5
local unit p5
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set m5=GetSpellTargetUnit()
set p5=GetTriggerUnit()
else
set m5=GetTriggerUnit()
set p5=GetAttacker()
endif
if IsUnitIllusion(p5)==false then
set t=CreateTrigger()
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
call TT7(GetHandleId(t),"DoneViaSpell",true)
else
call TT7(GetHandleId(t),"DoneViaSpell",false)
endif
call TU7(GetHandleId(t),"Source",p5)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function XA))
endif
set t=null
set m5=null
set p5=null
endfunction
function XB takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetUnitAbilityLevel(GetAttacker(),1093685065)>0 and(UP7(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==U87(GetHandleId(GetTriggeringTrigger()),"Hero")then
call Xb()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==852255)then
call TT7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)
elseif(GetIssuedOrderId()==852256)then
call TT7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093685065 then
call Xb()
endif
return false
endfunction
function YSD takes unit CO7,boolean A_9 returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function XB))
call TU7(GetHandleId(t),"Hero",CO7)
if A_9 then
set rj[GetPlayerId(GetOwningPlayer(CO7))]=t
endif
set t=null
endfunction
function YTD takes nothing returns boolean
if GetLearnedSkill()==1093685065 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093685065)==1 then
call YSD(GetTriggerUnit(),false)
endif
return false
endfunction
function Q08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function YTD))
set t=null
endfunction
function YUD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local integer YVD=UN7(UC7,"StolenInt")
call SetHeroInt(m5,GetHeroInt(m5,false)+YVD,true)
call SetHeroInt(p5,GetHeroInt(p5,false)-YVD,true)
call TN7(UC7)
call UA7(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function YWD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
call UY7(m5,"AstralImprisonmentState")
call DestroyEffect(UH7(UC7,"FX"))
call SetUnitInvulnerable(m5,false)
call PauseUnit(m5,false)
call ShowUnit(m5,true)
call ClearSelectionForPlayer(GetOwningPlayer(m5))
call SelectUnitAddForPlayer(m5,GetOwningPlayer(m5))
call TO7(GetHandleId(p5),"748")
call TN7(UC7)
call UA7(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function YXD takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093685066)
local integer YYD=DN8(GetHeroInt(O07,false),2+H98*2)
local trigger t
local integer OC7
local unit H88=CreateUnit(GetOwningPlayer(O07),1865429305,GetUnitX(O07),GetUnitY(O07),0)
call UnitApplyTimedLife(H88,1112820806,H98+1)
if(IsUnitEnemy(O07,GetOwningPlayer(EC8)))==false or CV7(GetSpellTargetUnit())==false then
call UW7(O07,"AstralImprisonmentState")
set t=CreateTrigger()
set OC7=GetHandleId(t)
call SelectUnitRemoveForPlayer(O07,GetOwningPlayer(O07))
call SetUnitInvulnerable(O07,true)
call PauseUnit(O07,true)
call ShowUnit(O07,false)
call TV7(OC7,"FX",AddSpecialEffect("Abilities\\Spells\\Demon\\DarkConversion\\ZombifyTarget.mdl",GetUnitX(O07),GetUnitY(O07)))
call TU7(OC7,"Source",EC8)
call TU7(OC7,"Target",O07)
call TriggerRegisterTimerEvent(t,H98,false)
call TriggerAddCondition(t,Condition(function YWD))
if(IsUnitEnemy(O07,GetOwningPlayer(EC8)))==true then
call TU7(GetHandleId(EC8),"748",O07)
call SetHeroInt(O07,GetHeroInt(O07,false)-YYD,true)
call SetHeroInt(EC8,GetHeroInt(EC8,false)+YYD,true)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TU7(OC7,"Source",EC8)
call TU7(OC7,"Target",O07)
call TQ7(OC7,"StolenInt",YYD)
call TriggerRegisterTimerEvent(t,60,false)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YUD))
endif
endif
set H88=null
set EC8=null
set O07=null
set t=null
endfunction
function YZD takes nothing returns boolean
if GetSpellAbilityId()==1093685066 then
call YXD()
endif
return false
endfunction
function YAD takes nothing returns nothing
if IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and UP7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")and GetSpellTargetUnit()!=GetTriggerUnit()then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848652600))))
endif
endfunction
function YBD takes nothing returns boolean
if GetSpellAbilityId()==1093685066 then
call YAD()
endif
return false
endfunction
function Q58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YZD))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function YBD))
set t=null
endfunction
function YCD takes nothing returns boolean
return GetSpellAbilityId()==1093685067 or GetSpellAbilityId()==1093752407
endfunction
function Y3D takes nothing returns nothing
local unit O07=GetEnumUnit()
local unit Y6D=GetTriggerUnit()
local integer YLD=GetHeroInt(Y6D,true)-GetHeroInt(O07,true)
local integer array Y1D
local integer H98=GetUnitAbilityLevel(Y6D,1093685067)
local integer Y0D=7+1*H98
if H98==0 then
set H98=GetUnitAbilityLevel(Y6D,1093752407)
set Y0D=7+1*H98+1
endif
set Y1D[1]=10
set Y1D[2]=30
set Y1D[3]=50
if(YLD>0)then
call UnitDamageTarget(Y6D,O07,YLD*Y0D,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call DC8(I2S(R2I(YLD*Y0D)),3,O07,0.023,216,30,30,216)
if(YLD<Y1D[H98])then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl",O07,"overhead"))
call SetUnitState(O07,UNIT_STATE_MANA,GetUnitState(O07,UNIT_STATE_MANA)*.25)
endif
endif
set O07=null
set Y6D=null
endfunction
function Y5D takes nothing returns boolean
if(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)then
if(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))then
return true
endif
endif
return false
endfunction
function Y2D takes nothing returns nothing
local unit YK9=GetTriggerUnit()
local integer CZ9=GetUnitAbilityLevel(YK9,1093685067)
local real x=GetLocationX(GetSpellTargetLoc())
local real y=GetLocationY(GetSpellTargetLoc())
local group B_9=CX7()
local integer WG9=0
local unit Y_D=(U87(GetHandleId(YK9),"748"))
if CZ9==0 then
set CZ9=GetUnitAbilityLevel(YK9,1093752407)
endif
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl",x,y))
loop
exitwhen WG9>=360
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl",x+(200+CZ9*50)*Cos(WG9*bj_DEGTORAD),y+(200+CZ9*50)*Sin(WG9*bj_DEGTORAD)))
set WG9=WG9+45
endloop
call GroupEnumUnitsInRange(B_9,x,y,300+CZ9*100,Condition(function Y5D))
if Y_D!=null and RF7(x,y,GetUnitX(Y_D),GetUnitY(Y_D))<(300+CZ9*100)then
call SetUnitInvulnerable(Y_D,false)
call GroupAddUnit(B_9,Y_D)
endif
call ForGroup(B_9,function Y3D)
if Y_D!=null and LO7(Y_D)==false then
call SetUnitInvulnerable(Y_D,true)
endif
call CW7(B_9)
set YK9=null
set B_9=null
endfunction
function Q28 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YCD))
call TriggerAddAction(t,function Y2D)
set t=null
endfunction
function Z4D takes nothing returns nothing
call HD8(RL4,GetEnumUnit(),ZG4,R14)
endfunction
function Z7D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=U87(OC7,"Target")
local unit EC8=U87(OC7,"Source")
local group g
local integer CP8=UN7(OC7,"Count")
if GetTriggerEvalCount(t)>200 or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEvalCount(t)>1 and GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093685575 and GetSpellTargetUnit()==O07)then
call DestroyEffect(UH7(OC7,"Effect"))
call TN7(OC7)
call UA7(t)
else
set CP8=CP8+1
call TQ7(OC7,"Count",CP8)
set g=CX7()
set IN4=EC8
set RL4=EC8
set R14=1.0+2.0*GetUnitAbilityLevel(EC8,1093685575)
call GroupEnumUnitsInRange(g,GetUnitX(O07),GetUnitY(O07),275,Condition(function FT8))
call GroupRemoveUnit(g,O07)
call ForGroup(g,function Z4D)
call CW7(g)
endif
set O07=null
set t=null
set EC8=null
set g=null
return false
endfunction
function Z8D takes nothing returns nothing
local trigger t=CreateTrigger()
local effect fx=AddSpecialEffectTarget("war3mapImported\\NewSoulArmor.mdx",GetSpellTargetUnit(),"chest")
local integer OC7=GetHandleId(t)
call E48(JO,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))
call TU7(OC7,"Source",GetTriggerUnit())
call TU7(OC7,"Target",GetSpellTargetUnit())
call TV7(OC7,"Effect",fx)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,GetSpellTargetUnit(),EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z7D))
set t=null
set fx=null
endfunction
function Z9D takes nothing returns boolean
if GetSpellAbilityId()==1093685575 then
call Z8D()
endif
return false
endfunction
function RY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z9D))
set t=null
endfunction
function ZDD takes unit u returns boolean
return GetUnitAbilityLevel(u,1110454858)>0 or GetUnitAbilityLevel(u,1112896368)>0 or GetUnitAbilityLevel(u,1114993524)>0 or BW7(u)
endfunction
function ZED takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
local integer BH7
local unit p5
local unit m5
local real x1
local real y1
local real d
local real a
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call TN7(UC7)
call UA7(t)
else
set m5=U87(UC7,"Target")
set d=UO7(UC7,"d")
set x=UO7(UC7,"x")
set y=UO7(UC7,"y")
set a=UO7(UC7,"a")
set x1=GetUnitX(m5)+d/ 15*Cos(a)
set y1=GetUnitY(m5)+d/ 15*Sin(a)
if IsUnitType(m5,UNIT_TYPE_HERO)==true then
call SetUnitPosition(m5,x1,y1)
else
call SetUnitX(m5,x1)
call SetUnitY(m5,y1)
endif
if GetTriggerEvalCount(t)>15 then
set p5=U87(UC7,"Source")
set BH7=UN7(UC7,"Level")
call TN7(UC7)
call UA7(t)
call HD8(p5,m5,ZG4,BH7*40)
set p5=null
endif
set m5=null
endif
set t=null
return false
endfunction
function ZFD takes nothing returns nothing
local trigger t
local integer UC7
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
if ZDD(m5)==false then
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function ZED))
call TR7(UC7,"x",(j0)*1.0)
call TR7(UC7,"y",(K0)*1.0)
call TR7(UC7,"d",(RF7(j0,K0,GetUnitX(m5),GetUnitY(m5)))*1.0)
call TR7(UC7,"a",(Atan2(K0-GetUnitY(m5),j0-GetUnitX(m5)))*1.0)
call TQ7(UC7,"Level",l0)
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
endif
set t=null
set p5=null
set m5=null
endfunction
function ZGD takes nothing returns nothing
local group g=CX7()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local integer BH7=GetUnitAbilityLevel(GetTriggerUnit(),1093685573)
local real r=150+100*BH7+25
set IN4=GetTriggerUnit()
call E48(DP,x,y)
call DestroyEffect(AddSpecialEffect("war3mapImported\\Star Aura.mdx",x,y))
call GroupEnumUnitsInRange(g,x,y,r,Condition(function F_8))
set j0=x
set K0=y
set l0=BH7
call ForGroup(g,function ZFD)
call D28(x,y,200)
call RemoveLocation(l)
call CW7(g)
set l=null
set g=null
endfunction
function ZHD takes nothing returns boolean
if GetSpellAbilityId()==1093685573 then
call ZGD()
endif
return false
endfunction
function ZID takes nothing returns nothing
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
if D_8(x,y)==false or(IsPointInRegion(IU4,((x)*1.0),((y)*1.0)))then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848652619))))
endif
call RemoveLocation(l)
set l=null
endfunction
function ZJD takes nothing returns boolean
if GetSpellAbilityId()==1093685573 then
call ZID()
endif
return false
endfunction
function RX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZHD))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function ZJD))
set t=null
endfunction
function Xq takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
call UnitRemoveAbility(m5,1110456151)
call UnitRemoveAbility(m5,1113746543)
call UnitRemoveAbility(m5,1110455858)
call UnitRemoveAbility(m5,1110455861)
call UnitRemoveAbility(m5,1113813619)
call UnitRemoveAbility(m5,1110454582)
call UnitRemoveAbility(m5,1110455634)
set t=null
set m5=null
return false
endfunction
function XQ takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,GetUnitAbilityLevel(GetTriggerUnit(),1093685815)*1.5+.5,false)
call TriggerAddCondition(t,Condition(function Xq))
call TU7(GetHandleId(t),"Target",GetSpellTargetUnit())
call E48(bR,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))
call DestroyEffect(AddSpecialEffectTarget("effects\\Surge.mdx",GetSpellTargetUnit(),"origin"))
set t=null
endfunction
function ZKD takes nothing returns boolean
if GetSpellAbilityId()==1093685815 then
call XQ()
endif
return false
endfunction
function RZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZKD))
set t=null
endfunction
function ZMD takes boolean ZND returns boolean
local integer UC7=GetHandleId(GetTriggeringTrigger())
local unit ZOD=U87(UC7,"Wall")
local unit m5=GetTriggerUnit()
local unit XS=CreateUnit(GetOwningPlayer(ZOD),1697657171,GetUnitX(m5),GetUnitY(m5),0)
local unit CC7=M7[GetPlayerId(GetOwningPlayer(ZOD))]
local integer H98=GetUnitAbilityLevel(CC7,1093685579)
if H98==0 then
set H98=GetUnitAbilityLevel(CC7,1093808465)
endif
call SetUnitAbilityLevel(ZOD,1093685580,H98)
set PO4=GetUnitX(m5)
set PP4=GetUnitY(m5)
set PQ4=m5
if ZND then
call SetUnitAbilityLevel(ZOD,1093685580,3+H98)
call IssueTargetOrderById(ZOD,852274,m5)
call HD8(ZOD,m5,ZG4,150)
else
call IssueTargetOrderById(ZOD,852274,m5)
call HD8(ZOD,m5,ZG4,150)
endif
call UnitApplyTimedLife(XS,1112820806,.5)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(m5),GetUnitY(m5)))
set ZOD=null
set m5=null
set XS=null
return false
endfunction
function ZPD takes nothing returns boolean
local group g
if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(U87(GetHandleId(GetTriggeringTrigger()),"Wall")))and J48(GetUnitTypeId(GetFilterUnit()))==false then
set g=UG7(GetHandleId(GetTriggeringTrigger()),"g1")
if IsUnitInGroup(GetFilterUnit(),g)==false then
call GroupAddUnit(g,GetFilterUnit())
call ZMD(false)
endif
endif
set g=null
return false
endfunction
function ZQD takes nothing returns boolean
local group g
if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(U87(GetHandleId(GetTriggeringTrigger()),"Wall")))and J48(GetUnitTypeId(GetFilterUnit()))==false then
set g=UG7(GetHandleId(GetTriggeringTrigger()),"g1")
if IsUnitInGroup(GetFilterUnit(),g)==false then
call GroupAddUnit(g,GetFilterUnit())
call ZMD(true)
endif
endif
set g=null
return false
endfunction
function WallOfReplica_FindSource takes nothing returns nothing
if GetPlayerId(GetOwningPlayer(GetEnumUnit()))==IH4 then
call GroupAddUnit(IQ4,GetEnumUnit())
endif
endfunction
function ZRD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
call GroupRemoveUnit(UG7(OC7,"g1"),U87(OC7,"imagesource"))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call TN7(OC7)
call DisableTrigger(t)
set t=null
return false
endfunction
function ZSD takes nothing returns boolean
local unit ZOD=GetSummoningUnit()
local unit B58=GetSummonedUnit()
local integer OC7=GetHandleId(ZOD)
local integer ZTD=UN7(OC7,"NumOfImages")
local trigger t=CreateTrigger()
call SetUnitVertexColor(B58,255,255,255,100)
call TriggerRegisterUnitEvent(t,B58,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZRD))
call TC7(GetHandleId(t),"g1",UG7(OC7,"g1"))
call TU7(GetHandleId(t),"imagesource",PQ4)
set ZTD=ZTD+1
call TQ7(OC7,"NumOfImages",ZTD)
call TU7(OC7,"Illusion"+I2S(ZTD),B58)
call TW7(OC7,"IllusionTrig"+I2S(ZTD),t)
call SetUnitX(B58,PO4)
call SetUnitY(B58,PP4)
set ZOD=null
set B58=null
set t=null
return false
endfunction
function ZUD takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Xw takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer v5=GetHandleId(t)
local trigger XW=UF7(v5,"mastert")
local integer tK=GetHandleId(XW)
local trigger v7=UF7(tK,"DetectTrig")
local group Xx=UG7(tK,"g1")
local group XX=UG7(tK,"g2")
local unit ZVD=U87(tK,"Wall")
local integer Xy=GetHandleId(ZVD)
local integer Xv=UN7(Xy,"NumOfImages")
local integer i
local unit u
call ForGroup(XX,function ZUD)
set i=1
loop
exitwhen i>Xv
set u=U87(Xy,"Illusion"+I2S(i))
call TN7(GetHandleId(UF7(Xy,"IllusionTrig"+I2S(i))))
call UA7(UF7(Xy,"IllusionTrig"+I2S(i)))
if IsUnitIllusion(u)then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(u),GetUnitY(u)))
call RemoveUnit(u)
endif
set i=i+1
endloop
call TN7(v5)
call TN7(tK)
call TN7(Xy)
call RemoveUnit(ZVD)
call CW7(Xx)
call CW7(XX)
call UA7(XW)
call UA7(v7)
call UA7(t)
set t=null
set XW=null
set v7=null
set Xx=null
set XX=null
set ZVD=null
set u=null
return false
endfunction
function ZWD takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real ZXD=GetUnitFacing(CO7)-45
local unit ZVD=CreateUnit(GetOwningPlayer(CO7),1747988559,x,y,ZXD)
local unit u
local real ZL9
local real Z19
local integer i
local real Xk
local trigger t=CreateTrigger()
local group g1=CX7()
local integer UC7=GetHandleId(t)
local group g2=CX7()
local trigger XW=t
local integer H98=GetUnitAbilityLevel(CO7,1093685579)
local boolean ZND=false
if H98==0 then
set ZND=true
set H98=GetUnitAbilityLevel(CO7,1093808465)
endif
call SetUnitAbilityLevel(ZVD,1093685580,H98)
call E48(hR,x,y)
call TC7(UC7,"g1",g1)
call TC7(GetHandleId(ZVD),"g1",g1)
call TC7(UC7,"g2",g2)
call TU7(UC7,"Wall",ZVD)
call TQ7(GetHandleId(ZVD),"NumOfImages",0)
set i=0
loop
exitwhen i>39
set ZL9=x+(500-25*i)*Cos((ZXD-45)*bj_DEGTORAD)
set Z19=y+(500-25*i)*Sin((ZXD-45)*bj_DEGTORAD)
set u=CreateUnit(GetOwningPlayer(CO7),1747988560,ZL9,Z19,ZXD)
call SetUnitPathing(u,false)
call SetUnitX(u,ZL9)
call SetUnitY(u,Z19)
call GroupAddUnit(g2,u)
call TriggerRegisterUnitInRange(t,u,17,Condition(function ZV7))
set i=i+1
endloop
if ZND then
call TriggerAddCondition(t,Condition(function ZQD))
else
call TriggerAddCondition(t,Condition(function ZPD))
endif
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,ZVD,EVENT_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function ZSD))
call TW7(UC7,"DetectTrig",t)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,15*H98,false)
call TriggerAddCondition(t,Condition(function Xw))
call TW7(GetHandleId(t),"mastert",XW)
call RemoveLocation(l)
set CO7=null
set l=null
set u=null
set t=null
set XW=null
set g1=null
set g2=null
set ZVD=null
endfunction
function ZYD takes nothing returns boolean
if GetSpellAbilityId()==1093685579 or GetSpellAbilityId()==1093808465 then
call ZWD()
endif
return false
endfunction
function RA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZYD))
set t=null
endfunction
function ZZD takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),AM4)==false and CK7(GetEnumUnit())==false then
call GroupAddUnit(AM4,GetEnumUnit())
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),AN4,false)
call F88(GetEnumUnit(),AN4,1,3,1110455633)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\SpellShieldAmulet\\SpellShieldCaster.mdl",GetEnumUnit(),"overhead"))
endif
endfunction
function ZAD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit CC7=(LoadUnitHandle(L7,(OC7),(14)))
local real x2=(LoadReal(L7,(OC7),(66)))
local real y2=(LoadReal(L7,(OC7),(67)))
local real a=(LoadReal(L7,(OC7),(137)))
local integer CP8=GetTriggerEvalCount(t)
local real x=GetUnitX(CC7)
local real y=GetUnitY(CC7)
local real ZZ9=(LoadReal(L7,(OC7),(23)))
local real ZA9=(LoadReal(L7,(OC7),(24)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local group g=CX7()
local group GAD=(LoadGroupHandle(L7,(OC7),(187)))
local integer H98=GetUnitAbilityLevel(CC7,1093684299)
if RF7(x,y,x2,y2)<=OU then
set x=x2
set y=y2
else
set x=D78(ZZ9+65*Cos(a*bj_DEGTORAD))
set y=D88(ZA9+65*Sin(a*bj_DEGTORAD))
endif
if H98==1 then
set AN4=1093810497
elseif H98==2 then
set AN4=1093810489
elseif H98==3 then
set AN4=1093810498
elseif H98==4 then
set AN4=1093810488
endif
set IN4=CC7
set AM4=GAD
call GroupEnumUnitsInRange(g,x,y,325,Condition(function FT8))
call ForGroup(g,function ZZD)
call CW7(g)
call SaveReal(L7,(OC7),(23),((x)*1.0))
call SaveReal(L7,(OC7),(24),((y)*1.0))
call SetUnitPosition(CC7,x,y)
if(x==x2 and y==y2)or CP8>40 then
call SetUnitX(H88,x)
call SetUnitY(H88,y)
call IssueImmediateOrder(H88,"thunderclap")
call CW7(GAD)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call SetUnitAnimation(CC7,"stand")
call SetUnitPathing(CC7,true)
call SetUnitInvulnerable(CC7,false)
if GetUnitTypeId(CC7)==1160786520 then
call SetUnitVertexColor(CC7,255,255,255,255)
else
call SetUnitVertexColor(CC7,0,255,150,255)
endif
call UY7(CC7,"TimeWalk|Active")
endif
set t=null
set CC7=null
set H88=null
return false
endfunction
function ZBD takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local location l
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local real x1=GetUnitX(CC7)
local real y1=GetUnitY(CC7)
local real x2
local real y2
local real a
local unit H88=CreateUnit(GetOwningPlayer(CC7),1697656901,x1,y1,0)
if GetSpellTargetUnit()==null then
set l=GetSpellTargetLoc()
else
set l=GetUnitLoc(GetSpellTargetUnit())
endif
set x2=GetLocationX(l)
set y2=GetLocationY(l)
set a=PP7(x1,y1,x2,y2)
call RemoveLocation(l)
call SetUnitAnimationByIndex(CC7,0)
call SetUnitPathing(CC7,false)
call SetUnitInvulnerable(CC7,true)
call SetUnitVertexColor(CC7,0,0,0,255)
call UW7(CC7,"TimeWalk|Active")
call SaveReal(L7,(OC7),(66),((D78(x2))*1.0))
call SaveReal(L7,(OC7),(67),((D88(y2))*1.0))
call SaveReal(L7,(OC7),(23),((x1)*1.0))
call SaveReal(L7,(OC7),(24),((y1)*1.0))
call SaveReal(L7,(OC7),(137),((a)*1.0))
call SaveUnitHandle(L7,(OC7),(14),(CC7))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call SaveGroupHandle(L7,(OC7),(187),(CX7()))
call LM7(H88,1093684289)
call SetUnitAbilityLevel(H88,1093684289,GetUnitAbilityLevel(CC7,1093684299))
call TriggerRegisterTimerEvent(t,WE4,true)
call TriggerAddCondition(t,Condition(function ZAD))
set CC7=null
set l=null
set t=null
set H88=null
endfunction
function ZCD takes nothing returns boolean
if GetSpellAbilityId()==1093684299 then
call ZBD()
endif
return false
endfunction
function OX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZCD))
set t=null
endfunction
function X6 takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local real DS8=GetEventDamage()
if(DS8>0)and GetUnitState(CO7,UNIT_STATE_LIFE)>1 then
if(GetRandomInt(1,100)<=(5+(5*GetUnitAbilityLevel(CO7,1093682010))))then
call SetUnitState(CO7,UNIT_STATE_LIFE,GetUnitState(CO7,UNIT_STATE_LIFE)+DS8)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl",CO7,"hand,left"))
endif
endif
set CO7=null
endfunction
function Z3D takes unit CO7,boolean A_9 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_DAMAGED)
call TriggerAddAction(t,function X6)
if A_9 then
set aj[GetPlayerId(GetOwningPlayer(CO7))]=t
endif
set t=null
endfunction
function Z6D takes nothing returns boolean
if GetLearnedSkill()==1093682010 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093682010)==1 then
call Z3D(GetTriggerUnit(),false)
endif
return false
endfunction
function OZ8 takes nothing returns nothing
set IE4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IE4,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(IE4,Condition(function Z6D))
endfunction
function ZLD takes nothing returns boolean
return GetSpellAbilityId()==1093683761 or GetSpellAbilityId()==1093747767
endfunction
function Z1D takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UC7=GetHandleId(t)
local unit ya=U87(UC7,"Caster")
call SetUnitTimeScale(ya,0)
call PauseTimer(t)
call TN7(UC7)
call DestroyTimer(t)
set t=null
set ya=null
endfunction
function Z0D takes unit S4 returns boolean
local integer ID=GetUnitTypeId(S4)
return ID==1869836340 or ID==1865429048 or ID==1865429049 or ID==1700946284 or ID==1697657398 or ID==1970107511 or ID==1966092370 or ID==1162032181
endfunction
function Z5D takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())!=GetOwningPlayer(D8)and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 or Z0D(GetFilterUnit()))
endfunction
function Z2D takes nothing returns nothing
local unit Z_D=GetEnumUnit()
if GetUnitTypeId(GetEnumUnit())!=1162032181 then
call PauseUnit(Z_D,true)
call SetUnitTimeScale(Z_D,0)
call UnitRemoveAbility(Z_D,1112896364)
call UnitRemoveAbility(Z_D,1112896368)
call UnitRemoveAbility(Z_D,1112896372)
call UW7(Z_D,"4306")
endif
set Z_D=null
endfunction
function A4D takes nothing returns nothing
local unit A7D=GetEnumUnit()
if GetUnitTypeId(GetEnumUnit())!=1162032181 then
call UY7(A7D,"4306")
call PauseUnit(A7D,false)
call SetUnitTimeScale(A7D,1)
endif
set A7D=null
endfunction
function A8D takes nothing returns nothing
local unit AR7=GetEnumUnit()
if(IsUnitType(AR7,UNIT_TYPE_STRUCTURE)and(IsUnitEnemy(AR7,GetOwningPlayer(hx)))and(IsUnitVisible(AR7,GetOwningPlayer(hx)))and(hS==null))then
set hS=AR7
elseif(IsUnitType(AR7,UNIT_TYPE_HERO)and(IsUnitEnemy(AR7,GetOwningPlayer(hx)))and(IsUnitVisible(AR7,GetOwningPlayer(hx)))and((hS==null)or(IsUnitType(hS,UNIT_TYPE_STRUCTURE))or(GetUnitLifePercent(hS)>GetUnitLifePercent(AR7))))then
set hS=AR7
endif
set AR7=null
endfunction
function A9D takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UC7=GetHandleId(t)
local unit ADD=U87(UC7,"Caster")
local unit CO7=U87(UC7,"Hero")
local integer BH7=UN7(UC7,"Level")
local group AED=UG7(UC7,"Group")
local integer T8=UN7(UC7,"Counter")
local real Y5=GetUnitX(ADD)
local real Z5=GetUnitY(ADD)
local boolexpr AFD=Condition(function Z5D)
local group IB8=CX7()
local integer O5=GetPlayerId(GetOwningPlayer(CO7))
local integer H48=35+BH7*5
if GetUnitAbilityLevel(CO7,1093747767)>0 then
set H48=30+BH7*10
endif
call ForGroup(AED,function A4D)
set D8=CO7
call GroupEnumUnitsInRange(IB8,Y5,Z5,425,AFD)
call GroupClear(AED)
call GroupAddGroup(IB8,AED)
call ForGroup(IB8,function Z2D)
if(GetPlayerController(GetOwningPlayer(CO7))==MAP_CONTROL_COMPUTER)then
if(h4[16+O5]==null)then
set hS=null
set hx=CO7
call ForGroup(IB8,function A8D)
set h4[16+O5]=hS
endif
if(h4[16+O5]!=null)then
if((IsUnitAliveBJ(h4[16+O5]))and(GetUnitAbilityLevel(h4[16+O5],1110454854)==0))then
if((not IsUnitInRange(CO7,h4[16+O5],300.))and(IsUnitType(h4[16+O5],UNIT_TYPE_HERO)))then
if(not IssueTargetOrderById(CO7,852218,h4[16+O5]))then
call IssueTargetOrderById(CO7,851983,h4[16+O5])
endif
elseif(not SC7(CO7,ZU[P1]))then
call IssueTargetOrderById(CO7,851983,h4[16+O5])
endif
else
set h4[16+O5]=null
endif
endif
endif
call CW7(IB8)
set T8=T8+1
call TQ7(UC7,"Counter",T8)
if T8>H48 then
set GZ[384+O5]=false
set h4[16+O5]=null
if D9==false then
call ForGroup(AED,function A4D)
endif
call RemoveUnit(ADD)
call CW7(AED)
call PauseTimer(t)
call TN7(UC7)
call DestroyTimer(t)
endif
set t=null
set ADD=null
set CO7=null
set AED=null
call DestroyBoolExpr(AFD)
set AFD=null
set IB8=null
endfunction
function AGD takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local integer BH7=GetUnitAbilityLevel(CO7,(1093683761))
local location m5=GetSpellTargetLoc()
local real Y5=GetLocationX(m5)
local real Z5=GetLocationY(m5)
local unit ADD=CreateUnit(GetOwningPlayer(CO7),(1966092364),Y5,Z5,0)
local timer t=CreateTimer()
local integer UC7=GetHandleId(t)
local group AED=CX7()
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if BH7==0 then
set BH7=GetUnitAbilityLevel(CO7,1093747767)
endif
set GZ[384+O5]=true
set h4[16+O5]=null
set hq[512+O5]=Bz+2.+(BH7)
call TU7(GetHandleId(t),"Caster",ADD)
call TimerStart(t,0.8,false,function Z1D)
set t=CreateTimer()
set UC7=GetHandleId(t)
call TU7(UC7,"Caster",ADD)
call TU7(UC7,"Hero",CO7)
call TC7(UC7,"Group",AED)
call TQ7(UC7,"Counter",0)
call TQ7(UC7,"Level",BH7)
call TimerStart(t,0.1,true,function A9D)
call RemoveLocation(m5)
set CO7=null
set m5=null
set ADD=null
set t=null
set AED=null
endfunction
function OA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZLD))
call TriggerAddAction(t,function AGD)
set t=null
endfunction
function AHD takes unit u,real AID returns nothing
local integer d=R2I(AID)
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer AJD
local real difference
set L54[0]=1093808968
set L54[1]=1093808971
set L54[2]=1093808972
set L54[3]=1093808970
set L54[4]=1093808969
set L54[5]=1093808973
if d<1 then
call UnitRemoveAbility(u,L54[0])
call UnitRemoveAbility(u,L54[1])
call UnitRemoveAbility(u,L54[2])
call UnitRemoveAbility(u,L54[3])
call UnitRemoveAbility(u,L54[4])
call UnitRemoveAbility(u,L54[5])
return
endif
loop
exitwhen c==0
set c=a/2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set AJD=5
set i=0
loop
exitwhen i>AJD
if b[i]==1 then
call LM7(u,L54[i])
call SetPlayerAbilityAvailable(GetOwningPlayer(u),L54[i],false)
else
call UnitRemoveAbility(u,L54[i])
endif
set i=i+1
endloop
endfunction
function AKD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=GetUnitAbilityLevel(EC8,1093808967)
local real E69=(LoadReal(L7,(GetHandleId(O07)),(682)))
local integer CP8=(LoadInteger(L7,(GetHandleId(O07)),(683)))-1
call AHD(O07,CP8*H98)
call SaveInteger(L7,(GetHandleId(O07)),(683),(CP8))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set EC8=null
set O07=null
return false
endfunction
function AMD takes unit EC8,unit O07 returns nothing
local integer H98=GetUnitAbilityLevel(EC8,1093808967)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local integer CP8=(LoadInteger(L7,(GetHandleId(O07)),(683)))+1
call AHD(O07,CP8*H98)
call SaveInteger(L7,(GetHandleId(O07)),(683),(CP8))
call SaveReal(L7,(GetHandleId(O07)),(682),(((TimerGetElapsed(W))+L24-0.01)*1.0))
call TriggerRegisterTimerEvent(t,L24,false)
call TriggerRegisterDeathEvent(t,O07)
call TriggerAddCondition(t,Condition(function AKD))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",O07,"origin"))
set t=null
endfunction
function AND takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local integer ZP9=(LoadInteger(L7,(OC7),(30)))
local unit O07=ZX7(ZP9)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EC8 then
call DisableTrigger(t)
if GetUnitAbilityLevel(O07,1093678162)==0 then
call AMD(EC8,O07)
endif
call ZW7(ZP9)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
else
call ZW7(ZP9)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function AOD takes nothing returns nothing
local trigger t=CreateTrigger()
local unit O07=GetTriggerUnit()
local unit EC8=GetAttacker()
local integer OC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function AND))
call SaveInteger(L7,(OC7),(30),(ZZ7(O07)))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set O07=null
set EC8=null
set t=null
endfunction
function APD takes nothing returns nothing
local unit EC8=GetAttacker()
if((LoadInteger(L7,(GetHandleId((EC8))),((4307))))==1)==false then
call U67(EC8,"4307",0.3)
call AOD()
endif
endfunction
function AQD takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093808967)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(14)))and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
call APD()
endif
return false
endfunction
function ARD takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function AQD))
call SaveUnitHandle(L7,(GetHandleId(t)),(14),(GetTriggerUnit()))
set t=null
endfunction
function ASD takes nothing returns boolean
if GetLearnedSkill()==1093808967 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093808967)==1 then
call ARD()
endif
return false
endfunction
function OB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function ASD))
set t=null
endfunction
function ATD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetUnitAbilityLevel(p5,1110459186)==0 then
call TN7(UC7)
call UA7(t)
call SetUnitTimeScale(p5,1)
call TQ7(GetHandleId(p5),"TimeLocked",2)
else
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"origin"))
endif
set t=null
set p5=null
return false
endfunction
function AUD takes unit p5 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call SetUnitTimeScale(p5,0)
call TQ7(GetHandleId(p5),"TimeLocked",1)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ATD))
call TU7(UC7,"Source",p5)
if(UU7(p5,"4306")==true)then
call HD8(SU4,p5,ZG4,30+10*GetUnitAbilityLevel(SU4,1093679153))
endif
set t=null
endfunction
function AVD takes nothing returns boolean
if GetUnitAbilityLevel(GetFilterUnit(),1110459186)>0 and(UN7(GetHandleId(GetFilterUnit()),"TimeLocked")==1)==false then
call AUD(GetFilterUnit())
endif
return false
endfunction
function AWD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local group g=CX7()
set SU4=p5
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),450,Condition(function AVD))
call CW7(g)
set t=null
set p5=null
set g=null
return false
endfunction
function AXD takes unit p5,boolean A_9 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function AWD))
call TU7(UC7,"Source",p5)
if A_9 then
set nj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set t=null
set p5=null
endfunction
function AYD takes nothing returns boolean
if GetLearnedSkill()==1093679153 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093679153)==1 then
call AXD(GetTriggerUnit(),false)
endif
return false
endfunction
function OY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function AYD))
set t=null
endfunction
function AZD takes unit PF7 returns boolean
return(GetUnitTypeId(PF7)==1211117641 or GetUnitTypeId(PF7)==1211117642 or GetUnitTypeId(PF7)==GetUnitTypeId(GetTriggerUnit()))and GetUnitState(PF7,UNIT_STATE_LIFE)>.5 and GetOwningPlayer(PF7)==GetOwningPlayer(GetTriggerUnit())
endfunction
function AAD takes nothing returns boolean
return GetSpellAbilityId()==1093684792
endfunction
function ABD takes nothing returns boolean
return AZD(GetFilterUnit())
endfunction
function ACD takes nothing returns nothing
local unit A3D=GetEnumUnit()
local real yg=DU8(A3D,Z9)
if yg<F8 then
set F8=yg
set D8=A3D
endif
set A3D=null
endfunction
function A6D takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0
endfunction
function ALD takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl",GetEnumUnit(),"origin"))
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),F8,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE,WEAPON_TYPE_WHOKNOWS)
endfunction
function A1D takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local location E6D
local real x
local real y
local real FAD=GetUnitX(p5)
local real FBD=GetUnitY(p5)
local group B_9
local boolexpr QTD
local boolean A0D=false
if O07!=null and AZD(O07)then
set x=GetUnitX(O07)
set y=GetUnitY(O07)
set A0D=true
else
set QTD=Condition(function ABD)
set B_9=CX7()
call GroupEnumUnitsInRange(B_9,0,0,999999,QTD)
if O07!=null then
set E6D=GetUnitLoc(O07)
else
set E6D=GetSpellTargetLoc()
endif
set D8=FirstOfGroup(B_9)
if D8!=null then
set A0D=true
call GroupRemoveUnit(B_9,D8)
set F8=DU8(D8,E6D)
set Z9=E6D
call ForGroup(B_9,function ACD)
set O07=D8
set x=GetUnitX(O07)
set y=GetUnitY(O07)
endif
call CW7(B_9)
call DestroyBoolExpr(QTD)
call RemoveLocation(E6D)
endif
if A0D then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl",FAD,FBD))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl",x,y))
call SetUnitX(p5,x)
call SetUnitY(p5,y)
set F8=60+GetUnitAbilityLevel(GetTriggerUnit(),(1093684792))*20
set QTD=Condition(function A6D)
set B_9=CX7()
call GroupEnumUnitsInRange(B_9,FAD,FBD,400,QTD)
call ForGroup(B_9,function ALD)
call CW7(B_9)
set B_9=CX7()
call GroupEnumUnitsInRange(B_9,x,y,400,QTD)
call ForGroup(B_9,function ALD)
call CW7(B_9)
call DestroyBoolExpr(QTD)
endif
call DestroyBoolExpr(QTD)
set p5=null
set O07=null
set E6D=null
set B_9=null
set QTD=null
endfunction
function yj takes nothing returns nothing
call SetUnitAnimationByIndex(U87(GetHandleId(GetExpiredTimer()),"UnitVar"),2)
endfunction
function A5D takes nothing returns nothing
local timer t=CreateTimer()
call SetUnitAnimationByIndex(GetTriggerUnit(),2)
call TU7(GetHandleId(t),"UnitVar",GetTriggerUnit())
call TimerStart(t,1,false,function yj)
set t=null
endfunction
function RN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(t,Condition(function AAD))
call TriggerAddAction(t,function A5D)
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AAD))
call TriggerAddAction(t,function A1D)
set t=null
endfunction
function A2D takes nothing returns boolean
return GetSpellAbilityId()==1093684802
endfunction
function A_D takes nothing returns boolean
return CK7(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and(FU8(GetFilterUnit())==false or IsUnitVisible(GetFilterUnit(),GetOwningPlayer(D8))==true)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0.5 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitTypeId(GetFilterUnit())!=1848651852
endfunction
function B4D takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(GetEnumUnit()),1697656901,F8,A9,0)
call LM7(oA,1093684803)
call IssueTargetOrderById(oA,852106,GetEnumUnit())
set oA=null
endfunction
function B7D takes unit IJ,real x,real y returns nothing
local boolexpr hP=Condition(function A_D)
local group IB8=CX7()
set D8=IJ
call GroupEnumUnitsInRange(IB8,x,y,245,hP)
set F8=x
set A9=y
call ForGroup(IB8,function B4D)
call CW7(IB8)
call DestroyBoolExpr(hP)
set hP=null
set IB8=null
endfunction
function B8D takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UC7=GetHandleId(t)
local unit IJ=U87(UC7,"Projectile")
local real hN=UO7(UC7,"TargetX")
local real ho=UO7(UC7,"TargetY")
local real RK=UO7(UC7,"Angle")
local real iN=GetUnitX(IJ)
local real io=GetUnitY(IJ)
local real Il=GetUnitX(IJ)+30*Cos(RK)
local real IL=GetUnitY(IJ)+30*Sin(RK)
if(Il-hN)*(Il-hN)+(IL-ho)*(IL-ho)<1200 then
call SetUnitX(IJ,hN)
call SetUnitY(IJ,ho)
call B7D(IJ,hN,ho)
call PauseTimer(t)
call TN7(UC7)
call KillUnit(IJ)
call DestroyTimer(t)
else
call SetUnitX(IJ,Il)
call SetUnitY(IJ,IL)
endif
set t=null
set IJ=null
endfunction
function B9D takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local location sy=GetSpellTargetLoc()
local real hN=D78(GetLocationX(sy))
local real ho=D88(GetLocationY(sy))
local real iN=D78(GetUnitX(CO7))
local real io=D88(GetUnitY(CO7))
local unit IJ=CreateUnit(GetOwningPlayer(CO7),1747988547,iN,io,0)
local real RK=Atan2(ho-io,hN-iN)
local timer t=CreateTimer()
local integer UC7=GetHandleId(t)
call SetUnitScale(IJ,2,2,2)
call TU7(UC7,"Projectile",IJ)
call TR7(UC7,"TargetX",hN)
call TR7(UC7,"TargetY",ho)
call TR7(UC7,"Angle",RK)
call TimerStart(t,.035,true,function B8D)
call RemoveLocation(sy)
set sy=null
set IJ=null
set CO7=null
set t=null
endfunction
function RO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function A2D))
call TriggerAddAction(t,function B9D)
set t=null
endfunction
function BDD takes unit u returns boolean
return GetUnitTypeId(u)==1211117641 or GetUnitTypeId(u)==1211117642
endfunction
function BED takes unit PF7 returns boolean
return GetUnitTypeId(PF7)==1211117641 or GetUnitTypeId(PF7)==1211117642
endfunction
function DoubleTrouble_IsKoboldCondition takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(D8)and GetFilterUnit()!=D8 and(GetUnitTypeId(GetFilterUnit())==1211117641 or GetUnitTypeId(GetFilterUnit())==1211117642)
endfunction
function DoubleTrouble_UnshareXPCondition takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(D8))and BED(GetFilterUnit())==false
endfunction
function DoubleTrouble_UnshareXPGive takes nothing returns nothing
call AddHeroXP(GetEnumUnit(),E8,true)
endfunction
function BFD takes nothing returns nothing
local integer yp=GetHandleId(GetTriggeringTrigger())
local player j8=UD7(yp,"PlayerVar")
local integer yP=GetHandleId(j8)
local unit J58=U87(yP,"Kobold0")
local unit J28=U87(yP,"Kobold1")
local unit J_8=U87(yP,"Kobold2")
local unit K48=U87(yP,"Kobold3")
local unit K78=U87(yP,"Kobold4")
local integer BGD=GetUnitAbilityLevel(J58,1096904043)*2
local integer BHD=GetHeroAgi(J58,false)
local integer BID=GetHeroAgi(J58,true)-BHD-BGD
local integer BJD=GetHeroStr(J58,false)
local integer BKD=GetHeroStr(J58,true)-BJD-BGD
local integer BMD=GetHeroInt(J58,false)
local integer BND=GetHeroInt(J58,true)-BMD-BGD
local real BOD=0.3
local integer BPD
local integer BQD
local integer BRD
if BN4 then
set BOD=1.0
endif
set BPD=R2I(BHD+BID*BOD)
set BQD=R2I(BJD+BKD*BOD)
set BRD=R2I(BMD+BND*BOD)
if GetUnitState(J58,UNIT_STATE_LIFE)>1 then
if J28!=null then
call SetHeroAgi(J28,BPD,false)
call SetHeroStr(J28,BQD,false)
call SetHeroInt(J28,BRD,false)
endif
if J_8!=null then
call SetHeroAgi(J_8,BPD,false)
call SetHeroStr(J_8,BQD,false)
call SetHeroInt(J_8,BRD,false)
endif
if K48!=null then
call SetHeroAgi(K48,BPD,false)
call SetHeroStr(K48,BQD,false)
call SetHeroInt(K48,BRD,false)
endif
if K78!=null then
call SetHeroAgi(K78,BPD,false)
call SetHeroStr(K78,BQD,false)
call SetHeroInt(K78,BRD,false)
endif
endif
set j8=null
set J58=null
set J28=null
set J_8=null
set K48=null
endfunction
function BSD takes nothing returns nothing
local integer BTD=GetHandleId(GetTriggeringTrigger())
local player QSD=UD7(BTD,"PlayerVar")
local integer BUD=GetHandleId(QSD)
local unit J58=U87(BUD,"Kobold0")
local unit J28=U87(BUD,"Kobold1")
local unit J_8=U87(BUD,"Kobold2")
local unit K48=U87(BUD,"Kobold3")
local unit K78=U87(BUD,"Kobold4")
local integer BVD=GetHandleId(J58)
local integer BWD=GetHandleId(J28)
local integer BXD=GetHandleId(J_8)
local integer BYD=GetHandleId(K48)
local integer BZD=GetHandleId(K78)
local integer BAD=UN7(BVD,"XPEarned")
local integer BBD=UN7(BVD,"XPGiven")
local integer BCD=UN7(BWD,"XPEarned")
local integer B3D=UN7(BWD,"XPGiven")
local integer B6D=UN7(BXD,"XPEarned")
local integer BLD=UN7(BXD,"XPGiven")
local integer B1D=UN7(BYD,"XPEarned")
local integer B0D=UN7(BYD,"XPGiven")
local integer B5D=UN7(BZD,"XPEarned")
local integer B2D=UN7(BZD,"XPGiven")
local integer B_D=GetHeroXP(J58)
local integer C4D=GetHeroXP(J28)
local integer C7D=GetHeroXP(J_8)
local integer C8D=GetHeroXP(K48)
local integer C9D=GetHeroXP(K78)
local integer CDD=B_D-BAD-BBD
local integer CED=C4D-BCD-B3D
local integer CFD=C7D-B6D-BLD
local integer CGD=C8D-B1D-B0D
local integer CHD=C9D-B5D-B2D
if GetUnitState(J58,UNIT_STATE_LIFE)>1 then
set BAD=BAD+CDD
set BCD=BCD+CED
set B6D=B6D+CFD
set B1D=B1D+CGD
set B5D=B5D+CHD
if J58!=null then
call AddHeroXP(J28,CDD,false)
if GetHeroXP(J28)!=C4D then
set B3D=B3D+CDD
endif
call AddHeroXP(J_8,CDD,false)
if GetHeroXP(J_8)!=C7D then
set BLD=BLD+CDD
endif
call AddHeroXP(K48,CDD,false)
if GetHeroXP(K48)!=C8D then
set B0D=B0D+CDD
endif
call AddHeroXP(K78,CDD,false)
if GetHeroXP(K78)!=C9D then
set B2D=B2D+CDD
endif
endif
if J28!=null then
call AddHeroXP(J58,CED,false)
if GetHeroXP(J58)!=B_D then
set BBD=BBD+CED
endif
call AddHeroXP(J_8,CED,false)
if GetHeroXP(J_8)!=C7D then
set BLD=BLD+CED
endif
call AddHeroXP(K48,CED,false)
if GetHeroXP(K48)!=C8D then
set B0D=B0D+CED
endif
call AddHeroXP(K78,CED,false)
if GetHeroXP(K78)!=C9D then
set B2D=B2D+CED
endif
endif
if J_8!=null then
call AddHeroXP(J28,CFD,false)
if GetHeroXP(J28)!=C4D then
set B3D=B3D+CFD
endif
call AddHeroXP(J58,CFD,false)
if GetHeroXP(J58)!=B_D then
set BBD=BBD+CFD
endif
call AddHeroXP(K48,CFD,false)
if GetHeroXP(K48)!=C8D then
set B0D=B0D+CFD
endif
call AddHeroXP(K78,CFD,false)
if GetHeroXP(K78)!=C9D then
set B2D=B2D+CFD
endif
endif
if K48!=null then
call AddHeroXP(J28,CGD,false)
if GetHeroXP(J28)!=C4D then
set B3D=B3D+CGD
endif
call AddHeroXP(J_8,CGD,false)
if GetHeroXP(J_8)!=C7D then
set BLD=BLD+CGD
endif
call AddHeroXP(J58,CGD,false)
if GetHeroXP(J58)!=B_D then
set BBD=BBD+CGD
endif
call AddHeroXP(K78,CGD,false)
if GetHeroXP(K78)!=C9D then
set B2D=B2D+CGD
endif
endif
if K78!=null then
call AddHeroXP(J28,CHD,false)
if GetHeroXP(J28)!=C4D then
set B3D=B3D+CHD
endif
call AddHeroXP(J_8,CHD,false)
if GetHeroXP(J_8)!=C7D then
set BLD=BLD+CHD
endif
call AddHeroXP(J58,CHD,false)
if GetHeroXP(J58)!=B_D then
set BBD=BBD+CHD
endif
call AddHeroXP(K48,CHD,false)
if GetHeroXP(K48)!=C8D then
set B0D=B0D+CHD
endif
endif
call TQ7(BVD,"XPEarned",BAD)
call TQ7(BVD,"XPGiven",BBD)
call TQ7(BWD,"XPEarned",BCD)
call TQ7(BWD,"XPGiven",B3D)
call TQ7(BXD,"XPEarned",B6D)
call TQ7(BXD,"XPGiven",BLD)
call TQ7(BYD,"XPEarned",B1D)
call TQ7(BYD,"XPGiven",B0D)
call TQ7(BZD,"XPEarned",B5D)
call TQ7(BZD,"XPGiven",B2D)
endif
set QSD=null
set J58=null
set J28=null
set J_8=null
set K48=null
endfunction
function CID takes nothing returns boolean
return BED(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function CJD takes nothing returns nothing
local unit BO8=GetTriggerUnit()
local integer UC7=GetHandleId(GetOwningPlayer(BO8))
local unit J58=U87(UC7,"Kobold0")
local unit J28=U87(UC7,"Kobold1")
local unit J_8=U87(UC7,"Kobold2")
local unit K48=U87(UC7,"Kobold3")
local unit K78=U87(UC7,"Kobold4")
local boolean XFv=false
call DisableTrigger(ES)
if J58!=null and J58!=BO8 then
call KillUnit(J58)
endif
if J28!=null and J28!=BO8 then
call KillUnit(J28)
endif
if J_8!=null and J_8!=BO8 then
call KillUnit(J_8)
endif
if K48!=null and K48!=BO8 then
call KillUnit(K48)
endif
if K78!=null and K78!=BO8 then
call KillUnit(K78)
endif
call EnableTrigger(ES)
set BO8=null
set J58=null
set J28=null
set J_8=null
set K48=null
set K78=null
endfunction
function CKD takes nothing returns boolean
return BED(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false
endfunction
function CMD takes unit X37,unit CC7 returns nothing
local trigger t=UF7(GetHandleId(GetOwningPlayer(CC7)),"Kobold|ItemTrigger")
local integer i=0
local boolean CND=false
local boolean COD=false
local boolean CPD=false
local boolean CQD=false
local boolean CRD=false
local boolean CSD=false
local boolean CTD=false
local boolean CUD=false
local boolean CVD=false
call DisableTrigger(t)
call DisableTrigger(H94)
loop
exitwhen i>5
if GetItemTypeId(UnitItemInSlot(CC7,i))==ZU[FV]then
set CND=true
endif
if GetItemTypeId(UnitItemInSlot(CC7,i))==ZU[F6]then
set COD=true
endif
if GetItemTypeId(UnitItemInSlot(CC7,i))==ZU[N6]then
set CPD=true
endif
if GetItemTypeId(UnitItemInSlot(CC7,i))==ZU[H6]then
set CQD=true
endif
if GetItemTypeId(UnitItemInSlot(CC7,i))==ZU[G6]then
set CRD=true
endif
if GetItemTypeId(UnitItemInSlot(CC7,i))==ZU[DS4]then
set CSD=true
endif
if GetItemTypeId(UnitItemInSlot(CC7,i))==ZU[F74]then
set CTD=true
endif
if GetItemTypeId(UnitItemInSlot(CC7,i))==(ZU[LB])then
set CUD=true
endif
if GetItemTypeId(UnitItemInSlot(CC7,i))==(ZU[EC])then
set CVD=true
endif
set i=i+1
endloop
if CVD then
call UnitAddItem(X37,CreateItem((ZU[EC]),0,0))
elseif CUD then
call UnitAddItem(X37,CreateItem((ZU[LB]),0,0))
elseif CTD then
call UnitAddItem(X37,CreateItem(ZU[F74],0,0))
elseif CSD then
call UnitAddItem(X37,CreateItem(ZU[DS4],0,0))
elseif CRD then
call UnitAddItem(X37,CreateItem(ZU[G6],0,0))
elseif CQD then
call UnitAddItem(X37,CreateItem(ZU[H6],0,0))
elseif CPD then
call UnitAddItem(X37,CreateItem(ZU[N6],0,0))
elseif COD then
call UnitAddItem(X37,CreateItem(ZU[F6],0,0))
elseif CND then
call UnitAddItem(X37,CreateItem(ZU[FV],0,0))
endif
call EnableTrigger(t)
call EnableTrigger(H94)
set t=null
endfunction
function CWD takes nothing returns nothing
local unit K88=GetTriggerUnit()
local integer i=0
local boolean CND=false
local boolean COD=false
local boolean CPD=false
local boolean CQD=false
local boolean CRD=false
local boolean CSD=false
local boolean CTD=false
local boolean CUD=false
local boolean CVD=false
local integer BUD=GetHandleId(GetOwningPlayer(K88))
local unit J58=U87(BUD,"Kobold0")
local unit J28=U87(BUD,"Kobold1")
local unit J_8=U87(BUD,"Kobold2")
local unit K48=U87(BUD,"Kobold3")
local unit K78=U87(BUD,"Kobold4")
local integer CXD
local boolean CYD=false
local integer CZD=0
local integer CAD=0
local integer CBD=0
local integer CCD=0
local integer C3D=0
local integer C6D=0
local integer CLD=0
local integer C1D=0
local integer C0D=0
call DisableTrigger(GetTriggeringTrigger())
if GetUnitTypeId(K88)==1211117642 then
call UnitRemoveItemFromSlot(K88,0)
call EnableTrigger(GetTriggeringTrigger())
return
endif
if not(GetItemTypeId(GetManipulatedItem())==ZU[FV]or GetItemTypeId(GetManipulatedItem())==ZU[F6]or GetItemTypeId(GetManipulatedItem())==ZU[N6]or GetItemTypeId(GetManipulatedItem())==ZU[H6]or GetItemTypeId(GetManipulatedItem())==ZU[G6]or GetItemTypeId(GetManipulatedItem())==ZU[DS4]or GetItemTypeId(GetManipulatedItem())==ZU[F74]or GetItemTypeId(GetManipulatedItem())==(ZU[LB])or GetItemTypeId(GetManipulatedItem())==(ZU[EC]))then
call EnableTrigger(GetTriggeringTrigger())
return
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM then
set CYD=true
endif
loop
exitwhen i>5
set CXD=GetItemTypeId(UnitItemInSlot(K88,i))
if CXD==ZU[FV]then
set CZD=CZD+1
if(not(CYD and CXD==GetItemTypeId(GetManipulatedItem())))or(CZD>1 and CXD==GetItemTypeId(GetManipulatedItem()))then
set CND=true
endif
endif
if CXD==ZU[F6]then
set CAD=CAD+1
if(not(CYD and CXD==GetItemTypeId(GetManipulatedItem())))or(CAD>1 and CXD==GetItemTypeId(GetManipulatedItem()))then
set COD=true
endif
endif
if CXD==ZU[N6]then
set CBD=CBD+1
if(not(CYD and CXD==GetItemTypeId(GetManipulatedItem())))or(CBD>1 and CXD==GetItemTypeId(GetManipulatedItem()))then
set CPD=true
endif
endif
if CXD==ZU[H6]then
set CCD=CCD+1
if(not(CYD and CXD==GetItemTypeId(GetManipulatedItem())))or(CCD>1 and CXD==GetItemTypeId(GetManipulatedItem()))then
set CQD=true
endif
endif
if CXD==ZU[G6]then
set C3D=C3D+1
if(not(CYD and CXD==GetItemTypeId(GetManipulatedItem())))or(C3D>1 and CXD==GetItemTypeId(GetManipulatedItem()))then
set CRD=true
endif
endif
if CXD==ZU[DS4]then
set C6D=C6D+1
if(not(CYD and CXD==GetItemTypeId(GetManipulatedItem())))or(C6D>1 and CXD==GetItemTypeId(GetManipulatedItem()))then
set CSD=true
endif
endif
if CXD==(ZU[F74])then
set CLD=CLD+1
if(not(CYD and CXD==GetItemTypeId(GetManipulatedItem())))or(CLD>1 and CXD==GetItemTypeId(GetManipulatedItem()))then
set CTD=true
endif
endif
if CXD==(ZU[LB])then
set C1D=C1D+1
if(not(CYD and CXD==GetItemTypeId(GetManipulatedItem())))or(C1D>1 and CXD==GetItemTypeId(GetManipulatedItem()))then
set CUD=true
endif
endif
if CXD==(ZU[EC])then
set C0D=C0D+1
if(not(CYD and CXD==GetItemTypeId(GetManipulatedItem())))or(C0D>1 and CXD==GetItemTypeId(GetManipulatedItem()))then
set CVD=true
endif
endif
set i=i+1
endloop
call RemoveItem(UnitRemoveItemFromSlot(J28,0))
if J_8!=null then
call RemoveItem(UnitRemoveItemFromSlot(J_8,0))
endif
if K48!=null then
call RemoveItem(UnitRemoveItemFromSlot(K48,0))
endif
if K78!=null then
call RemoveItem(UnitRemoveItemFromSlot(K78,0))
endif
if CVD then
call UnitAddItem(J28,CreateItem((ZU[EC]),0,0))
if J_8!=null then
call UnitAddItem(J_8,CreateItem((ZU[EC]),0,0))
endif
if K48!=null then
call UnitAddItem(K48,CreateItem((ZU[EC]),0,0))
endif
if K78!=null then
call UnitAddItem(K78,CreateItem((ZU[EC]),0,0))
endif
elseif CUD then
call UnitAddItem(J28,CreateItem((ZU[LB]),0,0))
if J_8!=null then
call UnitAddItem(J_8,CreateItem((ZU[LB]),0,0))
endif
if K48!=null then
call UnitAddItem(K48,CreateItem((ZU[LB]),0,0))
endif
if K78!=null then
call UnitAddItem(K78,CreateItem((ZU[LB]),0,0))
endif
elseif CTD then
call UnitAddItem(J28,CreateItem((ZU[F74]),0,0))
if J_8!=null then
call UnitAddItem(J_8,CreateItem((ZU[F74]),0,0))
endif
if K48!=null then
call UnitAddItem(K48,CreateItem((ZU[F74]),0,0))
endif
if K78!=null then
call UnitAddItem(K78,CreateItem((ZU[F74]),0,0))
endif
elseif CSD then
call UnitAddItem(J28,CreateItem(ZU[DS4],0,0))
if J_8!=null then
call UnitAddItem(J_8,CreateItem(ZU[DS4],0,0))
endif
if K48!=null then
call UnitAddItem(K48,CreateItem(ZU[DS4],0,0))
endif
if K78!=null then
call UnitAddItem(K78,CreateItem((ZU[DS4]),0,0))
endif
elseif CRD then
call UnitAddItem(J28,CreateItem(ZU[G6],0,0))
if J_8!=null then
call UnitAddItem(J_8,CreateItem(ZU[G6],0,0))
endif
if K48!=null then
call UnitAddItem(K48,CreateItem(ZU[G6],0,0))
endif
if K78!=null then
call UnitAddItem(K78,CreateItem((ZU[G6]),0,0))
endif
elseif CQD then
call UnitAddItem(J28,CreateItem(ZU[H6],0,0))
if J_8!=null then
call UnitAddItem(J_8,CreateItem(ZU[H6],0,0))
endif
if K48!=null then
call UnitAddItem(K48,CreateItem(ZU[H6],0,0))
endif
if K78!=null then
call UnitAddItem(K78,CreateItem((ZU[H6]),0,0))
endif
elseif CPD then
call UnitAddItem(J28,CreateItem(ZU[N6],0,0))
if J_8!=null then
call UnitAddItem(J_8,CreateItem(ZU[N6],0,0))
endif
if K48!=null then
call UnitAddItem(K48,CreateItem(ZU[N6],0,0))
endif
if K78!=null then
call UnitAddItem(K78,CreateItem((ZU[N6]),0,0))
endif
elseif COD then
call UnitAddItem(J28,CreateItem(ZU[F6],0,0))
if J_8!=null then
call UnitAddItem(J_8,CreateItem(ZU[F6],0,0))
endif
if K48!=null then
call UnitAddItem(K48,CreateItem(ZU[F6],0,0))
endif
if K78!=null then
call UnitAddItem(K78,CreateItem((ZU[F6]),0,0))
endif
elseif CND then
call UnitAddItem(J28,CreateItem(ZU[FV],0,0))
if J_8!=null then
call UnitAddItem(J_8,CreateItem(ZU[FV],0,0))
endif
if K48!=null then
call UnitAddItem(K48,CreateItem(ZU[FV],0,0))
endif
if K78!=null then
call UnitAddItem(K78,CreateItem((ZU[FV]),0,0))
endif
endif
call EnableTrigger(GetTriggeringTrigger())
set K88=null
set J58=null
set J28=null
set J_8=null
set K48=null
endfunction
function C5D takes unit C2D,integer C_D returns nothing
local integer yP=GetHandleId(GetOwningPlayer(C2D))
local unit J58=U87(yP,"Kobold0")
local unit J28=U87(yP,"Kobold1")
local unit J_8=U87(yP,"Kobold2")
local unit K48=U87(yP,"Kobold3")
local unit K78=U87(yP,"Kobold4")
if J58!=null and J58!=C2D then
call SelectHeroSkill(J58,C_D)
endif
if J28!=null and J28!=C2D then
call SelectHeroSkill(J28,C_D)
endif
if J_8!=null and J_8!=C2D then
call SelectHeroSkill(J_8,C_D)
endif
if K48!=null and K48!=C2D then
call SelectHeroSkill(K48,C_D)
endif
if K78!=null and K78!=C2D then
call SelectHeroSkill(K78,C_D)
endif
set J58=null
set J28=null
set J_8=null
set K48=null
set K78=null
endfunction
function L4D takes integer N7,unit qf,unit qF returns nothing
local integer T8=1
local integer U8=GetUnitAbilityLevel(qf,N7)
loop
exitwhen T8>U8
call SelectHeroSkill(qF,N7)
set T8=T8+1
endloop
endfunction
function L7D takes unit X37,unit L8D returns nothing
call AddHeroXP(X37,GetHeroXP(L8D),false)
call TQ7(GetHandleId(X37),"XPGiven",GetHeroXP(L8D))
call TQ7(GetHandleId(X37),"XPEarned",0)
call L4D(1093684792,L8D,X37)
call L4D(1093684802,L8D,X37)
call L4D(1093684791,L8D,X37)
call L4D(1096904043,L8D,X37)
call L4D(1093684567,L8D,X37)
call L4D(1093809987,L8D,X37)
endfunction
function L9D takes unit J28,unit J_8,integer YJ,integer Yg,integer YG returns nothing
if Yg>YG then
call SelectHeroSkill(J_8,YJ)
elseif YG>Yg then
call SelectHeroSkill(J28,YJ)
endif
endfunction
function LDD takes unit J28,unit J_8 returns nothing
local integer y8=GetHeroXP(J28)
local integer y9=GetHeroXP(J_8)
local integer yW=GetHandleId(J28)
local integer yx=GetHandleId(J_8)
local integer yZ=UN7(yW,"XPGiven")
local integer y4=UN7(yx,"XPGiven")
local integer VX
if y8>y9 then
set VX=y8-y9
call AddHeroXP(J_8,VX,true)
if y9!=GetHeroXP(J_8)then
call TQ7(yx,"XPGiven",y4+VX)
endif
elseif y8<y9 then
set VX=y9-y8
call AddHeroXP(J28,VX,true)
if y8!=GetHeroXP(J28)then
call TQ7(yW,"XPGiven",yZ+VX)
endif
endif
endfunction
function LED takes unit J28,unit J_8 returns nothing
local integer LFD=GetUnitAbilityLevel(J28,1093684792)
local integer LGD=GetUnitAbilityLevel(J28,1093684802)
local integer LHD=GetUnitAbilityLevel(J28,1093684791)
local integer LID=GetUnitAbilityLevel(J28,1093684567)
local integer LJD=GetUnitAbilityLevel(J28,1096904043)
local integer LKD=GetUnitAbilityLevel(J28,1093809987)
local integer LMD=GetUnitAbilityLevel(J_8,1093684792)
local integer LND=GetUnitAbilityLevel(J_8,1093684802)
local integer LOD=GetUnitAbilityLevel(J_8,1093684791)
local integer LPD=GetUnitAbilityLevel(J_8,1093684567)
local integer LQD=GetUnitAbilityLevel(J_8,1096904043)
local integer LRD=GetUnitAbilityLevel(J_8,1093809987)
call LDD(J28,J_8)
call L9D(J28,J_8,1093684792,LFD,LMD)
call L9D(J28,J_8,1093684802,LGD,LND)
call L9D(J28,J_8,1093684791,LHD,LOD)
call L9D(J28,J_8,1093684567,LID,LPD)
call L9D(J28,J_8,1093809987,LKD,LRD)
call L9D(J28,J_8,1096904043,LJD,LQD)
endfunction
function LSD takes unit J28,unit J_8 returns nothing
if J28!=null and J_8!=null then
call LED(J28,J_8)
endif
endfunction
function LTD takes nothing returns nothing
local integer BUD=GetHandleId(UD7(GetHandleId(GetTriggeringTrigger()),"PlayerVar"))
local unit J58=U87(BUD,"Kobold0")
local unit J28=U87(BUD,"Kobold1")
local unit J_8=U87(BUD,"Kobold2")
local unit K48=U87(BUD,"Kobold3")
local unit K78=U87(BUD,"Kobold4")
call DisableTrigger(PR4)
call LSD(J58,J28)
call LSD(J58,J_8)
call LSD(J58,K48)
call LSD(J58,K78)
call LSD(J28,J_8)
call LSD(J28,K48)
call LSD(J28,K78)
call LSD(J_8,K48)
call LSD(J_8,K78)
call LSD(K48,K78)
call EnableTrigger(PR4)
set J58=null
set J28=null
set J_8=null
set K48=null
set K78=null
endfunction
function LUD takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.2,true)
call TriggerAddAction(t,function LTD)
call TA7(GetHandleId(t),"PlayerVar",GetOwningPlayer(GetTriggerUnit()))
set t=null
endfunction
function LVD takes unit EC8 returns nothing
local trigger t
call TU7(GetHandleId(GetOwningPlayer(EC8)),"Kobold0",EC8)
call TQ7(GetHandleId(EC8),"XPEarned",GetHeroXP(EC8))
call TQ7(GetHandleId(EC8),"XPGiven",0)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddAction(t,function BSD)
call TA7(GetHandleId(t),"PlayerVar",GetOwningPlayer(EC8))
call TW7(GetHandleId(GetOwningPlayer(EC8)),"Kobold|XPTrigger",t)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.3,true)
call TriggerAddAction(t,function BFD)
call TA7(GetHandleId(t),"PlayerVar",GetOwningPlayer(EC8))
call TW7(GetHandleId(GetOwningPlayer(EC8)),"Kobold|AttributesTrigger",t)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(t,function CJD)
call TriggerAddCondition(t,Condition(function CID))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call D18(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddAction(t,function CWD)
call TriggerAddCondition(t,Condition(function CKD))
call TW7(GetHandleId(GetOwningPlayer(EC8)),"Kobold|ItemTrigger",t)
call ExecuteFunc("LUD")
set t=null
endfunction
function LWD takes unit EC8,boolean LXD returns nothing
local player QSD=GetOwningPlayer(EC8)
local integer OC7=GetHandleId(QSD)
local unit X37
set BM4=BM4+1
if BM4==1 then
call LVD(EC8)
endif
call TriggerExecute(UF7(GetHandleId(GetOwningPlayer(EC8)),"Kobold|XPTrigger"))
call TriggerExecute(UF7(GetHandleId(GetOwningPlayer(EC8)),"Kobold|AttributesTrigger"))
if LXD==false then
call C5D(EC8,1093684567)
call C5D(EC8,1093809987)
endif
set X37=CreateUnit(GetOwningPlayer(EC8),1211117642,GetUnitX(EC8),GetUnitY(EC8),0)
call L7D(X37,EC8)
call CMD(X37,EC8)
call TU7(OC7,"Kobold"+I2S(BM4),X37)
set X37=null
endfunction
function LYD takes nothing returns nothing
if BN4==false then
set BN4=true
call DisableTrigger(PR4)
call LWD(IN4,true)
call EnableTrigger(PR4)
endif
endfunction
function LZD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if IsUnitIllusion(GetTriggerUnit())==false and GetOwningPlayer(GetTriggerUnit())==GetOwningPlayer(EC8)and BDD(GetTriggerUnit())then
if GetLearnedSkill()==1093684567 or GetLearnedSkill()==1093809987 then
call DisableTrigger(GetTriggeringTrigger())
call LWD(GetTriggerUnit(),false)
call EnableTrigger(GetTriggeringTrigger())
elseif GetLearnedSkill()==1096904043 or GetLearnedSkill()==1093684792 or GetLearnedSkill()==1093684802 or GetLearnedSkill()==1093684791 then
call TriggerExecute(UF7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"Kobold|XPTrigger"))
call TriggerExecute(UF7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"Kobold|AttributesTrigger"))
call DisableTrigger(GetTriggeringTrigger())
call C5D(GetTriggerUnit(),GetLearnedSkill())
call EnableTrigger(GetTriggeringTrigger())
endif
endif
set EC8=null
return false
endfunction
function LAD takes nothing returns nothing
local unit EC8=IN4
local integer OC7
set BK4=CreateTrigger()
set PR4=BK4
set OC7=GetHandleId(BK4)
call D18(BK4,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(BK4,Condition(function LZD))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set EC8=null
endfunction
function Yu takes nothing returns boolean
return IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LO7(GetFilterUnit())==false and D39(GetFilterUnit())==false)
endfunction
function YU takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local integer BH7=UN7(UC7,"Level")
local group g
local unit u
local real d
local real a
local real LBD
local real LCD
local unit H88=U87(UC7,"Caster")
if GetTriggerEvalCount(t)>32 then
call TN7(UC7)
call UA7(t)
else
set g=CX7()
set IN4=CO7
call GroupEnumUnitsInRange(g,GetUnitX(CO7),GetUnitY(CO7),500,Condition(function Yu))
set u=GroupPickRandomUnit(g)
if u==null then
set d=GetRandomReal(175,400)
set a=GetRandomReal(0,6)
set LBD=GetUnitX(CO7)+d*Cos(a)
set LCD=GetUnitY(CO7)+d*Sin(a)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",LBD,LCD))
else
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",u,"origin"))
call HD8(H88,u,ZK4,12.5*BH7)
endif
call CW7(g)
endif
set u=null
set g=null
set t=null
set CO7=null
return false
endfunction
function Yv takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=GetTriggerUnit()
local unit H88=CreateUnit(GetOwningPlayer(CO7),1697656901,GetUnitX(CO7),GetUnitY(CO7),0)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\RocketMissile\\RocketMissile.mdl",CO7,"hand right"))
call TU7(UC7,"Hero",CO7)
call TU7(UC7,"Caster",H88)
call TQ7(UC7,"Level",GetUnitAbilityLevel(CO7,1093677877))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function YU))
set t=null
set CO7=null
endfunction
function L3D takes nothing returns boolean
if GetSpellAbilityId()==1093677877 then
call Yv()
endif
return false
endfunction
function OC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function L3D))
set t=null
endfunction
function L6D takes nothing returns nothing
local unit EC8=ZM4
local unit O07=GetEnumUnit()
call HD8(EC8,O07,ZG4,ZN4)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",O07,"origin"))
set EC8=null
set O07=null
endfunction
function LLD takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit EC8=U87(UC7,"Source")
local integer H98=GetUnitAbilityLevel(EC8,1093808454)
local group g
if H98!=0 then
if H98==1 then
set ZN4=66
elseif H98==2 then
set ZN4=100
else
set ZN4=144
endif
else
set H98=GetUnitAbilityLevel(EC8,1093808455)
if H98==1 then
set ZN4=88
elseif H98==2 then
set ZN4=133
else
set ZN4=177
endif
endif
if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetUnitState(EC8,UNIT_STATE_MANA)<20*H98 or(LoadInteger(L7,(GetHandleId(EC8)),(704)))==-1 or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()==1093808456 or GetSpellAbilityId()==1093809992))then
if(LoadInteger(L7,(GetHandleId(EC8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EC8)),(704)))==1093808454 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808454,true)
endif
if(LoadInteger(L7,(GetHandleId(EC8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EC8)),(704)))==1093808455 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808455,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808456,false)
call TN7(UC7)
call UA7(t)
call UY7(EC8,"AI|PulseNova")
elseif GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
call SetUnitState(EC8,UNIT_STATE_MANA,GetUnitState(EC8,UNIT_STATE_MANA)-20*H98)
set IN4=EC8
set ZM4=EC8
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),475,Condition(function FT8))
call ForGroup(g,function L6D)
call CW7(g)
set g=null
endif
set t=null
return false
endfunction
function L1D takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",EC8,"origin"))
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808454,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808455,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808456,true)
call UnitAddAbility(EC8,1093808456)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LLD))
call TU7(UC7,"Source",EC8)
call TriggerEvaluate(t)
call UW7(EC8,"AI|PulseNova")
set EC8=null
set t=null
endfunction
function Yy takes nothing returns boolean
if GetSpellAbilityId()==1093808454 or GetSpellAbilityId()==1093808455 then
call L1D()
endif
return false
endfunction
function O38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Yy))
set t=null
endfunction
function L0D takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit HUD=(LoadUnitHandle(L7,(OC7),(374)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local integer L5D=(LoadInteger(L7,(OC7),(233)))
local integer EJD=(LoadInteger(L7,(OC7),(12)))
local unit H88
local group g
local real a
local real x
local real y
local integer L2D=(LoadInteger(L7,(OC7),(720)))
if L2D>0 then
set L2D=L2D-1
call SaveInteger(L7,(OC7),(720),(L2D))
return false
endif
if RF7(GetUnitX(HUD),GetUnitY(HUD),GetUnitX(O07),GetUnitY(O07))>20 then
set a=PP7(GetUnitX(HUD),GetUnitY(HUD),GetUnitX(O07),GetUnitY(O07))
call SetUnitFacing(HUD,a)
set x=GetUnitX(HUD)+13.5*Cos(a*bj_DEGTORAD)
set y=GetUnitY(HUD)+13.5*Sin(a*bj_DEGTORAD)
call SetUnitX(HUD,x)
call SetUnitY(HUD,y)
else
if LO7(O07)==false then
set H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call LM7(H88,1093679409)
call SetUnitAbilityLevel(H88,1093679409,H98)
call IssueTargetOrder(H88,"frostnova",O07)
endif
if L5D>EJD then
call RemoveUnit(HUD)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set g=CX7()
set IN4=EC8
call GroupEnumUnitsInRange(g,GetUnitX(O07),GetUnitY(O07),600,Condition(function F28))
call GroupRemoveUnit(g,O07)
set O07=GroupPickRandomUnit(g)
call CW7(g)
if O07==null then
call RemoveUnit(HUD)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
call SaveInteger(L7,(OC7),(720),(10))
call SaveInteger(L7,(OC7),(233),(L5D+1))
call SaveUnitHandle(L7,(OC7),(17),(O07))
endif
endif
endif
set t=null
set EC8=null
set O07=null
set HUD=null
set H88=null
set g=null
return false
endfunction
function L_D takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093678420)
local integer EJD=7
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit HUD
if GetSpellAbilityId()==1093679176 then
set H98=GetUnitAbilityLevel(EC8,1093679176)+1
set EJD=7
endif
set HUD=CreateUnit(GetOwningPlayer(EC8),1697656889,GetUnitX(EC8),GetUnitY(EC8),0)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(374),(HUD))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveInteger(L7,(OC7),(233),(1))
call SaveInteger(L7,(OC7),(12),(EJD))
call SaveInteger(L7,(OC7),(720),(0))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function L0D))
set EC8=null
set O07=null
set HUD=null
set t=null
endfunction
function D4E takes nothing returns boolean
if GetSpellAbilityId()==1093678420 or GetSpellAbilityId()==1093679176 then
call L_D()
endif
return false
endfunction
function OL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D4E))
set t=null
endfunction
function D7E takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BH7=GetUnitAbilityLevel(p5,1093679412)
local integer D8E=GetHeroLevel(m5)
local real B19=GetUnitState(m5,UNIT_STATE_MAX_LIFE)*0.2
if ModuloInteger(D8E,7-BH7)==0 or D8E==25 then
call HD8(p5,m5,ZG4,B19)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Demon\\DemonBoltImpact\\DemonBoltImpact.mdl",m5,"chest"))
endif
set p5=null
set m5=null
endfunction
function D9E takes nothing returns boolean
if GetSpellAbilityId()==1093679412 then
call D7E()
endif
return false
endfunction
function O18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D9E))
set t=null
endfunction
function DDE takes unit EC8 returns nothing
call UnitRemoveAbility(EC8,1093750609)
call UnitRemoveAbility(EC8,1093750610)
call UnitRemoveAbility(EC8,1093750611)
call UnitRemoveAbility(EC8,1093750612)
call UnitRemoveAbility(EC8,1093750613)
call UnitRemoveAbility(EC8,1093750614)
call UnitRemoveAbility(EC8,1093750615)
call UnitRemoveAbility(EC8,1093750616)
call UnitRemoveAbility(EC8,1093750617)
call UnitRemoveAbility(EC8,1395667021)
call UnitRemoveAbility(EC8,1093750618)
call UnitRemoveAbility(EC8,1395667022)
call UnitRemoveAbility(EC8,1093750832)
call UnitRemoveAbility(EC8,1093750833)
call UnitRemoveAbility(EC8,1093750839)
call UnitRemoveAbility(EC8,1093750849)
call UnitRemoveAbility(EC8,1093750835)
call UnitRemoveAbility(EC8,1093750836)
call UnitRemoveAbility(EC8,1093750837)
call UnitRemoveAbility(EC8,1093750838)
call UnitRemoveAbility(EC8,1093812551)
endfunction
function DEE takes unit EC8,unit O07 returns nothing
local integer DFE=GetUnitTypeId(O07)
local integer DGE=0
local integer DHE=0
if DFE==1848658008 then
set DGE=1093750609
elseif DFE==1852796263 then
set DGE=1093750610
elseif DFE==1852207221 then
set DGE=1093750611
elseif DFE==1853060204 then
set DGE=1093750612
elseif DFE==1853055348 then
set DGE=1093750613
elseif DFE==1853060200 then
set DGE=1093750614
set DHE=1093750615
elseif DFE==1848651859 then
set DGE=1093750616
set DHE=1093750617
elseif DFE==1852534636 then
set DGE=1395667021
elseif DFE==1852207976 then
set DGE=1093750618
set DHE=1093812551
elseif DFE==1852010091 then
set DGE=1395667022
set DHE=1093750832
elseif DFE==1852272243 then
set DGE=1093750833
elseif DFE==1852270641 then
set DGE=1093750839
set DHE=1093750849
elseif DFE==1852798821 then
set DGE=1093750835
set DHE=1093750836
elseif DFE==1852077175 then
set DGE=1093750837
set DHE=1093750838
elseif DFE==1853320295 then
set DGE=1093750617
endif
if DGE!=0 then
call DDE(EC8)
call LM7(EC8,DGE)
endif
if DHE!=0 then
call LM7(EC8,DHE)
endif
endfunction
function DIE takes real DJE returns string
local string c1="|c00ff0303"
local string c="||"
local string p=" "
local string s=c1+c+"|r"
local string DKE
if DJE>85 then
set DKE=s+p+s+p+s+p+s+p+s+p+s+p+s
elseif DJE>70 then
set DKE=s+p+s+p+s+p+s+p+s+p+s+p+c
elseif DJE>55 then
set DKE=s+p+s+p+s+p+s+p+s+p+c+p+c
elseif DJE>40 then
set DKE=s+p+s+p+s+p+s+p+c+p+c+p+c
elseif DJE>25 then
set DKE=s+p+s+p+s+p+c+p+c+p+c+p+c
elseif DJE>10 then
set DKE=s+p+s+p+c+p+c+p+c+p+c+p+c
elseif DJE>0 then
set DKE=s+p+c+p+c+p+c+p+c+p+c+p+c
else
set DKE=c+p+c+p+c+p+c+p+c+p+c+p+c
endif
return DKE
endfunction
function DME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local integer BH7=UN7(UC7,"Level")
local integer DNE=UN7(UC7,"TypeID")
local real HP=UO7(UC7,"HP")
local texttag tt=U97(UC7,"tt")
local integer iX=GetTriggerEvalCount(t)
local real DOE=DR8(HP-iX,0)
local boolean DPE=true
call SetTextTagText(tt,DIE(100*DOE/ HP),0.018)
call SetTextTagPosUnit(tt,CO7,0)
if IsUnitVisible(CO7,GetLocalPlayer())==false and CM7(GetLocalPlayer())==false then
set DPE=false
endif
call SetTextTagVisibility(tt,DPE)
if DOE==0 then
call EV8(GetOwningPlayer(CO7),CO7,25*BH7)
endif
if DOE==0 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),1093742674,true)
call UnitRemoveAbility(CO7,1093742675)
call TN7(UC7)
call UA7(t)
call DestroyTextTag(tt)
endif
set t=null
set CO7=null
return false
endfunction
function DQE takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer BH7=GetUnitAbilityLevel(CC7,1093742674)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local real HP=GetUnitState(O07,UNIT_STATE_LIFE)
local integer DRE=GetUnitLevel(O07)
local integer DNE=GetUnitTypeId(O07)
local texttag tt=CreateTextTag()
local boolean DPE=true
local unit H88=CreateUnit(GetOwningPlayer(CC7),1697656901,0,0,0)
call DB8("SPLK",GetUnitX(CC7),GetUnitY(CC7),GetUnitX(O07),GetUnitY(O07),0.1,0.1,0.2,.9,0.5)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\Devour\\DevourEffectArt.mdl",GetUnitX(O07),GetUnitY(O07)))
if IsUnitVisible(CC7,GetLocalPlayer())==false then
set DPE=false
endif
call DEE(CC7,O07)
call SetTextTagText(tt,DIE(100),0.018)
call SetTextTagPosUnit(tt,CC7,0)
call SetTextTagVisibility(tt,DPE)
call SetTextTagPermanent(tt,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(CC7),1093742674,false)
call LM7(CC7,1093742675)
call TU7(UC7,"Hero",CC7)
call TL7(UC7,"tt",tt)
call TQ7(UC7,"TypeID",DNE)
call TQ7(UC7,"Level",BH7)
call TR7(UC7,"HP",HP)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,CC7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function DME))
call ShowUnit(O07,false)
call UnitRemoveBuffs(O07,true,true)
call UnitRemoveAbility(O07,1097167980)
call UnitDamageTarget(H88,O07,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
set t=null
set CC7=null
set O07=null
set H88=null
endfunction
function DSE takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BH7=GetUnitAbilityLevel(CO7,1093742674)
local integer DRE=GetUnitLevel(m5)
if(GetOwningPlayer(m5)!=Z7[0]and GetOwningPlayer(m5)!=A7[0])and((BH7==1 and DRE>2)or(BH7==2 and DRE>4)or(BH7==3 and DRE>5)or(BH7==4 and DRE>6))then
endif
set CO7=null
set m5=null
endfunction
function DTE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local integer id=UN7(UC7,"Count")
call TN7(UC7)
call UA7(t)
set t=null
set p5=null
return false
endfunction
function DUE takes nothing returns nothing
local integer id=GetSpellAbilityId()
local trigger t
local integer UC7
if id==1093750609 or id==1093750610 or id==1093750611 or id==1093750612 or id==1093750613 or id==1093750614 or id==1093750615 or id==1093750616 or id==1093750617 or id==1395667021 or id==1093750618 or id==1395667022 or id==1093750832 or id==1093750833 or id==1093750834 or id==1093750835 or id==1093750836 or id==1093750837 or id==1093750838 then
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function DTE))
call TU7(UC7,"Source",GetTriggerUnit())
call TQ7(UC7,"Count",id)
set t=null
endif
endfunction
function DVE takes nothing returns boolean
if GetSpellAbilityId()==1093742674 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call DSE()
else
call DQE()
endif
elseif GetUnitTypeId(GetTriggerUnit())==1430467634 then
call DUE()
endif
return false
endfunction
function O08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function DVE))
set t=null
endfunction
function DWE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
call UnitRemoveAbility(p5,1093750604)
call UnitRemoveAbility(p5,1093750606)
call UnitRemoveAbility(p5,1093750607)
call UnitRemoveAbility(p5,1093750605)
call UnitRemoveAbility(p5,1110455370)
call TN7(UC7)
call UA7(t)
set t=null
set p5=null
return false
endfunction
function DXE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local integer H98=GetUnitAbilityLevel(EC8,1093750608)
if H98==1 then
call LM7(EC8,1093750604)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093750604,false)
elseif H98==2 then
call LM7(EC8,1093750606)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093750606,false)
elseif H98==3 then
call LM7(EC8,1093750607)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093750607,false)
elseif H98==4 then
call LM7(EC8,1093750605)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093750605,false)
endif
call TriggerRegisterTimerEvent(t,8+2*H98,false)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function DWE))
call TU7(OC7,"Source",EC8)
set EC8=null
set t=null
endfunction
function DYE takes nothing returns boolean
if GetSpellAbilityId()==1093750608 then
call DXE()
endif
return false
endfunction
function O58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DYE))
set t=null
endfunction
function DZE takes nothing returns boolean
local real x
local real y
if(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))then
set x=A2+GetRandomReal(20,70)*Cos(GetUnitFacing(GetTriggerUnit())*bj_DEGTORAD)
set y=N2+GetRandomReal(20,70)*Sin(GetUnitFacing(GetTriggerUnit())*bj_DEGTORAD)
call SetUnitPosition(GetFilterUnit(),x,y)
endif
return false
endfunction
function DAE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local group g=CX7()
local unit H88=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
local integer H98=GetUnitAbilityLevel(p5,1093810508)
set A2=GetUnitX(p5)+100*Cos(GetUnitFacing(p5)*bj_DEGTORAD)
set N2=GetUnitY(p5)+100*Sin(GetUnitFacing(p5)*bj_DEGTORAD)
call GroupEnumUnitsInRange(g,x,y,410+24,Condition(function DZE))
call CW7(g)
call LM7(H88,1093678662)
call SetUnitAbilityLevel(H88,1093678662,H98)
call IssueImmediateOrder(H88,"stomp")
set p5=null
set g=null
endfunction
function DBE takes nothing returns boolean
if GetSpellAbilityId()==1093810508 then
call DAE()
endif
return false
endfunction
function O28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DBE))
set t=null
endfunction
function DCE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer C97=GetHandleId(t)
local unit E2D=(LoadUnitHandle(L7,(C97),(17)))
if GetUnitAbilityLevel(E2D,1110454357)==0 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(E2D,1093751088)
call UnitRemoveAbility(E2D,1093751089)
call UnitRemoveAbility(E2D,1093751090)
call UnitRemoveAbility(E2D,1093751091)
call FlushChildHashtable(L7,(C97))
call UA7(t)
endif
set t=null
set E2D=null
return false
endfunction
function D3E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer C97=GetHandleId(t)
local unit F9D=GetTriggerUnit()
local unit E2D=GetSpellTargetUnit()
local integer RP7=GetUnitAbilityLevel(F9D,1093677879)
local integer D6E
if RP7==1 then
set D6E=1093751088
elseif RP7==2 then
set D6E=1093751089
elseif RP7==3 then
set D6E=1093751090
elseif RP7==4 then
set D6E=1093751091
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(E2D),D6E,false)
call LM7(E2D,D6E)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,E2D,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function DCE))
call SaveUnitHandle(L7,(C97),(17),(E2D))
set t=null
set F9D=null
set E2D=null
endfunction
function DLE takes nothing returns boolean
if GetSpellAbilityId()==1093677879 then
call D3E()
endif
return false
endfunction
function O_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DLE))
set t=null
endfunction
function D1E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer C97=GetHandleId(t)
local unit E2D=(LoadUnitHandle(L7,(C97),(17)))
call UnitRemoveAbility(E2D,1093751094)
call UnitRemoveAbility(E2D,1110459224)
call FlushChildHashtable(L7,(C97))
call UA7(t)
set t=null
set E2D=null
return false
endfunction
function D0E takes unit F9D,unit E2D,integer RP7 returns nothing
local trigger t=CreateTrigger()
local integer C97=GetHandleId(t)
call SetUnitPathing(E2D,true)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerRegisterUnitEvent(t,E2D,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function D1E))
call SaveUnitHandle(L7,(C97),(17),(E2D))
call LM7(E2D,1093751094)
call UnitMakeAbilityPermanent(E2D,true,1093751094)
call SetPlayerAbilityAvailable(GetOwningPlayer(E2D),1093751094,false)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl",E2D,"chest"))
call HD8(F9D,E2D,ZG4,70*RP7)
set t=null
endfunction
function D5E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer C97=GetHandleId(t)
local unit F9D=(LoadUnitHandle(L7,(C97),(2)))
local unit D2E=(LoadUnitHandle(L7,(C97),(393)))
local unit D_E=(LoadUnitHandle(L7,(C97),(394)))
local unit E4E=(LoadUnitHandle(L7,(C97),(395)))
local unit E7E=(LoadUnitHandle(L7,(C97),(396)))
local integer RP7=(LoadInteger(L7,(C97),(5)))
local real E8E=(LoadReal(L7,(C97),(47)))
local real E9E=(LoadReal(L7,(C97),(48)))
local real EDE=(LoadReal(L7,(C97),(13)))
local real EEE=(LoadReal(L7,(C97),(6)))
local real EFE=(LoadReal(L7,(C97),(7)))
local real EGE=D98(EEE+19*Cos(EDE))
local real EHE=DD8(EFE+19*Sin(EDE))
local group g
local integer EIE=(LoadInteger(L7,(C97),(12)))
local location l
call SetUnitPosition(F9D,EGE,EHE)
call SetUnitFacing(F9D,EDE*bj_RADTODEG)
call SaveReal(L7,(C97),(6),((EGE)*1.0))
call SaveReal(L7,(C97),(7),((EHE)*1.0))
if ModuloInteger(GetTriggerEvalCount(t),4)==0 then
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",EGE,EHE))
endif
if GetTriggerEvalCount(t)==2 then
call SetUnitAnimationByIndex(F9D,3)
endif
if D2E==null or D_E==null or E4E==null or E7E==null then
set IN4=F9D
set g=CX7()
call GroupEnumUnitsInRange(g,EGE,EHE,125+25,Condition(function GD8))
if FirstOfGroup(g)!=null then
if D2E!=null then
call GroupRemoveUnit(g,D2E)
endif
if D_E!=null then
call GroupRemoveUnit(g,D_E)
endif
if E4E!=null then
call GroupRemoveUnit(g,E4E)
endif
if FirstOfGroup(g)!=null then
if D2E==null then
set D2E=FirstOfGroup(g)
call SetUnitPathing(D2E,false)
call U67(D2E,"4404",5)
elseif D_E==null and RP7>1 then
set D_E=FirstOfGroup(g)
call SetUnitPathing(D_E,false)
call U67(D_E,"4404",5)
elseif E4E==null and RP7>2 then
set E4E=FirstOfGroup(g)
call SetUnitPathing(E4E,false)
call U67(E4E,"4404",5)
elseif E7E==null and RP7>3 then
set E7E=FirstOfGroup(g)
call SetUnitPathing(E7E,false)
call U67(E7E,"4404",5)
endif
endif
endif
call CW7(g)
set g=null
endif
call SaveUnitHandle(L7,(C97),(393),(D2E))
call SaveUnitHandle(L7,(C97),(394),(D_E))
call SaveUnitHandle(L7,(C97),(395),(E4E))
call SaveUnitHandle(L7,(C97),(396),(E7E))
if D2E!=null then
call SetUnitPosition(D2E,EGE,EHE)
endif
if D_E!=null then
call SetUnitPosition(D_E,EGE,EHE)
endif
if E4E!=null then
call SetUnitPosition(E4E,EGE,EHE)
endif
if E7E!=null then
call SetUnitPosition(E7E,EGE,EHE)
endif
if ModuloInteger(GetTriggerEvalCount(t),3)==0 then
call D28(EGE,EHE,200)
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>EIE then
call DestroyEffect((LoadEffectHandle(L7,(C97),(175))))
call SetUnitAnimationByIndex(F9D,0)
call SetUnitTimeScale(F9D,1.0)
call SetUnitPathing(F9D,true)
call FlushChildHashtable(L7,(C97))
call UA7(t)
if D2E!=null then
if IsPointInRegion(IU4,GetUnitX(D2E),GetUnitY(D2E))==true then
set l=D69(GetUnitX(D2E),GetUnitY(D2E))
call SetUnitX(D2E,D98(GetLocationX(l)))
call SetUnitY(D2E,DD8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
call D0E(F9D,D2E,RP7)
call D28(GetUnitX(D2E),GetUnitY(D2E),300)
endif
if D_E!=null then
if IsPointInRegion(IU4,GetUnitX(D_E),GetUnitY(D_E))==true then
set l=D69(GetUnitX(D_E),GetUnitY(D_E))
call SetUnitX(D_E,D98(GetLocationX(l)))
call SetUnitY(D_E,DD8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
call D0E(F9D,D_E,RP7)
call D28(GetUnitX(D_E),GetUnitY(D_E),300)
endif
if E4E!=null then
if IsPointInRegion(IU4,GetUnitX(E4E),GetUnitY(E4E))==true then
set l=D69(GetUnitX(E4E),GetUnitY(E4E))
call SetUnitX(E4E,D98(GetLocationX(l)))
call SetUnitY(E4E,DD8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
call D0E(F9D,E4E,RP7)
call D28(GetUnitX(E4E),GetUnitY(E4E),300)
endif
if E7E!=null then
if IsPointInRegion(IU4,GetUnitX(E7E),GetUnitY(E7E))==true then
set l=D69(GetUnitX(E7E),GetUnitY(E7E))
call SetUnitX(E7E,D98(GetLocationX(l)))
call SetUnitY(E7E,DD8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
call D0E(F9D,E7E,RP7)
call D28(GetUnitX(E7E),GetUnitY(E7E),300)
endif
if D2E!=null and LO7(D2E)==false then
call IssueTargetOrder(F9D,"attack",D2E)
elseif D_E!=null and LO7(D_E)==false then
call IssueTargetOrder(F9D,"attack",D_E)
elseif E4E!=null and LO7(E4E)==false then
call IssueTargetOrder(F9D,"attack",E4E)
elseif E7E!=null and LO7(E7E)==false then
call IssueTargetOrder(F9D,"attack",E7E)
endif
call D28(EGE,EHE,375)
if IsPointInRegion(IU4,GetUnitX(F9D),GetUnitY(F9D))==true then
set l=D69(GetUnitX(F9D),GetUnitY(F9D))
call SetUnitX(F9D,D98(GetLocationX(l)))
call SetUnitY(F9D,DD8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
endif
set t=null
set F9D=null
set D2E=null
set D_E=null
set E4E=null
set E7E=null
return false
endfunction
function EJE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer C97=GetHandleId(t)
local real E8E=D98(GetSpellTargetX())
local real E9E=DD8(GetSpellTargetY())
local unit F9D=GetTriggerUnit()
local real WOD=GetUnitX(F9D)
local real EKE=GetUnitY(F9D)
local integer RP7=GetUnitAbilityLevel(F9D,1093751364)
local real a=PP7(WOD,EKE,E8E,E9E)*bj_DEGTORAD
local real EME=400+200*RP7+25
if RF7(WOD,EKE,E8E,E9E)>EME then
set E8E=D98(WOD+EME*Cos(a))
set E9E=DD8(EKE+EME*Sin(a))
endif
call SetUnitPathing(F9D,false)
call SetUnitAnimationByIndex(F9D,3)
call SetUnitTimeScale(F9D,1.5)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,F9D,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function D5E))
call SaveUnitHandle(L7,(C97),(2),(F9D))
call SaveInteger(L7,(C97),(5),(RP7))
call SaveUnitHandle(L7,(C97),(393),(null))
call SaveUnitHandle(L7,(C97),(394),(null))
call SaveUnitHandle(L7,(C97),(395),(null))
call SaveUnitHandle(L7,(C97),(396),(null))
call SaveReal(L7,(C97),(47),((E8E)*1.0))
call SaveReal(L7,(C97),(48),((E9E)*1.0))
call SaveReal(L7,(C97),(6),((WOD)*1.0))
call SaveReal(L7,(C97),(7),((EKE)*1.0))
call SaveReal(L7,(C97),(13),((Atan2(E9E-EKE,E8E-WOD))*1.0))
call SaveInteger(L7,(C97),(12),(R2I(RF7(WOD,EKE,E8E,E9E)/19.0)))
call SaveEffectHandle(L7,(C97),(175),(AddSpecialEffectTarget("war3mapImported\\SkewerTuskGlow_1.mdx",F9D,"head")))
set t=null
set F9D=null
endfunction
function ENE takes nothing returns boolean
if GetSpellAbilityId()==1093751364 then
call EJE()
endif
return false
endfunction
function EOE takes nothing returns boolean
if GetSpellAbilityId()==1093751364 then
call SetUnitAnimationByIndex(GetTriggerUnit(),7)
endif
return false
endfunction
function P48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ENE))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function EOE))
set t=null
endfunction
function EPE takes nothing returns boolean
if GetSpellAbilityId()==1093747504 then
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093748052,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093748051,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093748049,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093748050,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093808966,false)
endif
return false
endfunction
function P78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EPE))
set t=null
endfunction
function EQE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=GetUnitAbilityLevel(EC8,JI7)
call SetUnitState(O07,UNIT_STATE_LIFE,GetUnitState(O07,UNIT_STATE_LIFE)+0.1*(20+GetUnitState(O07,UNIT_STATE_MAX_LIFE)*(0.02+0.01*H98)))
if GetTriggerEvalCount(t)>39 or(GetTriggerEvalCount(t)==1 and IsUnitHidden(O07))then
call UnitRemoveAbility(O07,JJ7)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(609))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(610))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(611))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(612))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(613))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(614))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(615))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(616))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(617))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function ERE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t
local integer OC7
local unit H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call UnitAddAbility(H88,1093815367)
if IssueTargetOrder(H88,"thunderbolt",O07)==true then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call LM7(O07,JJ7)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function EQE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveEffectHandle(L7,(OC7),(609),(AddSpecialEffectTarget(JK7,O07,"hand right")))
call SaveEffectHandle(L7,(OC7),(610),(AddSpecialEffectTarget(JK7,O07,"hand left")))
call SaveEffectHandle(L7,(OC7),(611),(AddSpecialEffectTarget(JK7,O07,"foot right")))
call SaveEffectHandle(L7,(OC7),(612),(AddSpecialEffectTarget(JK7,O07,"foot left")))
call SaveEffectHandle(L7,(OC7),(613),(AddSpecialEffectTarget(JK7,O07,"foot right mount rear")))
call SaveEffectHandle(L7,(OC7),(614),(AddSpecialEffectTarget(JK7,O07,"foot left mount rear")))
call SaveEffectHandle(L7,(OC7),(615),(AddSpecialEffectTarget(JK7,O07,"head")))
call SaveEffectHandle(L7,(OC7),(616),(AddSpecialEffectTarget(JK7,O07,"chest")))
call SaveEffectHandle(L7,(OC7),(617),(AddSpecialEffectTarget(JK7,O07,"weapon")))
endif
set EC8=null
set O07=null
set t=null
endfunction
function ESE takes nothing returns boolean
if GetSpellAbilityId()==JI7 then
call ERE()
endif
return false
endfunction
function VO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ESE))
set t=null
endfunction
function ETE takes nothing returns nothing
local unit O07=GetEnumUnit()
call DisableTrigger(JO7)
call UnitWakeUp(O07)
call IssueTargetOrder(O07,"attack",JP7)
call EnableTrigger(JO7)
set O07=null
endfunction
function EUE takes nothing returns nothing
call U67(GetEnumUnit(),"4328",0.75)
endfunction
function EVE takes nothing returns nothing
local unit O07=GetEnumUnit()
if IsUnitInGroup(O07,JN7)==false then
call GroupAddUnit(JN7,O07)
call TriggerRegisterUnitEvent(JO7,O07,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(JO7,O07,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(JO7,O07,EVENT_UNIT_ISSUED_TARGET_ORDER)
call UW7(O07,"4328")
endif
set O07=null
endfunction
function EWE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local integer CP8=(LoadInteger(L7,(OC7),(34)))
local group GAD=(LoadGroupHandle(L7,(OC7),(22)))
local group g
if GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER then
set CP8=CP8+1
call SaveInteger(L7,(OC7),(34),(CP8))
set JN7=GAD
set JO7=t
set g=CX7()
set IN4=EC8
call GroupEnumUnitsInRange(g,GetUnitX(O07),GetUnitY(O07),350+25,Condition(function F38))
call GroupRemoveUnit(g,O07)
call ForGroup(g,function EVE)
call CW7(g)
if CP8==(2.25+0.25*H98)*20 or LO7(O07)then
call ForGroup(GAD,function EUE)
call CW7(GAD)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set JO7=t
set JP7=O07
call ForGroup(GAD,function ETE)
if ModuloInteger(CP8,20)==0 or CP8==0 then
endif
endif
else
if UnitIsSleeping(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1110454328)==0 and GetIssuedOrderId()!=851973 and GI7==false then
call DisableTrigger(t)
call ClearSelectionForPlayer(GetOwningPlayer(GetTriggerUnit()))
call IssueTargetOrder(GetTriggerUnit(),"attack",O07)
call EnableTrigger(t)
endif
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function EXE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local integer H98=GetUnitAbilityLevel(EC8,JM7)
local unit O07=GetSpellTargetUnit()
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call UnitAddAbility(H88,1093815882)
call SetUnitAbilityLevel(H88,1093815882,H98)
call IssueTargetOrder(H88,"thunderbolt",O07)
set JQ7=EC8
call TriggerRegisterTimerEvent(t,0.05,true)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveGroupHandle(L7,(OC7),(22),(CX7()))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget(JR7,O07,"overhead")))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffect(JS7,GetUnitX(O07),GetUnitY(O07))))
call TriggerAddCondition(t,Condition(function EWE))
set EC8=null
set O07=null
set t=null
endfunction
function EYE takes nothing returns boolean
if GetSpellAbilityId()==JM7 and CV7(GetSpellTargetUnit())==false then
call EXE()
endif
return false
endfunction
function VP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EYE))
set t=null
endfunction
function EZE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=GetUnitAbilityLevel(EC8,JT7)
call HD8(EC8,O07,ZI4,(0.032+0.002*H98)*GetUnitState(O07,UNIT_STATE_MAX_LIFE))
if(TimerGetElapsed(W))>=(LoadReal(L7,(GetHandleId(EC8)),(782)))then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function EAE takes unit EC8,unit O07 returns nothing
local trigger t
local integer OC7
call SetUnitState(EC8,UNIT_STATE_MANA,GetUnitState(EC8,UNIT_STATE_MANA)*0.8)
if(LoadReal(L7,(GetHandleId(EC8)),(782)))>(TimerGetElapsed(W))then
call SaveReal(L7,(GetHandleId(EC8)),(782),(((TimerGetElapsed(W))+JW7)*1.0))
else
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function EZE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget(JV7,O07,"chest")))
call SaveReal(L7,(GetHandleId(EC8)),(782),(((TimerGetElapsed(W))+JW7)*1.0))
endif
set t=null
endfunction
function EBE takes nothing returns boolean
local real d
local real E69
local integer CP8
local unit EC8
local unit O07
if GetUnitAbilityLevel(GetTriggerUnit(),JU7)>0 and GetUnitAbilityLevel(GetEventDamageSource(),JT7)>0 and(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(2)))==GetEventDamageSource()then
set EC8=GetEventDamageSource()
set O07=GetTriggerUnit()
set CP8=(LoadInteger(L7,(GetHandleId(EC8)),(780)))
set E69=(LoadReal(L7,(GetHandleId(EC8)),(781)))
if E69+JW7<(TimerGetElapsed(W))then
set CP8=1
set E69=(TimerGetElapsed(W))
call SaveInteger(L7,(GetHandleId(EC8)),(780),(CP8))
call SaveReal(L7,(GetHandleId(EC8)),(781),((E69)*1.0))
else
set CP8=CP8+1
set E69=(TimerGetElapsed(W))
call SaveInteger(L7,(GetHandleId(EC8)),(780),(CP8))
call SaveReal(L7,(GetHandleId(EC8)),(781),((E69)*1.0))
endif
if CP8==4 then
set CP8=0
call SaveInteger(L7,(GetHandleId(EC8)),(780),(CP8))
call EAE(EC8,O07)
endif
call FlushChildHashtable(L7,(GetHandleId(GetTriggeringTrigger())))
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function ECE takes nothing returns nothing
local trigger t
local unit O07
local unit EC8
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set O07=GetSpellTargetUnit()
set EC8=GetTriggerUnit()
else
set O07=GetTriggerUnit()
set EC8=GetAttacker()
endif
if IsUnitIllusion(EC8)==false then
set t=CreateTrigger()
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
call SaveBoolean(L7,(GetHandleId(t)),(264),(true))
else
call SaveBoolean(L7,(GetHandleId(t)),(264),(false))
endif
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(EC8))
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function EBE))
endif
set t=null
set O07=null
set EC8=null
endfunction
function E3E takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetUnitAbilityLevel(GetAttacker(),JT7)>0 and(LoadBoolean(L7,(GetHandleId(GetTriggeringTrigger())),(263)))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(14)))then
call ECE()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==OrderId("poisonarrows"))then
call SaveBoolean(L7,(GetHandleId(GetTriggeringTrigger())),(263),(true))
elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))then
call SaveBoolean(L7,(GetHandleId(GetTriggeringTrigger())),(263),(false))
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==JT7 then
call ECE()
endif
return false
endfunction
function E6E takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function E3E))
call SaveUnitHandle(L7,(GetHandleId(t)),(14),(GetTriggerUnit()))
set t=null
endfunction
function ELE takes nothing returns boolean
if GetLearnedSkill()==JT7 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),JT7)==1 then
call E6E()
endif
return false
endfunction
function VS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function ELE))
set t=null
endfunction
function E1E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
if LO7(O07)==false then
call SetUnitState(O07,UNIT_STATE_LIFE,GetUnitState(O07,UNIT_STATE_LIFE)*0.94)
endif
if GetTriggerEvalCount(t)==5 then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function E0E takes unit EC8,unit O07 returns nothing
local trigger t
local integer OC7
local integer H98
local integer E5E
local integer E2E
if((UU7(O07,"4329")==false))and CK7(O07)==false and GetUnitTypeId(O07)!=1848651852 then
call U67(O07,"4329",J07)
set H98=GetUnitAbilityLevel(EC8,JX7)
if H98==1 then
set E5E=JY7
set E2E=JZ7
elseif H98==2 then
set E5E=JA7
set E2E=JB7
elseif H98==3 then
set E5E=JC7
set E2E=J37
elseif H98==4 then
set E5E=J67
set E2E=JL7
endif
call F88(O07,E5E,1,4,J17)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),E5E,false)
call UnitMakeAbilityPermanent(O07,true,E2E)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function E1E))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostDamage\\FrostDamage.mdl",O07,"chest")))
endif
endfunction
function E_E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EC8 then
call DisableTrigger(t)
call E0E(EC8,O07)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
else
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set O07=null
set EC8=null
return false
endfunction
function F4E takes nothing returns nothing
local trigger t=CreateTrigger()
local unit O07=GetTriggerUnit()
local unit EC8=GetAttacker()
local integer OC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function E_E))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
set t=null
set O07=null
set EC8=null
endfunction
function F7E takes nothing returns boolean
if GetAttacker()==(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(2)))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false then
if GetUnitTypeId(GetAttacker())==1311788354 or GetUnitTypeId(GetAttacker())==1311788355 or GetUnitTypeId(GetAttacker())==1311788367 or GetUnitTypeId(GetAttacker())==1311788353 then
call F4E()
endif
endif
return false
endfunction
function F8E takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function F7E))
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(EC8))
set EC8=null
set t=null
endfunction
function F9E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,false)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
return false
endfunction
function FDE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function F9E))
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
set EC8=null
set t=null
endfunction
function FEE takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_HERO_SKILL then
if GetLearnedSkill()==JX7 and GetUnitAbilityLevel(GetTriggerUnit(),JX7)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call F8E()
endif
else
if GetSpellAbilityId()==JX7 then
if GetUnitTypeId(GetTriggerUnit())!=1311788343 then
call D28(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),150)
if IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY)then
call FDE()
endif
endif
endif
endif
return false
endfunction
function VT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FEE))
set t=null
endfunction
function FFE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit E98=(LoadUnitHandle(L7,(OC7),(45)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local real x
local real y
local real a
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call KillUnit(E98)
else
set a=PP7(GetUnitX(E98),GetUnitY(E98),GetUnitX(O07),GetUnitY(O07))
set x=GetUnitX(E98)+20*Cos(a*bj_DEGTORAD)
set y=GetUnitY(E98)+20*Sin(a*bj_DEGTORAD)
call SetUnitX(E98,x)
call SetUnitY(E98,y)
call SetUnitFacing(E98,a)
if RE7(E98,O07)<30 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call HD8(E98,O07,ZG4,100+50*H98)
call KillUnit(E98)
call SetUnitAnimationByIndex(E98,3)
endif
endif
set t=null
set O07=null
set E98=null
return false
endfunction
function FGE takes integer H98,unit E98,unit O07 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call SetUnitAnimationByIndex(E98,2)
call SetUnitVertexColor(E98,255,255,255,150)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterDeathEvent(t,O07)
call TriggerAddCondition(t,Condition(function FFE))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(45),(E98))
call SetUnitAnimationByIndex(E98,2)
set t=null
endfunction
function FHE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local integer H98=(LoadInteger(L7,(OC7),(5)))
local unit E98=(LoadUnitHandle(L7,(OC7),(45)))
local group g
local unit O07
if GetTriggerEvalCount(t)>J_7/0.05 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call KillUnit(E98)
else
set IN4=E98
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(E98),GetUnitY(E98),375+25,Condition(function F38))
set O07=TG9(g,GetUnitX(E98),GetUnitY(E98))
call CW7(g)
if O07!=null then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call FGE(H98,E98,O07)
endif
set g=null
set O07=null
endif
set t=null
set E98=null
return false
endfunction
function FIE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local integer H98=(LoadInteger(L7,(OC7),(5)))
local unit E98=(LoadUnitHandle(L7,(OC7),(45)))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function FHE))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveUnitHandle(L7,(OC7),(45),(E98))
call SetUnitAnimationByIndex(E98,1)
set t=null
set E98=null
return false
endfunction
function FJE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local unit E98=CreateUnit(GetOwningPlayer(EC8),J27,x,y,270)
local integer H98=GetUnitAbilityLevel(EC8,J57)
call SetUnitAnimationByIndex(E98,0)
call TriggerRegisterTimerEvent(t,3,false)
call TriggerAddCondition(t,Condition(function FIE))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveUnitHandle(L7,(OC7),(45),(E98))
set EC8=null
set E98=null
set t=null
endfunction
function FKE takes nothing returns boolean
if GetSpellAbilityId()==J57 then
call FJE()
endif
return false
endfunction
function VU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FKE))
set t=null
endfunction
function FME takes nothing returns nothing
if DB9(GetEnumUnit())then
return
endif
if GetUnitAbilityLevel(GetEnumUnit(),K77)>0 then
call UnitRemoveAbility(GetEnumUnit(),K77)
endif
if GetUnitAbilityLevel(GetEnumUnit(),K87)>0 then
call UnitRemoveAbility(GetEnumUnit(),K87)
endif
if GetUnitAbilityLevel(GetEnumUnit(),K97)>0 then
call UnitRemoveAbility(GetEnumUnit(),K97)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KD7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KD7)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KE7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KE7)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KF7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KF7)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KG7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KG7)
endif
if GetUnitAbilityLevel(GetEnumUnit(),KH7)>0 then
call UnitRemoveAbility(GetEnumUnit(),KH7)
endif
endfunction
function FNE takes nothing returns nothing
if DB9(GetEnumUnit())then
return
endif
if KJ7==1 then
set KK7=K77
elseif KJ7==2 then
set KK7=K87
elseif KJ7==3 then
set KK7=K97
elseif KJ7==4 then
set KK7=KD7
endif
if GetUnitAbilityLevel(GetEnumUnit(),KK7)==0 then
call LM7(GetEnumUnit(),KK7)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),KK7,false)
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1094935923)
if KK7==K77 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815604)
elseif KK7==K87 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815605)
elseif KK7==K97 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815606)
elseif KK7==KD7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815607)
elseif KK7==KE7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815885)
elseif KK7==KF7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815884)
elseif KK7==KG7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815886)
elseif KK7==KH7 then
call UnitMakeAbilityPermanent(GetEnumUnit(),true,1093815887)
endif
endif
endfunction
function FOE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
local real NVD=(LoadReal(L7,(OC7),(442)))
local integer H98=GetUnitAbilityLevel(EC8,K47)
local group FPE=(LoadGroupHandle(L7,(OC7),(340)))
local group g=CX7()
local group g1=CX7()
local group g2=CX7()
set KJ7=H98
if(TimerGetElapsed(W))>NVD then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call ForGroup(FPE,function FME)
call CW7(FPE)
call CW7(g)
call CW7(g1)
call CW7(g2)
return false
endif
set IN4=EC8
call GroupEnumUnitsInRange(g1,x,y,325+25,Condition(function GO8))
call GroupEnumUnitsInRange(g2,x,y,325+144,Condition(function GX8))
call GroupAddGroup(g1,g)
call GroupAddGroup(g2,g)
call CW7(g1)
call CW7(g2)
call GroupRemoveGroup(g,FPE)
call ForGroup(FPE,function FME)
call ForGroup(g,function FNE)
call SaveGroupHandle(L7,(OC7),(340),(g))
call CW7(FPE)
set t=null
set EC8=null
set FPE=null
set g=null
return false
endfunction
function FQE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local real ED8=GetSpellTargetX()
local real EE8=GetSpellTargetY()
local integer i
local integer H98=GetUnitAbilityLevel(EC8,K47)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function FOE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveGroupHandle(L7,(OC7),(340),(CX7()))
call SaveReal(L7,(OC7),(6),((ED8)*1.0))
call SaveReal(L7,(OC7),(7),((EE8)*1.0))
call SaveReal(L7,(OC7),(442),(((TimerGetElapsed(W))+3+0.5*H98)*1.0))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffect(KI7,ED8,EE8)))
set i=0
loop
exitwhen i>5
call SetPlayerAbilityAvailable(Z7[i],K77,false)
call SetPlayerAbilityAvailable(A7[i],K77,false)
call SetPlayerAbilityAvailable(Z7[i],K87,false)
call SetPlayerAbilityAvailable(A7[i],K87,false)
call SetPlayerAbilityAvailable(Z7[i],K87,false)
call SetPlayerAbilityAvailable(A7[i],K97,false)
call SetPlayerAbilityAvailable(Z7[i],KD7,false)
call SetPlayerAbilityAvailable(A7[i],KD7,false)
set i=i+1
endloop
set EC8=null
set t=null
endfunction
function FRE takes nothing returns boolean
if GetSpellAbilityId()==K47 then
call FQE()
endif
return false
endfunction
function VV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FRE))
set t=null
endfunction
function FSE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=GetUnitAbilityLevel(EC8,KM7)
local integer N6D=(LoadInteger(L7,(OC7),(758)))
local integer CP8=(LoadInteger(L7,(OC7),(34)))
local group g
if GetTriggerEventId()==EVENT_WIDGET_DEATH or CP8>120 or CK7(O07)then
call UnitRemoveAbility(O07,KN7)
call UnitRemoveAbility(O07,KO7)
call UnitRemoveAbility(O07,KP7)
call UnitRemoveAbility(O07,KQ7)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set CP8=CP8+1
call SaveInteger(L7,(OC7),(34),(CP8))
set IN4=EC8
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(O07),GetUnitY(O07),225+25,Condition(function FT8))
call GroupRemoveUnit(g,O07)
if FirstOfGroup(g)==null then
if N6D==KN7 then
if GetUnitAbilityLevel(O07,KN7)==0 then
call LM7(O07,KN7)
call UnitMakeAbilityPermanent(O07,true,1093815381)
call UnitMakeAbilityPermanent(O07,true,1093815621)
endif
else
if GetUnitAbilityLevel(O07,KO7)==0 then
call LM7(O07,KO7)
call UnitMakeAbilityPermanent(O07,true,1093815380)
call UnitMakeAbilityPermanent(O07,true,1093815621)
endif
endif
if ModuloInteger(CP8,10)==0 then
call HD8(EC8,O07,ZG4,H98*15*0.5)
endif
else
if N6D==KN7 then
if GetUnitAbilityLevel(O07,KN7)>0 then
call UnitRemoveAbility(O07,KN7)
call UnitRemoveAbility(O07,KP7)
endif
else
if GetUnitAbilityLevel(O07,KO7)>0 then
call UnitRemoveAbility(O07,KO7)
call UnitRemoveAbility(O07,KQ7)
endif
endif
endif
call CW7(g)
set g=null
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function FTE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local integer N6D=KN7
if GetUnitTypeId(EC8)==1311788365 then
set N6D=KO7
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),KN7,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),KO7,false)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterDeathEvent(t,O07)
call TriggerAddCondition(t,Condition(function FSE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveInteger(L7,(OC7),(758),(N6D))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget(KR7,O07,"origin")))
call TriggerEvaluate(t)
set EC8=null
set O07=null
set t=null
endfunction
function FUE takes nothing returns boolean
if GetSpellAbilityId()==KM7 and CV7(GetSpellTargetUnit())==false then
call FTE()
endif
return false
endfunction
function VW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FUE))
set t=null
endfunction
function FVE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit FWE=(LoadUnitHandle(L7,(OC7),(17)))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call FlushChildHashtable(L7,(GetHandleId(FWE)))
call RemoveUnit(FWE)
set t=null
set FWE=null
return false
endfunction
function FXE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit FWE=(LoadUnitHandle(L7,(OC7),(2)))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call FlushChildHashtable(L7,(GetHandleId(FWE)))
call ShowUnit(FWE,false)
set t=null
set FWE=null
return false
endfunction
function FYE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit FWE=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=GetUnitAbilityLevel(EC8,KS7)
if GetTriggerEvalCount(t)==200 or GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call KillUnit(FWE)
call DestroyEffect(AddSpecialEffect(KU7,GetUnitX(FWE),GetUnitX(FWE)))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call SaveUnitHandle(L7,(OC7),(2),(FWE))
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function FXE))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,3,false)
call TriggerAddCondition(t,Condition(function FVE))
call SaveUnitHandle(L7,(OC7),(17),(FWE))
else
call SuspendHeroXP(FWE,true)
call UnitModifySkillPoints(FWE,-25)
endif
set t=null
set EC8=null
set FWE=null
return false
endfunction
function FZE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit FWE=CreateUnit(GetOwningPlayer(EC8),KT7,GetUnitX(EC8),GetUnitY(EC8),0)
local integer H98=GetUnitAbilityLevel(EC8,KS7)
local integer i=0
local item JM8
local integer FAE=1227895373
call DestroyEffect(AddSpecialEffectTarget(KU7,FWE,"chest"))
if ZC7(GetOwningPlayer(FWE))==false then
set FAE=1227903043
endif
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(EC8))==true or IsPlayerObserver(GetLocalPlayer())==true then
call SetUnitVertexColor(FWE,75,75,75,100)
endif
call SelectUnitAddForPlayer(FWE,GetOwningPlayer(EC8))
call DisableTrigger(H94)
loop
exitwhen i>5
if UnitItemInSlot(EC8,i)!=null and GetItemTypeId(UnitItemInSlot(EC8,i))!=ZU[X0]and GetItemTypeId(UnitItemInSlot(EC8,i))!=ZU[D44]and GetItemTypeId(UnitItemInSlot(EC8,i))!=ZU[VC]and GetItemTypeId(UnitItemInSlot(EC8,i))!=ZU[WC]and GetItemTypeId(UnitItemInSlot(EC8,i))!=ZU[H3]then
set JM8=CreateItem(GetItemTypeId(UnitItemInSlot(EC8,i)),0,0)
if GetItemCharges(UnitItemInSlot(EC8,i))>0 then
call SetItemCharges(JM8,GetItemCharges(UnitItemInSlot(EC8,i)))
endif
call UnitAddItem(FWE,JM8)
call SetItemPlayer(JM8,GetOwningPlayer(FWE),false)
if GetItemTypeId(JM8)==ZU[B5]or GetItemTypeId(JM8)==ZU[C5]or GetItemTypeId(JM8)==ZU[EW]then
call SetItemDropOnDeath(JM8,false)
endif
else
call UnitAddItem(FWE,CreateItem(FAE,0,0))
endif
set i=i+1
endloop
call EnableTrigger(H94)
call SetHeroLevel(FWE,GetHeroLevel(EC8),false)
set i=1
loop
exitwhen i>GetUnitAbilityLevel(EC8,1096904043)
call SelectHeroSkill(FWE,1096904043)
set i=i+1
endloop
set i=1
loop
exitwhen i>GetUnitAbilityLevel(EC8,J57)
call SelectHeroSkill(FWE,J57)
set i=i+1
endloop
set i=1
loop
exitwhen i>GetUnitAbilityLevel(EC8,K47)
call SelectHeroSkill(FWE,K47)
set i=i+1
endloop
set i=1
loop
exitwhen i>GetUnitAbilityLevel(EC8,KM7)
call SelectHeroSkill(FWE,KM7)
set i=i+1
endloop
set i=1
loop
exitwhen i>GetUnitAbilityLevel(EC8,I67)
call SelectHeroSkill(FWE,I67)
set i=i+1
endloop
set i=1
loop
exitwhen i>GetUnitAbilityLevel(EC8,KS7)
call SelectHeroSkill(FWE,KS7)
set i=i+1
endloop
call UnitRemoveAbility(FWE,KS7)
call UnitModifySkillPoints(FWE,-25)
call SuspendHeroXP(FWE,true)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterDeathEvent(t,FWE)
call TriggerAddCondition(t,Condition(function FYE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(FWE))
call SetUnitState(EC8,UNIT_STATE_LIFE,GetUnitState(EC8,UNIT_STATE_LIFE)*(1-(0.45-0.15*H98)))
call SetUnitState(EC8,UNIT_STATE_MANA,GetUnitState(EC8,UNIT_STATE_MANA)*(1-(0.45-0.15*H98)))
call SetUnitState(FWE,UNIT_STATE_LIFE,GetUnitState(EC8,UNIT_STATE_LIFE))
call SetUnitState(FWE,UNIT_STATE_MANA,GetUnitState(EC8,UNIT_STATE_MANA))
set EC8=null
set FWE=null
set t=null
endfunction
function FBE takes nothing returns boolean
if GetSpellAbilityId()==KS7 then
call FZE()
endif
return false
endfunction
function VX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FBE))
set t=null
endfunction
function FCE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local group g=CX7()
local integer H98=GetUnitAbilityLevel(EC8,KV7)
set IN4=EC8
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),375+25,Condition(function GK8))
if FirstOfGroup(g)==null then
if GetUnitAbilityLevel(EC8,KW7)!=H98 then
call LM7(EC8,KW7)
call SetUnitAbilityLevel(EC8,KW7,H98)
endif
else
if GetUnitAbilityLevel(EC8,KW7)>0 then
call UnitRemoveAbility(EC8,KW7)
endif
endif
call CW7(g)
set EC8=null
set t=null
set g=null
return false
endfunction
function F3E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function FCE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=null
set EC8=null
endfunction
function F6E takes nothing returns boolean
if GetLearnedSkill()==KV7 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),KV7)==1 then
call F3E()
endif
return false
endfunction
function VA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function F6E))
set t=null
endfunction
function FLE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local integer H98=GetUnitAbilityLevel(EC8,KX7)
local integer BHD=GetHeroAgi(EC8,true)
local real F1E=BHD*(0.1+0.04*H98)
local integer BQ9=R2I(F1E/2.0+0.5)
local integer F0E=(LoadInteger(L7,(OC7),(34)))
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==KX7 then
if F0E==KA7 then
set F0E=KB7
else
set F0E=KA7
endif
call SaveInteger(L7,(OC7),(34),(F0E))
call UnitRemoveAbility(H88,KY7)
call UnitRemoveAbility(H88,KZ7)
endif
if LO7(EC8)==true then
call UnitRemoveAbility(H88,KY7)
call UnitRemoveAbility(H88,KZ7)
else
if GetUnitAbilityLevel(H88,KY7)==0 then
call LM7(H88,KY7)
if F0E==KA7 then
call LM7(H88,KZ7)
else
endif
endif
call SetUnitAbilityLevel(H88,KY7,BQ9)
call SetUnitAbilityLevel(H88,KZ7,BQ9)
call SetUnitX(H88,GetUnitX(EC8))
call SetUnitY(H88,GetUnitY(EC8))
endif
set EC8=null
set t=null
return false
endfunction
function F5E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697657174,0,0,0)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function FLE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call SaveInteger(L7,(OC7),(34),(KA7))
call LM7(H88,KY7)
call LM7(H88,KZ7)
set t=null
set EC8=null
endfunction
function F2E takes nothing returns boolean
if GetLearnedSkill()==KX7 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),KX7)==1 then
call F5E()
endif
return false
endfunction
function VZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function F2E))
call DE8(KY7)
call DE8(KZ7)
set t=null
endfunction
function F_E takes nothing returns boolean
local real d
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(RE4))==true and IsUnitInGroup(GetFilterUnit(),RG4)==false and FY8(GetFilterUnit(),GetOwningPlayer(RF4))==true then
set d=RF7(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),GetUnitX(RE4),GetUnitY(RE4))
if d<VZ then
set RD4=GetFilterUnit()
set VZ=d
endif
endif
return false
endfunction
function G4E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit H88=U87(UC7,"Caster")
local integer BH7=UN7(UC7,"Level")
local integer HG8=UN7(UC7,"TargetIndex")
local unit m5=ZX7(HG8)
local group G7E=UG7(UC7,"AlreadyHit")
local real G8E=UO7(UC7,"StolenMana")
local real G9E=UO7(UC7,"ManaCounter")
local real GDE=UO7(UC7,"DmgCounter")
local real ZM8
local group g
local real a
local real x
local real y
set a=Atan2(GetUnitY(m5)-GetUnitY(H88),GetUnitX(m5)-GetUnitX(H88))
if p5==m5 then
set x=GetUnitX(H88)+25*Cos(a)
set y=GetUnitY(H88)+25*Sin(a)
else
set x=GetUnitX(H88)+15*Cos(a)
set y=GetUnitY(H88)+15*Sin(a)
endif
call SetUnitX(H88,x)
call SetUnitY(H88,y)
if RF7(x,y,GetUnitX(m5),GetUnitY(m5))<60 then
call SetUnitX(H88,GetUnitX(m5))
call SetUnitY(H88,GetUnitY(m5))
if p5==m5 then
call SetUnitState(p5,UNIT_STATE_MANA,GetUnitState(p5,UNIT_STATE_MANA)+G8E)
call KillUnit(H88)
call CW7(G7E)
call TN7(UC7)
call UA7(t)
else
if FU8(m5)==false or IsUnitVisible(m5,GetOwningPlayer(H88))==true then
call HD8(p5,m5,ZG4,(40+40*BH7)+0.25*GDE*(40+40*BH7))
set GDE=GDE+1
if GetUnitState(m5,UNIT_STATE_MANA)>0 then
set ZM8=RMinBJ(GetUnitState(m5,UNIT_STATE_MANA),(10+10*BH7)+0.25*G9E*(10+10*BH7))
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-ZM8)
call E48(oI,GetUnitX(m5),GetUnitY(m5))
set G8E=G8E+ZM8
set G9E=G9E+1
endif
endif
call TR7(UC7,"StolenMana",(G8E)*1.0)
call TR7(UC7,"DmgCounter",(GDE)*1.0)
call TR7(UC7,"ManaCounter",(G9E)*1.0)
set g=CX7()
set RD4=null
set RE4=m5
set RG4=G7E
set VZ=99999
set RF4=p5
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),500,Condition(function F_E))
call CW7(g)
if RD4==null or GDE==(2+BH7)then
call TQ7(UC7,"TargetIndex",ZZ7(p5))
else
call TQ7(UC7,"TargetIndex",ZZ7(RD4))
call GroupAddUnit(G7E,RD4)
endif
endif
call ZW7(HG8)
endif
set t=null
set p5=null
set m5=null
set g=null
set H88=null
set G7E=null
return false
endfunction
function GEE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BH7=GetUnitAbilityLevel(p5,1093682994)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local group g=CX7()
local real GDE=0
local real G9E=0
local real ZM8=0
local real G8E=0
local unit H88=CreateUnit(GetOwningPlayer(p5),1747990832,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call E48(eI,GetUnitX(p5),GetUnitY(p5))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function G4E))
call TC7(UC7,"AlreadyHit",g)
call TU7(UC7,"Source",p5)
call TU7(UC7,"Caster",H88)
call TQ7(UC7,"Level",BH7)
call TQ7(UC7,"TargetIndex",ZZ7(m5))
call TQ7(UC7,"Count",0)
call TR7(UC7,"StolenMana",(G8E)*1.0)
call TR7(UC7,"DmgCounter",(GDE)*1.0)
call TR7(UC7,"ManaCounter",(G9E)*1.0)
call GroupAddUnit(g,m5)
set p5=null
set m5=null
set t=null
set g=null
set H88=null
endfunction
function GFE takes nothing returns boolean
if GetSpellAbilityId()==1093682994 then
call GEE()
endif
return false
endfunction
function P88 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GFE))
set t=null
endfunction
function GGE takes nothing returns nothing
call GroupAddUnit(RJ4,GetEnumUnit())
call IssueTargetOrder(RH4,"purge",GetEnumUnit())
endfunction
function GHE takes unit EC8,unit O07 returns boolean
local real a=PO7(O07,EC8)
local real GIE=GetUnitFacing(O07)
local real c1
local real c2
local real d1=-1.0
local real d2=-1.0
local real e1
local real e2
local real f1=-1.0
local real f2=-1.0
if IsUnitVisible(EC8,GetOwningPlayer(O07))==false then
return false
endif
set c1=RMaxBJ(GIE-75,0)
set c2=GIE
if GIE-75<=0 then
set d1=360-(75-(c2-c1))
set d2=360
endif
set e1=GIE
set e2=RMinBJ(GIE+75,360)
if GIE+75>=360 then
set f1=0
set f2=0+(75-(e2-e1))
endif
if a<0 then
set a=a+360
elseif a>360 then
set a=a-360
endif
if(a>c1 and a<c2)or(d1!=-1 and a>d1 and a<d2)or(a>e1 and a<e2)or(f1!=-1 and a>f1 and a<f2)then
return true
endif
return false
endfunction
function GJE takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),RJ4)==false and GHE(IN4,GetFilterUnit())and GetUnitAbilityLevel(GetFilterUnit(),1110458961)==0
endfunction
function GKE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=U87(OC7,"Source")
local integer H98=GetUnitAbilityLevel(EC8,1093747028)
local unit H88=U87(OC7,"Caster")
local group g=CX7()
local group GAD=UG7(OC7,"AlreadyHit")
set RH4=H88
set RI4=EC8
set IN4=EC8
set RJ4=GAD
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),825,Condition(function GJE))
call ForGroup(g,function GGE)
call CW7(g)
call DestroyEffect(UH7(OC7,"FX"))
if GetTriggerEvalCount(t)>100 then
call UA7(t)
call TN7(OC7)
call CW7(GAD)
else
call TV7(OC7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl",EC8,"chest"))
endif
set EC8=null
set H88=null
set g=null
set t=null
set GAD=null
return false
endfunction
function GME takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit H88=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function GKE))
call TU7(OC7,"Source",GetTriggerUnit())
call TU7(OC7,"Caster",H88)
call LM7(H88,1093677654)
call TC7(OC7,"AlreadyHit",CX7())
call TV7(OC7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl",GetTriggerUnit(),"chest"))
call SetUnitAbilityLevel(H88,1093677654,GetUnitAbilityLevel(GetTriggerUnit(),1093747028))
call TriggerEvaluate(t)
set t=null
set H88=null
endfunction
function GNE takes nothing returns boolean
if GetSpellAbilityId()==1093747028 then
call GME()
endif
return false
endfunction
function P98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GNE))
set t=null
endfunction
function zS takes nothing returns nothing
if IH4<=tl then
set IH4=IH4+1
call GroupAddUnit(IQ4,GetEnumUnit())
endif
endfunction
function zt takes unit p5,unit m5 returns nothing
call DB8("SPLK",GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5),.1,.6,.44,.9,.6)
endfunction
function zT takes nothing returns nothing
call SetUnitState(IN4,UNIT_STATE_LIFE,GetUnitState(IN4,UNIT_STATE_LIFE)+25)
if GetUnitTypeId(GetEnumUnit())!=1848657461 then
call EL8(GetEnumUnit(),25)
endif
call zt(GetEnumUnit(),IN4)
endfunction
function zu takes nothing returns nothing
call HD8(IP4,IN4,ZG4,25)
if GetUnitTypeId(GetEnumUnit())!=1848657461 then
call EL8(GetEnumUnit(),25)
endif
call zt(GetEnumUnit(),IN4)
endfunction
function zU takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local group g=CX7()
local integer zv=GetUnitAbilityLevel(CO7,1093685813)*5
set IQ4=CX7()
set IH4=0
set tl=zv
set IN4=CO7
call GroupEnumUnitsInRange(g,GetUnitX(CO7),GetUnitY(CO7),1000,Condition(function ny))
call GroupRemoveUnit(g,CO7)
call GroupRemoveUnit(g,GetSpellTargetUnit())
call ForGroup(g,function zS)
call CW7(g)
set g=IQ4
set IN4=GetSpellTargetUnit()
set IP4=CO7
if IsUnitAlly(IN4,GetOwningPlayer(CO7))then
call ForGroup(g,function zT)
else
call ForGroup(g,function zu)
endif
call CW7(g)
set CO7=null
set g=null
endfunction
function GOE takes nothing returns boolean
if GetSpellAbilityId()==1093685813 and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_STRUCTURE)==false or GetOwningPlayer(GetSpellTargetUnit())==GetOwningPlayer(GetTriggerUnit()))then
call zU()
endif
return false
endfunction
function SD8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GOE))
set t=null
endfunction
function GPE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer GQE=UN7(UC7,"Last")
if GetTriggerEventId()==EVENT_UNIT_DEATH then
if(UP7(UC7,"SourceDone")==false and GetTriggerUnit()==U87(UC7,"Source"))then
call TT7(UC7,"SourceDone",true)
call SetHeroStr(U87(UC7,"Source"),GetHeroStr(U87(UC7,"Source"),false)-GQE,true)
elseif(UP7(UC7,"TargetDone")==false and GetTriggerUnit()==U87(UC7,"Target"))then
call TT7(UC7,"TargetDone",true)
call SetHeroStr(U87(UC7,"Target"),GetHeroStr(U87(UC7,"Target"),false)+GQE,true)
endif
else
if(UP7(UC7,"SourceDone")==false)then
call TT7(UC7,"SourceDone",true)
call SetHeroStr(U87(UC7,"Source"),GetHeroStr(U87(UC7,"Source"),false)-GQE,true)
endif
if(UP7(UC7,"TargetDone")==false)then
call TT7(UC7,"TargetDone",true)
call SetHeroStr(U87(UC7,"Target"),GetHeroStr(U87(UC7,"Target"),false)+GQE,true)
endif
call TN7(UC7)
call UA7(t)
endif
set t=null
return false
endfunction
function GRE takes nothing returns nothing
local unit p5=sZ
local unit m5=GetEnumUnit()
local integer GQE
local integer BH7=tZ
local trigger t
local integer UC7
if IsUnitType(m5,UNIT_TYPE_HERO)==true and J48(GetUnitTypeId(m5))==false then
set GQE=IMinBJ(GetHeroStr(m5,false)-1,4)
set t=CreateTrigger()
set UC7=GetHandleId(t)
call SetHeroStr(p5,GetHeroStr(p5,false)+GQE,true)
call SetHeroStr(m5,GetHeroStr(m5,false)-GQE,true)
call TriggerRegisterTimerEvent(t,20+5*BH7,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function GPE))
call TT7(UC7,"SourceDone",false)
call TT7(UC7,"TargetDone",false)
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TQ7(UC7,"Last",GQE)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",p5,"origin"))
endif
call HD8(p5,m5,ZG4,40*BH7-20)
set p5=null
set m5=null
set t=null
endfunction
function GSE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local group g=CX7()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(p5,1093743955)
local unit oA=CreateUnit(GetOwningPlayer(p5),1747990346,x,y,0)
call DestroyEffect(AddSpecialEffect("effects\\DecayGreen_Groundonly_1.mdx",x,y))
call RemoveLocation(l)
set IN4=p5
set sZ=p5
set tZ=BH7
call GroupEnumUnitsInRange(g,x,y,325+25,Condition(function F38))
call ForGroup(g,function GRE)
call CW7(g)
call KillUnit(oA)
set p5=null
set l=null
set g=null
set t=null
set oA=null
endfunction
function GTE takes nothing returns boolean
if GetSpellAbilityId()==1093743955 then
call GSE()
endif
return false
endfunction
function S88 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GTE))
set t=null
endfunction
function GUE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer HG8=UN7(UC7,"TargetIndex")
local unit m5=ZX7(HG8)
local unit GVE=U87(UC7,"Zombie")
local real VVD=GetUnitState(m5,UNIT_STATE_LIFE)
local real GWE=GetUnitState(m5,UNIT_STATE_MAX_LIFE)
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call ZW7(HG8)
call TN7(UC7)
call UA7(t)
if GetTriggerUnit()==m5 then
call KillUnit(GVE)
endif
elseif D9==true then
call ZW7(HG8)
call TN7(UC7)
call UA7(t)
call PauseUnit(GVE,true)
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER then
call DisableTrigger(t)
call IssueTargetOrder(GVE,"attack",m5)
call EnableTrigger(t)
elseif(VVD<(100*RV4)or VVD/GWE<(0.05*RV4))and GetUnitAbilityLevel(GVE,1110458702)==0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(GVE),1093744438,true)
call IssueTargetOrder(wZ[GetPlayerId(GetOwningPlayer(GVE))],"bloodlust",GVE)
call SetPlayerAbilityAvailable(GetOwningPlayer(GVE),1093744438,false)
elseif IsUnitVisible(m5,GetOwningPlayer(GVE))==false then
if(UP7(UC7,"VisionBuffer1"))==true then
if(UP7(UC7,"VisionBuffer2"))==true then
if(UP7(UC7,"VisionBuffer3"))==true then
call TN7(UC7)
call UA7(t)
call KillUnit(GVE)
else
call TT7(UC7,"VisionBuffer3",true)
endif
else
call TT7(UC7,"VisionBuffer2",true)
endif
else
call TT7(UC7,"VisionBuffer1",true)
endif
else
call TT7(UC7,"VisionBuffer1",false)
call TT7(UC7,"VisionBuffer2",false)
call TT7(UC7,"VisionBuffer3",false)
endif
set t=null
set m5=null
set GVE=null
return false
endfunction
function GXE takes nothing returns boolean
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit m5=GetEnumUnit()
local unit GVE=CreateUnit(TZ,1848657461,GetUnitX(m5),GetUnitY(m5),0)
call IssueTargetOrder(GVE,"attack",m5)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,GVE,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,GVE,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,GVE,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,GVE,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function GUE))
call TQ7(UC7,"TargetIndex",ZZ7(m5))
call TU7(UC7,"Zombie",GVE)
call TQ7(UC7,"Level",RV4)
set t=null
set m5=null
set GVE=null
return false
endfunction
function GYE takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==1848657461 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 then
call KillUnit(GetFilterUnit())
endif
return false
endfunction
function GZE takes player p returns nothing
local group g=CX7()
call GroupEnumUnitsOfPlayer(g,p,Condition(function GYE))
call CW7(g)
set g=null
endfunction
function GAE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit GBE=U87(UC7,"Acolyte1")
local unit GCE=U87(UC7,"Acolyte2")
local unit G3E=U87(UC7,"Acolyte3")
local integer BH7=UN7(UC7,"Level")
local group g
local player G6E
if ZC7(GetOwningPlayer(p5))then
set G6E=A7[0]
else
set G6E=Z7[0]
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH then
if(UP7(UC7,"NeedsFix"))then
call E88(G6E,.4,GetUnitX(p5),GetUnitY(p5),600)
endif
call TN7(UC7)
call UA7(t)
call ShowUnit(p5,false)
call RemoveUnit(GBE)
call RemoveUnit(GCE)
call RemoveUnit(G3E)
call GZE(GetOwningPlayer(p5))
else
if IsUnitVisible(p5,G6E)then
call TT7(UC7,"NeedsFix",true)
endif
set g=CX7()
set IN4=p5
set TZ=GetOwningPlayer(p5)
set RV4=BH7
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),25+200+200*BH7,Condition(function F28))
if D9==false then
call ForGroup(g,function GXE)
endif
call CW7(g)
set g=null
endif
set t=null
set p5=null
set GBE=null
set GCE=null
set G3E=null
set G6E=null
return false
endfunction
function GLE takes nothing returns nothing
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit p5
local real ZL9
local real Z19
local real G1E
local unit GBE
local unit GCE
local unit G3E
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(GetTriggerUnit(),1093743958)
local integer id
if BH7==1 then
set p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1848657482,x,y,0)
elseif BH7==2 then
set p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1848657481,x,y,0)
elseif BH7==3 then
set p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1848657462,x,y,0)
else
set p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1848657480,x,y,0)
endif
call E48(AF4,x,y)
set id=GetPlayerId(GetOwningPlayer(p5))
if wZ[id]==null then
set wZ[id]=CreateUnit(GetOwningPlayer(p5),1697657174,x,y,0)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093744438,false)
call LM7(wZ[id],1093744438)
endif
call SetUnitPosition(p5,D78(x),D88(y))
call UnitApplyTimedLife(p5,1112820806,10+5*BH7)
call RemoveLocation(l)
call D28(x,y,300)
set ZL9=x+200*Cos(0*bj_DEGTORAD)
set Z19=y+200*Sin(0*bj_DEGTORAD)
set G1E=PP7(ZL9,Z19,x,y)
set GBE=CreateUnit(GetOwningPlayer(p5),1747990344,ZL9,Z19,G1E)
call SetUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
call QueueUnitAnimation(GBE,"Stand Work Gold")
set ZL9=x+200*Cos(120*bj_DEGTORAD)
set Z19=y+200*Sin(120*bj_DEGTORAD)
set G1E=PP7(ZL9,Z19,x,y)
set GCE=CreateUnit(GetOwningPlayer(p5),1747990344,ZL9,Z19,G1E)
call SetUnitAnimation(GCE,"Stand Work Gold")
call QueueUnitAnimation(GCE,"Stand Work Gold")
call QueueUnitAnimation(GCE,"Stand Work Gold")
call QueueUnitAnimation(GCE,"Stand Work Gold")
call QueueUnitAnimation(GCE,"Stand Work Gold")
call QueueUnitAnimation(GCE,"Stand Work Gold")
call QueueUnitAnimation(GCE,"Stand Work Gold")
call QueueUnitAnimation(GCE,"Stand Work Gold")
call QueueUnitAnimation(GCE,"Stand Work Gold")
call QueueUnitAnimation(GCE,"Stand Work Gold")
call QueueUnitAnimation(GCE,"Stand Work Gold")
call QueueUnitAnimation(GCE,"Stand Work Gold")
call QueueUnitAnimation(GCE,"Stand Work Gold")
call QueueUnitAnimation(GCE,"Stand Work Gold")
call QueueUnitAnimation(GCE,"Stand Work Gold")
call QueueUnitAnimation(GCE,"Stand Work Gold")
call QueueUnitAnimation(GCE,"Stand Work Gold")
set ZL9=x+200*Cos(240*bj_DEGTORAD)
set Z19=y+200*Sin(240*bj_DEGTORAD)
set G1E=PP7(ZL9,Z19,x,y)
set G3E=CreateUnit(GetOwningPlayer(p5),1747990344,ZL9,Z19,G1E)
call SetUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call QueueUnitAnimation(G3E,"Stand Work Gold")
call SetUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call QueueUnitAnimation(p5,"Stand Work")
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,3,true)
call TriggerAddCondition(t,Condition(function GAE))
call TU7(UC7,"Source",p5)
call TU7(UC7,"Acolyte1",GBE)
call TU7(UC7,"Acolyte2",GCE)
call TU7(UC7,"Acolyte3",G3E)
call TQ7(UC7,"Level",BH7)
call TT7(UC7,"NeedsFix",false)
call TriggerEvaluate(t)
set p5=null
set GBE=null
set GCE=null
set G3E=null
set l=null
set t=null
endfunction
function G0E takes nothing returns boolean
if GetSpellAbilityId()==1093743958 then
call GLE()
endif
return false
endfunction
function S98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function G0E))
set t=null
endfunction
function G5E takes unit KLD returns boolean
if SV7(KLD,ZU[FC4])!=null then
return true
endif
return false
endfunction
function G2E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local integer BH7=GetUnitAbilityLevel(p5,1093743946)
call SetUnitAbilityLevel(p5,1093743947,BH7)
call TN7(UC7)
call UA7(t)
set t=null
set p5=null
return false
endfunction
function G_E takes nothing returns nothing
if IsUnitType(IN4,UNIT_TYPE_HERO)==true then
if G5E(IP4)then
call SetUnitState(IP4,UNIT_STATE_LIFE,GetUnitState(IP4,UNIT_STATE_LIFE)+GetUnitState(IP4,UNIT_STATE_MAX_LIFE)*0.10)
else
call SetUnitState(IP4,UNIT_STATE_LIFE,GetUnitState(IP4,UNIT_STATE_LIFE)+GetUnitState(IP4,UNIT_STATE_MAX_LIFE)*0.06)
endif
else
if G5E(IP4)then
call SetUnitState(IP4,UNIT_STATE_LIFE,GetUnitState(IP4,UNIT_STATE_LIFE)+GetUnitState(IP4,UNIT_STATE_MAX_LIFE)*0.03)
else
call SetUnitState(IP4,UNIT_STATE_LIFE,GetUnitState(IP4,UNIT_STATE_LIFE)+GetUnitState(IP4,UNIT_STATE_MAX_LIFE)*0.02)
endif
endif
endfunction
function H4E takes nothing returns boolean
local trigger t2=GetTriggeringTrigger()
local integer B49=GetHandleId(t2)
local trigger t1=UF7(B49,"t1")
local integer PSD=GetHandleId(t1)
local unit p5=U87(B49,"Source")
local unit m5
local real d
local real a
local boolean H7E=UP7(B49,"IgnorePlague")
if(GetTriggerEventId()==EVENT_UNIT_DEATH and GetTriggerUnit()==p5)or(GetTriggerEventId()!=EVENT_UNIT_DAMAGED and GetTriggerEventId()!=EVENT_UNIT_DEATH)then
call TN7(PSD)
call TN7(B49)
call UA7(t1)
call UA7(t2)
elseif GetTriggerEventId()==EVENT_UNIT_DEATH then
if IsUnitIllusion(GetDyingUnit())==false then
call EK8(GetDyingUnit(),p5,1747990361,"G_E",600)
endif
elseif H7E==false then
set m5=GetTriggerUnit()
set d=RE7(p5,m5)
if d<775 and GetEventDamage()>4 then
if G5E(p5)then
set a=20+5*WZ
else
set a=15+5*WZ
endif
if d>200 then
set a=a-15*((d-150)/(775-150))
endif
call TT7(B49,"IgnorePlague",true)
call HD8(GetEventDamageSource(),GetTriggerUnit(),ZI4,GetEventDamage()*a/ 100)
call TT7(B49,"IgnorePlague",false)
endif
endif
set t2=null
set t1=null
set p5=null
set m5=null
return false
endfunction
function H8E takes nothing returns boolean
local trigger t1=GetTriggeringTrigger()
local integer PSD=GetHandleId(t1)
local trigger t2=UF7(PSD,"t2")
local integer B49=GetHandleId(t2)
local unit m5=GetTriggerUnit()
local unit p5=U87(PSD,"Source")
if IsUnitEnemy(p5,GetOwningPlayer(m5))==true and IsUnitType(m5,UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(m5,1093678162)==0 then
if UP7(B49,"Registered"+I2S(GetHandleId(m5)))==false then
call TriggerRegisterUnitEvent(t2,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t2,m5,EVENT_UNIT_DEATH)
call TT7(B49,"Registered"+I2S(GetHandleId(m5)),true)
endif
endif
set t1=null
set t2=null
set m5=null
set p5=null
return false
endfunction
function H9E takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t1=CreateTrigger()
local integer PSD=GetHandleId(t1)
local trigger t2=CreateTrigger()
local integer B49=GetHandleId(t2)
local trigger t3=CreateTrigger()
local integer HDE=GetHandleId(t3)
local integer BH7=GetUnitAbilityLevel(p5,1093743946)
set WZ=BH7
call TriggerRegisterUnitInRange(t1,p5,750,Condition(function ZV7))
call TriggerAddCondition(t1,Condition(function H8E))
call TW7(PSD,"t2",t2)
call TU7(PSD,"Source",p5)
call TriggerRegisterTimerEvent(t2,30,false)
call TriggerRegisterUnitEvent(t2,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t2,Condition(function H4E))
call TW7(B49,"t1",t1)
call TU7(B49,"Source",p5)
call TT7(B49,"IgnorePlague",false)
call TriggerRegisterTimerEvent(t3,0.01,false)
call TriggerAddCondition(t3,Condition(function G2E))
call TU7(HDE,"Source",p5)
set p5=null
set t1=null
set t2=null
set t3=null
endfunction
function HEE takes nothing returns boolean
if GetSpellAbilityId()==1093743946 and GetUnitTypeId(GetTriggerUnit())==1211117650 then
call H9E()
endif
return false
endfunction
function SE8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HEE))
call DE8(1093743947)
set t=null
endfunction
function HFE takes nothing returns nothing
local unit O07=GetEnumUnit()
local unit EC8=RX4
local real HGE=GetUnitState(O07,UNIT_STATE_LIFE)
local real HHE=GetUnitState(O07,UNIT_STATE_MAX_LIFE)
local real HIE=((0.003+0.003*RY4)*HHE)/2
if HGE<HIE then
call SetUnitState(O07,UNIT_STATE_LIFE,1)
call HD8(EC8,O07,ZI4,100)
call HD8(EC8,O07,ZG4,100)
call HD8(EC8,O07,ZH4,100)
else
call SetUnitState(O07,UNIT_STATE_LIFE,DR8(GetUnitState(O07,UNIT_STATE_LIFE)-HIE,1))
endif
set O07=null
set EC8=null
endfunction
function HJE takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),1110456372)>0
endfunction
function HKE takes nothing returns boolean
local integer UC7=GetHandleId(GetTriggeringTrigger())
local unit p5=U87(UC7,"Source")
local group g
if LO7(p5)==false then
set g=CX7()
set IN4=p5
set RX4=p5
set RY4=GetUnitAbilityLevel(p5,1093677390)
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),1025,Condition(function HJE))
call ForGroup(g,function HFE)
call CW7(g)
endif
set g=null
set p5=null
return false
endfunction
function HME takes unit CO7,boolean A_9 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function HKE))
call TU7(GetHandleId(t),"Source",CO7)
if A_9 then
set aj[GetPlayerId(GetOwningPlayer(CO7))]=t
endif
set t=null
endfunction
function HNE takes nothing returns boolean
if GetLearnedSkill()==1093677390 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093677390)==1 then
call HME(GetTriggerUnit(),false)
endif
return false
endfunction
function PG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function HNE))
set t=null
endfunction
function HOE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer H98=GetUnitAbilityLevel(EC8,1093678640)
local real HPE=2*H98
local real HQE=H98
local integer CH9=(LoadInteger(L7,(OC7),(34)))
if H98==4 then
set HPE=10
endif
set HQE=HQE*CH9
set HPE=HPE*CH9
call SetUnitState(EC8,UNIT_STATE_MANA,GetUnitState(EC8,UNIT_STATE_MANA)+HPE)
call SetUnitState(EC8,UNIT_STATE_LIFE,GetUnitState(EC8,UNIT_STATE_LIFE)+HQE)
if GetTriggerEvalCount(t)>5 or GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
return false
endfunction
function HRE takes nothing returns nothing
local unit EC8=GetKillingUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093678640)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",EC8,"origin"))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerAddCondition(t,Condition(function HOE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
call SaveInteger(L7,(OC7),(34),(10))
else
call SaveInteger(L7,(OC7),(34),(1))
endif
set EC8=null
set t=null
endfunction
function HSE takes nothing returns boolean
if GetUnitAbilityLevel(GetKillingUnit(),1110454866)>0 then
call HRE()
endif
return false
endfunction
function PD8 takes nothing returns nothing
set Dk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Dk,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(Dk,Condition(function HSE))
endfunction
function HTE takes nothing returns nothing
local integer OC7=GetHandleId(GetTriggeringTrigger())
local unit EC8=IN4
local unit O07=IP4
local real B19=UO7(OC7,"Damage")
local real N0D=UO7(OC7,"Heal")
if IsUnitAlly(O07,GetOwningPlayer(EC8))then
call SetUnitState(O07,UNIT_STATE_LIFE,GetUnitState(O07,UNIT_STATE_LIFE)+N0D)
else
call HD8(EC8,O07,ZG4,B19)
endif
set EC8=null
set O07=null
endfunction
function HUE takes nothing returns nothing
local trigger t=EK8(IN4,GetEnumUnit(),1747988567,"HTE",400)
local integer UC7=GetHandleId(t)
call TR7(UC7,"Damage",IJ4)
call TR7(UC7,"Heal",IK4)
set t=null
endfunction
function HVE takes nothing returns nothing
if IsUnitVisible(GetEnumUnit(),GetOwningPlayer(IN4))then
call HUE()
endif
endfunction
function HWE takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local group g=CX7()
local integer H98=GetUnitAbilityLevel(CC7,PS4)
local real r
local real B19
local real N0D
if H98==1 then
set B19=75
set N0D=70
set r=500
elseif H98==2 then
set B19=125
set N0D=90
set r=500
elseif H98==3 then
set B19=200
set N0D=110
set r=500
elseif H98==4 then
set B19=275
set N0D=130
set r=500
endif
set IN4=CC7
set IJ4=B19
set IK4=N0D
call GroupEnumUnitsInRange(g,GetUnitX(CC7),GetUnitY(CC7),r,Condition(function GN8))
call GroupRemoveUnit(g,CC7)
call ForGroup(g,function HVE)
call CW7(g)
call SetUnitState(CC7,UNIT_STATE_LIFE,GetUnitState(CC7,UNIT_STATE_LIFE)+N0D)
set CC7=null
set g=null
endfunction
function HXE takes nothing returns boolean
if GetSpellAbilityId()==PS4 then
call HWE()
endif
return false
endfunction
function PE8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HXE))
set t=null
endfunction
function HYE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local real CH9=(LoadReal(L7,(OC7),(680)))
local integer HZE=GetUnitAbilityLevel(EC8,1093679184)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",O07,"origin"))
if HZE>0 then
set IY7=true
call HD8(EC8,O07,ZG4,CH9*(GetUnitState(O07,UNIT_STATE_MAX_LIFE)-GetUnitState(O07,UNIT_STATE_LIFE)))
set IY7=false
else
call HD8(EC8,O07,ZG4,CH9*(GetUnitState(O07,UNIT_STATE_MAX_LIFE)-GetUnitState(O07,UNIT_STATE_LIFE)))
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function HAE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer HBE=GetUnitAbilityLevel(EC8,1093678647)
local integer HCE=GetUnitAbilityLevel(EC8,1093679184)
local real CH9
if HBE==1 then
set CH9=0.4
elseif HBE==2 or HCE==1 then
set CH9=0.6
elseif HBE==3 or HCE==2 then
set CH9=0.9
elseif HCE==3 then
set CH9=1.2
endif
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveReal(L7,(OC7),(680),((CH9)*1.0))
call TriggerRegisterTimerEvent(t,1.5,false)
call TriggerAddCondition(t,Condition(function HYE))
set t=null
set EC8=null
set O07=null
endfunction
function H3E takes nothing returns boolean
if(GetSpellAbilityId()==1093678647 or GetSpellAbilityId()==1093679184)and CV7(GetSpellTargetUnit())==false then
call HAE()
endif
return false
endfunction
function PF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function H3E))
set t=null
endfunction
function H6E takes nothing returns boolean
return GetSpellAbilityId()==1093682521 or GetSpellAbilityId()==1093682760 or GetSpellAbilityId()==1093682736
endfunction
function HLE takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)!=1
endfunction
function H1E takes nothing returns nothing
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),75*GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId()),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEATH,WEAPON_TYPE_WHOKNOWS)
endfunction
function H0E takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local unit H88
local group B_9=CX7()
local boolexpr QTD=Condition(function HLE)
local real L97=GetUnitFacing(CC7)
local real x
local real y
if GetSpellAbilityId()==1093682521 then
set x=GetUnitX(CC7)+200*Cos(L97*bj_DEGTORAD)
set y=GetUnitY(CC7)+200*Sin(L97*bj_DEGTORAD)
set H88=CreateUnit(GetOwningPlayer(CC7),1697656886,x,y,0)
call UnitApplyTimedLife(H88,1112820806,2.)
call GroupEnumUnitsInRange(B_9,x,y,275.,QTD)
call ForGroup(B_9,function H1E)
call GroupClear(B_9)
elseif GetSpellAbilityId()==1093682760 then
set x=GetUnitX(CC7)+450*Cos(L97*bj_DEGTORAD)
set y=GetUnitY(CC7)+450*Sin(L97*bj_DEGTORAD)
set H88=CreateUnit(GetOwningPlayer(CC7),1697656886,x,y,0)
call UnitApplyTimedLife(H88,1112820806,2.)
call GroupEnumUnitsInRange(B_9,x,y,275.,QTD)
call ForGroup(B_9,function H1E)
call GroupClear(B_9)
elseif GetSpellAbilityId()==1093682736 then
set x=GetUnitX(CC7)+700*Cos(L97*bj_DEGTORAD)
set y=GetUnitY(CC7)+700*Sin(L97*bj_DEGTORAD)
set H88=CreateUnit(GetOwningPlayer(CC7),1697656886,x,y,0)
call UnitApplyTimedLife(H88,1112820806,2.)
call GroupEnumUnitsInRange(B_9,x,y,275.,QTD)
call ForGroup(B_9,function H1E)
call GroupClear(B_9)
endif
call CW7(B_9)
call DestroyBoolExpr(QTD)
set CC7=null
set H88=null
set B_9=null
set QTD=null
endfunction
function PI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(t,function H0E)
call TriggerAddCondition(t,Condition(function H6E))
set t=null
endfunction
function H5E takes nothing returns nothing
if(GetLearnedSkill()==1093682521)then
if(GetUnitAbilityLevelSwapped(1093682521,GetTriggerUnit())==1)then
call UnitAddAbility(GetTriggerUnit(),1093682736)
call UnitAddAbility(GetTriggerUnit(),1093682760)
else
call SetUnitAbilityLevelSwapped(1093682736,GetTriggerUnit(),GetUnitAbilityLevelSwapped(1093682521,GetTriggerUnit()))
call SetUnitAbilityLevelSwapped(1093682760,GetTriggerUnit(),GetUnitAbilityLevelSwapped(1093682521,GetTriggerUnit()))
endif
endif
if(GetLearnedSkill()==1093681746)then
if(GetUnitAbilityLevelSwapped(1093681746,GetTriggerUnit())==1)then
call UnitAddAbility(GetTriggerUnit(),1093682001)
endif
endif
endfunction
function RM takes nothing returns nothing
set DK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DK,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(DK,function H5E)
endfunction
function H2E takes nothing returns boolean
return GetSpellAbilityId()==1093810506 or GetSpellAbilityId()==1093750096
endfunction
function H_E takes unit CO7,integer I4E returns nothing
local integer I7E=I4E
local integer Zd
local integer U8
local location Mk=GetUnitLoc(GetTriggerUnit())
local location sA
local integer BH7=GetUnitAbilityLevelSwapped(1093810506,GetTriggerUnit())
if BH7==0 then
return
endif
set I7E=I7E/2
set Zd=1
set U8=I7E
loop
exitwhen Zd>U8
set sA=RT7(Mk,50.,(I2R(Zd)*(360/I7E)))
call CreateNUnitsAtLoc(1,1697656899,GetOwningPlayer(CO7),Mk,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,1093683271)
call SetUnitAbilityLevelSwapped(1093683271,bj_lastCreatedUnit,BH7)
call UnitApplyTimedLifeBJ(2.,1112820806,bj_lastCreatedUnit)
call IssuePointOrderLoc(bj_lastCreatedUnit,"carrionswarm",sA)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitInvulnerable(bj_lastCreatedUnit,true)
call UnitAddAbility(bj_lastCreatedUnit,1097625443)
call RemoveLocation(sA)
set Zd=Zd+1
endloop
call RemoveLocation(Mk)
set Mk=null
set CO7=null
set sA=null
endfunction
function I8E takes nothing returns nothing
local integer I7E=(LoadInteger(L7,(GetHandleId(GetTriggerUnit())),(710)))
local unit YK9=GetTriggerUnit()
call H_E(YK9,I7E)
set YK9=null
endfunction
function PJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function H2E))
call TriggerAddAction(t,function I8E)
set t=null
endfunction
function I9E takes nothing returns nothing
local integer OC7=GetHandleId(GetTriggeringTrigger())
local unit EC8=IP4
local unit O07=IN4
local integer I7E=GetUnitAbilityLevel(EC8,1093682001)
local integer IDE
local integer H98=GetUnitAbilityLevel(EC8,1093681746)
if H98==1 then
set IDE=12
elseif H98==2 then
set IDE=20
elseif H98==3 then
set IDE=28
else
set IDE=36
endif
set IDE=IDE+1
if IsUnitType(O07,UNIT_TYPE_HERO)==false then
set I7E=I7E+1
else
set I7E=I7E+12
endif
set I7E=IMinBJ(IDE,I7E)
call SetUnitAbilityLevel(EC8,1093682001,I7E)
call SaveInteger(L7,(GetHandleId(EC8)),(710),(I7E))
set EC8=null
endfunction
function IEE takes nothing returns nothing
local integer I7E
local integer H98
local integer IDE
local trigger t
local integer OC7
local unit EC8=GetKillingUnit()
if GetUnitTypeId(EC8)==1697656899 then
set EC8=M7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]
endif
set I7E=GetUnitAbilityLevel(EC8,1093682001)
set H98=GetUnitAbilityLevel(EC8,1093681746)
if H98==1 then
set IDE=12
elseif H98==2 then
set IDE=20
elseif H98==3 then
set IDE=28
else
set IDE=36
endif
if I7E<=IDE then
set t=EK8(GetTriggerUnit(),EC8,1747993426,"I9E",500)
set OC7=GetHandleId(t)
set t=null
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\ZigguratMissile\\ZigguratMissile.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
endif
set EC8=null
endfunction
function IFE takes nothing returns nothing
local integer IGE=(LoadInteger(L7,(GetHandleId(GetTriggerUnit())),(710)))
call SaveInteger(L7,(GetHandleId(GetTriggerUnit())),(710),(R2I(GetUnitAbilityLevel(GetTriggerUnit(),1093682001)*0.5)+1))
call SetUnitAbilityLevel(GetTriggerUnit(),1093682001,R2I(GetUnitAbilityLevel(GetTriggerUnit(),1093682001)*.5)+1)
call H_E(GetTriggerUnit(),IGE-(LoadInteger(L7,(GetHandleId(GetTriggerUnit())),(710))))
endfunction
function IHE takes nothing returns boolean
if GetUnitAbilityLevel(GetKillingUnit(),1093681746)>0 and IsUnitIllusion(GetTriggerUnit())==false then
call IEE()
elseif GetUnitAbilityLevel(M7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))],1093681746)>0 and GetUnitTypeId(GetKillingUnit())==1697656899 then
call IEE()
endif
if GetUnitAbilityLevel(GetTriggerUnit(),1093681746)>0 and IsUnitIllusion(GetTriggerUnit())==false then
call IFE()
endif
return false
endfunction
function IIE takes nothing returns boolean
local unit CC7=M7[GetPlayerId(GetTriggerPlayer())]
local integer IJE=GetUnitAbilityLevel(CC7,1093682001)-1
local integer IKE=0
local integer H98=GetUnitAbilityLevel(CC7,1093681746)
if H98==1 then
set IKE=12
elseif H98==2 then
set IKE=20
elseif H98==3 then
set IKE=28
elseif H98==4 then
set IKE=36
endif
set IJE=IMaxBJ(IMinBJ(IJE,IKE),0)
if GetUnitTypeId(CC7)==1315334514 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetObjectName(1848658757)+" "+I2S(IJE)+"/"+I2S(IKE))
endif
set CC7=null
return false
endfunction
function PH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function IHE))
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function IIE))
set t=null
endfunction
function IME takes nothing returns boolean
if(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true)then
return false
endif
if(GetUnitAbilityLevelSwapped(1093678162,GetFilterUnit())==1)then
return false
endif
if(IsUnitAliveBJ(GetFilterUnit())==false)then
return false
endif
if(GetUnitTypeId(GetFilterUnit())==1865429043)then
return false
endif
if(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())==false)then
return false
endif
if(GetTriggerUnit()==GetFilterUnit())then
return false
endif
if(IsUnitVisible(GetFilterUnit(),GetTriggerPlayer())==false)then
return false
endif
return true
endfunction
function INE takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local location Mk=GetUnitLoc(CO7)
local integer BH7=GetUnitAbilityLevelSwapped(1093810506,GetTriggerUnit())
if BH7==0 then
set BH7=GetUnitAbilityLevelSwapped(1093750096,GetTriggerUnit())
endif
call CreateNUnitsAtLoc(1,1697656899,GetOwningPlayer(GetEnumUnit()),Mk,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,1093683272)
call SetUnitAbilityLevelSwapped(1093683272,bj_lastCreatedUnit,BH7)
call UnitApplyTimedLifeBJ(2.,1112820806,bj_lastCreatedUnit)
call IssueTargetOrder(bj_lastCreatedUnit,"cripple",GetEnumUnit())
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitInvulnerable(bj_lastCreatedUnit,true)
call UnitAddAbility(bj_lastCreatedUnit,1097625443)
call RemoveLocation(Mk)
set Mk=null
set CO7=null
endfunction
function IOE takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local location Mk=GetUnitLoc(CO7)
local integer BH7=GetUnitAbilityLevelSwapped(1093810506,GetTriggerUnit())
if BH7==0 then
set BH7=GetUnitAbilityLevelSwapped(1093750096,GetTriggerUnit())
endif
call CreateNUnitsAtLoc(1,1697656899,GetOwningPlayer(GetEnumUnit()),Mk,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,1093683272)
call SetUnitAbilityLevelSwapped(1093683272,bj_lastCreatedUnit,BH7)
call UnitApplyTimedLifeBJ(2.,1112820806,bj_lastCreatedUnit)
call IssueTargetOrder(bj_lastCreatedUnit,"cripple",GetEnumUnit())
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitInvulnerable(bj_lastCreatedUnit,true)
call UnitAddAbility(bj_lastCreatedUnit,1097625443)
call RemoveLocation(Mk)
set Mk=null
set CO7=null
endfunction
function IPE takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local location Mk=GetUnitLoc(CO7)
local integer BH7=GetUnitAbilityLevelSwapped(1093810506,GetTriggerUnit())
if BH7==0 then
set BH7=GetUnitAbilityLevelSwapped(1093750096,GetTriggerUnit())
endif
call CreateNUnitsAtLoc(1,1697656899,GetOwningPlayer(GetEnumUnit()),Mk,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,1093683272)
call SetUnitAbilityLevelSwapped(1093683272,bj_lastCreatedUnit,BH7)
call UnitApplyTimedLifeBJ(2.,1112820806,bj_lastCreatedUnit)
call IssueTargetOrder(bj_lastCreatedUnit,"cripple",GetEnumUnit())
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitInvulnerable(bj_lastCreatedUnit,true)
call UnitAddAbility(bj_lastCreatedUnit,1097625443)
call RemoveLocation(Mk)
set Mk=null
set CO7=null
endfunction
function IQE takes nothing returns nothing
local location Mk=GetUnitLoc(GetTriggerUnit())
local unit CO7=GetTriggerUnit()
local group IB8
set IB8=CX7()
call GroupEnumUnitsInRangeOfLoc(IB8,Mk,700,Condition(function IME))
call ForGroup(IB8,function INE)
call CW7(IB8)
set IB8=CX7()
call GroupEnumUnitsInRangeOfLoc(IB8,Mk,400,Condition(function IME))
call ForGroup(IB8,function IOE)
call CW7(IB8)
set IB8=CX7()
call GroupEnumUnitsInRangeOfLoc(IB8,Mk,200,Condition(function IME))
call ForGroup(IB8,function IPE)
call CW7(IB8)
call RemoveLocation(Mk)
set Mk=null
set CO7=null
set IB8=null
endfunction
function PK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function H2E))
call TriggerAddAction(t,function IQE)
set t=null
endfunction
function IRE takes nothing returns boolean
return GetSpellAbilityId()==1093677640
endfunction
function ISE takes nothing returns nothing
local unit oA
if(L_7()==false)then
set oA=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),bj_UNIT_FACING)
call LM7(oA,1093677650)
call IssueTargetOrderById(oA,852075,GetSpellTargetUnit())
else
set oA=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),bj_UNIT_FACING)
call LM7(oA,1093748785)
call IssueTargetOrderById(oA,852075,GetSpellTargetUnit())
endif
set oA=null
endfunction
function PN8 takes nothing returns nothing
set Dm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Dm,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Dm,Condition(function IRE))
call TriggerAddAction(Dm,function ISE)
endfunction
function ITE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer C97=GetHandleId(t)
local unit F9D=(LoadUnitHandle(L7,(C97),(2)))
local unit IUE=(LoadUnitHandle(L7,(C97),(19)))
call ResetUnitAnimation(F9D)
call RemoveUnit(IUE)
call FlushChildHashtable(L7,(C97))
call UA7(t)
set F9D=null
set IUE=null
set t=null
return false
endfunction
function IVE takes nothing returns nothing
local unit F9D=GetTriggerUnit()
local unit IUE=CreateUnit(GetOwningPlayer(F9D),1966092617,GetUnitX(F9D),GetUnitY(F9D),GetUnitFacing(F9D))
local trigger t=CreateTrigger()
local integer C97=GetHandleId(t)
call TriggerRegisterUnitEvent(t,F9D,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function ITE))
call SaveUnitHandle(L7,(C97),(2),(F9D))
call SaveUnitHandle(L7,(C97),(19),(IUE))
call SetUnitVertexColorBJ(IUE,0,0,0,75)
call SetUnitAnimation(IUE,"spell third")
set F9D=null
set IUE=null
set t=null
endfunction
function IWE takes nothing returns boolean
if GetSpellAbilityId()==1093679171 and GetUnitAbilityLevel(GetTriggerUnit(),1093679171)<5 then
call IVE()
endif
return false
endfunction
function PO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function IWE))
set t=null
endfunction
function IXE takes nothing returns boolean
local integer OC7=GetHandleId(GetTriggeringTrigger())
local unit IYE=U87(OC7,"NightStalker")
local unit IZE=U87(OC7,"VisionUnit")
if IYE==null or LO7(IYE)or L_7()or(SV7(IYE,ZU[GE4])==null and SV7(IYE,ZU[GX4])==null)then
call ShowUnit(IZE,false)
else
call ShowUnit(IZE,true)
call SetUnitX(IZE,GetUnitX(IYE))
call SetUnitY(IZE,GetUnitY(IYE))
endif
if GetOwningPlayer(IZE)!=GetOwningPlayer(IYE)then
call SetUnitOwner(IZE,GetOwningPlayer(IYE),true)
endif
set IYE=null
set IZE=null
return false
endfunction
function IAE takes nothing returns nothing
local integer UC7=GetHandleId(GetTriggeringTrigger())
local unit IYE=U87(UC7,"NightStalker")
if IYE!=null and L_7()and LO7(IYE)==false then
call UnitRemoveAbility(IYE,1093742902)
call UnitRemoveAbility(IYE,1093742903)
call SetUnitAbilityLevel(IYE,1395667009,5)
call SetUnitAbilityLevel(IYE,1093679171,5)
elseif IYE!=null and L_7()==false and LO7(IYE)==false then
call LM7(IYE,1093742902)
call LM7(IYE,1093742903)
call SetUnitAbilityLevel(IYE,1395667009,GetUnitAbilityLevel(IYE,1093679158))
call SetUnitAbilityLevel(IYE,1093679171,GetUnitAbilityLevel(IYE,1093679173))
endif
set IYE=null
endfunction
function IBE takes unit IYE,boolean A_9,integer ICE returns nothing
local integer OC7=GetHandleId(IYE)
local trigger t
if UP7(OC7,"NightStalkerAlreadyLearned")==false or A_9 then
call TT7(OC7,"NightStalkerAlreadyLearned",true)
set t=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(t,2.00)
call TriggerRegisterGameStateEventTimeOfDay(t,LESS_THAN,6.00)
call TriggerRegisterGameStateEventTimeOfDay(t,GREATER_THAN,18.00)
call TriggerAddAction(t,function IAE)
call TU7(GetHandleId(t),"NightStalker",IYE)
if A_9 then
if ICE==1093679173 then
set aj[GetPlayerId(GetOwningPlayer(IYE))]=t
elseif ICE==1093679158 then
set nj[GetPlayerId(GetOwningPlayer(IYE))]=t
endif
endif
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function IXE))
call TU7(OC7,"NightStalker",IYE)
call TU7(OC7,"VisionUnit",CreateUnit(GetOwningPlayer(IYE),1865429313,GetUnitX(IYE),GetUnitY(IYE),0))
if A_9 then
if ICE==1093679173 then
set Rj[GetPlayerId(GetOwningPlayer(IYE))]=t
elseif ICE==1093679158 then
set Aj[GetPlayerId(GetOwningPlayer(IYE))]=t
endif
endif
endif
if(ICE==1093679158)then
call LM7(IYE,1395667009)
if(L_7())then
call SetUnitAbilityLevel(IYE,1395667009,5)
else
call SetUnitAbilityLevel(IYE,1395667009,GetUnitAbilityLevel(IYE,1093679158))
endif
endif
if(ICE==1093679173)then
call UnitAddAbility(IYE,1093679171)
if(L_7())then
call SetUnitAbilityLevel(IYE,1093679171,5)
else
call SetUnitAbilityLevel(IYE,1093679171,GetUnitAbilityLevel(IYE,1093679173))
endif
endif
set t=null
endfunction
function I3E takes nothing returns boolean
if(GetLearnedSkill()==1093679158 or GetLearnedSkill()==1093679173)and IsUnitIllusion(GetTriggerUnit())==false then
call IBE(GetTriggerUnit(),false,GetLearnedSkill())
endif
return false
endfunction
function PM8 takes nothing returns nothing
set NJ=CreateTrigger()
call D18(NJ,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(NJ,Condition(function I3E))
endfunction
function I6E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local integer HG8=UN7(UC7,"TargetIndex")
local unit m5=ZX7(HG8)
call UnitRemoveAbility(p5,1093747535)
call TN7(UC7)
call UA7(t)
set t=null
set p5=null
set m5=null
return false
endfunction
function ILE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BH7=GetUnitAbilityLevel(p5,1093685324)
local trigger t
local integer UC7
call DestroyEffect(AddSpecialEffect("war3mapImported\\PhantomStrike.mdx",GetUnitX(p5),GetUnitY(p5)))
call SetUnitX(p5,GetUnitX(m5))
call SetUnitY(p5,GetUnitY(m5))
if IsUnitAlly(p5,GetOwningPlayer(m5))==false then
set t=CreateTrigger()
set UC7=GetHandleId(t)
call LM7(p5,1093747535)
call TQ7(GetHandleId(p5),"Count",0)
call TU7(GetHandleId(p5),"Target",m5)
call IssueTargetOrder(p5,"attack",m5)
if(GetPlayerController(GetOwningPlayer(p5))!=MAP_CONTROL_USER)then
call R47(0.01)
call IssueTargetOrder(p5,"attack",m5)
endif
call TriggerRegisterTimerEvent(t,3,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function I6E))
call TU7(UC7,"Source",p5)
call TQ7(UC7,"TargetIndex",ZZ7(m5))
endif
set p5=null
set m5=null
set t=null
endfunction
function I1E takes nothing returns boolean
if GetSpellAbilityId()==1093685324 then
call ILE()
endif
return false
endfunction
function I0E takes unit p5 returns nothing
local integer UC7=GetHandleId(p5)
local unit m5=U87(UC7,"Target")
local integer YL9=UN7(UC7,"Count")
if GetTriggerUnit()!=m5 or YL9>=4 then
call UnitRemoveAbility(p5,1093747535)
call TN7(UC7)
else
set YL9=YL9+1
call TQ7(UC7,"Count",YL9)
endif
set m5=null
endfunction
function I5E takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093747535)>0 then
call I0E(GetAttacker())
endif
return false
endfunction
function PR8 takes nothing returns nothing
local trigger t=CreateTrigger()
local trigger t2=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function I1E))
call D18(t2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t2,Condition(function I5E))
set t=null
set t2=null
endfunction
function I2E takes unit EC8,boolean I_E returns nothing
local integer H98=GetUnitAbilityLevel(EC8,1093677904)
if I_E==false then
call UnitRemoveAbility(EC8,1093743430)
call UnitRemoveAbility(EC8,1110458674)
else
call LM7(EC8,1093743430)
endif
endfunction
function J4E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local group g
local integer CP8=(LoadInteger(L7,(OC7),(34)))
local boolean J7E=(LoadBoolean(L7,(OC7),(674)))
set CP8=CP8+1
call SaveInteger(L7,(OC7),(34),(CP8))
if EC8!=null and LO7(EC8)==false and GetUnitAbilityLevel(EC8,1093677904)>0 then
set IN4=EC8
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),1625,Condition(function FZ8))
if FirstOfGroup(g)==null then
if J7E==true and CP8>15 then
set J7E=false
call SaveBoolean(L7,(OC7),(674),(J7E))
set CP8=0
call SaveInteger(L7,(OC7),(34),(CP8))
endif
if J7E==false then
set CP8=0
call SaveInteger(L7,(OC7),(34),(CP8))
call SaveInteger(L7,(GetHandleId((EC8))),((4302)),(2))
call I2E(EC8,false)
call SetUnitVertexColorBJ(EC8,100,100,100,0)
if GetUnitAbilityLevel(EC8,1093808211)==0 then
call UnitSetUsesAltIcon(EC8,false)
endif
endif
else
if J7E==false and CP8>15 then
set J7E=true
set CP8=0
call SaveBoolean(L7,(OC7),(674),(J7E))
call SaveInteger(L7,(OC7),(34),(CP8))
endif
if J7E==true then
set CP8=0
call SaveInteger(L7,(OC7),(34),(CP8))
call SaveInteger(L7,(GetHandleId((EC8))),((4302)),(1))
call I2E(EC8,true)
call SetUnitVertexColorBJ(EC8,100,100,100,75)
if IsPlayerEnemy(GetOwningPlayer(EC8),GetLocalPlayer())==true and CM7(GetLocalPlayer())==false then
call UnitSetUsesAltIcon(EC8,true)
else
call UnitSetUsesAltIcon(EC8,false)
endif
endif
endif
call CW7(g)
set g=null
endif
set t=null
set EC8=null
return false
endfunction
function J8E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function J4E))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveInteger(L7,(OC7),(34),(0))
call SaveBoolean(L7,(OC7),(674),(false))
set t=null
set EC8=null
endfunction
function J9E takes nothing returns boolean
if GetLearnedSkill()==1093677904 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093677904)==1 then
call J8E()
endif
return false
endfunction
function PP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function J9E))
set t=null
endfunction
function JDE takes nothing returns nothing
local unit H88
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
call GroupAddUnit(IQ4,GetEnumUnit())
set H88=CreateUnit(GetOwningPlayer(GetEnumUnit()),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call LM7(H88,1093685833)
call SetUnitAbilityLevel(H88,1093685833,GetUnitAbilityLevel(A64,1093685825))
call IssueTargetOrder(H88,"ensnare",GetEnumUnit())
call HD8(A64,GetEnumUnit(),ZG4,100)
endif
set H88=null
endfunction
function JEE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer i
local group g=UG7(UC7,"g")
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
local group JFE=CX7()
local unit YK9=U87(UC7,"UnitVar")
set IN4=YK9
set A64=YK9
call GroupEnumUnitsInRange(JFE,x,y,300,Condition(function FT8))
set IQ4=g
call ForGroup(JFE,function JDE)
call CW7(JFE)
if GetTriggerEvalCount(t)>AC4*10 then
set i=1
loop
exitwhen i>16
call DestroyEffect(UH7(UC7,"Effect"+I2S(i)))
set i=i+1
endloop
call CW7(g)
call TN7(UC7)
call UA7(t)
endif
set t=null
set g=null
set JFE=null
set YK9=null
return false
endfunction
function JGE takes nothing returns nothing
local integer i=1
local location l=GetSpellTargetLoc()
local real JHE=GetLocationX(l)
local real JIE=GetLocationY(l)
local real x
local real y
local integer JJE=16
local string fx="Abilities\\Spells\\Undead\\Graveyard\\GraveMarker.mdl"
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local group g=CX7()
call E48(WN,JHE,JIE)
call TriggerRegisterTimerEvent(t,.1,true)
call TriggerAddCondition(t,Condition(function JEE))
call TC7(OC7,"g",g)
call TU7(OC7,"UnitVar",GetTriggerUnit())
call TR7(OC7,"x",JHE)
call TR7(OC7,"y",JIE)
loop
exitwhen i>JJE
set x=JHE+A34*Cos(i*360/JJE*bj_DEGTORAD)
set y=JIE+A34*Sin(i*360/JJE*bj_DEGTORAD)
call TV7(OC7,"Effect"+I2S(i),AddSpecialEffect(fx,x,y))
if i==1 or i==5 or i==9 or i==13 then
set x=JHE+275*Cos(i*360/JJE*bj_DEGTORAD)
set y=JIE+275*Sin(i*360/JJE*bj_DEGTORAD)
endif
set i=i+1
endloop
call RemoveLocation(l)
set l=null
set t=null
set g=null
endfunction
function JKE takes nothing returns boolean
if GetSpellAbilityId()==1093685825 then
call JGE()
endif
return false
endfunction
function R08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JKE))
set t=null
endfunction
function JME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit p5=U87(OC7,"Source")
local unit H88=U87(OC7,"DarkRiftFXUnit")
local integer BH7=UN7(OC7,"Level")
local integer JNE=90
local integer CP8=UN7(OC7,"Count")
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093815618 then
call KillUnit(H88)
call UA7(t)
call FlushChildHashtable(L7,(OC7))
else
set CP8=CP8+1
call TQ7(OC7,"Count",CP8)
endif
if BH7==1 then
set JNE=160
elseif BH7==2 then
set JNE=120
endif
call SetUnitX(H88,GetUnitX(p5))
call SetUnitY(H88,GetUnitY(p5))
if CP8>JNE then
call KillUnit(H88)
call UA7(t)
call TN7(OC7)
elseif CP8>30 then
call UnitRemoveAbility(H88,1097625443)
call ShowUnit(H88,true)
call LM7(H88,1097625443)
endif
set t=null
set H88=null
set p5=null
return false
endfunction
function JOE takes nothing returns nothing
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call U67(GetEnumUnit(),"4406",1)
call SetUnitPosition(GetEnumUnit(),IJ4,IK4)
call PanCameraToTimedForPlayer(GetOwningPlayer(GetEnumUnit()),IJ4,IK4,0)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call AX7(GetEnumUnit())
endfunction
function JPE takes unit p5,unit m5 returns nothing
local group g=CX7()
call DestroyEffect(AddSpecialEffect("Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl",GetUnitX(p5),GetUnitY(p5)))
call DestroyEffect(AddSpecialEffect("Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl",GetUnitX(m5),GetUnitY(m5)))
set IJ4=GetUnitX(m5)
set IK4=GetUnitY(m5)
set IN4=p5
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),475,Condition(function GO8))
call ForGroup(g,function JOE)
call CW7(g)
set g=null
endfunction
function JQE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit p5=U87(OC7,"Source")
local unit m5=U87(OC7,"Target")
call DestroyEffect(UH7(OC7,"FX"))
if GetTriggerEventId()==EVENT_UNIT_DEATH or m5==null or LO7(m5)then
call UA7(t)
call FlushChildHashtable(L7,(OC7))
call UnitRemoveType(m5,UNIT_TYPE_PEON)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093685808,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815618,false)
call L27(GetOwningPlayer(p5),GetObjectName(1848652614))
elseif p5==null or LO7(p5)then
call UA7(t)
call FlushChildHashtable(L7,(OC7))
call UnitRemoveType(m5,UNIT_TYPE_PEON)
call L27(GetOwningPlayer(p5),GetObjectName(1848652615))
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093685808,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815618,false)
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093815618 then
call UA7(t)
call FlushChildHashtable(L7,(OC7))
call UnitRemoveType(m5,UNIT_TYPE_PEON)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093685808,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815618,false)
endif
else
call UA7(t)
call FlushChildHashtable(L7,(OC7))
call UnitRemoveType(m5,UNIT_TYPE_PEON)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093685808,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815618,false)
call JPE(p5,m5)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function JRE takes nothing returns boolean
local real d
if IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==false or GetUnitAbilityLevel(GetFilterUnit(),1093678162)>0 or GetOwningPlayer(GetFilterUnit())==Player(15)then
return false
endif
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)or(IH4>0 and NM9(GetFilterUnit()))then
set d=RF7(IK4,IM4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
if d<IJ4 then
set IJ4=d
set IN4=GetFilterUnit()
endif
endif
return false
endfunction
function JSE takes unit p5 returns unit
local location l
local group g
local real x
local real y
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
set g=CX7()
set IH4=GetUnitAbilityLevel(p5,1093685808)
set IN4=null
set IJ4=9999
set IK4=x
set IM4=y
call GroupEnumUnitsInRange(g,x,y,4000,Condition(function JRE))
call CW7(g)
call RemoveLocation(l)
set l=null
set g=null
return IN4
endfunction
function JTE takes unit p5 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit m5=GetSpellTargetUnit()
local unit u
if m5==null then
set m5=JSE(p5)
endif
if m5==null then
call L27(GetOwningPlayer(p5),GetObjectName(1848652616))
return
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093685808,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815618,true)
call LM7(p5,1093815618)
call TriggerRegisterTimerEvent(t,6-GetUnitAbilityLevel(p5,1093685808),false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JQE))
call TV7(OC7,"FX",AddSpecialEffectTarget("war3mapImported\\DarkHands.mdl",m5,"overhead"))
call TU7(OC7,"Source",p5)
call TU7(OC7,"Target",m5)
call UnitAddType(m5,UNIT_TYPE_PEON)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,.03,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JME))
call TQ7(OC7,"Level",GetUnitAbilityLevel(p5,1093685808))
call TU7(OC7,"Source",p5)
set u=CreateUnit(GetOwningPlayer(p5),1747990840,GetUnitX(p5),GetUnitY(p5),0)
call TU7(OC7,"DarkRiftFXUnit",u)
call ShowUnit(u,false)
set t=null
set m5=null
set u=null
endfunction
function JUE takes nothing returns nothing
local unit O07=GetSpellTargetUnit()
local unit CC7=GetTriggerUnit()
if O07!=null then
if IsUnitAlly(O07,GetOwningPlayer(CC7))==false then
call RR7(CC7)
call L27(GetOwningPlayer(CC7),GetObjectName(1848652849))
elseif GetUnitAbilityLevel(CC7,1093685808)>0 and NM9(O07)==false then
call RR7(CC7)
call L27(GetOwningPlayer(CC7),GetObjectName(1848652849))
endif
endif
if O07==null then
set O07=JSE(CC7)
endif
if O07==null then
call RR7(CC7)
call L27(GetOwningPlayer(CC7),GetObjectName(1848652848))
endif
set O07=null
set CC7=null
endfunction
function JVE takes nothing returns boolean
if GetSpellAbilityId()==1093685808 then
call JUE()
endif
return false
endfunction
function JWE takes nothing returns boolean
if GetSpellAbilityId()==1093685808 then
call JTE(GetTriggerUnit())
endif
return false
endfunction
function RL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function JVE))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JWE))
set t=null
call LU7(1747990836)
call LU7(1747990837)
call LU7(1747990838)
endfunction
function JXE takes nothing returns nothing
call HD8(A14,GetEnumUnit(),ZG4,AL4)
endfunction
function JYE takes nothing returns nothing
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+AL4*0.5)
endfunction
function JZE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit CC7=U87(OC7,"Hero")
local real x=UO7(OC7,"x")
local real y=UO7(OC7,"y")
local group g=CX7()
local real r1=600
local real r2=600
local unit JAE
set x=GetUnitX(CC7)
set y=GetUnitY(CC7)
call GroupEnumUnitsInRange(g,x,y,r1,Condition(function GR8))
set JAE=FirstOfGroup(g)
call CW7(g)
if JAE==null then
if UP7(OC7,"NoCorpse1")and UP7(OC7,"NoCorpse2")then
call UnitRemoveAbility(CC7,1093810227)
call TN7(OC7)
call UA7(t)
else
if UP7(OC7,"NoCorpse1")==false then
call TT7(OC7,"NoCorpse1",true)
else
call TT7(OC7,"NoCorpse2",true)
endif
endif
else
set x=GetUnitX(JAE)
set y=GetUnitY(JAE)
call TT7(OC7,"NoCorpse1",false)
call TT7(OC7,"NoCorpse2",false)
call TN7(GetHandleId(JAE))
call DestroyEffect(AddSpecialEffect("war3mapImported\\CorpseExplosion.mdx",x,y))
call RemoveUnit(JAE)
set g=CX7()
set IN4=CC7
set A14=CC7
set AL4=20*GetUnitAbilityLevel(CC7,1093810232)
call GroupEnumUnitsInRange(g,x,y,r2,Condition(function FT8))
call ForGroup(g,function JXE)
set IN4=CC7
call GroupEnumUnitsInRange(g,x,y,r2,Condition(function G88))
call ForGroup(g,function JYE)
call CW7(g)
endif
set g=null
set CC7=null
set JAE=null
set t=null
return false
endfunction
function JBE takes nothing returns nothing
local real x=GetUnitX(GetTriggerUnit())
local real y=GetUnitY(GetTriggerUnit())
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call E48(AI4,x,y)
call TriggerRegisterTimerEvent(t,1.5,true)
call TriggerAddCondition(t,Condition(function JZE))
call LM7(GetTriggerUnit(),1093810227)
call TU7(OC7,"Hero",GetTriggerUnit())
call TR7(OC7,"x",x)
call TR7(OC7,"y",y)
call TT7(OC7,"NoCorpse1",false)
call TT7(OC7,"NoCorpse2",false)
set t=null
endfunction
function JCE takes nothing returns boolean
if GetSpellAbilityId()==1093810232 then
call JBE()
endif
return false
endfunction
function R18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function JCE))
set t=null
endfunction
function J3E takes nothing returns nothing
endfunction
function J6E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(U87(OC7,"Source"))
local unit H88=(U87(OC7,"Caster"))
local group g=CX7()
set IN4=EC8
set IZ7=GetUnitAbilityLevel(EC8,1093677385)*10+10
call GroupEnumUnitsInRange(g,GetUnitX(H88),GetUnitY(H88),475,Condition(function G88))
call ForGroup(g,function J3E)
call CW7(g)
if GetTriggerEvalCount(t)==5 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set H88=null
return false
endfunction
function JLE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local integer H98=GetUnitAbilityLevel(EC8,1093677385)
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,x,y,0)
call TriggerAddCondition(t,Condition(function J6E))
call TriggerRegisterTimerEvent(t,1,true)
call TU7(OC7,"Source",EC8)
call TU7(OC7,"Caster",H88)
call LM7(H88,1093809714)
call SetUnitAbilityLevel(H88,1093809714,H98)
call IssuePointOrder(H88,"rainoffire",x,y)
set EC8=null
set H88=null
endfunction
function J1E takes nothing returns boolean
if GetSpellAbilityId()==1093677385 then
call JLE()
endif
return false
endfunction
function R58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function J1E))
set t=null
endfunction
function J0E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=GetUnitAbilityLevel(EC8,1093809233)
local integer J5E
local real J2E
local real J_E=3+H98
if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)>4*J_E then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveAbility(O07,1093809242)
call UnitRemoveAbility(O07,1093809456)
call UnitRemoveAbility(O07,1093809240)
call UnitRemoveAbility(O07,1093809457)
call UnitRemoveAbility(O07,1093809241)
call UnitRemoveAbility(O07,1110459720)
else
set J2E=100*GetUnitState(O07,UNIT_STATE_LIFE)/GetUnitState(O07,UNIT_STATE_MAX_LIFE)
if J2E<20 then
set J5E=5
elseif J2E<40 then
set J5E=4
elseif J2E<60 then
set J5E=3
elseif J2E<80 then
set J5E=2
else
set J5E=1
endif
if J5E==1 then
if GetUnitAbilityLevel(O07,1093809242)==0 then
call UnitRemoveAbility(O07,1093809456)
call UnitRemoveAbility(O07,1093809240)
call UnitRemoveAbility(O07,1093809457)
call UnitRemoveAbility(O07,1093809241)
call UnitRemoveAbility(O07,1110459720)
call UnitAddAbility(O07,1093809242)
endif
elseif J5E==2 then
if GetUnitAbilityLevel(O07,1093809456)==0 then
call UnitRemoveAbility(O07,1093809242)
call UnitRemoveAbility(O07,1093809240)
call UnitRemoveAbility(O07,1093809457)
call UnitRemoveAbility(O07,1093809241)
call UnitRemoveAbility(O07,1110459720)
call UnitAddAbility(O07,1093809456)
endif
elseif J5E==3 then
if GetUnitAbilityLevel(O07,1093809240)==0 then
call UnitRemoveAbility(O07,1093809242)
call UnitRemoveAbility(O07,1093809456)
call UnitRemoveAbility(O07,1093809457)
call UnitRemoveAbility(O07,1093809241)
call UnitRemoveAbility(O07,1110459720)
call UnitAddAbility(O07,1093809240)
endif
elseif J5E==4 then
if GetUnitAbilityLevel(O07,1093809457)==0 then
call UnitRemoveAbility(O07,1093809242)
call UnitRemoveAbility(O07,1093809456)
call UnitRemoveAbility(O07,1093809240)
call UnitRemoveAbility(O07,1093809241)
call UnitRemoveAbility(O07,1110459720)
call UnitAddAbility(O07,1093809457)
endif
elseif J5E==5 then
if GetUnitAbilityLevel(O07,1093809241)==0 then
call UnitRemoveAbility(O07,1093809242)
call UnitRemoveAbility(O07,1093809456)
call UnitRemoveAbility(O07,1093809240)
call UnitRemoveAbility(O07,1093809457)
call UnitRemoveAbility(O07,1110459720)
call UnitAddAbility(O07,1093809241)
endif
endif
call HD8(EC8,O07,ZG4,0.01*4*0.25*GetUnitState(O07,UNIT_STATE_MAX_LIFE))
if ModuloInteger(GetTriggerEvalCount(t),4)==0 then
call CreateCorpse(GetOwningPlayer(EC8),1969711215,GetUnitX(O07),GetUnitY(O07),0)
endif
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function K4E takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093809233)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("effects\\EntanglingBonesTarget.mdx",O07,"chest")))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterDeathEvent(t,O07)
call TriggerAddCondition(t,Condition(function J0E))
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093809242,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093809456,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093809240,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093809457,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093809241,false)
set EC8=null
set O07=null
set t=null
endfunction
function K7E takes nothing returns boolean
if GetSpellAbilityId()==1093809233 and CV7(GetSpellTargetUnit())==false then
call K4E()
endif
return false
endfunction
function R28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function K7E))
set t=null
endfunction
function K8E takes unit EC8,integer K9E returns nothing
call SaveInteger(L7,(GetHandleId(EC8)),(687),(K9E))
call UnitRemoveAbility(EC8,1093809496)
call UnitRemoveAbility(EC8,1093809497)
call UnitRemoveAbility(EC8,1093809498)
call UnitRemoveAbility(EC8,1093809492)
call UnitRemoveAbility(EC8,1093809494)
call UnitRemoveAbility(EC8,1093809493)
call UnitRemoveAbility(EC8,1093809491)
call UnitRemoveAbility(EC8,1093809490)
call UnitRemoveAbility(EC8,1093809495)
call UnitRemoveAbility(EC8,1093809712)
call UnitRemoveAbility(EC8,1093809741)
call UnitRemoveAbility(EC8,1093809740)
call UnitRemoveAbility(EC8,1093809735)
call UnitRemoveAbility(EC8,1093809736)
call UnitRemoveAbility(EC8,1093809734)
call UnitRemoveAbility(EC8,1093809733)
call UnitRemoveAbility(EC8,1093809462)
call UnitRemoveAbility(EC8,1093809737)
call UnitRemoveAbility(EC8,1093809738)
call UnitRemoveAbility(EC8,1093809739)
call UnitRemoveAbility(EC8,1093809732)
if K9E==0 then
call UnitAddAbility(EC8,1093809741)
endif
if K9E==1 then
call LM7(EC8,1093809496)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809496,false)
call UnitAddAbility(EC8,1093809740)
elseif K9E==2 then
call LM7(EC8,1093809497)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809497,false)
call UnitAddAbility(EC8,1093809735)
elseif K9E==3 then
call LM7(EC8,1093809498)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809498,false)
call UnitAddAbility(EC8,1093809736)
elseif K9E==4 then
call LM7(EC8,1093809492)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809492,false)
call UnitAddAbility(EC8,1093809734)
elseif K9E==5 then
call LM7(EC8,1093809494)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809494,false)
call UnitAddAbility(EC8,1093809733)
elseif K9E==6 then
call LM7(EC8,1093809493)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809493,false)
call UnitAddAbility(EC8,1093809462)
elseif K9E==7 then
call LM7(EC8,1093809491)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809491,false)
call UnitAddAbility(EC8,1093809737)
elseif K9E==8 then
call LM7(EC8,1093809490)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809490,false)
call UnitAddAbility(EC8,1093809738)
elseif K9E==9 then
call LM7(EC8,1093809495)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809495,false)
call UnitAddAbility(EC8,1093809739)
elseif K9E==10 then
call LM7(EC8,1093809712)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809712,false)
call UnitAddAbility(EC8,1093809732)
endif
endfunction
function KDE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer K9E=(LoadInteger(L7,(GetHandleId(EC8)),(687)))
local group g
local unit JAE
local integer H98=GetUnitAbilityLevel(EC8,1093809713)
local integer KEE=2+2*H98
if K9E<KEE and LO7(EC8)==false then
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),925,Condition(function GR8))
set JAE=FirstOfGroup(g)
call CW7(g)
if JAE!=null then
set K9E=K9E+1
call K8E(EC8,K9E)
call EK8((JAE),(EC8),1747993654,"CorpseCollector_FX_Nothing",400)
call RemoveUnit(JAE)
endif
endif
set t=null
set EC8=null
set JAE=null
return false
endfunction
function KFE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,4,true)
call TriggerAddCondition(t,Condition(function KDE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=null
set EC8=null
endfunction
function KGE takes nothing returns nothing
call HD8(A04,GetEnumUnit(),ZG4,A54)
endfunction
function KHE takes unit EC8,integer H98,real ED8,real EE8,integer K9E,boolean PM9 returns nothing
local group g=CX7()
set A04=EC8
set A54=30*K9E
if PM9 then
set A54=A54+10*K9E
endif
set IN4=EC8
call GroupEnumUnitsInRange(g,ED8,EE8,350,Condition(function FT8))
call ForGroup(g,function KGE)
call CW7(g)
endfunction
function KIE takes unit EC8,real ZB9,real ZC9 returns boolean
local real ED8=(LoadReal(L7,(GetHandleId(EC8)),(690)))
local real EE8=(LoadReal(L7,(GetHandleId(EC8)),(691)))
if ED8==0 and EE8==0 then
return false
endif
if RF7(ZB9,ZC9,ED8,EE8)<425 then
return true
endif
return false
endfunction
function KJE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer K9E=(LoadInteger(L7,(OC7),(34)))
local integer H98=GetUnitAbilityLevel(EC8,1093809713)
local integer i=1
local unit H88
local real ED8=(LoadReal(L7,(OC7),(47)))
local real EE8=(LoadReal(L7,(OC7),(48)))
local real x
local real y
local real a=(LoadReal(L7,(OC7),(137)))
local boolean PM9=(LoadBoolean(L7,(OC7),(688)))
local boolean KKE=(LoadBoolean(L7,(OC7),(689)))
local real KME=(LoadReal(L7,(OC7),(549)))
local real KNE=(LoadReal(L7,(OC7),(567)))
set KME=D78(KME+10*Cos(a))
set KNE=D88(KNE+10*Sin(a))
call SaveReal(L7,(OC7),(549),((KME)*1.0))
call SaveReal(L7,(OC7),(567),((KNE)*1.0))
if PM9==false then
set PM9=KIE(EC8,KME,KNE)
if PM9==true then
call SaveBoolean(L7,(OC7),(688),(PM9))
endif
endif
if PM9 and KKE==false then
set KKE=true
call SaveBoolean(L7,(OC7),(689),(KKE))
loop
exitwhen i>K9E
set H88=(LoadUnitHandle(L7,(OC7),(393+i)))
call SaveEffectHandle(L7,(OC7),(609+i),(AddSpecialEffectTarget("war3mapImported\\CorpseFire.mdx",H88,"origin")))
set i=i+1
endloop
endif
set i=1
if RF7(KME,KNE,ED8,EE8)<15 then
loop
exitwhen i>K9E
if PM9 then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(609+i))))
endif
call KillUnit((LoadUnitHandle(L7,(OC7),(393+i))))
set i=i+1
endloop
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call KHE(EC8,H98,ED8,EE8,K9E,PM9)
else
loop
exitwhen i>K9E
set H88=(LoadUnitHandle(L7,(OC7),(393+i)))
set x=(LoadReal(L7,(OC7),(549+i)))
set y=(LoadReal(L7,(OC7),(567+i)))
set x=D78(x+10*Cos(a))
set y=D88(y+10*Sin(a))
call SaveReal(L7,(OC7),(549+i),((x)*1.0))
call SaveReal(L7,(OC7),(567+i),((y)*1.0))
call SetUnitX(H88,x)
call SetUnitY(H88,y)
set i=i+1
endloop
endif
set t=null
set H88=null
set EC8=null
return false
endfunction
function KOE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local real ED8=GetSpellTargetX()
local real EE8=GetSpellTargetY()
local integer H98=GetUnitAbilityLevel(EC8,1093809713)
local integer K9E=(LoadInteger(L7,(GetHandleId(EC8)),(687)))
local integer i=1
local unit H88
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local real a=PP7(GetUnitX(EC8),GetUnitY(EC8),ED8,EE8)*bj_DEGTORAD
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveInteger(L7,(OC7),(34),(K9E))
call SaveReal(L7,(OC7),(47),((ED8)*1.0))
call SaveReal(L7,(OC7),(48),((EE8)*1.0))
call SaveReal(L7,(OC7),(137),((a)*1.0))
call SaveReal(L7,(OC7),(549),((x)*1.0))
call SaveReal(L7,(OC7),(567),((y)*1.0))
call SaveBoolean(L7,(OC7),(688),(false))
call SaveBoolean(L7,(OC7),(689),(false))
loop
exitwhen i>K9E
set H88=CreateUnit(GetOwningPlayer(EC8),1747993655,x+GetRandomInt(-200,200),y+GetRandomInt(-200,200),0)
call SaveUnitHandle(L7,(OC7),(393+i),(H88))
call SaveReal(L7,(OC7),(549+i),((GetUnitX(H88))*1.0))
call SaveReal(L7,(OC7),(567+i),((GetUnitY(H88))*1.0))
set i=i+1
endloop
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function KJE))
call K8E(EC8,0)
set EC8=null
set t=null
set H88=null
endfunction
function KPE takes nothing returns boolean
if GetSpellAbilityId()==1093809713 then
call KOE()
endif
return false
endfunction
function KQE takes nothing returns boolean
if GetLearnedSkill()==1093809713 and GetUnitAbilityLevel(GetTriggerUnit(),1093809713)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call KFE()
endif
return false
endfunction
function R_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KPE))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function KQE))
set t=null
endfunction
function KRE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
local unit KSE
if GetTriggerEventId()==EVENT_UNIT_SPELL_FINISH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call KillUnit(H88)
call UnitApplyTimedLife(H88,1112820806,0.1)
elseif LO7(H88)then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
call SaveReal(L7,(OC7),(6),((GetUnitX(H88))*1.0))
call SaveReal(L7,(OC7),(7),((GetUnitY(H88))*1.0))
if x!=GetUnitX(H88)or y!=GetUnitY(H88)then
call UnitRemoveAbility(H88,1093815348)
else
call UnitAddAbility(H88,1093815348)
endif
endif
return false
endfunction
function KTE takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(IA7)and GetUnitTypeId(GetFilterUnit())==1966092633
endfunction
function KUE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit H88=CreateUnit(GetOwningPlayer(EC8),1966092633,GetUnitX(EC8)+100,GetUnitY(EC8)+100,0)
local group g
local integer H98=GetUnitAbilityLevel(EC8,1093815350)
local real BV8
local unit KVE
local unit KWE
call TriggerRegisterUnitEvent(t,H88,EVENT_UNIT_SPELL_FINISH)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function KRE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call SaveReal(L7,(OC7),(6),((GetUnitX(H88))*1.0))
call SaveReal(L7,(OC7),(7),((GetUnitY(H88))*1.0))
call UnitAddAbility(H88,1093815348)
call SetUnitAbilityLevel(H88,1093815349,GetUnitAbilityLevel(EC8,1093815350))
call SaveReal(L7,(GetHandleId(H88)),(34),(((TimerGetElapsed(W)))*1.0))
set IA7=EC8
set g=CX7()
call GroupEnumUnitsInRange(g,0,0,99999,Condition(function KTE))
if CountUnitsInGroup(g)>H98+1 then
set KWE=FirstOfGroup(g)
set BV8=(LoadReal(L7,(GetHandleId(KWE)),(34)))
set KVE=KWE
call GroupRemoveUnit(g,KWE)
loop
exitwhen KWE==null
if BV8>(LoadReal(L7,(GetHandleId(KWE)),(34)))then
set BV8=(LoadReal(L7,(GetHandleId(KWE)),(34)))
set KVE=KWE
endif
set KWE=FirstOfGroup(g)
call GroupRemoveUnit(g,KWE)
endloop
call KillUnit(KVE)
endif
call CW7(g)
set g=null
set H88=null
set EC8=null
set t=null
endfunction
function KXE takes nothing returns boolean
if GetSpellAbilityId()==1093815350 then
call KUE()
endif
return false
endfunction
function S48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function KXE))
endfunction
function KYE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer PM9=(LoadInteger(L7,(OC7),(34)))
call SaveInteger(L7,(GetHandleId(EC8)),(783),((LoadInteger(L7,(GetHandleId(EC8)),(783)))-PM9))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set EC8=null
set t=null
return false
endfunction
function KZE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit LR7=GetTriggerUnit()
local integer H98=GetUnitAbilityLevel(EC8,1095328612)
local integer PM9
local integer D19
if IsUnitInRange(EC8,LR7,900+25)and LO7(EC8)==false and IsUnitAlly(EC8,GetOwningPlayer(LR7))==false and GetUnitTypeId(LR7)!=1848657461 and IsUnitIllusion(LR7)==false and J48(GetUnitTypeId(LR7))==false and GetUnitAbilityLevel(LR7,1093678162)==0 then
set D19=(LoadInteger(L7,(GetHandleId(EC8)),(783)))
if IsUnitType(LR7,UNIT_TYPE_HERO)==true then
set PM9=30
else
set PM9=5
endif
set D19=D19+PM9
call SaveInteger(L7,(GetHandleId(EC8)),(783),(D19))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,25+H98*5,false)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerAddCondition(t,Condition(function KYE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveInteger(L7,(OC7),(34),(PM9))
endif
set t=null
set EC8=null
set LR7=null
return false
endfunction
function KAE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer D19=(LoadInteger(L7,(GetHandleId(EC8)),(783)))
local integer V7D=(LoadInteger(L7,(OC7),(238)))
if V7D!=D19 then
call HJ8(EC8,D19)
call SaveInteger(L7,(OC7),(238),(D19))
endif
set t=null
set EC8=null
return false
endfunction
function KBE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function KZE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function KAE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set EC8=null
set t=null
endfunction
function KCE takes nothing returns boolean
if GetLearnedSkill()==1095328612 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1095328612)==1 then
call KBE()
endif
return false
endfunction
function S78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function KCE))
set t=null
endfunction
function K3E takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),1093678667)>0
endfunction
function K6E takes nothing returns nothing
if(GetIssuedOrderId()==String2OrderIdBJ("immolation"))then
if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)then
call LM7(GetTriggerUnit(),1093681498)
else
call R47(0.1)
if(GetUnitAbilityLevel(GetTriggerUnit(),1110454868)>0)then
call UnitAddAbility(GetTriggerUnit(),1093681498)
endif
endif
elseif(GetIssuedOrderId()==String2OrderIdBJ("unimmolation"))then
if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)then
call UnitRemoveAbility(GetTriggerUnit(),1093681498)
else
call R47(0.1)
if(GetUnitAbilityLevel(GetTriggerUnit(),1110454868)==0)then
call UnitRemoveAbility(GetTriggerUnit(),1093681498)
endif
endif
endif
endfunction
function PS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function K3E))
call TriggerAddAction(t,function K6E)
set t=null
endfunction
function KLE takes nothing returns nothing
local integer OC7=GetHandleId(GetEnumUnit())
if GetTriggerUnit()!=GetEnumUnit()then
call SaveInteger(L7,(OC7),(672),((LoadInteger(L7,(OC7),(672)))+1))
endif
endfunction
function K1E takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1429221446 and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function K0E takes nothing returns boolean
local group g
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and J48(GetUnitTypeId(GetTriggerUnit()))==false and IsUnitIllusion(GetTriggerUnit())==false then
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),475,Condition(function K1E))
if GetUnitTypeId(GetKillingUnit())==1429221446 then
call GroupAddUnit(g,GetKillingUnit())
endif
call ForGroup(g,function KLE)
call CW7(g)
set g=null
endif
return false
endfunction
function K5E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(OC7),(2)))
if GetTriggerEvalCount(t)==1 then
call ShowUnit(p5,false)
elseif GetTriggerEvalCount(t)>80 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set p5=null
return false
endfunction
function K2E takes nothing returns boolean
local unit H88
local unit p5
local unit LR7
local trigger t
local integer OC7
if GetUnitTypeId(GetTriggerUnit())==1429221446 then
set p5=GetTriggerUnit()
set LR7=GetKillingUnit()
if p5==LR7 then
set H88=CreateUnit(GetOwningPlayer(p5),1747993154,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call SetUnitTimeScale(H88,0.75)
call UnitApplyTimedLife(H88,1112820806,1.0)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodAbomination.mdl",H88,"origin"))
set H88=null
call SetSoundPosition(JP,GetUnitX(p5),GetUnitY(p5),50)
call SetSoundVolumeBJ(JP,100)
call PlaySoundBJ(JP)
call SetSoundPosition(KP,GetUnitX(p5),GetUnitY(p5),50)
call SetSoundVolumeBJ(KP,100)
call PlaySoundBJ(KP)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,.1,true)
call TriggerAddCondition(t,Condition(function K5E))
call SaveUnitHandle(L7,(OC7),(2),(p5))
set t=null
endif
set p5=null
set LR7=null
endif
return false
endfunction
function K_E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local unit EC8=(LoadUnitHandle(L7,(GetHandleId(t)),(2)))
local integer OC7=GetHandleId(EC8)
local integer M4E=(LoadInteger(L7,(OC7),(672)))
local integer M7E=(LoadInteger(L7,(OC7),(673)))
local integer H98=GetUnitAbilityLevel(EC8,1093678660)
local integer M8E=R2I(I2R(M4E)*(0.6+0.3*H98))
if M8E>M7E then
call ModifyHeroStat(0,EC8,bj_MODIFYMETHOD_ADD,M8E-M7E)
call SaveInteger(L7,(OC7),(673),(M8E))
call DC8("+"+I2S(M8E-M7E)+" "+GetObjectName(1848659274),3,EC8,0.023,0,255,0,230)
endif
set t=null
set EC8=null
return false
endfunction
function M9E takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function K_E))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set EC8=null
set t=null
endfunction
function MDE takes nothing returns boolean
if GetLearnedSkill()==1093678660 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093678660)==1 then
call M9E()
endif
return false
endfunction
function MEE takes nothing returns boolean
if GetUnitTypeId(M7[GetPlayerId(GetTriggerPlayer())])==1429221446 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,GetObjectName(1848654162)+" "+I2S((LoadInteger(L7,(GetHandleId(M7[GetPlayerId(GetTriggerPlayer())])),(673))))+" "+GetObjectName(1848654163))
endif
return false
endfunction
function PT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function MDE))
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function MEE))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function K2E))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function K0E))
set t=null
endfunction
function MFE takes unit EC8,unit O07 returns nothing
local unit H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
local unit KSE=CreateUnit(GetOwningPlayer(EC8),1697657409,GetUnitX(O07),GetUnitY(O07),0)
call LM7(H88,1093685338)
call IssueTargetOrder(H88,"thunderbolt",O07)
call UnitApplyTimedLife(H88,1112820806,1)
call UnitApplyTimedLife(KSE,1112820806,1)
set H88=null
set KSE=null
endfunction
function MGE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer MHE=UN7(UC7,"LinkNumber")
local boolean MIE=UP7(UC7,"FoundTarget")
local unit m5
local unit MJE=U87(UC7,"Link"+I2S(MHE))
if MIE then
set m5=U87(UC7,"Target")
call SetUnitX(m5,GetUnitX(MJE))
call SetUnitY(m5,GetUnitY(MJE))
endif
call RemoveUnit(MJE)
set MHE=MHE-1
call TQ7(UC7,"LinkNumber",MHE)
if MHE==0 then
call TN7(UC7)
call UA7(t)
endif
set t=null
set m5=null
set MJE=null
return false
endfunction
function MKE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer MHE=UN7(UC7,"LinkNumber")
local integer BH7=UN7(UC7,"Level")
local real l4=UO7(UC7,"Angle")
local unit CO7=U87(UC7,"Hero")
local trigger MME=UF7(UC7,"RetractTrigger")
local integer MNE=GetHandleId(MME)
local group g
local unit u
local real x
local real y
if MHE<10+5*BH7 then
set MHE=MHE+1
call TQ7(UC7,"LinkNumber",MHE)
set x=GetUnitX(CO7)+MHE*40*Cos(l4*bj_DEGTORAD)
set y=GetUnitY(CO7)+MHE*40*Sin(l4*bj_DEGTORAD)
call TU7(MNE,"Link"+I2S(MHE),CreateUnit(GetOwningPlayer(CO7),1966092360,x,y,l4))
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,125,Condition(function GM8))
call GroupRemoveUnit(g,CO7)
set u=GroupPickRandomUnit(g)
call CW7(g)
if u!=null then
call TN7(UC7)
call UA7(t)
call TriggerRegisterTimerEvent(MME,0.03,true)
call TriggerAddCondition(MME,Condition(function MGE))
call TQ7(MNE,"LinkNumber",MHE)
call TT7(MNE,"FoundTarget",true)
call TU7(MNE,"Target",u)
if IsUnitEnemy(u,GetOwningPlayer(CO7))then
if IsUnitType(u,UNIT_TYPE_HERO)==true then
call II8("HA_Hits"+I2S(GetPlayerId(GetOwningPlayer(CO7))),R74[GetPlayerId(GetOwningPlayer(CO7))])
set R74[GetPlayerId(GetOwningPlayer(CO7))]=R74[GetPlayerId(GetOwningPlayer(CO7))]+1
call U67(CO7,"4400",1.5)
endif
set R84[GetPlayerId(GetOwningPlayer(CO7))]=R84[GetPlayerId(GetOwningPlayer(CO7))]+1
call II8("HA_Total"+I2S(GetPlayerId(GetOwningPlayer(CO7))),R84[GetPlayerId(GetOwningPlayer(CO7))])
call MFE(CO7,u)
call HD8(CO7,u,ZI4,90*BH7)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",u,"origin"))
endif
endif
else
call TN7(UC7)
call UA7(t)
set R84[GetPlayerId(GetOwningPlayer(CO7))]=R84[GetPlayerId(GetOwningPlayer(CO7))]+1
call TriggerRegisterTimerEvent(MME,0.03,true)
call TriggerAddCondition(MME,Condition(function MGE))
call TQ7(MNE,"LinkNumber",MHE)
call TT7(MNE,"FoundTarget",false)
endif
set t=null
set CO7=null
set MME=null
set g=null
set u=null
return false
endfunction
function MOE takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real l4=PP7(GetUnitX(CO7),GetUnitY(CO7),GetLocationX(l),GetLocationY(l))
local integer BH7=GetUnitAbilityLevel(CO7,1093678665)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TU7(UC7,"Hero",CO7)
call TQ7(UC7,"Level",BH7)
call TR7(UC7,"Angle",l4*1.0)
call TQ7(UC7,"LinkNumber",0)
call TW7(UC7,"RetractTrigger",CreateTrigger())
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function MKE))
call RemoveLocation(l)
set CO7=null
set l=null
set t=null
endfunction
function MPE takes nothing returns boolean
if GetSpellAbilityId()==1093678665 then
call MOE()
endif
return false
endfunction
function MQE takes nothing returns boolean
local integer I6D=R74[GetPlayerId(GetTriggerPlayer())]
local integer D5=R84[GetPlayerId(GetTriggerPlayer())]
if GetUnitTypeId(M7[GetPlayerId(GetTriggerPlayer())])==1429221446 and D5>0 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,E9,10.00,(GetObjectName((1848657228)))+" "+R2S(I2R(I6D)/ I2R(D5)*100)+"% ("+I2S(I6D)+"/"+I2S(D5)+")")
endif
return false
endfunction
function PU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MPE))
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-stats",true)
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-st",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-st",true)
call TriggerAddCondition(t,Condition(function MQE))
set t=null
endfunction
function MRE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local integer BH7=UN7(UC7,"Level")
local real DS8=(25+50*BH7)+(0.75)*GetHeroStr(p5,true)
local integer B78=UN7(UC7,"Count")
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()==1093747544)then
call TN7(UC7)
call UA7(t)
endif
elseif GetTriggerEvalCount(t)>4 then
call TN7(UC7)
call UA7(t)
call RR7(p5)
else
if BH7>0 then
set B78=B78+1
if(B78<4 and IsUnitType(m5,UNIT_TYPE_HERO)==true)or(B78<8 and IsUnitType(m5,UNIT_TYPE_HERO)==false)then
call SetUnitState(p5,UNIT_STATE_LIFE,GetUnitState(p5,UNIT_STATE_LIFE)+DS8)
call HD8(p5,m5,ZG4,DS8)
endif
call TQ7(UC7,"Count",B78)
endif
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function MSE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BH7=GetUnitAbilityLevel(p5,1093747544)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function MRE))
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TQ7(UC7,"Level",BH7)
call TQ7(UC7,"Count",0)
call TriggerEvaluate(t)
set t=null
set p5=null
set m5=null
endfunction
function MTE takes nothing returns boolean
if GetSpellAbilityId()==1093747544 and CV7(GetSpellTargetUnit())==false then
call MSE()
endif
return false
endfunction
function PV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MTE))
set t=null
endfunction
function MUE takes nothing returns boolean
return((GetUnitTypeId(GetSummonedUnit())==1865429068)or(GetUnitTypeId(GetSummonedUnit())==1865429069)or(GetUnitTypeId(GetSummonedUnit())==1865429070)or(GetUnitTypeId(GetSummonedUnit())==1865429071))
endfunction
function MVE takes nothing returns nothing
endfunction
function MWE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local group g
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set g=CX7()
set IN4=H88
call GroupEnumUnitsInRange(g,GetUnitX(H88),GetUnitY(H88),400+300*4+25,Condition(function FT8))
call ForGroup(g,function MVE)
call CW7(g)
set g=null
endif
set t=null
set H88=null
return false
endfunction
function MXE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit H88=GetSummonedUnit()
call TriggerRegisterDeathEvent(t,H88)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function MWE))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call SaveInteger(L7,(OC7),(5),(GetUnitAbilityLevel(GetSummoningUnit(),1093679428)))
call SetUnitAbilityLevelSwapped(1093679188,GetSummonedUnit(),GetUnitAbilityLevelSwapped(1093679428,GetSummoningUnit()))
call SetUnitAbilityLevelSwapped(1093681990,GetSummonedUnit(),GetUnitAbilityLevelSwapped(1093679428,GetSummoningUnit()))
call IssueImmediateOrderById(GetSummonedUnit(),852512)
endfunction
function PX8 takes nothing returns nothing
set Do=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Do,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(Do,Condition(function MUE))
call TriggerAddAction(Do,function MXE)
endfunction
function MYE takes unit p5,unit m5 returns nothing
local real MZE=20+40*R54
local real MAE=70+30*R54
local real MBE=(MZE+MAE*R24/700)*0.5
call HD8(p5,m5,ZG4,MBE)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl",m5,"chest"))
endfunction
function MCE takes nothing returns nothing
local unit m5=GetEnumUnit()
local group A99=t0
local unit p5=U0
if IsUnitInGroup(m5,A99)==false then
call GroupAddUnit(A99,m5)
call MYE(p5,m5)
endif
set m5=null
set A99=null
set p5=null
endfunction
function M3E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit H88=U87(UC7,"Caster")
local group A99=UG7(UC7,"AlreadyDamaged")
local effect fx
local integer YL9=GetTriggerEvalCount(t)
local real x
local real x0=GetUnitX(p5)
local real y
local real y0=GetUnitY(p5)
local integer i
local integer d
local group g=CX7()
call SetUnitX(H88,GetUnitX(p5))
call SetUnitY(H88,GetUnitY(p5))
set t0=A99
set U0=p5
set R54=GetUnitAbilityLevel(p5,1093748023)
if YL9>20 then
set d=21*36+(20-YL9)*36
set R24=d
set i=0
loop
exitwhen i>36
set x=x0+d*Cos(360*i/ 36*bj_DEGTORAD)
set y=y0+d*Sin(360*i/ 36*bj_DEGTORAD)
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,100,Condition(function FC8))
call ForGroup(g,function MCE)
set i=i+1
endloop
else
set d=YL9*36
set R24=d
set i=0
loop
exitwhen i>36
set x=x0+d*Cos(360*i/ 36*bj_DEGTORAD)
set y=y0+d*Sin(360*i/ 36*bj_DEGTORAD)
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,100,Condition(function FC8))
call ForGroup(g,function MCE)
set i=i+1
endloop
endif
call CW7(g)
if YL9==40 then
call KillUnit(H88)
call CW7(A99)
call DestroyEffect(UH7(UC7,"FX"))
call TN7(UC7)
call UA7(t)
elseif YL9==20 then
call GroupClear(A99)
set fx=null
endif
set t=null
set H88=null
set A99=null
set p5=null
set g=null
return false
endfunction
function M6E takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local real x=GetUnitX(CO7)
local real y=GetUnitY(CO7)
local unit H88=CreateUnit(GetOwningPlayer(CO7),1747990834,x,y,0)
local integer i=0
local group A99=CX7()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TV7(UC7,"FX",AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",CO7,"origin"))
call TC7(UC7,"AlreadyDamaged",A99)
call TU7(UC7,"Source",CO7)
call TU7(UC7,"Caster",H88)
call TriggerRegisterTimerEvent(t,0.06,true)
call TriggerAddCondition(t,Condition(function M3E))
set t=null
set H88=null
set CO7=null
set A99=null
endfunction
function MLE takes nothing returns boolean
if GetSpellAbilityId()==1093748023 then
call M6E()
endif
return false
endfunction
function RT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MLE))
set t=null
endfunction
function M1E takes integer M0E returns boolean
return M0E!=1093679446 and M0E!=1093677622 and M0E!=1093684314 and M0E!=1093685582 and M0E!=1093685065 and M0E!=1093682265 and M0E!=1093752642 and M0E!=1095263841
endfunction
function M5E takes unit M2E,unit p5,unit m5,integer BH7 returns nothing
local unit H88=CreateUnit(GetOwningPlayer(M2E),1697656901,GetUnitX(p5),GetUnitY(p5),0)
call LM7(H88,1093747019)
call SetUnitAbilityLevel(H88,1093747019,BH7)
call IssueTargetOrder(H88,"chainlightning",m5)
call LM7(H88,1093744708)
call SetUnitAbilityLevel(H88,1093744708,BH7)
call IssueTargetOrder(H88,"purge",m5)
set H88=null
endfunction
function M_E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local integer BH7
if GetSpellTargetUnit()==p5 and M1E(GetSpellAbilityId())==true and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(p5))==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
set BH7=GetUnitAbilityLevel(p5,1093748022)
call M5E(p5,p5,GetTriggerUnit(),BH7)
endif
set t=null
set p5=null
return false
endfunction
function N4E takes unit p5,boolean A_9 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function M_E))
call TU7(UC7,"Source",p5)
if A_9 then
set nj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set p5=null
set t=null
endfunction
function N7E takes nothing returns boolean
if GetLearnedSkill()==1093748022 and GetUnitAbilityLevel(GetTriggerUnit(),1093748022)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call N4E(GetTriggerUnit(),false)
endif
return false
endfunction
function RU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function N7E))
set t=null
endfunction
function N8E takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer HQ8
if d<1 then
call UnitRemoveAbility(u,W0[0])
call UnitRemoveAbility(u,W0[1])
call UnitRemoveAbility(u,W0[2])
call UnitRemoveAbility(u,W0[3])
call UnitRemoveAbility(u,W0[4])
call UnitRemoveAbility(u,W0[5])
call UnitRemoveAbility(u,W0[6])
call UnitRemoveAbility(u,W0[7])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set HQ8=i
set i=0
loop
exitwhen i>HQ8
if b[i]==1 then
call LM7(u,W0[i])
else
call UnitRemoveAbility(u,W0[i])
endif
set i=i+1
endloop
endfunction
function N9E takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer HQ8
if d<1 then
call UnitRemoveAbility(u,z0[0])
call UnitRemoveAbility(u,z0[1])
call UnitRemoveAbility(u,z0[2])
call UnitRemoveAbility(u,z0[3])
call UnitRemoveAbility(u,z0[4])
call UnitRemoveAbility(u,z0[5])
call UnitRemoveAbility(u,z0[6])
call UnitRemoveAbility(u,z0[7])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set HQ8=i
set i=0
loop
exitwhen i>HQ8
if b[i]==1 then
call LM7(u,z0[i])
else
call UnitRemoveAbility(u,z0[i])
endif
set i=i+1
endloop
endfunction
function NDE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
if GetTriggerEventId()==EVENT_UNIT_DEATH then
if GetTriggerUnit()==p5 then
call N8E(p5,0)
call TU7(UC7,"Source",null)
else
call N9E(m5,0)
call TU7(UC7,"Target",null)
endif
else
if p5!=null then
call N8E(p5,0)
endif
if m5!=null then
call N9E(m5,0)
endif
call TN7(UC7)
call UA7(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function NEE takes unit EC8,unit O07,unit YM9 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
if YM9==null then
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TU7(OC7,"Source",EC8)
call TU7(OC7,"Target",O07)
elseif YM9==O07 then
call N9E(O07,0)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TU7(OC7,"Source",EC8)
call TU7(OC7,"Target",null)
else
call N8E(EC8,0)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TU7(OC7,"Source",null)
call TU7(OC7,"Target",O07)
endif
call TriggerRegisterTimerEvent(t,18,false)
call TriggerAddCondition(t,Condition(function NDE))
set t=null
endfunction
function NFE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=U87(OC7,"Source")
local unit O07=U87(OC7,"Target")
local lightning NGE=UI7(OC7,"Light")
local integer H98=UN7(OC7,"Level")
local integer CP8=GetTriggerEvalCount(t)
local unit H88=U87(OC7,"Caster")
call MoveLightning(NGE,true,GetUnitX(EC8),GetUnitY(EC8),GetUnitX(O07),GetUnitY(O07))
call SetUnitX(H88,GetUnitX(O07))
call SetUnitY(H88,GetUnitY(O07))
if RF7(GetUnitX(EC8),GetUnitY(EC8),GetUnitX(O07),GetUnitY(O07))>700 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyLightning(NGE)
call KillUnit(H88)
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call NEE(EC8,O07,GetTriggerUnit())
else
call NEE(EC8,O07,null)
endif
call TN7(OC7)
call UA7(t)
elseif CP8>160 then
call DestroyLightning(NGE)
call KillUnit(H88)
call NEE(EC8,O07,null)
call TN7(OC7)
call UA7(t)
elseif ModuloInteger(CP8,20)==0 or CP8==1 then
call N8E(EC8,(H98*7)*R2I(CP8/ 20))
call N9E(O07,(H98*7)*R2I(CP8/ 20))
endif
set t=null
set EC8=null
set O07=null
set NGE=null
set H88=null
return false
endfunction
function NHE takes unit p5,unit m5,lightning NIE,unit H88 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(p5,1093747792)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function NFE))
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TQ7(UC7,"Level",BH7)
call TX7(UC7,"Light",NIE)
call TU7(UC7,"Caster",H88)
set t=null
endfunction
function NJE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local lightning NIE=UI7(UC7,"Light")
local unit H88=U87(UC7,"Caster")
local real NKE=GetUnitX(p5)
local real NME=GetUnitY(p5)
local real VFD=UO7(UC7,"rRealX1")
local real VGD=UO7(UC7,"rRealY1")
local real a=UO7(UC7,"a")
local unit m5=null
local group g=CX7()
set VFD=D78(VFD+25*Cos(a))
set VGD=D88(VGD+25*Sin(a))
call TR7(UC7,"rRealX1",VFD*1.0)
call TR7(UC7,"rRealY1",VGD*1.0)
call MoveLightning(NIE,true,NKE,NME,VFD,VGD)
call SetUnitX(H88,VFD)
call SetUnitY(H88,VGD)
set IN4=p5
call GroupEnumUnitsInRange(g,VFD,VGD,225,Condition(function GB8))
set m5=FirstOfGroup(g)
call CW7(g)
if m5!=null then
call NHE(p5,m5,NIE,H88)
call TN7(UC7)
call UA7(t)
elseif GetTriggerEvalCount(t)>25 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyLightning(NIE)
call KillUnit(H88)
call TN7(UC7)
call UA7(t)
endif
set t=null
set p5=null
set NIE=null
set m5=null
set g=null
set H88=null
return false
endfunction
function NNE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t
local integer UC7
local location l
local lightning NIE=AddLightning("CLSB",true,GetUnitX(p5),GetUnitY(p5),GetUnitX(p5),GetUnitY(p5))
local unit H88=CreateUnit(GetOwningPlayer(p5),1747990584,GetUnitX(p5),GetUnitY(p5),0)
call SetLightningColor(NIE,0.3,0.5,1,1)
if m5==null then
set l=GetSpellTargetLoc()
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function NJE))
call TU7(UC7,"Source",p5)
call TX7(UC7,"Light",NIE)
call TU7(UC7,"Caster",H88)
call TR7(UC7,"a",(Atan2(GetLocationY(l)-GetUnitY(p5),GetLocationX(l)-GetUnitX(p5)))*1.0)
call TR7(UC7,"rRealX1",(GetUnitX(p5))*1.0)
call TR7(UC7,"rRealY1",(GetUnitY(p5))*1.0)
call RemoveLocation(l)
set l=null
set t=null
else
call NHE(p5,m5,NIE,H88)
endif
set m5=null
set p5=null
set l=null
set t=null
set H88=null
endfunction
function NOE takes nothing returns boolean
if GetSpellAbilityId()==1093747792 then
call NNE()
endif
return false
endfunction
function RV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NOE))
set t=null
set W0[0]=1093747798
set W0[1]=1093747793
set W0[2]=1093747794
set W0[3]=1093747795
set W0[4]=1093747796
set W0[5]=1093747797
set W0[6]=1093747799
set W0[7]=1093747800
set z0[0]=1093748020
set z0[1]=1093748019
set z0[2]=1093748018
set z0[3]=1093748017
set z0[4]=1093748016
set z0[5]=1093748021
set z0[6]=1093747802
set z0[7]=1093747801
endfunction
function NPE takes integer UC7 returns nothing
local integer i=1
local integer NQE=UN7(UC7,"MaxIndex")
local unit m5
local integer HG8
if NQE==0 then
return
endif
loop
exitwhen i>NQE
set HG8=UN7(UC7,"Target_"+I2S(i))
set m5=ZX7(HG8)
call ZW7(HG8)
call UnitRemoveAbility(m5,n1[0])
call UnitRemoveAbility(m5,n1[1])
call UnitRemoveAbility(m5,n1[2])
call UnitRemoveAbility(m5,n1[3])
call UnitRemoveAbility(m5,n1[4])
call UnitRemoveAbility(m5,n1[5])
set i=i+1
endloop
set m5=null
endfunction
function NRE takes unit m5,integer UC7 returns nothing
local integer HG8=ZZ7(m5)
local integer NQE=UN7(UC7,"MaxIndex")
set NQE=NQE+1
call TQ7(UC7,"MaxIndex",NQE)
call TQ7(UC7,"Target_"+I2S(NQE),HG8)
endfunction
function NSE takes unit u returns integer
return GetUnitAbilityLevel(u,n1[0])*1+GetUnitAbilityLevel(u,n1[1])*2+GetUnitAbilityLevel(u,n1[2])*4+GetUnitAbilityLevel(u,n1[3])*8+GetUnitAbilityLevel(u,n1[4])*16
endfunction
function NTE takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer HQ8
if d<1 then
call UnitRemoveAbility(u,n1[0])
call UnitRemoveAbility(u,n1[1])
call UnitRemoveAbility(u,n1[2])
call UnitRemoveAbility(u,n1[3])
call UnitRemoveAbility(u,n1[4])
call UnitRemoveAbility(u,n1[5])
return
endif
loop
exitwhen c==0
set c=a/ 2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set HQ8=i
set i=0
loop
exitwhen i>HQ8
if b[i]==1 then
call LM7(u,n1[i])
else
call UnitRemoveAbility(u,n1[i])
endif
set i=i+1
endloop
endfunction
function NUE takes unit u,integer d returns nothing
if IsUnitType(u,UNIT_TYPE_STRUCTURE)==false then
call NTE(u,d+NSE(u))
call NRE(u,a1)
endif
endfunction
function NVE takes unit p5,unit H88,unit m5,integer BH7 returns nothing
call IssueTargetOrder(H88,"chainlightning",m5)
call HH8(p5,m5,2,(50+25*BH7)/ 2,0.3)
call NUE(m5,1)
endfunction
function NWE takes nothing returns boolean
if(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false))and GetUnitTypeId(GetFilterUnit())!=1848651852 then
if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<o1 then
set o1=GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)
set R_4=GetFilterUnit()
endif
endif
return false
endfunction
function NXE takes nothing returns boolean
if(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LO7(GetFilterUnit())==false))and GetUnitTypeId(GetFilterUnit())!=1701670775 and GetUnitTypeId(GetFilterUnit())!=1970956647 and GetUnitTypeId(GetFilterUnit())!=1848651852 then
if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<o1 then
set o1=GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)
set R_4=GetFilterUnit()
endif
endif
return false
endfunction
function NYE takes unit p5,unit H88,integer BH7 returns nothing
local group g=CX7()
set R_4=null
set o1=999999
set Z0=30+30*BH7
set v1=p5
set IN4=p5
if GetUnitAbilityLevel(p5,1093752150)>0 then
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),525,Condition(function NXE))
else
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),525,Condition(function NWE))
endif
call CW7(g)
if R_4!=null then
call NVE(p5,H88,R_4,BH7)
endif
set g=null
endfunction
function NZE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit H88=U87(UC7,"Caster")
local integer BH7=UN7(UC7,"Level")
local integer B78=GetTriggerEvalCount(t)
local real NAE
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call NPE(UC7)
call TN7(UC7)
call UA7(t)
if GetTriggerUnit()==p5 then
call KillUnit(H88)
endif
else
if GetUnitAbilityLevel(p5,1093752150)>0 then
if BH7==1 then
set NAE=0.65
elseif BH7==2 then
set NAE=0.55
else
set NAE=0.45
endif
else
if BH7==1 then
set NAE=0.75
elseif BH7==2 then
set NAE=0.65
else
set NAE=0.55
endif
endif
set NAE=NAE/IB7
if ModuloInteger(B78,R2I(NAE))==0 or B78==1 then
set a1=UC7
call NYE(p5,H88,BH7)
endif
call SetUnitX(H88,GetUnitX(p5))
call SetUnitY(H88,GetUnitY(p5))
endif
set t=null
set p5=null
set H88=null
return false
endfunction
function NBE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer BH7=GetUnitAbilityLevel(p5,1093747023)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit H88=CreateUnit(GetOwningPlayer(p5),1747990577,GetUnitX(p5),GetUnitY(p5),0)
if BH7==0 then
set BH7=GetUnitAbilityLevel(p5,1093752150)
endif
call UnitApplyTimedLife(H88,1112820806,15+5*BH7)
call SetUnitAbilityLevel(H88,1093747786,BH7)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,H88,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,IB7,true)
call TriggerAddCondition(t,Condition(function NZE))
call TU7(UC7,"Caster",H88)
call TU7(UC7,"Source",p5)
call TQ7(UC7,"Level",BH7)
set p5=null
set t=null
set H88=null
endfunction
function NCE takes nothing returns boolean
if GetSpellAbilityId()==1093747023 or GetSpellAbilityId()==1093752150 then
call NBE()
endif
return false
endfunction
function RW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NCE))
set t=null
set n1[0]=1093747787
set n1[1]=1093747788
set n1[2]=1093747790
set n1[3]=1093747789
set n1[4]=1093747791
endfunction
function N3E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local integer N6E=GetTriggerEvalCount(t)
local real y=(N6E-13)*(N6E-13)
if N6E<26 then
if S4D(CO7)==false then
call SetUnitFlyHeight(CO7,375-y,0)
endif
else
call PauseUnit(CO7,false)
if S4D(CO7)==false then
call SetUnitFlyHeight(CO7,GetUnitDefaultFlyHeight(CO7),0)
endif
call HD8(U87(UC7,"Source"),CO7,ZG4,UO7(UC7,"Damage"))
call H78(U87(UC7,"Source"),CO7,UO7(UC7,"Duration"))
call TN7(UC7)
call UA7(t)
endif
set t=null
set CO7=null
return false
endfunction
function NLE takes unit CO7,unit p5,real Hk,real N1E,real N0E returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call PauseUnit(CO7,true)
if S4D(CO7)==false then
call UnitAddAbility(CO7,1097691750)
call UnitRemoveAbility(CO7,1097691750)
endif
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleHitTarget.mdl",GetUnitX(CO7),GetUnitY(CO7)))
call TU7(UC7,"Hero",CO7)
call TU7(UC7,"Source",p5)
call TR7(UC7,"Damage",N1E)
call TR7(UC7,"Duration",Hk)
call TriggerRegisterTimerEvent(t,0.02/ 0.52*N0E,true)
call TriggerAddCondition(t,Condition(function N3E))
set t=null
endfunction
function N5E takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false and CK7(GetEnumUnit())==false and UU7(GetEnumUnit(),"Omnislashing")==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call NLE(GetEnumUnit(),IN4,IK4,IJ4,IM4)
endif
endfunction
function N2E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local real N1E=UO7(UC7,"damage")
local real Hk=UO7(UC7,"duration")
local real x1=UO7(UC7,"x1")
local real y1=UO7(UC7,"y1")
local real x2=UO7(UC7,"x2")
local real y2=UO7(UC7,"y2")
local real w=UO7(UC7,"w")
local real N_E=UO7(UC7,"TempReal")
local real a=Atan2(y2-y1,x2-x1)
local group g=UG7(UC7,"g")
local group O4E=CX7()
local real N0E=N_E*0.0625
local real O7E=UO7(UC7,"LastFX_x")
local real O8E=UO7(UC7,"LastFX_y")
local real O9E=UO7(UC7,"FX_Interval")
local real ODE=UO7(UC7,"airtime")
if N0E>RF7(x1,y1,x2,y2)then
set x1=x2
set y1=y2
else
set x1=x1+N0E*Cos(a)
set y1=y1+N0E*Sin(a)
endif
set IN4=p5
set IJ4=N1E
set IK4=Hk
set IM4=ODE
set IQ4=g
call GroupEnumUnitsInRange(O4E,x1,y1,w,Condition(function FT8))
call ForGroup(O4E,function N5E)
call CW7(O4E)
if RF7(x1,y1,O7E,O8E)>=O9E then
call TR7(UC7,"LastFX_x",x1)
call TR7(UC7,"LastFX_y",y1)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleMissTarget.mdl",x1,y1))
endif
call TR7(UC7,"x1",x1)
call TR7(UC7,"y1",y1)
if x1==x2 and y1==y2 then
if UP7(UC7,"destroyGroup")==true then
call CW7(g)
endif
call TN7(UC7)
call UA7(t)
endif
set g=null
set O4E=null
set p5=null
set t=null
return false
endfunction
function OEE takes real OFE,real OGE returns integer
if OFE/ OGE-R2I(OFE/ OGE)>=0.5 then
return R2I(OFE/ OGE)+1
endif
return R2I(OFE/ OGE)
endfunction
function OHE takes unit p5,unit m5,real N1E,real Hk,real ODE,real x1,real y1,real x2,real y2,real w,group OIE,boolean OJE,real N_E returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local real OKE=RF7(x1,y1,x2,y2)
local integer OME=OEE(OKE,ON)
local real O9E=OKE/ OME
local group g
call TU7(UC7,"Source",p5)
call TR7(UC7,"damage",N1E)
call TR7(UC7,"duration",Hk)
call TR7(UC7,"airtime",ODE)
call TR7(UC7,"x1",x1)
call TR7(UC7,"y1",y1)
call TR7(UC7,"x2",x2)
call TR7(UC7,"y2",y2)
call TR7(UC7,"w",w)
call TR7(UC7,"TempReal",N_E)
if OIE==null then
set g=CX7()
if m5!=null and IsUnitIllusion(m5)==false then
call GroupAddUnit(g,m5)
endif
call TC7(UC7,"g",g)
call TT7(UC7,"destroyGroup",OJE)
else
call TC7(UC7,"g",OIE)
call TT7(UC7,"destroyGroup",OJE)
endif
call TR7(UC7,"FX_Interval",O9E)
call TR7(UC7,"LastFX_x",x1)
call TR7(UC7,"LastFX_y",y1)
call TriggerRegisterTimerEvent(t,0.0625,true)
call TriggerAddCondition(t,Condition(function N2E))
set t=null
set g=null
endfunction
function ONE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
call SetUnitPosition(CO7,x,y)
call SetUnitAnimation(CO7,"morph ALTERNATE")
call TN7(UC7)
call UA7(t)
set t=null
set CO7=null
return false
endfunction
function OOE takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local integer BH7=GetUnitAbilityLevel(CO7,1093678671)
local location l
local real OPE
local real x=GetUnitX(CO7)
local real y=GetUnitY(CO7)
local real OQE
local real ORE
local real OSE
local real OTE
local real CasterX
local real CasterY
local integer BurrowstrikeTempInt
local unit oA
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local real DS8
local real Hk=1.65
local unit m5=null
if BH7==1 then
set DS8=100
elseif BH7==2 then
set DS8=160
elseif BH7==3 then
set DS8=220
elseif BH7==4 then
set DS8=280
endif
if GetSpellTargetUnit()!=null then
set l=GetUnitLoc(GetSpellTargetUnit())
else
set l=GetSpellTargetLoc()
endif
set OQE=GetLocationX(l)
set ORE=GetLocationY(l)
call RemoveLocation(l)
set OPE=PP7(x,y,OQE,ORE)
call TU7(UC7,"Hero",CO7)
call TR7(UC7,"x",OQE)
call TR7(UC7,"y",ORE)
call TriggerRegisterTimerEvent(t,RF7(x,y,OQE,ORE)/ 2000,false)
call TriggerAddCondition(t,Condition(function ONE))
if RF7(x,y,OQE,ORE)<150 then
set OQE=x+150*Cos(OPE*bj_DEGTORAD)
set ORE=y+150*Sin(OPE*bj_DEGTORAD)
endif
if GetSpellTargetUnit()!=null and CV7(GetSpellTargetUnit())then
set m5=GetSpellTargetUnit()
endif
call OHE(CO7,m5,DS8,Hk,0.52,x,y,OQE,ORE,175,null,true,1600)
set oA=null
set l=null
set CO7=null
set t=null
set m5=null
endfunction
function OUE takes nothing returns boolean
if GetSpellAbilityId()==1093678671 then
call OOE()
endif
return false
endfunction
function PY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OUE))
set t=null
endfunction
function OVE takes nothing returns nothing
call HD8(e0,GetEnumUnit(),ZG4,110)
if GetPlayerController(GetOwningPlayer(o0))==MAP_CONTROL_COMPUTER then
call UnitAddAbility(o0,1093744450)
endif
call IssueTargetOrder(o0,"slow",GetEnumUnit())
endfunction
function OWE takes unit p5,real x,real y,integer BH7,integer OXE returns nothing
local group g=CX7()
local real r
local string fx
if OXE==8 then
set r=675
elseif OXE==9 then
set r=700
elseif OXE==10 then
set r=725
else
set r=250+50*OXE
endif
if OXE<4 then
set fx=L_4
elseif OXE<8 then
set fx=D47
else
set fx=D77
endif
call DestroyEffect(AddSpecialEffect(fx,x,y))
set IN4=p5
set e0=p5
set o0=v0[GetPlayerId(GetOwningPlayer(p5))]
call GroupEnumUnitsInRange(g,x,y,r,Condition(function FT8))
call ForGroup(g,function OVE)
call CW7(g)
call nm(0.03,false,x,y,150+100*OXE,150+100*OXE,72,0.03,512)
set g=null
endfunction
function OYE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local player p=UD7(UC7,"p")
local unit CO7=U87(UC7,"Hero")
local real OZE=UO7(UC7,"LastX")
local real OAE=UO7(UC7,"LastY")
local boolean K1D=UP7(UC7,"Scepter")
local integer BH7=UN7(UC7,"Level")
local integer OXE=UN7(UC7,"Iteration")
local integer OBE=4+BH7*2
local real x=OZE
local real y=OAE
if K1D then
set OBE=OBE+2
endif
if OXE>OBE then
call TN7(UC7)
call UA7(t)
else
if CO7!=null and LO7(CO7)==false then
set x=GetUnitX(CO7)
set y=GetUnitY(CO7)
endif
call OWE(CO7,x,y,BH7,OXE)
call TQ7(UC7,"Iteration",OXE+1)
call TR7(UC7,"LastX",(x)*1.0)
call TR7(UC7,"LastY",(y)*1.0)
endif
set t=null
set p=null
set CO7=null
return false
endfunction
function OCE takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local player p=GetOwningPlayer(CO7)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(CO7,1093678674)
local boolean K1D=false
if BH7==0 then
set K1D=true
set BH7=GetUnitAbilityLevel(CO7,1093747252)
endif
if ZC7(p)then
set v0[GetPlayerId(p)]=CreateUnit(A7[0],1697656901,GetUnitX(CO7),GetUnitY(CO7),0)
else
set v0[GetPlayerId(p)]=CreateUnit(Z7[0],1697656901,GetUnitX(CO7),GetUnitY(CO7),0)
endif
call LM7(v0[GetPlayerId(p)],1093744450)
call TU7(UC7,"Hero",CO7)
call TA7(UC7,"p",GetOwningPlayer(CO7))
call TR7(UC7,"LastX",(GetUnitX(CO7))*1.0)
call TR7(UC7,"LastY",(GetUnitY(CO7))*1.0)
call TQ7(UC7,"Level",BH7)
call TQ7(UC7,"Iteration",2)
call TT7(UC7,"Scepter",K1D)
call TriggerRegisterTimerEvent(t,0.35,true)
call TriggerAddCondition(t,Condition(function OYE))
call OWE(CO7,GetUnitX(CO7),GetUnitY(CO7),BH7,1)
set CO7=null
set p=null
set t=null
endfunction
function O3E takes nothing returns boolean
if GetSpellAbilityId()==1093678674 or GetSpellAbilityId()==1093747252 then
call OCE()
endif
return false
endfunction
function PZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(t,Condition(function O3E))
call DE8(1093744450)
set t=null
endfunction
function O6E takes nothing returns boolean
return(GetSpellAbilityId()==1093683248)
endfunction
function OLE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local unit oA=CreateUnit(GetOwningPlayer(CO7),1697656901,GetUnitX(CO7),GetUnitY(CO7),bj_UNIT_FACING)
call LM7(oA,1093683279)
call SetUnitAbilityLevel(oA,1093683279,GetUnitAbilityLevel(CO7,1093683248))
call IssueTargetOrderById(oA,852069,CO7)
call TN7(UC7)
call UA7(t)
set t=null
set CO7=null
set oA=null
return false
endfunction
function O1E takes nothing returns nothing
local unit O0E
local unit O5E=GetTriggerUnit()
local unit array O2E
local integer Rd
local trigger t=CreateTrigger()
call UW7(O5E,"Sandstorm")
set O0E=CreateUnit(GetOwningPlayer(O5E),1697656913,GetUnitX(O5E),GetUnitY(O5E),bj_UNIT_FACING)
call SetUnitPathing(O0E,false)
call SetUnitInvulnerable(O0E,true)
call UnitAddAbility(O0E,1097625443)
call UnitAddAbility(O0E,1093683277)
call SetUnitAbilityLevelSwapped(1093683277,O0E,GetUnitAbilityLevelSwapped(1093683248,O5E))
call IssueImmediateOrderById(O0E,852177)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function OLE))
call TU7(GetHandleId(t),"Hero",O5E)
set Rd=1
set O2E[Rd]=CreateUnit(GetOwningPlayer(O5E),1697656913,GetUnitX(O5E)+150,GetUnitY(O5E)+150,bj_UNIT_FACING)
call SetUnitTimeScalePercent(O2E[Rd],.0)
call SetUnitPathing(O2E[Rd],false)
call SetUnitInvulnerable(O2E[Rd],true)
call UnitAddAbility(O2E[Rd],1097625443)
set Rd=2
set O2E[Rd]=CreateUnit(GetOwningPlayer(O5E),1697656913,GetUnitX(O5E)+150,GetUnitY(O5E)-150,bj_UNIT_FACING)
call SetUnitTimeScalePercent(O2E[Rd],.0)
call SetUnitPathing(O2E[Rd],false)
call SetUnitInvulnerable(O2E[Rd],true)
call UnitAddAbility(O2E[Rd],1097625443)
set Rd=3
set O2E[Rd]=CreateUnit(GetOwningPlayer(O5E),1697656913,GetUnitX(O5E)-150,GetUnitY(O5E)+150,bj_UNIT_FACING)
call SetUnitTimeScalePercent(O2E[Rd],.0)
call SetUnitPathing(O2E[Rd],false)
call SetUnitInvulnerable(O2E[Rd],true)
call UnitAddAbility(O2E[Rd],1097625443)
set Rd=4
set O2E[Rd]=CreateUnit(GetOwningPlayer(O5E),1697656913,GetUnitX(O5E)-150,GetUnitY(O5E)-150,bj_UNIT_FACING)
call SetUnitTimeScalePercent(O2E[Rd],.0)
call SetUnitPathing(O2E[Rd],false)
call SetUnitInvulnerable(O2E[Rd],true)
call UnitAddAbility(O2E[Rd],1097625443)
if ZL7(GetOwningPlayer(O5E))then
call UnitApplyTimedLife(O2E[1],1112820806,20*GetUnitAbilityLevel(O5E,1093683248))
call UnitApplyTimedLife(O2E[2],1112820806,20*GetUnitAbilityLevel(O5E,1093683248))
call UnitApplyTimedLife(O2E[3],1112820806,20*GetUnitAbilityLevel(O5E,1093683248))
call UnitApplyTimedLife(O2E[4],1112820806,20*GetUnitAbilityLevel(O5E,1093683248))
endif
set t=null
set O0E=null
set O5E=null
endfunction
function sa takes nothing returns nothing
set DO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DO,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(DO,Condition(function O6E))
call TriggerAddAction(DO,function O1E)
endfunction
function O_E takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1697656913)
endfunction
function ScarabsFilter takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1966092594)or(GetUnitTypeId(GetFilterUnit())==1966092595)
endfunction
function FilterEidolons takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1752654196)or(GetUnitTypeId(GetFilterUnit())==1752658994)or(GetUnitTypeId(GetFilterUnit())==1752658995)or(GetUnitTypeId(GetFilterUnit())==1747988534)
endfunction
function P4E takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function P7E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local group g=UG7(UC7,"g")
local unit CC7=U87(UC7,"Hero")
if UU7(CC7,"Sandstorm")==false then
call UnitRemoveAbility(CC7,1110455378)
endif
call ForGroup(g,function P4E)
call DestroyGroup(g)
call TN7(UC7)
call UA7(t)
set t=null
set g=null
set CC7=null
return false
endfunction
function Trig_Sand_Storm_Turn_Off_Func005001002 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1429221451)
endfunction
function P8E takes nothing returns nothing
local unit O5E=GetTriggerUnit()
local group IB8
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call UY7(O5E,"Sandstorm")
set IB8=OO7(GetOwningPlayer(O5E),Condition(function O_E))
call TC7(UC7,"g",IB8)
call TU7(UC7,"Hero",O5E)
call TriggerRegisterTimerEvent(t,GetUnitAbilityLevel(O5E,1093683248)*.3,false)
call TriggerAddCondition(t,Condition(function P7E))
set t=null
set O5E=null
set IB8=null
endfunction
function sB takes nothing returns nothing
set Dp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Dp,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(Dp,Condition(function O6E))
call TriggerAddAction(Dp,function P8E)
endfunction
function P9E takes nothing returns nothing
call HD8(m0,GetEnumUnit(),ZH4,50*M0)
endfunction
function PDE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local unit H88=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
local group g=CX7()
local integer BH7=GetUnitAbilityLevel(p5,1093810507)
call LM7(H88,1093684537)
call SetUnitAbilityLevel(H88,1093684537,BH7)
call IssueImmediateOrder(H88,"thunderclap")
call LM7(H88,1093677399)
call SetUnitAbilityLevel(H88,1093677399,BH7)
call IssueImmediateOrder(H88,"stomp")
set m0=p5
set M0=BH7
call GroupEnumUnitsInRange(g,x,y,350+25,Condition(function F58))
call ForGroup(g,function P9E)
call CW7(g)
set p5=null
set H88=null
set g=null
endfunction
function PEE takes nothing returns boolean
if GetSpellAbilityId()==1093810507 then
call PDE()
endif
return false
endfunction
function PA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PEE))
set t=null
endfunction
function PFE takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"UnitVar")
local unit PGE=U87(UC7,"Owner")
local unit H88
local real F98=UO7(UC7,"Duration")
local integer BH7=GetUnitAbilityLevel(PGE,(1093683287))
local real PHE=UO7(UC7,"x")
local real PIE=UO7(UC7,"y")
local real GLD=GetUnitX(CO7)
local real G1D=GetUnitY(CO7)
if(GLD-PHE)*(GLD-PHE)+(G1D-PIE)*(G1D-PIE)>900 then
set H88=CreateUnit(GetOwningPlayer(PGE),(1747988530),GetUnitX(CO7),GetUnitY(CO7),0)
call SetUnitAbilityLevel(H88,(1093683506),BH7)
call SetUnitAbilityLevel(H88,(1093683289),BH7)
call UnitApplyTimedLife(H88,1112820806,7)
call TR7(UC7,"x",(GLD)*1.0)
call TR7(UC7,"y",(G1D)*1.0)
endif
set F98=F98+0.2
call TR7(UC7,"Duration",(F98)*1.0)
if F98>7 or GetUnitState(CO7,UNIT_STATE_LIFE)<1 then
call PauseTimer(t)
call TN7(UC7)
endif
set t=null
set CO7=null
set PGE=null
set H88=null
endfunction
function PJE takes nothing returns nothing
local unit m5=GetEnumUnit()
local sound E78
local timer t
local integer UC7
call UnitDamageTarget(D8,m5,F8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(R8,m5)
if IsUnitType(m5,UNIT_TYPE_HERO)==true then
set t=CreateTimer()
set UC7=GetHandleId(t)
set E78=CreateSound("Sounds\\Spectral Dagger.mp3",false,true,true,10,10,"DefaultEAXON")
call SetSoundPosition(E78,GetUnitX(m5),GetUnitY(m5),0)
call SetSoundDistanceCutoff(E78,700)
call StartSound(E78)
call KillSoundWhenDone(E78)
call TU7(UC7,"UnitVar",m5)
call TU7(UC7,"Owner",D8)
call TR7(UC7,"x",(GetUnitX(m5))*1.0)
call TR7(UC7,"y",(GetUnitY(m5))*1.0)
call TimerStart(t,0.2,true,function PFE)
endif
set m5=null
set t=null
set E78=null
endfunction
function PKE takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and IsUnitInGroup(GetFilterUnit(),R8)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false
endfunction
function PME takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UC7=GetHandleId(t)
local group A99=UG7(UC7,"AlreadyDamaged")
local group IB8=CX7()
local boolexpr AFD=Condition(function PKE)
local unit CO7=U87(UC7,"Hero")
local unit G18=U87(UC7,"Projectile")
local integer HG8=UN7(UC7,"TargetIndex")
local unit m5=ZX7(HG8)
local real Y5=GetUnitX(m5)
local real Z5=GetUnitY(m5)
local real t5=GetUnitX(G18)
local real w5=GetUnitY(G18)
local real l4=Atan2(Z5-w5,Y5-t5)
local real GLD=D78(GetUnitX(G18)+30*Cos(l4))
local real G1D=D88(GetUnitY(G18)+30*Sin(l4))
local unit H88
local integer BH7=GetUnitAbilityLevel(CO7,(1093683287))
if UP7(UC7,"TrailNext")then
call TT7(UC7,"TrailNext",false)
set H88=CreateUnit(GetOwningPlayer(CO7),(1747988530),t5,w5,0)
call SetUnitAbilityLevel(H88,(1093683506),BH7)
call SetUnitAbilityLevel(H88,(1093683289),BH7)
call UnitApplyTimedLife(H88,1112820806,12)
else
call TT7(UC7,"TrailNext",true)
endif
call SetUnitX(G18,GLD)
call SetUnitY(G18,G1D)
call SetUnitFacing(G18,l4*bj_RADTODEG)
set R8=A99
set D8=CO7
set F8=50*GetUnitAbilityLevel(CO7,(1093683287))
call GroupEnumUnitsInRange(IB8,GLD,G1D,150,AFD)
call ForGroup(IB8,function PJE)
call CW7(IB8)
if(GLD-Y5)*(GLD-Y5)+(G1D-Z5)*(G1D-Z5)<1600 then
call PauseTimer(t)
call ZW7(HG8)
call TN7(UC7)
call KillUnit(G18)
call CW7(A99)
endif
set t=null
set A99=null
set IB8=null
call DestroyBoolExpr(AFD)
set AFD=null
set CO7=null
set G18=null
set m5=null
set H88=null
endfunction
function PNE takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UC7=GetHandleId(t)
local group A99=UG7(UC7,"AlreadyDamaged")
local group IB8=CX7()
local boolexpr AFD=Condition(function PKE)
local unit CO7=U87(UC7,"Hero")
local unit G18=U87(UC7,"Projectile")
local real Y5=UO7(UC7,"TargetX")
local real Z5=UO7(UC7,"TargetY")
local real t5=GetUnitX(G18)
local real w5=GetUnitY(G18)
local real l4=UO7(UC7,"Angle")
local real GLD=D78(GetUnitX(G18)+30*Cos(l4))
local real G1D=D88(GetUnitY(G18)+30*Sin(l4))
local unit H88
local integer BH7=GetUnitAbilityLevel(CO7,(1093683287))
if UP7(UC7,"TrailNext")then
call TT7(UC7,"TrailNext",false)
set H88=CreateUnit(GetOwningPlayer(CO7),(1747988530),t5,w5,0)
call SetUnitAbilityLevel(H88,(1093683506),BH7)
call SetUnitAbilityLevel(H88,(1093683289),BH7)
call UnitApplyTimedLife(H88,1112820806,12)
else
call TT7(UC7,"TrailNext",true)
endif
call SetUnitX(G18,GLD)
call SetUnitY(G18,G1D)
set R8=A99
set D8=CO7
set F8=50*GetUnitAbilityLevel(CO7,(1093683287))
call GroupEnumUnitsInRange(IB8,GLD,G1D,150,AFD)
call ForGroup(IB8,function PJE)
call CW7(IB8)
if(GLD-Y5)*(GLD-Y5)+(G1D-Z5)*(G1D-Z5)<1600 then
call PauseTimer(t)
call TN7(UC7)
call KillUnit(G18)
call CW7(A99)
endif
set t=null
set A99=null
set IB8=null
call DestroyBoolExpr(AFD)
set AFD=null
set CO7=null
set G18=null
set H88=null
endfunction
function POE takes unit CO7,integer D5 returns boolean
if(GetItemTypeId(UnitItemInSlot(CO7,D5))==1886613604)then
return true
endif
if(GetItemTypeId(UnitItemInSlot(CO7,D5))==1868983399)then
return true
endif
return false
endfunction
function PPE takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local real F98=UO7(UC7,"Duration")
local integer T8=0
loop
exitwhen T8>5
if POE(CO7,T8)then
if GetUnitAbilityLevel(CO7,(1110455351))==0 then
call SetItemDropOnDeath(UnitItemInSlot(CO7,T8),true)
if GetItemTypeId(UnitItemInSlot(CO7,T8))==1868983399 then
call SetItemDroppable(UnitItemInSlot(CO7,T8),true)
endif
else
call SetItemDropOnDeath(UnitItemInSlot(CO7,T8),false)
if GetItemTypeId(UnitItemInSlot(CO7,T8))==1868983399 then
call SetItemDroppable(UnitItemInSlot(CO7,T8),false)
endif
endif
endif
set T8=T8+1
endloop
set F98=F98+0.2
call TR7(UC7,"Duration",(F98)*1.0)
if GetUnitAbilityLevel(CO7,(1110455351))==0 then
call SetUnitPathing(CO7,true)
else
call SetUnitPathing(CO7,false)
endif
if F98>30 then
call PauseTimer(t)
call TN7(UC7)
call SetUnitPathing(CO7,true)
set T8=0
loop
exitwhen T8>5
if POE(CO7,T8)then
call SetItemDropOnDeath(UnitItemInSlot(CO7,T8),true)
if GetItemTypeId(UnitItemInSlot(CO7,T8))==1868983399 then
call SetItemDroppable(UnitItemInSlot(CO7,T8),true)
endif
endif
set T8=T8+1
endloop
endif
set t=null
set CO7=null
endfunction
function PQE takes nothing returns boolean
return GetSpellAbilityId()==(1093683287)
endfunction
function PRE takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real t5=D78(GetUnitX(CO7))
local real w5=D88(GetUnitY(CO7))
local unit G18=CreateUnit(GetOwningPlayer(CO7),(1747988531),t5,w5,0)
local timer t=CreateTimer()
local integer UC7=GetHandleId(t)
local group A99=CX7()
local location PSE
local real l4
local real Y5
local real Z5
call SetUnitPathing(G18,false)
call TC7(UC7,"AlreadyDamaged",A99)
call TU7(UC7,"Hero",CO7)
call TU7(UC7,"Projectile",G18)
if m5!=null then
call TQ7(UC7,"TargetIndex",ZZ7(m5))
call TimerStart(t,0.035,true,function PME)
else
set PSE=GetSpellTargetLoc()
set Y5=GetLocationX(PSE)
set Z5=GetLocationY(PSE)
set l4=Atan2(Z5-w5,Y5-t5)
call SetUnitFacing(G18,l4*bj_RADTODEG)
set Y5=D78(t5+2100*Cos(l4))
set Z5=D88(w5+2100*Sin(l4))
call TR7(UC7,"TargetX",(Y5)*1.0)
call TR7(UC7,"TargetY",(Z5)*1.0)
call TR7(UC7,"Angle",l4*1.0)
call TimerStart(t,0.035,true,function PNE)
endif
set t=CreateTimer()
set UC7=GetHandleId(t)
call SetUnitPathing(CO7,false)
call TU7(UC7,"Hero",CO7)
call TimerStart(t,0.2,true,function PPE)
set CO7=null
set m5=null
set G18=null
set t=null
set A99=null
call RemoveLocation(PSE)
set PSE=null
endfunction
function QX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PQE))
call TriggerAddAction(t,function PRE)
call CreateSound("Sounds\\Spectral Dagger.mp3",false,false,false,10,10,"DefaultEAXON")
call DE8(1093683506)
call DE8(1093683289)
set t=null
endfunction
function PTE takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and GetUnitAbilityLevel(GetAttacker(),1093682776)>0
endfunction
function PUE takes nothing returns boolean
return IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false
endfunction
function PVE takes nothing returns nothing
local unit Z88=GetAttacker()
local unit sE=GetTriggerUnit()
local group IB8=CX7()
local boolexpr hP=Condition(function PUE)
local integer UC7
call GroupEnumUnitsInRange(IB8,GetUnitX(sE),GetUnitY(sE),325+25,hP)
call GroupRemoveUnit(IB8,sE)
if FirstOfGroup(IB8)==null then
set UC7=GetHandleId(Z88)
if UU7(Z88,"Desolate")==false then
call UnitDamageTarget(Z88,sE,5+15*GetUnitAbilityLevel(Z88,1093682776),true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl",sE,"overhead"))
call U67(Z88,"Desolate",.3)
endif
endif
call CW7(IB8)
call DestroyBoolExpr(hP)
set Z88=null
set sE=null
set IB8=null
set hP=null
endfunction
function QY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function PTE))
call TriggerAddAction(t,function PVE)
set t=null
endfunction
function aDx takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function aDX takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=GetEnumUnit()
local unit oA=CreateUnit(GetOwningPlayer(CO7),1697656901,GetUnitX(CO7),GetUnitY(CO7),0)
local real DS8=F8
call UnitAddAbility(oA,1093684814)
call IssueTargetOrderById(oA,852095,m5)
call UnitDamageTarget(CO7,m5,DS8,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
set CO7=null
set m5=null
set oA=null
endfunction
function PWE takes nothing returns nothing
local real d=RE7(GetTriggerUnit(),GetEnumUnit())-25
local real PXE=0
if d<300 then
set PXE=1
elseif d<1000 then
set PXE=(1000-d)/700
endif
if PXE>0 then
set WV4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=true
call HD8(GetTriggerUnit(),GetEnumUnit(),ZI4,YS*PXE)
set WV4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=false
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayDamage.mdl",GetEnumUnit(),"chest"))
endif
endfunction
function PYE takes nothing returns boolean
local unit CC7=GetTriggerUnit()
local real B19=GetEventDamage()
local integer H98=GetUnitAbilityLevel(CC7,1093684801)
local group g
if ID8(B19)then
set g=CX7()
set YS=B19*(0.06+0.04*H98)
call DT8(CC7,YS)
call GroupEnumUnitsInRange(g,GetUnitX(CC7),GetUnitY(CC7),1025,Condition(function F58))
call ForGroup(g,function PWE)
call CW7(g)
endif
set CC7=null
set g=null
return false
endfunction
function PZE takes unit CO7,boolean A_9 returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function PYE))
if A_9 then
set nj[GetPlayerId(GetOwningPlayer(CO7))]=t
endif
set t=null
endfunction
function PAE takes nothing returns boolean
if GetLearnedSkill()==1093684801 and GetUnitAbilityLevel(GetTriggerUnit(),1093684801)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call PZE(GetTriggerUnit(),false)
endif
return false
endfunction
function QZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function PAE))
set t=null
endfunction
function PBE takes nothing returns boolean
return GetSpellAbilityId()==1093683257
endfunction
function PCE takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit CO7=GetTriggerUnit()
local unit oA=CreateUnit(GetOwningPlayer(CO7),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call TU7(GetHandleId(oA),"HauntTarget",m5)
call LM7(oA,1093684793)
call SetUnitAbilityLevel(oA,1093684793,GetUnitAbilityLevel(CO7,1093683257))
call IssueTargetOrderById(oA,852274,CO7)
set m5=null
set CO7=null
set oA=null
endfunction
function P3E takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))
endfunction
function P6E takes nothing returns nothing
local integer UC7=GetHandleId(GetTriggeringTrigger())
local unit XU=U87(UC7,"HauntImage")
local unit m5=U87(UC7,"HauntTarget")
local integer PLE=UN7(UC7,"HauntPhase")
if GetTriggerEventId()!=EVENT_UNIT_DEATH and GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_POINT_ORDER then
set PLE=PLE+1
call TQ7(UC7,"HauntPhase",PLE)
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call DisableTrigger(GetTriggeringTrigger())
call TN7(GetHandleId(GetTriggeringTrigger()))
call TQ7(UC7,"HauntPhase",PLE)
if m5==GetTriggerUnit()then
call KillUnit(XU)
endif
elseif IsUnitPaused(XU)==false then
if PLE==2 then
call SetUnitVertexColor(XU,255,255,255,255)
endif
if PLE>1 then
call DisableTrigger(GetTriggeringTrigger())
call IssueTargetOrder(XU,"attack",m5)
call EnableTrigger(GetTriggeringTrigger())
else
call DisableTrigger(GetTriggeringTrigger())
call IssueTargetOrderById(XU,851986,m5)
call EnableTrigger(GetTriggeringTrigger())
endif
endif
set XU=null
set m5=null
endfunction
function P1E takes nothing returns boolean
return GetUnitAbilityLevel(GetSummonedUnit(),1110455884)>0
endfunction
function P0E takes nothing returns nothing
local unit oA=GetSummoningUnit()
local unit XU=GetSummonedUnit()
local unit m5=U87(GetHandleId(oA),"HauntTarget")
local trigger t=CreateTrigger()
call SaveUnitHandle(L7,GetHandleId(M7[GetPlayerId(GetOwningPlayer(oA))]),StringHash("HauntTarget")+GetHandleId(XU),m5)
call SetUnitPathing(XU,false)
call SetUnitMoveSpeed(XU,400)
call SetUnitX(XU,GetUnitX(m5))
call SetUnitY(XU,GetUnitY(m5))
call IssueTargetOrderById(XU,851986,m5)
call SetUnitVertexColor(XU,255,255,255,50)
call TriggerRegisterUnitEvent(t,XU,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,XU,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,XU,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddAction(t,function P6E)
call DestroyEffect(AddSpecialEffect("units\\nightelf\\SpiritOfVengeance\\SpiritOfVengeance.mdl",GetUnitX(XU),GetUnitY(XU)))
call TU7(GetHandleId(t),"HauntTarget",m5)
call TU7(GetHandleId(t),"HauntImage",XU)
call TQ7(GetHandleId(t),"HauntPhase",0)
if(UG7(GetHandleId(GetOwningPlayer(GetSummoningUnit())),"MGrp")!=null)then
call GroupAddUnit(UG7(GetHandleId(GetOwningPlayer(GetSummoningUnit())),"MGrp"),GetSummonedUnit())
call SetUnitUserData(GetSummonedUnit(),GetPlayerId(GetOwningPlayer(U87(GetHandleId(oA),"HauntTarget"))))
endif
call TN7(GetHandleId(oA))
set t=null
set m5=null
set XU=null
set oA=null
endfunction
function P5E takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local group IB8=CX7()
local boolexpr hP=Condition(function P3E)
local sound HT
call LM7(GetTriggerUnit(),(1093683265))
if(UG7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"MGrp")!=null)then
call GroupClear(UG7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"MGrp"))
endif
call SetUnitPathing(CC7,false)
call GroupEnumUnitsInRect(IB8,bj_mapInitialPlayableArea,hP)
call ForGroup(IB8,function PCE)
call SetUnitPathing(CC7,true)
if FirstOfGroup(IB8)!=null then
set HT=CreateSound("Abilities\\Spells\\Other\\ANsa\\SacrificeUnit.wav",false,false,false,10,10,"DefaultEAXON")
call StartSound(HT)
call KillSoundWhenDone(HT)
endif
call DestroyBoolExpr(hP)
call CW7(IB8)
set CC7=null
set IB8=null
set hP=null
endfunction
function P2E takes nothing returns boolean
return GetLearnedSkill()==1093683257 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093683257)==1
endfunction
function P_E takes nothing returns nothing
call LM7(GetTriggerUnit(),1093683265)
endfunction
function QA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PBE))
call TriggerAddAction(t,function P5E)
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function P1E))
call TriggerAddAction(t,function P0E)
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function P2E))
call TriggerAddAction(t,function P_E)
call CreateSound("Abilities\\Spells\\Other\\ANsa\\SacrificeUnit.wav",false,false,false,10,10,"DefaultEAXON")
call DE8(1093684793)
set t=null
endfunction
function Q4E takes nothing returns boolean
return GetSpellAbilityId()==1093683265
endfunction
function Q7E takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1110455884)>0
endfunction
function Q8E takes nothing returns nothing
local unit CO7
local real in=DU8(GetEnumUnit(),GetSpellTargetLoc())
if in<F8 then
set D8=GetEnumUnit()
set F8=in
endif
set CO7=null
endfunction
function Q9E takes nothing returns unit
local group IB8=CX7()
local boolexpr hP=Condition(function Q7E)
set D8=null
set F8=9999999
call GroupEnumUnitsOfPlayer(IB8,GetOwningPlayer(GetTriggerUnit()),hP)
call ForGroup(IB8,function Q8E)
set Zz=IB8
call DestroyBoolExpr(hP)
set IB8=null
set hP=null
return D8
endfunction
function Reality_KillOtherImages takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function QDE takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=Q9E()
local unit QEE=LoadUnitHandle(L7,GetHandleId(CO7),StringHash("HauntTarget")+GetHandleId(m5))
local real hN
local real ho
if m5==null then
call L27(GetOwningPlayer(CO7),"Cannot find any of your Haunting illusions")
else
set hN=GetUnitX(m5)
set ho=GetUnitY(m5)
call KillUnit(m5)
call CW7(Zz)
set Zz=null
call SetUnitX(CO7,hN)
call SetUnitY(CO7,ho)
if RF7(GetCameraEyePositionX(),GetCameraEyePositionY(),GetUnitX(m5),GetUnitY(m5))>1400 then
call PanCameraToTimedForPlayer(GetOwningPlayer(CO7),hN,ho,0)
endif
call IssueTargetOrderById(CO7,851983,QEE)
endif
set CO7=null
set m5=null
set QEE=null
endfunction
function Reality_CheckValid takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=Q9E()
if m5==null then
call RR7(CO7)
call L27(GetOwningPlayer(CO7),"Cannot find any of your Haunting illusions")
endif
set CO7=null
set m5=null
endfunction
function QB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Q4E))
call TriggerAddAction(t,function QDE)
set t=null
endfunction
function QFE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local integer BH7=GetUnitAbilityLevel(p5,1093682515)
local integer YR9
local integer QGE
if BH7>0 and LO7(p5)==false then
set YR9=R2I(GetUnitMoveSpeed(p5)*0.04*BH7)
set QGE=UN7(UC7,"LastBonus")
if YR9!=QGE then
call TQ7(UC7,"LastBonus",YR9)
endif
endif
set t=null
set p5=null
return false
endfunction
function QHE takes unit CO7,boolean A_9 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function QFE))
call TU7(UC7,"Source",CO7)
call TQ7(UC7,"LastBonus",0)
if A_9 then
set aj[GetPlayerId(GetOwningPlayer(CO7))]=t
endif
set t=null
endfunction
function QIE takes nothing returns boolean
if GetLearnedSkill()==1093682515 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093682515)==1 then
call QHE(GetTriggerUnit(),false)
endif
return false
endfunction
function PC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function QIE))
set t=null
endfunction
function QJE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real NVD=(LoadReal(L7,(GetHandleId(EC8)),(685)))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if NVD<(TimerGetElapsed(W))or GetTriggerEventId()==EVENT_WIDGET_DEATH then
call SaveReal(L7,(GetHandleId(EC8)),(685),((0)*1.0))
call UnitRemoveAbility(EC8,1093809224)
call UnitRemoveAbility(EC8,1110459715)
endif
set t=null
set EC8=null
return false
endfunction
function QKE takes unit EC8 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call LM7(EC8,1093809224)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809224,false)
call SaveReal(L7,(GetHandleId(EC8)),(685),(((TimerGetElapsed(W))+Z14-0.01)*1.0))
call TriggerRegisterTimerEvent(t,Z14,false)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerAddCondition(t,Condition(function QJE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=null
endfunction
function QME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real Z_9=(LoadReal(L7,(OC7),(13)))
local real x=GetUnitX(O07)
local real y=GetUnitY(O07)
local integer CP8=GetTriggerEvalCount(t)
local real XID=(LoadReal(L7,(OC7),(193)))
local integer EJD=(LoadInteger(L7,(OC7),(12)))
if CP8>35 then
call SaveReal(L7,(OC7),(193),((XID*0.98)*1.0))
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH or CP8>EJD then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",x,y))
call D28(x,y,150)
set x=D78(x+XID*Cos(Z_9))
set y=D88(y+XID*Sin(Z_9))
if(IsPointInRegion(IU4,((x)*1.0),((y)*1.0)))==false then
call SetUnitX(O07,x)
call SetUnitY(O07,y)
endif
if CP8==1 and(LoadBoolean(L7,(OC7),(698)))==false then
call IssueTargetOrder(EC8,"attack",O07)
endif
endif
set t=null
set O07=null
set EC8=null
return false
endfunction
function QNE takes unit EC8,unit O07,boolean QOE,boolean QPE returns nothing
local trigger t
local integer OC7
local real Z_9=Atan2(GetUnitY(O07)-GetUnitY(EC8),GetUnitX(O07)-GetUnitX(EC8))
local integer H98=GetUnitAbilityLevel(EC8,1093682997)
local unit H88
if QOE then
endif
if H98>0 then
set H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call LM7(H88,1093752657)
call SetUnitAbilityLevel(H88,1093752657,H98)
if IssueTargetOrder(H88,"thunderbolt",O07)then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl",EC8,"weapon"))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveReal(L7,(OC7),(13),((Z_9)*1.0))
call SaveReal(L7,(OC7),(193),((2)*1.0))
call SaveBoolean(L7,(OC7),(698),(QPE))
call SaveInteger(L7,(OC7),(12),(80+20*H98))
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function QME))
call HD8(EC8,O07,ZG4,GetUnitMoveSpeed(EC8)*0.1*H98)
call QKE(EC8)
endif
if QPE==false then
call U67(EC8,"pIv",1.5)
endif
endif
set t=null
set EC8=null
set O07=null
set H88=null
endfunction
function QQE takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093682997)>0 and IsUnitIllusion(GetAttacker())==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))and GetRandomInt(1,100)<=17 and UU7(GetAttacker(),"pIv")==false then
call QNE(GetAttacker(),GetTriggerUnit(),false,false)
endif
return false
endfunction
function P38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function QQE))
set t=null
endfunction
function QRE takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),A44)==false then
call GroupAddUnit(A44,GetEnumUnit())
call QNE(Z54,GetEnumUnit(),false,true)
endif
endfunction
function QSE takes integer id returns boolean
if id==1093750840 or id==1093682515 or id==1093682996 or id==1093747768 or id==1093682997 or id==1096904043 then
return true
endif
if id==852002 or id==852003 or id==852004 or id==852005 or id==852006 or id==852007 then
return true
endif
if id>1000000 then
return true
endif
return false
endfunction
function QTE takes nothing returns boolean
if(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(Z54))==true then
if RE7(Z24,GetFilterUnit())<Z_4 then
set Z_4=RE7(Z24,GetFilterUnit())
set Z04=GetFilterUnit()
endif
endif
return false
endfunction
function QUE takes unit EC8,unit O07 returns unit
local group g=CX7()
set IN4=EC8
set Z54=EC8
set Z04=null
set Z_4=999999
set Z24=O07
call GroupEnumUnitsInRange(g,GetUnitX(O07),GetUnitY(O07),4000,Condition(function QTE))
call CW7(g)
set g=null
return Z04
endfunction
function QVE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local real JJD=(550+50*H98)*0.02
local real ZZ9=(LoadReal(L7,(OC7),(23)))
local real ZA9=(LoadReal(L7,(OC7),(24)))
local real x
local real y
local real a
local real d
local string fx
local group g
if(GetTriggerEventId()==EVENT_WIDGET_DEATH and GetTriggerUnit()==EC8)or GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or DW9(EC8)or(LoadReal(L7,(OC7),(442)))<(TimerGetElapsed(W))then
if(GetTriggerEventId()!=EVENT_UNIT_ISSUED_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER)or((GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER)and QSE(GetIssuedOrderId())==false)then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(177))))
call UnitRemoveAbility(O07,1093809228)
call UnitRemoveAbility(O07,1110459716)
call CW7((LoadGroupHandle(L7,(OC7),(187))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call SetUnitTimeScale(EC8,1)
call KillUnit(H88)
call SetUnitPathing(EC8,true)
call SetUnitVertexColor(EC8,255,255,255,255)
call UnitRemoveAbility(EC8,1093744441)
call D28(GetUnitX(EC8),GetUnitY(EC8),200)
call SaveBoolean(L7,GetHandleId(EC8),1145131595,false)
call RemoveSavedHandle(L7,GetHandleId(EC8),1145131595)
if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
call ResetUnitAnimation(EC8)
endif
endif
elseif GetTriggerEventId()==EVENT_WIDGET_DEATH and GetTriggerUnit()==O07 then
set fx=""
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(EC8))or CM7(GetLocalPlayer())then
set fx="Abilities\\Spells\\Other\\HowlOfTerror\\HowlTarget.mdl"
endif
call UnitRemoveAbility(O07,1093809228)
call UnitRemoveAbility(O07,1110459716)
set O07=QUE(EC8,O07)
if O07!=null then
call SaveUnitHandle(L7,(OC7),(17),(O07))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call SaveEffectHandle(L7,(OC7),(175),(AddSpecialEffectTarget(fx,O07,"overhead")))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffectTarget(fx,O07,"overhead")))
call SaveReal(L7,(OC7),(442),(((TimerGetElapsed(W))+50)*1.0))
call TriggerRegisterDeathEvent(t,O07)
call SaveUnitHandle(L7,GetHandleId(EC8),1145131595,O07)
else
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(177))))
call UnitRemoveAbility(O07,1093809228)
call UnitRemoveAbility(O07,1110459716)
call CW7((LoadGroupHandle(L7,(OC7),(187))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call SetUnitTimeScale(EC8,1)
call KillUnit(H88)
call SetUnitPathing(EC8,true)
call ResetUnitAnimation(EC8)
call SetUnitVertexColor(EC8,255,255,255,255)
call UnitRemoveAbility(EC8,1093744441)
call SetUnitPosition(EC8,GetUnitX(EC8),GetUnitY(EC8))
call D28(GetUnitX(EC8),GetUnitY(EC8),500)
call SaveBoolean(L7,GetHandleId(EC8),1145131595,false)
call RemoveSavedHandle(L7,GetHandleId(EC8),1145131595)
endif
else
set d=RF7(GetUnitX(EC8),GetUnitY(EC8),GetUnitX(O07),GetUnitY(O07))
if d<100 then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(177))))
call UnitRemoveAbility(O07,1093809228)
call UnitRemoveAbility(O07,1110459716)
call CW7((LoadGroupHandle(L7,(OC7),(187))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call SetUnitTimeScale(EC8,1)
call KillUnit(H88)
set H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call UnitAddAbility(H88,1093683027)
call SetUnitAbilityLevel(H88,1093683027,H98)
call IssueTargetOrder(H88,"thunderbolt",O07)
call SetUnitPathing(EC8,true)
call SetUnitVertexColor(EC8,255,255,255,255)
call UnitRemoveAbility(EC8,1093744441)
call SetUnitPosition(EC8,GetUnitX(EC8),GetUnitY(EC8))
call D28(GetUnitX(EC8),GetUnitY(EC8),200)
call SaveBoolean(L7,GetHandleId(EC8),1145131595,false)
call RemoveSavedHandle(L7,GetHandleId(EC8),1145131595)
set A74=H98
call IssueTargetOrder(EC8,"attack",O07)
if Z17(GetOwningPlayer(EC8))then
set hq[832+GetPlayerId(GetOwningPlayer(EC8))]=0
endif
else
if GetTriggerEvalCount(t)==1 then
call DisableTrigger(t)
call IssueImmediateOrder(EC8,"holdposition")
call EnableTrigger(t)
endif
if ModuloInteger(GetTriggerEvalCount(t),65)==0 then
if GetUnitTypeId(EC8)==1160786520 then
call SetUnitAnimationByIndex(EC8,1)
else
call SetUnitAnimationByIndex(EC8,2)
endif
endif
set a=PO7(EC8,O07)*bj_DEGTORAD
call SetUnitFacing(EC8,a*bj_RADTODEG)
set x=ZZ9+JJD*Cos(a)
set y=ZA9+JJD*Sin(a)
call SetUnitX(EC8,x)
call SetUnitY(EC8,y)
call SetUnitX(H88,GetUnitX(O07))
call SetUnitY(H88,GetUnitY(O07))
call SaveReal(L7,(OC7),(23),((x)*1.0))
call SaveReal(L7,(OC7),(24),((y)*1.0))
set A44=(LoadGroupHandle(L7,(OC7),(187)))
set g=CX7()
set IN4=EC8
set Z54=EC8
call GroupEnumUnitsInRange(g,x,y,325,Condition(function FT8))
call GroupRemoveUnit(g,O07)
set A74=H98
call ForGroup(g,function QRE)
call CW7(g)
set g=null
if d<3000 and GetUnitAbilityLevel(O07,1093809228)==0 then
endif
if Z17(GetOwningPlayer(EC8))then
set hq[832+GetPlayerId(GetOwningPlayer(EC8))]=Bz+1
endif
endif
endif
set t=null
set EC8=null
set O07=null
set H88=null
return false
endfunction
function QWE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local unit H88=CreateUnit(GetOwningPlayer(EC8),1865429073,GetUnitX(O07),GetUnitY(O07),0)
local integer H98=GetUnitAbilityLevel(EC8,1093750840)
local string fx=""
call SaveBoolean(L7,GetHandleId(EC8),1145131595,true)
call SaveUnitHandle(L7,GetHandleId(EC8),1145131595,O07)
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(EC8))or CM7(GetLocalPlayer())then
set fx="Abilities\\Spells\\Other\\HowlOfTerror\\HowlTarget.mdl"
call PingMinimapEx(GetUnitX(O07),GetUnitY(O07),2,255,255,255,false)
endif
call IssueTargetOrder(EC8,"move",O07)
call SetUnitPathing(EC8,false)
if GetUnitTypeId(EC8)==1160786520 then
call SetUnitAnimationByIndex(EC8,1)
else
call SetUnitAnimationByIndex(EC8,2)
endif
call SetUnitTimeScale(EC8,2.5)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093744441,false)
call SetUnitVertexColor(EC8,255,255,255,100)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveReal(L7,(OC7),(442),(((TimerGetElapsed(W))+50)*1.0))
call SaveReal(L7,(OC7),(23),((GetUnitX(EC8))*1.0))
call SaveReal(L7,(OC7),(24),((GetUnitY(EC8))*1.0))
call SaveEffectHandle(L7,(OC7),(175),(AddSpecialEffectTarget(fx,O07,"overhead")))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffectTarget(fx,O07,"overhead")))
call SaveEffectHandle(L7,(OC7),(177),(AddSpecialEffectTarget("war3mapImported\\ShockwaveMissilePurple.mdx",EC8,"origin")))
call SaveGroupHandle(L7,(OC7),(187),(CX7()))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerRegisterDeathEvent(t,O07)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddCondition(t,Condition(function QVE))
set t=null
set EC8=null
set O07=null
set H88=null
endfunction
function QXE takes nothing returns boolean
if GetSpellAbilityId()==1093750840 and CV7(GetSpellTargetUnit())==false then
call QWE()
endif
return false
endfunction
function PB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QXE))
set t=null
call DE8(1093687350)
endfunction
function QYE takes unit EC8,unit O07 returns nothing
local trigger t
local integer OC7
local real l4=Atan2(GetUnitY(O07)-GetUnitY(EC8),GetUnitX(O07)-GetUnitX(EC8))
local integer H98=4
call QNE(EC8,O07,true,true)
set t=null
endfunction
function QZE takes nothing returns nothing
call QYE(W04,GetEnumUnit())
endfunction
function QAE takes unit EC8,unit O07 returns nothing
local group g=CX7()
set IN4=EC8
set W04=EC8
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),275,Condition(function FT8))
call ForGroup(g,function QZE)
call CW7(g)
set g=null
endfunction
function QBE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer CP8=GetTriggerEvalCount(t)
local integer QCE
local integer H98
local real Z_9
local real ZZ9=(LoadReal(L7,(OC7),(23)))
local real ZA9=(LoadReal(L7,(OC7),(24)))
local real x=GetUnitX(O07)
local real y=GetUnitY(O07)
local real d=RF7(x,y,ZZ9,ZA9)
call SaveReal(L7,(OC7),(23),((x)*1.0))
call SaveReal(L7,(OC7),(24),((y)*1.0))
if GetTriggerEventId()==EVENT_UNIT_DEATH or CP8==200 or d>1800 then
call SetUnitVertexColor(EC8,255,255,255,255)
call UnitShareVision(O07,GetOwningPlayer(EC8),false)
call UnitRemoveAbility(EC8,1093744441)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
if CP8<100 then
set QCE=CP8
else
set QCE=200-CP8
endif
call SetUnitVertexColor(EC8,255,255,255,255*(100-QCE)/100)
if CP8==100 then
set H98=(LoadInteger(L7,(OC7),(5)))
set Z_9=Atan2(GetUnitY(O07)-GetUnitY(EC8),GetUnitX(O07)-GetUnitX(EC8))
call SetUnitPosition(EC8,GetUnitX(O07)+80*Cos(Z_9),GetUnitY(O07)+80*Sin(Z_9))
call SetUnitAnimation(EC8,"attack")
call IssueTargetOrder(EC8,"attack",O07)
if GetUnitAbilityLevel(EC8,1093682996)>0 then
call QYE(EC8,O07)
else
call QAE(EC8,O07)
endif
call HD8(EC8,O07,ZG4,50+100*H98)
endif
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function Q3E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093682996)
if H98==0 then
set H98=GetUnitAbilityLevel(EC8,1093747768)
endif
call UnitShareVision(O07,GetOwningPlayer(EC8),true)
call IssueImmediateOrder(EC8,"halt")
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveReal(L7,(OC7),(23),((GetUnitX(O07))*1.0))
call SaveReal(L7,(OC7),(24),((GetUnitY(O07))*1.0))
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function QBE))
call LM7(EC8,1093744441)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093744441,false)
set t=null
set EC8=null
set O07=null
endfunction
function Q6E takes nothing returns boolean
if(GetSpellAbilityId()==1093682996 or GetSpellAbilityId()==1093747768)and CV7(GetSpellTargetUnit())==false then
call Q3E()
endif
return false
endfunction
function P68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Q6E))
set t=null
endfunction
function QLE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093809973)
if H98==1 then
call LM7(EC8,1093809974)
elseif H98==2 then
call UnitRemoveAbility(EC8,1093809974)
call LM7(EC8,1093809977)
elseif H98==3 then
call UnitRemoveAbility(EC8,1093809974)
call UnitRemoveAbility(EC8,1093809977)
call LM7(EC8,1093809975)
elseif H98==4 then
call UnitRemoveAbility(EC8,1093809974)
call UnitRemoveAbility(EC8,1093809977)
call UnitRemoveAbility(EC8,1093809975)
call LM7(EC8,1093809976)
endif
set EC8=null
endfunction
function Q1E takes nothing returns boolean
if GetLearnedSkill()==1093809973 and IsUnitIllusion(GetTriggerUnit())==false then
call QLE()
endif
return false
endfunction
function P08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function Q1E))
set t=null
endfunction
function Q0E takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local real Q5E=UO7(UC7,"SourceLifePercent")
local real Q2E=UO7(UC7,"TargetLifePercent")
local integer BH7=GetUnitAbilityLevel(p5,1093678929)
local real Q_E=0.33
if BH7==2 then
set Q_E=0.28
elseif BH7==3 then
set Q_E=0.23
endif
if GetSpellTargetUnit()==p5 then
call SetUnitState(p5,UNIT_STATE_LIFE,RMaxBJ(GetUnitState(p5,UNIT_STATE_MAX_LIFE)*Q2E*0.01,GetUnitState(p5,UNIT_STATE_MAX_LIFE)*Q_E))
endif
if GetSpellTargetUnit()==m5 then
call SetUnitLifePercentBJ(m5,Q5E)
if GetUnitLifePercent(m5)<33.00 and BH7==1 and GetUnitState(m5,UNIT_STATE_LIFE)>1 then
call SetUnitLifePercentBJ(m5,33.00)
endif
if GetUnitLifePercent(m5)<28.00 and BH7==2 and GetUnitState(m5,UNIT_STATE_LIFE)>1 then
call SetUnitLifePercentBJ(m5,28.00)
endif
if GetUnitLifePercent(m5)<23.00 and BH7==3 and GetUnitState(m5,UNIT_STATE_LIFE)>1 then
call SetUnitLifePercentBJ(m5,23.00)
endif
endif
if GetTriggerEvalCount(t)==2 then
call TN7(UC7)
call UA7(t)
endif
set p5=null
set m5=null
set t=null
endfunction
function R4E takes nothing returns boolean
if GetSpellAbilityId()==1093678930 then
call Q0E()
endif
return false
endfunction
function R7E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit H88
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TR7(UC7,"SourceLifePercent",(GetUnitLifePercent(p5))*1.0)
call TR7(UC7,"TargetLifePercent",(GetUnitLifePercent(m5))*1.0)
call TriggerAddCondition(t,Condition(function R4E))
set H88=CreateUnit(GetOwningPlayer(m5),1697656921,GetUnitX(m5),GetUnitY(m5),0)
call TriggerRegisterUnitEvent(t,H88,EVENT_UNIT_SPELL_EFFECT)
call LM7(H88,1093678930)
call IssueTargetOrder(H88,"thunderbolt",p5)
call ShowUnit(H88,false)
call SetUnitPathing(H88,false)
call SetUnitInvulnerable(H88,true)
call UnitApplyTimedLife(H88,1112820806,0.2)
set H88=CreateUnit(GetOwningPlayer(p5),1697656921,GetUnitX(p5),GetUnitY(p5),0)
call TriggerRegisterUnitEvent(t,H88,EVENT_UNIT_SPELL_EFFECT)
call LM7(H88,1093678930)
call IssueTargetOrder(H88,"thunderbolt",m5)
call ShowUnit(H88,false)
call SetUnitPathing(H88,false)
call SetUnitInvulnerable(H88,true)
call UnitApplyTimedLife(H88,1112820806,0.2)
set t=null
set p5=null
set m5=null
set H88=null
endfunction
function R8E takes nothing returns boolean
if GetSpellAbilityId()==1093678929 then
call R7E()
endif
return false
endfunction
function PL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function R8E))
set t=null
endfunction
function R9E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit B58=(LoadUnitHandle(L7,(OC7),(335)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if GetTriggerUnit()!=B58 then
call KillUnit(B58)
endif
else
call IssueTargetOrder(B58,"attack",O07)
endif
set t=null
set B58=null
set O07=null
return false
endfunction
function RDE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local unit B58
if GetSummoningUnit()==H88 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set B58=GetSummonedUnit()
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterDeathEvent(t,B58)
call TriggerRegisterDeathEvent(t,O07)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function R9E))
call SaveUnitHandle(L7,(OC7),(335),(B58))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call UnitAddAbility(B58,1097625443)
call SetUnitPosition(B58,GetUnitX(O07)+100,GetUnitY(O07)+100)
call IssueTargetOrder(B58,"attack",O07)
call SetUnitMoveSpeed(B58,522)
call SetUnitVertexColorBJ(B58,100,100,100,60)
endif
set t=null
set O07=null
set EC8=null
set H88=null
return false
endfunction
function REE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093815130)
local integer id
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(EC8),GetUnitY(EC8),0)
local trigger t
local integer OC7
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093809751,false)
if DB9(O07)==false then
call F88(O07,1093809751,1,5,1110459722)
endif
set t=CreateTrigger()
set OC7=GetHandleId(t)
call D18(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function RDE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call LM7(H88,1093809227)
call SetUnitAbilityLevel(H88,1093809227,H98)
call IssueTargetOrderById(H88,852274,O07)
call E48(A94,GetUnitX(O07),GetUnitY(O07))
set EC8=null
set O07=null
set H88=null
set t=null
endfunction
function RFE takes nothing returns boolean
if GetSpellAbilityId()==1093815130 then
call REE()
endif
return false
endfunction
function P18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RFE))
set t=null
endfunction
function RGE takes nothing returns nothing
local unit EC8=GetSummoningUnit()
local unit B58=GetSummonedUnit()
call SelectUnitAddForPlayer(B58,GetOwningPlayer(EC8))
call UnitAddAbility(B58,1093815129)
call UnitRemoveAbility(B58,1093815129)
call SetUnitState(B58,UNIT_STATE_LIFE,GetUnitState(B58,UNIT_STATE_MAX_LIFE))
call SetUnitPosition(B58,GetUnitX(B58),GetUnitY(B58))
set EC8=null
set B58=null
endfunction
function RHE takes nothing returns boolean
if GetUnitAbilityLevel(GetSummonedUnit(),1110459721)>0 then
call RGE()
endif
return false
endfunction
function RIE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit H88
local integer H98=GetUnitAbilityLevel(EC8,1093815128)
set H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(EC8),GetUnitY(EC8),0)
call LM7(H88,1093679185)
call SetUnitAbilityLevel(H88,1093679185,H98)
call IssueTargetOrderById(H88,852274,EC8)
set EC8=null
set H88=null
endfunction
function RJE takes nothing returns boolean
if GetSpellAbilityId()==1093815128 and GetUnitTypeId(GetTriggerUnit())==1164277353 then
call RIE()
endif
return false
endfunction
function P_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RJE))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function RHE))
set t=null
endfunction
function RKE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>(4*(4+H98))or CK7(O07)or RE7(EC8,O07)>700 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call KillUnit(H88)
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetTriggerEvalCount(t)>1 and GetSpellAbilityId()==1093751361 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveAbility(EC8,1093751361)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093750856,true)
call KillUnit(H88)
endif
elseif IsUnitVisible(O07,GetOwningPlayer(EC8))==false then
if(LoadInteger(L7,(OC7),(34)))==1 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call KillUnit(H88)
else
call SaveInteger(L7,(OC7),(34),(1))
endif
else
call SaveInteger(L7,(OC7),(34),(0))
if IsUnitAlly(EC8,GetOwningPlayer(O07))==false then
call SetUnitState(EC8,UNIT_STATE_LIFE,GetUnitState(EC8,UNIT_STATE_LIFE)+H98*25.0/4.0)
else
call SetUnitState(O07,UNIT_STATE_LIFE,GetUnitState(O07,UNIT_STATE_LIFE)+H98*50.0/4.0)
endif
endif
set t=null
set EC8=null
set O07=null
set H88=null
return false
endfunction
function RME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(EC8,1093751361)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093750856,true)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
if GetTriggerEvalCount(t)==1 then
call IssueImmediateOrderById(EC8,851993)
endif
if IsUnitAlly(EC8,GetOwningPlayer(O07))==false then
call SetUnitX(H88,GetUnitX(EC8))
call SetUnitY(H88,GetUnitY(EC8))
else
call SetUnitX(H88,GetUnitX(O07))
call SetUnitY(H88,GetUnitY(O07))
endif
endif
set t=null
set EC8=null
set O07=null
set H88=null
return false
endfunction
function RNE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093750856)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit H88
if IsUnitAlly(EC8,GetOwningPlayer(O07))==false then
set H88=CreateUnit(GetOwningPlayer(EC8),1966092615,0,0,0)
call LM7(H88,1093678156)
call SetUnitAbilityLevel(H88,1093678156,H98)
call SetUnitX(H88,GetUnitX(EC8))
call SetUnitY(H88,GetUnitY(EC8))
call IssueTargetOrderById(H88,852487,O07)
else
call LM7(EC8,1093751361)
call UnitMakeAbilityPermanent(EC8,true,1093751361)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093750856,false)
set H88=CreateUnit(B7,1966092615,0,0,0)
call LM7(H88,1093678156)
call SetUnitAbilityLevel(H88,1093678156,H98)
call SetUnitX(H88,GetUnitX(O07))
call SetUnitY(H88,GetUnitY(O07))
call IssueTargetOrderById(H88,852487,EC8)
endif
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RKE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveInteger(L7,(OC7),(34),(0))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerRegisterUnitEvent(t,H88,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function RME))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(19),(H88))
set EC8=null
set O07=null
set t=null
endfunction
function ROE takes nothing returns boolean
if GetSpellAbilityId()==1093750856 and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or CV7(GetSpellTargetUnit())==false)then
call RNE()
endif
return false
endfunction
function P28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ROE))
endfunction
function RPE takes nothing returns boolean
return GetSpellAbilityId()==1093683252
endfunction
function RQE takes nothing returns nothing
local unit YK9=GetTriggerUnit()
local integer H98=GetUnitAbilityLevel(YK9,1093683252)
local unit H88=CreateUnit(GetOwningPlayer(YK9),1697656901,GetUnitX(YK9),GetUnitY(YK9),0)
call UnitAddAbility(H88,1093814862)
call SetUnitAbilityLevel(H88,1093814862,H98)
call IssueTargetOrderById(H88,852274,YK9)
endfunction
function P58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RPE))
call TriggerAddAction(t,function RQE)
endfunction
function RRE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=GetEventDamageSource()
local real d=GetEventDamage()
local real XV8=UO7(UC7,"KrakenShell|Damage")
local real RSE=UO7(UC7,"KrakenShell|LastTime")
if Z67(GetOwningPlayer(m5))then
if(RSE+M2)<(RQ7())then
set XV8=0
endif
set RSE=(RQ7())
set XV8=XV8+d
if XV8>p2 and GetUnitAbilityLevel(p5,1112433775)==0 then
set XV8=0
call D59(p5)
call DL9(p5,0,0)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",p5,"origin"))
endif
call TR7(UC7,"KrakenShell|Damage",XV8)
call TR7(UC7,"KrakenShell|LastTime",RSE)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function RTE takes unit p5,boolean A_9 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function RRE))
call TU7(UC7,"Source",p5)
call TR7(UC7,"KrakenShell|Damage",0)
call TR7(UC7,"KrakenShell|LastTime",RQ7())
if A_9 then
set aj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set t=null
endfunction
function RUE takes nothing returns boolean
if GetLearnedSkill()==1093678149 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093678149)==1 then
call RTE(GetTriggerUnit(),false)
endif
return false
endfunction
function Q48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function RUE))
set t=null
endfunction
function RVE takes nothing returns boolean
return GetSpellAbilityId()==1093678134 and CV7(GetSpellTargetUnit())==false
endfunction
function RWE takes nothing returns nothing
local unit t=GetSpellTargetUnit()
local real RXE=(60.+(50.*I2R(GetUnitAbilityLevelSwapped(1093678134,GetTriggerUnit()))))
call UnitDamageTargetBJ(GetTriggerUnit(),t,RXE,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_COLD)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",t,"chest"))
set t=null
endfunction
function Q78 takes nothing returns nothing
set DQ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DQ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(DQ,Condition(function RVE))
call TriggerAddAction(DQ,function RWE)
endfunction
function RYE takes nothing returns boolean
return GetSpellAbilityId()==1093685074
endfunction
function RZE takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0
endfunction
function RAE takes nothing returns nothing
call HD8(D8,GetEnumUnit(),ZH4,F8)
endfunction
function RBE takes unit EC8,unit O07,real B19 returns nothing
local group B_9=CX7()
local boolexpr QTD=Condition(function RZE)
set D8=EC8
set F8=B19
call GroupEnumUnitsInRange(B_9,GetUnitX(O07),GetUnitY(O07),185+25,QTD)
call ForGroup(B_9,function RAE)
call DestroyBoolExpr(QTD)
call CW7(B_9)
set B_9=null
set QTD=null
endfunction
function RCE takes nothing returns boolean
return IsUnitInGroup(GetFilterUnit(),R8)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LO7(GetFilterUnit())==false and GetFilterUnit()!=GJ7
endfunction
function R3E takes group R6E,unit RLE,unit EC8,unit pzv returns unit
local group B_9=CX7()
local boolexpr QTD=Condition(function RCE)
local unit R1E=null
local unit R0E
set R8=R6E
set D8=EC8
call GroupEnumUnitsInRange(B_9,GetUnitX(RLE),GetUnitY(RLE),500,QTD)
set R0E=FirstOfGroup(B_9)
set R1E=R0E
loop
exitwhen R0E==null
if GetUnitState(R0E,UNIT_STATE_LIFE)!=GetUnitState(R0E,UNIT_STATE_MAX_LIFE)then
if R0E!=EC8 and IsUnitType(R0E,UNIT_TYPE_HERO)==true and IsUnitType(R1E,UNIT_TYPE_HERO)==false then
set R1E=R0E
elseif R0E!=EC8 and GetUnitState(R0E,UNIT_STATE_LIFE)<GetUnitState(R1E,UNIT_STATE_LIFE)and IsUnitType(R0E,UNIT_TYPE_HERO)==true and IsUnitType(R1E,UNIT_TYPE_HERO)==true then
set R1E=R0E
elseif R0E!=EC8 and IsUnitType(R1E,UNIT_TYPE_HERO)==false and GetUnitState(R0E,UNIT_STATE_LIFE)<GetUnitState(R1E,UNIT_STATE_LIFE)then
set R1E=R0E
elseif R0E==EC8 then
set R1E=R0E
endif
endif
call GroupRemoveUnit(B_9,R0E)
set R0E=FirstOfGroup(B_9)
endloop
call CW7(B_9)
call DestroyBoolExpr(QTD)
set B_9=null
set QTD=null
set R0E=null
set GN7=R1E
return GN7
endfunction
function R5E takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local string R2E="Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCaster.mdl"
local string R_E="origin"
local unit array S4E
local integer x
local integer i=1
local integer H98=GetUnitAbilityLevel(CC7,1093685074)
local real B19=60+H98*20
local group R6E=CX7()
local integer S7E
local boolean S8E=false
set GJ7=CC7
if H98==3 then
set S7E=4
elseif H98==4 then
set S7E=5
else
set S7E=3
endif
call SetUnitState(CC7,UNIT_STATE_LIFE,GetUnitState(CC7,UNIT_STATE_LIFE)+B19)
call RBE(CC7,CC7,B19)
call GroupAddUnit(R6E,CC7)
call DY8(R2E,CC7,R_E,2)
if O07==CC7 then
set S4E[i]=R3E(R6E,CC7,CC7,O07)
else
set S4E[i]=O07
endif
if S4E[i]==null then
call CW7(R6E)
return
endif
call SetUnitState(S4E[i],UNIT_STATE_LIFE,GetUnitState(S4E[i],UNIT_STATE_LIFE)+B19)
call RBE(CC7,S4E[i],B19)
call GroupAddUnit(R6E,S4E[i])
call DY8(R2E,S4E[i],R_E,2)
call DB8("SPLK",GetUnitX(CC7),GetUnitY(CC7),GetUnitX(S4E[i]),GetUnitY(S4E[i]),0.3,0.5,0.9,1.,0.7)
set i=2
loop
exitwhen i>S7E or S8E
set S4E[i]=R3E(R6E,S4E[i-1],CC7,O07)
if S4E[i]==null then
set S8E=true
else
call GroupAddUnit(R6E,S4E[i])
call DY8(R2E,S4E[i],R_E,2)
call SetUnitState(S4E[i],UNIT_STATE_LIFE,GetUnitState(S4E[i],UNIT_STATE_LIFE)+B19)
call RBE(CC7,S4E[i],B19)
call DB8("SPLK",GetUnitX(S4E[i-1]),GetUnitY(S4E[i-1]),GetUnitX(S4E[i]),GetUnitY(S4E[i]),0.3,0.5,0.9,1.,0.7)
set i=i+1
endif
endloop
loop
set i=i-1
set S4E[i]=null
exitwhen i<2
endloop
call CW7(R6E)
set CC7=null
set O07=null
set R6E=null
endfunction
function RP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RYE))
call TriggerAddAction(t,function R5E)
set t=null
endfunction
function S9E takes nothing returns boolean
return GetSpellAbilityId()==(1093684817)and CV7(GetSpellTargetUnit())==false
endfunction
function SDE takes unit p5,unit m5,integer BH7 returns nothing
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LM7(oA,1093684810)
call SetUnitAbilityLevel(oA,1093684810,BH7)
call IssueTargetOrderById(oA,852075,m5)
set oA=null
endfunction
function SEE takes unit p5,unit m5 returns nothing
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LM7(oA,1093684811)
call IssueTargetOrderById(oA,852095,m5)
set oA=null
endfunction
function SFE takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=U87(OC7,"Source")
local unit O07=U87(OC7,"Target")
local integer H98=GetUnitAbilityLevel(EC8,1093684817)
local integer SGE=GetTriggerExecCount(t)
local real B19=8*H98
local unit H88=U87(OC7,"Caster")
if H98==1 then
call LM7(O07,1093685079)
call HD8(H88,O07,ZH4,B19)
if SGE==8 then
call UnitRemoveAbility(O07,1093685079)
call TN7(OC7)
call UA7(t)
endif
endif
if H98==2 then
if SGE==1 then
call SDE(EC8,O07,2)
endif
if SGE>1 then
call LM7(O07,1093685079)
call HD8(H88,O07,ZH4,B19)
endif
if SGE==9 then
call UnitRemoveAbility(O07,1093685079)
call TN7(OC7)
call UA7(t)
endif
endif
if H98==3 then
if SGE==1 then
call SDE(EC8,O07,2)
endif
if SGE==2 then
call SEE(EC8,O07)
endif
if SGE>2 then
call LM7(O07,1093685079)
call HD8(H88,O07,ZH4,B19)
endif
if SGE==10 then
call UnitRemoveAbility(O07,1093685079)
call TN7(OC7)
call UA7(t)
endif
endif
if H98==4 then
if SGE==1 then
call SDE(EC8,O07,2)
endif
if SGE==2 then
call SEE(EC8,O07)
endif
if SGE>2 then
call LM7(O07,1093685079)
call HD8(H88,O07,ZH4,B19)
endif
if SGE==10 then
call UnitRemoveAbility(O07,1093685079)
call TN7(OC7)
call UA7(t)
endif
endif
set t=null
set H88=null
set EC8=null
set O07=null
endfunction
function SHE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit H88=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),0)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddAction(t,function SFE)
call TU7(UC7,"Source",GetTriggerUnit())
call TU7(UC7,"Target",GetSpellTargetUnit())
call TU7(UC7,"Caster",(H88))
call SDE(GetTriggerUnit(),GetSpellTargetUnit(),1)
set t=null
set H88=null
endfunction
function RQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function S9E))
call TriggerAddAction(t,function SHE)
call DE8(1093684810)
call DE8(1093684811)
set t=null
endfunction
function SIE takes string D68,unit O07,unit CC7 returns nothing
local texttag tt=CreateTextTag()
call SetTextTagText(tt,D68,0.033)
call SetTextTagPosUnit(tt,O07,64)
call SetTextTagColor(tt,160,0,255,255)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,0.15)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,0.65)
if IsUnitAlly(CC7,GetLocalPlayer())or CM7(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
set tt=null
endfunction
function SJE takes real H48 returns string
if H48>4.5 then
return"5.0"
elseif H48>4.0 then
return"4.5"
elseif H48>3.5 then
return"4.0"
elseif H48>3.0 then
return"3.5"
elseif H48>2.5 then
return"3.0"
elseif H48>2.0 then
return"2.5"
elseif H48>1.5 then
return"2.0"
elseif H48>1.0 then
return"1.5"
elseif H48>0.5 then
return"1.0"
elseif H48>0.0 then
return"0.5"
else
return"0.0"
endif
return" "
endfunction
function SKE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=U87(OC7,"Target")
local integer CP8=GetTriggerEvalCount(t)
if CP8>11 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
call SIE(SJE(5.5-0.5*CP8),O07,O07)
endif
set t=null
set O07=null
return false
endfunction
function SME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local real SNE=UO7(UC7,"Damage")
local real SOE=DR8(GetUnitState(m5,UNIT_STATE_LIFE)-SNE,1)
local real SPE=UO7(GetHandleId(m5),"ShallowGrave|FakeLife")
call SetUnitState(m5,UNIT_STATE_LIFE,SOE)
call TR7(GetHandleId(m5),"ShallowGrave|FakeLife",SPE-SNE)
call TN7(UC7)
call UA7(t)
set t=null
set m5=null
return false
endfunction
function SQE takes unit m5,real SNE returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local real SPE=UO7(GetHandleId(m5),"ShallowGrave|FakeLife")
call TU7(UC7,"Target",m5)
call TR7(UC7,"Damage",SNE)
call TR7(GetHandleId(m5),"ShallowGrave|FakeLife",SPE+SNE)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function SME))
set t=null
endfunction
function SRE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5
local real Wx
local real SNE
local integer iX=GetTriggerEvalCount(t)
local real SPE
local real SSE=UO7(UC7,"LastFrame")
local real STE=UO7(UC7,"FrameDamage")
if SSE!=RQ7()then
set SSE=RQ7()
set STE=0
call TR7(UC7,"LastFrame",SSE)
call TR7(UC7,"FrameDamage",STE)
endif
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
set m5=GetTriggerUnit()
set SPE=UO7(GetHandleId(m5),"ShallowGrave|FakeLife")
set Wx=GetUnitState(m5,UNIT_STATE_LIFE)
set SNE=GetEventDamage()
if((Wx-SPE-STE)-SNE)<1 then
call SetUnitState(m5,UNIT_STATE_LIFE,Wx+SNE+STE)
call SQE(m5,SNE)
else
set STE=STE+SNE
call TR7(UC7,"FrameDamage",STE)
endif
else
call UY7(U87(UC7,"Target"),"ShallowGrave|Active")
call DestroyEffect(UH7(UC7,"FX"))
call UnitRemoveAbility((U87(UC7,"Target")),1093808457)
call UnitRemoveAbility((U87(UC7,"Target")),1110456132)
call TN7(UC7)
call UA7(t)
endif
set m5=null
set t=null
return false
endfunction
function SUE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
call LM7(O07,1093808457)
call TriggerRegisterTimerEvent(t,5,false)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function SRE))
call TV7(OC7,"FX",AddSpecialEffectTarget("war3mapImported\\DarkHands.mdx",O07,"overhead"))
call TR7(GetHandleId(O07),"ShallowGrave|FakeLife",0)
call TR7(OC7,"LastFrame",RQ7())
call TR7(OC7,"FrameDamage",0)
call TU7(OC7,"Target",O07)
call UW7(O07,"ShallowGrave|Active")
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function SKE))
call TU7(OC7,"Target",O07)
set t=null
set p5=null
set O07=null
endfunction
function SVE takes nothing returns boolean
if GetSpellAbilityId()==1093742668 then
call SUE()
endif
return false
endfunction
function RR8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SVE))
set t=null
endfunction
function SWE takes nothing returns nothing
local unit m5=GetEnumUnit()
if LO7(m5)==false then
call UnitRemoveAbility(m5,1093684821)
call UnitRemoveAbility(m5,1093684823)
elseif IsUnitType(m5,UNIT_TYPE_HERO)==true then
call EN8(m5,1093684821,5.1)
call EN8(m5,1093684823,5.1)
endif
set m5=null
endfunction
function SXE takes nothing returns nothing
local unit m5=GetEnumUnit()
if LO7(m5)==false then
if IsUnitAlly(m5,IR4)==false then
if IH4==0 then
call LM7(m5,1093684821)
else
call SetUnitAbilityLevel(m5,1093684821,IH4+1)
endif
else
if IH4==0 then
call LM7(m5,1093684823)
else
call SetUnitAbilityLevel(m5,1093684823,IH4+1)
endif
endif
endif
set m5=null
endfunction
function SYE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local group g=UG7(UC7,"g")
local player p=UD7(UC7,"p")
local integer B78=GetTriggerEvalCount(t)
local integer F98=UN7(UC7,"Duration")
set IR4=p
set IH4=B78
if B78==F98/IC7 then
call ForGroup(g,function SWE)
call CW7(g)
call TN7(UC7)
call UA7(t)
else
call ForGroup(g,function SXE)
endif
set t=null
set g=null
set p=null
return false
endfunction
function SZE takes nothing returns nothing
call DY8(IS4,GetEnumUnit(),"chest",3)
call DY8(IS4,GetEnumUnit(),"chest",3)
call DY8(IS4,GetEnumUnit(),"right hand",3)
call DY8(IS4,GetEnumUnit(),"left hand",3)
endfunction
function SAE takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local group g=CX7()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(CO7,1093742673)
local integer F98=6+6*BH7
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit H88=CreateUnit(GetOwningPlayer(CO7),1747988535,x,y,0)
local boolean K1D=false
if BH7==0 then
set BH7=GetUnitAbilityLevel(CO7,1093747778)
set F98=6+6*BH7+6
set K1D=true
endif
call RemoveLocation(l)
set IS4="Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl"
call SetUnitVertexColor(H88,255,255,255,255)
call UnitApplyTimedLife(H88,1112820806,5)
if K1D then
call GroupEnumUnitsInRange(g,x,y,800,Condition(function GQ8))
else
call GroupEnumUnitsInRange(g,x,y,600,Condition(function GQ8))
endif
call ForGroup(g,function SZE)
call TC7(UC7,"g",g)
call TA7(UC7,"p",GetOwningPlayer(CO7))
call TQ7(UC7,"Duration",F98)
call TriggerRegisterTimerEvent(t,IC7,true)
call TriggerAddCondition(t,Condition(function SYE))
call TriggerEvaluate(t)
set CO7=null
set l=null
set g=null
set t=null
set H88=null
endfunction
function SBE takes nothing returns boolean
if GetSpellAbilityId()==1093742673 or GetSpellAbilityId()==1093747778 then
call SAE()
endif
return false
endfunction
function RS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function SBE))
call DE8(1093684821)
call DE8(1093684823)
set t=null
endfunction
function SCE takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
set vZ=CreateUnit(GetOwningPlayer(IN4),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call LM7(vZ,1093744462)
call SetUnitAbilityLevel(vZ,1093744462,R94)
call IssueTargetOrder(vZ,"shadowstrike",GetEnumUnit())
call GroupAddUnit(IQ4,GetEnumUnit())
endif
endfunction
function S3E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local group g=UG7(UC7,"g")
local unit oA=U87(UC7,"Caster")
local integer BH7=UN7(UC7,"Level")
local real RK=UO7(UC7,"Angle")
local group IB8
local real x
local real y
local real S6E
local real SLE
local real S1E=30
local unit S0E
set R94=BH7
if GetTriggerEvalCount(t)>28 then
call CW7(g)
call TN7(UC7)
call UA7(t)
call ShowUnit(oA,false)
call KillUnit(oA)
else
set x=GetUnitX(oA)
set y=GetUnitY(oA)
set IB8=CX7()
set IQ4=g
set IN4=oA
set IJ4=BH7*70
call GroupEnumUnitsInRange(IB8,x,y,150,Condition(function GT8))
call ForGroup(IB8,function SCE)
call CW7(IB8)
set S6E=D78(x+S1E*Cos(RK*bj_DEGTORAD))
set SLE=D88(y+S1E*Sin(RK*bj_DEGTORAD))
call SetUnitX(oA,S6E)
call SetUnitY(oA,SLE)
if ModuloInteger(GetTriggerEvalCount(t),3)==0 then
set S0E=CreateUnit(GetOwningPlayer(oA),1865429335,S6E,SLE,0)
call KillUnit(S0E)
endif
endif
set t=null
set g=null
set IB8=null
set oA=null
return false
endfunction
function S5E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local group g=CX7()
local unit CO7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x1=GetUnitX(CO7)
local real y1=GetUnitY(CO7)
local real x2=GetLocationX(l)
local real y2=GetLocationY(l)
local real RK=PP7(x1,y1,x2,y2)
local integer BH7=GetUnitAbilityLevel(CO7,1093744435)
local unit oA=CreateUnit(GetOwningPlayer(CO7),1747990347,x1,y1,RK)
call E48(QR,x1,y1)
call TU7(UC7,"Caster",oA)
call TQ7(UC7,"Level",BH7)
call TC7(UC7,"g",g)
call TR7(UC7,"Angle",RK)
call TU7(UC7,"Hero",CO7)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function S3E))
call RemoveLocation(l)
set t=null
set oA=null
set g=null
set CO7=null
set l=null
endfunction
function S2E takes nothing returns boolean
if GetSpellAbilityId()==1093744435 then
call S5E()
endif
return false
endfunction
function QD8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function S2E))
set t=null
endfunction
function S_E takes nothing returns nothing
local unit oA=CreateUnit(GetOwningPlayer(IN4),1865429065,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)
call UnitApplyTimedLife(oA,1112820806,2)
set oA=null
endfunction
function T4E takes nothing returns boolean
return FT8()and GetUnitAbilityLevel(GetFilterUnit(),1110454840)==0
endfunction
function PoisonNova_Iterate takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local integer T7E=UN7(UC7,"NovaLevel")
local real r=UO7(UC7,"r")
local group g
if GetTriggerEvalCount(t)>13 then
call TN7(UC7)
call UA7(t)
else
set r=r+53
call TR7(UC7,"r",r)
set g=CX7()
set IN4=CO7
set IH4=T7E
call GroupEnumUnitsInRange(g,GetUnitX(CO7),GetUnitY(CO7),r,Condition(function T4E))
call ForGroup(g,function S_E)
call CW7(g)
endif
set t=null
set CO7=null
set g=null
return false
endfunction
function T8E takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local integer T7E
local integer i=1
local real x=GetUnitX(CO7)
local real y=GetUnitY(CO7)
local unit oA
if GetSpellAbilityId()==1093677363 then
set T7E=GetUnitAbilityLevel(CO7,1093677363)
else
set T7E=GetUnitAbilityLevel(CO7,1093681462)+1
endif
loop
exitwhen i>18
set oA=CreateUnit(GetOwningPlayer(CO7),1697657143,x,y,0)
if(GetPlayerController(GetOwningPlayer(CO7))==MAP_CONTROL_COMPUTER)then
call RemoveGuardPosition(oA)
endif
call LM7(oA,1093678391)
call SetUnitAbilityLevel(oA,1093678391,T7E)
call IssuePointOrderById(oA,851986,x+675*Cos(i*20*bj_DEGTORAD),y+675*Sin(i*20*bj_DEGTORAD))
call UnitApplyTimedLife(oA,1112820806,1.15)
set i=i+1
endloop
set CO7=null
set oA=null
endfunction
function T9E takes nothing returns boolean
if GetSpellAbilityId()==1093677363 or GetSpellAbilityId()==1093681462 then
call T8E()
endif
return false
endfunction
function QF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function T9E))
set t=null
endfunction
function TDE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
call HJ8(p5,0)
call UY7(p5,"4277")
set t=null
set p5=null
return false
endfunction
function TEE takes unit Z88,unit m5 returns nothing
local real TFE=100*GetUnitState(m5,UNIT_STATE_LIFE)/ GetUnitState(m5,UNIT_STATE_MAX_LIFE)
local real TGE=2.5*GetUnitAbilityLevel(Z88,1093746995)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer FinalBonus
call UW7(Z88,"4277")
call TriggerRegisterTimerEvent(t,0.35,false)
call TriggerAddCondition(t,Condition(function TDE))
call TU7(UC7,"Source",Z88)
if IsUnitType(m5,UNIT_TYPE_HERO)==false then
set TGE=TGE/ 2
endif
if TFE>80 then
call HJ8(Z88,R2I(TGE))
elseif TFE>60 then
call HJ8(Z88,R2I(TGE*2))
elseif TFE>40 then
call HJ8(Z88,R2I(TGE*2*2))
elseif TFE>20 then
call HJ8(Z88,R2I(TGE*2*2*2))
else
call HJ8(Z88,R2I(TGE*2*2*2*2))
endif
set t=null
endfunction
function THE takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
if GetSpellAbilityId()==1093679446 and GetUnitAbilityLevel(GetTriggerUnit(),1093746995)>0 then
call TEE(GetTriggerUnit(),GetSpellTargetUnit())
endif
else
if GetUnitAbilityLevel(GetAttacker(),1093746995)>0 and IsUnitIllusion(GetAttacker())==false and IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==true and UU7(GetAttacker(),"4277")==false then
call TEE(GetAttacker(),GetTriggerUnit())
endif
endif
return false
endfunction
function QG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function THE))
set t=null
endfunction
function TIE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local real NVD=(LoadReal(L7,(GetHandleId(O07)),(684)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or NVD<(TimerGetElapsed(W))or CK7(O07)then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call SaveReal(L7,(GetHandleId(O07)),(684),((0)*1.0))
call UnitRemoveAbility(O07,1093808983)
call UnitRemoveAbility(O07,1093808981)
call UnitRemoveAbility(O07,1093808982)
call UnitRemoveAbility(O07,1093808984)
call UnitRemoveAbility(O07,1110459713)
else
call HD8(EC8,O07,ZG4,5+5*H98)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function TJE takes nothing returns nothing
local trigger t
local integer OC7
local unit EC8=GetTriggerUnit()
local unit O07=GetAttacker()
local real NVD=(LoadReal(L7,(GetHandleId(O07)),(684)))
local integer H98=GetUnitAbilityLevel(EC8,1093684557)
if NVD>(TimerGetElapsed(W))then
call SaveReal(L7,(GetHandleId(O07)),(684),(((TimerGetElapsed(W))+I37)*1.0))
else
set t=CreateTrigger()
set OC7=GetHandleId(t)
call SaveReal(L7,(GetHandleId(O07)),(684),(((TimerGetElapsed(W))+I37)*1.0))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,O07)
call TriggerAddCondition(t,Condition(function TIE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveInteger(L7,(OC7),(5),(H98))
if DB9(O07)==false then
if H98==1 then
call LM7(O07,1093808983)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093808983,false)
elseif H98==2 then
call LM7(O07,1093808981)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093808981,false)
elseif H98==3 then
call LM7(O07,1093808982)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093808982,false)
elseif H98==4 then
call LM7(O07,1093808984)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093808984,false)
endif
endif
endif
set t=null
set EC8=null
set O07=null
endfunction
function TKE takes nothing returns boolean
if GetUnitAbilityLevel(GetTriggerUnit(),1093684557)>0 and GetUnitAbilityLevel(GetAttacker(),1093678162)==0 and IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))and CK7(GetAttacker())==false then
call TJE()
endif
return false
endfunction
function QH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function TKE))
set t=null
endfunction
function TME takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
call UnitRemoveAbility(m5,1111847784)
call UnitRemoveAbility(m5,1110458705)
set m5=null
endfunction
function TNE takes nothing returns boolean
if GetSpellAbilityId()==1093679152 or GetSpellAbilityId()==1093752154 then
call TME()
endif
return false
endfunction
function QI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function TNE))
set t=null
endfunction
function TOE takes nothing returns boolean
return GetSpellAbilityId()==1093679192
endfunction
function TPE takes nothing returns nothing
local location I_9=GetUnitLoc(GetSpellAbilityUnit())
call CreateNUnitsAtLocFacingLocBJ(1,1697656901,GetOwningPlayer(GetSpellAbilityUnit()),I_9,I_9)
call RemoveLocation(I_9)
call UnitAddAbility(bj_lastCreatedUnit,1093679427)
call SetUnitAbilityLevelSwapped(1093679427,bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(1093679192,GetSpellAbilityUnit()))
call IssueTargetOrder(bj_lastCreatedUnit,"bloodlust",GetSpellAbilityUnit())
endfunction
function QK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function TOE))
call TriggerAddAction(t,function TPE)
set t=null
endfunction
function TQE takes unit p5,integer BH7,integer TRE returns nothing
call UnitRemoveAbility(p5,1093749586)
call UnitRemoveAbility(p5,1093749587)
call UnitRemoveAbility(p5,1093749585)
call UnitRemoveAbility(p5,1093749584)
call UnitRemoveAbility(p5,1093749553)
call UnitRemoveAbility(p5,1093749591)
call UnitRemoveAbility(p5,1093749592)
call UnitRemoveAbility(p5,1093749593)
call UnitRemoveAbility(p5,1093749812)
call UnitRemoveAbility(p5,1093749811)
call UnitRemoveAbility(p5,1093749810)
call UnitRemoveAbility(p5,1093749809)
call UnitRemoveAbility(p5,1093749816)
call UnitRemoveAbility(p5,1093749815)
call UnitRemoveAbility(p5,1093749817)
call UnitRemoveAbility(p5,1093749826)
if BH7==1 then
if TRE==1 then
call LM7(p5,1093749586)
elseif TRE==2 then
call LM7(p5,1093749587)
elseif TRE==3 then
call LM7(p5,1093749585)
elseif TRE==4 then
call LM7(p5,1093749584)
endif
elseif BH7==2 then
if TRE==1 then
call LM7(p5,1093749553)
elseif TRE==2 then
call LM7(p5,1093749591)
elseif TRE==3 then
call LM7(p5,1093749592)
elseif TRE==4 then
call LM7(p5,1093749593)
endif
elseif BH7==3 then
if TRE==1 then
call LM7(p5,1093749812)
elseif TRE==2 then
call LM7(p5,1093749811)
elseif TRE==3 then
call LM7(p5,1093749810)
elseif TRE==4 then
call LM7(p5,1093749809)
endif
elseif BH7==4 then
if TRE==1 then
call LM7(p5,1093749816)
elseif TRE==2 then
call LM7(p5,1093749815)
elseif TRE==3 then
call LM7(p5,1093749817)
elseif TRE==4 then
call LM7(p5,1093749826)
endif
endif
endfunction
function TSE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer TTE=UN7(UC7,"ShellCache")
local unit p5=U87(TTE,"Source")
local integer TRE=UN7(TTE,"ShellCounter")
local integer BH7=GetUnitAbilityLevel(p5,1093686872)
set TRE=DN8(TRE+1,4)
call TQ7(TTE,"ShellCounter",TRE)
call TQE(p5,BH7,TRE)
call TN7(UC7)
call UA7(t)
set t=null
set p5=null
return false
endfunction
function TUE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local integer TRE=UN7(UC7,"ShellCounter")
local integer BH7=GetUnitAbilityLevel(GetTriggerUnit(),1093686872)
if GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and Z67(GetOwningPlayer(GetEventDamageSource()))then
if TRE>0 then
endif
set TRE=DO8(TRE-1,0)
call TQ7(UC7,"ShellCounter",TRE)
call TQE(p5,BH7,TRE)
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,14-BH7,false)
call TriggerAddCondition(t,Condition(function TSE))
call TQ7(UC7,"ShellCache",GetHandleId(GetTriggeringTrigger()))
endif
set t=null
set p5=null
return false
endfunction
function TVE takes nothing returns nothing
local trigger t
local integer UC7
local unit p5=GetTriggerUnit()
local integer BH7=GetUnitAbilityLevel(GetTriggerUnit(),1093686872)
if BH7==1 then
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function TUE))
call TU7(UC7,"Source",p5)
call TQ7(UC7,"ShellCounter",4)
endif
call TQE(p5,BH7,4)
set t=null
set p5=null
endfunction
function TWE takes nothing returns boolean
if GetLearnedSkill()==1093686872 and IsUnitIllusion(GetTriggerUnit())==false then
call TVE()
endif
return false
endfunction
function TXE takes player p returns nothing
call SetPlayerAbilityAvailable(p,1093749586,false)
call SetPlayerAbilityAvailable(p,1093749587,false)
call SetPlayerAbilityAvailable(p,1093749585,false)
call SetPlayerAbilityAvailable(p,1093749584,false)
call SetPlayerAbilityAvailable(p,1093749589,false)
call SetPlayerAbilityAvailable(p,1093749590,false)
call SetPlayerAbilityAvailable(p,1093749553,false)
call SetPlayerAbilityAvailable(p,1093749591,false)
call SetPlayerAbilityAvailable(p,1093749592,false)
call SetPlayerAbilityAvailable(p,1093749593,false)
call SetPlayerAbilityAvailable(p,1093749594,false)
call SetPlayerAbilityAvailable(p,1093749588,false)
call SetPlayerAbilityAvailable(p,1093749812,false)
call SetPlayerAbilityAvailable(p,1093749811,false)
call SetPlayerAbilityAvailable(p,1093749810,false)
call SetPlayerAbilityAvailable(p,1093749809,false)
call SetPlayerAbilityAvailable(p,1093749808,false)
call SetPlayerAbilityAvailable(p,1093749813,false)
call SetPlayerAbilityAvailable(p,1093749816,false)
call SetPlayerAbilityAvailable(p,1093749815,false)
call SetPlayerAbilityAvailable(p,1093749817,false)
call SetPlayerAbilityAvailable(p,1093749826,false)
call SetPlayerAbilityAvailable(p,1093749825,false)
call SetPlayerAbilityAvailable(p,1093749814,false)
call SetPlayerAbilityAvailable(p,1093749832,false)
call SetPlayerAbilityAvailable(p,1093750067,false)
call SetPlayerAbilityAvailable(p,1093750068,false)
call SetPlayerAbilityAvailable(p,1093750083,false)
call SetPlayerAbilityAvailable(p,1093750071,false)
call SetPlayerAbilityAvailable(p,1093750072,false)
call SetPlayerAbilityAvailable(p,1093750073,false)
call SetPlayerAbilityAvailable(p,1093750081,false)
call SetPlayerAbilityAvailable(p,1093750069,false)
call SetPlayerAbilityAvailable(p,1093750082,false)
call SetPlayerAbilityAvailable(p,1093750070,false)
endfunction
function QN8 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer i=0
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function TWE))
loop
exitwhen i>5
call TXE(Z7[i])
call TXE(A7[i])
set i=i+1
endloop
set t=null
endfunction
function TYE takes nothing returns nothing
local integer H98
local unit EC8=GetTriggerUnit()
local unit H88
if GetUnitTypeId(EC8)==1966092599 or GetUnitTypeId(EC8)==1966092601 or GetUnitTypeId(EC8)==1966092600 or GetUnitTypeId(EC8)==1966092609 or GetUnitTypeId(EC8)==1966092610 or GetUnitTypeId(EC8)==1966092611 or GetUnitTypeId(EC8)==1966092629 or GetUnitTypeId(EC8)==1966092630 or GetUnitTypeId(EC8)==1966092631 then
return
endif
set H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(EC8),GetUnitY(EC8),0)
if GetUnitTypeId(EC8)==1966092596 or GetUnitTypeId(EC8)==1966092612 or GetUnitTypeId(EC8)==1966092626 then
set H98=1
elseif GetUnitTypeId(EC8)==1966092597 or GetUnitTypeId(EC8)==1966092613 or GetUnitTypeId(EC8)==1966092627 then
set H98=2
else
set H98=3
endif
call LM7(H88,1093750342)
call SetUnitAbilityLevel(H88,1093750342,H98)
call IssueImmediateOrder(H88,"stomp")
set EC8=null
set H88=null
endfunction
function TZE takes unit TAE,integer DI9,integer H98 returns nothing
local integer TBE
if H98==1 then
set TBE=8
elseif H98==2 then
set TBE=14
elseif H98==3 then
set TBE=22
endif
call HJ8(TAE,DI9*TBE)
endfunction
function TCE takes nothing returns boolean
local integer DI9
local integer AF7
local integer H98
local unit TAE=GetAttacker()
local integer id=GetUnitTypeId(TAE)
if id==1966092596 or id==1966092597 or id==1966092598 or id==1966092612 or id==1966092613 or id==1966092614 or id==1966092626 or id==1966092627 or id==1966092628 then
set AF7=GetHandleId(TAE)
set H98=UN7(AF7,"Level")
set DI9=UN7(AF7,"Remaining")
set DI9=IMaxBJ(DI9-1,0)
call TQ7(AF7,"Remaining",DI9)
call TZE(TAE,DI9,H98)
endif
set TAE=null
return false
endfunction
function T3E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit TAE=U87(OC7,"Source")
local unit EC8=TAE
local integer H98=UN7(OC7,"Level")
local integer EID=UN7(OC7,"Counter")
local integer DI9=UN7(GetHandleId(TAE),"Remaining")
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call TN7(OC7)
call UA7(t)
else
set EID=EID+1
call TQ7(OC7,"Counter",EID)
if ModuloInteger(EID,15)==0 then
set DI9=IMinBJ(DI9+1,7)
call TQ7(GetHandleId(TAE),"Remaining",DI9)
endif
if GetUnitTypeId(EC8)==1966092599 or GetUnitTypeId(EC8)==1966092601 or GetUnitTypeId(EC8)==1966092600 or GetUnitTypeId(EC8)==1966092609 or GetUnitTypeId(EC8)==1966092610 or GetUnitTypeId(EC8)==1966092611 or GetUnitTypeId(EC8)==1966092629 or GetUnitTypeId(EC8)==1966092630 or GetUnitTypeId(EC8)==1966092631 then
set DI9=7
call TQ7(GetHandleId(TAE),"Remaining",DI9)
endif
call TZE(TAE,DI9,H98)
if GetUnitTypeId(TAE)==1966092599 or GetUnitTypeId(TAE)==1966092601 or GetUnitTypeId(TAE)==1966092600 or GetUnitTypeId(TAE)==1966092609 or GetUnitTypeId(TAE)==1966092610 or GetUnitTypeId(TAE)==1966092611 or GetUnitTypeId(TAE)==1966092629 or GetUnitTypeId(TAE)==1966092630 or GetUnitTypeId(TAE)==1966092631 then
call SetUnitState(TAE,UNIT_STATE_LIFE,GetUnitState(TAE,UNIT_STATE_LIFE)+31.25+18.75*H98)
endif
endif
set t=null
set TAE=null
return false
endfunction
function T6E takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==1966092596 or GetUnitTypeId(GetFilterUnit())==1966092597 or GetUnitTypeId(GetFilterUnit())==1966092598 or GetUnitTypeId(GetFilterUnit())==1966092612 or GetUnitTypeId(GetFilterUnit())==1966092613 or GetUnitTypeId(GetFilterUnit())==1966092614 or GetUnitTypeId(GetFilterUnit())==1966092626 or GetUnitTypeId(GetFilterUnit())==1966092627 or GetUnitTypeId(GetFilterUnit())==1966092628 or GetUnitTypeId(GetFilterUnit())==1966092599 or GetUnitTypeId(GetFilterUnit())==1966092601 or GetUnitTypeId(GetFilterUnit())==1966092600 or GetUnitTypeId(GetFilterUnit())==1966092609 or GetUnitTypeId(GetFilterUnit())==1966092610 or GetUnitTypeId(GetFilterUnit())==1966092611 or GetUnitTypeId(GetFilterUnit())==1966092629 or GetUnitTypeId(GetFilterUnit())==1966092630 or GetUnitTypeId(GetFilterUnit())==1966092631 then
call KillUnit(GetFilterUnit())
endif
return false
endfunction
function TLE takes nothing returns nothing
local group g=CX7()
local unit EC8=GetTriggerUnit()
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local integer H98=GetUnitAbilityLevel(EC8,1093750341)
local unit T1E
local unit T0E
local unit T5E
local trigger t
local integer OC7
local boolean W3D=false
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(EC8),Condition(function T6E))
call CW7(g)
if H98==0 then
set H98=GetUnitAbilityLevel(EC8,1093814599)
set W3D=true
endif
if H98==1 then
set T1E=CreateUnit(GetOwningPlayer(EC8),1966092596,x+75,y+75,GetUnitFacing(EC8))
set T0E=CreateUnit(GetOwningPlayer(EC8),1966092612,x-75,y-75,GetUnitFacing(EC8))
elseif H98==2 then
set T1E=CreateUnit(GetOwningPlayer(EC8),1966092597,x+75,y+75,GetUnitFacing(EC8))
set T0E=CreateUnit(GetOwningPlayer(EC8),1966092613,x-75,y-75,GetUnitFacing(EC8))
elseif H98==3 then
set T1E=CreateUnit(GetOwningPlayer(EC8),1966092598,x+75,y+75,GetUnitFacing(EC8))
set T0E=CreateUnit(GetOwningPlayer(EC8),1966092614,x-75,y-75,GetUnitFacing(EC8))
endif
call SelectUnitAddForPlayer(T1E,GetOwningPlayer(EC8))
call SelectUnitAddForPlayer(T0E,GetOwningPlayer(EC8))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",T1E,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",T0E,"origin"))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,T1E,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function T3E))
call TU7(OC7,"Source",T1E)
call TQ7(OC7,"Level",H98)
call TQ7(OC7,"Counter",0)
call TQ7(GetHandleId(T1E),"Remaining",7)
call TQ7(GetHandleId(T1E),"Level",H98)
call TZE(T1E,7,H98)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,T0E,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function T3E))
call TU7(OC7,"Source",T0E)
call TQ7(OC7,"Level",H98)
call TQ7(OC7,"Counter",0)
call TQ7(GetHandleId(T0E),"Remaining",7)
call TQ7(GetHandleId(T0E),"Level",H98)
call TZE(T0E,7,H98)
if W3D then
if H98==1 then
set T5E=CreateUnit(GetOwningPlayer(EC8),1966092626,x+75,y,GetUnitFacing(EC8))
elseif H98==2 then
set T5E=CreateUnit(GetOwningPlayer(EC8),1966092627,x+75,y,GetUnitFacing(EC8))
elseif H98==3 then
set T5E=CreateUnit(GetOwningPlayer(EC8),1966092628,x+75,y,GetUnitFacing(EC8))
endif
call SelectUnitAddForPlayer(T5E,GetOwningPlayer(EC8))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",T5E,"origin"))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,T5E,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function T3E))
call TU7(OC7,"Source",T5E)
call TQ7(OC7,"Level",H98)
call TQ7(OC7,"Counter",0)
call TQ7(GetHandleId(T5E),"Remaining",7)
call TQ7(GetHandleId(T5E),"Level",H98)
call TZE(T5E,7,H98)
endif
set g=null
set EC8=null
set T1E=null
set T0E=null
set T5E=null
endfunction
function T2E takes nothing returns boolean
if GetSpellAbilityId()==1093750341 or GetSpellAbilityId()==1093814599 then
call TLE()
elseif GetSpellAbilityId()==1093750338 or GetSpellAbilityId()==1093750339 or GetSpellAbilityId()==1093750340 or GetSpellAbilityId()==1093750348 or GetSpellAbilityId()==1093750349 or GetSpellAbilityId()==1093750350 or GetSpellAbilityId()==1093814618 or GetSpellAbilityId()==1093814832 or GetSpellAbilityId()==1093814833 then
call TYE()
endif
return false
endfunction
function QJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function T2E))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function TCE))
set t=null
endfunction
function T_E takes unit EC8,integer U4E,integer U7E returns nothing
local string c1="|c0000cc00"
local string c="||"
local string p=" "
local string s=c1+"|||r"
local string U8E
local boolean U9E=false
local texttag tt=U97(GetHandleId(EC8),"SoulAssumption|Text")
if U4E==0 then
set U8E=" "
elseif U7E==1 then
if U4E==0 then
set U8E=c+p+c+p+c
elseif U4E==1 then
set U8E=s+p+c+p+c
elseif U4E==2 then
set U8E=s+p+s+p+c
elseif U4E==3 then
set U8E=s+p+s+p+s
endif
elseif U7E==2 then
if U4E==0 then
set U8E=c+p+c+p+c+p+c
elseif U4E==1 then
set U8E=s+p+c+p+c+p+c
elseif U4E==2 then
set U8E=s+p+s+p+c+p+c
elseif U4E==3 then
set U8E=s+p+s+p+s+p+c
elseif U4E==4 then
set U8E=s+p+s+p+s+p+s
endif
elseif U7E==3 then
if U4E==0 then
set U8E=c+p+c+p+c+p+c+p+c
elseif U4E==1 then
set U8E=s+p+c+p+c+p+c+p+c
elseif U4E==2 then
set U8E=s+p+s+p+c+p+c+p+c
elseif U4E==3 then
set U8E=s+p+s+p+s+p+c+p+c
elseif U4E==4 then
set U8E=s+p+s+p+s+p+s+p+c
elseif U4E==5 then
set U8E=s+p+s+p+s+p+s+p+s
endif
elseif U7E==4 then
if U4E==0 then
set U8E=c+p+c+p+c+p+c+p+c+p+c
elseif U4E==1 then
set U8E=s+p+c+p+c+p+c+p+c+p+c
elseif U4E==2 then
set U8E=s+p+s+p+c+p+c+p+c+p+c
elseif U4E==3 then
set U8E=s+p+s+p+s+p+c+p+c+p+c
elseif U4E==4 then
set U8E=s+p+s+p+s+p+s+p+c+p+c
elseif U4E==5 then
set U8E=s+p+s+p+s+p+s+p+s+p+c
elseif U4E==6 then
set U8E=s+p+s+p+s+p+s+p+s+p+s
endif
endif
call SetTextTagText(tt,U8E,0.023)
if GetOwningPlayer(EC8)==GetLocalPlayer()then
set U9E=true
endif
if LO7(EC8)then
set U9E=false
endif
call SetTextTagPosUnit(tt,EC8,0)
call SetTextTagVisibility(tt,U9E)
call SetTextTagPermanent(tt,true)
endfunction
function UDE takes unit CO7,integer BH7 returns nothing
local integer UEE=GetUnitAbilityLevel(CO7,1093750337)
call T_E(CO7,BH7,UEE)
if BH7==0 or UU7(CO7,"SoulAssumptionState")==true then
call UnitRemoveAbility(CO7,1093750583)
call UnitRemoveAbility(CO7,1093750584)
call UnitRemoveAbility(CO7,1093750585)
call LM7(CO7,1093750577)
call UnitRemoveAbility(CO7,1093750578)
call UnitRemoveAbility(CO7,1093750362)
call UnitRemoveAbility(CO7,1093750329)
call UnitRemoveAbility(CO7,1093750361)
call UnitRemoveAbility(CO7,1093750576)
call UnitRemoveAbility(CO7,1093750579)
call UnitRemoveAbility(CO7,1093684306)
call UnitRemoveAbility(CO7,1093687632)
call UnitRemoveAbility(CO7,1093685063)
call UnitRemoveAbility(CO7,1093687631)
call UnitRemoveAbility(CO7,1093684806)
call UnitRemoveAbility(CO7,1093684548)
elseif BH7==1 then
call UnitRemoveAbility(CO7,1093750583)
call UnitRemoveAbility(CO7,1093750584)
call UnitRemoveAbility(CO7,1093750585)
call UnitRemoveAbility(CO7,1093750577)
call LM7(CO7,1093750578)
call UnitRemoveAbility(CO7,1093750362)
call UnitRemoveAbility(CO7,1093750329)
call UnitRemoveAbility(CO7,1093750361)
call UnitRemoveAbility(CO7,1093750576)
call UnitRemoveAbility(CO7,1093750579)
call LM7(CO7,1093684306)
call UnitRemoveAbility(CO7,1093687632)
call UnitRemoveAbility(CO7,1093685063)
call UnitRemoveAbility(CO7,1093687631)
call UnitRemoveAbility(CO7,1093684806)
call UnitRemoveAbility(CO7,1093684548)
elseif BH7==2 then
call UnitRemoveAbility(CO7,1093750583)
call UnitRemoveAbility(CO7,1093750584)
call UnitRemoveAbility(CO7,1093750585)
call UnitRemoveAbility(CO7,1093750577)
call UnitRemoveAbility(CO7,1093750578)
call LM7(CO7,1093750362)
call UnitRemoveAbility(CO7,1093750329)
call UnitRemoveAbility(CO7,1093750361)
call UnitRemoveAbility(CO7,1093750576)
call UnitRemoveAbility(CO7,1093750579)
call UnitRemoveAbility(CO7,1093684306)
call LM7(CO7,1093687632)
call UnitRemoveAbility(CO7,1093685063)
call UnitRemoveAbility(CO7,1093687631)
call UnitRemoveAbility(CO7,1093684806)
call UnitRemoveAbility(CO7,1093684548)
elseif BH7==3 then
call UnitRemoveAbility(CO7,1093750583)
call UnitRemoveAbility(CO7,1093750584)
call UnitRemoveAbility(CO7,1093750585)
call UnitRemoveAbility(CO7,1093684306)
call UnitRemoveAbility(CO7,1093687632)
call LM7(CO7,1093685063)
call UnitRemoveAbility(CO7,1093687631)
call UnitRemoveAbility(CO7,1093684806)
call UnitRemoveAbility(CO7,1093684548)
call UnitRemoveAbility(CO7,1093750577)
call UnitRemoveAbility(CO7,1093750578)
call UnitRemoveAbility(CO7,1093750362)
call UnitRemoveAbility(CO7,1093750329)
call UnitRemoveAbility(CO7,1093750361)
call UnitRemoveAbility(CO7,1093750576)
call UnitRemoveAbility(CO7,1093750579)
if UEE==1 then
call LM7(CO7,1093750583)
else
call LM7(CO7,1093750329)
endif
elseif BH7==4 then
call UnitRemoveAbility(CO7,1093750583)
call UnitRemoveAbility(CO7,1093750584)
call UnitRemoveAbility(CO7,1093750585)
call UnitRemoveAbility(CO7,1093684306)
call UnitRemoveAbility(CO7,1093687632)
call UnitRemoveAbility(CO7,1093685063)
call LM7(CO7,1093687631)
call UnitRemoveAbility(CO7,1093684806)
call UnitRemoveAbility(CO7,1093684548)
call UnitRemoveAbility(CO7,1093750577)
call UnitRemoveAbility(CO7,1093750578)
call UnitRemoveAbility(CO7,1093750362)
call UnitRemoveAbility(CO7,1093750329)
call UnitRemoveAbility(CO7,1093750361)
call UnitRemoveAbility(CO7,1093750576)
call UnitRemoveAbility(CO7,1093750579)
if UEE==2 then
call LM7(CO7,1093750584)
else
call LM7(CO7,1093750361)
endif
elseif BH7==5 then
call UnitRemoveAbility(CO7,1093750583)
call UnitRemoveAbility(CO7,1093750584)
call UnitRemoveAbility(CO7,1093750585)
call UnitRemoveAbility(CO7,1093750577)
call UnitRemoveAbility(CO7,1093750578)
call UnitRemoveAbility(CO7,1093750362)
call UnitRemoveAbility(CO7,1093750329)
call UnitRemoveAbility(CO7,1093750361)
call LM7(CO7,1093750576)
call UnitRemoveAbility(CO7,1093750579)
call UnitRemoveAbility(CO7,1093684306)
call UnitRemoveAbility(CO7,1093687632)
call UnitRemoveAbility(CO7,1093685063)
call UnitRemoveAbility(CO7,1093687631)
call LM7(CO7,1093684806)
call UnitRemoveAbility(CO7,1093684548)
call UnitRemoveAbility(CO7,1093750577)
call UnitRemoveAbility(CO7,1093750578)
call UnitRemoveAbility(CO7,1093750362)
call UnitRemoveAbility(CO7,1093750329)
call UnitRemoveAbility(CO7,1093750361)
call UnitRemoveAbility(CO7,1093750576)
call UnitRemoveAbility(CO7,1093750579)
if UEE==3 then
call LM7(CO7,1093750585)
else
call LM7(CO7,1093750576)
endif
elseif BH7==6 then
call UnitRemoveAbility(CO7,1093750583)
call UnitRemoveAbility(CO7,1093750584)
call UnitRemoveAbility(CO7,1093750585)
call UnitRemoveAbility(CO7,1093750577)
call UnitRemoveAbility(CO7,1093750578)
call UnitRemoveAbility(CO7,1093750362)
call UnitRemoveAbility(CO7,1093750329)
call UnitRemoveAbility(CO7,1093750361)
call UnitRemoveAbility(CO7,1093750576)
call LM7(CO7,1093750579)
call UnitRemoveAbility(CO7,1093684306)
call UnitRemoveAbility(CO7,1093687632)
call UnitRemoveAbility(CO7,1093685063)
call UnitRemoveAbility(CO7,1093687631)
call UnitRemoveAbility(CO7,1093684806)
call LM7(CO7,1093684548)
endif
if(GetUnitAbilityLevel(CO7,1093750337)+2)==BH7 then
call LM7(CO7,1093750346)
else
call UnitRemoveAbility(CO7,1093750346)
endif
endfunction
function UFE takes unit p5,real DS8 returns nothing
local integer BH7=0
local real UGE=110
if DS8>UGE*6 then
set BH7=6
elseif DS8>UGE*5 then
set BH7=5
elseif DS8>UGE*4 then
set BH7=4
elseif DS8>UGE*3 then
set BH7=3
elseif DS8>UGE*2 then
set BH7=2
elseif DS8>UGE*1 then
set BH7=1
endif
set BH7=DN8(BH7,2+GetUnitAbilityLevel(p5,1093750337))
call TQ7(GetHandleId(p5),"Level",BH7)
call UDE(p5,BH7)
endfunction
function UHE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local integer BH7=GetUnitAbilityLevel(p5,1093750337)
call T_E(p5,UN7(GetHandleId(p5),"Level"),BH7)
call UFE(p5,UO7(GetHandleId(p5),"RecentDamage"))
set t=null
set p5=null
return false
endfunction
function UIE takes nothing returns nothing
local integer UC7=GetHandleId(GetTriggeringTrigger())
local unit p5=IN4
local unit m5=IP4
local real DS8=UO7(UC7,"Damage")
if IsUnitAlly(m5,GetOwningPlayer(p5))==false then
set f3=true
call HD8(p5,m5,ZG4,DS8)
set f3=false
else
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+DS8)
endif
set p5=null
set m5=null
endfunction
function UJE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
call UFE(p5,UO7(GetHandleId(p5),"RecentDamage"))
call TN7(UC7)
call UA7(t)
set t=null
set p5=null
return false
endfunction
function UKE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BH7=UN7(GetHandleId(p5),"Level")
local trigger t=EK8(p5,m5,1747993157,"UIE",1000)
local integer UC7=GetHandleId(t)
call TR7(UC7,"Damage",(20+BH7*65)*1.0)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AntiMagicShell\\AntiMagicShell.mdl",p5,"chest"))
call TR7(GetHandleId(p5),"RecentDamage",0*1.0)
call UFE(p5,0)
call U67(p5,"SoulAssumptionState",4)
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerAddCondition(t,Condition(function UJE))
call TriggerRegisterTimerEvent(t,4,false)
call TU7(UC7,"Source",p5)
set p5=null
set m5=null
set t=null
endfunction
function UME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local real DS8=UO7(UC7,"Damage")
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093750337)then
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
call TR7(GetHandleId(p5),"RecentDamage",(UO7(GetHandleId(p5),"RecentDamage")-DS8)*1.0)
endif
call UFE(p5,UO7(GetHandleId(p5),"RecentDamage"))
call TN7(UC7)
call UA7(t)
endif
set t=null
set p5=null
return false
endfunction
function UNE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer UC7=GetHandleId(p5)
local texttag tt=CreateTextTag()
local boolean U9E=false
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function UHE))
call TU7(GetHandleId(t),"Source",p5)
if GetOwningPlayer(p5)==GetLocalPlayer()then
set U9E=true
endif
call SetTextTagText(tt," ",0.023)
call SetTextTagPosUnit(tt,p5,0)
call SetTextTagVisibility(tt,U9E)
call SetTextTagPermanent(tt,true)
set D3[GetPlayerId(GetOwningPlayer(p5))]=p5
call TR7(UC7,"RecentDamage",0*1.0)
call UFE(p5,0)
call TL7(UC7,"SoulAssumption|Text",tt)
set p5=null
set t=null
set tt=null
endfunction
function UOE takes unit UPE,unit UQE returns nothing
local real DS8=GetEventDamage()
local integer BH7=GetUnitAbilityLevel(UPE,1093750337)
local real URE=UO7(GetHandleId(UPE),"RecentDamage")
local trigger t
local integer UC7
if RE7(UPE,UQE)<1400 and f3==false then
if ID8(DS8)and GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and(Z67(GetOwningPlayer(GetEventDamageSource()))or GetUnitTypeId(GetEventDamageSource())==1848651852)then
set URE=URE+DS8
call TR7(GetHandleId(UPE),"RecentDamage",URE*1.0)
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TU7(UC7,"Source",UPE)
call TR7(UC7,"Damage",DS8*1.0)
call TriggerRegisterTimerEvent(t,6,false)
call TriggerRegisterUnitEvent(t,UPE,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,UPE,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UME))
call UFE(UPE,URE)
endif
endif
set t=null
endfunction
function USE takes nothing returns nothing
local integer i=0
loop
exitwhen i>12
if D3[i]!=null then
call UOE(D3[i],GetTriggerUnit())
endif
set i=i+1
endloop
endfunction
function UTE takes nothing returns boolean
if GetLearnedSkill()==1093750337 and GetUnitAbilityLevel(GetTriggerUnit(),1093750337)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call UNE()
endif
return false
endfunction
function UUE takes nothing returns boolean
if GetSpellAbilityId()==1093750337 then
call UKE()
endif
return false
endfunction
function QM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function UTE))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UUE))
set t=null
call ZE8("USE")
endfunction
function UVE takes nothing returns boolean
return GetSpellAbilityId()==1093678672
endfunction
function UWE takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(D8))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1
endfunction
function UXE takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit oA=CreateUnit(GetOwningPlayer(D8),1697656899,GetUnitX(m5),GetUnitY(m5),0)
call LM7(oA,1093683781)
call SetUnitAbilityLevel(oA,1093683781,E8)
call IssueTargetOrderById(oA,852075,m5)
call UnitApplyTimedLifeBJ(2.,1112820806,oA)
call UnitAddAbility(oA,1097625443)
set oA=null
set m5=null
endfunction
function UYE takes unit H88,unit CO7 returns nothing
local group IB8=CX7()
local boolexpr hP=Condition(function UWE)
set D8=CO7
call GroupEnumUnitsInRange(IB8,GetUnitX(H88),GetUnitY(H88),675,hP)
call ForGroup(IB8,function UXE)
call CW7(IB8)
call DestroyBoolExpr(hP)
set IB8=null
set hP=null
endfunction
function UZE takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7
local unit oA=U87(UC7,"Caster")
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
call KillUnit(oA)
call TN7(UC7)
call UA7(t)
elseif GetTriggerEvalCount(t)>22 then
call KillUnit(oA)
call TN7(UC7)
call UA7((t))
call RR7(U87(UC7,"Hero"))
else
call SetUnitAnimation(oA,"birth")
set CO7=U87(UC7,"Hero")
set E8=GetTriggerExecCount(t)*GetUnitAbilityLevel(CO7,1093678672)/2
call UYE(oA,CO7)
endif
set t=null
set oA=null
set CO7=null
endfunction
function UAE takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local location Mk=GetSpellTargetLoc()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local real x=GetLocationX(Mk)
local real y=GetLocationY(Mk)
local unit oA=CreateUnit(GetOwningPlayer(CO7),1697657159,x,y,0)
call RemoveLocation(Mk)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddAction(t,function UZE)
call TU7(UC7,"Hero",CO7)
call TU7(UC7,"Caster",oA)
set CO7=null
set Mk=null
set t=null
set oA=null
endfunction
function RE8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(t,function UAE)
call TriggerAddCondition(t,Condition(function UVE))
call DE8(1093683781)
set t=null
endfunction
function UBE takes nothing returns boolean
return GetSpellAbilityId()==1093683765
endfunction
function UCE takes nothing returns nothing
call LM7(GetEnumUnit(),1093685298)
endfunction
function U3E takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),1093685298)
endfunction
function U6E takes unit ULE,unit U1E returns nothing
if ULE!=null and U1E!=null then
call DB8("CLPB",GetUnitX(ULE),GetUnitY(ULE),GetUnitX(U1E),GetUnitY(U1E),.7,.1,.9,1,.3)
endif
endfunction
function U0E takes nothing returns nothing
local unit CO7=U87(GetHandleId(GetTriggeringTrigger()),"Hero")
local real DS8=0.2*GetEventDamage()
set DS8=DQ8(DS8,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE))
if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>1 and GetEnumUnit()!=GetTriggerUnit()then
if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<DS8 then
call HD8(CO7,GetEnumUnit(),ZI4,DS8)
else
call EL8(GetEnumUnit(),DS8)
endif
endif
set CO7=null
endfunction
function U5E takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local group IB8=UG7(UC7,"Group")
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call ForGroup(IB8,function U3E)
call TN7(UC7)
call CW7(IB8)
call UA7(t)
elseif GetEventDamage()>10 and GetEventDamage()<6000 then
call DisableTrigger(t)
call ForGroup(IB8,function U0E)
call EnableTrigger(t)
endif
set t=null
set IB8=null
endfunction
function U2E takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1
endfunction
function U_E takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local group IB8=CX7()
local integer BH7=GetUnitAbilityLevel(CO7,1093683765)
local boolexpr hP=Condition(function U2E)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer i=2
local group V4E=CX7()
local unit array V7E
local string V8E="Abilities\\Spells\\Undead\\Curse\\CurseTarget.mdl"
call TU7(UC7,"Hero",CO7)
call U6E(CO7,m5)
call DY8(V8E,m5,"overhead",25)
set V7E[1]=m5
call TU7(UC7,"Unit1",V7E[1])
call TriggerRegisterUnitEvent(t,V7E[1],EVENT_UNIT_DAMAGED)
call GroupEnumUnitsInRange(IB8,GetUnitX(m5),GetUnitY(m5),600,hP)
call GroupRemoveUnit(IB8,m5)
call GroupAddUnit(V4E,m5)
call TC7(UC7,"Group",V4E)
loop
exitwhen i>(2+BH7)or FirstOfGroup(IB8)==null
set V7E[i]=FirstOfGroup(IB8)
call U6E(V7E[i-1],V7E[i])
call TriggerRegisterUnitEvent(t,V7E[i],EVENT_UNIT_DAMAGED)
call GroupAddUnit(V4E,V7E[i])
call GroupRemoveUnit(IB8,V7E[i])
call DY8(V8E,V7E[i],"overhead",25)
set i=i+1
endloop
call TQ7(UC7,"FXCount",i-1)
set E8=GetUnitAbilityLevel(CO7,1093683765)
call ForGroup(V4E,function UCE)
call TriggerRegisterTimerEvent(t,25,false)
call TriggerAddAction(t,function U5E)
call DestroyBoolExpr(hP)
set CO7=null
set m5=null
call CW7(IB8)
set IB8=null
set hP=null
set t=null
set V4E=null
endfunction
function RF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UBE))
call TriggerAddAction(t,function U_E)
call DE8(1093683769)
set t=null
endfunction
function V9E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local integer H98=GetUnitAbilityLevel(p5,1093681491)
if GetTriggerEvalCount(t)>9 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect(UH7(UC7,"FX"))
call UnitRemoveAbility(m5,1093744459)
call UnitRemoveAbility(m5,1110458704)
call TN7(UC7)
call UA7(t)
else
call HD8(p5,m5,ZG4,H98*10+5)
endif
set p5=null
set m5=null
set t=null
return false
endfunction
function VDE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local integer BH7=GetUnitAbilityLevel(p5,1093681491)
if GetTriggerEvalCount(t)>9 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect(UH7(UC7,"FX"))
call UnitRemoveAbility(m5,1093685296)
call UnitRemoveAbility(m5,1110456115)
call TN7(UC7)
call UA7(t)
else
call DW8(m5,BH7*10+5)
endif
set p5=null
set m5=null
set t=null
return false
endfunction
function VEE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TU7(UC7,"Target",m5)
call TU7(UC7,"Source",p5)
if IsUnitAlly(m5,GetOwningPlayer(p5))then
call TriggerAddCondition(t,Condition(function VDE))
call TV7(UC7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfSanctuary\\Staff_Sanctuary_Target.mdl",m5,"chest"))
call LM7(m5,1093685296)
elseif CV7(GetSpellTargetUnit())==false then
call TriggerAddCondition(t,Condition(function V9E))
call TV7(UC7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Voodoo\\VoodooAuraTarget.mdl",m5,"overhead"))
call LM7(m5,1093744459)
endif
set p5=null
set m5=null
set t=null
endfunction
function VFE takes nothing returns boolean
if GetSpellAbilityId()==1093681491 then
call VEE()
endif
return false
endfunction
function RG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VFE))
call DE8(1093685296)
call DE8(1093744459)
set t=null
endfunction
function VGE takes nothing returns nothing
call HD8(WL4,GetEnumUnit(),ZG4,20+10*W14)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Immolation\\ImmolationDamage.mdl",GetEnumUnit(),"head"))
endfunction
function VHE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer H98
local integer BD7=GetUnitTypeId(EC8)
local group g
if BD7==1848651861 or BD7==1848658773 then
set H98=1
elseif BD7==1848651865 or BD7==1848658774 then
set H98=2
elseif BD7==1848651866 or BD7==1848658775 then
set H98=3
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set IN4=EC8
set WL4=EC8
set W14=H98
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),275,Condition(function FT8))
call ForGroup(g,function VGE)
call CW7(g)
set g=null
endif
set t=null
set EC8=null
return false
endfunction
function VIE takes unit u returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function VHE))
call SaveUnitHandle(L7,(OC7),(2),(u))
set t=null
endfunction
function VJE takes nothing returns boolean
local integer BD7=GetUnitTypeId(GetTriggerUnit())
if BD7==1848651861 or BD7==1848658773 or BD7==1848651865 or BD7==1848658774 or BD7==1848651866 or BD7==1848658775 then
call VIE(GetTriggerUnit())
endif
return false
endfunction
function VKE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
local real VME=(LoadReal(L7,(OC7),(191)))
local real VNE=(LoadReal(L7,(OC7),(192)))
local integer H98=GetUnitAbilityLevel(EC8,1395667029)
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,VME,VNE,0)
call LM7(H88,1395667029)
call SetUnitAbilityLevel(H88,1395667029,H98)
call IssuePointOrderById(H88,852224,x,y)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set EC8=null
set H88=null
set t=null
return false
endfunction
function VOE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.3,false)
call TriggerAddCondition(t,Condition(function VKE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(6),((GetSpellTargetX())*1.0))
call SaveReal(L7,(OC7),(7),((GetSpellTargetY())*1.0))
call SaveReal(L7,(OC7),(191),((GetUnitX(EC8))*1.0))
call SaveReal(L7,(OC7),(192),((GetUnitY(EC8))*1.0))
set EC8=null
set t=null
endfunction
function VPE takes nothing returns boolean
if GetSpellAbilityId()==1395667029 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
call VOE()
endif
return false
endfunction
function RH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VPE))
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,GetEntireMapRect())
call TriggerAddCondition(t,Condition(function VJE))
set t=null
endfunction
function VQE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
if GetUnitAbilityLevel(CO7,1112041075)==0 then
call UnitRemoveAbility(CO7,1093681977)
call TN7(UC7)
call UA7(t)
endif
set t=null
set CO7=null
return false
endfunction
function VRE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=GetTriggerUnit()
call LM7(CO7,1093681977)
call SetUnitAbilityLevel(CO7,1093681977,GetUnitAbilityLevel(CO7,1093681985))
call TU7(UC7,"Hero",CO7)
call TriggerRegisterTimerEvent(t,.2,true)
call TriggerAddCondition(t,Condition(function VQE))
set CO7=null
set t=null
endfunction
function VSE takes nothing returns boolean
if GetSpellAbilityId()==1093681985 then
call VRE()
endif
return false
endfunction
function QO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VSE))
set t=null
endfunction
function VTE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
call SetUnitState(U87(UC7,"Unit"),UNIT_STATE_MANA,UO7(UC7,"Mana"))
call TN7(UC7)
call UA7(t)
set t=null
return false
endfunction
function VUE takes unit u,real VVE returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function VTE))
call TU7(UC7,"Unit",u)
call TR7(UC7,"Mana",VVE)
set t=null
endfunction
function VWE takes nothing returns boolean
return GetSpellAbilityId()==1093682004
endfunction
function VXE takes nothing returns nothing
local integer UC7=GetHandleId(GetTriggerUnit())
local real Wx=DR8(UO7(UC7,"TLLife1"),1)
local real Tw=DR8(UO7(UC7,"TLMana1"),1)
local real x=UO7(UC7,"TLX1")
local real y=UO7(UC7,"TLY1")
local unit CO7=GetTriggerUnit()
if UO7(UC7,"TLLife1")>1 and GetUnitState(CO7,UNIT_STATE_LIFE)>1 then
call AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl",GetUnitX(CO7),GetUnitY(CO7))
call SetUnitX(CO7,x)
call SetUnitY(CO7,y)
call SetUnitState(CO7,UNIT_STATE_LIFE,Wx)
call SetUnitState(CO7,UNIT_STATE_MANA,Tw)
call UnitRemoveBuffs(CO7,false,true)
call D59(CO7)
call VUE(CO7,Tw)
endif
set CO7=null
endfunction
function QP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VWE))
call TriggerAddAction(t,function VXE)
set t=null
endfunction
function VYE takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit CO7=U87(GetHandleId(t),"UnitVar")
local integer UC7=GetHandleId(CO7)
local integer T8=1
local integer U8=10
loop
exitwhen T8>U8
call TR7(UC7,"TLX"+I2S(T8-1),UO7(UC7,"TLX"+I2S(T8)))
call TR7(UC7,"TLY"+I2S(T8-1),UO7(UC7,"TLY"+I2S(T8)))
call TR7(UC7,"TLLife"+I2S(T8-1),UO7(UC7,"TLLife"+I2S(T8)))
call TR7(UC7,"TLMana"+I2S(T8-1),UO7(UC7,"TLMana"+I2S(T8)))
set T8=T8+1
endloop
call TR7(UC7,"TLX10",GetUnitX(CO7))
call TR7(UC7,"TLY10",GetUnitY(CO7))
call TR7(UC7,"TLLife10",GetUnitState(CO7,UNIT_STATE_LIFE))
call TR7(UC7,"TLMana10",GetUnitState(CO7,UNIT_STATE_MANA))
set t=null
set CO7=null
endfunction
function VZE takes nothing returns nothing
local unit YK9=IN4
local trigger t
set t=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(t,.5)
call TriggerAddAction(t,function VYE)
call TU7(GetHandleId(t),"UnitVar",YK9)
set t=null
endfunction
function QQ8 takes nothing returns nothing
endfunction
function VAE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer C97=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(C97),(2)))
local unit O07=(LoadUnitHandle(L7,(C97),(17)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(O07,1093751130)
call SaveInteger(L7,(GetHandleId((O07))),((4290)),(2))
call FlushChildHashtable(L7,(C97))
call UA7(t)
if GetTriggerUnit()==O07 then
call KillUnit(EC8)
endif
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EC8 then
call SetUnitAbilityLevel(O07,1093751130,GetUnitAbilityLevel(O07,1093751130)+1)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SkeletalMageMissile\\SkeletalMageMissile.mdl",O07,"chest"))
endif
else
call SetUnitX(EC8,GetUnitX(O07)-40)
call SetUnitY(EC8,GetUnitY(O07)-40)
if FU8(O07)and IsUnitVisible(O07,GetOwningPlayer(EC8))==false then
call KillUnit(EC8)
elseif ModuloInteger(GetTriggerEvalCount(t),5)==0 then
call IssueTargetOrder(EC8,"attack",O07)
endif
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function VBE takes unit VCE,unit O07,integer H98 returns nothing
local trigger t=CreateTrigger()
local integer C97=GetHandleId(t)
call UnitRemoveAbility(VCE,1098282348)
call SaveUnitHandle(L7,(C97),(2),(VCE))
call SaveUnitHandle(L7,(C97),(17),(O07))
call LM7(O07,1093751130)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,VCE,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function VAE))
call TriggerEvaluate(t)
call UnitApplyTimedLife(VCE,1112820806,4+4*H98)
set t=null
endfunction
function V3E takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and((LoadInteger(L7,(GetHandleId((GetFilterUnit()))),((4290))))==1)==false and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))==true or FU8(GetFilterUnit())==false)
endfunction
function V6E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local group g
local integer i=1
local unit F9D=(LoadUnitHandle(L7,(OC7),(2)))
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
local real a=(LoadReal(L7,(OC7),(137)))
local unit VLE
local unit E2D
local real E8E=(LoadReal(L7,(OC7),(47)))
local real E9E=(LoadReal(L7,(OC7),(48)))
set x=D78(x+18*Cos(a))
set y=D88(y+18*Sin(a))
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
if GetTriggerEvalCount(t)>166 then
loop
exitwhen i>12
if(LoadBoolean(L7,(OC7),(511+i-1)))==false then
call KillUnit((LoadUnitHandle(L7,(OC7),(393+i-1))))
endif
set i=i+1
endloop
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set g=CX7()
set IN4=F9D
call GroupEnumUnitsInRange(g,x,y,400,Condition(function V3E))
loop
exitwhen i>12
if(LoadBoolean(L7,(OC7),(511+i-1)))==false then
set VLE=(LoadUnitHandle(L7,(OC7),(393+i-1)))
set x=(LoadReal(L7,(OC7),(549+i-1)))
set y=(LoadReal(L7,(OC7),(567+i-1)))
set x=D78(x+18*Cos(a))
set y=D88(y+18*Sin(a))
call SaveReal(L7,(OC7),(549+i-1),((x)*1.0))
call SaveReal(L7,(OC7),(567+i-1),((y)*1.0))
call SetUnitX(VLE,x)
call SetUnitY(VLE,y)
set E2D=FirstOfGroup(g)
if E2D!=null then
call GroupRemoveUnit(g,E2D)
call SaveInteger(L7,(GetHandleId((E2D))),((4290)),(1))
call SaveBoolean(L7,(OC7),(511+i-1),(true))
call VBE(VLE,E2D,GetUnitAbilityLevel(F9D,1093751127))
endif
endif
set i=i+1
endloop
call CW7(g)
set g=null
set VLE=null
set E2D=null
endif
set t=null
set F9D=null
return false
endfunction
function V1E takes nothing returns nothing
local location l=GetSpellTargetLoc()
local real V0E=GetLocationX(l)
local real V5E=GetLocationY(l)
local unit F9D=GetTriggerUnit()
local real x=GetUnitX(F9D)
local real y=GetUnitY(F9D)
local real a=PP7(x,y,V0E,V5E)*bj_DEGTORAD
local unit NAD
local real EGE=D78(x+3000*Cos(a))
local real EHE=D88(y+3000*Sin(a))
local integer i=1
local trigger t=CreateTrigger()
local integer C97=GetHandleId(t)
local real OZD
local integer RP7=GetUnitAbilityLevel(F9D,1093751127)
local integer V2E
call RemoveLocation(l)
if RP7==1 then
set V2E=1966092619
elseif RP7==2 then
set V2E=1966092616
elseif RP7==3 then
set V2E=1966092618
elseif RP7==4 then
set V2E=1966092620
endif
loop
exitwhen i>12
set NAD=CreateUnit(GetOwningPlayer(F9D),V2E,x+GetRandomInt(-300,300),y+GetRandomInt(-300,300),a*bj_RADTODEG)
call SaveUnitHandle(L7,(C97),(393+i-1),(NAD))
call SaveBoolean(L7,(C97),(511+i-1),(false))
call SaveReal(L7,(C97),(549+i-1),((GetUnitX(NAD))*1.0))
call SaveReal(L7,(C97),(567+i-1),((GetUnitY(NAD))*1.0))
set i=i+1
endloop
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function V6E))
call SaveUnitHandle(L7,(C97),(2),(F9D))
call SaveReal(L7,(C97),(6),((x)*1.0))
call SaveReal(L7,(C97),(7),((y)*1.0))
call SaveReal(L7,(C97),(137),((a)*1.0))
call SaveReal(L7,(C97),(47),((EGE)*1.0))
call SaveReal(L7,(C97),(48),((EHE)*1.0))
set F9D=null
set NAD=null
set l=null
set t=null
endfunction
function V_E takes nothing returns boolean
if GetSpellAbilityId()==1093751127 then
call V1E()
endif
return false
endfunction
function QR8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function V_E))
call LU7(1966092619)
call LU7(1966092616)
call LU7(1966092618)
call LU7(1966092620)
call DE8(1093751130)
set t=null
endfunction
function W4E takes unit p5,unit NY,unit W7E,integer BH7,boolean W8E returns real
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(NY),GetUnitY(NY),0)
if W8E then
call LM7(oA,1093687129)
else
call LM7(oA,1093684812)
endif
call IssueTargetOrderById(oA,852095,W7E)
if IsUnitType(W7E,UNIT_TYPE_HERO)==false then
call HI8(p5,W7E,1,50+25*BH7,0.4)
else
call HI8(p5,W7E,1,50,0.4)
endif
if W8E then
return((GetUnitX(W7E)-GetUnitX(NY))*(GetUnitX(W7E)-GetUnitX(NY))+(GetUnitY(W7E)-GetUnitY(NY))*(GetUnitY(W7E)-GetUnitY(NY)))/1000000
endif
set oA=null
return((GetUnitX(W7E)-GetUnitX(NY))*(GetUnitX(W7E)-GetUnitX(NY))+(GetUnitY(W7E)-GetUnitY(NY))*(GetUnitY(W7E)-GetUnitY(NY)))/360000
endfunction
function W9E takes unit p5,unit NY returns unit
local group g=CX7()
set IN4=p5
call GroupEnumUnitsInRange(g,GetUnitX(NY),GetUnitY(NY),600,Condition(function F28))
call GroupRemoveUnit(g,NY)
set IN4=GroupPickRandomUnit(g)
call CW7(g)
set g=null
return IN4
endfunction
function WDE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local integer BH7=UN7(UC7,"Level")
local unit NY=U87(UC7,"Old")
local integer iX=UN7(UC7,"Count")
local unit W7E
local real Hk
call TN7(UC7)
call UA7(t)
if iX<(BH7*2+1)then
set W7E=W9E(p5,NY)
if W7E!=null then
set Hk=W4E(p5,NY,W7E,BH7,false)
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TU7(UC7,"Source",p5)
call TQ7(UC7,"Level",BH7)
call TU7(UC7,"Old",W7E)
call TQ7(UC7,"Count",iX+1)
call TriggerRegisterTimerEvent(t,Hk+.4,false)
call TriggerAddCondition(t,Condition(function WDE))
endif
endif
set t=null
set p5=null
set NY=null
set W7E=null
return false
endfunction
function WEE takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit WFE=GetSpellTargetUnit()
local integer BH7=GetUnitAbilityLevel(CO7,1093684813)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local real Hk=W4E(CO7,CO7,WFE,BH7,true)
call TU7(UC7,"Source",CO7)
call TQ7(UC7,"Level",BH7)
call TU7(UC7,"Old",WFE)
call TQ7(UC7,"Count",1)
call TriggerRegisterTimerEvent(t,Hk,false)
call TriggerAddCondition(t,Condition(function WDE))
set CO7=null
set WFE=null
set t=null
endfunction
function WGE takes nothing returns boolean
if GetSpellAbilityId()==1093684813 and CV7(GetSpellTargetUnit())==false then
call WEE()
endif
return false
endfunction
function QC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WGE))
set t=null
endfunction
function WHE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local integer BH7=GetUnitAbilityLevel(CO7,1093684805)
call UnitRemoveAbility(CO7,1093684805)
call LM7(CO7,1093684805)
call SetUnitAbilityLevel(CO7,1093684805,BH7)
call TN7(UC7)
call UA7(t)
set t=null
set CO7=null
return false
endfunction
function WIE takes unit m5,integer BH7 returns nothing
local real WJE=(8+BH7*8)/ 3
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+WJE)
endfunction
function WKE takes nothing returns boolean
if ji()then
call WIE(GetFilterUnit(),IH4)
endif
return false
endfunction
function WME takes unit CO7 returns nothing
local integer BH7=GetUnitAbilityLevel(CO7,1093684805)
local group g=CX7()
set IN4=CO7
set IH4=BH7
call GroupEnumUnitsInRange(g,GetUnitX(CO7),GetUnitY(CO7),375,Condition(function WKE))
call CW7(g)
set g=null
endfunction
function WNE takes unit CO7 returns nothing
local integer H98=GetUnitAbilityLevel(CO7,1093684805)
local real WOE=2+6*H98
call SetUnitState(CO7,UNIT_STATE_MANA,GetUnitState(CO7,UNIT_STATE_MANA)-(WOE/3))
if GetUnitState(CO7,UNIT_STATE_MANA)<WOE then
if UU7(CO7,"DeathWardOn")==false then
call IssueImmediateOrder(CO7,"unimmolation")
endif
endif
endfunction
function WPE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
if GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if GetIssuedOrderId()==852178 then
call TN7(UC7)
call UA7(t)
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TU7(UC7,"Hero",CO7)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function WHE))
endif
else
call WME(CO7)
call WNE(CO7)
endif
set t=null
set CO7=null
return false
endfunction
function WQE takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TU7(UC7,"Hero",CO7)
call TriggerRegisterTimerEvent(t,0.33,true)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function WPE))
set CO7=null
set t=null
endfunction
function WRE takes nothing returns boolean
if GetSpellAbilityId()==1093684805 then
call WQE()
endif
return false
endfunction
function Q68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WRE))
set t=null
endfunction
function WSE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local integer BH7=GetUnitAbilityLevel(p5,1093684815)
local integer iX=GetTriggerEvalCount(t)
local real WTE=UO7(UC7,"StartingHP")
local real WUE=0
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect(UH7(UC7,"FX"))
call TN7(UC7)
call UA7(t)
else
if iX==4 or iX==8 or iX==12 then
call DestroyEffect(UH7(UC7,"FX"))
if iX==12 then
call TN7(UC7)
call UA7(t)
elseif iX==4 or iX==8 then
call TV7(UC7,"FX",AddSpecialEffectTarget("effects\\NetherInferno.mdx",m5,"origin"))
endif
set WUE=(0.08+BH7*0.08)*DR8(WTE-GetUnitState(m5,UNIT_STATE_LIFE),0)
if WUE>0 then
call DC8("+"+I2S(R2I(WUE)),2,m5,0.023,68,0,187,216)
endif
endif
call HD8(p5,m5,ZG4,5*BH7+WUE)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function WVE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
call DestroyEffect(AddSpecialEffectTarget("effects\\NetherInferno.mdx",m5,"origin"))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function WSE))
call TU7(UC7,"Target",m5)
call TU7(UC7,"Source",p5)
call TR7(UC7,"StartingHP",GetUnitState(m5,UNIT_STATE_LIFE))
call TV7(UC7,"FX",AddSpecialEffectTarget("effects\\NetherInferno.mdx",m5,"origin"))
set t=null
set p5=null
set m5=null
endfunction
function WWE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local group g=CX7()
local integer BH7=GetUnitAbilityLevel(p5,1093684815)
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GI8))
call ForGroup(g,function WVE)
call CW7(g)
call RemoveLocation(l)
set l=null
set g=null
set p5=null
endfunction
function WXE takes nothing returns boolean
if GetSpellAbilityId()==1093684815 then
call WWE()
endif
return false
endfunction
function Q38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WXE))
set t=null
endfunction
function WYE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
call TN7(UC7)
call UA7(t)
if GetTriggerEventId()!=EVENT_UNIT_SPELL_ENDCAST then
call RR7(p5)
endif
set p5=null
set t=null
return false
endfunction
function WZE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TU7(UC7,"Source",p5)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterTimerEvent(t,10,false)
call TriggerAddCondition(t,Condition(function WYE))
set t=null
set p5=null
endfunction
function WAE takes nothing returns boolean
if GetSpellAbilityId()==1093684820 or GetSpellAbilityId()==1093684824 then
call WZE()
endif
return false
endfunction
function WBE takes nothing returns boolean
if GetUnitTypeId(GetSummonedUnit())==1865429040 or GetUnitTypeId(GetSummonedUnit())==1865429041 or GetUnitTypeId(GetSummonedUnit())==1865429057 or GetUnitTypeId(GetSummonedUnit())==1865429080 then
call U67(GetSummoningUnit(),"DeathWardOn",8)
endif
return false
endfunction
function QL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function WBE))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WAE))
set t=null
endfunction
function WCE takes nothing returns boolean
local integer id=0
local unit m5
local real HA8=(TimerGetElapsed(W))
local real mp
local real hp
loop
exitwhen id>12
set m5=M7[id]
if m5!=null and GetUnitAbilityLevel(m5,1110459204)==0 and SW4[id]>HA8 then
set SW4[id]=0
endif
if m5!=null and GetUnitAbilityLevel(m5,1110459204)>0 then
if SW4[id]>HA8 and LO7(m5)==false then
set hp=GetUnitState(m5,UNIT_STATE_LIFE)
set mp=GetUnitState(m5,UNIT_STATE_MANA)
if hp<SX4[id]then
set SX4[id]=hp
else
endif
if mp<SY4[id]then
set SY4[id]=mp
else
endif
call SetUnitState(m5,UNIT_STATE_LIFE,SX4[id])
set SA4[id]=SA4[id]+1
if SA4[id]==10 then
set SA4[id]=0
if SB4[id]==1 then
call HD8(SZ4[id],m5,ZG4,12.5)
elseif SB4[id]==2 then
call HD8(SZ4[id],m5,ZG4,20)
elseif SB4[id]==3 then
call HD8(SZ4[id],m5,ZG4,32)
endif
endif
elseif SW4[id]>HA8 and LO7(m5)==true then
set SW4[id]=0
set SX4[id]=9999
set SY4[id]=9999
endif
if GetUnitAbilityLevel(m5,1110459204)>0 and SW4[id]<HA8 then
call UnitRemoveAbility(m5,1093749313)
call UnitRemoveAbility(m5,1110459204)
call UnitRemoveAbility(m5,1093749828)
endif
endif
set id=id+1
endloop
set m5=null
return false
endfunction
function W3E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit O07=U87(UC7,"Target")
local integer BH7=UN7(UC7,"Level")
local unit H88
if GetUnitAbilityLevel(O07,1110459204)==0 then
call TN7(UC7)
call UA7(t)
elseif GetOwningPlayer(O07)!=GetOwningPlayer(GetEventDamageSource())and GetUnitState(O07,UNIT_STATE_MAX_LIFE)*(0.09+0.01*BH7)>GetUnitState(O07,UNIT_STATE_LIFE)and UU7(O07,"ShallowGrave|Active")==false then
call TN7(UC7)
call UA7(t)
call UnitRemoveAbility(O07,1093749313)
call UnitRemoveAbility(O07,1110459204)
call UnitRemoveAbility(O07,1093749828)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O07,"overhead"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O07,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O07,"origin"))
set H88=CreateUnit(GetOwningPlayer(GetEventDamageSource()),1697656901,0,0,0)
call UnitRemoveBuffs(O07,true,true)
call UnitRemoveAbility(O07,1097167980)
call UnitDamageTarget(H88,O07,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
set H88=null
endif
set t=null
set O07=null
return false
endfunction
function W6E takes unit p5,unit m5 returns nothing
local integer BH7=GetUnitAbilityLevel(p5,1093750089)
local integer id=GetPlayerId(GetOwningPlayer(m5))
local trigger t
local integer UC7
if BH7>0 and IsUnitType(m5,UNIT_TYPE_HERO)==true and IsUnitIllusion(m5)==false and J48(GetUnitTypeId(m5))==false then
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function W3E))
call TU7(UC7,"Target",m5)
call TQ7(UC7,"Level",BH7)
call LM7(m5,1093749313)
call LM7(m5,1093749828)
set SW4[id]=(TimerGetElapsed(W))+7+BH7
set SX4[id]=GetUnitState(m5,UNIT_STATE_LIFE)
set SY4[id]=GetUnitState(m5,UNIT_STATE_MANA)
set SZ4[id]=p5
set SB4[id]=BH7
endif
set t=null
endfunction
function TC8 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer id=0
local integer i=0
local player p
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function WCE))
loop
exitwhen id>12
set SX4[id]=9999
set SY4[id]=9999
set id=id+1
endloop
loop
exitwhen i>5
set p=Z7[i]
call SetPlayerAbilityAvailable(p,1093749828,false)
set p=A7[i]
call SetPlayerAbilityAvailable(p,1093749828,false)
set i=i+1
endloop
set t=null
set p=null
endfunction
function WLE takes nothing returns nothing
if DB9(GetEnumUnit())then
return
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093748826)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093748826)
call UnitRemoveAbility(GetEnumUnit(),1110459189)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093749044)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093749044)
call UnitRemoveAbility(GetEnumUnit(),1110459189)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093749043)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093749043)
call UnitRemoveAbility(GetEnumUnit(),1110459189)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093749046)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093749046)
call UnitRemoveAbility(GetEnumUnit(),1110459189)
endif
endfunction
function W1E takes nothing returns nothing
if DB9(GetEnumUnit())then
return
endif
if CK7(GetEnumUnit())==false then
if a3==1 then
if GetUnitAbilityLevel(GetEnumUnit(),1093748826)==0 then
call UnitRemoveAbility(GetEnumUnit(),1110459189)
call LM7(GetEnumUnit(),1093748826)
endif
elseif a3==2 then
if GetUnitAbilityLevel(GetEnumUnit(),1093749044)==0 then
call UnitRemoveAbility(GetEnumUnit(),1110459189)
call LM7(GetEnumUnit(),1093749044)
endif
elseif a3==3 then
if GetUnitAbilityLevel(GetEnumUnit(),1093749043)==0 then
call UnitRemoveAbility(GetEnumUnit(),1110459189)
call LM7(GetEnumUnit(),1093749043)
endif
elseif a3==4 then
if GetUnitAbilityLevel(GetEnumUnit(),1093749046)==0 then
call UnitRemoveAbility(GetEnumUnit(),1110459189)
call LM7(GetEnumUnit(),1093749046)
endif
endif
endif
endfunction
function W0E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit H88=U87(UC7,"Caster")
local group W5E=UG7(UC7,"ActiveGroup")
local real x=GetUnitX(H88)
local real y=GetUnitY(H88)
local group g=CX7()
local group g2
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call ForGroup(W5E,function WLE)
call CW7(g)
call CW7(W5E)
call TN7(UC7)
call UA7(t)
call ShowUnit(H88,false)
set t=null
set p5=null
set H88=null
set W5E=null
return false
endif
set n3=p5
set a3=GetUnitAbilityLevel(p5,1093748819)
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,300,Condition(function FT8))
call GroupRemoveGroup(g,W5E)
call ForGroup(W5E,function WLE)
call ForGroup(g,function W1E)
call TC7(UC7,"ActiveGroup",g)
call CW7(W5E)
set t=null
set p5=null
set H88=null
set W5E=null
set g=null
return false
endfunction
function W2E takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local integer BH7=GetUnitAbilityLevel(p5,1093748819)
local unit H88=CreateUnit(GetOwningPlayer(p5),1848658001,x,y,0)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call UnitApplyTimedLife(H88,1112820806,12)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,H88,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function W0E))
call TU7(UC7,"Source",p5)
call TU7(UC7,"Caster",H88)
call TC7(UC7,"ActiveGroup",CX7())
set p5=null
call RemoveLocation(l)
set l=null
set H88=null
set t=null
endfunction
function W_E takes nothing returns boolean
if GetSpellAbilityId()==1093748819 then
call W2E()
endif
return false
endfunction
function TZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer i=0
local player p
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W_E))
set t=null
loop
exitwhen i>5
set p=Z7[i]
call SetPlayerAbilityAvailable(p,1093748826,false)
call SetPlayerAbilityAvailable(p,1093749044,false)
call SetPlayerAbilityAvailable(p,1093749043,false)
call SetPlayerAbilityAvailable(p,1093749046,false)
set p=A7[i]
call SetPlayerAbilityAvailable(p,1093748826,false)
call SetPlayerAbilityAvailable(p,1093749044,false)
call SetPlayerAbilityAvailable(p,1093749043,false)
call SetPlayerAbilityAvailable(p,1093749046,false)
set i=i+1
endloop
set p=null
endfunction
function X4E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
local integer BH7=UN7(UC7,"Level")
local unit H88
local real DS8=(100+50*BH7)/ 4
if GetTriggerEventId()==EVENT_UNIT_DEATH or RF7(x,y,GetUnitX(m5),GetUnitY(m5))>765 or GetUnitAbilityLevel(m5,1110459203)==0 then
call DestroyEffect(UH7(UC7,"FX"))
call DestroyEffect(UH7(UC7,"fx2"))
call UnitRemoveAbility(m5,1093749305)
call UnitRemoveAbility(m5,1110459203)
call TN7(UC7)
call UA7(t)
elseif GetTriggerEvalCount(t)==(10*0.8)then
call DestroyEffect(UH7(UC7,"FX"))
call TV7(UC7,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))
call HD8(p5,m5,ZG4,DS8)
elseif GetTriggerEvalCount(t)==(10*1.6)then
call DestroyEffect(UH7(UC7,"FX"))
call TV7(UC7,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))
call HD8(p5,m5,ZG4,DS8)
elseif GetTriggerEvalCount(t)==(10*2.5)then
call DestroyEffect(UH7(UC7,"FX"))
call TV7(UC7,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))
call HD8(p5,m5,ZG4,DS8)
elseif GetTriggerEvalCount(t)==(10*3.4)then
call DestroyEffect(UH7(UC7,"FX"))
call HD8(p5,m5,ZG4,DS8)
elseif GetTriggerEvalCount(t)>(10*3.9)then
call DestroyEffect(UH7(UC7,"fx2"))
call UnitRemoveAbility(m5,1093749305)
call UnitRemoveAbility(m5,1110459203)
call TN7(UC7)
call UA7(t)
set H88=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LM7(H88,1093750090)
call SetUnitAbilityLevel(H88,1093750090,BH7)
call IssueTargetOrder(H88,"thunderbolt",m5)
set H88=null
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function X7E takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(p5,1093750087)
local string s="Doodads\\Cinematic\\GlowingRunes\\GlowingRunes4.mdl"
if GetLocalPlayer()==GetOwningPlayer(m5)then
endif
call LM7(m5,1093749305)
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TR7(UC7,"x",GetUnitX(m5)*1.0)
call TR7(UC7,"y",GetUnitY(m5)*1.0)
call TQ7(UC7,"Level",BH7)
call TV7(UC7,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))
call TV7(UC7,"fx2",AddSpecialEffect(s,GetUnitX(m5),GetUnitY(m5)))
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function X4E))
set p5=null
set m5=null
set t=null
endfunction
function X8E takes nothing returns boolean
if GetSpellAbilityId()==1093750087 and CV7(GetSpellTargetUnit())==false then
call X7E()
endif
return false
endfunction
function TA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function X8E))
set t=null
endfunction
function X9E takes nothing returns nothing
local unit p5=E3
local unit m5=GetEnumUnit()
local integer BH7=V3
call W6E(p5,m5)
call HD8(p5,m5,ZG4,150+100*BH7)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\PlasmaShot.mdl",m5,"chest"))
set p5=null
set m5=null
endfunction
function XDE takes nothing returns nothing
local unit p5=E3
local unit m5=GetEnumUnit()
local integer BH7=V3
call W6E(p5,m5)
set p5=null
set m5=null
endfunction
function XEE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit G18=U87(UC7,"Projectile")
local real Y5=UO7(UC7,"TargetX")
local real Z5=UO7(UC7,"TargetY")
local real l4=UO7(UC7,"Angle")
local real XFE=UO7(UC7,"AOE")
local unit p5=U87(UC7,"Source")
local integer BH7=UN7(UC7,"Level")
local real x=GetUnitX(G18)+30*Cos(l4)
local real y=GetUnitY(G18)+30*Sin(l4)
local group g
local fogmodifier XGE
if RF7(x,y,Y5,Z5)<35 or x!=D78(x)or y!=D88(y)then
set x=Y5
set y=Z5
call SetUnitX(G18,x)
call SetUnitY(G18,y)
call DestroyEffect(UH7(UC7,"FX"))
set XGE=U47(UC7,"Fog")
call FogModifierStop(XGE)
call DestroyFogModifier(XGE)
set XGE=null
if EY7 then
set bj_forLoopAIndex=0
set bj_forLoopAIndexEnd=UN7(UC7,"FUN|EffNum")
loop
exitwhen bj_forLoopAIndex>=bj_forLoopAIndexEnd
call DestroyEffect(UH7(UC7,"FUN|Eff"+I2S(bj_forLoopAIndex)))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
call TN7(UC7)
call UA7(t)
call KillUnit(G18)
set IN4=p5
set E3=p5
set V3=BH7
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,XFE+25,Condition(function FT8))
call ForGroup(g,function X9E)
call CW7(g)
set g=null
else
call SetUnitX(G18,x)
call SetUnitY(G18,y)
set IN4=p5
set E3=p5
set V3=BH7
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,300,Condition(function FT8))
call ForGroup(g,function XDE)
call CW7(g)
set g=null
endif
set t=null
set G18=null
set p5=null
return false
endfunction
function XHE takes unit p5,real x,real y,real XIE,effect FX,fogmodifier XGE returns nothing
local real l4=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit G18=CreateUnit(GetOwningPlayer(p5),1747993142,GetUnitX(p5),GetUnitY(p5),l4*bj_RADTODEG)
local integer BH7=GetUnitAbilityLevel(p5,1093750089)
local real XFE=DQ8(225+25*XIE*2,1000)
local real G1E=RF7(GetUnitX(p5),GetUnitY(p5),x,y)
if IsUnitEnemy(G18,GetLocalPlayer())and CM7(GetLocalPlayer())==false then
call UnitSetUsesAltIcon(G18,true)
endif
call TriggerRegisterTimerEvent(t,DQ8(2.0/(G1E/ 30),0.04),true)
call TriggerAddCondition(t,Condition(function XEE))
call TU7(UC7,"Projectile",G18)
call TR7(UC7,"TargetX",x*1.0)
call TR7(UC7,"TargetY",y*1.0)
call TR7(UC7,"Angle",l4*1.0)
call TR7(UC7,"AOE",XFE*1.0)
call TQ7(UC7,"Level",BH7)
call TU7(UC7,"Source",p5)
call TY7(UC7,"Fog",XGE)
call TV7(UC7,"FX",FX)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750089,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750094,false)
if EY7 then
set EH7=""
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(p5))then
set EH7=EA7
endif
set bj_forLoopAIndex=0
set bj_forLoopAIndexEnd=R2I(XFE/100)+10
loop
exitwhen bj_forLoopAIndex>=bj_forLoopAIndexEnd
set EI7=I2R(bj_forLoopAIndex)*(6.2831853/I2R(bj_forLoopAIndexEnd))
call TV7(UC7,"FUN|Eff"+I2S(bj_forLoopAIndex),AddSpecialEffect(EH7,x+Cos(EI7)*XFE,y+Sin(EI7)*XFE))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call TQ7(UC7,"FUN|EffNum",bj_forLoopAIndexEnd)
endif
set t=null
set G18=null
endfunction
function XJE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit G18=U87(UC7,"Projectile")
local unit p5=U87(UC7,"Source")
local real l4=UO7(UC7,"Angle")
local real x
local real y
local real XIE=TimerGetElapsed(W)-UO7(UC7,"CastTime")
local string s
local fogmodifier XGE
local effect FX
local real XKE=GetUnitX(G18)+30*Cos(l4)
local real XME=GetUnitY(G18)+30*Sin(l4)
local boolean J4
local integer i
set x=D78(XKE)
set y=D88(XME)
call SetUnitX(G18,x)
call SetUnitY(G18,y)
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093750094)or x!=XKE or y!=XME then
call TN7(UC7)
call UA7(t)
call RemoveUnit(G18)
set s=""
if IsPlayerAlly(GetOwningPlayer(p5),GetLocalPlayer())or CM7(GetLocalPlayer())then
set s="war3mapImported\\IceWindGroundFX.mdl"
endif
set XGE=CreateFogModifierRadius(GetOwningPlayer(p5),FOG_OF_WAR_VISIBLE,x,y,500,true,true)
call FogModifierStart(XGE)
set FX=AddSpecialEffect(s,x,y)
call XHE(p5,x,y,XIE,FX,XGE)
set XGE=null
set FX=null
elseif Z17(GetOwningPlayer(p5))then
set EI7=RF7(x,y,UO7(UC7,"AI|TgtX"),UO7(UC7,"AI|TgtY"))
if EI7>UO7(UC7,"AI|MaxDist")or UP7(UC7,"AI|Blast")then
if R57(p5)then
call TD7(p5,852526,1093750094)
else
call TT7(UC7,"AI|Blast",true)
endif
else
call TR7(UC7,"AI|MaxDist",EI7)
if Bz>UO7(UC7,"AI|NextUp")then
call TR7(UC7,"AI|NextUp",Bz+1)
set J4=false
set i=UN7(GetHandleId(p5),"AI|IBClose")
if(i==1)then
set J4=(CL7(p5,U87(GetHandleId(p5),"AI|IBTgt"),500.,0.02,1500.)!=null)
elseif(i==0)then
set J4=(CL7(p5,U87(GetHandleId(p5),"AI|IBTgt"),1500.,2.02,99999.)!=null)
elseif(i==2)then
call S07(U87(GetHandleId(p5),"AI|IBTgt"))
call MoveLocation(GM7,GetLocationX(HA),GetLocationY(HA))
endif
if J4 then
call TR7(UC7,"AI|TgtX",GetLocationX(GM7))
call TR7(UC7,"AI|TgtY",GetLocationY(GM7))
call TR7(UC7,"AI|MaxDist",99999.)
endif
endif
endif
endif
set t=null
set G18=null
set p5=null
return false
endfunction
function XNE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit G18=CreateUnit(GetOwningPlayer(p5),1211122232,GetUnitX(p5),GetUnitY(p5),a*bj_RADTODEG)
if IsUnitEnemy(G18,GetLocalPlayer())and CM7(GetLocalPlayer())==false then
call UnitSetUsesAltIcon(G18,true)
endif
call TU7(UC7,"Projectile",G18)
call TU7(UC7,"Source",p5)
call TR7(UC7,"Angle",a*1.0)
call TR7(UC7,"CastTime",TimerGetElapsed(W)*1.0)
if Z17(GetOwningPlayer(p5))then
call TR7(UC7,"AI|TgtX",x)
call TR7(UC7,"AI|TgtY",y)
call TR7(UC7,"AI|MaxDist",99999.)
call TR7(UC7,"AI|NextUp",Bz+1)
endif
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function XJE))
call SetUnitColor(G18,GetPlayerColor(Player(14)))
call RemoveLocation(l)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750089,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750094,true)
call LM7(p5,1093750094)
if Z17(GetOwningPlayer(p5))then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750094,false)
endif
set p5=null
set l=null
set t=null
set G18=null
endfunction
function XOE takes nothing returns boolean
if GetSpellAbilityId()==1093750089 then
call XNE()
endif
return false
endfunction
function TB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XOE))
set t=null
endfunction
function XPE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local unit p5=U87(UC7,"Source")
local integer BH7=UN7(UC7,"Level")
local integer XQE=UN7(GetHandleId(p5),"ChillingCounter")
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and GetEventDamage()>1 then
call DisableTrigger(t)
if XQE>0 then
call TQ7(GetHandleId(p5),"ChillingCounter",XQE-1)
call DC8("+"+I2S(40+10*BH7),1,p5,0.024,100,200,255,255)
call HD8(p5,m5,ZG4,40+10*BH7)
endif
call TN7(UC7)
call UA7(t)
endif
else
call TN7(UC7)
call UA7(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function XRE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local integer BH7=X3
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
set p5=GetAttacker()
endif
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED or(UN7(GetHandleId(p5),"ChillingCounter")==0 and GetUnitAbilityLevel(p5,1093748814)>0)then
call DestroyEffect(UH7(GetHandleId(p5),"fx1"))
call DestroyEffect(UH7(GetHandleId(p5),"fx2"))
call TQ7(GetHandleId(p5),"ChillingCounter",0)
call TN7(UC7)
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED then
call UA7(t)
endif
call UnitRemoveAbility(p5,1093748814)
call UnitRemoveAbility(p5,1110459210)
call UnitRemoveAbility(p5,1093749072)
elseif GetUnitAbilityLevel(p5,1093748814)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and UU7(p5,"ChillingTouchState")==false then
call U67(p5,"ChillingTouchState",0.4)
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.0,false)
call TriggerAddCondition(t,Condition(function XPE))
call TU7(UC7,"Target",GetTriggerUnit())
call TU7(UC7,"Source",p5)
call TQ7(UC7,"Level",BH7)
endif
set t=null
set p5=null
return false
endfunction
function XSE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(p5,1093748817)
set X3=BH7
call LM7(m5,1093748814)
call LM7(m5,1093749072)
call TQ7(GetHandleId(m5),"ChillingCounter",2+BH7)
call TU7(UC7,"Source",m5)
call TV7(GetHandleId(m5),"fx1",AddSpecialEffectTarget("war3mapImported\\FrostHands.mdx",m5,"right,hand"))
call TV7(GetHandleId(m5),"fx2",AddSpecialEffectTarget("war3mapImported\\FrostHands.mdx",m5,"left,hand"))
call TriggerRegisterTimerEvent(t,30,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function XRE))
set p5=null
set m5=null
set t=null
endfunction
function XTE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local group g=CX7()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
call RemoveLocation(l)
call DestroyEffect(AddSpecialEffect("war3mapImported\\IcyWind.mdl",x,y))
call GroupEnumUnitsInRange(g,x,y,525+25,Condition(function GP8))
call ForGroup(g,function XSE)
call CW7(g)
set p5=null
set g=null
set l=null
endfunction
function XUE takes nothing returns boolean
if GetSpellAbilityId()==1093748817 then
call XTE()
endif
return false
endfunction
function T38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XUE))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function XRE))
set t=null
endfunction
function XVE takes nothing returns nothing
call HD8(A3,GetEnumUnit(),ZG4,(GetUnitAbilityLevel(A3,1093749069)*75)/10)
endfunction
function XWE takes unit EC8 returns nothing
local real MBE=(GetUnitAbilityLevel(EC8,1093749069)*75)/2
set MBE=MBE/10.0
if GetUnitState(EC8,UNIT_STATE_LIFE)<=MBE*0.75 then
set MBE=GetUnitState(EC8,UNIT_STATE_LIFE)/0.75-10
endif
call HD8(EC8,EC8,ZG4,MBE)
endfunction
function XXE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit EC8=U87(UC7,"Source")
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local group g
local real DS8
local unit H88
local integer BH7=0
local integer CP8=GetTriggerEvalCount(t)
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call TN7(UC7)
call UA7(t)
return false
else
if GetTriggerEvalCount(t)==1 then
set H88=CreateUnit(GetOwningPlayer(EC8),1747993138,x,y,0)
call UnitApplyTimedLife(H88,1112820806,1)
set H88=null
call TriggerRegisterTimerEvent(t,0.1,true)
set g=CX7()
set A3=EC8
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,350,Condition(function FT8))
call ForGroup(g,function XVE)
call XWE(EC8)
call CW7(g)
else
if CP8==10 then
call TN7(UC7)
call UA7(t)
endif
set g=CX7()
set A3=EC8
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,350,Condition(function FT8))
call ForGroup(g,function XVE)
call XWE(EC8)
call CW7(g)
call D59(EC8)
call DL9(EC8,0,0)
endif
endif
set t=null
set g=null
set EC8=null
return false
endfunction
function XYE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local real DS8=(GetUnitAbilityLevel(p5,1093749069)*75)/ 2
call TriggerRegisterTimerEvent(t,1.5,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function XXE))
call TU7(UC7,"Source",p5)
set t=null
set p5=null
endfunction
function XZE takes nothing returns boolean
if GetSpellAbilityId()==1093749069 then
call XYE()
endif
return false
endfunction
function T08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XZE))
set t=null
endfunction
function XAE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local player XBE
local integer BH7=GetUnitAbilityLevel(p5,1093749070)
local integer MainLevel=GetUnitAbilityLevel(p5,1093749070)
local real HA8=TimerGetElapsed(W)
local real XCE=UO7(UC7,"Buffer1")
local real X3E=UO7(UC7,"Buffer2")
if LO7(p5)then
set t=null
set p5=null
return false
endif
if ZC7(GetOwningPlayer(p5))then
set XBE=A7[1]
else
set XBE=Z7[1]
endif
if GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetOwningPlayer(GetEventDamageSource())==B7 then
if GetUnitAbilityLevel(p5,1093749061)>0 then
call UnitRemoveAbility(p5,1093749061)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749062)>0 then
call UnitRemoveAbility(p5,1093749062)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749063)>0 then
call UnitRemoveAbility(p5,1093749063)
call UnitRemoveAbility(p5,1110459193)
endif
call TR7(UC7,"NightcrawlerTime",(HA8+2)*1.0)
set t=null
set p5=null
return false
endif
if UO7(UC7,"NightcrawlerTime")>HA8 then
set t=null
set p5=null
return false
endif
if IsUnitVisible(p5,XBE)or GetUnitAbilityLevel(p5,1112433775)>0 then
set X3E=0
if GetUnitAbilityLevel(p5,1093749061)>0 or GetUnitAbilityLevel(p5,1093749062)>0 or GetUnitAbilityLevel(p5,1093749063)>0 then
set XCE=XCE+0.1
if XCE>0.4 then
set XCE=0
if GetUnitAbilityLevel(p5,1093749061)>0 then
call UnitRemoveAbility(p5,1093749061)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749062)>0 then
call UnitRemoveAbility(p5,1093749062)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749063)>0 then
call UnitRemoveAbility(p5,1093749063)
call UnitRemoveAbility(p5,1110459193)
endif
endif
endif
call TR7(UC7,"Buffer1",XCE*1.0)
call TR7(UC7,"Buffer2",X3E*1.0)
elseif IsUnitVisible(p5,XBE)==false then
set XCE=0
if(BH7==1 and GetUnitAbilityLevel(p5,1093749061)==0)or(BH7==2 and GetUnitAbilityLevel(p5,1093749062)==0)or(BH7==3 and GetUnitAbilityLevel(p5,1093749063)==0)then
set X3E=X3E+0.1
if X3E>0.6 then
set X3E=0
if BH7==1 then
if GetUnitAbilityLevel(p5,1093749061)==0 then
call LM7(p5,1093749061)
endif
endif
if BH7==2 then
if GetUnitAbilityLevel(p5,1093749061)>0 then
call UnitRemoveAbility(p5,1093749061)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749062)==0 then
call LM7(p5,1093749062)
endif
endif
if BH7==3 then
if GetUnitAbilityLevel(p5,1093749061)>0 then
call UnitRemoveAbility(p5,1093749061)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749062)>0 then
call UnitRemoveAbility(p5,1093749062)
call UnitRemoveAbility(p5,1110459193)
endif
if GetUnitAbilityLevel(p5,1093749063)==0 then
call LM7(p5,1093749063)
endif
endif
endif
endif
call TR7(UC7,"Buffer1",XCE*1.0)
call TR7(UC7,"Buffer2",X3E*1.0)
endif
set t=null
set p5=null
set XBE=null
return false
endfunction
function X6E takes unit CO7,boolean A_9 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TR7(UC7,"Buffer1",0*1.0)
call TR7(UC7,"Buffer2",0*1.0)
call TR7(UC7,"NightcrawlerTime",TimerGetElapsed(W)*1.0)
call TU7(UC7,"Source",CO7)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function XAE))
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),1093749061,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),1093749062,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),1093749063,false)
set t=null
endfunction
function XLE takes nothing returns boolean
if GetLearnedSkill()==1093749070 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093749070)==1 then
call X6E(GetTriggerUnit(),false)
endif
return false
endfunction
function T18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function XLE))
set t=null
endfunction
function X1E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=GetDyingUnit()
if GetOwningPlayer(GetKillingUnit())==GetOwningPlayer(EC8)and IsUnitType(O07,UNIT_TYPE_HERO)==true and IsUnitIllusion(O07)==false then
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function X0E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer X5E=(LoadInteger(L7,(OC7),(422)))
local integer X2E=(LoadInteger(L7,(OC7),(423)))
local integer YYD=(LoadInteger(L7,(OC7),(424)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
if(LoadBoolean(L7,(OC7),(276)))==false and GetTriggerUnit()==EC8 then
call SaveBoolean(L7,(OC7),(276),(true))
call SetHeroAgi(EC8,GetHeroAgi(EC8,false)-X5E-X2E-YYD,true)
elseif(LoadBoolean(L7,(OC7),(277)))==false and GetTriggerUnit()==O07 then
call SaveBoolean(L7,(OC7),(277),(true))
call SetHeroAgi(O07,GetHeroAgi(O07,false)+X5E,true)
call SetHeroStr(O07,GetHeroStr(O07,false)+X2E,true)
call SetHeroInt(O07,GetHeroInt(O07,false)+YYD,true)
endif
else
if(LoadBoolean(L7,(OC7),(276)))==false then
call SaveBoolean(L7,(OC7),(276),(true))
call SetHeroAgi(EC8,GetHeroAgi(EC8,false)-X5E-X2E-YYD,true)
endif
if(LoadBoolean(L7,(OC7),(277)))==false then
call SaveBoolean(L7,(OC7),(277),(true))
call SetHeroAgi(O07,GetHeroAgi(O07,false)+X5E,true)
call SetHeroStr(O07,GetHeroStr(O07,false)+X2E,true)
call SetHeroInt(O07,GetHeroInt(O07,false)+YYD,true)
endif
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function X_E takes unit EC8,unit O07 returns nothing
local integer H98=GetUnitAbilityLevel(EC8,1093748818)
local integer EXD=CN7(O07)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local integer X5E
local integer X2E
local integer YYD
local real H48
if EXD==2 then
set X5E=IMinBJ(GetHeroAgi(O07,false)-1,1)
set X2E=IMinBJ(GetHeroStr(O07,false)-1,1)
set YYD=IMinBJ(GetHeroInt(O07,false)-1,1)
elseif EXD==3 then
set X5E=IMinBJ(GetHeroAgi(O07,false)-1,1)
set X2E=IMinBJ(GetHeroStr(O07,false)-1,1)
set YYD=IMinBJ(GetHeroInt(O07,false)-1,1)
elseif EXD==1 then
set X5E=IMinBJ(GetHeroAgi(O07,false)-1,1)
set X2E=IMinBJ(GetHeroStr(O07,false)-1,1)
set YYD=IMinBJ(GetHeroInt(O07,false)-1,1)
endif
call SetHeroAgi(EC8,GetHeroAgi(EC8,false)+X5E+YYD+X2E,true)
call SetHeroAgi(O07,GetHeroAgi(O07,false)-X5E,true)
call SetHeroStr(O07,GetHeroStr(O07,false)-X2E,true)
call SetHeroInt(O07,GetHeroInt(O07,false)-YYD,true)
call SaveInteger(L7,(OC7),(422),(X5E))
call SaveInteger(L7,(OC7),(424),(YYD))
call SaveInteger(L7,(OC7),(423),(X2E))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveBoolean(L7,(OC7),(276),(false))
call SaveBoolean(L7,(OC7),(277),(false))
if H98==1 then
set H48=15
elseif H98==2 then
set H48=30
elseif H98==3 then
set H48=60
elseif H98==4 then
set H48=120
endif
call TriggerRegisterTimerEvent(t,H48,false)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function X0E))
set t=null
endfunction
function Y4E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
if GetTriggerEventId()!=EVENT_UNIT_DEATH then
call X_E(EC8,O07)
endif
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set EC8=null
set O07=null
return false
endfunction
function Y7E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local integer ZP9=(LoadInteger(L7,(OC7),(30)))
local unit O07=ZX7(ZP9)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EC8 then
call DisableTrigger(t)
call ZW7(ZP9)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function Y4E))
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
endif
else
call ZW7(ZP9)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function Y8E takes nothing returns nothing
local trigger t=CreateTrigger()
local unit O07=GetTriggerUnit()
local unit EC8=GetAttacker()
local integer OC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function Y7E))
call SaveInteger(L7,(OC7),(30),(ZZ7(O07)))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set O07=null
set EC8=null
set t=null
endfunction
function Y9E takes nothing returns nothing
local unit EC8=GetAttacker()
if UU7(EC8,"CooldownState")==false then
call U67(EC8,"CooldownState",0.45-GetUnitAbilityLevel(GetAttacker(),1093748818)*0.05)
call Y8E()
endif
endfunction
function YDE takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093748818)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(14)))and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
call Y9E()
endif
return false
endfunction
function YEE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function YDE))
call SaveUnitHandle(L7,(GetHandleId(t)),(14),(GetTriggerUnit()))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function X1E))
call SaveUnitHandle(L7,(OC7),(2),(GetTriggerUnit()))
set t=null
endfunction
function YFE takes nothing returns boolean
if GetLearnedSkill()==1093748818 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093748818)==1 then
call YEE()
endif
return false
endfunction
function T68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function YFE))
set t=null
endfunction
function YGE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit H88=U87(UC7,"Caster")
local integer BH7=UN7(UC7,"Level")
if GetTriggerEvalCount(t)>5.5/0.03 then
call KillUnit(H88)
call TN7(UC7)
call UA7(t)
else
call SetUnitX(H88,GetUnitX(p5))
call SetUnitY(H88,GetUnitY(p5))
endif
set t=null
set p5=null
set H88=null
return false
endfunction
function YHE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer BH7=GetUnitAbilityLevel(p5,1093749070)
local real d=5.5
local unit H88=CreateUnit(GetOwningPlayer(p5),1747993137,GetUnitX(p5),GetUnitY(p5),0)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call E28(p5,1093748823,1,d)
call E28(p5,1093748824,1,d)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function YGE))
call TU7(UC7,"Caster",H88)
call TU7(UC7,"Source",p5)
call TQ7(UC7,"Level",BH7)
set p5=null
set H88=null
set t=null
endfunction
function YIE takes nothing returns boolean
if GetSpellAbilityId()==1093749070 then
call YHE()
endif
return false
endfunction
function TL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YIE))
set t=null
endfunction
function YJE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer YL9=GetTriggerEvalCount(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local lightning YKE=UI7(UC7,"Lightning")
local integer BH7=UN7(UC7,"Level")
local real t5=UO7(UC7,"SourceX")
local real w5=UO7(UC7,"SourceY")
local real Y5=GetUnitX(m5)
local real Z5=GetUnitY(m5)
local real YME
local real YNE
local real OZE=UO7(UC7,"LastX")
local real OAE=UO7(UC7,"LastY")
local real l4
local real G1E=RF7(OZE,OAE,Y5,Z5)
call TR7(UC7,"LastX",Y5)
call TR7(UC7,"LastY",Z5)
if G1E>100 or YL9>(3.5/ .03)or CK7(m5)==true then
call DestroyLightning(YKE)
call TN7(UC7)
call UA7(t)
else
call MoveLightning(YKE,true,t5,w5,Y5,Z5)
if RF7(t5,w5,Y5,Z5)>325 then
set l4=Atan2(Z5-w5,Y5-t5)
set YME=t5+(325)*Cos(l4)
set YNE=w5+(325)*Sin(l4)
call SetUnitX(m5,YME)
call SetUnitY(m5,YNE)
endif
endif
set t=null
set p5=null
set m5=null
set YKE=null
return false
endfunction
function YOE takes unit EC8,unit O07,integer H98 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local lightning NGE=AddLightning("PONC",true,GetUnitX(EC8),GetUnitY(EC8),GetUnitX(O07),GetUnitY(O07))
call SetLightningColor(NGE,1,1,1,1)
call SaveLightningHandle(L7,(OC7),StringHash("Lightning"),(NGE))
call TU7(OC7,"Source",EC8)
call TU7(OC7,"Target",O07)
call TQ7(OC7,"Level",H98)
call TR7(OC7,"SourceX",GetUnitX(EC8)*1.0)
call TR7(OC7,"SourceY",GetUnitY(EC8)*1.0)
call TR7(OC7,"LastX",GetUnitX(O07)*1.0)
call TR7(OC7,"LastY",GetUnitY(O07)*1.0)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YJE))
call HD8(EC8,O07,ZG4,70*H98)
call IssueTargetOrder(EC8,"attack",O07)
set t=null
set NGE=null
endfunction
function YPE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local integer CP8=GetTriggerEvalCount(t)
local integer H98=UN7(OC7,"Level")
local unit EC8=U87(OC7,"Source")
local real Z_9=UO7(OC7,"Angle")
local real VME=UO7(OC7,"SourceX")
local real VNE=UO7(OC7,"SourceY")
local real ED8=UO7(OC7,"TargetX")
local real EE8=UO7(OC7,"TargetY")
local real EH8=VME+(30*(20+4*2)/30)*CP8*Cos(Z_9*bj_DEGTORAD)
local real EI8=VNE+(30*(20+4*2)/30)*CP8*Sin(Z_9*bj_DEGTORAD)
local real YQE=SquareRoot((EH8-ED8)*(EH8-ED8)+(EI8-EE8)*(EI8-EE8))
local real YRE=700
local real YSE=175
local real YTE=(1-YQE/ YRE)*YSE*2
local group g=CX7()
local unit O07
if CP8==1 then
call SetUnitAnimationByIndex(EC8,5)
call SetUnitTimeScale(EC8,1.5)
endif
if YTE>YSE then
call SetUnitAnimationByIndex(EC8,5)
set YTE=YSE*2-YTE
endif
call SetUnitFlyHeight(EC8,DR8(YTE,0),0)
call SetUnitX(EC8,D78(EH8))
call SetUnitY(EC8,D88(EI8))
call SetUnitFacing(EC8,Z_9)
set IN4=EC8
call GroupEnumUnitsInRange(g,EH8,EI8,120,Condition(function GD8))
set O07=FirstOfGroup(g)
call CW7(g)
if YQE<30 or O07!=null or GetTriggerEvalCount(t)>75 then
call SetUnitFlyHeight(EC8,0,0)
call SetUnitFacing(EC8,Z_9)
call SetUnitTimeScale(EC8,1)
call SetUnitAnimation(EC8,"stand")
call SetUnitPathing(EC8,true)
call UnitRemoveAbility(EC8,1093749302)
call D28(GetUnitX(EC8),GetUnitY(EC8),100)
if O07!=null and CK7(O07)==false then
call U67(O07,"4408",5)
call YOE(EC8,O07,H98)
endif
call TN7(OC7)
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
set g=null
return false
endfunction
function YUE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093749303)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local real EME=700
local real Z_9=GetUnitFacing(EC8)
local real FAD=GetUnitX(EC8)
local real FBD=GetUnitY(EC8)
local real ED8=D78(FAD+EME*Cos(Z_9*bj_DEGTORAD))
local real EE8=D88(FBD+EME*Sin(Z_9*bj_DEGTORAD))
call LM7(EC8,1097691750)
call UnitRemoveAbility(EC8,1097691750)
call SetUnitPathing(EC8,false)
call LM7(EC8,1093749302)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function YPE))
call TU7(OC7,"Source",EC8)
call TQ7(OC7,"Level",H98)
call TR7(OC7,"Angle",Z_9*1.0)
call TR7(OC7,"SourceX",FAD*1.0)
call TR7(OC7,"SourceY",FBD*1.0)
call TR7(OC7,"TargetX",ED8*1.0)
call TR7(OC7,"TargetY",EE8*1.0)
set EC8=null
set t=null
endfunction
function YVE takes nothing returns boolean
if GetSpellAbilityId()==1093749303 then
call YUE()
endif
return false
endfunction
function T58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YVE))
set t=null
endfunction
function YWE takes nothing returns nothing
local integer UC7=GetHandleId(GetTriggeringTrigger())
local unit p5=IN4
local unit m5=IP4
local real DS8=UO7(UC7,"Damage")
call HD8(p5,m5,ZG4,DS8)
set p5=null
set m5=null
endfunction
function YXE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local trigger t=EK8(p5,m5,1747993168,"YWE",700)
local integer OC7=GetHandleId(t)
local integer H98=GetUnitAbilityLevel(p5,1093678145)
local real B19
if H98==1 then
set B19=85
elseif H98==2 then
set B19=165
elseif H98==3 then
set B19=225
elseif H98==4 then
set B19=300
endif
call TR7(OC7,"Damage",B19)
set p5=null
set m5=null
set t=null
endfunction
function YYE takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local group g=CX7()
local integer H98=GetUnitAbilityLevel(EC8,1093678145)
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),500,Condition(function F58))
call ForGroup(g,function YXE)
call CW7(g)
call PlaySoundOnUnitBJ(OP,100,EC8)
set EC8=null
set g=null
endfunction
function YZE takes nothing returns boolean
if GetSpellAbilityId()==1093678145 then
call YYE()
endif
return false
endfunction
function T28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YZE))
set t=null
endfunction
function YAE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
call TN7(UC7)
call UA7(t)
else
call TN7(UC7)
call UA7(t)
call RR7(p5)
endif
set t=null
set p5=null
return false
endfunction
function YBE takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(p5,1093677136)
call TriggerRegisterTimerEvent(t,1+1.75+0.75*BH7,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function YAE))
call TU7(UC7,"Source",p5)
set p5=null
set t=null
endfunction
function YCE takes nothing returns boolean
if GetSpellAbilityId()==1093677136 then
call YBE()
endif
return false
endfunction
function T_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YCE))
set t=null
endfunction
function Y3E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)==4 or CK7(O07)then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call UnitRemoveAbility(O07,XW4)
call UnitRemoveAbility(O07,XX4)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
call HD8(EC8,O07,ZG4,20*H98-10)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function Y6E takes unit EC8,unit O07,integer H98 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call LM7(O07,XW4)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,O07)
call TriggerAddCondition(t,Condition(function Y3E))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget(YI4,O07,"chest")))
set t=null
endfunction
function YLE takes nothing returns boolean
if IsUnitInGroup(GetEnumUnit(),XY4)==false and CK7(GetEnumUnit())==false then
call GroupAddUnit(XY4,GetEnumUnit())
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FireBlast.mdx",GetEnumUnit(),"chest"))
call Y6E(XA4,GetEnumUnit(),XZ4)
endif
return false
endfunction
function Y1E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local integer CP8=(LoadInteger(L7,(OC7),(34)))
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real FAD=(LoadReal(L7,(OC7),(189)))
local real FBD=(LoadReal(L7,(OC7),(190)))
local real ED8=(LoadReal(L7,(OC7),(47)))
local real EE8=(LoadReal(L7,(OC7),(48)))
local real a=(LoadReal(L7,(OC7),(13)))
local real Y0E=(1-I2R(CP8)/50)*bj_PI
local real Y5E=XC4/2*Cos(Y0E)
local real Y2E=XB4/2*Sin(Y0E)
local real x=D78(ED8+Y5E*Cos(a)-Y2E*Sin(a))
local real y=D88(EE8+Y5E*Sin(a)+Y2E*Cos(a))
local group AG9=(LoadGroupHandle(L7,(OC7),(133)))
local group g
local integer H98=GetUnitAbilityLevel(EC8,1093751370)
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and CP8>0 and(GetSpellAbilityId()==1093808206 or GetSpellAbilityId()==1093751371))or CP8>100 then
call D28(x,y,300)
call SetUnitVertexColor(EC8,255,255,255,255)
if(LoadInteger(L7,(GetHandleId(EC8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EC8)),(704)))==1093751370 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093751370,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808206,false)
call SetUnitPathing(EC8,true)
call CW7(AG9)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
if ModuloInteger(CP8,10)==0 then
call D28(x,y,200)
endif
call SaveInteger(L7,(OC7),(34),(CP8+1))
call SetUnitX(EC8,x)
call SetUnitY(EC8,y)
call SetUnitFacing(EC8,(a+Y0E-bj_PI/2)*bj_RADTODEG)
set g=CX7()
set XY4=AG9
set IN4=EC8
set XA4=EC8
set XZ4=GetUnitAbilityLevel(EC8,1093751370)
call GroupEnumUnitsInRange(g,x,y,200+25,Condition(function F38))
call ForGroup(g,function YLE)
call CW7(g)
endif
set t=null
set EC8=null
set g=null
set AG9=null
return false
endfunction
function Y_E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local real FAD=GetUnitX(EC8)
local real FBD=GetUnitY(EC8)
local real a=PP7(FAD,FBD,GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORAD
local real ED8=FAD+1400/2*Cos(a)
local real EE8=FBD+1400/2*Sin(a)
call SetUnitState(EC8,UNIT_STATE_LIFE,GetUnitState(EC8,UNIT_STATE_LIFE)-GetUnitState(EC8,UNIT_STATE_LIFE)*0.15)
call U67(EC8,"DashState1",2)
call U67(EC8,"DashState2",2)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Y1E))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(189),((FAD)*1.0))
call SaveReal(L7,(OC7),(190),((FBD)*1.0))
call SaveReal(L7,(OC7),(47),((ED8)*1.0))
call SaveReal(L7,(OC7),(48),((EE8)*1.0))
call SaveReal(L7,(OC7),(13),((a)*1.0))
call SaveGroupHandle(L7,(OC7),(133),(CX7()))
call SetUnitPathing(EC8,false)
call SetUnitVertexColor(EC8,255,255,255,50)
call LM7(EC8,1093808206)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093751370,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808206,true)
set t=null
set EC8=null
endfunction
function Z4E takes nothing returns boolean
if GetSpellAbilityId()==1093751370 then
call Y_E()
endif
return false
endfunction
function U48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z4E))
set t=null
endfunction
function Z7E takes nothing returns nothing
local unit EC8=Y94
local unit O07=GetEnumUnit()
call HD8(EC8,O07,ZG4,40+20*YD4)
call DY8("Doodads\\Cinematic\\FireTrapUp\\FireTrapUp.mdl",O07,"origin",1)
set EC8=null
set O07=null
endfunction
function Z8E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer H98=GetUnitAbilityLevel(EC8,1093751371)
local group g
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set IN4=EC8
set Y94=EC8
set YD4=H98
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),1000+25,Condition(function FT8))
call ForGroup(g,function Z7E)
call CW7(g)
set g=null
endif
set t=null
set EC8=null
return false
endfunction
function Z9E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit ZDE=(LoadUnitHandle(L7,(OC7),(589)))
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if IsUnitIllusion(GetEventDamageSource())==true then
call DT8(ZDE,GetEventDamage())
endif
else
if GetUnitX(ZDE)!=x or GetUnitY(ZDE)!=y then
call SetUnitPosition(ZDE,x,y)
endif
if GetUnitY(EC8)!=x or GetUnitY(EC8)!=y then
call SetUnitPosition(EC8,x,y)
endif
call SetUnitX(H88,GetUnitX(EC8))
call SetUnitY(H88,GetUnitY(EC8))
endif
if GetTriggerEvalCount(t)==1 then
call PauseUnit(EC8,true)
endif
set t=null
set ZDE=null
set EC8=null
set H88=null
return false
endfunction
function ZEE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit ZFE=(LoadUnitHandle(L7,(OC7),(588)))
local unit ZDE=(LoadUnitHandle(L7,(OC7),(589)))
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
local unit GYD=(LoadUnitHandle(L7,(OC7),(239)))
local integer H98=GetUnitAbilityLevel(EC8,1093751371)
local group g
local unit H88
local integer ZGE
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call StopSound(V74,false,false)
call ShowUnit(ZFE,false)
call ShowUnit(GYD,false)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call ShowUnit(EC8,true)
call UY7(EC8,"4326")
call UnitRemoveAbility(EC8,1093678162)
call SetUnitInvulnerable(EC8,false)
call PauseUnit(EC8,false)
if GetLocalPlayer()==GetOwningPlayer(EC8)then
call ClearSelection()
call SelectUnit(EC8,true)
endif
call SetUnitState(EC8,UNIT_STATE_LIFE,1)
set H88=CreateUnit(GetOwningPlayer(GetKillingUnit()),1697656901,0,0,0)
call UnitRemoveBuffs(EC8,true,true)
call UnitRemoveAbility(EC8,1097167980)
call UnitDamageTarget(H88,EC8,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
set H88=null
else
if GetTriggerEvalCount(t)==1 then
call SetUnitFlyHeight(ZDE,0,200)
elseif GetTriggerEvalCount(t)==2 then
call PauseUnit(ZDE,false)
call UnitApplyTimedLife(ZDE,1112820806,0.1)
call StopSound(V74,false,false)
call StartSound(V84)
call DestroyEffect(AddSpecialEffect("war3mapImported\\FireNova2.mdx",GetUnitX(ZFE),GetUnitY(ZFE)))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call ShowUnit(EC8,true)
call UY7(EC8,"4326")
call UnitRemoveAbility(EC8,1093678162)
call SetUnitInvulnerable(EC8,false)
call SetUnitAnimationByIndex(EC8,8)
call QueueUnitAnimation(EC8,"idle")
call PauseUnit(EC8,false)
if GetLocalPlayer()==GetOwningPlayer(EC8)then
call ClearSelection()
call SelectUnit(EC8,true)
endif
call ShowUnit(ZFE,false)
call ShowUnit(GYD,false)
call SetUnitState(EC8,UNIT_STATE_LIFE,GetUnitState(EC8,UNIT_STATE_MAX_LIFE))
call SetUnitState(EC8,UNIT_STATE_MANA,GetUnitState(EC8,UNIT_STATE_MAX_MANA))
set ZGE=GetUnitAbilityLevel(EC8,1093751370)
if ZGE>0 then
call UnitRemoveAbility(EC8,1093751370)
call UnitAddAbility(EC8,1093751370)
call SetUnitAbilityLevel(EC8,1093751370,ZGE)
endif
set ZGE=GetUnitAbilityLevel(EC8,1093753176)
if ZGE>0 then
call UnitRemoveAbility(EC8,1093753176)
call UnitAddAbility(EC8,1093753176)
call SetUnitAbilityLevel(EC8,1093753176,ZGE)
endif
set ZGE=GetUnitAbilityLevel(EC8,1093753177)
if ZGE>0 then
call UnitRemoveAbility(EC8,1093753177)
call UnitAddAbility(EC8,1093753177)
call SetUnitAbilityLevel(EC8,1093753177,ZGE)
endif
set H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(EC8),GetUnitY(EC8),0)
call LM7(H88,1093753428)
call SetUnitAbilityLevel(H88,1093753428,H98)
call IssueImmediateOrder(H88,"stomp")
set H88=null
endif
endif
set t=null
set EC8=null
set ZFE=null
set GYD=null
set ZDE=null
return false
endfunction
function ZHE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local unit ZFE
local unit ZDE
local unit GYD=CreateUnit(GetOwningPlayer(EC8),1747993420,GetUnitX(EC8),GetUnitY(EC8),0)
local integer H98=GetUnitAbilityLevel(EC8,1093751371)
local unit H88
local unit ZIE=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(EC8),GetUnitY(EC8),0)
set ZFE=CreateUnit(GetOwningPlayer(EC8),1747993176,x,y,0)
if H98==1 then
set ZDE=CreateUnit(GetOwningPlayer(EC8),1747993430,x,y,0)
elseif H98==2 then
set ZDE=CreateUnit(GetOwningPlayer(EC8),1747993432,x,y,0)
elseif H98==3 then
set ZDE=CreateUnit(GetOwningPlayer(EC8),1747993431,x,y,0)
endif
call AddSpecialEffectTarget("war3mapImported\\PhoenixDown_2.mdl",ZFE,"origin")
if GetLocalPlayer()==GetOwningPlayer(EC8)then
call ClearSelection()
call SelectUnit(ZDE,true)
endif
call D28(x,y,400)
call ShowUnit(EC8,false)
call UW7(EC8,"4326")
call LM7(EC8,1093678162)
call DL9(EC8,0,0)
call SetUnitInvulnerable(EC8,true)
call UnitRemoveBuffs(EC8,true,true)
call StartSound(V74)
call UnitRemoveAbility(ZDE,1098015094)
call UnitApplyTimedLife(ZFE,1112820806,6.1)
call UnitApplyTimedLife(GYD,1112820806,6.1)
call UnitApplyTimedLife(ZDE,1112820806,6.1)
call TriggerRegisterTimerEvent(t,5.2,false)
call TriggerRegisterTimerEvent(t,6,false)
call TriggerAddCondition(t,Condition(function ZEE))
call TriggerRegisterUnitEvent(t,ZDE,EVENT_UNIT_DEATH)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(588),(ZFE))
call SaveUnitHandle(L7,(OC7),(589),(ZDE))
call SaveUnitHandle(L7,(OC7),(239),(GYD))
call SaveReal(L7,(OC7),(6),((GetUnitX(EC8))*1.0))
call SaveReal(L7,(OC7),(7),((GetUnitY(EC8))*1.0))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,ZDE,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Z8E))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,.02,true)
call TriggerRegisterUnitEvent(t,ZDE,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,ZDE,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function Z9E))
call SaveUnitHandle(L7,(OC7),(589),(ZDE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(6),((GetUnitX(EC8))*1.0))
call SaveReal(L7,(OC7),(7),((GetUnitY(EC8))*1.0))
call SaveUnitHandle(L7,(OC7),(19),(ZIE))
if SR7(EC8,1227899192)then
call UnitAddAbility(ZIE,1093678153)
endif
set t=null
set EC8=null
set ZFE=null
set ZDE=null
endfunction
function ZJE takes nothing returns boolean
if GetSpellAbilityId()==1093751371 then
call ZHE()
endif
return false
endfunction
function UF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZJE))
call DE8(1093687350)
call DE8(1093753428)
set t=null
endfunction
function ZKE takes nothing returns nothing
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+BD4)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BirdShitTarget_1.mdx",GetEnumUnit(),"origin"))
endfunction
function ZME takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
local group g
local integer H98=GetUnitAbilityLevel(EC8,1093809986)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga_2.mdx",x,y))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set g=CX7()
set BD4=50+75*H98
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,425,Condition(function G88))
call ForGroup(g,function ZKE)
call CW7(g)
set t=null
set EC8=null
set g=null
return false
endfunction
function ZNE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
call TriggerRegisterTimerEvent(t,3,false)
call TriggerAddCondition(t,Condition(function ZME))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
if IsPlayerAlly(GetOwningPlayer(EC8),GetLocalPlayer())or CM7(GetLocalPlayer())then
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffect("war3mapImported\\BirdShit_1.mdx",x,y)))
else
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffect("",x,y)))
endif
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(EC8))or CM7(GetLocalPlayer())then
call PingMinimapEx(x,y,3,255,0,0,false)
call E48(XS4,x,y)
endif
call E88(GetOwningPlayer(EC8),4,x,y,500)
call SetUnitState(EC8,UNIT_STATE_LIFE,GetUnitState(EC8,UNIT_STATE_LIFE)*0.9)
set t=null
set EC8=null
endfunction
function ZOE takes nothing returns boolean
if GetSpellAbilityId()==1093809986 then
call ZNE()
endif
return false
endfunction
function U88 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZOE))
set t=null
endfunction
function ZPE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call UnitRemoveAbility(O07,1093809968)
call UnitRemoveAbility(O07,1110459723)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetTriggerEvalCount(t)>4 then
call UnitRemoveAbility(O07,1093809968)
call UnitRemoveAbility(O07,1110459723)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call HD8(EC8,O07,ZG4,16+12*H98)
else
call HD8(EC8,O07,ZG4,16+12*H98)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function ZQE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local real ZZ9=(LoadReal(L7,(OC7),(23)))
local real ZA9=(LoadReal(L7,(OC7),(24)))
local real a=(LoadReal(L7,(OC7),(137)))
local real x=ZZ9+12*Cos(a)
local real y=ZA9+12*Sin(a)
call SetUnitX(O07,x)
call SetUnitY(O07,y)
call SaveReal(L7,(OC7),(23),((x)*1.0))
call SaveReal(L7,(OC7),(24),((y)*1.0))
if GetTriggerEvalCount(t)>25 then
call D28(x,y,100)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function ZRE takes unit EC8,unit O07,real x,real y,real a returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local integer H98=GetUnitAbilityLevel(EC8,1093809969)
call SetUnitPosition(O07,GetUnitX(O07),GetUnitY(O07))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveReal(L7,(OC7),(137),((a*bj_DEGTORAD)*1.0))
call SaveReal(L7,(OC7),(23),((GetUnitX(O07))*1.0))
call SaveReal(L7,(OC7),(24),((GetUnitY(O07))*1.0))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,O07)
call TriggerAddCondition(t,Condition(function ZQE))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call SaveInteger(L7,(OC7),(5),(H98))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",O07,"chest")))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,O07)
call TriggerAddCondition(t,Condition(function ZPE))
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093809968,false)
call LM7(O07,1093809968)
set t=null
endfunction
function ZSE takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),BE4)==false then
if RE7(BG4,GetEnumUnit())<24 or RAbsBJ(Cos(PO7(BG4,GetEnumUnit())-BJ4))<0.26 then
call GroupAddUnit(BE4,GetEnumUnit())
if Sin((PO7(BG4,GetEnumUnit())-BJ4)*bj_DEGTORAD)<0 then
call ZRE(BF4,GetEnumUnit(),BH4,BI4,BJ4-90)
else
call ZRE(BF4,GetEnumUnit(),BH4,BI4,BJ4+90)
endif
endif
endif
endfunction
function ZTE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit E98=(LoadUnitHandle(L7,(OC7),(45)))
local real a=(LoadReal(L7,(OC7),(137)))
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
local group GAD=(LoadGroupHandle(L7,(OC7),(187)))
local group g
if GetTriggerEvalCount(t)>125 then
call KillUnit(E98)
call CW7(GAD)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set x=x+8*Cos(a)
set y=y+8*Sin(a)
call SetUnitX(E98,x)
call SetUnitY(E98,y)
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
set IN4=EC8
set BH4=x
set BI4=y
set BJ4=a*bj_RADTODEG
set BE4=GAD
set BF4=EC8
set BG4=E98
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,225,Condition(function FT8))
call ForGroup(g,function ZSE)
call CW7(g)
endif
set t=null
set EC8=null
return false
endfunction
function ZUE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local real ED8=GetSpellTargetX()
local real EE8=GetSpellTargetY()
local real Z_9=Atan2(EE8-GetUnitY(EC8),ED8-GetUnitX(EC8))
local integer H98=GetUnitAbilityLevel(EC8,1093809969)
local unit E98=CreateUnit(GetOwningPlayer(EC8),1747993665,GetUnitX(EC8),GetUnitY(EC8),Z_9*bj_RADTODEG)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function ZTE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(45),(E98))
call SaveReal(L7,(OC7),(137),((Z_9)*1.0))
call SaveReal(L7,(OC7),(6),((GetUnitX(EC8))*1.0))
call SaveReal(L7,(OC7),(7),((GetUnitY(EC8))*1.0))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveGroupHandle(L7,(OC7),(187),(CX7()))
set t=null
set EC8=null
endfunction
function ZVE takes nothing returns boolean
if GetSpellAbilityId()==1093809969 then
call ZUE()
endif
return false
endfunction
function UE8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZVE))
set t=null
endfunction
function ZWE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer EQ8=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(EQ8),(2)))
local real ZXE=(LoadReal(L7,(GetHandleId(EC8)),(681)))
call FlushChildHashtable(L7,(EQ8))
call UA7(t)
if((TimerGetElapsed(W))-ZXE<0.49)==false or GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(EC8,1093753396)
call UnitRemoveAbility(EC8,1093753409)
call UnitRemoveAbility(EC8,1093753410)
call UnitRemoveAbility(EC8,1093753401)
call UnitRemoveAbility(EC8,1110459478)
endif
set t=null
set EC8=null
return false
endfunction
function ZYE takes unit EC8 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local integer ZZE
call TriggerRegisterTimerEvent(t,0.5,false)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ZWE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(GetHandleId(EC8)),(681),(((TimerGetElapsed(W)))*1.0))
if X54==1 then
set ZZE=1093753396
call UnitRemoveAbility(EC8,1093753409)
call UnitRemoveAbility(EC8,1093753410)
call UnitRemoveAbility(EC8,1093753401)
elseif X54==2 then
set ZZE=1093753409
call UnitRemoveAbility(EC8,1093753396)
call UnitRemoveAbility(EC8,1093753410)
call UnitRemoveAbility(EC8,1093753401)
elseif X54==3 then
set ZZE=1093753410
call UnitRemoveAbility(EC8,1093753396)
call UnitRemoveAbility(EC8,1093753409)
call UnitRemoveAbility(EC8,1093753401)
elseif X54==4 then
set ZZE=1093753401
call UnitRemoveAbility(EC8,1093753396)
call UnitRemoveAbility(EC8,1093753409)
call UnitRemoveAbility(EC8,1093753410)
endif
call LM7(EC8,ZZE)
call UnitMakeAbilityPermanent(EC8,true,ZZE)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),ZZE,false)
set t=null
endfunction
function ZAE takes nothing returns nothing
local unit O07=GetEnumUnit()
local real ZBE=Y44
local real ZCE=Y74
local real B19=ZBE+ZCE*GetUnitState(O07,UNIT_STATE_MAX_LIFE)
set B19=B19/5
if IsUnitEnemy(O07,GetOwningPlayer(X24))==true then
call HD8(X24,O07,ZI4,B19)
if CK7(O07)==false then
call ZYE(O07)
endif
else
call SetUnitState(O07,UNIT_STATE_LIFE,GetUnitState(O07,UNIT_STATE_LIFE)+B19*0.5)
endif
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FireRayTarget.mdx",O07,"origin"))
call E88(GetOwningPlayer(O07),2,GetUnitX(X24),GetUnitY(X24),500)
set O07=null
endfunction
function Z3E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local integer CP8=(LoadInteger(L7,(OC7),(34)))
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real Z6E=GetUnitFacing(EC8)
local real a=Z6E*bj_DEGTORAD
local location l1=GetUnitLoc(EC8)
local real ZLE=GetLocationZ(l1)
local location l2=Location(GetUnitX(EC8)+X34*Cos(a),GetUnitY(EC8)+X34*Sin(a))
local real Z1E=GetLocationZ(l2)
local lightning Z0E=(LoadLightningHandle(L7,(OC7),(676)))
local lightning Z5E=(LoadLightningHandle(L7,(OC7),(677)))
local lightning Z2E=(LoadLightningHandle(L7,(OC7),(678)))
local lightning Z_E=(LoadLightningHandle(L7,(OC7),(679)))
local lightning A4E=(LoadLightningHandle(L7,(OC7),(680)))
local real A7E=1
local real FAD
local real FBD
local real A8E
local real A9E
local real ADE
local real AEE
local real AFE
local real AGE
local real AHE
local real AIE
local real AJE
local real AKE
local real AME
local real ANE
local real APE
local real AQE
local real ARE
local real ASE
local real ATE
local real AUE
local real AVE
local real AWE
local real AXE
local real AYE
local real AZE
local real AAE
local real ABE
local real ACE
local real A3E
local real A6E
local real ALE
local real A1E
local real A0E
local group g
local real x
local real y
local integer i
local real A5E
local real A2E
local real A_E
local boolean B4E=FALSE
local boolean B7E=false
local unit B8E=(LoadUnitHandle(L7,(OC7),(17)))
local unit CT4=null
local unit DriftTarget=null
local real B9E
local real BDE
local real BEE
local real BFE=(LoadReal(L7,(OC7),(688)))
local boolean BGE=(LoadBoolean(L7,(OC7),(689)))
local boolean BHE=(LoadBoolean(L7,(OC7),(672)))
local real BIE
local ubersplat BJE
local real O32=(LoadReal(L7,(OC7),(23)))
local real O42=(LoadReal(L7,(OC7),(24)))
local real ZBE
local real ZCE
local real BKE
local real BME=5
if GetUnitCurrentOrder(EC8)==852001 then
call DisableTrigger(t)
call RR7(EC8)
call EnableTrigger(t)
endif
call RemoveLocation(l1)
call RemoveLocation(l2)
if IsUnitPaused(EC8)==false and(GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER)then
set FAD=GetUnitX(EC8)
set FBD=GetUnitY(EC8)
if GetIssuedOrderId()!=852490 and GetIssuedOrderId()!=852185 and GetIssuedOrderId()!=852600 then
call DisableTrigger(t)
call RR7(EC8)
call EnableTrigger(t)
endif
if GetIssuedOrderId()==851971 then
if GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER then
set x=GetUnitX(GetOrderTargetUnit())
set y=GetUnitY(GetOrderTargetUnit())
else
set x=GetOrderPointX()
set y=GetOrderPointY()
endif
set A5E=PP7(x,y,FAD,FBD)
if A5E<0 then
set A5E=A5E+360
endif
set A_E=Z6E-A5E
if A_E<0 then
set A_E=A_E+360
endif
if A_E<180 then
set B4E=true
set A2E=Z6E+6
else
set B7E=true
set A2E=Z6E-6
endif
set BFE=PP7(x,y,FAD,FBD)+180
call SaveReal(L7,(OC7),(688),((BFE)*1.0))
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT or GetTriggerEventId()==EVENT_WIDGET_DEATH or(LoadInteger(L7,(GetHandleId(EC8)),(704)))==-1 or CP8>=X04/.02 or DV9(EC8)or A27(EC8)then
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()==1093753395 or GetSpellAbilityId()==1093751371 or GetSpellAbilityId()==1093809992))then
call UY7(EC8,"SunRay|Disarmed")
call FQ8(EC8)
call SetUnitPathing(EC8,true)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveAbility(EC8,1093808181)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093753395,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808181,false)
if(LoadInteger(L7,(GetHandleId(EC8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EC8)),(704)))==1093753177 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093753177,true)
endif
call DestroyLightning(Z0E)
call DestroyLightning(Z5E)
call DestroyLightning(Z2E)
call DestroyLightning(Z_E)
call DestroyLightning(A4E)
call StopSound(XR4,false,true)
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if GetIssuedOrderId()==String2OrderIdBJ("immolation")then
set BGE=true
endif
if GetIssuedOrderId()==String2OrderIdBJ("unimmolation")then
set BGE=false
endif
call SaveBoolean(L7,(OC7),(689),(BGE))
else
set A5E=Z6E-BFE
if A5E<-180 then
set A5E=A5E+360
elseif A5E>180 then
set A5E=A5E-360
endif
set BIE=1
if CP8<35 and BHE==true then
set BIE=7
endif
if A5E<(-1*BIE)then
set Z6E=Z6E+BIE
elseif A5E>BIE then
set Z6E=Z6E-BIE
else
set BHE=false
call SaveBoolean(L7,(OC7),(672),(BHE))
set Z6E=BFE
endif
if UU7(EC8,"DashState1")==false then
call SetUnitFacing(EC8,Z6E)
endif
set a=Z6E*bj_DEGTORAD
set CP8=CP8+1
call SaveInteger(L7,(OC7),(34),(CP8))
set A8E=X34
set FAD=GetUnitX(EC8)+50*Cos(a)
set FBD=GetUnitY(EC8)+50*Sin(a)
if BGE and FK8(EC8)==false and DV9(EC8)==false then
if((LoadInteger(L7,(GetHandleId((EC8))),((4331))))==D)==true then
set BME=BME*2
endif
set BEE=a
set B9E=D78(GetUnitX(EC8)+BME*Cos(BEE))
set BDE=D88(GetUnitY(EC8)+BME*Sin(BEE))
call D28(B9E,BDE,200)
call SetUnitX(EC8,B9E)
call SetUnitY(EC8,BDE)
endif
call SetUnitState(EC8,UNIT_STATE_LIFE,GetUnitState(EC8,UNIT_STATE_LIFE)-GetUnitState(EC8,UNIT_STATE_LIFE)*0.03*0.02)
call D28(FAD,FBD,200)
if ModuloInteger(CP8,10)==0 then
set X_4=CX7()
set IN4=EC8
set i=0
loop
exitwhen i*50>X34
set x=FAD+i*50*Cos(a)
set y=FBD+i*50*Sin(a)
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,130+25,Condition(function FT8))
call GroupAddGroup(g,X_4)
call GroupEnumUnitsInRange(g,x,y,100,Condition(function G88))
call GroupAddGroup(g,X_4)
call CW7(g)
if ModuloInteger(i,3)==0 then
call E88(GetOwningPlayer(EC8),2,x,y,225)
endif
set i=i+1
endloop
set X24=EC8
set X54=GetUnitAbilityLevel(EC8,1093753177)
set BKE=(I2R(CP8)/50.0)/6
set Y44=(5*X54+10)+(5*X54+10)*BKE
set Y74=(X54+BKE*(X54))/100
call GroupRemoveUnit(X_4,EC8)
call ForGroup(X_4,function ZAE)
call CW7(X_4)
set g=null
set X_4=null
endif
if LO7(EC8)==false then
if B8E!=null then
set A8E=RE7(EC8,B8E)
endif
set A9E=FAD
set ADE=FBD
set AEE=ZLE+200
set AFE=A9E+A8E*Cos(a)
set AGE=ADE+A8E*Sin(a)
set AHE=Z1E
set AIE=FAD+X64*Cos((Z6E-90)*bj_DEGTORAD)
set AJE=FBD+XL4*Cos((Z6E-90)*bj_DEGTORAD)
set AKE=ZLE+200
set AME=AIE+A8E*Cos(a)
set ANE=AJE+A8E*Sin(a)
set APE=Z1E
set AQE=FAD+X64*Cos((Z6E+90)*bj_DEGTORAD)
set ARE=FBD+XL4*Cos((Z6E+90)*bj_DEGTORAD)
set ASE=ZLE+200
set ATE=AQE+A8E*Cos(a)
set AUE=ARE+A8E*Sin(a)
set AVE=Z1E
set AWE=FAD
set AXE=FBD
set AYE=ZLE+200+X14
set AZE=AWE+A8E*Cos(a)
set AAE=AXE+A8E*Sin(a)
set ABE=Z1E
set ACE=FAD
set A3E=FBD
set A6E=ZLE+200-X14
set ALE=ACE+A8E*Cos(a)
set A1E=A3E+A8E*Sin(a)
set A0E=Z1E
if ModuloInteger(CP8,10)==0 and A8E==X34 then
set x=GetUnitX(EC8)+(X34)*Cos(a)
set y=GetUnitY(EC8)+(X34)*Sin(a)
call DestroyEffect(AddSpecialEffect("war3mapImported\\FireRayTarget.mdx",x,y))
endif
if ModuloInteger(CP8,10)==0 then
call SetSoundPosition(XR4,GetUnitX(EC8),GetUnitY(EC8),100)
set x=GetUnitX(EC8)+(A8E)*Cos(a)
set y=GetUnitY(EC8)+(A8E)*Sin(a)
set BJE=CreateUbersplat(x,y,"SRAY",255,255,255,255,false,false)
call SetUbersplatRenderAlways(BJE,true)
call TE9(BJE,10)
set BJE=null
endif
call MoveLightningEx(Z0E,false,A9E,ADE,AEE,AFE,AGE,AHE)
call MoveLightningEx(Z5E,false,AIE,AJE,AKE,AME,ANE,APE)
call MoveLightningEx(Z2E,false,AQE,ARE,ASE,ATE,AUE,AVE)
call MoveLightningEx(Z_E,false,AWE,AXE,AYE,AZE,AAE,ABE)
call MoveLightningEx(A4E,false,ACE,A3E,A6E,ALE,A1E,A0E)
if CM7(GetLocalPlayer())then
set A7E=1
endif
call SetLightningColor(Z0E,1.00,1.00,1.00,A7E)
call SetLightningColor(Z5E,1.00,1.00,1.00,A7E)
call SetLightningColor(Z2E,1.00,1.00,1.00,A7E)
call SetLightningColor(Z_E,1.00,1.00,1.00,A7E)
call SetLightningColor(A4E,1.00,1.00,1.00,A7E)
endif
endif
set t=null
set EC8=null
set Z0E=null
set Z5E=null
set Z2E=null
set Z_E=null
set A4E=null
set l1=null
set l2=null
return false
endfunction
function BNE takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local real a=PP7(GetUnitX(EC8),GetUnitY(EC8),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORAD
local real ED8=D78(GetUnitX(EC8)+X34*Cos(a))
local real EE8=D88(GetUnitY(EC8)+X34*Sin(a))
local lightning Z0E=AddLightning("SRAY",false,GetUnitX(EC8),GetUnitY(EC8),ED8,EE8)
local lightning Z5E=AddLightning("SRAY",false,GetUnitX(EC8),GetUnitY(EC8),ED8,EE8)
local lightning Z2E=AddLightning("SRAY",false,GetUnitX(EC8),GetUnitY(EC8),ED8,EE8)
local lightning Z_E=AddLightning("SRAY",false,GetUnitX(EC8),GetUnitY(EC8),ED8,EE8)
local lightning A4E=AddLightning("SRAY",false,GetUnitX(EC8),GetUnitY(EC8),ED8,EE8)
call SetUnitFacing(EC8,a*bj_RADTODEG)
call StartSound(XR4)
call SetSoundPosition(XR4,GetUnitX(EC8),GetUnitY(EC8),100)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z3E))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(13),((a)*1.0))
call SaveReal(L7,(OC7),(688),((a*bj_RADTODEG)*1.0))
call SaveLightningHandle(L7,(OC7),(676),(Z0E))
call SaveLightningHandle(L7,(OC7),(677),(Z5E))
call SaveLightningHandle(L7,(OC7),(678),(Z2E))
call SaveLightningHandle(L7,(OC7),(679),(Z_E))
call SaveLightningHandle(L7,(OC7),(680),(A4E))
call SaveBoolean(L7,(OC7),(689),(false))
call SaveBoolean(L7,(OC7),(672),(true))
call SaveReal(L7,(OC7),(688),((a*bj_RADTODEG)*1.0))
call SaveReal(L7,(OC7),(23),((GetUnitX(EC8))*1.0))
call SaveReal(L7,(OC7),(24),((GetUnitY(EC8))*1.0))
call FO8(EC8)
call UW7(EC8,"SunRay|Disarmed")
call SetUnitPathing(EC8,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093753395,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808181,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093753177,false)
call LM7(EC8,1093753395)
call UnitMakeAbilityPermanent(EC8,true,1093753395)
call LM7(EC8,1093808181)
call UnitMakeAbilityPermanent(EC8,true,1093808181)
call TriggerEvaluate(t)
set t=null
set EC8=null
set EC8=null
set Z0E=null
set Z5E=null
set Z2E=null
set Z_E=null
set A4E=null
endfunction
function BOE takes nothing returns boolean
if GetSpellAbilityId()==1093753177 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
else
call BNE()
endif
endif
return false
endfunction
function UD8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function BOE))
call TH9(1093753396)
call TH9(1093753409)
call TH9(1093753410)
call TH9(1093753401)
set t=null
endfunction
function BPE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=GetUnitAbilityLevel(EC8,Y84)
if GetTriggerEventId()==EVENT_UNIT_DEATH or(TimerGetElapsed(W))>=(LoadReal(L7,(GetHandleId(O07)),(757)))or CK7(O07)==true then
call UnitRemoveAbility(O07,YF4)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
if ModuloInteger(GetTriggerEvalCount(t),4)==0 then
call HD8(EC8,O07,ZG4,20*H98)
endif
set t=null
set EC8=null
return false
endfunction
function BQE takes nothing returns nothing
local unit EC8=YE4
local unit O07=GetEnumUnit()
local trigger t
local integer OC7
call SaveReal(L7,(GetHandleId(O07)),(757),(((TimerGetElapsed(W))+4)*1.0))
if GetUnitAbilityLevel(O07,YF4)==0 then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function BPE))
call TriggerRegisterDeathEvent(t,O07)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffectTarget(YI4,O07,"chest")))
if DB9(O07)==false then
call UnitAddAbility(O07,YF4)
call UnitMakeAbilityPermanent(O07,true,YF4)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),YJ4,false)
endif
set EC8=null
set O07=null
set t=null
endfunction
function BRE takes unit EC8,unit E98,real J2E,unit H88,unit O07 returns nothing
local real x=GetUnitX(E98)
local real y=GetUnitY(E98)
local group g=CX7()
set IN4=EC8
set YE4=EC8
call GroupEnumUnitsInRange(g,x,y,175+25,Condition(function F38))
call ForGroup(g,function BQE)
call CW7(g)
call DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga_2.mdx",x,y))
call KillUnit(E98)
call ShowUnit(E98,false)
set g=null
endfunction
function BSE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local integer CP8=(LoadInteger(L7,(OC7),(34)))
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local unit BTE=(LoadUnitHandle(L7,(OC7),(393)))
local real J2E=(LoadReal(L7,(OC7),(685)))
local real ED8
local real EE8
local real x
local real y
local real a
local real r=18
local integer H98=GetUnitAbilityLevel(EC8,1093753176)
if GetTriggerEventId()==EVENT_UNIT_DEATH then
set ED8=GetUnitX(O07)
set EE8=GetUnitY(O07)
call SaveReal(L7,(OC7),(47),((ED8)*1.0))
call SaveReal(L7,(OC7),(48),((EE8)*1.0))
call RemoveSavedHandle(L7,(OC7),(17))
call SaveUnitHandle(L7,(OC7),(17),(null))
elseif O07==null then
set ED8=(LoadReal(L7,(OC7),(47)))
set EE8=(LoadReal(L7,(OC7),(48)))
else
set ED8=GetUnitX(O07)
set EE8=GetUnitY(O07)
endif
set a=PP7(GetUnitX(BTE),GetUnitY(BTE),ED8,EE8)
call SetUnitFacing(BTE,a)
set x=GetUnitX(BTE)+r*Cos(a*bj_DEGTORAD)
set y=GetUnitY(BTE)+r*Sin(a*bj_DEGTORAD)
call SetUnitX(BTE,x)
call SetUnitY(BTE,y)
if RF7(x,y,ED8,EE8)<r*2 then
call BRE(EC8,BTE,J2E,H88,O07)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
set BTE=null
set H88=null
return false
endfunction
function BUE takes unit EC8,unit BTE,unit O07,real J2E,unit H88 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local group g
local unit NewTarget
if EC8==O07 then
call KillUnit(BTE)
call ShowUnit(BTE,false)
else
call SetUnitVertexColor(BTE,255,255,255,255)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function BSE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(393),(BTE))
call SaveReal(L7,(OC7),(47),((GetSpellTargetX())*1.0))
call SaveReal(L7,(OC7),(48),((GetSpellTargetY())*1.0))
call SaveReal(L7,(OC7),(685),((J2E)*1.0))
call SaveUnitHandle(L7,(OC7),(19),(H88))
endif
set t=null
endfunction
function BVE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local integer CP8=(LoadInteger(L7,(OC7),(34)))
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real FAD=GetUnitX(EC8)
local real FBD=GetUnitY(EC8)
local unit BWE=(LoadUnitHandle(L7,(OC7),(393)))
local unit BXE=(LoadUnitHandle(L7,(OC7),(394)))
local unit BYE=(LoadUnitHandle(L7,(OC7),(395)))
local unit BZE=(LoadUnitHandle(L7,(OC7),(396)))
local integer H98=GetUnitAbilityLevel(EC8,1093753176)
local real a=GetUnitFacing(EC8)
local real x
local real y
local group g
local group g2
local real JJD=-1*360*0.02/4
local real a2
local real WG9
local real J2E=(LoadReal(L7,(OC7),(685)))
local real BAE
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local integer BBE=GetHandleId(EC8)
local player pl=GetOwningPlayer(EC8)
local integer BCE=800
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093753394 then
if LO7(BWE)==false then
call BUE(EC8,BWE,GetSpellTargetUnit(),J2E,H88)
call RemoveSavedHandle(L7,(OC7),(393))
elseif LO7(BXE)==false then
call BUE(EC8,BXE,GetSpellTargetUnit(),J2E,H88)
call RemoveSavedHandle(L7,(OC7),(394))
elseif LO7(BYE)==false then
call BUE(EC8,BYE,GetSpellTargetUnit(),J2E,H88)
call RemoveSavedHandle(L7,(OC7),(395))
elseif LO7(BZE)==false then
call BUE(EC8,BZE,GetSpellTargetUnit(),J2E,H88)
call RemoveSavedHandle(L7,(OC7),(396))
if(Z17(pl))then
call TO7(BBE,"Bird4")
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093753394,false)
if(LoadInteger(L7,(GetHandleId(EC8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EC8)),(704)))==1093753176 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093753176,true)
endif
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
elseif GetSpellAbilityId()==1093751371 then
if BWE!=null and LO7(BWE)==false then
call BUE(EC8,BWE,EC8,J2E,H88)
endif
if BXE!=null and LO7(BXE)==false then
call BUE(EC8,BXE,EC8,J2E,H88)
endif
if BYE!=null and LO7(BYE)==false then
call BUE(EC8,BYE,EC8,J2E,H88)
endif
if BZE!=null and LO7(BZE)==false then
call BUE(EC8,BZE,EC8,J2E,H88)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093753394,false)
if(LoadInteger(L7,(GetHandleId(EC8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EC8)),(704)))==1093753176 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093753176,true)
endif
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if(Z17(pl))then
call TO7(BBE,"Bird4")
call TQ7(BBE,"BirdsCounter",0)
endif
endif
else
set CP8=CP8+1
call SaveInteger(L7,(OC7),(34),(CP8))
if(Z17(pl))then
call TQ7(BBE,"BirdsCounter",CP8)
endif
if BWE!=null and LO7(BWE)==false then
set WG9=360*4/4.0
set a2=WG9+JJD*CP8
set x=D78(FAD+200*Cos(a2*bj_DEGTORAD))
set y=D88(FBD+200*Sin(a2*bj_DEGTORAD))
call SetUnitFacing(BWE,a2-90)
call SetUnitX(BWE,x)
call SetUnitY(BWE,y)
endif
if BXE!=null and LO7(BXE)==false then
set WG9=360*3/4.0
set a2=WG9+JJD*CP8
set x=D78(FAD+200*Cos(a2*bj_DEGTORAD))
set y=D88(FBD+200*Sin(a2*bj_DEGTORAD))
call SetUnitFacing(BXE,a2-90)
call SetUnitX(BXE,x)
call SetUnitY(BXE,y)
endif
if BYE!=null and LO7(BYE)==false then
set WG9=360*2/4.0
set a2=WG9+JJD*CP8
set x=D78(FAD+200*Cos(a2*bj_DEGTORAD))
set y=D88(FBD+200*Sin(a2*bj_DEGTORAD))
call SetUnitFacing(BYE,a2-90)
call SetUnitX(BYE,x)
call SetUnitY(BYE,y)
endif
if BZE!=null and LO7(BZE)==false then
set WG9=360*1/4.0
set a2=WG9+JJD*CP8
set x=D78(FAD+200*Cos(a2*bj_DEGTORAD))
set y=D88(FBD+200*Sin(a2*bj_DEGTORAD))
call SetUnitFacing(BZE,a2-90)
call SetUnitX(BZE,x)
call SetUnitY(BZE,y)
endif
if CP8>BCE or GetTriggerEventId()==EVENT_UNIT_DEATH then
if BWE!=null and LO7(BWE)==false then
call BUE(EC8,BWE,EC8,J2E,H88)
endif
if BXE!=null and LO7(BXE)==false then
call BUE(EC8,BXE,EC8,J2E,H88)
endif
if BYE!=null and LO7(BYE)==false then
call BUE(EC8,BYE,EC8,J2E,H88)
endif
if BZE!=null and LO7(BZE)==false then
call BUE(EC8,BZE,EC8,J2E,H88)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093753394,false)
if(LoadInteger(L7,(GetHandleId(EC8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EC8)),(704)))==1093753176 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093753176,true)
endif
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if(Z17(pl))then
call TO7(BBE,"Bird4")
call TQ7(BBE,"BirdsCounter",0)
endif
else
set J2E=RMinBJ(0.25+0.75*(I2R(CP8)/500.0),1)
call SaveReal(L7,(OC7),(685),((J2E)*1.0))
set BAE=0.25+(1-0.2)*2.5
call SetUnitScale(BWE,BAE,BAE,BAE)
call SetUnitScale(BXE,BAE,BAE,BAE)
call SetUnitScale(BYE,BAE,BAE,BAE)
call SetUnitScale(BZE,BAE,BAE,BAE)
if CP8==(BCE-175)then
call EY8(XS4,GetOwningPlayer(EC8))
endif
if CP8>(BCE-200)then
if ModuloInteger(CP8,10)==0 or ModuloInteger(CP8,10)==1 or ModuloInteger(CP8,10)==2 or ModuloInteger(CP8,10)==3 or ModuloInteger(CP8,10)==4 then
call SetUnitVertexColor(BWE,255,0,0,255)
call SetUnitVertexColor(BXE,255,0,0,255)
call SetUnitVertexColor(BYE,255,0,0,255)
call SetUnitVertexColor(BZE,255,0,0,255)
else
call SetUnitVertexColor(BWE,255,255,255,255)
call SetUnitVertexColor(BXE,255,255,255,255)
call SetUnitVertexColor(BYE,255,255,255,255)
call SetUnitVertexColor(BZE,255,255,255,255)
endif
endif
endif
endif
set t=null
set EC8=null
set BWE=null
set BXE=null
set BYE=null
set BZE=null
set H88=null
return false
endfunction
function B3E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local real FAD=GetUnitX(EC8)
local real FBD=GetUnitY(EC8)
local real x
local real y
local unit BWE
local unit BXE
local unit BYE
local unit BZE
local real a=GetUnitFacing(EC8)
local unit H88=null
local integer BBE=GetHandleId(EC8)
local player pl=GetOwningPlayer(EC8)
call TE7(H88)
call UnitAddAbility(H88,YG4)
call SetUnitState(EC8,UNIT_STATE_LIFE,GetUnitState(EC8,UNIT_STATE_LIFE)-GetUnitState(EC8,UNIT_STATE_LIFE)*0.15)
call LM7(EC8,1093753394)
call UnitMakeAbilityPermanent(EC8,true,1093753394)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093753394,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093753176,false)
set x=GetUnitX(EC8)+200*Cos(bj_DEGTORAD*360*4/4.0*-1.0)
set y=GetUnitY(EC8)+200*Sin(bj_DEGTORAD*360*4/4.0*-1.0)
set BWE=CreateUnit(GetOwningPlayer(EC8),1747993429,x,y,360*4/4.0*-1.0)
set x=GetUnitX(EC8)+200*Cos(bj_DEGTORAD*360*3/4.0*-1.0)
set y=GetUnitY(EC8)+200*Sin(bj_DEGTORAD*360*3/4.0*-1.0)
set BXE=CreateUnit(GetOwningPlayer(EC8),1747993429,x,y,360*3/4.0*-1.0)
set x=GetUnitX(EC8)+200*Cos(bj_DEGTORAD*360*2/4.0*-1.0)
set y=GetUnitY(EC8)+200*Sin(bj_DEGTORAD*360*2/4.0*-1.0)
set BYE=CreateUnit(GetOwningPlayer(EC8),1747993429,x,y,360*2/4.0*-1.0)
set x=GetUnitX(EC8)+200*Cos(bj_DEGTORAD*360*1/4.0*-1.0)
set y=GetUnitY(EC8)+200*Sin(bj_DEGTORAD*360*1/4.0*-1.0)
set BZE=CreateUnit(GetOwningPlayer(EC8),1747993429,x,y,360*1/4.0*-1.0)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function BVE))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(393),(BWE))
call SaveUnitHandle(L7,(OC7),(394),(BXE))
call SaveUnitHandle(L7,(OC7),(395),(BYE))
call SaveUnitHandle(L7,(OC7),(396),(BZE))
call SaveUnitHandle(L7,(OC7),(19),(H88))
if(Z17(pl))then
call TU7(BBE,"Bird4",BZE)
endif
set EC8=null
set BWE=null
set BXE=null
set BYE=null
set BZE=null
set H88=null
endfunction
function B6E takes nothing returns boolean
if GetSpellAbilityId()==1093753176 then
call B3E()
endif
return false
endfunction
function U98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function B6E))
set t=null
endfunction
function BLE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=GetUnitAbilityLevel(EC8,YH4)
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>4 then
call UnitRemoveAbility(O07,YJ4)
call UY7(O07,"IcarusDive|Disarmed")
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
call HD8(EC8,O07,ZG4,20*H98)
set t=null
set EC8=null
return false
endfunction
function B1E takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetEnumUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function BLE))
call TriggerRegisterDeathEvent(t,O07)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffectTarget(YI4,O07,"chest")))
call UnitAddAbility(O07,YJ4)
call UnitMakeAbilityPermanent(O07,true,YJ4)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),YJ4,false)
call UW7(O07,"IcarusDive|Disarmed")
set EC8=null
set O07=null
set t=null
endfunction
function B0E takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local group g=CX7()
call DestroyEffect(AddSpecialEffect(YI4,x,y))
call GroupEnumUnitsInRange(g,x,y,275+25,Condition(function F58))
call ForGroup(g,function B1E)
call CW7(g)
set g=null
set EC8=null
endfunction
function B5E takes nothing returns boolean
if GetSpellAbilityId()==YH4 then
call B0E()
endif
return false
endfunction
function U78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function B5E))
set t=null
endfunction
function B2E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit hn=U87(UC7,"Hero")
local unit H88=U87(UC7,"Caster")
call TN7(UC7)
call UA7(t)
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call KillUnit(H88)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl",hn,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl",hn,"origin"))
call UnitRemoveAbility(hn,1093687875)
call UnitRemoveAbility(hn,1110454358)
set t=null
set hn=null
set H88=null
return false
endfunction
function B_E takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit hn=U87(UC7,"Hero")
local unit H88=U87(UC7,"Caster")
call TN7(UC7)
call UA7(t)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl",hn,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl",hn,"origin"))
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,18-0.1,false)
call TriggerRegisterDeathEvent(t,hn)
call TriggerAddCondition(t,Condition(function B2E))
call TU7(UC7,"Hero",hn)
call TU7(UC7,"Caster",H88)
set t=null
set hn=null
set H88=null
return false
endfunction
function C4E takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit hn=GetTriggerUnit()
local unit C7E=CreateUnit(GetOwningPlayer(hn),1697657174,0,0,0)
local real C8E=18
call LM7(C7E,1093687875)
call UnitApplyTimedLife(C7E,1112820806,C8E)
call LZ7(hn,C8E,175)
call TriggerRegisterTimerEvent(t,0.1,false)
call TriggerAddCondition(t,Condition(function B_E))
call TU7(UC7,"Hero",hn)
call TU7(UC7,"Caster",C7E)
set t=null
set C7E=null
set hn=null
endfunction
function C9E takes nothing returns boolean
if GetSpellAbilityId()==1093679411 and GetUnitTypeId(GetTriggerUnit())==1429221432 then
call C4E()
endif
return false
endfunction
function T88 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function C9E))
set t=null
endfunction
function RL9 takes nothing returns nothing
local unit p5=B2
local unit m5=C2
local unit H88=U87(GetHandleId(p5),"FeralHeartCaster")
call TU7(GetHandleId(m5),"FeralHeartCaster",H88)
call SetUnitOwner(H88,GetOwningPlayer(m5),true)
set p5=null
set m5=null
set H88=null
endfunction
function LP8 takes nothing returns nothing
local unit CC7=IT4
local unit H88=U87(GetHandleId(CC7),"FeralHeartCaster")
if H88!=null and GetUnitTypeId(H88)==1697657174 then
call RemoveUnit(H88)
endif
set CC7=null
set H88=null
endfunction
function CDE takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if H88!=null and GetUnitTypeId(H88)==1697657174 then
if LO7(EC8)==false then
call SetUnitX(H88,GetUnitX(EC8))
call SetUnitY(H88,GetUnitY(EC8))
endif
endif
set t=null
set H88=null
set EC8=null
return false
endfunction
function CEE takes unit CC7,boolean A_9 returns nothing
local integer H98=GetUnitAbilityLevel(CC7,1093677893)
local unit H88
local trigger t
local integer OC7
if H98==1 or A_9 then
set H88=CreateUnit(GetOwningPlayer(CC7),1697657174,0,0,0)
call LM7(H88,1093687882)
call TU7(GetHandleId(CC7),"FeralHeartCaster",H88)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerAddCondition(t,Condition(function CDE))
call TriggerRegisterTimerEvent(t,0.2,true)
call SaveUnitHandle(L7,(OC7),(2),(CC7))
call SaveUnitHandle(L7,(OC7),(19),(H88))
else
set H88=U87(GetHandleId(CC7),"FeralHeartCaster")
endif
if H98==2 then
call UnitRemoveAbility(H88,1093687882)
call LM7(H88,1093687881)
elseif H98==3 then
call UnitRemoveAbility(H88,1093687882)
call UnitRemoveAbility(H88,1093687881)
call LM7(H88,1093687880)
elseif H98==4 then
call UnitRemoveAbility(H88,1093687882)
call UnitRemoveAbility(H88,1093687881)
call UnitRemoveAbility(H88,1093687880)
call LM7(H88,1093687879)
endif
set H88=null
endfunction
function CFE takes nothing returns boolean
if GetLearnedSkill()==1093677893 and IsUnitIllusion(GetTriggerUnit())==false then
call CEE(GetTriggerUnit(),false)
endif
return false
endfunction
function T98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function CFE))
set t=null
endfunction
function CGE takes nothing returns nothing
local unit hn=GetTriggerUnit()
local unit C7E
local integer i=1
local boolean CHE=ZC7(GetOwningPlayer(hn))
local player p
local integer CIE
local integer CJE
local integer CKE=GetUnitAbilityLevel(hn,1093687878)
if CKE==1 then
set CIE=1093742644
set CJE=1093742647
elseif CKE==2 then
set CIE=1093742641
set CJE=1093742646
elseif CKE==3 then
set CIE=1093742642
set CJE=1093742645
elseif CKE==4 then
set CIE=1093742643
set CJE=1093742648
endif
loop
exitwhen i>5
if CHE then
set p=Z7[i]
else
set p=A7[i]
endif
set C7E=CreateUnit(p,1697657174,0,0,0)
call LM7(C7E,CIE)
call LM7(C7E,CJE)
call UnitApplyTimedLife(C7E,1112820806,12)
set i=i+1
endloop
set hn=null
set C7E=null
set p=null
endfunction
function CME takes nothing returns boolean
if GetSpellAbilityId()==1093687878 then
call CGE()
endif
return false
endfunction
function TD8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CME))
set t=null
endfunction
function CNE takes nothing returns nothing
call DP9()
call DR9()
endfunction
function R99 takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local player pl=R27(S2I(SubString(VH,3,StringLength(VH))))
if((pl!=null)and(Z07(pl))and(IsPlayerInForce(pl,QX4)))then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r creepstats:   K: "+I2S(T7[GetPlayerId(pl)])+"   D: "+I2S(U7[GetPlayerId(pl)]))
endif
set pl=null
endfunction
function RD9 takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local player pl=R27(S2I(SubString(VH,3,StringLength(VH))))
if((pl!=null)and(Z07(pl))and(IsPlayerInForce(pl,QX4)))then
if(M7[GetPlayerId(pl)]==null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r has no Hero")
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r movespeed is "+I2S(R2I(GetUnitMoveSpeed(M7[GetPlayerId(pl)]))))
endif
endif
set pl=null
endfunction
function COE takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetTriggerPlayer()))and(not IsUnitIllusion(GetFilterUnit()))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not SE7(GetFilterUnit()))and(R57(GetFilterUnit())))
endfunction
function CPE takes unit j5,unit m5 returns boolean
if((GetUnitAbilityLevel(j5,1093678665)!=0)and(Bz>hq[16+GetPlayerId(GetOwningPlayer(j5))]))then
set EI7=200+(200*GetUnitAbilityLevel(j5,1093678665))
return((CL7(j5,m5,40/0.03,0,EI7)!=null)and(CB7(j5,m5,GetLocationX(GM7),GetLocationY(GM7),125,Condition(function GM8)))and(IssuePointOrderByIdLoc(j5,852600,GM7)))
endif
return false
endfunction
function CQE takes unit j5,unit m5 returns boolean
if((GetUnitAbilityLevel(j5,1093684280)!=0)and(Bz>hq[32+GetPlayerId(GetOwningPlayer(j5))]))then
return((CL7(j5,m5,30/0.035,0,3000.)!=null)and(CB7(j5,m5,GetLocationX(GM7),GetLocationY(GM7),140,Condition(function uj)))and(IssuePointOrderByIdLoc(j5,852662,GM7)))
endif
return false
endfunction
function CRE takes unit it,unit m5,boolean CSE returns boolean
local integer i1=GetUnitTypeId(it)
local boolean J4=false
local integer O5=GetPlayerId(GetOwningPlayer(it))
if not(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)then
return false
endif
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
endif
if(i1==1211117653)then
set J4=(((GetUnitState(it,UNIT_STATE_MANA))>290)and(AD7(it,1093686861)or(Bz>TC4[O5]))and(AO7(it,LP4,LQ4,LR4,1093686861)and IssuePointOrderById(it,852215,GetUnitX(m5),GetUnitY(m5))))or(((GetUnitState(it,UNIT_STATE_MANA))>350)and(AD7(it,1093686859)or(Bz>TC4[O5]))and(Bz>TC4[96+O5])and AO7(it,LQ4,LQ4,LP4,1093686859)and IssuePointOrderById(it,852491,GetUnitX(m5),GetUnitY(m5)))
elseif(i1==1160786505)then
set J4=(IssueTargetOrderById(it,852185,m5))
elseif(i1==1429221424)then
set J4=S27(it,852555,1093687351,m5)
elseif(i1==1432646245)then
set J4=((i2(m5))or(CSE))and(S27(it,852095,1093677640,m5))
elseif(i1==1430468913)then
set J4=(IsUnitInRange(it,m5,200.))and(TD7(it,852127,1093810507))
elseif(i1==1430467634)then
set J4=((i2(m5))or(CSE))and(S27(it,852231,1093679412,m5))
elseif(i1==1313026096)then
set J4=S27(it,852095,1095267426,m5)
elseif(i1==1211117617)then
set J4=S27(it,OrderId("acidbomb"),1093744944,m5)
elseif(i1==1430466872)then
set J4=(S27(it,852555,1093687349,m5))or((not CSE)and(S27(it,852502,1093684558,m5)))
elseif(i1==1164666213)then
set J4=S27(it,852224,1093678679,m5)
elseif(i1==1430466865)then
set J4=(IsUnitInRange(it,m5,300.))and(TD7(it,852127,1093810508))
elseif(i1==1429221441)then
set J4=S27(it,852231,1093678389,m5)
elseif(i1==1332766568)then
set J4=(not CSE)and(i2(m5))and(IsUnitInRange(it,m5,500.))and(IssueImmediateOrderById(it,852600))
elseif(i1==1429221451)then
set J4=IssueTargetOrderById(it,852218,m5)
elseif(i1==1429221446)then
set J4=((IsUnitInRange(it,m5,300.))and(T47(it,852480,1093682764,1093747544,m5)))or(((i2(m5))or(CSE))and(CPE(it,m5)))
elseif(i1==1429221445)then
set J4=(GetUnitLifePercent(m5)<60.)and(T47(it,852095,1093678647,1093679184,m5))
elseif(i1==1160786241)then
set J4=S27(it,852218,1093684813,m5)
elseif(i1==1429221456)then
set J4=(i2(m5))and(S27(it,852119,1093685066,m5))
elseif(i1==1430468406)then
set J4=(not CSE)and(i2(m5))and(S27(it,852592,kS(it),m5))
elseif(i1==1311780946)then
set J4=S27(it,852488,1093685825,m5)
elseif(i1==1211117646)then
set J4=(i2(m5))and(S27(it,852238,1093685573,m5))
elseif(i1==1160785973)then
set J4=((i2(m5))or(CSE))and(S27(it,852231,1093678130,m5))
elseif(i1==1332963428)then
set J4=((not CSE)and(S27(it,852227,1093678169,m5)))or((GetUnitState(it,UNIT_STATE_MANA)>hq[272+GetPlayerId(GetOwningPlayer(it))])and(S27(it,852480,1093677649,m5)))
elseif(i1==1332109682)then
set J4=(IsUnitInRange(it,m5,500.))and(TD7(it,852588,1093810505))
elseif(i1==1315988077)then
set J4=(IsUnitInRange(it,m5,200.))and(TD7(it,852096,1093678669))
elseif(i1==1211117616)then
set J4=((IsUnitInRange(it,m5,200.))and(TD7(it,852127,1093677139)))or((i2(m5))and(S27(it,852231,1093677132,m5)))
elseif(i1==1315074670)then
set J4=(not CSE)and(i2(m5))and(S27(it,852592,1093685570,m5))
elseif(i1==1215063922)then
set J4=(IsUnitInRange(it,m5,300.))and(S27(it,852095,1093681490,m5))
elseif(i1==1315007329)then
set J4=((i2(m5))or(CSE))and(S27(it,852095,1093677108,m5))
elseif(i1==1332898670)then
set J4=(S27(it,852502,1093685848,m5))or((IsUnitInRange(it,m5,400)or DX9(m5))and(S27(it,852480,1093677136,m5)))
elseif(i1==1215128178)then
set J4=(i2(m5))and(S27(it,852095,1093683779,m5))
elseif(i1==1215723364)then
set J4=S27(it,852095,1093677633,m5)
elseif(i1==1433105516)then
set J4=IssueTargetOrderById(it,852662,m5)
elseif(i1==1212363833)then
set J4=(not CSE)and(((i2(m5))and(IssueImmediateOrderById(it,852600)))or(S27(it,852095,1093809220,m5)))
elseif(i1==1214931305)then
set J4=S27(it,852171,1093678147,m5)
elseif(i1==1311787088)then
set J4=S27(it,OrderId("channel"),1093750087,m5)
elseif(i1==1212365106)then
set J4=(i2(m5))and(S27(it,852089,1093685831,m5))
elseif(i1==1211117620)then
set J4=S_7(it,852232,1093677623,C07(it,m5,.95,600.))
elseif(i1==1333027688)then
set J4=S27(it,OrderId("channel"),1093686091,m5)
elseif(i1==1332179560)then
set J4=((i2(m5))or(CSE))and(S27(it,OrderId("acidbomb"),1093742660,m5))
elseif(i1==1432580716)or(i1==1429221720)then
set J4=S27(it,852089,1093684300,m5)
elseif(i1==1215130471)then
set J4=S27(it,852095,WK7(it),m5)or(UP7(GetHandleId(it),"AI|Magi2Blast")and S27(it,852600,1093815121,m5))
elseif(i1==1160786000)then
set J4=S_7(it,852580,1093685046,CL7(it,m5,2000.,0.65,1100.))
elseif(i1==1311781206)then
set J4=CQE(it,m5)
elseif(i1==1311780930)then
set J4=(i2(m5))and((IsUnitInRange(it,m5,350.))and(IssueImmediateOrderById(it,852600)))
elseif(i1==1211119187)then
set J4=S27(it,OrderId("blizzard"),1093743414,m5)
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
set J4=(UU7(it,"AlcheBrew"))and(IssueTargetOrderById(it,852600,m5))
elseif(i1==1211117651)then
set J4=(S27(it,852119,1093743698,m5))
elseif(i1==1311786311)then
set J4=(not R57(m5))and(S27(it,852119,1093743178,m5))
elseif(i1==1328558390)then
set J4=(S27(it,852119,1093744975,m5))or(S27(it,852218,1093744982,m5))
elseif(i1==1160786504)then
set J4=S27(it,852119,1093751608,m5)
elseif(i1==1160786520)then
set J4=S27(it,852214,1093809990,m5)
elseif(i1==1160786507)then
set J4=(not CSE)and(IssueTargetOrderById(it,852095,m5))
endif
if(not J4)then
if(not J4)and(SR7(it,ZU[Q1]))then
set J4=(not CSE)and((i2(m5))or(SE7(it)))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and(SR7(it,ZU[D74]))then
set J4=(not CSE)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and(SR7(it,ZU[U3]))then
set J4=(not CSE)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and(SR7(it,ZU[DR4])and(DV9(m5)==false)and(A27(m5)==false))then
set J4=(not CSE)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and(SR7(it,ZU[DP4]))then
set J4=(not CSE)and(UnitUseItem(it,bj_lastCreatedItem))
endif
endif
if(i1==1160786520)and(not J4)and(hq[816+O5]>Bz)then
set G0[288+O5]=true
set J4=CRE(it,m5,CSE)
endif
return J4
endfunction
function CTE takes unit it,boolean CUE returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
set GZ[512+O5]=CUE
if(Q04[64+O5]!=null)then
call TriggerExecute(Q04[64+O5])
endif
endfunction
function CVE takes nothing returns boolean
return((GetFilterUnit()!=bj_lastLoadedUnit)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(S87(GetFilterUnit()))and(not SE7(GetFilterUnit())))or((GetWidgetLife(GetFilterUnit())>0)and(WE7(GetFilterUnit())))))
endfunction
function CWE takes integer O5,unit m5,boolean CXE,boolean CYE returns nothing
local unit PF7=null
local integer U_7=0
local boolean J4=false
if not(G0[128+O5]or GZ[208+O5]or CXE)then
if(h4[O5]==null)then
call CTE(M7[O5],false)
endif
return
elseif h4[O5]==m5 and(Bz<hq[928+O5])then
return
endif
set h4[O5]=m5
set hq[928+O5]=Bz+1
call GroupClear(H8)
set bj_lastLoadedUnit=M7[O5]
if CYE then
call GroupEnumUnitsInRange(H8,GetUnitX(m5),GetUnitY(m5),2400,Condition(function CVE))
else
call GroupEnumUnitsInRange(H8,GetUnitX(m5),GetUnitY(m5),1200,Condition(function CVE))
endif
set J4=(QY4[O5]and CRE(M7[O5],m5,false))
loop
set PF7=FirstOfGroup(H8)
exitwhen PF7==null
call GroupRemoveUnit(H8,PF7)
set U_7=GetPlayerId(GetOwningPlayer(PF7))
if U_7!=0 and U_7!=6 and U_7<12 and(h4[U_7]==null or S87(h4[U_7])==false)and QY4[O5]then
if(IsUnitType(PF7,UNIT_TYPE_HERO))then
if(not GZ[160+O5])then
set h4[U_7]=m5
set hq[928+U_7]=Bz+1
if is(PF7)then
call IssueTargetOrderById(PF7,851983,m5)
set J4=(J4 or(CRE(PF7,m5,false)))
endif
endif
elseif is(PF7)then
call IssueTargetOrderById(PF7,851983,m5)
else
endif
endif
endloop
if(is(M7[O5]))then
call IssueTargetOrderById(M7[O5],851983,m5)
endif
set PF7=null
endfunction
function CZE takes integer O5,boolean CAE returns boolean
local integer i=0
local integer j=0
set h4[O5]=null
set hq[928+O5]=0
set hq[480+O5]=0
if CAE and(G0[144+O5])and(not SE7(M7[O5]))then
set i=1
set j=-1
set EI7=999999
loop
exitwhen i>11
if IsPlayerAlly(Player(i),Player(O5))and h4[i]!=null and IsUnitInRange(M7[O5],h4[i],1100.)then
set EJ7=GetWidgetLife(h4[i])
if j==-1 or EJ7<EI7 then
set j=i
set EI7=EJ7
endif
endif
endloop
if(j==-1)then
set bj_lastLoadedUnit=M7[O5]
set bj_lastReplacedUnit=Y27(800.,M7[O5])
if(bj_lastReplacedUnit!=null)then
set h4[O5]=bj_lastReplacedUnit
endif
else
set h4[O5]=h4[j]
endif
endif
if h4[O5]!=null then
call CWE(O5,h4[O5],false,false)
endif
return false
endfunction
function CBE takes nothing returns nothing
local unit it=GetEnumUnit()
local unit m5=M7[GetPlayerId(GetTriggerPlayer())]
local integer i1=GetUnitTypeId(it)
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
local boolean J4
set GZ[64+O5]=true
if(i1==1430466609)then
set J4=(IsUnitInRange(it,m5,300.))and(TD7(it,852526,1093678145))
elseif(i1==1430467634)then
set J4=(SP7(500.,m5,Condition(function k8))>0)and(TD7(it,OrderId("fanofknives"),1093750608))
elseif(i1==1211117653)then
set J4=(IsUnitInRange(it,m5,650.))and AO7(it,LQ4,LQ4,LR4,1093686865)and S27(it,852490,1093686865,m5)
elseif(i1==1160786505)then
set J4=(IsUnitInRange(it,m5,560.))and(IssueImmediateOrderById(it,852594))
elseif(i1==1164666213)then
set J4=(IsUnitInRange(it,m5,500.))and(SP7(500.,m5,Condition(function k8))>0)and(TD7(it,852594,1093677877))
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
set J4=((GetUnitLifePercent(it)-30.)>GetUnitLifePercent(m5))and(S27(it,852189,1093678929,m5))
elseif(i1==1433168227)then
set J4=S27(it,852225,1093679186,m5)
elseif(i1==1430466865)then
set J4=S27(it,852066,1093677879,m5)
elseif(i1==1429221432)then
set J4=(IsUnitInRange(it,m5,500.))and(TD7(it,OrderId("channel"),1093687878))
elseif(i1==1432642913)then
set J4=(IssueTargetOrderById(it,852119,m5))or(IssueTargetOrderById(it,852662,m5))
elseif(i1==1332766568)then
set J4=(IsUnitInRange(it,m5,400.))and(SP7(400.,m5,Condition(function k8))>0)and(IssueImmediateOrderById(it,852096))
elseif(i1==1429221445)then
set J4=(IsUnitInRange(it,m5,500.))and(TD7(it,852526,1093678422))
elseif(i1==1211117617)then
set J4=(IsUnitInRange(it,m5,430.))and(TD7(it,852526,1093814611))
elseif(i1==1311787088)then
set J4=(IsUnitInRange(it,m5,760.))and(S27(it,OrderId("berserk"),1093748817,m5))
elseif(i1==1211117640)then
set J4=(IsUnitInRange(it,m5,400.))and(SP7(400.,m5,Condition(function k8))>0)and(IssuePointOrderById(it,852089,GetUnitX(m5),GetUnitY(m5)))
elseif(i1==1160786241)then
if((GetUnitManaPercent(it)>50.)and(IsUnitInRange(it,m5,300.)))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093684805,true)
set J4=(GetUnitAbilityLevel(it,1110455882)==0)and(IssueImmediateOrderById(it,852177))
endif
elseif(i1==1160786243)then
set J4=IssueTargetOrderById(it,852248,m5)
elseif(i1==1311781207)then
set J4=((GetUnitLifePercent(it)<40.)and(IssueTargetOrderById(it,852536,m5)))or(IssueTargetOrderById(it,852229,m5))
elseif((i1==1211117650)or(i1==1211119433))then
set IN4=it
set J4=(SP7(1000.,it,Condition(function ny))>2)and(IssueTargetOrderById(it,852699,m5))
elseif(i1==1211117646)then
set J4=(S27(it,852101,1093685815,m5))or((SP7(350.,m5,Condition(function k8))>0)and(IssueTargetOrderById(it,852095,m5)))
elseif(i1==1211117624)then
set J4=(IsUnitInRange(it,m5,500.))and(SP7(500.,m5,Condition(function k8))>0)and(TD7(it,852526,1093683024))
elseif(i1==1433631084)then
set J4=(SP7(500.,m5,Condition(function k8))>0)and(S27(it,852089,1093678644,m5))
elseif(i1==1214345830)then
set J4=S27(it,852225,1093679182,m5)
elseif(i1==1215723364)then
set J4=(IsUnitInRange(it,m5,500.))and(SP7(500.,m5,Condition(function k8))>0)and(S27(it,OrderId("volcano"),1093744463,m5))
elseif(i1==1164799855)then
set J4=(IsUnitInRange(it,m5,500.))and(TD7(it,852556,1093677378))
elseif(i1==1433105516)then
set J4=(SP7(500.,m5,Condition(function k8))>0)and(IssueTargetOrderById(it,852600,m5))
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
set J4=S27(it,OrderId("acolyteharvest"),1093742898,m5)
elseif(i1==1212363833)then
set J4=(IsUnitInRange(it,m5,500.))and(SP7(500.,m5,Condition(function k8))>0)and(TD7(it,852123,1093678643))
elseif(i1==1212365106)then
set J4=(SP7(500.,m5,Condition(function k8))>0)and(S27(it,852089,1093685831,m5))
elseif(i1==1211117633)then
set J4=(GetUnitLifePercent(m5)<50.)and(IssueImmediateOrderById(it,852600))
elseif(i1==1211117620)then
set J4=(SP7(150.,m5,Condition(function k6))>0)and(S_7(it,852232,1093677623,C07(it,m5,.95,600.)))
elseif(i1==1432580716)or(i1==1429221720)then
set J4=(SP7(400.,m5,Condition(function k8))>0)and(S27(it,852089,1093684300,m5))
elseif(i1==1214344551)then
set J4=((K6(m5))and(IssueTargetOrderById(it,852069,m5)))
if not J4 then
set J4=IssueTargetOrderById(it,852248,m5)
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
set J4=(SP7(400.,m5,Condition(function k8))>0)and(S27(it,852089,1093683532,m5))
elseif(i1==1211117649)then
set J4=(GetUnitLifePercent(m5)<95.)and(IssueTargetOrderById(it,852095,m5))
endif
if(not J4)then
if(SR7(it,ZU[T1]))then
set J4=(IsUnitInRange(it,m5,300.))and(UnitUseItem(it,SV7(it,ZU[T1])))
elseif(SR7(it,ZU[F74]))then
set J4=(IsUnitInRange(it,m5,590.))and(UnitUseItem(it,SV7(it,ZU[F74])))
elseif(SR7(it,ZU[DD4]))then
set J4=(IsUnitInRange(it,m5,590.))and(UnitUseItem(it,SV7(it,ZU[DD4])))
elseif(SR7(it,ZU[B3]))then
set J4=(IsUnitInRange(it,m5,500.))and(UnitUseItem(it,SV7(it,ZU[B3])))
endif
endif
if((not J4)and(GetHeroLevel(it)>5))then
set m5=SN7(800.,S07(m5),Condition(function k6))
if(m5!=null)then
if(i1==1160786506)and(IsUnitInRange(it,m5,895.))then
if(DA8(it,m5))or(not IsUnitInRange(m5,it,800))then
call C07(it,m5,1.2,900)
else
call MoveLocation(GM7,GetUnitX(m5),GetUnitY(m5))
endif
set J4=(Q_7(O5)and(J8(O5,IssuePointOrderByIdLoc(it,852089,GM7))))
endif
if(not J4)then
call IssueTargetOrderById(it,851983,m5)
endif
if(h4[O5]==null)then
call CWE(O5,m5,false,false)
endif
endif
endif
set GZ[64+GetPlayerId(GetOwningPlayer(it))]=false
set m5=null
set it=null
endfunction
function RE9 takes nothing returns nothing
if((M7[GetPlayerId(GetTriggerPlayer())]!=null)and(S87(M7[GetPlayerId(GetTriggerPlayer())])))then
call ju(OG7(1100.,S07(M7[GetPlayerId(GetTriggerPlayer())]),Condition(function COE)),function CBE)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,8.,"AI Allies nearby will assist you")
set hq[464+GetPlayerId(GetTriggerPlayer())]=Bz+5.
endif
endfunction
function CCE takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function C3E takes nothing returns nothing
if(GetWidgetLife(GetEnumUnit())>.405)then
call SetWidgetLife(GetEnumUnit(),GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+8.)
else
call GroupRemoveUnit(ij,GetEnumUnit())
endif
endfunction
function C6E takes nothing returns nothing
call ForGroup(ij,function C3E)
call SetWidgetLife(JF4,GetUnitState(JF4,UNIT_STATE_LIFE)+12.)
call SetWidgetLife(J34,GetUnitState(J34,UNIT_STATE_LIFE)+12.)
endfunction
function U19 takes nothing returns nothing
local trigger t=CreateTrigger()
local boolexpr Ig=Condition(function CCE)
set ij=CX7()
call GroupEnumUnitsInRect(ij,bj_mapInitialPlayableArea,Ig)
call TriggerRegisterTimerEventPeriodic(t,1.)
call TriggerAddAction(t,function C6E)
set ZT=true
call DestroyBoolExpr(Ig)
set Ig=null
endfunction
function U09 takes nothing returns nothing
set AT=true
call EnableTrigger(QC4)
endfunction
function U59 takes nothing returns nothing
set E97=true
set DC7=0.50
set D37=0.10
set D67=0.05
set DL7=10.
set D17=5
set D07=0.2
set D57=0.1
set D27=100
set E77=60
set E87=60
set D_7=0.1
set E47=1
endfunction
function CLE takes nothing returns boolean
return GetDyingUnit()==M7[GetPlayerId(GetTriggerPlayer())]
endfunction
function C1E takes nothing returns nothing
local integer O5=1
local integer i
local integer a
loop
exitwhen O5>11
if Z17(Player(O5))then
set a=IU[O5]-Z84[64+O5]
if a>0 then
set i=1
loop
exitwhen i>a
set Z84[96+O5]=R2I(Bz+E87)
if EU then
call SetPlayerHandicapXPBJ(Player(O5),Z84[16+O5]+(GetPlayerHandicapXPBJ(Player(O5))-Z84[16+O5])*(1-D67))
endif
if FU then
set Z84[48+O5]=Z84[32+O5]+R2I((Z84[48+O5]-Z84[32+O5])*(1-D57))
endif
set i=i+1
endloop
set Z84[64+O5]=IU[O5]
endif
endif
set O5=O5+1
endloop
endfunction
function C0E takes nothing returns nothing
local player p=GetOwningPlayer(GetDyingUnit())
local player pl=GetOwningPlayer(GetKillingUnit())
if IsUnitInForce(GetDyingUnit(),QX4)and GetDyingUnit()!=GetKillingUnit()then
set Z84[96+GetPlayerId(p)]=R2I(Bz+E87)
if EU then
if GetPlayerHandicapXP(p)*100<Z84[16+GetPlayerId(p)]then
call SetPlayerHandicapXP(p,Z84[16+GetPlayerId(p)]*0.01)
else
call SetPlayerHandicapXP(p,GetPlayerHandicapXP(p)+DC7)
if GetPlayerHandicapXP(p)*100>(Z84[16+GetPlayerId(p)]+DL7*100)then
call SetPlayerHandicapXP(p,(Z84[16+GetPlayerId(p)])*0.01+DL7)
endif
endif
endif
if FU then
if Z84[48+GetPlayerId(p)]<Z84[32+GetPlayerId(p)]then
set Z84[48+GetPlayerId(p)]=Z84[32+GetPlayerId(p)]
else
set Z84[48+GetPlayerId(p)]=Z84[48+GetPlayerId(p)]+D17
if Z84[48+GetPlayerId(p)]>D27 then
set Z84[48+GetPlayerId(p)]=D27
endif
endif
endif
endif
if GetKillingUnit()!=null and IsUnitInForce(GetKillingUnit(),QX4)and GetDyingUnit()!=GetKillingUnit()then
set Z84[96+GetPlayerId(pl)]=R2I(Bz+E87)
if EU then
call SetPlayerHandicapXPBJ(pl,Z84[16+GetPlayerId(pl)]+(GetPlayerHandicapXPBJ(pl)-Z84[16+GetPlayerId(pl)])*(1-D37))
endif
if FU then
set Z84[48+GetPlayerId(pl)]=Z84[32+GetPlayerId(pl)]+R2I((Z84[48+GetPlayerId(pl)]-Z84[32+GetPlayerId(pl)])*(1-D07))
endif
endif
call TimerStart(DY7,0.5,false,function C1E)
set p=null
set pl=null
endfunction
function C5E takes nothing returns nothing
local integer O5=1
local player p
if Bz<E77+E87+QD4 then
return
endif
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if IsPlayerInForce(Player(O5),QX4)then
if(Bz>Z84[96+O5])then
set p=Player(O5)
if EU then
if GetPlayerHandicapXP(p)*100<Z84[16+GetPlayerId(p)]then
call SetPlayerHandicapXP(p,Z84[16+GetPlayerId(p)]*0.01)
else
call SetPlayerHandicapXP(p,GetPlayerHandicapXP(p)+D_7)
if GetPlayerHandicapXP(p)*100>(Z84[16+GetPlayerId(p)]+DL7*100)then
call SetPlayerHandicapXP(p,(Z84[16+GetPlayerId(p)])/100+DL7)
endif
endif
endif
if FU then
if Z84[48+GetPlayerId(p)]<Z84[32+GetPlayerId(p)]then
set Z84[48+GetPlayerId(p)]=Z84[32+GetPlayerId(p)]
else
set Z84[48+GetPlayerId(p)]=Z84[48+GetPlayerId(p)]+E47
if Z84[48+GetPlayerId(p)]>D27 then
set Z84[48+GetPlayerId(p)]=D27
endif
endif
endif
set Z84[96+O5]=R2I(Bz+E87)
endif
endif
set O5=O5+1
endloop
endfunction
function C2E takes nothing returns nothing
local integer i
local integer m
local integer n
local trigger t=null
set DX7=CreateTrigger()
call ky(DX7,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(DX7,Condition(function CLE))
call TriggerAddAction(DX7,function C0E)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddAction(t,function C5E)
set t=null
set DY7=CreateTimer()
endfunction
function U29 takes nothing returns nothing
if DX7==null then
call C2E()
endif
set EU=true
endfunction
function U_9 takes nothing returns nothing
if DX7==null then
call C2E()
endif
set FU=true
endfunction
function C_E takes integer L4E,integer L7E,integer L8E,integer L9E,integer LDE,integer LEE,integer LFE,integer LGE,integer LHE,integer LIE,integer LJE,integer LKE,integer LME,integer LNE,integer LOE,integer LPE,integer LQE returns nothing
call SaveInteger(ED7,L4E,0,L7E)
call SaveInteger(ED7,L4E,1,L8E)
call SaveInteger(ED7,L4E,2,L9E)
call SaveInteger(ED7,L4E,3,LDE)
call SaveInteger(ED7,L4E,4,LEE)
call SaveInteger(ED7,L4E,5,LFE)
call SaveInteger(ED7,L4E,6,LGE)
call SaveInteger(ED7,L4E,7,LHE)
call SaveInteger(ED7,L4E,8,LIE)
call SaveInteger(ED7,L4E,9,LJE)
call SaveInteger(ED7,L4E,10,LKE)
call SaveInteger(ED7,L4E,11,LME)
call SaveInteger(ED7,L4E,12,LNE)
call SaveInteger(ED7,L4E,13,LOE)
call SaveInteger(ED7,L4E,14,LPE)
call SaveInteger(ED7,L4E,15,LQE)
if(bj_forLoopBIndex<=2)then
set eY[336+16*bj_forLoopBIndex+bj_forLoopAIndex]=L4E
endif
set bj_forLoopBIndex=bj_forLoopBIndex+1
endfunction
function LRE takes unit PF7,integer L4E,integer LSE returns integer
set bj_forLoopBIndex=GetUnitAbilityLevel(PF7,L4E)
if bj_forLoopBIndex==0 then
return 0
endif
return LoadInteger(ED7,L4E,LSE+bj_forLoopBIndex-1)
endfunction
function LTE takes integer LUE returns nothing
set bj_forLoopBIndex=0
if LUE==1215723364 then
call C_E(1093677633,10,10,10,10,110,120,130,140,500,500,500,500,0,0,0,0)
call C_E(1093744463,15,15,15,15,40,40,40,40,1700,1700,1700,1700,0,0,0,0)
call C_E(1094934883,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call C_E(1093683534,45,45,45,11,100,150,200,110,600,900,1200,600,125,125,125,125)
call C_E(1093747031,10,10,10,11,100,150,200,110,600,900,1200,600,125,125,125,125)
elseif LUE==1215128178 then
call C_E(1093677616,2,2,2,2,65,70,75,80,700,700,700,700,500,500,500,500)
call C_E(1093683779,6,6,6,6,75,95,115,135,700,700,700,700,0,0,0,0)
call C_E(1093684789,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093810503,90,90,90,0,225,325,450,0,0,0,0,0,0,0,0,0)
call C_E(1093810504,90,90,90,0,225,325,450,0,0,0,0,0,0,0,0,0)
elseif LUE==1164799855 then
call C_E(1093682263,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093682264,30,25,20,15,65,65,65,65,700,700,700,700,0,0,0,0)
call C_E(1093677378,45,45,45,45,125,140,155,170,0,0,0,0,300,300,300,300)
call C_E(1093682265,0,0,0,0,55,60,65,0,550,550,550,0,0,0,0,0)
call C_E(1093752642,0,0,0,0,55,60,65,0,715,715,715,0,0,0,0,0)
elseif LUE==1328558160 then
call C_E(1093682766,11,11,11,11,140,155,160,165,1000,1000,1000,1000,0,0,0,0)
call C_E(1093682998,10,10,10,10,100,100,100,100,600,700,800,900,0,0,0,0)
call C_E(1093684056,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093683000,80,80,80,0,25,25,25,0,700,1100,1500,0,200,200,200,0)
elseif LUE==1214931305 then
call C_E(1093748025,15,15,15,15,100,120,140,160,700,700,700,700,400,400,400,400)
call C_E(1093678147,10,10,10,10,115,125,140,150,500,500,500,500,0,0,0,0)
call C_E(1095262562,0,0,0,0,0,0,0,0,0,0,0,0,99999,99999,99999,99999)
call C_E(1093677906,150,120,90,0,200,400,600,0,500,500,500,500,0,0,0,0)
call C_E(1093681494,150,120,90,0,200,400,600,0,500,500,500,500,0,0,0,0)
elseif LUE==1211117617 then
call C_E(1093744944,15,15,15,15,140,140,140,140,600,600,600,600,255,255,255,255)
call C_E(1093677387,0,0,0,0,0,0,0,0,0,0,0,0,200,200,200,200)
call C_E(1093814611,36,30,24,18,25,25,25,25,0,0,0,0,0,0,0,0)
call C_E(1093752648,80,80,80,30,100,150,200,25,0,0,0,0,0,0,0,0)
elseif LUE==1212363833 then
call C_E(1093678643,40,40,40,40,70,80,90,100,128,128,128,128,1000,1000,1000,1000)
call C_E(1093809220,14,14,14,14,75,85,95,115,650,650,650,650,0,0,0,0)
call C_E(1093815125,19,16,13,10,80,90,100,110,0,0,0,0,0,0,0,0)
call C_E(1093678933,180,120,60,0,100,100,100,0,500,500,500,500,0,0,0,0)
elseif LUE==1333027688 then
call C_E(1093686091,15,15,15,15,125,140,155,170,1200,1200,1200,1200,0,0,0,0)
call C_E(1093682252,5,5,5,5,50,50,50,50,0,0,0,0,0,0,0,0)
call C_E(1093682250,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093682248,150,130,110,9,145,205,265,100,0,0,0,0,500,500,500,475)
call C_E(1093750594,150,130,110,9,145,205,265,100,0,0,0,0,500,500,500,475)
elseif LUE==1212365106 then
call C_E(1093685831,13,13,13,13,75,80,85,90,425,425,425,425,250,275,300,325)
call C_E(1093684025,20,15,10,5,50,50,50,50,700,700,700,700,0,0,0,0)
call C_E(1093682266,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093677130,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LUE==1311781199 then
call C_E(1093681461,180,160,140,120,75,75,75,75,0,0,0,0,200,200,200,200)
call C_E(1093748038,30,30,30,30,50,50,50,50,0,0,0,0,400,450,475,500)
call C_E(1093681464,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093681479,0,0,0,0,25,25,25,0,0,0,0,0,0,0,0,0)
elseif LUE==1211117620 then
call C_E(1093677382,9,9,9,9,90,105,125,140,800,800,800,800,275,275,275,275)
call C_E(1093677623,7,7,7,7,90,100,110,125,600,600,600,600,225,225,225,225)
call C_E(1093744728,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093677392,70,60,50,9,280,420,680,120,600,600,600,700,0,0,0,500)
call C_E(1093679450,70,60,50,9,280,420,640,120,900,900,900,700,0,0,0,500)
elseif LUE==1315070563 then
call C_E(1093678407,30,28,26,24,110,110,110,110,0,0,0,0,250,250,250,250)
call C_E(1093678135,60,60,60,60,80,100,120,140,350,350,350,350,0,0,0,0)
call C_E(1093677131,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093684529,130,120,110,9,200,275,350,75,450,450,450,600,0,0,0,0)
call C_E(1093747032,110,100,90,9,200,275,350,75,450,450,450,600,0,0,0,0)
elseif LUE==1311781185 then
call C_E(1093743692,20,18,16,14,75,95,115,135,800,800,800,800,350,350,350,350)
call C_E(1093684314,0,0,0,0,15,15,15,15,600,600,600,600,0,0,0,0)
call C_E(1093815892,36,28,20,12,115,115,115,115,900,900,900,900,0,0,0,0)
call C_E(1093684275,140,140,140,0,250,350,450,0,500,500,500,500,0,0,0,0)
elseif LUE==1214344551 then
call C_E(1093677402,10,8,6,4,90,80,70,60,300,300,300,300,0,0,0,0)
call C_E(1093809742,16,14,12,10,140,140,140,140,350,350,350,350,0,0,0,0)
call C_E(1093815628,15,15,15,15,25,25,25,25,99999,99999,99999,99999,0,0,0,0)
call C_E(1093678938,70,70,70,0,150,175,200,0,500,500,500,500,0,0,0,0)
elseif LUE==1433105516 then
call C_E(1093683511,15,15,15,15,110,130,150,160,600,600,600,600,0,0,0,0)
call C_E(1093744688,35,35,35,35,170,170,170,170,700,700,700,700,0,0,0,0)
call C_E(1093681713,25,25,25,25,95,110,125,140,700,700,700,700,400,400,400,400)
call C_E(1093747288,200,190,180,0,250,350,450,0,250,250,250,500,375,375,375,0)
elseif LUE==1214409837 then
call C_E(1093679157,10,10,10,10,150,150,150,150,2000,2000,2000,2000,0,0,0,0)
call C_E(1093742680,16,16,16,16,75,75,75,75,550,700,850,1000,0,0,0,0)
call C_E(1093742898,19,18,17,16,25,45,65,85,900,900,900,900,0,0,0,0)
call C_E(1093742932,80,70,60,120,100,100,100,150,0,0,0,0,0,0,0,0)
elseif LUE==1215657064 then
call C_E(1093677913,6,6,6,6,75,75,75,75,0,0,0,0,385,385,385,385)
call C_E(1093750841,10,10,10,10,45,55,65,75,0,0,0,0,0,0,0,0)
call C_E(1095657827,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093684291,25,25,25,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LUE==1215130471 then
call C_E(1093678167,12,12,12,12,75,85,95,105,600,600,600,600,0,0,0,0)
call C_E(1093677361,15,15,15,15,95,105,115,125,700,700,700,700,0,0,0,0)
call C_E(1093679155,20,20,20,20,75,75,75,75,600,600,600,600,0,0,0,0)
call C_E(1093679160,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093815121,20,15,15,0,400,140,155,0,600,1200,1200,500,0,0,0,0)
call C_E(1093679172,6,6,6,6,185,195,205,215,600,600,600,600,0,0,0,0)
call C_E(1093679169,8,8,8,8,145,155,165,175,600,600,600,600,0,0,0,0)
call C_E(1093679161,10,10,10,10,105,115,125,135,600,600,600,600,0,0,0,0)
call C_E(1093677126,15,15,15,15,95,105,115,125,700,700,700,700,450,450,450,450)
call C_E(1093677396,15,15,15,15,95,105,115,125,700,700,700,700,300,300,300,300)
call C_E(1093677111,15,15,15,15,95,105,115,125,700,700,700,700,150,150,150,150)
call C_E(1093679177,5,5,5,5,75,75,75,75,600,600,600,600,0,0,0,0)
call C_E(1093679175,10,10,10,10,75,75,75,75,600,600,600,600,0,0,0,0)
call C_E(1093679174,15,15,15,15,75,75,75,75,600,600,600,600,0,0,0,0)
elseif LUE==1316252014 then
call C_E(1093678137,14,14,14,14,95,120,145,170,550,550,550,550,0,0,0,0)
call C_E(1093678405,25,25,25,25,120,140,160,180,0,0,0,0,2500,2500,2500,2500)
call C_E(1093681745,35,35,35,35,145,150,165,190,300,300,300,300,300,300,300,300)
call C_E(1093678645,0,0,0,0,150,250,350,0,500,500,500,500,0,0,0,0)
elseif LUE==1164799603 then
call C_E(1093808453,11,10,9,8,100,120,140,160,600,600,600,600,110,110,110,110)
call C_E(1093677391,50,40,30,20,50,50,50,50,99999,99999,99999,99999,0,0,0,0)
call C_E(1095067246,37,37,37,37,160,160,160,160,750,750,750,750,150,225,300,375)
call C_E(1093752632,90,75,60,0,150,200,250,0,99999,99999,99999,500,0,0,0,0)
call C_E(1093752633,90,75,60,0,150,200,250,0,99999,99999,99999,500,0,0,0,0)
elseif LUE==1332179560 then
call C_E(1093742660,7,7,7,7,125,130,135,140,750,750,750,750,0,0,0,0)
call C_E(1093682231,30,25,20,15,150,120,90,60,0,0,0,0,0,0,0,0)
call C_E(1093682242,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call C_E(1093687627,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LUE==1432580716 then
call C_E(1093684300,17,17,17,17,120,120,120,120,600,600,600,600,275,275,275,275)
call C_E(1093681754,10,10,10,10,120,120,120,120,700,900,1100,1300,300,300,300,300)
call C_E(1093744977,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093682009,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,900)
elseif LUE==1211117643 then
call C_E(1093678410,25,20,15,10,125,150,175,205,100,100,100,100,200,200,200,200)
call C_E(1093678664,20,16,13,10,80,110,140,160,150,150,150,150,0,0,0,0)
call C_E(1093678658,180,170,160,150,100,125,150,175,0,0,0,0,0,0,0,0)
call C_E(1093681483,10,10,10,7,200,240,300,30,500,500,500,500,0,0,0,0)
call C_E(1093748313,10,10,10,7,200,240,300,30,700,700,700,500,0,0,0,0)
elseif LUE==1211117633 then
call C_E(1093684045,14,14,14,14,100,100,100,100,600,600,600,600,0,0,0,0)
call C_E(1093684310,24,24,24,24,175,175,175,175,600,600,600,600,0,0,0,0)
call C_E(1093810260,30,26,22,18,100,100,100,100,900,900,900,900,0,0,0,0)
call C_E(1093684308,140,130,120,0,200,300,400,0,500,500,500,500,0,0,0,0)
call C_E(1093747539,30,30,30,0,200,300,400,0,500,500,500,500,0,0,0,0)
call C_E(1093815619,24,24,24,24,200,200,200,200,600,600,600,600,0,0,0,0)
elseif LUE==1160785973 then
call C_E(1093678130,6,6,6,6,90,100,110,120,800,800,800,800,0,0,0,0)
call C_E(1093678129,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093678642,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call C_E(1093678388,160,150,140,0,150,200,250,0,500,500,500,500,0,0,0,0)
call C_E(1093677141,160,150,140,0,150,200,250,0,500,500,500,500,0,0,0,0)
elseif LUE==1433631084 then
call C_E(1093678644,15,15,15,15,120,120,120,120,1800,1800,1800,1800,350,350,350,350)
call C_E(1093677907,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093677909,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093678160,20,15,10,9,175,275,375,75,2000,2500,3000,600,0,0,0,0)
elseif LUE==1311781174 then
call C_E(1093681733,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093808461,20,20,20,20,50,50,50,50,900,900,900,900,0,0,0,0)
call C_E(1093685040,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093748042,20,20,20,9,75,75,75,100,0,0,0,0,400,450,475,475)
call C_E(1093808462,12,12,12,12,50,50,50,50,700,700,700,700,0,0,0,0)
elseif LUE==1332898670 then
call C_E(1093677360,8,8,8,8,95,105,135,160,600,600,600,600,200,200,200,200)
call C_E(1093685848,13,13,13,13,110,140,170,200,500,500,500,500,0,0,0,0)
call C_E(1093677136,16,16,16,16,110,130,155,185,400,400,400,400,0,0,0,0)
call C_E(1093677128,110,110,110,7,200,350,600,30,550,550,550,500,0,0,0,0)
call C_E(1093681457,110,110,110,7,200,350,600,30,600,600,600,500,0,0,0,0)
elseif LUE==1211117624 then
call C_E(1093682775,2,2,2,2,30,30,30,30,600,600,600,600,0,0,0,0)
call C_E(1093683024,3,3,3,3,35,35,35,35,0,0,0,0,700,700,700,700)
call C_E(1093684531,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093682774,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LUE==1315988077 then
call C_E(1093678669,12,12,12,12,90,105,130,150,0,0,0,0,400,400,400,400)
call C_E(1097032808,8,8,8,8,50,50,50,50,850,850,850,850,10,10,10,10)
call C_E(1093684568,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093684561,180,160,140,180,125,150,175,150,0,0,0,0,128,128,128,128)
call C_E(1093747254,160,140,120,180,125,150,175,150,0,0,0,0,128,128,128,128)
elseif LUE==1211117616 then
call C_E(1093677139,13,13,13,13,85,100,115,130,0,0,0,0,315,315,315,315)
call C_E(1093816142,8,8,8,8,0,0,0,0,150,150,150,150,0,0,0,0)
call C_E(1093677142,0,0,0,0,0,0,0,0,0,0,0,0,1000,1000,1000,1000)
call C_E(1093816118,120,90,60,0,80,80,80,0,0,0,0,0,0,0,0,0)
elseif LUE==1315007329 then
call C_E(1093677108,10,10,10,10,90,115,135,155,650,650,650,650,0,0,0,0)
call C_E(1093749073,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093678913,15,15,15,15,50,50,50,50,0,0,0,0,0,0,0,0)
call C_E(1093681716,10,7,5,0,70,60,50,0,900,1050,1200,0,0,0,0,0)
elseif LUE==1215063922 then
call C_E(1093677894,12,12,12,12,100,110,120,130,500,500,500,500,150,150,150,150)
call C_E(1093681490,9,9,9,9,100,100,100,75,150,150,150,600,0,0,0,0)
call C_E(1093681996,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093677895,115,115,115,180,50,50,50,150,0,0,0,0,0,0,0,0)
elseif LUE==1164207469 then
call C_E(1093677618,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1095066220,12,9,7,5,60,60,60,60,99999,99999,99999,99999,0,0,0,0)
call C_E(1093684057,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093682483,70,70,70,9,125,200,275,75,600,600,600,600,0,0,0,0)
elseif LUE==1315074670 then
call C_E(1093677622,0,0,0,0,12,12,12,12,625,625,625,625,0,0,0,0)
call C_E(1093685570,13,13,13,13,90,90,90,90,900,900,900,900,300,300,300,300)
call C_E(1093677625,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call C_E(1093686851,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LUE==1214345830 then
call C_E(1093679182,10,10,10,10,100,120,140,160,700,700,700,700,0,0,0,0)
call C_E(1093679190,14,14,14,14,50,50,50,50,500,500,500,500,0,0,0,0)
call C_E(1093678657,0,0,0,0,0,0,0,0,0,0,0,0,300,300,300,300)
call C_E(1093682514,150,150,150,25,125,175,250,50,0,0,0,0,600,600,600,650)
elseif LUE==1211117636 then
call C_E(1093685041,13,13,13,13,120,120,120,120,1300,1300,1300,1300,100,100,100,100)
call C_E(1093685071,40,40,40,40,25,25,25,25,0,0,0,0,200,200,200,200)
call C_E(1093681732,0,0,0,0,0,0,0,0,0,0,0,0,1000,1000,1000,1000)
call C_E(1093685042,80,75,70,9,150,175,200,75,600,600,600,600,0,0,0,0)
call C_E(1093810233,45,45,45,9,150,175,200,75,950,950,950,600,0,0,0,0)
elseif LUE==1160786000 then
call C_E(1093685047,10,10,10,10,135,140,155,170,500,500,500,500,0,0,0,0)
call C_E(1093685046,12,11,10,9,90,90,90,90,1100,1100,1100,1100,0,0,0,0)
call C_E(1093685048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093685045,60,60,60,8,220,330,440,100,850,850,850,700,0,0,0,125)
call C_E(1093747249,60,60,60,8,220,330,440,100,1150,1150,1150,700,0,0,0,125)
elseif LUE==1311781193 then
call C_E(1093683532,22,22,22,22,130,140,150,160,900,900,900,900,625,625,625,625)
call C_E(1093750345,16,16,16,16,120,120,120,120,0,0,0,0,0,0,0,0)
call C_E(1093685043,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call C_E(1095656306,45,45,45,30,50,100,150,25,0,0,0,0,0,0,0,0)
elseif LUE==1311781206 then
call C_E(1093684054,12,12,12,12,100,120,140,160,500,500,500,500,0,0,0,0)
call C_E(1093684280,17,17,17,17,100,100,100,100,3000,3000,3000,3000,0,0,0,0)
call C_E(1093684302,30,26,22,18,40,35,30,20,0,0,0,0,0,0,0,0)
call C_E(1093684053,160,140,120,0,75,75,75,0,500,500,500,500,0,0,0,0)
elseif LUE==1211117651 then
call C_E(1093743696,4,4,4,4,70,80,90,100,0,0,0,0,400,450,475,500)
call C_E(1093743698,20,20,20,20,100,110,120,130,300,300,300,300,500,500,500,500)
call C_E(1093685591,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093743695,0,0,0,0,0,0,0,0,99999,99999,99999,0,0,0,0,0)
elseif LUE==1211117649 then
call C_E(1093685584,25,25,25,25,170,170,170,170,400,400,400,400,0,0,0,0)
call C_E(1093685582,0,0,0,0,0,0,0,0,450,450,450,450,0,0,0,0)
call C_E(1093685585,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093685586,45,30,15,0,0,0,0,0,550,550,550,500,0,0,0,0)
call C_E(1093747251,4,4,4,0,0,0,0,0,550,550,550,500,0,0,0,0)
elseif LUE==1160786265 then
call C_E(1093748033,17,17,17,17,100,100,100,100,0,0,0,0,0,0,0,0)
call C_E(1093685846,7,7,7,7,50,50,50,50,0,0,0,0,0,0,0,0)
call C_E(1093685839,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093685840,11,9,7,0,15,15,15,0,2000,2000,2000,500,300,300,300,0)
elseif LUE==1311780930 then
call C_E(1093686073,12,12,12,12,150,150,150,150,3000,3000,3000,3000,0,0,0,0)
call C_E(1093686083,16,16,16,16,100,110,120,130,500,500,500,500,0,0,0,0)
call C_E(1093686082,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093686072,85,85,85,6,100,150,200,75,750,750,750,800,375,375,375,200)
call C_E(1093751120,85,85,85,6,100,150,200,75,750,750,750,800,375,375,375,200)
elseif LUE==1211117652 then
call C_E(1093687860,32,28,24,20,75,75,75,75,500,500,500,500,0,0,0,0)
call C_E(1093687861,15,15,15,15,50,60,70,80,500,500,500,500,0,0,0,0)
call C_E(1093687862,20,18,16,14,50,50,50,50,99999,99999,99999,99999,575,575,575,575)
call C_E(1093687864,70,55,40,0,150,150,150,0,2000,2500,3000,500,0,0,0,0)
call C_E(1093747542,12,12,12,0,150,150,150,0,2000,2500,3000,500,0,0,0,0)
elseif LUE==1211119187 then
call C_E(1093743414,12,12,12,12,120,120,120,120,1500,1500,1500,1500,215,215,215,215)
call C_E(1093743444,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093742926,16,16,16,16,80,90,100,110,500,650,800,950,0,0,0,0)
call C_E(1093742923,60,50,40,0,150,200,250,0,1000,1000,1000,0,0,0,0,0)
elseif LUE==1311786311 then
call C_E(1093743178,12,12,12,12,90,100,110,120,800,800,800,800,500,500,500,500)
call C_E(1093743179,9,9,9,9,90,100,110,120,1700,1700,1700,1700,0,0,0,0)
call C_E(1093743689,15,15,15,15,100,100,100,100,0,0,0,0,400,450,475,500)
call C_E(1093743184,60,60,60,0,200,300,400,0,600,600,600,500,0,0,0,0)
call C_E(1093747766,15,15,15,0,200,300,400,0,600,600,600,500,0,0,0,0)
elseif LUE==1164277353 then
call C_E(1093815130,22,18,14,10,50,50,50,50,250,250,250,250,0,0,0,0)
call C_E(1093683252,16,16,16,16,80,80,80,80,0,0,0,0,0,0,0,0)
call C_E(1093751369,140,140,140,140,40,40,40,40,0,0,0,0,0,0,0,0)
call C_E(1093678929,160,110,60,0,200,100,0,0,250,250,250,0,0,0,0,0)
elseif LUE==1164666213 then
call C_E(1093678679,9,9,9,9,100,125,140,160,750,750,750,750,150,175,200,225)
call C_E(1093677877,22,22,22,22,95,120,135,155,0,0,0,0,0,0,0,0)
call C_E(1093678678,6,6,6,6,100,115,130,145,700,700,700,700,650,650,650,650)
call C_E(1093808454,1,1,1,0,110,110,110,0,0,0,0,0,0,0,0,0)
call C_E(1093808455,1,1,1,0,110,110,110,0,0,0,0,0,0,0,0,0)
elseif LUE==1433168227 then
call C_E(1093678918,9,9,9,8,125,150,170,190,600,600,600,600,200,200,200,200)
call C_E(1093679186,5,5,5,5,50,50,50,50,800,800,800,800,0,0,0,0)
call C_E(1093678387,35,30,25,20,25,25,25,25,400,400,400,400,0,0,0,0)
call C_E(1093678420,145,115,60,6,200,325,500,50,750,750,750,800,0,0,0,0)
call C_E(1093679176,145,115,60,6,200,325,500,50,850,850,850,800,0,0,0,0)
elseif LUE==1430468406 then
call C_E(1093677645,8,8,8,8,105,120,140,165,600,600,600,600,110,110,110,110)
call C_E(1093685302,15,15,15,15,80,80,80,80,900,900,900,900,200,275,350,350)
call C_E(1093677635,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093678899,100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)
call C_E(1093678904,4,4,4,4,80,95,115,140,600,600,600,600,110,110,110,110)
call C_E(1093678900,5,5,5,5,85,100,120,145,600,600,600,600,110,110,110,110)
call C_E(1093678898,6,6,6,6,90,105,125,150,600,600,600,600,110,110,110,110)
call C_E(1093678670,7,7,7,7,95,110,130,155,600,600,600,600,110,110,110,110)
call C_E(1093678925,11,11,11,11,55,55,55,55,900,900,900,900,200,275,350,350)
call C_E(1093678922,12,12,12,12,60,60,60,60,900,900,900,900,200,275,350,350)
call C_E(1093678921,13,13,13,13,65,65,65,65,900,900,900,900,200,275,350,350)
call C_E(1093678920,14,14,14,14,70,70,70,70,900,900,900,900,200,275,350,350)
call C_E(1093678158,100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)
call C_E(1093678157,100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)
call C_E(1093678154,100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)
call C_E(1093677898,100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)
elseif LUE==1430466872 then
call C_E(1093687349,12,12,12,12,100,120,145,170,500,500,500,500,0,0,0,0)
call C_E(1093684558,15,15,15,15,125,150,175,200,500,500,500,500,0,0,0,0)
call C_E(1093677646,25,20,15,10,10,10,10,10,600,650,700,750,800,800,800,800)
call C_E(1093679413,160,100,40,9,200,420,650,120,900,900,900,0,500,500,500,500)
call C_E(1093679447,160,100,40,9,200,420,625,120,900,900,900,0,500,500,500,500)
elseif LUE==1162032439 then
call C_E(1093744435,22,22,22,22,125,125,125,125,800,800,800,800,0,0,0,0)
call C_E(1093684569,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093684563,5,5,5,5,20,20,20,20,850,850,850,850,0,0,0,0)
call C_E(1093677363,140,120,100,40,200,300,400,125,0,0,0,0,200,200,200,200)
call C_E(1093681462,140,120,60,40,200,300,400,125,0,0,0,0,200,200,200,200)
elseif LUE==1430466865 then
call C_E(1093677651,10,9,8,7,90,90,90,90,500,500,500,500,150,150,150,150)
call C_E(1093677879,12,12,12,10,40,40,40,40,800,800,800,800,0,0,0,0)
call C_E(1093751364,30,30,30,30,80,80,80,80,600,800,1000,1200,100,100,100,100)
call C_E(1093810508,120,110,100,0,200,250,300,0,0,0,0,0,0,0,0,0)
elseif LUE==1430468144 then
call C_E(1093679192,10,10,10,10,70,80,90,100,700,700,700,700,0,0,0,0)
call C_E(1093750337,4,4,4,4,170,160,150,140,1000,1000,1000,1000,0,0,0,0)
call C_E(1093686872,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093750341,180,160,140,9,150,150,150,100,0,0,0,0,0,0,0,475)
call C_E(1093814599,180,160,140,9,150,150,150,100,0,0,0,0,0,0,0,475)
elseif LUE==1429221441 then
call C_E(1093678389,10,10,10,10,140,140,140,140,500,500,500,500,0,0,0,0)
call C_E(1093685847,24,18,12,6,70,70,70,70,550,600,650,700,0,0,0,0)
call C_E(1093677902,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093677903,140,140,140,3,125,200,275,150,128,128,128,128,1000,1000,1000,1000)
elseif LUE==1429221432 then
call C_E(1093677892,30,30,30,30,125,125,125,125,800,800,800,800,200,200,200,200)
call C_E(1093687878,50,45,40,35,15,20,25,30,500,500,500,500,0,0,0,0)
call C_E(1093677893,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call C_E(1093679411,100,70,40,180,100,100,100,150,0,0,0,0,0,0,0,0)
elseif LUE==1429221430 then
call C_E(1093681736,10,10,10,10,120,120,120,120,700,700,700,700,0,0,0,0)
call C_E(1093681735,30,30,30,30,50,50,50,50,600,600,600,600,650,650,650,650)
call C_E(1093681739,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093687121,45,45,45,0,100,100,100,0,500,500,500,500,0,0,0,0)
elseif LUE==1165451634 then
call C_E(1093687629,8,8,8,8,30,25,20,15,1200,1200,1200,1200,0,0,0,0)
call C_E(1093685324,14,11,8,5,50,50,50,50,1000,1000,1000,1000,0,0,0,0)
call C_E(1093677904,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093677905,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LUE==1211117654 then
call C_E(1093747504,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093682994,11,11,11,11,140,150,160,170,800,800,800,800,500,500,500,500)
call C_E(1093684560,0,0,0,0,0,0,0,0,128,128,128,128,0,0,0,0)
call C_E(1093747028,140,100,60,0,200,100,0,0,500,500,500,500,0,0,0,0)
elseif LUE==1432646245 then
call C_E(1093677640,8,8,8,8,80,90,100,110,525,525,525,525,0,0,0,0)
call C_E(1093679173,0,0,0,0,0,0,0,0,500,500,500,500,0,0,0,0)
call C_E(1093679158,0,0,0,0,0,0,0,0,500,500,500,500,0,0,0,0)
call C_E(1093677899,180,150,120,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093747248,180,150,120,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LUE==1313026096 then
call C_E(1095267426,8,8,8,8,140,140,140,140,525,525,525,525,0,0,0,0)
call C_E(1096114550,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call C_E(1095721842,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093677401,260,160,60,240,140,140,140,0,0,0,0,0,0,0,0,0)
elseif LUE==1430467634 then
call C_E(1093742674,70,60,50,40,60,50,40,30,300,300,300,300,0,0,0,0)
call C_E(1093750608,60,55,50,45,60,65,70,75,0,0,0,0,0,0,0,0)
call C_E(1093679412,8,8,8,8,110,110,110,110,600,600,600,600,0,0,0,0)
call C_E(1093684565,110,110,110,120,150,200,250,125,550,550,550,400,0,0,0,0)
call C_E(1093681458,110,110,110,120,150,200,250,125,550,550,550,400,0,0,0,0)
elseif LUE==1429221424 then
call C_E(1093687351,11,11,11,11,95,115,135,155,500,500,500,500,0,0,0,0)
call C_E(1093748789,28,20,12,4,90,110,130,150,600,600,600,600,0,0,0,0)
call C_E(1093815119,10,10,10,10,50,50,50,50,0,0,0,0,0,0,0,0)
call C_E(1093679445,70,60,50,5,160,210,260,75,0,0,0,0,0,0,0,0)
elseif LUE==1430468913 then
call C_E(1093678403,40,40,40,40,50,50,50,50,0,0,0,0,0,0,0,0)
call C_E(1093810507,8,8,8,8,80,95,105,115,0,0,0,0,0,0,0,0)
call C_E(1093683786,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093677876,10,10,10,0,25,25,25,0,700,700,700,0,0,0,0,0)
elseif LUE==1430466609 then
call C_E(1093685559,20,16,12,8,80,100,120,140,400,400,400,400,0,0,0,0)
call C_E(1093684549,12,10,8,6,60,60,60,60,99999,99999,99999,99999,0,0,0,0)
call C_E(1093678145,7,7,7,7,110,120,130,140,0,0,0,0,500,500,500,500)
call C_E(1093810258,135,135,135,8,250,360,500,100,700,700,700,700,100,100,100,125)
call C_E(1093810259,100,70,40,8,250,360,500,100,700,700,700,700,100,100,100,125)
elseif LUE==1160785972 then
call C_E(1093677872,60,50,40,30,90,90,90,90,0,0,0,0,0,0,0,0)
call C_E(1095263841,0,0,0,0,8,8,8,8,600,600,600,600,0,0,0,0)
call C_E(1093677621,20,20,20,20,75,75,75,75,0,0,0,0,0,0,0,0)
call C_E(1093678161,45,45,45,0,100,100,100,0,400,400,400,0,0,0,0,0)
elseif LUE==1162032181 then
call C_E(1093684299,19,17,15,13,120,120,120,120,700,900,1100,1300,0,0,0,0)
call C_E(1093682010,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093679153,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093683761,120,110,100,6,150,175,200,70,600,600,600,800,400,400,400,200)
call C_E(1093747767,60,60,60,6,150,175,200,70,600,600,600,800,400,400,400,200)
elseif LUE==1162032951 then
call C_E(1093679446,4,3,0,0,20,20,20,20,600,600,600,600,0,0,0,0)
call C_E(1093746995,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093684557,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093679152,80,50,30,8,125,175,250,65,500,500,500,0,0,0,0,0)
call C_E(1093752154,12,12,12,0,125,125,125,0,900,900,900,0,0,0,0,0)
elseif LUE==1160785970 then
call C_E(1093748023,14,14,14,14,125,125,125,125,0,0,0,0,0,0,0,0)
call C_E(1093747792,25,25,25,25,20,30,40,50,600,600,600,600,0,0,0,0)
call C_E(1093748022,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call C_E(1093747023,80,70,60,0,100,150,200,0,600,600,600,500,0,0,0,0)
call C_E(1093752150,80,70,60,0,100,150,200,0,600,600,600,500,0,0,0,0)
elseif LUE==1429221443 then
call C_E(1093686322,15,15,15,15,75,75,75,75,0,0,0,0,0,0,0,0)
call C_E(1093686099,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093744948,24,20,16,12,110,110,110,110,700,700,700,700,500,500,500,500)
call C_E(1093686103,100,100,100,0,50,50,50,0,150,150,150,500,0,0,0,0)
elseif LUE==1211117640 then
call C_E(1093684564,6,6,6,6,85,105,125,145,400,400,400,400,400,400,400,400)
call C_E(1093681989,12,10,8,6,100,100,100,100,700,700,700,700,0,0,0,0)
call C_E(1093679428,35,35,35,35,80,80,80,80,0,0,0,0,100,100,100,100)
call C_E(1093681987,22,22,22,8,125,175,225,75,850,850,850,500,850,850,850,800)
call C_E(1093677658,0,0,0,8,125,175,225,75,900,900,900,500,900,900,900,800)
elseif LUE==1332109682 then
call C_E(1093678134,12,12,12,12,120,120,120,120,700,700,700,700,0,0,0,0)
call C_E(1093678149,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093808694,7,6,5,4,30,40,50,60,0,0,0,0,0,0,0,0)
call C_E(1093810505,150,150,150,12,150,225,325,75,0,0,0,0,0,0,0,500)
elseif LUE==1332963428 then
call C_E(1093816137,12,12,12,12,95,105,115,125,1000,1000,1000,1000,0,0,0,0)
call C_E(1093683019,14,14,14,14,125,150,175,200,600,600,600,600,500,500,500,500)
call C_E(1093678169,15,15,15,15,165,165,165,165,500,550,600,650,0,0,0,0)
call C_E(1093677649,100,100,100,0,200,300,400,0,625,625,625,0,0,0,0,0)
call C_E(1093747769,100,100,100,0,200,300,400,0,625,625,625,0,0,0,0,0)
elseif LUE==1429221445 then
call C_E(1093678422,8,7,6,5,125,145,165,185,0,0,0,0,400,450,475,500)
call C_E(1093677390,0,0,0,0,0,0,0,0,0,0,0,0,1000,1000,1000,1000)
call C_E(1093678640,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call C_E(1093678647,100,85,70,9,175,340,500,75,600,600,600,600,0,0,0,0)
call C_E(1093679184,70,70,70,9,150,340,500,75,600,600,600,600,0,0,0,0)
elseif LUE==1429221446 then
call C_E(1093678665,14,13,12,11,110,120,130,140,600,800,1000,1200,0,0,0,0)
call C_E(1093678667,0,0,0,0,0,0,0,0,0,0,0,0,250,250,250,250)
call C_E(1093678660,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093682764,30,30,30,0,100,130,170,0,160,160,160,0,0,0,0,0)
call C_E(1093747544,30,30,30,0,100,130,170,0,160,160,160,0,0,0,0,0)
elseif LUE==1328558154 then
call C_E(1093750840,35,35,35,35,100,100,100,100,99999,99999,99999,99999,0,0,0,0)
call C_E(1093682515,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call C_E(1093682997,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093682996,75,75,75,0,125,150,175,0,400,550,700,500,0,0,0,0)
call C_E(1093747768,20,20,20,0,125,150,175,0,550,700,850,500,0,0,0,0)
elseif LUE==1432510828 then
call C_E(1093751127,36,33,30,27,100,100,100,100,3000,3000,3000,3000,0,0,0,0)
call C_E(1093681985,12,10,8,6,60,60,60,60,0,0,0,0,0,0,0,0)
call C_E(1093681991,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093682004,60,50,40,0,150,75,0,0,0,0,0,500,0,0,0,0)
elseif LUE==1315334514 then
call C_E(1093682521,10,10,10,10,75,75,75,75,0,0,0,0,0,0,0,0)
call C_E(1093681746,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093682773,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call C_E(1093810506,120,110,100,0,150,175,200,0,0,0,0,0,0,0,0,0)
call C_E(1093682736,10,10,10,10,75,75,75,75,0,0,0,0,0,0,0,0)
call C_E(1093682760,10,10,10,10,75,75,75,75,0,0,0,0,0,0,0,0)
elseif LUE==1429221451 then
call C_E(1093678671,11,11,11,11,110,120,130,140,350,450,550,650,0,0,0,0)
call C_E(1093683248,40,30,20,10,60,50,40,30,500,500,500,500,0,0,0,0)
call C_E(1093682753,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093678674,140,120,100,0,175,250,325,0,500,500,500,500,0,0,0,0)
call C_E(1093747252,120,100,80,0,175,250,325,0,500,500,500,500,0,0,0,0)
elseif LUE==1332766568 then
call C_E(1093683510,10,10,10,10,80,90,100,110,500,500,500,500,0,0,0,0)
call C_E(1093686065,20,15,10,5,75,85,95,105,900,900,900,900,0,0,0,0)
call C_E(1093681974,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call C_E(1093682482,75,65,55,9,120,160,200,120,150,150,150,700,150,150,150,500)
call C_E(1093750098,6,6,6,9,120,160,200,120,150,150,150,700,150,150,150,500)
elseif LUE==1215722344 then
call C_E(1093682499,12,10,8,6,80,80,80,80,800,800,800,800,0,0,0,0)
call C_E(1093684293,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093683512,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093684296,70,60,50,0,150,200,250,0,1000,1000,1000,500,0,0,0,0)
elseif LUE==1432642913 then
call C_E(1093683507,6,6,6,6,75,75,75,75,800,800,800,800,0,0,0,0)
call C_E(1093684550,14,12,10,8,100,105,110,115,500,500,500,500,1,1,1,1)
call C_E(1093684551,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093684819,60,60,60,5,0,0,0,75,0,0,0,0,0,0,0,0)
call C_E(1093747777,60,60,60,5,0,0,0,75,0,0,0,0,0,0,0,0)
elseif LUE==1160786242 then
call C_E(1093683287,16,16,16,16,130,140,150,160,2000,2000,2000,2000,0,0,0,0)
call C_E(1093682776,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093684801,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093683257,120,120,120,0,150,150,150,0,0,0,0,500,0,0,0,0)
elseif LUE==1160786241 then
call C_E(1093684813,20,18,16,14,110,120,130,140,700,700,700,700,500,500,500,500)
call C_E(1093684805,0,0,0,0,15,40,65,90,0,0,0,0,340,340,340,340)
call C_E(1093684815,35,35,35,35,120,120,120,120,400,400,400,400,150,150,150,150)
call C_E(1093684820,80,80,80,0,200,200,200,150,300,350,400,700,0,0,0,0)
call C_E(1093684824,80,80,80,0,200,200,200,150,300,350,400,700,0,0,0,0)
elseif LUE==1429221456 then
call C_E(1093685065,0,0,0,0,100,100,100,100,450,450,450,450,0,0,0,0)
call C_E(1093685066,18,16,14,12,120,140,160,180,550,550,550,550,500,500,500,500)
call C_E(1093683526,0,0,0,0,0,0,0,0,0,0,0,0,1000,1000,1000,1000)
call C_E(1093685067,160,160,160,0,175,250,325,0,600,650,700,0,375,475,575,0)
call C_E(1093752407,160,160,160,0,175,250,325,0,700,750,800,0,375,475,575,0)
elseif LUE==1160786243 then
call C_E(1093683765,25,25,25,25,120,120,120,120,800,800,800,800,0,0,0,0)
call C_E(1093681491,16,16,16,16,90,110,130,150,500,500,500,500,0,0,0,0)
call C_E(1093678672,50,50,50,50,100,110,120,130,700,700,700,700,650,650,650,650)
call C_E(1395667000,165,165,165,30,200,250,300,100,1200,1200,1200,900,600,600,600,250)
call C_E(1395667029,165,165,165,30,200,250,300,100,1200,1200,1200,900,600,600,600,250)
elseif LUE==1211117641 then
call C_E(1093684802,20,16,12,8,100,100,100,100,500,750,1000,1250,220,220,220,220)
call C_E(1093684792,12,10,8,6,80,80,80,80,99999,99999,99999,99999,0,0,0,0)
call C_E(1093684791,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093684567,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093809987,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LUE==1311781207 then
call C_E(1093684817,15,13,11,7,100,115,130,145,600,600,600,600,0,0,0,0)
call C_E(1093742668,60,45,30,15,140,130,120,110,550,700,850,1000,0,0,0,0)
call C_E(1093685074,12,10,8,6,80,90,100,110,900,900,900,900,0,0,0,0)
call C_E(1093742673,40,40,40,0,100,100,100,0,2000,2000,2000,0,575,575,575,0)
call C_E(1093747778,40,40,40,0,100,100,100,0,2000,2000,2000,0,775,775,775,0)
elseif LUE==1311780946 then
call C_E(1093677385,16,16,16,16,100,110,120,130,775,775,775,775,450,450,450,450)
call C_E(1093685825,24,21,18,15,100,115,130,145,750,750,750,750,275,275,275,275)
call C_E(1095328612,0,0,0,0,0,0,0,0,900,900,900,900,0,0,0,0)
call C_E(1093685808,130,130,130,0,75,150,225,0,99999,99999,99999,500,0,0,0,0)
elseif LUE==1211117650 then
call C_E(1093743955,10,8,6,4,70,90,110,130,625,625,625,625,300,300,300,300)
call C_E(1093685813,25,20,15,10,50,75,100,125,650,650,650,650,0,0,0,0)
call C_E(1093743958,60,60,60,60,120,130,140,150,600,600,600,600,0,0,0,0)
call C_E(1093743946,75,75,75,180,100,100,100,150,0,0,0,0,0,0,0,0)
elseif LUE==1211117646 then
call C_E(1093685573,22,22,22,22,100,130,160,190,500,500,500,500,250,350,450,550)
call C_E(1093685575,10,10,10,10,70,90,110,130,600,600,600,600,0,0,0,0)
call C_E(1093685815,12,11,10,9,20,30,40,50,600,600,600,600,0,0,0,0)
call C_E(1093685579,100,100,100,0,200,300,400,0,500,900,1300,500,300,300,300,0)
call C_E(1093808465,100,100,100,0,200,300,400,0,500,900,1300,500,300,300,300,0)
elseif LUE==1211117653 then
call C_E(1093808471,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093808472,0,0,0,9,0,0,0,100,0,0,0,0,0,0,0,475)
call C_E(1093808470,0,0,0,25,0,0,0,50,0,0,0,0,0,0,0,650)
call C_E(1093808473,22,17,12,5,20,40,60,80,0,0,0,0,0,0,0,0)
call C_E(1093748565,16,8,4,2,0,0,0,0,0,0,0,0,0,0,0,0)
elseif LUE==1311787088 then
call C_E(1093750087,15,13,11,9,150,150,150,150,700,700,700,700,0,0,0,0)
call C_E(1093748819,6,6,6,6,80,90,100,110,1500,1500,1500,1500,250,250,250,250)
call C_E(1093748817,50,46,42,38,110,120,130,140,800,800,800,800,525,525,525,525)
call C_E(1093750089,45,45,45,0,100,125,150,0,99999,99999,99999,500,0,0,0,0)
elseif LUE==1328558389 then
call C_E(1093747009,15,15,15,15,100,115,130,145,500,500,500,500,0,0,0,0)
call C_E(1093747000,16,16,16,16,110,110,110,110,1200,1200,1200,1200,0,0,0,0)
call C_E(1093747524,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093746993,100,100,100,0,175,175,175,0,1600,1600,1600,500,0,0,0,0)
elseif LUE==1211119409 then
call C_E(1093749069,10,9,8,7,55,50,45,40,0,0,0,0,0,0,0,0)
call C_E(1093749303,20,16,12,8,75,75,75,75,500,500,500,500,0,0,0,0)
call C_E(1093748818,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093749070,25,25,25,5,120,120,120,75,0,0,0,0,0,0,0,0)
elseif LUE==1328558390 then
call C_E(1093748044,3,3,3,3,20,20,20,20,700,700,700,700,375,375,375,375)
call C_E(1093744982,11,11,11,11,80,100,120,140,1500,1500,1500,1500,375,375,375,375)
call C_E(1093744986,40,40,40,40,100,100,100,100,0,0,0,0,-1,-1,-1,-1)
call C_E(1093744975,90,70,50,9,150,150,150,120,175,175,175,700,500,500,500,500)
elseif LUE==1160786505 then
call C_E(1093753167,18,16,14,12,120,120,120,120,1500,1500,1500,1500,0,0,0,0)
call C_E(1093751607,24,24,24,24,75,75,75,75,1250,1250,1250,1250,0,0,0,0)
call C_E(1093753170,50,50,50,50,75,75,75,75,0,0,0,0,100,100,100,100)
call C_E(1093753169,30,24,18,9,50,75,100,100,0,0,0,0,0,0,0,475)
elseif LUE==1160786510 then
call C_E(1093751631,7,7,6,6,90,90,90,90,500,500,500,500,0,0,0,0)
call C_E(1093751633,20,17,14,11,120,130,140,150,1050,1050,1050,1050,500,500,500,500)
call C_E(1093808697,20,20,20,20,50,50,50,50,0,0,0,0,0,0,0,0)
call C_E(1093751861,55,50,45,6,125,125,125,75,1000,1000,1000,800,450,450,450,200)
call C_E(1093808949,55,50,45,6,125,125,125,75,99999,99999,99999,800,450,450,450,200)
elseif LUE==1160786506 then
call C_E(1093751894,16,16,16,16,130,130,130,130,800,800,800,800,0,0,0,0)
call C_E(1093751639,60,50,40,30,160,130,100,70,600,1000,1400,1800,500,500,500,500)
call C_E(1093751637,14,14,14,14,70,70,70,70,900,900,900,900,300,300,300,300)
call C_E(1093752118,85,85,85,0,125,175,225,0,800,800,800,500,375,375,375,0)
elseif LUE==1328558406 then
call C_E(1093751873,12,12,12,12,40,40,40,40,1800,1800,1800,1800,1,1,1,1)
call C_E(1093751864,20,18,16,14,120,130,140,150,0,0,0,0,0,0,0,0)
call C_E(1093810257,2,2,2,2,0,0,0,0,128,128,128,128,0,0,0,0)
call C_E(1093751874,90,75,60,0,100,100,100,0,99999,99999,99999,500,0,0,0,0)
elseif LUE==1160786504 then
call C_E(1093751608,25,22,19,16,120,120,120,120,600,600,600,600,500,500,500,500)
call C_E(1093751618,13,13,13,13,50,60,70,80,600,600,600,600,500,500,500,500)
call C_E(1093751604,3,3,3,3,50,50,50,50,1500,1500,1500,1500,0,0,0,0)
call C_E(1093751617,50,50,50,0,200,200,200,0,800,800,800,0,0,0,0,0)
elseif LUE==1160786502 then
call C_E(1093751370,36,36,36,36,0,0,0,0,99999,99999,99999,99999,0,0,0,0)
call C_E(1093753176,45,40,35,30,80,80,100,110,1400,1400,1400,1400,0,0,0,0)
call C_E(1093753177,20,20,20,20,100,100,100,100,1300,1300,1300,1300,0,0,0,0)
call C_E(1093751371,110,110,110,0,200,200,200,0,700,700,700,500,0,0,0,0)
elseif LUE==1160786520 then
call C_E(1093809990,18,18,18,18,120,120,120,120,550,575,600,625,0,0,0,0)
call C_E(1093809991,16,14,12,10,150,150,150,150,800,800,800,800,0,0,0,0)
call C_E(1093810006,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)
call C_E(1093809992,20,18,16,0,25,25,25,0,1000,1000,1000,500,0,0,0,0)
elseif LUE==1311788336 then
call C_E(1093814323,14,12,10,8,110,110,110,110,0,0,0,0,0,0,0,0)
call C_E(1093814320,30,22,14,6,50,50,50,50,700,700,700,700,250,350,450,550)
call C_E(1093814355,35,35,35,35,80,90,100,110,1200,1200,1200,1200,0,0,0,0)
call C_E(1093814859,0,0,0,0,0,0,0,0,1500,1500,1500,500,0,0,0,0)
elseif LUE==1160786507 then
call C_E(1093814850,18,18,18,18,100,100,100,100,1000,1000,1000,1000,315,315,315,315)
call C_E(1093814834,16,15,14,13,80,90,100,110,800,800,800,800,0,0,0,0)
call C_E(1093813593,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093813065,50,50,50,0,75,75,75,0,100,100,100,500,0,0,0,0)
elseif LUE==1211122767 then
call C_E(1093812805,5,4,3,2,70,70,70,70,800,800,800,800,500,500,500,500)
call C_E(1093814612,20,18,16,14,110,110,110,110,0,0,0,0,0,0,0,0)
call C_E(1093814350,11,11,11,11,80,90,100,110,700,700,700,700,0,0,0,0)
call C_E(1093812807,60,40,20,0,350,575,800,0,1200,1200,1200,500,170,170,170,0)
elseif LUE==1160786738 then
call C_E(1093813835,8,8,8,8,70,80,90,100,0,0,0,0,0,0,0,0)
call C_E(1093813555,4,4,4,4,60,70,80,90,800,1000,1200,1400,0,0,0,0)
call C_E(1093813556,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
call C_E(1093813557,8,8,8,0,125,150,175,0,1200,1200,1200,500,200,200,200,0)
elseif LUE==1311788343 then
call C_E(1093815877,60,50,40,30,120,110,100,90,0,0,0,0,0,0,0,0)
call C_E(1093815361,8,8,8,8,120,130,140,150,1200,1200,1200,1200,0,0,0,0)
call C_E(1093815362,17,16,15,14,75,75,75,75,1000,1000,1000,1000,0,0,0,0)
call C_E(1093687856,90,80,70,0,250,250,250,0,800,800,800,0,0,0,0,0)
elseif LUE==1311788363 then
call C_E(1093815601,20,20,20,20,75,75,75,75,600,700,800,900,0,0,0,0)
call C_E(1093815372,4,4,4,4,50,50,50,50,2000,2000,2000,2000,0,0,0,0)
call C_E(1093815373,50,50,50,50,75,75,75,75,900,900,900,900,350,350,350,350)
call C_E(1093815600,65,60,55,0,0,0,0,0,0,0,0,0,0,0,0,0)
endif
endfunction
function LVE takes integer O5,integer o6,integer n6,integer LWE,integer LXE,integer LYE,integer LZE,integer LAE returns nothing
set eY[128+O5]=o6
set eY[144+O5]=n6
set eY[160+O5]=LWE
set eY[172+O5]=LXE
set eY[188+O5]=LYE
set hG[144+O5]=LZE
set hG[160+O5]=LAE
endfunction
function LBE takes unit it returns boolean
local integer i1=GetUnitTypeId(it)
return((i1==1211117636)or(i1==1333027688)or(i1==1311787088)or(i1==1211117653)or(i1==1315988077)or(i1==1211117617)or(i1==1432580716)or(i1==1214344551)or(i1==1215063922)or(i1==1429221451)or(i1==1328558154)or(i1==1332109682)or(i1==1332766568)or(i1==1429221441)or(i1==1429221443)or(i1==1432642913)or(i1==1313026096)or(i1==1430468913)or(i1==1160785970)or(i1==1215657064)or(i1==1429221430)or(i1==1429221424)or(i1==1162032439)or(i1==1162032951)or(i1==1311780930)or(i1==1211117620)or(i1==1430468144)or(i1==1215130471)or(i1==1160786000)or(i1==1211117646)or(i1==1430468406)or(i1==1430466872)or(i1==1433105516)or(i1==1433168227)or(i1==1429221445)or(i1==1160786243))
endfunction
function LCE takes integer O5,unit it,integer i1 returns nothing
if(i1==1211117654)then
call LVE(O5,1093684560,1093682994,1093747504,1093747028,0,12,13)
elseif(i1==1429221443)then
call LVE(O5,1093686322,1093686099,1093744948,1093686103,0,101,101)
elseif(i1==1162032951)then
call LVE(O5,1093684557,1093679446,1093746995,1093679152,1093752154,7,3)
elseif(i1==1162032181)then
call LVE(O5,1093682010,1093679153,1093684299,1093683761,1093747767,9,9)
elseif(i1==1429221424)then
call LVE(O5,1093687351,1093748789,1093815119,1093679445,0,21,17)
elseif(i1==1160785972)then
call LVE(O5,1095263841,1093677872,1093677621,1093678161,0,9,11)
elseif(i1==1432646245)then
call LVE(O5,1093679158,1093677640,1093679173,1093677899,1093747248,1,11)
elseif(i1==1430466609)then
call LVE(O5,1093678145,1093685559,1093684549,1093810258,1093810259,13,20)
elseif(i1==1430468913)then
call LVE(O5,1093678403,1093810507,1093683786,1093677876,0,8,1)
elseif(i1==1430467634)then
call LVE(O5,1093742674,1093679412,1093750608,1093684565,1093681458,15,16)
elseif(i1==1313026096)then
call LVE(O5,1095267426,1096114550,1095721842,1093677401,0,11,6)
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
call LVE(O5,1093815130,1093683252,1093751369,1093678929,0,10,13)
elseif(i1==1164666213)then
call LVE(O5,1093678679,1093677877,1093678678,1093808454,1093808455,102,23)
elseif(i1==1433168227)then
call LVE(O5,1093678918,1093678387,1093679186,1093678420,1093679176,25,25)
elseif(i1==1429221430)then
call LVE(O5,1093681736,1093681735,1093681739,1093687121,0,14,16)
elseif(i1==1430466872)then
call LVE(O5,1093687349,1093684558,1093677646,1093679413,1093679447,23,17)
elseif(i1==1162032439)then
call LVE(O5,1093744435,1093684569,1093684563,1093677363,1093681462,8,8)
elseif(i1==1430466865)then
call LVE(O5,1093677651,1093677879,1093751364,1093810508,0,8,11)
elseif(i1==1430468144)then
call LVE(O5,1093679192,1093750337,1093686872,1093750341,1093814599,107,107)
elseif(i1==1429221432)then
call LVE(O5,1093677893,1093677892,1093687878,1093679411,0,1,6)
elseif(i1==1429221441)then
call LVE(O5,1093678389,1093685847,1093677902,1093677903,0,10,1)
elseif(i1==1165451634)then
call LVE(O5,1093687629,1093685324,1093677904,1093677905,0,3,11)
elseif(i1==1432642913)then
call LVE(O5,1093684550,1093683507,1093684551,1093684819,1093747777,4,4)
elseif(i1==1215722344)then
call LVE(O5,1093684293,1093683512,1093682499,1093684296,0,1,11)
elseif(i1==1432510828)then
call LVE(O5,1093751127,1093681985,1093681991,1093682004,0,6,6)
elseif(i1==1332766568)then
call LVE(O5,1093681974,1093686065,1093683510,1093682482,1093750098,104,4)
elseif(i1==1429221451)then
call LVE(O5,1093678671,1093682753,1093683248,1093678674,1093747252,8,11)
elseif(i1==1315334514)then
call LVE(O5,1093681746,1093682521,1093682773,1093810506,0,7,8)
elseif(i1==1328558154)then
call LVE(O5,1093750840,1093682515,1093682997,1093682996,1093747768,1,1)
elseif(i1==1429221446)then
call LVE(O5,1093678665,1093678667,1093678660,1093682764,1093747544,103,4)
elseif(i1==1429221445)then
call LVE(O5,1093678422,1093678640,1093677390,1093678647,1093679184,21,25)
elseif(i1==1332963428)then
call LVE(O5,1093683019,1093678169,1093816137,1093677649,1093747769,18,17)
elseif(i1==1332109682)then
call LVE(O5,1093678134,1093678149,1093808694,1093810505,0,11,15)
elseif(i1==1211117640)then
call LVE(O5,1093684564,1093681989,1093679428,1093681987,1093677658,21,21)
elseif(i1==1430468406)then
call LVE(O5,0,1093677635,0,0,0,25,25)
elseif(i1==1160786242)then
call LVE(O5,1093683287,1093682776,1093684801,1093683257,0,10,6)
elseif(i1==1160786241)then
call LVE(O5,1093684813,1093684815,1093684805,1093684820,1093684824,105,23)
elseif(i1==1429221456)then
call LVE(O5,1093683526,1093685065,1093685066,1093685067,1093752407,23,22)
elseif(i1==1160786243)then
if(TH7(not IsPlayerAlly(Player(O5),Z7[0]))>2)then
call LVE(O5,1093681491,1093678672,1093683765,1395667000,1395667029,17,20)
else
call LVE(O5,1093681491,1093683765,1093678672,1395667000,1395667029,17,20)
endif
elseif(i1==1211117641)then
call LVE(O5,1093684791,1093684792,1093684802,1093684567,1093809987,106,106)
elseif(i1==1311781207)then
call LVE(O5,1093685074,1093742668,1093684817,1093742673,1093747778,17,18)
elseif(i1==1311780946)then
call LVE(O5,1093677385,1093685825,1095328612,1093685808,0,15,16)
elseif(i1==1211117650)then
call LVE(O5,1093743955,1093685813,1093743958,1093743946,0,5,5)
elseif(i1==1211117646)then
call LVE(O5,1093685575,1093685573,1093685815,1093685579,1093808465,5,5)
elseif(i1==1211117624)then
call LVE(O5,1093682775,1093683024,1093684531,1093682774,0,4,4)
elseif(i1==1160785973)then
call LVE(O5,1093678642,1093678129,1093678130,1093678388,1093677141,154,154)
elseif(i1==1315988077)then
call LVE(O5,1093678669,1093684568,1097032808,1093684561,1093747254,6,10)
elseif(i1==1211117616)then
call LVE(O5,1093677139,1093816142,1093677142,1093816118,0,6,10)
elseif(i1==1315074670)then
call LVE(O5,1093677622,1093677625,1093685570,1093686851,0,9,7)
elseif(i1==1215063922)then
call LVE(O5,1093677894,1093812553,1093681996,1093677895,0,15,6)
elseif(i1==1164207469)then
call LVE(O5,1093677618,1093684057,1095066220,1093682483,0,9,3)
elseif(i1==1433631084)then
call LVE(O5,1093677907,1093677909,1093678644,1093678160,0,3,13)
elseif(i1==1214345830)then
call LVE(O5,1093679182,1093679190,1093678657,1093682514,0,18,5)
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
call LVE(O5,1093681733,1093808460,1093685040,1093748042,0,12,9)
elseif(i1==1315007329)then
call LVE(O5,1093677108,1093749073,1093678913,1093681716,0,1,3)
elseif(i1==1332898670)then
call LVE(O5,1093677136,1093677360,1093685848,1093677128,1093681457,17,23)
elseif(i1==1215723364)then
call LVE(O5,1093677633,1094934883,1093744463,1093683534,1093747031,14,4)
elseif(i1==1215128178)then
call LVE(O5,1093683779,1093677616,1093684789,1093810503,1093810504,16,20)
elseif(i1==1164799855)then
call LVE(O5,1093682263,1093682264,1093677378,1093682265,1093752642,26,22)
elseif(i1==1433105516)then
call LVE(O5,1093683511,1093744688,1093681713,1093747288,0,18,25)
elseif(i1==1214409837)then
call LVE(O5,1093679157,1093742898,1093742680,1093742932,0,19,19)
elseif(i1==1316252014)then
call LVE(O5,1093678405,1093678137,1093681745,1093678645,0,157,19)
elseif(i1==1164799603)then
call LVE(O5,1093808453,1095067246,1093677391,1093752632,1093752633,18,19)
elseif(i1==1328558160)then
call LVE(O5,1093682766,1093682998,1093684056,1093683000,0,1,12)
elseif(i1==1212363833)then
call LVE(O5,1093678643,1093809220,1093815125,1093678933,0,10,9)
elseif(i1==1315070563)then
call LVE(O5,1093678407,1093677131,1093678135,1093684529,1093747032,1,11)
elseif(i1==1214931305)then
call LVE(O5,1093748025,1093678147,1095262562,1093677906,1093681494,8,17)
elseif(i1==1212365106)then
call LVE(O5,1093682266,1093684025,1093685831,1093677130,0,1,10)
elseif(i1==1211117617)then
call LVE(O5,1093744944,1093677387,1093814611,1093752648,0,11,4)
elseif(i1==1211117633)then
call LVE(O5,1093810260,1093684045,1093684310,1093684308,1093747539,153,153)
elseif(i1==1211117620)then
call LVE(O5,1093677382,1093677623,1093744728,1093677392,1093679450,16,23)
elseif(i1==1432580716)then
call LVE(O5,1093681754,1093684300,1093744977,1093682009,0,15,16)
elseif(i1==1333027688)then
call LVE(O5,1093686091,1093682250,1093682252,1093682248,1093750594,15,16)
if IsPlayerAlly(Player(O5),Z7[0])then
set GP7=true
else
set GQ7=true
endif
elseif(i1==1311781185)then
call LVE(O5,1093743692,1093684314,1093815892,1093684275,0,26,22)
elseif(i1==1311788343)then
call LVE(O5,1093815877,1093815361,1093815362,1093687856,0,25,22)
elseif(i1==1311788363)then
call LVE(O5,1093815601,1093815372,1093815373,1093815600,0,25,22)
elseif(i1==1211117643)then
call LVE(O5,1093678410,1093678658,1093678664,1093681483,1093748313,151,151)
elseif(i1==1215657064)then
call LVE(O5,1095657827,1093750841,1093677913,1093684291,0,156,156)
elseif(i1==1332179560)then
call LVE(O5,1093682242,1093742660,1093682231,1093687627,0,10,9)
elseif(i1==1214344551)then
call LVE(O5,1093677402,1093809742,1093815628,1093678938,0,152,20)
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
call LVE(O5,1093681461,1093681464,0,1093681479,0,3,11)
elseif(i1==1215130471)then
call LVE(O5,0,0,0,1093679160,0,16,23)
elseif(i1==1211117636)then
call LVE(O5,1093685041,1093685071,1093681732,1093685042,1093810233,155,16)
elseif(i1==1160786000)then
call LVE(O5,1093685046,1093685047,1093685048,1093685045,1093747249,19,25)
elseif(i1==1311781193)then
call LVE(O5,1093685043,1093750345,1093683532,1095656306,0,6,11)
elseif(i1==1311781206)then
call LVE(O5,1093684054,1093684280,1093684302,1093684053,0,14,12)
elseif(i1==1211117649)then
call LVE(O5,1093685584,1093685582,1093685585,1093685586,1093747251,11,11)
elseif(i1==1160786265)then
call LVE(O5,1093685839,1093748033,1093685846,1093685840,0,9,10)
elseif(i1==1311780930)then
call LVE(O5,1093686073,1093686083,1093686082,1093686072,1093751120,13,18)
elseif(i1==1311787088)then
call LVE(O5,1093750087,1093748819,1093748817,1093750089,48,1,1)
elseif(i1==1211119409)then
call LVE(O5,1093749069,1093749303,1093748818,1093749070,48,1,1)
elseif(i1==1160785970)then
call LVE(O5,1093748023,1093747792,1093748022,1093747023,1093752150,1,1)
elseif(i1==1160786506)then
call LVE(O5,1093751894,1093751639,1093751637,1093752118,48,1,1)
elseif(i1==1160786505)then
call LVE(O5,1093753167,1093751607,1093753170,1093753169,48,1,1)
elseif(i1==1160786502)then
call LVE(O5,1093751370,1093753176,1093753177,1093751371,48,1,1)
elseif(i1==1160786520)then
call LVE(O5,1093809990,1093809991,1093810006,1093809992,48,1,1)
if Z17(Player(O5))then
set GO7=true
endif
elseif(i1==1211117652)then
call LVE(O5,1093687860,1093687861,1093687862,1093687864,1093747542,1,1)
elseif(i1==1211117653)then
call LVE(O5,1093808471,1093808472,1093808470,1093808473,1093748565,1,1)
elseif(i1==1311786311)then
call LVE(O5,1093743178,1093743179,1093743689,1093743184,1093747766,1,1)
elseif(i1==1160786510)then
call LVE(O5,1093751631,1093751633,1093808697,1093751861,1093808949,1,1)
elseif(i1==1328558406)then
call LVE(O5,1093751873,1093751864,1093810257,1093751874,0,1,1)
elseif(i1==1211117651)then
call LVE(O5,1093743696,1093743698,1093685591,1093743695,0,1,1)
elseif(i1==1328558390)then
call LVE(O5,1093748044,1093744982,1093744986,1093744975,0,1,1)
elseif(i1==1160786504)then
call LVE(O5,1093751608,1093751618,1093751604,1093751617,0,1,1)
elseif(i1==1311788336)then
call LVE(O5,1093814323,1093814320,1093814355,1093814859,0,1,1)
elseif(i1==1160786507)then
call LVE(O5,1093814850,1093814834,1093813593,1093813065,0,1,1)
elseif(i1==1211122767)then
call LVE(O5,1093812805,1093814612,1093814350,1093812807,0,1,1)
elseif(i1==1160786738)then
call LVE(O5,1093813835,1093813555,1093813556,1093813557,0,1,1)
else
call LVE(O5,HM4[GetUnitPointValue(it)],HN4[GetUnitPointValue(it)],HO4[GetUnitPointValue(it)],HP4[GetUnitPointValue(it)],HQ4[GetUnitPointValue(it)],1,1)
endif
set bj_forLoopAIndex=O5
call LTE(i1)
endfunction
function L3E takes nothing returns nothing
call NB9(GetTriggerUnit())
if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)then
if(GetUnitTypeId(GetTriggerUnit())!=1211117642)then
call ExecuteFunc("UD")
else
call ExecuteFunc("xh")
endif
elseif(GetUnitTypeId(GetTriggerUnit())!=1211117642)then
if not(((QA4!=null)and(IsTriggerEnabled(QA4)))and(((GetOwningPlayer(GetTriggerUnit())==QT4)and(QV4!=null))or((GetOwningPlayer(GetTriggerUnit())==QU4)and(QW4!=null))))then
set bj_lastLoadedUnit=GetTriggerUnit()
call LCE(GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit)),bj_lastLoadedUnit,GetUnitTypeId(bj_lastLoadedUnit))
call ExecuteFunc("L6E")
endif
endif
endfunction
function LLE takes integer O5,integer QT7 returns nothing
local integer L1E=0
local real x
local real y
local integer L0E=KL4
local integer L5E=K54
local integer kg=0
local player pl=Player(O5)
local integer i=0
if(Z07(pl)and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(M7[GetPlayerId(pl)]==null))then
if(((ZC7(pl))and(not P4))or((P4)and(GetRandomInt(1,2)==1)))then
set L0E=KL4
set L5E=K14
else
set L0E=K04
set L5E=K54
endif
if(ZC7(pl))then
set x=GetRandomReal(GetRectMinX(ED),GetRectMaxX(ED))
set y=GetRandomReal(GetRectMinY(ED),GetRectMaxY(ED))
else
set x=GetRandomReal(GetRectMinX(L9),GetRectMaxX(L9))
set y=GetRandomReal(GetRectMinY(L9),GetRectMaxY(L9))
endif
set eY[GetPlayerId(pl)]=0
loop
set L1E=GetRandomInt(L0E,L5E)
if((not J[L1E])and(QS7(K34[L1E],QT7)or i>20))then
set M7[GetPlayerId(pl)]=CreateUnit(pl,K34[L1E],x,y,bj_UNIT_FACING)
endif
set i=i+1
exitwhen(M7[GetPlayerId(pl)]!=null)
endloop
if(not(E4 or O4 or A8 or H34))then
call AdjustPlayerStateBJ(-250,pl,PLAYER_STATE_RESOURCE_GOLD)
endif
endif
set pl=null
endfunction
function SEv takes nothing returns nothing
if(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))then
if(GetUnitTypeId(GetEnumUnit())==1429221430)then
call ExecuteFunc("CU8")
endif
elseif((GetUnitTypeId(GetEnumUnit())==1848651828)or(GetUnitTypeId(GetEnumUnit())==1848652088)or(GetUnitTypeId(GetEnumUnit())==1848652099)or(GetUnitTypeId(GetEnumUnit())==1848652103))then
call RemoveUnit(GetEnumUnit())
endif
endfunction
function L2E takes player pl,boolean L_E returns nothing
local integer L0E
local integer L5E
local integer L1E
local integer O5=GetPlayerId(pl)
local integer QT7=UN7(GetHandleId(pl),"AI|Class")
local integer i=0
if(((ZC7(pl))and(not P4))or((P4)and(GetRandomInt(1,2)==1)))then
set L0E=KL4
set L5E=K14
else
set L0E=K04
set L5E=K54
endif
if(L_E)then
if P4 or Y8 then
set X4=100
endif
call AdjustPlayerStateBJ(-1*X4,pl,PLAYER_STATE_RESOURCE_GOLD)
endif
call GroupClear(H8)
set bj_groupEnumOwningPlayer=pl
call GroupEnumUnitsInRect(H8,GetWorldBounds(),filterGetUnitsInRectOfPlayer)
call ForGroup(H8,function RV9)
call DK8(M7[O5])
set M7[O5]=null
set I[O5]=true
loop
set L1E=GetRandomInt(L0E,L5E)
if(J[L1E]==false and(QS7(K34[L1E],QT7)or i>20))then
set J[L1E]=true
if(ZC7(pl))then
set M7[O5]=CreateUnit(pl,K34[L1E],GetRectCenterX(HD),GetRectCenterY(HD),bj_UNIT_FACING)
else
set M7[O5]=CreateUnit(pl,K34[L1E],GetRectCenterX(GD),GetRectCenterY(GD),bj_UNIT_FACING)
endif
call AY7(K34[L1E])
endif
set i=i+1
exitwhen M7[O5]!=null
endloop
endfunction
function D4F takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local player pl=R27(S2I(SubString(VH,9,StringLength(VH))))
if((pl!=null)and(Z07(pl))and(IsPlayerInForce(pl,QX4)))then
if((IsPlayerAlly(GetTriggerPlayer(),pl))or(TK7(not IsPlayerAlly(GetTriggerPlayer(),Z7[0]))==null))then
if((I[GetPlayerId(pl)])or(M7[GetPlayerId(pl)]==null))then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Cannot repick")
elseif(Bz>60.)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Too late to repick")
else
call L2E(pl,false)
endif
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Cannot force repick on enemies with human ally")
endif
endif
set pl=null
endfunction
function D7F takes nothing returns nothing
local string VH=GetEventPlayerChatString()
local integer D8F=1
local boolean O6=IsPlayerAlly(GetTriggerPlayer(),Z7[0])
local boolean D9F
if((P)and((VH=="-pa")or(VH=="-pe"))and oo[GetPlayerId(GetTriggerPlayer())]==false)then
set Gs=true
if(VH=="-pa")then
set D9F=O6
else
set D9F=not O6
endif
loop
if(Z17(TJ7(D8F,D9F))and M7[GetPlayerId(TJ7(D8F,D9F))]==null)then
exitwhen true
endif
set D8F=D8F+1
exitwhen(D8F>5)
endloop
if((D8F<=5)and(TM7(O6)==null))then
if((M7[GetPlayerId(TK7(O6))]==null)and(not oo[GetPlayerId(TK7(O6))]))then
if(O6)then
set QV4=TJ7(D8F,D9F)
else
set QW4=TJ7(D8F,D9F)
endif
if(not P4)then
call SetUnitOwner(h4[512+GetPlayerId(TK7(O6))],TM7(O6),false)
call SetUnitOwner(h4[512+GetPlayerId(TM7(O6))],TK7(O6),false)
if VH=="-pe" then
set nc=CreateUnitAtLoc(TK7(O6),1848651843,GetRectCenter(pr),0)
set Vc=CreateUnitAtLoc(TK7(O6),1848651843,GetRectCenter(qr),0)
if not P4 then
call AB7(GetTriggerPlayer())
endif
endif
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Pick a hero for "+Q[GetPlayerId(TM7(O6))]+GetPlayerName(TM7(O6))+"|r. Type "+F07+"-px|r to cancel.")
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"You should pick heroes for the AI before choosing your own hero. Randomized instead.")
call LLE(GetPlayerId(TJ7(D8F,D9F)),0)
endif
elseif(TM7(O6)!=null)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"Already picking for "+Q[GetPlayerId(TM7(O6))]+GetPlayerName(TM7(O6))+"|r")
endif
elseif(VH=="-px")then
if not P4 then
call AC7(GetTriggerPlayer())
endif
if(TM7(O6)!=null)then
call SetUnitOwner(h4[512+GetPlayerId(TK7(O6))],TK7(O6),false)
call SetUnitOwner(h4[512+GetPlayerId(TM7(O6))],TM7(O6),false)
call RemoveUnit(nc)
call RemoveUnit(Vc)
set nc=null
set Vc=null
if(O6)then
set QV4=null
else
set QW4=null
endif
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"Picking cancelled")
endif
elseif((not P)and((VH=="-pa")or(VH=="-pe")))then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"|c00888888Too early to pick a hero.|r")
endif
endfunction
function DDF takes nothing returns boolean
local integer O5=1
loop
exitwhen O5>5
if(ZL7(Z7[O5])and(M7[GetPlayerId(Z7[O5])]==null))then
return true
elseif(ZL7(A7[O5])and(M7[GetPlayerId(A7[O5])]==null))then
return true
endif
set O5=O5+1
endloop
return false
endfunction
function DEF takes nothing returns nothing
local integer O5=1
local boolean array DFF
local integer i
local integer j
if(Bz<68.)then
if(((W8)or(not Gs))and(Bz>43.))then
elseif(DDF()or Bz<30.)then
return
else
call R47(1.)
endif
endif
call DestroyTrigger(GetTriggeringTrigger())
call DisableTrigger(QA4)
if(QV4!=null)then
call DisplayTimedTextToPlayer(QT4,0,0,5.,"Picking for AI has ended.")
call SetUnitOwner(h4[512+GetPlayerId(QT4)],QT4,false)
call SetUnitOwner(h4[512+GetPlayerId(QV4)],QV4,false)
call RemoveUnit(nc)
call RemoveUnit(Vc)
set nc=null
set Vc=null
set QV4=null
endif
if(QW4!=null)then
call DisplayTimedTextToPlayer(QU4,0,0,5.,"Picking for AI has ended.")
call SetUnitOwner(h4[512+GetPlayerId(QU4)],QU4,false)
call SetUnitOwner(h4[512+GetPlayerId(QW4)],QW4,false)
call RemoveUnit(nc)
call RemoveUnit(Vc)
set nc=null
set Vc=null
set QW4=null
endif
if((E4)or(A8)or(O4)or(H34)or(O04)or(O9)or(RZ4)or(SN4))then
return
endif
set O5=1
loop
exitwhen O5>5
if M7[GetPlayerId(Z7[O5])]!=null then
set DFF[QQ7(GetUnitTypeId(M7[GetPlayerId(Z7[O5])]))]=true
endif
if M7[GetPlayerId(A7[O5])]!=null then
set DFF[6+QQ7(GetUnitTypeId(M7[GetPlayerId(A7[O5])]))]=true
endif
set O5=O5+1
endloop
if HB4<=4 then
set DFF[E_7]=true
endif
if HB4<=3 then
if GetRandomInt(0,2)==0 then
set DFF[F47]=true
else
set DFF[F77]=true
endif
endif
if HB4<=2 then
if DFF[F47]then
set DFF[F77]=true
else
set DFF[F47]=true
endif
endif
if HC4<=4 then
set DFF[6+E_7]=true
endif
if HC4<=3 then
if GetRandomInt(0,2)==0 then
set DFF[6+F47]=true
else
set DFF[6+F77]=true
endif
endif
if HC4<=2 then
if DFF[F47]then
set DFF[6+F77]=true
else
set DFF[6+F47]=true
endif
endif
set O5=1
loop
exitwhen O5>5
if(Z17(Z7[O5])and(M7[GetPlayerId(Z7[O5])]==null))then
set j=0
loop
exitwhen j>5
set i=GetRandomInt(1,5)
if DFF[i]then
set i=0
else
exitwhen true
endif
set j=j+1
endloop
if i==0 then
set i=5
loop
exitwhen(not DFF[i])or i==0
set i=i-1
endloop
endif
call LLE(GetPlayerId(Z7[O5]),i)
if not(i==0 or QS7(GetUnitTypeId(M7[GetPlayerId(Z7[O5])]),i))then
set i=QQ7(GetUnitTypeId(M7[GetPlayerId(Z7[O5])]))
endif
set DFF[i]=true
call TQ7(GetHandleId(Z7[O5]),"AI|Class",i)
call R47(1.0)
endif
if(Z17(A7[O5])and(M7[GetPlayerId(A7[O5])]==null))then
set j=0
loop
exitwhen j>5
set i=GetRandomInt(1,5)
if DFF[6+i]then
set i=0
else
exitwhen true
endif
set j=j+1
endloop
if i==0 then
set i=5
loop
exitwhen(not DFF[6+i])or i==0
set i=i-1
endloop
endif
call LLE(GetPlayerId(A7[O5]),i)
if not(i==0 or QS7(GetUnitTypeId(M7[GetPlayerId(A7[O5])]),i))then
set i=QQ7(GetUnitTypeId(M7[GetPlayerId(A7[O5])]))
endif
set DFF[6+i]=true
call TQ7(GetHandleId(A7[O5]),"AI|Class",i)
call R47(1.0)
endif
set O5=O5+1
endloop
endfunction
function DGF takes unit it,integer DHF returns nothing
call SetPlayerAbilityAvailable(GetOwningPlayer(it),DHF,true)
call SelectHeroSkill(it,DHF)
endfunction
function DIF takes integer i1 returns boolean
return(((i1==1311781174)or(i1==1311781175)or(i1==1311781442)))
endfunction
function DJF takes integer i1 returns boolean
return((i1==1430468406)or(i1==1316252014)or(i1==1429221456)or(i1==1432646245)or((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))or(i1==1215657064)or(i1==1311781207)or(i1==1311780946)or(i1==1315074670)or(i1==1164666213)or(i1==1429221441))
endfunction
function DKF takes nothing returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1=GetUnitTypeId(it)
local integer DMF=0
local integer DNF=0
local integer DOF=0
local integer DPF=0
local integer kt=0
local integer UP
local player DQF=GetOwningPlayer(it)
local integer DRF=0
if(Z84[GetPlayerId(DQF)]==ZD4)then
set DRF=1
elseif(Z84[GetPlayerId(DQF)]==ZE4)then
set DRF=2
elseif(Z84[GetPlayerId(DQF)]==ZF4)then
set DRF=3
endif
loop
call TriggerSleepAction(0.1)
set DOF=GetHeroSkillPoints(it)
exitwhen((DMF>10)or(DOF==0)or(DNF>25)or(not S87(it)))
set kt=GetHeroLevel(it)+1-DOF
if((kt<=14)and(DMF<7))then
set DPF=GetRandomInt(0,2)
else
set DPF=GetRandomInt(0,4)
endif
if(DMF==0)then
set DPF=0
if((kt==6)or(kt==11)or(kt==16))then
set DPF=3
elseif(kt>=15)then
set DPF=4
endif
endif
if(DPF==3)then
if((DJF(i1))and(kt<10))then
set DPF=GetRandomInt(0,1)
elseif((i1==1311781199)and(kt<14))then
set DPF=GetRandomInt(0,2)
endif
elseif(DMF==0)then
if((DJF(i1))and(kt==10))then
set DPF=3
elseif((i1==1311781199)and((kt==14)or(kt==15)))then
set DPF=3
endif
endif
if((DPF==2)and(kt<10))then
set DPF=GetRandomInt(0,1)
endif
if(((i1==1215722344)or(i1==1311781207))and(DMF<2))then
if((kt==2)or(kt==5))then
set DPF=2
elseif(((kt==10)or(kt==12))and(DPF==2))then
set DPF=GetRandomInt(0,1)
endif
elseif(((i1==1430466609)or(i1==1164207469)or(i1==1162032181)or(i1==1429221456)or(i1==1164799603)or(i1==1212365106)or(i1==1311781206)or(i1==1311780930))and(DMF<2))then
if(kt==1)then
set DPF=2
elseif((kt==10)and(DPF==2))then
set DPF=GetRandomInt(0,1)
endif
elseif((i1==1432642913)and(kt==2)and(DMF<3))then
set DPF=2
endif
if((i1==1160786241)and(DMF<3))then
if((kt<=16)and(DPF==2))then
set DPF=4
elseif(((kt==17)or(kt==18)or(kt==19)or(kt==20))and(DPF==4))then
set DPF=2
endif
elseif((i1==1432510828)and(DMF<3))then
if((kt==1)or(kt==4)or(kt==8)or(kt==12))then
set DPF=0
elseif((kt==2)or(kt==5)or(kt==9)or(kt==13))then
set DPF=1
elseif((kt==3)or(kt==7)or(kt==10)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1332179560)and(DMF<3))then
if((kt==1)or(kt==4)or(kt==6)or(kt==17))then
set DPF=2
elseif((kt==9)or(kt==11)or(kt==16))then
set DPF=3
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DPF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=0
else
set DPF=4
endif
elseif((i1==1429221430)and(DMF<3))then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==1)or(kt==10)or(kt==13)or(kt==14))then
set DPF=1
elseif((kt==4)or(kt==8)or(kt==9)or(kt==12))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1211117641)and(DMF<3))then
if((kt==1)or(kt==8)or(kt==10)or(kt==18))then
set DPF=0
elseif((kt==3)or(kt==15)or(kt==19)or(kt==25))then
set DPF=2
elseif((kt==7)or(kt==9)or(kt==12)or(kt==13))then
set DPF=1
elseif((kt<=14)and(DPF!=3))then
set DPF=4
endif
elseif((i1==1214344551)and(DMF<3))then
if((kt==3)or(kt==12)or(kt==13)or(kt==14))then
set DPF=0
elseif((kt==1)or(kt==5)or(kt==8)or(kt==10))then
set DPF=1
elseif((kt==2)or(kt==4)or(kt==7)or(kt==9))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1165451634)and(DMF<3))then
if((kt==1)or(kt==23)or(kt==24)or(kt==25))then
set DPF=0
elseif((kt==2)or(kt==4)or(kt==7)or(kt==8))then
set DPF=1
elseif((kt==13)or(kt==14)or(kt==15)or(kt==17))then
set DPF=2
elseif((kt<=17)and(DPF!=3))then
set DPF=4
endif
elseif((i1==1160785972)and(DMF<3))then
if((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set DPF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DPF=1
elseif((kt==1)or(kt==8)or(kt==9)or(kt==10))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1313026096)and(DMF<3))then
if((kt==12)or(kt==13)or(kt==14)or(kt==15))then
set DPF=1
elseif((kt==17)or(kt==18)or(kt==19)or(kt==20))then
set DPF=2
elseif((kt<=12)and(DPF!=3)and(DPF!=0))then
set DPF=4
endif
elseif((i1==1430468913)and(DMF<3))then
if((kt==10)or(kt==11)or(kt==12)or(kt==13))then
set DPF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DPF=1
elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
endif
elseif((i1==1215657064)and(DMF<3))then
if((kt==2)or(kt==8)or(kt==9)or(kt==25))then
set DPF=1
elseif((kt==4)or(kt==10)or(kt==11)or(kt==12))then
set DPF=2
elseif((kt==6)or(kt==15)or(kt==16))then
set DPF=3
elseif((kt<=20)and(DPF!=0))then
set DPF=4
endif
elseif((i1==1160785973)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=1
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1332766568)and(DMF<3))then
if(DRF==1)then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==21)or(kt==22)or(kt==23)or(kt==24))then
set DPF=1
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif(DRF==2)then
if((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DPF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=1
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif(DRF==3)then
if((kt==2)or(kt==8)or(kt==9)or(kt==12))then
set DPF=0
elseif((kt==3)or(kt==5)or(kt==13)or(kt==14))then
set DPF=1
elseif((kt==1)or(kt==4)or(kt==7)or(kt==10))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
else
if((kt==2)or(kt==8)or(kt==9)or(kt==12))then
set DPF=0
elseif((kt==3)or(kt==5)or(kt==13)or(kt==14))then
set DPF=1
elseif((kt==1)or(kt==4)or(kt==7)or(kt==10))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
endif
elseif((i1==1328558160)and(DMF<3))then
if((kt==1)or(kt==4)or(kt==6)or(kt==8))then
set DPF=0
elseif((kt==10)or(kt==16)or(kt==17)or(kt==18))then
set DPF=1
elseif((kt==12)or(kt==23)or(kt==24)or(kt==25))then
set DPF=2
elseif((kt==11)or(kt==19)or(kt==20))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1214931305)and(DMF<3))then
if((kt==4)or(kt==18)or(kt==19)or(kt==20))then
set DPF=0
elseif((kt==1)or(kt==13)or(kt==14)or(kt==15))then
set DPF=1
elseif((kt==2)or(kt==3)or(kt==6)or(kt==9))then
set DPF=2
elseif((kt==11)or(kt==16)or(kt==17))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1162032439)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==2)or(kt==9)or(kt==12)or(kt==14))then
set DPF=1
elseif((kt==4)or(kt==8)or(kt==10)or(kt==13))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1311781185)and(DMF<3))then
if((kt==1)or(kt==8)or(kt==9)or(kt==14))then
set DPF=0
elseif((kt==4)or(kt==10)or(kt==12)or(kt==13))then
set DPF=1
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1162032181)and(DMF<3))then
if((kt==3)or(kt==5)or(kt==7)or(kt==9))then
set DPF=0
elseif((kt==12)or(kt==13)or(kt==14)or(kt==15))then
set DPF=1
elseif((kt==1)or(kt==17)or(kt==18)or(kt==19))then
set DPF=2
elseif((kt==10)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif(((i1==1311781199)or(i1==1311781171))or((i1==1311781172)or(i1==1311781173))and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==2)or(kt==4)or(kt==8)or(kt==10))then
set DPF=1
elseif((kt==17)or(kt==18)or(kt==19)or(kt==20))then
set DPF=2
elseif((kt==11)or(kt==12)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1215128178)and(DMF<3))then
if((kt==3)or(kt==4)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==2)or(kt==18)or(kt==19)or(kt==20))then
set DPF=1
elseif((kt==8)or(kt==9)or(kt==10)or(kt==17))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))and(DMF<3)then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==1)or(kt==4)or(kt==7)or(kt==11))then
set DPF=1
elseif((kt==4)or(kt==8)or(kt==12)or(kt==13))then
set DPF=2
elseif((kt==6)or(kt==15)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif(((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))and(DMF<3))then
if((kt==4)or(kt==5)or(kt==12)or(kt==13))then
set DPF=0
elseif((kt==1)or(kt==3)or(kt==7)or(kt==9))then
set DPF=1
elseif((kt==17)or(kt==18)or(kt==19)or(kt==20))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1429221446)and(DMF<3))then
if((kt==2)or(kt==4)or(kt==7)or(kt==13))then
set DPF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==12))then
set DPF=1
elseif((kt==8)or(kt==9)or(kt==10)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1211117643)and(DMF<3))then
if((kt==1)or(kt==4)or(kt==7)or(kt==9))then
set DPF=0
elseif((kt==3)or(kt==13)or(kt==15)or(kt==17))then
set DPF=1
elseif((kt==2)or(kt==18)or(kt==20)or(kt==22))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1311787088)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DPF=1
elseif((kt==12)or(kt==17)or(kt==18)or(kt==19))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1211117653)and(DMF<3))then
if((kt==4)or(kt==14)or(kt==15)or(kt==16)or(kt==18)or(kt==20)or(kt==21))then
set DPF=0
elseif((kt==6)or(kt==10)or(kt==19)or(kt==22)or(kt==23)or(kt==24)or(kt==25))then
set DPF=1
elseif((kt==1)or(kt==3)or(kt==5)or(kt==8)or(kt==9)or(kt==11)or(kt==13))then
set DPF=2
elseif((kt==2)or(kt==7)or(kt==12)or(kt==17))then
set DPF=3
endif
elseif(((i1==1211117620)or(i1==1160786505))and(DMF<3))then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))then
set DPF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1211119409)and(DMF<3))then
if((kt==3)or(kt==4)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==1)or(kt==8)or(kt==9)or(kt==10))then
set DPF=1
elseif((kt==2)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1160786502)and(DMF<3))then
if((kt==1)or(kt==8)or(kt==9)or(kt==10))then
set DPF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DPF=1
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif(((i1==1211119187)or(i1==1211117636))and(DMF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DPF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1433105516)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DPF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1211117616)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==8)or(kt==9)or(kt==12)or(kt==14))then
set DPF=1
elseif((kt==2)or(kt==4)or(kt==10)or(kt==13))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1333027688)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set DPF=1
elseif((kt==2)or(kt==8)or(kt==9)or(kt==10))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1214345830)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==4)or(kt==8)or(kt==13)or(kt==14))then
set DPF=1
elseif((kt==2)or(kt==9)or(kt==10)or(kt==12))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1315988077)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==8)or(kt==9)or(kt==10)or(kt==12))then
set DPF=1
elseif((kt==13)or(kt==14)or(kt==15)or(kt==17))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1211117617)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==8)or(kt==9)or(kt==10)or(kt==12))then
set DPF=1
elseif((kt==2)or(kt==13)or(kt==14)or(kt==15))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1432580716)and(DMF<3))then
if((kt==2)or(kt==4)or(kt==6)or(kt==7))then
set DPF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==8))then
set DPF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1328558389)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DPF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1162032951)and(DMF<3))then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))then
set DPF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1211117649)and(DMF<3))then
if((kt==9)or(kt==11)or(kt==12)or(kt==13))then
set DPF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=1
elseif((kt==2)or(kt==4)or(kt==8)or(kt==10))then
set DPF=2
elseif((kt==6)or(kt==15)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1429221445)and(DMF<3))then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==1)or(kt==9)or(kt==10)or(kt==12))then
set DPF=1
elseif((kt==4)or(kt==8)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1315074670)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==8)or(kt==10))then
set DPF=0
elseif((kt==5)or(kt==12)or(kt==13)or(kt==14))then
set DPF=1
elseif((kt==2)or(kt==4)or(kt==7)or(kt==9))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1315007329)and(DMF<3))then
if((kt==2)or(kt==4)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==3)or(kt==8)or(kt==9)or(kt==10))then
set DPF=1
elseif((kt==1)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1433631084)and(DMF<3))then
if((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=0
elseif((kt==2)or(kt==4)or(kt==7)or(kt==9))then
set DPF=1
elseif((kt==1)or(kt==3)or(kt==5)or(kt==8))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1311780946)and(DMF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==10))then
set DPF=0
elseif((kt==1)or(kt==3)or(kt==7)or(kt==9))then
set DPF=1
elseif((kt==5)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1429221441)and(DMF<3))then
if((kt==1)or(kt==4)or(kt==6)or(kt==8))then
set DPF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DPF=1
elseif((kt==12)or(kt==13)or(kt==14)or(kt==15))then
set DPF=2
elseif((kt==10)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1315070563)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==10)or(kt==13)or(kt==15)or(kt==17))then
set DPF=1
elseif((kt==8)or(kt==9)or(kt==12)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1429221451)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==2)or(kt==8)or(kt==9)or(kt==10))then
set DPF=1
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1332963428)and(DMF<3))then
if((kt==4)or(kt==8)or(kt==10)or(kt==13))then
set DPF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=1
elseif((kt==2)or(kt==9)or(kt==12)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1211117646)and(DMF<3))then
if((kt==2)or(kt==6)or(kt==8)or(kt==10))then
set DPF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=1
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1430468406)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=1
elseif((kt==2)or(kt==4)or(kt==6)or(kt==8))then
set DPF=2
elseif((kt==9)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1429221424)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==4)or(kt==8)or(kt==9)or(kt==10))then
set DPF=1
elseif((kt==2)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1215723364)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DPF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1160786242)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==4)or(kt==9)or(kt==12)or(kt==14))then
set DPF=1
elseif((kt==2)or(kt==8)or(kt==10)or(kt==13))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1430466865)and(DMF<3))then
if((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==1)or(kt==8)or(kt==9)or(kt==10))then
set DPF=1
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1430468144)and(DMF<3))then
if((kt==2)or(kt==8)or(kt==9)or(kt==10))then
set DPF=0
elseif((kt==1)or(kt==3)or(kt==4)or(kt==7))then
set DPF=1
elseif((kt==5)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif(((i1==1211117650)or(i1==1211119433))and(DMF<3))then
if((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=0
elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))then
set DPF=1
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((((i1==1311781174)or(i1==1311781175)or(i1==1311781442)))and(DMF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==12))then
set DPF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=1
elseif((kt==9)or(kt==10)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1160786506)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set DPF=1
elseif((kt==2)or(kt==8)or(kt==9)or(kt==10))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1160785970)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=1
elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1429221443)and(DMF<3))then
if((kt==2)or(kt==12)or(kt==13)or(kt==14))then
set DPF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=1
elseif((kt==4)or(kt==8)or(kt==9)or(kt==10))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1328558154)and(DMF<3))then
if((kt==4)or(kt==8)or(kt==9)or(kt==10))then
set DPF=0
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=1
elseif((kt==2)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1164799855)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=0
elseif((kt==9)or(kt==12)or(kt==13)or(kt==14))then
set DPF=1
elseif((kt==2)or(kt==4)or(kt==8)or(kt==10))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1430467634)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==8)or(kt==9))then
set DPF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=1
elseif((kt==2)or(kt==4)or(kt==5)or(kt==7))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1160786520)and(DMF<3))then
if((kt==1)or(kt==4)or(kt==8)or(kt==9))then
set DPF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DPF=1
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif(((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=2
elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))then
set DPF=0
elseif((kt==2)or(kt==8)or(kt==9)or(kt==10))then
set DPF=1
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1212363833)and(DMF<3))then
if((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=1
elseif((kt==2)or(kt==11)or(kt==12)or(kt==13))then
set DPF=0
elseif((kt==4)or(kt==8)or(kt==9)or(kt==10))then
set DPF=2
elseif((kt==6)or(kt==14)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1211117652)and(DMF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DPF=0
elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))then
set DPF=1
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1211117651)and(DMF<3))then
if((kt==3)or(kt==12)or(kt==13)or(kt==14))then
set DPF=0
elseif((kt==1)or(kt==8)or(kt==9)or(kt==10))then
set DPF=1
elseif((kt==2)or(kt==4)or(kt==5)or(kt==7))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1328558390)and(DMF<3))then
if((kt==2)or(kt==5)or(kt==8)or(kt==10))then
set DPF=0
elseif((kt==1)or(kt==4)or(kt==7)or(kt==9))then
set DPF=1
elseif((kt==3)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1160786504)and(DMF<3))then
if((kt==2)or(kt==12)or(kt==13)or(kt==14))then
set DPF=0
elseif((kt==3)or(kt==5)or(kt==8)or(kt==10))then
set DPF=1
elseif((kt==1)or(kt==4)or(kt==7)or(kt==9))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1160786510)and(DMF<3))then
if((kt==2)or(kt==5)or(kt==8)or(kt==10))then
set DPF=0
elseif((kt==1)or(kt==12)or(kt==14)or(kt==17))then
set DPF=1
elseif((kt==3)or(kt==4)or(kt==7)or(kt==9))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1328558406)and(DMF<3))then
if((kt==1)or(kt==19)or(kt==21)or(kt==23))then
set DPF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DPF=1
elseif((kt==9)or(kt==11)or(kt==13)or(kt==16))then
set DPF=2
elseif((kt==6)or(kt==14)or(kt==17))then
set DPF=3
else
set DPF=4
endif
elseif(((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))and(DMF<3))then
if((kt==4)or(kt==8)or(kt==9)or(kt==10))then
set DPF=0
elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))then
set DPF=1
elseif((kt==1)or(kt==12)or(kt==13)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1311788336)and(DMF<3))then
if((kt==2)or(kt==5)or(kt==8)or(kt==12))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
elseif((kt==1)or(kt==4)or(kt==7)or(kt==10))then
set DPF=1
elseif((kt==3)or(kt==9)or(kt==13)or(kt==14))then
set DPF=0
else
set DPF=4
endif
elseif((i1==1160786507)and(DMF<3))then
if((kt==2)or(kt==5)or(kt==8)or(kt==12))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
elseif((kt==1)or(kt==4)or(kt==7)or(kt==10))then
set DPF=1
elseif((kt==3)or(kt==9)or(kt==13)or(kt==14))then
set DPF=0
else
set DPF=4
endif
elseif((i1==1211122767)and(DMF<3))then
if((kt==3)or(kt==7)or(kt==10)or(kt==14))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
elseif((kt==2)or(kt==5)or(kt==9)or(kt==13))then
set DPF=1
elseif((kt==1)or(kt==4)or(kt==8)or(kt==12))then
set DPF=0
else
set DPF=4
endif
elseif((i1==1160786738)and(DMF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==10))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
elseif((kt==3)or(kt==12)or(kt==13)or(kt==14))then
set DPF=1
elseif((kt==1)or(kt==5)or(kt==7)or(kt==9))then
set DPF=0
else
set DPF=4
endif
elseif((i1==1211117624)and(DMF<3))then
if((kt==2)or(kt==9)or(kt==10)or(kt==12))then
set DPF=0
elseif((kt==1)or(kt==4)or(kt==13)or(kt==14))then
set DPF=1
elseif((kt==3)or(kt==5)or(kt==7)or(kt==8))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
elseif((i1==1164666213)and(DMF<3))then
if((kt==2)or(kt==4)or(kt==8)or(kt==9))then
set DPF=0
elseif((kt==10)or(kt==11)or(kt==12)or(kt==13))then
set DPF=1
elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))then
set DPF=2
elseif((kt==6)or(kt==11)or(kt==16))then
set DPF=3
else
set DPF=4
endif
endif
if(i1==1430468406)then
if(DPF==0)then
call DGF(it,kT(it))
elseif(DPF==1)then
call SelectHeroSkill(it,1093677635)
elseif(DPF==2)then
call DGF(it,kS(it))
elseif(DPF==3)then
call DGF(it,WJ7(it))
endif
elseif(i1==1215130471)then
if(DPF==0)then
call DGF(it,WK7(it))
elseif(DPF==1)then
call DGF(it,WM7(it))
elseif(DPF==2)then
call DGF(it,WN7(it))
elseif(DPF==3)then
call SelectHeroSkill(it,1093679160)
endif
else
if(DPF==0)then
call DGF(it,eY[128+O5])
if(i1==1315007329)then
set UP=GetUnitAbilityLevel(it,1093677108)
if(UP<=2)then
set hq[272+O5]=I2R(75*UP)
else
set hq[272+O5]=I2R(15+(57*UP))
endif
endif
elseif(DPF==1)then
if(i1==1315334514)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093682760,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093682736,true)
endif
call DGF(it,eY[144+O5])
if(i1==1214344551)then
set UP=GetUnitAbilityLevel(it,1093748535)
if(UP==1)then
set hq[272+O5]=85.
elseif(UP==2)then
set hq[272+O5]=70.
elseif(UP==3)then
set hq[272+O5]=55.
else
set hq[272+O5]=40.
endif
endif
elseif(DPF==2)then
if((i1==1311781199)or(i1==1311781171))or((i1==1311781172)or(i1==1311781173))then
call SelectHeroSkill(it,1093748039)
call SelectHeroSkill(it,1093748041)
call SelectHeroSkill(it,1093748040)
call SelectHeroSkill(it,1093748037)
call SelectHeroSkill(it,1093748038)
elseif(DIF(i1))then
call SelectHeroSkill(it,1096904043)
else
call DGF(it,eY[160+O5])
endif
elseif(DPF==3)then
call DGF(it,eY[172+O5])
if(eY[188+O5]!=0)then
call DGF(it,eY[188+O5])
endif
if(i1==1214931305)then
set UP=GetUnitAbilityLevel(it,1093677906)
if(UP==0)then
set UP=GetUnitAbilityLevel(it,1093681494)
endif
if(UP<=2)then
set hq[272+O5]=I2R(200+(100*UP))
else
set hq[272+O5]=600.
endif
elseif(i1==1332963428)then
set hq[272+O5]=I2R(85+(GetUnitAbilityLevel(it,1093677649)*135))
elseif(i1==1332898670)then
set UP=GetUnitAbilityLevel(it,1093677128)
if(UP==0)then
set UP=GetUnitAbilityLevel(it,1093681457)
endif
if(UP<=2)then
set hq[272+O5]=I2R(50+(150*UP))
else
set hq[272+O5]=610.
endif
elseif(i1==1162032951)then
set UP=GetUnitAbilityLevel(it,1093679152)
if(UP==0)then
set UP=GetUnitAbilityLevel(it,1093752154)
set hq[272+O5]=125.
else
if(UP<=2)then
set hq[272+O5]=I2R(105+(30*UP))
else
set hq[272+O5]=250.
endif
endif
elseif(i1==1328558154)then
set UP=GetUnitAbilityLevel(it,1093682996)
if(UP>0)then
if(UP==1)then
set TC4[64+O5]=400.
elseif(UP==2)then
set TC4[64+O5]=550.
else
set TC4[64+O5]=700.
endif
else
set UP=GetUnitAbilityLevel(it,1093747768)
if(UP>0)then
if(UP==1)then
set TC4[64+O5]=550.
elseif(UP==2)then
set TC4[64+O5]=700.
else
set TC4[64+O5]=850.
endif
endif
endif
endif
endif
endif
if(DPF==4)then
if((i1==1315334514)or(i1==1328558160)or(i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173)or((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))or(i1==1211117643)or(i1==1160786502)or(i1==1328558406)or(i1==1160786520)or(i1==1211122243)or(i1==1211119191)or(i1==1211119192)or(i1==1211119193)or(i1==1328558390)or(i1==1328558391)or(i1==1430468144)or(i1==1430467634)or(i1==1328558160)or(i1==1211117650)or(i1==1211119433))then
call SelectHeroSkill(it,1093684818)
elseif((DIF(i1))and(kt>21))then
call DGF(it,eY[160+O5])
call SelectHeroSkill(it,1096904043)
else
call SelectHeroSkill(it,1096904043)
endif
endif
set DMF=DMF+1
set DNF=DNF+1
if(DOF!=GetHeroSkillPoints(it))then
set DMF=0
endif
endloop
if(i1==1430468406)then
set eY[336+O5]=kT(it)
set eY[368+O5]=kS(it)
set eY[172+O5]=WJ7(it)
elseif(i1==1215130471)then
set eY[336+O5]=WK7(it)
set eY[352+O5]=WM7(it)
set eY[368+O5]=WN7(it)
endif
set it=null
set DQF=null
endfunction
function DSF takes unit it returns integer
local integer i1=GetUnitTypeId(it)
if((i1==1214344551)or(i1==1429221430)or(SR7(it,1952936552))or(SR7(it,1227894833))or(SR7(it,1868983399)))then
return 2
elseif((i1==1215722344)or(i1==1315007329)or(i1==1430468913)or(i1==1311781185))then
return 1
endif
return 0
endfunction
function DTF takes unit it returns boolean
local integer O5=1
local integer UP
local integer DUF=0
local boolean J4=false
local boolean DVF=false
local integer Iz
loop
if(IsUnitAlly(it,Z7[0]))then
set UP=GetPlayerId(Z7[O5])
else
set UP=GetPlayerId(A7[O5])
endif
if((IsPlayerInForce(Player(UP),QX4))and(M7[UP]!=null))then
set Iz=DSF(M7[UP])
if(Iz==2)then
set DUF=DUF+1
set J4=true
elseif(Iz==1)then
set DUF=DUF+1
endif
set DVF=(DVF)or((Iz==0)and(SR7(M7[UP],1953265005))and(not SS7(M7[UP])))
endif
set O5=O5+1
exitwhen O5>5
endloop
if((DVF)and(not SR7(M7[UP],1953265005)))then
return false
endif
if(TH7(IsUnitAlly(it,Z7[0]))==1)then
return((DUF==0)and(UP7(R44,VY7(it)+"|G")))
else
return(((not J4)and(UP7(R44,VY7(it)+"|G")))or(DUF<R2I(TH7(IsUnitAlly(it,Z7[0]))/2)))
endif
endfunction
function DWF takes unit u returns boolean
local integer id=GetUnitTypeId(u)
return id==1164277353 or id==1164277357 or id==1160786518 or id==1160786519 or id==1160786517
endfunction
function DXF takes unit CC7,item JM8 returns nothing
local unit u=CC7
local integer HY8=GetUnitTypeId(u)
local integer EI9=RZ7(JM8)
if IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER)==true or IsUnitType(u,UNIT_TYPE_HERO)==false then
if EI9==X2 then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[W2])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==GB then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[BA])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==HZ then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[EZ])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==DX4 then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[DW4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==D94 then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[D84])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==F44 then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[E_4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==B0 then
if DWF(u)==false then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[Y0])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
elseif EI9==Y0 then
if DWF(u)==true then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[B0])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
elseif EI9==RB then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[QB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
else
if EI9==W2 then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[X2])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==BA then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[GB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==EZ then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[HZ])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==DW4 then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[DX4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==D84 then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[D94])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==E_4 then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[F44])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==Y0 then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[B0])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==QB then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[RB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
endif
set u=null
endfunction
function DYF takes unit CC7,item JM8 returns nothing
local unit u=CC7
local integer HY8=GetUnitTypeId(u)
local integer EI9=RZ7(JM8)
if IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER)==false or IsUnitType(u,UNIT_TYPE_HERO)==false then
if EI9==X2 then
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=UnitAddItemById(u,ZU[W2])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==GB then
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=UnitAddItemById(u,ZU[BA])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==HZ then
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=UnitAddItemById(u,ZU[EZ])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==DX4 then
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=UnitAddItemById(u,ZU[DW4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==D94 then
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=UnitAddItemById(u,ZU[D84])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==F44 then
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=UnitAddItemById(u,ZU[E_4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==B0 then
if DWF(u)==false then
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=UnitAddItemById(u,ZU[Y0])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
elseif EI9==RB then
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=UnitAddItemById(u,ZU[QB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
else
if EI9==W2 then
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=UnitAddItemById(u,ZU[X2])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==BA then
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=UnitAddItemById(u,ZU[GB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==EZ then
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=UnitAddItemById(u,ZU[HZ])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==DW4 then
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=UnitAddItemById(u,ZU[DX4])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==D84 then
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=UnitAddItemById(u,ZU[D94])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==E_4 then
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=UnitAddItemById(u,ZU[F44])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==Y0 then
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=UnitAddItemById(u,ZU[B0])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif EI9==QB then
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=UnitAddItemById(u,ZU[RB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
endif
set u=null
endfunction
function DZF takes unit CC7 returns nothing
local integer i=0
local item JM8
call DisableTrigger(H94)
loop
exitwhen i>5
set JM8=UnitItemInSlot(CC7,i)
if JM8!=null then
call DYF(CC7,JM8)
endif
set i=i+1
endloop
call EnableTrigger(H94)
set JM8=null
endfunction
function DAF takes unit S4 returns integer
local integer i=0
local integer n=0
local integer HQ8=UnitInventorySize(S4)-1
loop
exitwhen i>HQ8
if UnitItemInSlot(S4,i)==null then
set n=n+1
endif
set i=i+1
endloop
return n
endfunction
function DBF takes integer i1 returns boolean
return((i1==EW or i1==HW)or i1==GY or i1==ZY or i1==ZX or i1==RZ or i1==Y3 or(i1>=XZ and i1<=YA)or(i1==B5 or i1==C5))
endfunction
function DCF takes integer EI9 returns boolean
return EI9==QC or EI9==TC or EI9==WC or EI9==YC
endfunction
function D3F takes integer i1 returns boolean
return((i1==UY)or(i1==MV)or(i1==OV)or(i1==HY)or(i1==BA)or(i1==JV)or(i1==SV)or(i1==YX)or(i1==JB)or(i1==RW)or(i1==NZ)or(i1==UV))or((i1==XC or i1==YC)or(i1==ZA)or(i1==ZY)or(i1==EZ or i1==HZ)or(i1==GY)or(i1==ZX)or(i1==RX)or(i1==NW)or(i1==VW)or(i1==CV)or(i1==FV)or(i1==E_4))
endfunction
function D6F takes integer O5,unit it returns boolean
local integer i=0
local integer i1=0
loop
exitwhen i>5
set i1=GetItemTypeId(UnitItemInSlot(it,i))
if i1==0 then
elseif(i1==ZU[CC])or(i1==ZU[WC])or(i1==ZU[EW])or(i1==ZU[HW])then
return true
elseif(i1==BU[CC])or(i1==BU[WC])or(i1==BU[EW])or(i1==BU[HW])then
return true
endif
set i1=GetItemTypeId(UnitItemInSlot(KU4[32+O5],i))
if i1==0 then
elseif(i1==ZU[CC])or(i1==ZU[WC])or(i1==ZU[EW])or(i1==ZU[HW])then
return true
elseif(i1==BU[CC])or(i1==BU[WC])or(i1==BU[EW])or(i1==BU[HW])then
return true
endif
set i=i+1
endloop
return false
endfunction
function DLF takes integer O5,unit it,item RA7,integer i1,boolean D1F returns integer
set bj_forLoopAIndex=UN7(1128887405,"Prio|"+I2S(GetHandleId(M7[O5]))+I2S(i1))
if bj_forLoopAIndex!=0 then
return bj_forLoopAIndex
endif
if(i1==X0)or(i1==B5 or i1==C5)or(CU[i1]==CU[FR4])then
return 101
elseif(RA7!=null)and(GetItemPlayer(RA7)!=Player(O5))and(i1!=K17[O5]and i1!=K17[16+O5])and(D1F or(EJ9(i1)==false and DBF(i1)==false))then
return-1
elseif(not D1F)and(i1==K17[O5]or i1==K17[16+O5])and(IsUnitType(it,UNIT_TYPE_HERO))then
if(i1==OC)and(GetUnitState(it,UNIT_STATE_MAX_MANA)>500)then
return-1
elseif((i1==QC)or(i1==TC))and(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1000)then
return-1
endif
return 97
elseif(i1==N3)or(i1==WL or i1==ZL)or(i1==AL)or(i1==LL or i1==DE4)or(i1>=D1 and i1<=H1)or(i1==P1)or(i1==T2)or(i1==Q1)or(i1==R1)or(i1==U1)or(i1==V1)or(i1==X1)or(i1>=D0 and i1<=R0)or(i1==Y0 or i1==B0)or(i1==C0)or(i1>=F5 and i1<=N5)or(i1==R5 or i1==S5 or i1==T5)or(i1==W5 or i1==A5)or(i1==L5)or(i1==E2 or i1==F2)or(i1==H2 or i1==P2)or(i1==R2 or i1==S2)or(i1==W2 or i1==X2)or(i1==Z2)or(i1==D44)or(i1==D74)or(i1==DG4)or(i1==DH4)or(i1==DI4)or(i1==DJ4)or(i1==DK4 or i1==DM4 or i1==DN4 or i1==DO4)or(i1==DP4 or i1==DQ4)or(i1==DR4)or(i1==DU4)or(i1==DV4)or(i1==DA4)or(i1==E24)or(i1==FC)or(i1==R3)or(i1==U3)then
return 100
elseif(i1==RW or i1==TW)or(i1==A1)or(i1==J1 or i1==O1)then
return 99
elseif(i1==F6 or i1==G6 or i1==H6 or i1==N6 or i1==DS4 or i1==LB or i1==EC or i1==F74)then
if KL7[304+O5]!=null and GetWidgetLife(KL7[304+O5])>0 and K07[304+O5]!=i1 and IsUnitType(it,UNIT_TYPE_HERO)then
return-1
else
return 100
endif
elseif(i1==FV)then
if KL7[304+O5]!=null and K07[304+O5]!=i1 and IsUnitType(it,UNIT_TYPE_HERO)then
return-1
else
return 99
endif
elseif(i1==XC or i1==YC)then
if D1F or K57[64+O5]then
return 1
else
return 98
endif
elseif(i1==S6 or i1==V6)then
return 98
elseif(i1==D84 or i1==D94)then
return 23
elseif(i1==EW or i1==HW)then
if D1F then
return 2
else
return 22
endif
elseif(i1==VC)or(i1==WC)or(i1==CC)or(i1==H3)then
if D1F then
return 1
else
return 15
endif
elseif(i1==SY)then
return 21
elseif(i1==BV)or(i1==YW)or(i1==GX)then
return 20
elseif(i1==Y3)then
return 19
elseif(i1==T1)or(i1==DY4 or i1==DZ4)then
return 18
elseif(i1==OL or i1==RL)then
return 17
elseif(i1==AV)or(i1==OW)or(i1==NZ)then
return 16
elseif(i1==VB or i1==WB)then
return 15
elseif(i1==RX)then
if(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1500.)then
return 10
else
return 15
endif
elseif(i1>=XZ and i1<=JA)then
return 14
elseif(i1==M3)then
return 13
elseif(i1==ZW)or(i1==UZ)or(i1==JB)or(i1==W6)then
return 12
elseif(i1==XV)or(i1==SX)then
return 11
elseif(i1==TV)or(i1==WX)then
return 10
elseif(i1==CV)or(i1==OZ)or(i1==ZX)or(i1==RZ)then
return 9
elseif(i1==ZA)or(i1==DT4)or(i1==E54)then
if(GetUnitState(it,UNIT_STATE_MAX_MANA)>500.)then
return 8
else
return 12
endif
elseif(i1==QV)or(i1==NX)or(i1==DZ)or(i1==NW)or(i1==VW)or(i1==YX)or(i1==JC or i1==NC)then
return 9
elseif(i1==BA)or(i1==C3 or i1==E6)or(i1==DW4 or i1==DX4)then
return 8
elseif(i1==E_4 or i1==F44)then
return 7
elseif(i1==A6 or i1==DL or i1==HL)then
return 6
elseif(i1==Z3)or(i1==B3)then
return 5
elseif(i1==JV)or(i1==MV)or(i1==OV)or(i1==HY)or(i1==SV)or(i1==UV)then
return 4
elseif(i1==GB)or(i1==GY)or(i1==ZY)or(i1==EZ or i1==HZ)then
return 3
elseif(i1==NV)or(i1==LV)or(i1==UW)or(i1==UY)or(i1==AX)then
return 2
elseif(i1==OC)or(i1==QC)or(i1==TC)or(i1==ZC)or(i1==AC)or(i1==DF4)then
return 1
elseif(i1==QW)then
return 0
elseif(i1>=DB4 and i1<=FG4)then
return-1
elseif(i1==QB or i1==RB)or(i1==PC)or(i1==BC)or(i1==LC)or(i1==DD4)then
return-1
endif
return-1
endfunction
function D0F takes integer O5,unit it,boolean D5F returns integer
local integer i=0
local integer j=0
local item RA7=null
loop
exitwhen i>5
set RA7=UnitItemInSlot(it,i)
if RA7==null then
set j=j+1
elseif D5F then
if(DLF(O5,it,RA7,RY7(RA7),false)<99)then
set j=j+1
endif
endif
set i=i+1
endloop
set RA7=null
return j
endfunction
function D2F takes integer O5,unit it,item RA7,integer i1 returns boolean
if(IsItemPowerup(RA7))then
if i1==0 then
set i1=RY7(RA7)
endif
set bj_lastCreatedItem=CreateItem(ZU[i1],GetUnitX(it),GetUnitY(it))
call SetItemVisible(bj_lastCreatedItem,MG7)
call SetItemPlayer(bj_lastCreatedItem,Player(O5),false)
call SetItemCharges(bj_lastCreatedItem,GetItemCharges(RA7))
call RemoveItem(RA7)
set RA7=bj_lastCreatedItem
endif
set EM7=UnitAddItem(it,RA7)
return EM7
endfunction
function D_F takes nothing returns nothing
local item W38=GetEnumItem()
local unit u=OI4
local player p=GetOwningPlayer(u)
local integer id=GetPlayerId(p)
if GetWidgetLife(W38)>0 and GetItemPlayer(W38)==p then
call SetItemPosition(W38,KV4[id],KW4[id])
call SetItemVisible(W38,MG7)
call D2F(id,KU4[id],W38,0)
endif
set W38=null
set u=null
set p=null
endfunction
function E4F takes nothing returns boolean
return RU7(GetFilterUnit())or RV7(GetFilterUnit())
endfunction
function E7F takes integer O5 returns nothing
local integer i=0
local unit u=null
local item RA7=null
call GroupEnumUnitsInRange(H8,GetUnitX(KU4[32+O5]),GetUnitY(KU4[32+O5]),1300,Condition(function E4F))
loop
set u=FirstOfGroup(H8)
exitwhen u==null
call GroupRemoveUnit(H8,u)
set i=0
loop
exitwhen i>5
set RA7=UnitItemInSlot(u,i)
if RA7!=null and GetItemPlayer(RA7)==Player(O5)then
call UnitRemoveItem(u,RA7)
call SetItemPosition(RA7,KV4[O5],KW4[O5])
if not UnitAddItem(KU4[32+O5],RA7)then
call SetItemVisible(RA7,MG7)
endif
endif
set i=i+1
endloop
endloop
set OI4=KU4[32+O5]
if IsPlayerAlly(Player(O5),Z7[0])then
call EnumItemsInRect(OD,Condition(function ZV7),function D_F)
else
call EnumItemsInRect(PD,Condition(function ZV7),function D_F)
endif
set u=null
set RA7=null
endfunction
function E8F takes integer O5,integer j returns nothing
local integer i
set i=0
loop
exitwhen i>23
if KL7[O5*24+i]!=null then
call SetItemUserData(KL7[O5*24+i],j)
endif
set i=i+1
endloop
endfunction
function E9F takes nothing returns nothing
local integer i
local integer j
local integer i1
local unit it=MK7
local integer O5=MM7
if it==null then
set it=M7[O5]
endif
set i=12
set j=D0F(O5,KU4[32+O5],false)
set eY[512+O5]=1
loop
exitwhen(i>=K17[128+O5])or(j<=0)
if(KL7[O5*24+i]!=null)then
if(GetWidgetLife(KL7[O5*24+i])>0)and(not IsItemOwned(KL7[O5*24+i]))then
call D2F(O5,KU4[32+O5],KL7[O5*24+i],K07[O5*24+i])
set j=j-1
endif
set KL7[O5*24+i]=null
endif
set i=i+1
endloop
set i=0
loop
exitwhen i>5
set KL7[O5*24+i]=UnitItemInSlot(it,i)
set K07[O5*24+i]=RY7(KL7[O5*24+i])
if(KL7[304+O5]==null or GetWidgetLife(KL7[304+O5])<=0 or K07[O5*24+i]==F6)and(K07[O5*24+i]==FV or K07[O5*24+i]==G6 or K07[O5*24+i]==H6 or K07[O5*24+i]==N6 or K07[O5*24+i]==DS4 or K07[O5*24+i]==LB or K07[O5*24+i]==EC or K07[O5*24+i]==F74 or K07[O5*24+i]==F6)and(IsUnitType(it,UNIT_TYPE_HERO))then
set KL7[304+O5]=KL7[O5*24+i]
set K07[304+O5]=K07[O5*24+i]
endif
set KL7[O5*24+6+i]=UnitItemInSlot(KU4[32+O5],i)
set K07[O5*24+6+i]=RY7(KL7[O5*24+6+i])
set i=i+1
endloop
set i=12
set j=12
loop
exitwhen i>23
if KL7[O5*24+i]!=null then
if i!=j then
set KL7[O5*24+j]=KL7[O5*24+i]
set K07[O5*24+j]=K07[O5*24+i]
set KL7[O5*24+i]=null
endif
set j=j+1
endif
set i=i+1
endloop
if j<12 then
set K17[128+O5]=12
else
set K17[128+O5]=j
endif
set it=null
endfunction
function EDF takes integer O5,unit it returns nothing
set MK7=it
set MM7=O5
call ExecuteFunc("E9F")
endfunction
function EEF takes integer O5 returns integer
local integer i=0
local integer j=6
call EDF(O5,M7[O5])
loop
exitwhen(i>=K17[128+O5])
if(KL7[O5*24+i]!=null)and(GetWidgetLife(KL7[O5*24+i])>0)and(DLF(O5,M7[O5],KL7[O5*24+i],K07[O5*24+i],false)>=99)then
set j=j-1
endif
set i=i+1
endloop
return j
endfunction
function EFF takes unit it,integer i1 returns boolean
return((i1==LL or i1==DE4)or(i1>=D1 and i1<=H1)or(i1==J1 or i1==O1)or(i1==P1)or(i1==T2)or(i1==V1)or((i1==W2 or i1==X2)and IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER))or(i1==BA or i1==GB))
endfunction
function EGF takes unit it,integer i1 returns boolean
return((i1>=D1 and i1<=H1)or(i1==V1)or(i1==W2 or i1==X2)or(i1==E_4 or i1==F44))
endfunction
function EHF takes integer O5,unit it,integer i1 returns boolean
local boolean EIF=EFF(it,i1)
local boolean EJF=EGF(it,i1)
local integer i=GetUnitTypeId(it)
if(i==1162032951)or(i==1160785972)or(i==1429221456)or(i==1315074670)or(i==1164799855)or(i==1311781185)or(i==1211117649)or(i==1429221430 or i==1429221451 or i==1215657064)then
return(not(EIF or EJF))
elseif(i==1164207469 or i==1432510828)then
return(not(EIF))
elseif(i==1432642913 or i==1211117641)then
return(not(EJF))
elseif(K57[16+O5]and EIF)then
return false
elseif(K57[32+O5]and EJF)then
return false
elseif(i1==RW or i1==TW)and(i==1215723364 or i==1429221446)then
return false
elseif(i1==BA or i1==GB)and(i==1211119187)then
return false
elseif EIF and UP7(1128887405,"Orb|"+I2S(GetHandleId(it)))then
return false
elseif EJF and UP7(1128887405,"Buff|"+I2S(GetHandleId(it)))then
return false
endif
return true
endfunction
function EKF takes integer i1 returns boolean
return((i1==N3)or(i1==R5 or i1==S5 or i1==T5)or(i1==H2 or i1==P2)or(i1==DG4)or(i1==DH4)or(i1==DP4 or i1==DQ4)or(i1==DV4)or(i1==T1)or(i1==DY4 or i1==DZ4))
endfunction
function EMF takes integer i1 returns boolean
return((i1==X1))
endfunction
function ENF takes integer O5,integer i1 returns boolean
if(i1==D84 or i1==D94)then
return true
elseif(i1==VC)or(i1==WC)or(i1==EW or i1==HW)or(i1==XC or i1==YC)or(i1==CC)or(i1==H3)or(i1==OC)or(i1==QC)or(i1==TC)or(i1==ZC)or(i1==AC)or(i1==DF4)then
if(i1==K17[O5]or i1==K17[16+O5])then
else
return true
endif
elseif(i1==S6 or i1==V6)or(i1==T1)or(i1==DY4 or i1==DZ4)then
return true
elseif(i1==VB or i1==WB)then
return true
elseif(i1>=XZ and i1<=JA)then
return true
elseif(i1==M3)then
return true
elseif(i1==ZA)or(i1==DT4)or(i1==E54)then
return true
elseif(i1==BA or i1==GB)or(i1==DW4 or i1==DX4)then
return true
elseif(i1==A6 or i1==DL or i1==HL)then
return true
endif
return false
endfunction
function EOF takes unit it,boolean EPF returns unit
local integer O5=GetPlayerId(GetOwningPlayer(it))
local unit u
if(not K57[112+O5])then
return null
endif
set u=U87(GetHandleId(Player(O5)),"MyBear")
if EPF then
if(u==null or GetUnitState(u,UNIT_STATE_LIFE)<=0)then
call SelectHeroSkill(it,1093681461)
call R47(0.1)
if IssueImmediateOrderById(it,852594)then
call R47(1.)
set u=U87(GetHandleId(Player(O5)),"MyBear")
endif
elseif GetUnitTypeId(u)!=1848651828 then
call SetUnitX(u,GetUnitX(it))
call SetUnitY(u,GetUnitY(it))
endif
call IssueTargetOrderById(u,851986,it)
endif
if(u==null or GetUnitState(u,UNIT_STATE_LIFE)<=0)then
set u=U87(GetHandleId(Player(O5)),"BearItemHolder")
if u==null then
if ZC7(GetOwningPlayer(it))then
set u=CreateUnit(Player(O5),1697657158,-6390,-5615,0)
else
set u=CreateUnit(Player(O5),1697657158,5875,5000,0)
endif
call TU7(GetHandleId(Player(O5)),"BearItemHolder",u)
endif
endif
set bj_lastReplacedUnit=u
set u=null
return bj_lastReplacedUnit
endfunction
function EQF takes integer O5,unit it,boolean ERF returns unit
local unit PF7
local unit u
if(not K57[112+O5])then
return null
endif
set PF7=U87(GetHandleId(Player(O5)),"aiBearDummy")
if(PF7==null)then
if ZC7(GetOwningPlayer(it))then
set PF7=CreateUnit(Player(O5),1697657158,-6390,-5615,0)
else
set PF7=CreateUnit(Player(O5),1697657158,5875,5000,0)
endif
call TU7(GetHandleId(Player(O5)),"aiBearDummy",PF7)
call ShowUnit(PF7,true)
endif
if not(K57[48+O5])then
set u=EOF(it,ERF)
if not(u==null or GetUnitState(u,UNIT_STATE_LIFE)<=0)then
call SetUnitPosition(PF7,GetUnitX(u),GetUnitY(u))
endif
endif
set bj_lastReplacedUnit=PF7
set u=null
set PF7=null
return bj_lastReplacedUnit
endfunction
function ESF takes integer O5,unit it returns nothing
local unit u=EOF(it,false)
local item RA7
local integer i=0
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>0 then
loop
exitwhen i>5
set bj_lastCreatedItem=UnitItemInSlot(it,i)
if bj_lastCreatedItem!=null then
set RA7=UnitItemInSlot(u,i)
if RA7==null or GetItemTypeId(bj_lastCreatedItem)!=GetItemTypeId(RA7)then
call RemoveItem(RA7)
set RA7=CreateItem(GetItemTypeId(bj_lastCreatedItem),GetUnitX(u),GetUnitY(u))
call SetItemVisible(RA7,MG7)
call SetItemPlayer(RA7,Player(O5),false)
call SetItemCharges(RA7,GetItemCharges(bj_lastCreatedItem))
call SetItemUserData(RA7,0)
call UnitAddItem(u,RA7)
endif
else
call RemoveItem(UnitItemInSlot(u,i))
endif
set i=i+1
endloop
endif
set u=null
set RA7=null
endfunction
function ETF takes integer O5,unit it returns nothing
local unit u
local integer i=0
if(not K57[192+O5])or(K57[48+O5])then
return
endif
if(it!=null)then
if GetUnitTypeId(it)==1697657158 then
set u=U87(GetHandleId(Player(O5)),"MyBear")
if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>0 then
call SetUnitPosition(it,GetUnitX(u),GetUnitY(u))
endif
endif
else
set u=U87(GetHandleId(Player(O5)),"aiBearDummy")
if ZC7(Player(O5))then
call SetUnitPosition(u,-6390,-5615)
else
call SetUnitPosition(u,5875,5000)
endif
call ESF(O5,u)
endif
set u=null
endfunction
function EUF takes integer O5,boolean EVF,boolean EWF returns integer
local integer i=999
local integer EXF=5
local integer j=0
local integer QB7=0
local integer EYF=0
local integer i1
if not EVF then
set EXF=23
endif
loop
exitwhen(j>EXF)
if(KL7[O5*24+j]!=null)then
if(K07[O5*24+j]==DT4 and K17[144+O5]!=M97)then
else
set EYF=DLF(O5,M7[O5],KL7[O5*24+j],K07[O5*24+j],false)
if(EYF<=i)and(EYF!=-1)and(EYF<99)and(not UP7(1128887405,"NoSell|"+I2S(GetHandleId(M7[O5]))+I2S(K07[O5*24+j])))and(LoadInteger(ED7,K17[224+O5],GetHandleId(KL7[O5*24+j]))==0)and(not LoadBoolean(ED7,K17[256+O5],GetHandleId(KL7[O5*24+j])))then
set i=EYF
set QB7=j
endif
endif
endif
set j=j+1
endloop
if i<99 and((not EWF)or(ENF(O5,K07[O5*24+QB7])))then
return QB7
endif
return-1
endfunction
function EZF takes integer O5,boolean EAF returns integer
local integer i=0
local integer j=0
local integer k=0
local item RA7=null
loop
exitwhen i>23
set RA7=KL7[O5*24+i]
set k=K07[O5*24+i]
if RA7==null or(GetWidgetLife(RA7)<=0)then
set RA7=null
set k=0
if i<=5 then
set RA7=UnitItemInSlot(M7[O5],i)
elseif i<=11 then
set RA7=UnitItemInSlot(KU4[32+O5],i-6)
endif
endif
if(RA7!=null)and(EAF or(not EJ9(k)))and(LoadInteger(ED7,K17[224+O5],GetHandleId(KL7[O5*24+i]))==0)and(not LoadBoolean(ED7,K17[256+O5],GetHandleId(KL7[O5*24+i])))then
set j=j+1
endif
set i=i+1
endloop
set RA7=null
return j
endfunction
function EBF takes integer O5,unit it returns integer
local integer i=0
local integer EXF=0
local integer j=0
local integer QB7=999
local item RA7
loop
exitwhen i>5
set RA7=UnitItemInSlot(it,i)
if RA7!=null then
set j=DLF(O5,null,null,RY7(RA7),false)
if j<99 and j<QB7 then
set QB7=j
set EXF=i
endif
else
set bj_lastCreatedItem=null
set bj_forLoopBIndexEnd=-2
set RA7=null
return i
endif
set i=i+1
endloop
set RA7=null
if QB7<999 then
set bj_lastCreatedItem=UnitItemInSlot(it,EXF)
set bj_forLoopBIndexEnd=QB7
return EXF
endif
return-1
endfunction
function ECF takes integer O5,unit it returns boolean
local boolean SA7=false
local boolean J4
set bj_lastCreatedItem=null
if(K17[O5]!=0)and(DLF(O5,it,null,K17[O5],true)>DLF(O5,it,null,K17[16+O5],true))then
return SR7(it,ZU[K17[O5]])
elseif(K17[16+O5]!=0)then
return SR7(it,ZU[K17[16+O5]])
endif
return false
endfunction
function E3F takes integer O5,unit it,integer i1,item RA7,boolean E6F,boolean ELF,boolean E1F returns integer
local integer i
local integer EXF=DLF(O5,it,RA7,i1,false)
local integer j=0
local integer QB7=0
local integer k=0
local integer EYF=0
local item E0F=null
local boolean SA7=false
set EYF=0
set i=999
set EP7=null
loop
exitwhen(j>5)
set E0F=KL7[O5*24+j+k]
if GetWidgetLife(E0F)<=0 then
set E0F=null
endif
if(E0F!=null)then
if(UnitHasItem(it,E0F))then
set EYF=DLF(O5,M7[O5],E0F,K07[O5*24+j+k],(not ELF))
if(EYF<=i)then
set i=EYF
set EP7=E0F
set QB7=j+k
endif
endif
else
if UnitItemInSlot(it,j+k)==null then
set QB7=j+k
set EP7=null
set E6F=true
exitwhen true
endif
endif
set j=j+1
endloop
set E0F=null
if(EXF>i)or E6F then
set EXF=GetItemTypeId(RA7)
set E0F=EP7
if E0F!=null then
set KL7[O5*24+K17[128+O5]]=E0F
set K07[O5*24+K17[128+O5]]=RY7(E0F)
set K17[128+O5]=K17[128+O5]+1
set KL7[O5*24+QB7]=null
endif
call ETF(O5,it)
if E0F!=null then
call UnitRemoveItem(it,E0F)
call SetItemPosition(E0F,GetUnitX(KU4[32+O5]),GetUnitY(KU4[32+O5]))
call SetItemVisible(E0F,MG7)
if not IsUnitType(it,UNIT_TYPE_HERO)then
call SaveBoolean(ED7,K17[256+O5],GetHandleId(E0F),true)
endif
endif
call UnitAddItem(it,RA7)
set SA7=true
if false and(not E1F)then
if(EXF!=SU[i1])and((i1!=HW)and(i1!=V6)and(i1!=O1)and(i1!=DN4 and i1!=DO4)and(i1!=DQ4)and(not EJ9(i1)))then
call UnitAddItem(it,RA7)
set SA7=true
else
set E1F=true
endif
endif
if false and E1F then
if EXF!=SU[i1]then
set bj_lastCreatedItem=CreateItem(SU[i1],GetUnitX(it),GetUnitY(it))
call SetItemVisible(bj_lastCreatedItem,MG7)
call SetItemPlayer(bj_lastCreatedItem,Player(O5),false)
call SetItemCharges(bj_lastCreatedItem,GetItemCharges(RA7))
call RemoveItem(RA7)
set RA7=bj_lastCreatedItem
endif
set eY[512+O5]=0
call UnitAddItem(it,RA7)
loop
exitwhen eY[512+O5]!=0
call TriggerSleepAction(0.1)
endloop
if not IsUnitType(it,UNIT_TYPE_HERO)then
call SaveBoolean(ED7,K17[256+O5],GetHandleId(KL7[288+O5]),true)
endif
if(eY[512+O5]==1)then
set SA7=true
elseif(eY[512+O5]==2)or(eY[512+O5]==3)then
loop
if eY[512+O5]==3 then
set RA7=KL7[288+O5]
exitwhen true
endif
call TriggerSleepAction(0.1)
endloop
endif
endif
endif
if SA7 then
return QB7
else
set bj_forLoopAIndex=GetItemUserData(RA7)
call SetItemPosition(RA7,GetUnitX(KU4[32+O5]),GetUnitY(KU4[32+O5]))
call SetItemUserData(RA7,bj_forLoopAIndex)
call SetItemVisible(RA7,MG7)
set KL7[O5*24+K17[128+O5]]=RA7
set K07[O5*24+K17[128+O5]]=RY7(RA7)
set K17[128+O5]=K17[128+O5]+1
endif
return-1
endfunction
function E5F takes integer O5,unit it,item RA7,integer i1 returns nothing
if EJ9(i1)then
call SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+(GetItemCharges(RA7)/EM9(i1))*(HK4[i1]/2))
else
call SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+HK4[i1]/2)
endif
call RX7(RA7)
call DestroyEffect(AddSpecialEffectTarget("UI\\Feedback\\GoldCredit\\GoldCredit.mdl",it,"overhead"))
endfunction
function E2F takes integer O5,integer EI9 returns integer
if IsUnitType(M7[O5],UNIT_TYPE_MELEE_ATTACKER)==true or IsUnitType(M7[O5],UNIT_TYPE_HERO)==false then
if EI9==X2 then
return W2
elseif EI9==GB then
return BA
elseif EI9==HZ then
return EZ
elseif EI9==DX4 then
return DW4
elseif EI9==D94 then
return D84
elseif EI9==F44 then
return E_4
elseif EI9==B0 then
if DWF(M7[O5])==false then
return Y0
endif
elseif EI9==Y0 then
if DWF(M7[O5])==true then
return B0
endif
elseif EI9==RB then
return QB
endif
else
if EI9==W2 then
return X2
elseif EI9==BA then
return GB
elseif EI9==EZ then
return HZ
elseif EI9==DW4 then
return DX4
elseif EI9==D84 then
return D94
elseif EI9==E_4 then
return F44
elseif EI9==Y0 then
return B0
elseif EI9==QB then
return RB
endif
endif
return EI9
endfunction
function E_F takes player p,unit it,integer F4F,integer F7F,integer J0D,integer J5D,integer J2D,integer F8F,integer F9F returns nothing
local item RA7
call DisableTrigger(SV4)
if F7F>0 then
set RA7=UnitItemInSlot(it,0)
call RemoveItem(RA7)
endif
if J0D>0 then
set RA7=UnitItemInSlot(it,1)
call RemoveItem(RA7)
endif
if J5D>0 then
set RA7=UnitItemInSlot(it,2)
call RemoveItem(RA7)
endif
if J2D>0 then
set RA7=UnitItemInSlot(it,3)
call RemoveItem(RA7)
endif
if F8F>0 then
set RA7=UnitItemInSlot(it,4)
call RemoveItem(RA7)
endif
if F9F>0 then
set RA7=UnitItemInSlot(it,5)
call RemoveItem(RA7)
endif
set F4F=E2F(GetPlayerId(p),F4F)
set K_7=F4F
set K27=p
set RA7=UnitAddItemById(it,ZU[F4F])
call SetItemPlayer(RA7,p,true)
call SetItemUserData(RA7,1)
if IsPlayerInForce(p,QX4)and(it==U87(GetHandleId(p),"aiBearDummy"))then
set MN7=U87(GetHandleId(p),"MyBear")
if MN7!=null and GetUnitState(MN7,UNIT_STATE_LIFE)>0 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",MN7,"origin"))
endif
else
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",it,"origin"))
endif
if RY7(RA7)==DI4 then
call SetItemCharges(RA7,6)
endif
call EnableTrigger(SV4)
if IsPlayerAlly(GetLocalPlayer(),p)==true then
if F4F==T1 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(p)]+(KZ4[GetPlayerId((p))])+"|r |c00ffff00"+GetObjectName(1848659032)+"|r")
elseif F4F==B5 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(p)]+(KZ4[GetPlayerId((p))])+"|r |c00ffff00"+GetObjectName(1848659033)+"|r")
endif
endif
set KL7[288+GetPlayerId(p)]=RA7
set RA7=null
endfunction
function FDF takes player p,unit it,integer i1,integer FEF returns boolean
local integer i
local integer x
local integer y
local integer array FFF
local boolean array FGF
local integer array FHF
local boolean array FIF
local boolean array FJF
local integer array FKF
local player FMF
local integer k
local player array FNF
local integer m
local item FOF
local item FPF
local item FQF
local item FRF
local item FSF
local item FTF
local player FUF
local player FVF
local player FWF
local player FXF
local player FYF
local player FZF
local integer FAF
local integer FBF
local integer FCF
local integer F3F
local integer F6F
local integer FLF
local integer F1F
local integer F0F
local integer F5F
local integer F2F
local integer F_F
local integer G4F
local boolean G7F=true
set FOF=UnitItemInSlot(it,0)
set FPF=UnitItemInSlot(it,1)
set FQF=UnitItemInSlot(it,2)
set FRF=UnitItemInSlot(it,3)
set FSF=UnitItemInSlot(it,4)
set FTF=UnitItemInSlot(it,5)
set FUF=GetItemPlayer(FOF)
set FVF=GetItemPlayer(FPF)
set FWF=GetItemPlayer(FQF)
set FXF=GetItemPlayer(FRF)
set FYF=GetItemPlayer(FSF)
set FZF=GetItemPlayer(FTF)
set FAF=GetItemUserData(FOF)
set FBF=GetItemUserData(FPF)
set FCF=GetItemUserData(FQF)
set F3F=GetItemUserData(FRF)
set F6F=GetItemUserData(FSF)
set FLF=GetItemUserData(FTF)
set F1F=RY7(FOF)
set F0F=RY7(FPF)
set F5F=RY7(FQF)
set F2F=RY7(FRF)
set F_F=RY7(FSF)
set G4F=RY7(FTF)
set FNF[1]=p
set i=0
if FOF!=null and FAF==1 and(FUF==p or PK4 or(GetPlayerSlotState((FUF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FFF[i+1]=F1F
else
set FFF[i+1]=0
endif
set i=1
if FPF!=null and FBF==1 and(FVF==p or PK4 or(GetPlayerSlotState((FVF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FFF[i+1]=F0F
else
set FFF[i+1]=0
endif
set i=2
if FQF!=null and FCF==1 and(FWF==p or PK4 or(GetPlayerSlotState((FWF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FFF[i+1]=F5F
else
set FFF[i+1]=0
endif
set i=3
if FRF!=null and F3F==1 and(FXF==p or PK4 or(GetPlayerSlotState((FXF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FFF[i+1]=F2F
else
set FFF[i+1]=0
endif
set i=4
if FSF!=null and F6F==1 and(FYF==p or PK4 or(GetPlayerSlotState((FYF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FFF[i+1]=F_F
else
set FFF[i+1]=0
endif
set i=5
if FTF!=null and FLF==1 and(FZF==p or PK4 or(GetPlayerSlotState((FZF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FFF[i+1]=G4F
else
set FFF[i+1]=0
endif
set FFF[0]=i1
set i=1
loop
exitwhen i>(FQ4)
if FJ4[i]==FEF or FK4[i]==FEF or FM4[i]==FEF or FN4[i]==FEF or FO4[i]==FEF then
set FHF[0]=FJ4[i]
set FHF[1]=FK4[i]
set FHF[2]=FM4[i]
set FHF[3]=FN4[i]
set FHF[4]=FO4[i]
if G7F then
set FIF[0]=true
set FIF[1]=true
set FIF[2]=true
set FIF[3]=true
set FIF[4]=true
set FIF[5]=true
set FIF[6]=true
set FGF[0]=true
set FGF[1]=true
set FGF[2]=true
set FGF[3]=true
set FGF[4]=true
set FGF[5]=true
set FGF[6]=true
set FKF[0]=0
set FKF[1]=0
set FKF[2]=0
set FKF[3]=0
set FKF[4]=0
set FKF[5]=0
set FKF[6]=0
set G7F=false
endif
set FJF[0]=false
set FJF[1]=false
set FJF[2]=false
set FJF[3]=false
set FJF[4]=false
set x=0
loop
exitwhen x==5
if FHF[x]==0 then
set FJF[x]=true
else
set y=0
loop
exitwhen y==7
if FFF[y]==FHF[x]and FGF[y]and FIF[x]then
set FGF[y]=false
set FIF[x]=false
set FJF[x]=true
set FKF[y]=1
set y=7
set G7F=true
else
set y=y+1
endif
endloop
endif
if FJF[x]==true then
set x=x+1
else
set x=5
endif
endloop
if FJF[0]and FJF[1]and FJF[2]and FJF[3]and FJF[4]then
call E_F(p,it,FP4[i],FKF[1],FKF[2],FKF[3],FKF[4],FKF[5],FKF[6])
call FDF(p,it,0,FP4[i])
set i=FQ4+2
else
set i=i+1
endif
else
set i=i+1
endif
endloop
set EL=FKF[0]==1
if i==(FQ4+2)then
set FOF=null
set FPF=null
set FQF=null
set FRF=null
set FSF=null
set FTF=null
return true
endif
set FOF=null
set FPF=null
set FQF=null
set FRF=null
set FSF=null
set FTF=null
return false
endfunction
function G8F takes unit it,item RA7 returns nothing
local integer n5
local integer G9F
local integer D08
set n5=NH9(it)
set G9F=NI9(it)
if G9F!=0 then
call UnitAddAbility(it,G9F)
call UnitMakeAbilityPermanent(it,true,G9F)
call SetPlayerAbilityAvailable(GetOwningPlayer(it),G9F,false)
if GetUnitTypeId(it)==1211117653 then
set IN4=it
call ExecuteFunc("GDF")
elseif GetUnitTypeId(it)==1215130471 then
set IN4=it
call ExecuteFunc("M8D")
endif
endif
set D08=EE9(it,4)
if n5==GX4 and HQ4[D08]!=0 then
call UnitRemoveAbility(it,HU4[D08])
call UnitAddAbility(it,HV4[D08])
call SetPlayerAbilityAvailable(GetOwningPlayer(it),HV4[D08],false)
endif
call RX7(RA7)
set RA7=UnitAddItemById(it,ZU[n5])
call SetItemPlayer(RA7,GetOwningPlayer(it),false)
call SetItemUserData(RA7,1)
set KL7[288+GetPlayerId(GetOwningPlayer(it))]=RA7
set RA7=null
endfunction
function GEF takes integer O5,unit it returns nothing
local integer i=0
local integer EXF=0
set K57[64+O5]=true
set K17[384+O5]=0
if SR7(it,ZU[YC])then
call E5F(O5,it,bj_lastCreatedItem,YC)
endif
if SR7(KU4[32+O5],ZU[YC])then
call E5F(O5,it,bj_lastCreatedItem,YC)
endif
call EDF(O5,it)
set i=0
loop
exitwhen(i>23)
set EXF=K07[O5*24+i]
if(EXF==FV or EXF==G6 or EXF==H6 or EXF==N6 or EXF==DS4 or EXF==LB or EXF==EC or EXF==F74)then
call E5F(O5,it,KL7[O5*24+i],EXF)
exitwhen true
endif
set i=i+1
endloop
endfunction
function GFF takes player p,unit it,integer i1,integer FEF returns boolean
local integer EXF=0
local integer F4F=0
local item RA7=null
if i1==EN4 and SZ7(it,ZU[F5])then
set RA7=bj_lastCreatedItem
set EXF=RY7(RA7)
if EXF==F5 then
set F4F=G5
elseif EXF==G5 then
set F4F=J5
elseif EXF==J5 then
set F4F=M5
elseif EXF==M5 then
set F4F=N5
endif
elseif i1==EO4 and SZ7(it,ZU[R5])then
set RA7=bj_lastCreatedItem
set EXF=RY7(RA7)
if EXF==R5 then
set F4F=S5
elseif EXF==S5 then
set F4F=T5
endif
endif
if F4F!=0 then
set K_7=F4F
set K27=p
call DisableTrigger(SV4)
call RemoveItem(RA7)
set RA7=UnitAddItemById(it,ZU[F4F])
call SetItemPlayer(RA7,p,true)
call SetItemUserData(RA7,1)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",it,"origin"))
call EnableTrigger(SV4)
set KL7[288+GetPlayerId(p)]=RA7
set RA7=null
return true
endif
return false
endfunction
function GGF takes integer O5,unit it,integer i1,item RA7,boolean E6F returns boolean
local player ON7=Player(O5)
local boolean SA7=false
local integer j=HK4[i1]
set K_7=i1
set K27=ON7
if(K17[432+O5]==2 and GFF(ON7,it,i1,i1))or FDF(ON7,it,i1,i1)then
if RA7!=null then
call RemoveItem(RA7)
endif
set RA7=KL7[288+O5]
set SA7=true
else
if DAF(it)==0 then
if RA7==null then
set RA7=CreateItem(ZU[i1],GetUnitX(it),GetUnitY(it))
call SetItemPlayer(RA7,ON7,false)
call SetItemUserData(RA7,1)
endif
set SA7=(E3F(O5,it,i1,RA7,E6F,false,false)!=-1)
else
if RA7==null then
set RA7=UnitAddItemById(it,ZU[i1])
call SetItemPlayer(RA7,ON7,false)
call SetItemUserData(RA7,1)
else
call UnitAddItem(it,RA7)
call SetItemUserData(RA7,1)
endif
set SA7=true
endif
if EJ9(i1)then
call SetItemCharges(RA7,EM9(i1))
elseif i1==CC then
call SetItemCharges(RA7,2)
endif
endif
if RA7!=null then
set KL7[288+O5]=RA7
if(i1==F6 or i1==D34)then
call GEF(O5,it)
endif
if IsUnitType(it,UNIT_TYPE_HERO)and GetItemTypeId(RA7)==ZU[FR4]then
call G8F(it,RA7)
endif
endif
if(K17[432+O5]!=2)then
call TriggerSleepAction(0)
endif
set ON7=null
set RA7=null
return SA7
endfunction
function GHF takes integer O5,unit it,integer i1,boolean E6F returns boolean
local player ON7=Player(O5)
local boolean SA7=false
local integer j=HK4[i1]
if(i1==QC or i1==TC or i1==YC)and(Z84[O5]>=ZE4)then
set j=j/2
endif
if GetPlayerState(ON7,PLAYER_STATE_RESOURCE_GOLD)>=j then
call SetPlayerState(ON7,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(ON7,PLAYER_STATE_RESOURCE_GOLD)-j)
if K57[48+O5]then
set K17[192+O5]=K17[192+O5]+j
endif
call ETF(O5,it)
if EJ9(i1)and SR7(it,ZU[i1])then
call SetItemCharges(bj_lastCreatedItem,GetItemCharges(bj_lastCreatedItem)+EM9(i1))
set SA7=true
else
set SA7=GGF(O5,it,i1,null,E6F)
endif
set K17[96+O5]=0
endif
set ON7=null
return SA7
endfunction
function GIF takes integer O5 returns nothing
local integer j
local integer QB7
local integer k
local unit u
local player ON7=Player(O5)
call EDF(O5,null)
if K57[48+O5]then
return
endif
set j=6
set k=K17[128+O5]-1
loop
exitwhen j>k
if KL7[O5*24+j]!=null and((not K57[192+O5])or(not LoadBoolean(ED7,K17[256+O5],GetHandleId(KL7[O5*24+j]))))then
if IsItemOwned(KL7[O5*24+j])then
call UnitRemoveItem(KU4[32+O5],KL7[O5*24+j])
endif
set QB7=E3F(O5,M7[O5],K07[O5*24+j],KL7[O5*24+j],false,true,false)
if QB7!=-1 and QB7<6 then
set KL7[O5*24+QB7]=KL7[O5*24+j]
if(KL7[O5*24+QB7]==null)or(GetWidgetLife(KL7[O5*24+QB7])<=0)then
set KL7[O5*24+QB7]=KL7[288+O5]
endif
set K07[O5*24+QB7]=K07[O5*24+j]
endif
call SetItemVisible(KL7[O5*24+j],MG7)
set KL7[O5*24+j]=null
endif
set j=j+1
endloop
if K57[192+O5]then
set j=GetUnitTypeId(M7[O5])
if(j==1311781199 or j==1311781171 or j==1311781172 or j==1311781173)then
set u=EQF(O5,M7[O5],false)
endif
if u!=null then
call EDF(O5,u)
set j=6
set k=K17[128+O5]-1
loop
exitwhen j>k
if KL7[O5*24+j]!=null and(LoadBoolean(ED7,K17[256+O5],GetHandleId(KL7[O5*24+j])))then
set QB7=E3F(O5,u,K07[O5*24+j],KL7[O5*24+j],false,true,false)
if QB7!=-1 and QB7<6 then
set KL7[O5*24+QB7]=KL7[O5*24+j]
if(KL7[O5*24+QB7]==null)or(GetWidgetLife(KL7[O5*24+QB7])<=0)then
set KL7[O5*24+QB7]=KL7[288+O5]
endif
set K07[O5*24+QB7]=K07[O5*24+j]
endif
call SetItemVisible(KL7[O5*24+j],MG7)
set KL7[O5*24+j]=null
endif
set j=j+1
endloop
endif
set u=null
endif
call EDF(O5,null)
set j=12
loop
exitwhen j>K17[128+O5]-1
if KL7[O5*24+j]!=null then
call E5F(O5,M7[O5],KL7[O5*24+j],K07[O5*24+j])
set KL7[O5*24+j]=null
endif
set j=j+1
endloop
set ON7=null
set u=null
endfunction
function GJF takes integer O5,unit it,integer GKF,integer i1 returns boolean
local integer i
local integer j
local integer EXF
local integer FEF=0
local item RA7=null
local boolean SA7=true
local integer GMF
local boolean GNF=false
local boolean GOF=IsUnitType(it,UNIT_TYPE_HERO)
if(it==null)or((not S87(it))and(not K57[48+O5]))then
return false
elseif(K57[48+O5])and SS7(KU4[32+O5])then
set K57[128+O5]=true
return false
endif
if(K17[432+O5]==1)and(SS7(it)and K17[320+O5]<=0)then
set K17[96+O5]=i1
return false
endif
if(not IsUnitType(it,UNIT_TYPE_HERO))then
set FEF=EV
if false then
set K57[288+O5]=true
if(K17[432+O5]==1)then
return false
endif
endif
endif
if GKF>=0 or GKF==-2 then
else
endif
if(GKF==-1)then
set K17[64+O5]=K17[64+O5]+1
else
set K17[64+O5]=0
endif
set GMF=K17[64+O5]
if(K57[112+O5])then
if(GMF==0)then
call EDF(O5,it)
call E8F(O5,0)
endif
set i=0
loop
exitwhen(i>23)
if(KL7[O5*24+i]!=null)then
set SA7=false
if(K07[O5*24+i]==i1)then
set SA7=true
elseif SX7(i1,K07[O5*24+i],false)then
set SA7=true
endif
if SA7 then
set EXF=LoadInteger(ED7,K17[368+O5],i1+FEF)
if(GMF==0)and(EXF==0)then
set EXF=LoadInteger(ED7,K17[352+O5],i1+FEF)
if EXF==0 then
set EXF=1
endif
call SaveInteger(ED7,K17[368+O5],i1+FEF,EXF)
endif
set EXF=LoadInteger(ED7,K17[224+O5],GetHandleId(KL7[O5*24+i]))
if EXF==0 then
set EXF=K17[48+O5]
endif
if(GetItemPlayer(KL7[O5*24+i])==Player(O5))and((not K57[48+O5])or((EXF==K17[48+O5])and(not LoadBoolean(ED7,K17[208+O5],GetHandleId(KL7[O5*24+i])))))then
if(GMF==0)then
call SaveInteger(ED7,K17[368+O5],i1+FEF,LoadInteger(ED7,K17[368+O5],i1+FEF)-1)
endif
if(GMF!=0)or(LoadInteger(ED7,K17[368+O5],i1+FEF)<=0)then
set RA7=KL7[O5*24+i]
if((not K57[192+O5])or(GOF==(not LoadBoolean(ED7,K17[256+O5],GetHandleId(KL7[O5*24+i])))))then
set KL7[O5*24+i]=null
exitwhen true
endif
endif
endif
endif
endif
set i=i+1
endloop
if RA7!=null and K57[48+O5]then
call SaveBoolean(ED7,K17[208+O5],GetHandleId(RA7),true)
call SaveInteger(ED7,K17[224+O5],GetHandleId(RA7),K17[48+O5])
endif
set SA7=true
if(GMF==0)then
set K57[272+O5]=true
if(not K57[96+O5])and(K57[48+O5]or(K17[32+O5]>=K17[48+O5]))then
if EKF(i1)then
if IsPlayerAlly(Player(O5),Z7[0])then
call TQ7(1128887405,"Sent|"+I2S(i1),UN7(1128887405,"Sent|"+I2S(i1))+1)
else
call TQ7(1128887405,"Scrg|"+I2S(i1),UN7(1128887405,"Scrg|"+I2S(i1))+1)
endif
endif
call TQ7(1128877176,I2S(GetHandleId(it))+"|"+I2S(i1),UN7(1128877176,I2S(GetHandleId(it))+"|"+I2S(i1))+1)
if EFF(it,i1)then
call TT7(1128887405,"Orb|"+I2S(GetHandleId(it)),true)
endif
if EGF(it,i1)then
call TT7(1128887405,"Buff|"+I2S(GetHandleId(it)),true)
endif
set K57[96+O5]=true
endif
endif
endif
if K17[64+O5]<99 then
if RA7!=null then
call SetItemUserData(RA7,1)
if(not UnitHasItem(it,RA7))then
set K57[272+O5]=false
if(not K57[48+O5])and(K17[432+O5]!=1)then
call GGF(O5,it,i1,RA7,true)
endif
elseif not K57[48+O5]then
call UnitRemoveItem(it,RA7)
call GGF(O5,it,i1,RA7,true)
endif
else
set i=1
loop
exitwhen(i>FQ4 or FP4[i]==i1)
set i=i+1
endloop
if i<=FQ4 then
if SA7 and(FJ4[i]!=0)then
set SA7=(GJF(O5,it,-1,FJ4[i]))
endif
if SA7 and(FK4[i]!=0)then
set SA7=(GJF(O5,it,-1,FK4[i]))
endif
if SA7 and(FM4[i]!=0)then
set SA7=(GJF(O5,it,-1,FM4[i]))
endif
if SA7 and(FN4[i]!=0)then
set SA7=(GJF(O5,it,-1,FN4[i]))
endif
if SA7 and(FO4[i]!=0)then
set SA7=(GJF(O5,it,-1,FO4[i]))
endif
if SA7 then
if(K57[48+O5])then
call SaveBoolean(ED7,K17[208+O5],GetHandleId(KL7[288+O5]),true)
else
if(i1==E6)then
call UnitUseItem(it,KL7[288+O5])
endif
endif
if GKF==-1 then
set K57[144+O5]=true
endif
endif
set GNF=true
else
if(K57[112+O5])then
if K17[432+O5]==2 then
set SA7=false
elseif K57[48+O5]then
set SA7=GHF(O5,KU4[32+O5],i1,false)
if SA7 then
call SaveInteger(ED7,K17[224+O5],GetHandleId(KL7[288+O5]),K17[48+O5])
endif
elseif(K17[432+O5]==1)then
if(not D3F(i1))then
set SA7=false
elseif(K17[320+O5]>0)and IsUnitType(it,UNIT_TYPE_HERO)and SS7(it)and(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HK4[i1])and SR7(it,ZU[QW])then
call E5F(O5,it,bj_lastCreatedItem,QW)
set K17[320+O5]=K17[320+O5]-1
endif
set SA7=GHF(O5,it,i1,true)
else
set SA7=GHF(O5,it,i1,true)
endif
if not SA7 then
set K17[96+O5]=i1
endif
endif
endif
if SA7 and(not GOF)then
call SaveBoolean(ED7,K17[256+O5],GetHandleId(KL7[288+O5]),true)
endif
endif
if GMF==0 then
if(not SA7)then
set K17[112+O5]=i1
elseif(not(K17[32+O5]<K17[48+O5]))or(K57[48+O5])then
set K17[112+O5]=0
endif
endif
if(not K57[128+O5])and(K57[48+O5])and SS7(KU4[32+O5])then
set K57[128+O5]=true
endif
if GMF==0 and SA7 then
if not(K17[144+O5]==M77)then
if(not K57[48+O5])and((K17[432+O5]!=1)or(K57[272+O5]))then
set K17[32+O5]=K17[32+O5]+1
else
if GNF then
set K57[128+O5]=true
call TQ7(1128887405,I2S(GetHandleId(it))+"|s"+I2S(K17[48+O5]),i1)
endif
set K17[48+O5]=K17[48+O5]+1
endif
endif
set K57[96+O5]=false
if(not K57[48+O5])and GOF then
if(i1==F6)then
call GEF(O5,it)
elseif(i1==G6)then
set K17[384+O5]=1
set K17[400+O5]=1
elseif(i1==H6)then
set K17[384+O5]=2
set K17[400+O5]=2
elseif(i1==N6)then
set K17[384+O5]=3
set K17[400+O5]=3
endif
if K17[336+O5]!=0 then
set i=0
loop
exitwhen(i>23)
if(K07[O5*24+i]==K17[336+O5])then
call E5F(O5,it,KL7[O5*24+i],K17[336+O5])
exitwhen true
endif
set i=i+1
endloop
set K17[336+O5]=0
endif
endif
if(K57[112+O5])and(not K57[48+O5])and(K17[432+O5]!=2)and GOF then
set EXF=EZF(O5,false)-6
loop
set i=EUF(O5,false,false)
exitwhen(i==-1)or(EXF<=0)
call E5F(O5,it,KL7[O5*24+i],K07[O5*24+i])
set KL7[O5*24+i]=null
set EXF=EXF-1
endloop
endif
if(not K57[128+O5])and(K57[48+O5])and(DLF(O5,it,null,i1,true)>=99)then
set K57[128+O5]=true
endif
if(K57[192+O5])and(not K57[48+O5])and(GetUnitTypeId(it)==1697657158)then
call ESF(O5,it)
endif
endif
endif
if(not K57[112+O5])then
return true
endif
if(GMF==0)and(not K57[80+O5])and SA7 and(GKF==K17[240+O5])then
if(not K57[48+O5])then
set K17[144+O5]=M97
else
set K57[160+O5]=true
endif
endif
return SA7
endfunction
function GPF takes nothing returns nothing
local integer i=GetHandleId(GetTriggeringTrigger())
local integer O5=UN7(i,"p")
set K57[208+O5]=GJF(O5,U87(i,"u"),UN7(i,"i"),UN7(i,"id"))
set K17[272+O5]=0
endfunction
function GQF takes integer O5 returns boolean
return(not(Bz>=K17[160+O5]))or(K57[224+O5]and K17[432+O5]!=2)
endfunction
function GRF takes unit u,integer GSF returns integer
local player p=GetOwningPlayer(u)
local integer i=0
local integer QD7=0
local integer GTF=0
loop
exitwhen i>15
set GTF=GetUnitTypeId(M7[i])
if M7[i]!=null and IsUnitEnemy(M7[i],p)and(QS7(GTF,GSF))then
set QD7=QD7+1
endif
set i=i+1
endloop
return QD7
endfunction
function GUF takes integer O5,unit it,integer GKF,integer i1 returns boolean
local integer i
local integer FEF=0
if(K17[432+O5]==2 and(IG4[O5]or Bz<K17[272+O5]))or(K57[224+O5]and K17[432+O5]!=2)then
return false
endif
if(not K57[112+O5])then
if GKF>=0 and(K17[240+O5]<=GKF)then
set K17[240+O5]=GKF
endif
if(not IsUnitType(it,UNIT_TYPE_HERO))then
set FEF=EV
endif
call SaveInteger(ED7,K17[352+O5],i1+FEF,LoadInteger(ED7,K17[352+O5],i1+FEF)+1)
return true
endif
if(K57[112+O5])and(GKF>=0)and(((not K57[48+O5])and(K17[32+O5]!=GKF))or((K57[48+O5])and(K17[48+O5]!=GKF)))then
return false
endif
if Bz<K17[272+O5]then
set i=R2I(Bz)+10
loop
call TriggerSleepAction(1)
exitwhen(Bz>i or Bz>K17[272+O5])
endloop
if Bz<K17[272+O5]then
return false
endif
endif
set i=GetHandleId(Q04[112+O5])
call TU7(i,"u",it)
call TQ7(i,"i",GKF)
call TQ7(i,"id",i1)
if(IsUnitType(it,UNIT_TYPE_HERO))then
set FEF=GetUnitTypeId(it)
if(UP7(R44,VY7(it)+"|D"))then
if(i1==U1)then
call TQ7(i,"id",R3)
endif
elseif(UP7(R44,VY7(it)+"|Xb"))then
if(i1==DT4)and GRF(it,F97)<3 and((FEF==1164799855)or(FEF==1212365106)or(FEF==1164799603)or(FEF==1160785973)or(FEF==1315007329)or(FEF==1164207469)or(FEF==1429221443)or(FEF==1215722344)or(FEF==1429221456)or(FEF==1211117643)or(FEF==1162032181)or(FEF==1160785972)or(FEF==1211119409))then
call TQ7(i,"id",S6)
elseif(i1==J1)and GRF(it,F87)<3 and((FEF==1162032181)or(FEF==1328558160)or(FEF==1211117617))then
call TQ7(i,"id",P1)
endif
endif
endif
set K17[272+O5]=R2I(Bz)+15
set K57[208+O5]=false
call TriggerExecute(Q04[112+O5])
if(K17[432+O5]!=2)then
loop
call TriggerSleepAction(0.2)
exitwhen Bz>K17[272+O5]
endloop
endif
return K57[208+O5]
endfunction
function GVF takes integer O5,unit it,integer i1,boolean GWF returns boolean
local boolean GXF=SR7(it,ZU[i1])or SR7(KU4[32+O5],ZU[i1])or((KU4[32+O5]!=KU4[O5])and SR7(KU4[O5],ZU[i1]))
if UP7(1129146739,I2S(GetHandleId(it))+"|"+I2S(i1))then
set GWF=false
endif
if GWF and(IsItemOwned(bj_lastCreatedItem)or(not SS7(it)))then
if not((K17[O5]==i1 or K17[16+O5]==i1)and GXF)then
if K17[O5]==0 and K17[16+O5]!=i1 then
set K17[O5]=i1
elseif K17[16+O5]==0 and K17[O5]!=i1 then
set K17[16+O5]=i1
endif
if not GXF then
return GHF(O5,it,i1,true)
endif
endif
else
if GXF then
if(K17[O5]==i1)then
set K17[O5]=0
elseif(K17[16+O5]==i1)then
set K17[16+O5]=0
endif
endif
endif
return false
endfunction
function GYF takes integer O5 returns nothing
local integer i=0
local item RA7=null
local integer i1
loop
exitwhen i>5
set RA7=UnitItemInSlot(KU4[32+O5],i)
if RA7!=null then
set bj_forLoopAIndex=GetItemTypeId(RA7)
set i1=-1
if(bj_forLoopAIndex==ZU[K17[O5]])then
set i1=K17[O5]
set K17[O5]=0
elseif(bj_forLoopAIndex==ZU[K17[16+O5]])then
set i1=K17[16+O5]
set K17[16+O5]=0
elseif(bj_forLoopAIndex==ZU[YC])then
call E5F(O5,M7[O5],RA7,YC)
endif
if i1!=-1 then
call TT7(1129146739,I2S(GetHandleId(M7[O5]))+"|"+I2S(i1),true)
call E5F(O5,M7[O5],RA7,i1)
endif
endif
set i=i+1
endloop
set RA7=null
endfunction
function GZF takes integer O5 returns boolean
local integer OC7=GetHandleId(KU4[16+O5])
local integer i=0
local boolean GAF=false
if(Bz<hq[896+O5])or(not UP7(OC7,"aiCrow|Alive"))then
return false
endif
if(RE7(M7[O5],h9[16+O5])<1200)then
return false
endif
if(UP7(OC7,"aiCrow|Active"))and(RE7(KU4[16+O5],h9[16+O5])<800)and(Bz>UO7(OC7,"aiCrow|Move"))then
call KV9(KU4[16+O5])
set GAF=true
endif
set i=UN7(OC7,"aiCrow|CurrentOwner")
if(UP7(OC7,"aiCrow|Active"))then
if(i==O5)then
if UP7(OC7,"aiCrow|Away")then
call IssueNeutralImmediateOrderById(Player(O5),KU4[16+O5],1747990581)
else
call IssueImmediateOrderById(KU4[16+O5],852247)
endif
endif
return false
endif
if(i!=O5)and((not MT7)or((ZC7(Player(O5))and(i!=GetPlayerId(Z7[0])))or(Z37(Player(O5))and(i!=GetPlayerId(A7[0])))))then
return false
endif
if(not GAF)then
call KV9(KU4[16+O5])
set GAF=true
endif
if(MT7)and(GetOwningPlayer(KU4[16+O5])!=Player(O5))then
call SetUnitOwner(KU4[16+O5],Player(O5),false)
endif
if IssueNeutralImmediateOrderById(Player(O5),KU4[16+O5],1747990581)then
call TQ7(OC7,"aiCrow|CurrentOwner",O5)
call TT7(OC7,"aiCrow|Active",true)
call TR7(OC7,"aiCrow|Move",Bz+15)
call TT7(OC7,"aiCrow|Away",true)
set K57[224+O5]=true
set i=0
set EP7=null
call DisableTrigger(H94)
loop
exitwhen i>5
set EP7=UnitItemInSlot(KU4[O5],i)
if EP7!=null then
call UnitAddItem(KU4[16+O5],EP7)
endif
set i=i+1
endloop
call EnableTrigger(H94)
return true
endif
return false
endfunction
function GBF takes integer O5,boolean GCF returns boolean
return(MR7 and(KU4[16+O5]!=null)and K17[432+O5]==0 and GCF and(K57[128+O5]or K57[144+O5]))
endfunction
function G3F takes integer O5,unit it,boolean GCF returns nothing
local integer i1=GetUnitTypeId(it)
local integer array G6F
local boolean SA7=false
local boolean GLF=false
local boolean G1F=false
local boolean J4=false
local string G0F
local integer i
local integer EXF
local integer j
local integer QB7
local integer G5F
local integer k
local integer EYF
local unit u
if GQF(O5)then
return
endif
if(K17[432+O5]==2)then
if UN7(GetHandleId(KU4[16+O5]),"aiCrow|CurrentOwner")!=O5 then
return
endif
set KU4[32+O5]=KU4[16+O5]
else
set KU4[32+O5]=KU4[O5]
endif
if(not K57[112+O5])then
set K17[144+O5]=M87
else
set K17[160+O5]=R2I(Bz)+ME7
call EDF(O5,it)
endif
set K57[48+O5]=GCF
set K57[160+O5]=(GCF and K57[176+O5])
set i=K17[144+O5]
if(K17[144+O5]==M77)and(not GCF)then
if(PY4)then
else
call GVF(O5,it,QC,true)
endif
call GHF(O5,it,TC,true)
endif
set EXF=UN7(GetHandleId(Player(O5)),"AI|Class")
if(K17[144+O5]==M77)and(not GCF)then
set QB7=CN7(it)
if EXF==F47 then
call GUF(O5,it,-2,TC)
else
if IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER)then
call GHF(O5,it,EZ,false)
if i1!=1211119187 then
call GHF(O5,it,BA,false)
endif
else
call GHF(O5,it,AX,false)
if QB7==1 then
call GUF(O5,it,-2,HL)
elseif QB7==2 then
call GUF(O5,it,-2,DL)
else
call GUF(O5,it,-2,A6)
endif
endif
endif
set K17[144+O5]=M87
set K17[112+O5]=0
endif
if(i1==1211117636)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,VB)
call GUF(O5,it,3,D84)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,T5)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T2
endif
elseif(i1==1211122767)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DY4)
call GUF(O5,it,3,FC)
call GUF(O5,it,4,F5)
call GUF(O5,it,5,DU4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DP4
set G6F[1]=D74
set G6F[2]=N5
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,VB)
call GUF(O5,it,2,J1)
call GUF(O5,it,3,C0)
call GUF(O5,it,4,A1)
call GUF(O5,it,5,U1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=L5
set G6F[1]=T2
endif
elseif(i1==1214345830)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,T1)
call GUF(O5,it,3,DY4)
call GUF(O5,it,4,VB)
call GUF(O5,it,5,Q1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DP4
set G6F[1]=D74
set G6F[2]=U1
endif
elseif(i1==1315007329)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,NC)
call GUF(O5,it,3,U1)
call GUF(O5,it,4,VB)
call GUF(O5,it,5,E2)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=Z2
set G6F[1]=T2
set G6F[2]=L5
endif
elseif(i1==1429221456)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,FR4)
call GUF(O5,it,4,N3)
call GUF(O5,it,5,DR4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D74
endif
elseif(i1==1316252014)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,DI4)
call GUF(O5,it,4,DP4)
call GUF(O5,it,5,F5)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=N5
set G6F[1]=D74
endif
elseif(i1==1432646245)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DY4)
call GUF(O5,it,3,DM4)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,J1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T2
set G6F[1]=L5
set G6F[2]=D0
endif
elseif(i1==1160785972)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,NC)
call GUF(O5,it,3,DR4)
call GUF(O5,it,4,W5)
call GUF(O5,it,5,E2)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=L5
set G6F[1]=D0
endif
elseif(i1==1429221443)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DM4)
call GUF(O5,it,3,WL)
call GUF(O5,it,4,U1)
call GUF(O5,it,5,V1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DH4
set G6F[1]=U3
endif
elseif(i1==1311781185)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,FC)
call GUF(O5,it,4,DR4)
call GUF(O5,it,5,W5)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D74
endif
elseif(i1==1215657064)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DG4)
call GUF(O5,it,3,RW)
call GUF(O5,it,4,C0)
call GUF(O5,it,5,WL)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DH4
set G6F[1]=U3
endif
elseif(i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,NC)
call GUF(O5,it,2,DT4)
call GUF(O5,it,3,VB)
call GUF(O5,it,4,U1)
call GUF(O5,it,5,Y0)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=E2
set G6F[1]=T2
endif
elseif(i1==1211117651)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,W5)
call GUF(O5,it,3,DR4)
call GUF(O5,it,4,FC)
call GUF(O5,it,5,DI4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D74
endif
elseif(i1==1430466609)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DR4)
call GUF(O5,it,3,FR4)
call GUF(O5,it,4,W5)
call GUF(O5,it,5,DP4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D74
endif
elseif(i1==1164799855)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,VB)
call GUF(O5,it,3,DR4)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,DP4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D74
endif
elseif(i1==1211117620)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,F5)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,N3)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=X2
set G6F[1]=N5
endif
elseif(i1==1160786520)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,F5)
call GUF(O5,it,4,R5)
call GUF(O5,it,5,FC)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T5
set G6F[1]=X2
set G6F[2]=N5
endif
elseif(i1==1311787088)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DY4)
call GUF(O5,it,3,F5)
call GUF(O5,it,4,DU4)
call GUF(O5,it,5,FC)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D74
set G6F[1]=DP4
set G6F[2]=N5
endif
elseif(i1==1315334514)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,NC)
call GUF(O5,it,3,C0)
call GUF(O5,it,4,W5)
call GUF(O5,it,5,B0)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T2
set G6F[1]=Z2
endif
elseif(i1==1315074670)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,NC)
call GUF(O5,it,3,C0)
call GUF(O5,it,4,J1)
call GUF(O5,it,5,B0)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T2
set G6F[1]=L5
set G6F[2]=Z2
endif
elseif(i1==1311780946)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DY4)
call GUF(O5,it,3,VB)
call GUF(O5,it,4,D84)
call GUF(O5,it,5,DP4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=H2
set G6F[1]=D74
endif
elseif(i1==1429221451)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,RW)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,N3)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DP4
endif
elseif(i1==1430466865)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DY4)
call GUF(O5,it,3,J1)
call GUF(O5,it,4,VB)
call GUF(O5,it,5,RW)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=L5
set G6F[1]=T2
set G6F[2]=R2
endif
elseif(i1==1211117650)or(i1==1211119433)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,VB)
call GUF(O5,it,3,D84)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,H2)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DP4
endif
elseif(i1==1215723364)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,NC)
call GUF(O5,it,3,VB)
call GUF(O5,it,4,DU4)
call GUF(O5,it,5,FR4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=C0
set G6F[1]=B0
endif
elseif(i1==1332109682)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,VB)
call GUF(O5,it,4,RW)
call GUF(O5,it,5,DJ4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D44
set G6F[1]=DV4
endif
elseif(i1==1211117641)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,T1)
call GUF(O5,it,3,DJ4)
call GUF(O5,it,4,VB)
call GUF(O5,it,5,DG4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DV4
set G6F[1]=FR4
endif
elseif(i1==1432642913)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,VB)
call GUF(O5,it,3,DG4)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,Y0)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DP4
endif
elseif(i1==1429221432)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DG4)
call GUF(O5,it,3,VB)
call GUF(O5,it,4,WL)
call GUF(O5,it,5,U1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=R2
set G6F[1]=U3
endif
elseif(i1==1429221430)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DG4)
call GUF(O5,it,3,D0)
call GUF(O5,it,4,DR4)
call GUF(O5,it,5,Z2)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=E2
endif
elseif(i1==1215128178)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DY4)
call GUF(O5,it,3,DU4)
call GUF(O5,it,4,F5)
call GUF(O5,it,5,FR4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DP4
set G6F[1]=Q1
set G6F[2]=N5
endif
elseif(i1==1328558160)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,W5)
call GUF(O5,it,3,J1)
call GUF(O5,it,4,B0)
call GUF(O5,it,5,E24)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T2
set G6F[1]=X2
endif
elseif(i1==1214931305)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,LB)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,F5)
call GUF(O5,it,4,Q1)
call GUF(O5,it,5,FR4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DP4
set G6F[1]=N5
endif
elseif(i1==1211117617)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DY4)
call GUF(O5,it,3,VB)
call GUF(O5,it,4,J1)
call GUF(O5,it,5,D0)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=R2
set G6F[1]=T2
set G6F[2]=L5
endif
elseif(i1==1212363833)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DG4)
call GUF(O5,it,3,VB)
call GUF(O5,it,4,D1)
call GUF(O5,it,5,Y0)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=E1
set G6F[1]=E2
endif
elseif(i1==1212365106)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DG4)
call GUF(O5,it,3,D1)
call GUF(O5,it,4,OL)
call GUF(O5,it,5,WL)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=E1
set G6F[1]=Y0
set G6F[2]=Z2
set G6F[3]=U3
endif
elseif(i1==1333027688)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DY4)
call GUF(O5,it,3,RW)
call GUF(O5,it,4,DU4)
call GUF(O5,it,5,FR4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DP4
set G6F[1]=D44
endif
elseif(i1==1332179560)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DG4)
call GUF(O5,it,3,D1)
call GUF(O5,it,4,Y0)
call GUF(O5,it,5,WL)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=E1
set G6F[1]=H2
set G6F[2]=U3
endif
elseif(i1==1315070563)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,NC)
call GUF(O5,it,3,J1)
call GUF(O5,it,4,C0)
call GUF(O5,it,5,FR4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=Y0
set G6F[1]=T2
set G6F[2]=Z2
endif
elseif(i1==1214344551)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,VB)
call GUF(O5,it,3,R5)
call GUF(O5,it,4,H2)
call GUF(O5,it,5,DP4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T5
set G6F[1]=D44
endif
elseif(i1==1160785973)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,J1)
call GUF(O5,it,3,C0)
call GUF(O5,it,4,B0)
call GUF(O5,it,5,FR4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T2
set G6F[1]=L5
endif
elseif(i1==1433631084)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,J1)
call GUF(O5,it,3,C0)
call GUF(O5,it,4,B0)
call GUF(O5,it,5,L5)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T2
set G6F[1]=X2
endif
elseif(i1==1215130471)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,DI4)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,F5)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D74
set G6F[1]=N5
endif
elseif(i1==1164799603)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,C0)
call GUF(O5,it,3,R5)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,V1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T5
set G6F[1]=B0
endif
elseif(i1==1432580716)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,VB)
call GUF(O5,it,2,C0)
call GUF(O5,it,3,FR4)
call GUF(O5,it,4,OL)
call GUF(O5,it,5,A1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=L5
set G6F[1]=Y0
endif
elseif(i1==1214409837)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,LB)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,VB)
call GUF(O5,it,3,C0)
call GUF(O5,it,4,F5)
call GUF(O5,it,5,R5)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T5
set G6F[1]=N5
set G6F[2]=D74
endif
elseif(i1==1433105516)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DY4)
call GUF(O5,it,3,RW)
call GUF(O5,it,4,DU4)
call GUF(O5,it,5,W5)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DP4
set G6F[1]=H2
endif
elseif(i1==1211117643)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DY4)
call GUF(O5,it,3,DU4)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,Q1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DP4
set G6F[1]=D74
endif
elseif(i1==1211117633)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,T1)
call GUF(O5,it,3,DU4)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,R5)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T5
set G6F[1]=Q1
endif
elseif(i1==1332898670)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,Q1)
call GUF(O5,it,3,DU4)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,R5)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D44
set G6F[1]=T5
endif
elseif(i1==1211117624)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,D84)
call GUF(O5,it,3,DU4)
call GUF(O5,it,4,U1)
call GUF(O5,it,5,H2)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DP4
endif
elseif(i1==1315988077)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,VB)
call GUF(O5,it,3,RW)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,H2)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=Y0
endif
elseif(i1==1211117616)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,DS4)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,D84)
call GUF(O5,it,3,RW)
call GUF(O5,it,4,H2)
call GUF(O5,it,5,DJ4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DV4
set G6F[1]=DH4
endif
elseif(i1==1215063922)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,VB)
call GUF(O5,it,3,J1)
call GUF(O5,it,4,U1)
call GUF(O5,it,5,H2)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=L5
set G6F[1]=T2
endif
elseif(i1==1164207469)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DG4)
call GUF(O5,it,3,Y0)
call GUF(O5,it,4,WL)
call GUF(O5,it,5,A1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=L5
set G6F[1]=Z2
set G6F[2]=U3
endif
elseif(i1==1160786000)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,FR4)
call GUF(O5,it,4,F5)
call GUF(O5,it,5,R5)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T5
set G6F[1]=N5
set G6F[2]=DP4
endif
elseif(i1==1311781206)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,B0)
call GUF(O5,it,3,D1)
call GUF(O5,it,4,U1)
call GUF(O5,it,5,E2)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=E1
set G6F[1]=Z2
endif
elseif(i1==1311781193)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,VB)
call GUF(O5,it,3,C0)
call GUF(O5,it,4,X1)
call GUF(O5,it,5,U1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T2
endif
elseif(i1==1162032439)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,NC)
call GUF(O5,it,3,C0)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,B0)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DP4
set G6F[1]=D74
endif
elseif(i1==1430466872)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,F5)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,DI4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DP4
set G6F[1]=N5
endif
elseif(i1==1430468406)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,DI4)
call GUF(O5,it,4,DJ4)
call GUF(O5,it,5,DP4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DV4
set G6F[1]=R2
endif
elseif(i1==1164666213)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,DI4)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,DP4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=R2
endif
elseif(i1==1433168227)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,LB)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,FR4)
call GUF(O5,it,4,DI4)
call GUF(O5,it,5,D44)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D74
endif
elseif(i1==1311786311)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,DR4)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,D1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=E1
set G6F[1]=E2
endif
elseif(i1==1160786265)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,JC)
call GUF(O5,it,3,RW)
call GUF(O5,it,4,D94)
call GUF(O5,it,5,V1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DH4
set G6F[1]=L5
endif
elseif(i1==1311780930)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DY4)
call GUF(O5,it,3,RW)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,DP4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D74
set G6F[1]=W5
endif
elseif(i1==1211117649)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DY4)
call GUF(O5,it,3,DM4)
call GUF(O5,it,4,J1)
call GUF(O5,it,5,FR4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T2
set G6F[1]=DH4
set G6F[2]=D0
endif
elseif(i1==1211119187)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DY4)
call GUF(O5,it,3,C0)
call GUF(O5,it,4,X1)
call GUF(O5,it,5,V1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=R2
set G6F[1]=DH4
endif
elseif(i1==1429221446)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,D84)
call GUF(O5,it,4,DJ4)
call GUF(O5,it,5,FR4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DV4
set G6F[1]=DP4
endif
elseif(i1==1211117652)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DY4)
call GUF(O5,it,3,D84)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,H2)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DP4
set G6F[1]=DH4
endif
elseif(i1==1313026096)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,DM4)
call GUF(O5,it,4,V1)
call GUF(O5,it,5,H2)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DH4
endif
elseif(i1==1328558154)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,VB)
call GUF(O5,it,3,DM4)
call GUF(O5,it,4,J1)
call GUF(O5,it,5,U1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T2
set G6F[1]=FR4
endif
elseif(i1==1429221441)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DG4)
call GUF(O5,it,3,D1)
call GUF(O5,it,4,Y0)
call GUF(O5,it,5,WL)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=E1
set G6F[1]=DH4
set G6F[2]=U3
endif
elseif(i1==1211117654)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,J1)
call GUF(O5,it,3,B0)
call GUF(O5,it,4,X2)
call GUF(O5,it,5,E2)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T2
set G6F[1]=Z2
endif
elseif(i1==1162032951)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,C0)
call GUF(O5,it,3,B0)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,E24)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=Z2
endif
elseif(i1==1160785970)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,C0)
call GUF(O5,it,3,J1)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,A1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DH4
set G6F[1]=T2
set G6F[2]=L5
endif
elseif(i1==1160786510)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,C0)
call GUF(O5,it,3,FR4)
call GUF(O5,it,4,D1)
call GUF(O5,it,5,B0)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=E1
set G6F[1]=Z2
endif
elseif(i1==1432510828)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,W5)
call GUF(O5,it,3,B0)
call GUF(O5,it,4,H2)
call GUF(O5,it,5,Z2)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=X2
endif
elseif(i1==1165451634)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,J1)
call GUF(O5,it,3,X1)
call GUF(O5,it,4,Y0)
call GUF(O5,it,5,WL)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T2
set G6F[1]=E2
set G6F[2]=U3
endif
elseif(i1==1162032181)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,J1)
call GUF(O5,it,3,Y0)
call GUF(O5,it,4,A1)
call GUF(O5,it,5,FR4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T2
set G6F[1]=X1
set G6F[2]=L5
endif
elseif(i1==1215722344)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,C0)
call GUF(O5,it,3,U1)
call GUF(O5,it,4,J1)
call GUF(O5,it,5,A1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T2
set G6F[1]=L5
set G6F[2]=H2
endif
elseif(i1==1160786242)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,D84)
call GUF(O5,it,3,D1)
call GUF(O5,it,4,Y0)
call GUF(O5,it,5,H2)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=E1
set G6F[1]=Z2
endif
elseif(i1==1311788336)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,NC)
call GUF(O5,it,3,U1)
call GUF(O5,it,4,X1)
call GUF(O5,it,5,H2)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DH4
set G6F[1]=R2
endif
elseif(i1==1211119409)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,D84)
call GUF(O5,it,3,J1)
call GUF(O5,it,4,U1)
call GUF(O5,it,5,WL)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T2
set G6F[1]=DH4
set G6F[2]=U3
endif
elseif(i1==1332766568)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,DS4)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,D84)
call GUF(O5,it,3,RW)
call GUF(O5,it,4,AL)
call GUF(O5,it,5,FR4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DH4
endif
elseif(i1==1160786738)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,VB)
call GUF(O5,it,3,D84)
call GUF(O5,it,4,X1)
call GUF(O5,it,5,DP4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DV4
endif
elseif(i1==1160786507)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,VB)
call GUF(O5,it,3,U1)
call GUF(O5,it,4,X1)
call GUF(O5,it,5,WL)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=R2
set G6F[1]=U3
endif
elseif(i1==1430467634)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,D84)
call GUF(O5,it,3,DU4)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,DP4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DH4
endif
elseif(i1==1160786505)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,D84)
call GUF(O5,it,3,C0)
call GUF(O5,it,4,U1)
call GUF(O5,it,5,X1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DP4
endif
elseif(i1==1430468913)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,VB)
call GUF(O5,it,3,RW)
call GUF(O5,it,4,U1)
call GUF(O5,it,5,V1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=R2
endif
elseif(i1==1328558389)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,H6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,VB)
call GUF(O5,it,3,DU4)
call GUF(O5,it,4,V1)
call GUF(O5,it,5,DP4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D74
endif
elseif(i1==1211117646)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,D84)
call GUF(O5,it,3,FR4)
call GUF(O5,it,4,H2)
call GUF(O5,it,5,DP4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DH4
endif
elseif(i1==1429221424)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,F5)
call GUF(O5,it,3,R5)
call GUF(O5,it,4,U1)
call GUF(O5,it,5,DP4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D74
set G6F[1]=T5
set G6F[2]=N5
endif
elseif(i1==1160786502)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,D84)
call GUF(O5,it,3,F5)
call GUF(O5,it,4,R5)
call GUF(O5,it,5,DP4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D74
set G6F[1]=T5
set G6F[2]=N5
endif
elseif(i1==1328558406)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,D84)
call GUF(O5,it,3,DJ4)
call GUF(O5,it,4,F5)
call GUF(O5,it,5,DP4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D74
set G6F[1]=DV4
set G6F[2]=N5
endif
elseif(i1==1429221445)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,D84)
call GUF(O5,it,3,DJ4)
call GUF(O5,it,4,F5)
call GUF(O5,it,5,FR4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=H2
set G6F[1]=DV4
set G6F[2]=N5
endif
elseif(i1==1211117640)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,F5)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,R5)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D74
set G6F[1]=T5
set G6F[2]=N5
endif
elseif(i1==1311781207)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,T1)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,FR4)
call GUF(O5,it,4,FC)
call GUF(O5,it,5,DJ4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DV4
endif
elseif(i1==1160786241)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DU4)
call GUF(O5,it,2,F5)
call GUF(O5,it,3,C0)
call GUF(O5,it,4,FR4)
call GUF(O5,it,5,D0)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=N5
endif
elseif(i1==1160786243)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DU4)
call GUF(O5,it,2,FR4)
call GUF(O5,it,3,R5)
call GUF(O5,it,4,D44)
call GUF(O5,it,5,DP4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T5
endif
elseif(i1==1332963428)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DU4)
call GUF(O5,it,2,R5)
call GUF(O5,it,3,FR4)
call GUF(O5,it,4,F5)
call GUF(O5,it,5,D74)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=N5
set G6F[1]=T5
endif
elseif(i1==1430468144)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DY4)
call GUF(O5,it,2,D94)
call GUF(O5,it,3,FR4)
call GUF(O5,it,4,H2)
call GUF(O5,it,5,DP4)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DV4
endif
elseif(i1==1160786506)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DY4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,F5)
call GUF(O5,it,4,FC)
call GUF(O5,it,5,D74)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=X2
set G6F[1]=N5
endif
elseif(i1==1160786504)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DY4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,F5)
call GUF(O5,it,4,FC)
call GUF(O5,it,5,V1)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D74
set G6F[1]=N5
endif
elseif(i1==1328558390)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DY4)
call GUF(O5,it,3,RW)
call GUF(O5,it,4,D94)
call GUF(O5,it,5,F5)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=DV4
set G6F[1]=D74
set G6F[2]=N5
endif
elseif(i1==1211117653)then
if NU[O5]==1 then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,FR4)
call GUF(O5,it,4,DR4)
call GUF(O5,it,5,D74)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D0
endif
else
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,N6)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DU4)
call GUF(O5,it,3,FR4)
call GUF(O5,it,4,R5)
call GUF(O5,it,5,OL)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T5
set G6F[1]=B0
endif
endif
elseif(i1==1311781199 or i1==1311781171 or i1==1311781172 or i1==1311781173)then
if K57[112+O5]then
set u=EQF(O5,it,(not GCF))
set K57[192+O5]=true
else
set u=null
endif
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,G6)
call GUF(O5,u,1,DS4)
call GUF(O5,it,2,DT4)
call R47(1.)
call GUF(O5,u,3,H2)
call GUF(O5,it,4,D84)
call GUF(O5,it,5,WL)
call GUF(O5,u,6,DG4)
call GUF(O5,u,7,DH4)
call GUF(O5,it,8,U1)
call GUF(O5,u,9,U1)
call GUF(O5,u,10,E2)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=V1
set G6F[1]=U3
endif
set u=null
elseif(i1==1311788363)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,S6)
call GUF(O5,it,3,DU4)
call GUF(O5,it,4,R5)
call GUF(O5,it,5,F5)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=D74
set G6F[1]=T5
set G6F[2]=N5
set G6F[3]=FC
endif
elseif(i1==1311788343)then
if(K17[144+O5]==M87)and(not K57[160+O5])then
call GUF(O5,it,0,F74)
call GUF(O5,it,1,DT4)
call GUF(O5,it,2,DY4)
call GUF(O5,it,3,DU4)
call GUF(O5,it,4,Q1)
call GUF(O5,it,5,R5)
endif
if(K17[144+O5]==M97)or(K57[160+O5])then
set G6F[0]=T5
set G6F[1]=U1
set G6F[2]=N5
endif
else
set J4=true
endif
if(not K57[112+O5])then
set K57[112+O5]=true
set K17[32+O5]=0
set K17[144+O5]=M77
set Q04[112+O5]=CreateTrigger()
call TriggerAddAction(Q04[112+O5],function GPF)
call TQ7(GetHandleId(Q04[112+O5]),"p",O5)
return
endif
if(not J4)and((K17[144+O5]==M97)or(K57[160+O5]))and(S87(it))then
if GCF then
set K57[176+O5]=true
else
if not K57[80+O5]then
call GIF(O5)
set K57[80+O5]=true
set K57[176+O5]=true
endif
endif
set SA7=true
if K17[112+O5]!=0 and K17[432+O5]!=2 then
set EXF=-1
else
set EXF=0
endif
if(K17[464+O5]<K17[480+O5]+EXF)and(not K57[48+O5])then
loop
exitwhen(K17[464+O5]>=K17[480+O5]+EXF)
set SA7=false
set EYF=LoadInteger(ED7,K17[448+O5],K17[464+O5])
set i=0
loop
exitwhen(i>23)or SA7
if(K07[O5*24+i]==EYF)then
set SA7=true
elseif SX7(EYF,K07[O5*24+i],false)then
set SA7=true
endif
if SA7 then
exitwhen true
endif
set i=i+1
endloop
if SA7 then
set SA7=GGF(O5,it,EYF,KL7[O5*24+i],true)
else
set SA7=GUF(O5,it,-2,EYF)
endif
if(SA7)then
set K17[464+O5]=K17[464+O5]+1
else
exitwhen true
endif
endloop
endif
if K17[112+O5]==0 and SA7 then
if IsPlayerAlly(Player(O5),Z7[0])then
set G0F="Sent|"
else
set G0F="Scrg|"
endif
set G1F=false
loop
set GLF=false
set EXF=1
if K57[64+O5]then
set EXF=0
endif
set SA7=true
loop
set i=EEF(O5)
exitwhen((i<=EXF)or(SA7==false))
set k=0
set i=0
set QB7=0
set G5F=0
loop
exitwhen i>9
if G6F[i]!=0 then
set QB7=i+1
endif
if G6F[10+i]!=0 then
set G5F=i+1
endif
set i=i+1
endloop
set i=0
set SA7=false
loop
exitwhen(((not K57[64+O5])and(i>=QB7+QB7))or(i>=QB7+QB7+G5F+G5F))
if i<QB7 then
set j=GetRandomInt(0,QB7)
elseif i<QB7+QB7 then
set j=i-QB7
elseif i<QB7+QB7+G5F then
set j=10+GetRandomInt(0,G5F)
else
set j=10+(i-(QB7+QB7+G5F))
endif
if G6F[j]!=0 then
if(G6F[j]==T2 and(UP7(R44,VY7(it)+"|Xb")))then
set G6F[j]=0
else
set k=UN7(1128887405,G0F+I2S(G6F[j]))
set EYF=UN7(1128877176,I2S(GetHandleId(it))+"|"+I2S(G6F[j]))
if(k>=1)or(((not EMF(G6F[j]))and(EYF>0))or(EYF>1))or(EHF(O5,it,G6F[j])==false and(G6F[j]==T2 and SR7(it,J1))==false)then
set G6F[j]=0
else
set SA7=GUF(O5,it,-2,G6F[j])
call SaveInteger(ED7,K17[448+O5],K17[480+O5],G6F[j])
set K17[480+O5]=K17[480+O5]+1
exitwhen true
endif
endif
endif
set i=i+1
endloop
endloop
call GIF(O5)
if K17[112+O5]==0 and(not G1F)then
set G1F=true
set SA7=true
loop
exitwhen SA7==false
set i=0
set j=0
set QB7=0
set k=0
set EYF=-1
set SA7=false
loop
exitwhen(i>5)
set bj_lastCreatedItem=UnitItemInSlot(it,i)
set EXF=RY7(bj_lastCreatedItem)
set j=0
if(LoadInteger(ED7,K17[224+O5],GetHandleId(bj_lastCreatedItem))!=0)or(UP7(1129085013,I2S(GetHandleId(it))+"|"+I2S(EXF)))then
elseif(EXF==RX)then
set j=10
elseif(EXF==DJ4)then
if(UN7(1128887405,G0F+I2S(DV4))<=1)then
set j=10
else
set j=1
endif
elseif(EXF==J1)then
set j=8
elseif((EXF==VB or EXF==WB)and(not SR7(it,ZU[DH4]))and(UN7(1128887405,G0F+I2S(DH4))<=1))then
set j=8
elseif(EXF==R5 or EXF==S5)then
set j=7
elseif(EXF==F5 or EXF==G5 or EXF==J5 or EXF==M5)then
set j=6
elseif((EXF==D1 and GetItemCharges(bj_lastCreatedItem)<=3)or EXF==F1)or(EXF==DK4 or EXF==DM4)or(EXF==D84 or EXF==D94)then
set j=5
elseif(EXF==A1)then
set j=4
elseif(EXF==WL)then
set j=4
elseif(EXF==FV or EXF==G6 or EXF==H6 or EXF==N6 or EXF==DS4 or EXF==LB or EXF==EC or EXF==F74)and(not K57[64+O5])then
set j=3
endif
if j>QB7 then
set QB7=j
set k=i
set EYF=EXF
endif
set i=i+1
endloop
if QB7!=0 then
if GCF then
call SaveInteger(ED7,K17[224+O5],GetHandleId(bj_lastCreatedItem),K17[48+O5])
endif
call TT7(1129085013,I2S(GetHandleId(it))+"|"+I2S(EYF),true)
call EDF(O5,it)
if(EYF==RX)then
set SA7=GUF(O5,it,-2,DJ4)
set EYF=DJ4
elseif(EYF==DJ4)and(UN7(1128887405,G0F+I2S(DV4))<=1)then
set SA7=GUF(O5,it,-2,DV4)
set EYF=DV4
elseif(EYF==J1)then
set SA7=GUF(O5,it,-2,T2)
set EYF=T2
elseif(EYF==R5 or EYF==S5)then
set SA7=GUF(O5,it,-2,T5)
set EYF=T5
elseif(EYF==F5 or EYF==G5 or EYF==J5 or EYF==M5)then
set SA7=GUF(O5,it,-2,N5)
set EYF=N5
elseif(EYF==D1 or EYF==F1)then
set SA7=GUF(O5,it,-2,E1)
set EYF=E1
elseif(EYF==A1)then
set SA7=GUF(O5,it,-2,L5)
set EYF=L5
elseif(EYF==WL)then
set SA7=GUF(O5,it,-2,U3)
set EYF=U3
elseif(EYF==FV or EYF==G6 or EYF==H6 or EYF==N6 or EYF==DS4 or EYF==LB or EYF==EC or EYF==F74)then
set SA7=GUF(O5,it,-2,F6)
if SA7 then
set GLF=true
endif
set EYF=F6
elseif(EYF==DJ4)then
set SA7=GUF(O5,it,-2,DV4)
set EYF=DV4
elseif(EYF==VB or EYF==WB)then
set K17[336+O5]=EYF
set SA7=GUF(O5,it,-2,DH4)
set EYF=DH4
elseif(EYF==DK4 or EYF==DM4)or(EXF==D84 or EXF==D94)then
set K17[336+O5]=EYF
set SA7=GUF(O5,it,-2,R2)
set EYF=R2
endif
call SaveInteger(ED7,K17[448+O5],K17[480+O5],EYF)
set K17[480+O5]=K17[480+O5]+1
endif
endloop
endif
exitwhen(not GLF)
endloop
endif
endif
if(not J4)and(i!=M77)and(not K57[64+O5])and(not GCF)and(not SR7(it,ZU[YC]))and(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HK4[YC])then
set EXF=EZF(O5,false)-5
if EXF>0 then
set j=EUF(O5,false,false)
if j!=-1 then
call E5F(O5,it,KL7[O5*24+j],K07[O5*24+j])
endif
endif
endif
if(not J4)and(i==M77)then
call GIF(O5)
set EXF=D0F(O5,it,false)
if GetHeroLevel(it)>=6 and K57[64+O5]==false then
set EXF=EXF-1
endif
if EXF>0 and MF7 then
call SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+HK4[GY])
call GHF(O5,it,GY,false)
set EXF=EXF-1
endif
if SR7(it,ZU[TC])then
call GHF(O5,it,TC,false)
endif
set K17[320+O5]=EXF
loop
exitwhen(EXF<=0)
call GHF(O5,it,QW,false)
set EXF=EXF-1
endloop
endif
set K57[48+O5]=false
if not GCF then
if K17[48+O5]<K17[32+O5]then
set K17[48+O5]=K17[32+O5]
endif
if K57[192+O5]then
call ETF(O5,null)
endif
call FlushChildHashtable(ED7,K17[224+O5])
endif
call FlushChildHashtable(ED7,K17[208+O5])
call FlushChildHashtable(ED7,K17[368+O5])
set K17[160+O5]=0
if GBF(O5,GCF)then
call GZF(O5)
elseif K17[432+O5]==2 then
call GIF(O5)
set K17[192+O5]=0
set K57[128+O5]=false
set K57[144+O5]=false
set KU4[32+O5]=KU4[O5]
endif
if((i1==1164277353)or(i1==1164277357))or((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
call DZF(it)
endif
endfunction
function G2F takes unit it returns nothing
local integer i1=GetUnitTypeId(it)
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local integer i
local integer j
local item RA7=null
local boolean SA7=true
local boolean G_F=false
local boolean H4F=(not GQF(O5))
if(not((Bz>=QD4-MD7)and(Bz>K17[176+O5])and(i1!=1211117642)))or K57[224+O5]then
return
endif
set K17[176+O5]=R2I(Bz)+ME7
set hq[592+O5]=Bz+FT7
set G0[320+O5]=false
if(GetUnitState(it,UNIT_STATE_LIFE)>1000. or GetUnitState(it,UNIT_STATE_LIFE)/GetUnitState(it,UNIT_STATE_MAX_LIFE)>0.8)==false and K17[96+O5]!=0 then
if(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HK4[K17[96+O5]])then
call G3F(O5,it,true)
endif
endif
loop
exitwhen GetUnitState(it,UNIT_STATE_LIFE)>1000. or GetUnitState(it,UNIT_STATE_LIFE)/GetUnitState(it,UNIT_STATE_MAX_LIFE)>0.8
if GetUnitState(it,UNIT_STATE_LIFE)<=.405 or IG4[O5]then
set K17[176+O5]=0
return
endif
call TriggerSleepAction(1.)
endloop
if(TL4 and T24[O5]==true)then
if(UnitHasItem(it,U44[O5]))then
call DisableTrigger(H94)
call UnitRemoveItem(it,U44[O5])
call RemoveItem(U44[O5])
call SetItemVisible(U44[O5],MG7)
call EnableTrigger(H94)
endif
if(T_4[O5]!=null)then
call R47(0.2)
call UnitAddItem(it,T_4[O5])
endif
set U44[O5]=null
set T_4[O5]=null
endif
if(U94[O5]==true)then
if(SR7(it,ZU[YC]))then
set U84[O5]=bj_lastCreatedItem
call DisableTrigger(H94)
call UnitRemoveItem(it,U84[O5])
call SetItemPosition(U84[O5],9999,-9999)
call SetItemVisible(U84[O5],MG7)
call EnableTrigger(H94)
set U84[O5]=null
endif
if(U74[O5]!=null)then
call R47(0.2)
call UnitAddItem(it,U74[O5])
endif
set U94[O5]=false
set U74[O5]=null
endif
if(SR7(it,ZU[DK4])and(UU7(it,"ArmletOfMordigan|Active")==true))then
call UnitUseItem(it,bj_lastCreatedItem)
endif
loop
call TriggerSleepAction(0.1)
exitwhen Bz>K17[160+O5]
if GetWidgetLife(it)<.405 then
set RA7=null
set K17[176+O5]=0
return
endif
endloop
if((R4)and(hG[128+O5]>0))then
set UP=GetPlayerState(GetOwningPlayer(it),PLAYER_STATE_RESOURCE_GOLD)
if(UP>=hG[128+O5])then
call SetPlayerStateBJ(GetOwningPlayer(it),PLAYER_STATE_RESOURCE_GOLD,UP-hG[128+O5])
set hG[128+O5]=0
else
call SetPlayerStateBJ(GetOwningPlayer(it),PLAYER_STATE_RESOURCE_GOLD,0)
set hG[128+O5]=hG[128+O5]-UP
endif
endif
set UP=0
set EO7=null
loop
set RA7=UnitItemInSlot(it,UP)
set i=GetPlayerId(GetItemPlayer(RA7))
if((RA7!=null)and((i!=O5))and(i!=15))then
if IsUnitEnemy(it,Player(i))then
set i=O5
else
if EO7==null then
set EO7=CreateForce()
call ForceEnumAllies(EO7,Player(O5),null)
endif
set bj_forLoopAIndex=GetPlayerId(GetItemPlayer(RA7))
call VQ7(it,EO7,GetObjectName(1496331312)+Q[bj_forLoopAIndex]+GetPlayerName(Player(bj_forLoopAIndex))+GetObjectName(1496331313)+GetItemName(RA7)+GetObjectName(1496331314))
endif
set j=RY7(RA7)
set EP7=CreateItem(SU[j],GetUnitX(KU4[i]),GetUnitY(KU4[i]))
call SetItemPlayer(EP7,GetItemPlayer(RA7),false)
call SetItemCharges(EP7,GetItemCharges(RA7))
call RemoveItem(RA7)
set RA7=null
endif
set UP=UP+1
exitwhen(UP>=bj_MAX_INVENTORY)
endloop
if EO7!=null then
call DestroyForce(EO7)
set EO7=null
endif
call TriggerSleepAction(0.1)
set K57[48+O5]=false
set KL7[304+O5]=null
if SA7 and H4F and(K17[32+O5]<K17[48+O5])then
loop
set UP=UN7(1128887405,I2S(GetHandleId(it))+"|s"+I2S(K17[32+O5]))
if UP!=0 then
if K17[32+O5]>K17[240+O5]then
set i=-2
else
set i=K17[32+O5]
endif
set SA7=GUF(O5,it,i,UP)
endif
exitwhen K17[32+O5]==K17[48+O5]or UP==0 or(not SA7)
endloop
elseif(not H4F)then
set SA7=false
endif
call E7F(O5)
set K17[320+O5]=0
if SA7 and K17[96+O5]!=0 and(not K57[144+O5])then
set SA7=(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HK4[K17[96+O5]])
endif
if SA7 and K17[112+O5]!=0 and K17[144+O5]!=M87 and(not GQF(O5))then
set SA7=GUF(O5,it,-2,K17[112+O5])
call GIF(O5)
endif
if H4F then
if(not MW7)and((UP7(R44,VY7(it)+"|W"))and(GetHeroLevel(it)>6))and(not D6F(O5,it))then
if((SR7(it,ZU[F6]))or(i1==1164799603)or(i1==1160786242)or(i1==1211117641)or(i1==1311780946)or(DTF(it)))then
if(UP7(R44,VY7(it)+"|G"))and(GetHeroLevel(it)>11)and(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1500.)and(Bz>=UO7(R44,VY7(it)+"|GTimer"))and(GVF(O5,it,EW,true))then
call TR7(R44,VY7(it)+"|GTimer",Bz+480.)
elseif((i1!=1315007329)and(i1!=1215722344)and(i1!=1430468913)and(i1!=1311781185))then
if(QQ7(i1)<=2 or GetRandomInt(1,3)==1)and(UN7(R44,VY7(it)+"|DustCount")<R2I(NW7*I2R(UN7(R44,VY7(it)+"|SentryCount"))))then
if GVF(O5,it,CC,true)then
call TQ7(R44,VY7(it)+"|DustCount",UN7(R44,VY7(it)+"|DustCount")+1)
endif
else
if GVF(O5,it,WC,true)then
call TQ7(R44,VY7(it)+"|SentryCount",UN7(R44,VY7(it)+"|SentryCount")+1)
endif
endif
endif
endif
endif
if(not G_F)and((not K57[64+O5])and((GetHeroLevel(it)>8)or(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1000))and(i1!=1164799603)and(i1!=1160786242)and(i1!=1211117641)and(i1!=1311780946))then
if not(SR7(it,ZU[YC])or SR7(KU4[O5],ZU[YC]))and(not SS7(it))then
call GHF(O5,it,YC,true)
set G_F=true
endif
endif
call GVF(O5,it,RX,(((GetHeroLevel(it)<17)and(UP7(R44,VY7(it)+"|X"))and(i1!=1429221446)and(i1!=1164207469)and(i1!=1162032951))and((not SR7(it,ZU[DJ4]))and(not SR7(it,ZU[DV4])))))
if SA7 or(K17[32+O5]<K17[48+O5])then
call G3F(O5,it,false)
endif
set K17[192+O5]=0
set K57[128+O5]=false
set K57[144+O5]=false
set K57[320+O5]=true
call GIF(O5)
set KL7[304+O5]=null
if(not G_F)and((not K57[64+O5])and((GetHeroLevel(it)>10)or(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1000))and(i1!=1164799603)and(i1!=1160786242)and(i1!=1211117641)and(i1!=1311780946))and(not SS7(it))then
if not(SR7(it,ZU[YC])or SR7(KU4[O5],ZU[YC]))and(not SS7(it))then
call GHF(O5,it,YC,true)
set G_F=true
endif
endif
if(PY4)then
call GVF(O5,it,TC,(GetHeroLevel(it)<8)and(GetUnitState(it,UNIT_STATE_MAX_LIFE)<1000))
else
call GVF(O5,it,QC,(GetHeroLevel(it)<8)and(GetUnitState(it,UNIT_STATE_MAX_LIFE)<1000))
endif
call E8F(O5,1)
if SR7(it,ZU[YC])and GetItemCharges(bj_lastCreatedItem)==1 then
call GHF(O5,it,YC,false)
endif
if SR7(it,ZU[WC])and GetItemCharges(bj_lastCreatedItem)==1 then
call GHF(O5,it,WC,false)
endif
if SR7(it,ZU[TC])and GetItemCharges(bj_lastCreatedItem)==1 then
call GHF(O5,it,TC,false)
endif
if SR7(it,ZU[QC])and GetItemCharges(bj_lastCreatedItem)==1 then
call GHF(O5,it,QC,false)
endif
if SR7(it,ZU[WB])then
call GHF(O5,it,F84,false)
endif
call E8F(O5,0)
call E7F(O5)
call GYF(O5)
call EDF(O5,it)
call ETF(O5,null)
endif
set K17[176+O5]=0
set it=null
set RA7=null
endfunction
function H7F takes nothing returns nothing
local unit u
local integer j
local integer QB7
local integer k
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)then
call G2F(GetTriggerUnit())
elseif false and(Bz>=K17[160+O5])and(Bz>K17[176+O5])and(F68(GetTriggerUnit()))then
set u=GetTriggerUnit()
set K17[160+O5]=R2I(Bz)+ME7
call EDF(O5,u)
set j=6
set k=K17[128+O5]-1
loop
exitwhen j>k
if KL7[O5*24+j]!=null and(LoadBoolean(ED7,K17[256+O5],GetHandleId(KL7[O5*24+j])))then
set QB7=E3F(O5,u,K07[O5*24+j],KL7[O5*24+j],false,true,false)
if QB7!=-1 and QB7<6 then
set KL7[O5*24+QB7]=KL7[O5*24+j]
set K07[O5*24+QB7]=K07[O5*24+j]
endif
call SetItemVisible(KL7[O5*24+j],MG7)
set KL7[O5*24+j]=null
endif
set j=j+1
endloop
set u=null
set K17[160+O5]=0
endif
endfunction
function H8F takes nothing returns nothing
local integer O5=1
local integer H9F=11
local boolean SA7=false
local boolean J4=true
local integer i=R2I(Bz)+ME7
loop
exitwhen O5>H9F
if O5==6 then
set O5=7
endif
set SA7=true
set J4=false
if Z17(Player(O5))and M7[O5]!=null and(Bz>K17[160+O5])and(Bz>K17[176+O5])and(RE7(M7[O5],h9[16+O5])>1200)then
if SA7 and K17[96+O5]!=0 then
set SA7=(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HK4[K17[96+O5]])
endif
if((SA7)and(K17[96+O5]!=0)and(K17[144+O5]==M87)and(eY[O5]==1)and(eY[80+O5]==1 or eY[80+O5]==2)and(K17[32+O5]==K17[48+O5])and(D3F(K17[96+O5]))and(not GZ[160+O5])and((not SS7(M7[O5]))or(K17[320+O5]>0)))and(not K57[288+O5])then
set K57[240+O5]=true
set SA7=false
elseif K57[240+O5]then
set K57[240+O5]=false
set bj_forLoopAIndex=GetUnitUserData(h8[O5])
if bj_forLoopAIndex>100 then
call AX7(M7[O5])
endif
endif
if SA7 and K17[112+O5]!=0 and K17[144+O5]!=M87 and(not GQF(O5))then
set K17[160+O5]=i
set K17[176+O5]=i
set K57[48+O5]=true
set SA7=GUF(O5,M7[O5],-2,K17[112+O5])
if SA7 then
set K17[112+O5]=0
endif
set K17[160+O5]=0
set K17[176+O5]=0
set K57[48+O5]=false
set J4=true
endif
if SA7 then
set K17[176+O5]=i
call G3F(O5,M7[O5],true)
set K17[176+O5]=0
elseif J4 then
call FlushChildHashtable(ED7,K17[208+O5])
endif
if(K17[192+O5]>M47)and(K57[144+O5])then
set K57[128+O5]=true
endif
if GBF(O5,true)then
call GZF(O5)
endif
endif
set O5=O5+1
endloop
endfunction
function HDF takes nothing returns nothing
if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))!=MAP_CONTROL_USER and QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false)then
if((GetItemPlayer(GetManipulatedItem())!=null)and(GetItemPlayer(GetManipulatedItem())!=Player(15))and(GetItemPlayer(GetManipulatedItem())!=GetOwningPlayer(GetTriggerUnit()))and((GetItemType(GetManipulatedItem())==ITEM_TYPE_POWERUP)or(RE7(GetTriggerUnit(),TG7(GetTriggerUnit()))<=2000.)))then
call UnitAddItem(M7[GetPlayerId(GetItemPlayer(GetManipulatedItem()))],GetManipulatedItem())
elseif((GetItemPlayer(GetManipulatedItem())==null)or(GetItemPlayer(GetManipulatedItem())==Player(15)))then
call SetItemPlayer(GetManipulatedItem(),GetOwningPlayer(GetTriggerUnit()),false)
endif
endif
endfunction
function HEF takes integer O5,real x,real y returns nothing
local unit it=CreateUnit(Player(15),1697656899,x,y,270.)
local texttag t=null
call UnitAddAbility(it,1097625443)
call UnitAddAbility(it,1093678162)
call UnitAddAbility(it,1093685300)
call SetUnitUserData(it,O5)
set h7[O5]=it
call SetUnitX(it,x)
call SetUnitY(it,y)
if(((O5>10)and(O5<18))or((O5>30)and(O5<40))or((O5>50)and(O5<60)))then
call GroupAddUnit(ii,it)
endif
set it=null
endfunction
function HFF takes integer O5,integer AT7,integer AU7,real x,real y returns nothing
call HEF(O5,x,y)
set hj[O5]=AT7
set hj[256+O5]=AU7
endfunction
function HGF takes integer i,boolean QZ7,real HHF returns integer
if i>5 and i<11 then
set i=11
elseif i>17 and i<25 then
set i=17
elseif i>25 and i<31 then
set i=31
elseif i>39 and i<45 then
set i=39
elseif i>45 and i<51 then
set i=51
elseif i>59 and i<100 then
set i=59
endif
if HHF>2000 then
return i
endif
if i>=11 and i<=17 then
if QZ7 then
if i>15 and P14==0 then
set i=15
elseif i>16 and P14<=1 then
set i=16
endif
else
if i<13 and P34==0 then
set i=13
elseif i<12 and P34<=1 then
set i=12
endif
endif
elseif i>=31 and i<=39 then
if QZ7 then
if i>35 and P04==0 then
set i=35
elseif i>37 and P04<=1 then
set i=37
endif
else
if i<34 and P64==0 then
set i=34
elseif i<33 and P64<=1 then
set i=33
endif
endif
elseif i>=51 and i<=59 then
if QZ7 then
if i>57 and P54==0 then
set i=57
elseif i>58 and P54<=1 then
set i=58
endif
else
if i<55 and PL4==0 then
set i=55
elseif i<52 and PL4<=1 then
set i=52
endif
endif
endif
return i
endfunction
function HIF takes integer O5,integer i,integer k,boolean QZ7 returns integer
if(i==31)or(i==32)then
return 334
elseif(i==33)then
return 328
elseif(i==34)then
if(h8[96+O5]==null or(GetUnitX(h7[35])-GetUnitY(h8[96+O5]))<=2100.)and G0[208+O5]then
return 329
else
set G0[208+O5]=false
return 326
endif
elseif(i==35)or(i==36)then
return 329
elseif(i==37)or(i==38)or(i==39)then
return 330
elseif(i==51)or(i==52)or(i==53)then
return 331
elseif(i==54)or(i==55)or(i==56)then
return 332
elseif(i==57)then
if(h8[96+O5]==null or(GetUnitY(h8[96+O5])-GetUnitX(h7[55]))<=2850.)and G0[208+O5]then
return 332
else
set G0[208+O5]=false
return 327
endif
elseif(i==58)or(i==59)then
return 333
elseif(k==1)then
if(i==11)or(i==12)then
return 334
elseif(i==13)then
return 335
elseif(i==14)then
if QZ7 then
return 336
else
return 335
endif
elseif(i==15)then
return 336
elseif(i==16)or(i==17)then
return 337
endif
elseif(k==2)then
if(i==11)or(i==12)then
return 338
elseif(i==13)then
return 339
elseif(i==14)then
if QZ7 then
return 341
else
return 340
endif
elseif(i==15)or(i==16)then
return 341
elseif(i==17)then
return 342
endif
endif
return 0
endfunction
function HJF takes integer O5,integer i,integer j returns boolean
if i==j then
return true
elseif(i==328 or i==334 or i==335 or i==326)and(j==328 or j==334 or j==335 or j==326)then
return true
elseif(i==329 or i==330 or i==326)and(j==329 or j==330 or j==326)then
return true
elseif(i==331 or i==332 or i==327)and(j==331 or j==332 or j==327)then
return true
elseif eY[272+O5]==0 then
if(i==338 or i==339 or i==340 or i==331 or i==332)and(j==338 or j==339 or j==340 or j==331 or j==332)then
return true
elseif(i==329 or i==330 or i==336 or i==337)and(j==329 or j==330 or j==336 or j==337)then
return true
endif
endif
return false
endfunction
function HKF takes unit PF7,integer O5 returns boolean
return((not GQF(O5))and(not K57[64+O5])and(GetUnitLevel(PF7)>5)and SR7(PF7,ZU[YC])==false and SS7(PF7)==false and K57[320+O5]and GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>200)
endfunction
function HMF takes nothing returns nothing
local unit PF7=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(PF7))
local integer UP=UN7(GetHandleId(GetTriggeringTrigger()),"SentNum")
local integer i
local boolean HNF=false
if GetPlayerController(Player(O5))==MAP_CONTROL_USER and PF7==M7[O5]then
if(IsUnitAlly(PF7,Z7[0]))then
set UP=UN7(GetHandleId(GetTriggeringTrigger()),"SentNum")
else
set UP=UN7(GetHandleId(GetTriggeringTrigger()),"ScrgNum")
endif
set h8[O5]=h7[UP+1]
set h8[80+O5]=h7[UP]
set h9[O5]=h7[UP-1]
set h9[16+O5]=h7[hj[UP]]
set h8[16+O5]=h7[hj[256+UP]]
endif
if((GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)and(IsUnitType(PF7,UNIT_TYPE_HERO)))then
if(IsUnitAlly(PF7,Z7[0]))then
set UP=UN7(GetHandleId(GetTriggeringTrigger()),"SentNum")
else
set UP=UN7(GetHandleId(GetTriggeringTrigger()),"ScrgNum")
endif
if(eY[O5]==9)then
if(not S47(PF7))then
set G0[176+O5]=true
endif
if((h8[128+O5]==h7[UP])and(eY[272+O5]==0))then
set h8[O5]=h7[UP]
set eY[O5]=1
elseif((h8[48+O5]==h7[UP]and(eY[272+O5]<=1))or((eY[272+O5]==1)and(G0[176+O5])))then
if eY[272+O5]==1 then
set h8[32+O5]=h7[HIF(O5,UN7(GetHandleId(GetTriggeringTrigger()),"SentNum"),eY[304+O5],(IsUnitAlly(PF7,Z7[0])))]
endif
set h8[48+O5]=h8[32+O5]
set h9[O5]=TG7(PF7)
if(iU(PF7))then
if R57(PF7)then
if G0[176+O5]then
call S57(PF7,851986,h8[48+O5])
else
if hq[640+O5]<=Bz then
call S57(PF7,851986,h9[O5])
else
call S57(PF7,851983,h9[O5])
endif
endif
endif
endif
elseif eY[272+O5]>=4 then
set EM7=true
if(h8[128+O5]==h7[UP])then
set eY[O5]=1
elseif(h8[48+O5]==h7[UP])and(eY[272+O5]==5)then
set h8[48+O5]=h8[128+O5]
elseif(h8[112+O5]==h7[UP])and(eY[272+O5]==4)then
set eY[272+O5]=5
set i=GetUnitUserData(h8[112+O5])
if IsUnitAlly(PF7,Z7[0])then
if(i>35 and i<40)then
set h8[48+O5]=h7[35]
elseif(i>55 and i<60)then
set h8[48+O5]=h7[55]
endif
else
if(i>30 and i<35)then
set h8[48+O5]=h7[35]
elseif(i>50 and i<55)then
set h8[48+O5]=h7[55]
endif
endif
set h8[32+O5]=h8[48+O5]
else
set EM7=false
endif
if EM7 then
if h8[96+O5]!=null then
call CWE(O5,h8[96+O5],true,true)
endif
if R57(PF7)then
if(h8[96+O5]!=null and S47(h8[96+O5]))then
call IssueTargetOrderById(PF7,851983,h8[96+O5])
else
call S57(PF7,851983,h8[48+O5])
endif
endif
endif
endif
elseif eY[O5]==1 and PF7==M7[O5]and(((UP==34 and P_4>4)or UP==35 or(UP==56 and Q44>6)or UP==57)or((UP==135 and P_4<=4)or UP==136 or(UP==153 and Q44<=6)or UP==154))and(K57[240+O5]or HKF(PF7,O5))then
set bj_lastLoadedUnit=PF7
set bj_lastLoadedUnit=SN7(1200,S07(PF7),Condition(function WR7))
if(bj_lastLoadedUnit==null)then
if UP==34 or UP==35 or UP==136 or UP==135 then
set h8[O5]=h7[353]
elseif UP==56 or UP==57 or UP==154 or UP==153 then
set h8[O5]=h7[354]
endif
set K57[256+O5]=true
call S57(PF7,851986,h8[O5])
endif
elseif eY[O5]==1 and is(PF7)and h4[O5]==null then
if((hj[256+UP]==18)or(hj[UP]==10))then
set i=UP-10
if(P24==i)then
set HNF=true
endif
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set i=UP-30
if(P_4==i)then
set HNF=true
endif
elseif((hj[256+UP]==60)or(hj[UP]==50))then
set i=UP-50
if(Q44==i)then
set HNF=true
endif
endif
set bj_lastLoadedUnit=PF7
if HNF and SR7(PF7,ZU[WC])and SN7(2000.,S07(h7[UP]),Condition(function YV7))==null and SN7(800.,S07(h7[UP]),Condition(function SQ7))==null then
call UnitUseItemPoint(PF7,bj_lastCreatedItem,GetUnitX(h7[UP]),GetUnitY(h7[UP]))
endif
endif
if((h8[O5]==h7[UP])or(h9[O5]==h7[UP])or((h8[16+O5]==h7[hj[256+UP]])and(h9[16+O5]==h7[hj[UP]]))or(h8[16+O5]==h7[hj[UP]])or(h9[16+O5]==h7[hj[256+UP]]))and(not K57[256+O5])then
call AV7(PF7,UP)
endif
if((SE7(PF7))and(not Id(O5))and(GetUnitCurrentOrder(PF7)==851986))then
if((UP==38)or(UP==37)or(UP==36))then
call AV7(PF7,32)
elseif((UP==138)or(UP==137)or(UP==136))then
call AV7(PF7,132)
elseif((UP==58)or(UP==57)or(UP==56))then
call AV7(PF7,52)
elseif((UP==158)or(UP==157)or(UP==156))then
call AV7(PF7,152)
endif
endif
elseif(O5==GetPlayerId(Z7[0]))then
if((hj[256+UP]==18)or(hj[UP]==10))then
set i=UP-10
if(P24+1==i)then
set P24=i
endif
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set i=UP-30
if(P_4+1==i)then
set P_4=i
endif
elseif((hj[256+UP]==60)or(hj[UP]==50))then
set i=UP-50
if(Q44+1==i)then
set Q44=i
endif
endif
elseif(O5==GetPlayerId(A7[0]))then
if((hj[256+UP]==18)or(hj[UP]==10))then
set i=UP-10
if(P24-1==i)then
set P24=i
endif
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set i=UP-30
if(P_4-1==i)then
set P_4=i
endif
elseif((hj[256+UP]==60)or(hj[UP]==50))then
set i=UP-50
if(Q44-1==i)then
set Q44=i
endif
endif
endif
set PF7=null
endfunction
function HOF takes nothing returns boolean
return((((GetOwningPlayer(GetTriggerUnit())==Z7[0])or(GetOwningPlayer(GetTriggerUnit())==A7[0]))and(not RW7(GetTriggerUnit()))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)))or((not IsUnitIllusion(GetTriggerUnit()))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))))
endfunction
function HPF takes nothing returns boolean
return((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))
endfunction
function HQF takes integer HRF,integer HSF returns nothing
local trigger t
local integer i=HRF
local boolexpr Ig=Condition(function HOF)
loop
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,h7[i],400.,Q24)
call TQ7(GetHandleId(t),"SentNum",i)
call TQ7(GetHandleId(t),"ScrgNum",hj[512+i])
call TriggerAddCondition(t,Ig)
call TriggerAddAction(t,function HMF)
set i=i+1
exitwhen i>HSF
endloop
set t=null
set Ig=null
endfunction
function HTF takes integer O5,integer UP,integer i,boolean QZ7 returns integer
local integer j
local integer k
if UP==326 then
if i==34 then
set j=34
else
set j=HIF(O5,i,1,QZ7)
endif
elseif UP==327 then
if i==57 then
set j=57
else
set j=HIF(O5,i,2,QZ7)
endif
else
set k=eY[304+O5]
set j=HIF(O5,i,k,QZ7)
if(j!=0)and(UP!=j)then
if HJF(O5,UP,j)then
elseif(k==1)then
set j=326
elseif(k==2)then
set j=327
endif
else
set j=i
endif
endif
return j
endfunction
function HUF takes integer O5,boolean QZ7,integer UP returns nothing
local integer i
local integer j
local boolexpr HVF=null
local unit PF7=null
if eY[272+O5]>3 then
return
endif
set eY[272+O5]=3
set i=1
set EM7=true
set bj_lastLoadedUnit=h7[PW7(QZ7,0,100)]
if h8[96+O5]!=null and S87(h8[96+O5])then
set j=GetPlayerId(GetOwningPlayer(h8[96+O5]))
endif
if((hq[656+O5]<Bz)or((h8[96+O5]!=null)and(RE7(h8[96+O5],h8[j])+400<RE7(h8[96+O5],h9[j]))))then
loop
exitwhen i>5
if QZ7 then
set j=GetPlayerId(Z7[i])
else
set j=GetPlayerId(A7[i])
endif
if((M7[j]!=null)and(GetWidgetLife(M7[j])>.405)and(eY[272+j]!=0)and(eY[j]==9)and(eY[288+j]==eY[288+O5])and(SE7(M7[j])==false))then
if eY[272+j]<3 then
set EM7=false
endif
endif
set i=i+1
endloop
endif
if EM7 then
if(h8[96+O5]!=null and GetWidgetLife(h8[96+O5])>.405 and(eY[32+GetPlayerId(GetOwningPlayer(h8[96+O5]))]>0))then
set bj_lastLoadedUnit=h8[96+O5]
else
set bj_lastLoadedUnit=h8[112+O5]
endif
set HVF=Condition(function W27)
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(M7[O5]),GetUnitY(M7[O5]),1800.,HVF)
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit),1800.,HVF)
call DestroyBoolExpr(HVF)
call GroupAddGroup(H8,iA)
set HVF=null
set j=0
loop
set PF7=FirstOfGroup(iA)
exitwhen PF7==null
call GroupRemoveUnit(iA,PF7)
if GetUnitTypeId(PF7)!=1211117642 and GetUnitLifePercent(PF7)>50 then
if IsUnitAlly(PF7,Player(O5))then
set j=j+1
elseif eY[32+GetPlayerId(GetOwningPlayer(PF7))]>0 then
set j=j-1
endif
endif
endloop
if QZ7 then
set EO7=X7
else
set EO7=Y7
endif
if j>=0 then
if QZ7 then
set bj_lastLoadedUnit=null
if(h8[96+O5]!=null and GetWidgetLife(h8[96+O5])>.405 and IsUnitVisible(h8[96+O5],Z7[0]))then
set bj_lastLoadedUnit=h8[96+O5]
else
set bj_lastLoadedUnit=h8[112+O5]
endif
else
if(h8[96+O5]!=null and GetWidgetLife(h8[96+O5])>.405 and IsUnitVisible(h8[96+O5],A7[0]))then
set bj_lastLoadedUnit=h8[96+O5]
else
set bj_lastLoadedUnit=h8[112+O5]
endif
endif
call VU7(EO7,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit),O5)
set h8[48+O5]=h8[112+O5]
set h8[32+O5]=h8[48+O5]
set bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(h8[96+O5]))
set i=1
loop
exitwhen i>5
if QZ7 then
set j=GetPlayerId(Z7[i])
else
set j=GetPlayerId(A7[i])
endif
if(eY[272+j]!=0)and(eY[j]==9)and(eY[288+j]==eY[288+O5])then
set h8[96+j]=h8[96+O5]
if GetWidgetLife(h8[96+O5])>.405 and IsUnitVisible(h8[96+O5],Player(O5))then
call CWE(j,h8[96+j],true,true)
endif
set h8[48+j]=h8[48+O5]
set h8[32+j]=h8[32+O5]
if not R57(M7[j])then
if h4[j]!=null then
call IssueTargetOrderById(M7[j],851983,h4[j])
else
call S57(M7[j],851983,h8[48+j])
endif
endif
set eY[272+j]=4
set hq[624+j]=Bz+F67
set GZ[128+j]=true
set G0[128+j]=true
set G0[256+j]=true
call VV7(M7[j],EO7)
if h8[96+O5]!=null then
call VQ7(M7[j],EO7,GetObjectName(1496330544)+Q[bj_forLoopAIndex]+GetUnitName(h8[96+O5])+"|r")
else
call VQ7(M7[j],EO7,GetObjectName(1496330297)+QV7(eY[288+O5],false)+"|r")
endif
endif
set i=i+1
endloop
else
set bj_lastLoadedUnit=h7[HTF(O5,GetUnitUserData(h8[32+O5]),GetUnitUserData(h8[128+O5]),QZ7)]
if h8[32+O5]==bj_lastLoadedUnit then
set h8[32+O5]=h8[128+O5]
else
set h8[32+O5]=bj_lastLoadedUnit
endif
set i=1
loop
exitwhen i>5
if QZ7 then
set j=GetPlayerId(Z7[i])
else
set j=GetPlayerId(A7[i])
endif
if(eY[272+j]!=0)and(eY[j]==9)and(eY[288+j]==eY[288+O5])then
set eY[272+j]=0
set h8[128+j]=h8[128+O5]
set h8[32+j]=h8[32+O5]
set h8[48+j]=h8[32+j]
if R57(M7[O5])then
call S57(M7[O5],851986,h8[32+j])
endif
call VV7(M7[j],EO7)
call VQ7(M7[j],EO7,GetObjectName(1496330296))
endif
set i=i+1
endloop
endif
else
if not G0[192+O5]then
set hq[656+O5]=Bz+F37
set G0[192+O5]=true
endif
set h8[48+O5]=h7[UP]
if R57(M7[O5])then
call IssueImmediateOrderById(M7[O5],851993)
endif
endif
set PF7=null
endfunction
function HWF takes boolean QZ7,integer O5,unit m5 returns nothing
local integer i=0
local integer j=0
local real HXF=RE7(M7[O5],m5)
local real C67
set i=1
loop
exitwhen i>11
if QZ7 then
set j=GetPlayerId(Z7[i])
else
set j=GetPlayerId(A7[i])
endif
if((M7[j]!=null)and(GetWidgetLife(M7[j])>.405)and(h4[j]!=null)and(eY[j]==1 or eY[j]>9)and(eY[64+j]==eY[288+O5]or eY[80+j]==eY[288+O5])and(SE7(M7[j])==false))then
set C67=RE7(M7[j],m5)
if C67>HXF-400 then
set h4[j]=m5
set hq[624+j]=Bz+F67
if is(M7[j])then
call IssueTargetOrderById(M7[j],851983,m5)
endif
endif
endif
set i=i+1
endloop
endfunction
function HYF takes nothing returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
return((GetTriggerUnit()==M7[O5])and(eY[O5]==9)and(Z17(Player(O5))))
endfunction
function HZF takes nothing returns nothing
local unit PF7=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(PF7))
local integer UP
local integer i
local integer j
local integer k
local boolean QZ7
set UP=UN7(GetHandleId(GetTriggeringTrigger()),"Num")
set QZ7=IsUnitAlly(PF7,Z7[0])
if(eY[272+O5]==0)or((eY[272+O5]<=3)and(h8[48+O5]==h7[UP]))then
if eY[272+O5]==0 then
set i=GetUnitUserData(h8[128+O5])
else
set i=GetUnitUserData(h8[112+O5])
endif
set j=HTF(O5,UP,i,QZ7)
if(eY[272+O5]==0)then
set h8[48+O5]=h7[j]
set h8[32+O5]=h8[48+O5]
if R57(M7[O5])then
call S57(M7[O5],851983,h8[48+O5])
endif
else
if j<100 then
call HUF(O5,QZ7,UP)
else
set eY[272+O5]=2
set h8[48+O5]=h7[j]
set h8[32+O5]=h8[48+O5]
if is(M7[O5])then
call S57(M7[O5],851983,h8[48+O5])
endif
endif
endif
endif
set PF7=null
endfunction
function HAF takes integer k,integer j returns nothing
local trigger t
local integer i=k
local boolexpr HBF=Condition(function HYF)
loop
exitwhen i>j
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,h7[i],400.,Q24)
call TQ7(GetHandleId(t),"Num",i)
call TriggerAddCondition(t,HBF)
call TriggerAddAction(t,function HZF)
set i=i+1
endloop
set HBF=null
set t=null
endfunction
function HCF takes nothing returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
return((GetTriggerUnit()==M7[O5])and(Z17(Player(O5))))
endfunction
function H3F takes nothing returns nothing
local unit it=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP=UN7(GetHandleId(GetTriggeringTrigger()),"Num")
if ZC7(Player(O5))then
if UP==353 then
call AV7(it,34)
elseif UP==354 then
call AV7(it,56)
endif
else
if UP==353 then
call AV7(it,135)
elseif UP==354 then
call AV7(it,153)
endif
endif
if(is(it))then
set bj_lastLoadedUnit=it
set bj_lastLoadedUnit=SN7(700,S07(h8[O5]),Condition(function WR7))
if(bj_lastLoadedUnit!=null)then
call S57(it,851986,h9[O5])
else
call S57(it,851983,h8[O5])
endif
endif
if(HKF(it,O5))then
set K57[320+O5]=GVF(O5,it,YC,true)
endif
if(K57[240+O5])then
if(K17[144+O5]==M87)and(K57[224+O5]==false)then
set K17[432+O5]=1
set K17[176+O5]=R2I(Bz)+ME7
call G3F(O5,it,false)
set K17[176+O5]=0
set K17[432+O5]=0
endif
set K57[240+O5]=false
set K57[256+O5]=false
endif
set it=null
endfunction
function H6F takes integer k,integer j returns nothing
local trigger t
local integer i=k
local boolexpr HBF=Condition(function HCF)
loop
exitwhen i>j
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,h7[i],200.,Q24)
call TQ7(GetHandleId(t),"Num",i)
call TriggerAddCondition(t,HBF)
call TriggerAddAction(t,function H3F)
set i=i+1
endloop
set HBF=null
set t=null
endfunction
function HLF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
local integer UP=UN7(GetHandleId(GetTriggeringTrigger()),"Num")
if(((UP==311)or(UP==312))and(eY[O5]==1))then
if(IsUnitAlly(GetTriggerUnit(),Z7[0]))then
if(h8[O5]==h7[36])then
call AV7(GetTriggerUnit(),34)
endif
else
if(h8[O5]==h7[136])then
call AV7(GetTriggerUnit(),134)
endif
endif
elseif(UP==313)then
if(IsUnitAlly(GetTriggerUnit(),A7[0]))then
if(h8[O5]==h7[136])then
set h9[O5]=h7[135]
endif
endif
elseif(UP==314)then
if(IsUnitAlly(GetTriggerUnit(),Z7[0]))then
if(h8[O5]==h7[36])then
set h9[O5]=h7[35]
endif
else
if(h8[O5]==h7[136])then
call AV7(GetTriggerUnit(),135)
endif
endif
elseif(((UP==321)or(UP==322))and(eY[O5]==1))then
if(IsUnitAlly(GetTriggerUnit(),Z7[0]))then
if(h8[O5]==h7[56])then
call AV7(GetTriggerUnit(),54)
endif
else
if(h8[O5]==h7[156])then
call AV7(GetTriggerUnit(),154)
endif
endif
elseif((UP==315)and(h8[32+O5]==h7[315])and(eY[O5]==10))then
set h8[32+O5]=h9[32+O5]
call S57(GetTriggerUnit(),851986,h8[32+O5])
elseif((UP==325)and(h8[32+O5]==h7[325])and(eY[O5]==10))then
set h8[32+O5]=h9[32+O5]
call S57(GetTriggerUnit(),851986,h8[32+O5])
endif
endfunction
function H1F takes integer HRF returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitInRange(t,h7[HRF],400.,Q24)
call TQ7(GetHandleId(t),"Num",HRF)
call TriggerAddCondition(t,Condition(function HPF))
call TriggerAddAction(t,function HLF)
endfunction
function H0F takes nothing returns nothing
call HEF(0,-7100,-6985)
call HEF(100,6644,6239)
call HEF(1,-5088.,-6426.)
call HEF(101,4826.,4177.)
call HEF(2,-4290.,-4302.)
call HEF(3,-3288.,-6529.)
call HEF(4,-6238.,-3594.)
call HEF(102,3493.,3180.)
call HEF(103,3041.,5967.)
call HEF(104,6041.,2585.)
set h7[10]=h7[0]
set h7[118]=h7[1]
call HFF(11,10,14,-4166.,-4124.)
call HFF(12,10,14,-2897.,-2633.)
call HFF(13,10,14,-1363.,-1425.)
call HFF(14,10,18,-594.,-602.)
call HFF(15,14,18,553.,-55.)
call HFF(16,14,18,1858.,1109.)
call HFF(17,14,18,3207.,2741.)
call AS7(111,17,110,114)
call AS7(112,16,110,114)
call AS7(113,15,110,114)
call AS7(114,14,110,118)
call AS7(115,13,114,118)
call AS7(116,12,114,118)
call AS7(117,11,114,118)
set h7[18]=h7[101]
set h7[110]=h7[100]
set h7[30]=h7[0]
set h7[140]=h7[1]
call HFF(31,30,35,-6267.,-3320.)
call HFF(32,30,35,-6377.,-1771.)
call HFF(33,30,35,-6066.,273.)
call HFF(34,30,35,-6241.,2786.)
call HFF(35,30,40,-6056.,5347.)
call HFF(36,35,40,-3254.,5752.)
call HFF(37,35,40,-819.,5859.)
call HFF(38,35,40,1086.,5572.)
call HFF(39,35,40,2675.,6207.)
call AS7(131,39,130,135)
call AS7(132,38,130,135)
call AS7(133,37,130,135)
call AS7(134,36,130,135)
call AS7(135,35,130,140)
call AS7(136,34,135,140)
call AS7(137,33,135,140)
call AS7(138,32,135,140)
call AS7(139,31,135,140)
set h7[40]=h7[101]
set h7[130]=h7[100]
set h7[50]=h7[0]
set h7[160]=h7[1]
call HFF(51,50,55,-3196.,-6567.)
call HFF(52,50,55,-237.,-6939.)
call HFF(53,50,55,1811.,-6860.)
call HFF(54,50,55,3727.,-6784.)
call HFF(55,50,60,5532.,-6495.)
call HFF(56,55,60,5943.,-5216.)
call HFF(57,55,60,6186.,-3270.)
call HFF(58,55,60,6040.,-646.)
call HFF(59,55,60,6018.,2213.)
call AS7(151,59,150,155)
call AS7(152,58,150,155)
call AS7(153,57,150,155)
call AS7(154,56,150,155)
call AS7(155,55,150,160)
call AS7(156,54,155,160)
call AS7(157,53,155,160)
call AS7(158,52,155,160)
call AS7(159,51,155,160)
set h7[60]=h7[101]
set h7[150]=h7[100]
set h7[211]=h7[12]
set h7[212]=h7[13]
set h7[213]=h7[16]
call HEF(221,-6220.,3550.)
set h7[222]=h7[36]
set h7[223]=h7[37]
set h7[231]=h7[53]
set h7[232]=h7[54]
set h7[233]=h7[56]
call HEF(234,6070.,-3550.)
set h7[235]=h7[58]
call HEF(250,GetRectCenterX(ND),GetRectCenterY(ND))
call HEF(251,GetRectCenterX(Br),GetRectCenterY(Br))
call HEF(252,GetRectCenterX(cr),GetRectCenterY(cr))
call HEF(253,GetRectCenterX(Cr),GetRectCenterY(Cr))
call HEF(254,GetRectCenterX(fr),GetRectCenterY(fr))
call HEF(255,GetRectCenterX(Fr),GetRectCenterY(Fr))
call HEF(256,GetRectCenterX(Hr),GetRectCenterY(Hr))
call HEF(257,GetRectCenterX(jr),GetRectCenterY(jr))
call HEF(258,GetRectCenterX(Jr),GetRectCenterY(Jr))
call HEF(259,GetRectCenterX(lr),GetRectCenterY(lr))
call HEF(260,GetRectCenterX(mr),GetRectCenterY(mr))
call HEF(261,GetRectCenterX(Ni),GetRectCenterY(Ni))
call HEF(262,GetRectCenterX(Bi),GetRectCenterY(Bi))
call HEF(311,-5232.,3757.)
call HEF(312,-3490.,4685.)
call HEF(313,-6209.,4324.)
call HEF(314,-5024.,5571.)
call HEF(315,-1717.,894.)
call HEF(321,3995.,-5720.)
call HEF(322,4976.,-5129.)
call HEF(325,2222.,-2405.)
call HEF(326,-2300.,1600.)
call HEF(327,3000.,-1820.)
call HEF(328,-4250.,-110.)
call HEF(329,-3950.,4100.)
call HEF(330,150.,2460.)
call HEF(331,2100.,-5600.)
call HEF(332,4350.,-4750.)
call HEF(333,4650.,-1050.)
call HEF(334,-3300.,-1450.)
call HEF(335,-1750.,-100.)
call HEF(336,-250.,700.)
call HEF(337,890.,2100.)
call HEF(338,-2100.,-4200.)
call HEF(339,-310.,-2900.)
call HEF(340,800.,-2200.)
call HEF(341,1900.,-1300.)
call HEF(342,3600.,-100.)
call HEF(351,-5210,5660)
call HEF(352,5260,-6470)
call HEF(353,-7080,4280)
call HEF(354,7210,-4230)
endfunction
function H5F takes nothing returns nothing
local trigger t
call HQF(11,17)
if(not PE4)then
call HQF(31,39)
call HQF(51,59)
endif
call H1F(311)
call H1F(312)
call H1F(313)
call H1F(314)
call H1F(315)
call H1F(321)
call H1F(322)
call H1F(325)
call HAF(326,342)
call H6F(353,354)
endfunction
function H2F takes integer o6,integer D8F,integer n6 returns integer
if(D8F<o6)then
return o6
elseif(D8F>n6)then
return n6
endif
return D8F
endfunction
function H_F takes unit it,integer o6 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP=GetUnitUserData(h8[O5])
local integer I4F
if(IsUnitAlly(it,Z7[0]))then
if(((o6==-1)and((hj[256+UP]==18)or(hj[UP]==10)))or(o6==0))then
set I4F=9+P24
call AV7(it,H2F(11,I4F,17))
elseif(((o6==-1)and((hj[256+UP]==40)or(hj[UP]==30)))or(o6==1))then
set I4F=29+P_4
call AV7(it,H2F(31,I4F,39))
elseif(((o6==-1)and((hj[256+UP]==60)or(hj[UP]==50)))or(o6==2))then
set I4F=49+Q44
call AV7(it,H2F(51,I4F,59))
endif
else
set UP=hj[512+UP]
if(((o6==-1)and((hj[256+UP]==118)or(hj[UP]==110)))or(o6==0))then
set I4F=117-P24
call AV7(it,H2F(111,I4F,117))
elseif(((o6==-1)and((hj[256+UP]==140)or(hj[UP]==130)))or(o6==1))then
set I4F=139-P_4
call AV7(it,H2F(131,I4F,139))
elseif(((o6==-1)and((hj[256+UP]==160)or(hj[UP]==150)))or(o6==2))then
set I4F=159-Q44
call AV7(it,H2F(151,I4F,159))
endif
endif
endfunction
function I7F takes unit it,unit I8F returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1=GetUnitTypeId(it)
local real QE7=Bz+10
if(i1!=1211117642)then
set h9[16+O5]=TG7(it)
set h9[O5]=TG7(it)
call Q37(it,O5)
set G0[32+O5]=true
set GZ[O5]=false
set G0[48+O5]=false
set G0[O5]=false
set GZ[160+O5]=false
set hq[864+O5]=GetRandomReal(-EU7,EU7)
call SaveBoolean(L7,GetHandleId(it),1145131595,false)
call RemoveSavedHandle(L7,GetHandleId(it),1145131595)
if Bz>QD4 then
call EnableTrigger(Q04[128+O5])
endif
endif
call RemoveGuardPosition(it)
loop
exitwhen((GetUnitLifePercent(it)>95.)and(GetUnitManaPercent(it)>95.)and(Bz>QE7 or(Bz>K17[160+O5])))
if(((PU4)and(IsUnitAlly(it,Z7[0])))or((PV4)and(IsUnitAlly(it,A7[0]))))then
exitwhen((GetUnitLifePercent(it)>75.)and(GetUnitManaPercent(it)>25.))
endif
if(not S87(it))then
set eY[O5]=1
exitwhen true
endif
if(IsUnitInRange(it,I8F,600.))then
call SetUnitLifePercentBJ(it,RMinBJ(GetUnitLifePercent(it)+5.,100.))
call SetUnitManaPercentBJ(it,RMinBJ(GetUnitManaPercent(it)+5.,100.))
if(is(it))then
call IssueTargetOrderById(it,851971,I8F)
endif
elseif(not S87(I8F))then
exitwhen true
endif
call TriggerSleepAction(1.)
endloop
endfunction
function I9F takes integer O5,unit IDF,unit IEF,unit IFF returns boolean
local integer i=0
local boolean SA7=false
set bj_lastReplacedUnit=null
if(O5==0)then
set bj_lastReplacedUnit=IDF
elseif(O5==1)then
set bj_lastReplacedUnit=IEF
elseif(O5==2)then
set bj_lastReplacedUnit=IFF
else
return false
endif
set i=UN7(GetHandleId(bj_lastReplacedUnit),"AI|TowerDef_Require")
if(i>0)then
call TQ7(GetHandleId(bj_lastReplacedUnit),"AI|TowerDef_Require",i-1)
return true
endif
return false
endfunction
function IGF takes unit AU7 returns boolean
call MoveLocation(Ha,GetUnitX(AU7),GetUnitY(AU7))
return((SO7(1800.,Ha,Condition(function WX7))-(SO7(1400.,Ha,Condition(function WW7))*4))>5)
endfunction
function IHF takes nothing returns nothing
local integer i=1
local integer j=0
loop
exitwhen j>10
if(EB7[112+j]!=0)then
set EB7[144+j]=R2I(Bz)+FB7
endif
set EB7[112+j]=0
set EB7[128+j]=0
set j=j+1
endloop
set i=1
loop
exitwhen i>11
if(M7[i]!=null)then
call RI7(i)
endif
set i=i+1
endloop
set i=1
loop
exitwhen i>5
set j=GetPlayerId(Z7[i])
if((eY[80+j]==3)and(eY[64+j]<3))or(eY[64+j]==5)then
set EB7[112+eY[64+j]]=EB7[112+eY[64+j]]+1
else
set EB7[112+eY[80+j]]=EB7[112+eY[80+j]]+1
endif
if eY[32+j]>0 then
set EB7[128+eY[80+j]]=EB7[128+eY[80+j]]+1
endif
set j=GetPlayerId(A7[i])
if((eY[80+j]==4)and(eY[64+j]<3))or(eY[64+j]==5)then
set EB7[112+6+eY[64+j]]=EB7[112+6+eY[64+j]]+1
else
set EB7[112+6+eY[80+j]]=EB7[112+6+eY[80+j]]+1
endif
if eY[32+j]>0 then
set EB7[128+6+eY[80+j]]=EB7[128+6+eY[80+j]]+1
endif
set i=i+1
endloop
endfunction
function IIF takes unit it returns integer
local integer j=3
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(G3>=0)then
set j=G3
elseif(GetHeroLevel(it)<6)then
set j=eY[64+O5]
elseif(GetHeroLevel(it)>=PC4)then
if(PV4 and EB7[64+O5]>=0)then
set j=PW7(EB7[64+O5]==3,0,EB7[64+O5])
elseif(G1>=0)then
set j=G1
endif
endif
if(j==3)then
set bj_lastLoadedUnit=it
if(I9F(P14,JL4,J54,K44))then
set j=0
elseif(I9F(P54,J14,J24,K74))then
set j=2
elseif(I9F(P04,J64,J04,J_4))then
set j=1
elseif(IC(O5))then
if(EB7[112+6+0]==1)then
set j=0
elseif(EB7[112+6+1]==1)then
if((EB7[112+6+2]==0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
endif
elseif(((EB7[112+6+0]==0)and(EB7[128+0]>0))or((EB7[128+0]-EB7[112+6+0])>1))then
set j=0
elseif((EB7[128+1]-EB7[112+6+1])>1)then
set j=1
elseif((EB7[128+2]-EB7[112+6+2])>1)then
set j=2
elseif((EB7[112+6+1]==0)and(EB7[128+1]>0))then
if((EB7[112+6+2]>0)or(EB7[128+2]==0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
elseif((EB7[112+6+2]==0)and(EB7[128+2]>0))then
set j=2
elseif(EB7[112+6+0]==0)then
set j=0
elseif(EB7[112+6+1]==0)then
if((EB7[112+6+2]>0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
elseif(EB7[112+6+2]==0)then
set j=2
endif
elseif((GetHeroLevel(it)>13)and(G3<0)and(G1>=0)and(j==G1)and((EB7[128+j])-EB7[112+6+j]>=0))then
if((j!=0)and(P14>=2)and(IGF(h7[17])))then
set j=0
elseif((j!=1)and(P04>=2)and(IGF(h7[39])))then
set j=1
elseif((j!=2)and(P54>=2)and(IGF(h7[59])))then
set j=2
endif
endif
if(j>=3)then
set j=eY[64+O5]
if(j>=3)then
set j=GetRandomInt(0,2)
endif
endif
return j
endfunction
function IJF takes unit PF7 returns nothing
local unit SD7=null
local integer O5=GetPlayerId(GetOwningPlayer(PF7))
local integer i
local boolean J4=false
local integer QA7=PW7(IsUnitAlly(PF7,Z7[0]),0,24)
set hq[528+O5]=Bz+5.
if((is(PF7))and(not SE7(PF7))and(not G0[32+O5]))and(h4[O5]==null)then
call GroupClear(H8)
set bj_lastLoadedUnit=PF7
call GroupEnumUnitsInRange(H8,GetUnitX(PF7),GetUnitY(PF7),700.,E67)
set i=(U17(H8))
if G0[48+O5]and Bz>hq[768+O5]then
set J4=(i>2)
if not J4 then
set G0[48+O5]=false
endif
if not J4 then
else
endif
endif
if(not J4)and R57(PF7)then
set bj_lastLoadedUnit=PS7(IsUnitAlly(PF7,Z7[0]),IZ4,JA4)
set EI7=RE7(PF7,bj_lastLoadedUnit)
if G0[240+O5]then
if(EI7>3500.)then
call S57(PF7,851986,h9[O5])
set J4=true
else
set G0[240+O5]=false
endif
endif
if(not J4)then
if(EI7>6000.)then
call S57(PF7,851986,h9[O5])
elseif EI7<700. and i>0 then
set J4=S57(PF7,851983,h8[64+O5])
else
if(not J4)and(EC7[QA7+EB7[64+O5]]==EC7[QA7+4+EB7[64+O5]])then
set SD7=EC7[QA7+4+EB7[64+O5]]
if SD7!=null and GetWidgetLife(SD7)>.405 then
set J4=IssueTargetOrderById(PF7,851983,SD7)
endif
endif
if(not J4)and G0[224+O5]then
set SD7=EC7[48+O5]
if SD7!=null and GetWidgetLife(SD7)>.405 then
set J4=IssueTargetOrderById(PF7,851983,SD7)
endif
if not J4 then
set G0[224+O5]=false
endif
endif
if not J4 then
set SD7=EC7[QA7+EB7[64+O5]]
if SD7!=null and GetWidgetLife(SD7)>.405 then
set J4=IssueTargetOrderById(PF7,851983,SD7)
endif
endif
if not J4 then
set SD7=EC7[QA7+16+EB7[64+O5]]
if SD7==null or GetWidgetLife(SD7)<.405 then
set SD7=FirstOfGroup(H8)
if SD7!=null then
set EC7[QA7+16+EB7[64+O5]]=SD7
else
set SD7=EC7[QA7+12+EB7[64+O5]]
if SD7==null or GetWidgetLife(SD7)<.405 then
set SD7=h8[64+O5]
endif
endif
endif
if(RE7(PF7,SD7)>FQ7)then
set J4=S57(PF7,851986,SD7)
elseif GetUnitCurrentOrder(PF7)!=851983 then
set J4=S57(PF7,851983,SD7)
endif
endif
endif
endif
endif
endif
set PF7=null
set SD7=null
endfunction
function IKF takes unit IMF,integer O5,boolean INF returns nothing
local integer j
local integer QA7
set G0[32+O5]=false
set G0[352+O5]=false
if(INF)then
set QA7=PW7(IsUnitAlly(IMF,Z7[0]),0,24)
if EB7[64+O5]>=0 and EB7[QA7+EB7[64+O5]]>FF7 then
set eY[O5]=PW7((not GZ[480+O5]),3,4)
else
set j=QY7(IsUnitAlly(IMF,Z7[0]))
if j!=-1 then
set EB7[64+O5]=j
set EB7[QA7+8+j]=EB7[QA7+8+j]-1
set EB7[QA7+12+j]=EB7[QA7+12+j]+1
call Q37(IMF,O5)
set eY[O5]=PW7((not GZ[480+O5]),3,4)
endif
endif
endif
if(eY[O5]==3 or eY[O5]==4)then
call IJF(IMF)
else
if(Bz>QD4)and(is(IMF))then
call S57(IMF,851983,h8[O5])
endif
set eY[O5]=1
endif
endfunction
function IOF takes integer IPF,integer IQF returns integer
if((PE4)or((PH4)and(PF4)))then
return 0
elseif((PG4)and(PF4))then
return 1
elseif((PG4)and(PH4))then
return 2
elseif((IQF>15)or((IPF==0)and(not PG4))or((IPF==1)and(not PH4))or((IPF==2)and(not PF4)))then
return IPF
elseif((not PG4)and(((PH4)and(PF4))or(GetRandomInt(1,2)==1)))then
return 0
elseif((not PH4)and((PF4)or(GetRandomInt(1,2)==1)))then
return 1
elseif(not PF4)then
return 2
endif
return GetRandomInt(0,2)
endfunction
function IRF takes unit it returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer j=0
if(GetUnitTypeId(it)!=1211117642)then
if(eY[O5]==2)then
set it=null
return
else
set eY[O5]=2
set h8[O5]=h7[111]
endif
endif
call I7F(it,JA4)
if(GetUnitTypeId(it)!=1211117642)then
if Bz>QD4 then
set j=eY[64+O5]
set eY[64+O5]=5
call IHF()
endif
set eY[64+O5]=j
set j=IOF(IIF(it),GetHeroLevel(it))
if(j==0)then
set h8[O5]=h7[111]
set h8[16+O5]=h7[114]
elseif(j==1)then
set h8[O5]=h7[131]
set h8[16+O5]=h7[135]
else
set h8[O5]=h7[151]
set h8[16+O5]=h7[155]
endif
set eY[64+O5]=j
set hq[576+O5]=Bz+FZ7
call IKF(it,O5,PV4)
endif
set it=null
endfunction
function ISF takes nothing returns nothing
call IRF(GetTriggerUnit())
endfunction
function ITF takes unit it returns integer
local integer j=3
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(G4>=0)then
set j=G4
elseif(GetHeroLevel(it)<6)then
set j=eY[64+O5]
elseif(GetHeroLevel(it)>=PB4)then
if(PU4 and EB7[64+O5]>=0)then
set j=PW7(EB7[64+O5]==3,0,EB7[64+O5])
elseif(G1>=0)then
set j=G2
endif
endif
if(j==3)then
set bj_lastLoadedUnit=it
if(I9F(P34,JH4,JK4,JO4))then
set j=0
elseif(I9F(P64,JG4,JJ4,JN4))then
set j=1
elseif(I9F(PL4,JI4,JM4,JP4))then
set j=2
elseif(IC(O5))then
if(EB7[112+0]==1)then
set j=0
elseif(EB7[112+1]==1)then
if((EB7[112+2]==0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
endif
elseif(((EB7[112+0]==0)and(EB7[128+6+0]>0))or((EB7[128+6+0]-EB7[112+0])>1))then
set j=0
elseif((EB7[128+6+1]-EB7[112+1])>1)then
set j=1
elseif((EB7[128+6+2]-EB7[112+2])>1)then
set j=2
elseif((EB7[112+1]==0)and(EB7[128+6+1]>0))then
if((EB7[112+2]>0)or(EB7[128+6+2]==0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
elseif((EB7[112+2]==0)and(EB7[128+6+2]>0))then
set j=2
elseif(EB7[112+0]==0)then
set j=0
elseif(EB7[112+1]==0)then
if((EB7[112+2]>0)or(GetRandomInt(1,2)==1))then
set j=1
else
set j=2
endif
elseif(EB7[112+2]==0)then
set j=2
endif
elseif((GetHeroLevel(it)>13)and(G4<0)and(G2>=0)and(j==G2)and((EB7[128+6+j]-EB7[112+j])>=0))then
if((j!=0)and(P34>=2)and(IGF(h7[11])))then
set j=0
elseif((j!=1)and(P64>=2)and(IGF(h7[31])))then
set j=1
elseif((j!=2)and(PL4>=2)and(IGF(h7[51])))then
set j=2
endif
endif
if(j>=3)then
set j=eY[64+O5]
if(j>=3)then
set j=GetRandomInt(0,2)
endif
endif
return j
endfunction
function IUF takes unit it returns nothing
local integer j=0
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(GetUnitTypeId(it)!=1211117642)then
if(eY[O5]==2)then
set it=null
return
else
set eY[O5]=2
set h8[O5]=h7[11]
endif
endif
call I7F(it,IZ4)
if(GetUnitTypeId(it)!=1211117642)then
if Bz>QD4 then
set j=eY[64+O5]
set eY[64+O5]=5
call IHF()
endif
set eY[64+O5]=j
set j=IOF(ITF(it),GetHeroLevel(it))
if(j==0)then
set h8[O5]=h7[11]
set h8[16+O5]=h7[14]
elseif(j==1)then
set h8[O5]=h7[31]
set h8[16+O5]=h7[35]
else
set h8[O5]=h7[51]
set h8[16+O5]=h7[55]
endif
set eY[64+O5]=j
set hq[576+O5]=Bz+FZ7
call IKF(it,O5,PU4)
endif
set it=null
endfunction
function IVF takes nothing returns nothing
call IUF(GetTriggerUnit())
endfunction
function IWF takes nothing returns nothing
local unit it=U87(GetHandleId(GetTriggeringTrigger()),"u")
call DisableTrigger(GetTriggeringTrigger())
if IsUnitAlly(it,Z7[0])then
if(RE7(it,IZ4)<700)then
call IUF(it)
endif
else
if(RE7(it,JA4)<700)then
call IRF(it)
endif
endif
set it=null
endfunction
function IXF takes integer O5,boolean QZ7 returns nothing
local integer i=1
local integer IYF=PW7(QZ7,0,6)
local integer QA7=PW7(QZ7,0,24)
if(eY[O5]==3 and Z17(Player(O5))and GetWidgetLife(M7[O5])>.405)then
set G0[48+O5]=false
if GetUnitLifePercent(M7[O5])<70. or GetUnitManaPercent(M7[O5])<50. then
set eY[O5]=1
set G0[352+O5]=true
call VX7(M7[O5],true)
call TU7(R44,"OB|U",M7[O5])
call ExecuteFunc("IZF")
else
if(RF7(GetUnitX(M7[O5]),GetUnitY(M7[O5]),E37[QA7],E37[QA7+1])<12000.)then
if(h9[16+O5]==h7[35])then
set h8[16+O5]=h7[35]
set h8[O5]=h7[35]
elseif(h9[16+O5]==h7[55])then
set h8[16+O5]=h7[55]
set h8[O5]=h7[55]
elseif(h9[16+O5]==h7[14])then
set h8[16+O5]=h7[14]
set h8[O5]=h7[14]
elseif(RF7(GetUnitX(M7[O5]),GetUnitY(M7[O5]),E37[QA7],E37[QA7+1])>5000.)then
if(eY[80+O5]==0)then
set h8[16+O5]=h7[14]
set h8[O5]=h7[14]
elseif(eY[80+O5]==1)then
set h8[16+O5]=h7[35]
set h8[O5]=h7[35]
elseif(eY[80+O5]==2)then
set h8[16+O5]=h7[55]
set h8[O5]=h7[55]
endif
endif
set h9[16+O5]=TG7(M7[O5])
set h9[O5]=TG7(M7[O5])
endif
if(is(M7[O5]))then
call S57(M7[O5],851983,h8[O5])
endif
set eY[O5]=1
endif
endif
endfunction
function IAF takes boolean QZ7 returns boolean
local group g=CreateGroup()
local unit PF7=null
local integer O5=0
local integer IYF=PW7(QZ7,0,6)
local integer QA7=PW7(QZ7,0,24)
local integer i
local integer j
local boolean bIsDef=false
set i=0
loop
exitwhen i>18
set EB7[QA7+i]=0
set i=i+1
endloop
set EB7[QA7+19]=-1
set EB7[QA7+20]=-1
set EB7[QA7+21]=-1
set EB7[QA7+22]=-1
set EB7[QA7+23]=-1
call GroupEnumUnitsInRange(g,E37[QA7],E37[QA7+1],6000.,Q24)
loop
set PF7=FirstOfGroup(g)
exitwhen PF7==null
call GroupRemoveUnit(g,PF7)
set O5=GetPlayerId(GetOwningPlayer(PF7))
set i=GetUnitTypeId(PF7)
if((GetUnitAbilityLevel(PF7,1093678162)!=0 and((i==1970107511 or i==1966092370)or(i==1700946284 or i==1697657398))==false)or GetUnitAbilityLevel(PF7,1097625443)!=0 or GetWidgetLife(PF7)<50.)then
elseif(IsUnitAlly(PF7,Z7[0])==QZ7)or O5==12 or O5>14 then
elseif not(IsUnitType(PF7,UNIT_TYPE_MELEE_ATTACKER)or IsUnitType(PF7,UNIT_TYPE_RANGED_ATTACKER))then
else
set j=-1
if(QZ7 and(PW4==false or PL4>2 or P34>2 or P64>2))or(QZ7==false and(PX4==false or P54>2 or P14>2 or P04>2))then
if RF7(GetUnitX(PF7),GetUnitY(PF7),E37[QA7+2],E37[QA7+3])<=1400. then
set j=3
endif
endif
if j==-1 then
set i=R2I(Atan2(GetUnitY(PF7)-E37[QA7+1],GetUnitX(PF7)-E37[QA7])*bj_RADTODEG)
if i>360 then
set i=i-360
elseif i<0 then
set i=i+360
endif
if QZ7 then
if i<25 and PL4>=2 then
set j=2
elseif i>65 and P64>=2 then
set j=1
elseif P34>=2 then
set j=0
endif
else
if i>245 and P54>=2 then
set j=2
elseif i<205 and P04>=2 then
set j=1
elseif P14>=2 then
set j=0
endif
endif
endif
if j!=-1 and((j!=0 or(not PG4))and(j!=1 or(not PH4))and(j!=2 or(not PF4)))then
set i=GetUnitTypeId(PF7)
if IsUnitType(PF7,UNIT_TYPE_HERO)and i!=1211117642 then
set EB7[QA7+4+j]=EB7[QA7+4+j]+1
set EB7[QA7+19+O5-IYF-1]=j
set EB7[QA7+j]=EB7[QA7+j]+FE7
if(EC7[QA7+12+j]==null or GetWidgetLife(EC7[QA7+12+j])<.405)or(GetWidgetLife(PF7)<GetWidgetLife(EC7[QA7+12+j]))then
set EC7[QA7+12+j]=PF7
endif
elseif O5!=GetPlayerId(Z7[0])and O5!=GetPlayerId(A7[0])then
set EB7[QA7+j]=EB7[QA7+j]+3
else
if(i==1969711215 or i==1970169187)or(i==1966092337 or i==1966092338)or(i==1702061422 or i==1701081721)or(i==1697656918 or i==1697656919)then
set EB7[QA7+j]=EB7[QA7+j]+1
if EC7[QA7+16+j]==null or GetWidgetLife(EC7[QA7+16+j])<.405 then
set EC7[QA7+16+j]=PF7
endif
elseif(i==1970107511 or i==1966092370)or(i==1700946284 or i==1697657398)then
set EB7[QA7+j]=EB7[QA7+j]+3
if EC7[QA7+4+j]==null or GetWidgetLife(EC7[QA7+4+j])<.405 then
set EC7[QA7+4+j]=PF7
endif
else
set EB7[QA7+j]=EB7[QA7+j]+5
if EC7[QA7+8+j]==null or GetWidgetLife(EC7[QA7+8+j])<.405 then
set EC7[QA7+8+j]=PF7
endif
endif
endif
endif
endif
endloop
call DestroyGroup(g)
set g=null
if((QZ7 and PU4)or((not QZ7)and PV4))then
if EB7[QA7+0]<=FF7 and EB7[QA7+1]<=FF7 and EB7[QA7+2]<=FF7 and EB7[QA7+3]<=FF7 then
return false
endif
endif
if QZ7 then
if PL4>2 and EB7[QA7+2]>FF7 then
set EB7[QA7+2]=EB7[QA7+2]+FG7
endif
if P64>2 and EB7[QA7+1]>FF7 then
set EB7[QA7+1]=EB7[QA7+1]+FG7
endif
if P34>2 and EB7[QA7+0]>FF7 then
set EB7[QA7+0]=EB7[QA7+0]+FG7
endif
if GetWidgetLife(JQ4)<.405 and EB7[QA7+3]>FF7 then
set EB7[QA7+3]=EB7[QA7+3]+FG7
endif
if GetWidgetLife(JR4)<.405 and EB7[QA7+3]>FF7 then
set EB7[QA7+3]=EB7[QA7+3]+FG7
endif
else
if P54>2 and EB7[QA7+2]>FF7 then
set EB7[QA7+2]=EB7[QA7+2]+FG7
endif
if P04>2 and EB7[QA7+1]>FF7 then
set EB7[QA7+1]=EB7[QA7+1]+FG7
endif
if P14>2 and EB7[QA7+0]>FF7 then
set EB7[QA7+0]=EB7[QA7+0]+FG7
endif
if GetWidgetLife(K84)<.405 and EB7[QA7+3]>FF7 then
set EB7[QA7+3]=EB7[QA7+3]+FG7
endif
if GetWidgetLife(K94)<.405 and EB7[QA7+3]>FF7 then
set EB7[QA7+3]=EB7[QA7+3]+FG7
endif
endif
if EB7[QA7+0]<=FD7 and EB7[QA7+1]<=FD7 and EB7[QA7+2]<=FD7 and EB7[QA7+3]<=FD7 then
return false
endif
set j=0
set i=0
loop
exitwhen j>4
set EB7[QA7+8+j]=EB7[QA7+4+j]
if GetWidgetLife(EC7[QA7+12+j])>.405 then
elseif GetWidgetLife(EC7[QA7+4+j])>.405 then
set EC7[QA7+j]=EC7[QA7+4+j]
elseif GetWidgetLife(EC7[QA7+8+j])>.405 then
set EC7[QA7+j]=EC7[QA7+8+j]
else
if GetWidgetLife(EC7[QA7+12+j])>.405 then
set EC7[QA7+j]=EC7[QA7+12+j]
else
set EC7[QA7+j]=null
endif
endif
set j=j+1
endloop
if QZ7 then
if EB7[QA7+1]>FF7 and EB7[QA7+9]==0 then
set EB7[QA7+9]=1
endif
if EB7[QA7+0]>FF7 and EB7[QA7+8]==0 then
set EB7[QA7+8]=1
endif
if EB7[QA7+2]>FF7 and EB7[QA7+10]==0 then
set EB7[QA7+10]=1
endif
set hD=IMaxBJ(1,EB7[QA7+4]+EB7[QA7+5]+EB7[QA7+6]+EB7[QA7+7])
else
if EB7[QA7+1]>FF7 and EB7[QA7+9]==0 then
set EB7[QA7+9]=1
endif
if EB7[QA7+0]>FF7 and EB7[QA7+8]==0 then
set EB7[QA7+8]=1
endif
if EB7[QA7+2]>FF7 and EB7[QA7+10]==0 then
set EB7[QA7+10]=1
endif
set hE=IMaxBJ(1,EB7[QA7+4]+EB7[QA7+5]+EB7[QA7+6]+EB7[QA7+7])
endif
if EB7[QA7+3]>FF7 and EB7[QA7+11]==0 then
set EB7[QA7+11]=1
endif
set i=1
loop
exitwhen i>5
set O5=EB7[80+IYF+i]
if(O5!=-1)and(eY[O5]==2 or eY[O5]==3 or eY[O5]==4)==false and(SE7(M7[O5])or GetWidgetLife(M7[O5])<.405)==false then
set EB7[48+IYF+i]=EB7[80+IYF+i]
else
set EB7[48+IYF+i]=-1
endif
set EB7[96+O5]=0
set i=i+1
endloop
set i=1
loop
exitwhen i>5
set O5=EB7[80+IYF+i]
if(O5!=-1)and M7[O5]!=null then
if(eY[O5]==3 or eY[O5]==4)and EB7[64+O5]!=-1 and(SE7(M7[O5])or GetWidgetLife(M7[O5])<.405)==false then
if EB7[QA7+8+EB7[64+O5]]>0 then
set EB7[48+IYF+i]=-1
set EB7[QA7+8+EB7[64+O5]]=EB7[QA7+8+EB7[64+O5]]-1
set EB7[QA7+12+EB7[64+O5]]=EB7[QA7+12+EB7[64+O5]]+1
else
set EB7[48+IYF+i]=O5
endif
endif
endif
set i=i+1
endloop
if EB7[QA7+11]>0 and EB7[QA7+15]==0 then
set i=1
loop
exitwhen i>10
if i>5 then
set j=j-5
else
set j=i
endif
set O5=EB7[80+IYF+j]
if(O5!=-1)and(EB7[48+IYF+j]==-1)then
if(eY[O5]==3 or eY[O5]==4)and((EB7[48+IYF+j]!=-1)or(EB7[64+O5]==-1)or(EB7[QA7+8+EB7[64+O5]]<=0)or((EB7[QA7+12+EB7[64+O5]]>1)or(i>5)))then
set EB7[64+O5]=3
set EB7[QA7+11]=EB7[QA7+11]-1
set EB7[QA7+15]=EB7[QA7+15]+1
set EB7[96+O5]=1
endif
endif
set EB7[96+O5]=0
set i=i+1
endloop
endif
set i=1
loop
exitwhen i>5
set O5=EB7[48+IYF+i]
if O5!=-1 and(eY[O5]==3 or eY[O5]==4)then
set j=QY7(QZ7)
if j==-1 then
set bj_forLoopAIndex=0
set bj_forLoopBIndex=FF7
loop
exitwhen bj_forLoopAIndex>3
if EB7[QA7+bj_forLoopAIndex]>bj_forLoopBIndex and EB7[QA7+8+j]>-1 then
set bj_forLoopBIndex=EB7[QA7+bj_forLoopAIndex]
set j=bj_forLoopAIndex
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if j!=-1 then
if j!=EB7[64+O5]then
set G0[240+O5]=true
set EB7[96+O5]=1
set EB7[64+O5]=j
endif
set EB7[QA7+8+j]=EB7[QA7+8+j]-1
set EB7[QA7+12+j]=EB7[QA7+12+j]+1
set EB7[48+IYF+i]=-1
else
call IXF(O5,QZ7)
endif
endif
set i=i+1
endloop
if EB7[QA7+8]<=0 and EB7[QA7+9]<=0 and EB7[QA7+10]<=0 and EB7[QA7+11]<=0 then
return true
endif
set i=1
loop
exitwhen i>5
set O5=EB7[48+IYF+i]
if(O5!=-1)then
set j=RH7(M7[O5])
if EB7[QA7+8+j]+EB7[QA7+12+j]>0 then
set EB7[QA7+8+j]=EB7[QA7+8+j]-1
set EB7[QA7+12+j]=EB7[QA7+12+j]+1
set EB7[64+O5]=j
set EB7[96+O5]=1
set EB7[48+IYF+i]=-1
endif
endif
set i=i+1
endloop
set i=1
loop
exitwhen i>5 or(EB7[QA7+8]<=0 and EB7[QA7+9]<=0 and EB7[QA7+10]<=0 and EB7[QA7+11]<=0)
set O5=EB7[48+IYF+i]
if(O5!=-1)then
if Bz>hq[528+O5]then
set EI7=RF7(GetUnitX(M7[O5]),GetUnitY(M7[O5]),E37[QA7],E37[QA7+1])
if EI7<=12000 then
set j=QY7(QZ7)
if j!=-1 then
if EI7>5000 then
set G0[240+O5]=true
endif
set EB7[QA7+8+j]=EB7[QA7+8+j]-1
set EB7[QA7+12+j]=EB7[QA7+12+j]+1
set EB7[64+O5]=j
set EB7[96+O5]=1
set EB7[48+IYF+i]=-1
endif
endif
endif
endif
set i=i+1
endloop
set i=1
loop
exitwhen i>5 or(EB7[QA7+8]<=0 and EB7[QA7+9]<=0 and EB7[QA7+10]<=0 and EB7[QA7+11]<=0)
set O5=EB7[48+IYF+i]
if(O5!=-1)then
if true and RF7(GetUnitX(M7[O5]),GetUnitY(M7[O5]),E37[PW7(QZ7,24,0)],E37[PW7(QZ7,25,1)])>6000 then
set j=QY7(QZ7)
if j!=-1 then
set EB7[QA7+8+j]=EB7[QA7+8+j]-1
set EB7[QA7+12+j]=EB7[QA7+12+j]+1
set EB7[64+O5]=j
set EB7[96+O5]=1
set EB7[48+IYF+i]=-1
endif
endif
endif
set i=i+1
endloop
set bj_forLoopAIndex=EB7[QA7+4]+EB7[QA7+5]+EB7[QA7+6]+EB7[QA7+7]
if(bj_forLoopAIndex>=PW7(QZ7,HC4,HB4)-1 and bj_forLoopAIndex>=3)then
set i=1
loop
exitwhen i>5
set O5=EB7[80+IYF+i]
if(O5!=-1)and M7[O5]!=null then
if GetWidgetLife(M7[O5])<.405 then
if((TimerGetRemaining(U[O5])>20.)and(TimerGetElapsed(U[O5])>4.))then
set j=0
loop
exitwhen NM4[j]==GetEnumUnit()or j>NP4
set j=j+1
endloop
if NM4[j]!=null and GetUnitAbilityLevel(KU4[O5],1093808213)==0 then
if IssueImmediateOrderById(KU4[O5],W9[O5])then
set j=QY7(QZ7)
if j!=-1 then
set EB7[QA7+8+j]=EB7[QA7+8+j]-1
set EB7[QA7+12+j]=EB7[QA7+12+j]+1
set EB7[64+O5]=j
set EB7[96+O5]=1
endif
endif
endif
endif
endif
endif
set i=i+1
endloop
endif
if QZ7 then
set EO7=X7
else
set EO7=Y7
endif
set i=1
loop
exitwhen i>5
if QZ7 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i])
endif
if Z17(Player(O5))and EB7[96+O5]!=0 then
call Q37(M7[O5],O5)
call J3(M7[O5],R57(M7[O5]))
call VV7(M7[O5],EO7)
if eY[O5]==3 or eY[O5]==4 then
call VQ7(M7[O5],EO7,GetObjectName(1496330549)+QV7(EB7[64+O5],true))
else
call VQ7(M7[O5],EO7,GetObjectName(1496330548)+QV7(EB7[64+O5],true))
endif
set eY[O5]=3
set EB7[96+O5]=0
endif
set i=i+1
endloop
set PF7=null
set EO7=null
return true
endfunction
function IBF takes boolean QZ7 returns boolean
local unit PF7=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(PF7))
local integer IYF=PW7(QZ7,0,6)
local integer QA7=PW7(QZ7,0,24)
local integer i
local integer j
if((QZ7 and P64<2 and P34<2 and PL4<2)or(QZ7==false and P04<2 and P14<2 and P54<2))then
return false
elseif O5!=GetPlayerId(Z7[0])and O5!=GetPlayerId(A7[0])then
return false
elseif(IsUnitAlly(PF7,Z7[0])==QZ7)or WD7(PF7)==false then
return false
endif
set i=R2I(Atan2(GetUnitY(PF7)-E37[QA7+1],GetUnitX(PF7)-E37[QA7])*bj_RADTODEG)
set j=-1
if i>360 then
set i=i-360
elseif i<0 then
set i=i+360
endif
if QZ7 then
if i<25 and PL4>=2 then
set j=2
elseif i>65 and P64>=2 then
set j=1
elseif P34>=2 then
set j=0
endif
else
if i>245 and P54>=2 then
set j=2
elseif i<205 and P04>=2 then
set j=1
elseif P14>=2 then
set j=0
endif
endif
if j==-1 then
return false
endif
return IAF(QZ7)
endfunction
function ICF takes boolean QZ7 returns nothing
local integer i=1
local integer O5
loop
exitwhen i>5
if QZ7 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i])
endif
call IXF(O5,QZ7)
set i=i+1
endloop
endfunction
function I3F takes nothing returns boolean
if IBF(false)then
call DisableTrigger(Q64)
call EnableTrigger(Q14)
set PV4=true
endif
return false
endfunction
function I6F takes nothing returns boolean
if not IAF(false)then
call EnableTrigger(Q64)
call DisableTrigger(Q14)
set PV4=false
call ICF(false)
endif
return false
endfunction
function ILF takes nothing returns boolean
if IBF(true)then
call DisableTrigger(Q34)
call EnableTrigger(QL4)
set PU4=true
endif
return false
endfunction
function I1F takes nothing returns boolean
if not IAF(true)then
call EnableTrigger(Q34)
call DisableTrigger(QL4)
set PU4=false
call ICF(true)
endif
return false
endfunction
function TRv takes nothing returns boolean
if((IsUnitEnemy(GetFilterUnit(),Z7[0]))and(WE7(GetFilterUnit()))and((IsUnitVisible(GetFilterUnit(),Z7[0]))or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(GetWidgetLife(GetFilterUnit())>.405))then
if(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetUnitLifePercent(GetFilterUnit())>30.))then
set hD=hD+1
endif
return true
endif
return false
endfunction
function I0F takes nothing returns boolean
return((not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(GetWidgetLife(GetFilterUnit())>.405)and(WD7(GetFilterUnit())))
endfunction
function I5F takes real K1,unit u returns unit
local unit AR7=null
local unit I2F=null
local boolexpr Ig=Condition(function I0F)
local real IW=RE7(u,h9[16+GetPlayerId(GetOwningPlayer(u))])
local real I_F
call GroupClear(iE)
call GroupEnumUnitsInRange(iE,GetUnitX(u),GetUnitY(u),K1,Ig)
loop
set AR7=FirstOfGroup(iE)
exitwhen(AR7==null)
if((IsUnitVisible(AR7,GetOwningPlayer(u)))and(AR7!=u))then
set I_F=RE7(AR7,h9[16+GetPlayerId(GetOwningPlayer(u))])
if(I_F<IW)then
set I2F=AR7
set IW=I_F
endif
endif
call GroupRemoveUnit(iE,AR7)
endloop
call DestroyBoolExpr(Ig)
set Ig=null
set AR7=null
set hr=I2F
set I2F=null
return hr
endfunction
function J4F takes nothing returns boolean
return((IsHeroUnitId(GetUnitTypeId(GetFilterUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit()))
endfunction
function J7F takes unit it returns integer
local integer i1=GetUnitTypeId(it)
if((i1==1164207469)or(i1==1332766568)or(i1==1328558160)or(i1==1211117616)or(i1==1212363833)or(i1==1315988077)or(i1==1332179560)or(i1==1429221441)or(SR7(it,ZU[R2]))or(SR7(it,ZU[Y0])))then
return 3
elseif(kq(i1))then
return 2
else
return 1
endif
endfunction
function J8F takes real K1,unit u returns unit
local unit AR7=null
local unit I2F=null
local boolexpr Ig=Condition(function J4F)
local real J9F=0
local real JDF=0
call GroupClear(iE)
call GroupEnumUnitsInRange(iE,GetUnitX(u),GetUnitY(u),K1,Ig)
loop
set AR7=FirstOfGroup(iE)
exitwhen(AR7==null)
set J9F=GetUnitState(AR7,UNIT_STATE_LIFE)
if(GetUnitLifePercent(AR7)<60.)then
elseif((I2F==null)or(J7F(AR7)>J7F(I2F)))then
set I2F=AR7
set JDF=J9F
elseif((J7F(AR7)==J7F(I2F))and(JDF<J9F))then
set I2F=AR7
set JDF=J9F
endif
call GroupRemoveUnit(iE,AR7)
endloop
call DestroyBoolExpr(Ig)
set Ig=null
set AR7=null
set hr=I2F
set I2F=null
return hr
endfunction
function JEF takes unit it,boolean J2 returns boolean
local integer kt=GetUnitAbilityLevel(it,1093684302)
local real kl=GetUnitFacing(it)*bj_DEGTORAD
local real JFF=GetUnitX(it)+(350.+I2R(50*kt))*Cos(kl)
local real JGF=GetUnitY(it)+(350.+I2R(50*kt))*Sin(kl)
if((kJ(JFF,JGF))and((J2)or(RF7(JFF,JGF,GetUnitX(h9[16+GetPlayerId(GetOwningPlayer(it))]),GetUnitY(h9[16+GetPlayerId(GetOwningPlayer(it))]))<RE7(it,h9[16+GetPlayerId(GetOwningPlayer(it))]))))then
set GZ[GetPlayerId(GetOwningPlayer(it))]=true
return J8(GetPlayerId(GetOwningPlayer(it)),TD7(it,852129,1093684302))
endif
return false
endfunction
function JHF takes unit it,boolean J2 returns boolean
local integer kt=GetUnitAbilityLevel(it,1093749303)
local real kl=GetUnitFacing(it)*bj_DEGTORAD
local real JFF=GetUnitX(it)+(300.+I2R(100*kt))*Cos(kl)
local real JGF=GetUnitY(it)+(300.+I2R(100*kt))*Sin(kl)
if((kJ(JFF,JGF))and((J2)or(RF7(JFF,JGF,GetUnitX(h9[16+GetPlayerId(GetOwningPlayer(it))]),GetUnitY(h9[16+GetPlayerId(GetOwningPlayer(it))]))<RE7(it,h9[16+GetPlayerId(GetOwningPlayer(it))]))))then
set GZ[GetPlayerId(GetOwningPlayer(it))]=true
return J8(GetPlayerId(GetOwningPlayer(it)),IssueImmediateOrderById(it,852600))
endif
return false
endfunction
function JIF takes unit it returns boolean
local integer i1=GetUnitTypeId(it)
local boolean J4=false
local location b5=null
local unit m5=null
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(RE7(it,h9[16+O5])<600)or(GetUnitLifePercent(it)>80 and G0[144+O5])then
return false
endif
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
set G0[304+O5]=true
endif
if(i1==1162032181)then
set b5=kk(it,I2R(400+(200*GetUnitAbilityLevel(it,1093684299))),h9[16+O5])
set J4=(b5!=null)and(IssuePointOrderByIdLoc(it,852218,b5))
elseif((i1==1430466609)or(i1==1164207469))then
set b5=kk(it,800.,h9[16+O5])
set J4=(b5!=null)and(IssuePointOrderByIdLoc(it,852525,b5))
elseif((i1==1165451634)or(i1==1212365106))then
if(i1==1165451634)then
set EI7=600+GetUnitAbilityLevel(it,1093685324)*100
else
set EI7=700.
endif
set m5=I5F(EI7,it)
if((m5!=null)and(it!=m5))then
set J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and(not IsUnitInRange(m5,it,400.))and(IssueTargetOrderById(it,852600,m5))
endif
elseif(i1==1429221451)then
set b5=kk(it,I2R(280+(100*GetUnitAbilityLevel(it,1093678671))),h9[16+O5])
set J4=(b5!=null)and(IssuePointOrderByIdLoc(it,852218,b5))
elseif(i1==1328558160)then
set b5=kk(it,600.,h9[16+O5])
if(b5!=null)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093682766,true)
set GZ[O5]=true
if(GetUnitLifePercent(it)<48.)then
set J4=J8(O5,IssuePointOrderByIdLoc(it,852218,b5))
endif
endif
elseif(i1==1430466865)then
set b5=kk(it,800.,h9[16+O5])
if(b5!=null)and(Bz>TC4[32+O5])then
set J4=S_7(it,852218,1093751364,b5)
endif
elseif(i1==1311781206)then
set J4=JEF(it,false)
elseif(i1==1160786502)then
set b5=kk(it,550.,h9[16+O5])
if(b5!=null)then
if(GetUnitLifePercent(it)<35.)then
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderByIdLoc(it,852600,b5))
endif
endif
if((not J4)and(GetUnitLifePercent(it)<35.))then
set J4=IssueImmediateOrderById(it,852662)
endif
elseif(i1==1211117651)then
if(GetUnitManaPercent(it)>15.)then
set b5=kk(it,1200.,h9[16+O5])
if(b5!=null)then
set J4=S_7(it,852218,1093743695,b5)
endif
if not J4 then
set b5=kk(it,600.,h9[16+O5])
if(b5!=null)then
set J4=S_7(it,852218,1093743695,b5)
endif
endif
if J4 then
set h9[O5]=h9[16+O5]
endif
endif
elseif(i1==1311788336)then
if(GetUnitState(it,UNIT_STATE_MANA)>100.)and(LoadInteger(L7,GetHandleId(it),(747))>0)and(not UU7(it,"AI|EmberEscape"))then
set b5=kk(it,1500.,h9[16+O5])
if(b5!=null)then
set J4=IssuePointOrderByIdLoc(it,852490,b5)
endif
if not J4 then
set b5=kk(it,600.,h9[16+O5])
if(b5!=null)then
set J4=IssuePointOrderByIdLoc(it,852490,b5)
endif
endif
if J4 then
set h9[O5]=h9[16+O5]
call UW7(it,"AI|EmberEscape")
endif
endif
elseif(i1==1160786738)then
if GetUnitAbilityLevel(it,1093813555)!=0 then
set b5=kk(it,600+200*GetUnitAbilityLevel(it,1093813555),h9[16+O5])
if(b5!=null)and(ZS7(b5,300))then
set J4=IssuePointOrderById(it,852662,GetDestructableX(WW4),GetDestructableY(WW4))
endif
if(not J4)then
set b5=kk(it,800.,h9[16+O5])
if(b5!=null)and(ZS7(b5,300))then
set J4=IssuePointOrderById(it,852662,GetDestructableX(WW4),GetDestructableY(WW4))
endif
endif
endif
elseif(i1==1211119409)then
set J4=JHF(it,false)
elseif(i1==1328558406)then
set m5=I5F(1800.,it)
if((m5!=null)and(it!=m5))then
set J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and(not IsUnitInRange(m5,it,1000.))and(S27(it,852119,1093751873,m5))
endif
endif
if(i1==1160786520)and(not J4)and(hq[816+O5]>Bz)then
set G0[288+O5]=true
set J4=JIF(it)
set G0[304+O5]=false
endif
if(not J4)and(not G0[304+O5])then
set bj_lastLoadedUnit=it
if(not J4)and((SR7(it,ZU[Y0]))and(SE7(it))and(SP7(800.,it,Condition(function WR7))>0))then
set GZ[224+O5]=true
set J4=(i1!=1164277357)and(UnitUseItem(it,bj_lastCreatedItem))
set GZ[224+O5]=false
endif
if(not J4)and(SR7(it,ZU[RW]))then
set b5=kk(it,700.,h9[16+O5])
set J4=(b5!=null)and(UnitUseItemPointLoc(it,bj_lastCreatedItem,b5))
endif
if(not J4)and(SR7(it,ZU[DU4]))then
if R97(it,h9[16+O5],20)then
set b5=kk(it,600.,h9[16+O5])
set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,it))
if J4 then
set h9[O5]=h9[16+O5]
endif
elseif(R97(it,h9[O5],20))and(h9[O5]!=h9[16+O5])then
set b5=kk(it,600.,h9[O5])
set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,it))
endif
endif
endif
set b5=null
set m5=null
return J4
endfunction
function JJF takes nothing returns boolean
if(((GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==A7[0]))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(hr)))and(GetWidgetLife(GetFilterUnit())>.405))then
if(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and(true))then
set hF=hF+1
endif
return true
endif
return false
endfunction
function JKF takes real JMF,unit it,boolean JNF,boolean JOF returns integer
local real JPF
local real JQF
local real JFF=GetUnitX(it)
local real JGF=GetUnitY(it)
local integer kc=0
local integer UP=0
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(JMF>0)then
set JPF=Bz+JMF
loop
set JQF=JPF-Bz
exitwhen JQF<=0
call TriggerSleepAction(0.5)
set hr=it
if((GetWidgetLife(it)<=.405)or(GetUnitCurrentOrder(it)==851983)or(not is(it)))then
set JPF=Bz
elseif(not JOF)then
set GS7=LoadUnitHandle(L7,(GetHandleId(it)),(652))
set GT7=U87((GetHandleId(it)),"AI|TetherSource")
if R57(it)and(not SE7(it))then
if(GS7!=null)and(not IsUnitInRange(it,GS7,700)and(IsUnitType(GS7,UNIT_TYPE_HERO)))then
call S57(it,851986,GS7)
elseif(GT7!=null)and(not IsUnitInRange(it,GT7,700))then
call S57(it,851986,GT7)
else
call S57(it,851986,h9[O5])
endif
endif
set hF=0
set UP=SP7(700.,it,Condition(function JJF))
if((JMF-JQF>1.)and(hF>0))then
set JPF=Bz
set kc=2
elseif((JNF)and(JMF-JQF>1.)and(UP>1))then
set JPF=Bz
set kc=1
elseif(((JMF-JQF>2.)or((JMF-JQF>1.)and(JNF))))then
call MoveLocation(Ha,JFF,JGF)
if(SO7(700.,Ha,Condition(function JJF))>1)then
set JPF=Bz
set kc=3
endif
elseif((JMF-JQF>=2.)and(iy(it)))then
set JPF=Bz
set kc=1
endif
endif
endloop
endif
return kc
endfunction
function JRF takes nothing returns nothing
local unit it=U87(GetHandleId(GetTriggeringTrigger()),"Unit")
local integer O5=GetPlayerId(GetOwningPlayer(it))
local boolean CUE=GZ[512+O5]
local integer JSF
if SF7(O5)then
return
endif
set G0[48+O5]=true
if(R57(it))then
call S57(it,851986,h9[O5])
endif
if(GetUnitTypeId(it)==1211117642)then
call TriggerSleepAction(1.)
set JSF=0
elseif eY[O5]==11 then
set JSF=JKF(1.,it,true,false)
elseif(CUE)then
set JSF=JKF(5.,it,true,false)
else
set JSF=JKF(3.,it,false,false)
endif
set G0[48+O5]=false
if((GetWidgetLife(it)<=.405)or(not is(it)))then
elseif(not R57(it))then
elseif((JSF==2)and(not SE7(it))and(not G0[32+O5]))then
call IssueImmediateOrderById(it,851993)
elseif((CUE)or(JSF==3))then
if((not SE7(it))and(not G0[32+O5])and(G0[128+O5]))then
call S57(it,851983,h8[O5])
else
call VX7(it,false)
endif
endif
set it=null
endfunction
function JTF takes unit it returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP=GetUnitUserData(h8[O5])
local integer I4F=0
local real AQ7=0.
if(IsUnitAlly(it,Z7[0]))then
if((hj[256+UP]==18)or(hj[UP]==10))then
set I4F=11+P24
if(UP>I4F)then
call H_F(it,0)
endif
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set I4F=31+P_4
if(UP>I4F)then
call H_F(it,1)
endif
elseif((hj[256+UP]==60)or(hj[UP]==50))then
set I4F=51+Q44
if(UP>I4F)then
call H_F(it,2)
endif
endif
else
set UP=hj[512+UP]
if((hj[256+UP]==118)or(hj[UP]==110))then
set I4F=119-P24
if(UP>I4F)then
call H_F(it,0)
endif
elseif((hj[256+UP]==140)or(hj[UP]==130))then
set I4F=141-P_4
if(UP>I4F)then
call H_F(it,1)
endif
elseif((hj[256+UP]==160)or(hj[UP]==150))then
set I4F=161-Q44
if(UP>I4F)then
call H_F(it,2)
endif
endif
endif
if false and((eY[O5]==1)and(h4[O5]!=null)and((not Id(O5))and(GetUnitLifePercent(it)<70.)))then
set AQ7=RE7(it,h8[O5])
if(((AQ7>2000.)and(RE7(it,TG7(it))>RE7(h8[O5],TG7(it))))or((AQ7>1400.)and((GZ[400+O5])and(Bz>hq[544+O5]))))then
call CZE(O5,true)
call S57(it,851986,h9[O5])
call CTE(it,true)
endif
endif
endfunction
function JUF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit()))and(GetIssuedOrderId()>852000))
endfunction
function JVF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
set GZ[16+O5]=true
set eY[256+O5]=GetIssuedOrderId()
set hq[448+O5]=Bz+3.
endfunction
function JWF takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function JXF takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function JYF takes unit PF7,unit SD7 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(PF7))
local integer UP
local integer j
local integer k
local integer IPF=RG7(GetUnitUserData(SD7))
local boolean QZ7=IsUnitAlly(PF7,Z7[0])
set h4[144+O5]=null
set G0[32+O5]=false
set G0[160+O5]=false
set G0[176+O5]=false
set h4[O5]=null
set GZ[128+O5]=false
set eY[272+O5]=0
set UP=GetUnitUserData(SD7)
if IsUnitAlly(PF7,Z7[0])then
set UP=UP-1
else
set UP=UP+1
endif
set UP=HGF(UP,IsUnitAlly(PF7,Z7[0]),PE7(PF7))
set k=RH7(PF7)
if(RE7(PF7,TG7(PF7))<5000.)then
if(IPF==0)then
set h8[O5]=h7[14]
set h8[16+O5]=h7[14]
elseif(IPF==1)then
set h8[O5]=h7[35]
set h8[16+O5]=h7[35]
else
set h8[O5]=h7[55]
set h8[16+O5]=h7[55]
endif
set eY[O5]=1
set h9[O5]=TG7(PF7)
set h9[16+O5]=TG7(PF7)
set hq[576+O5]=Bz+GD7
if R57(PF7)then
call S57(PF7,851983,h8[O5])
endif
return
endif
set h8[128+O5]=h7[UP]
set eY[288+O5]=IPF
if eY[288+O5]!=0 then
set eY[304+O5]=eY[288+O5]
else
set eY[304+O5]=k
if eY[304+O5]==0 then
set eY[304+O5]=GetRandomInt(1,2)
endif
endif
set UP=HGF(GetUnitUserData(h9[O5]),IsUnitAlly(PF7,Z7[0]),PE7(PF7))
set h8[48+O5]=h7[UP]
set UP=HIF(O5,UP,eY[304+O5],QZ7)
set h8[32+O5]=h7[UP]
set eY[O5]=9
set hq[576+O5]=Bz+GD7
set hq[592+O5]=Bz+FT7
set G0[176+O5]=((not S47(PF7))and(h8[48+O5]==h8[32+O5]))
set eY[208+O5]=GetUnitUserData(SD7)
set h8[144+O5]=SD7
if R57(PF7)then
if h8[48+O5]!=h8[32+O5]or G0[176+O5]then
call S57(PF7,851983,h8[48+O5])
else
call S57(PF7,851983,h9[O5])
endif
endif
endfunction
function JZF takes unit PF7,unit SD7 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(PF7))
local integer VA7=GetPlayerId(GetOwningPlayer(SD7))
local boolean QZ7=IsUnitAlly(PF7,Z7[0])
local integer UP
local integer JAF
local integer IPF=RG7(GetUnitUserData(SD7))
local integer i
call CTE(M7[O5],false)
set G0[160+O5]=true
set h4[144+O5]=M7[VA7]
set G0[32+O5]=false
set h4[O5]=null
set GZ[128+O5]=false
set G0[192+O5]=false
set G0[208+O5]=true
set hq[640+O5]=Bz+FR7
set h8[96+O5]=SD7
set h8[160+O5]=h8[80+VA7]
set eY[288+O5]=RH7(SD7)
if eY[288+O5]!=0 then
set eY[304+O5]=eY[288+O5]
else
set eY[304+O5]=RH7(PF7)
if eY[304+O5]==0 then
set eY[304+O5]=GetRandomInt(1,2)
endif
endif
set eY[272+O5]=1
set JAF=HGF(GetUnitUserData(h8[80+VA7])+PW7(QZ7,1,-1),QZ7,PE7(PF7))
set h8[112+O5]=h7[JAF]
set UP=GetUnitUserData(h8[80+O5])
set JAF=HIF(O5,UP,eY[304+O5],QZ7)
set h8[32+O5]=h7[JAF]
set h8[48+O5]=h8[32+O5]
set UP=RH7(PF7)
set i=PW7(IsUnitAlly(PF7,Z7[0]),-1,1)
if(UP==0)then
if(RE7(PF7,TG7(PF7))>RE7(h7[14],TG7(PF7)))then
set h8[48+O5]=h7[14+i]
endif
elseif(UP==1)then
if(RE7(PF7,TG7(PF7))>RE7(h7[34],TG7(PF7)))then
set h8[48+O5]=h7[34+i]
endif
elseif(UP==2)then
if(RE7(PF7,TG7(PF7))>RE7(h7[57],TG7(PF7)))then
set h8[48+O5]=h7[57+i]
endif
endif
set UP=GetUnitUserData(h8[112+O5])
if(QZ7)then
if((hj[256+UP]==18)or(hj[UP]==10))then
set i=IMaxBJ(10+P24,11)
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set i=IMaxBJ(30+P_4,31)
else
set i=IMaxBJ(50+Q44,51)
endif
else
set UP=hj[512+UP]
if((hj[256+UP]==118)or(hj[UP]==110))then
set i=IMaxBJ(118-P24,111)
elseif((hj[256+UP]==140)or(hj[UP]==130))then
set i=IMaxBJ(140-P_4,131)
else
set i=IMaxBJ(160-Q44,151)
endif
endif
set h8[128+O5]=h7[i]
set eY[O5]=9
set hq[576+O5]=Bz+GD7
set hq[592+O5]=Bz+FT7
set G0[176+O5]=((not S47(PF7))and(h8[48+O5]==h8[32+O5]))
if R57(PF7)and GetUnitCurrentOrder(PF7)==851983 then
if h8[48+O5]!=h8[32+O5]or G0[176+O5]then
call S57(PF7,851983,h8[48+O5])
else
call S57(PF7,851983,h9[O5])
endif
endif
endfunction
function JBF takes nothing returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1=GetUnitTypeId(it)
local real JCF=GetUnitX(it)
local real J3F=GetUnitY(it)
if(i1==1211117642)then
if(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)then
call J3(it,false)
endif
return
endif
if(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)then
if((GetHeroSkillPoints(it)>0)and(Bz>QD4)and(R57(it)))then
call ExecuteFunc("DKF")
endif
if((RE7(it,h8[O5])<150.)and(h8[O5]!=h7[1])and(h8[O5]!=h7[101]))then
if(IsUnitAlly(it,Z7[0]))then
set hF=GetUnitUserData(h8[O5])
else
set hF=hj[512+GetUnitUserData(h8[O5])]
endif
if(hF>0)then
call AV7(it,hF)
elseif(h8[O5]!=h9[O5])then
set h8[O5]=h9[O5]
else
set h8[O5]=TG7(it)
endif
elseif(eY[O5]==1)then
call JTF(it)
endif
if(PE4)then
set hF=GetUnitUserData(h8[O5])
if(((hF>30)and(hF<40))or((hF>50)and(hF<60)))then
call H_F(it,0)
endif
endif
if((h4[80+O5]!=null)and(GetWidgetLife(h4[80+O5])<=.405))then
set h4[80+O5]=null
endif
if((h4[96+O5]!=null)and(GetWidgetLife(h4[96+O5])<=.405))then
set h4[96+O5]=null
endif
if((h4[128+O5]!=null)and((GetWidgetLife(h4[128+O5])<=.405)))then
set h4[128+O5]=null
endif
if((h4[160+O5]!=null)and((GetWidgetLife(h4[160+O5])<=.405)or(not IsUnitInRange(it,h4[160+O5],1000.))))then
set h4[160+O5]=null
endif
if((h4[48+O5]!=null)and(((eY[O5]!=3)and(eY[O5]!=4))or(GetWidgetLife(h4[48+O5])<=.405)))then
set h4[48+O5]=null
endif
if((RF7(JCF,J3F,GetLocationX(HC[32+O5]),GetLocationY(HC[32+O5]))<20.)and(Bz>QD4))then
set G0[48+O5]=false
if(eY[O5]!=2)then
if((GZ[144+O5])and(R57(it))and(SP7(700.,it,Condition(function KX))==0)and(((eY[O5]!=9 or eY[272+O5]!=3)and eY[O5]!=10 and eY[O5]!=11)or(SP7(700.,it,Condition(function KA))==0)))then
call ExecuteFunc("J6F")
else
set GZ[144+O5]=true
if((eY[O5]==3)or(eY[O5]==4))then
call Q37(it,O5)
endif
if(iU(it))then
call J3(it,true)
endif
endif
elseif((GetUnitLifePercent(it)>90)and(GetUnitManaPercent(it)>90))then
if(GZ[144+O5])then
if(IsUnitAlly(it,Z7[0]))then
call IKF(it,O5,PU4)
else
call IKF(it,O5,PV4)
endif
else
set GZ[144+O5]=true
endif
endif
elseif(GZ[144+O5])then
set GZ[144+O5]=false
endif
call MoveLocation(HC[32+O5],JCF,J3F)
if((eY[O5]==10)and(hq[432+O5]<Bz))then
set eY[O5]=1
set h4[64+O5]=null
endif
if((GZ[480+O5])and(eY[O5]!=4)and(eY[O5]!=2))then
set GZ[480+O5]=false
endif
if((GZ[16+O5])and(hq[448+O5]<Bz)and(eY[256+O5]==GetUnitCurrentOrder(it)))then
call J3(it,true)
set GZ[16+O5]=false
endif
elseif((GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_NONE)and(IsUnitInForce(it,QX4)))then
if((is(it))and(GetUnitCurrentOrder(it)!=851983))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1097690998,true)
call SetPlayerController(GetOwningPlayer(it),MAP_CONTROL_COMPUTER)
call J3(it,true)
endif
endif
set GZ[32+O5]=false
set GZ[400+O5]=false
endfunction
function JLF takes nothing returns nothing
local integer O5=1
local integer U_7
local integer i=0
local integer j=0
local real J1F
local real J0F
local boolean J5F=false
local string J2F=""
local boolean J_F=(Bz>QD4)
local boolean K4F=(Bz>QD4)
set O5=1
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if(GetPlayerSlotState(Player(O5))==PLAYER_SLOT_STATE_PLAYING)then
call GroupClear(iE)
call GroupEnumUnitsOfPlayer(iE,Player(O5),ip)
call ForGroup(iE,function JBF)
if M7[O5]!=null then
set J1F=2+GetHeroAgi(M7[O5],true)*0.14
set J0F=1
set i=0
loop
exitwhen i>5
set j=GetItemTypeId(UnitItemInSlot(M7[O5],i))
if((j==ZU[UV])or(j==ZU[AL])or(j==ZU[B3])or(j==ZU[T1])or(j==ZU[NW])or(j==ZU[N3])or(j==ZU[J1])or(j==ZU[T2])or(j==ZU[DK4])or(j==ZU[DM4]))then
set J1F=J1F+5
elseif((j==ZU[SX])or(j==ZU[DH4])or(j==ZU[DP4]))then
set J1F=J1F+10
elseif(j==ZU[JB])then
set J0F=J0F+0.25
elseif(j==ZU[Z2])then
set J0F=J0F+0.3
endif
set i=i+1
endloop
set J1F=(0.06*J1F)/(1.+0.06*J1F)
set hq[752+O5]=(1/(1-J1F))*(J0F)
endif
if M7[O5]!=null and GetHeroLevel(M7[O5])<11 then
if IsPlayerAlly(Player(O5),Z7[0])then
set K4F=false
else
set J_F=false
endif
endif
endif
set O5=O5+1
endloop
if J_F and(not DR7)then
set DR7=true
set EM7=false
set O5=1
loop
exitwhen O5>5
if Z17(Z7[O5])then
set EM7=true
endif
set O5=O5+1
endloop
if EM7 then
set O5=1
loop
exitwhen O5>5
set U_7=GetPlayerId(Z7[O5])
if DQ7[16+U_7]then
set DQ7[16+U_7]=false
call V47(IZ4,GetObjectName(1496331829)+"
"+GetObjectName(1497445941)+F07+GetObjectName(1496331830),Z7[O5])
endif
set O5=O5+1
endloop
endif
endif
if K4F and(not DS7)then
set DS7=true
set EM7=false
set O5=1
loop
exitwhen O5>5
if Z17(A7[O5])then
set EM7=true
endif
set O5=O5+1
endloop
if EM7 then
set O5=1
loop
exitwhen O5>5
set U_7=GetPlayerId(A7[O5])
if DQ7[16+U_7]then
set DQ7[16+U_7]=false
call V47(JA4,GetObjectName(1496331829)+"
"+GetObjectName(1497445941)+F07+GetObjectName(1496331830),A7[O5])
endif
set O5=O5+1
endloop
endif
endif
if((G1==0)and(not Ev)and(not Av))then
set G1=GetRandomInt(1,2)
elseif((G1==1)and(not Rv)and(not av))then
if((Nv)or(Ov))then
set G1=2
else
set G1=-1
endif
elseif((G1==2)and(not Nv)and(not Ov))then
if((Rv)or(av))then
set G1=1
else
set G1=-1
endif
endif
if((G2==0)and(not Bv)and(not Dv))then
set G2=GetRandomInt(1,2)
elseif((G2==1)and(not bv)and(not Cv))then
if((cv)or(fv))then
set G2=2
else
set G2=-1
endif
elseif((G2==2)and(not cv)and(not fv))then
if((bv)or(Cv))then
set G2=1
else
set G2=-1
endif
endif
set GD7=FW7-FX7*Bz
if GD7<FY7 then
set GD7=FY7
endif
call IHF()
if PZ4 and G4==-1 then
set EO7=X7
set i=1
loop
exitwhen i>5
set O5=EB7[80+i]
if O5!=-1 and M7[O5]!=null and GetUnitLifePercent(M7[O5])>70. and eY[O5]==1 and h4[O5]==null and(eY[544+O5]==0 and Bz>hq[576+O5])and(GetHeroLevel(M7[O5])<PB4)and(GetHeroLevel(M7[O5])>=NV7)then
set j=IOF(ITF(M7[O5]),GetHeroLevel(M7[O5]))
if(j!=eY[64+O5])and(j==0 or eY[64+O5]==0)and((EB7[112+j]!=0)or(EB7[144+j]<Bz))then
set EB7[112+eY[64+O5]]=EB7[112+eY[64+O5]]-1
if(j==1)then
call JYF(M7[O5],h7[29+P_4])
call VQ7(M7[O5],EO7,GetObjectName(1496330293))
elseif(j==2)then
call JYF(M7[O5],h7[49+Q44])
call VQ7(M7[O5],EO7,GetObjectName(1496330294))
else
call JYF(M7[O5],h7[9+P24])
call VQ7(M7[O5],EO7,GetObjectName(1496330292))
endif
call VV7(M7[O5],EO7)
set EB7[112+j]=EB7[112+j]+1
set eY[64+O5]=j
endif
endif
set i=i+1
endloop
endif
if PA4 and G3==-1 then
set EO7=Y7
set i=1
loop
exitwhen i>5
set O5=EB7[86+i]
if O5!=-1 and M7[O5]!=null and GetUnitLifePercent(M7[O5])>70. and eY[O5]==1 and h4[O5]==null and(eY[544+O5]==0 and Bz>hq[576+O5])and(GetHeroLevel(M7[O5])<PB4)and(GetHeroLevel(M7[O5])>=NV7)then
set j=IOF(IIF(M7[O5]),GetHeroLevel(M7[O5]))
if(j!=eY[64+O5])and(j==0 or eY[64+O5]==0)and((EB7[118+j]!=0)or(EB7[144+j]<Bz))then
set EB7[118+eY[64+O5]]=EB7[118+eY[64+O5]]-1
if(j==1)then
call JYF(M7[O5],h7[139-P_4])
call VQ7(M7[O5],EO7,GetObjectName(1496330293))
elseif(j==2)then
call JYF(M7[O5],h7[159-Q44])
call VQ7(M7[O5],EO7,GetObjectName(1496330294))
else
call JYF(M7[O5],h7[117-P24])
call VQ7(M7[O5],EO7,GetObjectName(1496330292))
endif
call VV7(M7[O5],EO7)
set EB7[118+j]=EB7[118+j]+1
set eY[64+O5]=j
endif
endif
set i=i+1
endloop
endif
set O5=1
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if(GetPlayerSlotState(Player(O5))==PLAYER_SLOT_STATE_PLAYING)then
set J5F=false
if M7[O5]!=null and GetWidgetLife(M7[O5])>.405 then
if S47(M7[O5])then
if h4[176+O5]==null or RE7(M7[O5],h4[176+O5])>3000. or GetWidgetLife(h4[176+O5])>0 then
set FV7=null
set i=1
loop
exitwhen FV7!=null or i>5
if IsPlayerAlly(Player(O5),Z7[0])then
set U_7=GetPlayerId(A7[i])
else
set U_7=GetPlayerId(Z7[i])
endif
if M7[U_7]!=null and GetWidgetLife(M7[U_7])>.405 and Z17(Player(U_7))then
if RE7(M7[U_7],M7[O5])<1800. then
set FV7=M7[U_7]
endif
endif
set i=i+1
endloop
if FV7!=null then
set h4[176+O5]=FV7
endif
endif
set E37[48+O5]=GetUnitX(M7[O5])
set E37[64+O5]=GetUnitY(M7[O5])
set eY[336+O5]=eY[80+O5]
if eY[240+O5]<R2I(Bz)then
set FV7=h4[176+O5]
if FV7==null then
set FV7=h4[192+O5]
endif
if FV7!=null then
set U_7=GetPlayerId(GetOwningPlayer(FV7))
set J5F=true
set J2F="|r"+Q[U_7]+KZ4[U_7]+GetObjectName(1496331064)+QV7(eY[80+O5],true)+" - "+Q[O5]+GetUnitName(M7[O5])+"|r"
set h4[192+O5]=null
endif
endif
set eY[240+O5]=R2I(Bz)+FU7
elseif eY[240+O5]<R2I(Bz)and h4[176+O5]!=null then
set U_7=GetPlayerId(GetOwningPlayer(h4[176+O5]))
set J5F=true
set J2F="|r"+Q[U_7]+KZ4[U_7]+GetObjectName(1496331065)+QV7(eY[336+U_7],true)+" - "+Q[O5]+GetUnitName(M7[O5])+"|r"
set h4[192+O5]=h4[176+O5]
set h4[176+O5]=null
endif
else
set h4[176+O5]=null
endif
if J5F then
call TriggerSleepAction(0.4)
if IsPlayerAlly(Player(O5),Z7[0])then
set EO7=Y7
else
set EO7=X7
endif
if DQ7[16+GetPlayerId(GetLocalPlayer())]and IsPlayerInForce(GetLocalPlayer(),EO7)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,J2F)
call VU7(EO7,E37[48+O5],E37[64+O5],U_7)
endif
endif
endif
set O5=O5+1
endloop
set EO7=null
endfunction
function K7F takes integer O5,unit PF7,unit K8F,boolean K9F returns boolean
local boolean SA7=false
if(not SA7)and((GetUnitAbilityLevel(PF7,1093677391)>0)and(Bz>TC4[32+O5]))then
set SA7=IssuePointOrderById(PF7,852525,GetUnitX(K8F)+GetRandomReal(-200.,200.),GetUnitY(K8F)+GetRandomReal(-200.,200.))
endif
if(not SA7)and K9F and(GetUnitAbilityLevel(PF7,1093683257)>0 and(Bz>TC4[O5]))then
set bj_lastLoadedUnit=K8F
set bj_lastReplacedUnit=SN7(800.,S07(K8F),Condition(function WR7))
if(bj_lastReplacedUnit!=null)then
set SA7=IssueImmediateOrderById(PF7,852490)
endif
endif
if(not SA7)and K9F and(GetUnitAbilityLevel(PF7,1093685808)>0 and(Bz>TC4[O5]))then
set SA7=IssuePointOrderById(PF7,852600,GetUnitX(K8F),GetUnitY(K8F))
endif
if(not SA7)and K9F and(GetUnitAbilityLevel(PF7,1093751874)>0 and(Bz>TC4[O5]))then
if(Bz>TC4[16+O5])then
set bj_lastReplacedUnit=YX7(1800.,PF7,false)
if bj_lastReplacedUnit!=null then
set SA7=S27(PF7,852119,1093751873,bj_lastReplacedUnit)
set h8[160+O5]=K8F
endif
endif
if(not SA7)then
set SA7=IssuePointOrderById(PF7,852662,GetUnitX(K8F)+GetRandomReal(-200.,200.),GetUnitY(K8F)+GetRandomReal(-200.,200.))
endif
endif
set bj_lastLoadedUnit=K8F
if(not SA7)and K9F and(GetPlayerController(GetOwningPlayer(K8F))==MAP_CONTROL_COMPUTER)and((GetUnitTypeId(K8F)==1214409837 and TD7(K8F,852180,1093742932))or((GetUnitAbilityLevel(K8F,1093742938)+GetUnitAbilityLevel(K8F,1093742677)+GetUnitAbilityLevel(K8F,1093742937))>0))and(SP7(800.,PF7,Condition(function WR7))==0)and(R57(K8F))and(R57(PF7))then
if(IssueTargetOrderById(K8F,852248,PF7))then
set SA7=true
call CTE(PF7,true)
endif
endif
if(not SA7)and(eY[224+O5]<R2I(Bz)and GetUnitState(PF7,UNIT_STATE_MANA)>EX7)then
set SA7=V37(PF7,K8F)
endif
return SA7
endfunction
function KDF takes unit PF7,boolean QZ7,integer QW7 returns integer
local unit KEF=null
local integer O5=0
local integer UP=0
local integer i=0
local integer EYF=0
local integer k=0
local real HXF=0
if UO7(GetHandleId(PF7),"AI|TowerDef_CountCD")>R2I(Bz)then
return UN7(GetHandleId(PF7),"AI|TowerDef_Require")
endif
set EM7=false
set bj_lastLoadedUnit=null
set HXF=9999999
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(PF7),GetUnitY(PF7),1800.,Q24)
loop
set KEF=FirstOfGroup(H8)
exitwhen KEF==null
call GroupRemoveUnit(H8,KEF)
set O5=GetPlayerId(GetOwningPlayer(KEF))
set i=GetUnitTypeId(KEF)
if((GetUnitAbilityLevel(KEF,1093678162)!=0 and((i==1970107511 or i==1966092370)or(i==1700946284 or i==1697657398))==false)or GetUnitAbilityLevel(KEF,1097625443)!=0 or GetWidgetLife(KEF)<50.)then
elseif O5==12 or O5>14 then
elseif not(IsUnitType(KEF,UNIT_TYPE_MELEE_ATTACKER)or IsUnitType(KEF,UNIT_TYPE_RANGED_ATTACKER))then
else
set i=GetUnitTypeId(KEF)
set UP=0
if IsUnitType(KEF,UNIT_TYPE_HERO)and i!=1211117642 then
if(IsUnitAlly(KEF,Z7[0])==QZ7)then
set EM7=true
set EI7=RE7(PF7,KEF)
if EI7<HXF and Z17(Player(O5))then
set bj_lastLoadedUnit=KEF
set HXF=EI7
endif
else
set k=k+1
endif
elseif O5!=GetPlayerId(Z7[0])and O5!=GetPlayerId(A7[0])then
set UP=3
else
if(i==1969711215 or i==1970169187)or(i==1966092337 or i==1966092338)or(i==1702061422 or i==1701081721)or(i==1697656918 or i==1697656919)then
set UP=1
elseif(i==1970107511 or i==1966092370)or(i==1700946284 or i==1697657398)then
set UP=3
else
set UP=5
endif
endif
if(IsUnitAlly(KEF,Z7[0])==QZ7)then
set EYF=EYF-UP
else
set EYF=EYF+UP
endif
endif
endloop
if QZ7 then
set k=R2I(EG7*I2R(k))
else
set k=R2I(EF7*I2R(k))
endif
set EYF=EYF+IMaxBJ(600-R2I(GetWidgetLife(PF7)),0)/30
if(not EM7)and(k==0)and(EYF>FD7)then
set k=k+1
endif
call IHF()
set k=k-EB7[112+PW7(QZ7,0,6)+QW7]
call TQ7(GetHandleId(PF7),"AI|TowerDef_Require",k)
call TR7(GetHandleId(PF7),"AI|TowerDef_CountCD",Bz+1)
return k
endfunction
function KFF takes nothing returns nothing
local unit PF7=U87(GetHandleId(GetTriggeringTrigger()),"Unit")
local unit KEF=null
local boolean QZ7=IsUnitAlly(PF7,Z7[0])
local integer O5=0
local integer j=0
local integer i=0
local integer k=0
local integer EYF=0
local integer UP
local boolean SA7=false
if(GetWidgetLife(PF7)<.405 or D39(PF7))or((not((QZ7 and PZ4)or((not QZ7)and PA4))))or(PE4)or(PF7==null)or(UO7(GetHandleId(PF7),"DefCD")>Bz)then
set PF7=null
return
endif
set j=UN7(GetHandleId(PF7),"AI|Lane")
set k=KDF(PF7,QZ7,j)
call TR7(GetHandleId(PF7),"DefCD",Bz+1.)
if k<=0 then
set PF7=null
return
endif
if bj_lastLoadedUnit!=null and GetWidgetLife(PF7)<FO7 then
if Bz>UO7(GetHandleId(PF7),"PingCD")then
call TR7(GetHandleId(PF7),"PingCD",Bz+30.)
if QZ7 then
call VU7(X7,GetUnitX(PF7),GetUnitY(PF7),GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit)))
else
call VU7(Y7,GetUnitX(PF7),GetUnitY(PF7),GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit)))
endif
endif
endif
set KEF=h7[UN7(GetHandleId(PF7),"AI|Wpt")]
set i=1
set EYF=PW7(QZ7,0,6)
set SA7=false
loop
exitwhen(i>5)
set O5=EB7[80+EYF+i]
if O5!=-1 and GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER then
set EB7[96+O5]=0
set EB7[176+O5]=0
set UP=RH7(M7[O5])
set bj_lastLoadedUnit=M7[O5]
if(M7[O5]==null)or((eY[O5]!=1 or(GetUnitCurrentOrder(M7[O5])==851986 and G0[48+O5]==false))and eY[O5]!=10)or(IG4[O5])or(SE7(M7[O5]))then
elseif(UP==j)then
set eY[544+O5]=1
set h9[64+O5]=PF7
set hq[320+O5]=Bz+20.
elseif(eY[544+O5]!=0)or(eY[O5]==3 or eY[O5]==4)or(Bz<hq[528+O5])or(h4[O5]!=null)or(Z84[O5]==ZD4)or(GetHeroLevel(M7[O5])<FH7)or(GetUnitLifePercent(M7[O5])<50.)then
else
set EB7[96+O5]=1
endif
endif
set i=i+1
endloop
set i=1
loop
exitwhen(i>15 or k<=0)
if i>10 then
set O5=EB7[80+EYF+i-10]
elseif i>5 then
set O5=EB7[80+EYF+i-5]
else
set O5=EB7[80+EYF+i]
endif
if O5!=-1 and EB7[96+O5]==1 and GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER then
set UP=RH7(M7[O5])
if(i<5)and(Bz>hq[576+O5])then
elseif(i<=10)and((QZ7 and((EB7[112+UP]-EB7[118+UP]<0)or(EB7[112+UP]<=1)))or((not QZ7)and((EB7[118+UP]-EB7[112+UP]<0)or(EB7[118+UP]<=1))))then
elseif(EB7[176+O5]==0)then
set EB7[176+O5]=1
set bj_lastCreatedUnit=SN7(1200.,S07(M7[O5]),Condition(function SQ7))
if((bj_lastCreatedUnit==null)or(GetWidgetLife(bj_lastCreatedUnit)>200.))then
set EM7=false
if(i<=10)and(eY[224+O5]<R2I(Bz)and GetUnitState(PF7,UNIT_STATE_MANA)>EX7)and SR7(PF7,YC)then
if(SP7(1500.,M7[O5],Condition(function WR7))==0)and(V37(M7[O5],PF7))then
call JYF(M7[O5],KEF)
else
call CTE(M7[O5],true)
set h8[144+O5]=PF7
endif
set EM7=true
endif
if(not EM7)and(i>10)then
set EM7=((j!=UP)and(j==0 or UP==0))
if(EM7)then
call JYF(M7[O5],KEF)
set h4[144+O5]=PF7
set h8[144+O5]=PF7
endif
endif
if(EM7)then
set k=k-1
set hq[528+O5]=Bz+10.
set eY[544+O5]=1
set h9[64+O5]=PF7
set EB7[112+EYF+UP]=EB7[112+EYF+UP]-1
if eY[O5]!=9 then
set eY[O5]=1
endif
set SA7=true
endif
endif
endif
endif
set i=i+1
endloop
if SA7 then
call TR7(GetHandleId(PF7),"DefCD",Bz+10.)
endif
set PF7=null
set KEF=null
endfunction
function KGF takes nothing returns boolean
return((GetWidgetLife(GetTriggerUnit())>50.)and(WD7(GetTriggerUnit()))and(IsUnitEnemy(GetTriggerUnit(),Z7[0])))
endfunction
function KHF takes nothing returns boolean
return((GetWidgetLife(GetTriggerUnit())>50.)and(WD7(GetTriggerUnit()))and(IsUnitEnemy(GetTriggerUnit(),A7[0])))
endfunction
function KIF takes unit PF7,integer KJF,integer QW7 returns trigger
local trigger t=CreateTrigger()
if GetOwningPlayer(PF7)==Z7[0]then
call TriggerRegisterUnitInRange(t,PF7,1200.,Condition(function KGF))
call TQ7(GetHandleId(PF7),"AI|WptClear",KJF+1)
else
call TriggerRegisterUnitInRange(t,PF7,1200.,Condition(function KHF))
call TQ7(GetHandleId(PF7),"AI|WptClear",KJF-1)
endif
call TriggerAddAction(t,function KFF)
call TU7(GetHandleId(t),"Unit",PF7)
call TQ7(GetHandleId(PF7),"AI|Wpt",KJF)
call TQ7(GetHandleId(PF7),"AI|Lane",QW7)
return t
endfunction
function KKF takes unit it returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer k=0
local integer EYF=0
local integer i=0
local integer j=0
local boolean KMF=false
local unit PF7=null
local player pl=GetOwningPlayer(it)
local boolean KNF=false
local integer KOF
local boolean KPF=false
local boolean SA7=false
local boolean KQF=IsUnitInRange(it,TG7(it),5000.)
local boolean KRF=false
set i=GetUnitTypeId(it)
if Z17(pl)and((i==1211117650)or(i==1211119433)or(i==1429221430)or(i==1433105516))then
set KRF=true
set GZ[O5]=true
endif
set i=0
set GZ[320+O5]=false
call GroupClear(H8)
call GroupClear(iA)
call GroupClear(H9)
call GroupEnumUnitsInRange(iA,GetUnitX(it),GetUnitY(it),1800.,null)
loop
set PF7=FirstOfGroup(iA)
exitwhen PF7==null
call GroupRemoveUnit(iA,PF7)
if not IsUnitIllusion(PF7)then
call GroupAddUnit(H8,PF7)
endif
if(not KNF)and IsUnitType(PF7,UNIT_TYPE_HERO)and IsUnitEnemy(PF7,pl)and GetWidgetLife(PF7)>.405 and eY[32+GetPlayerId(GetOwningPlayer(PF7))]>0 then
set KNF=true
call GroupEnumUnitsInRange(H9,GetUnitX(PF7),GetUnitY(PF7),1200.,null)
call GroupAddGroup(H9,H8)
endif
endloop
set h4[304+O5]=null
loop
set PF7=FirstOfGroup(H8)
exitwhen(PF7==null)
if(GetWidgetLife(PF7)<=.405)then
elseif SE7(PF7)then
elseif(IsUnitType(PF7,UNIT_TYPE_HERO))then
if(IsUnitEnemy(PF7,pl))then
if((not IsUnitInRange(it,PF7,600.))or(kD(PF7)))and(eY[32+GetPlayerId(GetOwningPlayer(PF7))]==0)then
elseif(GetUnitTypeId(PF7)!=1211117642)then
set EYF=EYF-1
set SA7=true
if(KRF)and(GetUnitTypeId(PF7)==1333027688)then
set GZ[O5]=false
endif
elseif(not KPF)then
set KPF=true
endif
elseif IsUnitInRange(PF7,it,1200.)or KQF then
if((GetUnitTypeId(PF7)!=1211117642)and(not SE7(PF7)))then
set k=k+1
set i=i+1
endif
if IsUnitInRange(PF7,it,800)then
set GZ[320+O5]=true
endif
endif
elseif((IsUnitType(PF7,UNIT_TYPE_STRUCTURE)and IsUnitType(PF7,UNIT_TYPE_RANGED_ATTACKER))and(RE7(PF7,it)<800.)and(PE7(it)<2000.))then
if(IsUnitEnemy(PF7,pl))then
set j=j-1
set h4[304+O5]=PF7
elseif IsUnitAlly(PF7,pl)then
set j=j+1
endif
endif
call GroupRemoveUnit(H8,PF7)
endloop
if(KPF)then
set EYF=EYF-1
set KMF=true
endif
if not SA7 then
set h4[304+O5]=null
endif
if IsPlayerAlly(pl,Z7[0])then
set eY[320+O5]=R2I(k*EF7+EYF*EG7)+j
set GZ[208+O5]=((R2I(i*EF7)>=3)and(k<=0))
else
set eY[320+O5]=R2I(k*EG7+EYF*EF7)+j
set GZ[208+O5]=((R2I(i*EG7)>=3)and(k<=0))
endif
return KMF
endfunction
function KSF takes unit it returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer kc=0
local boolean J4=false
local boolean KMF=false
local player pl=GetOwningPlayer(it)
local integer UP
set KMF=KKF(it)
if SF7(O5)then
set pl=null
return false
endif
if(RE7(it,TG7(it))<600.)then
set kc=0
else
set kc=-eY[320+O5]
if(not G0[128+O5])then
set kc=kc+1
endif
if((GetUnitLifePercent(it)<70.)or(IC(O5)))then
set kc=kc+1
endif
if(eY[O5]==3 or eY[O5]==4)then
set kc=kc-1
endif
endif
set G0[144+O5]=KMF
if(kc>2)and(eY[O5]<9)and(h4[O5]==null or(not S97(h4[O5],it)))then
set h4[O5]=null
set GZ[128+O5]=false
set G0[128+O5]=false
set G0[256+O5]=false
if h4[304+O5]==null or kc>=3 then
set hq[496+O5]=Bz+3.
else
set hq[496+O5]=Bz+1.
endif
if(is(it))then
call S57(it,851986,h9[O5])
endif
set J4=true
elseif kc>1 then
set G0[256+O5]=false
else
set G0[128+O5]=true
set G0[256+O5]=true
endif
set pl=null
return J4
endfunction
function KTF takes nothing returns boolean
return((not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(WD7(GetFilterUnit())))
endfunction
function KUF takes nothing returns nothing
local unit it=U87(GetHandleId(GetTriggeringTrigger()),"Unit")
local unit m5=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local string J2F
if(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
set UP=SP7(1250.,m5,Condition(function KTF))
if(eY[O5]==9)then
call AX7(it)
endif
if((GetHeroLevel(it)<6)or((PE7(it)<500)and(not Id(O5))and(Bz>hq[512+O5])))then
if((R2I(GetUnitState(it,UNIT_STATE_LIFE))<(400+(GetHeroLevel(it)*40)))and(UP<3))then
call CZE(O5,false)
set GZ[128+O5]=false
call CTE(it,false)
elseif((GetUnitLifePercent(m5)>20.)and((UP<1)or(((WF7(it))or(GetHeroLevel(it)<10))and(UP<2))))then
call CTE(it,true)
endif
elseif(SE7(it))then
call CZE(O5,false)
set GZ[128+O5]=false
call CTE(it,false)
endif
if(GetUnitAbilityLevel(m5,1098282348)>0)then
call H_F(it,-1)
else
set h4[128+O5]=m5
endif
elseif(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitVisible(m5,Player(O5)))then
call KSF(it)
if(iy(it))then
set h4[160+O5]=m5
endif
set UP=GetPlayerId(GetOwningPlayer(m5))
if(Z17(Player(O5)))and(eY[240+UP]<R2I(Bz))then
set J2F="|r"+Q[O5]+KZ4[O5]+GetObjectName(1496331064)+QV7(RI7(O5),true)+" - "+Q[UP]+GetUnitName(m5)+"|r"
set h4[192+UP]=null
set eY[240+UP]=R2I(Bz)+FU7
call TriggerSleepAction(0.4)
if IsUnitAlly(it,Z7[0])then
set EO7=X7
else
set EO7=Y7
endif
if DQ7[16+GetPlayerId(GetLocalPlayer())]and IsPlayerInForce(GetLocalPlayer(),EO7)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,J2F)
call VU7(EO7,GetUnitX(m5),GetUnitY(m5),O5)
endif
endif
endif
set it=null
set m5=null
endfunction
function KVF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(S87(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),Z7[0])))
endfunction
function KWF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(S87(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),A7[0])))
endfunction
function KXF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(S87(GetTriggerUnit()))and(GetOwningPlayer(GetTriggerUnit())==Z7[0])and((GetUnitTypeId(GetTriggerUnit())==1697656914)or(GetUnitTypeId(GetTriggerUnit())==1697657137)or(GetUnitTypeId(GetTriggerUnit())==1697656915)or(GetUnitTypeId(GetTriggerUnit())==1697657145)))
endfunction
function KYF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(S87(GetTriggerUnit()))and(GetOwningPlayer(GetTriggerUnit())==A7[0])and((GetUnitTypeId(GetTriggerUnit())==1966092365)or(GetUnitTypeId(GetTriggerUnit())==1966092356)or(GetUnitTypeId(GetTriggerUnit())==1966092366)or(GetUnitTypeId(GetTriggerUnit())==1966092372)))
endfunction
function KZF takes unit it returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(Q04[32+O5]!=null)then
call TN7(GetHandleId(Q04[32+O5]))
call DestroyTrigger(Q04[32+O5])
endif
set Q04[32+O5]=CreateTrigger()
call TU7(GetHandleId(Q04[32+O5]),"Unit",it)
if(IsUnitAlly(it,Z7[0]))then
call TriggerRegisterUnitInRange(Q04[32+O5],it,1000.,Condition(function KWF))
call TriggerRegisterUnitInRange(Q04[32+O5],it,1000.,Condition(function KYF))
else
call TriggerRegisterUnitInRange(Q04[32+O5],it,1000.,Condition(function KVF))
call TriggerRegisterUnitInRange(Q04[32+O5],it,1000.,Condition(function KXF))
endif
call TriggerAddAction(Q04[32+O5],function KUF)
if(Q04[64+O5]!=null)then
call TN7(GetHandleId(Q04[64+O5]))
call DestroyTrigger(Q04[64+O5])
endif
set Q04[64+O5]=CreateTrigger()
call TU7(GetHandleId(Q04[64+O5]),"Unit",it)
call TriggerAddAction(Q04[64+O5],function JRF)
set Q04[128+O5]=CreateTrigger()
call TriggerRegisterTimerEvent(Q04[128+O5],30.,true)
call TriggerAddAction(Q04[128+O5],function IWF)
call TU7(GetHandleId(Q04[128+O5]),"u",it)
call DisableTrigger(Q04[128+O5])
endfunction
function KAF takes nothing returns nothing
call KKF(U87(GetHandleId(GetTriggeringTrigger()),"Unit"))
endfunction
function L6E takes nothing returns nothing
local unit PF7=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(PF7))
if(Q04[32+O5]!=null)then
call TN7(GetHandleId(Q04[32+O5]))
call DestroyTrigger(Q04[32+O5])
endif
set Q04[32+O5]=CreateTrigger()
call TU7(GetHandleId(Q04[32+O5]),"Unit",PF7)
if(IsUnitAlly(PF7,Z7[0]))then
call TriggerRegisterUnitInRange(Q04[32+O5],PF7,1000.,Condition(function KWF))
else
call TriggerRegisterUnitInRange(Q04[32+O5],PF7,1000.,Condition(function KVF))
endif
call TriggerAddAction(Q04[32+O5],function KAF)
set PF7=null
endfunction
function xh takes nothing returns nothing
local trigger t=CreateTrigger()
local unit it=GetTriggerUnit()
call TU7(GetHandleId(t),"Unit",it)
if(IsUnitAlly(it,Z7[0]))then
call TriggerRegisterUnitInRange(t,it,1000.,Condition(function KWF))
call TriggerRegisterUnitInRange(t,it,1000.,Condition(function KYF))
else
call TriggerRegisterUnitInRange(t,it,1000.,Condition(function KVF))
call TriggerRegisterUnitInRange(t,it,1000.,Condition(function KXF))
endif
call TriggerAddAction(t,function KUF)
set it=null
endfunction
function KBF takes player KCF,string kf returns nothing
if(UF7(GetHandleId(KCF),kf)!=null)then
call TN7(GetHandleId(UF7(GetHandleId(KCF),kf)))
call DestroyTrigger(UF7(GetHandleId(KCF),kf))
call TU7(GetHandleId(KCF),kf,null)
endif
endfunction
function K3F takes unit it returns nothing
local player pl=GetOwningPlayer(it)
local integer kg=1
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1=GetUnitTypeId(it)
local integer K6F=0
local boolean KLF=false
call LCE(O5,it,i1)
if(i1==1211117654)or(i1==1162032951)or(i1==1160785972)or(i1==1429221456)or(i1==1315074670)or(i1==1164799855)or(i1==1311781185)or(i1==1211117649)then
call ExecuteFunc("K1F")
elseif(i1==1160786242)then
call TC7(GetHandleId(GetOwningPlayer(it)),"MGrp",CreateGroup())
elseif(i1==1211117641)then
call ExecuteFunc("K0F")
elseif(i1==1214409837)then
call ExecuteFunc("K5F")
elseif(i1==1328558160)then
call ExecuteFunc("K2F")
elseif(i1==1211117633)then
call ExecuteFunc("K_F")
elseif(i1==1214344551)then
set HC[240+O5]=Location(0.,0.)
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
set hG[256+O5]=0
call ExecuteFunc("M4F")
elseif(i1==1212365106)then
call D48("M7F",GetPlayerController(pl)==MAP_CONTROL_COMPUTER)
endif
if false then
if(i1==1333027688)then
call DG8(it,1093686091)
endif
if(i1==1214409837)then
call DG8(it,1093679157)
endif
if(i1==1164799603)then
call DG8(it,1093752632)
endif
if(i1==1430466872)then
call DG8(it,1093687349)
endif
if(i1==1429221424)then
call DG8(it,1093687351)
endif
if(i1==1160785970)then
call DG8(it,1093747792)
endif
if(i1==1429221446)then
call DG8(it,1093678665)
endif
if(i1==1429221451)then
call DG8(it,1093678671)
endif
if(i1==1160786242)then
call DG8(it,1093683287)
endif
if(i1==1211117641)then
call DG8(it,1093684792)
endif
if(i1==1311780946)then
call DG8(it,1093685808)
endif
endif
call TQ7(GetHandleId(Player(O5)),"AI|Class",QQ7(i1))
set K57[O5]=true
set K57[112+O5]=false
call G3F(O5,it,false)
if(MR7 and Z84[O5]==ZF4)then
if(MT7)then
if(ZC7(Player(O5)))then
if(MU7==null)then
set MU7=CreateUnit(Z7[0],KS9(Player(O5)),GetUnitX(IZ4)-NX7,GetUnitY(IZ4)-NX7,0)
call KZ9(GetPlayerId(Z7[0]),MU7)
endif
set KU4[16+O5]=MU7
else
if(MV7==null)then
set MV7=CreateUnit(A7[0],KS9(Player(O5)),GetUnitX(JA4)+NX7,GetUnitY(JA4)+NX7,0)
call KZ9(GetPlayerId(A7[0]),MV7)
endif
set KU4[16+O5]=MV7
endif
else
set KU4[16+O5]=CreateUnit(Player(O5),KS9(Player(O5)),GetUnitX(KU4[O5]),GetUnitY(KU4[O5]),0)
call KZ9(O5,KU4[16+O5])
endif
endif
if((not D4)and GetUnitName(it)!="Bloodrune")then
if(T64==false)then
if(not LO4)then
set KZ4[GetPlayerId(pl)]=I2S(i5(pl))+PQ7(pl)+CG7(it)
call SetPlayerName(pl,BA7(pl))
endif
else
if(SubString(KZ4[GetPlayerId(pl)],3,11)=="Computer" or SubString(KZ4[GetPlayerId(pl)],4,12)=="Computer")then
loop
if(LBE(it))then
set K6F=GetRandomInt(1,25)
else
set K6F=GetRandomInt(26,119)
endif
if(T34[K6F]!="")then
set KZ4[GetPlayerId(pl)]="+"+T34[K6F]
call SetPlayerName(pl,BA7(pl)+" ("+CF7(it)+")")
set T34[K6F]=""
set KLF=true
endif
exitwhen(KLF)
endloop
endif
endif
elseif(Bz<150.)and GetUnitName(it)!="Bloodrune" then
set KZ4[GetPlayerId(pl)]=I2S(i5(pl))+PQ7(pl)+" Computer"
call SetPlayerName(pl,BA7(pl)+" ("+CF7(M7[GetPlayerId(pl)])+")")
else
set pl=null
return
endif
if(ZC7(pl))then
loop
exitwhen(O7[kg]==pl)or(kg>5)
set kg=kg+1
endloop
call MultiboardSetItemValueBJ(T4,1,(kg+2),(Q[GetPlayerId(pl)]+(BA7(pl)+"|r")))
else
loop
exitwhen(P7[kg]==pl)or(kg>5)
set kg=kg+1
endloop
call MultiboardSetItemValueBJ(T4,1,(kg+3+HB4),(Q[GetPlayerId(pl)]+(BA7(pl)+"|r")))
endif
set pl=null
endfunction
function UD takes nothing returns nothing
local unit AR7=GetTriggerUnit()
call KBF(GetOwningPlayer(AR7),"HasAtkM")
call KBF(GetOwningPlayer(AR7),"HasMM")
call KBF(GetOwningPlayer(AR7),"HasAM")
call KBF(GetOwningPlayer(AR7),"HasOrb")
call K3F(AR7)
call KZF(AR7)
set AR7=null
endfunction
function Uf takes nothing returns nothing
local unit AR7=U87(R44,"AIHSwap|U")
call KBF(GetOwningPlayer(AR7),"HasAtkM")
call KBF(GetOwningPlayer(AR7),"HasMM")
call KBF(GetOwningPlayer(AR7),"HasAM")
call KBF(GetOwningPlayer(AR7),"HasOrb")
call K3F(AR7)
call KZF(AR7)
set AR7=null
endfunction
function M8F takes nothing returns boolean
local integer O5=1
local unit m5=null
if not IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO)then
return false
endif
set m5=GetDyingUnit()
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if Z17(Player(O5))then
if h4[O5]==m5 then
set h4[O5]=null
call IssueImmediateOrderById(M7[O5],851972)
if GZ[208+O5]or G0[256+O5]then
call CWE(O5,Y57(800.,M7[O5]),false,false)
endif
call J3(M7[O5],false)
endif
endif
set O5=O5+1
endloop
set m5=null
return false
endfunction
function M9F takes nothing returns boolean
return((IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE))and(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])and(GetUnitTypeId(GetAttacker())!=1970107511)and(GetUnitTypeId(GetAttacker())!=1700946284)and(GetUnitTypeId(GetAttacker())!=1966092370)and(GetUnitTypeId(GetAttacker())!=1697657398)and(WD7(GetTriggerUnit())))
endfunction
function MDF takes nothing returns nothing
local unit m5=GetTriggerUnit()
local unit MEF=GetAttacker()
local integer O5=GetPlayerId(GetOwningPlayer(m5))
local integer i1=GetUnitTypeId(m5)
if SF7(O5)then
set m5=null
set MEF=null
return
endif
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(not G0[O5])and(i1!=1211117642))then
if(((GetUnitLifePercent(MEF)>10.)or(SP7(800.,MEF,Condition(function k0))>1)or(R2I(GetWidgetLife(m5))<(500+(GetHeroLevel(m5)*30)))or(not Id(O5)))and(not SF7(O5)))then
set bj_lastLoadedUnit=m5
if((eY[320+O5]>=0)and(hq[720+O5]>-0.05))then
elseif((not R57(m5))and(((i1!=1214409837)and(i1!=1332898670))or(GetUnitCurrentOrder(m5)!=852600))and((i1!=1160786243)or(GetUnitCurrentOrder(m5)!=852089))and((i1!=1430466872)or(GetUnitCurrentOrder(m5)!=852487)))then
elseif(((PE7(m5)>1500.)and(hq[720+O5]>-0.05)and(GetHeroLevel(m5)>10))or(((i1==1162032181)or(i1==1429221451))and(GZ[384+O5])and(not SE7(m5)))or(GZ[256+O5]))then
elseif((GetHeroLevel(m5)>6)and(GetUnitAbilityLevel(MEF,1098282348)==0)and(Id(O5))and(GetUnitState(m5,UNIT_STATE_LIFE)>500+(GetHeroLevel(m5)*30)))then
elseif(h4[O5]!=null and SE7(h4[O5])and G0[128+O5]and PE7(m5)>300. and hq[944+O5]<Bz and SP7(600.,m5,Condition(function WW7))>0)then
else
call S57(m5,851986,h9[O5])
if((h4[O5]!=null)and((GetHeroLevel(m5)<6)or(SE7(m5))or(not Id(O5))))then
call CZE(O5,false)
endif
set G0[O5]=true
call TriggerSleepAction(1.)
if((S87(m5))and(S87(MEF))and(IsUnitInRange(m5,MEF,1200.))and(G0[O5]))then
call TriggerSleepAction(1.)
endif
set G0[O5]=false
if((S87(m5))and(S87(MEF))and(GetUnitCurrentOrder(m5)==851986)and(not IsUnitInRange(m5,MEF,1300.))and(SP7(800.,MEF,Condition(function k5))>1))then
call J3(m5,true)
endif
endif
elseif((not Id(O5))and(R57(m5)))then
call IssueTargetOrderById(m5,851983,MEF)
endif
elseif((i1==1211117642)or(i1==1966092596)or(i1==1966092597)or(i1==1966092598)or(i1==1966092612)or(i1==1966092613)or(i1==1966092614)or(i1==1966092626)or(i1==1966092627)or(i1==1966092628)or(i1==1697656907)or(i1==1697656905)or(i1==1697656908)or(i1==1848652343)or((GetUnitTypeId(M7[O5])==1211117633)and(i1!=1211117633)))then
call S57(m5,851986,h9[16+O5])
set G0[16+O5]=true
call R47(1.)
if((S87(m5))and(S87(MEF))and(IsUnitInRange(m5,MEF,1300.)))then
call S57(m5,851986,h9[16+O5])
endif
set G0[16+O5]=false
endif
set m5=null
set MEF=null
endfunction
function MFF takes nothing returns boolean
return((QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])and(IsUnitAlly(GetTriggerUnit(),Z7[0]))and(WD7(GetTriggerUnit())))
endfunction
function MGF takes nothing returns boolean
return((QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])and(IsUnitAlly(GetTriggerUnit(),A7[0]))and(WD7(GetTriggerUnit())))
endfunction
function MHF takes unit I8F returns nothing
loop
call S57(GetTriggerUnit(),851986,h9[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call TriggerSleepAction(0.3)
exitwhen((not S87(GetTriggerUnit()))or(not S87(I8F))or(not IsUnitInRange(GetTriggerUnit(),I8F,1200.)))
endloop
endfunction
function MIF takes nothing returns nothing
if((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit())))then
set GZ[128+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
set h4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=null
if(IsUnitAlly(GetTriggerUnit(),A7[0]))then
call MHF(IZ4)
else
call MHF(JA4)
endif
elseif(not IsUnitIllusion(GetTriggerUnit()))then
call S57(GetTriggerUnit(),851986,h9[16+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endfunction
function MJF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(GetUnitCurrentOrder(GetTriggerUnit())!=851986)and(not IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetAttacker(),UNIT_TYPE_HERO)))
endfunction
function MKF takes nothing returns nothing
local unit it=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
if((Bz<hq[288+O5])or(not is(it))or((G0[224+O5]or Bz<hq[672+O5])and SE7(it)==false))then
set it=null
return
elseif SF7(O5)then
set it=null
return
endif
set hq[288+O5]=Bz+1.
set hq[496+O5]=Bz+1.5
call MoveLocation(Ha,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
set bj_lastLoadedUnit=PS7(IsUnitAlly(it,Z7[0]),IZ4,JA4)
set EI7=RE7(it,bj_lastLoadedUnit)
if SO7(150.,Ha,Condition(function k0))>6 then
call CTE(it,true)
elseif(EI7<900. and EI7+QC7(it)>650.)and(IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER))then
call S57(it,851986,bj_lastLoadedUnit)
else
if(((eY[O5]==3)or(eY[O5]==4))and(IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER))and(not GZ[128+O5])and(h4[O5]==null)and(GetUnitCurrentOrder(it)==851983)and(not GZ[48+O5])and(RE7(it,TG7(it))<6500.))then
if((Bz<hq[784+O5])or(hq[720+O5]<-F17)or((SO7(1000.,Ha,Condition(function WP7))==0)and(SO7(700.,Ha,Condition(function k5))==0)and(SO7(600.,Ha,Condition(function k0))>3)))then
call S57(it,851986,bj_lastLoadedUnit)
set G0[48+O5]=true
set hq[768+O5]=Bz+1.
set hq[784+O5]=Bz+5.
endif
endif
if((not(IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER)))and(not GZ[128+O5])and(h4[O5]==null)and(iU(it))and(hq[512+O5]<Bz))then
if(not SE7(it))then
if((eY[O5]<10)and((R2I(GetUnitState(it,UNIT_STATE_LIFE))<(550+(GetHeroLevel(it)*40)))or((GetHeroLevel(it)<10)and(IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER)))))then
call CTE(it,true)
endif
else
call VX7(it,false)
endif
elseif((IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER))and(not GZ[128+O5])and(h4[O5]==null)and(iU(it))and(hq[512+O5]<Bz))then
if(not SE7(it))then
if((eY[O5]<10)and(GetUnitLifePercent(it)<60.)and((SP7(300.,GetTriggerUnit(),Condition(function k5))<3)))then
if(not(SR7(it,ZU[T2]))and(not(SR7(it,ZU[J1])))and(not(SR7(it,ZU[P1])))and((GetUnitAbilityLevel(it,1112891766)==0)or(GetUnitAbilityLevel(it,1110454838)==0)or(GetUnitAbilityLevel(it,1110454597)==0))and((SP7(1000.,it,Condition(function WP7))>0)or(SP7(900.,it,Condition(function WY7))>0)))then
call CTE(it,true)
endif
endif
else
call VX7(it,false)
endif
elseif((SE7(it))and(not Id(O5)))then
call VX7(it,true)
elseif((GetHeroLevel(it)<6)or((GetUnitLifePercent(it)<60.)and(R2I(GetUnitState(it,UNIT_STATE_LIFE))<(400+(GetHeroLevel(it)*50)))and((h4[O5]==null)or(GetUnitState(h4[O5],UNIT_STATE_LIFE)>(GetUnitState(it,UNIT_STATE_LIFE)+(15.*GetHeroLevel(it)))))))then
if((GetHeroLevel(it)<3)or(SP7(500.,GetTriggerUnit(),Condition(function k0))>2))then
set GZ[128+O5]=false
call CTE(it,true)
endif
elseif(GetUnitTypeId(it)==1211117643)and(h4[O5]==null)and(RE7(it,h9[48+O5])>700)then
set UP=GetUnitCurrentOrder(it)
if(UP==852278 or UP==852114 or UP==852504)then
call CTE(it,true)
endif
endif
endif
set it=null
endfunction
function MMF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetAttacker()))
if(Z17(Player(O5)))and(GetUnitAbilityLevel(GetAttacker(),1110455884)>0)and(Bz>TC4[64+O5])and(h4[O5]==GetTriggerUnit())then
call IssuePointOrderById(M7[O5],852185,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()))
endif
endfunction
function MNF takes nothing returns boolean
if not((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))then
return false
else
if IsUnitIllusion(GetAttacker())then
call MMF()
return false
endif
endif
return(IsUnitType(GetAttacker(),UNIT_TYPE_HERO))
endfunction
function MOF takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(hz)))and(hZ!=GetFilterUnit())and(hz!=GetFilterUnit())and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not SE7(GetFilterUnit())))
endfunction
function MPF takes nothing returns nothing
if((not IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))and(WE7(GetEnumUnit()))and(GetUnitCurrentOrder(GetEnumUnit())!=851986)and(IsUnitInRange(GetEnumUnit(),hz,1200.)))then
call IssueTargetOrderById(GetEnumUnit(),851983,hz)
endif
endfunction
function MQF takes unit PF7,unit MRF returns nothing
local integer U_7=GetPlayerId(GetOwningPlayer(PF7))
local integer O5
local unit KEF=null
local boolean J4=false
local integer i=0
local integer IYF=0
local integer j=0
local integer k=0
local boolean MSF=false
local unit MTF=null
local boolean SA7=false
local boolean QZ7
if((GetWidgetLife(MRF)>1.)and(PF7!=null)and(Bz>hq[416+U_7]or(Bz+2.>hq[416+U_7]and(SE7(PF7)or SF7(U_7)))))then
set hq[416+U_7]=Bz+5.
set k=GetRandomInt(-1,1)
if k<0 then
set k=0
endif
if SE7(PF7)then
set k=k+1
endif
set QZ7=IsUnitAlly(PF7,Z7[0])
set IYF=PW7(QZ7,0,6)
set MTF=PS7(QZ7,IZ4,JA4)
set MSF=IsUnitInRange(PF7,MTF,6000.)
set i=1
loop
exitwhen(i>5)
set O5=EB7[80+IYF+i]
if(O5!=-1)and(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)then
set KEF=M7[O5]
set bj_lastLoadedUnit=KEF
set hq[416+O5]=Bz+2.
set J4=false
set SA7=false
if(KEF==null)or(SE7(KEF))or(IG4[O5])or(eY[544+O5]!=0)then
elseif(hq[480+O5]>Bz)or(h4[O5]!=null and h4[O5]!=MRF and(RE7(PF7,h4[O5])+300<RE7(PF7,MRF)))then
elseif(not MSF)and(eY[O5]==3 or eY[O5]==4 or Bz<hq[528+O5])then
elseif(MSF and eY[O5]!=2 and IsUnitInRange(KEF,MTF,6000.))then
set J4=true
elseif((IsUnitInRange(PF7,KEF,3600.))or(eY[80+O5]==eY[80+U_7]))and((hq[624+U_7]>Bz)or(GetUnitLifePercent(PF7)<80.)or(eY[320+U_7]+j<=k))then
set J4=true
elseif(Bz>hq[320+O5]and(eY[O5]!=9 or(GetUnitLifePercent(PF7)<70.)))and(eY[320+U_7]+j<=k)and(GetHeroLevel(KEF)>=6)and(RE7(PF7,KEF)>3000)and(GetUnitLifePercent(KEF)>70.)and(GetUnitManaPercent(KEF)>30.)and((Z84[O5]==ZE4 and GetRandomInt(1,3)==1)or(Z84[O5]==ZF4))then
set SA7=K7F(O5,KEF,PF7,true)
endif
if J4 then
if(h4[O5]==MRF)then
if((GetUnitAbilityLevel(MRF,1110454854)==0)and(is(KEF))and(GetUnitCurrentOrder(KEF)!=851983))then
call IssueTargetOrderById(KEF,851983,MRF)
set SA7=true
endif
elseif((h4[O5]==null)or(hq[464+GetPlayerId(GetOwningPlayer(PF7))]>Bz)or((GetUnitLifePercent(MRF)+10.)<GetUnitLifePercent(h4[O5])and(GetWidgetLife(MRF)<GetWidgetLife(h4[O5]))))then
set h4[O5]=MRF
if((is(KEF))and(GetUnitAbilityLevel(MRF,1110454854)==0))then
call IssueTargetOrderById(KEF,851983,MRF)
set SA7=true
endif
endif
if(hq[624+U_7]>Bz)then
set hq[624+O5]=Bz+F67
endif
endif
if SA7 then
set eY[544+O5]=2
set h9[64+O5]=PF7
set h4[O5]=MRF
set j=j+1
set hq[576+O5]=Bz+FZ7
if eY[O5]==9 or eY[O5]==10 then
call AW7(KEF,PF7)
set eY[O5]=1
endif
endif
endif
set i=i+1
endloop
if(IsUnitInForce(PF7,QX4))then
call GroupClear(iH)
call GroupEnumUnitsOfPlayer(iH,GetOwningPlayer(PF7),Q24)
call ForGroup(iH,function MPF)
endif
if eY[320+U_7]+j<0 and Bz>hq[800+U_7]and Z17(Player(U_7))and SE7(PF7)then
if QZ7 then
set EO7=X7
else
set EO7=Y7
endif
call VU7(EO7,GetUnitX(PF7),GetUnitY(PF7),GetPlayerId(GetOwningPlayer(PF7)))
set hq[800+U_7]=Bz+15.
endif
endif
set EO7=null
endfunction
function MUF takes nothing returns nothing
local unit O17=GetAttacker()
local unit it=GetTriggerUnit()
local integer O5=0
local real QE7=0.
if GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER and R57(it)then
set O5=GetPlayerId(GetOwningPlayer(it))
if h4[O5]!=null then
if O17!=h4[O5]then
set hq[944+O5]=Bz+NY7
endif
set QE7=QC7(it)
if SE7(h4[O5])then
set QE7=QE7+200.
endif
if(RE7(it,h4[O5])>QE7-100.)then
call CZE(O5,true)
endif
endif
endif
if(not IsUnitInForce(O17,QX4))then
call TriggerSleepAction(0.2)
call MQF(O17,it)
endif
if(not IsUnitInForce(it,QX4))then
call TriggerSleepAction(0.2)
call MQF(it,O17)
endif
set O17=null
set it=null
endfunction
function MVF takes nothing returns boolean
return((GetSpellTargetUnit()!=null)and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetSpellTargetUnit())))and(not IsUnitInForce(GetSpellTargetUnit(),QX4)))
endfunction
function MWF takes nothing returns nothing
call MQF(GetSpellTargetUnit(),GetTriggerUnit())
endfunction
function MXF takes nothing returns nothing
local unit PF7=GetTriggerUnit()
local unit MRF=GetAttacker()
local unit KEF=null
local player pl=null
local integer U_7
local integer i=0
local integer j
local integer k=0
local real MYF
local integer O5
set U_7=GetPlayerId(GetOwningPlayer(MRF))
if U_7==GetPlayerId(Z7[0])or U_7==GetPlayerId(A7[0])then
set j=-1
if((PF7==JN4)or(PF7==JS4)or(PF7==JV4))or((PF7==J_4)or(PF7==KD4)or(PF7==KG4))then
set j=1
elseif((PF7==JO4)or(PF7==JT4)or(PF7==JW4))or((PF7==K44)or(PF7==KE4)or(PF7==KH4))then
set j=0
elseif((PF7==JP4)or(PF7==JU4)or(PF7==JX4))or((PF7==K74)or(PF7==KF4)or(PF7==KI4))then
set j=2
elseif((PF7==JQ4)or(PF7==JQ4)or(PF7==JF4))or((PF7==K84)or(PF7==K84)or(PF7==J34))then
set j=3
endif
if(j!=-1 or GetWidgetLife(PF7)<=FP7)then
set EM7=IsUnitAlly(PF7,Z7[0])
set pl=Player(U_7)
if(UO7(GetHandleId(PF7),"AI|Glyph|CD")>Bz)then
elseif(Bz>UO7(R44,"AI|Glyph|"+PZ7(EM7,"Sent","Scrg")))then
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(PF7),GetUnitY(PF7),900.,null)
loop
set KEF=FirstOfGroup(H8)
exitwhen KEF==null
call GroupRemoveUnit(H8,KEF)
if GetWidgetLife(KEF)<.405 then
elseif IsUnitType(KEF,UNIT_TYPE_HERO)and GetUnitTypeId(KEF)!=1211117642 then
if IsUnitAlly(KEF,pl)then
set k=k+1
else
set k=k-1
endif
elseif PF7!=KEF and WD7(KEF)and IsUnitInRange(KEF,PF7,300.)then
if IsUnitAlly(KEF,pl)then
set k=GetUnitTypeId(KEF)
if(k==1969711215 or k==1970169187)or(k==1966092337 or k==1966092338)or(k==1702061422 or k==1701081721)or(k==1697656918 or k==1697656919)then
set i=i+1
elseif(k==1970107511 or k==1966092370)or(k==1700946284 or k==1697657398)then
set i=i+2
else
set i=i+2
endif
else
set i=-99999
endif
endif
endloop
if((EM7 and FK7)or((not EM7)and FM7))then
set bj_forLoopAIndex=FO7
else
set bj_forLoopAIndex=FP7
endif
if(i>0 and i+k*3>FJ7-IMaxBJ(bj_forLoopAIndex-R2I(GetWidgetLife(PF7)),-100)/25)then
if EM7 then
set EO7=X7
else
set EO7=Y7
endif
set i=1
set k=-1
set MYF=99999.
loop
exitwhen i>5
if EM7 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i])
endif
if Z17(Player(O5))then
if((EM7 and FK7)or((not EM7)and FM7))then
call IssueImmediateOrder(KU4[O5],"coldarrows")
exitwhen true
else
if k==-1 then
set k=O5
if M7[O5]!=null and GetWidgetLife(M7[O5])>.405 then
set MYF=RE7(PF7,M7[O5])
endif
else
if M7[O5]!=null and GetWidgetLife(M7[O5])>.405 then
set EI7=RE7(PF7,M7[O5])
if EI7<MYF then
set k=O5
set MYF=EI7
endif
elseif MYF==99999. and GetRandomInt(1,i)==1 then
set k=O5
endif
endif
endif
endif
set i=i+1
endloop
if k!=-1 then
call VQ7(M7[k],EO7,GetObjectName(1496330547))
call VU7(EO7,GetUnitX(PF7),GetUnitY(PF7),k)
call TR7(GetHandleId(PF7),"AI|Glyph|CD",Bz+FI7)
endif
endif
endif
endif
set O5=GetUnitTypeId(MRF)
if j!=-1 and((O5==1969711215 or O5==1970169187)or(O5==1966092337 or O5==1966092338)or(O5==1702061422 or O5==1701081721)or(O5==1697656918 or O5==1697656919))then
set i=1
set EI7=99999.
set bj_forLoopAIndex=-1
loop
exitwhen i>5
if U_7==GetPlayerId(Z7[0])then
set O5=GetPlayerId(A7[i])
else
set O5=GetPlayerId(Z7[i])
endif
if((M7[O5]!=null)and(not SE7(M7[O5]))and(GetWidgetLife(M7[O5])>400.)and(eY[O5]==3 or eY[O5]==4)and(EB7[64+O5]==j)and(Bz>hq[672+O5]))then
set MYF=RE7(M7[O5],PF7)
if MYF<EI7 then
set EI7=MYF
set bj_forLoopAIndex=O5
endif
endif
set i=i+1
endloop
if bj_forLoopAIndex!=-1 then
set O5=bj_forLoopAIndex
set G0[224+O5]=true
set EC7[48+O5]=GetAttacker()
if R57(M7[O5])then
call IssueTargetOrderById(M7[O5],851983,EC7[48+O5])
endif
endif
endif
endif
set PF7=null
set MRF=null
set KEF=null
set pl=null
endfunction
function MZF takes nothing returns boolean
local real MAF=0.
local integer O5
if IsUnitType(GetAttacker(),UNIT_TYPE_HERO)then
set O5=GetPlayerId(GetOwningPlayer(GetAttacker()))
if G0[224+O5]and GetTriggerUnit()==EC7[48+O5]then
set G0[224+O5]=false
set hq[672+O5]=Bz+2.
endif
elseif IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)and Bz>FN7 then
set FN7=Bz+1.
call MXF()
endif
if(Bz<600.)then
set MAF=130.
elseif(Bz<1200.)then
set MAF=140.
elseif(Bz>1200.)then
set MAF=150.
endif
if(not GZ[320+O5])then
set MAF=MAF/2+15
endif
return((not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetTriggerUnit())<MAF))
endfunction
function MBF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
set h4[96+O5]=GetTriggerUnit()
call DisableTrigger(Q04[O5])
call IssueTargetOrderById(GetEnumUnit(),851983,GetTriggerUnit())
call EnableTrigger(Q04[O5])
endfunction
function MCF takes nothing returns boolean
local integer O5
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))then
set O5=GetPlayerId(GetOwningPlayer(GetFilterUnit()))
if((SF7(O5))or((h4[304+O5]!=null)and(QC7(GetFilterUnit())+RE7(GetTriggerUnit(),h4[304+O5])<RE7(GetFilterUnit(),h4[304+O5]))))then
elseif((iU(GetFilterUnit()))and(not Id(O5))and(not SE7(GetFilterUnit()))and((h4[96+O5]==null)or(not S87(h4[96+O5]))or((h4[96+O5]!=null)and(S87(h4[96+O5]))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(h4[96+O5]))))))then
return((Jw(GetFilterUnit()))and(G0[128+O5])and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(Bz>hq[496+O5])and((not WF7(GetFilterUnit()))or(IsUnitInRange(GetFilterUnit(),GetTriggerUnit(),500.)))and((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))or(GetHeroLevel(GetFilterUnit())<15)))
endif
endif
return false
endfunction
function M3F takes nothing returns nothing
call GroupClear(iG)
call GroupEnumUnitsInRange(iG,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),800.,Q_4)
call ForGroup(iG,function MBF)
endfunction
function M6F takes nothing returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(GetKillingUnit()))
if GetKillingUnit()==M7[O5]and(eY[O5]==3 or eY[O5]==4)then
call IJF(M7[O5])
endif
return false
endfunction
function MLF takes nothing returns boolean
return((GetOwningPlayer(GetFilterUnit())==Player(12))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function M1F takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((GetOwningPlayer(GetFilterUnit())==Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(i1==1852010091))
endfunction
function M0F takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((GetOwningPlayer(GetFilterUnit())==Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(i1==1852534636))
endfunction
function M5F takes nothing returns nothing
if((h0==null)or(GetUnitLevel(GetEnumUnit())>GetUnitLevel(h0))or((GetUnitLevel(GetEnumUnit())==GetUnitLevel(h0))and(GetUnitState(h0,UNIT_STATE_LIFE)<GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE))))then
set h0=GetEnumUnit()
endif
endfunction
function M2F takes unit AU7 returns unit
local boolexpr Ig=Condition(function MLF)
set h0=null
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(AU7),GetUnitY(AU7),600.,Ig)
call ForGroup(H8,function M5F)
call DestroyBoolExpr(Ig)
set Ig=null
return h0
endfunction
function M_F takes unit AU7,integer Q17,integer N4F returns unit
local boolexpr Ig=null
if(N4F==1852010091)then
set Ig=Condition(function M1F)
elseif(N4F==1852534636)then
set Ig=Condition(function M0F)
else
set Ig=Condition(function M1F)
endif
set h0=null
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(AU7),GetUnitY(AU7),600.,Ig)
call ForGroup(H8,function M5F)
call DestroyBoolExpr(Ig)
set Ig=null
return h0
endfunction
function N7F takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(eY[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(GetHeroLevel(GetTriggerUnit())>3)and(not SE7(GetTriggerUnit()))and(not IsUnitIllusion(GetTriggerUnit()))and(GetUnitAbilityLevel(GetTriggerUnit(),1110454874)==0))
endfunction
function N8F takes unit AU7 returns boolean
local integer O5=1
local boolean O6=IsUnitAlly(GetTriggerUnit(),Z7[0])
local boolean N9F=false
local integer NDF=0
local integer NEF=0
if((O6)and(GetHeroLevel(GetTriggerUnit())>15)and(G2>=0))then
set NEF=SP7(1200.,GetTriggerUnit(),Condition(function WA7))
set N9F=NEF>0
elseif((not O6)and(GetHeroLevel(GetTriggerUnit())>15)and(G1>=0))then
set NEF=SP7(1200.,GetTriggerUnit(),Condition(function WA7))
set N9F=NEF>0
endif
loop
if((eY[GetPlayerId(Z7[O5])]==10)and(h8[48+GetPlayerId(Z7[O5])]==AU7))then
return true
endif
if((eY[GetPlayerId(A7[O5])]==10)and(h8[48+GetPlayerId(A7[O5])]==AU7))then
return true
endif
if((N9F)and(eY[80+GetPlayerId(TJ7(O5,not O6))]==eY[80+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))then
set NDF=NDF+1
endif
set O5=O5+1
exitwhen O5>5
endloop
if(N9F)then
return NDF>=NEF
endif
return false
endfunction
function NFF takes unit it returns boolean
local integer NGF=0
local boolean J4=true
local unit AR7=null
local player pl=GetOwningPlayer(it)
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(it),GetUnitY(it),1600.,Q24)
loop
set AR7=FirstOfGroup(H8)
exitwhen((AR7==null)or(not J4))
if((not S87(AR7))or(not WE7(AR7)))then
elseif(IsUnitEnemy(AR7,pl))then
if((IsUnitType(AR7,UNIT_TYPE_HERO))or(IsUnitType(AR7,UNIT_TYPE_STRUCTURE)))then
set J4=false
elseif(((GetOwningPlayer(AR7)==Z7[0])or(GetOwningPlayer(AR7)==A7[0]))and(IsUnitInRange(AR7,it,1200.)))then
set NGF=NGF+1
set J4=NGF<=3
endif
endif
call GroupRemoveUnit(H8,AR7)
endloop
set pl=null
return J4
endfunction
function NHF takes unit NIF,unit Z_7 returns unit
local integer O5=GetPlayerId(GetOwningPlayer(Z_7))
if(NIF==h7[211]or NIF==h7[212])then
if(GetHeroLevel(Z_7)>7)then
if(M_F(h7[262],O5,1852010091)!=null)then
return h7[262]
elseif(M_F(h7[260],O5,1852010091)!=null)then
return h7[260]
elseif(M_F(h7[253],O5,1852010091)!=null)then
return h7[253]
elseif(M_F(h7[258],O5,1852010091)!=null)then
return h7[258]
elseif(M_F(h7[256],O5,1852010091)!=null)then
return h7[256]
else
return h7[262]
endif
else
if(M_F(h7[262],O5,1852534636)!=null)then
return h7[262]
elseif(M_F(h7[260],O5,1852534636)!=null)then
return h7[260]
elseif(M_F(h7[253],O5,1852534636)!=null)then
return h7[253]
elseif(M_F(h7[258],O5,1852534636)!=null)then
return h7[258]
elseif(M_F(h7[256],O5,1852534636)!=null)then
return h7[256]
else
return h7[260]
endif
endif
elseif(NIF==h7[213])then
if(GetHeroLevel(Z_7)>7)then
if(M_F(h7[257],O5,1852010091)!=null)then
return h7[257]
elseif(M_F(h7[259],O5,1852010091)!=null)then
return h7[259]
elseif(M_F(h7[261],O5,1852010091)!=null)then
return h7[261]
else
return h7[257]
endif
else
if(M_F(h7[261],O5,1852534636)!=null)then
return h7[261]
elseif(M_F(h7[259],O5,1852534636)!=null)then
return h7[259]
else
return h7[261]
endif
endif
elseif((NIF==h7[221])or(NIF==h7[222]))then
if(GetHeroLevel(Z_7)>7)then
if(M_F(h7[254],O5,1852010091)!=null)then
return h7[254]
elseif(M_F(h7[255],O5,1852010091)!=null)then
return h7[255]
else
return h7[254]
endif
else
if(M_F(h7[254],O5,1852534636)!=null)then
return h7[254]
elseif(M_F(h7[255],O5,1852534636)!=null)then
return h7[255]
else
return h7[254]
endif
endif
elseif(NIF==h7[223])then
if(GetHeroLevel(Z_7)>7)then
if((IsUnitAlly(Z_7,A7[0])))then
if(M_F(h7[254],O5,1852010091)!=null)then
return h7[254]
elseif(M_F(h7[255],O5,1852010091)!=null)then
return h7[255]
else
return h7[255]
endif
endif
else
if((IsUnitAlly(Z_7,A7[0])))then
if(M_F(h7[254],O5,1852534636)!=null)then
return h7[254]
elseif(M_F(h7[255],O5,1852534636)!=null)then
return h7[255]
else
return h7[255]
endif
endif
endif
elseif(NIF==h7[231])then
if(GetHeroLevel(Z_7)>7)then
if((IsUnitAlly(Z_7,Z7[0])))then
if(M_F(h7[253],O5,1852010091)!=null)then
return h7[253]
elseif(M_F(h7[258],O5,1852010091)!=null)then
return h7[258]
elseif(M_F(h7[256],O5,1852010091)!=null)then
return h7[256]
else
return h7[253]
endif
endif
else
if((IsUnitAlly(Z_7,Z7[0])))then
if(M_F(h7[253],O5,1852534636)!=null)then
return h7[253]
elseif(M_F(h7[258],O5,1852534636)!=null)then
return h7[258]
elseif(M_F(h7[256],O5,1852534636)!=null)then
return h7[256]
else
return h7[253]
endif
endif
endif
elseif((NIF==h7[232])or(NIF==h7[233]))then
if(GetHeroLevel(Z_7)>7)then
if((IsUnitAlly(Z_7,Z7[0])))then
if(M_F(h7[256],O5,1852010091)!=null)then
return h7[256]
elseif(M_F(h7[258],O5,1852010091)!=null)then
return h7[258]
else
return h7[256]
endif
endif
else
if((IsUnitAlly(Z_7,Z7[0])))then
if(M_F(h7[256],O5,1852534636)!=null)then
return h7[256]
elseif(M_F(h7[258],O5,1852534636)!=null)then
return h7[258]
else
return h7[256]
endif
endif
endif
elseif(NIF==h7[234])then
if(GetHeroLevel(Z_7)>7)then
if(M_F(h7[258],O5,1852010091)!=null)then
return h7[258]
elseif(M_F(h7[256],O5,1852010091)!=null)then
return h7[256]
else
return h7[258]
endif
else
if(M_F(h7[258],O5,1852534636)!=null)then
return h7[258]
elseif(M_F(h7[256],O5,1852534636)!=null)then
return h7[256]
else
return h7[258]
endif
endif
endif
return null
endfunction
function NJF takes unit it,unit NKF,integer j returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1=GetUnitTypeId(it)
local integer UP
local unit NMF=null
local unit m5=null
local boolean NNF=false
local boolean NOF=false
local boolean NPF=(i1==1211117633)or(i1==1429221443)or(i1==1332766568)or(i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194)or(i1==1430467634)
if SE7(it)or((Bz>hq[528+O5]and Bz>hq[320+O5]and Bz>hq[480+O5]and Bz>hq[576+O5]))==false then
return false
endif
call MoveLocation(Ha,GetUnitX(it),GetUnitY(it))
if((not iy(it))or(not NFF(it))or((GetHeroLevel(it)<7)and(i1!=1429221443)and(i1!=1332766568)and(i1!=1164277353)and(i1!=1164277357)and(i1!=1160786518)and(i1!=1160786519)and(i1!=1160786517)and(i1!=1430467634)))then
set NNF=false
elseif(i1==1211117633)then
set UP=IH(GetOwningPlayer(it),Condition(function C59))
set NNF=(Bz>hq[O5])and(GetUnitManaPercent(it)>20.)and(UP<(GetUnitAbilityLevel(it,1093810260)-1))
set NOF=(UP>0)and(GetHeroLevel(it)>12)and(GetUnitLifePercent(it)>75.)
elseif(((IsUnitAlly(it,Z7[0]))and(not Gv))or((IsUnitAlly(it,A7[0]))and(not Gw))or(Bz<hq[528+O5]))then
set NNF=false
elseif(i1==1429221443)then
if(GetHeroLevel(it)<18)then
set NNF=true
else
set NNF=(GetRandomInt(1,6)==1 or(j!=0))
endif
set NOF=GetHeroLevel(it)>10
elseif((i1==1432646245)and(not L_7()))then
set NNF=false
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
set NNF=(GetUnitManaPercent(it)>50.)and(Bz>hq[O5])
elseif(SR7(it,ZU[S6]))then
set NNF=(Bz>hq[144+O5])and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)
if((not NNF)and(i1==1164799855))then
if(GetHeroLevel(it)<18)then
set NNF=(GetRandomInt(1,2)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])
else
set NNF=(GetRandomInt(1,8)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])
endif
endif
elseif((i1==1160786241)or(i1==1211117643)or(i1==1332963428)or(i1==1433105516)or(Z84[GetPlayerId(GetOwningPlayer(it))]==ZD4)or((GetHeroLevel(it)>20)and(Bz>2700.))or(GetHeroLevel(it)>=25))then
set NNF=false
elseif(i1==1164799855)then
if(GetHeroLevel(it)<18)then
set NNF=(GetRandomInt(1,2)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])
else
set NNF=(GetRandomInt(1,10)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])
endif
elseif(i1==1430467634)then
if(((GetUnitAbilityLevel(it,1093750832)==0)and(GetHeroLevel(it)>7))or(((GetUnitAbilityLevel(it,1395667021)==0)and(GetHeroLevel(it)<8))))then
set NNF=true
else
if(GetHeroLevel(it)<13)then
set NNF=(GetRandomInt(1,3)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)
elseif(GetHeroLevel(it)<16)then
set NNF=(GetRandomInt(1,5)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)
else
set NNF=(GetRandomInt(1,10)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)
endif
endif
if((NNF)and(Bz<TC4[16+O5])or((TC4[16+O5]-Bz)>5))then
set NNF=false
endif
elseif(i1==1214409837)then
set NNF=(GetHeroLevel(it)<15)and(GetRandomInt(1,2)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(Bz>hq[O5])and(GetUnitLifePercent(it)>85.)
elseif(i1==1164666213)then
if(GetHeroLevel(it)<18)then
set NNF=(GetRandomInt(1,2)==1 or(j!=0))and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>60.)and(GetUnitLifePercent(it)>70.)and(Bz>hq[O5])
else
set NNF=(GetRandomInt(1,10)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>70.)and(Bz>hq[O5])
endif
elseif((i1==1215722344)or(i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517)or(i1==1215657064)or((i1==1313026096)and(GetHeroLevel(it)>11))or(SR7(it,ZU[J1]))or(SR7(it,ZU[T2]))or(SR7(it,ZU[P1]))or(SR7(it,ZU[DG4])))then
if(GetHeroLevel(it)<18)then
set NNF=(GetRandomInt(1,2)==1 or(j!=0))
else
set NNF=(GetRandomInt(1,6)==1 or(j!=0))
endif
set NOF=(GetHeroLevel(it)>10)and(i1!=1164277353)and(i1!=1164277357)and(i1!=1160786518)and(i1!=1160786519)and(i1!=1160786517)
elseif((GetHeroLevel(it)>8)and(GetUnitLifePercent(it)>90.)and(GetUnitManaPercent(it)>50.))then
if(GetHeroLevel(it)>=18)then
set NNF=false
elseif(((kq(i1))and(i1!=1160786242)and(i1!=1433631084)and(i1!=1212365106)and(i1!=1332179560))or(i1==1211117640)or(i1==1429221445))then
set NNF=(GetRandomInt(1,3)==1 or(j!=0))
else
set NNF=(GetHeroLevel(it)>11)and(GetRandomInt(1,5)==1 or(j!=0))
endif
endif
if(NNF)then
if(j!=0)then
set NMF=h7[j]
elseif(NKF==h7[211])then
if((IsUnitAlly(it,Z7[0]))or(NPF))then
set NMF=h7[262]
endif
elseif(NKF==h7[212])then
if(((NOF)and(GetHeroLevel(it)>15))or((GetHeroLevel(it)>20)and(GetUnitLifePercent(it)>80.)))then
set NOF=true
set NMF=h7[252]
set m5=M2F(NMF)
if(m5==null)then
set NMF=h7[260]
endif
elseif((IsUnitAlly(it,Z7[0]))or(NPF))then
set NMF=h7[260]
endif
elseif(NKF==h7[213])then
if((IsUnitAlly(it,A7[0]))or(NPF))then
set NMF=h7[261]
set m5=M2F(NMF)
if(m5==null)then
set NMF=h7[259]
endif
endif
elseif((NKF==h7[221])or(NKF==h7[222]))then
set NMF=h7[254]
elseif(NKF==h7[223])then
if((IsUnitAlly(it,A7[0]))or(NPF))then
set NMF=h7[257]
set m5=M2F(NMF)
if((m5==null)or((not NOF)and((IsUnitType(m5,UNIT_TYPE_ANCIENT))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE)))))then
set NMF=h7[255]
endif
endif
elseif(NKF==h7[231])then
if((IsUnitAlly(it,Z7[0]))or(NPF))then
set NMF=h7[253]
endif
elseif((NKF==h7[232])or(NKF==h7[233]))then
set NMF=h7[256]
elseif(NKF==h7[234])then
if((IsUnitAlly(it,A7[0]))or(NPF))then
set NMF=h7[258]
endif
elseif(NKF==h7[235])then
set NMF=h7[251]
set NOF=((NOF)and(GetHeroLevel(it)>15))or((GetHeroLevel(it)>20)and(GetUnitLifePercent(it)>80.))
else
set NMF=null
endif
if((i1==1430467634)and(((GetHeroLevel(it)>7)and(GetUnitAbilityLevel(it,1093750832)==0))or((GetHeroLevel(it)<8)and(GetUnitAbilityLevel(it,1395667021)==0))))then
set NMF=NHF(NKF,it)
endif
set m5=M2F(NMF)
if((m5==null)or(N8F(NMF)))then
set NNF=false
elseif((IsUnitType(m5,UNIT_TYPE_ANCIENT))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE)))then
set NNF=NOF
endif
set NNF=((NMF!=null)and(NNF))
if NNF then
set h8[48+O5]=NMF
set h8[32+O5]=NKF
set h4[64+O5]=m5
call VW7(it,"Jungling")
set eY[O5]=10
set hq[432+O5]=Bz+40.
if j==0 then
if GetRandomInt(0,1)==0 then
set eY[384+O5]=-1
else
set eY[384+O5]=1
endif
endif
endif
endif
set it=null
set NKF=null
set m5=null
set NMF=null
return NNF
endfunction
function NQF takes nothing returns nothing
call NJF(GetTriggerUnit(),U87(GetHandleId(GetTriggeringTrigger()),"CrpRect"),0)
endfunction
function NRF takes integer HRF returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitInRange(t,h7[HRF],400.,Q24)
call TU7(GetHandleId(t),"CrpRect",h7[HRF])
call TriggerAddCondition(t,Condition(function N7F))
call TriggerAddAction(t,function NQF)
endfunction
function NSF takes nothing returns nothing
call NRF(211)
call NRF(212)
call NRF(213)
call NRF(221)
call NRF(222)
call NRF(223)
call NRF(231)
call NRF(232)
call NRF(233)
call NRF(234)
call NRF(235)
endfunction
function NTF takes nothing returns boolean
return(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and((FD8(GetFilterUnit()))or(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true))and IsUnitIllusion(GetFilterUnit())==false
endfunction
function NUF takes unit AU7 returns unit
local boolexpr Ig=Condition(function MLF)
set h0=null
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(AU7),GetUnitY(AU7),500.,Ig)
call ForGroup(H8,function M5F)
call DestroyBoolExpr(Ig)
set Ig=null
return h0
endfunction
function NVF takes nothing returns boolean
local integer NWF=GetHandleId(GetTriggeringTrigger())
local unit u
local unit m5
local boolean J4
local real dT
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if eY[O5]!=10 then
return false
else
set u=GetTriggerUnit()
set m5=PS7(h4[64+O5]!=null and IsUnitInRange(u,h4[64+O5],600),h4[64+O5],NUF(h7[EL7[NWF-NN7]]))
if m5==null then
call NJF(u,h7[EL7[NWF-NN7]],0)
set m5=h4[64+O5]
endif
set J4=(m5!=null)and IssueTargetOrderById(u,851983,m5)
if J4 and(not IsUnitVisible(m5,GetOwningPlayer(u)))then
set dT=TimerGetElapsed(W)
loop
exitwhen(TimerGetElapsed(W)-dT)>=4+PC7(FV8(u)==false,2,6)or eY[O5]!=10 or(IssueTargetOrderById(u,851983,m5)and FV8(u)==false and IsUnitVisible(m5,GetOwningPlayer(u)))
call TriggerSleepAction(1)
set J4=IssueTargetOrderById(u,852600,m5)or IssueTargetOrderById(u,851983,m5)
if GetUnitAbilityLevel(u,1093677130)>0 or GetUnitTypeId(u)==1212365106 then
endif
endloop
endif
set u=null
set m5=null
endif
return false
endfunction
function NXF takes nothing returns nothing
local integer i=0
loop
exitwhen i>9
call TriggerAddCondition(NM7[i],Condition(function NVF))
call TriggerRegisterUnitInRange(NM7[i],h7[EL7[i]],225,Condition(function NTF))
set i=i+1
endloop
endfunction
function NYF takes nothing returns nothing
local item RA7=GetEnumItem()
local integer i1
if(GetWidgetLife(RA7)<=.405)then
else
set EN7=GetItemPlayer(RA7)
set i1=RY7(RA7)
if(not IsVisibleToPlayer(GetItemX(RA7),GetItemY(RA7),Player(MJ7)))and(i1!=X0 and i1!=B5 and i1!=C5 and i1!=EW)then
elseif IsPlayerAlly(EN7,Player(MJ7))and((IsUnitInRangeLoc(h9[16+MJ7],S07(RA7),700)and(i1!=B5 and i1!=C5 and i1!=EW))or(IsUnitInRangeLoc(KU4[GetPlayerId(EN7)],S07(RA7),100))or((EN7!=Player(MJ7))and(not IG4[GetPlayerId(EN7)])and(IsUnitInRangeXY(M7[GetPlayerId(EN7)],GetItemX(RA7),GetItemY(RA7),700))))then
elseif IsUnitInRangeLoc(MH7,S07(RA7),700)and(IsUnitType(bj_lastCreatedUnit,UNIT_TYPE_MELEE_ATTACKER))then
else
set EJ7=RE7(M7[MJ7],RA7)
if(Hu==null)or(i1==X0 or i1==B5 or i1==C5)or(EJ7<EI7 and(MI7!=X0 and MI7!=B5 and MI7!=C5))then
set Hu=RA7
set MI7=i1
set EI7=EJ7
endif
endif
endif
set RA7=null
endfunction
function NZF takes unit it returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
local boolean J4=false
local boolean NAF=false
local integer i1=0
local integer FEF=0
if eY[528+O5]>3 or Bz<K17[160+O5]then
set KL7[336+O5]=null
set eY[528+O5]=0
return false
elseif((KL7[336+O5]!=null)and((not IsItemVisible(KL7[336+O5]))or(GetWidgetLife(KL7[336+O5])<=.405)or(not IsUnitInRangeXY(it,GetItemX(KL7[336+O5]),GetItemY(KL7[336+O5]),800.))))then
set KL7[336+O5]=null
endif
if KL7[320+O5]!=null and GetWidgetLife(KL7[320+O5])<=0 then
set KL7[320+O5]=null
endif
if(KL7[336+O5]==null)then
set eY[528+O5]=1
if KL7[320+O5]==null then
call SetRect(He,GetUnitX(it)-600.,GetUnitY(it)-600.,GetUnitX(it)+600.,GetUnitY(it)+600.)
set Hu=null
set bj_lastCreatedUnit=it
set MJ7=O5
set MI7=0
set EI7=999999
if IsUnitAlly(it,Z7[0])then
set MH7=JA4
else
set MH7=IZ4
endif
call EnumItemsInRect(He,Q24,function NYF)
set KL7[336+O5]=Hu
else
set Hu=KL7[320+O5]
endif
else
set Hu=KL7[336+O5]
set eY[528+O5]=eY[528+O5]+1
endif
if((Hu!=null)and(iU(it)))then
set i1=MI7
set FEF=GetItemTypeId(Hu)
set EN7=GetItemPlayer(Hu)
if((FEF==1227894859)or(FEF==1227894838)or(FEF==1227894840)or(FEF==1227894858)or(FEF==1227894839))then
elseif Hu==KL7[320+O5]then
set NAF=true
elseif(i1==X0 or i1==B5 or i1==C5)and(EBF(O5,it)!=-1 and bj_forLoopBIndexEnd<100)then
elseif IsPlayerEnemy(Player(O5),EN7)and(not EJ9(i1))and(i1!=EW and i1!=HW)then
set NAF=true
elseif EN7!=Player(O5)and(not EJ9(i1))and(not DBF(i1))and(HK4[i1]<500)then
set NAF=true
elseif(i1==EW or i1==HW)and(SZ7(it,ZU[EW]))then
set NAF=true
elseif(not SS7(it))then
elseif(EBF(O5,it)!=-1)then
if(DLF(O5,null,Hu,i1,false)<DLF(O5,null,bj_lastCreatedItem,RY7(bj_lastCreatedItem),false))then
set NAF=true
endif
elseif ECF(O5,it)then
else
set NAF=true
endif
if(not NAF)then
if IsUnitInRangeLoc(MH7,S07(Hu),700)then
else
set J4=(IssueTargetOrderById(it,851971,Hu))
set K17[288+O5]=i1
endif
else
if IsUnitInRangeLoc(MH7,S07(Hu),700)and(IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER))then
else
set J4=(IssueTargetOrderById(it,851983,Hu))
endif
endif
if J4 then
set hq[832+O5]=Bz+(RF7(GetUnitX(it),GetUnitY(it),GetItemX(Hu),GetItemY(Hu))/GetUnitMoveSpeed(it))+1.
endif
if(not J4)then
set KL7[336+O5]=null
endif
endif
set Hu=null
return J4
endfunction
function NBF takes nothing returns nothing
set EJ7=RE7(GetEnumDestructable(),EK7)
if((H0==null or EJ7<EI7)and(GetWidgetLife(GetEnumDestructable())>0.5))then
set H0=GetEnumDestructable()
set EI7=EJ7
endif
endfunction
function NCF takes unit it returns boolean
set H0=null
set EK7=it
set EI7=999999
call SetRect(He,GetUnitX(it)-450.,GetUnitY(it)-450.,GetUnitX(it)+450.,GetUnitY(it)+450.)
call EnumDestructablesInRect(He,Condition(function K8),function NBF)
return((H0!=null)and(UnitUseItemTarget(it,SV7(it,ZU[TC]),H0)))
endfunction
function N3F takes integer O5,boolean O6 returns nothing
if(not O6)then
if(h8[32+O5]==h7[213])then
set h8[32+O5]=h7[17]
elseif(h8[32+O5]==h7[212])then
if(h8[48+O5]==h7[252])then
set h8[32+O5]=h7[315]
set h9[32+O5]=h7[15]
else
set h8[32+O5]=h7[325]
set h9[32+O5]=h7[15]
endif
elseif(h8[32+O5]==h7[211])then
set h8[32+O5]=h7[13]
elseif(h8[32+O5]==h7[223])then
set h8[32+O5]=h7[38]
elseif(h8[32+O5]==h7[222])then
set h8[32+O5]=h7[37]
elseif(h8[32+O5]==h7[221])then
set h8[32+O5]=h7[36]
call AV7(GetEnumUnit(),135)
elseif(h8[32+O5]==h7[235])then
set h8[32+O5]=h7[59]
elseif(h8[32+O5]==h7[234])then
set h8[32+O5]=h7[325]
set h9[32+O5]=h7[58]
elseif(h8[32+O5]==h7[233])then
set h8[32+O5]=h7[234]
elseif(h8[32+O5]==h7[232])then
set h8[32+O5]=h7[56]
call AV7(GetEnumUnit(),155)
elseif(h8[32+O5]==h7[231])then
set h8[32+O5]=h7[54]
endif
elseif(O6)then
if(h8[32+O5]==h7[213])then
set h8[32+O5]=h7[315]
set h9[32+O5]=h7[13]
elseif(h8[32+O5]==h7[212])then
set h8[32+O5]=h7[12]
elseif(h8[32+O5]==h7[211])then
set h8[32+O5]=h7[11]
elseif(h8[32+O5]==h7[223])then
set h8[32+O5]=h7[36]
elseif(h8[32+O5]==h7[222])then
set h8[32+O5]=h7[221]
call AV7(GetEnumUnit(),35)
elseif(h8[32+O5]==h7[221])then
set h8[32+O5]=h7[315]
set h9[32+O5]=h7[33]
elseif(h8[32+O5]==h7[235])then
set h8[32+O5]=h7[325]
set h9[32+O5]=h7[56]
elseif(h8[32+O5]==h7[234])then
set h9[32+O5]=h7[56]
elseif(h8[32+O5]==h7[233])then
set h8[32+O5]=h7[54]
call AV7(GetEnumUnit(),55)
elseif(h8[32+O5]==h7[232])then
set h8[32+O5]=h7[53]
elseif(h8[32+O5]==h7[231])then
set h8[32+O5]=h7[52]
endif
endif
endfunction
function N6F takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not kD(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function NLF takes location b5 returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
local unit m5=h4[64+O5]
local integer i1
local boolean J4=false
local integer N1F=0
local integer i
local integer j
local integer k
local integer N0F
if(SP7(900.,h8[32+O5],Condition(function N6F))>0)then
call N3F(O5,IsUnitAlly(it,Z7[0]))
endif
if((SE7(it))or(SO7(900.,b5,Condition(function k6))>0))then
set eY[O5]=1
set hq[544+O5]=Bz+30.
set h4[64+O5]=null
call N3F(O5,IsUnitAlly(it,Z7[0]))
call J3(it,false)
if((not SE7(it))and(h4[O5]==null)and(G0[256+O5]))then
set ES7=SN7(900.,b5,Condition(function k6))
if(ES7!=null)then
call CWE(O5,ES7,true,false)
call IssueTargetOrderById(it,851983,h4[O5])
endif
endif
set it=null
set m5=null
return
endif
set N1F=SP7(600.,h8[48+O5],Condition(function MLF))
if N1F==0 then
set i1=GetUnitTypeId(it)
set j=GetHeroLevel(it)
if QS7(i1,E57)or QS7(i1,E27)then
if j<12 then
set i=0
else
set i=GetRandomInt(0,(j-12)/2)
endif
elseif QS7(i1,E_7)then
set i=GetRandomInt(0,2)
else
set i=GetRandomInt(0,3)
endif
if i==0 then
set i=0
loop
exitwhen(i>9)or(h8[48+O5]==h7[EL7[i]])
set i=i+1
endloop
set N0F=i
set j=0
set k=eY[384+O5]
loop
if i==0 or i==4 or i==5 or i==9 then
set k=-k
set eY[384+O5]=k
set i=N0F
endif
set i=i+k
exitwhen(j>5)or(NJF(it,h8[48+O5],EL7[i]))
set j=j+1
endloop
set N1F=SP7(600.,h8[48+O5],Condition(function MLF))
endif
endif
if(N1F==0)then
set GZ[336+O5]=false
if(h8[48+O5]!=h8[32+O5])then
set h8[48+O5]=h8[32+O5]
call J3(it,false)
endif
if(RE7(h8[32+O5],it)<400.)then
set eY[O5]=1
set h4[64+O5]=null
call J3(it,false)
endif
elseif(h8[48+O5]!=h8[32+O5])and(RE7(h8[48+O5],it)<400.)then
set bj_lastLoadedUnit=SN7(600.,S07(h8[48+O5]),Condition(function MLF))
if(not GZ[336+O5])and is(it)then
set GZ[336+O5]=IssueTargetOrderById(it,851983,bj_lastLoadedUnit)
endif
set J4=true
endif
if(N1F==0)or J4 then
elseif((m5!=null)and(S87(m5))and(GetOwningPlayer(m5)==GetOwningPlayer(it)))then
if(is(it))then
call S57(it,851983,h8[48+O5])
endif
call S57(m5,851983,h8[48+O5])
elseif(GetUnitTypeId(GetEnumUnit())==1211117633)then
if((m5==null)or(not S87(m5)))then
call S57(it,851983,h8[48+O5])
elseif(GetOwningPlayer(m5)!=GetOwningPlayer(it))then
set J4=((not IsUnitInRange(it,m5,800.))and(IssueTargetOrderById(it,851971,m5)))or(S27(it,852131,1093810260,m5))or(S57(it,851983,h8[48+O5]))
endif
elseif(GetUnitTypeId(GetEnumUnit())==1164799855)then
if((m5==null)or(not S87(m5)))then
call S57(it,851983,h8[48+O5])
elseif(GetOwningPlayer(m5)!=GetOwningPlayer(it))then
set J4=((not IsUnitInRange(it,m5,800.))and(IssueTargetOrderById(it,851971,m5)))or(S27(it,852075,1093682264,m5)or(S57(it,851983,h8[48+O5])))
endif
elseif(is(it))then
if((h4[64+O5]==null)or(not S87(h4[64+O5]))or(not IsUnitInRange(it,h4[64+O5],800.)))then
set h4[64+O5]=SK7(800.,b5,Condition(function MLF))
endif
set m5=h4[64+O5]
if((m5!=null)and(GetWidgetLife(m5)>.405)and(SR7(it,ZU[J1])))then
set i1=GetUnitTypeId(m5)
set J4=(((i1==1852796263)or(i1==1852207203)or(i1==1853060200)or(i1==1852010091))and(UnitUseItemTarget(it,SV7(it,ZU[J1]),m5)))
elseif((m5!=null)and(GetWidgetLife(m5)>.405)and(SR7(it,ZU[S6])))then
set i1=GetUnitTypeId(m5)
set J4=((i1!=1852534626)and(i1!=1852272243)and(i1!=1852534644)and(UnitUseItemTarget(it,SV7(it,ZU[S6]),m5)))
endif
if(not J4)then
set J4=((m5!=null)and(IssueTargetOrderById(it,851983,m5)))or(S57(it,851983,h8[48+O5]))
endif
endif
set it=null
set m5=null
endfunction
function N5F takes unit u returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(u))
local integer UP=0
if(SE7(u))then
if R57(u)then
call S57(u,851986,h9[O5])
endif
else
if(RE7(u,TG7(u))<12000.)then
if(not IsUnitAlly(u,Z7[0]))then
set UP=100
endif
if(h9[16+O5]==h7[35])then
set h8[16+O5]=h7[35+UP]
set h8[O5]=h7[35+UP]
elseif(h9[16+O5]==h7[55])then
set h8[16+O5]=h7[55+UP]
set h8[O5]=h7[55+UP]
elseif(h9[16+O5]==h7[14])then
set h8[16+O5]=h7[14+UP]
set h8[O5]=h7[14+UP]
endif
set h9[O5]=TG7(u)
set h9[16+O5]=TG7(u)
endif
if R57(u)then
call S57(u,851983,h8[O5])
endif
set eY[O5]=1
set G0[32+O5]=false
set hq[528+O5]=Bz+60.
set hq[592+O5]=Bz+FT7
endif
endfunction
function N2F takes nothing returns nothing
if(GetItemTypeId(GetEnumItem())==SU[X0])and(GetWidgetLife(GetEnumItem())>.405)then
set Hu=GetEnumItem()
endif
endfunction
function N_F takes nothing returns nothing
local real QE7=Bz+3.
local unit m5=null
local integer i=1
local integer j
local integer QB7
local integer k
local integer O5=0
local unit PF7=null
local unit KEF=null
local item RA7=null
local player pl=null
local boolean SA7=true
local boolean J4=true
if not(GetUnitTypeId(GetDyingUnit())==1848651852)then
return
endif
set PF7=GetKillingUnit()
set pl=GetOwningPlayer(PF7)
set m5=GetDyingUnit()
loop
set i=1
loop
exitwhen i>10
if i<=5 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i-5])
endif
if(M7[O5]!=null)and(GetWidgetLife(M7[O5])>.405)and(IsUnitInRange(M7[O5],m5,1200.))then
if(IsUnitEnemy(M7[O5],pl))and(IsUnitVisible(M7[O5],pl))then
set QE7=0.1
exitwhen true
endif
endif
set i=i+1
endloop
exitwhen Bz>QE7
call TriggerSleepAction(0.3)
endloop
call SetRect(He,GetUnitX(m5)-600.,GetUnitY(m5)-600.,GetUnitX(m5)+600.,GetUnitY(m5)+600.)
set Hu=null
call EnumItemsInRect(He,Q24,function N2F)
if Hu!=null then
set PF7=null
set KEF=null
set j=0
set QB7=0
set k=0
set i=1
loop
exitwhen i>10
if i<=5 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i-5])
endif
if(M7[O5]!=null)and(GetWidgetLife(M7[O5])>.405)and(Z17(Player(O5)))and(IsUnitInRange(M7[O5],m5,1000.)and(IsVisibleToPlayer(GetItemX(Hu),GetItemY(Hu),Player(O5))))then
set QB7=T[O5]+IU[O5]
if(IsUnitAlly(M7[O5],pl))then
if PF7==null or(j<QB7)then
if(not SS7(M7[O5]))or(ECF(O5,M7[O5]))then
set SA7=false
set PF7=M7[O5]
set j=QB7
elseif SA7 then
set PF7=M7[O5]
set j=QB7
endif
endif
else
if KEF==null or(k<QB7)then
if(not SS7(M7[O5]))or(ECF(O5,M7[O5]))then
set J4=false
set KEF=M7[O5]
set k=QB7
elseif J4 then
set KEF=M7[O5]
set k=QB7
endif
endif
endif
endif
set i=i+1
endloop
endif
set i=1
loop
exitwhen i>10
if i<=5 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i-5])
endif
if eY[O5]==11 then
call N5F(M7[O5])
endif
set i=i+1
endloop
if Hu!=null then
set KL7[336+GetPlayerId(GetOwningPlayer(PF7))]=Hu
set KL7[336+GetPlayerId(GetOwningPlayer(KEF))]=Hu
set GU7=Bz+3.
loop
exitwhen IsItemOwned(Hu)or GetWidgetLife(Hu)<.405 or((PF7!=null and GetWidgetLife(PF7)<.405)and(KEF!=null and GetWidgetLife(KEF)<.405))
if PF7!=null and GetWidgetLife(PF7)>.405 then
if SA7 then
call IssueTargetOrderById(PF7,851983,Hu)
else
call IssueTargetOrderById(PF7,851971,Hu)
endif
endif
if KEF!=null and GetWidgetLife(KEF)>.405 then
if J4 then
call IssueTargetOrderById(KEF,851983,Hu)
else
call IssueTargetOrderById(KEF,851971,Hu)
endif
endif
call TriggerSleepAction(0.5)
endloop
endif
set m5=null
set PF7=null
set KEF=null
set RA7=null
set pl=null
endfunction
function O4F takes location b5 returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
set hq[544+O5]=Bz+30.
if((SE7(it))or(SO7(900.,b5,Condition(function k6))>0))then
set eY[O5]=1
set h4[64+O5]=null
call J3(it,false)
if((not SE7(it))and(h4[O5]==null)and(G0[256+O5]))then
set ES7=SN7(900.,b5,Condition(function k6))
if(ES7!=null)then
call CWE(O5,h4[O5],true,false)
call IssueTargetOrderById(it,851983,ES7)
endif
endif
elseif GetWidgetLife(V4)<.405 and Bz>GU7 then
set eY[O5]=1
set h4[64+O5]=null
call J3(it,false)
elseif((j1(it,ND)>2000.)or(G0[O5]))then
if((IsUnitAlly(it,A7[0]))or(GetUnitX(it)>2300.))then
call S57(it,851986,h7[250])
else
call IssuePointOrderById(it,851986,2736.,-2656.)
endif
else
if G0[48+O5]then
elseif hq[704+O5]<-0.05 then
call CTE(it,false)
elseif not IsUnitInRegion(ow,it)then
call S57(it,851986,h7[250])
elseif IsUnitInRange(it,V4,700.)then
call IssueTargetOrderById(it,851983,V4)
else
call S57(it,851983,h7[250])
endif
endif
set it=null
endfunction
function O7F takes nothing returns boolean
set EN7=GetOwningPlayer(GetFilterUnit())
return(EN7==Z7[0]or EN7==A7[0])and IsUnitEnemy(bj_lastLoadedUnit,EN7)and GetWidgetLife(GetFilterUnit())>.405 and((GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0)and(GetUnitAbilityLevel(GetFilterUnit(),1097625443)==0))
endfunction
function O8F takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
if((G0[32+O5])or(not G0[128+O5])or(G0[O5])or(GT))then
elseif(h4[O5]==null)then
call CWE(O5,hz,false,false)
if(R57(GetEnumUnit()))then
set GT=CRE(GetEnumUnit(),hz,true)
endif
elseif(R57(GetEnumUnit()))then
set GT=CRE(GetEnumUnit(),hz,true)
endif
endfunction
function O9F takes unit ODF,unit OEF returns nothing
set hZ=ODF
set hz=OEF
if(GetWidgetLife(OEF)>1.)then
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(ODF),GetUnitY(ODF),1200.,iP)
set GT=false
call ForGroup(iA,function O8F)
endif
endfunction
function OFF takes unit PF7 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(PF7))
local boolean OGF=h8[32+O5]==h8[128+O5]
local boolean OHF=true
local integer UP
local integer VA7
local integer i
local integer EXF
local integer j
local integer k
local boolean QZ7=IsUnitAlly(PF7,Z7[0])
if SE7(PF7)then
set eY[O5]=1
call AX7(PF7)
call VX7(PF7,true)
endif
set hq[544+O5]=Bz+30.
if(eY[272+O5]!=0)then
set UP=GetUnitUserData(h8[112+O5])
else
set UP=GetUnitUserData(h8[128+O5])
endif
if(QZ7)then
if((hj[256+UP]==18)or(hj[UP]==10))then
set EXF=IMaxBJ(10+P24-1,11)
elseif((hj[256+UP]==40)or(hj[UP]==30))then
set EXF=IMaxBJ(30+P_4-1,31)
else
set EXF=IMaxBJ(50+Q44-1,51)
endif
else
set UP=hj[512+UP]
if((hj[256+UP]==118)or(hj[UP]==110))then
set EXF=IMaxBJ(118-P24-1,111)
elseif((hj[256+UP]==140)or(hj[UP]==130))then
set EXF=IMaxBJ(140-P_4-1,131)
else
set EXF=IMaxBJ(160-Q44-1,151)
endif
endif
set i=EXF
if eY[272+O5]==0 then
if(QZ7)then
if(UP>i)then
set h8[128+O5]=h7[i]
else
set OHF=false
endif
if((h8[128+O5]==h7[15])and(S87(JL4)))then
set h8[128+O5]=h7[14]
endif
else
if(UP>i)then
set h8[128+O5]=h7[i]
else
set OHF=false
endif
if((h8[128+O5]==h7[13])and(S87(JH4)))then
set h8[128+O5]=h7[14]
endif
endif
else
if(QZ7)then
set h8[128+O5]=h7[i]
if((h8[128+O5]==h7[15])and(S87(JL4)))then
set h8[128+O5]=h7[14]
endif
else
set h8[128+O5]=h7[i]
if((h8[128+O5]==h7[13])and(S87(JH4)))then
set h8[128+O5]=h7[14]
endif
endif
set j=eY[288+O5]
if(h8[96+O5]!=null)then
set VA7=GetPlayerId(GetOwningPlayer(h8[96+O5]))
set j=RG7(GetUnitUserData(h8[80+VA7]))
endif
if((h8[96+O5]==null)or(GetWidgetLife(h8[96+O5])<.405)or(j!=eY[288+O5])or(eY[32+GetPlayerId(GetOwningPlayer(h8[96+O5]))]<=0)or(not IsUnitInRange(h8[96+O5],h8[160+O5],2000.)))then
set MQ7=h8[96+O5]
set MP7=PF7
set bj_lastLoadedUnit=PF7
set bj_forLoopBIndex=eY[288+O5]
set h8[96+O5]=null
if eY[272+O5]>=4 then
set h8[96+O5]=Z47(3000.,PF7,Condition(function WQ7))
endif
if h8[96+O5]==null then
set h8[96+O5]=Z47(3000.,h7[i],Condition(function WQ7))
endif
if(MQ7!=null and h8[96+O5]!=MQ7)then
set VA7=GetPlayerId(GetOwningPlayer(h8[96+O5]))
set k=1
loop
exitwhen k>11
if((IsPlayerAlly(Player(k),Player(O5)))and(eY[k]==9)and(eY[272+k]!=0)and(h8[96+k]==MQ7))then
set h8[96+k]=h8[96+O5]
endif
set k=k+1
endloop
endif
endif
if(h8[96+O5]!=null and eY[32+VA7]>0)then
set h8[160+O5]=h8[80+VA7]
set i=GetUnitUserData(h8[80+VA7])
if(RE7(h8[96+O5],h9[VA7])<RE7(h8[80+VA7],h9[VA7]))or(RE7(h8[96+O5],h8[80+VA7])<300)then
if QZ7 then
set i=i+1
else
set i=i-1
endif
endif
set i=HGF(i,QZ7,PE7(PF7))
set j=GetUnitUserData(h8[112+O5])
if(((QZ7)and(i>j or j-i>1))or((not QZ7)and(i<j or i-j>1)))and(RE7(PF7,h8[112+O5])>2000)then
set h8[112+O5]=h7[i]
endif
else
if(QZ7)then
if(UP<i)then
set MP7=h8[112+O5]
set h8[112+O5]=h7[i]
endif
if((h8[112+O5]==h7[15])and(S87(JL4)))then
set h8[112+O5]=h7[14]
endif
else
if(UP<i)then
set MP7=h8[112+O5]
set h8[112+O5]=h7[i-1]
endif
if((h8[112+O5]==h7[13])and(S87(JH4)))then
set h8[112+O5]=h7[14]
endif
endif
if h8[32+O5]==MP7 then
set h8[32+O5]=h8[112+O5]
endif
if h8[48+O5]==MP7 then
set h8[48+O5]=h8[112+O5]
endif
endif
if eY[272+O5]==2 or eY[272+O5]==3 then
set i=GetUnitUserData(h8[112+O5])
set k=RG7(GetUnitUserData(h8[80+O5]))
if k==0 then
set k=RG7(GetUnitUserData(h8[112+O5]))
endif
set UP=GetUnitUserData(h8[48+O5])
set j=HIF(O5,i,k,QZ7)
if(j!=0)and(UP!=j)then
if HJF(O5,UP,j)then
elseif(k==1)then
set j=326
elseif(k==2)then
set j=327
endif
set MP7=h8[48+O5]
set h8[48+O5]=h7[j]
set h8[32+O5]=h8[48+O5]
set eY[272+O5]=2
endif
endif
endif
if((OGF)and(OHF))then
set h8[32+O5]=h8[128+O5]
set h8[48+O5]=h8[128+O5]
endif
if((h4[144+O5]!=null)and((Bz+4.)>hq[512+O5]))then
set hq[512+O5]=Bz+4.
endif
set MP7=SN7(700.,S07(PF7),Condition(function k6))
if((not G0[160+O5])and((MP7!=null)or((h4[O5]!=null)and(eY[272+O5]!=4))))then
set eY[O5]=1
if(eY[272+O5]>=4)then
set h8[96+O5]=MP7
call CWE(O5,h4[O5],true,true)
call AX7(PF7)
set hq[624+O5]=Bz+F67
set hq[416+O5]=0
call MQF(PF7,h8[96+O5])
else
if((h4[144+O5]!=null)and((Bz+6.)>hq[512+O5]))then
set hq[512+O5]=Bz+6.
endif
if(h8[128+O5]==h8[48+O5])then
if(RE7(PF7,h8[128+O5])<RE7(PF7,h8[O5]))then
if(IsUnitAlly(PF7,Z7[0]))then
call AV7(PF7,GetUnitUserData(h8[128+O5]))
else
call AV7(PF7,hj[512+GetUnitUserData(h8[128+O5])])
endif
endif
else
if(RE7(PF7,h8[128+O5])<RE7(PF7,h8[48+O5]))then
set i=GetUnitUserData(h8[128+O5])
else
set i=GetUnitUserData(h8[48+O5])
endif
if i>100 then
set i=EXF
elseif(not QZ7)then
set i=hj[512+i]
endif
call AV7(PF7,i)
endif
if((h4[O5]==null)and(G0[128+O5]))then
set ES7=SM7(1000.,PF7,Condition(function k6))
if(ES7!=null)then
call CWE(O5,ES7,true,true)
call IssueTargetOrderById(PF7,851983,h4[O5])
endif
endif
endif
elseif eY[272+O5]==3 then
call HUF(O5,QZ7,UP)
elseif(eY[272+O5]>=4)then
if(not G0[336+O5])and(h8[96+O5]!=null and IsUnitVisible(h8[96+O5],Player(O5)))then
call HWF(QZ7,O5,h8[96+O5])
endif
if(h8[96+O5]!=null and RE7(PF7,h8[96+O5])<1000. and IsUnitVisible(h8[96+O5],Player(O5)))then
set eY[O5]=1
call AX7(PF7)
set hq[624+O5]=Bz+F67
set hq[416+O5]=0
call CWE(O5,h8[96+O5],true,true)
call O9F(PF7,h8[96+O5])
elseif(RE7(PF7,h8[128+O5])<500.)then
set eY[O5]=1
call AX7(PF7)
elseif(RE7(PF7,h8[48+O5])<500.)and(eY[272+O5]==5)then
set h8[48+O5]=h8[128+O5]
elseif(RE7(PF7,h8[112+O5])<800.)and(eY[272+O5]==4)then
set eY[272+O5]=5
call AX7(PF7)
set h8[48+O5]=h8[128+O5]
set i=GetUnitUserData(h8[112+O5])
if QZ7 then
if(i>35 and i<40)then
set h8[48+O5]=h7[35]
elseif(i>55 and i<60)then
set h8[48+O5]=h7[55]
endif
else
if(i>30 and i<35)then
set h8[48+O5]=h7[35]
elseif(i>50 and i<55)then
set h8[48+O5]=h7[55]
endif
endif
set h8[32+O5]=h8[48+O5]
endif
if R57(PF7)then
if(h8[96+O5]!=null and S47(h8[96+O5])and RE7(PF7,h8[96+O5])<1200.)then
call IssueTargetOrderById(PF7,851983,h8[96+O5])
elseif eY[272+O5]==4 then
call S57(PF7,851983,h8[48+O5])
else
call S57(PF7,851986,h8[48+O5])
endif
endif
elseif(RE7(PF7,h8[128+O5])<1000.)and(eY[272+O5]==0)then
set eY[O5]=1
if R57(PF7)then
call S57(PF7,851983,h8[48+O5])
endif
call AX7(PF7)
elseif(h8[48+O5]!=h8[32+O5])and(RE7(PF7,h8[48+O5])<1000.)and(eY[272+O5]<=1)then
set h8[48+O5]=h8[32+O5]
if(RE7(PF7,h8[48+O5])<500. and(not S47(PF7)))then
set G0[176+O5]=true
endif
if R57(PF7)then
if G0[176+O5]then
call J3(PF7,false)
else
if hq[640+O5]<=Bz then
call S57(PF7,851986,h9[O5])
elseif GetUnitCurrentOrder(PF7)==851983 then
call S57(PF7,851983,h9[O5])
endif
endif
endif
elseif((not G0[176+O5])and(h8[48+O5]==h8[32+O5]))and(eY[272+O5]<=1)then
if R57(PF7)then
if hq[640+O5]<=Bz then
call S57(PF7,851986,h9[O5])
elseif GetUnitCurrentOrder(PF7)==851983 then
call S57(PF7,851983,h9[O5])
endif
endif
elseif((is(PF7))and((SP7(700.,PF7,Condition(function k6))==0)))then
call S57(PF7,851986,h8[48+O5])
endif
set hq[576+O5]=Bz+FY7
set PF7=null
endfunction
function OIF takes real OJF,location b5 returns boolean
local boolean J4=false
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
local integer UP=0
local integer I4F=0
local unit m5=null
local unit AR7=null
if(GetUnitCurrentOrder(GetEnumUnit())==851983)then
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),RMaxBJ(OJF,500.),Q24)
loop
set AR7=FirstOfGroup(H8)
exitwhen(AR7==null)
if((not S87(AR7))or(not WE7(AR7))or(IsUnitType(AR7,UNIT_TYPE_STRUCTURE)))then
elseif((GetOwningPlayer(AR7)==Z7[0])or(GetOwningPlayer(AR7)==A7[0]))then
if(IsUnitEnemy(AR7,GetOwningPlayer(GetEnumUnit())))then
set UP=UP+1
set I4F=I4F+1
else
set UP=UP-1
endif
elseif((m5==null)and(IsHeroUnitId(GetUnitTypeId(AR7)))and(IsUnitEnemy(AR7,GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(AR7,GetOwningPlayer(GetEnumUnit()))))then
set m5=AR7
endif
call GroupRemoveUnit(H8,AR7)
endloop
if((I4F<5)and(UP<0)and(m5!=null)and(IsHeroUnitId(GetUnitTypeId(m5))))then
set J4=IssueTargetOrderById(GetEnumUnit(),851983,m5)
set GZ[48+O5]=false
endif
set m5=null
endif
return J4
endfunction
function OKF takes real j4,real Ja,location b5 returns boolean
local unit OMF=null
local unit ONF=null
local unit AR7=null
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
local boolean J4=false
local unit PF7=null
if(SF7(O5))then
return false
elseif((Id(O5))or((GZ[128+O5])and(SO7(800.,b5,Condition(function k6))>0)))then
return false
elseif((h4[96+O5]!=null)and(GetWidgetLife(h4[96+O5])>.405)and(IsUnitInRange(GetEnumUnit(),h4[96+O5],800.)))then
call IssueTargetOrderById(GetEnumUnit(),851983,h4[96+O5])
return true
endif
set PF7=GetEnumUnit()
if(GetUnitLifePercent(PF7)<70.)then
set j4=j4-150.
set Ja=Ja-150.
endif
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(PF7),GetUnitY(PF7),RMaxBJ(j4,Ja),Q24)
loop
set AR7=FirstOfGroup(H8)
exitwhen((AR7==null)or((OMF!=null)and(ONF!=null)))
if((not S87(AR7))or(not WE7(AR7)))then
elseif((GetOwningPlayer(AR7)==Z7[0])or(GetOwningPlayer(AR7)==A7[0]))then
if((h4[304+O5]!=null)and(QC7(PF7)+RE7(AR7,h4[304+O5])<RE7(PF7,h4[304+O5])))then
elseif(IsUnitEnemy(AR7,GetOwningPlayer(PF7)))then
if((ONF==null)and(GetUnitState(AR7,UNIT_STATE_LIFE)<150.)and(GetUnitLifePercent(AR7)<25.)and(IsUnitInRange(AR7,PF7,Ja)))then
set ONF=AR7
endif
else
if((OMF==null)and(GetUnitState(AR7,UNIT_STATE_LIFE)<150.)and(((not IsUnitType(AR7,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(AR7)<25.))or(GetUnitLifePercent(AR7)<5.)))then
set OMF=AR7
if IsUnitType(OMF,UNIT_TYPE_STRUCTURE)and(ZT==true or IsUnitType(OMF,UNIT_TYPE_RANGED_ATTACKER)==false)then
if SP7(1800.,OMF,Condition(function k6))==0 then
set OMF=null
endif
endif
endif
endif
endif
call GroupRemoveUnit(H8,AR7)
endloop
set AR7=null
if((OMF!=null)and((IsUnitType(OMF,UNIT_TYPE_STRUCTURE))or(GetHeroLevel(PF7)<=20)or(GetUnitAbilityLevel(PF7,1093686064)>0)))then
set h4[96+O5]=OMF
call DisableTrigger(Q04[O5])
set J4=IssueTargetOrderById(PF7,851983,OMF)
call EnableTrigger(Q04[O5])
elseif(ONF!=null)then
set h4[96+O5]=ONF
call DisableTrigger(Q04[O5])
set J4=IssueTargetOrderById(PF7,851983,ONF)
call EnableTrigger(Q04[O5])
endif
set PF7=null
set OMF=null
set ONF=null
return J4
endfunction
function OOF takes integer O5,location b5 returns boolean
local unit AR7=null
local integer kc=0
local real j4=RE7(GetEnumUnit(),h8[16+GetPlayerId(GetOwningPlayer(GetEnumUnit()))])
local boolean OPF=false
local boolean OQF=false
if(ke(GetEnumUnit()))then
return true
endif
call GroupClear(H8)
call GroupEnumUnitsInRange(H8,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),1500.,Q24)
loop
set AR7=FirstOfGroup(H8)
exitwhen(AR7==null)
if((not S87(AR7))or(not WE7(AR7)))then
elseif(IsUnitEnemy(AR7,GetOwningPlayer(GetEnumUnit())))then
if((not OPF)and(GetOwningPlayer(AR7)!=Player(12)))then
if((IsUnitVisible(AR7,GetOwningPlayer(GetEnumUnit())))or(GetOwningPlayer(AR7)==Z7[0])or(GetOwningPlayer(AR7)==A7[0]))then
set OPF=true
elseif((IsUnitType(AR7,UNIT_TYPE_HERO))and(eY[32+GetPlayerId(GetOwningPlayer(AR7))]>0)or((not kD(AR7))and(IsUnitInRange(AR7,GetEnumUnit(),600.))))then
set OPF=true
endif
endif
elseif((GetOwningPlayer(AR7)==Z7[0])or(GetOwningPlayer(AR7)==A7[0]))then
if(RE7(AR7,h8[16+GetPlayerId(GetOwningPlayer(GetEnumUnit()))])<j4)then
if(IsUnitInRange(AR7,GetEnumUnit(),700.))then
set kc=kc+1
endif
set OQF=true
elseif((IsUnitType(AR7,UNIT_TYPE_STRUCTURE))and(IsUnitInRange(AR7,GetEnumUnit(),900.)))then
set OQF=true
if G0[128+O5]then
set kc=kc+2
endif
endif
endif
call GroupRemoveUnit(H8,AR7)
endloop
return((kc>1)or((not OPF)and(OQF)))
endfunction
function ORF takes location b5 returns nothing
local unit OSF=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(OSF))
local real kl
local boolean SA7=false
if SF7(O5)then
return
endif
set SA7=((UP7(GetHandleId(OSF),"WaterSword|Active"))and(SO7(1200.,S07(OSF),Condition(function k6))>=1)and(G0[256+O5]))
if((eY[O5]==1)and((GetHeroLevel(OSF)<9)or(GetUnitLifePercent(OSF)<75.))and(GetUnitCurrentOrder(OSF)==851983)and(not G0[48+O5])and(not G0[O5])and(not GZ[128+O5])and(not G0[32+O5]))then
if SA7 then
elseif((not GZ[48+O5])and(SO7(300.,b5,Condition(function Kv))==0)and(SO7(600.,b5,Condition(function Kv))>1))then
call IssueImmediateOrderById(OSF,851993)
endif
endif
if((GetHeroLevel(OSF)>8)and(GetUnitLifePercent(OSF)>65.))then
if((not SE7(OSF))and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(iU(OSF))and(not OIF(300.,b5))and(not OKF(650.,650.,b5))and((GetUnitCurrentOrder(OSF)==851986)or(GetUnitCurrentOrder(OSF)==851993))and(not G0[32+O5])and(not G0[48+O5])and(Bz>hq[496+O5])and(OOF(O5,b5)))then
call S57(OSF,851983,h8[O5])
endif
elseif((not SE7(OSF))and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(iU(OSF))and(not OKF(650.,550.,b5)))then
if((GetUnitCurrentOrder(OSF)==851983)and(not GZ[48+O5])and(not SA7))then
if((GetHeroLevel(OSF)<8)and((SO7(300.,b5,Condition(function Kv))>0)or(SO7(500.,b5,Condition(function Kw))>0)))then
set kl=Atan2(GetUnitY(h9[O5])-GetUnitY(OSF),GetUnitX(h9[O5])-GetUnitX(OSF))
call IssuePointOrderById(OSF,851986,GetUnitX(OSF)+200.*Cos(kl),GetUnitY(OSF)+200.*Sin(kl))
elseif(SO7(400.,b5,Condition(function Kv))>1)then
set kl=Atan2(GetUnitY(h9[O5])-GetUnitY(OSF),GetUnitX(h9[O5])-GetUnitX(OSF))
call IssuePointOrderById(OSF,851986,GetUnitX(OSF)+250.*Cos(kl),GetUnitY(OSF)+250.*Sin(kl))
endif
elseif(((GetUnitCurrentOrder(OSF)==851986)or(GetUnitCurrentOrder(OSF)==851993))and(not G0[32+O5])and(not G0[48+O5])and(not G0[48+O5])and(Bz>hq[496+O5])and(OOF(O5,b5)))then
call S57(OSF,851983,h8[O5])
endif
endif
set OSF=null
endfunction
function OTF takes location b5 returns nothing
local unit OUF=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(OUF))
local real kl
if((not SE7(OUF))and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(iU(OUF))and(not OIF(550.,b5))and(not OKF(900.,800.,b5)))then
if(((GetUnitCurrentOrder(OUF)==851986)or(GetUnitCurrentOrder(OUF)==851993))and(not G0[32+O5])and(Bz>hq[496+O5])and(OOF(O5,b5)))then
call S57(OUF,851983,h8[O5])
elseif((GetUnitCurrentOrder(OUF)==851983)and(not GZ[48+O5]))then
if eY[O5]==3 or eY[O5]==4 then
elseif(((GetHeroLevel(OUF)<6)or(GetUnitLifePercent(OUF)<75.))and(SO7(300.,b5,Condition(function Kv))>1))then
set kl=Atan2(GetUnitY(h9[O5])-GetUnitY(OUF),GetUnitX(h9[O5])-GetUnitX(OUF))
call IssuePointOrderById(OUF,851986,GetUnitX(OUF)+250.*Cos(kl),GetUnitY(OUF)+250.*Sin(kl))
elseif((GetHeroLevel(OUF)<7)and(Bz>hq[496+O5])and((h4[80+O5]==null)or(GetOwningPlayer(h4[80+O5])==Z7[0])or(GetOwningPlayer(h4[80+O5])==A7[0]))and(SO7(800.,b5,Condition(function Kv))>0))then
set kl=GetRandomReal(0.,360.)*bj_DEGTORAD
call IssuePointOrderById(OUF,851986,GetUnitX(OUF)+GetRandomReal(50.,90.)*Cos(kl),GetUnitY(OUF)+GetRandomReal(50.,90.)*Sin(kl))
set hq[864+O5]=GetRandomReal(-EU7,EU7)
endif
endif
endif
set OUF=null
endfunction
function OVF takes unit u,string s1 returns nothing
if GetUnitAbilityLevel(u,1093677130)>0 or GetUnitTypeId(u)==1212365106 then
else
return
endif
endfunction
function OWF takes location b5 returns nothing
local unit OXF=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(OXF))
local unit m5=null
call OVF(OXF,GetUnitName(OXF)+" CurrentOrder "+I2S(GetUnitCurrentOrder(OXF)))
if(not iU(OXF))then
call OVF(OXF,GetUnitName(OXF)+"Inside if not iU{UNv}")
elseif((IsUnitVisible(OXF,Z7[0]))and(IsUnitVisible(OXF,A7[0])))then
call OVF(OXF,GetUnitName(OXF)+"Inside if IsUnitVisible TO BOTH SIDE")
if(((SO7(1000.,b5,Condition(function Y87)))>0)and((SO7(1000.,b5,Condition(function k6)))>0)and((SO7(900.,b5,Condition(function Kd)))<3))then
call OVF(OXF,GetUnitName(OXF)+"Inside if AI_OrderToWaipoint to reTreate Riki:codeA")
call S57(OXF,851986,h9[O5])
else
call OVF(OXF,GetUnitName(OXF)+"Inside UXv")
call ORF(b5)
endif
elseif((SO7(1200.,b5,Condition(function k6)))==0)then
call OVF(OXF,GetUnitName(OXF)+" Prepare to attack")
if(GetUnitCurrentOrder(OXF)==851983)then
set m5=SK7(400.,b5,Condition(function KA))
if(m5==null)then
set m5=SK7(700.,b5,Condition(function Ka))
endif
if(m5!=null)then
call OVF(OXF,GetUnitName(OXF)+"  attack "+GetUnitName(m5))
call IssueTargetOrderById(OXF,851983,m5)
endif
endif
else
if(((SO7(1000.,b5,Condition(function Kd)))<2)and(SO7(1000.,b5,Condition(function k8))>1)and(SO7(500.,b5,Condition(function YT7))==0))then
call OVF(OXF,GetUnitName(OXF)+"Inside if AI_OrderToWaipoint to reTreate Riki:codeB")
call S57(OXF,851986,h9[O5])
elseif((not G0[O5])and(not G0[64+O5])and(iU(OXF))and(not OKF(750.,650.,b5)))then
if(SO7(250.,b5,Condition(function k8))==0 and GetUnitAbilityLevel(OXF,1093677130)==0)or(GetUnitAbilityLevel(OXF,1093677130)!=0 and(SO7(700.,b5,Condition(function XD7))==0)and SP7(800,OXF,Condition(function FW8))==0 and FX8(OXF)==false)then
call IssueImmediateOrderById(OXF,851993)
else
call IssuePointOrderById(OXF,851986,GetUnitX(m5)+GetRandomReal(0,200.)-100.,GetUnitY(m5)+GetRandomReal(0,200.)-100.)
set hq[864+O5]=GetRandomReal(-EU7,EU7)
endif
endif
endif
set m5=null
set OXF=null
endfunction
function OYF takes unit it,integer O5,location b5 returns boolean
local unit m5=null
local real OZF=bj_RADTODEG*Atan2(GetUnitY(h9[16+O5])-GetUnitY(it),GetUnitX(h9[16+O5])-GetUnitX(it))
local real OAF
call MoveLocation(Ha,GetUnitX(it)+300.*Cos(OZF*bj_DEGTORAD),GetUnitY(it)+300.*Sin(OZF*bj_DEGTORAD))
if(SO7(500.,Ha,Condition(function Kd))>2)then
set m5=SN7(500.,Ha,Condition(function Kd))
if(m5!=null)then
set OAF=bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))
else
return false
endif
if(RAbsBJ(OAF-OZF)>20)then
set m5=null
return false
elseif(OAF>OZF)then
set OZF=OZF-20.
else
set OZF=OZF+20.
endif
call IssuePointOrderById(it,851986,GetUnitX(it)+600.*Cos(bj_DEGTORAD*OZF),GetUnitY(it)+600.*Sin(bj_DEGTORAD*OZF))
set m5=null
return true
else
return false
endif
endfunction
function OBF takes nothing returns nothing
call ExecuteFunc("OCF")
endfunction
function OCF takes nothing returns nothing
local unit it=GetEnumUnit()
local unit NKF=null
local integer O5=GetPlayerId(GetOwningPlayer(it))
local location b5
local integer UP
local real O3F=RE7(it,TG7(it))
local boolean J4=false
if(GetUnitTypeId(it)!=1211117642)then
set b5=HC[16+O5]
else
if(UJ7(GetHandleId(it),"MCSLoc")!=null)then
set b5=UJ7(GetHandleId(it),"MCSLoc")
else
set b5=GetUnitLoc(it)
call T17(GetHandleId(it),"MCSLoc",b5)
endif
endif
call MoveLocation(b5,GetUnitX(it),GetUnitY(it))
if((SE7(it))and(is(it))and(not Id(O5))and(GetUnitAbilityLevel(it,1093685334)==0)and(GetUnitAbilityLevel(it,1110454874)==0))then
if(not OYF(it,O5,b5))then
if(O3F<1000)or(not JIF(it))then
if((O3F+100.)<RE7(h9[O5],TG7(it)))then
call S57(it,851986,h9[16+O5])
else
call S57(it,851986,h9[O5])
endif
endif
endif
endif
set J4=KSF(it)
if false and(eY[O5]==1 or eY[O5]==9)and(not K57[240+O5])then
set UP=-1
if((RE7(it,h8[O5])<400)and(GetUnitCurrentOrder(it)==851983))then
set UP=GetUnitUserData(h8[O5])
elseif((RE7(it,h9[O5])<400)and(GetUnitCurrentOrder(it)==851986))then
set UP=GetUnitUserData(h9[O5])
endif
if(UP>=11 and UP<=17)or(UP>=31 and UP<=39)or(UP>=51 and UP<=59)then
if Z37(Player(O5))then
set UP=hj[512+UP]
endif
call AV7(it,UP)
endif
endif
if((eY[O5]==2)and(not J4)and(is(it))and(O3F>500.))then
if(IsUnitAlly(it,Z7[0]))then
call IKF(it,O5,PU4)
else
call IKF(it,O5,PV4)
endif
endif
if((eY[O5]==1)and(not J4)and(is(it))and(GetUnitAbilityLevel(it,1110459478)>0))then
set J4=S57(it,851986,h9[16+O5])
set G0[64+O5]=true
endif
if((not J4)and(O3F>4500.)and(is(it)))then
if(GetUnitAbilityLevel(it,1110459204)==0)then
if(not J4)and(SR7(it,ZU[TC]))then
set UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+175.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)
if((eY[O5]==1)and(UP<100)and(UP>50)and(Bz>hq[256+O5]))then
set J4=(h4[O5]==null)and(SO7(1000.,b5,Condition(function Y17))==0)and(SO7(1000.,b5,Condition(function Y87))==0)and(iy(it))and(NCF(it))
endif
endif
if(not J4)and(SR7(it,ZU[LB]))then
if(GetUnitState(it,UNIT_STATE_MAX_LIFE)<700.)then
set UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+275.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)
else
set UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+375.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)
endif
if(eY[O5]==1)and(UP<100)and(UP>45)then
set J4=(h4[O5]==null)and(iy(it))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,it,false,false)==0)and(SO7(1100.,b5,Condition(function KX))==0)and(SO7(700.,b5,Condition(function KA))==0)and(UnitUseItem(it,bj_lastCreatedItem))
endif
endif
if(not J4)and(SR7(it,ZU[QC]))then
if(GetUnitState(it,UNIT_STATE_MAX_LIFE)<700.)then
set UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+275.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)
else
set UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+375.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)
endif
if((eY[O5]==1)and(UP<100)and(UP>45)and(GetUnitAbilityLevel(it,1110454874)==0))then
set J4=(h4[O5]==null)and(iy(it))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,it,false,false)==0)and(SO7(1100.,b5,Condition(function KX))==0)and(SO7(700.,b5,Condition(function KA))==0)and(UnitUseItemTarget(it,bj_lastCreatedItem,it))
endif
endif
endif
if((not J4)and(O3F>6000.)and(not G0[O5]))then
if eY[208+O5]!=0 then
if eY[O5]!=1 or RE7(it,h7[eY[208+O5]])<3000. then
set eY[208+O5]=0
endif
endif
if(eY[O5]==1)then
if false and((Bz>hq[592+O5])and(K57[128+O5])and(GetHeroLevel(it)>5)and(h4[O5]==null)and((Bz>hq[592+O5]+60. and SN7(800.,b5,Condition(function KX))==null)or(SN7(1200.,b5,Condition(function KX))==null))and((GetHeroLevel(it)<12)or((RE7(it,JX(it))>6000.)and(SN7(1200.,b5,Condition(function KX))==null))))then
set G0[320+O5]=true
call VX7(it,true)
if(IsUnitAlly(it,Z7[0]))then
set J4=V37(it,IZ4)
else
set J4=V37(it,JA4)
endif
elseif(eY[208+O5]!=0 and SO7(800.,b5,Condition(function k6))==0)then
if h8[144+O5]!=null then
set J4=V37(it,h8[144+O5])
else
set J4=V37(it,h7[eY[208+O5]])
endif
endif
elseif((eY[O5]==3)or(eY[O5]==4))then
if(SO7(800.,b5,Condition(function k6))>0)then
elseif(SE7(it))then
elseif(IsUnitAlly(it,Z7[0]))then
if(EB7[64+O5]==0)then
if(P34<3)then
set J4=V37(it,JO4)
elseif(GetWidgetLife(JT4)>.405)then
set J4=V37(it,JT4)
elseif(GetWidgetLife(JW4)>.405)then
set J4=V37(it,JW4)
elseif(GetWidgetLife(JQ4)>.405)then
set J4=V37(it,JQ4)
elseif(GetWidgetLife(JR4)>.405)then
set J4=V37(it,JR4)
elseif(GetWidgetLife(JF4)>.405)then
set J4=V37(it,JF4)
endif
elseif(EB7[64+O5]==1)then
if(P64<3)then
set J4=V37(it,JN4)
elseif(GetWidgetLife(JS4)>.405)then
set J4=V37(it,JS4)
elseif(GetWidgetLife(JV4)>.405)then
set J4=V37(it,JV4)
elseif(GetWidgetLife(JQ4)>.405)then
set J4=V37(it,JQ4)
elseif(GetWidgetLife(JR4)>.405)then
set J4=V37(it,JR4)
elseif(GetWidgetLife(JF4)>.405)then
set J4=V37(it,JF4)
endif
elseif(EB7[64+O5]==2)then
if(PL4<3)then
set J4=V37(it,JP4)
elseif(GetWidgetLife(JU4)>.405)then
set J4=V37(it,JU4)
elseif(GetWidgetLife(JX4)>.405)then
set J4=V37(it,JX4)
elseif(GetWidgetLife(JQ4)>.405)then
set J4=V37(it,JQ4)
elseif(GetWidgetLife(JR4)>.405)then
set J4=V37(it,JR4)
elseif(GetWidgetLife(JF4)>.405)then
set J4=V37(it,JF4)
endif
elseif(EB7[64+O5]==3)then
if(GetWidgetLife(JF4)>.405)then
set J4=V37(it,JF4)
endif
endif
if(not J4)then
set J4=V37(it,IZ4)
endif
else
if(EB7[64+O5]==0)then
if(P14<3)then
set J4=V37(it,K44)
elseif(GetWidgetLife(KE4)>.405)then
set J4=V37(it,KE4)
elseif(GetWidgetLife(KH4)>.405)then
set J4=V37(it,KH4)
elseif(GetWidgetLife(K84)>.405)then
set J4=V37(it,K84)
elseif(GetWidgetLife(K94)>.405)then
set J4=V37(it,K94)
elseif(GetWidgetLife(J34)>.405)then
set J4=V37(it,J34)
endif
elseif(EB7[64+O5]==1)then
if(P04<3)then
set J4=V37(it,J_4)
elseif(GetWidgetLife(KD4)>.405)then
set J4=V37(it,KD4)
elseif(GetWidgetLife(KG4)>.405)then
set J4=V37(it,KG4)
elseif(GetWidgetLife(K84)>.405)then
set J4=V37(it,K84)
elseif(GetWidgetLife(K94)>.405)then
set J4=V37(it,K94)
elseif(GetWidgetLife(J34)>.405)then
set J4=V37(it,J34)
endif
elseif(EB7[64+O5]==2)then
if(P54<3)then
set J4=V37(it,K74)
elseif(GetWidgetLife(KF4)>.405)then
set J4=V37(it,KF4)
elseif(GetWidgetLife(KI4)>.405)then
set J4=V37(it,KI4)
elseif(GetWidgetLife(K84)>.405)then
set J4=V37(it,K84)
elseif(GetWidgetLife(K94)>.405)then
set J4=V37(it,K94)
elseif(GetWidgetLife(J34)>.405)then
set J4=V37(it,J34)
endif
elseif(EB7[64+O5]==3)then
if(GetWidgetLife(J34)>.405)then
set J4=V37(it,J34)
endif
endif
if(not J4)then
set J4=V37(it,JA4)
endif
endif
endif
endif
if((not J4)and(O3F>8500.)and(eY[O5]!=11))then
set NKF=h4[128+O5]
if((NKF!=null)and(S87(NKF))and(IsUnitInRange(it,NKF,1000.)))then
if((GetUnitTypeId(NKF)==1966092372)or(GetUnitTypeId(NKF)==1697657145))then
set UP=SP7(1000.,NKF,Condition(function KC))
if((UP==0)and(not Id(O5))and(GetUnitState(it,UNIT_STATE_LIFE)<1600.)and(Bz>hq[512+O5]))then
call CZE(O5,false)
set J4=S57(it,851986,h9[O5])
endif
elseif(((Id(O5))and(R2I(GetUnitState(it,UNIT_STATE_LIFE))>(400+(GetHeroLevel(it)*50)))and(GetHeroLevel(it)>=6))or(hq[512+O5]>Bz))then
if((RE7(it,JX(it)))<(RE7(NKF,JX(it))-200.))then
call CZE(O5,true)
set J4=S57(it,851986,h9[O5])
set hq[512+O5]=0.
endif
elseif((GetHeroLevel(it)<11)and((RE7(it,JX(it)))<(RE7(NKF,JX(it))+I2R(500-(GetHeroLevel(it)*20))))and(not iy(it))and(h4[80+O5]!=NKF))then
call CZE(O5,true)
set J4=S57(it,851986,h9[O5])
set hq[512+O5]=0.
elseif((Bz>hq[512+O5])and((h4[O5]==null)or((not Id(O5))and((GetHeroLevel(it)<16)or(GetUnitState(it,UNIT_STATE_LIFE)<1300.)))))then
set UP=SP7(1000.,NKF,Condition(function KC))
set J4=((RE7(it,JX(it))<(RE7(NKF,JX(it))-200.))or(UP==0)or((GetUnitState(it,UNIT_STATE_LIFE)<1300.)and(UP<2)))and(S57(it,851986,h9[O5]))
set hq[512+O5]=0.
endif
if((not J4)and(iy(it))and(eY[O5]==1)and(GetHeroLevel(it)>10)and(GetUnitCurrentOrder(it)==851983)and(not G0[O5]))then
set UP=SP7(900.,NKF,Condition(function KC))
if((UP>1)and(GetUnitLifePercent(it)>60.))then
call IssueTargetOrderById(it,851983,NKF)
endif
endif
if((not J4)and(GetUnitLifePercent(NKF)<20.)and(eY[O5]==1)and(GetHeroLevel(it)>10)and(h4[O5]==null)and(not G0[O5])and(iU(it))and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE))))then
set J4=IssueTargetOrderById(it,851983,NKF)
endif
elseif((O3F>12000.)and(not G0[O5])and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE))or(h4[O5]!=null)))then
set NKF=SN7(1000.,b5,Condition(function KB))
if(NKF!=null)then
if((Id(O5))and(R2I(GetUnitState(it,UNIT_STATE_LIFE))>(500+(GetHeroLevel(it)*30)))and(GetHeroLevel(it)>=6))then
if((RE7(it,JX(it)))<(RE7(NKF,JX(it))-350.))then
call CZE(O5,true)
set J4=S57(it,851986,h9[O5])
endif
elseif(h4[O5]==null)then
set J4=(iU(it))and((GetUnitLifePercent(NKF)<10.)or(SO7(700.,b5,Condition(function KX))<4))and(IssueTargetOrderById(it,851983,NKF))
elseif((kA(it,h4[O5],200.))or((RE7(it,JX(it)))<(RE7(NKF,JX(it))-250.)))then
call CZE(O5,true)
set J4=((SO7(700.,b5,Condition(function KX))<4)and(IssueTargetOrderById(it,851983,NKF)))or(S57(it,851986,h9[O5]))
endif
endif
endif
endif
endif
if((eY[O5]!=2)and(not J4)and(is(it)))then
set UP=GetUnitCurrentOrder(it)
call OVF(it,"A: Inside Udv3  "+"CurrentOrder "+I2S(UP))
if(K57[256+O5])then
call OVF(it,"B: inside if (g_aiItemBool[256+O5]) and call AI_OrderToWaipoint(it,851986,h8[O5])  "+"CurrentOrder "+I2S(UP))
call S57(it,851986,h8[O5])
elseif((UP==0)or(UP==851972))then
call OVF(it,"C: inside if ((UP==0)or(UP==851972)) and call J3(it,true)  "+"CurrentOrder "+I2S(UP))
call J3(it,true)
elseif((G0[32+O5])and(eY[O5]==1)and(UP!=851986)and(GetUnitAbilityLevel(it,1110454874)==0)and(SO7(900.,b5,Condition(function k8))==0))then
call OVF(it,"D: elseif((G0[32+O5])and(eY[O5]==1)and(UP!=851986)and ,,, and call  call aiRetreat_J1(it,false) "+"CurrentOrder "+I2S(UP))
call VX7(it,false)
endif
if((h4[O5]==null)and(O3F>2800.))then
call OVF(it,"E: Inside if((h4[O5]==null)and(UDv>2800.))"+"CurrentOrder "+I2S(UP))
set J4=(j1(it,ED)>2000.)and(j1(it,L9)>2000.)and(NZF(it))
set ES7=SN7(800.,b5,Condition(function K4))
if((not J4)and(ES7!=null)and(not SE7(it)))then
call OVF(it,"F:  if((not J4)and(b_KillTgt!=null)and(not AIIsHeroKillable(it))) "+I2S(UP))
call CWE(O5,ES7,false,false)
if h4[O5]!=null then
call OVF(it,"G: Inside  h4[O5]!=null "+I2S(UP))
call IssueTargetOrderById(it,851983,h4[O5])
endif
endif
endif
if((not J4)and(not Id(O5)))then
call OVF(it,"H: Inside (not J4)and(not Id(O5)) "+"CurrentOrder "+I2S(UP))
if((eY[O5]!=1)or(O3F<3000.)or(hq[512+O5]>Bz)or((GetHeroLevel(it)>15)and(GetWidgetLife(it)>1600.))or((h4[O5]!=null)and((GetUnitLifePercent(h4[O5])+15.)<GetUnitLifePercent(it))and(GetUnitState(it,UNIT_STATE_LIFE)>GetUnitState(h4[O5],UNIT_STATE_LIFE))))then
call OVF(it,"I: Inside Blank if((eY[O5]!=1)or(UDv<3000.)or(hq[512+O5]>Bz)or((GetHeroLevel(it)>15)... "+"CurrentOrder "+I2S(UP))
elseif(((UP==851983)or(UP==851993))and((not GZ[48+O5])or(GetHeroLevel(it)<6))and(SO7(700.,b5,Condition(function YT7))==0)and(O3F>3500.))then
call OVF(it,"J: Inside ((UP==851983)or(UP==851993))and((not GZ[48+O5])or(GetHeroLevel(it)<6))... "+"CurrentOrder "+I2S(UP))
if(GetHeroLevel(it)<10)then
set UP=SO7(900.,b5,Condition(function Kd))
else
set UP=SO7(900.,b5,Condition(function KC))
endif
if((iy(it))and(GetUnitLifePercent(it)>60.)and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE))))then
call OVF(it,"K: Inside  if((iy(it))and(GetUnitLifePercent(it)>60.)and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE)))) "+"CurrentOrder "+I2S(UP))
set J4=(UP==0)and(SO7(900.,b5,Condition(function Ky))>1)and(S57(it,851986,h9[O5]))
if((not J4)and(((h4[128+O5]==null)or(not IsUnitInRange(it,h4[128+O5],1800.)))and(((not WF7(it))and(GetHeroLevel(it)>9))or(GetHeroLevel(it)>14))))then
call OVF(it,"L: Inside ((not J4)and(((h4[128+O5]==null)or(not IsUnitInRange(it,h4[128+O5],1800.)))and(((not IsUnitTypeMeleeAttacker(it))and(GetHeroLevel(it)>9))))... "+"CurrentOrder "+I2S(UP))
set NKF=SN7(600.,b5,Condition(function KV))
if((NKF!=null)and(h4[80+O5]!=NKF))then
call OVF(it,"M: Inside if((uSv!=null)and(h4[80+O5]!=uSv)) and Call 851983 "+"CurrentOrder "+I2S(UP))
call IssueTargetOrderById(it,851983,NKF)
endif
endif
else
call OVF(it,"N: Inside else of the ((iy(it))  and(GetUnitLifePercent(it)>60.)and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE)))) "+"CurrentOrder "+I2S(UP))
set J4=(UP<=2)and(SO7(900.,b5,Condition(function Ky))>((UP*2)+1))and(S57(it,851986,h9[O5]))
endif
elseif((UP==851986)and(not G0[64+O5])and(R57(it)))then
call OVF(it,"O: Inside elseif((UP==851986)and(not G0[64+O5])and(AI_Not_Channeling(it)))then "+"CurrentOrder "+I2S(UP))
if((GetUnitAbilityLevel(it,1110454874)>0)and(GetUnitLifePercent(it)<95.))then
call OVF(it," Inside if((GetUnitAbilityLevel(it,'B02Z')>0)and(GetUnitLifePercent(it)<95.)) "+"CurrentOrder "+I2S(UP))
set NKF=SK7(400.,b5,Condition(function YT7))
if(NKF!=null)then
call OVF(it,"P: Inside if(uSv!=null)then of GetUnitAbilityLevel(it,'B02Z')`s branch "+"CurrentOrder "+I2S(UP))
set J4=((SP7(1200.,NKF,Condition(function k8))==0)and(RE7(h9[16+O5],NKF)>RE7(h9[16+O5],it)+500.)and(S57(it,851983,h8[O5])))
endif
elseif((not G0[32+O5])and(not SE7(it)))then
call OVF(it,"Q: Inside  elseif((not G0[32+O5])and(not AIIsHeroKillable(it)))then"+"CurrentOrder "+I2S(UP))
set NKF=SN7(400.,b5,Condition(function YT7))
if(NKF!=null)then
call OVF(it,"R: Inside  if(uSv!=null)then of elseif((not G0[32+O5])and(not AIIsHeroKillable(it)))then "+"CurrentOrder "+I2S(UP))
set UP=SP7(1200.,NKF,Condition(function k8))
set J4=((UP<2)or((UP<4)and(SP7(1200.,NKF,Condition(function k6))==0))and(RE7(h9[16+O5],NKF)>RE7(h9[16+O5],it)+500.)and(S57(it,851983,h8[O5])))
endif
endif
endif
endif
call OVF(it,"Out")
if(eY[544+O5]==1)then
set bj_lastLoadedUnit=it
if GetWidgetLife(h9[64+O5])<.405 then
set eY[544+O5]=0
elseif SP7(1200,h9[64+O5],Condition(function WR7))==0 then
if(KDF(h9[64+O5],IsUnitAlly(it,Z7[0]),UN7(GetHandleId(h9[64+O5]),"AI|Lane"))<0)then
set eY[544+O5]=0
endif
endif
elseif(eY[544+O5]==2)then
set bj_lastLoadedUnit=it
if GetWidgetLife(h9[64+O5])<.405 then
set eY[544+O5]=0
elseif SP7(1200,h9[64+O5],Condition(function WR7))==0 then
set eY[544+O5]=0
endif
endif
if eY[544+O5]!=0 and hq[848+O5]<Bz+FA7 then
set hq[848+O5]=Bz+FA7
endif
if((J4)or(not is(it)))then
elseif(eY[O5]==1)and(G0[128+O5])then
if K57[256+O5]and(h8[O5]!=h7[353])and(h8[O5]!=h7[354])then
set K57[256+O5]=false
endif
if(GetUnitAbilityLevel(it,1110459478)>0)then
call S57(it,851986,h9[O5])
set G0[64+O5]=true
elseif K57[256+O5]or SF7(O5)then
elseif(WF7(it))then
if((GetUnitAbilityLevel(it,1093677130)==0)or(h4[O5]!=null))then
call ORF(b5)
else
call OWF(b5)
endif
else
call OTF(b5)
endif
if h9[64+O5]!=null then
if(GetUnitState(h9[64+O5],UNIT_STATE_LIFE)<0.45)or(RE7(h9[64+O5],it)>3000)or(SN7(3000.,S07(h9[64+O5]),Condition(function k6))==null)then
set h9[64+O5]=null
else
set hq[320+O5]=Bz+10.
endif
endif
elseif((eY[O5]==3)or(eY[O5]==4))then
if(O3F<6000.)then
call IJF(it)
else
set J4=JIF(it)
endif
elseif(eY[O5]==9)then
call OFF(it)
elseif(eY[O5]==10)then
call NLF(b5)
elseif(eY[O5]==11)then
call O4F(b5)
endif
endif
set it=null
set NKF=null
set b5=null
endfunction
function O6F takes unit it returns integer
local integer i1=GetUnitTypeId(it)
if(i1==1211117653)then
return 19
elseif(i1==1311787088)then
return 18
elseif(i1==1160785970)then
return 17
elseif(i1==1430467634)then
return 16
elseif(i1==1215128178)then
return 15
elseif(i1==1430468406)then
return 14
elseif(i1==1164666213)then
return 13
elseif(i1==1211117640)then
return 12
elseif(i1==1433168227)then
return 11
elseif(i1==1430466872)then
return 10
elseif(i1==1211117620)then
return 9
elseif(i1==1332898670)then
return 8
elseif(i1==1316252014)then
return 7
elseif(i1==1429221445)then
return 6
elseif(i1==1311780930)then
return 5
elseif(i1==1315334514)then
return 4
elseif(i1==1162032951)then
return 3
elseif(i1==1162032439)then
return 2
elseif(i1==1211117654)then
return 1
else
return 0
endif
endfunction
function OLF takes nothing returns boolean
return((not PE4)and(not PG4)and(not PH4)and(not PF4))
endfunction
function O1F takes nothing returns nothing
local integer iZ=1
local integer O0F=1
local integer O5F=1
local unit O2F=null
local unit O_F=null
loop
exitwhen iZ>5
if(Z17(Z7[iZ]))then
if((O2F==null)or(((O6F(M7[GetPlayerId(Z7[iZ])]))>(O6F(O2F)))or((O6F(O2F)==0)and((QC7(M7[GetPlayerId(Z7[iZ])])>QC7(O2F))or((QC7(M7[GetPlayerId(Z7[iZ])])==QC7(O2F))and(GetHeroStr(M7[GetPlayerId(Z7[iZ])],false)>=GetHeroAgi(M7[GetPlayerId(Z7[iZ])],false))and(GetHeroStr(M7[GetPlayerId(Z7[iZ])],false)>=GetHeroInt(M7[GetPlayerId(Z7[iZ])],false)))))))then
set O2F=M7[GetPlayerId(Z7[iZ])]
set eY[64+GetPlayerId(Z7[iZ])]=0
endif
endif
if(Z17(A7[iZ]))then
if((O_F==null)or(((O6F(M7[GetPlayerId(A7[iZ])]))>(O6F(O_F)))or((O6F(O_F)==0)and((QC7(M7[GetPlayerId(A7[iZ])])>QC7(O_F))or((QC7(M7[GetPlayerId(A7[iZ])])==QC7(O_F))and(GetHeroStr(M7[GetPlayerId(A7[iZ])],false)>=GetHeroAgi(M7[GetPlayerId(A7[iZ])],false))and(GetHeroStr(M7[GetPlayerId(A7[iZ])],false)>=GetHeroInt(M7[GetPlayerId(A7[iZ])],false)))))))then
set O_F=M7[GetPlayerId(A7[iZ])]
set eY[64+GetPlayerId(A7[iZ])]=0
endif
endif
set iZ=iZ+1
endloop
set iZ=1
loop
exitwhen iZ>5
if((Z17(Z7[iZ]))and(Z7[iZ]!=GetOwningPlayer(O2F)))then
if(O0F<3)then
set eY[64+GetPlayerId(Z7[iZ])]=O0F
else
set eY[64+GetPlayerId(Z7[iZ])]=O0F-2
endif
set O0F=O0F+1
endif
if((Z17(A7[iZ]))and(A7[iZ]!=GetOwningPlayer(O_F)))then
if(O5F<3)then
set eY[64+GetPlayerId(A7[iZ])]=O5F
else
set eY[64+GetPlayerId(A7[iZ])]=O5F-2
endif
set O5F=O5F+1
endif
set iZ=iZ+1
endloop
set iZ=1
loop
exitwhen iZ>5
set O5F=GetPlayerId(Z7[iZ])
if(eY[64+O5F]==0)then
set h8[O5F]=h7[11]
set h8[16+O5F]=h7[14]
elseif(eY[64+O5F]==1)then
set h8[O5F]=h7[31]
set h8[16+O5F]=h7[35]
else
set h8[O5F]=h7[51]
set h8[16+O5F]=h7[55]
endif
set O5F=GetPlayerId(A7[iZ])
if(eY[64+O5F]==0)then
set h8[O5F]=h7[111]
set h8[16+O5F]=h7[114]
elseif(eY[64+O5F]==1)then
set h8[O5F]=h7[131]
set h8[16+O5F]=h7[135]
else
set h8[O5F]=h7[151]
set h8[16+O5F]=h7[155]
endif
set iZ=iZ+1
endloop
set O2F=null
set O_F=null
endfunction
function P4F takes nothing returns nothing
local integer O5=1
if Bz<QD4 then
return
endif
loop
exitwhen O5>11
if(IsPlayerInForce(Player(O5),QX4))then
call GroupClear(iC)
call GroupEnumUnitsOfPlayer(iC,Player(O5),iL)
call ForGroup(iC,function OBF)
endif
if(IsPlayerInForce(Player(O5),X7))then
if((M7[O5]!=null)and(GetWidgetLife(M7[O5])>.405))then
if(IsUnitVisible(M7[O5],A7[0]))then
set eY[32+O5]=4
elseif(eY[32+O5]>0)then
set eY[32+O5]=eY[32+O5]-1
endif
endif
elseif(IsPlayerInForce(Player(O5),Y7))then
if((M7[O5]!=null)and(GetWidgetLife(M7[O5])>.405))then
if(IsUnitVisible(M7[O5],Z7[0]))then
set eY[32+O5]=4
elseif(eY[32+O5]>0)then
set eY[32+O5]=eY[32+O5]-1
endif
endif
endif
set O5=O5+1
endloop
endfunction
function P7F takes nothing returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
if not R57(it)then
elseif(Bz<=QD4-23.)then
if RE7(it,TG7(it))<600. and eY[O5]!=0 then
if iU(it)then
call IssueImmediateOrderById(it,851993)
endif
else
if IsUnitAlly(it,Z7[0])then
call IssuePointOrderById(it,851986,GetRectCenterX(ED),GetRectCenterY(ED))
else
call IssuePointOrderById(it,851986,GetRectCenterX(L9),GetRectCenterY(L9))
endif
endif
elseif(eY[O5]==2)or(not(Bz>K17[160+O5]))then
elseif(IsUnitAlly(it,A7[0]))then
if(h8[16+O5]==h7[14])then
call IssueTargetOrderById(it,851971,K44)
elseif(h8[16+O5]==h7[35])then
call IssueTargetOrderById(it,851971,J_4)
else
call IssueTargetOrderById(it,851971,K74)
endif
else
if(h8[16+O5]==h7[14])then
call IssueTargetOrderById(it,851971,JO4)
elseif(h8[16+O5]==h7[35])then
call IssueTargetOrderById(it,851971,JN4)
else
call IssueTargetOrderById(it,851971,JP4)
endif
endif
set it=null
endfunction
function P8F takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer O5=UN7(GetHandleId(t),"pID")
call G2F(M7[O5])
set Q04[80+O5]=null
call TN7(GetHandleId(t))
call DestroyTrigger(t)
set t=null
endfunction
function P9F takes nothing returns nothing
local integer O5
local integer i
local integer j
local integer k
if LO4 then
return
endif
if(Bz<(QD4+2.))then
if(Bz==QD4-MD7)then
if(OLF())then
call ExecuteFunc("O1F")
endif
if(not EE7)then
set EE7=true
set O5=1
set N54=true
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
if Z17(Player(O5))and M7[O5]!=null then
set Q04[80+O5]=CreateTrigger()
call TriggerRegisterTimerEvent(Q04[80+O5],0.1,false)
call TriggerAddAction(Q04[80+O5],function P8F)
call TQ7(GetHandleId(Q04[80+O5]),"pID",O5)
endif
set O5=O5+1
endloop
endif
endif
call GroupClear(Q54)
call GroupEnumUnitsInRect(Q54,bj_mapInitialPlayableArea,iL)
call ForGroup(Q54,function P7F)
else
call DestroyTrigger(GetTriggeringTrigger())
call DestroyTrigger(QA4)
set QA4=null
call DestroyTrigger(Ho)
call EnableTrigger(QB4)
call EnableTrigger(EV7)
call EnableTrigger(Q64)
call EnableTrigger(Q34)
call EnableTrigger(QZ4)
if(QV4!=null)then
call DisplayTimedTextToPlayer(QT4,0,0,5.,"Picking for AI has ended.")
call SetUnitOwner(h4[512+GetPlayerId(QT4)],QT4,false)
call SetUnitOwner(h4[512+GetPlayerId(QV4)],QV4,false)
set QV4=null
endif
if(QW4!=null)then
call DisplayTimedTextToPlayer(QU4,0,0,5.,"Picking for AI has ended.")
call SetUnitOwner(h4[512+GetPlayerId(QU4)],QU4,false)
call SetUnitOwner(h4[512+GetPlayerId(QW4)],QW4,false)
set QW4=null
endif
set O5=1
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
set EM7=IsPlayerAlly(Player(O5),Z7[0])
set j=PW7(EM7,0,6)
if Z17(Player(O5))and M7[O5]!=null then
set bj_forLoopBIndex=QU7(GetUnitTypeId(M7[O5]))
set i=1
loop
exitwhen i>5
if EB7[48+j+i]==-1 then
set EB7[48+j+i]=O5
exitwhen true
elseif QU7(GetUnitTypeId(M7[EB7[48+j+i]]))>bj_forLoopBIndex then
set k=5
loop
exitwhen k==i
set EB7[48+j+k]=EB7[48+j+k-1]
set k=k-1
endloop
set EB7[48+j+i]=O5
exitwhen true
endif
set i=i+1
endloop
endif
set O5=O5+1
endloop
set EH7=""
set i=1
loop
exitwhen i>5
set EB7[80+i]=EB7[48+i]
set EB7[86+i]=EB7[54+i]
set i=i+1
endloop
endif
endfunction
function PDF takes nothing returns nothing
local integer O5=1
local integer UP=0
local integer PEF=0
local integer PFF=0
local integer PGF=0
local integer i=0
loop
exitwhen O5>5
if((M7[GetPlayerId(Z7[O5])]==null)and(GetPlayerSlotState(Z7[O5])==PLAYER_SLOT_STATE_PLAYING))then
return
elseif(not Z07(Z7[O5]))then
elseif(GetPlayerController(Z7[O5])==MAP_CONTROL_COMPUTER)then
if(h8[16+GetPlayerId(Z7[O5])]==h7[14])then
set PGF=PGF+1
elseif(h8[16+GetPlayerId(Z7[O5])]==h7[35])then
set PEF=PEF+1
else
set PFF=PFF+1
endif
else
set UP=GetPlayerId(Z7[O5])
if(IsUnitInRange(M7[UP],JO4,700.))then
set PGF=PGF+1
elseif(IsUnitInRange(M7[UP],JN4,700.))then
set PEF=PEF+1
elseif(IsUnitInRange(M7[UP],JP4,700.))then
set PFF=PFF+1
elseif((j1(M7[UP],ED)<4000.)or(RectContainsUnit(Cz,M7[UP])))then
elseif(RAbsBJ(GetUnitX(M7[UP])-GetUnitY(M7[UP]))<1500.)then
set PGF=PGF+1
elseif(((GetUnitY(M7[UP])>5000.)and(GetUnitY(M7[UP])<6700.))or((GetUnitX(M7[UP])>-7000.)and(GetUnitX(M7[UP])<-5500.)))then
set PEF=PEF+1
elseif(((GetUnitY(M7[UP])>-7500.)and(GetUnitY(M7[UP])<-6300.))or((GetUnitX(M7[UP])>5000.)and(GetUnitX(M7[UP])<6700.)))then
set PFF=PFF+1
endif
endif
set O5=O5+1
endloop
if(HB4<=3)then
set UP=1
else
set UP=2
endif
if((PE4)or((PG4)and(PH4))or((PG4)and(PF4))or((PH4)and(PF4)))then
set UP=5
endif
set i=1
loop
exitwhen i>5
if((Z07(Z7[i]))and(GetPlayerController(Z7[i])==MAP_CONTROL_COMPUTER))then
set O5=GetPlayerId(Z7[i])
if(h8[16+O5]==h7[14])then
if(((PGF>1)and(OLF()))or((PGF>UP)and(not(OLF()))))then
if((not PH4)and(PEF<UP))then
set h8[16+O5]=h7[35]
set h8[O5]=h7[32]
set eY[64+O5]=1
set PEF=PEF+1
set PGF=PGF-1
elseif((not PF4)and(PFF<UP))then
set h8[16+O5]=h7[55]
set h8[O5]=h7[52]
set eY[64+O5]=2
set PFF=PFF+1
set PGF=PGF-1
endif
endif
elseif(h8[16+O5]==h7[35])then
if(PEF>UP)then
if((not PG4)and(((PGF<1)and(OLF()))or((PGF<UP)and(not(OLF())))))then
set h8[16+O5]=h7[14]
set h8[O5]=h7[12]
set eY[64+O5]=0
set PGF=PGF+1
set PEF=PEF-1
elseif((not PF4)and(PFF<UP))then
set h8[16+O5]=h7[55]
set h8[O5]=h7[52]
set eY[64+O5]=2
set PFF=PFF+1
set PEF=PEF-1
endif
endif
else
if(PFF>UP)then
if((not PG4)and(((PGF<1)and(OLF()))or((PGF<UP)and(not(OLF())))))then
set h8[16+O5]=h7[14]
set h8[O5]=h7[12]
set eY[64+O5]=0
set PGF=PGF+1
set PFF=PFF-1
elseif((not PH4)and(PEF<UP))then
set h8[16+O5]=h7[35]
set h8[O5]=h7[32]
set eY[64+O5]=1
set PEF=PEF+1
set PFF=PFF-1
endif
endif
endif
endif
set i=i+1
endloop
endfunction
function PHF takes nothing returns nothing
local integer O5=1
local integer UP=0
local integer PEF=0
local integer PFF=0
local integer PGF=0
local integer i=0
loop
exitwhen O5>5
if((M7[GetPlayerId(A7[O5])]==null)and(GetPlayerSlotState(A7[O5])==PLAYER_SLOT_STATE_PLAYING))then
return
elseif(not Z07(A7[O5]))then
elseif(GetPlayerController(A7[O5])==MAP_CONTROL_COMPUTER)then
if(h8[16+GetPlayerId(A7[O5])]==h7[114])then
set PGF=PGF+1
elseif(h8[16+GetPlayerId(A7[O5])]==h7[135])then
set PEF=PEF+1
else
set PFF=PFF+1
endif
else
set UP=GetPlayerId(A7[O5])
if(IsUnitInRange(M7[UP],K44,700.))then
set PGF=PGF+1
elseif(IsUnitInRange(M7[UP],J_4,700.))then
set PEF=PEF+1
elseif(IsUnitInRange(M7[UP],K74,700.))then
set PFF=PFF+1
elseif((j1(M7[UP],L9)<4000.)or(RectContainsUnit(cz,M7[UP])))then
elseif(RAbsBJ(GetUnitX(M7[UP])-GetUnitY(M7[UP]))<1500.)then
set PGF=PGF+1
elseif(((GetUnitY(M7[UP])>5000.)and(GetUnitY(M7[UP])<6700.))or((GetUnitX(M7[UP])>-7000.)and(GetUnitX(M7[UP])<-5500.)))then
set PEF=PEF+1
elseif(((GetUnitY(M7[UP])>-7500.)and(GetUnitY(M7[UP])<-6300.))or((GetUnitX(M7[UP])>5000.)and(GetUnitX(M7[UP])<6700.)))then
set PFF=PFF+1
endif
endif
set O5=O5+1
endloop
if(HC4<=3)then
set UP=1
else
set UP=2
endif
if((PE4)or((PG4)and(PH4))or((PG4)and(PF4))or((PH4)and(PF4)))then
set UP=5
endif
set i=1
loop
exitwhen i>5
if((Z07(A7[i]))and(GetPlayerController(A7[i])==MAP_CONTROL_COMPUTER))then
set O5=GetPlayerId(A7[i])
if(h8[16+O5]==h7[114])then
if(((PGF>1)and(OLF()))or((PGF>UP)and(not(OLF()))))then
if((not PF4)and(PFF<UP))then
set h8[16+O5]=h7[155]
set h8[O5]=h7[152]
set eY[64+O5]=2
set PFF=PFF+1
set PGF=PGF-1
elseif((not PH4)and(PEF<UP))then
set h8[16+O5]=h7[135]
set h8[O5]=h7[132]
set eY[64+O5]=1
set PEF=PEF+1
set PGF=PGF-1
endif
endif
elseif(h8[16+O5]==h7[135])then
if(PEF>UP)then
if((not PG4)and(((PGF<1)and(OLF()))or((PGF<UP)and(not(OLF())))))then
set h8[16+O5]=h7[114]
set h8[O5]=h7[112]
set eY[64+O5]=0
set PGF=PGF+1
set PEF=PEF-1
elseif((not PF4)and(PFF<UP))then
set h8[16+O5]=h7[155]
set h8[O5]=h7[152]
set eY[64+O5]=2
set PFF=PFF+1
set PEF=PEF-1
endif
endif
else
if(PFF>UP)then
if((not PG4)and(((PGF<1)and(OLF()))or((PGF<UP)and(not(OLF())))))then
set h8[16+O5]=h7[114]
set h8[O5]=h7[112]
set eY[64+O5]=0
set PGF=PGF+1
set PFF=PFF-1
elseif((not PH4)and(PEF<UP))then
set h8[16+O5]=h7[135]
set h8[O5]=h7[132]
set eY[64+O5]=1
set PEF=PEF+1
set PFF=PFF-1
endif
endif
endif
endif
set i=i+1
endloop
endfunction
function PIF takes nothing returns nothing
if((Bz>26.)and((not PE4)or((PG4)and(PH4))or((PG4)and(PF4))or((PH4)and(PF4)))and((Bz<=QD4-30)or(Bz>=QD4-18)))then
if(QT4!=null)then
call PDF()
endif
if(QU4!=null)then
call PHF()
endif
endif
endfunction
function PJF takes nothing returns nothing
local unit it=U87(GetHandleId(GetTriggeringTrigger()),"Hero")
local integer ki
if((GetUnitAbilityLevel(it,1093684056)>0)and(GetUnitLifePercent(it)>90.)and(not IsUnitHidden(it))and(iU(it)))then
set ki=GetHandleId(GetOwningPlayer(it))
if((GetHeroStr(it,true)>(30+(4*GetHeroLevel(it))))and(GetHeroStr(it,false)>(15+GetHeroLevel(it))))then
if(IsTriggerEnabled(UF7(ki,"MorphStr")))then
call IssueImmediateOrderById(it,852547)
elseif(not IsTriggerEnabled(UF7(ki,"MorphAgi")))then
call IssueImmediateOrderById(it,852549)
endif
elseif((GetHeroStr(it,true)<(20+(2*GetHeroLevel(it)))))then
if(IsTriggerEnabled(UF7(ki,"MorphAgi")))then
call IssueImmediateOrderById(it,852550)
elseif(not IsTriggerEnabled(UF7(ki,"MorphStr")))then
call IssueImmediateOrderById(it,852546)
endif
elseif(IsTriggerEnabled(UF7(ki,"MorphStr")))then
call IssueImmediateOrderById(it,852547)
elseif(IsTriggerEnabled(UF7(ki,"MorphAgi")))then
call IssueImmediateOrderById(it,852550)
endif
endif
set it=null
endfunction
function K2F takes nothing returns nothing
local trigger t
if(UF7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAM")==null)then
set t=CreateTrigger()
call TW7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAM",t)
call TU7(GetHandleId(t),"Hero",GetTriggerUnit())
call TriggerRegisterTimerEventPeriodic(t,1.)
call TriggerAddAction(t,function PJF)
else
set t=UF7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAM")
call TU7(GetHandleId(t),"Hero",GetTriggerUnit())
endif
endfunction
function PKF takes unit it,integer X5 returns nothing
if((it!=null)and(is(it))and(IsUnitInRange(it,GetTriggerUnit(),800.))and(GetUnitLifePercent(it)>50.))then
call IssuePointOrderById(it,X5,GetOrderPointX(),GetOrderPointY())
endif
endfunction
function PMF takes nothing returns nothing
local integer X5=GetIssuedOrderId()
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if((X5<852000)and(X5!=851973)and(X5!=851974)and((not G0[16+O5])or(X5==851986)))then
call PKF(M7[16+O5],X5)
call PKF(M7[32+O5],X5)
call PKF(M7[48+O5],X5)
endif
endfunction
function K0F takes nothing returns nothing
local trigger t
if(UF7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasMM")==null)then
set t=CreateTrigger()
call TW7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasMM",t)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerAddAction(t,function PMF)
endif
endfunction
function PNF takes nothing returns boolean
return(GetAttacker()==U87(GetHandleId(GetTriggeringTrigger()),"Hero"))
endfunction
function POF takes unit it,integer PPF,boolean PQF returns nothing
set GZ[304+GetPlayerId(GetOwningPlayer(it))]=PQF
call SetPlayerAbilityAvailable(GetOwningPlayer(it),PPF,PQF)
endfunction
function PRF takes nothing returns nothing
local unit IB=GetAttacker()
local unit m5=GetTriggerUnit()
local integer i1=GetUnitTypeId(IB)
local integer O5=GetPlayerId(GetOwningPlayer(IB))
local integer kt
local integer PPF
local real PSF=0.
local real PTF=0.
local integer UP
local boolean J4
local integer X5=0
if((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if((IsUnitType(m5,UNIT_TYPE_HERO)or IsUnitType(m5,UNIT_TYPE_STRUCTURE)))then
set J4=(i1!=1211117654)and(TD7(IB,852139,1093747504))
else
set J4=(i1==1211117654)and(TD7(IB,852138,1093747504))
endif
elseif(i1==1162032951)then
set J4=((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>hq[272+O5])or((Bz+30.)<hq[O5])))
call POF(IB,1093679446,J4)
set X5=852255
set PPF=1093679446
elseif(i1==1160785972)then
set PSF=37+(GetHeroLevel(IB)*2.88)
set PTF=10+10*(GetUnitAbilityLevel(IB,1095263841))
call POF(IB,1095263841,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>100.)or(SE7(m5))))or((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>75.))or((GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.)and(GetWidgetLife(m5)>PSF)and(GetWidgetLife(m5)<PSF+PTF)))
set X5=852174
set PPF=1095263841
elseif(i1==1429221456)then
set PSF=49+(GetHeroLevel(IB)*2.68)
set PTF=GetUnitState(IB,UNIT_STATE_MANA)*(0.05+0.01*(GetUnitAbilityLevel(IB,1093685065)))
call POF(IB,1093685065,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(SE7(m5))))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>70.))or((GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.)and(GetWidgetLife(m5)>PSF)and(GetWidgetLife(m5)<PSF+PTF)))
set X5=852255
set PPF=1093685065
elseif(i1==1315074670)then
call POF(IB,1093677622,(IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(SE7(m5))))
set PPF=1093677622
set X5=852244
elseif(i1==1164799855)then
set PSF=47+(GetHeroLevel(IB)*2.68)
set UP=GetUnitAbilityLevel(IB,1093682265)
if(UP==0)then
set UP=GetUnitAbilityLevel(IB,1093752642)
if(UP>0)then
set PTF=DistanceBetweenPoints(GetUnitLoc(m5),GetUnitLoc(IB))*(0.1+0.05*(GetUnitAbilityLevel(IB,1093752642)))
call POF(IB,1093752642,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(SE7(m5))))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>68.))or((GetHeroLevel(IB)>5)and(GetUnitManaPercent(IB)>50.)and(GetWidgetLife(m5)>PSF)and(GetWidgetLife(m5)<PSF+PTF)))
set PPF=1093752642
endif
else
set PTF=DistanceBetweenPoints(GetUnitLoc(m5),GetUnitLoc(IB))*(0.1+0.05*(GetUnitAbilityLevel(IB,1093682265)))
call POF(IB,1093682265,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(SE7(m5))))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>75.))or((GetHeroLevel(IB)>5)and(GetUnitManaPercent(IB)>50.)and(GetWidgetLife(m5)>PSF)and(GetWidgetLife(m5)<PSF+PTF)))
set PPF=1093682265
endif
set X5=852255
elseif(i1==1311781185)then
set PTF=GetHeroInt(IB,true)*0.15*(GetUnitAbilityLevel(IB,1093684314))
call POF(IB,1093684314,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(SE7(m5))))or((GetHeroLevel(IB)>10)and(GetUnitManaPercent(IB)>70.))or((GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.)and(GetWidgetLife(m5)>PSF)and(GetWidgetLife(m5)<PSF+PTF)))
set PPF=1093684314
set X5=852255
elseif(i1==1211117649)then
call POF(IB,1093685582,(GetUnitState(IB,UNIT_STATE_LIFE)>100.)and((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(IB)>60.)or(SE7(m5))))or((GetHeroLevel(IB)>14)and(GetUnitLifePercent(IB)>70.)))
set PPF=1093685582
set X5=852255
endif
if((GZ[304+O5])and(IsUnitType(m5,UNIT_TYPE_HERO)))then
set kt=GetUnitAbilityLevel(IB,PPF)
if((A27(IB))or(hq[32+O5]>Bz)or(kt==0)or(GetUnitAbilityLevel(IB,1110455638)>0))then
set GZ[304+O5]=false
elseif(i1==1162032951)then
if(kt<=2)then
set hq[32+O5]=Bz+5.-kt
endif
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>20.
elseif(i1==1160785972)then
if(kt<=2)then
set hq[32+O5]=Bz+5.-kt
endif
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>8.
elseif(i1==1429221456)then
if(kt<=3)then
set hq[32+O5]=Bz+8.-(2.*kt)
endif
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>100.
elseif(i1==1315074670)then
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>12.
elseif(i1==1164799855)then
if(kt<=3)then
set hq[32+O5]=Bz+7.-kt
endif
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>35.+(5.*kt)
elseif(i1==1311781185)then
if(kt<=3)then
set hq[32+O5]=Bz+4.-kt
endif
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>15.
elseif(i1==1211117649)then
set GZ[304+O5]=GetUnitState(IB,UNIT_STATE_LIFE)>101.
endif
endif
if IssueImmediateOrderById(IB,X5)then
call IssueTargetOrderById(IB,851983,m5)
endif
set IB=null
set m5=null
endfunction
function PUF takes nothing returns boolean
local integer OC7=GetHandleId(GetTriggeringTrigger())
local unit it=U87(OC7,"Unit")
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(not IG4[O5])and(GetUnitCurrentOrder(it)==851983)and(h4[336+O5]==null)and(Bz>hq[832+O5])then
if IsUnitEnemy(GetTriggerUnit(),Player(O5))and WE7(GetTriggerUnit())and GetWidgetLife(GetTriggerUnit())>.405 and IsUnitVisible(GetTriggerUnit(),Player(O5))then
call IssueTargetOrderById(it,851983,GetTriggerUnit())
endif
endif
return false
endfunction
function PVF takes nothing returns boolean
local trigger t=null
if(GetLearnedSkill()==1093677130)then
call DestroyTrigger(GetTriggeringTrigger())
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,GetTriggerUnit(),600.,null)
call TriggerAddCondition(t,Condition(function PUF))
call TU7(GetHandleId(t),"Unit",GetTriggerUnit())
set t=null
endif
return false
endfunction
function M7F takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_HERO_SKILL)
call TriggerAddCondition(t,Condition(function PVF))
set t=null
endfunction
function K1F takes nothing returns nothing
local trigger t
if(UF7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasOrb")==null)then
set t=CreateTrigger()
call TW7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasOrb",t)
call TU7(GetHandleId(t),"Hero",GetTriggerUnit())
if(ZC7(GetOwningPlayer(GetTriggerUnit())))then
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call c6(t,EVENT_PLAYER_UNIT_ATTACKED)
else
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call B6(t,EVENT_PLAYER_UNIT_ATTACKED)
endif
call TriggerRegisterPlayerUnitEvent(t,B7,EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function PNF))
call TriggerAddAction(t,function PRF)
endif
endfunction
function PWF takes nothing returns boolean
return(((GetUnitTypeId(GetTriggerUnit())==1848652103)or(GetUnitTypeId(GetTriggerUnit())==1848652099)or(GetUnitTypeId(GetTriggerUnit())==1848652088)or(GetUnitTypeId(GetTriggerUnit())==1848651828))and(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endfunction
function PXF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if((h4[O5]==null)and(not GZ[272+O5])and((GetUnitLifePercent(GetTriggerUnit())<50.)or((M7[O5]!=null)and(GetHeroLevel(M7[O5])<10))))then
set GZ[272+O5]=true
call TriggerSleepAction(0.2)
call S57(GetTriggerUnit(),851986,h9[O5])
call TriggerSleepAction(1.)
set GZ[272+O5]=false
endif
endfunction
function M4F takes nothing returns nothing
local trigger t
if(UF7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM")==null)then
set t=CreateTrigger()
call TW7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM",t)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function PWF))
call TriggerAddAction(t,function PXF)
endif
endfunction
function PYF takes nothing returns boolean
return((GetUnitAbilityLevel(GetTriggerUnit(),1097167976)==1)and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endfunction
function PZF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if(((h4[O5]==null)or(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)<400.)or(GetRandomInt(1,10)>4))and(GetUnitCurrentOrder(GetTriggerUnit())!=851986))then
call TriggerSleepAction(0.5)
call S57(GetTriggerUnit(),851986,h9[O5])
endif
endfunction
function K_F takes nothing returns nothing
local trigger t
if(UF7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM")==null)then
set t=CreateTrigger()
call TW7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM",t)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function PYF))
call TriggerAddAction(t,function PZF)
endif
endfunction
function PAF takes nothing returns boolean
return(((GetUnitTypeId(GetTriggerUnit())==1697656907)or(GetUnitTypeId(GetTriggerUnit())==1697656905)or(GetUnitTypeId(GetTriggerUnit())==1697656908))and(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endfunction
function PBF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
call TriggerSleepAction(0.5)
call S57(GetTriggerUnit(),851986,h9[512+O5])
if(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)<200.)then
call S57(GetTriggerUnit(),852525,TG7(GetTriggerUnit()))
endif
endfunction
function K5F takes nothing returns nothing
local trigger t
if(UF7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM")==null)then
set t=CreateTrigger()
call TW7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM",t)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function PAF))
call TriggerAddAction(t,function PBF)
endif
endfunction
function PCF takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(GetUnitAbilityLevel(GetFilterUnit(),1110455378)>0))and(GetUnitAbilityLevel(GetFilterUnit(),1113815395)==0)and(GetUnitAbilityLevel(GetFilterUnit(),1113815346)==0))
endfunction
function P3F takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))or(GetUnitAbilityLevel(GetFilterUnit(),1110455378)>0))and(GetUnitAbilityLevel(GetFilterUnit(),1113815395)==0)and(GetUnitAbilityLevel(GetFilterUnit(),1113815346)==0))
endfunction
function P6F takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return((GetOwningPlayer(GetFilterUnit())==Player(bj_forLoopAIndexEnd))and((i1==1865429304)or(i1==1865429042)or(i1==1865429058)or(i1==1865429314))and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function PLF takes nothing returns nothing
call SetUnitUserData(GetEnumUnit(),GetUnitUserData(GetEnumUnit())+1)
call GroupAddUnit(iA,GetEnumUnit())
endfunction
function P1F takes nothing returns nothing
call SetUnitUserData(GetEnumUnit(),0)
endfunction
function P0F takes nothing returns nothing
local integer O5=1
local group jU=UG7(GetHandleId(GetTriggeringTrigger()),"MGrp")
local boolexpr AR7=US7(GetHandleId(GetTriggeringTrigger()),"MFilt")
local unit PF7=null
loop
if O5==6 then
set O5=7
endif
exitwhen O5>11
if(GetUnitTypeId(M7[O5])==1211117643)and(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)and((Z84[O5]!=ZD4)or(GetRandomInt(1,10)<=7))then
call GroupClear(jU)
call GroupClear(iA)
set bj_forLoopAIndexEnd=O5
set bj_lastLoadedUnit=M7[O5]
call GroupEnumUnitsOfPlayer(jU,Player(O5),AR7)
loop
set PF7=FirstOfGroup(jU)
exitwhen PF7==null
call GroupRemoveUnit(jU,PF7)
if(SP7(400.,PF7,Condition(function P3F))>0)then
call IssueImmediateOrderById(PF7,852556)
elseif((GetUnitUserData(GetEnumUnit())<2)and(SP7(400.,PF7,Condition(function XE7))>3)and(SP7(1200.,PF7,Condition(function P3F))==0))then
call IssueImmediateOrderById(PF7,852556)
call GroupClear(H9)
call GroupEnumUnitsInRange(H9,GetUnitX(PF7),GetUnitY(PF7),400.,AR7)
call ForGroup(H9,function PLF)
endif
endloop
call ForGroup(iA,function P1F)
endif
set O5=O5+1
endloop
set jU=null
set AR7=null
set PF7=null
endfunction
function P5F takes nothing returns boolean
return(((GetLearnedSkill()==1093681483)or((GetLearnedSkill()==1093748313)))and(not IsUnitIllusion(GetTriggerUnit()))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function Uzv takes nothing returns boolean
local integer i1=GetUnitTypeId(GetTriggerUnit())
return(((i1==1865429304)or(i1==1865429042)or(i1==1865429058)or(i1==1865429314))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function UZv takes nothing returns nothing
if(hq[240+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]>Bz)then
call SetUnitUserData(GetTriggerUnit(),1)
endif
endfunction
function P2F takes nothing returns nothing
local trigger t=CreateTrigger()
call DisableTrigger(GetTriggeringTrigger())
call TriggerRegisterTimerEventPeriodic(t,1.50)
call TriggerAddAction(t,function P0F)
set Hc=Location(0.,0.)
call TC7(GetHandleId(t),"MGrp",CreateGroup())
call T07(GetHandleId(t),"MFilt",Condition(function P6F))
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function qg takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function P5F))
call TriggerAddAction(t,function P2F)
endfunction
function P_F takes nothing returns boolean
return((GetUnitTypeId(GetFilterUnit())==1697657392)and(GetWidgetLife(GetFilterUnit())>.405))
endfunction
function Q4F takes nothing returns nothing
if((GetPlayerController(GetOwningPlayer(GetEnumUnit()))!=MAP_CONTROL_USER)and((Z84[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]!=ZD4)or(GetRandomInt(1,10)<=7)))then
call MoveLocation(Hc,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()))
if((SO7(400.,Hc,Condition(function PCF))>0)and(SO7(1100.,Hc,Condition(function YM7))>0))then
call IssueImmediateOrderById(GetEnumUnit(),852556)
endif
endif
endfunction
function Q7F takes nothing returns nothing
local integer O5=1
local group jU=UG7(GetHandleId(GetTriggeringTrigger()),"MGrp")
local boolexpr AR7=US7(GetHandleId(GetTriggeringTrigger()),"MFilt")
loop
if((GetPlayerController(Z7[O5])==MAP_CONTROL_COMPUTER)and(GetUnitTypeId(M7[GetPlayerId(Z7[O5])])==1160786265))then
call GroupClear(jU)
call GroupEnumUnitsOfPlayer(jU,Z7[O5],AR7)
call ForGroup(jU,function Q4F)
endif
if((GetPlayerController(A7[O5])==MAP_CONTROL_COMPUTER)and(GetUnitTypeId(M7[GetPlayerId(A7[O5])])==1160786265))then
call GroupClear(jU)
call GroupEnumUnitsOfPlayer(jU,A7[O5],AR7)
call ForGroup(jU,function Q4F)
endif
set O5=O5+1
endloop
set jU=null
set AR7=null
endfunction
function Q8F takes nothing returns boolean
return((GetLearnedSkill()==1093685840)and(not IsUnitIllusion(GetTriggerUnit()))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function Q9F takes nothing returns nothing
local trigger t=CreateTrigger()
call DisableTrigger(GetTriggeringTrigger())
call TriggerRegisterTimerEventPeriodic(t,1.50)
call TriggerAddAction(t,function Q7F)
set Hc=Location(0.,0.)
call TC7(GetHandleId(t),"MGrp",CreateGroup())
call T07(GetHandleId(t),"MFilt",Condition(function P_F))
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function SP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function Q8F))
call TriggerAddAction(t,function Q9F)
endfunction
function QDF takes unit O07 returns location
call MoveLocation(HA,(LoadReal(L7,(GetHandleId(O07)),(7400))),(LoadReal(L7,(GetHandleId(O07)),(7500))))
return HA
endfunction
function QEF takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(S87(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))))then
call QDF(GetFilterUnit())
return((RF7(GetLocationX(HA),GetLocationY(HA),GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit())))>3000.)
endif
return false
endfunction
function QFF takes nothing returns nothing
local unit QGF=GetTriggerUnit()
local player pl=GetOwningPlayer(QGF)
local integer O5=GetPlayerId(GetOwningPlayer(QGF))
local integer UP=0
call SetPlayerAbilityAvailable(pl,1093687351,false)
call SetPlayerAbilityAvailable(pl,1093748789,false)
set h4[80+GetPlayerId(pl)]=null
if(h4[288+O5]==null)then
set h4[288+O5]=Y57(1500.,QGF)
endif
if(SE7(QGF))then
call S57(QGF,851986,h9[O5])
elseif(h4[288+O5]!=null)then
call IssueTargetOrderById(QGF,851983,h4[288+O5])
set hq[512+O5]=Bz+5.+I2R(15*GetUnitAbilityLevel(QGF,1093679445))
else
call S57(QGF,851983,h8[O5])
set hq[512+O5]=Bz+5.+I2R(15*GetUnitAbilityLevel(QGF,1093679445))
endif
loop
call R47(0.5)
exitwhen(GetUnitAbilityLevel(QGF,1110454347)==0)
if(not G0[128+O5])then
set h4[288+O5]=null
elseif((h4[288+O5]==null)or(not S87(h4[288+O5]))or(W97(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],pl))))then
set h4[288+O5]=Y57(1500.,QGF)
endif
if((SE7(QGF))or(not G0[128+O5])or(G0[64+O5])or(G0[O5]))then
call S57(QGF,851986,h9[O5])
elseif(h4[288+O5]!=null)then
call IssueTargetOrderById(QGF,851983,h4[288+O5])
else
call J3(QGF,true)
endif
endloop
if((h4[288+O5]!=null)and(S87(h4[288+O5]))and(IsUnitInRange(QGF,h4[288+O5],1200.)))then
call CWE(O5,h4[288+O5],false,false)
endif
call SetPlayerAbilityAvailable(pl,1093687351,true)
set hq[512+O5]=Bz+3.
set h4[288+O5]=null
set QGF=null
set pl=null
endfunction
function QHF takes nothing returns boolean
return((WP7())and(GetUnitAbilityLevel(GetFilterUnit(),1113812327)==0))
endfunction
function QIF takes nothing returns boolean
return((k3())and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE))and(GetUnitAbilityLevel(GetFilterUnit(),1113812327)==0))
endfunction
function QJF takes nothing returns nothing
local unit QGF=GetTriggerUnit()
local unit QKF=null
local integer O5=GetPlayerId(GetOwningPlayer(QGF))
local real kl
if(SE7(QGF))then
call S57(QGF,851986,h9[O5])
elseif(h4[288+O5]!=null)then
call S57(QGF,851971,h4[288+O5])
set hq[512+O5]=Bz+5.
else
call S57(QGF,851983,h8[O5])
set hq[512+O5]=Bz+5.
endif
loop
call R47(0.3)
exitwhen(GetUnitAbilityLevel(QGF,1112041075)==0)
if(not G0[128+O5])then
set h4[288+O5]=null
elseif((h4[288+O5]==null)or(not S87(h4[288+O5]))or(W97(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],GetOwningPlayer(QGF)))))then
set h4[288+O5]=SK7(1000.,S07(QGF),Condition(function QHF))
endif
if((h4[288+O5]!=null)and(SP7(800.,h4[288+O5],Condition(function WY7))>0)and((not SE7(h4[288+O5]))or(not IsUnitInRange(h4[288+O5],QGF,400.))))then
set h4[288+O5]=null
endif
if((SE7(QGF))or(G0[O5])or(not G0[128+O5])or(G0[64+O5]))then
call S57(QGF,851986,h9[O5])
elseif(h4[288+O5]!=null)then
set QKF=null
if(GetUnitAbilityLevel(h4[288+O5],1113812327)==0)then
set kl=Atan2(GetUnitY(h4[288+O5])-GetUnitY(QGF),GetUnitX(h4[288+O5])-GetUnitX(QGF))
call IssuePointOrderById(QGF,851971,GetUnitX(h4[288+O5])+250.*Cos(kl),GetUnitY(h4[288+O5])+250.*Sin(kl))
elseif(GetUnitAbilityLevel(h4[288+O5],1113812327)>0)then
if((GetUnitLifePercent(h4[288+O5])<45.)or((GetHeroLevel(QGF)>10)and(h4[O5]==h4[288+O5])and(GetUnitLifePercent(h4[288+O5])<65.)))then
if(IsUnitInRange(QGF,h4[288+O5],200.))then
call UnitRemoveAbility(QGF,1112041075)
call IssueTargetOrderById(QGF,851983,h4[288+O5])
else
set kl=Atan2(GetUnitY(h4[288+O5])-GetUnitY(QGF),GetUnitX(h4[288+O5])-GetUnitX(QGF))
call IssuePointOrderById(QGF,851971,GetUnitX(h4[288+O5])+250.*Cos(kl),GetUnitY(h4[288+O5])+250.*Sin(kl))
endif
else
set h4[288+O5]=null
endif
endif
else
if((QKF!=null)and(GetUnitAbilityLevel(QKF,1113812327)>0))then
set QKF=null
endif
if((QKF==null)and(GetHeroLevel(QGF)>10)and(SP7(800.,QGF,Condition(function WP7))<=1))then
set QKF=SN7(600.,S07(QGF),Condition(function QIF))
endif
if(QKF!=null)then
call IssuePointOrderById(QGF,851986,GetUnitX(QKF),GetUnitY(QKF))
else
call S57(QGF,851986,h9[O5])
endif
endif
endloop
set hq[512+O5]=Bz+3.
set h4[288+O5]=null
set QGF=null
set QKF=null
endfunction
function QMF takes nothing returns nothing
local unit QGF=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(QGF))
local real AQ7
local boolean J4
if(GetUnitTypeId(QGF)==1315334514)then
set AQ7=150.
elseif(GetUnitTypeId(QGF)==1162032439)then
set AQ7=350.
endif
set h4[288+O5]=Y57(1500.,QGF)
if(h4[288+O5]!=null)then
call IssuePointOrderById(QGF,851971,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)
else
call S57(QGF,851983,h8[O5])
endif
set hq[512+O5]=Bz+30.
loop
call R47(0.4)
exitwhen((GetUnitAbilityLevel(QGF,1110456148)==0)or(SE7(QGF)))
if((h4[288+O5]!=null)and(IsUnitInRange(h4[288+O5],QGF,AQ7)))then
if(GetUnitTypeId(QGF)==1315334514)then
if(GetUnitCurrentOrder(QGF)!=852273)then
call TD7(QGF,852273,1093810506)
endif
else
call SetPlayerAbilityAvailable(GetOwningPlayer(QGF),1093681462,true)
set GZ[O5]=true
call J8(O5,TD7(QGF,852594,1093677363))
endif
elseif(R57(QGF))then
set J4=(G0[O5])or(G0[64+O5])or(not G0[128+O5])
if((h4[288+O5]!=null)and((J4)or(not S87(h4[288+O5]))or(W97(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],GetOwningPlayer(QGF))))))then
set h4[288+O5]=null
call S57(QGF,851986,h9[O5])
endif
if((h4[288+O5]==null)and(not J4))then
set h4[288+O5]=Y57(1200.,QGF)
endif
if((h4[288+O5]!=null)and(not J4)and(not SE7(QGF)))then
call IssuePointOrderById(QGF,851971,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)
elseif((SE7(QGF))or(J4))then
call S57(QGF,851986,h9[O5])
endif
endif
endloop
set hq[512+O5]=Bz+3.
set h4[288+O5]=null
set GZ[272+O5]=false
set QGF=null
endfunction
function QNF takes nothing returns nothing
local unit QGF=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(QGF))
local integer QOF
local integer UP
if(SE7(QGF))then
call S57(QGF,851986,h9[O5])
set QGF=null
return
endif
if(GetUnitTypeId(QGF)==1315007329)then
set QOF=1110455864
call SetPlayerAbilityAvailable(GetOwningPlayer(QGF),1093677108,false)
elseif(GetUnitTypeId(QGF)==1160785972)then
set QOF=1110456118
else
set QOF=1110456148
endif
set h4[288+O5]=Y57(1500.,QGF)
if(h4[288+O5]!=null)then
call IssueTargetOrderById(QGF,851983,h4[288+O5])
else
call J3(QGF,true)
endif
set hq[512+O5]=Bz+30.
loop
call R47(0.5)
exitwhen((GetUnitAbilityLevel(QGF,QOF)==0)or(SE7(QGF)))
if((h4[288+O5]!=null)and((G0[O5])or(G0[64+O5])or(not G0[128+O5])or(not S87(h4[288+O5]))or(W97(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],GetOwningPlayer(QGF))))))then
set h4[288+O5]=null
call S57(QGF,851986,h9[O5])
endif
if((h4[288+O5]!=null)and(not SE7(QGF)))then
if((QOF!=1110455864)and(IsUnitInRange(QGF,h4[288+O5],300.)))then
call UnitRemoveAbility(QGF,QOF)
set GZ[O5]=true
if((GetUnitTypeId(QGF)!=1160785972)or(not TD7(QGF,852100,1093677872)))then
call IssueTargetOrderById(QGF,851983,h4[288+O5])
endif
set GZ[O5]=false
elseif(QOF==1110455864)then
call IssueTargetOrderById(QGF,851983,h4[288+O5])
else
call IssuePointOrderById(QGF,851971,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)
endif
elseif((h4[288+O5]==null)and(not SE7(QGF))and(not G0[O5])and(not G0[64+O5])and(G0[128+O5]))then
set h4[288+O5]=Y57(1500.,QGF)
if(h4[288+O5]!=null)then
call IssuePointOrderById(QGF,851971,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)
endif
else
call S57(QGF,851986,h9[O5])
endif
endloop
if(GetTriggerEventId()==EVENT_PLAYER_UNIT_USE_ITEM)then
set GZ[272+O5]=false
endif
set hq[512+O5]=Bz+3.
set h4[288+O5]=null
set QGF=null
endfunction
function QPF takes nothing returns boolean
return((GetSpellAbilityId()==1093677391)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function QQF takes nothing returns nothing
local unit j5=GetTriggerUnit()
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)
call R47(0.5)
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)
call R47(0.0)
call J3(j5,false)
call R47(1.)
if(RE7(j5,TG7(j5))<1500.)then
set h9[GetPlayerId(GetOwningPlayer(j5))]=TG7(j5)
call VX7(j5,true)
else
call AX7(j5)
endif
set j5=null
endfunction
function po takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function QPF))
call TriggerAddAction(t,function QQF)
endfunction
function QRF takes nothing returns boolean
return((GetSpellAbilityId()==1093682764)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function QSF takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local unit j5=GetTriggerUnit()
local player pl=GetOwningPlayer(j5)
local real QTF=0.
call SetPlayerController(pl,MAP_CONTROL_NONE)
call MQF(j5,m5)
set QTF=Bz
loop
call R47(0.5)
exitwhen((GetUnitAbilityLevel(m5,1110455113)==0)or(IsUnitDeadBJ(m5))or(IsUnitDeadBJ(j5)))
endloop
call SetPlayerController(pl,MAP_CONTROL_COMPUTER)
set hq[GetPlayerId(pl)]=Bz+30.
if((IsUnitAliveBJ(m5))and(not SE7(j5)))then
call IssueTargetOrderById(j5,851983,m5)
else
call J3(j5,false)
endif
set m5=null
set j5=null
set pl=null
endfunction
function PW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function QRF))
call TriggerAddAction(t,function QSF)
endfunction
function QUF takes nothing returns boolean
return((GetSpellAbilityId()==1093677649 or GetSpellAbilityId()==1093747769)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function QVF takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local unit j5=GetTriggerUnit()
local player pl=GetOwningPlayer(j5)
local real QTF=0.
call SetPlayerController(pl,MAP_CONTROL_NONE)
call MQF(j5,m5)
set QTF=Bz
loop
call R47(0.5)
exitwhen((GetUnitAbilityLevel(m5,1110455362)==0)or(IsUnitDeadBJ(m5))or(IsUnitDeadBJ(j5)))
endloop
call SetPlayerController(pl,MAP_CONTROL_COMPUTER)
set hq[GetPlayerId(pl)]=Bz+120.
if((not IsUnitDeadBJ(m5))and(not SE7(j5))and(not S27(j5,852119,1093683019,m5)))then
call IssueTargetOrderById(j5,851983,m5)
else
call J3(j5,false)
endif
set m5=null
set j5=null
set pl=null
endfunction
function OK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function QUF))
call TriggerAddAction(t,function QVF)
endfunction
function QWF takes nothing returns boolean
return((GetSpellAbilityId()==1093747288)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function QXF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=null
local player pl=GetOwningPlayer(j5)
local real QTF=0.
call SetPlayerController(pl,MAP_CONTROL_NONE)
set QTF=Bz
set m5=K2(400.,HC[GetPlayerId(pl)])
if(m5!=null)then
call MQF(j5,m5)
endif
loop
call R47(0.5)
exitwhen((GetUnitCurrentOrder(j5)!=OrderId("cannibalize"))or(IsUnitDeadBJ(j5)))
endloop
call SetPlayerController(pl,MAP_CONTROL_COMPUTER)
set hq[GetPlayerId(pl)]=Bz+210.-(GetUnitAbilityLevel(j5,1093747288)*10.)
call J3(j5,false)
set j5=null
set m5=null
set pl=null
endfunction
function MN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function QWF))
call TriggerAddAction(t,function QXF)
endfunction
function QYF takes nothing returns boolean
return((GetSpellAbilityId()==1093678160)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function QZF takes nothing returns nothing
local unit j5=GetTriggerUnit()
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)
call R47(0.5)
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)
call R47(0.0)
if(GetSpellTargetUnit()!=null)then
call MQF(j5,GetSpellTargetUnit())
endif
set j5=null
endfunction
function PV takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function QYF))
call TriggerAddAction(t,function QZF)
endfunction
function QAF takes nothing returns boolean
return((GetSpellAbilityId()==1093684561 or GetSpellAbilityId()==1093747254)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function QBF takes unit it,integer O5 returns nothing
if(RE7(h9[O5],it)<400.)then
set h8[O5]=h9[O5]
set h9[O5]=TG7(it)
elseif(RE7(h8[O5],it)<400.)then
set h9[O5]=h8[O5]
if(IsUnitAlly(it,Z7[0]))then
set h8[O5]=h7[18]
else
set h8[O5]=h7[118]
endif
endif
endfunction
function QCF takes unit it,integer O5,boolean J4 returns nothing
local unit m5=null
if(not J4)then
if((eY[O5]!=3)and(eY[O5]!=4))then
call S57(it,851983,h8[O5])
else
set m5=SK7(1200.,S07(it),Condition(function k8))
set J4=((m5!=null)and(IssuePointOrderById(it,851983,GetUnitX(m5),GetUnitY(m5))))or(S57(it,851983,h8[O5]))
endif
endif
set m5=null
endfunction
function Q3F takes nothing returns nothing
local unit j5=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(j5))
set GZ[O5]=false
set GZ[272+O5]=SE7(j5)
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)
call R47(0.5)
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)
call R47(1.5)
set h8[512+O5]=h8[16+O5]
set h9[512+O5]=h9[16+O5]
set h8[528+O5]=h8[16+O5]
set h9[528+O5]=h9[16+O5]
loop
exitwhen(not IsUnitHidden(j5))
call R47(1.)
endloop
if(S87(j5))then
call AX7(j5)
endif
set j5=null
endfunction
function UB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function QAF))
call TriggerAddAction(t,function Q3F)
endfunction
function Q6F takes nothing returns boolean
local integer X5=GetIssuedOrderId()
local integer i=GetUnitTypeId(GetTriggerUnit())
if(X5!=852557)and(X5!=851985)and(X5!=852558)and(not IsUnitInRange(GetTriggerUnit(),M7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))],50.))then
if i==1966092359 or i==1966092361 then
call DisableTrigger(GetTriggeringTrigger())
call IssueImmediateOrderById(GetTriggerUnit(),852557)
call EnableTrigger(GetTriggeringTrigger())
endif
endif
return false
endfunction
function aiExorcismFilter takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())==1966092359 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(bj_lastLoadedUnit))
endfunction
function QLF takes nothing returns nothing
local unit PF7=GetEnumUnit()
local player pl=GetOwningPlayer(PF7)
local trigger t=UF7(GetHandleId(pl),"ExorTrig")
local integer i=GetUnitCurrentOrder(PF7)
if RE7(PF7,bj_lastLoadedUnit)>750. then
call DisableTrigger(t)
call IssuePointOrderById(PF7,851986,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit))
call EnableTrigger(t)
elseif((i==0)or(i==851986 and RE7(PF7,bj_lastLoadedUnit)<450.))then
call IssueImmediateOrderById(PF7,852557)
endif
set PF7=null
set t=null
set pl=null
endfunction
function Q1F takes nothing returns nothing
local unit PF7=GetEnumUnit()
local player pl=GetOwningPlayer(PF7)
local trigger t=UF7(GetHandleId(pl),"NAttTrig")
local integer i=GetUnitCurrentOrder(PF7)
if RE7(PF7,bj_lastLoadedUnit)>350. then
call DisableTrigger(t)
call IssuePointOrderById(PF7,851986,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit))
call EnableTrigger(t)
elseif((i==0)or(i==851986 and RE7(PF7,bj_lastLoadedUnit)<200.))then
call IssueImmediateOrderById(PF7,852557)
endif
set PF7=null
set t=null
set pl=null
endfunction
function Q0F takes nothing returns nothing
local unit j5=GetTriggerUnit()
local player pl=GetOwningPlayer(j5)
local real JPF=Bz+29.5
local trigger t=UF7(GetHandleId(pl),"ExorTrig")
local integer Q5F=GetSpellAbilityId()
local group Q2F=UG7(GetHandleId(pl),"ExorG")
set hq[GetPlayerId(pl)]=Bz+120.
call RemoveGuardPosition(j5)
if(t==null)then
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,pl,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,null)
call TriggerRegisterPlayerUnitEvent(t,pl,EVENT_PLAYER_UNIT_ISSUED_ORDER,null)
call TriggerRegisterPlayerUnitEvent(t,pl,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,null)
call TriggerAddCondition(t,Condition(function Q6F))
call TW7(GetHandleId(pl),"ExorTrig",t)
set Q2F=CreateGroup()
call TC7(GetHandleId(pl),"ExorG",Q2F)
else
call EnableTrigger(t)
call GroupClear(Q2F)
endif
loop
call TriggerSleepAction(0.5)
if((iU(j5))and(GetUnitCurrentOrder(j5)!=851983)and(SP7(750.,j5,Condition(function k0))==0)and(not SE7(j5))and((GetUnitLifePercent(j5)>90.)or(not G0[GetPlayerId(GetOwningPlayer(j5))])))then
call S57(j5,851983,h8[GetPlayerId(GetOwningPlayer(j5))])
endif
exitwhen((Bz>JPF)or(not S87(j5)))
set bj_lastLoadedUnit=j5
call ForGroup(Q2F,function QLF)
endloop
call DisableTrigger(t)
set t=null
set j5=null
endfunction
function Q_F takes nothing returns nothing
local unit j5=GetTriggerUnit()
local player pl=GetOwningPlayer(j5)
local real JPF=Bz+9.5
local trigger t=UF7(GetHandleId(pl),"NAttTrig")
local integer Q5F=GetSpellAbilityId()
local group Q2F=UG7(GetHandleId(pl),"NAttG")
call RemoveGuardPosition(j5)
if(t==null)then
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(j5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,null)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(j5),EVENT_PLAYER_UNIT_ISSUED_ORDER,null)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(j5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,null)
call TriggerAddCondition(t,Condition(function Q6F))
call TW7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"NAttTrig",t)
set Q2F=CreateGroup()
call TC7(GetHandleId(pl),"NAttG",Q2F)
else
call EnableTrigger(t)
call GroupClear(Q2F)
endif
loop
call TriggerSleepAction(0.3)
exitwhen((Bz>JPF)or(not S87(j5)))
set bj_lastLoadedUnit=j5
call ForGroup(Q2F,function Q1F)
endloop
call DisableTrigger(t)
set t=null
set j5=null
endfunction
function R4F takes nothing returns boolean
return((GetSpellAbilityId()==1093685846)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function R7F takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=null
local real JPF=Bz+.5
local integer O5=GetPlayerId(GetOwningPlayer(j5))
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)
call TriggerSleepAction(0.01)
loop
if((h4[O5]!=null)and(S87(h4[O5]))and(IsUnitInRange(j5,h4[O5],145+(40*GetUnitAbilityLevel(j5,1093685839)))))then
set m5=h4[O5]
else
set m5=SN7(I2R(145+(40*GetUnitAbilityLevel(j5,1093685839))),S07(j5),Condition(function WP7))
endif
if(m5!=null)then
call UnitRemoveAbility(j5,1110456395)
call IssueTargetOrderById(j5,851983,m5)
endif
exitwhen((not G0[128+O5])or(GetUnitAbilityLevel(j5,1110456395)==0)or(not S87(j5))or(Bz>=JPF))
call R47(.5)
endloop
call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)
call J3(j5,false)
set j5=null
set m5=null
endfunction
function SQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function R4F))
call TriggerAddAction(t,function R7F)
endfunction
function R8F takes nothing returns boolean
return((GetSpellAbilityId()==1093677402)and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetSpellTargetUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function R9F takes nothing returns nothing
local real IW
local real JD
local real Je
local integer O5=GetPlayerId(GetOwningPlayer(hr))
if((GetDestructableTypeId(GetEnumDestructable())==1465152372)or(GetDestructableTypeId(GetEnumDestructable())==1230271587)or(GetDestructableTypeId(GetEnumDestructable())==1230271607)or(GetDestructableTypeId(GetEnumDestructable())==1314157687)or(GetDestructableTypeId(GetEnumDestructable())==1096053874))then
set JD=GetUnitX(h9[16+O5])
set Je=GetUnitY(h9[16+O5])
set IW=RF7(GetDestructableX(GetEnumDestructable()),GetDestructableY(GetEnumDestructable()),JD,Je)
if(((RF7(GetUnitX(hr),GetUnitY(hr),JD,Je)-150.)>IW)and((GetLocationX(HC[240+O5])==0.)or(((RF7(GetLocationX(HC[240+O5]),GetLocationY(HC[240+O5]),JD,Je)-150.)>IW))and(RF7(GetLocationX(HC[240+O5]),GetLocationY(HC[240+O5]),GetDestructableX(GetEnumDestructable()),GetDestructableY(GetEnumDestructable()))>250.)))then
call MoveLocation(HC[240+O5],GetDestructableX(GetEnumDestructable()),GetDestructableY(GetEnumDestructable()))
endif
endif
endfunction
function RDF takes nothing returns nothing
local unit REF=GetSpellTargetUnit()
local integer O5=GetPlayerId(GetOwningPlayer(REF))
local integer ki=GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))
local location RFF=null
call R47(0.5)
set GZ[272+O5]=false
if(HC[240+O5]==null)then
set HC[240+O5]=Location(0.,0.)
endif
loop
call SetRect(He,GetUnitX(REF)-600.,GetUnitY(REF)-600.,GetUnitX(REF)+600.,GetUnitY(REF)+600.)
set hr=REF
call EnumDestructablesInRect(He,Q24,function R9F)
set RFF=HC[240+O5]
if(GetLocationX(RFF)!=0.)then
call IssuePointOrderByIdLoc(REF,851986,RFF)
else
call S57(REF,851986,h9[O5])
endif
call R47(0.8)
exitwhen((GetUnitAbilityLevel(REF,1110454833)==0)or(GZ[272+O5])or((SP7(1200.,REF,Condition(function WP7))==0)and(iy(REF))))
if((GetLocationX(RFF)!=0.)and(IsUnitInRangeLoc(REF,RFF,150.)))then
call MoveLocation(RFF,0.,0.)
endif
endloop
if(RFF!=null)then
call MoveLocation(RFF,0.,0.)
endif
set RFF=null
set REF=null
endfunction
function Pr takes nothing returns nothing
local trigger t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function R8F))
call TriggerAddAction(t,function RDF)
endfunction
function RGF takes real JFF,real JGF,boolean RHF returns boolean
local boolean J4=false
local unit RIF=null
local unit it=GetEnumUnit()
if RF7(GetUnitX(it),GetUnitY(it),JFF,JGF)>3000 then
if(RHF)then
call VB7(it)
set J4=((GetUnitTypeId(it)==1164799603)and(IssuePointOrderById(it,852525,JFF,JGF)))or((GetUnitTypeId(it)==1311780946)and(((IsUnitAlly(it,Z7[0]))and(IssueTargetOrderById(it,852600,IZ4)))or((IsUnitAlly(it,A7[0]))and(IssueTargetOrderById(it,852600,JA4)))))
else
call MoveLocation(HB,JFF,JGF)
set RIF=SK7(1200.,HB,Condition(function Kd))
if((RIF!=null)and(SP7(1000.,RIF,Condition(function Kd))>3)and(SP7(1200.,RIF,Condition(function k6))<2)and(RE7(RIF,TG7(it))>4000.)and(kJ(GetUnitX(RIF),GetUnitY(RIF))))then
call VB7(it)
set J4=((GetUnitTypeId(it)==1164799603)and(IssuePointOrderById(it,852525,GetUnitX(RIF),GetUnitY(RIF))))or((GetUnitTypeId(it)==1311780946)and(IssueTargetOrderById(it,852600,RIF)))or((SR7(it,ZU[F6]))and(UnitUseItemTarget(it,bj_lastCreatedItem,RIF)))
endif
endif
endif
set RIF=null
set it=null
return J4
endfunction
function RJF takes integer RKF returns boolean
local unit u=GetEnumUnit()
local boolean J4=false
if(RKF==0)then
if(IsUnitAlly(u,A7[0]))then
set J4=(RGF(Tm,Um,false))or(RGF(Jm,lm,false))or(RGF(cm,Cm,false))or(RGF(Zq,vQ,false))
else
set J4=(RGF(bQ,BQ,false))or(RGF(aQ,EQ,false))or(RGF(Zq,vQ,false))or(RGF(cm,Cm,false))
endif
elseif(RKF==1)then
if(IsUnitAlly(u,A7[0]))then
set J4=(RGF(-6240.,-3808.,false))or(RGF(-6112.,-1312.,false))or(RGF(-6112.,1504.,false))or(RGF(3169.,5920.,false))
else
set J4=(RGF(-4704.,5920.,false))or(RGF(32.,5856.,false))or(RGF(3169.,5920.,false))or(RGF(-6112.,1504.,false))
endif
elseif(RKF==2)then
if(IsUnitAlly(u,A7[0]))then
set J4=(RGF(-3424.,-6560.,false))or(RGF(-544.,-6688.,false))or(RGF(4960.,-6752.,false))or(RGF(6044.,2874.,false))
else
set J4=(RGF(6048.,-2080.,false))or(RGF(6112.,-96.,false))or(RGF(6044.,2874.,false))or(RGF(4960.,-6752.,false))
endif
elseif(RKF==3)then
set J4=RGF(GetUnitX(TG7(u)),GetUnitY(TG7(u)),true)
endif
set u=null
return J4
endfunction
function RMF takes unit it returns integer
if(GetUnitAbilityLevel(it,1093810259)==0)then
return 150+(150*GetUnitAbilityLevel(it,1093810258))
else
return 160+(180*GetUnitAbilityLevel(it,1093810259))
endif
endfunction
function RNF takes unit it returns integer
local integer kt=GetHeroLevel(it)
if(D4 or RZ4)then
return(45*kt)
elseif(hG[GetPlayerId(GetOwningPlayer(it))]<5)then
return(30*kt)
elseif(hG[GetPlayerId(GetOwningPlayer(it))]<11)then
return(40*kt)
elseif(hG[GetPlayerId(GetOwningPlayer(it))]<15)then
return(55*kt)
else
return(70*kt)
endif
endfunction
function ROF takes unit it returns integer
local integer kc=GetUnitAbilityLevel(it,1093684565)
if((kc==0)and(GetUnitAbilityLevel(it,1093681458)>0))then
return GetUnitAbilityLevel(it,1093681458)
endif
return kc
endfunction
function RPF takes unit it returns integer
if(GetUnitAbilityLevel(it,1093679447)==0)then
return 236+(150*GetUnitAbilityLevel(it,1093679413))
else
return 350+(150*GetUnitAbilityLevel(it,1093679447))
endif
endfunction
function RQF takes unit it returns integer
if(GetUnitAbilityLevel(it,1093679450)==0)then
return 236+(150*GetUnitAbilityLevel(it,1093677392))
else
return 332+(150*GetUnitAbilityLevel(it,1093679450))
endif
endfunction
function RRF takes unit it returns real
if((it==JH4)or(it==JK4)or(it==JO4)or(it==JR4)or(it==JQ4)or(it==JI4))then
return 50.
elseif((it==JG4)or(it==JJ4)or(it==JN4))then
return 100.
elseif((it==JM4)or(it==JP4))then
return 10.
elseif((it==J54)or(it==K44)or(it==K84)or(it==K94))then
return 230.
elseif((it==J14)or(it==J24)or(it==K74))then
return 270.
elseif(it==J_4)then
return 150.
else
return 180.
endif
endfunction
function RSF takes unit it returns real
local real RTF=DR8(UO7(GetHandleId(it),"TLLife1"),1.)-GetUnitState(it,UNIT_STATE_LIFE)
local real RUF=GetUnitState(it,UNIT_STATE_MAX_LIFE)
if(RUF==0)then
return 0.00
else
return(RTF/RUF)*100.0
endif
endfunction
function RVF takes unit it,real OJF,integer X5,integer o6 returns boolean
call MoveLocation(Ha,GetUnitX(it)+OJF*Cos(GetUnitFacing(it)*bj_DEGTORAD),GetUnitY(it)+OJF*Sin(GetUnitFacing(it)*bj_DEGTORAD))
return((SO7(260.,Ha,Condition(function k6))>0)and(TD7(it,X5,o6)))
endfunction
function RWF takes unit it,real OJF,boolexpr Ig returns boolean
call MoveLocation(Ha,GetUnitX(it)+OJF*Cos(GetUnitFacing(it)*bj_DEGTORAD),GetUnitY(it)+OJF*Sin(GetUnitFacing(it)*bj_DEGTORAD))
return SO7(260.,Ha,Ig)>0
endfunction
function RXF takes unit j5,unit m5 returns boolean
local integer I8=0
local item ja
local boolean jR=false
loop
set ja=UnitItemInSlot(j5,I8)
if((ja!=null)and(WI7(GetItemTypeId(ja))))then
set jR=UnitUseItemTarget(j5,ja,m5)
set I8=bj_MAX_INVENTORY
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set ja=null
return jR
endfunction
function RYF takes unit it returns boolean
local integer I8=0
local item ja
loop
set ja=UnitItemInSlot(it,I8)
if((ja!=null)and(ks(GetItemTypeId(ja))))then
set ja=null
return true
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set ja=null
return false
endfunction
function RZF takes unit j5 returns boolean
local integer I8=0
local item ja
local boolean jR=false
loop
set ja=UnitItemInSlot(j5,I8)
if((ja!=null)and(ks(GetItemTypeId(ja))))then
set GZ[224+GetPlayerId(GetOwningPlayer(j5))]=true
set jR=UnitUseItem(j5,ja)
set GZ[224+GetPlayerId(GetOwningPlayer(j5))]=false
set I8=bj_MAX_INVENTORY
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set ja=null
return jR
endfunction
function RAF takes unit j5,unit m5 returns boolean
local integer I8=0
local item ja=null
local location RBF=null
local boolean jR=false
if(W97(m5))then
return false
endif
loop
set ja=UnitItemInSlot(j5,I8)
if((ja!=null)and(GetItemTypeId(ja)==ZU[RW]))then
set RBF=kL(j5,m5,100.)
if(RBF!=null)then
set jR=UnitUseItemPointLoc(j5,ja,RBF)
if((jR)and(hq[512+GetPlayerId(GetOwningPlayer(j5))]<Bz))then
set hq[512+GetPlayerId(GetOwningPlayer(j5))]=Bz+1.
endif
endif
set I8=bj_MAX_INVENTORY
endif
set I8=I8+1
exitwhen I8>=bj_MAX_INVENTORY
endloop
set RBF=null
set ja=null
return jR
endfunction
function RCF takes nothing returns boolean
if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))then
return(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<=EI7)
endif
return false
endfunction
function R3F takes unit it,unit m5 returns nothing
if((it!=null)and(it!=GetTriggerUnit())and(is(it))and(IsUnitInRange(it,GetTriggerUnit(),1200.))and(GetUnitLifePercent(it)>50.))then
if(not IssuePointOrderById(it,852553,GetUnitX(m5)+5.,GetUnitY(m5)+5.))then
call IssueTargetOrderById(it,851983,m5)
endif
endif
endfunction
function R6F takes unit it,unit m5 returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(it))
if(hq[240+O5]<Bz)then
set GZ[O5]=true
if(CL7(it,m5,30/0.035,0,(GetUnitAbilityLevel(it,1093684802)+1)*250)!=null)and(J8(O5,S_7(it,852089,1093684802,GM7)))then
set hq[240+O5]=Bz+1.5
return true
endif
endif
return false
endfunction
function RLF takes nothing returns nothing
call AX7(GetEnumUnit())
endfunction
function R1F takes unit it,unit m5 returns boolean
local integer i1=GetUnitTypeId(it)
local integer O5=GetPlayerId(GetOwningPlayer(it))
local boolean J4=false
if(i1==1211117653)then
set J4=((Bz>TC4[16+O5])and AO7(it,LP4,LP4,LP4,1093686874)and(S27(it,852505,1093686874,m5)))or(((GetUnitState(it,UNIT_STATE_MANA))>400)and(Bz>TC4[112+O5])and AO7(it,LP4,LQ4,LR4,1093686861)and IssuePointOrderById(it,852215,GetUnitX(m5),GetUnitY(m5)))
elseif(i1==1160786505)then
set J4=(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))
elseif(i1==1160785970)then
set J4=(IsUnitInRange(it,m5,650.))and(GetUnitManaPercent(it)>60.)and(Bz>TC4[16+O5])and(TD7(it,852526,1093748023))
elseif(i1==1160786506)then
set J4=(IsUnitInRange(it,m5,795.))and(GetUnitAbilityLevel(it,1093751894)<3)and(GetUnitManaPercent(it)>70.)and(IssueTargetOrderById(it,852095,m5))
if(not J4)then
set J4=(IsUnitInRange(it,m5,795.))and(GetUnitAbilityLevel(it,1093752118)>0)and(GetUnitAbilityLevel(it,1093751894)>=3)and(((Bz>TC4[48+O5])and(GetUnitManaPercent(it)>55.)and(QL7(O5,it,1093751894,1093751637))and(IssueTargetOrderById(it,852095,m5)))or((GetUnitManaPercent(it)>20.)and(IssueTargetOrderById(it,852095,Y57(795.,it)))))
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
set J4=S27(it,852119,1093682994,m5)
elseif(i1==1429221424)then
set J4=(S27(it,852555,1093687351,m5))or(S27(it,OrderId("creepheal"),1093748789,m5))
elseif(i1==1430466609)then
set J4=S27(it,852527,1093685559,m5)
elseif(i1==1162032439)then
set J4=S27(it,OrderId("volcano"),1093744435,m5)
elseif(i1==1165451634)then
set J4=S27(it,OrderId("acidbomb"),1093687629,m5)
elseif(i1==1433168227)then
set J4=S27(it,852226,1093678918,m5)
elseif(i1==1430466865)then
set J4=S27(it,852125,1093677651,m5)
elseif(i1==1432642913)then
set J4=IssueTargetOrderById(it,852662,m5)
elseif(i1==1429221445)then
set J4=(IsUnitInRange(it,m5,400.))and(TD7(it,852526,1093678422))
elseif(i1==1332963428)then
set J4=S27(it,852119,1093683019,m5)
elseif(i1==1332109682)then
set J4=S27(it,852662,1093678134,m5)
elseif(i1==1211117640)then
set J4=(IsUnitInRange(it,m5,500.))and(IssueTargetOrderById(it,852089,m5))
elseif(i1==1430468406)then
set J4=S27(it,852218,kT(it),m5)
elseif(i1==1215063922)then
set J4=(S27(it,852580,1093677894,m5))or(S27(it,852095,1093681490,m5))
elseif(i1==1160786242)then
set J4=IssueTargetOrderById(it,852662,m5)
elseif(i1==1311780946)then
set J4=S27(it,852238,1093677385,m5)
elseif((i1==1211117650)or(i1==1211119433))then
set IN4=it
set J4=(SP7(1000.,it,Condition(function ny))>3)and(IssueTargetOrderById(it,852699,m5))
elseif(i1==1211117646)then
set J4=S27(it,852238,1093685573,m5)
elseif(i1==1211117624)then
set J4=(IsUnitInRange(it,m5,400.))and(TD7(it,852526,1093683024))
elseif(i1==1211117616)then
set J4=((IsUnitInRange(it,m5,200.))and(TD7(it,852127,1093677139)))or(S27(it,852231,1093816142,m5))
elseif(i1==1433631084)then
set J4=IssueTargetOrderById(it,852089,m5)
elseif(i1==1332898670)then
set J4=S27(it,852587,1093677360,m5)
elseif(i1==1215128178)then
set J4=(S27(it,852095,1093683779,m5))or(S27(it,852119,1093677616,m5))
elseif(i1==1316252014)then
set J4=(TD7(it,852526,1093678405))or(S27(it,852585,1093678137,m5))
elseif(i1==1328558160)then
set J4=(S27(it,852218,1093682766,m5))or(IssueTargetOrderById(it,852662,m5))
elseif(i1==1214931305)then
set J4=S27(it,OrderId("blizzard"),1093748025,m5)
elseif(i1==1211117633)then
set J4=S27(it,852095,1093684310,m5)
elseif(i1==1211117620)then
set J4=(S27(it,852125,1093677382,m5))or(S_7(it,852232,1093677623,C07(it,m5,.95,600.)))
elseif(i1==1311781185)then
set J4=IssueTargetOrderById(it,852662,m5)
elseif(i1==1160786000)then
set J4=S27(it,852218,1093685047,m5)
elseif(i1==1311781206)then
set J4=(IsUnitInRange(it,m5,500.))and(IssueImmediateOrderById(it,852600))
elseif(i1==1311780930)then
set J4=((IsUnitInRange(it,m5,350.))and(IssueImmediateOrderById(it,852600)))or(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))
elseif(i1==1311781174)then
set J4=S27(it,852218,1093808461,m5)
elseif(i1==1311781175 or i1==1311781442)then
set J4=(IsUnitInRange(it,m5,400.)and(TD7(it,852096,1093808462)))
elseif(i1==1160786520)then
set J4=S27(it,852184,1093809991,m5)
else
set J4=CRE(it,m5,true)
endif
return J4
endfunction
function R0F takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
if((G0[32+O5])or(not G0[128+O5])or(G0[O5]))then
elseif(h4[O5]==null)then
call CWE(O5,hz,false,false)
if(R57(GetEnumUnit()))then
call R1F(GetEnumUnit(),hz)
endif
elseif(R57(GetEnumUnit()))then
call R1F(GetEnumUnit(),hz)
endif
endfunction
function R5F takes unit ODF,unit OEF returns nothing
set hZ=ODF
set hz=OEF
if(GetWidgetLife(OEF)>1.)then
call GroupClear(iA)
call GroupEnumUnitsInRange(iA,GetUnitX(ODF),GetUnitY(ODF),1200.,iP)
call ForGroup(iA,function R0F)
endif
endfunction
function R2F takes unit IB,unit m5,boolean R_F returns nothing
if((m5==null)or(not S87(m5))or(not IsUnitType(m5,UNIT_TYPE_HERO))or(IsUnitAlly(m5,GetOwningPlayer(IB))))then
return
endif
set h4[GetPlayerId(GetOwningPlayer(IB))]=m5
call MQF(IB,m5)
if((not IsUnitInForce(IB,QX4))or(not R57(IB)))then
elseif((R_F)and(G0[128+GetPlayerId(GetOwningPlayer(IB))])and((not SE7(IB))or(SE7(m5))))then
call IssueTargetOrderById(IB,851983,m5)
elseif((SE7(IB))and(not SI7(m5,IB)))then
call S57(IB,851986,h9[GetPlayerId(GetOwningPlayer(IB))])
endif
endfunction
function S4F takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=null
local integer O5=GetPlayerId(GetOwningPlayer(j5))
local real S7F=Bz
local real QE7=Bz+4.5
local real S8F=Bz+7.5
local real HXF=775
local boolean SA7=false
local boolean S9F=Z17(Player(O5))
local real SDF=(80.+70.*GetUnitAbilityLevel(j5,1093750345))/5.
set hq[O5]=Bz+120.
if S9F then
call UW7(j5,"AlcheBrew")
if h4[O5]!=null then
set HXF=RE7(j5,h4[O5])
endif
endif
loop
call TriggerSleepAction(0.1)
if S9F then
if h4[O5]!=null then
if(not IsUnitInRange(j5,h4[O5],600.))then
exitwhen true
elseif(GetWidgetLife(h4[O5])<SDF*(Bz-S7F)*0.7)then
exitwhen true
endif
else
set bj_lastLoadedUnit=j5
if SP7(600.,j5,Condition(function WR7))==0 then
exitwhen true
endif
endif
endif
exitwhen((not S87(j5))or(Bz>QE7))
endloop
call O9F(j5,j5)
if not Z17(Player(O5))then
set j5=null
return
endif
if(S87(j5))then
set m5=h4[O5]
if(m5==null)or(not S87(m5))or(not IsUnitInRange(m5,j5,750.))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))then
set m5=Y27(775.,j5)
endif
loop
exitwhen(Bz>S8F)
if(m5==null)or(not S87(m5))or(not IsUnitInRange(m5,j5,750.))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))then
set m5=Y27(775.,j5)
endif
if m5!=null and((GetWidgetLife(m5)<SDF*((Bz-S7F)/5)*0.7)or(Bz>QE7))and IssueTargetOrderById(j5,852600,m5)then
call CWE(O5,m5,false,false)
exitwhen true
endif
if m5==null and SA7==false and Bz+2.>=S8F then
call CTE(j5,true)
set SA7=true
endif
call TriggerSleepAction(0.25)
endloop
endif
call UY7(j5,"AlcheBrew")
set j5=null
set m5=null
endfunction
function SEF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer O37=GetHandleId(t)
local unit it=LoadUnitHandle(L7,O37,1397899609)
local integer O5=LoadInteger(L7,O37,1397899609)
local real XR7
local boolean SFF=false
if GetTriggerEvalCount(t)>=15 then
call UA7(t)
call FlushChildHashtable(L7,O37)
else
if h4[O5]==null then
if h4[O5]==null then
endif
endif
set XR7=RE7(h4[O5],it)
if h4[O5]==null or(not IsUnitInRange(it,h4[O5],1400))or(((not R97(it,h4[O5],AsinBJ(0.7*GetUnitMoveSpeed(h4[O5])/XR7)))and GetTriggerEvalCount(t)>12)or GetUnitLifePercent(it)<20.)then
set SFF=IssueImmediateOrderById(it,852217)
if SFF then
call UA7(t)
call FlushChildHashtable(L7,O37)
set it=null
set t=null
return false
endif
else
if not(R97(it,h4[O5],Asin(100/XR7)*bj_RADTODEG))then
set SFF=IssueTargetOrderById(it,851971,h4[O5])
endif
if XR7>950. then
call IssueImmediateOrderById(it,852177)
elseif XR7<=300. then
call IssueImmediateOrderById(it,852178)
endif
endif
endif
set it=null
set t=null
return false
endfunction
function SGF takes integer O5,unit j5 returns nothing
local trigger t=CreateTrigger()
local integer O37=GetHandleId(t)
call TriggerAddCondition(t,Condition(function SEF))
call TriggerRegisterTimerEvent(t,0.4,true)
call SaveInteger(L7,O37,1397899609,O5)
call SaveUnitHandle(L7,O37,1397899609,j5)
set t=null
endfunction
function SHF takes nothing returns boolean
local unit j5=GetTriggerUnit()
local unit m5=GetOrderTargetUnit()
local integer i1=GetUnitTypeId(GetTriggerUnit())
local location b5=null
local boolean J4=false
if((i1==1162032181)and(GetUnitLifePercent(m5)<55.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,700.))and(not W97(m5))and(SP7(800.,m5,Condition(function WP7))<2)and(SP7(800.,m5,Condition(function WY7))==0)and(not IC(GetPlayerId(GetOwningPlayer(j5)))))then
set b5=kL(j5,m5,150.)
set J4=(b5!=null)and(IssuePointOrderByIdLoc(j5,852218,b5))
elseif((i1==1164207469)and(GetUnitLifePercent(m5)<75.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,800.))and(not W97(m5))and(SP7(800.,m5,Condition(function WP7))<2)and(SP7(800.,m5,Condition(function WY7))==0)and(not IC(GetPlayerId(GetOwningPlayer(j5)))))then
set b5=kL(j5,m5,200.)
set J4=(b5!=null)and(IssuePointOrderByIdLoc(j5,852525,b5))
elseif(((i1==1429221441)or(i1==1165451634)or(i1==1212365106))and(GetUnitLifePercent(m5)<75.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,700.))and(not W97(m5))and(SP7(800.,m5,Condition(function WP7))<2)and(SP7(800.,m5,Condition(function WY7))==0)and(kJ(GetUnitX(m5),GetUnitY(m5)))and(not IC(GetPlayerId(GetOwningPlayer(j5)))))then
set J4=IssueTargetOrderById(j5,852600,m5)
elseif((i1==1328558154)and(not IsUnitInRange(m5,j5,700.))and(((SP7(900.,m5,Condition(function WP7))<=2)and(SR7(j5,ZU[J1]))or(SR7(j5,ZU[T2])))or((SP7(900.,m5,Condition(function WP7))<2)))and(GetUnitLifePercent(m5)<70.))then
set J4=S27(j5,OrderId("channel"),1093750840,m5)
elseif((i1==1429221446)and(GetUnitLifePercent(m5)<80.)and(not IsUnitInRange(j5,m5,300.)))then
set J4=(Bz>hq[16+GetPlayerId(GetOwningPlayer(j5))])and(CPE(j5,m5))
elseif((i1==1430466865)and(GetUnitAbilityLevel(j5,1110454357)==0)and((hq[416+GetPlayerId(GetOwningPlayer(j5))]>Bz)or(h4[GetPlayerId(GetOwningPlayer(j5))]==m5))and(not IsUnitInRange(j5,m5,200.)))then
set J4=S27(j5,852066,1093677879,j5)
endif
if((not J4)and(WF7(j5))and(SR7(j5,ZU[RW]))and(not IC(GetPlayerId(GetOwningPlayer(j5))))and(GetUnitLifePercent(m5)<50.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,700.))and(SP7(800.,m5,Condition(function WP7))<2)and(SP7(800.,m5,Condition(function WY7))==0))then
set J4=RAF(j5,m5)
endif
set j5=null
set m5=null
set b5=null
return J4
endfunction
function SIF takes integer O5,unit j5,boolean SJF returns nothing
call DisableTrigger(Q04[O5])
call DisableTrigger(Q04[16+O5])
if(SJF)then
call PauseUnit(j5,true)
call IssueImmediateOrderById(j5,851972)
call PauseUnit(j5,false)
endif
set G0[272+O5]=true
call J3(j5,true)
set G0[272+O5]=false
call EnableTrigger(Q04[O5])
call EnableTrigger(Q04[16+O5])
endfunction
function SKF takes nothing returns boolean
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if O5==0 or O5==6 or O5>11 then
return false
endif
set eY[464+O5]=GetIssuedOrderId()
set h4[336+O5]=null
set eY[480+O5]=0
set eY[496+O5]=0
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER then
set h4[336+O5]=GetOrderTargetUnit()
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER then
set eY[480+O5]=R2I(GetOrderPointX())
set eY[496+O5]=R2I(GetOrderPointY())
endif
return false
endfunction
function SMF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit()))and((GetIssuedOrderId()>852000)or(GetIssuedOrderId()==851983)))
endfunction
function SNF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=null
local integer X5=GetIssuedOrderId()
local integer i1=GetUnitTypeId(j5)
local integer O5=GetPlayerId(GetOwningPlayer(j5))
local boolean SOF=false
local integer SPF
local boolean J4
if(GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)then
set m5=GetOrderTargetUnit()
if(m5!=null)then
if(not S87(m5))then
call SIF(O5,j5,false)
set SOF=true
elseif((X5==852125)or(X5==852555)or(X5==852089)or(X5==852218)or(X5==852652))then
if((GetUnitAbilityLevel(m5,1113815395)>0)or(GetUnitAbilityLevel(m5,1113815346)>0))then
call SIF(O5,j5,false)
set SOF=true
endif
elseif((X5==852600)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(W97(m5)))then
call SIF(O5,j5,false)
set SOF=true
elseif((X5==851983)and(GetUnitAbilityLevel(m5,1110454854)>0))then
call SIF(O5,j5,false)
set SOF=true
endif
if((not SOF)and(X5>=852000))then
if((GetUnitAbilityLevel(j5,1110455126)>0)and(GetUnitManaPercent(j5)>40.)and((h4[O5]==null)or(IsUnitAlly(m5,GetOwningPlayer(j5)))or(not IsUnitType(m5,UNIT_TYPE_HERO))))then
call SIF(O5,j5,false)
set SOF=true
elseif((GetUnitAbilityLevel(j5,1110454607)>0)and(SE7(j5)))then
call SIF(O5,j5,false)
set SOF=true
endif
endif
if((not SOF)and(X5==851983)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5))))then
call MoveLocation(HC[48+O5],GetUnitX(m5),GetUnitY(m5))
call DisableTrigger(Q04[O5])
set SOF=(GetHeroLevel(j5)>5)and(G0[128+O5])and(GetUnitAbilityLevel(j5,1112045413)==0)and(SHF())
call EnableTrigger(Q04[O5])
endif
else
set SOF=true
endif
if((X5==851983)and(not SOF))then
set GZ[48+O5]=IsUnitType(m5,UNIT_TYPE_HERO)
set h4[80+O5]=m5
set SOF=true
endif
if(SOF)then
set m5=null
set j5=null
return
endif
call MoveLocation(HC[48+O5],GetUnitX(m5),GetUnitY(m5))
else
if((X5>=852008)and(X5<=852013))then
set SPF=GetItemTypeId(UnitItemInSlot(j5,X5-852008))
if((SPF==ZU[YC])or(SPF==ZU[XC])or(SPF==ZU[F6]))then
set SOF=true
endif
elseif(X5==851983)then
set SOF=true
set GZ[48+O5]=false
elseif(X5>=852000)then
if((GetUnitAbilityLevel(j5,1110455126)>0)and(GetUnitManaPercent(j5)>40.)and(h4[O5]==null))then
call SIF(O5,j5,false)
set SOF=true
elseif((GetUnitAbilityLevel(j5,1110454607)>0)and(SE7(j5)))then
call SIF(O5,j5,false)
set SOF=true
endif
endif
if(SOF)then
set m5=null
set j5=null
return
endif
call MoveLocation(HC[48+O5],GetOrderPointX(),GetOrderPointY())
endif
if((X5>=852008)and(X5<=852013))then
set X5=WG7(j5)
set J4=true
if((X5==ZU[RW])or(X5==ZU[F6])or(X5==ZU[S6])or(X5==ZU[YC])or(X5==ZU[XC])or(X5==ZU[WC])or((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))))then
if((X5==ZU[Q1])and((not SE7(j5))or((UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)>0)))and(not i2(m5))and(GetUnitAbilityLevel(m5,1110454329)==0)and(GetUnitAbilityLevel(m5,1110454338)==0)and(GetUnitAbilityLevel(m5,1110454597)==0)and(GetUnitAbilityLevel(m5,1110454608)==0))then
set J4=false
elseif(WI7(X5))then
if((((i1!=1429221445)and(GetUnitLifePercent(m5)>50.))or(GetUnitLifePercent(m5)>75.))and(GetUnitAbilityLevel(m5,1110454606)==0)and(GetUnitAbilityLevel(m5,1110455624)==0))then
set J4=false
elseif((i1==1429221424)and(GetUnitAbilityLevel(j5,1110454347)>0))then
set J4=false
endif
elseif((X5==ZU[QC])and((GetUnitAbilityLevel(m5,1110454874)>0)or(m5!=j5)or(RE7(j5,TG7(j5))<4500.)or(SP7(1200.,m5,Condition(function k0))>0)))then
set J4=false
elseif((X5==ZU[RW])and(GetUnitAbilityLevel(j5,1110455863)>0))then
set J4=false
endif
elseif((X5==ZU[D1]or X5==ZU[E1])or(X5==ZU[J1]))then
if((GetOwningPlayer(m5)==Z7[0])or(GetOwningPlayer(m5)==A7[0]))then
set J4=false
elseif(GetOwningPlayer(m5)==Player(12))then
set X5=GetUnitTypeId(m5)
if((X5!=1852796263)and(X5!=1852207203)and(X5!=1853060200)and(X5!=1852010091))then
set J4=false
endif
else
set X5=GetUnitTypeId(m5)
if((X5==1966092339)or(X5==1966092341)or(X5==1966092345))then
set J4=false
endif
endif
else
set J4=false
endif
if not J4 then
call PauseUnit(j5,true)
call IssueImmediateOrderById(j5,851972)
call PauseUnit(j5,false)
call W87(O5,j5,0)
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if((X5==852111)and((GetUnitAbilityLevel(j5,1110455126)>0)or((not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_SUMMONED)))))then
call W87(O5,j5,1093747028)
endif
elseif(i1==1160786506)then
if((X5==852089)and(not GZ[O5]))then
call W87(O5,j5,1093751637)
endif
elseif(i1==1429221443)then
if((X5==852119)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093744948)
elseif(X5==852600)then
endif
elseif(i1==1162032951)then
if((X5==852527)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((not SE7(j5))and((R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(400*GetUnitAbilityLevel(j5,1093679152)))or(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(460*GetUnitAbilityLevel(j5,1093752154)))))))then
call J6(O5,j5,1093679152,1093752154)
endif
elseif(i1==1162032181)then
if((X5==852652)and((not GZ[O5])or(SO7(380.,HC[48+O5],Condition(function WP7))==0)))then
call W87(O5,j5,1093683761)
endif
elseif(i1==1429221424)then
if((X5==OrderId("creepheal"))and((not IsUnitType(m5,UNIT_TYPE_HERO))or((R2I(GetUnitState(j5,UNIT_STATE_MANA))<(200+(50*GetUnitAbilityLevel(j5,1093679445))))and(not SE7(m5)))or(GetUnitState(m5,UNIT_STATE_MANA)<100.)or(GetUnitAbilityLevel(j5,1110454347)>0)))then
call W87(O5,j5,1093748789)
elseif(X5==852555)then
if(((not GZ[O5])or(GetUnitAbilityLevel(j5,1110454347)>0)or(not IsUnitType(m5,UNIT_TYPE_HERO)))and((SO7(1500.,HC[48+O5],Condition(function WP7))>0)or(GetUnitManaPercent(j5)<60.)or(GetHeroLevel(j5)<6)))then
call W87(O5,j5,1093687351)
endif
endif
elseif(i1==1432646245)then
if((X5==852095)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((L_7())and(GetUnitLifePercent(m5)>80.))))then
call W87(O5,j5,1093677640)
elseif((X5==852585)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093679171)
endif
elseif(i1==1430466609)then
if((X5==852125)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SO7(600.,HC[48+O5],Condition(function k3))<6))then
call J6(O5,j5,1093810258,1093810259)
elseif((X5==852527)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093685559)
elseif(X5==852525)then
if(hq[512+O5]<Bz)then
set hq[512+O5]=Bz+1.
endif
endif
elseif(i1==1430468913)then
if((X5==852149)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093677876)
endif
elseif(i1==1430467634)then
if((X5==852231)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((R2I(GetUnitState(j5,UNIT_STATE_MANA))<(200+(50*ROF(j5))))and(not i2(m5))and(not SE7(m5)))))then
call W87(O5,j5,1093679412)
elseif((X5==852583)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((not SE7(j5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(350+(350*ROF(j5)))))))then
call J6(O5,j5,1093684565,1093681458)
elseif((X5==OrderId("channel"))and(GetUnitManaPercent(j5)<45.))then
call W87(O5,j5,1093742674)
endif
elseif(i1==1313026096)then
if((X5==852095)and(not SE7(m5))and(not SE7(j5))and((GetUnitAbilityLevel(j5,1110455126)>0)or(not IsUnitType(m5,UNIT_TYPE_HERO))or(R2I(GetUnitState(j5,UNIT_STATE_MANA))<(250+(50*GetUnitAbilityLevel(j5,1093677401))))))then
call W87(O5,j5,1095267426)
endif
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if((X5==852189)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitLifePercent(j5)+10.>GetUnitLifePercent(m5))))then
call W87(O5,j5,1093678929)
elseif(X5==852189)then
call RemoveGuardPosition(j5)
endif
elseif(i1==1164666213)then
if(X5==852224)then
call W87(O5,j5,1093678679)
elseif(X5==852119)then
call W87(O5,j5,1093678678)
endif
elseif(i1==1433168227)then
if((X5==852066)and((GetUnitLifePercent(m5)<50.)or(GetUnitManaPercent(j5)>80.)))then
call W87(O5,j5,1093678387)
elseif((X5==852227)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))then
call J6(O5,j5,1093678420,1093679176)
elseif((X5==852225)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093679186)
endif
elseif(i1==1429221430)then
if(X5==852224)then
call W87(O5,j5,1093681735)
elseif(X5==852601)then
call W87(O5,j5,1093681736)
endif
elseif(i1==1430466872)then
if((X5==852502)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093684558)
elseif((X5==852119)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))then
call J6(O5,j5,1093679413,1093679447)
elseif((X5==852487)and((IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitManaPercent(j5)>70.)))then
call W87(O5,j5,1093677646)
endif
elseif(i1==1162032439)then
if((X5==OrderId("volcano"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093744435)
endif
elseif(i1==1430466865)then
if((X5==852066)and(not kQ(j5))and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitAbilityLevel(m5,1110454357)>0)or(SO7(800.,HC[48+O5],Condition(function k3))==0)or(R2I(GetUnitState(j5,UNIT_STATE_MANA))<(140+(GetUnitAbilityLevel(j5,1093810508)*100)))))then
call W87(O5,j5,1093677879)
elseif(X5==852218)and(not GZ[O5])then
call W87(O5,j5,1093751364)
endif
elseif(i1==1430468144)then
if((X5==852189)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093679192)
endif
elseif(i1==1429221441)then
if((X5==852231)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093678389)
elseif(X5==852600)then
if(hq[512+O5]<Bz)then
set hq[512+O5]=Bz+1.
endif
endif
elseif(i1==1165451634)then
if((X5==OrderId("acidbomb"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093687629)
elseif(X5==852600)then
if(hq[512+O5]<Bz)then
set hq[512+O5]=Bz+1.
endif
endif
elseif(i1==1215722344)then
if((X5==852668)and(j5!=m5)and(not(QS7(GetUnitTypeId(m5),F77))))then
call W87(O5,j5,1093682499)
elseif((X5==852231)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))then
call W87(O5,j5,1093684296)
endif
elseif(i1==1332766568)then
if((X5==852119)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(150+(150*GetUnitAbilityLevel(j5,1093682482))))or(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(150+(150*GetUnitAbilityLevel(j5,1093750098)))))))then
call J6(O5,j5,1093682482,1093750098)
endif
elseif(i1==1328558154)then
if((X5==OrderId("channel")))then
set hq[O5]=Bz+41.
call R47(1.)
endif
elseif(i1==1160786502)then
if(X5==852600)then
set UH4[O5]=true
endif
elseif(i1==1429221446)then
if((X5==852480)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call J6(O5,j5,1093682764,1093747544)
endif
elseif(i1==1429221445)then
if((X5==852095)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitLifePercent(m5)>60.)))then
call J6(O5,j5,1093678647,1093679184)
endif
elseif(i1==1332963428)then
if((X5==852227)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093678169)
elseif((X5==852119)and(not kQ(j5))and(GetUnitLifePercent(j5)>70.)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
if((GetUnitLifePercent(j5)>90.)or(SO7(1200.,HC[48+O5],Condition(function WP7))>0)or(GetUnitManaPercent(j5)<70.))then
call W87(O5,j5,1093683019)
endif
elseif((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093816137)
elseif((X5==852480)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093677649)
endif
elseif(i1==1332109682)then
if((X5==852662)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093678134)
endif
elseif(i1==1211117640)then
if((X5==852486)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093681989)
elseif((X5==852487)and(((not IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(j5)>70.))or(not IsUnitInRange(j5,m5,500.))))then
call J6(O5,j5,1093681987,1093677658)
endif
elseif(i1==1430468406)then
if((X5==852592)and(SO7(250.,HC[48+O5],Condition(function WP7))==0))then
call W87(O5,j5,kS(j5))
endif
elseif(i1==1160786241)then
if((X5==852119)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SO7(200.,HC[48+O5],Condition(function WP7))==0))then
if((SO7(1200.,HC[48+O5],Condition(function WP7))>0)or(GetHeroLevel(j5)<6)or(GetUnitManaPercent(j5)<70.))then
call W87(O5,j5,1093684813)
endif
elseif((X5==852089)and(SO7(100.,HC[48+O5],Condition(function WP7))==0))then
call W87(O5,j5,1093684815)
elseif((X5==852597)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SO7(400.,HC[48+O5],Condition(function WP7))==0))then
call J6(O5,j5,1093684820,1093684824)
endif
elseif(i1==1429221456)then
if((X5==852119)and(not GZ[O5])and((not IsUnitType(m5,UNIT_TYPE_HERO))or((not SE7(j5))and(not i2(m5)))))then
call W87(O5,j5,1093685066)
elseif((X5==852089)and(GetUnitAbilityLevel(j5,1093685067)>0)and(SO7(250+(100*GetUnitAbilityLevel(j5,1093685067)),HC[48+O5],Condition(function WP7))==0))then
call J6(O5,j5,1093685067,1093752407)
elseif((X5==852089)and(GetUnitAbilityLevel(j5,1093752407)>0)and(SO7(350+(100*GetUnitAbilityLevel(j5,1093685067)),HC[48+O5],Condition(function WP7))==0))then
call J6(O5,j5,1093685067,1093752407)
endif
elseif(i1==1160786243)then
if((X5==852089)and(not GZ[O5]))then
call W87(O5,j5,1093678672)
elseif((X5==852224)and(not GZ[O5]))then
call W87(O5,j5,1395667000)
endif
elseif((i1==1211117641)or(i1==1211117642))then
if(X5==852089)then
call W87(O5,j5,1093684802)
endif
elseif(i1==1311781207)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093684817)
endif
elseif(i1==1311780946)then
if((X5==852488)and(not GZ[O5]))then
call W87(O5,j5,1093685825)
elseif((X5==852526)and(not GZ[O5]))then
call W87(O5,j5,1093810232)
endif
elseif(i1==1211117646)then
if((X5==852101)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093685815)
endif
elseif(i1==1160785973)then
if((X5==852231)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093678130)
endif
elseif(i1==1315988077)then
if((X5==852585)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1097032808)
endif
elseif(i1==1211117616)then
if((X5==852231)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(40+(125*(GetUnitAbilityLevel(j5,1093816142)))))))then
call W87(O5,j5,1093816142)
endif
elseif(i1==1315074670)then
if((X5==852592)and(SO7(250.,HC[48+O5],Condition(function WP7))==0))then
call W87(O5,j5,1093685570)
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093681490)
endif
elseif(i1==1164207469)then
if((X5==852095)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((GetUnitManaPercent(m5)>15.)and(GetUnitState(m5,UNIT_STATE_LIFE)>((GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))*(.35+(I2R(GetUnitAbilityLevel(j5,1093682483))*.25)))))))then
call W87(O5,j5,1093682483)
elseif(X5==852525)then
if(hq[512+O5]<Bz)then
set hq[512+O5]=Bz+1.
endif
endif
elseif(i1==1433631084)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093678160)
endif
elseif(i1==1214345830)then
if((X5==852225)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((GetUnitLifePercent(m5)>80.)and(not GZ[64+O5]))))then
if((GetUnitLifePercent(m5)>95.)or(SO7(1500.,HC[48+O5],Condition(function WP7))>0)or(GetUnitManaPercent(j5)<70.))then
call W87(O5,j5,1093679182)
endif
elseif((X5==852186)and(not GZ[O5])and((GetUnitLifePercent(m5)>75.)or(not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitState(m5,UNIT_STATE_LIFE)>GetUnitState(j5,UNIT_STATE_LIFE))))then
call W87(O5,j5,1093679190)
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
if(X5==852218)then
call W87(O5,j5,1093808461)
endif
elseif(i1==1315007329)then
if((X5==852095)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitManaPercent(j5)<40.)))then
call W87(O5,j5,1093677108)
elseif((X5==852149)and(GetUnitLifePercent(m5)>60.)and(not SE7(j5)))then
call W87(O5,j5,1093681716)
endif
elseif(i1==1332898670)then
if((X5==852502)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093685848)
elseif((X5==852480)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))then
call W87(O5,j5,1093677136)
elseif((X5==852504)and(not GZ[O5]))then
call J6(O5,j5,1093677128,1093681457)
endif
elseif(i1==1215723364)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093677633)
elseif((X5==852587)and((not GZ[O5])or(W97(m5))))then
call J6(O5,j5,1093683534,1093747031)
endif
elseif(i1==1215128178)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093683779)
endif
elseif(i1==1164799855)then
if((X5==852075)and((GetOwningPlayer(m5)==Z7[0])or(GetOwningPlayer(m5)==A7[0])))then
call W87(O5,j5,1093682264)
endif
elseif(i1==1433105516)then
if((X5==OrderId("cannibalize"))and(SO7(400.,HC[48+O5],Condition(function WP7))==0))then
call W87(O5,j5,0)
endif
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
if((X5==OrderId("acidbomb"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093742680)
elseif((X5==OrderId("acolyteharvest"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093742898)
endif
elseif(i1==1316252014)then
if((X5==852585)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093678137)
endif
elseif(i1==1164799603)then
if((X5==OrderId("carrionswarm"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093808453)
elseif((X5==852119)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
if((SO7(1200.,HC[48+O5],Condition(function WP7))>0)or(GetUnitManaPercent(j5)<40.))then
call J6(O5,j5,1093752632,1093752633)
endif
endif
elseif(i1==1328558160)then
if((X5==852218)and(not GZ[O5])and(not SE7(j5))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093682766)
elseif((X5==852274)and(((IsUnitEnemy(m5,GetOwningPlayer(j5)))and(m5!=h4[O5]))or(GetUnitAbilityLevel(j5,1093683011)>0)))then
call W87(O5,j5,1093683000)
endif
elseif(i1==1212363833)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call J7(O5,j5,1093809220)
endif
elseif(i1==1315070563)then
if((X5==852095)and(not SE7(j5))and((not IsUnitType(m5,UNIT_TYPE_HERO))or((SO7(600.,HC[48+O5],Condition(function WP7))*2)<SO7(600.,HC[48+O5],Condition(function k3)))))then
call J6(O5,j5,1093684529,1093747032)
endif
elseif(i1==1214931305)then
if((X5==852171)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093678147)
endif
elseif(i1==1212365106)then
if((X5==852089)and(not GZ[64+O5])and(SO7(200+(50*GetUnitAbilityLevel(j5,1093685831)),HC[48+O5],Condition(function WP7))==0))then
if((GetUnitManaPercent(j5)<70.)or(GetHeroLevel(j5)<6)or(SO7(1500.,HC[48+O5],Condition(function WP7))>0))then
call W87(O5,j5,1093685831)
endif
elseif(X5==852600)then
if(hq[512+O5]<Bz)then
set hq[512+O5]=Bz+1.
endif
endif
elseif(i1==1211117617)then
if((X5==OrderId("acidbomb"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093744944)
endif
elseif(i1==1211117633)then
if((X5==852095)and((GetOwningPlayer(m5)==Z7[0])or(GetOwningPlayer(m5)==A7[0])or((IsUnitAlly(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))))then
call W87(O5,j5,1093684310)
elseif((X5==852131)and((GetOwningPlayer(m5)==Z7[0])or(GetOwningPlayer(m5)==A7[0])))then
if((GetHeroLevel(j5)<20)or(IH(GetOwningPlayer(j5),Condition(function C59))>0))then
call W87(O5,j5,1093810260)
endif
elseif((X5==852585)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093684045)
endif
elseif(i1==1211117620)then
if((X5==852232)and(not GZ[64+O5])and(SO7(150.,HC[48+O5],Condition(function WP7))==0))then
call W87(O5,j5,1093677623)
elseif((X5==852119)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitLifePercent(m5)>80.)))then
call J6(O5,j5,1093677392,1093679450)
endif
elseif(i1==1333027688)then
if((X5==OrderId("channel"))and((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO)))and(SO7(200.,HC[48+O5],Condition(function WP7))==0))then
if((SO7(1500.,HC[48+O5],Condition(function WP7))>0)or(GetHeroLevel(j5)<6)or(GetUnitManaPercent(j5)<70.))then
call W87(O5,j5,1093686091)
endif
endif
elseif(i1==1211117643)then
if(X5==852278)then
call W87(O5,j5,1093678410)
elseif(X5==852114)then
call W87(O5,j5,1093678664)
elseif(X5==852040)then
call W87(O5,j5,1093678658)
elseif(X5==852504)then
call J6(O5,j5,1093681483,1093748313)
elseif(X5==852119)then
call W87(O5,j5,1093752646)
endif
elseif(i1==1215130471)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,WK7(j5))
elseif((X5==852600)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093815121)
elseif((X5==852101)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,WN7(j5))
endif
elseif(i1==1332179560)then
if((X5==OrderId("acidbomb"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093742660)
endif
elseif(i1==1214344551)then
if((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093809742)
endif
elseif(i1==1211117636)then
if((X5==852218)and(not GZ[O5])and((GetUnitManaPercent(j5)<30.)or(IsUnitInRangeLoc(j5,HC[48+O5],600.)))and((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO))))then
call W87(O5,j5,1093685041)
elseif((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call J6(O5,j5,1093685042,1093810233)
endif
elseif(i1==1160786000)then
if((X5==852218)and((GetUnitManaPercent(j5)<60.)or(GetHeroLevel(j5)<6))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093685047)
elseif((X5==852580)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SO7(200.,HC[48+O5],Condition(function WP7))==0))then
call W87(O5,j5,1093685046)
elseif((X5==852125)and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093685045)
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
if((X5==852089)and(GetUnitManaPercent(j5)<40.)and((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO))))then
call W87(O5,j5,1093683532)
endif
elseif(i1==1211117651)then
if((X5==852218))then
call W87(O5,j5,1093743695)
elseif((X5==852119))then
call W87(O5,j5,1093743698)
endif
elseif(i1==1311780930)then
if((X5==852089)and(not GZ[O5]))then
call J6(O5,j5,1093686072,1093751120)
endif
elseif(((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517)))then
if((X5==852119)and(not GZ[O5]))then
call W87(O5,j5,1093815130)
endif
elseif((i1==1211117650)or(i1==1211119433))then
if(X5==852089)then
call W87(O5,j5,1093743955)
endif
elseif(i1==1211119187)then
if(X5==852089)then
call W87(O5,j5,1093743414)
elseif(X5==852662)then
call W87(O5,j5,1093742923)
endif
elseif(i1==1311786311)then
if(X5==852119)then
call W87(O5,j5,1093743178)
endif
elseif(i1==1328558390)then
if(X5==852089)then
call W87(O5,j5,1093748044)
elseif(X5==852119)then
call W87(O5,j5,1093744975)
elseif(X5==852218)then
call W87(O5,j5,1093744982)
endif
elseif(i1==1160786510)then
if(X5==852119)then
call W87(O5,j5,1093751633)
elseif(X5==852089)then
call J6(O5,j5,1093751861,1093808949)
endif
elseif(i1==1160786504)then
if(X5==852119)then
call W87(O5,j5,1093751608)
elseif(X5==852089)then
call W87(O5,j5,1093751618)
elseif(X5==852111)then
call W87(O5,j5,1093751617)
endif
elseif(i1==1328558406)then
if(X5==852119)then
call W87(O5,j5,1093751873)
endif
elseif(i1==1160786520)then
if((X5==852184)and((GetUnitManaPercent(j5)<60.)or(GetHeroLevel(j5)<6))and(not IsUnitType(m5,UNIT_TYPE_HERO)))then
call W87(O5,j5,1093809991)
elseif((X5==852214)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SO7(200.,HC[48+O5],Condition(function WP7))==0))then
call W87(O5,j5,1093809990)
endif
elseif(i1==1311781185)then
if(X5==852089)then
call W87(O5,j5,1093743692)
endif
elseif(i1==1311788336)then
if(X5==852089)then
call W87(O5,j5,1093814320)
endif
elseif(i1==1160786507)then
if(X5==852089)then
call W87(O5,j5,1093814850)
endif
elseif(i1==1211122767)then
if(X5==852119)then
call W87(O5,j5,1093812805)
elseif(X5==852668)then
call W87(O5,j5,1093814350)
endif
endif
set j5=null
set m5=null
endfunction
function SQF takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit()))and(GetIssuedOrderId()>852000))
endfunction
function SRF takes nothing returns nothing
local integer i=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
if(GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)then
call MoveLocation(HC[i],GetUnitX(GetOrderTargetUnit()),GetUnitY(GetOrderTargetUnit()))
set i=GetIssuedOrderId()-852008
if((i>=0)and(i<6)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_NONE)and(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))then
set i=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),i))
if((i==ZU[Q1])or(i==ZU[D1])or(i==ZU[E1])or(i==ZU[F1])or(i==ZU[H1]))then
call IssueTargetOrderById(GetTriggerUnit(),851983,GetOrderTargetUnit())
endif
endif
else
call MoveLocation(HC[i],GetOrderPointX(),GetOrderPointY())
endif
endfunction
function SSF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local integer X5=GetIssuedOrderId()
local integer i1=GetUnitTypeId(j5)
local integer O5=GetPlayerId(GetOwningPlayer(j5))
if((X5>=852000)and(X5<854000))then
if((GetUnitAbilityLevel(j5,1110454607)>0)and(SE7(j5)))then
call J3(j5,true)
set j5=null
return
endif
endif
call MoveLocation(HC[48+O5],GetUnitX(j5),GetUnitY(j5))
if((X5>=852008)and(X5<=852013))then
set X5=WG7(j5)
if((X5==ZU[P1])and(Bz>hq[64+O5])and(not GZ[224+O5]))then
call SIF(O5,j5,true)
elseif((X5==ZU[D44])and((Bz+20.)>hq[O5])and(Bz>hq[48+O5]))then
call SIF(O5,j5,true)
elseif((X5==ZU[T1])and(not GZ[64+O5])and((UP7(GetHandleId(j5),"Mekansm"))or(GetUnitLifePercent(j5)>80.)))then
call SIF(O5,j5,true)
elseif((X5==ZU[DP4])and(SO7(900.,HC[48+O5],Condition(function WP7))==0))then
call SIF(O5,j5,true)
elseif((X5==ZU[AL])and(TA4==false))then
call SIF(O5,j5,true)
elseif((X5==ZU[DT4]or X5==ZU[ZA])and(GetUnitState(j5,UNIT_STATE_LIFE)>150)and(GetItemCharges(UnitItemInSlot(j5,GetIssuedOrderId()-852008))<8))then
call SIF(O5,j5,true)
elseif((X5==ZU[B3])and(not GZ[64+O5])and((GetUnitAbilityLevel(j5,1113875814)>0)or(GetUnitManaPercent(j5)<75.)or(GetHeroLevel(j5)<3)))then
call SIF(O5,j5,true)
elseif((SW7(X5))and(not GZ[224+O5])and(G0[128+O5]))then
call SIF(O5,j5,true)
elseif(((X5==ZU[R5])or(X5==ZU[S5])or(X5==ZU[T5])or(X5==ZU[Y0])))then
if((i1==1429221424)and(GetUnitAbilityLevel(j5,1110454347)>0))then
call SIF(O5,j5,true)
elseif((not GZ[224+O5])and(GetHeroLevel(j5)<13)and(iy(j5))and(eY[O5]==1)and(not G0[32+O5]))then
call SIF(O5,j5,true)
endif
elseif((X5==ZU[DV4])and((TB4==false)and(h4[O5]==null)))then
call SIF(O5,j5,true)
endif
elseif(i1==1160785970)then
if((X5==852526)and((not GZ[O5])or(SO7(789.,HC[48+O5],Condition(function WP7))==0)))then
call J7(O5,j5,1093748023)
endif
elseif(i1==1429221443)then
if((X5==852273)and(SO7(800.,HC[48+O5],Condition(function WP7))==0))then
call J7(O5,j5,1093686322)
endif
elseif(i1==1162032951)then
if((X5==852100)and((not GZ[O5])or(GetUnitLifePercent(j5)<50.))and((SO7(1500.,HC[48+O5],Condition(function WP7))>0)or(GetUnitManaPercent(j5)<70.)or(GetUnitLifePercent(j5)<80.)))then
call J7(O5,j5,1093678404)
endif
elseif(i1==1429221424)then
if((X5==852129)and(not GZ[O5]))then
call J7(O5,j5,1093679445)
elseif(X5==852526)then
call J7(O5,j5,1093815119)
endif
elseif(i1==1430468913)then
if((X5==852100)and(not GZ[O5]))then
call J7(O5,j5,1093678403)
elseif(X5==852164)then
call J7(O5,j5,1093810507)
endif
elseif(i1==1164277353)then
if((X5==852663)and(not GZ[O5]))then
call J7(O5,j5,1093751369)
endif
elseif(i1==1164666213)then
if(X5==852100)then
call J6(O5,j5,1093808454,1093808455)
call J7(O5,j5,1093808456)
elseif(X5==852594)then
call J7(O5,j5,1093677877)
endif
elseif(i1==1429221430)then
if((X5==852164)and(not SE7(j5))and(SO7(400.,HC[48+O5],Condition(function WP7))==0))then
call J7(O5,j5,1093687121)
endif
elseif(i1==1162032439)then
if((X5==852594)and(not GZ[O5]))then
call J7(O5,j5,1093681462)
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093677363,false)
endif
elseif(i1==1430466865)then
if((X5==852127)and(SO7(420.,HC[48+O5],Condition(function WP7))==0))then
call J7(O5,j5,1093810508)
endif
elseif((i1==1429221432)or(i1==1160786229))then
if((X5==852126)and(GetUnitManaPercent(j5)<65.)and(SO7(500.,HC[48+O5],Condition(function WP7))==0))then
call J7(O5,j5,1093677892)
elseif((X5==852180)and(SO7(800.,HC[48+O5],Condition(function WP7))==0))then
call J7(O5,j5,1093679411)
endif
elseif(i1==1429221441)then
if((X5==852123)and(SO7(350.,HC[48+O5],Condition(function WP7))==0))then
call J7(O5,j5,1093677903)
endif
elseif(i1==1315334514)then
if((X5==852164)and(not RWF(j5,200.,Condition(function k3))))then
call J7(O5,j5,1093682521)
elseif((X5==852588)and(not RWF(j5,450.,Condition(function k3))))then
call J7(O5,j5,1093682760)
elseif((X5==852599)and(not RWF(j5,700.,Condition(function k3))))then
call J7(O5,j5,1093682736)
elseif((X5==852273)and(SO7(350.,HC[48+O5],Condition(function WP7))==0))then
call J7(O5,j5,1093810506)
endif
elseif(i1==1429221446)then
if((X5==852177)and(((GetUnitLifePercent(j5)<50.)or(SO7(300.,HC[48+O5],Condition(function k3))==0)))and(not kQ(j5)))then
call J7(O5,j5,1093678667)
endif
elseif(i1==1332109682)then
if((X5==852588)and(SO7(650.,HC[48+O5],Condition(function WP7))==0))then
call J7(O5,j5,1093810505)
endif
elseif(i1==1211117640)then
if((X5==852594)and(not GZ[O5]))then
call J7(O5,j5,1093679428)
endif
elseif(i1==1315988077)then
if((X5==852586)and(SO7(800.,HC[48+O5],Condition(function WP7))==0)and(not GZ[O5]))then
call J7(O5,j5,1093684561)
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if((X5==852180)and(SO7(800.,HC[48+O5],Condition(function WP7))==0))then
call J7(O5,j5,1093677895)
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
if((X5==852526)and(not GZ[O5]))then
call J7(O5,j5,1093748042)
endif
if((X5==852096)and((h4[O5]==null)or(not IsUnitInRange(j5,h4[O5],400.))))then
call J7(O5,j5,1093808462)
endif
if(X5==852138 or X5==852139)then
call J7(O5,j5,1093681733)
endif
elseif(i1==1215723364)then
if((X5==OrderId("volcano"))and(GetUnitManaPercent(j5)<60.)and(not GZ[64+O5]))then
call J7(O5,j5,1093744463)
endif
elseif(i1==1215128178)then
if((X5==852164)and(not GZ[O5]))then
call J7(O5,j5,1093810503)
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093810504,false)
endif
elseif(i1==1164799855)then
if((X5==852556)and(GetUnitLifePercent(j5)>80.)and(not GZ[64+O5]))then
call J7(O5,j5,1093677378)
endif
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
if((X5==852180))then
call J7(O5,j5,1093742932)
endif
elseif(i1==1212363833)then
if((X5==852123)and(SO7(600.,HC[48+O5],Condition(function WP7))==0)and(GetUnitManaPercent(j5)<70.))then
call J7(O5,j5,1093678643)
elseif(X5==852526)then
call J7(O5,j5,1093815125)
endif
elseif(i1==1315070563)then
if((X5==852128)and((UU7(j5,"Omnislashing"))or((GZ[O5])or((GetUnitManaPercent(j5)<70.)and(SO7(600.,HC[48+O5],Condition(function WP7))==0)))))then
call J7(O5,j5,1093678407)
endif
elseif(i1==1211117617)then
if((X5==OrderId("chemicalrage"))and(SO7(400.,HC[48+O5],Condition(function WP7))==0))then
call J7(O5,j5,1093752648)
endif
elseif(i1==1211117620)then
if((X5==852164)and((GetUnitAbilityLevel(j5,1110454324)>0)or(GetUnitManaPercent(j5)<60.)or(SO7(800.,HC[48+O5],Condition(function k3))==0)))then
call J7(O5,j5,1093677105)
endif
elseif(i1==1333027688)then
if((X5==852164)and(SO7(200.,HC[48+O5],Condition(function k2))==0))then
call J7(O5,j5,1093682252)
elseif((X5==852526)and((SO7(400.,HC[48+O5],Condition(function WP7))==0)or(SO7(500.,HC[48+O5],Condition(function k3))<5)))then
call J7(O5,j5,1093682248)
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093750594,true)
endif
elseif(i1==1215657064)then
if((X5==852600)and(SO7(500.,HC[48+O5],Condition(function WP7))==0))then
call J7(O5,j5,1093750841)
endif
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
if(X5==852138 or X5==852139)then
call J7(O5,j5,1093681479)
endif
elseif(i1==1311781193)then
if((X5==852663)and(GetUnitLifePercent(j5)>70.)and(GetUnitManaPercent(j5)<40.)and(SO7(500.,HC[48+O5],Condition(function WP7))==0))then
call J7(O5,j5,1095656306)
endif
elseif(i1==1311781206)then
if((X5==852129)and(not GZ[O5]))then
call J7(O5,j5,1093684302)
endif
elseif(i1==1211117651)then
if((X5==852526)and(not GZ[O5]))then
call J7(O5,j5,1093743696)
endif
elseif(i1==1313157191)then
if((X5==852526))then
call J7(O5,j5,1093743689)
endif
elseif((i1==1211117650)or(i1==1211119433))then
if(X5==852180)then
call W87(O5,j5,1093743946)
elseif(X5==852662)then
call W87(O5,j5,1093743958)
endif
elseif(i1==1328558390)then
if(X5==852180)then
call W87(O5,j5,1093744986)
endif
elseif(i1==1160786510)then
if(X5==852600)then
call W87(O5,j5,1093751631)
elseif(X5==852526)then
call W87(O5,j5,1093808697)
endif
elseif(i1==1328558406)then
if(X5==852526)then
call W87(O5,j5,1093751864)
elseif(X5==852589)and(not GZ[O5])then
call W87(O5,j5,1093810257)
endif
elseif(i1==1211119409)then
if X5==852129 then
call W87(O5,j5,1093749070)
endif
elseif(i1==1311780930)then
if X5==852514 and(not SE7(j5))then
call W87(O5,j5,1093686082)
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if X5==852138 or X5==852139 then
call W87(O5,j5,1093747504)
endif
endif
set j5=null
endfunction
function STF takes nothing returns nothing
local unit x6=GetTriggerUnit()
local integer Iz=GetItemTypeId(GetManipulatedItem())
local integer i1=GetUnitTypeId(x6)
local integer O5=GetPlayerId(GetOwningPlayer(x6))
local unit m5=null
local boolean J4=false
if(Iz==ZU[TC])then
set hq[256+O5]=Bz+25.
call S57(x6,851986,h9[O5])
if(SE7(x6))then
set G0[32+O5]=true
loop
exitwhen((GetUnitLifePercent(x6)>50.)or(Bz>hq[256+O5]))
if(SP7(1000.,x6,Condition(function WP7))>0)then
call S57(x6,851986,h9[O5])
else
call IssueImmediateOrderById(x6,851993)
endif
call R47(1.)
endloop
set G0[32+O5]=false
call J3(x6,true)
endif
elseif(Iz==ZU[QC])then
call R47(0.5)
set G0[32+O5]=true
loop
exitwhen((GetUnitAbilityLevel(x6,1110454874)==0)or(GetUnitLifePercent(x6)>95.))
if(not R57(x6))then
elseif(SP7(1500.,x6,Condition(function k2))>0)then
call S57(x6,851986,h9[O5])
else
call IssueImmediateOrderById(x6,851993)
endif
call R47(0.5)
endloop
set G0[32+O5]=false
call J3(x6,true)
elseif(Iz==ZU[D44])then
set hq[O5]=Bz
set hq[48+O5]=Bz+160.
elseif(Iz==ZU[P1])then
set hq[64+O5]=Bz+30.
call R47(0.1)
set m5=h4[O5]
set J4=(m5!=null)and(not SE7(x6))and(IssueTargetOrderById(x6,851983,m5))
elseif(Iz==ZU[RW])then
set m5=null
set hq[512+O5]=Bz+3.
set hq[112+O5]=Bz+25.
call TriggerSleepAction(0.01)
if(not SE7(x6))then
if(i1==1430466865)then
set m5=Y57(350.,x6)
set J4=(m5!=null)and((((SP7(400.,x6,Condition(function k6))>1 and GZ[208+O5])or SE7(m5))and(TD7(x6,852164,1093810508)))or(S27(x6,852125,1093677651,m5)))
elseif(i1==1162032439)then
set GZ[O5]=true
set J4=J8(O5,(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SP7(600.,x6,Condition(function WP7))>1))and(TD7(x6,852594,1093677363)))
elseif(i1==1160785973)then
if(SZ7(x6,ZU[D0]))then
set J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SP7(400.,x6,Condition(function WP7))>1))and(SC7(x6,ZU[D0]))and(IssueImmediateOrderById(x6,852600))
if(not(J4))then
set J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SP7(400.,x6,Condition(function WP7))>1))and(IssueImmediateOrderById(x6,852600))
endif
else
set J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SP7(400.,x6,Condition(function WP7))>1))and(IssueImmediateOrderById(x6,852600))
endif
elseif(i1==1315988077)then
set m5=Y57(220.,x6)
set J4=(m5!=null)and(TD7(x6,852096,1093678669))
elseif(i1==1211117616)then
set m5=Y57(220.,x6)
set J4=(m5!=null)and(TD7(x6,852127,1093677139))
elseif(i1==1430468406)then
set J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SP7(500.,x6,Condition(function WP7))>1))and(IssueImmediateOrderById(x6,852556))
elseif(i1==1214931305)then
set J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(SP7(400.,x6,Condition(function WP7))>1))and(((GetUnitState(x6,UNIT_STATE_MANA)>hq[272+O5]+50.)and(SC7(x6,ZU[D0])))or(S27(x6,852171,1093678147,h4[16+O5]))or(IssueImmediateOrderById(x6,852600)))
elseif(i1==1432580716)or(i1==1429221720)then
set m5=Y57(300.,x6)
set J4=(m5!=null)and(S27(x6,852089,1093684300,m5))
elseif(i1==1333027688)then
set m5=Y57(300.,x6)
set J4=(m5!=null)and(((SP7(500.,x6,Condition(function k0))>5)and(TD7(x6,852526,1093682248)or TD7(x6,852526,1093750594)))or(TD7(x6,852164,1093682252)))
elseif(i1==1332766568)then
set m5=Y57(250.,x6)
set J4=(m5!=null)and(IssueImmediateOrderById(x6,852600))
elseif(i1==1315334514)then
set m5=Y57(220.,x6)
set J4=(m5!=null)and(TD7(x6,852127,1093682521))
if(not J4)then
set m5=Y57(600.,x6)
set J4=(m5!=null)and(Bz>TC4[O5])and(G0[256+O5])and(TD7(x6,852273,1093810506))
endif
elseif(i1==1215657064)then
set m5=Y57(220.,x6)
set J4=(m5!=null)and(TD7(x6,852096,1093677913))
elseif(i1==1160786243)then
set m5=Y57(300.,x6)
if((m5!=null)and(SP7(700.,m5,Condition(function k5))>1))then
set GZ[O5]=true
set J4=J8(O5,S27(x6,852089,1093678672,m5))
endif
elseif(i1==1332109682)then
set m5=Y57(350.,x6)
set J4=(m5!=null)and(((SP7(500.,x6,Condition(function k0))>4)and(TD7(x6,852588,1093810505)))or(S27(x6,852662,1093678134,m5)))
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
set m5=Y57(300.,x6)
set J4=(m5!=null)and(S27(x6,852089,1093683532,m5))
elseif(i1==1430468913)then
set m5=Y57(300.,x6)
set J4=(m5!=null)and(TD7(x6,852127,1093810507))
endif
if((not J4)and(m5!=null))then
call IssueTargetOrderById(x6,851983,m5)
endif
endif
elseif(Iz==ZU[D74])then
set hq[96+O5]=Bz+13.
elseif(Iz==ZU[DR4])then
set TC4[240+O5]=Bz+18.
elseif(Iz==ZU[DP4])then
set TC4[176+O5]=Bz+30.
elseif(Iz==ZU[DY4])then
set TC4[224+O5]=Bz+10.
elseif(Iz==ZU[VB])then
set TC4[256+O5]=Bz+30.
elseif(Iz==ZU[DT4])or(Iz==ZU[ZA])then
set TC4[192+O5]=Bz+17.
elseif(Iz==ZU[E24])then
set TC4[208+O5]=Bz+30.
call R47(1.1)
set m5=h4[O5]
if(i1==1328558160)then
set J4=(m5!=null)and(IssueTargetOrderById(x6,852662,m5))
endif
elseif(Iz==ZU[AL])then
set TA4=false
elseif(Iz==ZU[T1])then
set hq[80+O5]=Bz+45.
elseif(Iz==ZU[F74])then
set hq[128+O5]=Bz+30.
elseif(Iz==ZU[S6])then
set hq[144+O5]=Bz+100.
elseif((Iz==ZU[YC])or(Iz==ZU[XC])or(Iz==ZU[F6]))then
set Iz=GetUnitCurrentOrder(x6)
call SetPlayerController(GetOwningPlayer(x6),MAP_CONTROL_NONE)
loop
exitwhen(Iz!=GetUnitCurrentOrder(x6))
call R47(0.1)
endloop
call R47(0.1)
call SetPlayerController(GetOwningPlayer(x6),MAP_CONTROL_COMPUTER)
call R47(0.5)
call J3(x6,true)
if(RE7(x6,TG7(x6))<1500.)then
set h9[O5]=TG7(x6)
call VX7(x6,true)
else
call AX7(x6)
endif
elseif(Iz==ZU[C0])then
if(GZ[272+O5])then
call R47(0.01)
if((i1==1315334514)or(i1==1162032439))then
call ExecuteFunc("QMF")
elseif((i1==1315074670)or(i1==1162032951))then
call ExecuteFunc("QNF")
endif
endif
elseif((Iz==ZU[Y0])or(Iz==ZU[B0]))then
if(not SE7(x6))then
call TriggerSleepAction(1.5)
if(i1==1212363833)then
set m5=Y57(400.,x6)
set J4=(m5!=null)and(S27(x6,852095,1093809220,m5))
elseif(i1==1429221441)then
set m5=Y57(400.,x6)
set J4=(m5!=null)and(S27(x6,852231,1093678389,m5))
elseif(i1==1211117653)then
set m5=Y57(400.,x6)
set J4=(m5!=null)and((Bz>TC4[64+O5])and AO7(x6,LR4,LR4,LP4,1093686863)and(IssueImmediateOrderById(x6,852132)))
if((not J4)and(m5!=null)and(Bz>TC4[64+O5]))then
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),BS[7],true)
set J4=IssueImmediateOrderById(x6,852132)
call SetPlayerAbilityAvailable(GetOwningPlayer(x6),BS[7],false)
endif
elseif(i1==1160786242)then
set m5=Y57(400.,x6)
set J4=(m5!=null)and(IssueTargetOrderById(x6,852662,m5))
elseif(i1==1332963428)then
set m5=Y57(400.,x6)
set J4=(m5!=null)and(GetUnitState(x6,UNIT_STATE_MANA)>hq[272+O5])and(S27(x6,852480,1093677649,m5))
elseif(i1==1429221424)then
set m5=Y57(400.,x6)
set J4=(m5!=null)and(S27(x6,852555,1093687351,m5))
endif
endif
endif
set x6=null
set m5=null
endfunction
function SUF takes integer Q5F,integer VA7 returns integer
if Q5F==eY[172+VA7]or Q5F==eY[188+VA7]then
return 10
elseif GetUnitTypeId(M7[VA7])==1211117653 then
return 5
elseif Q5F==1093677391 or Q5F==1093677633 or Q5F==1093682264 or Q5F==1093678147 or Q5F==1093744944 or Q5F==1093809220 or Q5F==1093686091 or Q5F==1093685831 or Q5F==1093677623 or Q5F==1093678135 or Q5F==1093677378 or Q5F==1093683511 or Q5F==1093742680 or Q5F==1093678167 or Q5F==1093677361 or Q5F==1093678137 or Q5F==1093678405 or Q5F==1093808453 or Q5F==1093742660 or Q5F==1093684300 or Q5F==1093684045 or Q5F==1093685848 or Q5F==1093677136 or Q5F==1093678669 or Q5F==1093677139 or Q5F==1093678913 or Q5F==1093681490 or Q5F==1093685570 or Q5F==1093679182 or Q5F==1093679190 or Q5F==1093685071 or Q5F==1093685046 or Q5F==1093750345 or Q5F==1093684280 or Q5F==1093743698 or Q5F==1093685584 or Q5F==1093748033 or Q5F==1093686083 or Q5F==1093743414 or Q5F==1093743178 or Q5F==1093743689 or Q5F==1093678679 or Q5F==1093685302 or Q5F==1093687349 or Q5F==1093684558 or Q5F==1093744435 or Q5F==1093679192 or Q5F==1093678389 or Q5F==1093677892 or Q5F==1093677640 or(Q5F==1093679173 and L_7()==false)or Q5F==1095267426 or Q5F==1093687351 or Q5F==1093810507 or Q5F==1093744948 or Q5F==1093681989 or Q5F==1093678134 or Q5F==1093683019 or Q5F==1093678169 or Q5F==1093678422 or Q5F==1093678665 or Q5F==1093750840 or Q5F==1093678671 or Q5F==1093683510 or Q5F==1093684550 or Q5F==1093683287 or Q5F==1093684813 or Q5F==1093684815 or Q5F==1093685066 or Q5F==1093678672 or Q5F==1093684802 or Q5F==1093742668 or Q5F==1093684817 or Q5F==1093685074 or Q5F==1093685825 or Q5F==1093685813 or Q5F==1093685573 or Q5F==1093750087 or Q5F==1093753167 or Q5F==1093751607 or Q5F==1093751633 or Q5F==1093751637 or Q5F==1093751608 then
return 2
endif
return 0
endfunction
function SVF takes unit SD7,integer LUE,integer Q5F returns nothing
local integer O5=0
local integer i
local integer j
local boolean J4=false
if(not S47(SD7))then
return
endif
loop
exitwhen O5==AZ4
if Q5F==AY4[O5]then
return
endif
set O5=O5+1
endloop
set i=GetPlayerId(GetOwningPlayer(SD7))
set j=SUF(Q5F,i)
if j==0 then
return
endif
set O5=1
loop
exitwhen O5>11
if O5==6 then
set O5=7
endif
set J4=false
if Z17(Player(O5))and IsUnitEnemy(SD7,Player(O5))and M7[O5]!=null and GetUnitTypeId(M7[O5])==1160786520 and GetWidgetLife(M7[O5])>.405 and(not SE7(M7[O5]))and IsUnitInRange(M7[O5],SD7,950.)and Bz>TC4[160+O5]and eY[416+O5]!=Q5F and((hq[816+O5]<Bz)or((Bz<TC4[O5]-10)and(j<=eY[432+O5]))or(j>eY[432+O5]))then
set eY[448+O5]=Q5F
set h4[320+O5]=SD7
endif
set O5=O5+1
endloop
endfunction
function SWF takes unit PF7,integer Q5F,unit SD7 returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(PF7))
local integer U_7=GetPlayerId(GetOwningPlayer(SD7))
set eY[336+O5]=0
set eY[352+O5]=0
set eY[368+O5]=0
set eY[188+O5]=0
set TC4[O5]=0
set TC4[16+O5]=0
set TC4[32+O5]=0
set TC4[48+O5]=0
if Q5F==eY[336+U_7]then
set eY[336+O5]=Q5F
elseif Q5F==eY[352+U_7]then
set eY[352+O5]=Q5F
elseif Q5F==eY[368+U_7]then
set eY[368+O5]=Q5F
elseif Q5F==eY[172+U_7]or Q5F==eY[188+U_7]then
set eY[188+O5]=Q5F
endif
set eY[432+O5]=SUF(Q5F,U_7)
set eY[400+O5]=GetUnitTypeId(SD7)
set eY[416+O5]=Q5F
set hq[816+O5]=Bz+(GetUnitAbilityLevel(PF7,1093809992)+2)*60
endfunction
function SXF takes unit it,unit m5 returns boolean
local boolean J4=false
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i1
if(Z84[O5]==ZF4)or(Z84[O5]==ZE4 and GetRandomInt(1,3)==1)then
set i1=GetUnitTypeId(it)
set bj_lastLoadedUnit=it
if i1==1429221451 and(Bz>TC4[32+O5])and(SP7(900.,it,Condition(function SQ7))==0)then
set J4=IssueImmediateOrderById(it,852503)
elseif i1==1311780930 and(Bz>TC4[48+O5])then
set J4=TD7(it,852514,1093686082)
elseif i1==1429221424 and(Bz>TC4[48+O5])then
set J4=TD7(it,852526,1093815119)
elseif i1==1160786265 and(Bz>TC4[16+O5])then
set J4=TD7(it,852526,1093748033)
endif
if(not J4)and((GetUnitLifePercent(it)<40)or(SE7(it))or(GetUnitMoveSpeed(it)<200))then
if(not J4)and(SR7(it,ZU[C0]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SR7(it,ZU[Q1]))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,it)
endif
endif
if(not J4)and(h4[O5]!=null or SE7(it))then
if(not J4)and(SZ7(it,ZU[D0]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SZ7(it,ZU[Y0]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SZ7(it,ZU[DV4]))then
set TB4=true
set J4=UnitUseItem(it,bj_lastCreatedItem)
set TB4=false
endif
endif
if J4 then
set h4[352+O5]=m5
endif
endif
return J4
endfunction
function SYF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(j5))
local integer PPF=GetSpellAbilityId()
local integer i1=GetUnitTypeId(j5)
local integer SZF=0
local unit m5=null
local boolean J4=false
local boolean SAF=GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTER
local location b5=null
local integer UP
set m5=GetSpellTargetUnit()
if m5!=null and Z17(GetOwningPlayer(m5))and(is(m5))then
set J4=SXF(m5,j5)
endif
set GZ[16+O5]=false
set h4[32+O5]=null
if(GetSpellTargetUnit()!=null)then
set h4[32+O5]=GetSpellTargetUnit()
set m5=GetSpellTargetUnit()
endif
if i1==1160786520 and PPF!=1093809990 and PPF!=1093809991 and PPF!=1093809992 and PPF!=1093810008 and hq[816+O5]>Bz then
set G0[288+O5]=false
set i1=eY[400+O5]
endif
if GO7 and i1!=1160786520 then
call SVF(j5,i1,PPF)
endif
if(PPF==1097163124)then
if(SAF)then
call R47(0.1)
call S57(j5,851986,h9[O5])
endif
elseif(i1==1162032181)then
if((SAF)and(PPF==1093684299))then
set hq[512+O5]=Bz+3.
if(m5!=null)then
call R47(((RF7(GetUnitX(j5),GetUnitX(j5),GetUnitX(m5),GetUnitY(m5))/40.)*.01)+.5)
else
call R47(((RF7(GetUnitX(j5),GetUnitX(j5),GetLocationX(HC[O5]),GetLocationY(HC[O5]))/40.)*.01)+.5)
endif
set m5=Y57(300.,j5)
if(((not SE7(j5))or(Id(O5)))and(m5!=null))then
set GZ[O5]=true
if((SE7(j5))or(not J8(O5,(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(RNF(j5)))and(GetUnitState(m5,UNIT_STATE_LIFE)>300.)and(T47(j5,852652,1093683761,0,m5)))))then
call R2F(j5,m5,true)
endif
elseif(SE7(j5))then
call S57(j5,851986,h9[O5])
else
call J3(j5,true)
endif
endif
elseif(i1==1429221424)then
if(PPF==1093748789)then
call TriggerSleepAction(0.05)
if((h4[O5]==m5)and(GetUnitLifePercent(m5)<70.))then
call MQF(j5,m5)
endif
set SZF=OrderId("creepheal")
endif
elseif(i1==1430466609)then
if(PPF==1093684549)then
set hq[512+O5]=Bz+3.
call TriggerSleepAction(0.05)
if(not SE7(j5))then
set m5=Y57(500.,j5)
if(not SAF)then
if((m5!=null)and(GetUnitLifePercent(m5)<60.))then
call MQF(j5,m5)
endif
elseif(m5!=null)then
set J4=(((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<RMF(j5))and(T47(j5,852125,1093810258,1093810259,m5)))or((IsUnitInRange(j5,m5,400.))and(TD7(j5,852526,1093678145)))or(T47(j5,852527,1093685559,0,m5)))
endif
else
set J4=(SAF)and(h4[O5]==null)and((eY[O5]==1)or(eY[O5]==3)or(eY[O5]==4))and(S57(j5,851986,h9[O5]))
endif
set SZF=852525
elseif(PPF==1093685559)then
call TriggerSleepAction(0.05)
call R2F(j5,m5,true)
set J4=(SAF)and(IsUnitInRange(j5,m5,400.))and((TD7(j5,852526,1093678145))or((SE7(m5))and(T47(j5,852125,1093810258,1093810259,m5))))
set SZF=852527
elseif(PPF==1093678145)then
call TriggerSleepAction(0.05)
set hq[16+O5]=Bz+10.
set m5=Y57(400.,j5)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.))then
call MQF(j5,m5)
endif
if(SAF)then
set J4=(m5!=null)and(((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<RMF(j5))and(not ke(j5))and(T47(j5,852125,1093810258,1093810259,m5)))or(T47(j5,852527,1093685559,0,m5)))
endif
set SZF=852218
elseif((PPF==1093810258)or(PPF==1093810259))then
call TriggerSleepAction(0.05)
set SZF=GetUnitAbilityLevel(j5,PPF)
if(SZF!=3)then
set hq[O5]=Bz+140.-(SZF*20.)
else
set hq[O5]=Bz+75.
endif
set m5=K2(400.,HC[O5])
if(m5!=null)then
call R2F(j5,m5,true)
endif
set SZF=852125
endif
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if(PPF==1093678929)then
call TriggerSleepAction(.5)
if(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(j5)))then
set G0[32+O5]=false
call R2F(j5,GetSpellTargetUnit(),true)
call O9F(j5,GetSpellTargetUnit())
endif
endif
elseif(i1==1433168227)then
if(PPF==1093678918)then
call TriggerSleepAction(0.05)
if((m5!=null)and(SE7(m5)))then
call R2F(j5,m5,true)
endif
set SZF=852226
elseif(PPF==1093678387)then
call TriggerSleepAction(0.05)
set SZF=852066
elseif(PPF==1093679186)then
call TriggerSleepAction(0.05)
set SZF=852225
endif
elseif(i1==1429221430)then
if(PPF==1093681736)then
call TriggerSleepAction(0.05)
set SZF=852601
elseif(PPF==1093687121)then
call TriggerSleepAction(0.05)
set hq[512+O5]=Bz+20.
call R2F(j5,Y57(500.,j5),true)
set SZF=OrderId("roar")
endif
elseif(i1==1430466872)then
if(PPF==1093684558)then
call TriggerSleepAction(0.05)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call R2F(j5,m5,true)
if(SAF)then
call R47(1.)
set SZF=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((not ke(m5))and(SZF>200.)and(SZF<RPF(j5)))then
set GZ[O5]=true
set J4=J8(O5,T47(j5,852119,1093679413,1093679447,m5))
endif
endif
endif
set SZF=852502
endif
elseif(i1==1162032439)then
if(PPF==1093744435)then
call TriggerSleepAction(0.05)
set hq[O5]=Bz+22.
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call R2F(j5,m5,true)
if((SAF)and(GetHeroLevel(j5)>5))then
set SZF=GetUnitAbilityLevel(j5,1093677363)
if(SZF==0)then
set SZF=GetUnitAbilityLevel(j5,1093681462)
endif
if((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(100+(300*SZF)))and(GetUnitState(m5,UNIT_STATE_LIFE)<200.))then
set GZ[O5]=true
call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093681462,true)
set J4=J8(O5,TD7(j5,852594,1093677363))
endif
endif
endif
set SZF=852527
endif
elseif(i1==1430466865)then
if(PPF==1093677651)then
call TriggerSleepAction(0.05)
if((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO)))then
set m5=K2(350.,HC[O5])
endif
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.))then
call MQF(j5,m5)
endif
set J4=(SAF)and(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<55.)and(IsUnitInRange(j5,m5,350.))and(R2I(GetUnitState(j5,UNIT_STATE_MANA))<(140+(GetUnitAbilityLevel(j5,1093810508)*100)))and(TD7(j5,852164,1093810508))
set SZF=852125
elseif(PPF==1093677879)then
call TriggerSleepAction(0.05)
set m5=h4[O5]
set J4=(SAF)and(m5!=null)and(S87(m5))and(G0[128+O5])and(IsUnitInRange(j5,m5,800.))and(IssueTargetOrderById(j5,851983,m5))
set SZF=852066
endif
elseif(i1==1430468144)then
if(PPF==1093679192)then
call TriggerSleepAction(0.05)
call R2F(j5,m5,true)
set SZF=852189
endif
elseif(i1==1429221441)then
if((PPF==1093685847)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call TriggerSleepAction(1.)
if(SAF)then
if((GetUnitLifePercent(m5)>70.)or((Bz<hq[O5])and(GetUnitCurrentOrder(m5)==851973))or(not T47(j5,852231,1093678389,0,m5))or(not TD7(j5,852123,1093677903)))then
call R2F(j5,m5,true)
endif
else
call MQF(j5,m5)
endif
elseif(PPF==1093678389)then
call TriggerSleepAction(0.05)
set hq[O5]=Bz+10.
call R2F(j5,m5,true)
if((SAF)and(G0[128+O5]))then
set J4=((not IsUnitInRange(j5,m5,300.))and(GetUnitLifePercent(m5)<60.)and(GetUnitLifePercent(j5)>60.)and(IssueTargetOrderById(j5,852600,m5)))or((IsUnitInRange(j5,m5,250.))and(GetUnitLifePercent(m5)<65.)and(TD7(j5,852123,1093677903)))
endif
set SZF=852231
elseif(PPF==1093677903)then
set hq[16+O5]=Bz+180.
endif
elseif(i1==1165451634)then
if((PPF==1093685324)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call TriggerSleepAction(1.)
if(SAF)then
if(not T47(j5,OrderId("acidbomb"),1093687629,0,m5))then
call R2F(j5,GetSpellTargetUnit(),true)
endif
else
call MQF(j5,m5)
endif
elseif(PPF==1093687629)then
call TriggerSleepAction(0.05)
call R2F(j5,m5,true)
set J4=(SAF)and(not IsUnitInRange(j5,m5,300.))and(IssueTargetOrderById(j5,OrderId("acidbomb"),m5))
set SZF=OrderId("acidbomb")
endif
elseif(i1==1432642913)then
if(PPF==1093684550)then
call TriggerSleepAction(0.05)
set SZF=852119
elseif(PPF==1093683507)then
call TriggerSleepAction(0.05)
if((IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(GetUnitLifePercent(m5)<50.))then
call R2F(j5,m5,true)
endif
set SZF=852662
endif
elseif(i1==1432510828)then
if((SAF)and(PPF==1093681985))then
call ExecuteFunc("QJF")
elseif(PPF==1093682004)then
set G0[32+O5]=false
endif
elseif(i1==1429221446)then
if((PPF==1093682764)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call MQF(j5,m5)
if SAF and IsUnitInRange(j5,m5,225)then
call SetPlayerAbilityAvailable(Player(O5),1093678667,true)
call IssueImmediateOrderById(j5,852178)
endif
elseif((PPF==1093678667)and(SAF))then
set m5=Y57(250.,j5)
set J4=(m5!=null)and((h4[O5]==m5)or(GetUnitLifePercent(m5)<75.))and(T47(j5,852480,1093682764,1093747544,m5))
endif
elseif(i1==1332963428)then
if((PPF==1093677649)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call MQF(j5,m5)
endif
elseif(i1==1211117640)then
if(PPF==1093681989)then
call TriggerSleepAction(0.05)
if((IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
set h4[16+O5]=m5
call R5F(j5,m5)
set J4=(SAF)and(not G0[32+O5])and((RXF(j5,m5))or(IssueTargetOrderById(j5,852089,m5)))
endif
set SZF=852486
elseif(PPF==1093684564)then
call TriggerSleepAction(0.05)
set hq[O5]=Bz+6.
set SZF=852089
elseif(PPF==1093679428)then
set hq[16+O5]=Bz+35.
elseif(((PPF==1093681987)or(PPF==1093677658))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
if(GetUnitAbilityLevel(m5,1110454606)==0)then
call MQF(j5,m5)
else
call R5F(j5,m5)
endif
endif
elseif(i1==1430468406)then
if((PPF==1093677645)or(PPF==1093678670)or(PPF==1093678898)or(PPF==1093678900)or(PPF==1093678904))then
call TriggerSleepAction(0.05)
set SZF=852218
elseif((PPF==1093678899)or(PPF==1093677898)or(PPF==1093678154)or(PPF==1093678157)or(PPF==1093678158))and(SAF)then
call ExecuteFunc("Q0F")
endif
elseif(i1==1432642913)then
if(PPF==1093684819)then
if((SAF)and(GetUnitLifePercent(j5)<50.)and(not Id(O5)))then
call TriggerSleepAction(0.5)
call VX7(j5,false)
endif
endif
elseif(i1==1160786241)then
if((PPF==1093684820)or(PPF==1093684824))then
set m5=K2(500.,HC[O5])
if(m5!=null)then
call MQF(j5,m5)
call R5F(j5,m5)
endif
endif
elseif(i1==1160786243)then
if(PPF==1093678672)then
set m5=K2(500.,HC[O5])
if(m5!=null)then
call MQF(j5,m5)
endif
endif
elseif(i1==1328558154)then
if(PPF==1093750840)then
elseif(PPF==1093682996 or PPF==1093747768)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call MQF(j5,m5)
endif
endif
elseif(i1==1315988077)then
if(PPF==1093684561)then
set m5=K2(500.,HC[O5])
if(m5!=null)then
call MQF(j5,m5)
call O9F(j5,m5)
endif
elseif(PPF==1093684561)then
call TriggerSleepAction(0.05)
if(GetUnitLifePercent(m5)<50.)then
call R2F(j5,m5,true)
endif
set SZF=852585
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if(PPF==1093677894)then
call TriggerSleepAction(0.05)
set SZF=852580
elseif(PPF==1093681490)then
call TriggerSleepAction(0.05)
call R2F(j5,m5,true)
set SZF=852095
endif
elseif(i1==1164207469)then
if(PPF==1095066220)then
set hq[512+O5]=Bz+3.
call TriggerSleepAction(0.05)
set m5=Y57(200.,j5)
if(m5!=null)then
call R2F(j5,m5,true)
endif
set J4=(SAF)and(h4[O5]==null)and(SE7(j5))and((eY[O5]==1)or(eY[O5]==3)or(eY[O5]==4))and(S57(j5,851986,h9[O5]))
set SZF=852525
endif
elseif(i1==1315007329)then
if(PPF==1093677108)then
call TriggerSleepAction(0.05)
if(GetUnitLifePercent(m5)<65.)then
call R2F(j5,m5,true)
endif
set SZF=852095
elseif(PPF==1093681716)then
call TriggerSleepAction(0.05)
call R2F(j5,m5,true)
set SZF=852149
endif
elseif(i1==1332898670)then
if((PPF==1093677136)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call MQF(j5,m5)
elseif(PPF==1093685848)then
call TriggerSleepAction(0.05)
call R2F(j5,m5,true)
if((SAF)and(IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<70.)or((Bz>hq[16+O5])and(GetUnitState(j5,UNIT_STATE_MANA)>(hq[272+O5]+80.+(30.*GetUnitAbilityLevel(j5,1093677136))))))and(GetHeroLevel(j5)>5)and(GetUnitAbilityLevel(m5,1110454344)>0))then
set GZ[O5]=true
set J4=J8(O5,T47(j5,852504,1093677128,1093681457,m5))
endif
set SZF=852149
elseif((PPF==1093677128)or(PPF==1093681457))then
call TriggerSleepAction(0.05)
set m5=K2(550.,HC[O5])
if(m5!=null)then
call O9F(j5,m5)
if((SAF)and(Bz>hq[16+O5]))then
set GZ[O5]=true
set J4=(((IsUnitInRange(j5,m5,400)or DX9(m5)))and J8(O5,S27(j5,852480,1093677136,m5)))or(T47(j5,852502,1093685848,0,m5))
endif
endif
set hq[O5]=Bz+120.
set SZF=852504
endif
elseif(i1==1215723364)then
if(PPF==1093683534)or(PPF==1093747031)then
call TriggerSleepAction(.3)
set hq[512+O5]=Bz+2.
set hq[O5]=Bz+45.
call R2F(j5,m5,true)
call O9F(j5,m5)
elseif(PPF==1093677633)then
call TriggerSleepAction(0.05)
call R2F(j5,m5,true)
set hq[16+O5]=Bz+10.
set SZF=852095
endif
elseif(i1==1433105516)then
if(PPF==1093747288)then
set m5=K2(400.,HC[O5])
if(m5!=null)then
call MQF(j5,m5)
call O9F(j5,m5)
endif
endif
elseif(i1==1164799603)then
if(PPF==1093808453)then
call TriggerSleepAction(0.05)
call R2F(j5,m5,true)
set SZF=OrderId("carrionswarm")
endif
elseif(i1==1328558160)then
if(PPF==1093682766)then
set hq[O5]=Bz+11.
if((not SE7(j5))or(Id(O5)))then
set hq[512+O5]=Bz+3.
if(GetSpellTargetUnit()!=null)then
call R47((RMaxBJ(RF7(GetUnitX(j5),GetUnitX(j5),GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))/50.,1.)*.04)+.3)
else
call R47((RMaxBJ(RF7(GetUnitX(j5),GetUnitX(j5),GetLocationX(HC[O5]),GetLocationY(HC[O5]))/50.,1.)*.04)+.3)
endif
if(not IsUnitHidden(j5))then
call R2F(j5,Y57(300.,j5),true)
if((SAF)and(GetUnitCurrentOrder(j5)==0))then
call J3(j5,true)
endif
endif
endif
endif
elseif(i1==1212363833)then
if(PPF==1093678643)then
set hq[16+O5]=Bz+60.
endif
elseif(i1==1315070563)then
if(PPF==1093684529)then
set hq[O5]=Bz+140.-(GetUnitAbilityLevel(j5,PPF)*10.)
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call MQF(j5,m5)
endif
endif
elseif(i1==1214931305)then
if(PPF==1093678147)then
call TriggerSleepAction(0.05)
if SAF then
call IssueTargetOrderById(j5,851983,m5)
endif
set hq[16+O5]=Bz+10.
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if((GetUnitState(j5,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and((GetUnitState(j5,UNIT_STATE_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))>(40*GetHeroLevel(j5))))then
call MQF(j5,m5)
if((SAF)and(GetHeroLevel(j5)>5)and(Bz>hq[O5])and(GetUnitState(m5,UNIT_STATE_LIFE)>150.)and(G0[128+O5]))and(not IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))then
if(IsUnitInRange(j5,m5,450.))then
set J4=((GetUnitState(j5,UNIT_STATE_MANA)>hq[272+O5]+50.)and(SC7(j5,ZU[D0])))or(IssueImmediateOrderById(j5,852600))
endif
endif
if((not J4)and(SAF)and(not SE7(j5)))then
set J4=IssueTargetOrderById(j5,851983,m5)
endif
endif
endif
set SZF=852171
elseif(PPF==1093748025)then
call TriggerSleepAction(0.05)
if SAF then
call IssueTargetOrderById(j5,851983,m5)
endif
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(G0[128+O5]))then
if((GetUnitState(j5,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and((GetUnitState(j5,UNIT_STATE_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))>(40*GetHeroLevel(j5))))then
call R2F(j5,m5,true)
endif
endif
set SZF=OrderId("blizzard")
elseif((PPF==1093677906)or(PPF==1093681494))then
set m5=K2(600.,S07(j5))
if(m5!=null)then
call MQF(j5,m5)
call O9F(j5,m5)
endif
set hq[O5]=Bz+180.-(GetUnitAbilityLevel(j5,PPF)*30.)
endif
elseif(i1==1212365106)then
if((PPF==1093684025)and(SAF)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call TriggerSleepAction(1.)
call T47(j5,852089,1093685831,0,m5)
endif
elseif(i1==1211117617)then
if(PPF==1093744944)then
call TriggerSleepAction(0.05)
set hq[O5]=Bz+8.
call R2F(j5,m5,true)
set J4=(SAF)and(IsUnitInRange(j5,m5,400.))and(GetUnitLifePercent(m5)<70.)and(TD7(j5,OrderId("chemicalrage"),1093752648))
set SZF=OrderId("acidbomb")
elseif(PPF==1093752648)then
call TriggerSleepAction(0.05)
set m5=Y57(800.,j5)
call R2F(j5,m5,true)
set hq[512+O5]=Bz+20.
if((SAF)and(m5!=null)and(IsUnitInRange(j5,m5,700.)))then
set J4=(T47(j5,OrderId("acidbomb"),1093744944,0,m5))or(IssueTargetOrderById(j5,851983,m5))
endif
set SZF=OrderId("chemicalrage")
endif
elseif(i1==1211117633)then
if(PPF==1093684045)then
call TriggerSleepAction(0.05)
call R2F(j5,m5,true)
call R5F(j5,m5)
if((SAF)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
set J4=T47(j5,852095,1093684310,0,m5)
set h4[16+O5]=m5
endif
set SZF=852585
endif
elseif(i1==1211117620)then
if(PPF==1093677623)then
call TriggerSleepAction(0.05)
set m5=K2(280.,HC[O5])
call R2F(j5,m5,true)
if((SAF)and(m5!=null))then
call IssueTargetOrderById(j5,851983,m5)
call R47(1.)
set J4=((not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<RQF(j5))and(T47(j5,852119,1093677392,1093679450,m5)))or(((GetUnitLifePercent(m5)<50.)and(RXF(j5,m5))))or(T47(j5,852125,1093677382,0,m5))or(IssueTargetOrderById(j5,851983,m5))
endif
set SZF=852232
elseif(PPF==1093677382)then
call TriggerSleepAction(0.05)
set hq[16+O5]=Bz+8.5
if(m5==null)then
set m5=K2(300.,HC[O5])
endif
set J4=(SAF)and(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<RQF(j5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(T47(j5,852119,1093677392,1093679450,m5))
set SZF=852125
endif
elseif(i1==1215657064)then
if(PPF==1093677913)then
call TriggerSleepAction(0.05)
set hq[O5]=Bz+7.75
set m5=Y57(350.,j5)
if((m5!=null)and((not SE7(j5))or(SE7(m5))))then
call R2F(j5,m5,true)
set J4=(SAF)and(TD7(j5,852600,1093750841))
endif
set SZF=852096
elseif(PPF==1093750841)then
call TriggerSleepAction(0.05)
set m5=Y57(500.,j5)
if(m5!=null)then
call R2F(j5,m5,true)
endif
if(SAF)then
if((GetHeroLevel(j5)>5)and(G0[128+O5])and(GetUnitLifePercent(j5)>70.)and(not IC(O5)))then
set hq[512+O5]=Bz+6.
endif
if(m5==null)then
set m5=SN7(500.,S07(j5),Condition(function WY7))
endif
set J4=(m5!=null)and(not G0[O5])and(G0[128+O5])and((not SE7(j5))or(SI7(m5,j5)))and(IssueTargetOrderById(j5,851983,m5))
endif
set SZF=852561
endif
elseif(i1==1332179560)then
if(PPF==1093742660)then
call TriggerSleepAction(0.05)
call R2F(j5,m5,true)
set SZF=OrderId("acidbomb")
endif
elseif(i1==1429221443)then
if(PPF==1093744948)then
call TriggerSleepAction(0.05)
call R2F(j5,m5,true)
set SZF=OrderId("chainlightning")
endif
elseif(i1==1215130471)then
if((PPF==1093678167)or(PPF==1093679161)or(PPF==1093679169)or(PPF==1093679172)or(PPF==1093815121))then
call TriggerSleepAction(0.05)
if((GZ[O5])or(m5==h4[O5])or(GetUnitLifePercent(m5)<55.))then
call R2F(j5,m5,true)
elseif(IsUnitType(m5,UNIT_TYPE_HERO))then
call MQF(j5,m5)
endif
set SZF=852095
elseif((PPF==1093677361)or(PPF==1093677111)or(PPF==1093677396)or(PPF==1093677126))then
call TriggerSleepAction(0.05)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call R2F(j5,m5,true)
endif
set SZF=852662
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
if(PPF==1093750345)then
call ExecuteFunc("S4F")
endif
elseif(i1==1311781206)then
if((SAF)and(PPF==1093684302))then
call TriggerSleepAction(1.)
if(((GetUnitManaPercent(j5)>55.)and(SP7(500.,j5,Condition(function k3))>2))or(SP7(500.,j5,Condition(function WP7))>0))then
call IssueImmediateOrderById(j5,852600)
endif
endif
elseif(i1==1164799855)then
if((PPF==1093677378)and(SAF))then
call ExecuteFunc("Q_F")
endif
elseif(i1==1311787088)then
if(PPF==1093750089)and SAF then
call TriggerSleepAction(0.05)
call IssueImmediateOrderById(j5,851972)
endif
elseif(i1==1211117651)then
if(PPF==1093743698)and SAF then
call R47(0.01)
call IssueTargetOrderById(j5,851983,m5)
endif
elseif(i1==1328558406)then
if SAF then
if PPF==1093752114 then
call TT7(GetHandleId(j5),"AI|IoSpiritsFar",true)
elseif PPF==1093752115 then
call TT7(GetHandleId(j5),"AI|IoSpiritsFar",false)
elseif PPF==1093751864 then
call U67(j5,"AI|IoSpirits",19)
endif
endif
elseif(i1==1160786506)then
if PPF==1093751637 then
set b5=GetSpellTargetLoc()
if SAF then
call J3(j5,true)
endif
call R47(1.2)
set m5=Y_7(300,j5,GetLocationX(b5),GetLocationY(b5))
call R2F(j5,m5,true)
if SAF and(m5!=null)then
if(h4[O5]==null or(not IsUnitInRangeLoc(h4[O5],b5,300)))then
call CWE(O5,m5,false,false)
endif
set J4=(IssuePointOrderById(j5,852662,GetLocationX(b5),GetLocationY(b5)))
endif
endif
elseif(i1==1211122767)then
if PPF==1093812807 then
call TriggerSleepAction(0.05)
set m5=K2(250.,HC[O5])
call R2F(j5,m5,true)
set SZF=852662
endif
endif
if((SAF)and(not J4)and(SZF!=0)and(GetUnitCurrentOrder(j5)==SZF))then
call J3(j5,true)
endif
set j5=null
set m5=null
set b5=null
endfunction
function SBF takes nothing returns nothing
local unit it=GetTriggerUnit()
local integer PPF=GetSpellAbilityId()
local integer i1=GetUnitTypeId(it)
local integer O5=GetPlayerId(GetOwningPlayer(it))
local unit m5=h4[32+O5]
local integer UP
local location b5=null
local boolean J4=false
local boolean SAF=GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER
local real SCF=0
local unit OA7=null
call TriggerSleepAction(0.01)
if((not SAF)and(hq[464+O5]>Bz)and(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(it))))then
call MQF(it,m5)
endif
if(m5!=null)and(not S87(m5))then
set m5=null
endif
if(h4[O5]!=null)and(not S87(h4[O5]))then
set h4[O5]=null
endif
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
endif
if((PPF==1093677647)or(PPF==1093679193)or(PPF==1093679194)or(PPF==1093679408)or(PPF==1093679410))then
if(SAF and T24[O5]==true)then
if(SR7(it,GetItemTypeId(U44[O5])))then
call R47(1.)
call DisableTrigger(H94)
call UnitRemoveItem(it,SV7(it,GetItemTypeId(U44[O5])))
call RemoveItem(U44[O5])
call EnableTrigger(H94)
endif
if(T_4[O5]!=null)then
call R47(0.2)
call UnitAddItem(it,T_4[O5])
endif
set T54[O5]=Bz+T04[UF4]
set T24[O5]=false
set U44[O5]=null
set T_4[O5]=null
endif
call R2F(it,m5,true)
set J4=(i1==1429221445)and(SAF)and(not ke(m5))and(T47(it,852095,1093678647,1093679184,m5))
elseif((PPF==1094936696)or(PPF==1095331943))then
call R2F(it,m5,true)
elseif(PPF==1095331188)then
if(SAF)then
call R47(1.)
call AX7(it)
endif
elseif(i1==1160785970)then
if(PPF==1093748023)then
call R2F(it,Y57(750.,it),true)
elseif(PPF==1093747792)then
call R2F(it,Y57(550.,it),true)
if(SAF)then
call R47(PC7(IsUnitInRange(it,m5,300),1.25,2.25))
set J4=(m5!=null)and(Bz>TC4[O5])and(((GetUnitAbilityLevel(it,1093747023)>0)and(TD7(it,852229,1093747023)))or((GetUnitAbilityLevel(it,1093752150)>0)and(TD7(it,852229,1093752150))))
endif
elseif((PPF==1093747023)or(PPF==1093752150))then
if(SAF)then
set J4=(IsUnitInRange(it,m5,440.))and(IssuePointOrderById(it,852662,GetUnitX(m5)+2,GetUnitY(m5)-2))
endif
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if(PPF==1093747028)then
elseif(PPF==1093682994)then
if(SAF)then
set J4=(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.)and(IsUnitInRange(it,m5,400.))and(TD7(it,OrderId("charm"),1093747028))
else
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.))then
call MQF(it,m5)
endif
endif
endif
elseif(i1==1328558154)then
if((m5!=null)and(SAF)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call CWE(O5,m5,false,false)
call IssueTargetOrderById(it,851983,m5)
endif
elseif(i1==1429221443)then
if(PPF==1093686322)then
set hq[240+O5]=Bz+15
if((not SE7(it))or(Id(O5)))then
if(m5!=null)then
call R2F(it,m5,true)
set hq[512+O5]=Bz+6.+(GetUnitAbilityLevel(it,PPF)*5.)
else
call R2F(it,Y57(500.,it),true)
set hq[512+O5]=Bz+6.+(GetUnitAbilityLevel(it,PPF)*5.)
endif
endif
call TriggerSleepAction(1.)
if((SAF)and(IsUnitHidden(it)))then
call ShowUnitShow(it)
endif
endif
elseif(i1==1162032951)then
if(PPF==1093678404)then
call R2F(it,Y57(550.,it),true)
elseif((PPF==1093679152)or(PPF==1093752154))then
set UP=GetUnitAbilityLevel(it,1093679152)
if((UP==0)and(PPF==1093752154))then
set UP=GetUnitAbilityLevel(it,1093752154)
if(UP>0)then
set hq[O5]=Bz+12.
endif
elseif(PPF==1093679152)then
if(UP==1)then
set hq[O5]=Bz+80.
elseif(UP==2)then
set hq[O5]=Bz+50.
elseif(UP==3)then
set hq[O5]=Bz+30.
else
set hq[O5]=Bz+80.
endif
else
set hq[O5]=Bz+80.
endif
call R2F(it,m5,true)
elseif(PPF==1093679446)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call MQF(it,m5)
endif
endif
elseif(i1==1162032181)then
if(PPF==1093683761)or(PPF==1093747767)then
set hq[O5]=Bz+180.
if SAF and G0[128+O5]then
set J4=P37(NI7[NK7+O5])and IssuePointOrderByIdLoc(it,852218,NI7[NK7+O5])
endif
endif
elseif(i1==1160786505)then
if(PPF==1093753167)then
set UP=GetUnitAbilityLevel(it,1093753167)
call MQF(it,m5)
call R2F(it,m5,true)
call TriggerSleepAction(.5)
set J4=(SAF)and(m5!=null)and(iU(it))and(((Bz>TC4[32+O5])and(IsUnitInRange(it,m5,1000.))and(SP7(900.,m5,Condition(function WY7))==0)and(IssueTargetOrderById(it,852185,m5)))or((Bz>TC4[48+O5])and(IsUnitInRange(it,m5,570.))and(IssueImmediateOrderById(it,852594)))or(IssueTargetOrderById(it,851983,m5)))
elseif(PPF==1093751607)then
if(m5!=null)then
call MQF(it,m5)
set J4=(SAF)and((Bz>TC4[O5])and(IsUnitInRange(it,m5,250.))and((GetUnitLifePercent(m5)<47.)or(GetRandomInt(1,3)==1))and(IssueImmediateOrderById(it,852526)))or(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))or(IssueTargetOrderById(it,851983,m5))
endif
elseif(PPF==1093753169)then
set UP=GetUnitAbilityLevel(it,1093753169)
if(h4[O5]!=null)then
call R2F(it,m5,true)
call TriggerSleepAction(.5)
set J4=(SAF)and(h4[O5]!=null)and(iU(it))and(IssueTargetOrderById(it,851983,h4[O5]))
endif
endif
elseif(i1==1211117653)then
if(PPF==1093687372)then
set TC4[80+O5]=Bz+60.
elseif(PPF==1093686862)then
set TC4[48+O5]=Bz+55.
if((SAF)and((GetUnitState(it,UNIT_STATE_MANA))>200)and(GetUnitLevel(it)>=10)and((Bz>TC4[O5])or(AD7(it,1093686861)))and(Bz>TC4[112+O5]))then
set J4=AO7(it,LP4,LQ4,LR4,1093686861)and IssuePointOrderById(it,852215,GetUnitX(h4[O5]),GetUnitY(h4[O5]))
endif
elseif(PPF==1093686863)then
if(SAF)then
set GZ[224+O5]=true
set J4=(h4[O5]!=null)and(IsUnitInRange(it,h4[O5],450.))and(IsUnitType(h4[O5],UNIT_TYPE_HERO))and(SR7(it,ZU[Y0]))and(UnitUseItem(it,SV7(it,ZU[Y0])))
set GZ[224+O5]=false
endif
set TC4[64+O5]=Bz+30.
elseif(PPF==1093686874)then
set TC4[16+O5]=Bz+20.
elseif(PPF==1093686855)then
set TC4[144+O5]=Bz+30.
elseif(PPF==1093686867)then
set TC4[32+O5]=Bz+30.
elseif(PPF==1093686859)then
set TC4[96+O5]=Bz+30.
if((SAF)and((GetUnitState(it,UNIT_STATE_MANA))>174)and((Bz>TC4[O5])or(AD7(it,1093686855)))and(Bz>TC4[144+O5])and(h4[O5]!=null))then
set UP=GetUnitAbilityLevel(it,1093808471)
if(UP>4)then
if(UP==5)then
call R47(0.6)
elseif(UP==6)then
call R47(0.9)
elseif(UP==7)then
call R47(1.1)
else
endif
endif
set J4=AO7(it,LR4,LR4,LR4,1093686855)and IssuePointOrderById(it,852089,GetUnitX(h4[O5]),GetUnitY(h4[O5]))
endif
elseif(PPF==1093686865)then
set TC4[128+O5]=Bz+15.
elseif(PPF==1093686861)then
set TC4[112+O5]=Bz+40.
if((SAF)and((GetUnitState(it,UNIT_STATE_MANA))>110)and((Bz>TC4[O5])or(AD7(it,1093686874)))and(Bz>TC4[16+O5])and(h4[O5]!=null))then
set J4=AO7(it,LP4,LP4,LP4,1093686874)and(S27(it,852505,1093686874,h4[O5]))
endif
if((not J4)and(SAF))then
set J4=S37(it,h4[O5])
endif
elseif(PPF==1093686864)then
set TC4[160+O5]=Bz+25.
elseif(PPF==1093808473 or PPF==1093748565)then
set UP=GetUnitAbilityLevel(it,1093808473)
if(UP>0)then
if(UP==1)then
set TC4[O5]=Bz+22.
elseif(UP==2)then
set TC4[O5]=Bz+17.
elseif(UP==3)then
set TC4[O5]=Bz+12.
else
set TC4[O5]=Bz+5.
endif
else
set UP=GetUnitAbilityLevel(it,1093748565)
if(UP>0)then
if(UP==1)then
set TC4[O5]=Bz+16.
elseif(UP==2)then
set TC4[O5]=Bz+8.
elseif(UP==3)then
set TC4[O5]=Bz+4.
else
set TC4[O5]=Bz+2.
endif
endif
endif
endif
elseif(i1==1160786502)then
if(PPF==1093751370)then
if(SAF)then
if((GetUnitLifePercent(it)<40.)or(UI4[O5]==true))then
call R47(0.7)
call TD7(it,852244,1093808206)
endif
set UH4[O5]=false
if((GetUnitLifePercent(it)<40.))then
set J4=IssueImmediateOrderById(it,852662)
else
set m5=Y57(600.,it)
if(m5!=null)then
call R2F(it,m5,true)
call TriggerSleepAction(.5)
set J4=(h4[O5]!=null)and(iU(it))and(IssueTargetOrderById(it,851983,h4[O5]))
endif
endif
set UI4[O5]=false
endif
elseif(PPF==1093753176)then
elseif(PPF==1093751371)then
set hq[O5]=Bz+110.
elseif(PPF==1093753177)then
if SAF and(h4[O5]!=null)then
call SGF(O5,it)
endif
endif
elseif(i1==1429221424)then
if(PPF==1093687351)then
if(m5==null)then
set m5=K3(600.,it,Condition(function Kr))
endif
if(not SAF)then
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitAbilityLevel(m5,1112560453)>0))then
call MQF(it,m5)
endif
elseif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitAbilityLevel(m5,1112560453)>0))then
call R2F(it,m5,true)
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((not SE7(it))and(SP7(1200.,m5,Condition(function WY7))==0)and(UP<(150+(300*GetUnitAbilityLevel(it,1093679445))))and(UP>200))then
set GZ[O5]=true
set h4[288+O5]=m5
set J4=J8(O5,(TD7(it,852129,1093679445)))
endif
if((not J4)and((not SE7(it))or(SI7(m5,it))))then
set J4=(T47(it,OrderId("creepheal"),1093748789,0,m5))or((UP>150)and(GetUnitLifePercent(m5)<40.)and(RXF(it,m5)))or(IssueTargetOrderById(it,851983,m5))or(IssueTargetOrderById(it,851986,m5))
endif
endif
elseif(PPF==1093679445)then
if(SAF)then
call ExecuteFunc("QFF")
set J4=true
endif
endif
elseif(i1==1160785972)then
if(PPF==1093677872)then
set m5=Y57(400.,it)
if(m5==null)then
set m5=Y57(700.,it)
endif
if(m5!=null)then
call R2F(it,m5,true)
call TriggerSleepAction(.5)
set J4=(SAF)and(h4[O5]!=null)and(iU(it))and(IssueTargetOrderById(it,851983,h4[O5]))
endif
elseif((SAF)and(PPF==1093677621))then
call ExecuteFunc("QNF")
set J4=true
elseif(PPF==1095263841)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call MQF(it,m5)
endif
endif
elseif(i1==1432646245)then
if(PPF==1093679171)then
call R2F(it,m5,true)
elseif((PPF==1093677640)and((not L_7())or(SE7(m5))))then
if(not L_7())then
set hq[512+O5]=Bz+5.
endif
call R2F(it,m5,true)
elseif(PPF==1093677899)then
set UP=GetUnitAbilityLevel(it,PPF)
if(UP<3)then
set hq[O5]=Bz+300.-(UP*60.)
else
set hq[O5]=Bz+125.
endif
if(not SE7(it))then
set m5=Y57(500.,it)
call R2F(it,m5,true)
call TriggerSleepAction(.5)
set J4=(SAF)and(T47(it,852095,1093677640,0,m5))
endif
endif
elseif(i1==1430468913)then
if((PPF==1093810507)and(not SE7(it)))then
call R2F(it,Y57(320.,it),true)
elseif(PPF==1093678403)then
if(not SAF)then
elseif(SE7(it))then
call VX7(it,false)
else
set m5=h4[O5]
if(m5==null)then
set m5=Y57(500.,it)
endif
set J4=(m5!=null)and(GetUnitLifePercent(m5)<50.)and(IssueTargetOrderById(it,851983,m5))
endif
elseif(PPF==1093677876)then
call R2F(it,m5,IsUnitInRange(it,m5,400.))
call O9F(it,m5)
set J4=(SAF)and(IsUnitInRange(it,m5,300.))and(TD7(it,852127,1093810507))
endif
elseif(i1==1430467634)then
if(PPF==1093679412)then
if(GetUnitLifePercent(m5)<60.)then
call R2F(it,m5,true)
endif
elseif(PPF==1093750608)then
set m5=K2(600.,HC[O5])
if((m5!=null)and(GetUnitLifePercent(m5)<70.))then
call R2F(it,m5,true)
call O9F(it,m5)
endif
set J4=(SAF)and(GetUnitManaPercent(it)>40.)and(T47(it,852231,1093679412,0,m5))
elseif((PPF==1093684565)or(PPF==1093681458))then
set UP=GetUnitAbilityLevel(it,PPF)
if((PPF==1093681458)and(UP<3))then
set UP=UP+1
endif
set hq[O5]=Bz+210.-(30.*UP)
set J4=(not SE7(it))or(SE7(m5))
call R2F(it,m5,J4)
if((SAF)and(J4))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093750608,true)
set GZ[O5]=true
set J4=J8(O5,(T47(it,852231,1093679412,0,m5))or(IssueTargetOrderById(it,852488,m5)))
endif
elseif(PPF==1093742674)then
set UP=GetUnitAbilityLevel(it,PPF)
if(SAF)and(EZ7)then
set UP=GetRandomInt(1,2)
if(UP==1)then
call DC8("YUMMY CREEP!!!",3.5,it,0.025,100,0,200,216)
elseif(UP==2)then
call DC8("MMM DELICIOUS!!!",3.5,it,0.025,100,0,200,216)
endif
endif
endif
elseif(i1==1313026096)then
if(PPF==1095267426)then
call R2F(it,m5,true)
elseif(PPF==1093677401)then
set GZ[128+O5]=false
set G0[32+O5]=false
endif
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if(PPF==1093751369)then
set UP=GetUnitAbilityLevel(it,PPF)
set hq[O5]=Bz+70.
if(SAF)then
set J4=(IssueImmediateOrderById(it,852600))
if not J4 then
set J4=((h4[O5]!=null)and(S97(h4[O5],it))and(S27(it,852119,1093815130,h4[O5])))
if(SR7(it,ZU[W2]))then
call R47(0.2)
call RemoveItem(SV7(it,ZU[W2]))
call UnitAddItemByIdSwapped(ZU[X2],it)
endif
endif
endif
endif
elseif(i1==1164666213)then
if(PPF==1093678679)then
call R2F(it,K2(125.+(25.*GetUnitAbilityLevel(it,1093678679)),HC[O5]),true)
elseif(PPF==1093677877)then
set hq[O5]=Bz+32.-(2.*GetUnitAbilityLevel(it,1093677877))
set hq[240+O5]=Bz+7.
set m5=Y57(500.,it)
if(m5!=null)then
call O9F(it,m5)
endif
if(SAF)then
set J4=(m5!=null)and(IssueTargetOrderById(it,851983,m5))
loop
if((iU(it))and(not G0[O5])and(G0[128+O5])and(GetUnitLifePercent(it)>60.))then
if(SP7(450.,it,Condition(function k3))==0)then
set m5=SK7(800.,S07(it),Condition(function k3))
set J4=((m5!=null)and(IssueTargetOrderById(it,851986,m5)))or(S57(it,851983,h8[O5]))
else
call S57(it,851983,h8[O5])
endif
endif
exitwhen((Bz>hq[240+O5])or(not S87(it)))
call R47(1.)
endloop
else
if((m5!=null)and(GetUnitLifePercent(m5)<50.))then
call MQF(it,m5)
endif
endif
elseif((PPF==1093808454)or(PPF==1093808455))then
set m5=Y57(300.,it)
if(m5!=null)then
call R2F(it,m5,true)
call O9F(it,m5)
set J4=(SAF)and(IssueTargetOrderById(it,851986,m5))
endif
elseif(PPF==1093678678)and(SAF)and(m5!=null)then
if(GetHeroLevel(it)>6)or(GetUnitLifePercent(m5)<60.)then
call MoveLocation(HA,GetUnitX(m5)+(90.+(25*GetUnitAbilityLevel(it,1093678679)))*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+(90.+(25*GetUnitAbilityLevel(it,1093678679)))*Sin(GetUnitFacing(m5)*bj_DEGTORAD))
if(RF7(GetUnitX(it),GetUnitY(it),GetLocationX(HA),GetLocationY(HA))<750)or(DX9(m5))then
set J4=S_7(it,852224,1093678679,HA)
endif
endif
endif
elseif(i1==1433168227)then
if((PPF==1093678420)or(PPF==1093679176))then
set UP=GetUnitAbilityLevel(it,PPF)
if(UP!=3)then
set hq[O5]=Bz+175.-(UP*30.)
else
set hq[O5]=Bz+60.
endif
call R2F(it,Y57(750.,it),true)
endif
elseif(i1==1430466872)then
if(PPF==1093687349)then
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call R2F(it,m5,true)
if(SAF)then
set J4=(IssueTargetOrderById(it,851983,m5))or(IssueTargetOrderById(it,851986,m5))
call R47(1.)
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((not ke(m5))and(UP>200.)and(UP<RPF(it)))then
set GZ[O5]=true
set J4=J8(O5,T47(it,852119,1093679413,1093679447,m5))
endif
endif
endif
elseif((PPF==1093679413)or(PPF==1093679447))then
set UP=GetUnitAbilityLevel(it,PPF)
if(UP!=3)then
set hq[O5]=Bz+210.-(UP*60.)
else
set hq[O5]=Bz+55.
endif
call R2F(it,m5,true)
endif
elseif(i1==1162032439)then
if((PPF==1093677363)or(PPF==1093681462))then
set hq[16+O5]=Bz+160.-(20.*GetUnitAbilityLevel(it,PPF))
set m5=Y57(600.,it)
if(m5!=null)then
set J4=(SAF)and(T47(it,OrderId("volcano"),1093744435,0,m5))
if(not J4)then
call R2F(it,m5,true)
endif
endif
endif
elseif(i1==1430466865)then
if(PPF==1093810508)then
call R2F(it,Y57(150.,it),true)
set hq[O5]=Bz+130.-(10.*GetUnitAbilityLevel(it,PPF))
endif
if(PPF==1093751364)then
if SAF then
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
if((m5==null)and(G0[128+O5]))then
set m5=SK7(300.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(SE7(m5)or GZ[208+O5]))then
set J4=(Kz(400.,S07(it))>1)and(IsUnitInRange(it,m5,300.))and(TD7(it,852164,1093810508))
endif
endif
endif
endif
elseif(i1==1211119409)then
if(PPF==1093749069)then
call R2F(it,Y57(150.,it),true)
elseif(PPF==1093749070)then
set m5=h4[O5]
if m5==null then
set m5=Y57(250.,it)
endif
if((SAF)and(m5!=null))then
set J4=(IsUnitInRange(it,m5,300.))and(IssueImmediateOrderById(it,852526))or(IssueTargetOrderById(it,851983,m5))
if h4[O5]==null then
call CWE(O5,m5,false,false)
endif
endif
endif
elseif((i1==1429221432)or(i1==1160786229))then
if(PPF==1093677892)then
set J4=(SAF)and((h4[O5]==null)or(GetUnitManaPercent(it)>50.))and(TD7(it,OrderId("channel"),1093687878))
elseif(PPF==1093679411)then
set hq[O5]=Bz+170.-(10.*GetUnitAbilityLevel(it,PPF))
set m5=h4[O5]
if((m5==null)or(not SAF))then
set m5=Y57(500.,it)
call CWE(O5,m5,false,false)
endif
if((m5!=null)and((not SE7(it))or(SE7(m5))))then
call R2F(it,m5,true)
call O9F(it,m5)
endif
endif
elseif(i1==1215722344)then
if(PPF==1093682499)then
if(m5==it)then
set m5=h4[O5]
if((m5==null)or(not SAF))then
set m5=Y57(600.,it)
endif
endif
if((m5!=null)and(IsUnitEnemy(m5,GetOwningPlayer(it))))then
call R2F(it,m5,true)
endif
elseif(PPF==1093684296)then
set hq[O5]=Bz+100.
set hq[512+O5]=Bz+6.
call R2F(it,m5,true)
call R47(1.)
if(S87(m5))then
call R2F(it,m5,true)
set J4=(SAF)and(T47(it,852668,1093682499,0,it))
endif
endif
elseif(i1==1332766568)then
if(PPF==1093686065)then
call R2F(it,m5,true)
elseif(PPF==1093683510)then
set hq[O5]=Bz+14.
set m5=Y57(250.,it)
if(m5!=null)then
call R2F(it,m5,true)
set J4=(SAF)and(IssueTargetOrderById(it,852248,m5))
endif
endif
elseif(i1==1429221451)then
if(PPF==1093678674)then
set hq[O5]=Bz+160.-(20.*GetUnitAbilityLevel(it,1093678674))
set hq[512+O5]=Bz+3.
if(SAF)then
set m5=Y57(300.,it)
if((m5==null)and(SR7(it,ZU[RW])))then
set m5=Y57(900.,it)
if(m5==null)then
set m5=Y57(1200.,it)
endif
if(m5==null)and(Bz>TC4[16+O5])then
set m5=Y57(1300.+GetUnitAbilityLevel(it,1093678671)*100,it)
endif
set J4=(m5!=null)and(UnitUseItemPoint(it,SV7(it,ZU[RW]),GetUnitX(m5),GetUnitY(m5)))
call R47(0.1)
if(m5==null)then
set hq[240+O5]=Bz+100.
endif
endif
if((not J4)and(m5!=null)and(S87(m5)))then
set J4=IssueTargetOrderById(it,851983,m5)
endif
endif
elseif(PPF==1093686067)then
set m5=Y57(180.,it)
if((SAF)and(m5!=null)and(IsUnitInRange(it,m5,200.))and(GetUnitAbilityLevel(m5,1112560453)>0))then
set J4=IssueImmediateOrderById(it,852581)
endif
elseif(PPF==1093678671)then
if(not SE7(it))then
set hq[512+O5]=Bz+3.
endif
if((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO))or(not IsUnitInRange(it,m5,200.)))then
set m5=Y57(350.,it)
endif
if(m5!=null)then
call MQF(it,m5)
if(not SAF)then
elseif((IsUnitInRange(it,m5,200.))and(S87(m5)))then
call CWE(O5,m5,false,false)
set J4=((GetUnitState(m5,UNIT_STATE_LIFE)<200.)and(IssueTargetOrderById(it,851983,m5)))or((Bz>hq[O5])and(SP7(600.,it,Condition(function WP7))>1)and(R2I(GetUnitState(it,UNIT_STATE_MANA))>150+(75*GetUnitAbilityLevel(it,1093678674)))and(SC7(it,ZU[D0])))or(IssueImmediateOrderById(it,852581))or(IssueTargetOrderById(it,851983,m5))
else
set J4=IssueTargetOrderById(it,851983,m5)
endif
endif
endif
elseif(i1==1315334514)then
if(PPF==1093810506)then
set hq[O5]=Bz+130.-(GetUnitAbilityLevel(it,PPF)*10.)
set m5=Y57(150.,it)
if(m5==null)then
set m5=Y57(300.,it)
if(m5==null)then
set m5=Y57(600.,it)
endif
endif
if(m5!=null)then
call R2F(it,m5,true)
endif
elseif((PPF==1093682521)or(PPF==1093682760)or(PPF==1093682736))then
set J4=(SAF)and(GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitManaPercent(it)>30)and(GetHeroLevel(it)>3)and((RVF(it,200.,852164,1093682521))or(RVF(it,450.,852588,1093682760))or(RVF(it,700.,852599,1093682736)))
if(not J4)then
if(PPF==1093682521)then
set UP=200
elseif(PPF==1093682760)then
set UP=450
else
set UP=700
endif
call MoveLocation(Ha,GetUnitX(it)+UP*Cos(GetUnitFacing(it)*bj_DEGTORAD),GetUnitY(it)+UP*Sin(GetUnitFacing(it)*bj_DEGTORAD))
set m5=K2(250.,Ha)
set J4=(SAF)and(m5!=null)and(IssueTargetOrderById(it,851983,m5))
endif
if((m5!=null)and(GetUnitLifePercent(m5)<50.))then
call MQF(it,m5)
endif
endif
elseif(i1==1429221446)then
if(PPF==1093678665)then
set hq[16+O5]=Bz+14.
if SAF then
set m5=Y57(225,it)
if m5!=null then
call CWE(O5,m5,false,false)
set J4=T47(it,852480,1093682764,1093747544,m5)
endif
endif
elseif(PPF==1093682764)then
set hq[O5]=Bz+30.
if SAF and GetUnitLifePercent(m5)<30 then
set J4=CPE(it,m5)
endif
endif
elseif(i1==1429221445)then
if((PPF==1093678647)or(PPF==1093679184))then
call R2F(it,m5,true)
endif
elseif(i1==1332963428)then
if(PPF==1093678169)then
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(it))))then
call J3(it,false)
loop
exitwhen(GetUnitAbilityLevel(m5,1110454854)==0)
call R47(1.)
endloop
call R5F(it,m5)
set J4=(SAF)and(G0[128+O5])and(is(it))and(T47(it,852119,1093683019,0,m5))
endif
elseif(PPF==1093677649)then
set J4=(SAF)and(S87(m5))and(not SE7(it))and((T47(it,852119,1093683019,0,m5))or(IssueTargetOrderById(it,851983,m5)))
set hq[O5]=Bz+120.
endif
elseif(i1==1332109682)then
if(PPF==1093678134)then
call R2F(it,m5,true)
set hq[O5]=Bz+12.
elseif(PPF==1093810505)then
call R2F(it,Y57(550.,it),true)
set hq[16+O5]=Bz+150.
endif
elseif(i1==1430468406)then
if((PPF==1093678899)or(PPF==1093677898)or(PPF==1093678154)or(PPF==1093678157)or(PPF==1093678158))then
if(not SE7(it))then
set m5=K2(600.,HC[O5])
if(m5!=null)then
call R2F(it,m5,true)
call O9F(it,m5)
endif
endif
endif
elseif(i1==1160786242)then
if(PPF==1093683287)then
if((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO)))then
elseif(GetUnitLifePercent(m5)<60.)then
call R2F(it,m5,true)
if((SE7(m5))and(SAF))then
set J4=IssueImmediateOrderById(it,852490)
endif
else
call MQF(it,m5)
endif
elseif(PPF==1093683257)then
call R2F(it,Y57(1000.,it),true)
set hq[240+O5]=Bz+2.+(1.5*GetUnitAbilityLevel(it,1093683257))
set hq[16+O5]=Bz+180.-(30.*GetUnitAbilityLevel(it,1093683257))
elseif(PPF==1093683265)then
call R2F(it,Y57(500.,it),true)
if(SAF)then
call AX7(it)
endif
endif
elseif(i1==1160786241)then
if(PPF==1093684813)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call R2F(it,m5,GetUnitLifePercent(it)>50.)
if((SAF)and((GetUnitLifePercent(it)>50.)or(GetUnitLifePercent(m5)<40.)))then
call R47(0.5)
set J4=T47(it,852089,1093684815,0,m5)
endif
endif
elseif(PPF==1093684815)then
set m5=K2(300.,HC[O5])
if(m5!=null)then
call R2F(it,m5,true)
set J4=(SAF)and(((not kr(it))and(T47(it,852597,1093684820,1093684824,m5)))or(T47(it,852119,1093684813,0,m5)))
endif
elseif((PPF==1093684820)or(PPF==1093684824))then
set hq[O5]=Bz+90.
endif
elseif(i1==1429221456)then
if(PPF==1093685066)then
call R47(GetUnitAbilityLevel(it,1093685066)+0.6)
if((m5!=null)and(S87(m5))and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitVisible(m5,GetOwningPlayer(it))))then
call R2F(it,m5,GetUnitLifePercent(it)>50.)
endif
elseif((PPF==1093685067)or(PPF==1093752407))then
set hq[O5]=Bz+160.
call R2F(it,K2(500.,HC[O5]),true)
elseif(PPF==1093685065)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call MQF(it,m5)
endif
endif
elseif(i1==1160786243)then
if(PPF==1093681491)then
if((IsUnitEnemy(m5,GetOwningPlayer(it)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call R2F(it,m5,true)
endif
elseif(PPF==1093683765)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call MQF(it,m5)
call R5F(it,m5)
if(SAF)then
if((GetUnitLifePercent(m5)<80.)or(GZ[O5]))then
set GZ[O5]=true
set J4=J8(O5,T47(it,852224,1395667000,0,m5))
endif
set J4=(J4)or(IssueTargetOrderById(it,852248,m5))
endif
endif
elseif(PPF==1395667000)or(PPF==1395667029)then
set hq[O5]=Bz+165.
set m5=K2(500.,HC[O5])
if(m5!=null)then
call R2F(it,m5,true)
call TriggerSleepAction(0.7)
if((SAF)and(SR7(it,ZU[RW]))and(not IsUnitInRange(it,m5,250.))and(GetUnitLifePercent(it)>70.)and(GetUnitAbilityLevel(it,1093678672)>1)and(Bz>hq[16+O5]))then
set J4=(GetHeroLevel(it)>5)and(RAF(it,m5))
endif
call TriggerSleepAction(0.1)
if((SAF)and(PPF==1395667029)and(SR7(it,ZU[D44]))and(GetUnitState(it,UNIT_STATE_MANA)>525+50*GetUnitAbilityLevel(it,1395667029)))then
set J4=(UnitUseItem(it,bj_lastCreatedItem))
if J4 then
call TriggerSleepAction(0.1)
set J4=T47(it,852224,1395667000,0,m5)
endif
endif
endif
elseif(PPF==1093678672)then
set hq[16+O5]=Bz+20.
endif
elseif((i1==1211117641)or(i1==1211117642))then
if(PPF==1093684802)then
set m5=K2(200.,HC[O5])
if(m5!=null)then
call R2F(it,m5,true)
if(SAF)then
call R3F(M7[O5],m5)
call R3F(M7[16+O5],m5)
call R3F(M7[32+O5],m5)
call R3F(M7[48+O5],m5)
endif
endif
elseif(PPF==1093684792)then
set m5=Y57(400.,it)
if((SAF)and(not SE7(it))and(m5!=null))then
call R47(0.5)
set J4=(GetUnitAbilityLevel(m5,1110456120)==0)and(R6F(it,m5))
endif
endif
elseif(i1==1311781207)then
if(PPF==1093742673)then
if((IsUnitEnemy(m5,GetOwningPlayer(it)))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call R2F(it,m5,true)
set J4=(SAF)and(T47(it,852095,1093684817,0,m5))
endif
elseif(PPF==1093684817)then
call R2F(it,m5,true)
set J4=(SAF)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IssueTargetOrderById(it,852248,m5))
elseif(PPF==1093742668)then
set hq[O5]=Bz+300.-(GetUnitAbilityLevel(it,PPF)*50.)
endif
elseif(i1==1311780946)then
if(PPF==1093677385)then
set m5=K2(250.,HC[O5])
if((m5!=null)and(GetUnitLifePercent(m5)<60.))then
call R2F(it,m5,true)
call O9F(it,m5)
endif
elseif(PPF==1093685825)then
set m5=K2(250.,HC[O5])
if(m5!=null)then
call R2F(it,m5,true)
if((not SE7(it))and(SAF))then
set J4=T47(it,852238,1093677385,0,m5)
endif
endif
elseif(PPF==1093685808)then
call R47(1.)
call IV(GetUnitX(it),GetUnitY(it),1000.,Condition(function Kq),function RLF)
if(SAF)then
call AX7(it)
endif
endif
elseif((i1==1211117650)or(i1==1211119433))then
if(PPF==1093685590)then
set m5=Y57(550.,it)
if(m5!=null)then
if(GetUnitLifePercent(m5)<60.)then
call O9F(it,m5)
endif
if((SAF)and((GetUnitLifePercent(m5)<60.)or(GetUnitManaPercent(it)>60.)))then
set IN4=it
set J4=(SP7(1000.,it,Condition(function ny))>6)and(IssueTargetOrderById(it,852699,m5))
endif
endif
elseif((PPF==1093685813)or(PPF==1093685811))then
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(it)))and(GetUnitLifePercent(m5)<60))then
call R2F(it,m5,true)
if(PPF==1093685811)then
call R5F(it,m5)
set h4[16+O5]=m5
if((SAF)and(not SE7(it)))then
set IN4=it
set J4=(TD7(it,1093685590,851971))or((SP7(1000.,it,Condition(function ny))>4)and(IssueTargetOrderById(it,852699,m5)))
endif
endif
endif
endif
elseif(i1==1211117646)then
if(PPF==1093685573)then
set m5=K2(250.,HC[O5])
if((m5!=null)and(GetUnitLifePercent(m5)<60.))then
call R2F(it,m5,true)
call O9F(it,m5)
endif
elseif(PPF==1093685575)then
set UP=R2I(50.+(100.*GetUnitAbilityLevel(it,1093685573)))
if(m5!=null)then
set m5=Y57(I2R(UP),m5)
endif
if((SAF)and(m5!=null))then
set PPF=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093685573,true)
set J4=IssuePointOrderById(it,852089,GetUnitX(m5)+I2R(PPF)*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+I2R(PPF)*Sin(UP*bj_DEGTORAD))
endif
elseif(PPF==1093685579 or PPF==1093808465)then
set hq[O5]=Bz+100.
endif
elseif(i1==1211117624)then
if(PPF==1093682775)then
call R2F(it,m5,true)
elseif(PPF==1093683024)then
set m5=Y57(600.,it)
if((m5!=null)and(GetUnitLifePercent(m5)<65.))then
call R2F(it,m5,true)
endif
endif
elseif(i1==1160785973)then
if((PPF==1093678388)or(PPF==1093677141))then
set UP=GetUnitAbilityLevel(it,PPF)
call R2F(it,Y57(650.,it),true)
call R47(5.)
if(PPF==1093678388)then
set hq[O5]=Bz+155.-(UP*20.)
else
set hq[O5]=Bz+145.-(UP*20.)
endif
endif
elseif(i1==1315988077)then
if(PPF==1093678669)then
call R2F(it,Y57(250.,it),true)
set hq[O5]=Bz+12.
endif
elseif(i1==1211117616)then
if(PPF==1093677139)then
call R2F(it,Y57(300.,it),true)
set hq[O5]=Bz+15.
set J4=(SAF)and(IssueImmediateOrderById(it,852526))
endif
elseif(i1==1311788343 or i1==1311788355 or i1==1311788367 or i1==1311788353 or i1==1311788354)then
if SAF and(PPF==1093815877)then
set J4=(h4[O5]!=null)and IssueTargetOrderById(it,852119,Y77(h4[O5]))
if J4 then
call TriggerSleepAction(0.3)
endif
call IssueTargetOrderById(it,851983,h4[O5])
endif
if SAF and(PPF==1093687856)then
set OA7=GetSpellTargetUnit()
if GetUnitTypeId(it)==1311788343 then
call IssueImmediateOrderById(it,852180)
call TriggerSleepAction(0.125)
endif
set J4=IssueTargetOrderById(it,852119,Y77(it))
if J4 then
call TriggerSleepAction(0.125)
endif
call IssueTargetOrderById(it,851983,OA7)
set OA7=null
endif
elseif(i1==1311788363 or i1==1311788365)then
if SAF and(PPF==1093815601)then
set h4[O5]=GetSpellTargetUnit()
set J4=IssuePointOrderByIdLoc(it,852600,CL7(it,h4[O5],999999,3.3,0))
call TriggerSleepAction(.3)
call IssueTargetOrderById(it,851983,h4[O5])
elseif SAF and(PPF==1093815600)then
set m5=PS7((m5!=null)and(G0[128+O5]),m5,Z47((500+100*(GetUnitAbilityLevel(it,1093815601))),it,Condition(function k6)))
set J4=(m5!=null)and(G0[128+O5]and(GetUnitState(it,UNIT_STATE_MANA)>225. or SP7(600,it,Condition(function XI7))>=1))and IssueTargetOrderById(it,852095,m5)
set h4[O5]=PS7(h4[O5]!=null or(not J4),h4[O5],m5)
endif
elseif(i1==1315074670)then
if(PPF==1093677622)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call MQF(it,m5)
endif
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if(PPF==1093677895)then
set hq[O5]=Bz+135.
set m5=h4[O5]
if((m5==null)or(not SAF))then
set m5=Y57(700.,it)
call CWE(O5,m5,false,false)
endif
if(m5!=null)then
call R2F(it,m5,true)
call O9F(it,m5)
set J4=(SAF)and(((IsUnitInRange(it,m5,350.))and(S27(it,852095,1093681490,m5)))or(IssueTargetOrderById(it,851983,m5)))
endif
endif
elseif(i1==1164207469)then
if(PPF==1093682483)then
call R2F(it,m5,true)
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
set m5=h4[O5]
if(PPF==1093748042)then
if m5==null then
set m5=Y57(700.,it)
endif
if(m5!=null)then
call R2F(it,m5,true)
call O9F(it,m5)
endif
elseif(PPF==1093808461)and(m5!=null)and SAF then
if(m5!=null)and(IsUnitInRange(it,m5,200.))then
set J4=(i1==1311781174)and(TD7(it,852138,1093681733))
if J4 then
set i1=1311781175
endif
elseif(m5!=null)and((GetUnitLifePercent(m5)<15.)or((not G0[256+O5])and(PE7(it)<2000.)))then
elseif(GetHeroLevel(it)>=6 or h4[O5]!=null)and(SZ7(it,ZU[D0]))then
set J4=(i1==1311781174)and(TD7(it,852138,1093681733))
endif
if(not J4)then
call IssueTargetOrderById(it,851983,m5)
endif
elseif(PPF==1093681733)and(m5!=null)and SAF then
call IssueTargetOrderById(it,851983,m5)
if(not J4)and(h4[O5]!=null)then
call TriggerSleepAction(0.1)
if(i1!=1311781174)then
set J4=S27(it,852218,1093808461,m5)
else
set J4=(IsUnitInRange(it,m5,400.)and(TD7(it,852096,1093808462)))
endif
endif
endif
elseif(i1==1433631084)then
if(PPF==1093678160)then
call MQF(it,m5)
set hq[O5]=Bz+40.-(10.*GetUnitAbilityLevel(it,1093678160))
endif
elseif(i1==1315007329)then
if(PPF==1093678913)then
set hq[O5]=Bz+20.
if(SAF)then
call ExecuteFunc("QNF")
set J4=true
endif
endif
elseif(i1==1332898670)then
if(PPF==1093677136)then
set J4=(SAF)and((T47(it,852502,1093685848,0,m5))or(IssueTargetOrderById(it,851983,m5)))
set hq[16+O5]=Bz+16.
endif
elseif(i1==1215128178)then
if(PPF==1093677616)then
set J4=(SAF)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.)and(T47(it,852095,1093683779,0,m5))
elseif(PPF==1093683779)then
set J4=(SAF)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.)and(T47(it,852119,1093677616,0,m5))
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call MQF(it,m5)
endif
elseif((PPF==1093810503)or(PPF==1093810504))then
set hq[O5]=Bz+120.
call R2F(it,Y57(700.,it),true)
endif
elseif(i1==1164799855)then
if(PPF==1093682264)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call R2F(it,m5,true)
endif
set hq[O5]=Bz+35.-(GetUnitAbilityLevel(it,PPF)*5.)
elseif(PPF==1093682265 or PPF==1093752642)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call MQF(it,m5)
endif
endif
elseif(i1==1433105516)then
if(PPF==1093683511)then
set hq[16+O5]=Bz+15.
call R2F(it,m5,true)
if((SAF)and(IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(it)>5)or(SE7(m5))))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))
set J4=IssuePointOrderById(it,852600,GetUnitX(m5)+100.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+100.*Sin(UP*bj_DEGTORAD))
endif
elseif(PPF==1093681713)then
set b5=HC[O5]
set m5=K2(400.,b5)
if(m5!=null)then
call O9F(it,m5)
endif
if((SAF)and(not kr(it)))then
set J4=(m5!=null)and(GetUnitLifePercent(m5)<75.)and((TH7(not IsUnitAlly(it,Z7[0]))<=2)or(GetHeroLevel(it)<11))and(IssuePointOrderByIdLoc(it,OrderId("cannibalize"),b5))
if(not J4)then
set UP=SO7(400.,b5,Condition(function WP7))
set J4=((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0])))or((UP>0)and(SO7(700.,b5,Condition(function WP7))>1)and(SO7(700.,b5,Condition(function WA7))>0)))and(IssuePointOrderByIdLoc(it,OrderId("cannibalize"),b5))
endif
endif
elseif(PPF==1093747288)then
set UP=GetUnitAbilityLevel(it,PPF)
set hq[O5]=Bz+210.-(UP*10.)
set m5=Y57(400.,it)
set J4=(SAF)and(m5!=null)and(IssueTargetOrderById(it,851983,m5))
endif
elseif(i1==1214409837)then
if(PPF==1093679157)then
set hq[O5]=Bz+10.
call MoveLocation(Ha,GetUnitX(it)+400*Cos(GetUnitFacing(it)*bj_DEGTORAD),GetUnitY(it)+400*Sin(GetUnitFacing(it)*bj_DEGTORAD))
set m5=K2(400.,Ha)
if(m5!=null)then
call O9F(it,m5)
endif
endif
elseif(i1==1316252014)then
if(PPF==1093678137)then
set hq[32+O5]=Bz+14.
if(GetUnitLifePercent(m5)<60.)then
call R2F(it,m5,true)
endif
elseif(PPF==1093678405)then
set hq[O5]=Bz+25.
elseif(PPF==1093681745)then
set hq[16+O5]=Bz+35.
set m5=K2(500.,HC[O5])
if(m5!=null)then
call O9F(it,m5)
endif
if((SAF)and(m5!=null)and(SR7(it,ZU[D74])))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,m5)
endif
elseif(PPF==1093678645)then
set hq[O5]=Bz
set hq[16+O5]=Bz
set hq[32+O5]=Bz
set hq[80+O5]=Bz
set hq[96+O5]=Bz
endif
elseif(i1==1328558160)then
if(PPF==1093682998)then
if((SAF)and(GetHeroLevel(it)>5)and((not SE7(it))or(Id(O5))))then
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.)and(not IsUnitInRange(it,m5,300.)))then
set GZ[O5]=true
set J4=(J8(O5,T47(it,852218,1093682766,0,m5)))
endif
endif
elseif(PPF==1093683000)then
call R2F(it,Y57(700.,it),true)
elseif(PPF==1093683011)then
call R2F(it,Y57(500.,it),true)
endif
elseif(i1==1212363833)then
if(PPF==1093678933)then
set hq[32+O5]=Bz+120.
call R47(0.5)
set J4=(SAF)and(not SE7(it))and(TD7(it,852123,1093678643))
elseif(PPF==1093809220)then
set hq[O5]=Bz+14.
call R2F(it,m5,true)
set J4=(SAF)and(not SE7(it))and((TD7(it,852526,1093815125))or(TD7(it,852123,1093678643)))
elseif(PPF==1093678643)and(SAF and(h4[O5]!=null)and(not SE7(it)))then
set J4=(LF7(it,h4[O5]))and(TD7(it,852526,1093815125))
endif
elseif(i1==1315070563)then
if(PPF==1093678407)then
set hq[240+O5]=Bz+5.
set m5=Y57(600.,it)
if(m5!=null)then
call O9F(it,m5)
endif
if(SAF)then
loop
if((m5!=null)and(GetUnitLifePercent(m5)<GetUnitLifePercent(it)))then
call IssuePointOrderById(it,851986,GetUnitX(m5)+GetRandomReal(0,300.)-150.,GetUnitY(m5)+GetRandomReal(0,300.)-150.)
elseif((not G0[O5])and(G0[128+O5])and(not SE7(it)))then
if(SP7(200.,it,Condition(function k3))==0)then
call S57(it,851983,h8[O5])
endif
endif
if(not G0[128+O5])then
set m5=null
endif
exitwhen(Bz>=hq[240+O5])
call R47(0.5)
endloop
set m5=Y57(500.,it)
if((m5!=null)and(not ke(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)<1200.)and(GetUnitAbilityLevel(m5,1113815395)==0)and(GetUnitAbilityLevel(m5,1113815346)==0))then
set UP=SP7(850.,m5,Condition(function WP7))
set J4=((UP-(SP7(850.,m5,Condition(function k3))))>=0)and(T47(it,852095,1093684529,1093747032,m5))
endif
else
call MQF(it,m5)
endif
endif
elseif(i1==1214931305)then
if(PPF==1093686067)then
set m5=Y57(450.,it)
if((SAF)and(m5!=null)and(not SE7(it)))then
set J4=IssueImmediateOrderById(it,852600)
endif
elseif((PPF==1093677906)or(PPF==1093681494))then
set hq[O5]=Bz+180.-(GetUnitAbilityLevel(it,PPF)*30.)
endif
elseif(i1==1212365106)then
if(PPF==1093685831)then
set hq[O5]=Bz+15.
set b5=HC[O5]
set m5=K2(I2R(250+(25*GetUnitAbilityLevel(it,1093685831))),b5)
if(m5!=null)then
call R2F(it,m5,true)
set J4=(SAF)and(not SE7(it))and(G0[128+O5])and(not IsUnitInRangeLoc(m5,b5,200.))and(IssueTargetOrderById(it,852600,m5))
endif
endif
elseif(i1==1211117617)then
if(PPF==1093686067)then
set m5=Y57(800.,it)
set J4=(SAF)and(m5!=null)and(TD7(it,OrderId("chemicalrage"),1093752648))
endif
elseif(i1==1211117633)then
if(PPF==1093684310)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(it)))and(GetUnitLifePercent(m5)<60.))then
call R2F(it,m5,true)
endif
elseif(PPF==1093810260)then
set hq[O5]=Bz+30.
elseif(PPF==1093684308 or PPF==1093747539)then
set hq[16+O5]=Bz+120.
endif
elseif(i1==1211117620)then
if((PPF==1093677392)or(PPF==1093679450))then
if(UP!=3)then
set hq[O5]=Bz+210.-(UP*60.)
else
set hq[O5]=Bz+55.
endif
call R2F(it,m5,true)
endif
elseif(i1==1432580716)or(i1==1429221720)then
if(PPF==1093684300)then
set b5=HC[O5]
set m5=K2(300.,b5)
if(m5!=null)then
call R2F(it,m5,true)
call TriggerSleepAction(1.)
set J4=(SAF)and(IsUnitInRange(it,m5,250.))and(SO7(300.,b5,Condition(function k0))<=2)and(IssueTargetOrderById(it,852600,m5))
endif
elseif(PPF==1093681754)then
set hq[O5]=Bz+15.
call R47(1.2)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call R2F(it,m5,true)
endif
elseif(PPF==1093752391)then
set TC4[64+O5]=Bz+30
call R47(0.8)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call R2F(it,m5,true)
endif
endif
elseif(i1==1333027688)then
if(PPF==1093682252)then
call R2F(it,Y57(250.,it),true)
elseif(PPF==1093682248 or PPF==1093750594)then
set hq[O5]=Bz+170.-(GetUnitAbilityLevel(it,PPF)*20.)
call R2F(it,Y57(500.,it),true)
elseif(PPF==1093686091)then
set m5=K3(900.,it,Condition(function Kr))
if(m5!=null)then
call R2F(it,m5,true)
set J4=(SAF)and(GetUnitLifePercent(it)>50.)and(GetUnitLifePercent(m5)<60.)and(G0[128+O5])and(SP7(700.,m5,Condition(function WP7))<=2)and(RAF(it,m5))
endif
endif
elseif(i1==1311781185)then
if(PPF==1093743692)then
if(GetUnitLifePercent(m5)<60.)or(GetUnitManaPercent(it)>60 or GetUnitState(it,UNIT_STATE_MANA)>400.)then
set J4=(SAF)and IssueTargetOrderById(it,852095,m5)
call R2F(it,m5,true)
endif
elseif(PPF==1093684275)then
set hq[O5]=Bz+160.
elseif(PPF==1093684314)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call MQF(it,m5)
endif
endif
elseif(i1==1211117643)then
if(PPF==1093678658)then
call R2F(it,Y57(300.,it),true)
endif
if(PPF==1093678410 or PPF==1093678664 or PPF==1093681483 or PPF==1093748313)and SAF then
set b5=HC[O5]
if(h9[48+O5]!=null)and(IsUnitInRangeLoc(h9[48+O5],b5,600.))then
set EI7=300
call MoveLocation(HA,GetUnitX(h9[48+O5]),GetUnitY(h9[48+O5]))
if GetUnitUserData(h9[48+O5])>100 then
set EI7=150
endif
else
set EI7=150
call MoveLocation(HA,GetLocationX(b5),GetLocationY(b5))
endif
if(not J4)and(Bz>TC4[16+O5])and(GetUnitState(it,UNIT_STATE_MANA)>LRE(it,1093678410,GR7)+LRE(it,1093678658,GR7))then
call MoveLocation(HA,GetLocationX(HA)+GetRandomReal(-EI7,EI7),GetLocationY(HA)+GetRandomReal(-EI7,EI7))
set J4=(S_7(it,852278,1093678410,HA))
endif
set bj_lastLoadedUnit=it
if(not J4)and(Bz>TC4[32+O5])and(GetUnitState(it,UNIT_STATE_MANA)>LRE(it,1093678664,GR7)+LRE(it,1093678658,GR7))and(SO7(600.,HA,Condition(function YU7))==0)then
call MoveLocation(HA,GetLocationX(HA)+GetRandomReal(-100.,100.),GetLocationY(HA)+GetRandomReal(-100.,100.))
set J4=(S_7(it,852114,1093678664,HA))
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>TC4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>LRE(it,1093681483,GR7)+LRE(it,1093748313,GR7)+LRE(it,1093678658,GR7))and(SO7(600.,HA,Condition(function KG))<8))then
set hq[240+O5]=Bz+5.
set J4=(T77(it,852504,1093681483,1093748313,GetLocationX(HA)+GetRandomReal(-EI7,EI7),GetLocationY(HA)+GetRandomReal(-EI7,EI7)))
endif
if(not J4)and((PPF==1093678410)or(PPF==1093678664))and SAF then
call CTE(it,false)
endif
endif
elseif(i1==1215657064)then
if(PPF==1093684291)then
set m5=Y57(550.,it)
set J4=(SAF)and(m5!=null)and(((IsUnitInRange(it,m5,250.))and(TD7(it,852096,1093677913)))or(IssueTargetOrderById(it,851983,m5)))
endif
elseif(i1==1214344551)then
if(PPF==1093678938)then
set m5=Y57(700.,it)
call R2F(it,m5,true)
if((SAF)and(m5!=null))then
set J4=RZF(it)
call R47(1.)
call IssueTargetOrderById(it,851983,m5)
else
call R47(1.)
endif
call R47(7.)
set hq[O5]=Bz+152.
endif
elseif(i1==1211117636)then
if(PPF==1093685042 or PPF==1093810233)then
set hq[O5]=Bz+60.
call R2F(it,m5,true)
if(SAF)then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093685041,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852218,GetUnitX(it)+900.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+900.*Sin(UP*bj_DEGTORAD)))
endif
elseif(PPF==1093685041)then
if(m5==null)then
set m5=K2(300.,HC[O5])
endif
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call R2F(it,m5,true)
endif
endif
elseif(i1==1160786000)then
if(PPF==1093685047)then
set m5=Y57(500.,it)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call R2F(it,m5,true)
set J4=(SAF)and(S_7(it,852580,1093685046,CL7(it,m5,2000.,0.65,1100.)))
endif
elseif(PPF==1093685046)then
set hq[O5]=Bz+16.
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call R2F(it,m5,true)
call R47(1.5)
set J4=(SAF)and(GetUnitLifePercent(m5)<65.)and(GetUnitState(m5,UNIT_STATE_LIFE)>150.)and(IsUnitType(m5,UNIT_TYPE_STUNNED))and(T47(it,852125,1093685045,0,m5))
endif
elseif(PPF==1093685045)then
if(m5==null)then
set m5=K2(650.,HC[O5])
endif
call R2F(it,m5,true)
if(m5!=null)then
call O9F(it,m5)
set J4=(SAF)and(S_7(it,852580,1093685046,CL7(it,m5,2000.,0.65,1100.)))
endif
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
if(PPF==1093683532)then
set hq[O5]=Bz+22.
set m5=K2(600.,HC[O5])
if(m5!=null)then
call R2F(it,m5,true)
call O9F(it,m5)
endif
elseif(PPF==1093750345)then
if((S87(m5))and(GetUnitLifePercent(m5)<65.))then
call MQF(it,m5)
endif
elseif(PPF==1095656306)then
set hq[512+O5]=Bz+6.
set m5=Y57(500.,it)
if(m5!=null)then
call O9F(it,m5)
set J4=(SAF)and(not SE7(it))and(IssueTargetOrderById(it,851983,m5))
endif
endif
elseif(i1==1311781206)then
if(PPF==1093684054)then
set hq[O5]=Bz+12.
set m5=Y57(400.,it)
if((m5!=null)and(GetUnitLifePercent(m5)<60.))then
call R2F(it,m5,true)
endif
elseif(PPF==1093684280)then
set hq[32+O5]=Bz+25.
call R47(0.1)
if(m5==null)then
set m5=K2(200.,HC[O5])
endif
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call R2F(it,m5,true)
endif
elseif(PPF==1093684053)then
set hq[16+O5]=Bz+160.
endif
elseif(i1==1211117651)then
elseif(i1==1211117649)then
if(PPF==1093685586)then
call R2F(it,m5,true)
elseif(PPF==1093685582)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call MQF(it,m5)
endif
endif
elseif(i1==1160786265)then
if(PPF==1093748033)then
call R2F(it,Y57(300.,it),true)
endif
elseif(i1==1311780930)then
if(PPF==1093686083)then
set hq[16+O5]=Bz+20.
set m5=Y57(400.,it)
if(m5!=null)then
call R2F(it,m5,true)
if((SAF)and(GetUnitLifePercent(m5)<60.))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(TG7(m5)),GetUnitX(m5)-GetUnitX(TG7(m5))))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093686072,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5)+250.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+250.*Sin(UP*bj_DEGTORAD)))
endif
endif
elseif((PPF==1093686072)or(PPF==1093751120))then
set hq[O5]=Bz+85.
set m5=K2(400.,HC[O5])
if(m5!=null)then
call R2F(it,m5,true)
set J4=(SAF)and(IsUnitInRange(it,m5,400.))and(IssueImmediateOrderById(it,852600))
endif
elseif(PPF==1093686081)then
set m5=Y57(400.,it)
if((m5!=null)and(not SE7(it)))then
call R2F(it,m5,true)
set J4=(SAF)and(IssueImmediateOrderById(it,852600))
if((not J4)and(SAF)and(GetUnitLifePercent(m5)<60.))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(TG7(m5)),GetUnitX(m5)-GetUnitX(TG7(m5))))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093686072,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5)+250.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+250.*Sin(UP*bj_DEGTORAD)))
endif
endif
if(SAF)then
call R47(1.)
call AX7(it)
endif
endif
elseif(i1==1311786311)then
if(PPF==1093743178)then
if SAF and GetUnitAbilityLevel(GetSpellTargetUnit(),1112560453)>1 then
call CWE(O5,m5,false,false)
set J4=IssueTargetOrderById(it,852581,m5)
endif
endif
elseif(i1==1211117652)then
if(PPF==1093687864)or(PPF==1093747542)or(PPF==1093687861)and SAF then
set m5=h4[O5]
if(m5==null)or(not IsUnitInRange(it,m5,170))then
set m5=Y57(170.,it)
if m5!=null then
call CWE(O5,m5,false,false)
endif
endif
if(PPF==1093687861)then
if SE7(it)then
set bj_lastReplacedUnit=h9[16+O5]
set J4=true
elseif m5==null then
if h4[O5]!=null then
set bj_lastReplacedUnit=h4[O5]
else
set bj_lastReplacedUnit=h8[O5]
endif
set J4=true
endif
if J4 then
set m5=U87(GetHandleId(it),"AI|Cog1")
set bj_lastLoadedUnit=U87(GetHandleId(it),"AI|Cog2")
if RE7(m5,bj_lastReplacedUnit)>RE7(bj_lastLoadedUnit,bj_lastReplacedUnit)then
set m5=bj_lastLoadedUnit
endif
set bj_lastLoadedUnit=U87(GetHandleId(it),"AI|Cog3")
if RE7(m5,bj_lastReplacedUnit)>RE7(bj_lastLoadedUnit,bj_lastReplacedUnit)then
set m5=bj_lastLoadedUnit
endif
set bj_lastLoadedUnit=U87(GetHandleId(it),"AI|Cog4")
if RE7(m5,bj_lastReplacedUnit)>RE7(bj_lastLoadedUnit,bj_lastReplacedUnit)then
set m5=bj_lastLoadedUnit
endif
if m5!=null then
set h4[96+O5]=m5
set J4=IssueTargetOrderById(it,851983,m5)
if J4 then
set hq[832+O5]=Bz+1.
endif
loop
exitwhen GetWidgetLife(h4[96+O5])<.405
set J4=IssueTargetOrderById(it,851983,m5)
call R47(0.5)
endloop
call J3(it,false)
endif
endif
endif
if(not J4)and(m5!=null)then
if(not J4)and(Bz>TC4[32+O5])and(m5!=null)and(IsUnitInRange(it,m5,210))then
set J4=IssueImmediateOrderById(it,852581)
endif
if(not J4)and(Bz>TC4[16+O5])and(m5!=null)and(IsUnitInRange(it,m5,275))then
set J4=IssueImmediateOrderById(it,852600)
endif
endif
endif
elseif(i1==1211119187)then
set bj_forLoopAIndex=(GetUnitAbilityLevel(it,1093742926)-2)
if(PPF==1093742926)and(SAF)and(h4[O5]!=null)and(bj_forLoopAIndex>=0)and(Bz>TC4[16+O5])and(not SE7(it))then
set TC4[16+O5]=Bz+4.
set b5=HC[O5]
if bj_forLoopAIndex>0 then
call R47(bj_forLoopAIndex)
endif
call S_7(it,852089,1093743414,b5)
endif
elseif(i1==1328558389)then
if PPF==1093747000 and SAF then
set m5=h4[O5]
set b5=HC[O5]
if m5==null or((not IsUnitInRange(it,m5,300))and(not IsUnitInRangeLoc(it,b5,300)))then
set m5=Y27(300.,it)
set bj_lastReplacedUnit=Y_7(300.,it,GetLocationX(b5),GetLocationY(b5))
endif
if(Bz>TC4[16+O5])then
set J4=(h4[O5]!=null)
if GetUnitLifePercent(bj_lastReplacedUnit)<70. then
set J4=true
elseif GetUnitLifePercent(m5)<70. then
set J4=true
endif
set J4=((J4)and(IssueImmediateOrderById(it,852581)))
endif
if(not J4)then
set J4=IssueImmediateOrderById(it,852217)
endif
elseif PPF==1093747009 and SAF then
set m5=h4[O5]
set b5=S07(it)
if(SK4[O5]!=null)and(GetWidgetLife(SK4[O5])>.405)then
call MoveLocation(b5,GetUnitX(SK4[O5]),GetUnitY(SK4[O5]))
endif
set J4=false
if((m5==null or((not IsUnitInRange(it,m5,475))and(not IsUnitInRangeLoc(m5,b5,475)))))then
if G0[256+O5]then
set m5=Y27(475.,it)
set bj_lastReplacedUnit=Y_7(475.,it,GetLocationX(b5),GetLocationY(b5))
if GetUnitLifePercent(m5)<GetUnitLifePercent(bj_lastReplacedUnit)then
call CWE(O5,m5,false,false)
set J4=true
else
set h4[O5]=bj_lastReplacedUnit
set m5=bj_lastReplacedUnit
set J4=true
endif
endif
else
set J4=true
endif
if((J4)and(Bz>TC4[O5])and(not IsUnitIllusion(m5))and(GetUnitLevel(it)>=6)and(h4[O5]!=null)and(IsUnitInRange(it,m5,1200.)))then
set J4=(IssuePointOrderByIdLoc(it,852600,S07(m5)))
else
set J4=false
endif
if(not J4)then
set J4=IssueImmediateOrderById(it,852217)
endif
endif
elseif(i1==1328558390)then
if PPF==1093744975 then
if SAF then
set J4=TD7(it,852180,1093744986)
if J4 then
call R47(0.1)
call S57(it,851986,h9[O5])
endif
endif
endif
elseif(i1==1160786504)then
if PPF==1093751608 and SAF then
if(SP7(450,m5,Condition(function X47))<=1)then
set J4=S27(it,852089,1093751618,m5)
endif
elseif PPF==1093751618 then
set m5=U87(GetHandleId(it),"AI|SoulCatcherTgt")
if SAF then
if(h4[O5]==null)or(m5!=h4[O5]and GetUnitLifePercent(m5)<GetUnitLifePercent(h4[O5]))then
call CWE(O5,m5,false,false)
endif
endif
call R5F(it,m5)
endif
elseif(i1==1160786520)then
if(PPF==1093809991)then
set m5=Y57(500.,it)
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))then
call R2F(it,m5,true)
set J4=(SAF)and(T47(it,852214,1093809990,0,m5))
endif
elseif(PPF==1093809990)then
set hq[O5]=Bz+18.
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call R2F(it,m5,true)
endif
if(SAF)then
set DU7=m5
set bj_lastLoadedUnit=Y57(600.,m5)
set DU7=null
if bj_lastLoadedUnit==null then
if SE7(it)then
set SCF=Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))
set J4=IssuePointOrderById(it,852598,GetUnitX(m5)+375*Cos(SCF),GetUnitY(m5)+375*Sin(SCF))
elseif SE7(m5)or(not IsUnitType(m5,UNIT_TYPE_MELEE_ATTACKER))then
set J4=S57(it,852598,it)
endif
else
set J4=S57(it,852598,bj_lastLoadedUnit)
endif
set bj_lastLoadedUnit=null
endif
elseif PPF!=1093809992 and PPF!=1093810008 and hq[816+O5]>Bz and SAF then
set G0[288+O5]=true
call SBF()
endif
elseif(i1==1160786507)then
if(PPF==1093813065)then
call R2F(it,m5,true)
call R2F(m5,it,true)
endif
elseif(i1==1311788336)then
if PPF==1093814860 and SAF then
call R47(0.2)
set m5=Y57(350.,it)
set bj_lastCreatedUnit=it
if(m5!=null)and(Bz>TC4[16+O5])and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70))and(SP7(400.,it,Condition(function X77))<=2)then
set J4=TD7(it,852526,1093814323)
endif
endif
elseif(i1==1211122767)then
if(m5==null)then
set m5=h4[O5]
endif
if(not J4)and(SAF)and(Bz>TC4[O5])and(DX9(m5))then
set J4=(m5!=null)and(IssueTargetOrderById(it,852662,m5))
endif
if(PPF==1093814350)then
if SAF and(not J4)and(Bz>TC4[16+O5])then
set J4=(m5!=null)and(S27(it,852119,1093812805,m5))
endif
endif
elseif(i1==1160786738)then
if(PPF==1093813557)then
set b5=HC[O5]
set m5=K2(300.,b5)
if(m5!=null)then
call O9F(it,m5)
endif
endif
endif
if((SAF)and(not J4)and(GetUnitCurrentOrder(it)==0))then
call J3(it,true)
endif
set it=null
set m5=null
set b5=null
endfunction
function S3F takes nothing returns nothing
local unit PF7=GetTriggerUnit()
local integer PPF=GetSpellAbilityId()
local integer i1=GetUnitTypeId(PF7)
local integer O5=GetPlayerId(GetOwningPlayer(PF7))
local integer i
local boolean J4=false
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
endif
if(PT4)then
set hq[O5]=0.
set hq[16+O5]=0.
set hq[32+O5]=0.
if i1==1211117653 then
set i=1
loop
exitwhen i>10
set TC4[i*16+O5]=0
set i=i+1
endloop
endif
endif
if(not PT4)and i1!=1211117653 then
if i1==1160786520 then
if(PPF==1093809990)then
set TC4[176+O5]=Bz+I2R(LoadInteger(ED7,PPF,-1+GetUnitAbilityLevel(PF7,PPF)))
elseif PPF==1093809991 then
set TC4[192+O5]=Bz+I2R(LoadInteger(ED7,PPF,-1+GetUnitAbilityLevel(PF7,PPF)))
elseif PPF==1093809992 then
set TC4[160+O5]=Bz+I2R(LoadInteger(ED7,PPF,-1+GetUnitAbilityLevel(PF7,PPF)))
elseif PPF!=1093810008 and hq[816+O5]>Bz then
set G0[288+O5]=true
call S3F()
endif
elseif(PPF==eY[336+O5])then
set TC4[16+O5]=Bz+I2R(LoadInteger(ED7,PPF,-1+GetUnitAbilityLevel(PF7,PPF)))
elseif PPF==eY[352+O5]then
set TC4[32+O5]=Bz+I2R(LoadInteger(ED7,PPF,-1+GetUnitAbilityLevel(PF7,PPF)))
elseif PPF==eY[368+O5]then
set TC4[48+O5]=Bz+I2R(LoadInteger(ED7,PPF,-1+GetUnitAbilityLevel(PF7,PPF)))
elseif PPF==eY[172+O5]or PPF==eY[188+O5]then
set bj_forLoopAIndex=0
if PPF==eY[188+O5]then
set bj_forLoopAIndex=LoadInteger(ED7,PPF,-1+GetUnitAbilityLevel(PF7,PPF))
endif
if bj_forLoopAIndex==0 then
set bj_forLoopAIndex=LoadInteger(ED7,eY[172+O5],-1+GetUnitAbilityLevel(PF7,PPF))
endif
set TC4[O5]=Bz+I2R(bj_forLoopAIndex)
elseif(PPF==1093682736)then
set TC4[64+O5]=Bz+I2R(LoadInteger(ED7,PPF,-1+GetUnitAbilityLevel(PF7,PPF)))
elseif(PPF==1093682760)then
set TC4[80+O5]=Bz+I2R(LoadInteger(ED7,PPF,-1+GetUnitAbilityLevel(PF7,PPF)))
elseif PPF==1093683265 then
set TC4[64+O5]=Bz+8.
if Z17(Player(O5))then
if h4[O5]!=null then
call TriggerSleepAction(0.5)
set J4=(IsUnitInRange(PF7,h4[O5],700))and((IssueTargetOrderById(PF7,852662,h4[O5]))or(IssueTargetOrderById(PF7,851983,h4[O5])))
endif
endif
endif
endif
endfunction
function S6F takes nothing returns boolean
return((IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetAttacker()))and(IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))))
endfunction
function SLF takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(hr)))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(WD7(GetFilterUnit())))
endfunction
function S1F takes unit it returns integer
local integer kt=GetUnitAbilityLevel(it,1093682248)
local integer S0F
if(kt<1)then
set kt=GetUnitAbilityLevel(it,1093750594)
endif
if(kt>0)then
set hr=it
set S0F=SP7(500.,it,Condition(function SLF))-1
if(S0F<=2)then
return 0
endif
return 140+(50*kt)+((25+(10*kt))*S0F)
endif
return 0
endfunction
function S5F takes nothing returns nothing
call IssueTargetOrderById(GetEnumUnit(),851983,GetTriggerUnit())
endfunction
function S2F takes nothing returns nothing
local boolexpr Ig=Condition(function KH)
call GroupClear(iH)
call GroupEnumUnitsOfPlayer(iH,GetOwningPlayer(GetAttacker()),Ig)
call ForGroup(iH,function S5F)
call DestroyBoolExpr(Ig)
set Ig=null
endfunction
function S_F takes nothing returns nothing
local unit IB=GetAttacker()
local unit m5=GetTriggerUnit()
local integer i1=GetUnitTypeId(IB)
local integer O5=GetPlayerId(GetOwningPlayer(IB))
local location b5=null
local integer UP
local boolean T4F
local boolean J4=false
set GZ[48+O5]=IsUnitType(m5,UNIT_TYPE_HERO)
set h4[80+O5]=m5
if((not Jw(IB))or(GZ[32+O5]))then
set IB=null
set m5=null
return
else
set GZ[32+O5]=true
call TriggerSleepAction(.7)
if((not S87(m5))or(not S87(IB))or(not is(IB)))then
set GZ[32+O5]=false
set IB=null
set m5=null
return
endif
endif
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(((GetUnitCurrentOrder(m5)==851973)or(GetUnitLifePercent(m5)<60.))and(Bz>hq[480+O5]))then
call MQF(IB,m5)
if(h4[O5]==null)then
call CWE(O5,m5,false,false)
endif
endif
if(not J4)and(SR7(IB,ZU[D74]))then
set J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SR7(IB,ZU[U3]))then
set J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SR7(IB,ZU[FC]))then
set J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SR7(IB,ZU[R3]))then
set J4=(GetUnitLifePercent(m5)<50.)and(CN7(m5)!=1)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SR7(IB,ZU[DP4]))then
set J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItem(IB,bj_lastCreatedItem))
endif
if(not J4)and(SR7(IB,ZU[DR4])and(Bz>TC4[240+O5])and(DV9(m5)==false)and(A27(m5)==false))then
set J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SR7(IB,ZU[P1]))then
set J4=(GetUnitLifePercent(m5)<50.)and(GetUnitLifePercent(IB)>70.)and(Bz>hq[64+O5])and(G0[256+O5])and(SC7(IB,ZU[P1]))
endif
if(not J4)and(SR7(IB,ZU[T2]))then
set J4=(GetUnitLifePercent(m5)<70.)and(h4[O5]!=null)and(UnitUseItem(IB,bj_lastCreatedItem))
endif
if(not J4)and(SR7(m5,ZU[AL])and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(GetUnitLifePercent(m5)<90.)and(IsUnitType(IB,UNIT_TYPE_HERO)==true)and(DV9(IB)==false)and((IsUnitInRange(IB,m5,200.))==true or(IsUnitInRange(IB,m5,670.))==true)and(Z07(GetOwningPlayer(IB))==true)and(Z07(GetOwningPlayer(m5))==true)and((IsUnitType(IB,UNIT_TYPE_MELEE_ATTACKER)==true)or(IsUnitType(IB,UNIT_TYPE_RANGED_ATTACKER)==true)))then
set TA4=true
set J4=(UnitUseItem(m5,bj_lastCreatedItem))
endif
if(not J4)and(SR7(IB,ZU[D1])or SR7(IB,ZU[E1]))then
set J4=(GetUnitLifePercent(m5)<50. or SG7(m5))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)==0)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SZ7(IB,ZU[Y0]))then
set GZ[224+O5]=true
set J4=(GetUnitLifePercent(m5)<70.)and(i1!=1164277357)and(UnitUseItem(IB,bj_lastCreatedItem))
set GZ[224+O5]=false
endif
if(not J4)and(SR7(IB,ZU[M3]))then
set J4=(m5!=null)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
if(not J4)and(SR7(IB,ZU[DM4])and(UU7(IB,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(IB)>90.)and(IsUnitInRange(IB,m5,150.)))then
set J4=(m5!=null)and(UnitUseItem(IB,bj_lastCreatedItem))
endif
if(not J4)and(SR7(IB,ZU[DK4])and(UU7(IB,"ArmletOfMordigan|Active")==true)and((not IsUnitInRange(IB,m5,150.))or(GetUnitLifePercent(IB)<60.)))then
set J4=(UnitUseItem(IB,bj_lastCreatedItem))
endif
if((h4[O5]!=null)and(RYF(IB)))then
set J4=RZF(IB)
endif
if(i1==1429221424)then
set J4=TD7(IB,852526,1093815119)
endif
elseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
if(SR7(IB,ZU[P1]))then
set J4=(GetUnitLifePercent(m5)<20.)and(GetUnitLifePercent(IB)>60.)and(Bz>hq[64+O5])and(iy(IB))and(SC7(IB,ZU[P1]))
elseif(SR7(IB,ZU[Y0]))then
set GZ[224+O5]=true
set J4=(GetUnitLifePercent(m5)<40.)and(i1!=1164277357)and(UnitUseItem(IB,bj_lastCreatedItem))
set GZ[224+O5]=false
endif
if(i1==1211117653 and(not J4))then
call CWE(O5,m5,false,false)
set J4=((Bz>TC4[64+O5])and(AO7(IB,LR4,LR4,LP4,1093686863)and(IssueImmediateOrderById(IB,852132))))or((Bz>TC4[128+O5])and(AO7(IB,LQ4,LQ4,LR4,1093686865))and S27(IB,852490,1093686865,IB))
endif
elseif((GetUnitTypeId(m5)==1848651861)or(GetUnitTypeId(m5)==1848651865)or(GetUnitTypeId(m5)==1848651866))then
if(SR7(IB,ZU[D1]))then
set J4=(GetUnitLifePercent(m5)>80.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))
endif
endif
set T4F=(m5==h4[O5])
if(J4)then
elseif((IsUnitType(m5,UNIT_TYPE_HERO))and((S37(IB,m5))or((GetUnitLifePercent(m5)<55.)and(GetRandomInt(1,3)==1)and(not T24[O5])and(RXF(IB,m5)))))then
if((TL4)and(T24[O5]))then
call RXF(IB,m5)
endif
elseif(i1==1160785970)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(IsUnitInRange(IB,m5,400.)and(IssuePointOrderById(IB,852662,GetUnitX(m5)+2,GetUnitY(m5)-2)))then
set J4=true
elseif((Bz>TC4[O5])and(IsUnitInRange(IB,m5,480.))and(GetUnitLifePercent(m5)<40.))then
set J4=(((GetUnitAbilityLevel(IB,1093747023)>0)and(TD7(IB,852229,1093747023)))or((GetUnitAbilityLevel(IB,1093752150)>0)and(TD7(IB,852229,1093752150))))
endif
endif
elseif(i1==1211117653)then
if((GetUnitLifePercent(IB)<35.)and(GetUnitAbilityLevel(IB,1110456408)==0))then
set J4=(Bz>TC4[80+O5])and AO7(IB,LP4,LP4,LQ4,1093687372)and(AI7(IB,LQ4,LQ4,LQ4,false))and(IssueImmediateOrderById(IB,852129))
if(not J4)then
set J4=(m5!=null)and(Bz>TC4[160+O5])and(AO7(IB,LP4,LP4,LR4,1093686864))and(IssueImmediateOrderById(IB,852134))
endif
else
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((Bz>TC4[128+O5])and(AO7(IB,LQ4,LQ4,LR4,1093686865))and S27(IB,852490,1093686865,IB))or((Bz>TC4[64+O5])and(AO7(IB,LR4,LR4,LP4,1093686863)and(IssueImmediateOrderById(IB,852132))))
endif
endif
elseif(i1==1160786505)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(IsUnitInRange(IB,m5,250.)and(Bz>TC4[O5])and(GetUnitLifePercent(m5)<47.))then
call CWE(O5,m5,false,false)
set J4=IssueImmediateOrderById(IB,852526)
elseif((Bz>TC4[48+O5])and(IsUnitInRange(IB,m5,570.)))then
set J4=IssueImmediateOrderById(IB,852594)
elseif((Bz>TC4[16+O5])and(IsUnitInRange(IB,m5,570.))and(not IsUnitInRange(IB,m5,200.)))then
set J4=(IssuePointOrderById(IB,852662,GetUnitX(m5),GetUnitY(m5)))or(IssueTargetOrderById(IB,852185,m5))
endif
endif
elseif(i1==1160786502)then
set J4=(GetUnitLifePercent(IB)>70.)and IssueImmediateOrderById(IB,852490)
elseif(i1==1160786506)then
if(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<30.)then
set GZ[O5]=true
set UP=GetUnitAbilityLevel(IB,1093751639)
set J4=(IsUnitInRange(IB,m5,840.))and(J8(O5,IssuePointOrderById(IB,852089,GetUnitX(m5)+2,GetUnitY(m5)-2)))
if((not(J4))and(Bz>TC4[32+O5]))then
set m5=Y57(2200.-(UP*400),IB)
if((m5!=null)and(GetUnitLifePercent(m5)<15.))then
set J4=(S27(IB,852119,1093751639,m5))
endif
endif
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(60*GetUnitAbilityLevel(IB,1093682994)))and(S27(IB,852119,1093682994,m5)))or((GetHeroLevel(IB)>5)and(GetUnitAbilityLevel(m5,1114665575)==0)and((T4F)or((GetUnitLifePercent(m5)<60.)and(IsUnitInRange(IB,m5,500.))))and(TD7(IB,OrderId("charm"),1093747028)))
endif
elseif(i1==1429221443)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(hq[240+O5]<=Bz)and((T4F)or(GetUnitLifePercent(m5)<50.))and(TD7(IB,852273,1093686322))
if((not J4)and((GetUnitLifePercent(m5)<40.)))then
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093744948,true)
set GZ[O5]=true
set J4=(IssueTargetOrderById(IB,852119,m5))
set GZ[O5]=false
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093744948,false)
endif
elseif(i1==1162032951)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((Bz>hq[O5])and(UP>200)and(UP<(400*GetUnitAbilityLevel(IB,1093679152))or UP<(460*GetUnitAbilityLevel(IB,1093752154)))and(T47(IB,852527,1093679152,1093752154,m5)))then
elseif((GetHeroLevel(IB)>20)and(GetUnitAbilityLevel(IB,1112893542)==0)and(GetUnitLifePercent(IB)>85.)and(GetUnitLifePercent(m5)<45.))then
set GZ[O5]=true
call J8(O5,TD7(IB,852100,1093678404))
endif
endif
elseif(i1==1162032181)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(Bz>hq[O5]))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((IsUnitInRange(IB,m5,250.))and(UP<RNF(IB))and(UP>300))then
set GZ[O5]=true
set J4=J8(O5,S27(IB,852652,1093683761,m5))
endif
endif
elseif(i1==1429221424)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(SE7(m5))))then
set J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(60*GetUnitAbilityLevel(IB,1093748789)))and(S27(IB,OrderId("creepheal"),1093748789,m5)))or(S27(IB,852555,1093687351,m5))
endif
if(not J4)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(S37(IB,m5))
endif
elseif(i1==1160785972)then
if(GetUnitAbilityLevel(IB,1110454355)>0)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(T4F)and(GetUnitLifePercent(IB)>50.)and(IssueTargetOrderById(IB,851983,m5))
elseif(IsUnitType(m5,UNIT_TYPE_HERO))then
if((GetUnitLifePercent(m5)<65.)and(T4F))then
set GZ[O5]=true
set J4=J8(O5,TD7(IB,852100,1093677872))
endif
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<30.))then
set GZ[O5]=true
set J4=J8(O5,TD7(IB,852100,1093677872))
endif
elseif(i1==1432646245)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(SE7(m5))))then
set J4=((not L_7())and((S27(IB,852095,1093677640,m5))or((T4F)and(GetUnitLifePercent(IB)<60.)and(S27(IB,852585,1093679171,m5)))))or((L_7())and(GetUnitLifePercent(m5)<50.)and((IssueImmediateOrderById(IB,852621))or(S27(IB,852095,1093677640,m5))))
endif
elseif(i1==1430466609)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if((GetHeroLevel(IB)>4)or(SE7(m5)))then
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093685559,true)
set J4=((IsUnitInRange(IB,m5,375.))and(TD7(IB,852526,1093678145)))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(70*GetUnitAbilityLevel(IB,1093685559)))and(IssueTargetOrderById(IB,852527,m5)))
endif
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>12)and(GetUnitManaPercent(IB)>60.)and(G0[128+O5]))then
set UP=SP7(400.,m5,Condition(function Ki))
set J4=(UP>5)and(Bz>hq[O5])and(T47(IB,852125,1093810258,1093810259,m5))
if((not J4)and(Bz>hq[16+O5])and((UP>2)or((eY[O5]==10)and(UP>1)))and(SP7(1000.,m5,Condition(function KI))<=1))then
if(not IsUnitInRange(IB,m5,400.))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(IB)-GetUnitY(m5),GetUnitX(IB)-GetUnitX(m5)))
set hq[240+O5]=Bz+3.
call IssuePointOrderById(IB,851986,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD))
else
set J4=TD7(IB,852526,1093678145)
endif
endif
endif
elseif(i1==1430468913)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetUnitAbilityLevel(m5,1110454356)==0)and(GetUnitLevel(IB)>5)and(S27(IB,852149,1093677876,m5)))or(((GetUnitLifePercent(m5)<80.)or(T4F))and(GetHeroLevel(IB)>3)and(IsUnitInRange(IB,m5,300.))and(TD7(IB,852127,1093810507)))
endif
elseif(i1==1430467634)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SE7(m5))))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=((UP>200)and(UP<=(250+(300*ROF(IB))))and(T47(IB,852583,1093684565,1093681458,m5)))or(S27(IB,852231,1093679412,m5))
if((not J4)and(GetHeroLevel(IB)>7)and(GetUnitManaPercent(IB)>70.)and(T4F))then
set GZ[O5]=true
set J4=J8(O5,IssueTargetOrderById(IB,852488,m5))
endif
endif
elseif(i1==1313026096)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(SE7(m5)))and((GetUnitLifePercent(m5)<80.)or(T4F))and(S27(IB,852095,1095267426,m5))
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call S2F()
set J4=((GetHeroLevel(IB)>5)and((GetUnitLifePercent(m5)-GetUnitLifePercent(IB))>25.)and(S27(IB,852189,1093678929,m5)))
if((not J4)and(i1==1164277353)and(GetUnitLifePercent(m5)<50.))then
set GZ[O5]=true
set J4=J8(O5,TD7(IB,852663,1093751369))
endif
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(i1==1164277353)and(GetUnitLifePercent(m5)<20.))then
set GZ[O5]=true
set J4=J8(O5,TD7(IB,852663,1093751369))
endif
elseif(i1==1164666213)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitAbilityLevel(IB,1110454836)>0))then
set J4=(G0[128+O5])and(GetUnitLifePercent(IB)>60.)and(SP7(300.,IB,Condition(function KI))==0)and(IssueTargetOrderById(IB,851986,m5))
endif
elseif(i1==1429221430)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call S2F()
set J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(55*GetUnitAbilityLevel(IB,1093681736)))and(S27(IB,852601,1093681736,m5)))or(((GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<65.))and(TD7(IB,OrderId("roar"),1093687121)))
if((not J4)and(GetUnitAbilityLevel(IB,1110454597)>0)and(T4F))then
call IssueTargetOrderById(IB,851983,m5)
endif
endif
elseif(i1==1430466872)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SE7(m5))))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((UP>150)and(UP<RPF(IB))and(not ke(m5)))then
set GZ[O5]=true
call J8(O5,(T47(IB,852119,1093679413,1093679447,m5))or(S27(IB,852502,1093684558,m5))or(S27(IB,852555,1093687349,m5)))
elseif(((GetUnitLifePercent(m5)<80.)or(T4F))and(GetUnitAbilityLevel(m5,1112560453)==0)and(GetUnitAbilityLevel(m5,1110454344)==0))then
set J4=(S27(IB,852555,1093687349,m5))or((Bz>hq[O5])and(S27(IB,852502,1093684558,m5)))
endif
endif
elseif(i1==1162032439)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(Bz>hq[16+O5]))then
set UP=GetUnitAbilityLevel(IB,1093677363)
if(UP==0)then
set UP=GetUnitAbilityLevel(IB,1093681462)
endif
if((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(100+(300*UP)))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and((Bz>hq[O5])or(GetUnitAbilityLevel(m5,1111847784)>0)))then
set GZ[O5]=true
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093681462,true)
call J8(O5,(TD7(IB,852594,1093677363))or(S27(IB,OrderId("volcano"),1093744435,m5)))
else
call S27(IB,OrderId("volcano"),1093744435,m5)
endif
endif
elseif(i1==1430466865)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SE7(m5))))then
set J4=((GetUnitAbilityLevel(IB,1110454357)==0)and(GetUnitLifePercent(IB)>45.)and(S27(IB,852066,1093677879,IB)))or((GetUnitLifePercent(m5)<60.)and(GetUnitLifePercent(m5)>10.)and(IsUnitInRange(IB,m5,400.))and(R2I(GetUnitState(IB,UNIT_STATE_MANA))<(140+(GetUnitAbilityLevel(IB,1093810508)*100)))and(TD7(IB,852127,1093810508)))or(S27(IB,852125,1093677651,m5))
elseif((GetHeroLevel(IB)>7)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(iy(IB))and(GetUnitManaPercent(IB)>60.)and(GetUnitState(m5,UNIT_STATE_LIFE)<200.))then
set UP=SP7(450.,m5,Condition(function Ki))
set GZ[O5]=true
set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(S27(IB,852125,1093677651,m5))
set GZ[O5]=false
endif
elseif(i1==1430468144)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(SE7(m5))))then
if(GetUnitAbilityLevel(m5,1113813609)==0)then
call S27(IB,852189,1093679192,m5)
elseif(IsUnitInRange(IB,m5,860.)and(UN7(GetHandleId(IB),"Level")>GetUnitAbilityLevel(IB,1093750337))and(GetUnitManaPercent(IB)>35.)and(GetHeroLevel(IB)>3))then
call IssueTargetOrderById(IB,852248,m5)
elseif(GetUnitLifePercent(IB)>75.)then
call IssueTargetOrderById(IB,851983,m5)
endif
endif
elseif((i1==1429221432)or(i1==1160786229))then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SE7(m5))))then
call S2F()
set J4=((i1==1429221432)and((GetUnitLifePercent(m5)<60.)or(SE7(IB)))and(TD7(IB,852180,1093679411)))or(((i1==1160786229)or(R2I(GetUnitState(IB,UNIT_STATE_MANA))>(250+(25*(GetUnitAbilityLevel(IB,1093679411))))))and((TD7(IB,852126,1093677892))or(TD7(IB,OrderId("channel"),1093687878))))
endif
elseif(i1==1429221441)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SE7(m5))))then
call S2F()
set J4=((GetUnitLifePercent(m5)<65.)and((Bz>hq[O5])or(GetUnitCurrentOrder(m5)==851973))and(TD7(IB,852123,1093677903)))or(S27(IB,852231,1093678389,m5))
endif
elseif(i1==1165451634)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SE7(m5)))and((T4F)or(GetUnitLifePercent(m5)<70.))and(S27(IB,OrderId("acidbomb"),1093687629,m5))
elseif(i1==1432642913)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(GetHeroLevel(IB)>3)and((GetUnitLifePercent(IB)>70.)or(GetUnitLifePercent(IB)>GetUnitLifePercent(m5)))and(IssueTargetOrderById(IB,852662,m5))
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>2))then
call IssueTargetOrderById(IB,852119,IB)
endif
elseif(i1==1215722344)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetUnitLifePercent(IB)>70.)and(QS7(GetUnitTypeId(m5),F77))and(GetUnitLifePercent(m5)<50.)and(S27(IB,852668,1093682499,m5)))or((GetUnitLifePercent(m5)<60.)and(GetUnitLifePercent(IB)>60.)and(S27(IB,852668,1093682499,IB)))
endif
elseif(i1==1332766568)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SE7(m5))))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if(((UP<(150+(150*GetUnitAbilityLevel(IB,1093682482))))or(UP<(150+(150*GetUnitAbilityLevel(IB,1093750098)))))and(UP>150))then
set J4=(T47(IB,852119,1093682482,1093750098,m5))or((IsUnitInRange(IB,m5,275.))and(IssueImmediateOrderById(IB,852600)))
elseif(R2I(GetUnitState(IB,UNIT_STATE_MANA))>(195+(40*GetUnitAbilityLevel(IB,1093682482)))or R2I(GetUnitState(IB,UNIT_STATE_MANA))>(195+(40*GetUnitAbilityLevel(IB,1093750098))))then
set J4=((SP7(400.,m5,Condition(function KJ))>0)and(IssueTargetOrderById(IB,852248,m5)))or(((QS7(GetUnitTypeId(m5),F77))or(GetUnitLifePercent(m5)<50.))and(IsUnitInRange(IB,m5,275.))and(IssueImmediateOrderById(IB,852600)))
elseif(SR7(IB,ZU[T2]))and(SR7(IB,ZU[AL]))then
set TA4=true
set J4=(GetUnitLifePercent(m5)<70.)and(h4[O5]!=null)and(IsUnitType(IB,UNIT_TYPE_HERO))and((IsUnitInRange(IB,m5,200.))or(i1==1315074670)or(i1==1160785972)or(i1==1211117654)or(i1==1433631084)or(i1==1164799855))and(UnitUseItem(m5,SV7(m5,ZU[AL])))and(UnitUseItem(m5,SV7(m5,ZU[T2])))
set TA4=false
endif
endif
elseif(i1==1315334514)then
if(GetHeroLevel(IB)>2)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(IsUnitInRange(IB,m5,350.))and(GetUnitLifePercent(m5)>15.)and((GetUnitAbilityLevel(IB,1093682001))>(GetUnitAbilityLevel(IB,1093681746)*3))and(TD7(IB,852273,1093810506))
elseif((GetHeroLevel(IB)>9)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitManaPercent(IB)>65.)and(GetUnitLifePercent(m5)<50.))then
set J4=SP7(200.,m5,Condition(function Ki))<2
else
set J4=true
endif
if(not J4)then
set UP=R2I(RF7(GetUnitX(IB),GetUnitY(IB),GetUnitX(m5),GetUnitY(m5)))
if((UP>=75)and(UP<=325))then
set J4=(RWF(IB,200.,Condition(function Ki)))and(TD7(IB,852164,1093682521))
elseif((UP>=325)and(UP<=575))then
set J4=(RWF(IB,450.,Condition(function Ki)))and(TD7(IB,852588,1093682760))
elseif((UP>=575)and(UP<=825))then
set J4=(RWF(IB,700.,Condition(function Ki)))and(TD7(IB,852599,1093682736))
endif
endif
endif
elseif(i1==1328558154)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(GetUnitLifePercent(m5)<55.)and(GetUnitState(m5,UNIT_STATE_LIFE)>250.)and(not ke(m5))and(not IsUnitInRange(IB,m5,250.))and(((SP7(900.,m5,Condition(function Ki))<=2)and(SR7(IB,ZU[J1]))or(SR7(IB,ZU[T2])))or((SP7(900.,m5,Condition(function Ki))<2)))and(IssueTargetOrderById(IB,852600,m5))
elseif(i1==1429221446)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetUnitAbilityLevel(IB,1110454868)==0)and(GetUnitLifePercent(IB)>55.)and((GetHeroLevel(IB)>6)or(SE7(m5)))and(GetUnitState(IB,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and(TD7(IB,852177,1093678667)))or(((GetUnitLifePercent(m5)<60.)or(T4F))and(GetUnitState(m5,UNIT_STATE_LIFE)>250.)and(G0[128+O5])and(T47(IB,852480,1093682764,1093747544,m5)))
endif
elseif(i1==1429221445)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set UP=GetUnitAbilityLevel(IB,1093679184)+1
if(UP<=1)then
set UP=GetUnitAbilityLevel(IB,1093678647)
endif
set J4=((UP>0)and(not ke(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(GetUnitState(m5,UNIT_STATE_LIFE)<((0.20+(I2R(UP)*0.20))*(GetUnitState(m5,UNIT_STATE_MAX_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))))and(T47(IB,852095,1093678647,1093679184,m5)))or((GetHeroLevel(IB)>2)and(IsUnitInRange(IB,m5,400.))and(TD7(IB,852526,1093678422)))
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>8)and(GetUnitManaPercent(IB)>60.)and(G0[128+O5]))then
set UP=SP7(400.,m5,Condition(function Ki))
if((UP>2)or((eY[O5]==10)and(UP>1)))then
if(not IsUnitInRange(IB,m5,400.))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(IB)-GetUnitY(m5),GetUnitX(IB)-GetUnitX(m5)))
set hq[240+O5]=Bz+3.
call IssuePointOrderById(IB,851986,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD))
else
set J4=TD7(IB,852526,1093678422)
endif
endif
endif
elseif(i1==1332963428)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(SE7(m5))))then
set J4=((SE7(m5))and(GetUnitState(IB,UNIT_STATE_MANA)>hq[272+O5])and(S27(IB,852480,1093677649,m5)))or((GetUnitLifePercent(IB)<90.)and(S27(IB,852119,1093683019,m5)))
endif
elseif(i1==1332109682)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(SE7(m5))))then
set J4=((GetUnitLifePercent(m5)<50.)and(TD7(IB,852588,1093810505)))or((GetUnitManaPercent(IB)>30.)and(S27(IB,852662,1093678134,m5)))
endif
elseif(i1==1211117640)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>4)and(GetUnitAbilityLevel(m5,1110454606)==0)and(GetUnitState(IB,UNIT_STATE_MANA)>250.)and(Bz>hq[O5])and(S27(IB,852486,1093681989,m5)))or((GetHeroLevel(IB)>2)and(T4F)and(IssueTargetOrderById(IB,852089,m5)))
elseif((GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>50.))then
set J4=(SP7(400.,m5,Condition(function Ki))>2)and(SP7(300.,m5,Condition(function Kj))>0)and(IssueTargetOrderById(IB,852089,m5))
endif
elseif(i1==1429221456)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set UP=GetHeroInt(IB,true)-GetHeroInt(m5,true)
set J4=((GetHeroLevel(IB)>5)and(UP>9)and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(10*UP))and(T47(IB,852089,1093685067,1093752407,m5)))or((i2(m5))and(S27(IB,852119,1093685066,m5)))
if((not J4)and(GetUnitManaPercent(IB)>70.)and(GetUnitLifePercent(m5)>60.)and(GetUnitManaPercent(m5)>40.))then
set GZ[O5]=true
set J4=J8(O5,(SP7(700.,m5,Condition(function Kk))==0)and(S27(IB,852119,1093685066,m5)))
endif
endif
elseif(i1==1160786243)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(GetHeroLevel(IB)>2)and((GetUnitManaPercent(IB)>50.)and(GetUnitLifePercent(m5)<65.))and(IssueTargetOrderById(IB,852248,m5))
if((not J4)and(GetUnitAbilityLevel(IB,1093683765)>2))then
set J4=(SP7(500.,m5,Condition(function Ki))>3)and((GetUnitManaPercent(IB)>60.)or(GetUnitLifePercent(m5)<65.)or(SP7(500.,m5,Condition(function KJ))>0))and(IssueTargetOrderById(IB,852095,m5))
endif
if((not J4)and(GetUnitLifePercent(m5)<75.)and(GetHeroLevel(IB)>5)and(Bz>hq[O5]))then
set GZ[O5]=true
set J4=J8(O5,S27(IB,852224,1395667000,m5))
endif
elseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
if((GetHeroLevel(IB)>10)and(GetUnitLifePercent(m5)<40.))then
set GZ[O5]=true
set J4=J8(O5,S27(IB,852224,1395667000,m5))
endif
elseif((not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitAbilityLevel(IB,1093683765)>2)and(GetUnitManaPercent(IB)>60.))then
set J4=(SP7(400.,m5,Condition(function Ki))>3)and(IssueTargetOrderById(IB,852095,m5))
endif
elseif(i1==1430468406)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(GetHeroLevel(m5)>5)and((GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<70.))and(S27(IB,852592,kS(IB),m5))
if((not J4)and((GetHeroLevel(IB)>5)or(SE7(m5))))then
set J4=((GetUnitLifePercent(m5)>10.)and(GetUnitLifePercent(m5)<50.)and(IssueImmediateOrderById(IB,852556)))or(S27(IB,852218,kT(IB),m5))
endif
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<25.)and(GetUnitLifePercent(m5)>10.))then
set J4=(SP7(500.,m5,Condition(function Kj))>2)and(IssueImmediateOrderById(IB,852556))
endif
elseif(i1==1160786242)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SE7(m5))))then
set J4=((GetUnitLifePercent(m5)<60.)and(IssueTargetOrderById(IB,852662,m5)))or((GetUnitLifePercent(m5)<45.)and(IssueImmediateOrderById(IB,852490)))
endif
elseif((i1==1211117641)or(i1==1211117642))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if((SE7(m5))and(GetUnitAbilityLevel(m5,1110456120)==0))then
call R6F(IB,m5)
endif
elseif((i1==1211117641)and(GetHeroLevel(IB)>11)and(GetUnitManaPercent(IB)>70.))then
set J4=(SP7(400.,IB,Condition(function Ki))>3)and(IssueTargetOrderById(IB,852553,IB))
endif
elseif(i1==1311781207)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(T4F)and((GetHeroLevel(IB)>4)or(SE7(m5)))and(IssuePointOrder(IB,"blizzard",GetUnitX(m5),GetUnitY(m5)))
elseif((i1==1211117650)or(i1==1211119433))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call S2F()
endif
elseif(i1==1211117646)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=IssueTargetOrderById(IB,852095,IB)
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(IsUnitType(m5,UNIT_TYPE_MELEE_ATTACKER))and(GetHeroLevel(IB)>5)and(GetUnitManaPercent(IB)>50.))then
set J4=(SP7(250.,IB,Condition(function Ki))>2)and(IssueTargetOrderById(IB,852095,IB))
endif
elseif(i1==1211117624)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>3)or(SE7(m5)))and((TD7(IB,852526,1093683024))or(IssueTargetOrderById(IB,852600,m5)))
if((not J4)and(GetUnitAbilityLevel(IB,1110455373)>0)and((GetUnitLifePercent(IB)>75.)or(SE7(m5))))then
call IssueTargetOrderById(IB,851983,m5)
endif
elseif((GetHeroLevel(IB)>6)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitLifePercent(m5)<75.)and(GetUnitManaPercent(IB)>75.))then
set J4=(SP7(400.,m5,Condition(function Ki))>2)and(TD7(IB,852526,1093683024))
endif
elseif(i1==1160785973)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(SE7(m5))))then
set UP=SP7(700.,IB,Condition(function Ki))
set J4=((IsUnitInRange(m5,IB,400.))and(UP<2)and(GetUnitAbilityLevel(m5,1110454580)==0)and(IssueImmediateOrderById(IB,852600)))or((GetHeroLevel(IB)>20)and(GetUnitState(IB,UNIT_STATE_MANA)>450.)and(S27(IB,852231,1093678130,m5)))
endif
elseif(i1==1315988077)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(((GetUnitLifePercent(m5)<75.)or(T4F))and((GetHeroLevel(IB)>4)or(SE7(m5))))then
if(((not IsUnitInRange(IB,m5,200.))or(not TD7(IB,852096,1093678669)))and(GetUnitLifePercent(m5)<50.)and(GetUnitLifePercent(m5)>15.))then
call CWE(O5,m5,false,false)
call TD7(IB,852586,1093684561)
endif
endif
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<20.))then
set GZ[O5]=true
call TD7(IB,852586,1093684561)
endif
elseif(i1==1211117616)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<80.)or(T4F))and((GetHeroLevel(IB)>4)or(SE7(m5))))then
set J4=((IsUnitInRange(IB,m5,250.))and(TD7(IB,852127,1093677139)))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(40+(125*(GetUnitAbilityLevel(IB,1093816142)))))and(S27(IB,852231,1093816142,m5)))
endif
elseif(i1==1315074670)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(SE7(m5))))then
set J4=((GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<70.))and(GetUnitLifePercent(m5)>20.)and(IsUnitInRange(IB,m5,400.))and(S27(IB,852592,1093685570,m5))
if((not J4)and(G0[128+O5])and(GetUnitAbilityLevel(m5,1113813860)>0)and(T4F)and((GetUnitLifePercent(IB)>70.)or(SE7(m5))))then
call IssueTargetOrderById(IB,851983,m5)
endif
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<80.)or(T4F))and((GetHeroLevel(IB)>4)or(SE7(m5))))then
set J4=((GetUnitLifePercent(m5)<60.)and(TD7(IB,852180,1093677895)))or((IsUnitInRange(IB,m5,350.))and(S27(IB,852095,1093681490,m5)))
endif
elseif(i1==1164207469)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(not ke(m5)))then
set J4=(((GetUnitManaPercent(m5)<15.)and(GetUnitLifePercent(m5)<50.))or(GetUnitState(m5,UNIT_STATE_LIFE)<((GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))*(.35+(I2R(GetUnitAbilityLevel(IB,1093682483))*.25)))))and(S27(IB,852095,1093682483,m5))
endif
elseif(i1==1433631084)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(180+(150*GetUnitAbilityLevel(IB,1093678160))))and(S27(IB,852095,1093678160,m5))
elseif(i1==1214345830)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(GetHeroLevel(IB)>2)and(GetUnitLifePercent(IB)<85.)and(S27(IB,852225,1093679182,IB))
elseif((GetHeroLevel(IB)>7)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitLifePercent(IB)<90.)and(GetUnitManaPercent(IB)>60.))then
set J4=(SP7(400.,IB,Condition(function Ki))>2)and(SP7(800.,IB,Condition(function Kk))==0)and(S27(IB,852225,1093679182,IB))
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5))then
if(GetUnitAbilityLevel(IB,1110454338)==0)then
if((GetUnitLifePercent(m5)<70.)or((T4F)and(GetUnitLifePercent(IB)<70.)))then
if((IsUnitInRange(IB,m5,280.)))then
set J4=IssueImmediateOrderById(IB,852138)
call IssueTargetOrderById(IB,851983,m5)
endif
set GZ[O5]=true
call J8(O5,TD7(IB,852100,1093748042))
endif
elseif((GetUnitLifePercent(IB)>70.)and(T4F))then
if((IsUnitInRange(IB,m5,280.)))then
set J4=IssueImmediateOrderById(IB,852138)
call IssueTargetOrderById(IB,851983,m5)
else
set J4=IssueImmediateOrderById(IB,852139)
call IssueTargetOrderById(IB,851983,m5)
endif
endif
endif
elseif(i1==1315007329)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SE7(m5))))then
set J4=((GetUnitState(m5,UNIT_STATE_LIFE)<(hq[272+O5]))and(S27(IB,852095,1093677108,m5)))or((GetUnitLifePercent(m5)<75.)and(GetUnitAbilityLevel(m5,1110454348)==0)and(GetUnitCurrentOrder(m5)!=851973)and(S27(IB,852149,1093681716,m5)))
endif
elseif(i1==1332898670)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(SE7(m5))))then
if(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(50*GetUnitAbilityLevel(IB,1093677136)))then
if(IsUnitInRange(IB,m5,400)or DX9(m5))then
set GZ[O5]=true
call J8(O5,S27(IB,852480,1093677136,m5))
endif
elseif((GetHeroLevel(IB)>10)and(GetUnitLifePercent(m5)<70.))then
call S27(IB,852502,1093685848,m5)
elseif((GetUnitManaPercent(IB)>60.)or(SE7(m5)))then
call S27(IB,852587,1093677360,m5)
endif
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>60.))then
set UP=SP7(450.,m5,Condition(function Ki))
set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(S27(IB,852587,1093677360,m5))
endif
elseif(i1==1215723364)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SE7(m5))))then
if(((GetUnitLifePercent(m5)<70.)or(T4F))and(S27(IB,852095,1093677633,m5)))then
elseif((SE7(m5))and(kA(IB,m5,400.)))then
call T47(IB,852587,1093683534,1093747031,m5)
endif
endif
elseif(i1==1215128178)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<70.)or(T4F))and((GetHeroLevel(IB)>3)or(SE7(m5))))then
set J4=(S27(IB,852095,1093683779,m5))or(((GetUnitManaPercent(IB)>40.)or(SE7(m5)))and(S27(IB,852119,1093677616,m5)))
endif
elseif(i1==1164799855)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(GetUnitManaPercent(IB)>50.)and((GetHeroLevel(IB)>3)or(SE7(m5)))and(GetUnitLifePercent(m5)<80.)and(S27(IB,852075,1093682264,m5))
elseif((GetOwningPlayer(m5)!=Z7[0])and(GetOwningPlayer(m5)!=A7[0])and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitManaPercent(IB)>60.)and(Bz>hq[O5]))then
set UP=GetUnitTypeId(m5)
set J4=(UP!=1848652113)and(UP!=1848652114)and(UP!=1752654196)and(UP!=1752658994)and(UP!=1752658995)and(UP!=1747988534)and(UP!=1966092339)and(UP!=1966092341)and(UP!=1966092345)and(UP!=1969711215)and(UP!=1966092337)and(UP!=1970169187)and(UP!=1966092338)and(UP!=1702061422)and(UP!=1697656918)and(UP!=1701081721)and(UP!=1697656919)and(GetUnitLifePercent(m5)>60.)and(S27(IB,852075,1093682264,m5))
endif
elseif(i1==1433105516)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call S2F()
if((GetHeroLevel(IB)>5)or(SE7(m5)))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[O5])-GetUnitY(IB),GetUnitX(h8[O5])-GetUnitX(IB)))
set J4=(IssuePointOrderById(IB,852600,GetUnitX(m5)+80.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+80.*Sin(UP*bj_DEGTORAD)))or((SE7(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(GetUnitState(m5,UNIT_STATE_LIFE)<800.)and(not kr(IB))and(IssuePointOrderById(IB,OrderId("cannibalize"),GetUnitX(m5)+80.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+80.*Sin(UP*bj_DEGTORAD))))or(IssueTargetOrderById(IB,852662,m5))
endif
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>9)and(iy(IB))and(GetUnitManaPercent(IB)>60.)and(((h4[128+O5]!=null)and(IsUnitInRange(IB,h4[128+O5],1200.)))or(eY[O5]==10)))then
set UP=SP7(450.,m5,Condition(function Ki))
set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(IssuePointOrderById(IB,852600,GetUnitX(m5),GetUnitY(m5)))
endif
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
if((not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>4)and(Bz>hq[O5])and(GetUnitManaPercent(IB)>30.))then
set b5=HC[16+O5]
call MoveLocation(b5,GetUnitX(IB),GetUnitY(IB))
if((SP7(600.,m5,Condition(function Ki))>2)and(not IsUnitInRange(IB,m5,150.))and((SO7(600.,b5,Condition(function KI))==0)or(SO7(500.,b5,Condition(function KJ))>0)or(SO7(500.,b5,Condition(function Kk))>0)))then
set UP=IMaxBJ(R2I(RF7(GetUnitX(m5),GetUnitY(m5),GetUnitX(IB),GetUnitY(IB)))-(435+(120*GetUnitAbilityLevel(IB,1093679157))),0)
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(IB),GetUnitX(m5)-GetUnitX(IB)))
if((RAbsBJ(GetUnitFacing(IB)-I2R(i1))<25.)or(RAbsBJ(GetUnitFacing(IB)-360.-I2R(i1))<25.))then
call IssuePointOrderById(IB,852600,GetUnitX(IB)+I2R(150+UP)*Cos(i1*bj_DEGTORAD),GetUnitY(IB)+I2R(150+UP)*Sin(i1*bj_DEGTORAD))
endif
endif
endif
elseif(i1==1316252014)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>4)or(SE7(m5)))and((S27(IB,852585,1093678137,m5))or(IssuePointOrderById(IB,852190,GetUnitX(IB)+70.*Cos((GetUnitFacing(IB)-180.)*bj_DEGTORAD),GetUnitY(IB)+70.*Sin((GetUnitFacing(IB)-180.)*bj_DEGTORAD))))
elseif((GetHeroLevel(IB)>10)and(GetUnitManaPercent(IB)>40.))then
set UP=SP7(400.,m5,Condition(function Ki))
set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(IssuePointOrderById(IB,852190,GetUnitX(IB)+70.*Cos((GetUnitFacing(IB)-180.)*bj_DEGTORAD),GetUnitY(IB)+70.*Sin((GetUnitFacing(IB)-180.)*bj_DEGTORAD)))
endif
elseif(i1==1164799603)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(SE7(m5))))then
call S2F()
set J4=((GetUnitLifePercent(m5)<70.)and(T47(IB,852119,1093752632,1093752633,m5)))or((not IsUnitInRange(IB,m5,200.))and(IsUnitInRange(IB,m5,600))and(S27(IB,OrderId("carrionswarm"),1093808453,m5)))
endif
elseif(i1==1328558160)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(GetUnitAbilityLevel(IB,1093683011)>0)then
call S2F()
endif
set J4=((GetHeroLevel(IB)>5)or(GetUnitLifePercent(m5)<60.))and(IssueTargetOrderById(IB,852662,m5))
if((not J4)and(G0[128+O5])and((GetHeroLevel(IB)>3)or(SE7(m5)))and(T4F)and(not IsUnitInRange(IB,m5,350.))and(SP7(600.,m5,Condition(function KI))<3)and(not IC(O5)))then
set b5=kL(IB,m5,200.)
if(b5!=null)then
if((GetUnitState(m5,UNIT_STATE_LIFE)<400.)and(GetUnitLifePercent(m5)<40.))then
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093682766,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderByIdLoc(IB,852218,b5))
endif
endif
endif
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>10)and(GetUnitManaPercent(IB)>70.)and(not IsUnitInRange(IB,m5,350.)))then
if((SP7(400.,m5,Condition(function Ki))>2)and(SP7(500.,m5,Condition(function KI))==0)and(kJ(GetUnitX(m5),GetUnitY(m5))))then
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093682766,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(IB,852218,GetUnitX(m5),GetUnitY(m5)))
endif
endif
elseif(i1==1212363833)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call S2F()
set UP=R2I(hq[16+O5]-Bz)
set J4=((GetHeroLevel(IB)>4)or(SE7(m5)))and((GetUnitLifePercent(m5)<80.)or(T4F))and((((UP<=0)or(UP>50))and(S27(IB,852095,1093809220,m5)))or((Bz>hq[O5])and(TD7(IB,852123,1093678643))))
endif
elseif(i1==1315070563)then
if((not GZ[O5])and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE)))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((not ke(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)<1200.)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and((SP7(900.,m5,Condition(function KI))*2)>=SP7(900.,m5,Condition(function Ki)))and(GetUnitAbilityLevel(m5,1113815395)==0)and(GetUnitAbilityLevel(m5,1113815346)==0)and(T47(IB,852095,1093684529,1093747032,m5)))or(((GetHeroLevel(IB)>4)or(SE7(m5)))and(not UU7(IB,"Omnislashing"))and(TD7(IB,852128,1093678407)))
elseif((GetHeroLevel(IB)>5)and(Bz>hq[O5])and((GetUnitState(IB,UNIT_STATE_MANA)>235.+(75*GetUnitAbilityLevel(IB,1093684529)))or(GetUnitState(IB,UNIT_STATE_MANA)>235.+(75*GetUnitAbilityLevel(IB,1093747032))))and(SP7(400.,m5,Condition(function KI))>0))then
set J4=(not UU7(IB,"Omnislashing"))and(TD7(IB,852128,1093678407))
endif
endif
elseif(i1==1212365106)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(SE7(m5))))then
set J4=(S27(IB,852089,1093685831,m5))
if((not J4)and(RAbsBJ((GetUnitFacing(m5)-GetUnitFacing(IB)))<=105.)and(GetUnitLifePercent(IB)>(GetUnitLifePercent(m5)+10.)))then
call IssueTargetOrderById(IB,851983,m5)
endif
endif
elseif(i1==1211117617)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(SE7(m5))))then
set J4=((GetUnitLifePercent(m5)<80.)or(T4F))and((((Bz>hq[O5])or(GetUnitCurrentOrder(m5)==851973))and(TD7(IB,OrderId("chemicalrage"),1093752648)))or(S27(IB,OrderId("acidbomb"),1093744944,m5))or(TD7(IB,852526,1093814611)))
if((not J4)and(GetUnitAbilityLevel(IB,1110454329)>0)and((not SE7(IB))or(SE7(m5))))then
call IssueTargetOrderById(IB,851983,m5)
endif
endif
elseif(i1==1211117633)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(SE7(m5))))then
call S2F()
set J4=(S27(IB,852585,1093684045,m5))or(((GetUnitAbilityLevel(IB,1110455624)>0)or(GetUnitLifePercent(m5)<60.))and(S27(IB,852095,1093684310,m5)))
endif
elseif(i1==1211117620)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if((SE7(m5))or((GetHeroLevel(IB)>3)and((T4F)or(GetUnitLifePercent(m5)<70.))))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=((UP>150)and(UP<RQF(IB))and(not ke(m5))and(T47(IB,852119,1093677392,1093679450,m5)))or(S27(IB,852125,1093677382,m5))
endif
elseif(eY[O5]==10)then
set J4=(GetUnitManaPercent(IB)>60.)and(S27(IB,852125,1093677382,m5))
endif
elseif(i1==1432580716)or(i1==1429221720)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(T4F)and((GetHeroLevel(IB)>3)or(SE7(m5)))and(((Bz>hq[O5])and(S27(IB,852089,1093684300,m5)))or(IssueTargetOrderById(IB,852600,m5)))
elseif(GetHeroLevel(IB)>5)then
if(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
set J4=(GetUnitLifePercent(m5)<30.)and((SP7(275.,m5,Condition(function Ki))>0)or(SP7(275.,m5,Condition(function Kj))>0))and(IssueTargetOrderById(IB,852600,m5))
else
set J4=(GetUnitManaPercent(IB)>60.)and(SP7(400.,m5,Condition(function Ki))>2)and(IssueTargetOrderById(IB,852600,m5))
endif
endif
elseif(i1==1333027688)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(T4F)and((GetHeroLevel(IB)>3)or(SE7(m5)))and(((IsUnitInRange(IB,m5,250.))and(TD7(IB,852164,1093682252)))or(S27(IB,OrderId("channel"),1093686091,m5))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<S1F(IB))and(GetUnitState(m5,UNIT_STATE_LIFE)>180.)and((TD7(IB,852526,1093682248))or(TD7(IB,852526,1093750594)))))
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>10))then
set J4=((GetUnitLifePercent(m5)<40.)or(SP7(300.,IB,Condition(function Ki))>2))and(TD7(IB,852164,1093682252))
endif
elseif(i1==1311781185)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(SE7(m5))))then
set J4=(((GetUnitAbilityLevel(m5,1112437609)>0)or(GetUnitManaPercent(m5)<30.)or(GetUnitAbilityLevel(m5,1110454607)>0))and(IssueTargetOrderById(IB,852662,m5)))or((T4F)and(GetUnitAbilityLevel(m5,1112437609)==0)and((QS7(GetUnitTypeId(m5),F77))or(GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<60.))and(IssueImmediateOrderById(IB,852600)))
endif
elseif(i1==1211117643)then
if((not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>10))then
set UP=SP7(300.,m5,Condition(function Ki))
set J4=((UP>1)and(GetHeroLevel(IB)>4)and(SP7(800.,m5,Condition(function KI))==0)and(GetUnitManaPercent(IB)>35.)and(S_7(IB,852278,1093678410,S07(m5))))
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>10)and(GetUnitLifePercent(IB)>70.))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(IB)-GetUnitY(m5),GetUnitX(IB)-GetUnitX(m5)))
call MoveLocation(HA,GetUnitX(m5)+70.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+70.*Sin(UP*bj_DEGTORAD))
if(IsUnitAlly(IB,Z7[0]))then
set EI7=RE7(m5,h7[100])
else
set EI7=RE7(m5,h7[0])
endif
set J4=(GetWidgetLife(m5)<450. or EI7>6000)and(SP7(800.,m5,Condition(function KI))==0)and(SP7(300.,m5,Condition(function Kj))>1)and(S_7(IB,852278,1093678410,HA))
endif
elseif(i1==1215130471)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>3)or(SE7(m5)))and((S27(IB,852095,WK7(IB),m5))or((GetUnitLifePercent(m5)<60)and(UP7(GetHandleId(IB),"AI|Magi2Blast")and S27(IB,852600,1093815121,m5)))or(S27(IB,852662,WM7(IB),m5)))
elseif((GetUnitManaPercent(IB)>50.)and(GetHeroLevel(IB)>10))then
set J4=((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(SP7(300.,m5,Condition(function Ki))>2)and(S27(IB,852662,WM7(IB),m5)))or((SP7(400.,m5,Condition(function Kj))>2)and(GetUnitAbilityLevel(IB,1113746543)==0)and(S27(IB,852101,WN7(IB),IB)))
endif
elseif(i1==1215657064)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
if(GetUnitAbilityLevel(IB,1110454863)==0)then
set J4=((GetHeroLevel(IB)>5)or(SE7(m5)))and(((IsUnitInRange(IB,m5,300.))and(TD7(IB,852096,1093677913)))or(TD7(IB,852100,1093684291))or(TD7(IB,852600,1093750841)))
elseif(GetUnitLifePercent(IB)>50.)then
set J4=IssueTargetOrderById(IB,851983,m5)
endif
elseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
set J4=(GetUnitAbilityLevel(IB,1110454863)==0)and(GetUnitLifePercent(m5)<70.)and(TD7(IB,852600,1093750841))
endif
elseif(i1==1332179560)then
if((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(SE7(m5))))then
call S2F()
set J4=(GetUnitLifePercent(m5)<35.)and(S27(IB,OrderId("acidbomb"),1093742660,m5))
endif
elseif(i1==1214344551)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetUnitLifePercent(m5)<70.)and(GetUnitAbilityLevel(m5,1110459185)==0)and(IssueImmediateOrderById(IB,852600)))or((GetUnitAbilityLevel(m5,1110459185)>0)and(IssueTargetOrderById(IB,851983,m5)))
endif
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call S2F()
set hq[240+O5]=Bz+4.
set J4=(IssueTargetOrderById(IB,852101,IB))or(IssueImmediateOrderById(IB,852599))
elseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))then
set J4=(IssueTargetOrderById(IB,852101,IB))or(IssueImmediateOrderById(IB,852599))
endif
elseif(i1==1211117636)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
call S2F()
set J4=(GetUnitLifePercent(m5)<55.)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(T47(IB,852095,1093685042,1093810233,m5))
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>8)and(GetUnitManaPercent(IB)>45.)and(GetUnitLifePercent(m5)<75.))then
if(SP7(550.,m5,Condition(function Ki))>2)then
call SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093685041,true)
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(IB),GetUnitX(m5)-GetUnitX(IB)))
set GZ[O5]=true
set J4=IssuePointOrderById(IB,852218,GetUnitX(IB)+1000.*Cos(UP*bj_DEGTORAD),GetUnitY(IB)+1000.*Sin(UP*bj_DEGTORAD))
set GZ[O5]=false
endif
endif
elseif(i1==1160786000)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>3)or(SE7(m5)))and((S27(IB,852218,1093685047,m5))or((GetUnitLifePercent(m5)<60.)and(S_7(IB,852580,1093685046,CL7(IB,m5,2000.,0.65,1100.)))))
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>60.)and(GetUnitLifePercent(m5)<75.))then
set J4=(SP7(400.,m5,Condition(function Ki))>2)and(S27(IB,852218,1093685047,m5))
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=(((GetHeroLevel(IB)>3)or(SE7(m5)))and(S27(IB,852089,1093683532,m5)))or(((GetUnitLifePercent(m5)<75.)or(GetUnitLifePercent(IB)<65.))and(i1==1311781193)and(TD7(IB,852663,1095656306)))
if((not J4)and(i1!=1311781193)and(GetUnitLifePercent(IB)>75.))then
call IssueTargetOrderById(IB,851983,m5)
endif
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL)))then
if((Bz>hq[O5])and(GetHeroLevel(IB)>6)and(GetUnitManaPercent(IB)>50.))then
set UP=SP7(500.,m5,Condition(function Ki))
set J4=((UP>3)or((eY[O5]==10)and(UP>1)))and(S27(IB,852089,1093683532,m5))
endif
elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(i1==1311781193)and(GetUnitManaPercent(IB)>50.)and(GetHeroLevel(IB)>10))then
set J4=(SP7(400.,m5,Condition(function Kj))>2)and(TD7(IB,852663,1095656306))
endif
elseif(i1==1311781206)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>2)or(SE7(m5)))and(((IsUnitInRange(IB,m5,550.))and((GetUnitManaPercent(IB)>50.)or(GetUnitLifePercent(m5)<60.))and(IssueImmediateOrderById(IB,852600)))or(((GetUnitLifePercent(m5)<75.)or(T4F))and(CQE(IB,m5))))
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>6)and(GetUnitManaPercent(IB)>60.))then
set UP=SP7(500.,IB,Condition(function Ki))
set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(IssueImmediateOrderById(IB,852600))
endif
elseif(i1==1211117651)then
if(((GetHeroLevel(IB)>11)and(GetUnitState(IB,UNIT_STATE_MANA)>600.))or(IsUnitType(m5,UNIT_TYPE_HERO))or((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitManaPercent(IB)>30.)and(GetUnitTypeId(m5)!=1700946284)and(GetUnitTypeId(m5)!=1970107511)and(GetUnitTypeId(m5)!=1697657398)and(GetUnitTypeId(m5)!=1966092370)))then
if(GetUnitAbilityLevel(IB,1093685594)>0)then
set hq[240+O5]=Bz+5.
else
set J4=IssueImmediateOrderById(IB,852177)
endif
endif
elseif(i1==1160786265)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((T4F)and((GetUnitLifePercent(m5)<80.)or(GetUnitLifePercent(IB)<60.))and(IssueImmediateOrderById(IB,852526)))or((IsUnitInRange(IB,m5,145+(40*GetUnitAbilityLevel(IB,1093685839))))and(TD7(IB,852129,1093685846)))
endif
elseif(i1==1311780930)then
if((GetHeroLevel(IB)>10)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(iy(IB)))then
if(SP7(550.,m5,Condition(function Ki))>2)then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(IB),GetUnitX(m5)-GetUnitX(IB)))
set J4=IssuePointOrderById(IB,852662,GetUnitX(IB)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(IB)+200.*Sin(UP*bj_DEGTORAD))
set h4[16+O5]=null
endif
endif
elseif(i1==1311788615)then
if((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<35.)and(GetUnitLevel(IB)>5)and(Bz>TC4[O5]))then
set J4=T47(IB,852581,1093743184,1093747766,m5)
endif
elseif(i1==1160786520)then
if(IsUnitType(m5,UNIT_TYPE_HERO))then
set J4=((GetHeroLevel(IB)>3)or(SE7(m5)))and((S27(IB,852184,1093809991,m5))or((GetUnitLifePercent(m5)<60.)and(S27(IB,852214,1093809990,m5))))
elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>60.)and(GetUnitLifePercent(m5)<75.))then
set J4=(SP7(400.,m5,Condition(function Ki))>2)and(S27(IB,852184,1093809991,m5))
endif
endif
set GZ[32+O5]=false
set IB=null
set m5=null
set b5=null
endfunction
function T7F takes nothing returns boolean
return((GetSpellTargetUnit()!=null)and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetSpellTargetUnit())))and(GetPlayerController(GetOwningPlayer(GetSpellTargetUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function T8F takes nothing returns boolean
return((IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))
endfunction
function T9F takes nothing returns nothing
local unit it
local unit MRF
local integer i1
local integer O5
local boolean TDF
local boolean J4
local real kl
if(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)then
set it=GetTriggerUnit()
set MRF=GetAttacker()
elseif(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT)then
set it=GetSpellTargetUnit()
set MRF=GetTriggerUnit()
else
set it=GetEnumUnit()
set MRF=GetTriggerUnit()
endif
set O5=GetPlayerId(GetOwningPlayer(it))
if((not Jw(it))or(Bz<hq[304+O5]))then
set it=null
set MRF=null
return
endif
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
set G0[304+O5]=true
else
set G0[304+O5]=false
endif
if not G0[304+O5]then
set hq[496+O5]=Bz+1.5
set hq[304+O5]=Bz+1.
set hq[416+O5]=Bz+5.
if((not IsUnitVisible(MRF,GetOwningPlayer(it)))or(eY[32+GetPlayerId(GetOwningPlayer(MRF))]<=2))then
call TriggerSleepAction(.8)
else
call TriggerSleepAction(.2)
endif
if(Bz>hq[480+O5])then
call MQF(it,MRF)
endif
set TDF=(SE7(it))
if(not G0[256+O5])and(not S97(MRF,it))then
call CTE(it,false)
set it=null
set MRF=null
return
elseif((GetHeroLevel(it)>13)and(GetUnitLifePercent(it)>75.)and(GetUnitState(MRF,UNIT_STATE_LIFE)<GetUnitState(it,UNIT_STATE_LIFE))and(h4[O5]==null))then
call CWE(O5,MRF,false,false)
endif
if((S87(it))and(not TDF)and((GetHeroLevel(it)<6)or((WF7(it))and(GetHeroLevel(it)<10)))and(iU(it))and(h4[O5]!=MRF))then
if((GetUnitCurrentOrder(it)!=851983)or((GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(not WH7(GetSpellAbilityId())))or(GetUnitLifePercent(it)<70.))then
call CTE(it,false)
set it=null
set MRF=null
return
endif
endif
set i1=GetUnitTypeId(it)
endif
if((not is(it))or(not S87(it)))then
if(S87(it))then
elseif((i1==1214409837))then
set J4=(GetUnitCurrentOrder(it)==852600)and(GetUnitLifePercent(it)<80.)and(S57(it,851986,h9[O5]))
elseif(i1==1160786243)then
set J4=(GetUnitCurrentOrder(it)==852089)and(GetUnitLifePercent(it)<50.)and(S57(it,851986,h9[O5]))
elseif(i1==1430466872)then
set J4=(GetUnitCurrentOrder(it)==852487)and(GetUnitLifePercent(it)<80.)and(S57(it,851986,h9[O5]))
endif
set it=null
set MRF=null
return
endif
if((TDF)and((GetUnitState(MRF,UNIT_STATE_LIFE)+200.)>GetUnitState(it,UNIT_STATE_LIFE))and(IsUnitInRange(it,MRF,500.)))then
if(not J4)and((SR7(it,ZU[Q1])))and((GetUnitLifePercent(it)<40)or(h4[O5]!=MRF))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MRF)
endif
if(not J4)and(SR7(it,ZU[D74]))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MRF)
endif
if(not J4)and(SR7(it,ZU[U3]))and(GetUnitLifePercent(MRF)<40)then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MRF)
endif
if(not J4)and(SR7(it,ZU[R3]))and(UN7(GetHandleId(GetOwningPlayer(MRF)),"AI|Class")<=2)and(GetUnitLifePercent(it)<40)then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MRF)
endif
if(not J4)and(SR7(it,ZU[DP4]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SR7(it,ZU[DR4])and(Bz>TC4[240+O5])and(DV9(MRF)==false)and(A27(MRF)==false))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MRF)
endif
if(not J4)and(SZ7(it,ZU[F5]))then
set J4=(S37(it,MRF))
endif
if(not J4)and((SR7(it,ZU[D1])or SR7(it,ZU[E1]))and(GetItemCharges(bj_lastCreatedItem)>0))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,MRF,false,false)==0)then
set J4=(UnitUseItemTarget(it,bj_lastCreatedItem,MRF))
endif
if(not J4)and(SZ7(it,ZU[Y0]))and(GetUnitTypeId(it)!=1164277357)then
set J4=(UnitUseItem(it,bj_lastCreatedItem))
endif
endif
if((not J4)and(IsUnitInRange(it,MRF,500.))and((GetUnitAbilityLevel(MRF,1110454329)>0)or(GetUnitAbilityLevel(MRF,1110454597)>0)or(GetUnitAbilityLevel(MRF,1110454338)>0)or(GetUnitAbilityLevel(MRF,1110454608)>0)))then
set J4=CRE(it,MRF,false)
if(not J4)then
if(not J4)and((SR7(it,ZU[Q1])))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MRF)
endif
if(not J4)and(SR7(it,ZU[D74]))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MRF)
endif
if(not J4)and(SR7(it,ZU[U3]))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MRF)
endif
if(not J4)and(SR7(it,ZU[DP4]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SZ7(it,ZU[F5]))then
set J4=(S37(it,MRF))
endif
if(not J4)and((SR7(it,ZU[D1])or SR7(it,ZU[E1]))and(GetItemCharges(bj_lastCreatedItem)>0))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MRF)
endif
endif
endif
if(not J4)and(UN7(GetHandleId(GetOwningPlayer(MRF)),"AI|Class")<=2)and(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(h4[O5]!=null or(GetUnitLifePercent(it)<30))then
if(not J4)and(SR7(it,ZU[DA4]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SR7(it,ZU[E24]))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MRF)
endif
if(not J4)and(SR7(it,ZU[AL]))then
set TA4=true
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and(SR7(it,ZU[R3]))and((h4[O5]==MRF)or(GetUnitLifePercent(it)<70))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,MRF)
endif
if(i1==1429221424)and(Bz>TC4[48+O5]+4.)then
set J4=TD7(it,852526,1093815119)
endif
endif
if(J4)then
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
set J4=((TDF)or(GetUnitAbilityLevel(MRF,1110454329)>0)or(GetUnitAbilityLevel(MRF,1110454597)>0)or(GetUnitAbilityLevel(MRF,1110454338)>0)or(GetUnitAbilityLevel(MRF,1112433522)>0)or(GetUnitAbilityLevel(MRF,1110454608)>0))and(IsUnitInRange(it,MRF,550.))and(TD7(it,OrderId("charm"),1093747028))
elseif(i1==1162032951)then
set J4=(TDF)and(((GetUnitAbilityLevel(it,1093679152)>0)and(IsUnitInRange(it,MRF,450.)))or((GetUnitAbilityLevel(it,1093752154)>0)and(IsUnitInRange(it,MRF,780.))))and(T47(it,852527,1093679152,1093752154,MRF))
elseif(i1==1160785972)then
set J4=(TDF)and(IssueImmediateOrderById(it,852129))
elseif((i1==1162032181)or(i1==1164207469)or(i1==1429221451)or(i1==1430466609))then
set J4=(TDF)and(JIF(it))
elseif(i1==1429221424)then
set J4=(TDF)and(IsUnitInRange(it,MRF,400.))and(S27(it,852555,1093687351,MRF))
if((not J4)and(TDF)and(GetHeroLevel(it)>15)and(GetUnitLifePercent(it)<20.))then
set GZ[O5]=true
set J4=J8(O5,TD7(it,852129,1093679445))
endif
elseif(i1==1430468913)then
if(TDF)then
set J4=(IsUnitInRange(MRF,it,300.))and(TD7(it,852127,1093810507))
else
set J4=((IsUnitInRange(it,MRF,500.))and(S27(it,852149,1093677876,MRF)))or((IsUnitInRange(MRF,it,300.))and(TD7(it,852127,1093810507)))
endif
elseif(i1==1430467634)then
set J4=(TDF)and(IsUnitInRange(it,MRF,500.))and(T47(it,852583,1093684565,1093681458,MRF))
elseif(i1==1313026096)then
set J4=(TDF)and(IsUnitInRange(it,MRF,450.))and(S27(it,852095,1095267426,MRF))
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if(GetUnitLifePercent(MRF)>(GetUnitLifePercent(it)+35.))then
set J4=(IsUnitInRange(it,MRF,350.))and(S27(it,852189,1093678929,MRF))
endif
elseif(i1==1164666213)then
set J4=((IsUnitInRange(MRF,it,300.))and(IssueImmediateOrderById(it,852177)))or((IsUnitInRange(MRF,it,500.))and(TD7(it,852594,1093677877)))
elseif(i1==1433168227)then
set J4=((TDF)and(IsUnitInRange(it,MRF,500.))and(S27(it,852226,1093678918,MRF)))or((GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(S27(it,852225,1093679186,MRF)))
elseif(i1==1430466872)then
set J4=(TDF)and(((IsUnitInRange(it,MRF,450.))and(S27(it,852502,1093684558,MRF)))or((IsUnitInRange(it,MRF,350.))and(S27(it,852555,1093687349,MRF))))
elseif(i1==1162032439)then
set J4=(IsUnitInRange(it,MRF,350.))and(S27(it,OrderId("volcano"),1093744435,MRF))
elseif(i1==1430468144)then
set J4=(TDF)and((IsUnitInRange(it,MRF,500.))and(S27(it,852189,1093679192,MRF)))or((IsUnitInRange(it,MRF,860.))and(UN7(GetHandleId(it),"Level")>GetUnitAbilityLevel(it,1093750337))and(GetUnitManaPercent(it)>35.)and(GetHeroLevel(it)>3)and(IssueTargetOrderById(it,852248,MRF)))
elseif((i1==1429221432)or(i1==1160786229))then
set J4=(TDF)and(IsUnitInRange(it,MRF,1000.))and(TD7(it,852180,1093679411))
elseif(i1==1429221441)then
set J4=(TDF)and(IsUnitInRange(it,MRF,450.))and(S27(it,852231,1093678389,MRF))
elseif(i1==1165451634)then
set J4=(TDF)and(((IsUnitInRange(it,MRF,350.))and(S27(it,OrderId("acidbomb"),1093687629,MRF)))or(JIF(it)))
elseif(i1==1432642913)then
set J4=((GetHeroLevel(it)>5)or(GetUnitLifePercent(it)<60.))and(IssueTargetOrderById(it,852119,it))
elseif(i1==1215722344)then
set J4=(TDF)and(IsUnitInRange(it,MRF,500.))and(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(QS7(GetUnitTypeId(MRF),F77))and(S27(it,852668,1093682499,MRF))
elseif(i1==1432510828)then
set J4=((RSF(it)>30.)and(TD7(it,852600,1093682004)))or((GetUnitState(it,UNIT_STATE_MANA)>350.)and(IsUnitType(MRF,UNIT_TYPE_HERO)==true)and(IssuePointOrderById(it,852662,GetUnitX(MRF),GetUnitY(MRF))))or((TDF)and(IssueImmediateOrderById(it,852129)))
if((not J4)and(not TDF)and(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED))then
set h4[288+O5]=MRF
set J4=IssueImmediateOrderById(it,852129)
endif
elseif(i1==1429221446)then
set J4=(not TDF)and(CPE(it,MRF))
elseif(i1==1332963428)then
set J4=(IsUnitInRange(it,MRF,450.))and(((TDF)and(S27(it,852227,1093678169,MRF)))or((GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(kq(GetUnitTypeId(MRF)))and(S27(it,852095,1093816137,MRF)))or((GetUnitLifePercent(it)<90.)and(S27(it,852119,1093683019,MRF))))
elseif(i1==1332109682)then
set J4=(TDF)and(IsUnitInRange(it,MRF,600.))and(TD7(it,852588,1093810505))
elseif(i1==1160786241)then
set J4=(TDF)and(IsUnitInRange(it,MRF,550.))and(S27(it,852119,1093684813,MRF))
elseif(i1==1429221456)then
set J4=(TDF)and(IsUnitInRange(it,MRF,500.))and(S27(it,852119,1093685066,MRF))
elseif(i1==1430468406)then
set J4=(TDF)and(IsUnitInRange(it,MRF,600.))and(IssueImmediateOrderById(it,852556))
elseif(i1==1160786242)then
if(TDF)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093683287,true)
set J4=(IsUnitInRange(it,MRF,500.))and(IssueTargetOrderById(it,852662,MRF))
endif
elseif((i1==1211117641)or(i1==1211117642))then
set J4=(TDF)and(IsUnitInRange(it,MRF,600.))and(R6F(it,MRF))
elseif(i1==1311781207)then
set J4=(((GetHeroLevel(it)>2)or(TDF))and(GetUnitLifePercent(it)<85.)and(IssueTargetOrderById(it,852229,it)))or((GetHeroLevel(it)>10)and(TDF)and(GetUnitAbilityLevel(it,1093685078)==0)and(IssueTargetOrderById(it,852536,it)))or((TDF)and(IsUnitInRange(it,MRF,500.))and(S27(it,852095,1093684817,MRF)))
elseif(i1==1311780946)then
set J4=(TDF)and(IsUnitInRange(it,MRF,550.))and(S27(it,852488,1093685825,MRF))
elseif(i1==1211117624)then
set J4=(TDF)and(IsUnitInRange(it,MRF,550.))and(IssueTargetOrderById(it,852600,MRF))
elseif(i1==1315988077)then
set J4=((TDF)and((TD7(it,852586,1093684561))or((IsUnitInRange(it,MRF,200.))and(TD7(it,852096,1093678669)))))or((not TDF)and(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(IsUnitInRange(it,MRF,500.))and(S27(it,852585,1097032808,MRF)))
elseif(i1==1211117616)then
set J4=(TDF)and(IsUnitInRange(MRF,it,220.))and(TD7(it,852127,1093677139))
elseif(i1==1315074670)then
set J4=(QS7(GetUnitTypeId(it),F77))and(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(TD7(it,852127,1093677139))
elseif(i1==1214345830)then
set J4=((GetUnitLifePercent(it)<70.)and((S27(it,852225,1093679182,it))or((GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(S27(it,852186,1093679190,it)))))or((TDF)and(IssueImmediateOrderById(it,852599)))
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
set J4=(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and((((IsUnitInRange(it,MRF,250.))and(IssueImmediateOrderById(it,852138))and(IssueTargetOrderById(it,851983,MRF)))or((IsUnitInRange(it,MRF,550.))and(IssueImmediateOrderById(it,852139))and(IssueTargetOrderById(it,851983,MRF)))))
elseif(i1==1315007329)then
set J4=(TDF)and((IssueImmediateOrderById(it,852129))or((IsUnitInRange(it,MRF,650.))and(IsUnitVisible(it,GetOwningPlayer(MRF)))and(S27(it,852149,1093681716,MRF))))
elseif(i1==1332898670)then
set J4=(TDF)and(IsUnitInRange(MRF,it,450.))and(S27(it,852502,1093685848,MRF))
elseif(i1==1215723364)then
set J4=(TDF)and((JIF(it))or((IsUnitInRange(MRF,it,450.))and(S27(it,852095,1093677633,MRF))))
elseif(i1==1164799855)then
set J4=((GetUnitLifePercent(it)<70.)and(TD7(it,852556,1093677378)))or((IsUnitInRange(MRF,it,600.))and(S27(it,852075,1093682264,MRF)))
elseif(i1==1433105516)then
set J4=(TDF)and(IsUnitInRange(it,MRF,500.))and(IssueTargetOrderById(it,852662,MRF))
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
set J4=(not TDF)and(GetUnitManaPercent(MRF)>30.)and(IsUnitInRange(it,MRF,600.))and(S27(it,OrderId("acidbomb"),1093742680,MRF))
elseif(i1==1164799603)then
set J4=(TDF)and(not IsUnitInRange(it,MRF,200.))and(IsUnitInRange(it,MRF,550.))and(S27(it,OrderId("carrionswarm"),1093808453,MRF))
elseif(i1==1328558160)then
set J4=(TDF)and((JIF(it))or((GetHeroAgi(it,true)<GetHeroStr(it,true))and(IssueTargetOrderById(it,852662,MRF))))
elseif(i1==1430466865)then
set J4=((TDF)and(JIF(it)))or(IsUnitInRange(it,MRF,350.)and(TD7(it,852127,1093810508)))
elseif(i1==1212363833)then
set J4=(TDF)and((IssueImmediateOrderById(it,852600))or((IsUnitInRange(it,MRF,550.))and(S27(it,852095,1093809220,MRF)))or(TD7(it,852123,1093678643)))
elseif(i1==1315070563)then
set J4=(TDF)and((((SR7(it,ZU[VW]))or(SR7(it,ZU[DG4])))and(not ke(MRF))and(T47(it,852095,1093684529,1093747032,MRF)))or((GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(not GZ[O5])and(not UU7(it,"Omnislashing"))and(TD7(it,852128,1093678407))))
elseif(i1==1212365106)then
set J4=(TDF)and(((IsUnitInRange(it,MRF,300.))and(S27(it,852089,1093685831,MRF)))or(JIF(it)))
elseif(i1==1214931305)then
set J4=(TDF)and(IsUnitInRange(it,MRF,450.))and(S27(it,852171,1093678147,MRF))
elseif(i1==1311787088)then
elseif(i1==1211117617)then
set J4=(TDF)and(IsUnitInRange(it,MRF,450.))and((S27(it,OrderId("acidbomb"),1093744944,MRF))or(TD7(it,852526,1093814611)))
elseif(i1==1211117633)then
set J4=(TDF)and((IssueImmediateOrderById(it,852600))or((IsUnitInRange(it,MRF,550.))and(S27(it,852585,1093684045,MRF))))
elseif(i1==1432580716)or(i1==1429221720)then
set J4=(TDF)and(IsUnitInRange(it,MRF,550.))and(S27(it,852089,1093684300,MRF))
elseif(i1==1333027688)then
set J4=(TDF)and(IsUnitInRange(it,MRF,1000.))and(S27(it,OrderId("channel"),1093686091,MRF))
elseif(i1==1311781185)then
set J4=(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and((not TDF)or(IsUnitInRange(it,MRF,550.)))and(IssueTargetOrderById(it,852662,MRF))
elseif(i1==1211117643)then
if((GetUnitLifePercent(it)<20.)or(GetUnitState(it,UNIT_STATE_LIFE)<150.))then
set GZ[O5]=true
set J4=J8(O5,(IsUnitInRange(it,MRF,400.))and(S27(it,852040,1093678658,MRF)))
endif
elseif(i1==1215130471)then
set J4=(TDF)and(IsUnitInRange(it,MRF,550.))and((S27(it,852095,WK7(it),MRF))or((GetUnitLifePercent(MRF)<60)and(UP7(GetHandleId(it),"AI|Magi2Blast")and S27(it,852600,1093815121,MRF))))
elseif(i1==1214344551)then
if(GetUnitAbilityLevel(it,1110454833)>0)then
set GZ[272+O5]=true
endif
if(not TDF)then
set J4=(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(S27(it,852095,1093809742,it))
else
set J4=(K6(it))and(IssueTargetOrderById(it,852069,it))
endif
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
set h4[16+O5]=U87(GetHandleId(GetOwningPlayer(it)),"MyBear")
if((h4[16+O5]!=null)and(GetUnitAbilityLevel(it,1093681461)>1)and(not IsUnitInRange(it,h4[16+O5],800.))and(not GZ[288+O5])and(GetUnitLifePercent(h4[16+O5])>30.))then
endif
elseif(i1==1160786000)then
set J4=(TDF)and(IsUnitInRange(it,MRF,1000.))and(S_7(it,852580,1093685046,CL7(it,MRF,2000.,0.65,1100.)))
elseif(i1==1311781206)then
set J4=((TDF)and(IssueImmediateOrderById(it,852493)))or((IsUnitInRange(it,MRF,400.))and(IssueImmediateOrderById(it,852600)))or(((GetUnitLifePercent(MRF)<70.)or(TDF))and(not IsUnitInRange(it,MRF,400.))and(CQE(it,MRF)))
elseif(i1==1160786520)then
set J4=(TDF)and(IsUnitInRange(it,MRF,1000.))and(S27(it,852214,1093809990,MRF))
if(not J4)and hq[816+O5]>Bz then
set G0[288+O5]=true
call T9F()
endif
set G0[304+O5]=false
endif
if not G0[304+O5]then
if((not J4)and(iU(it)))then
if((TDF)and(GetUnitLifePercent(MRF)>70.))then
call VX7(it,false)
elseif((GetHeroLevel(it)>5)and(G0[128+O5])and((GetUnitLifePercent(it)>80.)or(GetUnitState(it,UNIT_STATE_LIFE)>GetUnitState(MRF,UNIT_STATE_LIFE)))and(IsUnitInRange(it,MRF,800.))and(GetUnitCurrentOrder(it)!=851986))then
call IssueTargetOrderById(it,851983,MRF)
elseif((GetHeroLevel(it)<6)and(GetUnitLifePercent(MRF)>60.)and(((not IsUnitInRange(it,MRF,300.))and(WF7(it)))or((IsUnitInRange(it,MRF,300.))and(not WF7(it)))))then
set kl=Atan2(GetUnitY(h9[16+O5])-GetUnitY(it),GetUnitX(h9[16+O5])-GetUnitX(it))
call IssuePointOrderById(it,851986,GetUnitX(it)+300.*Cos(kl),GetUnitY(it)+300.*Sin(kl))
endif
endif
if((hq[656+O5]>Bz)and(GetUnitLifePercent(it)<65.))then
call VX7(it,false)
endif
if((J4)or(not is(it)))then
set hq[304+O5]=0.
endif
endif
set it=null
set MRF=null
endfunction
function J6F takes nothing returns nothing
local unit it=GetEnumUnit()
local integer i1=GetUnitTypeId(GetEnumUnit())
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
local real kl=Atan2(GetUnitY(h9[O5])-GetUnitY(it),GetUnitX(h9[O5])-GetUnitX(it))
local real AQ7
if(SR7(it,ZU[RW]))then
if(kJ(GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+500.*Cos(kl),GetUnitY(it)+500.*Sin(kl))
endif
call UnitUseItemPointLoc(it,SV7(it,ZU[RW]),HB)
elseif(i1==1162032181)then
set AQ7=I2R(350+(200*GetUnitAbilityLevel(it,1093684299)))
if(kJ(GetUnitX(it)+AQ7*Cos(kl),GetUnitY(it)+AQ7*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+AQ7*Cos(kl),GetUnitY(it)+AQ7*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+(AQ7-100.)*Cos(kl),GetUnitY(it)+(AQ7-100.)*Sin(kl))
endif
call IssuePointOrderByIdLoc(it,852218,HB)
elseif((i1==1430466609)or(i1==1164207469))then
if(kJ(GetUnitX(it)+800.*Cos(kl),GetUnitY(it)+800.*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+800.*Cos(kl),GetUnitY(it)+800.*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl))
endif
call IssuePointOrderByIdLoc(it,852525,HB)
elseif(i1==1429221451)then
set AQ7=I2R(280+(100*GetUnitAbilityLevel(it,1093678671)))
if(kJ(GetUnitX(it)+AQ7*Cos(kl),GetUnitY(it)+AQ7*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+AQ7*Cos(kl),GetUnitY(it)+AQ7*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+(AQ7-100.)*Cos(kl),GetUnitY(it)+(AQ7-100.)*Sin(kl))
endif
call IssuePointOrderByIdLoc(it,852218,HB)
elseif(i1==1328558160)then
if(kJ(GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+450.*Cos(kl),GetUnitY(it)+450.*Sin(kl))
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093682766,true)
call IssuePointOrderByIdLoc(it,852218,HB)
elseif(i1==1311781206)then
set GZ[O5]=true
call J8(O5,TD7(it,852129,1093684302))
elseif(i1==1211119409)then
set GZ[O5]=true
call J8(O5,TD7(it,852600,1093749303))
elseif(i1==1211117651)then
if(kJ(GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl)))then
call MoveLocation(HB,GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl))
else
set kl=GetRandomReal(0.,6.28)
call MoveLocation(HB,GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl))
endif
call IssuePointOrderByIdLoc(it,852218,HB)
else
call JIF(it)
endif
call R47(1.)
if RE7(it,h9[O5])<400 then
call S57(it,851983,h8[O5])
else
call S57(it,851986,h9[O5])
endif
set it=null
endfunction
function TEF takes nothing returns boolean
local unit it=GetEnumUnit()
local integer i1=GetUnitTypeId(GetEnumUnit())
local player pl=GetOwningPlayer(GetEnumUnit())
local location b5=HC[16+GetPlayerId(pl)]
local unit m5=null
local boolean J4=false
local integer TFF
local integer UP
local integer O5=GetPlayerId(pl)
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
set G0[304+O5]=true
else
set G0[304+O5]=false
endif
if(not S47(it))and(S77(it))then
return true
endif
if((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
set m5=SN7(700.,b5,Condition(function Kn))
set J4=(m5!=null)and(TD7(it,OrderId("charm"),1093747028))
elseif(i1==1160785972)then
set J4=IssueImmediateOrderById(it,852129)
if((not J4)and(GetHeroLevel(it)>6)and(GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitState(it,UNIT_STATE_MANA)>350.))then
set m5=SN7(500.,b5,Condition(function KD))
set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(S27(it,852066,1093678161,m5))
endif
elseif((i1==1162032181)or(i1==1164207469)or(i1==1212365106)or(i1==1429221451)or(i1==1311781206))then
set J4=JIF(it)
elseif(i1==1429221424)then
if(not kD(it))then
set m5=SN7(400.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852555,1093687351,m5))
endif
if((GetHeroLevel(it)>10.)and(GetUnitLifePercent(it)<30.)and(SO7(700.,b5,Condition(function Kn))>0))then
set GZ[GetPlayerId(pl)]=true
set J4=J8(GetPlayerId(pl),TD7(it,852129,1093679445))
endif
elseif(i1==1432646245)then
if(not L_7())then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852095,1093677640,m5))
endif
elseif(i1==1430466609)then
set J4=JIF(it)
if(not J4)then
set m5=SN7(450.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852527,1093685559,m5))
endif
elseif(i1==1160786502)then
set J4=JIF(it)
elseif(i1==1429221443)then
set UP=GetUnitAbilityLevel(it,1093686103)
if(UP==1)then
set m5=SN7(250.,S07(it),Condition(function YH7))
else
set m5=SN7(250.,S07(it),Condition(function YI7))
endif
set J4=(m5!=null)and(S57(it,851986,m5))and(S27(it,852600,1093686103,m5))
if(not J4)then
set J4=(hq[240+GetPlayerId(pl)]<=Bz)and(TD7(it,852273,1093686322))
endif
elseif(i1==1430468913)then
set J4=(SO7(300.,b5,Condition(function k6))>0)and(TD7(it,852127,1093810507))
if((not J4)and(SE7(it)))then
set GZ[GetPlayerId(pl)]=true
set J4=J8(GetPlayerId(pl),TD7(it,852100,1093678403))
endif
elseif(i1==1430467634)then
set b5=kk(it,400.,h9[GetPlayerId(pl)])
if(b5!=null)then
call SetPlayerAbilityAvailable(pl,1093750608,true)
set GZ[GetPlayerId(pl)]=true
set J4=J8(GetPlayerId(pl),IssuePointOrderByIdLoc(it,852488,b5))
endif
set b5=HC[16+GetPlayerId(pl)]
elseif(i1==1313026096)then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852095,1095267426,m5))
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
set bj_lastLoadedUnit=it
set IN4=null
set IP4=null
set EI7=GetUnitLifePercent(it)+10.
set EJ7=GetUnitLifePercent(it)+10.
call SN7(700.,b5,Condition(function XF7))
if IN4!=null then
set m5=IN4
else
set m5=IP4
endif
set J4=(m5!=null)and(S27(it,852189,1093678929,m5))
elseif(i1==1430466872)then
set m5=SN7(400.,b5,Condition(function Kn))
set J4=(m5!=null)and((S27(it,852555,1093687349,m5))or(S27(it,852502,1093684558,m5))or(S37(it,m5)))
elseif(i1==1162032439)then
set m5=SN7(450.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,OrderId("volcano"),1093744435,m5))
elseif(i1==1430468144)then
set m5=SN7(600.,b5,Condition(function Kn))
if((m5!=null)and(SR7(it,ZU[DR4]))and(DV9(m5)==false)and(A27(m5)==false))then
set J4=UnitUseItemTarget(it,SV7(it,ZU[DR4]),m5)
endif
if(not J4)then
set J4=(m5!=null)and(S27(it,852189,1093679192,m5))or((IsUnitInRange(it,m5,860.))and(UN7(GetHandleId(it),"Level")>GetUnitAbilityLevel(it,1093750337))and(IssueTargetOrderById(it,852248,m5)))
endif
elseif(i1==1429221441)then
if(not J4)then
set m5=SN7(550.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852231,1093678389,m5))
endif
elseif(i1==1165451634)then
set J4=JIF(it)
if(not J4)then
set m5=SN7(450.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,OrderId("acidbomb"),1093687629,m5))
endif
elseif(i1==1432510828)then
if(GetUnitLifePercent(it)<25.)then
set J4=IssueImmediateOrderById(it,852129)
call S57(it,851986,TG7(it))
endif
if(not J4)then
set m5=SN7(1200.,b5,Condition(function k6))
set J4=((RSF(it)>30.)and(SO7(900.,b5,Condition(function Kn))>0)and(TD7(it,852600,1093682004)))or((m5!=null)and(GetUnitState(it,UNIT_STATE_MANA)>350.)and(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))))or(IssueImmediateOrderById(it,852129))
endif
elseif(i1==1429221446)then
set J4=(GetUnitAbilityLevel(it,1110454868)>0)and(IssueImmediateOrderById(it,852178))
elseif(i1==1429221445)then
set J4=TD7(it,852526,1093678422)
elseif(i1==1332963428)then
set m5=SN7(600.,b5,Condition(function k8))
set J4=(m5!=null)and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)==0)and(S27(it,852227,1093678169,m5))
if(not J4)then
if(m5==null)then
set m5=SN7(500.,b5,Condition(function k8))
endif
set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(S27(it,852119,1093683019,m5))
endif
elseif(i1==1332109682)then
set m5=SN7(700.,b5,Condition(function Kn))
set J4=((m5!=null)and(S27(it,852662,1093678134,m5)))or((GetHeroLevel(it)>5)and(Bz>hq[16+GetPlayerId(pl)])and(Kz(600.,b5)>1)and(TD7(it,852588,1093810505)))
elseif(i1==1211117640)then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852486,1093681989,m5))
if(not J4)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(S37(it,m5))
endif
elseif(i1==1160786241)then
call SetPlayerAbilityAvailable(pl,1093684805,true)
set m5=SN7(700.,b5,Condition(function Kn))
set J4=((m5!=null)and(S27(it,852119,1093684813,m5)))or((GetUnitAbilityLevel(it,1110455882)==0)and(IssueImmediateOrderById(it,852177)))
elseif(i1==1429221456)then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852119,1093685066,m5))
elseif(i1==1160786243)then
set J4=IssueTargetOrderById(it,852248,it)
elseif(i1==1160786505)then
set J4=IssueImmediateOrderById(it,852594)
elseif(i1==1160786242)then
call SetPlayerAbilityAvailable(pl,1093683287,true)
set m5=SN7(900.,b5,Condition(function Kn))
set J4=(m5!=null)and(IssueTargetOrderById(it,852662,m5))
elseif((i1==1211117641)or(i1==1211117642))then
set m5=SN7(550.,b5,Condition(function Kn))
set J4=(m5!=null)and(R6F(it,m5))
elseif(i1==1311781207)then
set J4=(IssueTargetOrderById(it,852229,it))or((GetUnitAbilityLevel(it,1093685078)==0)and(IssueTargetOrderById(it,852536,it)))
elseif(i1==1311780946)then
set J4=(is(it))and(RE7(it,TG7(it))>5000.)and(SO7(1200.,b5,Condition(function KX))==0)and(RJF(3))
if(not J4)then
set m5=SN7(500.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852488,1093685825,m5))
endif
elseif((i1==1211117650)or(i1==1211119433))then
set IN4=it
set J4=(SO7(1000.,b5,Condition(function ny))>3)and(IssueTargetOrderById(it,852699,it))
elseif(i1==1211117646)then
set J4=S27(it,852101,1093685815,it)
elseif(i1==1211117624)then
set m5=SN7(600.,b5,Condition(function k6))
set J4=(m5!=null)and(IssueTargetOrderById(it,852600,m5))
elseif(i1==1160785973)then
if((GetHeroLevel(it)>5)and(Bz>hq[GetPlayerId(pl)]))then
set m5=SN7(400.,b5,Condition(function k6))
set J4=(m5!=null)and(SH7(m5))and(GetUnitAbilityLevel(m5,1110454580)==0)and(SO7(700.,b5,Condition(function KA))<(SO7(700.,b5,Condition(function k6))+2))and(IssueImmediateOrderById(it,852600))
endif
elseif(i1==1315988077)then
set m5=SN7(600.,b5,Condition(function k6))
if(m5!=null)then
set J4=((IsUnitInRange(it,m5,200.))and(TD7(it,852096,1093678669)))or((GetHeroLevel(it)>5)and(GetUnitLifePercent(it)<35.)and(TD7(it,852586,1093684561)))
endif
elseif(i1==1211117616)then
set J4=(SO7(280.,b5,Condition(function k6))>0)and(TD7(it,852127,1093677139))
elseif(i1==1211117617)then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,OrderId("acidbomb"),1093744944,m5))
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
if(i1==1215063922)then
set UP=250
else
set UP=400
endif
set m5=SN7(I2R(UP),b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852095,1093681490,m5))
elseif(i1==1214345830)then
set J4=S27(it,852225,1093679182,it)
elseif((i1==1315007329)or(i1==1332179560))then
set J4=IssueImmediateOrderById(it,852129)
if((not J4)and(i1==1315007329)and(GetHeroLevel(it)>5)and(GetUnitAbilityLevel(it,1110455858)==0))then
set m5=SN7(750.,b5,Condition(function k6))
set J4=(m5!=null)and(S27(it,852149,1093681716,m5))
endif
elseif(i1==1211117653)then
if((GetUnitAbilityLevel(it,1110456408)==0))then
set J4=((Bz>TC4[80+GetPlayerId(pl)])and AO7(it,LP4,LP4,LQ4,1093687372)and(AI7(it,LQ4,LQ4,LQ4,false))and(IssueImmediateOrderById(it,852129)))
if(not J4 and(Bz>TC4[80+GetPlayerId(pl)])and(GetUnitLevel(it)>5))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),BS[4],true)
set J4=(IssueImmediateOrderById(it,852129))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),BS[4],false)
endif
if(not J4)then
set m5=SN7(500.,b5,Condition(function k6))
set J4=(m5!=null)and(AO7(it,LP4,LP4,LR4,1093686864))and(IssueImmediateOrderById(it,852134))
endif
elseif((GetUnitAbilityLevel(it,1110456408)>0))then
set TFF=Z27(1215128178,it)
if((TFF>0)and(S87(M7[TFF]))and((Bz>hq[TFF])or((hq[TFF]-Bz)>0.)and((hq[TFF]-Bz)<60.))and((GetUnitAbilityLevel(M7[TFF],1093810503)>0)or(GetUnitAbilityLevel(M7[TFF],1093810504)>0)))then
set UP=GetUnitAbilityLevel(M7[TFF],1093810503)
if(UP==0)then
set UP=GetUnitAbilityLevel(M7[TFF],1093810504)
set TFF=350+(UP*100)
else
set TFF=170+(UP*100)
endif
if((GetUnitState(it,UNIT_STATE_LIFE)>TFF)and(GetUnitAbilityLevel(it,1093808472)<6))then
set J4=(RE7(it,TG7(it))<5900.)and(SO7(1400.,b5,Condition(function KX))==0)and(IssueImmediateOrderById(it,LQ4))
endif
elseif(Z27(1164799603,it)>0 or Z27(1160786242,it)>0)then
else
set J4=(GetUnitAbilityLevel(it,1093808472)<6)and(SO7(1700.,b5,Condition(function KX))==0)and(IssueImmediateOrderById(it,LQ4))
endif
else
endif
elseif(i1==1332898670)then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852502,1093685848,m5))
elseif(i1==1215723364)then
set J4=JIF(it)
if(not J4)then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852095,1093677633,m5))
endif
elseif(i1==1164799855)then
set J4=TD7(it,852556,1093677378)
if(not J4)then
set m5=SN7(700.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852075,1093682264,m5))
endif
elseif(i1==1433105516)then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(IssueTargetOrderById(it,852662,m5))
elseif(i1==1164666213)then
set m5=SN7(600.,b5,Condition(function Kn))
if(GetHeroLevel(it)>=6)then
set J4=(SO7(400.,b5,Condition(function Kn))>0)
if not UU7(it,"AI|PulseNova")then
if(J4)then
call SetPlayerAbilityAvailable(Player(O5),1093808455,true)
call TD7(it,852100,1093808454)
call TriggerSleepAction(0.1)
endif
else
if(not J4)then
call TD7(it,852100,1093808456)
call TriggerSleepAction(0.1)
endif
endif
endif
if(m5!=null)then
call MoveLocation(HA,GetUnitX(m5)+(90.+(25*GetUnitAbilityLevel(it,1093678679)))*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+(90.+(25*GetUnitAbilityLevel(it,1093678679)))*Sin(GetUnitFacing(m5)*bj_DEGTORAD))
set J4=S_7(it,852224,1093678679,HA)
endif
elseif(i1==1164799603)then
set J4=(is(it))and(RE7(it,TG7(it))>5000.)and(SO7(1200.,b5,Condition(function KX))==0)and(RJF(3))
if(not J4)then
set m5=SN7(650.,b5,Condition(function Kn))
set J4=(m5!=null)and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,600))and(S27(it,OrderId("carrionswarm"),1093808453,m5))
endif
elseif(i1==1328558160)then
if((GetUnitAbilityLevel(it,1093684056)>0))then
if(IsTriggerEnabled(UF7(GetHandleId(pl),"MorphAgi")))then
call IssueImmediateOrderById(it,852550)
elseif(not IsTriggerEnabled(UF7(GetHandleId(pl),"MorphStr")))then
call IssueImmediateOrderById(it,852546)
endif
set G0[32+GetPlayerId(pl)]=true
endif
set J4=JIF(it)
elseif(i1==1212363833)then
set m5=SN7(750.,S07(it),Condition(function k6))
set UP=U17(H9)
if(m5!=null and(UP>1 or GetUnitLifePercent(it)<30.))then
set J4=(GetHeroLevel(it)>5)and(IssueImmediateOrderById(it,852600))
endif
if(not J4)and(m5!=null and UP==1)then
set J4=S27(it,852095,1093809220,m5)
endif
elseif(i1==1214931305)then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852171,1093678147,m5))
elseif(i1==1429221430)then
set m5=SN7(600.,b5,Condition(function Kn))
if(not J4)and(m5!=null)and(SO7(1500.,b5,Condition(function KR))==0)and(RE7(it,IZ4)>1500)and(RE7(it,JA4)>1500)then
set J4=S_7(it,852224,1093681735,b5)
endif
elseif(i1==1328558389)then
set m5=SN7(1600.,b5,Condition(function Kn))
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLevel(it)>=6)and(IsUnitInRange(it,m5,1600.))and(GetUnitLifePercent(m5)<33.))then
set J4=(IssuePointOrderByIdLoc(it,OrderId("channel"),GetUnitLoc(m5)))
endif
if((GetUnitLifePercent(it)<80.)or(GetUnitManaPercent(it)<60.))then
call S57(it,851986,TG7(it))
call R47(2.)
call S57(it,851986,TG7(it))
endif
elseif(i1==1160786506)then
set m5=SN7(800.,b5,Condition(function Kn))
set TFF=GetPlayerId(GetOwningPlayer(it))
set UE4[TFF]=true
if(m5!=null)then
set J4=(Q_7(TFF))and(J8(TFF,IssuePointOrderByIdLoc(it,852089,C07(it,m5,1.2,900))))
endif
if(not(J4))then
set UP=GetUnitAbilityLevel(it,1093751639)
set m5=SN7(2200.-(UP*400),b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852119,1093751639,m5))
endif
set UE4[TFF]=false
if((GetUnitLifePercent(it)<80.)or(GetUnitManaPercent(it)<60.))then
call S57(it,851986,TG7(it))
call R47(2.)
call S57(it,851986,TG7(it))
endif
elseif(i1==1311787088)then
set m5=SN7(700.,b5,Condition(function Kn))
set J4=(m5!=null)and((GetUnitState(it,UNIT_STATE_LIFE))>(GetUnitState(it,UNIT_STATE_MAX_LIFE)/2.8))and(S27(it,OrderId("channel"),1093750087,m5))
elseif(i1==1211117633)then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=((m5!=null)and(S27(it,852585,1093684045,m5)))or((SN7(900.,b5,Condition(function Kn))!=null)and(GetUnitLifePercent(it)<35.)and(IssueImmediateOrderById(it,852600)))
elseif(i1==1432580716)or(i1==1429221720)then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852089,1093684300,m5))
elseif(i1==1333027688)then
set m5=SN7(1000.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,OrderId("channel"),1093686091,m5))
elseif(i1==1211117643)then
set m5=Y27(700.,it)
if(m5!=null)and(GetWidgetLife(it)<50.)then
set J4=S27(it,852040,1093678658,it)
elseif((m5!=null)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,700.))and(GetUnitAbilityLevel(m5,1113815395)==0)and(GetUnitAbilityLevel(m5,1113815346)==0)and((GetUnitLifePercent(it)<50.)or(GetHeroLevel(it)<8))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(300+(120*GetUnitAbilityLevel(it,1093678658)))))then
set J4=S27(it,852040,1093678658,it)
endif
if(not J4)and(GetUnitLifePercent(it)<35.)then
set m5=SN7(350.,b5,Condition(function k6))
if((m5!=null)and((GetUnitLifePercent(it)<20.)or(SO7(350.,b5,Condition(function k6))>1)))then
set J4=S27(it,852040,1093678658,m5)
endif
if((not J4)and(GetUnitLifePercent(it)<20.)and(GetUnitState(it,UNIT_STATE_LIFE)<150.)and(SO7(600.,b5,Condition(function k6))>0))then
set J4=S27(it,852040,1093678658,it)
endif
endif
elseif(i1==1211119409)then
set TFF=GetPlayerId(GetOwningPlayer(it))
set UE4[TFF]=true
set J4=IssueImmediateOrderById(it,852129)or(TD7(it,852600,1093749303))
set UE4[TFF]=false
elseif(i1==1215657064)then
set J4=(SO7(320.,b5,Condition(function k6))>0)and(TD7(it,852096,1093677913))
elseif(i1==1215130471)then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and((S27(it,852101,WN7(it),m5))or(S27(it,852662,WM7(it),m5))or(S27(it,852095,WK7(it),m5))or(UP7(GetHandleId(it),"AI|Magi2Blast")and S27(it,852600,1093815121,m5)))
elseif(i1==1214344551)then
if((GetUnitAbilityLevel(it,1110454833)==0)and(SO7(900.,b5,Condition(function Y17))>0)and(R57(it)))then
if(not K6(it))then
call MoveLocation(HC[240+GetPlayerId(pl)],0.,0.)
call SetRect(He,GetUnitX(it)-600.,GetUnitY(it)-600.,GetUnitX(it)+600.,GetUnitY(it)+600.)
set hr=it
call EnumDestructablesInRect(He,Q24,function R9F)
if(GetLocationX(HC[240+GetPlayerId(pl)])!=0.)then
set J4=IssuePointOrderByIdLoc(it,851986,HC[240+GetPlayerId(pl)])
call MoveLocation(HC[240+GetPlayerId(pl)],0.,0.)
else
set J4=S57(it,851986,h9[GetPlayerId(pl)])
endif
else
set J4=IssueTargetOrderById(it,852069,it)
endif
endif
elseif(i1==1160786000)then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(S_7(it,852580,1093685046,CL7(it,m5,2000.,0.65,1100.)))
elseif(i1==1311781193)then
set J4=TD7(it,852663,1095656306)
elseif(i1==1211117651)then
set m5=SN7(900.,b5,Condition(function k6))
set J4=(((m5==null)or(not IsUnitInRange(it,m5,250.)))and(JIF(it)))or((m5!=null)and(S27(it,852186,1093685814,it)))
elseif(i1==1211117649)then
set J4=IssueTargetOrderById(it,852095,it)
elseif(i1==1160786265)then
set J4=IssueImmediateOrderById(it,852526)
elseif(i1==1311780930)then
call SetPlayerAbilityAvailable(pl,1093686082,true)
if(PN4[GetPlayerId(pl)]==null)then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(TG7(it))-GetUnitY(it),GetUnitX(TG7(it))-GetUnitX(it)))
set h4[16+GetPlayerId(pl)]=it
set J4=IssuePointOrderById(it,852662,GetUnitX(it)+150.*Cos(i1*bj_DEGTORAD),GetUnitY(it)+150.*Sin(i1*bj_DEGTORAD))
if J4 then
call R47(0.3)
call TD7(it,852514,1093686082)
endif
endif
elseif(i1==1211119187)then
set m5=SN7(950.,b5,Condition(function Kn))
if(not J4)and(Bz>TC4[32+O5])and(m5!=null)and(RE7(it,m5)<350+GetUnitAbilityLevel(it,1093742926)*150)then
set J4=IssueTargetOrderById(it,852581,m5)
endif
if(not J4)and(Bz>TC4[16+O5])and(m5!=null)then
if C07(it,m5,2.,1500.)!=null then
set J4=S_7(it,852089,1093743414,GM7)
endif
endif
elseif((i1==1211117650)or(i1==1211119433))then
if(not J4)and(Bz>TC4[32+O5])then
set IN4=it
set UP=SO7(1000.,S07(it),Condition(function ny))
set J4=(UP>=3)and(GetUnitLifePercent(it)<75.)and(IssueTargetOrderById(it,852669,it))
endif
elseif(i1==1311786311)then
if(not J4)and(Bz>TC4[48+O5])then
set J4=TD7(it,852526,1093743689)
endif
if(not J4)and(Bz>TC4[32+O5])then
set m5=SN7(950.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852119,1093743178,m5))
endif
elseif(i1==1211117643)then
if(Bz>TC4[16+O5])then
set m5=SN7(400.,b5,Condition(function Kn))
if(m5!=null)and(GetUnitLifePercent(m5)<60.)and(eY[320+O5]>=0)then
set m5=SN7(700.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852278,1093678410,it))
endif
endif
elseif(i1==1211117652)then
set m5=SN7(400.,b5,Condition(function Kn))
if(m5!=null)and(Bz>TC4[32+O5])and(RE7(it,m5)>200.)then
set J4=(m5!=null)and(IssueImmediateOrderById(it,852581))
endif
elseif(i1==1160786510)then
set m5=SN7(700.,b5,Condition(function Kn))
if(not J4)and(Bz>TC4[O5])then
if((m5!=null))then
if(GetUnitLifePercent(m5)<50.)and(GetUnitLevel(it)>=6)and(not IsUnitIllusion(m5))then
if C07(it,m5,2,1000.)!=null then
set J4=T77(it,852089,1093751861,1093808949,GetLocationX(GM7),GetLocationY(GM7))
endif
endif
endif
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and(IsUnitInRange(it,m5,400))then
set J4=TD7(it,852600,1093751631)
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])then
set J4=S27(it,852119,1093751633,m5)
endif
elseif(i1==1160786504)then
if(m5==null)then
set m5=SK7(600.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])then
set J4=S27(it,852119,1093751608,m5)
endif
if(not J4)and(m5!=null)and(Bz>TC4[O5])and(GetUnitLifePercent(it)<25.)then
set J4=S27(it,852111,1093751617,m5)
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])then
set J4=S27(it,852089,1093751618,m5)
endif
elseif(i1==1328558390)then
if(m5==null)then
set m5=SK7(600.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[48+O5])then
call TD7(it,852180,1093744986)
call R47(0.1)
endif
if(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<60)or(UN7(GetHandleId(m5),"StickyNapalm|Count")>3))and(Bz>TC4[32+O5])then
if(CL7(it,m5,900,0.2,1500)!=null)then
set J4=(S_7(it,852218,1093744982,L77(GM7,100,PO7(m5,it))))
endif
endif
elseif(i1==1328558406)then
set J4=JIF(it)
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
if(m5==null)then
set m5=SK7(600.,b5,Condition(function k6))
endif
if((not J4)and(m5!=null)and(Bz>TC4[32+O5]))then
set J4=S27(it,OrderId("acidbomb"),1093742680,m5)
endif
if((not J4)and(m5!=null)and(i1!=1214409837))then
set EI7=PO7(m5,it)
set J4=IssuePointOrderById(it,852089,GetUnitX(m5)+200.*Cos(EI7*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(EI7*bj_DEGTORAD))
endif
if((not J4)and(Bz>TC4[16+O5])and(i1!=1214409837))then
set EI7=PO7(it,h9[O5])
set J4=IssuePointOrderById(it,852600,GetUnitX(it)+150.*Cos(EI7*bj_DEGTORAD),GetUnitY(it)+150.*Sin(EI7*bj_DEGTORAD))
endif
elseif(i1==1430466865)then
if(m5==null)then
set m5=SK7(400.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(it)<20 or GZ[208+O5]))then
set J4=(TD7(it,852164,1093810508))
endif
elseif(i1==1160786520)then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(S27(it,852214,1093809990,m5))
if(not J4)and hq[816+O5]>Bz then
set G0[288+O5]=true
call TEF()
set G0[304+O5]=false
endif
elseif(i1==1311788336)then
set m5=SN7(600.,b5,Condition(function Kn))
if(not J4)and(Bz>TC4[16+O5])and(m5!=null)and(SP7(400.,it,Condition(function X47))<=2)then
set J4=TD7(it,852526,1093814323)
endif
if(not J4)and(m5!=null)then
set J4=JIF(it)
endif
if(not J4)and(Bz>TC4[48+O5])and(m5!=null)then
set J4=IssueImmediateOrderById(it,852600)
endif
elseif(i1==1160786507)then
set m5=SN7(600.,b5,Condition(function Kn))
if(not J4)and(Bz>TC4[32+O5])then
set J4=IssueTargetOrderById(it,852248,it)
endif
elseif(i1==1211122767)then
set m5=SN7(600.,b5,Condition(function Kn))
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])then
set J4=TD7(it,852526,1093814612)
endif
if(not J4)and(m5!=null)and(Bz>TC4[48+O5])then
set J4=S27(it,852668,1093814350,m5)
endif
elseif(i1==1160786738)then
set m5=SN7(600.,b5,Condition(function Kn))
if(not J4)then
if GetUnitAbilityLevel(it,1093813848)==0 then
set EI7=GetUnitFacing(it)
set J4=((m5!=null)and(IssuePointOrderById(it,852216,GetUnitX(it)+20*Cos(EI7*bj_DEGTORAD),GetUnitY(it)+20*Sin(EI7*bj_DEGTORAD))))
else
set bj_lastCreatedUnit=U87(GetHandleId(it),"AI|ShredChakram")
if(m5==null)or(not IsUnitInRange(it,bj_lastCreatedUnit,400))then
set J4=IssueImmediateOrderById(it,852177)
endif
endif
endif
if(not J4)and(Bz>TC4[32+O5])then
set J4=JIF(it)
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and(IsUnitInRange(it,m5,300))then
set J4=TD7(it,852526,1093813835)
endif
endif
if(not G0[304+O5])and(not J4)then
if(not J4)and((SR7(it,ZU[RW]))and(Bz>hq[112+GetPlayerId(pl)]))then
set J4=JIF(it)
endif
if(not J4)and(SR7(it,ZU[C0]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and((SR7(it,ZU[DS4]))and(SO7(1200.,b5,Condition(function k6))>0))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and((SR7(it,ZU[Q1]))and(GetUnitLifePercent(it)<35.))then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SR7(it,ZU[D1])or SR7(it,ZU[E1]))and(GetItemCharges(bj_lastCreatedItem)>0)and(GetUnitLifePercent(it)<35.))then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SR7(it,ZU[D74]))and(Bz>hq[96+GetPlayerId(pl)]))then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SR7(it,ZU[U3])))then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SR7(it,ZU[R3])))then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SR7(it,ZU[FC])))then
set m5=SN7(600.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if(not J4)and((SR7(it,ZU[DP4]))and(Bz>TC4[176+GetPlayerId(pl)]))then
set m5=SN7(500.,b5,Condition(function Kn))
set J4=(m5!=null)and(UnitUseItem(it,bj_lastCreatedItem))
endif
if(not J4)and((SR7(it,ZU[T1]))and(not UP7(GetHandleId(it),"Mekansm"))and(Bz>hq[80+GetPlayerId(pl)])and(SO7(800.,b5,Condition(function k6))>0))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
if(not J4)and((SR7(it,ZU[DY4]))and(GetItemCharges(bj_lastCreatedItem)>0)and(Bz>TC4[224+GetPlayerId(pl)])and(GetUnitLifePercent(it)<70.))then
set J4=(UnitUseItemTarget(it,bj_lastCreatedItem,it))
endif
if(not J4)and(SR7(it,ZU[DK4])and(UU7(it,"ArmletOfMordigan|Active")==true)and(GetUnitLifePercent(it)<50.))then
set J4=(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and(SB7(it))and(Bz>TC4[192+O5]))then
if(GetUnitState(it,UNIT_STATE_LIFE)<150)or((GetItemCharges(bj_lastCreatedItem)>=8)and(SO7(1000.,S07(it),Condition(function k6))>0)and(GetUnitLifePercent(it)<50 or GetUnitManaPercent(it)<20)and(RE7(it,h9[16+O5])>600))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
endif
if(not J4)and(SR7(it,ZU[DR4])and(Bz>TC4[240+GetPlayerId(pl)])and(DV9(m5)==false)and(A27(m5)==false))then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,m5)
endif
if((not J4)and(is(it))and(GetUnitAbilityLevel(it,1110454874)==0)and(GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitAbilityLevel(it,1110455864)==0)and(GetUnitAbilityLevel(it,1110454347)==0)and(RE7(it,TG7(it))>6000.)and(SO7(1400.,b5,Condition(function KX))==0))then
if(IsUnitAlly(it,Z7[0]))then
set J4=V37(it,IZ4)
else
set J4=V37(it,JA4)
endif
endif
endif
set it=null
set pl=null
set b5=null
set m5=null
return J4
endfunction
function TGF takes nothing returns nothing
local unit it=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer i=1
if((IsUnitType(it,UNIT_TYPE_HERO))and(not IsUnitIllusion(it)))then
if((GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(it)>.405)and(IsUnitType(it,UNIT_TYPE_DEAD)==false))then
call ExecuteFunc("THF")
elseif IG4[O5]then
set h4[O5]=null
if((TimerGetRemaining(U[O5])>20.)and(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>5000)and(TimerGetElapsed(U[O5])>4.))then
loop
exitwhen NM4[i]==GetEnumUnit()or i>NP4
set i=i+1
endloop
if NM4[i]!=null and GetUnitAbilityLevel(KU4[O5],1093808213)==0 then
call IssueImmediateOrderById(KU4[O5],W9[O5])
endif
endif
endif
elseif((WD7(it))and(GetUnitTypeId(it)!=1852010352)and(S87(it)))then
set bj_lastLoadedUnit=GetEnumUnit()
call ExecuteFunc("TIF")
endif
set it=null
endfunction
function TJF takes nothing returns boolean
local unit PF7=GetEnteringUnit()
local integer i=GetUnitTypeId(PF7)
if(i==1966092359 or i==1966092361)and IsPlayerInForce(GetOwningPlayer(GetEnteringUnit()),QX4)then
call RemoveGuardPosition(PF7)
call GroupAddUnit(UG7(GetHandleId(GetOwningPlayer(GetEnteringUnit())),PZ7(i==1966092359,"ExorG","NAttG")),PF7)
call IssueImmediateOrderById(PF7,852557)
endif
if not(Z17(GetOwningPlayer(GetEnteringUnit())))then
set PF7=null
return false
endif
set bj_lastLoadedUnit=PF7
if(i==1966092594 or i==1966092595)then
call ExecuteFunc("TKF")
elseif(i==1865429059)or(i==1865429319)or(i==1865429320)or(i==1865429321)then
call IssueTargetOrderById(PF7,851986,M7[GetPlayerId(GetOwningPlayer(PF7))])
elseif(i==1747993683)then
call TU7(GetHandleId(M7[GetPlayerId(GetOwningPlayer(PF7))]),"AI|ShredChakram",PF7)
elseif(WD7(PF7)and IsUnitType(PF7,UNIT_TYPE_HERO)==false)then
call IssueTargetOrderById(PF7,851986,M7[GetPlayerId(GetOwningPlayer(PF7))])
set DT7=false
call ExecuteFunc("TIF")
endif
set PF7=null
return false
endfunction
function TMF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer B17=GetHandleId(t)
local integer O5=UN7(B17,"OwnerPID")
local unit m5=M7[O5]
local unit TNF=null
local string TOF=I2S(UN7(B17,"famID"))
local integer KOF
local unit it=U87(B17,"unitFamiliar")
local boolean J4=false
local group g=null
local unit u=null
if(GetTriggerEventId()==EVENT_UNIT_DEATH)then
call UY7(M7[O5],"AIFamiliar"+TOF+"|Status")
call UW7(M7[O5],"AIFamiliar"+TOF+"|Stone")
call FlushChildHashtable(L7,B17)
call UA7(t)
call DestroyTrigger(t)
else
set KOF=GetUnitTypeId(it)
if TOF=="1" then
if(KOF==1966092596 or KOF==1966092597 or KOF==1966092598)then
call UY7(m5,"AIFamiliar"+TOF+"|Stone")
else
call UW7(m5,"AIFamiliar"+TOF+"|Stone")
call UY7(m5,"AIFamiliar|CastStone")
endif
elseif TOF=="2" then
if(KOF==1966092612 or KOF==1966092613 or KOF==1966092614)then
call UY7(m5,"AIFamiliar"+TOF+"|Stone")
else
call UW7(m5,"AIFamiliar"+TOF+"|Stone")
call UY7(m5,"AIFamiliar|CastStone")
endif
elseif TOF=="3" then
if(KOF==1966092626 or KOF==1966092627 or KOF==1966092628)then
call UY7(m5,"AIFamiliar"+TOF+"|Stone")
else
call UW7(m5,"AIFamiliar"+TOF+"|Stone")
call UY7(m5,"AIFamiliar|CastStone")
endif
endif
if(GetUnitState(it,UNIT_STATE_LIFE)<0.55*(200+(GetUnitAbilityLevel(m5,1093750341)*100)))then
set J4=IssueImmediateOrderById(it,852138)or IssueImmediateOrderById(it,852155)or IssueImmediateOrderById(it,852656)or IssueImmediateOrderById(it,852139)or IssueImmediateOrderById(it,852156)or IssueImmediateOrderById(it,852657)
if not J4 then
set J4=S57(it,851986,h9[O5])
endif
elseif((RE7(it,TG7(m5))<1000.)and(GetUnitLifePercent(it)<98.))then
set J4=(S57(it,851986,TG7(m5)))
elseif(not S87(m5))then
set J4=S57(it,851986,TG7(m5))
elseif(not IsUnitInRange(it,m5,1200.))then
set J4=IssueTargetOrderById(it,851986,m5)
endif
if not J4 then
set m5=null
if GetUnitState(h4[O5],UNIT_STATE_LIFE)>0 then
set m5=h4[O5]
endif
if m5==null then
set g=CreateGroup()
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(M7[O5]),700,Condition(function W07))
if(not Q67(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen(IsUnitEnemy(u,GetOwningPlayer(it))and(IsUnitVisible(u,GetOwningPlayer(it)))or u==null)
endloop
set m5=u
set u=null
endif
call DestroyGroup(g)
endif
set g=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(M7[O5]),700,Condition(function YE7))
if(not Q67(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen(IsUnitEnemy(u,GetOwningPlayer(it))or u==null)
endloop
set TNF=u
set u=null
endif
call DestroyGroup(g)
if TNF!=null and m5!=null then
if RE7(it,TNF)<RE7(it,m5)and m5!=h4[O5]then
set m5=null
endif
endif
if m5!=null then
if(IsUnitInRange(it,m5,250.)and DW9(m5)==false and IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE)==false and UU7(M7[O5],"AIFamiliar|CastStone")==false)then
set J4=IssueImmediateOrderById(it,852138)or IssueImmediateOrderById(it,852155)or IssueImmediateOrderById(it,852656)or IssueImmediateOrderById(it,852139)or IssueImmediateOrderById(it,852156)or IssueImmediateOrderById(it,852657)
if J4 then
call UW7(M7[O5],"AIFamiliar|CastStone")
endif
else
set J4=IssueTargetOrderById(it,851983,m5)
endif
endif
if TNF!=null and J4==false then
if GetUnitCurrentOrder(M7[O5])==851986 then
set J4=IssueTargetOrderById(it,851986,M7[O5])
else
set J4=IssueTargetOrderById(it,851983,TNF)
endif
endif
endif
if(not J4)then
if(eY[O5]==10)then
set J4=S57(it,851983,M7[O5])
else
set J4=IssueTargetOrderById(it,851986,M7[O5])
endif
endif
endif
set t=null
set m5=null
set TNF=null
set it=null
set g=null
return false
endfunction
function TPF takes integer Q17,unit TQF returns nothing
local trigger t=null
local integer C77=0
local string TOF
local integer i1=GetUnitTypeId(TQF)
if(not((GetPlayerController(GetOwningPlayer(TQF))==MAP_CONTROL_COMPUTER)and(S87(TQF))))then
return
endif
if((i1==1966092596 or i1==1966092597 or i1==1966092598))then
set TOF="1"
elseif((i1==1966092612 or i1==1966092613 or i1==1966092614))then
set TOF="2"
elseif((i1==1966092626 or i1==1966092627 or i1==1966092628))then
set TOF="3"
else
return
endif
set t=CreateTrigger()
set C77=GetHandleId(t)
call TriggerRegisterUnitEvent(t,TQF,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,TQF,EVENT_UNIT_SPELL_FINISH)
call TriggerRegisterTimerEvent(t,1.4,true)
call TriggerRegisterTimerEvent(t,0.1,false)
call TriggerAddCondition(t,Condition(function TMF))
call UW7(M7[Q17],"AIFamiliar"+TOF+"|Status")
call TU7(C77,"unitFamiliar",TQF)
call TQ7(C77,"OwnerPID",Q17)
call TQ7(C77,"famID",S2I(TOF))
set t=null
endfunction
function TRF takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer B17=GetHandleId(t)
local unit C47=U87(B17,"NinjaScarab")
local unit B_7=U87(B17,"NinjaSummoner")
local unit TSF=GetTriggerUnit()
if((IsUnitType(TSF,UNIT_TYPE_HERO))and(IsUnitEnemy(TSF,GetOwningPlayer(B_7))==true)and(IsUnitVisible(TSF,GetOwningPlayer(B_7))==true)and(not IsUnitIllusion(TSF)))then
call IssueImmediateOrderById(C47,852127)
call UA7(t)
call DestroyTrigger(t)
endif
set t=null
set C47=null
set B_7=null
set TSF=null
endfunction
function TTF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer B17=GetHandleId(t)
local unit B_7=U87(B17,"NAScarabOwner")
local unit C47=U87(B17,"NAScarabUnit")
local unit TUF=null
local unit OA7=null
local unit u=null
local group g=CreateGroup()
if((GetTriggerEventId()==EVENT_UNIT_DEATH)or(GetUnitState(B_7,UNIT_STATE_LIFE)<=0))then
if((GetUnitState(C47,UNIT_STATE_LIFE)>0))then
call S57(C47,851986,TG7(B_7))
else
call FlushChildHashtable(L7,B17)
call UA7(t)
call DestroyTrigger(t)
endif
else
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(C47),700,Condition(function W27))
if(not Q67(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen IsUnitEnemy(u,GetOwningPlayer(B_7))
endloop
set OA7=u
set u=null
endif
call DestroyGroup(g)
if(OA7!=null)then
set g=CreateGroup()
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(C47),150,Condition(function W_7))
if(not Q67(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen(GetUnitTypeId(u)==1966092594 or GetUnitTypeId(u)==1966092595)
endloop
set TUF=u
set u=null
endif
call DestroyGroup(g)
if(TUF==null)then
set g=CreateGroup()
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(B_7),500,Condition(function W_7))
if(not Q67(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen(GetUnitTypeId(u)==1966092594 or GetUnitTypeId(u)==1966092595)
endloop
set TUF=u
endif
endif
endif
if(OA7!=null and TUF!=null and GetUnitState(OA7,UNIT_STATE_LIFE)>0 and IsUnitVisible(OA7,GetOwningPlayer(B_7))==true)then
call IssueTargetOrderById(TUF,851986,OA7)
call R47(3)
if((GetUnitState(C47,UNIT_STATE_LIFE)>0)and(GetUnitCurrentOrder(C47)!=851986))then
call IssueTargetOrderById(C47,851986,B_7)
endif
else
call IssueTargetOrderById(C47,851986,B_7)
endif
endif
call DestroyGroup(g)
set t=null
set TUF=null
set B_7=null
set C47=null
set OA7=null
set u=null
set g=null
return false
endfunction
function TKF takes nothing returns nothing
local trigger t=CreateTrigger()
local unit C47=bj_lastLoadedUnit
local unit B_7=M7[GetPlayerId(GetOwningPlayer(C47))]
local unit OA7=null
local unit u=null
local group g=CreateGroup()
local boolexpr b=Condition(function W27)
local boolean TVF=false
call GroupClear(g)
call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(C47),700,Condition(function W27))
if(not Q67(g))then
loop
set u=FirstOfGroup(g)
call GroupRemoveUnit(g,u)
exitwhen IsUnitEnemy(u,GetOwningPlayer(B_7))
endloop
set OA7=u
endif
call DestroyGroup(g)
if(OA7!=null and GetUnitState(OA7,UNIT_STATE_LIFE)>0 and IsUnitVisible(OA7,GetOwningPlayer(B_7))==true)then
if(RE7(C47,OA7)>250.)then
set TVF=true
call IssueTargetOrderById(C47,851986,B_7)
else
call IssueImmediateOrderById(C47,852127)
call UA7(t)
call DestroyTrigger(t)
endif
else
set TVF=true
call IssueTargetOrderById(C47,851986,B_7)
endif
if(TVF==true)then
call TU7(GetHandleId(t),"NAScarabOwner",B_7)
call TU7(GetHandleId(t),"NAScarabUnit",C47)
call TriggerRegisterUnitEvent(t,C47,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,2.1,true)
call TriggerAddCondition(t,Condition(function TTF))
set t=CreateTrigger()
call TU7(GetHandleId(t),"NinjaSummoner",B_7)
call TU7(GetHandleId(t),"NinjaScarab",C47)
call TriggerRegisterUnitInRange(t,C47,70,b)
call TriggerAddAction(t,function TRF)
endif
call DestroyBoolExpr(b)
set t=null
set g=null
set u=null
set C47=null
set B_7=null
set OA7=null
endfunction
function TWF takes unit CO7,integer n5,integer F59 returns item
local real x=F69(CO7)
local real y=F19(CO7)
local item W38=CreateItem(n5,x,y)
local integer i=0
local boolean array F29
local item Z4
local boolean SA7=false
set K27=IR4
call SetItemPlayer(W38,IR4,false)
call SetItemUserData(W38,1)
if n5>0 then
loop
exitwhen i>(UnitInventorySize(CO7)-1)
if UnitItemInSlot(CO7,i)==null and i!=F59 then
set Z4=CreateItem(1227895373,x,y)
call UnitAddItem(CO7,Z4)
set F29[i]=true
else
set F29[i]=false
endif
if i==F59 then
set SA7=UnitAddItem(CO7,W38)
endif
set i=i+1
endloop
set i=0
loop
exitwhen i>5
if F29[i]==true then
call RemoveItem(UnitItemInSlot(CO7,i))
endif
set i=i+1
endloop
endif
if(not SA7)then
call RemoveItem(W38)
set W38=null
endif
set HA4=W38
set W38=null
set Z4=null
return HA4
endfunction
function TXF takes integer O5,unit it returns nothing
local integer i
local integer j
if(K17[384+O5]!=0)and(Bz>K17[160+O5])and(Bz>K17[176+O5])then
if GetUnitLifePercent(it)<30 then
set i=2
elseif GetUnitState(it,UNIT_STATE_MANA)<120 then
set i=3
if K17[400+O5]!=3 then
set K17[416+O5]=R2I(140./GetUnitState(it,UNIT_STATE_MAX_MANA)*100)
endif
elseif K17[400+O5]==3 and GetUnitManaPercent(it)<I2R(K17[416+O5])then
set i=3
else
set i=K17[384+O5]
endif
if K17[400+O5]!=i then
set K17[400+O5]=i
set i=0
set j=0
loop
set EQ7=UnitItemInSlot(it,j)
set ER7=GetItemTypeId(EQ7)
if ER7==ZU[G6]then
set i=1
elseif ER7==ZU[H6]then
set i=2
elseif ER7==ZU[N6]then
set i=3
endif
if i!=0 then
call DisableTrigger(H94)
call RemoveItem(EQ7)
set IR4=Player(O5)
set EQ7=TWF(it,ZU[G6+K17[400+O5]-1],j)
call EnableTrigger(H94)
exitwhen true
endif
set j=j+1
exitwhen j>=bj_MAX_INVENTORY
endloop
set EQ7=null
endif
endif
endfunction
function TYF takes nothing returns boolean
local integer TZF=SP7(600,GetEnumUnit(),Condition(function YM7))
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(S87(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))and((GetUnitLifePercent(GetFilterUnit())<30.+7*SP7(600,GetEnumUnit(),Condition(function YM7))+7*(SP7(350,GetFilterUnit(),Condition(function k6)))+3*(SP7(350,GetFilterUnit(),Condition(function X47))))or TZF>=3 or 0.73*GetWidgetLife(GetFilterUnit())<=350+TZF*70)
endfunction
function THF takes nothing returns nothing
local region TAF=null
local unit it=GetEnumUnit()
local unit m5=null
local integer i1=GetUnitTypeId(it)
local player pl=GetOwningPlayer(it)
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local location b5
local location TBF=null
local location TCF=null
local boolean J4=false
local item T3F=null
local boolean T6F=false
local integer TLF
local unit T1F=null
local unit X07=null
local integer T0F=GetHandleId(it)
local integer T5F
local real T2F
local integer T_F
local boolean U4F=false
local real U7F
call TriggerSleepAction(0.1)
if G0[288+O5]then
set G0[288+O5]=false
set i1=eY[400+O5]
set G0[304+O5]=true
endif
set G0[64+O5]=false
if(i1!=1211117642)then
set b5=HC[16+O5]
else
if(UJ7(GetHandleId(it),"MCSLoc")!=null)then
set b5=UJ7(GetHandleId(it),"MCSLoc")
else
set b5=GetUnitLoc(it)
call T17(GetHandleId(it),"MCSLoc",b5)
endif
endif
call MoveLocation(b5,GetUnitX(it),GetUnitY(it))
if not G0[304+O5]then
if(i1!=1211117642)and(S87(it))then
call TXF(O5,it)
endif
if(h4[O5]!=null)and((not S87(h4[O5]))or(not IsHeroUnitId(GetUnitTypeId(h4[O5])))or((IsUnitIllusion(h4[O5]))and((SO7(800.,b5,Condition(function K7))>0)or(lA(h4[O5],IsUnitAlly(it,Z7[0])))))or(IsUnitAlly(h4[O5],pl)))then
call CZE(O5,true)
if(R57(it))then
call J3(it,true)
endif
endif
if(i1==1429221451)and(GetUnitCurrentOrder(it)==852503)and(SP7(GetUnitAbilityLevel(it,1093683248)*50+100,it,Condition(function X47))<=2)then
set G0[272+O5]=true
call IssueImmediateOrderById(it,851972)
call J3(it,false)
set G0[272+O5]=false
endif
if((G0[O5])or(not R57(it))or(GetUnitAbilityLevel(it,1110459478)>0))then
set J4=true
if(GetUnitAbilityLevel(it,1110459478)>0)then
set G0[64+O5]=true
endif
elseif(((SE7(it))and(not Id(O5)))or((G0[32+O5])and(h4[O5]==null)))then
if(h4[O5]!=null)then
call MQF(it,h4[O5])
endif
if(eY[O5]!=2)then
if(i1==1211117642)then
set J4=(SE7(it))and(is(it))and(not Id(O5))and(S57(it,851986,h9[O5]))
elseif(not G0[32+O5])then
call VX7(it,false)
elseif(Jw(it))then
if(SE7(it))then
set J4=TEF()
endif
if(not J4)then
call JIF(it)
endif
endif
endif
set J4=true
elseif(h4[O5]==null)then
if((GetHeroLevel(it)>3)and(GetUnitLifePercent(it)>70.)and(G0[128+O5]))then
if((SO7(800.,b5,Condition(function K7))>0)or(lA(h4[O5],IsUnitAlly(it,Z7[0]))))then
set m5=SN7(1100.,b5,Condition(function KK))
else
set m5=SN7(1100.,b5,Condition(function Kl))
endif
if(m5!=null)then
if(iy(it))then
set h4[160+O5]=m5
endif
if((KY(750.,S07(m5))<=2)and(not W97(m5))and((S97(m5,it))or(SP7(400.,m5,Condition(function Y87))==0)))then
call CWE(O5,m5,false,false)
endif
endif
endif
else
set m5=K3(600.,it,Condition(function k6))
if(m5!=h4[O5]and m5!=null)then
if(GetUnitLifePercent(m5)>50.)then
if((GetUnitState(m5,UNIT_STATE_LIFE)+(20.*GetHeroLevel(m5)))<GetUnitState(h4[O5],UNIT_STATE_LIFE))then
call CWE(O5,m5,false,false)
endif
elseif(GetUnitState(m5,UNIT_STATE_LIFE)<GetUnitState(h4[O5],UNIT_STATE_LIFE))then
call CWE(O5,m5,false,false)
endif
endif
if((GetUnitTypeId(h4[O5])==1211117641)and(GetUnitLifePercent(h4[O5])>50.))then
set m5=SN7(700.,b5,Condition(function KL))
if(m5!=null)then
call CWE(O5,m5,false,false)
endif
endif
if((GetHeroLevel(it)<6)and(not SF7(O5)))then
if((not IsUnitInRange(it,h4[O5],750.))or((GetUnitLifePercent(it)-20.)<GetUnitLifePercent(h4[O5])and G0[144+O5]==false)or((not IsUnitVisible(h4[O5],pl))and(kD(h4[O5]))))then
call CZE(O5,false)
call J3(it,true)
endif
elseif(((not IsUnitInRange(it,h4[O5],1500.)or((GetUnitLifePercent(it)+20.)<GetUnitLifePercent(h4[O5])and G0[144+O5]==false))and(not SF7(O5)))or(W97(h4[O5])))then
call CZE(O5,true)
call J3(it,true)
elseif((not IsUnitVisible(h4[O5],pl))and(((IsVisibleToPlayer(GetUnitX(h4[O5]),GetUnitY(h4[O5]),pl))and(not IsUnitHidden(h4[O5])))or((eY[32+GetPlayerId(GetOwningPlayer(h4[O5]))]<2)and(kD(h4[O5])))))then
if(not SE7(h4[O5]))then
if((GetUnitTypeId(h4[O5])==1212365106)and(SR7(it,ZU[WC]))and(GetItemCharges(bj_lastCreatedItem)>1))then
set J4=((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))and(UnitUseItemPoint(it,SV7(it,ZU[WC]),GetUnitX(h4[O5]),GetUnitY(h4[O5])))
elseif((GetUnitTypeId(h4[O5])==1211119409)and(SR7(it,ZU[WC]))and(GetItemCharges(bj_lastCreatedItem)>1))then
set J4=((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))and(UnitUseItemPoint(it,SV7(it,ZU[WC]),GetUnitX(h4[O5]),GetUnitY(h4[O5])))
else
set h4[O5]=null
call J3(it,true)
endif
elseif(i1==1311781185)then
set J4=IssueImmediateOrderById(it,852600)
elseif(SR7(it,ZU[T5]))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
elseif(SR7(it,ZU[CC]))then
set J4=(RE7(it,h4[O5])<=600)and(UnitUseItem(it,bj_lastCreatedItem))
elseif(SR7(it,ZU[WC]))then
set J4=((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))and(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(h4[O5]),GetUnitY(h4[O5])))
else
if(not UP7(R44,VY7(it)+"|W"))then
call TT7(R44,VY7(it)+"|W",true)
endif
call CZE(O5,true)
call J3(it,true)
endif
endif
endif
endif
if h4[O5]==null then
set hq[624+O5]=0
endif
set m5=h4[O5]
if((iy(it))and(m5!=null))then
set h4[160+O5]=m5
endif
set GZ[128+O5]=(m5!=null)and((GetHeroLevel(it)>5)or(S97(m5,it)))
if((not J4)and(SR7(it,ZU[E24])))and(h4[O5]!=null)then
call UnitUseItemTarget(it,bj_lastCreatedItem,m5)
endif
if((not J4)and(SR7(it,ZU[N3])))and(h4[O5]!=null)then
call DisableTrigger(Q04[O5])
call UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(m5),GetUnitY(m5))
call EnableTrigger(Q04[O5])
endif
if(J4)then
elseif(i1==1160785970)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SK7(700.,b5,Condition(function k6))
endif
set J4=(m5!=null)and((GetHeroLevel(it)>3)or(S97(m5,it)))and(IsUnitInRange(it,m5,650.))and(GetUnitManaPercent(it)>25.)and(Bz>TC4[16+O5])and(TD7(it,852526,1093748023))
if((not J4)and(G0[256+O5])and(GetHeroLevel(it)>3))then
set G=E57
set X07=SK7(700,b5,And(Condition(function k6),Condition(function YR7)))
if X07==null then
set G=E27
set X07=SK7(700,b5,And(Condition(function k6),Condition(function YR7)))
endif
set X07=PS7(X07==null,SK7(700,b5,Condition(function k6)),X07)
set m5=PS7(X07!=null and(m5==null or PK7(m5,30,450,NT7)or PK7(it,30,400,NS7)),X07,m5)
set J4=(m5!=null)and(IsUnitInRange(it,m5,PC7((GetUnitMoveSpeed(it)-GetUnitMoveSpeed(m5))>=-20,550+(GetUnitMoveSpeed(it)-GetUnitMoveSpeed(m5)),250)))and(IssueTargetOrderById(it,852662,m5))
endif
if((not J4)and(G0[128+O5])and(GetHeroLevel(it)>5))then
set m5=SK7(450.,b5,Condition(function k6))
set J4=(m5!=null)and(Bz>TC4[O5])and(((GetUnitAbilityLevel(it,1093747023)>0)and(TD7(it,852229,1093747023)))or((GetUnitAbilityLevel(it,1093752150)>0)and(TD7(it,852229,1093752150))))
endif
elseif(i1==1160786506)then
if(GetHeroLevel(it)>3)then
set m5=SN7(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(Bz>TC4[16+O5])and(IsUnitInRange(it,m5,795.))and(((GetUnitAbilityLevel(it,1093751894)<4)and(GetUnitManaPercent(it)>50.))or(GetUnitLifePercent(m5)<40.)or(h4[O5]!=null))and(S27(it,852095,1093751894,m5))
if(not J4)and(m5!=null)and(Bz>TC4[48+O5])and((GetUnitLifePercent(m5)<30.)or((h4[O5]!=null)and((GetUnitLifePercent(m5)<70.)or(eY[320+O5]>0))))then
if(DA8(it,m5))or(not IsUnitInRange(m5,it,800))then
call C07(it,m5,1.2,900)
else
call MoveLocation(GM7,GetUnitX(m5),GetUnitY(m5))
endif
set J4=(Q_7(O5)and(J8(O5,IssuePointOrderByIdLoc(it,852089,GM7))))
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and(DA8(it,m5))and(not IsUnitInRangeLoc(m5,QDF(m5),600))then
set J4=S27(it,852119,1093751639,m5)
endif
if(not J4)and(h4[O5]!=null)and(DX9(m5)or GetUnitLifePercent(it)<80 or GZ[208+O5])then
set J4=(m5!=null)and(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))
endif
if(not J4)and(Bz>TC4[32+O5])then
set m5=SN7(1200.,b5,Condition(function QEF))
set J4=(m5!=null)and(S27(it,852119,1093751639,m5))
endif
elseif(i1==1160786502)then
if((m5==null)and(G0[128+O5]))then
set m5=Z47(900.,it,Condition(function k6))
endif
if((G0[128+O5])and(U87(GetHandleId(it),"Bird4")!=null)and(LO7(U87(GetHandleId(it),"Bird4"))==false))then
if m5==null then
set m5=SN7(900.,b5,Condition(function X47))
endif
set TBF=CL7(it,m5,900,0.01,1000)
if TBF!=null then
set J4=IssuePointOrderByIdLoc(it,852185,TBF)
else
set J4=IssuePointOrderById(it,852185,GetUnitX(m5)+GetRandomReal(-75,75)*GetRandomReal(0,1),GetUnitY(m5)+GetRandomReal(-75,75)*GetRandomReal(0,1))
endif
endif
if(not J4 and(Bz>TC4[16+O5]))then
set UI4[O5]=true
set J4=(m5!=null)and((GetUnitLifePercent(m5)>70.)or((GetUnitLifePercent(m5)<30. and SP7(900.,it,Condition(function Y17))>=1))or(GZ[208+O5]))and(IssuePointOrderByIdLoc(it,852600,GetUnitLoc(m5)))
endif
if(not J4)then
set J4=((GetUnitLifePercent(it)>30.)and(GetUnitState(it,UNIT_STATE_MANA)>300. and GetUnitManaPercent(it)>40))and(SP7(900.,it,Condition(function Y17))>=1)or(SP7(500.,it,Condition(function X47))>3)and IssueImmediateOrderById(it,852490)or((m5!=null)and(GetRandomInt(1,3)==1)and((GetUnitLevel(it)>5)or(GetUnitLifePercent(m5)<30.))and(IssuePointOrderByIdLoc(it,852600,GetUnitLoc(m5))))
endif
if((not J4)and(Bz>hq[O5])and(SP7(600.,it,Condition(function Y17))>=2))and(SP7(550.,it,Condition(function YM7))>=2 or GetUnitLifePercent(it)<25.)then
set J4=IssueImmediateOrderById(it,852662)
endif
set UI4[O5]=false
set IN4=it
if(not J4)then
set G=E57
set X07=Z47(900,it,And(Condition(function YP7),Condition(function YR7)))
set G=E_7
set X07=PS7(X07==null,Z47(900,it,And(Condition(function YP7),Condition(function YR7))),X07)
set m5=PS7(X07!=null,X07,PS7(m5!=null,m5,Z47(1100,it,And(Condition(function k6),Condition(function W17)))))
if(m5!=null)and(GetUnitLifePercent(it)>40)and(G0[256+O5])and(not IsUnitInRange(it,m5,300))and(IsUnitInRange(it,m5,1300))then
set h4[O5]=m5
set J4=IssueTargetOrderById(it,852218,m5)
endif
endif
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
if(GetUnitAbilityLevel(it,1112436083)>0)then
if((GetUnitState(it,UNIT_STATE_MANA)<100.)and(not SE7(it)))then
call IssueImmediateOrderById(it,852590)
call SetPlayerAbilityAvailable(pl,1093684560,false)
endif
elseif((GetHeroLevel(it)>3)and((GetUnitState(it,UNIT_STATE_MANA)>250.)or(SE7(it))))then
call SetPlayerAbilityAvailable(pl,1093684560,true)
call IssueImmediateOrderById(it,852589)
endif
if((h4[16+O5]!=null)and(G0[128+O5]))then
if(GetUnitAbilityLevel(h4[16+O5],1114665575)==0)then
set J4=IssueTargetOrderById(it,851983,h4[16+O5])
else
set h4[16+O5]=null
endif
endif
call SetPlayerAbilityAvailable(pl,1093682994,(GetUnitManaPercent(it)>75.)and(GetHeroLevel(it)>8))
if((not J4)and(m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=K3(800.,it,Condition(function k6))
endif
set J4=(m5!=null)and(((GetUnitLifePercent(m5)<60.)and(not IsUnitIllusion(m5))and(GetUnitAbilityLevel(m5,1114665575)==0)and(TD7(it,OrderId("charm"),1093747028)))or(((GetUnitManaPercent(it)>70.)or(GetUnitLifePercent(m5)<60.))and(S27(it,852119,1093682994,m5))))
elseif(i1==1429221443)then
if((m5==null)and(G0[128+O5]))then
set m5=SN7(600.,b5,Condition(function k6))
endif
if((GetHeroLevel(it)>6)and(m5!=null)and(GetUnitLifePercent(it)>50.))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093744948,false)
if(SR7(it,ZU[DM4])and(UU7(it,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(it)>90.)and(IsUnitInRange(it,m5,110.)))then
set J4=(m5!=null)and(UnitUseItem(it,SV7(it,ZU[DM4])))
elseif(SR7(it,ZU[DK4])and(UU7(it,"ArmletOfMordigan|Active")==true)and((not IsUnitInRange(it,m5,150.))or(GetUnitLifePercent(it)<60.)))then
set J4=(UnitUseItem(it,SV7(it,ZU[DK4])))
else
set J4=(Bz>hq[240+O5])and((hq[416+O5]>Bz)or(GetUnitLifePercent(m5)<60.))and((TD7(it,852273,1093686322))or(SC7(it,ZU[D0])))
endif
if((not J4)and((GetUnitLifePercent(m5)<50.)))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093744948,true)
set GZ[O5]=true
set J4=(IssueTargetOrderById(it,852119,m5))
set GZ[O5]=false
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093744948,false)
endif
endif
elseif(i1==1162032951)then
if((GetHeroLevel(it)>20)and(SO7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>70.))then
call SetPlayerAbilityAvailable(pl,1093678404,true)
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=(UP>200)and(UP<(400*GetUnitAbilityLevel(it,1093679152))or UP<(460*GetUnitAbilityLevel(it,1093752154)))and(T47(it,852527,1093679152,1093752154,m5))
endif
if((not J4)and(SR7(it,ZU[C0]))and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>50.)and(G0[128+O5]))then
if((m5==null)and(GetUnitLifePercent(it)>70.))then
set m5=SK7(1500.,b5,Condition(function KK))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(not SR7(m5,ZU[EW]))and(GetUnitTypeId(m5)!=1212365106)and(not IsUnitInRange(it,m5,800.))and(IsUnitInRange(it,m5,1500.)))then
if((SP7(600.,m5,Condition(function YT7))>0)or((GetUnitLifePercent(m5)<75.)and(SP7(800.,m5,Condition(function Y87))==0)))then
set GZ[272+O5]=true
set J4=UnitUseItem(it,SV7(it,ZU[C0]))
set GZ[272+O5]=J4
endif
endif
endif
elseif(i1==1162032181)then
set T_F=GetHeroLevel(it)
set T5F=PW7(GetUnitAbilityLevel(it,1093683761)!=0,1093683761,1093747767)
if((GetHeroLevel(it)>5)and(Bz>hq[O5]))then
if((m5==null)and(G0[128+O5]))then
set m5=SK7(1000.,b5,Condition(function k6))
endif
set T2F=SO7(700.,b5,Condition(function YK7))
if((m5!=null)and(not IsUnitIllusion(m5))and((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(RNF(it))+T2F*100+PC7(T_F-GetHeroLevel(m5)>3 or T_F>=13.,100,PC7(T_F>=17,300,175)))or(PT4))and(GetUnitState(m5,UNIT_STATE_LIFE)>300.))then
set GZ[O5]=true
set J4=J8(O5,(IsUnitInRange(it,m5,512.5))and(S27(it,852652,T5F,m5)))
if J4 then
call PL7(NI7[NK7+O5],(m5))
elseif(IsUnitInRange(it,m5,700.))and(R2I(GetUnitState(it,UNIT_STATE_MANA))>270+(25*GetUnitAbilityLevel(it,T5F)))then
set TCF=kL(it,m5,200.)
set J4=(TCF!=null)and(SO7(800.,TCF,Condition(function Y17))<=2)and(IssuePointOrderByIdLoc(it,852218,TCF))
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(m5!=null)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(Kz(700.,b5)>=1)and(T2F>0))then
set GZ[O5]=true
set J4=J8(O5,S27(it,852652,T5F,m5))
if J4 then
call PL7(NI7[NK7+O5],(m5))
endif
endif
endif
if((not J4)and(m5!=null)and(S97(m5,it))and(not IC(O5))and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,I2R(350+(200*GetUnitAbilityLevel(it,1093684299))))))then
set TCF=kL(it,m5,200.)
set J4=(TCF!=null)and(SO7(800.,TCF,Condition(function Y17))<=2)and(IssuePointOrderByIdLoc(it,852218,TCF))
endif
elseif(i1==1160785972)then
call SetPlayerAbilityAvailable(pl,1093678161,(GetUnitLifePercent(it)<70.)and(R2I(GetUnitState(it,UNIT_STATE_MANA))>(120+(80*GetUnitAbilityLevel(it,1093677621)))))
call SetPlayerAbilityAvailable(pl,1093677872,(GetHeroLevel(it)>10.)and(iy(it))and(SO7(800.,b5,Condition(function k8))>0)and(GetUnitState(it,UNIT_STATE_MANA)>225.))
if((m5==null)and(G0[128+O5]))then
set m5=SK7(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and((not IsUnitInRange(it,m5,550.))and(S27(it,852173,1095263841,m5)))
if((GetHeroLevel(it)>8)and(G0[128+O5])and(GetUnitAbilityLevel(it,1110456118)==0))then
if((m5==null)and(GetUnitLifePercent(it)>70.))then
if((eY[O5]==9)and(h4[144+O5]!=null)and(S87(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))then
set m5=h4[144+O5]
else
set m5=SK7(1500.,b5,Condition(function KK))
endif
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(not kD(m5))and(GetUnitTypeId(m5)!=1212365106)and(not IsUnitInRange(it,m5,800.))and(IsUnitInRange(it,m5,1500.))and((GetUnitLifePercent(m5)<70.)or(SP7(650.,m5,Condition(function YT7))>0)))then
set h4[288+O5]=m5
set J4=(SP7(800.,m5,Condition(function Y87))==0)and(IssueImmediateOrderById(it,852129))
endif
endif
elseif(i1==1429221424)then
if(GetUnitAbilityLevel(it,1110454347)==0)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SK7(800.,b5,Condition(function k6))
endif
else
set J4=true
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>3))then
if((not J4)and(GetUnitLifePercent(m5)<70.))then
set GZ[O5]=true
set J4=J8(O5,(S27(it,852555,1093687351,m5)))
endif
if(not J4)then
set IN4=m5
if not(GetWidgetLife(m5)<0.75*RMinBJ(5.*GetHeroInt(m5,true),GetUnitState(m5,UNIT_STATE_MANA)))then
set IN4=ZO7(it)
endif
if(IN4!=null)then
set GZ[O5]=true
set J4=J8(O5,(S27(it,852248,1093748789,m5)))
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(it)>70.)and(G0[128+O5]))then
if(m5==null)then
if((eY[O5]==9)and(h4[144+O5]!=null)and(S87(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))then
set m5=h4[144+O5]
else
set m5=SK7(1500.,b5,Condition(function KK))
endif
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<75.)and(not kD(m5))and(GetUnitTypeId(m5)!=1212365106)and((not IsUnitVisible(it,GetOwningPlayer(m5)))or(not IsUnitInRange(it,m5,800.)))and(IsUnitInRange(it,m5,1500.))and(not SR7(m5,ZU[EW])))then
if(SP7(1000.,m5,Condition(function Y87))==0)then
set GZ[O5]=true
set h4[288+O5]=h4[O5]
set J4=J8(O5,TD7(it,852129,1093679445))
endif
endif
endif
if((m5==null)and(GetUnitAbilityLevel(it,1110454347)==0)and(GetHeroLevel(it)>9)and(SO7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>60.))then
call SetPlayerAbilityAvailable(pl,1093687351,true)
endif
elseif(i1==1432646245)then
if(not L_7())then
if((Bz>hq[O5])and(not(GetFloatGameState(GAME_STATE_TIME_OF_DAY)==0.0)))then
set J4=IssueImmediateOrderById(it,852621)
endif
if((m5==null)and(G0[128+O5]))then
set m5=K3(900.,it,Condition(function k6))
if((m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)<GetUnitState(it,UNIT_STATE_LIFE)))then
call CWE(O5,m5,false,false)
endif
endif
set J4=((m5!=null)and((S27(it,852095,1093677640,m5))or((kP(GetUnitTypeId(m5)))and(S27(it,852585,1093679171,m5)))))
else
set J4=(m5!=null)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<65.)and(S27(it,852095,1093677640,m5))
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(G0[128+O5]))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=SN7(700.,b5,Condition(function KN))
if(m5==null)then
set m5=SN7(500.,b5,Condition(function k6))
endif
set J4=((m5!=null)and(GetUnitManaPercent(m5)>20.)and(S27(it,852585,1093679171,m5)))or((m5!=null)and(GetUnitLifePercent(m5)<70.)and(L_7())and(Bz>hq[O5])and(IssueImmediateOrderById(it,852621)))
endif
endif
elseif(i1==1430466609)then
call SetPlayerAbilityAvailable(pl,1093678145,(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>60.))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
set m5=SK7(900.,b5,Condition(function k6))
endif
if(m5!=null)then
if((not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<50.)and(GetHeroLevel(it)>5)and(Bz>hq[O5])and(not IC(O5))and(not IsUnitInRange(it,m5,400.))and(IsUnitInRange(it,m5,750.)))then
set TCF=kL(it,m5,200.)
set J4=(TCF!=null)and((SO7(800.,TCF,Condition(function Y17))-SO7(800.,TCF,Condition(function YM7)))<=1)and(SO7(700.,TCF,Condition(function Y87))==0)and(IssuePointOrderByIdLoc(it,852525,TCF))
endif
if((not J4)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
set J4=(((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<RMF(it))or(Kz(400.,S07(m5))>1))and(T47(it,852125,1093810258,1093810259,m5)))
endif
if(not J4)then
set J4=(((GetUnitManaPercent(it)>60.)and(GetHeroLevel(it)>5))or(S97(m5,it)))and(S27(it,852527,1093685559,m5))
endif
endif
if(not J4)then
set J4=((SO7(400.,b5,Condition(function k6))>0)or((hq[240+O5]>Bz)and(SO7(400.,b5,Condition(function KA))>1)))and(TD7(it,852526,1093678145))
endif
if((not J4)and(GetHeroLevel(it)>11.)and(GetUnitManaPercent(it)>70.)and(iy(it))and(SO7(1400.,b5,Condition(function Ky))==0)and(eY[O5]==1))then
set TCF=kk(it,800.,h8[O5])
set J4=(TCF!=null)and(IssuePointOrderByIdLoc(it,852525,TCF))
endif
elseif(i1==1430468913)then
if((not J4)and(m5!=null)and(GetHeroLevel(it)>5))then
set J4=(((GetUnitLifePercent(m5)<60.)or(h4[O5]!=null)or(SO7(800.,b5,Condition(function YM7))>0))and(GetUnitAbilityLevel(m5,1110454356)==0)and(S27(it,852149,1093677876,m5)))
endif
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<40.)and((GetUnitState(it,UNIT_STATE_LIFE)>1800.)or(SO7(1000.,b5,Condition(function k6))<=2))and(not IsUnitInRange(it,m5,350.)))then
set GZ[O5]=true
set J4=J8(O5,TD7(it,852100,1093678403))
endif
call SetPlayerAbilityAvailable(pl,1093810507,(GetHeroLevel(it)>13)and(SO7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))
if((not J4)and(m5!=null))then
set J4=((IsUnitInRange(it,m5,275.))and(TD7(it,852164,1093810507)))
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(1000.,it,Condition(function k6))
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454356)==0)and(S27(it,852149,1093677876,m5))
endif
endif
elseif(i1==1430467634)then
set UP=GetHeroLevel(it)
call SetPlayerAbilityAvailable(pl,1093742674,(GetUnitManaPercent(it)>40.)and(Bz>TC4[16+O5]))
call SetPlayerAbilityAvailable(pl,1093750608,(UP>10)and(GetUnitManaPercent(it)>55.))
if((m5==null)and(G0[128+O5])and(UP>4))then
set m5=SK7(900.,b5,Condition(function k6))
endif
if((m5!=null)and(UP>4))then
set J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(250+(250*ROF(it))))and(not IsUnitIllusion(m5))and(T47(it,852583,1093684565,1093681458,m5)))or((((GetHeroLevel(m5)==25)or(ModuloInteger(GetHeroLevel(m5),7-GetUnitAbilityLevel(it,1093679412))==0))or(GetUnitManaPercent(it)>60.)or(S97(m5,it)))and(S27(it,852231,1093679412,m5)))
if((not J4)and(GetUnitManaPercent(it)>60.))then
set GZ[O5]=true
set J4=J8(O5,TD7(it,OrderId("fanofknives"),1093750608))
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(1000.,it,Condition(function k6))
set J4=(m5!=null)and(T47(it,852583,1093684565,1093681458,m5))
endif
endif
if((not J4)and(IsUnitInRange(it,m5,200.)))then
set J4=(m5!=null)and IssueImmediateOrderById(it,852127)
endif
if((not J4)and Bz>TC4[16+O5])then
set m5=SK7(300.,S07(it),Condition(function YG7))
set J4=(m5!=null)and(S27(it,852600,1093742674,m5))
endif
elseif(i1==1313026096)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>10))then
set m5=SN7(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(((GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>4))or(S97(m5,it)))and(S27(it,852095,1095267426,m5))
if((not J4)and(GetHeroLevel(it)>10)and(m5!=null)and(not IsUnitIllusion(m5))and(GetUnitCurrentOrder(m5)!=851973)and(SP7(600.,m5,Condition(function YM7))>1))then
set J4=S27(it,852095,1095267426,m5)
endif
elseif((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))then
if((not J4)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(it)<50.)and(Bz>TC4[O5]))then
set bj_lastLoadedUnit=it
set IN4=null
set IP4=null
set EI7=GetUnitLifePercent(it)+20.
set EJ7=GetUnitLifePercent(it)+30.
call SN7(700.,S07(it),Condition(function XF7))
if IN4!=null then
set m5=IN4
else
set m5=IP4
endif
set J4=(m5!=null)and(S27(it,852189,1093678929,m5))
if J4 then
call CWE(O5,m5,false,false)
endif
endif
if((not J4)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(it)>75.)and(Bz>TC4[O5]))then
set m5=SK7(600.,b5,Condition(function YP7))
if((m5!=null)and(T[GetPlayerId(GetOwningPlayer(m5))]>V[GetPlayerId(GetOwningPlayer(m5))]+3))then
set J4=(SP7(800.,m5,Condition(function k6))>0)and(S27(it,852189,1093678929,m5))
endif
endif
set m5=h4[O5]
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5)))then
if((not J4)and(i1==1164277353)and(GetUnitLifePercent(m5)<70.))then
set J4=TD7(it,852663,1093751369)
endif
if not J4 and(GetHeroLevel(it)>20 or(GetHeroLevel(it)-GetHeroLevel(m5)>3)or i1!=1164277353)then
set J4=IssueImmediateOrderById(it,852600)
endif
if((not J4)and((S97(m5,it))or(GZ[208+O5])or(GetUnitLifePercent(m5)<70. and GetUnitManaPercent(it)>70.)))then
set J4=S27(it,852119,1093815130,m5)
endif
endif
elseif(i1==1164666213)then
if(GetHeroLevel(it)>=6)then
set J4=(IsUnitInRange(it,h4[O5],400))or((SO7(400.,b5,Condition(function k6))>0)or((GetHeroLevel(it)>18)and(GetUnitManaPercent(it)>70.)and(SO7(400.,b5,Condition(function X47))>2)))
if not UU7(it,"AI|PulseNova")then
if(J4)then
call SetPlayerAbilityAvailable(pl,1093808455,true)
call TD7(it,852100,1093808454)
call TriggerSleepAction(0.1)
endif
else
if(not J4)then
call TD7(it,852100,1093808456)
call TriggerSleepAction(0.1)
endif
endif
call TriggerSleepAction(0.1)
set J4=false
endif
if(not J4)and G0[128+O5]and(GetUnitAbilityLevel(it,1093677877)>0)and(GetUnitManaPercent(it)>30)and(Bz>TC4[32+O5])then
if(m5==null)and SP7(700,it,Condition(function WZ7))==0 then
set m5=SK7(800.,b5,Condition(function Y87))
if(m5!=null)then
set EJ7=RE7(it,m5)
if(EJ7<500)then
if(TD7(it,852594,1093677877))then
call TriggerSleepAction(0.1)
endif
else
set EI7=PO7(it,m5)
set EJ7=EJ7-516
call MoveLocation(HA,GetWidgetX(it)+EJ7*Cos(EI7*bj_DEGTORAD),GetWidgetY(it)+EJ7*Sin(EI7*bj_DEGTORAD))
call IssuePointOrderByIdLoc(it,851986,HA)
endif
endif
set m5=null
elseif SP7(800,it,Condition(function WZ7))>=1 then
set X07=Z47(600,it,Condition(function Y87))
if SP7(150.,it,Condition(function X47))<=2 then
if(TD7(it,852594,1093677877))then
call TriggerSleepAction(0.1)
endif
else
set TBF=QK7(X07,500,Condition(function X47),true)
if P37(TBF)then
call P67(TBF,2*GetUnitX(X07)-GetLocationX(TBF),2*GetUnitY(X07)-GetLocationY(TBF))
if RF7(GetUnitX(it),GetUnitY(it),GetLocationX(TBF),GetLocationY(TBF))<=150 then
if(TD7(it,852594,1093677877))then
call TriggerSleepAction(0.5)
endif
endif
call IssuePointOrderByIdLoc(it,851986,TBF)
endif
endif
endif
endif
set UP=GetHeroLevel(it)
if(not J4)and(h4[O5]!=null)and(SO7(300.,b5,Condition(function k6))>0)then
if(TD7(it,852594,1093677877))then
call TriggerSleepAction(0.1)
endif
endif
if((m5==null)and(G0[128+O5])and(GetUnitManaPercent(it)>70.)and(UP>3))then
set m5=SK7(1000.,b5,Condition(function k6))
endif
if((not J4)and(m5!=null))then
set J4=(((UP>3)or(GetUnitLifePercent(m5)<60.))and(DX9(m5))and(S27(it,852224,1093678679,m5)))
endif
if((not J4)and(m5!=null))then
set J4=(((UP>3)or(GetUnitLifePercent(m5)<60.))and(S27(it,852119,1093678678,m5)))
endif
if(not J4)and(m5==null)then
set m5=SK7(1000.,b5,Condition(function X47))
if(not J4)and(m5!=null)and(UP>8)and(GetUnitManaPercent(it)>60.)then
set J4=(S27(it,852119,1093678678,m5))
endif
if(not J4)and(m5!=null)and(UP>14)and(GetUnitManaPercent(it)>60.)and(SP7(150.,it,Condition(function X47))>2)then
set J4=(S27(it,852224,1093678679,m5))
endif
if(not J4)and(m5!=null)and((UP>14)or((UP>10)and(eY[O5]>9)))and(GetUnitManaPercent(it)>40.)and(SP7(500.,it,Condition(function X47))>2)then
set J4=(TD7(it,852594,1093677877))
endif
endif
set bj_lastLoadedUnit=it
if(not J4)and(h4[O5]!=null)and(eY[320+O5]>=0)and(not IsUnitInRange(it,m5,300))and((GetUnitLifePercent(it)>80)or(GetUnitLifePercent(it)>(GetUnitLifePercent(m5)+30)))and(GetUnitManaPercent(it)>20)and(h4[304+O5]==null)and(SP7(900,m5,Condition(function SQ7))==0)then
set J4=IssuePointOrderById(it,852686,GetUnitX(m5),GetUnitY(m5))
endif
elseif(i1==1433168227)then
call SetPlayerAbilityAvailable(pl,1093678918,(GetHeroLevel(it)>9)and((GetUnitManaPercent(it)>70.)or(m5!=null)or(SO7(900.,b5,Condition(function k6))>0)))
if GetUnitManaPercent(it)>60. then
call SetPlayerAbilityAvailable(pl,1093679186,true)
if IssueImmediateOrderById(it,852458)then
call TriggerSleepAction(0.1)
endif
else
call SetPlayerAbilityAvailable(pl,1093679186,false)
endif
if((m5==null)and(G0[128+O5])and(GetUnitManaPercent(it)>70.)and(GetHeroLevel(it)>2))then
set m5=SK7(1000.,b5,Condition(function k6))
endif
if((m5!=null)and(GetHeroLevel(it)>2))then
if((GetHeroLevel(it)>5)and(Bz>hq[O5])and(not IsUnitIllusion(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.))then
set UP=SP7(550.,m5,Condition(function KA))
if((UP>1)and(UP<6)and((UP<=(SP7(550.,m5,Condition(function k6))*2))or((S97(m5,it))and(GetUnitState(m5,UNIT_STATE_LIFE)<450.))))then
set GZ[O5]=true
set J4=J8(O5,T47(it,852227,1093678420,1093679176,m5))
endif
endif
if(not J4)then
set J4=((GetUnitManaPercent(it)>60.)or(GetUnitLifePercent(m5)<50.))and(S27(it,852226,1093678918,m5))
endif
endif
if((not J4)and(GetUnitManaPercent(it)<75.))then
set m5=SK7(600.,b5,Condition(function KD))
set J4=(m5!=null)and(S27(it,852066,1093678387,m5))
endif
elseif(i1==1429221430)then
if(m5==null)then
set m5=SK7(700.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and((GetUnitState(m5,UNIT_STATE_LIFE)<56.25*GetUnitAbilityLevel(it,1093681736))or(GetUnitState(m5,UNIT_STATE_LIFE)>500. and GetUnitState(it,UNIT_STATE_MANA)>300.)or(GZ[208+O5]))then
set J4=S27(it,852601,1093681736,m5)
endif
if(not J4)and(GetUnitAbilityLevel(it,1110454597)>0)then
if(h4[O5]==null)then
call CWE(O5,m5,false,false)
endif
if((GetUnitCurrentOrder(it)==851986)and(not G0[O5])and(hq[512+O5]>Bz)and(G0[128+O5])and(SO7(800.,b5,Condition(function KC))>1))then
call S57(it,851983,h8[O5])
endif
elseif(not J4)and((GetUnitAbilityLevel(it,1110454595)>0)and(GetUnitCurrentOrder(it)==851986)and((not IsUnitVisible(it,Z7[0]))or(not IsUnitVisible(it,A7[0])))and(((SO7(800.,b5,Condition(function k8))>0)or(SO7(800.,b5,Condition(function KC))>0))))then
call IssueImmediateOrderById(it,851993)
endif
if(not J4)and(m5!=null)and((SO7(1500.,b5,Condition(function KR))==0)and(SO7(400.,b5,Condition(function k6))==0)and(RE7(it,IZ4)>1500)and(RE7(it,JA4)>1500)and(GetUnitState(it,UNIT_STATE_MANA)>250.))then
set J4=S_7(it,852224,1093681735,b5)
endif
if((not J4)and(GetHeroLevel(it)>13)and(hq[416+O5]>Bz)and(G0[128+O5])and(GetUnitAbilityLevel(it,1110454597)==0)and(GetUnitState(it,UNIT_STATE_MANA)>200.))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
if(((m5==null)or(not IsUnitInRange(it,m5,400.)))and(G0[128+O5]))then
set m5=SK7(400.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(RE7(it,m5)<300)and(TD7(it,852164,1093687121))
endif
endif
if(not J4)and(h4[O5]==null)and GZ[O5]and((GetUnitState(it,UNIT_STATE_MANA)>300 and GetUnitManaPercent(it)>50))then
set EI7=GetUnitAbilityLevel(it,1093681736)*75.
set m5=SK7(600.,b5,Condition(function YJ7))
set J4=(m5!=null)and(S27(it,852601,1093681736,m5))
endif
elseif(i1==1430466872)then
call SetPlayerAbilityAvailable(pl,1093687349,(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>60.)and(SO7(1200.,b5,Condition(function k6))==0))
if(m5!=null)then
set GZ[O5]=true
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
if((Bz>hq[O5])and(not IsUnitIllusion(m5))and(UP>200)and(UP<RPF(it)+100))then
set J4=J8(O5,(S27(it,852502,1093684558,m5))or(S27(it,852555,1093687349,m5))or((not ke(m5))and(T47(it,852119,1093679413,1093679447,m5))))
elseif((GetHeroLevel(it)>2)or(S97(m5,it)))then
set J4=(S27(it,852555,1093687349,m5))or((GetUnitLifePercent(m5)<50.)and(not IsUnitIllusion(m5))and(S27(it,852502,1093684558,m5)))
endif
elseif((GetUnitManaPercent(it)>50.)and(G0[128+O5])and(GetHeroLevel(it)>2))then
set m5=SK7(1000.,b5,Condition(function k6))
set J4=(m5!=null)and(S27(it,852555,1093687349,m5))
endif
if((not J4)and(GetHeroLevel(it)>10)and((GetUnitState(it,UNIT_STATE_MAX_MANA)-GetUnitState(it,UNIT_STATE_MANA))>400.)and(iy(it))and(eY[O5]==1))then
set m5=SK7(700.,b5,Condition(function k9))
set J4=(m5!=null)and(S27(it,852066,1093678387,m5))
endif
if((not J4)and(GetHeroLevel(it)>15)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(700.,it,Condition(function k6))
if(m5!=null)then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=(GetUnitLifePercent(m5)<60.)and(UP<1600)and(UP>500)and(not ke(m5))and(T47(it,852119,1093679413,1093679447,m5))
endif
endif
endif
if(not J4)and(GetUnitManaPercent(it)<70)then
set IJ4=RMinBJ(I2R(GetUnitAbilityLevel(it,1093677646)*80),160)
if(m5==null or GetUnitState(m5,UNIT_STATE_MANA)<IJ4)then
set m5=ZK7(it)
endif
set J4=(m5!=null)and(S27(it,852487,1093677646,m5))
endif
elseif(i1==1162032439)then
set J4=GetUnitAbilityLevel(it,1110456148)>0
if((not J4)and(m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SK7(900.,b5,Condition(function k6))
endif
if((not J4)and(m5!=null))then
set J4=(((GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>2))or(S97(m5,it)))and(S27(it,OrderId("volcano"),1093744435,m5))
endif
if((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<70.)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>10)and(Bz>hq[16+O5])and(G0[128+O5]))then
set UP=Kz(600.,b5)
if((UP>1)or((UP>0)and(SO7(800.,b5,Condition(function YM7))>0)))then
set GZ[O5]=true
call SetPlayerAbilityAvailable(pl,1093681462,true)
set J4=J8(O5,(TD7(it,852594,1093677363)))
endif
endif
if((not J4)and(G0[128+O5])and(SR7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>10)and(Bz>hq[16+O5])and(GetUnitLifePercent(it)>65.)and(GetUnitManaPercent(it)>50.)and(not IsUnitInRange(it,m5,300.))and(IsUnitInRange(it,m5,800.)))then
set h4[16+O5]=m5
set J4=RAF(it,m5)
endif
if(not J4)and(h4[O5]!=null)then
set J4=S27(it,852504,1093684563,m5)
endif
call SetPlayerAbilityAvailable(pl,1093684563,(not J4)and(((GetHeroLevel(it)>8)and(GetUnitManaPercent(it)>45.))or((GetHeroLevel(it)>15)and(GetUnitManaPercent(it)>30.))))
elseif(i1==1430466865)then
if(m5==null)then
set m5=SK7(800.,b5,Condition(function k6))
endif
call SetPlayerAbilityAvailable(pl,1093677651,(GetHeroLevel(it)>15)and(SO7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))
if((G0[128+O5])and(not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<65. or S97(it,m5)or GZ[208+O5]or eY[320+O5]>=0)and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.))and((not IC(O5))or(PE7(it)>1600.))and(TC4[32+O5]>Bz))then
if(SR7(it,ZU[RW]))then
set J4=(((Bz>hq[O5])and(GetUnitState(it,UNIT_STATE_MANA)>175.+(GetUnitAbilityLevel(it,1093810508)*100)))or(eY[320+O5]>=1)or(S97(it,m5)))and(GetUnitState(it,UNIT_STATE_MANA)>400.)and(RAF(it,m5))
endif
if not J4 then
set J4=((GetUnitState(it,UNIT_STATE_MANA)>180.+(GetUnitAbilityLevel(it,1093810508)*100))or(S97(it,m5)))and(S27(it,852218,1093751364,m5))
endif
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
if((m5==null)and(G0[128+O5]))then
set m5=Y57(800.,it)
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<30 or GZ[208+O5]))then
if(Kz(400.,S07(m5))>1 or GetUnitLifePercent(m5)<30)and(((not IsUnitInRange(it,m5,300.))and(RAF(it,m5)))or(IsUnitInRange(it,m5,300.)))then
if(not is(it))then
call R47(0.1)
endif
set J4=(TD7(it,852164,1093810508))
endif
endif
endif
if(not J4)and(IsUnitInRange(it,m5,200.))and(SO7(250.,b5,Condition(function k8))<=1)then
set EI7=PO7(it,m5)
set EJ7=PO7(it,h9[O5])
set EI7=RAbsBJ(EI7-EJ7)
if EI7<15 then
set EI7=RAbsBJ(GetUnitFacing(it)-EJ7)
if EI7<15 then
set J4=((GetUnitState(it,UNIT_STATE_MANA)>180.+(GetUnitAbilityLevel(it,1093810508)*100))or(S97(it,m5)))and(S27(it,852218,1093751364,m5))
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>60.))then
if((m5==null)and(G0[128+O5]))then
set m5=SK7(600.,b5,Condition(function k6))
endif
if((m5!=null)and(IsUnitInRange(it,m5,600.)))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))
call SetPlayerAbilityAvailable(pl,1093677651,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852125,GetUnitX(it)+300.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+300.*Sin(UP*bj_DEGTORAD)))
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(SO7(800.,b5,Condition(function k8))>0))then
set J4=(GetUnitAbilityLevel(it,1110454357)==0)and(GetUnitManaPercent(it)>65.)and(S27(it,852066,1093677879,it))
if((not J4)and(GetUnitAbilityLevel(it,1110454357)>0)and(GetUnitManaPercent(it)>75.))then
set m5=SK7(700.,b5,Condition(function YM7))
set J4=(m5!=null)and(kq(GetUnitTypeId(m5)))and(GetUnitAbilityLevel(m5,1110454357)==0)and(S27(it,852066,1093677879,m5))
endif
endif
elseif(i1==1430468144)then
if((m5==null)and(G0[128+O5]))then
set m5=SK7(800.,b5,Condition(function k6))
endif
set UP=UN7(GetHandleId(it),"Level")
if((m5!=null)and(IsUnitInRange(it,m5,860.))and GetUnitState(m5,UNIT_STATE_LIFE)<20+(60*UP))then
set J4=(IssueTargetOrderById(it,852248,m5))
else
set J4=((IsUnitInRange(it,m5,860.))and(UP>GetUnitAbilityLevel(it,1093750337))and(GetUnitManaPercent(it)>35.)and(GetHeroLevel(it)>3)and(IssueTargetOrderById(it,852248,m5)))
endif
if((not J4)and(m5!=null)and(SR7(it,ZU[DR4]))and(Bz>TC4[240+O5])and(DV9(m5)==false)and(A27(m5)==false))then
set J4=UnitUseItemTarget(it,SV7(it,ZU[DR4]),m5)
endif
if(not J4 and m5!=null)then
set J4=(((GetUnitLifePercent(m5)<50.)or(SO7(500.,b5,Condition(function YM7))>0))and((GetHeroLevel(it)>10)and(S27(it,852189,1093679192,m5))))
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>TC4[O5]))then
if(UU7(it,"AIFamiliar1|Status")==false or UU7(it,"AIFamiliar2|Status")==false or(GetUnitAbilityLevel(it,1093814599)!=0 and UU7(it,"AIFamiliar3|Status")==false))then
call SetPlayerAbilityAvailable(pl,1093750341,true)
set J4=IssueImmediateOrderById(it,852526)
elseif(UU7(it,"AIFamiliar1|Stone")and UU7(it,"AIFamiliar2|Stone")and(GetUnitAbilityLevel(it,1093814599)==0 or UU7(it,"AIFamiliar3|Stone")))then
call SetPlayerAbilityAvailable(pl,1093750341,true)
set J4=IssueImmediateOrderById(it,852526)
else
call SetPlayerAbilityAvailable(pl,1093750341,false)
endif
endif
elseif((i1==1429221432)or(i1==1160786229))then
call SetPlayerAbilityAvailable(pl,1093687878,(GetHeroLevel(it)>15)and(GetUnitManaPercent(it)>70.))
call SetPlayerAbilityAvailable(pl,1093677892,(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>60.))
if((m5==null)and(G0[128+O5]))then
if(i1==1160786229)then
set m5=SK7(1000.,b5,Condition(function k6))
elseif(Bz>hq[O5])then
set m5=SN7(600.,b5,Condition(function k6))
endif
endif
if(m5!=null)then
set J4=(Bz>hq[O5])and(i1==1429221432)and(not IsUnitIllusion(m5))and((GetUnitLifePercent(m5)<60.)or((GetUnitLifePercent(m5)<75.)and(SO7(2000.,b5,Condition(function Y87))==0)))and(TD7(it,852180,1093679411))
if((i1==1160786229)or((not J4)and((GetHeroLevel(it)>4)or(GetUnitLifePercent(m5)<60.))and(R2I(GetUnitState(it,UNIT_STATE_MANA))>(250+(25*(GetUnitAbilityLevel(it,1093679411)))))))then
set J4=(TD7(it,OrderId("channel"),1093687878))or(TD7(it,852126,1093677892))
endif
endif
if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(700.,it,Condition(function k6))
set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(TD7(it,852180,1093679411))
endif
endif
elseif(i1==1429221441)then
set J4=(m5!=null)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.)and(S27(it,852231,1093678389,m5))
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(((GetHeroLevel(it)>5)and(not IC(O5)))or(SI7(m5,it)))and(not IsUnitInRangeLoc(m5,b5,250.)))then
set J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and((SP7(800.,m5,Condition(function Y17))-SP7(800.,m5,Condition(function YM7)))<=1)and(IssueTargetOrderById(it,852600,m5))
endif
if((not J4)and(GetHeroLevel(it)>14)and(hq[416+O5]>Bz)and(Bz>hq[16+O5])and(G0[128+O5]))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(700.,it,Condition(function k6))
set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(TD7(it,852123,1093677903))
endif
endif
if((not J4)and(GetHeroLevel(it)>17)and(Bz>hq[16+O5]))then
set m5=SN7(500.,b5,Condition(function Y87))
set J4=(m5!=null)and(GetUnitLifePercent(m5)<55.)and(GetUnitLifePercent(m5)>15.)and(SP7(800.,m5,Condition(function KC))>2)and(TD7(it,852123,1093677903))
endif
elseif(i1==1165451634)then
set J4=(m5!=null)and(((GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.))or(SI7(m5,it)))and(S27(it,OrderId("acidbomb"),1093687629,m5))
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(((GetHeroLevel(it)>5)and(not IC(O5)))or(SI7(m5,it)))and(not IsUnitInRangeLoc(m5,b5,250.)))then
set J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and((SP7(800.,m5,Condition(function Y17))-SP7(800.,m5,Condition(function YM7)))<=1)and(IssueTargetOrderById(it,852600,m5))
endif
elseif(i1==1432642913)then
set J4=(m5!=null)and(GetHeroLevel(it)>5)and((GetUnitLifePercent(it)>75.)or((GetUnitLifePercent(it)-25.)>GetUnitLifePercent(m5)))and(IssueTargetOrderById(it,852662,m5))
if(not J4)then
set m5=SK7(800.,b5,Condition(function YP7))
if(m5!=null)then
set J4=((SP7(800.,m5,Condition(function k6))>0)and(IssueTargetOrderById(it,852119,m5)))or((GetUnitLifePercent(it)>60.)and(IssueTargetOrderById(it,852662,m5)))
endif
if((not J4)and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>50.)and(SO7(600.,b5,Condition(function KA))>0))then
set J4=IssueTargetOrderById(it,852119,it)
endif
endif
elseif(i1==1215722344)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
set m5=SK7(800.,b5,Condition(function k6))
endif
if(m5!=null)then
if((GetHeroLevel(it)>5)and(GetUnitAbilityLevel(it,1110454616)==0)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(GetUnitState(m5,UNIT_STATE_LIFE)>300.))then
if(((IsUnitInRange(it,m5,500.))and(GetUnitLifePercent(m5)<60.))or((SP7(700.,m5,Condition(function YM7))>0)and(GetUnitLifePercent(m5)<80.))or((SP7(700.,m5,Condition(function YT7))>0)and(SP7(700.,m5,Condition(function k8))<4)))then
set GZ[O5]=true
set J4=J8(O5,S27(it,852231,1093684296,m5))
endif
else
set J4=(GetHeroLevel(it)>5)and(IsUnitInRange(it,m5,300.))and(GetUnitLifePercent(it)>70.)and(S27(it,852668,1093682499,it))
endif
elseif((GetHeroLevel(it)>5)and(GetUnitAbilityLevel(it,1110454616)==0)and(GetUnitManaPercent(it)>70.))then
set J4=(SO7(1200.,b5,Condition(function k6))==0)and(SO7(700.,b5,Condition(function KA))>0)and(S27(it,852668,1093682499,it))
else
call SetPlayerAbilityAvailable(pl,1093682499,false)
endif
elseif(i1==1432510828)then
set J4=(RSF(it)>35.)and((m5!=null)or(SO7(1000.,b5,Condition(function k6))>0))and(TD7(it,852600,1093682004))
if(not J4)then
set m5=SK7(1500.,b5,Condition(function k6))
if(m5!=null)then
set J4=IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))
set m5=null
endif
endif
if((not J4)and(G0[128+O5]))then
if(m5==null)then
set m5=SK7(700.,b5,Condition(function k6))
endif
if(m5!=null)then
if(SP7(900.,m5,Condition(function Y87))>0)then
if((SI7(m5,it))or((GetHeroLevel(it)>4)and(IsUnitInRange(it,m5,250.))and(not IC(O5))and(GetUnitLifePercent(it)>75.)))then
set h4[288+O5]=m5
set J4=IssueImmediateOrderById(it,852129)
endif
else
if((SI7(m5,it))or((GetHeroLevel(it)>4)and((GetUnitManaPercent(it)>50.)or(GetHeroLevel(it)>10.))and(SP7(800.,m5,Condition(function Y17))-SP7(800.,m5,Condition(function YM7))<=1)))then
set h4[288+O5]=m5
set J4=IssueImmediateOrderById(it,852129)
endif
endif
endif
endif
elseif(i1==1332766568)then
if((G0[128+O5])and(SR7(it,ZU[RW]))and(GetHeroLevel(it)>12)and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.)))then
set J4=((SP7(800.,m5,Condition(function Y17))-SP7(800.,m5,Condition(function YM7)))<=1)and(RAF(it,m5))
endif
if(m5!=null)then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=(GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and((UP<(150+(150*GetUnitAbilityLevel(it,1093682482))))or(UP<(150+(150*GetUnitAbilityLevel(it,1093750098)))))and(UP>150)and(T47(it,852119,1093682482,1093750098,m5))
if((not J4)and((GetHeroLevel(it)>3)or(S97(m5,it)))and(R2I(GetUnitState(it,UNIT_STATE_MANA))>(195+(40*GetUnitAbilityLevel(it,1093682482)))))then
set J4=IssueTargetOrderById(it,852248,m5)
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(G0[128+O5]))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
set J4=(GetUnitLifePercent(it)>70.)and(((UP>1)and(SO7(280.,b5,Condition(function k6))>1))or((UP<=2)and(SO7(280.,b5,Condition(function k6))>0)))and(IssueImmediateOrderById(it,852600))
endif
endif
if((not J4)and(GetHeroLevel(it)>3))then
if(m5==null)then
set m5=K3(800.,it,Condition(function k6))
endif
set J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(SI7(m5,it)))and(IssueTargetOrderById(it,852248,m5))
endif
if((not J4)and(SO7(800.,b5,Condition(function YP7))>0))then
set J4=(SO7(280.,b5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852600))
endif
elseif(i1==1429221451)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>5))then
set m5=SK7(1000.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitInRange(it,m5,200.))and(GetUnitLifePercent(m5)<50.)and(GetUnitCurrentOrder(it)==851983))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))
set J4=IssuePointOrderById(it,852218,GetUnitX(m5)+100.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+100.*Sin(UP*bj_DEGTORAD))
endif
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(R2I(GetUnitState(it,UNIT_STATE_MANA))>250+(75*GetUnitAbilityLevel(it,1093678674))))then
if((Bz>hq[O5])and(Bz>hq[112+O5])and(Bz>hq[240+O5])and(SR7(it,ZU[RW]))and(IsUnitInRange(it,m5,900.))and(not IsUnitInRange(it,m5,300.)))then
set UP=SO7(1000.,b5,Condition(function k6))
if((not IsUnitVisible(it,GetOwningPlayer(m5)))or((hq[416+O5]>Bz)and((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(800.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1))))then
set J4=(SO7(500.,b5,Condition(function k6))==0)and(IssueImmediateOrderById(it,852581))
endif
endif
if(not J4)then
set J4=(Bz>hq[O5])and(IssueTargetOrderById(it,852218,m5))
endif
if((not J4)and((hq[O5]-Bz)>20.)and(GetUnitLifePercent(it)>70.)and(not IC(O5))and(GetUnitState(it,UNIT_STATE_MANA)>500.)and(IsUnitInRange(it,m5,500.))and(SO7(500.,b5,Condition(function YM7))>0))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))
set J4=IssuePointOrderById(it,852218,GetUnitX(m5)+100.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+100.*Sin(UP*bj_DEGTORAD))
endif
endif
if(not J4)and(Bz>TC4[32+O5])and(GetUnitAbilityLevel(it,1093683248)>1)and(G0[256+O5])and(h4[304+O5]==null)and(SP7(GetUnitAbilityLevel(it,1093683248)*50+100,it,Condition(function X47))>4)then
set J4=IssueImmediateOrderById(it,852503)
endif
elseif(i1==1315334514)then
set J4=(GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>3)and((RVF(it,200.,852164,1093682521))or(RVF(it,450.,852588,1093682760))or(RVF(it,700.,852599,1093682736)))
if((not G0[128+O5])or(J4))then
elseif((SR7(it,ZU[C0]))and(GetHeroLevel(it)>10)and(Bz>hq[O5])and(GetUnitManaPercent(it)>50.)and((GetUnitAbilityLevel(it,1093682001))>(GetUnitAbilityLevel(it,1093681746)*4)))then
if(m5==null)then
set m5=SK7(1200.,b5,Condition(function KK))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitTypeId(m5)!=1212365106)and(SP7(800.,m5,Condition(function Y87))==0)and((SP7(600.,m5,Condition(function YT7))>0)or(not IsUnitInRange(it,m5,800.))or(not IsUnitVisible(it,Z7[0]))or(not IsUnitVisible(it,A7[0]))))then
set GZ[272+O5]=true
set J4=UnitUseItem(it,SV7(it,ZU[C0]))
set GZ[272+O5]=J4
endif
elseif((SR7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and(not IC(O5))and(GetHeroLevel(it)>10)and(Bz>hq[O5])and(GetUnitLifePercent(it)>65.)and(GetUnitManaPercent(it)>50.)and((GetUnitAbilityLevel(it,1093682001))>(GetUnitAbilityLevel(it,1093681746)*4)))then
set J4=((SP7(800.,m5,Condition(function Y17))-SP7(800.,m5,Condition(function YM7)))<=1)and(RAF(it,m5))
endif
if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5])and(GetRandomInt(1,3)==1))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and(SO7(1000.,b5,Condition(function YM7))>0))then
set UP=SO7(650.,b5,Condition(function k6))
set J4=((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and(TD7(it,852273,1093810506))
endif
endif
elseif(i1==1328558154)then
if LoadBoolean(L7,GetHandleId(it),1145131595)then
set J4=true
if J4 then
if ZC7(GetOwningPlayer(it))then
set TAF=XH4
else
set TAF=XG4
endif
set X07=LoadUnitHandle(L7,T0F,1145131595)
if IsPointInRegion(IU4,GetUnitX(it),GetUnitY(it))==false and not((SP7(700,X07,Condition(function k6))<=IMinBJ(PW7(IsUnitInRegion(TAF,X07),2+R2I((GetHeroLevel(it)-GetHeroLevel(X07))/4),999),PW7(SP7(500,X07,Condition(function Y87))>0,3+R2I(GetUnitLifePercent(it)-GetUnitLifePercent(X07))/20,999)))or SP7(900,X07,Condition(function XI7))>=2)then
call IssueImmediateOrderById(it,851972)
endif
endif
endif
if J4==false and SE7(it)and SP7(500,it,Condition(function k6))>=1 and PK7(it,30,400,NS7)then
set NU7=2500
set X07=Z47(99999,it,And(Condition(function X47),Condition(function W37)))
if X07==null then
set NU7=1500
set X07=Z47(99999,it,And(Condition(function X47),Condition(function W37)))
endif
set J4=(X07!=null)and IssueTargetOrderById(it,852600,X07)
endif
if((m5!=null)and(not J4)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(S97(m5,it)or((GetUnitLifePercent(m5)<60.)and(not IsUnitInRange(it,m5,600.))))and(((SP7(900.,m5,Condition(function Y17))<=2)and(SR7(it,ZU[J1]))or(SR7(it,ZU[T2])))or((SP7(900.,m5,Condition(function Y17))<2))))then
set J4=((not ke(m5))and(SO7(700.,GetUnitLoc(m5),Condition(function Y87))==0)and(IssueTargetOrderById(it,852600,m5)))
endif
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<60.)and(IsUnitInRange(it,m5,TC4[64+O5])))then
set J4=(IssueTargetOrderById(it,852248,m5))
endif
if((not J4)and SR7(it,ZU[DM4])and(UU7(it,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(it)>90.)and(IsUnitInRange(it,m5,110.)))then
set J4=(m5!=null)and(UnitUseItem(it,SV7(it,ZU[DM4])))
elseif((not J4)and SR7(it,ZU[DK4])and(UU7(it,"ArmletOfMordigan|Active")==true)and((not IsUnitInRange(it,m5,150.))or(GetUnitLifePercent(it)<60.)))then
set J4=(UnitUseItem(it,SV7(it,ZU[DK4])))
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[O5]>Bz))then
if((m5==null)or(IsUnitInRange(it,m5,500.)))then
set m5=K3(1500.,it,Condition(function k6))
endif
set J4=(m5!=null)and((GetUnitLifePercent(m5)<60.)and((GetUnitState(m5,UNIT_STATE_LIFE)+300.)<GetUnitState(it,UNIT_STATE_LIFE)))and(not IsUnitInRange(it,m5,600.))and(SP7(700.,m5,Condition(function Y17))<=2)and(not W97(m5))and(SO7(700.,GetUnitLoc(m5),Condition(function Y87))==0)and(IssueTargetOrderById(it,852600,m5))
endif
if((not J4)and(not Id(O5))and(GetHeroLevel(it)>10)and(hq[O5]>Bz))then
set m5=SN7(1300.,b5,Condition(function YP7))
if(m5!=null)then
set m5=SN7(700.,S07(m5),Condition(function k6))
set J4=(m5!=null)and(not IsUnitInRange(it,m5,300.))and(IssueTargetOrderById(it,852600,m5))
endif
endif
if(not J4 and Bz>TC4[O5])then
set m5=SN7(TC4[64+O5],b5,Condition(function k6))
set J4=(m5!=null)and(GetUnitLifePercent(m5)<40.)and(IssueTargetOrderById(it,852248,m5))
endif
if(not J4 and(GetUnitAbilityLevel(it,1093747768)>0))then
set m5=SN7(TC4[64+O5],b5,Condition(function k6))
set J4=(m5!=null)and(GetRandomInt(1,2)==1)and(((SP7(500.,m5,Condition(function Y17))<=2)and(SR7(it,ZU[J1]))or(SR7(it,ZU[T2])))or((SP7(500.,m5,Condition(function Y17))<2)))and(IssueTargetOrderById(it,852248,m5))
endif
if(not J4)and(GetHeroLevel(it)>10)then
set m5=SN7(2000.,b5,Condition(function k6))
set J4=(m5!=null)and(Bz>TC4[16+O5])and(GetUnitLifePercent(it)>90.)and(not W97(m5))and(not IsUnitInRange(it,m5,700.))and(((SP7(900.,m5,Condition(function Y17))<=1)and(SR7(it,ZU[J1]))or(SR7(it,ZU[T2])))or((SP7(900.,m5,Condition(function Y17))<2)))and(SP7(750.,m5,Condition(function Y87))==0)and(IssueTargetOrderById(it,852600,m5))
endif
elseif(i1==1429221446)then
if((GetUnitAbilityLevel(it,1110454868)>0)and(SO7(275.,b5,Condition(function Y17))==0))then
if((m5==null)or(not IsUnitInRange(it,m5,500.)))then
set m5=SN7(500.,b5,Condition(function k6))
endif
if((m5!=null)and(G0[128+O5]))then
call IssueTargetOrderById(it,851983,m5)
else
call SetPlayerAbilityAvailable(pl,1093678667,true)
call IssueImmediateOrderById(it,852178)
endif
elseif(GetUnitAbilityLevel(it,1110454868)==0)then
if(SO7(225.,b5,Condition(function Y17))==0)then
call SetPlayerAbilityAvailable(pl,1093678667,false)
else
call SetPlayerAbilityAvailable(pl,1093678667,true)
call IssueImmediateOrderById(it,852177)
endif
endif
if(not J4)and(h4[O5]!=null)and(IsUnitInRange(it,m5,225))and(GetUnitLifePercent(m5)<70)then
set J4=T47(it,852480,1093682764,1093747544,m5)
endif
if(not J4)and(h4[O5]!=null)and(IsUnitInRange(it,m5,300))and(GetUnitLifePercent(m5)<30)then
set J4=CPE(it,m5)
endif
if((not J4)and(GetHeroLevel(it)>5)and(GetUnitState(it,UNIT_STATE_MANA)>=150.)and(Bz>hq[16+O5]))then
set UP=200+(200*GetUnitAbilityLevel(it,1093678665))
if((m5==null)or(IsUnitIllusion(m5))or(IsUnitInRange(it,m5,200.))or(not IsUnitInRange(it,m5,UP)))then
set m5=SK7(UP,b5,Condition(function Y17))
endif
set J4=(m5!=null)and(not IsUnitInRange(it,m5,200.))and((GetUnitLifePercent(m5)<80.)or(SO7(500.,b5,Condition(function YM7))>0)or(Bz>hq[O5]))and(CPE(it,m5))
if((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[128+O5])and(SO7(400.,S07(it),Condition(function k8))==0))then
set UP=R2I(RF7(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
if(GetRandomInt(1,2)==1)then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-15
else
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+15
endif
set J4=IssuePointOrderById(it,851986,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))
endif
endif
elseif(i1==1311788343 or i1==1311788355 or i1==1311788367 or i1==1311788353 or i1==1311788354)or(i1==1311788363 or i1==1311788365)then
if(i1==1311788343 or i1==1311788355 or i1==1311788367 or i1==1311788353 or i1==1311788354)then
set X07=X27(900,it)
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093815361,(X07!=null)or(GetUnitState(it,UNIT_STATE_MANA)>600 or GetUnitManaPercent(it)>70.))
set J4=(X07!=null)and IssueTargetOrderById(it,852119,X07)
if not J4 and G0[128+O5]then
if MB7[O5]!=null and IsUnitInRange(it,MB7[O5],950)and SP7(350,MB7[O5],Condition(function k6))>=2 and(GetUnitLifePercent(MB7[O5])<=60. and(QQ7(GetUnitTypeId(MB7[O5]))==E57 or QQ7(GetUnitTypeId(MB7[O5]))==E27))then
set m5=MB7[O5]
else
set m5=XL7(800,it,0,Condition(function k6))
endif
set J4=(m5!=null)and(G0[256+O5]or(GetUnitLifePercent(m5)<30.+7*SP7(600,it,Condition(function YM7))+7*(SP7(350,m5,Condition(function k6)))+3*(SP7(350,m5,Condition(function X47))))or 0.73*GetWidgetLife(m5)<=350)or(SP7(600,it,Condition(function YM7))>=3)and IssueTargetOrderById(it,852581,m5)
if J4 then
set h4[O5]=PS7(J4,m5,h4[O5])
else
set m5=Z47(800,it,Condition(function TYF))
set J4=(m5!=null)and IssueTargetOrderById(it,852581,m5)
endif
endif
if not J4 then
if SP7(600,it,Condition(function YM7))>=4 and SP7(600+100*GetUnitAbilityLevel(it,1093815877),it,Condition(function k6))>=1 and G0[256+O5]or(GetUnitLifePercent(it)<20. and W97(it)==false)then
set J4=IssueImmediateOrderById(it,852180)
endif
endif
if not J4 then
set m5=Z47(1200,it,Condition(function YQ7))
set J4=(m5!=null)and((((not P87(m5))or GetUnitLifePercent(m5)<=25.)or(GetUnitCurrentOrder(m5)!=851983 or(SP7(600,m5,Condition(function k6))>=1 and GetUnitLifePercent(m5)<=25.)))or GetUnitState(m5,UNIT_STATE_LIFE)<=225)and IssueTargetOrderById(it,852536,m5)
endif
else
if(i1==1311788363 or i1==1311788365)then
set X07=Z47(500+100*GetUnitAbilityLevel(it,1093815601),it,Condition(function WL7))
set m5=PS7(X07!=null,X07,m5)
set J4=(G0[256+O5])and(m5!=null)and(GetUnitManaPercent(it)>70 or GetUnitLifePercent(m5)<=30.)and IssueTargetOrderById(it,852095,m5)
if not J4 then
set m5=PS7(m5!=null,m5,Z47(2000,it,Condition(function k6)))
if(not R97(it,m5,90))then
set J4=(m5!=null)and(G0[128+O5]or(GetUnitManaPercent(it)>65. or GetUnitLifePercent(m5)<80.))and IssuePointOrderById(it,852600,(GetUnitX(m5)+125*Cos(GetUnitFacing(m5)*bj_DEGTORAD+GetRandomReal(-.52,.52))),(GetUnitY(m5)+125*Sin(GetUnitFacing(m5)*bj_DEGTORAD+GetRandomReal(-.52,.52))))
else
set TBF=CL7(it,m5,999999,3.3,0)
set J4=(m5!=null)and(G0[256+O5]or((GetUnitManaPercent(it)>35. or GetUnitState(it,UNIT_STATE_MANA)>=320)or GetUnitLifePercent(m5)<80.))and(TBF!=null)and IssuePointOrderByIdLoc(it,852600,TBF)
endif
endif
if not J4 then
set m5=Z47(700,it,Condition(function XH7))
set X07=Z47(1100,it,Condition(function XG7))
if m5!=null and X07!=null then
if IsUnitInRange(X07,m5,325)then
set J4=((GetUnitManaPercent(it)>=30. or GetUnitState(it,UNIT_STATE_MANA)>=225.)or(GetUnitState(m5,UNIT_STATE_LIFE)<=500 or GetUnitLifePercent(m5)<70.)or(GetUnitLifePercent(X07)<=100.))and IssuePointOrderById(it,852662,0.5*(GetUnitX(m5)+GetUnitX(X07)),0.5*(GetUnitY(m5)+GetUnitY(X07)))
else
if SP7(600,X07,Condition(function WB7))>=3 and GetUnitLifePercent(m5)>75. then
set m5=X07
endif
set J4=(m5!=null)and((IsUnitType(m5,UNIT_TYPE_HERO)==true and(GetUnitLifePercent(m5)<=40. or P77(m5)==true))or(IsUnitType(m5,UNIT_TYPE_STRUCTURE)==true and SP7(600,X07,Condition(function WB7))>=2))and IssuePointOrderById(it,852662,GetUnitX(m5)+GetRandomReal(0,100),GetUnitY(m5)+GetRandomReal(0,100))
endif
else
set m5=PS7(m5==null,X07,m5)
if m5==null then
set m5=Z47(1100,it,Condition(function YT7))
endif
set J4=(m5!=null)and((IsUnitType(m5,UNIT_TYPE_HERO)==true and(GetUnitLifePercent(m5)<=70. or P77(m5)==true))or(IsUnitType(m5,UNIT_TYPE_STRUCTURE)==true and SP7(600,X07,Condition(function WB7))>=2))and IssuePointOrderById(it,852662,GetUnitX(m5)+GetRandomReal(0,100),GetUnitY(m5)+GetRandomReal(0,100))
endif
endif
if J4 then
endif
if not J4 then
set J4=(GetUnitTypeId(it)!=1311788365)and((G0[256+O5]and SP7(750,it,Condition(function k6))>=1)or eY[O5]==10 or((SR7(it,1227896388)and SP7(500,it,Condition(function X47))>=1)or(SR7(it,1227896916)and SP7(600,it,And(Condition(function W67),Condition(function WB7)))>=1)))and GetUnitLifePercent(it)>20. and IssueImmediateOrderById(it,852594)
endif
endif
endif
elseif(i1==1429221445)then
call SetPlayerAbilityAvailable(pl,1093678422,(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>30.)or(SO7(400.,b5,Condition(function k6))>0))
if((m5!=null)and(not ke(m5))and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.))then
set UP=GetUnitAbilityLevel(it,1093678647)
if(UP==0)then
set UP=GetUnitAbilityLevel(it,1093679184)+1
endif
set J4=(GetUnitState(m5,UNIT_STATE_LIFE)<((0.20+(I2R(UP)*0.20))*(GetUnitState(m5,UNIT_STATE_MAX_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))))and(T47(it,852095,1093678647,1093679184,m5))
endif
if((not J4)and(GetHeroLevel(it)>6)and(GetUnitLifePercent(it)<85.)and(GetUnitManaPercent(it)>35.))then
set J4=((SO7(400.,b5,Condition(function KA))>0)or(SO7(400.,b5,Condition(function KC))>0))and(IssueImmediateOrderById(it,852526))
endif
if((not J4)and(hq[240+O5]>Bz))then
set J4=(SO7(400.,b5,Condition(function KA))>1)and(TD7(it,852526,1093678422))
endif
if((not J4)and(GetUnitManaPercent(it)>35.)and(GetUnitState(it,UNIT_STATE_MANA)>250.))then
set m5=SK7(400.,b5,Condition(function YK7))
set J4=(m5!=null)and(((GetUnitLevel(it)>4)and(GetUnitLifePercent(m5)<80.))or(GetUnitLifePercent(m5)<55.))and(TD7(it,852526,1093678422))
endif
elseif(i1==1332963428)then
if(GetHeroLevel(it)>2)then
if((m5==null)and(G0[128+O5]))then
set m5=SK7(900.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)>60.))then
set J4=((SP7(600.,m5,Condition(function YT7))>0)or((SP7(800.,m5,Condition(function YK7))==0)and(SP7(800.,m5,Condition(function Ko))==0)and(GetUnitManaPercent(it)>65.)))and(S27(it,852227,1093678169,m5))
endif
if((not J4)and(GetHeroLevel(it)>8)and(m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<80.)and(IsUnitInRange(it,m5,600.)))then
set J4=(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5])and(SO7(600.,b5,Condition(function YM7))>0)and(S27(it,852480,1093677649,m5))
endif
if((not J4)and(GetHeroLevel(it)>11)and(m5!=null)and(kq(GetUnitTypeId(m5))))then
set J4=S27(it,852095,1093816137,m5)
endif
if(GetUnitLifePercent(it)<85.)then
if((m5==null)and(GetUnitManaPercent(it)>70.)and(SO7(1200.,b5,Condition(function k6))==0))then
set m5=SK7(600.,b5,Condition(function KA))
endif
set J4=(m5!=null)and(S27(it,852119,1093683019,m5))
endif
endif
elseif(i1==1332109682)then
if((G0[128+O5])and(SR7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and((GetUnitLifePercent(m5)<70.)or(GetUnitAbilityLevel(m5,1112432994)>0)or(Bz>hq[O5]))and(not IsUnitInRange(it,m5,300.))and(IsUnitInRange(it,m5,700.)))then
set J4=((SP7(800.,m5,Condition(function Y17))-SP7(800.,m5,Condition(function YM7)))<=1)and(RAF(it,m5))
endif
if(GetHeroLevel(it)>4)then
if((m5==null)and(G0[128+O5])and(GetUnitManaPercent(it)>40.))then
set m5=SK7(800.,b5,Condition(function k6))
endif
else
call SetPlayerAbilityAvailable(pl,1093678134,false)
endif
if((not J4)and(m5!=null)and((GetHeroLevel(it)>5)or(SE7(m5))))then
set J4=((GetUnitManaPercent(it)>30.)and(S27(it,852662,1093678134,m5)))or((GetUnitLifePercent(m5)<50.)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(TD7(it,852588,1093810505)))
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))then
set J4=(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(SO7(600.,b5,Condition(function YK7))>0)and(Kz(600.,b5)>1)and(TD7(it,852588,1093810505))
if(not J4)then
set m5=SN7(800.,b5,Condition(function YP7))
set J4=((m5!=null)and(SP7(600.,it,Condition(function k6))>0)and(TD7(it,852588,1093810505)))
endif
endif
if((not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70.))and(IsUnitInRange(it,m5,300)))then
set J4=((GetUnitState(it,UNIT_STATE_MANA)>LRE(it,1093810505,GR7)+60)or(Bz+10<TC4[O5]))and(IssueImmediateOrderById(it,852164))
endif
if((not J4)and((GetUnitState(it,UNIT_STATE_MANA)>LRE(it,1093810505,GR7)+150))and(GetUnitAbilityLevel(it,1093808694)>1)and(SP7(400.,it,Condition(function X47))>3))then
set J4=(IssueImmediateOrderById(it,852164))
endif
elseif(i1==1211117640)then
if(h4[16+O5]!=null)then
if((S87(h4[16+O5]))and(GetUnitAbilityLevel(h4[16+O5],1110454606)>0))then
set J4=(RXF(it,h4[16+O5]))or(IssueTargetOrderById(it,852089,h4[16+O5]))
call R5F(it,h4[16+O5])
else
set h4[16+O5]=null
endif
elseif((m5!=null)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,500.))and((GetHeroLevel(it)>4)))then
set J4=(GetUnitAbilityLevel(m5,1110454606)==0)and(GetUnitState(it,UNIT_STATE_MANA)>250.)and(Bz>hq[O5])and(S27(it,852486,1093681989,m5))
endif
if((not J4)and(GetHeroLevel(it)>11)and(Bz>hq[16+O5])and(SO7(I2R(270+(250*GetUnitAbilityLevel(it,1093679428))),b5,Condition(function k6))>0))then
set GZ[O5]=true
set J4=J8(O5,TD7(it,852594,1093679428))
endif
if((not J4)and(GetHeroLevel(it)>5)and((m5!=null)or(GetUnitLifePercent(it)<70.)))then
if((m5==null)or(IsUnitIllusion(m5)))then
if(SO7(800.,b5,Condition(function k6))==0)then
set m5=SK7(500.,b5,Condition(function KA))
set J4=(m5!=null)and(GetUnitLifePercent(m5)>80.)and(T47(it,852487,1093681987,1093677658,m5))
endif
elseif((IsUnitInRange(it,m5,400.))and((GetUnitLifePercent(m5)<50.)or(GetUnitAbilityLevel(m5,1110454606)>0)))then
set J4=T47(it,852487,1093681987,1093677658,m5)
endif
if((not J4)and(iy(it)))then
call SetPlayerAbilityAvailable(pl,1093681987,true)
call SetPlayerAbilityAvailable(pl,1093677658,true)
endif
else
call SetPlayerAbilityAvailable(pl,1093681987,false)
call SetPlayerAbilityAvailable(pl,1093677658,false)
endif
elseif(i1==1430468406)then
call SetPlayerAbilityAvailable(pl,kT(it),(GetHeroLevel(it)>10)and((GetUnitManaPercent(it)>60.)or(m5!=null)))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SK7(1000.,b5,Condition(function k6))
endif
if((m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>40.))or(S97(m5,it))))then
set J4=S27(it,852218,kT(it),m5)
endif
if((not J4)and(GetHeroLevel(it)>5)and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(G0[128+O5]))then
set J4=(Kz(500.,b5)>1)and(hq[416+O5]>Bz)and(IssueImmediateOrderById(it,852556))
if((not J4)and(m5!=null)and(SR7(it,ZU[RW]))and(G0[128+O5])and(GetHeroLevel(it)>13)and(GetUnitLifePercent(it)>70.)and(GetUnitManaPercent(it)>30.))then
set h4[16+O5]=m5
set J4=RAF(it,m5)
endif
endif
elseif(i1==1160786241)then
if(GetUnitManaPercent(it)<50.)then
if(GetUnitAbilityLevel(it,1110455882)>0)then
call IssueImmediateOrderById(it,852178)
endif
call SetPlayerAbilityAvailable(pl,1093684805,false)
elseif((GetHeroLevel(it)>12)and(GetUnitManaPercent(it)>70.))then
call SetPlayerAbilityAvailable(pl,1093684805,true)
if((GetUnitAbilityLevel(it,1110455882)==0)and(hG[O5]>14)and(not D4 and not RZ4))then
call IssueImmediateOrderById(it,852177)
endif
endif
call SetPlayerAbilityAvailable(pl,1093684813,(m5==null)and(GetHeroLevel(it)>7)and(SO7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>70.))
if(m5!=null)then
set J4=((GetHeroLevel(it)>4)or(S97(m5,it)))and((((GetUnitCurrentOrder(m5)==851973)or(IsUnitInRange(it,m5,200.)))and(not IsUnitIllusion(m5))and(S27(it,852089,1093684815,m5)))or((GetUnitLifePercent(m5)<70.)and(S27(it,852119,1093684813,m5))))
if((not J4)and(GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not kr(it)))then
set UP=Kz(700.,S07(m5))
if((UP>2)or((UP>1)and(SO7(700.,b5,Condition(function YK7))>0)))then
set J4=((SO7(700.,b5,Condition(function YK7))>0)and(S27(it,852119,1093684813,m5)))or(T47(it,852597,1093684820,1093684824,m5))
endif
endif
endif
elseif(i1==1429221456)then
if((m5!=null)and(GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(Bz>hq[O5]))then
set UP=Kz(700.,S07(m5))
if((UP>2)or((UP>1)and(SO7(730.,b5,Condition(function YM7))>0)))then
set J4=T47(it,852089,1093685067,1093752407,m5)
endif
endif
elseif(i1==1160786243)then
call SetPlayerAbilityAvailable(pl,1093678672,GZ[O5])
set m5=SK7(600.,b5,Condition(function YP7))
if(m5==null)then
set m5=SK7(500.,b5,Condition(function YK7))
endif
set J4=(m5!=null)and(GetUnitLifePercent(m5)<60.)and(SO7(900.,b5,Condition(function k6))>0)and(IssueTargetOrderById(it,852248,m5))
set m5=h4[O5]
if((not J4)and(m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.)and(GetUnitLifePercent(it)>70.))then
set m5=SK7(800.,b5,Condition(function k6))
endif
if(not J4)then
set J4=((GetUnitLifePercent(it)<65.)and(IssueTargetOrderById(it,852248,it)))or((m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))or(S97(m5,it)))and(IssueTargetOrderById(it,852248,m5)))
endif
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5))then
set UP=Kz(700.,S07(m5))
if((UP>2)or(GetUnitLifePercent(m5)<50.)or((UP>1)and(SP7(700.,m5,Condition(function YM7))>0)))then
set GZ[O5]=true
set J4=J8(O5,S27(it,852224,1395667000,m5))
endif
if((not J4)and(S97(m5,it))and(GetHeroLevel(it)>10)and(GetUnitLifePercent(it)>60.)and(SP7(700.,m5,Condition(function YM7))>0))then
if((not IsUnitInRange(it,m5,250.))and(SR7(it,ZU[RW]))and(G0[128+O5])and(Bz>hq[16+O5]))then
set J4=RAF(it,m5)
endif
if(not J4)then
set GZ[O5]=true
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[O5])-GetUnitY(it),GetUnitX(h8[O5])-GetUnitX(it)))
call SetPlayerAbilityAvailable(pl,1093678672,true)
set J4=J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD)))
endif
endif
endif
elseif(i1==1160786242)then
call SetPlayerAbilityAvailable(pl,1093683287,(GetHeroLevel(it)>3)or((m5!=null)and(S97(m5,it))))
set J4=(m5!=null)and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.)and(IssueTargetOrderById(it,852662,m5))
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))then
set m5=Ie(bj_mapInitialPlayableArea,Condition(function k7))
set J4=(m5!=null)and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<50+(15*GetHeroLevel(it)))and(IssueImmediateOrderById(it,852490))
endif
if((not J4)and(Bz<=hq[240+O5])and((hq[240+O5]-Bz)<2.5)and(not IC(O5))and(not Id(O5)))then
set m5=SN7(2500.,b5,Condition(function k7))
set J4=(m5!=null)and(SI7(m5,it))and(not IsUnitInRange(m5,it,800.))and((SP7(800.,m5,Condition(function k6))-SP7(800.,m5,Condition(function YM7))<=1))and(SP7(1000.,m5,Condition(function Y87))==0)and(IssueTargetOrderById(it,852185,m5))
endif
elseif((i1==1211117641)or(i1==1211117642))then
if(i1==1211117642)then
set J4=((not IsUnitInRange(it,M7[O5],3000.))and(IssueTargetOrderById(it,852553,M7[O5])))or(((eY[O5]==2)or(G0[16+O5]))and(S57(it,851986,h9[O5])))
if((not J4)and(kA(it,M7[O5],800.)))then
call S57(it,851986,h9[O5])
endif
set UP=1
else
set UP=0
endif
if(not J4)and(h4[O5]!=null)and(not DX9(m5))then
set J4=R6F(it,m5)
endif
if(not J4)then
if(h4[O5]!=null)and(DX9(m5))and(IsUnitInRange(it,m5,300))then
set J4=IssuePointOrderByIdLoc(it,852553,S07(m5))
endif
if not J4 then
set X07=Z47(300,it,Condition(function X47))
set J4=(X07!=null)and(GetUnitManaPercent(it)>=65.)and(GetHeroLevel(it)>=12)and(GetRandomReal(0,100)<=75 and IssuePointOrderByIdLoc(it,852553,S07(m5)))
endif
endif
if((not J4)and(GetHeroLevel(it)>8)and(m5!=null)and(GetUnitAbilityLevel(m5,1110456120)==0))then
if((Kz(700.,S07(m5))>1)or(SP7(500.,m5,Condition(function YM7))>UP))then
set J4=R6F(it,m5)
endif
endif
if((not J4)and(GetHeroLevel(it)>2)and(SO7(800.,b5,Condition(function YP7))>0))then
set m5=SK7(800.,b5,Condition(function k6))
set J4=(m5!=null)and(R6F(it,m5))
endif
if(not J4)and(i1==1211117641)and(GetUnitManaPercent(it)>70)and(SO7(300.,S07(it),Condition(function X47))>2)then
set J4=IssuePointOrderByIdLoc(it,852553,S07(m5))
endif
elseif(i1==1311781207)then
set J4=((GetUnitLifePercent(it)<80.)and(IssueTargetOrderById(it,852229,it)))or((m5!=null)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.)and(S27(it,852095,1093684817,m5)))
if((not J4)and(GetHeroLevel(it)>3))then
set m5=SK7(800.,b5,Condition(function YP7))
if(m5==null)then
set m5=SK7(600.,b5,Condition(function YK7))
endif
if((m5!=null)and(not IsUnitIllusion(m5)))then
set UP=R2I(GetUnitLifePercent(m5))
if((UP<50)and(GetHeroLevel(it)>10)and(Bz>hq[O5]))then
set J4=(SP7(800.,m5,Condition(function k6))>0)and((IssueTargetOrderById(it,852536,m5))or(IssueTargetOrderById(it,852229,m5)))
elseif(UP<70)then
set J4=(m5!=null)and(IssueTargetOrderById(it,852229,m5))
endif
elseif((GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>75.))then
set m5=SK7(600.,b5,Condition(function Kd))
set J4=(m5!=null)and(SP7(300.,m5,Condition(function k8))>1)and(IssueTargetOrderById(it,852229,m5))
endif
endif
elseif(i1==1311780946)then
call SetPlayerAbilityAvailable(pl,1093677385,(GetHeroLevel(it)>7)and(GetUnitManaPercent(it)>55.))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
set m5=SK7(700.,b5,Condition(function k6))
endif
if(m5!=null)then
set J4=(((GetUnitLifePercent(m5)<50.)or(IsUnitInRange(it,m5,250.)))and(S27(it,852488,1093685825,m5)))or((SP7(300.,it,Condition(function GR8))>1)and(TD7(it,852526,1093810232)))
if((not J4)and((GetUnitCurrentOrder(m5)==851973)or(IsUnitInRange(it,m5,300.))or(GetUnitLifePercent(m5)<50.)))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))
call SetPlayerAbilityAvailable(pl,1093677385,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852238,GetUnitX(m5)+150.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+150.*Sin(UP*bj_DEGTORAD)))
endif
endif
if(not J4)then
set m5=SN7(700.,b5,Condition(function YP7))
set J4=(m5!=null)and(SP7(400.,m5,Condition(function k6))>0)and(S27(it,852488,1093685825,m5))
endif
if((not J4)and(GetHeroLevel(it)>9)and((eY[O5]==3)or(eY[O5]==4)or(GetUnitManaPercent(it)>60.)))then
set m5=SN7(700.,b5,Condition(function k8))
set J4=(m5!=null)and(SP7(300.,m5,Condition(function k8))>2)and(SP7(400.,it,Condition(function GR8))>2)and(TD7(it,852526,1093810232))
endif
if((not J4)and(is(it))and(GetHeroLevel(it)>9))then
set UP=R2I(RE7(it,TG7(it)))
if((UP>2000)and(UP<3500)and(eY[O5]==1)and(GetUnitAbilityLevel(it,1093685808)>1))then
if(h8[16+O5]==h7[14])then
set J4=RJF(0)
elseif(h8[16+O5]==h7[35])then
set J4=RJF(1)
elseif(h8[16+O5]==h7[55])then
set J4=RJF(2)
endif
elseif(((eY[O5]==3)or(eY[O5]==4))and(UP>5000)and(SO7(1200.,b5,Condition(function k6))==0))then
set J4=RJF(3)
endif
endif
elseif((i1==1211117650)or(i1==1211119433))then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
set m5=SN7(700.,b5,Condition(function k6))
endif
if((h4[O5]!=null)or S97(it,m5))and(IsUnitInRange(it,m5,300.))then
set J4=(Bz>TC4[O5])and(TD7(it,852180,1093743946))
endif
if(not J4)and(Bz>TC4[48+O5])and((GZ[208+O5])or(GetUnitState(it,UNIT_STATE_MANA)>300.)or(h4[O5]!=null))then
set IN4=it
set X07=(Z47(225+175*GetUnitAbilityLevel(it,1093743958),it,Condition(function k6)))
set NP7=SP7(25+200+200*GetUnitAbilityLevel(it,1093743958),it,Condition(function k6))
set bj_forLoopAIndex=SO7(25+200+200*GetUnitAbilityLevel(it,1093743958),b5,Condition(function F28))
if((NP7>=1+PW7(SP7(800,it,Condition(function XI7))>=3,2,0)and(bj_forLoopAIndex>=R2I((10-0.1*GetUnitLifePercent(it)))or SP7(800,it,Condition(function XI7))>=3))and h4[O5]!=null)then
set J4=(SP7(800,it,Condition(function XI7))>=2 or(GetWidgetLife(X07)<=400. or GetUnitLifePercent(X07)<=30.))and S_7(it,852662,1093743958,b5)
endif
endif
if(not J4)and(Bz>TC4[32+O5])then
set IN4=it
set UP=SO7(1000.,b5,Condition(function ny))
if((not J4)and(UP>=4)and(h4[O5]!=null)and(GetUnitLifePercent(it)>50.))then
set m5=h4[O5]
set J4=(((GetHeroLevel(it)>4)and(GetUnitLifePercent(m5)<70.))or(S97(m5,it)))and(IssueTargetOrderById(it,852669,m5))
endif
if((not J4)and(UP>=4)and(GetUnitManaPercent(it)>40.))then
set m5=SK7(800.,b5,Condition(function YP7))
if(m5==null)then
set m5=SK7(600.,b5,Condition(function YK7))
endif
set J4=(m5!=null)and(((GetHeroLevel(it)>4)and(GetUnitLifePercent(m5)<70.))or(SE7(m5)))and(IssueTargetOrderById(it,852669,m5))
endif
if(not J4)then
set J4=(UP>=3)and(GetUnitLifePercent(it)<75.)and(IssueTargetOrderById(it,852669,it))
endif
endif
if(not J4)and((h4[O5]!=null)or(GetUnitState(it,UNIT_STATE_MANA)>400)or SE7(m5))and(GetUnitState(it,UNIT_STATE_MANA)>200)then
set J4=(Bz>TC4[16+O5])and(S27(it,852089,1093743955,h4[O5]))
endif
elseif(i1==1211119187)then
if(not J4)and(GetUnitLevel(it)>5)and(Bz>TC4[O5])and(h4[O5]!=null)then
if(not J4)and(CL7(it,h4[O5],650.,0.5,1300.)!=null)then
if((S97(it,h4[O5])or GetUnitLifePercent(h4[O5])<50.)and(RF7(GetUnitX(it),GetUnitY(it),GetLocationX(GM7),GetLocationY(GM7))>600.))then
set J4=S_7(it,852662,1093742923,GM7)
endif
endif
if(not J4)then
set m5=ZI7(it)
if(m5!=null)and(CL7(it,m5,650.,0.5,1300.)!=null)and(RF7(GetUnitX(it),GetUnitY(it),GetLocationX(GM7),GetLocationY(GM7))>600.)then
set J4=S_7(it,852662,1093742923,GM7)
endif
endif
if(not J4)then
set m5=h4[O5]
if(m5==null)then
set m5=Y27(1500.,it)
endif
if(m5!=null)and(GZ[208+O5]or(GetUnitLifePercent(it)<50.)or((GetUnitLifePercent(m5)<50)and(CL7(it,m5,650.,0.5,1300.)!=null)and(RF7(GetUnitX(it),GetUnitY(it),GetLocationX(GM7),GetLocationY(GM7))>600.)))then
set J4=S_7(it,852662,1093742923,S07(m5))
if J4 then
call CWE(O5,m5,false,false)
endif
endif
endif
endif
set m5=h4[O5]
if m5==null then
set m5=Y27(1300.,it)
endif
if(not J4)and(not IsUnitIllusion(m5))and(Bz>TC4[32+O5])and((Bz>TC4[16+O5])or(GetUnitAbilityLevel(it,1093742926)<=1)or(GetUnitState(it,UNIT_STATE_MANA)<=120.))and((h4[O5]!=null and GetUnitLifePercent(h4[O5])<50.)or((m5!=null)and(SE7(m5))))then
set J4=IssueTargetOrderById(it,852581,m5)
if J4 then
call CWE(O5,m5,false,false)
endif
endif
if(not J4)and(Bz>TC4[16+O5])and(TC4[32+O5]>Bz+2. or(GetUnitAbilityLevel(it,1093743414)>1 and h4[O5]==null)or(h4[O5]!=null and GetUnitLifePercent(h4[O5])>80.)or(GetUnitAbilityLevel(it,1093742926)<=1))and(m5!=null)and((h4[O5]!=null)or(S97(m5,it))or((GetUnitManaPercent(it)>50.)and(GetUnitLifePercent(m5)<70. or GetUnitState(it,UNIT_STATE_MANA)>400.)))then
if C07(it,m5,2.,1500.)!=null then
set J4=S_7(it,852089,1093743414,GM7)
set h4[16+O5]=m5
endif
endif
elseif(i1==1211117646)then
call SetPlayerAbilityAvailable(pl,1093685573,(GetHeroLevel(it)>6)and(GetUnitManaPercent(it)>70.)and(SO7(700.,b5,Condition(function k6))==0))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
set m5=SN7(700.,b5,Condition(function k6))
endif
if((m5!=null)and((GetUnitLifePercent(m5)<60.)or((GetHeroLevel(it)>4)and((GetUnitManaPercent(it)>60.)or(SP7(600.,m5,Condition(function YK7))>0)))))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))
call SetPlayerAbilityAvailable(pl,1093685573,true)
set J4=IssuePointOrderById(it,852089,GetUnitX(m5)+(50.+100.*GetUnitAbilityLevel(it,1093685573))*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+(50.+100.*GetUnitAbilityLevel(it,1093685573))*Sin(UP*bj_DEGTORAD))
endif
if((not J4)and(GetHeroLevel(it)>6)and(GetUnitManaPercent(it)>50.)and(GetRandomInt(1,4)==1))then
set m5=SK7(700.,b5,Condition(function Kd))
set J4=(m5!=null)and(GetUnitLifePercent(m5)>65.)and(IsUnitType(m5,UNIT_TYPE_MELEE_ATTACKER))and(SP7(250.,m5,Condition(function k8))>2)and(IssueTargetOrderById(it,852095,m5))
endif
if(not J4)then
set m5=SN7(700.,b5,Condition(function YP7))
set J4=(m5!=null)and(SP7(250.,m5,Condition(function k6))>0)and(S27(it,852101,1093685815,m5))
endif
if(not J4)then
set m5=SN7(700.,b5,Condition(function k7))
if(m5!=null)then
set m5=SN7(700.,S07(m5),Condition(function YK7))
set J4=((m5!=null)and(IsUnitAlly(m5,GetOwningPlayer(it)))and(S27(it,852101,1093685815,m5)))or(S27(it,852101,1093685815,it))
endif
endif
if((not J4)and(GetHeroLevel(it)>14.)and(Bz>hq[O5])and(hq[416+O5]>Bz))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=SN7(1000.,b5,Condition(function k7))
if(m5!=null)then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))
set J4=IssuePointOrderById(it,852190,GetUnitX(m5)+300*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+300*Sin(UP*bj_DEGTORAD))
else
set m5=SN7(1000.,b5,Condition(function k6))
if(m5!=null)then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h9[16+O5])-GetUnitY(m5),GetUnitX(h9[16+O5])-GetUnitX(m5)))
set J4=IssuePointOrderById(it,852190,GetUnitX(m5)+300*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+300*Sin(UP*bj_DEGTORAD))
endif
endif
endif
endif
elseif(i1==1211117624)then
call SetPlayerAbilityAvailable(pl,1093683024,(GetHeroLevel(it)>10)and((GetUnitManaPercent(it)>70.)or(m5!=null)))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
set m5=SN7(700.,b5,Condition(function k6))
endif
set J4=(m5!=null)and((IsUnitInRange(it,m5,600.))and((S97(m5,it))or(GetUnitState(it,UNIT_STATE_MANA)>100 and GetUnitManaPercent(it)>40)or(GetUnitLifePercent(m5)<60))and(TD7(it,852526,1093683024)))
set J4=(m5!=null)and(((GetUnitLifePercent(m5)<40.)or((GetUnitAbilityLevel(m5,1110454869)==0)and(hq[416+O5]>Bz)))and(IssueTargetOrderById(it,852600,m5)))
elseif(i1==1160785973)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SK7(600.,b5,Condition(function k6))
if((m5==null)and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>30.)and(SR7(it,ZU[RW])))then
set m5=SK7(1200.,b5,Condition(function k6))
endif
endif
if(m5!=null)then
if((GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(G0[128+O5]))then
if(IsUnitInRange(m5,it,500.))then
set UP=SO7(700.,b5,Condition(function k8))-SO7(700.,b5,Condition(function k6))
set J4=(UP<2)and(GetUnitAbilityLevel(m5,1110454580)==0)and(IssueImmediateOrderById(it,852600))
if J4 then
call TriggerSleepAction(0)
call S27(it,852231,1093678130,m5)
endif
elseif((SR7(it,ZU[RW]))and(G0[128+O5])and(IsUnitInRange(m5,it,1000.))and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>30.))then
set UP=SP7(700.,m5,Condition(function k8))-SP7(700.,m5,Condition(function k6))
set h4[16+O5]=m5
set J4=(UP<2)and(GetUnitAbilityLevel(m5,1110454580)==0)and(RAF(it,m5))
endif
endif
if((not J4)and(S97(m5,it)))then
set J4=(S27(it,852231,1093678130,m5))
endif
if((not J4)and(GetHeroLevel(it)>20))then
set J4=(GetUnitState(it,UNIT_STATE_MANA)>450.)and(S27(it,852231,1093678130,m5))
endif
endif
elseif(i1==1315988077)then
if((G0[128+O5])and(SR7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.)))then
set J4=((SP7(800.,m5,Condition(function Y17))-SP7(800.,m5,Condition(function YM7)))<=1)and(RAF(it,m5))
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>2))then
set J4=((S97(m5,it))and(S27(it,852585,1097032808,m5)))or((IsUnitInRange(it,m5,200.))and(TD7(it,852096,1093678669)))
endif
call SetPlayerAbilityAvailable(pl,1093678669,(GetHeroLevel(it)>12)and(SO7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))
if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(G0[128+O5]))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=SN7(800.,b5,Condition(function k6))
if(m5!=null)then
set J4=((kq(GetUnitTypeId(m5)))and(S27(it,852585,1097032808,m5)))or((IsUnitInRange(it,m5,200.))and(TD7(it,852096,1093678669)))
endif
endif
endif
elseif(i1==1211117616)then
if((G0[128+O5])and(SR7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.)))then
set J4=((SP7(800.,m5,Condition(function Y17))-SP7(800.,m5,Condition(function YM7)))<=1)and(RAF(it,m5))
endif
if((not J4)and(m5!=null)and IsUnitInRange(it,m5,500))then
set J4=((GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.)and((GetUnitState(m5,UNIT_STATE_LIFE)+1000.)<GetUnitState(it,UNIT_STATE_LIFE))and(S27(it,852231,1093816142,m5)))or((IsUnitInRange(it,m5,200.))and(GetHeroLevel(it)>3)and(TD7(it,852127,1093677139)))
elseif(not J4)and(m5==null or(not IsUnitInRange(it,m5,800)))then
set X07=XQ7(300,190,it,0,Condition(function X47),Condition(function WC7))
set J4=(X07!=null)and(GetUnitLifePercent(it)>=70. or GetWidgetLife(it)>950.)and(GetHeroLevel(it)>=4)and(GetRandomReal(0,100)<=40 and S27(it,852231,1093816142,X07))
endif
call SetPlayerAbilityAvailable(pl,1093677139,(GetHeroLevel(it)>12)and(SO7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))
if(not J4)then
set X07=SN7(800.,b5,Condition(function X97))
if(GetUnitLifePercent(it)<20.)or(((G0[256+O5])and GetUnitState(it,UNIT_STATE_LIFE)>=300. and X07!=null and GetUnitLifePercent(X07)<=70.))then
set J4=IssueImmediateOrderById(it,852526)
if(h4[O5]==null or(not IsUnitInRange(it,h4[O5],1500)))and GetUnitLifePercent(it)>30. then
set h4[O5]=PS7(((m5!=null or X07==null)and(IsUnitInRange(m5,it,1000))and(GetUnitState(m5,UNIT_STATE_LIFE)<GetUnitState(X07,UNIT_STATE_LIFE))),m5,X07)
endif
endif
endif
elseif(i1==1315074670)then
if((m5!=null)and(GetUnitManaPercent(it)>60.)and(kP(GetUnitTypeId(m5)))and(GetUnitCurrentOrder(it)!=851983))then
set J4=S27(it,852592,1093685570,m5)
endif
if((m5==null)and(not J4)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SK7(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(not IsUnitInRange(it,m5,550.))and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and(S27(it,852243,1093677622,m5))
if((not J4)and(SR7(it,ZU[C0]))and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>50.)and(G0[128+O5]))then
if((m5==null)and(GetUnitLifePercent(it)>70.))then
if((eY[O5]==9)and(h4[144+O5]!=null)and(S87(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))then
set m5=h4[144+O5]
else
set m5=SK7(1500.,b5,Condition(function KK))
endif
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(not kD(m5))and(not SR7(m5,ZU[EW]))and(GetUnitTypeId(m5)!=1212365106)and(not IsUnitInRange(it,m5,800.))and(IsUnitInRange(it,m5,1500.))and(SP7(600.,m5,Condition(function YT7))>0)or((GetUnitLifePercent(m5)<75.)and(SP7(1000.,m5,Condition(function Y87))==0)))then
set h4[288+O5]=m5
set GZ[272+O5]=true
set J4=UnitUseItem(it,SV7(it,ZU[C0]))
set GZ[272+O5]=J4
endif
endif
elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))then
call SetPlayerAbilityAvailable(pl,1093677894,(GetHeroLevel(it)>6)and(GetUnitManaPercent(it)>60.))
if((m5==null)and(G0[128+O5]))then
if(i1!=1215063922)then
set m5=SK7(1000.,b5,Condition(function k6))
call CWE(O5,m5,false,false)
elseif((GetHeroLevel(it)>3)and(GetUnitManaPercent(m5)>70.))then
set m5=SK7(700.,b5,Condition(function k6))
endif
endif
set J4=(m5!=null)and((GetUnitLifePercent(m5)<60)or(h4[O5]!=null))and(S27(it,852095,1093681490,m5))
set J4=(m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>40.))or(SE7(m5)))and(S27(it,852580,1093677894,m5))
if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(900.,it,Condition(function k6))
set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(TD7(it,852180,1093677895))
endif
endif
elseif(i1==1164207469)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>5))then
set m5=SK7(800.,b5,Condition(function k6))
endif
if((m5!=null)and(GetHeroLevel(it)>5))then
set IJ4=0.35+0.25*GetUnitAbilityLevel(it,1093682483)
if(not IsUnitIllusion(m5))and(not IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))and(GetWidgetLife(m5)<0.75*IJ4*(GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA)))then
set J4=(not ke(m5))and(S27(it,852095,1093682483,m5))
endif
if((not J4)and(GetUnitLifePercent(m5)<70.)and(G0[128+O5])and(not IsUnitInRange(m5,it,300.))and(GetUnitLifePercent(it)>70.)and(SP7(800.,m5,Condition(function Y87))==0)and((SP7(800.,m5,Condition(function Y17))-SP7(800.,m5,Condition(function YM7)))<=1))then
set TCF=kL(it,m5,200.)
set J4=(TCF!=null)and(IssuePointOrderByIdLoc(it,852525,TCF))
endif
endif
if((not J4)and(GetHeroLevel(it)>11.)and(GetUnitManaPercent(it)>70.)and(iy(it))and(SO7(1400.,b5,Condition(function Ky))==0)and(eY[O5]==1))then
set TCF=kk(it,800.,h8[O5])
set J4=(TCF!=null)and(IssuePointOrderByIdLoc(it,852525,TCF))
endif
elseif(i1==1433631084)then
call SetPlayerAbilityAvailable(pl,1093678644,(GetHeroLevel(it)>7)and(GetUnitManaPercent(it)>70.))
if((GetHeroLevel(it)>5)and(Bz>hq[O5]))then
if(m5==null)then
set m5=SK7(1200.+(500.*GetUnitAbilityLevel(it,1093678160)),b5,Condition(function k7))
endif
set J4=(m5!=null)and(not IsUnitIllusion(m5))and(not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(200+(150*GetUnitAbilityLevel(it,1093678160))))and(S27(it,852095,1093678160,m5))
if((not J4)and(hq[416+O5]>Bz)and(GetHeroLevel(it)>10)and(SO7(800.,b5,Condition(function YM7))>0))then
if(m5==null)then
set m5=SK7(1200.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(not IsUnitIllusion(m5))and(S27(it,852095,1093678160,m5))
endif
endif
elseif(i1==1214345830)then
call SetPlayerAbilityAvailable(pl,1093679190,SO7(1000.,b5,Condition(function k6))>0)
set m5=SK7(800.,b5,Condition(function YP7))
if(m5==null)then
set m5=SK7(600.,b5,Condition(function YK7))
endif
if((m5!=null)and(GetUnitLifePercent(m5)<70.))then
set J4=(((GetHeroLevel(it)>4)or(S97(m5,it)))and(S27(it,852225,1093679182,m5)))or((GetUnitLifePercent(m5)<40.)and(SP7(600.,m5,Condition(function k6))>0)and(S27(it,852186,1093679190,m5)))
endif
if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(G0[128+O5]))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
set J4=(m5!=null)and(GetUnitLifePercent(m5)<60.)and(SP7(600.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852599))
endif
endif
if(not J4)then
set J4=(GetUnitLifePercent(it)<75.)and(S27(it,852225,1093679182,it))
endif
if((not J4)and(GetHeroLevel(it)>10))then
set m5=SK7(450.,b5,Condition(function Y87))
if((m5!=null)and(GetUnitLifePercent(m5)<30.)and(GetUnitLifePercent(m5)>10.))then
set J4=(SO7(600.,b5,Condition(function KC))>4)and(IssueImmediateOrderById(it,852599))
endif
endif
elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))then
if((m5==null)and(G0[128+O5]))then
set m5=SK7(700.,b5,Condition(function k6))
if(GetUnitAbilityLevel(it,1110454338)>0 or S97(it,m5))then
call CWE(O5,m5,false,false)
endif
endif
if(not J4)and(h4[O5]!=null)then
if(i1==1311781174)then
set J4=(IsUnitInRange(it,h4[O5],500.)and(TD7(it,852526,1093748042)))
else
set J4=(IsUnitInRange(it,h4[O5],200.)and(TD7(it,852526,1093748042)))
endif
endif
if(not J4)and(h4[O5]!=null)then
if(i1==1311781174)then
set J4=S27(it,852218,1093808461,m5)
else
set J4=(IsUnitInRange(it,h4[O5],400.)and(TD7(it,852096,1093808462)))
endif
endif
if(not J4)then
if(m5!=null)and(IsUnitInRange(it,m5,200.))then
if(i1==1311781174)then
set J4=(TD7(it,852138,1093681733))
if J4 then
set i1=1311781175
endif
endif
elseif(m5!=null)and((GetUnitLifePercent(m5)<15.)or((not G0[256+O5])and(PE7(it)<2000.)))then
if(i1!=1311781174)then
set J4=(TD7(it,852139,1093681733))
if J4 then
set i1=1311781174
endif
endif
elseif(h4[O5]!=null)and(not IsUnitInRange(it,m5,200.))and(Bz>TC4[32+O5])then
if(i1!=1311781174)then
set J4=(TD7(it,852139,1093681733))
if J4 then
set i1=1311781174
endif
endif
elseif(GetHeroLevel(it)>=6 or h4[O5]!=null)and(SZ7(it,ZU[D0]))then
set J4=(i1==1311781174)and(TD7(it,852138,1093681733))
else
set J4=(i1!=1311781174)and(TD7(it,852139,1093681733))
endif
endif
elseif(i1==1315007329)then
set J4=GetUnitAbilityLevel(it,1110455864)>0
if((m5==null)or(GetUnitLifePercent(m5)>50.))then
set m5=K3(1000.,it,Condition(function k6))
endif
if((not J4)and(m5!=null))then
set J4=(((GetUnitState(m5,UNIT_STATE_LIFE)<hq[272+O5])or((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>55.)))and(S27(it,852095,1093677108,m5)))or((GetUnitAbilityLevel(m5,1110454348)==0)and((GetUnitLifePercent(m5)<75.)or((GetHeroLevel(it)>11)and(GetUnitState(it,UNIT_STATE_MANA)>250.)))and(not IsUnitIllusion(m5))and(S27(it,852149,1093681716,m5)))
endif
if((not J4)and(GetHeroLevel(it)>8)and(G0[128+O5])and(Bz>hq[O5]))then
if((m5==null)and(GetUnitLifePercent(it)>70.))then
if((eY[O5]==9)and(h4[144+O5]!=null)and(S87(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))then
set m5=h4[144+O5]
else
set m5=SN7(1500.,b5,Condition(function KK))
endif
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(not kD(m5))and(GetUnitTypeId(m5)!=1212365106)and((not IsUnitInRange(it,m5,600.))or(not IsUnitVisible(it,GetOwningPlayer(m5))))and(IsUnitInRange(it,m5,1500.))and((GetUnitLifePercent(m5)<70.)or(SP7(650.,m5,Condition(function YT7))>0)))then
set h4[288+O5]=m5
set J4=(SP7(800.,m5,Condition(function Y87))==0)and(IssueImmediateOrderById(it,852129))
endif
endif
elseif(i1==1332898670)then
call SetPlayerAbilityAvailable(pl,1093677360,(GetHeroLevel(it)>7)and(GetUnitManaPercent(it)>60.))
if((m5==null)and(G0[128+O5]))then
set m5=SK7(900.,b5,Condition(function k6))
endif
if((m5!=null)and((S97(m5,it))or((GetUnitLifePercent(m5)<70.)and(SP7(500.,m5,Condition(function YK7))>0))))then
set J4=(IsUnitInRange(it,m5,400)or DX9(m5))and(S27(it,852480,1093677136,m5))
endif
if((not J4)and(m5!=null)and((GetHeroLevel(it)>3)or(S97(m5,it))))then
set J4=((GetUnitLifePercent(m5)<70.)and(Bz>hq[O5])and(not IsUnitIllusion(m5))and(S27(it,852502,1093685848,m5)))or((GetUnitManaPercent(it)>60.)and(S27(it,852587,1093677360,m5)))
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
if((m5==null)or(GetUnitCurrentOrder(m5)!=851973)or(not IsUnitInRange(it,m5,500.)))then
set m5=SK7(900.,b5,Condition(function KM))
endif
if(m5!=null)then
set GZ[O5]=true
set J4=J8(O5,T47(it,852504,1093677128,1093681457,m5))
endif
endif
if((not J4)and(GetHeroLevel(it)>17)and(Bz>hq[O5]))then
set m5=SN7(900.,b5,Condition(function Y87))
if((m5!=null)and(GetUnitLifePercent(m5)<55.)and(GetUnitLifePercent(m5)>15.)and(SP7(800.,m5,Condition(function KC))>2))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))
set GZ[O5]=true
call SetPlayerAbilityAvailable(pl,1093677128,true)
call SetPlayerAbilityAvailable(pl,1093681457,true)
set J4=IssuePointOrderById(it,852504,GetUnitX(m5)+300.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+300.*Sin(UP*bj_DEGTORAD))
set GZ[O5]=false
endif
endif
elseif(i1==1215723364)then
call SetPlayerAbilityAvailable(pl,1093744463,GetUnitManaPercent(it)>60.)
if((m5!=null)and((GetHeroLevel(it)>4)or(S97(m5,it))))then
set J4=S27(it,852095,1093677633,m5)
if((not J4)and(GetUnitLifePercent(m5)<60.)and(not IsUnitIllusion(m5))and(kA(it,m5,600.)))then
set J4=T47(it,852587,1093683534,1093747031,m5)
endif
endif
if((not J4)and(Bz>hq[O5])and(Bz>hq[16+O5])and(G0[128+O5])and(GetHeroLevel(it)>10)and(GetUnitLifePercent(it)>80.)and(SO7(400.,b5,Condition(function YM7))>0))then
if(m5==null)then
set m5=K3(1000.,it,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<70.)and(not IsUnitInRange(it,m5,500.)))then
if((SP7(500.,m5,Condition(function k6))<=2)and(SO7(500.,b5,Condition(function k6))==0))then
set J4=T47(it,852587,1093683534,1093747031,m5)
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>12)and(GetUnitLifePercent(it)>60.))then
set J4=(SO7(700.,b5,Condition(function k6))>0)and(SO7(700.,b5,Condition(function YM7))>0)and(S27(it,OrderId("volcano"),1093744463,m5))
endif
elseif(i1==1215128178)then
set U7F=.03+.02*GetUnitAbilityLevel(it,1093684789)
set T_F=(GetHeroLevel(it))
set T5F=GetUnitAbilityLevel(it,1093677616)
set X07=Z47(750,it,Condition(function X47))
set m5=Z47(850,it,Condition(function k6))
set T2F=U7F*GetWidgetLife(X07)
if X07==null or(GetWidgetLife(X07)>70+T5F*15+PC7(T5F==4,15,0)+T2F+GetRandomReal(0,25))then
set X07=PS7(m5!=null,m5,X07)
endif
if T_F<=8 then
set U4F=PG7(it,70.,200,NT7)and((X07!=null and IsUnitType(X07,UNIT_TYPE_HERO)==false and GetWidgetLife(X07)<=125.)or(m5!=null and(GetUnitLifePercent(m5)<=30 or GetWidgetLife(m5)<300.)))
else
set T2F=U7F*GetWidgetLife(m5)
set U4F=(PG7(it,50.,500,NT7)and(SP7(1000,it,Condition(function X47))>2 or SP7(800,it,Condition(function k6))>=1))or((m5!=null)and((GetUnitState(it,UNIT_STATE_MANA)>60+5*T5F and GetWidgetLife(m5)<=T2F+70+T5F*15+PC7(T5F==4,15,0)+GetRandomReal(200,400))or(GetUnitState(it,UNIT_STATE_MANA)>=60+5*T5F+55+20*GetUnitAbilityLevel(it,1093683779)and GetWidgetLife(m5)<=600)))
endif
call SetPlayerAbilityAvailable(pl,1093677616,(GetHeroLevel(it)>=3)and U4F)
if(GetUnitLifePercent(m5)<30. or GetWidgetLife(m5)<300.)and X07!=m5 then
set X07=m5
endif
if X07==null then
set X07=Z47(650,it,Condition(function X47))
endif
set J4=U4F and(X07!=null)and IssueTargetOrderById(it,852119,X07)
set m5=Z47(850,it,Condition(function k6))
set UP=GetUnitAbilityLevel(it,1093810503)
if(UP==0)then
set UP=GetUnitAbilityLevel(it,1093810504)+1
endif
set EI7=90+(120*UP)
if((GetHeroLevel(it)>5)and(Bz>hq[O5])and((Ie(bj_mapInitialPlayableArea,Condition(function RCF))!=null)or(PT4)))then
set GZ[O5]=true
call SetPlayerAbilityAvailable(pl,1093810504,true)
set J4=(not J4)and J8(O5,TD7(it,852164,1093810503))
endif
if((not J4)and(GetHeroLevel(it)>4))then
if((m5==null)and(G0[128+O5]))then
set m5=SK7(1000.,b5,Condition(function k6))
endif
set J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(S97(m5,it)))and(S27(it,852095,1093683779,m5))
endif
elseif(i1==1164799855)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SK7(800.,b5,Condition(function k6))
endif
set J4=((GetUnitLifePercent(it)<60.)and(TD7(it,852556,1093677378)))or((m5!=null)and(GetUnitLifePercent(m5)<50.)and(S27(it,852075,1093682264,m5)))or((m5!=null)and(GetUnitAbilityLevel(it,1093682265)>0)and(not IsUnitInRange(it,m5,550.))and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and(S27(it,852254,1093682265,m5)))or((m5!=null)and(GetUnitAbilityLevel(it,1093752642)>0)and(not IsUnitInRange(it,m5,700.))and(GetUnitManaPercent(it)>55.)and(GetRandomInt(1,2)==1)and(S27(it,852254,1093752642,m5)))
elseif(i1==1433105516)then
if((not J4)and(GetHeroLevel(it)>3))then
set J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(S97(m5,it)))and(IssueTargetOrderById(it,852662,m5))
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>7)and(((GetUnitLifePercent(m5)<75.)and(Bz>hq[O5]))or((GetUnitLifePercent(m5)<50.)and(Bz>hq[16+O5])))and(not kr(it))and(G0[128+O5]))then
set J4=(Kz(400.,S07(m5))>0)and(IssuePointOrderById(it,852600,GetUnitX(m5),GetUnitY(m5)))
endif
if((not J4)and(GetHeroLevel(it)>10.)and(Bz>hq[O5])and(hq[416+O5]>Bz))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=SN7(800.,b5,Condition(function k6))
if(m5!=null)then
set UP=SP7(400.,m5,Condition(function k6))
set J4=((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and(IssuePointOrderById(it,852600,GetUnitX(m5),GetUnitY(m5)))
endif
endif
endif
if((not J4)and(GetUnitAbilityLevel(it,1093744688)>0)and(GetUnitManaPercent(it)>50.)and GZ[O5])then
if(GetUnitAbilityLevel(it,1093744688)>1)then
set m5=SK7(600.,b5,Condition(function KD))
set J4=(m5!=null)and(IssueTargetOrderById(it,OrderId("thunderbolt"),m5))
elseif(GetUnitManaPercent(it)>70.)then
set m5=SK7(600.,b5,Condition(function KD))
set J4=(m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)<150.)and(IssueTargetOrderById(it,OrderId("thunderbolt"),m5))
endif
endif
if((not J4)and(GetUnitAbilityLevel(it,1093681713)>0)and(GetUnitManaPercent(it)>50.))then
set m5=SN7(500.,b5,Condition(function k6))
set J4=(m5!=null)and(S27(it,OrderId("channel"),1093681713,m5))
endif
endif
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
if(not J4)and((i1==1214409837)and(GetHeroLevel(it)>=6)and(Bz>TC4[O5])and(h4[O5]!=null))then
set J4=TD7(it,852180,1093742932)
if J4 then
set i1=1211119192
call R47(0.3)
set J4=false
endif
endif
if((not J4)and(GetHeroLevel(it)>5))then
set bj_lastLoadedUnit=m5
set m5=Ie(bj_mapInitialPlayableArea,Condition(function YP7))
if(m5!=null)and(GetUnitLifePercent(m5)<30)and(R57(m5))and(RE7(m5,TG7(m5))>RE7(it,TG7(it))+1500.)and(SP7(750.,m5,Condition(function k6))==0)and(not SR7(m5,ZU[QC]))then
set J4=(i1!=1214409837 or TD7(it,852180,1093742932))and(IssueTargetOrderById(it,852248,m5))
if J4 then
call R47(1.0)
call CTE(it,true)
endif
endif
set m5=bj_lastLoadedUnit
endif
if((not J4)and(h4[O5]!=null)and(Bz>TC4[32+O5]))then
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110455126)==0)and(not R97(m5,it,30)or SE7(m5))and(S27(it,852662,1093742680,m5))
endif
if((not J4)and(GetUnitManaPercent(it)>40.))then
set m5=SK7(700.,b5,Condition(function YK7))
set J4=(m5!=null)and(GetUnitManaPercent(m5)<75.)and(S27(it,OrderId("acolyteharvest"),1093742898,m5))
endif
if((not J4)and((GetUnitManaPercent(it)<50.)))then
set J4=S27(it,OrderId("acolyteharvest"),1093742898,it)
endif
if((not J4)and(G0[128+O5])and(GetUnitAbilityLevel(it,1093679157)>1)and((GetUnitManaPercent(it)>30.)or((SO7(1300.,b5,Condition(function k6))<=1)and((GetUnitState(it,UNIT_STATE_MANA)>150+LRE(it,1093742898,GR7))and(Bz>TC4[48+O5]))))and(Bz>TC4[16+O5])and((i1!=1214409837)or(((SO7(300.,b5,Condition(function k8))<=2)and(SO7(800.,b5,Condition(function X87))>2))and((SO7(500.,b5,Condition(function k6))==0)or(SO7(400.,b5,Condition(function YT7))>0)))))then
set m5=h4[O5]
if m5==null then
set m5=SK7(1300.,S07(it),Condition(function k6))
endif
if m5==null then
set m5=SK7(1300.,S07(it),Condition(function X47))
endif
if m5!=null then
set EI7=PO7(it,m5)
if(IsUnitType(m5,UNIT_TYPE_HERO)and((not S47(it))or DX9(m5))and GetUnitLifePercent(m5)>30)or(h4[O5]==null)then
set EI7=PO7(it,m5)
if(not CB7(it,m5,GetUnitX(it)+1300.*Cos(EI7*bj_DEGTORAD),GetUnitY(it)+1300.*Sin(EI7*bj_DEGTORAD),400,Condition(function k8)))and(bj_forLoopAIndex>2)then
set J4=IssuePointOrderById(it,852218,GetUnitX(it)+150.*Cos(EI7*bj_DEGTORAD),GetUnitY(it)+150.*Sin(EI7*bj_DEGTORAD))
endif
endif
endif
endif
if((not J4)and(h4[O5]!=null)and(i1!=1214409837))then
set EI7=GetUnitFacing(m5)
set J4=(m5!=null)and(IssuePointOrderById(it,852089,GetUnitX(m5)+200.*Cos(EI7*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(EI7*bj_DEGTORAD)))
endif
elseif(i1==1316252014)then
call SetPlayerAbilityAvailable(pl,1093678405,(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.)and((m5!=null)or(SO7(1500.,b5,Condition(function k6))>0)))
if(GetHeroLevel(it)>4)then
set J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(S97(m5,it)))and(S27(it,852585,1093678137,m5))
if(not J4)then
if(m5==null)then
set m5=SK7(2400.,b5,Condition(function k7))
endif
set J4=(m5!=null)and(TD7(it,852526,1093678405))
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>50.))then
set UP=0
if((Bz+10.)<hq[O5])then
set UP=UP+1
endif
if((Bz+10.)<hq[16+O5])then
set UP=UP+1
endif
if((Bz+10.)<hq[32+O5])then
set UP=UP+1
endif
if(((Bz+10.)<hq[80+O5])or((Bz+10.)<hq[96+O5]))then
set UP=UP+1
endif
if(((UP>1)and(SO7(800.,b5,Condition(function k6))==0))or((UP>2)and(GetUnitLifePercent(it)>50.)))then
set J4=IssueImmediateOrderById(it,852600)
endif
endif
elseif(i1==1164799603)then
call SetPlayerAbilityAvailable(pl,1095067246,(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>30.))
if(not J4)and(Bz>TC4[O5])and(GetUnitLevel(it)>=6)then
if GetUnitAbilityLevel(it,1093752632)>0 then
set EI7=105+GetUnitAbilityLevel(it,1093752632)*30
else
set EI7=116.25+GetUnitAbilityLevel(it,1093752633)*41.25
endif
set EM7=true
set m5=Ie(bj_mapInitialPlayableArea,Condition(function RCF))
if m5==null then
set EM7=false
if h4[O5]!=null then
set DU7=h4[O5]
endif
set m5=Y57(99999.,it)
set DU7=null
if m5==null then
set m5=Ie(bj_mapInitialPlayableArea,Condition(function X47))
endif
endif
if((m5!=null))then
if(EM7)or((not IsUnitType(m5,UNIT_TYPE_HERO))and((Bz-20>TC4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>300.)))or(IsUnitType(m5,UNIT_TYPE_HERO)and((GetUnitLifePercent(m5)<50. or(GZ[208+O5]and h4[O5]!=null)or((Bz-15>TC4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>200.)))))then
set J4=T47(it,852119,1093752632,1093752633,m5)
endif
endif
endif
if(is(it))then
if((RE7(it,TG7(it))<1500.)and(eY[O5]==1))then
if(h8[16+O5]==h7[14])then
set J4=RJF(0)
elseif(h8[16+O5]==h7[35])then
set J4=RJF(1)
elseif(h8[16+O5]==h7[55])then
set J4=RJF(2)
endif
elseif(((eY[O5]==3)or(eY[O5]==4))and(RE7(it,TG7(it))>6000.)and(SO7(1200.,b5,Condition(function k6))==0))then
set J4=RJF(3)
endif
endif
if(not J4)then
if(((m5==null)or(not S97(m5,it)))and(G0[128+O5]))then
set m5=K3(800.,it,Condition(function k7))
endif
set J4=(m5!=null)and(S97(m5,it))and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,600))and(S27(it,OrderId("carrionswarm"),1093808453,m5))
endif
elseif(i1==1328558160)then
if(SR7(it,ZU[E24]))then
call SetPlayerAbilityAvailable(pl,1093682998,false)
endif
if((GetUnitAbilityLevel(it,1093684056)>0)and(RE7(it,TG7(it))>2000.)and(GetUnitState(it,UNIT_STATE_MANA)>100.))then
if((GetHeroStr(it,true)>(30+(2*GetHeroLevel(it))))and(GetHeroStr(it,false)>(15+GetHeroLevel(it))))then
if(GetUnitLifePercent(it)>75.)then
set J4=IssueImmediateOrderById(it,852549)
else
set J4=S57(it,851986,h9[O5])
endif
elseif((GetHeroStr(it,true)<(20+(2*GetHeroLevel(it))))and(IsTriggerEnabled(UF7(GetHandleId(pl),"MorphAgi"))))then
set J4=IssueImmediateOrderById(it,852550)
endif
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>9)and(Bz>TC4[32+O5])and(SR7(it,ZU[E24]))and(Bz>TC4[208+O5])and(GetUnitState(it,UNIT_STATE_MANA)>315.))then
call CWE(O5,m5,false,false)
call SetPlayerAbilityAvailable(pl,1093682998,true)
set J4=UnitUseItemTarget(it,SV7(it,ZU[E24]),m5)
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>5))then
set J4=IssueTargetOrderById(it,852662,m5)
if((not J4)and(IsUnitInRange(it,m5,850.))and(not IsUnitInRange(it,m5,400.))and(GetUnitLifePercent(it)>75.)and((not IC(O5))or(GetUnitLifePercent(m5)<55.)))then
set TCF=kL(it,m5,200.)
if((TCF!=null)and((SO7(800.,TCF,Condition(function Y17))-SO7(800.,TCF,Condition(function YM7)))<=1)and(SO7(700.,TCF,Condition(function Y87))==0))then
call SetPlayerAbilityAvailable(pl,1093682766,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderByIdLoc(it,852218,TCF))
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>15)and(m5!=null)and(GetUnitAbilityLevel(it,1093683011)==0)and((GetUnitLifePercent(m5)<60.)or((SO7(600.,b5,Condition(function k6))>=2)and(SO7(600.,b5,Condition(function YK7))>0))))then
set m5=J8F(800.,it)
set J4=(m5!=null)and(S27(it,852274,1093683000,m5))
endif
elseif(i1==1212363833)then
call SetPlayerAbilityAvailable(pl,1093678643,(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>70.))
set UP=R2I(hq[16+O5]-Bz)
set J4=(m5!=null)and((GetHeroLevel(it)>13)or((GetHeroLevel(it)>4)and(GetUnitLifePercent(m5)<70.)))and((UP<=0)or(UP>50))and(S27(it,852095,1093809220,m5))
if(not J4)then
set h4[O5]=PS7(h4[O5]==null,m5,h4[O5])
set bj_lastLoadedUnit=it
set X07=PS7(h4[O5]!=null and SP7(450,h4[O5],Condition(function LD7))>0,h4[O5],Z47(99999,it,Condition(function LE7)))
set J4=((X07!=null and(PK7(X07,65,100+30*GetUnitAbilityLevel(it,1093815125)+300.,NS7)))or(SP7(450,it,Condition(function X47))>=3 and PG7(it,70.,500.,NT7)))and TD7(it,852526,1093815125)
endif
if((not J4)and(GetHeroLevel(it)>10)and(Bz>hq[32+O5]))then
set m5=SN7(800.,b5,Condition(function YP7))
set J4=(m5!=null)and(SP7(600.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852600))
endif
elseif(i1==1315070563)then
if(not GZ[O5])then
call SetPlayerAbilityAvailable(pl,1093678407,(GetHeroLevel(it)>4)and((not iy(it))or(GetHeroLevel(it)>11))and(GetUnitManaPercent(it)>70.))
endif
if((GetHeroLevel(it)>5)and(Bz>TC4[O5])and(G0[128+O5]))then
if(m5==null)then
set m5=SK7(700.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(not ke(m5)))then
set UP=SP7(600.,m5,Condition(function k6))+1
if(GetHeroLevel(it)<11)then
set J4=(GetUnitState(m5,UNIT_STATE_LIFE)<600.)and(UP>=SP7(700.,m5,Condition(function KA)))and(T47(it,852095,1093684529,1093747032,m5))
elseif((GetUnitState(m5,UNIT_STATE_LIFE)<1200.)or(UP>2)or((UP>1)and(SP7(600.,m5,Condition(function YK7))>0)))then
set J4=(UP>=SP7(700.,m5,Condition(function KA)))and(T47(it,852095,1093684529,1093747032,m5))
endif
endif
endif
elseif(i1==1214931305)then
set UP=GetHeroLevel(it)
call SetPlayerAbilityAvailable(pl,1093748025,(UP>9)and((GetUnitManaPercent(it)>55.)or(m5!=null)or(SO7(900.,b5,Condition(function k6))>0)))
set J4=(h4[O5]!=null)and(S27(it,852171,1093678147,m5))
if((m5==null)and(G0[128+O5])and(UP>3))then
set m5=SK7(1000.,b5,Condition(function k6))
endif
if(m5!=null)then
if((GetUnitState(it,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and((GetUnitState(it,UNIT_STATE_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))>(40*GetHeroLevel(it))))then
if((SR7(it,ZU[RW]))and(not IsUnitIllusion(m5))and(G0[128+O5])and(GetUnitLifePercent(it)>75.)and(GetHeroLevel(it)>10)and(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5]+120.)and(Bz>hq[O5]))then
set h4[16+O5]=m5
set J4=RAF(it,m5)
endif
if(not J4)then
set J4=((((UP>5)and(Bz>hq[O5])and(not IsUnitIllusion(m5))and(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5]+150.))or(GetUnitLifePercent(m5)<50.))and(S27(it,852171,1093678147,m5)))or((((GetUnitManaPercent(it)>55.)and(UP>3))or(S97(m5,it)))and(GetUnitAbilityLevel(m5,1110454583)==0)and(S27(it,OrderId("blizzard"),1093748025,m5)))
endif
if((not J4)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(Bz>hq[O5]))then
set J4=(Kz(500.,b5)>1)and(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5]+100.)and((GetUnitAbilityLevel(m5,1110454583)>0)or(SO7(850.,b5,Condition(function YM7))>0))and((SC7(it,ZU[D0]))or(IssueImmediateOrderById(it,852600)))
endif
endif
endif
elseif(i1==1328558389)then
if((m5==null)and(G0[128+O5]))then
set m5=SK7(1500.,b5,Condition(function k6))
endif
if((not J4)and(Bz>TC4[O5])and(not IsUnitIllusion(m5))and(GetUnitLevel(it)>=6)and(h4[O5]!=null)and(IsUnitInRange(it,m5,1200.))and((GetUnitLifePercent(m5)<60.)or((DX9(m5)or GZ[208+O5])and(GetUnitLifePercent(m5)<80.))))then
if DX9(m5)or(R97(it,m5,30))then
set J4=(IssuePointOrderByIdLoc(it,852600,S07(m5)))
endif
endif
if((not J4)and(m5!=null)and(Bz>TC4[32+O5])and(not IsUnitIllusion(m5))and(GetUnitAbilityLevel(it,1093747000)>1)and(((((GetUnitState(it,UNIT_STATE_MANA)>LRE(it,1093747000,GR7)+LRE(it,1093747009,GR7))and(Bz+10<TC4[O5]))or(GetUnitState(it,UNIT_STATE_MANA)>430))and(GetUnitLifePercent(m5)>40.))or(GetWidgetLife(m5)<80*GetUnitAbilityLevel(it,1093747000))))then
set J4=(S27(it,OrderId("volcano"),1093747000,m5))
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and(not G0[O5])and(IsUnitInRange(it,m5,300))and(GetUnitLifePercent(m5)<70.)and((GetUnitState(it,UNIT_STATE_MANA)>LRE(it,1093747009,GR7)+LRE(it,1093746993,GR7))or(Bz+10<TC4[O5]))then
set J4=(IssueImmediateOrderById(it,852581))
endif
elseif(i1==1328558390)then
if((m5==null))then
set m5=SK7(1200.,b5,Condition(function k6))
endif
if(not J4)and(h4[O5]!=null)and(Bz>TC4[O5])and(GetUnitLevel(it)>=6)and(GetUnitLifePercent(m5)<60.)then
set J4=(S27(it,852119,1093744975,m5))
endif
if(not J4)and(h4[O5]!=null)and(Bz>TC4[48+O5])and(SE7(m5))and(not IsUnitInRange(it,m5,400.))and(GetUnitState(it,UNIT_STATE_MANA)>LRE(it,1093744982,GR7)+100)then
call TD7(it,852180,1093744986)
call R47(0.1)
endif
if(not J4)and(Bz>TC4[16+O5])and(GetUnitLevel(it)>=4)and((GetUnitState(it,UNIT_STATE_MANA)>390.)or((h4[O5]!=null)and(GetUnitState(it,UNIT_STATE_MANA)>100+LRE(it,1093744982,GR7)))or(GetUnitLifePercent(m5)<70.))then
set J4=(S27(it,852089,1093748044,m5))
endif
if(not J4)and(Bz>TC4[32+O5])and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70.)or(GetUnitState(it,UNIT_STATE_MANA)>=400.))then
if(CL7(it,m5,750,0.2,1500)!=null)then
set J4=(S_7(it,852218,1093744982,GM7))
endif
endif
if(not J4)and(Bz>TC4[32+O5])and(h4[O5]==null)and(GetUnitAbilityLevel(it,1093744982)>1)and((GetUnitState(it,UNIT_STATE_MANA)>=400.)or(GetUnitLifePercent(m5)<70.))then
if((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[128+O5])and(not G0[48+O5])and(SO7(400.,b5,Condition(function k8))==0))then
set UP=R2I(RF7(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
if(GetRandomInt(1,2)==1)then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-25
else
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+25
endif
set J4=IssuePointOrderById(it,851986,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))
endif
endif
elseif(i1==1160786510)then
if(not J4)and(Bz>TC4[O5])and(GetUnitLevel(it)>=6)then
if GetUnitAbilityLevel(it,1093808949)>0 then
set EI7=150+GetUnitAbilityLevel(it,1093808949)*37.5
set UP=99999
elseif GetUnitAbilityLevel(it,1093751861)>0 then
set EI7=150+GetUnitAbilityLevel(it,1093751861)*37.5
set UP=1000
else
set UP=0
endif
if UP!=0 then
set EM7=true
set m5=SK7(UP,GetUnitLoc(it),Condition(function RCF))
if m5==null then
set EM7=false
if h4[O5]==null then
set m5=SK7(UP,GetUnitLoc(it),Condition(function k6))
else
set m5=h4[O5]
endif
endif
if((m5!=null))then
if(EM7)or((GetUnitLifePercent(m5)<50. or(GZ[208+O5]and h4[O5]!=null)or((Bz-20>TC4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>300.))and(not IsUnitIllusion(m5))))then
if SE7(m5)or(DA8(it,m5))then
if C07(it,m5,2,UP)!=null then
set J4=T77(it,852089,1093751861,1093808949,GetLocationX(GM7),GetLocationY(GM7))
endif
else
set J4=T77(it,852089,1093751861,1093808949,GetUnitX(m5),GetUnitY(m5))
endif
endif
if J4 then
call R47(0.1)
set J4=false
endif
endif
endif
endif
set m5=h4[O5]
if((m5==null))then
set m5=SK7(800.,b5,Condition(function k6))
endif
if(not J4)and(Bz>TC4[16+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70.)and(IsUnitInRange(it,m5,400))then
set J4=TD7(it,852600,1093751631)
endif
if(not J4)and(Bz>TC4[32+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or S97(m5,it))then
set J4=S27(it,852119,1093751633,m5)
endif
set UP=SP7(800.,it,Condition(function k6))
if(not J4)and(Bz>TC4[48+O5])and((h4[O5]!=null and UP>1 and IsUnitInRange(it,m5,500))or(UP>2 and GetUnitState(it,UNIT_STATE_MANA)>350)or(GetUnitState(it,UNIT_STATE_MANA)>450 and SP7(800,it,Condition(function X47))>5))then
set J4=TD7(it,852526,1093808697)
endif
elseif(i1==1328558406)then
if(not J4)and(h4[O5]!=null)and(is(it))and(Bz>TC4[16+O5])then
set m5=YX7(900.,it,false)
if m5!=null then
set J4=S27(it,852119,1093751873,m5)
endif
endif
if(not J4)and(is(it))and(h8[160+O5]!=null)then
set GZ[224+O5]=(LoadUnitHandle(L7,(GetHandleId(it)),(652))!=null)
set J4=IssuePointOrderById(it,852662,GetUnitX(h8[160+O5])+GetRandomReal(-200.,200.),GetUnitY(h8[160+O5])+GetRandomReal(-200.,200.))
set h8[160+O5]=null
endif
if(not J4)then
set m5=h4[O5]
if(m5==null)then
set m5=SK7(800.,b5,Condition(function k6))
endif
if(h4[O5]!=null)and(GetUnitLifePercent(it)+10.>GetUnitLifePercent(m5))then
call SetPlayerAbilityAvailable(Player(O5),1093810257,true)
set GZ[O5]=true
set J4=(GetUnitAbilityLevel(it,1110456385)==0)and(IssueImmediateOrderById(it,852589))
else
set GZ[O5]=false
set J4=(GetUnitAbilityLevel(it,1110456385)!=0)and(TD7(it,852590,1093810257))
endif
if J4 then
call R47(0.1)
set J4=false
endif
if(not J4)and(m5!=null)and(h4[O5]!=null or GetUnitManaPercent(it)>90 or(GetUnitLifePercent(m5)<70 and GetUnitManaPercent(it)>60))then
if UU7(it,"AI|IoSpirits")then
set UP=R2I(RE7(it,m5))
if UP<425 then
set J4=(UP7(GetHandleId(it),"AI|IoSpiritsFar"))and(IssueImmediateOrderById(it,852217))
else
set J4=(not UP7(GetHandleId(it),"AI|IoSpiritsFar"))and(IssueImmediateOrderById(it,852490))
endif
else
if(Bz>TC4[32+O5])then
set J4=TD7(it,852526,1093751864)and(IssueImmediateOrderById(it,852490))
endif
endif
endif
endif
elseif(i1==1160786504)then
if(m5==null)then
set m5=SK7(800.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[O5])and((GetUnitLifePercent(m5)<50. and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)==0))or SG7(m5))then
set J4=S27(it,852111,1093751617,m5)
if J4 then
call CWE(O5,m5,false,false)
endif
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and(IsUnitInRange(it,m5,600))and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or S97(m5,it))then
if SO7(450,S07(m5),Condition(function X47))<=1 then
set J4=S27(it,852089,1093751618,m5)
endif
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or S97(m5,it))and(SP7(450,m5,Condition(function X47))<=1)then
set J4=S27(it,852119,1093751608,m5)
endif
if(not J4)then
if(m5==null)then
set m5=SK7(1200.,b5,Condition(function k6))
endif
if(m5!=null)and(Bz>TC4[48+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or S97(m5,it)or GetUnitManaPercent(it)>50.)and(IsUnitVisible(m5,Player(O5)))then
set J4=IssuePointOrderByIdLoc(it,852600,S07(m5))
call R47(0.5)
endif
endif
elseif i1==1211119409 then
if((m5==null)and(G0[128+O5]))then
set m5=SK7(800.,b5,Condition(function k6))
endif
if((not J4)and(Bz>TC4[32+O5])and(m5!=null)and(GetUnitLifePercent(m5)<60.)and((not IsUnitInRange(it,m5,200.))or(SE7(m5))))then
if(CL7(it,m5,28/0.03,0,(GetUnitAbilityLevel(it,1093749303)+3)*100)!=null)and(CB7(it,m5,GetLocationX(GM7),GetLocationY(GM7),120,Condition(function GD8)))then
set J4=(R97(it,m5,15))and(IssueImmediateOrderById(it,852600))
call CWE(O5,m5,false,false)
endif
endif
if((not J4)and(Bz>TC4[16+O5])and(m5!=null)and(IsUnitInRange(it,m5,300.))and(GetUnitLifePercent(it)>GetUnitLifePercent(m5)+20.)and(G0[256+O5])and((GetUnitState(it,UNIT_STATE_MANA)>200.)or SE7(m5)))then
set J4=IssueImmediateOrderById(it,852526)
endif
if(not J4)and(h4[O5]!=null)and(Bz>TC4[O5])and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,200.))then
set J4=TD7(it,852129,1093749070)
endif
if(not J4)and(h4[O5]==null)and(Bz>TC4[16+O5])and(SP7(325.,it,Condition(function YF7))>3)and(GetUnitState(it,UNIT_STATE_MANA)>400.)then
set J4=IssueImmediateOrderById(it,852526)
endif
elseif(i1==1211117653)then
if(m5==null and(G0[128+O5]))then
set m5=SK7(800.,b5,Condition(function k6))
endif
set UP=(SO7(1200.,b5,Condition(function KX)))
set J4=(GetUnitAbilityLevel(it,1110456408)>0)and(UP>0)and(GetUnitLifePercent(it)<70.)
if((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>175)and((Bz>TC4[O5])or(AD7(it,1093686855)))and(Bz>TC4[144+O5]))then
set EI7=(37.5+(46.87*GetUnitAbilityLevel(it,1093808470)))
set T1F=Ie(bj_mapInitialPlayableArea,Condition(function RCF))
set J4=(T1F!=null)and AO7(it,LR4,LR4,LR4,1093686855)and IssuePointOrderByIdLoc(it,852089,C07(it,T1F,1.7,99999))
elseif((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>175)and(Bz>TC4[144+O5]))then
set EI7=(37.5+(46.87*GetUnitAbilityLevel(it,1093808470)))
set T1F=Ie(bj_mapInitialPlayableArea,Condition(function RCF))
if(T1F!=null)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),BS[9],true)
set J4=IssuePointOrderByIdLoc(it,852089,C07(it,T1F,1.7,99999))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),BS[9],false)
endif
endif
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5)))then
call CWE(O5,m5,false,false)
if(((GetUnitState(it,UNIT_STATE_MANA))>410)and(GetUnitLevel(it)>=10)and(Bz>TC4[O5])and(Bz>TC4[48+O5])and(Bz>TC4[112+O5])and((AD7(it,1093686862))or(AD7(it,1093686861))))then
set J4=AO7(it,LR4,LR4,LQ4,1093686862)and(AI7(it,LR4,LR4,LR4,false))and IssuePointOrderById(it,852216,GetUnitX(m5),GetUnitY(m5))
endif
if((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>350)and(GetUnitLevel(it)>=14)and(Bz>TC4[O5])and(Bz>TC4[96+O5])and(Bz>TC4[144+O5])and((AD7(it,1093686859))or(AD7(it,1093686855))))then
set J4=AO7(it,LQ4,LQ4,LP4,1093686859)and IssuePointOrderById(it,852491,GetUnitX(m5),GetUnitY(m5))
endif
if(not J4 and(GetUnitLevel(it)<14)and((GetUnitState(it,UNIT_STATE_MANA))>290)and(AD7(it,1093686861)or(Bz>TC4[O5])))then
set J4=(AO7(it,LP4,LQ4,LR4,1093686861)and IssuePointOrderById(it,852215,GetUnitX(m5),GetUnitY(m5)))
endif
if(not J4)then
set J4=(((Bz>TC4[64+O5])and AO7(it,LR4,LR4,LP4,1093686863)and(IssueImmediateOrderById(it,852132)))or((Bz>TC4[16+O5])and AO7(it,LP4,LP4,LP4,1093686874)and(S27(it,852505,1093686874,m5)))or(((GetUnitState(it,UNIT_STATE_MANA))>350)and(Bz>TC4[112+O5])and AO7(it,LP4,LQ4,LR4,1093686861)and IssuePointOrderById(it,852215,GetUnitX(m5),GetUnitY(m5))))
endif
if((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>120))then
set J4=((Bz>TC4[160+O5])and(IsUnitInRange(it,m5,106.))and AO7(it,LP4,LP4,LR4,1093686864)and(IssueImmediateOrderById(it,852134)))or((Bz>TC4[48+O5])and AO7(it,LR4,LR4,LQ4,1093686862)and IssuePointOrderById(it,852216,GetUnitX(m5),GetUnitY(m5)))or((Bz>TC4[32+O5])and AO7(it,LQ4,LQ4,LQ4,1093686867)and(AI7(it,LR4,LR4,LR4,false))and(IssuePointOrderByIdLoc(it,852217,GetUnitLoc(m5))))
endif
endif
if((GetUnitAbilityLevel(it,1110456408)==0))then
if(not J4 and(Bz>TC4[O5])and(Bz>TC4[48+O5])and(not AD7(it,1093686862))and(GetRandomInt(1,2)==1))then
call AO7(it,LR4,LR4,LQ4,1093686862)
elseif(not J4 and(GetUnitLevel(it)<14)and(Bz>TC4[O5])and(Bz>TC4[112+O5])and(not AD7(it,1093686861)))then
call AO7(it,LP4,LQ4,LR4,1093686861)
elseif(not J4 and(GetUnitLevel(it)>=14)and(Bz>TC4[O5])and(Bz>TC4[96+O5])and(not AD7(it,1093686859))and(GetRandomInt(1,2)==1))then
call AO7(it,LQ4,LQ4,LP4,1093686859)
elseif(not J4 and(Bz>TC4[O5])and(Bz>TC4[16+O5])and(not AD7(it,1093686874)))then
call AO7(it,LP4,LP4,LP4,1093686874)
else
endif
set UP=SP7(1500.,it,Condition(function k8))
if((m5!=null and(A97(it)<3))or((GetUnitLevel(it)<5)and(A97(it)<3))or((A97(it)<3)and(UP>1)))then
call AI7(it,LR4,LR4,LR4,false)
elseif(m5==null and(not J4)and(GetUnitLevel(it)>5)and(GetUnitAbilityLevel(it,1093808472)>0)and(GetUnitLifePercent(it)>80.)and(A47(it)<3)and(UP<2))then
call AI7(it,LQ4,LQ4,LQ4,false)
elseif(m5==null and(not J4)and(GetUnitAbilityLevel(it,1093808471)>0)and(GetUnitLifePercent(it)<58.)and(A87(it)<3))then
call AI7(it,LP4,LP4,LP4,false)
else
endif
if(not J4)then
set m5=null
set m5=SK7(700.,b5,Condition(function YS7))
set J4=(m5!=null)and(GetUnitCurrentOrder(m5)==851983)and AO7(it,LQ4,LQ4,LR4,1093686865)and S27(it,852490,1093686865,m5)
endif
endif
elseif(i1==1311787088)then
if(not J4)and(Bz>TC4[O5])and(GetUnitLevel(it)>=6)then
set EI7=100+GetUnitAbilityLevel(it,1093750089)*150
set EM7=true
set m5=Ie(bj_mapInitialPlayableArea,Condition(function RCF))
if m5==null then
set EM7=false
if h4[O5]==null then
set m5=SK7(99999.,GetUnitLoc(it),Condition(function k6))
else
set m5=h4[O5]
endif
endif
if((m5!=null))then
if(EM7)or((GetUnitLifePercent(m5)<50. or(GZ[208+O5]and h4[O5]!=null)or((Bz-20>TC4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>300.))and(not IsUnitIllusion(m5))))then
if SE7(m5)or(DA8(it,m5))then
if CL7(it,m5,500.,0.02,1500.)!=null then
set J4=IssuePointOrderByIdLoc(it,852662,GM7)
if J4 then
call TQ7(GetHandleId(it),"AI|IBClose",1)
endif
elseif CL7(it,m5,1500.,2.02,99999.)!=null then
set J4=IssuePointOrderByIdLoc(it,852662,GM7)
if J4 then
call TQ7(GetHandleId(it),"AI|IBClose",0)
endif
endif
else
set J4=IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))
if J4 then
call TQ7(GetHandleId(it),"AI|IBClose",2)
endif
endif
endif
if J4 then
call TU7(GetHandleId(it),"AI|IBTgt",m5)
call TriggerSleepAction(0.1)
set J4=false
endif
endif
endif
if(m5==null)then
set m5=SK7(800.,b5,Condition(function k6))
endif
if(not J4)and(not IsUnitIllusion(m5)and(IsUnitInRange(it,m5,750.))and((GetUnitState(it,UNIT_STATE_MANA))>(GetUnitState(it,UNIT_STATE_MAX_MANA)/2.5)))then
set J4=(m5!=null)and(S27(it,OrderId("channel"),1093750087,m5))
endif
if((not J4)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,1500.))and((GetUnitState(it,UNIT_STATE_MANA))>(GetUnitState(it,UNIT_STATE_MAX_MANA)/2.5))and((GetUnitLevel(it)>10)or(GetUnitManaPercent(it)>65.)))then
set J4=(m5!=null)and(S27(it,OrderId("blizzard"),1093748819,m5))
endif
if((not J4)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(GetUnitManaPercent(it)>30.))then
set J4=(m5!=null)and(S27(it,OrderId("berserk"),1093748817,it))
endif
if(not J4)then
set J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(S37(it,m5))
endif
elseif(i1==1160786505)then
if(m5==null and(G0[128+O5]))then
set m5=SK7(1100.,b5,Condition(function k6))
endif
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<60.))then
set J4=(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))or(IssueTargetOrderById(it,852185,m5))
endif
if((not J4)and(G0[128+O5])and(Bz>TC4[32+O5])and(Bz>TC4[16+O5])and(GetUnitLevel(it)>6))then
set J4=(m5!=null)and(GetUnitLevel(it)>3)and((GetUnitLifePercent(it)>75.)or(IsUnitInRange(it,m5,300.)))and(not IsUnitIllusion(m5))and((SP7(800.,m5,Condition(function Y17))-SP7(800.,m5,Condition(function YM7)))<=2)and((SO7(750.,GetUnitLoc(m5),Condition(function Y87))==0)or(GetRandomInt(1,2)==1))and(GetUnitState(it,UNIT_STATE_MANA)>300.)and(IssueTargetOrderById(it,852185,m5))
endif
if(not J4 and(m5!=null))then
set J4=(not IsUnitIllusion(m5))and(Bz>TC4[O5])and(GetUnitLifePercent(m5)<48.)and(IsUnitInRange(it,m5,200.))and(IssueImmediateOrderById(it,852526))
endif
if(not J4 and(m5!=null))then
set UP=SO7(780.,GetUnitLoc(m5),Condition(function Y87))
set TLF=SP7(800.,m5,Condition(function Y17))
set J4=((Bz>TC4[32+O5])and(GetUnitLevel(it)>3)and(IsUnitInRange(it,m5,800.))and((TLF-SP7(800.,m5,Condition(function YM7)))<=2)and((UP>0)and(TLF<2)or(UP==0)and(TLF<=2))and(IssueTargetOrderById(it,852185,m5)))or((Bz>TC4[16+O5])and(GetUnitLevel(it)>3)and(GetUnitState(it,UNIT_STATE_MANA)>150)and(GetUnitLifePercent(m5)<90.)and(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))))
endif
elseif(i1==1212365106)then
call SetPlayerAbilityAvailable(pl,1093685831,(GetHeroLevel(it)>13)and(SO7(1200.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>70.))
if((m5!=null)and(not IsUnitIllusion(m5))and(((GetHeroLevel(it)>5)and(not IC(O5)))or(SI7(m5,it)))and(not IsUnitInRangeLoc(m5,b5,250.)))then
set J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and((SP7(800.,m5,Condition(function Y17))-SP7(800.,m5,Condition(function YM7)))<=1)and(IssueTargetOrderById(it,852600,m5))
endif
if((not J4)and(GetHeroLevel(it)>14)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=K3(700.,it,Condition(function k6))
set J4=(m5!=null)and((SP7(I2R(225+(25*GetUnitAbilityLevel(it,1093685831))),m5,Condition(function k6))>1)or(GetUnitLifePercent(m5)<80.))and(S27(it,852089,1093685831,m5))
endif
endif
elseif(i1==1211117617)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>10))then
set m5=SK7(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(((GetHeroLevel(it)>4)and(not IsUnitInRange(it,m5,300.)))or(S97(m5,it)))and(S27(it,OrderId("acidbomb"),1093744944,m5))
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(G0[128+O5])and(GetUnitAbilityLevel(it,1110454329)==0)and(GetUnitState(it,UNIT_STATE_MANA)>200.))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
set J4=((((Bz>hq[O5])or(GetUnitCurrentOrder(m5)==851973))and(IsUnitInRange(it,m5,600.)))or(IsUnitInRange(it,m5,300.)))and((TD7(it,852526,1093814611))or(SC7(it,ZU[D0]))or(TD7(it,OrderId("chemicalrage"),1093752648)))
endif
endif
if(GetUnitAbilityLevel(it,1110454329)>0)and(GetUnitLifePercent(it)>70)then
if(h4[O5]==null)then
set ES7=SK7(700.,b5,Condition(function k6))
call CWE(O5,ES7,false,false)
endif
if((GetUnitCurrentOrder(it)==851986)and(G0[128+O5])and(hq[512+O5]>Bz)and(not G0[O5])and(SO7(800.,b5,Condition(function KC))>1))then
call S57(it,851983,h8[O5])
endif
endif
elseif(i1==1211117633)then
set J4=(m5!=null)and(GetUnitLifePercent(m5)<60.)and((not IsUnitIllusion(m5))or(GetUnitLifePercent(m5)>35.))and(S27(it,852585,1093684045,m5))
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))then
set m5=Ie(bj_mapInitialPlayableArea,Condition(function YP7))
set J4=(m5!=null)and(SP7(800.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852600))
if((not J4)and(m5!=null)and(IsUnitInRange(it,m5,800.)))then
set J4=(GetUnitLifePercent(m5)<25.)and(not Id(GetPlayerId(GetOwningPlayer(m5))))and(S27(it,852096,1093815619,m5))
endif
endif
if((not J4)and(h4[16+O5]!=null))then
if((S87(h4[16+O5]))and(GetUnitAbilityLevel(h4[16+O5],1110455624)>0))then
set J4=S27(it,852095,1093684310,h4[16+O5])
call R5F(it,h4[16+O5])
else
set h4[16+O5]=null
endif
endif
if((RE7(it,TG7(it))<1500.)and(eY[O5]==1)and(GetHeroLevel(it)>5)and(IH(pl,Condition(function C59))<2))then
if(IsUnitAlly(it,Z7[0]))then
if((h8[16+O5]==h7[35])and(G2!=1)and(G4!=1))then
set h8[16+O5]=h7[55]
set h8[O5]=h7[51]
endif
else
if((h8[16+O5]==h7[155])and(G1!=2)and(G3!=2))then
set h8[16+O5]=h7[135]
set h8[O5]=h7[131]
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>21)and(IH(pl,Condition(function C59))==0))then
set m5=SK7(600.,b5,Condition(function k8))
set J4=(m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)>800.)and(S27(it,852131,1093810260,m5))
endif
elseif(i1==1211117620)then
call SetPlayerAbilityAvailable(pl,1093677382,(GetHeroLevel(it)>10)and(iy(it))and(GetUnitManaPercent(it)>60.))
call SetPlayerAbilityAvailable(pl,1093677105,(GetUnitManaPercent(it)>70.)and(GetUnitAbilityLevel(it,1110454324)==0))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SK7(1000.,b5,Condition(function k6))
endif
if(m5!=null)then
if((GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(not ke(m5))and(Bz>hq[O5]))then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=(UP<RQF(it))and(UP>150)and(T47(it,852119,1093677392,1093679450,m5))
endif
if((not J4)and((GetUnitManaPercent(it)>40.)or(S97(m5,it))))then
if(((Bz>hq[16+O5])and(GetHeroLevel(it)>3))or(GetUnitLifePercent(m5)<55.))then
set GZ[64+O5]=true
set J4=S_7(it,852232,1093677623,C07(it,m5,.95,600.))
set GZ[64+O5]=false
endif
if(not J4)then
set J4=(Bz>hq[16+O5])and(GetHeroLevel(it)>3)and(GetRandomInt(1,2)==1)and(S27(it,852125,1093677382,m5))
endif
endif
endif
if((not J4)and(GetHeroLevel(it)>15)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
if(m5==null)then
set m5=K3(700.,it,Condition(function k6))
endif
if(m5!=null)then
set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))
set J4=(GetUnitLifePercent(m5)<60.)and(UP<1600)and(UP>500)and(not ke(m5))and(T47(it,852119,1093677392,1093679450,m5))
endif
endif
endif
elseif(i1==1432580716)or(i1==1429221720)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>5)and(GetUnitManaPercent(it)>60.))then
set m5=SK7(600.,b5,Condition(function k6))
endif
if((G0[128+O5])and(SR7(it,ZU[RW]))and(GetHeroLevel(it)>8)and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,600.)))then
set J4=((SP7(800.,m5,Condition(function Y17))-SP7(800.,m5,Condition(function YM7)))<=1)and(RAF(it,m5))
endif
call SetPlayerAbilityAvailable(pl,1093684300,(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>60.))
if(not J4)then
set J4=(m5!=null)and((S97(m5,it))or((GetHeroLevel(it)>7)and(GetUnitState(it,UNIT_STATE_MANA)>350.)and(Bz>hq[O5])and(IsUnitInRange(it,m5,220.))))and(S27(it,852089,1093684300,m5))
endif
elseif(i1==1333027688)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.))then
set m5=SK7(1000.,b5,Condition(function k6))
endif
if(m5!=null)then
if((G0[128+O5])and(SR7(it,ZU[RW]))and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>10)and(Bz>hq[O5])and(SP7(500.,m5,Condition(function k8))>5))then
set J4=RAF(it,m5)
endif
if((not J4)and(Bz>hq[O5])and(IsUnitInRange(it,m5,400.))and(GetUnitState(m5,UNIT_STATE_LIFE)>180.))then
set UP=S1F(it)
if((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<UP)or((UP>100)and((R2I(GetUnitState(m5,UNIT_STATE_LIFE))-UP)<GetHeroLevel(it)*30)))then
set J4=TD7(it,852526,1093682248)or(TD7(it,852526,1093750594))
endif
endif
if((not J4)and(GetUnitCurrentOrder(m5)==851986)and(GetUnitLifePercent(m5)<50.))then
set J4=S27(it,OrderId("channel"),1093686091,m5)
endif
if((not J4)and(GetHeroLevel(it)>3))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))
call SetPlayerAbilityAvailable(pl,1093686091,true)
set J4=IssuePointOrderById(it,OrderId("channel"),GetUnitX(m5)+50.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+50.*Sin(UP*bj_DEGTORAD))
endif
endif
set m5=SN7(400.,b5,Condition(function k6))
if((not J4)and(Bz>hq[O5])and(m5!=null))then
set hr=it
set UP=SO7(500.,b5,Condition(function SLF))
set J4=(((UP>3)and(SO7(400.,b5,Condition(function k6))>1))or((UP>4)and(GetUnitLifePercent(m5)<60.)))and((TD7(it,852526,1093682248))or(TD7(it,852526,1093750594)))
endif
if(not J4)then
call SetPlayerAbilityAvailable(pl,1093686091,(GetHeroLevel(it)>5)and(GetUnitManaPercent(it)>70.))
set J4=(GetHeroLevel(it)>10)and(Bz>hq[O5])and(SO7(500.,b5,Condition(function KA))>8)and((TD7(it,852526,1093682248))or(TD7(it,852526,1093750594)))
endif
elseif(i1==1311781185)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))then
set m5=SK7(800.,b5,Condition(function k6))
endif
if(m5!=null)then
set J4=((GetHeroLevel(it)>15)and((S97(m5,it))or(GetUnitManaPercent(m5)<35.)or(GetUnitAbilityLevel(m5,1110454607)>0))and(IssueTargetOrderById(it,852662,m5)))or((m5!=null)and(not IsUnitInRange(it,m5,550.))and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and(S27(it,852254,1093684314,m5)))
endif
if(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitManaPercent(it)>70))then
set J4=S27(it,852089,1093743692,m5)
endif
if(not J4)then
if h4[O5]!=null and IsUnitInRange(h4[O5],it,850)and GetUnitLifePercent(h4[O5])<GetUnitLifePercent(m5)or GetUnitManaPercent(h4[O5])<GetUnitManaPercent(m5)then
set m5=h4[O5]
endif
if m5==null then
set G=E57
set m5=Z47(900,it,Condition(function YR7))
endif
set G=F77
set X07=Z47(900,it,Condition(function YR7))
set m5=PS7((m5!=null)and(((GetHeroLevel(m5)>11 and GetHeroLevel(m5)>GetHeroLevel(X07))or GetUnitManaPercent(X07)<30.)or X07==null),m5,X07)
if m5==null then
set m5=PS7(GetUnitManaPercent(it)>40.or GetUnitState(it,UNIT_STATE_MANA)>700.,Z47(700,it,Condition(function k6)),null)
endif
set J4=(m5!=null)and(G0[128+O5]and(GetUnitLifePercent(m5)<=50)or GetUnitManaPercent(it)>50.)and IssueTargetOrderById(it,852095,m5)
if h4[O5]==null then
set h4[O5]=m5
endif
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))then
set m5=Ie(bj_mapInitialPlayableArea,Condition(function YP7))
set J4=(m5!=null)and(SP7(700.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852600))
endif
elseif(i1==1211117643)then
if m5==null then
set m5=Y27(700.,it)
endif
if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,400.))and(GetUnitAbilityLevel(m5,1113815395)==0)and(GetUnitAbilityLevel(m5,1113815346)==0)and((GetUnitLifePercent(it)<50.)or(GetHeroLevel(it)<8))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(300+(120*GetUnitAbilityLevel(it,1093678658)))))then
set J4=S27(it,852040,1093678658,m5)
endif
if(not J4)and(is(it))then
if(h4[O5]!=null)then
if(not J4)and(Bz>TC4[O5])then
set J4=T47(it,852504,1093681483,1093748313,m5)
endif
if(not J4)and(Bz>TC4[32+O5])and(SP7(600.,it,Condition(function YU7))==0)then
set J4=S27(it,852114,1093678664,it)
endif
if(not J4)then
set EI7=Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5))
call MoveLocation(HA,GetUnitX(m5)+Cos(EI7)*200,GetUnitY(m5)+Sin(EI7)*200)
if(not J4)and(Bz>TC4[16+O5])and(GetUnitLifePercent(it)>60.)then
set J4=S_7(it,852278,1093678410,HA)
endif
if(not J4)and(Bz>TC4[32+O5])and(GetUnitLifePercent(it)>60.)and(SP7(600.,m5,Condition(function YU7))==0)then
set J4=S_7(it,852114,1093678664,HA)
endif
endif
elseif(eY[O5]==1 or eY[O5]==3 or eY[O5]==4)then
if((not J4)and(is(it))and(eY[O5]==1)and((SO7(400.,b5,Condition(function Ka))>1)or((h4[128+O5]!=null)and(S87(h4[128+O5]))and(IsUnitInRange(it,h4[128+O5],400.)))))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h9[O5])-GetUnitY(it),GetUnitX(h9[O5])-GetUnitX(it)))
call IssuePointOrderById(it,851986,GetUnitX(it)+350.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+350.*Sin(UP*bj_DEGTORAD))
endif
if((not J4)and(is(it))and(not W97(it))and(SO7(1200.,b5,Condition(function Y87))==0)and(not S47(it)))then
set UP=GetUnitUserData(h8[32+O5])
set EI7=300
if((eY[O5]==3)or(eY[O5]==4))and(h8[64+O5]!=null)then
set h9[48+O5]=h8[64+O5]
if SP7(600.,it,Condition(function k6))>0 or SP7(600.,h9[48+O5],Condition(function k6))>0 then
set EI7=-1
endif
elseif(h9[48+O5]==null)or(not IsUnitInRange(it,h9[48+O5],1800.))then
set EM7=IsUnitAlly(it,Z7[O5])
set UP=HGF(GetUnitUserData(h8[80+O5]),(not EM7),0)
if UP==35 then
set UP=351
elseif UP==55 then
set UP=352
endif
if UP!=0 and(SP7(900.,h7[UP],Condition(function Y87))==0)and((EM7 and(not IsVisibleToPlayer(GetUnitX(h7[UP]),GetUnitY(h7[UP]),A7[0])))or((not EM7)and(not IsVisibleToPlayer(GetUnitX(h7[UP]),GetUnitY(h7[UP]),Z7[0]))))then
set h9[48+O5]=h7[UP]
endif
endif
if EI7!=-1 then
if(not J4)and(h9[48+O5]!=null)and(Bz>TC4[16+O5])and(GetUnitState(it,UNIT_STATE_MANA)>LRE(it,1093678410,GR7)+LRE(it,1093678658,GR7))then
call MoveLocation(HA,GetUnitX(h9[48+O5])+GetRandomReal(-EI7,EI7),GetUnitY(h9[48+O5])+GetRandomReal(-EI7,EI7))
set J4=(S_7(it,852278,1093678410,HA))
endif
set bj_lastLoadedUnit=it
if(not J4)and(h9[48+O5]!=null)and(Bz>TC4[32+O5])and(GetUnitState(it,UNIT_STATE_MANA)>LRE(it,1093678664,GR7)+LRE(it,1093678658,GR7))and(SP7(600.,h9[48+O5],Condition(function YU7))==0)then
call MoveLocation(HA,GetUnitX(h9[48+O5])+GetRandomReal(-100.,100.),GetUnitY(h9[48+O5])+GetRandomReal(-100.,100.))
set J4=(S_7(it,852114,1093678664,HA))
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>TC4[O5]))then
set m5=SK7(1800.,b5,Condition(function YT7))
set bj_forLoopAIndex=(SP7(600.,m5,Condition(function KG)))
if((m5!=null)and(not D39(m5))and(bj_forLoopAIndex<4))then
set UP=R2I(RRF(m5))
set GZ[272+O5]=false
if(bj_forLoopAIndex>0)then
set hq[240+O5]=Bz+5.
else
set hq[240+O5]=0.
endif
set J4=T77(it,852504,1093681483,1093748313,GetUnitX(m5)+GetRandomReal(400.,450.)*Cos(UP*bj_DEGTORAD)+GetRandomReal(-300.,300.),GetUnitY(m5)+GetRandomReal(400.,450.)*Sin(UP*bj_DEGTORAD)+GetRandomReal(-300.,300.))
endif
set bj_forLoopAIndex=(SP7(600.,h8[64+O5],Condition(function KG)))
if((not J4)and((eY[O5]==3)or(eY[O5]==4))and(h8[64+O5]!=null)and(IsUnitInRange(it,h8[64+O5],900.))and(bj_forLoopAIndex<6))then
set GZ[272+O5]=false
if(bj_forLoopAIndex>0)then
set hq[240+O5]=Bz+5.
else
set hq[240+O5]=0.
endif
set J4=T77(it,852504,1093681483,1093748313,GetUnitX(h8[64+O5])+GetRandomReal(-300,300),GetUnitY(h8[64+O5])+GetRandomReal(-300.,300.))
endif
if(not J4)then
set GZ[272+O5]=true
set m5=SK7(1800.,b5,Condition(function KG))
set bj_forLoopAIndex=(SP7(600.,h9[48+O5],Condition(function KG)))
if(m5!=null)then
set hq[240+O5]=Bz+5.
set J4=T77(it,852504,1093681483,1093748313,GetUnitX(m5)+GetRandomReal(-100.,100.),GetUnitY(m5)+GetRandomReal(-100.,100.))
elseif(h9[48+O5]!=null)and(GetUnitState(it,UNIT_STATE_MANA)>LRE(it,1093681483,GR7)+LRE(it,1093748313,GR7)+LRE(it,1093678658,GR7))and(bj_forLoopAIndex<8)then
set hq[240+O5]=Bz+5.
set J4=(T77(it,852504,1093681483,1093748313,GetUnitX(h9[48+O5])+GetRandomReal(-EI7,EI7),GetUnitY(h9[48+O5])+GetRandomReal(-EI7,EI7)))
endif
endif
endif
endif
endif
if((not J4)and(Bz>TC4[O5])and(G0[256+O5])and(GetUnitManaPercent(it)>50.))then
set m5=SK7(700.,b5,Condition(function k8))
set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(SP7(400.,m5,Condition(function k8))>2)and(T47(it,852504,1093681483,1093748313,m5))
endif
if((not J4)and(Bz>TC4[16+O5])and(G0[256+O5])and(GetUnitAbilityLevel(it,1093678410)>1)and(GetUnitManaPercent(it)>50.))then
set m5=SK7(700.,b5,Condition(function X47))
set J4=(m5!=null)and(SP7(500.,m5,Condition(function X47))>2)and(S_7(it,852278,1093678410,S07(m5)))
endif
endif
endif
elseif(i1==1215657064)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>10))then
set m5=SK7(800.,b5,Condition(function k6))
endif
call SetPlayerAbilityAvailable(pl,1093677913,(GetHeroLevel(it)>14)and(SO7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))
call SetPlayerAbilityAvailable(pl,1093750841,false)
if(m5!=null)then
set UP=R2I(RF7(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
endif
if((G0[128+O5])and(SR7(it,ZU[RW]))and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5]))then
set J4=(GetHeroLevel(it)>5)and(UP>250)and(UP<700)and((SP7(800.,m5,Condition(function Y17))-SP7(800.,m5,Condition(function YM7)))<=1)and(RAF(it,m5))
endif
call SetPlayerAbilityAvailable(pl,1093684291,(GetUnitAbilityLevel(it,1110454856)>0)or(m5!=null))
if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5))then
set J4=((UP<300)and(GetUnitAbilityLevel(it,1110454856)==0)and(TD7(it,852100,1093684291)))or((UP<200)and(TD7(it,852600,1093750841)))or((UP<280)and(TD7(it,852096,1093677913)))
endif
elseif(i1==1332179560)then
set J4=(m5!=null)and((GetUnitLifePercent(m5)<50.)or(i2(m5)))and(S27(it,OrderId("acidbomb"),1093742660,m5))
if((not J4)and(GetUnitManaPercent(it)>70.)and(GetHeroLevel(it)>4)and(SO7(800.,b5,Condition(function YT7))>0))then
if((m5==null)or(not IsUnitInRange(it,m5,800.)))then
set m5=SK7(800.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(S27(it,OrderId("acidbomb"),1093742660,m5))
endif
elseif(i1==1214344551)then
if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<70.)and(SO7(700.,b5,Condition(function k6))>1)and(SO7(700.,b5,Condition(function YM7))>0))then
set J4=IssueImmediateOrderById(it,852600)
endif
if(m5!=null)then
set J4=S27(it,852095,1093809742,m5)
endif
if(not J4)then
set m5=Z77(99999,it)
set X07=Z47(99999,it,Condition(function FS8))
set m5=PS7(((m5!=null and GetUnitLifePercent(m5)<=45.)or(X07==null and m5!=null and GetUnitLifePercent(m5)<=70)),m5,X07)
set J4=((m5!=null)and IssueTargetOrderById(it,852248,m5))
endif
if((not J4)and(GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>2))then
set m5=SK7(1500.,b5,Condition(function YT7))
if((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<40.)and(GetUnitCurrentOrder(m5)==851986))then
set J4=(K6(m5))and(IssueTargetOrderById(it,852069,m5))
endif
endif
if((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and(SO7(1000.,b5,Condition(function YM7))>0))then
set m5=SN7(500.,b5,Condition(function k6))
if(m5!=null)and(GetUnitLifePercent(m5)<70.)then
set UP=SO7(700.,b5,Condition(function k6))
set J4=((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and(IssueImmediateOrderById(it,852600))
endif
endif
endif
elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))then
if((GetHeroLevel(it)>15)and(GetUnitTypeId(it)==1311781199)and(GetUnitAbilityLevel(it,1093681479)>2)and(RE7(it,TG7(it))<2000.))then
set J4=TD7(it,852138,1093681479)
endif
if((GetUnitTypeId(it)==1311781199)and(GetUnitAbilityLevel(it,1093681479)>1))then
set J4=TD7(it,852138,1093681479)
endif
if((SO7(700.,b5,Condition(function W57))==0)and(((GetUnitTypeId(it)==1311781171)and(GetUnitAbilityLevel(it,1093681479)>1))or((GetUnitTypeId(it)==1311781172)and(GetUnitAbilityLevel(it,1093681479)>2))))then
set J4=TD7(it,852139,1093681479)
endif
set m5=U87(GetHandleId(pl),"MyBear")
if((m5==null)or(not S87(m5))or(GetUnitLifePercent(m5)<20 and Bz>TC4[16+O5]))then
set J4=IssueImmediateOrderById(it,852594)
endif
if((not J4)and(IsUnitInRange(it,m5,600.))and(GetUnitAbilityLevel(m5,1110454582)==0)and((h4[O5]!=null)or((GetUnitManaPercent(it)>50.)and(SO7(700.,b5,Condition(function KA))>0))))then
set J4=IssueImmediateOrderById(it,852526)
endif
if((not J4)and(GetUnitAbilityLevel(it,1110454582)==0)and((h4[O5]!=null)or((GetUnitManaPercent(it)>30.)and(SO7(700.,b5,Condition(function KA))>0))))then
set J4=IssueImmediateOrderById(it,852526)
endif
if(SO7(700.,b5,Condition(function YT7))>0)then
set hq[240+O5]=Bz+4.
endif
if((not J4)and(GetUnitTypeId(it)!=1311781199)and(m5!=null)and(IsUnitInRange(it,m5,600.))and(hq[416+O5]>Bz))then
set J4=IssueImmediateOrderById(it,852599)
endif
elseif(i1==1215130471)then
call SetPlayerAbilityAvailable(pl,WK7(it),(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>40.))
call SetPlayerAbilityAvailable(pl,WM7(it),(GetHeroLevel(it)>12)and(GetUnitManaPercent(it)>70.))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>2))then
set m5=SK7(1000.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(((((GetUnitManaPercent(it)>40.)and(GetHeroLevel(it)>2))or(S97(m5,it)))and(S27(it,852095,WK7(it),m5)))or((S97(m5,it))and(S27(it,852662,WM7(it),m5))))
if((not J4)and(GetUnitManaPercent(it)>70.)and(GetHeroLevel(it)>12))then
set J4=(SO7(700.,b5,Condition(function k6))==0)and(SO7(700.,b5,Condition(function k8))>0)and(GetUnitAbilityLevel(it,1113746543)==0)and(S27(it,852101,WN7(it),it))
if(not J4)then
set m5=SK7(700.,b5,Condition(function YM7))
set J4=(m5!=null)and(kq(GetUnitTypeId(m5)))and(SO7(700.,b5,Condition(function KA))>0)and(GetUnitAbilityLevel(m5,1113746543)==0)and(S27(it,852101,WN7(it),m5))
endif
endif
if(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<60))then
set J4=(UP7(GetHandleId(it),"AI|Magi2Blast")and S27(it,852600,1093815121,m5))
endif
elseif(i1==1211117636)then
set UP=GetHeroLevel(it)
if(UP>7)then
call SetPlayerAbilityAvailable(pl,1093685041,(m5==null)and(GetUnitManaPercent(it)>50.))
else
call SetPlayerAbilityAvailable(pl,1093685041,false)
endif
if((h4[16+O5]!=null)and(not S87(h4[16+O5])))then
set h4[16+O5]=null
endif
call SetPlayerAbilityAvailable(pl,1093685071,(UP>9)and(h4[16+O5]==null)and(GetUnitManaPercent(it)>60.))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>70.))then
set m5=SK7(800.,b5,Condition(function k6))
endif
if((m5!=null)and(UP>2)and(GetUnitManaPercent(it)>30.)and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,900.)))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))
call SetPlayerAbilityAvailable(pl,1093685041,true)
set GZ[O5]=true
set J4=J8(O5,IssuePointOrderById(it,852218,GetUnitX(it)+1100.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+1100.*Sin(UP*bj_DEGTORAD)))
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SO7(1000.,b5,Condition(function k6))
if(((UP>1)or(UP==TH7(not IsUnitAlly(it,Z7[0]))))and(SO7(1000.,b5,Condition(function YM7))>0))then
set J4=(GetUnitLifePercent(m5)<75.)and(T47(it,852095,1093685042,1093810233,m5))
endif
endif
elseif(i1==1160786000)then
call SetPlayerAbilityAvailable(pl,1093685047,(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>70.))
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))then
set m5=SK7(700.,b5,Condition(function k6))
endif
set J4=(m5!=null)and(GetHeroLevel(it)>3)and((GetUnitManaPercent(it)>40.)or(S97(m5,it)))and(S27(it,852218,1093685047,m5))
if((not J4)and(m5!=null)and(GetHeroLevel(it)>5))then
set J4=(Kz(700.,S07(m5))>1)and((Bz>hq[O5])or(SP7(700.,m5,Condition(function YK7))>0))and(S27(it,852125,1093685045,m5))
endif
elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))then
if(i1==1311781193)then
set J4=(((GetHeroLevel(it)>=6)and(h4[O5]!=null))or((GetHeroLevel(it)>10)and(GetUnitLifePercent(it)<80.)and(SO7(700.,b5,Condition(function k8))>0)))and(IssueImmediateOrderById(it,852663))
elseif((m5==null)and(G0[128+O5])and(i1!=1311781193))then
set m5=SK7(700.,b5,Condition(function k6))
call CWE(O5,m5,false,false)
endif
if((not J4)and(G0[128+O5])and(eY[320+O5]>=-1)and(h4[O5]!=null or GetUnitManaPercent(it)>70)and(GetUnitAbilityLevel(it,1093750345)>1))then
if m5==null then
if((eY[O5]==9)and(h4[144+O5]!=null)and(S87(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1000.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5])))and(IsUnitVisible(h4[144+O5],GetOwningPlayer(it))))then
set m5=h4[144+O5]
else
set m5=SK7(800.,b5,Condition(function k6))
endif
endif
set J4=(m5!=null)and(IsUnitInRange(it,m5,300))and(IssueImmediateOrderById(it,852526))
endif
if((not J4)and(m5!=null)and(GetHeroLevel(it)>5))then
set J4=(SP7(700.,m5,Condition(function k6))>1)and(SP7(700.,m5,Condition(function YK7))>0)and(S27(it,852089,1093683532,m5))
endif
if((not J4)and(GetHeroLevel(it)>11)and(GetUnitManaPercent(it)>55.)and(SO7(500.,b5,Condition(function KA))>2)and(Bz>hq[O5]))then
call SetPlayerAbilityAvailable(pl,1093683532,true)
set J4=IssuePointOrderById(it,852089,GetUnitX(it)+GetRandomReal(0,200.)-100.,GetUnitY(it)+GetRandomReal(0,200.)-100.)
else
call SetPlayerAbilityAvailable(pl,1093683532,(GetHeroLevel(it)>11)and(GetUnitManaPercent(it)>50.))
endif
elseif(i1==1311781206)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))then
if((eY[O5]==9)and(h4[144+O5]!=null)and(S87(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1200.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))then
set m5=h4[144+O5]
else
set m5=SK7(800.,b5,Condition(function k6))
endif
endif
if((m5!=null)and(GetHeroLevel(it)>4))then
if(not IsUnitInRange(it,m5,800.))then
set J4=((eY[O5]==9)or(not IsUnitVisible(it,GetOwningPlayer(m5))))and(CQE(it,m5))
elseif(not IsUnitInRange(it,m5,300.))then
set UP=R2I(RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))-GetUnitFacing(it)))
set J4=((GetUnitLifePercent(m5)<60.)or(SP7(600.,m5,Condition(function YK7))>0))and((CQE(it,m5))or((Bz>hq[O5])and(UP<50)and(GetUnitState(it,UNIT_STATE_MANA)>230.)and(JEF(it,true))))
elseif(GetUnitLifePercent(m5)<40. and IsUnitInRange(it,m5,300.))then
set J4=CQE(it,m5)
endif
if(not J4)and((GetUnitManaPercent(it)>50.)or(GetUnitLifePercent(m5)<60.))then
set J4=IssueImmediateOrderById(it,852600)
endif
endif
if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))then
set bj_lastLoadedUnit=m5
set m5=Ie(bj_mapInitialPlayableArea,Condition(function YP7))
set J4=(m5!=null)and(SP7(800.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852493))
set m5=bj_lastLoadedUnit
endif
if(not J4)and(Bz>TC4[32+O5])and(h4[O5]==null)and(GetUnitAbilityLevel(it,1093684280)>1)and(GetUnitState(it,UNIT_STATE_MANA)>=230.)then
if((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[128+O5])and(not G0[48+O5])and(SO7(400.,b5,Condition(function k8))==0))then
set UP=R2I(RF7(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
if(GetRandomInt(1,2)==1)then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-25
else
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+25
endif
set J4=IssuePointOrderById(it,851986,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))
endif
endif
elseif(i1==1211117651)then
if m5==null then
set m5=Y27(450.,it)
if m5==null then
set m5=Y27(1000.,it)
endif
endif
if UU7(it,"OverloadActive")then
if(h4[O5]!=null)and(GetUnitLevel(it)>5)and(not IsUnitInRange(it,h4[O5],450.))and(S97(m5,it))then
call CL7(it,m5,625*(GetUnitAbilityLevel(it,1093743695)+1),1.,99999)
if GM7!=null then
set J4=S_7(it,852218,1093743695,GM7)
endif
endif
if(not J4)then
set J4=IssueTargetOrderById(it,851983,m5)
endif
elseif m5!=null and(GetUnitLevel(it)>3)then
if(not J4)and((h4[O5]!=null)or(GetUnitState(it,UNIT_STATE_MANA)>200.))and((IsUnitInRange(it,m5,300.)or G0[256+O5]))then
set J4=(S27(it,852119,1093743698,m5))
endif
if(not J4)and(IsUnitInRange(it,m5,200.))then
set J4=(TD7(it,852526,1093743696))
endif
if(not J4)and(h4[O5]!=null)then
if(not IsUnitInRange(it,h4[O5],450.))and((S97(m5,it))or(G0[256+O5]))then
call CL7(it,m5,625*(GetUnitAbilityLevel(it,1093743695)+1),1.,99999)
if GM7!=null then
set J4=S_7(it,852218,1093743695,GM7)
endif
elseif GetUnitState(it,UNIT_STATE_MANA)>300. then
set EI7=Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))
call MoveLocation(HB,GetUnitX(it)+150*Cos(EI7),GetUnitY(it)+150*Sin(EI7))
set J4=S_7(it,852218,1093743695,HB)
endif
endif
if(not J4)then
if SP7(200.,it,Condition(function X47))>2 and(GetUnitState(it,UNIT_STATE_MANA)>500. or GetUnitManaPercent(it)>90.)then
set J4=(TD7(it,852526,1093743696))
endif
endif
endif
elseif(i1==1211117649)then
if(GetHeroLevel(it)>6)then
set m5=K3(700.,it,Condition(function k6))
set J4=(m5!=null)and((GetUnitState(it,UNIT_STATE_LIFE)*.5)>GetUnitState(m5,UNIT_STATE_LIFE))and(IssueTargetOrderById(it,852231,m5))
endif
if(not J4)then
set m5=SK7(800.,b5,Condition(function YP7))
if(m5==null)then
set m5=SK7(600.,b5,Condition(function YK7))
endif
set J4=((m5!=null)and(GetUnitLifePercent(m5)<70.)and((GetHeroLevel(it)>4)or(S97(m5,it)))and(IssueTargetOrderById(it,852095,m5)))or((GetUnitLifePercent(it)<70.)and(IssueTargetOrderById(it,852095,it)))
endif
elseif(i1==1160786265)then
call SetPlayerAbilityAvailable(pl,1093685844,false)
call SetPlayerAbilityAvailable(pl,1093685846,false)
set J4=(m5!=null)and(IsUnitInRange(it,m5,145+(40*GetUnitAbilityLevel(it,1093685839))))and(TD7(it,852129,1093685846))
if((not J4)and(GetHeroLevel(it)>5)and(SO7(900.,b5,Condition(function Y87))==0))then
if((not J4)and(m5!=null)and(GetUnitAbilityLevel(m5,1110456397)==0))then
set J4=((GetUnitLifePercent(m5)<40. or hq[624+O5]>Bz)and(SP7(450.,m5,Condition(function Kh))==0))and(IssuePointOrderById(it,852190,GetUnitX(m5),GetUnitY(m5)))
endif
set J4=(not J4)and(UN7(GetHandleId(it),"TrapMax")<GetUnitAbilityLevel(it,1093685840)*3+2)and(GetRandomInt(1,3)==1)and(GetUnitManaPercent(it)>60.)and(SO7(800.,b5,Condition(function k8))>2)and(SO7(800.,b5,Condition(function Kh))==0)and(not W97(it))and(IssuePointOrderById(it,852190,GetUnitX(it)+GetRandomReal(-100.,100.),GetUnitY(it)+GetRandomReal(-100.,100.)))
endif
elseif(i1==1311780930)then
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))then
set m5=SK7(1100.,b5,Condition(function k6))
endif
if((m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>50.))or(GetUnitLifePercent(m5)<60.)))then
set J4=IssuePointOrderById(it,852662,GetUnitX(m5)+150.*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+150.*Sin(GetUnitFacing(m5)*bj_DEGTORAD))
if((GetUnitLifePercent(it)>70.)and((Bz>hq[16+O5])or(SI7(m5,it)))and(G0[128+O5])and(GetUnitLifePercent(m5)<60.)and(GetUnitState(it,UNIT_STATE_LIFE)>(GetUnitState(m5,UNIT_STATE_LIFE)+(15.*GetHeroLevel(m5))))and((SP7(800.,m5,Condition(function Y17))-SP7(800.,m5,Condition(function YM7)))<=1))then
set h4[16+O5]=m5
else
set h4[16+O5]=null
endif
set hq[240+O5]=Bz+3.
endif
if((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<60.)and(IsUnitInRange(it,m5,700.)))then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(TG7(m5)),GetUnitX(m5)-GetUnitX(TG7(m5))))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093686072,true)
set GZ[O5]=true
call J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5)+250.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+250.*Sin(UP*bj_DEGTORAD)))
endif
if(not J4)then
set m5=K3(400.,it,Condition(function k6))
set J4=(m5!=null)and(IssueImmediateOrderById(it,852600))
endif
if((not J4)and(GetHeroLevel(it)>13)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))then
set UP=SO7(1000.,b5,Condition(function k6))
if((UP>1)and((SO7(1000.,b5,Condition(function YM7))>0)or(TH7(IsUnitAlly(it,Z7[0]))==1)))then
set m5=SK7(800.,b5,Condition(function k6))
if(SP7(375.,m5,Condition(function k6))>0)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093686072,true)
set GZ[O5]=true
call J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5),GetUnitY(m5)))
endif
endif
endif
elseif(i1==1311786311)then
if m5==null then
set m5=SK7(700.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and((GetUnitLifePercent(m5)<60)or(h4[O5]!=null))then
set EI7=Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))
if(G28(it,m5,EI7)!=null)or(GL8(it,m5,EI7)!=null)then
set J4=S27(it,852119,1093743178,m5)
if J4 then
call CWE(O5,m5,false,false)
endif
endif
if(not J4)and(not CB7(it,m5,GetUnitX(m5),GetUnitY(m5),64,Condition(function F_8)))and(IsUnitInRange(it,bj_lastLoadedUnit,550.))then
set J4=S27(it,852119,1093743178,bj_lastLoadedUnit)
if J4 then
call CWE(O5,m5,false,false)
endif
endif
if(not J4)and(h4[O5]!=null)and(GetUnitLifePercent(m5)<20.)then
set J4=S27(it,852119,1093743178,m5)
endif
endif
if(not J4)and(Bz>TC4[O5])and(m5!=null)and(DX9(m5)or GetUnitMoveSpeed(m5)<300.)and(IsUnitInRange(it,m5,700.))and((m5==h4[O5])or(GetUnitLifePercent(m5)<70))then
set J4=T47(it,852581,1093743184,1093747766,m5)
if J4 then
call CWE(O5,m5,false,false)
endif
endif
if m5==null then
set m5=SK7(1200.,b5,Condition(function k6))
endif
set UP=GetUnitAbilityLevel(it,1093743184)
if UP==0 then
set UP=GetUnitAbilityLevel(it,1093747766)
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and(GetUnitAbilityLevel(it,1093743179)>1)and((GetUnitState(it,UNIT_STATE_MANA)>200.+UP*100.)or(h4[O5]!=null))and((GetUnitLifePercent(m5)>40.)or(GetWidgetLife(m5)<GetUnitAbilityLevel(it,1093743179)*70))and(CL7(it,m5,3000.,1.,1800.)!=null)then
set J4=IssuePointOrderByIdLoc(it,852662,GM7)
endif
if(not J4)and(Bz>TC4[48+O5])and(((hq[704+O5]<-0.1)and(m5!=null))or((hq[704+O5]<-0.8)and(GetUnitLifePercent(it)<60.)))then
set J4=TD7(it,852526,1093743689)
endif
if(not J4)and(Bz>TC4[32+O5])and(GetUnitAbilityLevel(it,1093743179)>1)and(GetUnitState(it,UNIT_STATE_MANA)>300.+UP*100.)then
set m5=K3(1500.,it,Condition(function YD7))
if(m5!=null)then
set IN4=it
call CB7(it,m5,GetUnitX(m5),GetUnitY(m5),175,Condition(function FT8))
if bj_forLoopAIndex>2 then
set J4=IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))
endif
endif
endif
if(not J4)and(Bz>TC4[16+O5])and(h4[O5]==null)and(GetUnitAbilityLevel(it,1093743178)>1)and(GetUnitState(it,UNIT_STATE_MANA)>=250.)then
if m5==null or(not IsUnitInRange(m5,it,700))then
set m5=SK7(700.,b5,Condition(function k6))
endif
if((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[128+O5])and(not G0[48+O5])and(SO7(400.,b5,Condition(function k8))==0))then
set UP=R2I(RF7(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
if(GetRandomInt(1,2)==1)then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-25
else
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+25
endif
set J4=IssuePointOrderById(it,851986,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))
endif
endif
elseif(i1==1211117652)then
if(m5==null)then
set m5=SK7(1200.,b5,Condition(function k6))
endif
if(not J4)and(GetUnitLevel(it)>5)and(Bz>TC4[O5])and(not IsUnitInRange(it,m5,300))and(h4[O5]!=null)and(GZ[208+O5]or((SP7(700.,m5,Condition(function SQ7))==0)and(GetUnitLifePercent(m5)<70. or SF7(O5))))then
set UP=GetUnitAbilityLevel(it,1093687864)
if UP==0 then
set UP=GetUnitAbilityLevel(it,1093747542)
endif
if(C07(it,m5,0.5,(UP+3)*500)!=null)then
if(CB7(it,m5,GetLocationX(GM7),GetLocationY(GM7),125,Condition(function F18)))or(IsUnitInRange(bj_lastReplacedUnit,m5,175)and(IsUnitEnemy(bj_lastReplacedUnit,Player(O5))or SR7(it,ZU[G44])))then
set J4=(T77(it,852652,1093687864,1093747542,GetLocationX(GM7),GetLocationY(GM7)))
endif
endif
if J4 then
call R47(0.1)
set J4=false
endif
endif
if(not J4)and(Bz>TC4[48+O5])and(GetUnitAbilityLevel(it,1093687862)>1)then
if(m5==null)then
set m5=SK7(99999.,GetUnitLoc(it),Condition(function k6))
endif
if((m5!=null))then
if(GetUnitLifePercent(m5)<50. or GetUnitState(it,UNIT_STATE_MANA)>300.)then
if S97(m5,it)or GZ[208+O5]or h4[O5]!=null then
if CL7(it,m5,1200.,0,99999.)!=null then
set J4=S_7(it,852089,1093687862,GM7)
endif
else
set J4=S_7(it,852089,1093687862,S07(m5))
endif
endif
endif
endif
if(not J4)and(Bz>TC4[32+O5])and(m5!=null)and(PE7(it)>1000.)and(G0[256+O5])and(GetUnitState(it,UNIT_STATE_MANA)>200.)and(IsUnitInRange(it,m5,210))then
set J4=IssueImmediateOrderById(it,852581)
endif
if(not J4)and(Bz>TC4[16+O5])and(h4[O5]!=null)and(IsUnitInRange(it,m5,275))then
set J4=IssueImmediateOrderById(it,852600)
endif
elseif(i1==1160786520)then
call SetPlayerAbilityAvailable(pl,1093809991,(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>70.))
if eY[448+O5]!=0 and R57(it)then
if(IsUnitInRange(it,h4[320+O5],950.))and(LoadInteger(L7,(GetHandleId(h4[320+O5])),(705))==eY[448+O5])then
set J4=IssueTargetOrderById(it,852665,h4[320+O5])
else
set eY[448+O5]=0
endif
endif
if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))then
set m5=SK7(700.,b5,Condition(function k6))
endif
if not J4 then
set J4=(m5!=null)and(GetHeroLevel(it)>3)and((GetUnitManaPercent(it)>40.)or(S97(m5,it)))and(S27(it,852184,1093809991,m5))
endif
if(not J4)and hq[816+O5]>Bz then
set G0[288+O5]=true
call THF()
endif
set G0[304+O5]=false
elseif(i1==1311788336)then
if m5==null then
set m5=SK7(700.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<60))and(GetUnitState(it,UNIT_STATE_MANA)>100)then
set UP=1
loop
exitwhen UP>3
set bj_lastCreatedUnit=(LoadUnitHandle(L7,GetHandleId(it),(1450+UP)))
exitwhen bj_lastCreatedUnit==null
if(GetWidgetLife(bj_lastCreatedUnit)>0)and(IsUnitInRange(bj_lastCreatedUnit,m5,300))then
set J4=IssuePointOrderById(it,852185,GetUnitX(bj_lastCreatedUnit),GetUnitY(bj_lastCreatedUnit))
exitwhen true
endif
set UP=UP+1
endloop
if(not J4)and(not IsUnitInRange(it,m5,400))and(LoadInteger(L7,GetHandleId(it),(747))>0)and(CL7(it,m5,GetUnitMoveSpeed(it)*2.5,0.2,1500.)!=null)then
set J4=IssuePointOrderByIdLoc(it,852490,GM7)
endif
if J4 then
call CWE(O5,m5,false,false)
endif
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70))and(IsUnitInRange(it,m5,350))and(SP7(400.,it,Condition(function X47))<=2)then
set J4=TD7(it,852526,1093814323)
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and((h4[O5]!=null)or(GetUnitManaPercent(it)>50 and GetUnitState(it,UNIT_STATE_MANA)>220))then
set J4=S27(it,852089,1093814320,m5)
endif
if(not J4)and(m5!=null)and(Bz>TC4[48+O5])and(h4[O5]!=null)then
set J4=IssueImmediateOrderById(it,852600)
endif
if(not J4)and(Bz>TC4[32+O5])and(GetUnitManaPercent(it)>50 and GetUnitState(it,UNIT_STATE_MANA)>400)then
set m5=SK7(700.,b5,Condition(function X47))
if(m5!=null)then
set J4=S27(it,852089,1093814320,m5)
endif
endif
elseif(i1==1160786507)then
if m5==null then
set m5=SK7(700.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and((GetUnitLifePercent(m5)<70.)or(h4[O5]!=null))then
set UP=SO7(315.,S07(m5),Condition(function k8))
if(not J4)then
set J4=(UP>=3)and(S27(it,852089,1093814850,m5))
endif
endif
if(not J4)and(Bz>TC4[32+O5])and((GetUnitLifePercent(it)<60)or((h4[O5]!=null)and((GetUnitLifePercent(it)<80)or(UnitCountBuffsEx(it,false,true,true,true,false,false,false)>=0))))then
set J4=IssueTargetOrderById(it,852248,it)
endif
if(not J4)and(Bz>TC4[O5])and(G0[256+O5])and((GetUnitLifePercent(m5)<30 and GetUnitLifePercent(it)>GetUnitLifePercent(m5)+25)or(GZ[208+O5]and GetUnitLifePercent(m5)<60))then
set J4=IssueTargetOrderById(it,852095,m5)
endif
if(not J4)and(Bz>TC4[32+O5])then
set m5=SK7(800.,b5,Condition(function YP7))
set J4=(m5!=null)and(IssueTargetOrderById(it,852248,m5))
endif
elseif(i1==1211122767)then
if m5==null then
set m5=SK7(800.,b5,Condition(function k6))
endif
if(not J4)and(m5!=null)and(Bz>TC4[48+O5])and((h4[O5]!=null)or(GetUnitManaPercent(m5)>60 and GetUnitLifePercent(m5)<70))and((Bz<TC4[O5])or(GetUnitState(it,UNIT_STATE_MANA)>LRE(it,1093812807,GR7)+100))then
set J4=S27(it,852668,1093814350,m5)
endif
if(not J4)and(m5!=null)and(Bz>TC4[O5])and((GetUnitLifePercent(m5)<30)or(DX9(m5))or(GetUnitAbilityLevel(m5,1110459993)!=0))then
set J4=(C07(it,m5,0.5,1200)!=null)and(IssuePointOrderByIdLoc(it,852662,GM7))
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and((GetUnitLifePercent(m5)<70)or(h4[O5]!=null))and(SP7(RE7(it,m5),it,Condition(function k6))<=1)then
set J4=TD7(it,852526,1093814612)
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and((GetUnitLifePercent(m5)<70)or(h4[O5]!=null)or(GetUnitManaPercent(m5)>80))and((Bz<TC4[O5])or(GetUnitState(it,UNIT_STATE_MANA)>LRE(it,1093812807,GR7)+100))then
set J4=S27(it,852119,1093812805,m5)
endif
elseif(i1==1160786738)then
if m5==null then
set m5=SK7(700.,b5,Condition(function k6))
endif
if(not J4)then
if GetUnitAbilityLevel(it,1093813848)==0 then
if(h4[O5]!=null)and(not IsUnitInRange(it,m5,400))then
if CL7(it,m5,1000,0.1,1200)!=null then
call IssuePointOrderByIdLoc(it,852216,GM7)
endif
endif
else
if(h4[O5]==null)or(IsUnitInRange(it,m5,400))or(SP7(225,U87(GetHandleId(it),"AI|ShredChakram"),Condition(function k6))==0)then
call IssueImmediateOrderById(it,852177)
endif
endif
call TriggerSleepAction(0.1)
endif
if(not J4)and(m5!=null)and(Bz>TC4[32+O5])and((h4[O5]!=null)or(GetUnitLifePercent(it)<70))then
set UP=600+200*GetUnitAbilityLevel(it,1093813555)
if CL7(it,m5,2*UP,0.8,UP)!=null then
if ZU7(it,UP)or((WW4!=null)and(bj_enumDestructableRadius==0)and(RE7(WW4,it)>400.))then
set J4=IssuePointOrderByIdLoc(it,852662,GM7)
endif
endif
if(not J4)and(GetUnitLifePercent(m5)<30)then
if ZS7(S07(m5),300)and(RE7(WW4,it)>400.)then
set J4=IssuePointOrderById(it,852662,GetDestructableX(WW4),GetDestructableY(WW4))
endif
endif
endif
if(not J4)and(m5!=null)and(Bz>TC4[16+O5])and(IsUnitInRange(it,m5,300))then
set J4=TD7(it,852526,1093813835)
endif
endif
if not G0[304+O5]then
if((not J4)and(is(it)))then
if(GetUnitAbilityLevel(it,1110454609)>0)then
set m5=SK7(250.,b5,Condition(function k6))
if(m5!=null)then
call UnitRemoveAbility(it,1110454609)
set J4=IssueTargetOrderById(it,851983,m5)
else
set m5=SK7(800.,b5,Condition(function k6))
set J4=(m5!=null)and(not IsUnitVisible(it,GetOwningPlayer(m5)))and(IssueTargetOrderById(it,851986,m5))
endif
elseif((RE7(it,TG7(it))<1000.)and(eY[O5]==1))then
if(SR7(it,ZU[F6]))then
if(h8[16+O5]==h7[14])then
set J4=RJF(0)
elseif(h8[16+O5]==h7[35])then
set J4=RJF(1)
elseif(h8[16+O5]==h7[55])then
set J4=RJF(2)
endif
elseif((GetHeroLevel(it)<11)and(not SS7(it)))then
set m5=null
if(((i1==1211117641)and(GetHeroLevel(it)>5))or(i1==1211117642))then
elseif((IsPlayerAlly(pl,A7[0]))and(h8[16+O5]==h7[14])and(P14<1))then
set m5=JL4
elseif((IsPlayerAlly(pl,Z7[0]))and(h8[16+O5]==h7[14])and(P34<1))then
set m5=JH4
elseif((IsPlayerAlly(pl,A7[0]))and(h8[16+O5]==h7[35])and(P04<1))then
set m5=J64
elseif((IsPlayerAlly(pl,Z7[0]))and(h8[16+O5]==h7[35])and(P64<1))then
set m5=JG4
elseif((IsPlayerAlly(pl,A7[0]))and(h8[16+O5]==h7[55])and(P54<1))then
set m5=J14
elseif((IsPlayerAlly(pl,Z7[0]))and(h8[16+O5]==h7[55])and(PL4<1))then
set m5=JI4
endif
if(m5!=null)then
loop
call TriggerSleepAction(0.5)
exitwhen(Bz>K17[160+O5])
endloop
set J4=V37(it,m5)
if(not J4 or not T6F)then
call DisableTrigger(H94)
call RemoveItem(T3F)
call EnableTrigger(H94)
else
call SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)-0))
call TQ7(StringHash("Stats"+I2S(O5)),"NumOfConsumables",UN7(StringHash("Stats"+I2S(O5)),"NumOfConsumables")+1)
endif
endif
endif
endif
if((not J4)and(SR7(it,ZU[DP4])))then
set m5=SK7(700.,b5,Condition(function KA))
if((m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)>100.)and(GetUnitState(m5,UNIT_STATE_LIFE)<400.))then
if(not(IsUnitInRange(m5,it,550)))then
call IssuePointOrderById(it,851986,GetUnitX(m5),GetUnitY(m5))
call R47(.5)
endif
set J4=(SP7(600.,it,Condition(function KA))>3)and(UnitUseItem(it,bj_lastCreatedItem))
endif
set m5=null
set J4=false
endif
if((not J4)and(SR7(it,ZU[S6])))then
if((GetRandomInt(1,10)<=4)and(Bz>hq[144+O5]))then
set m5=SK7(700.,b5,Condition(function k8))
set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(not IsUnitType(m5,UNIT_TYPE_HERO))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
endif
if((not J4)and SR7(it,ZU[M3]))then
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if((not J4)and SR7(it,ZU[DM4])and(UU7(it,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(it)>90.)and(IsUnitInRange(it,m5,150.)))then
set J4=(m5!=null)and(UnitUseItem(it,bj_lastCreatedItem))
elseif(SR7(it,ZU[DK4])and(UU7(it,"ArmletOfMordigan|Active")==true)and((not IsUnitInRange(it,m5,150.))or(GetUnitLifePercent(it)<60.)))then
set J4=(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and SR7(it,ZU[FC]))then
set J4=(m5!=null)and(GetUnitLifePercent(m5)<40)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if((not J4)and(SR7(it,ZU[DU4])))then
set J4=(m5!=null)and(GetUnitLifePercent(m5)<30)and(G0[256+O5]or GZ[208+O5])and(R97(m5,it,30))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if((not J4)and(SR7(it,ZU[DY4]))and(GetItemCharges(bj_lastCreatedItem)>0)and(Bz>TC4[224+O5])and(GetUnitState(m5,UNIT_STATE_LIFE)<120))then
set J4=(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if((not J4)and(SR7(it,ZU[VB]))and(GetItemCharges(bj_lastCreatedItem)>0)and(Bz>TC4[256+O5]))then
set J4=((SP7(900.,it,Condition(function Y17)))>2)and((SP7(900.,it,Condition(function YM7)))>1)and(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and(SB7(it))and(Bz>TC4[192+O5]))then
if(GetUnitState(it,UNIT_STATE_LIFE)<150)or((GetItemCharges(bj_lastCreatedItem)>=8)and(GetUnitLifePercent(it)<50 or GetUnitManaPercent(it)<20)and(RE7(it,h9[16+O5])>600))then
set J4=UnitUseItem(it,bj_lastCreatedItem)
endif
endif
if((not J4)and(SR7(it,ZU[F74])))then
set J4=(Bz>hq[128+O5])and((GetUnitState(it,UNIT_STATE_MAX_MANA)-GetUnitState(it,UNIT_STATE_MANA))>150.)and(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and(SR7(it,ZU[D44])))then
set J4=((Bz+20.)<hq[O5]or(Bz+20.)<TC4[O5])and(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and(SR7(it,ZU[T2])))then
set J4=(GetUnitLifePercent(it)<50)and((h4[O5]!=null)or(G0[256+O5])or(GZ[208+O5]))and(UnitUseItem(it,bj_lastCreatedItem))
endif
if((not J4)and(SR7(it,ZU[WC])))then
if(UP7(R44,VY7(it)+"|G"))then
set m5=SN7(700.,b5,Condition(function Km))
set J4=(m5!=null)and(GetRandomInt(1,8)==1)and(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(m5)+GetRandomReal(0.,200.)-100.,GetUnitY(m5)+GetRandomReal(0.,200.)-100.))
if((not J4)and(GetRandomInt(1,4)==1)and(SN7(1000.,b5,Condition(function Y87))==null)and(SN7(1200.,b5,Condition(function Km))!=null))then
set J4=(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(it)+GetRandomReal(0.,200.)-100.,GetUnitY(it)+GetRandomReal(0.,200.)-100.))
endif
endif
if((not J4)and(GetRandomInt(1,5)==1)and(RE7(it,TG7(it))>5000.)and(GetItemCharges(bj_lastCreatedItem)>1)and(SN7(800.,b5,Condition(function k8))!=null)and(SN7(1000.,b5,Condition(function Y87))==null)and(SN7(1100.,b5,Condition(function K7))==null))then
set J4=(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(it)+GetRandomReal(0.,200.)-100.,GetUnitY(it)+GetRandomReal(0.,200.)-100.))
endif
endif
if((not J4)and(SR7(it,ZU[W6])))then
if(m5!=null)and(GetUnitLifePercent(m5)<30)then
set J4=UnitUseItemTarget(it,bj_lastCreatedItem,m5)
else
set m5=ZE7(500.,it)
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
endif
if((not J4)and(SR7(it,ZU[DE4])))then
if not((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,Player(O5))))then
set m5=SN7(900.,b5,Condition(function k6))
endif
if(m5!=null)then
set m5=Z97(900.,it)
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
endif
if((not J4)and(SR7(it,ZU[R3])))and(h4[O5]!=null)then
set m5=ZG7(600,it)
set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
if((not J4)and(SR7(it,ZU[DU4])))then
set m5=Z87(800,it)
if(SE7(m5))then
set bj_forLoopAIndexEnd=GetPlayerId(GetOwningPlayer(m5))
if R97(m5,h9[16+bj_forLoopAIndexEnd],20)then
set b5=kk(m5,600.,h9[16+bj_forLoopAIndexEnd])
set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
if J4 then
set h9[bj_forLoopAIndexEnd]=h9[16+bj_forLoopAIndexEnd]
endif
elseif(R97(m5,h9[bj_forLoopAIndexEnd],20))and(h9[bj_forLoopAIndexEnd]!=h9[16+bj_forLoopAIndexEnd])then
set b5=kk(m5,600.,h9[bj_forLoopAIndexEnd])
set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))
endif
endif
endif
endif
if((not J4)and(h4[O5]!=null)and(G0[128+O5])and(GetHeroLevel(it)>5))then
set UP=GetUnitCurrentOrder(it)
set m5=h4[O5]
if(((UP==851983)or(UP==851993))and(IsUnitVisible(m5,pl))and(GetUnitAbilityLevel(m5,1110454854)==0)and(not IC(O5))and((GetUnitLifePercent(it)+15.)>GetUnitLifePercent(m5))and(not G0[48+O5]))then
call IssueTargetOrderById(it,851983,m5)
elseif((UP==851986)and(IsUnitInRange(it,m5,600.)))then
call MQF(it,m5)
endif
endif
endif
set it=null
set pl=null
set b5=null
set TCF=null
set m5=null
set T1F=null
set X07=null
set TBF=null
set TAF=null
endfunction
function TIF takes nothing returns nothing
local unit it=bj_lastLoadedUnit
local unit m5=null
local integer i1=GetUnitTypeId(it)
local integer O5=GetPlayerId(GetOwningPlayer(it))
local integer UP
local boolean J4=false
if DT7 then
call TriggerSleepAction(GetRandomReal(0.2,0.4))
endif
set DT7=true
if((i1==1848651848)or(i1==1848651847)or(i1==1848651851)or(i1==1848651850)or(i1==1848651841)or(i1==1848651830))then
set m5=h4[O5]
if(m5==null)then
set m5=SK7(1000.,S07(it),Condition(function k6))
endif
if((m5!=null)and(GetUnitLifePercent(M7[O5])>50.)and(GetHeroLevel(M7[O5])>5)and(not G0[O5])and(G0[128+O5])and(is(M7[O5]))and(IsUnitInRange(M7[O5],m5,800.)))then
set UP=GetUnitTypeId(M7[O5])
if(UP==1332963428)then
set J4=(Bz>hq[O5])and(GetUnitLifePercent(m5)<70.)and(GetUnitState(M7[O5],UNIT_STATE_MANA)>hq[272+O5])and(S27(M7[O5],852480,1093677649,m5))
elseif(UP==1429221446)then
set J4=(Bz>hq[O5])and(GetUnitLifePercent(m5)<80.)and(IsUnitInRange(M7[O5],m5,450.))and(T47(M7[O5],852480,1093682764,1093747544,m5))
elseif(UP==1164799855)then
call S27(M7[O5],852075,1093682264,m5)
elseif(UP==1433105516)then
set J4=(Bz>hq[O5])and(GetUnitLifePercent(m5)<70.)and(not kr(M7[O5]))and(IssueTargetOrderById(M7[O5],OrderId("cannibalize"),m5))
elseif(UP==1332898670)then
if(IsUnitInRange(M7[O5],m5,400)or DX9(m5))then
set GZ[O5]=true
call J8(O5,S27(M7[O5],852480,1093677136,m5))
endif
elseif(UP==1214931305)then
call S27(M7[O5],852171,1093678147,m5)
elseif(UP==1211117633)then
call S27(M7[O5],852585,1093684045,m5)
elseif(UP==1211117636)then
set J4=(GetUnitLifePercent(m5)<50.)and(T47(M7[O5],852095,1093685042,1093810233,m5))
elseif(UP==1160786243)then
if((GetUnitLifePercent(m5)<50.)and(IsUnitInRange(M7[O5],m5,650.)))then
set GZ[O5]=true
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[O5])-GetUnitY(M7[O5]),GetUnitX(h8[O5])-GetUnitX(M7[O5])))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093678672,true)
call J8(O5,IssuePointOrderById(M7[O5],852089,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD)))
endif
elseif(UP==1311781207)then
set J4=S27(M7[O5],852095,1093684817,m5)
endif
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and((IssueTargetOrderById(it,OrderId("creepheal"),m5))or(IssueTargetOrderById(it,851983,m5)))
elseif((i1==1429221441)or(i1==1212363833)or(i1==1164277357)or(i1==1865429047)or(i1==1865429062)or(i1==1752654196)or(i1==1752658994)or(i1==1752658995)or(i1==1747988534)or(GetUnitAbilityLevel(it,1110455088)>0))then
set m5=h4[O5]
if(m5==null)then
set m5=SK7(800.,S07(it),Condition(function k6))
endif
if((m5!=null)and(GetUnitLifePercent(M7[O5])>50.)and(not G0[O5])and(G0[128+O5])and(is(M7[O5]))and(IsUnitInRange(M7[O5],m5,800.)))then
set UP=GetUnitTypeId(M7[O5])
if(UP==1429221441)then
set J4=(S27(M7[O5],852231,1093678389,m5))or(IssueTargetOrderById(M7[O5],851983,m5))
elseif(UP==1212363833)then
set J4=(S27(M7[O5],852095,1093809220,m5))or(IssueTargetOrderById(M7[O5],851983,m5))
elseif((UP==1160786229)or(UP==1164277357)or(UP==1433105516))then
call IssueTargetOrderById(M7[O5],851983,m5)
endif
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5))
elseif(i1==1848652343)then
set m5=h4[O5]
if(m5==null)then
set m5=SK7(800.,S07(it),Condition(function k6))
endif
if((m5!=null)and(GetUnitLifePercent(M7[O5])>50.)and(not G0[O5])and(G0[128+O5])and(is(M7[O5]))and(IsUnitInRange(M7[O5],m5,800.)))then
set UP=GetUnitTypeId(M7[O5])
if(UP==1211117653)then
set J4=((Bz>TC4[16+O5])and AO7(M7[O5],LP4,LP4,LP4,1093686874)and(S27(M7[O5],852505,1093686874,m5)))or(IssueTargetOrderById(M7[O5],851983,m5))
endif
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and((GetUnitLevel(M7[O5])>16)or(GetUnitLifePercent(m5)<10.))and(GetUnitLifePercent(m5)<25.)and(IssueTargetOrderById(it,851983,m5))
elseif((i1==1848652103)or(i1==1848652099)or(i1==1848652088)or(i1==1848651828))then
if(((GetUnitLifePercent(it)<25.)or(GZ[288+O5]))and((h4[O5]==null)or(not IsUnitInRange(it,M7[O5],1000.))))then
set J4=S57(it,851986,TG7(it))
set GZ[288+O5]=GetUnitLifePercent(it)<50.
elseif((not GZ[272+O5])and(not G0[16+O5])and(G0[128+O5]))then
set m5=M7[O5]
set J4=(GetUnitLifePercent(it)<90.)and(RE7(TG7(it),it)<400.)and(S57(it,851986,TG7(it)))
set UP=R2I(RF7(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093681463,UP>800)
if(not J4)then
if(UP>1000)then
set J4=((UP>3000)and(IssueImmediateOrderById(it,852594)))or(IssueTargetOrderById(it,851971,m5))
else
set J4=((not G0[128+O5])or((GetUnitCurrentOrder(m5)==851986)and((RE7(it,h8[O5])+700.)<RE7(m5,h8[O5]))))and(S57(it,851986,h9[O5]))
endif
endif
if((not J4)and(GetHeroLevel(M7[O5])<12)and(Bz>hq[240+O5])and(eY[O5]==1))then
set m5=SK7(600.,S07(it),Condition(function KD))
if(m5==null)then
set m5=SK7(600.,S07(it),Condition(function Kc))
endif
set J4=(m5!=null)and(IssueTargetOrderById(it,851971,m5))
if((not J4)and(SO7(400.,S07(it),Condition(function Ka))>0))then
set m5=SK7(400.,S07(it),Condition(function k6))
if(m5==null)then
set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h9[O5])-GetUnitY(it),GetUnitX(h9[O5])-GetUnitX(it)))
set J4=IssuePointOrderById(it,851986,GetUnitX(it)+350.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+350.*Sin(UP*bj_DEGTORAD))
else
set J4=IssueTargetOrderById(it,851971,m5)
endif
endif
endif
else
set J4=S57(it,851986,TG7(it))
endif
elseif(GetUnitTypeId(M7[O5])==1211117633)then
set m5=M7[O5]
set J4=(((GetUnitLifePercent(it)<90.)and(RE7(TG7(it),it)<400.))or(not S87(m5)))and(S57(it,851986,TG7(it)))
if((not J4)and(GetUnitLifePercent(it)<30.))then
set J4=((i1==1852796263)or(i1==1852207203)or(i1==1853060200)or(i1==1852010091))and(S57(it,851986,TG7(it)))
endif
if(i1==1852796263)then
if((not J4)and(GetRandomInt(0,5)>1))then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094936114,true)
set J4=((GetUnitAbilityLevel(m5,1112893025)==0)and(IsUnitInRange(it,m5,800.))and(IssueTargetOrderById(it,852225,m5)))or((GetUnitAbilityLevel(it,1112893025)==0)and(IssueTargetOrderById(it,852225,it)))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094936114,J4)
else
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094936114,false)
endif
endif
if(not J4)then
if(not IsUnitInRange(it,m5,1000.))then
if((h9[O5]!=TG7(it))and(not IsUnitInRange(it,m5,3000.))and((RAbsBJ(GetUnitX(it)-GetUnitX(m5))>3000.)and(RAbsBJ(GetUnitY(it)-GetUnitY(m5))>3000.)))then
set J4=S57(it,851983,h9[O5])
else
set J4=IssueTargetOrderById(it,851971,m5)
endif
else
set J4=((not G0[128+O5])or((GetUnitCurrentOrder(m5)==851986)and((RE7(it,h8[O5])+450.)<RE7(m5,h8[O5]))))and(S57(it,851986,h9[O5]))
endif
endif
if((GetUnitLifePercent(it)<50.)and(IsUnitInRange(it,m5,600.))and(iU(m5)))then
if(((i1==1852796263)or(i1==1852207203)or(i1==1853060200)or(i1==1852010091))and(RE7(it,TG7(it))>4000.))then
call S27(m5,852131,1093810260,it)
endif
endif
if((not J4)and(h4[O5]!=null))then
set m5=h4[O5]
if(i1==1853060200)then
set J4=(IsUnitInRange(it,m5,700.))and(IssueTargetOrderById(it,852125,m5))
elseif((i1==1852207203)or(i1==1852010091))then
set J4=(IsUnitInRange(it,m5,250.))and(IssueTargetOrderById(it,852127,m5))
endif
endif
elseif((i1==1848652113)or(i1==1848652114))then
set J4=((S87(M7[O5]))and(IssueTargetOrderById(it,851986,M7[O5])))
elseif((i1==1966092339)or(i1==1966092341)or(i1==1966092345))then
elseif((i1==1966092596)or(i1==1966092597)or(i1==1966092598))then
if(UU7(M7[O5],"AIFamiliar1|Status")==false)then
call TPF(O5,it)
endif
set J4=true
elseif((i1==1966092612)or(i1==1966092613)or(i1==1966092614))then
if(UU7(M7[O5],"AIFamiliar2|Status")==false)then
call TPF(O5,it)
endif
set J4=true
elseif((i1==1966092626)or(i1==1966092627)or(i1==1966092628))then
if(UU7(M7[O5],"AIFamiliar3|Status")==false)then
call TPF(O5,it)
endif
set J4=true
elseif((i1==1697656907)or(i1==1697656905)or(i1==1697656908))then
set h4[16+O5]=it
if(is(it))then
set J4=(((G0[16+O5])or((GetUnitLifePercent(it)<90.)and(RE7(TG7(it),it)<400.)))and(S57(it,851986,TG7(it))))or((GetUnitState(it,UNIT_STATE_LIFE)<175.)and((S57(it,852525,TG7(it)))or(S57(it,851986,TG7(it)))))
if((h8[528+O5]!=null)and(not J4))then
set UP=GetUnitUserData(h8[528+O5])
if((UP<10)or(UP>60))then
set UP=GetUnitUserData(h9[512+O5])
endif
if((UP>=10)and(UP<=18))then
set m5=h7[10+P24]
elseif((UP>=30)and(UP<=40))then
set m5=h7[30+P_4]
elseif((UP>=50)and(UP<=60))then
set m5=h7[50+Q44]
endif
if((Bz>hq[240+O5])and(GetRandomInt(1,2)==1))then
if((m5!=h7[10+P24])and(SP7(900.,h7[10+P24],Condition(function KC))>4)and(SP7(900.,h7[10+P24],Condition(function Y87))>0))then
set m5=h7[10+P24]
set hq[240+O5]=Bz+30.
elseif((m5!=h7[30+P_4])and(SP7(900.,h7[30+P_4],Condition(function KC))>4)and(SP7(900.,h7[30+P_4],Condition(function Y87))>0))then
set m5=h7[30+P_4]
set hq[240+O5]=Bz+30.
elseif((m5!=h7[50+Q44])and(SP7(900.,h7[50+Q44],Condition(function KC))>4)and(SP7(900.,h7[50+Q44],Condition(function Y87))>0))then
set m5=h7[50+Q44]
set hq[240+O5]=Bz+30.
endif
endif
if((UP>=10)and(UP<=60))then
if(IsUnitAlly(it,A7[0]))then
set UP=hj[512+GetUnitUserData(m5)]
else
set UP=GetUnitUserData(m5)
endif
set h8[512+O5]=h7[UP+1]
set h8[528+O5]=h7[UP]
set h9[512+O5]=h7[UP-1]
endif
endif
if(GZ[O5])then
set J4=IssueImmediateOrderById(it,852521)
set GZ[O5]=false
else
if(h8[512+O5]!=null)then
set J4=((not IsUnitInRange(it,h8[528+O5],3500.))and(S57(it,852525,h8[528+O5])))or(S57(it,851983,h8[512+O5]))
else
set J4=((M7[O5]!=null)and(not IsUnitInRange(it,M7[O5],400.))and(S57(it,851983,M7[O5])))
endif
endif
endif
elseif((i1==1697656909)or(i1==1697656910)or(i1==1697656911))then
if((eY[O5]!=3)and(eY[O5]!=4))then
if(((GetUnitY(it)>4000.)and(GetUnitY(it)<7000.))or((GetUnitX(it)>-7500.)and(GetUnitX(it)<-5000.)))then
set m5=h7[30+P_4]
elseif(((GetUnitY(it)>-8000.)and(GetUnitY(it)<-5500.))or((GetUnitX(it)>4500.)and(GetUnitX(it)<7000.)))then
set m5=h7[50+Q44]
else
set m5=h7[10+P24]
endif
if(IsUnitAlly(it,A7[0]))then
set UP=hj[512+GetUnitUserData(m5)]
else
set UP=GetUnitUserData(m5)
endif
set J4=S57(it,851983,h7[UP+1])
endif
elseif((i1==1848651861)or(i1==1848651865)or(i1==1848651866))then
set m5=h4[O5]
if(m5==null)then
set m5=SK7(800.,S07(it),Condition(function k6))
endif
set J4=(GetUnitLifePercent(it)<90.)and(GetUnitLifePercent(M7[O5])>50.)and(not G0[O5])and(is(M7[O5]))and(IsUnitInRange(M7[O5],it,800.))and(IssueTargetOrderById(M7[O5],852248,it))
if((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<50.)and(GetUnitLifePercent(M7[O5])>50.)and(not G0[O5])and(is(M7[O5]))and(IsUnitInRange(M7[O5],m5,800.)))then
set GZ[O5]=true
set J4=J8(O5,S27(M7[O5],852089,1093678672,m5))
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5))
elseif(GetUnitAbilityLevel(it,1110455105)>0)then
set J4=(GetUnitLifePercent(it)<50.)and(S57(it,851986,h9[O5]))
elseif((i1==1852862003)or(i1==1852862006)or(i1==1848652080)or(i1==1848657754))then
call QBF(it,16+O5)
if(GZ[272+O5])then
set J4=S57(it,851986,h9[16+O5])
else
set m5=h4[O5]
if(m5==null)then
set m5=SK7(800.,S07(it),Condition(function k6))
endif
set J4=(m5!=null)and((IssueTargetOrderById(it,852252,m5))or(IssueImmediateOrderById(it,852520))or((GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5))))
endif
call QCF(it,16+O5,J4)
set J4=true
elseif((i1==1852862002)or(i1==1852862005)or(i1==1848652082)or(i1==1848657969))then
call QBF(it,512+O5)
set m5=h4[O5]
if(m5==null)then
set m5=SK7(800.,S07(it),Condition(function k6))
endif
if(m5!=null)then
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094935417,true)
set J4=(GZ[272+O5])and(IssueTargetOrderById(it,852144,m5))
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094935417,J4)
if(not J4)then
set J4=((UnitCountBuffsExBJ(bj_BUFF_POLARITY_POSITIVE,bj_BUFF_RESIST_EITHER,GetFilterUnit(),false,false)>0)and(IssueTargetOrderById(it,852057,m5)))or((GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5)))
endif
else
call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094935417,false)
endif
call QCF(it,512+O5,J4)
if(GetUnitLifePercent(it)<25.)then
set J4=IssueImmediateOrderById(it,852129)
elseif(GetUnitAbilityLevel(it,1112504171)>0)then
set J4=S57(it,851986,h9[16+O5])
endif
set J4=true
elseif((i1==1852862001)or(i1==1852862004)or(i1==1848652081)or(i1==1848657968))then
call QBF(it,528+O5)
set m5=h4[O5]
if(m5==null)then
set m5=SK7(800.,S07(it),Condition(function k6))
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5))
call QCF(it,528+O5,J4)
set J4=true
elseif((i1==1848652109)or(i1==1848652115))then
set m5=h4[O5]
set h4[16+O5]=it
if(m5==null)then
set m5=SK7(800.,S07(it),Condition(function k6))
endif
set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,851983,m5))
endif
if(not J4)then
if h4[O5]!=null then
call IssueTargetOrderById(it,851983,h4[O5])
elseif((eY[O5]>=9))then
call IssueTargetOrderById(it,851990,M7[O5])
elseif((eY[O5]!=3)and(eY[O5]!=4))then
call S57(it,851983,h8[O5])
else
if((S87(M7[O5]))and(IsUnitInRange(it,M7[O5],1200.)))then
set m5=M7[O5]
else
set m5=SK7(1200.,S07(it),Condition(function k8))
endif
set J4=((m5!=null)and(IssuePointOrderById(it,851983,GetUnitX(m5),GetUnitY(m5))))or(S57(it,851983,h8[64+O5]))
endif
endif
set it=null
set m5=null
endfunction
function U8F takes nothing returns nothing
local integer O5=1
local real QE7
loop
exitwhen O5>11
if(IsPlayerInForce(Player(O5),QX4))then
call GroupClear(Q54)
call GroupEnumUnitsOfPlayer(Q54,Player(O5),Q24)
call ForGroup(Q54,function TGF)
endif
if M7[O5]!=null and GetWidgetLife(M7[O5])>.405 then
set QE7=GetUnitState(M7[O5],UNIT_STATE_LIFE)/GetUnitState(M7[O5],UNIT_STATE_MAX_LIFE)
set hq[704+O5]=(QE7-hq[688+O5])
if(Bz>hq[736+O5])or(hq[720+O5]>hq[704+O5])then
set hq[720+O5]=hq[704+O5]
set hq[736+O5]=Bz+10.
endif
set hq[688+O5]=QE7
endif
set O5=O5+1
endloop
endfunction
function U9F takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and(not WH7(GetSpellAbilityId())))
endfunction
function UDF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer i1=GetUnitTypeId(m5)
if((SE7(m5))or(not iU(m5)))then
elseif((i1==1430466609)and(GetUnitLifePercent(m5)<40.))then
call T47(m5,852125,1093810258,1093810259,j5)
elseif(i1==1429221446)then
call CPE(m5,j5)
elseif((i1==1332766568)and(IsUnitInRange(m5,j5,400.)))then
call IssueImmediateOrderById(m5,852600)
elseif((i1==1332109682)and(IsUnitInRange(m5,j5,500.)))then
call TD7(m5,852588,1093810505)
elseif(i1==1433105516)then
call IssueTargetOrderById(m5,852600,j5)
elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))then
set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(j5)-GetUnitY(m5),GetUnitX(j5)-GetUnitX(m5)))
call IssuePointOrderById(m5,852600,GetUnitX(m5)+150.*Cos(i1*bj_DEGTORAD),GetUnitY(j5)+150.*Sin(i1*bj_DEGTORAD))
elseif(i1==1316252014)then
call IssueTargetOrderById(m5,852190,j5)
elseif((i1==1214931305)and(IsUnitInRange(m5,j5,500.))and(GetUnitLifePercent(m5)<50.))then
call IssueImmediateOrderById(m5,852600)
elseif(i1==1311787088)then
elseif(i1==1211117643)then
call T77(m5,852504,1093681483,1093748313,GetUnitX(j5),GetUnitY(j5))
elseif(i1==1311781206)then
call CQE(m5,j5)
elseif(i1!=1429221445)then
call R1F(m5,j5)
endif
set j5=null
set m5=null
endfunction
function UEF takes unit u returns boolean
local real UFF=1.
if(TZ4)then
if(Z84[GetPlayerId(GetOwningPlayer(u))]==ZD4)then
set UFF=10.0-GetRandomReal(0,100)
elseif(Z84[GetPlayerId(GetOwningPlayer(u))]==ZE4)then
set UFF=45.0-GetRandomReal(0,100)
elseif(Z84[GetPlayerId(GetOwningPlayer(u))]==ZF4)then
set UFF=65.0-GetRandomReal(0,100)
endif
else
if(Z84[GetPlayerId(GetOwningPlayer(u))]==ZD4)then
set UFF=0.
endif
endif
return(UFF>0)
endfunction
function UGF takes unit j5,unit UHF,real kl returns nothing
local real IW=bj_RADTODEG*Atan2(GetUnitY(UHF)-GetUnitY(j5),GetUnitX(UHF)-GetUnitX(j5))
if(IW>kl)then
set IW=IW+90
else
set IW=IW-90
endif
if not((GetUnitAbilityLevel(UHF,1311780930)>0)and(TD7(UHF,852514,1093686082)))then
call IssuePointOrderById(UHF,851986,GetUnitX(UHF)+250.*Cos(IW*bj_DEGTORAD),GetUnitY(UHF)+250.*Sin(IW*bj_DEGTORAD))
endif
endfunction
function UIF takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),QM4))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(R57(GetFilterUnit())))
endfunction
function UJF takes aidifficulty d returns real
if d==AI_DIFFICULTY_NEWBIE then
return 0.2
elseif d==AI_DIFFICULTY_NORMAL then
return 0.1
endif
return 0.05
endfunction
function UKF takes nothing returns nothing
local integer UMF=GetHandleId(GetExpiredTimer())
local unit u
local real x0
local real y0
local real x1
local real y1
local real r
if LoadReal(L7,UMF,7)<TimerGetElapsed(W)then
call FlushChildHashtable(L7,UMF)
call DestroyTimer(GetExpiredTimer())
else
set u=LoadUnitHandle(L7,UMF,1)
set x0=LoadReal(L7,UMF,2)
set y0=LoadReal(L7,UMF,3)
set x1=LoadReal(L7,UMF,4)
set y1=LoadReal(L7,UMF,5)
set r=LoadReal(L7,UMF,6)
set u=null
endif
endfunction
function AI_DodgeLineStarter takes nothing returns nothing
local integer UMF
set bj_lastStartedTimer=CreateTimer()
set UMF=GetHandleId(bj_lastStartedTimer)
call SaveUnitHandle(L7,UMF,1,GetEnumUnit())
call SaveReal(L7,UMF,2,QF4)
call SaveReal(L7,UMF,3,QG4)
call SaveReal(L7,UMF,4,QH4)
call SaveReal(L7,UMF,5,QI4)
call SaveReal(L7,UMF,6,QJ4)
call SaveReal(L7,UMF,7,QK4)
call TimerStart(bj_lastStartedTimer,UJF(GetAIDifficulty(GetOwningPlayer(GetEnumUnit()))),true,function UKF)
endfunction
function UNF takes nothing returns nothing
local unit CC7=GetEnumUnit()
local real x1=GetUnitX(CC7)
local real y1=GetUnitY(CC7)
local real dx=QH4-QF4
local real dy=QI4-QG4
local real r=SquareRoot(dx*dx+dy*dy)
local real r1=((x1-QF4)*dx+(y1-QG4)*dy)/r
if r1>0 and r1<=r then
set dx=x1-QF4-dx*r1/r
set dy=y1-QG4-dy*r1/r
set r=SquareRoot(dx*dx+dy*dy)
if not((GetUnitAbilityLevel(CC7,1311780930)>0)and(TD7(CC7,852514,1093686082)))then
if r==0. then
call IssuePointOrderById(CC7,851986,x1-(y1-QG4)*QJ4/r1,y1+(x1-QF4)*QJ4/r1)
elseif r<QJ4 then
call IssuePointOrderById(CC7,851986,x1+dx*(QJ4/r-1),y1+dy*(QJ4/r-1))
endif
endif
endif
set CC7=null
endfunction
function WYv_OLD takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit CC7=GetEnumUnit()
local real IW
local real kl
set IW=RF7(GetUnitX(j5),GetUnitY(j5),GetUnitX(CC7),GetUnitY(CC7))
set kl=RAbsBJ(Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5)))
if((R57(CC7))and(RF7(GetUnitX(CC7),GetUnitY(CC7),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<300.))then
call UGF(j5,CC7,kl*bj_RADTODEG)
if h4[352+GetPlayerId(GetOwningPlayer(CC7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(CC7))]=j5
endif
endif
set j5=null
set CC7=null
endfunction
function WYv takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit CC7=GetEnumUnit()
local real IW=RF7(GetUnitX(j5),GetUnitY(j5),GetUnitX(CC7),GetUnitY(CC7))
local real kl=Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5))
if((UEF(CC7))and(R57(CC7))and(RF7(GetUnitX(CC7),GetUnitY(CC7),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<300.))then
call UGF(j5,CC7,kl*bj_RADTODEG)
if h4[352+GetPlayerId(GetOwningPlayer(CC7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(CC7))]=j5
endif
endif
set j5=null
set CC7=null
endfunction
function UOF takes nothing returns nothing
local unit CC7=GetEnumUnit()
local unit j5=GetTriggerUnit()
local real IW
local real kl
set IW=RF7(GetUnitX(j5),GetUnitY(j5),GetUnitX(CC7),GetUnitY(CC7))
set kl=RAbsBJ(Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5)))
if((R57(CC7))and(((IsUnitInRange(CC7,j5,750.))and(not CRE(CC7,j5,true)))or(not JIF(CC7)))and(RF7(GetUnitX(CC7),GetUnitY(CC7),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<700.))then
call UGF(j5,CC7,kl*bj_RADTODEG)
set G0[64+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=true
if h4[352+GetPlayerId(GetOwningPlayer(CC7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(CC7))]=j5
endif
endif
set j5=null
set CC7=null
endfunction
function UPF takes nothing returns nothing
local unit CC7=GetEnumUnit()
local unit j5=GetTriggerUnit()
local real IW
local real kl
set IW=RF7(GetUnitX(j5),GetUnitY(j5),GetUnitX(CC7),GetUnitY(CC7))
set kl=RAbsBJ(Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5)))
if((UEF(CC7))and(R57(CC7))and(RF7(GetUnitX(CC7),GetUnitY(CC7),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<700.))then
call UGF(j5,CC7,kl*bj_RADTODEG)
set G0[64+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=true
if h4[352+GetPlayerId(GetOwningPlayer(CC7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(CC7))]=j5
endif
endif
set j5=null
set CC7=null
endfunction
function WZv_OLD takes nothing returns nothing
local unit CC7=GetEnumUnit()
local unit IB=null
local real kl
if(R57(GetEnumUnit()))then
set IB=h4[272+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
if((IB!=null)and(IsUnitVisible(IB,GetOwningPlayer(GetEnumUnit()))))then
set kl=RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(GetEnumUnit())-GetUnitY(IB),GetUnitX(GetEnumUnit())-GetUnitX(IB)))-GetUnitFacing(IB))
if(kl<50.)then
call UGF(IB,GetEnumUnit(),GetUnitFacing(IB))
set G0[64+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=true
if h4[352+GetPlayerId(GetOwningPlayer(CC7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(CC7))]=GetTriggerUnit()
endif
endif
endif
set IB=null
endif
set CC7=null
endfunction
function WZv takes nothing returns nothing
local unit CC7=GetEnumUnit()
local unit IB=null
local real kl
if((UEF(CC7))and(R57(CC7)))then
set IB=h4[272+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
if((IB!=null)and(IsUnitVisible(IB,GetOwningPlayer(CC7))))then
set kl=RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(CC7)-GetUnitY(IB),GetUnitX(CC7)-GetUnitX(IB)))-GetUnitFacing(IB))
if(kl<50.)then
call UGF(IB,CC7,GetUnitFacing(IB))
set G0[64+GetPlayerId(GetOwningPlayer(CC7))]=true
if h4[352+GetPlayerId(GetOwningPlayer(CC7))]==null then
set h4[352+GetPlayerId(GetOwningPlayer(CC7))]=GetTriggerUnit()
endif
endif
endif
set IB=null
endif
endfunction
function UQF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(m5))
local real kl=RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5)))-GetUnitFacing(j5))
local real IW=RF7(GetUnitX(m5),GetUnitY(m5),GetUnitX(j5),GetUnitY(j5))
local boolean T4F
local boolean J4
if(IW>900)then
set T4F=kl<140.
elseif(IW>600)then
set T4F=(GetWidgetLife(m5)<1500.)and(kl<110.)
elseif(IW>300)then
set T4F=(GetWidgetLife(m5)<1000.)and(kl<80.)
else
set T4F=(GetWidgetLife(m5)<1000.)and(kl<50.)
endif
if(not iU(m5))then
elseif(not T4F)then
set J4=(IW<700.)and((h4[O5]==null)or(h4[O5]==j5))and((CRE(m5,j5,true))or(IssueTargetOrderById(m5,851983,j5)))
else
if(IW<600.)then
if(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5))>GetUnitFacing(j5))then
call IssuePointOrderById(m5,851986,GetUnitX(j5)+300.*Cos((GetUnitFacing(j5)+90.)*bj_DEGTORAD),GetUnitY(j5)+300.*Sin((GetUnitFacing(j5)+90.)*bj_DEGTORAD))
else
call IssuePointOrderById(m5,851986,GetUnitX(j5)+300.*Cos((GetUnitFacing(j5)-90.)*bj_DEGTORAD),GetUnitY(j5)+300.*Sin((GetUnitFacing(j5)-90.)*bj_DEGTORAD))
endif
elseif((GetWidgetLife(m5)<1200.)or((IW>800.)and(h4[O5]==null)))then
set G0[64+O5]=true
call S57(m5,851986,h9[O5])
if((GetUnitAbilityLevel(m5,1093681461)>0)and(U87(GetHandleId(GetOwningPlayer(m5)),"MyBear")!=null))then
call S57(U87(GetHandleId(GetOwningPlayer(m5)),"MyBear"),851986,h9[O5])
endif
endif
endif
set j5=null
set m5=null
endfunction
function URF takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and((GetUnitAbilityLevel(GetFilterUnit(),1097102451)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1097102385)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1093684533)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1098150517)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1093683785)>0)))
endfunction
function USF takes nothing returns boolean
return((GetUnitTypeId(GetFilterUnit())==GetUnitTypeId(GetTriggerUnit()))and(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())))
endfunction
function UTF takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit j5=GetTriggerUnit()
local item jp=SV7(m5,ZU[WC])
if((jp!=null)and((GetUnitLifePercent(j5)<50.)or((h4[GetPlayerId(GetOwningPlayer(m5))]==j5)and(GetUnitLifePercent(j5)<70.))))then
if(IsUnitInRange(j5,m5,1000.))then
call UnitUseItemPoint(m5,jp,GetUnitX(j5),GetUnitY(j5))
endif
endif
set m5=null
set j5=null
set jp=null
endfunction
function UUF takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit j5=null
local integer O5=GetPlayerId(GetOwningPlayer(m5))
if(h4[O5]==GetTriggerUnit())then
set j5=SK7(500.,S07(GetTriggerUnit()),Condition(function USF))
if(j5!=null)then
set h4[O5]=j5
if(not R57(m5))then
elseif(not iU(m5))then
call IssueTargetOrderById(m5,851983,j5)
else
call J3(m5,false)
endif
endif
endif
set m5=null
set j5=null
endfunction
function UVF takes nothing returns boolean
local integer i1=GetUnitTypeId(GetFilterUnit())
return(((i1==1848651848)or(i1==1848651847)or(i1==1848651851))and(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())))
endfunction
function UWF takes nothing returns nothing
local unit m5=GetEnumUnit()
local integer i1=GetUnitTypeId(m5)
local unit UXF=SN7(800.,S07(GetTriggerUnit()),Condition(function UVF))
if((not R57(m5))or(UXF==null))then
elseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))then
call TD7(m5,OrderId("charm"),1093747028)
elseif(i1==1164799855)then
call S27(m5,852075,1093682264,UXF)
elseif(SR7(m5,ZU[J1]))then
call UnitUseItemTarget(m5,SV7(m5,ZU[J1]),UXF)
elseif(SR7(m5,ZU[D1]))then
call UnitUseItemTarget(m5,SV7(m5,ZU[D1]),UXF)
endif
set m5=null
set UXF=null
endfunction
function UYF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer O5=GetPlayerId(GetOwningPlayer(m5))
if((R57(m5))and((not IsUnitInRange(j5,m5,500.))or(not CRE(m5,j5,false))))then
if((SE7(j5))and(not SE7(m5))and(IsUnitInRange(j5,m5,500.)))then
call IssueTargetOrderById(m5,851983,j5)
else
if(SP7(900.,j5,Condition(function k2))<(1+GetUnitAbilityLevel(j5,GetSpellAbilityId())))then
call S57(m5,851986,h9[O5])
endif
endif
endif
set j5=null
set m5=null
endfunction
function UZF takes nothing returns nothing
if((GetUnitAbilityLevel(GetEnumUnit(),1110459185)==0)or(not JIF(GetEnumUnit())))then
call ExecuteFunc("T9F")
if((GetUnitTypeId(GetEnumUnit())==1315070563)and(GetUnitAbilityLevel(GetEnumUnit(),1110459185)>0)and(not UU7(GetEnumUnit(),"Omnislashing")))then
call TD7(GetEnumUnit(),852128,1093678407)
endif
endif
endfunction
function UAF takes nothing returns nothing
call ExecuteFunc("UBF")
endfunction
function UBF takes nothing returns nothing
local unit m5=GetEnumUnit()
local integer i1=GetUnitTypeId(m5)
local integer PPF=GetSpellAbilityId()
if(not R57(m5))then
elseif((SR7(m5,ZU[C0]))and(PPF!=1093678674)and(PPF!=1093677906)and(PPF!=1093681494)and(UnitUseItem(m5,SV7(m5,ZU[C0]))))then
elseif((SR7(m5,ZU[Y0]))and(PPF!=1093678674)and(PPF!=1093677906)and(PPF!=1093681494)and(UnitUseItem(m5,SV7(m5,ZU[Y0]))))then
elseif(JIF(m5))then
elseif((PPF!=1093678674)and(PPF!=1093677906)and(PPF!=1093681494)and((i1==1315007329)or(i1==1160785972)or(i1==1432510828)))then
call IssueImmediateOrderById(m5,852129)
elseif((PPF!=1093678674)and(PPF!=1093677906)and(PPF!=1093681494)and(i1==1429221424))then
call TD7(m5,852129,1093679445)
elseif((PPF!=1093678674)and(PPF!=1093677906)and(PPF!=1093681494)and(i1==1212363833))then
call TD7(m5,852123,1093678643)
elseif(((PPF!=1093684529)or(PPF!=1093747032))and(i1==1429221443))then
call TD7(m5,852273,1093686322)
elseif((PPF!=1093678674)and(PPF!=1093677906)and(PPF!=1093681494)and(i1==1429221441))then
call TD7(m5,852123,1093677903)
elseif(i1==1315988077)then
set GZ[GetPlayerId(GetOwningPlayer(m5))]=true
call J8(GetPlayerId(GetOwningPlayer(m5)),TD7(m5,852586,1093684561))
elseif((PPF==1093684529)and(i1==1332963428))then
call S27(m5,852227,1093678169,m5)
elseif(i1==1214345830)then
if(PPF!=1093684529)then
set GZ[GetPlayerId(GetOwningPlayer(m5))]=true
call J8(GetPlayerId(GetOwningPlayer(m5)),S27(m5,852186,1093679190,m5))
else
call IssueImmediateOrderById(m5,852599)
endif
elseif(i1==1311781206)then
if((PPF!=1093677906)and(PPF!=1093681494)and(PPF!=1093678674))then
call IssueImmediateOrderById(m5,852493)
endif
endif
set m5=null
endfunction
function UCF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer PPF
local integer O5=GetPlayerId(GetOwningPlayer(m5))
set G0[64+O5]=true
if(R57(m5))then
if((i2(j5))and(CRE(m5,j5,false)))then
elseif(RE7(m5,h9[O5])<RE7(j5,h9[O5]))then
call S57(m5,851986,h9[O5])
else
call S57(m5,851986,h8[O5])
endif
set PPF=GetSpellAbilityId()
if((PPF==1093678388)or(PPF==1093677141)or(PPF==1093677906)or(PPF==1093681494)or((PPF==1093678674)and(GZ[GetPlayerId(GetOwningPlayer(j5))])))then
call UAF()
endif
endif
set j5=null
set m5=null
endfunction
function U3F takes nothing returns nothing
local unit m5=GetEnumUnit()
if((not iU(m5))and(GetUnitLifePercent(m5)<95.)and(h4[GetPlayerId(GetOwningPlayer(m5))]==null)and(not IsUnitInRange(GetTriggerUnit(),m5,300.)))then
call IssuePointOrderById(m5,851986,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
endif
set m5=null
endfunction
function U6F takes nothing returns nothing
local unit m5=GetEnumUnit()
local integer PPF=GetSpellAbilityId()
local integer O5=GetPlayerId(GetOwningPlayer(m5))
set G0[64+O5]=true
if((PPF==1093683761)or(PPF==1093747288))then
if(R57(m5))then
if(RE7(m5,h9[O5])<RF7(GetLocationX(Hb),GetLocationY(Hb),GetUnitX(h9[O5]),GetUnitY(h9[O5])))then
call S57(m5,851986,h9[O5])
else
call S57(m5,851986,h8[O5])
endif
endif
else
if((R57(m5))and((GetUnitLevel(m5)<6)or(GetUnitLifePercent(m5)<75.)or(not Id(O5))))then
if(((PPF==1093683532)or(PPF==1093681745))and(GetUnitLevel(m5)>5)and(GetUnitState(m5,UNIT_STATE_LIFE)>1300.))then
elseif((PPF==1093685825)and(RE7(m5,h9[O5])<RF7(GetLocationX(Hb),GetLocationY(Hb),GetUnitX(h9[O5]),GetUnitY(h9[O5]))))then
call S57(m5,851986,h9[O5])
else
call S57(m5,851986,h9[O5])
endif
endif
endif
set m5=null
endfunction
function ULF takes nothing returns nothing
local unit m5=GetEnumUnit()
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
if((is(m5))and((GetUnitLevel(m5)<5)or(GetUnitLifePercent(m5)<75.)or(h4[GetPlayerId(GetOwningPlayer(m5))]==null)))then
if((GetSpellAbilityId()!=1093677877)or(SP7(500.,GetTriggerUnit(),Condition(function k0))<3))then
call S57(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
endif
endif
set m5=null
endfunction
function U1F takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit j5=GetTriggerUnit()
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(R57(m5))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
if(not CRE(m5,j5,true))then
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
call S57(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
endif
endif
set m5=null
set j5=null
endfunction
function U0F takes nothing returns nothing
local unit m5=GetEnumUnit()
local unit j5=GetTriggerUnit()
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(R17(m5))and(IsUnitType(m5,UNIT_TYPE_HERO)))then
if((GetUnitLifePercent(m5)>45. or GetUnitState(m5,UNIT_STATE_LIFE)>500.)and((SP7(800.,j5,Condition(function YO7))>=2)or(SP7(650.,j5,Condition(function YN7))>=2)or((SP7(800.,j5,Condition(function YO7))>=1)and(SP7(650.,j5,Condition(function YN7))>=1))))then
set j5=SN7(800.,S07(m5),Condition(function Y97))
if(j5!=null)then
set h4[GetPlayerId(GetOwningPlayer(m5))]=j5
call MQF(m5,j5)
call IssueTargetOrderById(m5,851983,j5)
endif
else
if(JIF(m5))then
elseif(RE7(m5,h9[GetPlayerId(GetOwningPlayer(m5))])<RE7(j5,h9[GetPlayerId(GetOwningPlayer(m5))]))then
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
call S57(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
else
call S57(m5,851986,h8[GetPlayerId(GetOwningPlayer(m5))])
endif
endif
endif
set m5=null
set j5=null
endfunction
function U5F takes real U2F,real U_F returns boolean
return U2F!=null and U_F!=null
endfunction
function V4F takes location V7F,real c,real V8F,boolean V9F returns location
local real VDF=GetLocationX(V7F)
local real VEF=GetLocationY(V7F)
local real U2F=D78(VDF+(Cos(V8F*bj_DEGTORAD)*c))
local real U_F=D88(VEF+(Sin(V8F*bj_DEGTORAD)*c))
if((V9F==true)and(U5F(U2F,U_F)!=true))then
return null
endif
return Location(U2F,U_F)
endfunction
function VFF takes nothing returns nothing
local unit S67=GetTriggerUnit()
local unit OA7=GetEnumUnit()
local location VGF=GetUnitLoc(S67)
local location VHF=GetUnitLoc(OA7)
local real V8F=AngleBetweenPoints(VGF,VHF)
local real VIF=DistanceBetweenPoints(VGF,VHF)
local real c=VIF+100.00
local location VJF=V4F(VGF,c,V8F,true)
if((GetPlayerController(GetOwningPlayer(OA7))==MAP_CONTROL_COMPUTER)and(R57(OA7))and(IsUnitType(OA7,UNIT_TYPE_HERO)))then
if(VJF!=null)then
call IssuePointOrderByIdLoc(OA7,851986,VJF)
endif
endif
set S67=null
set OA7=null
call RemoveLocation(VGF)
set VGF=null
call RemoveLocation(VHF)
set VHF=null
call RemoveLocation(VJF)
set VJF=null
endfunction
function VKF takes nothing returns nothing
local unit m5=GetEnumUnit()
local integer i=0
if(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and((SR7(m5,ZU[BA])or SR7(m5,ZU[TC])))then
set IJ4=RE7(EK7,m5)
if(IN4==null)or(IJ4<EI7)then
set IN4=m5
set EI7=IJ4
endif
endif
set m5=null
endfunction
function VMF takes nothing returns nothing
call ExecuteFunc("T9F")
endfunction
function VNF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer VOF=GetSpellAbilityId()
local integer O5=GetPlayerId(GetOwningPlayer(j5))
local real JD
local real Je
local integer UP
local real JPF
local integer i=1
local real x0
local real y0
local real x1
local real y1
local real r
if(VOF==1093684296)then
if((GetPlayerController(GetOwningPlayer(m5))!=MAP_CONTROL_USER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
set JPF=Bz
set UP=3+(2*GetUnitAbilityLevel(j5,VOF))
loop
set JD=GetUnitX(m5)
set Je=GetUnitY(m5)
call R47(0.2)
if((GetWidgetLife(m5)<1500.)and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(R57(m5))and((GetUnitX(m5)!=JD)or(GetUnitY(m5)!=Je)))then
call IssueImmediateOrderById(m5,851993)
endif
exitwhen((RAbsBJ(Bz-JPF)>=UP)or(not S87(m5)))
endloop
endif
elseif(VOF==1093744975)then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call R47(0.5)
loop
set i=i+1
if((IsUnitInRange(j5,m5,500.))and(is(m5))and(CRE(m5,j5,true)))then
elseif((IsUnitInRange(j5,m5,800.))and(is(m5)))then
call S57(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
endif
exitwhen((i==6)or(not S87(j5))or(not S87(m5)))
call R47(0.5)
endloop
endif
elseif(VOF==1093744986)then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
loop
if(R57(m5))then
if(not CRE(m5,j5,true))then
call S57(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
endif
endif
set i=i+1
exitwhen((i>15)or(not S87(m5))or(not S87(j5)))
call R47(0.5)
endloop
endif
elseif(VOF==1093743692)then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO))and(is(m5)))then
call R47(1.5)
set UP=GetUnitTypeId(m5)
if(UP==1429221446)then
call TD7(m5,852177,1093678667)
elseif(UP==1430466865)then
call S27(m5,852066,1093677879,m5)
elseif(UP==1214344551)then
call S27(m5,852095,1093809742,m5)
elseif(UP==1211117643)then
call S27(m5,852278,1093678410,m5)
else
call R1F(m5,j5)
endif
endif
elseif(VOF==1093750840)then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
call R47(0.5)
loop
if((IsUnitInRange(j5,m5,600.))and(is(m5))and(CRE(m5,j5,true)))then
elseif((SO7(700.,S07(m5),Condition(function WY7))==0)and(SO7(700.,S07(m5),Condition(function KQ))==0)and(IsUnitInRange(j5,m5,1500.))and(is(m5)))then
call S57(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
endif
exitwhen((GetUnitAbilityLevel(m5,1110454617)==0)or(not S87(j5))or(not S87(m5)))
call R47(0.5)
endloop
endif
elseif((VOF==1093808453)or(VOF==1093681729)or(VOF==1093678147))then
set EM7=false
if(VOF==1093808453)then
call R47(1)
set bj_lastLoadedUnit=j5
set m5=SN7(150,HC[O5],Condition(function WR7))
if m5!=null then
set EI7=99999
set IH4=GetPlayerId(GetOwningPlayer(m5))
set EK7=null
if((h4[IH4]!=null)or((G0[256+IH4])and(not SE7(m5))and(GetHeroLevel(m5)>4)))then
if(h4[IH4]!=null)then
set IN4=h4[IH4]
else
set IN4=h8[IH4]
endif
else
set IN4=h9[IH4]
endif
set UP=1
loop
exitwhen UP>8
set bj_lastCreatedDestructable=U77(GetHandleId(j5),"AI|SproutTree"+I2S(UP))
set IJ4=RE7(bj_lastCreatedDestructable,IN4)
if IJ4<EI7 then
set EK7=bj_lastCreatedDestructable
set EI7=IJ4
endif
call TZ7(GetHandleId(j5),"AI|SproutTree"+I2S(UP),null)
set UP=UP+1
endloop
set EI7=99999
set IN4=null
call IV(GetLocationX(HC[O5]),GetLocationY(HC[O5]),350,Condition(function WR7),function VKF)
set m5=IN4
if(m5!=null)and(SR7(m5,ZU[BA])or SR7(m5,ZU[TC]))then
call UnitUseItemTarget(m5,bj_lastCreatedItem,EK7)
endif
endif
endif
if((VOF!=1093808453)or(EI7>600))and((m5!=null)and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO))and(R57(m5)))then
if(VOF!=1093808453)then
call R47(1)
endif
set UP=GetUnitTypeId(m5)
if((UP==1211117653)and(Bz>TC4[80+GetPlayerId(GetOwningPlayer(m5))])and AO7(m5,LP4,LP4,LQ4,1093687372)and(AI7(m5,LQ4,LQ4,LQ4,false)))then
call IssueImmediateOrderById(m5,852129)
elseif((UP==1429221441)or(UP==1165451634)or(UP==1212365106))then
call IssueTargetOrderById(m5,852600,j5)
elseif((VOF==1093678147)and(UP==1315070563))then
if(not UU7(m5,"Omnislashing"))then
call TD7(m5,852128,1093678407)
endif
elseif((VOF==1093808453)and(UP==1164666213))then
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=true
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093678679,true)
call IssuePointOrderById(m5,852224,GetUnitX(m5)+10.,GetUnitY(m5)+10.)
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=false
elseif((VOF==1093808453)and(UP==1211117636))then
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093685041,true)
if((GetUnitLifePercent(m5)>50.)or(GetUnitLifePercent(j5)<50.))then
set JPF=bj_RADTODEG*Atan2(GetUnitY(j5)-GetUnitY(m5),GetUnitX(j5)-GetUnitX(m5))
else
set JPF=bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5))
endif
set GZ[GetPlayerId(GetOwningPlayer(m5))]=true
call J8(GetPlayerId(GetOwningPlayer(m5)),IssuePointOrderById(m5,852218,GetUnitX(m5)+900.*Cos(JPF*bj_DEGTORAD),GetUnitY(m5)+900.*Sin(JPF*bj_DEGTORAD)))
elseif((VOF==1093808453)and(UP==1211117620))then
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=true
call MoveLocation(HA,GetWidgetX(m5)+10,GetWidgetY(m5)+10)
call S_7(m5,852232,1093677623,HA)
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=false
elseif((VOF==1093808453)and(UP==1212365106))then
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=true
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093685831,true)
call IssuePointOrderById(m5,852089,GetUnitX(m5)+10.,GetUnitY(m5)+10.)
set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=false
elseif((GetUnitLifePercent(j5)<50.)and(kJ(GetUnitX(j5),GetUnitY(j5)))and(GetUnitLifePercent(m5)>50.))then
if(UP==1162032181)then
call IssueTargetOrderById(m5,852218,j5)
elseif((UP==1430466609)or(UP==1164207469))then
call IssueTargetOrderById(m5,852525,j5)
elseif(UP==1429221451)then
call IssueTargetOrderById(m5,852218,j5)
elseif(UP==1328558160)then
call S27(m5,852218,1093682766,j5)
elseif(SR7(m5,ZU[RW]))then
call UnitUseItemPoint(m5,SV7(m5,ZU[RW]),GetUnitX(j5),GetUnitY(j5))
else
call JIF(m5)
endif
else
call JIF(m5)
endif
endif
elseif((VOF==1093684565)or(VOF==1093681458)or(VOF==1093679152)or(VOF==1093752154))then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitIllusion(m5))and(GetWidgetLife(m5)<1200.))then
call VX7(m5,false)
endif
elseif(VOF==1093750345)then
elseif(VOF==1093677646)then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
loop
if((iU(m5))and(not SE7(m5)))then
call IssueTargetOrderById(m5,851983,j5)
endif
exitwhen((GetUnitCurrentOrder(j5)!=852487)or(not S87(m5))or(not S87(j5)))
call R47(0.5)
endloop
endif
elseif((VOF==1093753177)or(VOF==1093808181))then
if((IsUnitVisible(j5,Z7[0]))and(IsUnitVisible(j5,A7[0])))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
call R47(0.2)
call MoveLocation(Hb,JD,Je)
call TriggerSleepAction(.5)
loop
call IV(GetUnitX(j5),GetUnitY(j5),1800.,Condition(function YZ7),function UOF)
call R47(0.8)
exitwhen((GetUnitAbilityLevel(m5,1110459478)==0)or(not S87(m5))or(not S87(j5)))
endloop
endif
elseif(VOF==1093751371)then
call R47(0.2)
set JPF=Bz
loop
call IV(GetUnitX(j5),GetUnitY(j5),1100.,Condition(function YZ7),function U0F)
call R47(1.0)
exitwhen((RAbsBJ(Bz-JPF)>=7.7)or(not S87(j5)))
endloop
elseif((VOF==1093681987)or(VOF==1093677658)or(VOF==1093678156))then
if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))then
loop
if(R57(m5))then
if(not CRE(m5,j5,true))then
call S57(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])
set G0[64+GetPlayerId(GetOwningPlayer(m5))]=true
endif
endif
exitwhen((GetUnitCurrentOrder(j5)!=852487)or(not S87(m5))or(not S87(j5)))
call R47(0.5)
endloop
endif
elseif((VOF==1093677367)or(VOF==1093678913)or(VOF==1093677621)or(VOF==1093679445)or(VOF==1093677402))then
call TriggerSleepAction(.5)
if((not IsUnitVisible(j5,Z7[0]))or(not IsUnitVisible(j5,A7[0])))then
call IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function KO),function UTF)
endif
elseif((VOF==1093681720)or(VOF==1093678643)or(VOF==1093677903))then
call TriggerSleepAction(1.)
if((SP7(800.,j5,Condition(function URF))==0)and(not lA(j5,not IsUnitAlly(j5,Z7[0]))))then
call IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function YZ7),function UUF)
endif
elseif(VOF==1093682231)then
call TriggerSleepAction(.5)
if((not IsUnitVisible(j5,Z7[0]))or(not IsUnitVisible(j5,A7[0])))then
call IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function YZ7),function UUF)
endif
elseif((VOF==1093687351)or(VOF==1093687349)or(VOF==1093678671)or(VOF==1093686091))then
if((IsUnitVisible(j5,Z7[0]))and(IsUnitVisible(j5,A7[0])))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=GetUnitX(j5)
set y0=GetUnitY(j5)
set QJ4=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))
if(VOF==1093686091)then
set r=1200.
else
set r=700.
endif
set x1=x0+(JD-x0)*r/QJ4
set y1=y0+(Je-y0)*r/QJ4
call R47(0.2)
set QM4=GetOwningPlayer(j5)
set QJ4=250.
set QF4=x0
set QG4=y0
set QH4=x1
set QI4=y1
call IV(x0,y0,r,Condition(function UIF),function UNF)
endif
elseif(VOF==1093686862)then
if(ZL7(GetOwningPlayer(j5))or GetRandomInt(1,4)==4)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
call IV(JD,Je,1100.,Condition(function YZ7),function VFF)
endif
elseif((VOF==1093750841)or(VOF==1093684291))then
if(SO7(1200.,GetUnitLoc(j5),Condition(function WV7))>1)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
call IV(JD,Je,1100.,Condition(function YZ7),function U1F)
endif
elseif(VOF==1093678665)then
set r=400+(200*GetUnitAbilityLevel(j5,1093678665))
set JPF=TimerGetElapsed(W)
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=GetUnitX(j5)
set y0=GetUnitY(j5)
set QJ4=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))
set x1=x0+(JD-x0)*r/QJ4
set y1=y0+(Je-y0)*r/QJ4
set m5=j5
loop
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call R47(0.3)
call GroupClear(iF)
set bj_groupEnumTypeId=1966092360
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=GroupPickRandomUnit(iF)
exitwhen(RAbsBJ(TimerGetElapsed(W)-JPF)>1.)
endloop
call R47(0.2)
loop
exitwhen(RAbsBJ(TimerGetElapsed(W)-JPF)>1.)
set QM4=GetOwningPlayer(j5)
set QJ4=250.
set QF4=GetUnitX(m5)
set QG4=GetUnitY(m5)
set QH4=x1
set QI4=y1
call IV(QF4,QG4,r,Condition(function UIF),function UNF)
call R47(0.4)
endloop
elseif(VOF==1093685041)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
call R47(0.1)
loop
call GroupClear(iF)
set bj_groupEnumTypeId=1697657172
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=GroupPickRandomUnit(iF)
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call R47(0.3)
exitwhen(m5==null)
endloop
loop
call GroupClear(iF)
set bj_groupEnumTypeId=1697657172
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=FirstOfGroup(iF)
exitwhen(m5==null)
call MoveLocation(Hb,JD,Je)
call IV(JD,Je,1000.,Condition(function YZ7),function UPF)
call R47(0.5)
endloop
elseif(VOF==1093679157)then
call R47(0.1)
set JPF=I2R(1150+(250*GetUnitAbilityLevel(j5,1093679157)))
loop
call GroupClear(iF)
set bj_groupEnumTypeId=1966092362
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=FirstOfGroup(iF)
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call R47(0.3)
exitwhen((GetUnitCurrentOrder(j5)!=852600)or(not S87(j5)))
endloop
loop
exitwhen((GetUnitCurrentOrder(j5)!=852600)or(not S87(j5)))
call IV(GetUnitX(j5),GetUnitY(j5),JPF,Condition(function YZ7),function UQF)
call R47(0.5)
endloop
elseif(VOF==1093684280)then
set JPF=TimerGetElapsed(W)+3.5
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=JD-GetUnitX(j5)
set y0=Je-GetUnitY(j5)
set r=SquareRoot(x0*x0+y0*y0)
set x0=x0*1000./r
set y0=y0*1000./r
loop
set bj_groupEnumTypeId=1747988533
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
loop
set m5=FirstOfGroup(iF)
exitwhen m5==null or(GetWidgetLife(m5)>.405)
call GroupRemoveUnit(iF,m5)
endloop
set h4[272+O5]=m5
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call R47(0.1)
exitwhen TimerGetElapsed(W)>JPF
endloop
call R47(0.1)
loop
exitwhen(TimerGetElapsed(W)>JPF)or(GetWidgetLife(m5)<.405)
set QM4=GetOwningPlayer(j5)
set QF4=GetUnitX(m5)
set QG4=GetUnitY(m5)
set QH4=QF4+x0
set QI4=QG4+y0
set QJ4=300.
call IV(QF4,QG4,1000.,Condition(function UIF),function UNF)
call R47(0.1)
endloop
elseif(VOF==1093751604)then
set JPF=TimerGetElapsed(W)
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set r=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))
set x0=(JD-GetUnitX(j5))*1000./r
set y0=(Je-GetUnitY(j5))*1000./r
loop
set bj_groupEnumTypeId=1747993394
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=FirstOfGroup(iF)
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call R47(0.3)
exitwhen(RAbsBJ(TimerGetElapsed(W)-JPF)>3.5)
endloop
set h4[272+O5]=m5
call R47(0.2)
loop
exitwhen(RAbsBJ(TimerGetElapsed(W)-JPF)>3.5)or(not S87(m5))
set QM4=GetOwningPlayer(j5)
set QF4=GetUnitX(m5)
set QG4=GetUnitY(m5)
set QH4=QF4+x0
set QI4=QG4+y0
set QJ4=200.
call IV(QF4,QG4,1000.,Condition(function UIF),function UNF)
call R47(0.2)
endloop
elseif(VOF==1093677136)then
loop
call R47(0.8)
exitwhen((GetUnitAbilityLevel(m5,1110454328)==0)or(GetUnitCurrentOrder(j5)!=852480))
call MQF(j5,m5)
endloop
elseif((VOF==1093684815)or(VOF==1093686072)or(VOF==1093685573))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
if(VOF==1093684815)then
set UP=180
elseif(VOF==1093685573)then
set UP=200+100*GetUnitAbilityLevel(j5,1093685573)
else
set UP=400
endif
call IV(JD,Je,UP,Condition(function YZ7),function VMF)
elseif((VOF==1093684564)or(VOF==1093677623)or(VOF==1093678644)or(VOF==1093681754)or(VOF==1093678679))then
if((IsUnitVisible(j5,Z7[0]))and(IsUnitVisible(j5,A7[0])))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
if(VOF==1093678679)then
set UP=130+(25*GetUnitAbilityLevel(j5,1093678679))
elseif(VOF==1093677623)then
set UP=250
else
set UP=500
if(VOF==1093678644)then
call R47(0.5)
endif
endif
set JPF=Bz
loop
exitwhen(RAbsBJ(Bz-JPF)>=1.5)
call IV(JD,Je,UP,Condition(function YZ7),function U6F)
call R47(0.4)
endloop
call R47(0.4)
call IV(JD,Je,UP,Condition(function YZ7),function VMF)
endif
elseif((VOF==1093678420)or(VOF==1093679176)or(VOF==1093684529)or(VOF==1093747032))then
call R47(0.5)
call IV(GetUnitX(m5),GetUnitY(m5),600.,Condition(function YZ7),function UAF)
elseif((VOF==1093677382)or(VOF==1093677651)or(VOF==1093685047)or(VOF==1093677645)or(VOF==1093678670)or(VOF==1093678898)or(VOF==1093678900)or(VOF==1093678904)or(VOF==1093682766)or(VOF==1093677894)or(VOF==1093810258)or(VOF==1093810259))then
call IV(GetUnitX(j5)+350.*Cos(GetUnitFacing(j5)*bj_DEGTORAD),GetUnitY(j5)+350.*Sin(GetUnitFacing(j5)*bj_DEGTORAD),450.,Condition(function YZ7),function VMF)
elseif((VOF==1093678405)or(VOF==1093810505)or(VOF==1093677363)or(VOF==1093681462))then
call R47(0.5)
call IV(GetUnitX(j5),GetUnitY(j5),900.,Condition(function YZ7),function VMF)
elseif((VOF==1093678669)or(VOF==1093679182)or(VOF==1093677913)or(VOF==1093677139)or(VOF==1093810507)or(VOF==1093682252)or(VOF==1093686083))then
call IV(GetUnitX(j5),GetUnitY(j5),350.,Condition(function YZ7),function VMF)
elseif((VOF==1093678422)or(VOF==1093682248)or(VOF==1093810508)or(VOF==1093684054))then
call IV(GetUnitX(j5),GetUnitY(j5),550.,Condition(function YZ7),function VMF)
elseif((VOF==1093677145)or(VOF==1093682994)or(VOF==1093677360)or(VOF==1093677616))then
call IV(GetUnitX(m5),GetUnitY(m5),450.,Condition(function YZ7),function VMF)
elseif(VOF==1093678938)then
call R47(1.)
call IV(GetUnitX(j5),GetUnitY(j5),950.,Condition(function YZ7),function UZF)
elseif((VOF==1093683266)or(VOF==1093682227)or(VOF==1093682246))then
call R47(1.)
call IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function YZ7),function UWF)
elseif((VOF==1093682521)or(VOF==1093682760)or(VOF==1093682736))then
if(VOF==1093682521)then
set JPF=200.
elseif(VOF==1093682760)then
set JPF=450.
elseif(VOF==1093682736)then
set JPF=700.
endif
call IV(GetUnitX(j5)+JPF*Cos(GetUnitFacing(j5)*bj_DEGTORAD),GetUnitY(j5)+JPF*Sin(GetUnitFacing(j5)*bj_DEGTORAD),350.,Condition(function YZ7),function VMF)
elseif((VOF==1093678388)or(VOF==1093677141)or(VOF==1093810506))then
call IV(GetUnitX(j5),GetUnitY(j5),850.,Condition(function YZ7),function UCF)
elseif((VOF==1093683248)or(VOF==1093685846))then
call TriggerSleepAction(0.1)
loop
call IV(GetUnitX(j5),GetUnitY(j5),700.,Condition(function YZ7),function UDF)
exitwhen(((IsUnitVisible(j5,Z7[0]))and(IsUnitVisible(j5,A7[0])))or(not S87(j5)))
call R47(1.5)
endloop
elseif(VOF==1093677378)then
set JPF=Bz
loop
exitwhen(RAbsBJ(Bz-JPF)>=9.)
call IV(GetUnitX(j5),GetUnitY(j5),700.,Condition(function Kq),function U3F)
call R47(0.8)
endloop
elseif(VOF==1093681713)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set JPF=Bz
call R47(0.5)
loop
exitwhen(RAbsBJ(Bz-JPF)>=7.5)
call IV(JD,Je,550.,Condition(function YZ7),function U6F)
call R47(0.6)
endloop
elseif(VOF==1093677385)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set JPF=Bz
call R47(0.5)
loop
exitwhen(RAbsBJ(Bz-JPF)>=6.5)
call IV(JD,Je,300.,Condition(function YZ7),function U6F)
call R47(0.6)
endloop
elseif(VOF==1093685825)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set JPF=Bz
call R47(0.5)
loop
exitwhen(RAbsBJ(Bz-JPF)>=9.)
call IV(JD,Je,450.,Condition(function YZ7),function U6F)
call R47(0.6)
endloop
elseif(VOF==1093683532)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set JPF=Bz
call R47(0.5)
loop
exitwhen(RAbsBJ(Bz-JPF)>=10.5)
call IV(JD,Je,630.,Condition(function YZ7),function U6F)
call R47(0.6)
endloop
elseif(VOF==1093681745)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set JPF=Bz
call R47(0.5)
loop
exitwhen(RAbsBJ(Bz-JPF)>=7.5)
call IV(JD,Je,1000.,Condition(function YZ7),function U6F)
call R47(0.6)
endloop
elseif(VOF==1093685831)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set UP=360+(80*GetUnitAbilityLevel(j5,1093685831))
set JPF=Bz
call R47(0.5)
loop
exitwhen(RAbsBJ(Bz-JPF)>=6.5)
call IV(JD,Je,UP,Condition(function YZ7),function U6F)
call R47(0.6)
endloop
elseif(VOF==1093678407)then
set JPF=Bz
loop
exitwhen(RAbsBJ(Bz-JPF)>=4.5)
call IV(GetUnitX(j5),GetUnitY(j5),420.,Condition(function YZ7),function ULF)
call R47(0.6)
endloop
elseif(VOF==1093677877)then
set JPF=Bz
call R47(0.5)
loop
exitwhen(RAbsBJ(Bz-JPF)>=7.5)
call IV(GetUnitX(j5),GetUnitY(j5),680.,Condition(function YZ7),function ULF)
call R47(0.6)
endloop
elseif(VOF==1093685045)then
set JPF=Bz
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
loop
exitwhen(RAbsBJ(Bz-JPF)>=4.5)
call IV(JD,Je,950.,Condition(function YZ7),function U6F)
call R47(0.5)
endloop
elseif(VOF==1093683761)then
call R47(1.)
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set JPF=Bz
loop
exitwhen((not GZ[384+O5])or(RAbsBJ(Bz-JPF)>=5.))
call MoveLocation(Hb,JD,Je)
call IV(JD,Je,750.,Condition(function YZ7),function U6F)
call R47(0.5)
endloop
set GZ[384+O5]=false
elseif(VOF==1093678674)then
loop
call R47(0.5)
exitwhen((GetUnitCurrentOrder(j5)!=852581)or(not S87(j5)))
call IV(GetUnitX(j5),GetUnitY(j5),750.,Condition(function YZ7),function UCF)
endloop
call R47(0.5)
if(GZ[384+O5])then
set UP=0
loop
exitwhen((not GZ[384+O5])or(UP>12))
call IV(GetUnitX(j5),GetUnitY(j5),550.,Condition(function YZ7),function UCF)
call R47(0.6)
set UP=UP+1
endloop
set GZ[384+O5]=false
endif
elseif((VOF==1093684820)or(VOF==1093684824))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
call R47(0.5)
loop
call R47(0.6)
exitwhen((GetUnitCurrentOrder(j5)!=852597)or(not S87(j5)))
call IV(JD,Je,900.,Condition(function YZ7),function UCF)
endloop
elseif((VOF==1093677906)or(VOF==1093681494))then
call R47(0.5)
loop
call R47(0.6)
exitwhen((GetUnitCurrentOrder(j5)!=852600)or(not S87(j5)))
call IV(GetUnitX(j5),GetUnitY(j5),900.,Condition(function YZ7),function UCF)
endloop
elseif((VOF==1093678899)or(VOF==1093677898)or(VOF==1093678154)or(VOF==1093678157)or(VOF==1093678158))then
set JPF=Bz
loop
exitwhen((RAbsBJ(Bz-JPF)>=29.)or(not S87(j5)))
call IV(GetUnitX(j5),GetUnitY(j5),1200.,Condition(function YZ7),function UYF)
call R47(0.8)
endloop
elseif(VOF==1093747288)then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
loop
call R47(0.6)
exitwhen((GetUnitCurrentOrder(j5)!=OrderId("cannibalize"))or(not S87(j5)))
call MoveLocation(Hb,JD,Je)
call IV(JD,Je,1000.,Condition(function YZ7),function U6F)
endloop
elseif((VOF==1093808454)or(VOF==1093808455))then
loop
call R47(1.)
exitwhen((GetUnitAbilityLevel(j5,1110454836)==0)or(not S87(j5)))
call IV(GetUnitX(j5),GetUnitY(j5),350.,Condition(function YZ7),function ULF)
endloop
elseif(VOF==1093747009)then
if((IsUnitVisible(j5,Z7[0]))and(IsUnitVisible(j5,A7[0])))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=GetUnitX(j5)
set y0=GetUnitX(j5)
set JPF=Bz
call O9F(j5,j5)
loop
exitwhen(RAbsBJ(Bz-JPF)>=1.5)
call IV(JD,Je,475,Condition(function YZ7),function U6F)
call IV(x0,y0,475,Condition(function YZ7),function U6F)
call R47(0.4)
endloop
call R47(0.4)
call IV(JD,Je,UP,Condition(function YZ7),function VMF)
endif
elseif(VOF==1093746993)then
set r=2400
set JPF=TimerGetElapsed(W)
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=GetUnitX(j5)
set y0=GetUnitY(j5)
set QJ4=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))
set x1=x0+(JD-x0)*r/QJ4
set y1=y0+(Je-y0)*r/QJ4
set m5=j5
call R47(1.)
loop
exitwhen(RAbsBJ(TimerGetElapsed(W)-JPF)>3.5)
set QM4=GetOwningPlayer(j5)
set QJ4=350.
set QF4=GetUnitX(m5)
set QG4=GetUnitY(m5)
set QH4=x1
set QI4=y1
call IV(QF4,QG4,r,Condition(function UIF),function UNF)
call R47(0.4)
endloop
elseif(VOF==1093678929)then
if GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTER then
call RemoveGuardPosition(j5)
endif
elseif(VOF==1093678658)then
call O9F(j5,j5)
elseif(VOF==1093813555)then
set r=600+(200*GetUnitAbilityLevel(j5,1093813555))
set JPF=TimerGetElapsed(W)
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set x0=GetUnitX(j5)
set y0=GetUnitY(j5)
set QJ4=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))
set x1=x0+(JD-x0)*r/QJ4
set y1=y0+(Je-y0)*r/QJ4
set m5=j5
loop
exitwhen((m5!=null)and(IsUnitVisible(m5,Z7[0]))and(IsUnitVisible(m5,A7[0])))
call R47(0.3)
call GroupClear(iF)
set bj_groupEnumTypeId=1966092360
call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)
set m5=GroupPickRandomUnit(iF)
exitwhen(RAbsBJ(TimerGetElapsed(W)-JPF)>1.)
endloop
call R47(0.2)
loop
exitwhen(RAbsBJ(TimerGetElapsed(W)-JPF)>1.)
set QM4=GetOwningPlayer(j5)
set QJ4=250.
set QF4=GetUnitX(m5)
set QG4=GetUnitY(m5)
set QH4=x1
set QI4=y1
call IV(QF4,QG4,r,Condition(function UIF),function UNF)
call R47(0.4)
endloop
elseif(VOF==G67[1]or VOF==G67[2]or VOF==G67[3])and Z17(Player(O5))then
set JD=GetLocationX(HC[O5])
set Je=GetLocationY(HC[O5])
set EI7=RF7(GetUnitX(j5),GetUnitY(j5),JD,Je)/(2.5*GetUnitMoveSpeed(j5))-0.4
if EI7>0 then
call PolledWait(EI7)
else
call PolledWait(0.1)
endif
set bj_lastLoadedUnit=j5
call MoveLocation(HA,JD,Je)
set EM7=(iU(j5))and((UU7(j5,"AI|EmberEscape")or(SO7(300,HA,Condition(function WR7))!=0))and IssuePointOrderById(j5,852185,JD,Je))
call UY7(j5,"AI|EmberEscape")
elseif(VOF==1093751349 or VOF==1093743415 or VOF==1093808945)then
set eY[224+O5]=R2I(Bz)+EW7
set hq[832+O5]=R2I(Bz)+9
endif
set j5=null
set m5=null
endfunction
function VPF takes nothing returns nothing
local unit j5=GetTriggerUnit()
local integer O5=GetPlayerId(GetOwningPlayer(j5))
local integer VOF=GetSpellAbilityId()
local boolean SAF=(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)
local unit m5=GetSpellTargetUnit()
local integer X5
local integer i1
local integer UP=1
if(VOF==1093751349 or VOF==1093743415 or VOF==1093808945)then
set hq[832+O5]=0
endif
if(VOF==1093751349 or VOF==1093743415)and SAF then
call R47(0.1)
if(U74[O5]!=null)and(not UnitHasItem(j5,U74[O5]))then
if SR7(j5,ZU[YC])then
call RemoveItem(bj_lastCreatedItem)
endif
if UnitAddItem(j5,U74[O5])then
set U74[O5]=null
endif
endif
endif
if(VOF==1093751349 or VOF==1093743415)or(VOF==1093808945)or(VOF==1093677391)or(VOF==1093683265)then
call R47(0.1)
call AX7(j5)
endif
if(VOF==1093751874)then
call R47(11.)
set GS7=LoadUnitHandle(L7,(GetHandleId(j5)),(652))
set bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(GS7))
if(not GZ[224+O5])or(h4[bj_forLoopAIndex]!=null)or ZL7(Player(bj_forLoopAIndex))then
call IssueImmediateOrderById(j5,852600)
endif
endif
call R47(2)
loop
exitwhen UP>11
if h4[352+UP]==j5 then
set i1=GetUnitTypeId(M7[UP])
set X5=GetUnitCurrentOrder(M7[UP])
set G0[272+UP]=true
if i1==1429221451 and(X5==852503)then
call IssueImmediateOrderById(M7[UP],851972)
call J3(M7[UP],false)
elseif i1==1311780930 and(X5==852514)then
call IssueImmediateOrderById(M7[UP],851972)
call J3(M7[UP],false)
endif
set G0[272+UP]=false
set h4[352+UP]=null
endif
set UP=UP+1
endloop
set j5=null
endfunction
function VQF takes nothing returns nothing
call N5F(GetEnumUnit())
endfunction
function VRF takes unit u returns nothing
if(SE7(u))then
if R57(u)then
call S57(u,851986,h9[GetPlayerId(GetOwningPlayer(u))])
endif
elseif(RE7(u,TG7(u))>5500.)then
if R57(u)then
call S57(u,851986,h9[GetPlayerId(GetOwningPlayer(u))])
endif
set h4[GetPlayerId(GetOwningPlayer(u))]=null
else
if R57(u)then
call S57(u,851983,JW(u))
endif
endif
if((eY[GetPlayerId(GetOwningPlayer(u))]!=4)and(eY[GetPlayerId(GetOwningPlayer(u))]!=2))then
set eY[GetPlayerId(GetOwningPlayer(u))]=3
endif
endfunction
function VSF takes unit u returns nothing
if(SE7(u))then
if R57(u)then
call S57(u,851986,h9[GetPlayerId(GetOwningPlayer(u))])
endif
elseif(RE7(u,TG7(u))>5500.)then
if R57(u)then
call S57(u,851986,h9[GetPlayerId(GetOwningPlayer(u))])
endif
set h4[GetPlayerId(GetOwningPlayer(u))]=null
else
if R57(u)then
call S57(u,851983,JW(u))
endif
endif
set eY[GetPlayerId(GetOwningPlayer(u))]=4
set GZ[480+GetPlayerId(GetOwningPlayer(u))]=true
endfunction
function VTF takes nothing returns nothing
call VRF(GetEnumUnit())
endfunction
function VUF takes nothing returns nothing
call VSF(GetEnumUnit())
endfunction
function VVF takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))
if((RE7(GetEnumUnit(),TG7(GetEnumUnit()))<5000.)and(eY[O5]!=4))then
if(IsUnitAlly(GetEnumUnit(),A7[0]))then
if(G3==0)then
set h8[O5]=h7[111]
set h8[16+O5]=h7[114]
elseif(G3==1)then
set h8[O5]=h7[131]
set h8[16+O5]=h7[135]
elseif(G3==2)then
set h8[O5]=h7[151]
set h8[16+O5]=h7[155]
endif
elseif(IsUnitAlly(GetEnumUnit(),Z7[0]))then
if(G4==0)then
set h8[O5]=h7[11]
set h8[16+O5]=h7[14]
elseif(G4==1)then
set h8[O5]=h7[31]
set h8[16+O5]=h7[35]
elseif(G4==2)then
set h8[O5]=h7[51]
set h8[16+O5]=h7[55]
endif
endif
set h9[O5]=TG7(GetEnumUnit())
set h9[16+O5]=TG7(GetEnumUnit())
if(R57(GetEnumUnit()))then
call S57(GetEnumUnit(),851983,h8[O5])
endif
set eY[O5]=1
elseif((IsUnitAlly(GetEnumUnit(),Z7[0]))and(eY[O5]!=9))then
if(((G4==1)and(RH7(GetEnumUnit())==2))or((G4==2)and(RH7(GetEnumUnit())==1)))then
set G0[32+O5]=true
call J3(GetEnumUnit(),true)
elseif(G4==0)then
call JYF(GetEnumUnit(),h7[9+P24])
elseif(G4==1)then
call JYF(GetEnumUnit(),h7[29+P_4])
elseif(G4==2)then
call JYF(GetEnumUnit(),h7[49+Q44])
endif
elseif((IsUnitAlly(GetEnumUnit(),A7[0]))and(eY[O5]!=9))then
if(((G3==1)and(RH7(GetEnumUnit())==2))or((G3==2)and(RH7(GetEnumUnit())==1)))then
set G0[32+O5]=true
call J3(GetEnumUnit(),true)
elseif(G3==0)then
call JYF(GetEnumUnit(),h7[117-P24])
elseif(G3==1)then
call JYF(GetEnumUnit(),h7[139-P_4])
elseif(G3==2)then
call JYF(GetEnumUnit(),h7[159-Q44])
endif
endif
endfunction
function VWF takes nothing returns nothing
set eY[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=11
set h8[48+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=h7[250]
endfunction
function IZF takes nothing returns nothing
local unit it=U87(R44,"OB|U")
local integer JSF
if(R57(it))then
call S57(it,851986,h9[GetPlayerId(GetOwningPlayer(it))])
endif
set G0[48+GetPlayerId(GetOwningPlayer(it))]=true
set JSF=JKF(6.,it,false,true)
set G0[48+GetPlayerId(GetOwningPlayer(it))]=false
if(GetWidgetLife(it)<=.405)then
elseif((JSF==2)and(not SE7(it))and(not G0[32+GetPlayerId(GetOwningPlayer(it))])and(R57(it)))then
call IssueImmediateOrderById(it,851993)
elseif(JSF==3)then
if((not SE7(it))and(not G0[32+GetPlayerId(GetOwningPlayer(it))]))then
if R57(it)then
call S57(it,851983,h8[GetPlayerId(GetOwningPlayer(it))])
endif
else
call VX7(it,false)
endif
endif
endfunction
function VXF takes player VYF,player VZF,boolean VAF,string VBF returns nothing
if(VAF)then
call DisplayTimedTextToPlayer(VZF,0,0,10.,Q[GetPlayerId(VYF)]+GetPlayerName(VYF)+"|r has learned "+VBF)
else
call DisplayTimedTextToPlayer(VZF,0,0,10.,Q[GetPlayerId(VYF)]+GetPlayerName(VYF)+"|r didn't yet learn "+VBF)
endif
endfunction
function VCF takes player VZF,unit V3F,integer V6F,string VLF returns nothing
call DisplayTimedTextToPlayer(VZF,0,0,10.,"        - |c0000cc00"+GetAbilityName(V6F)+"|r "+VLF+"[|c00ffff00Level "+I2S(GetUnitAbilityLevel(V3F,V6F))+"|r]")
endfunction
function V1F takes player V0F,player V5F returns nothing
local integer iZ=GetPlayerId(V0F)
local unit it=M7[iZ]
local integer V2F
local integer V_F=0
local integer array W4F
local boolean array W7F
if(it==null)then
return
endif
set W4F[1]=eY[336+iZ]
if(GetUnitAbilityLevel(it,W4F[1])!=0)then
set W7F[1]=true
set V_F=V_F+1
else
set W7F[1]=false
endif
set W4F[2]=eY[352+iZ]
if(GetUnitAbilityLevel(it,W4F[2])!=0)then
set W7F[2]=true
set V_F=V_F+1
else
set W7F[2]=false
endif
set W4F[3]=eY[368+iZ]
if((GetUnitTypeId(it)==1311781199)or(GetUnitTypeId(it)==1311781171)or(GetUnitTypeId(it)==1311781172)or(GetUnitTypeId(it)==1311781173))then
set W4F[3]=1093681477
endif
if(GetUnitAbilityLevel(it,W4F[3])!=0)then
set W7F[3]=true
set V_F=V_F+1
else
set W7F[3]=false
endif
set W4F[4]=eY[172+iZ]
if(GetUnitAbilityLevel(it,W4F[4])!=0)then
set W7F[4]=true
set V_F=V_F+1
else
set W7F[4]=false
endif
set W4F[5]=eY[188+iZ]
if(GetUnitAbilityLevel(it,W4F[5])!=0)then
set W7F[5]=true
set V_F=V_F+1
else
set W7F[5]=false
endif
set W4F[6]=1096904043
if((GetUnitTypeId(it)==1315334514)or(GetUnitTypeId(it)==1328558160)or(GetUnitTypeId(it)==1311781199)or(GetUnitTypeId(it)==1311781171)or(GetUnitTypeId(it)==1311781172)or(GetUnitTypeId(it)==1311781173)or(GetUnitTypeId(it)==1214409837))then
set W4F[6]=1093684818
endif
if(GetUnitAbilityLevel(it,W4F[6])!=0)then
set W7F[6]=true
set V_F=V_F+1
else
set W7F[6]=false
endif
if(V_F==0)then
call VXF(V0F,V5F,false,"any skill!")
return
endif
if((V_F==1))then
call VXF(V0F,V5F,true,"the following skill:")
endif
if((V_F>1))then
call VXF(V0F,V5F,true,"the following skills:")
endif
set V2F=1
loop
if(W7F[V2F])then
if(GetUnitAbilityLevel(it,W4F[V2F])==1)then
call VCF(V5F,it,W4F[V2F],"")
else
call VCF(V5F,it,W4F[V2F],"up to ")
endif
endif
exitwhen V2F>2
set V2F=V2F+1
endloop
if(GetUnitAbilityLevel(it,W4F[4])>=GetUnitAbilityLevel(it,W4F[5]))then
if(W7F[4])then
if(GetUnitAbilityLevel(it,W4F[4])==1)then
call VCF(V5F,it,W4F[4],"")
else
call VCF(V5F,it,W4F[4],"up to ")
endif
endif
elseif(W7F[5])then
if(GetUnitAbilityLevel(it,W4F[5])==1)then
call VCF(V5F,it,W4F[5],"")
else
call VCF(V5F,it,W4F[5],"up to ")
endif
endif
if(W7F[6])then
if(GetUnitAbilityLevel(it,W4F[6])==1)then
call VCF(V5F,it,W4F[6],"")
else
call VCF(V5F,it,W4F[6],"up to ")
endif
endif
if((V_F<4))then
call VXF(V0F,V5F,false,"the following skills:")
endif
if((V_F==4))then
call VXF(V0F,V5F,false,"the following skill:")
endif
set V2F=1
loop
if(not(W7F[V2F]))then
call VCF(V5F,it,W4F[V2F],"")
endif
exitwhen V2F>2
set V2F=V2F+1
endloop
if((GetUnitAbilityLevel(it,W4F[4])==0)and(GetUnitAbilityLevel(it,W4F[5])==0))then
call VCF(V5F,it,W4F[4],"")
endif
if(not(W7F[6]))then
call VCF(V5F,it,W4F[6],"")
endif
set it=null
endfunction
function W8F takes string VH returns nothing
local player pl=null
local unit m5=null
local integer UP
local integer I4F=0
local integer kg
local boolean J5F=false
local string W9F=""
local group WDF=null
local integer i=0
if((SubString(VH,0,2)=="-o")or(SubString(VH,0,2)=="-c")or(SubString(VH,0,2)==" c"))then
set VH=SubString(VH,2,StringLength(VH))
else
return
endif
set EO7=null
if(VH=="tango")then
if(Bz<60.)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496330553))
set PY4=true
endif
elseif(VH=="flask")then
if(Bz<60.)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496330800))
set PY4=false
endif
elseif(VH=="ld")then
if(TZ4==false)then
set TZ4=true
else
set TZ4=false
endif
elseif(VH=="aen")then
if(GetTriggerPlayer()==QT4 and QU4==null)then
call ju(OK7(bj_mapInitialPlayableArea,Condition(function Y37)),function VQF)
set bj_lastLoadedUnit=JA4
set J5F=true
elseif(GetTriggerPlayer()==QU4 and QT4==null)then
call ju(OK7(bj_mapInitialPlayableArea,Condition(function YC7)),function VQF)
set bj_lastLoadedUnit=IZ4
set J5F=true
endif
set W9F=GetObjectName(1496330803)
elseif(VH=="den")then
if(GetTriggerPlayer()==QT4 and QU4==null)then
call ju(OK7(bj_mapInitialPlayableArea,Condition(function Y37)),function VTF)
set bj_lastLoadedUnit=JA4
set J5F=true
elseif(GetTriggerPlayer()==QU4 and QT4==null)then
call ju(OK7(bj_mapInitialPlayableArea,Condition(function YC7)),function VTF)
set bj_lastLoadedUnit=IZ4
set J5F=true
endif
set W9F=GetObjectName(1496330804)
elseif(VH=="sden")then
if(GetTriggerPlayer()==QT4 and QU4==null)then
call ju(OK7(bj_mapInitialPlayableArea,Condition(function Y37)),function VUF)
set bj_lastLoadedUnit=JA4
set J5F=true
elseif(GetTriggerPlayer()==QU4 and QT4==null)then
call ju(OK7(bj_mapInitialPlayableArea,Condition(function YC7)),function VUF)
set bj_lastLoadedUnit=IZ4
set J5F=true
endif
set W9F=GetObjectName(1496330806)
elseif(VH=="roshanen")then
if GetWidgetLife(V4)<.405 then
if(GetTriggerPlayer()==QT4)then
set bj_lastLoadedUnit=JA4
elseif(GetTriggerPlayer()==QU4)then
set bj_lastLoadedUnit=IZ4
endif
set J5F=true
set W9F=GetObjectName(1496330807)
else
if(GetTriggerPlayer()==QT4)then
call ju(OK7(bj_mapInitialPlayableArea,Condition(function Y37)),function VWF)
set bj_lastLoadedUnit=JA4
set J5F=true
elseif(GetTriggerPlayer()==QU4)then
call ju(OK7(bj_mapInitialPlayableArea,Condition(function YC7)),function VWF)
set bj_lastLoadedUnit=IZ4
set J5F=true
endif
set W9F=GetObjectName(1496330546)
endif
elseif(SubString(VH,0,7)=="itemfix")then
set VH=SubString(VH,7,StringLength(VH))
set EO7=CreateForce()
call ForceAddPlayer(EO7,GetTriggerPlayer())
loop
call TriggerSleepAction(0.)
set kg=kh(VH)
if(kg>=0)then
set pl=R_7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=R_7(SubString(VH,0,StringLength(VH)))
endif
if((pl!=null)and(Z17(pl))and((IsPlayerAlly(pl,Z7[0])and(QT4==null or GetTriggerPlayer()==QT4))or(IsPlayerAlly(pl,A7[0])and(QU4==null or GetTriggerPlayer()==QU4))))then
set UP=GetPlayerId(pl)
if M7[UP]==null then
else
if GetWidgetLife(M7[UP])>.405 then
call VX7(M7[UP],true)
set hq[528+UP]=Bz+30.
call TU7(R44,"OB|U",M7[UP])
call ExecuteFunc("IZF")
if(eY[UP]>=9)then
set eY[UP]=1
endif
endif
set GZ[192+UP]=true
call VV7(M7[UP],EO7)
call VQ7(M7[UP],EO7,"Fixing itembuild")
endif
endif
exitwhen kg<0
endloop
call DestroyForce(EO7)
elseif((VH=="neut")or(VH=="neu"))then
if(GetTriggerPlayer()==QT4)then
set bj_lastLoadedUnit=IZ4
set Gv=not Gv
if(Gv)then
set I4F=1
endif
else
set bj_lastLoadedUnit=JA4
set Gw=not Gw
if(Gw)then
set I4F=1
endif
endif
set J5F=true
set W9F=GetObjectName(1496330550)+PZ7(I4F==1,GetObjectName(1496403790),GetObjectName(1498369862))
elseif(VH=="ui")then
call ExecuteFunc("WEF")
elseif(SubString(VH,0,2)=="sv")then
set VH=SubString(VH,2,StringLength(VH))
loop
call TriggerSleepAction(0.)
set kg=kh(VH)
if(kg>=0)then
set pl=R_7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=R_7(SubString(VH,0,StringLength(VH)))
endif
if((pl!=null)and(Z17(pl)))then
call V1F(pl,GetTriggerPlayer())
endif
exitwhen kg<0
endloop
elseif(SubString(VH,0,1)=="b")then
set EO7=CreateForce()
call ForceAddPlayer(EO7,GetTriggerPlayer())
if VH=="b" then
set VH=PZ7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,1,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=R_7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=R_7(SubString(VH,0,StringLength(VH)))
endif
set J5F=false
if((pl!=null)and(Z07(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set J5F=true
set UP=GetPlayerId(pl)
if(M7[UP]==null)then
set J5F=false
elseif not S87(M7[UP])then
set W9F=GetObjectName(1496330808)
else
call TU7(R44,"OB|U",M7[UP])
call ExecuteFunc("IZF")
if(eY[UP]>=9)then
set eY[UP]=1
endif
set W9F=GetObjectName(1496330291)
endif
endif
if J5F then
call VV7(M7[UP],EO7)
call VQ7(M7[UP],EO7,W9F)
endif
exitwhen kg<0
endloop
set J5F=false
call DestroyForce(EO7)
elseif(SubString(VH,0,1)=="f")then
set EO7=CreateForce()
call ForceAddPlayer(EO7,GetTriggerPlayer())
if VH=="f" then
set VH=PZ7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,1,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=R_7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=R_7(SubString(VH,0,StringLength(VH)))
endif
set J5F=false
if((pl!=null)and(Z07(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set J5F=true
set UP=GetPlayerId(pl)
if(M7[UP]==null)then
set J5F=false
elseif not S87(M7[UP])then
set W9F=GetObjectName(1496330808)
else
call VX7(M7[UP],true)
set hq[528+UP]=Bz+30.
call TU7(R44,"OB|U",M7[UP])
call ExecuteFunc("IZF")
if(eY[UP]>=9)then
set eY[UP]=1
endif
set W9F=GetObjectName(1496330290)
endif
endif
if J5F then
call VV7(M7[UP],EO7)
call VQ7(M7[UP],EO7,W9F)
endif
exitwhen kg<0
endloop
set J5F=false
call DestroyForce(EO7)
elseif((SubString(VH,0,1)=="a")and(VH!="auto"))then
set EO7=CreateForce()
call ForceAddPlayer(EO7,GetTriggerPlayer())
if VH=="a" then
set VH=PZ7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,1,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=R_7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=R_7(SubString(VH,0,StringLength(VH)))
endif
set J5F=false
if((pl!=null)and(Z07(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set J5F=true
set UP=GetPlayerId(pl)
if(M7[UP]==null)then
set J5F=false
elseif not S87(M7[UP])then
set W9F=GetObjectName(1496330808)
elseif SE7(M7[UP])then
set W9F=GetObjectName(1496330809)
else
call N5F(M7[UP])
set W9F=GetObjectName(1496330289)
endif
endif
if J5F then
call VV7(M7[UP],EO7)
call VQ7(M7[UP],EO7,W9F)
endif
exitwhen kg<0
endloop
set J5F=false
call DestroyForce(EO7)
elseif(SubString(VH,0,1)=="d")then
set EO7=CreateForce()
call ForceAddPlayer(EO7,GetTriggerPlayer())
if VH=="d" then
set VH=PZ7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,1,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=R_7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=R_7(SubString(VH,0,StringLength(VH)))
endif
set J5F=false
if((pl!=null)and(Z07(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set UP=GetPlayerId(pl)
set J5F=true
if(M7[UP]==null)then
set J5F=false
elseif not S87(M7[UP])then
set W9F=GetObjectName(1496330808)
elseif SE7(M7[UP])then
set W9F=GetObjectName(1496330809)
else
call VRF(M7[UP])
set W9F=GetObjectName(1496330804)
endif
endif
if J5F then
call VV7(M7[UP],EO7)
call VQ7(M7[UP],EO7,W9F)
endif
exitwhen kg<0
endloop
set J5F=false
call DestroyForce(EO7)
elseif(SubString(VH,0,2)=="sd")then
set EO7=CreateForce()
call ForceAddPlayer(EO7,GetTriggerPlayer())
if VH=="sd" then
set VH=PZ7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,2,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=R_7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=R_7(SubString(VH,0,StringLength(VH)))
endif
set J5F=false
if((pl!=null)and(Z07(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set UP=GetPlayerId(pl)
set J5F=true
if(M7[UP]==null)then
set J5F=false
elseif not S87(M7[UP])then
set W9F=GetObjectName(1496330808)
elseif SE7(M7[UP])then
set W9F=GetObjectName(1496330809)
else
call VSF(M7[UP])
set W9F=GetObjectName(1496330805)
endif
endif
if J5F then
call VV7(M7[UP],EO7)
call VQ7(M7[UP],EO7,W9F)
endif
exitwhen kg<0
endloop
set J5F=false
call DestroyForce(EO7)
elseif(SubString(VH,0,6)=="roshan")then
if GetWidgetLife(V4)<.405 then
if(GetTriggerPlayer()==QT4)then
set bj_lastLoadedUnit=JA4
elseif(GetTriggerPlayer()==QU4)then
set bj_lastLoadedUnit=IZ4
endif
set J5F=true
set W9F=GetObjectName(1496330807)
else
set EO7=CreateForce()
call ForceAddPlayer(EO7,GetTriggerPlayer())
if VH=="roshan" then
set VH=PZ7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
else
set VH=SubString(VH,6,StringLength(VH))
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=R_7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=R_7(SubString(VH,0,StringLength(VH)))
endif
set J5F=false
if((pl!=null)and(Z07(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set UP=GetPlayerId(pl)
set J5F=true
if(M7[UP]==null)then
set J5F=false
elseif not S87(M7[UP])then
set W9F=GetObjectName(1496330808)
elseif SE7(M7[UP])then
set W9F=GetObjectName(1496330809)
else
set eY[UP]=11
set h8[48+UP]=h7[250]
set W9F=GetObjectName(1496330546)
endif
if J5F then
call VV7(M7[UP],EO7)
call VQ7(M7[UP],EO7,W9F)
endif
endif
exitwhen kg<0
endloop
set J5F=false
call DestroyForce(EO7)
endif
elseif(PE4)then
elseif(VH=="auto")then
if(GetTriggerPlayer()==QT4)then
set PZ4=(not PZ4)
set bj_lastLoadedUnit=IZ4
set W9F=GetObjectName(1496331831)+PZ7(PZ4,GetObjectName(1496403790),GetObjectName(1498369862))
else
set PA4=(not PA4)
set bj_lastLoadedUnit=JA4
set W9F=GetObjectName(1496331831)+PZ7(PA4,GetObjectName(1496403790),GetObjectName(1498369862))
endif
set J5F=true
elseif(VH=="p")then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496332082)+"
"+GetObjectName(1497446194)+"
"+GetObjectName(1497517121)+"
"+F07+GetObjectName(1496332083)+"
"+F07+GetObjectName(1496332084)+"
"+F07+GetObjectName(1496332085)+"
"+F07+GetObjectName(1496332086))
elseif(VH=="pn")then
if(GetTriggerPlayer()==QT4)then
set G4=-1
set bj_lastLoadedUnit=IZ4
else
set G3=-1
set bj_lastLoadedUnit=JA4
endif
set J5F=true
set W9F=GetObjectName(1496332081)
elseif((VH=="pl")or(VH=="pr")or(VH=="pm"))then
if(VH=="pl")then
set I4F=1
elseif(VH=="pr")then
set I4F=2
else
set I4F=0
endif
if(GetTriggerPlayer()==QT4)then
set G4=I4F
call ju(OK7(bj_mapInitialPlayableArea,Condition(function YC7)),function VVF)
set bj_lastLoadedUnit=IZ4
else
set G3=I4F
call ju(OK7(bj_mapInitialPlayableArea,Condition(function Y37)),function VVF)
set bj_lastLoadedUnit=JA4
endif
set J5F=true
if(I4F==1)then
set W9F=GetObjectName(1496332087)
elseif(I4F==2)then
set W9F=GetObjectName(1496332088)
else
set W9F=GetObjectName(1496332089)
endif
elseif(SubString(VH,0,1)=="t")then
if VH!="t" then
set VH=SubString(VH,1,StringLength(VH))
set kg=kE(VH," ")
if kg==0 then
set VH=SubString(VH,1,StringLength(VH))
set kg=kE(VH," ")
endif
set bj_lastLoadedUnit=PS7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),IZ4,JA4)
if(kg>=0)then
set EH7=SubString(VH,kg+1,StringLength(VH))
if EH7=="0" then
set I4F=10
else
set I4F=S2I(EH7)
endif
set pl=R27(I4F)
set bj_forLoopAIndex=GetPlayerId(pl)
if(M7[bj_forLoopAIndex]==null)then
set W9F=GetObjectName(1496332336)
set I4F=0
elseif(not S87(M7[bj_forLoopAIndex]))then
set W9F=GetObjectName(1496332337)
set I4F=0
set kg=0
elseif(not IsUnitVisible(M7[bj_forLoopAIndex],GetTriggerPlayer()))and(eY[32+bj_forLoopAIndex]<=2)then
set W9F=GetObjectName(1496332338)
set I4F=0
set kg=0
elseif(not IsPlayerEnemy(GetTriggerPlayer(),pl))then
set W9F=GetObjectName(1496332339)
set I4F=0
set kg=0
else
set VH=SubString(VH,0,kg+1)
set m5=M7[bj_forLoopAIndex]
endif
set J5F=(I4F==0)
else
set I4F=0
set VH="t"
endif
if(I4F>0)then
set I4F=RH7(m5)
set EO7=CreateForce()
call ForceAddPlayer(EO7,GetTriggerPlayer())
if SubString(VH,0,1)==" " then
set VH=SubString(VH,1,StringLength(VH))
endif
set kg=kh(VH)
if(kg==-1)then
set VH=SubString(VH,0,1)
if VH=="a" or VH=="x" then
set VH=PZ7(IsPlayerAlly(GetTriggerPlayer(),Z7[0]),"1,2,3,4,5","6,7,8,9,0")
endif
endif
loop
set kg=kh(VH)
if(kg>=0)then
set pl=R_7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=R_7(SubString(VH,0,StringLength(VH)))
endif
set J5F=false
if((pl!=null)and(Z07(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set UP=GetPlayerId(pl)
set J5F=true
if(M7[UP]==null)then
set J5F=false
elseif not S87(M7[UP])then
set W9F=GetObjectName(1496330808)
elseif SE7(M7[UP])then
set W9F=GetObjectName(1496330809)
elseif h4[UP]!=null and SE7(h4[UP])then
set W9F=GetObjectName(1496331056)
elseif((((I4F==1)and(RH7(M7[UP])==2))or((I4F==2)and(RH7(M7[UP])==1)))and RE7(M7[UP],TG7(M7[UP]))>10000.)then
set W9F=GetObjectName(1496331057)
else
call CTE(M7[UP],false)
call JZF(M7[UP],m5)
set G0[160+UP]=true
set h4[144+UP]=m5
set W9F=GetObjectName(1496330295)+Q[GetPlayerId(GetOwningPlayer(m5))]+GetPlayerName(GetOwningPlayer(m5))+"|r"
endif
endif
if J5F then
call VV7(M7[UP],EO7)
call VQ7(M7[UP],EO7,W9F)
endif
exitwhen kg<0
endloop
call DestroyForce(EO7)
set J5F=false
endif
endif
if VH=="t" then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496332341)+"
"+GetObjectName(1497446453)+"
"+GetObjectName(1497511989)+"
"+"
"+F07+GetObjectName(1496332342)+"
"+F07+GetObjectName(1496332343)+"
")
endif
elseif(VH=="g")then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,GetObjectName(1496332344)+"
"+GetObjectName(1497446456)+"
"+GetObjectName(1497511992)+"
"+"
"+F07+GetObjectName(1496332345)+"
"+F07+GetObjectName(1496332592)+"
"+F07+GetObjectName(1496332593)+"
")
elseif((SubString(VH,0,2)=="gl")or(SubString(VH,0,2)=="gr")or(SubString(VH,0,2)=="gm"))then
set EO7=CreateForce()
call ForceAddPlayer(EO7,GetTriggerPlayer())
if(SubString(VH,0,2)=="gl")then
set I4F=1
elseif(SubString(VH,0,2)=="gr")then
set I4F=2
else
set I4F=0
endif
set VH=SubString(VH,2,StringLength(VH))
set WDF=CreateGroup()
set i=1
loop
exitwhen i>5
if IsPlayerAlly(GetTriggerPlayer(),Z7[0])then
set pl=Z7[i]
else
set pl=A7[i]
endif
set UP=GetPlayerId(pl)
if(Z17(pl)and M7[UP]!=null and S87(M7[UP])and SE7(M7[UP])==false and RH7(M7[UP])==0)then
call GroupAddUnit(WDF,M7[UP])
endif
set i=i+1
endloop
loop
set kg=kh(VH)
if(kg>=0)then
set pl=R_7(SubString(VH,0,kg))
set VH=SubString(VH,kg+1,StringLength(VH))
else
set pl=R_7(SubString(VH,0,StringLength(VH)))
endif
set J5F=false
if((pl!=null)and(Z17(pl))and(IsPlayerAlly(pl,GetTriggerPlayer())))then
set UP=GetPlayerId(pl)
set J5F=true
if M7[UP]==null then
set J5F=false
elseif not S87(M7[UP])then
set W9F=GetObjectName(1496330808)
elseif SE7(M7[UP])then
set W9F=GetObjectName(1496330809)
elseif h4[UP]!=null and SE7(h4[UP])then
set W9F=GetObjectName(1496331056)
else
set G0[64+UP]=true
set h4[UP]=null
call CTE(M7[UP],false)
if(I4F==RH7(M7[UP]))then
set I4F=-1
elseif((((I4F==1)and(RH7(M7[UP])==2))or((I4F==2)and(RH7(M7[UP])==1)))and RE7(M7[UP],TG7(M7[UP]))>10000.)then
if(eY[224+UP]<R2I(Bz))then
if(I4F==1)then
set eY[208+UP]=PW7(GetTriggerPlayer()==QT4,29+P_4,139-P_4)
elseif(I4F==2)then
set eY[208+UP]=PW7(GetTriggerPlayer()==QT4,49+Q44,159-Q44)
endif
else
set I4F=10+I4F
call JYF(M7[UP],PS7(GetTriggerPlayer()==QT4,h7[9+P24],h7[117-P24]))
endif
elseif(I4F==1)then
call JYF(M7[UP],PS7(GetTriggerPlayer()==QT4,h7[29+P_4],h7[139-P_4]))
elseif(I4F==2)then
call JYF(M7[UP],PS7(GetTriggerPlayer()==QT4,h7[49+Q44],h7[159-Q44]))
else
call JYF(M7[UP],PS7(GetTriggerPlayer()==QT4,h7[9+P24],h7[117-P24]))
endif
set G0[160+UP]=true
set hq[320+UP]=Bz+45.
if(I4F==1)then
set W9F=GetObjectName(1496331060)
elseif(I4F==2)then
set W9F=GetObjectName(1496331061)
elseif(I4F==11)then
set W9F=GetObjectName(1496331062)
elseif(I4F==12)then
set W9F=GetObjectName(1496331063)
elseif(I4F==-1)then
set W9F=GetObjectName(1496331059)
else
set W9F=GetObjectName(1496331058)
endif
endif
endif
if J5F then
call VV7(M7[UP],EO7)
call VQ7(M7[UP],EO7,W9F)
endif
if(I4F>10)then
set I4F=I4F-10
set bj_lastLoadedUnit=FirstOfGroup(WDF)
if bj_lastLoadedUnit!=null then
call GroupRemoveUnit(WDF,bj_lastLoadedUnit)
set UP=GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit))
if(I4F==1)then
call JYF(M7[UP],PS7(GetTriggerPlayer()==QT4,h7[29+P_4],h7[139-P_4]))
call VV7(M7[UP],EO7)
call VQ7(M7[UP],EO7,GetObjectName(1496330552))
elseif(I4F==2)then
call JYF(M7[UP],PS7(GetTriggerPlayer()==QT4,h7[49+Q44],h7[159-Q44]))
call VV7(M7[UP],EO7)
call VQ7(M7[UP],EO7,GetObjectName(1496330551))
endif
endif
endif
exitwhen kg<0
endloop
call DestroyForce(EO7)
call DestroyGroup(WDF)
set J5F=false
endif
if J5F and W9F!="" then
call V47(bj_lastLoadedUnit,W9F,GetTriggerPlayer())
endif
call DestroyForce(EO7)
set pl=null
set m5=null
set EO7=null
set WDF=null
endfunction
function WFF takes nothing returns nothing
if(GetEventPlayerChatString()==" ")then
call W8F("-oui")
else
call W8F(GetEventPlayerChatString())
endif
endfunction
function WGF takes unit PF7 returns integer
local integer i1=GetUnitTypeId(PF7)
if i1==1211117643 then
return 0
endif
if(i1==1212363833 or i1==1212365106 or(i1==1311781199 or i1==1311781171 or i1==1311781172 or i1==1311781173)or i1==1315070563 or i1==1215657064 or i1==1332179560 or i1==1160785973 or((i1==1311781174)or(i1==1311781175)or(i1==1311781442))or i1==1315074670 or((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))or i1==1429221430 or i1==1165451634 or i1==1160785972 or i1==1162032181 or i1==1162032951 or i1==1315334514 or i1==1215722344 or i1==1160786242 or i1==1211117641 or i1==1211119409)then
return 0+GetHeroLevel(PF7)/5
endif
if(i1==1215723364 or i1==1328558160 or i1==1211117617 or i1==1212363833 or i1==1212365106 or i1==1311781199 or i1==1315070563 or i1==1215657064 or i1==1332179560 or i1==1160785973 or i1==1433631084 or i1==1211117624 or i1==1315007329 or i1==1215063922 or i1==1164207469 or i1==1315074670 or i1==1211117636 or i1==1311781206 or i1==1211117649 or i1==1160786265 or i1==1211117652 or i1==1211119187 or((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))or i1==1162032439 or i1==1430466865 or i1==1429221441 or i1==1429221432 or i1==1429221430 or((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))or i1==1432646245 or i1==1430467634 or i1==1429221424 or i1==1430468913 or i1==1162032181 or i1==1162032951 or i1==1160785970 or i1==1429221443 or i1==1328558154 or i1==1432510828 or i1==1315334514 or i1==1429221451 or i1==1215722344 or i1==1160786242 or i1==1211117641 or i1==1211119409 or i1==1160786505 or i1==1160786510 or i1==1311788336 or i1==1160786507)then
return 3
endif
if(i1==1211117617 or i1==1214344551 or(i1==1432580716 or i1==1429221720)or i1==1211117624 or i1==1315988077 or i1==1211117616 or i1==1215063922 or i1==1311781193 or i1==1211119187 or i1==1430466865 or i1==1429221441 or i1==1429221432 or i1==1313026096 or i1==1429221443 or i1==1332109682 or i1==1429221446 or i1==1332766568 or i1==1432642913 or i1==1211117650 or i1==1328558389 or i1==1328558406 or i1==1160786502 or i1==1160786738)then
return 2
endif
if(i1==1164799855 or i1==1333027688 or i1==1311781185 or i1==1433105516 or((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))or i1==1215130471 or i1==1164799603 or i1==1432580716 or i1==1211117633 or i1==1332898670 or i1==1214345830 or i1==1160786000 or i1==1311780930 or i1==1311786311 or i1==1430466872 or i1==1430468144 or i1==1430466609 or i1==1211117640 or i1==1332963428 or i1==1429221445 or i1==1160786241 or i1==1429221456 or i1==1160786243 or i1==1311781207 or i1==1311780946 or i1==1211117646 or i1==1211117653 or i1==1311787088 or i1==1328558390 or i1==1160786506 or i1==1160786504 or i1==1211122767)then
return 3
endif
if(i1==1215128178 or i1==1164799855 or i1==1214931305 or i1==1211117620 or i1==1215130471 or i1==1316252014 or i1==1160786000 or i1==1211117651 or i1==1164666213 or i1==1433168227 or i1==1430468406 or i1==1430466872 or i1==1211117640 or i1==1332963428 or i1==1160786241 or i1==1429221456 or i1==1211117653 or i1==1160786520)then
return 3
endif
return 0
endfunction
function WHF takes unit PF7 returns integer
local integer i1=GetUnitTypeId(PF7)
if(i1==1212363833 or i1==1212365106 or(i1==1311781199 or i1==1311781171 or i1==1311781172 or i1==1311781173)or i1==1315070563 or i1==1215657064 or i1==1332179560 or i1==1160785973 or((i1==1311781174)or(i1==1311781175)or(i1==1311781442))or i1==1315074670 or((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))or i1==1429221430 or i1==1165451634 or i1==1160785972 or i1==1162032181 or i1==1162032951 or i1==1315334514 or i1==1215722344 or i1==1160786242 or i1==1211117641 or i1==1211119409)then
return 3
endif
if(i1==1215723364 or i1==1328558160 or i1==1211117617 or i1==1212363833 or i1==1212365106 or i1==1311781199 or i1==1315070563 or i1==1215657064 or i1==1332179560 or i1==1160785973 or i1==1433631084 or i1==1211117624 or i1==1315007329 or i1==1215063922 or i1==1164207469 or i1==1315074670 or i1==1211117636 or i1==1311781206 or i1==1211117649 or i1==1160786265 or i1==1211117652 or i1==1211119187 or((i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517))or i1==1162032439 or i1==1430466865 or i1==1429221441 or i1==1429221432 or i1==1429221430 or((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))or i1==1432646245 or i1==1430467634 or i1==1429221424 or i1==1430468913 or i1==1162032181 or i1==1162032951 or i1==1160785970 or i1==1429221443 or i1==1328558154 or i1==1432510828 or i1==1315334514 or i1==1429221451 or i1==1215722344 or i1==1160786242 or i1==1211117641 or i1==1211119409 or i1==1160786505 or i1==1160786510 or i1==1311788336)then
return 2
endif
if(i1==1211117617 or i1==1214344551 or(i1==1432580716 or i1==1429221720)or i1==1211117624 or i1==1315988077 or i1==1211117616 or i1==1215063922 or i1==1311781193 or i1==1211119187 or i1==1430466865 or i1==1429221441 or i1==1429221432 or i1==1313026096 or i1==1429221443 or i1==1332109682 or i1==1429221446 or i1==1332766568 or i1==1432642913 or i1==1211117650 or i1==1328558389 or i1==1328558406 or i1==1160786502 or i1==1160786507 or i1==1160786738)then
return 1
endif
if(i1==1164799855 or i1==1333027688 or i1==1311781185 or i1==1433105516 or((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))or i1==1215130471 or i1==1164799603 or(i1==1432580716 or i1==1429221720)or i1==1211117633 or i1==1332898670 or i1==1214345830 or i1==1160786000 or i1==1311780930 or i1==1311786311 or i1==1430466872 or i1==1430468144 or i1==1430466609 or i1==1211117640 or i1==1332963428 or i1==1429221445 or i1==1160786241 or i1==1429221456 or i1==1160786243 or i1==1311781207 or i1==1311780946 or i1==1211117646 or i1==1211117653 or i1==1311787088 or i1==1328558390 or i1==1160786506 or i1==1160786504 or i1==1211122767)then
return 1
endif
if(i1==1215128178 or i1==1164799855 or i1==1214931305 or i1==1211117620 or i1==1215130471 or i1==1316252014 or i1==1211117643 or i1==1160786000 or i1==1211117651 or i1==1164666213 or i1==1433168227 or i1==1430468406 or i1==1430466872 or i1==1211117640 or i1==1332963428 or i1==1160786241 or i1==1429221456 or i1==1211117653 or i1==1160786520)then
return 2
endif
return 1
endfunction
function WIF takes boolean QZ7 returns nothing
local integer O5=0
local integer i=1
if QZ7 then
set EO7=X7
else
set EO7=Y7
endif
set i=1
loop
exitwhen i>5
if QZ7 then
set O5=GetPlayerId(Z7[i])
else
set O5=GetPlayerId(A7[i])
endif
if M7[O5]!=null and GetUnitLifePercent(M7[O5])>50 and Z17(Player(O5))and eY[O5]!=11 then
call VV7(M7[O5],EO7)
call VQ7(M7[O5],EO7,GetObjectName(1496330546))
set eY[O5]=11
set h8[48+O5]=h7[250]
endif
set i=i+1
endloop
set EO7=null
endfunction
function WJF takes nothing returns nothing
local integer O5=0
local integer VA7=0
local integer i
local integer EXF=-1
local integer j
local integer k
local integer WKF
local integer WMF
local boolean WNF=false
local boolean WOF=false
local boolean QZ7
local real WPF=0
local real WQF=0
set k=0
set i=1
loop
exitwhen i>5
set O5=GetPlayerId(Z7[i])
if(M7[O5]!=null)then
if GetHeroLevel(M7[O5])>=6 then
set WNF=true
endif
if(GetHeroLevel(M7[O5])>11 and GetUnitLifePercent(M7[O5])>50)then
set WPF=WPF+EF7
endif
endif
set O5=GetPlayerId(A7[i])
if(M7[O5]!=null)then
if GetHeroLevel(M7[O5])>=6 then
set WOF=true
endif
if(GetHeroLevel(M7[O5])>11 and GetUnitLifePercent(M7[O5])>50)then
set WQF=WQF+EG7
endif
endif
set i=i+1
endloop
set i=1
loop
exitwhen i>5
set O5=GetPlayerId(Z7[i])
if(eY[O5]==9 and eY[272+O5]!=0)then
set WNF=false
endif
if(M7[O5]!=null and(GetUnitLifePercent(M7[O5])>10))then
set WQF=WQF-EF7
endif
set O5=GetPlayerId(A7[i])
if(eY[O5]==9 and eY[272+O5]!=0)then
set WOF=false
endif
if(M7[O5]!=null and(GetUnitLifePercent(M7[O5])>10))then
set WPF=WPF-EG7
endif
set i=i+1
endloop
if(not WNF)and(not WOF)then
return
endif
if GetWidgetLife(V4)>.405 then
if(WPF>=3 and(P24>4 and P_4>5 and Q44>5))then
call WIF(true)
endif
if(WPF>=3 and(P24<4 and P_4<5 and Q44<5))then
call WIF(false)
endif
endif
set i=0
set k=0
if WOF then
set i=i+HB4
set bj_forLoopAIndex=1
else
set bj_forLoopAIndex=6
endif
if WNF then
set i=i+HC4
set bj_forLoopAIndexEnd=10
else
set bj_forLoopAIndexEnd=5
endif
set VA7=-1
loop
exitwhen((bj_forLoopAIndex>bj_forLoopAIndexEnd)or(VA7!=-1))
set O5=GetPlayerId(R27(bj_forLoopAIndex))
set QZ7=(bj_forLoopAIndex<6)
if(M7[O5]!=null)then
if((GetWidgetLife(M7[O5])>.405)and(not SE7(M7[O5])))then
call GroupClear(H8)
set bj_lastLoadedUnit=M7[O5]
set j=GetUnitUserData(h8[80+O5])
if((VA7==-1)and(SP7(1200.,M7[O5],Condition(function WW7))<=1)and(S47(M7[O5]))and((GetRandomInt(1,i)==1)and(GetRandomInt(1,10)<=7+WHF(M7[O5]))))then
if((j>11 and j<17)or(j==11 and QZ7==false)or(j==17 and QZ7)or(j>11 and j<17)or(j==11 and QZ7==false)or(j==17 and QZ7)or(j>31 and j<39)or(j==31 and QZ7==false)or(j==39 and QZ7)or(j>11 and j<17)or(j==11 and QZ7==false)or(j==17 and QZ7)or(j>51 and j<59)or(j==51 and QZ7==false)or(j==59 and QZ7))then
set VA7=O5
endif
endif
endif
set i=i-1
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if VA7!=-1 then
set WMF=RH7(M7[VA7])
if(WMF==0 and PG4)or(WMF==1 and PH4)or(WMF==2 and PF4)or(WMF!=0 and PE4)then
return
endif
set bj_forLoopAIndex=1
set i=PW7(QZ7,HC4,HB4)
set j=0
set k=0
loop
exitwhen((bj_forLoopAIndex>10)or(eY[320+VA7]+j+k>E07 and k!=0))
if bj_forLoopAIndex==6 then
set i=PW7(QZ7,HC4,HB4)
endif
if bj_forLoopAIndex<=5 then
if QZ7 then
set O5=GetPlayerId(A7[bj_forLoopAIndex])
else
set O5=GetPlayerId(Z7[bj_forLoopAIndex])
endif
else
if QZ7 then
set O5=GetPlayerId(A7[bj_forLoopAIndex-5])
else
set O5=GetPlayerId(Z7[bj_forLoopAIndex-5])
endif
endif
if(M7[O5]!=null)then
if(GetUnitLifePercent(M7[O5])>70)and(GetUnitManaPercent(M7[O5])>50. and GetUnitState(M7[O5],UNIT_STATE_MANA)>200)then
set WKF=RH7(M7[O5])
if(WKF==WMF)and(bj_forLoopAIndex<=5)then
set j=j+1
if(Z17(Player(O5)))and((EXF==-1)or(GetRandomInt(1,3)<=WGF(M7[O5])))then
set EXF=O5
endif
elseif((WKF!=WMF)and((WMF==0)or(WKF==0)))and(eY[272+O5]!=-1)then
if((Z17(Player(O5)))and(GetHeroLevel(M7[O5])>=6)and(eY[O5]==1)and(h4[O5]==null)and(Bz>hq[320+O5])and(Bz>hq[480+O5])and(Bz>hq[528+O5])and(Bz>hq[576+O5])and(eY[544+O5]==0)and(Bz>hq[848+O5]))then
if(GetRandomInt(1,3)<=WGF(M7[O5]))and((GetRandomInt(1,i)<=2)or(bj_forLoopAIndex>5))then
set k=k+1
set eY[272+O5]=-1
else
endif
endif
endif
endif
set i=i-1
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(h4[304+VA7]!=null)then
set k=k-1
endif
if(j>2)then
set EXF=-1
endif
if(k>eY[320+VA7]+E07)then
if QZ7 then
set EO7=Y7
else
set EO7=X7
endif
set O5=1
if k==0 and EXF!=-1 then
set O5=EXF
endif
loop
if(eY[272+O5]==-1)or((O5==EXF)and(k==0))then
call VV7(M7[O5],EO7)
call VQ7(M7[O5],EO7,GetObjectName(1496330295)+Q[VA7]+GetUnitName(M7[VA7])+"|r")
call JZF(M7[O5],M7[VA7])
endif
set O5=O5+1
exitwhen(O5>11)or(k==0)
endloop
set E17=GetRandomInt(0,2)
endif
set O5=1
loop
exitwhen O5>11
if eY[272+O5]==-1 then
set eY[272+O5]=0
endif
set O5=O5+1
endloop
endif
set EO7=null
endfunction
function WRF takes nothing returns nothing
local button WSF=GetClickedButton()
local integer ki=GetHandleId(GetTriggeringTrigger())
local string VH=UQ7(ki,"PlHost")
local string kf=UQ7(ki,"Oid")
local integer UP=0
if(GetTriggerPlayer()!=QT4)then
set UP=5
endif
if(WSF==UR7(R44,VH+"|Btn11"))then
call W8F(kf+" "+I2S(1+UP))
elseif(WSF==UR7(R44,VH+"|Btn12"))then
call W8F(kf+" "+I2S(2+UP))
elseif(WSF==UR7(R44,VH+"|Btn13"))then
call W8F(kf+" "+I2S(3+UP))
elseif(WSF==UR7(R44,VH+"|Btn14"))then
call W8F(kf+" "+I2S(4+UP))
elseif(WSF==UR7(R44,VH+"|Btn15"))then
call W8F(kf+" "+I2S(5+UP))
elseif(WSF==UR7(R44,VH+"|Btn1A"))then
call W8F(kf)
endif
call TN7(ki)
call DestroyTrigger(GetTriggeringTrigger())
call DialogDestroy(GetClickedDialog())
set WSF=null
endfunction
function WTF takes string ki,boolean J4 returns nothing
local dialog WUF=DialogCreate()
local trigger t=CreateTrigger()
local string VH=""
local integer O5=1
if(GetTriggerPlayer()==QT4)then
set VH="Sent"
else
set VH="Scrg"
endif
call DialogSetMessage(WUF,GetObjectName(1496331827))
loop
if(IsPlayerInForce(TJ7(O5,GetTriggerPlayer()==QT4),QX4))then
call T57(R44,VH+"|Btn1"+I2S(O5),DialogAddButton(WUF,GetPlayerName(TJ7(O5,GetTriggerPlayer()==QT4)),0))
endif
set O5=O5+1
exitwhen O5>5
endloop
if(J4)then
call T57(R44,VH+"|Btn1A",DialogAddButton(WUF,GetObjectName(1496331826),0))
endif
call T57(R44,VH+"|Btn1X",DialogAddButton(WUF,GetObjectName(1496331568),0))
call TS7(GetHandleId(t),"PlHost",VH)
call TS7(GetHandleId(t),"Oid",ki)
call TriggerRegisterDialogEvent(t,WUF)
call TriggerAddAction(t,function WRF)
call DialogDisplay(GetTriggerPlayer(),WUF,true)
set t=null
endfunction
function WVF takes nothing returns nothing
local button WSF=GetClickedButton()
local integer ki=GetHandleId(GetTriggeringTrigger())
local string VH=UQ7(ki,"PlHost")
local string kf=UQ7(ki,"Oid")
if(WSF==UR7(R44,VH+"|Btn21"))then
call WTF(kf+"l",false)
elseif(WSF==UR7(R44,VH+"|Btn22"))then
call WTF(kf+"r",false)
elseif(WSF==UR7(R44,VH+"|Btn23"))then
call WTF(kf+"m",false)
elseif(WSF==UR7(R44,VH+"|Btn21X"))then
call W8F(kf+"l")
elseif(WSF==UR7(R44,VH+"|Btn22X"))then
call W8F(kf+"r")
elseif(WSF==UR7(R44,VH+"|Btn23X"))then
call W8F(kf+"m")
elseif(WSF==UR7(R44,VH+"|Btn24"))then
call W8F(kf+"n")
endif
call TN7(ki)
call DestroyTrigger(GetTriggeringTrigger())
call DialogDestroy(GetClickedDialog())
set WSF=null
endfunction
function WWF takes string ki,boolean J4 returns nothing
local dialog WUF=DialogCreate()
local trigger t=CreateTrigger()
local string VH=""
local string kf=""
local string WXF=""
if(J4)then
set WXF="X"
endif
if(GetTriggerPlayer()==QT4)then
set VH="Sent"
else
set VH="Scrg"
endif
call DialogSetMessage(WUF,GetObjectName(1496331569))
call T57(R44,VH+"|Btn21"+WXF,DialogAddButton(WUF,GetObjectName(1496331571),0))
call T57(R44,VH+"|Btn22"+WXF,DialogAddButton(WUF,GetObjectName(1496331570),0))
call T57(R44,VH+"|Btn23"+WXF,DialogAddButton(WUF,GetObjectName(1496331572),0))
if(J4)then
call T57(R44,VH+"|Btn24",DialogAddButton(WUF,GetObjectName(1496331573),0))
endif
call DialogAddButton(WUF,GetObjectName(1496331568),0)
call TS7(GetHandleId(t),"PlHost",VH)
call TS7(GetHandleId(t),"Oid",ki)
call TriggerRegisterDialogEvent(t,WUF)
call TriggerAddAction(t,function WVF)
call DialogDisplay(GetTriggerPlayer(),WUF,true)
set t=null
endfunction
function WYF takes nothing returns nothing
local button WSF=GetClickedButton()
local integer ki=GetHandleId(GetTriggeringTrigger())
local string VH=UQ7(ki,"PlHost")
if(WSF==UR7(R44,VH+"|Btn61"))then
call WTF("-osd",true)
elseif(WSF==UR7(R44,VH+"|Btn62"))then
call WTF("-oroshan",true)
elseif(WSF==UR7(R44,VH+"|Btn63"))then
call W8F("-oneut")
elseif(WSF==UR7(R44,VH+"|Btn64"))then
call W8F("-oauto")
endif
call TN7(ki)
call DestroyTrigger(GetTriggeringTrigger())
call DialogDestroy(GetClickedDialog())
set WSF=null
endfunction
function WZF takes nothing returns nothing
local dialog WUF=DialogCreate()
local trigger t=CreateTrigger()
local string VH=""
if(GetTriggerPlayer()==QT4)then
set VH="Sent"
else
set VH="Scrg"
endif
call DialogSetMessage(WUF,GetObjectName(1496331315))
call T57(R44,VH+"|Btn61",DialogAddButton(WUF,GetObjectName(1496331574),0))
call T57(R44,VH+"|Btn62",DialogAddButton(WUF,GetObjectName(1496331575),0))
if(((GetTriggerPlayer()==QT4)and(Gv))or((GetTriggerPlayer()==QU4)and(Gw)))then
call T57(R44,VH+"|Btn63",DialogAddButton(WUF,GetObjectName(1496331576),0))
else
call T57(R44,VH+"|Btn63",DialogAddButton(WUF,GetObjectName(1496331577),0))
endif
if(PE4)then
elseif(((GetTriggerPlayer()==QT4)and(PZ4))or((GetTriggerPlayer()==QU4)and(PA4)))then
call T57(R44,VH+"|Btn64",DialogAddButton(WUF,GetObjectName(1496331824),0))
else
call T57(R44,VH+"|Btn64",DialogAddButton(WUF,GetObjectName(1496331825),0))
endif
call DialogAddButton(WUF,GetObjectName(1496331568),0)
call TS7(GetHandleId(t),"PlHost",VH)
call TriggerRegisterDialogEvent(t,WUF)
call TriggerAddAction(t,function WYF)
call DialogDisplay(GetTriggerPlayer(),WUF,true)
set t=null
endfunction
function WAF takes nothing returns nothing
local button WSF=GetClickedButton()
local integer ki=GetHandleId(GetTriggeringTrigger())
local string VH=UQ7(ki,"PlHost")
if(WSF==UR7(R44,VH+"|Btn01"))then
call WTF("-oa",true)
elseif(WSF==UR7(R44,VH+"|Btn02"))then
call WTF("-od",true)
elseif(WSF==UR7(R44,VH+"|Btn03"))then
call WTF("-ob",false)
elseif(WSF==UR7(R44,VH+"|Btn04"))then
call WTF("-of",false)
elseif(WSF==UR7(R44,VH+"|Btn05"))then
call WWF("-og",false)
elseif(WSF==UR7(R44,VH+"|Btn06"))then
call WWF("-op",true)
elseif(WSF==UR7(R44,VH+"|Btn07"))then
call WZF()
endif
call TN7(ki)
call DestroyTrigger(GetTriggeringTrigger())
call DialogDestroy(GetClickedDialog())
set WSF=null
endfunction
function WEF takes nothing returns nothing
local dialog WUF=DialogCreate()
local trigger t=CreateTrigger()
local string VH=""
if(GetTriggerPlayer()==QT4)then
set VH="Sent"
else
set VH="Scrg"
endif
call DialogSetMessage(WUF,GetObjectName(1496331315))
call T57(R44,VH+"|Btn01",DialogAddButton(WUF,GetObjectName(1496331316),0))
call T57(R44,VH+"|Btn02",DialogAddButton(WUF,GetObjectName(1496331317),0))
call T57(R44,VH+"|Btn03",DialogAddButton(WUF,GetObjectName(1496331318),0))
call T57(R44,VH+"|Btn04",DialogAddButton(WUF,GetObjectName(1496331319),0))
if(not PE4)then
call T57(R44,VH+"|Btn05",DialogAddButton(WUF,GetObjectName(1496331320),0))
call T57(R44,VH+"|Btn06",DialogAddButton(WUF,GetObjectName(1496332340),0))
endif
call T57(R44,VH+"|Btn07",DialogAddButton(WUF,GetObjectName(1496331321),0))
call DialogAddButton(WUF,GetObjectName(1496331568),0)
call TS7(GetHandleId(t),"PlHost",VH)
call TriggerRegisterDialogEvent(t,WUF)
call TriggerAddAction(t,function WAF)
call DialogDisplay(GetTriggerPlayer(),WUF,true)
set t=null
endfunction
function WBF takes nothing returns nothing
local integer WCF
local integer PPF
local integer IPF
local integer W3F=1
local location W6F=null
local location WLF=null
local string W1F=""
local string W0F=""
if(Bz<150.)then
set WCF=0
elseif(Bz<1200.)then
set WCF=GetRandomInt(1,2)
else
set WCF=GetRandomInt(1,3)
endif
if(WCF==0)then
return
elseif(WCF==1)then
set PPF=1848651827
set W1F="Siege Golems"
elseif(WCF==2)then
set PPF=1848651845
set W1F="Scary Fish"
else
set PPF=1848651844
set W1F="Ancient Hydras"
endif
if(Bz>2400.)then
set W3F=W3F+1
endif
if PE4 then
set IPF=3
else
set IPF=GetRandomInt(2,4)
endif
if(IPF==2)then
set W6F=Wv
set WLF=qv
set W0F="west"
elseif(IPF==3)then
set W6F=Tv
set WLF=mv
set W0F="middle"
elseif(IPF==4)then
set W6F=Uv
set WLF=pv
set W0F="east"
endif
call CreateNUnitsAtLoc(W3F,PPF,Z7[0],W6F,bj_UNIT_FACING)
call IJ9(bj_lastCreatedGroup,IPF)
call CreateNUnitsAtLoc(W3F,PPF,A7[0],WLF,bj_UNIT_FACING)
call IJ9(bj_lastCreatedGroup,IPF)
call BC7(bj_FORCE_ALL_PLAYERS,10.,"|c000000ff"+W1F+"|r spawned in the "+W0F+" path!")
set W6F=null
set WLF=null
endfunction
function W5F takes boolean O6,string VH,integer W2F returns nothing
local integer W_F=0
local integer X4F=0
local integer X7F=0
local boolean X8F=false
local boolean X9F=false
local integer O5=1
local integer i1
local player pl
loop
set pl=TJ7(O5,not O6)
if((Z07(pl))and(M7[GetPlayerId(pl)]!=null))then
set i1=GetUnitTypeId(M7[GetPlayerId(pl)])
if((i1==1211117643)or(i1==1212365106)or(i1==1211119409))then
set X9F=true
elseif((i1==1315007329)or(i1==1160785972)or(i1==1429221424)or(i1==1332179560)or(i1==1311781206)or(i1==1429221430)or(i1==1214344551))then
set X8F=true
endif
if(IsUnitType(M7[GetPlayerId(pl)],UNIT_TYPE_MELEE_ATTACKER))then
set W_F=W_F+1
endif
if(QS7(i1,F77))then
set X4F=X4F+1
endif
if(QQ7(i1)<=2)then
set X7F=X7F+1
endif
endif
set O5=O5+1
exitwhen O5>5
endloop
if(X9F)then
call TT7(R44,VH+"|G",true)
call TT7(R44,VH+"|W",true)
elseif(X8F)then
call TT7(R44,VH+"|W",true)
endif
if(W_F!=0)and((W_F==W2F)or((W2F>3)and(W_F>=3)))then
call TT7(R44,VH+"|M",true)
endif
if(X4F!=0)and((X4F==W2F)or((W2F>3)and(X4F>=3)))then
call TT7(R44,VH+"|X",true)
endif
if(W2F>3 and X4F<=2)or(W2F<=3 and X4F<W2F)then
call TT7(R44,VH+"|Xb",true)
endif
if(X7F!=0)and((X7F==W2F)or((W2F>3)and(X7F>=3)))then
call TT7(R44,VH+"|D",true)
endif
set pl=null
endfunction
function XDF takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
call W5F(true,"Sent",HC4)
call W5F(false,"Scrg",HB4)
endfunction
function XEF takes player pl returns nothing
if((LT))then
elseif(Z84[GetPlayerId(pl)]==ZD4)then
if(not BT)then
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+20.))
else
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+40.))
endif
elseif(Z84[GetPlayerId(pl)]==ZE4)then
if(not BT)then
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+45.))
else
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+70.))
endif
else
if(not BT)then
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+80.))
else
call SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+110.))
endif
endif
set Z84[16+GetPlayerId(pl)]=R2I(GetPlayerHandicapXPBJ(pl))
endfunction
function XFF takes player pl,integer O5 returns nothing
local integer i=0
local integer U_7=GetPlayerId(pl)
set hG[48+U_7]=GetRandomInt(0,1)
if(D4 or RZ4)then
set hG[48+U_7]=GetRandomInt(0,2)
endif
set hG[64+U_7]=GetRandomInt(0,2)
set hG[80+U_7]=GetRandomInt(0,2)
set OL4[U_7]=false
call ForceRemovePlayer(L8,pl)
if Y4 then
set i=i+8
endif
if(CT)then
set i=i+8
endif
if((WT)or(O5==0))then
elseif(Z84[U_7]==ZD4)then
call SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+(100/O5)+(10*(O5-1)))
elseif(Z84[U_7]==ZE4)then
call SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+(300/O5)+(10*(O5-1)))
set i=i+4
else
call SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+(500/O5)+(10*(O5-1)))
set i=i+8
endif
if(CT)then
call SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,R2I(GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)*1.1))
endif
set Z84[32+U_7]=i
set Z84[48+U_7]=i
set Z84[64+U_7]=0
endfunction
function XGF takes trigger t,boolean O6,boolean XHF,boolean XIF returns nothing
if(TK7(O6)!=null)then
call TriggerRegisterPlayerChatEvent(t,TK7(O6),"-o",false)
call TriggerRegisterPlayerChatEvent(t,TK7(O6),"-c",false)
call TriggerRegisterPlayerChatEvent(t,TK7(O6)," c",false)
call TriggerRegisterPlayerChatEvent(t,TK7(O6)," ",true)
if(IsTriggerEnabled(QA4))then
call TriggerRegisterPlayerChatEvent(QA4,TK7(O6),"-pa",true)
call TriggerRegisterPlayerChatEvent(QA4,TK7(O6),"-px",true)
if((TK7(not O6)==null)and(XIF))then
if(XHF)then
call DisplayTimedTextToPlayer(TK7(O6),0,0,10.,GetObjectName(1496395824)+F07+"-pa|r/"+F07+"-pe|r")
else
call DisplayTimedTextToPlayer(TK7(O6),0,0,10.,GetObjectName(1496395825)+F07+"-pe|r")
endif
call TriggerRegisterPlayerChatEvent(QA4,TK7(O6),"-pe",true)
elseif(XHF)then
call DisplayTimedTextToPlayer(TK7(O6),0,0,10.,GetObjectName(1496395826)+F07+"-pa|r")
endif
endif
endif
endfunction
function XJF takes nothing returns nothing
local integer i=0
loop
exitwhen i>15
if M7[i]!=null and GetPlayerController(Player(i))==MAP_CONTROL_COMPUTER and IsUnitInRange(M7[i],IZ4,1000)==false and IsUnitInRange(M7[i],JA4,1000)==false then
set K17[176+i]=0
endif
set i=i+1
endloop
endfunction
function XKF takes nothing returns nothing
local trigger t
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,JA4,700.,null)
call TriggerAddCondition(t,Condition(function YB7))
call TriggerAddAction(t,function H7F)
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,IZ4,700.,null)
call TriggerAddCondition(t,Condition(function YA7))
call TriggerAddAction(t,function H7F)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,10,true)
call TriggerAddAction(t,function XJF)
set t=null
endfunction
function XMF takes nothing returns nothing
local trigger t=null
local string VH=GetEventPlayerChatString()
local player pl=R27(S2I(SubString(VH,8,StringLength(VH))))
if(pl!=null)and(pl!=GetTriggerPlayer())and ZL7(pl)then
if GetTriggerPlayer()==QT4 then
if IsPlayerAlly(GetLocalPlayer(),QT4)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,Q[0]+"The Sentinel|r's AI Leadership has been granted to "+Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r.")
endif
set QT4=pl
set t=GetTriggeringTrigger()
call DestroyTrigger(t)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,QT4,"-aigrant",false)
call TriggerAddAction(t,function XMF)
call DestroyTrigger(DV7)
set DV7=CreateTrigger()
call XGF(DV7,true,false,false)
call TriggerAddAction(DV7,function WFF)
else
if IsPlayerAlly(GetLocalPlayer(),QU4)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,Q[6]+"The Scourge|r's AI Leadership has been granted to "+Q[GetPlayerId(pl)]+GetPlayerName(pl)+"|r.")
endif
set QU4=pl
set t=GetTriggeringTrigger()
call DestroyTrigger(t)
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,QU4,"-aigrant",false)
call TriggerAddAction(t,function XMF)
call DestroyTrigger(DW7)
set DW7=CreateTrigger()
call XGF(DW7,false,false,false)
call TriggerAddAction(DW7,function WFF)
endif
else
call L27(GetTriggerPlayer(),"Invalid Leader Choice")
endif
endfunction
function XNF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local integer HG8=UN7(UC7,"TargetIndex")
local unit m5=ZX7(HG8)
local real B19=UO7(UC7,"Damage")
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or GetUnitAbilityLevel(GetTriggerUnit(),1110455089)==0 then
call DestroyEffect(UH7(UC7,"FX"))
call ZW7(HG8)
call TN7(UC7)
call UA7(t)
set HH7=true
call HD8(p5,m5,ZG4,B19)
set HH7=false
if B19>0 then
call DC8("+"+I2S(R2I(B19)),1,m5,0.023,255,0,0,216)
endif
elseif GetEventDamage()>1 then
call TR7(UC7,"Damage",(B19+GetEventDamage()*0.3)*1.0)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function XOF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
call TN7(UC7)
call UA7(t)
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TU7(UC7,"Source",p5)
call TQ7(UC7,"TargetIndex",ZZ7(m5))
call TV7(UC7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Other\\Silence\\SilenceTarget.mdl",m5,"overhead"))
call TR7(UC7,"Damage",(0)*1.0)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,5,false)
call TriggerAddCondition(t,Condition(function XNF))
set t=null
return false
endfunction
function XPF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function XOF))
call TU7(UC7,"Target",GetSpellTargetUnit())
call TU7(UC7,"Source",GetTriggerUnit())
set t=null
endfunction
function XQF takes nothing returns nothing
if GetSpellAbilityId()==1093682756 and CV7(GetSpellTargetUnit())==false then
call XPF()
endif
endfunction
function XRF takes nothing returns nothing
local unit u=GetTriggerUnit()
local item W38
local integer i=0
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local integer E89
local item XSF
call DisableTrigger(H94)
loop
exitwhen i>5
set W38=UnitItemInSlot(u,i)
set E89=RY7(W38)
if E89==Y3 then
set IR4=GetItemPlayer(W38)
call RemoveItem(W38)
set XSF=CreateItem(SU[ZX],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[RZ],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
elseif E89==C3 or E89==E6 then
set IR4=GetItemPlayer(W38)
call RemoveItem(W38)
set XSF=CreateItem(SU[AX],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[ZY],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
elseif E89==DP4 then
set IR4=GetItemPlayer(W38)
call RemoveItem(W38)
set XSF=CreateItem(SU[SX],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[GX],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[EB4],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
elseif E89==DQ4 then
set IR4=GetItemPlayer(W38)
call RemoveItem(W38)
set XSF=CreateItem(SU[SX],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[GX],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[EB4],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
elseif E89==DE4 then
set IR4=GetItemPlayer(W38)
call RemoveItem(W38)
set XSF=CreateItem(SU[OW],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[LL],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[EL4],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
elseif E89==F74 then
set IR4=GetItemPlayer(W38)
call RemoveItem(W38)
set XSF=CreateItem(SU[FV],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[CV],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
elseif E89==J1 then
set IR4=GetItemPlayer(W38)
call RemoveItem(W38)
set XSF=CreateItem(SU[NW],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[VW],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
elseif E89==O1 then
set IR4=GetItemPlayer(W38)
call RemoveItem(W38)
set XSF=CreateItem(SU[NW],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[VW],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
elseif E89==Y0 then
set IR4=GetItemPlayer(W38)
call RemoveItem(W38)
set XSF=CreateItem(SU[OL],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[NZ],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[EK4],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
elseif E89==E24 then
set IR4=GetItemPlayer(W38)
call RemoveItem(W38)
set XSF=CreateItem(SU[BV],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[DA4],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
elseif E89==LB then
set IR4=GetItemPlayer(W38)
call RemoveItem(W38)
set XSF=CreateItem(SU[FV],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[AX],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[GY],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
elseif E89==U1 then
set IR4=GetItemPlayer(W38)
call RemoveItem(W38)
set XSF=CreateItem(SU[RL],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[OL],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
elseif E89==JC or E89==NC then
set IR4=GetItemPlayer(W38)
call RemoveItem(W38)
set XSF=CreateItem(SU[DL],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[C3],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
elseif E89==U3 then
set IR4=GetItemPlayer(W38)
call RemoveItem(W38)
set XSF=CreateItem(SU[SY],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
set XSF=CreateItem(SU[WL],x,y)
call SetItemPlayer(XSF,IR4,false)
call SetItemUserData(XSF,1)
endif
set i=i+1
endloop
call EnableTrigger(H94)
set u=null
set W38=null
set XSF=null
endfunction
function XTF takes nothing returns boolean
if GetSpellAbilityId()==1093684021 or GetSpellAbilityId()==1093751366 then
call XRF()
endif
return false
endfunction
function XUF takes nothing returns nothing
local unit m5=GetEnumUnit()
local group A99=pw
local unit p5=qw
if IsUnitInGroup(m5,A99)==false then
call GroupAddUnit(A99,m5)
call IssueTargetOrder(Qw,"slow",m5)
set HH7=true
call HD8(p5,m5,ZG4,200)
set HH7=false
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl",m5,"origin"))
endif
set m5=null
set A99=null
set p5=null
endfunction
function XVF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit H88=U87(UC7,"Caster")
local group A99=UG7(UC7,"AlreadyDamaged")
local real d
local real x
local real x0=GetUnitX(p5)
local real y
local real y0=GetUnitY(p5)
local group g=CX7()
local integer YL9=GetTriggerEvalCount(t)
local integer i
call SetUnitX(H88,GetUnitX(p5))
call SetUnitY(H88,GetUnitY(p5))
set pw=A99
set qw=p5
set Qw=U87(UC7,"Nuker")
if GetTriggerEvalCount(t)>33 then
call KillUnit(H88)
call CW7(A99)
call TN7(UC7)
call UA7(t)
else
set d=YL9*18
set i=0
loop
exitwhen i>36
set x=x0+d*Cos(360*i/ 36*bj_DEGTORAD)
set y=y0+d*Sin(360*i/ 36*bj_DEGTORAD)
set IN4=p5
call GroupEnumUnitsInRange(g,x,y,150,Condition(function F28))
call ForGroup(g,function XUF)
set i=i+1
endloop
endif
call CW7(g)
set t=null
set H88=null
set A99=null
set p5=null
set g=null
return false
endfunction
function XWF takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local real x=GetUnitX(CO7)
local real y=GetUnitY(CO7)
local group A99=CX7()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit H88=CreateUnit(GetOwningPlayer(CO7),1747990833,x,y,0)
local unit XXF=CreateUnit(GetOwningPlayer(CO7),1697656901,GetUnitX(CO7),GetUnitY(CO7),0)
call UnitAddAbility(XXF,1093686320)
call TC7(UC7,"AlreadyDamaged",A99)
call TU7(UC7,"Caster",H88)
call TU7(UC7,"Nuker",XXF)
call TU7(UC7,"Source",CO7)
call TriggerRegisterTimerEvent(t,0.06,true)
call TriggerAddCondition(t,Condition(function XVF))
set t=null
set A99=null
set H88=null
set XXF=null
set CO7=null
endfunction
function XYF takes nothing returns nothing
if GetSpellAbilityId()==1093686329 then
call XWF()
endif
endfunction
function XZF takes unit EC8,integer U4E returns nothing
local integer OC7=GetHandleId(EC8)
call SaveInteger(L7,(OC7),(750),(U4E))
endfunction
function XAF takes nothing returns nothing
local integer i=0
local integer XBF=0
local boolean XCF=false
if GetSpellAbilityId()==1093683801 then
loop
exitwhen i>5
if RZ7(UnitItemInSlot(GetTriggerUnit(),i))==ZA or RZ7(UnitItemInSlot(GetTriggerUnit(),i))==DT4 then
set XBF=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),i))
if XBF>0 then
call SetItemCharges(UnitItemInSlot(GetTriggerUnit(),i),0)
call XZF(GetTriggerUnit(),0)
if XCF==false then
set XCF=true
call SetUnitState(GetTriggerUnit(),UNIT_STATE_MANA,GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)+15*XBF)
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+15*XBF)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl",GetTriggerUnit(),"origin"))
endif
endif
return
endif
set i=i+1
endloop
endif
endfunction
function X3F takes integer id returns boolean
local integer i=1
loop
exitwhen i>MC4
if id==MB4[i]then
return false
endif
set i=i+1
endloop
return true
endfunction
function X6F takes unit XLF,unit p5 returns nothing
if IsUnitVisible(XLF,GetOwningPlayer(p5))==false and GetRandomInt(1,100)<10 then
call PlaySoundOnUnitBJ(RI,100,p5)
endif
endfunction
function X1F takes nothing returns nothing
local unit CO7=GetEnumUnit()
local integer i=0
loop
exitwhen i>5
if IsUnitVisible(GetTriggerUnit(),GetOwningPlayer(GetEnumUnit()))==true then
if RZ7(UnitItemInSlot(CO7,i))==ZA or RZ7(UnitItemInSlot(CO7,i))==DT4 then
if RZ7(UnitItemInSlot(CO7,i))==DT4 then
if GetItemCharges(UnitItemInSlot(CO7,i))==15 then
call X6F(GetTriggerUnit(),CO7)
endif
call XZF(CO7,DN8(GetItemCharges(UnitItemInSlot(CO7,i))+1,15))
call SetItemCharges(UnitItemInSlot(CO7,i),DN8(GetItemCharges(UnitItemInSlot(CO7,i))+1,15))
else
if GetItemCharges(UnitItemInSlot(CO7,i))==10 then
call X6F(GetTriggerUnit(),CO7)
endif
call XZF(CO7,DN8(GetItemCharges(UnitItemInSlot(CO7,i))+1,10))
call SetItemCharges(UnitItemInSlot(CO7,i),DN8(GetItemCharges(UnitItemInSlot(CO7,i))+1,10))
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",CO7,"chest"))
set i=5
endif
endif
set i=i+1
endloop
set CO7=null
endfunction
function X0F takes nothing returns nothing
local group g=CX7()
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
call GroupEnumUnitsInRange(g,x,y,1225,Condition(function GI8))
call ForGroup(g,function X1F)
call CW7(g)
set g=null
set p5=null
endfunction
function X5F takes nothing returns nothing
if X3F(GetSpellAbilityId())==true and B77(GetSpellAbilityId())==true and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 and J98(GetSpellAbilityId())==false then
call X0F()
endif
endfunction
function X2F takes unit p5,unit m5 returns nothing
local integer BH7=GetUnitAbilityLevel(p5,1093686099)
local real DS8=(0.03+0.01*BH7)*GetUnitState(m5,UNIT_STATE_LIFE)
if GetUnitAbilityLevel(m5,1093678162)==0 then
call HD8(p5,m5,ZH4,DS8)
call SetUnitState(p5,UNIT_STATE_LIFE,DS8+GetUnitState(p5,UNIT_STATE_LIFE))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",p5,"origin"))
endif
endfunction
function X_F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local unit p5=U87(UC7,"Source")
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 then
call DisableTrigger(t)
call X2F(p5,m5)
call TN7(UC7)
call UA7(t)
endif
else
call TN7(UC7)
call UA7(t)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function Y4F takes nothing returns nothing
local trigger t=CreateTrigger()
local unit m5=GetTriggerUnit()
local unit p5=GetAttacker()
local integer UC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1,false)
call TriggerAddCondition(t,Condition(function X_F))
call TU7(UC7,"Target",m5)
call TU7(UC7,"Source",p5)
set m5=null
set p5=null
set t=null
endfunction
function Y7F takes nothing returns nothing
local unit p5=GetAttacker()
if UU7(p5,"CooldownState")==false then
call U67(p5,"CooldownState",0.4)
call Y4F()
endif
endfunction
function Y8F takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093686099)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==U87(GetHandleId(GetTriggeringTrigger()),"Hero")and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
call Y7F()
endif
return false
endfunction
function Y9F takes unit CO7,boolean A_9 returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function Y8F))
call TU7(GetHandleId(t),"Hero",CO7)
if A_9 then
set aj[GetPlayerId(GetOwningPlayer(CO7))]=t
endif
set t=null
endfunction
function YDF takes nothing returns boolean
if GetLearnedSkill()==1093686099 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093686099)==1 then
call Y9F(GetTriggerUnit(),false)
endif
return false
endfunction
function SV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function YDF))
set t=null
endfunction
function YEF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
if GetUnitTypeId(CO7)==1160786520 then
call SetUnitVertexColor(CO7,255,255,255,255)
else
call SetUnitVertexColor(CO7,100,100,100,255)
endif
call DestroyEffect(UH7(UC7,"FX1"))
call DestroyEffect(UH7(UC7,"FX2"))
call UnitRemoveAbility(CO7,1093686098)
call UnitRemoveAbility(CO7,1093686100)
call TN7(UC7)
call UA7(t)
set t=null
set CO7=null
return false
endfunction
function YFF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=GetTriggerUnit()
local integer BH7=GetUnitAbilityLevel(CO7,1093686322)
call SetUnitVertexColor(CO7,0,0,0,255)
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),1093686100,false)
call LM7(CO7,1093686100)
call LM7(CO7,1093686098)
call SetUnitAbilityLevel(CO7,1093686098,BH7)
call DL9(CO7,0,0)
call TU7(UC7,"Hero",CO7)
call TV7(UC7,"FX1",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl",CO7,"right hand"))
call TV7(UC7,"FX2",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl",CO7,"left hand"))
call TriggerRegisterTimerEvent(t,2+BH7,false)
call TriggerAddCondition(t,Condition(function YEF))
set CO7=null
set t=null
endfunction
function YGF takes nothing returns boolean
if GetSpellAbilityId()==1093686322 then
call YFF()
endif
return false
endfunction
function SW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YGF))
set t=null
endfunction
function Snatch_Damage takes nothing returns nothing
call HD8(LK4,GetEnumUnit(),ZG4,LM4*125+25)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl",GetEnumUnit(),"overhead"))
endfunction
function Snatch_Process takes nothing returns nothing
local integer OC7=GetHandleId(GetTriggeringTrigger())
local unit EC8=IN4
local unit O07=IP4
local real B19=UO7(OC7,"Damage")
call HD8(EC8,O07,ZG4,B19)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl",O07,"overhead"))
set EC8=null
set O07=null
endfunction
function YHF takes nothing returns nothing
local unit EC8=LK4
local unit O07=GetEnumUnit()
local integer H98=LM4
local trigger t=EK8(EC8,O07,1747993670,"HTE",600)
local integer OC7=GetHandleId(t)
call TR7(OC7,"Damage",((H98*125+25)*1.0))
set EC8=null
set O07=null
endfunction
function YIF takes unit EC8,unit O07,integer H98 returns nothing
local group g=CX7()
set IN4=EC8
set LK4=EC8
set LM4=H98
call GroupEnumUnitsInRange(g,GetUnitX(O07),GetUnitY(O07),725,Condition(function FT8))
call ForGroup(g,function YHF)
call CW7(g)
set g=null
endfunction
function YJF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer B17=GetHandleId(t)
local integer Q17=UN7(B17,"HeroPID")
local unit YKF=U87(B17,"ConsumeCaster")
call DisableTrigger(Q04[Q17])
call IssueImmediateOrderById(YKF,852597)
call EnableTrigger(Q04[Q17])
call TN7(B17)
call UA7(t)
set t=null
set YKF=null
return false
endfunction
function YMF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=U87(OC7,"Target")
local unit CC7=U87(OC7,"Hero")
local unit H88=U87(OC7,"Caster")
local integer H98=UN7(OC7,"Level")
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call UnitShareVision(O07,GetOwningPlayer(CC7),false)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(O07),GetUnitY(O07)))
call SetUnitPosition(CC7,GetUnitX(O07),GetUnitY(O07))
call PauseUnit(CC7,false)
call ShowUnit(CC7,true)
call SetUnitPathing(CC7,true)
call ClearSelectionForPlayer(GetOwningPlayer(CC7))
call SelectUnitForPlayerSingle(CC7,GetOwningPlayer(CC7))
call SetUnitInvulnerable(CC7,false)
call DestroyEffect(UH7(OC7,"FX"))
call DestroyEffect(UH7(OC7,"FX3"))
call RemoveUnit(H88)
call TN7(OC7)
call UA7(t)
call YIF(CC7,O07,H98)
call SaveInteger(L7,(GetHandleId((CC7))),((4310)),(2))
elseif IsUnitType(O07,UNIT_TYPE_HERO)==true and IsUnitEnemy(O07,GetOwningPlayer(CC7))==true then
call UnitShareVision(O07,GetOwningPlayer(CC7),false)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(O07),GetUnitY(O07)))
call SetUnitPosition(CC7,GetUnitX(O07),GetUnitY(O07))
call PauseUnit(CC7,false)
call ShowUnit(CC7,true)
call SetUnitPathing(CC7,true)
call ClearSelectionForPlayer(GetOwningPlayer(CC7))
call SelectUnitForPlayerSingle(CC7,GetOwningPlayer(CC7))
call SetUnitInvulnerable(CC7,false)
call DestroyEffect(UH7(OC7,"FX"))
call DestroyEffect(UH7(OC7,"FX3"))
call RemoveUnit(H88)
call TN7(OC7)
call UA7(t)
call YIF(CC7,O07,H98)
call SaveInteger(L7,(GetHandleId((CC7))),((4310)),(2))
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093686104 then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(O07),GetUnitY(O07)))
if IsUnitEnemy(O07,GetOwningPlayer(CC7))then
call SetUnitState(CC7,UNIT_STATE_LIFE,GetUnitState(CC7,UNIT_STATE_LIFE)+GetUnitState(O07,UNIT_STATE_LIFE))
endif
call UnitShareVision(O07,GetOwningPlayer(CC7),false)
call SetUnitPosition(CC7,GetUnitX(O07),GetUnitY(O07))
call PauseUnit(CC7,false)
call ShowUnit(CC7,true)
call SetUnitPathing(CC7,true)
call SetUnitAnimation(CC7,"Stand Victory")
call EU8(CC7,1.5)
call ClearSelectionForPlayer(GetOwningPlayer(CC7))
call SelectUnitForPlayerSingle(CC7,GetOwningPlayer(CC7))
call SetUnitInvulnerable(CC7,false)
call DestroyEffect(UH7(OC7,"FX"))
call DestroyEffect(UH7(OC7,"FX3"))
call RemoveUnit(H88)
call TN7(OC7)
call UA7(t)
call YIF(CC7,O07,H98)
if IsUnitEnemy(O07,GetOwningPlayer(CC7))then
call UnitRemoveBuffs(O07,true,true)
call DL9(O07,0,0)
call HD8(CC7,O07,ZG4,100000)
call HD8(CC7,O07,ZH4,100000)
call HD8(CC7,O07,ZI4,100000)
endif
call SaveInteger(L7,(GetHandleId((CC7))),((4310)),(2))
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELECTED and GetTriggerUnit()==O07 then
call ClearSelectionForPlayer(GetOwningPlayer(CC7))
call SelectUnitAddForPlayer(H88,GetOwningPlayer(CC7))
else
call SetUnitPosition(CC7,GetUnitX(O07),GetUnitY(O07))
endif
set t=null
set O07=null
set CC7=null
return false
endfunction
function YNF takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local trigger YOF=CreateTrigger()
local unit H88=CreateUnit(GetOwningPlayer(CO7),1697657136,7260,-7732,0)
local string YPF="Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl"
local string YQF="Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBase.mdl"
local string YRF="Abilities\\Spells\\Other\\Aneu\\AneuTarget.mdl"
if IsPlayerEnemy(GetLocalPlayer(),GetOwningPlayer(CO7))and CM7(GetLocalPlayer())==false then
set YPF=""
set YQF=""
set YRF=""
endif
call UnitRemoveBuffs(CO7,true,true)
call DL9(CO7,0,0)
call SetUnitInvulnerable(H88,true)
call LM7(H88,1093686104)
call ClearSelectionForPlayer(GetOwningPlayer(CO7))
call SelectUnitForPlayerSingle(H88,GetOwningPlayer(CO7))
call UnitShareVision(m5,GetOwningPlayer(CO7),true)
call SetUnitInvulnerable(CO7,true)
call ShowUnit(CO7,false)
call PauseUnit(CO7,true)
call SetUnitPathing(CO7,false)
call DestroyEffect(AddSpecialEffectTarget(YPF,m5,"overhead"))
call TU7(UC7,"Target",m5)
call TU7(UC7,"Hero",CO7)
call TU7(UC7,"Caster",H88)
call TV7(UC7,"FX",AddSpecialEffectTarget(YQF,m5,"overhead"))
call TV7(UC7,"FX3",AddSpecialEffectTarget(YRF,m5,"overhead"))
call TQ7(UC7,"Level",(GetUnitAbilityLevel(CO7,1093686103)))
call TriggerRegisterDeathEvent(t,m5)
call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(CO7),EVENT_PLAYER_UNIT_SELECTED,Condition(function ZV7))
call TriggerRegisterUnitEvent(t,H88,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function YMF))
call SaveInteger(L7,(GetHandleId((CO7))),((4310)),(1))
if Z17(GetOwningPlayer(CO7))then
call TU7(GetHandleId(YOF),"ConsumeCaster",H88)
call TQ7(GetHandleId(YOF),"HeroPID",GetPlayerId(GetOwningPlayer(CO7)))
call TriggerRegisterTimerEvent(YOF,1.0,false)
call TriggerAddCondition(YOF,Condition(function YJF))
endif
set t=null
set YOF=null
set CO7=null
set m5=null
endfunction
function YSF takes nothing returns boolean
if GetSpellAbilityId()==1093686103 then
call YNF()
endif
return false
endfunction
function YTF takes nothing returns boolean
if GetSpellAbilityId()==1093686103 and IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true or IsUnitIllusion(GetSpellTargetUnit()))then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659030))
endif
return false
endfunction
function SY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YSF))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function YTF))
set t=null
endfunction
function YUF takes integer CP8,unit EC8,unit O07 returns nothing
local unit H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
if CP8==0 then
call IssueTargetOrder(EC8,"attack",O07)
elseif CP8==1 then
call LM7(H88,1093686344)
call SetUnitAbilityLevel(H88,1093686344,1)
call IssueTargetOrder(H88,"slow",O07)
elseif CP8==2 then
call LM7(H88,1093686344)
call SetUnitAbilityLevel(H88,1093686344,1)
call IssueTargetOrder(H88,"slow",O07)
elseif CP8==3 then
call LM7(H88,1093686344)
call SetUnitAbilityLevel(H88,1093686344,2)
call IssueTargetOrder(H88,"slow",O07)
elseif CP8==4 then
call LM7(H88,1093686344)
call SetUnitAbilityLevel(H88,1093686344,3)
call IssueTargetOrder(H88,"slow",O07)
elseif CP8==5 then
call LM7(H88,1093686344)
call SetUnitAbilityLevel(H88,1093686344,4)
call IssueTargetOrder(H88,"slow",O07)
elseif CP8==6 then
call LM7(H88,1093686344)
call SetUnitAbilityLevel(H88,1093686344,5)
call IssueTargetOrder(H88,"slow",O07)
endif
set H88=null
endfunction
function YVF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=UN7(UC7,"Level")
local integer B78=UN7(UC7,"Count")
local unit p5=U87(UC7,"Source")
local integer HG8=UN7(UC7,"TargetIndex")
local unit m5=ZX7(HG8)
local real YWF=(10.0+BH7*5.0)/ 100.0
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
set B78=B78+1
call YUF(B78,p5,m5)
if B78==8 then
call ZW7(HG8)
call TN7(UC7)
call UA7(t)
else
call TQ7(UC7,"Count",B78)
endif
elseif ID8(GetEventDamage())and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false then
if IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO)or GetUnitAbilityLevel(GetEventDamageSource(),1093678162)==0 then
call SetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE,GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)+GetEventDamage()*YWF)
else
call SetUnitState(M7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],UNIT_STATE_LIFE,GetUnitState(M7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],UNIT_STATE_LIFE)+GetEventDamage()*YWF)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",GetEventDamageSource(),"origin"))
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function YXF takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call YUF(0,p5,m5)
call TQ7(UC7,"Count",0)
call TQ7(UC7,"Level",GetUnitAbilityLevel(p5,1093744948))
call TU7(UC7,"Source",p5)
call TQ7(UC7,"TargetIndex",ZZ7(m5))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function YVF))
set t=null
set p5=null
set m5=null
endfunction
function YYF takes nothing returns boolean
if GetSpellAbilityId()==1093744948 and CV7(GetSpellTargetUnit())==false then
call YXF()
endif
return false
endfunction
function SX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YYF))
set t=null
call DE8(1093686344)
endfunction
function IsUnitHeroFilter takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)
endfunction
function YAF takes nothing returns boolean
local integer i1=GetSpellAbilityId()
if(i1==1093681473 or i1==1093748054 or i1==1093686104 or i1==1093683018 or i1==1093683013 or i1==1093683027 or i1==1093681474 or i1==1093748818 or i1==1093751605 or i1==1093749070 or i1==1093751608 or i1==1093681475 or i1==1093681476 or i1==1093681477 or i1==1093747023 or i1==1093752150 or i1==1093747786 or i1==1093752119)or i1==1093751607 or i1==1093687350 or i1==1093810228 or i1==1093683277 or(i1==1093678936 or i1==1093681484)or i1==1093678932 or i1==1093687350 or i1==1093683271 or i1==1093682778 then
elseif i1==1093743697 then
call KillUnit(GetTriggerUnit())
else
call UnitRemoveAbility(GetTriggerUnit(),i1)
endif
return true
endfunction
function YBF takes nothing returns boolean
local unit u=GetTriggerUnit()
local boolean YCF
if GetUnitAbilityLevel(u,1097625443)>0 and GetPlayerController(GetOwningPlayer(u))==MAP_CONTROL_COMPUTER then
if(GetUnitAbilityLevel(u,1093686104)==0 and GetUnitAbilityLevel(u,1093748823)==0 and GetUnitAbilityLevel(u,1093748824)==0 and GetUnitAbilityLevel(u,1093750342)==0 and GetUnitAbilityLevel(u,1093682778)==0 and GetUnitAbilityLevel(u,1093748301)==0 and GetUnitAbilityLevel(u,1093747786)==0 and GetUnitAbilityLevel(u,1093752119)==0 and GetUnitTypeId(u)!=1747993137 and GetUnitTypeId(u)!=1697657136 and GetUnitTypeId(u)!=1747993395 and GetUnitTypeId(u)!=1697657424 and GetUnitTypeId(u)!=1747988559 and GetUnitTypeId(u)!=1697657412 and GetUnitTypeId(u)!=1747990577 and GetUnitTypeId(u)!=1865429305)then
set YCF=GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_ENDCAST and YAF()
endif
endif
set u=null
return false
endfunction
function Y3F takes unit PF7,integer EI9 returns item
local integer O37
local item Y6F
set O37=0
loop
exitwhen O37>5
set Y6F=UnitItemInSlot(PF7,O37)
if(Y6F!=null)and(RY7(Y6F)==EI9)then
set Y6F=null
return UnitItemInSlot(PF7,O37)
endif
set O37=O37+1
endloop
set Y6F=null
return null
endfunction
function W68 takes nothing returns nothing
local unit CO7=IN4
local integer i=1
local integer YLF
if GetUnitTypeId(CO7)!=1211117653 then
return
endif
loop
exitwhen i>11
set YLF=BS[i]
call LM7(CO7,YLF)
call SetPlayerAbilityAvailable(GetOwningPlayer(CO7),YLF,false)
set i=i+1
endloop
set CO7=null
endfunction
function Y1F takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==1211117653 and IsUnitIllusion(GetTriggerUnit())==false then
set IN4=GetTriggerUnit()
call W68()
elseif(GetUnitTypeId(GetTriggerUnit())==1432510828 or GetUnitTypeId(GetTriggerUnit())==1160786520)and IsUnitIllusion(GetTriggerUnit())==false then
set IN4=GetTriggerUnit()
call ExecuteFunc("VZE")
elseif GetUnitTypeId(GetTriggerUnit())==1211117641 and IsUnitIllusion(GetTriggerUnit())==false then
set IN4=GetTriggerUnit()
call ExecuteFunc("LAD")
endif
return false
endfunction
function Y0F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
call UnitRemoveAbility(m5,1093686858)
call UnitRemoveAbility(m5,1093742649)
if GetUnitAbilityLevel(m5,1093686858)==0 or GetUnitAbilityLevel(m5,1093742649)==0 then
call TN7(UC7)
call UA7(t)
endif
set t=null
set m5=null
return false
endfunction
function Y5F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
call DestroyEffect(UH7(UC7,"FX"))
call TN7(UC7)
call UA7(t)
call UnitRemoveAbility(m5,1093686858)
call UnitRemoveAbility(m5,1093742649)
if GetUnitAbilityLevel(m5,1093686858)>0 or GetUnitAbilityLevel(m5,1093742649)>0 then
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TU7(UC7,"Target",m5)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function Y0F))
endif
set t=null
set m5=null
return false
endfunction
function Y2F takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=GetTriggerUnit()
local integer Y_F=GetHandleId(CO7)
local unit m5=GetSpellTargetUnit()
local integer Z4F=UN7(Y_F,"WexLevel")
local integer Z7F=UN7(Y_F,"ExortLevel")
call LM7(m5,1093686858)
call SetUnitAbilityLevel(m5,1093686858,Z4F)
call LM7(m5,1093742649)
call SetUnitAbilityLevel(m5,1093742649,Z7F)
call TriggerRegisterTimerEvent(t,9,false)
call TriggerAddCondition(t,Condition(function Y5F))
call TU7(UC7,"Target",m5)
call TV7(UC7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl",m5,"origin"))
set t=null
set CO7=null
set m5=null
endfunction
function Z8F takes nothing returns boolean
if GetSpellAbilityId()==1093686865 then
call Y2F()
endif
return false
endfunction
function Z9F takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z8F))
call DI8(1093686858,GetRandomReal(1,25))
call DI8(1093742649,GetRandomReal(1,25))
set t=null
endfunction
function ZDF takes unit p5 returns real
return 400+400.0*(UN7(GetHandleId(p5),"WexLevel"))
endfunction
function ZEF takes unit p5,unit m5,integer Z4F,integer ZFF returns nothing
local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
local unit ZGF=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
local real ZHF=0.5+0.3*ZFF
if ZFF==7 then
set ZHF=2.5
endif
call LM7(oA,1093687371)
call SetUnitAbilityLevel(oA,1093687371,ZFF)
call IssueTargetOrder(oA,"cyclone",m5)
call HI8(ZGF,m5,1,70+(Z4F+ZFF)*20.0,ZHF)
set oA=null
set ZGF=null
endfunction
function ZIF takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call ZEF(IN4,GetEnumUnit(),IH4,tl)
endif
endfunction
function ZJF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit oA=U87(UC7,"Caster")
local real x2=UO7(UC7,"x2")
local real y2=UO7(UC7,"y2")
local real a=UO7(UC7,"a")
local integer Z4F=UN7(UC7,"WexLevel")
local integer ZFF=UN7(UC7,"QuasLevel")
local group g=UG7(UC7,"g")
local real x=GetUnitX(oA)+25*Cos(a)
local real y=GetUnitY(oA)+25*Sin(a)
local group ZKF=CX7()
local real ZMF=RF7(x,y,x2,y2)
if ZMF<=30 then
set x=x2
set y=y2
endif
call SetUnitX(oA,D78(x))
call SetUnitY(oA,D88(y))
set IN4=oA
set IQ4=g
set IH4=Z4F
set tl=ZFF
call GroupEnumUnitsInRange(ZKF,x,y,200,Condition(function FT8))
call ForGroup(ZKF,function ZIF)
call CW7(ZKF)
if ZMF<=30 or GetTriggerEvalCount(t)>125 then
call KillUnit(oA)
call TN7(UC7)
call UA7(t)
endif
set t=null
set oA=null
set g=null
set ZKF=null
return false
endfunction
function ZNF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local location l=GetSpellTargetLoc()
local unit p5=GetTriggerUnit()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local unit oA
set x=GetUnitX(p5)
set y=GetUnitY(p5)
set oA=CreateUnit(GetOwningPlayer(p5),1848652117,x,y,a*bj_RADTODEG)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function ZJF))
call TU7(UC7,"Caster",oA)
call TR7(UC7,"x2",x+ZDF(p5)*Cos(a))
call TR7(UC7,"y2",y+ZDF(p5)*Sin(a))
call TQ7(UC7,"WexLevel",(UN7(GetHandleId(p5),"WexLevel")))
call TQ7(UC7,"QuasLevel",(UN7(GetHandleId(p5),"QuasLevel")))
call TR7(UC7,"a",a)
call TC7(UC7,"g",CX7())
call RemoveLocation(l)
set t=null
set l=null
set p5=null
endfunction
function ZOF takes nothing returns boolean
if GetSpellAbilityId()==1093686859 then
call ZNF()
endif
return false
endfunction
function ZPF takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZOF))
call DI8(1093687371,GetRandomReal(1,25))
set t=null
endfunction
function ZQF takes nothing returns nothing
local real ZRF=DR8(DQ8(GetUnitState(GetEnumUnit(),UNIT_STATE_MANA),pB),0)
local real ZSF=ZRF*0.5
if CK7(GetEnumUnit())==false and ZRF>0 and BW7(GetEnumUnit())==false then
if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>(ZSF+0.5)then
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)-ZSF)
else
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,1)
call HD8(PB,GetEnumUnit(),ZG4,ZSF)
endif
call SetUnitState(GetEnumUnit(),UNIT_STATE_MANA,GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)-ZRF)
endif
endfunction
function ZTF takes unit p5,integer Z4F,integer Z7F returns nothing
local group g=CX7()
set PB=p5
set IN4=p5
set pB=Z4F*50+50
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),700,Condition(function FT8))
call ForGroup(g,function ZQF)
call CW7(g)
set g=null
endfunction
function ZUF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer iX=GetTriggerEvalCount(t)
local unit oA=U87(UC7,"Caster")
local unit ZVF
local real ZWF=XN-0.28*UN7(UC7,"WexLevel")
local real ZXF=VN+(EN-VN)*iX/(ZWF/ 0.05)
call SetUnitScale(oA,ZXF,ZXF,ZXF)
if iX>(ZWF/ 0.05)then
call ZTF(oA,UN7(UC7,"WexLevel"),UN7(UC7,"ExortLevel"))
set ZVF=CreateUnit(GetOwningPlayer(oA),1697657167,GetUnitX(oA),GetUnitY(oA),0)
call SetUnitTimeScale(ZVF,0.3)
call RemoveUnit(oA)
call KillUnit(ZVF)
call TN7(UC7)
call UA7(t)
endif
set t=null
set oA=null
set ZVF=null
return false
endfunction
function ZYF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local location l=GetSpellTargetLoc()
local unit p5=GetTriggerUnit()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local unit oA=CreateUnit(GetOwningPlayer(p5),1697657165,x,y,a*bj_RADTODEG)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function ZUF))
call TU7(UC7,"Caster",oA)
call TQ7(UC7,"WexLevel",((UN7(GetHandleId(p5),"WexLevel"))))
call TQ7(UC7,"QuasLevel",((UN7(GetHandleId(p5),"QuasLevel"))))
call TQ7(UC7,"ExortLevel",((UN7(GetHandleId(p5),"ExortLevel"))))
call RemoveLocation(l)
set t=null
set l=null
set p5=null
endfunction
function ZZF takes nothing returns boolean
if GetSpellAbilityId()==1093686867 then
call ZYF()
endif
return false
endfunction
function ZAF takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZZF))
set t=null
endfunction
function ZBF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit ZCF=U87(UC7,"Caster")
local unit hn=U87(UC7,"Hero")
if GetUnitAbilityLevel(hn,1110456408)==0 then
call KillUnit(ZCF)
call TN7(UC7)
call UA7(t)
else
call SetUnitAbilityLevel(ZCF,1093686856,(UN7(GetHandleId(hn),"QuasLevel")))
call SetUnitX(ZCF,GetUnitX(hn))
call SetUnitY(ZCF,GetUnitY(hn))
endif
set t=null
set ZCF=null
set hn=null
return false
endfunction
function Z3F takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit hn=GetTriggerUnit()
local unit ZCF=CreateUnit(GetOwningPlayer(hn),1697657174,GetUnitX(hn),GetUnitY(hn),0)
call LM7(ZCF,1093686856)
call SetUnitAbilityLevel(ZCF,1093686856,(UN7(GetHandleId(hn),"QuasLevel")))
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function ZBF))
call TU7(UC7,"Caster",ZCF)
call TU7(UC7,"Hero",hn)
set t=null
set hn=null
endfunction
function Z6F takes nothing returns boolean
if GetSpellAbilityId()==1093687372 then
call Z3F()
endif
return false
endfunction
function ZLF takes unit hn returns nothing
if GetUnitAbilityLevel(hn,1093687372)>0 then
call SetUnitAbilityLevel(hn,1093687372,(UN7(GetHandleId(hn),"WexLevel")))
endif
endfunction
function Z1F takes nothing returns boolean
if IsUnitIllusion(GetTriggerUnit())==false then
call ZLF(GetTriggerUnit())
endif
return false
endfunction
function Z0F takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Z6F))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function Z1F))
call DI8(1093686856,GetRandomReal(1,25))
set t=null
endfunction
function Z5F takes unit Z2F,unit m5,integer Z4F returns nothing
local unit Z_F=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LM7(Z_F,1093686868)
call SetUnitAbilityLevel(Z_F,1093686868,Z4F)
call IssueTargetOrder(Z_F,"drunkenhaze",m5)
set Z_F=null
endfunction
function A4F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit Z2F=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local real A7F=UO7(UC7,"Angle")
local real A8F=UO7(UC7,"Rate")
local integer Z4F=UN7(UC7,"WexLevel")
local integer ZFF=UN7(UC7,"QuasLevel")
local integer A9F=ZFF*25/ 3
local real x
local real y
local integer N6E=GetTriggerEvalCount(t)
if N6E>A9F/ 3 then
call TR7(UC7,"Rate",A8F*0.98)
endif
if N6E>A9F or GetTriggerEventId()==EVENT_UNIT_DEATH then
call TN7(UC7)
call UA7(t)
if GetTriggerEventId()!=EVENT_UNIT_DEATH then
call Z5F(Z2F,m5,Z4F)
endif
else
set x=D78(GetUnitX(m5)+A8F*Cos(A7F))
set y=D88(GetUnitY(m5)+A8F*Sin(A7F))
call D28(x,y,150)
call SetUnitPosition(m5,x,y)
endif
set t=null
set Z2F=null
set m5=null
return false
endfunction
function ADF takes unit Z2F,unit m5,integer Z4F,integer ZFF,integer AEF returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local real A7F=Atan2(GetUnitY(m5)-GetUnitY(Z2F),GetUnitX(m5)-GetUnitX(Z2F))
call HD8(Z2F,m5,ZG4,AEF*40)
call TU7(UC7,"Source",Z2F)
call TU7(UC7,"Target",m5)
call TR7(UC7,"Angle",A7F)
call TR7(UC7,"Rate",6)
call TQ7(UC7,"WexLevel",Z4F)
call TQ7(UC7,"QuasLevel",ZFF)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function A4F))
set t=null
endfunction
function AFF takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false and CK7(GetEnumUnit())==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call ADF(IN4,GetEnumUnit(),IH4,tl,Tl)
endif
endfunction
function AGF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit Z_F=U87(UC7,"Caster")
local real a=UO7(UC7,"a")
local real x2=UO7(UC7,"x2")
local real y2=UO7(UC7,"y2")
local group g=UG7(UC7,"g")
local integer Z4F=UN7(UC7,"WexLevel")
local integer ZFF=UN7(UC7,"QuasLevel")
local integer AEF=UN7(UC7,"ExortLevel")
local real x=GetUnitX(Z_F)
local real y=GetUnitY(Z_F)
local group g2
if RF7(x,y,x2,y2)<100 then
set x=x2
set y=y2
else
set x=x+33*Cos(a)
set y=y+33*Sin(a)
endif
call SetUnitX(Z_F,D78(x))
call SetUnitY(Z_F,D88(y))
set g2=CX7()
set IN4=Z_F
set IQ4=g
set IH4=Z4F
set tl=ZFF
set Tl=AEF
call GroupEnumUnitsInRange(g2,x,y,200,Condition(function FT8))
call ForGroup(g2,function AFF)
call CW7(g2)
if(x==x2 and y==y2)or GetTriggerEvalCount(t)>35 then
set g2=CX7()
set IN4=Z_F
set IQ4=g
set IH4=Z4F
set tl=ZFF
set Tl=AEF
call GroupEnumUnitsInRange(g2,x,y,250,Condition(function FT8))
call ForGroup(g2,function AFF)
call CW7(g2)
call TN7(UC7)
call UA7(t)
call KillUnit(Z_F)
call CW7(g)
endif
set t=null
set Z_F=null
set g=null
set g2=null
return false
endfunction
function AHF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local location l=GetSpellTargetLoc()
local unit Z2F=GetTriggerUnit()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(Z2F),x-GetUnitX(Z2F))
local unit Z_F=CreateUnit(GetOwningPlayer(Z2F),1848652120,GetUnitX(Z2F),GetUnitY(Z2F),a*bj_RADTODEG)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function AGF))
call TU7(UC7,"Caster",Z_F)
call TR7(UC7,"a",a)
call TR7(UC7,"x2",GetUnitX(Z2F)+1000*Cos(a))
call TR7(UC7,"y2",GetUnitY(Z2F)+1000*Sin(a))
call TC7(UC7,"g",CX7())
call TQ7(UC7,"WexLevel",(UN7(GetHandleId(Z2F),"WexLevel")))
call TQ7(UC7,"QuasLevel",(UN7(GetHandleId(Z2F),"QuasLevel")))
call TQ7(UC7,"ExortLevel",(UN7(GetHandleId(Z2F),"ExortLevel")))
call RemoveLocation(l)
set t=null
set l=null
set Z2F=null
endfunction
function AIF takes nothing returns boolean
if GetSpellAbilityId()==1093686861 then
call AHF()
endif
return false
endfunction
function AJF takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AIF))
call DI8(1093686868,GetRandomReal(1,25))
set t=null
endfunction
function AKF takes unit hn returns real
local integer AMF=(UN7(GetHandleId(hn),"ExortLevel"))
return(80+AMF*35.0)/ 2
endfunction
function ANF takes unit hn returns real
local integer AOF=(UN7(GetHandleId(hn),"WexLevel"))
return 325+AOF*175.0
endfunction
function APF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit Z2F=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local real DS8=UO7(UC7,"Damage")
local effect FX=UH7(UC7,"FX")
local integer N6E=GetTriggerEvalCount(t)
call HD8(Z2F,m5,ZG4,DS8)
if N6E==3 then
call TN7(UC7)
call UA7(t)
call DestroyEffect(FX)
endif
set t=null
set Z2F=null
set m5=null
set FX=null
return false
endfunction
function AQF takes unit Z2F,unit m5,real DS8 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TU7(UC7,"Source",Z2F)
call TU7(UC7,"Target",m5)
call TR7(UC7,"Damage",DS8)
call TV7(UC7,"FX",AddSpecialEffectTarget("Environment\\SmallBuildingFire\\SmallBuildingFire2.mdl",m5,"chest"))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function APF))
set t=null
endfunction
function ARF takes nothing returns nothing
call AQF(IN4,GetEnumUnit(),IJ4/ 5)
call HD8(IN4,GetEnumUnit(),ZG4,IJ4)
endfunction
function ASF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
local real a=UO7(UC7,"a")
local integer N6E=GetTriggerEvalCount(t)-26
local unit Z2F=U87(UC7,"Source")
local real ATF
local real AUF
local unit AVF
local group g
if N6E==1 then
set AVF=CreateUnit(GetOwningPlayer(Z2F),1697657164,x,y,a*bj_RADTODEG)
call TU7(UC7,"Caster",AVF)
elseif N6E>1 then
set AVF=U87(UC7,"Caster")
endif
if N6E>0 then
set ATF=D78(GetUnitX(AVF)+15*Cos(a))
set AUF=D88(GetUnitY(AVF)+15*Sin(a))
call SetUnitX(AVF,ATF)
call SetUnitY(AVF,AUF)
if(N6E>1 and ModuloInteger(N6E,10)==0)or N6E==1 then
set g=CX7()
set IN4=Z2F
set IJ4=AKF(Z2F)
call GroupEnumUnitsInRange(g,ATF,AUF,300,Condition(function FT8))
call ForGroup(g,function ARF)
call CW7(g)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",ATF,AUF))
endif
if N6E>ANF(Z2F)/ 16.6 then
call TN7(UC7)
call UA7(t)
call KillUnit(AVF)
endif
endif
set t=null
set g=null
set AVF=null
set Z2F=null
return false
endfunction
function AWF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local location l=GetSpellTargetLoc()
local unit Z2F=GetTriggerUnit()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(Z2F),x-GetUnitX(Z2F))
local unit AXF=CreateUnit(GetOwningPlayer(Z2F),1697657163,x,y,a*bj_RADTODEG)
call SetUnitTimeScale(AXF,0.58)
call UnitApplyTimedLife(AXF,1112820806,1.75)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function ASF))
call TU7(UC7,"Source",Z2F)
call TR7(UC7,"x",x)
call TR7(UC7,"y",y)
call TR7(UC7,"a",a)
call RemoveLocation(l)
set t=null
set l=null
set Z2F=null
endfunction
function AYF takes nothing returns boolean
if GetSpellAbilityId()==1093686862 then
call AWF()
endif
return false
endfunction
function AZF takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AYF))
set t=null
endfunction
function AAF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local real ABF=UO7(GetHandleId(m5),"MeltingStrike|Last")
if ABF+5<=RQ7()then
call UnitRemoveAbility(m5,1093686871)
endif
call TN7(UC7)
call UA7(t)
set t=null
set m5=null
return false
endfunction
function ACF takes unit m5 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(m5,1093686871)
if BH7==0 then
call LM7(m5,1093686871)
endif
call SetUnitAbilityLevel(m5,1093686871,BH7+1)
call TU7(UC7,"Target",m5)
call TR7(GetHandleId(m5),"MeltingStrike|Last",RQ7())
call TriggerRegisterTimerEvent(t,5,false)
call TriggerAddCondition(t,Condition(function AAF))
set t=null
endfunction
function A3F takes nothing returns boolean
local real d
if GetUnitAbilityLevel(GetTriggerUnit(),1110456625)>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093686870)>0 and U87(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call UnitRemoveAbility(GetTriggerUnit(),1110456625)
call DisableTrigger(GetTriggeringTrigger())
call ACF(GetTriggerUnit())
call TN7(GetHandleId(GetTriggeringTrigger()))
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function A6F takes nothing returns nothing
local trigger t
local unit m5
local unit p5
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
set m5=GetSpellTargetUnit()
set p5=GetTriggerUnit()
else
set m5=GetTriggerUnit()
set p5=GetAttacker()
endif
if IsUnitIllusion(p5)==false then
set t=CreateTrigger()
call TU7(GetHandleId(t),"Source",p5)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function A3F))
endif
set t=null
set m5=null
set p5=null
endfunction
function ALF takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetUnitAbilityLevel(GetAttacker(),1093686870)>0 and UP7(GetHandleId(GetTriggeringTrigger()),"OrbOn")and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==U87(GetHandleId(GetTriggeringTrigger()),"Source")then
call A6F()
endif
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if(GetIssuedOrderId()==OrderId("poisonarrows"))then
call TT7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)
elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))then
call TT7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093686870 then
call A6F()
endif
return false
endfunction
function A1F takes unit p5 returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function ALF))
call TU7(GetHandleId(t),"Source",p5)
call TT7(GetHandleId(t),"OrbOn",true)
set t=null
endfunction
function A0F takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function A5F takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==1848652343 then
return true
endif
return false
endfunction
function A2F takes player p returns nothing
local group g=CX7()
call GroupEnumUnitsOfPlayer(g,p,Condition(function A5F))
call ForGroup(g,function A0F)
call CW7(g)
set g=null
endfunction
function A_F takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit oA
local integer ZFF=(UN7(GetHandleId(p5),"QuasLevel"))
local integer Z7F=(UN7(GetHandleId(p5),"ExortLevel"))
call A2F(GetOwningPlayer(p5))
set oA=CreateUnit(GetOwningPlayer(p5),1848652343,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call SetUnitColor(oA,GetPlayerColor(Z7[0]))
call AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",oA,"chest")
call UnitApplyTimedLife(oA,1112820806,10+10*ZFF)
call SetUnitAbilityLevel(oA,1093686870,Z7F)
call A1F(oA)
if Ab[GetPlayerId(GetOwningPlayer(p5))]then
call SelectUnitAddForPlayer(oA,GetOwningPlayer(p5))
endif
if ZFF>3 and Z7F>3 then
set oA=CreateUnit(GetOwningPlayer(p5),1848652343,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call SetUnitColor(oA,GetPlayerColor(Z7[0]))
call AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",oA,"chest")
call UnitApplyTimedLife(oA,1112820806,10+10*ZFF)
call SetUnitAbilityLevel(oA,1093686870,Z7F)
call A1F(oA)
if Ab[GetPlayerId(GetOwningPlayer(p5))]then
call SelectUnitAddForPlayer(oA,GetOwningPlayer(p5))
endif
endif
call SetPlayerTechResearched(GetOwningPlayer(p5),1378889799,Z7F)
call SetPlayerTechResearched(GetOwningPlayer(p5),1378889800,ZFF)
set p5=null
set oA=null
endfunction
function B4F takes nothing returns boolean
if GetSpellAbilityId()==1093686863 then
call A_F()
endif
return false
endfunction
function B7F takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function B4F))
call DI8(1093686870,GetRandomReal(1,25))
call DI8(1093686871,GetRandomReal(1,25))
set t=null
endfunction
function B8F takes unit EC8 returns integer
local integer H98=(UN7(GetHandleId(EC8),"QuasLevel"))
if H98==1 then
return 1093808944
elseif H98==2 then
return 1093808730
elseif H98==3 then
return 1093808729
elseif H98==4 then
return 1093808725
elseif H98==5 then
return 1093808726
elseif H98==6 then
return 1093808727
elseif H98==7 then
return 1093808728
endif
return 1093808944
endfunction
function B9F takes unit O07 returns nothing
call UnitRemoveAbility(O07,1093808944)
call UnitRemoveAbility(O07,1093808730)
call UnitRemoveAbility(O07,1093808729)
call UnitRemoveAbility(O07,1093808725)
call UnitRemoveAbility(O07,1093808726)
call UnitRemoveAbility(O07,1093808727)
call UnitRemoveAbility(O07,1093808728)
call UnitRemoveAbility(O07,1110456410)
endfunction
function BDF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local real NVD=(LoadReal(L7,(GetHandleId(O07)),(681)))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if GetTriggerEventId()==EVENT_WIDGET_DEATH or NVD<(TimerGetElapsed(W))then
call B9F(O07)
endif
set t=null
set O07=null
return false
endfunction
function BEF takes nothing returns nothing
local unit EC8=IN4
local unit O07=GetEnumUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local real NVD=(LoadReal(L7,(GetHandleId(O07)),(681)))
if NVD<(TimerGetElapsed(W))then
call LM7(O07,B8F(EC8))
endif
call SaveReal(L7,(GetHandleId(O07)),(681),(((TimerGetElapsed(W))+2)*1.0))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call TriggerRegisterTimerEvent(t,2.01,false)
call TriggerRegisterDeathEvent(t,O07)
call TriggerAddCondition(t,Condition(function BDF))
set t=null
set EC8=null
endfunction
function BFF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real FAD=(LoadReal(L7,(OC7),(6)))
local real FBD=(LoadReal(L7,(OC7),(7)))
local real a=(LoadReal(L7,(OC7),(137)))
local real H48=(LoadReal(L7,(OC7),(57)))
local real x
local real y
local integer i=1
local integer CP8=GetTriggerEvalCount(t)
local group g
if CP8*0.1>H48 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set g=CX7()
set IN4=EC8
loop
exitwhen i>7
set x=FAD+80*i*Cos((a+90)*bj_DEGTORAD)
set y=FBD+80*i*Sin((a+90)*bj_DEGTORAD)
call GroupEnumUnitsInRange(g,x,y,105,Condition(function F38))
call ForGroup(g,function BEF)
set x=FAD+80*i*Cos((a-90)*bj_DEGTORAD)
set y=FBD+80*i*Sin((a-90)*bj_DEGTORAD)
call GroupEnumUnitsInRange(g,x,y,105,Condition(function F38))
call ForGroup(g,function BEF)
set i=i+1
endloop
call CW7(g)
set g=null
endif
set t=null
set EC8=null
return false
endfunction
function BGF takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real a=GetUnitFacing(p5)
local integer i=1
local unit oA
local real x
local real y
local real FAD=GetUnitX(p5)+225*Cos(a*bj_DEGTORAD)
local real FBD=GetUnitY(p5)+225*Sin(a*bj_DEGTORAD)
local integer ZFF=(UN7(GetHandleId(p5),"QuasLevel"))
local integer Z7F=(UN7(GetHandleId(p5),"ExortLevel"))
local real H48=1.5+1.5*ZFF
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
loop
exitwhen i>7
set x=FAD+80*i*Cos((a+90)*bj_DEGTORAD)
set y=FBD+80*i*Sin((a+90)*bj_DEGTORAD)
set oA=CreateUnit(GetOwningPlayer(p5),1966092367,x,y,GetRandomReal(0,360))
call SetUnitAbilityLevel(oA,1395667016,ZFF)
call SetUnitAbilityLevel(oA,1093687374,Z7F)
call SetUnitAnimation(oA,"birth")
call QueueUnitAnimation(oA,"stand")
call UnitApplyTimedLife(oA,1112820806,H48)
set x=FAD+80*i*Cos((a-90)*bj_DEGTORAD)
set y=FBD+80*i*Sin((a-90)*bj_DEGTORAD)
set oA=CreateUnit(GetOwningPlayer(p5),1966092367,x,y,GetRandomReal(0,360))
call SetUnitAbilityLevel(oA,1395667016,ZFF)
call SetUnitAbilityLevel(oA,1093687374,Z7F)
call SetUnitAnimation(oA,"birth")
call QueueUnitAnimation(oA,"stand")
call UnitApplyTimedLife(oA,1112820806,H48)
set i=i+1
endloop
call TriggerAddCondition(t,Condition(function BFF))
call TriggerRegisterTimerEvent(t,0.1,true)
call SaveReal(L7,(OC7),(6),((FAD)*1.0))
call SaveReal(L7,(OC7),(7),((FBD)*1.0))
call SaveReal(L7,(OC7),(137),((a)*1.0))
call SaveUnitHandle(L7,(OC7),(2),(p5))
call SaveReal(L7,(OC7),(57),((H48)*1.0))
set oA=null
set p5=null
set t=null
endfunction
function BHF takes nothing returns boolean
if GetSpellAbilityId()==1093686864 then
call BGF()
endif
return false
endfunction
function BIF takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BHF))
call DI8(1395667016,GetRandomReal(1,25))
call DI8(1093687374,GetRandomReal(1,25))
set t=null
endfunction
function BJF takes nothing returns nothing
if RW7(GetEnumUnit())==false then
call HD8(IN4,GetEnumUnit(),ZI4,IJ4)
endif
endfunction
function BKF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit hn=U87(UC7,"Hero")
local real DS8=UO7(UC7,"Damage")
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
local group g=CX7()
local integer N6E
set IN4=hn
call GroupEnumUnitsInRange(g,x,y,200,Condition(function FT8))
set N6E=CountUnitsInGroup(g)
if N6E<1 then
set N6E=1
endif
set IJ4=DS8/ N6E
call ForGroup(g,function BJF)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",x,y))
call CW7(g)
call DestroyEffect(UH7(UC7,"Effect"))
call TN7(UC7)
call UA7(t)
set t=null
set hn=null
set g=null
return false
endfunction
function BMF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit hn=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real DS8=(UN7(GetHandleId(hn),"ExortLevel"))*62.5+12.5+25
local string s=""
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(hn))==true or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
set s="Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl"
endif
call E88(GetOwningPlayer(hn),5.7,x,y,400)
call TriggerRegisterTimerEvent(t,1.7,false)
call TriggerAddCondition(t,Condition(function BKF))
call TU7(UC7,"Hero",hn)
call TR7(UC7,"x",x)
call TR7(UC7,"y",y)
call TR7(UC7,"Damage",DS8)
call TV7(UC7,"Effect",AddSpecialEffect(s,x,y))
call RemoveLocation(l)
set t=null
set hn=null
set l=null
endfunction
function BNF takes nothing returns boolean
if GetSpellAbilityId()==1093686855 then
call BMF()
endif
return false
endfunction
function BOF takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BNF))
set t=null
endfunction
function BPF takes unit Z2F,unit m5 returns nothing
local unit BQF=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LM7(BQF,1093686857)
call IssueTargetOrder(BQF,"thunderbolt",m5)
if CK7(m5)==false then
call HD8(Z2F,m5,ZG4,30)
endif
set BQF=null
endfunction
function BRF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local integer BH7=UN7(UC7,"Level")
local unit Z2F=U87(UC7,"Source")
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>10 and UV7(t,"Cooldown")==false and GetOwningPlayer(GetEventDamageSource())!=GetOwningPlayer(GetTriggerUnit())then
call DisableTrigger(t)
call BPF(Z2F,m5)
call EnableTrigger(t)
call UL7(t,"Cooldown",0.8-BH7*0.0285)
endif
else
call DestroyEffect(UH7(UC7,"FX"))
call TN7(UC7)
call UA7(t)
endif
set t=null
set m5=null
set Z2F=null
return false
endfunction
function BSF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit hn=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer BH7=(UN7(GetHandleId(hn),"QuasLevel"))
call TriggerRegisterTimerEvent(t,2.5+BH7*0.5,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function BRF))
call TU7(UC7,"Target",m5)
call TQ7(UC7,"Level",BH7)
call TU7(UC7,"Source",hn)
call TV7(UC7,"FX",AddSpecialEffectTarget("Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl",m5,"overhead"))
call BPF(hn,m5)
set t=null
set hn=null
set m5=null
endfunction
function BTF takes nothing returns boolean
if GetSpellAbilityId()==1093686874 then
call BSF()
endif
return false
endfunction
function BUF takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BTF))
call DI8(1093686857,GetRandomReal(1,25))
set t=null
endfunction
function BVF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit hn=U87(UC7,"Hero")
local integer BH7=UN7(UC7,"Level")
call SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+BH7*1)
return false
endfunction
function BWF takes unit hn,integer BH7 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(hn)
call TT7(UC7,"Invoker|HasQuas",true)
call TW7(UC7,"Invoker|QuasTrigger",t)
call TU7(GetHandleId(t),"Hero",hn)
call TQ7(GetHandleId(t),"Level",BH7)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function BVF))
set t=null
endfunction
function BXF takes unit hn returns nothing
local integer UC7=GetHandleId(hn)
local boolean BYF=UP7(UC7,"Invoker|HasQuas")
local trigger t
if BYF then
call TT7(UC7,"Invoker|HasQuas",false)
set t=UF7(UC7,"Invoker|QuasTrigger")
call TN7(GetHandleId(t))
call UA7(t)
endif
set t=null
endfunction
function BZF takes unit hn returns nothing
local integer UC7=GetHandleId(hn)
local integer BAF=UN7(UC7,"Invoker|Wex")
local integer BBF=UN7(UC7,"Invoker|Quas")
local integer BCF=UN7(UC7,"Invoker|Exort")
local integer Z4F=GetUnitAbilityLevel(hn,1093808472)
local integer ZFF=GetUnitAbilityLevel(hn,1093808471)
local integer Z7F=GetUnitAbilityLevel(hn,1093808470)
call UnitRemoveAbility(hn,1093687108)
call UnitRemoveAbility(hn,1093686853)
call BXF(hn)
call UnitRemoveAbility(hn,1093686839)
if BAF>0 then
call LM7(hn,1093687108)
call LM7(hn,1093686853)
call SetUnitAbilityLevel(hn,1093687108,BAF*Z4F)
call SetUnitAbilityLevel(hn,1093686853,BAF*Z4F)
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),1093687108,false)
endif
if BBF>0 then
call BWF(hn,BBF*ZFF)
endif
if BCF>0 then
call LM7(hn,1093686839)
call SetUnitAbilityLevel(hn,1093686839,BCF*Z7F)
endif
endfunction
function B3F takes nothing returns boolean
if IsUnitIllusion(GetTriggerUnit())==false and(GetLearnedSkill()==1093808472 or GetLearnedSkill()==1093808471 or GetLearnedSkill()==1093808470)then
call BZF(GetTriggerUnit())
if GetLearnedSkill()==1093808472 then
call SetHeroAgi(GetTriggerUnit(),GetHeroAgi(GetTriggerUnit(),false)+2,true)
call TQ7((GetHandleId(GetTriggerUnit())),"WexLevel",(GetUnitAbilityLevel(GetTriggerUnit(),1093808472)))
endif
if GetLearnedSkill()==1093808471 then
call SetHeroStr(GetTriggerUnit(),GetHeroStr(GetTriggerUnit(),false)+2,true)
call TQ7((GetHandleId(GetTriggerUnit())),"QuasLevel",(GetUnitAbilityLevel(GetTriggerUnit(),1093808471)))
endif
if GetLearnedSkill()==1093808470 then
call SetHeroInt(GetTriggerUnit(),GetHeroInt(GetTriggerUnit(),false)+2,true)
call TQ7((GetHandleId(GetTriggerUnit())),"ExortLevel",(GetUnitAbilityLevel(GetTriggerUnit(),1093808470)))
endif
endif
return false
endfunction
function B6F takes unit hn returns nothing
if GetUnitAbilityLevel(hn,1093687372)>0 then
call SetUnitAbilityLevel(hn,1093687372,GetUnitAbilityLevel(hn,1093808472))
endif
endfunction
function BLF takes nothing returns nothing
local integer B1F=0
local unit hn=GetTriggerUnit()
local integer AF7=GetHandleId(hn)
local integer B0F=UN7(AF7,"Invoker|Wex")
local integer B5F=UN7(AF7,"Invoker|Quas")
local integer B2F=UN7(AF7,"Invoker|Exort")
local integer AG7=UN7(AF7,"Invoker|Current1")
local integer AH7=UN7(AF7,"Invoker|Current2")
if B0F==3 and B5F==0 and B2F==0 then
set B1F=1
elseif B0F==2 and B5F==1 and B2F==0 then
set B1F=2
elseif B0F==2 and B5F==0 and B2F==1 then
set B1F=3
elseif B0F==1 and B5F==2 and B2F==0 then
set B1F=4
elseif B0F==1 and B5F==1 and B2F==1 then
set B1F=5
elseif B0F==1 and B5F==0 and B2F==2 then
set B1F=6
elseif B0F==0 and B5F==1 and B2F==2 then
set B1F=7
elseif B0F==0 and B5F==2 and B2F==1 then
set B1F=8
elseif B0F==0 and B5F==0 and B2F==3 then
set B1F=9
elseif B0F==0 and B5F==3 and B2F==0 then
set B1F=10
endif
if BS[B1F]==AH7 then
return
endif
if GetUnitAbilityLevel(hn,1093808473)==1 or GetUnitAbilityLevel(hn,1093748565)==1 then
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AH7,false)
set AH7=BS[B1F]
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AH7,true)
else
if AG7!=0 and AH7!=0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AG7,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AH7,false)
set AG7=AH7
set AH7=BS[B1F]
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AG7,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AH7,true)
elseif AG7==0 and AH7!=0 then
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AH7,false)
set AG7=AH7
set AH7=BS[B1F]
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AG7,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AH7,true)
else
set AH7=BS[B1F]
call SetPlayerAbilityAvailable(GetOwningPlayer(hn),AH7,true)
endif
endif
call TQ7(AF7,"Invoker|Current1",AG7)
call TQ7(AF7,"Invoker|Current2",AH7)
call B6F(hn)
set hn=null
endfunction
function B_F takes unit CC7,integer C4F,integer C7F,integer C8F returns nothing
local integer Orb1=0
local integer Orb2=0
local integer Orb3=0
local integer C9F
local integer CDF
local integer CEF
local integer CFF
local integer CGF
local integer CHF
local integer CIF
local integer CJF
local integer CKF
call UnitRemoveAbility(CC7,1093682254)
call UnitRemoveAbility(CC7,1093682247)
call UnitRemoveAbility(CC7,1093683544)
call UnitRemoveAbility(CC7,1093683505)
call UnitRemoveAbility(CC7,1093683504)
call UnitRemoveAbility(CC7,1093683290)
call UnitRemoveAbility(CC7,1093683523)
call UnitRemoveAbility(CC7,1093683522)
call UnitRemoveAbility(CC7,1093683524)
call UnitRemoveAbility(CC7,1093808707)
call UnitRemoveAbility(CC7,1093808708)
call UnitRemoveAbility(CC7,1093808709)
call UnitRemoveAbility(CC7,1093808710)
call UnitRemoveAbility(CC7,1093808711)
call UnitRemoveAbility(CC7,1093808712)
call UnitRemoveAbility(CC7,1093808713)
call UnitRemoveAbility(CC7,1093808714)
call UnitRemoveAbility(CC7,1093808715)
if Y3F(CC7,GJ4)==null then
set C9F=1093682254
set CDF=1093682247
set CEF=1093683544
set CFF=1093683505
set CGF=1093683504
set CHF=1093683290
set CIF=1093683523
set CJF=1093683522
set CKF=1093683524
else
set C9F=1093808707
set CDF=1093808708
set CEF=1093808709
set CFF=1093808710
set CGF=1093808711
set CHF=1093808712
set CIF=1093808713
set CJF=1093808714
set CKF=1093808715
endif
if C4F==1 and C7F==0 and C8F==0 then
call LM7(CC7,C9F)
elseif C4F==0 and C7F==1 and C8F==0 then
call LM7(CC7,CFF)
elseif C4F==0 and C7F==0 and C8F==1 then
call LM7(CC7,CIF)
elseif C4F==2 and C7F==0 and C8F==0 then
call LM7(CC7,C9F)
call LM7(CC7,CDF)
elseif C4F==1 and C7F==1 and C8F==0 then
call LM7(CC7,C9F)
call LM7(CC7,CGF)
elseif C4F==1 and C7F==0 and C8F==1 then
call LM7(CC7,C9F)
call LM7(CC7,CJF)
elseif C4F==0 and C7F==2 and C8F==0 then
call LM7(CC7,CFF)
call LM7(CC7,CGF)
elseif C4F==0 and C7F==1 and C8F==1 then
call LM7(CC7,CFF)
call LM7(CC7,CJF)
elseif C4F==0 and C7F==0 and C8F==2 then
call LM7(CC7,CIF)
call LM7(CC7,CJF)
elseif C4F==3 and C7F==0 and C8F==0 then
call LM7(CC7,C9F)
call LM7(CC7,CDF)
call LM7(CC7,CEF)
elseif C4F==2 and C7F==1 and C8F==0 then
call LM7(CC7,C9F)
call LM7(CC7,CDF)
call LM7(CC7,CHF)
elseif C4F==2 and C7F==0 and C8F==1 then
call LM7(CC7,C9F)
call LM7(CC7,CDF)
call LM7(CC7,CKF)
elseif C4F==1 and C7F==2 and C8F==0 then
call LM7(CC7,C9F)
call LM7(CC7,CGF)
call LM7(CC7,CHF)
elseif C4F==1 and C7F==1 and C8F==1 then
call LM7(CC7,C9F)
call LM7(CC7,CGF)
call LM7(CC7,CKF)
elseif C4F==1 and C7F==0 and C8F==2 then
call LM7(CC7,C9F)
call LM7(CC7,CJF)
call LM7(CC7,CKF)
elseif C4F==0 and C7F==1 and C8F==2 then
call LM7(CC7,CIF)
call LM7(CC7,CJF)
call LM7(CC7,CHF)
elseif C4F==0 and C7F==2 and C8F==1 then
call LM7(CC7,CFF)
call LM7(CC7,CGF)
call LM7(CC7,CKF)
elseif C4F==0 and C7F==0 and C8F==3 then
call LM7(CC7,CIF)
call LM7(CC7,CJF)
call LM7(CC7,CKF)
elseif C4F==0 and C7F==3 and C8F==0 then
call LM7(CC7,CFF)
call LM7(CC7,CGF)
call LM7(CC7,CHF)
endif
endfunction
function GDF takes nothing returns nothing
local unit CC7=IN4
local integer OC7=GetHandleId(CC7)
local integer CMF=UN7(OC7,"Invoker|OrbFirst")
local integer CNF=UN7(OC7,"Invoker|OrbSecond")
local integer COF=UN7(OC7,"Invoker|OrbThird")
local integer C4F=0
local integer C7F=0
local integer C8F=0
if CMF==1093808472 then
set C4F=C4F+1
elseif CMF==1093808471 then
set C7F=C7F+1
elseif CMF==1093808470 then
set C8F=C8F+1
endif
if CNF==1093808472 then
set C4F=C4F+1
elseif CNF==1093808471 then
set C7F=C7F+1
elseif CNF==1093808470 then
set C8F=C8F+1
endif
if COF==1093808472 then
set C4F=C4F+1
elseif COF==1093808471 then
set C7F=C7F+1
elseif COF==1093808470 then
set C8F=C8F+1
endif
call B_F(CC7,C4F,C7F,C8F)
set CC7=null
endfunction
function CPF takes nothing returns nothing
local unit hn=GetTriggerUnit()
local integer UC7=GetHandleId(hn)
local integer CQF=GetSpellAbilityId()
local integer CRF=UN7(UC7,"Invoker|OrbFirst")
local integer CSF=UN7(UC7,"Invoker|OrbSecond")
local integer CTF=UN7(UC7,"Invoker|OrbThird")
local integer BAF=0
local integer BBF=0
local integer BCF=0
set CRF=CSF
set CSF=CTF
set CTF=CQF
if CRF==1093808472 then
set BAF=BAF+1
elseif CRF==1093808471 then
set BBF=BBF+1
elseif CRF==1093808470 then
set BCF=BCF+1
endif
if CSF==1093808472 then
set BAF=BAF+1
elseif CSF==1093808471 then
set BBF=BBF+1
elseif CSF==1093808470 then
set BCF=BCF+1
endif
if CTF==1093808472 then
set BAF=BAF+1
elseif CTF==1093808471 then
set BBF=BBF+1
elseif CTF==1093808470 then
set BCF=BCF+1
endif
call TQ7(UC7,"Invoker|OrbFirst",CRF)
call TQ7(UC7,"Invoker|OrbSecond",CSF)
call TQ7(UC7,"Invoker|OrbThird",CTF)
call TQ7(UC7,"Invoker|Wex",BAF)
call TQ7(UC7,"Invoker|Quas",BBF)
call TQ7(UC7,"Invoker|Exort",BCF)
call B_F(hn,BAF,BBF,BCF)
call BZF(hn)
call B6F(hn)
endfunction
function CUF takes nothing returns boolean
if GetSpellAbilityId()==1093808472 or GetSpellAbilityId()==1093808471 or GetSpellAbilityId()==1093808470 then
call CPF()
elseif GetSpellAbilityId()==1093808473 or GetSpellAbilityId()==1093748565 then
call BLF()
endif
return false
endfunction
function SZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call DE8(BS[1])
call DE8(BS[2])
call DE8(BS[3])
call DE8(BS[4])
call DE8(BS[5])
call DE8(BS[6])
call DE8(BS[7])
call DE8(BS[8])
call DE8(BS[9])
call DE8(BS[10])
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CUF))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function B3F))
set t=null
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.00,GetObjectName(1848653383))
call DI8(1093687375,GetRandomReal(1,25))
call DI8(1093687108,GetRandomReal(1,25))
call DI8(1093686853,GetRandomReal(1,25))
call DI8(1093686839,GetRandomReal(1,25))
call DI8(1093808470,GetRandomReal(1,25))
call DI8(1093808472,GetRandomReal(1,25))
call DI8(1093808471,GetRandomReal(1,25))
call Z9F()
call ZPF()
call ZAF()
call Z0F()
call AJF()
call AZF()
call B7F()
call BIF()
call BOF()
call BUF()
endfunction
function CVF takes nothing returns nothing
if DB9(GetEnumUnit())then
return
endif
call F88(GetEnumUnit(),RB4,1,7,1110458966)
call UnitMakeAbilityPermanent(GetEnumUnit(),true,RB4)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),RB4,false)
endfunction
function CWF takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093814611)
local group g=CX7()
if H98==1 then
set RB4=1093748278
elseif H98==2 then
set RB4=1093748279
elseif H98==3 then
set RB4=1093748275
elseif H98==4 then
set RB4=1093748277
endif
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),925,Condition(function FH8))
call ForGroup(g,function CVF)
call CW7(g)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl",EC8,"overhead"))
set EC8=null
set g=null
endfunction
function CXF takes nothing returns boolean
if GetSpellAbilityId()==1093814611 then
call CWF()
endif
return false
endfunction
function SB8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CXF))
set t=null
endfunction
function CYF takes nothing returns nothing
call H78(RC4,GetEnumUnit(),2)
call HD8(RC4,GetEnumUnit(),ZG4,IW7*75+25)
endfunction
function CZF takes player p,unit m5,integer BH7 returns nothing
local unit H88=CreateUnit(p,1697656901,GetUnitX(m5),GetUnitY(m5),0)
local integer o6
local group g=CX7()
set IW7=BH7
set IN4=M7[GetPlayerId(p)]
call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),280,Condition(function FT8))
call GroupAddUnit(g,m5)
set RC4=H88
call ForGroup(g,function CYF)
call CW7(g)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl",m5,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl",m5,"origin"))
set H88=null
set g=null
endfunction
function CAF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local player p=UD7(UC7,"p")
local integer HG8=UN7(UC7,"TargetIndex")
local unit m5=ZX7(HG8)
local integer BH7=UN7(UC7,"Level")
local unit G18=U87(UC7,"Projectile")
local real x=GetUnitX(G18)
local real y=GetUnitY(G18)
local real Y5=GetUnitX(m5)
local real Z5=GetUnitY(m5)
local real F4=1000*0.035
local real l4=PP7(x,y,Y5,Z5)
local real GLD=x+F4*Cos(l4*bj_DEGTORAD)
local real G1D=y+F4*Sin(l4*bj_DEGTORAD)
local boolean FD9=UP7(UC7,"Active")
call SetUnitX(G18,GLD)
call SetUnitY(G18,G1D)
call SetUnitFacing(G18,l4)
if RF7(Y5,Z5,GLD,G1D)<=F4 then
if FD9 then
call CZF(p,m5,BH7)
endif
call KillUnit(G18)
call ZW7(HG8)
call TN7(UC7)
call UA7(t)
endif
set t=null
set m5=null
set G18=null
return false
endfunction
function CBF takes nothing returns nothing
local unit p5=GetTriggerUnit()
local integer BH7=GetUnitAbilityLevel(p5,1093744944)
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit G18=CreateUnit(GetOwningPlayer(p5),1747990353,GetUnitX(p5),GetUnitY(p5),PP7(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5)))
local boolean FD9=CV7(GetSpellTargetUnit())==false
call TT7(UC7,"Active",FD9)
call TA7(UC7,"p",GetOwningPlayer(p5))
call TQ7(UC7,"TargetIndex",ZZ7(m5))
call TU7(UC7,"Projectile",G18)
call TQ7(UC7,"Level",BH7)
call TriggerRegisterTimerEvent(t,0.035,true)
call TriggerAddCondition(t,Condition(function CAF))
set t=null
set p5=null
set m5=null
set G18=null
endfunction
function CCF takes nothing returns boolean
if GetSpellAbilityId()==1093744944 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetTriggerUnit(),"weapon"))
else
call CBF()
endif
endif
return false
endfunction
function SA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function CCF))
set t=null
endfunction
function C3F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit CC7=U87(OC7,"Hero")
local integer CP8=(UN7(OC7,"Count"))
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT then
set CP8=CP8+1
call TQ7(OC7,"Count",CP8)
endif
if(GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT and CP8>1)or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and D29(GetSpellAbilityId())and GetSpellTargetUnit()==CC7)then
if(GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT and CP8>1)then
if LO7(CC7)==false then
call UnitRemoveAbility(CC7,1093687119)
call UnitRemoveAbility(CC7,1110454329)
call UnitRemoveAbility(CC7,1110459472)
endif
call TN7(OC7)
call UA7(t)
endif
elseif GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BattleCryCaster.mdx",CC7,"overhead"))
call LM7(CC7,1093687119)
call SetUnitAbilityLevel(CC7,1093687119,GetUnitAbilityLevel(CC7,1093752648))
call UnitMakeAbilityPermanent(CC7,true,1093687119)
call SetPlayerAbilityAvailable(GetOwningPlayer(CC7),1093687119,false)
endif
set t=null
set CC7=null
return false
endfunction
function C6F takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit CC7=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,25,false)
call TriggerRegisterTimerEvent(t,0.31,false)
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function C3F))
call TU7(OC7,"Hero",CC7)
call TQ7(OC7,"Count",0)
set t=null
set CC7=null
endfunction
function CLF takes nothing returns boolean
if GetSpellAbilityId()==1093752648 and GetUnitTypeId(GetTriggerUnit())==1211117617 then
call C6F()
endif
return false
endfunction
function SC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CLF))
set t=null
endfunction
function C1F takes nothing returns nothing
local location l
local unit CO7=GetTriggerUnit()
local real x1=GetUnitX(CO7)
local real y1=GetUnitY(CO7)
local real a
local real x2
local real y2
local integer BH7=GetUnitAbilityLevel(CO7,1093687349)
local real DS8
local real Hk
local unit m5=null
if GetSpellTargetUnit()!=null then
set l=GetUnitLoc(GetSpellTargetUnit())
else
set l=GetSpellTargetLoc()
endif
set x2=GetLocationX(l)
set y2=GetLocationY(l)
set a=Atan2(y2-y1,x2-x1)
set x2=x1+700*Cos(a)
set y2=y1+700*Sin(a)
if BH7==1 then
set DS8=60
set Hk=0.5
elseif BH7==2 then
set DS8=130
set Hk=1
elseif BH7==3 then
set DS8=200
set Hk=1.5
elseif BH7==4 then
set DS8=260
set Hk=2
endif
if GetSpellTargetUnit()!=null and CV7(GetSpellTargetUnit())then
set m5=GetSpellTargetUnit()
endif
call OHE(CO7,m5,DS8,Hk,0.52,x1,y1,x2,y2,150,null,true,1600)
call RemoveLocation(l)
set l=null
set CO7=null
endfunction
function C0F takes nothing returns boolean
if GetSpellAbilityId()==1093687349 then
call C1F()
endif
return false
endfunction
function S38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function C0F))
call DE8(1093687350)
set t=null
endfunction
function C5F takes nothing returns boolean
if(GetSpellAbilityId()==1093679413 or GetSpellAbilityId()==1093679447)and CK7(GetSpellTargetUnit())then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659026))
endif
return false
endfunction
function S68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function C5F))
set t=null
endfunction
function C2F takes nothing returns nothing
local location l
local unit CO7=GetTriggerUnit()
local real x1=GetUnitX(CO7)
local real y1=GetUnitY(CO7)
local real a
local real x2
local real y2
local integer BH7=GetUnitAbilityLevel(CO7,1093687351)
local real DS8
local real Hk
local unit m5=null
if GetSpellTargetUnit()!=null then
set l=GetUnitLoc(GetSpellTargetUnit())
else
set l=GetSpellTargetLoc()
endif
set x2=GetLocationX(l)
set y2=GetLocationY(l)
set a=Atan2(y2-y1,x2-x1)
set x2=x1+700*Cos(a)
set y2=y1+700*Sin(a)
if BH7==1 then
set DS8=80
set Hk=0.75
elseif BH7==2 then
set DS8=140
set Hk=1.25
elseif BH7==3 then
set DS8=200
set Hk=1.75
elseif BH7==4 then
set DS8=260
set Hk=2.25
endif
if GetSpellTargetUnit()!=null and CV7(GetSpellTargetUnit())then
set m5=GetSpellTargetUnit()
endif
call OHE(CO7,m5,DS8,Hk,0.52,x1,y1,x2,y2,150,null,true,1600)
call RemoveLocation(l)
set l=null
set CO7=null
endfunction
function C_F takes nothing returns boolean
if GetSpellAbilityId()==1093687351 then
call C2F()
endif
return false
endfunction
function SL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function C_F))
call DE8(1093687350)
set t=null
endfunction
function L4F takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real r=GetHeroInt(m5,true)*5
local integer L7F=IMinBJ(R2I(r),R2I(GetUnitState(m5,UNIT_STATE_MANA)))
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-L7F)
call HD8(p5,m5,ZG4,L7F)
call S_9("MBUR",p5,m5,1,1,1,1,0.5)
call DC8("-"+I2S(L7F),3,m5,0.023,82,82,255,255)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\ManaBurn\\ManaBurnTarget.mdl",m5,"chest"))
set p5=null
set m5=null
endfunction
function L8F takes nothing returns boolean
if GetSpellAbilityId()==1093748789 and CV7(GetSpellTargetUnit())==false then
call L4F()
endif
return false
endfunction
function S18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function L8F))
set t=null
endfunction
function L9F takes nothing returns nothing
call IssueTargetOrder(TY4,"soulburn",GetEnumUnit())
endfunction
function LDF takes nothing returns nothing
local unit F9D=GetTriggerUnit()
local real x=GetUnitX(F9D)
local real y=GetUnitY(F9D)
local unit IUE=CreateUnit(GetOwningPlayer(F9D),1697656901,x,y,0)
local group g=CX7()
set TY4=IUE
call LM7(IUE,1093748551)
call GroupEnumUnitsInRange(g,x,y,325,Condition(function F58))
call ForGroup(g,function L9F)
call CW7(g)
call KillUnit(F9D)
call SetUnitAnimation(F9D,"death")
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl",x,y))
set F9D=null
set IUE=null
set g=null
endfunction
function LEF takes nothing returns boolean
if GetSpellAbilityId()==1093748808 then
call LDF()
endif
return false
endfunction
function S08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LEF))
call DE8(1093748551)
set t=null
endfunction
function LFF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07
local integer H98=GetUnitAbilityLevel(EC8,1093815119)
local group GAD=(LoadGroupHandle(L7,(OC7),(22)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>0 and IsPlayerEnemy(GetOwningPlayer(GetEventDamageSource()),GetOwningPlayer(EC8))==true then
if Z67(GetOwningPlayer(GetEventDamageSource()))and ID8(GetEventDamage())then
set O07=M7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
if IsUnitInGroup(O07,GAD)==false then
call GroupAddUnit(GAD,O07)
call DT8(EC8,GetEventDamage())
if LO7(O07)==false then
call H78(EC8,O07,0.6*H98)
call HD8(EC8,O07,ZI4,GetEventDamage())
endif
set O07=null
endif
endif
endif
else
call UnitRemoveAbility(EC8,1093815120)
call CW7(GAD)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
return false
endfunction
function LGF takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,2.25,false)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function LFF))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveGroupHandle(L7,(OC7),(22),(CX7()))
call LM7(EC8,1093815120)
set EC8=null
set t=null
endfunction
function LHF takes nothing returns boolean
if GetSpellAbilityId()==1093815119 then
call LGF()
endif
return false
endfunction
function S58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LHF))
set t=null
endfunction
function LIF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer LJF=GetHandleId(t)
local group g=UG7(LJF,"g")
call CW7(g)
call TN7(LJF)
call UA7(t)
set t=null
set g=null
return false
endfunction
function LKF takes group g returns nothing
local trigger t=CreateTrigger()
local integer LJF=GetHandleId(t)
call TC7(LJF,"g",g)
call TriggerRegisterTimerEvent(t,10,false)
call TriggerAddCondition(t,Condition(function LIF))
set t=null
endfunction
function LMF takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit oA
local integer i=1
local real x1=GetUnitX(CO7)
local real y1=GetUnitY(CO7)
local real x2
local real y2
local real DS8
local real Hk
local integer BH7=GetUnitAbilityLevel(CO7,1093810505)
local group g=CX7()
if BH7==1 then
set Hk=1.5
set DS8=200
elseif BH7==2 then
set Hk=1.8
set DS8=325
elseif BH7==3 then
set Hk=2.25
set DS8=450
endif
loop
exitwhen i>16
set x2=x1+(500+BH7*100)*Cos(22.5*i*bj_DEGTORAD)
set y2=y1+(500+BH7*100)*Sin(22.5*i*bj_DEGTORAD)
call OHE(CO7,null,DS8,Hk,0.52,x1,y1,x2,y2,250,g,false,775)
set i=i+1
endloop
call LKF(g)
set CO7=null
set oA=null
set g=null
endfunction
function LNF takes nothing returns boolean
if GetSpellAbilityId()==1093810505 then
call LMF()
endif
return false
endfunction
function Q88 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LNF))
call DE8(1093687350)
set t=null
endfunction
function LOF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local real NVD=(LoadReal(L7,(GetHandleId(O07)),(715)))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if GetTriggerEventId()==EVENT_WIDGET_DEATH or NVD<(TimerGetElapsed(W))then
call UnitRemoveAbility(O07,1093808696)
call UnitRemoveAbility(O07,1110459704)
endif
set t=null
set O07=null
return false
endfunction
function LPF takes unit O07 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call LM7(O07,1093808696)
call TriggerRegisterDeathEvent(t,O07)
call TriggerRegisterTimerEvent(t,6.,false)
call TriggerAddCondition(t,Condition(function LOF))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveReal(L7,(GetHandleId(O07)),(715),((5.9+(TimerGetElapsed(W)))*1.))
set t=null
endfunction
function LQF takes nothing returns nothing
if DB9(GetEnumUnit())==false then
call LPF(GetEnumUnit())
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093808696,false)
call HD8(AJ4,GetEnumUnit(),ZH4,25+50*AK4)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl",GetEnumUnit(),"chest"))
endfunction
function LRF takes nothing returns nothing
local group g=CX7()
local unit EC8=GetTriggerUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093808694)
set IN4=EC8
set AK4=H98
set AJ4=EC8
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),425,Condition(function FT8))
call ForGroup(g,function LQF)
call CW7(g)
set g=null
set EC8=null
endfunction
function LSF takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call SetUnitTimeScale(EC8,1)
set t=null
set EC8=null
return false
endfunction
function LTF takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,0.3,false)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerAddCondition(t,Condition(function LSF))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SetUnitTimeScale(EC8,2)
set t=null
set EC8=null
endfunction
function LUF takes nothing returns boolean
if GetSpellAbilityId()==1093808694 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call LRF()
else
call LTF()
endif
endif
return false
endfunction
function Q98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function LUF))
set t=null
endfunction
function LVF takes nothing returns nothing
local integer OC7=GetHandleId(GetTriggeringTrigger())
local unit EC8=IN4
local unit O07=IP4
local integer H98=UN7(OC7,"Level")
local real B19=H98*50
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call LM7(H88,1093687628)
call SetUnitAbilityLevel(H88,1093687628,H98)
call IssueTargetOrder(H88,"slow",O07)
if IsUnitType(O07,UNIT_TYPE_HERO)==true then
set B19=B19/2
endif
call HD8(EC8,O07,ZI4,B19)
set EC8=null
set O07=null
set H88=null
endfunction
function LWF takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t=EK8(CC7,O07,1747988784,"LVF",1200)
local integer LXF=GetHandleId(t)
call TQ7(LXF,"Level",GetUnitAbilityLevel(CC7,1093687629))
set CC7=null
set O07=null
set t=null
endfunction
function LYF takes nothing returns boolean
if GetSpellAbilityId()==1093687629 and CV7(GetSpellTargetUnit())==false then
call LWF()
endif
return false
endfunction
function PQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LYF))
set t=null
endfunction
function LZF takes nothing returns nothing
local location l=GetSpellTargetLoc()
call DZ8("Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl",GetLocationX(l),GetLocationY(l),2)
call TerrainDeformationRippleBJ(0.3,false,l,0,300,100,0.4,20)
call RemoveLocation(l)
set l=null
endfunction
function LAF takes nothing returns boolean
if GetSpellAbilityId()==1093678679 then
call LZF()
endif
return false
endfunction
function O68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LAF))
endfunction
function LBF takes itemtype LCF,integer L3F returns nothing
local group g
set bj_stockPickedItemType=LCF
set bj_stockPickedItemLevel=L3F
set g=CreateGroup()
call GroupEnumUnitsOfType(g,"marketplace",bH)
call ForGroup(g,function UpdateEachStockBuildingEnum)
call DestroyGroup(g)
set g=null
endfunction
function L6F takes nothing returns nothing
local integer pickedItemId
local itemtype LLF
local integer L1F=0
local integer L0F=0
local integer L3F
set L3F=1
loop
if(bj_stockAllowedPermanent[L3F])then
set L0F=L0F+1
if(GetRandomInt(1,L0F)==1)then
set LLF=ITEM_TYPE_PERMANENT
set L1F=L3F
endif
endif
if(bj_stockAllowedCharged[L3F])then
set L0F=L0F+1
if(GetRandomInt(1,L0F)==1)then
set LLF=ITEM_TYPE_CHARGED
set L1F=L3F
endif
endif
if(bj_stockAllowedArtifact[L3F])then
set L0F=L0F+1
if(GetRandomInt(1,L0F)==1)then
set LLF=ITEM_TYPE_ARTIFACT
set L1F=L3F
endif
endif
set L3F=L3F+1
exitwhen L3F>10
endloop
if(L0F==0)then
set LLF=null
return
endif
call LBF(LLF,L1F)
set LLF=null
endfunction
function L5F takes nothing returns nothing
call L6F()
call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INTERVAL,true,function L6F)
endfunction
function L2F takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local integer RB7=UN7(OC7,"itemId")
local real x=UO7(OC7,"x")
local real y=UO7(OC7,"y")
local player p=UD7(OC7,"p")
local boolean L_F=UP7(OC7,"consumable")
local integer B68=UN7(OC7,"charges")
local item D4G=CreateItem(RB7,x,y)
call SetItemPlayer(D4G,p,true)
call SetItemUserData(D4G,0)
if L_F then
call SetItemCharges(D4G,B68)
endif
call TN7(OC7)
call UA7(t)
set eY[512+GetPlayerId(p)]=3
set KL7[288+GetPlayerId(p)]=D4G
set t=null
set p=null
return false
endfunction
function D7G takes integer RB7,real x,real y,player p,boolean L_F,integer B68 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TQ7(OC7,"itemId",RB7)
call TR7(OC7,"x",x*1.0)
call TR7(OC7,"y",y*1.0)
call TA7(OC7,"p",p)
call TT7(OC7,"consumable",L_F)
call TQ7(OC7,"charges",B68)
call TriggerAddCondition(t,Condition(function L2F))
call TriggerRegisterTimerEvent(t,0,false)
set eY[512+GetPlayerId(p)]=2
set t=null
endfunction
function D8G takes player p,unit PF7,integer EI9,item D9G returns item
local integer O37
local item Y6F
set O37=0
loop
exitwhen O37>5
set Y6F=UnitItemInSlot(PF7,O37)
if Y6F!=null and Y6F!=D9G and RY7(Y6F)==EI9 and(GetItemPlayer(Y6F)==p or EI9==VC or EI9==WC)then
set Y6F=null
return UnitItemInSlot(PF7,O37)
endif
set O37=O37+1
endloop
set Y6F=null
return null
endfunction
function DDG takes player p,unit PF7,integer EI9 returns item
local integer O37
local item Y6F
set O37=0
loop
exitwhen O37>5
set Y6F=UnitItemInSlot(PF7,O37)
if(Y6F!=null)and(RY7(Y6F)==EI9)and(GetItemPlayer(Y6F)==p or EI9==VC or EI9==WC)then
set Y6F=null
return UnitItemInSlot(PF7,O37)
endif
set O37=O37+1
endloop
set Y6F=null
return null
endfunction
function DEG takes item Z4 returns integer
local integer n5
local integer i=1
if Z4==null then
return-2
endif
set n5=GetItemTypeId(Z4)
loop
exitwhen i>EV
if BU[i]==n5 then
return ZU[i]
endif
set i=i+1
endloop
return-1
endfunction
function DFG takes item Z4 returns boolean
return GetItemType(Z4)==ITEM_TYPE_POWERUP or GetItemType(Z4)==ITEM_TYPE_PURCHASABLE or GetItemType(Z4)==ITEM_TYPE_MISCELLANEOUS
endfunction
function DGG takes nothing returns nothing
local item JM8=GetEnumItem()
if GetWidgetLife(JM8)>0 and GetItemPlayer(JM8)==G_4 and TJ4==0 and IsItemVisible(JM8)==true then
set TJ4=TJ4+1
call UnitAddItem(H44,JM8)
endif
set JM8=null
endfunction
function DHG takes nothing returns nothing
local item JM8=GetEnumItem()
if GetWidgetLife(JM8)>0 and GetItemPlayer(JM8)==G_4 and IsItemVisible(JM8)==true then
call UnitAddItem(zh,JM8)
endif
set JM8=null
endfunction
function DIG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit KU9=U87(UC7,"Courier")
local player p=UD7(UC7,"p")
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
local rect r=Rect(x-300,y-300,x+300,y+300)
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call TN7(UC7)
call UA7(t)
set G_4=p
set H44=p5
set zh=KU9
call EnumItemsInRect(r,Condition(function ZV7),function DHG)
else
if GetTriggerEvalCount(t)>9 then
call TN7(UC7)
call UA7(t)
set G_4=p
set H44=p5
set zh=KU9
call EnumItemsInRect(r,Condition(function ZV7),function DHG)
else
set G_4=p
set H44=p5
set TJ4=0
call EnumItemsInRect(r,Condition(function ZV7),function DGG)
endif
endif
call RemoveRect(r)
set t=null
set p5=null
set KU9=null
set r=null
return false
endfunction
function DJG takes unit KU9,unit p5 returns nothing
local player p=GetOwningPlayer(p5)
local integer i
local item JM8
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local real x=GetUnitX(KU9)
local real y=GetUnitY(KU9)
local integer EI9
if IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)then
set x=GetUnitX(p5)
set y=GetUnitY(p5)
endif
call TriggerRegisterDeathEvent(t,p5)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function DIG))
call TU7(UC7,"Source",p5)
call TU7(UC7,"Courier",KU9)
call TA7(UC7,"p",p)
call TR7(UC7,"x",x*1.0)
call TR7(UC7,"y",y*1.0)
set i=0
loop
exitwhen i>5
set JM8=UnitItemInSlot(KU9,i)
set EI9=RY7(JM8)
if JM8!=null and GetItemPlayer(JM8)==p and NJ9(JM8)==false and(EI9!=JA and EI9!=NA and EI9!=QA and EI9!=WA and EI9!=YA)then
call UnitRemoveItem(KU9,JM8)
call SetItemPosition(JM8,x,y)
endif
set i=i+1
endloop
set t=null
set JM8=null
endfunction
function DKG takes trigger t returns nothing
local integer OC7=GetHandleId(t)
local unit DH9=U87(OC7,"Courier")
local unit CC7=U87(OC7,"Source")
local real x
local real y
local real DMG
local real DNG
local real DOG
local real DPG
local real DQG
local real EME
local real DRG
local real DSG=GetUnitX(CC7)
local real DTG=GetUnitY(CC7)
if(R37(CC7)==false)then
set x=GetUnitX(CC7)
set y=GetUnitY(CC7)
set DPG=UO7(OC7,"DeliveryTargetX")
set DQG=UO7(OC7,"DeliveryTargetY")
call TR7(OC7,"DeliveryTargetX",x*1.0)
call TR7(OC7,"DeliveryTargetY",y*1.0)
set DOG=Atan2(y-DQG,x-DPG)
set DMG=SquareRoot((x-DPG)*(x-DPG)+(y-DQG)*(y-DQG))/0.2
set DNG=GetUnitMoveSpeed(DH9)
set EME=RF7(GetUnitX(CC7),GetUnitY(CC7),GetUnitX(DH9),GetUnitY(DH9))
set DRG=RAbsBJ(DOG*bj_RADTODEG-GetUnitFacing(DH9))
if(EME<DNG-DMG and DNG>DMG)or(EME<RMaxBJ(DNG,DMG)and DRG>=90)then
else
set DSG=x+DMG*Cos(DOG)
set DTG=y+DMG*Sin(DOG)
endif
endif
call TQ7(OC7,"OnDelivery",(1))
call IssuePointOrder(DH9,"move",DSG,DTG)
set DH9=null
set CC7=null
set t=null
endfunction
function DUG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit KU9=U87(OC7,"Courier")
local unit EC8=U87(OC7,"Source")
local real x
local real y
local integer i
local player p=GetOwningPlayer(EC8)
local item JM8
local integer O5=GetPlayerId(p)
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
if GetTriggerUnit()==EC8 then
call KW9(KU9)
endif
call TN7(OC7)
call UA7(t)
elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER then
if(UN7(OC7,"OnDelivery"))==1 then
call TQ7(OC7,"OnDelivery",0)
elseif GetIssuedOrderId()!=852100 and GetIssuedOrderId()!=852090 and(not QY4[O5])then
call UA7(t)
endif
elseif(QY4[O5]and IG4[O5])then
call KW9(KU9)
else
if RE7(KU9,EC8)<150 then
call TN7(OC7)
call UA7(t)
if QY4[O5]and UN7(GetHandleId(KU9),"aiCrow|CurrentOwner")==O5 then
set K17[432+O5]=2
call G3F(O5,M7[O5],false)
set K17[432+O5]=0
else
call DJG(KU9,EC8)
endif
call KW9(KU9)
else
if QY4[O5]then
set IN4=KU9
set i=SP7(1000.,IN4,Condition(function GC8))
if(i==0)then
call DKG(t)
else
call IssuePointOrderByIdLoc(KU9,851986,S07(KU4[O5]))
if RE7(KU9,M7[O5])<800 and is(M7[O5])and h4[O5]==null then
call IssuePointOrderByIdLoc(M7[O5],851986,S07(KU4[O5]))
endif
endif
else
call DKG(t)
endif
if(Bz>hq[880+O5])and Z17(p)and(RE7(KU9,EC8)<1800)then
call IssueImmediateOrderById(KU9,852100)
set hq[880+O5]=Bz+5
endif
endif
endif
set t=null
set KU9=null
set EC8=null
set JM8=null
return false
endfunction
function DVG takes unit CC7,boolean DWG returns nothing
local trigger t=null
local integer OC7=0
local unit DH9=GetSellingUnit()
local integer DXG=UN7(GetHandleId(DH9),"DeliveryIndex")
local integer O5=GetPlayerId(GetOwningPlayer(CC7))
if CC7!=null then
if QY4[O5]and(UN7(GetHandleId(DH9),"aiCrow|CurrentOwner")==O5)then
set t=UF7(GetHandleId(DH9),"aiCrow|DeliverTrigger")
if(t!=null and IsTriggerEnabled(t))then
set t=null
set DH9=null
return
endif
endif
set t=CreateTrigger()
set OC7=GetHandleId(t)
if CC7!=U87(GetHandleId(DH9),"DeliveryTarget"+I2S(DXG))and DWG then
set DXG=DXG+1
call TQ7(GetHandleId(DH9),"DeliveryIndex",DXG)
call TU7(GetHandleId(DH9),"DeliveryTarget"+I2S(DXG),(CC7))
endif
call TR7(OC7,"DeliveryTargetX",(GetUnitX(CC7)*1.0))
call TR7(OC7,"DeliveryTargetY",(GetUnitY(CC7)*1.0))
call IssueTargetOrder(DH9,"move",CC7)
call TriggerRegisterDeathEvent(t,DH9)
call TriggerRegisterDeathEvent(t,CC7)
call TriggerRegisterUnitEvent(t,DH9,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,DH9,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,DH9,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function DUG))
call TU7(OC7,"Source",CC7)
call TU7(OC7,"Courier",DH9)
call TW7(GetHandleId(DH9),"aiCrow|DeliverTrigger",t)
endif
set t=null
set DH9=null
endfunction
function DYG takes nothing returns nothing
local item JM8=GetEnumItem()
local unit u=OI4
local player p=GetOwningPlayer(u)
local integer id=GetPlayerId(p)
if GetWidgetLife(JM8)>0 and GetItemPlayer(JM8)==p and IsItemVisible(JM8)==true then
call SetItemPosition(JM8,KV4[id],KW4[id])
call UnitAddItem(OJ4,JM8)
endif
set JM8=null
set u=null
set p=null
endfunction
function DZG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit u=(LoadUnitHandle(L7,(OC7),(53)))
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
set OI4=u
set OJ4=EC8
if ZC7(GetOwningPlayer(u))then
call EnumItemsInRect(OD,Condition(function ZV7),function DYG)
else
call EnumItemsInRect(PD,Condition(function ZV7),function DYG)
endif
if GetTriggerEvalCount(t)==3 then
call KillUnit(u)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set u=null
set EC8=null
return false
endfunction
function DAG takes unit NMD returns nothing
local unit u=GetSoldUnit()
local integer i=0
local item JM8
local integer id=GetPlayerId(GetOwningPlayer(u))
local region r=CreateRegion()
local trigger t
local integer OC7
local unit EC8=GetSellingUnit()
if ZC7(GetOwningPlayer(u))then
call RegionAddRect(r,OD)
else
call RegionAddRect(r,PD)
endif
if IsUnitInRegion(r,EC8)then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function DZG))
call SaveUnitHandle(L7,(OC7),(53),(u))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
loop
exitwhen i>5
set JM8=UnitItemInSlot(EC8,i)
if CE7(RY7(JM8))==false and RY7(JM8)!=X0 and NJ9(JM8)==false then
call UnitRemoveItemFromSlot(EC8,i)
if IsUnitInRegion(r,EC8)and IsPlayerAlly(GetItemPlayer(JM8),GetOwningPlayer(EC8))==true then
set id=GetPlayerId(GetItemPlayer(JM8))
call SetItemPosition(JM8,KV4[id],KW4[id])
endif
endif
set i=i+1
endloop
endif
call RemoveRegion(r)
set u=null
set JM8=null
set t=null
set r=null
set EC8=null
endfunction
function DBG takes nothing returns nothing
if GetUnitTypeId(GetSoldUnit())==1747990581 then
if M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null and LO7(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])==false then
call DVG(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],true)
endif
call KillUnit(GetSoldUnit())
elseif GetUnitTypeId(GetSoldUnit())==1747993174 then
if M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null then
call DAG(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])
endif
call KillUnit(GetSoldUnit())
elseif GetUnitTypeId(GetSoldUnit())==1747993669 then
if M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null then
call DVG(U87(GetHandleId(GetSellingUnit()),("DeliveryTarget"+I2S(UN7(GetHandleId(GetSellingUnit()),"DeliveryIndex")-1))),false)
endif
call KillUnit(GetSoldUnit())
elseif HX8(GetUnitTypeId(GetSoldUnit()))then
if M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null then
if LO7(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])==true and GetOwningPlayer(GetSoldUnit())==GetOwningPlayer(GetSellingUnit())and(UU7(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],"JustUseAegis")==false)then
call BA8(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])
set GF7=true
call ReviveHero(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),true)
set GF7=false
call SetUnitState(M7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],UNIT_STATE_MANA,10000)
set VG4[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]=IMaxBJ(0,VG4[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]-X9[HZ8(GetHeroLevel(M7[GetPlayerId(GetOwningPlayer(GetSellingUnit()))]))])
call I48(GetOwningPlayer(GetSoldUnit()))
else
call SetPlayerState(GetOwningPlayer(GetSoldUnit()),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetOwningPlayer(GetSoldUnit()),PLAYER_STATE_RESOURCE_GOLD)+X9[HZ8(GetHeroLevel(M7[GetPlayerId(GetOwningPlayer(GetSellingUnit()))]))])
endif
endif
call KillUnit(GetSoldUnit())
endif
endfunction
function DCG takes player p4,unit S4,integer F4F,integer F7F,integer J0D,integer J5D,integer J2D,integer F8F,integer F9F returns nothing
local item W38
call DisableTrigger(SV4)
if F7F>0 then
set W38=UnitItemInSlot(S4,0)
call RX7(W38)
endif
if J0D>0 then
set W38=UnitItemInSlot(S4,1)
call RX7(W38)
endif
if J5D>0 then
set W38=UnitItemInSlot(S4,2)
call RX7(W38)
endif
if J2D>0 then
set W38=UnitItemInSlot(S4,3)
call RX7(W38)
endif
if F8F>0 then
set W38=UnitItemInSlot(S4,4)
call RX7(W38)
endif
if F9F>0 then
set W38=UnitItemInSlot(S4,5)
call RX7(W38)
endif
set K_7=F4F
set K27=p4
set W38=UnitAddItemById(S4,ZU[F4F])
call SetItemPlayer(W38,p4,true)
call SetItemUserData(W38,0)
if IsPlayerInForce(p4,QX4)and(S4==U87(GetHandleId(p4),"aiBearDummy"))then
set MN7=U87(GetHandleId(p4),"MyBear")
if MN7!=null and GetUnitState(MN7,UNIT_STATE_LIFE)>0 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",MN7,"origin"))
endif
else
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",S4,"origin"))
endif
if RY7(W38)==DI4 then
call SetItemCharges(W38,6)
endif
call EnableTrigger(SV4)
if IsPlayerAlly(GetLocalPlayer(),p4)==true then
if F4F==T1 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(p4)]+(KZ4[GetPlayerId((p4))])+"|r |c00ffff00"+GetObjectName(1848659032)+"|r")
elseif F4F==B5 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(p4)]+(KZ4[GetPlayerId((p4))])+"|r |c00ffff00"+GetObjectName(1848659033)+"|r")
endif
endif
set KL7[288+GetPlayerId(p4)]=W38
set W38=null
endfunction
function D3G takes player p,unit S4,integer E89 returns boolean
local integer i
local integer x
local integer y
local integer array FFF
local boolean array FGF
local integer array FHF
local boolean array FIF
local boolean array FJF
local integer array FKF
local player FMF
local integer D6G=1
local integer k
local player array FNF
local integer m
local item FOF
local item FPF
local item FQF
local item FRF
local item FSF
local item FTF
local player FUF
local player FVF
local player FWF
local player FXF
local player FYF
local player FZF
local integer FAF
local integer FBF
local integer FCF
local integer F3F
local integer F6F
local integer FLF
local integer F1F
local integer F0F
local integer F5F
local integer F2F
local integer F_F
local integer G4F
local boolean DLG=false
local boolean G7F=true
set FOF=UnitItemInSlot(S4,0)
set FPF=UnitItemInSlot(S4,1)
set FQF=UnitItemInSlot(S4,2)
set FRF=UnitItemInSlot(S4,3)
set FSF=UnitItemInSlot(S4,4)
set FTF=UnitItemInSlot(S4,5)
set FUF=GetItemPlayer(FOF)
set FVF=GetItemPlayer(FPF)
set FWF=GetItemPlayer(FQF)
set FXF=GetItemPlayer(FRF)
set FYF=GetItemPlayer(FSF)
set FZF=GetItemPlayer(FTF)
set FAF=GetItemUserData(FOF)
set FBF=GetItemUserData(FPF)
set FCF=GetItemUserData(FQF)
set F3F=GetItemUserData(FRF)
set F6F=GetItemUserData(FSF)
set FLF=GetItemUserData(FTF)
set F1F=RY7(FOF)
set F0F=RY7(FPF)
set F5F=RY7(FQF)
set F2F=RY7(FRF)
set F_F=RY7(FSF)
set G4F=RY7(FTF)
if(GetPlayerSlotState((p))==PLAYER_SLOT_STATE_LEFT)then
set D6G=5
set DLG=true
endif
set FNF[1]=p
if DLG then
set k=2
set m=1
loop
exitwhen k>D6G
if ZC7(p)then
if p!=Z7[m]then
set FNF[k]=Z7[m]
set k=k+1
endif
else
if p!=A7[m]then
set FNF[k]=A7[m]
set k=k+1
endif
endif
set m=m+1
endloop
endif
set k=1
loop
exitwhen k>D6G
set FMF=FNF[k]
set i=0
if FOF!=null and FAF==1 and(FUF==FMF or PK4 or(GetPlayerSlotState((FUF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FFF[i+1]=F1F
else
set FFF[i+1]=0
endif
set i=1
if FPF!=null and FBF==1 and(FVF==FMF or PK4 or(GetPlayerSlotState((FVF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FFF[i+1]=F0F
else
set FFF[i+1]=0
endif
set i=2
if FQF!=null and FCF==1 and(FWF==FMF or PK4 or(GetPlayerSlotState((FWF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FFF[i+1]=F5F
else
set FFF[i+1]=0
endif
set i=3
if FRF!=null and F3F==1 and(FXF==FMF or PK4 or(GetPlayerSlotState((FXF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FFF[i+1]=F2F
else
set FFF[i+1]=0
endif
set i=4
if FSF!=null and F6F==1 and(FYF==FMF or PK4 or(GetPlayerSlotState((FYF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FFF[i+1]=F_F
else
set FFF[i+1]=0
endif
set i=5
if FTF!=null and FLF==1 and(FZF==FMF or PK4 or(GetPlayerSlotState((FZF))==PLAYER_SLOT_STATE_LEFT)==true)then
set FFF[i+1]=G4F
else
set FFF[i+1]=0
endif
set FFF[0]=E89
set i=1
loop
exitwhen i>(FQ4)
set FHF[0]=FJ4[i]
set FHF[1]=FK4[i]
set FHF[2]=FM4[i]
set FHF[3]=FN4[i]
set FHF[4]=FO4[i]
if G7F then
set FIF[0]=true
set FIF[1]=true
set FIF[2]=true
set FIF[3]=true
set FIF[4]=true
set FIF[5]=true
set FIF[6]=true
set FGF[0]=true
set FGF[1]=true
set FGF[2]=true
set FGF[3]=true
set FGF[4]=true
set FGF[5]=true
set FGF[6]=true
set FKF[0]=0
set FKF[1]=0
set FKF[2]=0
set FKF[3]=0
set FKF[4]=0
set FKF[5]=0
set FKF[6]=0
set G7F=false
endif
set FJF[0]=false
set FJF[1]=false
set FJF[2]=false
set FJF[3]=false
set FJF[4]=false
set x=0
loop
exitwhen x==5
if FHF[x]==0 then
set FJF[x]=true
else
set y=0
loop
exitwhen y==7
if FFF[y]==FHF[x]and FGF[y]and FIF[x]then
set FGF[y]=false
set FIF[x]=false
set FJF[x]=true
set FKF[y]=1
set y=7
set G7F=true
else
set y=y+1
endif
endloop
endif
if FJF[x]==true then
set x=x+1
else
set x=5
endif
endloop
if FJF[0]and FJF[1]and FJF[2]and FJF[3]and FJF[4]then
call DCG(FMF,S4,FP4[i],FKF[1],FKF[2],FKF[3],FKF[4],FKF[5],FKF[6])
set i=FQ4+2
else
set i=i+1
endif
endloop
set EL=FKF[0]==1
if i==(FQ4+2)then
set FOF=null
set FPF=null
set FQF=null
set FRF=null
set FSF=null
set FTF=null
return true
endif
set k=k+1
endloop
set FOF=null
set FPF=null
set FQF=null
set FRF=null
set FSF=null
set FTF=null
return false
endfunction
function D1G takes player p4,unit S4,integer E89 returns boolean
local boolean FP9
set EL=false
set FP9=D3G(p4,S4,E89)
return FP9
endfunction
function D0G takes nothing returns boolean
if IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IN4))==true and GetUnitAbilityLevel(GetFilterUnit(),1097625443)==0 and UnitInventorySize(GetFilterUnit())>1 and GetUnitTypeId(GetFilterUnit())!=1852010352 and GetPlayerAlliance(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(IN4),ALLIANCE_SHARED_CONTROL)and GetOwningPlayer(IN4)!=GetOwningPlayer(GetFilterUnit())and IsUnitIllusion(GetFilterUnit())==false and LO7(GetFilterUnit())==false then
if RW7(GetFilterUnit())==true then
set IH4=IH4+1
set IP4=GetFilterUnit()
endif
endif
return false
endfunction
function D5G takes nothing returns boolean
if IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IN4))==true and GetUnitAbilityLevel(GetFilterUnit(),1097625443)==0 and UnitInventorySize(GetFilterUnit())>1 and GetUnitTypeId(GetFilterUnit())!=1852010352 and IsUnitIllusion(GetFilterUnit())==false and LO7(GetFilterUnit())==false then
if GetOwningPlayer(IN4)==GetOwningPlayer(GetFilterUnit())then
if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true then
if GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 then
set IP4=GetFilterUnit()
endif
elseif IsUnitType(IP4,UNIT_TYPE_HERO)==false then
set IP4=GetFilterUnit()
endif
endif
endif
return false
endfunction
function D2G takes unit S4,integer D_G returns unit
local group g=CX7()
set IN4=S4
set IP4=null
call GroupEnumUnitsInRange(g,GetUnitX(eH),GetUnitY(eH),1300+D_G,Condition(function D5G))
if IP4==null then
set IH4=0
call CW7(g)
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(eH),GetUnitY(eH),1100+D_G,Condition(function D0G))
if IH4>1 then
set IP4=null
endif
endif
call CW7(g)
set g=null
return IP4
endfunction
function E4G takes player p4,unit S4,unit E7G,integer E89,real x,real y,integer XBF,integer E8G returns nothing
local unit E9G
local item XSF=null
set eH=E7G
if GetUnitPointValue(S4)==200 then
set E9G=D2G(S4,0)
if E9G==null then
set E9G=D2G(S4,300)
endif
else
set E9G=S4
endif
set K_7=E89
set K27=p4
if E9G==null or D1G(p4,E9G,E79(E89))==false or EL==false then
if EK9(E79(E89))then
if DAF(E9G)==0 or E9G==null then
call D7G(SU[E89],x,y,p4,true,XBF)
else
set XSF=UnitAddItemById(E9G,ZU[E89])
call SetItemCharges(XSF,XBF)
call SetItemPlayer(XSF,p4,true)
call SetItemUserData(XSF,E8G)
endif
elseif EJ9(E79(E89))then
if E9G==null or(DAF(E9G)==0 and SV7(E9G,ZU[E89])==null)then
call D7G(SU[E89],x,y,p4,true,EM9(E89))
else
set XSF=CreateItem(SU[E89],x,y)
call SetItemPlayer(XSF,p4,true)
call SetItemUserData(XSF,E8G)
call SetItemCharges(XSF,EM9(E89))
call UnitAddItem(E9G,XSF)
endif
else
if DAF(E9G)==0 or E9G==null then
call D7G(SU[E89],x,y,p4,false,0)
else
set XSF=UnitAddItemById(E9G,ZU[E89])
call SetItemPlayer(XSF,p4,true)
call SetItemUserData(XSF,0)
endif
endif
endif
if XSF!=null then
set KL7[288+GetPlayerId(p4)]=XSF
endif
set E9G=null
set XSF=null
endfunction
function EDG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit EEG=U87(UC7,"Tower")
if GetTriggerEventId()!=EVENT_UNIT_DEATH then
call UnitRemoveAbility(EEG,1093744466)
call UnitRemoveAbility(EEG,1093809222)
endif
call DestroyEffect(UH7(UC7,"FX"))
call TN7(UC7)
call UA7(t)
set t=null
set EEG=null
return false
endfunction
function EFG takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0.5 and IsUnitAlly(GetFilterUnit(),Sh)==true and GetOwningPlayer(GetFilterUnit())!=C7 and GetUnitTypeId(GetFilterUnit())!=1852010352 and GetUnitTypeId(GetFilterUnit())!=1848657482 and GetUnitTypeId(GetFilterUnit())!=1848657481 and GetUnitTypeId(GetFilterUnit())!=1848657462 and GetUnitTypeId(GetFilterUnit())!=1848657480
endfunction
function EGG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit S4=GetEnumUnit()
local string s
call UnitAddAbility(S4,1093744466)
call UnitAddAbility(S4,1093809222)
if ZC7(Sh)then
set s="effects\\GlyphSent.mdx"
else
set s="effects\\GlyphScourge.mdx"
endif
call TV7(UC7,"FX",AddSpecialEffectTarget(s,S4,"origin"))
call TU7(UC7,"Tower",S4)
call TriggerRegisterUnitEvent(t,S4,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,IE7,false)
call TriggerAddCondition(t,Condition(function EDG))
set t=null
set S4=null
endfunction
function EHG takes unit EIG,player p returns nothing
local integer i
if ZC7(p)then
set i=1
if EIG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=2
if EIG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=3
if EIG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=4
if EIG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=5
if EIG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
else
set i=7
if EIG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=8
if EIG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=9
if EIG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=10
if EIG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
set i=11
if EIG!=KU4[i]then
call IssueImmediateOrder(KU4[i],"coldarrows")
endif
endif
endfunction
function EJG takes nothing returns nothing
local group g
local unit EIG=GetTriggerUnit()
local player p=GetOwningPlayer(EIG)
if(ZC7(p)and Th==false)or(ZC7(p)==false and Uh==false)then
set g=CX7()
set Sh=p
call GroupEnumUnitsInRange(g,0,0,12000,Condition(function EFG))
call ForGroup(g,function EGG)
call CW7(g)
if ZC7(p)then
set Th=true
call EHG(EIG,p)
set Th=false
call TR7(R44,"AI|Glyph|Sent",Bz+300.)
else
set Uh=true
call EHG(EIG,p)
set Uh=false
call TR7(R44,"AI|Glyph|Scrg",Bz+300.)
endif
endif
set g=null
set EIG=null
set p=null
endfunction
function EKG takes nothing returns nothing
if GetSpellAbilityId()==1093743665 or GetSpellAbilityId()==1093752649 then
call EJG()
endif
endfunction
function EMG takes player p,integer E89 returns nothing
local integer i=GetPlayerId(p)
if E89==OC then
set Zh[i]=Zh[i]+1
elseif E89==QC then
set Zh[i]=Zh[i]+1
elseif E89==TC then
set Zh[i]=Zh[i]+3
elseif E89==VC then
set Zh[i]=Zh[i]+2
set H74[i]=H74[i]+2
elseif E89==WC then
set Zh[i]=Zh[i]+2
set H74[i]=H74[i]+2
elseif E89==XC then
set Zh[i]=Zh[i]+1
elseif E89==YC then
set Zh[i]=Zh[i]+1
elseif E89==CC then
set Zh[i]=Zh[i]+2
elseif E89==PC then
set Zh[i]=Zh[i]+2
elseif E89==LC then
set Zh[i]=Zh[i]+2
endif
endfunction
function ENG takes unit EOG,unit EPG returns boolean
local integer E89
if GetUnitTypeId(EPG)==1311788365 then
return true
endif
if(EOG==JC4 or EOG==JB4)and IsUnitAlly(EPG,A7[0])then
return false
elseif(EOG==I_4 or EOG==I34)and IsUnitAlly(EPG,Z7[0])then
return false
endif
set E89=CI7(EPG)
if E89==VC or E89==EW or E89==H3 then
return true
endif
return false
endfunction
function EQG takes unit E7G,unit ERG returns real
if E7G==I34 or E7G==IL4 or E7G==I04 or E7G==I_4 or E7G==J44 or E7G==J74 or E7G==J84 or E7G==J94 or E7G==JD4 or E7G==JE4 then
return KV4[GetPlayerId(GetOwningPlayer(ERG))]
elseif E7G==JB4 or E7G==zs or E7G==Zs or E7G==JC4 or E7G==eS or E7G==oS or E7G==rS or E7G==aS or E7G==nS or E7G==VS then
return KV4[GetPlayerId(GetOwningPlayer(ERG))]
elseif E7G==LS4 or E7G==LV4 then
return-7133.0
elseif E7G==LT4 or E7G==LU4 then
return 7207.0
endif
return GetUnitX(ERG)
endfunction
function ESG takes unit E7G,unit ERG returns real
if E7G==I34 or E7G==IL4 or E7G==I04 or E7G==I_4 or E7G==J44 or E7G==J74 or E7G==J84 or E7G==J94 or E7G==JD4 or E7G==JE4 then
return KW4[GetPlayerId(GetOwningPlayer(ERG))]
elseif E7G==JB4 or E7G==zs or E7G==Zs or E7G==JC4 or E7G==eS or E7G==oS or E7G==rS or E7G==aS or E7G==nS or E7G==VS then
return KW4[GetPlayerId(GetOwningPlayer(ERG))]
elseif E7G==LS4 or E7G==LV4 then
return 4317.0
elseif E7G==LT4 or E7G==LU4 then
return-4243.0
endif
return GetUnitY(ERG)
endfunction
function ETG takes unit E7G,unit ERG returns real
if E7G==I34 or E7G==IL4 or E7G==I04 or E7G==I_4 or E7G==J44 or E7G==J74 or E7G==J84 or E7G==J94 or E7G==JD4 or E7G==JE4 then
return GetRectCenterX(ED)
elseif E7G==JB4 or E7G==zs or E7G==Zs or E7G==JC4 or E7G==eS or E7G==oS or E7G==rS or E7G==aS or E7G==nS or E7G==VS then
return GetRectCenterX(L9)
endif
return GetUnitX(ERG)
endfunction
function EUG takes unit E7G,unit ERG returns real
if E7G==I34 or E7G==IL4 or E7G==I04 or E7G==I_4 or E7G==J44 or E7G==J74 or E7G==J84 or E7G==J94 or E7G==JD4 or E7G==JE4 then
return GetRectCenterY(ED)
elseif E7G==JB4 or E7G==zs or E7G==Zs or E7G==JC4 or E7G==eS or E7G==oS or E7G==rS or E7G==aS or E7G==nS or E7G==VS then
return GetRectCenterY(L9)
endif
return GetUnitY(ERG)
endfunction
function EVG takes nothing returns nothing
local unit u=GetSoldUnit()
local player p=GetOwningPlayer(u)
local integer E89=CI7(u)
local real x
local real y
if ENG(GetSellingUnit(),u)then
call L27(p,(GetObjectName((1848652359))))
if IsUnitAlly(u,Z7[0])then
set p=A7[0]
else
set p=Z7[0]
endif
set x=ETG(GetSellingUnit(),u)
set y=EUG(GetSellingUnit(),u)
call D7G(SU[CI7(u)],x,y,p,true,EM9(CI7(u)))
else
call EMG(p,E79(E89))
if ZU[E89]==0 then
call L27(p,GetObjectName(XO4))
else
set x=EQG(GetSellingUnit(),u)
set y=ESG(GetSellingUnit(),u)
if E89==CC then
call E4G(p,u,GetSellingUnit(),E79(E89),x,y,2,0)
else
call E4G(p,u,GetSellingUnit(),E79(E89),x,y,0,0)
endif
endif
endif
call UnitAddAbility(u,1097625443)
call ShowUnit(u,true)
call UnitApplyTimedLife(u,1112820806,2)
set u=null
set p=null
endfunction
function EWG takes nothing returns boolean
if VH4==false then
if GetUnitPointValue(GetSoldUnit())>=200 then
call EVG()
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(GetSoldUnit()))or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
if GetUnitTypeId(GetSoldUnit())==1747989062 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,20,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658005)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747989329 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,20,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658759)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747990326 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658767)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747989059 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658768)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747989060 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658769)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747993153 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658772)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747988807 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848659010)+"|r")
elseif GetUnitTypeId(GetSoldUnit())==1747993651 then
call PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,Q[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(KZ4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848659024)+"|r")
endif
endif
else
call DBG()
endif
else
endif
return false
endfunction
function EXG takes nothing returns boolean
if GetSpellAbilityId()==1093751369 or GetSpellAbilityId()==1093681733 then
if LO7(GetTriggerUnit())==false then
call DZF(GetTriggerUnit())
endif
endif
return false
endfunction
function RestrictedItems_UpdateMeleeRange_All2 takes nothing returns nothing
call DZF(IN4)
endfunction
function EYG takes unit CC7,item JM8 returns boolean
local unit u=CC7
local integer z8=GetUnitTypeId(u)
local integer EI9=RY7(JM8)
local real x
local real y
local boolean EZG=true
set x=GetUnitX(u)
set y=GetUnitY(u)
set K27=GetItemPlayer(JM8)
if EI9==XZ then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))
call L57(GetOwningPlayer(u),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[IA])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if EI9==D1 and GetItemCharges(JM8)==0 then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[F1])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if EI9==VB and GetItemCharges(JM8)==0 then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[WB])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
call DisableTrigger(H94)
if(EI9==H6 or EI9==G6 or EI9==N6)and(SU7(u,ZU[H6],JM8)!=null or SU7(u,ZU[G6],JM8)!=null or SU7(u,ZU[N6],JM8)!=null)then
call L27(GetOwningPlayer(u),(GetObjectName((1848652364))))
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=CreateItem(SU[EI9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if(EI9==BA)and(SU7(u,ZU[BA],JM8)!=null or SU7(u,ZU[GB],JM8)!=null)then
call L27(GetOwningPlayer(u),(GetObjectName((1848657996))))
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=CreateItem(SU[EI9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set EZG=false
endif
if EZG and(EI9==GB)and(SU7(u,ZU[BA],JM8)!=null or SU7(u,ZU[GB],JM8)!=null)then
call L27(GetOwningPlayer(u),(GetObjectName((1848657996))))
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=CreateItem(SU[EI9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set EZG=false
endif
if(EI9==DM4 or EI9==DK4 or EI9==DO4 or EI9==DN4)and(SU7(u,ZU[DM4],JM8)!=null or SU7(u,ZU[DK4],JM8)!=null or SU7(u,ZU[DO4],JM8)!=null or SU7(u,ZU[DN4],JM8)!=null)then
call L27(GetOwningPlayer(u),(GetObjectName((1848652355))))
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=CreateItem(SU[EI9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if(EI9==B5 and IsPlayerEnemy(GetItemPlayer(JM8),GetOwningPlayer(u)))then
set IR4=GetItemPlayer(JM8)
call RX7(JM8)
set HA4=UnitAddItemById(u,ZU[C5])
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if(EI9==X0)and(RV7(u)or F68(u))then
if RV7(u)then
call L27(GetOwningPlayer(u),(GetObjectName((1848652363))))
endif
set IR4=GetItemPlayer(JM8)
set IH4=GetItemCharges(JM8)
call RemoveItem(JM8)
if EI9==X0 then
set HA4=CreateItem(SU[EI9],GetRectCenterX(ND),GetRectCenterY(ND))
endif
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
if EI9==X0 then
call SetItemCharges(HA4,IH4)
endif
endif
if EI9==RW and(z8==1215723364 or z8==1429221446)then
call L27(GetOwningPlayer(u),(GetObjectName((1848652362))))
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=CreateItem(SU[EI9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if EZG and(EI9==BA or EI9==GB)and(z8==1211119187)then
call L27(GetOwningPlayer(u),(GetObjectName((1848652362))))
set IR4=GetItemPlayer(JM8)
call RemoveItem(JM8)
set HA4=CreateItem(SU[EI9],x,y)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set EZG=false
endif
if(EI9==D0 or EI9==E0 or EI9==J0 or EI9==N0 or EI9==O0 or EI9==R0)and z8==1429221443 then
call DisplayTimedTextToPlayer(GetOwningPlayer(u),0,E9,10,"|c00ff0303"+(GetObjectName((1848652368)))+"|r")
endif
call EnableTrigger(H94)
if EZG then
call DXF(CC7,JM8)
endif
set u=null
set JM8=null
return false
endfunction
function EAG takes integer EI9 returns boolean
return EI9==O1 or EI9==DN4 or EI9==DO4 or EI9==DQ4 or EI9==J1 or EI9==DK4 or EI9==DM4 or EI9==DP4 or EI9==EW or EI9==HW or EI9==S6 or EI9==V6
endfunction
function EBG takes integer EI9 returns boolean
return EI9==EW or EI9==HW
endfunction
function ECG takes unit CO7,item W38 returns boolean
local item RA7=W38
local integer EI9=RZ7(RA7)
local integer E3G=0
local boolean FP9=false
local integer E6G=RC7(RA7)
local boolean ELG=false
if IsUnitType(CO7,UNIT_TYPE_HERO)==true then
if EI9==O1 then
set E3G=J1
endif
if EI9==V6 then
set E3G=S6
endif
if EI9==DN4 then
set E3G=DK4
endif
if EI9==DO4 then
set E3G=DM4
endif
if EI9==DQ4 then
set E3G=DP4
endif
if EI9==HW then
set E3G=EW
endif
if E6G==HW then
set E3G=EW
set ELG=true
endif
if E3G!=0 then
set IR4=GetItemPlayer(RA7)
call RX7(RA7)
if ELG then
set HA4=UnitAddItemById(CO7,BU[E3G])
else
set HA4=UnitAddItemById(CO7,ZU[E3G])
endif
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set FP9=true
endif
else
if EI9==J1 then
set E3G=O1
endif
if EI9==S6 then
set E3G=V6
endif
if EI9==DK4 then
set E3G=DN4
endif
if EI9==DM4 then
set E3G=DO4
endif
if EI9==DP4 then
set E3G=DQ4
endif
if EI9==EW then
set E3G=HW
endif
if E6G==EW then
set E3G=HW
set ELG=true
endif
if E3G!=0 then
set IR4=GetItemPlayer(RA7)
call RX7(RA7)
if ELG then
set HA4=UnitAddItemById(CO7,BU[E3G])
else
set HA4=UnitAddItemById(CO7,ZU[E3G])
endif
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set FP9=true
endif
endif
set RA7=null
return FP9
endfunction
function E1G takes unit CO7,item W38 returns boolean
if EAG(RZ7(W38))or EBG(RC7(W38))then
return ECG(CO7,W38)
endif
return false
endfunction
function E0G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit E9G=U87(UC7,"Unit")
local integer E5G=UN7(UC7,"EventType")
local integer E89=UN7(UC7,"indexId")
local boolean E2G=UP7(UC7,"Temporary")
local item W38
local player p=GetOwningPlayer(E9G)
local player E_G
local integer XBF
local boolean F4G=false
local item XSF
local integer n5
local integer G9F
local integer newCharges
local item Z4
local integer targetCount
local item F7G
local boolean F8G=false
local integer D08
call DisableTrigger(SV4)
if E2G then
set F7G=null
set E_G=UD7(UC7,"p")
set XBF=UN7(UC7,"charges")
else
set W38=UK7(UC7,"Item")
set F7G=W38
set E_G=GetItemPlayer(W38)
set XBF=GetItemCharges(W38)
endif
set K_7=E89
set K27=E_G
set eY[512+GetPlayerId(K27)]=1
if E2G then
set KL7[288+GetPlayerId(E_G)]=null
else
set KL7[288+GetPlayerId(E_G)]=W38
endif
if E2G==false and W38==null then
call FlushChildHashtable(L7,(UC7))
call UA7(t)
call EnableTrigger(SV4)
set t=null
set E9G=null
set p=null
return false
endif
if E5G==1 then
if p!=E_G and GetUnitTypeId(E9G)==1852010352 then
if EJ9(E79(E89))or EK9(E79(E89))then
set F4G=true
endif
if IsPlayerEnemy(p,E_G)then
call D7G(SU[E89],KV4[GetPlayerId(p)],KW4[GetPlayerId(p)],E_G,F4G,XBF)
else
call D7G(SU[E89],KV4[GetPlayerId(E_G)],KW4[GetPlayerId(E_G)],E_G,F4G,XBF)
endif
call L27(p,(GetObjectName((1848656978))))
if E2G==false then
set F8G=true
call RX7(W38)
endif
elseif PK4==false and E2G==false and GetItemType(W38)==ITEM_TYPE_CAMPAIGN and DEG(W38)!=0 and(p==E_G or(GetPlayerSlotState((E_G))==PLAYER_SLOT_STATE_LEFT))then
if EK9(E89)then
set F4G=true
else
set F4G=false
endif
if(GetPlayerSlotState((E_G))==PLAYER_SLOT_STATE_LEFT)and CE7(E89)then
else
call RX7(W38)
set F8G=true
set XSF=UnitAddItemById(E9G,ZU[E89])
set F7G=XSF
call SetItemPlayer(XSF,E_G,false)
call SetItemUserData(XSF,0)
if F4G then
call SetItemCharges(XSF,XBF)
endif
endif
elseif PK4==false and E2G==false and GetItemType(W38)==ITEM_TYPE_PERMANENT and p!=E_G and BU[RY7(W38)]!=0 and(GetPlayerSlotState((E_G))==PLAYER_SLOT_STATE_LEFT)==false then
if EK9(E89)then
set F4G=true
else
set F4G=false
endif
call RX7(W38)
set F8G=true
set XSF=UnitAddItemById(E9G,BU[E89])
set F7G=XSF
call SetItemPlayer(XSF,E_G,false)
call SetItemUserData(XSF,0)
if F4G then
call SetItemCharges(XSF,XBF)
endif
elseif E2G==false and GetItemType(W38)==ITEM_TYPE_PERMANENT and EH9(W38)and IsUnitType(E9G,UNIT_TYPE_HERO)==true then
set n5=NH9(E9G)
set G9F=NI9(E9G)
if G9F!=0 then
call UnitAddAbility(E9G,G9F)
call UnitMakeAbilityPermanent(E9G,true,G9F)
call SetPlayerAbilityAvailable(p,G9F,false)
if GetUnitTypeId(E9G)==1211117653 then
set IN4=E9G
call ExecuteFunc("GDF")
elseif GetUnitTypeId(E9G)==1215130471 then
set IN4=E9G
call ExecuteFunc("M8D")
endif
endif
set D08=EE9(E9G,4)
if n5==GX4 and HQ4[D08]!=0 then
call UnitRemoveAbility(E9G,HU4[D08])
call UnitAddAbility(E9G,HV4[D08])
call SetPlayerAbilityAvailable(p,HV4[D08],false)
endif
if E89!=n5 then
call RX7(W38)
set XSF=UnitAddItemById(E9G,ZU[n5])
set F7G=XSF
call SetItemPlayer(XSF,E_G,false)
call SetItemUserData(XSF,1)
endif
elseif E2G==false and GetItemType(W38)==ITEM_TYPE_ARTIFACT then
call DisableTrigger(H94)
set Z4=D8G(E_G,E9G,E89,W38)
if Z4==null then
else
call SetItemCharges(Z4,XBF+GetItemCharges(Z4))
call RX7(W38)
set F7G=null
endif
call EnableTrigger(H94)
elseif E2G and EJ9(E79(E89))then
call DisableTrigger(H94)
if DAF(E9G)==0 and DDG(E_G,E9G,E89)==null then
call L27(p,(GetObjectName((1848652367))))
call D7G(SU[(E89)],((UO7(UC7,"x"))*1.0),((UO7(UC7,"y"))*1.0),(E_G),(true),(XBF))
else
set Z4=DDG(E_G,E9G,E89)
if Z4==null then
call DisableTrigger(H94)
set XSF=UnitAddItemById(E9G,ZU[E89])
set F7G=XSF
call SetItemPlayer(XSF,E_G,false)
call SetItemUserData(XSF,1)
call SetItemCharges(XSF,XBF)
else
call SetItemCharges(Z4,XBF+GetItemCharges(Z4))
set KL7[288+GetPlayerId(E_G)]=Z4
endif
endif
call EnableTrigger(H94)
elseif E2G==true then
call E4G(E_G,E9G,null,E89,UO7(UC7,"x"),UO7(UC7,"y"),XBF,1)
elseif E2G==false and(GetItemType(W38)==ITEM_TYPE_PERMANENT or GetItemType(W38)==ITEM_TYPE_CAMPAIGN)then
call SetItemUserData(W38,1)
set F8G=D1G(E_G,E9G,0)
endif
if F8G==false and F7G!=null and DFG(F7G)==false then
set F8G=E1G(E9G,F7G)
endif
if F8G==false and F7G!=null and DFG(F7G)==false then
call EYG(E9G,F7G)
endif
else
if GetWidgetLife(W38)>0 then
set n5=NH9(E9G)
set G9F=NI9(E9G)
if SV7(E9G,ZU[n5])==null and GetUnitAbilityLevel(E9G,G9F)>0 then
call UnitRemoveAbility(E9G,G9F)
if GetUnitTypeId(E9G)==1215130471 then
set IN4=E9G
call ExecuteFunc("M9D")
endif
endif
set D08=EE9(E9G,4)
if n5==GX4 and HQ4[D08]!=0 then
call UnitRemoveAbility(E9G,HV4[D08])
call UnitAddAbility(E9G,HU4[D08])
call SetPlayerAbilityAvailable(p,HU4[D08],false)
endif
if IsItemOwned(W38)==false then
if GetItemType(W38)==ITEM_TYPE_ARTIFACT or EK9(E89)then
set F4G=true
endif
call D7G(SU[E89],GetItemX(W38),GetItemY(W38),E_G,F4G,XBF)
call RX7(W38)
endif
endif
endif
call TN7(UC7)
call UA7(t)
call EnableTrigger(SV4)
if F7G!=null then
set KL7[288+GetPlayerId(E_G)]=F7G
endif
set t=null
set W38=null
set E9G=null
set p=null
set E_G=null
set XSF=null
set Z4=null
set F7G=null
return false
endfunction
function F9G takes nothing returns boolean
local item W38
local integer E5G
local unit E9G=GetTriggerUnit()
local trigger t
local integer UC7
local integer n5
local integer G9F
local integer id
set id=GetPlayerId(GetOwningPlayer(E9G))
if(IsUnitType(E9G,UNIT_TYPE_HERO)==true or F68(E9G))and IsUnitIllusion(E9G)==false and GetUnitTypeId(E9G)!=1311788365 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
if GetItemTypeId(GetManipulatedItem())==ZU[UZ]then
set HE4=HE4+1
set RK4[id]=RK4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[RW]then
set HF4=HF4+1
set RM4[id]=RM4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[DI4]then
set HG4=HG4+1
set RN4[id]=RN4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[WL]or GetItemTypeId(GetManipulatedItem())==ZU[U3]then
set HH4=HH4+1
set RO4[id]=RO4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[W5]then
set HD4=HD4+1
set RP4[id]=RP4[id]+1
call UnitAddItemById(E9G,1227901005)
elseif GetItemTypeId(GetManipulatedItem())==ZU[R2]then
set HI4=HI4+1
set RQ4[id]=RQ4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[U1]then
set LW4=LW4+1
set RR4[id]=RR4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[RL]then
set LX4=LX4+1
set RS4[id]=RS4[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[R3]then
set H37=H37+1
set HL7[id]=HL7[id]+1
elseif GetItemTypeId(GetManipulatedItem())==ZU[LB]then
set H67=H67+1
set H57[id]=H57[id]+1
endif
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM then
if GetItemTypeId(GetManipulatedItem())==ZU[UZ]then
set RK4[id]=RK4[id]-1
set HE4=HE4-1
elseif GetItemTypeId(GetManipulatedItem())==ZU[RW]and GetUnitTypeId(E9G)!=1311788365 then
set RM4[id]=RM4[id]-1
set HF4=HF4-1
elseif GetItemTypeId(GetManipulatedItem())==ZU[LB]then
set H57[id]=H57[id]-1
set H67=H67-1
elseif GetItemTypeId(GetManipulatedItem())==ZU[DI4]then
set RN4[id]=RN4[id]-1
set HG4=HG4-1
elseif GetItemTypeId(GetManipulatedItem())==ZU[WL]or GetItemTypeId(GetManipulatedItem())==ZU[U3]then
set HH4=HH4-1
set RO4[id]=RO4[id]-1
if RO4[id]<1 or SU7(E9G,ZU[WL],GetManipulatedItem())==null or SU7(E9G,ZU[U3],GetManipulatedItem())==null then
call UnitRemoveAbility(E9G,1093744436)
endif
elseif GetItemTypeId(GetManipulatedItem())==ZU[W5]then
set HD4=IMaxBJ(HD4-1,0)
set RP4[id]=IMaxBJ(RP4[id]-1,0)
call UnitRemoveAbility(E9G,1110458953)
elseif GetItemTypeId(GetManipulatedItem())==ZU[R2]and GetUnitTypeId(E9G)!=1311788365 then
set RQ4[id]=RQ4[id]-1
set HI4=HI4-1
endif
endif
endif
if QY4[id]and(not K57[304+id])and(GetManipulatedItem()!=KL7[336+id])then
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_PAWN_ITEM then
set W38=GetSoldItem()
call SetItemUserData(W38,-2)
set n5=NH9(E9G)
set G9F=NI9(E9G)
if SU7(E9G,ZU[n5],W38)==null and GetUnitAbilityLevel(E9G,G9F)>0 then
call UnitRemoveAbility(E9G,G9F)
if GetUnitTypeId(E9G)==1215130471 then
set IN4=E9G
call ExecuteFunc("M9D")
endif
endif
elseif GetItemTypeId(GetManipulatedItem())!=1227894853 and GetItemTypeId(GetManipulatedItem())!=1227895373 then
set W38=GetManipulatedItem()
if IsUnitIllusion(E9G)or GetItemUserData(W38)==-2 then
set W38=null
set E9G=null
set t=null
return false
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
set E5G=1
else
set E5G=2
endif
if(E5G==1 or(E5G==2 and DFG(W38)==false and GetWidgetLife(W38)>0))and GetUnitTypeId(E9G)!=1211117642 then
set K_7=RY7(W38)
if(GetItemPlayer(W38)!=Player(15))then
set K27=GetItemPlayer(W38)
endif
set KL7[288+GetPlayerId(K27)]=null
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function E0G))
call TU7(UC7,"Unit",E9G)
call TQ7(UC7,"EventType",E5G)
call TQ7(UC7,"indexId",K_7)
if DFG(W38)then
call TT7(UC7,"Temporary",true)
call TA7(UC7,"p",K27)
call TQ7(UC7,"charges",GetItemCharges(W38))
call TR7(UC7,"x",(GetItemX(W38))*1.0)
call TR7(UC7,"y",(GetItemY(W38))*1.0)
else
call TT7(UC7,"Temporary",false)
call TB7(UC7,"Item",W38)
call SetItemUserData(W38,0)
endif
else
endif
endif
set K57[304+id]=false
set W38=null
set E9G=null
set t=null
return false
endfunction
function FDG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
if GetUnitAbilityLevel(CO7,1110454611)==0 then
call UnitRemoveAbility(CO7,1110454611)
call UnitRemoveAbility(CO7,1110455361)
call TN7(UC7)
call UA7(t)
elseif GetUnitState(CO7,UNIT_STATE_LIFE)==GetUnitState(CO7,UNIT_STATE_MAX_LIFE)and GetUnitState(CO7,UNIT_STATE_MANA)==GetUnitState(CO7,UNIT_STATE_MAX_MANA)then
call UnitRemoveAbility(CO7,1110454611)
call UnitRemoveAbility(CO7,1110455361)
call TN7(UC7)
call UA7(t)
endif
set t=null
set CO7=null
return false
endfunction
function FEG takes unit CO7,item W38 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function FDG))
call TU7(UC7,"Hero",CO7)
set t=null
endfunction
function FFG takes unit CO7,item W38 returns nothing
local unit u=CO7
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local unit H88=CreateUnit(GetOwningPlayer(u),1697656901,x,y,0)
local unit FGG=CreateUnit(GetOwningPlayer(u),1697656901,x,y,0)
call UnitAddAbility(H88,1093683026)
call UnitAddAbility(FGG,1093683026)
call IssueTargetOrderById(H88,852274,u)
call IssueTargetOrderById(FGG,852274,u)
set u=null
set H88=null
set FGG=null
endfunction
function FHG takes unit CO7,item W38 returns nothing
if GetItemTypeId(W38)==1227894839 or GetItemTypeId(W38)==1227894838 or GetItemTypeId(W38)==1227894840 or GetItemTypeId(W38)==1227894859 or GetItemTypeId(W38)==1227894858 then
call MY9(CO7,GetItemTypeId(W38),false)
endif
if GetItemTypeId(W38)==1227894839 then
call FFG(CO7,W38)
elseif GetItemTypeId(W38)==1227894858 then
if GetUnitAbilityLevel(CO7,1110456665)>0 then
call UnitRemoveAbility(CO7,1110456665)
call UnitRemoveAbility(CO7,1110454609)
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemById(CO7,1227894858)
call EnableTrigger(GetTriggeringTrigger())
endif
elseif GetItemTypeId(W38)==1227894840 then
call FEG(CO7,W38)
endif
endfunction
function FIG takes unit CC7,item JM8 returns nothing
local integer LN7
local integer H98
call UnitRemoveAbility(CC7,1093810003)
call UnitRemoveAbility(CC7,1093810001)
call UnitRemoveAbility(CC7,1093810002)
call UnitRemoveAbility(CC7,1093810004)
if GetUnitAbilityLevel(CC7,1093810246)>0 then
call UnitRemoveAbility(CC7,1093810246)
call UnitAddAbility(CC7,1093810246)
endif
if GetUnitTypeId(CC7)==1164207469 then
set LN7=1093684057
elseif GetUnitTypeId(CC7)==1429221446 then
set LN7=1093678660
elseif GetUnitTypeId(CC7)==1162032951 then
set LN7=1093684557
elseif GetUnitTypeId(CC7)==1332179560 then
set LN7=1093687627
else
set CC7=null
return
endif
set H98=GetUnitAbilityLevel(CC7,LN7)
if H98>0 then
call UnitRemoveAbility(CC7,LN7)
call UnitAddAbility(CC7,LN7)
call SetUnitAbilityLevel(CC7,LN7,H98)
endif
endfunction
function FJG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit u=U87(UC7,"Unit")
local integer FKG=UN7(UC7,"itemslot")
local item W38=UnitItemInSlot(u,FKG)
if W38!=null and CE7(RY7(W38))==false and GetWidgetLife(W38)>0 and NJ9(W38)==false then
call SetItemDroppable(W38,true)
endif
call TN7(UC7)
call UA7(t)
set t=null
set W38=null
return false
endfunction
function FMG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit u=U87(UC7,"Unit")
local integer FKG=UN7(UC7,"itemslot")
local item W38=UnitItemInSlot(u,FKG)
call TN7(UC7)
call UA7(t)
if(u!=null and GetUnitTypeId(u)>1 and IsUnitType(u,UNIT_TYPE_DEAD)==false)and(W38!=null and GetWidgetLife(W38)>0)then
set t=CreateTrigger()
set UC7=GetHandleId(t)
call SetItemDroppable(W38,false)
call TQ7(UC7,"itemslot",FKG)
call TU7(UC7,"Unit",u)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(t,Condition(function FJG))
endif
set W38=null
set u=null
set t=null
return false
endfunction
function FNG takes nothing returns nothing
local integer FKG
local unit u=GetTriggerUnit()
local trigger t
local integer UC7
local item W38
if GetIssuedOrderId()==852008 then
set FKG=0
elseif GetIssuedOrderId()==852009 then
set FKG=1
elseif GetIssuedOrderId()==852010 then
set FKG=2
elseif GetIssuedOrderId()==852011 then
set FKG=3
elseif GetIssuedOrderId()==852012 then
set FKG=4
elseif GetIssuedOrderId()==852013 then
set FKG=5
endif
set W38=UnitItemInSlot(u,FKG)
if W38!=null and GetWidgetLife(W38)>0 then
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TQ7(UC7,"itemslot",FKG)
call TU7(UC7,"Unit",u)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function FMG))
endif
set W38=null
set u=null
set t=null
endfunction
function FOG takes nothing returns boolean
if GetIssuedOrderId()==852008 or GetIssuedOrderId()==852009 or GetIssuedOrderId()==852010 or GetIssuedOrderId()==852011 or GetIssuedOrderId()==852012 or GetIssuedOrderId()==852013 then
call FNG()
endif
return false
endfunction
function FPG takes integer E89 returns boolean
return E89!=B5 and E89!=DI4 and E89!=EW and E89!=X0
endfunction
function FQG takes nothing returns nothing
if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
call SetItemPawnable(GetManipulatedItem(),false)
else
call SetItemPawnable(GetManipulatedItem(),true)
endif
endfunction
function FRG takes nothing returns boolean
if GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and FPG(RZ7(GetManipulatedItem()))and RW7(GetTriggerUnit())then
call FQG()
endif
return false
endfunction
function FSG takes nothing returns boolean
local unit CO7=GetTriggerUnit()
local integer BH7=1
if SV7(CO7,ZU[EC])!=null then
set BH7=2
endif
if SU7(CO7,ZU[FV],GetManipulatedItem())!=null then
set BH7=3
endif
if SU7(CO7,ZU[DS4],GetManipulatedItem())!=null then
set BH7=4
endif
if SU7(CO7,ZU[G6],GetManipulatedItem())!=null or SU7(CO7,ZU[H6],GetManipulatedItem())!=null or SU7(CO7,ZU[N6],GetManipulatedItem())!=null then
set BH7=5
endif
if SU7(CO7,ZU[F74],GetManipulatedItem())!=null then
set BH7=6
endif
if SU7(CO7,ZU[LB],GetManipulatedItem())!=null then
set BH7=7
endif
if SU7(CO7,ZU[F6],GetManipulatedItem())!=null then
set BH7=8
endif
if SU7(CO7,ZU[Q1],GetManipulatedItem())!=null then
call UnitAddAbility(CO7,1093686832)
call SetUnitAbilityLevel(CO7,1093686832,BH7)
call UnitMakeAbilityPermanent(CO7,true,1093686832)
else
call UnitRemoveAbility(CO7,1093686832)
endif
set CO7=null
return false
endfunction
function FTG takes nothing returns boolean
local unit CO7=GetTriggerUnit()
local integer BH7=1
if SV7(CO7,ZU[EC])!=null then
set BH7=2
endif
if SU7(CO7,ZU[FV],GetManipulatedItem())!=null then
set BH7=3
endif
if SV7(CO7,ZU[DS4])!=null then
set BH7=4
endif
if SV7(CO7,ZU[G6])!=null or SU7(CO7,ZU[H6],GetManipulatedItem())!=null or SU7(CO7,ZU[N6],GetManipulatedItem())!=null then
set BH7=5
endif
if SV7(CO7,ZU[F74])!=null then
set BH7=6
endif
if SU7(CO7,ZU[LB],GetManipulatedItem())!=null then
set BH7=7
endif
if SV7(CO7,ZU[F6])!=null then
set BH7=8
endif
if SV7(CO7,ZU[Q1])!=null then
call UnitAddAbility(CO7,1093686832)
call SetUnitAbilityLevel(CO7,1093686832,BH7)
call UnitMakeAbilityPermanent(CO7,true,1093686832)
endif
set CO7=null
return false
endfunction
function FUG takes nothing returns nothing
local unit CO7=GetTriggerUnit()
if GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM then
if RZ7(GetManipulatedItem())==DM4 then
call UnitRemoveAbility(CO7,1093685333)
endif
if RZ7(GetManipulatedItem())==T2 then
call UnitRemoveAbility(CO7,1093747287)
endif
if RZ7(GetManipulatedItem())==DK4 then
call UnitRemoveAbility(CO7,1093685333)
call UnitRemoveAbility(CO7,1093686339)
call UnitRemoveAbility(CO7,1093686603)
endif
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
if RZ7(GetManipulatedItem())==DM4 then
call UnitAddAbility(CO7,1093685333)
call UnitMakeAbilityPermanent(CO7,true,1093685333)
endif
if RZ7(GetManipulatedItem())==T2 then
call UnitAddAbility(CO7,1093747287)
call UnitMakeAbilityPermanent(CO7,true,1093747287)
endif
if RZ7(GetManipulatedItem())==DK4 then
call UnitAddAbility(CO7,1093685333)
call UnitMakeAbilityPermanent(CO7,true,1093685333)
call UnitAddAbility(CO7,1093686339)
call UnitMakeAbilityPermanent(CO7,true,1093686339)
call UnitAddAbility(CO7,1093686603)
call UnitMakeAbilityPermanent(CO7,true,1093686603)
endif
endif
set CO7=null
endfunction
function FVG takes nothing returns boolean
if GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and(RZ7(GetManipulatedItem())==DK4 or RZ7(GetManipulatedItem())==DM4 or RZ7(GetManipulatedItem())==T2)then
call FUG()
endif
return false
endfunction
function FWG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local item W38=UK7(UC7,"Item")
if GetTriggerEventId()==EVENT_UNIT_DROP_ITEM and GetManipulatedItem()==W38 then
call TN7(UC7)
call UA7(t)
elseif GetTriggerEventId()!=EVENT_UNIT_DROP_ITEM then
if((LoadInteger(L7,(GetHandleId((CO7))),((4310))))==1)==false then
call SetUnitState(CO7,UNIT_STATE_LIFE,DR8(GetUnitState(CO7,UNIT_STATE_LIFE)-HJ4,1))
endif
endif
set t=null
set CO7=null
set W38=null
return false
endfunction
function FXG takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_DROP_ITEM)
call TriggerAddCondition(t,Condition(function FWG))
call TU7(UC7,"Hero",CO7)
call TB7(UC7,"Item",GetManipulatedItem())
call TriggerEvaluate(t)
set t=null
set CO7=null
endfunction
function FYG takes nothing returns boolean
if GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and RZ7(GetManipulatedItem())==DK4 then
call FXG()
endif
return false
endfunction
function FZG takes unit u returns boolean
local item FAG=CreateItem(1227901771,GetUnitX(u),GetUnitY(u))
local boolean FL9=UnitAddItem(u,FAG)
if FL9==false then
call RemoveItem(FAG)
endif
return FL9
endfunction
function FBG takes unit CO7,item W38,integer F59 returns item
local real x=F69(CO7)
local real y=F19(CO7)
local integer i=0
local boolean array F29
local item Z4
loop
exitwhen i>(UnitInventorySize(CO7)-1)
if UnitItemInSlot(CO7,i)==null and i!=F59 then
set Z4=CreateItem(1227895373,x,y)
call UnitAddItem(CO7,Z4)
set F29[i]=true
else
set F29[i]=false
endif
if i==F59 then
call UnitAddItem(CO7,W38)
endif
set i=i+1
endloop
set i=0
loop
exitwhen i>5
if F29[i]==true then
call RemoveItem(UnitItemInSlot(CO7,i))
endif
set i=i+1
endloop
set HA4=W38
set Z4=null
return HA4
endfunction
function FCG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local integer i=0
local item F3G
local integer E89
local unit H88
local item F6G
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call TT7(GetHandleId(CO7),"LinkenSphere|CD",false)
call TN7(UC7)
call UA7(t)
elseif FZG(CO7)==false then
call TriggerRegisterTimerEvent(t,5.5,false)
else
call TT7(GetHandleId(CO7),"LinkenSphere|CD",false)
set K27=GetOwningPlayer(CO7)
call DisableTrigger(H94)
if RP4[GetPlayerId(GetOwningPlayer(CO7))]>0 then
call SetItemVisible(UnitAddItemById(CO7,1227901005),false)
endif
loop
exitwhen i>5
set F3G=UnitItemInSlot(CO7,i)
set E89=RZ7(F3G)
if E89==A5 then
set IR4=GetItemPlayer(F3G)
call RemoveItem(F3G)
set H88=CreateUnit(GetOwningPlayer(CO7),1697656901,GetUnitX(CO7),GetUnitY(CO7),0)
call UnitAddAbility(H88,1095331446)
set F6G=UnitAddItemById(H88,ZU[W5])
call UnitUseItem(H88,F6G)
set HA4=FBG(CO7,F6G,i)
call SetItemPlayer(F6G,IR4,false)
call SetItemUserData(F6G,1)
call UnitRemoveAbility(H88,1095331446)
set H88=null
set F6G=null
endif
set F3G=null
set i=i+1
endloop
call EnableTrigger(H94)
call TN7(UC7)
call UA7(t)
endif
set t=null
set CO7=null
return false
endfunction
function FLG takes unit CO7 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer i=0
local item F3G
local integer E89
local unit H88
local item F6G
call DisableTrigger(H94)
call TT7(GetHandleId(CO7),"LinkenSphere|CD",true)
call TriggerRegisterTimerEvent(t,20,false)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function FCG))
call TU7(UC7,"Hero",CO7)
loop
exitwhen i>5
set F3G=UnitItemInSlot(CO7,i)
set E89=RZ7(F3G)
if E89==W5 or E89==A5 then
set IR4=GetItemPlayer(F3G)
set K27=IR4
call RemoveItem(F3G)
set H88=CreateUnit(GetOwningPlayer(CO7),1697656901,GetUnitX(CO7),GetUnitY(CO7),0)
call UnitAddAbility(H88,1095331446)
set F6G=UnitAddItemById(H88,ZU[A5])
call UnitUseItem(H88,F6G)
set HA4=FBG(CO7,F6G,i)
call SetItemPlayer(F6G,IR4,false)
call SetItemUserData(F6G,1)
call UnitRemoveAbility(H88,1095331446)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl",CO7,"origin"))
set H88=null
set F6G=null
endif
set F3G=null
set i=i+1
endloop
call EnableTrigger(H94)
set t=null
endfunction
function F1G takes nothing returns boolean
local integer i=1
local unit CO7
local integer id
if D9 then
return false
endif
if HD4>0 then
loop
exitwhen i>5
set id=GetPlayerId(Z7[i])
set CO7=M7[id]
if RP4[id]>0 and CO7!=null and GetUnitTypeId(CO7)>1 and IsUnitType(CO7,UNIT_TYPE_DEAD)==false and UP7(GetHandleId(CO7),"LinkenSphere|CD")==false and CV7(CO7)==false and UP7(GetHandleId(CO7),"MantaBlocked")==false then
call FLG(CO7)
endif
set id=GetPlayerId(A7[i])
set CO7=M7[id]
if RP4[id]>0 and CO7!=null and GetUnitTypeId(CO7)>1 and IsUnitType(CO7,UNIT_TYPE_DEAD)==false and UP7(GetHandleId(CO7),"LinkenSphere|CD")==false and CV7(CO7)==false and UP7(GetHandleId(CO7),"MantaBlocked")==false then
call FLG(CO7)
endif
set i=i+1
endloop
endif
set CO7=null
return false
endfunction
function F0G takes unit hn,item x5 returns integer
local integer i=0
loop
exitwhen i>5
if UnitItemInSlot(hn,i)==x5 then
return i
endif
set i=i+1
endloop
return-1
endfunction
function F5G takes nothing returns nothing
local unit S4=GetTriggerUnit()
local item Z4=GetManipulatedItem()
local integer E89=RZ7(Z4)
local integer F59
call DisableTrigger(H94)
if E89==C3 then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F09(S4,ZU[E6],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif E89==E6 then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F09(S4,ZU[C3],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if E89==JC then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F09(S4,ZU[NC],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif E89==NC then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F09(S4,ZU[JC],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
if E89==E2 then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F09(S4,ZU[F2],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif E89==F2 then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F09(S4,ZU[E2],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
call EnableTrigger(H94)
set S4=null
set Z4=null
endfunction
function F2G takes nothing returns nothing
local unit F_G=GetTriggerUnit()
local item G4G=GetManipulatedItem()
local integer G7G=RZ7(G4G)
local integer FKG
call DisableTrigger(H94)
if G7G==H2 then
set FKG=F0G(F_G,G4G)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(G4G)
set HA4=F09(F_G,ZU[P2],FKG)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif G7G==P2 then
set FKG=F0G(F_G,G4G)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(G4G)
set HA4=F09(F_G,ZU[H2],FKG)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
call EnableTrigger(H94)
set F_G=null
set G4G=null
endfunction
function G8G takes nothing returns nothing
local unit S4=GetTriggerUnit()
local item Z4=GetManipulatedItem()
local integer E89=RZ7(Z4)
local integer F59
call DisableTrigger(H94)
if GetUnitTypeId(S4)!=1211117642 then
if E89==G6 then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
call DisableTrigger(H94)
set HA4=F09(S4,ZU[H6],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif E89==H6 then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
call DisableTrigger(H94)
set HA4=F09(S4,ZU[N6],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif E89==N6 then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
call DisableTrigger(H94)
set HA4=F09(S4,ZU[G6],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
endif
call EnableTrigger(H94)
set S4=null
set Z4=null
endfunction
function G9G takes integer n5 returns integer
if n5==1227894838 then
return QA
elseif n5==1227894840 then
return WA
elseif n5==1227894858 then
return JA
elseif n5==1227894859 then
return NA
elseif n5==1227894839 then
return YA
endif
return-1
endfunction
function GDG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit u=U87(UC7,"Unit")
local integer FKG=UN7(UC7,"itemslot")
local item W38=UnitItemInSlot(u,FKG)
local integer GEG=UN7(UC7,"itemhandleid")
local item F6G
local integer F59
if W38!=null and CE7(RY7(W38))and GetHandleId(W38)==GEG and LO7(u)==false then
set F6G=CreateItem(LoadInteger(L7,GetHandleId(W38),GetHandleId(u)),GetUnitX(u),GetUnitY(u))
call TN7(GetHandleId(W38))
set F59=F0G(u,W38)
set IR4=GetItemPlayer(W38)
call RX7(W38)
set HA4=F09(u,ZU[IA],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call TN7(UC7)
call UA7(t)
call UnitAddItem(u,F6G)
endif
set t=null
set u=null
set W38=null
set F6G=null
return false
endfunction
function GFG takes unit u,item F6G returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer FKG=F0G(u,F6G)
call TQ7(UC7,"itemslot",FKG)
call TQ7(UC7,"itemhandleid",GetHandleId(F6G))
call TU7(UC7,"Unit",u)
call TriggerRegisterTimerEvent(t,120.,true)
call TriggerAddCondition(t,Condition(function GDG))
set t=null
endfunction
function GGG takes nothing returns nothing
local unit u=GetTriggerUnit()
local item W38=GetManipulatedItem()
local integer E89=RY7(W38)
local unit GHG
local integer GIG
local boolean TargetFrog
local integer F59
local item F6G
local integer GJG
if E89==AZ then
set F59=F0G(u,W38)
set GHG=U87(GetHandleId(u),"BottleTargetUnit")
set GIG=UN7(GetHandleId(u),"BottleTargetItemId")
if GetUnitTypeId(GHG)==1852206952 or GetUnitTypeId(GHG)==1852073580 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))
call L57(GetOwningPlayer(u),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
set IR4=GetItemPlayer(W38)
call RX7(W38)
set HA4=F09(u,ZU[IA],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif KN9(GIG)then
set GJG=G9G(GIG)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))
set IR4=GetItemPlayer(W38)
call RX7(W38)
call DisableTrigger(H94)
if GetOwningPlayer(u)==IR4 then
set HA4=F09(u,ZU[GJG],F59)
else
set HA4=F09(u,BU[GJG],F59)
endif
call EnableTrigger(H94)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
set F6G=UnitItemInSlot(u,F59)
call SaveInteger(L7,GetHandleId(F6G),GetHandleId(u),GIG)
call GFG(u,F6G)
endif
elseif E89==IA then
set F59=F0G(u,W38)
set IR4=GetItemPlayer(W38)
call RX7(W38)
set HA4=F09(u,ZU[CZ],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif E89==CZ then
set F59=F0G(u,W38)
set IR4=GetItemPlayer(W38)
call RX7(W38)
set HA4=F09(u,ZU[BZ],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif E89==BZ then
set F59=F0G(u,W38)
set IR4=GetItemPlayer(W38)
call RX7(W38)
set HA4=F09(u,ZU[AZ],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,0)
elseif CE7(E89)then
if LoadInteger(L7,GetHandleId(W38),GetHandleId(u))>0 then
set NH=true
set F59=F0G(u,W38)
set F6G=CreateItem(LoadInteger(L7,GetHandleId(W38),GetHandleId(u)),GetUnitX(u),GetUnitY(u))
call TN7(GetHandleId(W38))
set IR4=GetItemPlayer(W38)
call RX7(W38)
set HA4=F09(u,ZU[IA],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call UnitAddItem(u,F6G)
set NH=false
endif
endif
set u=null
set W38=null
set GHG=null
set F6G=null
endfunction
function GKG takes nothing returns boolean
local integer F59
local real G68
call DisableTrigger(H94)
if RZ7(GetManipulatedItem())==DM4 then
set G68=GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)
set F59=F0G(GetTriggerUnit(),GetManipulatedItem())
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(GetManipulatedItem())
set HA4=F09(GetTriggerUnit(),ZU[DK4],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,DR8(GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-G68,1))
call U67(GetTriggerUnit(),"ArmletOfMordiganState",0.04)
call UW7(GetTriggerUnit(),"ArmletOfMordigan|Active")
endif
if RZ7(GetManipulatedItem())==DK4 then
set G68=GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)
set F59=F0G(GetTriggerUnit(),GetManipulatedItem())
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(GetManipulatedItem())
set HA4=F09(GetTriggerUnit(),ZU[DM4],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,DR8(GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-G68,1))
call UY7(GetTriggerUnit(),"ArmletOfMordigan|Active")
endif
call EnableTrigger(H94)
return false
endfunction
function GMG takes nothing returns nothing
if GetItemTypeId(GetManipulatedItem())==ZU[Y3]then
call L27(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848657713))))
endif
endfunction
function GNG takes nothing returns nothing
local unit S4=GetTriggerUnit()
local item Z4=GetManipulatedItem()
local integer E89=RZ7(Z4)
local integer F59
call DisableTrigger(H94)
if E89==D0 then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F09(S4,ZU[E0],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call NF9(HA4)
elseif E89==E0 then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F09(S4,ZU[J0],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call NF9(HA4)
elseif E89==J0 then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F09(S4,ZU[N0],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call NF9(HA4)
elseif E89==N0 then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F09(S4,ZU[O0],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call NF9(HA4)
elseif E89==O0 then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F09(S4,ZU[R0],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
call NF9(HA4)
endif
call EnableTrigger(H94)
set S4=null
set Z4=null
endfunction
function GOG takes nothing returns nothing
local unit S4=GetTriggerUnit()
local item Z4=GetManipulatedItem()
local integer E89=RZ7(Z4)
local integer F59
call DisableTrigger(H94)
if E89==D1 and GetItemCharges(Z4)==0 then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F09(S4,ZU[F1],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif E89==E1 and GetItemCharges(Z4)==0 then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F09(S4,ZU[H1],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
elseif E89==VB and GetItemCharges(Z4)==0 then
set F59=F0G(S4,Z4)
set IR4=GetItemPlayer(GetManipulatedItem())
call RemoveItem(Z4)
set HA4=F09(S4,ZU[WB],F59)
call SetItemPlayer(HA4,IR4,false)
call SetItemUserData(HA4,1)
endif
call EnableTrigger(H94)
set S4=null
set Z4=null
endfunction
function GPG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
if FZG(p5)then
call UnitAddItemById(p5,1227901005)
endif
call TN7(UC7)
call UA7(t)
call TT7(GetHandleId(p5),"MantaBlocked",false)
set t=null
set p5=null
return false
endfunction
function GQG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local item Z4=GetManipulatedItem()
local integer E89=RZ7(Z4)
local trigger t
if(E89==Y0 or E89==B0)and UP7(GetHandleId(p5),"MantaBlocked")==true then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.41,false)
call TriggerAddCondition(t,Condition(function GPG))
call TU7(GetHandleId(t),"Source",p5)
set t=null
endif
set p5=null
set Z4=null
endfunction
function GRG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=U87(OC7,"Source")
local integer CP8=UN7(OC7,"Count")
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1097163124 then
call TQ7(OC7,"Count",16)
endif
elseif LO7(EC8)or GetTriggerEventId()==EVENT_UNIT_DEATH or CP8==0 then
call UnitRemoveAbility(EC8,1093685334)
call UnitRemoveAbility(EC8,1110456140)
call UY7(EC8,"ActiveTango")
call TN7(OC7)
call UA7(t)
else
call SetUnitState(EC8,UNIT_STATE_LIFE,GetUnitState(EC8,UNIT_STATE_LIFE)+115/ 16)
call TQ7(OC7,"Count",CP8-1)
endif
return false
endfunction
function GSG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call UW7(p5,"ActiveTango")
call LM7(p5,1093685334)
call TU7(UC7,"Source",p5)
call TQ7(UC7,"Count",16)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GRG))
call TriggerEvaluate(t)
set p5=null
set t=null
endfunction
function GTG takes nothing returns nothing
if GetSpellAbilityId()==1097163124 and UU7(GetTriggerUnit(),"ActiveTango")==false then
call GSG()
endif
endfunction
function GUG takes integer id,real x,real y returns nothing
if IsPointInRegion(T94,x,y)==false then
set T84=T84+1
set S24[T84]=Player(id)
set S_4[T84]=x
set T44[T84]=y
set T74[T84]=(TimerGetElapsed(W))
endif
endfunction
function GVG takes integer id,real x,real y returns integer
local real HA8=(TimerGetElapsed(W))
local integer i=0
local integer B78=0
if IsPointInRegion(T94,x,y)==true then
return B78
endif
loop
exitwhen i>T84
if(HA8<T74[i]+e4)and(RF7(x,y,S_4[i],T44[i])<o4*2+50)and IsPlayerAlly(Player(id),S24[i])==true then
set B78=B78+1
endif
set i=i+1
endloop
return B78
endfunction
function GWG takes integer GXG returns integer
if GXG==GetPlayerId(Z7[1])then
return 1747993161
elseif GXG==GetPlayerId(Z7[2])then
return 1747993163
elseif GXG==GetPlayerId(Z7[3])then
return 1747993159
elseif GXG==GetPlayerId(Z7[4])then
return 1747993158
elseif GXG==GetPlayerId(Z7[5])then
return 1747993164
elseif GXG==GetPlayerId(A7[1])then
return 1747993160
elseif GXG==GetPlayerId(A7[2])then
return 1747993162
elseif GXG==GetPlayerId(A7[3])then
return 1747993165
elseif GXG==GetPlayerId(A7[4])then
return 1747992885
elseif GXG==GetPlayerId(A7[5])then
return 1747993166
endif
return 1747993166
endfunction
function GYG takes integer GXG returns integer
return 1747992920
endfunction
function GZG takes integer GXG returns string
if GXG==GetPlayerId(Z7[1])then
return"war3mapImported\\TeleportTarget_Blue.mdx"
elseif GXG==GetPlayerId(Z7[2])then
return"war3mapImported\\TeleportTarget_Teal.mdx"
elseif GXG==GetPlayerId(Z7[3])then
return"war3mapImported\\TeleportTarget_Purple.mdx"
elseif GXG==GetPlayerId(Z7[4])then
return"war3mapImported\\TeleportTarget_Yellow.mdx"
elseif GXG==GetPlayerId(Z7[5])then
return"war3mapImported\\TeleportTarget_Orange.mdx"
elseif GXG==GetPlayerId(A7[1])then
return"war3mapImported\\TeleportTarget_Pink.mdx"
elseif GXG==GetPlayerId(A7[2])then
return"war3mapImported\\TeleportTarget_Gray.mdx"
elseif GXG==GetPlayerId(A7[3])then
return"war3mapImported\\TeleportTarget_LightBlue.mdx"
elseif GXG==GetPlayerId(A7[4])then
return"war3mapImported\\TeleportTarget_DarkGreen.mdx"
elseif GXG==GetPlayerId(A7[5])then
return"war3mapImported\\TeleportTarget_Brown.mdx"
endif
return"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl"
endfunction
function GAG takes integer GXG returns string
return"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl"
endfunction
function GBG takes nothing returns boolean
local real d
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(GetFilterUnit(),1098085732)==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IP4))==true and GetUnitTypeId(GetFilterUnit())!=1966092371 and GetUnitTypeId(GetFilterUnit())!=1852010352 and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false then
set d=RF7(IK4,IM4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
if d<IJ4 then
set IJ4=d
set IN4=GetFilterUnit()
endif
endif
return false
endfunction
function GCG takes unit S4,real x,real y returns unit
local group g=CX7()
set IN4=null
set IP4=S4
set IJ4=99999
set IK4=x
set IM4=y
call GroupEnumUnitsInRange(g,x,y,99999,Condition(function GBG))
call CW7(g)
set g=null
return IN4
endfunction
function G3G takes unit u returns boolean
local integer id=GetUnitTypeId(u)
return id==1848657480 or id==1848657462 or id==1848657481 or id==1848657482
endfunction
function G6G takes unit u returns boolean
local integer id=GetUnitTypeId(u)
return id==1966092370 or id==1970107511 or id==1697657398 or id==1700946284
endfunction
function GLG takes nothing returns boolean
local real d
if(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 or G6G(GetFilterUnit())or GetUnitTypeId(GetFilterUnit())==1852206952 or GetUnitTypeId(GetFilterUnit())==1852073580 or G3G(GetFilterUnit()))and LO7(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),1098085732)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IP4))==true and GetOwningPlayer(GetFilterUnit())!=C7 and IsUnitIllusion(GetFilterUnit())==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false and GetUnitTypeId(GetFilterUnit())!=1848657461 then
set d=RF7(IK4,IM4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
if d<IJ4 then
set IJ4=d
set IN4=GetFilterUnit()
endif
endif
return false
endfunction
function G1G takes unit PF7,real x,real y returns unit
local group g=CX7()
set IN4=null
set IP4=PF7
set IJ4=99999
set IK4=x
set IM4=y
call GroupEnumUnitsInRange(g,x,y,99999,Condition(function GLG))
call CW7(g)
set g=null
return IN4
endfunction
function G0G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=(LoadUnitHandle(L7,(UC7),(14)))
local real x=(LoadReal(L7,(UC7),(6)))
local real y=(LoadReal(L7,(UC7),(7)))
local unit G5G=(LoadUnitHandle(L7,(UC7),(448)))
local unit G2G=(LoadUnitHandle(L7,(UC7),(447)))
local ubersplat G_G=(LoadUbersplatHandle(L7,(UC7),(131)))
local integer B78=(LoadInteger(L7,(UC7),(34)))
local real F98=(LoadReal(L7,(UC7),(57)))
local real HA8=UO7(UC7,"OriginalTime")
local integer id=GetPlayerId(GetOwningPlayer(CO7))
local boolean H4G=false
local integer i=0
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
if GetSpellAbilityId()==1093751349 or GetSpellAbilityId()==1093743415 then
set H4G=true
endif
else
set B78=B78+1
call SaveInteger(L7,(UC7),(34),(B78))
if B78==1 then
if F98>3 then
call SetUnitAnimationByIndex(G5G,1)
call SetUnitAnimationByIndex(G2G,1)
endif
elseif B78==2 then
set H4G=true
else
endif
endif
if H4G then
call SaveInteger(L7,(GetHandleId((CO7))),((4256)),(2))
call KillUnit(G5G)
call KillUnit(G2G)
call DestroyUbersplat(G_G)
call FlushChildHashtable(L7,(UC7))
call UA7(t)
if B78==2 then
call DestroyEffect(AddSpecialEffect(GAG(id),GetUnitX(CO7),GetUnitY(CO7)))
call DestroyEffect(AddSpecialEffect(GZG(id),x,y))
call SetUnitX(CO7,x)
call SetUnitY(CO7,y)
call PauseUnit(CO7,true)
call PauseUnit(CO7,false)
call D28(x,y,240)
set IN4=CO7
call ExecuteFunc("H7G")
endif
endif
set hq[832+GetPlayerId(GetOwningPlayer(CO7))]=0
set t=null
set CO7=null
set G5G=null
set G2G=null
set G_G=null
return false
endfunction
function H8G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit CC7=(LoadUnitHandle(L7,(OC7),(14)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
local unit H9G=(LoadUnitHandle(L7,(OC7),(448)))
local unit HDG=(LoadUnitHandle(L7,(OC7),(447)))
local ubersplat TD9=(LoadUbersplatHandle(L7,(OC7),(131)))
local integer CP8=(LoadInteger(L7,(OC7),(34)))
local real H48=(LoadReal(L7,(OC7),(57)))
local real BV8=(LoadReal(L7,(OC7),(442)))
local integer id=GetPlayerId(GetOwningPlayer(CC7))
local boolean OW7=false
local integer i=0
local integer B68
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
if GetSpellAbilityId()==1093808945 then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(177))))
call SaveInteger(L7,(GetHandleId((CC7))),((4256)),(2))
call KillUnit(H9G)
call KillUnit(HDG)
call DestroyUbersplat(TD9)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveType(O07,UNIT_TYPE_PEON)
set h8[176+id]=null
endif
elseif GetTriggerEventId()==EVENT_UNIT_DEATH then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(177))))
call UnitRemoveType(O07,UNIT_TYPE_PEON)
call SaveInteger(L7,(GetHandleId((CC7))),((4256)),(2))
call KillUnit(H9G)
call KillUnit(HDG)
call DestroyUbersplat(TD9)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set h8[176+id]=null
else
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(177))))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(CC7),GetUnitY(CC7)))
call SaveInteger(L7,(GetHandleId((CC7))),((4256)),(2))
call KillUnit(H9G)
call KillUnit(HDG)
call DestroyUbersplat(TD9)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveType(O07,UNIT_TYPE_PEON)
call SetUnitX(CC7,GetUnitX(O07)-1)
call SetUnitY(CC7,GetUnitY(O07)-1)
call PauseUnit(CC7,true)
call PauseUnit(CC7,false)
call D28(x,y,240)
set IN4=CC7
call ExecuteFunc("H7G")
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(CC7),GetUnitY(CC7)))
set h8[176+id]=null
endif
set t=null
set CC7=null
set H9G=null
set HDG=null
set TD9=null
set O07=null
return false
endfunction
function HEG takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local location l
local real x
local real y
local real a
local trigger t
local integer UC7
local unit G5G
local unit G2G
local ubersplat G_G
local integer id=GetPlayerId(GetOwningPlayer(CO7))
local integer B78
local real HFG
if(XP4 and GetSpellAbilityId()==1093743415)then
set XP4=false
call SetUnitState(CO7,UNIT_STATE_MANA,GetUnitState(CO7,UNIT_STATE_MANA)+75)
return
endif
set t=CreateTrigger()
set UC7=GetHandleId(t)
call SaveInteger(L7,(GetHandleId((CO7))),((4256)),(1))
if m5==null then
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
if GetSpellAbilityId()==1093751349 then
if x==TW4[id]and y==TX4[id]then
if ZC7(GetOwningPlayer(CO7))then
set x=GetUnitX(IZ4)
set y=GetUnitY(IZ4)
else
set x=GetUnitX(JA4)
set y=GetUnitY(JA4)
endif
endif
endif
set m5=GCG(CO7,x,y)
call RemoveLocation(l)
else
set x=GetUnitX(m5)
set y=GetUnitY(m5)
endif
if RF7(x,y,GetUnitX(m5),GetUnitY(m5))>o4 then
set a=Atan2(y-GetUnitY(m5),x-GetUnitX(m5))
set x=GetUnitX(m5)+o4*Cos(a)
set y=GetUnitY(m5)+o4*Sin(a)
elseif RF7(x,y,GetUnitX(m5),GetUnitY(m5))<50 then
set a=Atan2(y-GetUnitY(m5),x-GetUnitX(m5))
set x=GetUnitX(m5)+120*Cos(a)
set y=GetUnitY(m5)+120*Sin(a)
endif
if IsPointInRegion(IU4,x,y)==true then
set a=Atan2(y-GetUnitY(m5),x-GetUnitX(m5))
set x=GetUnitX(m5)+200*Cos(a)
set y=GetUnitY(m5)+200*Sin(a)
endif
set x=D78(x)
set y=D88(y)
if(IsUnitAlly(CO7,GetLocalPlayer())and GetLocalPlayer()!=GetOwningPlayer(CO7))or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
call PingMinimapEx(x,y,3,255,255,255,false)
endif
set G2G=CreateUnit(GetOwningPlayer(CO7),GWG(id),x,y,0)
set G5G=CreateUnit(GetOwningPlayer(CO7),GYG(id),GetUnitX(CO7),GetUnitY(CO7),0)
set G_G=CreateUbersplat(GetUnitX(CO7),GetUnitY(CO7),"SCTP",255,255,255,255,false,false)
if IsUnitVisible(CO7,GetLocalPlayer())==true then
call SetUbersplatRenderAlways(G_G,true)
else
call SetUbersplatRenderAlways(G_G,false)
endif
set B78=GVG(GetPlayerId(GetOwningPlayer(CO7)),x,y)
if B78>0 then
set B78=B78+1
endif
set HFG=3+B78
call GUG(GetPlayerId(GetOwningPlayer(CO7)),x,y)
if B78>0 then
call SetUnitAnimationByIndex(G5G,2)
call SetUnitAnimationByIndex(G2G,2)
endif
call TriggerRegisterTimerEvent(t,HFG-3,false)
call TriggerRegisterTimerEvent(t,HFG,false)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function G0G))
call E88(GetOwningPlayer(CO7),HFG,x,y,200)
call SaveUnitHandle(L7,(UC7),(447),(G2G))
call SaveUnitHandle(L7,(UC7),(448),(G5G))
call SaveReal(L7,(UC7),(6),((x)*1.0))
call SaveReal(L7,(UC7),(7),((y)*1.0))
call TR7(UC7,"OriginalTime",TimerGetElapsed(W))
call SaveReal(L7,(UC7),(57),((HFG)*1.0))
call SaveUbersplatHandle(L7,(UC7),(131),(G_G))
call SaveUnitHandle(L7,(UC7),(14),(CO7))
call SaveInteger(L7,(UC7),(34),(0))
call EB8(CO7,VR4,x,y,2400)
set h8[176+id]=m5
set CO7=null
set m5=null
set G5G=null
set G2G=null
set l=null
set t=null
set G_G=null
endfunction
function HGG takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local location l
local real x
local real y
local real a
local trigger t
local integer OC7
local unit H9G
local unit HDG
local ubersplat TD9
local integer id=GetPlayerId(GetOwningPlayer(CC7))
local integer CP8
local real HHG
set t=CreateTrigger()
set OC7=GetHandleId(t)
if O07==null then
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
if x==TW4[id]and y==TX4[id]then
if ZC7(GetOwningPlayer(CC7))then
set x=GetUnitX(IZ4)
set y=GetUnitY(IZ4)
else
set x=GetUnitX(JA4)
set y=GetUnitY(JA4)
endif
endif
set O07=G1G(CC7,x,y)
call RemoveLocation(l)
endif
set x=GetUnitX(O07)
set y=GetUnitY(O07)
if(IsUnitAlly(CC7,GetLocalPlayer())and GetLocalPlayer()!=GetOwningPlayer(CC7))or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
call PingMinimapEx(x,y,3,255,255,255,false)
endif
set TD9=CreateUbersplat(GetUnitX(CC7),GetUnitY(CC7),"SCTP",255,255,255,255,false,false)
if IsUnitVisible(CC7,GetLocalPlayer())==true then
call SetUbersplatRenderAlways(TD9,true)
else
call SetUbersplatRenderAlways(TD9,false)
endif
set HHG=3
call UnitAddType(O07,UNIT_TYPE_PEON)
call TriggerRegisterTimerEvent(t,HHG,false)
call TriggerRegisterUnitEvent(t,CC7,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function H8G))
call E88(GetOwningPlayer(CC7),HHG,x,y,200)
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
call SaveReal(L7,(OC7),(442),(((TimerGetElapsed(W)))*1.0))
call SaveReal(L7,(OC7),(57),((HHG)*1.0))
call SaveUbersplatHandle(L7,(OC7),(131),(TD9))
call SaveUnitHandle(L7,(OC7),(14),(CC7))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveInteger(L7,(OC7),(34),(0))
call SaveEffectHandle(L7,(OC7),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",CC7,"origin")))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",CC7,"origin")))
call SaveEffectHandle(L7,(OC7),(177),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",O07,"origin")))
call EB8(CC7,VR4,x,y,2400)
set CC7=null
set O07=null
set H9G=null
set HDG=null
set l=null
set t=null
set TD9=null
endfunction
function HIG takes nothing returns nothing
if(GetSpellAbilityId()==1093751349 or GetSpellAbilityId()==1093743415)and RW7(GetTriggerUnit())==false then
call HEG()
endif
if GetSpellAbilityId()==1093808945 then
call HGG()
endif
endfunction
function HJG takes nothing returns nothing
if GetSpellAbilityId()==1093743415 and GetSpellTargetItem()!=null then
call IssueImmediateOrder(GetTriggerUnit(),"stop")
if ZC7(GetOwningPlayer(GetTriggerUnit()))then
call UnitUseItemTarget(GetTriggerUnit(),SV7(GetTriggerUnit(),YC),IZ4)
set XP4=true
else
call UnitUseItemTarget(GetTriggerUnit(),SV7(GetTriggerUnit(),YC),JA4)
set XP4=true
endif
endif
endfunction
function HKG takes nothing returns nothing
if ID7==(LoadInteger(L7,(GetHandleId(GetEnumUnit())),(784)))then
call KillUnit(GetEnumUnit())
endif
endfunction
function HMG takes nothing returns boolean
local integer i=GetUnitTypeId(GetFilterUnit())
return i==1848651848 or i==1848651847 or i==1848651851 or i==1848651850 or i==1848651841 or i==1848651830
endfunction
function HNG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit HOG
local unit HPG
local integer HQG
local integer HRG
local group g=CX7()
local real a=GetUnitFacing(EC8)*bj_DEGTORAD
local real x1=GetUnitX(EC8)+50*Cos(a)
local real y1=GetUnitY(EC8)+50*Sin(a)
local real x2=GetUnitX(EC8)+50*Cos(a)
local real y2=GetUnitY(EC8)+50*Sin(a)
if GetSpellAbilityId()==1093683266 then
set HQG=1848651848
set HRG=1848651850
elseif GetSpellAbilityId()==1093682227 then
set HQG=1848651847
set HRG=1848651841
elseif GetSpellAbilityId()==1093682246 then
set HQG=1848651851
set HRG=1848651830
endif
set ID7=GetUnitTypeId(EC8)
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(GetTriggerUnit()),Condition(function HMG))
call ForGroup(g,function HKG)
call CW7(g)
set HOG=CreateUnit(GetOwningPlayer(EC8),HQG,x1,y1,GetUnitFacing(EC8))
call SaveInteger(L7,(GetHandleId(HOG)),(784),(ID7))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",HOG,"origin"))
call UnitApplyTimedLife(HOG,1112820806,35)
set HPG=CreateUnit(GetOwningPlayer(EC8),HRG,x2,y2,GetUnitFacing(EC8))
call SaveInteger(L7,(GetHandleId(HPG)),(784),(ID7))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",HPG,"origin"))
call UnitApplyTimedLife(HPG,1112820806,35)
set g=null
set HOG=null
set HPG=null
set EC8=null
endfunction
function HSG takes nothing returns nothing
if GetSpellAbilityId()==1093683266 or GetSpellAbilityId()==1093682227 or GetSpellAbilityId()==1093682246 then
call HNG()
endif
endfunction
function HTG takes nothing returns nothing
if GetSpellAbilityId()==1093748304 then
call DY8("Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl",GetTriggerUnit(),"origin",3.5)
call E28(GetTriggerUnit(),1093747534,1,3.5)
endif
endfunction
function HUG takes nothing returns boolean
return(UU7(GetFilterUnit(),"4323"))
endfunction
function HVG takes nothing returns nothing
local group g
local unit u
if GetSpellAbilityId()==1094935400 then
set g=CX7()
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(GetTriggerUnit()),Condition(function HUG))
set u=FirstOfGroup(g)
call CW7(g)
if u!=null then
call KillUnit(u)
endif
call UW7(GetSpellTargetUnit(),"4323")
call UnitAddAbility(GetSpellTargetUnit(),1097167976)
call UnitAddAbility(GetSpellTargetUnit(),1094939243)
call DV8(GetSpellTargetUnit())
set g=null
set u=null
endif
endfunction
function HWG takes integer i returns integer
if i==OK4 then
return OS4
endif
if i==OM4 then
return OT4
endif
if i==ON4 then
return OU4
endif
if i==OO4 then
return OV4
endif
if i==OP4 then
return OW4
endif
if i==OQ4 then
return OX4
endif
if i==OR4 then
return OY4
endif
return 0
endfunction
function HXG takes integer i returns integer
if i==OK4 then
return 10
endif
if i==OM4 then
return 9
endif
if i==ON4 then
return 8
endif
if i==OO4 then
return 7
endif
if i==OP4 then
return 6
endif
if i==OQ4 then
return 5
endif
if i==OR4 then
return 4
endif
return 0
endfunction
function HYG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
if LO7(CO7)==false and CO7!=null then
call SetUnitScale(CO7,L37(CO7)*CS,L37(CO7)*CS,L37(CO7)*CS)
endif
call TN7(UC7)
call UA7(t)
set t=null
set CO7=null
return false
endfunction
function HZG takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local unit H88=CreateUnit(GetOwningPlayer(CC7),1697656901,GetUnitX(CC7),GetUnitY(CC7),0)
local trigger t=CreateTrigger()
local real H48=HXG(GetSpellAbilityId())
call EN8(CC7,OZ4,H48)
call UnitMakeAbilityPermanent(CC7,true,OZ4)
call SetPlayerAbilityAvailable(GetOwningPlayer(CC7),OZ4,false)
call UnitAddAbility(H88,HWG(GetSpellAbilityId()))
call IssueTargetOrder(H88,"antimagicshell",CC7)
call DL9(CC7,0,0)
if RW7(CC7)then
call EM8(CC7,H48,3)
else
call EM8(CC7,H48,1.4)
endif
call TriggerRegisterTimerEvent(t,H48+7.,false)
call TriggerAddCondition(t,Condition(function HYG))
call TU7(GetHandleId(t),"Hero",CC7)
set t=null
set CC7=null
set H88=null
endfunction
function HAG takes nothing returns nothing
if HWG(GetSpellAbilityId())>0 then
call HZG()
endif
endfunction
function HBG takes nothing returns nothing
if GetSpellAbilityId()==1093677655 then
call UnitResetCooldown(GetTriggerUnit())
endif
endfunction
function HCG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit KU9=U87(UC7,"chicken")
local integer K39=UN7(UC7,"newability")
local integer K69=UN7(UC7,"itemId0")
local integer KL9=UN7(UC7,"itemId1")
local integer K19=UN7(UC7,"itemId2")
local integer K09=UN7(UC7,"itemId3")
local integer K59=UN7(UC7,"itemId4")
local integer K29=UN7(UC7,"itemId5")
local player K_9=UD7(UC7,"pPlayer0")
local player M49=UD7(UC7,"pPlayer1")
local player M79=UD7(UC7,"pPlayer2")
local player M89=UD7(UC7,"pPlayer3")
local player M99=UD7(UC7,"pPlayer4")
local player MD9=UD7(UC7,"pPlayer5")
local integer ME9=UN7(UC7,"charges0")
local integer MF9=UN7(UC7,"charges1")
local integer MG9=UN7(UC7,"charges2")
local integer MH9=UN7(UC7,"charges3")
local integer MI9=UN7(UC7,"charges4")
local integer MJ9=UN7(UC7,"charges5")
call DisableTrigger(H94)
if GetTriggerEvalCount(t)==1 then
call UnitAddAbility(KU9,K39)
if OT[GetPlayerId(GetOwningPlayer(KU9))]==false then
call UnitRemoveType(KU9,UNIT_TYPE_PEON)
else
call UnitAddType(KU9,UNIT_TYPE_PEON)
endif
else
if K69>0 then
set HA4=CreateItem(K69,GetUnitX(KU9),GetUnitY(KU9))
call UnitAddItem(KU9,HA4)
call SetItemPlayer(HA4,K_9,false)
call SetItemUserData(HA4,1)
endif
if ME9>0 then
call SetItemCharges(HA4,ME9)
endif
if KL9>0 then
set HA4=CreateItem(KL9,GetUnitX(KU9),GetUnitY(KU9))
call UnitAddItem(KU9,HA4)
call SetItemPlayer(HA4,M49,false)
call SetItemUserData(HA4,1)
endif
if MF9>0 then
call SetItemCharges(HA4,MF9)
endif
if K19>0 then
set HA4=CreateItem(K19,GetUnitX(KU9),GetUnitY(KU9))
call UnitAddItem(KU9,HA4)
call SetItemPlayer(HA4,M79,false)
call SetItemUserData(HA4,1)
endif
if MG9>0 then
call SetItemCharges(HA4,MG9)
endif
if K09>0 then
set HA4=CreateItem(K09,GetUnitX(KU9),GetUnitY(KU9))
call UnitAddItem(KU9,HA4)
call SetItemPlayer(HA4,M89,false)
call SetItemUserData(HA4,1)
endif
if MH9>0 then
call SetItemCharges(HA4,MH9)
endif
if K59>0 then
set HA4=CreateItem(K59,GetUnitX(KU9),GetUnitY(KU9))
call UnitAddItem(KU9,HA4)
call SetItemPlayer(HA4,M99,false)
call SetItemUserData(HA4,1)
endif
if MI9>0 then
call SetItemCharges(HA4,MI9)
endif
if K29>0 then
set HA4=CreateItem(K29,GetUnitX(KU9),GetUnitY(KU9))
call UnitAddItem(KU9,HA4)
call SetItemPlayer(HA4,MD9,false)
call SetItemUserData(HA4,1)
endif
if MJ9>0 then
call SetItemCharges(HA4,MJ9)
endif
if OT[GetPlayerId(GetOwningPlayer(KU9))]==false then
call UnitRemoveType(KU9,UNIT_TYPE_PEON)
else
call UnitAddType(KU9,UNIT_TYPE_PEON)
endif
call SetUnitFlyHeight(KU9,240,0)
call TN7(UC7)
call UA7(t)
endif
call EnableTrigger(H94)
set t=null
set KU9=null
set K_9=null
set M49=null
set M79=null
set M89=null
set M99=null
set MD9=null
return false
endfunction
function H3G takes unit KU9 returns nothing
local integer MM9=GetUnitTypeId(KU9)
local real x=GetUnitX(KU9)
local real y=GetUnitY(KU9)
local item MN9
local item MO9
local item MP9
local item MQ9
local item MR9
local item MS9
local player K_9
local player M49
local player M79
local player M89
local player M99
local player MD9
local integer K69
local integer KL9
local integer K19
local integer K09
local integer K59
local integer K29
local integer ME9=-1
local integer MF9=-1
local integer MG9=-1
local integer MH9=-1
local integer MI9=-1
local integer MJ9=-1
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer K39
local item W38
local integer i
local item H6G
set i=0
loop
exitwhen i>5
set H6G=UnitItemInSlot(KU9,i)
if RY7(H6G)==EW then
call UnitRemoveItem(KU9,H6G)
endif
set i=i+1
endloop
set MN9=UnitItemInSlot(KU9,0)
set MO9=UnitItemInSlot(KU9,1)
set MP9=UnitItemInSlot(KU9,2)
set MQ9=UnitItemInSlot(KU9,3)
set MR9=UnitItemInSlot(KU9,4)
set MS9=UnitItemInSlot(KU9,5)
set K69=GetItemTypeId(MN9)
set KL9=GetItemTypeId(MO9)
set K19=GetItemTypeId(MP9)
set K09=GetItemTypeId(MQ9)
set K59=GetItemTypeId(MR9)
set K29=GetItemTypeId(MS9)
set K_9=GetItemPlayer(MN9)
set M49=GetItemPlayer(MO9)
set M79=GetItemPlayer(MP9)
set M89=GetItemPlayer(MQ9)
set M99=GetItemPlayer(MR9)
set MD9=GetItemPlayer(MS9)
set W38=MN9
if GetItemType(W38)==ITEM_TYPE_ARTIFACT or EK9(RY7(W38))then
set ME9=GetItemCharges(W38)
endif
set W38=MO9
if GetItemType(W38)==ITEM_TYPE_ARTIFACT or EK9(RY7(W38))then
set MF9=GetItemCharges(W38)
endif
set W38=MP9
if GetItemType(W38)==ITEM_TYPE_ARTIFACT or EK9(RY7(W38))then
set MG9=GetItemCharges(W38)
endif
set W38=MQ9
if GetItemType(W38)==ITEM_TYPE_ARTIFACT or EK9(RY7(W38))then
set MH9=GetItemCharges(W38)
endif
set W38=MR9
if GetItemType(W38)==ITEM_TYPE_ARTIFACT or EK9(RY7(W38))then
set MI9=GetItemCharges(W38)
endif
set W38=MS9
if GetItemType(W38)==ITEM_TYPE_ARTIFACT or EK9(RY7(W38))then
set MJ9=GetItemCharges(W38)
endif
call RX7(MN9)
call RX7(MO9)
call RX7(MP9)
call RX7(MQ9)
call RX7(MR9)
call RX7(MS9)
if ZC7(GetOwningPlayer(KU9))then
set K39=1395667017
else
set K39=1395667018
endif
if GetRandomInt(1,3)==1 then
set K39=1395667034
endif
call TA7(UC7,"pPlayer0",K_9)
call TA7(UC7,"pPlayer1",M49)
call TA7(UC7,"pPlayer2",M79)
call TA7(UC7,"pPlayer3",M89)
call TA7(UC7,"pPlayer4",M99)
call TA7(UC7,"pPlayer5",MD9)
call TQ7(UC7,"itemId0",K69)
call TQ7(UC7,"itemId1",KL9)
call TQ7(UC7,"itemId2",K19)
call TQ7(UC7,"itemId3",K09)
call TQ7(UC7,"itemId4",K59)
call TQ7(UC7,"itemId5",K29)
call TQ7(UC7,"charges0",ME9)
call TQ7(UC7,"charges1",MF9)
call TQ7(UC7,"charges2",MG9)
call TQ7(UC7,"charges3",MH9)
call TQ7(UC7,"charges4",MI9)
call TQ7(UC7,"charges5",MJ9)
call TU7(UC7,"chicken",KU9)
call TQ7(UC7,"newability",K39)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function HCG))
set t=null
set KU9=null
set MN9=null
set MO9=null
set MP9=null
set MQ9=null
set MR9=null
set MS9=null
set K_9=null
set M49=null
set M79=null
set M89=null
set M99=null
set MD9=null
endfunction
function HLG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(U87(OC7,"Source"))
local item H1G=SV7(EC8,ZU[EX4])
if H1G==null then
set H1G=SV7(EC8,BU[EX4])
endif
if H1G!=null then
call RemoveItem(H1G)
call H3G(EC8)
else
call L27(GetOwningPlayer(EC8),GetObjectName(X84))
endif
call TN7(OC7)
call UA7(t)
set t=null
set EC8=null
return false
endfunction
function H0G takes unit EC8 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call KP9(EC8)
call TriggerRegisterTimerEvent(t,0.05,false)
call TriggerAddCondition(t,Condition(function HLG))
call TU7(OC7,"Source",EC8)
set t=null
endfunction
function H5G takes nothing returns boolean
if GetSpellAbilityId()==1093683012 then
call H0G(GetTriggerUnit())
endif
return false
endfunction
function H2G takes nothing returns boolean
local unit CC7=GetTriggerUnit()
local item JM8=GetManipulatedItem()
local integer id=GetItemTypeId(JM8)
local integer i
if(id==ZU[XC]or id==ZU[F6])and IsUnitType(CC7,UNIT_TYPE_HERO)==true then
set TW4[GetPlayerId(GetOwningPlayer(CC7))]=GetItemX(JM8)
set TX4[GetPlayerId(GetOwningPlayer(CC7))]=GetItemY(JM8)
endif
call FHG(CC7,JM8)
call FIG(CC7,JM8)
if(GetItemTypeId(JM8)==ZU[DK4]or GetItemTypeId(JM8)==ZU[DM4])and RW7(CC7)then
call UnitRemoveItem(CC7,JM8)
elseif GetItemTypeId(JM8)==ZU[DT4]and IsUnitType(CC7,UNIT_TYPE_HERO)==true then
set i=(LoadInteger(L7,(GetHandleId(CC7)),(750)))
if i>0 then
if(LoadBoolean(L7,(GetHandleId(CC7)),(751)))==false then
call SaveBoolean(L7,(GetHandleId(CC7)),(751),(true))
call SetItemCharges(JM8,i)
endif
endif
elseif GetItemTypeId(JM8)==ZU[X0]and GetUnitTypeId(CC7)!=1848651852 and NX4==false then
set NW4=CC7
set NX4=true
call II8("AegisOn",GetPlayerId(GetOwningPlayer(CC7)))
call BC7(bj_FORCE_ALL_PLAYERS,10.00,Q[GetPlayerId(GetOwningPlayer(CC7))]+GetUnitName(CC7)+"|r "+GetObjectName(WF4))
elseif GetItemTypeId(JM8)==ZU[EX4]and RU7(CC7)then
call H0G(CC7)
elseif GetItemTypeId(JM8)==ZU[G64]and GetUnitTypeId(CC7)==1164799855 then
call SetPlayerTechResearched(GetOwningPlayer(CC7),1378889802,1)
elseif GetItemTypeId(JM8)==ZU[G04]and GetUnitTypeId(CC7)==1211117641 then
set IN4=CC7
call ExecuteFunc("LYD")
elseif GetItemTypeId(JM8)==ZU[GB4]and GetUnitTypeId(CC7)==1432580716 then
call UnitAddAbility(CC7,1093815106)
call UnitRemoveAbility(CC7,1093815106)
call AddUnitAnimationProperties(CC7,"upgrade",true)
call SetPlayerTechResearched(GetOwningPlayer(CC7),1378889803,1)
endif
set CC7=null
set JM8=null
return false
endfunction
function H_G takes nothing returns nothing
local unit I4G=GetTriggerUnit()
local item I7G=SV7(I4G,ZU[EX4])
if I7G==null then
set I7G=SV7(I4G,BU[EX4])
endif
if I7G!=null then
call RX7(I7G)
call UnitRemoveAbility(I4G,1093686866)
call UnitAddAbility(I4G,1093686869)
call SetUnitState(I4G,UNIT_STATE_MANA,400)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",I4G,"origin"))
else
call L27(GetOwningPlayer(I4G),(GetObjectName((1848652369))))
endif
set I4G=null
endfunction
function I8G takes nothing returns nothing
if GetSpellAbilityId()==1093686866 then
call H_G()
endif
endfunction
function I9G takes nothing returns nothing
local unit u=GetEnumUnit()
local integer i=0
local player p=GetOwningPlayer(GetTriggerUnit())
local item W38
local integer id=GetPlayerId(p)
loop
exitwhen i>5
set W38=UnitItemInSlot(u,i)
if W38!=null and GetItemPlayer(W38)==p then
call UnitRemoveItem(u,W38)
call SetItemPosition(W38,KV4[id],KW4[id])
endif
set i=i+1
endloop
set u=null
set W38=null
endfunction
function IDG takes nothing returns nothing
local item W38=GetEnumItem()
local unit u=OI4
local player p=GetOwningPlayer(u)
local integer id=GetPlayerId(p)
if GetWidgetLife(W38)>0 and GetItemPlayer(W38)==p and IsItemVisible(W38)==true then
call SetItemPosition(W38,KV4[id],KW4[id])
call UnitAddItem(KU4[id],W38)
endif
set W38=null
set u=null
set p=null
endfunction
function IEG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit u=U87(UC7,"u")
set OI4=u
if ZC7(GetOwningPlayer(OI4))then
call EnumItemsInRect(OD,Condition(function ZV7),function IDG)
else
call EnumItemsInRect(PD,Condition(function ZV7),function IDG)
endif
if GetTriggerEvalCount(t)==2 then
call TN7(UC7)
call UA7(t)
endif
set t=null
set u=null
return false
endfunction
function IFG takes nothing returns boolean
return RW7(GetFilterUnit())
endfunction
function IGG takes nothing returns nothing
local unit u=GetTriggerUnit()
local integer i=0
local group g=CX7()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1300,Condition(function IFG))
call ForGroup(g,function I9G)
call CW7(g)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function IEG))
call TU7(UC7,"u",u)
set u=null
set g=null
endfunction
function IHG takes nothing returns nothing
if GetSpellAbilityId()==1093743684 then
call IGG()
endif
endfunction
function IIG takes nothing returns nothing
local unit u=GetTriggerUnit()
local integer i=0
local item W38
local integer id=GetPlayerId(GetOwningPlayer(u))
local region r=CreateRegion()
if ZC7(GetOwningPlayer(u))then
call RegionAddRect(r,OD)
else
call RegionAddRect(r,PD)
endif
loop
exitwhen i>5
set W38=UnitItemInSlot(u,i)
if CE7(RY7(W38))==false and RY7(W38)!=X0 and NJ9(W38)==false then
call UnitRemoveItemFromSlot(u,i)
if(GetUnitTypeId(u)==1852010352 or IsUnitInRegion(r,u))and IsPlayerAlly(GetItemPlayer(W38),GetOwningPlayer(u))==true then
set id=GetPlayerId(GetItemPlayer(W38))
call SetItemPosition(W38,KV4[id],KW4[id])
endif
endif
set i=i+1
endloop
call RemoveRegion(r)
set u=null
set r=null
endfunction
function IJG takes nothing returns nothing
if GetSpellAbilityId()==1093743416 or GetSpellAbilityId()==1093743683 then
call IIG()
endif
endfunction
function IKG takes nothing returns nothing
if GetSpellAbilityId()==1093743191 and GetUnitAbilityLevel(GetTriggerUnit(),1114665832)>0 then
call UnitRemoveAbility(GetTriggerUnit(),1114665832)
endif
endfunction
function IMG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call DestroyEffect(UH7(UC7,"FX"))
call TN7(UC7)
call UA7(t)
else
if ID8(GetEventDamage())and IsUnitAlly(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false and p3==false then
if IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO)or GetUnitAbilityLevel(GetEventDamageSource(),1093678162)==0 then
call DisableTrigger(t)
set p3=true
call HD8(GetTriggerUnit(),GetEventDamageSource(),ZI4,GetEventDamage())
set p3=false
call EnableTrigger(t)
else
call DisableTrigger(t)
set p3=true
call HD8(GetTriggerUnit(),M7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],ZI4,GetEventDamage())
set p3=false
call EnableTrigger(t)
endif
endif
endif
set t=null
return false
endfunction
function ING takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,4.5,false)
call TriggerAddCondition(t,Condition(function IMG))
call TV7(UC7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpikeBarrier\\SpikeBarrier.mdl",p5,"chest"))
set t=null
set p5=null
endfunction
function IOG takes nothing returns nothing
if GetSpellAbilityId()==1093743959 then
call ING()
endif
endfunction
function IPG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local real a=UO7(UC7,"a")
local real d=UO7(UC7,"d")
local real x=D78(GetUnitX(m5)+d/ 10*Cos(a*bj_DEGTORAD))
local real y=D88(GetUnitY(m5)+d/ 10*Sin(a*bj_DEGTORAD))
if GetTriggerEvalCount(t)==11 or GetTriggerEventId()==EVENT_UNIT_DEATH or UU7(m5,"PowerCogShocked")==true then
if(UP7(UC7,"AI"))then
call J3(m5,false)
endif
call TN7(UC7)
call UA7(t)
else
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",x,y))
if UU7(m5,"4306")==false and UU7(m5,"4324")==false and GetUnitAbilityLevel(m5,1110456406)==0 then
call D28(x,y,150)
call SetUnitX(m5,x)
call SetUnitY(m5,y)
endif
endif
set m5=null
set t=null
return false
endfunction
function IQG takes nothing returns nothing
local unit m5=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local real x
local real y
local real d
local real a
local integer i=-1
local boolean IRG=false
if GetSpellTargetItem()!=null then
set m5=GetTriggerUnit()
endif
call U67(m5,"4414",3)
set a=GetUnitFacing(m5)
loop
exitwhen IRG or i==23
set i=i+1
set x=D78(GetUnitX(m5)+(600-i*25)*Cos(a*bj_DEGTORAD))
set y=D88(GetUnitY(m5)+(600-i*25)*Sin(a*bj_DEGTORAD))
if(IsPointInRegion(IU4,((x)*1.0),((y)*1.0)))==false then
set IRG=true
endif
endloop
set d=RF7(x,y,GetUnitX(m5),GetUnitY(m5))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function IPG))
call TU7(UC7,"Target",m5)
call TR7(UC7,"a",(a)*1.0)
call TR7(UC7,"d",(d)*1.0)
call TT7(UC7,"AI",(Z17(GetOwningPlayer(m5)))and(IsUnitAlly(m5,GetOwningPlayer(GetTriggerUnit()))))
set m5=null
set t=null
endfunction
function ISG takes nothing returns nothing
if GetSpellAbilityId()==1093744973 and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 then
if IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true or UP7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")==false then
call IQG()
endif
endif
endfunction
function ITG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
if GetTriggerEvalCount(t)>40 or GetTriggerEventId()==EVENT_UNIT_DEATH or CK7(p5)or UU7(p5,"Teleporting")then
call UnitRemoveAbility(p5,1097167980)
call TN7(UC7)
call UA7(t)
endif
set p5=null
set t=null
return false
endfunction
function IUG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t
local integer OC7
if RW7(p5)==false then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call UnitAddAbility(p5,1097167980)
call UnitMakeAbilityPermanent(p5,true,1097167980)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1097167980,false)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ITG))
call TU7(OC7,"Source",p5)
endif
set p5=null
set t=null
endfunction
function IVG takes nothing returns nothing
if GetSpellAbilityId()==1093747011 and CK7(GetTriggerUnit())==false then
call IUG()
endif
endfunction
function IWG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x
local real y
if ZC7(GetOwningPlayer(p5))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
call IssuePointOrder(p5,"move",x,y)
set p5=null
endfunction
function IXG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local real x
local real y
if ZC7(GetOwningPlayer(EC8))then
set x=-4533
set y=1158
else
set x=3190
set y=-35
endif
call IssuePointOrder(EC8,"move",x,y)
set EC8=null
endfunction
function IYG takes nothing returns nothing
if GetSpellAbilityId()==1093747027 then
call IWG()
elseif GetSpellAbilityId()==1093815123 then
call IXG()
endif
endfunction
function IZG takes nothing returns nothing
if UU7(GetEnumUnit(),"PipeOfInsightOn")==true then
call L27(GetOwningPlayer(GetEnumUnit()),GetObjectName(1848652365))
else
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call U67(GetEnumUnit(),"PipeOfInsightOn",50)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1110458964)==0 and GetUnitAbilityLevel(GetEnumUnit(),1110458965)==0 then
call IssueTargetOrder(Mw,"antimagicshell",GetEnumUnit())
endif
endif
endfunction
function IAG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local group g=CX7()
set Mw=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)
call UnitAddAbility(Mw,1093748054)
call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),525,Condition(function GZ8))
call ForGroup(g,function IZG)
call CW7(g)
set p5=null
set g=null
endfunction
function IBG takes nothing returns nothing
if GetSpellAbilityId()==1093748055 then
call IAG()
endif
endfunction
function ICG takes nothing returns nothing
local unit CO7=GetTriggerUnit()
call TT7(GetHandleId(CO7),"MantaBlocked",true)
set CO7=null
endfunction
function I3G takes nothing returns nothing
if(GetSpellAbilityId()==1093681720 or GetSpellAbilityId()==1093752645)and CV7(GetTriggerUnit())==true then
call ICG()
endif
endfunction
function I6G takes integer id returns boolean
return id==1969711215 or id==1970169187 or id==1702061422 or id==1701081721 or id==1966092337 or id==1966092338 or id==1697656918 or id==1697656919 or id==1700946284 or id==1697657398 or id==1970107511 or id==1966092370
endfunction
function ILG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>8 then
call DestroyEffect(UH7(UC7,"FX"))
call TN7(UC7)
call UA7(t)
else
if GetUnitState(m5,UNIT_STATE_LIFE)>(150.0/8.0+0.5)then
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)-150.0/8.0)
else
set WV4[GetPlayerId(GetOwningPlayer(m5))]=true
set HH7=true
call HD8(p5,m5,ZG4,50)
set WV4[GetPlayerId(GetOwningPlayer(m5))]=false
set HH7=false
endif
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function I1G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and(I6G(GetUnitTypeId(GetEventDamageSource()))==false and(GetOwningPlayer(GetEventDamageSource())!=B7 or GetUnitTypeId(GetEventDamageSource())==1848651852)and GetEventDamage()>0)or WU4==true)then
call UnitRemoveAbility(m5,1110459207)
call TN7(UC7)
call UA7(t)
endif
set t=null
set m5=null
return false
endfunction
function I0G takes nothing returns nothing
local trigger t
local integer UC7
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit H88
local integer i=0
local boolean I5G=false
local boolean I2G=false
local integer B68
if m5==null then
set m5=GetTriggerUnit()
endif
set H88=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
loop
exitwhen i>5 or I2G
if RZ7(UnitItemInSlot(p5,i))==DY4 then
set B68=GetItemCharges(UnitItemInSlot(p5,i))
if B68>0 then
set I5G=true
set B68=B68-1
else
set I2G=true
set I5G=false
endif
endif
set i=i+1
endloop
if I5G==true then
set t=CreateTrigger()
set UC7=GetHandleId(t)
if IsUnitAlly(m5,GetOwningPlayer(p5))==true then
call UnitAddAbility(H88,1093750093)
call IssueTargetOrderById(H88,852609,m5)
call TU7(UC7,"Target",m5)
call TriggerRegisterTimerEvent(t,L3,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function I1G))
else
call TU7(UC7,"Target",m5)
call TU7(UC7,"Source",p5)
call TV7(UC7,"FX",AddSpecialEffectTarget("war3mapImported\\Urn_Enemy.mdx",m5,"overhead"))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function ILG))
endif
endif
set p5=null
set H88=null
set m5=null
set t=null
endfunction
function I_G takes nothing returns nothing
if GetSpellAbilityId()==1093750095 then
call I0G()
endif
endfunction
function J4G takes nothing returns nothing
local integer i=0
loop
exitwhen i>16
set WV4[i]=false
set i=i+1
endloop
endfunction
function J7G takes nothing returns nothing
if DB9(GetEnumUnit())==false then
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093753432,false)
call F88(GetEnumUnit(),1093753432,1,YL4,1110459480)
endif
endfunction
function J8G takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local integer i=0
local boolean J9G=false
local boolean JDG=false
local integer B68
local group g
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),925,Condition(function FI8))
call ForGroup(g,function J7G)
call CW7(g)
set g=null
set EC8=null
endfunction
function JEG takes nothing returns nothing
if GetSpellAbilityId()==1093753431 then
call J8G()
endif
endfunction
function JFG takes unit u returns boolean
local integer OQ7=GetUnitTypeId(u)
return OQ7==1211122232 or OQ7==1848657482 or OQ7==1848657481 or OQ7==1848657462 or OQ7==1848657480 or OQ7==1966092371
endfunction
function JGG takes unit u returns boolean
local integer id=GetUnitTypeId(u)
return BZ7(id)
endfunction
function JHG takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),Y14)and LO7(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true or IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true or JGG(GetFilterUnit()))and JFG(GetFilterUnit())==false
endfunction
function JIG takes unit EC8 returns boolean
local group g=CX7()
local boolean J9G
set Y14=GetOwningPlayer(EC8)
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),1050,Condition(function JHG))
set J9G=FirstOfGroup(g)!=null
call CW7(g)
return J9G
endfunction
function JJG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local group g
local integer CP8
local boolean JKG
if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED then
if GetAttacker()==EC8 then
call UnitRemoveAbility(EC8,1093808204)
call UnitRemoveAbility(EC8,1093808211)
call UnitRemoveAbility(EC8,1110459698)
call UnitRemoveAbility(EC8,1110456665)
if((LoadInteger(L7,(GetHandleId((EC8))),((4302))))==1)==false then
call UnitSetUsesAltIcon(EC8,false)
endif
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
else
set JKG=(LoadBoolean(L7,(OC7),(671)))
set CP8=(LoadInteger(L7,(OC7),(34)))
set CP8=CP8+1
call SaveInteger(L7,(OC7),(34),(CP8))
set g=CX7()
set Y14=GetOwningPlayer(EC8)
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),1050,Condition(function JHG))
if GetUnitAbilityLevel(EC8,1110456665)>0 then
call SaveBoolean(L7,(OC7),(671),(true))
elseif JKG then
call SaveBoolean(L7,(OC7),(671),(false))
call UnitRemoveAbility(EC8,1093808204)
call LM7(EC8,1093808204)
endif
if CP8>400 or FirstOfGroup(g)!=null then
call UnitRemoveAbility(EC8,1093808204)
call UnitRemoveAbility(EC8,1093808211)
call UnitRemoveAbility(EC8,1110459698)
call UnitRemoveAbility(EC8,1110456665)
if((LoadInteger(L7,(GetHandleId((EC8))),((4302))))==1)==false then
call UnitSetUsesAltIcon(EC8,false)
endif
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
call CW7(g)
endif
set t=null
set EC8=null
set g=null
return false
endfunction
function JMG takes nothing returns nothing
local unit EC8=GetEnumUnit()
local trigger t
local integer OC7
if Z67(GetOwningPlayer(EC8))and JIG(EC8)==false then
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(EC8))==false and CM7(GetLocalPlayer())==false then
call UnitSetUsesAltIcon(EC8,true)
endif
call LM7(EC8,1093808204)
call UnitMakeAbilityPermanent(EC8,true,1093808204)
if DB9(EC8)==false then
call LM7(EC8,1093808211)
call UnitMakeAbilityPermanent(EC8,true,1093808211)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093808211,false)
endif
set t=CreateTrigger()
set OC7=GetHandleId(t)
call SaveInteger(L7,(OC7),(34),(0))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveBoolean(L7,(OC7),(671),(false))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("war3mapImported\\SmokeOfDeceit.mdx",EC8,"chest")))
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterTimerEvent(t,.1,true)
call TriggerAddCondition(t,Condition(function JJG))
set t=null
endif
set EC8=null
endfunction
function JNG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local group g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),1225,Condition(function FH8))
call ForGroup(g,function JMG)
call CW7(g)
set EC8=null
set g=null
endfunction
function JOG takes nothing returns nothing
if GetSpellAbilityId()==1093808182 then
call JNG()
endif
endfunction
function InitTrig_Smoke_of_Deceit takes nothing returns nothing
call SetAltMinimapIcon("war3mapImported\\black.blp")
endfunction
function JPG takes nothing returns nothing
if DB9(GetEnumUnit())==false then
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810246,false)
call F88(GetEnumUnit(),1093810246,1,AB4,1110459729)
endif
endfunction
function JQG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local group g=CX7()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
call GroupEnumUnitsInRange(g,x,y,575,Condition(function F58))
call ForGroup(g,function JPG)
call CW7(g)
call DestroyEffect(AddSpecialEffect("war3mapImported\\DarkLightningNova.mdx",x,y))
set EC8=null
set g=null
endfunction
function JRG takes nothing returns nothing
if GetSpellAbilityId()==1093810244 then
call JQG()
endif
endfunction
function JSG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call UnitAddAbility(H88,1093815091)
call IssueTargetOrder(H88,"slow",O07)
set EC8=null
set O07=null
set H88=null
endfunction
function JTG takes nothing returns nothing
if GetSpellAbilityId()==1093813569 and CV7(GetSpellTargetUnit())==false then
call JSG()
endif
endfunction
function JUG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer CP8=(LoadInteger(L7,(OC7),(34)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or CP8==10 or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetEventDamage()>20)then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
set CP8=CP8+1
call SaveInteger(L7,(OC7),(34),(CP8))
call SetUnitState(EC8,UNIT_STATE_LIFE,GetUnitState(EC8,UNIT_STATE_LIFE)+17)
endif
set t=null
set EC8=null
return false
endfunction
function JVG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function JUG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveInteger(L7,(OC7),(34),(0))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("war3mapImported\\TranquilBootsHeal.mdx",EC8,"origin")))
set EC8=null
set t=null
endfunction
function JWG takes nothing returns nothing
if GetSpellAbilityId()==1093815089 then
call JVG()
endif
endfunction
function JXG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
local unit H88
if GetUnitX(EC8)!=x or GetUnitY(EC8)!=y or(GetUnitAbilityLevel(EC8,1110460216)==0 and GetTriggerEvalCount(t)>R2I(IF7/.05))then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UY7(EC8,"ShadowAmu|4330")
call UnitRemoveAbility(EC8,1110460214)
call UnitRemoveAbility(EC8,1110460216)
elseif GetTriggerEvalCount(t)==R2I(IF7/.05)then
set H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(EC8),GetUnitY(EC8),0)
call UnitAddAbility(H88,1093815861)
call IssueTargetOrder(H88,"invisibility",EC8)
call UY7(EC8,"ShadowAmu|4330")
set H88=null
endif
set t=null
set EC8=null
return false
endfunction
function JYG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
local integer JZG=(LoadInteger(L7,(OC7),(375)))
local integer id=GetUnitCurrentOrder(EC8)
if GetUnitX(EC8)!=x or GetUnitY(EC8)!=y then
call IssueImmediateOrder(EC8,"holdposition")
call SaveReal(L7,(JZG),(6),((GetUnitX(EC8))*1.0))
call SaveReal(L7,(JZG),(7),((GetUnitY(EC8))*1.0))
elseif id==0 or id==851973 or id==851983 or id==851971 then
call IssueImmediateOrder(EC8,"holdposition")
endif
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set EC8=null
return false
endfunction
function JAG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local trigger t2=CreateTrigger()
local integer POD=GetHandleId(t2)
local string JBG="Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl"
if GetLocalPlayer()!=GetOwningPlayer(EC8)then
set JBG=""
endif
call UW7(EC8,"ShadowAmu|4330")
call DestroyEffect(AddSpecialEffectTarget(JBG,EC8,"chest"))
call DestroyEffect(AddSpecialEffectTarget(JBG,EC8,"hand left"))
call DestroyEffect(AddSpecialEffectTarget(JBG,EC8,"hand right"))
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function JXG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(6),((GetUnitX(EC8))*1.0))
call SaveReal(L7,(OC7),(7),((GetUnitY(EC8))*1.0))
call TriggerRegisterTimerEvent(t2,0.01,false)
call TriggerAddCondition(t2,Condition(function JYG))
call SaveUnitHandle(L7,(POD),(2),(EC8))
call SaveReal(L7,(POD),(6),((GetUnitX(EC8))*1.0))
call SaveReal(L7,(POD),(7),((GetUnitY(EC8))*1.0))
call SaveInteger(L7,(POD),(375),(OC7))
set EC8=null
set t=null
endfunction
function JCG takes nothing returns nothing
if GetSpellAbilityId()==1093815857 and UU7(GetTriggerUnit(),"ShadowAmu|4330")==false then
call JAG()
endif
endfunction
function J3G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer O37=GetHandleId(t)
local unit O07=(LoadUnitHandle(L7,O37,(17)))
local integer J6G=(LoadInteger(L7,O37,(34)))
if(GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)>=J6G or CK7(O07)==true)then
call FQ8(O07)
call DestroyEffect((LoadEffectHandle(L7,O37,(32))))
call FlushChildHashtable(L7,O37)
call UA7(t)
endif
set t=null
set O07=null
return false
endfunction
function JLG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local unit H88
local integer H98=2
local real J1G=4.5
local trigger t=CreateTrigger()
local integer O37=GetHandleId(t)
if IsUnitType(O07,UNIT_TYPE_MELEE_ATTACKER)==true then
set H98=1
set J1G=3
endif
call FO8(O07)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterDeathEvent(t,O07)
call TriggerAddCondition(t,Condition(function J3G))
call SaveUnitHandle(L7,O37,(17),(O07))
call SaveInteger(L7,O37,(34),(R2I(J1G*10)))
call SaveEffectHandle(L7,O37,(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl",O07,"overhead")))
set EC8=null
set O07=null
set H88=null
endfunction
function J0G takes nothing returns nothing
if GetSpellAbilityId()==1093815092 and CV7(GetSpellTargetUnit())==false then
call JLG()
endif
endfunction
function J5G takes integer H98,unit EC8,unit O07 returns nothing
set HH7=true
call HD8(EC8,O07,ZG4,300+100*H98)
set HH7=false
endfunction
function J2G takes nothing returns nothing
local integer J_G=0
if GetSpellAbilityId()==1093677647 then
set J_G=1
endif
if GetSpellAbilityId()==1093679193 then
set J_G=2
endif
if GetSpellAbilityId()==1093679194 then
set J_G=3
endif
if GetSpellAbilityId()==1093679408 then
set J_G=4
endif
if GetSpellAbilityId()==1093679410 then
set J_G=5
endif
if J_G>0 and CV7(GetSpellTargetUnit())==false then
call J5G(J_G,GetTriggerUnit(),GetSpellTargetUnit())
endif
endfunction
function K4G takes nothing returns nothing
if GetSpellAbilityId()==1093814353 then
call B_8(GetTriggerUnit(),GetSpellTargetUnit())
endif
endfunction
function K7G takes unit EC8,integer BD7,real x,real y returns nothing
local unit K8G=CreateUnit(GetOwningPlayer(EC8),BD7,x,y,0)
call UnitApplyTimedLife(K8G,1112820806,15)
set K8G=null
endfunction
function K9G takes nothing returns nothing
local unit K8G
local real x
local real y
if GetSpellAbilityId()==1093753420 then
set x=GetDestructableX(GetSpellTargetDestructable())
set y=GetDestructableY(GetSpellTargetDestructable())
call K7G(GetTriggerUnit(),1848659021,x,y)
elseif GetSpellAbilityId()==1093753421 then
set x=GetDestructableX(GetSpellTargetDestructable())
set y=GetDestructableY(GetSpellTargetDestructable())
call K7G(GetTriggerUnit(),1848659022,x,y)
endif
set K8G=null
endfunction
function KDG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
call UnitRemoveAbility(EC8,1093753418)
call UnitRemoveAbility(O07,1093753418)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set EC8=null
set O07=null
return false
endfunction
function KEG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,7,false)
call TriggerAddCondition(t,Condition(function KDG))
call SaveUnitHandle(L7,(OC7),(2),(GetTriggerUnit()))
call SaveUnitHandle(L7,(OC7),(17),(GetSpellTargetUnit()))
call SaveEffectHandle(L7,(OC7),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl",GetSpellTargetUnit(),"chest")))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl",GetTriggerUnit(),"chest")))
call UnitAddAbility(GetTriggerUnit(),1093753418)
call UnitAddAbility(GetSpellTargetUnit(),1093753418)
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,1093753418)
call UnitMakeAbilityPermanent(GetSpellTargetUnit(),true,1093753418)
set t=null
endfunction
function KFG takes nothing returns nothing
if GetSpellAbilityId()==1093753417 and CV7(GetSpellTargetUnit())==false then
call KEG()
endif
endfunction
function KGG takes nothing returns nothing
local unit PF7=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local unit H88
if GetSpellTargetUnit()==null then
if GetSpellAbilityId()==1095331948 then
set H88=CreateUnit(GetOwningPlayer(PF7),1697656901,GetUnitX(PF7),GetUnitY(PF7),0)
call UnitAddAbility(H88,1093752641)
call IssueTargetOrderById(H88,852609,PF7)
set H88=null
elseif GetSpellAbilityId()==1095331954 then
set H88=CreateUnit(GetOwningPlayer(PF7),1697656901,GetUnitX(PF7),GetUnitY(PF7),0)
call UnitAddAbility(H88,1095331954)
call IssueTargetOrderById(H88,852609,PF7)
set H88=null
endif
endif
set PF7=null
set O07=null
endfunction
function KHG takes nothing returns nothing
if GetSpellAbilityId()==1095331948 or GetSpellAbilityId()==1095331954 then
call KGG()
endif
endfunction
function KIG takes integer H98 returns integer
if H98==1 then
return 25
elseif H98==2 then
return 41
elseif H98==3 then
return 62
elseif H98==4 then
return 88
elseif H98==5 then
return 119
elseif H98==6 then
return 155
endif
return 25
endfunction
function KJG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=(LoadInteger(L7,(OC7),(34)))
if(GetTriggerEventId()==EVENT_UNIT_DEATH and GetKillingUnit()==EC8)or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetUnitAbilityLevel(O07,1110459731)>0)then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",GetUnitX(O07),GetUnitY(O07)))
call AddHeroXP(EC8,R2I(KIG(H98)*2.5),true)
call EV8(GetOwningPlayer(EC8),O07,190)
set VG4[GetPlayerId(GetOwningPlayer(EC8))]=VG4[GetPlayerId(GetOwningPlayer(EC8))]+190
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call KillUnit(O07)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function KKG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer H98=GetUnitLevel(O07)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveInteger(L7,(OC7),(34),(H98))
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function KJG))
set t=null
set EC8=null
set O07=null
endfunction
function KMG takes nothing returns nothing
if GetSpellAbilityId()==1093810265 then
call KKG()
endif
endfunction
function KNG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer C97=GetHandleId(t)
local unit F9D=(LoadUnitHandle(L7,(C97),(2)))
local real KOG=(LoadReal(L7,(C97),(242)))
local real KPG=(LoadReal(L7,(C97),(529)))
local real KQG=(LoadReal(L7,(C97),(530)))
local real KRG=GetUnitState(F9D,UNIT_STATE_MANA)
local real KSG=GetUnitState(F9D,UNIT_STATE_MAX_MANA)
local real KTG=KOG-KRG
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(C97))
call UA7(t)
elseif GetTriggerEvalCount(t)==20*10 then
call FlushChildHashtable(L7,(C97))
call UA7(t)
if KPG<150 then
call SetUnitState(F9D,UNIT_STATE_MANA,KRG-(150-KPG-KQG))
endif
else
if KTG>0 then
set KPG=KPG+(KOG-KRG)
if KQG>0 then
if KTG>KQG then
call SetUnitState(F9D,UNIT_STATE_MANA,KRG+KQG)
set KQG=0
else
if KQG>(KSG-KRG)then
set KQG=KQG-(KSG-KRG)
call SetUnitState(F9D,UNIT_STATE_MANA,KRG+KSG-KRG)
else
set KQG=KQG-KTG
call SetUnitState(F9D,UNIT_STATE_MANA,KRG+KTG)
endif
endif
endif
endif
set KOG=KRG
call SaveReal(L7,(C97),(242),((KOG)*1.0))
call SaveReal(L7,(C97),(529),((KPG)*1.0))
call SaveReal(L7,(C97),(530),((KQG)*1.0))
endif
set t=null
set F9D=null
return false
endfunction
function KUG takes nothing returns nothing
local unit F9D=GetTriggerUnit()
local real HGE=GetUnitState(F9D,UNIT_STATE_LIFE)
local trigger t=CreateTrigger()
local integer C97=GetHandleId(t)
local real KRG=GetUnitState(F9D,UNIT_STATE_MANA)
if HGE>151 then
call SetUnitState(F9D,UNIT_STATE_LIFE,HGE-150)
else
call SetUnitState(F9D,UNIT_STATE_LIFE,1)
endif
call DY8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",F9D,"origin",2)
call SetUnitState(F9D,UNIT_STATE_MANA,KRG+150)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,F9D,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function KNG))
call SaveUnitHandle(L7,(C97),(2),(F9D))
call SaveReal(L7,(C97),(242),((GetUnitState(F9D,UNIT_STATE_MANA))*1.0))
call SaveReal(L7,(C97),(529),((0)*1.0))
if(KRG+150)>GetUnitState(F9D,UNIT_STATE_MAX_MANA)then
call SaveReal(L7,(C97),(530),(((KRG+150)-GetUnitState(F9D,UNIT_STATE_MAX_MANA))*1.0))
endif
set F9D=null
endfunction
function KVG takes nothing returns nothing
if GetSpellAbilityId()==1093751096 then
call KUG()
endif
endfunction
function KWG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if GetTriggerEvalCount(t)>30 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(EC8,1093751107)
call UnitRemoveAbility(EC8,1110459225)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set EC8=null
set t=null
return false
endfunction
function KXG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if GetTriggerEvalCount(t)>30 or GetTriggerEventId()==EVENT_UNIT_DEATH or((LoadInteger(L7,(GetHandleId((EC8))),((4256))))==1)then
call UnitRemoveAbility(EC8,1097167980)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set EC8=null
set t=null
return false
endfunction
function KYG takes unit u returns nothing
local unit EC8=u
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call UnitAddAbility(EC8,1097167980)
call UnitMakeAbilityPermanent(EC8,true,1097167980)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1097167980,false)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function KXG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set EC8=null
set t=null
endfunction
function KZG takes nothing returns nothing
local integer OC7=GetHandleId(GetTriggeringTrigger())
local unit EC8=IN4
local unit O07=IP4
local real WOD=(LoadReal(L7,(OC7),(20)))
local trigger t
if IsPlayerAlly(GetOwningPlayer(O07),GetOwningPlayer(EC8))==true and EC8!=O07 then
call KYG(O07)
elseif EC8!=O07 then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093751107,false)
call UnitAddAbility(O07,1093751107)
call UnitMakeAbilityPermanent(O07,true,1093751107)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function KWG))
call SaveUnitHandle(L7,(OC7),(2),(O07))
call KYG(O07)
call DC8("+"+I2S(R2I(WOD)),2,O07,0.027,3,216,120,216)
set HH7=true
call HD8(EC8,O07,ZG4,WOD)
set HH7=false
endif
call KYG(EC8)
set EC8=null
set O07=null
endfunction
function KAG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t2=EK8(EC8,O07,1747993171,"KZG",1000)
local integer POD=GetHandleId(t2)
local integer EXD=CN7(EC8)
local real KBG
if EXD==KC7 then
set KBG=GetHeroAgi(EC8,true)
elseif EXD==K37 then
set KBG=GetHeroStr(EC8,true)
elseif EXD==K67 then
set KBG=GetHeroInt(EC8,true)
endif
call SaveReal(L7,(POD),(20),((KBG*2.0+75)*1.0))
set EC8=null
set O07=null
set t2=null
endfunction
function KCG takes nothing returns nothing
if GetSpellAbilityId()==1093751108 and(IsPlayerAlly(GetOwningPlayer(GetSpellTargetUnit()),GetOwningPlayer(GetTriggerUnit()))==true or CV7(GetSpellTargetUnit())==false)then
call KAG()
endif
endfunction
function K3G takes nothing returns nothing
call SetUnitState(GetEnumUnit(),UNIT_STATE_MANA,GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)+135)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl",GetEnumUnit(),"origin"))
endfunction
function K6G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local group g=CX7()
set IN4=EC8
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),25+600,Condition(function G88))
call ForGroup(g,function K3G)
call CW7(g)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set g=null
set EC8=null
set t=null
return false
endfunction
function KLG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local group g
local trigger t
if GetSpellAbilityId()==1093684023 then
if GetUnitTypeId(EC8)!=1211117642 then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function K6G))
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(EC8))
set t=null
else
call SetUnitState(EC8,UNIT_STATE_MANA,GetUnitState(EC8,UNIT_STATE_MANA)+25)
endif
endif
set EC8=null
set g=null
set t=null
endfunction
function K1G takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local unit H88
if GetSpellAbilityId()==1093751863 and(CV7(GetSpellTargetUnit())==false or IsPlayerAlly(GetOwningPlayer(EC8),GetOwningPlayer(O07))==true)then
if GetSpellTargetItem()!=null then
set O07=GetTriggerUnit()
endif
set H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call UnitAddAbility(H88,1095328633)
call IssueTargetOrder(H88,"cyclone",O07)
endif
set EC8=null
set O07=null
set H88=null
endfunction
function K0G takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==1697656901 then
return false
endif
call M39()
call KB9()
call MU9()
call GTG()
call HIG()
call HSG()
call HVG()
call HAG()
call MX9()
call HTG()
call HBG()
call XQF()
call KM9()
call XYF()
call I8G()
call X5F()
call XAF()
call IJG()
call IHG()
call EKG()
call IKG()
call IOG()
call ISG()
call IVG()
call IYG()
call H5G()
call IBG()
call I3G()
call I_G()
call KVG()
call KCG()
call K1G()
call KLG()
call KMG()
call KHG()
call KFG()
call K9G()
call JEG()
call JOG()
call JRG()
call JTG()
call K4G()
call J2G()
call JWG()
call J0G()
call JCG()
if GetSpellAbilityId()==1093815095 and CV7(GetSpellTargetUnit())==false then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LevelerStunFX.mdx",GetSpellTargetUnit(),"head"))
endif
return false
endfunction
function K5G takes nothing returns boolean
call F5G()
call F2G()
call G8G()
call GGG()
call M29()
call GKG()
call GMG()
call GNG()
call GOG()
call GQG()
return false
endfunction
function K2G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local unit K_G=U87(UC7,"Caster")
local unit m5=U87(UC7,"Target")
local effect FX=UH7(UC7,"FX")
local player p=GetOwningPlayer(CO7)
call UnitShareVision(m5,p,false)
call DestroyEffect(FX)
call RemoveUnit(K_G)
call UnitRemoveAbility(m5,1110455880)
call TN7(UC7)
call UA7(t)
set t=null
set CO7=null
set K_G=null
set m5=null
set FX=null
set p=null
return false
endfunction
function M4G takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local player p=GetOwningPlayer(CO7)
local unit K_G
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local string s="effects\\Snipe Target.mdx"
if IsPlayerAlly(GetLocalPlayer(),p)==false and CM7(GetLocalPlayer())==false then
set s=""
endif
call UnitShareVision(m5,p,true)
set K_G=CreateUnit(GetOwningPlayer(m5),1697657170,0,0,0)
call LM7(K_G,1093684809)
call TU7(UC7,"Target",m5)
call TU7(UC7,"Hero",CO7)
call TU7(UC7,"Caster",K_G)
call TV7(UC7,"FX",AddSpecialEffectTarget(s,m5,"overhead"))
call TriggerRegisterTimerEvent(t,4,false)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function K2G))
set t=null
set CO7=null
set m5=null
set K_G=null
set p=null
endfunction
function M7G takes nothing returns boolean
if GetSpellAbilityId()==1093678160 then
call M4G()
endif
return false
endfunction
function NM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(t,Condition(function M7G))
set t=null
endfunction
function M8G takes nothing returns boolean
local real d
if IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IP4))==true then
set d=RF7(IK4,IM4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
if d<IJ4 then
set IJ4=d
set IN4=GetFilterUnit()
endif
endif
return false
endfunction
function M9G takes unit MDG,real x,real y returns unit
local group g=CX7()
set IN4=null
set IP4=MDG
set IJ4=99999
set IK4=x
set IM4=y
call GroupEnumUnitsInRange(g,x,y,2000,Condition(function M8G))
call CW7(g)
set g=null
return IN4
endfunction
function MEG takes nothing returns boolean
local real d
if GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and LO7(GetFilterUnit())==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(IP4))==true then
set d=RF7(IK4,IM4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
if d<IJ4 then
set IJ4=d
set IN4=GetFilterUnit()
endif
endif
return false
endfunction
function MFG takes unit MDG,real x,real y returns unit
local group g=CX7()
set IN4=null
set IP4=MDG
set IJ4=99999
set IK4=x
set IM4=y
call GroupEnumUnitsInRange(g,x,y,2000,Condition(function MEG))
call CW7(g)
set g=null
return IN4
endfunction
function MGG takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local location l
local real x
local real y
local unit m5=GetSpellTargetUnit()
if m5==null then
set l=GetSpellTargetLoc()
set x=GetLocationX(l)
set y=GetLocationY(l)
call RemoveLocation(l)
if GetSpellAbilityId()==1093682008 then
set m5=M9G(CO7,x,y)
else
set m5=MFG(CO7,x,y)
endif
set x=GetUnitX(m5)
set y=GetUnitY(m5)
else
set x=GetUnitX(GetSpellTargetUnit())
set y=GetUnitY(GetSpellTargetUnit())
endif
if(IsUnitAlly(CO7,GetLocalPlayer())and GetLocalPlayer()!=GetOwningPlayer(CO7))or(V8 and(GetLocalPlayer()==KX4 or GetLocalPlayer()==KY4))then
call PingMinimapEx(x,y,3,255,255,255,false)
endif
set CO7=null
set l=null
endfunction
function MHG takes nothing returns boolean
if GetSpellAbilityId()==1093682008 or GetSpellAbilityId()==1095331188 then
call MGG()
endif
return false
endfunction
function MIG takes unit MJG returns nothing
local group g=CX7()
local real x=GetUnitX(MJG)
local real y=GetUnitY(MJG)
local unit MKG
local unit MMG=CreateUnit(GetOwningPlayer(MJG),1697656901,x,y,0)
local integer MNG=GetUnitAbilityLevel(MJG,1093687860)
set IN4=MJG
call GroupEnumUnitsInRange(g,x,y,300,Condition(function GG8))
set MKG=GroupPickRandomUnit(g)
call CW7(g)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",MJG,"origin"))
if MKG!=null then
call LM7(MMG,1093687863)
call SetUnitAbilityLevel(MMG,1093687863,MNG)
call IssueTargetOrder(MMG,"thunderbolt",MKG)
endif
set g=null
set MKG=null
set MMG=null
endfunction
function MOG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer MPG=GetHandleId(t)
local integer MQG=GetTriggerEvalCount(t)
local unit MRG=U87(MPG,"Hero")
if MQG>15 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call TN7(MPG)
call UA7(t)
else
call MIG(MRG)
endif
set t=null
set MRG=null
return false
endfunction
function MSG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer MPG=GetHandleId(t)
local unit MRG=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,.7,true)
call TriggerRegisterUnitEvent(t,MRG,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function MOG))
call TU7(MPG,"Hero",MRG)
call TriggerEvaluate(t)
set t=null
set MRG=null
endfunction
function MTG takes nothing returns boolean
if GetSpellAbilityId()==1093687860 then
call MSG()
endif
return false
endfunction
function S28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MTG))
set t=null
endfunction
function MUG takes real s,real MVG,real MWG,real MXG returns boolean
return s<=MVG and s<=MWG and s<=MXG
endfunction
function MYG takes unit u,real x,real y,real d returns real
local real x2=GetUnitX(u)
local real y2=GetUnitY(u)
local real MZG=RF7(x-d,y,x2,y2)
local real MAG=RF7(x+d,y,x2,y2)
local real MBG=RF7(x,y+d,x2,y2)
local real MCG=RF7(x,y-d,x2,y2)
if MUG(MZG,MAG,MCG,MBG)then
return 180.0
elseif MUG(MAG,MZG,MCG,MBG)then
return 0.0
elseif MUG(MCG,MAG,MZG,MBG)then
return 270.0
endif
return 90.0
endfunction
function M3G takes real s,real MVG,real MWG,real MXG,real M6G,real MLG,real M1G,real M0G returns boolean
return s<=MVG and s<=MWG and s<=MXG and s<=M6G and s<=MLG and s<=M1G and s<=M0G
endfunction
function M5G takes unit u,integer UC7 returns unit
local real x1=GetUnitX(u)
local real y1=GetUnitY(u)
local unit M2G=U87(UC7,"Cog1")
local unit M_G=U87(UC7,"Cog2")
local unit N4G=U87(UC7,"Cog3")
local unit N7G=U87(UC7,"Cog4")
local unit N8G=U87(UC7,"Cog5")
local unit N9G=U87(UC7,"Cog6")
local unit NDG=U87(UC7,"Cog7")
local unit NEG=U87(UC7,"Cog8")
local real MVG=RF7(x1,y1,GetUnitX(M2G),GetUnitY(M2G))
local real MWG=RF7(x1,y1,GetUnitX(M_G),GetUnitY(M_G))
local real MXG=RF7(x1,y1,GetUnitX(N4G),GetUnitY(N4G))
local real M6G=RF7(x1,y1,GetUnitX(N7G),GetUnitY(N7G))
local real MLG=RF7(x1,y1,GetUnitX(N8G),GetUnitY(N8G))
local real M1G=RF7(x1,y1,GetUnitX(N9G),GetUnitY(N9G))
local real M0G=RF7(x1,y1,GetUnitX(NDG),GetUnitY(NDG))
local real NFG=RF7(x1,y1,GetUnitX(NEG),GetUnitY(NEG))
if M3G(MVG,MWG,MXG,M6G,MLG,M1G,M0G,NFG)then
return M2G
elseif M3G(MWG,MVG,MXG,M6G,MLG,M1G,M0G,NFG)then
return M_G
elseif M3G(MXG,MWG,MVG,M6G,MLG,M1G,M0G,NFG)then
return N4G
elseif M3G(M6G,MWG,MXG,MVG,MLG,M1G,M0G,NFG)then
return N7G
elseif M3G(MLG,MWG,MXG,M6G,MVG,M1G,M0G,NFG)then
return N8G
elseif M3G(M1G,MWG,MXG,M6G,MLG,MVG,M0G,NFG)then
return N9G
elseif M3G(M0G,MWG,MXG,M6G,MLG,M1G,MVG,NFG)then
return NDG
elseif M3G(NFG,MWG,MXG,M6G,MLG,M1G,M0G,MVG)then
return NEG
endif
return null
endfunction
function NGG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local real NHG=UO7(UC7,"Angle")
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local real A8F=12
local unit p5=U87(UC7,"Source")
local integer BH7=UN7(UC7,"Level")
local integer NIG=40+40*BH7
if GetTriggerEvalCount(t)>21 then
call TN7(UC7)
call UA7(t)
call UY7(m5,"PowerCogShocked")
call HD8(p5,m5,ZG4,I2R(NIG))
call SetUnitState(m5,UNIT_STATE_MANA,DR8(GetUnitState(m5,UNIT_STATE_MANA)-NIG,0))
else
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",x,y))
call D28(x,y,150)
if UU7(m5,"TimeWalk|Active")==false then
call SetUnitPosition(m5,x+A8F*Cos(NHG*bj_DEGTORAD),y+A8F*Sin(NHG*bj_DEGTORAD))
endif
endif
set t=null
set m5=null
return false
endfunction
function NJG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit m5=GetEnumUnit()
local real x=IJ4
local real y=IK4
local real d=IM4
local real NHG=MYG(m5,x,y,d)
local real NKG=200
local real NMG=d-RF7(GetUnitX(m5),GetUnitY(m5),x,y)+NKG/2
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",m5,"chest"))
call UW7(m5,"PowerCogShocked")
if NMG>0 then
call SetUnitX(m5,GetUnitX(m5)+NMG*Cos(NHG*bj_DEGTORAD))
call SetUnitY(m5,GetUnitY(m5)+NMG*Sin(NHG*bj_DEGTORAD))
endif
call TU7(UC7,"Target",m5)
call TR7(UC7,"Angle",NHG*1.0)
call TQ7(UC7,"Level",IH4)
call TU7(UC7,"Source",IN4)
call TriggerRegisterTimerEvent(t,0.04,true)
call TriggerAddCondition(t,Condition(function NGG))
set t=null
set m5=null
endfunction
function NNG takes unit u,integer UC7 returns boolean
local unit NOG=M5G(u,UC7)
local boolean NPG=true
if LO7(NOG)or UN7(GetHandleId(NOG),"PowerCogUsed")==1 then
set NPG=false
endif
call TQ7(GetHandleId(NOG),"PowerCogUsed",1)
call SetUnitVertexColor(NOG,25,25,25,175)
set NOG=null
return NPG
endfunction
function NQG takes nothing returns nothing
if GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)>0 and IsUnitInGroup(GetEnumUnit(),IQ4)==false and UU7(GetEnumUnit(),"PowerCogShocked")==false and NNG(GetEnumUnit(),tl)then
call UW7(GetEnumUnit(),"PowerCogShocked")
call GroupAddUnit(aL,GetEnumUnit())
endif
endfunction
function NRG takes trigger t,unit CO7,real x,real y,real d,integer BH7 returns nothing
local integer UC7=GetHandleId(t)
local real NSG=200
local rect r1=Rect(x-d,y-d,x+d,y+d)
local rect r2=Rect(x-d-NSG,y-d-NSG,x+d+NSG,y+d+NSG)
local group g1=CX7()
local group g2=CX7()
local group g3=CX7()
set IN4=CO7
call GroupEnumUnitsInRect(g1,r1,Condition(function FT8))
call GroupEnumUnitsInRect(g2,r2,Condition(function FT8))
set IQ4=g1
set aL=g3
set IJ4=x
set IK4=y
set IM4=d
set tl=UC7
call ForGroup(g2,function NQG)
set IH4=BH7
call ForGroup(g3,function NJG)
call CW7(g1)
call CW7(g2)
call CW7(g3)
call RemoveRect(r1)
call RemoveRect(r2)
set g1=null
set g2=null
set g3=null
set r1=null
set r2=null
endfunction
function NTG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
local player p=UD7(UC7,"p")
local boolean NUG=UP7(UC7,"NeedFix")
call TN7(UC7)
call UA7(t)
if NUG then
call E88(p,.2,x,y,500)
endif
set t=null
set p=null
return false
endfunction
function NVG takes unit NOG returns nothing
local real x=GetUnitX(NOG)
local real y=GetUnitY(NOG)
local player p=GetOwningPlayer(NOG)
local unit oA=CreateUnit(p,1966092375,x,y,0)
call KillUnit(oA)
set p=null
set oA=null
endfunction
function NWG takes integer UC7,real x,real y,boolean NUG,player p returns nothing
local unit M2G=U87(UC7,"Cog1")
local unit M_G=U87(UC7,"Cog2")
local unit N4G=U87(UC7,"Cog3")
local unit N7G=U87(UC7,"Cog4")
local unit N8G=U87(UC7,"Cog5")
local unit N9G=U87(UC7,"Cog6")
local unit NDG=U87(UC7,"Cog7")
local unit NEG=U87(UC7,"Cog8")
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.1,false)
call TriggerAddCondition(t,Condition(function NTG))
call TR7(GetHandleId(t),"x",x*1.0)
call TR7(GetHandleId(t),"y",y*1.0)
call TA7(GetHandleId(t),"p",p)
call TT7(GetHandleId(t),"NeedFix",NUG)
call NVG(M2G)
call RemoveUnit(M2G)
call NVG(M_G)
call RemoveUnit(M_G)
call NVG(N4G)
call RemoveUnit(N4G)
call NVG(N7G)
call RemoveUnit(N7G)
call NVG(N8G)
call RemoveUnit(N8G)
call NVG(N9G)
call RemoveUnit(N9G)
call NVG(NDG)
call RemoveUnit(NDG)
call NVG(NEG)
call RemoveUnit(NEG)
set M2G=null
set M_G=null
set N4G=null
set N7G=null
set N8G=null
set N9G=null
set NDG=null
set NEG=null
endfunction
function NXG takes unit NOG,integer UC7,integer NYG,player p returns nothing
if IsUnitVisible(NOG,p)then
call TT7(UC7,"NeedFix",true)
endif
call TU7(UC7,"Cog"+I2S(NYG),NOG)
endfunction
function NZG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local real Hk=UO7(UC7,"Duration")
local integer N6E=GetTriggerEvalCount(t)
if N6E>R2I(Hk*100)then
call NWG(UC7,UO7(UC7,"x"),UO7(UC7,"y"),UP7(UC7,"NeedFix"),UD7(UC7,"Enemy"))
call TN7(UC7)
call UA7(t)
else
call NRG(t,U87(UC7,"Hero"),UO7(UC7,"x"),UO7(UC7,"y"),UO7(UC7,"d"),UN7(UC7,"Level"))
endif
set t=null
return false
endfunction
function NAG takes nothing returns nothing
call SetUnitX(GetEnumUnit(),GetUnitX(IN4))
call SetUnitY(GetEnumUnit(),GetUnitY(IN4))
endfunction
function NBG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local integer BH7=GetUnitAbilityLevel(CO7,1093687861)
local integer ID=1966092371
local real x1=GetUnitX(CO7)
local real y1=GetUnitY(CO7)
local real x2
local real y2
local real d=125
local unit NOG
local real Hk=4+BH7
local real BufferDuration=5
local group g
local rect NCG
local player N3G
if ZC7(GetOwningPlayer(CO7))then
set N3G=A7[0]
else
set N3G=Z7[0]
endif
call TN7(UC7)
call UA7(t)
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TT7(UC7,"NeedFix",false)
set x2=x1+d
set y2=y1
set NOG=CreateUnit(GetOwningPlayer(CO7),ID,x2,y2,0)
call SetUnitPosition(NOG,x2,y2)
call NXG(NOG,UC7,1,N3G)
if Z17(GetOwningPlayer(CO7))then
call TU7(GetHandleId(CO7),"AI|Cog1",NOG)
endif
set x2=x1+d
set y2=y1+d
set NOG=CreateUnit(GetOwningPlayer(CO7),ID,x2,y2,0)
call SetUnitPosition(NOG,x2,y2)
call NXG(NOG,UC7,2,N3G)
set x2=x1
set y2=y1+d
set NOG=CreateUnit(GetOwningPlayer(CO7),ID,x2,y2,0)
call SetUnitPosition(NOG,x2,y2)
call NXG(NOG,UC7,3,N3G)
if Z17(GetOwningPlayer(CO7))then
call TU7(GetHandleId(CO7),"AI|Cog2",NOG)
endif
set x2=x1-d
set y2=y1+d
set NOG=CreateUnit(GetOwningPlayer(CO7),ID,x2,y2,0)
call SetUnitPosition(NOG,x2,y2)
call NXG(NOG,UC7,4,N3G)
set x2=x1-d
set y2=y1
set NOG=CreateUnit(GetOwningPlayer(CO7),ID,x2,y2,0)
call SetUnitPosition(NOG,x2,y2)
call NXG(NOG,UC7,5,N3G)
if Z17(GetOwningPlayer(CO7))then
call TU7(GetHandleId(CO7),"AI|Cog3",NOG)
endif
set x2=x1-d
set y2=y1-d
set NOG=CreateUnit(GetOwningPlayer(CO7),ID,x2,y2,0)
call SetUnitPosition(NOG,x2,y2)
call NXG(NOG,UC7,6,N3G)
set x2=x1
set y2=y1-d
set NOG=CreateUnit(GetOwningPlayer(CO7),ID,x2,y2,0)
call SetUnitPosition(NOG,x2,y2)
call NXG(NOG,UC7,7,N3G)
if Z17(GetOwningPlayer(CO7))then
call TU7(GetHandleId(CO7),"AI|Cog4",NOG)
endif
set x2=x1+d
set y2=y1-d
set NOG=CreateUnit(GetOwningPlayer(CO7),ID,x2,y2,0)
call SetUnitPosition(NOG,x2,y2)
call NXG(NOG,UC7,8,N3G)
call TriggerRegisterTimerEvent(t,0.01,true)
call TriggerAddCondition(t,Condition(function NZG))
call TR7(UC7,"Duration",Hk*1.0)
call TR7(UC7,"x",x1*1.0)
call TR7(UC7,"y",y1*1.0)
call TR7(UC7,"d",d*1.0)
call TU7(UC7,"Hero",CO7)
call TQ7(UC7,"Level",BH7)
call TA7(UC7,"Enemy",N3G)
set d=d+110
set g=CX7()
set NCG=Rect(x1-d,y1-d,x1+d,y1+d)
set IN4=CO7
call GroupEnumUnitsInRect(g,NCG,Condition(function GK8))
call ForGroup(g,function NAG)
call CW7(g)
set t=null
set g=null
set CO7=null
set NOG=null
set NCG=null
set N3G=null
return false
endfunction
function N6G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,0.1,false)
call TriggerAddCondition(t,Condition(function NBG))
call TU7(UC7,"Hero",CO7)
set t=null
set CO7=null
endfunction
function NLG takes nothing returns boolean
if GetSpellAbilityId()==1093687861 then
call N6G()
endif
return false
endfunction
function S_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function NLG))
set t=null
endfunction
function N1G takes nothing returns nothing
if RW7(GetEnumUnit())==false then
call HD8(IN4,GetEnumUnit(),ZG4,IJ4)
endif
endfunction
function N0G takes unit N5G,real x,real y returns nothing
local real x1
local real y1
local group g=CX7()
local integer N2G=GetUnitAbilityLevel(N5G,1093687862)
local real N_G=40+40*N2G
set IN4=N5G
set IJ4=N_G
call GroupEnumUnitsInRange(g,x,y,600,Condition(function FT8))
call ForGroup(g,function N1G)
call CW7(g)
set x1=x
set y1=y
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
set x1=x+200
set y1=y+200
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
set x1=x+200
set y1=y-200
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
set x1=x-200
set y1=y+200
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
set x1=x-200
set y1=y-200
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))
call E88(GetOwningPlayer(N5G),10,x,y,600)
set g=null
endfunction
function O4G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit hn
local unit O7G=U87(UC7,"Projectile")
local real O8G=UO7(UC7,"TargetX")
local real O9G=UO7(UC7,"TargetY")
local real ODG=UO7(UC7,"Angle")
local real OEG=UO7(UC7,"SourceX")
local real OFG=UO7(UC7,"SourceY")
local real OGG=D78(OEG+30*Cos(ODG))
local real OHG=D88(OFG+30*Sin(ODG))
call SetUnitX(O7G,OGG)
call SetUnitY(O7G,OHG)
call TR7(UC7,"SourceX",OGG)
call TR7(UC7,"SourceY",OHG)
if RF7(O8G,O9G,OGG,OHG)<=35 then
call KillUnit(O7G)
set hn=U87(UC7,"Hero")
call N0G(hn,OGG,OHG)
call TN7(UC7)
call UA7(t)
endif
set t=null
set hn=null
set O7G=null
return false
endfunction
function OIG takes nothing returns nothing
local unit hn=GetTriggerUnit()
local real OEG=D78(GetUnitX(hn))
local real OFG=D88(GetUnitY(hn))
local location OJG=GetSpellTargetLoc()
local real O8G=D78(GetLocationX(OJG))
local real O9G=D88(GetLocationY(OJG))
local real ODG=Atan2(O9G-OFG,O8G-OEG)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit O7G=CreateUnit(GetOwningPlayer(hn),1747989337,OEG,OFG,ODG*bj_RADTODEG)
call RemoveLocation(OJG)
call SetUnitFacing(O7G,ODG*bj_RADTODEG)
call SetUnitPathing(O7G,false)
call LM7(O7G,1097625443)
call ShowUnit(O7G,false)
call UnitRemoveAbility(O7G,1097625443)
call ShowUnit(O7G,true)
call TR7(UC7,"OriginalX",OEG)
call TR7(UC7,"OriginalY",OFG)
call TR7(UC7,"SourceX",OEG)
call TR7(UC7,"SourceY",OFG)
call TR7(UC7,"TargetX",O8G)
call TR7(UC7,"TargetY",O9G)
call TR7(UC7,"Angle",ODG)
call TU7(UC7,"Hero",hn)
call TU7(UC7,"Projectile",O7G)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function O4G))
set hn=null
set OJG=null
set t=null
set O7G=null
endfunction
function OKG takes nothing returns boolean
if GetSpellAbilityId()==1093687862 then
call OIG()
endif
return false
endfunction
function T48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OKG))
set t=null
endfunction
function OMG takes unit p5,unit m5 returns nothing
local unit H88=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
local integer BH7=GetUnitAbilityLevel(p5,1093687864)
if BH7==0 then
set BH7=GetUnitAbilityLevel(p5,1093747542)
endif
call LM7(H88,1093687865)
call SetUnitAbilityLevel(H88,1093687865,BH7)
call IssueTargetOrder(H88,"thunderbolt",m5)
set H88=null
endfunction
function ONG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call OMG(IN4,GetEnumUnit())
endif
endfunction
function OOG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local unit m5=U87(UC7,"Target")
local integer OPG=UN7(UC7,"MaxLinks")
local integer B78=GetTriggerEvalCount(t)
local unit OQG
local group ORG=UG7(UC7,"AlreadyAdded")
local group g
local real OSG=200
if m5==null then
set OQG=U87(UC7,"OTG"+I2S(OPG+1-B78))
call RemoveUnit(OQG)
else
set OQG=U87(UC7,"OTG"+I2S(B78))
call SetUnitX(CO7,GetUnitX(OQG))
call SetUnitY(CO7,GetUnitY(OQG))
call RemoveUnit(OQG)
if B78==OPG then
set OSG=225
endif
set g=CX7()
set IN4=CO7
set IQ4=ORG
call GroupEnumUnitsInRange(g,GetUnitX(CO7),GetUnitY(CO7),OSG,Condition(function FT8))
call ForGroup(g,function ONG)
call CW7(g)
endif
if B78==OPG then
if m5!=null then
call PauseUnit(m5,false)
endif
call D28(GetUnitX(CO7),GetUnitY(CO7),100)
call CW7(ORG)
call TN7(UC7)
call UA7(t)
endif
set t=null
set CO7=null
set m5=null
set OQG=null
set ORG=null
set g=null
return false
endfunction
function OUG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local real l4=UO7(UC7,"Angle")
local integer U0D=UN7(UC7,"MaxCount")
local integer B78=GetTriggerEvalCount(t)
local real x=GetUnitX(CO7)+B78*50*Cos(l4*bj_DEGTORAD)
local real y=GetUnitY(CO7)+B78*50*Sin(l4*bj_DEGTORAD)
local boolean K1D=UP7(UC7,"Scepter")
local unit OVG
local trigger OWG=UF7(UC7,"Retract")
local integer MNE=GetHandleId(OWG)
local group g=CX7()
local unit m5
local integer ID=1966092374
local real OSG=125
if B78==1 then
set OSG=100
endif
set IN4=CO7
call GroupEnumUnitsInRange(g,x,y,OSG,Condition(function F18))
call GroupRemoveUnit(g,CO7)
set m5=GroupPickRandomUnit(g)
call CW7(g)
if m5!=null or B78==U0D or B78==(U0D-1)or B78==(U0D-2)then
set ID=1966092373
endif
set OVG=CreateUnit(GetOwningPlayer(CO7),ID,x,y,l4)
call TU7(MNE,"OTG"+I2S(B78),OVG)
if m5!=null then
if(IsUnitAlly(m5,GetOwningPlayer(CO7))==true and K1D==false)or GetOwningPlayer(m5)==B7 or UU7(m5,"Frozen")==true then
set m5=null
endif
call TN7(UC7)
call UA7(t)
if m5!=null and IsUnitAlly(m5,GetOwningPlayer(CO7))==false then
call PauseUnit(m5,true)
endif
call TriggerRegisterTimerEvent(OWG,0.5/ U0D,true)
call TriggerAddCondition(OWG,Condition(function OOG))
call TQ7(MNE,"MaxLinks",B78)
call TU7(MNE,"Target",m5)
call TU7(MNE,"Hero",CO7)
call TC7(MNE,"AlreadyAdded",CX7())
elseif B78>U0D then
set m5=null
call TN7(UC7)
call UA7(t)
call TriggerRegisterTimerEvent(OWG,0.5/ U0D,true)
call TriggerAddCondition(OWG,Condition(function OOG))
call TQ7(MNE,"MaxLinks",B78)
call TU7(MNE,"Target",m5)
call TU7(MNE,"Hero",CO7)
call TC7(MNE,"AlreadyAdded",CX7())
endif
set t=null
set CO7=null
set OVG=null
set OWG=null
set g=null
set m5=null
return false
endfunction
function OTG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real l4=PP7(GetUnitX(CO7),GetUnitY(CO7),GetLocationX(l),GetLocationY(l))
local integer BH7=GetUnitAbilityLevel(CO7,1093687864)
local integer OXG
local integer U0D
local boolean K1D=true
if BH7==0 then
set BH7=GetUnitAbilityLevel(CO7,1093747542)
set K1D=true
endif
set OXG=1500+500*BH7
set U0D=OXG/ 50
call TU7(UC7,"Hero",CO7)
call TQ7(UC7,"Level",BH7)
call TR7(UC7,"Angle",l4*1.0)
call TQ7(UC7,"MaxCount",U0D)
call TW7(UC7,"Retract",CreateTrigger())
call TT7(UC7,"Scepter",K1D)
call TriggerRegisterTimerEvent(t,0.5/ U0D,true)
call TriggerAddCondition(t,Condition(function OUG))
call RemoveLocation(l)
set t=null
set CO7=null
set l=null
endfunction
function OYG takes nothing returns boolean
if GetSpellAbilityId()==1093687864 or GetSpellAbilityId()==1093747542 then
call OTG()
endif
return false
endfunction
function T78 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OYG))
set t=null
endfunction
function OZG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local real B19
if H98==1 then
set B19=15
elseif H98==2 then
set B19=30
elseif H98==3 then
set B19=40
elseif H98==4 then
set B19=50
endif
if GetTriggerEvalCount(t)==3 or GetTriggerEvalCount(t)==4 then
call HD8(EC8,O07,ZG4,B19)
endif
if GetTriggerEvalCount(t)==4 then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call UnitRemoveAbility(O07,1093752403)
call UnitRemoveAbility(O07,1110459470)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function OAG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=GetUnitAbilityLevel(EC8,1095267426)
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetEventDamageSource()==EC8 and GetEventDamage()==0 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function OZG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",O07,"chest")))
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093752403,false)
call LM7(O07,1093752403)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function OBG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local real d=RE7(EC8,O07)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,6,false)
call TriggerAddCondition(t,Condition(function OAG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
set t=null
set EC8=null
set O07=null
endfunction
function OCG takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl",GetTriggerUnit(),"weapon"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl",GetTriggerUnit(),"hand"))
endfunction
function O3G takes nothing returns boolean
if GetSpellAbilityId()==1095267426 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call OCG()
elseif CV7(GetSpellTargetUnit())==false then
call OBG()
endif
endif
return false
endfunction
function TE8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function O3G))
set t=null
endfunction
function O6G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(EC8),GetUnitY(EC8),0)
call UnitAddAbility(H88,1093809972)
call IssueImmediateOrder(H88,"thunderclap")
call SelectUnitForPlayerSingle(EC8,GetOwningPlayer(EC8))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set EC8=null
set H88=null
return false
endfunction
function OLG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer H98=GetUnitAbilityLevel(EC8,1093677401)
local real H48=360-100*H98
if H98==3 then
set H48=50
endif
if TimerGetRemaining(N84[GetPlayerId(GetOwningPlayer(EC8))])==0 and GetUnitState(EC8,UNIT_STATE_MANA)>=140 then
call TimerStart(N84[GetPlayerId(GetOwningPlayer(EC8))],H48,false,null)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,3+0.01,false)
call TriggerAddCondition(t,Condition(function O6G))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
endif
set t=null
set EC8=null
return false
endfunction
function O1G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
call TriggerRegisterDeathEvent(t,EC8)
call TriggerAddCondition(t,Condition(function OLG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=null
set EC8=null
endfunction
function O0G takes nothing returns boolean
if GetLearnedSkill()==1093677401 and GetUnitAbilityLevel(GetTriggerUnit(),1093677401)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call O1G()
endif
return false
endfunction
function TF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function O0G))
set t=null
endfunction
function O5G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
call TN7(UC7)
call UA7(t)
call HJ8(p5,0)
set t=null
set p5=null
return false
endfunction
function O2G takes nothing returns boolean
if GetUnitTypeId(GetFilterUnit())==GetUnitTypeId(BB)and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(BB)and IsUnitIllusion(GetFilterUnit())==true then
call SetUnitX(GetFilterUnit(),OB)
call SetUnitY(GetFilterUnit(),AB)
call IssueTargetOrder(GetFilterUnit(),"attack",cB)
endif
return false
endfunction
function O_G takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real t5=GetUnitX(p5)
local real w5=GetUnitY(p5)
local real Y5=GetUnitX(m5)
local real Z5=GetUnitY(m5)
local real l4=PP7(t5,w5,Y5,Z5)
local real G1E=RF7(t5,w5,Y5,Z5)
local real d=GetRandomReal(G1E*0.3,G1E*0.8)
local integer BH7=GetUnitAbilityLevel(p5,1093685847)
local real YME=t5+d*Cos(l4*bj_DEGTORAD)
local real YNE=w5+d*Sin(l4*bj_DEGTORAD)
local unit u=CreateUnit(GetOwningPlayer(p5),EB,YME,YNE,0)
local unit u2
local group g
local trigger t
local integer UC7
call SetUnitX(p5,YME)
call SetUnitY(p5,YNE)
call SetUnitFacing(p5,-l4)
call PlaySoundOnUnitBJ(zE,100,m5)
if IsUnitEnemy(m5,GetOwningPlayer(p5))and GetUnitTypeId(m5)!=1848651852 then
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1.2,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function O5G))
call TU7(UC7,"Source",p5)
set t=null
call HJ8(p5,25*BH7)
set YME=t5+(d-25)*Cos(l4*bj_DEGTORAD)
set YNE=w5+(d-25)*Sin(l4*bj_DEGTORAD)
call U67(m5,"4405",1)
call SetUnitX(m5,YME)
call SetUnitY(m5,YNE)
call SetUnitFacing(m5,l4)
call IssueTargetOrder(p5,"attack",m5)
set g=CX7()
set OB=YME
set AB=YNE
set BB=p5
set cB=m5
call GroupEnumUnitsInRange(g,t5,w5,1400,Condition(function O2G))
call CW7(g)
set u2=CreateUnit(GetOwningPlayer(p5),EB,YME,YNE,0)
call KillUnit(u2)
endif
call KillUnit(u)
set p5=null
set m5=null
set u=null
set u2=null
set g=null
endfunction
function P4G takes nothing returns boolean
if GetSpellAbilityId()==1093685847 then
call O_G()
endif
return false
endfunction
function P7G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local unit u=CreateUnit(GetOwningPlayer(CO7),EB,GetUnitX(CO7),GetUnitY(CO7),0)
call PlaySoundOnUnitBJ(zE,100,CO7)
call KillUnit(u)
call TN7(UC7)
call UA7(t)
set u=null
set t=null
set CO7=null
return false
endfunction
function P8G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerAddCondition(t,Condition(function P7G))
call TriggerRegisterTimerEvent(t,0.3,false)
call TU7(UC7,"Hero",GetTriggerUnit())
set t=null
endfunction
function P9G takes nothing returns boolean
if GetSpellAbilityId()==1093685847 then
call P8G()
endif
return false
endfunction
function OV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function P4G))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function P9G))
set t=null
endfunction
function PDG takes nothing returns boolean
return GetSpellAbilityId()==1093678645
endfunction
function PEG takes nothing returns nothing
local integer T8=0
local integer U8=5
local integer array PFG
local player array PGG
local integer E89
local item Z4
set PFG[0]=0
set PFG[1]=0
set PFG[2]=0
set PFG[3]=0
set PFG[4]=0
set PFG[5]=0
call DisableTrigger(H94)
loop
exitwhen T8>U8
set E89=RZ7(UnitItemInSlot(GetTriggerUnit(),T8))
if E89==D0 or E89==E0 or E89==J0 or E89==N0 or E89==O0 or E89==R0 or E89==J1 or E89==R5 or E89==S5 or E89==T5 or E89==S6 or E89==D44 or E89==DD4 or E89==F74 then
set PFG[T8]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),T8))
set PGG[T8]=GetItemPlayer(UnitItemInSlot(GetTriggerUnit(),T8))
call RemoveItem(UnitItemInSlot(GetTriggerUnit(),T8))
endif
set T8=T8+1
endloop
call UnitResetCooldown(GetTriggerUnit())
set T8=0
set U8=5
loop
exitwhen T8>U8
if PFG[T8]>0 then
set Z4=CreateItem(PFG[T8],0,0)
call SetItemPlayer(Z4,PGG[T8],false)
call SetItemUserData(Z4,1)
call UnitAddItem(GetTriggerUnit(),Z4)
endif
set T8=T8+1
endloop
call EnableTrigger(H94)
set Z4=null
endfunction
function NX8 takes nothing returns nothing
set XJ=CreateTrigger()
call D18(XJ,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(XJ,Condition(function PDG))
call TriggerAddAction(XJ,function PEG)
endfunction
function PHG takes nothing returns nothing
call HD8(Y34,GetEnumUnit(),ZG4,(60.0+20.0*Y64)*0.25)
endfunction
function PIG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer CP8=GetTriggerEvalCount(t)
local group g
if CP8==20 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set IN4=EC8
set Y34=EC8
set Y64=GetUnitAbilityLevel(EC8,1093678407)
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),275,Condition(function FT8))
call ForGroup(g,function PHG)
call CW7(g)
set g=null
endif
set t=null
set EC8=null
return false
endfunction
function PJG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function PIG))
call SaveUnitHandle(L7,(OC7),(2),(GetTriggerUnit()))
call TriggerEvaluate(t)
call U67(GetTriggerUnit(),"BladeFury|Active",5)
endfunction
function PKG takes nothing returns boolean
if GetSpellAbilityId()==1093678407 then
call PJG()
endif
return false
endfunction
function MT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PKG))
set t=null
endfunction
function PMG takes nothing returns nothing
local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
local integer i1
local unit it=null
local item RA7=null
local integer i
local boolean J4=false
local player p=null
if(not QY4[O5])or(GetItemTypeId(GetManipulatedItem())==1227895373)or(not IsTriggerEnabled(H94))or(GetUnitTypeId(GetTriggerUnit())==1697656901)then
return
elseif(GetItemType(GetManipulatedItem())==ITEM_TYPE_POWERUP)then
call J3(it,false)
return
endif
set RA7=GetManipulatedItem()
set p=GetItemPlayer(RA7)
if(p==Player(15))then
set p=K27
endif
if(p!=Player(O5))or(RA7==KL7[336+O5])then
set it=GetTriggerUnit()
set i1=RY7(RA7)
if(IsUnitType(it,UNIT_TYPE_HERO)and(GetUnitTypeId(it)!=1211117642))then
set bj_lastCreatedItem=null
if K17[288+O5]==0 and(Bz>K17[160+O5])and((DBF(i1)or DCF(i1))and((not IsItemPowerup(RA7))or(not SS7(it))or(SR7(it,ZU[QW]))))then
set K17[288+O5]=i1
if bj_lastCreatedItem!=null and IsItemPowerup(RA7)then
set J4=true
endif
endif
if(i1==K17[288+O5]or i1==X0 or i1==B5 or i1==C5)then
set K17[288+O5]=i1
if IsItemPowerup(RA7)and SS7(it)and(EBF(O5,it)!=-1 or ECF(O5,it))then
set J4=(i1!=RY7(bj_lastCreatedItem))
endif
endif
if J4 then
set eY[512+O5]=0
set K57[304+O5]=true
call UnitRemoveItem(it,bj_lastCreatedItem)
call SetItemPosition(bj_lastCreatedItem,GetUnitX(it),GetUnitY(it))
loop
exitwhen eY[512+O5]!=0
call TriggerSleepAction(0.1)
endloop
set KL7[320+O5]=KL7[288+O5]
call J3(it,false)
call NZF(it)
endif
endif
if(not IsItemPowerup(RA7))then
if i1==K17[288+O5]then
call R47(1.)
set K17[288+O5]=0
else
if PK4 and GetItemType(RA7)==ITEM_TYPE_PERMANENT and GetItemTypeId(RA7)==ZU[i1]then
else
set K57[304+O5]=true
call UnitDropItemPoint(it,RA7,GetUnitX(it),GetUnitY(it))
endif
endif
endif
set it=null
endif
set RA7=null
set p=null
endfunction
function DisplayOrder takes nothing returns nothing
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10,I2S(GetIssuedOrderId())+": "+OrderId2String(GetIssuedOrderId()))
endfunction
function PNG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer iX=GetTriggerEvalCount(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local integer BH7=UN7(UC7,"Level")
local real POG
local unit PPG
set POG=0.6*(iX-25)*(iX-25)
if iX<51 then
if ModuloInteger(iX,5)==0 then
call HD8(p5,m5,ZG4,3+3*BH7)
endif
if S4D(m5)==false then
call SetUnitFlyHeight(m5,500-POG,0)
endif
else
set PPG=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LM7(PPG,1093742924)
call SetUnitAbilityLevel(PPG,1093742924,BH7)
call IssueTargetOrder(PPG,"slow",m5)
if S4D(m5)==false then
call SetUnitFlyHeight(m5,GetUnitDefaultFlyHeight(m5),0)
endif
if D9==false then
call PauseUnit(m5,false)
endif
call SetUnitPathing(m5,true)
call TN7(UC7)
call UA7(t)
endif
set t=null
set p5=null
set m5=null
set PPG=null
return false
endfunction
function PQG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=IN4
local unit m5=GetEnumUnit()
local integer BH7=IH4
call PauseUnit(m5,true)
call SetUnitPathing(m5,false)
if S4D(m5)==false then
call LM7(m5,1097691750)
call UnitRemoveAbility(m5,1097691750)
endif
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerAddCondition(t,Condition(function PNG))
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TQ7(UC7,"Level",BH7)
call HD8(p5,m5,ZG4,30+30*BH7)
set t=null
set p5=null
set m5=null
endfunction
function PRG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
local integer BH7=UN7(UC7,"Level")
local group g=CX7()
local ubersplat TD9=CreateUbersplat(x,y,"THNN",255,255,255,255,false,false)
call SetUbersplatRenderAlways(TD9,true)
call E88(GetOwningPlayer(CO7),4,x,y,400)
call DestroyEffect(UH7(UC7,"FX1"))
call DestroyEffect(UH7(UC7,"FX2"))
call DestroyEffect(UH7(UC7,"FX3"))
call DestroyEffect(UH7(UC7,"FX4"))
call DestroyEffect(UH7(UC7,"FX5"))
call DestroyEffect(UH7(UC7,"FX6"))
call TN7(UC7)
call UA7(t)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",x,y))
call DestroyEffect(AddSpecialEffect("effects\\TidalErruption.mdx",x,y))
set IN4=CO7
set IH4=BH7
call GroupEnumUnitsInRange(g,x,y,215+25,Condition(function F38))
call ForGroup(g,function PQG)
call CW7(g)
set t=null
set CO7=null
return false
endfunction
function PSG takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(CO7,1093743414)
local string s=""
local real a
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(CO7))==true or CM7(GetLocalPlayer())then
set s="Objects\\Spawnmodels\\Other\\IllidanFootprint\\IllidanWaterSpawnFootPrint.mdl"
endif
call RemoveLocation(l)
call TQ7(UC7,"Level",BH7)
call TU7(UC7,"Hero",CO7)
call TR7(UC7,"x",x)
call TR7(UC7,"y",y)
call TQ7(UC7,"Level",BH7)
set a=0
call TV7(UC7,"FX1",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
set a=1
call TV7(UC7,"FX2",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
set a=2
call TV7(UC7,"FX3",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
set a=3
call TV7(UC7,"FX4",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
set a=4
call TV7(UC7,"FX5",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
set a=5
call TV7(UC7,"FX6",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))
call TriggerRegisterTimerEvent(t,1.6,false)
call TriggerAddCondition(t,Condition(function PRG))
set CO7=null
set t=null
set l=null
endfunction
function PTG takes nothing returns boolean
if GetSpellAbilityId()==1093743414 then
call PSG()
endif
return false
endfunction
function TG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function PTG))
set t=null
endfunction
function R09 takes nothing returns nothing
call SetPlayerAbilityAvailable(GetOwningPlayer(B2),1093743671,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(B2),1093743672,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(B2),1093742933,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(B2),1093743673,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C2),1093743671,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C2),1093743672,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C2),1093742933,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(C2),1093743673,false)
endfunction
function PUG takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer AF7=GetHandleId(t)
local unit CC7=U87(AF7,"Hero")
local real PVG=RQ7()
local integer H98=GetUnitAbilityLevel(CC7,1093743444)
local real PWG=UO7(GetHandleId(CC7),"WaterSword|LastUsed")
local boolean PXG=UP7(GetHandleId(CC7),"WaterSword|Active")
if PVG-PWG>16-H98*3 and PXG==false and GetUnitTypeId(CC7)==1211119187 and LO7(CC7)==false then
call TT7(GetHandleId(CC7),"WaterSword|Active",true)
call UnitAddAbility(CC7,1093742927)
call SetUnitAbilityLevel(CC7,1093742927,H98)
call UnitAddAbility(CC7,1093742930)
if H98==1 then
call LM7(CC7,1093743671)
elseif H98==2 then
call LM7(CC7,1093743672)
elseif H98==3 then
call LM7(CC7,1093742933)
elseif H98==4 then
call LM7(CC7,1093743673)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(CC7),1093743671,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CC7),1093743672,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CC7),1093742933,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(CC7),1093743673,false)
elseif PXG==false then
call UnitRemoveAbility(CC7,1093742927)
call UnitRemoveAbility(CC7,1093742930)
call UnitRemoveAbility(CC7,1093743671)
call UnitRemoveAbility(CC7,1093743672)
call UnitRemoveAbility(CC7,1093742933)
call UnitRemoveAbility(CC7,1093743673)
endif
set t=null
set CC7=null
endfunction
function PYG takes nothing returns boolean
local unit CC7=GetTriggerUnit()
call TT7(GetHandleId(CC7),"WaterSword|Active",false)
call TR7(GetHandleId(CC7),"WaterSword|LastUsed",RQ7())
call UnitRemoveAbility(CC7,1093742927)
call UnitRemoveAbility(CC7,1093742930)
call UnitRemoveAbility(CC7,1093743671)
call UnitRemoveAbility(CC7,1093743672)
call UnitRemoveAbility(CC7,1093742933)
call UnitRemoveAbility(CC7,1093743673)
set CC7=null
return false
endfunction
function PZG takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer AF7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddAction(t,function PUG)
call TU7(AF7,"Hero",CC7)
call TR7(AF7,"WaterSword|LastUsed",0.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,CC7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function PYG))
set CC7=null
set t=null
endfunction
function PAG takes nothing returns boolean
if GetLearnedSkill()==1093743444 and GetUnitAbilityLevel(GetTriggerUnit(),1093743444)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call PZG()
endif
return false
endfunction
function PBG takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),1093743444)>0
endfunction
function PCG takes nothing returns nothing
local unit CC7=GetEventDamageSource()
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetUnitAbilityLevel(CC7,1093743444)>0 and IsPlayerEnemy(GetOwningPlayer(CC7),GetOwningPlayer(GetTriggerUnit()))then
if UP7(GetHandleId(CC7),"WaterSword|Active")==true then
call TT7(GetHandleId(CC7),"WaterSword|Active",false)
call TR7(GetHandleId(CC7),"WaterSword|LastUsed",RQ7())
call UnitRemoveAbility(CC7,1093742927)
call UnitRemoveAbility(CC7,1093742930)
call UnitRemoveAbility(CC7,1093743671)
call UnitRemoveAbility(CC7,1093743672)
call UnitRemoveAbility(CC7,1093742933)
call UnitRemoveAbility(CC7,1093743673)
call B67(GetTriggeringTrigger())
endif
endif
else
call B67(GetTriggeringTrigger())
endif
set CC7=null
endfunction
function P3G takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddAction(t,function PCG)
set t=null
endfunction
function TH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function PAG))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function PBG))
call TriggerAddAction(t,function P3G)
set t=null
endfunction
function P6G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local image i=UM7(UC7,"i")
local real x=UO7(UC7,"x")
local real y=UO7(UC7,"y")
local unit EC8=U87(UC7,"Source")
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093743428)then
if GetTriggerEventId()!=EVENT_UNIT_DEATH and CK7(m5)==false then
call SetUnitPosition(m5,x,y)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093743428,false)
if(LoadInteger(L7,(GetHandleId(EC8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EC8)),(704)))==1093742926 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093742926,true)
endif
call TT7(GetHandleId(m5),"XMarked",false)
call DestroyEffect(UH7(UC7,"FX"))
call ShowImage(i,false)
call DestroyImage(i)
call TN7(UC7)
call UA7(t)
endif
set t=null
set m5=null
set i=null
set EC8=null
return false
endfunction
function PLG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real x=GetUnitX(m5)
local real y=GetUnitY(m5)
local real P1G=90
local image i=CreateImage("Fonts\\X.blp",P1G,P1G,0,x-P1G/ 2,y-P1G/ 2,0,0,0,0,2)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local string fx=""
local integer BH7=GetUnitAbilityLevel(p5,1093742926)
call U67(m5,"4401",5)
call LM7(p5,1093743428)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093743428,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093742926,false)
call SetImageRenderAlways(i,true)
if IsUnitAlly(p5,GetOwningPlayer(m5))==false or IsUnitAlly(m5,GetLocalPlayer())==true or CM7(GetLocalPlayer())then
set fx="effects\\BlackTide.mdx"
call ShowImage(i,true)
else
call ShowImage(i,false)
endif
call SetImageColor(i,255,0,0,255)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(p5),1865429063,x,y,0),1112820806,5)
call TriggerRegisterTimerEvent(t,BH7,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function P6G))
call TT7(GetHandleId(m5),"XMarked",true)
call T27(UC7,"i",i)
call TU7(UC7,"Target",m5)
call TR7(UC7,"x",x)
call TR7(UC7,"y",y)
call TV7(UC7,"FX",AddSpecialEffectTarget(fx,m5,"overhead"))
call TU7(UC7,"Source",p5)
call TR7(GetHandleId(m5),"AI|XMark|X",x)
call TR7(GetHandleId(m5),"AI|XMark|Y",y)
set p5=null
set m5=null
set i=null
set t=null
endfunction
function P0G takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093742926 and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or CV7(GetSpellTargetUnit())==false)then
call PLG()
endif
else
if GetLearnedSkill()==1093742926 then
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093743428,false)
call LM7(GetTriggerUnit(),1093743428)
endif
endif
return false
endfunction
function P5G takes nothing returns boolean
if GetSpellAbilityId()==1093742926 then
if UP7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),BB7(1848652600))
endif
endif
return false
endfunction
function TI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function P0G))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function P5G))
set t=null
endfunction
function P2G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local integer P_G=1
local player p
local real d
local unit m5=U87(UC7,"Target")
local integer Q4G=UN7(UC7,"MaxIndex")
local unit PPG
local integer Hk=UN7(UC7,"Duration")
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>Hk then
call TN7(UC7)
call UA7(t)
else
loop
exitwhen P_G>Q4G
set p=UD7(UC7,"Player|"+I2S(P_G))
set d=UO7(UC7,"Damage|"+I2S(P_G))
if p==null then
set P_G=Q4G
else
set PPG=CreateUnit(p,1697656901,0,0,0)
call SetUnitState(m5,UNIT_STATE_LIFE,DR8(1,GetUnitState(m5,UNIT_STATE_LIFE)-d/ Hk))
endif
set P_G=P_G+1
endloop
endif
set t=null
set p=null
set m5=null
set PPG=null
return false
endfunction
function Q7G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local player p=UD7(UC7,"p")
local trigger Q8G=UF7(UC7,"Phase2")
local integer P_G=GetTriggerEvalCount(t)
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call TN7(UC7)
call UA7(t)
call TriggerRegisterTimerEvent(Q8G,1,true)
call TriggerAddCondition(Q8G,Condition(function P2G))
call UnitRemoveAbility(m5,1110456661)
else
set UC7=GetHandleId(Q8G)
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+0.5*GetEventDamage())
call TA7(UC7,"Player|"+I2S(P_G),GetOwningPlayer(GetEventDamageSource()))
call TR7(UC7,"Damage|"+I2S(P_G),0.5*GetEventDamage())
call TQ7(UC7,"MaxIndex",P_G)
endif
set t=null
set m5=null
set p=null
set Q8G=null
return false
endfunction
function Q9G takes nothing returns nothing
local unit p5=FT
local unit m5=GetEnumUnit()
local integer BH7=IT
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer Hk=8
local trigger Q8G=CreateTrigger()
call E28(m5,1093743158,1,Hk)
call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093743158,false)
call TriggerRegisterTimerEvent(t,Hk+0.01,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function Q7G))
call TA7(UC7,"p",GetOwningPlayer(p5))
call TU7(UC7,"Target",m5)
call TW7(UC7,"Phase2",Q8G)
call TU7(GetHandleId(Q8G),"Target",m5)
call TQ7(GetHandleId(Q8G),"Duration",Hk)
set p5=null
set m5=null
set t=null
set Q8G=null
endfunction
function QDG takes nothing returns boolean
if(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),gN)==false then
call GroupAddUnit(gN,GetFilterUnit())
return true
endif
return false
endfunction
function QEG takes nothing returns nothing
local unit p5=FT
local unit m5=GetEnumUnit()
local integer BH7=IT
call H78(p5,m5,1.4)
call HD8(p5,m5,ZG4,200+100*BH7)
set p5=null
set m5=null
endfunction
function QFG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit IJ=U87(UC7,"Projectile")
local unit QGG
local real RK=UO7(UC7,"Angle")
local real iN=GetUnitX(IJ)
local real io=GetUnitY(IJ)
local real QHG=UO7(UC7,"x2")
local real QIG=UO7(UC7,"y2")
local integer iX=GetTriggerEvalCount(t)
local real QJG=D78(QHG+13.33*iX*Cos(RK))
local real QKG=D88(QIG+13.33*iX*Sin(RK))
local integer BH7=UN7(UC7,"Level")
local group QMG=UG7(UC7,"AlreadyHit")
local group g
if iX<19 then
call SetUnitVertexColor(IJ,255,255,255,5+iX*10)
set QGG=U87(UC7,"Projectile2")
call SetUnitVertexColor(QGG,255,255,255,5+iX*10)
elseif iX<125 then
call SetUnitVertexColor(IJ,255,255,255,190)
elseif iX<150 then
endif
set g=CX7()
set gN=QMG
set IN4=IJ
set FT=IJ
set IT=BH7
call GroupEnumUnitsInRange(g,GetUnitX(IJ),GetUnitY(IJ),425,Condition(function QDG))
call ForGroup(g,function Q9G)
call CW7(g)
call SetUnitX(IJ,QJG)
call SetUnitY(IJ,QKG)
if iX==140 then
set QGG=U87(UC7,"Projectile2")
call KillUnit(QGG)
elseif iX<140 then
set QGG=U87(UC7,"Projectile2")
call SetUnitX(QGG,QJG)
call SetUnitY(QGG,QKG)
endif
if iX==150 then
set g=CX7()
set IN4=IJ
call GroupEnumUnitsInRange(g,QJG,QKG,425+25,Condition(function FT8))
call ForGroup(g,function QEG)
call CW7(g)
call KillUnit(IJ)
call CW7(QMG)
call TN7(UC7)
call UA7(t)
endif
set t=null
set IJ=null
set QGG=null
set QMG=null
set g=null
return false
endfunction
function QNG takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local real iN=GetUnitX(CO7)
local real io=GetUnitY(CO7)
local location l=GetSpellTargetLoc()
local real PYD=GetLocationX(l)
local real PZD=GetLocationY(l)
local real RK
local real x1
local real y1
local real x2
local real y2
local trigger t
local integer UC7
local integer BH7
local unit IJ
local unit QGG
local string s=""
local integer QOG=1747990101
if GetRandomInt(0,5)==0 then
set QOG=1747993674
endif
if IsPlayerAlly(GetOwningPlayer(CO7),GetLocalPlayer())or CM7(GetLocalPlayer())then
set s="war3mapImported\\Whirlpool.mdx"
endif
if PYD==GetUnitX(CO7)and PZD==GetUnitY(CO7)then
set PYD=PYD+50*Cos(GetUnitFacing(CO7)*bj_DEGTORAD)
set PZD=PZD+50*Sin(GetUnitFacing(CO7)*bj_DEGTORAD)
endif
set RK=Atan2(PZD-io,PYD-iN)
set x1=iN-1000*Cos(RK)
set y1=io-1000*Sin(RK)
set x2=iN+1000*Cos(RK)
set y2=io+1000*Sin(RK)
set t=CreateTrigger()
set UC7=GetHandleId(t)
set BH7=GetUnitAbilityLevel(CO7,1093742923)
set IJ=CreateUnit(GetOwningPlayer(CO7),QOG,x1,y1,Atan2(PZD-io,PYD-iN)*bj_RADTODEG)
set QGG=CreateUnit(GetOwningPlayer(CO7),1747990102,x1,y1,Atan2(PZD-io,PYD-iN)*bj_RADTODEG)
call SetUnitVertexColor(IJ,255,255,255,0)
call SetUnitPathing(IJ,false)
call RemoveLocation(l)
call TQ7(UC7,"Level",BH7)
call TR7(UC7,"Angle",RK)
call TU7(UC7,"Projectile",IJ)
call TU7(UC7,"Projectile2",QGG)
call TR7(UC7,"x2",x1)
call TR7(UC7,"y2",y1)
call TC7(UC7,"AlreadyHit",CX7())
call DestroyEffect(AddSpecialEffect(s,D78(x2),D88(y2)))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function QFG))
set CO7=null
set t=null
set IJ=null
set QGG=null
set l=null
endfunction
function QPG takes nothing returns boolean
if GetSpellAbilityId()==1093742923 then
call QNG()
endif
return false
endfunction
function TJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QPG))
call DE8(1093742924)
set t=null
endfunction
function QQG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
if UI7(UC7,"Light")!=null then
call DestroyLightning(UI7(UC7,"Light"))
endif
call TN7(UC7)
call UA7(t)
set t=null
return false
endfunction
function QRG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit G18=U87(UC7,"Projectile")
local unit m5=U87(UC7,"Target")
local real QSG=UO7(UC7,"OriginalAngle")
local real l4=Atan2(GetUnitY(m5)-GetUnitY(G18),GetUnitX(m5)-GetUnitX(G18))
local integer BH7=UN7(UC7,"Level")
local real x=GetUnitX(G18)+50*Cos(l4)
local real y=GetUnitY(G18)+50*Sin(l4)
local unit H88
local destructable d
local lightning NIE
local unit FGG
local boolean FD9=UP7(UC7,"Active")
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call TN7(UC7)
call UA7(t)
call KillUnit(G18)
else
call SetUnitX(G18,x)
call SetUnitY(G18,y)
call SetUnitFacing(G18,l4*bj_RADTODEG)
if RF7(x,y,GetUnitX(m5),GetUnitY(m5))<45 then
set XK4=(LoadReal(L7,(UC7),(6)))
set XM4=(LoadReal(L7,(UC7),(7)))
call TN7(UC7)
call UA7(t)
if GetUnitTypeId(m5)!=1848651852 and FD9 then
set H88=G58(G18,m5,QSG)
set d=GL8(G18,m5,QSG)
if H88!=null then
set t=CreateTrigger()
set UC7=GetHandleId(t)
set FGG=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LM7(FGG,1093743177)
call SetUnitAbilityLevel(FGG,1093743177,BH7+1)
call IssueTargetOrder(FGG,"thunderbolt",m5)
set FGG=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(H88),GetUnitY(H88),0)
call LM7(FGG,1093743177)
call SetUnitAbilityLevel(FGG,1093743177,BH7+1)
call IssueTargetOrder(FGG,"thunderbolt",H88)
call TriggerRegisterTimerEvent(t,0.25+BH7*0.75,false)
call TriggerAddCondition(t,Condition(function QQG))
set NIE=AddLightning("MFPB",true,GetUnitX(m5),GetUnitY(m5),GetUnitX(H88),GetUnitY(H88))
call SetLightningColor(NIE,0.5,0.5,1,1)
call TX7(UC7,"Light",NIE)
elseif d!=null then
set t=CreateTrigger()
set UC7=GetHandleId(t)
set FGG=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LM7(FGG,1093743177)
call SetUnitAbilityLevel(FGG,1093743177,BH7+1)
call IssueTargetOrder(FGG,"thunderbolt",m5)
call TriggerRegisterTimerEvent(t,0.25+BH7*0.75,false)
call TriggerAddCondition(t,Condition(function QQG))
set NIE=AddLightning("MFPB",true,GetUnitX(m5),GetUnitY(m5),GetDestructableX(d),GetDestructableY(d))
call SetLightningColor(NIE,0.5,0.5,1,1)
call TX7(UC7,"Light",NIE)
call SetDestructableAnimation(d,"stand hit")
else
set FGG=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)
call LM7(FGG,1093743177)
call SetUnitAbilityLevel(FGG,1093743177,1)
call IssueTargetOrder(FGG,"thunderbolt",m5)
endif
endif
call KillUnit(G18)
endif
endif
set t=null
set G18=null
set m5=null
set NIE=null
set H88=null
set d=null
set FGG=null
return false
endfunction
function QTG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real l4=Atan2(GetUnitY(m5)-GetUnitY(p5),GetUnitX(m5)-GetUnitX(p5))
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit G18=CreateUnit(GetOwningPlayer(p5),1747990327,GetUnitX(p5),GetUnitY(p5),l4*bj_RADTODEG)
local integer BH7=GetUnitAbilityLevel(p5,1093743178)
local boolean FD9=CV7(GetSpellTargetUnit())==false
call TU7(UC7,"Projectile",G18)
call TU7(UC7,"Target",m5)
call TQ7(UC7,"Level",BH7)
call TR7(UC7,"OriginalAngle",(l4)*1.0)
call TT7(UC7,"Active",FD9)
call SaveReal(L7,(UC7),(6),((GetUnitX(p5))*1.0))
call SaveReal(L7,(UC7),(7),((GetUnitY(p5))*1.0))
call TriggerRegisterTimerEvent(t,0.033,true)
call TriggerAddCondition(t,Condition(function QRG))
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
set p5=null
set m5=null
set t=null
endfunction
function QUG takes nothing returns boolean
if GetSpellAbilityId()==1093743178 then
call QTG()
endif
return false
endfunction
function TK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QUG))
set t=null
endfunction
function QVG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local integer BH7=UN7(UC7,"Level")
local integer QWG=UN7(UC7,"BonusID")
call DestroyEffect(AddSpecialEffect("effects\\Tornado.mdx",GetUnitX(p5),GetUnitY(p5)))
if GetTriggerEvalCount(t)>10*(2+0.75*BH7)or GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitRemoveAbility(p5,QWG)
call UnitRemoveAbility(p5,1110456663)
call DestroyEffect(UH7(UC7,"FX1"))
call DestroyEffect(UH7(UC7,"FX2"))
call TN7(UC7)
call UA7(t)
endif
set t=null
set p5=null
return false
endfunction
function QXG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(p5,1093743689)
local integer QWG
if BH7==1 then
set QWG=1093743413
elseif BH7==2 then
set QWG=1093743183
elseif BH7==3 then
set QWG=1093743412
elseif BH7==4 then
set QWG=1093743417
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),QWG,false)
call E28(p5,QWG,1,2+0.75*BH7)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function QVG))
call TU7(UC7,"Source",p5)
call TQ7(UC7,"Level",BH7)
call TQ7(UC7,"BonusID",QWG)
call TV7(UC7,"FX1",AddSpecialEffectTarget("effects\\Tornado.mdx",p5,"hand,left"))
call TV7(UC7,"FX2",AddSpecialEffectTarget("effects\\Tornado.mdx",p5,"hand,right"))
set p5=null
set t=null
endfunction
function QYG takes nothing returns boolean
if GetSpellAbilityId()==1093743689 then
call QXG()
endif
return false
endfunction
function TM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function QYG))
set t=null
endfunction
function QZG takes unit p5,unit m5,real DS8,integer QAG,integer QBG returns nothing
call HD8(p5,m5,ZG4,(DS8)*Pow(0.9,QAG)*Pow(0.99,QBG))
endfunction
function QCG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),ZB)==false and GetUnitAbilityLevel(GetEnumUnit(),1113815395)==0 then
call QZG(vc,GetEnumUnit(),ec,ac,xc)
call GroupAddUnit(ZB,GetEnumUnit())
set ac=ac+1
endif
endfunction
function Q3G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit IJ=U87(UC7,"Projectile")
local real QHG=UO7(UC7,"TargetX")
local real QIG=UO7(UC7,"TargetY")
local real RK=UO7(UC7,"Angle")
local real DS8=UO7(UC7,"Damage")
local integer QBG=UN7(UC7,"TreeCount")
local integer QAG=UN7(UC7,"UnitCount")
local group QMG=UG7(UC7,"AlreadyHit")
local real x=D78(GetUnitX(IJ)+(60*Pow(0.9,QAG)*Pow(0.99,QBG))*Cos(RK))
local real y=D88(GetUnitY(IJ)+(60*Pow(0.9,QAG)*Pow(0.99,QBG))*Sin(RK))
local group g=CX7()
local real d
if GetTriggerEvalCount(t)>2 then
set d=150
else
set d=75
endif
call DestroyEffect(AddSpecialEffect("effects\\Tornado.mdx",x,y))
set QBG=QBG+D28(x,y,75)
call TQ7(UC7,"TreeCount",QBG)
set ZB=QMG
set vc=IJ
set ec=DS8
set xc=QBG
set ac=QAG
set IN4=IJ
call GroupEnumUnitsInRange(g,x,y,d,Condition(function FT8))
call ForGroup(g,function QCG)
call CW7(g)
call TQ7(UC7,"UnitCount",ac)
call SetUnitX(IJ,x)
call SetUnitY(IJ,y)
if GetTriggerEvalCount(t)>29 then
call KillUnit(IJ)
call CW7(QMG)
call TN7(UC7)
call UA7(t)
endif
set t=null
set IJ=null
set QMG=null
set g=null
return false
endfunction
function Q6G takes nothing returns nothing
local unit p5=GetTriggerUnit()
local real x2=UO7(GetHandleId(p5),"ReverseLance|x")
local real y2=UO7(GetHandleId(p5),"ReverseLance|y")
local real QLG=DQ8(RQ7()-UO7(GetHandleId(p5),"ReverseLance|Time"),1.0)
local real RK=Atan2(y2-GetUnitY(p5),x2-GetUnitX(p5))
local trigger t
local integer UC7
local unit IJ
local integer BH7=GetUnitAbilityLevel(p5,1093743179)
local real DS8=(40+80*BH7)*(QLG)
set t=CreateTrigger()
set UC7=GetHandleId(t)
set IJ=CreateUnit(GetOwningPlayer(p5),1747990328,GetUnitX(p5),GetUnitY(p5),RK*bj_RADTODEG)
set x2=GetUnitX(p5)+1700*Cos(RK)
set y2=GetUnitY(p5)+1700*Sin(RK)
call TU7(UC7,"Projectile",IJ)
call TR7(UC7,"TargetX",x2)
call TR7(UC7,"TargetY",y2)
call TR7(UC7,"Angle",RK)
call TR7(UC7,"Damage",DS8)
call TQ7(UC7,"TreeCount",0)
call TQ7(UC7,"UnitCount",0)
call TC7(UC7,"AlreadyHit",CX7())
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function Q3G))
set p5=null
set t=null
set IJ=null
endfunction
function Q1G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=U87(UC7,"Hero")
call SetUnitTimeScale(CO7,1)
call TN7(UC7)
call UA7(t)
set t=null
set CO7=null
return false
endfunction
function Q0G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit CO7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
call RemoveLocation(l)
call TR7(GetHandleId(CO7),"ReverseLance|x",x)
call TR7(GetHandleId(CO7),"ReverseLance|y",y)
call TR7(GetHandleId(CO7),"ReverseLance|Time",RQ7())
call SetUnitTimeScale(CO7,0.75)
call TU7(UC7,"Hero",CO7)
call TriggerRegisterTimerEvent(t,0.75,false)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Q1G))
set t=null
set CO7=null
endfunction
function Q5G takes nothing returns boolean
if GetSpellAbilityId()==1093743179 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call TT7(GetHandleId(GetTriggerUnit()),"ReverseLance|Active",false)
call Q0G()
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call TT7(GetHandleId(GetTriggerUnit()),"ReverseLance|Active",true)
elseif UP7(GetHandleId(GetTriggerUnit()),"ReverseLance|Active")==true then
call Q6G()
endif
endif
return false
endfunction
function TN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Q5G))
set t=null
endfunction
function Q2G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local integer HG8=UN7(UC7,"TargetIndex")
local unit m5=ZX7(HG8)
local real Q_G=UO7(UC7,"Rate")
local boolean K1D=UP7(UC7,"Scepter")
if GetTriggerEvalCount(t)==1 then
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
endif
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==p5 and K1D==false then
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+(Q_G)*GetEventDamage())
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093743184 or GetSpellAbilityId()==1093747766 then
call ZW7(HG8)
call TN7(UC7)
call UA7(t)
endif
else
call UnitRemoveAbility(p5,1093743186)
call UnitRemoveAbility(p5,1110456664)
call ZW7(HG8)
call TN7(UC7)
call UA7(t)
call UnitRemoveAbility(p5,1093748299)
call UnitRemoveAbility(p5,1093748300)
call UnitRemoveAbility(p5,1093748298)
endif
set t=null
set p5=null
set m5=null
return false
endfunction
function R4G takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(EC8,1093743184)
local real XID=0.6-BH7*0.1
local boolean ZND=false
call UnitRemoveAbility(EC8,1093743186)
call UnitRemoveAbility(EC8,1110456664)
if BH7==0 then
call UnitRemoveAbility(EC8,1093748299)
call UnitRemoveAbility(EC8,1093748300)
call UnitRemoveAbility(EC8,1093748298)
set ZND=true
set BH7=GetUnitAbilityLevel(EC8,1093747766)
set XID=0.6-BH7*0.15
if BH7==1 then
call LM7(EC8,1093748299)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093748299,false)
elseif BH7==2 then
call LM7(EC8,1093748300)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093748300,false)
elseif BH7==3 then
call LM7(EC8,1093748298)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093748298,false)
endif
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093743186,false)
call LM7(EC8,1093743186)
call IssueTargetOrder(EC8,"attack",O07)
call TU7(UC7,"Source",EC8)
call TT7(UC7,"Scepter",ZND)
call TQ7(UC7,"TargetIndex",ZZ7(O07))
call TR7(UC7,"Rate",XID)
call TQ7(UC7,"Attacks",0)
call TU7(GetHandleId(EC8),"Target",O07)
call TriggerRegisterTimerEvent(t,20,false)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Q2G))
set EC8=null
set O07=null
set t=null
endfunction
function R7G takes nothing returns boolean
if(GetSpellAbilityId()==1093743184 or GetSpellAbilityId()==1093747766)and CV7(GetSpellTargetUnit())==false then
call R4G()
endif
return false
endfunction
function R8G takes unit EC8 returns nothing
local unit O07=U87(GetHandleId(EC8),"Target")
if GetTriggerUnit()==O07 then
call DestroyEffect(AddSpecialEffectTarget("effects\\Tornado.mdx",EC8,"hand,left"))
call DestroyEffect(AddSpecialEffectTarget("effects\\Tornado.mdx",EC8,"hand,right"))
elseif GetTriggerUnit()!=O07 then
call UnitRemoveAbility(EC8,1093743186)
call UnitRemoveAbility(EC8,1110456664)
call UnitRemoveAbility(EC8,1093748299)
call UnitRemoveAbility(EC8,1093748300)
call UnitRemoveAbility(EC8,1093748298)
endif
set O07=null
endfunction
function R9G takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093743186)>0 then
call R8G(GetAttacker())
endif
return false
endfunction
function TO8 takes nothing returns nothing
local trigger t=CreateTrigger()
local trigger t2=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function R7G))
call D18(t2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t2,Condition(function R9G))
set t=null
set t2=null
endfunction
function RDG takes unit CO7,integer BH7 returns integer
local integer REG
local integer RFG
if BH7==1 then
set RFG=1110458929
set REG=1093744730
if GetUnitAbilityLevel(CO7,RFG)>0 then
call UnitRemoveAbility(CO7,RFG)
return REG
endif
set RFG=1110458928
set REG=1093744970
if GetUnitAbilityLevel(CO7,RFG)>0 then
call UnitRemoveAbility(CO7,RFG)
return REG
endif
set RFG=1110458713
set REG=1093744970
if GetUnitAbilityLevel(CO7,RFG)>0 then
call UnitRemoveAbility(CO7,RFG)
return REG
endif
return 1093744729
elseif BH7==2 then
set RFG=1110458936
set REG=1093744968
if GetUnitAbilityLevel(CO7,RFG)>0 then
call UnitRemoveAbility(CO7,RFG)
return REG
endif
set RFG=1110458935
set REG=1093744967
if GetUnitAbilityLevel(CO7,RFG)>0 then
call UnitRemoveAbility(CO7,RFG)
return REG
endif
set RFG=1110458930
set REG=1093744967
if GetUnitAbilityLevel(CO7,RFG)>0 then
call UnitRemoveAbility(CO7,RFG)
return REG
endif
return 1093744969
elseif BH7==3 then
set RFG=1110458931
set REG=1093744965
if GetUnitAbilityLevel(CO7,RFG)>0 then
call UnitRemoveAbility(CO7,RFG)
return REG
endif
set RFG=1110458937
set REG=1093744964
if GetUnitAbilityLevel(CO7,RFG)>0 then
call UnitRemoveAbility(CO7,RFG)
return REG
endif
set RFG=1110458934
set REG=1093744964
if GetUnitAbilityLevel(CO7,RFG)>0 then
call UnitRemoveAbility(CO7,RFG)
return REG
endif
return 1093744971
elseif BH7==4 then
set RFG=1110458933
set REG=1093744950
if GetUnitAbilityLevel(CO7,RFG)>0 then
call UnitRemoveAbility(CO7,RFG)
return REG
endif
set RFG=1110458932
set REG=1093744949
if GetUnitAbilityLevel(CO7,RFG)>0 then
call UnitRemoveAbility(CO7,RFG)
return REG
endif
set RFG=1110458945
set REG=1093744949
if GetUnitAbilityLevel(CO7,RFG)>0 then
call UnitRemoveAbility(CO7,RFG)
return REG
endif
return 1093744972
endif
return 0
endfunction
function RGG takes nothing returns nothing
local unit CO7=GetTriggerUnit()
local integer BH7=GetUnitAbilityLevel(CO7,1093744728)
local integer RFG=RDG(CO7,BH7)
local unit H88=CreateUnit(GetOwningPlayer(CO7),1697656901,GetUnitX(CO7),GetUnitY(CO7),0)
call LM7(H88,RFG)
call IssueTargetOrder(H88,"bloodlust",CO7)
set CO7=null
set H88=null
endfunction
function RHG takes nothing returns boolean
if GetSpellAbilityId()==1093677382 or GetSpellAbilityId()==1093677623 or GetSpellAbilityId()==1093677392 or GetSpellAbilityId()==1093679450 or(GetUnitPointValue(GetTriggerUnit())==500 and B77(GetSpellAbilityId()))then
call RGG()
endif
return false
endfunction
function RIG takes unit CO7,boolean A_9 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,CO7,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RHG))
if A_9 then
set nj[GetPlayerId(GetOwningPlayer(CO7))]=t
endif
set t=null
set CO7=null
endfunction
function RJG takes nothing returns boolean
if GetLearnedSkill()==1093744728 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093744728)==1 then
call RIG(GetTriggerUnit(),false)
endif
return false
endfunction
function TP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function RJG))
set t=null
endfunction
function RKG takes nothing returns boolean
if(GetSpellAbilityId()==1093677392 or GetSpellAbilityId()==1093679450)and CK7(GetSpellTargetUnit())then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659026))
endif
return false
endfunction
function TQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function RKG))
set t=null
endfunction
function RMG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=U87(OC7,"Source")
local unit O07=U87(OC7,"Target")
local integer CP8=UN7(GetHandleId(O07),"StickyNapalm|Count")
local boolean RNG=UP7(OC7,"Locked")
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call SetUnitTurnSpeed(O07,GetUnitDefaultTurnSpeed(O07))
call TQ7(GetHandleId(O07),"StickyNapalm|Count",0)
call TN7(OC7)
call UA7(t)
call DL9(O07,0,0)
elseif CP8==0 then
call SetUnitTurnSpeed(O07,GetUnitDefaultTurnSpeed(O07))
call TQ7(GetHandleId(O07),"StickyNapalm|Count",0)
call TN7(OC7)
call UA7(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED and RNG==false then
if CP8>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093748044)>0 and U87(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()then
call TT7(OC7,"Locked",true)
if S44 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",O07,"chest"))
call HD8(EC8,O07,ZG4,0.5*(5+5*GetUnitAbilityLevel(EC8,1093748044))*CP8)
elseif(GetEventDamage()>34 and IsUnitType(O07,UNIT_TYPE_HERO)==true)or(GetEventDamage()>45 and IsUnitType(O07,UNIT_TYPE_HERO)==false)then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",O07,"chest"))
call HD8(EC8,O07,ZG4,(5+5*GetUnitAbilityLevel(EC8,1093748044))*CP8)
endif
call TT7(OC7,"Locked",false)
endif
else
call SetUnitTurnSpeed(O07,GetUnitDefaultTurnSpeed(O07)*0.3)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function ROG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(U87(OC7,"Source"))
local unit O07=(U87(OC7,"Target"))
local real E69=(UO7(GetHandleId(O07),"StickyNapalm|LastTime"))
local integer StickyCount=(UN7(GetHandleId(O07),"StickyNapalm|Count"))
if(TimerGetElapsed(W))-E69>=8 then
call SetUnitTurnSpeed(O07,GetUnitDefaultTurnSpeed(O07))
call TQ7(GetHandleId(O07),"StickyNapalm|Count",0)
call DL9(O07,0,0)
endif
call TN7(OC7)
call UA7(t)
set t=null
set EC8=null
set O07=null
return false
endfunction
function RPG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetEnumUnit()
local trigger t
local integer OC7
local integer H98=GetUnitAbilityLevel(EC8,1093748044)
local integer CP8=IMinBJ(UN7(GetHandleId(O07),"StickyNapalm|Count")+1,10)
if CK7(O07)then
set EC8=null
set O07=null
return
endif
call DL9(O07,H98,CP8)
call TQ7(GetHandleId(O07),"StickyNapalm|Count",CP8)
call TR7(GetHandleId(O07),"StickyNapalm|LastTime",(TimerGetElapsed(W))*1.0)
call SetUnitTurnSpeed(O07,GetUnitDefaultTurnSpeed(O07)*0.3)
if IsUnitType(O07,UNIT_TYPE_HERO)==true then
call D38(GetOwningPlayer(EC8),I2S(CP8)+"!",2,O07,0.026,50,0,255,216)
endif
if CP8==1 then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TU7(OC7,"Source",EC8)
call TU7(OC7,"Target",O07)
call TT7(OC7,"Locked",false)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function RMG))
endif
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,8,false)
call TriggerAddCondition(t,Condition(function ROG))
call TU7(OC7,"Source",EC8)
call TU7(OC7,"Target",O07)
set t=null
set EC8=null
set O07=null
endfunction
function RQG takes nothing returns nothing
local group g=CX7()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local unit p5=GetTriggerUnit()
call GroupEnumUnitsInRange(g,x,y,400,Condition(function F58))
call ForGroup(g,function RPG)
call E88(GetOwningPlayer(p5),2,x,y,500)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y+130))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y-130))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+130,y))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+130,y+130))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+130,y-130))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-130,y))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-130,y+130))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-130,y-130))
call RemoveLocation(l)
call CW7(g)
set g=null
set l=null
set p5=null
endfunction
function RRG takes nothing returns boolean
if GetSpellAbilityId()==1093748044 then
call RQG()
endif
return false
endfunction
function TR8 takes nothing returns nothing
local integer i
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RRG))
set W24[1]=1093752899
set W24[2]=1093752898
set W24[3]=1093752884
set W24[4]=1093752885
set W24[5]=1093752886
set W24[6]=1093752887
set W24[7]=1093752897
set W24[8]=1093752888
set W24[9]=1093752889
set W24[10]=1093752900
set W_4[1]=1093752909
set W_4[2]=1093752901
set W_4[3]=1093752902
set W_4[4]=1093752903
set W_4[5]=1093752904
set W_4[6]=1093752905
set W_4[7]=1093752906
set W_4[8]=1093752907
set W_4[9]=1093752910
set W_4[10]=1093752908
set X44[1]=1093752911
set X44[2]=1093752918
set X44[3]=1093752919
set X44[4]=1093752913
set X44[5]=1093752914
set X44[6]=1093752915
set X44[7]=1093752920
set X44[8]=1093752916
set X44[9]=1093752917
set X44[10]=1093752912
set X74[1]=1093752921
set X74[2]=1093752922
set X74[3]=1093753141
set X74[4]=1093753142
set X74[5]=1093753143
set X74[6]=1093753137
set X74[7]=1093753138
set X74[8]=1093753139
set X74[9]=1093753140
set X74[10]=1093753136
set i=1
loop
exitwhen i>10
call DE8(W24[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call DE8(W_4[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call DE8(X44[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>10
call DE8(X74[i])
set i=i+1
endloop
set t=null
endfunction
function RSG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit m5=U87(UC7,"Target")
local real a=UO7(UC7,"a")
local real d=UO7(UC7,"d")
local real x1=UO7(UC7,"x")
local real y1=UO7(UC7,"y")
local real x2
local real y2
local real x
local real y
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>10 then
call D28(GetUnitX(m5),GetUnitY(m5),200)
call DestroyEffect(UH7(UC7,"FX"))
call TN7(UC7)
call UA7(t)
else
set x2=x1+d*Cos(a)
set y2=y1+d*Sin(a)
if(IsPointInRegion(IU4,((x2)*1.0),((y2)*1.0)))==false then
call TR7(UC7,"x",(x2)*1.0)
call TR7(UC7,"y",(y2)*1.0)
set x=x2
set y=y2
else
set x=x1
set y=y1
endif
if IsUnitType(m5,UNIT_TYPE_HERO)==true then
call SetUnitPosition(m5,x,y)
else
call SetUnitX(m5,x)
call SetUnitY(m5,y)
endif
endif
set t=null
set m5=null
return false
endfunction
function RTG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetEnumUnit()
local integer BH7=GetUnitAbilityLevel(p5,1093744982)
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function RSG))
call TU7(UC7,"Target",m5)
call TR7(UC7,"a",(Atan2(GetUnitY(m5)-C1,GetUnitX(m5)-B1))*1.0)
call TR7(UC7,"d",(DR8((400-RF7(B1,C1,GetUnitX(m5),GetUnitY(m5))),10)/ 10)*1.0)
call TR7(UC7,"x",(GetUnitX(m5))*1.0)
call TR7(UC7,"y",(GetUnitY(m5))*1.0)
set p5=null
set m5=null
set t=null
call HD8(S74,GetEnumUnit(),ZG4,S84*75)
endfunction
function RUG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit H88=U87(UC7,"Caster")
local unit p5=U87(UC7,"Source")
local real a=UO7(UC7,"a")
local group g=CX7()
local unit m5
local real x=GetUnitX(H88)
local real y=GetUnitY(H88)
local real OSE=UO7(UC7,"FinalX")
local real OTE=UO7(UC7,"FinalY")
set x=D78(x+36*Cos(a))
set y=D88(y+36*Sin(a))
call SetUnitX(H88,x)
call SetUnitY(H88,y)
set IN4=H88
call GroupEnumUnitsInRange(g,x,y,125,Condition(function F38))
set m5=FirstOfGroup(g)
call CW7(g)
if RF7(x,y,OSE,OTE)<40 or GetTriggerEvalCount(t)>100 then
set m5=null
set x=OSE
set y=OTE
set S74=p5
set S84=UN7(UC7,"Level")
set N1=m5
if m5==null then
set B1=x
set C1=y
else
set B1=GetUnitX(m5)
set C1=GetUnitY(m5)
endif
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,400,Condition(function F38))
if m5!=null then
call GroupRemoveUnit(g,m5)
call H78(p5,m5,0.3)
call HD8(S74,m5,ZG4,S84*75)
endif
call ForGroup(g,function RTG)
call KillUnit(H88)
call CW7(g)
call TN7(UC7)
call UA7(t)
endif
set t=null
set m5=null
set H88=null
set p5=null
set g=null
return false
endfunction
function RVG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer BH7=GetUnitAbilityLevel(p5,1093744982)
local unit H88
set H88=CreateUnit(GetOwningPlayer(p5),1747993924,GetUnitX(p5),GetUnitY(p5),a*bj_RADTODEG)
call RemoveLocation(l)
call TR7(UC7,"a",a)
call TQ7(UC7,"Level",BH7)
call TU7(UC7,"Source",p5)
call TU7(UC7,"Caster",H88)
call TR7(UC7,"FinalX",((x)*1.0))
call TR7(UC7,"FinalY",((y)*1.0))
call TriggerRegisterTimerEvent(t,0.04,true)
call TriggerAddCondition(t,Condition(function RUG))
set p5=null
set H88=null
set l=null
set t=null
endfunction
function RWG takes nothing returns boolean
if GetSpellAbilityId()==1093744982 then
call RVG()
endif
return false
endfunction
function TS8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function RWG))
set t=null
endfunction
function RXG takes nothing returns nothing
local unit EC8=S94
local unit EEG=GetEnumUnit()
local unit O07
local group g
if GetUnitCurrentOrder(EEG)==0 then
set g=CX7()
set IN4=EEG
call GroupEnumUnitsInRange(g,GetUnitX(EEG),GetUnitY(EEG),825,Condition(function FT8))
set O07=FirstOfGroup(g)
if O07!=null then
call GroupRemoveUnit(g,O07)
endif
if FirstOfGroup(g)==null and O07==EC8 then
call IssueTargetOrder(EEG,"attack",O07)
endif
call CW7(g)
set O07=null
set g=null
endif
set EC8=null
set EEG=null
endfunction
function RYG takes unit EC8 returns nothing
local group g=CX7()
set IN4=EC8
set S94=EC8
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),1000,Condition(function GS8))
call ForGroup(g,function RXG)
call CW7(g)
set g=null
endfunction
function RZG takes nothing returns nothing
call HD8(S94,GetEnumUnit(),ZG4,SD4*10)
endfunction
function RAG takes unit EC8,integer OC7,integer CP8 returns nothing
local group g1=CX7()
local group g2=CX7()
local integer i=0
set IN4=EC8
loop
exitwhen i>CP8
call GroupEnumUnitsInRange(g2,UO7(OC7,"X"+I2S(i)),UO7(OC7,"Y"+I2S(i)),225,Condition(function FT8))
call GroupAddGroup(g2,g1)
call GroupClear(g2)
set i=i+1
endloop
call CW7(g2)
if FirstOfGroup(g1)!=null then
set S94=EC8
set SD4=GetUnitAbilityLevel(EC8,1093744986)
call ForGroup(g1,function RZG)
endif
call CW7(g1)
set g1=null
set g2=null
endfunction
function RBG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=U87(OC7,"Source")
local real ZZ9=UO7(OC7,"LastX")
local real ZA9=UO7(OC7,"LastY")
local integer CP8=UN7(OC7,"Count")
local integer i
local real x
local real y
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>360 then
set i=0
loop
exitwhen i>CP8
call DestroyEffect(UH7(OC7,"FX"+I2S(i)))
set i=i+1
endloop
call TN7(OC7)
call UA7(t)
else
set x=GetUnitX(EC8)
set y=GetUnitY(EC8)
if V8==true then
call RYG(EC8)
endif
if RF7(x,y,ZZ9,ZA9)>125 then
set CP8=CP8+1
call TQ7(OC7,"Count",CP8)
call TR7(OC7,"LastX",x)
call TR7(OC7,"LastY",y)
call TV7(OC7,"FX"+I2S(CP8),AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",x,y))
call TR7(OC7,"X"+I2S(CP8),x)
call TR7(OC7,"Y"+I2S(CP8),y)
endif
if ModuloInteger(GetTriggerEvalCount(t),10)==0 then
set S44=true
call RAG(EC8,OC7,CP8)
set S44=false
endif
call D28(GetUnitX(EC8),GetUnitY(EC8),100)
endif
return false
endfunction
function RCG takes nothing returns nothing
local unit p5=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function RBG))
call TU7(UC7,"Source",p5)
call TV7(UC7,"FX"+I2S(0),AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",GetUnitX(p5),GetUnitY(p5)))
call TR7(UC7,"LastX",GetUnitX(p5))
call TR7(UC7,"LastY",GetUnitY(p5))
call TR7(UC7,"X"+I2S(0),GetUnitX(p5))
call TR7(UC7,"Y"+I2S(0),GetUnitY(p5))
set p5=null
set t=null
endfunction
function R3G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
if LO7(p5)then
return false
endif
if GetUnitTypeId(p5)==1328558390 then
call SetUnitFlyHeight(p5,170,0)
elseif GetUnitTypeId(p5)==1328558391 then
call SetUnitFlyHeight(p5,220,0)
endif
set t=null
set p5=null
return false
endfunction
function R6G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,2,true)
call TriggerAddCondition(t,Condition(function R3G))
call TU7(UC7,"Source",p5)
set t=null
set p5=null
endfunction
function RLG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,false)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
return false
endfunction
function R1G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,true)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function RLG))
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
set EC8=null
set t=null
endfunction
function R0G takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093744986 then
if GetUnitTypeId(GetTriggerUnit())==1328558390 then
call RCG()
elseif IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY)then
call R1G()
endif
endif
else
if GetLearnedSkill()==1093744986 and GetUnitAbilityLevel(GetTriggerUnit(),1093744986)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call R6G()
endif
endif
return false
endfunction
function TT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function R0G))
set t=null
endfunction
function R5G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=U87(UC7,"Source")
local unit m5=U87(UC7,"Target")
local unit H88=U87(UC7,"Caster")
local real d=RF7(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5))
local real a
local real F98=UO7(UC7,"Duration")
local real NKE=UO7(UC7,"rRealX0")
local real NME=UO7(UC7,"rRealY0")
local real VFD
local real VGD
if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>R2I(20*F98)then
call DestroyEffect(UH7(UC7,"FX"))
call TN7(UC7)
call UA7(t)
call KillUnit(H88)
call SetUnitPathing(m5,true)
call FQ8(p5)
call D28(GetUnitX(m5),GetUnitY(m5),175)
call UY7(p5,"AI|Lasso")
else
call SetUnitX(H88,GetUnitX(p5))
call SetUnitY(H88,GetUnitY(p5))
if RF7(NKE,NME,GetUnitX(p5),GetUnitY(p5))>400 then
call DestroyEffect(UH7(UC7,"FX"))
call TN7(UC7)
call UA7(t)
call KillUnit(H88)
call SetUnitPathing(m5,true)
call FQ8(p5)
call D28(GetUnitX(m5),GetUnitY(m5),175)
else
call TR7(UC7,"rRealX0",GetUnitX(p5))
call TR7(UC7,"rRealY0",GetUnitY(p5))
if d>300 then
set a=Atan2(GetUnitY(m5)-GetUnitY(p5),GetUnitX(m5)-GetUnitX(p5))
set VFD=GetUnitX(p5)+300*Cos(a)
set VGD=GetUnitY(p5)+300*Sin(a)
if(IsPointInRegion(IU4,((VFD)*1.0),((VGD)*1.0)))==false then
call SetUnitX(m5,VFD)
call SetUnitY(m5,VGD)
endif
endif
endif
endif
set t=null
set p5=null
set m5=null
set H88=null
return false
endfunction
function R2G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local unit H88=CreateUnit(GetOwningPlayer(p5),1966092377,GetUnitX(p5),GetUnitY(p5),0)
local integer BH7=GetUnitAbilityLevel(p5,1093744975)
if BH7==0 then
set BH7=GetUnitAbilityLevel(p5,1093750102)+2
endif
call LM7(H88,1093744974)
call SetUnitAbilityLevel(H88,1093744974,GetUnitAbilityLevel(p5,1093744975))
call IssueTargetOrder(H88,"magicleash",m5)
call SetUnitPathing(H88,false)
call SetUnitPathing(m5,false)
call FO8(p5)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function R5G))
call TU7(UC7,"Source",p5)
call TU7(UC7,"Target",m5)
call TU7(UC7,"Caster",H88)
call TR7(UC7,"Duration",(2.5+BH7*0.5)*1.0)
call TV7(UC7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Human\\AerialShackles\\AerialShacklesTarget.mdl",m5,"chest"))
call TR7(UC7,"rRealX0",GetUnitX(p5))
call TR7(UC7,"rRealY0",GetUnitY(p5))
call UW7(p5,"AI|Lasso")
set t=null
set p5=null
set m5=null
set H88=null
endfunction
function R_G takes nothing returns boolean
if(GetSpellAbilityId()==1093744975 or GetSpellAbilityId()==1093750102)and CV7(GetSpellTargetUnit())==false and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 then
call R2G()
endif
return false
endfunction
function TU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function R_G))
set t=null
endfunction
function S4G takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if Z67(GetOwningPlayer(GetEventDamageSource()))and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and w1==false then
if W1==false then
call UnitRemoveAbility(GetTriggerUnit(),1110458957)
call UA7(GetTriggeringTrigger())
endif
endif
if W1==true then
set W1=false
endif
if w1==true then
set w1=false
endif
else
call UA7(GetTriggeringTrigger())
endif
return false
endfunction
function S7G takes nothing returns nothing
local unit m5=GetEnumUnit()
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,6,false)
call TriggerAddCondition(t,Condition(function S4G))
set m5=null
set t=null
endfunction
function S8G takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),1110458957)>0 and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0
endfunction
function S9G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local real x=(LoadReal(L7,(UC7),(6)))
local real y=(LoadReal(L7,(UC7),(7)))
local group g=CX7()
call GroupEnumUnitsInRange(g,x,y,1000,Condition(function S8G))
call ForGroup(g,function S7G)
call CW7(g)
call FlushChildHashtable(L7,(UC7))
call UA7(t)
set t=null
set g=null
return false
endfunction
function SDG takes nothing returns nothing
if SE4==1 or SE4==2 then
call HD8(GetTriggerUnit(),GetEnumUnit(),ZH4,80)
endif
if SE4==1 or SE4==3 then
call HD8(GetTriggerUnit(),GetEnumUnit(),ZG4,80)
endif
endfunction
function SEG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local unit H88=CreateUnit(GetOwningPlayer(p5),1747990362,x,y,0)
local group g=CX7()
local unit u
set GE7=GetUnitAbilityLevel(p5,1093747009)
if((LoadInteger(L7,(GetHandleId((p5))),((4270))))==1)==false then
call SetUnitTimeScale(H88,2.5)
call UnitApplyTimedLife(H88,1112820806,2)
set H88=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
call LM7(H88,1093747001)
call SetUnitAbilityLevel(H88,1093747001,GetUnitAbilityLevel(p5,1093747009))
call IssueImmediateOrder(H88,"stomp")
call GroupEnumUnitsInRange(g,x,y,500,Condition(function F58))
set SE4=1
call ForGroup(g,function SDG)
call CW7(g)
call TriggerRegisterTimerEvent(t,0.65,false)
call TriggerAddCondition(t,Condition(function S9G))
call SaveReal(L7,(UC7),(6),((x)*1.0))
call SaveReal(L7,(UC7),(7),((y)*1.0))
else
call SetUnitTimeScale(H88,2.5)
call UnitApplyTimedLife(H88,1112820806,2)
set H88=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
call LM7(H88,1093747001)
call SetUnitAbilityLevel(H88,1093747001,GetUnitAbilityLevel(p5,1093747009))
call IssueImmediateOrder(H88,"stomp")
call GroupEnumUnitsInRange(g,x,y,500,Condition(function F58))
set SE4=2
call ForGroup(g,function SDG)
call TriggerRegisterTimerEvent(t,0.65,false)
call TriggerAddCondition(t,Condition(function S9G))
call SaveReal(L7,(UC7),(6),((x)*1.0))
call SaveReal(L7,(UC7),(7),((y)*1.0))
set t=CreateTrigger()
set UC7=GetHandleId(t)
set u=(SK4[GetPlayerId(GetOwningPlayer((p5)))])
call IssueImmediateOrder(u,"stop")
set x=GetUnitX(u)
set y=GetUnitY(u)
set H88=CreateUnit(GetOwningPlayer(p5),1747990362,x,y,0)
call SetUnitTimeScale(H88,2.5)
call UnitApplyTimedLife(H88,1112820806,2)
set H88=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)
call LM7(H88,1093747001)
call SetUnitAbilityLevel(H88,1093747001,GetUnitAbilityLevel(p5,1093747009))
call IssueImmediateOrder(H88,"stomp")
call GroupEnumUnitsInRange(g,x,y,500,Condition(function F58))
set SE4=3
call ForGroup(g,function SDG)
call CW7(g)
call TriggerRegisterTimerEvent(t,0.65,false)
call TriggerAddCondition(t,Condition(function S9G))
call SaveReal(L7,(UC7),(6),((x)*1.0))
call SaveReal(L7,(UC7),(7),((y)*1.0))
call SetUnitAnimationByIndex(u,3)
endif
set t=null
set p5=null
set H88=null
set g=null
endfunction
function SFG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(UC7),(2)))
local unit SGG=(LoadUnitHandle(L7,(UC7),(335)))
local boolean SHG=(LoadBoolean(L7,(UC7),(336)))
if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
call SaveInteger(L7,(GetHandleId((p5))),((4269)),(2))
call SaveBoolean(L7,(GetHandleId(SGG)),(337),(true))
if SHG then
call ShowUnit(SGG,false)
call KillUnit(SGG)
else
call ShowUnit(SGG,false)
call UnitRemoveAbility(SGG,1097625443)
call ShowUnit(SGG,true)
endif
call FlushChildHashtable(L7,(UC7))
call UA7(t)
else
if SHG then
call SetUnitFacing(SGG,GetUnitFacing(p5))
endif
endif
set t=null
set SGG=null
return false
endfunction
function SIG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local unit SGG
local boolean KillImage
call SaveBoolean(L7,(UC7),(336),(false))
if((LoadInteger(L7,(GetHandleId((p5))),((4270))))==1)==false then
call SaveBoolean(L7,(UC7),(336),(true))
set SGG=CreateUnit(GetOwningPlayer(p5),1747990357,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))
call LM7(SGG,1097625443)
call LM7(SGG,1097167980)
call SetUnitPosition(SGG,GetUnitX(p5),GetUnitY(p5))
call SetUnitScale(SGG,1.4,1.4,1.4)
else
set SGG=(SK4[GetPlayerId(GetOwningPlayer((p5)))])
call UnitAddAbility(SGG,1097625443)
endif
call IssueImmediateOrder(SGG,"stop")
call SaveInteger(L7,(GetHandleId((p5))),((4269)),(1))
call SetUnitAnimation(SGG,"spell slam")
call QueueUnitAnimation(SGG,"spell slam")
call SaveUnitHandle(L7,(UC7),(335),(SGG))
call SaveUnitHandle(L7,(UC7),(2),(p5))
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function SFG))
call SaveUnitHandle(L7,(UC7),(335),(SGG))
set t=null
set p5=null
set SGG=null
endfunction
function SJG takes nothing returns boolean
if GetSpellAbilityId()==1093747009 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_FINISH then
call SEG()
else
call SIG()
endif
endif
return false
endfunction
function TY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_FINISH)
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function SJG))
set t=null
endfunction
function SKG takes nothing returns nothing
if DB9(GetEnumUnit())then
return
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093747521)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093747521)
call UnitRemoveAbility(GetEnumUnit(),1110458960)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093747513)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093747513)
call UnitRemoveAbility(GetEnumUnit(),1110458960)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093747522)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093747522)
call UnitRemoveAbility(GetEnumUnit(),1110458960)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093747523)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093747523)
call UnitRemoveAbility(GetEnumUnit(),1110458960)
endif
call HP8(GetEnumUnit(),0)
endfunction
function SMG takes nothing returns nothing
if DB9(GetEnumUnit())then
return
endif
if m1==1 then
if GetUnitAbilityLevel(GetEnumUnit(),1093747521)==0 then
call LM7(GetEnumUnit(),1093747521)
endif
elseif m1==2 then
if GetUnitAbilityLevel(GetEnumUnit(),1093747513)==0 then
call LM7(GetEnumUnit(),1093747513)
endif
elseif m1==3 then
if GetUnitAbilityLevel(GetEnumUnit(),1093747522)==0 then
call LM7(GetEnumUnit(),1093747522)
endif
elseif m1==4 then
if GetUnitAbilityLevel(GetEnumUnit(),1093747523)==0 then
call LM7(GetEnumUnit(),1093747523)
endif
endif
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call HP8(GetEnumUnit(),R2I((I2R(GetHeroAgi(GetEnumUnit(),true))/ 7)*I2R(m1)/ 5))
endif
endfunction
function SNG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(UC7),(2)))
local group W5E=(LoadGroupHandle(L7,(UC7),(340)))
local real x=GetUnitX(p5)
local real y=GetUnitY(p5)
local group g=CX7()
local group g2
if p5==null then
call FlushChildHashtable(L7,(UC7))
call UA7(t)
call CW7(W5E)
call CW7(g)
return false
endif
set IN4=p5
set m1=GetUnitAbilityLevel(p5,1093747524)
call GroupEnumUnitsInRange(g,x,y,300,Condition(function FT8))
if((LoadInteger(L7,(GetHandleId((p5))),((4270))))==1)==true then
set g2=CX7()
call GroupEnumUnitsInRange(g2,GetUnitX((SK4[GetPlayerId(GetOwningPlayer((p5)))])),GetUnitY((SK4[GetPlayerId(GetOwningPlayer((p5)))])),300,Condition(function FT8))
call GroupAddGroup(g2,g)
call CW7(g2)
set g2=null
endif
call GroupRemoveGroup(g,W5E)
call ForGroup(W5E,function SKG)
if LO7(p5)==false then
call ForGroup(g,function SMG)
endif
call SaveGroupHandle(L7,(UC7),(340),(g))
call CW7(W5E)
set t=null
set p5=null
set W5E=null
return false
endfunction
function SOG takes unit p5,boolean A_9 returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local integer i
local player p
call LM7(p5,1093747537)
call TriggerRegisterTimerEvent(t,0.3,true)
call TriggerAddCondition(t,Condition(function SNG))
call SaveUnitHandle(L7,(UC7),(2),(p5))
call SaveGroupHandle(L7,(UC7),(340),(CX7()))
call SaveTriggerHandle(L7,(GetHandleId(p5)),(338),(t))
call SaveBoolean(L7,(GetHandleId(p5)),(339),(true))
set i=0
loop
exitwhen i>5
set p=Z7[i]
call SetPlayerAbilityAvailable(p,1093747521,false)
call SetPlayerAbilityAvailable(p,1093747513,false)
call SetPlayerAbilityAvailable(p,1093747522,false)
call SetPlayerAbilityAvailable(p,1093747523,false)
set p=A7[i]
call SetPlayerAbilityAvailable(p,1093747521,false)
call SetPlayerAbilityAvailable(p,1093747513,false)
call SetPlayerAbilityAvailable(p,1093747522,false)
call SetPlayerAbilityAvailable(p,1093747523,false)
set i=i+1
endloop
if A_9 then
set nj[GetPlayerId(GetOwningPlayer(p5))]=t
endif
set t=null
set p5=null
endfunction
function SPG takes nothing returns boolean
if GetLearnedSkill()==1093747524 and GetUnitAbilityLevel(GetTriggerUnit(),1093747524)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call SOG(GetTriggerUnit(),false)
endif
return false
endfunction
function TX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function SPG))
set t=null
endfunction
function SQG takes nothing returns nothing
local real x1=Z1
local real y1=v2
local real x2=SM4
local real y2=o2
local real x3=GetUnitX(GetEnumUnit())
local real y3=GetUnitY(GetEnumUnit())
local real u=((x3-x1)*(x2-x1)+(y3-y1)*(y2-y1))/((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2))
local real x4=x1+u*(x2-x1)
local real y4=y1+u*(y2-y1)
local real DS8=GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*0.35/ 2
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call SetUnitPosition(GetEnumUnit(),x4,y4)
else
call SetUnitX(GetEnumUnit(),x4)
call SetUnitY(GetEnumUnit(),y4)
endif
call IssueTargetOrder(Y1,"slow",GetEnumUnit())
call HD8(z1,GetEnumUnit(),ZG4,DS8)
call HD8(z1,GetEnumUnit(),ZH4,DS8)
endfunction
function SRG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(UC7),(2)))
local real x0=(LoadReal(L7,(UC7),(282)))
local real y0=(LoadReal(L7,(UC7),(283)))
local real a0=(LoadReal(L7,(UC7),(341)))
local integer i=0
local real x
local real y
local group g=CX7()
local group G7E=CX7()
local integer BH7=GetUnitAbilityLevel(p5,1093746993)
local integer EJD=(LoadInteger(L7,(UC7),(34)))
call FlushChildHashtable(L7,(UC7))
call UA7(t)
set IN4=p5
set z1=p5
set Y1=CreateUnit(GetOwningPlayer(p5),1697656901,x0,y0,0)
call LM7(Y1,1093747525)
call SetUnitAbilityLevel(Y1,1093747525,BH7)
loop
exitwhen i>EJD
set x=x0+i*200*Cos(a0)
set y=y0+i*200*Sin(a0)
call DZ8("Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl",x,y,1.6)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x,y-250))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x,y))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x+250,y))
call D28(x,y,300)
call GroupEnumUnitsInRange(g,x,y,325,Condition(function FT8))
call GroupAddGroup(g,G7E)
call GroupClear(g)
set i=i+1
endloop
set Z1=x0
set v2=y0
set SM4=x
set o2=y
call ForGroup(G7E,function SQG)
call CW7(G7E)
call CW7(g)
set t=null
set p5=null
return false
endfunction
function SSG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(UC7),(2)))
local real a=(LoadReal(L7,(UC7),(137)))
local real x0=(LoadReal(L7,(UC7),(282)))
local real y0=(LoadReal(L7,(UC7),(283)))
local real a0
local real STG
local real SUG
local real SVG
local real SWG
local real SXG
local real SYG
local real SZG
local real SAG
local real SBG
local real SCG
local real S3G
local real S6G
local real x
local real y
local ubersplat G_G
local integer B78=GetTriggerEvalCount(t)
local integer EJD=(LoadInteger(L7,(UC7),(34)))
set x=x0+200*B78*Cos(a)
set y=y0+200*B78*Sin(a)
set G_G=CreateUbersplat(x,y,"THND",255,255,255,255,false,false)
call SetUbersplatRenderAlways(G_G,true)
set STG=x+200*Cos(bj_DEGTORAD*(a*bj_RADTODEG-45))
set SUG=y+200*Sin(bj_DEGTORAD*(a*bj_RADTODEG-45))
set SVG=x+200*Cos(bj_DEGTORAD*(a*bj_RADTODEG+45))
set SWG=y+200*Sin(bj_DEGTORAD*(a*bj_RADTODEG+45))
set SXG=x-100*Cos(bj_DEGTORAD*(a*bj_RADTODEG-45))
set SYG=y-100*Sin(bj_DEGTORAD*(a*bj_RADTODEG-45))
set SZG=x-100*Cos(bj_DEGTORAD*(a*bj_RADTODEG+45))
set SAG=y-100*Sin(bj_DEGTORAD*(a*bj_RADTODEG+45))
set SBG=x
set SCG=y
set S3G=x
set S6G=y
call E88(GetOwningPlayer(p5),4,x,y,500)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",STG,SUG))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",SVG,SWG))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",SXG,SYG))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",SZG,SAG))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",SBG,SCG))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",S3G,S6G))
if GetTriggerEvalCount(t)>EJD then
set x0=(LoadReal(L7,(UC7),(282)))
set y0=(LoadReal(L7,(UC7),(283)))
set a0=(LoadReal(L7,(UC7),(341)))
call FlushChildHashtable(L7,(UC7))
call UA7(t)
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,false)
call TriggerAddCondition(t,Condition(function SRG))
call SaveUnitHandle(L7,(UC7),(2),(p5))
call SaveReal(L7,(UC7),(282),((x0)*1.0))
call SaveReal(L7,(UC7),(283),((y0)*1.0))
call SaveReal(L7,(UC7),(341),((a0)*1.0))
call SaveInteger(L7,(UC7),(34),(EJD))
endif
set t=null
set p5=null
return false
endfunction
function SLG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))
local integer EJD=11
call TriggerRegisterTimerEvent(t,0.22,true)
call TriggerAddCondition(t,Condition(function SSG))
call SaveUnitHandle(L7,(UC7),(2),(p5))
call SaveReal(L7,(UC7),(6),((GetUnitX(p5))*1.0))
call SaveReal(L7,(UC7),(7),((GetUnitY(p5))*1.0))
call SaveReal(L7,(UC7),(137),((a)*1.0))
call SaveReal(L7,(UC7),(282),((GetUnitX(p5))*1.0))
call SaveReal(L7,(UC7),(283),((GetUnitY(p5))*1.0))
call SaveReal(L7,(UC7),(341),((a)*1.0))
call SaveInteger(L7,(UC7),(34),(EJD))
set t=null
set p5=null
endfunction
function S1G takes nothing returns boolean
if GetSpellAbilityId()==1093746993 then
call SLG()
endif
return false
endfunction
function TV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function S1G))
set t=null
endfunction
function S0G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
call UnitRemoveAbility(EC8,1093815881)
call UnitAddAbility(EC8,1093815881)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set EC8=null
return false
endfunction
function S5G takes unit EC8 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function S0G))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=null
endfunction
function S2G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(UC7),(2)))
call DestroyEffect((LoadEffectHandle(L7,(UC7),(32))))
call FlushChildHashtable(L7,(UC7))
call UA7(t)
call HJ8(p5,0)
set t=null
set p5=null
return false
endfunction
function S_G takes unit p5,unit SGG,integer T4G,integer T7G returns nothing
local trigger t
local integer UC7
local unit H88
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",SGG,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"hand,left"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"hand,right"))
call ShowUnit(SGG,false)
call KillUnit(SGG)
if GetPlayerController(GetOwningPlayer(p5))==MAP_CONTROL_COMPUTER then
call RemoveSavedHandle(L7,GetHandleId(p5),StringHash("AI|AncestralCharge"))
endif
call SaveInteger(L7,(GetHandleId((p5))),((4270)),(2))
if T7G>0 or T4G>0 then
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,9.1,false)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function S2G))
call SaveUnitHandle(L7,(UC7),(2),(p5))
set H88=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)
call LM7(H88,1093748537)
call SetUnitAbilityLevel(H88,1093748537,T7G)
call IssueTargetOrder(H88,"bloodlust",p5)
call HJ8(p5,T4G)
call SaveEffectHandle(L7,(UC7),(32),(AddSpecialEffectTarget("war3mapImported\\RadianceHands.mdx",p5,"weapon")))
endif
set t=null
set H88=null
endfunction
function T8G takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),M1)==false then
if IsUnitIllusion(GetEnumUnit())==false then
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
set SI4=SI4+(SH4*10)
set SJ4=SJ4+5
else
set SI4=SI4+(SH4*3)
set SJ4=SJ4+1
endif
endif
call GroupAddUnit(M1,GetEnumUnit())
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",GetEnumUnit(),"chest"))
set w1=true
set W1=true
call HD8(SF4,GetEnumUnit(),ZG4,SG4)
set w1=false
set W1=false
endif
endfunction
function T9G takes real TDG,real TEG,real TFG,real TGG,real THG,real TIG returns real
local real TJG
local real TKG
local real TMG
local real TNG
local real TOG
local real TPG
local real TQG
local real REFLECTED_SCALED_V_X
local real REFLECTED_SCALED_V_Y
local real TRG
local real TSG
local real TTG
local real TUG
local real TVG
local real TWG
local real TXG
local real TYG
set TTG=TFG-THG
set TUG=TGG-TIG
set TVG=-1*TUG
set TWG=TTG
set TXG=SquareRoot(TVG*TVG+TWG*TWG)
set TVG=TVG/ TXG
set TWG=TWG/ TXG
set TJG=TDG-TFG
set TKG=TEG-TGG
set TMG=SquareRoot(TJG*TJG+TKG*TKG)
set TNG=TJG/ TMG
set TOG=TKG/ TMG
set TYG=TJG*TVG+TKG*TWG
set TPG=-1*TDG+2*TFG+2*TVG*TYG
set TQG=-1*TEG+2*TGG+2*TWG*TYG
set TRG=THG+TFG-TPG
set TSG=TIG+TGG-TQG
return TRG
endfunction
function TZG takes real TDG,real TEG,real TFG,real TGG,real THG,real TIG returns real
local real TJG
local real TKG
local real TMG
local real TNG
local real TOG
local real TPG
local real TQG
local real REFLECTED_SCALED_V_X
local real REFLECTED_SCALED_V_Y
local real TRG
local real TSG
local real TTG
local real TUG
local real TVG
local real TWG
local real TXG
local real TYG
set TTG=TFG-THG
set TUG=TGG-TIG
set TVG=-1*TUG
set TWG=TTG
set TXG=SquareRoot(TVG*TVG+TWG*TWG)
set TVG=TVG/ TXG
set TWG=TWG/ TXG
set TJG=TDG-TFG
set TKG=TEG-TGG
set TMG=SquareRoot(TJG*TJG+TKG*TKG)
set TNG=TJG/ TMG
set TOG=TKG/ TMG
set TYG=TJG*TVG+TKG*TWG
set TPG=-1*TDG+2*TFG+2*TVG*TYG
set TQG=-1*TEG+2*TGG+2*TWG*TYG
set TRG=THG+TFG-TPG
set TSG=TIG+TGG-TQG
return TSG
endfunction
function TAG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer UC7=GetHandleId(t)
local unit p5=(LoadUnitHandle(L7,(UC7),(2)))
local unit SGG=(LoadUnitHandle(L7,(UC7),(335)))
local real x0=(LoadReal(L7,(UC7),(282)))
local real y0=(LoadReal(L7,(UC7),(283)))
local real x1=GetUnitX(p5)
local real y1=GetUnitY(p5)
local real x2=GetUnitX(SGG)
local real y2=GetUnitY(SGG)
local real x3
local real y3
local real a
local group G7E=(LoadGroupHandle(L7,(UC7),(187)))
local group g
local real d
local integer BH7=GetUnitAbilityLevel(p5,1093747000)
local real TBG=(LoadReal(L7,(UC7),(342)))
local real HA8=(TimerGetElapsed(W))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call CW7(G7E)
call FlushChildHashtable(L7,(UC7))
call UA7(t)
call ShowUnit(SGG,false)
call KillUnit(SGG)
if GetPlayerController(GetOwningPlayer(p5))==MAP_CONTROL_COMPUTER then
call RemoveSavedHandle(L7,GetHandleId(p5),StringHash("AI|AncestralCharge"))
endif
call SaveInteger(L7,(GetHandleId((p5))),((4270)),(2))
if(LoadInteger(L7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(L7,(GetHandleId(p5)),(704)))==1093747000 then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093747000,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815881,false)
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093815881 then
call IssueImmediateOrder(SGG,"stop")
call SaveBoolean(L7,(UC7),(249),(true))
call SetUnitAnimationByIndex(SGG,3)
call S5G(GetTriggerUnit())
elseif GetSpellAbilityId()==1093815371 then
if IssueImmediateOrder(p5,"charm")then
call UnitRemoveAbility(SGG,1093815371)
endif
endif
elseif RF7(x1,y1,x2,y2)<100 then
call S_G(p5,SGG,(LoadInteger(L7,(UC7),(344))),(LoadInteger(L7,(UC7),(345))))
call CW7(G7E)
call FlushChildHashtable(L7,(UC7))
call UA7(t)
if(LoadInteger(L7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(L7,(GetHandleId(p5)),(704)))==1093747000 then
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093747000,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815881,false)
elseif GetTriggerEvalCount(t)>400 or(LoadBoolean(L7,(UC7),(249)))==true then
call LM7(SGG,1097625443)
if GetTriggerEvalCount(t)==401 and(LoadBoolean(L7,(UC7),(249)))==false then
call IssueImmediateOrder(SGG,"stop")
call SetUnitAnimationByIndex(SGG,3)
endif
set g=CX7()
set SH4=BH7
set SI4=(LoadInteger(L7,(UC7),(344)))
set SJ4=(LoadInteger(L7,(UC7),(345)))
set SG4=80+40*BH7
set SF4=p5
set IN4=p5
set M1=G7E
call GroupEnumUnitsInRange(g,GetUnitX(SGG),GetUnitY(SGG),300,Condition(function FT8))
call ForGroup(g,function T8G)
call CW7(g)
set g=null
call SaveInteger(L7,(UC7),(344),(SI4))
call SaveInteger(L7,(UC7),(345),(SJ4))
if((LoadInteger(L7,(GetHandleId((p5))),((4269))))==1)==false then
set a=Atan2(y1-y2,x1-x2)
call SetUnitFacing(SGG,a*bj_RADTODEG)
set x3=GetUnitX(SGG)+12*Cos(a)
set y3=GetUnitY(SGG)+12*Sin(a)
call SetUnitX(SGG,D78(x3))
call SetUnitY(SGG,D88(y3))
call SaveReal(L7,(UC7),(282),((x1)*1.0))
call SaveReal(L7,(UC7),(283),((y1)*1.0))
endif
else
call SetUnitMoveSpeed(SGG,GetUnitMoveSpeed(p5))
call UnitRemoveAbility(SGG,1097625443)
set g=CX7()
set SH4=BH7
set SI4=(LoadInteger(L7,(UC7),(344)))
set SJ4=(LoadInteger(L7,(UC7),(345)))
set SG4=80+40*BH7
set SF4=p5
set IN4=p5
set M1=G7E
call GroupEnumUnitsInRange(g,GetUnitX(SGG),GetUnitY(SGG),300,Condition(function FT8))
call ForGroup(g,function T8G)
call CW7(g)
set g=null
call SaveInteger(L7,(UC7),(344),(SI4))
call SaveInteger(L7,(UC7),(345),(SJ4))
if x0!=x1 or y0!=y1 then
set TBG=HA8
call SaveReal(L7,(UC7),(342),((TBG)*1.0))
endif
if((LoadInteger(L7,(GetHandleId((p5))),((4269))))==1)==false then
if TBG==HA8 then
set x3=T9G(x0,y0,x1,y1,x2,y2)
set y3=TZG(x0,y0,x1,y1,x2,y2)
set a=Atan2(y3-y2,x3-x2)*bj_RADTODEG
call SaveReal(L7,(UC7),(282),((x1)*1.0))
call SaveReal(L7,(UC7),(283),((y1)*1.0))
endif
if(TBG+0.3)<HA8 then
call SaveInteger(L7,(UC7),(343),(1))
elseif(TBG+0.3)>HA8 and(LoadInteger(L7,(UC7),(343)))==1 then
call SaveInteger(L7,(UC7),(343),(2))
elseif(LoadInteger(L7,(UC7),(343)))==3 then
call SaveInteger(L7,(UC7),(343),(1))
endif
else
call SaveInteger(L7,(UC7),(343),(3))
endif
endif
set t=null
set p5=null
set SGG=null
set G7E=null
return false
endfunction
function TCG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer UC7=GetHandleId(t)
local unit p5=GetTriggerUnit()
local real x0=GetUnitX(p5)
local real y0=GetUnitY(p5)
local location l=GetSpellTargetLoc()
local real Q9D=GetLocationX(l)
local real QDD=GetLocationY(l)
local real a=Atan2(QDD-y0,Q9D-x0)
local real d=DR8(RF7(x0,y0,Q9D,QDD),300)
local real x1=D78(x0+d*Cos(a))
local real y1=D88(y0+d*Sin(a))
local unit SGG=CreateUnit(GetOwningPlayer(p5),1747990357,x1,y1,(a*bj_RADTODEG)-180)
call SetUnitMoveSpeed(SGG,GetUnitMoveSpeed(p5))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",SGG,"chest"))
if GetUnitAbilityLevel(p5,1093747524)>0 then
call LM7(SGG,1093747537)
endif
if GetUnitAbilityLevel(p5,1093747009)==0 then
call UnitRemoveAbility(SGG,1093815371)
endif
call UnitAddAbility(p5,1093815881)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093747000,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093815881,true)
call RemoveLocation(l)
set SK4[GetPlayerId(GetOwningPlayer(p5))]=SGG
call SaveInteger(L7,(GetHandleId((p5))),((4270)),(1))
call LM7(SGG,1098282348)
call LM7(SGG,1097167980)
if(LoadBoolean(L7,(GetHandleId(p5)),(339)))==true then
call TriggerEvaluate((LoadTriggerHandle(L7,(UC7),(338))))
endif
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,SGG,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function TAG))
call SaveUnitHandle(L7,(UC7),(2),(p5))
call SaveUnitHandle(L7,(UC7),(335),(SGG))
call SaveReal(L7,(UC7),(282),((x0)*1.0))
call SaveReal(L7,(UC7),(283),((y0)*1.0))
call SaveGroupHandle(L7,(UC7),(187),(CX7()))
call SaveInteger(L7,(UC7),(343),(2))
call SaveReal(L7,(UC7),(342),(((TimerGetElapsed(W))-5)*1.0))
call SaveBoolean(L7,(UC7),(249),(false))
if GetPlayerController(GetOwningPlayer(p5))==MAP_CONTROL_COMPUTER then
call TU7(GetHandleId(p5),"AI|AncestralCharge",SGG)
endif
set t=null
set p5=null
set SGG=null
endfunction
function T3G takes nothing returns boolean
if GetSpellAbilityId()==1093747000 then
call TCG()
endif
return false
endfunction
function TW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function T3G))
call DE8(1093748537)
set t=null
endfunction
function T6G takes nothing returns boolean
if GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER and(GetItemTypeId(GetManipulatedItem())==ZU[H6]or GetItemTypeId(GetManipulatedItem())==ZU[G6]or GetItemTypeId(GetManipulatedItem())==ZU[N6])then
call UnitRemoveAbility(GetTriggerUnit(),1093743681)
endif
return false
endfunction
function TLG takes unit u,integer d returns nothing
local texttag t=CreateTextTag()
call SetTextTagText(t,"+"+I2S(d)+" "+GetObjectName(1848659025),0.03)
call SetTextTagPosUnit(t,u,0)
call SetTextTagColorBJ(t,50,75,255,15)
call SetTextTagVelocity(t,0,0.035)
call SetTextTagFadepoint(t,3)
call SetTextTagLifespan(t,2.5)
call SetTextTagPermanent(t,false)
call SetTextTagVisibility(t,false)
call SetTextTagVisibility(t,true)
if IsUnitVisible(u,GetLocalPlayer())or CM7(GetLocalPlayer())then
call SetTextTagVisibility(t,true)
else
call SetTextTagVisibility(t,false)
endif
set t=null
endfunction
function T1G takes nothing returns nothing
local unit p5=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
if GetSpellAbilityId()==1093678387 and GetUnitState(p5,UNIT_STATE_LIFE)>1 then
call SetUnitState(p5,UNIT_STATE_MANA,GetUnitState(p5,UNIT_STATE_MANA)+GetUnitState(m5,UNIT_STATE_LIFE)*GetUnitAbilityLevel(p5,1093678387)*0.15)
call TLG(m5,R2I(GetUnitState(m5,UNIT_STATE_LIFE)*GetUnitAbilityLevel(p5,1093678387)*0.15))
call KillUnit(m5)
endif
set p5=null
set m5=null
endfunction
function T0G takes nothing returns boolean
if GetSpellAbilityId()==1093678387 and RW7(GetSpellTargetUnit())==false then
call T1G()
endif
return false
endfunction
function T5G takes item JM8,unit EC8,boolean LXD returns nothing
local integer EI9=RY7(JM8)
local integer OC7=GetHandleId(EC8)
local string s=""
if(EI9==EW and SU7(EC8,EW,JM8)==null)or(EI9==HW and SU7(EC8,HW,JM8)==null)then
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(EC8))==true or CM7(GetLocalPlayer())then
set s=LY4
endif
if LXD then
if DAF(EC8)>0 or GetItemType(JM8)==ITEM_TYPE_PERMANENT or GetItemType(JM8)==ITEM_TYPE_CAMPAIGN then
if GetUnitAbilityLevel(EC8,1093809729)==0 and GetUnitAbilityLevel(EC8,1093809730)==0 then
if s==LY4 then
call LM7(EC8,1093809729)
else
call LM7(EC8,1093809730)
endif
endif
endif
else
if not(GetUnitAbilityLevel(EC8,1093809729)==0 and GetUnitAbilityLevel(EC8,1093809730)==0)then
call UnitRemoveAbility(EC8,1093809730)
call UnitRemoveAbility(EC8,1093809729)
call RemoveSavedHandle(L7,(OC7),(670))
endif
endif
endif
endfunction
function T2G takes nothing returns boolean
local unit p5=GetTriggerUnit()
local item JM8=GetManipulatedItem()
local integer id=GetItemTypeId(JM8)
if JM8==null or IsUnitIllusion(p5)==true or IsUnitType(p5,UNIT_TYPE_HERO)==false or J48(GetUnitTypeId(p5))or GetItemTypeId(JM8)==1227894853 or GetItemTypeId(JM8)==1227895373 then
set p5=null
set JM8=null
return false
endif
if(GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM and GetItemType(JM8)!=ITEM_TYPE_PURCHASABLE)or GetTriggerEventId()==EVENT_PLAYER_UNIT_PAWN_ITEM then
call T5G(JM8,p5,false)
call II8("DRI_"+I2S(GetPlayerId(GetOwningPlayer(p5))),ZU[E79(RY7(JM8))])
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM then
call T5G(JM8,p5,true)
call II8("PUI_"+I2S(GetPlayerId(GetOwningPlayer(p5))),ZU[E79(RY7(JM8))])
endif
set p5=null
set JM8=null
return false
endfunction
function T_G takes unit EF9 returns nothing
local integer U4G=GetPlayerId(GetOwningPlayer(EF9))
local integer U7G=EE9(EF9,1)
local integer U8G=GetUnitAbilityLevel(EF9,HM4[U7G])
call UnitRemoveAbility(EF9,HR4[U7G])
call UnitRemoveAbility(EF9,1094004784)
call DisableTrigger(rj[U4G])
call DisableTrigger(Ej[U4G])
call UnitRemoveAbility(EF9,1093686081)
if U7G==43 then
call TQ7(GetHandleId(EF9),"RefractionPrevent_Remaining",0)
call TQ7(GetHandleId(EF9),"RefractionDamage_Remaining",0)
call UnitRemoveAbility(EF9,1093685830)
call UnitRemoveAbility(EF9,1093685837)
call UnitRemoveAbility(EF9,1093685838)
endif
call B67(rj[U4G])
call B67(Ej[U4G])
if U8G>0 then
call UnitAddAbility(EF9,1094004784)
call SetUnitAbilityLevel(EF9,1094004784,U8G)
endif
set rj[U4G]=null
set Ej[U4G]=null
endfunction
function U9G takes unit EF9 returns nothing
local integer U4G=GetPlayerId(GetOwningPlayer(EF9))
local integer U7G=EE9(EF9,2)
local integer UDG=GetUnitAbilityLevel(EF9,HN4[U7G])
local integer i=1
call UnitRemoveAbility(EF9,HS4[U7G])
call UnitRemoveAbility(EF9,1094004785)
call DisableTrigger(aj[U4G])
call DisableTrigger(Rj[U4G])
if U7G==59 then
call UnitRemoveAbility(EF9,1093677617)
call TQ7(GetHandleId(EF9),"TotalWebs",0)
loop
exitwhen i>8
call RemoveUnit(U87(GetHandleId(EF9),"Web"+I2S(i)))
set i=i+1
endloop
endif
if U7G==62 then
call UnitRemoveAbility(EF9,1093679171)
call RemoveUnit(U87(GetHandleId(Rj[U4G]),"VisionUnit"))
if GetUnitAbilityLevel(EF9,1093679158)==0 then
call UnitRemoveAbility(EF9,1093742902)
call UnitRemoveAbility(EF9,1093742903)
endif
endif
if U7G==78 then
call HJ8(EF9,0)
endif
call B67(aj[U4G])
call B67(Rj[U4G])
if UDG>0 then
call UnitAddAbility(EF9,1094004785)
call SetUnitAbilityLevel(EF9,1094004785,UDG)
endif
set aj[U4G]=null
set Rj[U4G]=null
endfunction
function Vge takes nothing returns nothing
call UnitShareVision(GetEnumUnit(),GetOwningPlayer(D8),false)
endfunction
function UEG takes unit EF9 returns nothing
local integer U4G=GetPlayerId(GetOwningPlayer(EF9))
local integer U7G=EE9(EF9,3)
local integer UFG=GetUnitAbilityLevel(EF9,HO4[U7G])
local group g=null
call UnitRemoveAbility(EF9,HT4[U7G])
call UnitRemoveAbility(EF9,1094004786)
call DisableTrigger(nj[U4G])
call DisableTrigger(Aj[U4G])
call UnitRemoveAbility(EF9,1093743428)
if U7G==15 then
call UnitRemoveAbility(EF9,1093747537)
call ForGroup(UG7(GetHandleId(nj[U4G]),"ActiveGroup"),function SKG)
call CW7(UG7(GetHandleId(nj[U4G]),"ActiveGroup"))
endif
if U7G==27 then
call UnitRemoveAbility(EF9,1093684826)
endif
if U7G==38 then
call UnitRemoveAbility(EF9,1093748291)
endif
if U7G==41 then
call DestroyEffect(UH7(GetHandleId(EF9),"OverloadFX1"))
call DestroyEffect(UH7(GetHandleId(EF9),"OverloadFX2"))
endif
if U7G==42 then
call DestroyEffect(UH7(GetHandleId(nj[U4G]),"FX1"))
call DestroyEffect(UH7(GetHandleId(nj[U4G]),"FX2"))
call HJ8(EF9,0)
call HO8(EF9,0)
endif
if U7G==58 then
call RemoveUnit(U87(GetHandleId(EF9),"FeralHeartCaster"))
endif
if U7G==60 then
call SetUnitVertexColorBJ(EF9,100,100,100,0)
call UnitRemoveAbility(EF9,1093743430)
call UnitRemoveAbility(EF9,1093743432)
call UnitRemoveAbility(EF9,1093743431)
call UnitRemoveAbility(EF9,1110458674)
call UnitRemoveAbility(EF9,1110458673)
call UnitRemoveAbility(EF9,1110458675)
call UnitRemoveAbility(EF9,1093743433)
call UnitRemoveAbility(EF9,1110458672)
endif
if U7G==62 then
call UnitRemoveAbility(EF9,1395667009)
call RemoveUnit(U87(GetHandleId(Aj[U4G]),"VisionUnit"))
if GetUnitAbilityLevel(EF9,1093679173)==0 then
call UnitRemoveAbility(EF9,1093742902)
call UnitRemoveAbility(EF9,1093742903)
endif
endif
if U7G==87 then
call UnitRemoveAbility(EF9,1093685068)
call UnitRemoveAbility(EF9,1093685069)
call UnitRemoveAbility(EF9,1093685070)
call UnitRemoveAbility(EF9,1093685064)
endif
call B67(nj[U4G])
call B67(Aj[U4G])
if UFG>0 then
call UnitAddAbility(EF9,1094004786)
call SetUnitAbilityLevel(EF9,1094004786,UFG)
endif
set nj[U4G]=null
set Aj[U4G]=null
set g=null
endfunction
function UGG takes unit EF9 returns nothing
local integer U4G=GetPlayerId(GetOwningPlayer(EF9))
local integer U7G=EE9(EF9,4)
local boolean K1D=SR7(EF9,ZU[GX4])
local integer UHG=GetUnitAbilityLevel(EF9,HP4[U7G])
if K1D and HQ4[U7G]!=0 then
set UHG=GetUnitAbilityLevel(EF9,HQ4[U7G])
endif
call UnitRemoveAbility(EF9,HU4[U7G])
call UnitRemoveAbility(EF9,HV4[U7G])
call UnitRemoveAbility(EF9,1094004787)
call DisableTrigger(Vj[U4G])
call DisableTrigger(Nj[U4G])
call UnitRemoveAbility(EF9,1093684546)
call UnitRemoveAbility(EF9,1093677652)
call UnitRemoveAbility(EF9,1093685844)
call UnitRemoveAbility(EF9,1093683265)
call UnitRemoveAbility(EF9,1093749061)
call UnitRemoveAbility(EF9,1110459193)
call UnitRemoveAbility(EF9,1093749062)
call UnitRemoveAbility(EF9,1110459193)
call UnitRemoveAbility(EF9,1093749063)
call UnitRemoveAbility(EF9,1110459193)
if U7G==29 then
call RemoveUnit(U87(GetHandleId(EF9),"Warpath|Caster"))
call HJ8(EF9,0)
endif
call B67(Vj[U4G])
call B67(Nj[U4G])
if UHG>0 then
call UnitAddAbility(EF9,1094004787)
call SetUnitAbilityLevel(EF9,1094004787,UHG)
endif
call TimerStart(N84[U4G],0,false,null)
set Vj[U4G]=null
set Nj[U4G]=null
endfunction
function UIG takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit EF9=U87(GetHandleId(t),"FormlessUnit")
local integer UJG=UN7(GetHandleId(t),"V68")
call IssueImmediateOrder(EF9,"unimmolation")
if UJG==1094004788 then
call T_G(EF9)
call U9G(EF9)
call UEG(EF9)
call UGG(EF9)
elseif UJG==1094004789 then
call T_G(EF9)
elseif UJG==1094004790 then
call U9G(EF9)
elseif UJG==1094004791 then
call UEG(EF9)
elseif UJG==1094004792 then
call UGG(EF9)
endif
call DestroyTimer(t)
set EF9=null
set t=null
endfunction
function UKG takes unit EF9,integer UJG returns nothing
local integer U4G=GetPlayerId(GetOwningPlayer(EF9))
local timer t=CreateTimer()
call IssueImmediateOrder(EF9,"stop")
call TU7(GetHandleId(t),"FormlessUnit",EF9)
call TQ7(GetHandleId(t),"V68",UJG)
call TimerStart(t,0,false,function UIG)
set t=null
endfunction
function UMG takes nothing returns boolean
if GetSpellAbilityId()==1094004788 or GetSpellAbilityId()==1094004789 or GetSpellAbilityId()==1094004790 or GetSpellAbilityId()==1094004791 or GetSpellAbilityId()==1094004792 then
call UKG(GetTriggerUnit(),GetSpellAbilityId())
endif
return false
endfunction
function V68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UMG))
set t=null
endfunction
function UNG takes nothing returns boolean
return GetSpellAbilityId()==1094004784 or GetSpellAbilityId()==1094004785 or GetSpellAbilityId()==1094004786 or GetSpellAbilityId()==1094004787
endfunction
function UOG takes nothing returns nothing
local unit EF9=GetTriggerUnit()
local player p=GetOwningPlayer(EF9)
local integer UPG=GetUnitPointValue(GetSpellTargetUnit())
local integer UQG=GetUnitAbilityLevel(EF9,GetSpellAbilityId())
local integer URG=GetSpellAbilityId()
local integer U4G=GetPlayerId(p)
local unit KH8=null
local integer USG=0
local integer UTG=0
local integer UUG=0
local string UVG=""
local string UWG=""
local boolean K1D=SR7(EF9,ZU[GX4])
local trigger t
local integer UXG=EE9(EF9,1)
local integer UYG=EE9(EF9,2)
local integer UZG=EE9(EF9,3)
local integer UAG=EE9(EF9,4)
if URG==1094004784 then
set USG=HM4[UPG]
set UTG=HR4[UPG]
set UVG=HW4[UPG]
set UWG="Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl"
elseif URG==1094004785 then
set USG=HN4[UPG]
set UTG=HS4[UPG]
set UVG=HX4[UPG]
set UWG="Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl"
elseif URG==1094004786 then
set USG=HO4[UPG]
set UTG=HT4[UPG]
set UVG=HY4[UPG]
set UWG="Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl"
elseif URG==1094004787 then
set USG=HP4[UPG]
set UTG=HU4[UPG]
set UVG=HZ4[UPG]
set UWG="Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"
if K1D==true and HQ4[UPG]!=0 then
set USG=HQ4[UPG]
set UTG=HV4[UPG]
endif
endif
if UTG==0 then
call L27(p,"Unable to copy "+GetAbilityName(USG)+".")
elseif bj[U4G]==false and UVG!="passive" and(UVG==HW4[UXG]or UVG==HX4[UYG]or UVG==HY4[UZG]or UVG==HZ4[UAG])then
if UVG==HW4[UXG]then
set UUG=HM4[UXG]
elseif UVG==HX4[UYG]then
set UUG=HN4[UYG]
elseif UVG==HY4[UZG]then
set UUG=HO4[UZG]
elseif UVG==HZ4[UAG]then
set UUG=HP4[UAG]
endif
call L27(p,"Cannot copy "+GetAbilityName(USG)+" because you already
        have an ability with this base order ("+GetAbilityName(UUG)+").
        Use -override to disable this.")
else
call DestroyEffect(AddSpecialEffectTarget(UWG,EF9,"origin"))
call UnitRemoveAbility(EF9,URG)
call UnitAddAbility(EF9,USG)
call UnitAddAbility(EF9,UTG)
call SetPlayerAbilityAvailable(p,UTG,false)
call SetUnitAbilityLevel(EF9,USG,UQG)
if USG==1093686073 then
call UnitAddAbility(EF9,1093686081)
elseif USG==1093742926 then
call UnitAddAbility(EF9,1093743428)
elseif USG==1093677130 then
call UnitAddAbility(EF9,1093684546)
call SetUnitAbilityLevel(EF9,1093684546,UQG)
elseif USG==1093681483 or USG==1093748313 then
call UnitAddAbility(EF9,1093687110)
elseif USG==1093685840 then
call UnitAddAbility(EF9,1093685844)
elseif USG==1093683257 then
call UnitAddAbility(EF9,1093683265)
endif
if USG==1093682265 then
call DND(EF9,true)
elseif USG==1093744728 then
call RIG(EF9,true)
elseif USG==1093684314 then
call OGD(EF9,true)
elseif USG==1093747524 then
call SOG(EF9,true)
elseif USG==1093744977 then
call S1D(EF9,true)
elseif USG==1093684531 then
call BZ9(EF9,true)
elseif USG==1093682774 then
call BR9(EF9,true)
elseif USG==1093749073 then
call A29(EF9,true)
elseif USG==1093685048 then
call G4D(EF9,true)
elseif USG==1093685591 then
call P2D(EF9,true)
elseif USG==1093685582 then
call FMD(EF9,true)
elseif USG==1093685585 then
call FSD(EF9,true)
elseif USG==1093748033 then
call U4D(EF9,true)
elseif USG==1093677893 then
call CEE(EF9,true)
elseif USG==1093681735 then
call X3D(EF9,true)
elseif USG==1093679173 or USG==1093679158 then
call IBE(EF9,true,USG)
elseif USG==1093682010 then
call Z3D(EF9,true)
elseif USG==1093679153 then
call AXD(EF9,true)
elseif USG==1093748022 then
call N4E(EF9,true)
elseif USG==1093686099 then
call Y9F(EF9,true)
elseif USG==1093678149 then
call RTE(EF9,true)
elseif USG==1093677390 then
call HME(EF9,true)
elseif USG==1093678660 then
elseif USG==1093682515 then
call QHE(EF9,true)
elseif USG==1093682004 then
elseif USG==1093684819 or USG==1093747777 then
call WGD(EF9,true)
elseif USG==1093684801 then
call PZE(EF9,true)
elseif USG==1093685065 then
call YSD(EF9,true)
elseif USG==1093683526 then
call YQD(EF9,true)
elseif USG==1093749070 then
call X6E(EF9,true)
endif
endif
set EF9=null
set p=null
set t=null
endfunction
function V38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function UNG))
call TriggerAddAction(t,function UOG)
set t=null
endfunction
function UBG takes nothing returns boolean
return(GetLearnedSkill()==1094004784 or GetLearnedSkill()==1094004785 or GetLearnedSkill()==1094004786 or GetLearnedSkill()==1094004787)and GetUnitAbilityLevel(GetTriggerUnit(),1094004788)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1094004789)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1094004790)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1094004791)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1094004792)==0
endfunction
function UCG takes nothing returns boolean
return GetIssuedOrderId()==OrderId("replenishon")
endfunction
function U3G takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit U6G=U87(GetHandleId(t),"FormlessUnit")
local integer ULG
call IssueImmediateOrder(U6G,"replenishoff")
if GetUnitAbilityLevel(U6G,1094004788)>0 then
set ULG=1094004793
elseif GetUnitAbilityLevel(U6G,1094004789)>0 then
set ULG=1094004801
elseif GetUnitAbilityLevel(U6G,1094004790)>0 then
set ULG=1094004802
elseif GetUnitAbilityLevel(U6G,1094004791)>0 then
set ULG=1094004803
elseif GetUnitAbilityLevel(U6G,1094004792)>0 then
set ULG=0
endif
call UnitRemoveAbility(U6G,1094004793)
call UnitRemoveAbility(U6G,1094004801)
call UnitRemoveAbility(U6G,1094004802)
call UnitRemoveAbility(U6G,1094004803)
if ULG!=0 then
call UnitAddAbility(U6G,ULG)
call SetPlayerAbilityAvailable(GetOwningPlayer(U6G),ULG,false)
endif
call TN7(GetHandleId(t))
call DestroyTimer(t)
set t=null
set U6G=null
endfunction
function U1G takes nothing returns nothing
local unit U6G=GetTriggerUnit()
local timer t=CreateTimer()
call TU7(GetHandleId(t),"FormlessUnit",U6G)
call TimerStart(t,0,false,function U3G)
set U6G=null
set t=null
endfunction
function U0G takes nothing returns nothing
local integer U4G=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function UCG))
call TriggerAddAction(t,function U1G)
if GetLearnedSkill()!=1094004784 then
call UnitAddAbility(GetTriggerUnit(),1094004784)
call UnitRemoveAbility(GetTriggerUnit(),1094004784)
elseif GetLearnedSkill()!=1094004785 then
call UnitAddAbility(GetTriggerUnit(),1094004785)
call UnitRemoveAbility(GetTriggerUnit(),1094004785)
elseif GetLearnedSkill()!=1094004786 then
call UnitAddAbility(GetTriggerUnit(),1094004786)
call UnitRemoveAbility(GetTriggerUnit(),1094004786)
elseif GetLearnedSkill()!=1094004787 then
call UnitAddAbility(GetTriggerUnit(),1094004787)
call UnitRemoveAbility(GetTriggerUnit(),1094004787)
endif
call UnitAddAbility(GetTriggerUnit(),1094004789)
call UnitRemoveAbility(GetTriggerUnit(),1094004789)
call UnitAddAbility(GetTriggerUnit(),1094004790)
call UnitRemoveAbility(GetTriggerUnit(),1094004790)
call UnitAddAbility(GetTriggerUnit(),1094004791)
call UnitRemoveAbility(GetTriggerUnit(),1094004791)
call UnitAddAbility(GetTriggerUnit(),1094004792)
call UnitRemoveAbility(GetTriggerUnit(),1094004792)
call UnitAddAbility(GetTriggerUnit(),1094004788)
set t=null
endfunction
function VL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function UBG))
call TriggerAddAction(t,function U0G)
set t=null
endfunction
function U5G takes nothing returns nothing
local unit CC7=GetTriggerUnit()
local player p=GetOwningPlayer(CC7)
local real x
local real y
local integer J18
set IG4[GetPlayerId(GetOwningPlayer((CC7)))]=false
if ZC7(GetOwningPlayer(CC7))then
set x=GetRectCenterX(ED)
set y=GetRectCenterY(ED)
else
set x=GetRectCenterX(L9)
set y=GetRectCenterY(L9)
endif
call TimerStart(U[GetPlayerId(p)],0.0,false,null)
if J38(CC7)then
call KD8(CC7)
else
call JB8(CC7,p,x,y,false)
endif
call SetUnitX(CC7,x)
call SetUnitY(CC7,y)
call JY8(CC7)
call SetUnitPathing(CC7,true)
if SV7(CC7,ZU[DI4])!=null and GetUnitTypeId(CC7)!=1211117642 then
set J18=(R2I(((GetItemCharges(SV7(CC7,ZU[DI4]))*0.67)*1.0)))
if GetItemCharges(SV7(CC7,ZU[DI4]))==1 then
set J18=0
endif
call SetItemCharges(SV7(CC7,ZU[DI4]),J18)
call AddHeroXP(CC7,GetHeroXP(OA4[GetPlayerId(GetOwningPlayer(CC7))]),true)
call RemoveUnit(OA4[GetPlayerId(GetOwningPlayer(CC7))])
endif
if RZ4 and GetUnitPointValue(CC7)==500 then
call UKG(CC7,1094004788)
endif
set CC7=null
set p=null
endfunction
function U2G takes unit U_G,integer V4G returns nothing
call UnitRemoveAbility(U_G,1094006068)
call UnitRemoveAbility(U_G,1094006069)
call UnitRemoveAbility(U_G,1094006070)
call UnitRemoveAbility(U_G,1094006071)
call UnitRemoveAbility(U_G,1094006072)
if V4G>=16 then
call UnitAddAbility(U_G,1094006072)
set V4G=V4G-16
endif
if V4G>=8 then
call UnitAddAbility(U_G,1094006071)
set V4G=V4G-8
endif
if V4G>=4 then
call UnitAddAbility(U_G,1094006070)
set V4G=V4G-4
endif
if V4G>=2 then
call UnitAddAbility(U_G,1094006069)
set V4G=V4G-2
endif
if V4G>=1 then
call UnitAddAbility(U_G,1094006068)
set V4G=V4G-1
endif
endfunction
function V7G takes nothing returns boolean
return GetSpellAbilityId()==1094006064
endfunction
function V8G takes nothing returns nothing
local unit U_G=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer V9G=(1+GetUnitAbilityLevel(U_G,1094006064))*GetHeroStr(U_G,true)
local integer VDG=UN7(GetHandleId(U_G),"iPFCount")+1
local integer V4G=UN7(GetHandleId(U_G),"iPFStrength")
local integer VEG=V4G
if VDG>9 then
set VDG=0
set VEG=DN8(5*GetUnitAbilityLevel(U_G,1094006064),V4G+1)
if VEG!=V4G then
call U2G(U_G,VEG)
if m5!=U_G then
call DC8("+1 Strength",3,U_G,.023,255,0,0,255)
endif
endif
endif
call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+V9G)
if VDG!=0 or m5!=U_G or VEG==V4G then
call DC8("+"+I2S(V9G)+" HP",3,m5,.023,255,0,0,255)
else
call DC8("+"+I2S(V9G)+" HP
        +1 Strength",3,U_G,.023,255,0,0,255)
endif
call TQ7(GetHandleId(U_G),"iPFCount",VDG)
call TQ7(GetHandleId(U_G),"iPFStrength",VEG)
set U_G=null
set m5=null
endfunction
function VFG takes nothing returns boolean
return ID8(GetEventDamage())
endfunction
function VGG takes nothing returns nothing
local unit U_G=GetTriggerUnit()
local real VHG=UO7(GetHandleId(U_G),"rPFDamage")+GetEventDamage()
local integer V4G=UN7(GetHandleId(U_G),"iPFStrength")
local integer VEG=V4G
if VHG>=500 then
set VHG=VHG-500
set VEG=DN8(5*GetUnitAbilityLevel(U_G,1094006064),V4G+1)
if VEG!=V4G then
call U2G(U_G,VEG)
call DC8("+1 Strength",3,U_G,.023,255,0,0,255)
endif
endif
call TR7(GetHandleId(U_G),"rPFDamage",VHG)
call TQ7(GetHandleId(U_G),"iPFStrength",VEG)
set U_G=null
endfunction
function VIG takes nothing returns boolean
return GetLearnedSkill()==1094006064 and GetUnitAbilityLevel(GetTriggerUnit(),1094006064)==1
endfunction
function VJG takes nothing returns nothing
local unit U_G=GetTriggerUnit()
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,U_G,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function VFG))
call TriggerAddAction(t,function VGG)
call TR7(GetHandleId(U_G),"rPFDamage",0)
call TQ7(GetHandleId(U_G),"iPFCount",0)
call TQ7(GetHandleId(U_G),"iPFStrength",0)
set t=null
set U_G=null
endfunction
function V18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function V7G))
call TriggerAddAction(t,function V8G)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function VIG))
call TriggerAddAction(t,function VJG)
set t=null
endfunction
function VKG takes unit U_G,integer VMG returns nothing
call UnitRemoveAbility(U_G,1094006073)
call UnitRemoveAbility(U_G,1094006081)
call UnitRemoveAbility(U_G,1094006082)
call UnitRemoveAbility(U_G,1094006083)
call UnitRemoveAbility(U_G,1094006084)
if VMG>=16 then
call UnitAddAbility(U_G,1094006084)
set VMG=VMG-16
endif
if VMG>=8 then
call UnitAddAbility(U_G,1094006083)
set VMG=VMG-8
endif
if VMG>=4 then
call UnitAddAbility(U_G,1094006082)
set VMG=VMG-4
endif
if VMG>=2 then
call UnitAddAbility(U_G,1094006081)
set VMG=VMG-2
endif
if VMG>=1 then
call UnitAddAbility(U_G,1094006073)
set VMG=VMG-1
endif
endfunction
function VNG takes nothing returns boolean
return GetSpellAbilityId()==1094006065
endfunction
function VOG takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit m5=U87(GetHandleId(t),"SFluxTarget")
call UnitRemoveAbility(m5,1094006090)
call UnitRemoveAbility(m5,1094006094)
call UnitRemoveAbility(m5,1094006095)
call UnitRemoveAbility(m5,1094006096)
call UnitRemoveAbility(m5,1110783306)
call UnitRemoveAbility(m5,1110783310)
call UnitRemoveAbility(m5,1110783311)
call UnitRemoveAbility(m5,1110783312)
call B67(t)
set t=null
set m5=null
endfunction
function VPG takes nothing returns nothing
local unit U_G=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local real VQG=0.25*GetHeroAgi(U_G,true)
local integer VRG=UN7(GetHandleId(U_G),"iSFCount")+1
local integer VMG=UN7(GetHandleId(U_G),"iSFAgility")
local integer VSG=VMG
local trigger t=CreateTrigger()
local integer BH7=GetUnitAbilityLevel(U_G,1094006065)
if VRG>9 then
set VRG=0
set VSG=DN8(5*BH7,VMG+1)
if VSG!=VMG then
call VKG(U_G,VSG)
if m5!=U_G then
call DC8("+1 Agility",3,U_G,.023,0,255,0,255)
endif
endif
endif
call B67(UF7(GetHandleId(m5),"SFluxEndTrig"))
call UnitRemoveAbility(m5,1094006090)
call UnitRemoveAbility(m5,1094006094)
call UnitRemoveAbility(m5,1094006095)
call UnitRemoveAbility(m5,1094006096)
call UnitRemoveAbility(m5,1110783306)
call UnitRemoveAbility(m5,1110783310)
call UnitRemoveAbility(m5,1110783311)
call UnitRemoveAbility(m5,1110783312)
if BH7==1 then
call UnitAddAbility(m5,1094006090)
elseif BH7==2 then
call UnitAddAbility(m5,1094006094)
elseif BH7==3 then
call UnitAddAbility(m5,1094006095)
elseif BH7==4 then
call UnitAddAbility(m5,1094006096)
endif
call TriggerRegisterTimerEvent(t,VQG,false)
call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)
call TriggerAddAction(t,function VOG)
call TU7(GetHandleId(t),"SFluxTarget",m5)
call TW7(GetHandleId(m5),"SFluxEndTrig",t)
if VRG!=0 or m5!=U_G or VSG==VMG then
call DC8(R2S(VQG)+" s",3,m5,.023,0,255,0,255)
else
call DC8(R2S(VQG)+" s
        +1 Agility",3,U_G,.023,0,255,0,255)
endif
call TQ7(GetHandleId(U_G),"iSFCount",VRG)
call TQ7(GetHandleId(U_G),"iSFAgility",VSG)
set U_G=null
set m5=null
set t=null
endfunction
function VTG takes nothing returns boolean
return ID8(GetEventDamage())
endfunction
function VUG takes nothing returns nothing
local unit U_G=GetTriggerUnit()
local integer VVG=UN7(GetHandleId(U_G),"iSFHit")+1
local integer VMG=UN7(GetHandleId(U_G),"iSFAgility")
local integer VSG=VMG
if VVG>=20 then
set VVG=0
set VSG=DN8(5*GetUnitAbilityLevel(U_G,1094006065),VMG+1)
if VSG!=VMG then
call VKG(U_G,VSG)
call DC8("+1 Agility",3,U_G,.023,0,255,0,255)
endif
endif
call TQ7(GetHandleId(U_G),"iSFHit",VVG)
call TQ7(GetHandleId(U_G),"iSFAgility",VSG)
set U_G=null
endfunction
function VWG takes nothing returns boolean
return GetLearnedSkill()==1094006065 and GetUnitAbilityLevel(GetTriggerUnit(),1094006065)==1
endfunction
function VXG takes nothing returns nothing
local unit U_G=GetTriggerUnit()
local trigger t=CreateTrigger()
call TriggerRegisterUnitEvent(t,U_G,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function VTG))
call TriggerAddAction(t,function VUG)
call TQ7(GetHandleId(U_G),"iSFHit",0)
call TQ7(GetHandleId(U_G),"iSFCount",0)
call TQ7(GetHandleId(U_G),"iSFAgility",0)
set t=null
set U_G=null
endfunction
function V08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VNG))
call TriggerAddAction(t,function VPG)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function VWG))
call TriggerAddAction(t,function VXG)
set t=null
endfunction
function VYG takes unit U_G,integer VZG returns nothing
call UnitRemoveAbility(U_G,1094006085)
call UnitRemoveAbility(U_G,1094006086)
call UnitRemoveAbility(U_G,1094006087)
call UnitRemoveAbility(U_G,1094006088)
call UnitRemoveAbility(U_G,1094006089)
if VZG>=16 then
call UnitAddAbility(U_G,1094006089)
set VZG=VZG-16
endif
if VZG>=8 then
call UnitAddAbility(U_G,1094006088)
set VZG=VZG-8
endif
if VZG>=4 then
call UnitAddAbility(U_G,1094006087)
set VZG=VZG-4
endif
if VZG>=2 then
call UnitAddAbility(U_G,1094006086)
set VZG=VZG-2
endif
if VZG>=1 then
call UnitAddAbility(U_G,1094006085)
set VZG=VZG-1
endif
endfunction
function VAG takes nothing returns boolean
return GetSpellAbilityId()==1094006066
endfunction
function VBG takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit m5=U87(GetHandleId(t),"MFluxTarget")
local integer VCG=UN7(GetHandleId(t),"iMFluxMP")
call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)+VCG)
call B67(t)
set t=null
set m5=null
endfunction
function V3G takes nothing returns nothing
local unit U_G=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer VCG=R2I(0.75*GetUnitAbilityLevel(U_G,1094006066)*GetHeroInt(U_G,true))
local integer V6G=UN7(GetHandleId(U_G),"iMFCount")+1
local integer VZG=UN7(GetHandleId(U_G),"iMFIntelligence")
local integer VLG=VZG
local trigger t=CreateTrigger()
if V6G>9 then
set V6G=0
set VLG=DN8(5*GetUnitAbilityLevel(U_G,1094006066),VZG+1)
if VLG!=VZG then
call VYG(U_G,VLG)
if m5!=U_G then
call DC8("+1 Intelligence",3,U_G,.023,0,0,255,255)
endif
endif
endif
call TU7(GetHandleId(t),"MFluxTarget",m5)
call TQ7(GetHandleId(t),"iMFluxMP",VCG)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddAction(t,function VBG)
if V6G!=0 or m5!=U_G or VLG==VZG then
call DC8("+"+I2S(VCG)+" MP",3,m5,.023,0,0,255,255)
else
call DC8("+"+I2S(VCG)+" MP
        +1 Intelligence",3,U_G,.023,0,0,255,255)
endif
call TQ7(GetHandleId(U_G),"iMFCount",V6G)
call TQ7(GetHandleId(U_G),"iMFIntelligence",VLG)
set U_G=null
set m5=null
set t=null
endfunction
function V1G takes nothing returns boolean
return GetSpellTargetUnit()==U87(GetHandleId(GetTriggeringTrigger()),"uKappa")and IsUnitEnemy(U87(GetHandleId(GetTriggeringTrigger()),"uKappa"),GetOwningPlayer(GetTriggerUnit()))
endfunction
function V0G takes nothing returns nothing
local unit U_G=GetSpellTargetUnit()
local integer V5G=UN7(GetHandleId(U_G),"iMFCast")+1
local integer VZG=UN7(GetHandleId(U_G),"iMFIntelligence")
local integer VLG=VZG
if V5G>=3 then
set V5G=0
set VLG=DN8(5*GetUnitAbilityLevel(U_G,1094006066),VZG+1)
if VLG!=VZG then
call VYG(U_G,VLG)
call DC8("+1 Intelligence",3,U_G,.023,0,0,255,255)
endif
endif
call TQ7(GetHandleId(U_G),"iMFCast",V5G)
call TQ7(GetHandleId(U_G),"iMFIntelligence",VLG)
set U_G=null
endfunction
function V2G takes nothing returns boolean
return GetLearnedSkill()==1094006066 and GetUnitAbilityLevel(GetTriggerUnit(),1094006066)==1
endfunction
function V_G takes nothing returns nothing
local unit U_G=GetTriggerUnit()
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function V1G))
call TriggerAddAction(t,function V0G)
call TU7(GetHandleId(t),"uKappa",U_G)
call TQ7(GetHandleId(U_G),"iMFCast",0)
call TQ7(GetHandleId(U_G),"iMFCount",0)
call TQ7(GetHandleId(U_G),"iMFIntelligence",0)
set t=null
set U_G=null
endfunction
function V58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function VAG))
call TriggerAddAction(t,function V3G)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function V2G))
call TriggerAddAction(t,function V_G)
set t=null
endfunction
function W4G takes nothing returns boolean
return GetSpellAbilityId()==1094006067
endfunction
function W7G takes nothing returns nothing
local unit U_G=GetTriggerUnit()
local unit m5=GetSpellTargetUnit()
local integer W8G=0
local integer W9G=0
if GetUnitAbilityLevel(U_G,1094006091)>0 then
set W9G=UN7(GetHandleId(U_G),"iPFStrength")
elseif GetUnitAbilityLevel(U_G,1094006092)>0 then
set W9G=UN7(GetHandleId(U_G),"iSFAgility")
elseif GetUnitAbilityLevel(U_G,1094006093)>0 then
set W9G=UN7(GetHandleId(U_G),"iMFIntelligence")
endif
set W8G=W9G/2
if ModuloInteger(W9G,2)>0 then
set W8G=W8G+1
endif
set W9G=W9G/2
if GetUnitAbilityLevel(U_G,1094006091)>0 then
call U2G(U_G,0)
call TQ7(GetHandleId(U_G),"iPFStrength",0)
call SetHeroStr(m5,GetHeroStr(m5,false)+W8G,true)
call SetHeroStr(U_G,GetHeroStr(U_G,false)+W9G,true)
call DC8("+"+I2S(W8G)+" Strength",3,m5,.023,255,0,0,255)
call DC8("+"+I2S(W9G)+" Strength",3,U_G,.023,255,0,0,255)
call TQ7(GetHandleId(m5),"FluxStr",UN7(GetHandleId(m5),"FluxStr")+W8G)
call TQ7(GetHandleId(U_G),"FluxStr",UN7(GetHandleId(U_G),"FluxStr")+W9G)
elseif GetUnitAbilityLevel(U_G,1094006092)>0 then
call VKG(U_G,0)
call TQ7(GetHandleId(U_G),"iSFAgility",0)
call SetHeroAgi(m5,GetHeroAgi(m5,false)+W8G,true)
call SetHeroAgi(U_G,GetHeroAgi(U_G,false)+W9G,true)
call DC8("+"+I2S(W8G)+" Agility",3,m5,.023,0,255,0,255)
call DC8("+"+I2S(W9G)+" Agility",3,U_G,.023,0,255,0,255)
call TQ7(GetHandleId(m5),"FluxAgi",UN7(GetHandleId(m5),"FluxAgi")+W8G)
call TQ7(GetHandleId(U_G),"FluxAgi",UN7(GetHandleId(U_G),"FluxAgi")+W9G)
elseif GetUnitAbilityLevel(U_G,1094006093)>0 then
call VYG(U_G,0)
call TQ7(GetHandleId(U_G),"iMFIntelligence",0)
call SetHeroInt(m5,GetHeroInt(m5,false)+W8G,true)
call SetHeroInt(U_G,GetHeroInt(U_G,false)+W9G,true)
call DC8("+"+I2S(W8G)+" Intelligence",3,m5,.023,0,0,255,255)
call DC8("+"+I2S(W9G)+" Intelligence",3,U_G,.023,0,0,255,255)
call TQ7(GetHandleId(m5),"FluxInt",UN7(GetHandleId(m5),"FluxInt")+W8G)
call TQ7(GetHandleId(U_G),"FluxInt",UN7(GetHandleId(U_G),"FluxInt")+W9G)
endif
set U_G=null
set m5=null
endfunction
function WDG takes nothing returns boolean
return GetLearnedSkill()==1094006067 and GetUnitAbilityLevel(GetTriggerUnit(),1094006067)==1
endfunction
function WEG takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),1094006091)
endfunction
function WFG takes nothing returns boolean
return GetSpellAbilityId()==1094006091 or GetSpellAbilityId()==1094006092 or GetSpellAbilityId()==1094006093
endfunction
function WGG takes nothing returns nothing
if GetSpellAbilityId()==1094006091 then
call UnitRemoveAbility(GetTriggerUnit(),1094006091)
call UnitAddAbility(GetTriggerUnit(),1094006092)
elseif GetSpellAbilityId()==1094006092 then
call UnitRemoveAbility(GetTriggerUnit(),1094006092)
call UnitAddAbility(GetTriggerUnit(),1094006093)
else
call UnitRemoveAbility(GetTriggerUnit(),1094006093)
call UnitAddAbility(GetTriggerUnit(),1094006091)
endif
endfunction
function V28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W4G))
call TriggerAddAction(t,function W7G)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function WDG))
call TriggerAddAction(t,function WEG)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WFG))
call TriggerAddAction(t,function WGG)
set t=null
endfunction
function WHG takes nothing returns nothing
local unit WIG=M7[GetPlayerId(GetTriggerPlayer())]
local player p=GetTriggerPlayer()
local integer WJG=GetHandleId(WIG)
local integer WKG=UN7(WJG,"FluxStr")
local integer WMG=UN7(WJG,"FluxAgi")
local integer WNG=UN7(WJG,"FluxInt")
local integer WOG=UN7(WJG,"iPFStrength")
local integer WPG=UN7(WJG,"iSFAgility")
local integer WQG=UN7(WJG,"iMFIntelligence")
if GetUnitTypeId(WIG)==1211510832 then
call DisplayTimedTextToPlayer(p,0,0,15,"Bonus Strength: "+I2S(WOG))
call DisplayTimedTextToPlayer(p,0,0,15,"Bonus Agility: "+I2S(WPG))
call DisplayTimedTextToPlayer(p,0,0,15,"Bonus Intelligence: "+I2S(WQG))
endif
call DisplayTimedTextToPlayer(p,0,0,15,"Flux Strength: "+I2S(WKG))
call DisplayTimedTextToPlayer(p,0,0,15,"Flux Agility: "+I2S(WMG))
call DisplayTimedTextToPlayer(p,0,0,15,"Flux Intelligence: "+I2S(WNG))
set WIG=null
set p=null
endfunction
function V_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-flux",true)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-flux",true)
call TriggerAddAction(t,function WHG)
set t=null
endfunction
function WRG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer CP8=(LoadInteger(L7,(GetHandleId(O07)),(627)))
local real WSG=(LoadReal(L7,(GetHandleId(O07)),(628)))
local integer H98=GetUnitAbilityLevel(EC8,1093751604)
local real B19=(5+H98*15)*Pow(2,IMinBJ(CP8,4)-1)
set B19=B19+IMaxBJ(CP8-4,0)*50
if GetTriggerEventId()==EVENT_UNIT_DEATH then
if IsUnitType(O07,UNIT_TYPE_HERO)==true then
call KillUnit((LoadUnitHandle(L7,(OC7),(45))))
endif
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call SaveInteger(L7,(GetHandleId(O07)),(627),(0))
call SaveReal(L7,(GetHandleId(O07)),(628),((0)*1.0))
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093751609 then
if IsUnitType(O07,UNIT_TYPE_HERO)==true then
call KillUnit((LoadUnitHandle(L7,(OC7),(45))))
endif
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call SaveInteger(L7,(GetHandleId(O07)),(627),(0))
call SaveReal(L7,(GetHandleId(O07)),(628),((0)*1.0))
if(UU7(O07,"DisruptionState"))then
call SetUnitInvulnerable(O07,false)
endif
call HD8(EC8,O07,ZG4,B19)
if(UU7(O07,"DisruptionState"))then
call SetUnitInvulnerable(O07,true)
endif
call DC8(I2S(R2I(B19))+"!",2,O07,0.025,100,0,200,216)
endif
elseif(TimerGetElapsed(W))>WSG then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
if IsUnitType(O07,UNIT_TYPE_HERO)==true then
call KillUnit((LoadUnitHandle(L7,(OC7),(45))))
endif
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call SaveInteger(L7,(GetHandleId(O07)),(627),(0))
call SaveReal(L7,(GetHandleId(O07)),(628),((0)*1.0))
if(UU7(O07,"DisruptionState"))then
call SetUnitInvulnerable(O07,false)
endif
call HD8(EC8,O07,ZG4,B19)
if(UU7(O07,"DisruptionState"))then
call SetUnitInvulnerable(O07,true)
endif
call DC8(I2S(R2I(B19))+"!",2,O07,0.025,100,0,200,216)
else
if IsUnitType(O07,UNIT_TYPE_HERO)==true then
call SetUnitX((LoadUnitHandle(L7,(OC7),(45))),GetUnitX(O07))
call SetUnitY((LoadUnitHandle(L7,(OC7),(45))),GetUnitY(O07))
endif
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function WTG takes unit EC8,unit O07 returns nothing
local trigger t
local integer OC7
local integer H98=GetUnitAbilityLevel(EC8,1093751604)
local unit E98
if(LoadInteger(L7,(GetHandleId(O07)),(627)))>0 then
call SaveInteger(L7,(GetHandleId(O07)),(627),((LoadInteger(L7,(GetHandleId(O07)),(627)))+1))
call SaveReal(L7,(GetHandleId(O07)),(628),(((TimerGetElapsed(W))+8)*1.0))
else
set t=CreateTrigger()
set OC7=GetHandleId(t)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
if IsUnitType(O07,UNIT_TYPE_HERO)==true then
set E98=CreateUnit(GetOwningPlayer(EC8),1865429305,GetUnitX(O07),GetUnitY(O07),0)
call SaveUnitHandle(L7,(OC7),(45),(E98))
endif
call SaveInteger(L7,(GetHandleId(O07)),(627),(1))
if IsUnitType(O07,UNIT_TYPE_HERO)==true then
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("war3mapImported\\shamanyouranus-ShadowyMissile.mdl",O07,"chest")))
else
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("war3mapImported\\shamanyouranus-ShadowyMissile.mdl",O07,"origin")))
endif
call SaveReal(L7,(GetHandleId(O07)),(628),(((TimerGetElapsed(W))+10)*1.0))
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function WRG))
set E98=null
endif
call DC8("+"+I2S((LoadInteger(L7,(GetHandleId(O07)),(627)))),3,O07,0.025,100,0,200,216)
call HD8(EC8,O07,ZG4,50)
set t=null
set E98=null
endfunction
function WUG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),VF4)==false then
call GroupAddUnit(VF4,GetEnumUnit())
call WTG(VE4,GetEnumUnit())
endif
endfunction
function WVG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit E98=(LoadUnitHandle(L7,(OC7),(45)))
local integer WWG=GetTriggerEvalCount(t)
local real a=(LoadReal(L7,(OC7),(137)))
local real x=D78(GetUnitX(E98)+(20)*Cos(a))
local real y=D88(GetUnitY(E98)+(20)*Sin(a))
local group g
local group WXG=(LoadGroupHandle(L7,(OC7),(133)))
local unit O07
if WWG==75 then
call CW7(WXG)
call KillUnit(E98)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set IN4=EC8
set VE4=EC8
set VF4=WXG
call SetUnitX(E98,x)
call SetUnitY(E98,y)
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,180+25,Condition(function F38))
call ForGroup(g,function WUG)
set O07=FirstOfGroup(g)
call CW7(g)
endif
set t=null
set EC8=null
set E98=null
set g=null
set O07=null
set WXG=null
return false
endfunction
function WYG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local real a=PP7(GetUnitX(EC8),GetUnitY(EC8),x,y)*bj_DEGTORAD
local unit E98=CreateUnit(GetOwningPlayer(EC8),1747993394,GetUnitX(EC8),GetUnitY(EC8),a*bj_RADTODEG)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function WVG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(45),(E98))
call SaveReal(L7,(OC7),(137),((a)*1.0))
call SaveGroupHandle(L7,(OC7),(133),(CX7()))
call LM7(EC8,1093751609)
set t=null
set EC8=null
set E98=null
endfunction
function WZG takes nothing returns boolean
if GetSpellAbilityId()==1093751604 then
call WYG()
endif
return false
endfunction
function UG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function WZG))
set t=null
endfunction
function WAG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit WBG=GetSummonedUnit()
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SUMMON then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetUnitAbilityLevel(WBG,1110459457)>0 and GetOwningPlayer(GetSummoningUnit())==GetOwningPlayer(EC8)then
if IsUnitAlly(O07,GetOwningPlayer(EC8))==true then
call SelectUnitAddForPlayer(WBG,GetOwningPlayer(EC8))
else
call IssueTargetOrder(WBG,"attack",O07)
endif
endif
set t=null
set EC8=null
set O07=null
set WBG=null
return false
endfunction
function WCG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call UY7(O07,"DisruptionState")
call SetUnitInvulnerable(O07,false)
call PauseUnit(O07,false)
call ShowUnit(O07,true)
call RemoveSavedHandle(L7,(GetHandleId(O07)),(673))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if GetTriggerEventId()!=EVENT_UNIT_DEATH then
call ClearSelectionForPlayer(GetOwningPlayer(O07))
call SelectUnitAddForPlayer(O07,GetOwningPlayer(O07))
call E48(V94,GetUnitX(O07),GetUnitY(O07))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,3,false)
call D18(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function WAG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call LM7(H88,1093751605)
call SetUnitAbilityLevel(H88,1093751605,GetUnitAbilityLevel(EC8,1093751608))
call IssueTargetOrderById(H88,852274,O07)
call IssueTargetOrderById(H88,852274,O07)
endif
set t=null
set EC8=null
set O07=null
set H88=null
return false
endfunction
function W3G takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093751608)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit H88=CreateUnit(GetOwningPlayer(O07),1865429305,GetUnitX(O07),GetUnitY(O07),0)
call UnitApplyTimedLife(H88,1112820806,2.6)
if IsUnitAlly(O07,GetOwningPlayer(EC8))==false then
set H88=CreateUnit(GetOwningPlayer(EC8),1865429305,GetUnitX(O07),GetUnitY(O07),0)
call UnitApplyTimedLife(H88,1112820806,2.6)
endif
call SetUnitInvulnerable(O07,true)
call PauseUnit(O07,true)
call ShowUnit(O07,false)
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffect("war3mapImported\\WILLTHEALMIGHTY-Void5.mdx",GetUnitX(O07),GetUnitY(O07))))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function WCG))
call SaveUnitHandle(L7,GetHandleId(EC8),(673),O07)
call UW7(O07,"DisruptionState")
set EC8=null
set O07=null
set t=null
set H88=null
endfunction
function W6G takes nothing returns boolean
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093751608 and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true or CV7(GetSpellTargetUnit())==false)then
call W3G()
endif
else
if GetSpellAbilityId()==1093751608 and GetSpellTargetUnit()!=GetTriggerUnit()and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true and UP7(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652600))
endif
endif
return false
endfunction
function UH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function W6G))
set t=null
endfunction
function WLG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer H98=GetUnitAbilityLevel(EC8,1093751618)
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call TU7(GetHandleId(EC8),"AI|SoulCatcherTgt",null)
elseif GetEventDamage()>5 then
call DisableTrigger(t)
call HD8(GetEventDamageSource(),GetTriggerUnit(),ZI4,(0.1+0.1*H98)*GetEventDamage())
call EnableTrigger(t)
endif
set EC8=null
set t=null
return false
endfunction
function W1G takes nothing returns nothing
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local group g=CX7()
local unit EC8=GetTriggerUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093751618)
local unit O07
local trigger t
local integer OC7
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,475,Condition(function F38))
set O07=(LoadUnitHandle(L7,(GetHandleId(EC8)),(673)))
if O07!=null then
if RF7(GetUnitX(O07),GetUnitY(O07),x,y)<475 and IsUnitEnemy(O07,GetOwningPlayer(EC8))==true then
call GroupAddUnit(g,O07)
endif
endif
set O07=GroupPickRandomUnit(g)
call CW7(g)
call DestroyEffect(AddSpecialEffect("war3mapImported\\Desecrate.mdx",x,y))
if O07!=null then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,12,false)
call TriggerAddCondition(t,Condition(function WLG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("war3mapImported\\void.mdx",O07,"chest")))
if IsUnitType(O07,UNIT_TYPE_HERO)then
call U67(O07,"AI|SoulCatcher",12)
call TU7(GetHandleId(EC8),"AI|SoulCatcherTgt",O07)
endif
endif
set g=null
set EC8=null
set O07=null
set t=null
endfunction
function W0G takes nothing returns boolean
if GetSpellAbilityId()==1093751618 then
call W1G()
endif
return false
endfunction
function UI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W0G))
set t=null
endfunction
function W5G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer WWG=GetTriggerEvalCount(t)
local integer H98=GetUnitAbilityLevel(EC8,1093751617)
if WWG==5 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if(UU7(O07,"DisruptionState")==true)then
call SetUnitInvulnerable(O07,false)
endif
call HD8(EC8,O07,ZG4,4*(25+25*H98))
if(UU7(O07,"DisruptionState")==true)then
call SetUnitInvulnerable(O07,true)
endif
else
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function W2G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function W5G))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call TriggerEvaluate(t)
set t=null
set EC8=null
set O07=null
endfunction
function W_G takes nothing returns boolean
if GetSpellAbilityId()==1093751617 and IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true and CV7(GetSpellTargetUnit())==false then
call W2G()
endif
return false
endfunction
function UJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function W_G))
set t=null
endfunction
function X4G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local integer WWG=GetTriggerEvalCount(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
call UnitRemoveAbility(EC8,1093751632)
set t=null
set EC8=null
return false
endfunction
function X7G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
call LM7(EC8,1093751632)
call UnitMakeAbilityPermanent(EC8,true,1093751632)
call SetUnitAbilityLevel(EC8,1093751632,GetUnitAbilityLevel(EC8,1093751631))
call TriggerRegisterTimerEvent(t,3,false)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function X4G))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=null
set EC8=null
endfunction
function X8G takes nothing returns boolean
if GetSpellAbilityId()==1093751631 then
call X7G()
endif
return false
endfunction
function UK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function X8G))
set t=null
endfunction
function X9G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local integer CP8=GetTriggerEvalCount(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit E98=(LoadUnitHandle(L7,(OC7),(45)))
local real x
local real y
local real d
local real XDG
local real ZZ9=(LoadReal(L7,(OC7),(23)))
local real ZA9=(LoadReal(L7,(OC7),(24)))
local real a=PP7(ZZ9,ZA9,GetUnitX(O07),GetUnitY(O07))*bj_DEGTORAD
local integer H98=GetUnitAbilityLevel(EC8,1093751633)
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call UnitShareVision(E98,GetOwningPlayer(O07),false)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if GetTriggerUnit()!=E98 then
call KillUnit(E98)
endif
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
call UnitRemoveBuffs(E98,true,true)
elseif CP8<3/0.02 then
call SetUnitFacing(E98,a*bj_RADTODEG)
else
if CP8==4/0.02 then
call UnitShareVision(E98,GetOwningPlayer(O07),true)
endif
call SetUnitFacing(E98,a*bj_RADTODEG)
set x=ZZ9+(280+UV4*CP8*0.02)*0.02*Cos(a)
set y=ZA9+(280+UV4*CP8*0.02)*0.02*Sin(a)
call SetUnitPosition(E98,x,y)
call SaveReal(L7,(OC7),(23),((x)*1.0))
call SaveReal(L7,(OC7),(24),((y)*1.0))
if RF7(x,y,GetUnitX(O07),GetUnitY(O07))<20 then
set d=RMinBJ(RF7(x,y,(LoadReal(L7,(OC7),(6))),(LoadReal(L7,(OC7),(7)))),1500)
set XDG=d/1500*(110*GetUnitAbilityLevel(EC8,1093751633))
set XDG=RMaxBJ(XDG,50)
call KillUnit(E98)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if FU8(O07)==false or IsUnitVisible(O07,GetOwningPlayer(EC8))==true then
call HD8(EC8,O07,ZG4,XDG)
call H78(EC8,O07,2+0.2*H98)
endif
endif
endif
set t=null
set EC8=null
set O07=null
set E98=null
return false
endfunction
function XEG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local real a=PP7(GetUnitX(EC8),GetUnitY(EC8),GetUnitX(O07),GetUnitY(O07))*bj_DEGTORAD
local real x=D78(GetUnitX(EC8)+150*Cos(a))
local real y=D88(GetUnitY(EC8)+150*Sin(a))
local integer H98=GetUnitAbilityLevel(EC8,1093751633)
local unit E98
local integer XFG
local string XGG="effects\\Snipe Target.mdx"
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(EC8))==false and CM7(GetLocalPlayer())==false then
set XGG=""
endif
if H98==1 then
set XFG=1747993415
elseif H98==2 then
set XFG=1747993393
elseif H98==3 then
set XFG=1747993414
elseif H98==4 then
set XFG=1747993416
endif
set E98=CreateUnit(GetOwningPlayer(EC8),XFG,x,y,a*bj_RADTODEG)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,E98,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,E98,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function X9G))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(45),(E98))
call SaveReal(L7,(OC7),(6),((GetUnitX(EC8))*1.0))
call SaveReal(L7,(OC7),(7),((GetUnitY(EC8))*1.0))
call SaveReal(L7,(OC7),(23),((GetUnitX(E98))*1.0))
call SaveReal(L7,(OC7),(24),((GetUnitY(E98))*1.0))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget(XGG,O07,"overhead")))
set t=null
set EC8=null
set O07=null
set E98=null
endfunction
function XHG takes nothing returns boolean
if GetSpellAbilityId()==1093751633 and CV7(GetSpellTargetUnit())==false then
call XEG()
endif
return false
endfunction
function UM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XHG))
call DE8(1093687350)
set t=null
endfunction
function XIG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveAbility(O07,1110459461)
call UnitRemoveAbility(O07,1093751635)
set t=null
set O07=null
return false
endfunction
function XJG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveAbility(O07,1110459463)
call UnitRemoveAbility(O07,1093751860)
set t=null
set O07=null
return false
endfunction
function XKG takes nothing returns nothing
local trigger t
local integer OC7
local integer H98=GetUnitAbilityLevel(UO4,1093751861)
local boolean ZND=false
if H98==0 then
set H98=GetUnitAbilityLevel(UO4,1093808949)
set ZND=true
endif
if DB9(GetEnumUnit())==false then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,2,false)
call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function XIG))
call SaveUnitHandle(L7,(OC7),(17),(GetEnumUnit()))
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093751635,false)
call LM7(GetEnumUnit(),1093751635)
endif
call HD8(UO4,GetEnumUnit(),ZG4,H98*50+200)
set t=null
endfunction
function XMG takes nothing returns nothing
local trigger t
local integer OC7
local integer H98=GetUnitAbilityLevel(UO4,1093751861)
local boolean ZND=false
if H98==0 then
set H98=GetUnitAbilityLevel(UO4,1093808949)
set ZND=true
endif
if DB9(GetEnumUnit())==false then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,3,false)
call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function XJG))
call SaveUnitHandle(L7,(OC7),(17),(GetEnumUnit()))
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093751860,false)
call LM7(GetEnumUnit(),1093751860)
endif
if ZND then
call HD8(UO4,GetEnumUnit(),ZG4,H98*50+50+75)
else
call HD8(UO4,GetEnumUnit(),ZG4,H98*50+50)
endif
set t=null
endfunction
function XNG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
local group g
local integer WWG=GetTriggerEvalCount(t)
local fogmodifier XOG=(LoadFogModifierHandle(L7,(OC7),(42)))
if WWG==1 then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Calldown_FlyUp.mdx",EC8,"chest"))
elseif WWG==2 then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Calldown_FlyUp.mdx",EC8,"chest"))
elseif WWG==3 then
call DestroyEffect(AddSpecialEffect("war3mapImported\\Calldown_FlyDown.mdx",x,y))
elseif WWG==4 then
set g=CX7()
set IN4=EC8
set UO4=EC8
call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function FT8))
call ForGroup(g,function XKG)
call CW7(g)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",x,y))
elseif WWG==5 then
call DestroyEffect(AddSpecialEffect("war3mapImported\\Calldown_FlyDown.mdx",x,y))
elseif WWG==6 then
set g=CX7()
set IN4=EC8
set UO4=EC8
call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function FT8))
call ForGroup(g,function XMG)
call CW7(g)
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",x,y))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FogModifierStop(XOG)
call DestroyFogModifier(XOG)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set g=null
set XOG=null
return false
endfunction
function XPG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local string s=""
local fogmodifier X8D=CreateFogModifierRadius(GetOwningPlayer(EC8),FOG_OF_WAR_VISIBLE,x,y,350,true,true)
call FogModifierStart(X8D)
if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(EC8))==true or CM7(GetLocalPlayer())then
set s="war3mapImported\\CallDown_4.mdx"
endif
call TriggerRegisterTimerEvent(t,0.1,false)
call TriggerRegisterTimerEvent(t,0.8,false)
call TriggerRegisterTimerEvent(t,1.6,false)
call TriggerRegisterTimerEvent(t,2,false)
call TriggerRegisterTimerEvent(t,3.6,false)
call TriggerRegisterTimerEvent(t,4,false)
call TriggerAddCondition(t,Condition(function XNG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffect(s,x,y)))
call SaveFogModifierHandle(L7,(OC7),(42),(X8D))
set t=null
set EC8=null
set X8D=null
endfunction
function XQG takes nothing returns boolean
if GetSpellAbilityId()==1093751861 or GetSpellAbilityId()==1093808949 then
call XPG()
endif
return false
endfunction
function UN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XQG))
set t=null
endfunction
function XRG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer AF7=GetHandleId(t)
local unit EC8=U87(AF7,"Source")
local integer SRD
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EC8 and(GetEventDamage()>20 or IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==true)then
set SRD=UN7(GetHandleId(EC8),"Count")
if SRD>0 then
call TQ7(GetHandleId(EC8),"Count",(SRD+1))
endif
call TN7(AF7)
call UA7(t)
endif
else
call TN7(AF7)
call UA7(t)
endif
set t=null
set EC8=null
return false
endfunction
function XSG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=U87(OC7,"Source")
if BY7(EC8)==false then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveAbility(EC8,1093808951)
call UnitAddAbility(EC8,1093808706)
call UnitRemoveAbility(EC8,1093808706)
if(SV7((EC8),ZU[G14])!=null)then
call UnitAddAbility(EC8,1093808951)
endif
endif
set t=null
set EC8=null
return false
endfunction
function XTG takes unit EC8 returns nothing
local trigger t
if BY7(EC8)==false then
call UnitRemoveAbility(EC8,1093808951)
call UnitAddAbility(EC8,1093808706)
call UnitRemoveAbility(EC8,1093808706)
if(SV7((EC8),ZU[G14])!=null)then
call UnitAddAbility(EC8,1093808951)
endif
else
set t=CreateTrigger()
call TU7(GetHandleId(t),"Source",EC8)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function XSG))
set t=null
endif
endfunction
function XUG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer AF7=GetHandleId(t)
local unit EC8=U87(AF7,"Source")
call UnitRemoveAbility(EC8,1093751895)
call UnitRemoveAbility(EC8,1110459466)
call XTG(EC8)
call TN7(AF7)
call UA7(t)
set t=null
return false
endfunction
function XVG takes nothing returns nothing
local unit H18=GetAttacker()
local integer AF7=GetHandleId(H18)
local integer SRD=UN7(AF7,"Count")
local integer H08=GetUnitAbilityLevel(H18,1093808697)
local trigger t
if IsUnitIllusion(GetAttacker())==true and GetUnitAbilityLevel(GetAttacker(),1093751895)>0 then
call XTG(GetAttacker())
call UnitRemoveAbility(GetAttacker(),1093751895)
endif
if GetAttacker()==H18 then
set SRD=SRD+1
if SRD>3+H08 then
call UnitRemoveAbility(H18,1093751895)
call UnitRemoveAbility(H18,1110459466)
call XTG(H18)
set t=UF7(AF7,"FlakCannon_EndTrig")
call TN7(GetHandleId(t))
call UA7(t)
else
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2,false)
call TriggerAddCondition(t,Condition(function XRG))
call TU7(GetHandleId(t),"Source",H18)
endif
endif
set t=null
set H18=null
endfunction
function XWG takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),1093751895)>0 then
call XVG()
endif
return false
endfunction
function XXG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer AF7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,15,false)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function XUG))
call TU7(AF7,"Source",EC8)
call TW7(GetHandleId(EC8),"FlakCannon_EndTrig",t)
call TQ7(GetHandleId(EC8),"Count",(1))
call UnitRemoveAbility(EC8,1093808951)
call UnitAddAbility(EC8,1093808705)
call UnitRemoveAbility(EC8,1093808705)
if(SV7((EC8),ZU[G14])!=null)then
call UnitAddAbility(EC8,1093808951)
endif
set t=null
set EC8=null
endfunction
function XYG takes nothing returns boolean
if IsUnitIllusion(GetTriggerUnit())==true and GetUnitTypeId(GetTriggerUnit())==1160786511 then
call XTG(GetTriggerUnit())
endif
return false
endfunction
function XZG takes nothing returns boolean
if GetSpellAbilityId()==1093808697 and GetUnitTypeId(GetTriggerUnit())==1160786510 then
call XXG()
endif
return false
endfunction
function UO8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XZG))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function XWG))
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,GetWorldBounds())
call TriggerAddCondition(t,Condition(function XYG))
set t=null
endfunction
function XAG takes nothing returns boolean
local unit O07=GetFilterUnit()
local unit EC8=UP4
local real XBG=UQ4
local real XCG=UR4
local real ON2=US4
local real OS2=UT4
local real x
local real y
local real a
local real d
if(CK7(GetFilterUnit())==false and IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))then
if(UU7(O07,"4324")==false)then
call U67(O07,"4324",0.3)
endif
set d=RF7(XBG,XCG,GetUnitX(O07),GetUnitY(O07))
set a=PP7(XBG,XCG,GetUnitX(O07),GetUnitY(O07))*bj_DEGTORAD
if d>UU4 then
set x=GetUnitX(O07)+11*Cos(a)
set y=GetUnitY(O07)+11*Sin(a)
else
set x=GetUnitX(O07)-11*Cos(a)
set y=GetUnitY(O07)-11*Sin(a)
endif
call SetUnitX(O07,x)
call SetUnitY(O07,y)
endif
set O07=null
set EC8=null
return false
endfunction
function X3G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real XBG=(LoadReal(L7,(OC7),(6)))
local real XCG=(LoadReal(L7,(OC7),(7)))
local real x
local real y
local integer i=0
local group g
if GetTriggerEvalCount(t)>(50*(2+0.5*GetUnitAbilityLevel(EC8,1093751637)))then
loop
exitwhen i>16
set i=i+1
endloop
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set g=CX7()
set UQ4=XBG
set UR4=XCG
set UP4=EC8
set IN4=EC8
loop
exitwhen i>16
set x=XBG+UU4*Cos(bj_DEGTORAD*360.0*i/16.0)
set y=XCG+UU4*Sin(bj_DEGTORAD*360.0*i/16.0)
set US4=x
set UT4=y
call GroupEnumUnitsInRange(g,x,y,75,Condition(function XAG))
set i=i+1
endloop
call CW7(g)
set g=null
endif
set t=null
set EC8=null
return false
endfunction
function X6G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real XBG=(LoadReal(L7,(OC7),(6)))
local real XCG=(LoadReal(L7,(OC7),(7)))
local real x
local real y
local integer i=0
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=CreateTrigger()
set OC7=GetHandleId(t)
loop
exitwhen i>16
set x=XBG+UU4*Cos(bj_DEGTORAD*360.0*i/16.0)
set y=XCG+UU4*Sin(bj_DEGTORAD*360.0*i/16.0)
set i=i+1
endloop
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffect("war3mapImported\\KineticField_FX_Stand.mdx",XBG,XCG)))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(6),((XBG)*1.0))
call SaveReal(L7,(OC7),(7),((XCG)*1.0))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function X3G))
set t=null
set EC8=null
return false
endfunction
function XLG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local real XBG=GetSpellTargetX()
local real XCG=GetSpellTargetY()
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffect("war3mapImported\\KineticField_FX_Start.mdx",XBG,XCG)))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(6),((XBG)*1.0))
call SaveReal(L7,(OC7),(7),((XCG)*1.0))
call TriggerRegisterTimerEvent(t,1.2,false)
call TriggerAddCondition(t,Condition(function X6G))
call E88(GetOwningPlayer(EC8),5.5,XBG,XCG,300)
set t=null
set EC8=null
endfunction
function X1G takes nothing returns boolean
if GetSpellAbilityId()==1093751637 then
call XLG()
endif
return false
endfunction
function UP8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function X1G))
set t=null
endfunction
function X0G takes nothing returns nothing
call HD8(U24,GetEnumUnit(),ZG4,U54)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Purge_NoBirth.mdx",GetEnumUnit(),"origin"))
endfunction
function X5G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local integer H98=(LoadInteger(L7,(OC7),(5)))
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit E98=(LoadUnitHandle(L7,(OC7),(45)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local group g
local integer WWG=GetTriggerEvalCount(t)
if WWG>20 then
call StopSound(VD4,false,true)
call KillUnit(E98)
call ShowUnit(E98,false)
call KillUnit(H88)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set g=CX7()
set IN4=EC8
set U24=EC8
set U54=0.25*(120+50*H98)*(WWG/20.0)
set U_4=false
if ModuloInteger(WWG,4)==0 then
set U_4=true
endif
call GroupEnumUnitsInRange(g,GetUnitX(E98),GetUnitY(E98),400,Condition(function FC8))
call ForGroup(g,function X0G)
call CW7(g)
set g=null
endif
set t=null
set EC8=null
set E98=null
set H88=null
return false
endfunction
function X2G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local real X_G=GetSpellTargetX()
local real Y4G=GetSpellTargetY()
local unit E98=CreateUnit(GetOwningPlayer(EC8),1747993419,X_G,Y4G,0)
local integer H98=GetUnitAbilityLevel(EC8,1093752118)
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,X_G,Y4G,0)
call SetSoundVolume(VD4,200)
call StartSound(VD4)
call SetSoundPosition(VD4,X_G,Y4G,100)
if Z37(GetOwningPlayer(EC8))then
call LM7(H88,1093752117)
else
call LM7(H88,1093752116)
endif
call IssuePointOrder(H88,"cloudoffog",X_G,Y4G)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(45),(E98))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call SaveInteger(L7,(OC7),(5),(H98))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function X5G))
set t=null
set EC8=null
set E98=null
set H88=null
endfunction
function Y7G takes nothing returns boolean
if GetSpellAbilityId()==1093752118 then
call X2G()
endif
return false
endfunction
function UQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Y7G))
set t=null
endfunction
function Y8G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit E98=(LoadUnitHandle(L7,(OC7),(45)))
local real X_G=(LoadReal(L7,(OC7),(6)))
local real Y4G=(LoadReal(L7,(OC7),(7)))
local real x=GetUnitX(E98)
local real y=GetUnitY(E98)
local real a=PP7(x,y,X_G,Y4G)
local real d=RF7(x,y,X_G,Y4G)
local real r=(LoadReal(L7,(OC7),(671)))
call SetUnitFacing(E98,a)
set x=x+r*Cos(a*bj_DEGTORAD)
set y=y+r*Sin(a*bj_DEGTORAD)
call SetUnitX(E98,x)
call SetUnitY(E98,y)
if d<40 then
call KillUnit(E98)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call U67(O07,"4411",1)
call SetUnitPosition(O07,X_G,Y4G)
call PanCameraToTimedForPlayer(GetOwningPlayer(O07),X_G,Y4G,0)
elseif CK7(O07)then
call KillUnit(E98)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set O07=null
set E98=null
return false
endfunction
function Y9G takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local real x=(LoadReal(L7,(GetHandleId(O07)),(7400)))
local real y=(LoadReal(L7,(GetHandleId(O07)),(7500)))
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit E98=CreateUnit(GetOwningPlayer(EC8),1747993398,GetUnitX(O07),GetUnitY(O07),0)
local real d=RF7(x,y,GetUnitX(O07),GetUnitY(O07))
local real r=0.02*(RMaxBJ(d/1.8,600))
call TriggerAddCondition(t,Condition(function Y8G))
call TriggerRegisterTimerEvent(t,0.02,true)
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(45),(E98))
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
call SaveReal(L7,(OC7),(671),((r)*1.0))
call SaveEffectHandle(L7,(OC7),(175),(AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",O07,"overhead")))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffect("effects\\Lightning_Ball_Tail_FX.mdx",x,y)))
call TriggerEvaluate(t)
set EC8=null
set O07=null
set E98=null
set t=null
endfunction
function YDG takes nothing returns boolean
if GetSpellAbilityId()==1093751639 and CV7(GetSpellTargetUnit())==false then
if IsUnitIllusion(GetSpellTargetUnit())then
call KillUnit(GetSpellTargetUnit())
else
call Y9G()
endif
endif
return false
endfunction
function H7G takes nothing returns nothing
local unit O07=IN4
local integer i=0
loop
exitwhen i>15
set i=i+1
endloop
set O07=null
endfunction
function YEG takes nothing returns nothing
local unit O07=GetEnumUnit()
local integer OC7=GetHandleId(O07)
local integer i=1
loop
exitwhen i>14
call SaveReal(L7,(OC7),(7400+i-1),(((LoadReal(L7,(OC7),(7400+i))))*1.0))
call SaveReal(L7,(OC7),(7500+i-1),(((LoadReal(L7,(OC7),(7500+i))))*1.0))
set i=i+1
endloop
call SaveReal(L7,(OC7),(7400+14),((GetUnitX(O07))*1.0))
call SaveReal(L7,(OC7),(7500+14),((GetUnitY(O07))*1.0))
set O07=null
endfunction
function YFG takes nothing returns boolean
local group g=CX7()
call GroupEnumUnitsInRange(g,0,0,99999,Condition(function G98))
call ForGroup(g,function YEG)
call CW7(g)
set g=null
return false
endfunction
function UR8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YDG))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function YFG))
set t=null
endfunction
function YGG takes nothing returns nothing
if UW4!=GetEnumUnit()then
call HD8(UX4,GetEnumUnit(),ZG4,UY4*25+25)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetEnumUnit(),"chest"))
endif
endfunction
function YHG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local unit E98=(LoadUnitHandle(L7,(OC7),(45)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local group g
local integer WWG=GetTriggerEvalCount(t)
local unit YIG=null
call SetUnitX(H88,GetUnitX(O07))
call SetUnitY(H88,GetUnitY(O07))
call SetUnitX(E98,GetUnitX(O07))
call SetUnitY(E98,GetUnitY(O07))
if WWG==1 or WWG==100 or WWG==200 then
set g=CX7()
if LO7(O07)then
set YIG=CreateUnit(GetOwningPlayer(O07),1697656899,GetUnitX(O07),GetUnitY(O07),0)
call UnitApplyTimedLife(YIG,1112820806,0.2)
call IssueTargetOrder(H88,"chainlightning",YIG)
else
call IssueTargetOrder(H88,"chainlightning",O07)
call HD8(EC8,O07,ZG4,H98*25+25)
endif
call DY8("war3mapImported\\ThunderStorm_Groundeffect.mdx",O07,"origin",0.6)
set IN4=EC8
set UX4=EC8
set UW4=O07
set UY4=H98
call GroupEnumUnitsInRange(g,GetUnitX(O07),GetUnitY(O07),200+25,Condition(function FT8))
call ForGroup(g,function YGG)
call CW7(g)
if GetTriggerEvalCount(t)==200 then
call KillUnit(H88)
call KillUnit(E98)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
endif
set t=null
set EC8=null
set O07=null
set H88=null
set g=null
set YIG=null
set E98=null
return false
endfunction
function YJG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local integer H98=GetUnitAbilityLevel(EC8,1093751894)
local unit H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
local unit E98=CreateUnit(GetOwningPlayer(EC8),1697657424,GetUnitX(O07),GetUnitY(O07),0)
call LM7(E98,1097625443)
call LM7(H88,1093752119)
call SetUnitAbilityLevel(H88,1093752119,H98)
call LM7(H88,1097625443)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function YHG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call SaveUnitHandle(L7,(OC7),(45),(E98))
call SaveInteger(L7,(OC7),(5),(H98))
set EC8=null
set O07=null
set H88=null
set t=null
set E98=null
endfunction
function YKG takes nothing returns boolean
if GetSpellAbilityId()==1093751894 and CV7(GetSpellTargetUnit())==false then
call YJG()
endif
return false
endfunction
function US8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YKG))
set t=null
endfunction
function YMG takes nothing returns nothing
local integer YNG=U34
local unit O07=GetEnumUnit()
local integer YOG=662-1+YNG
local real YPG=(LoadReal(L7,(GetHandleId(O07)),(YOG)))
local real YQG=(TimerGetElapsed(W))
if YPG<YQG then
call SaveReal(L7,(GetHandleId(O07)),(YOG),((YQG+2)*1.0))
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false then
call HD8(UK4,O07,ZG4,2+6*U64)
else
endif
endif
set O07=null
endfunction
function Spirits_DamageHeroes takes nothing returns nothing
local integer YRG=U34
local unit O07=GetEnumUnit()
local integer YSG=662-1+YRG
local real YTG=(LoadReal(L7,(GetHandleId(O07)),(YSG)))
local real YUG=(TimerGetElapsed(W))
if YTG<YUG then
call SaveReal(L7,(GetHandleId(O07)),(YSG),((YUG+2)*1.0))
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false then
call HD8(UK4,O07,ZG4,15+10*U64)
else
endif
endif
set O07=null
endfunction
function YVG takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false then
call HD8(UK4,GetEnumUnit(),ZG4,UB4)
else
endif
endfunction
function YWG takes unit EC8,unit YXG returns nothing
local group g=CX7()
set IN4=EC8
set UB4=25*U64
set UK4=EC8
set UM4=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(YXG),GetUnitY(YXG),0)
call GroupEnumUnitsInRange(g,GetUnitX(YXG),GetUnitY(YXG),325,Condition(function G78))
call ForGroup(g,function YVG)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",GetUnitX(YXG),GetUnitY(YXG)))
call KillUnit(YXG)
call CW7(g)
set g=null
endfunction
function YYG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit YZG=(LoadUnitHandle(L7,(OC7),(393)))
local unit YAG=(LoadUnitHandle(L7,(OC7),(394)))
local unit YBG=(LoadUnitHandle(L7,(OC7),(395)))
local unit YCG=(LoadUnitHandle(L7,(OC7),(396)))
local unit Y3G=(LoadUnitHandle(L7,(OC7),(397)))
local real x
local real y
local real a
local real d=(LoadReal(L7,(OC7),(138)))
local real XBG=GetUnitX(EC8)
local real XCG=GetUnitY(EC8)
local real Y6G
local integer WWG=GetTriggerEvalCount(t)
local real YLG
local group g
local integer Y1G=0
local real GM9=2.25
local real Y0G
if LO7(YZG)==false then
set Y1G=Y1G+1
endif
if LO7(YAG)==false then
set Y1G=Y1G+1
endif
if LO7(YBG)==false then
set Y1G=Y1G+1
endif
if LO7(YCG)==false then
set Y1G=Y1G+1
endif
if LO7(Y3G)==false then
set Y1G=Y1G+1
endif
if Y1G==5 then
set GM9=2.25
elseif Y1G==4 then
set GM9=2.1
elseif Y1G==3 then
set GM9=1.95
elseif Y1G==2 then
set GM9=1.8
elseif Y1G==1 then
set GM9=1.65
endif
set Y6G=-1*360*0.02/GM9
set Y0G=(LoadReal(L7,(OC7),(137)))+Y6G
call SaveReal(L7,(OC7),(137),((Y0G)*1.0))
set U64=GetUnitAbilityLevel(EC8,1093751864)
set UK4=EC8
if WWG==50 then
call ShowUnit(YAG,true)
call SaveBoolean(L7,(OC7),(512),(true))
call LM7(YAG,1097625443)
endif
if WWG==100 then
call ShowUnit(YBG,true)
call SaveBoolean(L7,(OC7),(513),(true))
call LM7(YBG,1097625443)
endif
if WWG==150 then
call ShowUnit(YCG,true)
call SaveBoolean(L7,(OC7),(514),(true))
call LM7(YCG,1097625443)
endif
if WWG==200 then
call ShowUnit(Y3G,true)
call SaveBoolean(L7,(OC7),(515),(true))
call LM7(Y3G,1097625443)
endif
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093752115 then
if(LoadBoolean(L7,(OC7),(655)))==true then
call SaveBoolean(L7,(OC7),(655),(false))
call SaveBoolean(L7,(OC7),(656),(false))
else
call SaveBoolean(L7,(OC7),(655),(true))
call SaveBoolean(L7,(OC7),(656),(false))
endif
elseif GetSpellAbilityId()==1093752114 then
if(LoadBoolean(L7,(OC7),(656)))==true then
call SaveBoolean(L7,(OC7),(655),(false))
call SaveBoolean(L7,(OC7),(656),(false))
else
call SaveBoolean(L7,(OC7),(655),(false))
call SaveBoolean(L7,(OC7),(656),(true))
endif
endif
endif
if(LoadBoolean(L7,(OC7),(655)))then
set d=RMaxBJ(d-5,100)
call SaveReal(L7,(OC7),(138),((d)*1.0))
elseif(LoadBoolean(L7,(OC7),(656)))then
set d=RMinBJ(d+5,875)
call SaveReal(L7,(OC7),(138),((d)*1.0))
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH or WWG==950 or(LO7(YZG)and LO7(YAG)and LO7(YBG)and LO7(YCG)and LO7(Y3G))or(WWG>1 and GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093751864)then
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT then
call UnitRemoveAbility(EC8,1093752115)
call UnitRemoveAbility(EC8,1093752114)
endif
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if LO7(YZG)==false then
call YWG(EC8,YZG)
endif
if LO7(YAG)==false then
call YWG(EC8,YAG)
endif
if LO7(YBG)==false then
call YWG(EC8,YBG)
endif
if LO7(YCG)==false then
call YWG(EC8,YCG)
endif
if LO7(Y3G)==false then
call YWG(EC8,Y3G)
endif
else
set g=CX7()
if LO7(YZG)==false and(LoadBoolean(L7,(OC7),(511)))then
set YLG=360*5/5.0
set a=YLG+Y0G
set x=D78(XBG+d*Cos(a*bj_DEGTORAD))
set y=D88(XCG+d*Sin(a*bj_DEGTORAD))
call SetUnitX(YZG,x)
call SetUnitY(YZG,y)
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,95,Condition(function GD8))
if FirstOfGroup(g)!=null then
call YWG(EC8,YZG)
endif
call GroupClear(g)
set UN4=YZG
set U34=1
set UK4=EC8
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GE8))
call ForGroup(g,function YMG)
call GroupClear(g)
endif
if LO7(YAG)==false and(LoadBoolean(L7,(OC7),(512)))then
set YLG=360*4/5.0
set a=YLG+Y0G
set x=D78(XBG+d*Cos(a*bj_DEGTORAD))
set y=D88(XCG+d*Sin(a*bj_DEGTORAD))
call SetUnitX(YAG,x)
call SetUnitY(YAG,y)
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,95,Condition(function GD8))
if FirstOfGroup(g)!=null then
call YWG(EC8,YAG)
endif
call GroupClear(g)
set UN4=YAG
set U34=2
set UK4=EC8
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GE8))
call ForGroup(g,function YMG)
call GroupClear(g)
endif
if LO7(YBG)==false and(LoadBoolean(L7,(OC7),(513)))then
set YLG=360*3/5.0
set a=YLG+Y0G
set x=D78(XBG+d*Cos(a*bj_DEGTORAD))
set y=D88(XCG+d*Sin(a*bj_DEGTORAD))
call SetUnitX(YBG,x)
call SetUnitY(YBG,y)
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,95,Condition(function GD8))
if FirstOfGroup(g)!=null then
call YWG(EC8,YBG)
endif
call GroupClear(g)
set UN4=YBG
set U34=3
set UK4=EC8
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GE8))
call ForGroup(g,function YMG)
call GroupClear(g)
endif
if LO7(YCG)==false and(LoadBoolean(L7,(OC7),(514)))then
set YLG=360*2/5.0
set a=YLG+Y0G
set x=D78(XBG+d*Cos(a*bj_DEGTORAD))
set y=D88(XCG+d*Sin(a*bj_DEGTORAD))
call SetUnitX(YCG,x)
call SetUnitY(YCG,y)
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,95,Condition(function GD8))
if FirstOfGroup(g)!=null then
call YWG(EC8,YCG)
endif
call GroupClear(g)
set UN4=YCG
set U34=4
set UK4=EC8
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GE8))
call ForGroup(g,function YMG)
call GroupClear(g)
endif
if LO7(Y3G)==false and(LoadBoolean(L7,(OC7),(515)))then
set YLG=360*1/5.0
set a=YLG+Y0G
set x=D78(XBG+d*Cos(a*bj_DEGTORAD))
set y=D88(XCG+d*Sin(a*bj_DEGTORAD))
call SetUnitX(Y3G,x)
call SetUnitY(Y3G,y)
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,95,Condition(function GD8))
if FirstOfGroup(g)!=null then
call YWG(EC8,Y3G)
endif
call GroupClear(g)
set UN4=Y3G
set U34=5
set UK4=EC8
call GroupEnumUnitsInRange(g,x,y,175,Condition(function GE8))
call ForGroup(g,function YMG)
call GroupClear(g)
endif
call CW7(g)
endif
set t=null
set EC8=null
set YZG=null
set YAG=null
set YBG=null
set YCG=null
set Y3G=null
set g=null
return false
endfunction
function Y5G takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit YZG
local unit YAG
local unit YBG
local unit YCG
local unit Y2G
local real x
local real y
set x=GetUnitX(EC8)+250*Cos(bj_DEGTORAD*360*5/5.0*-1.0)
set y=GetUnitY(EC8)+250*Sin(bj_DEGTORAD*360*5/5.0*-1.0)
set YZG=CreateUnit(GetOwningPlayer(EC8),1747993418,x,y,360*5/5.0*-1.0)
call LM7(YZG,1097625443)
set x=GetUnitX(EC8)+250*Cos(bj_DEGTORAD*360*4/5.0*-1.0)
set y=GetUnitY(EC8)+250*Sin(bj_DEGTORAD*360*4/5.0*-1.0)
set YAG=CreateUnit(GetOwningPlayer(EC8),1747993418,x,y,360*4/5.0*-1.0)
call ShowUnit(YAG,false)
call SetUnitInvulnerable(YAG,true)
set x=GetUnitX(EC8)+250*Cos(bj_DEGTORAD*360*3/5.0*-1.0)
set y=GetUnitY(EC8)+250*Sin(bj_DEGTORAD*360*3/5.0*-1.0)
set YBG=CreateUnit(GetOwningPlayer(EC8),1747993418,x,y,360*3/5.0*-1.0)
call ShowUnit(YBG,false)
call SetUnitInvulnerable(YAG,true)
set x=GetUnitX(EC8)+250*Cos(bj_DEGTORAD*360*2/5.0*-1.0)
set y=GetUnitY(EC8)+250*Sin(bj_DEGTORAD*360*2/5.0*-1.0)
set YCG=CreateUnit(GetOwningPlayer(EC8),1747993418,x,y,360*2/5.0*-1.0)
call ShowUnit(YCG,false)
call SetUnitInvulnerable(YCG,true)
set x=GetUnitX(EC8)+250*Cos(bj_DEGTORAD*360*1/5.0*-1.0)
set y=GetUnitY(EC8)+250*Sin(bj_DEGTORAD*360*1/5.0*-1.0)
set Y2G=CreateUnit(GetOwningPlayer(EC8),1747993418,x,y,360*1/5.0*-1.0)
call ShowUnit(Y2G,false)
call SetUnitInvulnerable(Y2G,true)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(393),(YZG))
call SaveUnitHandle(L7,(OC7),(394),(YAG))
call SaveUnitHandle(L7,(OC7),(395),(YBG))
call SaveUnitHandle(L7,(OC7),(396),(YCG))
call SaveUnitHandle(L7,(OC7),(397),(Y2G))
call SaveBoolean(L7,(OC7),(511),(true))
call SaveBoolean(L7,(OC7),(512),(false))
call SaveBoolean(L7,(OC7),(513),(false))
call SaveBoolean(L7,(OC7),(514),(false))
call SaveBoolean(L7,(OC7),(515),(false))
call SaveBoolean(L7,(OC7),(655),(false))
call SaveBoolean(L7,(OC7),(656),(false))
call SaveReal(L7,(OC7),(138),((150)*1.0))
call LM7(EC8,1093752114)
call LM7(EC8,1093752115)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YYG))
set EC8=null
set t=null
set YZG=null
set YAG=null
set YBG=null
set YCG=null
set Y2G=null
endfunction
function Y_G takes nothing returns boolean
if GetSpellAbilityId()==1093751864 then
call Y5G()
endif
return false
endfunction
function UT8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function Y_G))
set t=null
endfunction
function Z4G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
call DT8(EC8,GetEventDamage()*0.05*H98)
set t=null
set EC8=null
return false
endfunction
function Z7G takes unit u returns nothing
local trigger t
call UnitRemoveAbility(u,1093751891)
call UnitRemoveAbility(u,1093751890)
call UnitRemoveAbility(u,1093751892)
call UnitRemoveAbility(u,1093751888)
if(LoadBoolean(L7,(GetHandleId(u)),(708)))then
call SaveBoolean(L7,(GetHandleId(u)),(708),(false))
set t=(LoadTriggerHandle(L7,(GetHandleId(u)),(709)))
call FlushChildHashtable(L7,(GetHandleId(t)))
call UA7(t)
call RemoveSavedHandle(L7,(GetHandleId(u)),(709))
set t=null
endif
endfunction
function Z8G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
call Z7G(EC8)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
return false
endfunction
function Z9G takes unit u,integer i returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call SaveUnitHandle(L7,(OC7),(2),(u))
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Z8G))
if i==1 then
call LM7(u,1093751891)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),1093751891,false)
elseif i==2 then
call LM7(u,1093751890)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),1093751890,false)
elseif i==3 then
call LM7(u,1093751892)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),1093751892,false)
elseif i==4 then
call LM7(u,1093751888)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),1093751888,false)
endif
if(LoadBoolean(L7,(GetHandleId(u)),(708)))==false then
call SaveBoolean(L7,(GetHandleId(u)),(708),(true))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function Z4G))
call SaveTriggerHandle(L7,(GetHandleId(u)),(709),(t))
call SaveUnitHandle(L7,(GetHandleId(t)),(2),(u))
call SaveInteger(L7,(GetHandleId(t)),(5),(i))
endif
set t=null
endfunction
function ZDG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer WWG=(LoadInteger(L7,(OC7),(34)))
local integer H98=GetUnitAbilityLevel(EC8,1093810257)
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit ZEG=(LoadUnitHandle(L7,(GetHandleId(EC8)),(652)))
local boolean ZFG=false
local real ZGG=0.2*(GetUnitState(EC8,UNIT_STATE_LIFE)*0.035)
local real ZHG=0.2*(GetUnitState(EC8,UNIT_STATE_MANA)*0.035)
if GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER then
if GetIssuedOrderId()==String2OrderIdBJ("manashieldon")then
call Z9G(EC8,H98)
elseif GetIssuedOrderId()==String2OrderIdBJ("manashieldoff")then
call Z7G(EC8)
endif
endif
if GetUnitAbilityLevel(EC8,1093751891)>0 or GetUnitAbilityLevel(EC8,1093751890)>0 or GetUnitAbilityLevel(EC8,1093751892)>0 or GetUnitAbilityLevel(EC8,1093751888)>0 then
set ZFG=true
call SetUnitState(EC8,UNIT_STATE_LIFE,RMaxBJ(GetUnitState(EC8,UNIT_STATE_LIFE)-ZGG,1))
call SetUnitState(EC8,UNIT_STATE_MANA,RMaxBJ(GetUnitState(EC8,UNIT_STATE_MANA)-ZHG,1))
endif
if ZEG==null then
if O07!=null then
call Z7G(O07)
set O07=null
call SaveUnitHandle(L7,(OC7),(17),(O07))
endif
else
if O07==null then
set O07=ZEG
if ZFG then
call SaveUnitHandle(L7,(OC7),(17),(O07))
call Z9G(O07,H98)
else
call Z7G(O07)
endif
elseif O07!=ZEG then
call Z7G(O07)
if ZFG then
set O07=ZEG
call SaveUnitHandle(L7,(OC7),(17),(O07))
call Z9G(O07,H98)
endif
elseif ZFG==false then
call Z7G(O07)
elseif O07==ZEG then
if ZFG then
set O07=ZEG
call SaveUnitHandle(L7,(OC7),(17),(O07))
call Z9G(O07,H98)
endif
endif
endif
set t=null
set EC8=null
set O07=null
set ZEG=null
return false
endfunction
function ZIG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local integer H98=GetUnitAbilityLevel(EC8,1093810257)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(null))
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_ISSUED_ORDER)
call TriggerAddCondition(t,Condition(function ZDG))
set EC8=null
set t=null
endfunction
function ZJG takes nothing returns boolean
if GetLearnedSkill()==1093810257 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093810257)==1 then
call ZIG()
endif
return false
endfunction
function UU8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function ZJG))
set t=null
endfunction
function ZKG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),UZ4)==false then
call GroupAddUnit(UZ4,GetEnumUnit())
call H78(UJ4,GetEnumUnit(),0.25+0.5*UC4)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",GetEnumUnit(),"chest"))
endif
endfunction
function ZMG takes unit EC8,unit O07,group WXG returns nothing
local real x1=GetUnitX(EC8)
local real y1=GetUnitY(EC8)
local real x2=GetUnitX(O07)
local real y2=GetUnitY(O07)
local real a=PP7(x1,y1,x2,y2)*bj_DEGTORAD
local real x
local real y
local real d=RF7(x1,y1,x2,y2)
local group g=CX7()
local integer i=1
set UZ4=WXG
set UJ4=EC8
set UC4=GetUnitAbilityLevel(EC8,1093751873)
set UA4=UC4*50+50
loop
exitwhen i>8
set IN4=EC8
set x=x1+d*i/8*Cos(a)
set y=y1+d*i/8*Sin(a)
call GroupEnumUnitsInRange(g,x,y,100,Condition(function FT8))
call ForGroup(g,function ZKG)
call GroupClear(g)
set i=i+1
endloop
call CW7(g)
set g=null
endfunction
function ZNG takes unit EC8,unit O07 returns boolean
return(UU7(EC8,"Relocate|Active"))
endfunction
function ZOG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local real d=RE7(EC8,O07)
local real a=PO7(EC8,O07)*bj_DEGTORAD
local real x=GetUnitX(EC8)+20*Cos(a)
local real y=GetUnitY(EC8)+20*Sin(a)
local location l
if d<300 or d>2150 then
set l=D69(x,y)
set x=GetLocationX(l)
set y=GetLocationY(l)
call SetUnitX(EC8,D78(x))
call SetUnitY(EC8,D78(y))
call D28(x,y,350)
call RemoveLocation(l)
set l=null
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call SaveInteger(L7,(GetHandleId((EC8))),((4295)),(2))
else
call SetUnitX(EC8,x)
call SetUnitY(EC8,y)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function ZPG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local group WXG=(LoadGroupHandle(L7,(OC7),(133)))
local lightning ZQG=(LoadLightningHandle(L7,(OC7),(196)))
local integer CP8=GetTriggerEvalCount(t)
local real d=RE7(EC8,O07)
local real a=1
local real FOD=GetUnitState(EC8,UNIT_STATE_LIFE)
local real JND=GetUnitState(EC8,UNIT_STATE_MANA)
local real ZRG=(LoadReal(L7,(OC7),(670)))
local real ZSG=(LoadReal(L7,(OC7),(667)))
local real ZTG
local real ZUG
local real ZVG=1.5
if O07==null or EC8==null or LO7(EC8)==true or(CP8>600 and ZNG(EC8,O07)==false and((LoadInteger(L7,(GetHandleId((EC8))),((4295))))==1)==false)or(d>925 and((LoadInteger(L7,(GetHandleId((EC8))),((4295))))==1)==false)or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093751893)then
call CW7(WXG)
call DestroyLightning(ZQG)
call UnitRemoveAbility(O07,1093751880)
call UnitRemoveAbility(O07,1093751881)
call UnitRemoveAbility(O07,1093751879)
call UnitRemoveAbility(O07,1093751882)
call UnitRemoveAbility(O07,1110459464)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveAbility(EC8,1093751880)
call UnitRemoveAbility(EC8,1093751881)
call UnitRemoveAbility(EC8,1093751879)
call UnitRemoveAbility(EC8,1093751882)
call UnitRemoveAbility(EC8,1110459464)
call UnitRemoveAbility(EC8,1093751893)
if(LoadInteger(L7,(GetHandleId(EC8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EC8)),(704)))==1093751873 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093751873,true)
endif
call RemoveSavedHandle(L7,GetHandleId(EC8),652)
call RemoveSavedHandle(L7,GetHandleId(O07),StringHash("AI|TetherSource"))
else
set ZTG=FOD/GetUnitState(EC8,UNIT_STATE_MAX_LIFE)
set ZUG=JND/GetUnitState(EC8,UNIT_STATE_MAX_MANA)
if ZTG-ZRG>0 and(ZTG-ZRG)<0.5 then
if UU7(EC8,"ArmletOfMordiganState")==false then
call SetUnitState(O07,UNIT_STATE_LIFE,GetUnitState(O07,UNIT_STATE_LIFE)+ZVG*(ZTG-ZRG)*GetUnitState(EC8,UNIT_STATE_MAX_LIFE))
endif
endif
if ZUG-ZSG>0 and(ZTG-ZRG)<0.5 then
call SetUnitState(O07,UNIT_STATE_MANA,GetUnitState(O07,UNIT_STATE_MANA)+ZVG*(ZUG-ZSG)*GetUnitState(EC8,UNIT_STATE_MAX_MANA))
endif
call SaveReal(L7,(OC7),(670),((GetUnitState(EC8,UNIT_STATE_LIFE)/GetUnitState(EC8,UNIT_STATE_MAX_LIFE))*1.0))
call SaveReal(L7,(OC7),(667),((GetUnitState(EC8,UNIT_STATE_MANA)/GetUnitState(EC8,UNIT_STATE_MAX_MANA))*1.0))
call MoveLightning(ZQG,true,GetUnitX(EC8),GetUnitY(EC8),GetUnitX(O07),GetUnitY(O07))
call ZMG(EC8,O07,WXG)
if IsUnitVisible(EC8,GetLocalPlayer())==false and IsUnitVisible(O07,GetLocalPlayer())==false then
set a=0
endif
if CM7(GetLocalPlayer())then
set a=1
endif
if d<700 or((LoadInteger(L7,(GetHandleId((EC8))),((4295))))==1)==true then
call SetLightningColor(ZQG,0.00,1.00,1.00,a)
else
call SetLightningColor(ZQG,0.80,0.70,0.40,a)
endif
endif
set t=null
set EC8=null
set O07=null
set WXG=null
set ZQG=null
return false
endfunction
function ZWG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local lightning ZQG=AddLightning("CHIM",true,GetUnitX(EC8),GetUnitY(EC8),GetUnitX(O07),GetUnitY(O07))
local integer H98=GetUnitAbilityLevel(EC8,1093751873)
local integer ZXG
local real d=RE7(EC8,O07)
local real a=PO7(EC8,O07)*bj_DEGTORAD
local location l
local real x
local real y
call SetLightningColor(ZQG,0.00,1.00,1.00,1)
call LM7(EC8,1093751893)
if H98==1 then
set ZXG=1093751880
elseif H98==2 then
set ZXG=1093751881
elseif H98==3 then
set ZXG=1093751879
elseif H98==4 then
set ZXG=1093751882
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093751873,false)
call LM7(EC8,ZXG)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),ZXG,false)
call LM7(O07,ZXG)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),ZXG,false)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveGroupHandle(L7,(OC7),(133),(CX7()))
call SaveLightningHandle(L7,(OC7),(196),(ZQG))
call SaveReal(L7,(OC7),(670),((GetUnitState(EC8,UNIT_STATE_LIFE)/GetUnitState(EC8,UNIT_STATE_MAX_LIFE))*1.0))
call SaveReal(L7,(OC7),(667),((GetUnitState(EC8,UNIT_STATE_MANA)/GetUnitState(EC8,UNIT_STATE_MAX_MANA))*1.0))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZPG))
call SaveUnitHandle(L7,(GetHandleId(EC8)),(652),(O07))
if IsUnitType(O07,UNIT_TYPE_HERO)then
call TU7((GetHandleId(O07)),"AI|TetherSource",EC8)
endif
if d>700 then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",EC8,"chest")))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function ZOG))
call SaveInteger(L7,(GetHandleId((EC8))),((4295)),(1))
endif
set EC8=null
set t=null
endfunction
function ZYG takes nothing returns boolean
if GetSpellAbilityId()==1093751873 then
call ZWG()
endif
return false
endfunction
function UV8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ZYG))
set t=null
endfunction
function ZZG takes unit EC8,real x,real y returns boolean
local boolean NND=false
local player p=GetOwningPlayer(EC8)
local unit H88=CreateUnit(p,1697657425,GetUnitX(EC8),GetUnitY(EC8),0)
call LM7(H88,1093752372)
if IssuePointOrder(H88,"blink",x,y)==true then
call KillUnit(H88)
set H88=null
return true
else
call KillUnit(H88)
set H88=null
return false
endif
endfunction
function ZAG takes string ZBG,unit O07 returns nothing
local texttag tt=CreateTextTag()
call SetTextTagText(tt,ZBG,0.033)
call SetTextTagPosUnit(tt,O07,64)
call SetTextTagColor(tt,0,50,255,255)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,0.15)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,0.85)
call SetTextTagVisibility(tt,true)
set tt=null
endfunction
function ZCG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer WWG=GetTriggerEvalCount(t)
if LO7(EC8)==false and WWG<12 then
call ZAG(I2S(12-WWG),EC8)
endif
if WWG==12 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
return false
endfunction
function Z3G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(GetHandleId(EC8)),(652)))
local real X_G=(LoadReal(L7,(OC7),(47)))
local real Y4G=(LoadReal(L7,(OC7),(48)))
local real XBG=(LoadReal(L7,(OC7),(189)))
local real XCG=(LoadReal(L7,(OC7),(190)))
local fogmodifier XOG=(LoadFogModifierHandle(L7,(OC7),(42)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call UY7(EC8,"Relocate|Active")
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FogModifierStop(XOG)
call DestroyFogModifier(XOG)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
call D28(X_G,Y4G,250)
call D28(XBG,XCG,250)
if GetTriggerEvalCount(t)==1 then
if LO7(EC8)==false then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(EC8),GetUnitY(EC8)))
call SetUnitPosition(EC8,X_G,Y4G)
call PanCameraToTimedForPlayer(GetOwningPlayer(EC8),X_G,Y4G,0)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(EC8),GetUnitY(EC8)))
call AX7(EC8)
endif
if O07!=null and LO7(O07)==false and GetOwningPlayer(O07)!=Z7[0]and GetOwningPlayer(O07)!=A7[0]and((UP7(GetHandleId(GetOwningPlayer((O07))),"DisableHelp"))==false)then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(O07),GetUnitY(O07)))
call U67(O07,"4402",1)
call SetUnitPosition(O07,X_G,Y4G)
if IsUnitType(O07,UNIT_TYPE_HERO)==true and LO7(O07)==false then
call PanCameraToTimedForPlayer(GetOwningPlayer(O07),X_G,Y4G,0)
endif
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(O07),GetUnitY(O07)))
call AX7(O07)
endif
else
if LO7(EC8)==false then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(EC8),GetUnitY(EC8)))
call SetUnitPosition(EC8,XBG,XCG)
call PanCameraToTimedForPlayer(GetOwningPlayer(EC8),XBG,XCG,0)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(EC8),GetUnitY(EC8)))
call AX7(EC8)
endif
if O07!=null and LO7(O07)==false and GetOwningPlayer(O07)!=Z7[0]and GetOwningPlayer(O07)!=A7[0]and((UP7(GetHandleId(GetOwningPlayer((O07))),"DisableHelp"))==false)then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(O07),GetUnitY(O07)))
call U67(O07,"4402",1)
call SetUnitPosition(O07,XBG,XCG)
if IsUnitType(O07,UNIT_TYPE_HERO)==true and LO7(O07)==false then
call PanCameraToTimedForPlayer(GetOwningPlayer(O07),XBG,XCG,0)
endif
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(O07),GetUnitY(O07)))
call AX7(O07)
endif
call UY7(EC8,"Relocate|Active")
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FogModifierStop(XOG)
call DestroyFogModifier(XOG)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
endif
set t=null
set EC8=null
set O07=null
set XOG=null
return false
endfunction
function Z6G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real X_G=(LoadReal(L7,(OC7),(47)))
local real Y4G=(LoadReal(L7,(OC7),(48)))
local fogmodifier XOG
local integer H98=GetUnitAbilityLevel(EC8,1093751874)
if DV9(EC8)or FK8(EC8)or LO7(EC8)then
call UY7(EC8,"Relocate|Active")
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetTriggerEvalCount(t)==(2.75-0.25*H98)/.05 then
set XOG=CreateFogModifierRadius(GetOwningPlayer(EC8),FOG_OF_WAR_VISIBLE,GetUnitX(EC8),GetUnitY(EC8),400,true,true)
call FogModifierStart(XOG)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerRegisterTimerEvent(t,12,false)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Z3G))
call SaveReal(L7,(OC7),(189),((GetUnitX(EC8))*1.0))
call SaveReal(L7,(OC7),(190),((GetUnitY(EC8))*1.0))
call SaveReal(L7,(OC7),(47),((X_G)*1.0))
call SaveReal(L7,(OC7),(48),((Y4G)*1.0))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffect("war3mapImported\\EarthlyEminence.mdl",GetUnitX(EC8),GetUnitY(EC8))))
call SaveFogModifierHandle(L7,(OC7),(42),(XOG))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function ZCG))
endif
set EC8=null
set t=null
set XOG=null
return false
endfunction
function ZLG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local unit O07=(LoadUnitHandle(L7,(GetHandleId(EC8)),(652)))
local integer id=GetPlayerId(GetOwningPlayer(EC8))
local integer H98=GetUnitAbilityLevel(EC8,1093751874)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",EC8,"chest"))
if O07!=null then
endif
call PingMinimapEx(x,y,4.0,255,0,0,false)
call E88(Z7[1],2.5,x,y,300)
call E88(A7[1],2.5,x,y,300)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call TriggerRegisterTimerEvent(t,.05,true)
call TriggerAddCondition(t,Condition(function Z6G))
call SaveReal(L7,(OC7),(47),((x)*1.0))
call SaveReal(L7,(OC7),(48),((y)*1.0))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffect("war3mapImported\\EarthlyEminence.mdl",x,y)))
call UW7(EC8,"Relocate|Active")
set EC8=null
set t=null
endfunction
function Z1G takes nothing returns boolean
if GetSpellAbilityId()==1093751874 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call ZLG()
else
if ZZG(GetTriggerUnit(),GetSpellTargetX(),GetSpellTargetY())==false then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848658776))
else
if ZC7(GetOwningPlayer(GetTriggerUnit()))then
if IsPointInRegion(U14,GetSpellTargetX(),GetSpellTargetY())==true then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652633))
endif
else
if IsPointInRegion(UL4,GetSpellTargetX(),GetSpellTargetY())==true then
call RR7(GetTriggerUnit())
call L27(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652633))
endif
endif
endif
endif
endif
return false
endfunction
function UW8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function Z1G))
set UL4=CreateRegion()
call RegionAddRect(UL4,HD)
call RegionAddRect(UL4,OD)
set U14=CreateRegion()
call RegionAddRect(U14,GD)
call RegionAddRect(U14,PD)
set t=null
endfunction
function Z0G takes unit EC8,unit B8E,real Z5G,real Z2G,real a2 returns nothing
local integer i=0
local real Z_G
local real A4G=GetUnitY(B8E)
local real a
local real x
local real y
local real A7G
if B8E!=null then
set Z_G=GetUnitX(B8E)
set A4G=GetUnitY(B8E)
set a=PP7(Z5G,Z2G,Z_G,A4G)
else
set a=a2
set Z_G=Z5G+50*Cos(a*bj_DEGTORAD)
set A4G=Z2G+50*Sin(a*bj_DEGTORAD)
endif
set A7G=a
set x=Z_G+200*Cos(A7G*bj_DEGTORAD)
set y=A4G+200*Sin(A7G*bj_DEGTORAD)
call ES8(CreateDestructable(1110454326,x,y,-1*A7G,0.6,1),5)
call D28(x,y,300)
set A7G=a-40
set x=Z_G+200*Cos(A7G*bj_DEGTORAD)
set y=A4G+200*Sin(A7G*bj_DEGTORAD)
call ES8(CreateDestructable(1110454326,x,y,-1*A7G,0.6,1),5)
call D28(x,y,300)
set A7G=a-80
set x=Z_G+200*Cos(A7G*bj_DEGTORAD)
set y=A4G+200*Sin(A7G*bj_DEGTORAD)
call ES8(CreateDestructable(1110454326,x,y,-1*A7G,0.6,1),5)
call D28(x,y,300)
set A7G=a+40
set x=Z_G+200*Cos(A7G*bj_DEGTORAD)
set y=A4G+200*Sin(A7G*bj_DEGTORAD)
call ES8(CreateDestructable(1110454326,x,y,-1*A7G,0.6,1),5)
call D28(x,y,300)
set A7G=a+80
set x=Z_G+200*Cos(A7G*bj_DEGTORAD)
set y=A4G+200*Sin(A7G*bj_DEGTORAD)
call ES8(CreateDestructable(1110454326,x,y,-1*A7G,0.6,1),5)
call D28(x,y,300)
if B8E!=null then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ChainFreeze_F6.mdx",B8E,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",B8E,"chest"))
call HD8(YK4,B8E,ZG4,YN4*70)
endif
endfunction
function A8G takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),YO4)==false then
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==false then
call GroupAddUnit(YO4,GetEnumUnit())
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ChainFreeze_F6.mdx",GetEnumUnit(),"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetEnumUnit(),"chest"))
call HD8(YK4,GetEnumUnit(),ZG4,YN4*70)
else
set YM4=GetEnumUnit()
endif
endif
endfunction
function A9G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer EQ8=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(EQ8),(2)))
local unit B8E=(LoadUnitHandle(L7,(EQ8),(17)))
local unit ADG=(LoadUnitHandle(L7,(EQ8),(45)))
local real AEG=(LoadReal(L7,(EQ8),(683)))
local real AFG=(LoadReal(L7,(EQ8),(684)))
local real Z5G=GetUnitX(ADG)
local real Z2G=GetUnitY(ADG)
local real AGG=Atan2(AFG-Z2G,AEG-Z5G)
local real AHG=Z5G+18*Cos(AGG)
local real AIG=Z2G+18*Sin(AGG)
local group AJG=(LoadGroupHandle(L7,(EQ8),(133)))
local integer X_G=GetUnitAbilityLevel(EC8,1093753167)
local group g=CX7()
set IN4=EC8
set YK4=EC8
set YO4=AJG
set YN4=X_G
set YM4=null
call GroupEnumUnitsInRange(g,AHG,AIG,225,Condition(function FT8))
call ForGroup(g,function A8G)
call CW7(g)
call SetUnitPosition(ADG,AHG,AIG)
if RF7(AHG,AIG,AEG,AFG)<40 or YM4!=null then
call D28(AHG,AIG,300)
call KillUnit(ADG)
call ShowUnit(ADG,false)
call SetUnitPathing(ADG,true)
if YM4!=null then
call Z0G(EC8,YM4,AHG,AIG,AGG*bj_RADTODEG)
else
call Z0G(EC8,null,AHG,AIG,AGG*bj_RADTODEG)
endif
call CW7(AJG)
call FlushChildHashtable(L7,(EQ8))
call UA7(t)
endif
set t=null
set ADG=null
set AJG=null
set g=null
return false
endfunction
function AKG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer EQ8=GetHandleId(t)
local unit ADG=CreateUnit(GetOwningPlayer(EC8),1747993427,GetUnitX(EC8),GetUnitY(EC8),0)
local real Z5G=GetUnitX(EC8)
local real Z2G=GetUnitY(EC8)
local real Z_G=GetSpellTargetX()
local real A4G=GetSpellTargetY()
local real AGG=Atan2(A4G-Z2G,Z_G-Z5G)
local real AEG=D78(Z5G+1600*Cos(AGG))
local real AFG=D88(Z2G+1600*Sin(AGG))
call SetUnitFacing(ADG,AGG*bj_RADTODEG)
call SetUnitPathing(ADG,false)
call TriggerRegisterTimerEvent(t,.02,true)
call TriggerAddCondition(t,Condition(function A9G))
call SaveUnitHandle(L7,(EQ8),(2),(EC8))
call SaveReal(L7,(EQ8),(683),((AEG)*1.0))
call SaveReal(L7,(EQ8),(684),((AFG)*1.0))
call SaveReal(L7,(EQ8),(13),((AGG)*1.0))
call SaveUnitHandle(L7,(EQ8),(45),(ADG))
call SaveGroupHandle(L7,(EQ8),(133),(CX7()))
set EC8=null
set ADG=null
set t=null
endfunction
function AMG takes nothing returns boolean
if GetSpellAbilityId()==1093753167 then
call AKG()
endif
return false
endfunction
function UX8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AMG))
set t=null
endfunction
function ANG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=GetUnitAbilityLevel(EC8,1093753169)
local integer CP8=GetTriggerEvalCount(t)
local real y=(CP8-50)*(CP8-50)/4.3
local real B19
if H98==1 then
set B19=75
elseif H98==2 then
set B19=150
else
set B19=225
endif
if CP8==1 then
call IssueTargetOrder(EC8,"attack",O07)
endif
if CP8<50 then
if S4D(O07)==false then
call SetUnitFlyHeight(O07,700*CP8/50,0)
endif
elseif CP8<100 then
if S4D(O07)==false then
call SetUnitFlyHeight(O07,700-700*(CP8-50)/50,0)
endif
else
if S4D(O07)==false then
call SetUnitFlyHeight(O07,GetUnitDefaultFlyHeight(O07),0)
endif
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call TN7(OC7)
call UA7(t)
call F88(O07,1093808180,1,1+H98,1110459481)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093808180,false)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function AOG takes unit EC8,unit O07 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local integer H98=GetUnitAbilityLevel(EC8,1093753169)
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call DC8("WALRUS PUNCH !!",3.5,EC8,0.03,255,0,0,255)
call E48(XQ4,GetUnitX(O07),GetUnitY(O07))
call LM7(H88,1093752144)
call IssueTargetOrder(H88,"thunderbolt",O07)
if S4D(O07)==false then
call LM7(O07,1097691750)
call UnitRemoveAbility(O07,1097691750)
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O07,"overhead"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O07,"head"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O07,"left,hand"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O07,"right,hand"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O07,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",O07,"origin"))
call TriggerRegisterTimerEvent(t,.01,true)
call TriggerAddCondition(t,Condition(function ANG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveEffectHandle(L7,(OC7),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",O07,"chest")))
set t=null
endfunction
function APG takes nothing returns boolean
local trigger t2=GetTriggeringTrigger()
local integer POD=GetHandleId(t2)
local unit EC8=(LoadUnitHandle(L7,(POD),(2)))
local unit O07=(LoadUnitHandle(L7,(POD),(17)))
local integer AF7=GetHandleId(EC8)
local trigger t=UF7(AF7,"WalrusPunch|Clear")
if GetTriggerEvalCount(t2)==1 then
call IssueTargetOrder(EC8,"attack",O07)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EC8 and GetEventDamage()>30 then
if O07==U87(AF7,"WalrusPunch|Target")then
call E28(EC8,1093752136,1,0.1)
call E28(EC8,1093752137,1,0.1)
call AOG(EC8,O07)
if t!=null then
call TriggerEvaluate(t)
endif
endif
call UA7(t2)
call TN7(POD)
endif
else
call UnitRemoveAbility(EC8,1093752136)
call UnitRemoveAbility(EC8,1093752137)
call TN7(POD)
call UA7(t2)
endif
set t2=null
set t=null
set EC8=null
set O07=null
return false
endfunction
function AQG takes nothing returns boolean
local unit EC8=GetAttacker()
local unit O07=GetTriggerUnit()
local integer AF7=GetHandleId(EC8)
local trigger t=UF7(AF7,"WalrusPunch|Clear")
local trigger t2
local integer POD
if UU7(EC8,"WalrusPunch|Active")==true and t!=null and O07!=U87(AF7,"WalrusPunch|Target")and IsUnitAlly(O07,GetOwningPlayer(EC8))==false and IsUnitType(O07,UNIT_TYPE_STRUCTURE)==false then
call TU7(AF7,"WalrusPunch|Target",O07)
call UnitRemoveAbility(EC8,1093752136)
call UnitRemoveAbility(EC8,1093752137)
if GetUnitState(O07,UNIT_STATE_LIFE)/GetUnitState(O07,UNIT_STATE_MAX_LIFE)>0.5 then
call LM7(EC8,1093752136)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093752136,false)
else
call LM7(EC8,1093752137)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093752137,false)
endif
call IssueImmediateOrder(EC8,"stop")
set t2=CreateTrigger()
set POD=GetHandleId(t2)
call TriggerRegisterTimerEvent(t2,0.,false)
call TriggerRegisterTimerEvent(t2,2.,false)
call TriggerRegisterUnitEvent(t2,O07,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t2,Condition(function APG))
call SaveUnitHandle(L7,(POD),(2),(EC8))
call SaveUnitHandle(L7,(POD),(17),(O07))
endif
set EC8=null
set O07=null
return false
endfunction
function ARG takes nothing returns boolean
if UU7(GetAttacker(),"WalrusPunch|Active")==true then
call AQG()
endif
return false
endfunction
function ASG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer AF7=GetHandleId(EC8)
call UY7(EC8,"WalrusPunch|Active")
call DestroyEffect(UH7(AF7,"WalrusPunch|Visual"))
call UnitRemoveAbility(EC8,1093752136)
call UnitRemoveAbility(EC8,1093752137)
call TO7(AF7,"WalrusPunch|Visual")
call TO7(AF7,"WalrusPunch|Target")
call TO7(AF7,"WalrusPunch|Clear")
call TN7(OC7)
call UA7(t)
set EC8=null
set t=null
return false
endfunction
function ATG takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local integer AF7=GetHandleId(EC8)
call TriggerRegisterTimerEvent(t,10.,false)
call TriggerAddCondition(t,Condition(function ASG))
call UW7(EC8,"WalrusPunch|Active")
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call TU7(AF7,"WalrusPunch|Target",EC8)
call TV7(AF7,"WalrusPunch|Visual",(AddSpecialEffectTarget("war3mapImported\\WalrusPunchWeaponFX.mdx",EC8,"weapon")))
call TW7(AF7,"WalrusPunch|Clear",t)
set t=null
set EC8=null
endfunction
function AUG takes nothing returns boolean
if GetSpellAbilityId()==1093753169 then
call ATG()
endif
return false
endfunction
function UY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function AUG))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function ARG))
set t=null
endfunction
function AVG takes nothing returns nothing
call ShowUnit(GetEnumUnit(),true)
call UnitRemoveAbility(GetEnumUnit(),1093678162)
call SetUnitInvulnerable(GetEnumUnit(),false)
call PauseUnit(GetEnumUnit(),false)
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call SetUnitPosition(GetEnumUnit(),YU4,YV4)
call SelectUnitForPlayerSingle(GetEnumUnit(),GetOwningPlayer(GetEnumUnit()))
else
call SetUnitX(GetEnumUnit(),YU4)
call SetUnitY(GetEnumUnit(),YV4)
endif
if GetEnumUnit()==YQ4 and YR4!=null then
call IssueTargetOrder(YQ4,"attack",YR4)
endif
call DestroyEffect(AddSpecialEffect("war3mapImported\\ChainFreeze_F6.mdx",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
endfunction
function AWG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),YP4)==false then
call GroupAddUnit(YP4,GetEnumUnit())
if GetEnumUnit()==YR4 then
call HD8(YQ4,GetEnumUnit(),ZG4,40*YT4+40)
call SetUnitAbilityLevel(YS4,1093687350,G_8(0.25*YT4+0.25))
else
call HD8(YQ4,GetEnumUnit(),ZG4,40*YT4)
call SetUnitAbilityLevel(YS4,1093687350,G_8(0.25*YT4))
endif
call SetUnitX(YS4,GetUnitX(GetEnumUnit()))
call SetUnitY(YS4,GetUnitY(GetEnumUnit()))
call IssueTargetOrder(YS4,"thunderbolt",GetEnumUnit())
endif
endfunction
function AXG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit E98=(LoadUnitHandle(L7,(OC7),(45)))
local real ED8=GetUnitX(O07)
local real EE8=GetUnitY(O07)
local real r=(LoadReal(L7,(OC7),(671)))
local real a=PP7(GetUnitX(E98),GetUnitY(E98),ED8,EE8)*bj_DEGTORAD
local real x=GetUnitX(E98)+r*Cos(a)
local real y=GetUnitY(E98)+r*Sin(a)
local group AJG=(LoadGroupHandle(L7,(OC7),(133)))
local group g
local integer CP8=GetTriggerEvalCount(t)
local real BAE=RMinBJ(2.5+(CP8*0.02),10)
local real AYG=225+40*(CP8*0.02)
set YT4=GetUnitAbilityLevel(EC8,1093751607)
set IN4=EC8
set YP4=AJG
set YQ4=EC8
set YR4=O07
set YS4=(LoadUnitHandle(L7,(OC7),(19)))
call SetUnitX(E98,x)
call SetUnitY(E98,y)
call SetUnitFacing(E98,a*bj_RADTODEG-180)
call SetUnitScale(E98,BAE,BAE,BAE)
if RF7(x,y,ED8,EE8)<r*2 or CP8==150 then
call D28(x,y,300)
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,AYG,Condition(function FT8))
call ForGroup(g,function AWG)
call CW7(g)
set g=null
set YU4=x
set YV4=y
call ForGroup((LoadGroupHandle(L7,(OC7),(22))),function AVG)
call CW7((LoadGroupHandle(L7,(OC7),(22))))
call CW7(AJG)
call KillUnit(E98)
call TN7(OC7)
call UA7(t)
else
if ModuloInteger(GetTriggerEvalCount(t),5)==0 then
call D28(x,y,300)
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,AYG,Condition(function FT8))
call ForGroup(g,function AWG)
call CW7(g)
set g=null
endif
endif
set t=null
set EC8=null
set E98=null
set AJG=null
return false
endfunction
function AZG takes nothing returns nothing
call DestroyEffect(AddSpecialEffect("war3mapImported\\ChainFreeze_F6.mdx",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))
call ShowUnit(GetEnumUnit(),false)
call LM7(GetEnumUnit(),1093678162)
call SetUnitInvulnerable(GetEnumUnit(),true)
call PauseUnit(GetEnumUnit(),true)
if YQ4!=GetEnumUnit()then
set YX4=YX4+1
endif
endfunction
function AAG takes nothing returns boolean
return((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))or(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit()))))and((LoadBoolean(L7,(GetHandleId(GetOwningPlayer(GetFilterUnit()))),(139)))==false or YQ4==GetFilterUnit())
endfunction
function ABG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit B8E=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer EQ8=GetHandleId(t)
local real Z5G=GetUnitX(EC8)
local real Z2G=GetUnitY(EC8)
local real Z_G=GetUnitX(B8E)
local real A4G=GetUnitY(B8E)
local real a=PP7(Z5G,Z2G,Z_G,A4G)*bj_DEGTORAD
local unit ACG=CreateUnit(GetOwningPlayer(EC8),1747993395,GetUnitX(EC8),GetUnitY(EC8),GetUnitFacing(EC8))
local group g=CX7()
set YW4=0
set YX4=1
set YQ4=EC8
set YW4=1.5*RMaxBJ(133,GetUnitMoveSpeed(EC8))
call GroupEnumUnitsInRange(g,Z5G,Z2G,255,Condition(function AAG))
call ForGroup(g,function AZG)
set YS4=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(EC8),GetUnitY(EC8),0)
call LM7(YS4,1093687350)
call SetUnitTimeScale(ACG,2)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function AXG))
call SaveUnitHandle(L7,(EQ8),(2),(EC8))
call SaveUnitHandle(L7,(EQ8),(17),(B8E))
call SaveUnitHandle(L7,(EQ8),(19),(YS4))
call SaveUnitHandle(L7,(EQ8),(45),(ACG))
call SaveReal(L7,(EQ8),(137),((a)*1.0))
call SaveReal(L7,(EQ8),(671),((YW4*0.02)*1.0))
call SaveReal(L7,(EQ8),(47),((Z_G)*1.0))
call SaveReal(L7,(EQ8),(48),((A4G)*1.0))
call SaveGroupHandle(L7,(EQ8),(22),(g))
call SaveGroupHandle(L7,(EQ8),(133),(CX7()))
set t=null
set EC8=null
set ACG=null
set g=null
endfunction
function A3G takes nothing returns boolean
if GetSpellAbilityId()==1093751607 then
call ABG()
endif
return false
endfunction
function UZ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function A3G))
call DE8(1093687350)
set t=null
endfunction
function A6G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer EQ8=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(EQ8),(2)))
local unit B8E=(LoadUnitHandle(L7,(EQ8),(17)))
call TN7(EQ8)
call UA7(t)
call IssueTargetOrder(EC8,"move",B8E)
set t=null
set EC8=null
set B8E=null
return false
endfunction
function ALG takes nothing returns nothing
local unit EC8=GetSummonedUnit()
local unit B8E=GetSummoningUnit()
local trigger t=CreateTrigger()
local integer EQ8=GetHandleId(t)
call TriggerAddCondition(t,Condition(function A6G))
call TriggerRegisterTimerEvent(t,0.2,false)
call SaveUnitHandle(L7,(EQ8),(2),(EC8))
call SaveUnitHandle(L7,(EQ8),(17),(B8E))
set t=null
set EC8=null
set B8E=null
endfunction
function A1G takes nothing returns boolean
local integer id=GetUnitTypeId(GetSummonedUnit())
if id==1865429322 or id==1865429323 or id==1865429324 or id==1865429325 then
call ALG()
endif
return false
endfunction
function UA8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function A1G))
endfunction
function A0G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
set ZY4=GetEventDamageSource()
else
call SetUnitX(EC8,GetUnitX(O07))
call SetUnitY(EC8,GetUnitY(O07))
call SetUnitX(H88,GetUnitX(O07))
call SetUnitY(H88,GetUnitY(O07))
endif
set t=null
set EC8=null
set O07=null
set H88=null
return false
endfunction
function A5G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
set ZY4=GetEventDamageSource()
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function A2G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetSummoningUnit()
local unit O07=GetSummonedUnit()
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(EC8),GetUnitY(EC8),0)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function A0G))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(19),(H88))
if SR7(EC8,1227899192)then
call UnitAddAbility(H88,1093678153)
endif
set t=null
set EC8=null
set O07=null
set H88=null
endfunction
function A_G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetSummoningUnit()
local unit O07=GetSummonedUnit()
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function A5G))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
set t=null
set EC8=null
set O07=null
endfunction
function B4G takes nothing returns boolean
local integer BD7=GetUnitTypeId(GetSummonedUnit())
if BD7==1852862003 or BD7==1852862006 or BD7==1848652080 or BD7==1848657754 then
call A2G()
elseif BZ7(BD7)then
call A_G()
endif
return false
endfunction
function UC8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function B4G))
set t=null
endfunction
function B7G takes nothing returns nothing
call H78(AT4,GetEnumUnit(),0.75+0.25*GetUnitAbilityLevel(AT4,1093809990))
endfunction
function B8G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local real a=(LoadReal(L7,(OC7),(137)))
local real ED8=(LoadReal(L7,(OC7),(47)))
local real EE8=(LoadReal(L7,(OC7),(48)))
local real FAD=(LoadReal(L7,(OC7),(189)))
local real FBD=(LoadReal(L7,(OC7),(190)))
local group g
local real d=RF7(FAD,FBD,ED8,EE8)/25
local location l
local integer CP8=GetTriggerEvalCount(t)
local real x=FAD+d*CP8*Cos(a)
local real y=FBD+d*CP8*Sin(a)
call SetUnitX(O07,D78(x))
call SetUnitY(O07,D88(y))
if S4D(O07)==false then
call SetUnitFlyHeight(O07,325-13*CP8,0)
endif
if CP8==25 then
call SetUnitX(O07,D78(ED8))
call SetUnitY(O07,D88(EE8))
if IsPointInRegion(IU4,GetUnitX(O07),GetUnitY(O07))==true then
set l=D69(GetUnitX(O07),GetUnitY(O07))
call SetUnitX(O07,D98(GetLocationX(l)))
call SetUnitY(O07,DD8(GetLocationY(l)))
call RemoveLocation(l)
set l=null
endif
set IN4=EC8
set AT4=EC8
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(O07),GetUnitY(O07),350,Condition(function FT8))
call GroupRemoveUnit(g,O07)
call ForGroup(g,function B7G)
call CW7(g)
call D28(GetUnitX(O07),GetUnitY(O07),150)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(O07),GetUnitY(O07)))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if S4D(O07)==false then
call SetUnitFlyHeight(O07,GetUnitDefaultFlyHeight(O07),0)
endif
call SetUnitPathing(O07,true)
endif
set t=null
set EC8=null
set O07=null
set g=null
return false
endfunction
function B9G takes unit EC8,unit O07,unit Target2,real BDG,real BEG,effect FX,effect BFG returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local real ED8=BDG
local real EE8=BEG
local real a=PP7(GetUnitX(O07),GetUnitY(O07),BDG,BEG)*bj_DEGTORAD
if RF7(GetUnitX(O07),GetUnitY(O07),BDG,BEG)>375 then
set ED8=GetUnitX(O07)+375*Cos(a)
set EE8=GetUnitY(O07)+375*Sin(a)
endif
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveReal(L7,(OC7),(137),((a)*1.0))
call SaveReal(L7,(OC7),(47),((ED8)*1.0))
call SaveReal(L7,(OC7),(48),((EE8)*1.0))
call SaveReal(L7,(OC7),(189),((GetUnitX(O07))*1.0))
call SaveReal(L7,(OC7),(190),((GetUnitY(O07))*1.0))
call SaveEffectHandle(L7,(OC7),(32),(FX))
call SaveEffectHandle(L7,(OC7),(176),(BFG))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function B8G))
set t=null
endfunction
function BGG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer CP8=(LoadInteger(L7,(OC7),(34)))
local integer EJD=(LoadInteger(L7,(OC7),(12)))
local real ED8=(LoadReal(L7,(OC7),(47)))
local real EE8=(LoadReal(L7,(OC7),(48)))
local integer BHG=(LoadInteger(L7,(OC7),(706)))
local real a
if GetTriggerEventId()==EVENT_WIDGET_DEATH or(GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and DV9(O07)==false)then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809990,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093810008,false)
call B9G(EC8,O07,(LoadUnitHandle(L7,(OC7),(711))),ED8,EE8,(LoadEffectHandle(L7,(OC7),(32))),(LoadEffectHandle(L7,(OC7),(176))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093810008 then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
set a=PP7(GetUnitX(O07),GetUnitY(O07),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORAD
if RF7(GetUnitX(O07),GetUnitY(O07),GetSpellTargetX(),GetSpellTargetY())>375 then
set ED8=GetUnitX(O07)+375*Cos(a)
set EE8=GetUnitY(O07)+375*Sin(a)
else
set ED8=GetSpellTargetX()
set EE8=GetSpellTargetY()
endif
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffect("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",ED8,EE8)))
call SaveReal(L7,(OC7),(47),((ED8)*1.0))
call SaveReal(L7,(OC7),(48),((EE8)*1.0))
call SaveUnitHandle(L7,(OC7),(711),(GetSpellTargetUnit()))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",GetSpellTargetUnit(),"origin")))
endif
else
set CP8=CP8+1
call SaveInteger(L7,(OC7),(34),(CP8))
call SetUnitPathing(O07,false)
if(LoadInteger(L7,(OC7),(707)))==1 then
set BHG=BHG+3
else
set BHG=BHG-3
endif
call SaveInteger(L7,(OC7),(706),(BHG))
if BHG==30 then
call SaveInteger(L7,(OC7),(707),(-1))
elseif BHG==-30 then
call SaveInteger(L7,(OC7),(707),(1))
endif
if S4D(O07)==false then
if CP8<15 then
call SetUnitFlyHeight(O07,CP8*20,0)
else
call SetUnitFlyHeight(O07,300+BHG,0)
endif
endif
if CP8>(EJD-25)then
if S4D(O07)==false then
call SetUnitFlyHeight(O07,300,0)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809990,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093810008,false)
call B9G(EC8,O07,(LoadUnitHandle(L7,(OC7),(711))),ED8,EE8,(LoadEffectHandle(L7,(OC7),(32))),(LoadEffectHandle(L7,(OC7),(176))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function BIG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local integer H98=GetUnitAbilityLevel(EC8,1093809990)
local unit H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call UnitAddAbility(H88,1093810226)
call SetUnitAbilityLevel(H88,1093810226,H98)
call IssueTargetOrder(H88,"thunderbolt",O07)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093809990,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093810008,true)
call UnitAddAbility(EC8,1093810008)
call SetUnitPathing(O07,false)
if S4D(O07)==false then
call LM7(O07,1097691750)
call UnitRemoveAbility(O07,1097691750)
endif
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(711),(O07))
call SaveInteger(L7,(OC7),(12),(R2I((1.25+0.25*H98)/.02)))
call SaveInteger(L7,(OC7),(34),(0))
call SaveInteger(L7,(OC7),(706),(0))
call SaveInteger(L7,(OC7),(707),(1))
call SaveReal(L7,(OC7),(47),((GetUnitX(O07))*1.0))
call SaveReal(L7,(OC7),(48),((GetUnitY(O07))*1.0))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("war3mapImported\\AntiGravityTarget.mdx",O07,"origin")))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffect("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",GetUnitX(O07),GetUnitY(O07))))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,O07)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BGG))
set EC8=null
set O07=null
endfunction
function BJG takes nothing returns boolean
if GetSpellAbilityId()==1093809990 and CV7(GetSpellTargetUnit())==false then
call BIG()
endif
return false
endfunction
function U38 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BJG))
call DE8(1093687350)
call DE8(1093810226)
set t=null
endfunction
function BKG takes unit EC8,unit O07 returns nothing
local integer H98=GetUnitAbilityLevel(EC8,1093809991)
if IsUnitType(O07,UNIT_TYPE_HERO)==true then
if H98==1 then
call E28(O07,1093810007,1,10)
elseif H98==2 then
call E28(O07,1093810230,1,10)
elseif H98==3 then
call E28(O07,1093810229,1,10)
elseif H98==4 then
call E28(O07,1093810231,1,10)
endif
else
if H98==1 then
call E28(O07,1093810481,1,10)
elseif H98==2 then
call E28(O07,1093810266,1,10)
elseif H98==3 then
call E28(O07,1093810482,1,10)
elseif H98==4 then
call E28(O07,1093810480,1,10)
endif
endif
call E48(AH4,GetUnitX(O07),GetUnitY(O07))
endfunction
function BMG takes nothing returns nothing
local real d
if IsUnitInGroup(GetEnumUnit(),AW4)==false then
set d=RE7(GetEnumUnit(),AV4)
if d<AX4 then
set AX4=d
set AU4=GetEnumUnit()
endif
endif
endfunction
function BNG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local group GAD=(LoadGroupHandle(L7,(OC7),(187)))
local real x=GetUnitX(O07)
local real y=GetUnitY(O07)
local group g=CX7()
call GroupAddUnit(GAD,O07)
call BKG(EC8,O07)
set IN4=EC8
set AU4=null
set AV4=O07
set AW4=GAD
set AX4=999999
call GroupEnumUnitsInRange(g,x,y,440+25,Condition(function GG8))
call ForGroup(g,function BMG)
call CW7(g)
if AU4==null or GetTriggerEvalCount(t)>26 then
call CW7(GAD)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set O07=AU4
call SaveUnitHandle(L7,(OC7),(17),(O07))
endif
set g=null
set t=null
set EC8=null
set O07=null
set GAD=null
return false
endfunction
function BOG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local group GAD=CX7()
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(EC8),GetUnitY(EC8),GetUnitFacing(EC8))
call E48(AH4,GetUnitX(EC8),GetUnitY(EC8))
call LM7(H88,1093810228)
call SetUnitAbilityLevel(H88,1093810228,GetUnitAbilityLevel(EC8,1093809991))
call IssueTargetOrder(H88,"chainlightning",O07)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveGroupHandle(L7,(OC7),(187),(GAD))
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerAddCondition(t,Condition(function BNG))
set EC8=null
set O07=null
set t=null
set H88=null
endfunction
function BPG takes nothing returns boolean
if GetSpellAbilityId()==1093809991 and CV7(GetSpellTargetUnit())==false then
call BOG()
endif
return false
endfunction
function U68 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BPG))
set t=null
endfunction
function BQG takes nothing returns boolean
if IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),GetLearnedSkill())==1 then
if GetLearnedSkill()==1093809990 then
call UnitRemoveAbility(GetTriggerUnit(),1093809993)
elseif GetLearnedSkill()==1093809991 then
call UnitRemoveAbility(GetTriggerUnit(),1093809995)
elseif GetLearnedSkill()==1093810006 then
call UnitRemoveAbility(GetTriggerUnit(),1093809994)
endif
endif
return false
endfunction
function BRG takes integer id returns nothing
set AY4[AZ4]=id
set AZ4=AZ4+1
endfunction
function BSG takes integer id returns boolean
local integer i=0
loop
exitwhen i==AZ4
if id==AY4[i]then
return true
endif
set i=i+1
endloop
return false
endfunction
function BTG takes nothing returns boolean
local integer i1=GetSpellAbilityId()
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and BSG(i1)==false then
call SaveInteger(L7,(GetHandleId(GetTriggerUnit())),(705),(i1))
call SaveInteger(L7,(GetHandleId(GetTriggerUnit())),(712),(GetUnitAbilityLevel(GetTriggerUnit(),i1)))
endif
return false
endfunction
function BUG takes unit u returns nothing
call UnitRemoveAbility(u,1093743428)
call UnitRemoveAbility(u,1093815881)
call UnitRemoveAbility(u,1093751126)
call UnitRemoveAbility(u,1093751893)
call UnitRemoveAbility(u,1093809217)
call UnitRemoveAbility(u,1093809218)
call UnitRemoveAbility(u,1093750344)
call UnitRemoveAbility(u,1093808206)
call UnitRemoveAbility(u,1093753394)
call UnitRemoveAbility(u,1093753395)
call UnitRemoveAbility(u,1093808181)
call UnitRemoveAbility(u,1093752405)
call UnitRemoveAbility(u,1093683011)
call UnitRemoveAbility(u,1093809221)
call UnitRemoveAbility(u,1093685844)
call UnitRemoveAbility(u,1093751361)
call UnitRemoveAbility(u,1093683265)
call UnitRemoveAbility(u,1093686081)
call UnitRemoveAbility(u,1093743153)
call UnitRemoveAbility(u,1093752646)
call UnitRemoveAbility(u,1093677652)
call UnitRemoveAbility(u,1093751609)
call UnitRemoveAbility(u,1093808456)
call UnitRemoveAbility(u,1093750094)
call UnitRemoveAbility(u,1093678667)
call UnitRemoveAbility(u,1093684805)
call UnitRemoveAbility(u,1093684560)
call UnitRemoveAbility(u,1093815618)
endfunction
function BVG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer BWG=(LoadInteger(L7,(OC7),(704)))
local integer BXG=(LoadInteger(L7,(OC7),(713)))
if BWG==(LoadInteger(L7,(GetHandleId(EC8)),(704)))then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetTriggerEvalCount(t)>(15-BXG)and LO7(EC8)==false then
call UnitRemoveAbility(EC8,BWG)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
return false
endfunction
function BYG takes unit EC8,integer BWG,real E69 returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function BVG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveInteger(L7,(OC7),(704),(BWG))
call SaveInteger(L7,(GetHandleId(EC8)),(704),(-1))
call SaveInteger(L7,(OC7),(713),(R2I((TimerGetElapsed(W))-E69)))
set t=null
endfunction
function BZG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer BWG=(LoadInteger(L7,(OC7),(704)))
local integer CP8=(LoadInteger(L7,(OC7),(34)))
local integer H98=GetUnitAbilityLevel(EC8,1093809992)
local real E69=(LoadReal(L7,(OC7),(411)))
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and GetTriggerEventId()!=EVENT_WIDGET_DEATH then
if CP8==0 then
call SaveInteger(L7,(OC7),(34),(1))
call DisplayTimedTextToPlayer(GetOwningPlayer(EC8),0,0,10,"|c00ff0303"+GetObjectName(1848659031)+"|r")
else
call BUG(EC8)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),BWG,false)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call BYG(EC8,BWG,E69)
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093809992 then
call BUG(EC8)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),BWG,false)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call BYG(EC8,BWG,E69)
elseif GetSpellAbilityId()==BWG then
call SaveReal(L7,(OC7),(411),(((TimerGetElapsed(W)))*1.0))
endif
elseif GetTriggerEventId()==EVENT_WIDGET_DEATH then
call BUG(EC8)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),BWG,false)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call BYG(EC8,BWG,E69)
endif
set t=null
set EC8=null
return false
endfunction
function BAG takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer BWG=(LoadInteger(L7,(OC7),(704)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local real BBG=60*(2+GetUnitAbilityLevel(EC8,1093809992))
local integer BCG=GetHandleId(EC8)
local integer B3G=GetHandleId(O07)
if(UN7(B3G,"WexLevel"))>0 then
call TQ7(BCG,"WexLevel",(UN7(B3G,"WexLevel")))
endif
if(UN7(B3G,"QuasLevel"))>0 then
call TQ7(BCG,"QuasLevel",(UN7(B3G,"QuasLevel")))
endif
if(UN7(B3G,"ExortLevel"))>0 then
call TQ7(BCG,"ExortLevel",(UN7(B3G,"ExortLevel")))
endif
if(LoadInteger(L7,(GetHandleId(O07)),(710)))>0 then
call SaveInteger(L7,(GetHandleId(EC8)),(710),((LoadInteger(L7,(GetHandleId(O07)),(710)))))
endif
call E48(AE4,GetUnitX(EC8),GetUnitY(EC8))
call DC8(GetObjectName(BWG),3.5,EC8,0.024,170,0,255,216)
call SaveInteger(L7,(GetHandleId(EC8)),(704),(BWG))
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),BWG,true)
call LM7(EC8,BWG)
call SetUnitAbilityLevel(EC8,BWG,H98)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveInteger(L7,(OC7),(34),(0))
call SaveInteger(L7,(OC7),(704),(BWG))
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,BBG,false)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerRegisterTimerEvent(t,BBG-20,false)
call TriggerAddCondition(t,Condition(function BZG))
if Z17(GetOwningPlayer(EC8))then
call SWF(EC8,BWG,O07)
endif
set t=null
set EC8=null
set O07=null
endfunction
function B6G takes unit EC8,unit O07,integer BWG,integer H98 returns nothing
local trigger t=EK8(O07,EC8,1747993666,"BAG",900)
local integer OC7=GetHandleId(t)
call E48(AD4,GetUnitX(O07),GetUnitY(O07))
call DC8(GetObjectName(BWG),3.75,O07,0.024,170,0,255,216)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveInteger(L7,(OC7),(704),(BWG))
call SaveInteger(L7,(OC7),(5),(H98))
set t=null
endfunction
function BLG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if BSG(GetSpellAbilityId())==true then
else
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
else
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function B1G takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
if(LoadInteger(L7,(GetHandleId(O07)),(705)))!=0 then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Nebula.mdx",O07,"origin"))
call B6G(EC8,O07,(LoadInteger(L7,(GetHandleId(O07)),(705))),(LoadInteger(L7,(GetHandleId(O07)),(712))))
endif
set EC8=null
set O07=null
endfunction
function SpellSteal takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local string fx=""
if IsPlayerAlly(GetOwningPlayer(EC8),GetLocalPlayer())or CM7(GetLocalPlayer())then
set fx="war3mapImported\\Nebula.mdx"
endif
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget(fx,O07,"origin")))
call TriggerRegisterTimerEvent(t,20,false)
call TriggerRegisterDeathEvent(t,O07)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BLG))
set EC8=null
set O07=null
endfunction
function B0G takes nothing returns boolean
if GetSpellAbilityId()==1093809992 and CV7(GetSpellTargetUnit())==false then
call B1G()
endif
return false
endfunction
function B5G takes nothing returns nothing
call BRG(1093752648)
call BRG(1095656306)
call BRG(1093677895)
call BRG(1093679411)
call BRG(1093743946)
call BRG(1093681479)
call BRG(1093681733)
call BRG(1093751896)
call BRG(1093808697)
call BRG(1093751369)
call BRG(1093747504)
call BRG(1093742932)
call BRG(1093744986)
call BRG(1093815877)
call BRG(1093743428)
call BRG(1093815881)
call BRG(1093751126)
call BRG(1093751893)
call BRG(1093809217)
call BRG(1093809218)
call BRG(1093750344)
call BRG(1093808206)
call BRG(1093753394)
call BRG(1093753395)
call BRG(1093808181)
call BRG(1093752405)
call BRG(1093683011)
call BRG(1093809221)
call BRG(1093685844)
call BRG(1093751361)
call BRG(1093683265)
call BRG(1093686081)
call BRG(1093743153)
call BRG(1093752646)
call BRG(1093677652)
call BRG(1093751609)
call BRG(1093808456)
call BRG(1093750094)
call BRG(1093684056)
call BRG(1093684055)
call BRG(1093681461)
call BRG(1093681735)
call BRG(1093808471)
call BRG(1093808472)
call BRG(1093808470)
call BRG(1093808473)
call BRG(1093748565)
call BRG(1093752392)
call BRG(1093752391)
call BRG(1093815600)
call BRG(1093815618)
call BRG(1093677625)
call BRG(1093816121)
call BRG(1093685582)
call BRG(1093677622)
call BRG(1095263841)
call BRG(1093679446)
call BRG(1093682265)
call BRG(1093752642)
call BRG(1093684314)
call BRG(1093685065)
call BRG(1093750337)
call BRG(1093748033)
call BRG(1093684819)
call BRG(1093747777)
call BRG(1093810257)
call BRG(1093687121)
call BRG(1093751864)
call BRG(1093742674)
call BRG(1093742926)
call BRG(1093682521)
call BRG(1093682760)
call BRG(1093686859)
call BRG(1093686865)
call BRG(1093678899)
call BRG(1093677898)
call BRG(1093678154)
call BRG(1093678157)
call BRG(1093678158)
call BRG(1093809990)
call BRG(1093810008)
call BRG(1093809991)
call BRG(1093809992)
call BRG(1093685557)
call BRG(1093686347)
call BRG(1095328363)
call BRG(1093683801)
call BRG(1093747011)
call BRG(1095331948)
call BRG(1095331954)
call BRG(1097163124)
call BRG(1093684016)
call BRG(1093683255)
call BRG(1093683254)
call BRG(1093682767)
call BRG(1093677656)
call BRG(1095332727)
call BRG(1095332962)
call BRG(1093681718)
call BRG(1093751349)
call BRG(1093808182)
call BRG(1093748292)
call BRG(1093748303)
call BRG(1093748305)
call BRG(1093749071)
call BRG(1093681720)
call BRG(1093752645)
call BRG(1093686328)
call BRG(1093686327)
call BRG(1093677367)
call BRG(1093751108)
call BRG(1093748304)
call BRG(1093683788)
call BRG(1094935400)
call BRG(1095333995)
call BRG(1095331943)
call BRG(1093742918)
call BRG(1093742917)
call BRG(1093686067)
call BRG(1093742916)
call BRG(1093742919)
call BRG(1093742920)
call BRG(1093686329)
call BRG(1093743959)
call BRG(1094936696)
call BRG(1093682756)
call BRG(1093686341)
call BRG(1093751863)
call BRG(1093744973)
call BRG(1093677647)
call BRG(1093679193)
call BRG(1093679194)
call BRG(1093679408)
call BRG(1093679410)
call BRG(1093683266)
call BRG(1093682227)
call BRG(1093682246)
call BRG(1093677655)
call BRG(1093681995)
call BRG(1093684023)
call BRG(1093683796)
call BRG(1095328865)
call BRG(1093809721)
call BRG(1093752655)
call BRG(1093748055)
call BRG(1093750095)
call BRG(1093753417)
call BRG(1093753416)
call BRG(1093753431)
call BRG(1093808945)
call BRG(1093743191)
call BRG(1093743681)
call BRG(1093751096)
call BRG(1093810265)
call BRG(1093810244)
call BRG(1093810246)
call BRG(1093815857)
call BRG(1093814863)
call BRG(1093814865)
call BRG(1093814864)
call BRG(1093814866)
call BRG(1093814860)
call BRG(1093813848)
call BRG(1093815089)
call BRG(1093815092)
call BRG(1093815095)
call BRG(1093815111)
call BRG(1093815109)
call BRG(1093815112)
call BRG(1093815097)
call BRG(1093813569)
call BRG(1093751349)
call BRG(1093743415)
endfunction
function UL8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function B0G))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function BTG))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function BQG))
set t=null
call B5G()
endfunction
function B2G takes nothing returns nothing
if DB9(GetEnumUnit())then
return
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093810003)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093810003)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093810001)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093810001)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093810002)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093810002)
endif
if GetUnitAbilityLevel(GetEnumUnit(),1093810004)>0 then
call UnitRemoveAbility(GetEnumUnit(),1093810004)
endif
endfunction
function B_G takes nothing returns nothing
if DB9(GetEnumUnit())then
return
endif
if AA4==1 then
if GetUnitAbilityLevel(GetEnumUnit(),1093810003)==0 then
call LM7(GetEnumUnit(),1093810003)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810003,false)
endif
elseif AA4==2 then
if GetUnitAbilityLevel(GetEnumUnit(),1093810001)==0 then
call UnitRemoveAbility(GetEnumUnit(),1093810003)
call LM7(GetEnumUnit(),1093810001)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810001,false)
endif
elseif AA4==3 then
if GetUnitAbilityLevel(GetEnumUnit(),1093810002)==0 then
call UnitRemoveAbility(GetEnumUnit(),1093810003)
call UnitRemoveAbility(GetEnumUnit(),1093810001)
call LM7(GetEnumUnit(),1093810002)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810002,false)
endif
elseif AA4==4 then
if GetUnitAbilityLevel(GetEnumUnit(),1093810004)==0 then
call UnitRemoveAbility(GetEnumUnit(),1093810003)
call UnitRemoveAbility(GetEnumUnit(),1093810001)
call UnitRemoveAbility(GetEnumUnit(),1093810002)
call LM7(GetEnumUnit(),1093810004)
call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810004,false)
endif
endif
endfunction
function C4G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local group FPE=(LoadGroupHandle(L7,(OC7),(340)))
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local group g=CX7()
if EC8==null or GetUnitTypeId(EC8)!=1160786520 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call ForGroup(FPE,function B2G)
call CW7(FPE)
call CW7(g)
return false
endif
set IN4=EC8
set AA4=GetUnitAbilityLevel(EC8,1093810006)
if LO7(EC8)==false then
call GroupEnumUnitsInRange(g,x,y,925,Condition(function GO8))
endif
call GroupRemoveGroup(g,FPE)
call ForGroup(FPE,function B2G)
if LO7(EC8)==false then
call ForGroup(g,function B_G)
endif
call SaveGroupHandle(L7,(OC7),(340),(g))
call CW7(FPE)
set t=null
set EC8=null
set FPE=null
set g=null
return false
endfunction
function C7G takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local integer i
local player p
call TriggerRegisterTimerEvent(t,0.3,true)
call TriggerAddCondition(t,Condition(function C4G))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveGroupHandle(L7,(OC7),(340),(CX7()))
set i=0
loop
exitwhen i>5
set p=Z7[i]
call SetPlayerAbilityAvailable(p,1093810003,false)
call SetPlayerAbilityAvailable(p,1093810001,false)
call SetPlayerAbilityAvailable(p,1093810002,false)
call SetPlayerAbilityAvailable(p,1093810004,false)
set p=A7[i]
call SetPlayerAbilityAvailable(p,1093810003,false)
call SetPlayerAbilityAvailable(p,1093810001,false)
call SetPlayerAbilityAvailable(p,1093810002,false)
call SetPlayerAbilityAvailable(p,1093810004,false)
set i=i+1
endloop
set t=null
set EC8=null
endfunction
function C8G takes nothing returns boolean
if GetLearnedSkill()==1093810006 and GetUnitAbilityLevel(GetTriggerUnit(),1093810006)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call C7G()
endif
return false
endfunction
function U18 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function C8G))
set t=null
endfunction
function C9G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
call AddUnitAnimationProperties(EC8,"alternate",false)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set EC8=null
return false
endfunction
function CDG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function C9G))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=null
set EC8=null
endfunction
function CEG takes nothing returns boolean
if(GetSpellAbilityId()==1093678899 or GetSpellAbilityId()==1093677898 or GetSpellAbilityId()==1093678154 or GetSpellAbilityId()==1093678157 or GetSpellAbilityId()==1093678158)and GetUnitTypeId(GetTriggerUnit())==1160786520 then
call CDG()
endif
return false
endfunction
function U08 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CEG))
set t=null
endfunction
function CFG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=GetUnitAbilityLevel(EC8,1093810518)
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093810519 then
call UnitRemoveAbility(EC8,1093810519)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093810519,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093810518,true)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call H78(EC8,O07,0.5+0.5*H98)
call SetUnitX(EC8,GetUnitX(O07))
call SetUnitY(EC8,GetUnitY(O07))
call IssueTargetOrder(EC8,"attack",O07)
call UnitShareVision(O07,GetOwningPlayer(EC8),false)
endif
else
call UnitRemoveAbility(EC8,1093810519)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093810519,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093810518,true)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call UnitShareVision(O07,GetOwningPlayer(EC8),false)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
return false
endfunction
function CGG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if GetTriggerEvalCount(GetTriggeringTrigger())>30 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
call D59(EC8)
endif
set t=null
set EC8=null
return false
endfunction
function CHG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07
local integer CP8=(LoadInteger(L7,(OC7),(34)))
local integer H98=GetUnitAbilityLevel(EC8,1093810518)
if CP8>60 then
call UnitRemoveAbility(EC8,1110459734)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>100 and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false then
call DT8(EC8,GetEventDamage())
set O07=M7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call D59(EC8)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if LO7(O07)==false then
call UnitShareVision(O07,GetOwningPlayer(EC8),true)
call LM7(EC8,1093810519)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093810519,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093810518,false)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterTimerEvent(t,4,false)
call TriggerAddCondition(t,Condition(function CFG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveEffectHandle(L7,(OC7),(175),(AddSpecialEffectTarget("war3mapImported\\RetaliationTarget.mdx",EC8,"origin")))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffectTarget("war3mapImported\\RetaliationTarget.mdx",O07,"origin")))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function CGG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
endif
endif
else
call SaveInteger(L7,(OC7),(34),(CP8+1))
endif
set t=null
set EC8=null
return false
endfunction
function CIG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function CHG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveInteger(L7,(OC7),(34),(0))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("war3mapImported\\RetaliationShield.mdx",EC8,"chest")))
set EC8=null
set t=null
endfunction
function CJG takes nothing returns boolean
if GetSpellAbilityId()==1093810518 then
call CIG()
endif
return false
endfunction
function Register_Retaliation takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CJG))
set t=null
endfunction
function CKG takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\ImmolationRed\\ImmolationRedDamage.mdl",GetEnumUnit(),"chest"))
call HD8(GW7,GetEnumUnit(),1,(25+5*GX7)/5)
endfunction
function CMG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer H98=GetUnitAbilityLevel(EC8,1093814355)
local group g
if GetUnitAbilityLevel(EC8,1110459984)==0 and GetUnitAbilityLevel(EC8,1110459985)==0 then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveAbility(EC8,1093814327)
call UnitRemoveAbility(EC8,1110459983)
call UnitRemoveAbility(EC8,1093814616)
call UnitRemoveAbility(EC8,1093814615)
call UnitRemoveAbility(EC8,1093814614)
call UnitRemoveAbility(EC8,1093814617)
else
set IN4=EC8
set GW7=EC8
set GX7=H98
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),400+25,Condition(function FT8))
call ForGroup(g,function CKG)
call CW7(g)
endif
set g=null
set t=null
set EC8=null
return false
endfunction
function CNG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(EC8),GetUnitY(EC8),0)
local integer H98=GetUnitAbilityLevel(EC8,1093814355)
call UnitAddAbility(H88,1093814325)
call SetUnitAbilityLevel(H88,1093814325,H98)
call IssueTargetOrder(H88,"antimagicshell",EC8)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function CMG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("war3mapImported\\FlameGuard.mdx",EC8,"origin")))
if H98==1 then
elseif H98==2 then
elseif H98==3 then
elseif H98==4 then
endif
set EC8=null
set H88=null
set t=null
endfunction
function COG takes nothing returns boolean
if GetSpellAbilityId()==1093814355 then
call CNG()
endif
return false
endfunction
function U28 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function COG))
set t=null
endfunction
function CPG takes unit EC8 returns nothing
call UnitRemoveAbility(EC8,1112500344)
call UnitRemoveAbility(EC8,1110454344)
endfunction
function CQG takes unit EC8 returns nothing
call UnitRemoveAbility(EC8,1093814329)
call UnitRemoveAbility(EC8,1110459981)
endfunction
function CRG takes unit EC8 returns nothing
call UnitRemoveAbility(EC8,1093814856)
call UnitRemoveAbility(EC8,1093814855)
call UnitRemoveAbility(EC8,1093814858)
call UnitRemoveAbility(EC8,1093814857)
call UnitRemoveAbility(EC8,1110459980)
endfunction
function CSG takes unit EC8 returns nothing
call LM7(EC8,1093814329)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093814329,false)
endfunction
function CTG takes unit EC8 returns nothing
local integer H98=GetUnitAbilityLevel(EC8,1093814320)
if H98==1 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093814856,false)
call LM7(EC8,1093814856)
elseif H98==2 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093814855,false)
call LM7(EC8,1093814855)
elseif H98==3 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093814858,false)
call LM7(EC8,1093814858)
elseif H98==4 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093814857,false)
call LM7(EC8,1093814857)
endif
endfunction
function CUG takes unit EC8,unit O07 returns nothing
local real a=GetRandomReal(0,360)
local real x=GetUnitX(O07)+50*Cos(a*bj_DEGTORAD)
local real y=GetUnitY(O07)+50*Sin(a*bj_DEGTORAD)
call SetUnitPosition(EC8,x,y)
call SetUnitFacing(EC8,bj_RADTODEG*Atan2(GetUnitY(O07)-GetUnitY(EC8),GetUnitX(O07)-GetUnitX(EC8)))
call SetUnitAnimation(EC8,"Attack")
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Fire_Blink_2.mdx",EC8,"chest"))
call CRG(EC8)
if IsUnitType(O07,UNIT_TYPE_HERO)==true or IsUnitIllusion(O07)==true then
call CTG(EC8)
call UnitRemoveAbility(EC8,1093814854)
else
call LM7(EC8,1093814854)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093814854,false)
endif
call IssueTargetOrder(EC8,"attack",O07)
endfunction
function CVG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
local real FAD=(LoadReal(L7,(OC7),(189)))
local real FBD=(LoadReal(L7,(OC7),(190)))
local group GAD=(LoadGroupHandle(L7,(OC7),(187)))
local group g=(LoadGroupHandle(L7,(OC7),(22)))
local unit O07=null
local boolean J9G=false
local fogmodifier X8D=(LoadFogModifierHandle(L7,(OC7),(42)))
local integer H98=GetUnitAbilityLevel(EC8,1093814320)
loop
exitwhen FirstOfGroup(g)==null or J9G
set O07=FirstOfGroup(g)
call GroupRemoveUnit(g,O07)
if IsUnitInGroup(O07,GAD)and O07!=null then
set O07=null
set J9G=false
else
set J9G=true
endif
endloop
call SetUnitPathing(EC8,false)
call SetUnitInvulnerable(EC8,true)
call FM8(EC8)
if J9G==false or((LoadInteger(L7,(GetHandleId((EC8))),((4319))))==1)==true then
call SaveInteger(L7,(GetHandleId((EC8))),((4318)),(2))
call CQG(EC8)
call UnitRemoveAbility(EC8,1093814854)
call CRG(EC8)
call FM8(EC8)
call CPG(EC8)
call UnitAddAbility(EC8,1093814322)
call UnitRemoveAbility(EC8,1093814322)
call FM8(EC8)
if((LoadInteger(L7,(GetHandleId((EC8))),((4319))))==1)==false then
call SetUnitX(EC8,FAD)
call SetUnitY(EC8,FBD)
endif
call SetUnitVertexColor(EC8,255,255,255,255)
call SetUnitPathing(EC8,true)
call SetUnitInvulnerable(EC8,false)
call SetUnitTimeScale(EC8,1)
call CW7(GAD)
call CW7(g)
call RemoveUnit((LoadUnitHandle(L7,(OC7),(19))))
call FogModifierStop(X8D)
call DestroyFogModifier(X8D)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
call GroupAddUnit(GAD,O07)
call CUG(EC8,O07)
endif
set t=null
set EC8=null
set O07=null
set g=null
set GAD=null
set X8D=null
return false
endfunction
function CWG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local fogmodifier X8D=CreateFogModifierRadius(GetOwningPlayer(EC8),FOG_OF_WAR_VISIBLE,x,y,600,true,true)
local unit H88=CreateUnit(GetOwningPlayer(EC8),1747993911,GetUnitX(EC8),GetUnitY(EC8),GetUnitFacing(EC8))
local group g=CX7()
local integer H98=GetUnitAbilityLevel(EC8,1093814320)
call SetUnitVertexColor(H88,255,255,255,100)
call FogModifierStart(X8D)
call SaveInteger(L7,(GetHandleId((EC8))),((4318)),(1))
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,150+100*H98+25,Condition(function FG8))
call FM8(EC8)
call CPG(EC8)
call UnitAddAbility(EC8,1093814321)
call UnitRemoveAbility(EC8,1093814321)
call SetUnitVertexColor(EC8,255,255,255,125)
call SetUnitPathing(EC8,false)
call SetUnitInvulnerable(EC8,true)
call SetUnitTimeScale(EC8,3)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function CVG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
call SaveReal(L7,(OC7),(189),((GetUnitX(EC8))*1.0))
call SaveReal(L7,(OC7),(190),((GetUnitY(EC8))*1.0))
call SaveGroupHandle(L7,(OC7),(187),(CX7()))
call SaveGroupHandle(L7,(OC7),(22),(g))
call SaveFogModifierHandle(L7,(OC7),(42),(X8D))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call CSG(EC8)
call TriggerEvaluate(t)
set EC8=null
set t=null
set X8D=null
set H88=null
set g=null
endfunction
function CXG takes nothing returns boolean
if GetSpellAbilityId()==1093814320 then
call CWG()
endif
return false
endfunction
function CYG takes nothing returns boolean
local unit B58=GetSummonedUnit()
if IsUnitIllusion(B58)==true and GetUnitTypeId(B58)==1311788360 then
call CQG(B58)
call UnitRemoveAbility(B58,1093814854)
call CRG(B58)
call UnitAddAbility(B58,1093814322)
call UnitRemoveAbility(B58,1093814322)
endif
set B58=null
return false
endfunction
function U_8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CXG))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function CYG))
set t=null
endfunction
function CZG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=GetUnitAbilityLevel(EC8,1093814323)
local integer EJD=2
if H98>2 then
set EJD=3
endif
if GetTriggerEvalCount(t)==EJD then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
call HD8(EC8,O07,1,20+20*H98)
set t=null
set EC8=null
set O07=null
return false
endfunction
function CAG takes nothing returns nothing
local unit EC8=IN4
local unit O07=IP4
local unit H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call UnitAddAbility(H88,1093814324)
call IssueTargetOrder(H88,"ensnare",O07)
call TriggerAddCondition(t,Condition(function CZG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call TriggerRegisterTimerEvent(t,0,false)
call TriggerRegisterTimerEvent(t,1,true)
set H88=null
set EC8=null
set O07=null
endfunction
function CBG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local group g=CX7()
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local unit u1=null
local unit u2=null
local unit u3=null
local integer QD7=0
local unit u
local trigger t
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,425,Condition(function GG8))
loop
exitwhen FirstOfGroup(g)==null or QD7==2
set u=GroupPickRandomUnit(g)
if u!=null then
if QD7==0 then
set u1=u
elseif QD7==1 then
set u2=u
elseif QD7==2 then
set u3=u
endif
set QD7=QD7+1
call GroupRemoveUnit(g,u)
endif
endloop
call CW7(g)
if u1!=null then
call EK8(EC8,u1,1747993904,"CAG",9000)
endif
if u2!=null then
call EK8(EC8,u2,1747993904,"CAG",9000)
endif
if u3!=null then
endif
set g=null
set EC8=null
set u=null
set u1=null
set u2=null
set u3=null
endfunction
function CCG takes nothing returns boolean
if GetSpellAbilityId()==1093814323 then
call CBG()
endif
return false
endfunction
function U58 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function CCG))
set t=null
endfunction
function C3G takes nothing returns boolean
local unit EC8=(LoadUnitHandle(L7,(GetHandleId(GetTriggeringTrigger())),(2)))
local integer OC7=GetHandleId(EC8)
local integer i=0
local real YUG=(TimerGetElapsed(W))
local integer C6G=(LoadInteger(L7,(OC7),(749)))
local real x
local real y
local real t
loop
exitwhen i>C6G
set t=(LoadReal(L7,(OC7),(10000+i)))
if t+10>YUG then
set x=(LoadReal(L7,(OC7),(11000+i)))
set y=(LoadReal(L7,(OC7),(12000+i)))
endif
set i=i+1
endloop
set EC8=null
return false
endfunction
function CLG takes integer OC7,integer C6G,real EH8,real EI8 returns boolean
local real x
local real y
local real t
local integer i=0
local real YUG=(TimerGetElapsed(W))
loop
exitwhen i>C6G
set t=(LoadReal(L7,(OC7),(10000+i)))
if t+10>YUG then
set x=(LoadReal(L7,(OC7),(11000+i)))
set y=(LoadReal(L7,(OC7),(12000+i)))
if RF7(x,y,EH8,EI8)<75 then
return true
endif
endif
set i=i+1
endloop
return false
endfunction
function C1G takes integer OC7,integer C6G returns integer
local real t
local integer i=0
local real YUG=(TimerGetElapsed(W))
loop
exitwhen i>C6G
set t=(LoadReal(L7,(OC7),(10000+i)))
if t+10<YUG then
return i
endif
set i=i+1
endloop
return-1
endfunction
function C0G takes unit EC8,integer C5G,real x,real y returns nothing
local integer OC7=GetHandleId(EC8)
local integer C6G=(LoadInteger(L7,(OC7),(749)))
local integer C2G
if CLG(OC7,C6G,x,y)then
return
endif
set C2G=C1G(OC7,C6G)
if C2G==-1 then
set C2G=C6G
set C6G=C6G+1
call SaveInteger(L7,(OC7),(749),(C6G))
endif
call SaveInteger(L7,(OC7),(13000),(C5G))
call SaveReal(L7,(OC7),(10000),(((TimerGetElapsed(W)))*1.0))
call SaveReal(L7,(OC7),(11000),((x)*1.0))
call SaveReal(L7,(OC7),(11000),((y)*1.0))
endfunction
function C_G takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function C3G))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set EC8=null
set t=null
endfunction
function L4G takes nothing returns nothing
call HD8(GZ7,GetEnumUnit(),1,50+GY7*50)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",GetEnumUnit(),"origin"))
endfunction
function L7G takes unit EC8,unit PQD,real x,real y returns nothing
local group g
call KillUnit(PQD)
call DZ8("war3mapImported\\Firaga_2.mdx",x,y,2)
set g=CX7()
set IN4=EC8
set GZ7=EC8
set GY7=GetUnitAbilityLevel(EC8,1093814859)
call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function FT8))
call UnitRemoveAbility(EC8,1093678162)
call ForGroup(g,function L4G)
call LM7(EC8,1093678162)
call CW7(g)
set g=null
endfunction
function L8G takes unit EC8,unit L9G returns nothing
local integer OC7=GetHandleId(EC8)
local integer LDG=(LoadInteger(L7,(OC7),(746)))
local unit LEG
local integer i=1
local integer x
loop
exitwhen i>LDG
set LEG=(LoadUnitHandle(L7,(OC7),(1450+i)))
if LEG==L9G then
set LDG=LDG-1
call SaveUnitHandle(L7,(OC7),(1450+i),((LoadUnitHandle(L7,(OC7),(1450+i+1)))))
call SaveInteger(L7,(OC7),(746),(LDG))
set x=i+1
loop
exitwhen x>LDG
call SaveUnitHandle(L7,(OC7),(1450+x),((LoadUnitHandle(L7,(OC7),(1450+x+1)))))
set x=x+1
endloop
endif
set i=i+1
endloop
set LEG=null
endfunction
function LFG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit PQD=(LoadUnitHandle(L7,(OC7),(19)))
local real ZB9=GetUnitX(PQD)
local real ZC9=GetUnitY(PQD)
local real ED8=(LoadReal(L7,(OC7),(47)))
local real EE8=(LoadReal(L7,(OC7),(48)))
local real a=PP7(ZB9,ZC9,ED8,EE8)*bj_DEGTORAD
local real EH8
local real EI8
local real d=RF7(ZB9,ZC9,ED8,EE8)
local real JJD=GetUnitMoveSpeed(EC8)*2.5*0.02
local group g
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call L8G(EC8,PQD)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(177))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif d<2 then
call SetUnitAnimationByIndex(PQD,1)
else
if d<JJD then
set EH8=ED8
set EI8=EE8
else
set EH8=ZB9+JJD*Cos(a)
set EI8=ZC9+JJD*Sin(a)
endif
call SetUnitX(PQD,EH8)
call SetUnitY(PQD,EI8)
endif
set t=null
set EC8=null
set PQD=null
return false
endfunction
function LGG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local real a=PP7(GetUnitX(EC8),GetUnitY(EC8),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORAD
local integer OC7=GetHandleId(EC8)
local integer LDG=(LoadInteger(L7,(OC7),(746)))
local integer H98=GetUnitAbilityLevel(EC8,1093814859)
local unit LEG=(LoadUnitHandle(L7,(OC7),(1450+1)))
local unit LHG=CreateUnit(GetOwningPlayer(EC8),1747993912,GetUnitX(EC8),GetUnitY(EC8),a*bj_RADTODEG)
local trigger t
local integer i=1
set LDG=LDG+1
call SaveUnitHandle(L7,(OC7),(1450+LDG),(LHG))
call SaveInteger(L7,(OC7),(746),(LDG))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call SetUnitVertexColor(LHG,255,255,255,75)
call SetUnitTimeScale(LHG,2)
call SetUnitAnimationByIndex(LHG,0)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function LFG))
call TriggerRegisterDeathEvent(t,LHG)
call UnitApplyTimedLife(LHG,1112820806,45)
call SaveEffectHandle(L7,(OC7),(175),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",LHG,"hand right alternate")))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",LHG,"hand left alternate")))
call SaveEffectHandle(L7,(OC7),(177),(AddSpecialEffectTarget("war3mapImported\\FlameDash_Ground.mdx",LHG,"origin")))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(19),(LHG))
call SaveReal(L7,(OC7),(47),((GetSpellTargetX())*1.0))
call SaveReal(L7,(OC7),(48),((GetSpellTargetY())*1.0))
set EC8=null
set t=null
set LEG=null
set LHG=null
endfunction
function LIG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local integer U4E=(LoadInteger(L7,(GetHandleId(EC8)),(747)))
if U4E>0 then
call LGG()
call UnitRemoveAbility(EC8,G67[U4E])
set U4E=U4E-1
call SaveInteger(L7,(GetHandleId(EC8)),(747),(U4E))
call LM7(EC8,G67[U4E])
else
call L27(GetOwningPlayer(GetTriggerUnit()),"No more charges")
endif
set EC8=null
endfunction
function LJG takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1747993912
endfunction
function LKG takes nothing returns nothing
local real EME=RF7(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),GA7,GB7)
if EME>GC7 and LO7(GetEnumUnit())==false then
set G37=GetEnumUnit()
set GC7=EME
endif
endfunction
function LMG takes unit EC8,real x,real y returns unit
local group g=CX7()
set G37=null
set GC7=-1
set GA7=x
set GB7=y
call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(EC8),Condition(function LJG))
call ForGroup(g,function LKG)
call CW7(g)
set g=null
return G37
endfunction
function FireRemnant_FindTargetClosest takes nothing returns nothing
local real EME=RF7(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),GA7,GB7)
if EME<GC7 and LO7(GetEnumUnit())==false then
set G37=GetEnumUnit()
set GC7=EME
endif
endfunction
function LNG takes unit u1,unit u2 returns real
local real DKD=RE7(u1,u2)
local real GM9=DKD/1300.0
if GM9>0.4 then
return DKD/0.4
endif
return 1300.0
endfunction
function LOG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real OSE=(LoadReal(L7,(OC7),(47)))
local real OTE=(LoadReal(L7,(OC7),(48)))
local unit PQD=(LoadUnitHandle(L7,(OC7),(19)))
local real ZB9=GetUnitX(EC8)
local real ZC9=GetUnitY(EC8)
local real ED8=(LoadReal(L7,(OC7),(6)))
local real EE8=(LoadReal(L7,(OC7),(7)))
local real a
local real EH8
local real EI8
local real d
local real LPG=(LoadReal(L7,(OC7),(44)))
local real JJD=LPG*0.02
local group g
local integer CP8=(LoadInteger(L7,(OC7),(34)))
if PQD!=null then
set ED8=GetUnitX(PQD)
set EE8=GetUnitY(PQD)
call SaveReal(L7,(OC7),(6),((ED8)*1.0))
call SaveReal(L7,(OC7),(7),((EE8)*1.0))
endif
set a=PP7(ZB9,ZC9,ED8,EE8)*bj_DEGTORAD
set d=RF7(ZB9,ZC9,ED8,EE8)
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call SaveInteger(L7,(GetHandleId((EC8))),((4319)),(2))
call SetUnitVertexColor(EC8,255,255,255,255)
call SetUnitTimeScale(EC8,1)
call SetUnitAnimationByIndex(EC8,0)
call SetUnitPathing(EC8,true)
call SetUnitInvulnerable(EC8,false)
call UnitRemoveAbility(EC8,1093678162)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(177))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif d<JJD then
call SetUnitX(EC8,ED8)
call SetUnitY(EC8,EE8)
call L7G(EC8,PQD,ED8,EE8)
set PQD=LMG(EC8,OSE,OTE)
if PQD==null then
call SaveInteger(L7,(GetHandleId((EC8))),((4319)),(2))
call D28(ED8,EE8,100)
call SetUnitVertexColor(EC8,255,255,255,255)
call SetUnitTimeScale(EC8,1)
call SetUnitAnimationByIndex(EC8,1)
call SetUnitPathing(EC8,true)
call SetUnitInvulnerable(EC8,false)
call UnitRemoveAbility(EC8,1093678162)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(177))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
call SaveInteger(L7,(OC7),(34),(CP8+1))
call SaveUnitHandle(L7,(OC7),(19),(PQD))
call SaveReal(L7,(OC7),(44),((LNG(EC8,PQD))*1.0))
call SaveReal(L7,(OC7),(6),((GetUnitX(PQD))*1.0))
call SaveReal(L7,(OC7),(7),((GetUnitY(PQD))*1.0))
endif
else
call SetUnitAnimationByIndex(EC8,0)
call SetUnitPathing(EC8,false)
set EH8=ZB9+JJD*Cos(a)
set EI8=ZC9+JJD*Sin(a)
call SetUnitX(EC8,EH8)
call SetUnitY(EC8,EI8)
call SetUnitFacing(EC8,a*bj_RADTODEG)
endif
call C0G(EC8,CP8,GetUnitX(EC8),GetUnitY(EC8))
set t=null
set EC8=null
set PQD=null
return false
endfunction
function LQG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
call SetUnitState(EC8,UNIT_STATE_MANA,GetUnitState(EC8,UNIT_STATE_MANA)+150)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set EC8=null
return false
endfunction
function LRG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t
local integer OC7=GetHandleId(EC8)
local integer LDG=(LoadInteger(L7,(OC7),(746)))
local unit PQD
if LDG>0 and((LoadInteger(L7,(GetHandleId((EC8))),((4319))))==1)==false then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call SetUnitVertexColor(EC8,255,0,0,75)
call SetUnitTimeScale(EC8,2)
call SetUnitAnimationByIndex(EC8,0)
call SetUnitPathing(EC8,false)
call SetUnitInvulnerable(EC8,true)
call LM7(EC8,1093678162)
call SaveInteger(L7,(GetHandleId((EC8))),((4319)),(1))
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function LOG))
call TriggerRegisterDeathEvent(t,EC8)
call SaveEffectHandle(L7,(OC7),(175),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",EC8,"hand right alternate")))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",EC8,"hand left alternate")))
call SaveEffectHandle(L7,(OC7),(177),(AddSpecialEffectTarget("war3mapImported\\FlameDash_Ground.mdx",EC8,"origin")))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(47),((GetSpellTargetX())*1.0))
call SaveReal(L7,(OC7),(48),((GetSpellTargetY())*1.0))
set PQD=LMG(EC8,GetSpellTargetX(),GetSpellTargetY())
call SaveUnitHandle(L7,(OC7),(19),(PQD))
call SaveReal(L7,(OC7),(44),((LNG(EC8,PQD))*1.0))
call SaveReal(L7,(OC7),(6),((GetUnitX(PQD))*1.0))
call SaveReal(L7,(OC7),(7),((GetUnitY(PQD))*1.0))
call SaveInteger(L7,(OC7),(34),(1))
else
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.0,false)
call TriggerAddCondition(t,Condition(function LQG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
endif
set t=null
set EC8=null
set PQD=null
endfunction
function LSG takes nothing returns boolean
if GetSpellAbilityId()==G67[0]or GetSpellAbilityId()==G67[1]or GetSpellAbilityId()==G67[2]or GetSpellAbilityId()==G67[3]then
call LIG()
elseif GetSpellAbilityId()==1093814860 then
call LRG()
endif
return false
endfunction
function LTG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer U4E=(LoadInteger(L7,(GetHandleId(EC8)),(747)))
local integer CP8=(LoadInteger(L7,(OC7),(34)))
if U4E<3 then
set CP8=CP8-1
call SaveInteger(L7,(OC7),(34),(CP8))
if CP8==0 then
call UnitRemoveAbility(EC8,G67[U4E])
set CP8=35
call SaveInteger(L7,(OC7),(34),(CP8))
set U4E=U4E+1
call SaveInteger(L7,(GetHandleId(EC8)),(747),(U4E))
call LM7(EC8,G67[U4E])
endif
endif
set t=null
set EC8=null
return false
endfunction
function LUG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call SaveInteger(L7,(GetHandleId(EC8)),(747),(3))
call LM7(EC8,G67[3])
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function LTG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveInteger(L7,(OC7),(34),(30))
set EC8=null
set t=null
endfunction
function LVG takes nothing returns boolean
if GetLearnedSkill()==1093814859 and IsUnitIllusion(GetTriggerUnit())==false then
call LM7(GetTriggerUnit(),1093814860)
call SetUnitAbilityLevel(GetTriggerUnit(),1093814860,GetUnitAbilityLevel(GetTriggerUnit(),1093814859))
if GetUnitAbilityLevel(GetTriggerUnit(),1093814859)==1 then
call LUG()
call C_G()
endif
endif
return false
endfunction
function V48 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LSG))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function LVG))
set t=null
set G67[0]=1093814863
set G67[1]=1093814865
set G67[2]=1093814864
set G67[3]=1093814866
endfunction
function LWG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()>2 and GL7 then
set GL7=false
call HD8(GetEventDamageSource(),O07,3,GetEventDamage()*0.25)
set GL7=true
endif
else
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function LXG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(O07),GetUnitY(O07),0)
local integer H98=GetUnitAbilityLevel(EC8,1093812536)
set GL7=true
call UnitAddAbility(H88,1093812535)
call SetUnitAbilityLevel(H88,1093812535,H98)
call IssueTargetOrder(H88,"soulburn",O07)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterDeathEvent(t,O07)
call TriggerRegisterTimerEvent(t,2+H98,false)
call TriggerAddCondition(t,Condition(function LWG))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
set EC8=null
set O07=null
set t=null
endfunction
function LYG takes nothing returns boolean
if GetSpellAbilityId()==1093812536 then
call LXG()
endif
return false
endfunction
function Register_ArcaneSeal takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LYG))
set t=null
endfunction
function LZG takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local real a=(LoadReal(L7,(OC7),(137)))
local real d=(LoadReal(L7,(OC7),(138)))
local real x=D78(GetUnitX(O07)+d/10*Cos(a))
local real y=D88(GetUnitY(O07)+d/10*Sin(a))
if GetTriggerEvalCount(t)==11 or GetTriggerEventId()==EVENT_UNIT_DEATH then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
call DestroyEffect(AddSpecialEffect("war3mapImported\\ThrustMovement.mdx",x,y))
call D28(x,y,150)
call SetUnitX(O07,x)
call SetUnitY(O07,y)
endif
set O07=null
set t=null
return false
endfunction
function LAG takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local integer H98=GetUnitAbilityLevel(EC8,1093812537)
local real a
local real x
local real y
local real d
local integer i=-1
local boolean JDG=false
if EC8==O07 then
set a=GetUnitFacing(EC8)*bj_DEGTORAD
else
set a=PO7(EC8,O07)*bj_DEGTORAD
endif
loop
exitwhen JDG or i==23
set i=i+1
set x=D78(GetUnitX(O07)+(350-i*25)*Cos(a))
set y=D88(GetUnitY(O07)+(350-i*25)*Sin(a))
if(IsPointInRegion(IU4,((x)*1.0),((y)*1.0)))==false then
set JDG=true
endif
endloop
set d=RF7(x,y,GetUnitX(O07),GetUnitY(O07))
call TriggerRegisterTimerEvent(t,0.03,true)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function LZG))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveReal(L7,(OC7),(137),((a)*1.0))
call SaveReal(L7,(OC7),(138),((d)*1.0))
if IsUnitAlly(EC8,GetOwningPlayer(O07))==true then
call SetUnitState(O07,UNIT_STATE_LIFE,GetUnitState(O07,UNIT_STATE_LIFE)+50+50*H98)
else
call HD8(EC8,O07,3,50+50*H98)
endif
set EC8=null
set O07=null
set t=null
endfunction
function LBG takes nothing returns boolean
if GetSpellAbilityId()==1093812537 then
call LAG()
endif
return false
endfunction
function Register_Thrust takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function LBG))
set t=null
endfunction
function LCG takes nothing returns nothing
call IssueTargetOrder(G17,"ensnare",GetEnumUnit())
call HD8(GetTriggerUnit(),GetEnumUnit(),1,60*G07)
endfunction
function L3G takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local group g1=CX7()
local group g2=CX7()
local integer H98=GetUnitAbilityLevel(EC8,1093812534)
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
set G07=H98
set G17=CreateUnit(GetOwningPlayer(EC8),1697656901,x,y,0)
call UnitAddAbility(G17,1093812549)
call SetUnitAbilityLevel(G17,1093812549,H98)
call GroupEnumUnitsInRange(g1,x,y,425,Condition(function F58))
call GroupEnumUnitsInRange(g2,x,y,825,Condition(function F58))
call GroupRemoveGroup(g1,g2)
call ForGroup(g2,function LCG)
call CW7(g1)
call CW7(g2)
call DestroyEffect(AddSpecialEffect("war3mapImported\\ConjureForceAoE.mdx",x,y))
set EC8=null
set g1=null
set g2=null
endfunction
function L6G takes nothing returns boolean
if GetSpellAbilityId()==1093812534 then
call L3G()
endif
return false
endfunction
function Register_ConjureForce takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function L6G))
set t=null
endfunction
function LLG takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),G27)==false then
call GroupAddUnit(G27,GetEnumUnit())
call HD8(G57,GetEnumUnit(),3,G_7)
endif
endfunction
function L1G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local group g=(LoadGroupHandle(L7,(OC7),(22)))
local unit E98=(LoadUnitHandle(L7,(OC7),(45)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local real Z_9=(LoadReal(L7,(OC7),(13)))
local real B19=(LoadReal(L7,(OC7),(20)))
local group L0G
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real x
local real y
if GetTriggerEvalCount(t)>67 then
call CW7(g)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call KillUnit(E98)
else
set x=GetUnitX(E98)
set y=GetUnitY(E98)
set L0G=CX7()
set G27=g
set IN4=E98
set G57=EC8
set G_7=B19
call GroupEnumUnitsInRange(L0G,x,y,225,Condition(function FC8))
call ForGroup(L0G,function LLG)
call CW7(L0G)
call SetUnitX(E98,D78(x+15*Cos(Z_9*bj_DEGTORAD)))
call SetUnitY(E98,D88(y+15*Sin(Z_9*bj_DEGTORAD)))
endif
set t=null
set g=null
set L0G=null
set EC8=null
set E98=null
return false
endfunction
function L5G takes unit EC8,real B19,real x,real y returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local group g=CX7()
local real x1=GetUnitX(EC8)
local real y1=GetUnitY(EC8)
local real x2=x
local real y2=y
local real Z_9=PP7(x1,y1,x2,y2)
local integer H98=GetUnitAbilityLevel(EC8,1093812545)
local unit E98=CreateUnit(GetOwningPlayer(EC8),1747993673,x1,y1,Z_9)
call SetUnitScale(E98,1.5,1.5,1.5)
call SaveUnitHandle(L7,(OC7),(45),(E98))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveGroupHandle(L7,(OC7),(22),(g))
call SaveReal(L7,(OC7),(13),((Z_9)*1.0))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(20),((B19)*1.0))
call TriggerRegisterTimerEvent(t,0.015,true)
call TriggerAddCondition(t,Condition(function L1G))
set t=null
set E98=null
set g=null
endfunction
function L2G takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local boolean L_G=(LoadBoolean(L7,(OC7),(95)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812546,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812545,true)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if L_G==false and GetEventDamage()>2 and GetEventDamage()<3000 and IsUnitIllusion(O07)==false then
call SaveReal(L7,(OC7),(20),(((LoadReal(L7,(OC7),(20)))+GetEventDamage())*1.0))
call DT8(O07,GetEventDamage())
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST then
if GetSpellAbilityId()==1093812545 then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call SaveBoolean(L7,(OC7),(95),(true))
endif
elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093812546 then
call L5G(EC8,(LoadReal(L7,(OC7),(20))),GetSpellTargetX(),GetSpellTargetY())
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812546,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812545,true)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
else
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812546,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812545,true)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function D4H takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call LM7(EC8,1093812546)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812546,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812545,false)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_ENDCAST)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerRegisterTimerEvent(t,20,false)
call TriggerAddCondition(t,Condition(function L2G))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveBoolean(L7,(OC7),(95),(false))
call SaveEffectHandle(L7,(OC7),(175),(AddSpecialEffectTarget("war3mapImported\\WispShellBlue_2.mdx",EC8,"origin")))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffectTarget("war3mapImported\\DivineWrathTarget.mdx",O07,"origin")))
set EC8=null
set O07=null
set t=null
endfunction
function D7H takes nothing returns boolean
if GetSpellAbilityId()==1093812545 then
call D4H()
endif
return false
endfunction
function Register_DivineWrath takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D7H))
set t=null
endfunction
function D8H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or GetSpellAbilityId()==1093812804 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812803,true)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812804,false)
call UnitRemoveAbility(EC8,1097167980)
call UnitRemoveAbility(EC8,1093812787)
call UnitRemoveAbility(EC8,1093812784)
call UnitRemoveAbility(EC8,1093812785)
call UnitRemoveAbility(EC8,1093812786)
call UnitRemoveAbility(EC8,1110459954)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
return false
endfunction
function D9H takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093812803)
call TriggerRegisterTimerEvent(t,5,false)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function D8H))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call UnitAddAbility(EC8,1093812804)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812803,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812804,true)
call UnitAddAbility(EC8,1097167980)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1097167980,false)
if H98==1 then
call UnitAddAbility(EC8,1093812787)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812787,false)
elseif H98==2 then
call UnitAddAbility(EC8,1093812784)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812784,false)
elseif H98==3 then
call UnitAddAbility(EC8,1093812785)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812785,false)
elseif H98==4 then
call UnitAddAbility(EC8,1093812786)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093812786,false)
endif
set t=null
set EC8=null
endfunction
function DDH takes nothing returns boolean
if GetSpellAbilityId()==1093812803 then
call D9H()
endif
return false
endfunction
function Register_Wraith takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DDH))
set t=null
endfunction
function DEH takes unit EC8,unit VCE,unit O07,integer H98 returns nothing
call H78(EC8,O07,1.25+0.25*H98)
call HD8(EC8,O07,1,40*H98)
call KillUnit(VCE)
endfunction
function DFH takes nothing returns boolean
if(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(IN4))==true or FU8(GetFilterUnit())==false)then
return IsUnitInGroup(GetFilterUnit(),IL7)==false
endif
return false
endfunction
function DGH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local group g
local integer i=1
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
local real a=(LoadReal(L7,(OC7),(137)))
local unit VCE
local unit O07
local real ED8=(LoadReal(L7,(OC7),(47)))
local real EE8=(LoadReal(L7,(OC7),(48)))
local group GAD=(LoadGroupHandle(L7,(OC7),(187)))
set IL7=GAD
set x=D78(x+12*Cos(a))
set y=D88(y+12*Sin(a))
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
if GetTriggerEvalCount(t)>39 then
loop
exitwhen i>3
call KillUnit((LoadUnitHandle(L7,(OC7),(393+i-1))))
set i=i+1
endloop
call CW7(GAD)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set g=CX7()
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,275,Condition(function DFH))
loop
exitwhen i>3
if(LoadBoolean(L7,(OC7),(511+i-1)))==false then
set VCE=(LoadUnitHandle(L7,(OC7),(393+i-1)))
set x=(LoadReal(L7,(OC7),(549+i-1)))
set y=(LoadReal(L7,(OC7),(567+i-1)))
set x=D78(x+12*Cos(a))
set y=D88(y+12*Sin(a))
call SaveReal(L7,(OC7),(549+i-1),((x)*1.0))
call SaveReal(L7,(OC7),(567+i-1),((y)*1.0))
call SetUnitX(VCE,x)
call SetUnitY(VCE,y)
set O07=GroupPickRandomUnit(g)
if O07!=null then
call GroupRemoveUnit(g,O07)
call SaveInteger(L7,(GetHandleId((O07))),((4314)),(1))
call SaveBoolean(L7,(OC7),(511+i-1),(true))
call DEH(EC8,VCE,O07,GetUnitAbilityLevel(EC8,1093812788))
endif
endif
set i=i+1
endloop
call CW7(g)
set g=null
set VCE=null
set O07=null
endif
set t=null
set EC8=null
return false
endfunction
function DHH takes nothing returns nothing
local real ED8=GetSpellTargetX()
local real EE8=GetSpellTargetY()
local unit EC8=GetTriggerUnit()
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local real a=PP7(x,y,ED8,EE8)*bj_DEGTORAD
local real b
local unit H88
local real EH8=D78(x+500*Cos(a))
local real EI8=D88(y+500*Sin(a))
local integer i=0
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local real WG9
local integer H98=GetUnitAbilityLevel(EC8,1093812788)
local integer BD7=1747993678
set i=i+1
set b=a*bj_RADTODEG+90
if b>360 then
set b=b-360
endif
set b=b*bj_DEGTORAD
set H88=CreateUnit(GetOwningPlayer(EC8),BD7,x+100*Cos(a)+100*Cos(b),y+100*Sin(a)+100*Sin(b),a*bj_RADTODEG)
call SaveUnitHandle(L7,(OC7),(393+i-1),(H88))
call SaveBoolean(L7,(OC7),(511+i-1),(false))
call SaveReal(L7,(OC7),(549+i-1),((GetUnitX(H88))*1.0))
call SaveReal(L7,(OC7),(567+i-1),((GetUnitY(H88))*1.0))
set i=i+1
set b=a*bj_RADTODEG-90
if b<0 then
set b=360+b
endif
set b=b*bj_DEGTORAD
set H88=CreateUnit(GetOwningPlayer(EC8),BD7,x+100*Cos(a)+100*Cos(b),y+100*Sin(a)+100*Sin(b),a*bj_RADTODEG)
call SaveUnitHandle(L7,(OC7),(393+i-1),(H88))
call SaveBoolean(L7,(OC7),(511+i-1),(false))
call SaveReal(L7,(OC7),(549+i-1),((GetUnitX(H88))*1.0))
call SaveReal(L7,(OC7),(567+i-1),((GetUnitY(H88))*1.0))
set i=i+1
set H88=CreateUnit(GetOwningPlayer(EC8),BD7,x+100*Cos(a),y+100*Sin(a),a*bj_RADTODEG)
call SaveUnitHandle(L7,(OC7),(393+i-1),(H88))
call SaveBoolean(L7,(OC7),(511+i-1),(false))
call SaveReal(L7,(OC7),(549+i-1),((GetUnitX(H88))*1.0))
call SaveReal(L7,(OC7),(567+i-1),((GetUnitY(H88))*1.0))
call TriggerRegisterTimerEvent(t,0.015,true)
call TriggerAddCondition(t,Condition(function DGH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
call SaveReal(L7,(OC7),(137),((a)*1.0))
call SaveReal(L7,(OC7),(47),((EH8)*1.0))
call SaveReal(L7,(OC7),(48),((EI8)*1.0))
call SaveGroupHandle(L7,(OC7),(187),(CX7()))
set EC8=null
set H88=null
set t=null
endfunction
function DIH takes nothing returns boolean
if GetSpellAbilityId()==1093812788 then
call DHH()
endif
return false
endfunction
function VY8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DIH))
set t=null
endfunction
function DJH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer CP8=GetTriggerEvalCount(t)
local integer H98=GetUnitAbilityLevel(EC8,1093812789)
if CP8==6 then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitShareVision(O07,GetOwningPlayer(EC8),false)
endif
call HD8(EC8,O07,1,20+10*H98)
set t=null
set EC8=null
set O07=null
return false
endfunction
function DKH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerAddCondition(t,Condition(function DJH))
call SaveUnitHandle(L7,(OC7),(2),(GetTriggerUnit()))
call SaveUnitHandle(L7,(OC7),(17),(GetEnumUnit()))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("Abilities\\Weapons\\BansheeMissile\\BansheeMissile.mdl",GetEnumUnit(),"overhead")))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",GetEnumUnit(),"origin"))
call UnitShareVision(GetEnumUnit(),GetOwningPlayer(GetTriggerUnit()),true)
set t=null
endfunction
function DMH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local group g=CX7()
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(EC8),GetUnitY(EC8),0)
call UnitAddAbility(H88,1093812791)
call IssueImmediateOrderById(H88,852625)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",GetUnitX(EC8),GetUnitY(EC8)))
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),625,Condition(function F58))
call ForGroup(g,function DKH)
call CW7(g)
set g=null
set EC8=null
set H88=null
endfunction
function DNH takes nothing returns boolean
if GetSpellAbilityId()==1093812789 then
call DMH()
endif
return false
endfunction
function Register_Miasma takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DNH))
set t=null
endfunction
function GetTotalMinutes takes nothing returns integer
return R2I((TimerGetElapsed(W))/60)
endfunction
function DOH takes unit EC8,integer DPH returns nothing
local integer JKD=GetHeroAgi(EC8,false)
local integer JMD=GetHeroStr(EC8,false)
local integer DQH=GetHeroInt(EC8,false)
call SetHeroAgi(EC8,JKD-DPH,true)
call SetHeroStr(EC8,JMD-DPH,true)
call SetHeroInt(EC8,DQH-DPH,true)
endfunction
function DRH takes unit EC8,integer DPH returns nothing
local integer JKD=GetHeroAgi(EC8,false)
local integer JMD=GetHeroStr(EC8,false)
local integer DQH=GetHeroInt(EC8,false)
call SetHeroAgi(EC8,JKD+DPH,true)
call SetHeroStr(EC8,JMD+DPH,true)
call SetHeroInt(EC8,DQH+DPH,true)
endfunction
function DSH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer DTH=(LoadInteger(L7,(OC7),(744)))
local integer H98=GetUnitAbilityLevel(EC8,1093814066)
local integer DZ9=(R2I((TimerGetElapsed(W))/60))
local real DUH=H98+1+(0.1+0.1*H98)*DZ9
local integer DVH=3+3*H98+R2I((0.1+0.1*H98)*DZ9)
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093814066 then
if O07!=null and O07!=GetSpellTargetUnit()then
call UnitRemoveAbility(O07,1093814607)
call DOH(O07,DTH)
call DOH(EC8,DTH)
call SaveInteger(L7,(OC7),(744),(0))
endif
set O07=GetSpellTargetUnit()
call SaveUnitHandle(L7,(OC7),(17),(O07))
call LM7(O07,1093814607)
call DY8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",EC8,"chest",1.9)
call DY8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",O07,"chest",1.9)
return false
else
return false
endif
endif
if O07==null then
elseif LO7(O07)or LO7(EC8)or RE7(EC8,O07)>1400 then
call DOH(EC8,DTH)
call DOH(O07,DTH)
call SaveInteger(L7,(OC7),(744),(0))
call UnitRemoveAbility(EC8,1093814607)
call UnitRemoveAbility(O07,1093814607)
else
if GetUnitAbilityLevel(EC8,1093814607)==0 then
call LM7(EC8,1093814607)
endif
if GetUnitAbilityLevel(O07,1093814607)==0 then
call LM7(O07,1093814607)
endif
if DTH!=DVH then
call DRH(EC8,DVH-DTH)
call DRH(O07,DVH-DTH)
call SaveInteger(L7,(OC7),(744),(DVH))
endif
call SetUnitState(EC8,UNIT_STATE_LIFE,GetUnitState(EC8,UNIT_STATE_LIFE)+DUH)
call SetUnitState(O07,UNIT_STATE_LIFE,GetUnitState(O07,UNIT_STATE_LIFE)+DUH)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function DWH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DSH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(null))
call SaveInteger(L7,(OC7),(744),(0))
set t=null
set EC8=null
endfunction
function DXH takes nothing returns boolean
if GetLearnedSkill()==1093814066 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093814066)==1 then
call DWH()
endif
return false
endfunction
function Register_Brotherhood takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function DXH))
set t=null
endfunction
function DYH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or(GetEventDamage()>30 and GetEventDamageSource()!=GetTriggerUnit()and Z67(GetOwningPlayer(GetEventDamageSource())))then
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
call DT8(EC8,GetEventDamage())
endif
call UnitRemoveAbility(EC8,1093814604)
call UnitRemoveAbility(EC8,1093814605)
call UnitRemoveAbility(EC8,1093812825)
call UnitRemoveAbility(EC8,1093814606)
call UnitRemoveAbility(EC8,1110459956)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
return false
endfunction
function DZH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetEnumUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093812822)
local real d
local integer id
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
if H98==1 then
set d=4
set id=1093814604
elseif H98==2 then
set d=5
set id=1093814605
elseif H98==3 then
set d=6
set id=1093812825
elseif H98==4 then
set d=7
set id=1093814606
endif
call LM7(O07,id)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),id,false)
call TriggerAddCondition(t,Condition(function DYH))
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterDeathEvent(t,O07)
call TriggerRegisterTimerEvent(t,d,false)
call SaveUnitHandle(L7,(OC7),(2),(O07))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl",O07,"origin")))
set EC8=null
set O07=null
set t=null
endfunction
function DAH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local group g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),375,Condition(function GP8))
call ForGroup(g,function DZH)
call CW7(g)
set g=null
set EC8=null
endfunction
function DBH takes nothing returns boolean
if GetSpellAbilityId()==1093812822 then
call DAH()
endif
return false
endfunction
function Register_Gallop takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function DBH))
endfunction
function DCH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer D3H=(LoadInteger(L7,(OC7),(59)))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveAbility(EC8,D3H)
call UnitRemoveAbility(EC8,1110459978)
call UnitRemoveAbility(EC8,1110459979)
set t=null
set EC8=null
return false
endfunction
function D6H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O17=GetAttacker()
local integer H98=GetUnitAbilityLevel(EC8,1093813593)
local integer id
if EC8==GetTriggerUnit()and GetRandomInt(1,100)<=(14+2*H98)and UU7(EC8,"4316")==false and IsUnitAlly(EC8,GetOwningPlayer(O17))==false then
call U67(EC8,"4316",1.2)
if H98==1 then
set id=1093814084
elseif H98==2 then
set id=1093814085
elseif H98==3 then
set id=1093814086
elseif H98==4 then
set id=1093814083
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),id,false)
call LM7(EC8,id)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerRegisterTimerEvent(t,0.5,false)
call TriggerAddCondition(t,Condition(function DCH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveInteger(L7,(OC7),(59),(id))
endif
set t=null
set EC8=null
set O17=null
return false
endfunction
function DLH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function D6H))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set EC8=null
set t=null
endfunction
function D1H takes nothing returns boolean
if GetLearnedSkill()==1093813593 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093813593)==1 then
call DLH()
endif
return false
endfunction
function V98 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function D1H))
set t=null
endfunction
function D0H takes unit u,integer d returns nothing
local integer array b
local integer a=d
local integer c=1
local integer i=0
local integer AJD
if d<1 then
call UnitRemoveAbility(u,H47[0])
call UnitRemoveAbility(u,H47[1])
call UnitRemoveAbility(u,H47[2])
call UnitRemoveAbility(u,H47[3])
call UnitRemoveAbility(u,H47[4])
call UnitRemoveAbility(u,H47[5])
call UnitRemoveAbility(u,H47[6])
call UnitRemoveAbility(u,H47[7])
call UnitRemoveAbility(u,H47[8])
return
endif
loop
exitwhen c==0
set c=a/2
set b[i]=a-c*2
set a=c
set i=i+1
endloop
set AJD=8
set i=0
loop
exitwhen i>AJD
if b[i]==1 then
call LM7(u,H47[i])
else
call UnitRemoveAbility(u,H47[i])
endif
set i=i+1
endloop
endfunction
function D5H takes unit EC8,integer H98,unit O07 returns nothing
local integer OC7=GetHandleId(EC8)
local integer D2H=(LoadInteger(L7,(OC7),(739)))
if IsUnitType(O07,UNIT_TYPE_HERO)==true then
set D2H=D2H+10
call SaveInteger(L7,(OC7),(739),(D2H))
call DC8(GetUnitName(EC8)+" Won The Duel!!",5,EC8,0.03,255,0,0,255)
call D0H(EC8,D2H)
endif
endfunction
function D_H takes unit u returns boolean
return GetUnitAbilityLevel(u,1113815395)==0 or BW7(u)==false
endfunction
function E4H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local real BV8=(LoadReal(L7,(OC7),(442)))
local unit H88
if GetTriggerEvalCount(t)==1 then
set H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call UnitAddAbility(H88,1093814069)
call IssueTargetOrder(H88,"doom",O07)
set H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(EC8),GetUnitY(EC8),0)
call UnitAddAbility(H88,1093814069)
call IssueTargetOrder(H88,"doom",EC8)
set H88=null
endif
if GetTriggerEventId()==EVENT_WIDGET_DEATH or BV8<(TimerGetElapsed(W))or D_H(EC8)==false or D_H(O07)==false then
if GetTriggerEventId()==EVENT_WIDGET_DEATH then
if GetTriggerUnit()==EC8 then
call D5H(O07,H98,GetTriggerUnit())
else
call D5H(EC8,H98,GetTriggerUnit())
endif
endif
call UnitRemoveAbility(EC8,1110459975)
call UnitRemoveAbility(O07,1110459975)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call SetUnitPathing(EC8,true)
call SetUnitPathing(O07,true)
elseif GetIssuedOrderId()!=851973 then
call SetUnitPathing(EC8,false)
call SetUnitPathing(O07,false)
call DisableTrigger(t)
call IssueTargetOrder(EC8,"attack",O07)
call IssueTargetOrder(O07,"attack",EC8)
call EnableTrigger(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function E7H takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093813065)
local trigger t
local integer OC7
call SetUnitPathing(EC8,false)
call SetUnitPathing(O07,false)
call IssueTargetOrder(EC8,"attack",O07)
call IssueTargetOrder(O07,"attack",EC8)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call SaveEffectHandle(L7,(OC7),(175),(AddSpecialEffectTarget("war3mapImported\\DuelFX.mdx",EC8,"overhead")))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffectTarget("war3mapImported\\DuelFX.mdx",O07,"overhead")))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveReal(L7,(OC7),(442),(((TimerGetElapsed(W))+0.75*H98+3.25)*1.0))
call TriggerAddCondition(t,Condition(function E4H))
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerRegisterDeathEvent(t,O07)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_ISSUED_ORDER)
set EC8=null
set O07=null
set t=null
endfunction
function E8H takes nothing returns boolean
if GetSpellAbilityId()==1093813065 and CV7(GetSpellTargetUnit())==false then
call E7H()
endif
return false
endfunction
function VE8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function E8H))
set t=null
set H47[0]=1093814091
set H47[1]=1093814090
set H47[2]=1093814089
set H47[3]=1093814088
set H47[4]=1093814094
set H47[5]=1093814095
set H47[6]=1093814093
set H47[7]=1093814092
set H47[8]=1093814096
endfunction
function E9H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local integer CP8=(LoadInteger(L7,(OC7),(34)))
local real d
local unit O17
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
set d=GetEventDamage()
if ID8(d)and d>50 then
set CP8=CP8+1
call SaveInteger(L7,(OC7),(34),(CP8))
set O17=GetEventDamageSource()
if IsUnitType(O17,UNIT_TYPE_HERO)==false and GetUnitAbilityLevel(O17,1093678162)!=0 then
set O17=M7[GetPlayerId(GetOwningPlayer(O17))]
endif
call DT8(EC8,d)
set d=d*(0.4+0.2*H98)
if IsUnitAlly(O07,GetOwningPlayer(EC8))==true then
call SetUnitState(O07,UNIT_STATE_LIFE,GetUnitState(O07,UNIT_STATE_LIFE)+d)
else
call HD8(EC8,O07,3,d)
endif
endif
endif
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or CP8==3 then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(175))))
call DestroyEffect((LoadEffectHandle(L7,(OC7),(176))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function EDH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093814609)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call DY8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",EC8,"chest",1.9)
call DY8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",O07,"chest",1.9)
call SaveEffectHandle(L7,(OC7),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkTarget.mdl",EC8,"chest")))
call SaveEffectHandle(L7,(OC7),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkTarget.mdl",O07,"chest")))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveInteger(L7,(OC7),(34),(0))
call TriggerAddCondition(t,Condition(function E9H))
call TriggerRegisterTimerEvent(t,10,false)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_DAMAGED)
set EC8=null
set O07=null
set t=null
endfunction
function EEH takes nothing returns boolean
if GetSpellAbilityId()==1093814609 then
call EDH()
endif
return false
endfunction
function Register_Deflection takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EEH))
set t=null
endfunction
function EFH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local integer CP8=(LoadInteger(L7,(OC7),(34)))
set CP8=CP8+1
call SaveInteger(L7,(OC7),(34),(CP8))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or CP8>4 then
call UnitRemoveAbility(O07,H77[H98])
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
call SetUnitState(O07,UNIT_STATE_LIFE,GetUnitState(O07,UNIT_STATE_LIFE)+20+10*H98)
call DY8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",O07,"chest",1.9)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function EGH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093814834)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call D59(O07)
call DL9(O07,0,0)
call LM7(O07,H77[H98])
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),H77[H98],false)
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\InnerFire\\InnerFireTarget.mdl",O07,"overhead")))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveInteger(L7,(OC7),(34),(0))
call TriggerAddCondition(t,Condition(function EFH))
call TriggerRegisterTimerEvent(t,1,true)
call TriggerRegisterDeathEvent(t,O07)
call TriggerEvaluate(t)
set EC8=null
set O07=null
set t=null
endfunction
function EHH takes nothing returns boolean
if GetSpellAbilityId()==1093814834 then
call EGH()
endif
return false
endfunction
function V88 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EHH))
set H77[1]=1093814841
set H77[2]=1093814849
set H77[3]=1093814840
set H77[4]=1093814839
set t=null
endfunction
function EIH takes unit EC8,integer H98 returns nothing
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,GetUnitX(EC8),GetUnitY(EC8),0)
call LM7(H88,1093814851)
call SetUnitAbilityLevel(H88,1093814851,H98/3)
call IssueTargetOrder(H88,"bloodlust",EC8)
set H88=null
endfunction
function EJH takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==true or IsUnitIllusion(GetEnumUnit())==true then
call HD8(GetTriggerUnit(),GetEnumUnit(),1,GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*0.25)
endif
call HD8(GetTriggerUnit(),GetEnumUnit(),1,60*HD7+10*(H97+H87))
endfunction
function EKH takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
set H97=H97+1
else
set H87=H87+1
endif
endfunction
function EMH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local integer H98=GetUnitAbilityLevel(EC8,1093814850)
local group g=CX7()
call DestroyEffect(AddSpecialEffect("war3mapImported\\OverwhelmingOdds.mdx",x,y))
call GroupEnumUnitsInRange(g,x,y,315+25,Condition(function F58))
set H87=0
set H97=0
set HD7=H98
call ForGroup(g,function EKH)
call ForGroup(g,function EJH)
call CW7(g)
call EIH(EC8,9*H97+3*H87)
set EC8=null
set g=null
endfunction
function ENH takes nothing returns boolean
if GetSpellAbilityId()==1093814850 then
call EMH()
endif
return false
endfunction
function VD8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ENH))
call DE8(1093814851)
set t=null
endfunction
function EOH takes nothing returns nothing
set HH7=true
call HD8(HE7,GetEnumUnit(),1,((300+300*HG7)/HF7)/20)
set HH7=false
endfunction
function EPH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real x=(LoadReal(L7,(OC7),(6)))
local real y=(LoadReal(L7,(OC7),(7)))
local group g
if GetTriggerEvalCount(t)>20 then
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
set g=CX7()
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,170+25,Condition(function GK8))
set HG7=GetUnitAbilityLevel(EC8,1093812807)
set HE7=EC8
set HF7=CountUnitsInGroup(g)
call ForGroup(g,function EOH)
call CW7(g)
set g=null
endif
set t=null
set EC8=null
return false
endfunction
function EQH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local string s="war3mapImported\\DivineWrathTarget.mdx"
local location l=GetSpellTargetLoc()
call PlaySoundAtPointBJ(H27,100,l,0)
call RemoveLocation(l)
set l=null
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function EPH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
call DestroyEffect(AddSpecialEffect(s,x,y))
set t=null
set EC8=null
endfunction
function ERH takes nothing returns boolean
if GetSpellAbilityId()==1093812807 then
call EQH()
endif
return false
endfunction
function VG8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function ERH))
set t=null
set H27=CreateSound("Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget2.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(H27,"StarfallTarget")
call SetSoundDuration(H27,3000)
endfunction
function ESH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=GetUnitAbilityLevel(EC8,1093812820)
local real d
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
set d=GetEventDamage()*(0.2+0.05*H98)
else
call SaveInteger(L7,(GetHandleId((O07))),((4317)),(2))
call UnitRemoveAbility(O07,1093814582)
call UnitRemoveAbility(O07,1093814581)
call UnitRemoveAbility(O07,1093814583)
call UnitRemoveAbility(O07,1093814584)
call UnitRemoveAbility(O07,1110459987)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function ETH takes unit EC8,unit O07 returns nothing
local trigger t
local integer OC7
local integer H98=GetUnitAbilityLevel(EC8,1093812820)
local unit LastTarget=(LoadUnitHandle(L7,(GetHandleId(EC8)),(741)))
local integer CP8=(LoadInteger(L7,(GetHandleId(O07)),(742)))
local integer id
if((LoadInteger(L7,(GetHandleId((O07))),((4317))))==1)==true then
call SaveInteger(L7,(GetHandleId(O07)),(742),(0))
call SaveReal(L7,(GetHandleId(O07)),(743),(((TimerGetElapsed(W)))*1.0))
else
if(LoadReal(L7,(GetHandleId(O07)),(743)))+10<(TimerGetElapsed(W))then
set CP8=1
else
set CP8=CP8+1
endif
if IsUnitType(O07,UNIT_TYPE_HERO)==true or IsUnitIllusion(O07)==true then
call D38(GetOwningPlayer(EC8),I2S(CP8)+"!",2,O07,0.026,50,0,255,216)
endif
call SaveInteger(L7,(GetHandleId(O07)),(742),(CP8))
call SaveReal(L7,(GetHandleId(O07)),(743),(((TimerGetElapsed(W)))*1.0))
if CP8==4 then
call SaveInteger(L7,(GetHandleId(O07)),(742),(0))
call SaveInteger(L7,(GetHandleId((O07))),((4317)),(1))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.5+0.5*H98,false)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterDeathEvent(t,O07)
call TriggerAddCondition(t,Condition(function ESH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
if H98==1 then
set id=1093814582
elseif H98==2 then
set id=1093814581
elseif H98==3 then
set id=1093814583
elseif H98==4 then
set id=1093814584
endif
call LM7(O07,id)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),id,false)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FarseerMissile_Purple_2.mdx",O07,"chest"))
endif
endif
set t=null
endfunction
function EUH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EC8 then
call DisableTrigger(t)
call ETH(EC8,O07)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
else
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function EVH takes nothing returns nothing
local trigger t=CreateTrigger()
local unit O07=GetTriggerUnit()
local unit EC8=GetAttacker()
local integer OC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,1.2,false)
call TriggerAddCondition(t,Condition(function EUH))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set O07=null
set EC8=null
set t=null
endfunction
function EWH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if GetAttacker()==EC8 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(EC8))then
if UU7(EC8,"4315")==false then
call U67(EC8,"4315",0.3)
call EVH()
endif
endif
set t=null
set EC8=null
return false
endfunction
function EXH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function EWH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=null
set EC8=null
endfunction
function EYH takes nothing returns boolean
if GetLearnedSkill()==1093812820 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093812820)==1 then
call EXH()
endif
return false
endfunction
function Register_Amp takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function EYH))
set t=null
endfunction
function EZH takes nothing returns nothing
local integer OC7=GetHandleId(GetTriggeringTrigger())
local unit EC8=IN4
local unit O07=IP4
local integer H98=GetUnitAbilityLevel(EC8,1093812805)
local real B19=40+20*H98+1.6*GetHeroInt(EC8,true)
set HH7=true
call HD8(EC8,O07,1,B19)
set HH7=false
set EC8=null
set O07=null
endfunction
function EAH takes nothing returns nothing
local trigger t=EK8(GetTriggerUnit(),GetSpellTargetUnit(),1747993681,"EZH",500)
local integer OC7=GetHandleId(t)
set t=null
endfunction
function EBH takes nothing returns boolean
if GetSpellAbilityId()==1093812805 and CV7(GetSpellTargetUnit())==false then
call EAH()
endif
return false
endfunction
function VH8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function EBH))
set t=null
endfunction
function ECH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local real d
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
else
call UnitRemoveAbility(O07,1093814360)
call UnitRemoveAbility(O07,1093814576)
call UnitRemoveAbility(O07,1093814361)
call UnitRemoveAbility(O07,1093814362)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set O07=null
set t=null
return false
endfunction
function E3H takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093814350)
local real R77=2+H98
local integer id=1093814360
if H98==1 then
set id=1093814360
elseif H98==2 then
set id=1093814576
elseif H98==3 then
set id=1093814361
elseif H98==4 then
set id=1093814362
endif
call LM7(O07,id)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),id,false)
call TriggerRegisterTimerEvent(t,R77,false)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function ECH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
set EC8=null
set O07=null
set t=null
endfunction
function E6H takes nothing returns boolean
if GetSpellAbilityId()==1093814350 and IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true and CV7(GetSpellTargetUnit())==false then
call E3H()
endif
return false
endfunction
function VI8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function E6H))
set t=null
endfunction
function ELH takes nothing returns nothing
local integer OC7=GetHandleId(GetTriggeringTrigger())
local unit EC8=IN4
local unit O07=IP4
local real x=GetUnitX(O07)
local real y=GetUnitY(O07)
local integer H98=GetUnitAbilityLevel(EC8,1093814612)
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,x,y,0)
call UnitAddAbility(H88,1093814613)
call SetUnitAbilityLevel(H88,1093814613,H98)
call IssueImmediateOrder(H88,"thunderclap")
set EC8=null
set O07=null
set H88=null
endfunction
function E1H takes unit EC8,group g returns unit
local unit E0H=null
local real d=99999
local unit KWE=FirstOfGroup(g)
call GroupRemoveUnit(g,KWE)
loop
exitwhen KWE==null
if RE7(EC8,KWE)<d then
set d=RE7(EC8,KWE)
set E0H=KWE
endif
set KWE=FirstOfGroup(g)
call GroupRemoveUnit(g,KWE)
endloop
return E0H
endfunction
function E5H takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=null
local group g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),1600+25,Condition(function GJ8))
set O07=E1H(EC8,g)
call CW7(g)
if O07!=null then
call EK8(EC8,O07,1747993910,"ELH",800)
endif
set g=null
set O07=null
set EC8=null
endfunction
function E2H takes nothing returns boolean
if GetSpellAbilityId()==1093814612 then
call E5H()
endif
return false
endfunction
function VF8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function E2H))
set t=null
endfunction
function E_H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=GetUnitAbilityLevel(EC8,1093813335)
local unit B18
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if GetTriggerEventId()==EVENT_UNIT_DEATH and IsPlayerEnemy(GetOwningPlayer(GetKillingUnit()),GetOwningPlayer(O07))==true then
set B18=GetKillingUnit()
if I98(B18)then
set B18=(M7[GetPlayerId(GetOwningPlayer((B18)))])
endif
if IsUnitType(B18,UNIT_TYPE_STRUCTURE)==true then
call HD8(EC8,B18,1,25*H98)
else
call HD8(EC8,B18,1,100*H98)
endif
call H78(EC8,GetKillingUnit(),0.5+0.5*H98)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function F4H takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DEATH)
call TriggerRegisterTimerEvent(t,10,false)
call TriggerAddCondition(t,Condition(function E_H))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("war3mapImported\\GaiaShield.mdx",O07,"origin")))
set t=null
set EC8=null
set O07=null
endfunction
function F7H takes nothing returns boolean
if GetSpellAbilityId()==1093813335 then
call F4H()
endif
return false
endfunction
function Register_DeathWatch takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function F7H))
set t=null
endfunction
function F8H takes nothing returns nothing
if RE7(HI7,GetEnumUnit())>HJ7 then
call UnitRemoveAbility(GetEnumUnit(),1093813337)
endif
endfunction
function F9H takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),1093813337)
endfunction
function FDH takes nothing returns boolean
return(IsUnitEnemy(IN4,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and LO7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or FD8(GetFilterUnit())))
endfunction
function FEH takes nothing returns nothing
call GroupAddUnit(HK7,GetEnumUnit())
call UnitAddAbility(GetEnumUnit(),1093813337)
endfunction
function FFH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit H88=(LoadUnitHandle(L7,(OC7),(19)))
local group GAD=(LoadGroupHandle(L7,(OC7),(187)))
local group g
local integer H98=GetUnitAbilityLevel(EC8,1093813336)
if LO7(H88)or GetTriggerEvalCount(t)>200 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call ForGroup(GAD,function F9H)
call CW7(GAD)
else
set HJ7=250+25
set HI7=H88
set IN4=EC8
call ForGroup(GAD,function F8H)
set HK7=GAD
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(H88),GetUnitY(H88),HJ7,Condition(function FDH))
call ForGroup(g,function FEH)
call CW7(g)
set g=null
endif
set t=null
set EC8=null
return false
endfunction
function FGH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local integer id
local unit H88
local integer H98=GetUnitAbilityLevel(EC8,1093813336)
if H98==1 then
set id=1865429330
elseif H98==2 then
set id=1865429331
elseif H98==3 then
set id=1865429329
else
set id=1865429332
endif
set H88=CreateUnit(GetOwningPlayer(EC8),id,x,y,0)
call UnitApplyTimedLife(H88,1112820806,10)
call TriggerRegisterTimerEvent(t,0.05,true)
call TriggerAddCondition(t,Condition(function FFH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(19),(H88))
call SaveGroupHandle(L7,(OC7),(187),(CX7()))
set t=null
set EC8=null
set H88=null
endfunction
function FHH takes nothing returns boolean
if GetSpellAbilityId()==1093813336 then
call FGH()
endif
return false
endfunction
function Register_RealityShift takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FHH))
set t=null
endfunction
function FIH takes nothing returns nothing
call HD8(HM7,GetEnumUnit(),1,50+50*HN7)
endfunction
function FJH takes unit EC8,real x,real y returns nothing
local unit H88=CreateUnit(GetOwningPlayer(EC8),1697656901,x,y,0)
local group g=CX7()
call UnitAddAbility(H88,1093813553)
call IssuePointOrder(H88,"silence",x,y)
set IN4=EC8
set HN7=GetUnitAbilityLevel(EC8,1093813552)
set HM7=EC8
call GroupEnumUnitsInRange(g,x,y,325,Condition(function FT8))
call ForGroup(g,function FIH)
call CW7(g)
call DestroyEffect(AddSpecialEffect("",x,y))
set g=null
set H88=null
endfunction
function FKH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local integer i=0
local unit FMH
local boolean FNH=false
local real x
local real y
local integer OC7=GetHandleId(EC8)
loop
exitwhen i>2 or FNH
set FMH=(LoadUnitHandle(L7,(OC7),(724+i)))
if FMH!=null and LO7(FMH)==false then
call KillUnit(FMH)
call RemoveSavedHandle(L7,(OC7),(724+i))
set FNH=true
endif
set i=i+1
endloop
if FNH then
set x=GetSpellTargetX()
set y=GetSpellTargetY()
call FJH(EC8,x,y)
endif
set FMH=null
set EC8=null
endfunction
function FOH takes nothing returns boolean
if GetSpellAbilityId()==1093813552 then
call FKH()
endif
return false
endfunction
function FPH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit FMH
local integer i=0
local real x
local real y
set OC7=GetHandleId(EC8)
loop
exitwhen i>2
set FMH=(LoadUnitHandle(L7,(OC7),(724+i)))
if FMH!=null and LO7(FMH)==false then
set x=GetUnitX(EC8)
set y=GetUnitY(EC8)
if i==0 then
set x=x-125
set y=y-125
elseif i==1 then
set x=x+125
set y=y-125
else
set x=x-125
set y=y+125
endif
call SetUnitX(FMH,x)
call SetUnitY(FMH,y)
if GetTriggerEventId()==EVENT_WIDGET_DEATH or LO7(EC8)then
call KillUnit(FMH)
call RemoveSavedHandle(L7,(OC7),(724+i))
endif
endif
set i=i+1
endloop
set FMH=null
set EC8=null
set t=null
return false
endfunction
function FQH takes unit EC8,integer O37 returns nothing
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local unit FMH
if O37==0 then
set x=x-125
set y=y-125
elseif O37==1 then
set x=x+125
set y=y-125
else
set x=x-125
set y=y+125
endif
set FMH=CreateUnit(GetOwningPlayer(EC8),1747993682,x,y,0)
call SaveUnitHandle(L7,(GetHandleId(EC8)),(724+O37),(FMH))
set FMH=null
endfunction
function FRH takes unit EC8 returns nothing
local integer i=0
local boolean FSH=false
local integer FTH=-1
local unit FMH
local integer OC7=GetHandleId(EC8)
loop
exitwhen i>2 or FSH
set FMH=(LoadUnitHandle(L7,(OC7),(724+i)))
if FMH==null or LO7(FMH)then
set FTH=i
set FSH=true
endif
set i=i+1
endloop
if FSH then
call FQH(EC8,FTH)
endif
set FMH=null
endfunction
function FUH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer H98=GetUnitAbilityLevel(EC8,1093813552)
if LO7(EC8)==false then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH then
if IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(EC8))==true and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 then
if RE7(GetTriggerUnit(),EC8)<1025 and GetRandomInt(0,100)<(10+5*H98)then
call FRH(EC8)
endif
endif
else
call FRH(EC8)
endif
endif
set t=null
set EC8=null
return false
endfunction
function FVH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=GetTriggerUnit()
call TriggerRegisterTimerEvent(t,20,true)
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function FUH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerAddCondition(t,Condition(function FPH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=null
set EC8=null
endfunction
function FWH takes nothing returns boolean
if GetLearnedSkill()==1093813552 and GetUnitAbilityLevel(GetTriggerUnit(),1093813552)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call FVH()
endif
return false
endfunction
function Register_HauntingEchos takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FOH))
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function FWH))
set t=null
endfunction
function FXH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local real ZZ9=(LoadReal(L7,(OC7),(6)))
local real ZA9=(LoadReal(L7,(OC7),(7)))
local integer H98=GetUnitAbilityLevel(EC8,1093813338)
local real JJD=(30*H98)/10
local real a=PO7(O07,EC8)*bj_DEGTORAD
local real x=ZZ9+JJD*Cos(a)
local real y=ZA9+JJD*Sin(a)
call SetUnitX(O07,x)
call SetUnitY(O07,y)
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
if GetTriggerEvalCount(t)==10 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call HD8(EC8,O07,1,10+10*H98)
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function FYH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetEnumUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.025,true)
call TriggerAddCondition(t,Condition(function FXH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveReal(L7,(OC7),(6),((GetUnitX(O07))*1.0))
call SaveReal(L7,(OC7),(7),((GetUnitY(O07))*1.0))
set t=null
set EC8=null
set O07=null
endfunction
function FZH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local integer i=0
local boolean FNH=false
local integer OC7
local unit FMH
local group g
if GetSpellAbilityId()==1093813552 then
set OC7=GetHandleId(EC8)
loop
exitwhen i>2
set FMH=(LoadUnitHandle(L7,(OC7),(724+i)))
if FMH!=null and LO7(FMH)==false then
set FNH=true
endif
set i=i+1
endloop
set FMH=null
if FNH==false then
set EC8=null
return
endif
endif
set g=CX7()
call GroupEnumUnitsInRange(g,GetUnitX(EC8),GetUnitY(EC8),725,Condition(function F58))
call ForGroup(g,function FYH)
call CW7(g)
set g=null
set EC8=null
endfunction
function FAH takes nothing returns boolean
if GetSpellAbilityId()==1093813552 or GetSpellAbilityId()==1093813336 or GetSpellAbilityId()==1093813335 then
if GetUnitAbilityLevel(GetTriggerUnit(),1093813338)>0 then
call FZH()
endif
endif
return false
endfunction
function Register_FatalAttraction takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FAH))
set t=null
endfunction
function FBH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer X5E=(LoadInteger(L7,(OC7),(422)))
local integer X2E=(LoadInteger(L7,(OC7),(423)))
local integer YYD=(LoadInteger(L7,(OC7),(424)))
call SetHeroAgi(O07,GetHeroAgi(O07,false)+X5E,true)
call SetHeroStr(O07,GetHeroStr(O07,false)+X2E,true)
call SetHeroInt(O07,GetHeroInt(O07,false)+YYD,true)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set O07=null
return false
endfunction
function FCH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetEnumUnit()
local integer H98=GetUnitAbilityLevel(EC8,1093813835)
local trigger t
local integer OC7
local integer EXD
local integer X5E
local integer X2E
local integer YYD
local real JJD
if IsUnitType(O07,UNIT_TYPE_HERO)==true then
set EXD=CN7(O07)
set JJD=0.15
if EXD==2 then
set X5E=R2I(JJD*GetHeroAgi(O07,false))-1
set X2E=0
set YYD=0
elseif EXD==3 then
set X5E=0
set X2E=R2I(JJD*GetHeroStr(O07,false))-1
set YYD=0
elseif EXD==1 then
set X5E=0
set X2E=0
set YYD=R2I(JJD*GetHeroInt(O07,false))-1
endif
call SetHeroAgi(O07,GetHeroAgi(O07,false)-X5E,true)
call SetHeroStr(O07,GetHeroStr(O07,false)-X2E,true)
call SetHeroInt(O07,GetHeroInt(O07,false)-YYD,true)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,7,false)
call TriggerRegisterDeathEvent(t,O07)
call TriggerAddCondition(t,Condition(function FBH))
call SaveInteger(L7,(OC7),(422),(X5E))
call SaveInteger(L7,(OC7),(424),(YYD))
call SaveInteger(L7,(OC7),(423),(X2E))
call SaveUnitHandle(L7,(OC7),(17),(O07))
set t=null
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",O07,"chest"))
call HD8(EC8,O07,HP7,50+50*H98)
set EC8=null
set O07=null
endfunction
function F3H takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local group g=CX7()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local real a=PP7(GetUnitX(EC8),GetUnitY(EC8),x,y)*bj_DEGTORAD
set x=GetUnitX(EC8)
set y=GetUnitY(EC8)
if D28(x,y,HO7)>0 then
set HP7=3
else
set HP7=1
endif
call GroupEnumUnitsInRange(g,x,y,HO7+25,Condition(function F58))
call ForGroup(g,function FCH)
call CW7(g)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\WhirlingDeath_01.mdx",EC8,"origin"))
set EC8=null
set g=null
endfunction
function F6H takes nothing returns boolean
if GetSpellAbilityId()==1093813835 then
call F3H()
endif
return false
endfunction
function VJ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function F6H))
set t=null
endfunction
function FLH takes unit EC8,unit O07 returns nothing
local integer H98=GetUnitAbilityLevel(EC8,1093813555)
call HD8(EC8,O07,3,60+40*H98)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",O07,"origin"))
endfunction
function F1H takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),IQ4)==false then
call GroupAddUnit(IQ4,GetEnumUnit())
call FLH(IN4,GetEnumUnit())
endif
endfunction
function F0H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit CC7=(LoadUnitHandle(L7,(OC7),(14)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer F5H=(LoadInteger(L7,(OC7),(18)))
local integer CP8=GetTriggerEvalCount(t)
local unit F2H
local group F_H=(LoadGroupHandle(L7,(OC7),(16)))
local group g
local boolean G4H=(LoadBoolean(L7,(OC7),(727)))
local boolean G7H=(LoadBoolean(L7,(OC7),(740)))
if DV9(CC7)then
set G7H=true
call SaveBoolean(L7,(OC7),(740),(G7H))
endif
if G4H==false then
set F2H=(LoadUnitHandle(L7,(OC7),(700+F5H+1-CP8)))
call RemoveUnit(F2H)
else
set F2H=(LoadUnitHandle(L7,(OC7),(700+CP8)))
if G7H==false then
call SetUnitX(CC7,GetUnitX(F2H))
call SetUnitY(CC7,GetUnitY(F2H))
endif
call RemoveUnit(F2H)
set g=CX7()
set IN4=CC7
set IQ4=F_H
call GroupEnumUnitsInRange(g,GetUnitX(CC7),GetUnitY(CC7),250,Condition(function FA8))
call ForGroup(g,function F1H)
call CW7(g)
endif
if CP8==(F5H)then
call D28(GetUnitX(CC7),GetUnitY(CC7),90)
call CW7(F_H)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set CC7=null
set F2H=null
set F_H=null
set g=null
return false
endfunction
function G8H takes nothing returns nothing
if BV7(GetEnumDestructable())and IsDestructableDeadBJ(GetEnumDestructable())==false then
set HQ7=HQ7+1
endif
endfunction
function G9H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit CC7=(LoadUnitHandle(L7,(OC7),(14)))
local real Z_9=(LoadReal(L7,(OC7),(13)))
local integer EJD=(LoadInteger(L7,(OC7),(12)))
local integer CP8=GetTriggerEvalCount(t)
local real x=(LoadReal(L7,(OC7),(6)))+CP8*50*Cos(Z_9*bj_DEGTORAD)
local real y=(LoadReal(L7,(OC7),(7)))+CP8*50*Sin(Z_9*bj_DEGTORAD)
local boolean ZND=(LoadBoolean(L7,(OC7),(15)))
local unit GDH
local trigger GEH=(LoadTriggerHandle(L7,(OC7),(11)))
local integer GFH=GetHandleId(GEH)
local integer ID=1966092625
local real AYG=250
local rect r
local real d=90
set r=Rect(x-d,y-d,x+d,y+d)
set HQ7=0
call EnumDestructablesInRect(r,Condition(function ZV7),function G8H)
if HQ7>0 or CP8==EJD or CP8==(EJD-1)or CP8==(EJD-2)then
set ID=1966092624
endif
set GDH=CreateUnit(GetOwningPlayer(CC7),ID,x,y,Z_9)
call SaveUnitHandle(L7,(GFH),(700+CP8),(GDH))
if HQ7>0 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call TriggerRegisterTimerEvent(GEH,0.5/EJD,true)
call TriggerAddCondition(GEH,Condition(function F0H))
call SaveInteger(L7,(GFH),(18),(CP8))
call SaveBoolean(L7,(GFH),(727),(true))
call SaveUnitHandle(L7,(GFH),(14),(CC7))
call SaveGroupHandle(L7,(GFH),(16),(CX7()))
call SaveReal(L7,(GFH),(6),((x)*1.0))
call SaveReal(L7,(GFH),(7),((y)*1.0))
call SaveBoolean(L7,(GFH),(740),(false))
elseif CP8>EJD then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call TriggerRegisterTimerEvent(GEH,0.5/EJD,true)
call TriggerAddCondition(GEH,Condition(function F0H))
call SaveInteger(L7,(GFH),(18),(CP8))
call SaveBoolean(L7,(GFH),(727),(false))
call SaveUnitHandle(L7,(GFH),(14),(CC7))
call SaveGroupHandle(L7,(GFH),(16),(CX7()))
call SaveBoolean(L7,(GFH),(740),(false))
endif
set t=null
set CC7=null
set GDH=null
set GEH=null
return false
endfunction
function GGH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit CC7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real Z_9=PP7(GetUnitX(CC7),GetUnitY(CC7),GetLocationX(l),GetLocationY(l))
local integer H98=GetUnitAbilityLevel(CC7,1093813555)
local integer GHH
local integer EJD
local trigger GIH=CreateTrigger()
set GHH=600+200*H98
set EJD=GHH/50
call SaveUnitHandle(L7,(OC7),(14),(CC7))
call SaveInteger(L7,(OC7),(5),(H98))
call SaveReal(L7,(OC7),(13),((Z_9)*1.0))
call SaveInteger(L7,(OC7),(12),(EJD))
call SaveTriggerHandle(L7,(OC7),(11),(GIH))
call SaveReal(L7,(OC7),(6),((GetUnitX(CC7))*1.0))
call SaveReal(L7,(OC7),(7),((GetUnitY(CC7))*1.0))
call TriggerRegisterTimerEvent(t,0.5/EJD,true)
call TriggerAddCondition(t,Condition(function G9H))
call RemoveLocation(l)
set t=null
set CC7=null
set l=null
endfunction
function GJH takes nothing returns boolean
if GetSpellAbilityId()==1093813555 then
call GGH()
endif
return false
endfunction
function VK8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GJH))
set t=null
endfunction
function GKH takes unit EC8 returns nothing
local integer CP8=(LoadInteger(L7,(GetHandleId(EC8)),(728)))
local integer H98=GetUnitAbilityLevel(EC8,1093813556)
local integer i=1
set CP8=IMinBJ(CP8,4*H98)
loop
exitwhen i>16
if CP8==i then
call LM7(EC8,HR7[i])
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),HR7[i],false)
else
call UnitRemoveAbility(EC8,HR7[i])
endif
set i=i+1
endloop
endfunction
function GMH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer CP8=(LoadInteger(L7,(GetHandleId(EC8)),(728)))-1
call SaveInteger(L7,(GetHandleId(EC8)),(728),(CP8))
call GKH(EC8)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set EC8=null
return false
endfunction
function GNH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local integer CP8=(LoadInteger(L7,(GetHandleId(EC8)),(728)))+1
if IsUnitEnemy(GetAttacker(),GetOwningPlayer(EC8))==true then
call SaveInteger(L7,(GetHandleId(EC8)),(728),(CP8))
call GKH(EC8)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,16,false)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerAddCondition(t,Condition(function GMH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
endif
set t=null
set EC8=null
return false
endfunction
function GOH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function GNH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set t=null
set EC8=null
endfunction
function GPH takes nothing returns boolean
if GetLearnedSkill()==1093813556 and GetUnitAbilityLevel(GetTriggerUnit(),1093813556)==1 and IsUnitIllusion(GetTriggerUnit())==false then
call GOH()
endif
return false
endfunction
function VM8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function GPH))
set t=null
set HR7[1]=1093813319
set HR7[2]=1093813318
set HR7[3]=1093813324
set HR7[4]=1093813325
set HR7[5]=1093813322
set HR7[6]=1093813321
set HR7[7]=1093813326
set HR7[8]=1093813327
set HR7[9]=1093813320
set HR7[10]=1093813333
set HR7[11]=1093813328
set HR7[12]=1093813329
set HR7[13]=1093813330
set HR7[14]=1093813331
set HR7[15]=1093813332
set HR7[16]=1093813323
endfunction
function GQH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
call UnitRemoveAbility(EC8,1114663271)
call UnitRemoveAbility(EC8,1111845217)
call UnitRemoveAbility(EC8,1093813848)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set EC8=null
return false
endfunction
function GRH takes unit EC8,unit O07 returns nothing
local unit H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
local integer FPD=R2I(100*GetUnitState(O07,UNIT_STATE_LIFE)/GetUnitState(O07,UNIT_STATE_MAX_LIFE))
local integer H98=DO8(DN8(R2I(100-FPD)/5,20),1)
call UnitAddAbility(H88,1093813334)
call SetUnitAbilityLevel(H88,1093813334,H98)
call IssueTargetOrder(H88,"slow",O07)
set H88=null
endfunction
function GSH takes nothing returns nothing
if D9==false then
call HD8(HV7,GetEnumUnit(),3,(25+25*HW7)*0.5)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
call GRH(HV7,GetEnumUnit())
endif
endfunction
function GTH takes nothing returns nothing
if IsUnitInGroup(GetEnumUnit(),HU7)==false then
call GroupAddUnit(HU7,GetEnumUnit())
call HD8(HV7,GetEnumUnit(),3,60+40*HW7)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))
call GRH(HV7,GetEnumUnit())
endif
endfunction
function GUH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit E98=(LoadUnitHandle(L7,(OC7),(45)))
local real ED8=(LoadReal(L7,(OC7),(6)))
local real EE8=(LoadReal(L7,(OC7),(7)))
local real x
local real y
local real a
local integer GVH=(LoadInteger(L7,(OC7),(33)))
local group GAD=(LoadGroupHandle(L7,(OC7),(187)))
local group g
local integer CP8=(LoadInteger(L7,(OC7),(34)))
local real GWH
if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT then
if GetSpellAbilityId()==1093813848 then
call SaveInteger(L7,(OC7),(33),(2))
call GroupClear(GAD)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093813848,false)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0,false)
call TriggerAddCondition(t,Condition(function GQH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
endif
elseif GetTriggerEventId()==EVENT_WIDGET_DEATH or(LoadInteger(L7,(GetHandleId(EC8)),(704)))==-1 then
call FQ8(EC8)
if(LoadInteger(L7,(GetHandleId(EC8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EC8)),(704)))==1093813557 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093813557,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093813848,false)
call UnitRemoveAbility(EC8,1093813848)
call UnitRemoveAbility(EC8,1114663271)
call UnitRemoveAbility(EC8,1111845217)
call KillUnit(E98)
call CW7(GAD)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
elseif GVH==0 then
set a=PP7(GetUnitX(E98),GetUnitY(E98),ED8,EE8)*bj_DEGTORAD
set x=GetUnitX(E98)+16*Cos(a)
set y=GetUnitY(E98)+16*Sin(a)
call D28(x,y,175)
if RF7(x,y,ED8,EE8)<40 then
set x=ED8
set y=EE8
endif
call SetUnitX(E98,x)
call SetUnitY(E98,y)
set IN4=EC8
set HV7=EC8
set HW7=GetUnitAbilityLevel(EC8,1093813557)
set HU7=GAD
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,HS7+25,Condition(function FT8))
call ForGroup(g,function GTH)
call CW7(g)
if x==ED8 and y==EE8 then
call SaveInteger(L7,(OC7),(33),(1))
call GroupClear(GAD)
endif
elseif GVH==1 then
set CP8=CP8+1
if CP8==25 then
set x=GetUnitX(E98)
set y=GetUnitY(E98)
call D28(x,y,175)
set CP8=0
set IN4=EC8
set HV7=EC8
set HW7=GetUnitAbilityLevel(EC8,1093813557)
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,HT7+25,Condition(function FT8))
call ForGroup(g,function GSH)
call CW7(g)
set GWH=(15+5*HW7)/2
if GetUnitState(EC8,UNIT_STATE_MANA)<GWH or RE7(EC8,E98)>2000 then
call SaveInteger(L7,(OC7),(33),(2))
call GroupClear(GAD)
call UnitRemoveAbility(EC8,1093813848)
call UnitRemoveAbility(EC8,1114663271)
call UnitRemoveAbility(EC8,1111845217)
else
call SetUnitState(EC8,UNIT_STATE_MANA,GetUnitState(EC8,UNIT_STATE_MANA)-GWH)
endif
endif
call SaveInteger(L7,(OC7),(34),(CP8))
elseif GVH==2 then
set a=PP7(GetUnitX(E98),GetUnitY(E98),GetUnitX(EC8),GetUnitY(EC8))*bj_DEGTORAD
set x=GetUnitX(E98)+16*Cos(a)
set y=GetUnitY(E98)+16*Sin(a)
call D28(x,y,175)
call SetUnitX(E98,x)
call SetUnitY(E98,y)
set IN4=EC8
set HV7=EC8
set HW7=GetUnitAbilityLevel(EC8,1093813557)
set HU7=GAD
set g=CX7()
call GroupEnumUnitsInRange(g,x,y,HS7+25,Condition(function FT8))
call ForGroup(g,function GTH)
call CW7(g)
if RF7(x,y,GetUnitX(EC8),GetUnitY(EC8))<40 then
call FQ8(EC8)
call KillUnit(E98)
call CW7(GAD)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if(LoadInteger(L7,(GetHandleId(EC8)),(704)))==0 or(LoadInteger(L7,(GetHandleId(EC8)),(704)))==1093813557 then
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093813557,true)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093813848,false)
endif
endif
set t=null
set EC8=null
set E98=null
set GAD=null
set g=null
return false
endfunction
function GXH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local real a=PP7(GetUnitX(EC8),GetUnitY(EC8),x,y)*bj_DEGTORAD
local unit E98=CreateUnit(GetOwningPlayer(EC8),1747993683,GetUnitX(EC8),GetUnitY(EC8),a*bj_RADTODEG)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerRegisterUnitEvent(t,EC8,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GUH))
call SaveUnitHandle(L7,(OC7),(45),(E98))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(6),((x)*1.0))
call SaveReal(L7,(OC7),(7),((y)*1.0))
call SaveInteger(L7,(OC7),(33),(0))
call SaveGroupHandle(L7,(OC7),(187),(CX7()))
call FO8(EC8)
call LM7(EC8,1093813848)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093813557,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(EC8),1093813848,true)
set EC8=null
set t=null
set E98=null
endfunction
function GYH takes nothing returns boolean
if GetSpellAbilityId()==1093813557 then
call GXH()
endif
return false
endfunction
function VN8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function GYH))
call DE8(1093813334)
set t=null
endfunction
function Trap_RemoveBonus takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if((LoadInteger(L7,(GetHandleId(EC8)),(754)))==(LoadInteger(L7,(OC7),(754))))then
call HJ8((EC8),(0))
endif
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set t=null
set EC8=null
return false
endfunction
function GZH takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
set I07=I07+60
else
set I07=I07+20
endif
call UnitRemoveAbility(GetEnumUnit(),J47)
call UnitRemoveAbility(GetEnumUnit(),J77)
endfunction
function GAH takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
set I07=I07+60
else
set I07=I07+20
endif
endfunction
function GBH takes nothing returns nothing
call H78(I57,GetEnumUnit(),0.5+I27*0.5)
call HD8(I57,GetEnumUnit(),ZG4,I07)
endfunction
function GCH takes nothing returns boolean
return GetUnitAbilityLevel(GetFilterUnit(),J77)>0
endfunction
function UMD takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local group g=CX7()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
set I57=EC8
set I27=GetUnitAbilityLevel(EC8,I_7)
set I07=0
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function GCH))
call ForGroup(g,function GZH)
call ForGroup(g,function GBH)
call CW7(g)
set g=null
set EC8=null
endfunction
function G3H takes nothing returns boolean
if GetSpellAbilityId()==I_7 then
call UMD()
endif
return false
endfunction
function G6H takes string D68,unit O07,unit CC7 returns nothing
local texttag tt=CreateTextTag()
call SetTextTagText(tt,D68,0.033)
call SetTextTagPosUnit(tt,O07,64)
call SetTextTagColor(tt,0,75,255,255)
call SetTextTagVelocity(tt,0,0.0355)
call SetTextTagFadepoint(tt,0.15)
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,1.0)
if IsUnitAlly(CC7,GetLocalPlayer())or CM7(GetLocalPlayer())then
call SetTextTagVisibility(tt,true)
else
call SetTextTagVisibility(tt,false)
endif
set tt=null
endfunction
function GLH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local real E69=(LoadReal(L7,(GetHandleId(O07)),(753)))
if GetTriggerEventId()==EVENT_WIDGET_DEATH or E69<(TimerGetElapsed(W))then
call UnitRemoveAbility(O07,J47)
call UnitRemoveAbility(O07,J77)
call SaveReal(L7,(GetHandleId(O07)),(753),((0)*1.0))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set O07=null
return false
endfunction
function G1H takes unit EC8,unit O07 returns nothing
local trigger t
local integer OC7
local group g=CX7()
call SaveReal(L7,(GetHandleId(O07)),(753),(((TimerGetElapsed(W))+I17)*1.0))
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.25,true)
call TriggerRegisterDeathEvent(t,O07)
call TriggerAddCondition(t,Condition(function GLH))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call LM7(O07,J47)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),J47,false)
set I57=EC8
set I27=GetUnitAbilityLevel(EC8,I_7)
set I07=0
call GroupEnumUnitsInRange(g,0,0,9999,Condition(function GCH))
call ForGroup(g,function GAH)
call CW7(g)
call G6H(I2S(I07),O07,EC8)
set t=null
endfunction
function G0H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
if GetTriggerEventId()!=EVENT_UNIT_DAMAGED then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
if GetEventDamageSource()==EC8 and GetEventDamage()>0 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if DB9(O07)==false then
call G1H(EC8,O07)
endif
endif
endif
set t=null
set EC8=null
set O07=null
return false
endfunction
function G5H takes nothing returns nothing
local unit EC8=GetAttacker()
local unit O07=GetTriggerUnit()
local trigger t
local integer OC7
if UU7(EC8,"4325")==false then
call U67(EC8,"4325",0.2)
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,O07,EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2.5,false)
call TriggerAddCondition(t,Condition(function G0H))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
endif
set EC8=null
set O07=null
endfunction
function G2H takes nothing returns boolean
if GetUnitAbilityLevel(GetAttacker(),I_7)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))then
call G5H()
endif
return false
endfunction
function VR8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function G3H))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function G2H))
set t=null
endfunction
function G_H takes nothing returns nothing
local integer OC7=GetHandleId(GetTriggeringTrigger())
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit H4H=IN4
local unit O07=IP4
local integer H98=GetUnitAbilityLevel(EC8,J87)
if CK7(O07)==false then
call HD8(EC8,O07,ZG4,20+80*H98)
call F88(O07,J97,1,4,JD7)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),J97,false)
call UnitMakeAbilityPermanent(O07,true,1093815626)
endif
set EC8=null
set O07=null
set H4H=null
endfunction
function H7H takes nothing returns nothing
local unit EC8=JE7
local unit O07=GetEnumUnit()
local trigger t=EK8(JF7,O07,1747993925,"G_H",600)
local integer OC7=GetHandleId(t)
call SaveUnitHandle(L7,(OC7),(2),(EC8))
set EC8=null
set O07=null
set t=null
endfunction
function H8H takes unit EC8,unit O07 returns nothing
local integer H98=GetUnitAbilityLevel(EC8,J87)
local group g=CX7()
set IN4=EC8
set JE7=EC8
set JF7=O07
call GroupEnumUnitsInRange(g,GetUnitX(O07),GetUnitY(O07),500+25,Condition(function FT8))
call GroupRemoveUnit(g,O07)
call ForGroup(g,function H7H)
call CW7(g)
set EC8=null
set O07=null
set g=null
endfunction
function H9H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local unit E98=(LoadUnitHandle(L7,(OC7),(45)))
local real x=GetUnitX(E98)
local real y=GetUnitY(E98)
local real ED8=GetUnitX(O07)
local real EE8=GetUnitY(O07)
local real HDH=RF7(ED8,EE8,x,y)
local integer CP8=GetTriggerEvalCount(t)
local real EG8=PP7(x,y,ED8,EE8)
local real EH8
local real EI8
local real EF8=HDH/((JG7/.02)-CP8)
if EF8<JH7*0.02 then
set EF8=JH7*0.02
endif
set EH8=x+EF8*Cos(EG8*bj_DEGTORAD)
set EI8=y+EF8*Sin(EG8*bj_DEGTORAD)
call SetUnitX(E98,EH8)
call SetUnitY(E98,EI8)
call SetUnitFacing(E98,EG8)
if RF7(ED8,EE8,EH8,EI8)<=EF8 then
call KillUnit(E98)
call H8H(EC8,O07)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set O07=null
set EC8=null
set E98=null
return false
endfunction
function HEH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit E98=CreateUnit(GetOwningPlayer(EC8),1747993930,GetUnitX(EC8),GetUnitY(EC8),0)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function H9H))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveUnitHandle(L7,(OC7),(45),(E98))
set EC8=null
set O07=null
set E98=null
set t=null
endfunction
function HFH takes nothing returns boolean
if GetSpellAbilityId()==J87 then
call HEH()
endif
return false
endfunction
function VQ8 takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HFH))
set t=null
endfunction
function HGH takes nothing returns nothing
call H78(HX7,GetEnumUnit(),1.5)
call HD8(HX7,GetEnumUnit(),2,50+50*HY7)
endfunction
function HHH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local real a=(LoadReal(L7,(OC7),(137)))
local real ED8=(LoadReal(L7,(OC7),(47)))
local real EE8=(LoadReal(L7,(OC7),(48)))
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local group g=CX7()
local integer H98=GetUnitAbilityLevel(EC8,1093813812)
set x=D78(x+32*Cos(a))
set y=D88(y+32*Sin(a))
if RF7(x,y,ED8,EE8)<40 then
set x=ED8
set y=EE8
endif
call SetUnitX(EC8,x)
call SetUnitY(EC8,y)
call SetUnitFacing(EC8,a*bj_RADTODEG)
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,125+25,Condition(function FT8))
if FirstOfGroup(g)!=null or(x==ED8 and y==EE8)or GetTriggerEvalCount(t)>200 or GetTriggerEventId()==EVENT_WIDGET_DEATH then
call DestroyEffect(AddSpecialEffect("war3mapImported\\BlackDragonMissile.mdx",x,y))
call GroupEnumUnitsInRange(g,x,y,300+25,Condition(function FT8))
set HY7=H98
set HX7=EC8
if GetTriggerEventId()!=EVENT_WIDGET_DEATH then
call ForGroup(g,function HGH)
endif
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
call CW7(g)
set t=null
set EC8=null
set g=null
return false
endfunction
function HIH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local real ED8=GetSpellTargetX()
local real EE8=GetSpellTargetY()
local real a=PP7(x,y,ED8,EE8)*bj_DEGTORAD
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerRegisterDeathEvent(t,EC8)
call TriggerAddCondition(t,Condition(function HHH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveReal(L7,(OC7),(137),((a)*1.0))
call SaveReal(L7,(OC7),(47),((ED8)*1.0))
call SaveReal(L7,(OC7),(48),((EE8)*1.0))
set EC8=null
set t=null
endfunction
function HJH takes nothing returns boolean
if GetSpellAbilityId()==1093813812 then
call HIH()
endif
return false
endfunction
function Register_SonicBoom takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HJH))
set t=null
endfunction
function HKH takes nothing returns nothing
local unit EC8=HZ7
local unit O07=GetEnumUnit()
call E28(O07,1093813811,1,10)
call HD8(EC8,O07,2,50*HA7+2*GetHeroAgi(EC8,true))
set EC8=null
set O07=null
endfunction
function HMH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local real HNH=DQ8((TimerGetElapsed(W))-(LoadReal(L7,(GetHandleId(EC8)),(358))),5.0)
local integer H98=GetUnitAbilityLevel(EC8,1093813573)
local real B19=(40+80*H98)*(HNH)
local group g=CX7()
local real d=HNH*600
local real a=(LoadReal(L7,(GetHandleId(EC8)),(736)))
local real x=GetUnitX(EC8)+d*Cos(a)
local real y=GetUnitY(EC8)+d*Sin(a)
set IN4=EC8
call GroupEnumUnitsInRange(g,x,y,325,Condition(function FT8))
set HA7=H98
set HZ7=EC8
call ForGroup(g,function HKH)
call CW7(g)
call DZ8("effects\\BasicWaterFlash.mdx",x,y,1)
set EC8=null
set g=null
endfunction
function HOH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit CC7=(LoadUnitHandle(L7,(OC7),(14)))
call SetUnitTimeScale(CC7,1)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if GetTriggerEventId()!=EVENT_UNIT_DEATH then
call RR7(CC7)
endif
set t=null
set CC7=null
return false
endfunction
function HPH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit CC7=GetTriggerUnit()
local location l=GetSpellTargetLoc()
local real x=GetLocationX(l)
local real y=GetLocationY(l)
local real a=PP7(GetUnitX(CC7),GetUnitY(CC7),x,y)*bj_DEGTORAD
local real GM9=RMaxBJ(RF7(GetUnitX(CC7),GetUnitY(CC7),x,y)/600,0.32)
call RemoveLocation(l)
call SaveReal(L7,(GetHandleId(CC7)),(356),((x)*1.0))
call SaveReal(L7,(GetHandleId(CC7)),(357),((y)*1.0))
call SaveReal(L7,(GetHandleId(CC7)),(736),((a)*1.0))
call SaveReal(L7,(GetHandleId(CC7)),(358),(((TimerGetElapsed(W)))*1.0))
call SetUnitTimeScale(CC7,0.75)
call SaveUnitHandle(L7,(OC7),(14),(CC7))
call TriggerRegisterTimerEvent(t,GM9-0.01,false)
call TriggerRegisterUnitEvent(t,CC7,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function HOH))
set t=null
set l=null
set CC7=null
endfunction
function HQH takes nothing returns boolean
if GetSpellAbilityId()==1093813573 then
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST then
call SaveBoolean(L7,(GetHandleId(GetTriggerUnit())),(360),(false))
call HPH()
elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
call SaveBoolean(L7,(GetHandleId(GetTriggerUnit())),(360),(true))
elseif(LoadBoolean(L7,(GetHandleId(GetTriggerUnit())),(360)))==true then
call HMH()
endif
endif
return false
endfunction
function Register_WindBlast takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call D18(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HQH))
set t=null
endfunction
function HRH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if GetUnitAbilityLevel(EC8,1110456374)==0 and GetUnitAbilityLevel(EC8,1110456375)==0 then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call UnitRemoveAbility(EC8,1093813810)
call UnitRemoveAbility(EC8,1110459959)
endif
set t=null
set EC8=null
return false
endfunction
function HSH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
local unit O07=GetSpellTargetUnit()
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093813810,false)
call LM7(O07,1093813810)
call TriggerRegisterTimerEvent(t,0.2,true)
call TriggerAddCondition(t,Condition(function HRH))
call SaveUnitHandle(L7,(OC7),(2),(O07))
set EC8=null
set t=null
endfunction
function HTH takes nothing returns boolean
if GetSpellAbilityId()==1093813808 then
call HSH()
endif
return false
endfunction
function Register_WindBarrier takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HTH))
set t=null
endfunction
function HUH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=GetUnitAbilityLevel(EC8,1093813813)
local integer id
local integer HVH
call FlushChildHashtable(L7,(OC7))
call UA7(t)
if IsUnitAlly(O07,GetOwningPlayer(EC8))==true then
set HVH=1110459960
if H98==1 then
set id=1093813831
elseif H98==2 then
set id=1093813830
elseif H98==3 then
set id=1093813832
endif
call SetUnitState(O07,UNIT_STATE_LIFE,GetUnitState(O07,UNIT_STATE_LIFE)+100+50*H98)
else
set HVH=1110459961
if H98==1 then
set id=1093813828
elseif H98==2 then
set id=1093813827
elseif H98==3 then
set id=1093813829
endif
call HD8(EC8,O07,1,100+50*H98)
endif
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),id,false)
call F88(O07,id,1,4,HVH)
set t=null
set EC8=null
set O07=null
return false
endfunction
function HWH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetEnumUnit()
local unit H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call D59(O07)
call DL9(O07,0,0)
call UnitAddAbility(H88,1093813833)
call IssueTargetOrder(H88,"cyclone",O07)
call TriggerRegisterTimerEvent(t,4,false)
call TriggerAddCondition(t,Condition(function HUH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(O07))
set t=null
set EC8=null
set O07=null
set H88=null
endfunction
function HXH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local real ED8=GetSpellTargetX()
local real EE8=GetSpellTargetY()
local group g=CX7()
call E88(GetOwningPlayer(EC8),4,ED8,EE8,300)
call GroupEnumUnitsInRange(g,ED8,EE8,400+25,Condition(function FE8))
call ForGroup(g,function HWH)
call CW7(g)
set EC8=null
set g=null
endfunction
function HYH takes nothing returns boolean
if GetSpellAbilityId()==1093813813 then
call HXH()
endif
return false
endfunction
function Register_PrevailingWinds takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HYH))
set t=null
endfunction
function HZH takes nothing returns nothing
local integer OC7=GetHandleId(GetTriggeringTrigger())
local unit EC8=IN4
local unit O07=IP4
local unit H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
local real B19=GetUnitAbilityLevel(EC8,1093813844)*60+40
call UnitAddAbility(H88,1093813845)
call IssueTargetOrder(H88,"ensnare",O07)
call HD8(EC8,O07,1,B19)
set H88=null
set EC8=null
set O07=null
endfunction
function HAH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local group g=CX7()
local real x=GetUnitX(EC8)
local real y=GetUnitY(EC8)
local unit u1=null
local unit u2=null
local unit u3=null
local integer QD7=0
local unit u
local trigger t
call GroupEnumUnitsInRange(g,x,y,425,Condition(function F58))
loop
exitwhen FirstOfGroup(g)==null or QD7==3
set u=GroupPickRandomUnit(g)
if u!=null then
if QD7==0 then
set u1=u
elseif QD7==1 then
set u2=u
elseif QD7==2 then
set u3=u
endif
set QD7=QD7+1
call GroupRemoveUnit(g,u)
endif
endloop
call CW7(g)
if u1!=null then
call EK8(EC8,u1,1747993690,"HZH",400)
endif
if u2!=null then
call EK8(EC8,u2,1747993690,"HZH",400)
endif
if u3!=null then
call EK8(EC8,u3,1747993690,"HZH",400)
endif
set g=null
set EC8=null
set u=null
set u1=null
set u2=null
set u3=null
endfunction
function HBH takes nothing returns boolean
if GetSpellAbilityId()==1093813844 then
call HAH()
endif
return false
endfunction
function Register_HolyShackles takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function HBH))
set t=null
endfunction
function HCH takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local integer ZP9=(LoadInteger(L7,(OC7),(30)))
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer CP8=(LoadInteger(L7,(GetHandleId(EC8)),(737)))
local trigger H3H=(LoadTriggerHandle(L7,(GetHandleId(EC8)),(738)))
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamageSource()==EC8 then
call DisableTrigger(t)
call FlushChildHashtable(L7,(OC7))
call UA7(t)
set CP8=CP8-1
if CP8==0 then
call FlushChildHashtable(L7,(GetHandleId(H3H)))
call UA7(H3H)
call RemoveSavedHandle(L7,(GetHandleId(EC8)),(738))
call SaveInteger(L7,(GetHandleId(EC8)),(737),(-1))
call UnitRemoveAbility(EC8,1093813838)
call UnitRemoveAbility(EC8,1110459969)
else
call SaveInteger(L7,(GetHandleId(EC8)),(737),(CP8))
endif
endif
else
call FlushChildHashtable(L7,(OC7))
call UA7(t)
endif
set t=null
set O07=null
set EC8=null
set H3H=null
return false
endfunction
function H6H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit EC8=(LoadUnitHandle(L7,(OC7),(2)))
if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED then
call FlushChildHashtable(L7,(OC7))
call UA7(t)
call RemoveSavedHandle(L7,(GetHandleId(EC8)),(738))
call SaveInteger(L7,(GetHandleId(EC8)),(737),(-1))
call UnitRemoveAbility(EC8,1093813838)
call UnitRemoveAbility(EC8,1110459969)
elseif GetAttacker()==EC8 then
set t=CreateTrigger()
set OC7=GetHandleId(t)
call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterTimerEvent(t,2,false)
call TriggerAddCondition(t,Condition(function HCH))
call SaveUnitHandle(L7,(OC7),(2),(EC8))
call SaveUnitHandle(L7,(OC7),(17),(GetTriggerUnit()))
endif
set t=null
set EC8=null
return false
endfunction
function HLH takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call SetPlayerAbilityAvailable(GetOwningPlayer(O07),1093813838,false)
call LM7(O07,1093813838)
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterTimerEvent(t,12,false)
call TriggerAddCondition(t,Condition(function H6H))
call SaveUnitHandle(L7,(OC7),(2),(O07))
call SaveInteger(L7,(GetHandleId(O07)),(737),(GetUnitAbilityLevel(EC8,1093813841)+1))
call SaveTriggerHandle(L7,(GetHandleId(O07)),(738),(t))
set O07=null
set t=null
set EC8=null
endfunction
function H1H takes nothing returns boolean
if GetSpellAbilityId()==1093813841 then
call HLH()
endif
return false
endfunction
function Register_Focus takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function H1H))
set t=null
endfunction
function H0H takes nothing returns boolean
local trigger t=GetTriggeringTrigger()
local integer OC7=GetHandleId(t)
local unit O07=(LoadUnitHandle(L7,(OC7),(17)))
local integer H98=(LoadInteger(L7,(OC7),(5)))
local unit H88
if GetTriggerEvalCount(t)==1 then
set H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
call UnitAddAbility(H88,1093813847)
call IssueTargetOrder(H88,"doom",O07)
endif
if(H98+3)*10<GetTriggerEvalCount(t)then
call UnitRemoveAbility(O07,1110459974)
call UnitRemoveAbility(O07,1098282348)
call UnitRemoveAbility(O07,1093678162)
call UnitRemoveAbility(O07,1096971630)
call DestroyEffect((LoadEffectHandle(L7,(OC7),(32))))
call FlushChildHashtable(L7,(OC7))
call UA7(t)
else
call D59(O07)
call DL9(O07,0,0)
endif
set t=null
set O07=null
return false
endfunction
function H5H takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local trigger t=CreateTrigger()
local integer OC7=GetHandleId(t)
call LM7(O07,1098282348)
call LM7(O07,1096971630)
call LM7(O07,1093678162)
call TriggerRegisterTimerEvent(t,0.1,true)
call TriggerAddCondition(t,Condition(function H0H))
call SaveInteger(L7,(OC7),(5),(GetUnitAbilityLevel(EC8,1093813836)))
call SaveUnitHandle(L7,(OC7),(17),(O07))
call SaveEffectHandle(L7,(OC7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DivineShield\\DivineShieldTarget.mdl",O07,"origin")))
call D59(O07)
call DL9(O07,0,0)
set t=null
set O07=null
set EC8=null
endfunction
function H2H takes nothing returns boolean
if GetSpellAbilityId()==1093813836 then
call H5H()
endif
return false
endfunction
function Register_DivineIntervention takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function H2H))
set t=null
endfunction
function H_H takes nothing returns nothing
local unit EC8=GetTriggerUnit()
local unit O07=GetSpellTargetUnit()
local unit H88=CreateUnit(GetOwningPlayer(O07),1697656901,GetUnitX(O07),GetUnitY(O07),0)
local integer H98=GetUnitAbilityLevel(EC8,1093813583)
call UnitAddAbility(H88,1093813584)
call IssuePointOrder(H88,"silence",GetUnitX(O07),GetUnitY(O07))
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FrozenOrb_NoTrail.mdx",O07,"chest"))
call HD8(EC8,O07,1,H98*75)
set EC8=null
set H88=null
set O07=null
endfunction
function I4H takes nothing returns boolean
if GetSpellAbilityId()==1093813583 then
call H_H()
endif
return false
endfunction
function Register_Chill takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function I4H))
set t=null
endfunction
function InitCustomTeams takes nothing returns nothing
call SetPlayerTeam(Player(1),0)
call SetPlayerTeam(Player(2),0)
call SetPlayerTeam(Player(3),0)
call SetPlayerTeam(Player(4),0)
call SetPlayerTeam(Player(5),0)
call SetPlayerTeam(Player(7),1)
call SetPlayerTeam(Player(8),1)
call SetPlayerTeam(Player(9),1)
call SetPlayerTeam(Player(10),1)
call SetPlayerTeam(Player(11),1)
endfunction
function I7H takes string I8H,string I9H,integer IDH returns integer
local integer i=IDH
local string IEH=null
loop
exitwhen i==StringLength(I8H)
set IEH=SubString(I8H,i,i+1)
if(IEH==I9H)then
return i
endif
set i=i+1
endloop
return-1
endfunction
function IFH takes nothing returns nothing
local string IGH=GetEventPlayerChatString()
local integer IHH=I7H(IGH," ",0)
local integer IIH=I7H(IGH," ",IHH+1)
local integer IJH=S2I(SubString(IGH,IHH,IIH+1))
local string IKH=SubString(IGH,IIH+1,StringLength(IGH))
local boolean IMH=false
local integer i=0
set IKH="+"+IKH
if IJH<12 then
loop
exitwhen i==14
if(IKH==GetPlayerName(Player(i)))then
set IMH=true
endif
set i=i+1
endloop
if((not IMH)and(UG4>0)and(GetPlayerController(Player(IJH))==MAP_CONTROL_COMPUTER)and(IJH!=0)and(IJH!=6)and(IJH<12)and(StringLength(IKH)<20))then
set KZ4[IJH]=IKH
call SetPlayerName(Player(IJH),IKH)
set UG4=UG4-1
endif
endif
endfunction
function INH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer i=0
loop
exitwhen i==14
call TriggerRegisterPlayerChatEvent(t,Player(i),"-rn ",false)
set i=i+1
endloop
call TriggerAddAction(t,function IFH)
set t=null
endfunction
function IOH takes nothing returns nothing
local real dt=TimerGetElapsed(W)
local real X
local real Y
local real dx
local real dy
local real Vx
local real Vy
local group g=CX7()
local unit CC7=GetOrderedUnit()
local unit O07
local integer i=1
local integer H98
call SyncSelections()
call GroupEnumUnitsSelected(g,GetTriggerPlayer(),null)
set O07=FirstOfGroup(g)
call CW7(g)
set g=null
set dx=GetUnitX(O07)
set dy=GetUnitY(O07)
call R47(0.1)
set dt=TimerGetElapsed(W)-dt
set X=GetUnitX(O07)
set Y=GetUnitY(O07)
set dx=(X-dx)/dt
set dy=(Y-dy)/dt
loop
set CC7=M7[i]
set H98=GetUnitAbilityLevel(CC7,1093678665)
if H98>0 then
set dt=CY7(40./0.03,X+dx*0.3-GetUnitX(CC7),Y+dy*0.3-GetUnitY(CC7),dx,dy)
if dt>0 and dt<=((400.+200.*H98)*0.03/40.)then
call IssuePointOrderById(CC7,852600,X+dx*(dt+0.3),Y+dy*(dt+0.3))
endif
endif
set i=i+1
exitwhen i>10
endloop
set O07=null
set CC7=null
endfunction
function Test_70 takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterPlayerEvent(t,Z7[1],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,Z7[2],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,Z7[3],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,Z7[4],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,Z7[5],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,A7[1],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,A7[2],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,A7[3],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,A7[4],EVENT_PLAYER_END_CINEMATIC)
call TriggerRegisterPlayerEvent(t,A7[5],EVENT_PLAYER_END_CINEMATIC)
call TriggerAddAction(t,function IOH)
endfunction
function Test_3 takes nothing returns boolean
call TriggerSleepAction(2)
return false
endfunction
function Test_32 takes nothing returns nothing
call TriggerSleepAction(2)
endfunction
function Test_33 takes nothing returns boolean
call TriggerSleepAction(2)
return false
endfunction
function Test_34 takes nothing returns nothing
call TriggerSleepAction(2)
endfunction
function Test_35 takes nothing returns nothing
call TriggerSleepAction(2)
endfunction
function Test01 takes nothing returns nothing
call KillUnit(JH4)
call KillUnit(JK4)
call HI9()
call HI9()
call HI9()
call HI9()
call HI9()
call G09()
endfunction
function testKill takes nothing returns nothing
call UnitDamageTarget(JA4,GetEnumUnit(),10000000,true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
endfunction
function test141 takes nothing returns boolean
return true
endfunction
function test142 takes nothing returns boolean
return true
endfunction
function aiDEBUG122 takes nothing returns nothing
endfunction
function IPH takes nothing returns nothing
endfunction
function Test takes nothing returns nothing
local unit j5=M7[GetPlayerId(Player(2))]
local unit m5=M7[GetPlayerId(Player(7))]
local boolean VL7=false
local item V67=null
local integer i=0
local integer UP=0
local group g
local trigger t=null
local timer t2=null
set UP=S2I(SubString(GetEventPlayerChatString(),3,255))
if UP==0 then
call KillUnit(JL4)
call KillUnit(J54)
call HI9()
call HI9()
call HI9()
call HI9()
call HI9()
call G19()
elseif UP==1 then
call KillUnit(JL4)
call KillUnit(J64)
call KillUnit(J14)
call HI9()
call HI9()
call KillUnit(M7[7])
call KillUnit(M7[8])
call G19()
elseif UP==2 then
set i=1
loop
exitwhen i>11
if i==6 then
set i=7
endif
if M7[i]!=null then
call DisplayTextToPlayer(GetLocalPlayer(),0,0,"EHP Modifier "+I2S(i)+": "+R2S(hq[752+i])+"/"+R2S(hq[720+i])+" - d% = "+R2S(hq[704+i]))
endif
set i=i+1
endloop
elseif UP==3 then
call JZF(M7[7],M7[1])
elseif UP==4 then
call EnumItemsInRect(ED,Q24,function IPH)
elseif UP==5 then
set MW7=true
elseif UP==110 then
call LM7(M7[1],1093813555)
call SetUnitAbilityLevel(M7[1],1093813555,4)
call VK8()
elseif UP==111 then
set bj_lastLoadedUnit=U87(GetHandleId(Player(1)),"MyBear")
if CL7(M7[1],bj_lastLoadedUnit,2800,0.8,1400)!=null then
set EM7=ZU7(M7[1],1400)
call UnitResetCooldown(M7[1])
call SetUnitState(M7[1],UNIT_STATE_MANA,99999.)
call DestroyEffect(AddSpecialEffectLoc("UI\\Feedback\\GoldCredit\\GoldCredit.mdl",GM7))
call IssuePointOrderByIdLoc(M7[1],852662,GM7)
if EM7 then
elseif bj_enumDestructableRadius==0 then
else
endif
endif
elseif UP==120 then
set i=0
loop
exitwhen i>5
set EP7=UnitItemInSlot(MU7,i)
set i=i+1
endloop
elseif UP==121 then
set i=1
loop
exitwhen i>5
call SetUnitState(M7[GetPlayerId(A7[i])],UNIT_STATE_LIFE,50)
set i=i+1
endloop
elseif UP==122 then
elseif UP==123 then
call SetItemPlayer(CreateItem(SU[EW],GetUnitX(M7[1]),GetUnitY(M7[1])),Player(2),false)
else
call GroupClear(H8)
call GroupEnumUnitsSelected(H8,Player(1),null)
set bj_lastLoadedUnit=FirstOfGroup(H8)
set bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit))
call DisableTrigger(Q04[bj_forLoopAIndex])
call EnableTrigger(Q04[bj_forLoopAIndex])
endif
set j5=null
set m5=null
set V67=null
set g=null
endfunction
function IQH takes nothing returns nothing
set XE4=CreateRegion()
call RegionAddRect(XE4,OD)
set XF4=CreateRegion()
call RegionAddRect(XF4,PD)
set XG4=CreateRegion()
call RegionAddRect(XG4,WD)
call RegionAddRect(XG4,XD)
call RegionAddRect(XG4,YD)
set XH4=CreateRegion()
call RegionAddRect(XH4,ZD)
call RegionAddRect(XH4,AD)
call RegionAddRect(XH4,BD)
set IU4=CreateRegion()
call RegionAddRect(IU4,LD)
call RegionAddRect(IU4,KE)
call RegionAddRect(IU4,RE)
call RegionAddRect(IU4,SE)
call RegionAddRect(IU4,TE)
call RegionAddRect(IU4,WE)
call RegionAddRect(IU4,YE)
call RegionAddRect(IU4,ZE)
call RegionAddRect(IU4,EF)
call RegionAddRect(IU4,FF)
call RegionAddRect(IU4,GF)
call RegionAddRect(IU4,HF)
call RegionAddRect(IU4,JF)
call RegionAddRect(IU4,KF)
call RegionAddRect(IU4,MF)
call RegionAddRect(IU4,NF)
call RegionAddRect(IU4,OF)
call RegionAddRect(IU4,PF)
call RegionAddRect(IU4,QF)
call RegionAddRect(IU4,RF)
call RegionAddRect(IU4,SF)
call RegionAddRect(IU4,TF)
call RegionAddRect(IU4,UF)
call RegionAddRect(IU4,WF)
call RegionAddRect(IU4,XF)
call RegionAddRect(IU4,YF)
call RegionAddRect(IU4,ZF)
call RegionAddRect(IU4,BF)
call RegionAddRect(IU4,CF)
call RegionAddRect(IU4,LF)
call RegionAddRect(IU4,DG)
call RegionAddRect(IU4,EG)
call RegionAddRect(IU4,FG)
call RegionAddRect(IU4,GG)
call RegionAddRect(IU4,JG)
call RegionAddRect(IU4,MG)
call RegionAddRect(IU4,OG)
call RegionAddRect(IU4,PG)
call RegionAddRect(IU4,QG)
call RegionAddRect(IU4,RG)
call RegionAddRect(IU4,SG)
call RegionAddRect(IU4,TG)
call RegionAddRect(IU4,UG)
call RegionAddRect(IU4,VG)
call RegionAddRect(IU4,WG)
call RegionAddRect(IU4,XG)
call RegionAddRect(IU4,ZG)
call RegionAddRect(IU4,AG)
call RegionAddRect(IU4,BG)
call RegionAddRect(IU4,CG)
call RegionAddRect(IU4,LG)
call RegionAddRect(IU4,DH)
call RegionAddRect(IU4,EH)
call RegionAddRect(IU4,HH)
call RegionAddRect(IU4,OH)
call RegionAddRect(IU4,PH)
call RegionAddRect(IU4,QH)
call RegionAddRect(IU4,RH)
call RegionAddRect(IU4,TH)
call RegionAddRect(IU4,UH)
call RegionAddRect(IU4,WH)
call RegionAddRect(IU4,XH)
call RegionAddRect(IU4,YH)
call RegionAddRect(IU4,ZH)
call RegionAddRect(IU4,AH)
call RegionAddRect(IU4,CH)
call RegionAddRect(IU4,DI)
call RegionAddRect(IU4,EI)
call RegionAddRect(IU4,GI)
call RegionAddRect(IU4,HI)
call RegionAddRect(IU4,II)
call RegionAddRect(IU4,JI)
call RegionAddRect(IU4,NI)
call RegionAddRect(IU4,PI)
call RegionAddRect(IU4,SI)
call RegionAddRect(IU4,TI)
call RegionAddRect(IU4,UI)
call RegionAddRect(IU4,WI)
call RegionAddRect(IU4,XI)
call RegionAddRect(IU4,YI)
call RegionAddRect(IU4,BI)
call RegionAddRect(IU4,CI)
call RegionAddRect(IU4,LI)
call RegionAddRect(IU4,TJ)
call RegionAddRect(IU4,MK)
call RegionAddRect(IU4,UK)
call RegionAddRect(IU4,YK)
call RegionAddRect(IU4,SM)
call RegionAddRect(IU4,TM)
call RegionAddRect(IU4,UM)
call RegionAddRect(IU4,WM)
call RegionAddRect(IU4,YM)
call RegionAddRect(IU4,ZM)
call RegionAddRect(IU4,JN)
call RegionAddRect(IU4,MN)
endfunction
function IRH takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(t,Condition(function EWG))
set t=null
endfunction
function ISH takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerAddCondition(t,Condition(function EXG))
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
set XN4=t
set t=null
endfunction
function ITH takes nothing returns nothing
local trigger t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t,Condition(function H2G))
set t=null
endfunction
function IUH takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,14.,false)
call TriggerAddCondition(t,Condition(function YD9))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,15.,false)
call TriggerAddCondition(t,Condition(function Y89))
set t=null
endfunction
function IVH takes nothing returns nothing
set XI4=CreateTrigger()
call TriggerRegisterTimerEventSingle(XI4,65.00)
call TriggerAddAction(XI4,function YE9)
endfunction
function IWH takes nothing returns nothing
set XJ4=CreateTrigger()
call TriggerRegisterTimerEventSingle(XJ4,90.00)
call TriggerAddAction(XJ4,function YF9)
endfunction
function IXH takes nothing returns nothing
set H54=CreateTrigger()
call TriggerRegisterTimerEventSingle(H54,120.00)
call TriggerAddAction(H54,function YG9)
endfunction
function IYH takes nothing returns nothing
local location I_9
set I_9=GetRectCenter(ND)
set V4=CreateUnitAtLoc(Player(12),1848651852,I_9,bj_UNIT_FACING)
call SetUnitAcquireRange(V4,150)
call RemoveLocation(I_9)
call UnitAddItem(V4,CreateItem(ZU[X0],0,0))
call UnitAddAbility(V4,1093743666)
set I_9=GetRectCenter(Br)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,I_9,0))
call RemoveLocation(I_9)
set I_9=GetRectCenter(cr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,I_9,0))
call RemoveLocation(I_9)
set I_9=GetRectCenter(Cr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,I_9,0))
call RemoveLocation(I_9)
set I_9=GetRectCenter(fr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,I_9,0))
call RemoveLocation(I_9)
set I_9=GetRectCenter(Fr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,I_9,0))
call RemoveLocation(I_9)
set I_9=GetRectCenter(Hr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,I_9,0))
call RemoveLocation(I_9)
set I_9=GetRectCenter(jr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,I_9,0))
call RemoveLocation(I_9)
set I_9=GetRectCenter(Jr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,I_9,0))
call RemoveLocation(I_9)
set I_9=GetRectCenter(lr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,I_9,0))
call RemoveLocation(I_9)
set I_9=GetRectCenter(mr)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,I_9,0))
call RemoveLocation(I_9)
set I_9=GetRectCenter(Ni)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,I_9,0))
call RemoveLocation(I_9)
set I_9=GetRectCenter(Bi)
call RemoveUnit(CreateUnitAtLoc(B7,1966092337,I_9,0))
call RemoveLocation(I_9)
set I_9=null
endfunction
function aiAutoInitDEDG takes nothing returns nothing
if not LT then
call U29()
endif
if not WT then
call U_9()
endif
endfunction
function WW9 takes nothing returns nothing
local integer O5=1
local integer IZH=0
local integer IAH=0
local boolean IBH=false
local boolean ICH=false
local trigger t=null
call DestroyTrigger(GetTriggeringTrigger())
if LO4 then
return
endif
set O5=1
loop
exitwhen(O5>5 or(Z44!=null and Z74!=null))
if(GetPlayerSlotState(Z7[O5])==PLAYER_SLOT_STATE_PLAYING)and Z44==null then
set Z44=Z7[O5]
endif
if(GetPlayerSlotState(A7[O5])==PLAYER_SLOT_STATE_PLAYING)and Z74==null then
set Z74=A7[O5]
endif
set O5=O5+1
endloop
set O5=1
loop
exitwhen O5>5
if Z17(Z7[O5])then
if(IZH<3)then
set eY[64+GetPlayerId(Z7[O5])]=IZH
elseif(IZH==3)then
set eY[64+GetPlayerId(Z7[O5])]=0
else
set eY[64+GetPlayerId(Z7[O5])]=GetRandomInt(1,2)
endif
call ForceAddPlayer(QX4,Z7[O5])
set QY4[GetPlayerId(Z7[O5])]=true
set IZH=IZH+1
set IBH=true
endif
if Z17(A7[O5])then
if(IAH<3)then
if IAH==1 then
set eY[64+GetPlayerId(A7[O5])]=2
elseif IAH==2 then
set eY[64+GetPlayerId(A7[O5])]=1
else
set eY[64+GetPlayerId(A7[O5])]=IAH
endif
elseif(IAH==3)then
set eY[64+GetPlayerId(A7[O5])]=0
else
set eY[64+GetPlayerId(A7[O5])]=GetRandomInt(1,2)
endif
call ForceAddPlayer(QX4,A7[O5])
set QY4[GetPlayerId(A7[O5])]=true
set IAH=IAH+1
set ICH=true
endif
set O5=O5+1
endloop
set O5=1
loop
exitwhen O5>5
if(Z17(Z7[O5]))then
call XFF(Z7[O5],IZH)
endif
if(Z17(A7[O5]))then
call XFF(A7[O5],IAH)
endif
set O5=O5+1
endloop
if((IBH)or(ICH))then
set O5=1
loop
exitwhen O5>5
if Z17(Z7[O5])then
call XEF(Z7[O5])
endif
if Z17(A7[O5])then
call XEF(A7[O5])
endif
set O5=O5+1
endloop
set O5=1
loop
exitwhen O5>5
if(ZL7(Z7[O5]))then
set QT4=Z7[O5]
if(IBH)then
call DisplayTimedTextToForce(X7,10.,Q[GetPlayerId(QT4)]+GetPlayerName(QT4)+GetObjectName(1496331828)+Q[0]+GetPlayerName(Z7[0])+"|r")
call DisplayTimedTextToPlayer(QT4,0,0,10.,GetObjectName(1496331833))
call RP9(QT4)
else
set FK7=false
endif
exitwhen true
endif
set O5=O5+1
endloop
set O5=1
loop
exitwhen O5>5
if(ZL7(A7[O5]))then
set QU4=A7[O5]
if(ICH)then
call DisplayTimedTextToForce(Y7,10.,Q[GetPlayerId(QU4)]+GetPlayerName(QU4)+GetObjectName(1496331828)+Q[6]+GetPlayerName(A7[0])+"|r")
call DisplayTimedTextToPlayer(QU4,0,0,10.,GetObjectName(1496331833))
call RP9(QU4)
else
set FM7=false
endif
exitwhen true
endif
set O5=O5+1
endloop
if(IBH and QT4==null and QU4!=null)then
call DisplayTimedTextToPlayer(QU4,0,0,10.,GetObjectName(1496331832))
endif
if(ICH and QT4!=null and QU4==null)then
call DisplayTimedTextToPlayer(QT4,0,0,10.,GetObjectName(1496331832))
endif
set DV7=CreateTrigger()
call XGF(DV7,true,IBH,ICH)
call TriggerAddAction(DV7,function WFF)
set DW7=CreateTrigger()
call XGF(DW7,false,ICH,IBH)
call TriggerAddAction(DW7,function WFF)
call TriggerAddAction(QA4,function D7F)
if((not D4)and(not RZ4)and(not A8)and(not P74)and(not P84)and(not H34)and(not O9)and(not O04)and(not W8)and(not SN4))then
set t=CreateTrigger()
if(QT4!=null)then
call TriggerRegisterPlayerChatEvent(t,QT4,"-airepick",false)
call DisplayTimedTextToPlayer(QT4,0,0,10.,"You can make AI repick their hero using "+F07+"-airepick|r")
endif
if(QU4!=null)then
call TriggerRegisterPlayerChatEvent(t,QU4,"-airepick",false)
call DisplayTimedTextToPlayer(QU4,0,0,10.,"You can make AI repick their hero using "+F07+"-airepick|r")
endif
call TriggerAddAction(t,function D4F)
endif
if(QT4!=null)then
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,QT4,"-aigrant",false)
call TriggerAddAction(t,function XMF)
endif
if(QU4!=null)then
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,QU4,"-aigrant",false)
call TriggerAddAction(t,function XMF)
endif
set t=CreateTrigger()
call TriggerAddAction(t,function D4F)
call DisplayTimedTextToPlayer(QT4,0,0,10.," ")
call DisplayTimedTextToPlayer(QU4,0,0,10.," ")
if(TL4)then
set T14[1]=ZU[F5]
set T14[2]=ZU[G5]
set T14[3]=ZU[J5]
set T14[4]=ZU[M5]
set T14[5]=ZU[N5]
set T04[1]=180.
set T04[2]=160.
set T04[3]=140.
set T04[4]=120.
set T04[5]=100.
endif
call H5F()
set Q64=CreateTrigger()
call TriggerRegisterUnitInRange(Q64,JA4,6000.,null)
call TriggerRegisterUnitInRange(Q64,J34,1500.,null)
call TriggerAddCondition(Q64,Condition(function I3F))
call DisableTrigger(Q64)
set Q14=CreateTrigger()
call TriggerRegisterTimerEvent(Q14,5.,true)
call TriggerAddCondition(Q14,Condition(function I6F))
call DisableTrigger(Q14)
set Q34=CreateTrigger()
call TriggerRegisterUnitInRange(Q34,IZ4,6000.,null)
call TriggerRegisterUnitInRange(Q34,JF4,1500.,null)
call TriggerAddCondition(Q34,Condition(function ILF))
call DisableTrigger(Q34)
set QL4=CreateTrigger()
call TriggerRegisterTimerEvent(QL4,5.,true)
call TriggerAddCondition(QL4,Condition(function I1F))
call DisableTrigger(QL4)
set E37[0]=GetUnitX(IZ4)
set E37[1]=GetUnitY(IZ4)
set E37[2]=(GetUnitX(JF4)+GetUnitX(JQ4)+GetUnitX(JR4))/3
set E37[3]=(GetUnitY(JF4)+GetUnitY(JQ4)+GetUnitY(JR4))/3
set E37[4]=(GetUnitX(JG4)+GetUnitX(JS4)+GetUnitX(JV4))/3
set E37[5]=(GetUnitY(JG4)+GetUnitY(JS4)+GetUnitY(JV4))/3
set E37[6]=(GetUnitX(JH4)+GetUnitX(JT4)+GetUnitX(JW4))/3
set E37[7]=(GetUnitY(JH4)+GetUnitY(JT4)+GetUnitY(JW4))/3
set E37[8]=(GetUnitX(JI4)+GetUnitX(JU4)+GetUnitX(JX4))/3
set E37[9]=(GetUnitY(JI4)+GetUnitY(JU4)+GetUnitY(JX4))/3
set E37[24]=GetUnitX(JA4)
set E37[25]=GetUnitY(JA4)
set E37[26]=(GetUnitX(J34)+GetUnitX(K84)+GetUnitX(K94))/3
set E37[27]=(GetUnitY(J34)+GetUnitY(K84)+GetUnitY(K94))/3
set E37[28]=(GetUnitX(J64)+GetUnitX(KD4)+GetUnitX(KG4))/3
set E37[29]=(GetUnitY(J64)+GetUnitY(KD4)+GetUnitY(KG4))/3
set E37[30]=(GetUnitX(JL4)+GetUnitX(KE4)+GetUnitX(KH4))/3
set E37[31]=(GetUnitY(JL4)+GetUnitY(KE4)+GetUnitY(KH4))/3
set E37[32]=(GetUnitX(J14)+GetUnitX(KF4)+GetUnitX(KI4))/3
set E37[33]=(GetUnitY(J14)+GetUnitY(KF4)+GetUnitY(KI4))/3
set O5=0
loop
exitwhen O5>23
set EC7[O5]=null
set EC7[24+O5]=null
set O5=O5+1
endloop
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,JA4,1200.,Q24)
call TriggerAddCondition(t,Condition(function MFF))
call TriggerAddAction(t,function MIF)
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,IZ4,1200.,Q24)
call TriggerAddCondition(t,Condition(function MGF))
call TriggerAddAction(t,function MIF)
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)
call TriggerAddCondition(t,Condition(function TJF))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,45.,false)
call TriggerAddAction(t,function XKF)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,20.,false)
call TriggerAddCondition(t,Condition(function TX9))
set O5=1
loop
if(IsPlayerInForce(Player(O5),QX4))then
set NI7[NJ7+O5]=Location(0,0)
set NI7[NK7+O5]=Location(0,0)
set Q04[O5]=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(Q04[O5],Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,Q24)
call TriggerRegisterPlayerUnitEvent(Q04[O5],Player(O5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Q24)
call TriggerAddCondition(Q04[O5],Condition(function SMF))
call TriggerAddAction(Q04[O5],function SNF)
set Q04[16+O5]=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(Q04[16+O5],Player(O5),EVENT_PLAYER_UNIT_ISSUED_ORDER,Q24)
call TriggerAddCondition(Q04[16+O5],Condition(function SMF))
call TriggerAddAction(Q04[16+O5],function SSF)
set Q04[96+O5]=CreateTrigger()
call DisableTrigger(Q04[96+O5])
call TriggerRegisterTimerEvent(Q04[96+O5],0.2,true)
call TriggerAddCondition(Q04[96+O5],Condition(function VZ7))
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function M9F))
call TriggerAddAction(t,function MDF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function MJF))
call TriggerAddAction(t,function MKF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,Q24)
call TriggerAddCondition(t,Condition(function JUF))
call TriggerAddAction(t,function JVF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_USE_ITEM,Q24)
call TriggerAddCondition(t,Condition(function Y67))
call TriggerAddAction(t,function STF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function T8F))
call TriggerAddAction(t,function T9F)
endif
if(GetPlayerSlotState(Player(O5))==PLAYER_SLOT_STATE_PLAYING)then
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,Q24)
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Q24)
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_ORDER,Q24)
call TriggerAddCondition(t,Condition(function SKF))
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_DEATH,Q24)
call TriggerAddCondition(t,Condition(function M8F))
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function MNF))
call TriggerAddAction(t,function MUF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,Q24)
call TriggerAddCondition(t,Condition(function MVF))
call TriggerAddAction(t,function MWF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,Q24)
call TriggerAddCondition(t,Condition(function YL7))
call TriggerAddAction(t,function SYF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_FINISH,Q24)
call TriggerAddCondition(t,Condition(function YL7))
call TriggerAddAction(t,function SBF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,Q24)
call TriggerAddCondition(t,Condition(function YL7))
call TriggerAddAction(t,function S3F)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,Q24)
call TriggerAddCondition(t,Condition(function T7F))
call TriggerAddAction(t,function T9F)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_CAST,Q24)
call TriggerAddCondition(t,Condition(function U9F))
call TriggerAddAction(t,function VNF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_ENDCAST,Q24)
call TriggerAddAction(t,function VPF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,Q24)
call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Q24)
call TriggerAddCondition(t,Condition(function SQF))
call TriggerAddAction(t,function SRF)
if GetPlayerController(Player(O5))==MAP_CONTROL_USER and(not SN4)then
call WO9(Player(O5),true)
call WP9(Player(O5),true)
endif
endif
set O5=O5+1
exitwhen O5>11
endloop
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function MZF))
call TriggerAddAction(t,function M3F)
call NSF()
call NXF()
set t=CreateTrigger()
call B6(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function S6F))
call TriggerAddAction(t,function S_F)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_DEATH,Q24)
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_DEATH,Q24)
call TriggerAddCondition(t,Condition(function M6F))
set t=CreateTrigger()
call c6(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerRegisterPlayerUnitEvent(t,Player(12),EVENT_PLAYER_UNIT_ATTACKED,Q24)
call TriggerAddCondition(t,Condition(function S6F))
call TriggerAddAction(t,function S_F)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,200.,false)
call TriggerAddAction(t,function XDF)
set GV7=CreateTrigger()
call TriggerRegisterTimerEvent(GV7,9.,true)
call TriggerAddAction(GV7,function WJF)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,B7,EVENT_PLAYER_UNIT_DEATH,Condition(function ZV7))
call TriggerAddAction(t,function N_F)
call OF7()
set PZ4=true
set PA4=true
if(((TH7(true)==1)and(TH7(false)>2))or((TH7(true)==2)and(TH7(false)==5)))then
set PC4=10
else
set PC4=GetRandomInt(11,15)
endif
if(((TH7(false)==1)and(TH7(true)>2))or((TH7(false)==2)and(TH7(true)==5)))then
set PB4=10
else
set PB4=GetRandomInt(11,15)
endif
if(R4)then
call BC7(bj_FORCE_ALL_PLAYERS,30.,"
The AI has a system that enables them to simulate Item Drop Mode
They keep a duplicate of dropped items in exchange for their gold")
endif
else
call DestroyTrigger(HK)
call DestroyTrigger(QZ4)
call DestroyTrigger(HN)
call DestroyTrigger(Ho)
call DestroyTrigger(QA4)
set QA4=null
call DestroyTrigger(Hn)
call DestroyTrigger(QB4)
call ForceClear(QX4)
endif
if(not C4)then
call DestroyTrigger(OS)
endif
if(not AT)then
call DestroyTrigger(QC4)
endif
call DE8(1093678665)
call DE8(1093677645)
call DE8(1093750089)
if HB4!=0 then
set EF7=5/I2R(HB4)
endif
if HC4!=0 then
set EG7=5/I2R(HC4)
endif
call ExecuteFunc("QP7")
set t=null
endfunction
function main takes nothing returns nothing
local weathereffect we
local integer i
local player p
local unit u
local integer unitID
local trigger t
local real life
local integer D08
local integer I3H
local version I6H
local integer L3F
local real ILH
local real I1H
local real I0H
local real I5H
local real I2H
local real I_H
local real J4H
local real J7H
local real J8H
local real J9H
local real JDH
local real JEH
local real JFH
local real JGH
local real JHH
local real JIH
local real JJH
local real JKH
local real JMH
local real JNH
local integer IZ8
local player j8
local real JOH
local real JPH
local real JQH
local real JRH
local real JSH
local real JTH
local real JUH
local real JVH
local real JWH
local real JXH
local real JYH
local real JZH
local real JAH
local real JBH
local real JCH
local real J3H
local real J6H
local real JLH
local real J1H
local real J0H
local real J5H
local real J2H
local real J_H
local real K4H
local location I_9
local region SAD
local integer UC7
local integer x
local integer y
call INH()
set NM7[0]=CreateTrigger()
set NN7=GetHandleId(NM7[0])
set i=1
loop
exitwhen i>9
set NM7[i]=CreateTrigger()
set i=i+1
endloop
set i=0
call SetCameraBounds(-7552.0+GetCameraMargin(CAMERA_MARGIN_LEFT),-7936.0+GetCameraMargin(CAMERA_MARGIN_BOTTOM),7552.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),7424.0-GetCameraMargin(CAMERA_MARGIN_TOP),-7552.0+GetCameraMargin(CAMERA_MARGIN_LEFT),7424.0-GetCameraMargin(CAMERA_MARGIN_TOP),7552.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),-7936.0+GetCameraMargin(CAMERA_MARGIN_BOTTOM))
call SetDayNightModels("Environment\\DNC\\DNCFelwood\\DNCFelwoodTerrain\\DNCFelwoodTerrain.mdl","Environment\\DNC\\DNCFelwood\\DNCFelwoodUnit\\DNCFelwoodUnit.mdl")
call SetWaterBaseColor(0,0,255,255)
call NewSoundEnvironment("Default")
call SetAmbientDaySound("FelwoodDay")
call SetAmbientNightSound("FelwoodNight")
call SetMapMusic("Music",true,0)
set yE=CreateSound("Abilities\\Spells\\Human\\Avatar\\Avatar.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(yE,"Avatar")
call SetSoundDuration(yE,3199)
set zE=CreateSound("Abilities\\Spells\\NightElf\\Blink\\BlinkArrival1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(zE,"BlinkTarget")
call SetSoundDuration(zE,1466)
call SetSoundPitch(zE,1.6)
set vX=CreateSound("Abilities\\Spells\\Human\\Blizzard\\BlizzardLoop1.wav",true,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(vX,"BlizzardLoop")
call SetSoundDuration(vX,4000)
set WN=CreateSound("Buildings\\Undead\\TempleOfTheDamned\\TempleOfTheDamnedWhat.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(WN,"TempleOfTheDamnedWhat")
call SetSoundDuration(WN,3518)
call SetSoundDistanceCutoff(WN,2000.0)
set YN=CreateSound("Abilities\\Spells\\Human\\Flare\\FlareTarget2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(YN,"Flare2")
call SetSoundDuration(YN,1344)
call SetSoundDistanceCutoff(YN,2000.0)
set ZN=CreateSound("Sounds\\Dominating.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(ZN,1802)
call SetSoundChannel(ZN,0)
call SetSoundVolume(ZN,127)
call SetSoundPitch(ZN,1.0)
set nX=CreateSound("Sounds\\Double_Kill.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(nX,2012)
call SetSoundChannel(nX,0)
call SetSoundVolume(nX,127)
call SetSoundPitch(nX,1.0)
set EX=CreateSound("Sounds\\firstblood.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(EX,1567)
call SetSoundChannel(EX,0)
call SetSoundVolume(EX,127)
call SetSoundPitch(EX,1.0)
set OX=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperPissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(OX,"GoblinSapperPissed")
call SetSoundDuration(OX,1515)
call SetSoundChannel(OX,0)
set AN=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(AN,"GoblinSapperYesAttack")
call SetSoundDuration(AN,813)
call SetSoundChannel(AN,0)
set BN=CreateSound("Sounds\\GodLike.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(BN,1828)
call SetSoundChannel(BN,0)
call SetSoundVolume(BN,127)
call SetSoundPitch(BN,1.0)
set bX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(bX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(bX,1948)
set BX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed2.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(BX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(BX,1733)
set cX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed3.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(cX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(cX,3570)
set CX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed4.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(CX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(CX,3576)
set fX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed5.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(fX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(fX,3558)
set kX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed6.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(kX,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(kX,10867)
set LX=CreateSound("Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(LX,"HeroBladeMasterPissed")
call SetSoundDuration(LX,2235)
set mX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(mX,"HeroDreadLordPissed")
call SetSoundDuration(mX,2921)
set MX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed2.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(MX,"HeroDreadLordPissed")
call SetSoundDuration(MX,7125)
set PX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed3.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(PX,"HeroDreadLordPissed")
call SetSoundDuration(PX,3998)
set qX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed4.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(qX,"HeroDreadLordPissed")
call SetSoundDuration(qX,1727)
set QX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed5.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(QX,"HeroDreadLordPissed")
call SetSoundDuration(QX,8893)
set tX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed6.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(tX,"HeroDreadLordPissed")
call SetSoundDuration(tX,6066)
set TX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed7.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(TX,"HeroDreadLordPissed")
call SetSoundDuration(TX,1277)
set CN=CreateSound("Sounds\\HolyShit.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(CN,2325)
call SetSoundChannel(CN,0)
call SetSoundVolume(CN,127)
call SetSoundPitch(CN,1.0)
set UX=CreateSound("Buildings\\NightElf\\MoonWell\\MoonWellWhat1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(UX,"MoonWellWhat")
call SetSoundDuration(UX,2972)
call SetSoundDistances(UX,600.0,10000.0)
call SetSoundDistanceCutoff(UX,2000.0)
set JO=CreateSound("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaos.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(JO,"MarkOfChaos")
call SetSoundDuration(JO,4000)
set TO=CreateSound("Sounds\\Killing_Spree.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(TO,2377)
call SetSoundChannel(TO,0)
call SetSoundVolume(TO,127)
call SetSoundPitch(TO,1.0)
set oO=CreateSound("Sound\\Buildings\\Death\\NightElfBuildingDeathSmall1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(oO,"DeathNightElfBuildingCancel")
call SetSoundDuration(oO,3675)
set VO=CreateSound("Sounds\\MegaKill.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(VO,2612)
call SetSoundChannel(VO,0)
call SetSoundVolume(VO,127)
call SetSoundPitch(VO,1.0)
set aO=CreateSound("Abilities\\Spells\\NightElf\\ShadowMeld\\ShadowMeld1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(aO,"ShadowMeld")
call SetSoundDuration(aO,941)
set YO=CreateSound("Sounds\\MonsterKill.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(YO,3344)
call SetSoundChannel(YO,0)
call SetSoundVolume(YO,127)
call SetSoundPitch(YO,1.0)
set EO=CreateSound("Units\\Creeps\\Ogre\\OgrePissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(EO,"OgrePissed")
call SetSoundDuration(EO,3309)
set XO=CreateSound("Sounds\\Ownage.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(XO,2586)
call SetSoundChannel(XO,0)
call SetSoundVolume(XO,127)
call SetSoundPitch(XO,1.0)
set OO=CreateSound("Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(OO,"PandarenBrewmasterPissed")
call SetSoundDuration(OO,2316)
set AO=CreateSound("Abilities\\Spells\\Human\\Polymorph\\PolymorphDone.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(AO,"PolymorphDone")
call SetSoundDuration(AO,1498)
set NO=CreateSound("Buildings\\Naga\\TempleofTides\\TempleOfTidesWhat1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(NO,"TempleOfTidesWhat")
call SetSoundDuration(NO,3483)
call SetSoundDistanceCutoff(NO,2000.0)
set bO=CreateSound("Buildings\\Undead\\TombOfRelics\\TombOfRelicsWhat1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(bO,"TombOfRelicsWhat")
call SetSoundDuration(bO,3065)
call SetSoundDistanceCutoff(bO,2000.0)
set BO=CreateSound("Abilities\\Spells\\Orc\\Disenchant\\Disenchant.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(BO,"Disenchant")
call SetSoundDuration(BO,2043)
set cO=CreateSound("Sound\\Interface\\Rescue.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(cO,"Rescue")
call SetSoundDuration(cO,3796)
set CO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(CO,"RiflemanPissed")
call SetSoundDuration(CO,3158)
set fO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(fO,"RiflemanPissed")
call SetSoundDuration(fO,1306)
set FO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed3.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(FO,"RiflemanPissed")
call SetSoundDuration(FO,2624)
set gO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed4.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(gO,"RiflemanPissed")
call SetSoundDuration(gO,3785)
set hO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed5.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(hO,"RiflemanPissed")
call SetSoundDuration(hO,4168)
set HO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed6.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(HO,"RiflemanPissed")
call SetSoundDuration(HO,2810)
set kO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed7.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(kO,"RiflemanPissed")
call SetSoundDuration(kO,4609)
set lO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed8.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(lO,"RiflemanPissed")
call SetSoundDuration(lO,5480)
set mO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(mO,"HeroShadowHunterPissed")
call SetSoundDuration(mO,2293)
set pO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed2.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(pO,"HeroShadowHunterPissed")
call SetSoundDuration(pO,1789)
set qO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed3.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(qO,"HeroShadowHunterPissed")
call SetSoundDuration(qO,2301)
set QO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed4.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(QO,"HeroShadowHunterPissed")
call SetSoundDuration(QO,2752)
set tO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed5.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(tO,"HeroShadowHunterPissed")
call SetSoundDuration(tO,3129)
set UO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed6.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(UO,"HeroShadowHunterPissed")
call SetSoundDuration(UO,1666)
set wO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed7.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(wO,"HeroShadowHunterPissed")
call SetSoundDuration(wO,1187)
set WO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed8.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(WO,"HeroShadowHunterPissed")
call SetSoundDuration(WO,2148)
set zO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed9.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(zO,"HeroShadowHunterPissed")
call SetSoundDuration(zO,2026)
set vR=CreateSound("Abilities\\Spells\\Undead\\Sleep\\SleepBirth1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(vR,"Sleep")
call SetSoundDuration(vR,3203)
set eR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(eR,"SpellBreakerPissed")
call SetSoundDuration(eR,3901)
set oR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(oR,"SpellBreakerPissed")
call SetSoundDuration(oR,3367)
set rR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed3.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(rR,"SpellBreakerPissed")
call SetSoundDuration(rR,3651)
set aR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed4.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(aR,"SpellBreakerPissed")
call SetSoundDuration(aR,2490)
set RR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed5.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(RR,"SpellBreakerPissed")
call SetSoundDuration(RR,14402)
set bR=CreateSound("Abilities\\Spells\\Undead\\DevourMagic\\DevourMagic.wav",false,true,true,10,10,"MissilesEAX")
call SetSoundParamsFromLabel(bR,"DevourMagicLaunch")
call SetSoundDuration(bR,1225)
set BR=CreateSound("Abilities\\Spells\\Other\\BlackArrow\\TheBlackArrow.wav",false,true,true,10,10,"MissilesEAX")
call SetSoundParamsFromLabel(BR,"BlackArrowHit")
call SetSoundDuration(BR,1776)
call SetSoundVolume(BR,50)
set ZO=CreateSound("Sound\\Ambient\\DoodadEffects\\TheHornOfCenarius.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(ZO,"HornOfCenariusSound")
call SetSoundDuration(ZO,12121)
call SetSoundVolume(ZO,115)
set CR=CreateSound("Sounds\\triple_kill.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(CR,1907)
call SetSoundChannel(CR,0)
call SetSoundVolume(CR,127)
call SetSoundPitch(CR,1.0)
set LO=CreateSound("Sounds\\Unstoppable.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(LO,2038)
call SetSoundChannel(LO,0)
call SetSoundVolume(LO,127)
call SetSoundPitch(LO,1.0)
set DP=CreateSound("Abilities\\Spells\\Human\\DivineShield\\PaladinDivineShieldDeath1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(DP,"DivineShieldDeath")
call SetSoundDuration(DP,1043)
call SetSoundDistanceCutoff(DP,1500.0)
set hR=CreateSound("Abilities\\Spells\\Items\\AIso\\SoulGem.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(hR,"SoulGem")
call SetSoundDuration(hR,4474)
set EP=CreateSound("Sounds\\WhickedSick.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundDuration(EP,2612)
call SetSoundChannel(EP,0)
call SetSoundVolume(EP,127)
call SetSoundPitch(EP,1.0)
set JR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(JR,"WitchDoctorPissed")
call SetSoundDuration(JR,1282)
set lR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(lR,"WitchDoctorPissed")
call SetSoundDuration(lR,1248)
set LR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed3.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(LR,"WitchDoctorPissed")
call SetSoundDuration(LR,1524)
set mR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed4.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(mR,"WitchDoctorPissed")
call SetSoundDuration(mR,1200)
set pR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed5.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(pR,"WitchDoctorPissed")
call SetSoundDuration(pR,2762)
set PR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed6.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(PR,"WitchDoctorPissed")
call SetSoundDuration(PR,2849)
set qR=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack4.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(qR,"GoblinSapperYesAttack")
call SetSoundDuration(qR,1091)
call SetSoundChannel(qR,0)
set QR=CreateSound("Abilities\\Spells\\NightElf\\shadowstrike\\ShadowStrikeBirth1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(QR,"ShadowStrikeBirth")
call SetSoundDuration(QR,2194)
call SetSoundPitch(QR,1.2)
set sR=CreateSound("Abilities\\Spells\\NightElf\\CorrosiveBreath\\CorrosiveBreathMissileLaunch1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(sR,"CorrosiveBreathMissileLaunch")
call SetSoundDuration(sR,1301)
call SetSoundPitch(sR,1.2)
set SR=CreateSound("Sound\\Interface\\Warning\\NightElf\\SentinelAllyHeroDies1.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(SR,"AllyHeroDiesNightElf")
call SetSoundDuration(SR,1963)
call SetSoundVolume(SR,127)
set UR=CreateSound("Sound\\Interface\\Warning\\Undead\\NecromancerAllyHeroDies1.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(UR,"AllyHeroDiesUndead")
call SetSoundDuration(UR,1933)
call SetSoundVolume(UR,127)
set WR=CreateSound("Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(WR,"ReviveHuman")
call SetSoundDuration(WR,3196)
call SetSoundChannel(WR,8)
set zR=CreateSound("Sound\\Interface\\SecretFound.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(zR,"SecretFound")
call SetSoundDuration(zR,2525)
set GP=CreateSound("Sounds\\UltraKill.mp3",false,false,false,10,10,"")
call SetSoundDuration(GP,1958)
call SetSoundChannel(GP,0)
call SetSoundVolume(GP,127)
call SetSoundPitch(GP,1.0)
set IP=CreateSound("Sounds\\Rampage.mp3",false,false,false,10,10,"")
call SetSoundDuration(IP,1195)
call SetSoundChannel(IP,0)
call SetSoundVolume(IP,127)
call SetSoundPitch(IP,1.0)
set eI=CreateSound("Units\\Orc\\AncestralGuardian\\AncestralGuardianAttack1.wav",false,true,true,10,10,"CombatSoundsEAX")
call SetSoundParamsFromLabel(eI,"AncestralGuardianAttack1")
call SetSoundDuration(eI,1181)
set oI=CreateSound("Abilities\\Spells\\Human\\Feedback\\Feedback.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(oI,"Feedback")
call SetSoundDuration(oI,1222)
set JP=CreateSound("Units\\Undead\\Abomination\\AbominationPissed5.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(JP,"AbominationPissed")
call SetSoundDuration(JP,1735)
set KP=CreateSound("Sound\\Units\\Death\\ArtilleryCorpseExplodeDeath1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(KP,"ArtilleryExplodeDeath")
call SetSoundDuration(KP,1486)
set RI=CreateSound("Units\\Undead\\CryptFiend\\CryptFiendPissed2.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(RI,"CryptFiendPissed")
call SetSoundDuration(RI,3541)
set OP=CreateSound("Units\\Undead\\Banshee\\BansheeDeath.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(OP,"BansheeDeath")
call SetSoundDuration(OP,2380)
set V44=CreateSound("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTargetWaveNonLoop1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(V44,"FlameStrikeTarget")
call SetSoundDuration(V44,1927)
set V74=CreateSound("Abilities\\Spells\\Other\\Volcano\\VolcanoLoop.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(V74,"VolcanoLoop")
call SetSoundDuration(V74,7616)
set V84=CreateSound("Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.wav",false,false,false,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(V84,"ThunderClap")
call SetSoundDuration(V84,3451)
set V94=CreateSound("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImage.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(V94,"MirrorImage")
call SetSoundDuration(V94,1756)
set VD4=CreateSound("Abilities\\Spells\\Human\\CloudOfFog\\CloudOfFogLoop1.wav",true,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(VD4,"CloudOfFogLoop")
call SetSoundDuration(VD4,2038)
call SetSoundPitch(VD4,0.9)
set VK4=CreateSound("Units\\Human\\Gyrocopter\\GyrocopterPissed1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(VK4,"GyrocopterPissed")
call SetSoundDuration(VK4,3913)
set VM4="Sound\\Music\\mp3Music\\Tension.mp3"
set VN4="Sound\\Music\\mp3Music\\ArthasTheme.mp3"
set VO4="Sound\\Music\\mp3Music\\NightElfDefeat.mp3"
set VP4="Sound\\Music\\mp3Music\\NightElfVictory.mp3"
set VQ4=CreateSound("Sound\\Interface\\SecretFound.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(VQ4,"SecretFound")
call SetSoundDuration(VQ4,2525)
set VR4=CreateSound("Sound\\Interface\\Hint.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(VR4,"Hint")
call SetSoundDuration(VR4,2006)
set XQ4=CreateSound("war3mapImported\\pl_impact_stun.mp3",false,true,true,10,10,"SpellsEAX")
call SetSoundDuration(XQ4,1340)
call SetSoundChannel(XQ4,11)
call SetSoundVolume(XQ4,127)
call SetSoundPitch(XQ4,1.0)
call SetSoundDistances(XQ4,600.0,10000.0)
call SetSoundDistanceCutoff(XQ4,2000.0)
call SetSoundConeAngles(XQ4,0.0,0.0,127)
call SetSoundConeOrientation(XQ4,0.0,0.0,0.0)
set XR4=CreateSound("Sound\\Buildings\\Fire\\OrcHumanLargeBuildingFire1.wav",true,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(XR4,"HumanFireLarge")
call SetSoundDuration(XR4,3471)
set XS4=CreateSound("Units\\Human\\Phoenix\\PhoenixEggWhat1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(XS4,"PhoenixEggWhat")
call SetSoundDuration(XS4,1579)
call SetSoundChannel(XS4,0)
set A84=CreateSound("Abilities\\Spells\\NightElf\\BattleRoar\\BattleRoar.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(A84,"BattleRoar")
call SetSoundDuration(A84,1991)
set A94=CreateSound("Buildings\\Undead\\Ziggurat\\ZigguratUpgrade.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(A94,"ZigguratUpgradeWhat")
call SetSoundDuration(A94,4203)
call SetSoundDistances(A94,600.0,10000.0)
call SetSoundDistanceCutoff(A94,3000.0)
set AD4=CreateSound("Abilities\\Spells\\Human\\SpellSteal\\SpellStealMissile.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(AD4,"SpellStealMissileLaunch")
call SetSoundDuration(AD4,1541)
set AE4=CreateSound("Abilities\\Spells\\Human\\SpellSteal\\SpellStealTarget.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(AE4,"SpellStealTarget")
call SetSoundDuration(AE4,984)
set AF4=CreateSound("Abilities\\Spells\\Undead\\UndeadMine\\AcolyteMining.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(AF4,"AcolyteMining")
call SetSoundDuration(AF4,4233)
call SetSoundChannel(AF4,0)
set AG4=CreateSound("Abilities\\Weapons\\AvengerMissile\\DestroyerMissile.wav",false,true,true,10,10,"MissilesEAX")
call SetSoundParamsFromLabel(AG4,"DestroyerMissileLaunch")
call SetSoundDuration(AG4,817)
set AH4=CreateSound("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouch.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(AH4,"SpiritTouch")
call SetSoundDuration(AH4,2043)
call SetSoundChannel(AH4,11)
set AI4=CreateSound("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTargetWaveNonLoop1.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(AI4,"FlameStrikeTarget")
call SetSoundDuration(AI4,1927)
set pH=Rect(6900,-7800,7600,-7000)
set go=Rect(6176.0,3136.0,6400.0,3392.0)
set jo=Rect(3616.0,3584.0,3872.0,3872.0)
set lo=Rect(2304.0,5280.0,2752.0,5728.0)
set L9=Rect(6176.0,5952.0,6624.0,6240.0)
set Qo=Rect(-4224.0,-6848.0,-3968.0,-6592.0)
set to=Rect(-6304.0,-4384.0,-6080.0,-4224.0)
set Uo=Rect(-4928.0,-5760.0,-4736.0,-5536.0)
set wo=Rect(6048.0,3424.0,6304.0,3776.0)
set zo=Rect(4128.0,3776.0,4352.0,4032.0)
set er=Rect(2752.0,5408.0,3040.0,5632.0)
set ED=Rect(-7040.0,-6912.0,-6688.0,-6656.0)
set ar=Rect(-3648.0,-6880.0,-3424.0,-6688.0)
set Er=Rect(-6336.0,-4224.0,-5984.0,-3904.0)
set Xr=Rect(-4896.0,-5504.0,-4608.0,-5184.0)
set FD=Rect(2912.0,-2944.0,3104.0,-2720.0)
set GD=Rect(5696.0,5504.0,7296.0,7392.0)
set HD=Rect(-7680.0,-8032.0,-6176.0,-6240.0)
set MD=Rect(-2464.0,1536.0,-2240.0,1760.0)
set Br=Rect(4288.0,-2688.0,4544.0,-2400.0)
set cr=Rect(-3328.0,-416.0,-3104.0,-96.0)
set Cr=Rect(1440.0,-4096.0,1728.0,-3872.0)
set fr=Rect(-4576.0,3328.0,-4448.0,3488.0)
set Fr=Rect(-3264.0,4192.0,-2912.0,4320.0)
set Hr=Rect(2848.0,-5088.0,3072.0,-4928.0)
set jr=Rect(-1824.0,2240.0,-1472.0,2464.0)
set Jr=Rect(3008.0,-3776.0,3136.0,-3648.0)
set lr=Rect(1184.0,2976.0,1280.0,3104.0)
set mr=Rect(-512.0,-3648.0,-320.0,-3520.0)
set pr=Rect(-7104.0,6656.0,-6848.0,6912.0)
set qr=Rect(-7104.0,6656.0,-6880.0,6880.0)
set ND=Rect(2304.0,-672.0,2592.0,-384.0)
set Sr=Rect(3872.0,-3008.0,4928.0,-1952.0)
set Ur=Rect(-3552.0,-768.0,-2528.0,320.0)
set Wr=Rect(1056.0,-5216.0,2368.0,-3744.0)
set zr=Rect(-5120.0,3008.0,-3648.0,4320.0)
set Zr=Rect(-3456.0,3808.0,-2656.0,4864.0)
set vi=Rect(2272.0,-6080.0,3776.0,-4928.0)
set ei=Rect(-1888.0,2208.0,-992.0,3040.0)
set xi=Rect(416.0,2624.0,1632.0,3648.0)
set oi=Rect(2592.0,-4800.0,3744.0,-3328.0)
set ai=Rect(-1024.0,-3808.0,192.0,-2752.0)
set OD=Rect(-7936.0,-7776.0,-5920.0,-5760.0)
set PD=Rect(5504.0,5184.0,7744.0,7136.0)
set Ai=Rect(-800.0,3072.0,64.0,4032.0)
set Ni=Rect(-384.0,3392.0,-192.0,3520.0)
set bi=Rect(-1728.0,-5056.0,-768.0,-3840.0)
set Bi=Rect(-1152.0,-4704.0,-960.0,-4480.0)
set QD=Rect(-480.0,-800.0,-256.0,-512.0)
set TD=Rect(2112.0,-736.0,2752.0,-160.0)
set di=Rect(2112.0,-960.0,2720.0,-640.0)
set fi=Rect(2112.0,-1088.0,2720.0,-864.0)
set Fi=Rect(2656.0,-1120.0,2784.0,-416.0)
set Gi=Rect(2752.0,-1248.0,2880.0,-544.0)
set Ji=Rect(2848.0,-1344.0,2912.0,-640.0)
set li=Rect(2912.0,-1408.0,2976.0,-704.0)
set Li=Rect(2208.0,-1216.0,2816.0,-992.0)
set pi=Rect(2464.0,-1472.0,3200.0,-1152.0)
set WD=Rect(-8160.0,-8192.0,-3712.0,-4352.0)
set XD=Rect(-8192.0,-4960.0,-4640.0,-3552.0)
set YD=Rect(-4000.0,-7744.0,-3072.0,-5152.0)
set ZD=Rect(2304.0,4064.0,8032.0,7776.0)
set AD=Rect(4640.0,1952.0,8000.0,4384.0)
set BD=Rect(3136.0,2816.0,5216.0,4960.0)
set LD=Rect(-7968.0,5216.0,-7456.0,5920.0)
set KE=Rect(-8064.0,2880.0,-7648.0,4512.0)
set RE=Rect(-3296.0,3712.0,-2688.0,3968.0)
set SE=Rect(-2400.0,2016.0,-1952.0,2624.0)
set TE=Rect(-2016.0,1600.0,-1216.0,2048.0)
set WE=Rect(-2144.0,2528.0,-1888.0,2944.0)
set YE=Rect(-1280.0,1728.0,-736.0,2176.0)
set ZE=Rect(-1696.0,-768.0,-1376.0,-448.0)
set EF=Rect(-576.0,0.0,-352.0,256.0)
set FF=Rect(3104.0,-2784.0,3680.0,-2304.0)
set GF=Rect(3264.0,-3040.0,3872.0,-2656.0)
set HF=Rect(4960.0,-3104.0,5632.0,-2816.0)
set JF=Rect(4896.0,-3744.0,5280.0,-3456.0)
set KF=Rect(7488.0,-3520.0,8192.0,-2336.0)
set MF=Rect(6656.0,-3328.0,7808.0,-2656.0)
set NF=Rect(7104.0,-8192.0,8192.0,-5920.0)
set OF=Rect(5952.0,-8192.0,7200.0,-7712.0)
set PF=Rect(7168.0,-6240.0,8128.0,-5184.0)
set QF=Rect(5824.0,-8032.0,6400.0,-7776.0)
set RF=Rect(6976.0,-6560.0,7488.0,-5920.0)
set SF=Rect(-5856.0,2944.0,-5600.0,3200.0)
set TF=Rect(6784.0,-7776.0,7264.0,-7456.0)
set UF=Rect(-8128.0,-8192.0,5536.0,-7744.0)
set WF=Rect(2368.0,-7904.0,2688.0,-7584.0)
set XF=Rect(-1664.0,-7808.0,-1344.0,-7552.0)
set YF=Rect(-2944.0,-8192.0,-1664.0,-7680.0)
set ZF=Rect(-4000.0,-8192.0,-3168.0,-7616.0)
set BF=Rect(-5760.0,-8000.0,-5184.0,-7584.0)
set CF=Rect(-3296.0,3744.0,-3104.0,3872.0)
set LF=Rect(-8192.0,-8192.0,-6720.0,-7744.0)
set DG=Rect(-8192.0,-6432.0,-7456.0,-4928.0)
set EG=Rect(-8192.0,-8128.0,-7904.0,8160.0)
set FG=Rect(-7744.0,3936.0,-7328.0,5600.0)
set GG=Rect(-7680.0,1984.0,-6560.0,2816.0)
set JG=Rect(-7776.0,1696.0,-6944.0,2176.0)
set MG=Rect(-8032.0,-3040.0,-7680.0,-2720.0)
set OG=Rect(-7904.0,-2656.0,-7552.0,-2336.0)
set PG=Rect(-3936.0,-2720.0,-3584.0,-2400.0)
set QG=Rect(-3168.0,-1952.0,-2912.0,-1696.0)
set RG=Rect(-4128.0,-1632.0,-3776.0,-1152.0)
set SG=Rect(-4992.0,-1792.0,-3968.0,-1440.0)
set TG=Rect(-5536.0,-1664.0,-4832.0,-1280.0)
set UG=Rect(-2304.0,3872.0,-2048.0,4096.0)
set VG=Rect(-5664.0,-1440.0,-5344.0,0.0)
set WG=Rect(-5824.0,-1504.0,-5472.0,-544.0)
set XG=Rect(-5216.0,-1216.0,-4480.0,-384.0)
set ZG=Rect(-5632.0,448.0,-5152.0,1856.0)
set AG=Rect(-5856.0,1440.0,-5248.0,2592.0)
set BG=Rect(-5408.0,1888.0,-4928.0,2368.0)
set CG=Rect(-5056.0,1664.0,-4064.0,2144.0)
set LG=Rect(-4320.0,1344.0,-3808.0,1952.0)
set DH=Rect(-4224.0,1440.0,-3200.0,2016.0)
set EH=Rect(-2112.0,3424.0,-1856.0,3744.0)
set HH=Rect(-2400.0,640.0,-2208.0,896.0)
set OH=Rect(-3392.0,640.0,-3200.0,896.0)
set PH=Rect(-3744.0,-1024.0,-3232.0,384.0)
set QH=Rect(-2016.0,-5504.0,-1664.0,-4768.0)
set RH=Rect(-1760.0,-5248.0,-1312.0,-4800.0)
set TH=Rect(896.0,-3328.0,1088.0,-3072.0)
set UH=Rect(2368.0,-3808.0,2688.0,-3360.0)
set WH=Rect(1952.0,-3744.0,2208.0,-3456.0)
set XH=Rect(-768.0,-1344.0,-480.0,-1024.0)
set YH=Rect(1152.0,-6560.0,1376.0,-6272.0)
set ZH=Rect(1216.0,-6368.0,1504.0,-6176.0)
set AH=Rect(-1376.0,-6784.0,-1184.0,-6528.0)
set CH=Rect(7616.0,-6528.0,8192.0,8160.0)
set DI=Rect(7072.0,-2304.0,7264.0,-2048.0)
set EI=Rect(-7872.0,7872.0,8192.0,8192.0)
set GI=Rect(1792.0,7776.0,2112.0,8192.0)
set HI=Rect(-2656.0,0.0,-2496.0,256.0)
set II=Rect(-768.0,7232.0,-416.0,7424.0)
set JI=Rect(-7968.0,5472.0,-7648.0,5792.0)
set NI=Rect(1120.0,7904.0,1312.0,8160.0)
set PI=Rect(736.0,4480.0,1120.0,4800.0)
set SI=Rect(2208.0,4928.0,2400.0,5152.0)
set TI=Rect(576.0,4384.0,1120.0,4928.0)
set UI=Rect(2560.0,4160.0,2784.0,4576.0)
set WI=Rect(-5984.0,-3776.0,-5504.0,-3232.0)
set XI=Rect(576.0,4256.0,1024.0,4672.0)
set YI=Rect(544.0,4352.0,992.0,4768.0)
set BI=Rect(704.0,2496.0,1376.0,2784.0)
set CI=Rect(-2240.0,1792.0,-1856.0,2240.0)
set LI=Rect(-1472.0,1472.0,-992.0,1728.0)
set TJ=Rect(2368.0,-3200.0,2656.0,-2880.0)
set MK=Rect(2624.0,-3584.0,2816.0,-2848.0)
set UK=Rect(2464.0,-3392.0,2656.0,-3136.0)
set YK=Rect(2784.0,-3232.0,2976.0,-2976.0)
set SM=Rect(2784.0,-3424.0,2976.0,-3168.0)
set TM=Rect(7328.0,7808.0,8192.0,8192.0)
set UM=Rect(1984.0,7584.0,3296.0,8192.0)
set WM=Rect(2240.0,7392.0,2560.0,8192.0)
set YM=Rect(-1888.0,416.0,-1696.0,576.0)
set ZM=Rect(7776.0,2720.0,8192.0,3648.0)
set JN=Rect(5280.0,640.0,5664.0,1184.0)
set MN=Rect(-3104.0,2720.0,-2624.0,3232.0)
set UH=Rect(2816.0,-3488.0,3008.0,-3232.0)
set WH=Rect(1568.0,-2976.0,1760.0,-2656.0)
set TJ=Rect(2368.0,-3264.0,2656.0,-2944.0)
set MK=Rect(2624.0,-3648.0,2816.0,-2912.0)
set UK=Rect(2464.0,-3456.0,2656.0,-3200.0)
set UF=Rect(-8192.0,-8128.0,5472.0,-7648.0)
set eE=Rect(-8192.0,-3712.0,-7008.0,-2144.0)
set oE=Rect(-3360.0,-8192.0,-1472.0,-7648.0)
set aE=Rect(-2528.0,-7840.0,-1696.0,-7488.0)
set nE=Rect(-2336.0,-7584.0,-1600.0,-7456.0)
set VE=Rect(-8192.0,2016.0,-6816.0,2880.0)
set EE=Rect(6880.0,-3328.0,8000.0,-2624.0)
set XE=Rect(3904.0,2976.0,4160.0,3264.0)
set OE=Rect(2336.0,5952.0,2592.0,6240.0)
set IE=Rect(6304.0,1984.0,6560.0,2272.0)
set AE=Rect(-3328.0,-6912.0,-3072.0,-6624.0)
set bE=Rect(-4384.0,-4800.0,-4128.0,-4512.0)
set BE=Rect(-6432.0,-3840.0,-6176.0,-3552.0)
set cE=Rect(-7584.0,6176.0,-6304.0,7552.0)
set CE=Rect(2208.0,-1152.0,2720.0,-352.0)
set dE=Rect(2560.0,-1440.0,2976.0,-1024.0)
set fE=Rect(-1088.0,5376.0,768.0,6624.0)
set FE=Rect(1600.0,1024.0,3456.0,2432.0)
set gE=Rect(5504.0,-1056.0,7200.0,512.0)
set GE=Rect(-6944.0,-1792.0,-5248.0,-224.0)
set JE=Rect(-1536.0,-7424.0,640.0,-6048.0)
set lE=Rect(-3328.0,-7200.0,-2464.0,-6368.0)
set LE=Rect(-4288.0,-4544.0,-3424.0,-3712.0)
set ME=Rect(-6784.0,-3616.0,-5920.0,-2784.0)
set pE=Rect(1472.0,5440.0,2336.0,6272.0)
set PE=Rect(2656.0,2336.0,3520.0,3168.0)
set qE=Rect(5984.0,1152.0,6848.0,1984.0)
set QE=Rect(-4128.0,-3712.0,-2496.0,-2272.0)
set TN=Rect(-8192.0,-8128.0,-5120.0,-5536.0)
set UN=Rect(4608.0,4352.0,8192.0,8192.0)
set cz=Rect(3536.0,3148.0,6248.0,5832.0)
set Cz=Rect(-6348.0,-6900.0,-3628.0,-4480.0)
set He=Rect(0.,0.,0.,0.)
set Q24=null
set iL=Condition(function JWF)
set Q_4=Condition(function MCF)
set ip=Condition(function JXF)
set iP=Condition(function MOF)
set E67=Condition(function O7F)
set Ha=Location(0.,0.)
set HA=Location(0.,0.)
set Hb=Location(0.,0.)
set HB=Location(0.,0.)
set p=Player(15)
set LT4=CreateUnit(p,1966092378,7360.0,-4416.0,270.000)
call SetUnitColor(LT4,ConvertPlayerColor(12))
set LS4=CreateUnit(p,1966092378,-7296.0,4224.0,270.000)
call SetUnitColor(LS4,ConvertPlayerColor(12))
set IF4=CreateUnit(p,1848657231,-7168.0,6464.0,270.000)
call SetUnitColor(IF4,ConvertPlayerColor(0))
set wJ=CreateUnit(p,1848652102,-7424.0,-6976.0,270.000)
set SJ=CreateUnit(p,1848657231,-7360.0,6464.0,270.000)
call SetUnitColor(SJ,ConvertPlayerColor(0))
set WJ=CreateUnit(p,1848652102,-7424.0,-6592.0,270.000)
set yJ=CreateUnit(p,1848652102,-7424.0,-6464.0,270.000)
set qK=CreateUnit(p,1848657231,-7360.0,6784.0,270.000)
call SetUnitColor(qK,ConvertPlayerColor(0))
set LK=CreateUnit(p,1848657231,-6848.0,6784.0,270.000)
call SetUnitColor(LK,ConvertPlayerColor(0))
set zJ=CreateUnit(p,1848652102,-7424.0,-6720.0,270.000)
set ZJ=CreateUnit(p,1848652102,-7424.0,-6848.0,270.000)
set vk=CreateUnit(p,1852206952,-7232.0,-7136.0,270.000)
set u=CreateUnit(p,1967339316,3200.0,-64.0,270.000)
set cJ=CreateUnit(p,1848657231,-6848.0,6464.0,270.000)
call SetUnitColor(cJ,ConvertPlayerColor(0))
set FK=CreateUnit(p,1848652102,7040.0,6272.0,270.000)
set gK=CreateUnit(p,1848652102,7040.0,5888.0,270.000)
set GK=CreateUnit(p,1848652102,7040.0,5760.0,270.000)
set JK=CreateUnit(p,1848652102,7040.0,6016.0,270.000)
set fK=CreateUnit(p,1848652102,7040.0,6144.0,270.000)
set lK=CreateUnit(p,1852073580,6784.0,6368.0,270.000)
set gJ=CreateUnit(p,1848657231,-7360.0,7104.0,270.000)
call SetUnitColor(gJ,ConvertPlayerColor(0))
set PK=CreateUnit(p,1848657231,-7168.0,7104.0,270.000)
call SetUnitColor(PK,ConvertPlayerColor(0))
set u=CreateUnit(p,1967339316,-4544.0,1152.0,270.000)
set tJ=CreateUnit(p,1848657231,-7168.0,6784.0,270.000)
call SetUnitColor(tJ,ConvertPlayerColor(0))
set Cl=CreateUnit(p,1848657231,-6848.0,7104.0,270.000)
call SetUnitColor(Cl,ConvertPlayerColor(0))
set LV4=CreateUnit(p,1966092592,-7296.0,4416.0,270.000)
call SetUnitColor(LV4,ConvertPlayerColor(12))
set LU4=CreateUnit(p,1966092592,7360.0,-4224.0,270.000)
call SetUnitColor(LU4,ConvertPlayerColor(12))
set XU4=CreateUnit(p,1848657231,-6656.0,7104.0,270.000)
call SetUnitColor(XU4,ConvertPlayerColor(0))
set XV4=CreateUnit(p,1848657231,-6656.0,6464.0,270.000)
call SetUnitColor(XV4,ConvertPlayerColor(0))
set XT4=CreateUnit(p,1848657231,-6656.0,6784.0,270.000)
call SetUnitColor(XT4,ConvertPlayerColor(0))
set p=Player(0)
set ek=CreateUnit(p,1849897784,-7264.0,-6880.0,270.000)
call SetUnitColor(ek,ConvertPlayerColor(12))
set xk=CreateUnit(p,1848652107,-7264.0,-6688.0,270.000)
call SetUnitColor(xk,ConvertPlayerColor(12))
set ak=CreateUnit(p,1848651833,-6560.0,-6432.0,270.000)
call SetUnitColor(ak,ConvertPlayerColor(12))
set LJ=CreateUnit(p,1848651864,-7072.0,-6368.0,270.000)
call SetUnitColor(LJ,ConvertPlayerColor(1))
set JJ=CreateUnit(p,1848651862,-6816.0,-6368.0,270.000)
call SetUnitColor(JJ,ConvertPlayerColor(12))
set GJ=CreateUnit(p,1848651863,-7200.0,-6432.0,270.000)
call SetUnitColor(GJ,ConvertPlayerColor(12))
set dJ=CreateUnit(p,1848651826,-6688.0,-6368.0,270.000)
call SetUnitColor(dJ,ConvertPlayerColor(12))
set Wk=CreateUnit(p,1697657397,-6624.0,-7136.0,270.000)
set ik=CreateUnit(p,1749236021,-6880.0,-7136.0,270.000)
call SetUnitColor(ik,ConvertPlayerColor(0))
set BJ=CreateUnit(p,1702129516,-5632.0,-6144.0,270.000)
set Ak=CreateUnit(p,1697656915,-4448.0,-4960.0,270.000)
set bk=CreateUnit(p,1697656915,-5280.0,-6112.0,270.000)
set Nk=CreateUnit(p,1697656915,-6368.0,-4256.0,270.000)
set Bk=CreateUnit(p,1697656915,-5600.0,-5728.0,270.000)
set ck=CreateUnit(p,1700884333,-6080.0,-4480.0,270.000)
set Ck=CreateUnit(p,1700884325,-6656.0,-4480.0,270.000)
set fk=CreateUnit(p,1700884333,-4416.0,-5312.0,270.000)
set Gk=CreateUnit(p,1700884325,-4864.0,-4992.0,270.000)
set Fk=CreateUnit(p,1697656915,-3744.0,-6816.0,270.000)
set dk=CreateUnit(p,1700884333,-4032.0,-7040.0,270.000)
set gk=CreateUnit(p,1700884325,-4032.0,-6528.0,270.000)
set lk=CreateUnit(p,1701670775,-5792.0,-5408.0,270.000)
set Jk=CreateUnit(p,1701670775,-6624.0,-5088.0,270.000)
set jk=CreateUnit(p,1701670775,-5088.0,-5536.0,270.000)
set Lk=CreateUnit(p,1701670775,-5344.0,-3936.0,270.000)
set pk=CreateUnit(p,1701670775,-5088.0,-4576.0,270.000)
set Pk=CreateUnit(p,1701670775,-3936.0,-5344.0,270.000)
set qk=CreateUnit(p,1701670775,-4512.0,-7072.0,270.000)
set Qk=CreateUnit(p,1701670775,-4896.0,-6240.0,270.000)
set Sk=CreateUnit(p,1701670775,-3808.0,-5856.0,270.000)
set tk=CreateUnit(p,1701670775,-5472.0,-4704.0,270.000)
set Uk=CreateUnit(p,1701670775,-4512.0,-5856.0,270.000)
set wk=CreateUnit(p,1700884343,-4544.0,-6528.0,270.000)
set Rk=CreateUnit(p,1697656915,-6112.0,-1248.0,270.000)
set ok=CreateUnit(p,1700884343,-6080.0,-5120.0,270.000)
set Ok=CreateUnit(p,1697656915,-6112.0,1568.0,270.000)
set Ek=CreateUnit(p,1697656915,-1504.0,-1824.0,270.000)
set Vk=CreateUnit(p,1697656915,-544.0,-6688.0,270.000)
set nk=CreateUnit(p,1697656915,4960.0,-6752.0,270.000)
set MJ=CreateUnit(p,1697656915,-3488.0,-3296.0,270.000)
set dl=CreateUnit(p,1848657989,-6944.0,-6368.0,270.000)
call SetUnitColor(dl,ConvertPlayerColor(12))
set QJ=CreateUnit(p,1848657989,5920.0,6176.0,270.000)
call SetUnitColor(QJ,ConvertPlayerColor(12))
set p=Player(1)
set zk=CreateUnit(p,1701080930,-6400.0,-5696.0,270.000)
set yk=CreateUnit(p,1701080930,-5248.0,-6848.0,270.000)
set p=Player(6)
set XK=CreateUnit(p,1848651826,5920.0,5920.0,270.000)
call SetUnitColor(XK,ConvertPlayerColor(12))
set OK=CreateUnit(p,1848651863,5984.0,6432.0,270.000)
call SetUnitColor(OK,ConvertPlayerColor(12))
set AK=CreateUnit(p,1848651862,5920.0,6048.0,270.000)
call SetUnitColor(AK,ConvertPlayerColor(12))
set NK=CreateUnit(p,1848651864,5920.0,6304.0,270.000)
call SetUnitColor(NK,ConvertPlayerColor(1))
set dK=CreateUnit(p,1849897784,6496.0,6368.0,270.000)
call SetUnitColor(dK,ConvertPlayerColor(12))
set CK=CreateUnit(p,1848652107,6304.0,6368.0,270.000)
call SetUnitColor(CK,ConvertPlayerColor(12))
set QK=CreateUnit(p,1970496880,4352.0,3584.0,270.000)
set BK=CreateUnit(p,1848651833,5984.0,5792.0,270.000)
call SetUnitColor(BK,ConvertPlayerColor(12))
set cK=CreateUnit(p,1849897781,6816.0,5984.0,270.000)
call SetUnitColor(cK,ConvertPlayerColor(12))
set bK=CreateUnit(p,1966092369,6816.0,5664.0,270.000)
set qJ=CreateUnit(p,1966092365,6048.0,-2080.0,270.000)
set PJ=CreateUnit(p,1966092356,6304.0,-96.0,270.000)
set ol=CreateUnit(p,1970956647,4384.0,4256.0,270.000)
set WK=CreateUnit(p,1970172012,5184.0,4864.0,220.000)
set zK=CreateUnit(p,1970564964,3904.0,3904.0,270.000)
set ZK=CreateUnit(p,1966092365,1056.0,-96.0,270.000)
set vl=CreateUnit(p,1966092356,2528.0,1824.0,270.000)
set el=CreateUnit(p,1966092366,3936.0,3488.0,270.000)
set xl=CreateUnit(p,1966092372,4832.0,4832.0,270.000)
set SK=CreateUnit(p,1966092372,5152.0,4512.0,270.000)
set rl=CreateUnit(p,1970956647,3168.0,4064.0,270.000)
set al=CreateUnit(p,1970956647,5728.0,4000.0,270.000)
set EK=CreateUnit(p,1966092366,2976.0,5792.0,270.000)
set VK=CreateUnit(p,1970496880,3392.0,5504.0,270.000)
set aK=CreateUnit(p,1970564964,3392.0,6080.0,270.000)
set xK=CreateUnit(p,1970956647,4128.0,6240.0,270.000)
set eK=CreateUnit(p,1970495856,3968.0,5888.0,270.000)
set Vl=CreateUnit(p,1969385326,4992.0,5952.0,270.000)
set El=CreateUnit(p,1970956647,2656.0,4704.0,270.000)
set Xl=CreateUnit(p,1970956647,5536.0,2464.0,270.000)
set Ol=CreateUnit(p,1970956647,4064.0,5280.0,270.000)
set Rl=CreateUnit(p,1970956647,3488.0,4832.0,270.000)
set Al=CreateUnit(p,1970495856,6400.0,3584.0,270.000)
set Nl=CreateUnit(p,1970564964,6080.0,2944.0,270.000)
set bl=CreateUnit(p,1970496880,6656.0,2880.0,270.000)
set Bl=CreateUnit(p,1966092366,6368.0,2528.0,270.000)
set cl=CreateUnit(p,1970956647,5024.0,3744.0,270.000)
set vK=CreateUnit(p,1970956647,6880.0,3936.0,270.000)
set wK=CreateUnit(p,1969385326,6464.0,4608.0,270.000)
set TK=CreateUnit(p,1970956647,4640.0,2848.0,270.000)
set HJ=CreateUnit(p,1966092365,-4704.0,5920.0,270.000)
set UJ=CreateUnit(p,1966092356,32.0,5920.0,270.000)
set p=Player(15)
set DJ=CreateUnit(p,1697656900,-6005.1,5458.6,212.150)
set lJ=CreateUnit(p,1697656898,-561.7,-651.7,325.600)
set FJ=CreateUnit(p,1697656897,5717.5,-6070.9,64.000)
set fJ=CreateUnit(p,1697656888,-5467.9,-5891.1,307.304)
set CJ=CreateUnit(p,1697656881,4901.8,4536.6,212.110)
call ConfigureNeutralVictim()
set bH=Filter(function ZV7)
set filterIssueHauntOrderAtLocBJ=Filter(function IssueHauntOrderAtLocBJFilter)
set filterEnumDestructablesInCircleBJ=Filter(function L4)
set filterGetUnitsInRectOfPlayer=Filter(function GetUnitsInRectOfPlayerFilter)
set filterGetUnitsOfTypeIdAll=Filter(function GetUnitsOfTypeIdAllFilter)
set filterGetUnitsOfPlayerAndTypeId=Filter(function GetUnitsOfPlayerAndTypeIdFilter)
set filterMeleeTrainedUnitIsHeroBJ=Filter(function MeleeTrainedUnitIsHeroBJFilter)
set filterLivingPlayerUnitsOfTypeId=Filter(function LivingPlayerUnitsOfTypeIdFilter)
set D08=0
loop
exitwhen D08==16
set bj_FORCE_PLAYER[D08]=CreateForce()
call ForceAddPlayer(bj_FORCE_PLAYER[D08],Player(D08))
set D08=D08+1
endloop
set bj_FORCE_ALL_PLAYERS=CreateForce()
call ForceEnumPlayers(bj_FORCE_ALL_PLAYERS,null)
set bj_cineModePriorSpeed=GetGameSpeed()
set bj_cineModePriorFogSetting=IsFogEnabled()
set bj_cineModePriorMaskSetting=IsFogMaskEnabled()
set D08=0
loop
exitwhen D08>=bj_MAX_QUEUED_TRIGGERS
set bj_queuedExecTriggers[D08]=null
set bj_queuedExecUseConds[D08]=false
set D08=D08+1
endloop
set bj_isSinglePlayer=false
set I3H=0
set D08=0
loop
exitwhen D08>=12
if(GetPlayerController(Player(D08))==MAP_CONTROL_USER and GetPlayerSlotState(Player(D08))==PLAYER_SLOT_STATE_PLAYING)then
set I3H=I3H+1
endif
set D08=D08+1
endloop
set T34[0]=""
set T34[1]="CLG.Pajkatt"
set T34[2]="CLG.Mirakel"
set T34[3]="CLG.Akke"
set T34[4]="CLG.MiSeRy"
set T34[5]="CLG.Lacoste"
set T34[6]="Darer.M"
set T34[7]="Darer.G"
set T34[8]="Darer.Artstyle"
set T34[9]="Darer.Funn1k"
set T34[10]="M5.Admiration"
set T34[11]="M5.Vigoss"
set T34[12]="M5.Bl00DAnGeL-"
set T34[13]="M5.PGG"
set T34[14]="M5.Silent"
set T34[15]="Na`Vi.XBOCT"
set T34[16]="Na`Vi.Dendi"
set T34[17]="Na`Vi.Puppey"
set T34[18]="Na`Vi.LighTofHeaveN"
set T34[19]="Na`Vi.ARS-ART"
set T34[20]="EG.Fear"
set T34[21]="EG.Bulba"
set T34[22]="EG.Maelk"
set T34[23]="EG.DeMoN"
set T34[24]="EG.Universe"
set T34[25]="IG.Ferrari_430"
set T34[26]="IG.Faith"
set T34[27]="IG.Zhou"
set T34[28]="IG.ChuaN"
set T34[29]="IG.YYF"
set T34[30]="LGD.xiao8"
set T34[31]="LGD.Sylar"
set T34[32]="LGD.Yao"
set T34[33]="LGD.DD"
set T34[34]="LGD.ddc"
set T34[35]="EHOME.357"
set T34[36]="EHOME.KingJ"
set T34[37]="EHOME.LaNm"
set T34[38]="EHOME.MMY!"
set T34[39]="EHOME.PCT"
set T34[40]="DK.Super"
set T34[41]="DK.Zippo"
set T34[42]="DK.LongDD"
set T34[43]="DK.Burning"
set T34[44]="DK.rOtk"
set T34[45]="AL.bleek"
set T34[46]="AL.Musica"
set T34[47]="AL.Snoopy"
set T34[48]="AL.Shatan"
set T34[49]="AL.Godot"
set T34[50]="TZ.iceiceice"
set T34[51]="TZ.xFreedom"
set T34[52]="TZ.xy-"
set T34[53]="TZ.YamateH"
set T34[54]="TZ.Ice"
set T34[55]="TongFu.Kabu"
set T34[56]="TongFu.SanSheng"
set T34[57]="13abyKnight"
set T34[58]="dLxYan"
set T34[59]="TongFu.Awoke"
set T34[60]="Green"
set T34[61]="TongFu.Mu"
set T34[62]="TongFu.Hao"
set T34[63]="MS.SexyBamboe"
set T34[64]="Bane"
set T34[65]="MS.Black^"
set T34[66]="MS.1437"
set T34[67]="MS.KuroKy"
set T34[68]="MS.SingSing"
set T34[69]="Yrk"
set T34[70]="sExtasY"
set T34[71]="Tayschrenn"
set T34[72]="theCupofteA"
set T34[73]="idef!x"
set T34[74]="kEEper"
set T34[75]="nEKro"
set T34[76]="Tulex"
set T34[77]="Warlog"
set T34[78]="Radge"
set T34[79]="Bu1LD0z3R"
set T34[80]="r1sk"
set T34[81]="Toneeh"
set T34[82]="Mr.Escobar"
set T34[83]="Ghost0"
set T34[84]="Blackshatan"
set T34[85]="TeG-Hyperion"
set T34[86]="TeG-Ly0n"
set T34[87]="TeG-ppasarel"
set T34[88]="Ro-Coco"
set T34[89]="TeG-RMP"
set T34[90]="TeG-jackass"
set T34[91]="NozG"
set T34[92]="lacosteeeee"
set T34[93]="NlKE"
set T34[94]="Swoopie"
set T34[95]="Soundchaosdebug"
set T34[96]="Luck_Duck"
set T34[97]="Simba"
set T34[98]="AMXZAKU"
set T34[99]="HurDur"
set T34[100]="Zaetr"
set T34[101]="Dargon_Knight"
set T34[102]="Ciel"
set T34[103]="SaDJ0KeR"
set T34[104]="Phaselock"
set T34[105]="PleaseBugMeNot"
set T34[106]="changeling"
set T34[107]="Deel"
set T34[108]="xbox619"
set T34[109]="Uncle_Zhuge"
set T34[110]="Thedeath"
set T34[111]="gAmmAlysE"
set T34[112]="Ace_Tobi"
set T34[113]="RisingDemon"
set T34[114]="Harreke"
set T34[115]="cipd"
set T34[116]="Sebra"
set T34[117]="Simple-.-"
set T34[118]="gaibo1"
set T34[119]="Cloud_str"
set bj_isSinglePlayer=(I3H==1)
set bj_rescueSound=CreateSoundFromLabel("Rescue",false,false,false,10000,10000)
set bj_questDiscoveredSound=CreateSoundFromLabel("QuestNew",false,false,false,10000,10000)
set bj_questUpdatedSound=CreateSoundFromLabel("QuestUpdate",false,false,false,10000,10000)
set bj_questCompletedSound=CreateSoundFromLabel("QuestCompleted",false,false,false,10000,10000)
set bj_questFailedSound=CreateSoundFromLabel("QuestFailed",false,false,false,10000,10000)
set bj_questHintSound=CreateSoundFromLabel("Hint",false,false,false,10000,10000)
set bj_questSecretSound=CreateSoundFromLabel("SecretFound",false,false,false,10000,10000)
set bj_questItemAcquiredSound=CreateSoundFromLabel("ItemReward",false,false,false,10000,10000)
set bj_questWarningSound=CreateSoundFromLabel("Warning",false,false,false,10000,10000)
set bj_victoryDialogSound=CreateSoundFromLabel("QuestCompleted",false,false,false,10000,10000)
set bj_defeatDialogSound=CreateSoundFromLabel("QuestFailed",false,false,false,10000,10000)
call DelayedSuspendDecayCreate()
set I6H=VersionGet()
if(I6H==VERSION_REIGN_OF_CHAOS)then
set bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V0
else
set bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V1
endif
call InitQueuedTriggers()
call InitRescuableBehaviorBJ()
call InitDNCSounds()
call InitMapRects()
call InitSummonableCaps()
call V5()
set L3F=0
loop
set bj_stockAllowedPermanent[L3F]=false
set bj_stockAllowedCharged[L3F]=false
set bj_stockAllowedArtifact[L3F]=false
set L3F=L3F+1
exitwhen L3F>10
endloop
call SetAllItemTypeSlots(11)
call SetAllUnitTypeSlots(11)
set bj_stockUpdateTimer=CreateTimer()
call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INITIAL_DELAY,false,function L5F)
set bj_stockItemPurchased=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(bj_stockItemPurchased,Player(15),EVENT_PLAYER_UNIT_SELL_ITEM,null)
call TriggerAddAction(bj_stockItemPurchased,function RemovePurchasedItem)
call DetectGameStarted()
set i=0
set i=0
loop
exitwhen(i>16)
set K[i]=0
set M[i]=0
set H[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>100)
set J[i]=false
set je[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>4)
set N[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>2)
set L[i]=0
set S7[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>12)
set Q[i]=""
set A[i]=CreateTimer()
set T[i]=0
set V[i]=0
set GZ[i]=false
set GZ[256+i]=false
set GZ[272+i]=false
set GZ[304+i]=false
set G0[48+i]=false
set G0[i]=false
set hG[i]=0
set eY[80+i]=3
set eY[i]=0
set eY[544+i]=0
set h4[i]=null
set MB7[i]=null
set hq[288+i]=0.
set hq[304+i]=0.
set hq[640+i]=0.
set hq[656+i]=0.
set HC[i]=Location(0.,0.)
set HC[16+i]=Location(0.,0.)
set HC[32+i]=Location(0.,0.)
set HC[48+i]=Location(0.,0.)
set HC[256+i]=Location(0.,0.)
set h9[i]=null
set h8[i]=null
set eY[208+i]=0
set eY[224+i]=0
set eY[240+i]=999999
set hG[192+i]=0
set hG[288+i]=0
set hq[624+i]=0
set DQ7[i]=true
set DQ7[16+i]=true
set DQ7[32+i]=false
set DQ7[48+i]=false
set DQ7[64+i]=true
set DQ7[112+i]=true
set EB7[48+i]=-1
set EB7[64+i]=-1
set G0[224+i]=false
set h8[144+i]=null
set GZ[176+i]=false
set K17[i]=0
set K17[16+i]=0
set K17[32+i]=0
set K17[48+i]=0
set K17[96+i]=0
set K17[112+i]=0
set K17[160+i]=0
set K17[176+i]=0
set K17[240+i]=0
set K17[272+i]=0
set K17[288+i]=0
set K17[464+i]=0
set K57[48+i]=false
set K57[320+i]=true
set K17[208+i]=StringHash("aiBuy|"+I2S(i))
set K17[224+i]=StringHash("aiBuyS|"+I2S(i))
set K17[256+i]=StringHash("aiBuyBear|"+I2S(i))
set K17[352+i]=StringHash("aiIt#|"+I2S(i))
set K17[368+i]=StringHash("aiIt#copy|"+I2S(i))
set K17[448+i]=StringHash("aiBuyLux|"+I2S(i))
set i=i+1
endloop
set i=0
loop
exitwhen(i>13)
set I[i]=false
set U[i]=CreateTimer()
set W4[i]=false
set T7[i]=0
set U7[i]=0
set Be[i]=0
set oo[i]=false
set i=i+1
endloop
set W=CreateTimer()
set i=0
loop
exitwhen(i>1)
set F[i]=0
set mx[i]=false
set B8[i]=0
set eo[i]=false
set i=i+1
endloop
set X4=150
set av=true
set Ev=true
set Ov=true
set Rv=true
set Av=true
set Nv=true
set bv=true
set Bv=true
set cv=true
set Cv=true
set Dv=true
set fv=true
set D7=3
set E7=1
set i=0
loop
exitwhen(i>17)
set M7[i]=null
set i=i+1
endloop
set X7=CreateForce()
set Y7=CreateForce()
set R8=CreateGroup()
set L8=CreateForce()
set E9=0.00
set F9=true
set G9=true
set i=0
loop
exitwhen(i>14)
set P9[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>15)
set C9[i]="Here"
set i=i+1
endloop
call LI7()
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,15.,true)
call TriggerAddCondition(t,Condition(function l8))
set t=null
set IG4[0]=false
set IG4[1]=false
set IG4[2]=false
set IG4[3]=false
set IG4[4]=false
set IG4[5]=false
set IG4[6]=false
set IG4[7]=false
set IG4[8]=false
set IG4[9]=false
set IG4[10]=false
set IG4[11]=false
set IG4[12]=false
set IG4[13]=false
set IG4[14]=false
set IG4[15]=false
set IG4[16]=false
call IQH()
call D09(1110455898)
call D09(1112560453)
call D09(1110455889)
call D09(1112757326)
call D09(1112044643)
call D09(1110458957)
call D09(1110458962)
call D09(1110459185)
call D09(1111844210)
call D09(1110454869)
call D09(1110456133)
call D09(1110459206)
call D09(1110455885)
call D09(1110456142)
call D09(1110456403)
call D09(1110454353)
call D09(1110456114)
call D09(1112891758)
call D09(1110456629)
call D09(1110456371)
call D09(1110454870)
call D09(1110454617)
call D09(1112432994)
call D09(1110456402)
call D09(1110455862)
call D09(1110455113)
call D09(1110455859)
call D09(1113943649)
call D09(1113943655)
call D09(1110455107)
call D09(1110454348)
call D09(1112040289)
call D09(1113813860)
call D09(1110456121)
call D09(1110458961)
call D09(1110458937)
call D09(1114665575)
call D09(1110456397)
call D09(1110454855)
call D09(1110454616)
call D09(1110454596)
call D09(1110456626)
call D09(1110458705)
call D09(1111847784)
call D09(1110454321)
call D09(1110454583)
call D09(1110458693)
call D09(1110458692)
call D09(1110456399)
call D09(1114010223)
call D09(1110454839)
call D09(1110454840)
call D09(1110455624)
call D09(1110458963)
call D09(1113813609)
call D09(1110458950)
call D09(1110458949)
call D09(1110456624)
call D09(1110454328)
call D09(1110455362)
call D09(1110454854)
call D09(1112896368)
call D09(1114993524)
call D09(1110459203)
call D09(1111716457)
call D09(1110455114)
call D09(1111847784)
call D09(1110454321)
call D09(1110458705)
call D09(1113943649)
call D09(1113943655)
call D09(1110456120)
call D09(1113875828)
call D09(1110454356)
call D09(1114860655)
call D09(1112433768)
call D09(1093749828)
call D09(1110459204)
call D09(1093749313)
call D09(1110455347)
call D09(1112436833)
call D09(1110454606)
call D09(1112105826)
call D09(1110455377)
call D09(1110454339)
call D09(1110456651)
call D09(1110455091)
call D09(1110456390)
call D09(1110456389)
call D09(1114664809)
call D09(1110458701)
call D09(1112437348)
call D09(1110454344)
call D09(1112500344)
call D09(1110455110)
call D09(1110454862)
call D09(1110459703)
call D09(1110455876)
call D09(1110458958)
call D09(1110456657)
call D09(1110459465)
call D09(1110458946)
call D09(1110456650)
call D09(1110458694)
call D09(1110456386)
call D09(1110456113)
call D09(1110456398)
call D09(1110454857)
call D09(1110456401)
call D09(1110459186)
call D09(1110455891)
call D09(1110454867)
call D09(1110454871)
call D09(1110455633)
call D09(1110454852)
call D09(1110458969)
call D09(1110454864)
call D09(1110455622)
call D09(1110459728)
call D09(1110459730)
call D09(1110459732)
call D09(1110459982)
call D09(1110459993)
call D09(1110459988)
call D09(1110459994)
call D09(1110460208)
call D09(1110459957)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function E49))
set t=null
call FlushGameCache(InitGameCache("dr.x"))
set IV4=InitGameCache("dr.x")
set H64[0]=1093744454
set H64[1]=1093744455
set H64[2]=1093744456
set H64[3]=1093744451
set H64[4]=1093744452
set H64[5]=1093744453
set H64[6]=1093744458
set H64[7]=1093744457
set H64[8]=1093744460
set TK4[0]=1093751109
set TK4[1]=1093751110
set TK4[2]=1093751113
set TK4[3]=1093751115
set TK4[4]=1093751114
set TK4[5]=1093751112
set TK4[6]=1093751119
set TK4[7]=1093751118
set TK4[8]=1093751117
set TK4[9]=1093751111
set TK4[10]=1093751121
set HL4[0]=1093748555
set HL4[1]=1093748556
set HL4[2]=1093748554
set HL4[3]=1093748560
set HL4[4]=1093748557
set HL4[5]=1093748558
set HL4[6]=1093748559
set HL4[7]=1093748553
set HL4[8]=1093748561
set H14[0]=1093747533
set H14[1]=1093747531
set H14[2]=1093747526
set H14[3]=1093747529
set H14[4]=1093747527
set H14[5]=1093747528
set U9=CreateTrigger()
call TriggerAddCondition(U9,Condition(function H58))
set V9[0]=1747990855
set X9[0]=50
set V9[1]=1747990868
set X9[1]=100
set V9[2]=1747990854
set X9[2]=150
set V9[3]=1747990856
set X9[3]=200
set V9[4]=1747990853
set X9[4]=250
set V9[5]=1747990852
set X9[5]=300
set V9[6]=1747990851
set X9[6]=350
set V9[7]=1747990850
set X9[7]=400
set V9[8]=1747990841
set X9[8]=450
set V9[9]=1747990849
set X9[9]=500
set V9[10]=1747990858
set X9[10]=550
set V9[11]=1747990859
set X9[11]=600
set V9[12]=1747990860
set X9[12]=650
set V9[13]=1747990861
set X9[13]=700
set V9[14]=1747990862
set X9[14]=750
set V9[15]=1747990863
set X9[15]=800
set V9[16]=1747990864
set X9[16]=850
set V9[17]=1747990865
set X9[17]=900
set V9[18]=1747990866
set X9[18]=950
set V9[19]=1747990867
set X9[19]=1000
set V9[20]=1747990857
set X9[20]=1050
set V9[21]=1747990874
set X9[21]=1100
set V9[22]=1747990872
set X9[22]=1150
set V9[23]=1747992881
set X9[23]=1200
set V9[24]=1747992882
set X9[24]=1250
set V9[25]=1747992886
set X9[25]=1300
set V9[26]=1747992883
set X9[26]=1350
set V9[27]=1747992884
set X9[27]=1400
set V9[28]=1747990873
set X9[28]=1450
set V9[29]=1747990870
set X9[29]=1500
set V9[30]=1747992880
set X9[30]=1550
set V9[31]=1747990869
set X9[31]=1600
set V9[32]=1747992902
set X9[32]=1650
set V9[33]=1747992900
set X9[33]=1700
set V9[34]=1747992901
set X9[34]=1750
set V9[35]=1747992899
set X9[35]=1800
set V9[36]=1747992898
set X9[36]=1850
set V9[37]=1747992897
set X9[37]=1900
set V9[38]=1747992889
set X9[38]=1950
set V9[39]=1747992903
set X9[39]=2000
set V9[40]=1747992887
set X9[40]=2050
set V9[41]=1747992911
set X9[41]=2100
set V9[42]=1747992921
set X9[42]=2150
set V9[43]=1747992904
set X9[43]=2200
set V9[44]=1747992905
set X9[44]=2250
set V9[45]=1747992906
set X9[45]=2300
set V9[46]=1747992912
set X9[46]=2350
set V9[47]=1747992913
set X9[47]=2400
set V9[48]=1747992907
set X9[48]=2450
set V9[49]=1747992914
set X9[49]=2500
set V9[50]=1747992908
set X9[50]=2550
set V9[51]=1747992915
set X9[51]=2600
set V9[52]=1747990871
set X9[52]=2650
set V9[53]=1747992909
set X9[53]=2700
set V9[54]=1747992888
set X9[54]=2750
set V9[55]=1747992916
set X9[55]=2800
set V9[56]=1747992917
set X9[56]=2850
set V9[57]=1747992910
set X9[57]=2900
set V9[58]=1747992918
set X9[58]=2950
set V9[59]=1747992919
set X9[59]=3000
set W9[0]=V9[HZ8(1)]
set W9[1]=V9[HZ8(1)]
set W9[2]=V9[HZ8(1)]
set W9[3]=V9[HZ8(1)]
set W9[4]=V9[HZ8(1)]
set W9[5]=V9[HZ8(1)]
set W9[6]=V9[HZ8(1)]
set W9[7]=V9[HZ8(1)]
set W9[8]=V9[HZ8(1)]
set W9[9]=V9[HZ8(1)]
set W9[10]=V9[HZ8(1)]
set W9[11]=V9[HZ8(1)]
set W9[12]=V9[HZ8(1)]
set W9[13]=V9[HZ8(1)]
set W9[14]=V9[HZ8(1)]
set L7=InitHashtable()
set IW4=Rect(-7040,-7680,7040,7168)
call SetFloatGameState(GAME_STATE_TIME_OF_DAY,6.00)
call SuspendTimeOfDay(false)
call SetTimeOfDayScale(0.5)
call SetSkyModel("Environment\\Sky\\FoggedSky\\FoggedSky.mdl")
call SetCreepCampFilterState(true)
set vo="Normal Mode"
call TimerStart(W,99999.00,false,null)
set Bo=AddWeatherEffect(bj_mapInitialPlayableArea,1380018290)
set bo=AddWeatherEffect(bj_mapInitialPlayableArea,1397645939)
set fL=AddWeatherEffect(bj_mapInitialPlayableArea,1280470369)
set FL=AddWeatherEffect(bj_mapInitialPlayableArea,1464822903)
set Z7[0]=Player(0)
set Z7[1]=Player(1)
set Z7[2]=Player(2)
set Z7[3]=Player(3)
set Z7[4]=Player(4)
set Z7[5]=Player(5)
set A7[0]=Player(6)
set A7[1]=Player(7)
set A7[2]=Player(8)
set A7[3]=Player(9)
set A7[4]=Player(10)
set A7[5]=Player(11)
set B7=Player(12)
set C7=Player(15)
call SetUnitPathing(fJ,false)
call SetUnitPathing(FJ,false)
call SetUnitPathing(lJ,false)
call SetUnitPathing(DJ,false)
call SetUnitPathing(CJ,false)
call DC9(CJ,true)
call DC9(DJ,true)
call DC9(lJ,true)
call DC9(FJ,true)
call DC9(fJ,true)
set Z=GetUnitLoc(CJ)
set vv=GetUnitLoc(fJ)
set ev=GetUnitLoc(lJ)
set ov=GetUnitLoc(DJ)
set rv=GetUnitLoc(FJ)
set N8=1093678663
set O8[1]=vv
set O8[2]=ov
set O8[3]=ev
set O8[4]=rv
set O8[5]=Z
set Jv=GetRectCenter(jo)
set lv=GetRectCenter(lo)
set Lv=GetRectCenter(go)
set mv=GetRectCenter(zo)
set qv=GetRectCenter(er)
set pv=GetRectCenter(wo)
set Qv=GetRectCenter(Xr)
set tv=GetRectCenter(Er)
set sv=GetRectCenter(ar)
set Tv=GetRectCenter(Uo)
set Wv=GetRectCenter(to)
set Uv=GetRectCenter(Qo)
set F7=GetRectCenter(MD)
set G7=GetRectCenter(FD)
set Y8=true
set IX4=GetUnitX(vk)
set IY4=GetUnitY(vk)
set ML=GetUnitX(ik)
set PL=GetUnitY(ik)
set QL=GetUnitX(xk)
set SL=GetUnitY(xk)
set tL=GetUnitX(ek)
set TL=GetUnitY(ek)
set UL=GetUnitX(Wk)
set wL=GetUnitY(Wk)
set zL=GetUnitX(JJ)
set vm=GetUnitY(JJ)
set em=GetUnitX(GJ)
set xm=GetUnitY(GJ)
set om=GetUnitX(dJ)
set rm=GetUnitY(dJ)
set im=GetUnitX(LJ)
set am=GetUnitY(LJ)
set Vm=GetUnitX(ak)
set Em=GetUnitY(ak)
set Xm=GetUnitX(dl)
set Om=GetUnitY(dl)
set Am=GetUnitX(BJ)
set Nm=GetUnitY(BJ)
set bm=GetUnitX(Ok)
set Bm=GetUnitY(Ok)
set cm=GetUnitX(Ek)
set Cm=GetUnitY(Ek)
set dm=GetUnitX(nk)
set fm=GetUnitY(nk)
set Fm=GetUnitX(Rk)
set hm=GetUnitY(Rk)
set Jm=GetUnitX(MJ)
set lm=GetUnitY(MJ)
set Mm=GetUnitX(Vk)
set pm=GetUnitY(Vk)
set Pm=GetUnitX(Nk)
set Qm=GetUnitY(Nk)
set Tm=GetUnitX(Ak)
set Um=GetUnitY(Ak)
set wm=GetUnitX(Fk)
set Wm=GetUnitY(Fk)
set zm=GetUnitX(Bk)
set vM=GetUnitY(Bk)
set eM=GetUnitX(bk)
set oM=GetUnitY(bk)
set rM=GetUnitX(ck)
set iM=GetUnitY(ck)
set aM=GetUnitX(fk)
set nM=GetUnitY(fk)
set VM=GetUnitX(dk)
set XM=GetUnitY(dk)
set AM=GetUnitX(Ck)
set bM=GetUnitY(Ck)
set BM=GetUnitX(Gk)
set cM=GetUnitY(Gk)
set dM=GetUnitX(gk)
set fM=GetUnitY(gk)
set gM=GetUnitX(lk)
set hM=GetUnitY(lk)
set HM=GetUnitX(Jk)
set JM=GetUnitY(Jk)
set kM=GetUnitX(Lk)
set lM=GetUnitY(Lk)
set pM=GetUnitX(pk)
set sM=GetUnitY(pk)
set tM=GetUnitX(Pk)
set wM=GetUnitY(Pk)
set zM=GetUnitX(jk)
set vp=GetUnitY(jk)
set ep=GetUnitX(Qk)
set op=GetUnitY(Qk)
set rp=GetUnitX(Sk)
set ap=GetUnitY(Sk)
set Vp=GetUnitX(qk)
set Ep=GetUnitY(qk)
set Xp=GetUnitX(tk)
set Rp=GetUnitY(tk)
set Ap=GetUnitX(Uk)
set bp=GetUnitY(Uk)
set Bp=GetUnitX(ok)
set cp=GetUnitY(ok)
set Cp=GetUnitX(wk)
set dp=GetUnitY(wk)
set fp=GetUnitX(zk)
set Fp=GetUnitY(zk)
set gp=GetUnitX(yk)
set Hp=GetUnitY(yk)
call RemoveUnit(Nk)
call RemoveUnit(Ck)
call RemoveUnit(ck)
call RemoveUnit(Ak)
call RemoveUnit(Gk)
call RemoveUnit(fk)
call RemoveUnit(Fk)
call RemoveUnit(gk)
call RemoveUnit(dk)
call RemoveUnit(ok)
call RemoveUnit(wk)
call RemoveUnit(BJ)
call RemoveUnit(Bk)
call RemoveUnit(bk)
call RemoveUnit(lk)
call RemoveUnit(Jk)
call RemoveUnit(Lk)
call RemoveUnit(pk)
call RemoveUnit(Pk)
call RemoveUnit(jk)
call RemoveUnit(Qk)
call RemoveUnit(Sk)
call RemoveUnit(qk)
call RemoveUnit(tk)
call RemoveUnit(Uk)
call RemoveUnit(ak)
call RemoveUnit(dl)
call RemoveUnit(LJ)
call RemoveUnit(dJ)
call RemoveUnit(GJ)
call RemoveUnit(JJ)
call RemoveUnit(xk)
call RemoveUnit(ek)
call RemoveUnit(vk)
call RemoveUnit(ik)
call RemoveUnit(Wk)
call RemoveUnit(Ok)
call RemoveUnit(Ek)
call RemoveUnit(nk)
call RemoveUnit(Rk)
call RemoveUnit(MJ)
call RemoveUnit(Vk)
call RemoveUnit(zk)
call RemoveUnit(yk)
set IZ4=CreateUnit(Z7[0],1852206952,IX4,IY4,270)
set I34=CreateUnit(C7,1749236021,ML,PL,270)
set IL4=CreateUnit(C7,1848652107,QL,SL,270)
set I04=CreateUnit(C7,1849897784,tL,TL,270)
set I_4=CreateUnit(C7,1697657397,UL,wL,270)
set J44=CreateUnit(C7,1848651862,zL,vm,270)
set J74=CreateUnit(C7,1848651863,em,xm,270)
set J84=CreateUnit(C7,1848651826,om,rm,270)
set J94=CreateUnit(C7,1848651864,im,am,270)
set JD4=CreateUnit(C7,1848651833,Vm,Em,270)
set JE4=CreateUnit(C7,1848657989,Xm,Om,270)
set JF4=CreateUnit(Z7[0],1702129516,Am,Nm,270)
set JG4=CreateUnit(Z7[0],1697656914,bm,Bm,90)
set JH4=CreateUnit(Z7[0],1697656914,cm,Cm,45)
set JI4=CreateUnit(Z7[0],1697656914,dm,fm,0)
set JJ4=CreateUnit(Z7[0],1697657137,Fm,hm,90)
set JK4=CreateUnit(Z7[0],1697657137,Jm,lm,45)
set JM4=CreateUnit(Z7[0],1697657137,Mm,pm,0)
set JN4=CreateUnit(Z7[0],1697656915,Pm,Qm,90)
set JO4=CreateUnit(Z7[0],1697656915,Tm,Um,45)
set JP4=CreateUnit(Z7[0],1697656915,wm,Wm,0)
set JQ4=CreateUnit(Z7[0],1697657145,zm,vM,45)
set JR4=CreateUnit(Z7[0],1697657145,eM,oM,45)
set JS4=CreateUnit(Z7[0],1700884333,rM,iM,90)
set JT4=CreateUnit(Z7[0],1700884333,aM,nM,45)
set JU4=CreateUnit(Z7[0],1700884333,VM,XM,0)
set JV4=CreateUnit(Z7[0],1700884325,AM,bM,90)
set JW4=CreateUnit(Z7[0],1700884325,BM,cM,45)
set JX4=CreateUnit(Z7[0],1700884325,dM,fM,0)
set fP=CreateUnit(Z7[0],1701670775,gM,hM,270)
set FP=CreateUnit(Z7[0],1701670775,HM,JM,270)
set lP=CreateUnit(Z7[0],1701670775,kM,lM,270)
set LP=CreateUnit(Z7[0],1701670775,pM,sM,270)
set MP=CreateUnit(Z7[0],1701670775,tM,wM,270)
set pP=CreateUnit(Z7[0],1701670775,zM,vp,270)
set PP=CreateUnit(Z7[0],1701670775,ep,op,270)
set qP=CreateUnit(Z7[0],1701670775,rp,ap,270)
set QP=CreateUnit(Z7[0],1701670775,Vp,Ep,270)
set sP=CreateUnit(Z7[0],1701670775,Xp,Rp,270)
set tP=CreateUnit(Z7[0],1701670775,Ap,bp,270)
set WP=CreateUnit(Z7[0],1700884343,Bp,cp,270)
set zP=CreateUnit(Z7[0],1700884343,Cp,dp,270)
set vq=CreateUnit(Z7[0],1701080930,fp,Fp,270)
set eq=CreateUnit(Z7[0],1701080930,gp,Hp,270)
set QQ4=Rect(GetRectMinX(bj_mapInitialPlayableArea),GetRectMinY(bj_mapInitialPlayableArea),GetUnitX(JN4)+800,GetUnitY(JN4)+800)
set QR4=Rect(GetRectMinX(bj_mapInitialPlayableArea),GetRectMinY(bj_mapInitialPlayableArea),GetUnitX(JO4)+1132,GetUnitY(JO4)+1132)
set QS4=Rect(GetRectMinX(bj_mapInitialPlayableArea),GetRectMinY(bj_mapInitialPlayableArea),GetUnitX(JP4)+800,GetUnitY(JP4)+800)
call SetPlayerAbilityAvailable(C7,1098018609,false)
call SetUnitColor(I34,gL)
call SetUnitColor(I_4,gL)
call SetUnitColor(I04,JL)
call SetUnitColor(IL4,JL)
call SetUnitColor(J44,JL)
call SetUnitColor(J74,JL)
call SetUnitColor(J84,JL)
call SetUnitColor(J94,JL)
call SetUnitColor(JD4,JL)
call DC9(JG4,true)
call DC9(JH4,true)
call DC9(JI4,true)
call DC9(JJ4,true)
call DC9(JK4,true)
call DC9(JM4,true)
call DC9(JN4,true)
call DC9(JO4,true)
call DC9(JP4,true)
call DC9(JQ4,true)
call DC9(JR4,true)
call DC9(JF4,true)
call DC9(JS4,true)
call DC9(JT4,true)
call DC9(JU4,true)
call DC9(JV4,true)
call DC9(JW4,true)
call DC9(JX4,true)
call DC9(WP,true)
call DC9(zP,true)
call DC9(vq,true)
call DC9(eq,true)
call DC9(fP,true)
call DC9(FP,true)
call DC9(lP,true)
call DC9(LP,true)
call DC9(MP,true)
call DC9(pP,true)
call DC9(PP,true)
call DC9(qP,true)
call DC9(QP,true)
call DC9(sP,true)
call DC9(tP,true)
set JY4=GetUnitX(lK)
set JZ4=GetUnitY(lK)
set rq=GetUnitX(cK)
set iq=GetUnitY(cK)
set aq=GetUnitX(CK)
set Eq=GetUnitY(CK)
set Rq=GetUnitX(dK)
set Aq=GetUnitY(dK)
set Nq=GetUnitX(bK)
set bq=GetUnitY(bK)
set Bq=GetUnitX(AK)
set cq=GetUnitY(AK)
set Cq=GetUnitX(OK)
set Dq=GetUnitY(OK)
set fq=GetUnitX(XK)
set Fq=GetUnitY(XK)
set Hq=GetUnitX(NK)
set jq=GetUnitY(NK)
set Jq=GetUnitX(BK)
set Mq=GetUnitY(BK)
set qq=GetUnitX(QJ)
set Qq=GetUnitY(QJ)
set Sq=GetUnitX(WK)
set tq=GetUnitY(WK)
set Uq=GetUnitX(HJ)
set zq=GetUnitY(HJ)
set Zq=GetUnitX(ZK)
set vQ=GetUnitY(ZK)
set eQ=GetUnitX(qJ)
set xQ=GetUnitY(qJ)
set oQ=GetUnitX(UJ)
set iQ=GetUnitY(UJ)
set aQ=GetUnitX(vl)
set EQ=GetUnitY(vl)
set OQ=GetUnitX(PJ)
set RQ=GetUnitY(PJ)
set AQ=GetUnitX(EK)
set NQ=GetUnitY(EK)
set bQ=GetUnitX(el)
set BQ=GetUnitY(el)
set cQ=GetUnitX(Bl)
set CQ=GetUnitY(Bl)
set fQ=GetUnitX(xl)
set FQ=GetUnitY(xl)
set hQ=GetUnitX(SK)
set HQ=GetUnitY(SK)
set lQ=GetUnitX(VK)
set LQ=GetUnitY(VK)
set mQ=GetUnitX(QK)
set MQ=GetUnitY(QK)
set PQ=GetUnitX(bl)
set QQ=GetUnitY(bl)
set SQ=GetUnitX(aK)
set UQ=GetUnitY(aK)
set WQ=GetUnitX(zK)
set zQ=GetUnitY(zK)
set ZQ=GetUnitX(Nl)
set vs=GetUnitY(Nl)
set es=GetUnitX(El)
set os=GetUnitY(El)
set rs=GetUnitX(rl)
set as=GetUnitY(rl)
set ns=GetUnitX(Rl)
set Vs=GetUnitY(Rl)
set Es=GetUnitX(xK)
set Xs=GetUnitY(xK)
set Rs=GetUnitX(Ol)
set As=GetUnitY(Ol)
set Ns=GetUnitX(ol)
set bs=GetUnitY(ol)
set Bs=GetUnitX(al)
set cs=GetUnitY(al)
set Cs=GetUnitX(Xl)
set Ds=GetUnitY(Xl)
set fs=GetUnitX(cl)
set Fs=GetUnitY(cl)
set Hs=GetUnitX(vK)
set js=GetUnitY(vK)
set Js=GetUnitX(TK)
set Ks=GetUnitY(TK)
set ls=GetUnitX(eK)
set Ls=GetUnitY(eK)
set ms=GetUnitX(Al)
set Ms=GetUnitY(Al)
set ps=GetUnitX(Vl)
set Ps=GetUnitY(Vl)
set Qs=GetUnitX(wK)
set Ss=GetUnitY(wK)
call RemoveUnit(El)
call RemoveUnit(rl)
call RemoveUnit(Rl)
call RemoveUnit(xK)
call RemoveUnit(Ol)
call RemoveUnit(ol)
call RemoveUnit(al)
call RemoveUnit(Xl)
call RemoveUnit(cl)
call RemoveUnit(vK)
call RemoveUnit(TK)
call RemoveUnit(HJ)
call RemoveUnit(UJ)
call RemoveUnit(EK)
call RemoveUnit(ZK)
call RemoveUnit(vl)
call RemoveUnit(el)
call RemoveUnit(qJ)
call RemoveUnit(PJ)
call RemoveUnit(Bl)
call RemoveUnit(xl)
call RemoveUnit(SK)
call RemoveUnit(VK)
call RemoveUnit(QK)
call RemoveUnit(bl)
call RemoveUnit(aK)
call RemoveUnit(zK)
call RemoveUnit(Nl)
call RemoveUnit(eK)
call RemoveUnit(Al)
call RemoveUnit(Vl)
call RemoveUnit(wK)
call RemoveUnit(WK)
call RemoveUnit(AK)
call RemoveUnit(OK)
call RemoveUnit(XK)
call RemoveUnit(NK)
call RemoveUnit(BK)
call RemoveUnit(QJ)
call RemoveUnit(dK)
call RemoveUnit(CK)
call RemoveUnit(lK)
call RemoveUnit(cK)
call RemoveUnit(bK)
set JA4=CreateUnit(A7[0],1852073580,JY4,JZ4,270)
set JB4=CreateUnit(C7,1849897781,rq,iq,270)
set zs=CreateUnit(C7,1848652107,aq,Eq,270)
set Zs=CreateUnit(C7,1849897784,Rq,Aq,270)
set JC4=CreateUnit(C7,1966092369,Nq,bq,270)
set eS=CreateUnit(C7,1848651862,Bq,cq,0)
set oS=CreateUnit(C7,1848651863,Cq,Dq,0)
set rS=CreateUnit(C7,1848651826,fq,Fq,0)
set aS=CreateUnit(C7,1848651864,Hq,jq,0)
set nS=CreateUnit(C7,1848651833,Jq,Mq,0)
set VS=CreateUnit(C7,1848657989,qq,Qq,0)
set J34=CreateUnit(A7[0],1970172012,Sq,tq,220)
set J64=CreateUnit(A7[0],1966092365,Uq,zq,270)
set JL4=CreateUnit(A7[0],1966092365,Zq,vQ,270)
set J14=CreateUnit(A7[0],1966092365,eQ,xQ,270)
set J04=CreateUnit(A7[0],1966092356,oQ,iQ,270)
set J54=CreateUnit(A7[0],1966092356,aQ,EQ,270)
set J24=CreateUnit(A7[0],1966092356,OQ,RQ,270)
set J_4=CreateUnit(A7[0],1966092366,AQ,NQ,270)
set K44=CreateUnit(A7[0],1966092366,bQ,BQ,270)
set K74=CreateUnit(A7[0],1966092366,cQ,CQ,270)
set K84=CreateUnit(A7[0],1966092372,fQ,FQ,270)
set K94=CreateUnit(A7[0],1966092372,hQ,HQ,270)
set KD4=CreateUnit(A7[0],1970496880,lQ,LQ,270)
set KE4=CreateUnit(A7[0],1970496880,mQ,MQ,270)
set KF4=CreateUnit(A7[0],1970496880,PQ,QQ,270)
set KG4=CreateUnit(A7[0],1970564964,SQ,UQ,270)
set KH4=CreateUnit(A7[0],1970564964,WQ,zQ,270)
set KI4=CreateUnit(A7[0],1970564964,ZQ,vs,270)
call PD7()
set PS=CreateUnit(A7[0],1970956647,es,os,270)
set QS=CreateUnit(A7[0],1970956647,rs,as,270)
set SS=CreateUnit(A7[0],1970956647,ns,Vs,270)
set tS=CreateUnit(A7[0],1970956647,Es,Xs,270)
set TS=CreateUnit(A7[0],1970956647,Rs,As,270)
set US=CreateUnit(A7[0],1970956647,Ns,bs,270)
set WS=CreateUnit(A7[0],1970956647,Bs,cs,270)
set ZS=CreateUnit(A7[0],1970956647,Cs,Ds,270)
set vt=CreateUnit(A7[0],1970956647,fs,Fs,270)
set et=CreateUnit(A7[0],1970956647,Hs,js,270)
set xt=CreateUnit(A7[0],1970956647,Js,Ks,270)
set ot=CreateUnit(A7[0],1970495856,ls,Ls,270)
set rt=CreateUnit(A7[0],1970495856,ms,Ms,270)
set at=CreateUnit(A7[0],1969385326,ps,Ps,270)
set Vt=CreateUnit(A7[0],1969385326,Qs,Ss,270)
set QN4=Rect(GetUnitX(J_4)-800,GetUnitY(J_4)-800,GetRectMaxX(bj_mapInitialPlayableArea),GetRectMaxY(bj_mapInitialPlayableArea))
set QO4=Rect(GetUnitX(K44)-1132,GetUnitY(K44)-1132,GetRectMaxX(bj_mapInitialPlayableArea),GetRectMaxY(bj_mapInitialPlayableArea))
set QP4=Rect(GetUnitX(K74)-800,GetUnitY(K74)-800,GetRectMaxX(bj_mapInitialPlayableArea),GetRectMaxY(bj_mapInitialPlayableArea))
call SetUnitColor(JB4,hL)
call SetUnitColor(Zs,JL)
call SetUnitColor(zs,JL)
call SetUnitColor(eS,JL)
call SetUnitColor(oS,JL)
call SetUnitColor(rS,JL)
call SetUnitColor(aS,JL)
call SetUnitColor(nS,JL)
call DC9(J64,true)
call DC9(JL4,true)
call DC9(J14,true)
call DC9(J04,true)
call DC9(J54,true)
call DC9(J24,true)
call DC9(J_4,true)
call DC9(K44,true)
call DC9(K74,true)
call DC9(K84,true)
call DC9(K94,true)
call DC9(J34,true)
call DC9(KD4,true)
call DC9(KE4,true)
call DC9(KF4,true)
call DC9(KG4,true)
call DC9(KH4,true)
call DC9(KI4,true)
call DC9(ot,true)
call DC9(rt,true)
call DC9(at,true)
call DC9(Vt,true)
call DC9(PS,true)
call DC9(QS,true)
call DC9(SS,true)
call DC9(tS,true)
call DC9(TS,true)
call DC9(US,true)
call DC9(WS,true)
call DC9(ZS,true)
call DC9(vt,true)
call DC9(et,true)
call DC9(xt,true)
set ILH=GetUnitX(wJ)
set I1H=GetUnitY(wJ)
set I0H=GetUnitX(ZJ)
set I5H=GetUnitY(ZJ)
set I2H=GetUnitX(zJ)
set I_H=GetUnitY(zJ)
set J4H=GetUnitX(WJ)
set J7H=GetUnitY(WJ)
set J8H=GetUnitX(yJ)
set J9H=GetUnitY(yJ)
set JDH=GetUnitX(FK)
set JEH=GetUnitY(FK)
set JFH=GetUnitX(fK)
set JGH=GetUnitY(fK)
set JHH=GetUnitX(JK)
set JIH=GetUnitY(JK)
set JJH=GetUnitX(gK)
set JKH=GetUnitY(gK)
set JMH=GetUnitX(GK)
set JNH=GetUnitY(GK)
set IZ8=125
call RemoveUnit(wJ)
call RemoveUnit(ZJ)
call RemoveUnit(zJ)
call RemoveUnit(WJ)
call RemoveUnit(yJ)
call RemoveUnit(FK)
call RemoveUnit(fK)
call RemoveUnit(JK)
call RemoveUnit(gK)
call RemoveUnit(GK)
set KJ4=CreateUnit(Player(1),1852010352,ILH,I1H,270)
call UnitAddAbility(KJ4,1093743665)
call ClearSelectionForPlayer(Player(1))
call SelectUnitAddForPlayer(KJ4,Player(1))
if GetLocalPlayer()==Player(1)then
call SetUnitVertexColor(KJ4,255,255,255,255)
else
call SetUnitVertexColor(KJ4,255,255,255,IZ8)
endif
set KK4=CreateUnit(Player(2),1852010352,I0H,I5H,270)
call UnitAddAbility(KK4,1093743665)
call ClearSelectionForPlayer(Player(2))
call SelectUnitAddForPlayer(KK4,Player(2))
if GetLocalPlayer()==Player(2)then
call SetUnitVertexColor(KK4,255,255,255,255)
else
call SetUnitVertexColor(KK4,255,255,255,IZ8)
endif
set KM4=CreateUnit(Player(3),1852010352,I2H,I_H,270)
call UnitAddAbility(KM4,1093743665)
call ClearSelectionForPlayer(Player(3))
call SelectUnitAddForPlayer(KM4,Player(3))
if GetLocalPlayer()==Player(3)then
call SetUnitVertexColor(KM4,255,255,255,255)
else
call SetUnitVertexColor(KM4,255,255,255,IZ8)
endif
set KN4=CreateUnit(Player(4),1852010352,J4H,J7H,270)
call UnitAddAbility(KN4,1093743665)
call ClearSelectionForPlayer(Player(4))
call SelectUnitAddForPlayer(KN4,Player(4))
if GetLocalPlayer()==Player(4)then
call SetUnitVertexColor(KN4,255,255,255,255)
else
call SetUnitVertexColor(KN4,255,255,255,IZ8)
endif
set KO4=CreateUnit(Player(5),1852010352,J8H,J9H,270)
call UnitAddAbility(KO4,1093743665)
call ClearSelectionForPlayer(Player(5))
call SelectUnitAddForPlayer(KO4,Player(5))
if GetLocalPlayer()==Player(5)then
call SetUnitVertexColor(KO4,255,255,255,255)
else
call SetUnitVertexColor(KO4,255,255,255,IZ8)
endif
set KP4=CreateUnit(Player(7),1852010352,JDH,JEH,270)
call UnitAddAbility(KP4,1093752649)
call ClearSelectionForPlayer(Player(7))
call SelectUnitAddForPlayer(KP4,Player(7))
if GetLocalPlayer()==Player(7)then
call SetUnitVertexColor(KP4,255,255,255,255)
else
call SetUnitVertexColor(KP4,255,255,255,IZ8)
endif
set KQ4=CreateUnit(Player(8),1852010352,JFH,JGH,270)
call UnitAddAbility(KQ4,1093752649)
call ClearSelectionForPlayer(Player(8))
call SelectUnitAddForPlayer(KQ4,Player(8))
if GetLocalPlayer()==Player(8)then
call SetUnitVertexColor(KQ4,255,255,255,255)
else
call SetUnitVertexColor(KQ4,255,255,255,IZ8)
endif
set KR4=CreateUnit(Player(9),1852010352,JHH,JIH,270)
call UnitAddAbility(KR4,1093752649)
call ClearSelectionForPlayer(Player(9))
call SelectUnitAddForPlayer(KR4,Player(9))
if GetLocalPlayer()==Player(9)then
call SetUnitVertexColor(KR4,255,255,255,255)
else
call SetUnitVertexColor(KR4,255,255,255,IZ8)
endif
set KS4=CreateUnit(Player(10),1852010352,JJH,JKH,270)
call UnitAddAbility(KS4,1093752649)
call ClearSelectionForPlayer(Player(10))
call SelectUnitAddForPlayer(KS4,Player(10))
if GetLocalPlayer()==Player(10)then
call SetUnitVertexColor(KS4,255,255,255,255)
else
call SetUnitVertexColor(KS4,255,255,255,IZ8)
endif
set KT4=CreateUnit(Player(11),1852010352,JMH,JNH,270)
call UnitAddAbility(KT4,1093752649)
call ClearSelectionForPlayer(Player(11))
call SelectUnitAddForPlayer(KT4,Player(11))
if GetLocalPlayer()==Player(11)then
call SetUnitVertexColor(KT4,255,255,255,255)
else
call SetUnitVertexColor(KT4,255,255,255,IZ8)
endif
set KU4[1]=KJ4
set KU4[2]=KK4
set KU4[3]=KM4
set KU4[4]=KN4
set KU4[5]=KO4
set KU4[7]=KP4
set KU4[8]=KQ4
set KU4[9]=KR4
set KU4[10]=KS4
set KU4[11]=KT4
set KV4[1]=GetUnitX(KJ4)
set KV4[2]=GetUnitX(KK4)
set KV4[3]=GetUnitX(KM4)
set KV4[4]=GetUnitX(KN4)
set KV4[5]=GetUnitX(KO4)
set KV4[7]=GetUnitX(KP4)
set KV4[8]=GetUnitX(KQ4)
set KV4[9]=GetUnitX(KR4)
set KV4[10]=GetUnitX(KS4)
set KV4[11]=GetUnitX(KT4)
set KW4[1]=GetUnitY(KJ4)
set KW4[2]=GetUnitY(KK4)
set KW4[3]=GetUnitY(KM4)
set KW4[4]=GetUnitY(KN4)
set KW4[5]=GetUnitY(KO4)
set KW4[7]=GetUnitY(KP4)
set KW4[8]=GetUnitY(KQ4)
set KW4[9]=GetUnitY(KR4)
set KW4[10]=GetUnitY(KS4)
set KW4[11]=GetUnitY(KT4)
call I38()
call I58()
call L67(1702061422,"stand 4")
call L67(1697656918,"stand 4")
call L67(1701081721,"spell")
call L67(1697656919,"spell")
call L67(1969711215,"stand victory")
call L67(1966092337,"stand victory")
call L67(1970169187,"stand channel")
call L67(1966092338,"stand channel")
call LA7(V24,0.4,V24)
call LA7(W44,0.5,W44)
call LA7(V14,1.2,V14)
call LA7(V04,0.5,V04)
call LA7(V54,0.5,V54)
call LA7(W74,1,W74)
set t=CreateTrigger()
set j8=Player(15)
set JOH=GetUnitX(qK)
set JPH=GetUnitY(qK)
set JQH=GetUnitX(tJ)
set JRH=GetUnitY(tJ)
set JSH=GetUnitX(LK)
set JTH=GetUnitY(LK)
set JUH=GetUnitX(SJ)
set JVH=GetUnitY(SJ)
set JWH=GetUnitX(IF4)
set JXH=GetUnitY(IF4)
set JYH=GetUnitX(cJ)
set JZH=GetUnitY(cJ)
set JAH=GetUnitX(gJ)
set JBH=GetUnitY(gJ)
set JCH=GetUnitX(PK)
set J3H=GetUnitY(PK)
set J6H=GetUnitX(Cl)
set JLH=GetUnitY(Cl)
set J5H=GetUnitX(XT4)
set J2H=GetUnitY(XT4)
set J1H=GetUnitX(XV4)
set J0H=GetUnitY(XV4)
set J_H=GetUnitX(XU4)
set K4H=GetUnitY(XU4)
call RemoveUnit(qK)
call RemoveUnit(IF4)
call RemoveUnit(tJ)
call RemoveUnit(SJ)
call RemoveUnit(LK)
call RemoveUnit(cJ)
call RemoveUnit(gJ)
call RemoveUnit(PK)
call RemoveUnit(Cl)
call RemoveUnit(XT4)
call RemoveUnit(XV4)
call RemoveUnit(XU4)
set MP4=CreateUnit(j8,1848651832,JUH,JVH,270)
set MQ4=CreateUnit(j8,1848657738,JWH,JXH,270)
set MR4=CreateUnit(j8,1848652100,JYH,JZH,270)
set MS4=CreateUnit(j8,1848659016,J1H,J0H,270)
set MT4=CreateUnit(j8,1848652110,JOH,JPH,270)
set MU4=CreateUnit(j8,1848651831,JQH,JRH,270)
set MV4=CreateUnit(j8,1848651829,JSH,JTH,270)
set MW4=CreateUnit(j8,1848659017,J5H,J2H,270)
set MX4=CreateUnit(j8,1848652098,JAH,JBH,270)
set MY4=CreateUnit(j8,1848652112,JCH,J3H,270)
set MZ4=CreateUnit(j8,1848657739,J6H,JLH,270)
set MA4=CreateUnit(j8,1848659018,J_H,K4H,270)
call SetUnitColor(MP4,ConvertPlayerColor(1))
call SetUnitColor(MQ4,ConvertPlayerColor(1))
call SetUnitColor(MR4,ConvertPlayerColor(9))
call SetUnitColor(MS4,ConvertPlayerColor(9))
call SetUnitColor(MT4,ConvertPlayerColor(6))
call SetUnitColor(MU4,ConvertPlayerColor(6))
call SetUnitColor(MV4,ConvertPlayerColor(10))
call SetUnitColor(MW4,ConvertPlayerColor(10))
call SetUnitColor(MX4,ConvertPlayerColor(0))
call SetUnitColor(MY4,ConvertPlayerColor(0))
call SetUnitColor(MZ4,ConvertPlayerColor(11))
call SetUnitColor(MA4,ConvertPlayerColor(11))
set D87[1]=MP4
set D87[2]=MQ4
set D87[3]=MR4
set D87[4]=MS4
set D87[5]=MT4
set D87[6]=MU4
set D87[7]=MV4
set D87[8]=MW4
set D87[9]=MX4
set D87[10]=MY4
set D87[11]=MZ4
set D87[12]=MA4
call VT9()
call VS9()
set t=null
call I_8()
call JG8()
set ZR=CreateTrigger()
call TriggerRegisterTimerEventSingle(ZR,0.01)
call TriggerAddAction(ZR,function JH8)
set t=CreateTrigger()
call TriggerRegisterPlayerEventLeave(t,Z7[1])
call TriggerRegisterPlayerEventLeave(t,Z7[2])
call TriggerRegisterPlayerEventLeave(t,Z7[3])
call TriggerRegisterPlayerEventLeave(t,Z7[4])
call TriggerRegisterPlayerEventLeave(t,Z7[5])
call TriggerRegisterPlayerEventLeave(t,A7[1])
call TriggerRegisterPlayerEventLeave(t,A7[2])
call TriggerRegisterPlayerEventLeave(t,A7[3])
call TriggerRegisterPlayerEventLeave(t,A7[4])
call TriggerRegisterPlayerEventLeave(t,A7[5])
call TriggerAddAction(t,function JT8)
if V8 then
call JJ8()
set t=CreateTrigger()
if IsPlayerObserver(KX4)then
call TriggerRegisterPlayerEventLeave(t,KX4)
endif
if IsPlayerObserver(KY4)then
call TriggerRegisterPlayerEventLeave(t,KY4)
endif
call TriggerAddAction(t,function JN8)
endif
set U2[0]=false
set U2[1]=false
set U2[2]=false
set U2[3]=false
set U2[4]=false
set U2[5]=false
set U2[6]=false
set U2[7]=false
set U2[8]=false
set U2[9]=false
set U2[10]=false
set U2[11]=false
set U2[12]=false
set U2[13]=false
set U2[14]=false
set U2[15]=false
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_HERO_REVIVE_FINISH)
call TriggerAddAction(t,function U5G)
set t=CreateTrigger()
call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)
call TriggerAddCondition(t,Condition(function WD8))
call TriggerAddAction(t,function WB8)
set ML4=t
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerAddAction(t,function W18)
call TriggerAddCondition(t,Condition(function WL8))
set M04=t
set M54=CreateTrigger()
call TriggerRegisterTimerEvent(M54,0.8,true)
call TriggerAddCondition(M54,Condition(function W08))
call DisableTrigger(M54)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,.5,true)
call TriggerAddAction(t,function E99)
set M24=t
call DY9(0,0,false)
call W_8()
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.5,true)
call D18(t,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(t,Condition(function X48))
set t=null
call DE8(1093809990)
call DE8(1093810008)
call DE8(1093809992)
call DE8(1093810006)
call DE8(1093809991)
call DE8(1093809993)
call DE8(1093809995)
call DE8(1093809994)
set DS=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(DS,Z7[0],EVENT_PLAYER_UNIT_DEATH,Condition(function ZV7))
call TriggerRegisterPlayerUnitEvent(DS,A7[0],EVENT_PLAYER_UNIT_DEATH,Condition(function ZV7))
call TriggerRegisterPlayerUnitEvent(DS,B7,EVENT_PLAYER_UNIT_DEATH,Condition(function ZV7))
call TriggerAddAction(DS,function X98)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function BY8))
set t=null
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function CV8))
call TriggerAddAction(t,function C38)
set ES=t
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function LU8))
set t=null
set NZ4=CreateTrigger()
call TriggerAddCondition(NZ4,Condition(function LZ8))
set ZI=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(ZI,B7,EVENT_PLAYER_UNIT_DEATH,Condition(function ZV7))
call TriggerAddCondition(ZI,Condition(function L68))
call TriggerAddAction(ZI,function L08)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_DEATH,Condition(function ZV7))
call TriggerRegisterPlayerUnitEvent(t,A7[0],EVENT_PLAYER_UNIT_DEATH,Condition(function ZV7))
call TriggerAddCondition(t,Condition(function D99))
set t=CreateTrigger()
call TriggerAddCondition(t,Condition(function DQ9))
call TriggerRegisterTimerEvent(t,6,false)
set t=null
set EV=EV+1
set SU[EV]=1227900486
set ZU[EV]=1227900487
set AU[EV]=0
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp"
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227895377
set ZU[EV]=1227895375
set AU[EV]=1747988785
set BU[EV]=1227894849
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBootsOfSpeed.blp"
set LU[EV]=0
set FV=EV
set EV=EV+1
set SU[EV]=1227895379
set ZU[EV]=1227895376
set AU[EV]=1747988786
set BU[EV]=1227899713
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
set LU[EV]=0
set JV=EV
set EV=EV+1
set SU[EV]=1227895374
set ZU[EV]=1227895378
set AU[EV]=1747988787
set BU[EV]=1227899731
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBoots.blp"
set LU[EV]=0
set MV=EV
set EV=EV+1
set SU[EV]=1227895384
set ZU[EV]=1227895385
set AU[EV]=1747988789
set BU[EV]=1227899956
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNCirclet.blp"
set LU[EV]=0
set NV=EV
set EV=EV+1
set SU[EV]=1227895386
set ZU[EV]=1227895859
set AU[EV]=1747988790
set BU[EV]=1227899734
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBelt.blp"
set LU[EV]=0
set OV=EV
set EV=EV+1
set SU[EV]=1227895600
set ZU[EV]=1227895860
set AU[EV]=1747988791
set BU[EV]=1227899954
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_03.blp"
set LU[EV]=0
set QV=EV
set EV=EV+1
set SU[EV]=1227895601
set ZU[EV]=1227895861
set AU[EV]=1747988792
set BU[EV]=1227899957
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNClawsOfAttack.blp"
set LU[EV]=0
set SV=EV
set EV=EV+1
set SU[EV]=1227895602
set ZU[EV]=1227895862
set AU[EV]=1747988793
set BU[EV]=1227899738
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSteelMelee.blp"
set LU[EV]=0
set TV=EV
set EV=EV+1
set SU[EV]=1227895603
set ZU[EV]=1227895863
set AU[EV]=1747988801
set BU[EV]=1227899959
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Chain_12.blp"
set LU[EV]=0
set UV=EV
set EV=EV+1
set SU[EV]=1227895604
set ZU[EV]=1227895864
set AU[EV]=1747988802
set BU[EV]=1227899736
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_19.blp"
set LU[EV]=0
set XV=EV
set EV=EV+1
set SU[EV]=1227895605
set ZU[EV]=1227895865
set AU[EV]=1747988803
set BU[EV]=1227899721
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNFrostMourne.blp"
set LU[EV]=0
set AV=EV
set EV=EV+1
set SU[EV]=1227895606
set ZU[EV]=1227895873
set AU[EV]=1747988804
set BU[EV]=1227899720
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Bow_06.blp"
set LU[EV]=0
set BV=EV
set EV=EV+1
set SU[EV]=1227895607
set ZU[EV]=1227895874
set AU[EV]=1747988805
set BU[EV]=1227899730
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp"
set LU[EV]=0
set CV=EV
set EV=EV+1
set SU[EV]=1227895608
set ZU[EV]=1227895875
set AU[EV]=1747988806
set BU[EV]=1227899722
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGauntletsOfOgrePower.blp"
set LU[EV]=0
set LV=EV
set EV=EV+1
set SU[EV]=1227895609
set ZU[EV]=1227895876
set AU[EV]=1747988807
set BU[EV]=1227899975
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGem.blp"
set LU[EV]=0
set EW=EV
set EV=EV+1
set SU[EV]=1227902291
set ZU[EV]=1227902290
set AU[EV]=0
set BU[EV]=1227902292
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGem.blp"
set LU[EV]=0
set HW=EV
set EV=EV+1
set EV=EV+1
set SU[EV]=1227895618
set ZU[EV]=1227895877
set AU[EV]=1747988808
set BU[EV]=1227899969
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHelmutPurple.blp"
set LU[EV]=0
set NW=EV
set EV=EV+1
set SU[EV]=1227895619
set ZU[EV]=1227895878
set AU[EV]=1747988809
set BU[EV]=1227899729
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPeriapt1.blp"
set LU[EV]=0
set OW=EV
set EV=EV+1
set SU[EV]=1227895620
set ZU[EV]=1227895879
set AU[EV]=1747988810
set BU[EV]=1227899733
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNNatureTouchGrow.blp"
set LU[EV]=0
set QW=EV
set EV=EV+1
set SU[EV]=1227895621
set ZU[EV]=1227895880
set AU[EV]=1747988811
set BU[EV]=1227899703
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
set LU[EV]=14
set RW=EV
set EV=EV+1
set SU[EV]=1227895621
set ZU[EV]=1227895881
set AU[EV]=1747988811
set BU[EV]=1227899976
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
set LU[EV]=0
set TW=EV
set EV=EV+1
set SU[EV]=1227895622
set ZU[EV]=1227895882
set AU[EV]=1747988812
set BU[EV]=1227899725
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNMantleOfIntelligence.blp"
set LU[EV]=0
set UW=EV
set EV=EV+1
set SU[EV]=1227895623
set ZU[EV]=1227895883
set AU[EV]=1747988813
set BU[EV]=1227899716
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUndeadShrine.blp"
set LU[EV]=0
set VW=EV
set EV=EV+1
set SU[EV]=1227895624
set ZU[EV]=1227895884
set AU[EV]=1747988814
set BU[EV]=1227899719
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalkerMasterTraining.blp"
set LU[EV]=0
set YW=EV
set EV=EV+1
set SU[EV]=1227895625
set ZU[EV]=1227895885
set AU[EV]=1747988815
set BU[EV]=1227899952
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHammer.blp"
set LU[EV]=0
set ZW=EV
set EV=EV+1
set SU[EV]=1227895626
set ZU[EV]=1227895886
set AU[EV]=1747988816
set BU[EV]=1227899726
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStaffOfNegation.blp"
set LU[EV]=0
set GX=EV
set EV=EV+1
set SU[EV]=1227895627
set ZU[EV]=1227895887
set AU[EV]=1747988817
set BU[EV]=1227899960
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalkerAdeptTraining.tga"
set LU[EV]=0
set NX=EV
set EV=EV+1
set SU[EV]=1227895628
set ZU[EV]=1227895888
set AU[EV]=1747988818
set BU[EV]=1227899717
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
set LU[EV]=0
set RX=EV
set EV=EV+1
set SU[EV]=1227895629
set ZU[EV]=1227895889
set AU[EV]=1747988819
set BU[EV]=1227899970
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Plate13.blp"
set LU[EV]=0
set SX=EV
set EV=EV+1
set SU[EV]=1227895630
set ZU[EV]=1227895890
set AU[EV]=1747988820
set BU[EV]=1227899724
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUsedSoulGem.blp"
set LU[EV]=0
set WX=EV
set EV=EV+1
set SU[EV]=1227895632
set ZU[EV]=1227895891
set AU[EV]=1747988821
set BU[EV]=1227899737
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAlleriaFlute.blp"
set LU[EV]=0
set YX=EV
set EV=EV+1
set SU[EV]=1227895633
set ZU[EV]=1227895892
set AU[EV]=1747988822
set BU[EV]=1227899977
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGoldRing.blp"
set LU[EV]=0
set ZX=EV
set EV=EV+1
set SU[EV]=1227895634
set ZU[EV]=1227895893
set AU[EV]=1747988823
set BU[EV]=1227899735
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingPurple.blp"
set LU[EV]=0
set AX=EV
set EV=EV+1
set SU[EV]=1227895635
set ZU[EV]=1227895894
set AU[EV]=1747988824
set BU[EV]=1227899978
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingSkull.blp"
set LU[EV]=0
set GY=EV
set EV=EV+1
set SU[EV]=1227895636
set ZU[EV]=1227895895
set AU[EV]=1747988825
set BU[EV]=1227899728
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRobeOfTheMagi.blp"
set LU[EV]=0
set HY=EV
set EV=EV+1
set SU[EV]=1227895637
set ZU[EV]=1227895896
set AU[EV]=1747988826
set BU[EV]=1227899715
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStaffOfTeleportation.blp"
set LU[EV]=0
set SY=EV
set EV=EV+1
set SU[EV]=1227895638
set ZU[EV]=1227895897
set AU[EV]=1747989040
set BU[EV]=1227899701
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSlippersOfAgility.blp"
set LU[EV]=0
set UY=EV
set EV=EV+1
set SU[EV]=1227895639
set ZU[EV]=1227895898
set AU[EV]=1747989041
set BU[EV]=1227899979
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSobiMask.blp"
set LU[EV]=0
set ZY=EV
set EV=EV+1
set SU[EV]=1227895640
set ZU[EV]=1227896112
set AU[EV]=1747989042
set BU[EV]=1227899953
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWandOfCyclone.blp"
set LU[EV]=0
set DZ=EV
set EV=EV+1
set SU[EV]=1227895617
set ZU[EV]=1227896113
set AU[EV]=1747989043
set BU[EV]=1227899961
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
set LU[EV]=0
set EZ=EV
set EV=EV+1
set SU[EV]=1227901762
set ZU[EV]=1227901761
set AU[EV]=0
set BU[EV]=1227901763
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
set LU[EV]=0
set HZ=EV
set EV=EV+1
set SU[EV]=1227895641
set ZU[EV]=1227896114
set AU[EV]=1747989044
set BU[EV]=1227899705
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbofSlowness.blp"
set LU[EV]=0
set NZ=EV
set EV=EV+1
set SU[EV]=1227895642
set ZU[EV]=1227896115
set AU[EV]=1747989045
set BU[EV]=1227899723
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSoulGem.blp"
set LU[EV]=0
set OZ=EV
set EV=EV+1
set SU[EV]=1227895856
set ZU[EV]=1227896116
set AU[EV]=1747989046
set BU[EV]=1227899980
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPeriapt.blp"
set LU[EV]=0
set RZ=EV
set EV=EV+1
set SU[EV]=1227895857
set ZU[EV]=1227896117
set AU[EV]=1747989047
set BU[EV]=1227899958
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSteelRanged.blp"
set LU[EV]=0
set UZ=EV
set EV=EV+1
set SU[EV]=1227894860
set ZU[EV]=1227899222
set AU[EV]=1747989058
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle0.blp"
set LU[EV]=0
set XZ=EV
set EV=EV+1
set SU[EV]=1227896133
set ZU[EV]=1227899213
set AU[EV]=0
set BU[EV]=1227899982
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle0.blp"
set LU[EV]=0
set AZ=EV
set EV=EV+1
set SU[EV]=1227899221
set ZU[EV]=1227899214
set AU[EV]=0
set BU[EV]=1227899983
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle1.blp"
set LU[EV]=0
set BZ=EV
set EV=EV+1
set SU[EV]=1227899219
set ZU[EV]=1227899215
set AU[EV]=0
set BU[EV]=1227899984
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle2.blp"
set LU[EV]=0
set CZ=EV
set EV=EV+1
set SU[EV]=1227899220
set ZU[EV]=1227899216
set AU[EV]=0
set BU[EV]=1227899985
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle3.blp"
set LU[EV]=0
set IA=EV
set EV=EV+1
set SU[EV]=1227900759
set ZU[EV]=1227900761
set AU[EV]=0
set BU[EV]=1227900979
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle_Illusion.blp"
set LU[EV]=0
set YA=EV
set EV=EV+1
set SU[EV]=1227900978
set ZU[EV]=1227900760
set AU[EV]=0
set BU[EV]=1227899986
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle_Regeneration.blp"
set LU[EV]=0
set WA=EV
set EV=EV+1
set SU[EV]=1227900758
set ZU[EV]=1227900977
set AU[EV]=0
set BU[EV]=1227900980
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle_Haste.blp"
set LU[EV]=0
set QA=EV
set EV=EV+1
set SU[EV]=1227899218
set ZU[EV]=1227900976
set AU[EV]=0
set BU[EV]=1227900982
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle_DoubleDamage.blp"
set LU[EV]=0
set NA=EV
set EV=EV+1
set SU[EV]=1227899217
set ZU[EV]=1227900762
set AU[EV]=0
set BU[EV]=1227900981
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBottle_Invisibility.blp"
set LU[EV]=0
set JA=EV
set EV=EV+1
set SU[EV]=1227900740
set ZU[EV]=1227900739
set AU[EV]=1747990324
set BU[EV]=1227900741
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWand.blp"
set LU[EV]=17
set ZA=EV
set EV=EV+1
set SU[EV]=1227900995
set ZU[EV]=1227900994
set AU[EV]=0
set BU[EV]=1227900993
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStarWand.blp"
set LU[EV]=17
set DT4=EV
set EV=EV+1
set SU[EV]=1227901012
set ZU[EV]=1227901010
set AU[EV]=1747990359
set BU[EV]=1227901014
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
set LU[EV]=5
set BA=EV
set EV=EV+1
set SU[EV]=1227901013
set ZU[EV]=1227901008
set AU[EV]=0
set BU[EV]=1227901015
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
set LU[EV]=5
set GB=EV
set EV=EV+1
set SU[EV]=1227902516
set ZU[EV]=1227902515
set AU[EV]=0
set BU[EV]=1227902517
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPoisonBlade.blp"
set LU[EV]=30
set QB=EV
set EV=EV+1
set SU[EV]=1227902519
set ZU[EV]=1227902518
set AU[EV]=0
set BU[EV]=1227902520
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPoisonBlade.blp"
set LU[EV]=30
set RB=EV
set EV=EV+1
set SU[EV]=1227901495
set ZU[EV]=1227901494
set AU[EV]=1747990579
set BU[EV]=1227901496
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAmulet.blp"
set LU[EV]=0
set JB=EV
set EV=EV+1
set SU[EV]=1227901514
set ZU[EV]=1227901513
set AU[EV]=1747990583
set BU[EV]=1227901515
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGreenStaff.blp"
set LU[EV]=30
set DA4=EV
set EV=EV+1
set SU[EV]=1227903033
set ZU[EV]=1227903042
set AU[EV]=1747993929
set BU[EV]=1227903041
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPendantOfMana.blp"
set LU[EV]=0
set W3=EV
set EV=EV+1
set SU[EV]=1227902273
set ZU[EV]=1227902265
set AU[EV]=1747993421
set BU[EV]=1227902274
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"
set LU[EV]=0
set E_4=EV
set EV=EV+1
set SU[EV]=1227902276
set ZU[EV]=1227902277
set AU[EV]=0
set BU[EV]=1227902275
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"
set LU[EV]=0
set F44=EV
set EV=EV+1
set SU[EV]=1227896119
set ZU[EV]=1227896131
set AU[EV]=1747989057
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAncientOfTheEarth.blp"
set LU[EV]=0
set TC=EV
set EV=EV+1
set SU[EV]=1227895858
set ZU[EV]=1227896132
set AU[EV]=1747989048
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNLesserClarityPotion.blp"
set LU[EV]=0
set OC=EV
set EV=EV+1
set SU[EV]=1227901007
set ZU[EV]=1227901006
set AU[EV]=1747990358
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNVialFull.blp"
set LU[EV]=0
set PC=EV
set EV=EV+1
set SU[EV]=1227896118
set ZU[EV]=1227896134
set AU[EV]=1747989049
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHealingSalve.blp"
set LU[EV]=0
set QC=EV
set EV=EV+1
set SU[EV]=1227896120
set ZU[EV]=1227896135
set AU[EV]=1747989059
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSentryWard.blp"
set LU[EV]=0
set VC=EV
set EV=EV+1
set SU[EV]=1227896121
set ZU[EV]=1227896136
set AU[EV]=1747989060
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBlueSentryWard.blp"
set LU[EV]=0
set WC=EV
set EV=EV+1
set SU[EV]=1227896129
set ZU[EV]=1227896137
set AU[EV]=1747989061
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"
set LU[EV]=0
set XC=EV
set EV=EV+1
set SU[EV]=1227896130
set ZU[EV]=1227896138
set AU[EV]=1747989062
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNCritterChicken.blp"
set LU[EV]=0
set ZC=EV
set EV=EV+1
set SU[EV]=1227899440
set ZU[EV]=1227899441
set AU[EV]=0
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNCheese.blp"
set LU[EV]=0
set AC=EV
set EV=EV+1
set SU[EV]=1227900743
set ZU[EV]=1227900742
set AU[EV]=1747990325
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPotionOfDivinity.blp"
set LU[EV]=30
set BC=EV
set EV=EV+1
set SU[EV]=1227900745
set ZU[EV]=1227900744
set AU[EV]=1747990326
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDustOfAppearance.blp"
set LU[EV]=60
set CC=EV
set EV=EV+1
set SU[EV]=1227901780
set ZU[EV]=1227901779
set AU[EV]=1747993145
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWandOfManaSteal.blp"
set LU[EV]=0
set LC=EV
set EV=EV+1
set SU[EV]=1227902534
set ZU[EV]=1227902535
set AU[EV]=1747993651
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSmokePotion.blp"
set LU[EV]=90
set H3=EV
set EV=EV+1
set SU[EV]=1227896369
set ZU[EV]=1227896370
set AU[EV]=0
set BU[EV]=1227895114
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbOfFire.blp"
set LU[EV]=0
set Y3=EV
set EV=EV+1
set SU[EV]=1227896372
set ZU[EV]=1227896371
set AU[EV]=0
set BU[EV]=1227895115
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_17.blp"
set LU[EV]=0
set Z3=EV
set EV=EV+1
set SU[EV]=1227896373
set ZU[EV]=1227896374
set AU[EV]=0
set BU[EV]=1227895116
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNThoriumArmor.blp"
set LU[EV]=25
set B3=EV
set EV=EV+1
set SU[EV]=1227896376
set ZU[EV]=1227896375
set AU[EV]=0
set BU[EV]=1227895117
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingVioletSpider.tga"
set LU[EV]=0
set C3=EV
set EV=EV+1
set SU[EV]=1227896377
set ZU[EV]=1227896385
set AU[EV]=0
set BU[EV]=1227899702
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingVioletSpider.tga"
set LU[EV]=0
set E6=EV
set EV=EV+1
set SU[EV]=1227896387
set ZU[EV]=1227896386
set AU[EV]=0
set BU[EV]=1227895120
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAbility_Rogue_Sprint.blp"
set LU[EV]=60
set F6=EV
set EV=EV+1
set SU[EV]=1227895631
set ZU[EV]=1227895380
set AU[EV]=0
set BU[EV]=1227895122
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWirtsLegGreen.blp"
set LU[EV]=0
set G6=EV
set EV=EV+1
set SU[EV]=1227895381
set ZU[EV]=1227896153
set AU[EV]=0
set BU[EV]=1227895121
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWirtsLeg.blp"
set LU[EV]=0
set H6=EV
set EV=EV+1
set SU[EV]=1227896368
set ZU[EV]=1227896154
set AU[EV]=0
set BU[EV]=1227895123
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWirtsLegBlue.blp"
set LU[EV]=0
set N6=EV
set EV=EV+1
set SU[EV]=1227896389
set ZU[EV]=1227896388
set AU[EV]=0
set BU[EV]=1227895124
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGoldGloves.BLP"
set LU[EV]=100
set S6=EV
set EV=EV+1
set SU[EV]=1227902543
set ZU[EV]=1227902542
set AU[EV]=0
set BU[EV]=1227902544
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGoldGloves.BLP"
set LU[EV]=100
set V6=EV
set EV=EV+1
set SU[EV]=1227896391
set ZU[EV]=1227896390
set AU[EV]=0
set BU[EV]=1227895125
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Mace_10.blp"
set LU[EV]=0
set W6=EV
set EV=EV+1
set SU[EV]=1227896393
set ZU[EV]=1227896392
set AU[EV]=0
set BU[EV]=1227895126
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRunedBracers.blp"
set LU[EV]=0
set A6=EV
set EV=EV+1
set SU[EV]=1227896395
set ZU[EV]=1227896394
set AU[EV]=0
set BU[EV]=1227895127
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRevenant.blp"
set LU[EV]=0
set DL=EV
set EV=EV+1
set SU[EV]=1227896397
set ZU[EV]=1227896396
set AU[EV]=0
set BU[EV]=1227895128
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNTalisman.tga"
set LU[EV]=0
set HL=EV
set EV=EV+1
set SU[EV]=1227896902
set ZU[EV]=1227896903
set AU[EV]=0
set BU[EV]=1227895129
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_10.blp"
set LU[EV]=0
set OL=EV
set EV=EV+1
set SU[EV]=1227896905
set ZU[EV]=1227896904
set AU[EV]=0
set BU[EV]=1227895130
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNJapaneseSword.BLP"
set LU[EV]=0
set RL=EV
set EV=EV+1
set SU[EV]=1227896906
set ZU[EV]=1227896907
set AU[EV]=0
set BU[EV]=1227895344
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Hammer_10.blp"
set LU[EV]=0
set WL=EV
set EV=EV+1
set SU[EV]=1227896909
set ZU[EV]=1227896908
set AU[EV]=0
set BU[EV]=1227899704
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Hammer_10.blp"
set LU[EV]=0
set ZL=EV
set EV=EV+1
set SU[EV]=1227896910
set ZU[EV]=1227896911
set AU[EV]=0
set BU[EV]=1227895345
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Plate06.blp"
set LU[EV]=22
set AL=EV
set EV=EV+1
set SU[EV]=1227896913
set ZU[EV]=1227896912
set AU[EV]=0
set BU[EV]=1227895346
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStormHammer.blp"
set LU[EV]=0
set LL=EV
set EV=EV+1
set SU[EV]=1227896915
set ZU[EV]=1227896914
set AU[EV]=0
set BU[EV]=1227895347
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"
set LU[EV]=12
set D1=EV
set EV=EV+1
set SU[EV]=1227901506
set ZU[EV]=1227901497
set AU[EV]=0
set BU[EV]=1227901508
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDiffusal2.blp"
set LU[EV]=12
set E1=EV
set EV=EV+1
set SU[EV]=1227900247
set ZU[EV]=1227900246
set AU[EV]=0
set BU[EV]=1227900248
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"
set LU[EV]=0
set F1=EV
set EV=EV+1
set SU[EV]=1227901507
set ZU[EV]=1227901505
set AU[EV]=0
set BU[EV]=1227901509
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDiffusal2.blp"
set LU[EV]=0
set H1=EV
set EV=EV+1
set SU[EV]=1227896917
set ZU[EV]=1227896916
set AU[EV]=0
set BU[EV]=1227895348
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_13.blp"
set LU[EV]=60
set J1=EV
set EV=EV+1
set SU[EV]=1227896919
set ZU[EV]=1227896918
set AU[EV]=0
set BU[EV]=1227899727
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_13.blp"
set LU[EV]=0
set O1=EV
set EV=EV+1
set SU[EV]=1227896920
set ZU[EV]=1227896921
set AU[EV]=0
set BU[EV]=1227895349
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHelmOfValor.blp"
set LU[EV]=22
set P1=EV
set EV=EV+1
set SU[EV]=1227897136
set ZU[EV]=1227896922
set AU[EV]=0
set BU[EV]=1227895350
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStaffofpurification.blp"
set LU[EV]=30
set Q1=EV
set EV=EV+1
set SU[EV]=1227897138
set ZU[EV]=1227897137
set AU[EV]=0
set BU[EV]=1227895351
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPhilosophersStone.blp"
set LU[EV]=0
set R1=EV
set EV=EV+1
set SU[EV]=1227897140
set ZU[EV]=1227897139
set AU[EV]=0
set BU[EV]=1227895352
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSpellShieldAmulet.blp"
set LU[EV]=45
set T1=EV
set EV=EV+1
set SU[EV]=1227897142
set ZU[EV]=1227897141
set AU[EV]=0
set BU[EV]=1227895353
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSpell_Holy_BlessingOfStrength.blp"
set LU[EV]=0
set U1=EV
set EV=EV+1
set SU[EV]=1227897144
set ZU[EV]=1227897143
set AU[EV]=0
set BU[EV]=1227895361
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAbility_Gouge.blp"
set LU[EV]=0
set V1=EV
set EV=EV+1
set SU[EV]=1227897153
set ZU[EV]=1227897145
set AU[EV]=0
set BU[EV]=1227895362
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_06.blp"
set LU[EV]=0
set X1=EV
set EV=EV+1
set SU[EV]=1227897154
set ZU[EV]=1227897155
set AU[EV]=0
set BU[EV]=1227895363
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNThoriumMelee.blp"
set LU[EV]=0
set A1=EV
set EV=EV+1
set SU[EV]=1227900722
set ZU[EV]=1227900506
set AU[EV]=0
set BU[EV]=1227900728
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=80
set D0=EV
set EV=EV+1
set SU[EV]=1227900726
set ZU[EV]=1227900720
set AU[EV]=0
set BU[EV]=1227900729
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=75
set E0=EV
set EV=EV+1
set SU[EV]=1227897157
set ZU[EV]=1227900505
set AU[EV]=0
set BU[EV]=1227900727
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=70
set J0=EV
set EV=EV+1
set SU[EV]=1227900725
set ZU[EV]=1227900499
set AU[EV]=0
set BU[EV]=1227895364
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=65
set N0=EV
set EV=EV+1
set SU[EV]=1227900723
set ZU[EV]=1227897156
set AU[EV]=0
set BU[EV]=1227900738
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=60
set O0=EV
set EV=EV+1
set SU[EV]=1227900724
set ZU[EV]=1227900721
set AU[EV]=0
set BU[EV]=1227900737
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=55
set R0=EV
set EV=EV+1
set SU[EV]=1227903030
set ZU[EV]=1227903032
set AU[EV]=0
set BU[EV]=1227903031
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
set LU[EV]=50
set T0=EV
set EV=EV+1
set SU[EV]=1227899224
set ZU[EV]=1227899223
set AU[EV]=0
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNArcaniteArmor.blp"
set LU[EV]=0
set X0=EV
set EV=EV+1
set SU[EV]=1227897159
set ZU[EV]=1227897158
set AU[EV]=0
set BU[EV]=1227895365
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_02.blp"
set LU[EV]=35
set Y0=EV
set EV=EV+1
set SU[EV]=1227902294
set ZU[EV]=1227902293
set AU[EV]=0
set BU[EV]=1227902295
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_02.blp"
set LU[EV]=50
set B0=EV
set EV=EV+1
set SU[EV]=1227897161
set ZU[EV]=1227897160
set AU[EV]=0
set BU[EV]=1227895366
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNLothars.BLP"
set LU[EV]=22
set C0=EV
set EV=EV+1
set SU[EV]=1227897163
set ZU[EV]=1227897165
set AU[EV]=0
set BU[EV]=1227895111
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
set LU[EV]=40
set F5=EV
set EV=EV+1
set SU[EV]=1227897162
set ZU[EV]=1227897168
set AU[EV]=0
set BU[EV]=1227895367
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
set LU[EV]=36
set G5=EV
set EV=EV+1
set SU[EV]=1227897169
set ZU[EV]=1227897166
set AU[EV]=0
set BU[EV]=1227899971
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
set LU[EV]=32
set J5=EV
set EV=EV+1
set SU[EV]=1227897171
set ZU[EV]=1227897167
set AU[EV]=0
set BU[EV]=1227899972
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
set LU[EV]=28
set M5=EV
set EV=EV+1
set SU[EV]=1227897170
set ZU[EV]=1227897164
set AU[EV]=0
set BU[EV]=1227899955
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
set LU[EV]=24
set N5=EV
set EV=EV+1
set SU[EV]=1227897173
set ZU[EV]=1227897172
set AU[EV]=0
set BU[EV]=1227895368
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNNecromancerAdept.blp"
set LU[EV]=90
set R5=EV
set EV=EV+1
set SU[EV]=1227897174
set ZU[EV]=1227897176
set AU[EV]=0
set BU[EV]=1227895369
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBookOfTheDead.blp"
set LU[EV]=90
set S5=EV
set EV=EV+1
set SU[EV]=1227897175
set ZU[EV]=1227897177
set AU[EV]=0
set BU[EV]=1227895370
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNNecromancerMaster.blp"
set LU[EV]=90
set T5=EV
set EV=EV+1
set SU[EV]=1227899184
set ZU[EV]=1227897178
set AU[EV]=0
set BU[EV]=1227899471
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp"
set LU[EV]=0
set W5=EV
set EV=EV+1
set SU[EV]=1227901003
set ZU[EV]=1227901002
set AU[EV]=0
set BU[EV]=1227901004
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp"
set LU[EV]=0
set A5=EV
set EV=EV+1
set SU[EV]=1227899186
set ZU[EV]=1227899185
set AU[EV]=0
set BU[EV]=1227899472
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_25.blp"
set LU[EV]=0
set B5=EV
set EV=EV+1
set SU[EV]=1227902025
set ZU[EV]=1227902026
set AU[EV]=0
set BU[EV]=1227902027
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_25.blp"
set LU[EV]=0
set C5=EV
set EV=EV+1
set SU[EV]=1227899188
set ZU[EV]=1227899187
set AU[EV]=0
set BU[EV]=1227899473
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Crossbow_10.blp"
set LU[EV]=0
set L5=EV
set EV=EV+1
set SU[EV]=1227899190
set ZU[EV]=1227899189
set AU[EV]=0
set BU[EV]=1227899474
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"
set LU[EV]=0
set E2=EV
set EV=EV+1
set SU[EV]=1227901752
set ZU[EV]=1227901751
set AU[EV]=0
set BU[EV]=1227901753
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"
set LU[EV]=0
set F2=EV
set EV=EV+1
set SU[EV]=1227899191
set ZU[EV]=1227899192
set AU[EV]=0
set BU[EV]=1227899475
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNTransmute.blp"
set LU[EV]=0
set H2=EV
set EV=EV+1
set SU[EV]=1227901777
set ZU[EV]=1227901776
set AU[EV]=0
set BU[EV]=1227901778
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNTransmute.blp"
set LU[EV]=0
set P2=EV
set EV=EV+1
set SU[EV]=1227899201
set ZU[EV]=1227899193
set AU[EV]=0
set BU[EV]=1227899476
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHeartOfAszune.blp"
set LU[EV]=0
set R2=EV
set EV=EV+1
set SU[EV]=1227899201
set ZU[EV]=1227901772
set BU[EV]=1227901773
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHeartOfAszune.blp"
set LU[EV]=0
set S2=EV
set EV=EV+1
set SU[EV]=1227899203
set ZU[EV]=1227899202
set AU[EV]=0
set BU[EV]=1227899477
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHornOfDoom.blp"
set LU[EV]=35
set T2=EV
set EV=EV+1
set SU[EV]=1227899204
set ZU[EV]=1227899205
set AU[EV]=0
set BU[EV]=1227899478
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNIceShard.blp"
set LU[EV]=0
set W2=EV
set EV=EV+1
set SU[EV]=1227899207
set ZU[EV]=1227899206
set AU[EV]=0
set BU[EV]=1227899732
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNIceShard.blp"
set LU[EV]=0
set X2=EV
set EV=EV+1
set SU[EV]=1227899208
set ZU[EV]=1227899209
set AU[EV]=0
set BU[EV]=1227899479
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_04.blp"
set LU[EV]=0
set Z2=EV
set EV=EV+1
set SU[EV]=1227899448
set ZU[EV]=1227899225
set AU[EV]=0
set BU[EV]=1227894850
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FR4=EV
set EV=EV+1
set SU[EV]=1227899211
set ZU[EV]=1227899210
set AU[EV]=0
set BU[EV]=1227899480
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHeartOfSearinox.blp"
set LU[EV]=210
set D44=EV
set EV=EV+1
set SU[EV]=1227896651
set ZU[EV]=1227899212
set AU[EV]=0
set BU[EV]=1227899481
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_09.blp"
set LU[EV]=35
set D74=EV
set EV=EV+1
set SU[EV]=1227899458
set ZU[EV]=1227899457
set AU[EV]=0
set BU[EV]=1227899482
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyArmor.blp"
set LU[EV]=0
set D84=EV
set EV=EV+1
set SU[EV]=1227902021
set ZU[EV]=1227902019
set AU[EV]=0
set BU[EV]=1227902020
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyArmor.blp"
set LU[EV]=0
set D94=EV
set EV=EV+1
set SU[EV]=1227899459
set ZU[EV]=1227899460
set AU[EV]=0
set BU[EV]=1227894851
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNArcaneRing.blp"
set LU[EV]=33
set DD4=EV
set EV=EV+1
set SU[EV]=1227899462
set ZU[EV]=1227899461
set AU[EV]=0
set BU[EV]=1227899696
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNThunderMallet.blp"
set LU[EV]=35
set DE4=EV
set EV=EV+1
set SU[EV]=1227895092
set ZU[EV]=1227895108
set AU[EV]=0
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRavenForm.blp"
set LU[EV]=0
set DF4=EV
set EV=EV+1
set SU[EV]=1227899464
set ZU[EV]=1227899463
set AU[EV]=0
set BU[EV]=1227899697
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNCloakOfFlames.blp"
set LU[EV]=0
set DG4=EV
set EV=EV+1
set SU[EV]=1227899465
set ZU[EV]=1227899466
set AU[EV]=0
set BU[EV]=1227899698
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Chain_14.blp"
set LU[EV]=0
set DH4=EV
set EV=EV+1
set SU[EV]=1227899468
set ZU[EV]=1227899467
set AU[EV]=0
set BU[EV]=1227899699
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Gem_Bloodstone_02.blp"
set LU[EV]=0
set DI4=EV
set EV=EV+1
set SU[EV]=1227899470
set ZU[EV]=1227899469
set AU[EV]=0
set BU[EV]=1227899700
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHoodOfCunning.blp"
set LU[EV]=0
set DJ4=EV
set EV=EV+1
set SU[EV]=1227894867
set ZU[EV]=1227894861
set AU[EV]=0
set BU[EV]=1227895107
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyStrength.blp"
set LU[EV]=0
set DK4=EV
set EV=EV+1
set SU[EV]=1227894868
set ZU[EV]=1227894865
set AU[EV]=0
set BU[EV]=1227895109
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUnholyStrength.blp"
set LU[EV]=0
set DM4=EV
set EV=EV+1
set SU[EV]=1227894870
set ZU[EV]=1227894862
set AU[EV]=0
set BU[EV]=1227895110
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyStrength.blp"
set LU[EV]=0
set DN4=EV
set EV=EV+1
set SU[EV]=1227894871
set ZU[EV]=1227894866
set AU[EV]=0
set BU[EV]=1227899973
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUnholyStrength.blp"
set LU[EV]=0
set DO4=EV
set EV=EV+1
set SU[EV]=1227894872
set ZU[EV]=1227894874
set AU[EV]=0
set BU[EV]=1227899718
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAdvancedMoonArmor.blp"
set LU[EV]=30
set DP4=EV
set EV=EV+1
set SU[EV]=1227894873
set ZU[EV]=1227895088
set AU[EV]=0
set BU[EV]=1227899974
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAdvancedMoonArmor.blp"
set LU[EV]=0
set DQ4=EV
set EV=EV+1
set SU[EV]=1227895091
set ZU[EV]=1227895090
set AU[EV]=0
set BU[EV]=1227899714
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNStaffOfSilence.blp"
set LU[EV]=18
set DR4=EV
set EV=EV+1
set SU[EV]=1227900747
set ZU[EV]=1227900746
set AU[EV]=0
set BU[EV]=1227900748
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPhaseBoots.blp"
set LU[EV]=8
set DS4=EV
set EV=EV+1
set SU[EV]=1227900999
set ZU[EV]=1227901001
set AU[EV]=0
set BU[EV]=1227901000
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNForceStaff.blp"
set LU[EV]=25
set DU4=EV
set EV=EV+1
set SU[EV]=1227901232
set ZU[EV]=1227901750
set AU[EV]=0
set BU[EV]=1227901234
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPipeOfInsight.blp"
set LU[EV]=25
set DV4=EV
set EV=EV+1
set SU[EV]=1227901511
set ZU[EV]=1227901510
set AU[EV]=0
set BU[EV]=1227901512
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyArmor.blp"
set LU[EV]=12
set DW4=EV
set EV=EV+1
set SU[EV]=1227901764
set ZU[EV]=1227901766
set AU[EV]=0
set BU[EV]=1227901765
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyArmor.blp"
set LU[EV]=12
set DX4=EV
set EV=EV+1
set SU[EV]=1227901784
set ZU[EV]=1227901785
set AU[EV]=0
set BU[EV]=1227901786
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUrnOfKelThuzad.blp"
set LU[EV]=8
set DY4=EV
set EV=EV+1
set SU[EV]=1227902023
set ZU[EV]=1227902022
set AU[EV]=0
set BU[EV]=1227902024
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUrnOfKelThuzad.blp"
set LU[EV]=0
set DZ4=EV
set EV=EV+1
set SU[EV]=1227902032
set ZU[EV]=1227902028
set AU[EV]=0
set BU[EV]=1227902033
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSoulRing.blp"
set LU[EV]=25
set E54=EV
set EV=EV+1
set SU[EV]=1227902034
set ZU[EV]=1227902036
set AU[EV]=0
set BU[EV]=1227902035
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGhostBlade.blp"
set LU[EV]=30
set E24=EV
set EV=EV+1
set SU[EV]=1227902282
set ZU[EV]=1227902281
set AU[EV]=0
set BU[EV]=1227902283
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNArcaneBoots.blp"
set LU[EV]=45
set F74=EV
set EV=EV+1
set SU[EV]=1227902513
set ZU[EV]=1227902512
set AU[EV]=0
set BU[EV]=1227902514
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNMedalionOfCourage.blp"
set LU[EV]=7
set M3=EV
set EV=EV+1
set SU[EV]=1227902532
set ZU[EV]=1227902533
set AU[EV]=0
set BU[EV]=1227902531
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNJanggo.blp"
set LU[EV]=30
set VB=EV
set EV=EV+1
set SU[EV]=1227902540
set ZU[EV]=1227902539
set AU[EV]=0
set BU[EV]=1227902541
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNJanggo.blp"
set LU[EV]=0
set WB=EV
set EV=EV+1
set SU[EV]=1227902770
set ZU[EV]=1227902771
set AU[EV]=0
set BU[EV]=1227902772
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBoneChimes.blp"
set LU[EV]=30
set N3=EV
set EV=EV+1
set SU[EV]=1227902787
set ZU[EV]=1227902789
set AU[EV]=0
set BU[EV]=1227902788
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBoneChimes.blp"
set LU[EV]=30
set YB=EV
set EV=EV+1
set SU[EV]=1227902790
set ZU[EV]=1227902791
set AU[EV]=0
set BU[EV]=1227902792
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNTranquilBoots.blp"
set LU[EV]=30
set LB=EV
set EV=EV+1
set SU[EV]=1227902794
set ZU[EV]=1227902793
set AU[EV]=0
set BU[EV]=1227902795
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNTranquilBoots.blp"
set LU[EV]=30
set EC=EV
set EV=EV+1
set SU[EV]=1227902797
set ZU[EV]=1227902796
set AU[EV]=0
set BU[EV]=1227902798
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWitchDoctorMaster.blp"
set LU[EV]=16
set FC=EV
set EV=EV+1
set SU[EV]=1227902800
set ZU[EV]=1227902799
set AU[EV]=0
set BU[EV]=1227902801
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNPendantOfMana.blp"
set LU[EV]=20
set GC=EV
set EV=EV+1
set SU[EV]=1227902805
set ZU[EV]=1227902806
set AU[EV]=0
set BU[EV]=1227902807
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHalberd.blp"
set LU[EV]=30
set R3=EV
set EV=EV+1
set SU[EV]=1227902809
set ZU[EV]=1227902808
set AU[EV]=0
set BU[EV]=1227902810
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAnnihilator.blp"
set LU[EV]=60
set U3=EV
set EV=EV+1
set SU[EV]=1227903024
set ZU[EV]=1227903025
set AU[EV]=0
set BU[EV]=1227903026
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingJadeFalcon.blp"
set LU[EV]=0
set JC=EV
set EV=EV+1
set SU[EV]=1227903027
set ZU[EV]=1227903028
set AU[EV]=0
set BU[EV]=1227903029
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingJadeFalcon.blp"
set LU[EV]=0
set NC=EV
set EV=EV+1
set SU[EV]=1346522445
set ZU[EV]=1346522446
set AU[EV]=0
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"
set LU[EV]=0
set YC=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989063
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747990582
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896140
set ZU[EV]=1227896146
set AU[EV]=1747989064
set BU[EV]=1227899987
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set DB4=EV
set EV=EV+1
set SU[EV]=1227896141
set ZU[EV]=1227896147
set AU[EV]=1747989065
set BU[EV]=1227899988
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set DC4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989066
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896143
set ZU[EV]=1227896148
set AU[EV]=1747989067
set BU[EV]=1227899989
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D34=EV
set EV=EV+1
set AU[EV]=1747988788
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D64=EV
set EV=EV+1
set SU[EV]=1227896144
set ZU[EV]=1227896149
set AU[EV]=1747989068
set BU[EV]=1227899991
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set DL4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989069
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896139
set ZU[EV]=1227896150
set AU[EV]=1747989070
set BU[EV]=1227899992
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D04=EV
set EV=EV+1
set SU[EV]=1227896142
set ZU[EV]=1227896151
set AU[EV]=1747989071
set BU[EV]=1227899993
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D54=EV
set EV=EV+1
set SU[EV]=1227896145
set ZU[EV]=1227896152
set AU[EV]=1747989072
set BU[EV]=1227899994
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D24=EV
set EV=EV+1
set SU[EV]=1227896398
set ZU[EV]=1227896399
set AU[EV]=1747989073
set BU[EV]=1227900208
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set D_4=EV
set EV=EV+1
set SU[EV]=1227896401
set ZU[EV]=1227896400
set AU[EV]=1747989074
set BU[EV]=1227900209
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E44=EV
set EV=EV+1
set SU[EV]=1227896402
set ZU[EV]=1227896403
set AU[EV]=1747989075
set BU[EV]=1227900210
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E74=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989076
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896407
set ZU[EV]=1227896406
set AU[EV]=1747989077
set BU[EV]=1227900212
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E84=EV
set EV=EV+1
set SU[EV]=1227896408
set ZU[EV]=1227896409
set AU[EV]=1747989078
set BU[EV]=1227900213
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E94=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989079
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896624
set ZU[EV]=1227896410
set AU[EV]=1747989080
set BU[EV]=1227900214
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set ED4=EV
set EV=EV+1
set SU[EV]=1227896625
set ZU[EV]=1227896626
set AU[EV]=1747989081
set BU[EV]=1227900215
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EE4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989082
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896628
set ZU[EV]=1227896627
set AU[EV]=1747989296
set BU[EV]=1227900216
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EF4=EV
set EV=EV+1
set AU[EV]=1747989297
set CU[EV]=""
set LU[EV]=0
set EG4=EV
set EV=EV+1
set SU[EV]=1227896630
set ZU[EV]=1227896662
set AU[EV]=1747989298
set BU[EV]=1227900225
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EH4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989299
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896631
set ZU[EV]=1227896663
set AU[EV]=1747989300
set BU[EV]=1227900226
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EI4=EV
set EV=EV+1
set SU[EV]=1227896632
set ZU[EV]=1227896664
set AU[EV]=1747989301
set BU[EV]=1227900227
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EJ4=EV
set EV=EV+1
set SU[EV]=1227896633
set ZU[EV]=1227896665
set AU[EV]=1747989302
set BU[EV]=1227900228
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EK4=EV
set EV=EV+1
set SU[EV]=1227896641
set ZU[EV]=1227896666
set AU[EV]=0
set BU[EV]=1227900229
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EM4=EV
set EV=EV+1
set SU[EV]=1227896642
set ZU[EV]=1227896880
set AU[EV]=1747989304
set BU[EV]=1227900230
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EN4=EV
set EV=EV+1
set SU[EV]=1227896643
set ZU[EV]=1227896881
set AU[EV]=1747989305
set BU[EV]=1227900231
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EO4=EV
set EV=EV+1
set SU[EV]=1227896644
set ZU[EV]=1227896882
set AU[EV]=1747989313
set BU[EV]=1227900232
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EP4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989315
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896645
set ZU[EV]=1227896883
set AU[EV]=1747989316
set BU[EV]=1227900233
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EQ4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989317
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896647
set ZU[EV]=1227896646
set AU[EV]=1747989318
set BU[EV]=1227900234
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set ER4=EV
set EV=EV+1
set SU[EV]=1227896648
set ZU[EV]=1227896884
set AU[EV]=1747989319
set BU[EV]=1227900235
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set ES4=EV
set EV=EV+1
set SU[EV]=1227896655
set ZU[EV]=1227896885
set AU[EV]=1747989320
set BU[EV]=1227900236
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set ET4=EV
set EV=EV+1
set AU[EV]=1747989322
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EU4=EV
set EV=EV+1
set SU[EV]=1227896650
set ZU[EV]=1227896888
set AU[EV]=1747989324
set BU[EV]=1227900239
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EV4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989325
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989326
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896653
set ZU[EV]=1227896889
set AU[EV]=1747989327
set BU[EV]=1227900240
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EW4=EV
set EV=EV+1
set SU[EV]=1227896656
set ZU[EV]=1227896897
set AU[EV]=1747989329
set BU[EV]=1227900241
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EX4=EV
set EV=EV+1
set SU[EV]=1227896657
set ZU[EV]=1227896898
set AU[EV]=1747989330
set BU[EV]=1227900242
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EY4=EV
set EV=EV+1
set SU[EV]=1227896658
set ZU[EV]=1227896899
set AU[EV]=1747989331
set BU[EV]=1227900243
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EZ4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989332
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747989333
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227896659
set ZU[EV]=1227896900
set AU[EV]=1747989334
set BU[EV]=1227900244
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EA4=EV
set EV=EV+1
set SU[EV]=1227896660
set ZU[EV]=1227896901
set AU[EV]=1747989335
set BU[EV]=1227900245
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EB4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747990329
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=1227900984
set ZU[EV]=1227900983
set AU[EV]=1747990355
set BU[EV]=1227900985
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EC4=EV
set EV=EV+1
set SU[EV]=1227900996
set ZU[EV]=1227900998
set AU[EV]=1747990356
set BU[EV]=1227900997
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E34=EV
set EV=EV+1
set SU[EV]=1227903044
set ZU[EV]=1227903045
set AU[EV]=0
set BU[EV]=1227903046
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set FH4=EV
set EV=EV+1
set SU[EV]=1227901016
set ZU[EV]=1227901018
set AU[EV]=1747990360
set BU[EV]=1227901017
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E64=EV
set EV=EV+1
set SU[EV]=1227896652
set ZU[EV]=1227901774
set AU[EV]=1747989328
set BU[EV]=1227901775
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set EL4=EV
set EV=EV+1
set SU[EV]=1227901783
set ZU[EV]=1227901782
set AU[EV]=1747993153
set BU[EV]=1227901781
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E14=EV
set EV=EV+1
set SU[EV]=1227902029
set ZU[EV]=1227902030
set AU[EV]=1747993169
set BU[EV]=1227902031
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set E04=EV
set EV=EV+1
set SU[EV]=1227902521
set ZU[EV]=1227902529
set AU[EV]=1747993649
set BU[EV]=1227902530
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set F84=EV
set EV=EV+1
set SU[EV]=1227902536
set ZU[EV]=1227902537
set AU[EV]=1747993433
set BU[EV]=1227902538
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set F94=EV
set EV=EV+1
set SU[EV]=1227902773
set ZU[EV]=1227902774
set AU[EV]=1747993668
set BU[EV]=1227902775
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set FD4=EV
set EV=EV+1
set SU[EV]=1227902786
set ZU[EV]=1227902785
set AU[EV]=1747989336
set BU[EV]=1227902777
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
set LU[EV]=0
set FE4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747993684
set CU[EV]=""
set LU[EV]=0
set FF4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747993685
set CU[EV]=""
set LU[EV]=0
set FG4=EV
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747993913
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747993921
set CU[EV]=""
set LU[EV]=0
set EV=EV+1
set SU[EV]=0
set ZU[EV]=0
set AU[EV]=1747993923
set CU[EV]=""
set LU[EV]=0
set t=CreateTrigger()
call TriggerAddCondition(t,Condition(function N79))
set H04=t
set t=null
set FQ4=FQ4+1
set FJ4[FQ4]=ZX
set FK4[FQ4]=RZ
set FP4[FQ4]=Y3
set FQ4=FQ4+1
set FJ4[FQ4]=GY
set FK4[FQ4]=QW
set FM4[FQ4]=DB4
set FP4[FQ4]=Z3
set FQ4=FQ4+1
set FJ4[FQ4]=UV
set FK4[FQ4]=QW
set FM4[FQ4]=DC4
set FP4[FQ4]=B3
set FQ4=FQ4+1
set FJ4[FQ4]=AX
set FK4[FQ4]=ZY
set FP4[FQ4]=C3
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=D34
set FP4[FQ4]=F6
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=MV
set FM4[FQ4]=JV
set FP4[FQ4]=G6
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=OV
set FM4[FQ4]=JV
set FP4[FQ4]=H6
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=HY
set FM4[FQ4]=JV
set FP4[FQ4]=N6
set FQ4=FQ4+1
set FJ4[FQ4]=JV
set FK4[FQ4]=DL4
set FP4[FQ4]=S6
set FQ4=FQ4+1
set FJ4[FQ4]=YX
set FK4[FQ4]=HY
set FM4[FQ4]=ZY
set FP4[FQ4]=W6
set FQ4=FQ4+1
set FJ4[FQ4]=NV
set FK4[FQ4]=LV
set FM4[FQ4]=D04
set FP4[FQ4]=A6
set FQ4=FQ4+1
set FJ4[FQ4]=NV
set FK4[FQ4]=UY
set FM4[FQ4]=D54
set FP4[FQ4]=DL
set FQ4=FQ4+1
set FJ4[FQ4]=NV
set FK4[FQ4]=UW
set FM4[FQ4]=D24
set FP4[FQ4]=HL
set FQ4=FQ4+1
set FJ4[FQ4]=QV
set FK4[FQ4]=MV
set FM4[FQ4]=D_4
set FP4[FQ4]=OL
set FQ4=FQ4+1
set FJ4[FQ4]=NX
set FK4[FQ4]=OV
set FM4[FQ4]=E44
set FP4[FQ4]=RL
set FQ4=FQ4+1
set FJ4[FQ4]=UZ
set FK4[FQ4]=OV
set FM4[FQ4]=E74
set FP4[FQ4]=WL
set FQ4=FQ4+1
set FJ4[FQ4]=TV
set FK4[FQ4]=UV
set FM4[FQ4]=HY
set FP4[FQ4]=AL
set FQ4=FQ4+1
set FJ4[FQ4]=ZW
set FK4[FQ4]=JV
set FM4[FQ4]=E84
set FP4[FQ4]=LL
set FQ4=FQ4+1
set FJ4[FQ4]=QV
set FK4[FQ4]=QV
set FM4[FQ4]=HY
set FN4[FQ4]=E94
set FP4[FQ4]=D1
set FQ4=FQ4+1
set FJ4[FQ4]=D1
set FK4[FQ4]=E94
set FP4[FQ4]=E1
set FQ4=FQ4+1
set FJ4[FQ4]=F1
set FK4[FQ4]=E94
set FP4[FQ4]=E1
set FQ4=FQ4+1
set FJ4[FQ4]=NW
set FK4[FQ4]=VW
set FP4[FQ4]=J1
set FQ4=FQ4+1
set FJ4[FQ4]=VW
set FK4[FQ4]=ED4
set FP4[FQ4]=P1
set FQ4=FQ4+1
set FJ4[FQ4]=RZ
set FK4[FQ4]=DZ
set FM4[FQ4]=ZY
set FN4[FQ4]=EE4
set FP4[FQ4]=Q1
set FQ4=FQ4+1
set FJ4[FQ4]=WX
set FK4[FQ4]=CV
set FM4[FQ4]=OZ
set FP4[FQ4]=R1
set FQ4=FQ4+1
set FJ4[FQ4]=Z3
set FK4[FQ4]=B3
set FM4[FQ4]=EF4
set FP4[FQ4]=T1
set FQ4=FQ4+1
set FJ4[FQ4]=RL
set FK4[FQ4]=OL
set FP4[FQ4]=U1
set FQ4=FQ4+1
set FJ4[FQ4]=ZW
set FK4[FQ4]=ZW
set FM4[FQ4]=EH4
set FP4[FQ4]=V1
set FQ4=FQ4+1
set FJ4[FQ4]=Y3
set FK4[FQ4]=TV
set FM4[FQ4]=XV
set FP4[FQ4]=X1
set FQ4=FQ4+1
set FJ4[FQ4]=SV
set FK4[FQ4]=TV
set FM4[FQ4]=EI4
set FP4[FQ4]=A1
set FQ4=FQ4+1
set FJ4[FQ4]=ZW
set FK4[FQ4]=NX
set FM4[FQ4]=EJ4
set FP4[FQ4]=D0
set FQ4=FQ4+1
set FJ4[FQ4]=OL
set FK4[FQ4]=NZ
set FM4[FQ4]=EK4
set FP4[FQ4]=B0
set FQ4=FQ4+1
set FJ4[FQ4]=XV
set FK4[FQ4]=W3
set FP4[FQ4]=C0
set FQ4=FQ4+1
set FJ4[FQ4]=DZ
set FK4[FQ4]=HL
set FM4[FQ4]=EN4
set FP4[FQ4]=F5
set FQ4=FQ4+1
set FJ4[FQ4]=F5
set FK4[FQ4]=EN4
set FP4[FQ4]=G5
set FQ4=FQ4+1
set FJ4[FQ4]=G5
set FK4[FQ4]=EN4
set FP4[FQ4]=J5
set FQ4=FQ4+1
set FJ4[FQ4]=J5
set FK4[FQ4]=EN4
set FP4[FQ4]=M5
set FQ4=FQ4+1
set FJ4[FQ4]=M5
set FK4[FQ4]=EN4
set FP4[FQ4]=N5
set FQ4=FQ4+1
set FJ4[FQ4]=DZ
set FK4[FQ4]=OV
set FM4[FQ4]=EO4
set FP4[FQ4]=R5
set FQ4=FQ4+1
set FJ4[FQ4]=R5
set FK4[FQ4]=EO4
set FP4[FQ4]=S5
set FQ4=FQ4+1
set FJ4[FQ4]=S5
set FK4[FQ4]=EO4
set FP4[FQ4]=T5
set FQ4=FQ4+1
set FJ4[FQ4]=NZ
set FK4[FQ4]=Y3
set FM4[FQ4]=EP4
set FP4[FQ4]=W5
set FQ4=FQ4+1
set FJ4[FQ4]=AV
set FK4[FQ4]=SY
set FP4[FQ4]=B5
set FQ4=FQ4+1
set FJ4[FQ4]=A1
set FK4[FQ4]=AV
set FM4[FQ4]=EQ4
set FP4[FQ4]=L5
set FQ4=FQ4+1
set FJ4[FQ4]=AV
set FK4[FQ4]=UZ
set FM4[FQ4]=UZ
set FP4[FQ4]=E2
set FQ4=FQ4+1
set FJ4[FQ4]=SY
set FK4[FQ4]=ER4
set FP4[FQ4]=H2
set FQ4=FQ4+1
set FJ4[FQ4]=YW
set FK4[FQ4]=OZ
set FM4[FQ4]=ES4
set FP4[FQ4]=R2
set FQ4=FQ4+1
set FJ4[FQ4]=YW
set FK4[FQ4]=J1
set FM4[FQ4]=ET4
set FP4[FQ4]=T2
set FQ4=FQ4+1
set FJ4[FQ4]=YW
set FK4[FQ4]=O1
set FM4[FQ4]=ET4
set FP4[FQ4]=T2
set FQ4=FQ4+1
set FJ4[FQ4]=NZ
set FK4[FQ4]=NZ
set FM4[FQ4]=WX
set FN4[FQ4]=E_4
set FP4[FQ4]=W2
set FQ4=FQ4+1
set FJ4[FQ4]=NZ
set FK4[FQ4]=NZ
set FM4[FQ4]=WX
set FN4[FQ4]=F44
set FP4[FQ4]=W2
set FQ4=FQ4+1
set FJ4[FQ4]=BV
set FK4[FQ4]=YX
set FM4[FQ4]=JB
set FP4[FQ4]=Z2
set FQ4=FQ4+1
set FJ4[FQ4]=ZY
set FK4[FQ4]=UV
set FM4[FQ4]=F94
set FP4[FQ4]=M3
set FQ4=FQ4+1
set FJ4[FQ4]=QV
set FK4[FQ4]=NX
set FM4[FQ4]=WX
set FN4[FQ4]=DZ
set FP4[FQ4]=FR4
set FQ4=FQ4+1
set FJ4[FQ4]=Y3
set FK4[FQ4]=W6
set FM4[FQ4]=EV4
set FP4[FQ4]=D44
set FQ4=FQ4+1
set FJ4[FQ4]=NZ
set FK4[FQ4]=GX
set FM4[FQ4]=RZ
set FP4[FQ4]=D74
set FQ4=FQ4+1
set FJ4[FQ4]=OZ
set FK4[FQ4]=ZX
set FM4[FQ4]=EZ
set FP4[FQ4]=D84
set FQ4=FQ4+1
set FJ4[FQ4]=OZ
set FK4[FQ4]=ZX
set FM4[FQ4]=HZ
set FP4[FQ4]=D84
set FQ4=FQ4+1
set FJ4[FQ4]=CV
set FK4[FQ4]=AX
set FM4[FQ4]=EW4
set FP4[FQ4]=DD4
set FQ4=FQ4+1
set FJ4[FQ4]=OW
set FK4[FQ4]=LL
set FM4[FQ4]=EL4
set FP4[FQ4]=DE4
set FQ4=FQ4+1
set FJ4[FQ4]=ZC
set FM4[FQ4]=EX4
set FP4[FQ4]=DF4
set FQ4=FQ4+1
set FJ4[FQ4]=GY
set FK4[FQ4]=C3
set FM4[FQ4]=VW
set FN4[FQ4]=EY4
set FP4[FQ4]=DG4
set FQ4=FQ4+1
set FJ4[FQ4]=GY
set FK4[FQ4]=E6
set FM4[FQ4]=VW
set FN4[FQ4]=EY4
set FP4[FQ4]=DG4
set FQ4=FQ4+1
set FJ4[FQ4]=OW
set FK4[FQ4]=SX
set FM4[FQ4]=UV
set FN4[FQ4]=EZ4
set FP4[FQ4]=DH4
set FQ4=FQ4+1
set FJ4[FQ4]=R1
set FK4[FQ4]=Y3
set FP4[FQ4]=DI4
set FQ4=FQ4+1
set FJ4[FQ4]=GY
set FK4[FQ4]=GY
set FM4[FQ4]=ZX
set FN4[FQ4]=RX
set FP4[FQ4]=DJ4
set FQ4=FQ4+1
set FJ4[FQ4]=JV
set FK4[FQ4]=NW
set FM4[FQ4]=SV
set FN4[FQ4]=EA4
set FP4[FQ4]=DM4
set FQ4=FQ4+1
set FJ4[FQ4]=GX
set FK4[FQ4]=SX
set FM4[FQ4]=EB4
set FP4[FQ4]=DP4
set FQ4=FQ4+1
set FJ4[FQ4]=W6
set FK4[FQ4]=W6
set FM4[FQ4]=FE4
set FP4[FQ4]=DR4
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=SV
set FM4[FQ4]=SV
set FP4[FQ4]=DS4
set FQ4=FQ4+1
set FJ4[FQ4]=ZA
set FK4[FQ4]=QW
set FM4[FQ4]=QW
set FN4[FQ4]=QW
set FO4[FQ4]=EC4
set FP4[FQ4]=DT4
set FQ4=FQ4+1
set FJ4[FQ4]=DZ
set FK4[FQ4]=GY
set FM4[FQ4]=E34
set FP4[FQ4]=DU4
set FQ4=FQ4+1
set FJ4[FQ4]=DJ4
set FK4[FQ4]=Z3
set FM4[FQ4]=E64
set FP4[FQ4]=DV4
set FQ4=FQ4+1
set FJ4[FQ4]=EZ
set FK4[FQ4]=UY
set FM4[FQ4]=UY
set FP4[FQ4]=DW4
set FQ4=FQ4+1
set FJ4[FQ4]=HZ
set FK4[FQ4]=UY
set FM4[FQ4]=UY
set FP4[FQ4]=DW4
set FQ4=FQ4+1
set FJ4[FQ4]=ZY
set FK4[FQ4]=LV
set FM4[FQ4]=LV
set FN4[FQ4]=E14
set FP4[FQ4]=DY4
set FQ4=FQ4+1
set FJ4[FQ4]=ZY
set FK4[FQ4]=GY
set FM4[FQ4]=E04
set FP4[FQ4]=E54
set FQ4=FQ4+1
set FJ4[FQ4]=BV
set FK4[FQ4]=DA4
set FP4[FQ4]=E24
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=CV
set FP4[FQ4]=F74
set FQ4=FQ4+1
set FJ4[FQ4]=HY
set FK4[FQ4]=A6
set FM4[FQ4]=F84
set FP4[FQ4]=VB
set FQ4=FQ4+1
set FJ4[FQ4]=VB
set FK4[FQ4]=F84
set FP4[FQ4]=VB
set FQ4=FQ4+1
set FJ4[FQ4]=WB
set FK4[FQ4]=F84
set FP4[FQ4]=VB
set FQ4=FQ4+1
set FJ4[FQ4]=NW
set FK4[FQ4]=HY
set FM4[FQ4]=FD4
set FP4[FQ4]=N3
set FQ4=FQ4+1
set FJ4[FQ4]=FV
set FK4[FQ4]=AX
set FM4[FQ4]=GY
set FP4[FQ4]=LB
set FQ4=FQ4+1
set FJ4[FQ4]=DZ
set FK4[FQ4]=DZ
set FM4[FQ4]=OZ
set FP4[FQ4]=FC
set FQ4=FQ4+1
set FJ4[FQ4]=RL
set FK4[FQ4]=JB
set FP4[FQ4]=R3
set FQ4=FQ4+1
set FJ4[FQ4]=WL
set FK4[FQ4]=SY
set FP4[FQ4]=U3
set FQ4=FQ4+1
set FJ4[FQ4]=DL
set FK4[FQ4]=C3
set FP4[FQ4]=JC
set FQ4=FQ4+1
set FJ4[FQ4]=DL
set FK4[FQ4]=E6
set FP4[FQ4]=NC
set EV=EV+1
set SU[EV]=1227899226
set ZU[EV]=1227895089
set AU[EV]=0
set BU[EV]=1227900249
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FS4=EV
set EV=EV+1
set SU[EV]=1227894854
set ZU[EV]=1227894852
set AU[EV]=0
set BU[EV]=1227900250
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FT4=EV
set EV=EV+1
set SU[EV]=1227895096
set ZU[EV]=1227894841
set AU[EV]=0
set BU[EV]=1227900464
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FU4=EV
set EV=EV+1
set SU[EV]=1227895097
set ZU[EV]=1227894837
set AU[EV]=0
set BU[EV]=1227900470
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FV4=EV
set EV=EV+1
set SU[EV]=1227895105
set ZU[EV]=1227894855
set AU[EV]=0
set BU[EV]=1227900465
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FW4=EV
set EV=EV+1
set SU[EV]=1227895106
set ZU[EV]=1227894836
set AU[EV]=0
set BU[EV]=1227900466
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FX4=EV
set EV=EV+1
set SU[EV]=1227895112
set ZU[EV]=1227894835
set AU[EV]=0
set BU[EV]=1227900467
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FY4=EV
set EV=EV+1
set SU[EV]=1227895113
set ZU[EV]=1227894834
set AU[EV]=0
set BU[EV]=1227900469
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FZ4=EV
set EV=EV+1
set SU[EV]=1227895371
set ZU[EV]=1227894833
set AU[EV]=0
set BU[EV]=1227900468
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FA4=EV
set EV=EV+1
set SU[EV]=1227895372
set ZU[EV]=1227894857
set AU[EV]=0
set BU[EV]=1227900485
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FB4=EV
set EV=EV+1
set SU[EV]=1227899442
set ZU[EV]=1227894856
set AU[EV]=0
set BU[EV]=1227900473
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F34=EV
set EV=EV+1
set SU[EV]=1227899443
set ZU[EV]=1227894864
set AU[EV]=0
set BU[EV]=1227900481
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F64=EV
set EV=EV+1
set SU[EV]=1227899444
set ZU[EV]=1227894869
set AU[EV]=0
set BU[EV]=1227900471
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FL4=EV
set EV=EV+1
set SU[EV]=1227899447
set ZU[EV]=1227894832
set AU[EV]=0
set BU[EV]=1227900484
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F14=EV
set EV=EV+1
set SU[EV]=1227899446
set ZU[EV]=1227895094
set AU[EV]=0
set BU[EV]=1227900483
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F04=EV
set EV=EV+1
set SU[EV]=1227899445
set ZU[EV]=1227895095
set AU[EV]=0
set BU[EV]=1227900482
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F54=EV
set EV=EV+1
set SU[EV]=1227899449
set ZU[EV]=1227894863
set AU[EV]=0
set BU[EV]=1227900472
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F24=EV
set EV=EV+1
set SU[EV]=1227901493
set ZU[EV]=1227901268
set AU[EV]=0
set BU[EV]=1227901258
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set F_4=EV
set EV=EV+1
set SU[EV]=1227901270
set ZU[EV]=1227901269
set AU[EV]=0
set BU[EV]=1227901241
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G44=EV
set EV=EV+1
set SU[EV]=1227901271
set ZU[EV]=1227901267
set AU[EV]=0
set BU[EV]=1227901257
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G74=EV
set EV=EV+1
set SU[EV]=1227901272
set ZU[EV]=1227901266
set AU[EV]=0
set BU[EV]=1227901249
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G84=EV
set EV=EV+1
set SU[EV]=1227901273
set ZU[EV]=1227901265
set AU[EV]=0
set BU[EV]=1227901256
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G94=EV
set EV=EV+1
set SU[EV]=1227901274
set ZU[EV]=1227901259
set AU[EV]=0
set BU[EV]=1227901255
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GD4=EV
set EV=EV+1
set SU[EV]=1227901488
set ZU[EV]=1227901260
set AU[EV]=0
set BU[EV]=1227901254
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GE4=EV
set EV=EV+1
set SU[EV]=1227901489
set ZU[EV]=1227901261
set AU[EV]=0
set BU[EV]=1227901253
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GG4=EV
set EV=EV+1
set SU[EV]=1227901490
set ZU[EV]=1227901264
set AU[EV]=0
set BU[EV]=1227901252
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GH4=EV
set EV=EV+1
set SU[EV]=1227901491
set ZU[EV]=1227901263
set AU[EV]=0
set BU[EV]=1227901251
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GI4=EV
set EV=EV+1
set SU[EV]=1227901492
set ZU[EV]=1227901262
set AU[EV]=0
set BU[EV]=1227901250
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GJ4=EV
set EV=EV+1
set SU[EV]=1227901238
set ZU[EV]=1227901239
set AU[EV]=0
set BU[EV]=1227901240
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GK4=EV
set EV=EV+1
set SU[EV]=1227901530
set ZU[EV]=1227901523
set AU[EV]=0
set BU[EV]=1227901522
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GM4=EV
set EV=EV+1
set SU[EV]=1227901744
set ZU[EV]=1227901524
set AU[EV]=0
set BU[EV]=1227901516
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GN4=EV
set EV=EV+1
set SU[EV]=1227901745
set ZU[EV]=1227901525
set AU[EV]=0
set BU[EV]=1227901517
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GO4=EV
set EV=EV+1
set SU[EV]=1227901746
set ZU[EV]=1227901527
set AU[EV]=0
set BU[EV]=1227901518
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GP4=EV
set EV=EV+1
set SU[EV]=1227901747
set ZU[EV]=1227901526
set AU[EV]=0
set BU[EV]=1227901521
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GQ4=EV
set EV=EV+1
set SU[EV]=1227901748
set ZU[EV]=1227901529
set AU[EV]=0
set BU[EV]=1227901520
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GR4=EV
set EV=EV+1
set SU[EV]=1227901749
set ZU[EV]=1227901528
set AU[EV]=0
set BU[EV]=1227901519
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GS4=EV
set EV=EV+1
set SU[EV]=1227901769
set ZU[EV]=1227901768
set AU[EV]=0
set BU[EV]=1227901770
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GT4=EV
set EV=EV+1
set SU[EV]=1227902004
set ZU[EV]=1227902005
set AU[EV]=0
set BU[EV]=1227902008
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set FC4=EV
set EV=EV+1
set SU[EV]=1227902003
set ZU[EV]=1227902000
set AU[EV]=0
set BU[EV]=1227902009
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GU4=EV
set EV=EV+1
set SU[EV]=1227902002
set ZU[EV]=1227902007
set AU[EV]=0
set BU[EV]=1227902017
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GV4=EV
set EV=EV+1
set SU[EV]=1227902037
set ZU[EV]=1227902038
set AU[EV]=0
set BU[EV]=1227902039
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GW4=EV
set EV=EV+1
set SU[EV]=1227902257
set ZU[EV]=1227902256
set AU[EV]=0
set BU[EV]=1227902258
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GY4=EV
set EV=EV+1
set SU[EV]=1227902261
set ZU[EV]=1227902260
set AU[EV]=0
set BU[EV]=1227902259
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GZ4=EV
set EV=EV+1
set SU[EV]=1227902262
set ZU[EV]=1227902263
set AU[EV]=0
set BU[EV]=1227902264
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GA4=EV
set EV=EV+1
set SU[EV]=1227902278
set ZU[EV]=1227902279
set AU[EV]=0
set BU[EV]=1227902280
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GB4=EV
set EV=EV+1
set SU[EV]=1227902285
set ZU[EV]=1227902284
set AU[EV]=0
set BU[EV]=1227902286
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G34=EV
set EV=EV+1
set SU[EV]=1227902287
set ZU[EV]=1227902288
set AU[EV]=0
set BU[EV]=1227902289
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G64=EV
set EV=EV+1
set SU[EV]=1227902545
set ZU[EV]=1227902546
set AU[EV]=0
set BU[EV]=1227902547
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set GL4=EV
set EV=EV+1
set SU[EV]=1227902548
set ZU[EV]=1227902549
set AU[EV]=0
set BU[EV]=1227902550
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G14=EV
set EV=EV+1
set SU[EV]=1227902551
set ZU[EV]=1227902552
set AU[EV]=0
set BU[EV]=1227902553
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G04=EV
set EV=EV+1
set SU[EV]=1227902554
set ZU[EV]=1227902768
set AU[EV]=0
set BU[EV]=1227902769
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G54=EV
set EV=EV+1
set SU[EV]=1227902802
set ZU[EV]=1227902803
set AU[EV]=0
set BU[EV]=1227902804
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=60
set G24=EV
set EV=EV+1
set SU[EV]=1227895617
set ZU[EV]=1227896113
set AU[EV]=1747990603
set BU[EV]=1227899961
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
set LU[EV]=0
set DV[EV]=EZ
set EV=EV+1
set SU[EV]=1227895641
set ZU[EV]=1227896114
set AU[EV]=1747990616
set BU[EV]=1227899705
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbofSlowness.blp"
set LU[EV]=0
set DV[EV]=NZ
set EV=EV+1
set SU[EV]=1227895379
set ZU[EV]=1227895376
set AU[EV]=1747990611
set BU[EV]=1227899713
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
set LU[EV]=0
set DV[EV]=JV
set EV=EV+1
set SU[EV]=1227895374
set ZU[EV]=1227895378
set AU[EV]=1747990608
set BU[EV]=1227899731
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBoots.blp"
set LU[EV]=0
set DV[EV]=MV
set EV=EV+1
set SU[EV]=1227895386
set ZU[EV]=1227895859
set AU[EV]=1747990609
set BU[EV]=1227899734
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNBelt.blp"
set LU[EV]=0
set DV[EV]=OV
set EV=EV+1
set SU[EV]=1227895601
set ZU[EV]=1227895861
set AU[EV]=1747990612
set BU[EV]=1227899957
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNClawsOfAttack.blp"
set LU[EV]=0
set DV[EV]=SV
set EV=EV+1
set SU[EV]=1227895618
set ZU[EV]=1227895877
set AU[EV]=1747990606
set BU[EV]=1227899969
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNHelmutPurple.blp"
set LU[EV]=0
set DV[EV]=NW
set EV=EV+1
set SU[EV]=1227895621
set ZU[EV]=1227895880
set AU[EV]=1747990615
set BU[EV]=1227899703
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
set LU[EV]=14
set DV[EV]=RW
set EV=EV+1
set SU[EV]=1227895623
set ZU[EV]=1227895883
set AU[EV]=1747990607
set BU[EV]=1227899716
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNUndeadShrine.blp"
set LU[EV]=0
set DV[EV]=VW
set EV=EV+1
set SU[EV]=1227895632
set ZU[EV]=1227895891
set AU[EV]=1747990613
set BU[EV]=1227899737
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAlleriaFlute.blp"
set LU[EV]=0
set DV[EV]=YX
set EV=EV+1
set SU[EV]=1227895633
set ZU[EV]=1227895892
set AU[EV]=1747990599
set BU[EV]=1227899977
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGoldRing.blp"
set LU[EV]=0
set DV[EV]=ZX
set EV=EV+1
set SU[EV]=1227895635
set ZU[EV]=1227895894
set AU[EV]=1747990604
set BU[EV]=1227899978
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRingSkull.blp"
set LU[EV]=0
set DV[EV]=GY
set EV=EV+1
set SU[EV]=1227895636
set ZU[EV]=1227895895
set AU[EV]=1747990610
set BU[EV]=1227899728
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNRobeOfTheMagi.blp"
set LU[EV]=0
set DV[EV]=HY
set EV=EV+1
set SU[EV]=1227895638
set ZU[EV]=1227895897
set AU[EV]=1747990597
set BU[EV]=1227899701
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSlippersOfAgility.blp"
set LU[EV]=0
set DV[EV]=UY
set EV=EV+1
set SU[EV]=1227895639
set ZU[EV]=1227895898
set AU[EV]=1747990602
set BU[EV]=1227899979
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNSobiMask.blp"
set LU[EV]=0
set DV[EV]=ZY
set EV=EV+1
set SU[EV]=1227900740
set ZU[EV]=1227900739
set AU[EV]=1747990601
set BU[EV]=1227900741
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNWand.blp"
set LU[EV]=0
set DV[EV]=ZA
set EV=EV+1
set SU[EV]=1227901012
set ZU[EV]=1227901010
set AU[EV]=1747990598
set BU[EV]=1227901015
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
set LU[EV]=0
set DV[EV]=BA
set EV=EV+1
set SU[EV]=1227901495
set ZU[EV]=1227901494
set AU[EV]=1747990614
set BU[EV]=1227901496
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNAmulet.blp"
set LU[EV]=0
set DV[EV]=JB
set EV=EV+1
set SU[EV]=1227895628
set ZU[EV]=1227895888
set AU[EV]=1747990605
set BU[EV]=1227899717
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
set LU[EV]=0
set DV[EV]=RX
set EV=EV+1
set SU[EV]=1227896129
set ZU[EV]=1227896137
set AU[EV]=1747990600
set BU[EV]=0
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"
set LU[EV]=0
set DV[EV]=XC
set EV=EV+1
set SU[EV]=1227895607
set ZU[EV]=1227895874
set AU[EV]=1747990835
set BU[EV]=1227899730
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp"
set LU[EV]=0
set DV[EV]=CV
set EV=EV+1
set SU[EV]=1227895377
set ZU[EV]=1227895375
set AU[EV]=1747993167
set BU[EV]=1227894849
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
set LU[EV]=0
set DV[EV]=FV
set EV=EV+1
set SU[EV]=1227902273
set ZU[EV]=1227902265
set AU[EV]=1747993422
set BU[EV]=1227902274
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"
set LU[EV]=0
set DV[EV]=E_4
set EV=EV+1
set SU[EV]=1227895603
set ZU[EV]=1227895863
set AU[EV]=1747993648
set BU[EV]=1227899959
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
set LU[EV]=0
set DV[EV]=UV
set EV=EV+1
set SU[EV]=1228222513
set ZU[EV]=1228222512
set AU[EV]=0
set BU[EV]=1228222514
set CU[EV]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
set LU[EV]=0
set GX4=EV
call E5()
set ED7=InitHashtable()
call IRH()
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call D18(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call D18(t,EVENT_PLAYER_UNIT_PAWN_ITEM)
call TriggerAddCondition(t,Condition(function F9G))
set H94=t
set t=null
call ISH()
call ITH()
call J4G()
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(t,Condition(function NG9))
set BH=t
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function NE9))
if M34 then
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call D18(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call D18(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(t,Condition(function FOG))
endif
set t=null
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function XTF))
set t=null
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call D18(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(t,Condition(function FRG))
set cH=t
set t=null
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(t,function K99)
call TriggerAddCondition(t,Condition(function J_9))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function KF9))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddAction(t,function F39)
call TriggerAddCondition(t,Condition(function FY9))
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.33,true)
call TriggerAddCondition(t,Condition(function GP9))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.75,true)
call TriggerAddCondition(t,Condition(function GT9))
set t=null
call SetPlayerAbilityAvailable(Z7[1],1093744436,false)
call SetPlayerAbilityAvailable(Z7[2],1093744436,false)
call SetPlayerAbilityAvailable(Z7[3],1093744436,false)
call SetPlayerAbilityAvailable(Z7[4],1093744436,false)
call SetPlayerAbilityAvailable(Z7[5],1093744436,false)
call SetPlayerAbilityAvailable(A7[1],1093744436,false)
call SetPlayerAbilityAvailable(A7[2],1093744436,false)
call SetPlayerAbilityAvailable(A7[3],1093744436,false)
call SetPlayerAbilityAvailable(A7[4],1093744436,false)
call SetPlayerAbilityAvailable(A7[5],1093744436,false)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function GV9))
set t=null
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t,Condition(function FTG))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(t,Condition(function FSG))
set t=null
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call D18(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(t,Condition(function FVG))
set t=null
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t,Condition(function FYG))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.5,true)
call TriggerAddCondition(t,Condition(function F1G))
set t=null
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddAction(t,function HJG)
call SetAltMinimapIcon("war3mapImported\\black.blp")
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function K0G))
call SetPlayerAbilityAvailable(Z7[1],1093752406,false)
call SetPlayerAbilityAvailable(Z7[2],1093752406,false)
call SetPlayerAbilityAvailable(Z7[3],1093752406,false)
call SetPlayerAbilityAvailable(Z7[4],1093752406,false)
call SetPlayerAbilityAvailable(Z7[5],1093752406,false)
call SetPlayerAbilityAvailable(A7[1],1093752406,false)
call SetPlayerAbilityAvailable(A7[2],1093752406,false)
call SetPlayerAbilityAvailable(A7[3],1093752406,false)
call SetPlayerAbilityAvailable(A7[4],1093752406,false)
call SetPlayerAbilityAvailable(A7[5],1093752406,false)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(t,Condition(function K5G))
set t=null
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(t,function H69)
call TriggerAddCondition(t,Condition(function H39))
call IYH()
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,FJ,300,Condition(function ZV7))
call TriggerRegisterUnitInRange(t,lJ,300,Condition(function ZV7))
call TriggerRegisterUnitInRange(t,DJ,300,Condition(function ZV7))
call TriggerAddCondition(t,Condition(function HL9))
set t=null
set GS=CreateTrigger()
call TriggerAddAction(GS,function H19)
set HS=CreateTrigger()
call TriggerAddAction(HS,function H09)
set t=CreateTrigger()
set SAD=CreateRegion()
call RegionAddRect(SAD,Xr)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
set SAD=CreateRegion()
call RegionAddRect(SAD,Uo)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
set SAD=CreateRegion()
call RegionAddRect(SAD,bE)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
call TriggerAddCondition(t,Condition(function H59))
set t=null
set SAD=null
set t=CreateTrigger()
set SAD=CreateRegion()
call RegionAddRect(SAD,zo)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
set SAD=CreateRegion()
call RegionAddRect(SAD,jo)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
set SAD=CreateRegion()
call RegionAddRect(SAD,XE)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
call TriggerAddCondition(t,Condition(function H29))
set t=null
set SAD=null
set t=CreateTrigger()
set SAD=CreateRegion()
call RegionAddRect(SAD,Er)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
set SAD=CreateRegion()
call RegionAddRect(SAD,to)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
set SAD=CreateRegion()
call RegionAddRect(SAD,BE)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
call TriggerAddCondition(t,Condition(function H_9))
set t=null
set SAD=null
set t=CreateTrigger()
set SAD=CreateRegion()
call RegionAddRect(SAD,er)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
set SAD=CreateRegion()
call RegionAddRect(SAD,lo)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
set SAD=CreateRegion()
call RegionAddRect(SAD,OE)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
call TriggerAddCondition(t,Condition(function I49))
set t=null
set SAD=null
set t=CreateTrigger()
set SAD=CreateRegion()
call RegionAddRect(SAD,Qo)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
set SAD=CreateRegion()
call RegionAddRect(SAD,ar)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
set SAD=CreateRegion()
call RegionAddRect(SAD,AE)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
call TriggerAddCondition(t,Condition(function I79))
set t=null
set SAD=null
set t=CreateTrigger()
set SAD=CreateRegion()
call RegionAddRect(SAD,wo)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
set SAD=CreateRegion()
call RegionAddRect(SAD,go)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
set SAD=CreateRegion()
call RegionAddRect(SAD,IE)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
call TriggerAddCondition(t,Condition(function I89))
set t=null
set SAD=null
set JS=CreateTrigger()
call TriggerAddAction(JS,function IN9)
set cA=CreateTrigger()
call TriggerRegisterUnitEvent(cA,JV4,EVENT_UNIT_DEATH)
call TriggerAddAction(cA,function IP9)
set CA=CreateTrigger()
call TriggerRegisterUnitEvent(CA,JW4,EVENT_UNIT_DEATH)
call TriggerAddAction(CA,function IQ9)
set dA=CreateTrigger()
call TriggerRegisterUnitEvent(dA,JX4,EVENT_UNIT_DEATH)
call TriggerAddAction(dA,function IR9)
set DA=CreateTrigger()
call TriggerRegisterUnitEvent(DA,JS4,EVENT_UNIT_DEATH)
call TriggerAddAction(DA,function IS9)
set fA=CreateTrigger()
call TriggerRegisterUnitEvent(fA,JT4,EVENT_UNIT_DEATH)
call TriggerAddAction(fA,function IT9)
set FA=CreateTrigger()
call TriggerRegisterUnitEvent(FA,JU4,EVENT_UNIT_DEATH)
call TriggerAddAction(FA,function IU9)
set gA=CreateTrigger()
call TriggerRegisterUnitEvent(gA,KG4,EVENT_UNIT_DEATH)
call TriggerAddAction(gA,function IV9)
set GA=CreateTrigger()
call TriggerRegisterUnitEvent(GA,KH4,EVENT_UNIT_DEATH)
call TriggerAddAction(GA,function IW9)
set LA=CreateTrigger()
call TriggerRegisterUnitEvent(LA,KI4,EVENT_UNIT_DEATH)
call TriggerAddAction(LA,function IX9)
set mA=CreateTrigger()
call TriggerRegisterUnitEvent(mA,KD4,EVENT_UNIT_DEATH)
call TriggerAddAction(mA,function IY9)
set MA=CreateTrigger()
call TriggerRegisterUnitEvent(MA,KE4,EVENT_UNIT_DEATH)
call TriggerAddAction(MA,function IZ9)
set PA=CreateTrigger()
call TriggerRegisterUnitEvent(PA,KF4,EVENT_UNIT_DEATH)
call TriggerAddAction(PA,function IA9)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JF4,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function IB9))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,J34,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(t,Condition(function I39))
set t=null
set SA=CreateTrigger()
call D18(SA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(SA,Condition(function I69))
call TriggerAddAction(SA,function IL9)
set TA=CreateTrigger()
call D18(TA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(TA,Condition(function I19))
call TriggerAddAction(TA,function I09)
set KS=CreateTrigger()
call TriggerAddAction(KS,function I59)
set wA=CreateTrigger()
call TriggerRegisterTimerEventSingle(wA,75.00)
call TriggerAddAction(wA,function I29)
set MS=CreateTrigger()
call TriggerAddCondition(MS,Condition(function J59))
set OS=CreateTrigger()
call TriggerAddAction(OS,function J29)
set vA=CreateTrigger()
call TriggerAddAction(vA,function XJ8)
set eA=CreateTrigger()
call D18(eA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(eA,Condition(function XM8))
call TriggerAddAction(eA,function XN8)
set xA=CreateTrigger()
call D18(xA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(xA,Condition(function XO8))
call TriggerAddAction(xA,function XP8)
set FS=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(FS,1.00)
call TriggerAddAction(FS,function XU8)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SELECTED)
call TriggerAddCondition(t,Condition(function XZ9))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DESELECTED)
call TriggerAddCondition(t,Condition(function XX9))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JJ4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JJ4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YO8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JK4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JK4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YP8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JM4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JM4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YQ8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JN4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JN4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YR8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JO4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JO4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YS8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JP4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JP4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YT8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JQ4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JQ4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YU8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JR4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JR4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YV8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JS4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JS4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YW8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JT4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JT4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YX8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JU4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JU4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YY8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JV4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JV4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YZ8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JW4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JW4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YA8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,JX4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,JX4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YB8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,J04,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,J04,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y48))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,J54,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,J54,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y78))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,J24,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,J24,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y88))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,J_4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,J_4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function Y98))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,K44,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,K44,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YD8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,K74,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,K74,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YE8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,K84,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,K84,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YF8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,K94,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,K94,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YG8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KD4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KD4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YH8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KE4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KE4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YI8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KF4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KF4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YJ8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KG4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KG4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YK8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KH4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KH4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YM8))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,KI4,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,KI4,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function YN8))
set VA=CreateTrigger()
call TriggerRegisterTimerEvent(VA,1.,true)
call TriggerAddCondition(VA,Condition(function X58))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,5.,true)
call TriggerAddCondition(t,Condition(function Y_8))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,4.,true)
call TriggerAddCondition(t,Condition(function ZD8))
set t=null
set KU=CX7()
set t=CreateTrigger()
set SAD=CreateRegion()
call RegionAddRect(SAD,bj_mapInitialPlayableArea)
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
call TriggerAddCondition(t,Condition(function ZJ8))
set t=null
set SAD=null
set t=CreateTrigger()
call TriggerAddCondition(t,Condition(function ZK8))
call TriggerRegisterTimerEvent(t,5.,true)
set t=null
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_VISIBLE,-4550,1250,300,true,true))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_VISIBLE,-4550,1250,300,true,true))
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_VISIBLE,3200,1,300,true,true))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_VISIBLE,3200,1,300,true,true))
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_VISIBLE,-7292,4186,450,true,true))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_VISIBLE,-7292,4186,450,true,true))
call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_VISIBLE,7348,-4334,450,true,true))
call DestroyFogModifier(CreateFogModifierRadius(A7[0],FOG_OF_WAR_VISIBLE,7348,-4334,450,true,true))
call DestroyFogModifier(CreateFogModifierRect(Z7[0],FOG_OF_WAR_VISIBLE,IW4,true,true))
call DestroyFogModifier(CreateFogModifierRect(A7[0],FOG_OF_WAR_VISIBLE,IW4,true,true))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function MHG))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,3.5,true)
call TriggerAddCondition(t,Condition(function DU9))
set t=null
set OE4=CreateTrigger()
call TriggerRegisterUnitEvent(OE4,J34,EVENT_UNIT_DEATH)
call TriggerAddAction(OE4,function EX9)
set OF4=CreateTrigger()
call TriggerRegisterUnitEvent(OF4,JF4,EVENT_UNIT_DEATH)
call TriggerAddAction(OF4,function EV9)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function FJ9))
set t=null
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function FN9))
set t=null
set OH4=CreateTrigger()
call TriggerAddAction(OH4,function FR9)
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,B7,EVENT_PLAYER_UNIT_ATTACKED,Condition(function ZV7))
call TriggerAddCondition(t,Condition(function FT9))
set t=null
set ow=CreateRegion()
call RegionAddRect(ow,TD)
call RegionAddRect(ow,di)
call RegionAddRect(ow,fi)
call RegionAddRect(ow,Fi)
call RegionAddRect(ow,Gi)
call RegionAddRect(ow,Ji)
call RegionAddRect(ow,li)
call RegionAddRect(ow,Li)
call RegionAddRect(ow,pi)
set T94=CreateRegion()
call RegionAddRect(T94,TN)
call RegionAddRect(T94,UN)
set EA=CreateTrigger()
call TriggerRegisterEnterRectSimple(EA,bj_mapInitialPlayableArea)
call TriggerAddCondition(EA,Condition(function GW9))
call TriggerAddAction(EA,function GX9)
set OA=CreateTrigger()
call D18(OA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(OA,Condition(function GY9))
call TriggerAddAction(OA,function GZ9)
set RA=CreateTrigger()
call D18(RA,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(RA,Condition(function GA9))
call TriggerAddAction(RA,function GB9)
if(bj_isSinglePlayer and GC9())then
call HY9()
endif
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Le,"-wtf",true)
call TriggerAddAction(t,function HA9)
call TriggerAddCondition(t,Condition(function HZ9))
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,Z7[1],EVENT_PLAYER_HERO_LEVEL,Condition(function ZV7))
call TriggerRegisterPlayerUnitEvent(t,Z7[2],EVENT_PLAYER_HERO_LEVEL,Condition(function ZV7))
call TriggerRegisterPlayerUnitEvent(t,Z7[3],EVENT_PLAYER_HERO_LEVEL,Condition(function ZV7))
call TriggerRegisterPlayerUnitEvent(t,Z7[4],EVENT_PLAYER_HERO_LEVEL,Condition(function ZV7))
call TriggerRegisterPlayerUnitEvent(t,Z7[5],EVENT_PLAYER_HERO_LEVEL,Condition(function ZV7))
call TriggerRegisterPlayerUnitEvent(t,A7[1],EVENT_PLAYER_HERO_LEVEL,Condition(function ZV7))
call TriggerRegisterPlayerUnitEvent(t,A7[2],EVENT_PLAYER_HERO_LEVEL,Condition(function ZV7))
call TriggerRegisterPlayerUnitEvent(t,A7[3],EVENT_PLAYER_HERO_LEVEL,Condition(function ZV7))
call TriggerRegisterPlayerUnitEvent(t,A7[4],EVENT_PLAYER_HERO_LEVEL,Condition(function ZV7))
call TriggerRegisterPlayerUnitEvent(t,A7[5],EVENT_PLAYER_HERO_LEVEL,Condition(function ZV7))
call TriggerAddCondition(t,Condition(function HB9))
set t=null
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Le,"-test",true)
call TriggerAddCondition(t,Condition(function HC9))
set t=null
set t=CreateTrigger()
set SAD=CreateRegion()
call RegionAddRect(SAD,GetWorldBounds())
call TriggerRegisterEnterRegion(t,SAD,null)
call TriggerAddCondition(t,Condition(function N59))
call TriggerAddAction(t,function L3E)
set t=null
set SAD=null
call KIF(JH4,14,0)
call KIF(JK4,12,0)
call KIF(JG4,34,1)
call KIF(JJ4,33,1)
call KIF(JI4,55,2)
call KIF(JM4,52,2)
call KIF(JL4,14,0)
call KIF(J54,16,0)
call KIF(J64,35,1)
call KIF(J04,37,1)
call KIF(J14,57,2)
call KIF(J24,58,2)
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,FJ,300,Condition(function ZV7))
call TriggerRegisterUnitInRange(t,lJ,300,Condition(function ZV7))
call TriggerRegisterUnitInRange(t,DJ,300,Condition(function ZV7))
call TriggerAddCondition(t,Condition(function N29))
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,25.,false)
call TriggerAddAction(t,function OG9)
set t=null
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,2.,false)
call TriggerAddCondition(t,Condition(function N09))
set t=null
set SC4=CreateRegion()
call RegionAddRect(SC4,HD)
call RegionAddRect(SC4,GD)
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,25.,false)
call TriggerAddAction(t,function OE9)
set t=null
set t=CreateTrigger()
call TriggerRegisterPlayerChatEvent(t,Z7[1],"-",false)
call TriggerRegisterPlayerChatEvent(t,Z7[2],"-",false)
call TriggerRegisterPlayerChatEvent(t,Z7[3],"-",false)
call TriggerRegisterPlayerChatEvent(t,Z7[4],"-",false)
call TriggerRegisterPlayerChatEvent(t,Z7[5],"-",false)
call TriggerRegisterPlayerChatEvent(t,A7[1],"-",false)
call TriggerRegisterPlayerChatEvent(t,A7[2],"-",false)
call TriggerRegisterPlayerChatEvent(t,A7[3],"-",false)
call TriggerRegisterPlayerChatEvent(t,A7[4],"-",false)
call TriggerRegisterPlayerChatEvent(t,A7[5],"-",false)
call TriggerAddAction(t,function OO9)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(t,Condition(function S79))
call TriggerAddAction(t,function SE9)
set AW[0]=false
set AW[1]=false
set AW[2]=false
set AW[3]=false
set AW[4]=false
set AW[5]=false
set AW[6]=false
set AW[7]=false
set AW[8]=false
set AW[9]=false
set AW[10]=false
set AW[11]=false
set AW[12]=false
set AW[13]=false
set AW[14]=false
set AW[15]=false
set AW[16]=false
set OL4[0]=false
set OL4[1]=false
set OL4[2]=false
set OL4[3]=false
set OL4[4]=false
set OL4[5]=false
set OL4[6]=false
set OL4[7]=false
set OL4[8]=false
set OL4[9]=false
set OL4[10]=false
set OL4[11]=false
set OL4[12]=false
set OL4[13]=false
set OL4[14]=false
set OL4[15]=false
set OL4[16]=false
set OL4[GetPlayerId(Z7[1])]=true
set OL4[GetPlayerId(Z7[2])]=true
set OL4[GetPlayerId(Z7[3])]=true
set OL4[GetPlayerId(Z7[4])]=true
set OL4[GetPlayerId(Z7[5])]=true
set OL4[GetPlayerId(A7[1])]=true
set OL4[GetPlayerId(A7[2])]=true
set OL4[GetPlayerId(A7[3])]=true
set OL4[GetPlayerId(A7[4])]=true
set OL4[GetPlayerId(A7[5])]=true
call SS9()
set eb[0]=true
set eb[1]=true
set eb[2]=true
set eb[3]=true
set eb[4]=true
set eb[5]=true
set eb[6]=true
set eb[7]=true
set eb[8]=true
set eb[9]=true
set eb[10]=true
set eb[11]=true
set eb[12]=true
set eb[13]=true
set eb[14]=true
set eb[15]=true
set ib[0]=false
set ib[1]=false
set ib[2]=false
set ib[3]=false
set ib[4]=false
set ib[5]=false
set ib[6]=false
set ib[7]=false
set ib[8]=false
set ib[9]=false
set ib[10]=false
set ib[11]=false
set ib[12]=false
set ib[13]=false
set ib[14]=false
set CW[GetPlayerId(Z7[1])]=false
set CW[GetPlayerId(Z7[2])]=false
set CW[GetPlayerId(Z7[3])]=false
set CW[GetPlayerId(Z7[4])]=false
set CW[GetPlayerId(Z7[5])]=false
set CW[GetPlayerId(A7[1])]=false
set CW[GetPlayerId(A7[2])]=false
set CW[GetPlayerId(A7[3])]=false
set CW[GetPlayerId(A7[4])]=false
set CW[GetPlayerId(A7[5])]=false
set ab[GetPlayerId(Z7[1])]=false
set ab[GetPlayerId(Z7[2])]=false
set ab[GetPlayerId(Z7[3])]=false
set ab[GetPlayerId(Z7[4])]=false
set ab[GetPlayerId(Z7[5])]=false
set ab[GetPlayerId(A7[1])]=false
set ab[GetPlayerId(A7[2])]=false
set ab[GetPlayerId(A7[3])]=false
set ab[GetPlayerId(A7[4])]=false
set ab[GetPlayerId(A7[5])]=false
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call D18(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call D18(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(t,Condition(function ON9))
set QT[GetPlayerId(Z7[1])]=false
set QT[GetPlayerId(Z7[2])]=false
set QT[GetPlayerId(Z7[3])]=false
set QT[GetPlayerId(Z7[4])]=false
set QT[GetPlayerId(Z7[5])]=false
set QT[GetPlayerId(A7[1])]=false
set QT[GetPlayerId(A7[2])]=false
set QT[GetPlayerId(A7[3])]=false
set QT[GetPlayerId(A7[4])]=false
set QT[GetPlayerId(A7[5])]=false
set Ob[0]=false
set Ob[1]=false
set Ob[2]=false
set Ob[3]=false
set Ob[4]=false
set Ob[5]=false
set Ob[6]=false
set Ob[7]=false
set Ob[8]=false
set Ob[9]=false
set Ob[10]=false
set Ob[11]=false
set Ob[12]=false
set Ob[13]=false
set Ob[14]=false
set Ob[15]=false
set Ob[16]=false
set Ab[0]=true
set Ab[1]=true
set Ab[2]=true
set Ab[3]=true
set Ab[4]=true
set Ab[5]=true
set Ab[6]=true
set Ab[7]=true
set Ab[8]=true
set Ab[9]=true
set Ab[10]=true
set Ab[11]=true
set Ab[12]=true
set Ab[13]=true
set Ab[14]=true
set Ab[15]=true
set Ab[16]=true
set OT[GetPlayerId(Z7[1])]=false
set OT[GetPlayerId(Z7[2])]=false
set OT[GetPlayerId(Z7[3])]=false
set OT[GetPlayerId(Z7[4])]=false
set OT[GetPlayerId(Z7[5])]=false
set OT[GetPlayerId(A7[1])]=false
set OT[GetPlayerId(A7[2])]=false
set OT[GetPlayerId(A7[3])]=false
set OT[GetPlayerId(A7[4])]=false
set OT[GetPlayerId(A7[5])]=false
call SY9()
set Nb[0]=false
set Nb[1]=false
set Nb[2]=false
set Nb[3]=false
set Nb[4]=false
set Nb[5]=false
set Nb[6]=false
set Nb[7]=false
set Nb[8]=false
set Nb[9]=false
set Nb[10]=false
set Nb[11]=false
set Nb[12]=false
set Nb[13]=false
set Nb[14]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed6.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed6.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed7.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed6.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed6.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed7.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed8.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed1.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed2.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed3.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed4.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed5.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed6.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed7.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed8.wav"
set db[Fb]=false
set Fb=Fb+1
set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed9.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed1.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed2.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed3.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed4.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed5.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed1.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed2.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed3.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed4.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed5.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed6.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed7.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed1.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed2.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed3.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed4.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed1.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed2.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed3.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed4.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed5.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed6.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed7.wav"
set db[Fb]=false
set Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed8.wav"
set db[Fb]=false
set RT[0]=false
set RT[1]=false
set RT[2]=false
set RT[3]=false
set RT[4]=false
set RT[5]=false
set RT[6]=false
set RT[7]=false
set RT[8]=false
set RT[9]=false
set RT[10]=false
set RT[11]=false
set RT[12]=false
set RT[13]=false
set t=CreateTrigger()
set UC7=GetHandleId(t)
call TriggerRegisterTimerEvent(t,0.02,true)
call TriggerAddCondition(t,Condition(function TM9))
call TR7(UC7,"T_CurrentX",(0)*1.0)
call TR7(UC7,"T_CurrentY",(0)*1.0)
call TR7(UC7,"T_MaxX",(160)*1.0)
set fb[0]=false
set fb[1]=false
set fb[2]=false
set fb[3]=false
set fb[4]=false
set fb[5]=false
set fb[6]=false
set fb[7]=false
set fb[8]=false
set fb[9]=false
set fb[10]=false
set fb[11]=false
set fb[12]=false
set t=null
set t=CreateTrigger()
call TriggerAddAction(t,function VD9)
call TriggerAddCondition(t,Condition(function TS9))
set ZT4=t
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,0.01,false)
call TriggerAddCondition(t,Condition(function VE9))
set t=null
if V8 then
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,1.,true)
call TriggerAddCondition(t,Condition(function XW9))
endif
set t=null
set Tj=CreateTrigger()
call TriggerRegisterTimerExpireEvent(Tj,A[1])
call TriggerAddAction(Tj,function XC9)
set Uj=CreateTrigger()
call TriggerRegisterTimerExpireEvent(Uj,A[2])
call TriggerAddAction(Uj,function X39)
set wj=CreateTrigger()
call TriggerRegisterTimerExpireEvent(wj,A[3])
call TriggerAddAction(wj,function X69)
set zj=CreateTrigger()
call TriggerRegisterTimerExpireEvent(zj,A[4])
call TriggerAddAction(zj,function XL9)
set Zj=CreateTrigger()
call TriggerRegisterTimerExpireEvent(Zj,A[5])
call TriggerAddAction(Zj,function X19)
set vJ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(vJ,A[7])
call TriggerAddAction(vJ,function X09)
set eJ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(eJ,A[8])
call TriggerAddAction(eJ,function X59)
set xJ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(xJ,A[9])
call TriggerAddAction(xJ,function X29)
set oJ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(oJ,A[10])
call TriggerAddAction(oJ,function X_9)
set iJ=CreateTrigger()
call TriggerRegisterTimerExpireEvent(iJ,A[11])
call TriggerAddAction(iJ,function Y49)
call IUH()
call IVH()
call IWH()
call IXH()
set OJ=CreateTrigger()
call D18(OJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OJ,Condition(function W6D))
call TriggerAddAction(OJ,function WLD)
set t=CreateTrigger()
set SAD=CreateRegion()
call RegionAddRect(SAD,GetWorldBounds())
call TriggerRegisterEnterRegion(t,SAD,Condition(function ZV7))
call TriggerAddCondition(t,Condition(function Y1F))
set BS[1]=1093686867
set BS[2]=1093686859
set BS[3]=1093686865
set BS[4]=1093687372
set BS[5]=1093686861
set BS[6]=1093686862
set BS[7]=1093686863
set BS[8]=1093686864
set BS[9]=1093686855
set BS[10]=1093686874
set t=null
set SAD=null
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function T0G))
set t=null
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(t,function CNE)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call D18(t,EVENT_PLAYER_UNIT_DROP_ITEM)
call D18(t,EVENT_PLAYER_UNIT_PAWN_ITEM)
call TriggerAddCondition(t,Condition(function T2G))
set SV4=t
set t=null
set bj[GetPlayerId(Z7[1])]=false
set bj[GetPlayerId(Z7[2])]=false
set bj[GetPlayerId(Z7[3])]=false
set bj[GetPlayerId(Z7[4])]=false
set bj[GetPlayerId(Z7[5])]=false
set bj[GetPlayerId(A7[1])]=false
set bj[GetPlayerId(A7[2])]=false
set bj[GetPlayerId(A7[3])]=false
set bj[GetPlayerId(A7[4])]=false
set bj[GetPlayerId(A7[5])]=false
set NU[0]=GetRandomInt(1,2)
set NU[1]=GetRandomInt(1,2)
set NU[2]=GetRandomInt(1,2)
set NU[3]=GetRandomInt(1,2)
set NU[4]=GetRandomInt(1,2)
set NU[5]=GetRandomInt(1,2)
set NU[6]=GetRandomInt(1,2)
set NU[7]=GetRandomInt(1,2)
set NU[8]=GetRandomInt(1,2)
set NU[9]=GetRandomInt(1,2)
set NU[10]=GetRandomInt(1,2)
set NU[11]=GetRandomInt(1,2)
set NU[12]=GetRandomInt(1,2)
set NU[13]=GetRandomInt(1,2)
set NU[14]=GetRandomInt(1,2)
set NU[15]=GetRandomInt(1,2)
set EL7[0]=254
set EL7[1]=255
set EL7[2]=257
set EL7[3]=261
set EL7[4]=259
set EL7[5]=262
set EL7[6]=260
set EL7[7]=253
set EL7[8]=256
set EL7[9]=258
set t=CreateTrigger()
call TriggerRegisterTimerEvent(t,15.,false)
call TriggerAddAction(t,function WW9)
set EV7=CreateTrigger()
call DisableTrigger(EV7)
call TriggerRegisterTimerEvent(EV7,FS7,true)
call TriggerAddAction(EV7,function H8F)
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t,function PMG)
call TriggerRegisterTimerEventPeriodic(HK,5.)
call TriggerAddAction(HK,function DEF)
call TriggerRegisterTimerEventPeriodic(QZ4,5.)
call TriggerAddAction(QZ4,function JLF)
call DisableTrigger(QZ4)
call TriggerRegisterTimerEventPeriodic(Hn,1.)
call TriggerAddAction(Hn,function P4F)
call TriggerRegisterTimerEventPeriodic(HN,1.)
call TriggerAddAction(HN,function P9F)
call TriggerRegisterTimerEventPeriodic(Ho,2.)
call TriggerAddAction(Ho,function PIF)
call DisableTrigger(QB4)
call TriggerRegisterTimerEventPeriodic(QB4,2.)
call TriggerAddAction(QB4,function U8F)
set t=CreateTrigger()
call ky(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(t,function HDF)
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,JA4,700.,null)
call TriggerAddCondition(t,Condition(function D6))
call TriggerAddAction(t,function ISF)
set t=CreateTrigger()
call TriggerRegisterUnitInRange(t,IZ4,700.,null)
call TriggerAddCondition(t,Condition(function C6))
call TriggerAddAction(t,function IVF)
call DisableTrigger(QC4)
call TriggerRegisterTimerEventPeriodic(QC4,120.)
call TriggerAddAction(QC4,function WBF)
set PB4=12
set PC4=12
call H0F()
if GetPlayerController(Z7[1])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[2])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[3])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[4])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[5])==MAP_CONTROL_COMPUTER or GetPlayerController(A7[1])==MAP_CONTROL_COMPUTER or GetPlayerController(A7[2])==MAP_CONTROL_COMPUTER or GetPlayerController(A7[3])==MAP_CONTROL_COMPUTER or GetPlayerController(A7[4])==MAP_CONTROL_COMPUTER or GetPlayerController(A7[5])==MAP_CONTROL_COMPUTER then
call DisplayTimedTextToPlayer(Le,0,0,10.,F07+GetObjectName(1496332600))
call DisplayTimedTextToPlayer(Le,0,0,10.,F07+GetObjectName(1496332601))
call DisplayTimedTextToPlayer(Le,0,0,10," ")
endif
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(t,Condition(function YBF))
set t=CreateTrigger()
call D18(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t,Condition(function T6G))
call ExecuteFunc("IM8")
set t=null
call ExecuteFunc("P97")
call OF7()
endfunction
function config takes nothing returns nothing
call SetMapName("TRIGSTR_50000")
call SetMapDescription("TRIGSTR_50001")
call SetPlayers(10)
call SetTeams(10)
call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
call DefineStartLocation(0,-6990.0,6840.0)
call DefineStartLocation(1,-6990.0,6840.0)
call DefineStartLocation(2,-6990.0,6840.0)
call DefineStartLocation(3,-6990.0,6840.0)
call DefineStartLocation(4,-6990.0,6840.0)
call DefineStartLocation(5,-6990.0,6840.0)
call DefineStartLocation(6,-6990.0,6840.0)
call DefineStartLocation(7,-6990.0,6840.0)
call DefineStartLocation(8,-6990.0,6840.0)
call DefineStartLocation(9,-6990.0,6840.0)
call SetPlayerStartLocation(Player(1),0)
call ForcePlayerStartLocation(Player(1),0)
call SetPlayerColor(Player(1),ConvertPlayerColor(1))
call SetPlayerRacePreference(Player(1),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(1),false)
call SetPlayerController(Player(1),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(2),1)
call ForcePlayerStartLocation(Player(2),1)
call SetPlayerColor(Player(2),ConvertPlayerColor(2))
call SetPlayerRacePreference(Player(2),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(2),false)
call SetPlayerController(Player(2),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(3),2)
call ForcePlayerStartLocation(Player(3),2)
call SetPlayerColor(Player(3),ConvertPlayerColor(3))
call SetPlayerRacePreference(Player(3),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(3),false)
call SetPlayerController(Player(3),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(4),3)
call ForcePlayerStartLocation(Player(4),3)
call SetPlayerColor(Player(4),ConvertPlayerColor(4))
call SetPlayerRacePreference(Player(4),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(4),false)
call SetPlayerController(Player(4),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(5),4)
call ForcePlayerStartLocation(Player(5),4)
call SetPlayerColor(Player(5),ConvertPlayerColor(5))
call SetPlayerRacePreference(Player(5),RACE_PREF_NIGHTELF)
call SetPlayerRaceSelectable(Player(5),false)
call SetPlayerController(Player(5),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(7),5)
call ForcePlayerStartLocation(Player(7),5)
call SetPlayerColor(Player(7),ConvertPlayerColor(7))
call SetPlayerRacePreference(Player(7),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(7),false)
call SetPlayerController(Player(7),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(8),6)
call ForcePlayerStartLocation(Player(8),6)
call SetPlayerColor(Player(8),ConvertPlayerColor(8))
call SetPlayerRacePreference(Player(8),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(8),false)
call SetPlayerController(Player(8),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(9),7)
call ForcePlayerStartLocation(Player(9),7)
call SetPlayerColor(Player(9),ConvertPlayerColor(9))
call SetPlayerRacePreference(Player(9),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(9),false)
call SetPlayerController(Player(9),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(10),8)
call ForcePlayerStartLocation(Player(10),8)
call SetPlayerColor(Player(10),ConvertPlayerColor(10))
call SetPlayerRacePreference(Player(10),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(10),false)
call SetPlayerController(Player(10),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(11),9)
call ForcePlayerStartLocation(Player(11),9)
call SetPlayerColor(Player(11),ConvertPlayerColor(11))
call SetPlayerRacePreference(Player(11),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(11),false)
call SetPlayerController(Player(11),MAP_CONTROL_USER)
call InitCustomTeams()
call SetPlayerAlliance(Player(15),Player(1),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(2),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(3),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(4),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(5),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(7),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(8),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(9),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(10),ConvertAllianceType(6),true)
call SetPlayerAlliance(Player(15),Player(11),ConvertAllianceType(6),true)
call SetStartLocPrioCount(0,9)
call SetStartLocPrio(0,0,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(1,9)
call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(2,9)
call SetStartLocPrio(2,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(3,9)
call SetStartLocPrio(3,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(4,9)
call SetStartLocPrio(4,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(5,9)
call SetStartLocPrio(5,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(6,9)
call SetStartLocPrio(6,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(7,9)
call SetStartLocPrio(7,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(8,9)
call SetStartLocPrio(8,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,7,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(9,9)
call SetStartLocPrio(9,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,7,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,8,8,MAP_LOC_PRIO_HIGH)
call PlayMusic("Sound\\Music\\mp3Music\\PH1.mp3")
endfunction
